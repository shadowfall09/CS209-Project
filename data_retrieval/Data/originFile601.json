{"items":[{"tags":["java","image","blob"],"comments":[{"owner":{"account_id":5770284,"reputation":595,"user_id":4553898,"accept_rate":83,"display_name":"thaveethu gce"},"score":0,"creation_date":1526748841,"post_id":50427495,"comment_id":87869731,"body_markdown":"refer https://stackoverflow.com/questions/27846062/convert-blob-to-jpg-and-update-blob","body":"refer <a href=\"https://stackoverflow.com/questions/27846062/convert-blob-to-jpg-and-update-blob\" title=\"convert blob to jpg and update blob\">stackoverflow.com/questions/27846062/&hellip;</a>"},{"owner":{"account_id":258187,"reputation":1540,"user_id":540195,"accept_rate":18,"display_name":"Amit"},"score":0,"creation_date":1526748850,"post_id":50427495,"comment_id":87869737,"body_markdown":"First convert Blob to BufferedImage then BufferedImage to Image...","body":"First convert Blob to BufferedImage then BufferedImage to Image..."}],"answers":[{"comments":[{"owner":{"account_id":231518,"reputation":32297,"user_id":495796,"accept_rate":79,"display_name":"Robin Green"},"score":2,"creation_date":1526749652,"post_id":50427548,"comment_id":87869968,"body_markdown":"This is unnecessarily complicated, it&#39;s just a bunch of bytes which can be written to disk.","body":"This is unnecessarily complicated, it&#39;s just a bunch of bytes which can be written to disk."},{"owner":{"account_id":258187,"reputation":1540,"user_id":540195,"accept_rate":18,"display_name":"Amit"},"score":0,"creation_date":1526749923,"post_id":50427548,"comment_id":87870048,"body_markdown":"@RobinGreen, I know its not a good solution but its workable.","body":"@RobinGreen, I know its not a good solution but its workable."}],"tags":[],"owner":{"account_id":258187,"reputation":1540,"user_id":540195,"accept_rate":18,"display_name":"Amit"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1666705772,"creation_date":1526748932,"answer_id":50427548,"question_id":50427495,"body_markdown":"First convert the Blob to BuffededImage:\r\n\r\n    Blob aBlob = rs.getBlob(&quot;Photo&quot;);\r\n    InputStream is = aBlob.getBinaryStream(1, aBlob.length());\r\n    BufferedImage image=ImageIO.read(is);\r\n\r\nThen BufferedImage to Image:\r\n\r\n    try {\r\n        // Retrieve Image\r\n        File outputfile = new File(&quot;saved.png&quot;);\r\n        ImageIO.write(image, &quot;png&quot;, outputfile); // Write the Buffered Image into an output file\r\n        Image image  = ImageIO.read(new File(&quot;saved.png&quot;)); // Opening again as an Image\r\n    } catch (IOException e) {\r\n        ...\r\n    }","title":"Java BLOB to image file","body":"<p>First convert the Blob to BuffededImage:</p>\n<pre><code>Blob aBlob = rs.getBlob(&quot;Photo&quot;);\nInputStream is = aBlob.getBinaryStream(1, aBlob.length());\nBufferedImage image=ImageIO.read(is);\n</code></pre>\n<p>Then BufferedImage to Image:</p>\n<pre><code>try {\n    // Retrieve Image\n    File outputfile = new File(&quot;saved.png&quot;);\n    ImageIO.write(image, &quot;png&quot;, outputfile); // Write the Buffered Image into an output file\n    Image image  = ImageIO.read(new File(&quot;saved.png&quot;)); // Opening again as an Image\n} catch (IOException e) {\n    ...\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":12178513,"reputation":258,"user_id":8890821,"display_name":"Deyan koba"},"score":1,"creation_date":1526750310,"post_id":50427686,"comment_id":87870153,"body_markdown":"works perfectly and easy to understand, thank you so much!","body":"works perfectly and easy to understand, thank you so much!"}],"tags":[],"owner":{"account_id":1344877,"reputation":845,"user_id":1285830,"display_name":"pulkit-singhal"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1526749840,"creation_date":1526749840,"answer_id":50427686,"question_id":50427495,"body_markdown":"`imageBlob` is storing the base64 representation of your image data. For storing that onto your disk you need to decode that base64 representation into the original binary format representation.\r\n\r\n    // Imports required\r\n    import java.util.Base64\r\n    import java.io.ByteArrayInputStream;\r\n    import java.io.File;\r\n    import javax.imageio.ImageIO;\r\n\r\n    String imageData = &quot;data:image/png;base64,iVBORw0KGgoAAAANSUhE....&quot;;\r\n    String base64Data = imageData.split(&quot;,&quot;)[1]\r\n\r\n    byte[] decodedBytes = Base64.getDecoder().decode(base64Data);\r\n    ByteArrayInputStream bis = new ByteArrayInputStream(decodedBytes);\r\n    BufferedImage image = ImageIO.read(bis);\r\n\r\n    File outputFile = new File(&quot;output.png&quot;);\r\n    ImageIO.write(image, &quot;png&quot;, outputFile);    \r\n\r\n\r\n","title":"Java BLOB to image file","body":"<p><code>imageBlob</code> is storing the base64 representation of your image data. For storing that onto your disk you need to decode that base64 representation into the original binary format representation.</p>\n\n<pre><code>// Imports required\nimport java.util.Base64\nimport java.io.ByteArrayInputStream;\nimport java.io.File;\nimport javax.imageio.ImageIO;\n\nString imageData = \"data:image/png;base64,iVBORw0KGgoAAAANSUhE....\";\nString base64Data = imageData.split(\",\")[1]\n\nbyte[] decodedBytes = Base64.getDecoder().decode(base64Data);\nByteArrayInputStream bis = new ByteArrayInputStream(decodedBytes);\nBufferedImage image = ImageIO.read(bis);\n\nFile outputFile = new File(\"output.png\");\nImageIO.write(image, \"png\", outputFile);    \n</code></pre>\n"}],"owner":{"account_id":12178513,"reputation":258,"user_id":8890821,"display_name":"Deyan koba"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15613,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":50427686,"answer_count":2,"score":1,"last_activity_date":1678055803,"creation_date":1526748603,"question_id":50427495,"body_markdown":"I have a [`Blob`][1] object retrieved from a MySQL database by calling [`ResultSet.getBlob`][2].\r\n\r\n    Blob imageBlob;\r\n    while (rs.next()) {\r\n        imageBlob= rs.getBlob(&quot;face&quot;);\r\n    }\r\n\r\nafter that my `imageBlob` is something like this: `data:image/png;base64,iVBORw0KGgoAAAANSUhE................`\r\n\r\nI&#39;ve been googling around but I haven&#39;t found any solution to my problem: how do I create an image file and save it on the disk from this BLOB?\r\n \r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/19/docs/api/java.sql/java/sql/Blob.html\r\n  [2]: https://docs.oracle.com/en/java/javase/19/docs/api/java.sql/java/sql/ResultSet.html#getBlob(int)","title":"Java BLOB to image file","body":"<p>I have a <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.sql/java/sql/Blob.html\" rel=\"nofollow noreferrer\"><code>Blob</code></a> object retrieved from a MySQL database by calling <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.sql/java/sql/ResultSet.html#getBlob(int)\" rel=\"nofollow noreferrer\"><code>ResultSet.getBlob</code></a>.</p>\n<pre><code>Blob imageBlob;\nwhile (rs.next()) {\n    imageBlob= rs.getBlob(&quot;face&quot;);\n}\n</code></pre>\n<p>after that my <code>imageBlob</code> is something like this: <code>data:image/png;base64,iVBORw0KGgoAAAANSUhE................</code></p>\n<p>I've been googling around but I haven't found any solution to my problem: how do I create an image file and save it on the disk from this BLOB?</p>\n"},{"tags":["java","windows","shell","android-studio","command"],"answers":[{"comments":[{"owner":{"account_id":19231342,"reputation":391,"user_id":14053128,"display_name":"Web Development Labs"},"score":0,"creation_date":1606253263,"post_id":52014605,"comment_id":114907363,"body_markdown":"I tried this, but it then says &quot;&#39;keytool&#39; is not recognized as an internal or external command,\noperable program or batch file.&quot;","body":"I tried this, but it then says &quot;&#39;keytool&#39; is not recognized as an internal or external command, operable program or batch file.&quot;"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1606254300,"post_id":52014605,"comment_id":114907748,"body_markdown":"@WebDevelopmentLabs that means that `keytool` is not on your path. You can work around it by supplying the full path to the keytool executable (something like `&quot;C:\\Program Files\\Java\\jdk-11\\bin\\keytool.exe&quot;`","body":"@WebDevelopmentLabs that means that <code>keytool</code> is not on your path. You can work around it by supplying the full path to the keytool executable (something like <code>&quot;C:\\Program Files\\Java\\jdk-11\\bin\\keytool.exe&quot;</code>"}],"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1535178257,"creation_date":1535178257,"answer_id":52014605,"question_id":52014464,"body_markdown":"Your command should be on one line without the backslash:\r\n\r\n    keytool -exportcert -list -v -alias &lt;your-key-name&gt; -keystore &lt;path-to-production-keystore&gt;\r\n","title":"&#39;-alias&#39; is not recognized as an internal or external command, operable program or batch file","body":"<p>Your command should be on one line without the backslash:</p>\n\n<pre><code>keytool -exportcert -list -v -alias &lt;your-key-name&gt; -keystore &lt;path-to-production-keystore&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13532377,"reputation":41,"user_id":9762461,"display_name":"Vachan Nagar"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1613737763,"creation_date":1613482882,"answer_id":66225476,"question_id":52014464,"body_markdown":"    keytool -list -v -alias androiddebugkey -keystore %USERPROFILE%\\.android\\debug.keystore\r\n\r\nAfter that\r\n\r\n**Password: android**","title":"&#39;-alias&#39; is not recognized as an internal or external command, operable program or batch file","body":"<pre><code>keytool -list -v -alias androiddebugkey -keystore %USERPROFILE%\\.android\\debug.keystore\n</code></pre>\n<p>After that</p>\n<p><strong>Password: android</strong></p>\n"},{"tags":[],"owner":{"account_id":26089447,"reputation":1,"user_id":19786554,"display_name":"Anas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660902980,"creation_date":1660886748,"answer_id":73412177,"question_id":52014464,"body_markdown":"~~~\r\nkeytool -list -v -alias androiddebugkey -keystore &quot;%USERPROFILE%/.android/debug.keystore&quot;\r\n~~~\r\nTry this","title":"&#39;-alias&#39; is not recognized as an internal or external command, operable program or batch file","body":"<pre><code>keytool -list -v -alias androiddebugkey -keystore &quot;%USERPROFILE%/.android/debug.keystore&quot;\n</code></pre>\n<p>Try this</p>\n"},{"comments":[{"owner":{"account_id":19501442,"reputation":2332,"user_id":14267427,"display_name":"Tyler2P"},"score":0,"creation_date":1667763029,"post_id":74306641,"comment_id":131239331,"body_markdown":"Remember that Stack Overflow isn&#39;t just intended to solve the immediate problem, but also to help future readers find solutions to similar problems, which requires understanding the underlying code. This is especially important for members of our community who are beginners, and not familiar with the syntax. Given that, **can you [edit] your answer to include an explanation of what you&#39;re doing** and why you believe it is the best approach?","body":"Remember that Stack Overflow isn&#39;t just intended to solve the immediate problem, but also to help future readers find solutions to similar problems, which requires understanding the underlying code. This is especially important for members of our community who are beginners, and not familiar with the syntax. Given that, <b>can you <a href=\"https://stackoverflow.com/posts/74306641/edit\">edit</a> your answer to include an explanation of what you&#39;re doing</b> and why you believe it is the best approach?"},{"owner":{"account_id":26162619,"reputation":9,"user_id":19848889,"display_name":"Anselem Chijioke"},"score":0,"creation_date":1667767839,"post_id":74306641,"comment_id":131240368,"body_markdown":"Whether you use either of the code it will still work I have been stocked with that issue but when I use the code I was able to generate the key","body":"Whether you use either of the code it will still work I have been stocked with that issue but when I use the code I was able to generate the key"}],"tags":[],"owner":{"account_id":26162619,"reputation":9,"user_id":19848889,"display_name":"Anselem Chijioke"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667768006,"creation_date":1667493567,"answer_id":74306641,"question_id":52014464,"body_markdown":"**I used this code and it works for me you can also try it for fast resolution or keep on trying the formal thank you**\r\n\r\n    keytool -list -v -keystore %USERPROFILE%\\.android\\debug.keystore \r\n    -alias androiddebugkey","title":"&#39;-alias&#39; is not recognized as an internal or external command, operable program or batch file","body":"<p><strong>I used this code and it works for me you can also try it for fast resolution or keep on trying the formal thank you</strong></p>\n<pre><code>keytool -list -v -keystore %USERPROFILE%\\.android\\debug.keystore \n-alias androiddebugkey\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27595799,"reputation":199,"user_id":21062064,"display_name":"Ebuzer SARIYERLİOĞLU"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678055599,"creation_date":1678055599,"answer_id":75645766,"question_id":52014464,"body_markdown":"2023 solution..\r\n\r\n\r\n    cd C:\\Program Files\\Java\\jdk-19\\bin\r\n\r\nand\r\n\r\n    keytool -list -v -keystore %USERPROFILE%\\.android\\debug.keystore -alias androiddebugkey -storepass android -keypass android\r\n\r\n\r\nthats all..","title":"&#39;-alias&#39; is not recognized as an internal or external command, operable program or batch file","body":"<p>2023 solution..</p>\n<pre><code>cd C:\\Program Files\\Java\\jdk-19\\bin\n</code></pre>\n<p>and</p>\n<pre><code>keytool -list -v -keystore %USERPROFILE%\\.android\\debug.keystore -alias androiddebugkey -storepass android -keypass android\n</code></pre>\n<p>thats all..</p>\n"}],"owner":{"account_id":14219471,"reputation":13,"user_id":10272256,"display_name":"N Wani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8499,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":52014605,"answer_count":5,"score":1,"last_activity_date":1678055599,"creation_date":1535176696,"question_id":52014464,"body_markdown":"I am trying to run this command on terminal -\r\nkeytool -exportcert -list -v \\\r\n-alias &amp;lt;your-key-name&gt; -keystore &amp;lt;path-to-production-keystore&gt;\r\n\r\nafter putting keyname and key path I am getting this error -\r\n&#39;-alias&#39; is not recognized as an internal or external command,\r\noperable program or batch file.","title":"&#39;-alias&#39; is not recognized as an internal or external command, operable program or batch file","body":"<p>I am trying to run this command on terminal -\nkeytool -exportcert -list -v \\\n-alias &lt;your-key-name> -keystore &lt;path-to-production-keystore></p>\n\n<p>after putting keyname and key path I am getting this error -\n'-alias' is not recognized as an internal or external command,\noperable program or batch file.</p>\n"},{"tags":["java","gradle","intellij-idea","junit5"],"comments":[{"owner":{"account_id":377596,"reputation":5231,"user_id":729819,"accept_rate":83,"display_name":"Ben Watson"},"score":0,"creation_date":1581691486,"post_id":60228404,"comment_id":106532336,"body_markdown":"What&#39;s your Gradle version, and can you run the test from the command line?","body":"What&#39;s your Gradle version, and can you run the test from the command line?"},{"owner":{"account_id":377596,"reputation":5231,"user_id":729819,"accept_rate":83,"display_name":"Ben Watson"},"score":2,"creation_date":1581691701,"post_id":60228404,"comment_id":106532450,"body_markdown":"And have you tried adding `testRuntimeOnly(&quot;org.junit.jupiter:junit-jupiter-engine:5.6.0&quot;)`","body":"And have you tried adding <code>testRuntimeOnly(&quot;org.junit.jupiter:junit-jupiter-engine:5.6.&zwnj;&#8203;0&quot;)</code>"},{"owner":{"account_id":4308345,"reputation":885,"user_id":3520153,"accept_rate":50,"display_name":"Arrovil"},"score":1,"creation_date":1581694432,"post_id":60228404,"comment_id":106533771,"body_markdown":"@BenWatson thanks for help! I read more about JUnit5 last versions and find out that from 5.4.0 it has aggregated artifact &quot;junit-jupiter&quot; (it is more suitable for me) which included both api and engine. It seems that &quot;engine&quot; has been loaded from some other dependency in my main project.","body":"@BenWatson thanks for help! I read more about JUnit5 last versions and find out that from 5.4.0 it has aggregated artifact &quot;junit-jupiter&quot; (it is more suitable for me) which included both api and engine. It seems that &quot;engine&quot; has been loaded from some other dependency in my main project."},{"owner":{"account_id":15361,"reputation":4976,"user_id":32352,"accept_rate":62,"display_name":"johanneslink"},"score":0,"creation_date":1581753093,"post_id":60228404,"comment_id":106548308,"body_markdown":"So does it work with the aggregate artefact?","body":"So does it work with the aggregate artefact?"},{"owner":{"account_id":4308345,"reputation":885,"user_id":3520153,"accept_rate":50,"display_name":"Arrovil"},"score":0,"creation_date":1581931493,"post_id":60228404,"comment_id":106588288,"body_markdown":"@johanneslink Yes, I can run my tests with aggregate artifact. I&#39;ve added and accepted answer to this question.","body":"@johanneslink Yes, I can run my tests with aggregate artifact. I&#39;ve added and accepted answer to this question."},{"owner":{"account_id":1096311,"reputation":2246,"user_id":1089841,"accept_rate":33,"display_name":"Girish"},"score":0,"creation_date":1628173489,"post_id":60228404,"comment_id":121354904,"body_markdown":"@BenWatson I am using Junit 4.13.1, how to resolve this","body":"@BenWatson I am using Junit 4.13.1, how to resolve this"},{"owner":{"account_id":9942973,"reputation":2671,"user_id":7389315,"accept_rate":73,"display_name":"jjoselon"},"score":0,"creation_date":1676842529,"post_id":60228404,"comment_id":133214122,"body_markdown":"https://www.positioniseverything.net/no-tests-found-for-given-includes/","body":"<a href=\"https://www.positioniseverything.net/no-tests-found-for-given-includes/\" rel=\"nofollow noreferrer\">positioniseverything.net/no-tests-found-for-given-includes</a>"}],"answers":[{"comments":[{"owner":{"account_id":1431609,"reputation":189,"user_id":1353912,"display_name":"Georgi"},"score":1,"creation_date":1586449366,"post_id":60259274,"comment_id":108138313,"body_markdown":"Strangely, your solution didn&#39;t work for me and I have quite similar setup to yours. As a work-around I created manually a JUnit IntelliJ configuration ... but is not cool :/","body":"Strangely, your solution didn&#39;t work for me and I have quite similar setup to yours. As a work-around I created manually a JUnit IntelliJ configuration ... but is not cool :/"},{"owner":{"account_id":1033633,"reputation":7977,"user_id":1041442,"accept_rate":75,"display_name":"Jilles van Gurp"},"score":0,"creation_date":1594371456,"post_id":60259274,"comment_id":111108408,"body_markdown":"I had to reopen the project. Intellij has loads of caching bugs that require stuff like this. Basically the gradle sync did not fix the project setup until it reopened the project.","body":"I had to reopen the project. Intellij has loads of caching bugs that require stuff like this. Basically the gradle sync did not fix the project setup until it reopened the project."}],"tags":[],"owner":{"account_id":4308345,"reputation":885,"user_id":3520153,"accept_rate":50,"display_name":"Arrovil"},"comment_count":2,"down_vote_count":1,"up_vote_count":17,"is_accepted":true,"score":16,"last_activity_date":1581931390,"creation_date":1581931390,"answer_id":60259274,"question_id":60228404,"body_markdown":"Thanks to [Ben Watson][1] I&#39;ve found solution. Since JUnit 5.4.0 there is aggregate artifact with both api and engine dependencies. So just adding one dependency to build.gradle resolved this issue.\r\n\r\n```java\r\ntestCompile (&#39;org.junit.jupiter:junit-jupiter:5.6.0&#39;)\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/729819/ben-watson","title":"&quot;No tests found for given includes&quot; when running Gradle tests in IntelliJ IDEA","body":"<p>Thanks to <a href=\"https://stackoverflow.com/users/729819/ben-watson\">Ben Watson</a> I've found solution. Since JUnit 5.4.0 there is aggregate artifact with both api and engine dependencies. So just adding one dependency to build.gradle resolved this issue.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>testCompile ('org.junit.jupiter:junit-jupiter:5.6.0')\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18255178,"reputation":11,"user_id":13289290,"display_name":"mrwwhitney"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1586633805,"creation_date":1586633805,"answer_id":61162637,"question_id":60228404,"body_markdown":"Gradle is case sensitive in choosing its selector. [See here][1] You may need to change &quot;GradleTests&quot; to &quot;gradleTests&quot;\r\n\r\n\r\n  [1]: https://github.com/gradle/gradle/blob/master/subprojects/testing-base/src/main/java/org/gradle/api/internal/tasks/testing/filter/TestSelectionMatcher.java#L152","title":"&quot;No tests found for given includes&quot; when running Gradle tests in IntelliJ IDEA","body":"<p>Gradle is case sensitive in choosing its selector. <a href=\"https://github.com/gradle/gradle/blob/master/subprojects/testing-base/src/main/java/org/gradle/api/internal/tasks/testing/filter/TestSelectionMatcher.java#L152\" rel=\"nofollow noreferrer\">See here</a> You may need to change \"GradleTests\" to \"gradleTests\"</p>\n"},{"comments":[{"owner":{"account_id":979189,"reputation":725,"user_id":1866010,"accept_rate":67,"display_name":"Calabacin"},"score":6,"creation_date":1592831630,"post_id":61357918,"comment_id":110557040,"body_markdown":"The only solution that worked for me. I guess gradle plugin is broken","body":"The only solution that worked for me. I guess gradle plugin is broken"},{"owner":{"account_id":7491687,"reputation":905,"user_id":5693152,"display_name":"geneSummons"},"score":0,"creation_date":1618962328,"post_id":61357918,"comment_id":118760061,"body_markdown":"3. Run tests using Intellij IDEA  -- and run the test -- your &quot;problem&quot; will still be there and the test will fail.  But Intellij will give you more &quot;output&quot;.  In my case, the stupid test author (me) forgot to give the test a void return type.","body":"3. Run tests using Intellij IDEA  -- and run the test -- your &quot;problem&quot; will still be there and the test will fail.  But Intellij will give you more &quot;output&quot;.  In my case, the stupid test author (me) forgot to give the test a void return type."},{"owner":{"account_id":2373968,"reputation":940,"user_id":2077866,"accept_rate":44,"display_name":"Anton Balashov"},"score":15,"creation_date":1631187054,"post_id":61357918,"comment_id":122158108,"body_markdown":"Seems fresh versions of Android Studio don&#39;t have this parameter there anymore. Any idea?","body":"Seems fresh versions of Android Studio don&#39;t have this parameter there anymore. Any idea?"},{"owner":{"account_id":225440,"reputation":16145,"user_id":485918,"accept_rate":83,"display_name":"Ray"},"score":0,"creation_date":1692971992,"post_id":61357918,"comment_id":135701782,"body_markdown":"This works for me, the default was using Gradle. However why using Gradle does not work? Anyone knows how to make it work using Gradle?","body":"This works for me, the default was using Gradle. However why using Gradle does not work? Anyone knows how to make it work using Gradle?"},{"owner":{"account_id":225440,"reputation":16145,"user_id":485918,"accept_rate":83,"display_name":"Ray"},"score":0,"creation_date":1692972373,"post_id":61357918,"comment_id":135701859,"body_markdown":"To make it work with using Gradle, the answer by Siamak works fine for me, just specify  useJUnitPlatform(), the gradle file was using useJunit()","body":"To make it work with using Gradle, the answer by Siamak works fine for me, just specify  useJUnitPlatform(), the gradle file was using useJunit()"}],"tags":[],"owner":{"account_id":18092031,"reputation":1352,"user_id":13151296,"display_name":"Jonathan Lee"},"comment_count":5,"down_vote_count":0,"up_vote_count":89,"is_accepted":false,"score":89,"last_activity_date":1587533490,"creation_date":1587533490,"answer_id":61357918,"question_id":60228404,"body_markdown":"I had this error with a similar setup, but couldn&#39;t solve it with the previous answers. Resolved it by doing this. \r\n\r\n 1. File &gt; Setting (Ctrl+Alt+S)\r\n 2. Build, Execution, Deployment &gt; Build Tools &gt; gradle\r\n 3. Run Tests using: Intellij IDEA\r\n\r\nAll credit to: https://linked2ev.github.io/devsub/2019/09/30/Intellij-junit4-gradle-issue/. \r\n\r\n","title":"&quot;No tests found for given includes&quot; when running Gradle tests in IntelliJ IDEA","body":"<p>I had this error with a similar setup, but couldn't solve it with the previous answers. Resolved it by doing this. </p>\n\n<ol>\n<li>File > Setting (Ctrl+Alt+S)</li>\n<li>Build, Execution, Deployment > Build Tools > gradle</li>\n<li>Run Tests using: Intellij IDEA</li>\n</ol>\n\n<p>All credit to: <a href=\"https://linked2ev.github.io/devsub/2019/09/30/Intellij-junit4-gradle-issue/\" rel=\"noreferrer\">https://linked2ev.github.io/devsub/2019/09/30/Intellij-junit4-gradle-issue/</a>. </p>\n"},{"tags":[],"owner":{"account_id":136578,"reputation":3188,"user_id":340175,"display_name":"JulianHarty"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1614421543,"creation_date":1614421543,"answer_id":66397788,"question_id":60228404,"body_markdown":"Another cause of this behaviour when using IntelliJ to edit a Kotlin project is the folders used for the tests, Java classes need to be in a subfolder of java and Kotlin classes in a subfolder of kotlin. \r\n\r\nHere&#39;s an example of a mini-project I created which demonstrates the folder structure https://github.com/znsio/AutomatedTestingWithKotlin/tree/main/src/test\r\n\r\nI found the explanation which is quoted below together with the link to the source:\r\n\r\n&quot;*My problem was in single path to kotlin and java tests. So kotlin tests are in `root/src/test/kotlin/package` and they are running fine with `gradle :cleanTest :test` and java tests must be in `root/src/test/java/package`. Otherwise neither `compileTestKotlin` nor `compileTestJava` will not find java tests to compile.*&quot; \r\nhttps://discuss.kotlinlang.org/t/not-able-to-run-unit-tests-on-kotlin-multiplatform-project/15779/7\r\n","title":"&quot;No tests found for given includes&quot; when running Gradle tests in IntelliJ IDEA","body":"<p>Another cause of this behaviour when using IntelliJ to edit a Kotlin project is the folders used for the tests, Java classes need to be in a subfolder of java and Kotlin classes in a subfolder of kotlin.</p>\n<p>Here's an example of a mini-project I created which demonstrates the folder structure <a href=\"https://github.com/znsio/AutomatedTestingWithKotlin/tree/main/src/test\" rel=\"nofollow noreferrer\">https://github.com/znsio/AutomatedTestingWithKotlin/tree/main/src/test</a></p>\n<p>I found the explanation which is quoted below together with the link to the source:</p>\n<p>&quot;<em>My problem was in single path to kotlin and java tests. So kotlin tests are in <code>root/src/test/kotlin/package</code> and they are running fine with <code>gradle :cleanTest :test</code> and java tests must be in <code>root/src/test/java/package</code>. Otherwise neither <code>compileTestKotlin</code> nor <code>compileTestJava</code> will not find java tests to compile.</em>&quot;\n<a href=\"https://discuss.kotlinlang.org/t/not-able-to-run-unit-tests-on-kotlin-multiplatform-project/15779/7\" rel=\"nofollow noreferrer\">https://discuss.kotlinlang.org/t/not-able-to-run-unit-tests-on-kotlin-multiplatform-project/15779/7</a></p>\n"},{"comments":[{"owner":{"account_id":16211805,"reputation":565,"user_id":11705601,"display_name":"Zach"},"score":1,"creation_date":1635729355,"post_id":68933133,"comment_id":123365249,"body_markdown":"Thanks Man - I had to switch out to use `useTestNG` in `build.gradle`","body":"Thanks Man - I had to switch out to use <code>useTestNG</code> in <code>build.gradle</code>"},{"owner":{"account_id":5421563,"reputation":5502,"user_id":4315049,"accept_rate":57,"display_name":"robjwilkins"},"score":0,"creation_date":1671204930,"post_id":68933133,"comment_id":132055677,"body_markdown":"why isnt this a standard gradle feature?!","body":"why isnt this a standard gradle feature?!"}],"tags":[],"owner":{"account_id":6156906,"reputation":1709,"user_id":4799599,"accept_rate":100,"display_name":"Siamak"},"comment_count":2,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1629956937,"creation_date":1629956937,"answer_id":68933133,"question_id":60228404,"body_markdown":"Gradle has no idea where to look for tests. Add this to your app build.gradle file root(Not inside android or dependencies closure):\r\n```\r\ntasks.withType(Test) {\r\n    useJUnitPlatform()\r\n\r\n    testLogging {     // This is for logging and can be removed.\r\n        events(&quot;passed&quot;, &quot;skipped&quot;, &quot;failed&quot;)\r\n    }\r\n}\r\n```","title":"&quot;No tests found for given includes&quot; when running Gradle tests in IntelliJ IDEA","body":"<p>Gradle has no idea where to look for tests. Add this to your app build.gradle file root(Not inside android or dependencies closure):</p>\n<pre><code>tasks.withType(Test) {\n    useJUnitPlatform()\n\n    testLogging {     // This is for logging and can be removed.\n        events(&quot;passed&quot;, &quot;skipped&quot;, &quot;failed&quot;)\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17690391,"reputation":159,"user_id":12842294,"display_name":"Alan Kurniadi"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1639470131,"creation_date":1639470131,"answer_id":70345755,"question_id":60228404,"body_markdown":"/app/build.gradle\r\n\r\n    android {\r\n      testOptions {\r\n        unitTests.all {\r\n          useJUnitPlatform()\r\n        }\r\n      }\r\n    }","title":"&quot;No tests found for given includes&quot; when running Gradle tests in IntelliJ IDEA","body":"<p>/app/build.gradle</p>\n<pre><code>android {\n  testOptions {\n    unitTests.all {\n      useJUnitPlatform()\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6910880,"reputation":504,"user_id":9578492,"display_name":"Yaroslav"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639728626,"creation_date":1639728626,"answer_id":70390102,"question_id":60228404,"body_markdown":"I&#39;ve got an Error: No tests found for given includes: ... (filter.includeTestsMatching).\r\n\r\nAfter I checked JUnit dependency I discovered junit-4.13.1 version.\r\n\r\nFixed with replacing this dependency to org.junit.jupiter.api-5.7.0.","title":"&quot;No tests found for given includes&quot; when running Gradle tests in IntelliJ IDEA","body":"<p>I've got an Error: No tests found for given includes: ... (filter.includeTestsMatching).</p>\n<p>After I checked JUnit dependency I discovered junit-4.13.1 version.</p>\n<p>Fixed with replacing this dependency to org.junit.jupiter.api-5.7.0.</p>\n"},{"tags":[],"owner":{"account_id":5722825,"reputation":39,"user_id":4520769,"display_name":"Tiago Oliveira"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647950844,"creation_date":1647950687,"answer_id":71571780,"question_id":60228404,"body_markdown":"Make sure that the test method is granted public access.","title":"&quot;No tests found for given includes&quot; when running Gradle tests in IntelliJ IDEA","body":"<p>Make sure that the test method is granted public access.</p>\n"},{"tags":[],"owner":{"account_id":4083413,"reputation":522,"user_id":3353323,"display_name":"inder_gt"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1662238978,"creation_date":1662238978,"answer_id":73595393,"question_id":60228404,"body_markdown":"In my case, **I had the wrong import**.\r\n\r\nI needed `import org.junit.jupiter.api.Test;` instead of `import org.junit.Test;`","title":"&quot;No tests found for given includes&quot; when running Gradle tests in IntelliJ IDEA","body":"<p>In my case, <strong>I had the wrong import</strong>.</p>\n<p>I needed <code>import org.junit.jupiter.api.Test;</code> instead of <code>import org.junit.Test;</code></p>\n"},{"tags":[],"owner":{"account_id":4812389,"reputation":1100,"user_id":3885491,"accept_rate":76,"display_name":"Falco Winkler"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668080426,"creation_date":1668080426,"answer_id":74388413,"question_id":60228404,"body_markdown":"After going through all configurations and finding nothing, a simple gradle clean fixed this very persistent issue for me, and i could keep using &quot;run tests with gradle&quot;.\r\n\r\n    ./gradlew :domain:test --tests &quot;...&quot;\r\n    \r\n    \r\n    &gt; Task :domain:test FAILED\r\n    \r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * What went wrong:\r\n    Execution failed for task &#39;:domain:test&#39;.\r\n    \r\n    &gt; No tests found for given includes: ...\r\n\r\n    ./gradlew clean\r\n    ./gradlew :domain:test --tests &quot;...&quot;\r\n    \r\n    \r\n    BUILD SUCCESSFUL in 8s\r\n\r\n","title":"&quot;No tests found for given includes&quot; when running Gradle tests in IntelliJ IDEA","body":"<p>After going through all configurations and finding nothing, a simple gradle clean fixed this very persistent issue for me, and i could keep using &quot;run tests with gradle&quot;.</p>\n<pre><code>./gradlew :domain:test --tests &quot;...&quot;\n\n\n&gt; Task :domain:test FAILED\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':domain:test'.\n\n&gt; No tests found for given includes: ...\n\n./gradlew clean\n./gradlew :domain:test --tests &quot;...&quot;\n\n\nBUILD SUCCESSFUL in 8s\n</code></pre>\n"},{"tags":[],"owner":{"account_id":436363,"reputation":1434,"user_id":823483,"accept_rate":67,"display_name":"bompf"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674639072,"creation_date":1674639072,"answer_id":75231955,"question_id":60228404,"body_markdown":"My problem was the filename that contained the test class did not match the class name. So I had `AppRepositoryTest.kt` with `FetchDataUseCaseTest` test  class inside. Apparently Junit 4 does not like that, so once I made both names the same it started working.","title":"&quot;No tests found for given includes&quot; when running Gradle tests in IntelliJ IDEA","body":"<p>My problem was the filename that contained the test class did not match the class name. So I had <code>AppRepositoryTest.kt</code> with <code>FetchDataUseCaseTest</code> test  class inside. Apparently Junit 4 does not like that, so once I made both names the same it started working.</p>\n"},{"tags":[],"owner":{"account_id":13551922,"reputation":3,"user_id":9776561,"display_name":"hockey_dave"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678054813,"creation_date":1678054813,"answer_id":75645704,"question_id":60228404,"body_markdown":"I accidentally put a .java test file into a kotlin folder and get this same error.  Once I moved the file from src/test/kotlin to src/test/java folder the error went away.  Doh!","title":"&quot;No tests found for given includes&quot; when running Gradle tests in IntelliJ IDEA","body":"<p>I accidentally put a .java test file into a kotlin folder and get this same error.  Once I moved the file from src/test/kotlin to src/test/java folder the error went away.  Doh!</p>\n"}],"owner":{"account_id":4308345,"reputation":885,"user_id":3520153,"accept_rate":50,"display_name":"Arrovil"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60914,"favorite_count":0,"down_vote_count":0,"up_vote_count":49,"accepted_answer_id":60259274,"answer_count":12,"score":49,"last_activity_date":1678054813,"creation_date":1581691029,"question_id":60228404,"body_markdown":"I cannot run tests via Gradle in IntelliJ IDEA because of &quot;No tests found for given includes&quot; error.\r\n\r\nHow can I fix it?\r\n\r\nGradleTests\r\n\r\n``` java\r\nimport org.junit.jupiter.api.Test;\r\n\r\nimport static org.junit.jupiter.api.Assertions.assertTrue;\r\n\r\npublic class GradleTests {\r\n    @Test\r\n    public void initTest() {\r\n        assertTrue(true);\r\n    }\r\n}\r\n```\r\n\r\nbuild.gradle\r\n\r\n    plugins {\r\n        id &#39;java&#39;\r\n    }\r\n    \r\n    group &#39;org.example&#39;\r\n    version &#39;1.0-SNAPSHOT&#39;\r\n    \r\n    sourceCompatibility = 1.8\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n        //testCompile group: &#39;junit&#39;, name: &#39;junit&#39;, version: &#39;4.12&#39;\r\n    \r\n        // https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-api\r\n        testCompile group: &#39;org.junit.jupiter&#39;, name: &#39;junit-jupiter-api&#39;, version: &#39;5.6.0&#39;\r\n    }\r\n    \r\n    test {\r\n        useJUnitPlatform()\r\n    }\r\n\r\nError:\r\n\r\n    &gt; Task :test FAILED\r\n    FAILURE: Build failed with an exception.\r\n    * What went wrong:\r\n    Execution failed for task &#39;:test&#39;.\r\n    &gt; No tests found for given includes: [GradleTests.initTest](filter.includeTestsMatching)\r\n\r\n\r\nSome notes:\r\n\r\n - Issue is reproduced with both JUnit 4 and 5\r\n - IntelliJ IDEA 2019.3.3 (Community Edition), Build #IC-193.6494.35, built on February 11, 2020\r\n - Test is in `src/test/java`\r\n - changing runner like [Intelij 2019.1 update breaks JUnit tests][1] didn&#39;t help\r\n - without `useJUnitPlatform()` result is the same\r\n\r\n  [1]: https://stackoverflow.com/a/55417140/3520153","title":"&quot;No tests found for given includes&quot; when running Gradle tests in IntelliJ IDEA","body":"<p>I cannot run tests via Gradle in IntelliJ IDEA because of \"No tests found for given includes\" error.</p>\n\n<p>How can I fix it?</p>\n\n<p>GradleTests</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import org.junit.jupiter.api.Test;\n\nimport static org.junit.jupiter.api.Assertions.assertTrue;\n\npublic class GradleTests {\n    @Test\n    public void initTest() {\n        assertTrue(true);\n    }\n}\n</code></pre>\n\n<p>build.gradle</p>\n\n<pre><code>plugins {\n    id 'java'\n}\n\ngroup 'org.example'\nversion '1.0-SNAPSHOT'\n\nsourceCompatibility = 1.8\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    //testCompile group: 'junit', name: 'junit', version: '4.12'\n\n    // https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-api\n    testCompile group: 'org.junit.jupiter', name: 'junit-jupiter-api', version: '5.6.0'\n}\n\ntest {\n    useJUnitPlatform()\n}\n</code></pre>\n\n<p>Error:</p>\n\n<pre><code>&gt; Task :test FAILED\nFAILURE: Build failed with an exception.\n* What went wrong:\nExecution failed for task ':test'.\n&gt; No tests found for given includes: [GradleTests.initTest](filter.includeTestsMatching)\n</code></pre>\n\n<p>Some notes:</p>\n\n<ul>\n<li>Issue is reproduced with both JUnit 4 and 5</li>\n<li>IntelliJ IDEA 2019.3.3 (Community Edition), Build #IC-193.6494.35, built on February 11, 2020</li>\n<li>Test is in <code>src/test/java</code></li>\n<li>changing runner like <a href=\"https://stackoverflow.com/a/55417140/3520153\">Intelij 2019.1 update breaks JUnit tests</a> didn't help</li>\n<li>without <code>useJUnitPlatform()</code> result is the same</li>\n</ul>\n"},{"tags":["java","spring","spring-boot","generics"],"owner":{"account_id":20426331,"reputation":13,"user_id":14986254,"display_name":"ekiauhce"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678054329,"creation_date":1678054329,"question_id":75645666,"body_markdown":"I have a set of classes FooX, FooZ, FooY, each with a separate spring component. They all implement the same Foo interface.  \r\n\r\nAnd there is one class `Bar&lt;T extends Foo&gt;` which takes a T type object in the constructor. And the logic of Bar depends only on parameters of the Foo object inside it.\r\n\r\nI want `Bar` to be a bean and be able to inject it into other components like this - `Bar&lt;FooX&gt;`.\r\n\r\nBut what I don&#39;t want - to create for each class `Foo` separate subclass Bar (like `class BarX extends Bar&lt;FooX&gt;`), because it&#39;ll be just copypaste for the sake of copypaste. \r\n\r\nSo the problem: I need to create a bean `Bar&lt;...&gt;` for all existing compents `? extends Foo` and register it in the app context so I can inject by generic type. \r\n\r\nWhat I&#39;ve tried and it didn&#39;t work:\r\n\r\n1.\r\n```\r\n@Configuration\r\nclass Conf {\r\n  @Bean public List&lt;? extends Bar&lt;? extends Foo&gt;&gt; bars(List&lt;? extends Foo&gt; foos) {\r\n    return foos.stream().map(Bar::new).toList();\r\n  }\r\n}\r\n```\r\ncan&#39;t inject something like `Bar&lt;FooX&gt;&gt;` - says bean not found \r\n\r\n2.\r\nTo add this to the first item \r\n```\r\n@Bean &lt;T extends Foo&gt; Bar&lt;T&gt; bar(T foo) { return new Bar&lt;&gt;(foo); }\r\n```\r\nAnd replace with `this::bar` in the map. App context failing with error that there are too many candidates to inject in place of `T foo`.","title":"How to dynamically register spring beans with generic target type","body":"<p>I have a set of classes FooX, FooZ, FooY, each with a separate spring component. They all implement the same Foo interface.</p>\n<p>And there is one class <code>Bar&lt;T extends Foo&gt;</code> which takes a T type object in the constructor. And the logic of Bar depends only on parameters of the Foo object inside it.</p>\n<p>I want <code>Bar</code> to be a bean and be able to inject it into other components like this - <code>Bar&lt;FooX&gt;</code>.</p>\n<p>But what I don't want - to create for each class <code>Foo</code> separate subclass Bar (like <code>class BarX extends Bar&lt;FooX&gt;</code>), because it'll be just copypaste for the sake of copypaste.</p>\n<p>So the problem: I need to create a bean <code>Bar&lt;...&gt;</code> for all existing compents <code>? extends Foo</code> and register it in the app context so I can inject by generic type.</p>\n<p>What I've tried and it didn't work:</p>\n<p>1.</p>\n<pre><code>@Configuration\nclass Conf {\n  @Bean public List&lt;? extends Bar&lt;? extends Foo&gt;&gt; bars(List&lt;? extends Foo&gt; foos) {\n    return foos.stream().map(Bar::new).toList();\n  }\n}\n</code></pre>\n<p>can't inject something like <code>Bar&lt;FooX&gt;&gt;</code> - says bean not found</p>\n<p>2.\nTo add this to the first item</p>\n<pre><code>@Bean &lt;T extends Foo&gt; Bar&lt;T&gt; bar(T foo) { return new Bar&lt;&gt;(foo); }\n</code></pre>\n<p>And replace with <code>this::bar</code> in the map. App context failing with error that there are too many candidates to inject in place of <code>T foo</code>.</p>\n"},{"tags":["java","spring-boot","mapstruct"],"comments":[{"owner":{"account_id":306540,"reputation":1801,"user_id":2695990,"display_name":"fascynacja"},"score":0,"creation_date":1678047256,"post_id":75645023,"comment_id":133453186,"body_markdown":"Could you post bigger part of the stacktrace?","body":"Could you post bigger part of the stacktrace?"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1678047377,"post_id":75645023,"comment_id":133453199,"body_markdown":"@fascynacja I already shared all required code.","body":"@fascynacja I already shared all required code."},{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1678047457,"post_id":75645023,"comment_id":133453217,"body_markdown":"What line is the error from?","body":"What line is the error from?"},{"owner":{"account_id":306540,"reputation":1801,"user_id":2695990,"display_name":"fascynacja"},"score":0,"creation_date":1678047494,"post_id":75645023,"comment_id":133453224,"body_markdown":"I meant error stacktrace from the logs.","body":"I meant error stacktrace from the logs."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1678047623,"post_id":75645023,"comment_id":133453244,"body_markdown":"@Unmitigated I shared the error line.","body":"@Unmitigated I shared the error line."},{"owner":{"account_id":306540,"reputation":1801,"user_id":2695990,"display_name":"fascynacja"},"score":0,"creation_date":1678048217,"post_id":75645023,"comment_id":133453325,"body_markdown":"Usually there is more than one line.  By reading whole stack it is easier to understand the root cause","body":"Usually there is more than one line.  By reading whole stack it is easier to understand the root cause"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1678048233,"post_id":75645023,"comment_id":133453327,"body_markdown":"@fascynacja I shared the error line.","body":"@fascynacja I shared the error line."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1678048317,"post_id":75645023,"comment_id":133453340,"body_markdown":"@fascynacja I get this error message at this line which I already shared.","body":"@fascynacja I get this error message at this line which I already shared."},{"owner":{"account_id":14601909,"reputation":955,"user_id":10545973,"display_name":"Rick"},"score":1,"creation_date":1678048988,"post_id":75645023,"comment_id":133453438,"body_markdown":"The error line is not enough to know where the exception happens. It says it happens in Objects.requireNonNull, but the code you pasted does not use that method. Please include the full stack trace.","body":"The error line is not enough to know where the exception happens. It says it happens in Objects.requireNonNull, but the code you pasted does not use that method. Please include the full stack trace."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1678049275,"post_id":75645023,"comment_id":133453479,"body_markdown":"@Rick I also shared the junit service test regarding the code","body":"@Rick I also shared the junit service test regarding the code"}],"answers":[{"comments":[{"owner":{"account_id":18669557,"reputation":640,"user_id":13608717,"display_name":"Daniel"},"score":0,"creation_date":1678053994,"post_id":75645430,"comment_id":133454237,"body_markdown":"as UserServiceImpl has both Service and RequiredArgsConstructor (and this is the only constructor) - it is not required to add constructor manually. \nThis is valid for Spring 4.3+: https://docs.spring.io/spring-framework/docs/4.3.23.RELEASE/spring-framework-reference/htmlsingle/#new-in-4.3\n\nIt is no longer necessary to specify the @Autowired annotation if the target bean only defines one constructor.\n\nSo second part of answer could actually be skipped","body":"as UserServiceImpl has both Service and RequiredArgsConstructor (and this is the only constructor) - it is not required to add constructor manually.  This is valid for Spring 4.3+: <a href=\"https://docs.spring.io/spring-framework/docs/4.3.23.RELEASE/spring-framework-reference/htmlsingle/#new-in-4.3\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/docs/4.3.23.RELEASE/&hellip;</a>  It is no longer necessary to specify the @Autowired annotation if the target bean only defines one constructor.  So second part of answer could actually be skipped"},{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":1,"creation_date":1678054173,"post_id":75645430,"comment_id":133454267,"body_markdown":"Thanks Daniel! Have not seen the RequiredArgsConstructor annotation. Have updated answer","body":"Thanks Daniel! Have not seen the RequiredArgsConstructor annotation. Have updated answer"}],"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1678054188,"creation_date":1678051420,"answer_id":75645430,"question_id":75645023,"body_markdown":"In order for your MapStruct to be available for injection in spring context you need to use\r\n\r\n    @Mapper(componentModel = &quot;spring&quot;)\r\n    public interface UserMapper {\r\n","title":"Mapstruct throws Null Pointer Exception in Spring Boot. How can I fix it?","body":"<p>In order for your MapStruct to be available for injection in spring context you need to use</p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;)\npublic interface UserMapper {\n</code></pre>\n"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":990,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1678118732,"accepted_answer_id":75645430,"answer_count":1,"score":0,"last_activity_date":1678054188,"creation_date":1678046662,"question_id":75645023,"body_markdown":"I get null pointer exemption in mapstruct in Spring Boot as it couldn&#39;t be initialized.\r\n\r\nHere is the error shown below\r\n\r\n    java.lang.NullPointerException\r\n    at java.base/java.util.Objects.requireNonNull(Objects.java:233)\r\n\r\nHow can I fix it?\r\n\r\n\r\nHere is the service class shown below\r\n\r\n    @Service\r\n    @Transactional(readOnly = true)\r\n    @RequiredArgsConstructor\r\n    public class UserServiceImpl implements UserService {\r\n    \r\n        private final UserRepository userRepository;\r\n    \r\n        private final UserMapper userMapper;\r\n    \r\n        public Page&lt;UserDTO&gt; getAllUsers(Pageable pageable) {\r\n            return userRepository.findAll(pageable).map(\r\n                    userMapper::mapUsertoUserDTO  // HERE IS THE ERROR\r\n            );\r\n        }\r\n\r\nHere is the mapper shown below\r\n\r\n    import org.mapstruct.Mapper;\r\n    \r\n    @Mapper\r\n    public interface UserMapper {\r\n    \r\n        User mapUserDTOtoUser(UserDTO userDTO);\r\n    \r\n        UserDTO mapUsertoUserDTO(User user);\r\n    }\r\n\r\n\r\nHere is the mapstruct in pom.xml\r\n\r\n\r\n    &lt;properties&gt;\r\n    \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n    \t\t&lt;org.mapstruct.version&gt;1.5.3.Final&lt;/org.mapstruct.version&gt;\r\n    \t\t&lt;org.projectlombok.version&gt;1.18.20&lt;/org.projectlombok.version&gt;\r\n    \t\t&lt;lombok-mapstruct-binding.version&gt;0.2.0&lt;/lombok-mapstruct-binding.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.8.1&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;17&lt;/source&gt;\r\n                        &lt;target&gt;17&lt;/target&gt;\r\n                        &lt;annotationProcessorPaths&gt;\r\n                            &lt;path&gt;\r\n                                &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n                                &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n                                &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\r\n                            &lt;/path&gt;\r\n                            &lt;path&gt;\r\n                                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                                &lt;version&gt;${org.projectlombok.version}&lt;/version&gt;\r\n                            &lt;/path&gt;\r\n                            &lt;path&gt;\r\n                                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                                &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\r\n                                &lt;version&gt;${lombok-mapstruct-binding.version}&lt;/version&gt;\r\n                            &lt;/path&gt;\r\n                        &lt;/annotationProcessorPaths&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n\r\n\r\nHere is my service test shown below\r\n\r\n@Test\r\npublic void userDtoById() {\r\n\r\n        // given\r\n        User user = new User();\r\n        // setter\r\n\r\n        // when\r\n        when(userRepository.findById(1L)).thenReturn(Optional.of(user));\r\n\r\n        UserDTO userDto = userService.getUserById(1L);  // Here is the error\r\n\r\n        ...\r\n\r\n}\r\n\r\n","title":"Mapstruct throws Null Pointer Exception in Spring Boot. How can I fix it?","body":"<p>I get null pointer exemption in mapstruct in Spring Boot as it couldn't be initialized.</p>\n<p>Here is the error shown below</p>\n<pre><code>java.lang.NullPointerException\nat java.base/java.util.Objects.requireNonNull(Objects.java:233)\n</code></pre>\n<p>How can I fix it?</p>\n<p>Here is the service class shown below</p>\n<pre><code>@Service\n@Transactional(readOnly = true)\n@RequiredArgsConstructor\npublic class UserServiceImpl implements UserService {\n\n    private final UserRepository userRepository;\n\n    private final UserMapper userMapper;\n\n    public Page&lt;UserDTO&gt; getAllUsers(Pageable pageable) {\n        return userRepository.findAll(pageable).map(\n                userMapper::mapUsertoUserDTO  // HERE IS THE ERROR\n        );\n    }\n</code></pre>\n<p>Here is the mapper shown below</p>\n<pre><code>import org.mapstruct.Mapper;\n\n@Mapper\npublic interface UserMapper {\n\n    User mapUserDTOtoUser(UserDTO userDTO);\n\n    UserDTO mapUsertoUserDTO(User user);\n}\n</code></pre>\n<p>Here is the mapstruct in pom.xml</p>\n<pre><code>&lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;org.mapstruct.version&gt;1.5.3.Final&lt;/org.mapstruct.version&gt;\n        &lt;org.projectlombok.version&gt;1.18.20&lt;/org.projectlombok.version&gt;\n        &lt;lombok-mapstruct-binding.version&gt;0.2.0&lt;/lombok-mapstruct-binding.version&gt;\n    &lt;/properties&gt;\n\n&lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;17&lt;/source&gt;\n                    &lt;target&gt;17&lt;/target&gt;\n                    &lt;annotationProcessorPaths&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n                            &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\n                        &lt;/path&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                            &lt;version&gt;${org.projectlombok.version}&lt;/version&gt;\n                        &lt;/path&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\n                            &lt;version&gt;${lombok-mapstruct-binding.version}&lt;/version&gt;\n                        &lt;/path&gt;\n                    &lt;/annotationProcessorPaths&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>Here is my service test shown below</p>\n<p>@Test\npublic void userDtoById() {</p>\n<pre><code>    // given\n    User user = new User();\n    // setter\n\n    // when\n    when(userRepository.findById(1L)).thenReturn(Optional.of(user));\n\n    UserDTO userDto = userService.getUserById(1L);  // Here is the error\n\n    ...\n</code></pre>\n<p>}</p>\n"},{"tags":["java","maven","jsp","tomcat"],"comments":[{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":0,"creation_date":1648655937,"post_id":71680405,"comment_id":126681501,"body_markdown":"What&#39;s the URL of the request? how is the app deployed, as ROOT.war?","body":"What&#39;s the URL of the request? how is the app deployed, as ROOT.war?"},{"owner":{"account_id":15580305,"reputation":75,"user_id":11240296,"display_name":"brecho"},"score":0,"creation_date":1648656267,"post_id":71680405,"comment_id":126681647,"body_markdown":"@LMC the URL is &#39;http://localhost:8080/blog_db-1.0-SNAPSHOT/&#39; and app is deployed on Tomcat server as &#39;blog_db-1.0-SNAPSHOT.war&#39;","body":"@LMC the URL is &#39;<a href=\"http://localhost:8080/blog_db-1.0-SNAPSHOT/\" rel=\"nofollow noreferrer\">localhost:8080/blog_db-1.0-SNAPSHOT</a>&#39; and app is deployed on Tomcat server as &#39;blog_db-1.0-SNAPSHOT.war&#39;"}],"answers":[{"tags":[],"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648656491,"creation_date":1648656491,"answer_id":71680600,"question_id":71680405,"body_markdown":"This is a common problem with application servers across the full spectrum. If you are encountering 404s or other issues, the way to debug the issue is to incrementally step backwards and forwards. The first thing you should do is look at your server logs to make sure the server has started right. If it has, you should try creating a index.html file and testing that. And so on and so on. On a failed test, you step back to see what&#39;s wrong in the previous steps. On a successful test, you step forward to see if the next thing works","title":"&quot;404: The origin server did not find a current representation for the target resource or is not willing to disclose that one exists&quot; with Tomcat","body":"<p>This is a common problem with application servers across the full spectrum. If you are encountering 404s or other issues, the way to debug the issue is to incrementally step backwards and forwards. The first thing you should do is look at your server logs to make sure the server has started right. If it has, you should try creating a index.html file and testing that. And so on and so on. On a failed test, you step back to see what's wrong in the previous steps. On a successful test, you step forward to see if the next thing works</p>\n"},{"tags":[],"owner":{"account_id":25064438,"reputation":1,"user_id":18918922,"display_name":"ValGarcia"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678053818,"creation_date":1666461529,"answer_id":74165874,"question_id":71680405,"body_markdown":"After creating a new dynamic web project on Eclipse and try to run it, I encountered the same error message. I couldn&#39;t find the solution on similar questions of StackOverflow. Projects I have created two years ago using an older version of Eclipse were imported to the newest  version of Eclipse I&#39;m using nowadays and they did not present the error message. That gave the hint that the problem was related to the project itself rather than the IDE. After comparing an older project with the new one, I changed the build class path order of the build path (on &quot;Order and Export&quot; tab) moving the src/main/java up to the first place. It worked. ","title":"&quot;404: The origin server did not find a current representation for the target resource or is not willing to disclose that one exists&quot; with Tomcat","body":"<p>After creating a new dynamic web project on Eclipse and try to run it, I encountered the same error message. I couldn't find the solution on similar questions of StackOverflow. Projects I have created two years ago using an older version of Eclipse were imported to the newest  version of Eclipse I'm using nowadays and they did not present the error message. That gave the hint that the problem was related to the project itself rather than the IDE. After comparing an older project with the new one, I changed the build class path order of the build path (on &quot;Order and Export&quot; tab) moving the src/main/java up to the first place. It worked.</p>\n"},{"tags":[],"owner":{"account_id":12734721,"reputation":41,"user_id":9250014,"display_name":"Ankita Sinha"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670432388,"creation_date":1670432388,"answer_id":74720313,"question_id":71680405,"body_markdown":"I faced the same issue, I was on eclipse version 4.25.0 which was using JDK 17.\r\nI was using Tomcat 8. The server was starting fine (as shown in Eclipse) but when url was hit, it gave this error. Then I checked the server log.\r\n\r\nChecked the server log following this- [https://stackoverflow.com/questions/2233053/where-can-i-view-tomcat-log-files-in-eclipse][1]\r\nFound the following error in server log -\r\n&gt; java.lang.ClassNotFoundException: jakarta.servlet.Filter \tat\r\n&gt; org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1420)\r\n\r\nSee - [How to properly configure Jakarta EE libraries in Maven pom.xml for Tomcat][2]\r\n\r\nTomcat 10.x was the first version to be Jakartified, not Tomcat 9.x.\r\nSo I installed Tomcat 10.x, used that server to run my application, got no error in the server log-- and application ran fine!\r\n\r\nGood luck.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2233053/where-can-i-view-tomcat-log-files-in-eclipse\r\n  [2]: https://stackoverflow.com/a/65704617","title":"&quot;404: The origin server did not find a current representation for the target resource or is not willing to disclose that one exists&quot; with Tomcat","body":"<p>I faced the same issue, I was on eclipse version 4.25.0 which was using JDK 17.\nI was using Tomcat 8. The server was starting fine (as shown in Eclipse) but when url was hit, it gave this error. Then I checked the server log.</p>\n<p>Checked the server log following this- <a href=\"https://stackoverflow.com/questions/2233053/where-can-i-view-tomcat-log-files-in-eclipse\">Where can I view Tomcat log files in Eclipse?</a>\nFound the following error in server log -</p>\n<blockquote>\n<p>java.lang.ClassNotFoundException: jakarta.servlet.Filter  at\norg.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1420)</p>\n</blockquote>\n<p>See - <a href=\"https://stackoverflow.com/a/65704617\">How to properly configure Jakarta EE libraries in Maven pom.xml for Tomcat</a></p>\n<p>Tomcat 10.x was the first version to be Jakartified, not Tomcat 9.x.\nSo I installed Tomcat 10.x, used that server to run my application, got no error in the server log-- and application ran fine!</p>\n<p>Good luck.</p>\n"}],"owner":{"account_id":15580305,"reputation":75,"user_id":11240296,"display_name":"brecho"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20603,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":71680600,"answer_count":3,"score":3,"last_activity_date":1678053818,"creation_date":1648655695,"question_id":71680405,"body_markdown":"When I try to run my web app project on Tomcat server I&#39;m getting the following error.\r\n\r\n&gt;    Description The origin server did not find a current representation for the target resource or is not willing to disclose that one exists.\r\n\r\nI have really no idea what is wrong with my code below. I&#39;ve read similar questions on StackOverflow but I can&#39;t find any answer that I could implement into my project. I appreciate any help.\r\n\r\n**index.jsp**\r\n\r\n    &lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot; pageEncoding=&quot;ISO-8859-1&quot;%&gt;\r\n    &lt;%@ taglib prefix = &quot;c&quot; uri = &quot;http://java.sun.com/jsp/jstl/core&quot; %&gt;\r\n    \r\n    &lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot; &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;\r\n    \r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n      &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=ISO-8859-1&quot;&gt;\r\n        &lt;title&gt;$Title$&lt;/title&gt;\r\n      &lt;/head&gt;\r\n      &lt;body&gt;\r\n        &lt;h1&gt;Hello&lt;/h1&gt;\r\n        &lt;ul&gt;\r\n          &lt;li&gt;&lt;a href=&quot;/register&quot;&gt;Register&lt;/a&gt;&lt;/li&gt;\r\n          &lt;li&gt;&lt;a href=&quot;/login&quot;&gt;Login&lt;/a&gt;&lt;/li&gt;\r\n          &lt;li&gt;&lt;a href=&quot;/panel&quot;&gt;Panel&lt;/a&gt; &lt;/li&gt;\r\n          &lt;li&gt;&lt;a href=&quot;/logout&quot;&gt;Logout&lt;/a&gt; &lt;/li&gt;\r\n        &lt;/ul&gt;\r\n        &lt;c:forEach items=&quot;${posts}&quot; var=&quot;post&quot;&gt;\r\n          &lt;p&gt;\r\n          &lt;h4&gt;&lt;c:out value=&quot;${post.title} ${post.author}&quot;/&gt;&lt;br /&gt;&lt;/h4&gt;\r\n            &lt;c:out value=&quot;${post.text}&quot;/&gt;\r\n            &lt;a href=&quot;/post/${post.id}&quot;&gt;Read more&lt;/a&gt;\r\n          &lt;/p&gt;\r\n        &lt;/c:forEach&gt;\r\n    \r\n      &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n**HomePage.java**\r\n\r\n    import Database.DBAdminConnector; import Database.DBUserConnector;\r\n    \r\n    import javax.servlet.*; import javax.servlet.annotation.WebServlet; import javax.servlet.http.*; import java.io.IOException; import java.sql.*; import java.util.ArrayList; import java.util.List;\r\n    \r\n    @WebServlet(name = &quot;HomePage&quot;, urlPatterns = &quot;/&quot;) public class HomePage extends HttpServlet {\r\n        Statement statement = null;\r\n    \r\n        @Override\r\n        protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\r\n            DBUserConnector dbConnector = DBUserConnector.INSTANCE;\r\n            Connection connection = dbConnector.getConnection();\r\n            resp.setContentType(&quot;text/html&quot;);\r\n            try {\r\n                statement = connection.createStatement();\r\n                String getPosts = &quot;SELECT * FROM latest LIMIT 10&quot;;\r\n                ResultSet posts = statement.executeQuery(getPosts);\r\n    \r\n                List&lt;Post&gt; postList = new ArrayList&lt;&gt;();\r\n                while(posts.next()) {\r\n                    int id = posts.getInt(&quot;id&quot;);\r\n                    String title = posts.getString(&quot;title&quot;);\r\n                    String author = posts.getString(&quot;nickname&quot;);\r\n                    Date date = posts.getDate(&quot;time_created&quot;);\r\n                    String text = posts.getString(&quot;text&quot;);\r\n                    Post p = new Post(id, title, author, date, text);\r\n                    //System.out.println(p);\r\n                    postList.add(p);\r\n                }\r\n                req.setAttribute(&quot;posts&quot;, postList);\r\n                RequestDispatcher view = req.getRequestDispatcher(&quot;index.jsp&quot;);\r\n                view.forward(req,resp);\r\n            } catch (SQLException e) {\r\n                e.printStackTrace();\r\n            }\r\n        } }\r\n\r\n**web.xml**\r\n\r\n    &lt;web-app version=&quot;3.1&quot;\r\n             xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot;\r\n             metadata-complete=&quot;false&quot;&gt;\r\n    \r\n    \r\n        &lt;servlet-mapping&gt;\r\n            &lt;servlet-name&gt;HomePage&lt;/servlet-name&gt;\r\n            &lt;url-pattern&gt;/&lt;/url-pattern&gt;\r\n        &lt;/servlet-mapping&gt;\r\n    \r\n        &lt;servlet-mapping&gt;\r\n            &lt;servlet-name&gt;PostPage&lt;/servlet-name&gt;\r\n            &lt;url-pattern&gt;/post/*&lt;/url-pattern&gt;\r\n        &lt;/servlet-mapping&gt;\r\n    \r\n        &lt;servlet-mapping&gt;\r\n            &lt;servlet-name&gt;RegisterPage&lt;/servlet-name&gt;\r\n            &lt;url-pattern&gt;/register&lt;/url-pattern&gt;\r\n        &lt;/servlet-mapping&gt;\r\n    \r\n        &lt;servlet-mapping&gt;\r\n            &lt;servlet-name&gt;LoginPage&lt;/servlet-name&gt;\r\n            &lt;url-pattern&gt;/login&lt;/url-pattern&gt;\r\n        &lt;/servlet-mapping&gt;\r\n    \r\n        &lt;servlet-mapping&gt;\r\n            &lt;servlet-name&gt;PanelPage&lt;/servlet-name&gt;\r\n            &lt;url-pattern&gt;/panel&lt;/url-pattern&gt;\r\n        &lt;/servlet-mapping&gt;\r\n    \r\n        &lt;servlet-mapping&gt;\r\n            &lt;servlet-name&gt;Logout&lt;/servlet-name&gt;\r\n            &lt;url-pattern&gt;/logout&lt;/url-pattern&gt;\r\n        &lt;/servlet-mapping&gt;\r\n    \r\n        &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;BackupRestoreDB&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/backup&lt;/url-pattern&gt;\r\n        &lt;/servlet-mapping&gt;\r\n    &lt;/web-app&gt;","title":"&quot;404: The origin server did not find a current representation for the target resource or is not willing to disclose that one exists&quot; with Tomcat","body":"<p>When I try to run my web app project on Tomcat server I'm getting the following error.</p>\n<blockquote>\n<p>Description The origin server did not find a current representation for the target resource or is not willing to disclose that one exists.</p>\n</blockquote>\n<p>I have really no idea what is wrong with my code below. I've read similar questions on StackOverflow but I can't find any answer that I could implement into my project. I appreciate any help.</p>\n<p><strong>index.jsp</strong></p>\n<pre><code>&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot; pageEncoding=&quot;ISO-8859-1&quot;%&gt;\n&lt;%@ taglib prefix = &quot;c&quot; uri = &quot;http://java.sun.com/jsp/jstl/core&quot; %&gt;\n\n&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot; &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;\n\n&lt;html&gt;\n&lt;head&gt;\n  &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=ISO-8859-1&quot;&gt;\n    &lt;title&gt;$Title$&lt;/title&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n    &lt;h1&gt;Hello&lt;/h1&gt;\n    &lt;ul&gt;\n      &lt;li&gt;&lt;a href=&quot;/register&quot;&gt;Register&lt;/a&gt;&lt;/li&gt;\n      &lt;li&gt;&lt;a href=&quot;/login&quot;&gt;Login&lt;/a&gt;&lt;/li&gt;\n      &lt;li&gt;&lt;a href=&quot;/panel&quot;&gt;Panel&lt;/a&gt; &lt;/li&gt;\n      &lt;li&gt;&lt;a href=&quot;/logout&quot;&gt;Logout&lt;/a&gt; &lt;/li&gt;\n    &lt;/ul&gt;\n    &lt;c:forEach items=&quot;${posts}&quot; var=&quot;post&quot;&gt;\n      &lt;p&gt;\n      &lt;h4&gt;&lt;c:out value=&quot;${post.title} ${post.author}&quot;/&gt;&lt;br /&gt;&lt;/h4&gt;\n        &lt;c:out value=&quot;${post.text}&quot;/&gt;\n        &lt;a href=&quot;/post/${post.id}&quot;&gt;Read more&lt;/a&gt;\n      &lt;/p&gt;\n    &lt;/c:forEach&gt;\n\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p><strong>HomePage.java</strong></p>\n<pre><code>import Database.DBAdminConnector; import Database.DBUserConnector;\n\nimport javax.servlet.*; import javax.servlet.annotation.WebServlet; import javax.servlet.http.*; import java.io.IOException; import java.sql.*; import java.util.ArrayList; import java.util.List;\n\n@WebServlet(name = &quot;HomePage&quot;, urlPatterns = &quot;/&quot;) public class HomePage extends HttpServlet {\n    Statement statement = null;\n\n    @Override\n    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\n        DBUserConnector dbConnector = DBUserConnector.INSTANCE;\n        Connection connection = dbConnector.getConnection();\n        resp.setContentType(&quot;text/html&quot;);\n        try {\n            statement = connection.createStatement();\n            String getPosts = &quot;SELECT * FROM latest LIMIT 10&quot;;\n            ResultSet posts = statement.executeQuery(getPosts);\n\n            List&lt;Post&gt; postList = new ArrayList&lt;&gt;();\n            while(posts.next()) {\n                int id = posts.getInt(&quot;id&quot;);\n                String title = posts.getString(&quot;title&quot;);\n                String author = posts.getString(&quot;nickname&quot;);\n                Date date = posts.getDate(&quot;time_created&quot;);\n                String text = posts.getString(&quot;text&quot;);\n                Post p = new Post(id, title, author, date, text);\n                //System.out.println(p);\n                postList.add(p);\n            }\n            req.setAttribute(&quot;posts&quot;, postList);\n            RequestDispatcher view = req.getRequestDispatcher(&quot;index.jsp&quot;);\n            view.forward(req,resp);\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n    } }\n</code></pre>\n<p><strong>web.xml</strong></p>\n<pre><code>&lt;web-app version=&quot;3.1&quot;\n         xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot;\n         metadata-complete=&quot;false&quot;&gt;\n\n\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;HomePage&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;PostPage&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/post/*&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;RegisterPage&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/register&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;LoginPage&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/login&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;PanelPage&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/panel&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;Logout&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/logout&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n\n    &lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;BackupRestoreDB&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/backup&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n&lt;/web-app&gt;\n</code></pre>\n"},{"tags":["java","rest","post","spring-data-jpa","orm"],"answers":[{"tags":[],"owner":{"account_id":18669557,"reputation":640,"user_id":13608717,"display_name":"Daniel"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678053690,"creation_date":1678053690,"answer_id":75645625,"question_id":75645384,"body_markdown":"First approach (passing just a trainer id) seems more appropriate here.\r\n\r\nAs both approaches would need to check if provided Trainer id (or whole Trainer object) are actually referring to an existing Trainer in DB - passings id is universal. It won&#39;t be a good thing when Trainer would have multiple fields to also pass them when you just need to reference a Trainer (which could be done by using id only).\r\n\r\nAlso, you could use [#getReferenceById method][1] to simplify mapping of id to entity in a bit more efficient way (however will still require handling of exception in case when Trainer was not found).\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/repository/JpaRepository.html#getReferenceById(ID)","title":"Post request with another entity as a field - use id or pass full object?","body":"<p>First approach (passing just a trainer id) seems more appropriate here.</p>\n<p>As both approaches would need to check if provided Trainer id (or whole Trainer object) are actually referring to an existing Trainer in DB - passings id is universal. It won't be a good thing when Trainer would have multiple fields to also pass them when you just need to reference a Trainer (which could be done by using id only).</p>\n<p>Also, you could use <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/repository/JpaRepository.html#getReferenceById(ID)\" rel=\"nofollow noreferrer\">#getReferenceById method</a> to simplify mapping of id to entity in a bit more efficient way (however will still require handling of exception in case when Trainer was not found).</p>\n"}],"owner":{"account_id":16962007,"reputation":1665,"user_id":12268910,"display_name":"java12399900"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":313,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75645625,"answer_count":1,"score":0,"last_activity_date":1678053690,"creation_date":1678050789,"question_id":75645384,"body_markdown":"I have the following entity `Client`, each client only can have one `Trainer` :\r\n\r\n    @Entity\r\n    @Table(name = &quot;Client&quot;)\r\n    public class Client {\r\n    \r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private long id;\r\n    \r\n    @ManyToOne\r\n    private Trainer trainer;\r\n    \r\n    // getters and setters\r\n    \r\n    }\r\n\r\nA client can only be created with an *existing* trainer, I.e. I will not be passing a new trainer to be persisted.\r\n\r\nShould my post request `dto` to create a `client` be e.g. as follows, then get the `trainer` by id and add it to my entity to be persisted?\r\n\r\n    {\r\n      &quot;id&quot;: 123\r\n      &quot;trainerId&quot;: 456\r\n    }\r\n\r\nThe only other option I can think of is to pass a full existing trainer object in the post request as such?\r\n\r\n    {\r\n      &quot;id&quot;: 123\r\n      &quot;trainer&quot;: {&quot;id&quot;:456} // + other existing trainer fields\r\n    }\r\n\r\n\r\n\r\n","title":"Post request with another entity as a field - use id or pass full object?","body":"<p>I have the following entity <code>Client</code>, each client only can have one <code>Trainer</code> :</p>\n<pre><code>@Entity\n@Table(name = &quot;Client&quot;)\npublic class Client {\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate long id;\n\n@ManyToOne\nprivate Trainer trainer;\n\n// getters and setters\n\n}\n</code></pre>\n<p>A client can only be created with an <em>existing</em> trainer, I.e. I will not be passing a new trainer to be persisted.</p>\n<p>Should my post request <code>dto</code> to create a <code>client</code> be e.g. as follows, then get the <code>trainer</code> by id and add it to my entity to be persisted?</p>\n<pre><code>{\n  &quot;id&quot;: 123\n  &quot;trainerId&quot;: 456\n}\n</code></pre>\n<p>The only other option I can think of is to pass a full existing trainer object in the post request as such?</p>\n<pre><code>{\n  &quot;id&quot;: 123\n  &quot;trainer&quot;: {&quot;id&quot;:456} // + other existing trainer fields\n}\n</code></pre>\n"},{"tags":["java","unit-testing","nullpointerexception","flink-streaming"],"answers":[{"tags":[],"owner":{"account_id":1678093,"reputation":573,"user_id":1543129,"accept_rate":43,"display_name":"Peter C. Glade"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678053442,"creation_date":1678053442,"answer_id":75645611,"question_id":75644412,"body_markdown":"Found the solution: \r\nI couldn&#39;t found the `KeyedTwoInputStreamOperatorTestHarness` because `flink-streaming-java` needs to be added again but with  `&lt;classifier&gt;tests&lt;/classifier&gt;`.\r\n\r\nAfter adding this to my `pom.xml` it works fine:\r\n\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\r\n            &lt;artifactId&gt;flink-streaming-java&lt;/artifactId&gt;\r\n            &lt;version&gt;1.16.1&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;classifier&gt;tests&lt;/classifier&gt;\r\n        &lt;/dependency&gt;\r\n```","title":"Flink keyed TestHarness not using keyed Streams","body":"<p>Found the solution:\nI couldn't found the <code>KeyedTwoInputStreamOperatorTestHarness</code> because <code>flink-streaming-java</code> needs to be added again but with  <code>&lt;classifier&gt;tests&lt;/classifier&gt;</code>.</p>\n<p>After adding this to my <code>pom.xml</code> it works fine:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\n            &lt;artifactId&gt;flink-streaming-java&lt;/artifactId&gt;\n            &lt;version&gt;1.16.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;classifier&gt;tests&lt;/classifier&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":1678093,"reputation":573,"user_id":1543129,"accept_rate":43,"display_name":"Peter C. Glade"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":178,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678053442,"creation_date":1678040613,"question_id":75644412,"body_markdown":"im struggling writing unit tests with the test harness. \r\n\r\nWithin my test class I am initialising a `KeyedTwoInputStreamOperatorTestHarness` to test a `KeyedCoProcessFunction`\r\n\r\nBut when I setup and open the test harness it throws: \r\n\r\n```java\r\njava.lang.NullPointerException: Keyed state can only be used on a &#39;keyed stream&#39;, i.e., after a &#39;keyBy()&#39; operation.\r\n```\r\n\r\nI don&#39;t know what&#39;s wrong here?\r\nOne guess is a dependency problem, because I couldn&#39;t find the Harnesses within `flink-streaming-java:1.16.1` i have additionally `flink-streaming-java_2.11:1.14.1` package here. Could this be the problem? \r\nIf yes, what is the correct package for flink 1.16.1 Test Harnesses?\r\n\r\n\r\nTestclass: \r\n```java\r\npublic class BuildAssetNodeContextTest extends TestBase {\r\n \r\n    private KeyedTwoInputStreamOperatorTestHarness testHarness;\r\n    private BuildAssetNodeContext buildAssetNodeContext; // &lt;-- function to test \r\n\r\n    @BeforeEach\r\n    public void setupTestHarness() throws Exception {\r\n        buildAssetNodeContext = new BuildAssetNodeContext&lt;&gt;();\r\n\r\n        testHarness = new KeyedTwoInputStreamOperatorTestHarness&lt;&gt;(\r\n            new KeyedCoProcessOperator&lt;&gt;(buildAssetNodeContext),\r\n            new OperationalDataAssetNodeIdKeySelector&lt;&gt;(),\r\n            new AssetNodeParameterIdKeySelector(),\r\n            BasicTypeInfo.STRING_TYPE_INFO\r\n        );\r\n\r\n        testHarness.setup();\r\n        testHarness.open();\r\n    }\r\n}\r\n```\r\n\r\nFunction to Test: \r\n```java\r\npublic class BuildAssetNodeContext&lt;ANDPayloadType extends OperationalDataPayload&gt; extends KeyedCoProcessFunction&lt;String, ANDBusinessObject&lt;ANDPayloadType&gt;, ParaBusinessObject&lt;AssetNodeParameterPayload&gt;, AssetNodeContext&gt; {\r\n\r\n    private ValueState&lt;AssetNodeContext&gt; currentAssetNodeContext;\r\n\r\n    @Override\r\n    public void open(Configuration parameters) {\r\n        currentAssetNodeContext = getRuntimeContext().getState(\r\n            new ValueStateDescriptor&lt;&gt;(&quot;currentAssetNodeContext&quot;, AssetNodeContext.class)\r\n        ); // &lt;-- `NullPointerException` throws here \r\n    }\r\n\r\n    @Override\r\n    public void processElement1(ANDBusinessObject&lt;ANDPayloadType&gt; operationalData, KeyedCoProcessFunction&lt;String, ANDBusinessObject&lt;ANDPayloadType&gt;, ParaBusinessObject&lt;AssetNodeParameterPayload&gt;, AssetNodeContext&gt;.Context ctx, Collector&lt;AssetNodeContext&gt; out) throws Exception {\r\n        log.info(String.format(&quot;received operational data event: %s&quot;, operationalData));\r\n\r\n    }\r\n\r\n    @Override\r\n    public void processElement2(ParaBusinessObject&lt;AssetNodeParameterPayload&gt; assetNodeParameter, KeyedCoProcessFunction&lt;String, ANDBusinessObject&lt;ANDPayloadType&gt;, ParaBusinessObject&lt;AssetNodeParameterPayload&gt;, AssetNodeContext&gt;.Context ctx, Collector&lt;AssetNodeContext&gt; out) throws Exception {\r\n        log.info(String.format(&quot;received asset node parameter event: %s&quot;, assetNodeParameter));\r\n    }\r\n}\r\n```\r\n\r\nProject POM:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;...&lt;/groupId&gt;\r\n    &lt;artifactId&gt;...&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n\r\n        &lt;!-- Flink --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\r\n            &lt;artifactId&gt;flink-streaming-java&lt;/artifactId&gt;\r\n            &lt;version&gt;1.16.1&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n\r\n        &lt;!-- Configuration --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.smallrye.config&lt;/groupId&gt;\r\n            &lt;artifactId&gt;smallrye-config&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- necessary for smallrye config to work properly, without you will get an --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.annotation&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.annotation-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.1.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- Code generation --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;1.18.26&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- (De-)Serialisation --&gt;\r\n\r\n        &lt;!-- Logging --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.7.26&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\r\n            &lt;version&gt;1.7.26&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- TESTING --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\r\n            &lt;artifactId&gt;flink-test-utils&lt;/artifactId&gt;\r\n            &lt;version&gt;1.16.1&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\r\n            &lt;artifactId&gt;flink-test-utils-junit&lt;/artifactId&gt;\r\n            &lt;version&gt;1.16.1&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\r\n            &lt;artifactId&gt;flink-runtime&lt;/artifactId&gt;\r\n            &lt;version&gt;1.16.1&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\r\n            &lt;artifactId&gt;flink-streaming-java_2.11&lt;/artifactId&gt;\r\n            &lt;!--\r\n            TODO: Challenge version\r\n                Where are the Stream Operators (like &#39;KeyedTwoInputStreamOperatorTestHarness&#39;) for 1.16 located\r\n            --&gt;\r\n            &lt;version&gt;1.14.4&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;classifier&gt;tests&lt;/classifier&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n\r\n            &lt;!--\r\n            Build a fat jar to include all necessary dependencies in the jar-file\r\n            See: https://nightlies.apache.org/flink/flink-docs-release-1.16/docs/dev/configuration/maven/#template-for-creating-an-uberfat-jar-with-dependencies\r\n            --&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1.1&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;shade&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;artifactSet&gt;\r\n                                &lt;excludes&gt;\r\n                                    &lt;exclude&gt;com.google.code.findbugs:jsr305&lt;/exclude&gt;\r\n                                &lt;/excludes&gt;\r\n                            &lt;/artifactSet&gt;\r\n                            &lt;filters&gt;\r\n                                &lt;filter&gt;\r\n                                    &lt;!-- Do not copy the signatures in the META-INF folder.\r\n                                    Otherwise, this might cause SecurityExceptions when using the JAR. --&gt;\r\n                                    &lt;artifact&gt;*:*&lt;/artifact&gt;\r\n                                    &lt;excludes&gt;\r\n                                        &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\r\n                                        &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\r\n                                        &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\r\n                                    &lt;/excludes&gt;\r\n                                &lt;/filter&gt;\r\n                            &lt;/filters&gt;\r\n                            &lt;transformers&gt;\r\n                                &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n                                    &lt;!-- Replace this with the main class of your job --&gt;\r\n                                    &lt;mainClass&gt;...&lt;/mainClass&gt;\r\n                                &lt;/transformer&gt;\r\n                                &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ServicesResourceTransformer&quot;/&gt;\r\n                            &lt;/transformers&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```","title":"Flink keyed TestHarness not using keyed Streams","body":"<p>im struggling writing unit tests with the test harness.</p>\n<p>Within my test class I am initialising a <code>KeyedTwoInputStreamOperatorTestHarness</code> to test a <code>KeyedCoProcessFunction</code></p>\n<p>But when I setup and open the test harness it throws:</p>\n<pre class=\"lang-java prettyprint-override\"><code>java.lang.NullPointerException: Keyed state can only be used on a 'keyed stream', i.e., after a 'keyBy()' operation.\n</code></pre>\n<p>I don't know what's wrong here?\nOne guess is a dependency problem, because I couldn't find the Harnesses within <code>flink-streaming-java:1.16.1</code> i have additionally <code>flink-streaming-java_2.11:1.14.1</code> package here. Could this be the problem?\nIf yes, what is the correct package for flink 1.16.1 Test Harnesses?</p>\n<p>Testclass:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class BuildAssetNodeContextTest extends TestBase {\n \n    private KeyedTwoInputStreamOperatorTestHarness testHarness;\n    private BuildAssetNodeContext buildAssetNodeContext; // &lt;-- function to test \n\n    @BeforeEach\n    public void setupTestHarness() throws Exception {\n        buildAssetNodeContext = new BuildAssetNodeContext&lt;&gt;();\n\n        testHarness = new KeyedTwoInputStreamOperatorTestHarness&lt;&gt;(\n            new KeyedCoProcessOperator&lt;&gt;(buildAssetNodeContext),\n            new OperationalDataAssetNodeIdKeySelector&lt;&gt;(),\n            new AssetNodeParameterIdKeySelector(),\n            BasicTypeInfo.STRING_TYPE_INFO\n        );\n\n        testHarness.setup();\n        testHarness.open();\n    }\n}\n</code></pre>\n<p>Function to Test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class BuildAssetNodeContext&lt;ANDPayloadType extends OperationalDataPayload&gt; extends KeyedCoProcessFunction&lt;String, ANDBusinessObject&lt;ANDPayloadType&gt;, ParaBusinessObject&lt;AssetNodeParameterPayload&gt;, AssetNodeContext&gt; {\n\n    private ValueState&lt;AssetNodeContext&gt; currentAssetNodeContext;\n\n    @Override\n    public void open(Configuration parameters) {\n        currentAssetNodeContext = getRuntimeContext().getState(\n            new ValueStateDescriptor&lt;&gt;(&quot;currentAssetNodeContext&quot;, AssetNodeContext.class)\n        ); // &lt;-- `NullPointerException` throws here \n    }\n\n    @Override\n    public void processElement1(ANDBusinessObject&lt;ANDPayloadType&gt; operationalData, KeyedCoProcessFunction&lt;String, ANDBusinessObject&lt;ANDPayloadType&gt;, ParaBusinessObject&lt;AssetNodeParameterPayload&gt;, AssetNodeContext&gt;.Context ctx, Collector&lt;AssetNodeContext&gt; out) throws Exception {\n        log.info(String.format(&quot;received operational data event: %s&quot;, operationalData));\n\n    }\n\n    @Override\n    public void processElement2(ParaBusinessObject&lt;AssetNodeParameterPayload&gt; assetNodeParameter, KeyedCoProcessFunction&lt;String, ANDBusinessObject&lt;ANDPayloadType&gt;, ParaBusinessObject&lt;AssetNodeParameterPayload&gt;, AssetNodeContext&gt;.Context ctx, Collector&lt;AssetNodeContext&gt; out) throws Exception {\n        log.info(String.format(&quot;received asset node parameter event: %s&quot;, assetNodeParameter));\n    }\n}\n</code></pre>\n<p>Project POM:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;...&lt;/groupId&gt;\n    &lt;artifactId&gt;...&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n\n        &lt;!-- Flink --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\n            &lt;artifactId&gt;flink-streaming-java&lt;/artifactId&gt;\n            &lt;version&gt;1.16.1&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n\n\n        &lt;!-- Configuration --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.smallrye.config&lt;/groupId&gt;\n            &lt;artifactId&gt;smallrye-config&lt;/artifactId&gt;\n            &lt;version&gt;3.1.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- necessary for smallrye config to work properly, without you will get an --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.annotation&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.annotation-api&lt;/artifactId&gt;\n            &lt;version&gt;2.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Code generation --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.26&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- (De-)Serialisation --&gt;\n\n        &lt;!-- Logging --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n            &lt;version&gt;1.7.26&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n            &lt;version&gt;1.7.26&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- TESTING --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\n            &lt;artifactId&gt;flink-test-utils&lt;/artifactId&gt;\n            &lt;version&gt;1.16.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\n            &lt;artifactId&gt;flink-test-utils-junit&lt;/artifactId&gt;\n            &lt;version&gt;1.16.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\n            &lt;artifactId&gt;flink-runtime&lt;/artifactId&gt;\n            &lt;version&gt;1.16.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\n            &lt;artifactId&gt;flink-streaming-java_2.11&lt;/artifactId&gt;\n            &lt;!--\n            TODO: Challenge version\n                Where are the Stream Operators (like 'KeyedTwoInputStreamOperatorTestHarness') for 1.16 located\n            --&gt;\n            &lt;version&gt;1.14.4&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;classifier&gt;tests&lt;/classifier&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n\n            &lt;!--\n            Build a fat jar to include all necessary dependencies in the jar-file\n            See: https://nightlies.apache.org/flink/flink-docs-release-1.16/docs/dev/configuration/maven/#template-for-creating-an-uberfat-jar-with-dependencies\n            --&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1.1&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;shade&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;artifactSet&gt;\n                                &lt;excludes&gt;\n                                    &lt;exclude&gt;com.google.code.findbugs:jsr305&lt;/exclude&gt;\n                                &lt;/excludes&gt;\n                            &lt;/artifactSet&gt;\n                            &lt;filters&gt;\n                                &lt;filter&gt;\n                                    &lt;!-- Do not copy the signatures in the META-INF folder.\n                                    Otherwise, this might cause SecurityExceptions when using the JAR. --&gt;\n                                    &lt;artifact&gt;*:*&lt;/artifact&gt;\n                                    &lt;excludes&gt;\n                                        &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\n                                        &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\n                                        &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\n                                    &lt;/excludes&gt;\n                                &lt;/filter&gt;\n                            &lt;/filters&gt;\n                            &lt;transformers&gt;\n                                &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\n                                    &lt;!-- Replace this with the main class of your job --&gt;\n                                    &lt;mainClass&gt;...&lt;/mainClass&gt;\n                                &lt;/transformer&gt;\n                                &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ServicesResourceTransformer&quot;/&gt;\n                            &lt;/transformers&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["javascript","java","spring","redirect","spring-security"],"comments":[{"owner":{"account_id":26889406,"reputation":35,"user_id":20468426,"display_name":"Bhorah"},"score":1,"creation_date":1678053301,"post_id":75637306,"comment_id":133454133,"body_markdown":"I host it on a second tomcat server (port 8080) and call the localhost:9000 URL\nI would prefer to host it on the Spring integrated Tomcat but I don&#39;t know how","body":"I host it on a second tomcat server (port 8080) and call the localhost:9000 URL I would prefer to host it on the Spring integrated Tomcat but I don&#39;t know how"}],"answers":[{"comments":[{"owner":{"account_id":26889406,"reputation":35,"user_id":20468426,"display_name":"Bhorah"},"score":0,"creation_date":1678013020,"post_id":75637589,"comment_id":133447438,"body_markdown":"My custom login page runs on a Tomcat with port 8080, and my back end API runs on the Tomcat integrated inside SpringBoot with port 9000. \nDo you think hosting both on the same server could be a solution ?","body":"My custom login page runs on a Tomcat with port 8080, and my back end API runs on the Tomcat integrated inside SpringBoot with port 9000.  Do you think hosting both on the same server could be a solution ?"},{"owner":{"account_id":27935211,"reputation":1,"user_id":21332372,"display_name":"MrVinChi01"},"score":0,"creation_date":1678030523,"post_id":75637589,"comment_id":133450140,"body_markdown":"Have them on same port 8080 if both are in single application.  And let me know if you still see http status 302. \nIf both are sitting in different applications then use nginx or other HTTP server for routing.","body":"Have them on same port 8080 if both are in single application.  And let me know if you still see http status 302.  If both are sitting in different applications then use nginx or other HTTP server for routing."},{"owner":{"account_id":26889406,"reputation":35,"user_id":20468426,"display_name":"Bhorah"},"score":0,"creation_date":1678038463,"post_id":75637589,"comment_id":133451522,"body_markdown":"I think I don&#39;t know how to set-up both applications on the same port without creating a conflict, because of the Spring-integrated Tomcat.","body":"I think I don&#39;t know how to set-up both applications on the same port without creating a conflict, because of the Spring-integrated Tomcat."},{"owner":{"account_id":27935211,"reputation":1,"user_id":21332372,"display_name":"MrVinChi01"},"score":0,"creation_date":1678054052,"post_id":75637589,"comment_id":133454250,"body_markdown":"Since there are two applications then you can use Nginx infront of each app and use the routing accordingly.","body":"Since there are two applications then you can use Nginx infront of each app and use the routing accordingly."},{"owner":{"account_id":26889406,"reputation":35,"user_id":20468426,"display_name":"Bhorah"},"score":0,"creation_date":1678054239,"post_id":75637589,"comment_id":133454274,"body_markdown":"Then I have to say I have not understood how I am supposed to configurate nginx. I tried adding the proxy but it seems not to be acknowledged by the front-end","body":"Then I have to say I have not understood how I am supposed to configurate nginx. I tried adding the proxy but it seems not to be acknowledged by the front-end"},{"owner":{"account_id":27935211,"reputation":1,"user_id":21332372,"display_name":"MrVinChi01"},"score":0,"creation_date":1678060522,"post_id":75637589,"comment_id":133455069,"body_markdown":"When you say you tried using proxy. is it httpd.conf you are updating?\nIf yes, that should also solve the issue.\nWhat is the error on UI? \nNginx can be installed by following link- https://www.nginx.com/resources/wiki/start/topics/tutorials/install/\nIts one of the ways to solve it.","body":"When you say you tried using proxy. is it httpd.conf you are updating? If yes, that should also solve the issue. What is the error on UI?  Nginx can be installed by following link- <a href=\"https://www.nginx.com/resources/wiki/start/topics/tutorials/install/\" rel=\"nofollow noreferrer\">nginx.com/resources/wiki/start/topics/tutorials/install</a> Its one of the ways to solve it."}],"tags":[],"owner":{"account_id":27935211,"reputation":1,"user_id":21332372,"display_name":"MrVinChi01"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677952889,"creation_date":1677952889,"answer_id":75637589,"question_id":75637306,"body_markdown":"What are you using to host the Custom Login page? \r\n\r\nWhen we run application locally and use front-end which access at browser url (default : port 80).\r\nWhen UI makes calls to loacalhost on different port as 9000 then usually you experience these kind of errors.\r\n\r\nIf thats the case you can add an nginx application and define routes in the same.\r\n\r\nSuch that your browser will think that you are making requests to same application but nginx will be routing it to Spring Application.\r\n\r\nhttps://nginx.org/en/docs/beginners_guide.html\r\n\r\nConfig for your nginx will look like :\r\n\r\nserver {\r\n\r\n    location /perform_login {\r\n        proxy_pass http://localhost:9000/perform_login;\r\n    } \r\n\r\n}\r\n\r\nand Front end fetch will make just localhost call:\r\n\r\n  fetch(&quot;http://localhost/perform_login&quot; ....\r\n\r\nAlso check on following links:\r\n\r\n\r\nhttps://stackoverflow.com/questions/37057772/spring-boot-and-nginx-integration\r\n\r\nhttps://www.nginx.com/blog/running-spring-boot-applications-zero-trust-environment-nginx-unit/","title":"How to fix my authentication and redirection problem?","body":"<p>What are you using to host the Custom Login page?</p>\n<p>When we run application locally and use front-end which access at browser url (default : port 80).\nWhen UI makes calls to loacalhost on different port as 9000 then usually you experience these kind of errors.</p>\n<p>If thats the case you can add an nginx application and define routes in the same.</p>\n<p>Such that your browser will think that you are making requests to same application but nginx will be routing it to Spring Application.</p>\n<p><a href=\"https://nginx.org/en/docs/beginners_guide.html\" rel=\"nofollow noreferrer\">https://nginx.org/en/docs/beginners_guide.html</a></p>\n<p>Config for your nginx will look like :</p>\n<p>server {</p>\n<pre><code>location /perform_login {\n    proxy_pass http://localhost:9000/perform_login;\n} \n</code></pre>\n<p>}</p>\n<p>and Front end fetch will make just localhost call:</p>\n<p>fetch(&quot;http://localhost/perform_login&quot; ....</p>\n<p>Also check on following links:</p>\n<p><a href=\"https://stackoverflow.com/questions/37057772/spring-boot-and-nginx-integration\">Spring Boot and Nginx integration</a></p>\n<p><a href=\"https://www.nginx.com/blog/running-spring-boot-applications-zero-trust-environment-nginx-unit/\" rel=\"nofollow noreferrer\">https://www.nginx.com/blog/running-spring-boot-applications-zero-trust-environment-nginx-unit/</a></p>\n"}],"owner":{"account_id":26889406,"reputation":35,"user_id":20468426,"display_name":"Bhorah"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":326,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1678053165,"creation_date":1677950140,"question_id":75637306,"body_markdown":"I am trying to build a Spring application for a school project and I am facing a few problems configuring Spring Security.\r\n\r\nIn fact, I have configured Spring Security so that I have two types of users : Employee and &quot;Commercant&quot; (Merchant in French). When I try to log in using the nav bar of my browser, everything goes fine: I can go to the default login page of Spring Security, log in, have access only to the `@GetMapping` and `@PostMapping` requests I am supposed to use, and I can logout. \r\n\r\nHowever, things get complicated when I try to use a custom login page (which is closer to real life cases). I have a JS page with a button, which sends a `POST` request to the `loginProcessingURL` with valid credentials. I know that the authentication is validated because the network tab of the inspector shows I am redirected to `/valide`, the `defaultSuccessUrl`. \r\n\r\n[![enter image description here][1]][1]\r\n\r\nBut as you can see, I can&#39;t reach `/valide` because I am instantly redirected to `/login`, just as if my user was not really identified, and my API wanted me to log in to access `/valide`. The 302 code validates that hypothesis because it shows I am immediately redirected when I try to acceed to `/valide`. Do you have any ideas of where it could come from? \r\n\r\nSecurity config: \r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    package com.openclassrooms.api.configuration;\r\n\r\n    import java.util.Arrays;\r\n\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.security.config.Customizer;\r\n    import org.springframework.security.config.annotation.method.configuration.EnableMethodSecurity;\r\n    import org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\n    import org.springframework.security.config.http.SessionCreationPolicy;\r\n    import org.springframework.security.core.userdetails.User;\r\n    import org.springframework.security.core.userdetails.UserDetails;\r\n    import org.springframework.security.core.userdetails.UserDetailsService;\r\n    import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\n    import org.springframework.security.crypto.password.PasswordEncoder;\r\n    import org.springframework.security.provisioning.InMemoryUserDetailsManager;\r\n    import org.springframework.security.web.SecurityFilterChain;\r\n    import org.springframework.security.web.authentication.logout.LogoutHandler;\r\n    import org.springframework.security.web.util.matcher.AntPathRequestMatcher;\r\n    import org.springframework.web.cors.CorsConfiguration;\r\n    import org.springframework.web.cors.CorsConfigurationSource;\r\n    import org.springframework.web.cors.UrlBasedCorsConfigurationSource;\r\n\r\n    import com.openclassrooms.api.service.CommercantService;\r\n    import com.openclassrooms.api.service.EmployeeService;\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    @EnableMethodSecurity (prePostEnabled = true)\r\n    public class SpringSecurityConfig {\r\n\r\n        @Autowired\r\n        private EmployeeService employeeService;\r\n\r\n        @Autowired\r\n        private CommercantService commercantService;\r\n        \r\n        @Bean\r\n        SecurityFilterChain securityFilterChain (HttpSecurity http) throws Exception {\r\n\r\n            http\r\n                .cors().and()\r\n                .csrf().disable()\r\n                .authorizeHttpRequests(auth -&gt; auth\r\n                    .requestMatchers(AntPathRequestMatcher.antMatcher(&quot;/h2-console/**&quot;)).permitAll()\r\n                    .requestMatchers(AntPathRequestMatcher.antMatcher(&quot;/login/**&quot;)).permitAll()\r\n                    .requestMatchers(AntPathRequestMatcher.antMatcher(&quot;/perform_login/**&quot;)).permitAll()\r\n                    .requestMatchers(AntPathRequestMatcher.antMatcher(&quot;/erreur&quot;)).permitAll()\r\n                    .requestMatchers(AntPathRequestMatcher.antMatcher(&quot;/&quot;)).permitAll()\r\n                    .anyRequest().authenticated())\r\n                .userDetailsService(employeeService)\r\n                .userDetailsService(commercantService)\r\n                .headers(headers -&gt; headers.frameOptions().sameOrigin())\r\n                .formLogin()\r\n                    // .loginPage(&quot;/index.html&quot;)\r\n                    .loginProcessingUrl(&quot;/perform_login&quot;)\r\n                    .defaultSuccessUrl(&quot;/valide&quot;)\r\n                    .failureUrl(&quot;/erreur&quot;)\r\n                    .and()\r\n                .sessionManagement(session -&gt; session\r\n                    .sessionCreationPolicy(SessionCreationPolicy.IF_REQUIRED)\r\n                    \r\n                    .maximumSessions(1)\r\n                    .expiredUrl(&quot;/sessionExpired&quot;))\r\n                .logout(logout -&gt; logout\r\n                    .logoutSuccessUrl(&quot;/&quot;)\r\n                    .invalidateHttpSession(true)\r\n                    .clearAuthentication(true)\r\n                    .deleteCookies(&quot;JSESSIONID&quot;));\r\n\r\n            return http.build();\r\n        }\r\n\r\n        @Bean\r\n        PasswordEncoder passwordEncoder (){\r\n            return new BCryptPasswordEncoder();\r\n        }\r\n\r\n        \r\n        @Bean\r\n        CorsConfigurationSource corsConfigurationSource() {\r\n            CorsConfiguration configuration = new CorsConfiguration();\r\n            configuration.setAllowedOrigins(Arrays.asList(&quot;*&quot;));\r\n            configuration.setAllowedMethods(Arrays.asList(&quot;*&quot;));\r\n            configuration.setAllowedHeaders(Arrays.asList(&quot;*&quot;));\r\n            configuration.setExposedHeaders(Arrays.asList(&quot;*&quot;));\r\n            UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n            source.registerCorsConfiguration(&quot;/**&quot;, configuration);\r\n            return source;\r\n        }\r\n\r\n    }\r\n\r\n`CommercantService`: \r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    package com.openclassrooms.api.service;\r\n\r\n    import java.util.Optional;\r\n\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.security.core.userdetails.User;\r\n    import org.springframework.security.core.userdetails.UserDetails;\r\n    import org.springframework.security.core.userdetails.UserDetailsService;\r\n    import org.springframework.security.core.userdetails.UsernameNotFoundException;\r\n    import org.springframework.stereotype.Service;\r\n\r\n    import com.openclassrooms.api.models.Commercant;\r\n    import com.openclassrooms.api.repository.CommercantRepository;\r\n\r\n    @Service\r\n    public class CommercantService implements UserDetailsService {\r\n\r\n        @Autowired\r\n        CommercantRepository commercantRepository;\r\n\r\n        public Optional&lt;Commercant&gt; getCommercantById(final Long id) {\r\n            return commercantRepository.findById(id);         \r\n        }\r\n\r\n        public Optional&lt;Commercant&gt; getCommercantByMail(final String mail) {\r\n            return commercantRepository.findCommercantByMail(mail);         \r\n        }\r\n\r\n        public Commercant saveCommercant(Commercant commercant) {\r\n            Commercant savedCommercant = commercantRepository.save(commercant);\r\n            return savedCommercant;\r\n        }\r\n\r\n        @Override\r\n        public UserDetails loadUserByUsername(String mail) throws UsernameNotFoundException{\r\n            Optional&lt;Commercant&gt; com = commercantRepository.findCommercantByMail(mail);\r\n            if (com.isEmpty()){\r\n                throw new UsernameNotFoundException(&quot;Mail invalide &quot;+mail);\r\n            }else {\r\n                Commercant commercant = com.get();\r\n                UserDetails user = User.withUsername(commercant.getMail()).password(commercant.getPassword()).roles(commercant.getRole()).build();\r\n                return user;\r\n            } \r\n        }\r\n    }\r\n\r\n`EmployeeService`: \r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    package com.openclassrooms.api.service;\r\n\r\n    import java.util.Optional;\r\n\r\n    import org.springframework.security.core.userdetails.User;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.security.core.userdetails.UserDetails;\r\n    import org.springframework.security.core.userdetails.UserDetailsService;\r\n    import org.springframework.security.core.userdetails.UsernameNotFoundException;\r\n    import org.springframework.stereotype.Service;\r\n    import com.openclassrooms.api.models.Employee;\r\n    import com.openclassrooms.api.repository.EmployeeRepository;\r\n\r\n    @Service\r\n    public class EmployeeService implements UserDetailsService {\r\n\r\n        @Autowired\r\n        private EmployeeRepository employeeRepository;   //On cr&#233;e un EmployeeRepository pour se connecter &#224; la BDD\r\n\r\n        public Optional&lt;Employee&gt; getEmployeeById(final Long id) {\r\n            //M&#233;thode qui renvoie un employ&#233; selon son identifiant\r\n            return employeeRepository.findById(id);         \r\n        }\r\n\r\n        public Optional&lt;Employee&gt; getEmployeeByMail(final String mail) {\r\n            //M&#233;thode qui renvoie un employ&#233; selon son identifiant\r\n            return employeeRepository.findEmployeeByMail(mail);         \r\n        }\r\n\r\n        public Iterable&lt;Employee&gt; getEmployees() {\r\n            //M&#233;thode qui renvoie la liste de tous les employ&#233;s\r\n            return employeeRepository.findAll();\r\n        }\r\n\r\n        public void deleteEmployee(final Long id) {\r\n            //M&#233;thode qui supprime un employ&#233; en BDD selon son ID\r\n            employeeRepository.deleteById(id);\r\n        }\r\n\r\n        public Employee saveEmployee(Employee employee) {\r\n            //M&#233;thode qui enregistre un nouvel employ&#233; en BDD\r\n            Employee savedEmployee = employeeRepository.save(employee);\r\n            return savedEmployee; //Renvoie l&#39;employ&#233; enregistr&#233; avec son identifiant mis &#224; jour selon la base de donn&#233;es\r\n        }\r\n\r\n        @Override\r\n        public UserDetails loadUserByUsername(String mail) throws UsernameNotFoundException {\r\n            Optional&lt;Employee&gt; emp = employeeRepository.findEmployeeByMail(mail);\r\n            if (emp.isEmpty()){\r\n                throw new UsernameNotFoundException(&quot;Mail invalide &quot;+mail);\r\n            }else {\r\n                Employee employee = emp.get();\r\n                UserDetails user = User.withUsername(employee.getMail()).password(employee.getPassword()).roles(employee.getRole()).build();\r\n                return user;\r\n            } \r\n        }\r\n\r\n    }\r\n\r\n`HomeController`: \r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    package com.openclassrooms.api.controller;\r\n\r\n    import org.json.JSONObject;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.security.access.prepost.PreAuthorize;\r\n    import org.springframework.web.bind.annotation.CrossOrigin;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.PostMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n\r\n    import com.openclassrooms.api.models.Commercant;\r\n    import com.openclassrooms.api.models.Employee;\r\n    import com.openclassrooms.api.service.CommercantService;\r\n    import com.openclassrooms.api.service.EmployeeService;\r\n\r\n    @RestController\r\n    public class HomeController {\r\n\r\n        @Autowired\r\n        EmployeeService employeeService;\r\n\r\n        @Autowired\r\n        CommercantService commercantService;\r\n        \r\n\r\n        @GetMapping(&quot;/&quot;)\r\n        public Employee Home(){\r\n            return employeeService.getEmployeeById(3L).get();\r\n        }\r\n\r\n        @GetMapping(&quot;/valide&quot;)\r\n        public Employee valide (){\r\n            System.out.println(&quot;Authentication validated !&quot;);\r\n            return employeeService.getEmployeeById(2L).get();\r\n        }\r\n\r\n        @GetMapping(&quot;/sessionExpired&quot;)\r\n        public String expire (){\r\n            return &quot;Session Expir&#233;e&quot;;\r\n        }\r\n\r\n        @GetMapping(&quot;/erreur&quot;)\r\n        public Employee erreur (){\r\n            System.out.println(&quot;Authentication error!&quot;);\r\n            return employeeService.getEmployeeById(1L).get();\r\n        }\r\n\r\n\r\n    }\r\n\r\n`CommercantController`: \r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    package com.openclassrooms.api.controller;\r\n\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.security.access.prepost.PreAuthorize;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n\r\n    import com.openclassrooms.api.models.Commercant;\r\n    import com.openclassrooms.api.service.CommercantService;\r\n\r\n    import jakarta.servlet.http.HttpServletRequest;\r\n\r\n    @RestController\r\n    @RequestMapping (&quot;/commercant&quot;)\r\n    @PreAuthorize (&quot;hasRole(&#39;ROLE_COMMERCANT&#39;)&quot;)\r\n    public class CommercantController {\r\n\r\n    @Autowired\r\n    CommercantService commercantService;\r\n\r\n        @GetMapping\r\n        public Commercant commercant(HttpServletRequest request){\r\n                return commercantService.getCommercantById(1L).get();       \r\n        }  \r\n\r\n    }\r\n\r\n`EmployeeController`: \r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    package com.openclassrooms.api.controller;\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.Optional;\r\n\r\n    import org.json.JSONObject;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.security.access.prepost.PreAuthorize;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.PathVariable;\r\n    import org.springframework.web.bind.annotation.PostMapping;\r\n    import org.springframework.web.bind.annotation.RequestBody;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RequestParam;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n\r\n    import com.openclassrooms.api.models.Employee;\r\n    import com.openclassrooms.api.service.EmployeeService;\r\n\r\n    @RestController\r\n    @RequestMapping (&quot;/employee&quot;)\r\n    @PreAuthorize (&quot;hasRole(&#39;ROLE_EMPLOYEE&#39;)&quot;)\r\n    public class EmployeeController {\r\n\r\n        @Autowired\r\n        private EmployeeService employeeService;\r\n\r\n        \r\n        @GetMapping(&quot;/{id}&quot;)  //m&#234;me structure qu&#39;au dessus, sauf qu&#39;on rajoute un identifiant : http://localhost:9000/employee/1 ou /2 ou /3\r\n        public Optional&lt;Employee&gt; getEmployee(@PathVariable(&quot;id&quot;) final Long id) {\r\n            Optional&lt;Employee&gt; emp = employeeService.getEmployeeById(id);\r\n\r\n            if (emp.isPresent()) {\r\n                System.out.println(emp.get().getFirstName());\r\n                return emp;   //ici on renvoie un seul employ&#233; au front-end\r\n            } else {\r\n                System.out.println(&quot;ABSENT&quot;);\r\n                return null;\r\n            }\r\n        }\r\n        \r\n        @GetMapping(&quot;/all&quot;)\r\n        public List&lt;Employee&gt; getEmployees(@RequestParam(&quot;ids&quot;) List&lt;Long&gt; ids) {\r\n            List&lt;Employee&gt; list = new ArrayList&lt;&gt;();\r\n            for (int i = 0; i&lt; ids.size(); i++){\r\n                list.add(employeeService.getEmployeeById(ids.get(i)).get());\r\n            }\r\n            return list;\r\n        }\r\n\r\n        @PostMapping (&quot;/auth&quot;)\r\n        public void employeeAuth (@RequestBody String requestBody){\r\n            JSONObject json = new JSONObject(requestBody);\r\n            String string1 = json.getString(&quot;email&quot;);\r\n            String string2 = json.getString(&quot;password&quot;);\r\n\r\n            System.out.println(string1 + &quot; &quot; + string2);\r\n        }\r\n    }\r\n\r\nJavaScript function: \r\n\r\n&lt;!-- language: javascript --&gt;\r\n\r\n    const button = document.getElementById(&quot;service-button&quot;);\r\n    const dataContainer = document.getElementById(&quot;service-data&quot;);\r\n\r\n    const url = &#39;http://localhost:9000/perform_login&#39;;\r\n    const data = &quot;username=otacos%40mail.com&amp;password=otacos&quot;;\r\n\r\n    button.addEventListener(&quot;click&quot;, function() {\r\n      fetch(&quot;http://localhost:9000/perform_login&quot;, {\r\n        method: &#39;POST&#39;,\r\n        headers: {\r\n                &#39;Content-Type&#39;: &#39;application/x-www-form-urlencoded&#39;,\r\n              },\r\n        body: data,\r\n      })\r\n      .then((response) =&gt; response.json())\r\n      .then((response) =&gt; console.log(response))\r\n      .catch((error) =&gt; console.error(error));\r\n    });\r\n\r\n\r\nEDIT : here are the logs of Spring Security. \r\n\r\nFirst, the log for a classic authentication + logout done by writing HTTP requests directly in the browser, which works fine : \r\n\r\n&lt;!-- language : java --&gt; \r\n\r\n    2023-03-05T15:43:09.018+01:00 DEBUG 11016 --- [nio-9000-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /\r\n    2023-03-05T15:43:09.026+01:00 DEBUG 11016 --- [nio-9000-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\r\n    2023-03-05T15:43:09.027+01:00 DEBUG 11016 --- [nio-9000-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /\r\n    2023-03-05T15:43:12.441+01:00 DEBUG 11016 --- [nio-9000-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /login\r\n    2023-03-05T15:43:17.610+01:00 DEBUG 11016 --- [nio-9000-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /perform_login\r\n    2023-03-05T15:43:17.796+01:00 DEBUG 11016 --- [nio-9000-exec-3] o.s.s.a.dao.DaoAuthenticationProvider    : Failed to find user &#39;otacos@mail.com&#39;\r\n    2023-03-05T15:43:17.905+01:00 DEBUG 11016 --- [nio-9000-exec-3] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user\r\n    2023-03-05T15:43:17.928+01:00 DEBUG 11016 --- [nio-9000-exec-3] o.s.s.core.session.SessionRegistryImpl   : Registering session 68E825E98F1B6C3982E5A413440676CF, for principal org.springframework.security.core.userdetails.User [Username=otacos@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_COMMERCANT]]\r\n    2023-03-05T15:43:17.929+01:00 DEBUG 11016 --- [nio-9000-exec-3] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=otacos@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_COMMERCANT]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_COMMERCANT]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@5b8fc6fd]\r\n    2023-03-05T15:43:17.930+01:00 DEBUG 11016 --- [nio-9000-exec-3] w.a.UsernamePasswordAuthenticationFilter : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=otacos@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_COMMERCANT]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_COMMERCANT]]\r\n    2023-03-05T15:43:17.930+01:00 DEBUG 11016 --- [nio-9000-exec-3] o.s.s.web.DefaultRedirectStrategy        : Redirecting to /valide\r\n    2023-03-05T15:43:17.935+01:00 DEBUG 11016 --- [nio-9000-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /valide\r\n    2023-03-05T15:43:17.935+01:00 DEBUG 11016 --- [nio-9000-exec-4] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=otacos@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_COMMERCANT]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_COMMERCANT]]]       \r\n    2023-03-05T15:43:17.936+01:00 DEBUG 11016 --- [nio-9000-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /valide\r\n    Authentication validated !\r\n    2023-03-05T15:43:22.305+01:00 DEBUG 11016 --- [nio-9000-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /logout\r\n    2023-03-05T15:43:22.305+01:00 DEBUG 11016 --- [nio-9000-exec-5] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=otacos@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_COMMERCANT]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_COMMERCANT]]]       \r\n    2023-03-05T15:43:22.306+01:00 DEBUG 11016 --- [nio-9000-exec-5] o.s.s.w.a.logout.LogoutFilter            : Logging out [UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=otacos@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_COMMERCANT]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_COMMERCANT]]]\r\n    2023-03-05T15:43:22.307+01:00 DEBUG 11016 --- [nio-9000-exec-5] o.s.s.w.a.l.SecurityContextLogoutHandler : Invalidated session 68E825E98F1B6C3982E5A413440676CF\r\n    2023-03-05T15:43:22.307+01:00 DEBUG 11016 --- [nio-9000-exec-5] o.s.s.web.DefaultRedirectStrategy        : Redirecting to /\r\n    2023-03-05T15:43:22.311+01:00 DEBUG 11016 --- [nio-9000-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /\r\n    2023-03-05T15:43:22.311+01:00 DEBUG 11016 --- [nio-9000-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\r\n    2023-03-05T15:43:22.312+01:00 DEBUG 11016 --- [nio-9000-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /\r\n\r\nAnd the trace for an authentication done using the button shown above : \r\n\r\n    2023-03-05T15:48:53.736+01:00 DEBUG 18004 --- [nio-9000-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /perform_login\r\n    2023-03-05T15:48:53.964+01:00 DEBUG 18004 --- [nio-9000-exec-1] o.s.s.a.dao.DaoAuthenticationProvider    : Failed to find user &#39;otacos@mail.com&#39;\r\n    2023-03-05T15:48:54.080+01:00 DEBUG 18004 --- [nio-9000-exec-1] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user\r\n    2023-03-05T15:48:54.106+01:00 DEBUG 18004 --- [nio-9000-exec-1] o.s.s.core.session.SessionRegistryImpl   : Registering session FD94F1CC9DF62780F8D31E362BC7AB09, for principal org.springframework.security.core.userdetails.User [Username=otacos@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_COMMERCANT]]\r\n    2023-03-05T15:48:54.108+01:00 DEBUG 18004 --- [nio-9000-exec-1] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=otacos@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_COMMERCANT]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_COMMERCANT]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@ba2827]\r\n    2023-03-05T15:48:54.109+01:00 DEBUG 18004 --- [nio-9000-exec-1] w.a.UsernamePasswordAuthenticationFilter : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=otacos@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_COMMERCANT]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_COMMERCANT]]\r\n    2023-03-05T15:48:54.109+01:00 DEBUG 18004 --- [nio-9000-exec-1] o.s.s.web.DefaultRedirectStrategy        : Redirecting to /valide\r\n    2023-03-05T15:48:54.113+01:00 DEBUG 18004 --- [nio-9000-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /valide\r\n    2023-03-05T15:48:54.116+01:00 DEBUG 18004 --- [nio-9000-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\r\n    2023-03-05T15:48:54.120+01:00 DEBUG 18004 --- [nio-9000-exec-2] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:9000/valide?continue to session\r\n    2023-03-05T15:48:54.120+01:00 DEBUG 18004 --- [nio-9000-exec-2] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:9000/login\r\n    2023-03-05T15:48:54.124+01:00 DEBUG 18004 --- [nio-9000-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /login\r\n\r\n  [1]: https://i.stack.imgur.com/1HorH.png","title":"How to fix my authentication and redirection problem?","body":"<p>I am trying to build a Spring application for a school project and I am facing a few problems configuring Spring Security.</p>\n<p>In fact, I have configured Spring Security so that I have two types of users : Employee and &quot;Commercant&quot; (Merchant in French). When I try to log in using the nav bar of my browser, everything goes fine: I can go to the default login page of Spring Security, log in, have access only to the <code>@GetMapping</code> and <code>@PostMapping</code> requests I am supposed to use, and I can logout.</p>\n<p>However, things get complicated when I try to use a custom login page (which is closer to real life cases). I have a JS page with a button, which sends a <code>POST</code> request to the <code>loginProcessingURL</code> with valid credentials. I know that the authentication is validated because the network tab of the inspector shows I am redirected to <code>/valide</code>, the <code>defaultSuccessUrl</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/1HorH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1HorH.png\" alt=\"enter image description here\" /></a></p>\n<p>But as you can see, I can't reach <code>/valide</code> because I am instantly redirected to <code>/login</code>, just as if my user was not really identified, and my API wanted me to log in to access <code>/valide</code>. The 302 code validates that hypothesis because it shows I am immediately redirected when I try to acceed to <code>/valide</code>. Do you have any ideas of where it could come from?</p>\n<p>Security config:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.openclassrooms.api.configuration;\n\nimport java.util.Arrays;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.Customizer;\nimport org.springframework.security.config.annotation.method.configuration.EnableMethodSecurity;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.http.SessionCreationPolicy;\nimport org.springframework.security.core.userdetails.User;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.security.provisioning.InMemoryUserDetailsManager;\nimport org.springframework.security.web.SecurityFilterChain;\nimport org.springframework.security.web.authentication.logout.LogoutHandler;\nimport org.springframework.security.web.util.matcher.AntPathRequestMatcher;\nimport org.springframework.web.cors.CorsConfiguration;\nimport org.springframework.web.cors.CorsConfigurationSource;\nimport org.springframework.web.cors.UrlBasedCorsConfigurationSource;\n\nimport com.openclassrooms.api.service.CommercantService;\nimport com.openclassrooms.api.service.EmployeeService;\n\n@Configuration\n@EnableWebSecurity\n@EnableMethodSecurity (prePostEnabled = true)\npublic class SpringSecurityConfig {\n\n    @Autowired\n    private EmployeeService employeeService;\n\n    @Autowired\n    private CommercantService commercantService;\n    \n    @Bean\n    SecurityFilterChain securityFilterChain (HttpSecurity http) throws Exception {\n\n        http\n            .cors().and()\n            .csrf().disable()\n            .authorizeHttpRequests(auth -&gt; auth\n                .requestMatchers(AntPathRequestMatcher.antMatcher(&quot;/h2-console/**&quot;)).permitAll()\n                .requestMatchers(AntPathRequestMatcher.antMatcher(&quot;/login/**&quot;)).permitAll()\n                .requestMatchers(AntPathRequestMatcher.antMatcher(&quot;/perform_login/**&quot;)).permitAll()\n                .requestMatchers(AntPathRequestMatcher.antMatcher(&quot;/erreur&quot;)).permitAll()\n                .requestMatchers(AntPathRequestMatcher.antMatcher(&quot;/&quot;)).permitAll()\n                .anyRequest().authenticated())\n            .userDetailsService(employeeService)\n            .userDetailsService(commercantService)\n            .headers(headers -&gt; headers.frameOptions().sameOrigin())\n            .formLogin()\n                // .loginPage(&quot;/index.html&quot;)\n                .loginProcessingUrl(&quot;/perform_login&quot;)\n                .defaultSuccessUrl(&quot;/valide&quot;)\n                .failureUrl(&quot;/erreur&quot;)\n                .and()\n            .sessionManagement(session -&gt; session\n                .sessionCreationPolicy(SessionCreationPolicy.IF_REQUIRED)\n                \n                .maximumSessions(1)\n                .expiredUrl(&quot;/sessionExpired&quot;))\n            .logout(logout -&gt; logout\n                .logoutSuccessUrl(&quot;/&quot;)\n                .invalidateHttpSession(true)\n                .clearAuthentication(true)\n                .deleteCookies(&quot;JSESSIONID&quot;));\n\n        return http.build();\n    }\n\n    @Bean\n    PasswordEncoder passwordEncoder (){\n        return new BCryptPasswordEncoder();\n    }\n\n    \n    @Bean\n    CorsConfigurationSource corsConfigurationSource() {\n        CorsConfiguration configuration = new CorsConfiguration();\n        configuration.setAllowedOrigins(Arrays.asList(&quot;*&quot;));\n        configuration.setAllowedMethods(Arrays.asList(&quot;*&quot;));\n        configuration.setAllowedHeaders(Arrays.asList(&quot;*&quot;));\n        configuration.setExposedHeaders(Arrays.asList(&quot;*&quot;));\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n        source.registerCorsConfiguration(&quot;/**&quot;, configuration);\n        return source;\n    }\n\n}\n</code></pre>\n<p><code>CommercantService</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.openclassrooms.api.service;\n\nimport java.util.Optional;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.core.userdetails.User;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\nimport org.springframework.stereotype.Service;\n\nimport com.openclassrooms.api.models.Commercant;\nimport com.openclassrooms.api.repository.CommercantRepository;\n\n@Service\npublic class CommercantService implements UserDetailsService {\n\n    @Autowired\n    CommercantRepository commercantRepository;\n\n    public Optional&lt;Commercant&gt; getCommercantById(final Long id) {\n        return commercantRepository.findById(id);         \n    }\n\n    public Optional&lt;Commercant&gt; getCommercantByMail(final String mail) {\n        return commercantRepository.findCommercantByMail(mail);         \n    }\n\n    public Commercant saveCommercant(Commercant commercant) {\n        Commercant savedCommercant = commercantRepository.save(commercant);\n        return savedCommercant;\n    }\n\n    @Override\n    public UserDetails loadUserByUsername(String mail) throws UsernameNotFoundException{\n        Optional&lt;Commercant&gt; com = commercantRepository.findCommercantByMail(mail);\n        if (com.isEmpty()){\n            throw new UsernameNotFoundException(&quot;Mail invalide &quot;+mail);\n        }else {\n            Commercant commercant = com.get();\n            UserDetails user = User.withUsername(commercant.getMail()).password(commercant.getPassword()).roles(commercant.getRole()).build();\n            return user;\n        } \n    }\n}\n</code></pre>\n<p><code>EmployeeService</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.openclassrooms.api.service;\n\nimport java.util.Optional;\n\nimport org.springframework.security.core.userdetails.User;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\nimport org.springframework.stereotype.Service;\nimport com.openclassrooms.api.models.Employee;\nimport com.openclassrooms.api.repository.EmployeeRepository;\n\n@Service\npublic class EmployeeService implements UserDetailsService {\n\n    @Autowired\n    private EmployeeRepository employeeRepository;   //On crée un EmployeeRepository pour se connecter à la BDD\n\n    public Optional&lt;Employee&gt; getEmployeeById(final Long id) {\n        //Méthode qui renvoie un employé selon son identifiant\n        return employeeRepository.findById(id);         \n    }\n\n    public Optional&lt;Employee&gt; getEmployeeByMail(final String mail) {\n        //Méthode qui renvoie un employé selon son identifiant\n        return employeeRepository.findEmployeeByMail(mail);         \n    }\n\n    public Iterable&lt;Employee&gt; getEmployees() {\n        //Méthode qui renvoie la liste de tous les employés\n        return employeeRepository.findAll();\n    }\n\n    public void deleteEmployee(final Long id) {\n        //Méthode qui supprime un employé en BDD selon son ID\n        employeeRepository.deleteById(id);\n    }\n\n    public Employee saveEmployee(Employee employee) {\n        //Méthode qui enregistre un nouvel employé en BDD\n        Employee savedEmployee = employeeRepository.save(employee);\n        return savedEmployee; //Renvoie l'employé enregistré avec son identifiant mis à jour selon la base de données\n    }\n\n    @Override\n    public UserDetails loadUserByUsername(String mail) throws UsernameNotFoundException {\n        Optional&lt;Employee&gt; emp = employeeRepository.findEmployeeByMail(mail);\n        if (emp.isEmpty()){\n            throw new UsernameNotFoundException(&quot;Mail invalide &quot;+mail);\n        }else {\n            Employee employee = emp.get();\n            UserDetails user = User.withUsername(employee.getMail()).password(employee.getPassword()).roles(employee.getRole()).build();\n            return user;\n        } \n    }\n\n}\n</code></pre>\n<p><code>HomeController</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.openclassrooms.api.controller;\n\nimport org.json.JSONObject;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.access.prepost.PreAuthorize;\nimport org.springframework.web.bind.annotation.CrossOrigin;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport com.openclassrooms.api.models.Commercant;\nimport com.openclassrooms.api.models.Employee;\nimport com.openclassrooms.api.service.CommercantService;\nimport com.openclassrooms.api.service.EmployeeService;\n\n@RestController\npublic class HomeController {\n\n    @Autowired\n    EmployeeService employeeService;\n\n    @Autowired\n    CommercantService commercantService;\n    \n\n    @GetMapping(&quot;/&quot;)\n    public Employee Home(){\n        return employeeService.getEmployeeById(3L).get();\n    }\n\n    @GetMapping(&quot;/valide&quot;)\n    public Employee valide (){\n        System.out.println(&quot;Authentication validated !&quot;);\n        return employeeService.getEmployeeById(2L).get();\n    }\n\n    @GetMapping(&quot;/sessionExpired&quot;)\n    public String expire (){\n        return &quot;Session Expirée&quot;;\n    }\n\n    @GetMapping(&quot;/erreur&quot;)\n    public Employee erreur (){\n        System.out.println(&quot;Authentication error!&quot;);\n        return employeeService.getEmployeeById(1L).get();\n    }\n\n\n}\n</code></pre>\n<p><code>CommercantController</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.openclassrooms.api.controller;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.access.prepost.PreAuthorize;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport com.openclassrooms.api.models.Commercant;\nimport com.openclassrooms.api.service.CommercantService;\n\nimport jakarta.servlet.http.HttpServletRequest;\n\n@RestController\n@RequestMapping (&quot;/commercant&quot;)\n@PreAuthorize (&quot;hasRole('ROLE_COMMERCANT')&quot;)\npublic class CommercantController {\n\n@Autowired\nCommercantService commercantService;\n\n    @GetMapping\n    public Commercant commercant(HttpServletRequest request){\n            return commercantService.getCommercantById(1L).get();       \n    }  \n\n}\n</code></pre>\n<p><code>EmployeeController</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.openclassrooms.api.controller;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Optional;\n\nimport org.json.JSONObject;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.access.prepost.PreAuthorize;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport com.openclassrooms.api.models.Employee;\nimport com.openclassrooms.api.service.EmployeeService;\n\n@RestController\n@RequestMapping (&quot;/employee&quot;)\n@PreAuthorize (&quot;hasRole('ROLE_EMPLOYEE')&quot;)\npublic class EmployeeController {\n\n    @Autowired\n    private EmployeeService employeeService;\n\n    \n    @GetMapping(&quot;/{id}&quot;)  //même structure qu'au dessus, sauf qu'on rajoute un identifiant : http://localhost:9000/employee/1 ou /2 ou /3\n    public Optional&lt;Employee&gt; getEmployee(@PathVariable(&quot;id&quot;) final Long id) {\n        Optional&lt;Employee&gt; emp = employeeService.getEmployeeById(id);\n\n        if (emp.isPresent()) {\n            System.out.println(emp.get().getFirstName());\n            return emp;   //ici on renvoie un seul employé au front-end\n        } else {\n            System.out.println(&quot;ABSENT&quot;);\n            return null;\n        }\n    }\n    \n    @GetMapping(&quot;/all&quot;)\n    public List&lt;Employee&gt; getEmployees(@RequestParam(&quot;ids&quot;) List&lt;Long&gt; ids) {\n        List&lt;Employee&gt; list = new ArrayList&lt;&gt;();\n        for (int i = 0; i&lt; ids.size(); i++){\n            list.add(employeeService.getEmployeeById(ids.get(i)).get());\n        }\n        return list;\n    }\n\n    @PostMapping (&quot;/auth&quot;)\n    public void employeeAuth (@RequestBody String requestBody){\n        JSONObject json = new JSONObject(requestBody);\n        String string1 = json.getString(&quot;email&quot;);\n        String string2 = json.getString(&quot;password&quot;);\n\n        System.out.println(string1 + &quot; &quot; + string2);\n    }\n}\n</code></pre>\n<p>JavaScript function:</p>\n<pre class=\"lang-js prettyprint-override\"><code>const button = document.getElementById(&quot;service-button&quot;);\nconst dataContainer = document.getElementById(&quot;service-data&quot;);\n\nconst url = 'http://localhost:9000/perform_login';\nconst data = &quot;username=otacos%40mail.com&amp;password=otacos&quot;;\n\nbutton.addEventListener(&quot;click&quot;, function() {\n  fetch(&quot;http://localhost:9000/perform_login&quot;, {\n    method: 'POST',\n    headers: {\n            'Content-Type': 'application/x-www-form-urlencoded',\n          },\n    body: data,\n  })\n  .then((response) =&gt; response.json())\n  .then((response) =&gt; console.log(response))\n  .catch((error) =&gt; console.error(error));\n});\n</code></pre>\n<p>EDIT : here are the logs of Spring Security.</p>\n<p>First, the log for a classic authentication + logout done by writing HTTP requests directly in the browser, which works fine :</p>\n \n<pre><code>2023-03-05T15:43:09.018+01:00 DEBUG 11016 --- [nio-9000-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /\n2023-03-05T15:43:09.026+01:00 DEBUG 11016 --- [nio-9000-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\n2023-03-05T15:43:09.027+01:00 DEBUG 11016 --- [nio-9000-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /\n2023-03-05T15:43:12.441+01:00 DEBUG 11016 --- [nio-9000-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /login\n2023-03-05T15:43:17.610+01:00 DEBUG 11016 --- [nio-9000-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /perform_login\n2023-03-05T15:43:17.796+01:00 DEBUG 11016 --- [nio-9000-exec-3] o.s.s.a.dao.DaoAuthenticationProvider    : Failed to find user 'otacos@mail.com'\n2023-03-05T15:43:17.905+01:00 DEBUG 11016 --- [nio-9000-exec-3] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user\n2023-03-05T15:43:17.928+01:00 DEBUG 11016 --- [nio-9000-exec-3] o.s.s.core.session.SessionRegistryImpl   : Registering session 68E825E98F1B6C3982E5A413440676CF, for principal org.springframework.security.core.userdetails.User [Username=otacos@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_COMMERCANT]]\n2023-03-05T15:43:17.929+01:00 DEBUG 11016 --- [nio-9000-exec-3] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=otacos@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_COMMERCANT]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_COMMERCANT]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@5b8fc6fd]\n2023-03-05T15:43:17.930+01:00 DEBUG 11016 --- [nio-9000-exec-3] w.a.UsernamePasswordAuthenticationFilter : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=otacos@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_COMMERCANT]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_COMMERCANT]]\n2023-03-05T15:43:17.930+01:00 DEBUG 11016 --- [nio-9000-exec-3] o.s.s.web.DefaultRedirectStrategy        : Redirecting to /valide\n2023-03-05T15:43:17.935+01:00 DEBUG 11016 --- [nio-9000-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /valide\n2023-03-05T15:43:17.935+01:00 DEBUG 11016 --- [nio-9000-exec-4] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=otacos@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_COMMERCANT]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_COMMERCANT]]]       \n2023-03-05T15:43:17.936+01:00 DEBUG 11016 --- [nio-9000-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /valide\nAuthentication validated !\n2023-03-05T15:43:22.305+01:00 DEBUG 11016 --- [nio-9000-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /logout\n2023-03-05T15:43:22.305+01:00 DEBUG 11016 --- [nio-9000-exec-5] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=otacos@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_COMMERCANT]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_COMMERCANT]]]       \n2023-03-05T15:43:22.306+01:00 DEBUG 11016 --- [nio-9000-exec-5] o.s.s.w.a.logout.LogoutFilter            : Logging out [UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=otacos@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_COMMERCANT]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_COMMERCANT]]]\n2023-03-05T15:43:22.307+01:00 DEBUG 11016 --- [nio-9000-exec-5] o.s.s.w.a.l.SecurityContextLogoutHandler : Invalidated session 68E825E98F1B6C3982E5A413440676CF\n2023-03-05T15:43:22.307+01:00 DEBUG 11016 --- [nio-9000-exec-5] o.s.s.web.DefaultRedirectStrategy        : Redirecting to /\n2023-03-05T15:43:22.311+01:00 DEBUG 11016 --- [nio-9000-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /\n2023-03-05T15:43:22.311+01:00 DEBUG 11016 --- [nio-9000-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\n2023-03-05T15:43:22.312+01:00 DEBUG 11016 --- [nio-9000-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /\n</code></pre>\n<p>And the trace for an authentication done using the button shown above :</p>\n<pre><code>2023-03-05T15:48:53.736+01:00 DEBUG 18004 --- [nio-9000-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /perform_login\n2023-03-05T15:48:53.964+01:00 DEBUG 18004 --- [nio-9000-exec-1] o.s.s.a.dao.DaoAuthenticationProvider    : Failed to find user 'otacos@mail.com'\n2023-03-05T15:48:54.080+01:00 DEBUG 18004 --- [nio-9000-exec-1] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user\n2023-03-05T15:48:54.106+01:00 DEBUG 18004 --- [nio-9000-exec-1] o.s.s.core.session.SessionRegistryImpl   : Registering session FD94F1CC9DF62780F8D31E362BC7AB09, for principal org.springframework.security.core.userdetails.User [Username=otacos@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_COMMERCANT]]\n2023-03-05T15:48:54.108+01:00 DEBUG 18004 --- [nio-9000-exec-1] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=otacos@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_COMMERCANT]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_COMMERCANT]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@ba2827]\n2023-03-05T15:48:54.109+01:00 DEBUG 18004 --- [nio-9000-exec-1] w.a.UsernamePasswordAuthenticationFilter : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=otacos@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_COMMERCANT]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_COMMERCANT]]\n2023-03-05T15:48:54.109+01:00 DEBUG 18004 --- [nio-9000-exec-1] o.s.s.web.DefaultRedirectStrategy        : Redirecting to /valide\n2023-03-05T15:48:54.113+01:00 DEBUG 18004 --- [nio-9000-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /valide\n2023-03-05T15:48:54.116+01:00 DEBUG 18004 --- [nio-9000-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\n2023-03-05T15:48:54.120+01:00 DEBUG 18004 --- [nio-9000-exec-2] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:9000/valide?continue to session\n2023-03-05T15:48:54.120+01:00 DEBUG 18004 --- [nio-9000-exec-2] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:9000/login\n2023-03-05T15:48:54.124+01:00 DEBUG 18004 --- [nio-9000-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /login\n</code></pre>\n"},{"tags":["python","java","pyspark","jupyter-notebook"],"answers":[{"tags":[],"owner":{"account_id":8320707,"reputation":5885,"user_id":6252525,"display_name":"JGC"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678052484,"creation_date":1678052484,"answer_id":75645523,"question_id":73532109,"body_markdown":"If you have the correct version of Java installed, but it&#39;s not the default version for your operating system, you can update your system `PATH` environment variable dynamically, or set the `JAVA_HOME` environment variable within Python before creating your Spark context.\r\n\r\nYour two options would look like this:\r\n\r\n# Set JAVA_HOME\r\n\r\n```python\r\nimport os\r\n\r\nJAVA_HOME = &quot;/Library/Java/JavaVirtualMachines/jdk1.8.0_271.jdk/Contents/Home&quot;\r\nos.environ[&quot;JAVA_HOME&quot;] = JAVA_HOME\r\n\r\nfrom pyspark.sql import SparkSession\r\nspark=SparkSession.builder.appName(&#39;Practise&#39;).getOrCreate()\r\n```\r\n\r\n# Add Java bin to PATH\r\n\r\n```python\r\nimport os\r\n\r\nJAVA_HOME = &quot;/Library/Java/JavaVirtualMachines/jdk1.8.0_271.jdk/Contents/Home&quot;\r\nos.environ[&quot;PATH&quot;] = f&quot;{JAVA_HOME}/bin:{os.environ[&#39;PATH&#39;]}&quot;  # Note /bin is added to JAVA_HOME path.\r\n\r\nfrom pyspark.sql import SparkSession\r\nspark=SparkSession.builder.appName(&#39;Practise&#39;).getOrCreate()\r\n```","title":"Setting up Java Version to be used by PySpark in Jupyter Notebook","body":"<p>If you have the correct version of Java installed, but it's not the default version for your operating system, you can update your system <code>PATH</code> environment variable dynamically, or set the <code>JAVA_HOME</code> environment variable within Python before creating your Spark context.</p>\n<p>Your two options would look like this:</p>\n<h1>Set JAVA_HOME</h1>\n<pre class=\"lang-py prettyprint-override\"><code>import os\n\nJAVA_HOME = &quot;/Library/Java/JavaVirtualMachines/jdk1.8.0_271.jdk/Contents/Home&quot;\nos.environ[&quot;JAVA_HOME&quot;] = JAVA_HOME\n\nfrom pyspark.sql import SparkSession\nspark=SparkSession.builder.appName('Practise').getOrCreate()\n</code></pre>\n<h1>Add Java bin to PATH</h1>\n<pre class=\"lang-py prettyprint-override\"><code>import os\n\nJAVA_HOME = &quot;/Library/Java/JavaVirtualMachines/jdk1.8.0_271.jdk/Contents/Home&quot;\nos.environ[&quot;PATH&quot;] = f&quot;{JAVA_HOME}/bin:{os.environ['PATH']}&quot;  # Note /bin is added to JAVA_HOME path.\n\nfrom pyspark.sql import SparkSession\nspark=SparkSession.builder.appName('Practise').getOrCreate()\n</code></pre>\n"}],"owner":{"account_id":21512248,"reputation":51,"user_id":19288442,"display_name":"Morgan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1696,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1678052484,"creation_date":1661791881,"question_id":73532109,"body_markdown":"When trying to run PySpark in my Jupyter Notebook in VSCode I run into the following error message after the following lines of code:\r\n```\r\nimport pyspark\r\n\r\nfrom pyspark.sql import SparkSession\r\n\r\nimport findspark # part of my google work on the problem - didn&#39;t help...\r\n\r\nspark=SparkSession.builder.appName(&#39;Practise&#39;).getOrCreate()\r\n```\r\n\r\n\r\n\r\n&gt; ```&quot;name&quot;: &quot;Py4JJavaError&quot;, \t&quot;message&quot;: &quot;An error occurred while\r\n&gt; calling None.org.apache.spark.api.java.JavaSparkContext.\\n:\r\n&gt; java.lang.IllegalAccessError: class\r\n&gt; org.apache.spark.storage.StorageUtils$ (in unnamed module @0x34d2e626)\r\n&gt; cannot access class sun.nio.ch.DirectBuffer (in module java.base)\r\n&gt; because module java.base does not export sun.nio.ch to unnamed module\r\n&gt; @0x34d2e626\\n\\tat\r\n&gt; org.apache.spark.storage.StorageUtils$.&lt;init&gt;(StorageUtils.scala:213)\\n\\tat\r\n&gt; org.apache.spark.storage.StorageUtils$.&lt;clinit&gt;(StorageUtils.scala)\\n\\tat\r\n&gt; org.apache.spark.storage.BlockManagerMasterEndpoint.&lt;init&gt;(BlockManagerMasterEndpoint.scala:110)\\n\\tat\r\n&gt; org.apache.spark.SparkEnv$.$anonfun$create$9(SparkEnv.scala:348)\\n\\tat\r\n&gt; org.apache.spark.SparkEnv$.registerOrLookupEndpoint$1(SparkEnv.scala:287)\\n\\tat\r\n&gt; org.apache.spark.SparkEnv$.create(SparkEnv.scala:336)\\n\\tat\r\n&gt; org.apache.spark.SparkEnv$.createDriverEnv(SparkEnv.scala:191)\\n\\tat\r\n&gt; org.apache.spark.SparkContext.createSparkEnv(SparkContext.scala:277)\\n\\tat\r\n&gt; org.apache.spark.SparkContext.&lt;init&gt;(SparkContext.scala:460)\\n\\tat\r\n&gt; org.apache.spark.api.java.JavaSparkContext.&lt;init&gt;(JavaSparkContext.scala:58)\\n\\tat\r\n&gt; java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:67)\\n\\tat\r\n&gt; java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\\n\\tat\r\n&gt; java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:483)\\n\\tat\r\n&gt; py4j.reflection.MethodInvoker.invoke(MethodInvoker.java:247)\\n\\tat\r\n&gt; py4j.reflection.ReflectionEngine.invoke(ReflectionEngine.java:357)\\n\\tat\r\n&gt; py4j.Gateway.invoke(Gateway.java:238)\\n\\tat\r\n&gt; py4j.commands.ConstructorCommand.invokeConstructor(ConstructorCommand.java:80)\\n\\tat\r\n&gt; py4j.commands.ConstructorCommand.execute(ConstructorCommand.java:69)\\n\\tat\r\n&gt; py4j.ClientServerConnection.waitForCommands(ClientServerConnection.java:182)\\n\\tat\r\n&gt; py4j.ClientServerConnection.run(ClientServerConnection.java:106)\\n\\tat\r\n&gt; java.base/java.lang.Thread.run(Thread.java:833)\\n&quot;, ```\r\n\r\nThe error message goes on but I think this is the relevant part. By doing some google work I found that this probably hints that the wrong version of Java is used (if not I might&#39;ve to change the headline of this thread). On my Mac I got Java 18 and 8 installed. In my Terminal I can switch between versions like this:\r\n\r\n```\r\nJAVA_HOME=&#39;/Library/Java/JavaVirtualMachines/jdk-18.0.1.1.jdk/Contents/Home&#39;\r\nJAVA_HOME=&#39;/Library/Java/JavaVirtualMachines/jdk1.8.0_202.jdk/Contents/Home&#39;\r\n```\r\n\r\nHowever, in my notebook this does not seem to work:\r\n\r\n```\r\n!export JAVA_HOME=&#39;/Users/_______/Library/Java/JavaVirtualMachines/jdk1.8.0_202.jdk/Contents/Home&#39;\r\n!java -version\r\n```\r\nOutput is still:\r\n\r\n```\r\njava version &quot;18.0.1.1&quot; 2022-04-22\r\nJava(TM) SE Runtime Environment (build 18.0.1.1+2-6)\r\nJava HotSpot(TM) 64-Bit Server VM (build 18.0.1.1+2-6, mixed mode, sharing)\r\n```\r\n\r\nIs there a solution other than completely removing the newer Java-Version from my Mac (or is the problem actually a completely different one)?\r\n","title":"Setting up Java Version to be used by PySpark in Jupyter Notebook","body":"<p>When trying to run PySpark in my Jupyter Notebook in VSCode I run into the following error message after the following lines of code:</p>\n<pre><code>import pyspark\n\nfrom pyspark.sql import SparkSession\n\nimport findspark # part of my google work on the problem - didn't help...\n\nspark=SparkSession.builder.appName('Practise').getOrCreate()\n</code></pre>\n<blockquote>\n<pre><code>calling None.org.apache.spark.api.java.JavaSparkContext.\\n:\njava.lang.IllegalAccessError: class\norg.apache.spark.storage.StorageUtils$ (in unnamed module @0x34d2e626)\ncannot access class sun.nio.ch.DirectBuffer (in module java.base)\nbecause module java.base does not export sun.nio.ch to unnamed module\n@0x34d2e626\\n\\tat\norg.apache.spark.storage.StorageUtils$.&lt;init&gt;(StorageUtils.scala:213)\\n\\tat\norg.apache.spark.storage.StorageUtils$.&lt;clinit&gt;(StorageUtils.scala)\\n\\tat\norg.apache.spark.storage.BlockManagerMasterEndpoint.&lt;init&gt;(BlockManagerMasterEndpoint.scala:110)\\n\\tat\norg.apache.spark.SparkEnv$.$anonfun$create$9(SparkEnv.scala:348)\\n\\tat\norg.apache.spark.SparkEnv$.registerOrLookupEndpoint$1(SparkEnv.scala:287)\\n\\tat\norg.apache.spark.SparkEnv$.create(SparkEnv.scala:336)\\n\\tat\norg.apache.spark.SparkEnv$.createDriverEnv(SparkEnv.scala:191)\\n\\tat\norg.apache.spark.SparkContext.createSparkEnv(SparkContext.scala:277)\\n\\tat\norg.apache.spark.SparkContext.&lt;init&gt;(SparkContext.scala:460)\\n\\tat\norg.apache.spark.api.java.JavaSparkContext.&lt;init&gt;(JavaSparkContext.scala:58)\\n\\tat\njava.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:67)\\n\\tat\njava.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\\n\\tat\njava.base/java.lang.reflect.Constructor.newInstance(Constructor.java:483)\\n\\tat\npy4j.reflection.MethodInvoker.invoke(MethodInvoker.java:247)\\n\\tat\npy4j.reflection.ReflectionEngine.invoke(ReflectionEngine.java:357)\\n\\tat\npy4j.Gateway.invoke(Gateway.java:238)\\n\\tat\npy4j.commands.ConstructorCommand.invokeConstructor(ConstructorCommand.java:80)\\n\\tat\npy4j.commands.ConstructorCommand.execute(ConstructorCommand.java:69)\\n\\tat\npy4j.ClientServerConnection.waitForCommands(ClientServerConnection.java:182)\\n\\tat\npy4j.ClientServerConnection.run(ClientServerConnection.java:106)\\n\\tat\njava.base/java.lang.Thread.run(Thread.java:833)\\n&quot;, ```\n</code></pre>\n</blockquote>\n<p>The error message goes on but I think this is the relevant part. By doing some google work I found that this probably hints that the wrong version of Java is used (if not I might've to change the headline of this thread). On my Mac I got Java 18 and 8 installed. In my Terminal I can switch between versions like this:</p>\n<pre><code>JAVA_HOME='/Library/Java/JavaVirtualMachines/jdk-18.0.1.1.jdk/Contents/Home'\nJAVA_HOME='/Library/Java/JavaVirtualMachines/jdk1.8.0_202.jdk/Contents/Home'\n</code></pre>\n<p>However, in my notebook this does not seem to work:</p>\n<pre><code>!export JAVA_HOME='/Users/_______/Library/Java/JavaVirtualMachines/jdk1.8.0_202.jdk/Contents/Home'\n!java -version\n</code></pre>\n<p>Output is still:</p>\n<pre><code>java version &quot;18.0.1.1&quot; 2022-04-22\nJava(TM) SE Runtime Environment (build 18.0.1.1+2-6)\nJava HotSpot(TM) 64-Bit Server VM (build 18.0.1.1+2-6, mixed mode, sharing)\n</code></pre>\n<p>Is there a solution other than completely removing the newer Java-Version from my Mac (or is the problem actually a completely different one)?</p>\n"},{"tags":["java","spring-boot","jdbc","spring-jdbc","simplejdbccall"],"comments":[{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1678055826,"post_id":75645512,"comment_id":133454467,"body_markdown":"Have you looked at [JDBI](https://jdbi.org) or [JOOQ](https://jooq.org)?","body":"Have you looked at <a href=\"https://jdbi.org\" rel=\"nofollow noreferrer\">JDBI</a> or <a href=\"https://jooq.org\" rel=\"nofollow noreferrer\">JOOQ</a>?"},{"owner":{"account_id":1612919,"reputation":1711,"user_id":1491384,"accept_rate":83,"display_name":"Taylor Brown"},"score":0,"creation_date":1678056636,"post_id":75645512,"comment_id":133454580,"body_markdown":"@rzwitserloot No I have not yet... Still getting my feet wet and more exploration is still needed... I will look into those, thanks for recommending some alternatives.","body":"@rzwitserloot No I have not yet... Still getting my feet wet and more exploration is still needed... I will look into those, thanks for recommending some alternatives."}],"owner":{"account_id":1612919,"reputation":1711,"user_id":1491384,"accept_rate":83,"display_name":"Taylor Brown"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678052316,"creation_date":1678052316,"question_id":75645512,"body_markdown":"I am coming from .NET to Java Spring Boot.\r\n\r\nIn .NET, I prefer to use ADO and stored procedures for my data access layers.\r\n\r\nThe closest Java equivalent I have found so far seems to be SimpleJdbcCall.\r\n\r\nIn .NET I can declare my params AND values going to the stored procedure all in one easy line:\r\n\r\n    cmd.Parameters.Add(new SqlParameter(&quot;@ParamName&quot;, ParamValue));\r\n\r\nHowever, I am hard pressed to find an equivalent of this in Java Spring Boot. \r\n\r\nI am forced to maintain 2 separate &quot;lists&quot; of params, and then their values, like this:\r\n\r\n    .declareParameters\r\n    (\r\n        new SqlParameter(&quot;@ParamName&quot;, Types.INTEGER)\r\n    )\r\n\r\n    MapSqlParameterSource inParams = new MapSqlParameterSource();\r\n\r\n    inParams.addValue(&quot;@ParamName&quot;, 1);\r\n\r\n\r\nDoes anyone have a way to simplify this into one line like in .NET?","title":"SimpleJdbcCall declareParameters and values in one line","body":"<p>I am coming from .NET to Java Spring Boot.</p>\n<p>In .NET, I prefer to use ADO and stored procedures for my data access layers.</p>\n<p>The closest Java equivalent I have found so far seems to be SimpleJdbcCall.</p>\n<p>In .NET I can declare my params AND values going to the stored procedure all in one easy line:</p>\n<pre><code>cmd.Parameters.Add(new SqlParameter(&quot;@ParamName&quot;, ParamValue));\n</code></pre>\n<p>However, I am hard pressed to find an equivalent of this in Java Spring Boot.</p>\n<p>I am forced to maintain 2 separate &quot;lists&quot; of params, and then their values, like this:</p>\n<pre><code>.declareParameters\n(\n    new SqlParameter(&quot;@ParamName&quot;, Types.INTEGER)\n)\n\nMapSqlParameterSource inParams = new MapSqlParameterSource();\n\ninParams.addValue(&quot;@ParamName&quot;, 1);\n</code></pre>\n<p>Does anyone have a way to simplify this into one line like in .NET?</p>\n"},{"tags":["java","android","kotlin","webrtc","screensharing"],"answers":[{"tags":[],"owner":{"account_id":10858383,"reputation":361,"user_id":7983969,"display_name":"Gv Ravi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678052194,"creation_date":1610472715,"answer_id":65688990,"question_id":64998619,"body_markdown":"I think you are using two video tracks. Why don&#39;t you try with only one video track.\r\n\r\nLike for camera sharing, assign video track as\r\n\r\n    mLiveSessionViewModel!!.localParticipant?.mediaStream.videotraks[0] = cameraVideoTrack\r\n\r\nTo switch to screen share, remove existing video track and add the respective videotrack\r\n\r\n    mLiveSessionViewModel!!.localParticipant?.mediaStream.videotrakcs[0].removeTrack(cameraVideoTrack)\r\n    mLiveSessionViewModel!!.localParticipant?.mediaStream.videotracks[0].addTrack(screenShareVideoTrack)\r\n\r\n","title":"Android unable to switch from camera to screen sharing webrtc in middle of communication","body":"<p>I think you are using two video tracks. Why don't you try with only one video track.</p>\n<p>Like for camera sharing, assign video track as</p>\n<pre><code>mLiveSessionViewModel!!.localParticipant?.mediaStream.videotraks[0] = cameraVideoTrack\n</code></pre>\n<p>To switch to screen share, remove existing video track and add the respective videotrack</p>\n<pre><code>mLiveSessionViewModel!!.localParticipant?.mediaStream.videotrakcs[0].removeTrack(cameraVideoTrack)\nmLiveSessionViewModel!!.localParticipant?.mediaStream.videotracks[0].addTrack(screenShareVideoTrack)\n</code></pre>\n"}],"owner":{"account_id":10238057,"reputation":859,"user_id":7556310,"display_name":"Vijay E"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":928,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678052194,"creation_date":1606279088,"question_id":64998619,"body_markdown":"I&#39;m working on android app and using webrtc with openvidu. I got screen sharing and camera sharing working. But only either of those works in one peerconnection. I&#39;m unable to switch between them. By default when connection is established, the camera will be shared and on click of a button I should be able to share screen without disconnecting existing connection. However that is not happening in my case. It doesn&#39;t publish the screen on click of button. It goes blank.\r\n\r\nIf anyone has worked on switching between camera to sharescreen and vice versa, please help me with this. \r\nThanks in advance.\r\n\r\n        public VideoTrack MakeCameraSettingsReady() {\r\n                final EglBase.Context eglBaseContext = EglBase.create().getEglBaseContext();\r\n                PeerConnectionFactory peerConnectionFactory = this.sessionManager.getPeerConnectionFactory();\r\n        \r\n                // create AudioSource\r\n                AudioSource audioSource = peerConnectionFactory.createAudioSource(new MediaConstraints());\r\n                this.audioTrack = peerConnectionFactory.createAudioTrack(&quot;101&quot;, audioSource);\r\n        \r\n                surfaceTextureHelper = SurfaceTextureHelper.create(&quot;CaptureThread&quot;, eglBaseContext);\r\n                // create VideoCapturer\r\n                videoCapturer = createVideoCapturer();\r\n        \r\n                //MediaConstraints constraints = new MediaConstraints();\r\n        \r\n                VideoSource videoSource = peerConnectionFactory.createVideoSource(videoCapturer.isScreencast());\r\n                localVideoTrack = peerConnectionFactory.createVideoTrack(&quot;100&quot;, videoSource);\r\n                videoCapturer.initialize(surfaceTextureHelper, context, videoSource.getCapturerObserver());\r\n                videoCapturer.startCapture(720, 1280, 30);\r\n        \r\n                return localVideoTrack;\r\n            }\r\n        \r\n            public VideoTrack MakeScreenCaptureReady() {\r\n                final EglBase.Context eglBaseContext = EglBase.create().getEglBaseContext();\r\n                PeerConnectionFactory peerConnectionFactory = this.sessionManager.getPeerConnectionFactory();\r\n        \r\n                // create AudioSource\r\n                AudioSource audioSource = peerConnectionFactory.createAudioSource(new MediaConstraints());\r\n                this.audioTrack = peerConnectionFactory.createAudioTrack(&quot;101&quot;, audioSource);\r\n        \r\n                surfaceTextureHelper = SurfaceTextureHelper.create(&quot;CaptureThread&quot;, eglBaseContext);\r\n                // create VideoCapturer\r\n                screenCapturerAndroid = (ScreenCapturerAndroid) createScreenCapturer();\r\n        \r\n                //MediaConstraints constraints = new MediaConstraints();\r\n        \r\n                VideoSource videoSource = peerConnectionFactory.createVideoSource(screenCapturerAndroid.isScreencast());\r\n                localVideoTrack = peerConnectionFactory.createVideoTrack(&quot;100&quot;, videoSource);\r\n                screenCapturerAndroid.initialize(surfaceTextureHelper, context, videoSource.getCapturerObserver());\r\n                screenCapturerAndroid.startCapture(720, 1280, 30);\r\n    \r\n                return localVideoTrack;\r\n            }\r\n\r\nWhen I click button to share screen, I use below code:\r\n\r\n  \r\n\r\n      private fun stopCameraShare(){\r\n                videoCapturerAndroid?.stopCapture()\r\n                localRenderer.dispose()\r\n                localVideoView.release()\r\n                localVideoView.clearImage()\r\n                stream?.removeTrack(localVideoTrack)\r\n                localVideoTrack.dispose()\r\n            }\r\n    \r\n        private fun shareScreen(){\r\n                stopCameraShare()\r\n                val mediaProjectionManager = activity!!.getSystemService(Context.MEDIA_PROJECTION_SERVICE) as MediaProjectionManager\r\n                startActivityForResult(mediaProjectionManager.createScreenCaptureIntent(), 29)\r\n            }\r\n    \r\n        override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\r\n            super.onActivityResult(requestCode, resultCode, data)\r\n            if (requestCode == SCREEN_RECORD_REQUEST_CODE) {\r\n                if (resultCode == RESULT_OK) {\r\n                    //Start screen recording\r\n                    mResultCode = resultCode\r\n                    mResultData = data\r\n    \r\n                    runOnUiThread {\r\n                        screenCaptureVideoTrack = mLiveSessionViewModel!!.localParticipant?.MakeScreenCaptureReady()\r\n                        mLiveSessionViewModel!!.localParticipant?.screenCaptureVideoTrack = screenCaptureVideoTrack\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\nReferences that I tried:\r\n[https://stackoverflow.com/questions/54690592/how-to-share-screen-remotely-in-a-video-audio-call][1]\r\n\r\n\r\n[https://github.com/Jeffiano/ScreenShareRTC][2]\r\n\r\n[https://chromium.googlesource.com/external/webrtc/+/b75f2541c942e2f35c3b7d7003ed17504176ced1/webrtc/api/android/java/src/org/webrtc/ScreenCapturerAndroid.java][3]\r\n\r\n[https://stackoverflow.com/questions/42825338/webrtc-change-video-stream-in-the-middle-of-communication][4]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/54690592/how-to-share-screen-remotely-in-a-video-audio-call\r\n  [2]: https://github.com/Jeffiano/ScreenShareRTC\r\n  [3]: https://chromium.googlesource.com/external/webrtc/+/b75f2541c942e2f35c3b7d7003ed17504176ced1/webrtc/api/android/java/src/org/webrtc/ScreenCapturerAndroid.java\r\n  [4]: https://stackoverflow.com/questions/42825338/webrtc-change-video-stream-in-the-middle-of-communication\r\n\r\nUltimately I&#39;m trying to find a way where I can addTrack/removeTrack in middle of communication. Thank you!","title":"Android unable to switch from camera to screen sharing webrtc in middle of communication","body":"<p>I'm working on android app and using webrtc with openvidu. I got screen sharing and camera sharing working. But only either of those works in one peerconnection. I'm unable to switch between them. By default when connection is established, the camera will be shared and on click of a button I should be able to share screen without disconnecting existing connection. However that is not happening in my case. It doesn't publish the screen on click of button. It goes blank.</p>\n<p>If anyone has worked on switching between camera to sharescreen and vice versa, please help me with this.\nThanks in advance.</p>\n<pre><code>    public VideoTrack MakeCameraSettingsReady() {\n            final EglBase.Context eglBaseContext = EglBase.create().getEglBaseContext();\n            PeerConnectionFactory peerConnectionFactory = this.sessionManager.getPeerConnectionFactory();\n    \n            // create AudioSource\n            AudioSource audioSource = peerConnectionFactory.createAudioSource(new MediaConstraints());\n            this.audioTrack = peerConnectionFactory.createAudioTrack(&quot;101&quot;, audioSource);\n    \n            surfaceTextureHelper = SurfaceTextureHelper.create(&quot;CaptureThread&quot;, eglBaseContext);\n            // create VideoCapturer\n            videoCapturer = createVideoCapturer();\n    \n            //MediaConstraints constraints = new MediaConstraints();\n    \n            VideoSource videoSource = peerConnectionFactory.createVideoSource(videoCapturer.isScreencast());\n            localVideoTrack = peerConnectionFactory.createVideoTrack(&quot;100&quot;, videoSource);\n            videoCapturer.initialize(surfaceTextureHelper, context, videoSource.getCapturerObserver());\n            videoCapturer.startCapture(720, 1280, 30);\n    \n            return localVideoTrack;\n        }\n    \n        public VideoTrack MakeScreenCaptureReady() {\n            final EglBase.Context eglBaseContext = EglBase.create().getEglBaseContext();\n            PeerConnectionFactory peerConnectionFactory = this.sessionManager.getPeerConnectionFactory();\n    \n            // create AudioSource\n            AudioSource audioSource = peerConnectionFactory.createAudioSource(new MediaConstraints());\n            this.audioTrack = peerConnectionFactory.createAudioTrack(&quot;101&quot;, audioSource);\n    \n            surfaceTextureHelper = SurfaceTextureHelper.create(&quot;CaptureThread&quot;, eglBaseContext);\n            // create VideoCapturer\n            screenCapturerAndroid = (ScreenCapturerAndroid) createScreenCapturer();\n    \n            //MediaConstraints constraints = new MediaConstraints();\n    \n            VideoSource videoSource = peerConnectionFactory.createVideoSource(screenCapturerAndroid.isScreencast());\n            localVideoTrack = peerConnectionFactory.createVideoTrack(&quot;100&quot;, videoSource);\n            screenCapturerAndroid.initialize(surfaceTextureHelper, context, videoSource.getCapturerObserver());\n            screenCapturerAndroid.startCapture(720, 1280, 30);\n\n            return localVideoTrack;\n        }\n</code></pre>\n<p>When I click button to share screen, I use below code:</p>\n<pre><code>  private fun stopCameraShare(){\n            videoCapturerAndroid?.stopCapture()\n            localRenderer.dispose()\n            localVideoView.release()\n            localVideoView.clearImage()\n            stream?.removeTrack(localVideoTrack)\n            localVideoTrack.dispose()\n        }\n\n    private fun shareScreen(){\n            stopCameraShare()\n            val mediaProjectionManager = activity!!.getSystemService(Context.MEDIA_PROJECTION_SERVICE) as MediaProjectionManager\n            startActivityForResult(mediaProjectionManager.createScreenCaptureIntent(), 29)\n        }\n\n    override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n        super.onActivityResult(requestCode, resultCode, data)\n        if (requestCode == SCREEN_RECORD_REQUEST_CODE) {\n            if (resultCode == RESULT_OK) {\n                //Start screen recording\n                mResultCode = resultCode\n                mResultData = data\n\n                runOnUiThread {\n                    screenCaptureVideoTrack = mLiveSessionViewModel!!.localParticipant?.MakeScreenCaptureReady()\n                    mLiveSessionViewModel!!.localParticipant?.screenCaptureVideoTrack = screenCaptureVideoTrack\n                }\n            }\n        }\n    }\n</code></pre>\n<p>References that I tried:\n<a href=\"https://stackoverflow.com/questions/54690592/how-to-share-screen-remotely-in-a-video-audio-call\">How to share screen remotely in a video/audio call?</a></p>\n<p><a href=\"https://github.com/Jeffiano/ScreenShareRTC\" rel=\"nofollow noreferrer\">https://github.com/Jeffiano/ScreenShareRTC</a></p>\n<p><a href=\"https://chromium.googlesource.com/external/webrtc/+/b75f2541c942e2f35c3b7d7003ed17504176ced1/webrtc/api/android/java/src/org/webrtc/ScreenCapturerAndroid.java\" rel=\"nofollow noreferrer\">https://chromium.googlesource.com/external/webrtc/+/b75f2541c942e2f35c3b7d7003ed17504176ced1/webrtc/api/android/java/src/org/webrtc/ScreenCapturerAndroid.java</a></p>\n<p><a href=\"https://stackoverflow.com/questions/42825338/webrtc-change-video-stream-in-the-middle-of-communication\">WebRTC - change video stream in the middle of communication</a></p>\n<p>Ultimately I'm trying to find a way where I can addTrack/removeTrack in middle of communication. Thank you!</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":67956,"reputation":57056,"user_id":198536,"accept_rate":100,"display_name":"wallyk"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1678051067,"creation_date":1266027429,"answer_id":2256239,"question_id":2256207,"body_markdown":"So-called &quot;normal&quot; is rigorously called [infix notation][1].  There are also [prefix][2] and [postfix notations][3], the latter being RPN.\r\n\r\nThe typical rearrangement of notation is done by constructing a parse tree and traversing specifically for the arrangement needed.\r\n\r\nHere are some descriptions of how to do it:  [a][4]  [b][5]\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Infix_notation\r\n  [2]: http://en.wikipedia.org/wiki/Polish_notation\r\n  [3]: http://en.wikipedia.org/wiki/Reverse_Polish_notation\r\n  [4]: https://web.archive.org/web/20120118070107/http://scriptasylum.com/tutorials/infix_postfix/algorithms/infix-postfix/index.htm\r\n  [5]: https://web.archive.org/web/20100826044842/http://www.spsu.edu/cs/faculty/bbrown/web_lectures/postfix/","title":"Normal - RPN conversion","body":"<p>So-called &quot;normal&quot; is rigorously called <a href=\"http://en.wikipedia.org/wiki/Infix_notation\" rel=\"nofollow noreferrer\">infix notation</a>.  There are also <a href=\"http://en.wikipedia.org/wiki/Polish_notation\" rel=\"nofollow noreferrer\">prefix</a> and <a href=\"http://en.wikipedia.org/wiki/Reverse_Polish_notation\" rel=\"nofollow noreferrer\">postfix notations</a>, the latter being RPN.</p>\n<p>The typical rearrangement of notation is done by constructing a parse tree and traversing specifically for the arrangement needed.</p>\n<p>Here are some descriptions of how to do it:  <a href=\"https://web.archive.org/web/20120118070107/http://scriptasylum.com/tutorials/infix_postfix/algorithms/infix-postfix/index.htm\" rel=\"nofollow noreferrer\">a</a>  <a href=\"https://web.archive.org/web/20100826044842/http://www.spsu.edu/cs/faculty/bbrown/web_lectures/postfix/\" rel=\"nofollow noreferrer\">b</a></p>\n"},{"comments":[{"owner":{"account_id":1910,"reputation":91828,"user_id":2635,"accept_rate":65,"display_name":"mmcdole"},"score":0,"creation_date":1266030079,"post_id":2256247,"comment_id":2215976,"body_markdown":"The shunting yard is the way to go.  Here is a code snippet of me taking an expression from infix to postfix, then evaluating the postfix expression: http://pastebin.com/f13bf7f70","body":"The shunting yard is the way to go.  Here is a code snippet of me taking an expression from infix to postfix, then evaluating the postfix expression: <a href=\"http://pastebin.com/f13bf7f70\" rel=\"nofollow noreferrer\">pastebin.com/f13bf7f70</a>"}],"tags":[],"owner":{"account_id":28214,"reputation":305280,"user_id":75170,"accept_rate":72,"display_name":"John Feminella"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1266027665,"creation_date":1266027665,"answer_id":2256247,"question_id":2256207,"body_markdown":"Yes; the [**shunting yard algorithm**][1] defines how to do this.\r\n\r\nEach time you read a number, put it onto the _output queue_. Each time you read an operator, put it on the _operator stack_. These two structures form the basis of the algorithm.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Shunting-yard_algorithm","title":"Normal - RPN conversion","body":"<p>Yes; the <a href=\"http://en.wikipedia.org/wiki/Shunting-yard_algorithm\" rel=\"nofollow noreferrer\"><strong>shunting yard algorithm</strong></a> defines how to do this.</p>\n\n<p>Each time you read a number, put it onto the <em>output queue</em>. Each time you read an operator, put it on the <em>operator stack</em>. These two structures form the basis of the algorithm.</p>\n"}],"owner":{"account_id":96642,"reputation":1561,"user_id":262588,"accept_rate":90,"display_name":"higherDefender"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2104,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":2256239,"answer_count":2,"score":3,"last_activity_date":1678051067,"creation_date":1266026701,"question_id":2256207,"body_markdown":" Is there any way to interpret &quot;normal&quot; mathematical notation into Reverse Polish Notation(RPN)..?\r\n eg\r\n1)   2 + 3*4 - 1 = 234*+1-\r\n2)   5 *(4-8) = 548-*\r\n\r\nU can assume  that BODMAS rule is followed and that inner brackets have to be calculated first etc.. i mean the normal maths to be applied here.. the answer should be in postfix notation..\r\nThanks","title":"Normal - RPN conversion","body":"<p>Is there any way to interpret \"normal\" mathematical notation into Reverse Polish Notation(RPN)..?\n eg\n1)   2 + 3*4 - 1 = 234*+1-\n2)   5 <em>(4-8) = 548-</em></p>\n\n<p>U can assume  that BODMAS rule is followed and that inner brackets have to be calculated first etc.. i mean the normal maths to be applied here.. the answer should be in postfix notation..\nThanks</p>\n"},{"tags":["java","eclipse","remote-debugging"],"comments":[{"owner":{"account_id":4230755,"reputation":7764,"user_id":3536342,"display_name":"DavidPostill"},"score":0,"creation_date":1410972324,"post_id":25896044,"comment_id":40530170,"body_markdown":"Have you tried reinstalling eclipse?","body":"Have you tried reinstalling eclipse?"},{"owner":{"account_id":2966542,"reputation":6803,"user_id":2519577,"accept_rate":66,"display_name":"Aarish Ramesh"},"score":0,"creation_date":1410972665,"post_id":25896044,"comment_id":40530368,"body_markdown":"Reinstalling eclipse!:( is there any other alternative way to sort this out?","body":"Reinstalling eclipse!:( is there any other alternative way to sort this out?"},{"owner":{"account_id":249090,"reputation":4307,"user_id":524900,"display_name":"Lolo"},"score":1,"creation_date":1410973078,"post_id":25896044,"comment_id":40530602,"body_markdown":"What does the Eclipse log show (in the  .metadata/.log file)? Is there a related stack trace? Have you tried starting Eclipse with the `-clean` command line option, in case it helps?","body":"What does the Eclipse log show (in the  .metadata/.log file)? Is there a related stack trace? Have you tried starting Eclipse with the <code>-clean</code> command line option, in case it helps?"},{"owner":{"account_id":4230755,"reputation":7764,"user_id":3536342,"display_name":"DavidPostill"},"score":0,"creation_date":1410973116,"post_id":25896044,"comment_id":40530619,"body_markdown":"Restore ./metadata from backup?","body":"Restore ./metadata from backup?"},{"owner":{"account_id":4230755,"reputation":7764,"user_id":3536342,"display_name":"DavidPostill"},"score":0,"creation_date":1410973146,"post_id":25896044,"comment_id":40530636,"body_markdown":"Windows - undelete ./metadata from recycle bin?","body":"Windows - undelete ./metadata from recycle bin?"},{"owner":{"account_id":2966542,"reputation":6803,"user_id":2519577,"accept_rate":66,"display_name":"Aarish Ramesh"},"score":0,"creation_date":1410973278,"post_id":25896044,"comment_id":40530698,"body_markdown":"@DavidPostill No am using a linux machine so no way to retrieve it i guess!:&#39;(","body":"@DavidPostill No am using a linux machine so no way to retrieve it i guess!:&#39;("},{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1410973578,"post_id":25896044,"comment_id":40530854,"body_markdown":"Reinstalling Eclipse probably won&#39;t help as that won&#39;t touch the workspace metadata. It is probably best to create a new workspace and import the projects from the old one.","body":"Reinstalling Eclipse probably won&#39;t help as that won&#39;t touch the workspace metadata. It is probably best to create a new workspace and import the projects from the old one."},{"owner":{"account_id":2966542,"reputation":6803,"user_id":2519577,"accept_rate":66,"display_name":"Aarish Ramesh"},"score":0,"creation_date":1410974134,"post_id":25896044,"comment_id":40531131,"body_markdown":"@Lolo fortunately the launch using -clean has worked!!! thanks:)","body":"@Lolo fortunately the launch using -clean has worked!!! thanks:)"}],"answers":[{"tags":[],"owner":{"account_id":4340493,"reputation":81,"user_id":3543827,"display_name":"Raghu Immaneni"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1504993445,"creation_date":1504993445,"answer_id":46135378,"question_id":25896044,"body_markdown":"Create the missing directory in the workspace\r\n\r\ncd /workspace/.metadata/.plugins &lt;br/&gt;\r\nmkdir org.eclipse.debug.core &lt;br/&gt;\r\nchmod -R 777 org.eclipse.debug.core","title":"Eclipse could not write to ./launch","body":"<p>Create the missing directory in the workspace</p>\n\n<p>cd /workspace/.metadata/.plugins <br/>\nmkdir org.eclipse.debug.core <br/>\nchmod -R 777 org.eclipse.debug.core</p>\n"},{"tags":[],"owner":{"account_id":23611778,"reputation":1,"user_id":17646672,"display_name":"Matheus da Cruz Matos"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644336762,"creation_date":1644336762,"answer_id":71037125,"question_id":25896044,"body_markdown":"**You need create the missing directory.**\r\nIf you use windows, you can create a new directory using windows explorer or you can use the following command line *for windows and linux:*\r\n\r\n    cd /workspace/.metadata/.pluguins\r\n    mkdir org.clipse.debug.core\r\n\r\nOBS: You don&#39;t need to use &#39;chmod&#39; command line.\r\n","title":"Eclipse could not write to ./launch","body":"<p><strong>You need create the missing directory.</strong>\nIf you use windows, you can create a new directory using windows explorer or you can use the following command line <em>for windows and linux:</em></p>\n<pre><code>cd /workspace/.metadata/.pluguins\nmkdir org.clipse.debug.core\n</code></pre>\n<p>OBS: You don't need to use 'chmod' command line.</p>\n"},{"tags":[],"owner":{"account_id":27334979,"reputation":1,"user_id":20846549,"display_name":"GreenDreamer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678050748,"creation_date":1678050748,"answer_id":75645380,"question_id":25896044,"body_markdown":"on MAC for example, you need to put to your IDE the authorisation to write on the disk. Privacy &amp; Security/Full Disk Access. There you need to put your IDE (Eclipse, IntelliJ or Spring STS).","title":"Eclipse could not write to ./launch","body":"<p>on MAC for example, you need to put to your IDE the authorisation to write on the disk. Privacy &amp; Security/Full Disk Access. There you need to put your IDE (Eclipse, IntelliJ or Spring STS).</p>\n"}],"owner":{"account_id":2966542,"reputation":6803,"user_id":2519577,"accept_rate":66,"display_name":"Aarish Ramesh"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10187,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1678050748,"creation_date":1410972283,"question_id":25896044,"body_markdown":"I have accidentally deleted ./metadata folder in eclipse. Now when i try reconfigure the project from workspace, things are fine and the project gets created with some old data about libraries. But when i try to create a new remote java application for debugging, i get the following error\r\n\r\n    &quot;Could not write file:/workspace/.metadata/.plugins/org.eclipse.debug.core/.launches&quot;\r\n\r\nCan someone please tell me how do i rectify this error and start remote java debugging?","title":"Eclipse could not write to ./launch","body":"<p>I have accidentally deleted ./metadata folder in eclipse. Now when i try reconfigure the project from workspace, things are fine and the project gets created with some old data about libraries. But when i try to create a new remote java application for debugging, i get the following error</p>\n\n<pre><code>\"Could not write file:/workspace/.metadata/.plugins/org.eclipse.debug.core/.launches\"\n</code></pre>\n\n<p>Can someone please tell me how do i rectify this error and start remote java debugging?</p>\n"},{"tags":["java","gradle","microservices","spring-cloud"],"comments":[{"owner":{"account_id":10673275,"reputation":1351,"user_id":7857701,"display_name":"Snigdhajyoti"},"score":0,"creation_date":1678041635,"post_id":75643515,"comment_id":133452063,"body_markdown":"remove line 38 (i.e. import as library) and uncomment line 39 `implementation project(&#39;:entities&#39;)` see if this works","body":"remove line 38 (i.e. import as library) and uncomment line 39 <code>implementation project(&#39;:entities&#39;)</code> see if this works"},{"owner":{"account_id":27941091,"reputation":13,"user_id":21337100,"display_name":"Konstantin"},"score":0,"creation_date":1678046760,"post_id":75643515,"comment_id":133453088,"body_markdown":"the same issue\nA problem occurred evaluating project &#39;:users-service&#39;.\n&gt; Project with path &#39;:entities&#39; could not be found in project &#39;:users-service&#39;.","body":"the same issue A problem occurred evaluating project &#39;:users-service&#39;. &gt; Project with path &#39;:entities&#39; could not be found in project &#39;:users-service&#39;."},{"owner":{"account_id":10673275,"reputation":1351,"user_id":7857701,"display_name":"Snigdhajyoti"},"score":0,"creation_date":1678117117,"post_id":75643515,"comment_id":133466615,"body_markdown":"In settings.gradle instead of `includeBuild` try only `include`. Thats the only difference I see from my multi module setup","body":"In settings.gradle instead of <code>includeBuild</code> try only <code>include</code>. Thats the only difference I see from my multi module setup"}],"answers":[{"comments":[{"owner":{"account_id":27941091,"reputation":13,"user_id":21337100,"display_name":"Konstantin"},"score":0,"creation_date":1678046718,"post_id":75644914,"comment_id":133453075,"body_markdown":"Doesn&#39;t work. Have the same issue\nA problem occurred evaluating project &#39;:users-service&#39;.\n&gt; Project with path &#39;:entities&#39; could not be found in project &#39;:users-service&#39;.","body":"Doesn&#39;t work. Have the same issue A problem occurred evaluating project &#39;:users-service&#39;. &gt; Project with path &#39;:entities&#39; could not be found in project &#39;:users-service&#39;."}],"tags":[],"owner":{"account_id":27942187,"reputation":1,"user_id":21337967,"display_name":"Rutvik Jadhav"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678045552,"creation_date":1678045552,"answer_id":75644914,"question_id":75643515,"body_markdown":"In a multimodule repository, when you are importing one project repository into another project in the same repository,\r\n\r\nu need to use implementation project for importing dependencies.\r\n\r\nfor example, if Repository A contains x and y projects and I need to use x dependency in y, then I need to use\r\n\r\n\r\n```java\r\nimplementation project(&#39;:dependency_used_in_x&#39;)\r\n```\r\n\r\nalso one more scenario where x and y projects are present in an independent repository, then you need to use implementation for importing dependencies.\r\n```java\r\nimplementation(&#39;com.package:dependency_used_in_x)\r\n\r\n```\r\nI&#39;m coming to your answer\r\n\r\n\r\nIt must be\r\n\r\n```java\r\nimplementation project(&#39;:entities&#39;)\r\n```","title":"Multi-module gradle project. Problem with import","body":"<p>In a multimodule repository, when you are importing one project repository into another project in the same repository,</p>\n<p>u need to use implementation project for importing dependencies.</p>\n<p>for example, if Repository A contains x and y projects and I need to use x dependency in y, then I need to use</p>\n<pre class=\"lang-java prettyprint-override\"><code>implementation project(':dependency_used_in_x')\n</code></pre>\n<p>also one more scenario where x and y projects are present in an independent repository, then you need to use implementation for importing dependencies.</p>\n<pre class=\"lang-java prettyprint-override\"><code>implementation('com.package:dependency_used_in_x)\n\n</code></pre>\n<p>I'm coming to your answer</p>\n<p>It must be</p>\n<pre class=\"lang-java prettyprint-override\"><code>implementation project(':entities')\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27941091,"reputation":13,"user_id":21337100,"display_name":"Konstantin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678050143,"creation_date":1678050128,"answer_id":75645324,"question_id":75643515,"body_markdown":"The problem was in gradle hierarchy.\r\nWhen you create a module with spring boot initializr gradle add this module not in parent project but independently like this [image][1].\r\nYou have to delete this gradle config and add include &#39;someModuleName&#39; in your root settings.gradle. then you will have picture like this [the proper gradle tree][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Zn8Sr.png\r\n  [2]: https://i.stack.imgur.com/5iP2o.png","title":"Multi-module gradle project. Problem with import","body":"<p>The problem was in gradle hierarchy.\nWhen you create a module with spring boot initializr gradle add this module not in parent project but independently like this <a href=\"https://i.stack.imgur.com/Zn8Sr.png\" rel=\"nofollow noreferrer\">image</a>.\nYou have to delete this gradle config and add include 'someModuleName' in your root settings.gradle. then you will have picture like this <a href=\"https://i.stack.imgur.com/5iP2o.png\" rel=\"nofollow noreferrer\">the proper gradle tree</a></p>\n"}],"owner":{"account_id":27941091,"reputation":13,"user_id":21337100,"display_name":"Konstantin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":767,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75645324,"answer_count":2,"score":0,"last_activity_date":1678050272,"creation_date":1678032197,"question_id":75643515,"body_markdown":"I have project with microservice architecture.\r\nI am trying to import one of my modules(#1) to another module(#2) of my project to use classes of module#1 in module#2.\r\n\r\n---\r\nI tried to add dependecy in module#2 to add module#1 in it like this(last lines in dependencies):\r\n\r\n![dependencies image](https://i.stack.imgur.com/jaL8l.png)\r\n\r\nI have all includeBuild in my outer project(that includes all modules).\r\n\r\n![includeBuilds Image](https://i.stack.imgur.com/NwUk1.png)\r\n\r\nAnd anyway I have this error:\r\n\r\n```\r\nusers-service:test: Could not find ru.micro:entities:.\r\nRequired by:\r\n    project :\r\n```\r\n\r\n![Error image](https://i.stack.imgur.com/XgBM1.png)\r\n\r\nHow is it possible to use classes of one module in another module of project using gradle?\r\n\r\n\r\nI tried to add one module to another by adding dependencies(like on screenshots) but it didn&#39;t work.","title":"Multi-module gradle project. Problem with import","body":"<p>I have project with microservice architecture.\nI am trying to import one of my modules(#1) to another module(#2) of my project to use classes of module#1 in module#2.</p>\n<hr />\n<p>I tried to add dependecy in module#2 to add module#1 in it like this(last lines in dependencies):</p>\n<p><img src=\"https://i.stack.imgur.com/jaL8l.png\" alt=\"dependencies image\" /></p>\n<p>I have all includeBuild in my outer project(that includes all modules).</p>\n<p><img src=\"https://i.stack.imgur.com/NwUk1.png\" alt=\"includeBuilds Image\" /></p>\n<p>And anyway I have this error:</p>\n<pre><code>users-service:test: Could not find ru.micro:entities:.\nRequired by:\n    project :\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/XgBM1.png\" alt=\"Error image\" /></p>\n<p>How is it possible to use classes of one module in another module of project using gradle?</p>\n<p>I tried to add one module to another by adding dependencies(like on screenshots) but it didn't work.</p>\n"},{"tags":["java","base64"],"comments":[{"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"score":1,"creation_date":1678049560,"post_id":75645215,"comment_id":133453531,"body_markdown":"That package removed in Java 9. If it is possible strongly recommended to change those classes to an other e.g. some of ```java.util.*``` or use an ancient Java. Here is a link to migration: https://docs.oracle.com/javase/9/migrate/toc.htm#JSMIG-GUID-F7696E02-A1FB-4D5A-B1F2-89E7007D4096","body":"That package removed in Java 9. If it is possible strongly recommended to change those classes to an other e.g. some of <code>java.util.*</code> or use an ancient Java. Here is a link to migration: <a href=\"https://docs.oracle.com/javase/9/migrate/toc.htm#JSMIG-GUID-F7696E02-A1FB-4D5A-B1F2-89E7007D4096\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/9/migrate/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":9444879,"reputation":1502,"user_id":7024019,"display_name":"Crusha K. Rool"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678049443,"creation_date":1678049443,"answer_id":75645266,"question_id":75645215,"body_markdown":"Classes from the `sun` package are deprecated and have been removed in newer JDK versions. So your old project will likely not find them anymore.\r\n\r\nYou should migrate to the respective replacements from [`java.util.Base64`][1].\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Base64.html","title":"The import sun.misc.BASE64Decoder cannot be resolved when the project is imported into Eclipse","body":"<p>Classes from the <code>sun</code> package are deprecated and have been removed in newer JDK versions. So your old project will likely not find them anymore.</p>\n<p>You should migrate to the respective replacements from <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Base64.html\" rel=\"nofollow noreferrer\"><code>java.util.Base64</code></a>.</p>\n"},{"comments":[{"owner":{"account_id":23184394,"reputation":27,"user_id":17281756,"display_name":"Harsh Paradkar"},"score":0,"creation_date":1679316938,"post_id":75645284,"comment_id":133694445,"body_markdown":"That helps a lot, let me try to downgrade to an older JDK","body":"That helps a lot, let me try to downgrade to an older JDK"}],"tags":[],"owner":{"account_id":8218575,"reputation":323,"user_id":6183974,"display_name":"Stefan Rother-St&#252;bs"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1678049681,"creation_date":1678049681,"answer_id":75645284,"question_id":75645215,"body_markdown":"If you&#39;re using JDK 8+ then the reason is likely that the package for Base64Encoder and Base64Decoder has changed from sun.misc to java.util (see [Is Java 8 java.util.Base64 a drop-in replacement for sun.misc.BASE64?][1])\r\n\r\nYou could either use an older JDK or replace the package.\r\n\r\nNormally you don&#39;t have to expect the JDK packages to change - *except* for javax.* and sun.*.\r\nAs far as I know these packages were originally for vendor specific or experimental classes and IIRC the Java docs explicitly mention that this could change - although this rarely happens.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/35301409/is-java-8-java-util-base64-a-drop-in-replacement-for-sun-misc-base64","title":"The import sun.misc.BASE64Decoder cannot be resolved when the project is imported into Eclipse","body":"<p>If you're using JDK 8+ then the reason is likely that the package for Base64Encoder and Base64Decoder has changed from sun.misc to java.util (see <a href=\"https://stackoverflow.com/questions/35301409/is-java-8-java-util-base64-a-drop-in-replacement-for-sun-misc-base64\">Is Java 8 java.util.Base64 a drop-in replacement for sun.misc.BASE64?</a>)</p>\n<p>You could either use an older JDK or replace the package.</p>\n<p>Normally you don't have to expect the JDK packages to change - <em>except</em> for javax.* and sun.*.\nAs far as I know these packages were originally for vendor specific or experimental classes and IIRC the Java docs explicitly mention that this could change - although this rarely happens.</p>\n"}],"owner":{"account_id":23184394,"reputation":27,"user_id":17281756,"display_name":"Harsh Paradkar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2235,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75645284,"answer_count":2,"score":0,"last_activity_date":1678049681,"creation_date":1678048883,"question_id":75645215,"body_markdown":"I have this old project which was implemented a long time ago, and it uses sun.misc.BASE64Decoder and sun.misc.BASE64Encoder. When I imported the project into Eclipse it is showing me the that their imports cannot be resolved to a valid object.\r\n\r\nI have tried using all the recommended methods on Stack overflow like turning errors into warnings. For references here&#39;s a screenshot \r\n\r\n[![](https://i.stack.imgur.com/v99ZX.png)](https://i.stack.imgur.com/v99ZX.png)\r\n\r\nThanks in advance for the help :)","title":"The import sun.misc.BASE64Decoder cannot be resolved when the project is imported into Eclipse","body":"<p>I have this old project which was implemented a long time ago, and it uses sun.misc.BASE64Decoder and sun.misc.BASE64Encoder. When I imported the project into Eclipse it is showing me the that their imports cannot be resolved to a valid object.</p>\n<p>I have tried using all the recommended methods on Stack overflow like turning errors into warnings. For references here's a screenshot</p>\n<p><a href=\"https://i.stack.imgur.com/v99ZX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/v99ZX.png\" alt=\"\" /></a></p>\n<p>Thanks in advance for the help :)</p>\n"},{"tags":["java","code-generation","swagger","swagger-2.0"],"comments":[{"owner":{"account_id":345047,"reputation":10337,"user_id":677735,"display_name":"William Cheng"},"score":0,"creation_date":1461410157,"post_id":36797952,"comment_id":61192997,"body_markdown":"I would suggest you to open a ticket via https://github.com/swagger-api/swagger-codegen/issues so that the swagger codegen community can help on you.","body":"I would suggest you to open a ticket via <a href=\"https://github.com/swagger-api/swagger-codegen/issues\" rel=\"nofollow noreferrer\">github.com/swagger-api/swagger-codegen/issues</a> so that the swagger codegen community can help on you."}],"answers":[{"comments":[{"owner":{"account_id":7484107,"reputation":1262,"user_id":5687992,"accept_rate":83,"display_name":"jencoston"},"score":0,"creation_date":1461598483,"post_id":36829960,"comment_id":61259470,"body_markdown":"When I run that command I get Error: Could not find or load main class modules.swagger-codegen-cli.target.swagger-codegen-cli.jar.","body":"When I run that command I get Error: Could not find or load main class modules.swagger-codegen-cli.target.swagger-codegen-cli.jar."},{"owner":{"account_id":7484107,"reputation":1262,"user_id":5687992,"accept_rate":83,"display_name":"jencoston"},"score":1,"creation_date":1463429614,"post_id":36829960,"comment_id":62051535,"body_markdown":"It turns out I needed to slightly modify the command and put the path to the jars in quotes. The final command is java -cp &quot;myCodegen-swagger-codegen-1.0.0.jar;swagger-codegen-cli.jar&quot; io.swagger.codegen.SwaggerCodegen generate -l abc -o C:\\\\Swagger\\\\Test\\\\ABCParentProject\\\\ABCgenerated -i helloAPI.yaml","body":"It turns out I needed to slightly modify the command and put the path to the jars in quotes. The final command is java -cp &quot;myCodegen-swagger-codegen-1.0.0.jar;swagger-codegen-cli.jar&zwnj;&#8203;&quot; io.swagger.codegen.SwaggerCodegen generate -l abc -o C:\\\\Swagger\\\\Test\\\\ABCParentProject\\\\ABCgenerated -i helloAPI.yaml"}],"tags":[],"owner":{"account_id":184628,"reputation":6754,"user_id":420797,"display_name":"fehguy"},"comment_count":2,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1461539530,"creation_date":1461539530,"answer_id":36829960,"question_id":36797952,"body_markdown":"this is how java loads classes, specifically with SPI (service provider interface).\r\n\r\nThere is documentation here:\r\n\r\nhttps://github.com/swagger-api/swagger-codegen#making-your-own-codegen-modules\r\n\r\nThe problem is that you need to specify both your library as well as the codegen jar, and tell it which class to run.  For example:\r\n\r\n    # assuming your library is under my-codegen/myLibrary/target\r\n\r\n    java -cp my-codegen/myLibrary/target/myClientCodegen-swagger-codegen-1.0.0.jar \\\r\n    \tmodules/swagger-codegen-cli/target/swagger-codegen-cli.jar \\\r\n    \tio.swagger.codegen.SwaggerCodegen generate \\\r\n    \t-l com.my.company.codegen.MyclientcodegenGenerator \\\r\n    \t-o foo \\\r\n    \t-i http://petstore.swagger.io/v2/swagger.json\r\n\r\nThis will add the codegen library to the classpath, your custom template library, execute the main function (`io.swagger.codegen.SwaggerCodegen`), and pass in your class as a target..","title":"How do I tell swagger-codgen about my custom generator?","body":"<p>this is how java loads classes, specifically with SPI (service provider interface).</p>\n\n<p>There is documentation here:</p>\n\n<p><a href=\"https://github.com/swagger-api/swagger-codegen#making-your-own-codegen-modules\" rel=\"noreferrer\">https://github.com/swagger-api/swagger-codegen#making-your-own-codegen-modules</a></p>\n\n<p>The problem is that you need to specify both your library as well as the codegen jar, and tell it which class to run.  For example:</p>\n\n<pre><code># assuming your library is under my-codegen/myLibrary/target\n\njava -cp my-codegen/myLibrary/target/myClientCodegen-swagger-codegen-1.0.0.jar \\\n    modules/swagger-codegen-cli/target/swagger-codegen-cli.jar \\\n    io.swagger.codegen.SwaggerCodegen generate \\\n    -l com.my.company.codegen.MyclientcodegenGenerator \\\n    -o foo \\\n    -i http://petstore.swagger.io/v2/swagger.json\n</code></pre>\n\n<p>This will add the codegen library to the classpath, your custom template library, execute the main function (<code>io.swagger.codegen.SwaggerCodegen</code>), and pass in your class as a target..</p>\n"}],"owner":{"account_id":7484107,"reputation":1262,"user_id":5687992,"accept_rate":83,"display_name":"jencoston"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12501,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":36829960,"answer_count":1,"score":7,"last_activity_date":1678048652,"creation_date":1461339260,"question_id":36797952,"body_markdown":"I am trying to make a custom swagger code generator based off of the existing JAX-RS generator. I followed the directions on the Swagger-Codegen GitHub page and generated a module using the command *java -jar modules/swagger-codegen-cli/target/swagger-codegen-cli.jar meta -o output/myLibrary -n ABCCodegen -p com.abc.codegen*.  I created the templates that I will need and updated the AbcCodegenGenerator.java file.  \r\n\r\nI am running into problems when I try to run the code. The command *java -cp swagger-codegen-cli.jar:ABCCodegen-swagger-codegen-1.0.0.jar io.swagger.codegen.Codegen -l ABCCodegen -o ./test* gives me the error  Could not find or load main class io.swagger.codegen.Codegen. After looking at the posts on the Swagger Google Group, I tried running the command *java -cp ABCCodegen-swagger-codegen-1.0.0.jar -jar swagger-codegen-cli.jar langs*. However, my custom module, abc, is not showing up in the list. Is there something I need to do programmatically in the java class itself to tell codegen about my generator? \r\n\r\nHere is my class AbcCodegenGenerator.java:\r\n\r\n    package com.abc.codegen;\r\n    \r\n    \r\n    \r\n    import io.swagger.codegen.*;\r\n    import io.swagger.models.Operation;\r\n    import io.swagger.codegen.languages.*;\r\n    \r\n    import java.util.*;\r\n    import java.io.File;\r\n    \r\n    \r\n    \r\n    public class AbcCodegenGenerator extends AbstractJavaJAXRSServerCodegen {\r\n     public AbcCodegenGenerator(){\r\n      super();\r\n      \r\n      sourceFolder = &quot;src/main/java&quot;;\r\n            invokerPackage = &quot;io.swagger.api&quot;;\r\n            artifactId = &quot;com.abc&quot;;\r\n            outputFolder = &quot;generated-code/ABCCodegen&quot;;\r\n    \r\n            modelTemplateFiles.put(&quot;model.mustache&quot;, &quot;.java&quot;); \r\n            \r\n            //Classes for the API\r\n            apiTemplateFiles.put(&quot;api.mustache&quot;, &quot;.java&quot;);\r\n            apiTemplateFiles.put(&quot;apiService.mustache&quot;, &quot;.java&quot;);\r\n            apiTemplateFiles.put(&quot;apiServiceImpl.mustache&quot;, &quot;.java&quot;);\r\n            apiTemplateFiles.put(&quot;apiServiceFactory.mustache&quot;, &quot;.java&quot;);\r\n            apiPackage = &quot;io.swagger.api&quot;;\r\n    \r\n            additionalProperties.put(&quot;title&quot;, title);\r\n            \r\n            //The location templates will be read from\r\n            templateDir = &quot;src/main/resources/ABCCodegen&quot;;\r\n    \r\n    \r\n    \r\n            //Adds ABCCodegen to the CliOptions list??\r\n            CliOption library = new CliOption(CodegenConstants.LIBRARY, &quot;library template (sub-template) to use&quot;);\r\n            library.setDefault(DEFAULT_LIBRARY);\r\n    \r\n            Map&lt;String, String&gt; supportedLibraries = new LinkedHashMap&lt;String, String&gt;();\r\n            supportedLibraries.put(DEFAULT_LIBRARY, &quot;abc&quot;);\r\n            library.setEnum(supportedLibraries);\r\n            \r\n            cliOptions.add(library);\r\n            cliOptions.add(new CliOption(CodegenConstants.IMPL_FOLDER, CodegenConstants.IMPL_FOLDER_DESC));\r\n            cliOptions.add(new CliOption(&quot;title&quot;, &quot;a title describing the application&quot;));\r\n     }\r\n        \r\n     @Override\r\n        public String getName()\r\n        {\r\n            return &quot;abc&quot;; \r\n        }\r\n    \r\n        @Override\r\n        public String getHelp()\r\n        {\r\n            return &quot;Generates a ABC Server application based on Jersey framework.&quot;;\r\n        }\r\n    \r\n        @Override\r\n        public void postProcessModelProperty(CodegenModel model, CodegenProperty property) {\r\n            super.postProcessModelProperty(model, property);\r\n            if(&quot;null&quot;.equals(property.example)) {\r\n                property.example = null;\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void processOpts() {\r\n            super.processOpts();\r\n    \r\n            if ( additionalProperties.containsKey(CodegenConstants.IMPL_FOLDER) ) {\r\n                implFolder = (String) additionalProperties.get(CodegenConstants.IMPL_FOLDER);\r\n            }\r\n    \r\n            supportingFiles.clear();\r\n            writeOptional(outputFolder, new SupportingFile(&quot;pom.mustache&quot;, &quot;&quot;, &quot;pom.xml&quot;));\r\n            writeOptional(outputFolder, new SupportingFile(&quot;README.mustache&quot;, &quot;&quot;, &quot;README.md&quot;));\r\n            supportingFiles.add(new SupportingFile(&quot;ApiException.mustache&quot;, (sourceFolder + &#39;/&#39; + apiPackage).replace(&quot;.&quot;, &quot;/&quot;), &quot;ApiException.java&quot;));\r\n            supportingFiles.add(new SupportingFile(&quot;ApiOriginFilter.mustache&quot;, (sourceFolder + &#39;/&#39; + apiPackage).replace(&quot;.&quot;, &quot;/&quot;), &quot;ApiOriginFilter.java&quot;));\r\n            supportingFiles.add(new SupportingFile(&quot;ApiResponseMessage.mustache&quot;, (sourceFolder + &#39;/&#39; + apiPackage).replace(&quot;.&quot;, &quot;/&quot;), &quot;ApiResponseMessage.java&quot;));\r\n            supportingFiles.add(new SupportingFile(&quot;NotFoundException.mustache&quot;, (sourceFolder + &#39;/&#39; + apiPackage).replace(&quot;.&quot;, &quot;/&quot;), &quot;NotFoundException.java&quot;));\r\n            supportingFiles.add(new SupportingFile(&quot;jacksonJsonProvider.mustache&quot;, (sourceFolder + &#39;/&#39; + apiPackage).replace(&quot;.&quot;, &quot;/&quot;), &quot;JacksonJsonProvider.java&quot;));\r\n            supportingFiles.add(new SupportingFile(&quot;BadRequestException.mustache&quot;, (sourceFolder + &#39;/&#39; + apiPackage).replace(&quot;.&quot;, &quot;/&quot;), &quot;BadRequestException.java&quot;));\r\n            supportingFiles.add(new SupportingFile(&quot;JavaRestResourceUtil.mustache&quot;, (sourceFolder + &#39;/&#39; + apiPackage).replace(&quot;.&quot;, &quot;/&quot;), &quot;JavaRestResourceUtil.java&quot;));\r\n    \r\n            writeOptional(outputFolder, new SupportingFile(&quot;bootstrap.mustache&quot;, (implFolder + &#39;/&#39; + apiPackage).replace(&quot;.&quot;, &quot;/&quot;), &quot;Bootstrap.java&quot;));\r\n    \r\n            writeOptional(outputFolder, new SupportingFile(&quot;web.mustache&quot;, (&quot;src/main/webapp/WEB-INF&quot;), &quot;web.xml&quot;));\r\n            writeOptional(outputFolder, new SupportingFile(&quot;index.mustache&quot;, (&quot;src/main/webapp&quot;), &quot;index.html&quot;));\r\n            \r\n            writeOptional(outputFolder, new SupportingFile(&quot;log4j.mustache&quot;, (&quot;conf&quot;), &quot;log4j.properties&quot;));\r\n            \r\n            writeOptional(outputFolder, new SupportingFile(&quot;logback.mustache&quot;, (&quot;src/main/resources&quot;), &quot;logback.xml&quot;));\r\n    \r\n            if ( additionalProperties.containsKey(&quot;dateLibrary&quot;) ) {\r\n                setDateLibrary(additionalProperties.get(&quot;dateLibrary&quot;).toString());\r\n                additionalProperties.put(dateLibrary, &quot;true&quot;);\r\n            }\r\n    \r\n            if ( &quot;joda&quot;.equals(dateLibrary) ) {\r\n                supportingFiles.add(new SupportingFile(&quot;JodaDateTimeProvider.mustache&quot;, (sourceFolder + &#39;/&#39; + apiPackage).replace(&quot;.&quot;, &quot;/&quot;), &quot;JodaDateTimeProvider.java&quot;));\r\n                supportingFiles.add(new SupportingFile(&quot;JodaLocalDateProvider.mustache&quot;, (sourceFolder + &#39;/&#39; + apiPackage).replace(&quot;.&quot;, &quot;/&quot;), &quot;JodaLocalDateProvider.java&quot;));\r\n            } else if ( &quot;java8&quot;.equals(dateLibrary) ) {\r\n                supportingFiles.add(new SupportingFile(&quot;LocalDateTimeProvider.mustache&quot;, (sourceFolder + &#39;/&#39; + apiPackage).replace(&quot;.&quot;, &quot;/&quot;), &quot;LocalDateTimeProvider.java&quot;));\r\n                supportingFiles.add(new SupportingFile(&quot;LocalDateProvider.mustache&quot;, (sourceFolder + &#39;/&#39; + apiPackage).replace(&quot;.&quot;, &quot;/&quot;), &quot;LocalDateProvider.java&quot;));\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void addOperationToGroup(String tag, String resourcePath, Operation operation, CodegenOperation co, Map&lt;String, List&lt;CodegenOperation&gt;&gt; operations) {\r\n            String basePath = resourcePath;\r\n            if (basePath.startsWith(&quot;/&quot;)) {\r\n                basePath = basePath.substring(1);\r\n            }\r\n            int pos = basePath.indexOf(&quot;/&quot;);\r\n            if (pos &gt; 0) {\r\n                basePath = basePath.substring(0, pos);\r\n            }\r\n    \r\n            if (basePath == &quot;&quot;) {\r\n                basePath = &quot;default&quot;;\r\n            } else {\r\n                if (co.path.startsWith(&quot;/&quot; + basePath)) {\r\n                    co.path = co.path.substring((&quot;/&quot; + basePath).length());\r\n                }\r\n                co.subresourceOperation = !co.path.isEmpty();\r\n            }\r\n            List&lt;CodegenOperation&gt; opList = operations.get(basePath);\r\n            if (opList == null) {\r\n                opList = new ArrayList&lt;CodegenOperation&gt;();\r\n                operations.put(basePath, opList);\r\n            }\r\n            opList.add(co);\r\n            co.baseName = basePath;\r\n        }\r\n    \r\n        public void hideGenerationTimestamp(boolean hideGenerationTimestamp) {\r\n            this.hideGenerationTimestamp = hideGenerationTimestamp;\r\n        }\r\n      \r\n    }\r\n","title":"How do I tell swagger-codgen about my custom generator?","body":"<p>I am trying to make a custom swagger code generator based off of the existing JAX-RS generator. I followed the directions on the Swagger-Codegen GitHub page and generated a module using the command <em>java -jar modules/swagger-codegen-cli/target/swagger-codegen-cli.jar meta -o output/myLibrary -n ABCCodegen -p com.abc.codegen</em>.  I created the templates that I will need and updated the AbcCodegenGenerator.java file.</p>\n<p>I am running into problems when I try to run the code. The command <em>java -cp swagger-codegen-cli.jar:ABCCodegen-swagger-codegen-1.0.0.jar io.swagger.codegen.Codegen -l ABCCodegen -o ./test</em> gives me the error  Could not find or load main class io.swagger.codegen.Codegen. After looking at the posts on the Swagger Google Group, I tried running the command <em>java -cp ABCCodegen-swagger-codegen-1.0.0.jar -jar swagger-codegen-cli.jar langs</em>. However, my custom module, abc, is not showing up in the list. Is there something I need to do programmatically in the java class itself to tell codegen about my generator?</p>\n<p>Here is my class AbcCodegenGenerator.java:</p>\n<pre><code>package com.abc.codegen;\n\n\n\nimport io.swagger.codegen.*;\nimport io.swagger.models.Operation;\nimport io.swagger.codegen.languages.*;\n\nimport java.util.*;\nimport java.io.File;\n\n\n\npublic class AbcCodegenGenerator extends AbstractJavaJAXRSServerCodegen {\n public AbcCodegenGenerator(){\n  super();\n  \n  sourceFolder = &quot;src/main/java&quot;;\n        invokerPackage = &quot;io.swagger.api&quot;;\n        artifactId = &quot;com.abc&quot;;\n        outputFolder = &quot;generated-code/ABCCodegen&quot;;\n\n        modelTemplateFiles.put(&quot;model.mustache&quot;, &quot;.java&quot;); \n        \n        //Classes for the API\n        apiTemplateFiles.put(&quot;api.mustache&quot;, &quot;.java&quot;);\n        apiTemplateFiles.put(&quot;apiService.mustache&quot;, &quot;.java&quot;);\n        apiTemplateFiles.put(&quot;apiServiceImpl.mustache&quot;, &quot;.java&quot;);\n        apiTemplateFiles.put(&quot;apiServiceFactory.mustache&quot;, &quot;.java&quot;);\n        apiPackage = &quot;io.swagger.api&quot;;\n\n        additionalProperties.put(&quot;title&quot;, title);\n        \n        //The location templates will be read from\n        templateDir = &quot;src/main/resources/ABCCodegen&quot;;\n\n\n\n        //Adds ABCCodegen to the CliOptions list??\n        CliOption library = new CliOption(CodegenConstants.LIBRARY, &quot;library template (sub-template) to use&quot;);\n        library.setDefault(DEFAULT_LIBRARY);\n\n        Map&lt;String, String&gt; supportedLibraries = new LinkedHashMap&lt;String, String&gt;();\n        supportedLibraries.put(DEFAULT_LIBRARY, &quot;abc&quot;);\n        library.setEnum(supportedLibraries);\n        \n        cliOptions.add(library);\n        cliOptions.add(new CliOption(CodegenConstants.IMPL_FOLDER, CodegenConstants.IMPL_FOLDER_DESC));\n        cliOptions.add(new CliOption(&quot;title&quot;, &quot;a title describing the application&quot;));\n }\n    \n @Override\n    public String getName()\n    {\n        return &quot;abc&quot;; \n    }\n\n    @Override\n    public String getHelp()\n    {\n        return &quot;Generates a ABC Server application based on Jersey framework.&quot;;\n    }\n\n    @Override\n    public void postProcessModelProperty(CodegenModel model, CodegenProperty property) {\n        super.postProcessModelProperty(model, property);\n        if(&quot;null&quot;.equals(property.example)) {\n            property.example = null;\n        }\n    }\n\n    @Override\n    public void processOpts() {\n        super.processOpts();\n\n        if ( additionalProperties.containsKey(CodegenConstants.IMPL_FOLDER) ) {\n            implFolder = (String) additionalProperties.get(CodegenConstants.IMPL_FOLDER);\n        }\n\n        supportingFiles.clear();\n        writeOptional(outputFolder, new SupportingFile(&quot;pom.mustache&quot;, &quot;&quot;, &quot;pom.xml&quot;));\n        writeOptional(outputFolder, new SupportingFile(&quot;README.mustache&quot;, &quot;&quot;, &quot;README.md&quot;));\n        supportingFiles.add(new SupportingFile(&quot;ApiException.mustache&quot;, (sourceFolder + '/' + apiPackage).replace(&quot;.&quot;, &quot;/&quot;), &quot;ApiException.java&quot;));\n        supportingFiles.add(new SupportingFile(&quot;ApiOriginFilter.mustache&quot;, (sourceFolder + '/' + apiPackage).replace(&quot;.&quot;, &quot;/&quot;), &quot;ApiOriginFilter.java&quot;));\n        supportingFiles.add(new SupportingFile(&quot;ApiResponseMessage.mustache&quot;, (sourceFolder + '/' + apiPackage).replace(&quot;.&quot;, &quot;/&quot;), &quot;ApiResponseMessage.java&quot;));\n        supportingFiles.add(new SupportingFile(&quot;NotFoundException.mustache&quot;, (sourceFolder + '/' + apiPackage).replace(&quot;.&quot;, &quot;/&quot;), &quot;NotFoundException.java&quot;));\n        supportingFiles.add(new SupportingFile(&quot;jacksonJsonProvider.mustache&quot;, (sourceFolder + '/' + apiPackage).replace(&quot;.&quot;, &quot;/&quot;), &quot;JacksonJsonProvider.java&quot;));\n        supportingFiles.add(new SupportingFile(&quot;BadRequestException.mustache&quot;, (sourceFolder + '/' + apiPackage).replace(&quot;.&quot;, &quot;/&quot;), &quot;BadRequestException.java&quot;));\n        supportingFiles.add(new SupportingFile(&quot;JavaRestResourceUtil.mustache&quot;, (sourceFolder + '/' + apiPackage).replace(&quot;.&quot;, &quot;/&quot;), &quot;JavaRestResourceUtil.java&quot;));\n\n        writeOptional(outputFolder, new SupportingFile(&quot;bootstrap.mustache&quot;, (implFolder + '/' + apiPackage).replace(&quot;.&quot;, &quot;/&quot;), &quot;Bootstrap.java&quot;));\n\n        writeOptional(outputFolder, new SupportingFile(&quot;web.mustache&quot;, (&quot;src/main/webapp/WEB-INF&quot;), &quot;web.xml&quot;));\n        writeOptional(outputFolder, new SupportingFile(&quot;index.mustache&quot;, (&quot;src/main/webapp&quot;), &quot;index.html&quot;));\n        \n        writeOptional(outputFolder, new SupportingFile(&quot;log4j.mustache&quot;, (&quot;conf&quot;), &quot;log4j.properties&quot;));\n        \n        writeOptional(outputFolder, new SupportingFile(&quot;logback.mustache&quot;, (&quot;src/main/resources&quot;), &quot;logback.xml&quot;));\n\n        if ( additionalProperties.containsKey(&quot;dateLibrary&quot;) ) {\n            setDateLibrary(additionalProperties.get(&quot;dateLibrary&quot;).toString());\n            additionalProperties.put(dateLibrary, &quot;true&quot;);\n        }\n\n        if ( &quot;joda&quot;.equals(dateLibrary) ) {\n            supportingFiles.add(new SupportingFile(&quot;JodaDateTimeProvider.mustache&quot;, (sourceFolder + '/' + apiPackage).replace(&quot;.&quot;, &quot;/&quot;), &quot;JodaDateTimeProvider.java&quot;));\n            supportingFiles.add(new SupportingFile(&quot;JodaLocalDateProvider.mustache&quot;, (sourceFolder + '/' + apiPackage).replace(&quot;.&quot;, &quot;/&quot;), &quot;JodaLocalDateProvider.java&quot;));\n        } else if ( &quot;java8&quot;.equals(dateLibrary) ) {\n            supportingFiles.add(new SupportingFile(&quot;LocalDateTimeProvider.mustache&quot;, (sourceFolder + '/' + apiPackage).replace(&quot;.&quot;, &quot;/&quot;), &quot;LocalDateTimeProvider.java&quot;));\n            supportingFiles.add(new SupportingFile(&quot;LocalDateProvider.mustache&quot;, (sourceFolder + '/' + apiPackage).replace(&quot;.&quot;, &quot;/&quot;), &quot;LocalDateProvider.java&quot;));\n        }\n    }\n\n    @Override\n    public void addOperationToGroup(String tag, String resourcePath, Operation operation, CodegenOperation co, Map&lt;String, List&lt;CodegenOperation&gt;&gt; operations) {\n        String basePath = resourcePath;\n        if (basePath.startsWith(&quot;/&quot;)) {\n            basePath = basePath.substring(1);\n        }\n        int pos = basePath.indexOf(&quot;/&quot;);\n        if (pos &gt; 0) {\n            basePath = basePath.substring(0, pos);\n        }\n\n        if (basePath == &quot;&quot;) {\n            basePath = &quot;default&quot;;\n        } else {\n            if (co.path.startsWith(&quot;/&quot; + basePath)) {\n                co.path = co.path.substring((&quot;/&quot; + basePath).length());\n            }\n            co.subresourceOperation = !co.path.isEmpty();\n        }\n        List&lt;CodegenOperation&gt; opList = operations.get(basePath);\n        if (opList == null) {\n            opList = new ArrayList&lt;CodegenOperation&gt;();\n            operations.put(basePath, opList);\n        }\n        opList.add(co);\n        co.baseName = basePath;\n    }\n\n    public void hideGenerationTimestamp(boolean hideGenerationTimestamp) {\n        this.hideGenerationTimestamp = hideGenerationTimestamp;\n    }\n  \n}\n</code></pre>\n"},{"tags":["java","codenameone","ant-media-server-sdk"],"owner":{"account_id":1334496,"reputation":6147,"user_id":1277576,"display_name":"Francesco Galgani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1678048406,"creation_date":1611153743,"question_id":65811766,"body_markdown":"My problem is that I need to use AntMedia Enteprise with these Java APIs, which are compliant with the WebRTC standard:\r\nhttps://shannah.github.io/CN1WebRTC/javadoc/\r\n\r\nbut AntMedia&#39;s documentation only refers to their own SDKs, without indicating how to use their server with third-party software (more precisely, instructions for third-party software are there in the case of RMTP, but not WebRTC):\r\nhttps://github.com/ant-media/Ant-Media-Server/wiki\r\n\r\nI&#39;m addressing my question to those who are already familiar with AntMedia or who develop it. Thanks.","title":"Use AntMedia server with standard WebRTC APIs","body":"<p>My problem is that I need to use AntMedia Enteprise with these Java APIs, which are compliant with the WebRTC standard:\n<a href=\"https://shannah.github.io/CN1WebRTC/javadoc/\" rel=\"nofollow noreferrer\">https://shannah.github.io/CN1WebRTC/javadoc/</a></p>\n<p>but AntMedia's documentation only refers to their own SDKs, without indicating how to use their server with third-party software (more precisely, instructions for third-party software are there in the case of RMTP, but not WebRTC):\n<a href=\"https://github.com/ant-media/Ant-Media-Server/wiki\" rel=\"nofollow noreferrer\">https://github.com/ant-media/Ant-Media-Server/wiki</a></p>\n<p>I'm addressing my question to those who are already familiar with AntMedia or who develop it. Thanks.</p>\n"},{"tags":["java","sql","google-bigquery"],"comments":[{"owner":{"account_id":1021725,"reputation":10018,"user_id":1031887,"accept_rate":77,"display_name":"phatfingers"},"score":0,"creation_date":1678037186,"post_id":75643749,"comment_id":133451294,"body_markdown":"The docs rule out overloading using polymorphic functions: &quot;Each dataset can only contain one persistent UDF with the same name.&quot;  While I&#39;m not crazy about the performance implications, you could cheat it by passing `TO_JSON_STRING(t)`.","body":"The docs rule out overloading using polymorphic functions: &quot;Each dataset can only contain one persistent UDF with the same name.&quot;  While I&#39;m not crazy about the performance implications, you could cheat it by passing <code>TO_JSON_STRING(t)</code>."},{"owner":{"account_id":1021725,"reputation":10018,"user_id":1031887,"accept_rate":77,"display_name":"phatfingers"},"score":0,"creation_date":1678037388,"post_id":75643749,"comment_id":133451326,"body_markdown":"Would `PERCENTILE_CONT(order_value, 0.5)` work for your use case?","body":"Would <code>PERCENTILE_CONT(order_value, 0.5)</code> work for your use case?"},{"owner":{"account_id":27941353,"reputation":11,"user_id":21337308,"display_name":"IlBuonTini"},"score":0,"creation_date":1678045217,"post_id":75643749,"comment_id":133452777,"body_markdown":"@phatfingers , the PERCENTILE_CONT() return the error: `Errore SQL [100032] [HY000]: [Simba][BigQueryJDBCDriver](100032) Error executing query job. Message: percentile_cont aggregate function is not supported.`\nI&#39;m gonna read the doc about TO_JSON_STRING() and I&#39;ll try to implement it","body":"@phatfingers , the PERCENTILE_CONT() return the error: <code>Errore SQL [100032] [HY000]: [Simba][BigQueryJDBCDriver](100032) Error executing query job. Message: percentile_cont aggregate function is not supported.</code> I&#39;m gonna read the doc about TO_JSON_STRING() and I&#39;ll try to implement it"}],"answers":[{"comments":[{"owner":{"account_id":27941353,"reputation":11,"user_id":21337308,"display_name":"IlBuonTini"},"score":0,"creation_date":1678051201,"post_id":75645096,"comment_id":133453826,"body_markdown":"The US funtion works, but unfortunately I&#39;m not in the US. Is it possible to &#39;import it in may dataset?\nRegarding the other option, firstly I would like to thank you, but I still got this error: `[Simba][BigQueryJDBCDriver](100032) Error executing query job. Message: Invalid function L1_POLIMI.median\nValues referenced in UNNEST must be arrays. UNNEST contains expression of type FLOAT64\nAnalysis of function Templated_SQL_Function:median failed at [9:29]`","body":"The US funtion works, but unfortunately I&#39;m not in the US. Is it possible to &#39;import it in may dataset? Regarding the other option, firstly I would like to thank you, but I still got this error: <code>[Simba][BigQueryJDBCDriver](100032) Error executing query job. Message: Invalid function L1_POLIMI.median Values referenced in UNNEST must be arrays. UNNEST contains expression of type FLOAT64 Analysis of function Templated_SQL_Function:median failed at [9:29]</code>"},{"owner":{"account_id":22304755,"reputation":3159,"user_id":16529576,"display_name":"Samuel"},"score":0,"creation_date":1678055160,"post_id":75645096,"comment_id":133454384,"body_markdown":"Import in your dataset: `CREATE  FUNCTION YOURDATASET.median(arr ANY TYPE) AS (`   The function excepts an array not a single value.","body":"Import in your dataset: <code>CREATE  FUNCTION YOURDATASET.median(arr ANY TYPE) AS (</code>   The function excepts an array not a single value."},{"owner":{"account_id":27941353,"reputation":11,"user_id":21337308,"display_name":"IlBuonTini"},"score":0,"creation_date":1678116247,"post_id":75645096,"comment_id":133466313,"body_markdown":"Yes, my problem is that sometimes the group is a single value, not an array, maybe I wasn&#39;t clear but that is my problem.","body":"Yes, my problem is that sometimes the group is a single value, not an array, maybe I wasn&#39;t clear but that is my problem."},{"owner":{"account_id":22304755,"reputation":3159,"user_id":16529576,"display_name":"Samuel"},"score":0,"creation_date":1678171370,"post_id":75645096,"comment_id":133476898,"body_markdown":"BigQuery UDF cannot handle polymorph functions. An array functions expects an array not a scala value. As you call the UDF-function in any query, you know that the argument is a single value or an array. Thus you can choose the right function. The only way  to let BigQuery handle any format is to convert it to text with `TO_JSON_STRING(t)` and parse this text with JavaScript in an UDF.","body":"BigQuery UDF cannot handle polymorph functions. An array functions expects an array not a scala value. As you call the UDF-function in any query, you know that the argument is a single value or an array. Thus you can choose the right function. The only way  to let BigQuery handle any format is to convert it to text with <code>TO_JSON_STRING(t)</code> and parse this text with JavaScript in an UDF."}],"tags":[],"owner":{"account_id":22304755,"reputation":3159,"user_id":16529576,"display_name":"Samuel"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678047586,"creation_date":1678047586,"answer_id":75645096,"question_id":75643749,"body_markdown":"There is an UDF to obtain the median. Because it does work with SQL, there is no need for JavaScript and therefore any input type of array will work.\r\n~~~sql\r\nSELECT `bigquery-public-data.persistent_udfs.median`([1,2,5,7]);\r\n~~~\r\nHowever, this query only work in the us zone.\r\n\r\nOtherwise please take the code of this query and put it in a tempory udf; This would be the query then:\r\n~~~sql\r\nCREATE TEMP FUNCTION median(arr ANY TYPE) AS (\r\n(\r\n  SELECT IF (\r\n    MOD(ARRAY_LENGTH(arr), 2) = 0,\r\n    (arr[OFFSET(DIV(ARRAY_LENGTH(arr), 2) - 1)] + arr[OFFSET(DIV(ARRAY_LENGTH(arr), 2))]) / 2,\r\n    arr[OFFSET(DIV(ARRAY_LENGTH(arr), 2))]\r\n  )\r\n  FROM (SELECT ARRAY_AGG(x ORDER BY x) AS arr FROM UNNEST(arr) AS x)\r\n)\r\n);\r\nselect median([5,7,9,1])\r\n~~~","title":"Struggling creating a median routine in SQL","body":"<p>There is an UDF to obtain the median. Because it does work with SQL, there is no need for JavaScript and therefore any input type of array will work.</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT `bigquery-public-data.persistent_udfs.median`([1,2,5,7]);\n</code></pre>\n<p>However, this query only work in the us zone.</p>\n<p>Otherwise please take the code of this query and put it in a tempory udf; This would be the query then:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TEMP FUNCTION median(arr ANY TYPE) AS (\n(\n  SELECT IF (\n    MOD(ARRAY_LENGTH(arr), 2) = 0,\n    (arr[OFFSET(DIV(ARRAY_LENGTH(arr), 2) - 1)] + arr[OFFSET(DIV(ARRAY_LENGTH(arr), 2))]) / 2,\n    arr[OFFSET(DIV(ARRAY_LENGTH(arr), 2))]\n  )\n  FROM (SELECT ARRAY_AGG(x ORDER BY x) AS arr FROM UNNEST(arr) AS x)\n)\n);\nselect median([5,7,9,1])\n</code></pre>\n"}],"owner":{"account_id":27941353,"reputation":11,"user_id":21337308,"display_name":"IlBuonTini"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":273,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1678047586,"creation_date":1678034132,"question_id":75643749,"body_markdown":"I&#39;m tring to create a function that calculate the median in a SQL BigQuery database.\r\n\r\n\r\nIt is part of a creation of a new table on the dataset.\r\n\r\nThe problem is that sometime the group has only one value and SQL give it to the function as a FLOAT type, meanwhile the others sent it as an array.\r\n\r\nI&#39;m working on a Legacy SQL BigQuery server with DBeaver.\r\n\r\n\r\n\r\nI find SQL quite tricky and I&#39;m stuck from few hours. Thanks\r\n\r\n \r\n\r\nThis code works but only with arrays:\r\n```\r\nCREATE FUNCTION median(x ARRAY&lt;FLOAT64&gt;)\r\nRETURNS FLOAT64\r\nLANGUAGE js\r\nAS &quot;&quot;&quot;\r\n  x.sort(function(a, b) {\r\n    return a - b;\r\n  });\r\n  var half = Math.floor(x.length / 2);\r\n  if (x.length % 2 == 0) {\r\n    return (x[half - 1] + x[half]) / 2.0;\r\n  } else {\r\n    return x[half];\r\n  }\r\n&quot;&quot;&quot;;\r\n```\r\n\r\nThi one return this error: `Errore SQL [100032] [HY000]: [Simba][BigQueryJDBCDriver](100032) Error executing query job. Message: Templated js UDFs are not yet supported, but function median has a templated parameter`\r\n\r\n\r\n```\r\nCREATE FUNCTION median(x ANY TYPE)\r\nRETURNS NUMERIC\r\nLANGUAGE js\r\nAS &quot;&quot;&quot;\r\n  var arr = Array.isArray(x) ? x : [x];\r\n  arr.sort(function(a, b) {\r\n    return a - b;\r\n  });\r\n  var half = Math.floor(arr.length / 2);\r\n  if (arr.length % 2 == 0) {\r\n    return (arr[half - 1] + arr[half]) / 2.0;\r\n  } else {\r\n    return arr[half];\r\n  }\r\n&quot;&quot;&quot;;\r\n```","title":"Struggling creating a median routine in SQL","body":"<p>I'm tring to create a function that calculate the median in a SQL BigQuery database.</p>\n<p>It is part of a creation of a new table on the dataset.</p>\n<p>The problem is that sometime the group has only one value and SQL give it to the function as a FLOAT type, meanwhile the others sent it as an array.</p>\n<p>I'm working on a Legacy SQL BigQuery server with DBeaver.</p>\n<p>I find SQL quite tricky and I'm stuck from few hours. Thanks</p>\n<p>This code works but only with arrays:</p>\n<pre><code>CREATE FUNCTION median(x ARRAY&lt;FLOAT64&gt;)\nRETURNS FLOAT64\nLANGUAGE js\nAS &quot;&quot;&quot;\n  x.sort(function(a, b) {\n    return a - b;\n  });\n  var half = Math.floor(x.length / 2);\n  if (x.length % 2 == 0) {\n    return (x[half - 1] + x[half]) / 2.0;\n  } else {\n    return x[half];\n  }\n&quot;&quot;&quot;;\n</code></pre>\n<p>Thi one return this error: <code>Errore SQL [100032] [HY000]: [Simba][BigQueryJDBCDriver](100032) Error executing query job. Message: Templated js UDFs are not yet supported, but function median has a templated parameter</code></p>\n<pre><code>CREATE FUNCTION median(x ANY TYPE)\nRETURNS NUMERIC\nLANGUAGE js\nAS &quot;&quot;&quot;\n  var arr = Array.isArray(x) ? x : [x];\n  arr.sort(function(a, b) {\n    return a - b;\n  });\n  var half = Math.floor(arr.length / 2);\n  if (arr.length % 2 == 0) {\n    return (arr[half - 1] + arr[half]) / 2.0;\n  } else {\n    return arr[half];\n  }\n&quot;&quot;&quot;;\n</code></pre>\n"},{"tags":["java","spring","keycloak"],"answers":[{"tags":[],"owner":{"account_id":1449510,"reputation":48192,"user_id":1366871,"accept_rate":100,"display_name":"dreamcrash"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678042873,"creation_date":1678040616,"answer_id":75644415,"question_id":75643914,"body_markdown":"&gt; I don&#39;t see any problem with my logic, yet users have a length of 100\r\n&gt; even though I have\r\n\r\nIf you have a look at the [Admin Rest API documentation][1] you can read \r\n\r\n&gt; Query max optional Maximum results size (defaults to 100)\r\n&gt; integer(int32)\r\n\r\nwhich is basically what happens when you use `list()`.\r\n\r\nTry to use [list(Integer firstResult, Integer maxResults)][2] instead of list. Set `firstResult` to `0` and `-1` for the `maxResults`, respectively.\r\n\r\n\r\n&gt; user.getRealmRoles is always null\r\n\r\nThere seems to be a bug (already reported [here][3]) with this endpoint. \r\n\r\nYou can use the workaround described on the [keycloak discourse group][4].\r\n\r\nSo something like:\r\n\r\n      keycloak.realm(realm)\r\n            .users()\r\n            .get(userId)\r\n            .roles()\r\n            .realmLevel()\r\n            .listEffective()\r\n\r\n  [1]: https://www.keycloak.org/docs-api/15.0/rest-api/index.html#_users_resource\r\n  [2]: https://www.keycloak.org/docs-api/11.0/javadocs/org/keycloak/admin/client/resource/UsersResource.html#list-java.lang.Integer-java.lang.Integer-\r\n  [3]: https://github.com/keycloak/keycloak/issues/14116\r\n  [4]: https://keycloak.discourse.group/t/realm-role-is-not-assigned-while-creating-user/2271\r\n","title":"Keycloak admin client Spring - list all users with realm roles","body":"<blockquote>\n<p>I don't see any problem with my logic, yet users have a length of 100\neven though I have</p>\n</blockquote>\n<p>If you have a look at the <a href=\"https://www.keycloak.org/docs-api/15.0/rest-api/index.html#_users_resource\" rel=\"nofollow noreferrer\">Admin Rest API documentation</a> you can read</p>\n<blockquote>\n<p>Query max optional Maximum results size (defaults to 100)\ninteger(int32)</p>\n</blockquote>\n<p>which is basically what happens when you use <code>list()</code>.</p>\n<p>Try to use <a href=\"https://www.keycloak.org/docs-api/11.0/javadocs/org/keycloak/admin/client/resource/UsersResource.html#list-java.lang.Integer-java.lang.Integer-\" rel=\"nofollow noreferrer\">list(Integer firstResult, Integer maxResults)</a> instead of list. Set <code>firstResult</code> to <code>0</code> and <code>-1</code> for the <code>maxResults</code>, respectively.</p>\n<blockquote>\n<p>user.getRealmRoles is always null</p>\n</blockquote>\n<p>There seems to be a bug (already reported <a href=\"https://github.com/keycloak/keycloak/issues/14116\" rel=\"nofollow noreferrer\">here</a>) with this endpoint.</p>\n<p>You can use the workaround described on the <a href=\"https://keycloak.discourse.group/t/realm-role-is-not-assigned-while-creating-user/2271\" rel=\"nofollow noreferrer\">keycloak discourse group</a>.</p>\n<p>So something like:</p>\n<pre><code>  keycloak.realm(realm)\n        .users()\n        .get(userId)\n        .roles()\n        .realmLevel()\n        .listEffective()\n</code></pre>\n"}],"owner":{"account_id":27784879,"reputation":389,"user_id":21212553,"display_name":"galalem"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":777,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75644415,"answer_count":1,"score":1,"last_activity_date":1678046872,"creation_date":1678035713,"question_id":75643914,"body_markdown":"In my service class I have a function that deletes all users except those passed as param\r\n```java\r\n    public void deleteWhereNotIn(List&lt;String&gt; keep){\r\n        List&lt;UserRepresentation&gt; users = keycloak\r\n            .realm(realm)\r\n            .users().list();\r\n        List&lt;String&gt; remove = new ArrayList&lt;&gt;();\r\n        for(UserRepresentation user : users){\r\n            if (user.getRealmRoles() != null &amp;&amp; user.getRealmRoles().stream().anyMatch(role -&gt; role.equals(&quot;ADMIN&quot;)))\r\n                continue;\r\n            if (keep.stream().noneMatch(uid -&gt; uid.equals(user.getId())))\r\n                remove.add(user.getId());\r\n        }\r\n        for(String uid : remove)\r\n            delete(uid);\r\n    }\r\n```\r\nI don&#39;t see any problem with my logic, yet `users` have a length of `100` even though I have more and `user.getRealmRoles` is always `null` ","title":"Keycloak admin client Spring - list all users with realm roles","body":"<p>In my service class I have a function that deletes all users except those passed as param</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public void deleteWhereNotIn(List&lt;String&gt; keep){\n        List&lt;UserRepresentation&gt; users = keycloak\n            .realm(realm)\n            .users().list();\n        List&lt;String&gt; remove = new ArrayList&lt;&gt;();\n        for(UserRepresentation user : users){\n            if (user.getRealmRoles() != null &amp;&amp; user.getRealmRoles().stream().anyMatch(role -&gt; role.equals(&quot;ADMIN&quot;)))\n                continue;\n            if (keep.stream().noneMatch(uid -&gt; uid.equals(user.getId())))\n                remove.add(user.getId());\n        }\n        for(String uid : remove)\n            delete(uid);\n    }\n</code></pre>\n<p>I don't see any problem with my logic, yet <code>users</code> have a length of <code>100</code> even though I have more and <code>user.getRealmRoles</code> is always <code>null</code></p>\n"},{"tags":["java","android","android-layout","size","android-drawable"],"comments":[{"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"score":0,"creation_date":1678018117,"post_id":75641491,"comment_id":133448194,"body_markdown":"Does this help: https://guides.codepath.com/android/Working-with-the-ImageView","body":"Does this help: <a href=\"https://guides.codepath.com/android/Working-with-the-ImageView\" rel=\"nofollow noreferrer\">guides.codepath.com/android/Working-with-the-ImageView</a>"},{"owner":{"account_id":26979302,"reputation":173,"user_id":20543919,"display_name":"sacacorchos"},"score":0,"creation_date":1678056800,"post_id":75641491,"comment_id":133454611,"body_markdown":"@BillMair well, the only related thing I have found is this: &quot;This means that if you generate a 100x100 for mdpi (1x baseline), then you should generate the same resource in 150x150 for hdpi (1.5x)&quot; .Okay that is obvious, but, it doesn&#39;t explain why in the mdpi folder it is stored a 100x100px, that is what I want to know, how to determine that dimension of the .png image in the mdpi folder, the rest of converting it to the other densities is much simpler and mechanic","body":"@BillMair well, the only related thing I have found is this: &quot;This means that if you generate a 100x100 for mdpi (1x baseline), then you should generate the same resource in 150x150 for hdpi (1.5x)&quot; .Okay that is obvious, but, it doesn&#39;t explain why in the mdpi folder it is stored a 100x100px, that is what I want to know, how to determine that dimension of the .png image in the mdpi folder, the rest of converting it to the other densities is much simpler and mechanic"}],"answers":[{"comments":[{"owner":{"account_id":26979302,"reputation":173,"user_id":20543919,"display_name":"sacacorchos"},"score":0,"creation_date":1678056191,"post_id":75645034,"comment_id":133454514,"body_markdown":"But this answer is explaining how to get the dimension of the ImageView layout (the View in your example) . What I want is to know the accurate dimension of the image.png in px that should be stored in the mdpi folder, I am talking about the dimension of the .png file, I am not talking about the dimension of the layout of the image, also I don&#39;t want to get any value, I want to know what dimension of the .png file should be set in the mdpi folder. Anyway, thanks for the answer","body":"But this answer is explaining how to get the dimension of the ImageView layout (the View in your example) . What I want is to know the accurate dimension of the image.png in px that should be stored in the mdpi folder, I am talking about the dimension of the .png file, I am not talking about the dimension of the layout of the image, also I don&#39;t want to get any value, I want to know what dimension of the .png file should be set in the mdpi folder. Anyway, thanks for the answer"},{"owner":{"account_id":3016379,"reputation":5038,"user_id":2558442,"display_name":"hoford"},"score":0,"creation_date":1678063939,"post_id":75645034,"comment_id":133455456,"body_markdown":"ImageView scales the image based on what mode it is set. \nSee https://thoughtbot.com/blog/android-imageview-scaletype-a-visual-guide\nSo in general pic a resolution close what would give 1 to 1 on a 6 inch phone. \nThere is no exact answer that works for all needs.","body":"ImageView scales the image based on what mode it is set.  See <a href=\"https://thoughtbot.com/blog/android-imageview-scaletype-a-visual-guide\" rel=\"nofollow noreferrer\">thoughtbot.com/blog/android-imageview-scaletype-a-visual-gui&zwnj;&#8203;de</a> So in general pic a resolution close what would give 1 to 1 on a 6 inch phone.  There is no exact answer that works for all needs."},{"owner":{"account_id":26979302,"reputation":173,"user_id":20543919,"display_name":"sacacorchos"},"score":0,"creation_date":1678121239,"post_id":75645034,"comment_id":133467861,"body_markdown":"I don&#39;t see it really clear, why on a 6 inch phone and not on a 8 inch phone? Imagine that the width and height of the ImageView Layout is 500x500px in a 6 inch device (obtaining that width and height using getWidth() and getHeight() of the ImageView), then, according to your answer, the dimension of the .png file in the mdpi folder should be 500x500px?","body":"I don&#39;t see it really clear, why on a 6 inch phone and not on a 8 inch phone? Imagine that the width and height of the ImageView Layout is 500x500px in a 6 inch device (obtaining that width and height using getWidth() and getHeight() of the ImageView), then, according to your answer, the dimension of the .png file in the mdpi folder should be 500x500px?"},{"owner":{"account_id":3016379,"reputation":5038,"user_id":2558442,"display_name":"hoford"},"score":0,"creation_date":1678129560,"post_id":75645034,"comment_id":133470197,"body_markdown":"If you are trying to have an image that fits 1 to 1 with the screen then that is going to require many images. One for each known screen width. \nImageView automatically scales images so the most reasonable thing to do is scale the image to 2 or 3 typical sizes and let imageView do the rest. \nAlternative is to use vector drawables which are drawn and the desired scale.","body":"If you are trying to have an image that fits 1 to 1 with the screen then that is going to require many images. One for each known screen width.  ImageView automatically scales images so the most reasonable thing to do is scale the image to 2 or 3 typical sizes and let imageView do the rest.  Alternative is to use vector drawables which are drawn and the desired scale."},{"owner":{"account_id":26979302,"reputation":173,"user_id":20543919,"display_name":"sacacorchos"},"score":0,"creation_date":1678136257,"post_id":75645034,"comment_id":133471845,"body_markdown":"what do you mean by &quot;fits 1 to 1&quot;? Also, when you say: &quot;scale the image to 2 or 3 typical sizes&quot; do you refer to make different images for different densities or you are not talking about densities?  Could you put me an example? For example imagine that the width and height of the ImageView is 0dp and all the constraints is &quot;parent&quot; and the parent is the whole screen. In short words, could you put me an example of the accurate dimensions of the image.png in the mdpi folder for an ImageView that occupies the whole screen?","body":"what do you mean by &quot;fits 1 to 1&quot;? Also, when you say: &quot;scale the image to 2 or 3 typical sizes&quot; do you refer to make different images for different densities or you are not talking about densities?  Could you put me an example? For example imagine that the width and height of the ImageView is 0dp and all the constraints is &quot;parent&quot; and the parent is the whole screen. In short words, could you put me an example of the accurate dimensions of the image.png in the mdpi folder for an ImageView that occupies the whole screen?"},{"owner":{"account_id":3016379,"reputation":5038,"user_id":2558442,"display_name":"hoford"},"score":0,"creation_date":1678160508,"post_id":75645034,"comment_id":133475471,"body_markdown":"I am not sure I understand what you are asking. \nAny Image put in such and ImageView with android:scaleType=&quot;centerCrop&quot; will fill the screen. Depending on the aspect ratio of the image and screen some part would be cropped. Maybe this might help https://www.geeksforgeeks.org/imageview-scaletype-in-android-with-example/","body":"I am not sure I understand what you are asking.  Any Image put in such and ImageView with android:scaleType=&quot;centerCrop&quot; will fill the screen. Depending on the aspect ratio of the image and screen some part would be cropped. Maybe this might help <a href=\"https://www.geeksforgeeks.org/imageview-scaletype-in-android-with-example/\" rel=\"nofollow noreferrer\">geeksforgeeks.org/imageview-scaletype-in-android-with-exampl&zwnj;&#8203;e</a>"}],"tags":[],"owner":{"account_id":3016379,"reputation":5038,"user_id":2558442,"display_name":"hoford"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678046865,"creation_date":1678046865,"answer_id":75645034,"question_id":75641491,"body_markdown":"The purpose of ConstraintLayout is to solve complex set of constraints the produce an appropriate dimensions. \r\n\r\nIf by &quot;know&quot; you mean at run time you can ask the view after layout.\r\n```\r\nview.addOnLayoutChangeListener(new View.OnLayoutChangeListener(){\r\npublic void onLayoutChange(View v,\r\n   int left,    int    top, int    right, int   bottom,\r\n   int oldLeft, int oldTop, int oldRight, int oldBottom) {\r\n\r\n})\r\n\r\n```\r\n\r\nIf by &quot;know&quot; you mean ahead of time. You can look at the implications of the Constraints and solve the math yourself. This can be non trivial.\r\nIf it depends on Fields with wrap_content, Aspect ratio of phone etc.\r\n\r\n\r\nFor simple use cases it is easy say\r\n```xml\r\n    &lt;View\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n```\r\nWe know this will be the size of the ConstraintLayout which may ore may not be the size of the screen. We cannot know ahead of time because the screen size is unknown ahead of time. So you need to get this at run time.\r\n","title":"How to determine the accurate image dimension in px of an ImageView in a ConstraintLayout?","body":"<p>The purpose of ConstraintLayout is to solve complex set of constraints the produce an appropriate dimensions.</p>\n<p>If by &quot;know&quot; you mean at run time you can ask the view after layout.</p>\n<pre><code>view.addOnLayoutChangeListener(new View.OnLayoutChangeListener(){\npublic void onLayoutChange(View v,\n   int left,    int    top, int    right, int   bottom,\n   int oldLeft, int oldTop, int oldRight, int oldBottom) {\n\n})\n\n</code></pre>\n<p>If by &quot;know&quot; you mean ahead of time. You can look at the implications of the Constraints and solve the math yourself. This can be non trivial.\nIf it depends on Fields with wrap_content, Aspect ratio of phone etc.</p>\n<p>For simple use cases it is easy say</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;View\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;0dp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n</code></pre>\n<p>We know this will be the size of the ConstraintLayout which may ore may not be the size of the screen. We cannot know ahead of time because the screen size is unknown ahead of time. So you need to get this at run time.</p>\n"}],"owner":{"account_id":26979302,"reputation":173,"user_id":20543919,"display_name":"sacacorchos"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678046865,"creation_date":1678011272,"question_id":75641491,"body_markdown":"If I had an `ImageView` with fixed width and height (the width and height of the `ImageView` **layout**) it would be really easy to determine the accurate dimension of the image in px in the `mdpi` folfer. \r\n\r\nFor example, if the width and height were 500x500dp, in the `mdpi` folder, the image.png should be 500x500px and the image dimension of the rest densities it would be as easy as converting those 500x500dp to the rest of the densities.\r\n\r\nOkay, but this isn&#39;t my case. As the title says, now suppose I am using an `ImageView` in a `ConstraintLayout`, so this `ImageView` has some start,end,top and bottom constraints and the width and height are `match_parent` (`0dp` in `ConstraintLayout`). Okay, so now that the width and height are not fixed as before, how could I know the dimension in px of the `mdpi` folder?\r\n\r\nWhat I have thought to solve this:\r\n\r\nWhat I have thought is to `getWidth()` and `getHeight()` in pixels of the `ImageView` **layout** in an arbitrary `mdpi` device so that if the width and height of the `ImageView` **layout** is for example 300x200px, that would be also the image dimension in px in the `mdpi` folder. Okay but this is not quite correct as there are other devices with `mdpi` density that have smaller and bigger screens so the `getWidth()` and `getHeight()` of the `ImageView` **layout** would be different in those devices although they are also `mdpi`. \r\n\r\n**So how can I know what dimension in px of the image should be in the mdpi folder?** I have been struggling with this many months and I have not found any information neither in the official documentation nor in other posts...","title":"How to determine the accurate image dimension in px of an ImageView in a ConstraintLayout?","body":"<p>If I had an <code>ImageView</code> with fixed width and height (the width and height of the <code>ImageView</code> <strong>layout</strong>) it would be really easy to determine the accurate dimension of the image in px in the <code>mdpi</code> folfer.</p>\n<p>For example, if the width and height were 500x500dp, in the <code>mdpi</code> folder, the image.png should be 500x500px and the image dimension of the rest densities it would be as easy as converting those 500x500dp to the rest of the densities.</p>\n<p>Okay, but this isn't my case. As the title says, now suppose I am using an <code>ImageView</code> in a <code>ConstraintLayout</code>, so this <code>ImageView</code> has some start,end,top and bottom constraints and the width and height are <code>match_parent</code> (<code>0dp</code> in <code>ConstraintLayout</code>). Okay, so now that the width and height are not fixed as before, how could I know the dimension in px of the <code>mdpi</code> folder?</p>\n<p>What I have thought to solve this:</p>\n<p>What I have thought is to <code>getWidth()</code> and <code>getHeight()</code> in pixels of the <code>ImageView</code> <strong>layout</strong> in an arbitrary <code>mdpi</code> device so that if the width and height of the <code>ImageView</code> <strong>layout</strong> is for example 300x200px, that would be also the image dimension in px in the <code>mdpi</code> folder. Okay but this is not quite correct as there are other devices with <code>mdpi</code> density that have smaller and bigger screens so the <code>getWidth()</code> and <code>getHeight()</code> of the <code>ImageView</code> <strong>layout</strong> would be different in those devices although they are also <code>mdpi</code>.</p>\n<p><strong>So how can I know what dimension in px of the image should be in the mdpi folder?</strong> I have been struggling with this many months and I have not found any information neither in the official documentation nor in other posts...</p>\n"},{"tags":["java","spring-boot","api","rest","spring-mvc"],"comments":[{"owner":{"account_id":194308,"reputation":66745,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"score":0,"creation_date":1678019640,"post_id":75642136,"comment_id":133448382,"body_markdown":"Do you have a method which checks whether the user is logged in? Do you have a method which checks whether a post is owned by a user?","body":"Do you have a method which checks whether the user is logged in? Do you have a method which checks whether a post is owned by a user?"},{"owner":{"account_id":11763864,"reputation":3,"user_id":8609107,"display_name":"Mandeep Taneja"},"score":0,"creation_date":1678020953,"post_id":75642136,"comment_id":133448564,"body_markdown":"I can add user_id in the posts table which will track the creator for me but I don&#39;t have any method currently to check which user is logged in. One method is that in passing every request I pass the username and password and then the repository can load the entire user for me using that email itself","body":"I can add user_id in the posts table which will track the creator for me but I don&#39;t have any method currently to check which user is logged in. One method is that in passing every request I pass the username and password and then the repository can load the entire user for me using that email itself"},{"owner":{"account_id":194308,"reputation":66745,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"score":0,"creation_date":1678021534,"post_id":75642136,"comment_id":133448638,"body_markdown":"So, in order to have a post-owner relationship, you will need to somehow store it. If you consider a `user_id` as a new field adequate (an idea I agree with), then do so. When that&#39;s done, you will be able to load the post by `id` and check whether a given user is its owner.","body":"So, in order to have a post-owner relationship, you will need to somehow store it. If you consider a <code>user_id</code> as a new field adequate (an idea I agree with), then do so. When that&#39;s done, you will be able to load the post by <code>id</code> and check whether a given user is its owner."},{"owner":{"account_id":194308,"reputation":66745,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"score":0,"creation_date":1678021621,"post_id":75642136,"comment_id":133448655,"body_markdown":"As about the other part of the solution I think you are slightly confused. We already have a user in your situation, that is, the one who sent the request for `deletePostById` and you already have this user loaded by username/password, which is a necessary prerequisite for `hasRole` to function properly.","body":"As about the other part of the solution I think you are slightly confused. We already have a user in your situation, that is, the one who sent the request for <code>deletePostById</code> and you already have this user loaded by username/password, which is a necessary prerequisite for <code>hasRole</code> to function properly."},{"owner":{"account_id":194308,"reputation":66745,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"score":0,"creation_date":1678021755,"post_id":75642136,"comment_id":133448678,"body_markdown":"You will need to end up with something like this: `hasRole(&#39;ADMIN&#39;) || (myPost.user_id == currentUser.id)`. You will of course need `currentUser` to be existent and properly initialized and you will need to remove the `@PreAuthorize(&quot;hasRole(&#39;ADMIN&#39;)&quot;)` line, because that restricts the right of post removal to admins, whereas you want to expand this right for the owners as well besides admins.","body":"You will need to end up with something like this: <code>hasRole(&#39;ADMIN&#39;) || (myPost.user_id == currentUser.id)</code>. You will of course need <code>currentUser</code> to be existent and properly initialized and you will need to remove the <code>@PreAuthorize(&quot;hasRole(&#39;ADMIN&#39;)&quot;)</code> line, because that restricts the right of post removal to admins, whereas you want to expand this right for the owners as well besides admins."},{"owner":{"account_id":1464652,"reputation":12323,"user_id":1377895,"accept_rate":100,"display_name":"Roman Vottner"},"score":0,"creation_date":1678027696,"post_id":75642136,"comment_id":133449678,"body_markdown":"In a REST environment you don&#39;t log in a user as this ultimately leads to the server needing to manage client state which violates the stateless constraints and makes scaling way harder. Instead you send the user credentials (or some form of token) on each request, lookup and load the user once the request was received and then trigger your actual business logic. Spring Boot usually supports this via Spring Security where it connects it does the user-lookup and authorization checks via `@PreAuthorize` and stuff like that automatically for you in the back","body":"In a REST environment you don&#39;t log in a user as this ultimately leads to the server needing to manage client state which violates the stateless constraints and makes scaling way harder. Instead you send the user credentials (or some form of token) on each request, lookup and load the user once the request was received and then trigger your actual business logic. Spring Boot usually supports this via Spring Security where it connects it does the user-lookup and authorization checks via <code>@PreAuthorize</code> and stuff like that automatically for you in the back"}],"answers":[{"tags":[],"owner":{"account_id":918176,"reputation":73,"user_id":950496,"display_name":"mbodev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678027792,"creation_date":1678027792,"answer_id":75643055,"question_id":75642136,"body_markdown":"First of all you need to store who created the post if the authors should be able to change/delete it.\r\n\r\nThen you could use @PreAuthorize(&quot;hasRole(&#39;ADMIN&#39;) || hasRole(&#39;USER&#39;)&quot;) in case your user role is named USER and in the method simply check if it&#39;s an admin or if the post is by the logged in user. You can retrieve auth infos via `SecurityContextHolder.getContext().getAuthentication()`. In an answer above you also have a suggestion for comparing the user&#39;s id with the id of the user that posted.\r\n\r\nIf you really need/want to do it via you could even create your own bean implementing it. See https://medium.com/@islamboulila/how-to-create-a-custom-security-expression-method-in-spring-security-e5b6353f062f if you need an explanation for this.","title":"I made a REST API in SpringBoot and Now I am confused while adding a feature","body":"<p>First of all you need to store who created the post if the authors should be able to change/delete it.</p>\n<p>Then you could use @PreAuthorize(&quot;hasRole('ADMIN') || hasRole('USER')&quot;) in case your user role is named USER and in the method simply check if it's an admin or if the post is by the logged in user. You can retrieve auth infos via <code>SecurityContextHolder.getContext().getAuthentication()</code>. In an answer above you also have a suggestion for comparing the user's id with the id of the user that posted.</p>\n<p>If you really need/want to do it via you could even create your own bean implementing it. See <a href=\"https://medium.com/@islamboulila/how-to-create-a-custom-security-expression-method-in-spring-security-e5b6353f062f\" rel=\"nofollow noreferrer\">https://medium.com/@islamboulila/how-to-create-a-custom-security-expression-method-in-spring-security-e5b6353f062f</a> if you need an explanation for this.</p>\n"}],"owner":{"account_id":11763864,"reputation":3,"user_id":8609107,"display_name":"Mandeep Taneja"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1678046524,"creation_date":1678018493,"question_id":75642136,"body_markdown":"I have made a REST API in spring boot which is maintaining 4 models : Blog Posts, Comments on Posts, User Profiles, and Roles. Currently the blog posts can be deleted only by the admin and not the user who created it, I want to add this functionality that the post can be deleted by the creator which requires login in the first place, so how can I implement that ? \r\n\r\nHere is my User Model :\r\n\r\n``` \r\n@Setter\r\n@Getter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Entity\r\n@Table(name = &quot;users&quot;)\r\npublic class User {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Column(nullable = false, unique = true)\r\n    private String email;\r\n\r\n    private String name;\r\n\r\n    @Column(nullable = false, unique = true)\r\n    private String username;\r\n\r\n    @Column(nullable = false)\r\n    private String password;\r\n\r\n    @ManyToMany(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\r\n    @JoinTable(name = &quot;users_roles&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    )\r\n    private Set&lt;Role&gt; roles;\r\n}\r\n ```\r\n\r\nHere is my Posts Model :\r\n```\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n\r\n@Entity\r\n@Table(\r\n        name=&quot;Posts&quot;, uniqueConstraints = {@UniqueConstraint(columnNames = {&quot;title&quot;})}\r\n)\r\npublic class Post {\r\n    @Id\r\n    @GeneratedValue(\r\n            strategy = GenerationType.IDENTITY\r\n    )\r\n    private Long id;\r\n\r\n    @Column(name = &quot;Title&quot;, nullable = false)\r\n    private String title;\r\n\r\n    @Column(name = &quot;Description&quot;, nullable = false)\r\n    private String description;\r\n\r\n    @Column(name = &quot;Content&quot;, nullable = false)\r\n    private String content;\r\n\r\n    @OneToMany(mappedBy = &quot;post&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\r\n    Set&lt;Comment&gt; comments = new HashSet&lt;&gt;();\r\n} \r\n```\r\n\r\nHere is my Delete Post Endpoint :\r\n\r\n```\r\n@PreAuthorize(&quot;hasRole(&#39;ADMIN&#39;)&quot;)\r\n@DeleteMapping(&quot;/{id}&quot;)\r\npublic ResponseEntity&lt;String&gt; deletePostById(@PathVariable Long id) {\r\n    postService.deletePostById(id);\r\n    return new ResponseEntity&lt;&gt;(&quot;Post Deleted Successfully&quot;, HttpStatus.OK);\r\n}\r\n```\r\n\r\nEdit : Finally I was able to Configure it out here its how\r\n```\r\nprivate User getUser() {\r\n    SecurityContext context = SecurityContextHolder.getContext();\r\n    Authentication auth = context.getAuthentication();\r\n    return userRepository.findUserByEmail(auth.getName()).orElse(null);\r\n}\r\n```","title":"I made a REST API in SpringBoot and Now I am confused while adding a feature","body":"<p>I have made a REST API in spring boot which is maintaining 4 models : Blog Posts, Comments on Posts, User Profiles, and Roles. Currently the blog posts can be deleted only by the admin and not the user who created it, I want to add this functionality that the post can be deleted by the creator which requires login in the first place, so how can I implement that ?</p>\n<p>Here is my User Model :</p>\n<pre><code>@Setter\n@Getter\n@NoArgsConstructor\n@AllArgsConstructor\n@Entity\n@Table(name = &quot;users&quot;)\npublic class User {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(nullable = false, unique = true)\n    private String email;\n\n    private String name;\n\n    @Column(nullable = false, unique = true)\n    private String username;\n\n    @Column(nullable = false)\n    private String password;\n\n    @ManyToMany(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\n    @JoinTable(name = &quot;users_roles&quot;,\n            joinColumns = @JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;, referencedColumnName = &quot;id&quot;)\n    )\n    private Set&lt;Role&gt; roles;\n}\n</code></pre>\n<p>Here is my Posts Model :</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n\n@Entity\n@Table(\n        name=&quot;Posts&quot;, uniqueConstraints = {@UniqueConstraint(columnNames = {&quot;title&quot;})}\n)\npublic class Post {\n    @Id\n    @GeneratedValue(\n            strategy = GenerationType.IDENTITY\n    )\n    private Long id;\n\n    @Column(name = &quot;Title&quot;, nullable = false)\n    private String title;\n\n    @Column(name = &quot;Description&quot;, nullable = false)\n    private String description;\n\n    @Column(name = &quot;Content&quot;, nullable = false)\n    private String content;\n\n    @OneToMany(mappedBy = &quot;post&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\n    Set&lt;Comment&gt; comments = new HashSet&lt;&gt;();\n} \n</code></pre>\n<p>Here is my Delete Post Endpoint :</p>\n<pre><code>@PreAuthorize(&quot;hasRole('ADMIN')&quot;)\n@DeleteMapping(&quot;/{id}&quot;)\npublic ResponseEntity&lt;String&gt; deletePostById(@PathVariable Long id) {\n    postService.deletePostById(id);\n    return new ResponseEntity&lt;&gt;(&quot;Post Deleted Successfully&quot;, HttpStatus.OK);\n}\n</code></pre>\n<p>Edit : Finally I was able to Configure it out here its how</p>\n<pre><code>private User getUser() {\n    SecurityContext context = SecurityContextHolder.getContext();\n    Authentication auth = context.getAuthentication();\n    return userRepository.findUserByEmail(auth.getName()).orElse(null);\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-security","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678032193,"creation_date":1678031869,"answer_id":75643483,"question_id":75643336,"body_markdown":"The whole reason of `spring-security` module in spring framework is to have some framework dedicated on security layer so that a normal company or developer building some application don&#39;t have to always concider how they implemented security, and if there is some hole in their security layer.\r\n\r\nIn your example we could say that spring security will also have the ability to encrypt the passwords so that not the actual passwords are stored in Database. So in case someone has access to database the credentials are not automatically disclosed.\r\n\r\nAnother case is the principal object in spring security which after authentication will have hidden the password. So you can transfer this object to see information about logged user but in case some man in the middle attack which manages to interpret the state of the object the credentials are not easily disclosed.\r\n\r\nMany more best practices are included in the `spring-security` module as to provide additional security to the application and keep out attacks.\r\n\r\nSo to conclude using `spring-security` and using your own authentication mechanism on the most fundamental concept of credentials provided in login and compared with database would be the same, but the implementation would be a lot different since the `spring-security` module offers many more things to keep atackers out than just the implementation of this concept. ","title":"Basic Username and password check instead of Spring security","body":"<p>The whole reason of <code>spring-security</code> module in spring framework is to have some framework dedicated on security layer so that a normal company or developer building some application don't have to always concider how they implemented security, and if there is some hole in their security layer.</p>\n<p>In your example we could say that spring security will also have the ability to encrypt the passwords so that not the actual passwords are stored in Database. So in case someone has access to database the credentials are not automatically disclosed.</p>\n<p>Another case is the principal object in spring security which after authentication will have hidden the password. So you can transfer this object to see information about logged user but in case some man in the middle attack which manages to interpret the state of the object the credentials are not easily disclosed.</p>\n<p>Many more best practices are included in the <code>spring-security</code> module as to provide additional security to the application and keep out attacks.</p>\n<p>So to conclude using <code>spring-security</code> and using your own authentication mechanism on the most fundamental concept of credentials provided in login and compared with database would be the same, but the implementation would be a lot different since the <code>spring-security</code> module offers many more things to keep atackers out than just the implementation of this concept.</p>\n"},{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678046360,"creation_date":1678045929,"answer_id":75644951,"question_id":75643336,"body_markdown":"So basically you are asking besides authentication and authorisation , what other security features does spring security provides ? Some features are :\r\n\r\n1. [CSRF support][1]\r\n2. [CORS support][2] \r\n3. [HttpFirewall][3] \r\n4. [Security HTTP Response Headers][4]\r\n5. [Password encoder for password storage][5]\r\n\r\nAnd also even your application does not have any role based or permission authorisation requirement now , it still needs to check if a request is come from an authenticated user or not and only allow the authenticated user to access. Otherwise, there is no points to make the user to have password to authenticate if everyone is allowed to access the application at the first place. And such checking is also a kind of authorization. \r\n\r\n\r\nSo once your application needs authentication , the next natural requirement that you cannot avoid is authorization , at least to check if the user is an authenticated user or an anonymous user.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/reference/features/exploits/csrf.html\r\n  [2]: https://docs.spring.io/spring-security/reference/servlet/integrations/cors.html#page-title\r\n  [3]: https://docs.spring.io/spring-security/reference/servlet/exploits/firewall.html#page-title\r\n  [4]: https://docs.spring.io/spring-security/reference/servlet/exploits/headers.html\r\n  [5]: https://docs.spring.io/spring-security/reference/features/authentication/password-storage.html#authentication-password-storage","title":"Basic Username and password check instead of Spring security","body":"<p>So basically you are asking besides authentication and authorisation , what other security features does spring security provides ? Some features are :</p>\n<ol>\n<li><a href=\"https://docs.spring.io/spring-security/reference/features/exploits/csrf.html\" rel=\"nofollow noreferrer\">CSRF support</a></li>\n<li><a href=\"https://docs.spring.io/spring-security/reference/servlet/integrations/cors.html#page-title\" rel=\"nofollow noreferrer\">CORS support</a></li>\n<li><a href=\"https://docs.spring.io/spring-security/reference/servlet/exploits/firewall.html#page-title\" rel=\"nofollow noreferrer\">HttpFirewall</a></li>\n<li><a href=\"https://docs.spring.io/spring-security/reference/servlet/exploits/headers.html\" rel=\"nofollow noreferrer\">Security HTTP Response Headers</a></li>\n<li><a href=\"https://docs.spring.io/spring-security/reference/features/authentication/password-storage.html#authentication-password-storage\" rel=\"nofollow noreferrer\">Password encoder for password storage</a></li>\n</ol>\n<p>And also even your application does not have any role based or permission authorisation requirement now , it still needs to check if a request is come from an authenticated user or not and only allow the authenticated user to access. Otherwise, there is no points to make the user to have password to authenticate if everyone is allowed to access the application at the first place. And such checking is also a kind of authorization.</p>\n<p>So once your application needs authentication , the next natural requirement that you cannot avoid is authorization , at least to check if the user is an authenticated user or an anonymous user.</p>\n"}],"owner":{"account_id":20177757,"reputation":43,"user_id":14798990,"display_name":"Ashish Bisht"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":357,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":2,"score":-2,"last_activity_date":1678046360,"creation_date":1678030448,"question_id":75643336,"body_markdown":"We can authenticate user by:\r\n(1). taking username and password, and checking it directly with database.\r\n(2). Using Spring Security(will take username and password)\r\n\r\nIf my application doesn&#39;t require authorization for certain endpoints then in that case case point (1) will be usefull as it doesn&#39;t require handling of code.\r\n\r\nIs my understanding correct? And other than an added advanatge of authorization is there any other advantage here? In the (1) point, Is it still the correct way to authenticate the User?\r\n\r\n","title":"Basic Username and password check instead of Spring security","body":"<p>We can authenticate user by:\n(1). taking username and password, and checking it directly with database.\n(2). Using Spring Security(will take username and password)</p>\n<p>If my application doesn't require authorization for certain endpoints then in that case case point (1) will be usefull as it doesn't require handling of code.</p>\n<p>Is my understanding correct? And other than an added advanatge of authorization is there any other advantage here? In the (1) point, Is it still the correct way to authenticate the User?</p>\n"},{"tags":["java","spring-security","jwt","jjwt"],"comments":[{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1676660944,"post_id":75486822,"comment_id":133189265,"body_markdown":"https://github.com/Tandolf/spring-security-jwt-demo dont write ccustom code for handling JWTs use the built in features of spring security","body":"<a href=\"https://github.com/Tandolf/spring-security-jwt-demo\" rel=\"nofollow noreferrer\">github.com/Tandolf/spring-security-jwt-demo</a> dont write ccustom code for handling JWTs use the built in features of spring security"},{"owner":{"account_id":26577367,"reputation":13,"user_id":20202513,"display_name":"Leo El"},"score":0,"creation_date":1676708356,"post_id":75486822,"comment_id":133195267,"body_markdown":"I tried to follow your implementation but calling the /token endpoint returns a null token","body":"I tried to follow your implementation but calling the /token endpoint returns a null token"},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1676719017,"post_id":75486822,"comment_id":133196484,"body_markdown":"You onviously have done something wrong, but since you have posted nothing of your code or implementation i dont understand what you think i should do about it? Guess?","body":"You onviously have done something wrong, but since you have posted nothing of your code or implementation i dont understand what you think i should do about it? Guess?"}],"answers":[{"tags":[],"owner":{"account_id":1756015,"reputation":11409,"user_id":1604048,"accept_rate":71,"display_name":"Murat Yıldız"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676715976,"creation_date":1676658090,"answer_id":75487987,"question_id":75486822,"body_markdown":"There is a good tutorial regarding to this topic:\r\n\r\n[Spring Boot JWT - How to Secure your REST APIs with Spring Security and Json Web Tokens](https://www.danvega.dev/blog/2022/09/06/spring-security-jwt/)\r\n\r\nI also suggest to check the updates regarding to `WebSercurityConfigurerAdapter` on the following [link](https://youtu.be/s4X4SJv2RrU).","title":"Correct way to make secured CRUD API with spring security and JWT Tokens","body":"<p>There is a good tutorial regarding to this topic:</p>\n<p><a href=\"https://www.danvega.dev/blog/2022/09/06/spring-security-jwt/\" rel=\"nofollow noreferrer\">Spring Boot JWT - How to Secure your REST APIs with Spring Security and Json Web Tokens</a></p>\n<p>I also suggest to check the updates regarding to <code>WebSercurityConfigurerAdapter</code> on the following <a href=\"https://youtu.be/s4X4SJv2RrU\" rel=\"nofollow noreferrer\">link</a>.</p>\n"}],"owner":{"account_id":26577367,"reputation":13,"user_id":20202513,"display_name":"Leo El"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1678045137,"creation_date":1676651018,"question_id":75486822,"body_markdown":"I work on a CRUD API project using spring security framework and I want to implement authorization verification using JWT tokens.\r\n\r\nLet&#39;s say I have 3 endpoints:\r\n1. Authentication controller where user can sign up or sign in if he has an account\r\n2. A dummy get that returns a string to make sure authorization works\r\n3. One where I can update information about the current user\r\n\r\nMy user would be like this \r\n\r\n```\r\npublic class UserEntity {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    private String username;\r\n    private String password;\r\n    private String favoriteAnimal;\r\n}\r\n```\r\n\r\nIn my 3rd endpoint I would like to update the favorite animal of my user. \r\n\r\n    @PostMapping(&quot;/update&quot;)\r\n    public ResponseEntity&lt;String&gt; updatePet(@RequestBody UserDTO user) {\r\n        return new ResponseEntity&lt;&gt;(UserSevices.updateUserInfo, HttpStatus.OK);\r\n    }\r\n\r\nWhat would be the correct way to make sure that the user calling this endpoint is the correct one with the JWT token?\r\n\r\nI have my `AuthorizationFilter` extending `OncePerRequestFilter` and implementing `doFilterInternal()`\r\n\r\n```\r\n@Override\r\n    protected void doFilterInternal(HttpServletRequest request,\r\n                                    HttpServletResponse response,\r\n                                    FilterChain filterChain) throws ServletException, IOException {\r\n        String token = getJWTFromRequest(request);\r\n        if(StringUtils.hasText(token) &amp;&amp; tokenGenerator.validateToken(token)) {\r\n            String username = tokenGenerator.getUsernameFromJWT(token);\r\n\r\n            UserDetails userDetails = customUserDetailsService.loadUserByUsername(username);\r\n            UsernamePasswordAuthenticationToken authenticationToken = new UsernamePasswordAuthenticationToken(userDetails, null,\r\n                    userDetails.getAuthorities());\r\n            authenticationToken.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\r\n            SecurityContextHolder.getContext().setAuthentication(authenticationToken);\r\n        }\r\n        filterChain.doFilter(request, response);\r\n    }\r\n```\r\n\r\nWe agree that when I will call the endpoint the user request will go through this filter? Is this filter correct? \r\n\r\nNow in my service if I want to fetch the user by id how can I get the id? \r\n\r\nI have to create a token with an ID key? The token is generate and given to the user when he first logs in. \r\n\r\nI am sorry if it is a bit confusing but I have not been able to find information online. \r\n\r\nI use the jjwt library for token","title":"Correct way to make secured CRUD API with spring security and JWT Tokens","body":"<p>I work on a CRUD API project using spring security framework and I want to implement authorization verification using JWT tokens.</p>\n<p>Let's say I have 3 endpoints:</p>\n<ol>\n<li>Authentication controller where user can sign up or sign in if he has an account</li>\n<li>A dummy get that returns a string to make sure authorization works</li>\n<li>One where I can update information about the current user</li>\n</ol>\n<p>My user would be like this</p>\n<pre><code>public class UserEntity {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    private String username;\n    private String password;\n    private String favoriteAnimal;\n}\n</code></pre>\n<p>In my 3rd endpoint I would like to update the favorite animal of my user.</p>\n<pre><code>@PostMapping(&quot;/update&quot;)\npublic ResponseEntity&lt;String&gt; updatePet(@RequestBody UserDTO user) {\n    return new ResponseEntity&lt;&gt;(UserSevices.updateUserInfo, HttpStatus.OK);\n}\n</code></pre>\n<p>What would be the correct way to make sure that the user calling this endpoint is the correct one with the JWT token?</p>\n<p>I have my <code>AuthorizationFilter</code> extending <code>OncePerRequestFilter</code> and implementing <code>doFilterInternal()</code></p>\n<pre><code>@Override\n    protected void doFilterInternal(HttpServletRequest request,\n                                    HttpServletResponse response,\n                                    FilterChain filterChain) throws ServletException, IOException {\n        String token = getJWTFromRequest(request);\n        if(StringUtils.hasText(token) &amp;&amp; tokenGenerator.validateToken(token)) {\n            String username = tokenGenerator.getUsernameFromJWT(token);\n\n            UserDetails userDetails = customUserDetailsService.loadUserByUsername(username);\n            UsernamePasswordAuthenticationToken authenticationToken = new UsernamePasswordAuthenticationToken(userDetails, null,\n                    userDetails.getAuthorities());\n            authenticationToken.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\n            SecurityContextHolder.getContext().setAuthentication(authenticationToken);\n        }\n        filterChain.doFilter(request, response);\n    }\n</code></pre>\n<p>We agree that when I will call the endpoint the user request will go through this filter? Is this filter correct?</p>\n<p>Now in my service if I want to fetch the user by id how can I get the id?</p>\n<p>I have to create a token with an ID key? The token is generate and given to the user when he first logs in.</p>\n<p>I am sorry if it is a bit confusing but I have not been able to find information online.</p>\n<p>I use the jjwt library for token</p>\n"},{"tags":["java","maven","security","digital-signature","hardware-security-module"],"comments":[{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":3,"creation_date":1676046936,"post_id":75413742,"comment_id":133065159,"body_markdown":"You may want to explain what an HSM is and why you need to do it this way.","body":"You may want to explain what an HSM is and why you need to do it this way."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":2,"creation_date":1676047190,"post_id":75413742,"comment_id":133065251,"body_markdown":"@Thorbj&#248;rnRavnAndersen Thanks I wanted to ask the same question..","body":"@Thorbj&#248;rnRavnAndersen Thanks I wanted to ask the same question.."}],"answers":[{"tags":[],"owner":{"account_id":11368907,"reputation":4584,"user_id":8334991,"display_name":"Alexandre Fenyo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678045038,"creation_date":1676800600,"answer_id":75499278,"question_id":75413742,"body_markdown":"The signature process you are talking about is done when calling `scripts/sign-gui.ps1 -input target/library.jar -output target/signature.asc`. So this is this powershell script that you need to update.\r\n\r\nSigning an artifact on Maven Central means using an asymmetric key among those supported by GPG (RSA, DSA, ...) that is a PGP **primary** key. For the GPG software to sign files using an asymmetric key that is provided by a HSM, you need to use the PKCS#11 library that is provided with you HSM: most HSM implement the PKCS#11 API by delivering a PKCS#11 library that offers remote cryptographic services from the HSM.\r\n\r\nWhen GPG does not know about the private or secret keys, it is using a daemon to perform cryptographic operations: scd (smart card daemon). This has been initially introduced in GPG to use locally connected smart cards readers, not for network HSM. But in your case, the key is stored inside a HSM and must not leave it, not inside a smart card, so you need to have a specially designed GPG daemon that is acting as a gateway between GPG and the HSM, using the PKCS#11 library that comes with your HSM: gnupg-pkcs11-scd (https://github.com/alonbl/gnupg-pkcs11-scd) does the job. The network protocol between the library and the HSM is proprietary, but the library offers a fully specified standard cryptographic API with standard bindings in C and Java.\r\n\r\nTherefore you need to install the PKCS#11 library and configure it to talk to your HSM (you will have to create a X.509 certificate for mutual authentication, or a secret for login/password authentication, depending on your HSM). After that, you need to install the gnupg-pkcs11-scd daemon to offer cryptographic services to GPG using the PKCS#11 library. Finally, you need to configure GPG to talk the the daemon.\r\n\r\nOnce all of those steps are done, you need to use GPG to create a GPG key that is able to be used with Maven Central. This is a special GPG key set that contains only a **primary** key to sign the binaries. This is very specific to Maven Central, see why and how to do that here: https://central.sonatype.org/publish/requirements/gpg/\r\n\r\nFinally, integrate into your powershell script the call to GPG to sign the binary with the primary asymmetric key.\r\n\r\nBut since you are using a powershell script, I&#39;m considering you want to do this on Windows. Note that you may encounter difficulties with this environment to install the aforementioned daemon that acts as a gateway between GPG and the PKCS#11 library. In this case, you may try to do all of that on a Linux host, this may be easier. When done, consider a migration back to Windows using a WSL2 environment: everything including the daemon are doing userland operations without requiring external devices, all of this may work correctly on a WSL2 environment.","title":"How to publish Jar to Maven Central using HSM-produced digital signatures?","body":"<p>The signature process you are talking about is done when calling <code>scripts/sign-gui.ps1 -input target/library.jar -output target/signature.asc</code>. So this is this powershell script that you need to update.</p>\n<p>Signing an artifact on Maven Central means using an asymmetric key among those supported by GPG (RSA, DSA, ...) that is a PGP <strong>primary</strong> key. For the GPG software to sign files using an asymmetric key that is provided by a HSM, you need to use the PKCS#11 library that is provided with you HSM: most HSM implement the PKCS#11 API by delivering a PKCS#11 library that offers remote cryptographic services from the HSM.</p>\n<p>When GPG does not know about the private or secret keys, it is using a daemon to perform cryptographic operations: scd (smart card daemon). This has been initially introduced in GPG to use locally connected smart cards readers, not for network HSM. But in your case, the key is stored inside a HSM and must not leave it, not inside a smart card, so you need to have a specially designed GPG daemon that is acting as a gateway between GPG and the HSM, using the PKCS#11 library that comes with your HSM: gnupg-pkcs11-scd (<a href=\"https://github.com/alonbl/gnupg-pkcs11-scd\" rel=\"nofollow noreferrer\">https://github.com/alonbl/gnupg-pkcs11-scd</a>) does the job. The network protocol between the library and the HSM is proprietary, but the library offers a fully specified standard cryptographic API with standard bindings in C and Java.</p>\n<p>Therefore you need to install the PKCS#11 library and configure it to talk to your HSM (you will have to create a X.509 certificate for mutual authentication, or a secret for login/password authentication, depending on your HSM). After that, you need to install the gnupg-pkcs11-scd daemon to offer cryptographic services to GPG using the PKCS#11 library. Finally, you need to configure GPG to talk the the daemon.</p>\n<p>Once all of those steps are done, you need to use GPG to create a GPG key that is able to be used with Maven Central. This is a special GPG key set that contains only a <strong>primary</strong> key to sign the binaries. This is very specific to Maven Central, see why and how to do that here: <a href=\"https://central.sonatype.org/publish/requirements/gpg/\" rel=\"nofollow noreferrer\">https://central.sonatype.org/publish/requirements/gpg/</a></p>\n<p>Finally, integrate into your powershell script the call to GPG to sign the binary with the primary asymmetric key.</p>\n<p>But since you are using a powershell script, I'm considering you want to do this on Windows. Note that you may encounter difficulties with this environment to install the aforementioned daemon that acts as a gateway between GPG and the PKCS#11 library. In this case, you may try to do all of that on a Linux host, this may be easier. When done, consider a migration back to Windows using a WSL2 environment: everything including the daemon are doing userland operations without requiring external devices, all of this may work correctly on a WSL2 environment.</p>\n"}],"owner":{"account_id":13559,"reputation":1448,"user_id":27342,"accept_rate":78,"display_name":"ralien"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75499278,"answer_count":1,"score":2,"last_activity_date":1678045038,"creation_date":1676046675,"question_id":75413742,"body_markdown":"My objective is to publish a library on Maven Central, while using a Hardware Security Module (HSM, explanation below) to sign the binary. The documentation I found explains how to use `maven-gpg-plugin`, but this requires the plugin to handle the key and its passphrase, whereas in my case the key is inside the HSM, and *cannot* leave it.\r\n\r\nTo illustrate what I mean, here is a simplified draft of my [Github CI pipeline][1]:\r\n\r\n- The `build` job produces the Jar and uploads it for subsequent reuse.\r\n- The `sign` job runs on a *self-hosted* runner, it downloads the previously stored artifact, runs a graphical interface (implemented in `sign-gui.ps1`) which is responsible for the human-guided process of signing (e.g., the human connects the computer to a secure network, where the HSM is accessible, types the PIN for accessing the key; an alternative process could be to plug a smart-card into a reader and type the PIN, etc.)\r\n\r\n```\r\njobs:\r\n  build:\r\n    runs-on: ubuntu-latest\r\n\r\n    steps:\r\n      - uses: actions/checkout@v3\r\n      - name: Set up JDK 11\r\n        uses: actions/setup-java@v3\r\n        with:\r\n          java-version: &#39;11&#39;\r\n          distribution: &#39;temurin&#39;\r\n          cache: maven\r\n\r\n      - name: Build the jar\r\n        run: mvn package -DskipTests\r\n\r\n      - name: Upload jar for subsequent reuse by signer\r\n        uses: actions/upload-artifact@v3\r\n        with:\r\n          name: compiled-jar\r\n          path: target/library.jar\r\n\r\n  sign:\r\n    needs: build\r\n    runs-on: self-hosted\r\n    steps:\r\n      - uses: actions/checkout@v3\r\n      - uses: actions/download-artifact@v3\r\n        with:\r\n          name: compiled-jar\r\n          path: target\r\n\r\n      - name: Process retrieved files\r\n        run: scripts/sign-gui.ps1 -input target/library.jar -output target/signature.asc\r\n\r\n```\r\n\r\n\r\nIn the end I have a `library.jar` and `signature.asc` (the detached armored GPG signature). The next step is to feed them into Maven Central, but the available tooling seems to be shaped around the &quot;maven-gpg-plugin signs it and takes care of everything&quot; paradigm. I was unable to find a way to tell Maven that it should take the signature produced by an external program, and then go on with the rest of its publishing logic. *Is this possible with `maven-gpg-plugin`, in principle?* If not, what alternatives are there?\r\n\r\n\r\nHaving explored various open source projects, I found many CI pipelines that have the signing keys *and* the passphrases to them - thus the key isn&#39;t really private. If anyone could point me to repositories that take a different approach, I would greatly appreciate it.\r\n\r\n\r\nNote: an HSM is a physical device designed to securely store keys and perform operations (e.g., sign, encrypt) with them, without exposing the keys themselves. The keys are generated by the device and held internally in a secure way, to prevent one from making copies of them. The reason for this is to avoid [incidents][2] in which someone can steal keys and potentially release their own binaries with your signature on them.\r\n\r\n\r\n  [1]: https://github.com/ralienpp/cmp-ra-component/blob/sign-logic/.github/workflows/build-sign-publish.yml\r\n  [2]: https://nakedsecurity.sophos.com/2023/01/31/github-code-signing-certificates-stolen-but-will-be-revoked-this-week/","title":"How to publish Jar to Maven Central using HSM-produced digital signatures?","body":"<p>My objective is to publish a library on Maven Central, while using a Hardware Security Module (HSM, explanation below) to sign the binary. The documentation I found explains how to use <code>maven-gpg-plugin</code>, but this requires the plugin to handle the key and its passphrase, whereas in my case the key is inside the HSM, and <em>cannot</em> leave it.</p>\n<p>To illustrate what I mean, here is a simplified draft of my <a href=\"https://github.com/ralienpp/cmp-ra-component/blob/sign-logic/.github/workflows/build-sign-publish.yml\" rel=\"nofollow noreferrer\">Github CI pipeline</a>:</p>\n<ul>\n<li>The <code>build</code> job produces the Jar and uploads it for subsequent reuse.</li>\n<li>The <code>sign</code> job runs on a <em>self-hosted</em> runner, it downloads the previously stored artifact, runs a graphical interface (implemented in <code>sign-gui.ps1</code>) which is responsible for the human-guided process of signing (e.g., the human connects the computer to a secure network, where the HSM is accessible, types the PIN for accessing the key; an alternative process could be to plug a smart-card into a reader and type the PIN, etc.)</li>\n</ul>\n<pre><code>jobs:\n  build:\n    runs-on: ubuntu-latest\n\n    steps:\n      - uses: actions/checkout@v3\n      - name: Set up JDK 11\n        uses: actions/setup-java@v3\n        with:\n          java-version: '11'\n          distribution: 'temurin'\n          cache: maven\n\n      - name: Build the jar\n        run: mvn package -DskipTests\n\n      - name: Upload jar for subsequent reuse by signer\n        uses: actions/upload-artifact@v3\n        with:\n          name: compiled-jar\n          path: target/library.jar\n\n  sign:\n    needs: build\n    runs-on: self-hosted\n    steps:\n      - uses: actions/checkout@v3\n      - uses: actions/download-artifact@v3\n        with:\n          name: compiled-jar\n          path: target\n\n      - name: Process retrieved files\n        run: scripts/sign-gui.ps1 -input target/library.jar -output target/signature.asc\n\n</code></pre>\n<p>In the end I have a <code>library.jar</code> and <code>signature.asc</code> (the detached armored GPG signature). The next step is to feed them into Maven Central, but the available tooling seems to be shaped around the &quot;maven-gpg-plugin signs it and takes care of everything&quot; paradigm. I was unable to find a way to tell Maven that it should take the signature produced by an external program, and then go on with the rest of its publishing logic. <em>Is this possible with <code>maven-gpg-plugin</code>, in principle?</em> If not, what alternatives are there?</p>\n<p>Having explored various open source projects, I found many CI pipelines that have the signing keys <em>and</em> the passphrases to them - thus the key isn't really private. If anyone could point me to repositories that take a different approach, I would greatly appreciate it.</p>\n<p>Note: an HSM is a physical device designed to securely store keys and perform operations (e.g., sign, encrypt) with them, without exposing the keys themselves. The keys are generated by the device and held internally in a secure way, to prevent one from making copies of them. The reason for this is to avoid <a href=\"https://nakedsecurity.sophos.com/2023/01/31/github-code-signing-certificates-stolen-but-will-be-revoked-this-week/\" rel=\"nofollow noreferrer\">incidents</a> in which someone can steal keys and potentially release their own binaries with your signature on them.</p>\n"},{"tags":["java","hibernate","quarkus","hibernate-validator"],"comments":[{"owner":{"account_id":6518696,"reputation":10106,"user_id":5043585,"display_name":"Guillaume Smet"},"score":1,"creation_date":1678094130,"post_id":75644812,"comment_id":133460012,"body_markdown":"If you have this problem in the context of Quarkus, could you open a Quarkus issue here: https://github.com/quarkusio/quarkus/issues with a small Maven reproducer? I will have a look. Thanks!","body":"If you have this problem in the context of Quarkus, could you open a Quarkus issue here: <a href=\"https://github.com/quarkusio/quarkus/issues\" rel=\"nofollow noreferrer\">github.com/quarkusio/quarkus/issues</a> with a small Maven reproducer? I will have a look. Thanks!"},{"owner":{"account_id":2243576,"reputation":407,"user_id":1977508,"accept_rate":50,"display_name":"Furious Gamer"},"score":0,"creation_date":1678107217,"post_id":75644812,"comment_id":133463500,"body_markdown":"@GuillaumeSmet Thanks for your response! I did not think about that this could be a quarkus related issue, but i will try to get to it ASAP! Much appreciated.","body":"@GuillaumeSmet Thanks for your response! I did not think about that this could be a quarkus related issue, but i will try to get to it ASAP! Much appreciated."}],"owner":{"account_id":2243576,"reputation":407,"user_id":1977508,"accept_rate":50,"display_name":"Furious Gamer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":161,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1678044551,"creation_date":1678044551,"question_id":75644812,"body_markdown":"I am using Hibernate validator in a Quarkus REST API project to validate entities with annotated properties after being parsed from JSON in my endpoints. Throughout the development, i came to expect that Hibernate Validator throws ``ConstraintViolationException``s with a set of constraint violations resulting in responses in the following format:\r\n\r\n    {\r\n      &quot;title&quot;: &quot;Constraint Violation&quot;,\r\n      &quot;status&quot;: 400,\r\n      &quot;violations&quot;: [\r\n        {\r\n          &quot;field&quot;: &quot;createJob.arg0.sourceTableName&quot;,\r\n          &quot;message&quot;: &quot;Source database table name may not be blank&quot;\r\n        },\r\n        {\r\n          &quot;field&quot;: &quot;createJob.arg0.sourceTableName&quot;,\r\n          &quot;message&quot;: &quot;Source database table name should have size [1,256]&quot;\r\n        },\r\n        {\r\n          &quot;field&quot;: &quot;createJob.arg0.sourceDatabaseURL&quot;,\r\n          &quot;message&quot;: &quot;Source database URL should have size [1,256]&quot;\r\n        }\r\n      ]\r\n\r\n}\r\n\r\nThis example is for a the ``JobRequest`` entity with only simple data types or not having other entities nested yet. This works well and my frontend client has been programmed accordingly to expect such a response format for **HTTP 400 Bad Request** responses. However, i now have the case where i need to add another entity called ``Settings`` (with its own validation annotations etc.) as a nested property to ``JobRequest``. Example:\r\n\r\n    @GroupSequenceProvider(JobRequestSequenceProvider.class)\r\n    public class JobRequest {\r\n        @Transient\r\n        private Optional&lt;Boolean&gt; useLocalSourceDatabase;\r\n        @Size(min = 1, max = 256, message = &quot;Source database URL should have size [{min},{max}]&quot;, groups = SourceConditionalValidation.class)\r\n        @URL(message = &quot;Source database connection has to be a valid URL&quot;, groups = SourceConditionalValidation.class)\r\n        private String sourceDatabaseURL;\r\n        @Size(min = 1, max = 256, message = &quot;Source database table name should have size [{min},{max}]&quot;, groups = SourceConditionalValidation.class)\r\n        @NotBlank(message = &quot;Source database table name may not be blank&quot;, groups = SourceConditionalValidation.class)\r\n        private String sourceTableName;\r\n    \r\n        @Transient\r\n        private Optional&lt;Boolean&gt; useLocalTargetDatabase;\r\n        @Size(min = 1, max = 256, message = &quot;Target database URL should have size [{min},{max}]&quot;, groups = TargetConditionalValidation.class)\r\n        @URL(message = &quot;Target database connection has to be a valid URL&quot;, groups = TargetConditionalValidation.class)\r\n        private String targetDatabaseURL;\r\n        @Size(min = 1, max = 256, message = &quot;Target database table name should have size [{min},{max}]&quot;, groups = TargetConditionalValidation.class)\r\n        @NotBlank(message = &quot;Target database table name may not be blank&quot;, groups = TargetConditionalValidation.class)\r\n        private String targetTableName;\r\n    \r\n        // Here i add settings as a nested property and force validation of it\r\n        @Valid\r\n        private Settings settings;\r\n\r\n        // get/set...\r\n    }\r\n\r\n*(JobRequest + Settings entity as a nested property)*\r\n\r\nI was expecting the same response format in cases of constraint violations of either the top level entity ``JobRequest`` or nested entity ``Settings``, however the response format i receive for constraint violations in the nested ``Settings`` entity look like this:\r\n\r\n    {\r\n      &quot;objectName&quot;: &quot;JobRequest&quot;,\r\n      &quot;attributeName&quot;: &quot;settings.requestDelayInMiliseconds&quot;,\r\n      &quot;line&quot;: 1,\r\n      &quot;column&quot;: 470,\r\n      &quot;value&quot;: &quot;fsdf&quot;\r\n    }\r\n\r\nNot only does it have a different schema, but it is also inadequate as it always just returns ONE violation and not multiple if thats the case for the ``Settings`` entity. In fact, it even overrides the constraint violations in the parent entity (``JobRequest``) for the response. \r\n\r\nWhat is going on here? **How can i get Hibernate Validator to perform the same type of validation (with according exceptions and ultimately error responses) for entites with nested entities?**\r\n\r\n----------\r\n\r\n\r\nHere is the ``Settings`` entity for reference (for which validation by itself works perfectly fine as expected with ``ConstraintViolationException``s - this strange behaviour only occurs for when entities get nested):\r\n\r\n    @Entity\r\n    @Table(name = &quot;settings&quot;, uniqueConstraints = { @UniqueConstraint(columnNames = {&quot;is_default&quot;}) })\r\n    public class Settings extends BaseEntity {\r\n        @NotNull\r\n        @Digits(fraction = 0, integer = 5)\r\n        @Min(value = 1)\r\n        @Column(name = &quot;request_limit_before_delay&quot;, nullable = false)\r\n        private int requestLimitBeforeDelay = 0;\r\n        \r\n        @NotNull\r\n        @Digits(fraction = 0, integer = 5)\r\n        @Min(value = 1, message = ERROR_MESSAGE)\r\n        @Column(name = &quot;request_delay_in_miliseconds&quot;, nullable = false)\r\n        private int requestDelayInMiliseconds = 0;\r\n    \r\n        @Column(name = &quot;is_default&quot;, nullable = false)\r\n        @JsonIgnore\r\n        private Boolean isDefault = null;\r\n        // get/set...\r\n    }","title":"Hibernate validator produces different response for nested validation objects","body":"<p>I am using Hibernate validator in a Quarkus REST API project to validate entities with annotated properties after being parsed from JSON in my endpoints. Throughout the development, i came to expect that Hibernate Validator throws <code>ConstraintViolationException</code>s with a set of constraint violations resulting in responses in the following format:</p>\n<pre><code>{\n  &quot;title&quot;: &quot;Constraint Violation&quot;,\n  &quot;status&quot;: 400,\n  &quot;violations&quot;: [\n    {\n      &quot;field&quot;: &quot;createJob.arg0.sourceTableName&quot;,\n      &quot;message&quot;: &quot;Source database table name may not be blank&quot;\n    },\n    {\n      &quot;field&quot;: &quot;createJob.arg0.sourceTableName&quot;,\n      &quot;message&quot;: &quot;Source database table name should have size [1,256]&quot;\n    },\n    {\n      &quot;field&quot;: &quot;createJob.arg0.sourceDatabaseURL&quot;,\n      &quot;message&quot;: &quot;Source database URL should have size [1,256]&quot;\n    }\n  ]\n</code></pre>\n<p>}</p>\n<p>This example is for a the <code>JobRequest</code> entity with only simple data types or not having other entities nested yet. This works well and my frontend client has been programmed accordingly to expect such a response format for <strong>HTTP 400 Bad Request</strong> responses. However, i now have the case where i need to add another entity called <code>Settings</code> (with its own validation annotations etc.) as a nested property to <code>JobRequest</code>. Example:</p>\n<pre><code>@GroupSequenceProvider(JobRequestSequenceProvider.class)\npublic class JobRequest {\n    @Transient\n    private Optional&lt;Boolean&gt; useLocalSourceDatabase;\n    @Size(min = 1, max = 256, message = &quot;Source database URL should have size [{min},{max}]&quot;, groups = SourceConditionalValidation.class)\n    @URL(message = &quot;Source database connection has to be a valid URL&quot;, groups = SourceConditionalValidation.class)\n    private String sourceDatabaseURL;\n    @Size(min = 1, max = 256, message = &quot;Source database table name should have size [{min},{max}]&quot;, groups = SourceConditionalValidation.class)\n    @NotBlank(message = &quot;Source database table name may not be blank&quot;, groups = SourceConditionalValidation.class)\n    private String sourceTableName;\n\n    @Transient\n    private Optional&lt;Boolean&gt; useLocalTargetDatabase;\n    @Size(min = 1, max = 256, message = &quot;Target database URL should have size [{min},{max}]&quot;, groups = TargetConditionalValidation.class)\n    @URL(message = &quot;Target database connection has to be a valid URL&quot;, groups = TargetConditionalValidation.class)\n    private String targetDatabaseURL;\n    @Size(min = 1, max = 256, message = &quot;Target database table name should have size [{min},{max}]&quot;, groups = TargetConditionalValidation.class)\n    @NotBlank(message = &quot;Target database table name may not be blank&quot;, groups = TargetConditionalValidation.class)\n    private String targetTableName;\n\n    // Here i add settings as a nested property and force validation of it\n    @Valid\n    private Settings settings;\n\n    // get/set...\n}\n</code></pre>\n<p><em>(JobRequest + Settings entity as a nested property)</em></p>\n<p>I was expecting the same response format in cases of constraint violations of either the top level entity <code>JobRequest</code> or nested entity <code>Settings</code>, however the response format i receive for constraint violations in the nested <code>Settings</code> entity look like this:</p>\n<pre><code>{\n  &quot;objectName&quot;: &quot;JobRequest&quot;,\n  &quot;attributeName&quot;: &quot;settings.requestDelayInMiliseconds&quot;,\n  &quot;line&quot;: 1,\n  &quot;column&quot;: 470,\n  &quot;value&quot;: &quot;fsdf&quot;\n}\n</code></pre>\n<p>Not only does it have a different schema, but it is also inadequate as it always just returns ONE violation and not multiple if thats the case for the <code>Settings</code> entity. In fact, it even overrides the constraint violations in the parent entity (<code>JobRequest</code>) for the response.</p>\n<p>What is going on here? <strong>How can i get Hibernate Validator to perform the same type of validation (with according exceptions and ultimately error responses) for entites with nested entities?</strong></p>\n<hr />\n<p>Here is the <code>Settings</code> entity for reference (for which validation by itself works perfectly fine as expected with <code>ConstraintViolationException</code>s - this strange behaviour only occurs for when entities get nested):</p>\n<pre><code>@Entity\n@Table(name = &quot;settings&quot;, uniqueConstraints = { @UniqueConstraint(columnNames = {&quot;is_default&quot;}) })\npublic class Settings extends BaseEntity {\n    @NotNull\n    @Digits(fraction = 0, integer = 5)\n    @Min(value = 1)\n    @Column(name = &quot;request_limit_before_delay&quot;, nullable = false)\n    private int requestLimitBeforeDelay = 0;\n    \n    @NotNull\n    @Digits(fraction = 0, integer = 5)\n    @Min(value = 1, message = ERROR_MESSAGE)\n    @Column(name = &quot;request_delay_in_miliseconds&quot;, nullable = false)\n    private int requestDelayInMiliseconds = 0;\n\n    @Column(name = &quot;is_default&quot;, nullable = false)\n    @JsonIgnore\n    private Boolean isDefault = null;\n    // get/set...\n}\n</code></pre>\n"},{"tags":["java","formatter"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1678046932,"post_id":75644531,"comment_id":133453127,"body_markdown":"the `Formatter` syntax is well documented (IMHO) [here](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Formatter.html#syntax)","body":"the <code>Formatter</code> syntax is well documented (IMHO) <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Formatter.html#syntax\" rel=\"nofollow noreferrer\">here</a>"}],"answers":[{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1678043435,"post_id":75644582,"comment_id":133452361,"body_markdown":"Nitpicking, that should probably be `%07.2f` for `0005.23`. Total width 7, 2 decimals and 1 postion for the dot (at least in US locale) leaves 4 digits before the dot.","body":"Nitpicking, that should probably be <code>%07.2f</code> for <code>0005.23</code>. Total width 7, 2 decimals and 1 postion for the dot (at least in US locale) leaves 4 digits before the dot."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1678047525,"post_id":75644582,"comment_id":133453229,"body_markdown":"also account that one digit position will be used for the sign if the number is negative (e.g. with `%07.2f`: `-005.23` - `7` is the whole length)","body":"also account that one digit position will be used for the sign if the number is negative (e.g. with <code>%07.2f</code>: <code>-005.23</code> - <code>7</code> is the whole length)"}],"tags":[],"owner":{"account_id":18256279,"reputation":659,"user_id":13290159,"display_name":"0x150"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678042244,"creation_date":1678042244,"answer_id":75644582,"question_id":75644531,"body_markdown":"Yes, by combining the 2: `%08.2f`","title":"Is there a way to specify the number of digits after AND before the decimal point in the Java Formatter","body":"<p>Yes, by combining the 2: <code>%08.2f</code></p>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678044167,"creation_date":1678044167,"answer_id":75644777,"question_id":75644531,"body_markdown":"The trick is in what that `%` stuff means. The format is:\r\n\r\n`%1[MODS]x` where the &#39;1&#39; can be any sequence of digits, you don&#39;t have to put it there (just `%f` is legal too), and specifies the intended length __of the entire element__, it&#39;s not specific to what kind of thing you&#39;re formatting. Then the letter identifies the thing you want to do (i.e. `x` for hexadecimal, `d` for a number, `f` for a floating point number, `s` for a string, and so on), and in between the digits for &#39;total length of the entire element&#39; and the letter you can put modifiers; the meaning of them and what you can do there depends on the letter chosen. But they all support that length thing, and all in the same way (length of _the entire element_).\r\n\r\nThus, you combine them (`%7.2f` for example), but know that the `7` would refer to the length of _the entire element_, not &#39;the digits before the decimal point&#39;.\r\n\r\nThus, if you want 5 digits, then the decimal point, then 2 digits, that&#39;s 8 total (5+2, and the decimal point, makes 8), thus:\r\n\r\n```\r\nSystem.out.printf(&quot;%8.2f\\n&quot;, 15.2555);\r\n```\r\n\r\nEnds up printing 8 symbols total: 3 spaces, then &#39;1&#39;, &#39;5&#39;, a decimal point symbol, &#39;2&#39;, and &#39;6&#39;.\r\n","title":"Is there a way to specify the number of digits after AND before the decimal point in the Java Formatter","body":"<p>The trick is in what that <code>%</code> stuff means. The format is:</p>\n<p><code>%1[MODS]x</code> where the '1' can be any sequence of digits, you don't have to put it there (just <code>%f</code> is legal too), and specifies the intended length <strong>of the entire element</strong>, it's not specific to what kind of thing you're formatting. Then the letter identifies the thing you want to do (i.e. <code>x</code> for hexadecimal, <code>d</code> for a number, <code>f</code> for a floating point number, <code>s</code> for a string, and so on), and in between the digits for 'total length of the entire element' and the letter you can put modifiers; the meaning of them and what you can do there depends on the letter chosen. But they all support that length thing, and all in the same way (length of <em>the entire element</em>).</p>\n<p>Thus, you combine them (<code>%7.2f</code> for example), but know that the <code>7</code> would refer to the length of <em>the entire element</em>, not 'the digits before the decimal point'.</p>\n<p>Thus, if you want 5 digits, then the decimal point, then 2 digits, that's 8 total (5+2, and the decimal point, makes 8), thus:</p>\n<pre><code>System.out.printf(&quot;%8.2f\\n&quot;, 15.2555);\n</code></pre>\n<p>Ends up printing 8 symbols total: 3 spaces, then '1', '5', a decimal point symbol, '2', and '6'.</p>\n"}],"owner":{"account_id":8204014,"reputation":513,"user_id":6174386,"display_name":"Herv&#233; Girod"},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1678069285,"accepted_answer_id":75644777,"answer_count":2,"score":0,"last_activity_date":1678044167,"creation_date":1678041775,"question_id":75644531,"body_markdown":"I am able to specify the number of digits for an int, with for example:\r\n\r\n    String result = String.format(java.util.Locale.US, &quot;%08d&quot;, 5555); // result is &quot;00005555&quot;\r\n\r\nOr the number of digits after the decimal point for a float, with for example:\r\n\r\n    String result = String.format(java.util.Locale.US, &quot;%.2f&quot;, 5.2345); // result is &quot;5.23&quot;\r\n\r\nIs it possible using the Java `Formatter` (used internally by the String class), to both specify the number of digits before AND after the decimal point?\r\n\r\nI would like to be able to specify something like that for example:\r\n\r\n    String result = String.format(java.util.Locale.US, &lt;the format&gt;, 5.2345); // result would be &quot;0005.23&quot;","title":"Is there a way to specify the number of digits after AND before the decimal point in the Java Formatter","body":"<p>I am able to specify the number of digits for an int, with for example:</p>\n<pre><code>String result = String.format(java.util.Locale.US, &quot;%08d&quot;, 5555); // result is &quot;00005555&quot;\n</code></pre>\n<p>Or the number of digits after the decimal point for a float, with for example:</p>\n<pre><code>String result = String.format(java.util.Locale.US, &quot;%.2f&quot;, 5.2345); // result is &quot;5.23&quot;\n</code></pre>\n<p>Is it possible using the Java <code>Formatter</code> (used internally by the String class), to both specify the number of digits before AND after the decimal point?</p>\n<p>I would like to be able to specify something like that for example:</p>\n<pre><code>String result = String.format(java.util.Locale.US, &lt;the format&gt;, 5.2345); // result would be &quot;0005.23&quot;\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-security","spring-data"],"answers":[{"tags":[],"owner":{"account_id":24183527,"reputation":49,"user_id":20466708,"display_name":"Егор Гаврилов"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678044055,"creation_date":1678035819,"answer_id":75643926,"question_id":75642514,"body_markdown":"My bug now solved by delete `@JsonIgnore` in password field in Entity. This is victory!","title":"Spring Security not login to REST-created users from Spring Data JPA","body":"<p>My bug now solved by delete <code>@JsonIgnore</code> in password field in Entity. This is victory!</p>\n"}],"owner":{"account_id":24183527,"reputation":49,"user_id":20466708,"display_name":"Егор Гаврилов"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678044055,"creation_date":1678022573,"question_id":75642514,"body_markdown":"I have a question. The fact is that when using Spring Security, the application for some reason reads only those users who were in the database at the time the application was launched, as well as those users who were added using the `CommandLineRunner` (that is, during the application launch). Those users that were created via REST after the application was launched will only be available after the application is restarted. What to do in this case? Repositories are imported into an object (via `@Autowired`) and not into a specific method (via parameters and local fields), because those methods don&#39;t work.","title":"Spring Security not login to REST-created users from Spring Data JPA","body":"<p>I have a question. The fact is that when using Spring Security, the application for some reason reads only those users who were in the database at the time the application was launched, as well as those users who were added using the <code>CommandLineRunner</code> (that is, during the application launch). Those users that were created via REST after the application was launched will only be available after the application is restarted. What to do in this case? Repositories are imported into an object (via <code>@Autowired</code>) and not into a specific method (via parameters and local fields), because those methods don't work.</p>\n"},{"tags":["java","saml","onelogin"],"answers":[{"tags":[],"owner":{"account_id":21754974,"reputation":33,"user_id":16060463,"display_name":"Nikhil Mittal"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678043633,"creation_date":1678043633,"answer_id":75644710,"question_id":47828826,"body_markdown":"To get samlresponse you need to define acs url with argument as Samlresponse then in that argument it will be fetched.\r\n\r\nTry ping federate IDP, it works best using self signed certificates too.\r\n\r\nAlso there is a third party DLL provider for SAML with ping federate\r\n\r\nhttps://krinteltech.com/?page_id=1340\r\n\r\nYou can try that too","title":"OneLogin Java-SAML cannot read SAML response","body":"<p>To get samlresponse you need to define acs url with argument as Samlresponse then in that argument it will be fetched.</p>\n<p>Try ping federate IDP, it works best using self signed certificates too.</p>\n<p>Also there is a third party DLL provider for SAML with ping federate</p>\n<p><a href=\"https://krinteltech.com/?page_id=1340\" rel=\"nofollow noreferrer\">https://krinteltech.com/?page_id=1340</a></p>\n<p>You can try that too</p>\n"}],"owner":{"account_id":142373,"reputation":10607,"user_id":350061,"accept_rate":100,"display_name":"Stefanos Kargas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":659,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1678043633,"creation_date":1513328161,"question_id":47828826,"body_markdown":"I have implemented SAML support for my application. I used **Java-SAML** from **OneLogin**. In my local tests everything works fine. I used a Ping Federate IdP server to do my tests, where my app acts as an SP. When testing the solution with the customer&#39;s IdP, I get the following error:\r\n\r\n&gt; SAML Response not found, Only supported HTTP_POST Binding\r\n\r\nI don&#39;t have access to the customer&#39;s IdP configuration, but I doublechecked that he has set up the assertion response to be HTTP_POST and I also confirmed that by using a SAML Tracer extension in FireFox. I do get a SAML POST response from the IdP, but I still get this error.\r\n\r\nThis is a screenshot from the SAML Tracer. I really don&#39;t know what to do next. Do you have any ideas?\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI logged the request parameters in my code before doing anything and indeed, there is no SAMLResponse parameter. How can this be explained? The SAML Tracer shows that there is a SAMLResponse, but I don&#39;t get one. I am using Tapestry 3 in my app. Does this affect anything?\r\n\r\n  [1]: https://i.stack.imgur.com/iMJ2s.jpg","title":"OneLogin Java-SAML cannot read SAML response","body":"<p>I have implemented SAML support for my application. I used <strong>Java-SAML</strong> from <strong>OneLogin</strong>. In my local tests everything works fine. I used a Ping Federate IdP server to do my tests, where my app acts as an SP. When testing the solution with the customer's IdP, I get the following error:</p>\n\n<blockquote>\n  <p>SAML Response not found, Only supported HTTP_POST Binding</p>\n</blockquote>\n\n<p>I don't have access to the customer's IdP configuration, but I doublechecked that he has set up the assertion response to be HTTP_POST and I also confirmed that by using a SAML Tracer extension in FireFox. I do get a SAML POST response from the IdP, but I still get this error.</p>\n\n<p>This is a screenshot from the SAML Tracer. I really don't know what to do next. Do you have any ideas?</p>\n\n<p><a href=\"https://i.stack.imgur.com/iMJ2s.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iMJ2s.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>I logged the request parameters in my code before doing anything and indeed, there is no SAMLResponse parameter. How can this be explained? The SAML Tracer shows that there is a SAMLResponse, but I don't get one. I am using Tapestry 3 in my app. Does this affect anything?</p>\n"},{"tags":["java","database","spring-boot","hibernate"],"comments":[{"owner":{"account_id":306540,"reputation":1801,"user_id":2695990,"display_name":"fascynacja"},"score":1,"creation_date":1678047987,"post_id":75644702,"comment_id":133453299,"body_markdown":"I see both entities mentioned in the stacktrace are from different package. Maybe to make things simple, put them to the same package first?","body":"I see both entities mentioned in the stacktrace are from different package. Maybe to make things simple, put them to the same package first?"},{"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"score":2,"creation_date":1678047994,"post_id":75644702,"comment_id":133453304,"body_markdown":"is there a particular reason for using different packages for User (`com.springSecurityLogin.login.model.User`) and Round (`com.springSecurityLogin.discgolf.model.Round`)? I am asking because - maybe - the `com.springSecurityLogin.discgolf` package is not scanned. I cannot say for sure because it depends on your configuration, but, for example, can you try moving `Round` in the  `.login.model` package to see if this is the case?","body":"is there a particular reason for using different packages for User (<code>com.springSecurityLogin.login.model.User</code>) and Round (<code>com.springSecurityLogin.discgolf.model.Round</code>)? I am asking because - maybe - the <code>com.springSecurityLogin.discgolf</code> package is not scanned. I cannot say for sure because it depends on your configuration, but, for example, can you try moving <code>Round</code> in the  <code>.login.model</code> package to see if this is the case?"},{"owner":{"account_id":25464408,"reputation":81,"user_id":19263679,"display_name":"Kayd Anderson"},"score":0,"creation_date":1678098233,"post_id":75644702,"comment_id":133461081,"body_markdown":"Thanks guys, yeah it was a package issue, the discgolf folder was outside the login folder. Sorry and thanks.","body":"Thanks guys, yeah it was a package issue, the discgolf folder was outside the login folder. Sorry and thanks."}],"owner":{"account_id":25464408,"reputation":81,"user_id":19263679,"display_name":"Kayd Anderson"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678043556,"creation_date":1678043556,"question_id":75644702,"body_markdown":"Im relatively new to Java and Spring. I followed [this][1] simple Spring security tutorial which all works fine, then I started adding my own code, but I&#39;m getting a BeanCreationException saying Round is not an Entity, but it is an entity. I&#39;ve researched to try and find out what is happening here but I can&#39;t figure it out. All other entities are created in MySql and they are basically the same the only difference is Round is the only one linked to a User. Thanks in advance.\r\n\r\nUser\r\n```\r\n@Getter\r\n@Setter\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Entity\r\n@Table(name = &quot;users&quot;)\r\npublic class User {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    @Column(nullable = false)\r\n    private String name;\r\n    @Column(nullable = false, unique = true)\r\n    private String email;\r\n    @Column(nullable = false)\r\n    private String password;\r\n    @ManyToMany(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\r\n    @JoinTable(\r\n            name = &quot;users_roles&quot;,\r\n            joinColumns = {@JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;id&quot;)},\r\n            inverseJoinColumns = {@JoinColumn(name = &quot;role_id&quot;, referencedColumnName = &quot;id&quot;)}\r\n    )\r\n    private List&lt;Role&gt; roles = new ArrayList&lt;&gt;();\r\n\r\n    @OneToMany(cascade = CascadeType.ALL, orphanRemoval = true)\r\n    @JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    private List&lt;Round&gt; rounds = new ArrayList&lt;&gt;();\r\n\r\n    public User(String name, String email, String password, List&lt;Role&gt; roles) {\r\n        this.name = name;\r\n        this.email = email;\r\n        this.password = password;\r\n        this.roles = roles;\r\n    }\r\n\r\n    public User(String name, String email, String password, List&lt;Role&gt; roles, List&lt;Round&gt; rounds) {\r\n        this.name = name;\r\n        this.email = email;\r\n        this.password = password;\r\n        this.roles = roles;\r\n        this.rounds = rounds;\r\n    }\r\n\r\n    public void addRole(Role role) {\r\n        this.roles.add(role);\r\n    }\r\n\r\n    public void addRound(Round round) {\r\n        this.rounds.add(round);\r\n    }\r\n}\r\n```\r\nRound\r\n```\r\n@Getter\r\n@Setter\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Entity\r\n@Table(name = &quot;round&quot;)\r\npublic class Round {\r\n\r\n    @Id\r\n    @Column(name = &quot;round_id&quot;)\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long roundId;\r\n\r\n    @JsonIgnore\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;course_id&quot;)\r\n    private Course course;\r\n\r\n    @OneToMany(cascade = CascadeType.ALL, orphanRemoval = true)\r\n    @JoinColumn(name = &quot;round_id&quot;, referencedColumnName = &quot;round_id&quot;)\r\n    private List&lt;Score&gt; scores = new ArrayList&lt;&gt;();\r\n\r\n    @JsonDeserialize(using = LocalDateTimeDeserializer.class)\r\n    @Column(name = &quot;round_date&quot;)\r\n    @DateTimeFormat(pattern = &quot;dd/MM/yyyy&quot;)\r\n    private Date roundDate;\r\n\r\n    @Column(name = &quot;round_total&quot;)\r\n    private int total;\r\n\r\n    public void addScoreToRound(Score score) {\r\n        this.scores.add(score);\r\n    }\r\n```\r\n\r\nError\r\n```\r\n2023-03-05T20:08:34.058+01:00 ERROR 34998 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Failed to initialize JPA EntityManagerFactory: Association &#39;com.springSecurityLogin.login.model.User.rounds&#39; targets the type &#39;com.springSecurityLogin.discgolf.model.Round&#39; which is not an &#39;@Entity&#39; type\r\n2023-03-05T20:08:34.059+01:00  WARN 34998 --- [  restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Association &#39;com.springSecurityLogin.login.model.User.rounds&#39; targets the type &#39;com.springSecurityLogin.discgolf.model.Round&#39; which is not an &#39;@Entity&#39; type\r\n2023-03-05T20:08:34.061+01:00  INFO 34998 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\r\n2023-03-05T20:08:34.107+01:00  INFO 34998 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\r\n2023-03-05T20:08:34.113+01:00  INFO 34998 --- [  restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n2023-03-05T20:08:34.155+01:00  INFO 34998 --- [  restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : \r\n\r\nError starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\n2023-03-05T20:08:34.211+01:00 ERROR 34998 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Association &#39;com.springSecurityLogin.login.model.User.rounds&#39; targets the type &#39;com.springSecurityLogin.discgolf.model.Round&#39; which is not an &#39;@Entity&#39; type\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1752) ~[spring-beans-6.0.5.jar:6.0.5]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.0.5.jar:6.0.5]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.0.5.jar:6.0.5]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.5.jar:6.0.5]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.5.jar:6.0.5]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.5.jar:6.0.5]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.5.jar:6.0.5]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1132) ~[spring-context-6.0.5.jar:6.0.5]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:907) ~[spring-context-6.0.5.jar:6.0.5]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.5.jar:6.0.5]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.3.jar:3.0.3]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-3.0.3.jar:3.0.3]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-3.0.3.jar:3.0.3]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[spring-boot-3.0.3.jar:3.0.3]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1304) ~[spring-boot-3.0.3.jar:3.0.3]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1293) ~[spring-boot-3.0.3.jar:3.0.3]\r\n\tat com.springSecurityLogin.login.SpringSecurityLoginApplication.main(SpringSecurityLoginApplication.java:12) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-3.0.3.jar:3.0.3]\r\nCaused by: org.hibernate.AnnotationException: Association &#39;com.springSecurityLogin.login.model.User.rounds&#39; targets the type &#39;com.springSecurityLogin.discgolf.model.Round&#39; which is not an &#39;@Entity&#39; type\r\n\tat org.hibernate.cfg.annotations.CollectionBinder.detectManyToManyProblems(CollectionBinder.java:2544) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.cfg.annotations.CollectionBinder.bindManyToManySecondPass(CollectionBinder.java:2097) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.cfg.annotations.CollectionBinder.bindStarToManySecondPass(CollectionBinder.java:1593) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.cfg.annotations.CollectionBinder$1.secondPass(CollectionBinder.java:1524) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.cfg.CollectionSecondPass.doSecondPass(CollectionSecondPass.java:47) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processSecondPasses(InFlightMetadataCollectorImpl.java:1782) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processSecondPasses(InFlightMetadataCollectorImpl.java:1739) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:300) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1348) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1419) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66) ~[spring-orm-6.0.5.jar:6.0.5]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.5.jar:6.0.5]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.5.jar:6.0.5]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.5.jar:6.0.5]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.5.jar:6.0.5]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1798) ~[spring-beans-6.0.5.jar:6.0.5]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1748) ~[spring-beans-6.0.5.jar:6.0.5]\r\n\t... 19 common frames omitted\r\n```\r\n\r\n\r\n  [1]: https://www.codeburps.com/post/spring-boot-form-login","title":"Getting a BeanCreationException caused by an AnnotationException","body":"<p>Im relatively new to Java and Spring. I followed <a href=\"https://www.codeburps.com/post/spring-boot-form-login\" rel=\"nofollow noreferrer\">this</a> simple Spring security tutorial which all works fine, then I started adding my own code, but I'm getting a BeanCreationException saying Round is not an Entity, but it is an entity. I've researched to try and find out what is happening here but I can't figure it out. All other entities are created in MySql and they are basically the same the only difference is Round is the only one linked to a User. Thanks in advance.</p>\n<p>User</p>\n<pre><code>@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity\n@Table(name = &quot;users&quot;)\npublic class User {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    @Column(nullable = false)\n    private String name;\n    @Column(nullable = false, unique = true)\n    private String email;\n    @Column(nullable = false)\n    private String password;\n    @ManyToMany(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\n    @JoinTable(\n            name = &quot;users_roles&quot;,\n            joinColumns = {@JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;id&quot;)},\n            inverseJoinColumns = {@JoinColumn(name = &quot;role_id&quot;, referencedColumnName = &quot;id&quot;)}\n    )\n    private List&lt;Role&gt; roles = new ArrayList&lt;&gt;();\n\n    @OneToMany(cascade = CascadeType.ALL, orphanRemoval = true)\n    @JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;id&quot;)\n    private List&lt;Round&gt; rounds = new ArrayList&lt;&gt;();\n\n    public User(String name, String email, String password, List&lt;Role&gt; roles) {\n        this.name = name;\n        this.email = email;\n        this.password = password;\n        this.roles = roles;\n    }\n\n    public User(String name, String email, String password, List&lt;Role&gt; roles, List&lt;Round&gt; rounds) {\n        this.name = name;\n        this.email = email;\n        this.password = password;\n        this.roles = roles;\n        this.rounds = rounds;\n    }\n\n    public void addRole(Role role) {\n        this.roles.add(role);\n    }\n\n    public void addRound(Round round) {\n        this.rounds.add(round);\n    }\n}\n</code></pre>\n<p>Round</p>\n<pre><code>@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity\n@Table(name = &quot;round&quot;)\npublic class Round {\n\n    @Id\n    @Column(name = &quot;round_id&quot;)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long roundId;\n\n    @JsonIgnore\n    @ManyToOne\n    @JoinColumn(name = &quot;course_id&quot;)\n    private Course course;\n\n    @OneToMany(cascade = CascadeType.ALL, orphanRemoval = true)\n    @JoinColumn(name = &quot;round_id&quot;, referencedColumnName = &quot;round_id&quot;)\n    private List&lt;Score&gt; scores = new ArrayList&lt;&gt;();\n\n    @JsonDeserialize(using = LocalDateTimeDeserializer.class)\n    @Column(name = &quot;round_date&quot;)\n    @DateTimeFormat(pattern = &quot;dd/MM/yyyy&quot;)\n    private Date roundDate;\n\n    @Column(name = &quot;round_total&quot;)\n    private int total;\n\n    public void addScoreToRound(Score score) {\n        this.scores.add(score);\n    }\n</code></pre>\n<p>Error</p>\n<pre><code>2023-03-05T20:08:34.058+01:00 ERROR 34998 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Failed to initialize JPA EntityManagerFactory: Association 'com.springSecurityLogin.login.model.User.rounds' targets the type 'com.springSecurityLogin.discgolf.model.Round' which is not an '@Entity' type\n2023-03-05T20:08:34.059+01:00  WARN 34998 --- [  restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Association 'com.springSecurityLogin.login.model.User.rounds' targets the type 'com.springSecurityLogin.discgolf.model.Round' which is not an '@Entity' type\n2023-03-05T20:08:34.061+01:00  INFO 34998 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\n2023-03-05T20:08:34.107+01:00  INFO 34998 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\n2023-03-05T20:08:34.113+01:00  INFO 34998 --- [  restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2023-03-05T20:08:34.155+01:00  INFO 34998 --- [  restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : \n\nError starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\n2023-03-05T20:08:34.211+01:00 ERROR 34998 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Association 'com.springSecurityLogin.login.model.User.rounds' targets the type 'com.springSecurityLogin.discgolf.model.Round' which is not an '@Entity' type\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1752) ~[spring-beans-6.0.5.jar:6.0.5]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.0.5.jar:6.0.5]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.0.5.jar:6.0.5]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.5.jar:6.0.5]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.5.jar:6.0.5]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.5.jar:6.0.5]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.5.jar:6.0.5]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1132) ~[spring-context-6.0.5.jar:6.0.5]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:907) ~[spring-context-6.0.5.jar:6.0.5]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.5.jar:6.0.5]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.3.jar:3.0.3]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-3.0.3.jar:3.0.3]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-3.0.3.jar:3.0.3]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[spring-boot-3.0.3.jar:3.0.3]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1304) ~[spring-boot-3.0.3.jar:3.0.3]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1293) ~[spring-boot-3.0.3.jar:3.0.3]\n    at com.springSecurityLogin.login.SpringSecurityLoginApplication.main(SpringSecurityLoginApplication.java:12) ~[classes/:na]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-3.0.3.jar:3.0.3]\nCaused by: org.hibernate.AnnotationException: Association 'com.springSecurityLogin.login.model.User.rounds' targets the type 'com.springSecurityLogin.discgolf.model.Round' which is not an '@Entity' type\n    at org.hibernate.cfg.annotations.CollectionBinder.detectManyToManyProblems(CollectionBinder.java:2544) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.cfg.annotations.CollectionBinder.bindManyToManySecondPass(CollectionBinder.java:2097) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.cfg.annotations.CollectionBinder.bindStarToManySecondPass(CollectionBinder.java:1593) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.cfg.annotations.CollectionBinder$1.secondPass(CollectionBinder.java:1524) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.cfg.CollectionSecondPass.doSecondPass(CollectionSecondPass.java:47) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processSecondPasses(InFlightMetadataCollectorImpl.java:1782) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processSecondPasses(InFlightMetadataCollectorImpl.java:1739) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:300) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1348) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1419) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66) ~[spring-orm-6.0.5.jar:6.0.5]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.5.jar:6.0.5]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.5.jar:6.0.5]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.5.jar:6.0.5]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.5.jar:6.0.5]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1798) ~[spring-beans-6.0.5.jar:6.0.5]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1748) ~[spring-beans-6.0.5.jar:6.0.5]\n    ... 19 common frames omitted\n</code></pre>\n"},{"tags":["java","android","textview","codeblocks","backticks"],"answers":[{"comments":[{"owner":{"account_id":20994078,"reputation":1,"user_id":15426336,"display_name":"Abrish Abrish"},"score":0,"creation_date":1678099555,"post_id":75644463,"comment_id":133461474,"body_markdown":"thank you for your answer but, it would be just color and font color change, i want it to be scrollable also just like the above text in Stackoverflow.","body":"thank you for your answer but, it would be just color and font color change, i want it to be scrollable also just like the above text in Stackoverflow."}],"tags":[],"owner":{"account_id":19682641,"reputation":80,"user_id":14409408,"display_name":"Lookyus"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678041203,"creation_date":1678041203,"answer_id":75644463,"question_id":75642434,"body_markdown":"Well, you would need a special character to mark the begging and the end of a code snippet, just like ``` is on Stack Overflow. So I would use ``indexOf()`` and ``lastIndexOf()`` to find position of the characters that mark the begging and the end, and then I would simply change the font, font color and the background color of that part of the string using ``SpannableString``. \r\n\r\n[You can read more about SpannableString here][1]\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/text/SpannableString","title":"CodeBlock in TextView","body":"<p>Well, you would need a special character to mark the begging and the end of a code snippet, just like ``` is on Stack Overflow. So I would use <code>indexOf()</code> and <code>lastIndexOf()</code> to find position of the characters that mark the begging and the end, and then I would simply change the font, font color and the background color of that part of the string using <code>SpannableString</code>.</p>\n<p><a href=\"https://developer.android.com/reference/android/text/SpannableString\" rel=\"nofollow noreferrer\">You can read more about SpannableString here</a></p>\n"}],"owner":{"account_id":20994078,"reputation":1,"user_id":15426336,"display_name":"Abrish Abrish"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678041203,"creation_date":1678021799,"question_id":75642434,"body_markdown":"I am currently developing an Android app and I would like to incorporate a feature that allows users to input code snippets in a similar fashion to how it&#39;s done on Stack Overflow. Specifically, I would like to enable users to separate code from other text by enclosing it within three backticks, \r\n\r\n``` \r\n//ability to separate text from code in string start and ends with three backticks and displaying that in separated box as this text is displayed \r\n```\r\n\r\nand have it displayed in a separate box to make it more visually distinct. This is a widely used feature on many platforms, and I believe it would enhance the user experience of my app. Despite searching online, I have not been able to find any resources on how to implement this feature. Can you provide guidance on how to achieve this functionality?","title":"CodeBlock in TextView","body":"<p>I am currently developing an Android app and I would like to incorporate a feature that allows users to input code snippets in a similar fashion to how it's done on Stack Overflow. Specifically, I would like to enable users to separate code from other text by enclosing it within three backticks,</p>\n<pre><code>//ability to separate text from code in string start and ends with three backticks and displaying that in separated box as this text is displayed \n</code></pre>\n<p>and have it displayed in a separate box to make it more visually distinct. This is a widely used feature on many platforms, and I believe it would enhance the user experience of my app. Despite searching online, I have not been able to find any resources on how to implement this feature. Can you provide guidance on how to achieve this functionality?</p>\n"},{"tags":["java","spring-boot","validation","jakarta-ee","bean-validation"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1678024741,"post_id":75642679,"comment_id":133449117,"body_markdown":"Please read: [Can I ask only one question per post?](https://meta.stackexchange.com/questions/222735/can-i-ask-only-one-question-per-post) --- &quot;*Does anyone know any good tutorials about that?*&quot; - [Questions asking us to recommend or find a book, tool, software library, **tutorial** or other off-site resource are **off-topic** for Stack Overflow as they tend to attract opinionated answers and spam. Instead, describe the problem and what has been done so far to solve it.](https://stackoverflow.com/help/on-topic)","body":"Please read: <a href=\"https://meta.stackexchange.com/questions/222735/can-i-ask-only-one-question-per-post\">Can I ask only one question per post?</a> --- &quot;<i>Does anyone know any good tutorials about that?</i>&quot; - <a href=\"https://stackoverflow.com/help/on-topic\">Questions asking us to recommend or find a book, tool, software library, <b>tutorial</b> or other off-site resource are <b>off-topic</b> for Stack Overflow as they tend to attract opinionated answers and spam. Instead, describe the problem and what has been done so far to solve it.</a>"},{"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"score":0,"creation_date":1678027760,"post_id":75642679,"comment_id":133449690,"body_markdown":"how do your test code look likes?","body":"how do your test code look likes?"},{"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"score":0,"creation_date":1678034762,"post_id":75642679,"comment_id":133450870,"body_markdown":"@KenChan I added it now.","body":"@KenChan I added it now."},{"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"score":0,"creation_date":1678036783,"post_id":75642679,"comment_id":133451233,"body_markdown":"just this ? do you have any setup codes to configure bean validation before calling `NumberFormatUtils.toString()` in your test codes ?","body":"just this ? do you have any setup codes to configure bean validation before calling <code>NumberFormatUtils.toString()</code> in your test codes ?"},{"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"score":0,"creation_date":1678038504,"post_id":75642679,"comment_id":133451527,"body_markdown":"No, I don&#39;t have, because as I said, I was expecting to be automatic, and not that I have to configure the bean validation.","body":"No, I don&#39;t have, because as I said, I was expecting to be automatic, and not that I have to configure the bean validation."}],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1678040928,"creation_date":1678039911,"answer_id":75644341,"question_id":75642679,"body_markdown":"&gt; No, I don&#39;t have, because as I said, I was expecting to be automatic,\r\n&gt; and not that I have to configure the bean validation\r\n\r\nI am sorry that it does not work likes what you expect . It requires to configure Bean Validation and trigger the validation through the Bean Validation API. Also it does not support validating on the static method too. Quote from [this][1] as below :\r\n\r\n&gt; Constraints may only be applied to instance methods, i.e. declaring\r\n&gt; constraints on static methods is not supported. Depending on the\r\n&gt; interception facility you use for triggering method validation,\r\n&gt; additional restrictions may apply, e.g. with respect to the visibility\r\n&gt; of methods supported as target of interception. Refer to the\r\n&gt; documentation of the interception technology to find out whether any\r\n&gt; such limitations exist.\r\n\r\nGood news is spring boot already auto configure it and do all the necessary integration with Bean Validation for you, but you have to make it as a spring bean and enable the validation feature by annotating it with `@Validated`. So change to the following : \r\n\r\n``` java\r\n@Service\r\n@Validated\r\npublic class NumberFormatUtils{\r\n    \r\n    public String toString(\r\n                              final BigDecimal numberToFormat, \r\n                              @PositiveOrZero final int scale, \r\n                              final char decimalSeparator, \r\n                              final char groupingSeparator, \r\n                              final NumberFormatPattern numberFormatPattern)\r\n\r\n   }\r\n\r\n}\r\n\r\n\r\n```\r\n\r\nAnd to use it , you have to get the `NumberFormatUtils` bean instance from the spring context by `@Autowired` for example , but not simply create the instance by yourself.\r\n\r\n\r\n\r\n\r\n  [1]: https://docs.jboss.org/hibernate/stable/validator/reference/en-US/html_single/#_parameter_constraints","title":"Why Jakarta Validation did not automatically execute the validation and throw the exception?","body":"<blockquote>\n<p>No, I don't have, because as I said, I was expecting to be automatic,\nand not that I have to configure the bean validation</p>\n</blockquote>\n<p>I am sorry that it does not work likes what you expect . It requires to configure Bean Validation and trigger the validation through the Bean Validation API. Also it does not support validating on the static method too. Quote from <a href=\"https://docs.jboss.org/hibernate/stable/validator/reference/en-US/html_single/#_parameter_constraints\" rel=\"nofollow noreferrer\">this</a> as below :</p>\n<blockquote>\n<p>Constraints may only be applied to instance methods, i.e. declaring\nconstraints on static methods is not supported. Depending on the\ninterception facility you use for triggering method validation,\nadditional restrictions may apply, e.g. with respect to the visibility\nof methods supported as target of interception. Refer to the\ndocumentation of the interception technology to find out whether any\nsuch limitations exist.</p>\n</blockquote>\n<p>Good news is spring boot already auto configure it and do all the necessary integration with Bean Validation for you, but you have to make it as a spring bean and enable the validation feature by annotating it with <code>@Validated</code>. So change to the following :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\n@Validated\npublic class NumberFormatUtils{\n    \n    public String toString(\n                              final BigDecimal numberToFormat, \n                              @PositiveOrZero final int scale, \n                              final char decimalSeparator, \n                              final char groupingSeparator, \n                              final NumberFormatPattern numberFormatPattern)\n\n   }\n\n}\n\n\n</code></pre>\n<p>And to use it , you have to get the <code>NumberFormatUtils</code> bean instance from the spring context by <code>@Autowired</code> for example , but not simply create the instance by yourself.</p>\n"}],"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1044,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75644341,"answer_count":1,"score":0,"last_activity_date":1678040928,"creation_date":1678024025,"question_id":75642679,"body_markdown":"I started validating a method parameter with: if notValid then throw exception,\r\n\r\nThen I realize that I can create my own annotations to validate parameters, and some minutes later I was looking for a library that already have those simple annotations for validating numbers for example.\r\n\r\nI discover Jakarta Bean Validation (ex javax.validation),\r\n\r\nso I added the following dependency:\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;${spring-boot.version}&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nI started using it by annotating a method parameter.\r\n\r\n\tpublic static String toString(\r\n                                  final BigDecimal numberToFormat, \r\n                                  @PositiveOrZero final int scale, \r\n                                  final char decimalSeparator, \r\n                                  final char groupingSeparator, \r\n                                  final NumberFormatPattern numberFormatPattern) {\r\n\r\n\t\tString pattern = getPattern(scale, numberFormatPattern);\r\n\t\treturn format(numberToFormat, decimalSeparator, groupingSeparator, pattern);\r\n\r\n\t}\r\n\r\nStarting a JUnit test and passing -1 as scale value, I was expecting an exception to be thrown, but nothing happened.\r\n\r\n    class NumberFormatUtilsTest {\r\n    \r\n    \tvoid _toString_INVALID_SCALE() {\r\n    \t\tBigDecimal number = NumberUtils.toBigDecimal(&quot;123.456&quot;);\r\n    \t\tassertThrows(ConstraintViolationException.class, () -&gt; NumberFormatUtils.toString(number, -1, &#39;,&#39;, &#39;.&#39;, DECIMALS_ALWAYS));\r\n    \t}\r\n    \r\n    }\r\n\r\nLooking into [documentation][1] I see:\r\n\r\n&gt; Note that declaring these constraints does not automatically cause\r\n&gt; their validation when the concerned methods are invoked.\r\n\r\n\r\nWhy someone should add a constraint without executing the validation?\r\n\r\n\r\n  [1]: https://jakarta.ee/specifications/bean-validation/3.0/jakarta-bean-validation-spec-3.0.html#constraintdeclarationvalidationprocess-methodlevelconstraints-parameterconstraints","title":"Why Jakarta Validation did not automatically execute the validation and throw the exception?","body":"<p>I started validating a method parameter with: if notValid then throw exception,</p>\n<p>Then I realize that I can create my own annotations to validate parameters, and some minutes later I was looking for a library that already have those simple annotations for validating numbers for example.</p>\n<p>I discover Jakarta Bean Validation (ex javax.validation),</p>\n<p>so I added the following dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n    &lt;version&gt;${spring-boot.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I started using it by annotating a method parameter.</p>\n<pre><code>public static String toString(\n                              final BigDecimal numberToFormat, \n                              @PositiveOrZero final int scale, \n                              final char decimalSeparator, \n                              final char groupingSeparator, \n                              final NumberFormatPattern numberFormatPattern) {\n\n    String pattern = getPattern(scale, numberFormatPattern);\n    return format(numberToFormat, decimalSeparator, groupingSeparator, pattern);\n\n}\n</code></pre>\n<p>Starting a JUnit test and passing -1 as scale value, I was expecting an exception to be thrown, but nothing happened.</p>\n<pre><code>class NumberFormatUtilsTest {\n\n    void _toString_INVALID_SCALE() {\n        BigDecimal number = NumberUtils.toBigDecimal(&quot;123.456&quot;);\n        assertThrows(ConstraintViolationException.class, () -&gt; NumberFormatUtils.toString(number, -1, ',', '.', DECIMALS_ALWAYS));\n    }\n\n}\n</code></pre>\n<p>Looking into <a href=\"https://jakarta.ee/specifications/bean-validation/3.0/jakarta-bean-validation-spec-3.0.html#constraintdeclarationvalidationprocess-methodlevelconstraints-parameterconstraints\" rel=\"nofollow noreferrer\">documentation</a> I see:</p>\n<blockquote>\n<p>Note that declaring these constraints does not automatically cause\ntheir validation when the concerned methods are invoked.</p>\n</blockquote>\n<p>Why someone should add a constraint without executing the validation?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":12958826,"reputation":2017,"user_id":9368691,"accept_rate":60,"display_name":"Morchul"},"score":0,"creation_date":1520601459,"post_id":49193441,"comment_id":85393995,"body_markdown":"Can you show your hole main method? The error happens on line 27 and in your code snippet I can&#39;t see this line.","body":"Can you show your hole main method? The error happens on line 27 and in your code snippet I can&#39;t see this line."},{"owner":{"account_id":2981732,"reputation":619,"user_id":2531569,"accept_rate":57,"display_name":"user2531569"},"score":0,"creation_date":1520615469,"post_id":49193441,"comment_id":85402571,"body_markdown":"Edited my question by adding complete Java code. Could you please check?","body":"Edited my question by adding complete Java code. Could you please check?"},{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":1,"creation_date":1520615895,"post_id":49193441,"comment_id":85402819,"body_markdown":"There is no `org/apache/kafka/clients/consumer/KafkaConsumer.class` file in `Kafka_Consumer.jar`. Where is `Kafka_Consumer.jar` coming from ? There is no *kafka.jar* on your classpath ?","body":"There is no <code>org&#47;apache&#47;kafka&#47;clients&#47;consumer&#47;KafkaConsumer.class</code> file in <code>Kafka_Consumer.jar</code>. Where is <code>Kafka_Consumer.jar</code> coming from ? There is no <i>kafka.jar</i> on your classpath ?"},{"owner":{"account_id":2981732,"reputation":619,"user_id":2531569,"accept_rate":57,"display_name":"user2531569"},"score":0,"creation_date":1520663184,"post_id":49193441,"comment_id":85417174,"body_markdown":"I have added these Jars in my Eclipse Build path : kafka-clients-0.10.0.0.jar\nlz4-1.3.0.jar\nslf4j-api-1.7.21.jar\nsnappy-java-1.1.2.4.jar.   Could you please confirm if I need to add kafka.jar also in my build path? Thanks in Advance","body":"I have added these Jars in my Eclipse Build path : kafka-clients-0.10.0.0.jar lz4-1.3.0.jar slf4j-api-1.7.21.jar snappy-java-1.1.2.4.jar.   Could you please confirm if I need to add kafka.jar also in my build path? Thanks in Advance"}],"owner":{"account_id":2981732,"reputation":619,"user_id":2531569,"accept_rate":57,"display_name":"user2531569"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678040210,"creation_date":1520597093,"question_id":49193441,"body_markdown":"I am new to Java. I am trying to execute Java jar, but facing issue with classpath. What can I try to resolve this?\r\n\r\n    [cloudera@quickstart Desktop]$ ls -rlt Kafka_Consumer.jar\r\n    -rw-rw-r-- 1 cloudera cloudera 2227 Mar  9 03:28 Kafka_Consumer.jar\r\n    \r\n    [cloudera@quickstart Desktop]$ java -cp Kafka_Consumer.jar org.abc.cde.KafkaConsumerTest\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/kafka/clients/consumer/KafkaConsumer\r\n    \tat org.abc.cde.KafkaConsumerTest.main(KafkaConsumerTest.java:27)\r\n    Caused by: java.lang.ClassNotFoundException: org.apache.kafka.clients.consumer.KafkaConsumer\r\n    \tat java.net.URLClassLoader$1.run(URLClassLoader.java:366)\r\n    \tat java.net.URLClassLoader$1.run(URLClassLoader.java:355)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:354)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:425)\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:308)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:358)\r\n    \t... 1 more\r\n\t\r\nBelow is my Java code snippet without any error:\r\n\r\n  \r\n\r\n     package org.abc.cde;\r\n    \r\n    import org.apache.kafka.clients.consumer.ConsumerRecord;\r\n    import org.apache.kafka.clients.consumer.ConsumerRecords;\r\n    import org.apache.kafka.clients.consumer.KafkaConsumer;\r\n     \r\n    import java.util.Arrays;\r\n    import java.util.Properties;\r\n     \r\n    public class KafkaConsumerTest {\r\n     \r\n        public static void main(String[] args) {\r\n     \r\n            //consumer properties\r\n            Properties props = new Properties();\r\n            props.put(&quot;bootstrap.servers&quot;, &quot;localhost:9092&quot;);\r\n            props.put(&quot;group.id&quot;, &quot;test-group&quot;);\r\n            \r\n            //using auto commit\r\n            props.put(&quot;enable.auto.commit&quot;, &quot;true&quot;);\r\n     \r\n            //string inputs and outputs\r\n            props.put(&quot;key.deserializer&quot;, &quot;org.apache.kafka.common.serialization.StringDeserializer&quot;);\r\n            props.put(&quot;value.deserializer&quot;, &quot;org.apache.kafka.common.serialization.StringDeserializer&quot;);\r\n     \r\n            //kafka consumer object\r\n            KafkaConsumer&lt;String, String&gt; consumer = new KafkaConsumer&lt;String, String&gt;(props);\r\n     \r\n            //subscribe to topic\r\n            consumer.subscribe(Arrays.asList(&quot;my-topic&quot;));\r\n     \r\n            //infinite poll loop\r\n            while (true) {\r\n                ConsumerRecords&lt;String, String&gt; records = consumer.poll(100);\r\n                for (ConsumerRecord&lt;String, String&gt; record : records)\r\n                    System.out.printf(&quot;offset = %d, key = %s, value = %s\\n&quot;, record.offset(), record.key(), record.value());\r\n            }\r\n     \r\n        }\r\n     \r\n    }\r\n\t\r\nThere are no compile time errors.\r\n","title":"ClassNotFoundException in Quick Start VM","body":"<p>I am new to Java. I am trying to execute Java jar, but facing issue with classpath. What can I try to resolve this?</p>\n<pre><code>[cloudera@quickstart Desktop]$ ls -rlt Kafka_Consumer.jar\n-rw-rw-r-- 1 cloudera cloudera 2227 Mar  9 03:28 Kafka_Consumer.jar\n\n[cloudera@quickstart Desktop]$ java -cp Kafka_Consumer.jar org.abc.cde.KafkaConsumerTest\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/kafka/clients/consumer/KafkaConsumer\n    at org.abc.cde.KafkaConsumerTest.main(KafkaConsumerTest.java:27)\nCaused by: java.lang.ClassNotFoundException: org.apache.kafka.clients.consumer.KafkaConsumer\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:366)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:355)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:354)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:425)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:308)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:358)\n    ... 1 more\n</code></pre>\n<p>Below is my Java code snippet without any error:</p>\n<pre><code> package org.abc.cde;\n\nimport org.apache.kafka.clients.consumer.ConsumerRecord;\nimport org.apache.kafka.clients.consumer.ConsumerRecords;\nimport org.apache.kafka.clients.consumer.KafkaConsumer;\n \nimport java.util.Arrays;\nimport java.util.Properties;\n \npublic class KafkaConsumerTest {\n \n    public static void main(String[] args) {\n \n        //consumer properties\n        Properties props = new Properties();\n        props.put(&quot;bootstrap.servers&quot;, &quot;localhost:9092&quot;);\n        props.put(&quot;group.id&quot;, &quot;test-group&quot;);\n        \n        //using auto commit\n        props.put(&quot;enable.auto.commit&quot;, &quot;true&quot;);\n \n        //string inputs and outputs\n        props.put(&quot;key.deserializer&quot;, &quot;org.apache.kafka.common.serialization.StringDeserializer&quot;);\n        props.put(&quot;value.deserializer&quot;, &quot;org.apache.kafka.common.serialization.StringDeserializer&quot;);\n \n        //kafka consumer object\n        KafkaConsumer&lt;String, String&gt; consumer = new KafkaConsumer&lt;String, String&gt;(props);\n \n        //subscribe to topic\n        consumer.subscribe(Arrays.asList(&quot;my-topic&quot;));\n \n        //infinite poll loop\n        while (true) {\n            ConsumerRecords&lt;String, String&gt; records = consumer.poll(100);\n            for (ConsumerRecord&lt;String, String&gt; record : records)\n                System.out.printf(&quot;offset = %d, key = %s, value = %s\\n&quot;, record.offset(), record.key(), record.value());\n        }\n \n    }\n \n}\n</code></pre>\n<p>There are no compile time errors.</p>\n"},{"tags":["java","spring","hibernate","junit"],"comments":[{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1678038942,"post_id":75644225,"comment_id":133451591,"body_markdown":"What does `names` currently return for you?","body":"What does <code>names</code> currently return for you?"},{"owner":{"account_id":11741622,"reputation":302,"user_id":8593764,"display_name":"jennifer ruurs"},"score":0,"creation_date":1678038984,"post_id":75644225,"comment_id":133451603,"body_markdown":"It returns: null\nnull\nnull","body":"It returns: null null null"},{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":1,"creation_date":1678039003,"post_id":75644225,"comment_id":133451607,"body_markdown":"Change `List&lt;Map&lt;String,String&gt;&gt;` to `List&lt;Map&lt;String, Object&gt;&gt;`. Then update the `map` call to use `(String)((Map)e.get(&quot;customer&quot;)).get(&quot;name&quot;)`.","body":"Change <code>List&lt;Map&lt;String,String&gt;&gt;</code> to <code>List&lt;Map&lt;String, Object&gt;&gt;</code>. Then update the <code>map</code> call to use <code>(String)((Map)e.get(&quot;customer&quot;)).get(&quot;name&quot;)</code>."}],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678039575,"creation_date":1678039575,"answer_id":75644306,"question_id":75644225,"body_markdown":"It looks like you have nested `Map`s. You can solve this by changing `List&lt;Map&lt;String,String&gt;&gt;` to `List&lt;Map&lt;String, Object&gt;&gt;`, then access the `name` key of the `Map` from the `customer` key:\r\n\r\n```java\r\n(String)((Map)e.get(&quot;customer&quot;)).get(&quot;name&quot;)\r\n```","title":"Unit testing does not get attributes","body":"<p>It looks like you have nested <code>Map</code>s. You can solve this by changing <code>List&lt;Map&lt;String,String&gt;&gt;</code> to <code>List&lt;Map&lt;String, Object&gt;&gt;</code>, then access the <code>name</code> key of the <code>Map</code> from the <code>customer</code> key:</p>\n<pre class=\"lang-java prettyprint-override\"><code>(String)((Map)e.get(&quot;customer&quot;)).get(&quot;name&quot;)\n</code></pre>\n"}],"owner":{"account_id":11741622,"reputation":302,"user_id":8593764,"display_name":"jennifer ruurs"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75644306,"answer_count":1,"score":2,"last_activity_date":1678039575,"creation_date":1678038689,"question_id":75644225,"body_markdown":"I want to test (values that are definitely inside my database (I see these values when i am debugging))\r\nI want to get get a list of strings from an linkedArrayList with a LinkedHashMap inside it (named names in code bellow). \r\n\r\nI expect that this is wrong:\r\n```\r\nList&lt;String&gt; names = body.stream().map(e-&gt; e.get(&quot;name&quot;)).collect(Collectors.toList());\r\n```\r\nDo you know how I can get my test passed by receiving a list of strings of of the attribute name?\r\n\r\n\r\n[![DebugResults][1]][1]\r\n\r\n```\r\npublic class FinanceRestControllerTests {\r\n\tprivate RestTemplate restTemplate;\r\n\r\n\t@Before\r\n\tpublic void setUp() {\r\n\t\trestTemplate = new RestTemplate();\r\n\t}\r\n\t\r\n\t@Test\r\n\tpublic void testGetContracts() {\r\n\t\tResponseEntity&lt;List&gt; response = restTemplate.getForEntity(&quot;http://localhost:5050/finance/rest/contracts&quot;, List.class);\r\n\t\tList&lt;Map&lt;String,String&gt;&gt; body = response.getBody();\r\n\t\tSystem.out.println(body);\r\n\t\tMatcherAssert.assertThat(response.getStatusCodeValue(), Matchers.equalTo(200));\r\n\t\tList&lt;String&gt; names = body.stream().map(e-&gt; e.get(&quot;name&quot;)).collect(Collectors.toList());\r\n\t\tnames.forEach((n) -&gt; System.out.println(n));\r\n\t\tMatcherAssert.assertThat(names, Matchers.containsInAnyOrder(&quot;Jen&quot;, &quot;Nakzo&quot;, &quot;Renes&quot;));\r\n\t}\r\n}\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kKYrF.png","title":"Unit testing does not get attributes","body":"<p>I want to test (values that are definitely inside my database (I see these values when i am debugging))\nI want to get get a list of strings from an linkedArrayList with a LinkedHashMap inside it (named names in code bellow).</p>\n<p>I expect that this is wrong:</p>\n<pre><code>List&lt;String&gt; names = body.stream().map(e-&gt; e.get(&quot;name&quot;)).collect(Collectors.toList());\n</code></pre>\n<p>Do you know how I can get my test passed by receiving a list of strings of of the attribute name?</p>\n<p><a href=\"https://i.stack.imgur.com/kKYrF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kKYrF.png\" alt=\"DebugResults\" /></a></p>\n<pre><code>public class FinanceRestControllerTests {\n    private RestTemplate restTemplate;\n\n    @Before\n    public void setUp() {\n        restTemplate = new RestTemplate();\n    }\n    \n    @Test\n    public void testGetContracts() {\n        ResponseEntity&lt;List&gt; response = restTemplate.getForEntity(&quot;http://localhost:5050/finance/rest/contracts&quot;, List.class);\n        List&lt;Map&lt;String,String&gt;&gt; body = response.getBody();\n        System.out.println(body);\n        MatcherAssert.assertThat(response.getStatusCodeValue(), Matchers.equalTo(200));\n        List&lt;String&gt; names = body.stream().map(e-&gt; e.get(&quot;name&quot;)).collect(Collectors.toList());\n        names.forEach((n) -&gt; System.out.println(n));\n        MatcherAssert.assertThat(names, Matchers.containsInAnyOrder(&quot;Jen&quot;, &quot;Nakzo&quot;, &quot;Renes&quot;));\n    }\n}\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1678039509,"post_id":75644137,"comment_id":133451695,"body_markdown":"Asking for the best way to do something may get your question closed as it&#39;s asking for something that tends to be rather opinionated. If you can&#39;t get your code to work, describe clear what isn&#39;t working and how you debugged the problem already. For example: If you set a breakpoint on each line of the code you shared, run the code in a debugger, and then check the value of each variable on each line, which is the **first** line that doesn&#39;t do what you expect it to do?","body":"Asking for the best way to do something may get your question closed as it&#39;s asking for something that tends to be rather opinionated. If you can&#39;t get your code to work, describe clear what isn&#39;t working and how you debugged the problem already. For example: If you set a breakpoint on each line of the code you shared, run the code in a debugger, and then check the value of each variable on each line, which is the <b>first</b> line that doesn&#39;t do what you expect it to do?"},{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1678039606,"post_id":75644137,"comment_id":133451707,"body_markdown":"In the code you shared, two things you need to fix: 1) Implement the `else` for `if (dataSnapshot.exists()){` so that you get a clearly defined behavior (e.g. an error message) if the data doesn&#39;t exist. 2) Implement `onCancelled` as you&#39;re ignoring possible errors now. At its minimum it should be `public void onCancelled(@NonNull DatabaseError databaseError) { throw databaseError.toException(); }`. Neither of these **is** the problem, but they may help you *find* the problem.","body":"In the code you shared, two things you need to fix: 1) Implement the <code>else</code> for <code>if (dataSnapshot.exists()){</code> so that you get a clearly defined behavior (e.g. an error message) if the data doesn&#39;t exist. 2) Implement <code>onCancelled</code> as you&#39;re ignoring possible errors now. At its minimum it should be <code>public void onCancelled(@NonNull DatabaseError databaseError) { throw databaseError.toException(); }</code>. Neither of these <b>is</b> the problem, but they may help you <i>find</i> the problem."},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1678096782,"post_id":75644137,"comment_id":133460690,"body_markdown":"There is no way you return the `gamescores` as a result of a method. Firebase API is asynchronous. So please check the duplicate to see how can you solve this using a callback. You might also be interested in reading this [resource](https://medium.com/firebase-tips-tricks/how-to-read-data-from-firebase-realtime-database-using-get-269ef3e179c5).","body":"There is no way you return the <code>gamescores</code> as a result of a method. Firebase API is asynchronous. So please check the duplicate to see how can you solve this using a callback. You might also be interested in reading this <a href=\"https://medium.com/firebase-tips-tricks/how-to-read-data-from-firebase-realtime-database-using-get-269ef3e179c5\" rel=\"nofollow noreferrer\">resource</a>."},{"owner":{"account_id":18047215,"reputation":17,"user_id":13117876,"display_name":"Ohad"},"score":0,"creation_date":1678097161,"post_id":75644137,"comment_id":133460798,"body_markdown":"hey Frank. thanks for the response. and sorry for the difficulty in understanding the question. what I meant is that `getQuizScoresFromFirebase()` return the `gamescores` list empty because it dosnt wait for `onDataChange` to finish. when i print to logcat the list inside `onDataChange` it looks good. but the list return empty from `getQuizScoresFromFirebase()`","body":"hey Frank. thanks for the response. and sorry for the difficulty in understanding the question. what I meant is that <code>getQuizScoresFromFirebase()</code> return the <code>gamescores</code> list empty because it dosnt wait for <code>onDataChange</code> to finish. when i print to logcat the list inside <code>onDataChange</code> it looks good. but the list return empty from <code>getQuizScoresFromFirebase()</code>"}],"owner":{"account_id":18047215,"reputation":17,"user_id":13117876,"display_name":"Ohad"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1678096731,"answer_count":0,"score":0,"last_activity_date":1678039412,"creation_date":1678037754,"question_id":75644137,"body_markdown":"im working with firebase-realtime on android studio java.\r\nI have several classes that read and write data from/to Firebase.\r\nwhat is the best way to do it and avoid code duplication ?\r\ni try static singelton class called &quot;FirebaseManager&quot; to hold all firebase function.\r\ni dont get the result when try to read data, I understood that this is because Firebase works asynchronously.\r\nIs there a way around this or a better way to work with firebase in my classes ? Thanks.\r\n\r\n    public class FirebaseManager {\r\n    \r\n        private static FirebaseManager instance;\r\n        private static FirebaseAuth mFirebaseAuth;\r\n        private static FirebaseDatabase mFirebaseDatabase;\r\n    \r\n        private FirebaseManager() {\r\n            mFirebaseAuth = FirebaseAuth.getInstance();\r\n            mFirebaseDatabase = FirebaseDatabase.getInstance();\r\n        }\r\n    \r\n        public static synchronized FirebaseManager getInstance() {\r\n            if (instance == null) {\r\n                instance = new FirebaseManager();\r\n            }\r\n    \r\n            return instance;\r\n        }\r\n    \r\n        public FirebaseAuth getFirebaseAuth() {\r\n            return mFirebaseAuth;\r\n        }\r\n    \r\n        public FirebaseDatabase getFirebaseDatabase() {\r\n            return mFirebaseDatabase;\r\n        }\r\n    \r\n    public static List&lt;GameScore&gt; getQuizScoresFromFirebase(){\r\n        FirebaseUser firebaseUser = mFirebaseAuth.getCurrentUser();\r\n        DatabaseReference mDatabaseReference;\r\n    \r\n        List&lt;GameScore&gt; gamescores = new ArrayList&lt;&gt;();\r\n    \r\n        if (firebaseUser != null){\r\n    \r\n            mDatabaseReference = mFirebaseDatabase.getReference(&quot;Users/&quot; + firebaseUser.getUid() + &quot;/quizScoreList&quot;);\r\n            mDatabaseReference.addListenerForSingleValueEvent(new ValueEventListener() {\r\n                @Override\r\n                public void onDataChange(DataSnapshot dataSnapshot) {\r\n                    //checking if QuizScoresList exists in the current firebase user\r\n                    if (dataSnapshot.exists()){\r\n                        long size = dataSnapshot.getChildrenCount();\r\n                        Log.d(&quot;MyTag&quot;, &quot;dataSnapshot is exists &quot; + &quot;dataSnapshot count: &quot;+ size);\r\n    \t\t\t\t\tfor (DataSnapshot scoreSnapshot : dataSnapshot.getChildren()) {\r\n    \t\t\t\t\t\tGameScore gs = scoreSnapshot.getValue(GameScore.class);\r\n    \t\t\t\t\t\tLog.d(&quot;MyTag&quot;,&quot;GameScore: &quot;+ gs.toString());\r\n    \t\t\t\t\t\tgamescores.add(gs);\r\n    \t\t\t\t\t\t// here gamescores look good and filled with data\r\n    \t\t\t\t\t\tLog.d(&quot;MyTag&quot;,&quot;gamescores: &quot;+ gamescores.size());\r\n    \t\t\t\t\t}\r\n    \r\n    \t\t\t\t} else {\r\n    \t\t\t\t\t// need to be hundle\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\t@Override\r\n    \t\t\tpublic void onCancelled(DatabaseError databaseError) {\r\n    \t\t\t\t//Toast.makeText(QuizScore.this, &quot;Error on get scores from Firebase&quot;, Toast.LENGTH_SHORT).show();\r\n    \t\t\t}\r\n    \t\t});\r\n    \t}\r\n    \treturn gamescores;\r\n    }\r\n\r\n","title":"Working correctly with Firebase-realtime in Android Studio &amp; avoid duplicated code","body":"<p>im working with firebase-realtime on android studio java.\nI have several classes that read and write data from/to Firebase.\nwhat is the best way to do it and avoid code duplication ?\ni try static singelton class called &quot;FirebaseManager&quot; to hold all firebase function.\ni dont get the result when try to read data, I understood that this is because Firebase works asynchronously.\nIs there a way around this or a better way to work with firebase in my classes ? Thanks.</p>\n<pre><code>public class FirebaseManager {\n\n    private static FirebaseManager instance;\n    private static FirebaseAuth mFirebaseAuth;\n    private static FirebaseDatabase mFirebaseDatabase;\n\n    private FirebaseManager() {\n        mFirebaseAuth = FirebaseAuth.getInstance();\n        mFirebaseDatabase = FirebaseDatabase.getInstance();\n    }\n\n    public static synchronized FirebaseManager getInstance() {\n        if (instance == null) {\n            instance = new FirebaseManager();\n        }\n\n        return instance;\n    }\n\n    public FirebaseAuth getFirebaseAuth() {\n        return mFirebaseAuth;\n    }\n\n    public FirebaseDatabase getFirebaseDatabase() {\n        return mFirebaseDatabase;\n    }\n\npublic static List&lt;GameScore&gt; getQuizScoresFromFirebase(){\n    FirebaseUser firebaseUser = mFirebaseAuth.getCurrentUser();\n    DatabaseReference mDatabaseReference;\n\n    List&lt;GameScore&gt; gamescores = new ArrayList&lt;&gt;();\n\n    if (firebaseUser != null){\n\n        mDatabaseReference = mFirebaseDatabase.getReference(&quot;Users/&quot; + firebaseUser.getUid() + &quot;/quizScoreList&quot;);\n        mDatabaseReference.addListenerForSingleValueEvent(new ValueEventListener() {\n            @Override\n            public void onDataChange(DataSnapshot dataSnapshot) {\n                //checking if QuizScoresList exists in the current firebase user\n                if (dataSnapshot.exists()){\n                    long size = dataSnapshot.getChildrenCount();\n                    Log.d(&quot;MyTag&quot;, &quot;dataSnapshot is exists &quot; + &quot;dataSnapshot count: &quot;+ size);\n                    for (DataSnapshot scoreSnapshot : dataSnapshot.getChildren()) {\n                        GameScore gs = scoreSnapshot.getValue(GameScore.class);\n                        Log.d(&quot;MyTag&quot;,&quot;GameScore: &quot;+ gs.toString());\n                        gamescores.add(gs);\n                        // here gamescores look good and filled with data\n                        Log.d(&quot;MyTag&quot;,&quot;gamescores: &quot;+ gamescores.size());\n                    }\n\n                } else {\n                    // need to be hundle\n                }\n            }\n            @Override\n            public void onCancelled(DatabaseError databaseError) {\n                //Toast.makeText(QuizScore.this, &quot;Error on get scores from Firebase&quot;, Toast.LENGTH_SHORT).show();\n            }\n        });\n    }\n    return gamescores;\n}\n</code></pre>\n"},{"tags":["java","hibernate","hashmap","annotations","mapping"],"comments":[{"owner":{"account_id":1327194,"reputation":1809,"user_id":1271785,"accept_rate":67,"display_name":"pfurbacher"},"score":1,"creation_date":1678042605,"post_id":75644243,"comment_id":133452239,"body_markdown":"Do you want to create this map after finding certain persons in the database? If so, do your fetch from the database, then stream the list of person objects, collecting to a map, something like `personsList.stream().collect(Collectors.toMap(Person::name, Person::age));`","body":"Do you want to create this map after finding certain persons in the database? If so, do your fetch from the database, then stream the list of person objects, collecting to a map, something like <code>personsList.stream().collect(Collectors.toMap(Person::name, Person::age));</code>"}],"owner":{"account_id":20178974,"reputation":1,"user_id":14799937,"display_name":" Pujitha"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678038860,"creation_date":1678038860,"question_id":75644243,"body_markdown":"I have a Person table with a columns Name, Age in Info Database.\r\nI want to convert the Name,Age into Map&lt;Name, Age&gt;\r\n```\r\npublic class Object {\r\n    private Map&lt;Name, Age&gt; personalInfo;\r\n}\r\n```\r\n\r\nEntity class:\r\n```\r\n@Entity(name = &quot;Person&quot;)\r\n@Table(name = &quot;Person&quot;)\r\npublic class Entity {\r\n\r\n   Map&lt;Name, Age&gt; personalInfo;\r\n}\r\n```\r\n\r\n\r\nHow the hibernate annotations should be for this kind of mapping?","title":"Hibernate: Map Two Columns of same Entity to a HashMap&#39;s Key and Value","body":"<p>I have a Person table with a columns Name, Age in Info Database.\nI want to convert the Name,Age into Map&lt;Name, Age&gt;</p>\n<pre><code>public class Object {\n    private Map&lt;Name, Age&gt; personalInfo;\n}\n</code></pre>\n<p>Entity class:</p>\n<pre><code>@Entity(name = &quot;Person&quot;)\n@Table(name = &quot;Person&quot;)\npublic class Entity {\n\n   Map&lt;Name, Age&gt; personalInfo;\n}\n</code></pre>\n<p>How the hibernate annotations should be for this kind of mapping?</p>\n"},{"tags":["java","selenium","selenium-webdriver","browser-automation","selenium-firefoxdriver"],"comments":[{"owner":{"account_id":20342398,"reputation":155,"user_id":14921272,"display_name":"Cole Henrich"},"score":0,"creation_date":1611084722,"post_id":65798231,"comment_id":116335493,"body_markdown":"Maybe Google wants you to actively agree to their terms and intentionally constructed their interface to require human interaction.","body":"Maybe Google wants you to actively agree to their terms and intentionally constructed their interface to require human interaction."},{"owner":{"account_id":15916223,"reputation":389,"user_id":11484691,"display_name":"Erfan Tavoosi"},"score":0,"creation_date":1611084899,"post_id":65798231,"comment_id":116335578,"body_markdown":"But do you mean that it can block the Selenium WebDriver from actually performing its instructions?","body":"But do you mean that it can block the Selenium WebDriver from actually performing its instructions?"},{"owner":{"account_id":20342398,"reputation":155,"user_id":14921272,"display_name":"Cole Henrich"},"score":0,"creation_date":1611085011,"post_id":65798231,"comment_id":116335630,"body_markdown":"Who knows? It could be something like &quot;not a robot&quot; internally.  Still, that&#39;s not a definitive/expert opinion and someone else should probably answer.","body":"Who knows? It could be something like &quot;not a robot&quot; internally.  Still, that&#39;s not a definitive/expert opinion and someone else should probably answer."}],"answers":[{"comments":[{"owner":{"account_id":15916223,"reputation":389,"user_id":11484691,"display_name":"Erfan Tavoosi"},"score":0,"creation_date":1611092690,"post_id":65798330,"comment_id":116338614,"body_markdown":"Super thanks! That solved my issue which I was struggling with for some time now. I could only find the iframe by index though since the page source couldn&#39;t display any id or name attribute related to it.","body":"Super thanks! That solved my issue which I was struggling with for some time now. I could only find the iframe by index though since the page source couldn&#39;t display any id or name attribute related to it."},{"owner":{"account_id":12046399,"reputation":351,"user_id":8811251,"display_name":"Andy"},"score":0,"creation_date":1611147354,"post_id":65798330,"comment_id":116356166,"body_markdown":"Yw :) That can also work or you can try to find the iFrame using the source attribute maybe something like this: `driver.findElements(By.xpath(&quot;//IFrame[startswith(getAttribute(&quot;src&quot;),&quot;consent.google.com&quot;)&quot;));`","body":"Yw :) That can also work or you can try to find the iFrame using the source attribute maybe something like this: <code>driver.findElements(By.xpath(&quot;&#47;&#47;IFrame[startswith(getAttribu&zwnj;&#8203;te(&quot;src&quot;),&quot;consent.g&zwnj;&#8203;oogle.com&quot;)&quot;));</code>"}],"tags":[],"owner":{"account_id":12046399,"reputation":351,"user_id":8811251,"display_name":"Andy"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1611085080,"creation_date":1611085080,"answer_id":65798330,"question_id":65798231,"body_markdown":"The popup is located on an iFrame, first you have to switch to the iFrame:\r\n\r\n    driver.switchTo().frame(yourFrame);\r\nafter you can find the accept button, and click it:\r\n\r\n    driver.findElement(By.id(&quot;id&quot;)).click();","title":"Selenium Webdriver: How to bypass Google &quot;accept-cookies&quot; dialog box","body":"<p>The popup is located on an iFrame, first you have to switch to the iFrame:</p>\n<pre><code>driver.switchTo().frame(yourFrame);\n</code></pre>\n<p>after you can find the accept button, and click it:</p>\n<pre><code>driver.findElement(By.id(&quot;id&quot;)).click();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7149583,"reputation":1582,"user_id":5467727,"accept_rate":91,"display_name":"Tiago Oliveira"},"score":2,"creation_date":1617130180,"post_id":66874725,"comment_id":118215989,"body_markdown":"Welcome to Stack Overflow, avoid asking questions that contain only code, you could improve your question by writing a quick summary of what you are trying to do, this will make it easier for users to better understand your question","body":"Welcome to Stack Overflow, avoid asking questions that contain only code, you could improve your question by writing a quick summary of what you are trying to do, this will make it easier for users to better understand your question"}],"tags":[],"owner":{"account_id":21106601,"reputation":1,"user_id":15515458,"display_name":"Jus"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617121190,"creation_date":1617121190,"answer_id":66874725,"question_id":65798231,"body_markdown":"    from selenium import webdriver\r\n    from selenium.common.exceptions import NoSuchElementException\r\n    import time\r\n    driver = webdriver.Chrome(&#39;chromedriver.exe&#39;)\r\n\r\n    driver.get(&#39;https://google.com/xhtml&#39;)\r\n\r\n    time.sleep(2) # seconds until popup appears\r\n\r\n    try: # 2 different popups\r\n        frame = driver.find_element_by_xpath(&#39;//*[@id=&quot;cnsw&quot;]/iframe&#39;)\r\n        driver.switch_to.frame(frame)\r\n        driver.find_element_by_xpath(&#39;//*[@id=&quot;introAgreeButton&quot;]&#39;).click()\r\n\r\n    except NoSuchElementException:\r\n        driver.find_element_by_xpath(&#39;//*[@id=&quot;zV9nZe&quot;]&#39;).click()","title":"Selenium Webdriver: How to bypass Google &quot;accept-cookies&quot; dialog box","body":"<pre><code>from selenium import webdriver\nfrom selenium.common.exceptions import NoSuchElementException\nimport time\ndriver = webdriver.Chrome('chromedriver.exe')\n\ndriver.get('https://google.com/xhtml')\n\ntime.sleep(2) # seconds until popup appears\n\ntry: # 2 different popups\n    frame = driver.find_element_by_xpath('//*[@id=&quot;cnsw&quot;]/iframe')\n    driver.switch_to.frame(frame)\n    driver.find_element_by_xpath('//*[@id=&quot;introAgreeButton&quot;]').click()\n\nexcept NoSuchElementException:\n    driver.find_element_by_xpath('//*[@id=&quot;zV9nZe&quot;]').click()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10229535,"reputation":11,"user_id":9854581,"display_name":"Alexander Yatsenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1620769803,"creation_date":1620769803,"answer_id":67494766,"question_id":65798231,"body_markdown":"I&#39;ve used the same solution as Jus, but Chrome had &#39;I agree&#39; button id changed since then\r\n\r\nHere how updated solution should look like\r\n\r\n    from selenium import webdriver\r\n    from selenium.common.exceptions import NoSuchElementException\r\n    import time\r\n    driver = webdriver.Chrome(&#39;chromedriver.exe&#39;)\r\n    \r\n    driver.get(&#39;https://google.com/xhtml&#39;)\r\n    \r\n    time.sleep(2) # seconds until popup appears\r\n\r\n    try: # 2 different popups\r\n        frame = driver.find_element_by_xpath(&#39;//*[@id=&quot;cnsw&quot;]/iframe&#39;) #&lt;-locating chrome cookies consent frame \r\n        driver.switch_to.frame(frame) \r\n        driver.find_element_by_xpath(&#39;//*[@id=&quot;introAgreeButton&quot;]&#39;).click()#&lt;-looking for introAgreeButton button, but seems google has changed its name since and  it only works in old chrome versions.\r\n    \r\n    except NoSuchElementException:\r\n        driver.find_element_by_xpath(&#39;//*[@id=&quot;L2AGLb&quot;]&#39;).click() #&lt;- pay attention to new id.\r\n\r\nIn case if this id will expire, I recommend you to inspect element yourself like this:\r\n\r\n[Inspect Element][1]\r\n\r\n\r\nClick twice &#39;Inspect element&#39;\r\n\r\n[Locating &#39;I agree&#39; button&#39;s id][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xW75r.png\r\n  [2]: https://i.stack.imgur.com/PnxmW.png","title":"Selenium Webdriver: How to bypass Google &quot;accept-cookies&quot; dialog box","body":"<p>I've used the same solution as Jus, but Chrome had 'I agree' button id changed since then</p>\n<p>Here how updated solution should look like</p>\n<pre><code>from selenium import webdriver\nfrom selenium.common.exceptions import NoSuchElementException\nimport time\ndriver = webdriver.Chrome('chromedriver.exe')\n\ndriver.get('https://google.com/xhtml')\n\ntime.sleep(2) # seconds until popup appears\n\ntry: # 2 different popups\n    frame = driver.find_element_by_xpath('//*[@id=&quot;cnsw&quot;]/iframe') #&lt;-locating chrome cookies consent frame \n    driver.switch_to.frame(frame) \n    driver.find_element_by_xpath('//*[@id=&quot;introAgreeButton&quot;]').click()#&lt;-looking for introAgreeButton button, but seems google has changed its name since and  it only works in old chrome versions.\n\nexcept NoSuchElementException:\n    driver.find_element_by_xpath('//*[@id=&quot;L2AGLb&quot;]').click() #&lt;- pay attention to new id.\n</code></pre>\n<p>In case if this id will expire, I recommend you to inspect element yourself like this:</p>\n<p><a href=\"https://i.stack.imgur.com/xW75r.png\" rel=\"nofollow noreferrer\">Inspect Element</a></p>\n<p>Click twice 'Inspect element'</p>\n<p><a href=\"https://i.stack.imgur.com/PnxmW.png\" rel=\"nofollow noreferrer\">Locating 'I agree' button's id</a></p>\n"},{"comments":[{"owner":{"account_id":179989,"reputation":5011,"user_id":413020,"accept_rate":67,"display_name":"Alberto"},"score":0,"creation_date":1655814734,"post_id":68843531,"comment_id":128416260,"body_markdown":"For simplicity, as for today 2022-06-21 it suffices to set the Cookie value to `&quot;YES+&quot;`","body":"For simplicity, as for today 2022-06-21 it suffices to set the Cookie value to <code>&quot;YES+&quot;</code>"}],"tags":[],"owner":{"account_id":8484598,"reputation":51,"user_id":6363250,"display_name":"Ahmed Hammad"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1629357451,"creation_date":1629357451,"answer_id":68843531,"question_id":65798231,"body_markdown":"you can handle it by update the cookies &quot;CONSENT&quot; delete the old one because the value is &quot;PENDING&quot; and Add it with the below value.\r\n\r\n```\r\ndriverManager.driver.manage().deleteCookieNamed (&quot;CONSENT&quot;);\r\ndriverManager.driver.manage().addCookie(new Cookie(&quot;CONSENT&quot;,&quot;YES+shp.gws-&quot;+LocalDate.now().toString().replace(&quot;-&quot;,&quot;&quot;)+&quot;-0-RC2.en+FX+374&quot;));\r\ndriverManager.driver.navigate().refresh();\r\n```","title":"Selenium Webdriver: How to bypass Google &quot;accept-cookies&quot; dialog box","body":"<p>you can handle it by update the cookies &quot;CONSENT&quot; delete the old one because the value is &quot;PENDING&quot; and Add it with the below value.</p>\n<pre><code>driverManager.driver.manage().deleteCookieNamed (&quot;CONSENT&quot;);\ndriverManager.driver.manage().addCookie(new Cookie(&quot;CONSENT&quot;,&quot;YES+shp.gws-&quot;+LocalDate.now().toString().replace(&quot;-&quot;,&quot;&quot;)+&quot;-0-RC2.en+FX+374&quot;));\ndriverManager.driver.navigate().refresh();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22393449,"reputation":417,"user_id":16605082,"display_name":"SomeGenericDev"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678038836,"creation_date":1678038836,"answer_id":75644241,"question_id":65798231,"body_markdown":"For anyone looking for the Python version of Ahmed Hammad&#39;s snippet of code:\r\n\r\n    driver.delete_cookie(&quot;CONSENT&quot;)\r\n    driver.add_cookie({&#39;name&#39;: &#39;CONSENT&#39;, &#39;value&#39;: &quot;YES+shp.gws-&quot;+str(date.today()).replace(&quot;-&quot;,&quot;&quot;)+&quot;-0-RC2.en+FX+374&quot;})\r\n    driver.refresh()","title":"Selenium Webdriver: How to bypass Google &quot;accept-cookies&quot; dialog box","body":"<p>For anyone looking for the Python version of Ahmed Hammad's snippet of code:</p>\n<pre><code>driver.delete_cookie(&quot;CONSENT&quot;)\ndriver.add_cookie({'name': 'CONSENT', 'value': &quot;YES+shp.gws-&quot;+str(date.today()).replace(&quot;-&quot;,&quot;&quot;)+&quot;-0-RC2.en+FX+374&quot;})\ndriver.refresh()\n</code></pre>\n"}],"owner":{"account_id":15916223,"reputation":389,"user_id":11484691,"display_name":"Erfan Tavoosi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6679,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":65798330,"answer_count":5,"score":0,"last_activity_date":1678038836,"creation_date":1611084544,"question_id":65798231,"body_markdown":"I have a really simple Selenium WebDriver project in Java where I am using FireFox driver. \r\n\r\nMy goal is to navigate to Google&#39;s page (https://www.google.com) and when prompted to accept \r\nCookies be able to click on the &quot;I agree&quot;-button to just get rid of it and continue the automation process further. But for some reason I just can&#39;t get the browser to locate it. \r\n\r\n\r\nThis is the instruction I am using currently:\r\n\r\n    package main;\r\n    \r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.WebElement;\r\n    import org.openqa.selenium.firefox.FirefoxDriver;\r\n    \r\n    public class SeleniumGoogleTest {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tWebDriver driver = new FirefoxDriver();\r\n    \t\tdriver.get(&quot;https://www.google.com&quot;);\r\n    \t\tWebElement acceptButton = driver.findElement\r\n            (By.xpath(&quot;/html/body/div/c-wiz/div[2]/div/div/div/div/div[2]/form/div/div[2]&quot;));\r\n    \t\t\r\n    \t\r\n    \t}\r\n    }\r\n\r\n\r\n&lt;br&gt;\r\n&lt;br&gt;\r\n\r\n\r\n\r\nI don&#39;t know why the browser can&#39;t locate it and activate/enable that part of the page \r\nwith neither *Implicit wait* or *Explicit wait*. *Thread.sleep()* method don&#39;t seem to be the\r\nsolution either in this case. \r\n\r\nThe only error message I get when running the application is that of **&quot;Unable to locate the element&quot;**.\r\n\r\n\r\n&lt;br&gt;\r\n&lt;br&gt;\r\n\r\n  [![A screenshot of where I get stuck][1]][1]  \r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UmecW.png\r\n\r\n&lt;br&gt;\r\n\r\nIs it that you actually can&#39;t automate some stuff with Selenium WebDriver or have I misunderstood some important concepts here?\r\n\r\n\r\nMuch grateful for all tips !","title":"Selenium Webdriver: How to bypass Google &quot;accept-cookies&quot; dialog box","body":"<p>I have a really simple Selenium WebDriver project in Java where I am using FireFox driver.</p>\n<p>My goal is to navigate to Google's page (<a href=\"https://www.google.com\" rel=\"nofollow noreferrer\">https://www.google.com</a>) and when prompted to accept\nCookies be able to click on the &quot;I agree&quot;-button to just get rid of it and continue the automation process further. But for some reason I just can't get the browser to locate it.</p>\n<p>This is the instruction I am using currently:</p>\n<pre><code>package main;\n\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.firefox.FirefoxDriver;\n\npublic class SeleniumGoogleTest {\n\n    public static void main(String[] args) {\n\n        WebDriver driver = new FirefoxDriver();\n        driver.get(&quot;https://www.google.com&quot;);\n        WebElement acceptButton = driver.findElement\n        (By.xpath(&quot;/html/body/div/c-wiz/div[2]/div/div/div/div/div[2]/form/div/div[2]&quot;));\n        \n    \n    }\n}\n</code></pre>\n<br>\n<br>\n<p>I don't know why the browser can't locate it and activate/enable that part of the page\nwith neither <em>Implicit wait</em> or <em>Explicit wait</em>. <em>Thread.sleep()</em> method don't seem to be the\nsolution either in this case.</p>\n<p>The only error message I get when running the application is that of <strong>&quot;Unable to locate the element&quot;</strong>.</p>\n<br>\n<br>\n<p><a href=\"https://i.stack.imgur.com/UmecW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UmecW.png\" alt=\"A screenshot of where I get stuck\" /></a></p>\n<br>\n<p>Is it that you actually can't automate some stuff with Selenium WebDriver or have I misunderstood some important concepts here?</p>\n<p>Much grateful for all tips !</p>\n"},{"tags":["java","class","methods"],"comments":[{"owner":{"account_id":27393528,"reputation":353,"user_id":20896122,"display_name":"undefined symbol"},"score":0,"creation_date":1678031449,"post_id":75643416,"comment_id":133450290,"body_markdown":"In getPowerState, print a message if powerOn is not true.  (By the way, a method called getThing that does not get the Thing but merely prints out the state of the Thing is misnamed)","body":"In getPowerState, print a message if powerOn is not true.  (By the way, a method called getThing that does not get the Thing but merely prints out the state of the Thing is misnamed)"},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1678036302,"post_id":75643416,"comment_id":133451160,"body_markdown":"Because the `powerOn` boolean variable is a *public static* class member variable, it is global to the entire class and accessible to all other classes. **togglePowerState()** would indeed be a better name for the `setPowerState()` method since this is exactly what it&#39;s doing...toggling. Because `powerOn` is global, it should not be passed as as argument to the `getPowerState()` method since that variable would be a local variable to the method **only** and would have nothing to do with the global variable. Remove that parameter declaration from the `getPowerState()` method signature.","body":"Because the <code>powerOn</code> boolean variable is a <i>public static</i> class member variable, it is global to the entire class and accessible to all other classes. <b>togglePowerState()</b> would indeed be a better name for the <code>setPowerState()</code> method since this is exactly what it&#39;s doing...toggling. Because <code>powerOn</code> is global, it should not be passed as as argument to the <code>getPowerState()</code> method since that variable would be a local variable to the method <b>only</b> and would have nothing to do with the global variable. Remove that parameter declaration from the <code>getPowerState()</code> method signature."},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":1,"creation_date":1678046902,"post_id":75643416,"comment_id":133453119,"body_markdown":"I see you created a new account after you&#39;ve deleted your old one (probably due to a question ban). You know, SO is not a free tutoring site and your questions [1](https://stackoverflow.com/questions/75617066/turning-on-and-off-checking-if-it-is-on-or-off-and-printing-a-message-when-off),[2](https://stackoverflow.com/questions/75631902/i-need-to-use-a-method-with-this-to-remove-people-from-an-elevator-program),[3](https://stackoverflow.com/questions/75628722/using-a-method-to-add-people-in-an-elevator-program) were downvoted because they didn&#39;t show much effort. [cont.]...","body":"I see you created a new account after you&#39;ve deleted your old one (probably due to a question ban). You know, SO is not a free tutoring site and your questions <a href=\"https://stackoverflow.com/questions/75617066/turning-on-and-off-checking-if-it-is-on-or-off-and-printing-a-message-when-off\">1</a>,<a href=\"https://stackoverflow.com/questions/75631902/i-need-to-use-a-method-with-this-to-remove-people-from-an-elevator-program\">2</a>,<a href=\"https://stackoverflow.com/questions/75628722/using-a-method-to-add-people-in-an-elevator-program\">3</a> were downvoted because they didn&#39;t show much effort. [cont.]..."},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":0,"creation_date":1678046910,"post_id":75643416,"comment_id":133453122,"body_markdown":"...[cont.] Also, don&#39;t ask a question for every single step in your homework. Try to solve it at least once on your own. Ask your class mates and professor if \nyou have questions regarding your task. There&#39;s another user with a suspiciously \nsimilar [task](https://stackoverflow.com/questions/75644813/using-a-constructor-to-set-a-number-back-to-1-when-it-goes-over-a-certain-number), so if this really is the same task, you could work together. BTW, creating a new account to circumvent the question ban is highly discouraged.","body":"...[cont.] Also, don&#39;t ask a question for every single step in your homework. Try to solve it at least once on your own. Ask your class mates and professor if  you have questions regarding your task. There&#39;s another user with a suspiciously  similar <a href=\"https://stackoverflow.com/questions/75644813/using-a-constructor-to-set-a-number-back-to-1-when-it-goes-over-a-certain-number\">task</a>, so if this really is the same task, you could work together. BTW, creating a new account to circumvent the question ban is highly discouraged."},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1678069844,"post_id":75643416,"comment_id":133456159,"body_markdown":"And a 4th one [here](https://stackoverflow.com/questions/75644813/using-a-constructor-to-set-a-number-back-to-1-when-it-goes-over-a-certain-number) @QBrute","body":"And a 4th one <a href=\"https://stackoverflow.com/questions/75644813/using-a-constructor-to-set-a-number-back-to-1-when-it-goes-over-a-certain-number\">here</a> @QBrute"}],"answers":[{"tags":[],"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1678038464,"creation_date":1678031479,"answer_id":75643446,"question_id":75643416,"body_markdown":"There is no need for a new method for this. Simply in your `setPowerState()` method (which I would rename to `togglePowerState()` since this isn&#39;t a true &quot;setter&quot; method), add an if block at the end that prints your message if the power has been turned on:\r\n\r\n```\r\n// toggle power on/off  -- note method name has been changed\r\npublic static void togglePower() {\r\n\tpowerOn = !powerOn;\r\n\tif (powerOn) {\r\n\t\tSystem.out.println(&quot;The power has been turned on&quot;);\r\n\t}\r\n}\r\n```\r\n\r\nThe advantage here is that the if block is called whenever the power state is toggled by this method. Note that this won&#39;t work if you can change your power state by other means, such as with a public field or a separate true &quot;setter&quot; method. If this is possible, then you will likely need to make powerState a &quot;bound property&quot; and use Java bean&#39;s PropertyChangeSupport along with a PropertyChangeListener, something which is probably over-kill for this assignment.\r\n\r\nI would be remiss if I didn&#39;t mention the evils of over-use of static methods and fields, and while it may be a requirement of your project to use statics for this, in the long run, you likely wouldn&#39;t.\r\n\r\nSo, if this were my project, I&#39;d make powerOn a private *instance* field:\r\n\r\n```\r\nprivate boolean powerOn = false;\r\n\r\npublic boolean ispowerOn() {\r\n    return powerOn;\r\n}\r\n```\r\n\r\nand I&#39;d make it a &quot;bound property&quot; using the tools mentioned above:\r\n\r\n```\r\n// constant String to indicate which property we are listening to\r\npublic static final String POWER_ON = &quot;power on&quot;;\r\n\r\n// prop change support: notifies listeners of changes in property\r\nprivate PropertyChangeSupport support = new PropertyChangeSupport(this);\r\n\r\n// our bound property\r\nprivate boolean powerOn = false;\r\n\r\npublic boolean ispowerOn() {\r\n    return powerOn;\r\n}\r\n\r\n// in the setter, notify any listeners by firing the support object\r\npublic void setpowerOn(boolean powerOn) {\r\n    boolean oldValue = this.powerOn;\r\n    boolean newValue = powerOn;\r\n    this.powerOn = powerOn;\r\n    support.firePropertyChange(POWER_ON, oldValue, newValue);\r\n}\r\n\r\npublic void togglePower() {\r\n    setpowerOn(!powerOn);  // this triggers the prop chng support\r\n}\r\n```\r\n\r\nand we&#39;d have to allow outside classes the ability to add/remove property change listeners:\r\n\r\n```\r\npublic void addPowerChangeListener(PropertyChangeListener pcListener) {\r\n    support.addPropertyChangeListener(POWER_ON, pcListener);\r\n}\r\n\r\npublic void removePowerChangeListener(PropertyChangeListener pcListener) {\r\n    support.removePropertyChangeListener(pcListener);\r\n}\r\n```\r\n\r\nThe whole thing could look like:\r\n```\r\npublic class Elevator {\r\n    // constant String to indicate which property we are listening to\r\n    public static final String POWER_ON = &quot;power on&quot;;\r\n\r\n    // prop change support: notifies listeners of changes in property\r\n    private PropertyChangeSupport support = new PropertyChangeSupport(this);\r\n\r\n    // our bound property\r\n    private boolean powerOn = false;\r\n\r\n    public boolean ispowerOn() {\r\n        return powerOn;\r\n    }\r\n\r\n    // in the setter, notify any listeners by firing the support object\r\n    public void setpowerOn(boolean powerOn) {\r\n        boolean oldValue = this.powerOn;\r\n        boolean newValue = powerOn;\r\n        this.powerOn = powerOn;\r\n        support.firePropertyChange(POWER_ON, oldValue, newValue);\r\n    }\r\n\r\n    public void togglePower() {\r\n        setpowerOn(!powerOn);  // this triggers the prop chng support\r\n    }\r\n    \r\n    public void addPowerChangeListener(PropertyChangeListener pcListener) {\r\n        support.addPropertyChangeListener(POWER_ON, pcListener);\r\n    }\r\n    \r\n    public void removePowerChangeListener(PropertyChangeListener pcListener) {\r\n        support.removePropertyChangeListener(pcListener);\r\n    }\r\n}\r\n```\r\n\r\nThen an outside class could easily add a property change listener, one that is notified whenever the powerOn property changes:\r\n\r\n```\r\nElevator elevator = new Elevator();\r\nelevator.addPowerChangeListener(pcEvent -&gt; {\r\n    if (elevator.ispowerOn()) {\r\n        // fired if the power is on\r\n        System.out.println(&quot;The power is ON!&quot;);\r\n    } else {\r\n        // if you want output for when the power switches off\r\n    }\r\n});\r\n```\r\n\r\nA complete testing class could look like:\r\n\r\n```\r\n// imports\r\npublic class TestElevator {\r\n    public static void main(String[] args) {\r\n        Elevator elevator = new Elevator();\r\n        elevator.addPowerChangeListener(pcEvent -&gt; {\r\n            if (elevator.ispowerOn()) {\r\n                // fired if the power is on\r\n                System.out.println(&quot;The power is ON!&quot;);\r\n            } else {\r\n                // if you want output for when the power switches off\r\n            }\r\n        });\r\n        \r\n        @SuppressWarnings(&quot;resource&quot;)\r\n        Scanner scan = new Scanner(System.in);\r\n        \r\n        boolean keepGoing = true;\r\n        while (keepGoing) {\r\n            System.out.print(&quot;Enter \\&quot;on\\&quot; to turn on power, \\&quot;off\\&quot; to turn it off, \\&quot;toggle\\&quot; to toggle it, and \\&quot;quit\\&quot; to quit: &quot;);\r\n            String input = scan.nextLine();\r\n            switch (input.toLowerCase()) {\r\n            case &quot;on&quot;:\r\n                elevator.setpowerOn(true);\r\n                break;\r\n            case &quot;off&quot;:\r\n                elevator.setpowerOn(false);\r\n                break;\r\n            case &quot;toggle&quot;:\r\n                elevator.togglePower();\r\n                break;\r\n            case &quot;quit&quot;:\r\n                keepGoing = false;\r\n                break;\r\n\r\n            default:\r\n                System.out.println(&quot;Invalid entry, try again&quot;);\r\n                break;\r\n            }\r\n        }        \r\n    }\r\n    \r\n}\r\n```","title":"How to make a message print when off turn on in Java","body":"<p>There is no need for a new method for this. Simply in your <code>setPowerState()</code> method (which I would rename to <code>togglePowerState()</code> since this isn't a true &quot;setter&quot; method), add an if block at the end that prints your message if the power has been turned on:</p>\n<pre><code>// toggle power on/off  -- note method name has been changed\npublic static void togglePower() {\n    powerOn = !powerOn;\n    if (powerOn) {\n        System.out.println(&quot;The power has been turned on&quot;);\n    }\n}\n</code></pre>\n<p>The advantage here is that the if block is called whenever the power state is toggled by this method. Note that this won't work if you can change your power state by other means, such as with a public field or a separate true &quot;setter&quot; method. If this is possible, then you will likely need to make powerState a &quot;bound property&quot; and use Java bean's PropertyChangeSupport along with a PropertyChangeListener, something which is probably over-kill for this assignment.</p>\n<p>I would be remiss if I didn't mention the evils of over-use of static methods and fields, and while it may be a requirement of your project to use statics for this, in the long run, you likely wouldn't.</p>\n<p>So, if this were my project, I'd make powerOn a private <em>instance</em> field:</p>\n<pre><code>private boolean powerOn = false;\n\npublic boolean ispowerOn() {\n    return powerOn;\n}\n</code></pre>\n<p>and I'd make it a &quot;bound property&quot; using the tools mentioned above:</p>\n<pre><code>// constant String to indicate which property we are listening to\npublic static final String POWER_ON = &quot;power on&quot;;\n\n// prop change support: notifies listeners of changes in property\nprivate PropertyChangeSupport support = new PropertyChangeSupport(this);\n\n// our bound property\nprivate boolean powerOn = false;\n\npublic boolean ispowerOn() {\n    return powerOn;\n}\n\n// in the setter, notify any listeners by firing the support object\npublic void setpowerOn(boolean powerOn) {\n    boolean oldValue = this.powerOn;\n    boolean newValue = powerOn;\n    this.powerOn = powerOn;\n    support.firePropertyChange(POWER_ON, oldValue, newValue);\n}\n\npublic void togglePower() {\n    setpowerOn(!powerOn);  // this triggers the prop chng support\n}\n</code></pre>\n<p>and we'd have to allow outside classes the ability to add/remove property change listeners:</p>\n<pre><code>public void addPowerChangeListener(PropertyChangeListener pcListener) {\n    support.addPropertyChangeListener(POWER_ON, pcListener);\n}\n\npublic void removePowerChangeListener(PropertyChangeListener pcListener) {\n    support.removePropertyChangeListener(pcListener);\n}\n</code></pre>\n<p>The whole thing could look like:</p>\n<pre><code>public class Elevator {\n    // constant String to indicate which property we are listening to\n    public static final String POWER_ON = &quot;power on&quot;;\n\n    // prop change support: notifies listeners of changes in property\n    private PropertyChangeSupport support = new PropertyChangeSupport(this);\n\n    // our bound property\n    private boolean powerOn = false;\n\n    public boolean ispowerOn() {\n        return powerOn;\n    }\n\n    // in the setter, notify any listeners by firing the support object\n    public void setpowerOn(boolean powerOn) {\n        boolean oldValue = this.powerOn;\n        boolean newValue = powerOn;\n        this.powerOn = powerOn;\n        support.firePropertyChange(POWER_ON, oldValue, newValue);\n    }\n\n    public void togglePower() {\n        setpowerOn(!powerOn);  // this triggers the prop chng support\n    }\n    \n    public void addPowerChangeListener(PropertyChangeListener pcListener) {\n        support.addPropertyChangeListener(POWER_ON, pcListener);\n    }\n    \n    public void removePowerChangeListener(PropertyChangeListener pcListener) {\n        support.removePropertyChangeListener(pcListener);\n    }\n}\n</code></pre>\n<p>Then an outside class could easily add a property change listener, one that is notified whenever the powerOn property changes:</p>\n<pre><code>Elevator elevator = new Elevator();\nelevator.addPowerChangeListener(pcEvent -&gt; {\n    if (elevator.ispowerOn()) {\n        // fired if the power is on\n        System.out.println(&quot;The power is ON!&quot;);\n    } else {\n        // if you want output for when the power switches off\n    }\n});\n</code></pre>\n<p>A complete testing class could look like:</p>\n<pre><code>// imports\npublic class TestElevator {\n    public static void main(String[] args) {\n        Elevator elevator = new Elevator();\n        elevator.addPowerChangeListener(pcEvent -&gt; {\n            if (elevator.ispowerOn()) {\n                // fired if the power is on\n                System.out.println(&quot;The power is ON!&quot;);\n            } else {\n                // if you want output for when the power switches off\n            }\n        });\n        \n        @SuppressWarnings(&quot;resource&quot;)\n        Scanner scan = new Scanner(System.in);\n        \n        boolean keepGoing = true;\n        while (keepGoing) {\n            System.out.print(&quot;Enter \\&quot;on\\&quot; to turn on power, \\&quot;off\\&quot; to turn it off, \\&quot;toggle\\&quot; to toggle it, and \\&quot;quit\\&quot; to quit: &quot;);\n            String input = scan.nextLine();\n            switch (input.toLowerCase()) {\n            case &quot;on&quot;:\n                elevator.setpowerOn(true);\n                break;\n            case &quot;off&quot;:\n                elevator.setpowerOn(false);\n                break;\n            case &quot;toggle&quot;:\n                elevator.togglePower();\n                break;\n            case &quot;quit&quot;:\n                keepGoing = false;\n                break;\n\n            default:\n                System.out.println(&quot;Invalid entry, try again&quot;);\n                break;\n            }\n        }        \n    }\n    \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":194308,"reputation":66745,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1678038753,"creation_date":1678038753,"answer_id":75644235,"question_id":75643416,"body_markdown":"First of all, a method called `setPowerState` suggests that you will set the power state to a value, so it should look like this:\r\n\r\n```\r\n    //power on/off\r\n    public static void setPowerState(boolean po) {\r\n        powerOn = po;\r\n    }\r\n```\r\n\r\nYou can also implement a toggler, but then you should name it `togglePowerState` and it should look like this:\r\n\r\n```\r\n    //power on/off\r\n    public static void togglePowerState() {\r\n        setPowerState(!getPowerState());\r\n    }\r\n```\r\n\r\nBut, in order to have that, we need to implement a proper getter, like this:\r\n\r\n```\r\n    public static boolean getPowerState() {\r\n        return powerState;\r\n    }\r\n```\r\n\r\nNotice that here we do not have a print, because you need to separate the logic from the UI/CLI, to save yourself from large headaches later. So, if you want to print the value, you can try it like this:\r\n\r\n```\r\nif (getPowerState()) {\r\n    System.out.println(&quot;Power Reinstated&quot;);\r\n}\r\n```\r\n\r\nAlso, here we only had `static` methods, which are class-level. You may consider removing the `static` keyword, so they will be instance-level and that would allow your class to control the state of as many elevators as you want instead of a single one.","title":"How to make a message print when off turn on in Java","body":"<p>First of all, a method called <code>setPowerState</code> suggests that you will set the power state to a value, so it should look like this:</p>\n<pre><code>    //power on/off\n    public static void setPowerState(boolean po) {\n        powerOn = po;\n    }\n</code></pre>\n<p>You can also implement a toggler, but then you should name it <code>togglePowerState</code> and it should look like this:</p>\n<pre><code>    //power on/off\n    public static void togglePowerState() {\n        setPowerState(!getPowerState());\n    }\n</code></pre>\n<p>But, in order to have that, we need to implement a proper getter, like this:</p>\n<pre><code>    public static boolean getPowerState() {\n        return powerState;\n    }\n</code></pre>\n<p>Notice that here we do not have a print, because you need to separate the logic from the UI/CLI, to save yourself from large headaches later. So, if you want to print the value, you can try it like this:</p>\n<pre><code>if (getPowerState()) {\n    System.out.println(&quot;Power Reinstated&quot;);\n}\n</code></pre>\n<p>Also, here we only had <code>static</code> methods, which are class-level. You may consider removing the <code>static</code> keyword, so they will be instance-level and that would allow your class to control the state of as many elevators as you want instead of a single one.</p>\n"}],"owner":{"account_id":27794227,"reputation":5,"user_id":21337022,"display_name":"CodeAccount"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"accepted_answer_id":75643446,"answer_count":2,"score":-3,"last_activity_date":1678038753,"creation_date":1678031249,"question_id":75643416,"body_markdown":"I am trying to make an elevator program where if the elevator is in an off state and it turns on it prints out a message. I am using a static method for this, as I have to use a static method for this. I have tried a few ways to make this happen but the closest I have gotten is it printing out whenever the power = true. \r\n\r\n\r\n\r\nHere is my code:\r\n```\r\nprivate static boolean powerOn = true;\r\n\r\n\t//power on/off\r\n    public static void setPowerState() {\r\n    powerOn = !powerOn;\r\n\t}\r\n\r\n\t//get the power state and print the message\r\n    public static void getPowerState(boolean powerOn) {\r\n  if (powerOn == true){\r\n              System.out.println(&quot;Power Reinstated&quot;);\r\n           }\r\n\t}\r\n```\r\n\r\nHere is the code in a seperate class to print out the message and turn on and off the power:\r\n```\r\n`//turn power off\r\nElevator.setPowerState();\r\n\r\n//set power to on again\r\n        Elevator.setPowerState();\r\n\t\t\r\n//see if the message prints out a second time\r\n\tElevator.getPowerState(true);\r\n\tElevator.getPowerState(true);\r\n```\r\n\r\nI have tried an if statement as you can see but all that is doing is printint out the message whenever I call the method. I think I need to change the getPowerState method I have but I am not sure how. Any answers would be appreciated.","title":"How to make a message print when off turn on in Java","body":"<p>I am trying to make an elevator program where if the elevator is in an off state and it turns on it prints out a message. I am using a static method for this, as I have to use a static method for this. I have tried a few ways to make this happen but the closest I have gotten is it printing out whenever the power = true.</p>\n<p>Here is my code:</p>\n<pre><code>private static boolean powerOn = true;\n\n    //power on/off\n    public static void setPowerState() {\n    powerOn = !powerOn;\n    }\n\n    //get the power state and print the message\n    public static void getPowerState(boolean powerOn) {\n  if (powerOn == true){\n              System.out.println(&quot;Power Reinstated&quot;);\n           }\n    }\n</code></pre>\n<p>Here is the code in a seperate class to print out the message and turn on and off the power:</p>\n<pre><code>`//turn power off\nElevator.setPowerState();\n\n//set power to on again\n        Elevator.setPowerState();\n        \n//see if the message prints out a second time\n    Elevator.getPowerState(true);\n    Elevator.getPowerState(true);\n</code></pre>\n<p>I have tried an if statement as you can see but all that is doing is printint out the message whenever I call the method. I think I need to change the getPowerState method I have but I am not sure how. Any answers would be appreciated.</p>\n"},{"tags":["java","hashmap","hashtable"],"comments":[{"owner":{"account_id":15206,"reputation":19530,"user_id":31899,"accept_rate":80,"display_name":"John Munsch"},"score":7,"creation_date":1257280907,"post_id":1669885,"comment_id":1543190,"body_markdown":"BTW, this is an excellent opportunity to show off the multi-hashmap that is part of the Jakarta collections classes (http://commons.apache.org/collections/). It will let you have any number of values associated with the same key for those times when you need that.","body":"BTW, this is an excellent opportunity to show off the multi-hashmap that is part of the Jakarta collections classes (<a href=\"http://commons.apache.org/collections/\" rel=\"nofollow noreferrer\">commons.apache.org/collections</a>). It will let you have any number of values associated with the same key for those times when you need that."},{"owner":{"account_id":1800202,"reputation":8954,"user_id":1638739,"accept_rate":63,"display_name":"Muhammed Refaat"},"score":0,"creation_date":1380833538,"post_id":1669885,"comment_id":28358274,"body_markdown":"possible duplicate of [HashMap with multiple values under the same key](http://stackoverflow.com/questions/4956844/hashmap-with-multiple-values-under-the-same-key)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/4956844/hashmap-with-multiple-values-under-the-same-key\">HashMap with multiple values under the same key</a>"},{"owner":{"account_id":10809524,"reputation":601,"user_id":7950525,"display_name":"Thimira Pathirana"},"score":0,"creation_date":1678038445,"post_id":1669885,"comment_id":133451519,"body_markdown":"Duplicate keys are not allowed on a Map. If you need to add value for the same key refer https://stackoverflow.com/a/75644186/7950525","body":"Duplicate keys are not allowed on a Map. If you need to add value for the same key refer <a href=\"https://stackoverflow.com/a/75644186/7950525\">stackoverflow.com/a/75644186/7950525</a>"}],"answers":[{"comments":[{"owner":{"account_id":938093,"reputation":2857,"user_id":966656,"accept_rate":82,"display_name":"Andrew S"},"score":0,"creation_date":1437593719,"post_id":1669908,"comment_id":51099678,"body_markdown":"Thanks for this. Reading though the Java documentation this is not mentioned clearly. I am guessing the author of the doc assumed this to be a tacit assumption of all hash map implementations.","body":"Thanks for this. Reading though the Java documentation this is not mentioned clearly. I am guessing the author of the doc assumed this to be a tacit assumption of all hash map implementations."},{"owner":{"account_id":5275258,"reputation":267,"user_id":4267880,"display_name":"axell-brendow"},"score":0,"creation_date":1617377244,"post_id":1669908,"comment_id":118293845,"body_markdown":"I was reading the Java implementation and seems that when you insert a new key-value pair, it needs to iterate over all elements in the bucket to know if the key exists or not, so it can&#39;t just add one element at the end of the bucket. This makes the insertion not 100% O(1)","body":"I was reading the Java implementation and seems that when you insert a new key-value pair, it needs to iterate over all elements in the bucket to know if the key exists or not, so it can&#39;t just add one element at the end of the bucket. This makes the insertion not 100% O(1)"}],"tags":[],"owner":{"account_id":67616,"reputation":26917,"user_id":197772,"accept_rate":94,"display_name":"jheddings"},"comment_count":2,"down_vote_count":0,"up_vote_count":349,"is_accepted":false,"score":349,"last_activity_date":1361979748,"creation_date":1257279666,"answer_id":1669908,"question_id":1669885,"body_markdown":"By definition, the `put` command replaces the previous value associated with the given key in the map (conceptually like an array indexing operation for primitive types).\r\n\r\nThe map simply drops its reference to the value.  If nothing else holds a reference to the object, that object becomes eligible for garbage collection.  Additionally, Java returns any previous value associated with the given key (or `null` if none present), so you can determine what was there and maintain a reference if necessary.\r\n\r\nMore information here: [HashMap Doc][1]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/HashMap.html","title":"What happens when a duplicate key is put into a HashMap?","body":"<p>By definition, the <code>put</code> command replaces the previous value associated with the given key in the map (conceptually like an array indexing operation for primitive types).</p>\n\n<p>The map simply drops its reference to the value.  If nothing else holds a reference to the object, that object becomes eligible for garbage collection.  Additionally, Java returns any previous value associated with the given key (or <code>null</code> if none present), so you can determine what was there and maintain a reference if necessary.</p>\n\n<p>More information here: <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/HashMap.html\" rel=\"noreferrer\">HashMap Doc</a></p>\n"},{"comments":[{"owner":{"account_id":26957,"reputation":564391,"user_id":70604,"display_name":"Pascal Thivent"},"score":3,"creation_date":1257282109,"post_id":1669916,"comment_id":1543303,"body_markdown":"The *returned value* is the *previous value* (or `null`) as documented just above in the javadoc so, yes, this is what I mean. Can it really be misinterpreted?","body":"The <i>returned value</i> is the <i>previous value</i> (or <code>null</code>) as documented just above in the javadoc so, yes, this is what I mean. Can it really be misinterpreted?"},{"owner":{"account_id":6701313,"reputation":7980,"user_id":5167682,"accept_rate":29,"display_name":"roottraveller"},"score":0,"creation_date":1505895512,"post_id":1669916,"comment_id":79594894,"body_markdown":"this is very helpful.","body":"this is very helpful."}],"tags":[],"owner":{"account_id":26957,"reputation":564391,"user_id":70604,"display_name":"Pascal Thivent"},"comment_count":2,"down_vote_count":0,"up_vote_count":85,"is_accepted":false,"score":85,"last_activity_date":1257293432,"creation_date":1257279777,"answer_id":1669916,"question_id":1669885,"body_markdown":"You may find your answer in the javadoc of [Map#put(K, V)][1] (which actually returns something):\r\n\r\n\r\n&gt;     public V put(K key,\r\n&gt;                  V value)\r\n&gt; \r\n&gt; \r\n&gt; Associates the specified value with the specified key in this map\r\n&gt; (optional operation). If the map\r\n&gt; previously contained a mapping for\r\n&gt; this key, the old value is replaced by\r\n&gt; the specified value. (A map `m` is said\r\n&gt; to contain a mapping for a key `k` if\r\n&gt; and only if [`m.containsKey(k)`][2] would\r\n&gt; return `true`.)\r\n&gt; \r\n&gt; **Parameters:**  \r\n&gt;         `key` - key with which the specified value is to be associated.  \r\n&gt;         `value` - value to be associated with the specified key. \r\n&gt; \r\n&gt; **Returns:**  \r\n&gt;         previous value associated with specified key, or `null` if there was no\r\n&gt; mapping for `key`. (A `null` return can also indicate that the map previously associated `null` with the specified `key`, if the implementation supports `null` values.)\r\n\r\n\r\nSo if you don&#39;t assign the returned value when calling `mymap.put(&quot;1&quot;, &quot;a string&quot;)`, it just becomes unreferenced and thus eligible for garbage collection.\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/Map.html#put%28K,%20V%29\r\n  [2]: http://java.sun.com/javase/6/docs/api/java/util/Map.html#containsKey(java.lang.Object)","title":"What happens when a duplicate key is put into a HashMap?","body":"<p>You may find your answer in the javadoc of <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Map.html#put%28K,%20V%29\" rel=\"noreferrer\">Map#put(K, V)</a> (which actually returns something):</p>\n\n<blockquote>\n<pre><code>public V put(K key,\n             V value)\n</code></pre>\n  \n  <p>Associates the specified value with the specified key in this map\n  (optional operation). If the map\n  previously contained a mapping for\n  this key, the old value is replaced by\n  the specified value. (A map <code>m</code> is said\n  to contain a mapping for a key <code>k</code> if\n  and only if <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Map.html#containsKey(java.lang.Object)\" rel=\"noreferrer\"><code>m.containsKey(k)</code></a> would\n  return <code>true</code>.)</p>\n  \n  <p><strong>Parameters:</strong><br>\n          <code>key</code> - key with which the specified value is to be associated.<br>\n          <code>value</code> - value to be associated with the specified key. </p>\n  \n  <p><strong>Returns:</strong><br>\n          previous value associated with specified key, or <code>null</code> if there was no\n  mapping for <code>key</code>. (A <code>null</code> return can also indicate that the map previously associated <code>null</code> with the specified <code>key</code>, if the implementation supports <code>null</code> values.)</p>\n</blockquote>\n\n<p>So if you don't assign the returned value when calling <code>mymap.put(\"1\", \"a string\")</code>, it just becomes unreferenced and thus eligible for garbage collection.</p>\n"},{"tags":[],"owner":{"account_id":49086,"reputation":9943,"user_id":146003,"accept_rate":99,"display_name":"Atmocreations"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1257281057,"creation_date":1257281057,"answer_id":1670029,"question_id":1669885,"body_markdown":"To your question whether the map was like a bucket: no.\r\n\r\nIt&#39;s like a list with `name=value` pairs whereas `name` doesn&#39;t need to be a String (it can, though).\r\n\r\nTo get an element, you pass your key to the get()-method which gives you the assigned object in return.\r\n\r\nAnd a **Hash**map means that if you&#39;re trying to retrieve your object using the get-method, it won&#39;t compare the real object to the one you provided, because it would need to iterate through its list and compare() the key you provided with the current element.\r\n\r\nThis would be inefficient. Instead, no matter what your object consists of, it calculates a so called hashcode from both objects and compares those. It&#39;s easier to compare two `int`s instead of two entire (possibly deeply complex) objects. You can imagine the hashcode like a summary having a predefined length (int), therefore it&#39;s not unique and has collisions. You find the rules for the hashcode in the documentation to which I&#39;ve inserted the link.\r\n\r\nIf you want to know more about this, you might wanna take a look at articles on [javapractices.com][2] and [technofundo.com][3]\r\n\r\nregards\r\n\r\n\r\n  [1]: http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html#hashCode()\r\n  [2]: http://www.javapractices.com/topic/TopicAction.do?Id=28\r\n  [3]: http://www.technofundo.com/tech/java/equalhash.html","title":"What happens when a duplicate key is put into a HashMap?","body":"<p>To your question whether the map was like a bucket: no.</p>\n\n<p>It's like a list with <code>name=value</code> pairs whereas <code>name</code> doesn't need to be a String (it can, though).</p>\n\n<p>To get an element, you pass your key to the get()-method which gives you the assigned object in return.</p>\n\n<p>And a <strong>Hash</strong>map means that if you're trying to retrieve your object using the get-method, it won't compare the real object to the one you provided, because it would need to iterate through its list and compare() the key you provided with the current element.</p>\n\n<p>This would be inefficient. Instead, no matter what your object consists of, it calculates a so called hashcode from both objects and compares those. It's easier to compare two <code>int</code>s instead of two entire (possibly deeply complex) objects. You can imagine the hashcode like a summary having a predefined length (int), therefore it's not unique and has collisions. You find the rules for the hashcode in the documentation to which I've inserted the link.</p>\n\n<p>If you want to know more about this, you might wanna take a look at articles on <a href=\"http://www.javapractices.com/topic/TopicAction.do?Id=28\" rel=\"nofollow noreferrer\">javapractices.com</a> and <a href=\"http://www.technofundo.com/tech/java/equalhash.html\" rel=\"nofollow noreferrer\">technofundo.com</a></p>\n\n<p>regards</p>\n"},{"comments":[{"owner":{"account_id":1028902,"reputation":467,"user_id":1037615,"accept_rate":52,"display_name":"wikimix"},"score":1,"creation_date":1446558321,"post_id":9822564,"comment_id":54784885,"body_markdown":"This solution is depricated. MultiHashMap is part of apache.commons.collections and not java.","body":"This solution is depricated. MultiHashMap is part of apache.commons.collections and not java."}],"tags":[],"owner":{"account_id":1258823,"reputation":509,"user_id":1217696,"accept_rate":39,"display_name":"Kamlesh"},"comment_count":1,"down_vote_count":2,"up_vote_count":20,"is_accepted":false,"score":18,"last_activity_date":1356023741,"creation_date":1332420335,"answer_id":9822564,"question_id":1669885,"body_markdown":"The prior value for the key is dropped and replaced with the new one.\r\n\r\nIf you&#39;d like to keep all the values a key is given, you might consider implementing something like this:\r\n\r\n    import org.apache.commons.collections.MultiHashMap;\r\n    import java.util.Set;\r\n    import java.util.Map;\r\n    import java.util.Iterator;\r\n    import java.util.List;\r\n    public class MultiMapExample {\r\n    \r\n       public static void main(String[] args) {\r\n          MultiHashMap mp=new MultiHashMap();\r\n          mp.put(&quot;a&quot;, 10);\r\n          mp.put(&quot;a&quot;, 11);\r\n          mp.put(&quot;a&quot;, 12);\r\n          mp.put(&quot;b&quot;, 13);\r\n          mp.put(&quot;c&quot;, 14);\r\n          mp.put(&quot;e&quot;, 15);\r\n          List list = null;\r\n    \r\n          Set set = mp.entrySet();\r\n          Iterator i = set.iterator();\r\n          while(i.hasNext()) {\r\n             Map.Entry me = (Map.Entry)i.next();\r\n             list=(List)mp.get(me.getKey());\r\n             \r\n             for(int j=0;j&lt;list.size();j++)\r\n             {\r\n              System.out.println(me.getKey()+&quot;: value :&quot;+list.get(j));\r\n             }\r\n          }\r\n       }\r\n    }","title":"What happens when a duplicate key is put into a HashMap?","body":"<p>The prior value for the key is dropped and replaced with the new one.</p>\n\n<p>If you'd like to keep all the values a key is given, you might consider implementing something like this:</p>\n\n<pre><code>import org.apache.commons.collections.MultiHashMap;\nimport java.util.Set;\nimport java.util.Map;\nimport java.util.Iterator;\nimport java.util.List;\npublic class MultiMapExample {\n\n   public static void main(String[] args) {\n      MultiHashMap mp=new MultiHashMap();\n      mp.put(\"a\", 10);\n      mp.put(\"a\", 11);\n      mp.put(\"a\", 12);\n      mp.put(\"b\", 13);\n      mp.put(\"c\", 14);\n      mp.put(\"e\", 15);\n      List list = null;\n\n      Set set = mp.entrySet();\n      Iterator i = set.iterator();\n      while(i.hasNext()) {\n         Map.Entry me = (Map.Entry)i.next();\n         list=(List)mp.get(me.getKey());\n\n         for(int j=0;j&lt;list.size();j++)\n         {\n          System.out.println(me.getKey()+\": value :\"+list.get(j));\n         }\n      }\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3702504,"reputation":421,"user_id":3081794,"accept_rate":75,"display_name":"sheepiiHD"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1432808506,"creation_date":1422931293,"answer_id":28290465,"question_id":1669885,"body_markdown":"I always used:\r\n \r\n    HashMap&lt;String, ArrayList&lt;String&gt;&gt; hashy = new HashMap&lt;String, ArrayList&lt;String&gt;&gt;();\r\nif I wanted to apply multiple things to one identifying key. \r\n\r\n    \r\n\tpublic void MultiHash(){\r\n\t\tHashMap&lt;String, ArrayList&lt;String&gt;&gt; hashy = new HashMap&lt;String, ArrayList&lt;String&gt;&gt;();\r\n\t\tString key = &quot;Your key&quot;;\r\n\t\t\r\n\t\tArrayList&lt;String&gt; yourarraylist = hashy.get(key);\r\n\t\t\r\n\t\tfor(String valuessaved2key : yourarraylist){\r\n\t\t\tSystem.out.println(valuessaved2key);\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\nyou could always do something like this and create yourself a maze!\r\n\r\n    public void LOOK_AT_ALL_THESE_HASHMAPS(){\r\n\t\tHashMap&lt;String, HashMap&lt;String, HashMap&lt;String, HashMap&lt;String, String&gt;&gt;&gt;&gt; theultimatehashmap = new HashMap &lt;String, HashMap&lt;String, HashMap&lt;String, HashMap&lt;String, String&gt;&gt;&gt;&gt;();\r\n\t\tString ballsdeep_into_the_hashmap = theultimatehashmap.get(&quot;firststring&quot;).get(&quot;secondstring&quot;).get(&quot;thirdstring&quot;).get(&quot;forthstring&quot;);\r\n\t}\r\n","title":"What happens when a duplicate key is put into a HashMap?","body":"<p>I always used:</p>\n\n<pre><code>HashMap&lt;String, ArrayList&lt;String&gt;&gt; hashy = new HashMap&lt;String, ArrayList&lt;String&gt;&gt;();\n</code></pre>\n\n<p>if I wanted to apply multiple things to one identifying key. </p>\n\n<pre><code>public void MultiHash(){\n    HashMap&lt;String, ArrayList&lt;String&gt;&gt; hashy = new HashMap&lt;String, ArrayList&lt;String&gt;&gt;();\n    String key = \"Your key\";\n\n    ArrayList&lt;String&gt; yourarraylist = hashy.get(key);\n\n    for(String valuessaved2key : yourarraylist){\n        System.out.println(valuessaved2key);\n    }\n\n}\n</code></pre>\n\n<p>you could always do something like this and create yourself a maze!</p>\n\n<pre><code>public void LOOK_AT_ALL_THESE_HASHMAPS(){\n    HashMap&lt;String, HashMap&lt;String, HashMap&lt;String, HashMap&lt;String, String&gt;&gt;&gt;&gt; theultimatehashmap = new HashMap &lt;String, HashMap&lt;String, HashMap&lt;String, HashMap&lt;String, String&gt;&gt;&gt;&gt;();\n    String ballsdeep_into_the_hashmap = theultimatehashmap.get(\"firststring\").get(\"secondstring\").get(\"thirdstring\").get(\"forthstring\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3572535,"reputation":27,"user_id":2982519,"display_name":"SatyaS"},"comment_count":0,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1440141429,"creation_date":1425343177,"answer_id":28822061,"question_id":1669885,"body_markdown":"    \t\t HashMap&lt;Emp, Emp&gt; empHashMap = new HashMap&lt;Emp, Emp&gt;();\r\n    \t\t \r\n    \t\t empHashMap.put(new Emp(1), new Emp(1));\r\n    \t\t empHashMap.put(new Emp(1), new Emp(1));\r\n    \t\t empHashMap.put(new Emp(1), new Emp());\r\n    \t\t empHashMap.put(new Emp(1), new Emp());\r\n    \t\t System.out.println(empHashMap.size());\r\n    \t}\r\n    }\r\n    \r\n    class Emp{\r\n    \tpublic Emp(){\t\r\n    \t}\r\n    \tpublic Emp(int id){\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \tpublic int id;\r\n    \t@Override\r\n    \tpublic boolean equals(Object obj) {\r\n    \t\treturn this.id == ((Emp)obj).id;\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic int hashCode() {\r\n    \t\treturn id;\r\n    \t}\r\n    }\r\n    \r\n    \r\n    OUTPUT : is 1\r\n    \r\nMeans hash map wont allow duplicates, if you have properly overridden equals and hashCode() methods. \r\n\r\nHashSet also uses HashMap internally, see the source doc\r\n    \r\n    public class HashSet{\r\n    public HashSet() {\r\n            map = new HashMap&lt;&gt;();\r\n        }\r\n    }","title":"What happens when a duplicate key is put into a HashMap?","body":"<pre><code>         HashMap&lt;Emp, Emp&gt; empHashMap = new HashMap&lt;Emp, Emp&gt;();\n\n         empHashMap.put(new Emp(1), new Emp(1));\n         empHashMap.put(new Emp(1), new Emp(1));\n         empHashMap.put(new Emp(1), new Emp());\n         empHashMap.put(new Emp(1), new Emp());\n         System.out.println(empHashMap.size());\n    }\n}\n\nclass Emp{\n    public Emp(){   \n    }\n    public Emp(int id){\n        this.id = id;\n    }\n    public int id;\n    @Override\n    public boolean equals(Object obj) {\n        return this.id == ((Emp)obj).id;\n    }\n\n    @Override\n    public int hashCode() {\n        return id;\n    }\n}\n\n\nOUTPUT : is 1\n</code></pre>\n\n<p>Means hash map wont allow duplicates, if you have properly overridden equals and hashCode() methods. </p>\n\n<p>HashSet also uses HashMap internally, see the source doc</p>\n\n<pre><code>public class HashSet{\npublic HashSet() {\n        map = new HashMap&lt;&gt;();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2887305,"reputation":8065,"user_id":2495795,"accept_rate":87,"display_name":"BufBills"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1434565178,"creation_date":1434565178,"answer_id":30899351,"question_id":1669885,"body_markdown":"BTW, if you want some semantics such as only put if this key is not exist. you can use `concurrentHashMap` with `putIfAbsent()` function.\r\nCheck this out:\r\n\r\nhttps://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ConcurrentHashMap.html#put(K,%20V)\r\n\r\n`concurrentHashMap`  is thread safe with high performance since it uses &quot;***[lock striping][1]***&quot; mechanism to improve the throughput. \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/16151606/need-simple-explanation-how-lock-striping-works-with-concurrenthashmap","title":"What happens when a duplicate key is put into a HashMap?","body":"<p>BTW, if you want some semantics such as only put if this key is not exist. you can use <code>concurrentHashMap</code> with <code>putIfAbsent()</code> function.\nCheck this out:</p>\n\n<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ConcurrentHashMap.html#put(K,%20V)\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ConcurrentHashMap.html#put(K,%20V)</a></p>\n\n<p><code>concurrentHashMap</code>  is thread safe with high performance since it uses \"<strong><em><a href=\"https://stackoverflow.com/questions/16151606/need-simple-explanation-how-lock-striping-works-with-concurrenthashmap\">lock striping</a></em></strong>\" mechanism to improve the throughput. </p>\n"},{"comments":[{"owner":{"account_id":6969431,"reputation":1515,"user_id":6299045,"display_name":"Subin Babu"},"score":0,"creation_date":1516365008,"post_id":35302140,"comment_id":83667495,"body_markdown":"Great answer! good job. You literally save my programming life :) .","body":"Great answer! good job. You literally save my programming life :) ."},{"owner":{"account_id":9709676,"reputation":1447,"user_id":7221628,"accept_rate":100,"display_name":"JGlass"},"score":0,"creation_date":1539710401,"post_id":35302140,"comment_id":92597493,"body_markdown":"Thanks from me as well!  I did have to add a &quot;remove&quot; method to it to perform the same functionality as a normal Map but worked great!","body":"Thanks from me as well!  I did have to add a &quot;remove&quot; method to it to perform the same functionality as a normal Map but worked great!"},{"owner":{"account_id":2432552,"reputation":1030,"user_id":2123156,"accept_rate":71,"display_name":"java acm"},"score":1,"creation_date":1539848906,"post_id":35302140,"comment_id":92652132,"body_markdown":"@JGlass your welcome dude , but this is not technical solution , that&#39;s what you can to do by java standard lib , in technically problem you must be watch on your problem , if you need to have this behavior i&#39;m sure it&#39;s not solution because of Key/Value concept , and must be think about problem and find logical way to resolving . anyway my details is just fun way to do with java and in production , problems and pathway of resolve is very different to fun work ! but you could to use it when Key/Value behavior is not your problem and finding to have a data structure like that .","body":"@JGlass your welcome dude , but this is not technical solution , that&#39;s what you can to do by java standard lib , in technically problem you must be watch on your problem , if you need to have this behavior i&#39;m sure it&#39;s not solution because of Key/Value concept , and must be think about problem and find logical way to resolving . anyway my details is just fun way to do with java and in production , problems and pathway of resolve is very different to fun work ! but you could to use it when Key/Value behavior is not your problem and finding to have a data structure like that ."}],"tags":[],"owner":{"account_id":2432552,"reputation":1030,"user_id":2123156,"accept_rate":71,"display_name":"java acm"},"comment_count":3,"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1455091739,"creation_date":1455051784,"answer_id":35302140,"question_id":1669885,"body_markdown":"it&#39;s Key/Value feature and you could not to have duplicate key for several values because when you want to get the actual value which one of values is belong to entered key&lt;br&gt;in your example when you want to get value of &quot;1&quot; which one is it ?!&lt;br&gt;that&#39;s reasons to have unique key for every value but you could to have a trick by java standard lib :\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n\r\n    public class DuplicateMap&lt;K, V&gt; {\r\n\r\n        private Map&lt;K, ArrayList&lt;V&gt;&gt; m = new HashMap&lt;&gt;();\r\n\r\n        public void put(K k, V v) {\r\n            if (m.containsKey(k)) {\r\n                m.get(k).add(v);\r\n            } else {\r\n                ArrayList&lt;V&gt; arr = new ArrayList&lt;&gt;();\r\n                arr.add(v);\r\n                m.put(k, arr);\r\n            }\r\n        }\r\n\r\n         public ArrayList&lt;V&gt; get(K k) {\r\n            return m.get(k);\r\n        }\r\n\r\n        public V get(K k, int index) {\r\n            return m.get(k).size()-1 &lt; index ? null : m.get(k).get(index);\r\n        }\r\n    }\r\n\r\n&lt;br&gt;and you could to use it in this way:\r\n    \r\n        public static void main(String[] args) {\r\n        DuplicateMap&lt;String,String&gt; dm=new DuplicateMap&lt;&gt;();\r\n        dm.put(&quot;1&quot;, &quot;one&quot;);\r\n        dm.put(&quot;1&quot;, &quot;not one&quot;);\r\n        dm.put(&quot;1&quot;, &quot;surely not one&quot;);\r\n        System.out.println(dm.get(&quot;1&quot;));\r\n        System.out.println(dm.get(&quot;1&quot;,1));\r\n        System.out.println(dm.get(&quot;1&quot;, 5));\r\n    }\r\nand result of prints are :\r\n    \r\n    [one, not one, surely not one]\r\n    not one\r\n    null","title":"What happens when a duplicate key is put into a HashMap?","body":"<p>it's Key/Value feature and you could not to have duplicate key for several values because when you want to get the actual value which one of values is belong to entered key<br>in your example when you want to get value of \"1\" which one is it ?!<br>that's reasons to have unique key for every value but you could to have a trick by java standard lib :</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.Map;\n\npublic class DuplicateMap&lt;K, V&gt; {\n\n    private Map&lt;K, ArrayList&lt;V&gt;&gt; m = new HashMap&lt;&gt;();\n\n    public void put(K k, V v) {\n        if (m.containsKey(k)) {\n            m.get(k).add(v);\n        } else {\n            ArrayList&lt;V&gt; arr = new ArrayList&lt;&gt;();\n            arr.add(v);\n            m.put(k, arr);\n        }\n    }\n\n     public ArrayList&lt;V&gt; get(K k) {\n        return m.get(k);\n    }\n\n    public V get(K k, int index) {\n        return m.get(k).size()-1 &lt; index ? null : m.get(k).get(index);\n    }\n}\n</code></pre>\n\n<p><br>and you could to use it in this way:</p>\n\n<pre><code>    public static void main(String[] args) {\n    DuplicateMap&lt;String,String&gt; dm=new DuplicateMap&lt;&gt;();\n    dm.put(\"1\", \"one\");\n    dm.put(\"1\", \"not one\");\n    dm.put(\"1\", \"surely not one\");\n    System.out.println(dm.get(\"1\"));\n    System.out.println(dm.get(\"1\",1));\n    System.out.println(dm.get(\"1\", 5));\n}\n</code></pre>\n\n<p>and result of prints are :</p>\n\n<pre><code>[one, not one, surely not one]\nnot one\nnull\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8754153,"reputation":11,"user_id":6546248,"display_name":"ajaynakrani"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1490727079,"creation_date":1472035934,"answer_id":39121301,"question_id":1669885,"body_markdown":"Yes, this means all the 1 keys with value are overwriten with the last added value and here you add &quot;surely not one&quot; so it will display only &quot;surely not one&quot;.\r\n\r\nEven if you are trying to display with a loop, it will also only display one key and value which have same key.","title":"What happens when a duplicate key is put into a HashMap?","body":"<p>Yes, this means all the 1 keys with value are overwriten with the last added value and here you add \"surely not one\" so it will display only \"surely not one\".</p>\n\n<p>Even if you are trying to display with a loop, it will also only display one key and value which have same key.</p>\n"},{"tags":[],"owner":{"account_id":9540701,"reputation":1795,"user_id":7089060,"display_name":"Diego Alvis"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1499876306,"creation_date":1499876306,"answer_id":45062967,"question_id":1669885,"body_markdown":"Associates the specified value with the specified key in this map. If the map previously contained a mapping for the key, **the old value is replaced.**","title":"What happens when a duplicate key is put into a HashMap?","body":"<p>Associates the specified value with the specified key in this map. If the map previously contained a mapping for the key, <strong>the old value is replaced.</strong></p>\n"},{"comments":[{"owner":{"account_id":5483053,"reputation":406,"user_id":4358787,"display_name":"Gaurav"},"score":0,"creation_date":1552909603,"post_id":54474162,"comment_id":97176193,"body_markdown":"is the &quot;override&quot; operation costly?","body":"is the &quot;override&quot; operation costly?"},{"owner":{"account_id":11729259,"reputation":392,"user_id":8618438,"display_name":"chill appreciator"},"score":0,"creation_date":1572146742,"post_id":54474162,"comment_id":103468544,"body_markdown":"It can be solved using JDK only. `Collectors.toMap()` has third argument - merge function. If we want to simply override last duplicate element: `Stream.of(&quot;one&quot;, &quot;two&quot;, &quot;one&quot;).collect(Collectors.toMap(x -&gt; x, x -&gt; x, (key1, key2) -&gt; key2))`. [link](https://stackoverflow.com/a/32313069/8618438)","body":"It can be solved using JDK only. <code>Collectors.toMap()</code> has third argument - merge function. If we want to simply override last duplicate element: <code>Stream.of(&quot;one&quot;, &quot;two&quot;, &quot;one&quot;).collect(Collectors.toMap(x -&gt; x, x -&gt; x, (key1, key2) -&gt; key2))</code>. <a href=\"https://stackoverflow.com/a/32313069/8618438\">link</a>"},{"owner":{"account_id":11729259,"reputation":392,"user_id":8618438,"display_name":"chill appreciator"},"score":0,"creation_date":1572147246,"post_id":54474162,"comment_id":103468598,"body_markdown":"Also your second code example is not correct. This input: `&quot;one&quot;, &quot;not one&quot;, &quot;surely not one&quot;` will not produce any duplicate key errors because of all strings different.","body":"Also your second code example is not correct. This input: <code>&quot;one&quot;, &quot;not one&quot;, &quot;surely not one&quot;</code> will not produce any duplicate key errors because of all strings different."},{"owner":{"account_id":9337303,"reputation":9995,"user_id":6931119,"accept_rate":89,"display_name":"Witold Kaczurba"},"score":0,"creation_date":1572266305,"post_id":54474162,"comment_id":103495153,"body_markdown":"Hi @stand alone. Please read carefully the mapping function (toMap).","body":"Hi @stand alone. Please read carefully the mapping function (toMap)."},{"owner":{"account_id":11729259,"reputation":392,"user_id":8618438,"display_name":"chill appreciator"},"score":0,"creation_date":1573431054,"post_id":54474162,"comment_id":103869762,"body_markdown":"Hi @WitoldKaczurba. Please compile your code before posting.","body":"Hi @WitoldKaczurba. Please compile your code before posting."},{"owner":{"account_id":9337303,"reputation":9995,"user_id":6931119,"accept_rate":89,"display_name":"Witold Kaczurba"},"score":0,"creation_date":1573541584,"post_id":54474162,"comment_id":103905121,"body_markdown":"HI @stand alone. Not sure about your comment. Used REPL and it does what it written.","body":"HI @stand alone. Not sure about your comment. Used REPL and it does what it written."}],"tags":[],"owner":{"account_id":9337303,"reputation":9995,"user_id":6931119,"accept_rate":89,"display_name":"Witold Kaczurba"},"comment_count":6,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1549003113,"creation_date":1549003113,"answer_id":54474162,"question_id":1669885,"body_markdown":"Maps from JDK are **not meant for storing data under duplicated keys.**\r\n\r\n- **At best** new value will override the previous ones.\r\n\r\n- **Worse scenario** is exception (e.g when you try to collect it as a stream):\r\n\r\nNo duplicates:\r\n\r\n`Stream.of(&quot;one&quot;).collect(Collectors.toMap(x -&gt; x, x -&gt; x))`\r\n&gt; Ok. You will get: $2 ==&gt; {one=one}\r\n\r\n\r\nDuplicated stream:\r\n\r\n`Stream.of(&quot;one&quot;, &quot;not one&quot;, &quot;surely not one&quot;).collect(Collectors.toMap(x -&gt; 1, x -&gt; x))`\r\n&gt; Exception java.lang.IllegalStateException: Duplicate key 1 (attempted merging values one and not one)\r\n|        at Collectors.duplicateKeyException (Collectors.java:133)\r\n|        at Collectors.lambda$uniqKeysMapAccumulator$1 (Collectors.java:180)\r\n|        at ReduceOps$3ReducingSink.accept (ReduceOps.java:169)\r\n|        at Spliterators$ArraySpliterator.forEachRemaining (Spliterators.java:948)\r\n|        at AbstractPipeline.copyInto (AbstractPipeline.java:484)\r\n|        at AbstractPipeline.wrapAndCopyInto (AbstractPipeline.java:474)\r\n|        at ReduceOps$ReduceOp.evaluateSequential (ReduceOps.java:913)\r\n|        at AbstractPipeline.evaluate (AbstractPipeline.java:234)\r\n|        at ReferencePipeline.collect (ReferencePipeline.java:578)\r\n|        at (#4:1)\r\n\r\nTo deal with duplicated keys - use other package, e.g:\r\nhttps://google.github.io/guava/releases/19.0/api/docs/com/google/common/collect/Multimap.html\r\n\r\nThere is a lot of other implementations dealing with duplicated keys.\r\nThose are needed for web (e.g. duplicated cookie keys, Http headers can have same fields, ...)\r\n\r\nGood luck! :)\r\n\r\n\r\n","title":"What happens when a duplicate key is put into a HashMap?","body":"<p>Maps from JDK are <strong>not meant for storing data under duplicated keys.</strong></p>\n\n<ul>\n<li><p><strong>At best</strong> new value will override the previous ones.</p></li>\n<li><p><strong>Worse scenario</strong> is exception (e.g when you try to collect it as a stream):</p></li>\n</ul>\n\n<p>No duplicates:</p>\n\n<p><code>Stream.of(\"one\").collect(Collectors.toMap(x -&gt; x, x -&gt; x))</code></p>\n\n<blockquote>\n  <p>Ok. You will get: $2 ==> {one=one}</p>\n</blockquote>\n\n<p>Duplicated stream:</p>\n\n<p><code>Stream.of(\"one\", \"not one\", \"surely not one\").collect(Collectors.toMap(x -&gt; 1, x -&gt; x))</code></p>\n\n<blockquote>\n  <p>Exception java.lang.IllegalStateException: Duplicate key 1 (attempted merging values one and not one)\n  |        at Collectors.duplicateKeyException (Collectors.java:133)\n  |        at Collectors.lambda$uniqKeysMapAccumulator$1 (Collectors.java:180)\n  |        at ReduceOps$3ReducingSink.accept (ReduceOps.java:169)\n  |        at Spliterators$ArraySpliterator.forEachRemaining (Spliterators.java:948)\n  |        at AbstractPipeline.copyInto (AbstractPipeline.java:484)\n  |        at AbstractPipeline.wrapAndCopyInto (AbstractPipeline.java:474)\n  |        at ReduceOps$ReduceOp.evaluateSequential (ReduceOps.java:913)\n  |        at AbstractPipeline.evaluate (AbstractPipeline.java:234)\n  |        at ReferencePipeline.collect (ReferencePipeline.java:578)\n  |        at (#4:1)</p>\n</blockquote>\n\n<p>To deal with duplicated keys - use other package, e.g:\n<a href=\"https://google.github.io/guava/releases/19.0/api/docs/com/google/common/collect/Multimap.html\" rel=\"nofollow noreferrer\">https://google.github.io/guava/releases/19.0/api/docs/com/google/common/collect/Multimap.html</a></p>\n\n<p>There is a lot of other implementations dealing with duplicated keys.\nThose are needed for web (e.g. duplicated cookie keys, Http headers can have same fields, ...)</p>\n\n<p>Good luck! :)</p>\n"},{"tags":[],"owner":{"account_id":10897577,"reputation":1704,"user_id":8010985,"display_name":"Bishal Jaiswal"},"comment_count":0,"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1549003877,"creation_date":1549003877,"answer_id":54474334,"question_id":1669885,"body_markdown":"It ***replaces the existing value*** in the map for the respective key. And if no key exists with the same name then it creates a key with the value provided.\r\neg:\r\n  \r\n    Map mymap = new HashMap();\r\n    mymap.put(&quot;1&quot;,&quot;one&quot;);\r\n    mymap.put(&quot;1&quot;,&quot;two&quot;);\r\n\r\n**OUTPUT**\r\nkey = &quot;1&quot;, value = &quot;two&quot;\r\n\r\nSo, the previous value gets overwritten.","title":"What happens when a duplicate key is put into a HashMap?","body":"<p>It <strong><em>replaces the existing value</em></strong> in the map for the respective key. And if no key exists with the same name then it creates a key with the value provided.\neg:</p>\n\n<pre><code>Map mymap = new HashMap();\nmymap.put(\"1\",\"one\");\nmymap.put(\"1\",\"two\");\n</code></pre>\n\n<p><strong>OUTPUT</strong>\nkey = \"1\", value = \"two\"</p>\n\n<p>So, the previous value gets overwritten.</p>\n"},{"tags":[],"owner":{"account_id":10809524,"reputation":601,"user_id":7950525,"display_name":"Thimira Pathirana"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678038676,"creation_date":1678038287,"answer_id":75644186,"question_id":1669885,"body_markdown":"**Duplicate keys are not allowed on a Map**.\r\n\r\n        HashMap&lt;Integer, String&gt; mymap = new HashMap&lt;Integer, String&gt;();\r\n        mymap.put(&quot;1&quot;,&quot;one&quot;);\r\n        mymap.put(&quot;1&quot;, &quot;not one&quot;);\r\n        mymap.put(&quot;1&quot;, &quot;surely not one&quot;);\r\n        System.out.println(&quot;\\nHashMap object output :&quot; + hm);\r\n\r\nHashMap object output :{1=surely not one}\r\n\r\nThe reason, HashMap stores key, value pairs and does not allow duplicate keys. If the key is duplicate then the old key is replaced with the new value.\r\n\r\nIf you need to store value for the same key use this.\r\n\r\n    Multimap&lt;Integer , String&gt; mymap = ArrayListMultimap.create();\r\n     mymap.put(&quot;1&quot;,&quot;one&quot;);\r\n     mymap.put(&quot;1&quot;, &quot;not one&quot;);\r\n     mymap.put(&quot;1&quot;, &quot;surely not one&quot;);\r\n     mymap.put(&quot;2&quot;,&quot;two&quot;);\r\n     System.out.println(&quot;\\nHashMap object output :&quot; + hm);\r\n\r\n\r\n HashMap object output :{1=[one, not one, geeks, surely not one], 2=[two]}\r\n","title":"What happens when a duplicate key is put into a HashMap?","body":"<p><strong>Duplicate keys are not allowed on a Map</strong>.</p>\n<pre><code>    HashMap&lt;Integer, String&gt; mymap = new HashMap&lt;Integer, String&gt;();\n    mymap.put(&quot;1&quot;,&quot;one&quot;);\n    mymap.put(&quot;1&quot;, &quot;not one&quot;);\n    mymap.put(&quot;1&quot;, &quot;surely not one&quot;);\n    System.out.println(&quot;\\nHashMap object output :&quot; + hm);\n</code></pre>\n<p>HashMap object output :{1=surely not one}</p>\n<p>The reason, HashMap stores key, value pairs and does not allow duplicate keys. If the key is duplicate then the old key is replaced with the new value.</p>\n<p>If you need to store value for the same key use this.</p>\n<pre><code>Multimap&lt;Integer , String&gt; mymap = ArrayListMultimap.create();\n mymap.put(&quot;1&quot;,&quot;one&quot;);\n mymap.put(&quot;1&quot;, &quot;not one&quot;);\n mymap.put(&quot;1&quot;, &quot;surely not one&quot;);\n mymap.put(&quot;2&quot;,&quot;two&quot;);\n System.out.println(&quot;\\nHashMap object output :&quot; + hm);\n</code></pre>\n<p>HashMap object output :{1=[one, not one, geeks, surely not one], 2=[two]}</p>\n"}],"owner":{"account_id":566286,"reputation":3191,"user_id":202045,"display_name":"boodieye"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":591092,"favorite_count":0,"down_vote_count":0,"up_vote_count":319,"answer_count":13,"score":319,"last_activity_date":1678038676,"creation_date":1257279479,"question_id":1669885,"body_markdown":"If I pass the same key multiple times to `HashMap`’s `put` method, what happens to the original value? And what if even the value repeats? I didn’t find any documentation on this.\r\n\r\nCase 1: Overwritten values for a key\r\n\r\n    Map mymap = new HashMap();\r\n    mymap.put(&quot;1&quot;,&quot;one&quot;);\r\n    mymap.put(&quot;1&quot;,&quot;not one&quot;);\r\n    mymap.put(&quot;1&quot;,&quot;surely not one&quot;);\r\n    System.out.println(mymap.get(&quot;1&quot;));\r\n\r\nWe get `surely not one`.\r\n\r\nCase 2: Duplicate value\r\n\r\n    Map mymap = new HashMap();\r\n    mymap.put(&quot;1&quot;,&quot;one&quot;);\r\n    mymap.put(&quot;1&quot;,&quot;not one&quot;);\r\n    mymap.put(&quot;1&quot;,&quot;surely not one&quot;);\r\n    // The following line was added:\r\n    mymap.put(&quot;1&quot;,&quot;one&quot;);\r\n    System.out.println(mymap.get(&quot;1&quot;));\r\n\r\nWe get `one`.\r\n\r\nBut what happens to the other values? I was teaching basics to a student and I was asked this. Is the `Map` like a bucket where the last value is referenced (but in memory)?","title":"What happens when a duplicate key is put into a HashMap?","body":"<p>If I pass the same key multiple times to <code>HashMap</code>’s <code>put</code> method, what happens to the original value? And what if even the value repeats? I didn’t find any documentation on this.</p>\n\n<p>Case 1: Overwritten values for a key</p>\n\n<pre><code>Map mymap = new HashMap();\nmymap.put(\"1\",\"one\");\nmymap.put(\"1\",\"not one\");\nmymap.put(\"1\",\"surely not one\");\nSystem.out.println(mymap.get(\"1\"));\n</code></pre>\n\n<p>We get <code>surely not one</code>.</p>\n\n<p>Case 2: Duplicate value</p>\n\n<pre><code>Map mymap = new HashMap();\nmymap.put(\"1\",\"one\");\nmymap.put(\"1\",\"not one\");\nmymap.put(\"1\",\"surely not one\");\n// The following line was added:\nmymap.put(\"1\",\"one\");\nSystem.out.println(mymap.get(\"1\"));\n</code></pre>\n\n<p>We get <code>one</code>.</p>\n\n<p>But what happens to the other values? I was teaching basics to a student and I was asked this. Is the <code>Map</code> like a bucket where the last value is referenced (but in memory)?</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678032421,"creation_date":1678032421,"answer_id":75643534,"question_id":75643434,"body_markdown":"In this case you will need to change your model. Instead of having the level attribute in the table sure you need to place it in the table with relationship (student_sure). This can&#39;t be done with the default many-to-many annotation of JPA.\r\n\r\nA solution is described here: [https://thorben-janssen.com/hibernate-tip-many-to-many-association-with-additional-attributes/][1]\r\n\r\n\r\n  [1]: https://thorben-janssen.com/hibernate-tip-many-to-many-association-with-additional-attributes/","title":"How to save many to many correctly in jhipster spring boot","body":"<p>In this case you will need to change your model. Instead of having the level attribute in the table sure you need to place it in the table with relationship (student_sure). This can't be done with the default many-to-many annotation of JPA.</p>\n<p>A solution is described here: <a href=\"https://thorben-janssen.com/hibernate-tip-many-to-many-association-with-additional-attributes/\" rel=\"nofollow noreferrer\">https://thorben-janssen.com/hibernate-tip-many-to-many-association-with-additional-attributes/</a></p>\n"},{"tags":[],"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678037849,"creation_date":1678037849,"answer_id":75644144,"question_id":75643434,"body_markdown":"You need 3 Entities.\r\n\r\n    Student\r\n      Long id;\r\n      List&lt;StudentSurelerScore&gt; scores; // OneToMany\r\n\r\n    Sureler\r\n      Long id;\r\n      String name;\r\n      List&lt;StudentSurelerScore&gt; scores; // OneToMany\r\n\r\n    StudentSurelerScore (not a Join Table)\r\n      Long studentId; // ManyToOne\r\n      Long surelerId; // ManyToOne\r\n      Long studentSurelerScore;\r\n\r\nOn another topic, you define id as optional only to throw an exception is it is missing:\r\n\r\n    @PathVariable(value = &quot;id&quot;, required = false) final Long id,\r\n\r\nthen\r\n\r\n        if (id == null) {\r\n            throw new BadRequestAlertException(&quot;Invalid id&quot;, ENTITY_NAME, &quot;idnull&quot;);\r\n        }\r\n\r\nJust make it required and give it a range:\r\n\r\n\r\n    @PathVariable(value = &quot;id&quot;, required = true) @Min(...) @Max(...) final Long id,\r\n\r\n\r\nI&#39;m sure you meant\r\n\r\n        if (studentDTO == null) {\r\n            throw new BadRequestAlertException(&quot;Invalid id&quot;, ENTITY_NAME, &quot;idnull&quot;);\r\n        }\r\n\r\nYou then go to the Repository directly to check it again?\r\n\r\n        if (!studentRepository.existsById(id)) {\r\n            throw new BadRequestAlertException(&quot;Entity not found&quot;, ENTITY_NAME, &quot;idnotfound&quot;);\r\n        }\r\n\r\nIf it didn&#39;t exist, you shouldn&#39;t get a StudentDTO from the previous code.","title":"How to save many to many correctly in jhipster spring boot","body":"<p>You need 3 Entities.</p>\n<pre><code>Student\n  Long id;\n  List&lt;StudentSurelerScore&gt; scores; // OneToMany\n\nSureler\n  Long id;\n  String name;\n  List&lt;StudentSurelerScore&gt; scores; // OneToMany\n\nStudentSurelerScore (not a Join Table)\n  Long studentId; // ManyToOne\n  Long surelerId; // ManyToOne\n  Long studentSurelerScore;\n</code></pre>\n<p>On another topic, you define id as optional only to throw an exception is it is missing:</p>\n<pre><code>@PathVariable(value = &quot;id&quot;, required = false) final Long id,\n</code></pre>\n<p>then</p>\n<pre><code>    if (id == null) {\n        throw new BadRequestAlertException(&quot;Invalid id&quot;, ENTITY_NAME, &quot;idnull&quot;);\n    }\n</code></pre>\n<p>Just make it required and give it a range:</p>\n<pre><code>@PathVariable(value = &quot;id&quot;, required = true) @Min(...) @Max(...) final Long id,\n</code></pre>\n<p>I'm sure you meant</p>\n<pre><code>    if (studentDTO == null) {\n        throw new BadRequestAlertException(&quot;Invalid id&quot;, ENTITY_NAME, &quot;idnull&quot;);\n    }\n</code></pre>\n<p>You then go to the Repository directly to check it again?</p>\n<pre><code>    if (!studentRepository.existsById(id)) {\n        throw new BadRequestAlertException(&quot;Entity not found&quot;, ENTITY_NAME, &quot;idnotfound&quot;);\n    }\n</code></pre>\n<p>If it didn't exist, you shouldn't get a StudentDTO from the previous code.</p>\n"}],"owner":{"account_id":16206688,"reputation":607,"user_id":11701675,"display_name":"natyus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1678037849,"creation_date":1678031382,"question_id":75643434,"body_markdown":"I have a spring boot application with two entities Student and Sureler (a lesson which a student has to learn) my entity of student looks like this:\r\n\r\n    @Column(name = &quot;child_birth_date&quot;)\r\n        private LocalDate childBirthDate;\r\n    \r\n        @Column(name = &quot;street&quot;)\r\n        private String street;\r\n    \r\n        @Column(name = &quot;postal&quot;)\r\n        private Long postal;\r\n    \r\n        @JsonIgnore\r\n        @ManyToMany\r\n        @JoinTable(\r\n            name = &quot;student_sure&quot;,\r\n            joinColumns = { @JoinColumn(name = &quot;student_id&quot;, referencedColumnName = &quot;id&quot;) },\r\n            inverseJoinColumns = { @JoinColumn(name = &quot;sure_name&quot;, referencedColumnName = &quot;name&quot;) }\r\n        )\r\n        @Cache(usage = CacheConcurrencyStrategy.NONSTRICT_READ_WRITE)\r\n        @BatchSize(size = 20)\r\n        private Set&lt;Sureler&gt; listSureler = new HashSet&lt;&gt;();\r\n\r\nAnd Sure like this:\r\n\r\n\r\n    @Column(name = &quot;name&quot;)\r\n    private String name;\r\n    \r\n    @Column(name = &quot;level&quot;)\r\n        private Long level;\r\n\r\nSo far I can save everything fine I am using this method to update the student with his sure (lesson) and level at which he or she finished:\r\n\r\n    @PatchMapping(value = &quot;/students/{id}&quot;, consumes = { &quot;application/json&quot;, &quot;application/merge-patch+json&quot; })\r\n        public ResponseEntity&lt;StudentDTO&gt; partialUpdateStudent(\r\n            @PathVariable(value = &quot;id&quot;, required = false) final Long id,\r\n            @RequestParam String sureName,\r\n            @RequestParam Long level\r\n        ) throws URISyntaxException {\r\n            StudentDTO studentDTO = studentService.findOne(id).get();\r\n            log.debug(&quot;REST request to partial update Student partially : {}, {}&quot;, id, studentDTO);\r\n            if (id == null) {\r\n                throw new BadRequestAlertException(&quot;Invalid id&quot;, ENTITY_NAME, &quot;idnull&quot;);\r\n            }\r\n            if (!studentRepository.existsById(id)) {\r\n                throw new BadRequestAlertException(&quot;Entity not found&quot;, ENTITY_NAME, &quot;idnotfound&quot;);\r\n            }\r\n    \r\n            Sureler sure = surelerRepository.findByName(sureName).get();\r\n            sure.setLevel(level);\r\n            SurelerDTO surelerDTO = surelerMapper.toDto(sure);\r\n            surelerService.partialUpdate(surelerDTO);\r\n            Sureler toSaveInStudent = surelerRepository.findByName(sureName).get();\r\n            studentDTO.getListSureler().add(toSaveInStudent);\r\n            Optional&lt;StudentDTO&gt; result = studentService.partialUpdate(studentDTO);\r\n    \r\n            return ResponseUtil.wrapOrNotFound(\r\n                result,\r\n                HeaderUtil.createEntityUpdateAlert(applicationName, true, ENTITY_NAME, studentDTO.getId().toString())\r\n            );\r\n        }\r\n\r\nBut my problem is the following now. For example if I update Student_1 with lesson_1 at level 1 it saves it with no problem but if I for example do the same process for a second student but with level 2 the level of Student_1 in the same lesson is also changed to 2 I know it is caused because I am saving the level directly at the sure table but I do not know on how to fix it.","title":"How to save many to many correctly in jhipster spring boot","body":"<p>I have a spring boot application with two entities Student and Sureler (a lesson which a student has to learn) my entity of student looks like this:</p>\n<pre><code>@Column(name = &quot;child_birth_date&quot;)\n    private LocalDate childBirthDate;\n\n    @Column(name = &quot;street&quot;)\n    private String street;\n\n    @Column(name = &quot;postal&quot;)\n    private Long postal;\n\n    @JsonIgnore\n    @ManyToMany\n    @JoinTable(\n        name = &quot;student_sure&quot;,\n        joinColumns = { @JoinColumn(name = &quot;student_id&quot;, referencedColumnName = &quot;id&quot;) },\n        inverseJoinColumns = { @JoinColumn(name = &quot;sure_name&quot;, referencedColumnName = &quot;name&quot;) }\n    )\n    @Cache(usage = CacheConcurrencyStrategy.NONSTRICT_READ_WRITE)\n    @BatchSize(size = 20)\n    private Set&lt;Sureler&gt; listSureler = new HashSet&lt;&gt;();\n</code></pre>\n<p>And Sure like this:</p>\n<pre><code>@Column(name = &quot;name&quot;)\nprivate String name;\n\n@Column(name = &quot;level&quot;)\n    private Long level;\n</code></pre>\n<p>So far I can save everything fine I am using this method to update the student with his sure (lesson) and level at which he or she finished:</p>\n<pre><code>@PatchMapping(value = &quot;/students/{id}&quot;, consumes = { &quot;application/json&quot;, &quot;application/merge-patch+json&quot; })\n    public ResponseEntity&lt;StudentDTO&gt; partialUpdateStudent(\n        @PathVariable(value = &quot;id&quot;, required = false) final Long id,\n        @RequestParam String sureName,\n        @RequestParam Long level\n    ) throws URISyntaxException {\n        StudentDTO studentDTO = studentService.findOne(id).get();\n        log.debug(&quot;REST request to partial update Student partially : {}, {}&quot;, id, studentDTO);\n        if (id == null) {\n            throw new BadRequestAlertException(&quot;Invalid id&quot;, ENTITY_NAME, &quot;idnull&quot;);\n        }\n        if (!studentRepository.existsById(id)) {\n            throw new BadRequestAlertException(&quot;Entity not found&quot;, ENTITY_NAME, &quot;idnotfound&quot;);\n        }\n\n        Sureler sure = surelerRepository.findByName(sureName).get();\n        sure.setLevel(level);\n        SurelerDTO surelerDTO = surelerMapper.toDto(sure);\n        surelerService.partialUpdate(surelerDTO);\n        Sureler toSaveInStudent = surelerRepository.findByName(sureName).get();\n        studentDTO.getListSureler().add(toSaveInStudent);\n        Optional&lt;StudentDTO&gt; result = studentService.partialUpdate(studentDTO);\n\n        return ResponseUtil.wrapOrNotFound(\n            result,\n            HeaderUtil.createEntityUpdateAlert(applicationName, true, ENTITY_NAME, studentDTO.getId().toString())\n        );\n    }\n</code></pre>\n<p>But my problem is the following now. For example if I update Student_1 with lesson_1 at level 1 it saves it with no problem but if I for example do the same process for a second student but with level 2 the level of Student_1 in the same lesson is also changed to 2 I know it is caused because I am saving the level directly at the sure table but I do not know on how to fix it.</p>\n"},{"tags":["java","caching","memory-management","caffeine-cache"],"answers":[{"comments":[{"owner":{"account_id":8563694,"reputation":125,"user_id":6416920,"accept_rate":25,"display_name":"Wenaro"},"score":0,"creation_date":1615543357,"post_id":66596172,"comment_id":117728860,"body_markdown":"By default CMS GC is used in that app, I will switch it to G1 and test that","body":"By default CMS GC is used in that app, I will switch it to G1 and test that"},{"owner":{"account_id":17455133,"reputation":34,"user_id":12654196,"display_name":"Damxx"},"score":0,"creation_date":1615544799,"post_id":66596172,"comment_id":117729474,"body_markdown":"Give me feedback Please","body":"Give me feedback Please"},{"owner":{"account_id":8563694,"reputation":125,"user_id":6416920,"accept_rate":25,"display_name":"Wenaro"},"score":0,"creation_date":1615792536,"post_id":66596172,"comment_id":117790845,"body_markdown":"G1 GC resolve the problem. I set Xmx to 5GB. With CMS GC I can see that after few hours up to 5GB of memory is used. But with G1 GC up to 2GB of memory is used","body":"G1 GC resolve the problem. I set Xmx to 5GB. With CMS GC I can see that after few hours up to 5GB of memory is used. But with G1 GC up to 2GB of memory is used"},{"owner":{"account_id":17455133,"reputation":34,"user_id":12654196,"display_name":"Damxx"},"score":0,"creation_date":1615884770,"post_id":66596172,"comment_id":117823168,"body_markdown":"I’m happy to hear that. If you want, you might accept this answer for next, who want to find right answer.","body":"I’m happy to hear that. If you want, you might accept this answer for next, who want to find right answer."}],"tags":[],"owner":{"account_id":17455133,"reputation":34,"user_id":12654196,"display_name":"Damxx"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1615535728,"creation_date":1615535728,"answer_id":66596172,"question_id":66595767,"body_markdown":"Problem which you described is call memory leaks.\r\n\r\nYes you Can, but it’s depends on which version GC you use.\r\nFor example in G1 this problem should not appear. \r\nSo, if that was possibile i recomend to you switch to G1. \r\n\r\nXpauseTarget this flag is resposibility for avoid long pause in your system, so you Can split cleaning your heap to part. \r\n\r\nAlso you Can customize precent which demand run GC. -XX:InitiatingHeapOccupancyPercent=45\r\n","title":"Java memory cache","body":"<p>Problem which you described is call memory leaks.</p>\n<p>Yes you Can, but it’s depends on which version GC you use.\nFor example in G1 this problem should not appear.\nSo, if that was possibile i recomend to you switch to G1.</p>\n<p>XpauseTarget this flag is resposibility for avoid long pause in your system, so you Can split cleaning your heap to part.</p>\n<p>Also you Can customize precent which demand run GC. -XX:InitiatingHeapOccupancyPercent=45</p>\n"},{"tags":[],"owner":{"account_id":10326,"reputation":9293,"user_id":19450,"display_name":"Ben Manes"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615535829,"creation_date":1615535829,"answer_id":66596187,"question_id":66595767,"body_markdown":"As you observed, caches and generational collectors have opposing goals. More modern collectors like G1 and Shenandoah are region-based which can allow them to better handle old gen collection. In the Shenandoah tech talks, you&#39;ll often hear their developers discussing an LRU cache as a stress test. This might not be a problem if your GC is well tuned.\r\n\r\nYou may be able to keep the cache data structures on heap, but move its entries off. That can be done by serializing the value to a `ByteBuffer` at the cost of access overhead. Another approach is offered by [Apache Mnemonic](https://github.com/apache/mnemonic) which stores the object fields off-heap and transparently marshals the data. This avoids serialization costs but is invasive to the object model.\r\n\r\nThere are fully off-heap hash tables like [Oak](https://github.com/yahoo/Oak/) and caches like [OHC](https://github.com/snazy/ohc). These move as much as possible outside of the GC, but there is a lot more overhead compared to an on-heap cache. This is comparable to using a remote cache, like memcached or redis, so that might be prefered. Memcached for instance uses slab allocation to very efficiently handle the memory churn.\r\n\r\nMost often you&#39;ll see a small on-heap cache is used for fast local access of the most frequently used data that is backed by a large remote cache for everything else. If you truly need a multi-GB in-process cache, then off-heap might be necessary or you may have to tune your GC to accommodate this workload.","title":"Java memory cache","body":"<p>As you observed, caches and generational collectors have opposing goals. More modern collectors like G1 and Shenandoah are region-based which can allow them to better handle old gen collection. In the Shenandoah tech talks, you'll often hear their developers discussing an LRU cache as a stress test. This might not be a problem if your GC is well tuned.</p>\n<p>You may be able to keep the cache data structures on heap, but move its entries off. That can be done by serializing the value to a <code>ByteBuffer</code> at the cost of access overhead. Another approach is offered by <a href=\"https://github.com/apache/mnemonic\" rel=\"nofollow noreferrer\">Apache Mnemonic</a> which stores the object fields off-heap and transparently marshals the data. This avoids serialization costs but is invasive to the object model.</p>\n<p>There are fully off-heap hash tables like <a href=\"https://github.com/yahoo/Oak/\" rel=\"nofollow noreferrer\">Oak</a> and caches like <a href=\"https://github.com/snazy/ohc\" rel=\"nofollow noreferrer\">OHC</a>. These move as much as possible outside of the GC, but there is a lot more overhead compared to an on-heap cache. This is comparable to using a remote cache, like memcached or redis, so that might be prefered. Memcached for instance uses slab allocation to very efficiently handle the memory churn.</p>\n<p>Most often you'll see a small on-heap cache is used for fast local access of the most frequently used data that is backed by a large remote cache for everything else. If you truly need a multi-GB in-process cache, then off-heap might be necessary or you may have to tune your GC to accommodate this workload.</p>\n"},{"tags":[],"owner":{"account_id":218047,"reputation":2229,"user_id":474171,"accept_rate":72,"display_name":"Foredoomed"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615535978,"creation_date":1615535978,"answer_id":66596208,"question_id":66595767,"body_markdown":"Objects in the cache are always there if the expiration is not set. What you can do is tuning JVM to avoid that situation, i.e, if you are using CMS, `-XX:CMSInitiatingOccupancyFraction=75 -XX:+UseCMSInitiatingOccupancyOnly`, with these two options being set, JVM is forced to do full gc while old generation is over 75%. ","title":"Java memory cache","body":"<p>Objects in the cache are always there if the expiration is not set. What you can do is tuning JVM to avoid that situation, i.e, if you are using CMS, <code>-XX:CMSInitiatingOccupancyFraction=75 -XX:+UseCMSInitiatingOccupancyOnly</code>, with these two options being set, JVM is forced to do full gc while old generation is over 75%.</p>\n"},{"tags":[],"owner":{"account_id":13958474,"reputation":13,"user_id":10082124,"display_name":"AneeshMohan0"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678036853,"creation_date":1678036853,"answer_id":75644040,"question_id":66595767,"body_markdown":"**Try Chronicle-Map**\r\n\r\n\r\n\r\nhttps://github.com/OpenHFT/Chronicle-Map\r\n\r\nChronicle Map is:\r\n\r\n**fast**. Millions of operations per second, with low and stable microsecond latencies for reads and writes. Write queries scale well up to the number of hardware execution threads in the server. Read queries never block each other.\r\n\r\n**reliable**. Chronicle Software have a “chaos monkey” test which verifies Chronicle Map multi-master replication in the face of node and network failures. The map can optionally be persisted to disk.\r\n\r\n**in production** at banks and hedge funds, globally.\r\n\r\n**built using lessons learnt** from real-world experience solving real-world problems.\r\n\r\n**open source** (standard version), and in use at hundreds of sites around the world.","title":"Java memory cache","body":"<p><strong>Try Chronicle-Map</strong></p>\n<p><a href=\"https://github.com/OpenHFT/Chronicle-Map\" rel=\"nofollow noreferrer\">https://github.com/OpenHFT/Chronicle-Map</a></p>\n<p>Chronicle Map is:</p>\n<p><strong>fast</strong>. Millions of operations per second, with low and stable microsecond latencies for reads and writes. Write queries scale well up to the number of hardware execution threads in the server. Read queries never block each other.</p>\n<p><strong>reliable</strong>. Chronicle Software have a “chaos monkey” test which verifies Chronicle Map multi-master replication in the face of node and network failures. The map can optionally be persisted to disk.</p>\n<p><strong>in production</strong> at banks and hedge funds, globally.</p>\n<p><strong>built using lessons learnt</strong> from real-world experience solving real-world problems.</p>\n<p><strong>open source</strong> (standard version), and in use at hundreds of sites around the world.</p>\n"}],"owner":{"account_id":8563694,"reputation":125,"user_id":6416920,"accept_rate":25,"display_name":"Wenaro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2748,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":66596172,"answer_count":4,"score":1,"last_activity_date":1678036853,"creation_date":1615533436,"question_id":66595767,"body_markdown":"Is there any possibility to implement a cache in memory to avoid full heap consumption?\r\n\r\nMy spring-boot java application uses cache in memory with an expiration policy set to 1 hour (Caffeine library is used for caching purposes). After that time all cache instances are in the old generation and require a full GC to be collected. Now with XMX set to 10GB, I can see that after few hours of tests my cache contains around 100k instances, but in heap (exactly in the old generation) I can find a few millions instances of cached objects. Is there any possibility to use cache in memory and avoid such situation?\r\n","title":"Java memory cache","body":"<p>Is there any possibility to implement a cache in memory to avoid full heap consumption?</p>\n<p>My spring-boot java application uses cache in memory with an expiration policy set to 1 hour (Caffeine library is used for caching purposes). After that time all cache instances are in the old generation and require a full GC to be collected. Now with XMX set to 10GB, I can see that after few hours of tests my cache contains around 100k instances, but in heap (exactly in the old generation) I can find a few millions instances of cached objects. Is there any possibility to use cache in memory and avoid such situation?</p>\n"},{"tags":["java","spring","spring-boot","weblogic","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":3183021,"reputation":71,"user_id":2689347,"display_name":"Cypher"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1604346220,"creation_date":1604346220,"answer_id":64652293,"question_id":48888576,"body_markdown":"I anyone is still having the same issue, The solution was to perform a simple hack on the static file being served by Spring, the default index file.\r\n\r\n    &lt;script type=&quot;text/javascript&quot;&gt;\r\n      if (window.location.pathname.slice(-1) !== &#39;/&#39;) {\r\n        window.location.assign(window.location.pathname + &#39;/&#39;);\r\n      }\r\n    &lt;/script&gt;","title":"Spring Boot Application Deployment issue on Weblogic","body":"<p>I anyone is still having the same issue, The solution was to perform a simple hack on the static file being served by Spring, the default index file.</p>\n<pre><code>&lt;script type=&quot;text/javascript&quot;&gt;\n  if (window.location.pathname.slice(-1) !== '/') {\n    window.location.assign(window.location.pathname + '/');\n  }\n&lt;/script&gt;\n</code></pre>\n"}],"owner":{"account_id":3183021,"reputation":71,"user_id":2689347,"display_name":"Cypher"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":579,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":64652293,"answer_count":1,"score":2,"last_activity_date":1678036576,"creation_date":1519140139,"question_id":48888576,"body_markdown":"I have a Spring boot application that uses Thymeleaf as a template engine, I added a default controller that should redirects to Home page when deploying on server, Controller code snippet below:\r\n\r\n```java\r\n@Controller\r\npublic class HomeController\r\n{\r\n    @RequestMapping(&quot;/&quot;)\r\n    public String index()\r\n    {\r\n       return &quot;index&quot;;\r\n    }\r\n}\r\n```\r\nThe index is resolved by ViewResolver to the matching web page.\r\n\r\nWhen deploying the generated war &quot;**app.war**&quot; on a standalone Tomcat instance, the application works just fine and I am being redirected to the Home page (**localhost:XXX/context_path/index**), &quot;**localhost:XXX/&lt;context_path&gt;**&quot; also redirects to the correct page.\r\n\r\nWhen deploying on Weblogic, I get an error when I try to access the URL: \r\n&quot;**localhost:XXX/context_path**&quot; and it works when I manually add &quot;**/**&quot;.\r\n\r\nI found this tutorial https://o7planning.org/en/11245/deploying-spring-mvc-on-oracle-weblogic-server that suggests adding &lt;context-root&gt;/&lt;/context-root&gt; to weblogic.xml file which works just fine. \r\n\r\nHowever, when forcing the context-root to &quot;**/**&quot;, the home page URL for the application deployed on weblogic is no longer the same \r\n(&quot;**localhost:XXX/index**&quot; instead of &quot;**localhost:XXX/war_name/index**&quot;).\r\n\r\nTo sum up, Tomcat adds automatically the &quot;**/**&quot; to the context root without configuring a context-root.\r\n\r\nHow can I get the same behaviour with weblogic without having to configure context-root on weblogic.xml?\r\n\r\nI am using a weblogic Server 12c.\r\n","title":"Spring Boot Application Deployment issue on Weblogic","body":"<p>I have a Spring boot application that uses Thymeleaf as a template engine, I added a default controller that should redirects to Home page when deploying on server, Controller code snippet below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Controller\npublic class HomeController\n{\n    @RequestMapping(&quot;/&quot;)\n    public String index()\n    {\n       return &quot;index&quot;;\n    }\n}\n</code></pre>\n<p>The index is resolved by ViewResolver to the matching web page.</p>\n<p>When deploying the generated war &quot;<strong>app.war</strong>&quot; on a standalone Tomcat instance, the application works just fine and I am being redirected to the Home page (<strong>localhost:XXX/context_path/index</strong>), &quot;<strong>localhost:XXX/&lt;context_path&gt;</strong>&quot; also redirects to the correct page.</p>\n<p>When deploying on Weblogic, I get an error when I try to access the URL:\n&quot;<strong>localhost:XXX/context_path</strong>&quot; and it works when I manually add &quot;<strong>/</strong>&quot;.</p>\n<p>I found this tutorial <a href=\"https://o7planning.org/en/11245/deploying-spring-mvc-on-oracle-weblogic-server\" rel=\"nofollow noreferrer\">https://o7planning.org/en/11245/deploying-spring-mvc-on-oracle-weblogic-server</a> that suggests adding / to weblogic.xml file which works just fine.</p>\n<p>However, when forcing the context-root to &quot;<strong>/</strong>&quot;, the home page URL for the application deployed on weblogic is no longer the same\n(&quot;<strong>localhost:XXX/index</strong>&quot; instead of &quot;<strong>localhost:XXX/war_name/index</strong>&quot;).</p>\n<p>To sum up, Tomcat adds automatically the &quot;<strong>/</strong>&quot; to the context root without configuring a context-root.</p>\n<p>How can I get the same behaviour with weblogic without having to configure context-root on weblogic.xml?</p>\n<p>I am using a weblogic Server 12c.</p>\n"},{"tags":["java","spring-boot","kubernetes","memory-leaks","garbage-collection"],"answers":[{"comments":[{"owner":{"account_id":3147237,"reputation":1396,"user_id":2661479,"display_name":"PRAJIN PRAKASH"},"score":0,"creation_date":1674744430,"post_id":75234124,"comment_id":132782523,"body_markdown":"This will only set Heap size but the memory use is above that. \nI alredy I set             \n`- name: JAVA_TOOL_OPTIONS\n value: &quot;-Dspring.profiles.active={{ .Values.activeProfile }} -Xmx768m -Xms768m&quot;`\nbut the memory usage reaches 970mb and the autoscaler will create new instances if it reaches 95% of memory","body":"This will only set Heap size but the memory use is above that.  I alredy I set              <code>- name: JAVA_TOOL_OPTIONS  value: &quot;-Dspring.profiles.active={{ .Values.activeProfile }} -Xmx768m -Xms768m&quot;</code> but the memory usage reaches 970mb and the autoscaler will create new instances if it reaches 95% of memory"},{"owner":{"account_id":19465721,"reputation":54,"user_id":14239018,"display_name":"Mihai Pasca"},"score":1,"creation_date":1674748692,"post_id":75234124,"comment_id":132784133,"body_markdown":"There are a couple of things to investigate / tweak:\na) are the java parameters being used correctly?\nb) what else is running in the container besides jvm and how much memory it uses? \nc) check this https://stackoverflow.com/questions/49854237/is-xxmaxramfraction-1-safe-for-production-in-a-containered-environment","body":"There are a couple of things to investigate / tweak: a) are the java parameters being used correctly? b) what else is running in the container besides jvm and how much memory it uses?  c) check this <a href=\"https://stackoverflow.com/questions/49854237/is-xxmaxramfraction-1-safe-for-production-in-a-containered-environment\" title=\"is xxmaxramfraction 1 safe for production in a containered environment\">stackoverflow.com/questions/49854237/&hellip;</a>"}],"tags":[],"owner":{"account_id":19465721,"reputation":54,"user_id":14239018,"display_name":"Mihai Pasca"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674650460,"creation_date":1674650460,"answer_id":75234124,"question_id":75233942,"body_markdown":" - To limit max heap size for your Spring Boot app add max memory argument to JAVA_TOOL_OPTIONS (-Xmx1024M)\r\n - To see why memory consumption grows, use VisualVM (https://visualvm.github.io/download.html) to connect to your process and take a heap dump and analyze it\r\n\r\n","title":"Why Springboot Memeory usage increasing over time?","body":"<ul>\n<li>To limit max heap size for your Spring Boot app add max memory argument to JAVA_TOOL_OPTIONS (-Xmx1024M)</li>\n<li>To see why memory consumption grows, use VisualVM (<a href=\"https://visualvm.github.io/download.html\" rel=\"nofollow noreferrer\">https://visualvm.github.io/download.html</a>) to connect to your process and take a heap dump and analyze it</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3147237,"reputation":1396,"user_id":2661479,"display_name":"PRAJIN PRAKASH"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1678035352,"creation_date":1675258336,"answer_id":75310947,"question_id":75233942,"body_markdown":"**Update 05 02 2023**\r\nChanging the JVM Runtime to OpenJ9 reduced memory footprint dramatically,\r\n\r\nalso Changed to jre image instead of jdk\r\n\r\nUpdated command\r\n`mvn compile com.google.cloud.tools:jib-maven-plugin:3.3.0:dockerBuild -Djib.from.image=ibm-semeru-runtimes:open-8-jre -Dimage=$imageName -DskipTests`\r\n\r\n**OLD Answer**\r\n\r\nAfter a long analysis I found that there is no memory leak from the application.\r\nIt was due to the container so I switched to `openjdk:8-jdk-alpine` using `Djib.from.image=` option in Jib\r\n\r\nfirst I added some JVM option to set The JVM Heap But its also behaving same.\r\n\r\n`-XX:+UseG1GC -Xms100M -Xmx1G` (Garbage collection changed and set max heap to 1GB\r\n\r\nusing [VisualVM][1] suggest by @Mihai Pasca I analyzed the memory usage in the container.\r\n\r\n updated command of Jib\r\n\r\n    mvn compile com.google.cloud.tools:jib-maven-plugin:3.3.0:dockerBuild -Djib.from.image=openjdk:8-jdk-alpine -Dimage=$imageName -DskipTests  -Djib.container.environment=JAVA_TOOL_OPTIONS=&quot;-XX:+UseG1GC -Xms100M -Xmx1G -Dcom.sun.management.jmxremote=true -Dcom.sun.management.jmxremote.port=9010 -Dcom.sun.management.jmxremote.local.only=false -Dcom.sun.management.jmxremote.authenticate=false -Dcom.sun.management.jmxremote.ssl=false -Dcom.sun.management.jmxremote.rmi.port=9010 -Djava.rmi.server.hostname=localhost&quot;  -Djib.container.ports=8080,9010 \r\n     \r\n\r\nAnd connected to 9010 from visual vm using add JMX option.\r\n\r\n\r\n[![java memory usage in visual vm][2]][2]\r\n\r\nThere is no over usage I found and the GC works fine\r\n\r\n\r\nAnd memory usage by the container also fine and not growing continuesly its gorwing up and come down if no use. Previusly its continuly growing.\r\n\r\n\r\n\r\n[![docker desktop memory usage][3]][3]\r\n\r\nnow I started the same in k8s working fine now. \r\n\r\n\r\n  [1]: https://visualvm.github.io/download.html\r\n  [2]: https://i.stack.imgur.com/q2cdE.png\r\n  [3]: https://i.stack.imgur.com/6MNSQ.png","title":"Why Springboot Memeory usage increasing over time?","body":"<p><strong>Update 05 02 2023</strong>\nChanging the JVM Runtime to OpenJ9 reduced memory footprint dramatically,</p>\n<p>also Changed to jre image instead of jdk</p>\n<p>Updated command\n<code>mvn compile com.google.cloud.tools:jib-maven-plugin:3.3.0:dockerBuild -Djib.from.image=ibm-semeru-runtimes:open-8-jre -Dimage=$imageName -DskipTests</code></p>\n<p><strong>OLD Answer</strong></p>\n<p>After a long analysis I found that there is no memory leak from the application.\nIt was due to the container so I switched to <code>openjdk:8-jdk-alpine</code> using <code>Djib.from.image=</code> option in Jib</p>\n<p>first I added some JVM option to set The JVM Heap But its also behaving same.</p>\n<p><code>-XX:+UseG1GC -Xms100M -Xmx1G</code> (Garbage collection changed and set max heap to 1GB</p>\n<p>using <a href=\"https://visualvm.github.io/download.html\" rel=\"nofollow noreferrer\">VisualVM</a> suggest by @Mihai Pasca I analyzed the memory usage in the container.</p>\n<p>updated command of Jib</p>\n<pre><code>mvn compile com.google.cloud.tools:jib-maven-plugin:3.3.0:dockerBuild -Djib.from.image=openjdk:8-jdk-alpine -Dimage=$imageName -DskipTests  -Djib.container.environment=JAVA_TOOL_OPTIONS=&quot;-XX:+UseG1GC -Xms100M -Xmx1G -Dcom.sun.management.jmxremote=true -Dcom.sun.management.jmxremote.port=9010 -Dcom.sun.management.jmxremote.local.only=false -Dcom.sun.management.jmxremote.authenticate=false -Dcom.sun.management.jmxremote.ssl=false -Dcom.sun.management.jmxremote.rmi.port=9010 -Djava.rmi.server.hostname=localhost&quot;  -Djib.container.ports=8080,9010 \n \n</code></pre>\n<p>And connected to 9010 from visual vm using add JMX option.</p>\n<p><a href=\"https://i.stack.imgur.com/q2cdE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/q2cdE.png\" alt=\"java memory usage in visual vm\" /></a></p>\n<p>There is no over usage I found and the GC works fine</p>\n<p>And memory usage by the container also fine and not growing continuesly its gorwing up and come down if no use. Previusly its continuly growing.</p>\n<p><a href=\"https://i.stack.imgur.com/6MNSQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6MNSQ.png\" alt=\"docker desktop memory usage\" /></a></p>\n<p>now I started the same in k8s working fine now.</p>\n"}],"owner":{"account_id":3147237,"reputation":1396,"user_id":2661479,"display_name":"PRAJIN PRAKASH"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1008,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75310947,"answer_count":2,"score":0,"last_activity_date":1678035352,"creation_date":1674649399,"question_id":75233942,"body_markdown":"Am deploying springboot application in kubernets using Jib. When the service starting the memory usage is around 300MB but it grows up to 1.3gb over time. How to avoid this increase without any usage? The application is up and running. The API gateways are not open to user now still the memory is incrementing over time.\r\n\r\n\r\nkubernets deployment configuration\r\n\r\n\r\n    # Source: services/charts/login/templates/deployment.yaml\r\n    apiVersion: apps/v1\r\n    kind: Deployment\r\n    metadata:\r\n      labels:\r\n        app.kubernetes.io/instance: release-name\r\n        app.kubernetes.io/managed-by: Helm\r\n        app.kubernetes.io/name: login\r\n        app.kubernetes.io/version: 1.16.0\r\n      name: login\r\n    spec:\r\n      selector:\r\n        matchLabels:\r\n          app.kubernetes.io/instance: release-name\r\n          app.kubernetes.io/name: login\r\n      template:\r\n        metadata:\r\n          labels:\r\n            app.kubernetes.io/instance: release-name\r\n            app.kubernetes.io/name: login\r\n        spec:\r\n          containers:\r\n          - env:\r\n            - name: APP_NAME\r\n              value: login-release-name\r\n            - name: JAVA_TOOL_OPTIONS\r\n              value: -Dspring.profiles.active=prod\r\n            image: dockerregistry.com/login:1.0.0\r\n            imagePullPolicy: Always\r\n            lifecycle:\r\n              preStop:\r\n                exec:\r\n                  command:\r\n                  - sh\r\n                  - -c\r\n                  - sleep 10\r\n            livenessProbe:\r\n              httpGet:\r\n                path: /actuator/health\r\n                port: 8080\r\n              initialDelaySeconds: 30\r\n            name: login\r\n            ports:\r\n            - containerPort: 8080\r\n              name: http\r\n              protocol: TCP\r\n            readinessProbe:\r\n              httpGet:\r\n                path: /actuator/health\r\n                port: 8080\r\n              initialDelaySeconds: 30\r\n            resources:\r\n              limits:\r\n                cpu: 2000m\r\n                memory: 1Gi\r\n              requests:\r\n                cpu: 100m\r\n                memory: 1Gi\r\n          imagePullSecrets:\r\n          - name: regcred\r\n          terminationGracePeriodSeconds: 60\r\n\r\n\r\nspring boot configuration for kubernets\r\n\r\n    server.port=8080\r\n    server.shutdown=graceful\r\n    spring.lifecycle.timeout-per-shutdown-phase=45s\r\n    \r\n    server.tomcat.accept-count=100\r\n    server.tomcat.max-connections=8000\r\n    server.tomcat.connection-timeout=10000\r\n    server.tomcat.max-threads=200\r\n    server.tomcat.min-spare-threads=10\r\n    \r\n    spring.datasource.url=jdbc:postgresql://${DB_HOST:#{&quot;postgres&quot;}}/postgres\r\n    spring.datasource.username=${DB_USER:#{&quot;postgres&quot;}}\r\n    spring.datasource.password=${DB_PASSWORD:#{&quot;na&quot;}}\r\n    spring.datasource.type=org.springframework.jdbc.datasource.DriverManagerDataSource\r\n    spring.datasource.driver-class-name=org.postgresql.Driver\r\n\r\nDo we need to configure anything to limit the memory usage to 1GB limit? Now the kubernets will kill the pod if it goes beyond 1GB.\r\n\r\nam creating the image using the Jib.\r\n\r\n    mvn compile com.google.cloud.tools:jib-maven-plugin:3.3.0:dockerBuild -Dimage=login -DskipTests","title":"Why Springboot Memeory usage increasing over time?","body":"<p>Am deploying springboot application in kubernets using Jib. When the service starting the memory usage is around 300MB but it grows up to 1.3gb over time. How to avoid this increase without any usage? The application is up and running. The API gateways are not open to user now still the memory is incrementing over time.</p>\n<p>kubernets deployment configuration</p>\n<pre><code># Source: services/charts/login/templates/deployment.yaml\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  labels:\n    app.kubernetes.io/instance: release-name\n    app.kubernetes.io/managed-by: Helm\n    app.kubernetes.io/name: login\n    app.kubernetes.io/version: 1.16.0\n  name: login\nspec:\n  selector:\n    matchLabels:\n      app.kubernetes.io/instance: release-name\n      app.kubernetes.io/name: login\n  template:\n    metadata:\n      labels:\n        app.kubernetes.io/instance: release-name\n        app.kubernetes.io/name: login\n    spec:\n      containers:\n      - env:\n        - name: APP_NAME\n          value: login-release-name\n        - name: JAVA_TOOL_OPTIONS\n          value: -Dspring.profiles.active=prod\n        image: dockerregistry.com/login:1.0.0\n        imagePullPolicy: Always\n        lifecycle:\n          preStop:\n            exec:\n              command:\n              - sh\n              - -c\n              - sleep 10\n        livenessProbe:\n          httpGet:\n            path: /actuator/health\n            port: 8080\n          initialDelaySeconds: 30\n        name: login\n        ports:\n        - containerPort: 8080\n          name: http\n          protocol: TCP\n        readinessProbe:\n          httpGet:\n            path: /actuator/health\n            port: 8080\n          initialDelaySeconds: 30\n        resources:\n          limits:\n            cpu: 2000m\n            memory: 1Gi\n          requests:\n            cpu: 100m\n            memory: 1Gi\n      imagePullSecrets:\n      - name: regcred\n      terminationGracePeriodSeconds: 60\n</code></pre>\n<p>spring boot configuration for kubernets</p>\n<pre><code>server.port=8080\nserver.shutdown=graceful\nspring.lifecycle.timeout-per-shutdown-phase=45s\n\nserver.tomcat.accept-count=100\nserver.tomcat.max-connections=8000\nserver.tomcat.connection-timeout=10000\nserver.tomcat.max-threads=200\nserver.tomcat.min-spare-threads=10\n\nspring.datasource.url=jdbc:postgresql://${DB_HOST:#{&quot;postgres&quot;}}/postgres\nspring.datasource.username=${DB_USER:#{&quot;postgres&quot;}}\nspring.datasource.password=${DB_PASSWORD:#{&quot;na&quot;}}\nspring.datasource.type=org.springframework.jdbc.datasource.DriverManagerDataSource\nspring.datasource.driver-class-name=org.postgresql.Driver\n</code></pre>\n<p>Do we need to configure anything to limit the memory usage to 1GB limit? Now the kubernets will kill the pod if it goes beyond 1GB.</p>\n<p>am creating the image using the Jib.</p>\n<pre><code>mvn compile com.google.cloud.tools:jib-maven-plugin:3.3.0:dockerBuild -Dimage=login -DskipTests\n</code></pre>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":0,"creation_date":1412722619,"post_id":26246568,"comment_id":41171566,"body_markdown":"It&#39;s an implementation detail whether the data is copied or simply referenced in the source string.  There are performance advantages/disadvantages to both schemes.  I&#39;m wondering why you think you care, since the choice is a matter of &quot;tuning&quot; on the part of the JVM designers and is strongly linked to the garbage collector algorithms.","body":"It&#39;s an implementation detail whether the data is copied or simply referenced in the source string.  There are performance advantages/disadvantages to both schemes.  I&#39;m wondering why you think you care, since the choice is a matter of &quot;tuning&quot; on the part of the JVM designers and is strongly linked to the garbage collector algorithms."},{"owner":{"account_id":1053202,"reputation":59956,"user_id":1056563,"accept_rate":90,"display_name":"WestCoastProjects"},"score":0,"creation_date":1412723345,"post_id":26246568,"comment_id":41171751,"body_markdown":"@HotLicks  Added motivation info.","body":"@HotLicks  Added motivation info."},{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":0,"creation_date":1412723503,"post_id":26246568,"comment_id":41171794,"body_markdown":"Is this data character data, numeric data, or &quot;bytes&quot;?  You should only use String for data that is in character form.","body":"Is this data character data, numeric data, or &quot;bytes&quot;?  You should only use String for data that is in character form."},{"owner":{"account_id":1053202,"reputation":59956,"user_id":1056563,"accept_rate":90,"display_name":"WestCoastProjects"},"score":0,"creation_date":1412723887,"post_id":26246568,"comment_id":41171899,"body_markdown":"@HotLicks  I noted the tie-in to String in the last sentence of the motivation paragraph. Strings are not being used to represent other data types - instead I wanted to see how String does the zero copy in order to apply to other data types","body":"@HotLicks  I noted the tie-in to String in the last sentence of the motivation paragraph. Strings are not being used to represent other data types - instead I wanted to see how String does the zero copy in order to apply to other data types"},{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":0,"creation_date":1412724408,"post_id":26246568,"comment_id":41172027,"body_markdown":"Then simply get a copy of the old String code.  But be warned that that particular implementation is a bit convoluted.  But the basic concept is simple:  An array reference, an offset value, and a length value.  If you &quot;define&quot; that the array is never modified then you can &quot;share&quot; it with impunity.","body":"Then simply get a copy of the old String code.  But be warned that that particular implementation is a bit convoluted.  But the basic concept is simple:  An array reference, an offset value, and a length value.  If you &quot;define&quot; that the array is never modified then you can &quot;share&quot; it with impunity."}],"answers":[{"comments":[{"owner":{"account_id":1053202,"reputation":59956,"user_id":1056563,"accept_rate":90,"display_name":"WestCoastProjects"},"score":0,"creation_date":1412722910,"post_id":26246580,"comment_id":41171641,"body_markdown":"btw is there a similar construct to CharBuffer.wrap for general arrays? I looked at Buffer (the superclass) and did not find one.","body":"btw is there a similar construct to CharBuffer.wrap for general arrays? I looked at Buffer (the superclass) and did not find one."},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1412723035,"post_id":26246580,"comment_id":41171670,"body_markdown":"What do you mean, general arrays?  There are different buffer types for each of the primitive types.  If you want to wrap an object array, use `Arrays.asList` to view it as a `List`.","body":"What do you mean, general arrays?  There are different buffer types for each of the primitive types.  If you want to wrap an object array, use <code>Arrays.asList</code> to view it as a <code>List</code>."},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1412723510,"post_id":26246580,"comment_id":41171796,"body_markdown":"For the other primitive types, you can use the `slice()` methods of their corresponding buffers.","body":"For the other primitive types, you can use the <code>slice()</code> methods of their corresponding buffers."},{"owner":{"account_id":1053202,"reputation":59956,"user_id":1056563,"accept_rate":90,"display_name":"WestCoastProjects"},"score":0,"creation_date":1412723578,"post_id":26246580,"comment_id":41171820,"body_markdown":"To be specific: double[].  Using Arrays.asList would involve data copying/object creation which I want to avoid.","body":"To be specific: double[].  Using Arrays.asList would involve data copying/object creation which I want to avoid."},{"owner":{"account_id":313216,"reputation":44997,"user_id":627727,"accept_rate":84,"display_name":"mkobit"},"score":1,"creation_date":1412723673,"post_id":26246580,"comment_id":41171853,"body_markdown":"For more information (for those interested) here is a link to [Java-Performance.info](http://java-performance.info/changes-to-string-java-1-7-0_06/) giving an overview of the change and here is a link to a [Reddit post from an Oracle dev](http://www.reddit.com/comments/1qw73v) talking more in depth about the technical details.","body":"For more information (for those interested) here is a link to <a href=\"http://java-performance.info/changes-to-string-java-1-7-0_06/\" rel=\"nofollow noreferrer\">Java-Performance.info</a> giving an overview of the change and here is a link to a <a href=\"http://www.reddit.com/comments/1qw73v\" rel=\"nofollow noreferrer\">Reddit post from an Oracle dev</a> talking more in depth about the technical details."},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1412723718,"post_id":26246580,"comment_id":41171865,"body_markdown":"Sounds like you want `DoubleBuffer.slice()`, or you could just use `DoubleBuffer.wrap(array, offset, length)` possibly.","body":"Sounds like you want <code>DoubleBuffer.slice()</code>, or you could just use <code>DoubleBuffer.wrap(array, offset, length)</code> possibly."},{"owner":{"account_id":1053202,"reputation":59956,"user_id":1056563,"accept_rate":90,"display_name":"WestCoastProjects"},"score":0,"creation_date":1412723924,"post_id":26246580,"comment_id":41171906,"body_markdown":"@LouisWasserman  Yes!!  Please make this an answer.  Actually I probably should have created two questions - the second specifcally about Double and you get awarded both.  I may do that ..","body":"@LouisWasserman  Yes!!  Please make this an answer.  Actually I probably should have created two questions - the second specifcally about Double and you get awarded both.  I may do that .."},{"owner":{"account_id":1053202,"reputation":59956,"user_id":1056563,"accept_rate":90,"display_name":"WestCoastProjects"},"score":0,"creation_date":1412724115,"post_id":26246580,"comment_id":41171956,"body_markdown":"@MikeKobit  If you would like to make an answer out of your comment I would at least upvote it for being quite useful (Louis has provided a great answer and I awarded it)","body":"@MikeKobit  If you would like to make an answer out of your comment I would at least upvote it for being quite useful (Louis has provided a great answer and I awarded it)"},{"owner":{"account_id":31516,"reputation":571,"user_id":86600,"accept_rate":0,"display_name":"neoedmund"},"score":0,"creation_date":1445425009,"post_id":26246580,"comment_id":54315976,"body_markdown":"But, think of String.split(), it is not supported by CharBuffer. The splited string[] should be nice to share the original string.value, instead of copy data. So I&#39;m looking forward on a  no-copy substring String implementation in the future JDK!","body":"But, think of String.split(), it is not supported by CharBuffer. The splited string[] should be nice to share the original string.value, instead of copy data. So I&#39;m looking forward on a  no-copy substring String implementation in the future JDK!"},{"owner":{"account_id":1053202,"reputation":59956,"user_id":1056563,"accept_rate":90,"display_name":"WestCoastProjects"},"score":1,"creation_date":1612667173,"post_id":26246580,"comment_id":116837346,"body_markdown":"@neoedmund  Unfortunately it&#39;s the other way around: the no-copy was _removed_ from the JDK. V unlikely it would then go the other direction.","body":"@neoedmund  Unfortunately it&#39;s the other way around: the no-copy was <i>removed</i> from the JDK. V unlikely it would then go the other direction."}],"tags":[],"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"comment_count":10,"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1412722437,"creation_date":1412722437,"answer_id":26246580,"question_id":26246568,"body_markdown":"It _used_ to be that way, but it was changed; the designers of Java came to the conclusion that it caused more problems than it solved, specifically due to a) the risk of memory leaks, b) the fact that most `substring` calls are for relatively small ranges that are cheap to copy.\r\n\r\nThe closest thing you can do, to get a `CharSequence` view of a subrange of the `String` without copying, you can do by writing `CharBuffer.wrap(string).subSequence(from, to)`.","title":"Is it possible to create a new String from a subset of another String without any data copy?","body":"<p>It <em>used</em> to be that way, but it was changed; the designers of Java came to the conclusion that it caused more problems than it solved, specifically due to a) the risk of memory leaks, b) the fact that most <code>substring</code> calls are for relatively small ranges that are cheap to copy.</p>\n\n<p>The closest thing you can do, to get a <code>CharSequence</code> view of a subrange of the <code>String</code> without copying, you can do by writing <code>CharBuffer.wrap(string).subSequence(from, to)</code>.</p>\n"},{"comments":[{"owner":{"account_id":1053202,"reputation":59956,"user_id":1056563,"accept_rate":90,"display_name":"WestCoastProjects"},"score":1,"creation_date":1412734814,"post_id":26247335,"comment_id":41174484,"body_markdown":"Thanks for contributing here. Your solution involves basically a copy constructor of the original array.  Consider a linear algebra library backing array on order of 100&#39;s K to low millions of elements: avoiding a copy is pretty important.","body":"Thanks for contributing here. Your solution involves basically a copy constructor of the original array.  Consider a linear algebra library backing array on order of 100&#39;s K to low millions of elements: avoiding a copy is pretty important."},{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":1,"creation_date":1412735066,"post_id":26247335,"comment_id":41174525,"body_markdown":"@javadba - The `subDring` function does not copy the array.  And if you want the public constructor to not copy (trusting the array to be &quot;immutable&quot;) you can easily do that.  The above code is the &quot;moral equivalent&quot; of the old non-copying String code.","body":"@javadba - The <code>subDring</code> function does not copy the array.  And if you want the public constructor to not copy (trusting the array to be &quot;immutable&quot;) you can easily do that.  The above code is the &quot;moral equivalent&quot; of the old non-copying String code."},{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":1,"creation_date":1412768548,"post_id":26247335,"comment_id":41187708,"body_markdown":"@javadba - And, as the comments suggest, you should probably add parameter checks -- offsetParm positive and &lt;= length, lengthParm &lt;= length - offsetParm, index less than length.  (I haven&#39;t thought these through in detail.)","body":"@javadba - And, as the comments suggest, you should probably add parameter checks -- offsetParm positive and &lt;= length, lengthParm &lt;= length - offsetParm, index less than length.  (I haven&#39;t thought these through in detail.)"},{"owner":{"account_id":1053202,"reputation":59956,"user_id":1056563,"accept_rate":90,"display_name":"WestCoastProjects"},"score":0,"creation_date":1612667442,"post_id":26247335,"comment_id":116837377,"body_markdown":"Just returned to this (7 yrs later). It looks good. I&#39;d upvote it but already did (7 yrs back)! Those 2 downvotes are not explained.","body":"Just returned to this (7 yrs later). It looks good. I&#39;d upvote it but already did (7 yrs back)! Those 2 downvotes are not explained."}],"tags":[],"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"comment_count":4,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1412727646,"creation_date":1412727646,"answer_id":26247335,"question_id":26246568,"body_markdown":"    public class Dring {  // Double String\r\n        double[] array;\r\n        int length;\r\n        int offset;\r\n        // You probably want hash\r\n        \r\n        public Dring(double[] data) {\r\n            array = new double[data.length];\r\n            &lt;copy from data to array using your favorite array copy method&gt;\r\n            length = data.length;\r\n            offset = 0;\r\n        }\r\n    \r\n        private Dring(int offsetParm, int lengthParm, double[] data) {\r\n            array = data;\r\n            length = lengthParm;\r\n            offset = offsetParm\r\n        } \r\n    \r\n        public Dring subDring(int offsetParm, int lengthParm) {\r\n             // Check parms\r\n             return new Dring(offset + offsetParm, lengthParm, array);\r\n        }\r\n    \r\n        public double doubleAt(int index) {\r\n            // Check parm\r\n            return array[offset + index];\r\n        }\r\n    }\r\n\r\n","title":"Is it possible to create a new String from a subset of another String without any data copy?","body":"<pre><code>public class Dring {  // Double String\n    double[] array;\n    int length;\n    int offset;\n    // You probably want hash\n\n    public Dring(double[] data) {\n        array = new double[data.length];\n        &lt;copy from data to array using your favorite array copy method&gt;\n        length = data.length;\n        offset = 0;\n    }\n\n    private Dring(int offsetParm, int lengthParm, double[] data) {\n        array = data;\n        length = lengthParm;\n        offset = offsetParm\n    } \n\n    public Dring subDring(int offsetParm, int lengthParm) {\n         // Check parms\n         return new Dring(offset + offsetParm, lengthParm, array);\n    }\n\n    public double doubleAt(int index) {\n        // Check parm\n        return array[offset + index];\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":69636,"reputation":3071,"user_id":202504,"display_name":"jmiserez"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1530187476,"creation_date":1530186380,"answer_id":51082136,"question_id":26246568,"body_markdown":"The class `java.nio.StringCharBuffer` implements such a &quot;view&quot; on a substring without copying of the underlying char[] array of the String. It uses the `String.charAt` functions along with an internal offset (number of chars offset from the start of the String) in order to access the String array.\r\n\r\nUnfortunately, it is package-private and not usable directly. The superclass `java.nio.CharBuffer` however is public, and you could implement your own implementation of a StringCharBuffer using the same approach that the `java.nio.StringCharBuffer` takes.\r\n\r\nNote that if you do not do this and simply use `CharBuffer.wrap` as suggested by another answer you will still copy the array once.\r\n\r\nAlternatively, you might just require a Stream of chars beginning from a certain index. In that case, you can use something like: \r\n\r\n    IntStream\r\n      .range(start, str.length())\r\n      .map(i -&gt; str.charAt(i))\r\n      ...\r\n\r\nto get a Stream of chars. Note that this is different from doing `str.chars().skip(start)`, as the latter will actually advance the cursor by 1 `start` times.\r\n","title":"Is it possible to create a new String from a subset of another String without any data copy?","body":"<p>The class <code>java.nio.StringCharBuffer</code> implements such a \"view\" on a substring without copying of the underlying char[] array of the String. It uses the <code>String.charAt</code> functions along with an internal offset (number of chars offset from the start of the String) in order to access the String array.</p>\n\n<p>Unfortunately, it is package-private and not usable directly. The superclass <code>java.nio.CharBuffer</code> however is public, and you could implement your own implementation of a StringCharBuffer using the same approach that the <code>java.nio.StringCharBuffer</code> takes.</p>\n\n<p>Note that if you do not do this and simply use <code>CharBuffer.wrap</code> as suggested by another answer you will still copy the array once.</p>\n\n<p>Alternatively, you might just require a Stream of chars beginning from a certain index. In that case, you can use something like: </p>\n\n<pre><code>IntStream\n  .range(start, str.length())\n  .map(i -&gt; str.charAt(i))\n  ...\n</code></pre>\n\n<p>to get a Stream of chars. Note that this is different from doing <code>str.chars().skip(start)</code>, as the latter will actually advance the cursor by 1 <code>start</code> times.</p>\n"}],"owner":{"account_id":1053202,"reputation":59956,"user_id":1056563,"accept_rate":90,"display_name":"WestCoastProjects"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3352,"favorite_count":0,"down_vote_count":1,"up_vote_count":14,"accepted_answer_id":26246580,"answer_count":3,"score":13,"last_activity_date":1678035287,"creation_date":1412722314,"question_id":26246568,"body_markdown":"I had (apparenty an incorrect?) impression that Java substring(srcArray, startIndex, endIndex) method did not allocate new memory but instead re-used the existing underlying char[] array.  This approach would seem to be possible due to the immutability of String&#39;s.\r\n\r\nHowever when actually looking at the JDK source we find the following:\r\n\r\n\r\n    public String substring(int beginIndex, int endIndex) {\r\n\r\n        return ((beginIndex == 0) &amp;&amp; (endIndex == value.length)) ? this\r\n                : new String(value, beginIndex, subLen);\r\n    }\r\n\r\n    public String(char value[], int offset, int count) {\r\n\r\n\r\n        this.value = Arrays.copyOfRange(value, offset, offset+count);\r\n\r\n    }\r\n\r\n\r\nNotice the `copyOfRange()` which copies/duplicates the content.\r\n\r\nThe motivation for this was working with very large arrays representing the backing store of matrices for linear algebra. There is NO way we are going to accept copying them.  I would like however to have a custom representation of portions of the backing array for convenience in programming. It would however only be reasonable if no data copy were to be performed.  The tie-in with String is that I looked into how the String handles no-data-copy and found that they (in later java versions apparently..) do actually perform the copy.\r\n\r\nSo, is there actually any way to achieve the zero-copy?\r\n\r\n","title":"Is it possible to create a new String from a subset of another String without any data copy?","body":"<p>I had (apparenty an incorrect?) impression that Java substring(srcArray, startIndex, endIndex) method did not allocate new memory but instead re-used the existing underlying char[] array.  This approach would seem to be possible due to the immutability of String's.</p>\n<p>However when actually looking at the JDK source we find the following:</p>\n<pre><code>public String substring(int beginIndex, int endIndex) {\n\n    return ((beginIndex == 0) &amp;&amp; (endIndex == value.length)) ? this\n            : new String(value, beginIndex, subLen);\n}\n\npublic String(char value[], int offset, int count) {\n\n\n    this.value = Arrays.copyOfRange(value, offset, offset+count);\n\n}\n</code></pre>\n<p>Notice the <code>copyOfRange()</code> which copies/duplicates the content.</p>\n<p>The motivation for this was working with very large arrays representing the backing store of matrices for linear algebra. There is NO way we are going to accept copying them.  I would like however to have a custom representation of portions of the backing array for convenience in programming. It would however only be reasonable if no data copy were to be performed.  The tie-in with String is that I looked into how the String handles no-data-copy and found that they (in later java versions apparently..) do actually perform the copy.</p>\n<p>So, is there actually any way to achieve the zero-copy?</p>\n"},{"tags":["java","netbeans","build","ant"],"answers":[{"comments":[{"owner":{"account_id":18176730,"reputation":23,"user_id":13225316,"display_name":"Lucas Sanches"},"score":0,"creation_date":1586261442,"post_id":61053381,"comment_id":108058146,"body_markdown":"I tried again to build with the Netbeans 11.0 LTS version available on the Apache website and again gave the same errors mentioned in the post. As you said it worked, I tried to build the version of Netbeans 11.3, avaliable on Github and it worked. Which leads me to believe that there is a problem with the building of version 11.0 available on the website.","body":"I tried again to build with the Netbeans 11.0 LTS version available on the Apache website and again gave the same errors mentioned in the post. As you said it worked, I tried to build the version of Netbeans 11.3, avaliable on Github and it worked. Which leads me to believe that there is a problem with the building of version 11.0 available on the website."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1586281977,"post_id":61053381,"comment_id":108069977,"body_markdown":"@LucasSanches Since you chose not to post the extra information that was requested it is not possible to help you any further. Good luck.","body":"@LucasSanches Since you chose not to post the extra information that was requested it is not possible to help you any further. Good luck."},{"owner":{"account_id":1930615,"reputation":317,"user_id":1740065,"display_name":"Darrin"},"score":0,"creation_date":1644518573,"post_id":61053381,"comment_id":125634774,"body_markdown":"I am having the same errors, on the same ant target/macro above, only the line numbers in the build.xml file are different. I am using Ant 10.12, and compiling the unzipped source archive: netbeans-12.6-source.zip.  I think either the &quot;build_clusters&quot; has a problem on OpenJDK 1.8_322, or this parameter, ${nb.clusters.list}, was supposed to be replaced with a value:    &lt;target name=&quot;build-clusters&quot; depends=&quot;init&quot;&gt;\n     &lt;run-depend-build clusters-to-build=&quot;${nb.clusters.list}&quot;/&gt; \n  &lt;/target&gt;","body":"I am having the same errors, on the same ant target/macro above, only the line numbers in the build.xml file are different. I am using Ant 10.12, and compiling the unzipped source archive: netbeans-12.6-source.zip.  I think either the &quot;build_clusters&quot; has a problem on OpenJDK 1.8_322, or this parameter, ${nb.clusters.list}, was supposed to be replaced with a value:    &lt;target name=&quot;build-clusters&quot; depends=&quot;init&quot;&gt;      &lt;run-depend-build clusters-to-build=&quot;${nb.clusters.list}&quot;/&gt;    &lt;/target&gt;"},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1644528784,"post_id":61053381,"comment_id":125638111,"body_markdown":"@Darrin [1] I think you meant Apache Ant 1.10.12, right? [2] It looks like you are doing the basics correctly, and there isn&#39;t much scope for there to be a problem on your side anyway, though note this warning: _&quot;Set **JAVA_HOME** and **ANT_HOME** appropriately or leave them undefined&quot;_. I had them both undefined and everything worked, but if they exist make sure their values are correct. [3] I&#39;ve only just seen these [Building from source](https://netbeans.apache.org/download/dev/index.html) instructions, which might be helpful if they are new to you as well.","body":"@Darrin [1] I think you meant Apache Ant 1.10.12, right? [2] It looks like you are doing the basics correctly, and there isn&#39;t much scope for there to be a problem on your side anyway, though note this warning: <i>&quot;Set <b>JAVA_HOME</b> and <b>ANT_HOME</b> appropriately or leave them undefined&quot;</i>. I had them both undefined and everything worked, but if they exist make sure their values are correct. [3] I&#39;ve only just seen these <a href=\"https://netbeans.apache.org/download/dev/index.html\" rel=\"nofollow noreferrer\">Building from source</a> instructions, which might be helpful if they are new to you as well."},{"owner":{"account_id":1930615,"reputation":317,"user_id":1740065,"display_name":"Darrin"},"score":0,"creation_date":1644939316,"post_id":61053381,"comment_id":125735032,"body_markdown":"@skomisa I found a solution that fixed the build errors when [1] using Ant 1.10.2, and OpenJDK 1.8_322.  I needed to switch ANT_HOME on my (Windows 10) %PATH% from 1.10.2 to 1.10.12 and this fixed the errors somehow.  Not sure what the difference is between Ant 1.10.2 and 1.10.12, but something within the source build must definitely be using new Ant features that do not exist in 1.10.2.  Hope this helps someone!  Generally, I never even consider a minor Ant or Maven revision difference would matter - but in this case - such a rare occasion as this lazy assumption was indeed the issue.","body":"@skomisa I found a solution that fixed the build errors when [1] using Ant 1.10.2, and OpenJDK 1.8_322.  I needed to switch ANT_HOME on my (Windows 10) %PATH% from 1.10.2 to 1.10.12 and this fixed the errors somehow.  Not sure what the difference is between Ant 1.10.2 and 1.10.12, but something within the source build must definitely be using new Ant features that do not exist in 1.10.2.  Hope this helps someone!  Generally, I never even consider a minor Ant or Maven revision difference would matter - but in this case - such a rare occasion as this lazy assumption was indeed the issue."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1644940058,"post_id":61053381,"comment_id":125735355,"body_markdown":"@Darrin That&#39;s worth knowing, and it&#39;s good that you found a fix. If you post an answer I&#39;ll be happy to upvote it. (Unlike comments, the content of answers iis searchable, so an answer is always more helpful to the community than a solution buried in the comments.)","body":"@Darrin That&#39;s worth knowing, and it&#39;s good that you found a fix. If you post an answer I&#39;ll be happy to upvote it. (Unlike comments, the content of answers iis searchable, so an answer is always more helpful to the community than a solution buried in the comments.)"}],"tags":[],"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586150368,"creation_date":1586150368,"answer_id":61053381,"question_id":61047265,"body_markdown":"It&#39;s tough to state why you are having a problem based on the information provided, but I followed the [Building from source][1] instructions for NetBeans 11.3 on Windows 10 and everything worked:\r\n\r\n[![BuildSuccessful][2]][2]\r\n\r\nTherefore it might be more helpful to simply document what I did, and you can address any differences:\r\n\r\n- [Download and unzip NetBeans 11.3 source from GitHub][3] into `D:\\Downloads\\NetBeans source\\netbeans-master`.\r\n- [Download and unzip Ant 1.10.7][4] into `C:\\ApacheAnt`.\r\n- I (incorrectly!) set **ANT_HOME** to `C:\\ApacheAnt` instead of `C:\\ApacheAnt\\bin`, but it didn&#39;t seem to matter.\r\n- Set **JAVA_HOME** to `C:\\Java\\jdk1.8.0_221`, and ensure that it is the only JDK on the `PATH`.\r\n- Open a **Command Prompt** window and submit the following:\r\n\r\n&gt;     D:\r\n&gt; \r\n&gt;     cd D:\\Downloads\\NetBeans source\\netbeans-master\r\n&gt; \r\n&gt;     C:\\ApacheAnt\\bin\\ant build\r\n\r\nNotes:\r\n\r\n- The [*Building from source*][1] instructions for NetBeans state &quot;*Install an LTS release of the Java Development Kit*&quot;, so effectively your only choices are JDK 8 or JDK 11.\r\n- Building NetBeans generates a lot of output to the console, so it is probably better to redirect the output to a file. This will speed things up a bit, and will be useful if you need to review the build.\r\n- I don&#39;t have a `JAVA_PATH` environment variable.\r\n- [The Ant documentation][4] states &quot;*We recommend using 1.10.x unless you are required to use versions of Java prior to Java8 during the build process.*&quot;, so avoid using Ant 1.9.x.\r\n\r\n\r\nIf you continue to have problems then update your question with the following information: \r\n\r\n- Your settings for `JAVA_HOME` and `ANT_HOME`. \r\n- A link to the instructions you followed for building NetBeans.\r\n- A link to the page you used to download the source of NetBeans.\r\n- The output from submitting `java -version` from the console.\r\n\r\n  [1]: https://netbeans.apache.org/download/dev/index.html\r\n  [2]: https://i.stack.imgur.com/HPj9K.png\r\n  [3]: https://github.com/apache/netbeans\r\n  [4]: https://ant.apache.org/bindownload.cgi","title":"problems when compiling netbeans from source 11.0","body":"<p>It's tough to state why you are having a problem based on the information provided, but I followed the <a href=\"https://netbeans.apache.org/download/dev/index.html\" rel=\"nofollow noreferrer\">Building from source</a> instructions for NetBeans 11.3 on Windows 10 and everything worked:</p>\n\n<p><a href=\"https://i.stack.imgur.com/HPj9K.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HPj9K.png\" alt=\"BuildSuccessful\"></a></p>\n\n<p>Therefore it might be more helpful to simply document what I did, and you can address any differences:</p>\n\n<ul>\n<li><a href=\"https://github.com/apache/netbeans\" rel=\"nofollow noreferrer\">Download and unzip NetBeans 11.3 source from GitHub</a> into <code>D:\\Downloads\\NetBeans source\\netbeans-master</code>.</li>\n<li><a href=\"https://ant.apache.org/bindownload.cgi\" rel=\"nofollow noreferrer\">Download and unzip Ant 1.10.7</a> into <code>C:\\ApacheAnt</code>.</li>\n<li>I (incorrectly!) set <strong>ANT_HOME</strong> to <code>C:\\ApacheAnt</code> instead of <code>C:\\ApacheAnt\\bin</code>, but it didn't seem to matter.</li>\n<li>Set <strong>JAVA_HOME</strong> to <code>C:\\Java\\jdk1.8.0_221</code>, and ensure that it is the only JDK on the <code>PATH</code>.</li>\n<li>Open a <strong>Command Prompt</strong> window and submit the following:</li>\n</ul>\n\n<blockquote>\n<pre><code>D:\n\ncd D:\\Downloads\\NetBeans source\\netbeans-master\n\nC:\\ApacheAnt\\bin\\ant build\n</code></pre>\n</blockquote>\n\n<p>Notes:</p>\n\n<ul>\n<li>The <a href=\"https://netbeans.apache.org/download/dev/index.html\" rel=\"nofollow noreferrer\"><em>Building from source</em></a> instructions for NetBeans state \"<em>Install an LTS release of the Java Development Kit</em>\", so effectively your only choices are JDK 8 or JDK 11.</li>\n<li>Building NetBeans generates a lot of output to the console, so it is probably better to redirect the output to a file. This will speed things up a bit, and will be useful if you need to review the build.</li>\n<li>I don't have a <code>JAVA_PATH</code> environment variable.</li>\n<li><a href=\"https://ant.apache.org/bindownload.cgi\" rel=\"nofollow noreferrer\">The Ant documentation</a> states \"<em>We recommend using 1.10.x unless you are required to use versions of Java prior to Java8 during the build process.</em>\", so avoid using Ant 1.9.x.</li>\n</ul>\n\n<p>If you continue to have problems then update your question with the following information: </p>\n\n<ul>\n<li>Your settings for <code>JAVA_HOME</code> and <code>ANT_HOME</code>. </li>\n<li>A link to the instructions you followed for building NetBeans.</li>\n<li>A link to the page you used to download the source of NetBeans.</li>\n<li>The output from submitting <code>java -version</code> from the console.</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":1,"creation_date":1645047327,"post_id":71147373,"comment_id":125770142,"body_markdown":"The question doesn&#39;t show which version of Ant was being used. However, [the Ant Release Notes](https://ant.apache.org/bindownload.cgi) state _&quot;We recommend using 1.10.x unless you are required to use versions of Java prior to Java 8...&quot;_. And that documentation further warns: _&quot;Older releases of Ant can be found here. We highly recommend to not use those releases but upgrade to Ant&#39;s latest release&quot;_, which is 1.10.12, So it seems plausible that the OP was using a bad version of Ant, and your answer confirms that NetBeans can be compiled using Ant 1.10.12.","body":"The question doesn&#39;t show which version of Ant was being used. However, <a href=\"https://ant.apache.org/bindownload.cgi\" rel=\"nofollow noreferrer\">the Ant Release Notes</a> state <i>&quot;We recommend using 1.10.x unless you are required to use versions of Java prior to Java 8...&quot;</i>. And that documentation further warns: <i>&quot;Older releases of Ant can be found here. We highly recommend to not use those releases but upgrade to Ant&#39;s latest release&quot;</i>, which is 1.10.12, So it seems plausible that the OP was using a bad version of Ant, and your answer confirms that NetBeans can be compiled using Ant 1.10.12."}],"tags":[],"owner":{"account_id":1930615,"reputation":317,"user_id":1740065,"display_name":"Darrin"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645036381,"creation_date":1645036025,"answer_id":71147373,"question_id":61047265,"body_markdown":"Ran into these same exact build errors when using Ant 1.10.2, with OpenJDK 1.8_322 to compile netbeans-12.6-source.zip source. I decided to try Ant 1.10.12 (latest at this time) and found that by switching ANT_HOME on my (Windows 10) %PATH% from the old 1.10.2 path to the new 1.10.12 path fixed the errors somehow. Not sure what the difference is between Ant 1.10.2 and 1.10.12, but something within the source build must definitely be using new Ant features that do not exist in 1.10.2.","title":"problems when compiling netbeans from source 11.0","body":"<p>Ran into these same exact build errors when using Ant 1.10.2, with OpenJDK 1.8_322 to compile netbeans-12.6-source.zip source. I decided to try Ant 1.10.12 (latest at this time) and found that by switching ANT_HOME on my (Windows 10) %PATH% from the old 1.10.2 path to the new 1.10.12 path fixed the errors somehow. Not sure what the difference is between Ant 1.10.2 and 1.10.12, but something within the source build must definitely be using new Ant features that do not exist in 1.10.2.</p>\n"},{"tags":[],"owner":{"account_id":18441413,"reputation":41,"user_id":13433958,"display_name":"Aansh Savla"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678035285,"creation_date":1678035285,"answer_id":75643870,"question_id":61047265,"body_markdown":"I got the same issue while building using jdk-19. Just change it to jdk-17\r\nThe Gradle Tooling is built with Gradle 7.4, that does not support Java 19.\r\nhttps://github.com/apache/netbeans/discussions/4801","title":"problems when compiling netbeans from source 11.0","body":"<p>I got the same issue while building using jdk-19. Just change it to jdk-17\nThe Gradle Tooling is built with Gradle 7.4, that does not support Java 19.\n<a href=\"https://github.com/apache/netbeans/discussions/4801\" rel=\"nofollow noreferrer\">https://github.com/apache/netbeans/discussions/4801</a></p>\n"}],"owner":{"account_id":18176730,"reputation":23,"user_id":13225316,"display_name":"Lucas Sanches"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":324,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":71147373,"answer_count":3,"score":-2,"last_activity_date":1678035285,"creation_date":1586110408,"question_id":61047265,"body_markdown":"I&#39;m trying to building Netbeans 11.0 from source, and i&#39;m having some problems. Firstly i&#39;ve try to build the netbeans 11.0 with JDK 13.02 but some problems appeared and I believed that the JDK version was not compatible, so I downloaded the JDK 11.0.6 version and the same errors happened. So, I downloaded the JDK 8u241 version and the compilation finally seemed work, but, after minutes of compilation, the next intriguing error, which is why I come here to ask for help.\r\n```\r\nBUILD FAILED\r\nC:\\Program Files\\Netbeans\\nbbuild\\build.xml:514: The following error occurred while executing this line:\r\nC:\\Program Files\\Netbeans\\nbbuild\\build.xml:509: The following error occurred while executing this line:\r\nC:\\Program Files\\Netbeans\\nbbuild\\build.xml:556: The following error occurred while executing this line:\r\nC:\\Program Files\\Netbeans\\nb\\updatecenters\\build.xml:44: exec returned: 1\r\n\r\nTotal time: 32 minutes 28 seconds\r\n```\r\nI also included the code lines of xml archives that it showed.\r\n\r\nC:\\Program Files\\Netbeans\\nbbuild\\build.xml:514 :\r\n&lt;!-- language-all: lang-xml --&gt;\r\n```\r\n513   &lt;target name=&quot;build-clusters&quot; depends=&quot;init&quot;&gt;\r\n514       &lt;run-depend-build clusters-to-build=&quot;${nb.clusters.list}&quot;/&gt; \r\n515   &lt;/target&gt;\r\n```\r\nC:\\Program Files\\Netbeans\\nbbuild\\build.xml:509 :\r\n```\r\n506   &lt;macrodef name=&quot;run-depend-build&quot;&gt;\r\n507      &lt;attribute name=&quot;clusters-to-build&quot;/&gt;\r\n508      &lt;sequential&gt;\r\n509         &lt;repeat target=&quot;build-one-cluster&quot; name=&quot;one.cluster.name&quot; values=&quot;@{clusters-to-build}&quot; /&gt; \r\n510      &lt;/sequential&gt;\r\n511   &lt;/macrodef&gt;\r\n```\r\nC:\\Program Files\\Netbeans\\nbbuild\\build.xml:556 :\r\n```\r\n537   &lt;target name=&quot;build-one-cluster&quot; unless=&quot;${one.cluster.name}-is-built&quot; depends=&quot;build-one-cluster-check&quot;&gt;\r\n538      &lt;echo message=&quot;Building ${one.cluster.name} modules&quot;/&gt;\r\n539      &lt;resolve name=&quot;one-cluster-modules&quot; value=&quot;${one.cluster.name}&quot;/&gt;\r\n540      &lt;resolve name=&quot;one-cluster-dependencies&quot; value=&quot;${one.cluster.name}.depends&quot;/&gt;\r\n541      &lt;echo&gt;${one-cluster-modules}&lt;/echo&gt;\r\n542      &lt;echo&gt;Dependencies: ${one-cluster-dependencies}&lt;/echo&gt;\r\n543      &lt;insert-module-all-targets/&gt; &lt;!-- we are in a subproject, so need to reinsert the targets... XXX &lt;antcall&gt; and thus &lt;repeat&gt; apparently reparses the Ant script from disk! --&gt;\r\n544      &lt;antcall target=&quot;build-one-cluster-dependencies&quot; inheritAll=&quot;false&quot;&gt;\r\n545        &lt;param name=&quot;one.cluster.dependencies&quot; value=&quot;${one-cluster-dependencies}&quot;/&gt;\r\n546        &lt;param name=&quot;one.cluster.name&quot; value=&quot;${one.cluster.name}&quot;/&gt;\r\n547        &lt;param name=&quot;ext.binaries.downloaded&quot; value=&quot;true&quot;/&gt;\r\n548      &lt;/antcall&gt;\r\n549      &lt;mkdir dir=&quot;${netbeans.dest.dir}&quot;/&gt;\r\n550      &lt;nbmerge failonerror=&quot;${stop.when.broken.modules}&quot; \r\n551               dest=&quot;${netbeans.dest.dir}&quot; \r\n552               topdir=&quot;${nb_all}&quot; \r\n553               fixedmodules=&quot;${one-cluster-modules}&quot;\r\n554               builtmodulesproperty=&quot;${built.modules.property}&quot; \r\n555               targetprefix=&quot;all-&quot; \r\n556               mergedependentmodules=&quot;false&quot;&gt;\r\n557      &lt;/nbmerge&gt;\r\n558      &lt;touch file=&quot;${netbeans.dest.dir}/${one.cluster.name}.built&quot;/&gt;\r\n559   &lt;/target&gt;\r\n```\r\nC:\\Program Files\\Netbeans\\nb\\updatecenters\\build.xml:44 :\r\n```\r\n44   &lt;exec executable=&quot;${java.home}/bin/keytool&quot; failonerror=&quot;true&quot;&gt;\r\n45           &lt;arg value=&quot;-exportcert&quot;/&gt;\r\n46           &lt;arg line=&quot;-keystore ${netbeans.bundled.ks}&quot;/&gt;\r\n47           &lt;arg line=&quot;-alias netbeans-bundled&quot;/&gt;\r\n48           &lt;arg line=&quot;-storepass ${netbeans.bundled.ks}&quot;/&gt;\r\n49           &lt;arg line=&quot;-file ${netbeans.bundled.cert}&quot;/&gt;\r\n50   &lt;/exec&gt;\r\n```\r\n\r\nPS1: I know that the binary version is available and it is much easier but I am stubborn and I want to compile the source version LOL\r\n\r\nPS2: I made changes to the follow environment variables: JAVA_HOME, JAVA_PATH, ANT_HOME, PATH.\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"problems when compiling netbeans from source 11.0","body":"<p>I'm trying to building Netbeans 11.0 from source, and i'm having some problems. Firstly i've try to build the netbeans 11.0 with JDK 13.02 but some problems appeared and I believed that the JDK version was not compatible, so I downloaded the JDK 11.0.6 version and the same errors happened. So, I downloaded the JDK 8u241 version and the compilation finally seemed work, but, after minutes of compilation, the next intriguing error, which is why I come here to ask for help.</p>\n\n<pre><code>BUILD FAILED\nC:\\Program Files\\Netbeans\\nbbuild\\build.xml:514: The following error occurred while executing this line:\nC:\\Program Files\\Netbeans\\nbbuild\\build.xml:509: The following error occurred while executing this line:\nC:\\Program Files\\Netbeans\\nbbuild\\build.xml:556: The following error occurred while executing this line:\nC:\\Program Files\\Netbeans\\nb\\updatecenters\\build.xml:44: exec returned: 1\n\nTotal time: 32 minutes 28 seconds\n</code></pre>\n\n<p>I also included the code lines of xml archives that it showed.</p>\n\n<p>C:\\Program Files\\Netbeans\\nbbuild\\build.xml:514 :\n</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>513   &lt;target name=\"build-clusters\" depends=\"init\"&gt;\n514       &lt;run-depend-build clusters-to-build=\"${nb.clusters.list}\"/&gt; \n515   &lt;/target&gt;\n</code></pre>\n\n<p>C:\\Program Files\\Netbeans\\nbbuild\\build.xml:509 :</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>506   &lt;macrodef name=\"run-depend-build\"&gt;\n507      &lt;attribute name=\"clusters-to-build\"/&gt;\n508      &lt;sequential&gt;\n509         &lt;repeat target=\"build-one-cluster\" name=\"one.cluster.name\" values=\"@{clusters-to-build}\" /&gt; \n510      &lt;/sequential&gt;\n511   &lt;/macrodef&gt;\n</code></pre>\n\n<p>C:\\Program Files\\Netbeans\\nbbuild\\build.xml:556 :</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>537   &lt;target name=\"build-one-cluster\" unless=\"${one.cluster.name}-is-built\" depends=\"build-one-cluster-check\"&gt;\n538      &lt;echo message=\"Building ${one.cluster.name} modules\"/&gt;\n539      &lt;resolve name=\"one-cluster-modules\" value=\"${one.cluster.name}\"/&gt;\n540      &lt;resolve name=\"one-cluster-dependencies\" value=\"${one.cluster.name}.depends\"/&gt;\n541      &lt;echo&gt;${one-cluster-modules}&lt;/echo&gt;\n542      &lt;echo&gt;Dependencies: ${one-cluster-dependencies}&lt;/echo&gt;\n543      &lt;insert-module-all-targets/&gt; &lt;!-- we are in a subproject, so need to reinsert the targets... XXX &lt;antcall&gt; and thus &lt;repeat&gt; apparently reparses the Ant script from disk! --&gt;\n544      &lt;antcall target=\"build-one-cluster-dependencies\" inheritAll=\"false\"&gt;\n545        &lt;param name=\"one.cluster.dependencies\" value=\"${one-cluster-dependencies}\"/&gt;\n546        &lt;param name=\"one.cluster.name\" value=\"${one.cluster.name}\"/&gt;\n547        &lt;param name=\"ext.binaries.downloaded\" value=\"true\"/&gt;\n548      &lt;/antcall&gt;\n549      &lt;mkdir dir=\"${netbeans.dest.dir}\"/&gt;\n550      &lt;nbmerge failonerror=\"${stop.when.broken.modules}\" \n551               dest=\"${netbeans.dest.dir}\" \n552               topdir=\"${nb_all}\" \n553               fixedmodules=\"${one-cluster-modules}\"\n554               builtmodulesproperty=\"${built.modules.property}\" \n555               targetprefix=\"all-\" \n556               mergedependentmodules=\"false\"&gt;\n557      &lt;/nbmerge&gt;\n558      &lt;touch file=\"${netbeans.dest.dir}/${one.cluster.name}.built\"/&gt;\n559   &lt;/target&gt;\n</code></pre>\n\n<p>C:\\Program Files\\Netbeans\\nb\\updatecenters\\build.xml:44 :</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>44   &lt;exec executable=\"${java.home}/bin/keytool\" failonerror=\"true\"&gt;\n45           &lt;arg value=\"-exportcert\"/&gt;\n46           &lt;arg line=\"-keystore ${netbeans.bundled.ks}\"/&gt;\n47           &lt;arg line=\"-alias netbeans-bundled\"/&gt;\n48           &lt;arg line=\"-storepass ${netbeans.bundled.ks}\"/&gt;\n49           &lt;arg line=\"-file ${netbeans.bundled.cert}\"/&gt;\n50   &lt;/exec&gt;\n</code></pre>\n\n<p>PS1: I know that the binary version is available and it is much easier but I am stubborn and I want to compile the source version LOL</p>\n\n<p>PS2: I made changes to the follow environment variables: JAVA_HOME, JAVA_PATH, ANT_HOME, PATH.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1678029423,"post_id":75643021,"comment_id":133449956,"body_markdown":"Try instead `java.util.regex.Pattern.quote(p.toLowerCase())`","body":"Try instead <code>java.util.regex.Pattern.quote(p.toLowerCase())</code>"},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1678029488,"post_id":75643021,"comment_id":133449968,"body_markdown":"Can you show me complete answer please?","body":"Can you show me complete answer please?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1678029623,"post_id":75643021,"comment_id":133449987,"body_markdown":"That *is* the answer to your current problem. Just substitute it for what you have now (keeping the rest)","body":"That <i>is</i> the answer to your current problem. Just substitute it for what you have now (keeping the rest)"}],"answers":[{"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1678029814,"post_id":75643238,"comment_id":133450022,"body_markdown":"Personally I wouldn&#39;t try to parse sentences by splitting on spaces. The JDK already contains a specialized class for parsing sentences (`BreakIterator`)","body":"Personally I wouldn&#39;t try to parse sentences by splitting on spaces. The JDK already contains a specialized class for parsing sentences (<code>BreakIterator</code>)"}],"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678030867,"creation_date":1678029526,"answer_id":75643238,"question_id":75643021,"body_markdown":"You could just split the `document` at space and filter the substrings which the array contains\r\n\r\n    List&lt;String&gt; findPhrasesInDocument(String document, List&lt;String&gt; phrases) {\r\n        List&lt;String&gt; docList = Arrays.asList(document.toLowerCase().split(&quot;\\\\s+&quot;));\r\n        return phrases\r\n                .stream()\r\n                .filter(p -&gt; docList.contains(p.toLowerCase()))\r\n                .collect(Collectors.toList());\r\n    }\r\n\r\nOr if you want to keep the regex approach, change your pattern to something like \r\n\r\n`&quot;(^|\\\\s)&quot;+ Pattern.quote(p.toLowerCase()) + &quot;(\\\\s|$)&quot;`\r\n\r\n    List&lt;String&gt; findPhrasesInDocument(String document, List&lt;String&gt; phrases) {\r\n        return phrases\r\n                .stream()\r\n                .filter(p -&gt; Pattern.compile(&quot;(^|\\\\s)&quot;+ Pattern.quote(p.toLowerCase()) + &quot;(\\\\s|$)&quot;)\r\n                                    .asPredicate()\r\n                                    .test(document.toLowerCase()))\r\n                .collect(Collectors.toList());\r\n    }","title":"find special exact word match and filter symbols","body":"<p>You could just split the <code>document</code> at space and filter the substrings which the array contains</p>\n<pre><code>List&lt;String&gt; findPhrasesInDocument(String document, List&lt;String&gt; phrases) {\n    List&lt;String&gt; docList = Arrays.asList(document.toLowerCase().split(&quot;\\\\s+&quot;));\n    return phrases\n            .stream()\n            .filter(p -&gt; docList.contains(p.toLowerCase()))\n            .collect(Collectors.toList());\n}\n</code></pre>\n<p>Or if you want to keep the regex approach, change your pattern to something like</p>\n<p><code>&quot;(^|\\\\s)&quot;+ Pattern.quote(p.toLowerCase()) + &quot;(\\\\s|$)&quot;</code></p>\n<pre><code>List&lt;String&gt; findPhrasesInDocument(String document, List&lt;String&gt; phrases) {\n    return phrases\n            .stream()\n            .filter(p -&gt; Pattern.compile(&quot;(^|\\\\s)&quot;+ Pattern.quote(p.toLowerCase()) + &quot;(\\\\s|$)&quot;)\n                                .asPredicate()\n                                .test(document.toLowerCase()))\n            .collect(Collectors.toList());\n}\n</code></pre>\n"}],"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75643238,"answer_count":1,"score":1,"last_activity_date":1678034900,"creation_date":1678027422,"question_id":75643021,"body_markdown":"I implemented this code in order to find a complete words in a sentence:\r\n\r\n        @Test\r\n        void justAnExample() {\r\n            List&lt;String&gt; list = findPhrasesInDocument(&quot;adventure dream is a fun c&quot;, List.of(&quot;dre&quot;, &quot;adve&quot;, &quot;dream&quot;, &quot;long program&quot;, &quot;Adventure&quot;, &quot;a&quot;, &quot;c++&quot;));\r\n    \r\n            System.out.print(String.join(&quot;\\n&quot;, list));\r\n        }\r\n    \r\n        List&lt;String&gt; findPhrasesInDocument(String document, List&lt;String&gt; phrases) {\r\n            return phrases\r\n                    .stream()\r\n                    .filter(p -&gt; document.toLowerCase().matches(&quot;.*\\\\b&quot; + p.toLowerCase() + &quot;\\\\b.*&quot;))\r\n                    .collect(Collectors.toList());\r\n        }\r\n\r\nThe result is:\r\n\r\n    dream\r\n    Adventure\r\n    a\r\n    c++\r\n\r\nAs you can see `c++` is not correct. How I have to implement the regex expression in order to filter the word properly?","title":"find special exact word match and filter symbols","body":"<p>I implemented this code in order to find a complete words in a sentence:</p>\n<pre><code>    @Test\n    void justAnExample() {\n        List&lt;String&gt; list = findPhrasesInDocument(&quot;adventure dream is a fun c&quot;, List.of(&quot;dre&quot;, &quot;adve&quot;, &quot;dream&quot;, &quot;long program&quot;, &quot;Adventure&quot;, &quot;a&quot;, &quot;c++&quot;));\n\n        System.out.print(String.join(&quot;\\n&quot;, list));\n    }\n\n    List&lt;String&gt; findPhrasesInDocument(String document, List&lt;String&gt; phrases) {\n        return phrases\n                .stream()\n                .filter(p -&gt; document.toLowerCase().matches(&quot;.*\\\\b&quot; + p.toLowerCase() + &quot;\\\\b.*&quot;))\n                .collect(Collectors.toList());\n    }\n</code></pre>\n<p>The result is:</p>\n<pre><code>dream\nAdventure\na\nc++\n</code></pre>\n<p>As you can see <code>c++</code> is not correct. How I have to implement the regex expression in order to filter the word properly?</p>\n"},{"tags":["java","methods","text-files"],"comments":[{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":1,"creation_date":1677985572,"post_id":75639907,"comment_id":133444832,"body_markdown":"Your code is currently counting the number of lines in the file in an inefficient way. I would start by formatting your code with an automated formatter - Eclipse can do this easily. That will likely highlight one problem with your if-statement, but it will also make the code readable for your audience on StackOverflow.","body":"Your code is currently counting the number of lines in the file in an inefficient way. I would start by formatting your code with an automated formatter - Eclipse can do this easily. That will likely highlight one problem with your if-statement, but it will also make the code readable for your audience on StackOverflow."}],"answers":[{"comments":[{"owner":{"account_id":27910787,"reputation":33,"user_id":21313034,"display_name":"JustSomeProgrammer"},"score":0,"creation_date":1677985603,"post_id":75639964,"comment_id":133444837,"body_markdown":"I&#39;ll reword the desc., but the person wanted it *structured* in the form of having a method whereas countChar only has the parameters (File, file) and must be constructed into the form of a method. Thank you for the help, though","body":"I&#39;ll reword the desc., but the person wanted it <i>structured</i> in the form of having a method whereas countChar only has the parameters (File, file) and must be constructed into the form of a method. Thank you for the help, though"}],"tags":[],"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1677985204,"creation_date":1677985204,"answer_id":75639964,"question_id":75639907,"body_markdown":"*the person I&#39;m sending this code in for wants it to look similar to this* No they don&#39;t. This code violates several coding conventions in Java; `Problem9` is a terrible and undescriptive method name. You are counting the appearance of a `char`. Don&#39;t hardcode that `char` - pass it to the method and give the method a proper name, like `countChar`. Iterate the lines of your file and then iterate the contents of the line looking for the `char`. Next, don&#39;t calculate the result and print it **in** the constructor. I would make `countChar` static, but assuming you must instantiate your class I would do so in `main` and then invoke the method. Like,\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tModule4Labs m4l = new Module4Labs();\r\n\t\tdouble problemSolution = m4l.countChar(new File(&quot;Problem9.txt&quot;), &#39;a&#39;);\r\n\t\tSystem.out.println(problemSolution);\r\n\t}\r\n\r\n\tpublic int countChar(File file, char ch) {\r\n\t\tint counter = 0;\r\n\t\t// This is a try-with-Resources, don&#39;t hard code input.close();\r\n\t\ttry (Scanner input = new Scanner(file)) {\r\n\t\t\twhile (input.hasNextLine()) {\r\n\t\t\t\tString line = input.nextLine();\r\n\t\t\t\tfor (int i = 0; i &lt; line.length(); i++) {\r\n\t\t\t\t\tif (line.charAt(i) == ch) {\r\n\t\t\t\t\t\tcounter++;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} catch (FileNotFoundException e) {\r\n\t\t\tSystem.out.println(file + &quot; File Not Found.&quot;);\r\n\t\t}\r\n\t\treturn counter;\r\n\t}","title":"How to return amount of a certain letters from a text file using a method","body":"<p><em>the person I'm sending this code in for wants it to look similar to this</em> No they don't. This code violates several coding conventions in Java; <code>Problem9</code> is a terrible and undescriptive method name. You are counting the appearance of a <code>char</code>. Don't hardcode that <code>char</code> - pass it to the method and give the method a proper name, like <code>countChar</code>. Iterate the lines of your file and then iterate the contents of the line looking for the <code>char</code>. Next, don't calculate the result and print it <strong>in</strong> the constructor. I would make <code>countChar</code> static, but assuming you must instantiate your class I would do so in <code>main</code> and then invoke the method. Like,</p>\n<pre><code>public static void main(String[] args) {\n    Module4Labs m4l = new Module4Labs();\n    double problemSolution = m4l.countChar(new File(&quot;Problem9.txt&quot;), 'a');\n    System.out.println(problemSolution);\n}\n\npublic int countChar(File file, char ch) {\n    int counter = 0;\n    // This is a try-with-Resources, don't hard code input.close();\n    try (Scanner input = new Scanner(file)) {\n        while (input.hasNextLine()) {\n            String line = input.nextLine();\n            for (int i = 0; i &lt; line.length(); i++) {\n                if (line.charAt(i) == ch) {\n                    counter++;\n                }\n            }\n        }\n    } catch (FileNotFoundException e) {\n        System.out.println(file + &quot; File Not Found.&quot;);\n    }\n    return counter;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":250529,"reputation":11921,"user_id":527312,"accept_rate":73,"display_name":"ktm5124"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677987665,"creation_date":1677987665,"answer_id":75640059,"question_id":75639907,"body_markdown":"We can also use the `java.nio.file` package to accomplish this task. For example,\r\n\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.nio.file.Files;\r\n    \r\n    public class CharacterFrequency {\r\n        private String str;\r\n    \r\n        public CharacterFrequency(File file) {\r\n            try {\r\n                this.str = Files.readString(file.toPath());\r\n            } catch (IOException e) {\r\n                System.err.println(e);\r\n            }\r\n        }\r\n    \r\n        public int getFrequency(char a) {\r\n            int frequency = 0;\r\n            for (char b : str.toCharArray()) {\r\n                if (a == b) {\r\n                    frequency++;\r\n                }\r\n            }\r\n            return frequency;\r\n        }\r\n    \r\n        public void showFrequency(char a) {\r\n            int frequency = getFrequency(a);\r\n            System.out.printf(&quot;The character %c appears %d times\\n&quot;, a, frequency);\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            if (args.length &lt; 1) {\r\n                System.out.println(&quot;Usage: java CharacterFrequency.java path/to/file&quot;);\r\n                return;\r\n            }\r\n            File f = new File(args[0]);\r\n            CharacterFrequency cf = new CharacterFrequency(f);\r\n            cf.showFrequency(&#39;a&#39;);\r\n            cf.showFrequency(&#39;z&#39;);\r\n            cf.showFrequency(&#39;g&#39;);\r\n            cf.showFrequency(&#39;p&#39;);\r\n        }\r\n    }\r\n\r\n\r\nI created a file example.txt that has these contents:\r\n\r\n    The soccer player scored a goal.\r\n\r\nI saved the file example.txt to the same directory as CharacterFrequency.java. \r\n\r\nThen I ran the command:\r\n\r\n    % java CharacterFrequency.java example.txt\r\n    The character a appears 3 times\r\n    The character z appears 0 times\r\n    The character g appears 1 times\r\n    The character p appears 1 times","title":"How to return amount of a certain letters from a text file using a method","body":"<p>We can also use the <code>java.nio.file</code> package to accomplish this task. For example,</p>\n<pre><code>import java.io.File;\nimport java.io.IOException;\nimport java.nio.file.Files;\n\npublic class CharacterFrequency {\n    private String str;\n\n    public CharacterFrequency(File file) {\n        try {\n            this.str = Files.readString(file.toPath());\n        } catch (IOException e) {\n            System.err.println(e);\n        }\n    }\n\n    public int getFrequency(char a) {\n        int frequency = 0;\n        for (char b : str.toCharArray()) {\n            if (a == b) {\n                frequency++;\n            }\n        }\n        return frequency;\n    }\n\n    public void showFrequency(char a) {\n        int frequency = getFrequency(a);\n        System.out.printf(&quot;The character %c appears %d times\\n&quot;, a, frequency);\n    }\n\n    public static void main(String[] args) {\n        if (args.length &lt; 1) {\n            System.out.println(&quot;Usage: java CharacterFrequency.java path/to/file&quot;);\n            return;\n        }\n        File f = new File(args[0]);\n        CharacterFrequency cf = new CharacterFrequency(f);\n        cf.showFrequency('a');\n        cf.showFrequency('z');\n        cf.showFrequency('g');\n        cf.showFrequency('p');\n    }\n}\n</code></pre>\n<p>I created a file example.txt that has these contents:</p>\n<pre><code>The soccer player scored a goal.\n</code></pre>\n<p>I saved the file example.txt to the same directory as CharacterFrequency.java.</p>\n<p>Then I ran the command:</p>\n<pre><code>% java CharacterFrequency.java example.txt\nThe character a appears 3 times\nThe character z appears 0 times\nThe character g appears 1 times\nThe character p appears 1 times\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678034679,"creation_date":1678031354,"answer_id":75643429,"question_id":75639907,"body_markdown":"Other code samples use linewise reading and/or create strings. This is unnecessary - just read `char`s:\r\n\r\n    import java.io.Reader;\r\n    import java.io.IOException;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Path;\r\n    \r\n    public class CharacterFrequency {\r\n    \r\n        public static int getFrequency(Path inputPath, char c) throws IOException {\r\n            int frequency = 0;\r\n            int buf = -1;\r\n            try (Reader in = Files.newBufferedReader(inputPath)) {\r\n                while ((buf = in.read()) &gt; -1) {\r\n                    if (buf == c) {\r\n                        frequency++;\r\n                    }\r\n                }\r\n            }\r\n            return frequency;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            try {\r\n                if (args.length &lt; 2) {\r\n                    System.err.println(&quot;Usage: java CharacterFrequency &lt;path/to/file&gt; &lt;character to find&gt;&quot;);\r\n                    System.exit(1);\r\n                }\r\n                Path inputPath = Path.of(args[0]);\r\n                char c = args[1].charAt(0);\r\n                System.out.printf(&quot;Frequency of character %c in file %s is %d%n&quot;, c, inputPath.toString(),\r\n                        CharacterFrequency.getFrequency(inputPath, c));\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"How to return amount of a certain letters from a text file using a method","body":"<p>Other code samples use linewise reading and/or create strings. This is unnecessary - just read <code>char</code>s:</p>\n<pre><code>import java.io.Reader;\nimport java.io.IOException;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\n\npublic class CharacterFrequency {\n\n    public static int getFrequency(Path inputPath, char c) throws IOException {\n        int frequency = 0;\n        int buf = -1;\n        try (Reader in = Files.newBufferedReader(inputPath)) {\n            while ((buf = in.read()) &gt; -1) {\n                if (buf == c) {\n                    frequency++;\n                }\n            }\n        }\n        return frequency;\n    }\n\n    public static void main(String[] args) {\n        try {\n            if (args.length &lt; 2) {\n                System.err.println(&quot;Usage: java CharacterFrequency &lt;path/to/file&gt; &lt;character to find&gt;&quot;);\n                System.exit(1);\n            }\n            Path inputPath = Path.of(args[0]);\n            char c = args[1].charAt(0);\n            System.out.printf(&quot;Frequency of character %c in file %s is %d%n&quot;, c, inputPath.toString(),\n                    CharacterFrequency.getFrequency(inputPath, c));\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27910787,"reputation":33,"user_id":21313034,"display_name":"JustSomeProgrammer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75639964,"answer_count":3,"score":1,"last_activity_date":1678034679,"creation_date":1677983768,"question_id":75639907,"body_markdown":"Assuming I have a text file filled with random words or letters, I need to be able to increment the amount of times a letter is seen. For this example, I am trying to find the letter &#39;a&#39;. While the program does compile and return a number, the number can either be too high or low concerning the amount of the certain letter I&#39;m looking for. Changing my code around, how can I fix this?\r\n\r\nOh! I should mention that the person I&#39;m sending this code in for wants it to be structured in the form of having a method whereas Problem9 only has the parameters (File, file) and must be constructed into the form of a method\r\n\r\n```\r\npackage module4labs;\r\nimport java.io.File;\r\nimport java.io.FileNotFoundException;\r\nimport java.util.Scanner;\r\nimport java.util.ArrayList;\r\nimport java.util.InputMismatchException;\r\n\r\npublic class Module4Labs {\r\n\tpublic static void main(String[] args) {\r\n\t\tnew Module4Labs();\r\n\t}\r\n\t\r\n\tpublic Module4Labs() {\r\n\t\tdouble problemSolution = Problem9(new File(&quot;Problem9.txt&quot;));\r\n\t\t\t\tSystem.out.println(problemSolution);\t\t\r\n\t}\r\n\r\n//Problem 9: Find &#39;a&#39;\r\npublic int Problem9(File file) {\r\n\tint counter =0;\r\n    try {\r\n    Scanner input = new Scanner(file);\r\n    ArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n\twhile(input.hasNext()) {\r\n\t\tlist.add(input.next());\r\n\t}\r\n\t\r\n\tfor (int x=0; x&lt;list.size()-1;x++) {\r\n\t\tif (list.subList(x,x+1).equals(&#39;a&#39;));\r\n\t\tcounter++;\r\n\t}\r\n    input.close();\r\n } catch (FileNotFoundException e) {\r\n    System.out.println(file + &quot;File Not Found.&quot;);\r\n    }\r\n return counter;\r\n\r\n}\r\n```\r\n\r\n\r\nCurrently, I&#39;m getting a warning from Eclipse saying &quot;Unlikely argument type for equals(): char seems to be unrelated to List&lt;String&gt;&quot;\r\n\r\nUnsure on how to continue with this\r\n","title":"How to return amount of a certain letters from a text file using a method","body":"<p>Assuming I have a text file filled with random words or letters, I need to be able to increment the amount of times a letter is seen. For this example, I am trying to find the letter 'a'. While the program does compile and return a number, the number can either be too high or low concerning the amount of the certain letter I'm looking for. Changing my code around, how can I fix this?</p>\n<p>Oh! I should mention that the person I'm sending this code in for wants it to be structured in the form of having a method whereas Problem9 only has the parameters (File, file) and must be constructed into the form of a method</p>\n<pre><code>package module4labs;\nimport java.io.File;\nimport java.io.FileNotFoundException;\nimport java.util.Scanner;\nimport java.util.ArrayList;\nimport java.util.InputMismatchException;\n\npublic class Module4Labs {\n    public static void main(String[] args) {\n        new Module4Labs();\n    }\n    \n    public Module4Labs() {\n        double problemSolution = Problem9(new File(&quot;Problem9.txt&quot;));\n                System.out.println(problemSolution);        \n    }\n\n//Problem 9: Find 'a'\npublic int Problem9(File file) {\n    int counter =0;\n    try {\n    Scanner input = new Scanner(file);\n    ArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;();\n    while(input.hasNext()) {\n        list.add(input.next());\n    }\n    \n    for (int x=0; x&lt;list.size()-1;x++) {\n        if (list.subList(x,x+1).equals('a'));\n        counter++;\n    }\n    input.close();\n } catch (FileNotFoundException e) {\n    System.out.println(file + &quot;File Not Found.&quot;);\n    }\n return counter;\n\n}\n</code></pre>\n<p>Currently, I'm getting a warning from Eclipse saying &quot;Unlikely argument type for equals(): char seems to be unrelated to List&quot;</p>\n<p>Unsure on how to continue with this</p>\n"},{"tags":["java","csv","jdbc","recommendation-engine","lenskit"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":3,"creation_date":1677899421,"post_id":75633292,"comment_id":133433739,"body_markdown":"The evidence suggests that you have *inconsistent* dependencies on your runtime classpath.  Check that your dependency versions are consistent.","body":"The evidence suggests that you have <i>inconsistent</i> dependencies on your runtime classpath.  Check that your dependency versions are consistent."}],"answers":[{"comments":[{"owner":{"account_id":26424830,"reputation":1,"user_id":20071955,"display_name":"Drake Nguyen"},"score":0,"creation_date":1678092953,"post_id":75643774,"comment_id":133459726,"body_markdown":"Thanks for helping me. By the way, what classes will/have to be replaced by SparseVector related classes and Lenskit for java also be support in the future not? Thanks alot.","body":"Thanks for helping me. By the way, what classes will/have to be replaced by SparseVector related classes and Lenskit for java also be support in the future not? Thanks alot."},{"owner":{"account_id":26424830,"reputation":1,"user_id":20071955,"display_name":"Drake Nguyen"},"score":0,"creation_date":1678093898,"post_id":75643774,"comment_id":133459965,"body_markdown":"I am researching recommendation systems supporting job requirements websites so Should I consider using Lenskit? (My project is a graduation project)","body":"I am researching recommendation systems supporting job requirements websites so Should I consider using Lenskit? (My project is a graduation project)"},{"owner":{"account_id":44612,"reputation":28559,"user_id":1385039,"accept_rate":74,"display_name":"Michael Ekstrand"},"score":0,"creation_date":1678121329,"post_id":75643774,"comment_id":133467895,"body_markdown":"@DrakeNguyen LensKit for Java is no longer supported. If there&#39;s a critical bug affecting a production deployment, will try to fix that, but there is no ongoing maintenance or testing. I would definitely recommend considering LensKit (although I&#39;m obviously a bit biased), but the Python version is the one with ongoing support. `SparseVector` is still in use in the last version of LensKit for Java.","body":"@DrakeNguyen LensKit for Java is no longer supported. If there&#39;s a critical bug affecting a production deployment, will try to fix that, but there is no ongoing maintenance or testing. I would definitely recommend considering LensKit (although I&#39;m obviously a bit biased), but the Python version is the one with ongoing support. <code>SparseVector</code> is still in use in the last version of LensKit for Java."}],"tags":[],"owner":{"account_id":44612,"reputation":28559,"user_id":1385039,"accept_rate":74,"display_name":"Michael Ekstrand"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678034358,"creation_date":1678034358,"answer_id":75643774,"question_id":75633292,"body_markdown":"LensKit maintainer here.\r\n\r\nI am not sure what precisely is happening with this error. It doesn&#39;t look like one of the usual failure modes, but @Stephen-C&#39;s suggestion that it is a dependency mismatch sounds likely.  The dependencies should all match if you&#39;re getting them from Maven Central with either Maven or Gradle, but it&#39;s worth checking a full dependency list for your project to make sure you have the right versions.\r\n\r\nLensKit for Java has not been maintained since 2018, and was last known to work on Java 8. In Java 9, Oracle broke Java&#39;s backwards compatibility in ways that affected LensKit, and I was not able to find a solution before shifting development and maintenance effort to LensKit for Python.  If you really need to use the Java version, and the dependencies are correct, try with Java 8 (so long as the application isn&#39;t network-facing).","title":"Exception in thread &quot;main&quot; java.lang.NoSuchMethodError in Lenskit for Java","body":"<p>LensKit maintainer here.</p>\n<p>I am not sure what precisely is happening with this error. It doesn't look like one of the usual failure modes, but @Stephen-C's suggestion that it is a dependency mismatch sounds likely.  The dependencies should all match if you're getting them from Maven Central with either Maven or Gradle, but it's worth checking a full dependency list for your project to make sure you have the right versions.</p>\n<p>LensKit for Java has not been maintained since 2018, and was last known to work on Java 8. In Java 9, Oracle broke Java's backwards compatibility in ways that affected LensKit, and I was not able to find a solution before shifting development and maintenance effort to LensKit for Python.  If you really need to use the Java version, and the dependencies are correct, try with Java 8 (so long as the application isn't network-facing).</p>\n"}],"owner":{"account_id":26424830,"reputation":1,"user_id":20071955,"display_name":"Drake Nguyen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":245,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1678271957,"answer_count":1,"score":0,"last_activity_date":1678034358,"creation_date":1677896944,"question_id":75633292,"body_markdown":"I am researching with Lenskit for Java, I wanna load file with CSV file. I using TextEntitySource to load source but I got error.\r\n\r\n```\r\nimport java.io.File;\r\nimport java.io.IOException;\r\n\r\nimport org.lenskit.data.dao.file.TextEntitySource;\r\n\r\npublic class MainCTF {\r\n\tpublic static void main(String[] args) throws IOException {\r\n\t\tTextEntitySource entitySource = new TextEntitySource();\r\n\t\tFile file = new File(&quot;D:\\\\newdocres\\\\dataset\\\\item_feature_matrix.csv&quot;);\r\n\t\tentitySource.setFile(file.toPath());\r\n\t}\r\n}\r\n```\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.NoSuchMethodError: &#39;com.google.common.io.ByteSource org.grouplens.lenskit.util.io.LKFileUtils.byteSource(java.io.File, org.grouplens.lenskit.util.io.CompressionMode)&#39;\r\n\tat org.lenskit.data.dao.file.TextEntitySource.setFile(TextEntitySource.java:107)\r\n\tat main.MainCTF.main(MainCTF.java:17)\r\n```\r\n\r\nSo How to can load a file CSV or using JDBC in Lenskit for java","title":"Exception in thread &quot;main&quot; java.lang.NoSuchMethodError in Lenskit for Java","body":"<p>I am researching with Lenskit for Java, I wanna load file with CSV file. I using TextEntitySource to load source but I got error.</p>\n<pre><code>import java.io.File;\nimport java.io.IOException;\n\nimport org.lenskit.data.dao.file.TextEntitySource;\n\npublic class MainCTF {\n    public static void main(String[] args) throws IOException {\n        TextEntitySource entitySource = new TextEntitySource();\n        File file = new File(&quot;D:\\\\newdocres\\\\dataset\\\\item_feature_matrix.csv&quot;);\n        entitySource.setFile(file.toPath());\n    }\n}\n</code></pre>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: 'com.google.common.io.ByteSource org.grouplens.lenskit.util.io.LKFileUtils.byteSource(java.io.File, org.grouplens.lenskit.util.io.CompressionMode)'\n    at org.lenskit.data.dao.file.TextEntitySource.setFile(TextEntitySource.java:107)\n    at main.MainCTF.main(MainCTF.java:17)\n</code></pre>\n<p>So How to can load a file CSV or using JDBC in Lenskit for java</p>\n"},{"tags":["java","json","string"],"comments":[{"owner":{"account_id":4034876,"reputation":1557,"user_id":3319725,"display_name":"AnatolyG"},"score":0,"creation_date":1613562824,"post_id":66238495,"comment_id":117111198,"body_markdown":"If you really need to get the result file, but not the entire text in the memory, I wouldn&#39;t use the receipts below, but just read the original file line by line, make a trim and write the result string to the output file:  try (BufferedWriter/FileWiter output = ...; Stream&lt;String&gt; stream = Files.lines(Paths.get(fileName))) { stream.forEach( /* trim and write the result string into output}}. Store only what is really required to make your job, save your resources :)","body":"If you really need to get the result file, but not the entire text in the memory, I wouldn&#39;t use the receipts below, but just read the original file line by line, make a trim and write the result string to the output file:  try (BufferedWriter/FileWiter output = ...; Stream&lt;String&gt; stream = Files.lines(Paths.get(fileName))) { stream.forEach( /* trim and write the result string into output}}. Store only what is really required to make your job, save your resources :)"},{"owner":{"account_id":20369125,"reputation":255,"user_id":14941698,"display_name":"Uncle Sam"},"score":0,"creation_date":1614053097,"post_id":66238495,"comment_id":117260259,"body_markdown":"Makes sense, Thankyou! :)","body":"Makes sense, Thankyou! :)"}],"answers":[{"tags":[],"owner":{"account_id":15888447,"reputation":1197,"user_id":11464237,"display_name":"Domenico Sibilio"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1613552186,"creation_date":1613552186,"answer_id":66238651,"question_id":66238495,"body_markdown":"If you read the file contents via `Files.readAllLines(Path)` then you already get each line as a different item in a list, which you can in turn merge together into a single line.\r\n\r\nFor example:\r\n\r\n```java\r\nString oneLine = Files.readAllLines(Paths.get(&quot;input.json&quot;))\r\n.stream()\r\n.reduce(String::concat)\r\n.orElseThrow();\r\n\r\nSystem.out.println(oneLine);\r\n```","title":"How to convert pretty format json file into a simple single line json file using java?","body":"<p>If you read the file contents via <code>Files.readAllLines(Path)</code> then you already get each line as a different item in a list, which you can in turn merge together into a single line.</p>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String oneLine = Files.readAllLines(Paths.get(&quot;input.json&quot;))\n.stream()\n.reduce(String::concat)\n.orElseThrow();\n\nSystem.out.println(oneLine);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":20369125,"reputation":255,"user_id":14941698,"display_name":"Uncle Sam"},"score":2,"creation_date":1613555372,"post_id":66239258,"comment_id":117107831,"body_markdown":"Domenico Sibilio and Harshal Parekh it worked as expected, thanks!!","body":"Domenico Sibilio and Harshal Parekh it worked as expected, thanks!!"},{"owner":{"account_id":3186446,"reputation":472,"user_id":4527472,"accept_rate":0,"display_name":"BHARAT GUPTA"},"score":0,"creation_date":1636731697,"post_id":66239258,"comment_id":123642706,"body_markdown":"Hi @Harshal Parekh , it is working as expected but my json is very large, any way to make process fat, it is taking some time for me","body":"Hi @Harshal Parekh , it is working as expected but my json is very large, any way to make process fat, it is taking some time for me"}],"tags":[],"owner":{"account_id":11502933,"reputation":5909,"user_id":8430155,"display_name":"Harshal Parekh"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1613554683,"creation_date":1613554683,"answer_id":66239258,"question_id":66238495,"body_markdown":"A better and more complete version of [this answer][1] with proper error handling and removal of extra spaces.\r\n\r\nOne problem of the referred answer is that it uses `.concat()` without `.trim()` - a very deeply nested pretty-JSON&#39;s indents will be visible as extra spaces in final output.\r\n\r\n    String unprettyJSON = null;\r\n \r\n    try {\r\n        unprettyJSON = Files.readAllLines(Paths.get(&quot;pretty.json&quot;))\r\n                            .stream()\r\n                            .map(String::trim)\r\n                            .reduce(String::concat)\r\n                            .orElseThrow(FileNotFoundException::new);\r\n    } catch (IOException e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\nOutput with trim:\r\n\r\n    [{&quot;Employee ID&quot;: 1,&quot;Name&quot;: &quot;Abhishek&quot;,&quot;Designation&quot;: &quot;Software Engineer&quot;},{&quot;Employee ID&quot;: 2,&quot;Name&quot;: &quot;Garima&quot;,&quot;Designation&quot;: &quot;Email Marketing Specialist&quot;}][{&quot;Employee ID&quot;: 1,&quot;Name&quot;: &quot;Abhishek&quot;,&quot;Designation&quot;: &quot;Software Engineer&quot;},{&quot;Employee ID&quot;: 2,&quot;Name&quot;: &quot;Garima&quot;,&quot;Designation&quot;: &quot;Email Marketing Specialist&quot;}]\r\n\r\nOutput without trim:\r\n    \r\n    [ {  &quot;Employee ID&quot;: 1,  &quot;Name&quot;: &quot;Abhishek&quot;,  &quot;Designation&quot;: &quot;Software Engineer&quot; }, {  &quot;Employee ID&quot;: 2,  &quot;Name&quot;: &quot;Garima&quot;,  &quot;Designation&quot;: &quot;Email Marketing Specialist&quot; }][   {      &quot;Employee ID&quot;: 1,      &quot;Name&quot;: &quot;Abhishek&quot;,      &quot;Designation&quot;: &quot;Software Engineer&quot;   },   {      &quot;Employee ID&quot;: 2,      &quot;Name&quot;: &quot;Garima&quot;,      &quot;Designation&quot;: &quot;Email Marketing Specialist&quot;   }]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/66238651/8430155","title":"How to convert pretty format json file into a simple single line json file using java?","body":"<p>A better and more complete version of <a href=\"https://stackoverflow.com/a/66238651/8430155\">this answer</a> with proper error handling and removal of extra spaces.</p>\n<p>One problem of the referred answer is that it uses <code>.concat()</code> without <code>.trim()</code> - a very deeply nested pretty-JSON's indents will be visible as extra spaces in final output.</p>\n<pre><code>String unprettyJSON = null;\n\ntry {\n    unprettyJSON = Files.readAllLines(Paths.get(&quot;pretty.json&quot;))\n                        .stream()\n                        .map(String::trim)\n                        .reduce(String::concat)\n                        .orElseThrow(FileNotFoundException::new);\n} catch (IOException e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p>Output with trim:</p>\n<pre><code>[{&quot;Employee ID&quot;: 1,&quot;Name&quot;: &quot;Abhishek&quot;,&quot;Designation&quot;: &quot;Software Engineer&quot;},{&quot;Employee ID&quot;: 2,&quot;Name&quot;: &quot;Garima&quot;,&quot;Designation&quot;: &quot;Email Marketing Specialist&quot;}][{&quot;Employee ID&quot;: 1,&quot;Name&quot;: &quot;Abhishek&quot;,&quot;Designation&quot;: &quot;Software Engineer&quot;},{&quot;Employee ID&quot;: 2,&quot;Name&quot;: &quot;Garima&quot;,&quot;Designation&quot;: &quot;Email Marketing Specialist&quot;}]\n</code></pre>\n<p>Output without trim:</p>\n<pre><code>[ {  &quot;Employee ID&quot;: 1,  &quot;Name&quot;: &quot;Abhishek&quot;,  &quot;Designation&quot;: &quot;Software Engineer&quot; }, {  &quot;Employee ID&quot;: 2,  &quot;Name&quot;: &quot;Garima&quot;,  &quot;Designation&quot;: &quot;Email Marketing Specialist&quot; }][   {      &quot;Employee ID&quot;: 1,      &quot;Name&quot;: &quot;Abhishek&quot;,      &quot;Designation&quot;: &quot;Software Engineer&quot;   },   {      &quot;Employee ID&quot;: 2,      &quot;Name&quot;: &quot;Garima&quot;,      &quot;Designation&quot;: &quot;Email Marketing Specialist&quot;   }]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13618546,"reputation":1,"user_id":9823816,"display_name":"Debarchan Dash"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640649821,"creation_date":1640649821,"answer_id":70501564,"question_id":66238495,"body_markdown":"    try {\r\n        unprettyJSON = Files.readAllLines(Paths.get(&quot;pretty.json&quot;))\r\n                            .stream()\r\n                            .map(String::trim)\r\n                            .reduce(String::concat)\r\n                            .orElseThrow(FileNotFoundException::new);\r\n    } catch (IOException e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\nThis above solution works nicely. Thanks for posting it. You can read from a .json file which converts to a single line string which can be also used to POST https requests.","title":"How to convert pretty format json file into a simple single line json file using java?","body":"<pre><code>try {\n    unprettyJSON = Files.readAllLines(Paths.get(&quot;pretty.json&quot;))\n                        .stream()\n                        .map(String::trim)\n                        .reduce(String::concat)\n                        .orElseThrow(FileNotFoundException::new);\n} catch (IOException e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p>This above solution works nicely. Thanks for posting it. You can read from a .json file which converts to a single line string which can be also used to POST https requests.</p>\n"},{"tags":[],"owner":{"account_id":19728244,"reputation":1,"user_id":14444352,"display_name":"user14444352"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678033991,"creation_date":1678033991,"answer_id":75643731,"question_id":66238495,"body_markdown":"im using sed for this\r\n\r\n    sed &#39;:a;N;$!ba;s/\\n//g&#39; demo.json\r\n\r\nthis would basically change each new line to be the same line. \r\nhope it helped :) ","title":"How to convert pretty format json file into a simple single line json file using java?","body":"<p>im using sed for this</p>\n<pre><code>sed ':a;N;$!ba;s/\\n//g' demo.json\n</code></pre>\n<p>this would basically change each new line to be the same line.\nhope it helped :)</p>\n"}],"owner":{"account_id":20369125,"reputation":255,"user_id":14941698,"display_name":"Uncle Sam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7778,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":66239258,"answer_count":4,"score":6,"last_activity_date":1678033991,"creation_date":1613551561,"question_id":66238495,"body_markdown":"I need to conver Pretty format json file into a single line json file. But unable to do so. Can anyone help me on this?\r\n\r\nExample: the below needs to be converted\r\n```\r\n[\r\n {\r\n  &quot;Employee ID&quot;: 1,\r\n  &quot;Name&quot;: &quot;Abhishek&quot;,\r\n  &quot;Designation&quot;: &quot;Software Engineer&quot;\r\n },\r\n {\r\n  &quot;Employee ID&quot;: 2,\r\n  &quot;Name&quot;: &quot;Garima&quot;,\r\n  &quot;Designation&quot;: &quot;Email Marketing Specialist&quot;\r\n }\r\n]\r\n[\r\n   {\r\n      &quot;Employee ID&quot;: 1,\r\n      &quot;Name&quot;: &quot;Abhishek&quot;,\r\n      &quot;Designation&quot;: &quot;Software Engineer&quot;\r\n   },\r\n   {\r\n      &quot;Employee ID&quot;: 2,\r\n      &quot;Name&quot;: &quot;Garima&quot;,\r\n      &quot;Designation&quot;: &quot;Email Marketing Specialist&quot;\r\n   }\r\n]\r\n```\r\nto this:\r\n```\r\n &#39;[{&quot;Employee ID&quot;:1,&quot;Name&quot;:&quot;Abhishek&quot;,&quot;Designation&quot;:&quot;Software Engineer&quot;},&#39; \\ \r\n            &#39;{&quot;Employee ID&quot;:2,&quot;Name&quot;:&quot;Garima&quot;,&quot;Designation&quot;:&quot;Email Marketing Specialist&quot;}]&#39;\r\n```","title":"How to convert pretty format json file into a simple single line json file using java?","body":"<p>I need to conver Pretty format json file into a single line json file. But unable to do so. Can anyone help me on this?</p>\n<p>Example: the below needs to be converted</p>\n<pre><code>[\n {\n  &quot;Employee ID&quot;: 1,\n  &quot;Name&quot;: &quot;Abhishek&quot;,\n  &quot;Designation&quot;: &quot;Software Engineer&quot;\n },\n {\n  &quot;Employee ID&quot;: 2,\n  &quot;Name&quot;: &quot;Garima&quot;,\n  &quot;Designation&quot;: &quot;Email Marketing Specialist&quot;\n }\n]\n[\n   {\n      &quot;Employee ID&quot;: 1,\n      &quot;Name&quot;: &quot;Abhishek&quot;,\n      &quot;Designation&quot;: &quot;Software Engineer&quot;\n   },\n   {\n      &quot;Employee ID&quot;: 2,\n      &quot;Name&quot;: &quot;Garima&quot;,\n      &quot;Designation&quot;: &quot;Email Marketing Specialist&quot;\n   }\n]\n</code></pre>\n<p>to this:</p>\n<pre><code> '[{&quot;Employee ID&quot;:1,&quot;Name&quot;:&quot;Abhishek&quot;,&quot;Designation&quot;:&quot;Software Engineer&quot;},' \\ \n            '{&quot;Employee ID&quot;:2,&quot;Name&quot;:&quot;Garima&quot;,&quot;Designation&quot;:&quot;Email Marketing Specialist&quot;}]'\n</code></pre>\n"},{"tags":["java","android"],"owner":{"account_id":27876093,"reputation":11,"user_id":21285569,"display_name":"ReventoN671"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678033816,"creation_date":1678033816,"question_id":75643714,"body_markdown":"While I&#39;m dragging the seekbar it shows a time, and when I release it the currentimetext view shows a different time.\r\n\r\n        package com.example.myapplication;\r\n    \r\n        import android.content.ContentResolver;\r\n        import android.content.Intent;\r\n        import android.database.Cursor;\r\n        import android.media.MediaPlayer;\r\n        import android.net.Uri;\r\n        import android.os.Bundle;\r\n        import android.os.Handler;\r\n        import android.provider.MediaStore;\r\n        import android.view.View;\r\n        import android.view.animation.Animation;\r\n        import android.view.animation.AnimationUtils;\r\n        import android.widget.ImageButton;\r\n        import android.widget.ImageView;\r\n        import android.widget.SeekBar;\r\n        import android.widget.TextView;\r\n        import android.widget.Toast;\r\n    \r\n        import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n        import java.io.IOException;\r\n        import java.util.ArrayList;\r\n        import java.util.List;\r\n    \r\n        public class SongPlayerActivity extends AppCompatActivity implements View.OnClickListener, SeekBar.OnSeekBarChangeListener {\r\n    \r\n            ImageView animacija;\r\n    \r\n            Animation rotationAnimation;\r\n            MediaPlayer mediaPlayer;\r\n            TextView songNameTextView, currentTimeTextView, totalTimeTextView;\r\n            String songName;\r\n            ImageButton playStopButton, prevButton, nextButton;\r\n            SeekBar seekBar;\r\n            Handler handler;\r\n            Runnable runnable;\r\n    \r\n            int totalTime;\r\n    \r\n            @Override\r\n            protected void onCreate(Bundle savedInstanceState) {\r\n                super.onCreate(savedInstanceState);\r\n                setContentView(R.layout.song_player);\r\n    \r\n                songNameTextView = findViewById(R.id.naziv_pjesme);\r\n                songName = getIntent().getStringExtra(&quot;song_name&quot;);\r\n                songNameTextView.setText(songName);\r\n                songNameTextView.setSelected(true);\r\n                currentTimeTextView = findViewById(R.id.trenutno_vr);\r\n                totalTimeTextView = findViewById(R.id.ukupno_vr);\r\n    \r\n                playStopButton = findViewById(R.id.pause_play);\r\n                prevButton = findViewById(R.id.previous);\r\n                nextButton = findViewById(R.id.next);\r\n                seekBar = findViewById(R.id.seek_bar);\r\n                animacija = findViewById(R.id.Animacija);\r\n                rotationAnimation = AnimationUtils.loadAnimation(this, R.anim.rotate_animation);\r\n    \r\n                playStopButton.setOnClickListener(this);\r\n                prevButton.setOnClickListener(this);\r\n                nextButton.setOnClickListener(this);\r\n                seekBar.setOnSeekBarChangeListener(this);\r\n    \r\n    \r\n                handler = new Handler();\r\n    \r\n                mediaPlayer = new MediaPlayer();\r\n                try {\r\n                    mediaPlayer.setDataSource(getSongPath(songName));\r\n                    mediaPlayer.prepare();\r\n                    mediaPlayer.setOnCompletionListener(new MediaPlayer.OnCompletionListener() {\r\n                        @Override\r\n                        public void onCompletion(MediaPlayer mp) {\r\n                            playNextSong();\r\n                            handler.removeCallbacks(runnable);\r\n                            stopRotation();\r\n                            // Update the UI elements immediately after the media player has completed playing the song\r\n                            updateTextViews();\r\n                            updateSeekBarPosition();\r\n                        }\r\n                    });\r\n    \r\n    \r\n                    totalTime = mediaPlayer.getDuration();\r\n    \r\n                    seekBar.setMax(totalTime);\r\n                    seekBar.setClickable(false);\r\n    \r\n                    // Create a new Runnable object that updates the current time and SeekBar position every second\r\n                    runnable = new Runnable() {\r\n                        @Override\r\n                        public void run() {\r\n                            updateTextViews();\r\n                            updateSeekBarPosition();\r\n                            handler.postDelayed(this, 100);\r\n                        }\r\n                    };\r\n                    handler.postDelayed(runnable, 100);\r\n                    mediaPlayer.start();\r\n                    startRotation();\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n    \r\n                updateTextViews();\r\n            }\r\n    \r\n            private void startRotation() {\r\n                animacija.startAnimation(rotationAnimation);\r\n            }\r\n    \r\n            private void stopRotation() {\r\n                animacija.clearAnimation();\r\n            }\r\n    \r\n    \r\n            private void updateSeekBarPosition() {\r\n                // Update the SeekBar position with the current position of the MediaPlayer\r\n                int currentPosition = mediaPlayer.getCurrentPosition();\r\n                seekBar.setProgress(currentPosition);\r\n            }\r\n    \r\n    \r\n            private String getSongPath(String songName) {\r\n                String path = null;\r\n                ContentResolver contentResolver = getContentResolver();\r\n                Uri songUri = MediaStore.Audio.Media.EXTERNAL_CONTENT_URI;\r\n                String selection = MediaStore.Audio.Media.TITLE + &quot;=?&quot;;\r\n                String[] selectionArgs = {songName};\r\n                Cursor songCursor = contentResolver.query(songUri, null, selection, selectionArgs, null);\r\n                if (songCursor != null &amp;&amp; songCursor.moveToFirst()) {\r\n                    int songPath = songCursor.getColumnIndex(MediaStore.Audio.Media.DATA);\r\n                    path = songCursor.getString(songPath);\r\n                }\r\n                songCursor.close();\r\n                return path;\r\n            }\r\n    \r\n            private void playNextSong() {\r\n                if (mediaPlayer != null) {\r\n                    List&lt;String&gt; songList = getIntent().getStringArrayListExtra(&quot;song_list&quot;);\r\n                    int currentIndex = songList.indexOf(songName);\r\n                    if (currentIndex != -1) {\r\n                        if (currentIndex &lt; songList.size() - 1) {\r\n                            // play the next song\r\n                            String nextSongName = songList.get(currentIndex + 1);\r\n                            mediaPlayer.stop();\r\n                            mediaPlayer.reset();\r\n                            try {\r\n                                mediaPlayer.setDataSource(getSongPath(nextSongName));\r\n                                mediaPlayer.prepare();\r\n                                mediaPlayer.start();\r\n                                updateSeekBar();\r\n                                updateTextViews();\r\n                                songName = nextSongName;\r\n                                songNameTextView.setText(songName);\r\n                                totalTime = mediaPlayer.getDuration();\r\n                                seekBar.setMax(totalTime);\r\n    \r\n                            } catch (IOException e) {\r\n                                e.printStackTrace();\r\n                            }\r\n                        } else {\r\n                            // play the first song in the list\r\n                            String firstSongName = songList.get(0);\r\n                            mediaPlayer.stop();\r\n                            mediaPlayer.reset();\r\n                            try {\r\n                                mediaPlayer.setDataSource(getSongPath(firstSongName));\r\n                                mediaPlayer.prepare();\r\n                                mediaPlayer.start();\r\n                                updateSeekBar();\r\n                                updateTextViews();\r\n                                songName = firstSongName;\r\n                                songNameTextView.setText(songName);\r\n                                totalTime = mediaPlayer.getDuration();\r\n                                seekBar.setMax(totalTime);\r\n    \r\n                            } catch (IOException e) {\r\n                                e.printStackTrace();\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n    \r\n    \r\n            private void playPreviousSong() {\r\n                if (mediaPlayer != null) {\r\n                    List&lt;String&gt; songList = getIntent().getStringArrayListExtra(&quot;song_list&quot;);\r\n                    int currentIndex = songList.indexOf(songName);\r\n                    if (currentIndex &gt; 0) {\r\n                        // play the previous song\r\n                        String prevSongName = songList.get(currentIndex - 1);\r\n                        mediaPlayer.stop();\r\n                        mediaPlayer.reset();\r\n                        try {\r\n                            mediaPlayer.setDataSource(getSongPath(prevSongName));\r\n                            mediaPlayer.prepare();\r\n                            mediaPlayer.start();\r\n                            updateSeekBar();\r\n                            updateTextViews();\r\n                            songName = prevSongName;\r\n                            songNameTextView.setText(songName);\r\n                            totalTime = mediaPlayer.getDuration();\r\n                            seekBar.setMax(totalTime);\r\n    \r\n                        } catch (IOException e) {\r\n                            e.printStackTrace();\r\n                        }\r\n                    } else {\r\n                        // play the last song in the list\r\n                        String lastSongName = songList.get(songList.size() - 1);\r\n                        mediaPlayer.stop();\r\n                        mediaPlayer.reset();\r\n                        try {\r\n                            mediaPlayer.setDataSource(getSongPath(lastSongName));\r\n                            mediaPlayer.prepare();\r\n                            mediaPlayer.start();\r\n                            updateSeekBar();\r\n                            updateTextViews();\r\n                            songName = lastSongName;\r\n                            songNameTextView.setText(songName);\r\n                            totalTime = mediaPlayer.getDuration();\r\n                            seekBar.setMax(totalTime);\r\n    \r\n                        } catch (IOException e) {\r\n                            e.printStackTrace();\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n    \r\n    \r\n            private void updateSeekBar() {\r\n                if (mediaPlayer != null) {\r\n                    int currentPosition = mediaPlayer.getCurrentPosition();\r\n                    seekBar.setProgress(currentPosition);\r\n                    currentTimeTextView.setText(formatTime(currentPosition));\r\n                    totalTimeTextView.setText(formatTime(totalTime - currentPosition));\r\n                    handler.postDelayed(runnable, 100);\r\n                }\r\n            }\r\n            private String formatTime(int timeInMillis) {\r\n                int seconds = timeInMillis / 1000;\r\n                int minutes = seconds / 60;\r\n                seconds %= 60;\r\n                return String.format(&quot;%02d:%02d&quot;, minutes, seconds);\r\n            }\r\n    \r\n            private void updateTextViews() {\r\n                int currentTime = mediaPlayer.getCurrentPosition();\r\n                int minutes = (currentTime / 1000) / 60;\r\n                int seconds = (currentTime / 1000) % 60;\r\n                String currentFormattedTime = String.format(&quot;%02d:%02d&quot;, minutes, seconds);\r\n                currentTimeTextView.setText(currentFormattedTime);\r\n    \r\n                minutes = (totalTime / 1000) / 60;\r\n                seconds = (totalTime / 1000) % 60;\r\n                String totalFormattedTime = String.format(&quot;%02d:%02d&quot;, minutes, seconds);\r\n                totalTimeTextView.setText(totalFormattedTime);\r\n            }\r\n    \r\n    \r\n            @Override\r\n            public void onClick(View v) {\r\n                switch (v.getId()) {\r\n                    case R.id.pause_play:\r\n                        if (mediaPlayer.isPlaying()) {\r\n                            mediaPlayer.pause();\r\n                            playStopButton.setImageResource(R.drawable.play);\r\n                            stopRotation();\r\n                        } else {\r\n                            mediaPlayer.start();\r\n                            playStopButton.setImageResource(R.drawable.pause);\r\n                            startRotation();\r\n                        }\r\n                        // Update the UI elements immediately after the user clicks the play/pause button\r\n                        updateTextViews();\r\n                        updateSeekBarPosition();\r\n                        break;\r\n                    case R.id.previous:\r\n                        playPreviousSong();\r\n                        // Update the UI elements immediately after the user clicks the previous button\r\n                        updateTextViews();\r\n                        updateSeekBarPosition();\r\n                        break;\r\n                    case R.id.next:\r\n                        playNextSong();\r\n                        // Update the UI elements immediately after the user clicks the next button\r\n                        updateTextViews();\r\n                        updateSeekBarPosition();\r\n                        break;\r\n                }\r\n            }\r\n    \r\n    \r\n            @Override\r\n            public void onProgressChanged(SeekBar seekBar, int progress, boolean fromUser) {\r\n                if (fromUser) {\r\n                    mediaPlayer.seekTo(progress);\r\n                    updateTextViews();\r\n                }\r\n                if (fromUser &amp;&amp; progress == seekBar.getMax()) {\r\n                    // If SeekBar is set to max by the user, start the rotation and play the next song\r\n                    startRotation();\r\n                    playNextSong();\r\n                }\r\n            }\r\n    \r\n            public void onStartTrackingTouch(SeekBar seekBar) {\r\n                // Remove any pending updates to the SeekBar position while the user is interacting with it\r\n                handler.removeCallbacks(runnable);\r\n            }\r\n    \r\n            @Override\r\n            public void onStopTrackingTouch(SeekBar seekBar) {\r\n                // When the user releases the SeekBar, resume updates to the SeekBar position\r\n                int currentPosition = seekBar.getProgress();\r\n                mediaPlayer.seekTo(currentPosition);\r\n                updateTextViews();\r\n                handler.postDelayed(runnable, 1000);\r\n            }\r\n    \r\n            @Override\r\n            protected void onDestroy() {\r\n                super.onDestroy();\r\n                if (mediaPlayer != null) {\r\n                    mediaPlayer.release();\r\n                    mediaPlayer = null;\r\n                }\r\n                handler.removeCallbacks(runnable);\r\n            }\r\n        }\r\n\r\nTo fix the issue with seekbar and current time not showing the same time, I tried updating the updateTextViews() method to display the current time using the mediaPlayer.getCurrentPosition() method instead of seekBar.getProgress(). But it didn&#39;t work.","title":"Android studio seekbar and current time issue","body":"<p>While I'm dragging the seekbar it shows a time, and when I release it the currentimetext view shows a different time.</p>\n<pre><code>    package com.example.myapplication;\n\n    import android.content.ContentResolver;\n    import android.content.Intent;\n    import android.database.Cursor;\n    import android.media.MediaPlayer;\n    import android.net.Uri;\n    import android.os.Bundle;\n    import android.os.Handler;\n    import android.provider.MediaStore;\n    import android.view.View;\n    import android.view.animation.Animation;\n    import android.view.animation.AnimationUtils;\n    import android.widget.ImageButton;\n    import android.widget.ImageView;\n    import android.widget.SeekBar;\n    import android.widget.TextView;\n    import android.widget.Toast;\n\n    import androidx.appcompat.app.AppCompatActivity;\n\n    import java.io.IOException;\n    import java.util.ArrayList;\n    import java.util.List;\n\n    public class SongPlayerActivity extends AppCompatActivity implements View.OnClickListener, SeekBar.OnSeekBarChangeListener {\n\n        ImageView animacija;\n\n        Animation rotationAnimation;\n        MediaPlayer mediaPlayer;\n        TextView songNameTextView, currentTimeTextView, totalTimeTextView;\n        String songName;\n        ImageButton playStopButton, prevButton, nextButton;\n        SeekBar seekBar;\n        Handler handler;\n        Runnable runnable;\n\n        int totalTime;\n\n        @Override\n        protected void onCreate(Bundle savedInstanceState) {\n            super.onCreate(savedInstanceState);\n            setContentView(R.layout.song_player);\n\n            songNameTextView = findViewById(R.id.naziv_pjesme);\n            songName = getIntent().getStringExtra(&quot;song_name&quot;);\n            songNameTextView.setText(songName);\n            songNameTextView.setSelected(true);\n            currentTimeTextView = findViewById(R.id.trenutno_vr);\n            totalTimeTextView = findViewById(R.id.ukupno_vr);\n\n            playStopButton = findViewById(R.id.pause_play);\n            prevButton = findViewById(R.id.previous);\n            nextButton = findViewById(R.id.next);\n            seekBar = findViewById(R.id.seek_bar);\n            animacija = findViewById(R.id.Animacija);\n            rotationAnimation = AnimationUtils.loadAnimation(this, R.anim.rotate_animation);\n\n            playStopButton.setOnClickListener(this);\n            prevButton.setOnClickListener(this);\n            nextButton.setOnClickListener(this);\n            seekBar.setOnSeekBarChangeListener(this);\n\n\n            handler = new Handler();\n\n            mediaPlayer = new MediaPlayer();\n            try {\n                mediaPlayer.setDataSource(getSongPath(songName));\n                mediaPlayer.prepare();\n                mediaPlayer.setOnCompletionListener(new MediaPlayer.OnCompletionListener() {\n                    @Override\n                    public void onCompletion(MediaPlayer mp) {\n                        playNextSong();\n                        handler.removeCallbacks(runnable);\n                        stopRotation();\n                        // Update the UI elements immediately after the media player has completed playing the song\n                        updateTextViews();\n                        updateSeekBarPosition();\n                    }\n                });\n\n\n                totalTime = mediaPlayer.getDuration();\n\n                seekBar.setMax(totalTime);\n                seekBar.setClickable(false);\n\n                // Create a new Runnable object that updates the current time and SeekBar position every second\n                runnable = new Runnable() {\n                    @Override\n                    public void run() {\n                        updateTextViews();\n                        updateSeekBarPosition();\n                        handler.postDelayed(this, 100);\n                    }\n                };\n                handler.postDelayed(runnable, 100);\n                mediaPlayer.start();\n                startRotation();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n\n            updateTextViews();\n        }\n\n        private void startRotation() {\n            animacija.startAnimation(rotationAnimation);\n        }\n\n        private void stopRotation() {\n            animacija.clearAnimation();\n        }\n\n\n        private void updateSeekBarPosition() {\n            // Update the SeekBar position with the current position of the MediaPlayer\n            int currentPosition = mediaPlayer.getCurrentPosition();\n            seekBar.setProgress(currentPosition);\n        }\n\n\n        private String getSongPath(String songName) {\n            String path = null;\n            ContentResolver contentResolver = getContentResolver();\n            Uri songUri = MediaStore.Audio.Media.EXTERNAL_CONTENT_URI;\n            String selection = MediaStore.Audio.Media.TITLE + &quot;=?&quot;;\n            String[] selectionArgs = {songName};\n            Cursor songCursor = contentResolver.query(songUri, null, selection, selectionArgs, null);\n            if (songCursor != null &amp;&amp; songCursor.moveToFirst()) {\n                int songPath = songCursor.getColumnIndex(MediaStore.Audio.Media.DATA);\n                path = songCursor.getString(songPath);\n            }\n            songCursor.close();\n            return path;\n        }\n\n        private void playNextSong() {\n            if (mediaPlayer != null) {\n                List&lt;String&gt; songList = getIntent().getStringArrayListExtra(&quot;song_list&quot;);\n                int currentIndex = songList.indexOf(songName);\n                if (currentIndex != -1) {\n                    if (currentIndex &lt; songList.size() - 1) {\n                        // play the next song\n                        String nextSongName = songList.get(currentIndex + 1);\n                        mediaPlayer.stop();\n                        mediaPlayer.reset();\n                        try {\n                            mediaPlayer.setDataSource(getSongPath(nextSongName));\n                            mediaPlayer.prepare();\n                            mediaPlayer.start();\n                            updateSeekBar();\n                            updateTextViews();\n                            songName = nextSongName;\n                            songNameTextView.setText(songName);\n                            totalTime = mediaPlayer.getDuration();\n                            seekBar.setMax(totalTime);\n\n                        } catch (IOException e) {\n                            e.printStackTrace();\n                        }\n                    } else {\n                        // play the first song in the list\n                        String firstSongName = songList.get(0);\n                        mediaPlayer.stop();\n                        mediaPlayer.reset();\n                        try {\n                            mediaPlayer.setDataSource(getSongPath(firstSongName));\n                            mediaPlayer.prepare();\n                            mediaPlayer.start();\n                            updateSeekBar();\n                            updateTextViews();\n                            songName = firstSongName;\n                            songNameTextView.setText(songName);\n                            totalTime = mediaPlayer.getDuration();\n                            seekBar.setMax(totalTime);\n\n                        } catch (IOException e) {\n                            e.printStackTrace();\n                        }\n                    }\n                }\n            }\n        }\n\n\n        private void playPreviousSong() {\n            if (mediaPlayer != null) {\n                List&lt;String&gt; songList = getIntent().getStringArrayListExtra(&quot;song_list&quot;);\n                int currentIndex = songList.indexOf(songName);\n                if (currentIndex &gt; 0) {\n                    // play the previous song\n                    String prevSongName = songList.get(currentIndex - 1);\n                    mediaPlayer.stop();\n                    mediaPlayer.reset();\n                    try {\n                        mediaPlayer.setDataSource(getSongPath(prevSongName));\n                        mediaPlayer.prepare();\n                        mediaPlayer.start();\n                        updateSeekBar();\n                        updateTextViews();\n                        songName = prevSongName;\n                        songNameTextView.setText(songName);\n                        totalTime = mediaPlayer.getDuration();\n                        seekBar.setMax(totalTime);\n\n                    } catch (IOException e) {\n                        e.printStackTrace();\n                    }\n                } else {\n                    // play the last song in the list\n                    String lastSongName = songList.get(songList.size() - 1);\n                    mediaPlayer.stop();\n                    mediaPlayer.reset();\n                    try {\n                        mediaPlayer.setDataSource(getSongPath(lastSongName));\n                        mediaPlayer.prepare();\n                        mediaPlayer.start();\n                        updateSeekBar();\n                        updateTextViews();\n                        songName = lastSongName;\n                        songNameTextView.setText(songName);\n                        totalTime = mediaPlayer.getDuration();\n                        seekBar.setMax(totalTime);\n\n                    } catch (IOException e) {\n                        e.printStackTrace();\n                    }\n                }\n            }\n        }\n\n\n        private void updateSeekBar() {\n            if (mediaPlayer != null) {\n                int currentPosition = mediaPlayer.getCurrentPosition();\n                seekBar.setProgress(currentPosition);\n                currentTimeTextView.setText(formatTime(currentPosition));\n                totalTimeTextView.setText(formatTime(totalTime - currentPosition));\n                handler.postDelayed(runnable, 100);\n            }\n        }\n        private String formatTime(int timeInMillis) {\n            int seconds = timeInMillis / 1000;\n            int minutes = seconds / 60;\n            seconds %= 60;\n            return String.format(&quot;%02d:%02d&quot;, minutes, seconds);\n        }\n\n        private void updateTextViews() {\n            int currentTime = mediaPlayer.getCurrentPosition();\n            int minutes = (currentTime / 1000) / 60;\n            int seconds = (currentTime / 1000) % 60;\n            String currentFormattedTime = String.format(&quot;%02d:%02d&quot;, minutes, seconds);\n            currentTimeTextView.setText(currentFormattedTime);\n\n            minutes = (totalTime / 1000) / 60;\n            seconds = (totalTime / 1000) % 60;\n            String totalFormattedTime = String.format(&quot;%02d:%02d&quot;, minutes, seconds);\n            totalTimeTextView.setText(totalFormattedTime);\n        }\n\n\n        @Override\n        public void onClick(View v) {\n            switch (v.getId()) {\n                case R.id.pause_play:\n                    if (mediaPlayer.isPlaying()) {\n                        mediaPlayer.pause();\n                        playStopButton.setImageResource(R.drawable.play);\n                        stopRotation();\n                    } else {\n                        mediaPlayer.start();\n                        playStopButton.setImageResource(R.drawable.pause);\n                        startRotation();\n                    }\n                    // Update the UI elements immediately after the user clicks the play/pause button\n                    updateTextViews();\n                    updateSeekBarPosition();\n                    break;\n                case R.id.previous:\n                    playPreviousSong();\n                    // Update the UI elements immediately after the user clicks the previous button\n                    updateTextViews();\n                    updateSeekBarPosition();\n                    break;\n                case R.id.next:\n                    playNextSong();\n                    // Update the UI elements immediately after the user clicks the next button\n                    updateTextViews();\n                    updateSeekBarPosition();\n                    break;\n            }\n        }\n\n\n        @Override\n        public void onProgressChanged(SeekBar seekBar, int progress, boolean fromUser) {\n            if (fromUser) {\n                mediaPlayer.seekTo(progress);\n                updateTextViews();\n            }\n            if (fromUser &amp;&amp; progress == seekBar.getMax()) {\n                // If SeekBar is set to max by the user, start the rotation and play the next song\n                startRotation();\n                playNextSong();\n            }\n        }\n\n        public void onStartTrackingTouch(SeekBar seekBar) {\n            // Remove any pending updates to the SeekBar position while the user is interacting with it\n            handler.removeCallbacks(runnable);\n        }\n\n        @Override\n        public void onStopTrackingTouch(SeekBar seekBar) {\n            // When the user releases the SeekBar, resume updates to the SeekBar position\n            int currentPosition = seekBar.getProgress();\n            mediaPlayer.seekTo(currentPosition);\n            updateTextViews();\n            handler.postDelayed(runnable, 1000);\n        }\n\n        @Override\n        protected void onDestroy() {\n            super.onDestroy();\n            if (mediaPlayer != null) {\n                mediaPlayer.release();\n                mediaPlayer = null;\n            }\n            handler.removeCallbacks(runnable);\n        }\n    }\n</code></pre>\n<p>To fix the issue with seekbar and current time not showing the same time, I tried updating the updateTextViews() method to display the current time using the mediaPlayer.getCurrentPosition() method instead of seekBar.getProgress(). But it didn't work.</p>\n"},{"tags":["java","lambda","hashmap","consumer"],"comments":[{"owner":{"account_id":9725613,"reputation":53332,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":0,"creation_date":1677867042,"post_id":75630442,"comment_id":133428423,"body_markdown":"you don&#39;t need a map to call `myMethodA`, you need a callable that will use a map to do something with. You can&#39;t pass a map to `myMethodA` because that is not what myMethodA is here for","body":"you don&#39;t need a map to call <code>myMethodA</code>, you need a callable that will use a map to do something with. You can&#39;t pass a map to <code>myMethodA</code> because that is not what myMethodA is here for"},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1677869303,"post_id":75630442,"comment_id":133428991,"body_markdown":"I don&#39;t understand what you&#39;re asking. What do you expect the `Consumer` to do?","body":"I don&#39;t understand what you&#39;re asking. What do you expect the <code>Consumer</code> to do?"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1677915004,"post_id":75630442,"comment_id":133435018,"body_markdown":"The singleton Map ha K,V whereas the map you have as the argument has &quot;a Key for each List&quot; not each member of the List. A List has E elements the V value but no K corresponding E.","body":"The singleton Map ha K,V whereas the map you have as the argument has &quot;a Key for each List&quot; not each member of the List. A List has E elements the V value but no K corresponding E."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1677867083,"creation_date":1677867083,"answer_id":75630531,"question_id":75630442,"body_markdown":"A consumer is a function&lt;sup&gt;1&lt;/sup&gt;. Functions aren&#39;t maps. Functions are.. functions - the only thing you can do with them, is invoke the function. Specifically, a consumer is a function that takes in an object of type T, and returns `void` (nothing).\r\n\r\nThus, `Consumer&lt;Map&lt;String,List&lt;String&gt;&gt;&gt; someMap` is completely wrong. It&#39;s like calling you (Tiya) a sandwich, because you can eat sandwiches. You&#39;re not a sandwich at all, you can consume sandwiches though.\r\n\r\nThe only difference between `a` and `b` in:\r\n\r\n```\r\npublic void a(Map&lt;String, List&lt;String&gt;&gt; map) { ... }\r\n\r\nConsumer&lt;Map&lt;String, List&lt;String&gt;&gt; b = map -&gt; ....;\r\n```\r\n\r\nis that one is a method and can be used in contexts where method invocations are required, and the other is a variable. They do the same thing. In fact, I can turn the `a` method into a function:\r\n\r\n```\r\nConsumer&lt;Map&lt;String, List&lt;String&gt;&gt; b = this::a;\r\n```\r\n\r\nwhich works fine.\r\n\r\nThus, there is no way to do what you want, for the same reason it makes absolutely no sense to do this:\r\n\r\nJoe: Hey, I made a sandwich. Can you find me somebody that can eat sandwiches?\r\n\r\nTiya: Sure! Here, have this sandwich _I_ made.\r\n\r\nJoe: What the.... That&#39;s a sandwich. I wanted a thing that can eat sandwiches!\r\n\r\n\r\n\r\n1) In java, things have to be either objects (as in, the expression has a &#39;reference type&#39;) or primitives (as in, the expression has a &#39;primitive type&#39;). Functions are simply reference types where the type is a so-called functional interface: An interface that defines precisely 1 method. At that point, &#39;an object whose only externally callable anything is this one precisely defined function&#39; and &#39;a function&#39; become pretty much the same thing. When I say &quot;A consumer is a function&quot;, if that confuses you, then this footnote explains the full line of reasoning going on here.","title":"How to convert a map to a consumer of a map in java 8?","body":"<p>A consumer is a function<sup>1</sup>. Functions aren't maps. Functions are.. functions - the only thing you can do with them, is invoke the function. Specifically, a consumer is a function that takes in an object of type T, and returns <code>void</code> (nothing).</p>\n<p>Thus, <code>Consumer&lt;Map&lt;String,List&lt;String&gt;&gt;&gt; someMap</code> is completely wrong. It's like calling you (Tiya) a sandwich, because you can eat sandwiches. You're not a sandwich at all, you can consume sandwiches though.</p>\n<p>The only difference between <code>a</code> and <code>b</code> in:</p>\n<pre><code>public void a(Map&lt;String, List&lt;String&gt;&gt; map) { ... }\n\nConsumer&lt;Map&lt;String, List&lt;String&gt;&gt; b = map -&gt; ....;\n</code></pre>\n<p>is that one is a method and can be used in contexts where method invocations are required, and the other is a variable. They do the same thing. In fact, I can turn the <code>a</code> method into a function:</p>\n<pre><code>Consumer&lt;Map&lt;String, List&lt;String&gt;&gt; b = this::a;\n</code></pre>\n<p>which works fine.</p>\n<p>Thus, there is no way to do what you want, for the same reason it makes absolutely no sense to do this:</p>\n<p>Joe: Hey, I made a sandwich. Can you find me somebody that can eat sandwiches?</p>\n<p>Tiya: Sure! Here, have this sandwich <em>I</em> made.</p>\n<p>Joe: What the.... That's a sandwich. I wanted a thing that can eat sandwiches!</p>\n<ol>\n<li>In java, things have to be either objects (as in, the expression has a 'reference type') or primitives (as in, the expression has a 'primitive type'). Functions are simply reference types where the type is a so-called functional interface: An interface that defines precisely 1 method. At that point, 'an object whose only externally callable anything is this one precisely defined function' and 'a function' become pretty much the same thing. When I say &quot;A consumer is a function&quot;, if that confuses you, then this footnote explains the full line of reasoning going on here.</li>\n</ol>\n"}],"owner":{"account_id":4081337,"reputation":553,"user_id":3351754,"accept_rate":4,"display_name":"Tiya"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":138,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1678032049,"creation_date":1677866480,"question_id":75630442,"body_markdown":"I have a method A that takes (Consumer&lt;Map&lt;String, List&lt;String&gt;&gt;&gt;) as a method parameter.\r\n\r\n     public void myMethodA(Consumer&lt;Map&lt;String,List&lt;String&gt;&gt;&gt; someMap) {\r\n\r\nHowever, my method B which calls method A has a Hashmap with it: \r\n           \r\n    Map&lt;String, String&gt; myMap = Collections.singletonMap(&quot;a1&quot;, Arrays.asList(&quot;b&quot;));\r\n\r\nHow can I pass the variable myMap to method A? \r\nI tried:\r\n\r\n    myMethodA((Consumer&lt;Map&lt;String,List&lt;String&gt;&gt;&gt;) myMap);\r\nbut I get: \r\n    \r\n    java.lang.ClassCastException: java.util.Collections$SingletonMap incompatible with java.util.function.Consumer","title":"How to convert a map to a consumer of a map in java 8?","body":"<p>I have a method A that takes (Consumer&lt;Map&lt;String, List&gt;&gt;) as a method parameter.</p>\n<pre><code> public void myMethodA(Consumer&lt;Map&lt;String,List&lt;String&gt;&gt;&gt; someMap) {\n</code></pre>\n<p>However, my method B which calls method A has a Hashmap with it:</p>\n<pre><code>Map&lt;String, String&gt; myMap = Collections.singletonMap(&quot;a1&quot;, Arrays.asList(&quot;b&quot;));\n</code></pre>\n<p>How can I pass the variable myMap to method A?\nI tried:</p>\n<pre><code>myMethodA((Consumer&lt;Map&lt;String,List&lt;String&gt;&gt;&gt;) myMap);\n</code></pre>\n<p>but I get:</p>\n<pre><code>java.lang.ClassCastException: java.util.Collections$SingletonMap incompatible with java.util.function.Consumer\n</code></pre>\n"},{"tags":["java","recursion"],"comments":[{"owner":{"account_id":2843470,"reputation":4620,"user_id":2442526,"display_name":"xtratic"},"score":0,"creation_date":1611686901,"post_id":65907305,"comment_id":116529651,"body_markdown":"Can&#39;t use a loop ***at all***??","body":"Can&#39;t use a loop <b><i>at all</i></b>??"},{"owner":{"account_id":20100664,"reputation":1,"user_id":14739190,"display_name":"JCC"},"score":0,"creation_date":1611686952,"post_id":65907305,"comment_id":116529678,"body_markdown":"The instructions say to not use loops so I can&#39;t","body":"The instructions say to not use loops so I can&#39;t"},{"owner":{"account_id":2843470,"reputation":4620,"user_id":2442526,"display_name":"xtratic"},"score":0,"creation_date":1611687132,"post_id":65907305,"comment_id":116529765,"body_markdown":"I think this is not possible without using at least some kind of iteration.. talk to your prof","body":"I think this is not possible without using at least some kind of iteration.. talk to your prof"},{"owner":{"account_id":20100664,"reputation":1,"user_id":14739190,"display_name":"JCC"},"score":0,"creation_date":1611687309,"post_id":65907305,"comment_id":116529851,"body_markdown":"The problem is from a java programming textbook. I feel like there is some way. I will probably have to","body":"The problem is from a java programming textbook. I feel like there is some way. I will probably have to"},{"owner":{"account_id":2843470,"reputation":4620,"user_id":2442526,"display_name":"xtratic"},"score":0,"creation_date":1611687419,"post_id":65907305,"comment_id":116529889,"body_markdown":"Hmm, I think I have an idea, I&#39;ll explain in an answer..","body":"Hmm, I think I have an idea, I&#39;ll explain in an answer.."},{"owner":{"account_id":1449510,"reputation":48192,"user_id":1366871,"accept_rate":100,"display_name":"dreamcrash"},"score":0,"creation_date":1611688629,"post_id":65907305,"comment_id":116530357,"body_markdown":"Can you change the signature?","body":"Can you change the signature?"},{"owner":{"account_id":20100664,"reputation":1,"user_id":14739190,"display_name":"JCC"},"score":0,"creation_date":1611688898,"post_id":65907305,"comment_id":116530462,"body_markdown":"By signature, do you mean parameters?","body":"By signature, do you mean parameters?"},{"owner":{"account_id":1449510,"reputation":48192,"user_id":1366871,"accept_rate":100,"display_name":"dreamcrash"},"score":0,"creation_date":1611689011,"post_id":65907305,"comment_id":116530515,"body_markdown":"@JCC yes, the parameters","body":"@JCC yes, the parameters"},{"owner":{"account_id":20100664,"reputation":1,"user_id":14739190,"display_name":"JCC"},"score":0,"creation_date":1611689146,"post_id":65907305,"comment_id":116530576,"body_markdown":"The instructions usually specify the parameters for the method, but it says list of strings is the only parameter. If you can solve it with several parameters, I&#39;m all ears","body":"The instructions usually specify the parameters for the method, but it says list of strings is the only parameter. If you can solve it with several parameters, I&#39;m all ears"},{"owner":{"account_id":20100664,"reputation":1,"user_id":14739190,"display_name":"JCC"},"score":0,"creation_date":1611690751,"post_id":65907305,"comment_id":116531220,"body_markdown":"@xtratic Were you able to come up with a solution?","body":"@xtratic Were you able to come up with a solution?"},{"owner":{"account_id":2843470,"reputation":4620,"user_id":2442526,"display_name":"xtratic"},"score":0,"creation_date":1611698440,"post_id":65907305,"comment_id":116534345,"body_markdown":"@JCC Sorry I was mistaken and thinking you wanted permutations.. I was looking into a method of splitting and swapping sublists that would produce all permutations but didn&#39;t have the time to devote to it.","body":"@JCC Sorry I was mistaken and thinking you wanted permutations.. I was looking into a method of splitting and swapping sublists that would produce all permutations but didn&#39;t have the time to devote to it."},{"owner":{"account_id":1449510,"reputation":48192,"user_id":1366871,"accept_rate":100,"display_name":"dreamcrash"},"score":0,"creation_date":1611700471,"post_id":65907305,"comment_id":116535018,"body_markdown":"@JCC Sorry only manage with a loop","body":"@JCC Sorry only manage with a loop"},{"owner":{"account_id":20100664,"reputation":1,"user_id":14739190,"display_name":"JCC"},"score":0,"creation_date":1611702000,"post_id":65907305,"comment_id":116535522,"body_markdown":"@dreamcrash what is your solution with a loop. I came up with part of the solution that uses a for loop, but I am not sure how to get the rest of the sublists","body":"@dreamcrash what is your solution with a loop. I came up with part of the solution that uses a for loop, but I am not sure how to get the rest of the sublists"}],"answers":[{"comments":[{"owner":{"account_id":15957145,"reputation":103,"user_id":11515080,"display_name":"mlogario"},"score":0,"creation_date":1611696731,"post_id":65909474,"comment_id":116533746,"body_markdown":"As an addition: The main point here is to always call the recursive method by giving it the full initial list, and precising the number of elements expected in the sublist. By calling subsets(list.subList(0,n-1)); you end up loosing information.","body":"As an addition: The main point here is to always call the recursive method by giving it the full initial list, and precising the number of elements expected in the sublist. By calling subsets(list.subList(0,n-1)); you end up loosing information."}],"tags":[],"owner":{"account_id":15957145,"reputation":103,"user_id":11515080,"display_name":"mlogario"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611696208,"creation_date":1611696208,"answer_id":65909474,"question_id":65907305,"body_markdown":"The best solution I came up with is based on randomness, I&#39;ll post in even though it is not what is expected by the Java Programming textbook.\r\n\r\nYou can calculate how many distinct k-combinations of K elements exists in a list of N elements.\r\nFor example: \r\n- One combination of 4 elements exists in a list of 4\r\n- 4 combinations of 3 elements exist in a list of 4.\r\n\r\nThe idea is to have as args of the recursive method: \r\n- The initial list you want to extract sublists\r\n- A list of every sublist already printed\r\n- The number K of elements of the wanted sublist size\r\n\r\nYou should then have the following method signature:\r\n\r\n\tpublic static void subsets(List&lt;String&gt; list, ArrayList&lt;List&lt;String&gt;&gt; alreadyPrinted, int nbOfElementsInTheSubList);\r\n\r\n\r\nand the call in your main method will be\r\n\r\n    subsets(list, new ArrayList&lt;&gt;(), list.size());\r\n\r\nNow in the body of the recursive method, process as follow (pseudo-code)\r\n\r\n- Pick a sublist of *nbOfElementsInTheSubList* random elements from list that is not in alreadyPrinted, print it, and add it to alreadyPrinted\r\n- compute combinationNumber = *list.size() choose nbOfElementsInTheSubList* (ie: the number of nbOfElementsInTheSubList-combination in list)\r\n- compare it to *alreadyThere*, the number of combination of *nbOfElementsInTheSubList* elements presents in *alreadyPrinted*\r\n    - if alreadyThere = combinationNumber : You have all the nbOfElementsInTheSubList-Combination available in list, you can call recursively your method using (nbOfElementsInTheSubList - 1) as the last arg\r\n    - else : You are missing at least one of the nbOfElementsInTheSubList-Combination available in list. Call subset again using the same nbOfElementsInTheSubList but with the updated alreadyPrinted\r\n\r\n\r\nI doubt this is an optimal solution, so I bookmarked your topic since I am sincerely curious about the expected code.","title":"Printing every possible sub-list of a list using recursion","body":"<p>The best solution I came up with is based on randomness, I'll post in even though it is not what is expected by the Java Programming textbook.</p>\n<p>You can calculate how many distinct k-combinations of K elements exists in a list of N elements.\nFor example:</p>\n<ul>\n<li>One combination of 4 elements exists in a list of 4</li>\n<li>4 combinations of 3 elements exist in a list of 4.</li>\n</ul>\n<p>The idea is to have as args of the recursive method:</p>\n<ul>\n<li>The initial list you want to extract sublists</li>\n<li>A list of every sublist already printed</li>\n<li>The number K of elements of the wanted sublist size</li>\n</ul>\n<p>You should then have the following method signature:</p>\n<pre><code>public static void subsets(List&lt;String&gt; list, ArrayList&lt;List&lt;String&gt;&gt; alreadyPrinted, int nbOfElementsInTheSubList);\n</code></pre>\n<p>and the call in your main method will be</p>\n<pre><code>subsets(list, new ArrayList&lt;&gt;(), list.size());\n</code></pre>\n<p>Now in the body of the recursive method, process as follow (pseudo-code)</p>\n<ul>\n<li>Pick a sublist of <em>nbOfElementsInTheSubList</em> random elements from list that is not in alreadyPrinted, print it, and add it to alreadyPrinted</li>\n<li>compute combinationNumber = <em>list.size() choose nbOfElementsInTheSubList</em> (ie: the number of nbOfElementsInTheSubList-combination in list)</li>\n<li>compare it to <em>alreadyThere</em>, the number of combination of <em>nbOfElementsInTheSubList</em> elements presents in <em>alreadyPrinted</em>\n<ul>\n<li>if alreadyThere = combinationNumber : You have all the nbOfElementsInTheSubList-Combination available in list, you can call recursively your method using (nbOfElementsInTheSubList - 1) as the last arg</li>\n<li>else : You are missing at least one of the nbOfElementsInTheSubList-Combination available in list. Call subset again using the same nbOfElementsInTheSubList but with the updated alreadyPrinted</li>\n</ul>\n</li>\n</ul>\n<p>I doubt this is an optimal solution, so I bookmarked your topic since I am sincerely curious about the expected code.</p>\n"},{"tags":[],"owner":{"account_id":18968948,"reputation":157,"user_id":13842872,"display_name":"murari99732"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611753780,"creation_date":1611753780,"answer_id":65920082,"question_id":65907305,"body_markdown":"If we want to permutate all the value in the list then we can use this code-&gt;\r\n\r\n  \r\n\r\n     public static void main(String[] args) {\r\n            List&lt;String&gt; list = Arrays.asList(&quot;Janet&quot;, &quot;Robert&quot;, &quot;Morgan&quot;, &quot;Char&quot;);\r\n            recursiveprint(list,  new boolean[list.size()], &quot;&quot;);\r\n    \r\n        }\r\n    \r\n        private static void recursiveprint(List&lt;String&gt; list,  boolean b[], String s) {\r\n    \r\n            System.out.println(s);\r\n            for (int j = 0; j &lt; list.size(); j++) {\r\n                if (b[j] == false) {\r\n                    b[j] = true;\r\n                    recursiveprint(list,  b, s + list.get(j)+&quot;  &quot;);\r\n    \r\n                    b[j] = false;\r\n                }\r\n            }\r\n        }\r\n\r\n","title":"Printing every possible sub-list of a list using recursion","body":"<p>If we want to permutate all the value in the list then we can use this code-&gt;</p>\n<pre><code> public static void main(String[] args) {\n        List&lt;String&gt; list = Arrays.asList(&quot;Janet&quot;, &quot;Robert&quot;, &quot;Morgan&quot;, &quot;Char&quot;);\n        recursiveprint(list,  new boolean[list.size()], &quot;&quot;);\n\n    }\n\n    private static void recursiveprint(List&lt;String&gt; list,  boolean b[], String s) {\n\n        System.out.println(s);\n        for (int j = 0; j &lt; list.size(); j++) {\n            if (b[j] == false) {\n                b[j] = true;\n                recursiveprint(list,  b, s + list.get(j)+&quot;  &quot;);\n\n                b[j] = false;\n            }\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10759610,"reputation":12648,"user_id":7916438,"display_name":"tevemadar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678031489,"creation_date":1678031175,"answer_id":75643410,"question_id":65907305,"body_markdown":"(I don&#39;t know how I ended up being here, this tab really might have been open for 2 years)\r\n\r\n&gt; If you can possibly solve it with loops, I&#39;d love to see how you would solve it.\r\n\r\nWith loops it&#39;s trivial, you need a loop-pair for `start` and `end` indices:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    const list = [&quot;Janet&quot;, &quot;Robert&quot;, &quot;Morgan&quot;, &quot;Char&quot;];\r\n    for (var start = 0; start &lt; list.length; start++)\r\n      for (var end = start + 1; end &lt; list.length + 1; end++) // end is exclusive\r\n        console.log(list.slice(start, end).join()); // so, this is like list.subList(start,end)\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nThen it can be rewritten into a single loop, and make it a `while`, managing the indices manually:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    const list = [&quot;Janet&quot;, &quot;Robert&quot;, &quot;Morgan&quot;, &quot;Char&quot;];\r\n    var start = 0;\r\n    var end = 1;\r\n    while (start &lt; list.length) {\r\n      console.log(list.slice(start, end).join());\r\n      end++;\r\n      if (end &gt; list.length) {\r\n        start++;\r\n        end = start + 1;\r\n      }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nThen a single loop is easy to write as &quot;recursion&quot;:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    function sublists(list, start, end) {\r\n      console.log(list.slice(start, end).join());\r\n      end++;\r\n      if (end &gt; list.length) {\r\n        start++;\r\n        end = start + 1;\r\n      }\r\n      if (start &lt; list.length)\r\n        sublists(list, start, end);\r\n    }\r\n\r\n    sublists([&quot;Janet&quot;, &quot;Robert&quot;, &quot;Morgan&quot;, &quot;Char&quot;], 0, 1);\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nSo, technically we are recursive now, though we don&#39;t really benefit from it.\r\n&lt;hr&gt;\r\nThen we can start going backwards, keeping the two loops separately, and making an outer-inner recursion pair of them. Coincidentally the inner one (`subsublists()` here) can be very similar to your original attempt (without the exception of course):\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    function subsublists(list) {\r\n      console.log(list.join());\r\n      if (list.length &gt; 1)\r\n        subsublists(list.slice(0, list.length - 1));\r\n    }\r\n\r\n    function sublists(list) {\r\n      subsublists(list);\r\n      if (list.length &gt; 1)\r\n        sublists(list.slice(1));\r\n    }\r\n\r\n    sublists([&quot;Janet&quot;, &quot;Robert&quot;, &quot;Morgan&quot;, &quot;Char&quot;], 0);\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nOr, in Java:\r\n\r\n    public static void main (String[] args) {\r\n        ArrayList&lt;String&gt; list = new ArrayList&lt;&gt;(List.of(&quot;Janet&quot;, &quot;Robert&quot;, &quot;Morgan&quot;, &quot;Char&quot;));\r\n        sublists(list);\r\n    }\r\n    public static void subsublists(List&lt;String&gt; list) {\r\n    \tSystem.out.println(list);\r\n    \tif(list.size()&gt;1)\r\n    \t\tsubsublists(list.subList(0,list.size()-1));\r\n    }\r\n    public static void sublists(List&lt;String&gt; list) {\r\n    \tsubsublists(list);\r\n    \tif(list.size()&gt;1)\r\n    \t\tsublists(list.subList(1,list.size()));\r\n    }\r\n\r\nLive version: https://ideone.com/JU44Jj\r\n\r\nOutput:\r\n\r\n&gt;     [Janet, Robert, Morgan, Char]\r\n&gt;     [Janet, Robert, Morgan]\r\n&gt;     [Janet, Robert]\r\n&gt;     [Janet]\r\n&gt;     [Robert, Morgan, Char]\r\n&gt;     [Robert, Morgan]\r\n&gt;     [Robert]\r\n&gt;     [Morgan, Char]\r\n&gt;     [Morgan]\r\n&gt;     [Char]\r\n\r\n","title":"Printing every possible sub-list of a list using recursion","body":"<p>(I don't know how I ended up being here, this tab really might have been open for 2 years)</p>\n<blockquote>\n<p>If you can possibly solve it with loops, I'd love to see how you would solve it.</p>\n</blockquote>\n<p>With loops it's trivial, you need a loop-pair for <code>start</code> and <code>end</code> indices:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const list = [\"Janet\", \"Robert\", \"Morgan\", \"Char\"];\nfor (var start = 0; start &lt; list.length; start++)\n  for (var end = start + 1; end &lt; list.length + 1; end++) // end is exclusive\n    console.log(list.slice(start, end).join()); // so, this is like list.subList(start,end)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Then it can be rewritten into a single loop, and make it a <code>while</code>, managing the indices manually:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const list = [\"Janet\", \"Robert\", \"Morgan\", \"Char\"];\nvar start = 0;\nvar end = 1;\nwhile (start &lt; list.length) {\n  console.log(list.slice(start, end).join());\n  end++;\n  if (end &gt; list.length) {\n    start++;\n    end = start + 1;\n  }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Then a single loop is easy to write as &quot;recursion&quot;:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function sublists(list, start, end) {\n  console.log(list.slice(start, end).join());\n  end++;\n  if (end &gt; list.length) {\n    start++;\n    end = start + 1;\n  }\n  if (start &lt; list.length)\n    sublists(list, start, end);\n}\n\nsublists([\"Janet\", \"Robert\", \"Morgan\", \"Char\"], 0, 1);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>So, technically we are recursive now, though we don't really benefit from it.</p>\n<hr>\nThen we can start going backwards, keeping the two loops separately, and making an outer-inner recursion pair of them. Coincidentally the inner one (`subsublists()` here) can be very similar to your original attempt (without the exception of course):\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function subsublists(list) {\n  console.log(list.join());\n  if (list.length &gt; 1)\n    subsublists(list.slice(0, list.length - 1));\n}\n\nfunction sublists(list) {\n  subsublists(list);\n  if (list.length &gt; 1)\n    sublists(list.slice(1));\n}\n\nsublists([\"Janet\", \"Robert\", \"Morgan\", \"Char\"], 0);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Or, in Java:</p>\n<pre><code>public static void main (String[] args) {\n    ArrayList&lt;String&gt; list = new ArrayList&lt;&gt;(List.of(&quot;Janet&quot;, &quot;Robert&quot;, &quot;Morgan&quot;, &quot;Char&quot;));\n    sublists(list);\n}\npublic static void subsublists(List&lt;String&gt; list) {\n    System.out.println(list);\n    if(list.size()&gt;1)\n        subsublists(list.subList(0,list.size()-1));\n}\npublic static void sublists(List&lt;String&gt; list) {\n    subsublists(list);\n    if(list.size()&gt;1)\n        sublists(list.subList(1,list.size()));\n}\n</code></pre>\n<p>Live version: <a href=\"https://ideone.com/JU44Jj\" rel=\"nofollow noreferrer\">https://ideone.com/JU44Jj</a></p>\n<p>Output:</p>\n<blockquote>\n<pre><code>[Janet, Robert, Morgan, Char]\n[Janet, Robert, Morgan]\n[Janet, Robert]\n[Janet]\n[Robert, Morgan, Char]\n[Robert, Morgan]\n[Robert]\n[Morgan, Char]\n[Morgan]\n[Char]\n</code></pre>\n</blockquote>\n"}],"owner":{"account_id":20100664,"reputation":1,"user_id":14739190,"display_name":"JCC"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":526,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1678031489,"creation_date":1611686381,"question_id":65907305,"body_markdown":"I am having trouble solving this recursion problem. Recursion is quite difficult to understand and be able to code as I am new to coding. The problem is to write a recursive method to find every possible sub-list of a given list. Your method should accept a list of strings as a parameter and print every sub-list that could be created from elements of that list, one per line. Assume there is no duplicates and the list is not null. Do not use any loops. \r\n\r\nThe only possible way I can think of doing this is with a for loop or use more parameters but I can&#39;t per instructions. This is what I have so far. I checked the list api it says there is a subList method you can use. I was able to print the first 5 possible sublists just by substracting -1 from the list size every recursion and then I get an index error. This is very frustrating so if anyone has any tips or pointers that would greatly be appreciated.\r\n \r\n\r\n\r\nIf you can possibly solve it with loops, I&#39;d love to see how you would solve it.\r\n\t\r\n\r\n    public static void main(String[]args){\r\n    \t\tArrayList&lt;String&gt; list = new ArrayList&lt;&gt;(List.of(&quot;Janet&quot;, &quot;Robert&quot;, &quot;Morgan&quot;, &quot;Char&quot;));\r\n    \t\tsubsets(list);\r\n    \t\t\r\n    \t}\r\n\r\n\r\n    public static void subsets(List&lt;String&gt; list) {\r\n    \t\tint n = list.size();\r\n    \t\tif(list.isEmpty()){\r\n    \t\t\tSystem.out.println(list);\r\n  \r\n    \t\t}\r\n    \t\tif(n &gt; 0){\r\n    \t\t\tSystem.out.println(list.subList(0 , n));\r\n    \t\t}\r\n    \t\tsubsets(list.subList(0,n -1));\r\n    \t}\r\n\r\n\r\n\r\n\r\n[Results of my code][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/x9lv4.png","title":"Printing every possible sub-list of a list using recursion","body":"<p>I am having trouble solving this recursion problem. Recursion is quite difficult to understand and be able to code as I am new to coding. The problem is to write a recursive method to find every possible sub-list of a given list. Your method should accept a list of strings as a parameter and print every sub-list that could be created from elements of that list, one per line. Assume there is no duplicates and the list is not null. Do not use any loops.</p>\n<p>The only possible way I can think of doing this is with a for loop or use more parameters but I can't per instructions. This is what I have so far. I checked the list api it says there is a subList method you can use. I was able to print the first 5 possible sublists just by substracting -1 from the list size every recursion and then I get an index error. This is very frustrating so if anyone has any tips or pointers that would greatly be appreciated.</p>\n<p>If you can possibly solve it with loops, I'd love to see how you would solve it.</p>\n<pre><code>public static void main(String[]args){\n        ArrayList&lt;String&gt; list = new ArrayList&lt;&gt;(List.of(&quot;Janet&quot;, &quot;Robert&quot;, &quot;Morgan&quot;, &quot;Char&quot;));\n        subsets(list);\n        \n    }\n\n\npublic static void subsets(List&lt;String&gt; list) {\n        int n = list.size();\n        if(list.isEmpty()){\n            System.out.println(list);\n\n        }\n        if(n &gt; 0){\n            System.out.println(list.subList(0 , n));\n        }\n        subsets(list.subList(0,n -1));\n    }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/x9lv4.png\" rel=\"nofollow noreferrer\">Results of my code</a></p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"comments":[{"owner":{"account_id":918176,"reputation":73,"user_id":950496,"display_name":"mbodev"},"score":0,"creation_date":1678024156,"post_id":75642655,"comment_id":133449026,"body_markdown":"Isn&#39;t this throwing a LazyInitializationException in case you&#39;re trying to access an unloaded property?","body":"Isn&#39;t this throwing a LazyInitializationException in case you&#39;re trying to access an unloaded property?"},{"owner":{"account_id":16206688,"reputation":607,"user_id":11701675,"display_name":"natyus"},"score":0,"creation_date":1678026164,"post_id":75642655,"comment_id":133449383,"body_markdown":"@David I will try that annotation. mbodev I did not get any excetions so far","body":"@David I will try that annotation. mbodev I did not get any excetions so far"},{"owner":{"account_id":16206688,"reputation":607,"user_id":11701675,"display_name":"natyus"},"score":0,"creation_date":1678026227,"post_id":75642655,"comment_id":133449397,"body_markdown":"When I try to put the @EntityGraph to my repository I am getting the following error: &#39;@EntityGraph&#39; not applicable to type","body":"When I try to put the @EntityGraph to my repository I am getting the following error: &#39;@EntityGraph&#39; not applicable to type"},{"owner":{"account_id":27940466,"reputation":70,"user_id":21336593,"display_name":"David"},"score":0,"creation_date":1678031542,"post_id":75642655,"comment_id":133450314,"body_markdown":"quick check if lazy fetching is the case:   get rid of the @EntityGraph and add   fetch = FetchType.EAGER  parameter to your ManyToMany annotations. if that helped, research why thats not a good thing to do, and read up for example https://vladmihalcea.com/jpa-entity-graph/.     If adding that parameter didnt help, your problem lies elsewhere and i was wrong","body":"quick check if lazy fetching is the case:   get rid of the @EntityGraph and add   fetch = FetchType.EAGER  parameter to your ManyToMany annotations. if that helped, research why thats not a good thing to do, and read up for example <a href=\"https://vladmihalcea.com/jpa-entity-graph/\" rel=\"nofollow noreferrer\">vladmihalcea.com/jpa-entity-graph</a>.     If adding that parameter didnt help, your problem lies elsewhere and i was wrong"}],"tags":[],"owner":{"account_id":27940466,"reputation":70,"user_id":21336593,"display_name":"David"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678023851,"creation_date":1678023851,"answer_id":75642655,"question_id":75642561,"body_markdown":"Could be lazy init thing. Many to many relation is by default lazy initialized by JPA, so properties of your sureler entity are not fetched, thus remain null. Try maybe @EntityGraph annotation in your repository to rectify that, to force eager fetching. Or custom query.","title":"How to save relationship entity correctly in java spring boot","body":"<p>Could be lazy init thing. Many to many relation is by default lazy initialized by JPA, so properties of your sureler entity are not fetched, thus remain null. Try maybe @EntityGraph annotation in your repository to rectify that, to force eager fetching. Or custom query.</p>\n"},{"tags":[],"owner":{"account_id":16206688,"reputation":607,"user_id":11701675,"display_name":"natyus"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678031468,"creation_date":1678031468,"answer_id":75643445,"question_id":75642561,"body_markdown":"The problem is solved I think the problem lied in the db saving the new values of sure in the table sure before adding them to the student were enough. But this brought another problme which I posted in this thread: https://stackoverflow.com/questions/75643434/how-to-save-many-to-many-correctly-in-jhipster-spring-boot","title":"How to save relationship entity correctly in java spring boot","body":"<p>The problem is solved I think the problem lied in the db saving the new values of sure in the table sure before adding them to the student were enough. But this brought another problme which I posted in this thread: <a href=\"https://stackoverflow.com/questions/75643434/how-to-save-many-to-many-correctly-in-jhipster-spring-boot\">How to save many to many correctly in jhipster spring boot</a></p>\n"}],"owner":{"account_id":16206688,"reputation":607,"user_id":11701675,"display_name":"natyus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1678031468,"creation_date":1678023008,"question_id":75642561,"body_markdown":"I have two entites in spring boot generated with jhipster first one:\r\n\r\nStudent:\r\n @Column(name = &quot;child_birth_date&quot;)\r\n    private LocalDate childBirthDate;\r\n\r\n    @Column(name = &quot;street&quot;)\r\n    private String street;\r\n\r\n    @Column(name = &quot;postal&quot;)\r\n    private Long postal;\r\n\r\n    @ManyToMany\r\n    @JoinTable(\r\n        name = &quot;rel_student__sureler&quot;,\r\n        joinColumns = @JoinColumn(name = &quot;student_id&quot;),\r\n        inverseJoinColumns = @JoinColumn(name = &quot;sureler_id&quot;)\r\n    )\r\n    @Cache(usage = CacheConcurrencyStrategy.READ_WRITE)\r\n    @JsonIgnoreProperties(value = { &quot;students&quot; }, allowSetters = true)\r\n    private Set&lt;Sureler&gt; surelers = new HashSet&lt;&gt;();\r\n\r\nAnd the Sureler entity:\r\n\r\n \r\n\r\n    @Column(name = &quot;name&quot;)\r\n        private String name;\r\n    \r\n        @Column(name = &quot;student_status&quot;)\r\n        private String studentStatus;\r\n    \r\n        @ManyToMany(mappedBy = &quot;surelers&quot;)\r\n        @Cache(usage = CacheConcurrencyStrategy.READ_WRITE)\r\n        @JsonIgnoreProperties(value = { &quot;surelers&quot; }, allowSetters = true)\r\n        private Set&lt;Student&gt; students = new HashSet&lt;&gt;();\r\n\r\nNow I have the following code to update the surelers of my studententity:\r\n\r\n     @Transactional\r\n        @PatchMapping(value = &quot;/students/{id}&quot;, consumes = { &quot;application/json&quot;, &quot;application/merge-patch+json&quot; })\r\n        public ResponseEntity&lt;StudentDTO&gt; partialUpdateStudent(\r\n            @PathVariable(value = &quot;id&quot;, required = false) final Long id,\r\n            @RequestParam String sureName,\r\n            @RequestParam String studentStatus\r\n        ) throws URISyntaxException {\r\n            log.debug(&quot;REST request to partial update Student partially : {}&quot;, id);\r\n    \r\n            // Fetch the student entity from the database\r\n            Student student = studentRepository.findById(id)\r\n                .orElseThrow(() -&gt; new EntityNotFoundException(&quot;Student with id &quot; + id + &quot; not found&quot;));\r\n    \r\n            Sureler sure = surelerRepository.findByName(sureName)\r\n                .orElseGet(() -&gt; {\r\n                    Sureler newSureler = new Sureler();\r\n                    newSureler.setName(sureName);\r\n                    return surelerRepository.save(newSureler);\r\n                });\r\n    \r\n            student.getSurelers().add(sure);\r\n    \r\n            // Update the necessary fields\r\n            student.getSurelers().forEach(sureler -&gt; {\r\n                if (sureler.getName().equals(sureName)) {\r\n                    sureler.setStudentStatus(studentStatus);\r\n                }\r\n            });\r\n    \r\n            // Save the updated entity using the repository\r\n            Student updatedStudent = studentRepository.save(student);\r\n            StudentDTO result = studentMapper.toDto(updatedStudent);\r\n    \r\n            return ResponseEntity.ok()\r\n                .headers(HeaderUtil.createEntityUpdateAlert(applicationName, true, ENTITY_NAME, result.getId().toString()))\r\n                .body(result);\r\n        } \r\n\r\nBut this code produces an output like this:\r\n\r\n    {\r\n      &quot;id&quot;: 5,\r\n      &quot;parentFirstName&quot;: &quot;Avon&quot;,\r\n      &quot;parentLastName&quot;: &quot;Buckinghamshire transmitter&quot;,\r\n      &quot;parentPhoneNumber&quot;: &quot;Steel Triple-buffered Gibraltar&quot;,\r\n      &quot;parentEmailAdress&quot;: &quot;microchip Ruble&quot;,\r\n      &quot;parentType&quot;: &quot;Refined&quot;,\r\n      &quot;childFirstName&quot;: &quot;Alperen&quot;,\r\n      &quot;childLastName&quot;: &quot;Toraman&quot;,\r\n      &quot;childBirthDate&quot;: &quot;2023-02-23&quot;,\r\n      &quot;street&quot;: &quot;Klose Turnpike&quot;,\r\n      &quot;postal&quot;: 64876,\r\n      &quot;surelers&quot;: [\r\n        {\r\n          &quot;id&quot;: 3,\r\n          &quot;name&quot;: null,\r\n          &quot;studentStatus&quot;: null\r\n        }\r\n      ]\r\n    }\r\n\r\nAs you can see the surelers list has name and studentStatus as null but I do not understand why, it seems the problem is caused by the merge method of entityManager which is used in the save method (Jparepository) at least this is somehow what I came as a conclusion through debugging but I can not find a solution.\r\n\r\nOne thing to notice Sureler table can have status as null its only important that the instance which is generated while updating the student has the status set. Name exists","title":"How to save relationship entity correctly in java spring boot","body":"<p>I have two entites in spring boot generated with jhipster first one:</p>\n<p>Student:\n@Column(name = &quot;child_birth_date&quot;)\nprivate LocalDate childBirthDate;</p>\n<pre><code>@Column(name = &quot;street&quot;)\nprivate String street;\n\n@Column(name = &quot;postal&quot;)\nprivate Long postal;\n\n@ManyToMany\n@JoinTable(\n    name = &quot;rel_student__sureler&quot;,\n    joinColumns = @JoinColumn(name = &quot;student_id&quot;),\n    inverseJoinColumns = @JoinColumn(name = &quot;sureler_id&quot;)\n)\n@Cache(usage = CacheConcurrencyStrategy.READ_WRITE)\n@JsonIgnoreProperties(value = { &quot;students&quot; }, allowSetters = true)\nprivate Set&lt;Sureler&gt; surelers = new HashSet&lt;&gt;();\n</code></pre>\n<p>And the Sureler entity:</p>\n<pre><code>@Column(name = &quot;name&quot;)\n    private String name;\n\n    @Column(name = &quot;student_status&quot;)\n    private String studentStatus;\n\n    @ManyToMany(mappedBy = &quot;surelers&quot;)\n    @Cache(usage = CacheConcurrencyStrategy.READ_WRITE)\n    @JsonIgnoreProperties(value = { &quot;surelers&quot; }, allowSetters = true)\n    private Set&lt;Student&gt; students = new HashSet&lt;&gt;();\n</code></pre>\n<p>Now I have the following code to update the surelers of my studententity:</p>\n<pre><code> @Transactional\n    @PatchMapping(value = &quot;/students/{id}&quot;, consumes = { &quot;application/json&quot;, &quot;application/merge-patch+json&quot; })\n    public ResponseEntity&lt;StudentDTO&gt; partialUpdateStudent(\n        @PathVariable(value = &quot;id&quot;, required = false) final Long id,\n        @RequestParam String sureName,\n        @RequestParam String studentStatus\n    ) throws URISyntaxException {\n        log.debug(&quot;REST request to partial update Student partially : {}&quot;, id);\n\n        // Fetch the student entity from the database\n        Student student = studentRepository.findById(id)\n            .orElseThrow(() -&gt; new EntityNotFoundException(&quot;Student with id &quot; + id + &quot; not found&quot;));\n\n        Sureler sure = surelerRepository.findByName(sureName)\n            .orElseGet(() -&gt; {\n                Sureler newSureler = new Sureler();\n                newSureler.setName(sureName);\n                return surelerRepository.save(newSureler);\n            });\n\n        student.getSurelers().add(sure);\n\n        // Update the necessary fields\n        student.getSurelers().forEach(sureler -&gt; {\n            if (sureler.getName().equals(sureName)) {\n                sureler.setStudentStatus(studentStatus);\n            }\n        });\n\n        // Save the updated entity using the repository\n        Student updatedStudent = studentRepository.save(student);\n        StudentDTO result = studentMapper.toDto(updatedStudent);\n\n        return ResponseEntity.ok()\n            .headers(HeaderUtil.createEntityUpdateAlert(applicationName, true, ENTITY_NAME, result.getId().toString()))\n            .body(result);\n    } \n</code></pre>\n<p>But this code produces an output like this:</p>\n<pre><code>{\n  &quot;id&quot;: 5,\n  &quot;parentFirstName&quot;: &quot;Avon&quot;,\n  &quot;parentLastName&quot;: &quot;Buckinghamshire transmitter&quot;,\n  &quot;parentPhoneNumber&quot;: &quot;Steel Triple-buffered Gibraltar&quot;,\n  &quot;parentEmailAdress&quot;: &quot;microchip Ruble&quot;,\n  &quot;parentType&quot;: &quot;Refined&quot;,\n  &quot;childFirstName&quot;: &quot;Alperen&quot;,\n  &quot;childLastName&quot;: &quot;Toraman&quot;,\n  &quot;childBirthDate&quot;: &quot;2023-02-23&quot;,\n  &quot;street&quot;: &quot;Klose Turnpike&quot;,\n  &quot;postal&quot;: 64876,\n  &quot;surelers&quot;: [\n    {\n      &quot;id&quot;: 3,\n      &quot;name&quot;: null,\n      &quot;studentStatus&quot;: null\n    }\n  ]\n}\n</code></pre>\n<p>As you can see the surelers list has name and studentStatus as null but I do not understand why, it seems the problem is caused by the merge method of entityManager which is used in the save method (Jparepository) at least this is somehow what I came as a conclusion through debugging but I can not find a solution.</p>\n<p>One thing to notice Sureler table can have status as null its only important that the instance which is generated while updating the student has the status set. Name exists</p>\n"},{"tags":["java","database","firebase-realtime-database"],"comments":[{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1677966390,"post_id":75638538,"comment_id":133442794,"body_markdown":"None of the code in your question is reading anything from the Firebase Realtime Database yet, so it&#39;s hard to say what isn&#39;t working about it. Can you edit your question to show a [minimal repro](http://stackoverflow.com/help/mcve) (read the link please, it&#39;s quite useful)?","body":"None of the code in your question is reading anything from the Firebase Realtime Database yet, so it&#39;s hard to say what isn&#39;t working about it. Can you edit your question to show a <a href=\"http://stackoverflow.com/help/mcve\">minimal repro</a> (read the link please, it&#39;s quite useful)?"},{"owner":{"account_id":27166721,"reputation":27,"user_id":21260391,"display_name":"Person"},"score":0,"creation_date":1678003795,"post_id":75638538,"comment_id":133446308,"body_markdown":"@FrankvanPuffelen, is this anought?","body":"@FrankvanPuffelen, is this anought?"}],"answers":[{"comments":[{"owner":{"account_id":27166721,"reputation":27,"user_id":21260391,"display_name":"Person"},"score":0,"creation_date":1678042927,"post_id":75643441,"comment_id":133452289,"body_markdown":"Can i push data without uid of user?","body":"Can i push data without uid of user?"},{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1678046872,"post_id":75643441,"comment_id":133453111,"body_markdown":"That&#39;s what you did. But then you can&#39;t load the data based on the UID, because nothing in the screenshot you shared allows the database to map from the UID of the user to the node you have in there.","body":"That&#39;s what you did. But then you can&#39;t load the data based on the UID, because nothing in the screenshot you shared allows the database to map from the UID of the user to the node you have in there."},{"owner":{"account_id":27166721,"reputation":27,"user_id":21260391,"display_name":"Person"},"score":0,"creation_date":1678051100,"post_id":75643441,"comment_id":133453805,"body_markdown":"Well.. I use auth only to create acount and i put email in SharedPreferences which don&#39;t have points, create variable for this email and i push it to db. When i get data using &quot;new&quot; email like for child. Is it incorrect?","body":"Well.. I use auth only to create acount and i put email in SharedPreferences which don&#39;t have points, create variable for this email and i push it to db. When i get data using &quot;new&quot; email like for child. Is it incorrect?"},{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1678053185,"post_id":75643441,"comment_id":133454117,"body_markdown":"Once you create an account, the user gets a UID. So at that point you can use the code in my answer to create their profile in Firestore, and after that your code for reading their profile will worj.","body":"Once you create an account, the user gets a UID. So at that point you can use the code in my answer to create their profile in Firestore, and after that your code for reading their profile will worj."},{"owner":{"account_id":27166721,"reputation":27,"user_id":21260391,"display_name":"Person"},"score":0,"creation_date":1678085253,"post_id":75643441,"comment_id":133457956,"body_markdown":"Every time when i prees btn for pushing data, database creates own id, can i decline your offer and use childs without uid?","body":"Every time when i prees btn for pushing data, database creates own id, can i decline your offer and use childs without uid?"},{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1678118704,"post_id":75643441,"comment_id":133467130,"body_markdown":"Your code for **reading** the user is doing database.child(&quot;User&quot;).child(firebaseUser.getUid())` - so it assumed you&#39;ve stored the data under a UID. You can do whatever you want, but the code that reads and the code that writes will have to match up.","body":"Your code for <b>reading</b> the user is doing database.child(&quot;User&quot;).child(firebaseUser.getUid())` - so it assumed you&#39;ve stored the data under a UID. You can do whatever you want, but the code that reads and the code that writes will have to match up."}],"tags":[],"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678031461,"creation_date":1678031461,"answer_id":75643441,"question_id":75638538,"body_markdown":"Your code tries to read `database.child(&quot;User&quot;).child(firebaseUser.getUid())`, but the key under the `User` node is not a UID. That explains why the code can&#39;t find the data.\r\n\r\nIf you want to be able to look up the user by their UID, you should first store the data under the UID of the user. It look like currently you do something like:\r\n\r\n```\r\nref.child(&quot;User&quot;).push().setValue(userdata);\r\n```\r\n\r\nThe `push()` call in here creates the `-NP` key. To store the data under the user&#39;s UID, you&#39;ll want to do:\r\n\r\n```\r\nString uid = FirebaseAuth.getInstance().getCurrentUser().getUid();\r\n\r\nref.child(&quot;User&quot;).child(uid).setValue(userdata);\r\n```\r\n","title":"How i can get uid in firebase db?","body":"<p>Your code tries to read <code>database.child(&quot;User&quot;).child(firebaseUser.getUid())</code>, but the key under the <code>User</code> node is not a UID. That explains why the code can't find the data.</p>\n<p>If you want to be able to look up the user by their UID, you should first store the data under the UID of the user. It look like currently you do something like:</p>\n<pre><code>ref.child(&quot;User&quot;).push().setValue(userdata);\n</code></pre>\n<p>The <code>push()</code> call in here creates the <code>-NP</code> key. To store the data under the user's UID, you'll want to do:</p>\n<pre><code>String uid = FirebaseAuth.getInstance().getCurrentUser().getUid();\n\nref.child(&quot;User&quot;).child(uid).setValue(userdata);\n</code></pre>\n"}],"owner":{"account_id":27166721,"reputation":27,"user_id":21260391,"display_name":"Person"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75643441,"answer_count":1,"score":0,"last_activity_date":1678031461,"creation_date":1677962535,"question_id":75638538,"body_markdown":"I trying to read data from db and i trying to read like usiing this childs:\r\n```\r\nchild(&quot;User&quot;).child(emaildb).\r\n```\r\nBut how i can get name of this child:\r\n[![enter image description here][1]][1]\r\nthis child created automatly after pushing data into db.\r\nHow i use this code to try read data:\r\n```java\r\nload.setOnClickListener(new View.OnClickListener() {\r\n    @Override\r\n    public void onClick(View view) {\r\n        String a = emailString.replace(&quot;.&quot;, &quot;&quot;);\r\n        Query recentPostsQuery = database.child(&quot;User&quot;).child(firebaseUser.getUid()).child(a);\r\n        recentPostsQuery.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(DataSnapshot dataSnapshot) {\r\n                for (DataSnapshot snapshot : dataSnapshot.getChildren()) {\r\n                    User value = dataSnapshot.getValue(User.class);\r\n                    Toast.makeText(More.this, &quot;User-loaded data&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n                    PreferenceConfig.Data(getApplicationContext(), data);\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/mXRoM.png","title":"How i can get uid in firebase db?","body":"<p>I trying to read data from db and i trying to read like usiing this childs:</p>\n<pre><code>child(&quot;User&quot;).child(emaildb).\n</code></pre>\n<p>But how i can get name of this child:\n<a href=\"https://i.stack.imgur.com/mXRoM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mXRoM.png\" alt=\"enter image description here\" /></a>\nthis child created automatly after pushing data into db.\nHow i use this code to try read data:</p>\n<pre class=\"lang-java prettyprint-override\"><code>load.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View view) {\n        String a = emailString.replace(&quot;.&quot;, &quot;&quot;);\n        Query recentPostsQuery = database.child(&quot;User&quot;).child(firebaseUser.getUid()).child(a);\n        recentPostsQuery.addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(DataSnapshot dataSnapshot) {\n                for (DataSnapshot snapshot : dataSnapshot.getChildren()) {\n                    User value = dataSnapshot.getValue(User.class);\n                    Toast.makeText(More.this, &quot;User-loaded data&quot;, Toast.LENGTH_SHORT).show();\n\n                    PreferenceConfig.Data(getApplicationContext(), data);\n</code></pre>\n"},{"tags":["java","firebase-realtime-database"],"comments":[{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1678030794,"post_id":75641147,"comment_id":133450184,"body_markdown":"It looks like your code is trying to read something else than `/User`, which is not allowed by the second rules you show. Without seeing the [minimal code that triggers the error message](http://stackoverflow.com/help/mcve) it&#39;s hard to say more.","body":"It looks like your code is trying to read something else than <code>&#47;User</code>, which is not allowed by the second rules you show. Without seeing the <a href=\"http://stackoverflow.com/help/mcve\">minimal code that triggers the error message</a> it&#39;s hard to say more."},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1678096321,"post_id":75641147,"comment_id":133460558,"body_markdown":"Please edit your question and add the information Frank asked for, and please also respond using @.","body":"Please edit your question and add the information Frank asked for, and please also respond using @."}],"owner":{"account_id":27166721,"reputation":27,"user_id":21260391,"display_name":"Person"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678030727,"creation_date":1678007195,"question_id":75641147,"body_markdown":"I trying to read data and after pressing button nothing happened. When i opened LogCat i saw this error:\r\n\r\n&gt; type=1400 audit(506975.539:15): avc: denied { read write } for pid=5920 comm=&quot;print&quot; name=\r\n\r\nBut in firebase rules i  have this code:\r\n```lang-json\r\n{\r\n  &quot;rules&quot;: {\r\n    &quot;.read&quot;: true,\r\n    &quot;.write&quot;: true\r\n  \t}\r\n  }\r\n```\r\nWhen i added path in rules:\r\n```lang-json\r\n{\r\n  &quot;rules&quot;: {\r\n    &quot;User&quot; : {\r\n    &quot;.read&quot;: true,\r\n    &quot;.write&quot;: true\r\n  \t}\r\n  }\r\n}\r\n```\r\nI have this error:\r\n```\r\nE/audit: type=1400 msg=audit(1678006800.443:43969): avc:  denied  { connectto } for  pid=840 comm=&quot;smdexe&quot; path=&quot;/data/.socket_stream&quot; scontext=u:r:smdexe:s0 tcontext=u:r:init:s0 tclass=unix_stream_socket permissive=0\r\n\r\n? E/audit:  SEPF_SM-J200H_5.1.1_0018\r\n\r\n? E/audit: type=1300 msg=audit(1678006800.443:43969): arch=40000028 syscall=283 per=800000 success=no exit=-13 a0=4 a1=b63efcfc a2=6e a3=b6f99910 items=0 ppid=1 pid=840 auid=4294967295 uid=1000 gid=1000 euid=1000 suid=1000 fsuid=1000 egid=1000 sgid=1000 fsgid=1000 ses=4294967295 tty=(none) comm=&quot;smdexe&quot; exe=&quot;/system/bin/smdexe&quot; subj=u:r:smdexe:s0 key=(null)\r\n? E/audit: type=1320 msg=audit(1678006800.443:43969): \r\n```","title":"? E: audit error in android in firebase db","body":"<p>I trying to read data and after pressing button nothing happened. When i opened LogCat i saw this error:</p>\n<blockquote>\n<p>type=1400 audit(506975.539:15): avc: denied { read write } for pid=5920 comm=&quot;print&quot; name=</p>\n</blockquote>\n<p>But in firebase rules i  have this code:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;rules&quot;: {\n    &quot;.read&quot;: true,\n    &quot;.write&quot;: true\n    }\n  }\n</code></pre>\n<p>When i added path in rules:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;rules&quot;: {\n    &quot;User&quot; : {\n    &quot;.read&quot;: true,\n    &quot;.write&quot;: true\n    }\n  }\n}\n</code></pre>\n<p>I have this error:</p>\n<pre><code>E/audit: type=1400 msg=audit(1678006800.443:43969): avc:  denied  { connectto } for  pid=840 comm=&quot;smdexe&quot; path=&quot;/data/.socket_stream&quot; scontext=u:r:smdexe:s0 tcontext=u:r:init:s0 tclass=unix_stream_socket permissive=0\n\n? E/audit:  SEPF_SM-J200H_5.1.1_0018\n\n? E/audit: type=1300 msg=audit(1678006800.443:43969): arch=40000028 syscall=283 per=800000 success=no exit=-13 a0=4 a1=b63efcfc a2=6e a3=b6f99910 items=0 ppid=1 pid=840 auid=4294967295 uid=1000 gid=1000 euid=1000 suid=1000 fsuid=1000 egid=1000 sgid=1000 fsgid=1000 ses=4294967295 tty=(none) comm=&quot;smdexe&quot; exe=&quot;/system/bin/smdexe&quot; subj=u:r:smdexe:s0 key=(null)\n? E/audit: type=1320 msg=audit(1678006800.443:43969): \n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa","entity-relationship"],"answers":[{"comments":[{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1678031505,"post_id":75643325,"comment_id":133450304,"body_markdown":"Thanks a lot, do you mean both (diagram + Hibernate implementation) are correct?","body":"Thanks a lot, do you mean both (diagram + Hibernate implementation) are correct?"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1678031582,"post_id":75643325,"comment_id":133450318,"body_markdown":"Also, I sometimes think of using Set&lt;&gt; or List&lt;&gt; in Hibernate entity relationship, but could not really understand (I read that article before, but some others also use Set&lt;&gt;. So, what do you think about the difference and why List&lt;&gt;? I am not sure if you mean for all relationship types in Hibernate or just for ManyToMany.","body":"Also, I sometimes think of using Set&lt;&gt; or List&lt;&gt; in Hibernate entity relationship, but could not really understand (I read that article before, but some others also use Set&lt;&gt;. So, what do you think about the difference and why List&lt;&gt;? I am not sure if you mean for all relationship types in Hibernate or just for ManyToMany."}],"tags":[],"owner":{"account_id":5636066,"reputation":6620,"user_id":4461537,"accept_rate":89,"display_name":"Ren&#233; Winkler"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678030345,"creation_date":1678030345,"answer_id":75643325,"question_id":75643114,"body_markdown":"It seems to be correct. Maybe you can use List instead of Set. Furthermore you can use CascadeType.Persist too.\r\n\r\nFor details, see https://vladmihalcea.com/the-best-way-to-use-the-manytomany-annotation-with-jpa-and-hibernate/","title":"Hibernate @ManyToMany relationship using bridge entity?","body":"<p>It seems to be correct. Maybe you can use List instead of Set. Furthermore you can use CascadeType.Persist too.</p>\n<p>For details, see <a href=\"https://vladmihalcea.com/the-best-way-to-use-the-manytomany-annotation-with-jpa-and-hibernate/\" rel=\"nofollow noreferrer\">https://vladmihalcea.com/the-best-way-to-use-the-manytomany-annotation-with-jpa-and-hibernate/</a></p>\n"}],"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678030345,"creation_date":1678028401,"question_id":75643114,"body_markdown":"I designed a many to many relationship by using 2 OneToMany relationships as shown below:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIn here, \r\n\r\n- a user must have at least one or many roles.\r\n- a role can be belonged no user or many users.\r\n\r\nIn this scene, is this ER diagram relations true? \r\n\r\nAnd, is the Hibernate definitions also ok or any need to update? \r\n\r\n```\r\n@Entity\r\npublic class User {\r\n\r\n     // ...\r\n\r\n    @ManyToMany(cascade = CascadeType.MERGE)\r\n    @JoinTable(name = &quot;user_role&quot;,\r\n        joinColumns = @JoinColumn(name = &quot;user_id&quot;, nullable = false),\r\n        inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;)\r\n    )\r\n    private Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\r\n\r\n    public void addRole(Role role) {\r\n        roles.add(role);\r\n        role.getUsers().add(this);\r\n    }\r\n\r\n    public void removeRole(Role role) {\r\n        roles.remove(role);\r\n        role.getUsers().remove(this);\r\n    }\r\n}\r\n```\r\n\r\n&lt;br/&gt;\r\n\r\n\r\n\r\n```\r\n@Entity\r\npublic class Role {\r\n    // ...\r\n\r\n    @ManyToMany(mappedBy = &quot;roles&quot;)\r\n    private Set&lt;User&gt; users = new HashSet&lt;&gt;();\r\n\r\n    public void addUser(User user) {\r\n        users.add(user);\r\n        user.getRoles().add(this);\r\n    }\r\n\r\n    public void removeUser(User user) {\r\n        users.remove(user);\r\n        user.getRoles().remove(this);\r\n    }\r\n}\r\n```\r\n  [1]: https://i.stack.imgur.com/VtblA.png","title":"Hibernate @ManyToMany relationship using bridge entity?","body":"<p>I designed a many to many relationship by using 2 OneToMany relationships as shown below:</p>\n<p><a href=\"https://i.stack.imgur.com/VtblA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VtblA.png\" alt=\"enter image description here\" /></a></p>\n<p>In here,</p>\n<ul>\n<li>a user must have at least one or many roles.</li>\n<li>a role can be belonged no user or many users.</li>\n</ul>\n<p>In this scene, is this ER diagram relations true?</p>\n<p>And, is the Hibernate definitions also ok or any need to update?</p>\n<pre><code>@Entity\npublic class User {\n\n     // ...\n\n    @ManyToMany(cascade = CascadeType.MERGE)\n    @JoinTable(name = &quot;user_role&quot;,\n        joinColumns = @JoinColumn(name = &quot;user_id&quot;, nullable = false),\n        inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;)\n    )\n    private Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\n\n    public void addRole(Role role) {\n        roles.add(role);\n        role.getUsers().add(this);\n    }\n\n    public void removeRole(Role role) {\n        roles.remove(role);\n        role.getUsers().remove(this);\n    }\n}\n</code></pre>\n<br/>\n<pre><code>@Entity\npublic class Role {\n    // ...\n\n    @ManyToMany(mappedBy = &quot;roles&quot;)\n    private Set&lt;User&gt; users = new HashSet&lt;&gt;();\n\n    public void addUser(User user) {\n        users.add(user);\n        user.getRoles().add(this);\n    }\n\n    public void removeUser(User user) {\n        users.remove(user);\n        user.getRoles().remove(this);\n    }\n}\n</code></pre>\n"},{"tags":["java","apache-spark","livy"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1678029827,"post_id":75634272,"comment_id":133450025,"body_markdown":"Please show your full stacktrace","body":"Please show your full stacktrace"}],"owner":{"account_id":12533976,"reputation":15,"user_id":9121198,"display_name":"Ajit Sharma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678029808,"creation_date":1677914968,"question_id":75634272,"body_markdown":"Below is my code. LivyClient is not able to upload jar with dependency and it throws exception java.util.concurrent.ExecutionException. Please help to resolve this issue.\r\n\r\n    public class LivyConfig {\r\n    @Bean\r\n    public LivyClient client() throws URISyntaxException, IOException {\r\n    \t\r\n        URI uri = new URI(&quot;http://localhost:8998&quot;);\r\n        \r\n\tMap&lt;String,String&gt; config = new HashMap&lt;String,String&gt;();\r\n\tconfig.put(&quot;spark.app.name&quot;,&quot;livy-poc&quot;);        \r\n\tconfig.put(&quot;livy.client.http.connection.timeout&quot;, &quot;180s&quot;);\r\n\tconfig.put(&quot;livy.client.http.connection.socket.timeout&quot;, &quot;180s&quot;);\r\n\tconfig.put(&quot;spark.driver.memory&quot;, &quot;4g&quot;);\r\n\t\r\n\tconfig.put(&quot;spark.hadoop.mapreduce.fileoutputcommitter.algorithm.version&quot;, &quot;2&quot;);\r\n\tconfig.put(&quot;spark.hadoop.fs.s3a.impl&quot;, &quot;org.apache.hadoop.fs.s3a.S3AFileSystem&quot;);\r\n\tconfig.put(&quot;fs.s3a.access.key&quot;, &quot;&lt;access_key&gt;&quot;);\r\n\tconfig.put(&quot;fs.s3a.secret.key&quot;, &quot;&lt;secret_key&gt;&quot;);\r\n\t\t\r\n        LivyClient client = new LivyClientBuilder(false).setURI(uri).setAll(config).build();        \r\n        \r\n        try {\r\n        \t//client.uploadJar(new File(&quot;/mnt/vol1/LivyDemoApp.jar&quot;)).get(60, TimeUnit.SECONDS);//It&#39;s working\r\n        \tclient.uploadJar(new File(&quot;/mnt/vol1/LivyDemoApp-jar-with-dependencies.jar&quot;)).get(180, TimeUnit.SECONDS);//Not working\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        return client;\r\n    }\t\r\n}","title":"LivyClient is not able to upload jar with dependency","body":"<p>Below is my code. LivyClient is not able to upload jar with dependency and it throws exception java.util.concurrent.ExecutionException. Please help to resolve this issue.</p>\n<pre><code>public class LivyConfig {\n@Bean\npublic LivyClient client() throws URISyntaxException, IOException {\n    \n    URI uri = new URI(&quot;http://localhost:8998&quot;);\n    \nMap&lt;String,String&gt; config = new HashMap&lt;String,String&gt;();\nconfig.put(&quot;spark.app.name&quot;,&quot;livy-poc&quot;);        \nconfig.put(&quot;livy.client.http.connection.timeout&quot;, &quot;180s&quot;);\nconfig.put(&quot;livy.client.http.connection.socket.timeout&quot;, &quot;180s&quot;);\nconfig.put(&quot;spark.driver.memory&quot;, &quot;4g&quot;);\n\nconfig.put(&quot;spark.hadoop.mapreduce.fileoutputcommitter.algorithm.version&quot;, &quot;2&quot;);\nconfig.put(&quot;spark.hadoop.fs.s3a.impl&quot;, &quot;org.apache.hadoop.fs.s3a.S3AFileSystem&quot;);\nconfig.put(&quot;fs.s3a.access.key&quot;, &quot;&lt;access_key&gt;&quot;);\nconfig.put(&quot;fs.s3a.secret.key&quot;, &quot;&lt;secret_key&gt;&quot;);\n    \n    LivyClient client = new LivyClientBuilder(false).setURI(uri).setAll(config).build();        \n    \n    try {\n        //client.uploadJar(new File(&quot;/mnt/vol1/LivyDemoApp.jar&quot;)).get(60, TimeUnit.SECONDS);//It's working\n        client.uploadJar(new File(&quot;/mnt/vol1/LivyDemoApp-jar-with-dependencies.jar&quot;)).get(180, TimeUnit.SECONDS);//Not working\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    return client;\n}   \n</code></pre>\n<p>}</p>\n"},{"tags":["java","android","nfc","emv","mastercard"],"owner":{"account_id":11125108,"reputation":5965,"user_id":8166854,"display_name":"Michael Fehr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":210,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678029617,"creation_date":1678029617,"question_id":75643247,"body_markdown":"I&#39;m trying to read the Application Transaction Counter (ATC) from a payment (credit) card. Unfortunately I get a positive response only for VisaCards but not for MasterCards. \r\n\r\nThis seems to be unusual because the ATC is part of a cryptogram when making payments and I didn&#39;t found any information that this information is not available on MasterCards generally.\r\n\r\n1) select PPSE and search for tag 0x4F in respond (available AID(s))\r\n2) here we are selecting the AIDs manually for VisaCard (AID A0000000031010) or MasterCard (A0000000041010)\r\n3) get the ATC: \r\n\r\n- response for VisaCard (hex): 0353\r\n- response for MasterCard: 6a88 -&gt; this is an error code meaning &quot;Referenced data not found&quot;\r\n\r\n**Are there any problems with my code or is there another way of getting the ATC from a MasterCard?**\r\n\r\nThis is the code I used to retrieve the data:\r\n```plaintext\r\n    private byte[] getApplicationTransactionCounter(IsoDep nfc) {\r\n        byte[] cmd = new byte[]{(byte) 0x80, (byte) 0xCA, (byte) 0x9F, (byte) 0x36, (byte) 0x00};\r\n        byte[] result = new byte[0];\r\n        try {\r\n            result = nfc.transceive(cmd);\r\n        } catch (IOException e) {\r\n            System.out.println(&quot;* getApplicationTransactionCounter failed&quot;);\r\n            return null;\r\n        }\r\n        if (result.length == 7) {\r\n            // example result: 9f360200169000, counter is (hex) 00 16 = (decimal) 22\r\n            return Arrays.copyOfRange(result, (result.length - 4), (result.length - 2));\r\n        }\r\n        return result;\r\n    }\r\n```\r\n\r\nA complete project is available in my GitHub repository https://github.com/MichaelsPlayground/NfcEmvReadAtc\r\n","title":"EMV get application transaction counter fails for MasterCard but not for VisaCards (Java)","body":"<p>I'm trying to read the Application Transaction Counter (ATC) from a payment (credit) card. Unfortunately I get a positive response only for VisaCards but not for MasterCards.</p>\n<p>This seems to be unusual because the ATC is part of a cryptogram when making payments and I didn't found any information that this information is not available on MasterCards generally.</p>\n<ol>\n<li>select PPSE and search for tag 0x4F in respond (available AID(s))</li>\n<li>here we are selecting the AIDs manually for VisaCard (AID A0000000031010) or MasterCard (A0000000041010)</li>\n<li>get the ATC:</li>\n</ol>\n<ul>\n<li>response for VisaCard (hex): 0353</li>\n<li>response for MasterCard: 6a88 -&gt; this is an error code meaning &quot;Referenced data not found&quot;</li>\n</ul>\n<p><strong>Are there any problems with my code or is there another way of getting the ATC from a MasterCard?</strong></p>\n<p>This is the code I used to retrieve the data:</p>\n<pre><code>    private byte[] getApplicationTransactionCounter(IsoDep nfc) {\n        byte[] cmd = new byte[]{(byte) 0x80, (byte) 0xCA, (byte) 0x9F, (byte) 0x36, (byte) 0x00};\n        byte[] result = new byte[0];\n        try {\n            result = nfc.transceive(cmd);\n        } catch (IOException e) {\n            System.out.println(&quot;* getApplicationTransactionCounter failed&quot;);\n            return null;\n        }\n        if (result.length == 7) {\n            // example result: 9f360200169000, counter is (hex) 00 16 = (decimal) 22\n            return Arrays.copyOfRange(result, (result.length - 4), (result.length - 2));\n        }\n        return result;\n    }\n</code></pre>\n<p>A complete project is available in my GitHub repository <a href=\"https://github.com/MichaelsPlayground/NfcEmvReadAtc\" rel=\"nofollow noreferrer\">https://github.com/MichaelsPlayground/NfcEmvReadAtc</a></p>\n"},{"tags":["java","http-post","httpclient"],"answers":[{"comments":[{"owner":{"account_id":7799459,"reputation":1,"user_id":5899430,"display_name":"Majid Asadi"},"score":0,"creation_date":1677393333,"post_id":75570334,"comment_id":133326724,"body_markdown":"Next, the setEntity() method is called on the HttpPost object, and an instance of ByteArrayEntity is created with the empty byte array as its argument. The ByteArrayEntity is used to represent the binary data being sent in the HttpPost request.","body":"Next, the setEntity() method is called on the HttpPost object, and an instance of ByteArrayEntity is created with the empty byte array as its argument. The ByteArrayEntity is used to represent the binary data being sent in the HttpPost request."},{"owner":{"account_id":1537474,"reputation":3656,"user_id":1433066,"accept_rate":68,"display_name":"Nick Dong"},"score":0,"creation_date":1677393961,"post_id":75570334,"comment_id":133326759,"body_markdown":"Thank you. What does the URL `&quot;http://example.com/upload&quot;` mean? I just wanna implement the `--data-binary {}`.","body":"Thank you. What does the URL <code>&quot;http:&#47;&#47;example.com&#47;upload&quot;</code> mean? I just wanna implement the <code>--data-binary {}</code>."},{"owner":{"account_id":7799459,"reputation":1,"user_id":5899430,"display_name":"Majid Asadi"},"score":0,"creation_date":1677395262,"post_id":75570334,"comment_id":133326863,"body_markdown":"this is your url =&gt; in line HttpPost httpPost = new HttpPost(url);","body":"this is your url =&gt; in line HttpPost httpPost = new HttpPost(url);"},{"owner":{"account_id":1537474,"reputation":3656,"user_id":1433066,"accept_rate":68,"display_name":"Nick Dong"},"score":0,"creation_date":1677400591,"post_id":75570334,"comment_id":133327429,"body_markdown":"I am trying to implement a curl sample request. It supplies a request with empty binary data. And the interface, which the curl command requests, does not need any file uploads. Is it ok with an empty argument to HttpPost?","body":"I am trying to implement a curl sample request. It supplies a request with empty binary data. And the interface, which the curl command requests, does not need any file uploads. Is it ok with an empty argument to HttpPost?"}],"tags":[],"owner":{"account_id":7799459,"reputation":1,"user_id":5899430,"display_name":"Majid Asadi"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677795432,"creation_date":1677393145,"answer_id":75570334,"question_id":75552968,"body_markdown":"    byte[] emptyData = new byte[0];\r\n    \r\n    HttpPost httpPost = new HttpPost(&quot;http://example.com/upload&quot;);\r\n    \r\n    httpPost.setEntity(new ByteArrayEntity(emptyData));\r\n    \r\n    HttpClient httpClient = new DefaultHttpClient();\r\n    HttpResponse httpResponse = httpClient.execute(httpPost);\r\n\r\n","title":"how to send empty binary data by HttpPost using java","body":"<pre><code>byte[] emptyData = new byte[0];\n\nHttpPost httpPost = new HttpPost(&quot;http://example.com/upload&quot;);\n\nhttpPost.setEntity(new ByteArrayEntity(emptyData));\n\nHttpClient httpClient = new DefaultHttpClient();\nHttpResponse httpResponse = httpClient.execute(httpPost);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1537474,"reputation":3656,"user_id":1433066,"accept_rate":68,"display_name":"Nick Dong"},"score":0,"creation_date":1677810359,"post_id":75617579,"comment_id":133415488,"body_markdown":"The way using `{}`, `StringEntity se = new StringEntity(&quot;{}&quot;, &quot;UTF-8&quot;);\n`  works. But the way with InputStreamEntity get exception. `java.lang.IllegalArgumentException: Source input stream may not be null\n\tat org.apache.http.util.Args.notNull(Args.java:54)\n\tat org.apache.http.entity.InputStreamEntity.&lt;init&gt;(InputStreamEntity.java:92)\n\tat org.apache.http.entity.InputStreamEntity.&lt;init&gt;(InputStreamEntity.java:80)`","body":"The way using <code>{}</code>, <code>StringEntity se = new StringEntity(&quot;{}&quot;, &quot;UTF-8&quot;); </code>  works. But the way with InputStreamEntity get exception. <code>java.lang.IllegalArgumentException: Source input stream may not be null \tat org.apache.http.util.Args.notNull(Args.java:54) \tat org.apache.http.entity.InputStreamEntity.&lt;init&gt;(InputStreamE&zwnj;&#8203;ntity.java:92) \tat org.apache.http.entity.InputStreamEntity.&lt;init&gt;(InputStreamE&zwnj;&#8203;ntity.java:80)</code>"},{"owner":{"account_id":10500127,"reputation":1609,"user_id":7739083,"display_name":"Stempler"},"score":0,"creation_date":1678029201,"post_id":75617579,"comment_id":133449910,"body_markdown":"Yes. I edited to code to initialize with empty input stream to use","body":"Yes. I edited to code to initialize with empty input stream to use"},{"owner":{"account_id":1537474,"reputation":3656,"user_id":1433066,"accept_rate":68,"display_name":"Nick Dong"},"score":0,"creation_date":1679641428,"post_id":75617579,"comment_id":133760817,"body_markdown":"The former method with &quot;{}&quot; works. But the method `new InputStreamEntity(IOUtils.toInputStream(&quot;&quot;), ContentType.APPLICATION_OCTET_STREAM)` does not work.","body":"The former method with &quot;{}&quot; works. But the method <code>new InputStreamEntity(IOUtils.toInputStream(&quot;&quot;), ContentType.APPLICATION_OCTET_STREAM)</code> does not work."}],"tags":[],"owner":{"account_id":10500127,"reputation":1609,"user_id":7739083,"display_name":"Stempler"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1678029167,"creation_date":1677771098,"answer_id":75617579,"question_id":75552968,"body_markdown":"The code you provide is for json type, not binary type:\r\n\r\n    httpPost.addHeader(&quot;Content-Type&quot;, &quot;application/json;charset=utf-8&quot;);\r\n\r\nIf you want an empty json request body, do:\r\n\r\n    StringEntity se = new StringEntity(&quot;{}&quot;, &quot;UTF-8&quot;);\r\nThis the equivalent of \r\n\r\n     --data-binary {}\r\n\r\n&quot;application/octet-stream&quot; is a generic binary data type, meaning it can be used to represent any type of binary data. This MIME type is commonly used when the content type of the data is unknown or when the data being transferred does not fit any other specific MIME type. It is often used to transfer files or raw binary data.\r\n\r\nFor binary, use:\r\n\r\n    httpPost.addHeader(&quot;Content-Type&quot;, &quot;application/octet-stream&quot;);\r\n\r\n   and initialize the entity with an empty inputStream:\r\n\r\n    import org.apache.commons.io.IOUtils;\r\n    import org.apache.http.HttpEntity;\r\n    import org.apache.http.client.HttpClient;\r\n    import org.apache.http.client.methods.HttpPost;\r\n    import org.apache.http.entity.ContentType;\r\n    import org.apache.http.entity.InputStreamEntity;\r\n    import org.apache.http.impl.client.HttpClientBuilder;\r\n    ....\r\n    public static void main(String[] args) throws IOException {\r\n        \r\n        String url = &quot;https://example.com/api/binary-endpoint&quot;;\r\n        \r\n        // create HttpClient instance\r\n        HttpClient httpClient = HttpClientBuilder.create().build();\r\n        \r\n        // create HttpPost instance with URL\r\n        HttpPost httpPost = new HttpPost(url);\r\n        \r\n        // create empty HttpEntity with binary content type\r\n        HttpEntity entity = new InputStreamEntity(IOUtils.toInputStream(&quot;&quot;), ContentType.APPLICATION_OCTET_STREAM);\r\n        \r\n        // set entity to request\r\n        httpPost.setEntity(entity);\r\n        \r\n        // send request\r\n        httpClient.execute(httpPost);\r\n    }","title":"how to send empty binary data by HttpPost using java","body":"<p>The code you provide is for json type, not binary type:</p>\n<pre><code>httpPost.addHeader(&quot;Content-Type&quot;, &quot;application/json;charset=utf-8&quot;);\n</code></pre>\n<p>If you want an empty json request body, do:</p>\n<pre><code>StringEntity se = new StringEntity(&quot;{}&quot;, &quot;UTF-8&quot;);\n</code></pre>\n<p>This the equivalent of</p>\n<pre><code> --data-binary {}\n</code></pre>\n<p>&quot;application/octet-stream&quot; is a generic binary data type, meaning it can be used to represent any type of binary data. This MIME type is commonly used when the content type of the data is unknown or when the data being transferred does not fit any other specific MIME type. It is often used to transfer files or raw binary data.</p>\n<p>For binary, use:</p>\n<pre><code>httpPost.addHeader(&quot;Content-Type&quot;, &quot;application/octet-stream&quot;);\n</code></pre>\n<p>and initialize the entity with an empty inputStream:</p>\n<pre><code>import org.apache.commons.io.IOUtils;\nimport org.apache.http.HttpEntity;\nimport org.apache.http.client.HttpClient;\nimport org.apache.http.client.methods.HttpPost;\nimport org.apache.http.entity.ContentType;\nimport org.apache.http.entity.InputStreamEntity;\nimport org.apache.http.impl.client.HttpClientBuilder;\n....\npublic static void main(String[] args) throws IOException {\n    \n    String url = &quot;https://example.com/api/binary-endpoint&quot;;\n    \n    // create HttpClient instance\n    HttpClient httpClient = HttpClientBuilder.create().build();\n    \n    // create HttpPost instance with URL\n    HttpPost httpPost = new HttpPost(url);\n    \n    // create empty HttpEntity with binary content type\n    HttpEntity entity = new InputStreamEntity(IOUtils.toInputStream(&quot;&quot;), ContentType.APPLICATION_OCTET_STREAM);\n    \n    // set entity to request\n    httpPost.setEntity(entity);\n    \n    // send request\n    httpClient.execute(httpPost);\n}\n</code></pre>\n"}],"owner":{"account_id":1537474,"reputation":3656,"user_id":1433066,"accept_rate":68,"display_name":"Nick Dong"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":457,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75617579,"answer_count":2,"score":2,"last_activity_date":1678029167,"creation_date":1677217163,"question_id":75552968,"body_markdown":"I wanna implement the HTTP post from curl.\r\n\r\n`curl $CURL_OPTS -X POST --data-binary {} -s -K &lt;(cat &lt;&lt;&lt; &quot;-u micromdm:$API_TOKEN&quot;) &quot;$SERVER_URL/$endpoint&quot;`\r\n\r\nThe curl command above sends empty binary data.\r\n\r\nI know how to send string data.\r\n\r\n**Sending string data**\r\n\r\n```java\r\ntry {\r\n            CloseableHttpClient httpClient = null;\r\n            try {\r\n                httpClient = HttpClients.createDefault();\r\n                HttpPost httpPost = new HttpPost(url);\r\n\r\n                httpPost.addHeader(&quot;Content-Type&quot;, &quot;application/json;charset=utf-8&quot;);\r\n                httpPost.addHeader(&quot;Accept&quot;, &quot;application/json;charset=utf-8&quot;);\r\n                httpPost.addHeader(&quot;Authorization&quot;, &quot;XXXXXXXX&quot;);\r\n\r\n                StringEntity se = new StringEntity(jsonstring, &quot;UTF-8&quot;);\r\n                httpPost.setEntity(se);\r\n\r\n                HttpResponse httpResponse = httpClient.execute(httpPost);\r\n            catch () {\r\n            }\r\ncatch () {\r\n}\r\n```\r\n\r\nBut how to send empty binary data?\r\n\r\nTrying\r\n\r\n```java\r\n                ByteArrayEntity byteArrayEntity = [];\r\n                httpPost.setEntity(byteArrayEntity, ContentType.DEFAULT_BINARY);\r\n```\r\nIt is not work.\r\n\r\n I read some articles which are not properly solutions.\r\n\r\n[http-post-in-java-with-file-upload](https://stackoverflow.com/questions/9692166/http-post-in-java-with-file-upload)\r\n\r\n[how-to-get-raw-binary-data-from-a-post-request-processed-by-spring](https://stackoverflow.com/questions/36901714/how-to-get-raw-binary-data-from-a-post-request-processed-by-spring)\r\n\r\n[uploading-binary-data-with-httppost](https://stackoverflow.com/questions/37141157/uploading-binary-data-with-httppost)\r\n\r\n[httpclient-post-http-request](https://www.baeldung.com/httpclient-post-http-request)\r\n\r\nThere are many similar related articles, but I didn&#39;t find the solution. Can anyone give me the code sample for this? Thank you.","title":"how to send empty binary data by HttpPost using java","body":"<p>I wanna implement the HTTP post from curl.</p>\n<p><code>curl $CURL_OPTS -X POST --data-binary {} -s -K &lt;(cat &lt;&lt;&lt; &quot;-u micromdm:$API_TOKEN&quot;) &quot;$SERVER_URL/$endpoint&quot;</code></p>\n<p>The curl command above sends empty binary data.</p>\n<p>I know how to send string data.</p>\n<p><strong>Sending string data</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n            CloseableHttpClient httpClient = null;\n            try {\n                httpClient = HttpClients.createDefault();\n                HttpPost httpPost = new HttpPost(url);\n\n                httpPost.addHeader(&quot;Content-Type&quot;, &quot;application/json;charset=utf-8&quot;);\n                httpPost.addHeader(&quot;Accept&quot;, &quot;application/json;charset=utf-8&quot;);\n                httpPost.addHeader(&quot;Authorization&quot;, &quot;XXXXXXXX&quot;);\n\n                StringEntity se = new StringEntity(jsonstring, &quot;UTF-8&quot;);\n                httpPost.setEntity(se);\n\n                HttpResponse httpResponse = httpClient.execute(httpPost);\n            catch () {\n            }\ncatch () {\n}\n</code></pre>\n<p>But how to send empty binary data?</p>\n<p>Trying</p>\n<pre class=\"lang-java prettyprint-override\"><code>                ByteArrayEntity byteArrayEntity = [];\n                httpPost.setEntity(byteArrayEntity, ContentType.DEFAULT_BINARY);\n</code></pre>\n<p>It is not work.</p>\n<p>I read some articles which are not properly solutions.</p>\n<p><a href=\"https://stackoverflow.com/questions/9692166/http-post-in-java-with-file-upload\">http-post-in-java-with-file-upload</a></p>\n<p><a href=\"https://stackoverflow.com/questions/36901714/how-to-get-raw-binary-data-from-a-post-request-processed-by-spring\">how-to-get-raw-binary-data-from-a-post-request-processed-by-spring</a></p>\n<p><a href=\"https://stackoverflow.com/questions/37141157/uploading-binary-data-with-httppost\">uploading-binary-data-with-httppost</a></p>\n<p><a href=\"https://www.baeldung.com/httpclient-post-http-request\" rel=\"nofollow noreferrer\">httpclient-post-http-request</a></p>\n<p>There are many similar related articles, but I didn't find the solution. Can anyone give me the code sample for this? Thank you.</p>\n"},{"tags":["java","android","gradle","android-gradle-plugin"],"answers":[{"tags":[],"owner":{"account_id":2767223,"reputation":21433,"user_id":2382650,"accept_rate":92,"display_name":"Cisco"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678028951,"creation_date":1678028951,"answer_id":75643175,"question_id":75635199,"body_markdown":"The `classpath` configuration is the configuration for the build script ([build environment](https://docs.gradle.org/current/userguide/build_environment.html)) itself, see [the docs](https://docs.gradle.org/current/userguide/tutorial_using_tasks.html#sec:build_script_external_dependencies) for more details. The issue you are facing is explained in the error you have provided:\r\n\r\n&gt; No matching variant of com.android.tools.build:gradle:7.4.0 was found. The consumer was configured to find a runtime of a library compatible with Java 8, packaged as a jar, and its dependencies declared externally, as well as attribute &#39;org.gradle.plugin.api-version&#39; with value &#39;7.5&#39;\r\n\r\nand so on. The concept of _variants_ is explained in [understanding variant selection](https://docs.gradle.org/current/userguide/variant_model.html). Breaking down, it seems the main issue is:\r\n\r\n* The `com.android.application` 7.4 requires Java 11, but you have configured Java 8. Possible [this](https://stackoverflow.com/questions/66980512/android-studio-error-android-gradle-plugin-requires-java-11-to-run-you-are-cur) answer may help you.\r\n","title":"Can&#39;t list my project&#39;s dependencies via gradle. &quot;Could not resolve all files for configuration &#39;:classpath&#39;.&quot;","body":"<p>The <code>classpath</code> configuration is the configuration for the build script (<a href=\"https://docs.gradle.org/current/userguide/build_environment.html\" rel=\"nofollow noreferrer\">build environment</a>) itself, see <a href=\"https://docs.gradle.org/current/userguide/tutorial_using_tasks.html#sec:build_script_external_dependencies\" rel=\"nofollow noreferrer\">the docs</a> for more details. The issue you are facing is explained in the error you have provided:</p>\n<blockquote>\n<p>No matching variant of com.android.tools.build:gradle:7.4.0 was found. The consumer was configured to find a runtime of a library compatible with Java 8, packaged as a jar, and its dependencies declared externally, as well as attribute 'org.gradle.plugin.api-version' with value '7.5'</p>\n</blockquote>\n<p>and so on. The concept of <em>variants</em> is explained in <a href=\"https://docs.gradle.org/current/userguide/variant_model.html\" rel=\"nofollow noreferrer\">understanding variant selection</a>. Breaking down, it seems the main issue is:</p>\n<ul>\n<li>The <code>com.android.application</code> 7.4 requires Java 11, but you have configured Java 8. Possible <a href=\"https://stackoverflow.com/questions/66980512/android-studio-error-android-gradle-plugin-requires-java-11-to-run-you-are-cur\">this</a> answer may help you.</li>\n</ul>\n"}],"owner":{"account_id":952605,"reputation":11497,"user_id":978461,"accept_rate":73,"display_name":"Adam Varhegyi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":332,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678028951,"creation_date":1677927588,"question_id":75635199,"body_markdown":"I&#39;m **trying to list my project&#39;s libraries to see nested dependencies while trying to solve a dependency clash/collision issue** and I&#39;m getting this error which you can see in the screenshot.\r\n\r\nI tried some things which I saw on the internet but none of them seemed to change a thing.\r\n\r\nSo basically when I run `./gradlew app:dependencies`\r\n\r\nI get:\r\n\r\n    &quot;Could not resolve all files for configuration &#39;:classpath&#39;.&quot;\r\n\r\nGradle is a powerful tool but honestly I cannot wrap around my head its directory structure, its dozens of setting files, its fastly evolving new versions and its complex hierarchy and dependency system which nests inside Android development interconnected with Java, Android Studio and as well with my project.\r\n\r\nIt was always a *&quot;Well they say I should add this line, let&#39;s see if it helps or not&quot;* thing for me. It is like a magical perpetual motion machine when it works as long as it doesn&#39;t, without changing the slightest thing in my project.\r\n\r\nPlease help if you can.\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jlQXe.png\r\n\r\n\r\n**Contents of build.gradle file:**\r\n\r\n    plugins {\r\n        id &#39;com.android.application&#39; version &#39;7.4.0&#39; apply false\r\n        id &#39;com.android.library&#39; version &#39;7.4.0&#39; apply false\r\n        id &#39;org.jetbrains.kotlin.android&#39; version &#39;1.8.20-Beta&#39; apply false\r\n    }\r\n\r\n**Contents of build.gradle file which magically has the same f. name:**\r\n\r\n    //module/app level\r\n    \r\n    plugins {\r\n        id &#39;com.android.application&#39;\r\n        id &#39;org.jetbrains.kotlin.android&#39;\r\n    }\r\n    \r\n    android {\r\n        namespace &#39;com.myapp.package.here&#39;\r\n        compileSdk 33\r\n    \r\n        buildFeatures{\r\n            viewBinding true\r\n        }\r\n    \r\n        defaultConfig {\r\n            applicationId &quot;com.myapp.package.here&quot;\r\n            minSdk 24\r\n            targetSdk 33\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n    \r\n            testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n        }\r\n    \r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_1_8\r\n            targetCompatibility JavaVersion.VERSION_1_8\r\n        }\r\n        kotlinOptions {\r\n            jvmTarget = &#39;1.8&#39;\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n    \r\n        implementation &#39;com.google.android.material:material:1.8.0&#39;\r\n        implementation &#39;androidx.core:core-ktx:1.9.0&#39;\r\n        implementation &#39;androidx.appcompat:appcompat:1.6.1&#39;\r\n        implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n        implementation &#39;org.jetbrains.kotlinx:kotlinx-coroutines-core:1.6.4&#39;\r\n        implementation &#39;com.squareup.retrofit2:retrofit:2.9.0&#39;\r\n        implementation &#39;com.squareup.retrofit2:converter-gson:2.9.0&#39;\r\n        implementation &#39;com.squareup.okhttp3:logging-interceptor:3.0.1&#39;\r\n        androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.1&#39;\r\n        androidTestImplementation &#39;androidx.test.ext:junit:1.1.5&#39;\r\n        testImplementation &#39;junit:junit:4.13.2&#39;\r\n    }\r\n\r\n","title":"Can&#39;t list my project&#39;s dependencies via gradle. &quot;Could not resolve all files for configuration &#39;:classpath&#39;.&quot;","body":"<p>I'm <strong>trying to list my project's libraries to see nested dependencies while trying to solve a dependency clash/collision issue</strong> and I'm getting this error which you can see in the screenshot.</p>\n<p>I tried some things which I saw on the internet but none of them seemed to change a thing.</p>\n<p>So basically when I run <code>./gradlew app:dependencies</code></p>\n<p>I get:</p>\n<pre><code>&quot;Could not resolve all files for configuration ':classpath'.&quot;\n</code></pre>\n<p>Gradle is a powerful tool but honestly I cannot wrap around my head its directory structure, its dozens of setting files, its fastly evolving new versions and its complex hierarchy and dependency system which nests inside Android development interconnected with Java, Android Studio and as well with my project.</p>\n<p>It was always a <em>&quot;Well they say I should add this line, let's see if it helps or not&quot;</em> thing for me. It is like a magical perpetual motion machine when it works as long as it doesn't, without changing the slightest thing in my project.</p>\n<p>Please help if you can.</p>\n<p><a href=\"https://i.stack.imgur.com/jlQXe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jlQXe.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Contents of build.gradle file:</strong></p>\n<pre><code>plugins {\n    id 'com.android.application' version '7.4.0' apply false\n    id 'com.android.library' version '7.4.0' apply false\n    id 'org.jetbrains.kotlin.android' version '1.8.20-Beta' apply false\n}\n</code></pre>\n<p><strong>Contents of build.gradle file which magically has the same f. name:</strong></p>\n<pre><code>//module/app level\n\nplugins {\n    id 'com.android.application'\n    id 'org.jetbrains.kotlin.android'\n}\n\nandroid {\n    namespace 'com.myapp.package.here'\n    compileSdk 33\n\n    buildFeatures{\n        viewBinding true\n    }\n\n    defaultConfig {\n        applicationId &quot;com.myapp.package.here&quot;\n        minSdk 24\n        targetSdk 33\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n    kotlinOptions {\n        jvmTarget = '1.8'\n    }\n}\n\ndependencies {\n\n    implementation 'com.google.android.material:material:1.8.0'\n    implementation 'androidx.core:core-ktx:1.9.0'\n    implementation 'androidx.appcompat:appcompat:1.6.1'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    implementation 'org.jetbrains.kotlinx:kotlinx-coroutines-core:1.6.4'\n    implementation 'com.squareup.retrofit2:retrofit:2.9.0'\n    implementation 'com.squareup.retrofit2:converter-gson:2.9.0'\n    implementation 'com.squareup.okhttp3:logging-interceptor:3.0.1'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.5'\n    testImplementation 'junit:junit:4.13.2'\n}\n</code></pre>\n"},{"tags":["java","linux","shell"],"comments":[{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1673220660,"post_id":75051987,"comment_id":132443438,"body_markdown":"if `output.txt` is being used by java only, you may issue `fuser -k output.txt` :)","body":"if <code>output.txt</code> is being used by java only, you may issue <code>fuser -k output.txt</code> :)"},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1673221657,"post_id":75051987,"comment_id":132443581,"body_markdown":"Why can&#39;t you just use `System.exit` in Java?","body":"Why can&#39;t you just use <code>System.exit</code> in Java?"},{"owner":{"account_id":4996428,"reputation":362,"user_id":4016860,"accept_rate":75,"display_name":"Popeye"},"score":0,"creation_date":1673243918,"post_id":75051987,"comment_id":132446202,"body_markdown":"Never experienced pid change in the middle. This is very odd. did you write the whole statement in a single line?","body":"Never experienced pid change in the middle. This is very odd. did you write the whole statement in a single line?"},{"owner":{"account_id":2186012,"reputation":20371,"user_id":1934428,"accept_rate":86,"display_name":"user1934428"},"score":0,"creation_date":1673265908,"post_id":75051987,"comment_id":132452195,"body_markdown":"If you don&#39;t have the original PID running anymore, but a different one, it means that the Java program (or perhaps the Java virtual machine) has started a new process (and then terminated).","body":"If you don&#39;t have the original PID running anymore, but a different one, it means that the Java program (or perhaps the Java virtual machine) has started a new process (and then terminated)."},{"owner":{"account_id":12929915,"reputation":15,"user_id":9349272,"display_name":"e.tavecchio"},"score":0,"creation_date":1673380515,"post_id":75051987,"comment_id":132484661,"body_markdown":"Thank you all for your advices!","body":"Thank you all for your advices!"}],"answers":[{"comments":[{"owner":{"account_id":12929915,"reputation":15,"user_id":9349272,"display_name":"e.tavecchio"},"score":0,"creation_date":1673380417,"post_id":75052140,"comment_id":132484618,"body_markdown":"Thank you for the useful advice (it&#39;s now working as expected) and thank you for the detailed explanation too!","body":"Thank you for the useful advice (it&#39;s now working as expected) and thank you for the detailed explanation too!"},{"owner":{"account_id":15215084,"reputation":302,"user_id":10978688,"display_name":"selllami"},"score":0,"creation_date":1673435237,"post_id":75052140,"comment_id":132497006,"body_markdown":"You&#39;re welcome. please don&#39;t forget to mark the answer accepted which helped most in solving the problem.","body":"You&#39;re welcome. please don&#39;t forget to mark the answer accepted which helped most in solving the problem."}],"tags":[],"owner":{"account_id":15215084,"reputation":302,"user_id":10978688,"display_name":"selllami"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673222144,"creation_date":1673222144,"answer_id":75052140,"question_id":75051987,"body_markdown":"If you want to use process name, might run : \r\n```\r\n$ kill -9 $(ps aux | grep &#39;[t]est.jar&#39; | awk &#39;{print $2}&#39;)\r\n```\r\n\r\nOptions Details: \r\n\r\n  - `kill`: sends a kill signal `(SIGTERM 15: Termination)` to terminate any process gracefully.\r\n  - `kill -9`: sends a kill signal `(SIGTERM 9:Kill)` terminate any process immediately.\r\n  - `ps`:   listing all processes.\r\n  - `grep`: filtering, `[p]` prevent actual grep process from showing up in ps results.\r\n  - `awk`:  gives the second field of each line, which is PID. (ps output : $1:user, $2:pid ...)\r\n  ","title":"How can I kill a just started Java process in shell script?","body":"<p>If you want to use process name, might run :</p>\n<pre><code>$ kill -9 $(ps aux | grep '[t]est.jar' | awk '{print $2}')\n</code></pre>\n<p>Options Details:</p>\n<ul>\n<li><code>kill</code>: sends a kill signal <code>(SIGTERM 15: Termination)</code> to terminate any process gracefully.</li>\n<li><code>kill -9</code>: sends a kill signal <code>(SIGTERM 9:Kill)</code> terminate any process immediately.</li>\n<li><code>ps</code>:   listing all processes.</li>\n<li><code>grep</code>: filtering, <code>[p]</code> prevent actual grep process from showing up in ps results.</li>\n<li><code>awk</code>:  gives the second field of each line, which is PID. (ps output : $1:user, $2:pid ...)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":27450495,"reputation":36,"user_id":20942814,"display_name":"Prasanta Kumar Behera"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673242355,"creation_date":1673242355,"answer_id":75053489,"question_id":75051987,"body_markdown":"Two ways.\r\n1. use system. Exit() inbuilt function.\r\n\r\nor  \r\n\r\n2. redirect the pid number to a file and use later to kill the process.\r\n\r\nEx:- \r\n```\r\njava -jar test.jar &amp;&gt; output.txt &amp; echo $! &gt; pid-logs\r\ncat pid-logs | xargs kill -9\r\n```","title":"How can I kill a just started Java process in shell script?","body":"<p>Two ways.</p>\n<ol>\n<li>use system. Exit() inbuilt function.</li>\n</ol>\n<p>or</p>\n<ol start=\"2\">\n<li>redirect the pid number to a file and use later to kill the process.</li>\n</ol>\n<p>Ex:-</p>\n<pre><code>java -jar test.jar &amp;&gt; output.txt &amp; echo $! &gt; pid-logs\ncat pid-logs | xargs kill -9\n</code></pre>\n"}],"owner":{"account_id":12929915,"reputation":15,"user_id":9349272,"display_name":"e.tavecchio"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75052140,"answer_count":2,"score":0,"last_activity_date":1678028515,"creation_date":1673220074,"question_id":75051987,"body_markdown":"I have this simple script where I execute a .jar file and I&#39;d need its PID for killing it after the `sleep` command:\r\n\r\n`java -jar test.jar &amp;&gt; output.txt &amp;\r\npid=$!\r\nsleep 10`\r\n\r\nThe problem is: the PID changes after the application gets fully launched, this pid I get in first place is not the same PID the application has after 10 seconds sleeping (I checked it using `ps`).\r\n\r\nHow can I track down the PID so that I can kill the fully launched application?\r\n\r\nI&#39;ve tried using `pstree -p $pid` but I get a long list of Java children processes and I thought there might be a better way to implement this other than getting every child process, extracting PID using grep and killing it, also because I&#39;m not 100% sure this is working.\r\n\r\nI found another solution using `jps` but I&#39;d prefer use native linux commands for compatibility.\r\n\r\nI don&#39;t necessarily need PID, using process name could be a way but I don&#39;t how to retrieve that either having only parent process&#39; PID.","title":"How can I kill a just started Java process in shell script?","body":"<p>I have this simple script where I execute a .jar file and I'd need its PID for killing it after the <code>sleep</code> command:</p>\n<p><code>java -jar test.jar &amp;&gt; output.txt &amp; pid=$! sleep 10</code></p>\n<p>The problem is: the PID changes after the application gets fully launched, this pid I get in first place is not the same PID the application has after 10 seconds sleeping (I checked it using <code>ps</code>).</p>\n<p>How can I track down the PID so that I can kill the fully launched application?</p>\n<p>I've tried using <code>pstree -p $pid</code> but I get a long list of Java children processes and I thought there might be a better way to implement this other than getting every child process, extracting PID using grep and killing it, also because I'm not 100% sure this is working.</p>\n<p>I found another solution using <code>jps</code> but I'd prefer use native linux commands for compatibility.</p>\n<p>I don't necessarily need PID, using process name could be a way but I don't how to retrieve that either having only parent process' PID.</p>\n"},{"tags":["java","audio","background","microphone"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1678025210,"post_id":75642567,"comment_id":133449200,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":24353837,"reputation":19,"user_id":18289321,"display_name":"invoidable"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678027592,"creation_date":1678023060,"question_id":75642567,"body_markdown":"I need to implement an audio instant replay.\r\n\r\nmy goal is to make a program that records last 15 minutes of recorded audio data and saves this to an mp3 file.\r\n\r\nmy problem is how to record last 15 mins, not record for 15 mins, but rather an audio clip that contains the last 15 minutes of audio data.\r\n\r\nSo, it has to be always using the microphone and always recording in the background.\r\n\r\nany ideas on how to achieve this?\r\n\r\nI have looked all over the internet, but I didn&#39;t find much information about the topic, and the information I found was irrelevant.","title":"How do I implement an audio instant replay in java?","body":"<p>I need to implement an audio instant replay.</p>\n<p>my goal is to make a program that records last 15 minutes of recorded audio data and saves this to an mp3 file.</p>\n<p>my problem is how to record last 15 mins, not record for 15 mins, but rather an audio clip that contains the last 15 minutes of audio data.</p>\n<p>So, it has to be always using the microphone and always recording in the background.</p>\n<p>any ideas on how to achieve this?</p>\n<p>I have looked all over the internet, but I didn't find much information about the topic, and the information I found was irrelevant.</p>\n"},{"tags":["java"],"answers":[{"comments":[{"owner":{"account_id":25542844,"reputation":21,"user_id":19328644,"display_name":"Alex"},"score":0,"creation_date":1678032438,"post_id":75643005,"comment_id":133450461,"body_markdown":"But then the return type of the Stream() would be MyEnumInterface, I need the return type to be MyEnum.","body":"But then the return type of the Stream() would be MyEnumInterface, I need the return type to be MyEnum."},{"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"score":0,"creation_date":1678050198,"post_id":75643005,"comment_id":133453641,"body_markdown":"i am not sure if you can get it with the type `MyEnum` as this is going to be dynamically determined based on this &quot;className&quot; String - right? \nHowever, what do you need the specific implementation for? maybe you can continue with the `MyEnumInterface` and use it polymorphically (without knowing the exact implementation. If this would work, you can then even replace the `Class.forName` there with the Factory pattern","body":"i am not sure if you can get it with the type <code>MyEnum</code> as this is going to be dynamically determined based on this &quot;className&quot; String - right?  However, what do you need the specific implementation for? maybe you can continue with the <code>MyEnumInterface</code> and use it polymorphically (without knowing the exact implementation. If this would work, you can then even replace the <code>Class.forName</code> there with the Factory pattern"}],"tags":[],"owner":{"account_id":3583855,"reputation":150,"user_id":2991440,"display_name":"krishnan"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678027285,"creation_date":1678027285,"answer_id":75643005,"question_id":75642373,"body_markdown":"Wrapping the type to MyEnumInterface will make resolve the `getId()` method \r\n\r\n    Class&lt;? extends MyEnumInterface&gt; strClass = Class.forName(&quot;com.example.demo.dictTask.&quot; + className).asSubclass(MyEnumInterface.class);\r\n    Stream.of(strClass.getEnumConstants())\r\n                .filter(e -&gt; Objects.equals(e.getId(), id))\r\n    \t\t\t.findFirst().orElseThrow();","title":"Cannot resolve method &#39;getId&#39; in &#39;Object&#39; while looping through enum class values","body":"<p>Wrapping the type to MyEnumInterface will make resolve the <code>getId()</code> method</p>\n<pre><code>Class&lt;? extends MyEnumInterface&gt; strClass = Class.forName(&quot;com.example.demo.dictTask.&quot; + className).asSubclass(MyEnumInterface.class);\nStream.of(strClass.getEnumConstants())\n            .filter(e -&gt; Objects.equals(e.getId(), id))\n            .findFirst().orElseThrow();\n</code></pre>\n"}],"owner":{"account_id":25542844,"reputation":21,"user_id":19328644,"display_name":"Alex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":172,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678027285,"creation_date":1678021073,"question_id":75642373,"body_markdown":"I want to loop through enum class values like this:\r\n\r\n    Long id = 5L;\r\n    String className = &quot;MyEnum&quot;;  //here maybe several other enum class name, I get it from controller\r\n    Class&lt;?&gt; enumClass = Class.forName(&quot;com.example.demo.dictTask.&quot; + classname);\r\n    Stream.of(enumClass.getEnumConstants()).filter(e -&gt; Objects.equals(e.getId(), id)).findFirst().orElseThrow();\r\n\r\nI have `getId()` method in my enum classes. But I dont know why `filter()` method in Stream is not working: Cannot resolve method &#39;getId&#39; in &#39;Object&#39;.\r\n\r\nHere is one of my enum class:\r\n\r\n    public interface MyEnumInterface&lt;K, V&gt; {\r\n        K getId();\r\n    \r\n        V getName();\r\n    } \r\n\r\n    @AllArgsConstructor\r\n    public enum MyEnum implements MyEnumInterface&lt;Long, String&gt; {\r\n    \r\n        JAMES(5L, &quot;NBA&quot;),\r\n    \r\n        MARK(6L, &quot;MLS&quot;);\r\n    \r\n    //    ...\r\n    \r\n        @Getter\r\n        private Long id;\r\n    \r\n        @Getter\r\n        private String name;\r\n    }","title":"Cannot resolve method &#39;getId&#39; in &#39;Object&#39; while looping through enum class values","body":"<p>I want to loop through enum class values like this:</p>\n<pre><code>Long id = 5L;\nString className = &quot;MyEnum&quot;;  //here maybe several other enum class name, I get it from controller\nClass&lt;?&gt; enumClass = Class.forName(&quot;com.example.demo.dictTask.&quot; + classname);\nStream.of(enumClass.getEnumConstants()).filter(e -&gt; Objects.equals(e.getId(), id)).findFirst().orElseThrow();\n</code></pre>\n<p>I have <code>getId()</code> method in my enum classes. But I dont know why <code>filter()</code> method in Stream is not working: Cannot resolve method 'getId' in 'Object'.</p>\n<p>Here is one of my enum class:</p>\n<pre><code>public interface MyEnumInterface&lt;K, V&gt; {\n    K getId();\n\n    V getName();\n} \n\n@AllArgsConstructor\npublic enum MyEnum implements MyEnumInterface&lt;Long, String&gt; {\n\n    JAMES(5L, &quot;NBA&quot;),\n\n    MARK(6L, &quot;MLS&quot;);\n\n//    ...\n\n    @Getter\n    private Long id;\n\n    @Getter\n    private String name;\n}\n</code></pre>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1678021923,"post_id":75642346,"comment_id":133448700,"body_markdown":"Create a `TwoLine` class.  Read the entire file into a `java.util.List` of `TwoLine` instances.  Delete the `TwoLine` instance that matches your input.  Write the entire `List` of `TwoLine` instances to a text file.,","body":"Create a <code>TwoLine</code> class.  Read the entire file into a <code>java.util.List</code> of <code>TwoLine</code> instances.  Delete the <code>TwoLine</code> instance that matches your input.  Write the entire <code>List</code> of <code>TwoLine</code> instances to a text file.,"}],"answers":[{"tags":[],"owner":{"account_id":9725613,"reputation":53332,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678026632,"creation_date":1678026632,"answer_id":75642931,"question_id":75642346,"body_markdown":"Just check the 3 next values, to know if you need to keep them or not\r\n\r\n    List&lt;String&gt; a = new ArrayList&lt;&gt;(List.of(&quot;Some text&quot;, &quot;Some more text&quot;,\r\n            &quot;&quot;, &quot;Line a&quot;, &quot;Line b&quot;,\r\n            &quot;&quot;, &quot;Line c&quot;, &quot;Line d&quot;,\r\n            &quot;Line a&quot;, &quot;Line b&quot;,\r\n            &quot;&quot;, &quot;Line c&quot;, &quot;Line d&quot;));\r\n    for (int i = 0; i &lt; a.size() - 2; i++) {\r\n        if (a.get(i).equals(&quot;&quot;) &amp;&amp; a.get(i + 1).equals(&quot;Line c&quot;) &amp;&amp; a.get(i + 2).equals(&quot;Line d&quot;)) {\r\n            a.remove(i);\r\n            a.remove(i); // has everybody has move forward once, &quot;Line c&quot; if one forward too\r\n            a.remove(i); // same\r\n        }\r\n    }\r\n\r\n    System.out.println(a);\r\n    // [Some text, Some more text, , Line a, Line b, Line a, Line b]\r\n\r\n---\r\n\r\nThe condition could also be\r\n\r\n    if (a.subList(i, i + 3).equals(List.of(&quot;&quot;, &quot;Line c&quot;, &quot;Line d&quot;))) \r\n","title":"Removing a sequence of items from a list in java","body":"<p>Just check the 3 next values, to know if you need to keep them or not</p>\n<pre><code>List&lt;String&gt; a = new ArrayList&lt;&gt;(List.of(&quot;Some text&quot;, &quot;Some more text&quot;,\n        &quot;&quot;, &quot;Line a&quot;, &quot;Line b&quot;,\n        &quot;&quot;, &quot;Line c&quot;, &quot;Line d&quot;,\n        &quot;Line a&quot;, &quot;Line b&quot;,\n        &quot;&quot;, &quot;Line c&quot;, &quot;Line d&quot;));\nfor (int i = 0; i &lt; a.size() - 2; i++) {\n    if (a.get(i).equals(&quot;&quot;) &amp;&amp; a.get(i + 1).equals(&quot;Line c&quot;) &amp;&amp; a.get(i + 2).equals(&quot;Line d&quot;)) {\n        a.remove(i);\n        a.remove(i); // has everybody has move forward once, &quot;Line c&quot; if one forward too\n        a.remove(i); // same\n    }\n}\n\nSystem.out.println(a);\n// [Some text, Some more text, , Line a, Line b, Line a, Line b]\n</code></pre>\n<hr />\n<p>The condition could also be</p>\n<pre><code>if (a.subList(i, i + 3).equals(List.of(&quot;&quot;, &quot;Line c&quot;, &quot;Line d&quot;))) \n</code></pre>\n"},{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678027243,"creation_date":1678027243,"answer_id":75643001,"question_id":75642346,"body_markdown":"Check if the list contains the sublist using `Collections.lastIndexOfSubList`, if it does get the last index and remove the elements iterating backwards begining from the largest index:\r\n\r\n    List&lt;String&gt; list = new ArrayList&lt;&gt;(List.of(&quot;Some text&quot;,\r\n                                                &quot;Some more text&quot;,\r\n                                                &quot;&quot;,\r\n                                                &quot;Line a&quot;,\r\n                                                &quot;Line b&quot;,\r\n                                                &quot;&quot;,\r\n                                                &quot;Line c&quot;,\r\n                                                &quot;Line d&quot;));\r\n\r\n    List&lt;String&gt; target = List.of(&quot;&quot;, &quot;Line c&quot;, &quot;Line d&quot;);\r\n\r\n    while (Collections.lastIndexOfSubList(list, target) != -1) {\r\n        int lastIndex = Collections.lastIndexOfSubList(list, target);\r\n        for (int i = target.size() - 1; i &gt;= 0; i--) {\r\n            list.remove(lastIndex + i);\r\n        }\r\n    }","title":"Removing a sequence of items from a list in java","body":"<p>Check if the list contains the sublist using <code>Collections.lastIndexOfSubList</code>, if it does get the last index and remove the elements iterating backwards begining from the largest index:</p>\n<pre><code>List&lt;String&gt; list = new ArrayList&lt;&gt;(List.of(&quot;Some text&quot;,\n                                            &quot;Some more text&quot;,\n                                            &quot;&quot;,\n                                            &quot;Line a&quot;,\n                                            &quot;Line b&quot;,\n                                            &quot;&quot;,\n                                            &quot;Line c&quot;,\n                                            &quot;Line d&quot;));\n\nList&lt;String&gt; target = List.of(&quot;&quot;, &quot;Line c&quot;, &quot;Line d&quot;);\n\nwhile (Collections.lastIndexOfSubList(list, target) != -1) {\n    int lastIndex = Collections.lastIndexOfSubList(list, target);\n    for (int i = target.size() - 1; i &gt;= 0; i--) {\n        list.remove(lastIndex + i);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":19349485,"reputation":29,"user_id":14147219,"display_name":"BrokOlieSoep"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75643001,"answer_count":2,"score":-1,"last_activity_date":1678027243,"creation_date":1678020823,"question_id":75642346,"body_markdown":"I have an ArrayList of strings in java, that, visualised, looks something like this:\r\n```\r\n&quot;Some text&quot;\r\n&quot;Some more text&quot;\r\n&quot;&quot;\r\n&quot;Line a&quot;\r\n&quot;Line b&quot;\r\n...\r\n&quot;&quot;\r\n&quot;Line c&quot;\r\n&quot;Line d&quot;\r\n```\r\nIn this list, I want to remove the triplet of `&quot;&quot;, &quot;Line c&quot;, and &quot;Line d&quot;` together, so the list would look like\r\n```\r\n&quot;Some text&quot;\r\n&quot;Some more text&quot;\r\n&quot;&quot;\r\n&quot;Line a&quot;\r\n&quot;Line b&quot;\r\n...\r\n```\r\nI have no idea how to do this. If I just remove the first occurence of each of the lines, the blank line before line a will be removed. Also, it is possible that line c is equal to either line a or line b, but it shouldn&#39;t be removed unless it is preceded by a blank line and followed by line d, so the removed items need to be exactly those 3 items, in exactly that order. Is there any way I could do this? Thanks in advance.","title":"Removing a sequence of items from a list in java","body":"<p>I have an ArrayList of strings in java, that, visualised, looks something like this:</p>\n<pre><code>&quot;Some text&quot;\n&quot;Some more text&quot;\n&quot;&quot;\n&quot;Line a&quot;\n&quot;Line b&quot;\n...\n&quot;&quot;\n&quot;Line c&quot;\n&quot;Line d&quot;\n</code></pre>\n<p>In this list, I want to remove the triplet of <code>&quot;&quot;, &quot;Line c&quot;, and &quot;Line d&quot;</code> together, so the list would look like</p>\n<pre><code>&quot;Some text&quot;\n&quot;Some more text&quot;\n&quot;&quot;\n&quot;Line a&quot;\n&quot;Line b&quot;\n...\n</code></pre>\n<p>I have no idea how to do this. If I just remove the first occurence of each of the lines, the blank line before line a will be removed. Also, it is possible that line c is equal to either line a or line b, but it shouldn't be removed unless it is preceded by a blank line and followed by line d, so the removed items need to be exactly those 3 items, in exactly that order. Is there any way I could do this? Thanks in advance.</p>\n"},{"tags":["java","spring-boot","netflix-eureka","service-discovery"],"answers":[{"tags":[],"owner":{"account_id":2903767,"reputation":125,"user_id":2489730,"display_name":"Beast"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1620823075,"creation_date":1620823075,"answer_id":67503854,"question_id":65720180,"body_markdown":"I had a similar issue and managed to solve it by adding\r\n\r\n```java\r\n@EnableEurekaClient\r\n```\r\nabove SpintBootApplication in my client.","title":"spring-boot eureka client error &quot;Cannot execute request on any known server&quot;","body":"<p>I had a similar issue and managed to solve it by adding</p>\n<pre class=\"lang-java prettyprint-override\"><code>@EnableEurekaClient\n</code></pre>\n<p>above SpintBootApplication in my client.</p>\n"},{"tags":[],"owner":{"account_id":18843013,"reputation":9,"user_id":13744016,"display_name":"Ajay Pant"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678026319,"creation_date":1678026319,"answer_id":75642902,"question_id":65720180,"body_markdown":"I had a similar issue and managed to solve it by adding\r\n@EnableEurekaServer in your service registry main class.\r\n\r\nFor more info use the below link:\r\n[Enable Eureka Server][1]\r\n\r\n\r\nThanks\r\n\r\n\r\n  [1]: https://spring.io/guides/gs/service-registration-and-discovery/","title":"spring-boot eureka client error &quot;Cannot execute request on any known server&quot;","body":"<p>I had a similar issue and managed to solve it by adding\n@EnableEurekaServer in your service registry main class.</p>\n<p>For more info use the below link:\n<a href=\"https://spring.io/guides/gs/service-registration-and-discovery/\" rel=\"nofollow noreferrer\">Enable Eureka Server</a></p>\n<p>Thanks</p>\n"}],"owner":{"account_id":470642,"reputation":8064,"user_id":877942,"accept_rate":79,"display_name":"Shades88"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3770,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":67503854,"answer_count":2,"score":4,"last_activity_date":1678026319,"creation_date":1610631946,"question_id":65720180,"body_markdown":"I am trying out eureka with spring-boot. I successfully started eureka-server. It is running at localhost:8761.&lt;br&gt;\r\nNow I tried eureka-client. This is what the code is\r\n```\r\nimport ch.qos.logback.classic.Logger;\r\nimport java.util.List;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.cloud.client.ServiceInstance;\r\nimport org.springframework.cloud.client.discovery.DiscoveryClient;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PathVariable;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\n@SpringBootApplication\r\npublic class ServiceConsumerApplication {\r\n\r\n    public static void main(String[] args) {\r\n            SpringApplication.run(ServiceConsumerApplication.class, args);\r\n    }\r\n    \r\n}\r\n\r\n@RestController\r\nclass EurekaTestController {\r\n    private static Logger LOGGER = (Logger)LoggerFactory.getLogger(EurekaTestController.class);\r\n    \r\n    @Autowired\r\n    DiscoveryClient discoveryClient;\r\n    \r\n    \r\n    @GetMapping(&quot;/service-instances/{applicationName}&quot;)\r\n    public List&lt;ServiceInstance&gt; getServiceInstance(@PathVariable(&quot;applicationName&quot;) String appName) {\r\n        List&lt;ServiceInstance&gt; serviceInstances = discoveryClient.getInstances(appName);\r\n        LOGGER.info(&quot;{}&quot;, serviceInstances);\r\n        return discoveryClient.getInstances(appName);\r\n    }\r\n}\r\n```\r\npom.xml is as below:\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.4.1&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.shades&lt;/groupId&gt;\r\n    &lt;artifactId&gt;service-consumer&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;11&lt;/java.version&gt;\r\n        &lt;spring-cloud.version&gt;2020.0.0&lt;/spring-cloud.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;spring-milestones&lt;/id&gt;\r\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\r\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nproperties defined for this project\r\n\r\n```\r\nserver.port=8080\r\neureka.client.serviceUrl.defaultZone=${EUREKA_URI:http://localhost:8761/eureka}\r\nspring.application.name=eureka-client\r\n```\r\n\r\nNow when I open http://localhost:8761/eureka in browser and I start above eureka-client app, then it shows app in UP status. But when I see in app&#39;s logs this is seen.\r\n\r\n```\r\nRequest execution error. endpoint=DefaultEndpoint{ serviceUrl=&#39;http://localhost:8761/eureka/}, exception=Error while extracting response for type [class org.springframework.cloud.netflix.eureka.http.EurekaApplications] and content type [application/json;charset=UTF-8]; \r\nnested exception is org.springframework.http.converter.HttpMessageNotReadableException: \r\nJSON parse error: Cannot deserialize instance of `java.util.ArrayList&lt;com.netflix.appinfo.InstanceInfo&gt;` out of START_OBJECT token; nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize instance of `java.util.ArrayList&lt;com.netflix.appinfo.InstanceInfo&gt;` out of START_OBJECT token\r\n at [Source: (PushbackInputStream); line: 1, column: 122] (through reference chain: com.netflix.discovery.converters.jackson.builder.ApplicationsJacksonBuilder[&quot;application&quot;]-&gt;java.util.ArrayList[0]-&gt;com.netflix.discovery.shared.Application[&quot;instance&quot;]) stacktrace=org.springframework.web.client.RestClientException: Error while extracting response for type [class org.springframework.cloud.netflix.eureka.http.EurekaApplications] and content type [application/json;charset=UTF-8]; nested exception is org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot deserialize instance of `java.util.ArrayList&lt;com.netflix.appinfo.InstanceInfo&gt;` out of START_OBJECT token; nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize instance of `java.util.ArrayList&lt;com.netflix.appinfo.InstanceInfo&gt;` out of START_OBJECT token\r\n at [Source: (PushbackInputStream); line: 1, column: 122] (through reference chain: com.netflix.discovery.converters.jackson.builder.ApplicationsJacksonBuilder[&quot;application&quot;]-&gt;java.util.ArrayList[0]-&gt;com.netflix.discovery.shared.Application[&quot;instance&quot;])\r\n```\r\n\r\nLater on this is also seen\r\n\r\n```\r\n\r\n2021-01-14 19:13:20.586  WARN 7970 --- [tbeatExecutor-0] c.n.d.s.t.d.RetryableEurekaHttpClient    : Request execution failed with message: Error while extracting response for type [class com.netflix.appinfo.InstanceInfo] and content type [application/json;charset=UTF-8]; nested exception is org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Root name &#39;timestamp&#39; does not match expected (&#39;instance&#39;) for type [simple type, class com.netflix.appinfo.InstanceInfo]; nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Root name &#39;timestamp&#39; does not match expected (&#39;instance&#39;) for type [simple type, class com.netflix.appinfo.InstanceInfo]\r\n at [Source: (PushbackInputStream); line: 1, column: 2] (through reference chain: com.netflix.appinfo.InstanceInfo[&quot;timestamp&quot;])\r\n2021-01-14 19:13:20.590 ERROR 7970 --- [tbeatExecutor-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_EUREKA-CLIENT/192.168.43.183:eureka-client:8080 - was unable to send heartbeat!\r\n```\r\n\r\nWhat could this be?&lt;br&gt; Please help","title":"spring-boot eureka client error &quot;Cannot execute request on any known server&quot;","body":"<p>I am trying out eureka with spring-boot. I successfully started eureka-server. It is running at localhost:8761.<br>\nNow I tried eureka-client. This is what the code is</p>\n<pre><code>import ch.qos.logback.classic.Logger;\nimport java.util.List;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.cloud.client.ServiceInstance;\nimport org.springframework.cloud.client.discovery.DiscoveryClient;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.RestController;\n\n@SpringBootApplication\npublic class ServiceConsumerApplication {\n\n    public static void main(String[] args) {\n            SpringApplication.run(ServiceConsumerApplication.class, args);\n    }\n    \n}\n\n@RestController\nclass EurekaTestController {\n    private static Logger LOGGER = (Logger)LoggerFactory.getLogger(EurekaTestController.class);\n    \n    @Autowired\n    DiscoveryClient discoveryClient;\n    \n    \n    @GetMapping(&quot;/service-instances/{applicationName}&quot;)\n    public List&lt;ServiceInstance&gt; getServiceInstance(@PathVariable(&quot;applicationName&quot;) String appName) {\n        List&lt;ServiceInstance&gt; serviceInstances = discoveryClient.getInstances(appName);\n        LOGGER.info(&quot;{}&quot;, serviceInstances);\n        return discoveryClient.getInstances(appName);\n    }\n}\n</code></pre>\n<p>pom.xml is as below:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.4.1&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.shades&lt;/groupId&gt;\n    &lt;artifactId&gt;service-consumer&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n        &lt;spring-cloud.version&gt;2020.0.0&lt;/spring-cloud.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-milestones&lt;/id&gt;\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>properties defined for this project</p>\n<pre><code>server.port=8080\neureka.client.serviceUrl.defaultZone=${EUREKA_URI:http://localhost:8761/eureka}\nspring.application.name=eureka-client\n</code></pre>\n<p>Now when I open http://localhost:8761/eureka in browser and I start above eureka-client app, then it shows app in UP status. But when I see in app's logs this is seen.</p>\n<pre><code>Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:8761/eureka/}, exception=Error while extracting response for type [class org.springframework.cloud.netflix.eureka.http.EurekaApplications] and content type [application/json;charset=UTF-8]; \nnested exception is org.springframework.http.converter.HttpMessageNotReadableException: \nJSON parse error: Cannot deserialize instance of `java.util.ArrayList&lt;com.netflix.appinfo.InstanceInfo&gt;` out of START_OBJECT token; nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize instance of `java.util.ArrayList&lt;com.netflix.appinfo.InstanceInfo&gt;` out of START_OBJECT token\n at [Source: (PushbackInputStream); line: 1, column: 122] (through reference chain: com.netflix.discovery.converters.jackson.builder.ApplicationsJacksonBuilder[&quot;application&quot;]-&gt;java.util.ArrayList[0]-&gt;com.netflix.discovery.shared.Application[&quot;instance&quot;]) stacktrace=org.springframework.web.client.RestClientException: Error while extracting response for type [class org.springframework.cloud.netflix.eureka.http.EurekaApplications] and content type [application/json;charset=UTF-8]; nested exception is org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot deserialize instance of `java.util.ArrayList&lt;com.netflix.appinfo.InstanceInfo&gt;` out of START_OBJECT token; nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize instance of `java.util.ArrayList&lt;com.netflix.appinfo.InstanceInfo&gt;` out of START_OBJECT token\n at [Source: (PushbackInputStream); line: 1, column: 122] (through reference chain: com.netflix.discovery.converters.jackson.builder.ApplicationsJacksonBuilder[&quot;application&quot;]-&gt;java.util.ArrayList[0]-&gt;com.netflix.discovery.shared.Application[&quot;instance&quot;])\n</code></pre>\n<p>Later on this is also seen</p>\n<pre><code>\n2021-01-14 19:13:20.586  WARN 7970 --- [tbeatExecutor-0] c.n.d.s.t.d.RetryableEurekaHttpClient    : Request execution failed with message: Error while extracting response for type [class com.netflix.appinfo.InstanceInfo] and content type [application/json;charset=UTF-8]; nested exception is org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Root name 'timestamp' does not match expected ('instance') for type [simple type, class com.netflix.appinfo.InstanceInfo]; nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Root name 'timestamp' does not match expected ('instance') for type [simple type, class com.netflix.appinfo.InstanceInfo]\n at [Source: (PushbackInputStream); line: 1, column: 2] (through reference chain: com.netflix.appinfo.InstanceInfo[&quot;timestamp&quot;])\n2021-01-14 19:13:20.590 ERROR 7970 --- [tbeatExecutor-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_EUREKA-CLIENT/192.168.43.183:eureka-client:8080 - was unable to send heartbeat!\n</code></pre>\n<p>What could this be?<br> Please help</p>\n"},{"tags":["java","spring","scheduled-tasks"],"comments":[{"owner":{"account_id":1598029,"reputation":499,"user_id":1479668,"accept_rate":36,"display_name":"magulla"},"score":0,"creation_date":1634326462,"post_id":21993464,"comment_id":123003200,"body_markdown":"please mark the answer with &quot;SchedulingConfigurer &quot; as a correct one.","body":"please mark the answer with &quot;SchedulingConfigurer &quot; as a correct one."}],"answers":[{"comments":[{"owner":{"account_id":85850,"reputation":8741,"user_id":239101,"accept_rate":57,"display_name":"David Soroko"},"score":0,"creation_date":1513337933,"post_id":21994157,"comment_id":82625922,"body_markdown":"Link to Spring documentation?","body":"Link to Spring documentation?"},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":1,"creation_date":1513376061,"post_id":21994157,"comment_id":82645285,"body_markdown":"@DavidSoroko This isn&#39;t immediately obvious in Javadoc. It&#39;s easier to see it in source code. `@Scheduled` (and `@EnableScheduling`) is handled by registering a `ScheduledAnnotationBeanPostProcessor`. This post processor uses a `ScheduledTaskRegistrar` [which defaults to that single-threaded `ScheduledExecutorService`](https://github.com/spring-projects/spring-framework/blob/4.3.x/spring-context/src/main/java/org/springframework/scheduling/config/ScheduledTaskRegistrar.java#L339).","body":"@DavidSoroko This isn&#39;t immediately obvious in Javadoc. It&#39;s easier to see it in source code. <code>@Scheduled</code> (and <code>@EnableScheduling</code>) is handled by registering a <code>ScheduledAnnotationBeanPostProcessor</code>. This post processor uses a <code>ScheduledTaskRegistrar</code> <a href=\"https://github.com/spring-projects/spring-framework/blob/4.3.x/spring-context/src/main/java/org/springframework/scheduling/config/ScheduledTaskRegistrar.java#L339\" rel=\"nofollow noreferrer\">which defaults to that single-threaded <code>ScheduledExecutorService</code></a>."},{"owner":{"account_id":85850,"reputation":8741,"user_id":239101,"accept_rate":57,"display_name":"David Soroko"},"score":7,"creation_date":1513386019,"post_id":21994157,"comment_id":82647396,"body_markdown":"I think you are too kind - it is not in the documentation at all. As to source code - it can change from release to release.","body":"I think you are too kind - it is not in the documentation at all. As to source code - it can change from release to release."}],"tags":[],"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"comment_count":3,"down_vote_count":1,"up_vote_count":51,"is_accepted":false,"score":50,"last_activity_date":1580926184,"creation_date":1393261474,"answer_id":21994157,"question_id":21993464,"body_markdown":"A method annotated with `@Scheduled` is meant to be run separately, on a different thread at a moment in time.\r\n\r\nIf you haven&#39;t provided a `TaskScheduler` in your configuration, Spring will use \r\n\r\n    Executors.newSingleThreadScheduledExecutor();\r\n\r\nwhich returns an `ScheduledExecutorService` that runs on a single thread. As such, if you have multiple `@Scheduled` methods, although they are scheduled, they each need to wait for the thread to complete executing the previous task. You might keep getting bigger and bigger delays as the the queue fills up faster than it empties out.\r\n\r\n\r\nMake sure you configure your scheduling environment with an appropriate amount of threads.","title":"Does spring @Scheduled annotated methods runs on different threads?","body":"<p>A method annotated with <code>@Scheduled</code> is meant to be run separately, on a different thread at a moment in time.</p>\n\n<p>If you haven't provided a <code>TaskScheduler</code> in your configuration, Spring will use </p>\n\n<pre><code>Executors.newSingleThreadScheduledExecutor();\n</code></pre>\n\n<p>which returns an <code>ScheduledExecutorService</code> that runs on a single thread. As such, if you have multiple <code>@Scheduled</code> methods, although they are scheduled, they each need to wait for the thread to complete executing the previous task. You might keep getting bigger and bigger delays as the the queue fills up faster than it empties out.</p>\n\n<p>Make sure you configure your scheduling environment with an appropriate amount of threads.</p>\n"},{"comments":[{"owner":{"account_id":1348599,"reputation":1852,"user_id":1288852,"accept_rate":93,"display_name":"Nicholas Terry"},"score":26,"creation_date":1471048888,"post_id":21994185,"comment_id":65213095,"body_markdown":"Just as an fyi: It doesn&#39;t help to provide just a link to the general docs and say that you have &#39;configure it&#39;... Providing an example is infinitely more helpful. I voted for g. Demecki&#39;s answer below and not yours for this very reason... Just tips to get ahead","body":"Just as an fyi: It doesn&#39;t help to provide just a link to the general docs and say that you have &#39;configure it&#39;... Providing an example is infinitely more helpful. I voted for g. Demecki&#39;s answer below and not yours for this very reason... Just tips to get ahead"},{"owner":{"account_id":85850,"reputation":8741,"user_id":239101,"accept_rate":57,"display_name":"David Soroko"},"score":0,"creation_date":1513337508,"post_id":21994185,"comment_id":82625674,"body_markdown":"The quoted documentation refers to `task:scheduler` which has a `pool-size` parameter. Does this apply to the `@Scheduled` annotation which has no pool related parameters?","body":"The quoted documentation refers to <code>task:scheduler</code> which has a <code>pool-size</code> parameter. Does this apply to the <code>@Scheduled</code> annotation which has no pool related parameters?"},{"owner":{"account_id":1387991,"reputation":7448,"user_id":1319542,"accept_rate":53,"display_name":"froi"},"score":0,"creation_date":1516013585,"post_id":21994185,"comment_id":83505660,"body_markdown":"@DavidSoroko I believe so.","body":"@DavidSoroko I believe so."}],"tags":[],"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"comment_count":3,"down_vote_count":4,"up_vote_count":77,"is_accepted":false,"score":73,"last_activity_date":1542108614,"creation_date":1393261550,"answer_id":21994185,"question_id":21993464,"body_markdown":"The [documentation about scheduling][1] says:\r\n\r\n&gt; If you do not provide a pool-size attribute, the default thread pool will only have a single thread.\r\n\r\nSo if you have many scheduled tasks, you should configure the scheduler, as explained in the documentation, to have a pool with more threads, to make sure one long task doesn&#39;t delay all the other ones.\r\n\r\n  [1]: https://docs.spring.io/spring/docs/current/spring-framework-reference/integration.html#scheduling","title":"Does spring @Scheduled annotated methods runs on different threads?","body":"<p>The <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/integration.html#scheduling\" rel=\"noreferrer\">documentation about scheduling</a> says:</p>\n\n<blockquote>\n  <p>If you do not provide a pool-size attribute, the default thread pool will only have a single thread.</p>\n</blockquote>\n\n<p>So if you have many scheduled tasks, you should configure the scheduler, as explained in the documentation, to have a pool with more threads, to make sure one long task doesn't delay all the other ones.</p>\n"},{"comments":[{"owner":{"account_id":3270337,"reputation":2871,"user_id":2753863,"display_name":"Vladimir Vagaytsev"},"score":5,"creation_date":1491830014,"post_id":28478518,"comment_id":73712467,"body_markdown":"Since the `Executor` interface does not have `shutdown()` method, I guess it&#39;s better to use `ExecutorService` as a return type to make the bean definition correct. Or will Spring discover the actual bean type in runtime?","body":"Since the <code>Executor</code> interface does not have <code>shutdown()</code> method, I guess it&#39;s better to use <code>ExecutorService</code> as a return type to make the bean definition correct. Or will Spring discover the actual bean type in runtime?"},{"owner":{"account_id":365723,"reputation":1537,"user_id":710817,"accept_rate":67,"display_name":"whoami"},"score":3,"creation_date":1497271257,"post_id":28478518,"comment_id":75992659,"body_markdown":"XML config - `&lt;task:scheduler id=&quot;taskScheduler&quot; pool-size=&quot;5&quot;/&gt;`","body":"XML config - <code>&lt;task:scheduler id=&quot;taskScheduler&quot; pool-size=&quot;5&quot;&#47;&gt;</code>"},{"owner":{"account_id":2357514,"reputation":1444,"user_id":3890673,"accept_rate":55,"display_name":"crusy"},"score":3,"creation_date":1501673103,"post_id":28478518,"comment_id":77879070,"body_markdown":"See [here](https://stackoverflow.com/a/35017579/3890673) for an example of a SchedulingConfigurer","body":"See <a href=\"https://stackoverflow.com/a/35017579/3890673\">here</a> for an example of a SchedulingConfigurer"},{"owner":{"account_id":5151005,"reputation":7132,"user_id":4125622,"accept_rate":79,"display_name":"Phil"},"score":6,"creation_date":1555060166,"post_id":28478518,"comment_id":97985303,"body_markdown":"Does not work together with Spring autoconfig: ***The bean &#39;taskScheduler&#39;, defined in class path resource [org/springframework/boot/autoconfigure/task/ TaskSchedulingAutoConfiguration.class], could not be registered. A bean with that name has already been defined in class path resource ...***","body":"Does not work together with Spring autoconfig: <b><i>The bean &#39;taskScheduler&#39;, defined in class path resource [org/springframework/boot/autoconfigure/task/ TaskSchedulingAutoConfiguration.class], could not be registered. A bean with that name has already been defined in class path resource ...</i></b>"},{"owner":{"account_id":8767179,"reputation":432,"user_id":6555159,"accept_rate":86,"display_name":"socona"},"score":0,"creation_date":1642592107,"post_id":28478518,"comment_id":125110021,"body_markdown":"Suggesting a new answer for this for Spring Boot &gt;= 2 (in my case v2.2.10.RELEASE) https://stackoverflow.com/a/67567777/6555159","body":"Suggesting a new answer for this for Spring Boot &gt;= 2 (in my case v2.2.10.RELEASE) <a href=\"https://stackoverflow.com/a/67567777/6555159\">stackoverflow.com/a/67567777/6555159</a>"}],"tags":[],"owner":{"account_id":1028549,"reputation":10245,"user_id":1037316,"accept_rate":86,"display_name":"G. Demecki"},"comment_count":5,"down_vote_count":3,"up_vote_count":84,"is_accepted":true,"score":81,"last_activity_date":1678025502,"creation_date":1423747230,"answer_id":28478518,"question_id":21993464,"body_markdown":"## Spring 4.x\r\n\r\nCode below shows the simplest possible way to configure scheduler with java config:\r\n\r\n    @Configuration\r\n    @EnableScheduling\r\n    public class SpringConfiguration {\r\n    \r\n    \t@Bean(destroyMethod = &quot;shutdown&quot;)\r\n    \tpublic Executor taskScheduler() {\r\n    \t\treturn Executors.newScheduledThreadPool(5);\r\n    \t}\r\n        ...\r\n\r\nWhen more control is desired, a `@Configuration` class may implement `SchedulingConfigurer`.\r\n\r\n## Spring Boot\r\n\r\nIn Spring Boot there is a simple property to configure the thread pool size:\r\n\r\n    spring.task.scheduling.pool.size=5","title":"Does spring @Scheduled annotated methods runs on different threads?","body":"<h2>Spring 4.x</h2>\n<p>Code below shows the simplest possible way to configure scheduler with java config:</p>\n<pre><code>@Configuration\n@EnableScheduling\npublic class SpringConfiguration {\n\n    @Bean(destroyMethod = &quot;shutdown&quot;)\n    public Executor taskScheduler() {\n        return Executors.newScheduledThreadPool(5);\n    }\n    ...\n</code></pre>\n<p>When more control is desired, a <code>@Configuration</code> class may implement <code>SchedulingConfigurer</code>.</p>\n<h2>Spring Boot</h2>\n<p>In Spring Boot there is a simple property to configure the thread pool size:</p>\n<pre><code>spring.task.scheduling.pool.size=5\n</code></pre>\n"},{"comments":[{"owner":{"account_id":11394173,"reputation":428,"user_id":8353141,"accept_rate":46,"display_name":"Orby"},"score":2,"creation_date":1549979085,"post_id":34646639,"comment_id":96094289,"body_markdown":"I think its good practice to call `taskScheduler.initialize();` before returning your instance of `taskScheduler`","body":"I think its good practice to call <code>taskScheduler.initialize();</code> before returning your instance of <code>taskScheduler</code>"},{"owner":{"account_id":8767179,"reputation":432,"user_id":6555159,"accept_rate":86,"display_name":"socona"},"score":0,"creation_date":1642592016,"post_id":34646639,"comment_id":125109986,"body_markdown":"Did not work for me with Spring Boot v2.2.10.RELEASE: Followed another answer from @NeeruKSingh successfully: https://stackoverflow.com/a/67567777/6555159","body":"Did not work for me with Spring Boot v2.2.10.RELEASE: Followed another answer from @NeeruKSingh successfully: <a href=\"https://stackoverflow.com/a/67567777/6555159\">stackoverflow.com/a/67567777/6555159</a>"}],"tags":[],"owner":{"account_id":2524970,"reputation":127,"user_id":2194511,"display_name":"sj8515465"},"comment_count":2,"down_vote_count":2,"up_vote_count":13,"is_accepted":false,"score":11,"last_activity_date":1452135288,"creation_date":1452135288,"answer_id":34646639,"question_id":21993464,"body_markdown":"you can use:\r\n\r\n    @Bean()\r\n    public  ThreadPoolTaskScheduler  taskScheduler(){\r\n        ThreadPoolTaskScheduler taskScheduler = new ThreadPoolTaskScheduler();\r\n        taskScheduler.setPoolSize(2);\r\n        return  taskScheduler;\r\n    }","title":"Does spring @Scheduled annotated methods runs on different threads?","body":"<p>you can use:</p>\n\n<pre><code>@Bean()\npublic  ThreadPoolTaskScheduler  taskScheduler(){\n    ThreadPoolTaskScheduler taskScheduler = new ThreadPoolTaskScheduler();\n    taskScheduler.setPoolSize(2);\n    return  taskScheduler;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":484543,"reputation":308,"user_id":900278,"accept_rate":57,"display_name":"zhaoyou"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1564038622,"creation_date":1564038622,"answer_id":57196197,"question_id":21993464,"body_markdown":"default spring using a single thread for schedule task. you can using @Configuration for class implements SchedulingConfigurer . referce: `https://crmepham.github.io/spring-boot-multi-thread-scheduling/`","title":"Does spring @Scheduled annotated methods runs on different threads?","body":"<p>default spring using a single thread for schedule task. you can using @Configuration for class implements SchedulingConfigurer . referce: <code>https://crmepham.github.io/spring-boot-multi-thread-scheduling/</code></p>\n"},{"comments":[{"owner":{"account_id":7122775,"reputation":1029,"user_id":5446775,"accept_rate":48,"display_name":"Yves Calaci"},"score":0,"creation_date":1680711621,"post_id":57500778,"comment_id":133945778,"body_markdown":"Making `taskExecutor()` a bean function is pointless, since it&#39;s not going to be injected anywhere (therefore no need to keep a singleton bean in memory), but rather called directly from `configureTasks()`. Thus, `shutdown` will never be triggered, as `Executor` wont be a managed bean.","body":"Making <code>taskExecutor()</code> a bean function is pointless, since it&#39;s not going to be injected anywhere (therefore no need to keep a singleton bean in memory), but rather called directly from <code>configureTasks()</code>. Thus, <code>shutdown</code> will never be triggered, as <code>Executor</code> wont be a managed bean."},{"owner":{"account_id":188204,"reputation":1132,"user_id":426805,"accept_rate":50,"display_name":"jgreen"},"score":1,"creation_date":1681854082,"post_id":57500778,"comment_id":134123459,"body_markdown":"@YvesCalaci The code is from their docs, not mine.","body":"@YvesCalaci The code is from their docs, not mine."}],"tags":[],"owner":{"account_id":188204,"reputation":1132,"user_id":426805,"accept_rate":50,"display_name":"jgreen"},"comment_count":2,"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1565810314,"creation_date":1565810314,"answer_id":57500778,"question_id":21993464,"body_markdown":"The [@EnableScheduling][1] annotation provides the key information and how to resolve it:\r\n\r\n&gt; By default, will be searching for an associated scheduler definition:\r\n&gt; either a unique TaskScheduler bean in the context, or a TaskScheduler\r\n&gt; bean named &quot;taskScheduler&quot; otherwise; the same lookup will also be\r\n&gt; performed for a ScheduledExecutorService bean. **If neither of the two\r\n&gt; is resolvable, a local single-threaded default scheduler will be\r\n&gt; created and used within the registrar**.\r\n&gt; \r\n&gt; When more control is desired, a @Configuration class may implement\r\n&gt; SchedulingConfigurer. This allows access to the underlying\r\n&gt; ScheduledTaskRegistrar instance. For example, the following example\r\n&gt; demonstrates how to customize the Executor used to execute scheduled\r\n&gt; tasks:\r\n\r\n     @Configuration\r\n     @EnableScheduling\r\n     public class AppConfig implements SchedulingConfigurer {\r\n    \r\n         @Override\r\n         public void configureTasks(ScheduledTaskRegistrar taskRegistrar) {\r\n             taskRegistrar.setScheduler(taskExecutor());\r\n         }\r\n    \r\n         @Bean(destroyMethod=&quot;shutdown&quot;)\r\n         public Executor taskExecutor() {\r\n             return Executors.newScheduledThreadPool(100);\r\n         }\r\n     }\r\n\r\n(emphasis added)\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/annotation/EnableScheduling.html","title":"Does spring @Scheduled annotated methods runs on different threads?","body":"<p>The <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/annotation/EnableScheduling.html\" rel=\"noreferrer\">@EnableScheduling</a> annotation provides the key information and how to resolve it:</p>\n\n<blockquote>\n  <p>By default, will be searching for an associated scheduler definition:\n  either a unique TaskScheduler bean in the context, or a TaskScheduler\n  bean named \"taskScheduler\" otherwise; the same lookup will also be\n  performed for a ScheduledExecutorService bean. <strong>If neither of the two\n  is resolvable, a local single-threaded default scheduler will be\n  created and used within the registrar</strong>.</p>\n  \n  <p>When more control is desired, a @Configuration class may implement\n  SchedulingConfigurer. This allows access to the underlying\n  ScheduledTaskRegistrar instance. For example, the following example\n  demonstrates how to customize the Executor used to execute scheduled\n  tasks:</p>\n</blockquote>\n\n<pre><code> @Configuration\n @EnableScheduling\n public class AppConfig implements SchedulingConfigurer {\n\n     @Override\n     public void configureTasks(ScheduledTaskRegistrar taskRegistrar) {\n         taskRegistrar.setScheduler(taskExecutor());\n     }\n\n     @Bean(destroyMethod=\"shutdown\")\n     public Executor taskExecutor() {\n         return Executors.newScheduledThreadPool(100);\n     }\n }\n</code></pre>\n\n<p>(emphasis added)</p>\n"},{"comments":[{"owner":{"account_id":453918,"reputation":2857,"user_id":851185,"accept_rate":79,"display_name":"jean"},"score":4,"creation_date":1574126469,"post_id":58545075,"comment_id":104111916,"body_markdown":"This is the only way to do that if spring boot version &gt;= 2.0. Override taskScheduler() is useless","body":"This is the only way to do that if spring boot version &gt;= 2.0. Override taskScheduler() is useless"},{"owner":{"account_id":80680,"reputation":9514,"user_id":227986,"accept_rate":59,"display_name":"BillMan"},"score":0,"creation_date":1629901545,"post_id":58545075,"comment_id":121810415,"body_markdown":"@jean As far as I can tell, this is not the case for 2.4.3. I am able to inject my own Scheduler mentioned in this post","body":"@jean As far as I can tell, this is not the case for 2.4.3. I am able to inject my own Scheduler mentioned in this post"},{"owner":{"account_id":10032621,"reputation":653,"user_id":7418534,"display_name":"ErShakirAnsari"},"score":0,"creation_date":1689597221,"post_id":58545075,"comment_id":135231482,"body_markdown":"Thank you.. is there a way to give prefix to thread?","body":"Thank you.. is there a way to give prefix to thread?"}],"tags":[],"owner":{"account_id":250793,"reputation":2496,"user_id":527718,"accept_rate":88,"display_name":"L.Butz"},"comment_count":3,"down_vote_count":0,"up_vote_count":66,"is_accepted":false,"score":66,"last_activity_date":1660685186,"creation_date":1571932747,"answer_id":58545075,"question_id":21993464,"body_markdown":"#### If you&#39;re using Spring Boot:\r\n\r\nThere is also a property you can set in your application properties file that increases the pool size: \r\n\r\n`spring.task.scheduling.pool.size=10`\r\n\r\nSeems to be there since Spring Boot 2.1.0.","title":"Does spring @Scheduled annotated methods runs on different threads?","body":"<h4>If you're using Spring Boot:</h4>\n<p>There is also a property you can set in your application properties file that increases the pool size:</p>\n<p><code>spring.task.scheduling.pool.size=10</code></p>\n<p>Seems to be there since Spring Boot 2.1.0.</p>\n"},{"tags":[],"owner":{"account_id":11738231,"reputation":356,"user_id":8591363,"display_name":"Ashok Parmar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1595510962,"creation_date":1595510962,"answer_id":63055459,"question_id":21993464,"body_markdown":"Using XML file add below lines..\r\n\r\n    &lt;task:scheduler id=&quot;taskScheduler&quot; pool-size=&quot;15&quot; /&gt;\r\n    &lt;task:scheduled-tasks scheduler=&quot;taskScheduler&quot; &gt;\r\n    ....\r\n    &lt;/task:scheduled-tasks&gt;","title":"Does spring @Scheduled annotated methods runs on different threads?","body":"<p>Using XML file add below lines..</p>\n<pre><code>&lt;task:scheduler id=&quot;taskScheduler&quot; pool-size=&quot;15&quot; /&gt;\n&lt;task:scheduled-tasks scheduler=&quot;taskScheduler&quot; &gt;\n....\n&lt;/task:scheduled-tasks&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10980555,"reputation":125,"user_id":10852616,"display_name":"shubham sachan"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1651147098,"creation_date":1651147098,"answer_id":72043269,"question_id":21993464,"body_markdown":"We need to pass our own thread pool scheduler, otherwise it will use default single threaded executor. Have added below code to fix-\r\n\r\n    @Bean\r\n\tpublic Executor scheduledTaskThreadPool() {\r\n\t\tThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\r\n\t\texecutor.setCorePoolSize(10);\r\n\t\texecutor.setMaxPoolSize(10);\r\n\t\texecutor.setThreadNamePrefix(&quot;name-&quot;);\r\n\t\texecutor.initialize();\r\n\t\treturn executor;\r\n\t}","title":"Does spring @Scheduled annotated methods runs on different threads?","body":"<p>We need to pass our own thread pool scheduler, otherwise it will use default single threaded executor. Have added below code to fix-</p>\n<pre><code>@Bean\npublic Executor scheduledTaskThreadPool() {\n    ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\n    executor.setCorePoolSize(10);\n    executor.setMaxPoolSize(10);\n    executor.setThreadNamePrefix(&quot;name-&quot;);\n    executor.initialize();\n    return executor;\n}\n</code></pre>\n"}],"owner":{"account_id":1387991,"reputation":7448,"user_id":1319542,"accept_rate":53,"display_name":"froi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105491,"favorite_count":0,"down_vote_count":0,"up_vote_count":112,"accepted_answer_id":28478518,"answer_count":9,"score":112,"last_activity_date":1678025502,"creation_date":1393259648,"question_id":21993464,"body_markdown":"I have several methods annotated with `@Scheduled(fixedDelay=10000)`.\r\n\r\nIn the application context, I have this annotation-driven setup:\r\n\r\n    &lt;task:annotation-driven /&gt;\r\n\r\nThe problem is, sometimes some of the method executions get delayed by seconds and even minutes.\r\n\r\nI&#39;m assuming that even if a method takes a while to finish executing, the other methods would still execute. So I don&#39;t understand the delay.  \r\n\r\nIs there a way to maybe lessen or even remove the delay?","title":"Does spring @Scheduled annotated methods runs on different threads?","body":"<p>I have several methods annotated with <code>@Scheduled(fixedDelay=10000)</code>.</p>\n\n<p>In the application context, I have this annotation-driven setup:</p>\n\n<pre><code>&lt;task:annotation-driven /&gt;\n</code></pre>\n\n<p>The problem is, sometimes some of the method executions get delayed by seconds and even minutes.</p>\n\n<p>I'm assuming that even if a method takes a while to finish executing, the other methods would still execute. So I don't understand the delay.  </p>\n\n<p>Is there a way to maybe lessen or even remove the delay?</p>\n"},{"tags":["java","android","xml","label","visible"],"comments":[{"owner":{"account_id":7707982,"reputation":434,"user_id":9418794,"display_name":"Sovathna Hong"},"score":0,"creation_date":1670376056,"post_id":74663809,"comment_id":131861291,"body_markdown":"All the activity will inherit the label from the application, if you don&#39;t set its label in the manifest file. If you want to set each activity title in code, you can use `setTitle` method. To make it disappear set an empty string. I recommend you use the support action bar with toolbar, you will have more control over the app bar this way. To hide the title with the support action bar `supportActionBar.setDisplayShowTitleEnabled(false)`.","body":"All the activity will inherit the label from the application, if you don&#39;t set its label in the manifest file. If you want to set each activity title in code, you can use <code>setTitle</code> method. To make it disappear set an empty string. I recommend you use the support action bar with toolbar, you will have more control over the app bar this way. To hide the title with the support action bar <code>supportActionBar.setDisplayShowTitleEnabled(false)</code>."}],"answers":[{"tags":[],"owner":{"account_id":18015029,"reputation":53,"user_id":13093732,"display_name":"MossDog"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678024478,"creation_date":1678024478,"answer_id":75642730,"question_id":74663809,"body_markdown":"I eventually realized that one of the classes was extending Activity and all of the others were extending AppCompatActivity which was causing the difference in style.","title":"Why are activity labels showing / not showing in android studio","body":"<p>I eventually realized that one of the classes was extending Activity and all of the others were extending AppCompatActivity which was causing the difference in style.</p>\n"}],"owner":{"account_id":18015029,"reputation":53,"user_id":13093732,"display_name":"MossDog"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":530,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75642730,"answer_count":1,"score":0,"last_activity_date":1678024478,"creation_date":1670038607,"question_id":74663809,"body_markdown":"For some reason, my TaskForm.java activity is showing the value of @strings/app_name as it&#39;s label. I can&#39;t get it to stop showing the label, nor can I get any of my other activities to show the label so I would like to fix this inconsistency. I have looked through my androidManifest.xml, and compared my task_form.xml with other .xmls, and I have no idea what could be causing this. Apologies if this is a simple mistake, I am a beginner in android studio and I have tried to find a solution, any help would be greatly appreciated.\r\n\r\nAndroidManifest.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n\r\n&lt;manifest\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.C20487654_Assignment&quot;\r\n        tools:targetApi=&quot;31&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;\r\n            android:launchMode=&quot;singleTask&quot;\r\n            android:label=&quot;@string/app_name&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n\r\n            &lt;meta-data\r\n                android:name=&quot;android.app.lib_name&quot;\r\n                android:value=&quot;&quot; /&gt;\r\n        &lt;/activity&gt;\r\n\r\n        &lt;activity android:name=&quot;.NewActivity&quot;&gt;\r\n        &lt;/activity&gt;\r\n\r\n        &lt;activity android:name=&quot;.TaskForm&quot;&gt;\r\n        &lt;/activity&gt;\r\n\r\n        &lt;service\r\n            android:name=&quot;.NotificationService&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;your.app.domain.NotificationService&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/service&gt;\r\n\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n```\r\n\r\ntask_form.xml (shows label)\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n\r\n    &lt;LinearLayout\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:orientation=&quot;vertical&quot;&gt;\r\n\r\n        &lt;EditText\r\n            android:id=&quot;@+id/idEdtTitle&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_margin=&quot;10dp&quot;\r\n            android:hint=&quot;Enter Title&quot; /&gt;\r\n\r\n        &lt;EditText\r\n            android:id=&quot;@+id/idEdtTask&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_margin=&quot;10dp&quot;\r\n            android:hint=&quot;Enter Task&quot; /&gt;\r\n\r\n        &lt;Button\r\n            android:id=&quot;@+id/addTaskBtn&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_margin=&quot;10dp&quot;\r\n            android:text=&quot;Add Task&quot;\r\n            android:textAllCaps=&quot;false&quot; /&gt;\r\n\r\n        &lt;Button\r\n            android:id=&quot;@+id/cancelTaskBtn&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_margin=&quot;10dp&quot;\r\n            android:text=&quot;Cancel&quot;\r\n            android:textAllCaps=&quot;false&quot; /&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n```\r\n\r\nnew_screen.xml (doesn&#39;t show label)\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n\r\n&lt;LinearLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:paddingTop=&quot;15dp&quot;\r\n    android:paddingBottom=&quot;15dp&quot;\r\n    android:orientation=&quot;vertical&quot;&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:paddingBottom=&quot;10dp&quot;\r\n        android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n        &lt;TextView android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:paddingLeft=&quot;15dp&quot;\r\n            android:text=&quot;Name: &quot;\r\n            android:textSize=&quot;20sp&quot;/&gt;\r\n\r\n        &lt;TextView\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:textSize=&quot;20sp&quot;\r\n            android:textColor=&quot;@color/black&quot;\r\n            android:id=&quot;@+id/name&quot;/&gt;\r\n\r\n        &lt;TextView\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:paddingLeft=&quot;30dp&quot;\r\n            android:text=&quot;Status: &quot;\r\n            android:textSize=&quot;20sp&quot; /&gt;\r\n\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/status&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:textColor=&quot;@color/black&quot;\r\n            android:textSize=&quot;20sp&quot; /&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n        &lt;TextView\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:paddingLeft=&quot;15dp&quot;\r\n            android:text=&quot;Description: &quot;\r\n            android:textSize=&quot;20sp&quot;/&gt;\r\n\r\n        &lt;TextView\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:paddingBottom=&quot;15dp&quot;\r\n            android:textSize=&quot;20sp&quot;\r\n            android:textColor=&quot;@color/black&quot;\r\n            android:id=&quot;@+id/description&quot;/&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_width=&quot;fill_parent&quot;\r\n        android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n        &lt;Button\r\n            android:id=&quot;@+id/completeBtn&quot;\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_weight=&quot;1&quot;\r\n            android:text=&quot;Complete&quot;\r\n            android:visibility=&quot;visible&quot;\r\n            android:backgroundTint=&quot;@color/green&quot;/&gt;\r\n\r\n        &lt;Button\r\n            android:id=&quot;@+id/removeBtn&quot;\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_weight=&quot;1&quot;\r\n            android:text=&quot;Remove&quot;\r\n            android:visibility=&quot;visible&quot;\r\n            android:backgroundTint=&quot;@color/red&quot;/&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/cancelBtn&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Cancel&quot; /&gt;\r\n\r\n\r\n&lt;/LinearLayout&gt;\r\n","title":"Why are activity labels showing / not showing in android studio","body":"<p>For some reason, my TaskForm.java activity is showing the value of @strings/app_name as it's label. I can't get it to stop showing the label, nor can I get any of my other activities to show the label so I would like to fix this inconsistency. I have looked through my androidManifest.xml, and compared my task_form.xml with other .xmls, and I have no idea what could be causing this. Apologies if this is a simple mistake, I am a beginner in android studio and I have tried to find a solution, any help would be greatly appreciated.</p>\n<p>AndroidManifest.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n\n&lt;manifest\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.C20487654_Assignment&quot;\n        tools:targetApi=&quot;31&quot;&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;\n            android:launchMode=&quot;singleTask&quot;\n            android:label=&quot;@string/app_name&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n\n            &lt;meta-data\n                android:name=&quot;android.app.lib_name&quot;\n                android:value=&quot;&quot; /&gt;\n        &lt;/activity&gt;\n\n        &lt;activity android:name=&quot;.NewActivity&quot;&gt;\n        &lt;/activity&gt;\n\n        &lt;activity android:name=&quot;.TaskForm&quot;&gt;\n        &lt;/activity&gt;\n\n        &lt;service\n            android:name=&quot;.NotificationService&quot;\n            android:label=&quot;@string/app_name&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;your.app.domain.NotificationService&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/service&gt;\n\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p>task_form.xml (shows label)</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n\n    &lt;LinearLayout\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:orientation=&quot;vertical&quot;&gt;\n\n        &lt;EditText\n            android:id=&quot;@+id/idEdtTitle&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_margin=&quot;10dp&quot;\n            android:hint=&quot;Enter Title&quot; /&gt;\n\n        &lt;EditText\n            android:id=&quot;@+id/idEdtTask&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_margin=&quot;10dp&quot;\n            android:hint=&quot;Enter Task&quot; /&gt;\n\n        &lt;Button\n            android:id=&quot;@+id/addTaskBtn&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_margin=&quot;10dp&quot;\n            android:text=&quot;Add Task&quot;\n            android:textAllCaps=&quot;false&quot; /&gt;\n\n        &lt;Button\n            android:id=&quot;@+id/cancelTaskBtn&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_margin=&quot;10dp&quot;\n            android:text=&quot;Cancel&quot;\n            android:textAllCaps=&quot;false&quot; /&gt;\n\n    &lt;/LinearLayout&gt;\n</code></pre>\n<p>new_screen.xml (doesn't show label)</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n\n&lt;LinearLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:paddingTop=&quot;15dp&quot;\n    android:paddingBottom=&quot;15dp&quot;\n    android:orientation=&quot;vertical&quot;&gt;\n\n    &lt;LinearLayout\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:paddingBottom=&quot;10dp&quot;\n        android:orientation=&quot;horizontal&quot;&gt;\n\n        &lt;TextView android:layout_height=&quot;wrap_content&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:paddingLeft=&quot;15dp&quot;\n            android:text=&quot;Name: &quot;\n            android:textSize=&quot;20sp&quot;/&gt;\n\n        &lt;TextView\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:textSize=&quot;20sp&quot;\n            android:textColor=&quot;@color/black&quot;\n            android:id=&quot;@+id/name&quot;/&gt;\n\n        &lt;TextView\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:paddingLeft=&quot;30dp&quot;\n            android:text=&quot;Status: &quot;\n            android:textSize=&quot;20sp&quot; /&gt;\n\n\n        &lt;TextView\n            android:id=&quot;@+id/status&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:textColor=&quot;@color/black&quot;\n            android:textSize=&quot;20sp&quot; /&gt;\n\n    &lt;/LinearLayout&gt;\n\n    &lt;LinearLayout\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:orientation=&quot;horizontal&quot;&gt;\n\n        &lt;TextView\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:paddingLeft=&quot;15dp&quot;\n            android:text=&quot;Description: &quot;\n            android:textSize=&quot;20sp&quot;/&gt;\n\n        &lt;TextView\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:paddingBottom=&quot;15dp&quot;\n            android:textSize=&quot;20sp&quot;\n            android:textColor=&quot;@color/black&quot;\n            android:id=&quot;@+id/description&quot;/&gt;\n\n    &lt;/LinearLayout&gt;\n\n    &lt;LinearLayout\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_width=&quot;fill_parent&quot;\n        android:orientation=&quot;horizontal&quot;&gt;\n\n        &lt;Button\n            android:id=&quot;@+id/completeBtn&quot;\n            android:layout_width=&quot;0dp&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_weight=&quot;1&quot;\n            android:text=&quot;Complete&quot;\n            android:visibility=&quot;visible&quot;\n            android:backgroundTint=&quot;@color/green&quot;/&gt;\n\n        &lt;Button\n            android:id=&quot;@+id/removeBtn&quot;\n            android:layout_width=&quot;0dp&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_weight=&quot;1&quot;\n            android:text=&quot;Remove&quot;\n            android:visibility=&quot;visible&quot;\n            android:backgroundTint=&quot;@color/red&quot;/&gt;\n\n    &lt;/LinearLayout&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/cancelBtn&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Cancel&quot; /&gt;\n\n\n&lt;/LinearLayout&gt;\n</code></pre>\n"},{"tags":["java","c#","base64","byte"],"comments":[{"owner":{"account_id":8238102,"reputation":20388,"user_id":6196568,"display_name":"shingo"},"score":2,"creation_date":1678021998,"post_id":75642438,"comment_id":133448707,"body_markdown":"_&quot;Expected result should be ...&quot;_ Why it&#39;s expected?","body":"<i>&quot;Expected result should be ...&quot;</i> Why it&#39;s expected?"},{"owner":{"account_id":14313149,"reputation":31,"user_id":10338779,"display_name":"Mayuna"},"score":0,"creation_date":1678022297,"post_id":75642438,"comment_id":133448749,"body_markdown":"Java&#39;s byte ranges from -128 to 127, making the value -128 the minimum one. C#&#39;s byte ranges from 0 to 256, making the value 0 the minimum one. For compatibility&#39;s sake, C#&#39;s decoded byte array should consist of zeroes, to hold the same information as Java&#39;s byte array.","body":"Java&#39;s byte ranges from -128 to 127, making the value -128 the minimum one. C#&#39;s byte ranges from 0 to 256, making the value 0 the minimum one. For compatibility&#39;s sake, C#&#39;s decoded byte array should consist of zeroes, to hold the same information as Java&#39;s byte array."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1678022643,"post_id":75642438,"comment_id":133448795,"body_markdown":"*C#&#39;s byte ranges from 0 to 256,*,  Nope, it goes from `0 to 255 inclusive`.  `256 is a 9 bit value.`. \n On most architectures, bytes are eight bits, signed or unsigned.    No byte array with the high order bit set should result in an all zero array when base64 decoded   It sounds like you are expecting some sort of overflow of -127  or 128 resulting in 0.","body":"<i>C#&#39;s byte ranges from 0 to 256,</i>,  Nope, it goes from <code>0 to 255 inclusive</code>.  <code>256 is a 9 bit value.</code>.   On most architectures, bytes are eight bits, signed or unsigned.    No byte array with the high order bit set should result in an all zero array when base64 decoded   It sounds like you are expecting some sort of overflow of -127  or 128 resulting in 0."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1678022785,"post_id":75642438,"comment_id":133448812,"body_markdown":"&quot;*convert Java&#39;s bytes into unsigned ones*&quot; -- what value should `-127` be converted to? to zero? And what should zero be converted to?","body":"&quot;<i>convert Java&#39;s bytes into unsigned ones</i>&quot; -- what value should <code>-127</code> be converted to? to zero? And what should zero be converted to?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1678025627,"post_id":75642438,"comment_id":133449281,"body_markdown":"*I also should mention, that I want also to be able to encode C#&#39;s byte array into Base64 that is correctly readable in Java.* The only thing that would make it *incorrect* would be to interpret the bit pattern incorrectly. That means you must (if you want the same *values* as C#) *unsign* each element with `element &amp; 0xFF`. The same principal applies in the opposite direction","body":"<i>I also should mention, that I want also to be able to encode C#&#39;s byte array into Base64 that is correctly readable in Java.</i> The only thing that would make it <i>incorrect</i> would be to interpret the bit pattern incorrectly. That means you must (if you want the same <i>values</i> as C#) <i>unsign</i> each element with <code>element &amp; 0xFF</code>. The same principal applies in the opposite direction"},{"owner":{"account_id":8238102,"reputation":20388,"user_id":6196568,"display_name":"shingo"},"score":0,"creation_date":1678025966,"post_id":75642438,"comment_id":133449347,"body_markdown":"Maybe you are looking for [sbyte](https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/builtin-types/integral-numeric-types).","body":"Maybe you are looking for <a href=\"https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/builtin-types/integral-numeric-types\" rel=\"nofollow noreferrer\">sbyte</a>."}],"answers":[{"tags":[],"owner":{"account_id":17964733,"reputation":56,"user_id":13054846,"display_name":"Nandan Mathure"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678024127,"creation_date":1678024127,"answer_id":75642691,"question_id":75642438,"body_markdown":"The encoded string &quot;gICAgICAgIA=&quot; stands for binary &quot;10000000 10000000 10000000 10000000 10000000 10000000 10000000 10000000&quot;. https://cryptii.com/pipes/base64-to-binary\r\n\r\nBinary 10000000 = -128 (For signed byte) and 10000000 = 128 (For unsigned byte). In .NET Byte is unsigned and SByte is type for Signed Byte. Ranges are identical to Java.\r\n\r\nUse sbyte[] instead of byte[]. Byte is 8-bit unsigned integer with range of 0 to 255 while sbyte is 8-bit signed integer with range from -128 to 127.\r\n\r\n    using System;\r\n    \t\t\t\t\t\r\n    public class Program\r\n    {\r\n    \tpublic static void Main()\r\n    \t{\r\n    \t\tvar x = Convert.FromBase64String(&quot;gICAgICAgIA=&quot;);\r\n    \t\t// Print as Signed Bytes\r\n    \t\tforeach(var sb in x)\r\n    \t\t{\r\n    \t\t\tConsole.Write($&quot;{(SByte)sb} &quot;);\r\n    \t\t}\r\n    \t\tConsole.WriteLine();\r\n    \t\t// Print as Unsigned Bytes\r\n    \t\tforeach(var b in x)\r\n    \t\t{\r\n    \t\t\tConsole.Write($&quot;{b} &quot;);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nAnd the output is\r\n\r\n    -128 -128 -128 -128 -128 -128 -128 -128 \r\n    128 128 128 128 128 128 128 128 ","title":"How to en/decode Base64 string from Java that has unsigned bytes in C# that has signed bytes?","body":"<p>The encoded string &quot;gICAgICAgIA=&quot; stands for binary &quot;10000000 10000000 10000000 10000000 10000000 10000000 10000000 10000000&quot;. <a href=\"https://cryptii.com/pipes/base64-to-binary\" rel=\"nofollow noreferrer\">https://cryptii.com/pipes/base64-to-binary</a></p>\n<p>Binary 10000000 = -128 (For signed byte) and 10000000 = 128 (For unsigned byte). In .NET Byte is unsigned and SByte is type for Signed Byte. Ranges are identical to Java.</p>\n<p>Use sbyte[] instead of byte[]. Byte is 8-bit unsigned integer with range of 0 to 255 while sbyte is 8-bit signed integer with range from -128 to 127.</p>\n<pre><code>using System;\n                    \npublic class Program\n{\n    public static void Main()\n    {\n        var x = Convert.FromBase64String(&quot;gICAgICAgIA=&quot;);\n        // Print as Signed Bytes\n        foreach(var sb in x)\n        {\n            Console.Write($&quot;{(SByte)sb} &quot;);\n        }\n        Console.WriteLine();\n        // Print as Unsigned Bytes\n        foreach(var b in x)\n        {\n            Console.Write($&quot;{b} &quot;);\n        }\n    }\n}\n</code></pre>\n<p>And the output is</p>\n<pre><code>-128 -128 -128 -128 -128 -128 -128 -128 \n128 128 128 128 128 128 128 128 \n</code></pre>\n"},{"tags":[],"owner":{"account_id":409461,"reputation":2960,"user_id":780733,"display_name":"Vincent Biragnet"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678024443,"creation_date":1678024443,"answer_id":75642727,"question_id":75642438,"body_markdown":"The results are coherent:\r\n\r\n    Java: Byte.MIN_VALUE = -128, binary representation: &#39;10000000&#39; \r\n    C#:   byte.MinValue  = 0   , binary representation: &#39;00000000&#39;\r\n\r\n\r\nYou cannot expect the same base 64 string. Somewhere, you lack a translation between the two different types you are using. ","title":"How to en/decode Base64 string from Java that has unsigned bytes in C# that has signed bytes?","body":"<p>The results are coherent:</p>\n<pre><code>Java: Byte.MIN_VALUE = -128, binary representation: '10000000' \nC#:   byte.MinValue  = 0   , binary representation: '00000000'\n</code></pre>\n<p>You cannot expect the same base 64 string. Somewhere, you lack a translation between the two different types you are using.</p>\n"}],"owner":{"account_id":14313149,"reputation":31,"user_id":10338779,"display_name":"Mayuna"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":202,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1678024443,"creation_date":1678021840,"question_id":75642438,"body_markdown":"A byte array in Java of the length of 8 with values `Byte.MIN_VALUE`:\r\n```\r\nbyte[] bytes = new byte[8];\r\nArrays.fill(bytes, Byte.MIN_VALUE);\r\n// [-127, -127, -127, -127, -127, -127, -127, -127]\r\nstring base64string = Base64.getEncoder().encodeToString(bytes);\r\n```\r\nwhen I encode this byte array into Base64, it results into: `gICAgICAgIA=`\r\n\r\nHowever, when C# decodes this array, it results into `[128, 128, 128, 128, 128, 128, 128, 128]`, because C#&#39;s byte is unsigned. **Expected result should be** `[0, 0, 0, 0, 0, 0, 0, 0]`.\r\n\r\nC#&#39;s byte array of `byte.MinValue` results in the Base64 string `AAAAAAAAAAA=` and Java decodes this Base64 string into `[0, 0, 0, 0, 0, 0, 0, 0]` instead of the expected result `[-127, -127, -127, -127, -127, -127, -127, -127]`.\r\n\r\nThe decoding in C# is done with `Convert.ToBase64String(bytes)`.\r\n\r\nIs there a way to convert Java&#39;s bytes into unsigned ones and encode them in Base64 so that C# can decode them correctly? Or is there a way for C#  to convert Java&#39;s Base64 encoded byte array of unsigned bytes into a Base64 encoded byte array of signed bytes?\r\n\r\nI also should mention, that I want also to be able to encode C#&#39;s byte array into Base64 that is correctly readable in Java.","title":"How to en/decode Base64 string from Java that has unsigned bytes in C# that has signed bytes?","body":"<p>A byte array in Java of the length of 8 with values <code>Byte.MIN_VALUE</code>:</p>\n<pre><code>byte[] bytes = new byte[8];\nArrays.fill(bytes, Byte.MIN_VALUE);\n// [-127, -127, -127, -127, -127, -127, -127, -127]\nstring base64string = Base64.getEncoder().encodeToString(bytes);\n</code></pre>\n<p>when I encode this byte array into Base64, it results into: <code>gICAgICAgIA=</code></p>\n<p>However, when C# decodes this array, it results into <code>[128, 128, 128, 128, 128, 128, 128, 128]</code>, because C#'s byte is unsigned. <strong>Expected result should be</strong> <code>[0, 0, 0, 0, 0, 0, 0, 0]</code>.</p>\n<p>C#'s byte array of <code>byte.MinValue</code> results in the Base64 string <code>AAAAAAAAAAA=</code> and Java decodes this Base64 string into <code>[0, 0, 0, 0, 0, 0, 0, 0]</code> instead of the expected result <code>[-127, -127, -127, -127, -127, -127, -127, -127]</code>.</p>\n<p>The decoding in C# is done with <code>Convert.ToBase64String(bytes)</code>.</p>\n<p>Is there a way to convert Java's bytes into unsigned ones and encode them in Base64 so that C# can decode them correctly? Or is there a way for C#  to convert Java's Base64 encoded byte array of unsigned bytes into a Base64 encoded byte array of signed bytes?</p>\n<p>I also should mention, that I want also to be able to encode C#'s byte array into Base64 that is correctly readable in Java.</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1677978495,"post_id":75639335,"comment_id":133444152,"body_markdown":"Add the import manually.  Look it up in the javadocs (Google for &quot;android javadoc assetmanager&quot;) and use the full classname that the javadoc tells you.","body":"Add the import manually.  Look it up in the javadocs (Google for &quot;android javadoc assetmanager&quot;) and use the full classname that the javadoc tells you."}],"answers":[{"tags":[],"owner":{"account_id":14547099,"reputation":1,"user_id":10507064,"display_name":"Nadav Meir"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678023725,"creation_date":1678023725,"answer_id":75642635,"question_id":75639335,"body_markdown":"As stated in the comments, try to manually add the import yourself. \r\nFor me, the import was: import android.content.res.AssetManager\r\n\r\n","title":"Cannot resolve symbol &#39;AssetManager&#39; in Android Studio Java","body":"<p>As stated in the comments, try to manually add the import yourself.\nFor me, the import was: import android.content.res.AssetManager</p>\n"}],"owner":{"account_id":9969173,"reputation":1133,"user_id":7375877,"display_name":"Mi Po"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1678023725,"creation_date":1677972918,"question_id":75639335,"body_markdown":"I cannot find what import I need to add AssetManager to my application\r\n\r\nAndroid Studio is not automatically adding imports\r\n\r\nWhat do I need to do to make this snippet of code work? \r\n\r\n        AssetManager assetManager = m_context.getAssets();\r\n        InputStream ims = assetManager.open(&quot;helloworld.txt&quot;);","title":"Cannot resolve symbol &#39;AssetManager&#39; in Android Studio Java","body":"<p>I cannot find what import I need to add AssetManager to my application</p>\n<p>Android Studio is not automatically adding imports</p>\n<p>What do I need to do to make this snippet of code work?</p>\n<pre><code>    AssetManager assetManager = m_context.getAssets();\n    InputStream ims = assetManager.open(&quot;helloworld.txt&quot;);\n</code></pre>\n"},{"tags":["java","mysql"],"comments":[{"owner":{"account_id":1217812,"reputation":777,"user_id":3887392,"display_name":"Andy Preston"},"score":0,"creation_date":1678017010,"post_id":75641988,"comment_id":133448042,"body_markdown":"Please read [Why should I not upload images of code/data/errors?](https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors) to see how you can improve your question.","body":"Please read <a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors\">Why should I not upload images of code/data/errors?</a> to see how you can improve your question."}],"answers":[{"tags":[],"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678017422,"creation_date":1678017422,"answer_id":75642054,"question_id":75641988,"body_markdown":"The name you defined doesn&#39;t match what you defined.\r\n\r\n```\r\n&#39;restaurant-service.food_menu&#39;  != @Table(name = &quot;FoodMenu&quot;)\r\n```\r\n\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    @Entity\r\n    @Table(name = &quot;FoodMenu&quot;)\r\n    public class FoodMenu {\r\n    . . . .\r\n","title":"Table &#39;restaurant-service.food_menu&#39; doesn&#39;t exist","body":"<p>The name you defined doesn't match what you defined.</p>\n<pre><code>'restaurant-service.food_menu'  != @Table(name = &quot;FoodMenu&quot;)\n</code></pre>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\n@Entity\n@Table(name = &quot;FoodMenu&quot;)\npublic class FoodMenu {\n. . . .\n</code></pre>\n"}],"owner":{"account_id":21534179,"reputation":3,"user_id":15873107,"display_name":"Lamvegan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75642054,"answer_count":1,"score":-1,"last_activity_date":1678023290,"creation_date":1678016660,"question_id":75641988,"body_markdown":"I need to get all information about restaurant, but when Im doing a request, I have an error   Table &#39;restaurant-service.food_menu&#39; doesn&#39;t exist, so I just don&#39;t know how to fix it, but my post request is working excellent [here is my database][1]\r\n\r\n\r\n\r\nDomain\r\n\r\nRestaurant\r\n\r\n        @Getter\r\n        @Setter\r\n        @NoArgsConstructor\r\n        @Entity\r\n        @Table(name = &quot;Restaurant&quot;)\r\n        public class Restaurant {\r\n        \r\n            @Id\r\n            @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n            @Column(name = &quot;RESTAURANT_ID&quot;)\r\n            private Long id;\r\n        \r\n            private String restaurantName;\r\n        \r\n            @OneToMany(fetch = FetchType.LAZY, cascade = CascadeType.ALL, mappedBy = &quot;restaurant&quot;)\r\n            private List&lt;FoodMenu&gt; menu;\r\n        \r\n            @OneToOne(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\r\n            @JoinColumn(name = &quot;ADDRESS_ID&quot;)\r\n            private Address address;\r\n        \r\n        }\r\n\r\nFoodMenu\r\n\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    @Entity\r\n    @Table(name = &quot;FoodMenu&quot;)\r\n    public class FoodMenu {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;FOOD_MENU_ID&quot;)\r\n        private Long id;\r\n    \r\n        private String foodName;\r\n    \r\n        private String foodDescription;\r\n    \r\n        private BigDecimal foodPrice;\r\n    \r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;RESTAURANT_ID&quot;)\r\n        private Restaurant restaurant;\r\n    \r\n    }\r\n\r\nService\r\n \r\n\r\n       @Service\r\n        @Transactional\r\n        public class RestaurantService {\r\n            @Autowired\r\n            private RestaurantRepository restaurantRepository;\r\n        \r\n            public void saveRestaurant(Restaurant restaurant){\r\n                 restaurantRepository.save(restaurant);\r\n            }\r\n        \r\n            public List&lt;Restaurant&gt; allRestaurants(){\r\n                return restaurantRepository.findAll();\r\n            }\r\n        }\r\n\r\nController\r\n   \r\n\r\n     @RestController\r\n        public class RestaurantController {\r\n        \r\n            @Autowired\r\n            private RestaurantService restaurantService;\r\n        \r\n            @PostMapping(&quot;/create&quot;)\r\n            public void createUploadRestaurant(@RequestBody Restaurant restaurant){\r\n              restaurantService.saveRestaurant(restaurant);\r\n            }\r\n        \r\n            @GetMapping(&quot;/showAllRestaurants&quot;)\r\n            public List&lt;Restaurant&gt; showRestaurants(){\r\n                return restaurantService.allRestaurants();\r\n            }\r\n        }\r\n\r\n  [1]: https://i.stack.imgur.com/xfF9b.png\r\n\r\n\r\n","title":"Table &#39;restaurant-service.food_menu&#39; doesn&#39;t exist","body":"<p>I need to get all information about restaurant, but when Im doing a request, I have an error   Table 'restaurant-service.food_menu' doesn't exist, so I just don't know how to fix it, but my post request is working excellent <a href=\"https://i.stack.imgur.com/xfF9b.png\" rel=\"nofollow noreferrer\">here is my database</a></p>\n<p>Domain</p>\n<p>Restaurant</p>\n<pre><code>    @Getter\n    @Setter\n    @NoArgsConstructor\n    @Entity\n    @Table(name = &quot;Restaurant&quot;)\n    public class Restaurant {\n    \n        @Id\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\n        @Column(name = &quot;RESTAURANT_ID&quot;)\n        private Long id;\n    \n        private String restaurantName;\n    \n        @OneToMany(fetch = FetchType.LAZY, cascade = CascadeType.ALL, mappedBy = &quot;restaurant&quot;)\n        private List&lt;FoodMenu&gt; menu;\n    \n        @OneToOne(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\n        @JoinColumn(name = &quot;ADDRESS_ID&quot;)\n        private Address address;\n    \n    }\n</code></pre>\n<p>FoodMenu</p>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\n@Entity\n@Table(name = &quot;FoodMenu&quot;)\npublic class FoodMenu {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;FOOD_MENU_ID&quot;)\n    private Long id;\n\n    private String foodName;\n\n    private String foodDescription;\n\n    private BigDecimal foodPrice;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;RESTAURANT_ID&quot;)\n    private Restaurant restaurant;\n\n}\n</code></pre>\n<p>Service</p>\n<pre><code>   @Service\n    @Transactional\n    public class RestaurantService {\n        @Autowired\n        private RestaurantRepository restaurantRepository;\n    \n        public void saveRestaurant(Restaurant restaurant){\n             restaurantRepository.save(restaurant);\n        }\n    \n        public List&lt;Restaurant&gt; allRestaurants(){\n            return restaurantRepository.findAll();\n        }\n    }\n</code></pre>\n<p>Controller</p>\n<pre><code> @RestController\n    public class RestaurantController {\n    \n        @Autowired\n        private RestaurantService restaurantService;\n    \n        @PostMapping(&quot;/create&quot;)\n        public void createUploadRestaurant(@RequestBody Restaurant restaurant){\n          restaurantService.saveRestaurant(restaurant);\n        }\n    \n        @GetMapping(&quot;/showAllRestaurants&quot;)\n        public List&lt;Restaurant&gt; showRestaurants(){\n            return restaurantService.allRestaurants();\n        }\n    }\n</code></pre>\n"},{"tags":["java","jira"],"comments":[{"owner":{"account_id":1590699,"reputation":3309,"user_id":1474069,"accept_rate":80,"display_name":"Carlitos Way"},"score":0,"creation_date":1676868901,"post_id":75460778,"comment_id":133217417,"body_markdown":"How are you running such example, from your favorite IDE?? or from command line?","body":"How are you running such example, from your favorite IDE?? or from command line?"},{"owner":{"account_id":8013069,"reputation":1135,"user_id":6044191,"accept_rate":59,"display_name":"Ihsan Haikal"},"score":0,"creation_date":1676971189,"post_id":75460778,"comment_id":133239466,"body_markdown":"@CarlitosWay from intellij but i dont see that as a problem","body":"@CarlitosWay from intellij but i dont see that as a problem"},{"owner":{"account_id":16482287,"reputation":558,"user_id":11908728,"display_name":"8bit"},"score":0,"creation_date":1676978293,"post_id":75460778,"comment_id":133241590,"body_markdown":"Can you add all of the error Message, especially the end?","body":"Can you add all of the error Message, especially the end?"},{"owner":{"account_id":327423,"reputation":3296,"user_id":649794,"accept_rate":100,"display_name":"Robert"},"score":0,"creation_date":1677245572,"post_id":75460778,"comment_id":133304876,"body_markdown":"Is there any reason you&#39;re listing projects using REST API? ProjectService::getAllProjects can do the same","body":"Is there any reason you&#39;re listing projects using REST API? ProjectService::getAllProjects can do the same"}],"answers":[{"comments":[{"owner":{"account_id":5957897,"reputation":364,"user_id":4683883,"accept_rate":50,"display_name":"Jefe infiltrado"},"score":0,"creation_date":1691655317,"post_id":75527051,"comment_id":135521608,"body_markdown":"Strange enough for me the error goes away with this change, but when I add the project in another one, it does not work anymore.","body":"Strange enough for me the error goes away with this change, but when I add the project in another one, it does not work anymore."},{"owner":{"account_id":1590699,"reputation":3309,"user_id":1474069,"accept_rate":80,"display_name":"Carlitos Way"},"score":0,"creation_date":1691696591,"post_id":75527051,"comment_id":135530253,"body_markdown":"What happen? Under the deployment that you describe, are you getting a `NoClassDefFoundError` ??","body":"What happen? Under the deployment that you describe, are you getting a <code>NoClassDefFoundError</code> ??"}],"tags":[],"owner":{"account_id":1590699,"reputation":3309,"user_id":1474069,"accept_rate":80,"display_name":"Carlitos Way"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1677023858,"creation_date":1677023858,"answer_id":75527051,"question_id":75460778,"body_markdown":"This is a long shot, but I&#39;ll suggest to change the scope of the library *fugue* from `provided` to `compile` and try again ...","title":"NoClassDefFoundError io/atlassian/fugue/Suppliers JIRA","body":"<p>This is a long shot, but I'll suggest to change the scope of the library <em>fugue</em> from <code>provided</code> to <code>compile</code> and try again ...</p>\n"},{"comments":[{"owner":{"account_id":8013069,"reputation":1135,"user_id":6044191,"accept_rate":59,"display_name":"Ihsan Haikal"},"score":0,"creation_date":1677148552,"post_id":75541413,"comment_id":133282171,"body_markdown":"i have tried this combination but still the same error","body":"i have tried this combination but still the same error"},{"owner":{"account_id":3446101,"reputation":11395,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":0,"creation_date":1677236700,"post_id":75541413,"comment_id":133302438,"body_markdown":"@Murat If you copy (and just slightly modify) the solution from another place, even copying the misspelled word &quot;depencies&quot;, I would consider as polite gesture to add the link: https://community.atlassian.com/t5/Jira-questions/I-am-getting-java-lang-ClassNotFoundException-io-atlassian-fugue/qaq-p/1096913 to give the credit to the original author.","body":"@Murat If you copy (and just slightly modify) the solution from another place, even copying the misspelled word &quot;depencies&quot;, I would consider as polite gesture to add the link: <a href=\"https://community.atlassian.com/t5/Jira-questions/I-am-getting-java-lang-ClassNotFoundException-io-atlassian-fugue/qaq-p/1096913\" rel=\"nofollow noreferrer\">community.atlassian.com/t5/Jira-questions/&hellip;</a> to give the credit to the original author."},{"owner":{"account_id":1756015,"reputation":11409,"user_id":1604048,"accept_rate":71,"display_name":"Murat Yıldız"},"score":0,"creation_date":1677975166,"post_id":75541413,"comment_id":133443867,"body_markdown":"@HonzaZidek Thanks for informing, I fixed the typo.","body":"@HonzaZidek Thanks for informing, I fixed the typo."},{"owner":{"account_id":3446101,"reputation":11395,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":0,"creation_date":1678022600,"post_id":75541413,"comment_id":133448787,"body_markdown":"By mentioning the typo, which you copied, I wanted to remind you that you copied work of someone else without mentioning here original source. Correcting the typo is not the edit I was asking you for.","body":"By mentioning the typo, which you copied, I wanted to remind you that you copied work of someone else without mentioning here original source. Correcting the typo is not the edit I was asking you for."}],"tags":[],"owner":{"account_id":1756015,"reputation":11409,"user_id":1604048,"accept_rate":71,"display_name":"Murat Yıldız"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677974813,"creation_date":1677134795,"answer_id":75541413,"question_id":75460778,"body_markdown":"The `io.atlassian.fugue.Suppliers` class is part of a different artifact that is not included in the JRJC maven dependencies. This causing exception at runtime.\r\n\r\nTry to add the following dependencies to your `pom.xml`:\r\n\r\n```\r\n&lt;dependency&gt;\r\n&lt;groupId&gt;com.atlassian.jira&lt;/groupId&gt;\r\n&lt;artifactId&gt;jira-rest-java-client-core&lt;/artifactId&gt;\r\n&lt;version&gt;5.2.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n\r\n&lt;dependency&gt;\r\n&lt;groupId&gt;io.atlassian.fugue&lt;/groupId&gt;\r\n&lt;artifactId&gt;fugue&lt;/artifactId&gt;\r\n&lt;version&gt;4.7.2&lt;/version&gt;\r\n&lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```","title":"NoClassDefFoundError io/atlassian/fugue/Suppliers JIRA","body":"<p>The <code>io.atlassian.fugue.Suppliers</code> class is part of a different artifact that is not included in the JRJC maven dependencies. This causing exception at runtime.</p>\n<p>Try to add the following dependencies to your <code>pom.xml</code>:</p>\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;com.atlassian.jira&lt;/groupId&gt;\n&lt;artifactId&gt;jira-rest-java-client-core&lt;/artifactId&gt;\n&lt;version&gt;5.2.0&lt;/version&gt;\n&lt;/dependency&gt;\n\n\n&lt;dependency&gt;\n&lt;groupId&gt;io.atlassian.fugue&lt;/groupId&gt;\n&lt;artifactId&gt;fugue&lt;/artifactId&gt;\n&lt;version&gt;4.7.2&lt;/version&gt;\n&lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":118571,"reputation":47112,"user_id":309683,"accept_rate":68,"display_name":"Behrang Saeedzadeh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677296238,"creation_date":1677296238,"answer_id":75563135,"question_id":75460778,"body_markdown":"This is working for me:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;untitled1&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;Atlassian&lt;/id&gt;\r\n            &lt;url&gt;https://packages.atlassian.com/mvn/maven-atlassian-external/&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;16&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;16&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.atlassian.jira&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jira-rest-java-client-core&lt;/artifactId&gt;\r\n            &lt;version&gt;5.2.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.atlassian.jira&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jira-rest-java-client-api&lt;/artifactId&gt;\r\n            &lt;version&gt;5.2.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.atlassian.fugue&lt;/groupId&gt;\r\n            &lt;artifactId&gt;fugue&lt;/artifactId&gt;\r\n            &lt;version&gt;5.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nAs mentioned in https://stackoverflow.com/a/75527051/309683, make sure `fuge` is not marked as `provided` if you are running the app outside Jira (e.g. not a plugin/extension).\r\n\r\nThen this code should work:\r\n\r\n```java\r\npackage org.example;\r\n\r\nimport com.atlassian.jira.rest.client.api.JiraRestClient;\r\nimport com.atlassian.jira.rest.client.api.JiraRestClientFactory;\r\nimport com.atlassian.jira.rest.client.api.domain.BasicProject;\r\nimport com.atlassian.jira.rest.client.internal.async.AsynchronousJiraRestClientFactory;\r\n\r\nimport java.net.URI;\r\n\r\npublic class Main {\r\n    private static final String JIRA_URL = &quot;https://your-jira-url.com&quot;;\r\n    private static final String JIRA_USERNAME = &quot;your-jira-username&quot;;\r\n    private static final String JIRA_PASSWORD = &quot;your-jira-password&quot;;\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        URI jiraServerUri = new URI(JIRA_URL);\r\n        JiraRestClientFactory factory = new AsynchronousJiraRestClientFactory();\r\n        try (JiraRestClient client = factory.createWithBasicHttpAuthentication(jiraServerUri, JIRA_USERNAME, JIRA_PASSWORD)) {\r\n            Iterable&lt;BasicProject&gt; projects = client.getProjectClient().getAllProjects().claim();\r\n            for (BasicProject project : projects) {\r\n                System.out.println(project.getKey() + &quot;: &quot; + project.getName());\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n","title":"NoClassDefFoundError io/atlassian/fugue/Suppliers JIRA","body":"<p>This is working for me:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;untitled1&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;Atlassian&lt;/id&gt;\n            &lt;url&gt;https://packages.atlassian.com/mvn/maven-atlassian-external/&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;16&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;16&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.atlassian.jira&lt;/groupId&gt;\n            &lt;artifactId&gt;jira-rest-java-client-core&lt;/artifactId&gt;\n            &lt;version&gt;5.2.4&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.atlassian.jira&lt;/groupId&gt;\n            &lt;artifactId&gt;jira-rest-java-client-api&lt;/artifactId&gt;\n            &lt;version&gt;5.2.4&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.atlassian.fugue&lt;/groupId&gt;\n            &lt;artifactId&gt;fugue&lt;/artifactId&gt;\n            &lt;version&gt;5.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>As mentioned in <a href=\"https://stackoverflow.com/a/75527051/309683\">https://stackoverflow.com/a/75527051/309683</a>, make sure <code>fuge</code> is not marked as <code>provided</code> if you are running the app outside Jira (e.g. not a plugin/extension).</p>\n<p>Then this code should work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.example;\n\nimport com.atlassian.jira.rest.client.api.JiraRestClient;\nimport com.atlassian.jira.rest.client.api.JiraRestClientFactory;\nimport com.atlassian.jira.rest.client.api.domain.BasicProject;\nimport com.atlassian.jira.rest.client.internal.async.AsynchronousJiraRestClientFactory;\n\nimport java.net.URI;\n\npublic class Main {\n    private static final String JIRA_URL = &quot;https://your-jira-url.com&quot;;\n    private static final String JIRA_USERNAME = &quot;your-jira-username&quot;;\n    private static final String JIRA_PASSWORD = &quot;your-jira-password&quot;;\n\n    public static void main(String[] args) throws Exception {\n        URI jiraServerUri = new URI(JIRA_URL);\n        JiraRestClientFactory factory = new AsynchronousJiraRestClientFactory();\n        try (JiraRestClient client = factory.createWithBasicHttpAuthentication(jiraServerUri, JIRA_USERNAME, JIRA_PASSWORD)) {\n            Iterable&lt;BasicProject&gt; projects = client.getProjectClient().getAllProjects().claim();\n            for (BasicProject project : projects) {\n                System.out.println(project.getKey() + &quot;: &quot; + project.getName());\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":8013069,"reputation":1135,"user_id":6044191,"accept_rate":59,"display_name":"Ihsan Haikal"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":673,"favorite_count":0,"down_vote_count":3,"up_vote_count":3,"accepted_answer_id":75563135,"answer_count":3,"score":0,"last_activity_date":1678022568,"creation_date":1676468859,"question_id":75460778,"body_markdown":"I am trying to list JIRA projects with the Java SDK following https://www.baeldung.com/jira-rest-api (I could not find another example in Google for this) with the following code:\r\n\r\n    public static void main(String[] args) {\r\n    \r\n    \r\n        JiraRestClient jiraRestClient = getJiraRestClient(URI.create(&quot;uri&quot;),&quot;username&quot;,&quot;token&quot;);\r\n    \r\n    \r\n        try {\r\n            Iterable&lt;BasicProject&gt; projects =  jiraRestClient.getProjectClient().getAllProjects().get();\r\n            projects.forEach(basicProject -&gt; System.out.println(basicProject.getName()));\r\n        } catch (InterruptedException e) {\r\n            throw new RuntimeException(e);\r\n        } catch (ExecutionException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n    \r\n    private static JiraRestClient getJiraRestClient(URI uri, String username, String password) {\r\n        return new AsynchronousJiraRestClientFactory()\r\n                .createWithBasicHttpAuthentication(uri, username, password);\r\n    }\r\n\r\nHowever, it returns this error:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: io/atlassian/fugue/Suppliers\r\n    \tat com.atlassian.httpclient.apache.httpcomponents.ApacheAsyncHttpClient.&lt;clinit&gt;(ApacheAsyncHttpClient.java:80)\r\n    \tat com.atlassian.httpclient.apache.httpcomponents.DefaultHttpClientFactory.doCreate(DefaultHttpClientFactory.java:61)\r\n    \tat com.atlassian.httpclient.apache.httpcomponents.DefaultHttpClientFactory.create(DefaultHttpClientFactory.java:36)\r\n    \tat com.atlassian.jira.rest.client.internal.async.AsynchronousHttpClientFactory.createClient(AsynchronousHttpClientFactory.java:68)\r\n    \tat com.atlassian.jira.rest.client.internal.async.AsynchronousJiraRestClientFactory.create(AsynchronousJiraRestClientFactory.java:36)\r\n    \tat com.atlassian.jira.rest.client.internal.async.AsynchronousJiraRestClientFactory.createWithBasicHttpAuthentication(AsynchronousJiraRestClientFactory.java:42)\r\n    \tat JiraPlayground.getJiraRestClient(JiraPlayground.java:30)\r\n    \tat JiraPlayground.main(JiraPlayground.java:13)\r\n    Caused by: java.lang.ClassNotFoundException: io.atlassian.fugue.Suppliers\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n    \t... 8 more\r\n\r\nHere are my dependencies:\r\n\r\n \r\n\r\n    &lt;dependency&gt;\r\n                &lt;groupId&gt;com.atlassian.jira&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jira-rest-java-client-core&lt;/artifactId&gt;\r\n                &lt;version&gt;5.2.4&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- https://mvnrepository.com/artifact/io.atlassian.fugue/fugue --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.atlassian.fugue&lt;/groupId&gt;\r\n                &lt;artifactId&gt;fugue&lt;/artifactId&gt;\r\n                &lt;version&gt;5.0.0&lt;/version&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n\r\nAny idea how to run the code correctly?","title":"NoClassDefFoundError io/atlassian/fugue/Suppliers JIRA","body":"<p>I am trying to list JIRA projects with the Java SDK following <a href=\"https://www.baeldung.com/jira-rest-api\" rel=\"nofollow noreferrer\">https://www.baeldung.com/jira-rest-api</a> (I could not find another example in Google for this) with the following code:</p>\n<pre><code>public static void main(String[] args) {\n\n\n    JiraRestClient jiraRestClient = getJiraRestClient(URI.create(&quot;uri&quot;),&quot;username&quot;,&quot;token&quot;);\n\n\n    try {\n        Iterable&lt;BasicProject&gt; projects =  jiraRestClient.getProjectClient().getAllProjects().get();\n        projects.forEach(basicProject -&gt; System.out.println(basicProject.getName()));\n    } catch (InterruptedException e) {\n        throw new RuntimeException(e);\n    } catch (ExecutionException e) {\n        throw new RuntimeException(e);\n    }\n}\n\nprivate static JiraRestClient getJiraRestClient(URI uri, String username, String password) {\n    return new AsynchronousJiraRestClientFactory()\n            .createWithBasicHttpAuthentication(uri, username, password);\n}\n</code></pre>\n<p>However, it returns this error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: io/atlassian/fugue/Suppliers\n    at com.atlassian.httpclient.apache.httpcomponents.ApacheAsyncHttpClient.&lt;clinit&gt;(ApacheAsyncHttpClient.java:80)\n    at com.atlassian.httpclient.apache.httpcomponents.DefaultHttpClientFactory.doCreate(DefaultHttpClientFactory.java:61)\n    at com.atlassian.httpclient.apache.httpcomponents.DefaultHttpClientFactory.create(DefaultHttpClientFactory.java:36)\n    at com.atlassian.jira.rest.client.internal.async.AsynchronousHttpClientFactory.createClient(AsynchronousHttpClientFactory.java:68)\n    at com.atlassian.jira.rest.client.internal.async.AsynchronousJiraRestClientFactory.create(AsynchronousJiraRestClientFactory.java:36)\n    at com.atlassian.jira.rest.client.internal.async.AsynchronousJiraRestClientFactory.createWithBasicHttpAuthentication(AsynchronousJiraRestClientFactory.java:42)\n    at JiraPlayground.getJiraRestClient(JiraPlayground.java:30)\n    at JiraPlayground.main(JiraPlayground.java:13)\nCaused by: java.lang.ClassNotFoundException: io.atlassian.fugue.Suppliers\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n    ... 8 more\n</code></pre>\n<p>Here are my dependencies:</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;com.atlassian.jira&lt;/groupId&gt;\n            &lt;artifactId&gt;jira-rest-java-client-core&lt;/artifactId&gt;\n            &lt;version&gt;5.2.4&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/io.atlassian.fugue/fugue --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.atlassian.fugue&lt;/groupId&gt;\n            &lt;artifactId&gt;fugue&lt;/artifactId&gt;\n            &lt;version&gt;5.0.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Any idea how to run the code correctly?</p>\n"},{"tags":["java","android","flutter","android-studio","dart"],"comments":[{"owner":{"account_id":14365404,"reputation":2987,"user_id":10376604,"display_name":"GrahamD"},"score":0,"creation_date":1678012728,"post_id":75640888,"comment_id":133447397,"body_markdown":"Your java home is still pointing to the directory you installed java 17 in. It needs to point to the java installed with Android Studio.","body":"Your java home is still pointing to the directory you installed java 17 in. It needs to point to the java installed with Android Studio."},{"owner":{"account_id":6212257,"reputation":2043,"user_id":4838216,"accept_rate":48,"display_name":"whatwhatwhat"},"score":0,"creation_date":1678050586,"post_id":75640888,"comment_id":133453714,"body_markdown":"@GrahamD how do I switch it? I tried looking in Project Structure but it doesn&#39;t let me set my own value for the Java SDK field. It only lets me pick from a dropdown and the options are jbr-11 and Android Studio default JDK.","body":"@GrahamD how do I switch it? I tried looking in Project Structure but it doesn&#39;t let me set my own value for the Java SDK field. It only lets me pick from a dropdown and the options are jbr-11 and Android Studio default JDK."},{"owner":{"account_id":14365404,"reputation":2987,"user_id":10376604,"display_name":"GrahamD"},"score":0,"creation_date":1678087912,"post_id":75640888,"comment_id":133458480,"body_markdown":"Java home is a windows environment variable so you need to edit it yourself. This article may help but basically you need to find the path of the jdk that AS has installed and edit Java home env variable to point at it. https://www-geeksforgeeks-org.cdn.ampproject.org/v/s/www.geeksforgeeks.org/how-to-set-java-sdk-path-in-android-studio/amp/?amp_gsa=1&amp;amp_js_v=a9&amp;usqp=mq331AQKKAFQArABIIACAw%3D%3D#amp_tf=From%20%251%24s&amp;aoh=16780877183564&amp;referrer=https%3A%2F%2Fwww.google.com&amp;ampshare=https%3A%2F%2Fwww.geeksforgeeks.org%2Fhow-to-set-java-sdk-path-in-android-studio%2F","body":"Java home is a windows environment variable so you need to edit it yourself. This article may help but basically you need to find the path of the jdk that AS has installed and edit Java home env variable to point at it. <a href=\"https://www-geeksforgeeks-org.cdn.ampproject.org/v/s/www.geeksforgeeks.org/how-to-set-java-sdk-path-in-android-studio/amp/?amp_gsa=1&amp;amp_js_v=a9&amp;usqp=mq331AQKKAFQArABIIACAw%3D%3D#amp_tf=From%20%251%24s&amp;aoh=16780877183564&amp;referrer=https%3A%2F%2Fwww.google.com&amp;ampshare=https%3A%2F%2Fwww.geeksforgeeks.org%2Fhow-to-set-java-sdk-path-in-android-studio%2F\" rel=\"nofollow noreferrer\">www-geeksforgeeks-org.cdn.ampproject.org/v/s/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":6212257,"reputation":2043,"user_id":4838216,"accept_rate":48,"display_name":"whatwhatwhat"},"score":0,"creation_date":1678050638,"post_id":75642463,"comment_id":133453725,"body_markdown":"The whole jre/jbr folder thing was a hack to deal with the Electric Eel bug. Flutter 3.7.6 is supposed to fix the issue without having to do this","body":"The whole jre/jbr folder thing was a hack to deal with the Electric Eel bug. Flutter 3.7.6 is supposed to fix the issue without having to do this"}],"tags":[],"owner":{"account_id":15549653,"reputation":112,"user_id":11217742,"display_name":"Sukaina Ahmed"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678022051,"creation_date":1678022051,"answer_id":75642463,"question_id":75640888,"body_markdown":"&gt; Go To android studio directory (Default C:\\Program\r\n&gt; Files\\Android\\Android Studio) remove jre folder run cmd as\r\n&gt; administrator\r\n\r\n ***that&#39;s work for me***\r\n[check answers here][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/75108953/11217742","title":"After applying Electric Eel flutter fix: The supplied javaHome seems to be invalid. I cannot find the java executable","body":"<blockquote>\n<p>Go To android studio directory (Default C:\\Program\nFiles\\Android\\Android Studio) remove jre folder run cmd as\nadministrator</p>\n</blockquote>\n<p><em><strong>that's work for me</strong></em>\n<a href=\"https://stackoverflow.com/a/75108953/11217742\">check answers here</a></p>\n"}],"owner":{"account_id":6212257,"reputation":2043,"user_id":4838216,"accept_rate":48,"display_name":"whatwhatwhat"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":215,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678022051,"creation_date":1678003690,"question_id":75640888,"body_markdown":"I installed flutter 3.7.6 which supposedly fixes the error it was causing in Electric Eel related to the `JAVA_HOME` env variable. I am now getting the following error:\r\n\r\n    The supplied javaHome seems to be invalid. I cannot find the java executable. Tried location: C:\\Program Files\\Java\\jdk-17\\bin\\java.exe\r\n\r\nI&#39;m told that I no longer need to have a custom installation of Java 17 to fix the Electric Eel problem, so Android Studio shouldn&#39;t care about this directory anymore. How do I fix this?","title":"After applying Electric Eel flutter fix: The supplied javaHome seems to be invalid. I cannot find the java executable","body":"<p>I installed flutter 3.7.6 which supposedly fixes the error it was causing in Electric Eel related to the <code>JAVA_HOME</code> env variable. I am now getting the following error:</p>\n<pre><code>The supplied javaHome seems to be invalid. I cannot find the java executable. Tried location: C:\\Program Files\\Java\\jdk-17\\bin\\java.exe\n</code></pre>\n<p>I'm told that I no longer need to have a custom installation of Java 17 to fix the Electric Eel problem, so Android Studio shouldn't care about this directory anymore. How do I fix this?</p>\n"},{"tags":["java","file-io","filenotfoundexception","invocationtargetexception"],"answers":[{"comments":[{"owner":{"account_id":13849827,"reputation":1,"user_id":9998015,"display_name":"Lmabear"},"score":0,"creation_date":1679009205,"post_id":75642458,"comment_id":133648736,"body_markdown":"Did not change the FileNotFoundException","body":"Did not change the FileNotFoundException"}],"tags":[],"owner":{"account_id":3583855,"reputation":150,"user_id":2991440,"display_name":"krishnan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678022010,"creation_date":1678022010,"answer_id":75642458,"question_id":75642154,"body_markdown":"For reading userData.json with the above project structure\r\n\r\n    JSONObject jsonObject = new JSONObject(new JSONTokener(new FileReader(&quot;userData.json&quot;)));","title":"VScode - java.io.FileNotFoundException: (the system cannot find the file specified)","body":"<p>For reading userData.json with the above project structure</p>\n<pre><code>JSONObject jsonObject = new JSONObject(new JSONTokener(new FileReader(&quot;userData.json&quot;)));\n</code></pre>\n"}],"owner":{"account_id":13849827,"reputation":1,"user_id":9998015,"display_name":"Lmabear"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678022010,"creation_date":1678018723,"question_id":75642154,"body_markdown":"I have project with a JSON file &quot;`userData.json`&quot;.\r\n\r\nThe file is in the same directory as my `java` files.\r\n\r\nI moved the file directly under the project root folder and it did not fix the problem:\r\n\r\n    Project_Root\r\n        src\r\n        userData.json \r\n\r\nCode of the java file that attempts to open userData.json:\r\n\r\n    private boolean checkData(String username, String password) throws FileNotFoundException {\r\n        //read userData.json\r\n        JSONObject jsonObject = new JSONObject(new JSONTokener(new FileReader(&quot;group18/src/main/java/com/example/group18/userData.json&quot;)));\r\n        JSONArray jsonArray = jsonObject.getJSONArray(&quot;users1&quot;);\r\n    \r\n        //loop through the json array and compare the username and password\r\n        if(jsonArray.getJSONObject(0).getString(&quot;username&quot;).equals(username) &amp;&amp; jsonArray.getJSONObject(0).getString(&quot;password&quot;).equals(password)){\r\n            jsonArray.getJSONObject(0).put(&quot;online&quot;, true);\r\n            //return true if the username and password are correct\r\n            return true;\r\n        }\r\n            return false;\r\n    }\r\n\r\n\r\n\r\n","title":"VScode - java.io.FileNotFoundException: (the system cannot find the file specified)","body":"<p>I have project with a JSON file &quot;<code>userData.json</code>&quot;.</p>\n<p>The file is in the same directory as my <code>java</code> files.</p>\n<p>I moved the file directly under the project root folder and it did not fix the problem:</p>\n<pre><code>Project_Root\n    src\n    userData.json \n</code></pre>\n<p>Code of the java file that attempts to open userData.json:</p>\n<pre><code>private boolean checkData(String username, String password) throws FileNotFoundException {\n    //read userData.json\n    JSONObject jsonObject = new JSONObject(new JSONTokener(new FileReader(&quot;group18/src/main/java/com/example/group18/userData.json&quot;)));\n    JSONArray jsonArray = jsonObject.getJSONArray(&quot;users1&quot;);\n\n    //loop through the json array and compare the username and password\n    if(jsonArray.getJSONObject(0).getString(&quot;username&quot;).equals(username) &amp;&amp; jsonArray.getJSONObject(0).getString(&quot;password&quot;).equals(password)){\n        jsonArray.getJSONObject(0).put(&quot;online&quot;, true);\n        //return true if the username and password are correct\n        return true;\n    }\n        return false;\n}\n</code></pre>\n"},{"tags":["java","json","kotlin","serialization","gson"],"comments":[{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1677968409,"post_id":75638377,"comment_id":133443100,"body_markdown":"For the case `e = Optional(true, null)`, how would you tell apart a `null` value with `isPresent=true` and a `null` value with `isPresent=false`; in JSON both would just be `null`, wouldn&#39;t they?","body":"For the case <code>e = Optional(true, null)</code>, how would you tell apart a <code>null</code> value with <code>isPresent=true</code> and a <code>null</code> value with <code>isPresent=false</code>; in JSON both would just be <code>null</code>, wouldn&#39;t they?"},{"owner":{"account_id":5056960,"reputation":117,"user_id":4059914,"display_name":"cradical"},"score":0,"creation_date":1677979355,"post_id":75638377,"comment_id":133444233,"body_markdown":"When isPresent is false, no value will be emitted in the JSON (hence why “b” was omitted in the encoding above)","body":"When isPresent is false, no value will be emitted in the JSON (hence why “b” was omitted in the encoding above)"}],"answers":[{"comments":[{"owner":{"account_id":5056960,"reputation":117,"user_id":4059914,"display_name":"cradical"},"score":0,"creation_date":1678428105,"post_id":75642437,"comment_id":133533916,"body_markdown":"The combination of the two did the trick! Thanks a ton!!","body":"The combination of the two did the trick! Thanks a ton!!"}],"tags":[],"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678021825,"creation_date":1678021825,"answer_id":75642437,"question_id":75638377,"body_markdown":"The custom `TypeAdapterFactory` for your `Optional` type would probably be similar to what [has been suggested for `java.util.Optional`](https://stackoverflow.com/q/12161366).\r\n\r\nTo omit the property from JSON even with `GsonBuilder.serializeNulls()` being enabled, you could choose a similar approach as in [this GitHub issue](https://github.com/google/gson/issues/1558#issuecomment-578435043), where the author temporarily calls `JsonWriter.setSerializeNulls(false)` if the value is `null` before restoring the previous setting again. In your case you could do that when `isPresent == false`.\r\n\r\nIf you also want to cover deserialization, then you might have to switch to another JSON library because...\r\n- Gson&#39;s main focus is on Java, and it does not support Kotlin that well, see [this issue](https://github.com/google/gson/issues/1657) about default values and `null` handling\r\n- Gson currently does not allow to handle missing field values ([GitHub issue](https://github.com/google/gson/issues/1005)), so you would have to make sure a proper default value is set\r\n","title":"Skip serializing GSON field in generics based on value","body":"<p>The custom <code>TypeAdapterFactory</code> for your <code>Optional</code> type would probably be similar to what <a href=\"https://stackoverflow.com/q/12161366\">has been suggested for <code>java.util.Optional</code></a>.</p>\n<p>To omit the property from JSON even with <code>GsonBuilder.serializeNulls()</code> being enabled, you could choose a similar approach as in <a href=\"https://github.com/google/gson/issues/1558#issuecomment-578435043\" rel=\"nofollow noreferrer\">this GitHub issue</a>, where the author temporarily calls <code>JsonWriter.setSerializeNulls(false)</code> if the value is <code>null</code> before restoring the previous setting again. In your case you could do that when <code>isPresent == false</code>.</p>\n<p>If you also want to cover deserialization, then you might have to switch to another JSON library because...</p>\n<ul>\n<li>Gson's main focus is on Java, and it does not support Kotlin that well, see <a href=\"https://github.com/google/gson/issues/1657\" rel=\"nofollow noreferrer\">this issue</a> about default values and <code>null</code> handling</li>\n<li>Gson currently does not allow to handle missing field values (<a href=\"https://github.com/google/gson/issues/1005\" rel=\"nofollow noreferrer\">GitHub issue</a>), so you would have to make sure a proper default value is set</li>\n</ul>\n"}],"owner":{"account_id":5056960,"reputation":117,"user_id":4059914,"display_name":"cradical"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75642437,"answer_count":1,"score":0,"last_activity_date":1678021825,"creation_date":1677960557,"question_id":75638377,"body_markdown":"We have the need to distinguish between an optional fields vs. nullable fields (i.e when a field is present, that it could be nullable) when serializing Kotlin data classes to JSON using GSON.\r\n\r\nThe initial thought was to model the optional field as a generic:\r\n\r\n```\r\nclass Optional&lt;T&gt;(val isPresent: Boolean = false, val value: T) {}\r\n```\r\n\r\nThat would permit representing it in the following serializable data class:\r\n\r\n```\r\ndata class SimpleRequest (\r\n    val a: Int = 0,\r\n    val b: Optional&lt;String&gt; = Optional&lt;String&gt;(value = &quot;&quot;)\r\n    val c: Optional&lt;String&gt; = Optional&lt;String&gt;(value = &quot;&quot;)\r\n    val d: Int? = null,\r\n    val e: Optional&lt;Int?&gt; = Optional&lt;Int?&gt;(value = null)\r\n)\r\n```\r\n\r\nThat should result in the following serialized variants (with null serialization enabled):\r\n\r\n```\r\nSimpleRequest(c = Optional&lt;String&gt;(true, &quot;Hello&quot;), e = Optional(true, null))\r\n```\r\n\r\n```\r\n{\r\n   &quot;a&quot;: 0,\r\n   &quot;c&quot;: &quot;Hello&quot;,\r\n   &quot;d&quot;: null,\r\n   &quot;e&quot;: null\r\n}\r\n```\r\n\r\nIs this possible?","title":"Skip serializing GSON field in generics based on value","body":"<p>We have the need to distinguish between an optional fields vs. nullable fields (i.e when a field is present, that it could be nullable) when serializing Kotlin data classes to JSON using GSON.</p>\n<p>The initial thought was to model the optional field as a generic:</p>\n<pre><code>class Optional&lt;T&gt;(val isPresent: Boolean = false, val value: T) {}\n</code></pre>\n<p>That would permit representing it in the following serializable data class:</p>\n<pre><code>data class SimpleRequest (\n    val a: Int = 0,\n    val b: Optional&lt;String&gt; = Optional&lt;String&gt;(value = &quot;&quot;)\n    val c: Optional&lt;String&gt; = Optional&lt;String&gt;(value = &quot;&quot;)\n    val d: Int? = null,\n    val e: Optional&lt;Int?&gt; = Optional&lt;Int?&gt;(value = null)\n)\n</code></pre>\n<p>That should result in the following serialized variants (with null serialization enabled):</p>\n<pre><code>SimpleRequest(c = Optional&lt;String&gt;(true, &quot;Hello&quot;), e = Optional(true, null))\n</code></pre>\n<pre><code>{\n   &quot;a&quot;: 0,\n   &quot;c&quot;: &quot;Hello&quot;,\n   &quot;d&quot;: null,\n   &quot;e&quot;: null\n}\n</code></pre>\n<p>Is this possible?</p>\n"},{"tags":["java","android","amazon-web-services","amazon-s3"],"owner":{"account_id":3158079,"reputation":41,"user_id":2669978,"display_name":"Max"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":748,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1678021792,"creation_date":1406894249,"question_id":25079753,"body_markdown":"I am using high level api for amazon s3 upload and getting a call back for progress but the method\r\n  upload.getprogress().getPercentageTransferred() \r\nat times gives percentage above 100..Why does it shows above 100? Are there any changes needed\r\n\r\n  \r\n\r\n       BasicAWSCredentials lAwsCredentials = new BasicAWSCredentials(\r\n    \t\tConstants.ACCESS_KEY_ID, Constants.SECRET_KEY);\r\n    AmazonS3Client s3Client = new AmazonS3Client(lAwsCredentials);\r\n    \r\n     TransferManager tm = new TransferManager(s3Client);\r\n    \r\n    \t\tFile lFile = new File(mFilePath);\r\n    \r\n    \t\tPutObjectRequest putRequest = new PutObjectRequest(mBucketName,\r\n    \t\t\t\tmKeyName, lFile);\r\n        mUpload = tm.upload(putRequest, new S3ProgressListener() {\r\n    \r\n    \tExecutorService lExecutor = Executors.newFixedThreadPool(1);\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic void progressChanged(ProgressEvent arg0) {\r\n    \t\t\t\t// Log.v(TAG, &quot;Transfer: &quot; + mUpload.getDescription());\r\n    \t\t\t\t// Log.v(TAG, &quot;  - Percentage: &quot;\r\n    \t\t\t\t// + mUpload.getProgress().getPercentTransferred());\r\n    \r\n    \t\t\t\tdouble lProgress = mUpload.getProgress()\r\n    \t\t\t\t\t\t.getPercentTransferred();\r\n    \r\n    \t\t\t\tint lProgressInteger = (int) lProgress;\r\n    \r\n    \t\t\t\t\r\n    \r\n    \t\t\t\tif (lProgressInteger % 10 == 0) {\r\n    \t\t\t\t\tLog.d(TAG, &quot;File id:&quot; + mLocalFileId\r\n    \t\t\t\t\t\t\t+ &quot;==== Transfer: &quot; + mUpload.getDescription()\r\n    \t\t\t\t\t\t\t+ &quot;====Percentage: &quot;\r\n    \t\t\t\t\t\t\t+ mUpload.getProgress().getPercentTransferred());\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tpublishProgress(lProgressInteger);\r\n    \r\n    \t\t\t\t}\r\n    \r\n    \t\t\t}\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic void onPersistableTransfer(\r\n    \t\t\t\t\tfinal PersistableTransfer persistableTransfer) {\r\n    \t\t\t\tlExecutor.submit(new Runnable() {\r\n    \r\n    \t\t\t\t\t@Override\r\n    \t\t\t\t\tpublic void run() {\r\n    \t\t\t\t\t\tFile f = new File(Environment\r\n    \t\t\t\t\t\t\t\t.getExternalStorageDirectory()\r\n    \t\t\t\t\t\t\t\t+ &quot;/resumeupload&quot;);\r\n    \t\t\t\t\t\tif (!f.exists())\r\n    \t\t\t\t\t\t\ttry {\r\n    \t\t\t\t\t\t\t\tf.createNewFile();\r\n    \r\n    \t\t\t\t\t\t\t\tFileOutputStream fos;\r\n    \r\n    \t\t\t\t\t\t\t\tfos = new FileOutputStream(f);\r\n    \r\n    \t\t\t\t\t\t\t\tpersistableTransfer.serialize(fos);\r\n    \t\t\t\t\t\t\t\tfos.close();\r\n    \t\t\t\t\t\t\t} catch (FileNotFoundException e) {\r\n    \t\t\t\t\t\t\t\t// TODO Auto-generated catch block\r\n    \t\t\t\t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t\t\t\t} catch (IOException e) {\r\n    \t\t\t\t\t\t\t\t// TODO Auto-generated catch block\r\n    \t\t\t\t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t\t\t\t}\r\n    \t\t\t\t\t}\r\n    \t\t\t\t});\r\n    \r\n    \t\t\t}\r\n    \t\t});","title":"Amazon s3 Upload Progress calculation in android for Transfer Manager","body":"<p>I am using high level api for amazon s3 upload and getting a call back for progress but the method\n  upload.getprogress().getPercentageTransferred() \nat times gives percentage above 100..Why does it shows above 100? Are there any changes needed</p>\n\n<pre><code>   BasicAWSCredentials lAwsCredentials = new BasicAWSCredentials(\n        Constants.ACCESS_KEY_ID, Constants.SECRET_KEY);\nAmazonS3Client s3Client = new AmazonS3Client(lAwsCredentials);\n\n TransferManager tm = new TransferManager(s3Client);\n\n        File lFile = new File(mFilePath);\n\n        PutObjectRequest putRequest = new PutObjectRequest(mBucketName,\n                mKeyName, lFile);\n    mUpload = tm.upload(putRequest, new S3ProgressListener() {\n\n    ExecutorService lExecutor = Executors.newFixedThreadPool(1);\n\n            @Override\n            public void progressChanged(ProgressEvent arg0) {\n                // Log.v(TAG, \"Transfer: \" + mUpload.getDescription());\n                // Log.v(TAG, \"  - Percentage: \"\n                // + mUpload.getProgress().getPercentTransferred());\n\n                double lProgress = mUpload.getProgress()\n                        .getPercentTransferred();\n\n                int lProgressInteger = (int) lProgress;\n\n\n\n                if (lProgressInteger % 10 == 0) {\n                    Log.d(TAG, \"File id:\" + mLocalFileId\n                            + \"==== Transfer: \" + mUpload.getDescription()\n                            + \"====Percentage: \"\n                            + mUpload.getProgress().getPercentTransferred());\n\n                    publishProgress(lProgressInteger);\n\n                }\n\n            }\n\n            @Override\n            public void onPersistableTransfer(\n                    final PersistableTransfer persistableTransfer) {\n                lExecutor.submit(new Runnable() {\n\n                    @Override\n                    public void run() {\n                        File f = new File(Environment\n                                .getExternalStorageDirectory()\n                                + \"/resumeupload\");\n                        if (!f.exists())\n                            try {\n                                f.createNewFile();\n\n                                FileOutputStream fos;\n\n                                fos = new FileOutputStream(f);\n\n                                persistableTransfer.serialize(fos);\n                                fos.close();\n                            } catch (FileNotFoundException e) {\n                                // TODO Auto-generated catch block\n                                e.printStackTrace();\n                            } catch (IOException e) {\n                                // TODO Auto-generated catch block\n                                e.printStackTrace();\n                            }\n                    }\n                });\n\n            }\n        });\n</code></pre>\n"},{"tags":["java","reactjs","post","spring-security","cors"],"comments":[{"owner":{"account_id":7134819,"reputation":5068,"user_id":5454842,"display_name":"Marcus Hert da Coregio"},"score":0,"creation_date":1669055235,"post_id":74516065,"comment_id":131551408,"body_markdown":"Add `logging.level.org.springframework.security=TRACE` to your `application.properties` and see if the problem is really related to CORS","body":"Add <code>logging.level.org.springframework.security=TRACE</code> to your <code>application.properties</code> and see if the problem is really related to CORS"}],"answers":[{"tags":[],"owner":{"account_id":5271612,"reputation":81,"user_id":4209698,"display_name":"rista_101"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678020684,"creation_date":1678020684,"answer_id":75642335,"question_id":74516065,"body_markdown":"[Found a solution that worked for me][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/72791425/getting-axios-from-react-to-work-with-spring-boot-spring-boot-security\r\n\r\non this path of search i found @ this link a solution by adding some additional configurations to corsconfiguration.\r\n\r\n\r\n     @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        return http\r\n                .csrf().disable()\r\n                .cors()\r\n                .configurationSource(request-&gt; corsConfigurationSource().getCorsConfiguration(request))\r\n                // .configurationSource(corsConfigurationSource())\r\n                // .disable()\r\n                .and().authorizeHttpRequests()\r\n                // .requestMatchers(&quot;/**&quot;).authenticated()\r\n                // .requestMatchers(&quot;**/admin/**&quot;).hasRole(&quot;ADMIN&quot;)\r\n\r\n                .requestMatchers(&quot;/**admin**&quot;).hasRole(Roles.ADMIN.name())\r\n                .anyRequest().authenticated()\r\n                // .anyRequest().permitAll()\r\n                .and().formLogin()\r\n                .and().httpBasic()\r\n                .and().build();\r\n\r\n    }\r\n\r\n    @Bean\r\n    public AuthenticationProvider authProvider() {\r\n        DaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\r\n        authProvider.setUserDetailsService(userDetailsService());\r\n        authProvider.setPasswordEncoder(passwordEncoder());\r\n        return authProvider;\r\n    }\r\n\r\n    @Bean\r\n    CorsConfigurationSource corsConfigurationSource() {\r\n        CorsConfiguration configuration = new CorsConfiguration();\r\n        configuration.setAllowedHeaders(List.of(&quot;Authorization&quot;, &quot;Cache-Control&quot;, &quot;Content-Type&quot;));\r\n        configuration.setAllowedOrigins(List.of(&quot;http://localhost:3000&quot;));\r\n        configuration.setAllowedMethods(List.of(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;, &quot;PUT&quot;,&quot;OPTIONS&quot;,&quot;PATCH&quot;, &quot;DELETE&quot;));\r\n        configuration.setAllowCredentials(true);\r\n        configuration.setExposedHeaders(List.of(&quot;Authorization&quot;));\r\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n        source.registerCorsConfiguration(&quot;/**&quot;, configuration);\r\n        return source;\r\n    }\r\n\r\n\r\n","title":"React front end can set signup post request to Spring security, but not login post request","body":"<p><a href=\"https://stackoverflow.com/questions/72791425/getting-axios-from-react-to-work-with-spring-boot-spring-boot-security\">Found a solution that worked for me</a></p>\n<p>on this path of search i found @ this link a solution by adding some additional configurations to corsconfiguration.</p>\n<pre><code> @Bean\npublic SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n    return http\n            .csrf().disable()\n            .cors()\n            .configurationSource(request-&gt; corsConfigurationSource().getCorsConfiguration(request))\n            // .configurationSource(corsConfigurationSource())\n            // .disable()\n            .and().authorizeHttpRequests()\n            // .requestMatchers(&quot;/**&quot;).authenticated()\n            // .requestMatchers(&quot;**/admin/**&quot;).hasRole(&quot;ADMIN&quot;)\n\n            .requestMatchers(&quot;/**admin**&quot;).hasRole(Roles.ADMIN.name())\n            .anyRequest().authenticated()\n            // .anyRequest().permitAll()\n            .and().formLogin()\n            .and().httpBasic()\n            .and().build();\n\n}\n\n@Bean\npublic AuthenticationProvider authProvider() {\n    DaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\n    authProvider.setUserDetailsService(userDetailsService());\n    authProvider.setPasswordEncoder(passwordEncoder());\n    return authProvider;\n}\n\n@Bean\nCorsConfigurationSource corsConfigurationSource() {\n    CorsConfiguration configuration = new CorsConfiguration();\n    configuration.setAllowedHeaders(List.of(&quot;Authorization&quot;, &quot;Cache-Control&quot;, &quot;Content-Type&quot;));\n    configuration.setAllowedOrigins(List.of(&quot;http://localhost:3000&quot;));\n    configuration.setAllowedMethods(List.of(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;, &quot;PUT&quot;,&quot;OPTIONS&quot;,&quot;PATCH&quot;, &quot;DELETE&quot;));\n    configuration.setAllowCredentials(true);\n    configuration.setExposedHeaders(List.of(&quot;Authorization&quot;));\n    UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n    source.registerCorsConfiguration(&quot;/**&quot;, configuration);\n    return source;\n}\n</code></pre>\n"}],"owner":{"account_id":25581730,"reputation":41,"user_id":19360160,"display_name":"Brandon Lei"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":152,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1678020684,"creation_date":1669019416,"question_id":74516065,"body_markdown":"I am facing an issue where I can&#39;t send a login post request from React front end, even while disabling csrf and cors. I also tried adding cors configuration, I can register new users from the front end but login won&#39;t work due to &quot;Access to XMLHttpRequest at &#39;http://localhost:8080/login&#39; from origin &#39;http://localhost:3000&#39; has been blocked by CORS policy: No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource.&quot; Login works from postman, I suspect this issue has 100% to do with cors.\r\n\r\nAny idea how to circumvent this?\r\n\r\n\r\nI tried disabling cors, adding cors configuration to spring to accept localhost3000, but none of them worked. Here is my code so far:\r\n\r\nWebsecurity config:\r\n\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class WebSecurityConfig {\r\n\r\n    @Autowired\r\n    UserDetailsService userDetailsService;\r\n\r\n\r\n    @Bean\r\n    public AuthenticationManager authManager(HttpSecurity http) throws Exception {\r\n        AuthenticationManagerBuilder authenticationManagerBuilder =\r\n                http.getSharedObject(AuthenticationManagerBuilder.class);\r\n        authenticationManagerBuilder.authenticationProvider(authenticationProvider());\r\n        authenticationManagerBuilder.userDetailsService(userDetailsService);\r\n        return authenticationManagerBuilder.build();\r\n    }\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                .authorizeHttpRequests((requests) -&gt; requests\r\n                        //permit routes to / and /home\r\n                        .antMatchers(&quot;/&quot;, &quot;/home&quot;, &quot;/signup&quot;, &quot;/users&quot;, &quot;/login&quot;)\r\n                        .permitAll()\r\n                        .anyRequest().\r\n                        authenticated())\r\n                .cors().configurationSource(corsConfigurationSource()).and()\r\n                .csrf()\r\n                .disable()\r\n                .formLogin()\r\n                .defaultSuccessUrl(&quot;https://www.apple.com/&quot;, true);\r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder bCryptPasswordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Bean\r\n    CorsConfigurationSource corsConfigurationSource() {\r\n        CorsConfiguration configuration = new CorsConfiguration();\r\n        configuration.setAllowedOrigins(Arrays.asList(&quot;https://localhost:3000&quot;));\r\n        configuration.setAllowedMethods(Arrays.asList(&quot;GET&quot;,&quot;POST&quot;));\r\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n        source.registerCorsConfiguration(&quot;/**&quot;, configuration);\r\n        return source;\r\n    }\r\n\r\n    public AuthenticationProvider authenticationProvider(){\r\n        DaoAuthenticationProvider provider = new DaoAuthenticationProvider();\r\n        provider.setUserDetailsService(userDetailsService);\r\n        provider.setPasswordEncoder(bCryptPasswordEncoder());\r\n        return provider;\r\n    }\r\n}\r\n```\r\n\r\nLogin.js\r\n```\r\nfunction Login() {\r\n    const [formData, setFormData] = useState({\r\n        username: &#39;&#39;,\r\n        password: &#39;&#39;\r\n    });\r\n\r\n    const [usernameError, setUsernameError] = useState(&#39;&#39;);\r\n    const [passwordError, setPasswordError] = useState(&#39;&#39;);\r\n\r\n\r\n\r\n    const onUserNameChange = (e) =&gt; {\r\n        setFormData({...formData, username: e.target.value})\r\n    }\r\n\r\n    const onPasswordChange = (e) =&gt; {\r\n        setFormData({...formData, password: e.target.value})\r\n    }\r\n\r\n    const login = async (username, password) =&gt; {\r\n        const response = await axios.post(&quot;http://localhost:8080/login&quot;, {\r\n            password: formData.username,\r\n            username: formData.password\r\n        })\r\n    };\r\n\r\n\r\n    return (\r\n        &lt;Container&gt;\r\n            &lt;Typography variant=&#39;h4&#39;&gt;Login&lt;/Typography&gt;\r\n            &lt;Stack spacing={2}&gt;\r\n                &lt;TextField label=&#39;Username&#39; onChange={onUserNameChange}/&gt;\r\n                {\r\n                    usernameError ? &lt;span style={{ color: &#39;red&#39;, fontSize: &#39;12px&#39;}}&gt;{usernameError}&lt;/span&gt; : &#39;&#39;\r\n                }\r\n                &lt;TextField label=&#39;Password&#39; type=&quot;password&quot; onChange={onPasswordChange}/&gt;\r\n                {\r\n                    passwordError ? &lt;span style={{ color: &#39;red&#39;, fontSize: &#39;12px&#39;}}&gt;{passwordError}&lt;/span&gt; : &#39;&#39;\r\n                }\r\n                &lt;Button variant=&#39;contained&#39; onClick={login}&gt;Login&lt;/Button&gt;\r\n            &lt;/Stack&gt;\r\n        &lt;/Container&gt;\r\n    );\r\n}\r\n\r\nexport default Login;\r\n```\r\n\r\n","title":"React front end can set signup post request to Spring security, but not login post request","body":"<p>I am facing an issue where I can't send a login post request from React front end, even while disabling csrf and cors. I also tried adding cors configuration, I can register new users from the front end but login won't work due to &quot;Access to XMLHttpRequest at 'http://localhost:8080/login' from origin 'http://localhost:3000' has been blocked by CORS policy: No 'Access-Control-Allow-Origin' header is present on the requested resource.&quot; Login works from postman, I suspect this issue has 100% to do with cors.</p>\n<p>Any idea how to circumvent this?</p>\n<p>I tried disabling cors, adding cors configuration to spring to accept localhost3000, but none of them worked. Here is my code so far:</p>\n<p>Websecurity config:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfig {\n\n    @Autowired\n    UserDetailsService userDetailsService;\n\n\n    @Bean\n    public AuthenticationManager authManager(HttpSecurity http) throws Exception {\n        AuthenticationManagerBuilder authenticationManagerBuilder =\n                http.getSharedObject(AuthenticationManagerBuilder.class);\n        authenticationManagerBuilder.authenticationProvider(authenticationProvider());\n        authenticationManagerBuilder.userDetailsService(userDetailsService);\n        return authenticationManagerBuilder.build();\n    }\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http\n                .authorizeHttpRequests((requests) -&gt; requests\n                        //permit routes to / and /home\n                        .antMatchers(&quot;/&quot;, &quot;/home&quot;, &quot;/signup&quot;, &quot;/users&quot;, &quot;/login&quot;)\n                        .permitAll()\n                        .anyRequest().\n                        authenticated())\n                .cors().configurationSource(corsConfigurationSource()).and()\n                .csrf()\n                .disable()\n                .formLogin()\n                .defaultSuccessUrl(&quot;https://www.apple.com/&quot;, true);\n        return http.build();\n    }\n\n    @Bean\n    public PasswordEncoder bCryptPasswordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    CorsConfigurationSource corsConfigurationSource() {\n        CorsConfiguration configuration = new CorsConfiguration();\n        configuration.setAllowedOrigins(Arrays.asList(&quot;https://localhost:3000&quot;));\n        configuration.setAllowedMethods(Arrays.asList(&quot;GET&quot;,&quot;POST&quot;));\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n        source.registerCorsConfiguration(&quot;/**&quot;, configuration);\n        return source;\n    }\n\n    public AuthenticationProvider authenticationProvider(){\n        DaoAuthenticationProvider provider = new DaoAuthenticationProvider();\n        provider.setUserDetailsService(userDetailsService);\n        provider.setPasswordEncoder(bCryptPasswordEncoder());\n        return provider;\n    }\n}\n</code></pre>\n<p>Login.js</p>\n<pre><code>function Login() {\n    const [formData, setFormData] = useState({\n        username: '',\n        password: ''\n    });\n\n    const [usernameError, setUsernameError] = useState('');\n    const [passwordError, setPasswordError] = useState('');\n\n\n\n    const onUserNameChange = (e) =&gt; {\n        setFormData({...formData, username: e.target.value})\n    }\n\n    const onPasswordChange = (e) =&gt; {\n        setFormData({...formData, password: e.target.value})\n    }\n\n    const login = async (username, password) =&gt; {\n        const response = await axios.post(&quot;http://localhost:8080/login&quot;, {\n            password: formData.username,\n            username: formData.password\n        })\n    };\n\n\n    return (\n        &lt;Container&gt;\n            &lt;Typography variant='h4'&gt;Login&lt;/Typography&gt;\n            &lt;Stack spacing={2}&gt;\n                &lt;TextField label='Username' onChange={onUserNameChange}/&gt;\n                {\n                    usernameError ? &lt;span style={{ color: 'red', fontSize: '12px'}}&gt;{usernameError}&lt;/span&gt; : ''\n                }\n                &lt;TextField label='Password' type=&quot;password&quot; onChange={onPasswordChange}/&gt;\n                {\n                    passwordError ? &lt;span style={{ color: 'red', fontSize: '12px'}}&gt;{passwordError}&lt;/span&gt; : ''\n                }\n                &lt;Button variant='contained' onClick={login}&gt;Login&lt;/Button&gt;\n            &lt;/Stack&gt;\n        &lt;/Container&gt;\n    );\n}\n\nexport default Login;\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-security"],"answers":[{"comments":[{"owner":{"account_id":2751107,"reputation":31052,"user_id":2370483,"accept_rate":89,"display_name":"Machavity"},"score":0,"creation_date":1678021573,"post_id":75642209,"comment_id":133448646,"body_markdown":"**Comments have been [moved to chat](https://chat.stackoverflow.com/rooms/252307/discussion-on-answer-by-bill-mair-how-to-authorize-by-role-in-spring-security); please do not continue the discussion here.** Before posting a comment below this one, please review the [purposes of comments](/help/privileges/comment). Comments that do not request clarification or suggest improvements usually belong as an [answer](/help/how-to-answer), on [meta], or in [chat]. Comments continuing discussion may be removed.","body":"<b>Comments have been <a href=\"https://chat.stackoverflow.com/rooms/252307/discussion-on-answer-by-bill-mair-how-to-authorize-by-role-in-spring-security\">moved to chat</a>; please do not continue the discussion here.</b> Before posting a comment below this one, please review the <a href=\"/help/privileges/comment\">purposes of comments</a>. Comments that do not request clarification or suggest improvements usually belong as an <a href=\"/help/how-to-answer\">answer</a>, on <a href=\"https://meta.stackoverflow.com\">Meta Stack Overflow</a>, or in <a href=\"https://chat.stackoverflow.com/\">Stack Overflow Chat</a>. Comments continuing discussion may be removed."}],"tags":[],"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1678019252,"creation_date":1678019252,"answer_id":75642209,"question_id":75642126,"body_markdown":"I use the [@Secured][1] annotation together with\r\n\r\n    @EnableMethodSecurity(securedEnabled = true)\r\n\r\nWhich makes it more readable:\r\n\r\n    @GetMapping(&quot;/user&quot;)\r\n    @Secured({&quot;USER&quot;,&quot;MODERATOR&quot;,&quot;ADMIN&quot;})\r\n    public String userAccess() {\r\n        return &quot;User Content.&quot;;\r\n    }\r\n\r\n    @GetMapping(&quot;/admin&quot;)\r\n    @Secured({&quot;ADMIN&quot;})\r\n    public String adminAccess() {\r\n        return &quot;Admin Board.&quot;;\r\n    }\r\n\r\nYou should also consider defining constants for those values:\r\n\r\n    public static final String ROLE_ADMIN = &quot;ADMIN&quot;;\r\n    public static final String ROLE_MODERATOR = &quot;MODERATOR&quot;;\r\n    public static final String ROLE_USER = &quot;USER&quot;;\r\n\r\n    @GetMapping(&quot;/user&quot;)\r\n    @Secured({ROLE_USER,ROLE_MODERATOR,ROLE_ADMIN})\r\n    public String userAccess() {\r\n        return &quot;User Content.&quot;;\r\n    }\r\n\r\n    @GetMapping(&quot;/admin&quot;)\r\n    @Secured(ROLE_ADMIN)\r\n    public String adminAccess() {\r\n        return &quot;Admin Board.&quot;;\r\n    }\r\n\r\nIf you are allowing CORS from *, why not just disable CORS?\r\n\r\n  [1]: https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/access/annotation/Secured.html","title":"How to authorize by role in Spring Security?","body":"<p>I use the <a href=\"https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/access/annotation/Secured.html\" rel=\"nofollow noreferrer\">@Secured</a> annotation together with</p>\n<pre><code>@EnableMethodSecurity(securedEnabled = true)\n</code></pre>\n<p>Which makes it more readable:</p>\n<pre><code>@GetMapping(&quot;/user&quot;)\n@Secured({&quot;USER&quot;,&quot;MODERATOR&quot;,&quot;ADMIN&quot;})\npublic String userAccess() {\n    return &quot;User Content.&quot;;\n}\n\n@GetMapping(&quot;/admin&quot;)\n@Secured({&quot;ADMIN&quot;})\npublic String adminAccess() {\n    return &quot;Admin Board.&quot;;\n}\n</code></pre>\n<p>You should also consider defining constants for those values:</p>\n<pre><code>public static final String ROLE_ADMIN = &quot;ADMIN&quot;;\npublic static final String ROLE_MODERATOR = &quot;MODERATOR&quot;;\npublic static final String ROLE_USER = &quot;USER&quot;;\n\n@GetMapping(&quot;/user&quot;)\n@Secured({ROLE_USER,ROLE_MODERATOR,ROLE_ADMIN})\npublic String userAccess() {\n    return &quot;User Content.&quot;;\n}\n\n@GetMapping(&quot;/admin&quot;)\n@Secured(ROLE_ADMIN)\npublic String adminAccess() {\n    return &quot;Admin Board.&quot;;\n}\n</code></pre>\n<p>If you are allowing CORS from *, why not just disable CORS?</p>\n"}],"owner":{"display_name":"user21263160"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":168,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1678020418,"creation_date":1678018325,"question_id":75642126,"body_markdown":"I implemented security config in my Spring Boot app using Spring Security and for checking role access to the endoints by role, I use the following approach:\r\n\r\n```\r\n@CrossOrigin(origins = &quot;*&quot;, maxAge = 3600)\r\n@RestController\r\n@RequestMapping(&quot;/api/test&quot;)\r\npublic class TestController  {\r\n\r\n\t@GetMapping(&quot;/all&quot;)\r\n\tpublic String allAccess() {\r\n\t\treturn &quot;Public Content.&quot;;\r\n\t}\r\n\t\r\n\t@GetMapping(&quot;/user&quot;)\r\n\t@PreAuthorize(&quot;hasRole(&#39;USER&#39;) or hasRole(&#39;MODERATOR&#39;) or hasRole(&#39;ADMIN&#39;)&quot;)\r\n\tpublic String userAccess() {\r\n\t\treturn &quot;User Content.&quot;;\r\n\t}\r\n\r\n\t@GetMapping(&quot;/admin&quot;)\r\n\t@PreAuthorize(&quot;hasRole(&#39;ADMIN&#39;)&quot;)\r\n\tpublic String adminAccess() {\r\n\t\treturn &quot;Admin Board.&quot;;\r\n\t}\r\n}\r\n```\r\n\r\nMy questions are:\r\n\r\n**1.** Is there another way to check roles in Spring Security? Or should I use this approach with `@PreAuthorize(&quot;hasRole(&#39;ADMIN&#39;)&quot;)` ? \r\n\r\n**2.** I use this app with a React frontend app. Then, should I use this annotation? Or, is there any extra annotation ahouls I add to my Controllers? \r\n\r\n```\r\n@CrossOrigin(origins = &quot;*&quot;, maxAge = 3600)\r\n```\r\n\r\n&lt;br/&gt;\r\n\r\n**Update:** Here is my config where there is a CORS setting:\r\n\r\n```\r\n@Bean\r\npublic SecurityFilterChain filterChain(HttpSecurity httpSecurity) throws Exception {\r\n    httpSecurity.cors().and()\r\n            .csrf().disable()\r\n\r\n            // other settings\r\n            .anyRequest().authenticated();\r\n}\r\n```","title":"How to authorize by role in Spring Security?","body":"<p>I implemented security config in my Spring Boot app using Spring Security and for checking role access to the endoints by role, I use the following approach:</p>\n<pre><code>@CrossOrigin(origins = &quot;*&quot;, maxAge = 3600)\n@RestController\n@RequestMapping(&quot;/api/test&quot;)\npublic class TestController  {\n\n    @GetMapping(&quot;/all&quot;)\n    public String allAccess() {\n        return &quot;Public Content.&quot;;\n    }\n    \n    @GetMapping(&quot;/user&quot;)\n    @PreAuthorize(&quot;hasRole('USER') or hasRole('MODERATOR') or hasRole('ADMIN')&quot;)\n    public String userAccess() {\n        return &quot;User Content.&quot;;\n    }\n\n    @GetMapping(&quot;/admin&quot;)\n    @PreAuthorize(&quot;hasRole('ADMIN')&quot;)\n    public String adminAccess() {\n        return &quot;Admin Board.&quot;;\n    }\n}\n</code></pre>\n<p>My questions are:</p>\n<p><strong>1.</strong> Is there another way to check roles in Spring Security? Or should I use this approach with <code>@PreAuthorize(&quot;hasRole('ADMIN')&quot;)</code> ?</p>\n<p><strong>2.</strong> I use this app with a React frontend app. Then, should I use this annotation? Or, is there any extra annotation ahouls I add to my Controllers?</p>\n<pre><code>@CrossOrigin(origins = &quot;*&quot;, maxAge = 3600)\n</code></pre>\n<br/>\n<p><strong>Update:</strong> Here is my config where there is a CORS setting:</p>\n<pre><code>@Bean\npublic SecurityFilterChain filterChain(HttpSecurity httpSecurity) throws Exception {\n    httpSecurity.cors().and()\n            .csrf().disable()\n\n            // other settings\n            .anyRequest().authenticated();\n}\n</code></pre>\n"},{"tags":["java","android","firebase","android-recyclerview"],"comments":[{"owner":{"account_id":10793884,"reputation":895,"user_id":7940360,"display_name":"Kishan Viramgama"},"score":0,"creation_date":1538367023,"post_id":52584355,"comment_id":92103763,"body_markdown":"please post your code add in side of question. please check this link https://stackoverflow.com/help/how-to-ask","body":"please post your code add in side of question. please check this link <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"}],"answers":[{"tags":[],"owner":{"account_id":10199849,"reputation":125,"user_id":7530504,"display_name":"Osmar I. Cancino"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678020389,"creation_date":1538366527,"answer_id":52584399,"question_id":52584355,"body_markdown":"It is not that the sentence is skipped, in fact it looks good the way you declared things, the problem is that the object &quot;adapter&quot; that you are creating does not assign it to any side ... you must pass it to your Recyclerview:\r\n\r\n    myRecycler.setAdapter(myAdapter);\r\n\r\nIn this way your recyclerview, you know how it will have to be filled.\r\n\r\nRegards!","title":"FirebaseRecyclerAdapter 28.0","body":"<p>It is not that the sentence is skipped, in fact it looks good the way you declared things, the problem is that the object &quot;adapter&quot; that you are creating does not assign it to any side ... you must pass it to your Recyclerview:</p>\n<pre><code>myRecycler.setAdapter(myAdapter);\n</code></pre>\n<p>In this way your recyclerview, you know how it will have to be filled.</p>\n<p>Regards!</p>\n"}],"owner":{"account_id":14451643,"reputation":23,"user_id":10438932,"display_name":"Jeffrey Concua"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":52584399,"answer_count":1,"score":2,"last_activity_date":1678020389,"creation_date":1538365936,"question_id":52584355,"body_markdown":"I have a problem that has been going on for several days and I have not been able to solve it.\r\n\r\nI need my application to connect to a database in Firebase and show it in a RecycleView.\r\n\r\n\r\nI have the following:\r\nDatabase in firebase:\r\n[Imagen base de datos][1]\r\n\r\nI have the following dependencies:\r\n[Imagen dependecias][2]\r\n\r\nI created my model in the following way:\r\n[Imagen modelo][3]\r\n\r\nCreate a Holder in the following way:\r\n[Imagen Holder][4]\r\n\r\n\r\nAfter that, I have the following code so that according to what I find in the database I can publish the images of the links that are in this one.\r\n\r\n[OnCreate][5]\r\n\r\n\r\nCreate a sub that contains the entire connection\r\n\r\n[enter image description here][6]\r\n\r\nbut in the part where FirebaseRecyclerAdapter is declared does not enter, this option is skipped and does not enter\r\n\r\n\r\n    private void loadMenu2() {\r\n\r\n\r\n        FirebaseRecyclerOptions &lt;wallpaperClass&gt; options =\r\n                new FirebaseRecyclerOptions.Builder&lt;wallpaperClass&gt;()\r\n                        .setQuery(category,wallpaperClass.class)\r\n                        .setLifecycleOwner(this)\r\n                        .build();\r\n\r\n        adapter = new FirebaseRecyclerAdapter&lt;wallpaperClass, MenuViewHolder&gt;(options) {\r\n            @Override\r\n            protected void onBindViewHolder(@NonNull MenuViewHolder holder, int position, @NonNull wallpaperClass model) {\r\n                Toast.makeText(getApplicationContext(), &quot;Ingreso 3!&quot;, Toast.LENGTH_SHORT).show();\r\n                holder.txtNombre.setText(model.getName());\r\n                Picasso.get().load(model.getLinkwall()).into(holder.imgWallpaper);\r\n            }\r\n\r\n\r\n            @NonNull\r\n            @Override\r\n            public MenuViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n                Toast.makeText(getApplicationContext(), &quot;Ingreso 4!&quot;, Toast.LENGTH_SHORT).show();\r\n                return null;\r\n            }\r\n        };\r\n    }\r\n\r\n\r\nI&#39;ve been with this for days, but I can not solve it, I thank everyone for their help.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/O7vpv.png\r\n  [2]: https://i.stack.imgur.com/4PWq5.png\r\n  [3]: https://i.stack.imgur.com/LKocx.png\r\n  [4]: https://i.stack.imgur.com/oicVK.png\r\n  [5]: https://i.stack.imgur.com/41yXQ.png\r\n  [6]: https://i.stack.imgur.com/TN65B.png","title":"FirebaseRecyclerAdapter 28.0","body":"<p>I have a problem that has been going on for several days and I have not been able to solve it.</p>\n\n<p>I need my application to connect to a database in Firebase and show it in a RecycleView.</p>\n\n<p>I have the following:\nDatabase in firebase:\n<a href=\"https://i.stack.imgur.com/O7vpv.png\" rel=\"nofollow noreferrer\">Imagen base de datos</a></p>\n\n<p>I have the following dependencies:\n<a href=\"https://i.stack.imgur.com/4PWq5.png\" rel=\"nofollow noreferrer\">Imagen dependecias</a></p>\n\n<p>I created my model in the following way:\n<a href=\"https://i.stack.imgur.com/LKocx.png\" rel=\"nofollow noreferrer\">Imagen modelo</a></p>\n\n<p>Create a Holder in the following way:\n<a href=\"https://i.stack.imgur.com/oicVK.png\" rel=\"nofollow noreferrer\">Imagen Holder</a></p>\n\n<p>After that, I have the following code so that according to what I find in the database I can publish the images of the links that are in this one.</p>\n\n<p><a href=\"https://i.stack.imgur.com/41yXQ.png\" rel=\"nofollow noreferrer\">OnCreate</a></p>\n\n<p>Create a sub that contains the entire connection</p>\n\n<p><a href=\"https://i.stack.imgur.com/TN65B.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n\n<p>but in the part where FirebaseRecyclerAdapter is declared does not enter, this option is skipped and does not enter</p>\n\n<pre><code>private void loadMenu2() {\n\n\n    FirebaseRecyclerOptions &lt;wallpaperClass&gt; options =\n            new FirebaseRecyclerOptions.Builder&lt;wallpaperClass&gt;()\n                    .setQuery(category,wallpaperClass.class)\n                    .setLifecycleOwner(this)\n                    .build();\n\n    adapter = new FirebaseRecyclerAdapter&lt;wallpaperClass, MenuViewHolder&gt;(options) {\n        @Override\n        protected void onBindViewHolder(@NonNull MenuViewHolder holder, int position, @NonNull wallpaperClass model) {\n            Toast.makeText(getApplicationContext(), \"Ingreso 3!\", Toast.LENGTH_SHORT).show();\n            holder.txtNombre.setText(model.getName());\n            Picasso.get().load(model.getLinkwall()).into(holder.imgWallpaper);\n        }\n\n\n        @NonNull\n        @Override\n        public MenuViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n            Toast.makeText(getApplicationContext(), \"Ingreso 4!\", Toast.LENGTH_SHORT).show();\n            return null;\n        }\n    };\n}\n</code></pre>\n\n<p>I've been with this for days, but I can not solve it, I thank everyone for their help.</p>\n"},{"tags":["java","java-native-interface","project-panama","jawt"],"answers":[{"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1677939404,"post_id":75632900,"comment_id":133438107,"body_markdown":"While you can call JNI functions, the resulting references are useless, as they are invalidated once the native call is done. (Except `NewGlobalRef`, but that requires a valid reference). `RegisterNatives` requires a valid class reference (which you don&#39;t have), but the passed object references would be valid during the upcall. (The only JNI call that doesn&#39;t require a valid handle is `DefineClass` with a `NULL` classloader.)","body":"While you can call JNI functions, the resulting references are useless, as they are invalidated once the native call is done. (Except <code>NewGlobalRef</code>, but that requires a valid reference). <code>RegisterNatives</code> requires a valid class reference (which you don&#39;t have), but the passed object references would be valid during the upcall. (The only JNI call that doesn&#39;t require a valid handle is <code>DefineClass</code> with a <code>NULL</code> classloader.)"}],"tags":[],"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677889635,"creation_date":1677889635,"answer_id":75632900,"question_id":75620948,"body_markdown":"You could theoretically get a `JNIEnv*` using the Panama API by loading the `jvm` library, and using the [invocation API](https://docs.oracle.com/en/java/javase/19/docs/specs/jni/invocation.html)&#39;s `JNI_GetCreatedJavaVMs` and then `GetEnv` on the retrieved `JavaVM*` to get a `JNIEnv*`.\r\n\r\nI think after that you&#39;re still stuck when needing to call `GetDrawingSurface` though, because it takes an object handle of the `canvas` object as an argument, and there is currently no way to turn a Java object into a handle in pure Java code (at least, not that I&#39;m aware of).\r\n\r\nThe Java AWT Native Interface that you&#39;re using has a dependency on JNI, so I don&#39;t think you can get rid of JNI entirely (and the Panama API currently doesn&#39;t really have specific JNI interop support)","title":"How do I get the HWND of a Canvas using Panama?","body":"<p>You could theoretically get a <code>JNIEnv*</code> using the Panama API by loading the <code>jvm</code> library, and using the <a href=\"https://docs.oracle.com/en/java/javase/19/docs/specs/jni/invocation.html\" rel=\"nofollow noreferrer\">invocation API</a>'s <code>JNI_GetCreatedJavaVMs</code> and then <code>GetEnv</code> on the retrieved <code>JavaVM*</code> to get a <code>JNIEnv*</code>.</p>\n<p>I think after that you're still stuck when needing to call <code>GetDrawingSurface</code> though, because it takes an object handle of the <code>canvas</code> object as an argument, and there is currently no way to turn a Java object into a handle in pure Java code (at least, not that I'm aware of).</p>\n<p>The Java AWT Native Interface that you're using has a dependency on JNI, so I don't think you can get rid of JNI entirely (and the Panama API currently doesn't really have specific JNI interop support)</p>\n"},{"tags":[],"owner":{"account_id":81375,"reputation":2305,"user_id":229513,"accept_rate":57,"display_name":"Martin Pernollet"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678020033,"creation_date":1678020033,"answer_id":75642273,"question_id":75620948,"body_markdown":"Not really answering your question, but if you are willing to use OpenGL from Panama, you may look at this https://gitlab.com/jzy3d/panama-gl. For now we avoid working with JAWT by rendering images offscreen and then display this image into AWT or Swing canvas (other windowing toolkits such as SWT and JavaFX will come soon). ","title":"How do I get the HWND of a Canvas using Panama?","body":"<p>Not really answering your question, but if you are willing to use OpenGL from Panama, you may look at this <a href=\"https://gitlab.com/jzy3d/panama-gl\" rel=\"nofollow noreferrer\">https://gitlab.com/jzy3d/panama-gl</a>. For now we avoid working with JAWT by rendering images offscreen and then display this image into AWT or Swing canvas (other windowing toolkits such as SWT and JavaFX will come soon).</p>\n"}],"owner":{"account_id":27887220,"reputation":13,"user_id":21321944,"display_name":"James"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":178,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75632900,"answer_count":2,"score":1,"last_activity_date":1678020033,"creation_date":1677792128,"question_id":75620948,"body_markdown":"I&#39;m porting a program that uses JNI to use Panama instead. This program uses OpenGL to draw onto a `Canvas` object. I can port the Windows and OpenGL calls to use Panama, but the problem is I need to get the HWND of the Canvas I want to draw to. The C code looks like this:\r\n\r\n```c\r\nJNIEXPORT void JNICALL Java_somepackage_SomeCanvas_paint(JNIEnv* env, jobject canvas, jobject graphics)\r\n{\r\n    JAWT awt;\r\n    awt.version = JAWT_VERSION_1_4;\r\n    JAWT_GetAWT(env, &amp;awt);\r\n    JAWT_DrawingSurface* ds = awt.GetDrawingSurface(env, canvas);\r\n    ds-&gt;Lock(ds);\r\n    JAWT_DrawingSurfaceInfo* dsi = ds-&gt;GetDrawingSurfaceInfo(ds);\r\n    JAWT_Win32DrawingSurfaceInfo* dsi_win = (JAWT_Win32DrawingSurfaceInfo*)dsi-&gt;platformInfo;\r\n    HWND hwnd = dsi_win-&gt;hwnd;\r\n    ...\r\n}\r\n```\r\n\r\nI can&#39;t call `JAWT_GetAWT` from Panama though, because it needs a `JNIEnv` argument, which is only available in JNI calls. How do I get the `HWND` (or `JAWT_DrawingSurface`) of the Canvas instead?\r\n\r\nI&#39;ve tried looking online for any sort of API I could use to do this, but I haven&#39;t found anything. I&#39;m hoping someone here might know.","title":"How do I get the HWND of a Canvas using Panama?","body":"<p>I'm porting a program that uses JNI to use Panama instead. This program uses OpenGL to draw onto a <code>Canvas</code> object. I can port the Windows and OpenGL calls to use Panama, but the problem is I need to get the HWND of the Canvas I want to draw to. The C code looks like this:</p>\n<pre class=\"lang-c prettyprint-override\"><code>JNIEXPORT void JNICALL Java_somepackage_SomeCanvas_paint(JNIEnv* env, jobject canvas, jobject graphics)\n{\n    JAWT awt;\n    awt.version = JAWT_VERSION_1_4;\n    JAWT_GetAWT(env, &amp;awt);\n    JAWT_DrawingSurface* ds = awt.GetDrawingSurface(env, canvas);\n    ds-&gt;Lock(ds);\n    JAWT_DrawingSurfaceInfo* dsi = ds-&gt;GetDrawingSurfaceInfo(ds);\n    JAWT_Win32DrawingSurfaceInfo* dsi_win = (JAWT_Win32DrawingSurfaceInfo*)dsi-&gt;platformInfo;\n    HWND hwnd = dsi_win-&gt;hwnd;\n    ...\n}\n</code></pre>\n<p>I can't call <code>JAWT_GetAWT</code> from Panama though, because it needs a <code>JNIEnv</code> argument, which is only available in JNI calls. How do I get the <code>HWND</code> (or <code>JAWT_DrawingSurface</code>) of the Canvas instead?</p>\n<p>I've tried looking online for any sort of API I could use to do this, but I haven't found anything. I'm hoping someone here might know.</p>\n"},{"tags":["java","freemarker"],"comments":[{"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"score":0,"creation_date":1499858585,"post_id":45056224,"comment_id":77085605,"body_markdown":"what do you need to do? print all Foo?","body":"what do you need to do? print all Foo?"},{"owner":{"account_id":1240064,"reputation":3356,"user_id":1202894,"accept_rate":71,"display_name":"Torque"},"score":0,"creation_date":1499858752,"post_id":45056224,"comment_id":77085709,"body_markdown":"Sure, that&#39;s fine. I do need to retain order, depth, and branch history (as in, if i have a, a.b, a.c and a.b.d, I need to retain the information that d is a child of b, not c)","body":"Sure, that&#39;s fine. I do need to retain order, depth, and branch history (as in, if i have a, a.b, a.c and a.b.d, I need to retain the information that d is a child of b, not c)"}],"answers":[{"comments":[{"owner":{"account_id":1240064,"reputation":3356,"user_id":1202894,"accept_rate":71,"display_name":"Torque"},"score":0,"creation_date":1500015751,"post_id":45056837,"comment_id":77165419,"body_markdown":"That is really just circumventing Freemarker completely though, it wouldn&#39;t allow me to take advantage of large parts of the language.","body":"That is really just circumventing Freemarker completely though, it wouldn&#39;t allow me to take advantage of large parts of the language."}],"tags":[],"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1499860033,"creation_date":1499860033,"answer_id":45056837,"question_id":45056224,"body_markdown":"You can use static methods to freemarker.\r\n\r\nAdd static method to Foo class printMe or doSomething \r\n\r\n    add public static printMe() { ...\r\n    }\r\n\r\nThis function will print itself and print it list as you need.\r\n\r\nNow just call it from freemarker template\r\n\r\n    ${statics[&quot;packageName.Foo&quot;].printMe()} \r\n\r\nsee [Accessing static methods][1]\r\n\r\n[1]:http://freemarker.org/docs/pgui_misc_beanwrapper.html#autoid_60","title":"FreeMarker recursive nested lists","body":"<p>You can use static methods to freemarker.</p>\n\n<p>Add static method to Foo class printMe or doSomething </p>\n\n<pre><code>add public static printMe() { ...\n}\n</code></pre>\n\n<p>This function will print itself and print it list as you need.</p>\n\n<p>Now just call it from freemarker template</p>\n\n<pre><code>${statics[\"packageName.Foo\"].printMe()} \n</code></pre>\n\n<p>see <a href=\"http://freemarker.org/docs/pgui_misc_beanwrapper.html#autoid_60\" rel=\"nofollow noreferrer\">Accessing static methods</a></p>\n"},{"comments":[{"owner":{"account_id":1240064,"reputation":3356,"user_id":1202894,"accept_rate":71,"display_name":"Torque"},"score":0,"creation_date":1500016130,"post_id":45061099,"comment_id":77165606,"body_markdown":"This functionality is exactly what I had in mind, thank you! I got distracted from finding it on my own because searching for Freemarker lists and recursion leads down the XML path.","body":"This functionality is exactly what I had in mind, thank you! I got distracted from finding it on my own because searching for Freemarker lists and recursion leads down the XML path."}],"tags":[],"owner":{"account_id":299854,"reputation":29886,"user_id":606679,"accept_rate":25,"display_name":"ddekany"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1678019715,"creation_date":1499871154,"answer_id":45061099,"question_id":45056224,"body_markdown":"FreeMarker macros (and functions) support recursion. So something like this:\r\n\r\n    &lt;#macro dumpFoo foo&gt;\r\n      ${foo.bar}\r\n      &lt;#list foo.foos as childFoo&gt;\r\n        &lt;@dumpFoo childFoo /&gt;\r\n      &lt;/#list&gt;\r\n    &lt;/#macro&gt;\r\n    \r\n    &lt;@dumpFoo myFoo /&gt;\r\n\r\nExample data-model (using https://try.freemarker.apache.org/ syntax, but it works equally well with `List`-s and `Foo` beans):\r\n\r\n    myFoo = {\r\n      &quot;bar&quot;: &quot;root&quot;,\r\n      &quot;foos&quot;: [\r\n        {\r\n          &quot;bar&quot;: &quot;child 1&quot;,\r\n          &quot;foos&quot;: [\r\n            {\r\n              &quot;bar&quot;: &quot;child 1.1&quot;,\r\n              &quot;foos&quot;: []\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          &quot;bar&quot;: &quot;child 2&quot;,\r\n          &quot;foos&quot;: []\r\n        }\r\n      ]\r\n    }\r\n\r\nOutput:\r\n\r\n      root\r\n      child 1\r\n      child 1.1\r\n      child 2","title":"FreeMarker recursive nested lists","body":"<p>FreeMarker macros (and functions) support recursion. So something like this:</p>\n<pre><code>&lt;#macro dumpFoo foo&gt;\n  ${foo.bar}\n  &lt;#list foo.foos as childFoo&gt;\n    &lt;@dumpFoo childFoo /&gt;\n  &lt;/#list&gt;\n&lt;/#macro&gt;\n\n&lt;@dumpFoo myFoo /&gt;\n</code></pre>\n<p>Example data-model (using <a href=\"https://try.freemarker.apache.org/\" rel=\"nofollow noreferrer\">https://try.freemarker.apache.org/</a> syntax, but it works equally well with <code>List</code>-s and <code>Foo</code> beans):</p>\n<pre><code>myFoo = {\n  &quot;bar&quot;: &quot;root&quot;,\n  &quot;foos&quot;: [\n    {\n      &quot;bar&quot;: &quot;child 1&quot;,\n      &quot;foos&quot;: [\n        {\n          &quot;bar&quot;: &quot;child 1.1&quot;,\n          &quot;foos&quot;: []\n        }\n      ]\n    },\n    {\n      &quot;bar&quot;: &quot;child 2&quot;,\n      &quot;foos&quot;: []\n    }\n  ]\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>  root\n  child 1\n  child 1.1\n  child 2\n</code></pre>\n"}],"owner":{"account_id":1240064,"reputation":3356,"user_id":1202894,"accept_rate":71,"display_name":"Torque"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3551,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":45061099,"answer_count":2,"score":4,"last_activity_date":1678019715,"creation_date":1499858322,"question_id":45056224,"body_markdown":"I have a data structure that looks like this:\r\n\r\n    public class Foo {\r\n        public Bar bar;\r\n        public List&lt;Foo&gt; foos = new ArrayList&lt;&gt;();\r\n    }\r\n\r\nEach instance of Foo can hold an arbitrary amount of `Foo`S, which of course in turn can contain even more `Foo`S and so on. So how would I go about making FreeMarker go through a list like that ?","title":"FreeMarker recursive nested lists","body":"<p>I have a data structure that looks like this:</p>\n\n<pre><code>public class Foo {\n    public Bar bar;\n    public List&lt;Foo&gt; foos = new ArrayList&lt;&gt;();\n}\n</code></pre>\n\n<p>Each instance of Foo can hold an arbitrary amount of <code>Foo</code>S, which of course in turn can contain even more <code>Foo</code>S and so on. So how would I go about making FreeMarker go through a list like that ?</p>\n"},{"tags":["java","google-chrome","selenium-webdriver"],"answers":[{"comments":[{"owner":{"account_id":4904476,"reputation":4812,"user_id":3951576,"accept_rate":50,"display_name":"eastwater"},"score":0,"creation_date":1678183662,"post_id":75640971,"comment_id":133479922,"body_markdown":"what is the reason why it goes back to normal size after reload? thanks.","body":"what is the reason why it goes back to normal size after reload? thanks."},{"owner":{"account_id":3411393,"reputation":306,"user_id":2861219,"accept_rate":100,"display_name":"Harish"},"score":0,"creation_date":1678204691,"post_id":75640971,"comment_id":133486020,"body_markdown":"@eastwater Becuase, ```driver.manage().window().fullscreen();``` sets the current instance of the window to full screen mode. But, reloading the page creates new instance of the window. So, browser, resets the view to default size of the window.","body":"@eastwater Becuase, <code>driver.manage().window().fullscreen();</code> sets the current instance of the window to full screen mode. But, reloading the page creates new instance of the window. So, browser, resets the view to default size of the window."},{"owner":{"account_id":4904476,"reputation":4812,"user_id":3951576,"accept_rate":50,"display_name":"eastwater"},"score":0,"creation_date":1678228802,"post_id":75640971,"comment_id":133492285,"body_markdown":"I see. What is needed is the fullscreen for the browser instance, not window fullscreen. e.g.,  driver.fullscreen(). thanks.","body":"I see. What is needed is the fullscreen for the browser instance, not window fullscreen. e.g.,  driver.fullscreen(). thanks."},{"owner":{"account_id":3411393,"reputation":306,"user_id":2861219,"accept_rate":100,"display_name":"Harish"},"score":0,"creation_date":1678288803,"post_id":75640971,"comment_id":133504100,"body_markdown":"By window, I mean browser window.","body":"By window, I mean browser window."}],"tags":[],"owner":{"account_id":3411393,"reputation":306,"user_id":2861219,"accept_rate":100,"display_name":"Harish"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678004839,"creation_date":1678004839,"answer_id":75640971,"question_id":75640545,"body_markdown":"When the page reloads after using ```driver.manage().window().fullscreen();``` browser window will return to its normal size. If you want to keep the browser window in full-screen mode after the page is reloaded, you will need to include the &quot;fullscreen()&quot; method in your code again after the page reloads.\r\n\r\nAlternatively, you can use &#39;setSize()&#39; method to set the window size accordingly or &#39;maximize()&#39; method to maximize browser window and these changes persist even after page reload.\r\n\r\nUse &#39;setSize()&#39; as below:\r\n\r\n```driver.manage().window().setSize(height, width);``` where height and width, you can use your screen height and width to set the browser window to match that.\r\n\r\nUse &#39;maximize()&#39; method as below:\r\n\r\n```driver.manage().window().maximize();```","title":"Selenium java window().fullscreen() goes back to normal size","body":"<p>When the page reloads after using <code>driver.manage().window().fullscreen();</code> browser window will return to its normal size. If you want to keep the browser window in full-screen mode after the page is reloaded, you will need to include the &quot;fullscreen()&quot; method in your code again after the page reloads.</p>\n<p>Alternatively, you can use 'setSize()' method to set the window size accordingly or 'maximize()' method to maximize browser window and these changes persist even after page reload.</p>\n<p>Use 'setSize()' as below:</p>\n<p><code>driver.manage().window().setSize(height, width);</code> where height and width, you can use your screen height and width to set the browser window to match that.</p>\n<p>Use 'maximize()' method as below:</p>\n<p><code>driver.manage().window().maximize();</code></p>\n"},{"tags":[],"owner":{"account_id":27938804,"reputation":102,"user_id":21335232,"display_name":"Bhairu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678018262,"creation_date":1678018262,"answer_id":75642122,"question_id":75640545,"body_markdown":"You Can also use Dimension Class to set the browser Size.\r\n\r\nDimension size=new Dimension();\r\n\r\n//for current size of the browser\r\nint hight=size.gethight();\r\n\r\nint width=size.getwidth();\r\n\r\nDimension sz=new Dimension(1000,900);\r\n\r\nsz.manage().window.setSize(sz);\r\n\r\n///You can also use the JavaScript Engine to find the height and width of the browser.\r\n\r\nEx-\r\n var w =window.innerWidth;\r\nvar h = window.innerHeight;\r\n\r\n\r\n","title":"Selenium java window().fullscreen() goes back to normal size","body":"<p>You Can also use Dimension Class to set the browser Size.</p>\n<p>Dimension size=new Dimension();</p>\n<p>//for current size of the browser\nint hight=size.gethight();</p>\n<p>int width=size.getwidth();</p>\n<p>Dimension sz=new Dimension(1000,900);</p>\n<p>sz.manage().window.setSize(sz);</p>\n<p>///You can also use the JavaScript Engine to find the height and width of the browser.</p>\n<p>Ex-\nvar w =window.innerWidth;\nvar h = window.innerHeight;</p>\n"}],"owner":{"account_id":4904476,"reputation":4812,"user_id":3951576,"accept_rate":50,"display_name":"eastwater"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":233,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75640971,"answer_count":2,"score":0,"last_activity_date":1678018262,"creation_date":1677997501,"question_id":75640545,"body_markdown":"Selenium java window().fullscreen() goes back to normal size.\r\n\r\n\r\n    driver.manage().window().fullscreen();\r\n\r\nFull scrren works on Chrome, but it immediately goes back to normal size on first page load.","title":"Selenium java window().fullscreen() goes back to normal size","body":"<p>Selenium java window().fullscreen() goes back to normal size.</p>\n<pre><code>driver.manage().window().fullscreen();\n</code></pre>\n<p>Full scrren works on Chrome, but it immediately goes back to normal size on first page load.</p>\n"},{"tags":["java","swift"],"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":4,"creation_date":1531862752,"post_id":51390296,"comment_id":89752952,"body_markdown":"The default Java hash function is _terrible_ and you almost never want to use it.","body":"The default Java hash function is <i>terrible</i> and you almost never want to use it."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1531862982,"post_id":51390296,"comment_id":89753034,"body_markdown":"&quot;the hashcode seems to be a pointer to the object or something&quot; the latter.","body":"&quot;the hashcode seems to be a pointer to the object or something&quot; the latter."}],"answers":[{"tags":[],"owner":{"account_id":7611913,"reputation":47287,"user_id":6541007,"display_name":"OOPer"},"comment_count":0,"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1531864342,"creation_date":1531864342,"answer_id":51390707,"question_id":51390296,"body_markdown":"***the hashcode seems to be a pointer to the object or something.***\r\n\r\nThat&#39;s true as describing the default implementation of `hashCode()` (`Object#hashCode()`) in Java.\r\n\r\nAnd the fact that Java provides this default implementation of `hashCode()` caused hundreds of bugs I have experienced.\r\n\r\nIn Java, `hashCode()` and `equals()` needs to be consistent to work with hash-value based collections like `HashMap` or `HashSet`.\r\n\r\nAnd in many, many, so many classes where `equals()` is defined other way than comparing _pointer to the object or something_. **The default implementation of `hashCode()` is never consistent with such `equals()` and causes some sort of bugs, which are hard to find**.\r\n\r\nSwift is trying to tell us that hash-value needs to be consistent with the type&#39;s _equality_ in a stronger way than other languages.\r\n\r\n[SE-0185][1] introduced an easy way to conform to `Equatable` and `Hashable`. In a suitable condition and the _equality_ is trivial, you do not need to _define the function_.\r\n\r\nThe default implementation of `hashCode()` in Java is useless and you must override it when you have overridden `equals()`, and compiler gives us no warnings even if we forgot to override `hashCode()`. Is that really a _comfort_?\r\n\r\n  [1]: https://github.com/apple/swift-evolution/blob/master/proposals/0185-synthesize-equatable-hashable.md","title":"Why doesn&#39;t Swift provide hashable for every class implicitly?","body":"<p><strong><em>the hashcode seems to be a pointer to the object or something.</em></strong></p>\n\n<p>That's true as describing the default implementation of <code>hashCode()</code> (<code>Object#hashCode()</code>) in Java.</p>\n\n<p>And the fact that Java provides this default implementation of <code>hashCode()</code> caused hundreds of bugs I have experienced.</p>\n\n<p>In Java, <code>hashCode()</code> and <code>equals()</code> needs to be consistent to work with hash-value based collections like <code>HashMap</code> or <code>HashSet</code>.</p>\n\n<p>And in many, many, so many classes where <code>equals()</code> is defined other way than comparing <em>pointer to the object or something</em>. <strong>The default implementation of <code>hashCode()</code> is never consistent with such <code>equals()</code> and causes some sort of bugs, which are hard to find</strong>.</p>\n\n<p>Swift is trying to tell us that hash-value needs to be consistent with the type's <em>equality</em> in a stronger way than other languages.</p>\n\n<p><a href=\"https://github.com/apple/swift-evolution/blob/master/proposals/0185-synthesize-equatable-hashable.md\" rel=\"nofollow noreferrer\">SE-0185</a> introduced an easy way to conform to <code>Equatable</code> and <code>Hashable</code>. In a suitable condition and the <em>equality</em> is trivial, you do not need to <em>define the function</em>.</p>\n\n<p>The default implementation of <code>hashCode()</code> in Java is useless and you must override it when you have overridden <code>equals()</code>, and compiler gives us no warnings even if we forgot to override <code>hashCode()</code>. Is that really a <em>comfort</em>?</p>\n"},{"comments":[{"owner":{"account_id":56147,"reputation":28942,"user_id":168179,"accept_rate":57,"display_name":"Mark A. Donohoe"},"score":0,"creation_date":1583719481,"post_id":51390728,"comment_id":107200153,"body_markdown":"The OP&#39;s question was around Swift, not Java, and he also specifically said classes, which are reference types.  I too wonder why reference types in Swift don&#39;t automatically conform to Equatable.  I usually add global equality operators to add this.  Plus, if you do need to customize it, you can still do that on a per-type basis, even with the default behavior in place, so again, like the OP, I can&#39;t find any rationale for not including it by default.","body":"The OP&#39;s question was around Swift, not Java, and he also specifically said classes, which are reference types.  I too wonder why reference types in Swift don&#39;t automatically conform to Equatable.  I usually add global equality operators to add this.  Plus, if you do need to customize it, you can still do that on a per-type basis, even with the default behavior in place, so again, like the OP, I can&#39;t find any rationale for not including it by default."},{"owner":{"account_id":523757,"reputation":60391,"user_id":3141234,"accept_rate":76,"display_name":"Alexander"},"score":0,"creation_date":1583759833,"post_id":51390728,"comment_id":107213419,"body_markdown":"@MarkA.Donohoe I&#39;m not really sure what you&#39;re getting at with your first sentence, because I very clearly talk about what differentiates Swift (its user-definable value type), why that makes its behavior different (value types don&#39;t have a stable identity to use for a hashcode), and why that&#39;s a more general problem than just in Swift (citing how when Java undergoes an enhancement to gain support for value types, they won&#39;t have a hash code, either.)","body":"@MarkA.Donohoe I&#39;m not really sure what you&#39;re getting at with your first sentence, because I very clearly talk about what differentiates Swift (its user-definable value type), why that makes its behavior different (value types don&#39;t have a stable identity to use for a hashcode), and why that&#39;s a more general problem than just in Swift (citing how when Java undergoes an enhancement to gain support for value types, they won&#39;t have a hash code, either.)"},{"owner":{"account_id":523757,"reputation":60391,"user_id":3141234,"accept_rate":76,"display_name":"Alexander"},"score":0,"creation_date":1583760030,"post_id":51390728,"comment_id":107213535,"body_markdown":"As for reference types in particular: Reference based hash codes seldom make sense. They&#39;re trivially correct when comparing an object to itself, without any false matches. But they&#39;re wrong when comparing an object A to a distinct object B (even if A and B have the same value, and should be equivalent in the business domain), which is a very common source of bugs in java (forgetting to override equals and hash code).","body":"As for reference types in particular: Reference based hash codes seldom make sense. They&#39;re trivially correct when comparing an object to itself, without any false matches. But they&#39;re wrong when comparing an object A to a distinct object B (even if A and B have the same value, and should be equivalent in the business domain), which is a very common source of bugs in java (forgetting to override equals and hash code)."},{"owner":{"account_id":523757,"reputation":60391,"user_id":3141234,"accept_rate":76,"display_name":"Alexander"},"score":0,"creation_date":1583760099,"post_id":51390728,"comment_id":107213570,"body_markdown":"I&#39;d be curious to hear your use-case, because I&#39;ve never encountered a situation where implementing `==` as `===` made any sense. I certainly can&#39;t imagine it being a sensible default behavior.","body":"I&#39;d be curious to hear your use-case, because I&#39;ve never encountered a situation where implementing <code>==</code> as <code>===</code> made any sense. I certainly can&#39;t imagine it being a sensible default behavior."},{"owner":{"account_id":56147,"reputation":28942,"user_id":168179,"accept_rate":57,"display_name":"Mark A. Donohoe"},"score":0,"creation_date":1583768698,"post_id":51390728,"comment_id":107218595,"body_markdown":"Per your second comment, you would *not* use the same hash value for a reference type that is otherwise equivalent with another instance of that reference type. But that means you have explicitly defined something else to mean &#39;equal&#39; so you should use those same things to calculate the hash value.  See my post here for a detailed explanation of that exact scenario (near the bottom.).  https://stackoverflow.com/a/60580514/168179. But...","body":"Per your second comment, you would <i>not</i> use the same hash value for a reference type that is otherwise equivalent with another instance of that reference type. But that means you have explicitly defined something else to mean &#39;equal&#39; so you should use those same things to calculate the hash value.  See my post here for a detailed explanation of that exact scenario (near the bottom.).  <a href=\"https://stackoverflow.com/a/60580514/168179\">stackoverflow.com/a/60580514/168179</a>. But..."},{"owner":{"account_id":56147,"reputation":28942,"user_id":168179,"accept_rate":57,"display_name":"Mark A. Donohoe"},"score":0,"creation_date":1583768763,"post_id":51390728,"comment_id":107218634,"body_markdown":"But in general, I would argue unless there is a special case to override equality, reference-equality should be the default because you *are* referring to the same object instance.  Again, you can override it (like I did) to instead use ID, but also as I did, you then need to additionally override the hash value.  But that should be the exception, not the norm.  That was my only point.","body":"But in general, I would argue unless there is a special case to override equality, reference-equality should be the default because you <i>are</i> referring to the same object instance.  Again, you can override it (like I did) to instead use ID, but also as I did, you then need to additionally override the hash value.  But that should be the exception, not the norm.  That was my only point."},{"owner":{"account_id":56147,"reputation":28942,"user_id":168179,"accept_rate":57,"display_name":"Mark A. Donohoe"},"score":0,"creation_date":1583768892,"post_id":51390728,"comment_id":107218710,"body_markdown":"My first comment was only to not start by talking about another language as that may not clarify anything if they don&#39;t have any experience with it.  Stay on Swift.  Sure, use it as supporting details, but the way it reads, it seems like the focus was on Java, then you mentioned Swift as an aside, in only one sentence.  Not wrong per se. Just not as clear as perhaps you intended.","body":"My first comment was only to not start by talking about another language as that may not clarify anything if they don&#39;t have any experience with it.  Stay on Swift.  Sure, use it as supporting details, but the way it reads, it seems like the focus was on Java, then you mentioned Swift as an aside, in only one sentence.  Not wrong per se. Just not as clear as perhaps you intended."},{"owner":{"account_id":523757,"reputation":60391,"user_id":3141234,"accept_rate":76,"display_name":"Alexander"},"score":0,"creation_date":1583775843,"post_id":51390728,"comment_id":107222161,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/209329/discussion-between-alexander-reinstate-monica-and-mark-a-donohoe).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/209329/discussion-between-alexander-reinstate-monica-and-mark-a-donohoe\">continue this discussion in chat</a>."}],"tags":[],"owner":{"account_id":523757,"reputation":60391,"user_id":3141234,"accept_rate":76,"display_name":"Alexander"},"comment_count":8,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1531865452,"creation_date":1531864470,"answer_id":51390728,"question_id":51390296,"body_markdown":"Java&#39;s only value types are the fixed set of &quot;primitives&quot; (`bool`, `char`, `byte`, `short`, `int`, `long`, `float`, `double`). Swift has a generalized mechanism for creating value types that Java doesn&#39;t. Using Identity (instance address) as the basis of a default value for a `hashValue` would make no sense, given that value types don&#39;t have identity.\r\n\r\nReference types (instances of classes, called objects) are passed by copying the pointer that points to the object. If you had some object `a`, took its default `hashCode`, then passed it to a function `f` as parameter `p`, then `p.hashCode()` would be the same as `a.hashCode()`, because the pointer value is preserved.\r\n\r\nValue types (instances of structs, tuples and enums) are passed by copying their content, or their `value`. If you had some instance `a`, and tried to derive a `hashCode` based off the base address where `a`&#39;s members starts, you&#39;ll get some value. But when you passed it to a function `f` as a parameter `p`, you would cause a copy of `a`&#39;s members into the memory set aside on the stack for `p` within `f`. This is at a *different* location than `a`. If you tried to tried to derive a `hashCode` based off the base address where `p`&#39;s members start, you would get *a different value!*\r\n\r\nThus, identity doesn&#39;t exist for value types. An `Int8` with pattern `0b00000001` here has the exact same value as an `Int8` pattern somewhere else that&#39;s also `0b00000001`. This is different from two heap objects, which can each have the same content, but be distinguished apart by their different (but psuedo-permanent) locations, which forms the basis of their identity.\r\n\r\nThere&#39;s an open [JDK enhancement proposal (#169)](http://openjdk.java.net/jeps/169) for introducing generalized value types, for its very obvious performance benefits in reducing the number of small short-lived objects like `Optional&lt;T&gt;`, `Point`, etc. I suspect they&#39;ll be running into these same hurdles that Swift experienced. Here&#39;s an excerpt from the JEP (emphasis mine):\r\n\r\n&gt; # Summary\r\n&gt; \r\n&gt; Provide JVM infrastructure for working with immutable and\r\n&gt; reference-free objects, in support of efficient by-value computation\r\n&gt; with non-primitive types.\r\n&gt; \r\n&gt; ...\r\n&gt;\r\n&gt; # Description\r\n&gt; \r\n&gt; A new operator lockPermanently will be defined which takes an Object\r\n&gt; and marks it as immutable and unaliasable.\r\n&gt; \r\n&gt; In general, a permanently locked object cannot be subjected\r\n&gt; meaningfully to any operation that depends on the reference identity\r\n&gt; of the object. An operation depends on reference identity if the\r\n&gt; operation produces different results depending on whether it applies\r\n&gt; to the original object or one of its clones. Thus:\r\n&gt; \r\n&gt; - Fields and array elements cannot be changed.\r\n&gt; - Synchronization cannot be\r\n&gt; performed.\r\n&gt; - Methods for waiting or notifying cannot be invoked. \r\n&gt; - **An identity hash code cannot be queried.**\r\n&gt; - **Pointer equality checks should not be performed.**","title":"Why doesn&#39;t Swift provide hashable for every class implicitly?","body":"<p>Java's only value types are the fixed set of \"primitives\" (<code>bool</code>, <code>char</code>, <code>byte</code>, <code>short</code>, <code>int</code>, <code>long</code>, <code>float</code>, <code>double</code>). Swift has a generalized mechanism for creating value types that Java doesn't. Using Identity (instance address) as the basis of a default value for a <code>hashValue</code> would make no sense, given that value types don't have identity.</p>\n\n<p>Reference types (instances of classes, called objects) are passed by copying the pointer that points to the object. If you had some object <code>a</code>, took its default <code>hashCode</code>, then passed it to a function <code>f</code> as parameter <code>p</code>, then <code>p.hashCode()</code> would be the same as <code>a.hashCode()</code>, because the pointer value is preserved.</p>\n\n<p>Value types (instances of structs, tuples and enums) are passed by copying their content, or their <code>value</code>. If you had some instance <code>a</code>, and tried to derive a <code>hashCode</code> based off the base address where <code>a</code>'s members starts, you'll get some value. But when you passed it to a function <code>f</code> as a parameter <code>p</code>, you would cause a copy of <code>a</code>'s members into the memory set aside on the stack for <code>p</code> within <code>f</code>. This is at a <em>different</em> location than <code>a</code>. If you tried to tried to derive a <code>hashCode</code> based off the base address where <code>p</code>'s members start, you would get <em>a different value!</em></p>\n\n<p>Thus, identity doesn't exist for value types. An <code>Int8</code> with pattern <code>0b00000001</code> here has the exact same value as an <code>Int8</code> pattern somewhere else that's also <code>0b00000001</code>. This is different from two heap objects, which can each have the same content, but be distinguished apart by their different (but psuedo-permanent) locations, which forms the basis of their identity.</p>\n\n<p>There's an open <a href=\"http://openjdk.java.net/jeps/169\" rel=\"nofollow noreferrer\">JDK enhancement proposal (#169)</a> for introducing generalized value types, for its very obvious performance benefits in reducing the number of small short-lived objects like <code>Optional&lt;T&gt;</code>, <code>Point</code>, etc. I suspect they'll be running into these same hurdles that Swift experienced. Here's an excerpt from the JEP (emphasis mine):</p>\n\n<blockquote>\n  <h1>Summary</h1>\n  \n  <p>Provide JVM infrastructure for working with immutable and\n  reference-free objects, in support of efficient by-value computation\n  with non-primitive types.</p>\n  \n  <p>...</p>\n  \n  <h1>Description</h1>\n  \n  <p>A new operator lockPermanently will be defined which takes an Object\n  and marks it as immutable and unaliasable.</p>\n  \n  <p>In general, a permanently locked object cannot be subjected\n  meaningfully to any operation that depends on the reference identity\n  of the object. An operation depends on reference identity if the\n  operation produces different results depending on whether it applies\n  to the original object or one of its clones. Thus:</p>\n  \n  <ul>\n  <li>Fields and array elements cannot be changed.</li>\n  <li>Synchronization cannot be\n  performed.</li>\n  <li>Methods for waiting or notifying cannot be invoked. </li>\n  <li><strong>An identity hash code cannot be queried.</strong></li>\n  <li><strong>Pointer equality checks should not be performed.</strong></li>\n  </ul>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":56147,"reputation":28942,"user_id":168179,"accept_rate":57,"display_name":"Mark A. Donohoe"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678018228,"creation_date":1583719701,"answer_id":60593927,"question_id":51390296,"body_markdown":"I&#39;ve posted another answer [here on Stack Overflow][1] that goes over how to implicitly add `Equatable` for all class types without having to do anything manually by simply defining global operators for `==` and `!=`.\r\n\r\nAdditionally, I show how you can also make all classes implement `Hashable` by simply specifying the protocol on the type you want to make `Hashable` but without having to implement the hashing function. It uses an extension to implement it for you.\r\n\r\nBoth have become staples of all new projects I create.\r\n\r\n  [1]: https://stackoverflow.com/a/60580514/168179","title":"Why doesn&#39;t Swift provide hashable for every class implicitly?","body":"<p>I've posted another answer <a href=\"https://stackoverflow.com/a/60580514/168179\">here on Stack Overflow</a> that goes over how to implicitly add <code>Equatable</code> for all class types without having to do anything manually by simply defining global operators for <code>==</code> and <code>!=</code>.</p>\n<p>Additionally, I show how you can also make all classes implement <code>Hashable</code> by simply specifying the protocol on the type you want to make <code>Hashable</code> but without having to implement the hashing function. It uses an extension to implement it for you.</p>\n<p>Both have become staples of all new projects I create.</p>\n"}],"owner":{"account_id":557270,"reputation":13861,"user_id":919348,"accept_rate":63,"display_name":"Novellizator"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":387,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1678018228,"creation_date":1531862138,"question_id":51390296,"body_markdown":"It&#39;s done in java easily - the hashcode seems to be a pointer to the object or something. Why didn&#39;t swift provide us with the same comfort and requires us to define the function ourselves?","title":"Why doesn&#39;t Swift provide hashable for every class implicitly?","body":"<p>It's done in java easily - the hashcode seems to be a pointer to the object or something. Why didn't swift provide us with the same comfort and requires us to define the function ourselves?</p>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678016973,"creation_date":1678016973,"answer_id":75642020,"question_id":75641929,"body_markdown":"You have to also update the values your bill:\r\n\r\n    @Autowired\r\n    private StockRepository stockRepository;\r\n\r\n    @Transactional\r\n    public Bill createBill(Bill bill) {\r\n      for (Billcart data : bill.getBillcart()) {\r\n        Stock entity = stockRepository.findByItemcode(data.getItemcode());\r\n        entity.setAvailableQuantity(\r\n          entity.getAvailableQuantity()-data.getQuantity());\r\n        entity = stockRepository.save(entity);\r\n        data.setAvailableQuantity(entity.getAvailableQuantity());\r\n      }\r\n    }\r\n","title":"Comapre List of entity with list of data from frontend and update field which are matching in Springboot","body":"<p>You have to also update the values your bill:</p>\n<pre><code>@Autowired\nprivate StockRepository stockRepository;\n\n@Transactional\npublic Bill createBill(Bill bill) {\n  for (Billcart data : bill.getBillcart()) {\n    Stock entity = stockRepository.findByItemcode(data.getItemcode());\n    entity.setAvailableQuantity(\n      entity.getAvailableQuantity()-data.getQuantity());\n    entity = stockRepository.save(entity);\n    data.setAvailableQuantity(entity.getAvailableQuantity());\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":22149354,"reputation":347,"user_id":16398144,"display_name":"ASIF KAIF"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678016973,"creation_date":1678016077,"question_id":75641929,"body_markdown":"I want to deduct the available quantity  with the matching itemcode  of the stock \r\n\r\njson data from postman\r\n```\r\n [billamount:1000,\r\ndisocunt:500,\r\nbillcart[{itemcode:1001, quantity:4 }, {itemcode:1002, quantity:7 }]]\r\n```\r\n method\r\n```\r\n @Autowired\r\nprivate StockRepository stockRepository;\r\n\r\npublic Bill createBill(Bill bill) {\r\n\r\n for (Billcart data : bill.getBillcart()) {\r\n  Stock entity = stockRepository.findByItemcode(data.getItemcode());\r\n\r\n if(entity.getItemcode() ==data.getItemcode()){\r\n   entity.setAvailableQuantity(entity.getAvailableQuantity()- data.getQuantity())\r\nstockRepository.save(entity)\r\n  }\r\n}\r\n````\r\n\r\nbefore deduction\r\n``` \r\n [{itemcode:1001, availableQuantity:20 }, {itemcode:1002, availableQuantity:40 }]]\r\n```\r\n\r\nresult should be like this:\r\n``` \r\n [{itemcode:1001, availableQuantity:16 }, {itemcode:1002, availableQuantity:33 }]]\r\n```","title":"Comapre List of entity with list of data from frontend and update field which are matching in Springboot","body":"<p>I want to deduct the available quantity  with the matching itemcode  of the stock</p>\n<p>json data from postman</p>\n<pre><code> [billamount:1000,\ndisocunt:500,\nbillcart[{itemcode:1001, quantity:4 }, {itemcode:1002, quantity:7 }]]\n</code></pre>\n<p>method</p>\n<pre><code> @Autowired\nprivate StockRepository stockRepository;\n\npublic Bill createBill(Bill bill) {\n\n for (Billcart data : bill.getBillcart()) {\n  Stock entity = stockRepository.findByItemcode(data.getItemcode());\n\n if(entity.getItemcode() ==data.getItemcode()){\n   entity.setAvailableQuantity(entity.getAvailableQuantity()- data.getQuantity())\nstockRepository.save(entity)\n  }\n}\n</code></pre>\n<p>before deduction</p>\n<pre><code> [{itemcode:1001, availableQuantity:20 }, {itemcode:1002, availableQuantity:40 }]]\n</code></pre>\n<p>result should be like this:</p>\n<pre><code> [{itemcode:1001, availableQuantity:16 }, {itemcode:1002, availableQuantity:33 }]]\n</code></pre>\n"},{"tags":["java","r","xlsx"],"comments":[{"owner":{"account_id":21023567,"reputation":162,"user_id":15449339,"display_name":"Miguel Angel Acosta Chinchilla"},"score":1,"creation_date":1677968359,"post_id":75638469,"comment_id":133443096,"body_markdown":"Try to use `openxlsx ` with  `write.xlsx` function.","body":"Try to use <code>openxlsx </code> with  <code>write.xlsx</code> function."}],"owner":{"account_id":26680729,"reputation":97,"user_id":20290723,"display_name":"ginn"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1678015791,"answer_count":0,"score":0,"last_activity_date":1678015752,"creation_date":1677961737,"question_id":75638469,"body_markdown":"I&#39;m trying to write a xlsx file with the xlsx package like this:\r\n\r\n```r\r\nxlsx:: write.xlsx (x = cv, file = &quot;./Tables/cv.xlsx&quot;, \r\n                   append = F, sheetName = &quot;XXX&quot;, col.names = T, row.names = F)\r\n```\r\n\r\nBut this error keeps showing up:\r\n\r\n```none\r\nError in .jcall(row[[ir]], &quot;Lorg/apache/poi/ss/usermodel/Cell;&quot;, &quot;createCell&quot;,  : \r\n  Java Exception &lt;no description because toString() failed&gt;\r\n```\r\n\r\nDoes anyone know what it could be?","title":"write.xlsx error in .jcall: Java Exception &lt;no description because toString() failed&gt;","body":"<p>I'm trying to write a xlsx file with the xlsx package like this:</p>\n<pre class=\"lang-r prettyprint-override\"><code>xlsx:: write.xlsx (x = cv, file = &quot;./Tables/cv.xlsx&quot;, \n                   append = F, sheetName = &quot;XXX&quot;, col.names = T, row.names = F)\n</code></pre>\n<p>But this error keeps showing up:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Error in .jcall(row[[ir]], &quot;Lorg/apache/poi/ss/usermodel/Cell;&quot;, &quot;createCell&quot;,  : \n  Java Exception &lt;no description because toString() failed&gt;\n</code></pre>\n<p>Does anyone know what it could be?</p>\n"},{"tags":["python","java","arrays","string","parsing"],"comments":[{"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"score":0,"creation_date":1678015434,"post_id":75641844,"comment_id":133447807,"body_markdown":"You can find where in the string the first array ends and the second begins, and insert at that position. In particular for Java, look at the documentation for the indexOf() method in the String class.","body":"You can find where in the string the first array ends and the second begins, and insert at that position. In particular for Java, look at the documentation for the indexOf() method in the String class."},{"owner":{"account_id":21717957,"reputation":41,"user_id":16028693,"display_name":"vrubayka"},"score":0,"creation_date":1678015745,"post_id":75641844,"comment_id":133447854,"body_markdown":"I want to use this method on a list of Strings with differing lengths, so I can&#39;t use indexOf()","body":"I want to use this method on a list of Strings with differing lengths, so I can&#39;t use indexOf()"},{"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"score":0,"creation_date":1678025597,"post_id":75641844,"comment_id":133449272,"body_markdown":"What do you mean you can&#39;t? It&#39;s perfectly possible to iterate through a list and do what you need to do with each individual string it contains. And if one or more of those individual strings contain textual representations of more than two arrays, you can use `split()`. In any case, if there are circumstances that prevent you taking a certain approach to solve the problem, you should state that in the question itself.","body":"What do you mean you can&#39;t? It&#39;s perfectly possible to iterate through a list and do what you need to do with each individual string it contains. And if one or more of those individual strings contain textual representations of more than two arrays, you can use <code>split()</code>. In any case, if there are circumstances that prevent you taking a certain approach to solve the problem, you should state that in the question itself."}],"answers":[{"comments":[{"owner":{"account_id":21717957,"reputation":41,"user_id":16028693,"display_name":"vrubayka"},"score":2,"creation_date":1678016440,"post_id":75641872,"comment_id":133447953,"body_markdown":"Thanks, to achieve the desired effect like described in the question, we can alter the code a little: \n`print(mystr.replace(&#39;], &#39;, &#39;],\\n&#39;))`","body":"Thanks, to achieve the desired effect like described in the question, we can alter the code a little:  <code>print(mystr.replace(&#39;], &#39;, &#39;],\\n&#39;))</code>"}],"tags":[],"owner":{"account_id":7557758,"reputation":6267,"user_id":5736671,"display_name":"ilias-sp"},"comment_count":1,"down_vote_count":2,"up_vote_count":3,"is_accepted":true,"score":1,"last_activity_date":1678015400,"creation_date":1678015400,"answer_id":75641872,"question_id":75641844,"body_markdown":"Python-wise, your `str` variable uses a reserved keyword and missing the quotes.\r\n\r\nyou can do it in python as below:\r\n\r\n```\r\nmystr = &quot;[[a,b,c], [d,e,f]]&quot;       \r\nprint(mystr.replace(&#39;],&#39;, &#39;],\\n&#39;))\r\n```\r\n\r\nprints:\r\n\r\n```\r\n[[a,b,c],\r\n [d,e,f]]\r\n```","title":"Adding a Substring to a String without knowing the position","body":"<p>Python-wise, your <code>str</code> variable uses a reserved keyword and missing the quotes.</p>\n<p>you can do it in python as below:</p>\n<pre><code>mystr = &quot;[[a,b,c], [d,e,f]]&quot;       \nprint(mystr.replace('],', '],\\n'))\n</code></pre>\n<p>prints:</p>\n<pre><code>[[a,b,c],\n [d,e,f]]\n</code></pre>\n"}],"owner":{"account_id":21717957,"reputation":41,"user_id":16028693,"display_name":"vrubayka"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":75641872,"answer_count":1,"score":0,"last_activity_date":1678015400,"creation_date":1678015098,"question_id":75641844,"body_markdown":"I want to add a char(newline) to a String by specifiying the location with a Substring.\r\n\r\nIs that possible in Python or Java?\r\n\r\nHere&#39;s how I imagine it,\r\n\r\nNewline is added to the String at the position between two arrays `&#39;],&#39;`:\r\n\r\n```\r\nstr = [[a,b,c], [d,e,f]]\r\n\r\nresult = addString(str, &#39;],&#39;, &#39;\\n&#39;)\r\nprint(result)\r\n\r\nOutput:\r\n\r\n[[a,b,c],\r\n[d,e,f]]\r\n```","title":"Adding a Substring to a String without knowing the position","body":"<p>I want to add a char(newline) to a String by specifiying the location with a Substring.</p>\n<p>Is that possible in Python or Java?</p>\n<p>Here's how I imagine it,</p>\n<p>Newline is added to the String at the position between two arrays <code>'],'</code>:</p>\n<pre><code>str = [[a,b,c], [d,e,f]]\n\nresult = addString(str, '],', '\\n')\nprint(result)\n\nOutput:\n\n[[a,b,c],\n[d,e,f]]\n</code></pre>\n"},{"tags":["java","math","reference","kotlin"],"comments":[{"owner":{"account_id":1562546,"reputation":24865,"user_id":1452094,"display_name":"Kiskae"},"score":5,"creation_date":1513435413,"post_id":47846653,"comment_id":82657605,"body_markdown":"`import kotlin.math.sqrt`","body":"<code>import kotlin.math.sqrt</code>"},{"owner":{"account_id":11355751,"reputation":131,"user_id":8325398,"accept_rate":75,"display_name":"Baptiste"},"score":0,"creation_date":1513435762,"post_id":47846653,"comment_id":82657715,"body_markdown":"Why did import kotlin.* doesn&#39;t work ?","body":"Why did import kotlin.* doesn&#39;t work ?"},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":1,"creation_date":1513435903,"post_id":47846653,"comment_id":82657767,"body_markdown":"Because the star notation is not recursive, just like in Java.","body":"Because the star notation is not recursive, just like in Java."},{"owner":{"account_id":61249,"reputation":23610,"user_id":182660,"accept_rate":50,"display_name":"SergGr"},"score":2,"creation_date":1513436058,"post_id":47846653,"comment_id":82657811,"body_markdown":"What duffymo is saying is that if you want to use `*` you should `import kotlin.math.*` rather than `import kotlin.*`","body":"What duffymo is saying is that if you want to use <code>*</code> you should <code>import kotlin.math.*</code> rather than <code>import kotlin.*</code>"},{"owner":{"account_id":8191460,"reputation":13817,"user_id":7366707,"accept_rate":86,"display_name":"Salem"},"score":1,"creation_date":1513438021,"post_id":47846653,"comment_id":82658408,"body_markdown":"Also, you can (and should) remove those semicolons. They have no effect.","body":"Also, you can (and should) remove those semicolons. They have no effect."},{"owner":{"account_id":11355751,"reputation":131,"user_id":8325398,"accept_rate":75,"display_name":"Baptiste"},"score":0,"creation_date":1513518717,"post_id":47846653,"comment_id":82675632,"body_markdown":"I have the same problem when I use the eval() function. How can I know which package to import ?","body":"I have the same problem when I use the eval() function. How can I know which package to import ?"},{"owner":{"account_id":8701082,"reputation":426,"user_id":6510944,"display_name":"vSomers"},"score":0,"creation_date":1568030324,"post_id":47846653,"comment_id":102133299,"body_markdown":"@BaptisteMarcos Which IDE are you using? Maybe you should consider using an IDE such as [Intellij](https://www.jetbrains.com/idea/), where you can configure auto import to avoid doing it manually.","body":"@BaptisteMarcos Which IDE are you using? Maybe you should consider using an IDE such as <a href=\"https://www.jetbrains.com/idea/\" rel=\"nofollow noreferrer\">Intellij</a>, where you can configure auto import to avoid doing it manually."}],"answers":[{"tags":[],"owner":{"account_id":25636094,"reputation":1,"user_id":19405664,"display_name":"Eugene Kinyanjui"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678015382,"creation_date":1677591595,"answer_id":75592854,"question_id":47846653,"body_markdown":"you can import `kotlin.math.pow`\r\n\r\nit works like this\r\n```\r\nDouble.pow(x)\r\n```\r\nso, 2 squared would be (2.0).pow(2)\r\nthe square root of 4 would be (4.0).pow(0.5)","title":"Unresolved reference sqrt() Kotlin","body":"<p>you can import <code>kotlin.math.pow</code></p>\n<p>it works like this</p>\n<pre><code>Double.pow(x)\n</code></pre>\n<p>so, 2 squared would be (2.0).pow(2)\nthe square root of 4 would be (4.0).pow(0.5)</p>\n"}],"owner":{"account_id":11355751,"reputation":131,"user_id":8325398,"accept_rate":75,"display_name":"Baptiste"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5518,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1678015382,"creation_date":1513434389,"question_id":47846653,"body_markdown":"I want to use :  ([link][1])\r\n\r\n    fun sqrt(x: Double): Double\r\n\r\nwhich is a basic math function in my kotlin version :   \r\n\r\n&gt; kotlinc-jvm 1.2.0 (JRE 1.8.0_151-b12)\r\n\r\nActually my code is :\r\n\r\n    fun main(args: Array&lt;String&gt;){ \r\n        println(doSqrt(&quot;16&quot;));\r\n    }\r\n\r\n    fun doSqrt(num: String) : String{\r\n        var number: Int = num.toInt();\r\n        var nb: Double = number.toDouble();\r\n        var result: Double = sqrt(nb);\r\n        return (result.toString())\r\n    }\r\n\r\nbut when I compile with \r\n\r\n&gt; kotlinc test.kt -include-runtime -d test.jar\r\n\r\nResult is :\r\n\r\n    test.kt:10:26: error: unresolved reference: sqrt\r\n         var result: Double = sqrt(nb);\r\n\r\nI try to import \r\n\r\n&gt; kotlin.Math\r\n\r\nIt doesn&#39;t work I also try to import\r\n\r\n&gt; kotlin.*\r\n\r\nSame problem...\r\n\r\nWhich way to use the sqrt function in Kotlin ?\r\n\r\n\r\n  [1]: https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.math/sqrt.html","title":"Unresolved reference sqrt() Kotlin","body":"<p>I want to use :  (<a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.math/sqrt.html\" rel=\"nofollow noreferrer\">link</a>)</p>\n\n<pre><code>fun sqrt(x: Double): Double\n</code></pre>\n\n<p>which is a basic math function in my kotlin version :   </p>\n\n<blockquote>\n  <p>kotlinc-jvm 1.2.0 (JRE 1.8.0_151-b12)</p>\n</blockquote>\n\n<p>Actually my code is :</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;){ \n    println(doSqrt(\"16\"));\n}\n\nfun doSqrt(num: String) : String{\n    var number: Int = num.toInt();\n    var nb: Double = number.toDouble();\n    var result: Double = sqrt(nb);\n    return (result.toString())\n}\n</code></pre>\n\n<p>but when I compile with </p>\n\n<blockquote>\n  <p>kotlinc test.kt -include-runtime -d test.jar</p>\n</blockquote>\n\n<p>Result is :</p>\n\n<pre><code>test.kt:10:26: error: unresolved reference: sqrt\n     var result: Double = sqrt(nb);\n</code></pre>\n\n<p>I try to import </p>\n\n<blockquote>\n  <p>kotlin.Math</p>\n</blockquote>\n\n<p>It doesn't work I also try to import</p>\n\n<blockquote>\n  <p>kotlin.*</p>\n</blockquote>\n\n<p>Same problem...</p>\n\n<p>Which way to use the sqrt function in Kotlin ?</p>\n"},{"tags":["java","testing","annotations","junit4","assertion"],"comments":[{"owner":{"account_id":112219,"reputation":19256,"user_id":296106,"accept_rate":75,"display_name":"c_maker"},"score":2,"creation_date":1269213219,"post_id":2469911,"comment_id":2482384,"body_markdown":"Now that I think about it a little more... Are you sure it is a good idea to assert the message? Your question made me dig into the junit source code a bit and it seems they could have easily added this feature. The fact that they did *not*, makes me think it might not be considered a good practice. Why is it important in your project to assert the message?","body":"Now that I think about it a little more... Are you sure it is a good idea to assert the message? Your question made me dig into the junit source code a bit and it seems they could have easily added this feature. The fact that they did <i>not</i>, makes me think it might not be considered a good practice. Why is it important in your project to assert the message?"},{"owner":{"account_id":27913,"reputation":5642,"user_id":74098,"accept_rate":69,"display_name":"Cshah"},"score":11,"creation_date":1269228015,"post_id":2469911,"comment_id":2483227,"body_markdown":"good question.Say that a method containing 15 lines of code throws the same exception from 2 different places. My test cases need to assert not just the exception class but also the message in it. In an ideal world, any abnormal behavior should have its own exception.If that had been the case, my question would never arise but production applications donot have their unique custom exception for each abnormal behavior.","body":"good question.Say that a method containing 15 lines of code throws the same exception from 2 different places. My test cases need to assert not just the exception class but also the message in it. In an ideal world, any abnormal behavior should have its own exception.If that had been the case, my question would never arise but production applications donot have their unique custom exception for each abnormal behavior."},{"owner":{"account_id":122311,"reputation":7485,"user_id":316041,"accept_rate":75,"display_name":"bancer"},"score":0,"creation_date":1580643476,"post_id":2469911,"comment_id":106157638,"body_markdown":"As a side note - there is `@expectedExceptionMessage` annotation in PHPUnit.","body":"As a side note - there is <code>@expectedExceptionMessage</code> annotation in PHPUnit."}],"answers":[{"comments":[{"owner":{"account_id":27913,"reputation":5642,"user_id":74098,"accept_rate":69,"display_name":"Cshah"},"score":8,"creation_date":1269182569,"post_id":2480814,"comment_id":2480196,"body_markdown":"I m aware of writing a catch block and using assert within that but for better code readability i want to do with annotations.","body":"I m aware of writing a catch block and using assert within that but for better code readability i want to do with annotations."},{"owner":{"account_id":2617274,"reputation":6112,"user_id":2266098,"accept_rate":72,"display_name":"NeplatnyUdaj"},"score":1,"creation_date":1382014103,"post_id":2480814,"comment_id":28800803,"body_markdown":"Also you won&#39;t get such nice message as when doing it the &quot;right&quot; way.","body":"Also you won&#39;t get such nice message as when doing it the &quot;right&quot; way."},{"owner":{"account_id":2777323,"reputation":4033,"user_id":2390644,"display_name":"William Price"},"score":19,"creation_date":1412184118,"post_id":2480814,"comment_id":40986277,"body_markdown":"The problem with the try/catch version, now that JUnit provides `@Test(expected=...)` and `ExpectedException`, is that I have seen on numerous occasions someone _forgetting to put the call to `fail()` at the end of the `try` block_.  If not caught by code review, your test may be false-positive and always pass.","body":"The problem with the try/catch version, now that JUnit provides <code>@Test(expected=...)</code> and <code>ExpectedException</code>, is that I have seen on numerous occasions someone <i>forgetting to put the call to <code>fail()</code> at the end of the <code>try</code> block</i>.  If not caught by code review, your test may be false-positive and always pass."},{"owner":{"account_id":367746,"reputation":24129,"user_id":714112,"accept_rate":80,"display_name":"Sridhar Sarnobat"},"score":1,"creation_date":1483727061,"post_id":2480814,"comment_id":70229828,"body_markdown":"This is why I don&#39;t like all this declarative stuff. It makes it difficult to access what you want.","body":"This is why I don&#39;t like all this declarative stuff. It makes it difficult to access what you want."}],"tags":[],"owner":{"account_id":112219,"reputation":19256,"user_id":296106,"accept_rate":75,"display_name":"c_maker"},"comment_count":4,"down_vote_count":7,"up_vote_count":45,"is_accepted":false,"score":38,"last_activity_date":1385351788,"creation_date":1269035587,"answer_id":2480814,"question_id":2469911,"body_markdown":"Do you have to use `@Test(expected=SomeException.class)`? When we have to assert the actual message of the exception, this is what we do.\r\n\r\n    @Test\r\n    public void myTestMethod()\r\n    {\r\n      try\r\n      {\r\n        final Integer employeeId = null;\r\n        new Employee(employeeId);\r\n        fail(&quot;Should have thrown SomeException but did not!&quot;);\r\n      }\r\n      catch( final SomeException e )\r\n      {\r\n        final String msg = &quot;Employee ID is null&quot;;\r\n        assertEquals(msg, e.getMessage());\r\n      }\r\n    }","title":"How do I assert my exception message with JUnit Test annotation?","body":"<p>Do you have to use <code>@Test(expected=SomeException.class)</code>? When we have to assert the actual message of the exception, this is what we do.</p>\n\n<pre><code>@Test\npublic void myTestMethod()\n{\n  try\n  {\n    final Integer employeeId = null;\n    new Employee(employeeId);\n    fail(\"Should have thrown SomeException but did not!\");\n  }\n  catch( final SomeException e )\n  {\n    final String msg = \"Employee ID is null\";\n    assertEquals(msg, e.getMessage());\n  }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":478953,"reputation":1909,"user_id":891338,"accept_rate":91,"display_name":"redDevil"},"score":2,"creation_date":1448788998,"post_id":6527990,"comment_id":55718283,"body_markdown":"Note: For me when the `expectMessage` was specified as an empty string, the comparison for the message was not performed","body":"Note: For me when the <code>expectMessage</code> was specified as an empty string, the comparison for the message was not performed"},{"owner":{"account_id":1301739,"reputation":157,"user_id":1251489,"display_name":"Bumbolt"},"score":1,"creation_date":1448972119,"post_id":6527990,"comment_id":55795289,"body_markdown":"Useful to me. Thanks. \n\nThe testmethod should have `throws RuntimeException` after adding code that throws an exception.\n\nDo not catch it...","body":"Useful to me. Thanks.   The testmethod should have <code>throws RuntimeException</code> after adding code that throws an exception.  Do not catch it..."},{"owner":{"account_id":367746,"reputation":24129,"user_id":714112,"accept_rate":80,"display_name":"Sridhar Sarnobat"},"score":6,"creation_date":1469221632,"post_id":6527990,"comment_id":64464256,"body_markdown":"I personally wouldn&#39;t want to use this since creating fields for the purpose of a small subset of methods is bad practice. Not a criticism of the response, but of JUnit&#39;s design. The OP&#39;s hypothetical solution would be so much better if it existed.","body":"I personally wouldn&#39;t want to use this since creating fields for the purpose of a small subset of methods is bad practice. Not a criticism of the response, but of JUnit&#39;s design. The OP&#39;s hypothetical solution would be so much better if it existed."},{"owner":{"account_id":6400795,"reputation":344,"user_id":4963534,"display_name":"tuan.dinh"},"score":2,"creation_date":1482888510,"post_id":6527990,"comment_id":69910336,"body_markdown":"@redDevil: The expectedMessage checks if the error message &quot;contains&quot; the string specified in this function (like a substring of the error message)","body":"@redDevil: The expectedMessage checks if the error message &quot;contains&quot; the string specified in this function (like a substring of the error message)"},{"owner":{"account_id":1408086,"reputation":3786,"user_id":1335245,"accept_rate":80,"display_name":"Charney Kaye"},"score":0,"creation_date":1493666734,"post_id":6527990,"comment_id":74493953,"body_markdown":"Excellent solution, for readability. I call mine e.g. `failure.expectMessage(...)`","body":"Excellent solution, for readability. I call mine e.g. <code>failure.expectMessage(...)</code>"},{"owner":{"account_id":527903,"reputation":2938,"user_id":1605852,"display_name":"Sivabalan"},"score":4,"creation_date":1496113663,"post_id":6527990,"comment_id":75513924,"body_markdown":"expectMessage with string parameter does a String.contains checking, for exact match of exception message use hamcrest matcher `failure.expectMessage(CoreMatchers.equalTo(...))`","body":"expectMessage with string parameter does a String.contains checking, for exact match of exception message use hamcrest matcher <code>failure.expectMessage(CoreMatchers.equalTo(...))</code>"},{"owner":{"account_id":3572865,"reputation":2148,"user_id":2982798,"display_name":"heroin"},"score":5,"creation_date":1590851700,"post_id":6527990,"comment_id":109840233,"body_markdown":"`ExpectedException.none()` is deprecated since Junit 4.13","body":"<code>ExpectedException.none()</code> is deprecated since Junit 4.13"},{"owner":{"account_id":2043806,"reputation":4771,"user_id":2118777,"display_name":"Pipo"},"score":0,"creation_date":1630588314,"post_id":6527990,"comment_id":122002063,"body_markdown":"@heroin should have provided the replacement ;)","body":"@heroin should have provided the replacement ;)"},{"owner":{"account_id":2043806,"reputation":4771,"user_id":2118777,"display_name":"Pipo"},"score":0,"creation_date":1630588377,"post_id":6527990,"comment_id":122002098,"body_markdown":"`ExpectedException.none()` Deprecated. Since 4.13 Assert.assertThrows can be used to verify that your code throws a specific exception.","body":"<code>ExpectedException.none()</code> Deprecated. Since 4.13 Assert.assertThrows can be used to verify that your code throws a specific exception."}],"tags":[],"owner":{"account_id":37030,"reputation":6229,"user_id":105782,"display_name":"Jesse Merriman"},"comment_count":9,"down_vote_count":1,"up_vote_count":583,"is_accepted":true,"score":582,"last_activity_date":1568284913,"creation_date":1309386367,"answer_id":6527990,"question_id":2469911,"body_markdown":"You could use the [`@Rule`][1] annotation with [`ExpectedException`][2], like this:\r\n\r\n    @Rule\r\n    public ExpectedException expectedEx = ExpectedException.none();\r\n\r\n    @Test\r\n    public void shouldThrowRuntimeExceptionWhenEmployeeIDisNull() throws Exception {\r\n        expectedEx.expect(RuntimeException.class);\r\n        expectedEx.expectMessage(&quot;Employee ID is null&quot;);\r\n        \r\n        // do something that should throw the exception...\r\n        System.out.println(&quot;=======Starting Exception process=======&quot;);\r\n        throw new NullPointerException(&quot;Employee ID is null&quot;);\r\n    }\r\n\r\nNote that the example in the `ExpectedException` docs is (currently) wrong - there&#39;s no public constructor, so you have to use `ExpectedException.none()`.\r\n\r\n  [1]: http://junit.org/javadoc/latest/org/junit/Rule.html\r\n  [2]: http://junit.org/javadoc/latest/org/junit/rules/ExpectedException.html","title":"How do I assert my exception message with JUnit Test annotation?","body":"<p>You could use the <a href=\"http://junit.org/javadoc/latest/org/junit/Rule.html\" rel=\"noreferrer\"><code>@Rule</code></a> annotation with <a href=\"http://junit.org/javadoc/latest/org/junit/rules/ExpectedException.html\" rel=\"noreferrer\"><code>ExpectedException</code></a>, like this:</p>\n\n<pre><code>@Rule\npublic ExpectedException expectedEx = ExpectedException.none();\n\n@Test\npublic void shouldThrowRuntimeExceptionWhenEmployeeIDisNull() throws Exception {\n    expectedEx.expect(RuntimeException.class);\n    expectedEx.expectMessage(\"Employee ID is null\");\n\n    // do something that should throw the exception...\n    System.out.println(\"=======Starting Exception process=======\");\n    throw new NullPointerException(\"Employee ID is null\");\n}\n</code></pre>\n\n<p>Note that the example in the <code>ExpectedException</code> docs is (currently) wrong - there's no public constructor, so you have to use <code>ExpectedException.none()</code>.</p>\n"},{"comments":[{"owner":{"account_id":3315185,"reputation":774,"user_id":3076107,"display_name":"Egl"},"score":2,"creation_date":1475145796,"post_id":26057172,"comment_id":66830538,"body_markdown":"Using Jesse Merriman response, the exception is only checked in test methods that call to expectedEx.expect() and expectedEx.expectMessage(). The other methods will use the definition expectedEx = ExpectedException.none(), that is, no exception expected.","body":"Using Jesse Merriman response, the exception is only checked in test methods that call to expectedEx.expect() and expectedEx.expectMessage(). The other methods will use the definition expectedEx = ExpectedException.none(), that is, no exception expected."}],"tags":[],"owner":{"account_id":5089332,"reputation":97,"user_id":4082878,"display_name":"Jyothi"},"comment_count":1,"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1411726394,"creation_date":1411726394,"answer_id":26057172,"question_id":2469911,"body_markdown":"If using @Rule, the exception set is applied to all the test methods in the Test class. ","title":"How do I assert my exception message with JUnit Test annotation?","body":"<p>If using @Rule, the exception set is applied to all the test methods in the Test class. </p>\n"},{"comments":[{"owner":{"account_id":15833778,"reputation":319,"user_id":11424259,"display_name":"janusz j"},"score":2,"creation_date":1601464901,"post_id":30873448,"comment_id":113415103,"body_markdown":"(expected = RuntimeException.class) and throw re; are not neccessary;. There should be just method which throws exception within try and in catch assertions.","body":"(expected = RuntimeException.class) and throw re; are not neccessary;. There should be just method which throws exception within try and in catch assertions."},{"owner":{"account_id":14327337,"reputation":159,"user_id":10349064,"display_name":"Lansorian"},"score":0,"creation_date":1611556756,"post_id":30873448,"comment_id":116479730,"body_markdown":"@janusz j: I personally prefer to leave the `(expected...` and `throw re;` lines, but remove the `fail(...` line. Can you or anyone else please tell me why my preference is/isn&#39;t a good practice?","body":"@janusz j: I personally prefer to leave the <code>(expected...</code> and <code>throw re;</code> lines, but remove the <code>fail(...</code> line. Can you or anyone else please tell me why my preference is/isn&#39;t a good practice?"},{"owner":{"account_id":15833778,"reputation":319,"user_id":11424259,"display_name":"janusz j"},"score":1,"creation_date":1611578836,"post_id":30873448,"comment_id":116488818,"body_markdown":"within try catch, you catch exception wherever you want. When you have for ex: same Exception types throwing in different places you won&#39;t get to know where it has been thrown.","body":"within try catch, you catch exception wherever you want. When you have for ex: same Exception types throwing in different places you won&#39;t get to know where it has been thrown."},{"owner":{"account_id":14327337,"reputation":159,"user_id":10349064,"display_name":"Lansorian"},"score":0,"creation_date":1611658077,"post_id":30873448,"comment_id":116515755,"body_markdown":"@janusz j: Thank you and I see. In other words, if my test method has 0 line of code outside the try catch block, it would be fine?","body":"@janusz j: Thank you and I see. In other words, if my test method has 0 line of code outside the try catch block, it would be fine?"}],"tags":[],"owner":{"account_id":333463,"reputation":6290,"user_id":659354,"accept_rate":81,"display_name":"Raystorm"},"comment_count":4,"down_vote_count":7,"up_vote_count":72,"is_accepted":false,"score":65,"last_activity_date":1478884079,"creation_date":1434472909,"answer_id":30873448,"question_id":2469911,"body_markdown":"I like the [`@Rule`](https://stackoverflow.com/a/6527990/659354) answer. However, if for some reason you don&#39;t want to use rules. There is a third option.\r\n\r\n    @Test (expected = RuntimeException.class)\r\n    public void myTestMethod()\r\n    {\r\n       try\r\n       {\r\n          //Run exception throwing operation here\r\n       }\r\n       catch(RuntimeException re)\r\n       {\r\n          String message = &quot;Employee ID is null&quot;;\r\n          assertEquals(message, re.getMessage());\r\n          throw re;\r\n        }\r\n        fail(&quot;Employee Id Null exception did not throw!&quot;);\r\n      }","title":"How do I assert my exception message with JUnit Test annotation?","body":"<p>I like the <a href=\"https://stackoverflow.com/a/6527990/659354\"><code>@Rule</code></a> answer. However, if for some reason you don't want to use rules. There is a third option.</p>\n\n<pre><code>@Test (expected = RuntimeException.class)\npublic void myTestMethod()\n{\n   try\n   {\n      //Run exception throwing operation here\n   }\n   catch(RuntimeException re)\n   {\n      String message = \"Employee ID is null\";\n      assertEquals(message, re.getMessage());\n      throw re;\n    }\n    fail(\"Employee Id Null exception did not throw!\");\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":470389,"reputation":5211,"user_id":877570,"accept_rate":40,"display_name":"user64141"},"comment_count":0,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1439487574,"creation_date":1439487574,"answer_id":31994986,"question_id":2469911,"body_markdown":"Raystorm had a good answer.  I&#39;m not a big fan of Rules either.  I do something similar, except that I create the following utility class to help readability and usability, which is one of the big plus&#39;es of annotations in the first place.  \r\n\r\nAdd this utility class:\r\n\r\n    import org.junit.Assert;\r\n    \r\n    public abstract class ExpectedRuntimeExceptionAsserter {\r\n    \r\n        private String expectedExceptionMessage;\r\n    \r\n        public ExpectedRuntimeExceptionAsserter(String expectedExceptionMessage) {\r\n            this.expectedExceptionMessage = expectedExceptionMessage;\r\n        }\r\n    \r\n        public final void run(){\r\n            try{\r\n                expectException();\r\n                Assert.fail(String.format(&quot;Expected a RuntimeException &#39;%s&#39;&quot;, expectedExceptionMessage));\r\n            } catch (RuntimeException e){\r\n                Assert.assertEquals(&quot;RuntimeException caught, but unexpected message&quot;, expectedExceptionMessage, e.getMessage());\r\n            }\r\n        }\r\n    \r\n        protected abstract void expectException();\r\n    \r\n    }\r\n\r\n\r\nThen for my unit test, all I need is this code:\r\n\r\n    @Test\r\n    public void verifyAnonymousUserCantAccessPrivilegedResourceTest(){\r\n        new ExpectedRuntimeExceptionAsserter(&quot;anonymous user can&#39;t access privileged resource&quot;){\r\n            @Override\r\n            protected void expectException() {\r\n                throw new RuntimeException(&quot;anonymous user can&#39;t access privileged resource&quot;);\r\n            }\r\n        }.run(); //passes test; expected exception is caught, and this @Test returns normally as &quot;Passed&quot;\r\n    }\r\n\r\n\r\n\r\n","title":"How do I assert my exception message with JUnit Test annotation?","body":"<p>Raystorm had a good answer.  I'm not a big fan of Rules either.  I do something similar, except that I create the following utility class to help readability and usability, which is one of the big plus'es of annotations in the first place.  </p>\n\n<p>Add this utility class:</p>\n\n<pre><code>import org.junit.Assert;\n\npublic abstract class ExpectedRuntimeExceptionAsserter {\n\n    private String expectedExceptionMessage;\n\n    public ExpectedRuntimeExceptionAsserter(String expectedExceptionMessage) {\n        this.expectedExceptionMessage = expectedExceptionMessage;\n    }\n\n    public final void run(){\n        try{\n            expectException();\n            Assert.fail(String.format(\"Expected a RuntimeException '%s'\", expectedExceptionMessage));\n        } catch (RuntimeException e){\n            Assert.assertEquals(\"RuntimeException caught, but unexpected message\", expectedExceptionMessage, e.getMessage());\n        }\n    }\n\n    protected abstract void expectException();\n\n}\n</code></pre>\n\n<p>Then for my unit test, all I need is this code:</p>\n\n<pre><code>@Test\npublic void verifyAnonymousUserCantAccessPrivilegedResourceTest(){\n    new ExpectedRuntimeExceptionAsserter(\"anonymous user can't access privileged resource\"){\n        @Override\n        protected void expectException() {\n            throw new RuntimeException(\"anonymous user can't access privileged resource\");\n        }\n    }.run(); //passes test; expected exception is caught, and this @Test returns normally as \"Passed\"\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":367746,"reputation":24129,"user_id":714112,"accept_rate":80,"display_name":"Sridhar Sarnobat"},"score":0,"creation_date":1469221772,"post_id":32068319,"comment_id":64464304,"body_markdown":"Sadly, this is my answer too.","body":"Sadly, this is my answer too."},{"owner":{"account_id":69301,"reputation":10391,"user_id":201722,"accept_rate":95,"display_name":"luis.espinal"},"score":2,"creation_date":1475588477,"post_id":32068319,"comment_id":66995563,"body_markdown":"The concerns regarding code changes are alleviated by having small, permutation-specific test cases. Sometimes it is inevitable and we have to rely in the catch/try method, but if that happens frequently, then chances are that we need to revise the way we write our test case functions.","body":"The concerns regarding code changes are alleviated by having small, permutation-specific test cases. Sometimes it is inevitable and we have to rely in the catch/try method, but if that happens frequently, then chances are that we need to revise the way we write our test case functions."},{"owner":{"account_id":1746184,"reputation":418,"user_id":1596352,"display_name":"DennisK"},"score":0,"creation_date":1479293569,"post_id":32068319,"comment_id":68493149,"body_markdown":"That&#39;s a problem with your test and/or code. You do NOT expect a general RuntimeException, you expect a specific exception, or at the very least a specific message.","body":"That&#39;s a problem with your test and/or code. You do NOT expect a general RuntimeException, you expect a specific exception, or at the very least a specific message."},{"owner":{"account_id":314815,"reputation":361,"user_id":630212,"display_name":"Krzysztof Cislo"},"score":0,"creation_date":1480847270,"post_id":32068319,"comment_id":69124560,"body_markdown":"I used `RuntimeException` as an example, replace this exception with any other exception.","body":"I used <code>RuntimeException</code> as an example, replace this exception with any other exception."}],"tags":[],"owner":{"account_id":314815,"reputation":361,"user_id":630212,"display_name":"Krzysztof Cislo"},"comment_count":4,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1439889504,"creation_date":1439889504,"answer_id":32068319,"question_id":2469911,"body_markdown":"Actually, the best usage is with try/catch. Why? Because you can control the place where you expect the exception.\r\n\r\nConsider this example:\r\n\r\n    @Test (expected = RuntimeException.class)\r\n    public void someTest() {\r\n       // test preparation\r\n       // actual test\r\n    }\r\n\r\nWhat if one day the code is modified and test preparation will throw a RuntimeException? In that case actual test is not even tested and even if it doesn&#39;t throw any exception the test will pass.\r\n\r\nThat is why it is much better to use try/catch than to rely on the annotation.","title":"How do I assert my exception message with JUnit Test annotation?","body":"<p>Actually, the best usage is with try/catch. Why? Because you can control the place where you expect the exception.</p>\n\n<p>Consider this example:</p>\n\n<pre><code>@Test (expected = RuntimeException.class)\npublic void someTest() {\n   // test preparation\n   // actual test\n}\n</code></pre>\n\n<p>What if one day the code is modified and test preparation will throw a RuntimeException? In that case actual test is not even tested and even if it doesn't throw any exception the test will pass.</p>\n\n<p>That is why it is much better to use try/catch than to rely on the annotation.</p>\n"},{"tags":[],"owner":{"account_id":5444810,"reputation":3671,"user_id":4331750,"accept_rate":83,"display_name":"whistling_marmot"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1506678552,"creation_date":1506678552,"answer_id":46486234,"question_id":2469911,"body_markdown":"Import the [catch-exception](https://github.com/Codearte/catch-exception) library, and use that. It&#39;s much cleaner than the `ExpectedException` rule or a `try-catch`.\r\n\r\nExample form their docs:\r\n\r\n\timport static com.googlecode.catchexception.CatchException.*;\r\n\timport static com.googlecode.catchexception.apis.CatchExceptionHamcrestMatchers.*;\r\n\r\n\t// given: an empty list\r\n\tList myList = new ArrayList();\r\n\r\n\t// when: we try to get the first element of the list\r\n\tcatchException(myList).get(1);\r\n\r\n\t// then: we expect an IndexOutOfBoundsException with message &quot;Index: 1, Size: 0&quot;\r\n\tassertThat(caughtException(),\r\n\t  allOf(\r\n\t\tinstanceOf(IndexOutOfBoundsException.class),\r\n\t\thasMessage(&quot;Index: 1, Size: 0&quot;),\r\n\t\thasNoCause()\r\n\t  )\r\n\t);","title":"How do I assert my exception message with JUnit Test annotation?","body":"<p>Import the <a href=\"https://github.com/Codearte/catch-exception\" rel=\"nofollow noreferrer\">catch-exception</a> library, and use that. It's much cleaner than the <code>ExpectedException</code> rule or a <code>try-catch</code>.</p>\n\n<p>Example form their docs:</p>\n\n<pre><code>import static com.googlecode.catchexception.CatchException.*;\nimport static com.googlecode.catchexception.apis.CatchExceptionHamcrestMatchers.*;\n\n// given: an empty list\nList myList = new ArrayList();\n\n// when: we try to get the first element of the list\ncatchException(myList).get(1);\n\n// then: we expect an IndexOutOfBoundsException with message \"Index: 1, Size: 0\"\nassertThat(caughtException(),\n  allOf(\n    instanceOf(IndexOutOfBoundsException.class),\n    hasMessage(\"Index: 1, Size: 0\"),\n    hasNoCause()\n  )\n);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6621356,"reputation":666,"user_id":5260804,"accept_rate":33,"display_name":"Addison Crump"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1515678396,"creation_date":1515678396,"answer_id":48208548,"question_id":2469911,"body_markdown":"I like user64141&#39;s answer but found that it could be more generalized. Here&#39;s my take:\r\n\r\n    public abstract class ExpectedThrowableAsserter implements Runnable {\r\n    \r\n        private final Class&lt;? extends Throwable&gt; throwableClass;\r\n        private final String expectedExceptionMessage;\r\n    \r\n        protected ExpectedThrowableAsserter(Class&lt;? extends Throwable&gt; throwableClass, String expectedExceptionMessage) {\r\n            this.throwableClass = throwableClass;\r\n            this.expectedExceptionMessage = expectedExceptionMessage;\r\n        }\r\n    \r\n        public final void run() {\r\n            try {\r\n                expectException();\r\n            } catch (Throwable e) {\r\n                assertTrue(String.format(&quot;Caught unexpected %s&quot;, e.getClass().getSimpleName()), throwableClass.isInstance(e));\r\n                assertEquals(String.format(&quot;%s caught, but unexpected message&quot;, throwableClass.getSimpleName()), expectedExceptionMessage, e.getMessage());\r\n                return;\r\n            }\r\n            fail(String.format(&quot;Expected %s, but no exception was thrown.&quot;, throwableClass.getSimpleName()));\r\n        }\r\n    \r\n        protected abstract void expectException();\r\n    \r\n    }\r\n\r\nNote that leaving the &quot;fail&quot; statement within the try block causes the related assertion exception to be caught; using return within the catch statement prevents this.","title":"How do I assert my exception message with JUnit Test annotation?","body":"<p>I like user64141's answer but found that it could be more generalized. Here's my take:</p>\n\n<pre><code>public abstract class ExpectedThrowableAsserter implements Runnable {\n\n    private final Class&lt;? extends Throwable&gt; throwableClass;\n    private final String expectedExceptionMessage;\n\n    protected ExpectedThrowableAsserter(Class&lt;? extends Throwable&gt; throwableClass, String expectedExceptionMessage) {\n        this.throwableClass = throwableClass;\n        this.expectedExceptionMessage = expectedExceptionMessage;\n    }\n\n    public final void run() {\n        try {\n            expectException();\n        } catch (Throwable e) {\n            assertTrue(String.format(\"Caught unexpected %s\", e.getClass().getSimpleName()), throwableClass.isInstance(e));\n            assertEquals(String.format(\"%s caught, but unexpected message\", throwableClass.getSimpleName()), expectedExceptionMessage, e.getMessage());\n            return;\n        }\n        fail(String.format(\"Expected %s, but no exception was thrown.\", throwableClass.getSimpleName()));\n    }\n\n    protected abstract void expectException();\n\n}\n</code></pre>\n\n<p>Note that leaving the \"fail\" statement within the try block causes the related assertion exception to be caught; using return within the catch statement prevents this.</p>\n"},{"comments":[{"owner":{"account_id":5745825,"reputation":11553,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"score":3,"creation_date":1557310677,"post_id":52085072,"comment_id":98719067,"body_markdown":"Like this solution. Should move to JUnit 5.","body":"Like this solution. Should move to JUnit 5."},{"owner":{"account_id":74886,"reputation":26643,"user_id":214977,"accept_rate":69,"display_name":"granadaCoder"},"score":0,"creation_date":1570709751,"post_id":52085072,"comment_id":103004035,"body_markdown":"Gaaaaaaaaa.  4.13 still in beta as of today (Fall, 2019)?  https://mvnrepository.com/artifact/junit/junit","body":"Gaaaaaaaaa.  4.13 still in beta as of today (Fall, 2019)?  <a href=\"https://mvnrepository.com/artifact/junit/junit\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/junit/junit</a>"},{"owner":{"account_id":6138516,"reputation":1357,"user_id":4786602,"display_name":"Simon"},"score":1,"creation_date":1591094390,"post_id":52085072,"comment_id":109918708,"body_markdown":"v4.13 is not in beta state anymore (release in January 2020)","body":"v4.13 is not in beta state anymore (release in January 2020)"},{"owner":{"account_id":3534438,"reputation":1001,"user_id":2953109,"accept_rate":100,"display_name":"vdimitrov"},"score":4,"creation_date":1613469147,"post_id":52085072,"comment_id":117077824,"body_markdown":"Since `assertThrows` is available in JUnit 4.13, this should be the accepted answer","body":"Since <code>assertThrows</code> is available in JUnit 4.13, this should be the accepted answer"},{"owner":{"account_id":3548963,"reputation":301,"user_id":2964696,"display_name":"Jules Kerssemakers"},"score":2,"creation_date":1620131443,"post_id":52085072,"comment_id":119105026,"body_markdown":"I was already using 4.13 `assertThrows`, but did not yet know that it `return`s the exception for subsequent inspection. +1, exactly what I needed :-D","body":"I was already using 4.13 <code>assertThrows</code>, but did not yet know that it <code>return</code>s the exception for subsequent inspection. +1, exactly what I needed :-D"}],"tags":[],"owner":{"account_id":279256,"reputation":3581,"user_id":574317,"display_name":"Johan Boberg"},"comment_count":5,"down_vote_count":0,"up_vote_count":121,"is_accepted":false,"score":121,"last_activity_date":1578142333,"creation_date":1535572057,"answer_id":52085072,"question_id":2469911,"body_markdown":"In JUnit 4.13 you can do:\r\n\r\n    import static org.junit.Assert.assertEquals;\r\n    import static org.junit.Assert.assertThrows;\r\n\r\n    ...\r\n\r\n    @Test\r\n    void exceptionTesting() {\r\n      IllegalArgumentException exception = assertThrows(\r\n        IllegalArgumentException.class, \r\n        () -&gt; { throw new IllegalArgumentException(&quot;a message&quot;); }\r\n      );\r\n\r\n      assertEquals(&quot;a message&quot;, exception.getMessage());\r\n    }\r\n\r\nThis also works in [JUnit 5][1] but with different imports:\r\n\r\n    import static org.junit.jupiter.api.Assertions.assertEquals;\r\n    import static org.junit.jupiter.api.Assertions.assertThrows;\r\n\r\n    ...\r\n\r\n\r\n  [1]: https://junit.org/junit5/docs/current/user-guide/#writing-tests-assertions","title":"How do I assert my exception message with JUnit Test annotation?","body":"<p>In JUnit 4.13 you can do:</p>\n\n<pre><code>import static org.junit.Assert.assertEquals;\nimport static org.junit.Assert.assertThrows;\n\n...\n\n@Test\nvoid exceptionTesting() {\n  IllegalArgumentException exception = assertThrows(\n    IllegalArgumentException.class, \n    () -&gt; { throw new IllegalArgumentException(\"a message\"); }\n  );\n\n  assertEquals(\"a message\", exception.getMessage());\n}\n</code></pre>\n\n<p>This also works in <a href=\"https://junit.org/junit5/docs/current/user-guide/#writing-tests-assertions\" rel=\"noreferrer\">JUnit 5</a> but with different imports:</p>\n\n<pre><code>import static org.junit.jupiter.api.Assertions.assertEquals;\nimport static org.junit.jupiter.api.Assertions.assertThrows;\n\n...\n</code></pre>\n"},{"comments":[{"owner":{"account_id":440986,"reputation":444,"user_id":830861,"display_name":"aasha"},"score":0,"creation_date":1578042725,"post_id":57321137,"comment_id":105318374,"body_markdown":"Can someone help me understand why this answer is a -1","body":"Can someone help me understand why this answer is a -1"},{"owner":{"account_id":5185469,"reputation":355,"user_id":4149986,"accept_rate":70,"display_name":"Huazhe Yin"},"score":1,"creation_date":1582565690,"post_id":57321137,"comment_id":106813240,"body_markdown":"The question is asking for `Junit` but ur answer is giving `TestNG`","body":"The question is asking for <code>Junit</code> but ur answer is giving <code>TestNG</code>"},{"owner":{"account_id":7442315,"reputation":501,"user_id":6462836,"accept_rate":40,"display_name":"saurabh gupta"},"score":0,"creation_date":1641311411,"post_id":57321137,"comment_id":124769619,"body_markdown":"@aasha Your answer indeed helped me. Thanks.","body":"@aasha Your answer indeed helped me. Thanks."}],"tags":[],"owner":{"account_id":440986,"reputation":444,"user_id":830861,"display_name":"aasha"},"comment_count":3,"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1564727882,"creation_date":1564727882,"answer_id":57321137,"question_id":2469911,"body_markdown":"    @Test (expectedExceptions = ValidationException.class, expectedExceptionsMessageRegExp = &quot;This is not allowed&quot;)\r\n    public void testInvalidValidation() throws Exception{\r\n         //test code\r\n    }","title":"How do I assert my exception message with JUnit Test annotation?","body":"<pre><code>@Test (expectedExceptions = ValidationException.class, expectedExceptionsMessageRegExp = \"This is not allowed\")\npublic void testInvalidValidation() throws Exception{\n     //test code\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16959819,"reputation":194,"user_id":12267209,"display_name":"geeksusma"},"comment_count":0,"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1572967970,"creation_date":1572967970,"answer_id":58714622,"question_id":2469911,"body_markdown":"I never liked the way of asserting exceptions with Junit. If I use the &quot;expected&quot; in the annotation, seems from my point of view we&#39;re violating the &quot;given, when, then&quot; pattern because the &quot;then&quot; is placed at the top of the test definition.\r\n\r\nAlso, if we use &quot;@Rule&quot;, we have to deal with so much boilerplate code. So, if you can install new libraries for your tests, I&#39;d suggest to have a look to the AssertJ (that library now comes with SpringBoot)\r\n\r\nThen a test which is not violating the &quot;given/when/then&quot; principles, and it is done using AssertJ to verify:\r\n\r\n1 - The exception is what we&#39;re expecting.\r\n2 - It has also an expected message\r\n\r\nWill look like this:\r\n\r\n     @Test\r\n    void should_throwIllegalUse_when_idNotGiven() {\r\n\r\n        //when\r\n        final Throwable raisedException = catchThrowable(() -&gt; getUserDAO.byId(null));\r\n\r\n        //then\r\n        assertThat(raisedException).isInstanceOf(IllegalArgumentException.class)\r\n                .hasMessageContaining(&quot;Id to fetch is mandatory&quot;);\r\n    }","title":"How do I assert my exception message with JUnit Test annotation?","body":"<p>I never liked the way of asserting exceptions with Junit. If I use the \"expected\" in the annotation, seems from my point of view we're violating the \"given, when, then\" pattern because the \"then\" is placed at the top of the test definition.</p>\n\n<p>Also, if we use \"@Rule\", we have to deal with so much boilerplate code. So, if you can install new libraries for your tests, I'd suggest to have a look to the AssertJ (that library now comes with SpringBoot)</p>\n\n<p>Then a test which is not violating the \"given/when/then\" principles, and it is done using AssertJ to verify:</p>\n\n<p>1 - The exception is what we're expecting.\n2 - It has also an expected message</p>\n\n<p>Will look like this:</p>\n\n<pre><code> @Test\nvoid should_throwIllegalUse_when_idNotGiven() {\n\n    //when\n    final Throwable raisedException = catchThrowable(() -&gt; getUserDAO.byId(null));\n\n    //then\n    assertThat(raisedException).isInstanceOf(IllegalArgumentException.class)\n            .hasMessageContaining(\"Id to fetch is mandatory\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9641278,"reputation":1707,"user_id":7155432,"display_name":"VaibS"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1604513360,"creation_date":1604513360,"answer_id":64685483,"question_id":2469911,"body_markdown":"I would prefer AssertJ for this.\r\n\r\n            assertThatExceptionOfType(ExpectedException.class)\r\n            .isThrownBy(() -&gt; {\r\n                // method call\r\n            }).withMessage(&quot;My message&quot;);","title":"How do I assert my exception message with JUnit Test annotation?","body":"<p>I would prefer AssertJ for this.</p>\n<pre><code>        assertThatExceptionOfType(ExpectedException.class)\n        .isThrownBy(() -&gt; {\n            // method call\n        }).withMessage(&quot;My message&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3000988,"reputation":728,"user_id":2546511,"display_name":"Ashish Lahoti"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1678014936,"creation_date":1678014936,"answer_id":75641831,"question_id":2469911,"body_markdown":"Let&#39;s say, we have a method `doStuff` in the class `FooService`. This method can throw a *NullPointerException* when a **null** flag is passed in the argument. \r\n\r\n```java\r\npublic class FooService {\r\n\r\n  public void doStuff(Boolean flag) {\r\n    try{\r\n      if(flag){\r\n        // do stuff\r\n      }\r\n    }catch (Exception e){\r\n      throw new RuntimeException(&quot;Unexpected error occurred&quot;, e);\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n## Using Junit 5\r\nJunit 5 `assertThrows` returns exception, which can be used to assert exception message as per below example:-\r\n```java\r\nimport static org.junit.jupiter.api.Assertions.*;\r\n\r\n@Test\r\npublic void doStuff_testThrownException(){   \r\n    // null is passed, expected NullPointerException\r\n    Throwable exception = assertThrows(RuntimeException.class, () -&gt; fooService.doStuff(null)); \r\n\r\n    assertEquals(&quot;Unexpected error occurred&quot;, exception.getMessage());\r\n}\r\n```\r\n\r\n## Using AssertJ\r\n\r\nAssertJ has various assertions to test exception, one of them is `assertThatRuntimeException` which can be chained with `withMessage` to test exception message\r\n\r\n```java\r\nimport static org.assertj.core.api.Assertions.*;\r\n\r\n@Test\r\npublic void doStuff_testThrownException(){\r\n  // null is passed, expected NullPointerException\r\n  assertThatRuntimeException().isThrownBy(() -&gt; fooService.doStuff(null))\r\n          .withMessage(&quot;Unexpected error occurred&quot;);\r\n}\r\n```\r\n\r\n&gt; Source: [CodingNConcepts](https://codingnconcepts.com/java/java-test-assert-thrown-exception/)\r\n","title":"How do I assert my exception message with JUnit Test annotation?","body":"<p>Let's say, we have a method <code>doStuff</code> in the class <code>FooService</code>. This method can throw a <em>NullPointerException</em> when a <strong>null</strong> flag is passed in the argument.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class FooService {\n\n  public void doStuff(Boolean flag) {\n    try{\n      if(flag){\n        // do stuff\n      }\n    }catch (Exception e){\n      throw new RuntimeException(&quot;Unexpected error occurred&quot;, e);\n    }\n  }\n}\n</code></pre>\n<h2>Using Junit 5</h2>\n<p>Junit 5 <code>assertThrows</code> returns exception, which can be used to assert exception message as per below example:-</p>\n<pre class=\"lang-java prettyprint-override\"><code>import static org.junit.jupiter.api.Assertions.*;\n\n@Test\npublic void doStuff_testThrownException(){   \n    // null is passed, expected NullPointerException\n    Throwable exception = assertThrows(RuntimeException.class, () -&gt; fooService.doStuff(null)); \n\n    assertEquals(&quot;Unexpected error occurred&quot;, exception.getMessage());\n}\n</code></pre>\n<h2>Using AssertJ</h2>\n<p>AssertJ has various assertions to test exception, one of them is <code>assertThatRuntimeException</code> which can be chained with <code>withMessage</code> to test exception message</p>\n<pre class=\"lang-java prettyprint-override\"><code>import static org.assertj.core.api.Assertions.*;\n\n@Test\npublic void doStuff_testThrownException(){\n  // null is passed, expected NullPointerException\n  assertThatRuntimeException().isThrownBy(() -&gt; fooService.doStuff(null))\n          .withMessage(&quot;Unexpected error occurred&quot;);\n}\n</code></pre>\n<blockquote>\n<p>Source: <a href=\"https://codingnconcepts.com/java/java-test-assert-thrown-exception/\" rel=\"noreferrer\">CodingNConcepts</a></p>\n</blockquote>\n"}],"owner":{"account_id":27913,"reputation":5642,"user_id":74098,"accept_rate":69,"display_name":"Cshah"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":340924,"favorite_count":0,"down_vote_count":1,"up_vote_count":390,"accepted_answer_id":6527990,"answer_count":13,"score":389,"last_activity_date":1678014936,"creation_date":1268916924,"question_id":2469911,"body_markdown":"I have written a few JUnit tests with ``@Test`` annotation. If my test method throws a checked exception and if I want to assert the message along with the exception, is there a way to do so with JUnit ``@Test`` annotation? AFAIK, JUnit 4.7 doesn&#39;t provide this feature but does any future versions provide it? I know in .NET you can assert the message and the exception class. Looking for similar feature in the Java world.\r\n\r\nThis is what I want:\r\n\r\n    @Test (expected = RuntimeException.class, message = &quot;Employee ID is null&quot;)\r\n    public void shouldThrowRuntimeExceptionWhenEmployeeIDisNull() {}","title":"How do I assert my exception message with JUnit Test annotation?","body":"<p>I have written a few JUnit tests with <code>@Test</code> annotation. If my test method throws a checked exception and if I want to assert the message along with the exception, is there a way to do so with JUnit <code>@Test</code> annotation? AFAIK, JUnit 4.7 doesn't provide this feature but does any future versions provide it? I know in .NET you can assert the message and the exception class. Looking for similar feature in the Java world.</p>\n\n<p>This is what I want:</p>\n\n<pre><code>@Test (expected = RuntimeException.class, message = \"Employee ID is null\")\npublic void shouldThrowRuntimeExceptionWhenEmployeeIDisNull() {}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1353729600,"post_id":13538097,"comment_id":18538952,"body_markdown":"1+ for not asking for the code solution. This is the right attitude!","body":"1+ for not asking for the code solution. This is the right attitude!"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":5,"creation_date":1353730087,"post_id":13538097,"comment_id":18539015,"body_markdown":"But one thing -- please leave mention of &quot;deadlines&quot; and similar out of your question. Please note that 1) you&#39;re asking for help from volunteers and so really shouldn&#39;t be trying to rush or pressure them, and 2) the speed with which your question gets a good answer is most often directly related to the quality of the question. To whit: Does it have the information needed to be answered and is it easy to read?","body":"But one thing -- please leave mention of &quot;deadlines&quot; and similar out of your question. Please note that 1) you&#39;re asking for help from volunteers and so really shouldn&#39;t be trying to rush or pressure them, and 2) the speed with which your question gets a good answer is most often directly related to the quality of the question. To whit: Does it have the information needed to be answered and is it easy to read?"}],"answers":[{"comments":[{"owner":{"account_id":1540981,"reputation":11432,"user_id":1435657,"accept_rate":91,"display_name":"asteri"},"score":2,"creation_date":1353730680,"post_id":13538111,"comment_id":18539079,"body_markdown":"+1 for awesome username. :D  (But seriously, for the answer.)","body":"+1 for awesome username. :D  (But seriously, for the answer.)"},{"owner":{"account_id":2075366,"reputation":97,"user_id":1848879,"accept_rate":50,"display_name":"WannaBeDroidProgrammer"},"score":0,"creation_date":1353731722,"post_id":13538111,"comment_id":18539215,"body_markdown":"@Hovercraft Full Of Eels I&#39;m still working on it lol....obviously i&#39;m newer at this lol. Thanks for your time and patience =D","body":"@Hovercraft Full Of Eels I&#39;m still working on it lol....obviously i&#39;m newer at this lol. Thanks for your time and patience =D"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1353731763,"post_id":13538111,"comment_id":18539220,"body_markdown":"@user1848879: you&#39;re welcome. Keep trying, keep experimenting.","body":"@user1848879: you&#39;re welcome. Keep trying, keep experimenting."},{"owner":{"account_id":2075366,"reputation":97,"user_id":1848879,"accept_rate":50,"display_name":"WannaBeDroidProgrammer"},"score":0,"creation_date":1353733634,"post_id":13538111,"comment_id":18539485,"body_markdown":"Btw i&#39;ll be sure to leave out deadlines next time =)\n\nThis is what I have so far:","body":"Btw i&#39;ll be sure to leave out deadlines next time =)  This is what I have so far:"}],"tags":[],"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"comment_count":4,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1353731505,"creation_date":1353729455,"answer_id":13538111,"question_id":13538097,"body_markdown":"You shouldn&#39;t try to call `toString()` on a Room class but rather on a Room *object*. In that method, loop through the array of rooms with a for loop and print the String returned by calling `toString()` for each Room object held in the array since this is what it looks like your method should do.\r\n\r\nFor example\r\n\r\n    System.out.println(&quot;All Foos held here include: &quot;);\r\n    \r\n    // using a &quot;for-each&quot; loop, assuming an array called fooArray that holds Foo objects\r\n    for (Foo foo: fooArray) {\r\n       System.out.println(foo);\r\n    }\r\n\r\nYou will obviously have to change the types and variable names for your code.\r\n\r\nEdit 2: although you will have to use a standard for loop, not a for-each loop, since you won&#39;t be looping through the entire array, but rather will quit when roomsRented count is reached.\r\n\r\n    System.out.println(&quot;All Foos held here include: &quot;);\r\n    \r\n    // using standard for loop, assuming an array called fooArray that holds Foo objects\r\n    for (int i = 0; i &lt; someMaxNumber; i++) {\r\n       System.out.println(fooArray[i]);\r\n    }\r\n","title":"non-static method toString() cannot be referenced from a static context","body":"<p>You shouldn't try to call <code>toString()</code> on a Room class but rather on a Room <em>object</em>. In that method, loop through the array of rooms with a for loop and print the String returned by calling <code>toString()</code> for each Room object held in the array since this is what it looks like your method should do.</p>\n\n<p>For example</p>\n\n<pre><code>System.out.println(\"All Foos held here include: \");\n\n// using a \"for-each\" loop, assuming an array called fooArray that holds Foo objects\nfor (Foo foo: fooArray) {\n   System.out.println(foo);\n}\n</code></pre>\n\n<p>You will obviously have to change the types and variable names for your code.</p>\n\n<p>Edit 2: although you will have to use a standard for loop, not a for-each loop, since you won't be looping through the entire array, but rather will quit when roomsRented count is reached.</p>\n\n<pre><code>System.out.println(\"All Foos held here include: \");\n\n// using standard for loop, assuming an array called fooArray that holds Foo objects\nfor (int i = 0; i &lt; someMaxNumber; i++) {\n   System.out.println(fooArray[i]);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2075366,"reputation":97,"user_id":1848879,"accept_rate":50,"display_name":"WannaBeDroidProgrammer"},"score":0,"creation_date":1353733802,"post_id":13538130,"comment_id":18539503,"body_markdown":"@Hovercraft Full Od Eels\n*sigh* I cannot get my code to post right....\n\nI keep getting a &quot; cannot find symbol&quot; in the &quot;System.out.println(Room[i]);&quot; line of my code. (I&#39;ve decided to abandon the toString method so i could at least complete the code lol. Any suggestions?","body":"@Hovercraft Full Od Eels <i>sigh</i> I cannot get my code to post right....  I keep getting a &quot; cannot find symbol&quot; in the &quot;System.out.println(Room[i]);&quot; line of my code. (I&#39;ve decided to abandon the toString method so i could at least complete the code lol. Any suggestions?"}],"tags":[],"owner":{"account_id":1253259,"reputation":3199,"user_id":1213230,"accept_rate":83,"display_name":"Vishal"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1353729702,"creation_date":1353729702,"answer_id":13538130,"question_id":13538097,"body_markdown":"As error is already states, do not call instance method in static context.\r\n\r\nRoom is a class, not an object. toString is a instance method. So Room.toString() in this case  compiler looks for a static method toString. But toString is an instance method so it is causing an issue.\r\n\r\nAlways remember instance methods are called with the object of the class, not with class itself.","title":"non-static method toString() cannot be referenced from a static context","body":"<p>As error is already states, do not call instance method in static context.</p>\n\n<p>Room is a class, not an object. toString is a instance method. So Room.toString() in this case  compiler looks for a static method toString. But toString is an instance method so it is causing an issue.</p>\n\n<p>Always remember instance methods are called with the object of the class, not with class itself.</p>\n"},{"tags":[],"owner":{"account_id":2041157,"reputation":33,"user_id":1822310,"display_name":"billybobsteve"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1353729753,"creation_date":1353729753,"answer_id":13538137,"question_id":13538097,"body_markdown":"What you&#39;re probably doing is calling `toString()` on the class Room, not an instance of it. For example, instead of writing:\r\n\r\n    Room.toString()\r\nwrite:\r\n    \r\n    Room r = new Room()\r\n    r.toString()","title":"non-static method toString() cannot be referenced from a static context","body":"<p>What you're probably doing is calling <code>toString()</code> on the class Room, not an instance of it. For example, instead of writing:</p>\n\n<pre><code>Room.toString()\n</code></pre>\n\n<p>write:</p>\n\n<pre><code>Room r = new Room()\nr.toString()\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2276473,"reputation":7251,"user_id":2002588,"accept_rate":100,"display_name":"Marco Scabbiolo"},"score":1,"creation_date":1467521333,"post_id":38166745,"comment_id":63761171,"body_markdown":"An answer has been already accepted a looong time ago. Does yours add antything valuable to the OP? Think that before re-answering such an old question.","body":"An answer has been already accepted a looong time ago. Does yours add antything valuable to the OP? Think that before re-answering such an old question."}],"tags":[],"owner":{"account_id":8185287,"reputation":11,"user_id":6161287,"display_name":"swim fish"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1467520800,"creation_date":1467520262,"answer_id":38166745,"question_id":13538097,"body_markdown":"Look at the following code, you can compile toString with a static variable without a new object, it just throw exception at run time\r\n\r\n  \r\n\r\n    demo&gt;cat Test.java \r\n    class Water {\r\n      public String toString() {return &quot;whatever&quot;;}\r\n    }\r\n    \r\n    public class Test { \r\n      static Water water;\r\n      public static void main(String...args) {\r\n        System.out.println(water.toString());\r\n      }\r\n    }\r\n    \r\n    demo&gt;javac Test.java \r\n    demo&gt;java Test\r\n    Exception in thread &quot;main&quot; java.lang.NullPointerException\r\n    \tat Test.main(Test.java:8)","title":"non-static method toString() cannot be referenced from a static context","body":"<p>Look at the following code, you can compile toString with a static variable without a new object, it just throw exception at run time</p>\n\n<pre><code>demo&gt;cat Test.java \nclass Water {\n  public String toString() {return \"whatever\";}\n}\n\npublic class Test { \n  static Water water;\n  public static void main(String...args) {\n    System.out.println(water.toString());\n  }\n}\n\ndemo&gt;javac Test.java \ndemo&gt;java Test\nException in thread \"main\" java.lang.NullPointerException\n    at Test.main(Test.java:8)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26501407,"reputation":11,"user_id":20138282,"display_name":"Mohd Kaif"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665175833,"creation_date":1664849483,"answer_id":73942506,"question_id":13538097,"body_markdown":"```\r\nSystem.out.println(Arrays.toString(arr));\r\n```\r\nIn this line when you are writing arrays a dropdown menu will appear, there you will see the default package or the `java.util` package. You need to select the `java.util` package and the problem will be solved.","title":"non-static method toString() cannot be referenced from a static context","body":"<pre><code>System.out.println(Arrays.toString(arr));\n</code></pre>\n<p>In this line when you are writing arrays a dropdown menu will appear, there you will see the default package or the <code>java.util</code> package. You need to select the <code>java.util</code> package and the problem will be solved.</p>\n"},{"tags":[],"owner":{"account_id":27664025,"reputation":31,"user_id":21116219,"display_name":"Nerella Aditya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678014864,"creation_date":1678014864,"answer_id":75641818,"question_id":13538097,"body_markdown":"When you are calling classname.method(), it means that you are calling a static method. We use the classname inorder to call the static methods.\r\n\r\nHere class is : Room\r\n\r\nMethod is : toString()\r\n\r\ntoString() is not a static method to be called with class name.\r\n\r\ntoString() is the method of the Object class. \r\n\r\nSo you should use room.toString() where &#39;room&#39; is the object of the Room class\r\n","title":"non-static method toString() cannot be referenced from a static context","body":"<p>When you are calling classname.method(), it means that you are calling a static method. We use the classname inorder to call the static methods.</p>\n<p>Here class is : Room</p>\n<p>Method is : toString()</p>\n<p>toString() is not a static method to be called with class name.</p>\n<p>toString() is the method of the Object class.</p>\n<p>So you should use room.toString() where 'room' is the object of the Room class</p>\n"}],"owner":{"account_id":2075366,"reputation":97,"user_id":1848879,"accept_rate":50,"display_name":"WannaBeDroidProgrammer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20801,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":13538111,"answer_count":6,"score":7,"last_activity_date":1678014864,"creation_date":1353729355,"question_id":13538097,"body_markdown":"Don&#39;t want any code, just want some sort of guidance. Would like to keep my academic integrity in tact ;)\r\n\r\nI keep getting that annoying error. I need to call the toString method for each Room instance. Any suggestions? I would prefer an answer within 2 hours if at all possible.    \r\n\r\n    public class Hotel\r\n    {\r\n        //constant\r\n        public static final int NUM_ROOMS = 20;\r\n\r\n        //variables\r\n        public Room[] theRoom;\r\n        public String name;\r\n        public int totalDays;\r\n        public double totalRate;\r\n        public int singleCount;\r\n        public int doubleCount;\r\n        public int roomsRented;\r\n        public int NOT_FOUND;\r\n\r\n        public Hotel(String newName) {\r\n            name = newName;\r\n            Room[] Rooms = new Room[NUM_ROOMS];\r\n        }\r\n\r\n        public double getTotalRentalSales() {\r\n            return totalRate + roomsRented;\r\n        }\r\n\r\n        public double getAvgDays() {\r\n            return roomsRented/totalDays;\r\n        }\r\n\r\n        public double getAvgRate() {\r\n            return totalRate/roomsRented;\r\n        }\r\n\r\n        public int getSingleCount() {\r\n            return singleCount;\r\n        }\r\n\r\n        public int getDoubleCount() {\r\n            return doubleCount;\r\n        }\r\n\r\n        public String printRentalList() {\r\n            System.out.println(&quot;Room Information: &quot; + Room.toString());\r\n        }\r\n    }\r\n\r\n","title":"non-static method toString() cannot be referenced from a static context","body":"<p>Don't want any code, just want some sort of guidance. Would like to keep my academic integrity in tact ;)</p>\n\n<p>I keep getting that annoying error. I need to call the toString method for each Room instance. Any suggestions? I would prefer an answer within 2 hours if at all possible.    </p>\n\n<pre><code>public class Hotel\n{\n    //constant\n    public static final int NUM_ROOMS = 20;\n\n    //variables\n    public Room[] theRoom;\n    public String name;\n    public int totalDays;\n    public double totalRate;\n    public int singleCount;\n    public int doubleCount;\n    public int roomsRented;\n    public int NOT_FOUND;\n\n    public Hotel(String newName) {\n        name = newName;\n        Room[] Rooms = new Room[NUM_ROOMS];\n    }\n\n    public double getTotalRentalSales() {\n        return totalRate + roomsRented;\n    }\n\n    public double getAvgDays() {\n        return roomsRented/totalDays;\n    }\n\n    public double getAvgRate() {\n        return totalRate/roomsRented;\n    }\n\n    public int getSingleCount() {\n        return singleCount;\n    }\n\n    public int getDoubleCount() {\n        return doubleCount;\n    }\n\n    public String printRentalList() {\n        System.out.println(\"Room Information: \" + Room.toString());\n    }\n}\n</code></pre>\n"},{"tags":["java","garbage-collection"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1674202827,"post_id":75178471,"comment_id":132667684,"body_markdown":"That’s very unusual. Are you sure, you have no other memory or gc related options specified?","body":"That’s very unusual. Are you sure, you have no other memory or gc related options specified?"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1678014752,"post_id":75178471,"comment_id":133447689,"body_markdown":"@Holger Why do you think it is unusual, this is pretty standard for regional garbage collectors like G1GC.","body":"@Holger Why do you think it is unusual, this is pretty standard for regional garbage collectors like G1GC."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1678096602,"post_id":75178471,"comment_id":133460639,"body_markdown":"@MarkRotteveel the graph indicates that the first garbage collection was deferred until the entire heap was full, which is unusual for a *concurrent* garbage collector. Second, having more than 10% CPU load, sometimes almost 20%, for a heap having less than 300MB used, is very high.","body":"@MarkRotteveel the graph indicates that the first garbage collection was deferred until the entire heap was full, which is unusual for a <i>concurrent</i> garbage collector. Second, having more than 10% CPU load, sometimes almost 20%, for a heap having less than 300MB used, is very high."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1678096683,"post_id":75178471,"comment_id":133460664,"body_markdown":"@Holger Or something happened that required a lot of memory (and CPU) initially, which could not yet be GC-ed, and then &quot;normal&quot; operation took over.","body":"@Holger Or something happened that required a lot of memory (and CPU) initially, which could not yet be GC-ed, and then &quot;normal&quot; operation took over."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1678098195,"post_id":75178471,"comment_id":133461076,"body_markdown":"@MarkRotteveel there’s not even an attempt for GC before that but even if there was such a series of allocations with not even a single object being collectible, it would still be *unusual*. But why waste our time with speculations when the OP didn’t come back to provide more information?","body":"@MarkRotteveel there’s not even an attempt for GC before that but even if there was such a series of allocations with not even a single object being collectible, it would still be <i>unusual</i>. But why waste our time with speculations when the OP didn’t come back to provide more information?"},{"owner":{"account_id":15328195,"reputation":2461,"user_id":11058704,"display_name":"RamPrakash"},"score":0,"creation_date":1678113731,"post_id":75178471,"comment_id":133465528,"body_markdown":"Not sure what kind of additional info you were expecting.","body":"Not sure what kind of additional info you were expecting."}],"answers":[{"tags":[],"owner":{"account_id":10158538,"reputation":2222,"user_id":7502800,"accept_rate":100,"display_name":"usuario"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678014818,"creation_date":1674199895,"answer_id":75180968,"question_id":75178471,"body_markdown":"JVMs will always have some gc threads running (unless you use Epsilon GC which perform no gc, I do not recommend using this unless you know why you need it), because the JVM manages memory for you.\r\n\r\nHeap in G1 is divided two spaces: **young** and **old**. All objects are created in young space. When the young space fills (it always do eventually, unless you are developing zero garbage), it will trigger some gc cleaning unreferenced objects from the young and promoting some objects which are still referenced to old.\r\n\r\nThose spikes in the right screenshot will correspond to young collection events (where unreferenced objects get cleaned). Young space is always much more small than the old space. So it fills frequently. That is why you see those spikes regarding there is much more memory free.\r\n\r\n_Disclaimer_: This is a really very high level explanation of memory management in the JVM. Some important concepts have been not mentioned.\r\n\r\nYou can read more about G1GC collector [here](https://www.oracle.com/technetwork/tutorials/tutorials-1876574.html)\r\n\r\nAlso take a look at [jstat](https://docs.oracle.com/en/java/javase/17/docs/specs/man/jstat.html) tool which will help you understand what is happening in your heap. \r\n\r\n","title":"GC gets triggered often","body":"<p>JVMs will always have some gc threads running (unless you use Epsilon GC which perform no gc, I do not recommend using this unless you know why you need it), because the JVM manages memory for you.</p>\n<p>Heap in G1 is divided two spaces: <strong>young</strong> and <strong>old</strong>. All objects are created in young space. When the young space fills (it always do eventually, unless you are developing zero garbage), it will trigger some gc cleaning unreferenced objects from the young and promoting some objects which are still referenced to old.</p>\n<p>Those spikes in the right screenshot will correspond to young collection events (where unreferenced objects get cleaned). Young space is always much more small than the old space. So it fills frequently. That is why you see those spikes regarding there is much more memory free.</p>\n<p><em>Disclaimer</em>: This is a really very high level explanation of memory management in the JVM. Some important concepts have been not mentioned.</p>\n<p>You can read more about G1GC collector <a href=\"https://www.oracle.com/technetwork/tutorials/tutorials-1876574.html\" rel=\"nofollow noreferrer\">here</a></p>\n<p>Also take a look at <a href=\"https://docs.oracle.com/en/java/javase/17/docs/specs/man/jstat.html\" rel=\"nofollow noreferrer\">jstat</a> tool which will help you understand what is happening in your heap.</p>\n"}],"owner":{"account_id":15328195,"reputation":2461,"user_id":11058704,"display_name":"RamPrakash"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":151,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1678014818,"creation_date":1674163730,"question_id":75178471,"body_markdown":"I would like to understand why the GC gets triggered even though I have plenty of heap left unused.. I have allocated 1.7 GB of RAM. I still see 10% of GC CPU usage often.\r\n\r\nI use this - `-XX:+UseG1GC` with Java 17\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/g2jgj.png","title":"GC gets triggered often","body":"<p>I would like to understand why the GC gets triggered even though I have plenty of heap left unused.. I have allocated 1.7 GB of RAM. I still see 10% of GC CPU usage often.</p>\n<p>I use this - <code>-XX:+UseG1GC</code> with Java 17</p>\n<p><a href=\"https://i.stack.imgur.com/g2jgj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/g2jgj.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","excel","cyrillic"],"comments":[{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1678011225,"post_id":75640107,"comment_id":133447231,"body_markdown":"If you want to see the foreign text , you must have both a font allocated to program that screens it and must have the charset encoding installed in your machine, too if it is UTF-8 then the national Locale must be set upon any components designed to store and render the foreign text in the application.","body":"If you want to see the foreign text , you must have both a font allocated to program that screens it and must have the charset encoding installed in your machine, too if it is UTF-8 then the national Locale must be set upon any components designed to store and render the foreign text in the application."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1678014440,"post_id":75640107,"comment_id":133447652,"body_markdown":"Unrelated to your question, but you really should not declare arrays as  `byte bytes[]`, although valid syntax, it is considered a historic oddity, and the recommended syntax is `byte[] bytes`.","body":"Unrelated to your question, but you really should not declare arrays as  <code>byte bytes[]</code>, although valid syntax, it is considered a historic oddity, and the recommended syntax is <code>byte[] bytes</code>."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677995885,"creation_date":1677995411,"answer_id":75640440,"question_id":75640107,"body_markdown":"    String myString = &quot;some cyrillic text&quot;; \r\n    byte bytes[] = type.getBytes(&quot;UTF-8&quot;); \r\n\r\nNow `bytes` contains a UTF-8 encoding of the string.  If you were to call `new String(bytes, &quot;UTF-8&quot;)` you would get back an equivalent string to the original one.\r\n\r\nBut ...\r\n\r\n    String value = URLEncoder.encode(\r\n        new String(bytes, &quot;Windows-1251&quot;),  // HERE\r\n        &quot;Windows-1251&quot;);\r\n\r\n... at `HERE` you are decoding with the wrong character encoding.  The `String` constructor takes your word for it ... and the result is mangled characters.\r\n\r\nUnderstand this: \r\n\r\n&gt; The `bytes` array contains *just* the encoded text.  It doesn&#39;t contain anything to identify the encoding scheme.  So the `String`  constructor has no way of knowing what the correct encoding is ... apart from what you tell it.  And it has no (reliable) way of knowing if the encoding you told it is correct.  Let alone fixing your mistake.\r\n\r\nThe correct way to do what your code does is this:\r\n\r\n    String myString = &quot;some cyrillic text&quot;; \r\n    String value = URLEncoder.encode(myString, &quot;Windows-1251&quot;);\r\n\r\nHowever ... we don&#39;t have sufficient context to know whether that is what is *actually required* for your application.","title":"Cyrillic text in Java","body":"<pre><code>String myString = &quot;some cyrillic text&quot;; \nbyte bytes[] = type.getBytes(&quot;UTF-8&quot;); \n</code></pre>\n<p>Now <code>bytes</code> contains a UTF-8 encoding of the string.  If you were to call <code>new String(bytes, &quot;UTF-8&quot;)</code> you would get back an equivalent string to the original one.</p>\n<p>But ...</p>\n<pre><code>String value = URLEncoder.encode(\n    new String(bytes, &quot;Windows-1251&quot;),  // HERE\n    &quot;Windows-1251&quot;);\n</code></pre>\n<p>... at <code>HERE</code> you are decoding with the wrong character encoding.  The <code>String</code> constructor takes your word for it ... and the result is mangled characters.</p>\n<p>Understand this:</p>\n<blockquote>\n<p>The <code>bytes</code> array contains <em>just</em> the encoded text.  It doesn't contain anything to identify the encoding scheme.  So the <code>String</code>  constructor has no way of knowing what the correct encoding is ... apart from what you tell it.  And it has no (reliable) way of knowing if the encoding you told it is correct.  Let alone fixing your mistake.</p>\n</blockquote>\n<p>The correct way to do what your code does is this:</p>\n<pre><code>String myString = &quot;some cyrillic text&quot;; \nString value = URLEncoder.encode(myString, &quot;Windows-1251&quot;);\n</code></pre>\n<p>However ... we don't have sufficient context to know whether that is what is <em>actually required</em> for your application.</p>\n"}],"owner":{"account_id":27839039,"reputation":1,"user_id":21334501,"display_name":"vladussr"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1678022416,"answer_count":1,"score":-1,"last_activity_date":1678014389,"creation_date":1677988746,"question_id":75640107,"body_markdown":"I&#39;m trying to transfer Russian text to an Excel or SQLite or to any other program. The result is always the same: РђР&#177;РёСЃСЃРёРЅСЃРєР&#176;СЏ РєРѕС€РєР&#176;.\r\nI understand that something with the encoding. \r\n\r\nI tried\r\n\r\n```\r\nString myString = &quot;some cyrillic text&quot;;\r\nbyte bytes[] = type.getBytes(&quot;UTF-8&quot;);\r\nString value = URLEncoder.encode(new String(bytes, &quot;Windows-1251&quot;), &quot;Windows-1251&quot;);\r\n```\r\n\r\nBut that doesn&#39;t help either.\r\n","title":"Cyrillic text in Java","body":"<p>I'm trying to transfer Russian text to an Excel or SQLite or to any other program. The result is always the same: РђР±РёСЃСЃРёРЅСЃРєР°СЏ РєРѕС€РєР°.\nI understand that something with the encoding.</p>\n<p>I tried</p>\n<pre><code>String myString = &quot;some cyrillic text&quot;;\nbyte bytes[] = type.getBytes(&quot;UTF-8&quot;);\nString value = URLEncoder.encode(new String(bytes, &quot;Windows-1251&quot;), &quot;Windows-1251&quot;);\n</code></pre>\n<p>But that doesn't help either.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":18304023,"reputation":2622,"user_id":13328195,"display_name":"Roshin Raphel"},"score":0,"creation_date":1678021353,"post_id":75641750,"comment_id":133448614,"body_markdown":"Please share the error message","body":"Please share the error message"}],"owner":{"account_id":27939605,"reputation":1,"user_id":21335890,"display_name":"Ekin Mahir"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678014020,"creation_date":1678014020,"question_id":75641750,"body_markdown":"l can&#39;t load Phoenix or talon srx lib to visual studio. l can download it but can&#39;t load to vs\r\n\r\nThe talon srx part of the code gives an error, but I already downloaded the libraries, can you help me?","title":"How Can l load Talon Srx lib to visual studio","body":"<p>l can't load Phoenix or talon srx lib to visual studio. l can download it but can't load to vs</p>\n<p>The talon srx part of the code gives an error, but I already downloaded the libraries, can you help me?</p>\n"},{"tags":["java","android","react-native","android-studio","kotlin"],"owner":{"account_id":27213373,"reputation":11,"user_id":20743812,"display_name":"Film andRun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1678013982,"creation_date":1677708410,"question_id":75609477,"body_markdown":"The repository is my method for calling the API. I called the repository in the Mainactivity to try to feed the data into the recycler view. Im sure the API call is working because when i tried to test it using the terminal and log.d the data shows on there. So mainly struggling to find out why it is null in the recyclerview.\r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private RecyclerView topRecyclerView;\r\n    private List&lt;Datum&gt; animeList;\r\n    \r\n    \r\n    @SuppressLint({&quot;MissingInflatedId&quot;, &quot;ResourceType&quot;})\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        \r\n        \r\n        topRecyclerView = findViewById(R.id.topRecycler);\r\n    \r\n      topRecyclerView.setHasFixedSize(true);\r\n      topRecyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n      \r\n      Repository.getAnimes(anime -&gt; {\r\n            TopAnimeAdapter myAdapter = new TopAnimeAdapter(anime);\r\n            topRecyclerView.setAdapter(myAdapter);\r\n        });\r\n```\r\n\r\n\\-------------Repository class---------\r\n```\r\npublic class Repository {\r\n\r\n    static List&lt;Datum&gt; animeList = new ArrayList&lt;&gt;();\r\n    public static void getAnimes (final AsyncResponse callback) {\r\n    \r\n        JsonObjectRequest jsonObjectRequest =\r\n                new JsonObjectRequest(Request.Method.GET, Util.Anime_URL, null, response -&gt; {\r\n    \r\n                    try {\r\n                        JSONArray jsonArray = response.getJSONArray(&quot;data&quot;);\r\n                        for (int i = 0; i &lt; jsonArray.length(); i++) {\r\n                            Datum datum = new Datum();\r\n                            JSONObject jsonObject = jsonArray.getJSONObject(i);\r\n                            datum.setMal_id(jsonObject.getInt(&quot;mal_id&quot;));\r\n                            datum.setTitle_english(jsonObject.getString(&quot;title_english&quot;));\r\n                            datum.setRank(jsonObject.getInt(&quot;rank&quot;));\r\n                            datum.setRating(jsonObject.getString(&quot;rating&quot;));\r\n                            datum.setStatus(jsonObject.getString(&quot;status&quot;));\r\n    \r\n                            JSONArray imageList = jsonObject.getJSONArray(&quot;images&quot;);\r\n                            ArrayList&lt;Images&gt; list = new ArrayList&lt;&gt;();\r\n                            for (int j = 0; j &lt; imageList.length(); j++) {\r\n                                Images images = new Images();\r\n                                images.setLarge_image_url(imageList.getJSONObject(j).getString(&quot;large_image_url&quot;));\r\n                                images.setImage_url(imageList.getJSONObject(j).getString(&quot;image_url&quot;));\r\n                                images.setSmall_image_url(imageList.getJSONObject(j).getString(&quot;small_image_url&quot;));\r\n    \r\n                                list.add(images);\r\n    \r\n                            }\r\n                            datum.setImages(list);\r\n    \r\n                            datum.setSynopsis(jsonObject.getString(&quot;synopsis&quot;));\r\n                            datum.setYear(jsonObject.getInt(&quot;year&quot;));\r\n    \r\n    \r\n                            animeList.add(datum);\r\n    \r\n                        }\r\n    \r\n                        if (null != callback) {\r\n                            callback.processAnime(animeList);\r\n                        }\r\n    \r\n                    } catch (JSONException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }, error -&gt; {\r\n                    error.printStackTrace();\r\n                });\r\n    \r\n        AppController.getInstance().addToRequestQueue(jsonObjectRequest);\r\n    \r\n    }\r\n\r\n```\r\n```\r\npublic class TopAnimeAdapter extends RecyclerView.Adapter&lt;TopAnimeAdapter.ViewHolder&gt; {\r\n\r\n    private final List&lt;Datum&gt; animeList;\r\n\r\n    public TopAnimeAdapter(List&lt;Datum&gt; animeList) {\r\n        this.animeList = animeList;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n\r\n        View view = LayoutInflater.from(parent.getContext())\r\n                .inflate(R.layout.top_anime, parent, false);\r\n\r\n        return new ViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\r\n\r\n        Datum datum = animeList.get(position);\r\n        holder.topAnimeTitle.setText(datum.getTitle_english());\r\n        if(datum.getImages().size() &gt; 0) {\r\n            Picasso.get().load(datum.getImages().get(0).getImage_url())\r\n                    .placeholder(android.R.drawable.stat_sys_download)\r\n                    .error(android.R.drawable.stat_notify_error)\r\n                    .resize(100,100)\r\n                    .centerCrop()\r\n                    .into(holder.topAnimeImage);\r\n        }\r\n\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return animeList.size();\r\n    }\r\n\r\n    public class ViewHolder extends RecyclerView.ViewHolder{\r\n\r\n        public ImageView topAnimeImage;\r\n        public TextView topAnimeTitle;\r\n\r\n        public ViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n\r\n            topAnimeImage = itemView.findViewById(R.id.imageAnime);\r\n            topAnimeTitle = itemView.findViewById(R.id.animeTitle);\r\n\r\n        }\r\n    }\r\n}\r\n```","title":"I want to show data from an api into a recyclerView. It seems when I try to pass the data the Recyclerview still shows null","body":"<p>The repository is my method for calling the API. I called the repository in the Mainactivity to try to feed the data into the recycler view. Im sure the API call is working because when i tried to test it using the terminal and log.d the data shows on there. So mainly struggling to find out why it is null in the recyclerview.</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    private RecyclerView topRecyclerView;\n    private List&lt;Datum&gt; animeList;\n    \n    \n    @SuppressLint({&quot;MissingInflatedId&quot;, &quot;ResourceType&quot;})\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        \n        \n        topRecyclerView = findViewById(R.id.topRecycler);\n    \n      topRecyclerView.setHasFixedSize(true);\n      topRecyclerView.setLayoutManager(new LinearLayoutManager(this));\n      \n      Repository.getAnimes(anime -&gt; {\n            TopAnimeAdapter myAdapter = new TopAnimeAdapter(anime);\n            topRecyclerView.setAdapter(myAdapter);\n        });\n</code></pre>\n<p>-------------Repository class---------</p>\n<pre><code>public class Repository {\n\n    static List&lt;Datum&gt; animeList = new ArrayList&lt;&gt;();\n    public static void getAnimes (final AsyncResponse callback) {\n    \n        JsonObjectRequest jsonObjectRequest =\n                new JsonObjectRequest(Request.Method.GET, Util.Anime_URL, null, response -&gt; {\n    \n                    try {\n                        JSONArray jsonArray = response.getJSONArray(&quot;data&quot;);\n                        for (int i = 0; i &lt; jsonArray.length(); i++) {\n                            Datum datum = new Datum();\n                            JSONObject jsonObject = jsonArray.getJSONObject(i);\n                            datum.setMal_id(jsonObject.getInt(&quot;mal_id&quot;));\n                            datum.setTitle_english(jsonObject.getString(&quot;title_english&quot;));\n                            datum.setRank(jsonObject.getInt(&quot;rank&quot;));\n                            datum.setRating(jsonObject.getString(&quot;rating&quot;));\n                            datum.setStatus(jsonObject.getString(&quot;status&quot;));\n    \n                            JSONArray imageList = jsonObject.getJSONArray(&quot;images&quot;);\n                            ArrayList&lt;Images&gt; list = new ArrayList&lt;&gt;();\n                            for (int j = 0; j &lt; imageList.length(); j++) {\n                                Images images = new Images();\n                                images.setLarge_image_url(imageList.getJSONObject(j).getString(&quot;large_image_url&quot;));\n                                images.setImage_url(imageList.getJSONObject(j).getString(&quot;image_url&quot;));\n                                images.setSmall_image_url(imageList.getJSONObject(j).getString(&quot;small_image_url&quot;));\n    \n                                list.add(images);\n    \n                            }\n                            datum.setImages(list);\n    \n                            datum.setSynopsis(jsonObject.getString(&quot;synopsis&quot;));\n                            datum.setYear(jsonObject.getInt(&quot;year&quot;));\n    \n    \n                            animeList.add(datum);\n    \n                        }\n    \n                        if (null != callback) {\n                            callback.processAnime(animeList);\n                        }\n    \n                    } catch (JSONException e) {\n                        e.printStackTrace();\n                    }\n                }, error -&gt; {\n                    error.printStackTrace();\n                });\n    \n        AppController.getInstance().addToRequestQueue(jsonObjectRequest);\n    \n    }\n\n</code></pre>\n<pre><code>public class TopAnimeAdapter extends RecyclerView.Adapter&lt;TopAnimeAdapter.ViewHolder&gt; {\n\n    private final List&lt;Datum&gt; animeList;\n\n    public TopAnimeAdapter(List&lt;Datum&gt; animeList) {\n        this.animeList = animeList;\n    }\n\n    @NonNull\n    @Override\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n\n        View view = LayoutInflater.from(parent.getContext())\n                .inflate(R.layout.top_anime, parent, false);\n\n        return new ViewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\n\n        Datum datum = animeList.get(position);\n        holder.topAnimeTitle.setText(datum.getTitle_english());\n        if(datum.getImages().size() &gt; 0) {\n            Picasso.get().load(datum.getImages().get(0).getImage_url())\n                    .placeholder(android.R.drawable.stat_sys_download)\n                    .error(android.R.drawable.stat_notify_error)\n                    .resize(100,100)\n                    .centerCrop()\n                    .into(holder.topAnimeImage);\n        }\n\n\n    }\n\n    @Override\n    public int getItemCount() {\n        return animeList.size();\n    }\n\n    public class ViewHolder extends RecyclerView.ViewHolder{\n\n        public ImageView topAnimeImage;\n        public TextView topAnimeTitle;\n\n        public ViewHolder(@NonNull View itemView) {\n            super(itemView);\n\n            topAnimeImage = itemView.findViewById(R.id.imageAnime);\n            topAnimeTitle = itemView.findViewById(R.id.animeTitle);\n\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","tomcat"],"comments":[{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":1,"creation_date":1543452836,"post_id":53530273,"comment_id":93929069,"body_markdown":"You&#39;re correct - the problem isn&#39;t &quot;too many open files&quot;. The *REAL* question is &quot;who&#39;s opening them - and why?&quot;  Q: Any ideas?  SUGGESTION: Try to get a stack trace, and copy it into your question.  That might help isolate the culprit.","body":"You&#39;re correct - the problem isn&#39;t &quot;too many open files&quot;. The <i>REAL</i> question is &quot;who&#39;s opening them - and why?&quot;  Q: Any ideas?  SUGGESTION: Try to get a stack trace, and copy it into your question.  That might help isolate the culprit."},{"owner":{"account_id":301110,"reputation":98854,"user_id":608639,"accept_rate":64,"display_name":"jww"},"score":0,"creation_date":1543454183,"post_id":53530273,"comment_id":93929355,"body_markdown":"Please show the relevant code.","body":"Please show the relevant code."},{"owner":{"account_id":8049456,"reputation":507,"user_id":6068535,"display_name":"Kat"},"score":0,"creation_date":1543454354,"post_id":53530273,"comment_id":93929392,"body_markdown":"@paulsm4 I&#39;ve added the stack trace of the error","body":"@paulsm4 I&#39;ve added the stack trace of the error"},{"owner":{"account_id":8049456,"reputation":507,"user_id":6068535,"display_name":"Kat"},"score":1,"creation_date":1543454653,"post_id":53530273,"comment_id":93929466,"body_markdown":"@jww I don&#39;t know which code in my application (if any) is relevant because I don&#39;t have any idea what&#39;s causing it. I don&#39;t think my code is the problem. I wrote very little code for this site, it&#39;s a pretty basic site, and the code I did write is code that I&#39;ve used numerous times before and never had this problem with. If any code were causing this, it would be something in the code used by Mobirise, but that encompasses entire libraries, way too much to sift through by hand.","body":"@jww I don&#39;t know which code in my application (if any) is relevant because I don&#39;t have any idea what&#39;s causing it. I don&#39;t think my code is the problem. I wrote very little code for this site, it&#39;s a pretty basic site, and the code I did write is code that I&#39;ve used numerous times before and never had this problem with. If any code were causing this, it would be something in the code used by Mobirise, but that encompasses entire libraries, way too much to sift through by hand."},{"owner":{"account_id":301110,"reputation":98854,"user_id":608639,"accept_rate":64,"display_name":"jww"},"score":1,"creation_date":1543454887,"post_id":53530273,"comment_id":93929519,"body_markdown":"I think the question is OK here but you need to do some debugging and show the relevant code. If you can&#39;t then maybe you should move the question to [Super User](http://superuser.com/) or [Unix &amp; Linux Stack Exchange](http://unix.stackexchange.com/). [Server Fault](http://serverfault.com/) would probably be the best fit but they have the &quot;professional admin&quot; requirement.","body":"I think the question is OK here but you need to do some debugging and show the relevant code. If you can&#39;t then maybe you should move the question to <a href=\"http://superuser.com/\">Super User</a> or <a href=\"http://unix.stackexchange.com/\">Unix &amp; Linux Stack Exchange</a>. <a href=\"http://serverfault.com/\">Server Fault</a> would probably be the best fit but they have the &quot;professional admin&quot; requirement."},{"owner":{"account_id":8049456,"reputation":507,"user_id":6068535,"display_name":"Kat"},"score":0,"creation_date":1543455430,"post_id":53530273,"comment_id":93929646,"body_markdown":"Ok I will move it to one of those if I can&#39;t figure out what&#39;s causing it soon","body":"Ok I will move it to one of those if I can&#39;t figure out what&#39;s causing it soon"},{"owner":{"account_id":2006972,"reputation":43182,"user_id":1796579,"display_name":"Henry"},"score":0,"creation_date":1543468083,"post_id":53530273,"comment_id":93932266,"body_markdown":"The real problem here is, that some code fails to close the file after it is done with it.","body":"The real problem here is, that some code fails to close the file after it is done with it."},{"owner":{"account_id":7624963,"reputation":10003,"user_id":5781745,"accept_rate":85,"display_name":"K.Dᴀᴠɪs"},"score":1,"creation_date":1543468205,"post_id":53530273,"comment_id":93932296,"body_markdown":"Hi, Kat! I am sure you are not aware of our our format here, but SO is a Q&amp;A site. This means that your question should remain separate from your answer. Feel free to add your answer below if you like. You can also get help with how our site works by looking at the [help]. Thanks!","body":"Hi, Kat! I am sure you are not aware of our our format here, but SO is a Q&amp;A site. This means that your question should remain separate from your answer. Feel free to add your answer below if you like. You can also get help with how our site works by looking at the <a href=\"https://stackoverflow.com/help\">help center</a>. Thanks!"},{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":0,"creation_date":1543471634,"post_id":53530273,"comment_id":93933379,"body_markdown":"@Kat - I just noticed that somebody deleted your update.  Sorry about that.  SUGGESTIONS: 1) Copy/paste your update into an answer, and &quot;accept&quot; it.  That&#39;s certainly better than losing your update altogether.  2) Consider stripping down your Jasper report format, and see if that resolves the problem.  If it does, consider &quot;accepting&quot; my answer.  In any case - good luck.  And please let us know what you decide.","body":"@Kat - I just noticed that somebody deleted your update.  Sorry about that.  SUGGESTIONS: 1) Copy/paste your update into an answer, and &quot;accept&quot; it.  That&#39;s certainly better than losing your update altogether.  2) Consider stripping down your Jasper report format, and see if that resolves the problem.  If it does, consider &quot;accepting&quot; my answer.  In any case - good luck.  And please let us know what you decide."},{"owner":{"account_id":8049456,"reputation":507,"user_id":6068535,"display_name":"Kat"},"score":0,"creation_date":1543523235,"post_id":53530273,"comment_id":93960693,"body_markdown":"@K.Dᴀᴠɪs I am quite aware... I tried to submit my answer below but apparently SO no longer accepts answers from my account because I&#39;ve submitted &quot;too many answers of poor quality.&quot;","body":"@K.Dᴀᴠɪs I am quite aware... I tried to submit my answer below but apparently SO no longer accepts answers from my account because I&#39;ve submitted &quot;too many answers of poor quality.&quot;"},{"owner":{"account_id":8049456,"reputation":507,"user_id":6068535,"display_name":"Kat"},"score":0,"creation_date":1543523594,"post_id":53530273,"comment_id":93960840,"body_markdown":"@K.Dᴀᴠɪs if you would be so kind as to do it for me...","body":"@K.Dᴀᴠɪs if you would be so kind as to do it for me..."}],"answers":[{"comments":[{"owner":{"account_id":593875,"reputation":20381,"user_id":276232,"accept_rate":50,"display_name":"Christopher Schultz"},"score":0,"creation_date":1546095253,"post_id":53558876,"comment_id":94778687,"body_markdown":"`&lt;Resource&gt;` definitions are not specific to the manager application. The issue was with an incorrect implementation of the auto-reloading capability of file-based `&lt;Resource&gt;`s.","body":"<code>&lt;Resource&gt;</code> definitions are not specific to the manager application. The issue was with an incorrect implementation of the auto-reloading capability of file-based <code>&lt;Resource&gt;</code>s."}],"tags":[],"owner":{"account_id":14855338,"reputation":31,"user_id":10728016,"display_name":"David Kingston"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1543585973,"creation_date":1543585973,"answer_id":53558876,"question_id":53530273,"body_markdown":"I just ran into the same issue after moving an application from a tomcat7 instance to a tomcat 9 instance. I have a feeling this may be a tomcat bug. I removed the tag \r\n\r\n    &lt;Resource pathname=&quot;conf/tomcat-users.xml&quot; \r\n    factory=&quot;org.apache.catalina.users.MemoryUserDatabaseFactory&quot; \r\n    type=&quot;org.apache.catalina.UserDatabase&quot; \r\n    auth=&quot;Container&quot; name=&quot;UserDatabase&quot;/&gt;\r\n\r\nin the GlobalNamingResources tag  in $CATALINA_HOME/conf/server.xml and after a restart the issue resolved itself. So I&#39;m guessing the issue lies with Tomcat&#39;s management app.\r\n","title":"Tomcat too many files open (tomcat-users.xml)","body":"<p>I just ran into the same issue after moving an application from a tomcat7 instance to a tomcat 9 instance. I have a feeling this may be a tomcat bug. I removed the tag </p>\n\n<pre><code>&lt;Resource pathname=\"conf/tomcat-users.xml\" \nfactory=\"org.apache.catalina.users.MemoryUserDatabaseFactory\" \ntype=\"org.apache.catalina.UserDatabase\" \nauth=\"Container\" name=\"UserDatabase\"/&gt;\n</code></pre>\n\n<p>in the GlobalNamingResources tag  in $CATALINA_HOME/conf/server.xml and after a restart the issue resolved itself. So I'm guessing the issue lies with Tomcat's management app.</p>\n"},{"comments":[{"owner":{"account_id":8049456,"reputation":507,"user_id":6068535,"display_name":"Kat"},"score":1,"creation_date":1544041582,"post_id":53583121,"comment_id":94139853,"body_markdown":"Thank you for letting me know. I wish I&#39;d found that bug report the other day, but I guess I was looking in all the wrong places :( I&#39;ll update my Tomcat installations asap.","body":"Thank you for letting me know. I wish I&#39;d found that bug report the other day, but I guess I was looking in all the wrong places :( I&#39;ll update my Tomcat installations asap."}],"tags":[],"owner":{"account_id":593875,"reputation":20381,"user_id":276232,"accept_rate":50,"display_name":"Christopher Schultz"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1543774035,"creation_date":1543774035,"answer_id":53583121,"question_id":53530273,"body_markdown":"This was caused by a [bug in Tomcat 9.0.13](https://bz.apache.org/bugzilla/show_bug.cgi?id=62924) which has been fixed in Tomcat 9.0.14.","title":"Tomcat too many files open (tomcat-users.xml)","body":"<p>This was caused by a <a href=\"https://bz.apache.org/bugzilla/show_bug.cgi?id=62924\" rel=\"noreferrer\">bug in Tomcat 9.0.13</a> which has been fixed in Tomcat 9.0.14.</p>\n"},{"tags":[],"owner":{"account_id":10986749,"reputation":1,"user_id":8072209,"display_name":"Osmar Carlos Miraval Flores"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1568218929,"creation_date":1568218929,"answer_id":57893246,"question_id":53530273,"body_markdown":"If you have applications deploy on Tomcat. First, You must make sure that when you open a file you close it explicitly. You can use the following command in order to see the open files in linux:\r\n\r\n    lsof -p &lt;process Id of Tomcat&gt;\r\n\r\n","title":"Tomcat too many files open (tomcat-users.xml)","body":"<p>If you have applications deploy on Tomcat. First, You must make sure that when you open a file you close it explicitly. You can use the following command in order to see the open files in linux:</p>\n\n<pre><code>lsof -p &lt;process Id of Tomcat&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":216950,"reputation":20103,"user_id":472495,"accept_rate":92,"display_name":"halfer"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1678013133,"creation_date":1678013133,"answer_id":75641666,"question_id":53530273,"body_markdown":"_(Posting answer on behalf of the question author, in order to move it from the question edit history into the answer space)_.\r\n\r\nI now believe this issue is being caused by something in the Mobirise assets. I checked the servers of my other websites (ones built without Mobirise), and none of them are having this issue. I checked all of my sites built with Mobirise, and all of them are having this issue. I don&#39;t have time right now to pinpoint exactly what it is in Mobirise that&#39;s causing this.\r\n\r\nI found a hacky workaround: simply deleting `tomcat-users.xml` and restarting Tomcat fixed the issue. This is not a proper solution, but it&#39;s a workaround that works for me because I manage my Tomcat servers through SSH and SFTP rather than using the default Tomcat Manager interface, which I know is probably bad practice because the web app can&#39;t be updated without server downtime, but I&#39;ve had buggy issues with Tomcat Manager in the past.\r\n","title":"Tomcat too many files open (tomcat-users.xml)","body":"<p><em>(Posting answer on behalf of the question author, in order to move it from the question edit history into the answer space)</em>.</p>\n<p>I now believe this issue is being caused by something in the Mobirise assets. I checked the servers of my other websites (ones built without Mobirise), and none of them are having this issue. I checked all of my sites built with Mobirise, and all of them are having this issue. I don't have time right now to pinpoint exactly what it is in Mobirise that's causing this.</p>\n<p>I found a hacky workaround: simply deleting <code>tomcat-users.xml</code> and restarting Tomcat fixed the issue. This is not a proper solution, but it's a workaround that works for me because I manage my Tomcat servers through SSH and SFTP rather than using the default Tomcat Manager interface, which I know is probably bad practice because the web app can't be updated without server downtime, but I've had buggy issues with Tomcat Manager in the past.</p>\n"}],"owner":{"account_id":8049456,"reputation":507,"user_id":6068535,"display_name":"Kat"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5075,"favorite_count":0,"down_vote_count":2,"up_vote_count":6,"accepted_answer_id":53583121,"answer_count":4,"score":4,"last_activity_date":1678013133,"creation_date":1543452560,"question_id":53530273,"body_markdown":"Earlier today I visited a site that I recently launched and the page was just filled with a big ugly `jasperexception: java.io.filenotfoundexception: /opt/tomcat/webapps/root/web-inf/lib/jstl-1.2.jar (too many open files)`. I checked my server logs and tomcat logs and they were full of the same error. I increased tomcat&#39;s max open file limit as a temporary solution to keep the site running, but it&#39;s quickly filling up again. I&#39;ve launched other sites with the same methods I used for this one, and never had this problem before. The only thing I did different this time was use Mobirise to make the base layout for the front-end, so I&#39;m not ruling out that some scripts used by Mobirise could be the culprit. But when I get the list of files that tomcat has open, I see that it&#39;s got hundreds of copies of tomcat-users.xml open, and it just keeps opening more and more.\r\n\r\n    ...\r\n    java    319 tomcat  935r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\r\n    java    319 tomcat  936r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\r\n    java    319 tomcat  937r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\r\n    java    319 tomcat  938r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\r\n    java    319 tomcat  939r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\r\n    java    319 tomcat  940r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\r\n    java    319 tomcat  941r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\r\n    java    319 tomcat  942r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\r\n    java    319 tomcat  943r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\r\n    java    319 tomcat  944r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\r\n    java    319 tomcat  945r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\r\n    java    319 tomcat  946r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\r\n    java    319 tomcat  947r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\r\n    java    319 tomcat  948r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\r\n    java    319 tomcat  949r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\r\n    java    319 tomcat  950r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\r\n    java    319 tomcat  951r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\r\n    java    319 tomcat  952r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\r\n    java    319 tomcat  953r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\r\n    java    319 tomcat  954r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\r\n    java    319 tomcat  955r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\r\n    java    319 tomcat  956r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\r\n    java    319 tomcat  957r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\r\n    java    319 tomcat  958r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\r\n    java    319 tomcat  959r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\r\n    java    319 tomcat  960r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\r\n    java    319 tomcat  961r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\r\n    java    319 tomcat  962r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\r\n    java    319 tomcat  963r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\r\n    java    319 tomcat  964r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\r\n    ...\r\nI don&#39;t understand why it&#39;s doing this. I&#39;ve been debugging, scanning through my code, and scouring the internet for issues where tomcat keeps opening too many files, but they all just say &quot;increase the max file limit.&quot; None of them address the root of the problem or mention anything about tomcat just infinitely opening copies of a single file.\r\n\r\n[EDIT]: Here is the full stack trace of the FileNotFoundException:\r\n\r\n    28-Nov-2018 03:51:33.857 SEVERE [http-nio-8080-exec-5] org.apache.catalina.core.ApplicationDispatcher.invoke Servlet.service() for servlet [jsp] threw exception\r\n     java.io.FileNotFoundException: /opt/tomcat/webapps/ROOT/WEB-INF/lib/jstl-1.2.jar (Too many open files)\r\n            at java.util.zip.ZipFile.open(Native Method)\r\n            at java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:225)\r\n            at java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:155)\r\n            at java.util.jar.JarFile.&lt;init&gt;(JarFile.java:166)\r\n            at java.util.jar.JarFile.&lt;init&gt;(JarFile.java:130)\r\n            at org.apache.tomcat.util.compat.JreCompat.jarFileNewInstance(JreCompat.java:164)\r\n            at org.apache.tomcat.util.scan.JarFileUrlJar.&lt;init&gt;(JarFileUrlJar.java:65)\r\n            at org.apache.tomcat.util.scan.JarFactory.newInstance(JarFactory.java:49)\r\n            at org.apache.tomcat.util.descriptor.tld.TldResourcePath.openJar(TldResourcePath.java:134)\r\n            at org.apache.jasper.compiler.TagLibraryInfoImpl.&lt;init&gt;(TagLibraryInfoImpl.java:125)\r\n            at org.apache.jasper.compiler.Parser.parseTaglibDirective(Parser.java:431)\r\n            at org.apache.jasper.compiler.Parser.parseDirective(Parser.java:489)\r\n            at org.apache.jasper.compiler.Parser.parseElements(Parser.java:1445)\r\n            at org.apache.jasper.compiler.Parser.parse(Parser.java:144)\r\n            at org.apache.jasper.compiler.ParserController.doParse(ParserController.java:244)\r\n            at org.apache.jasper.compiler.ParserController.parse(ParserController.java:105)\r\n            at org.apache.jasper.compiler.Compiler.generateJava(Compiler.java:206)\r\n            at org.apache.jasper.compiler.Compiler.compile(Compiler.java:385)\r\n            at org.apache.jasper.compiler.Compiler.compile(Compiler.java:362)\r\n            at org.apache.jasper.compiler.Compiler.compile(Compiler.java:346)\r\n            at org.apache.jasper.JspCompilationContext.compile(JspCompilationContext.java:603)\r\n            at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:400)\r\n            at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:386)\r\n            at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:330)\r\n            at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\r\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\r\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n            at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n            at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:712)\r\n            at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:459)\r\n            at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:384)\r\n            at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:312)\r\n            at kom.kitten.gingerpage.servlets.HomeServlet.doGet(HomeServlet.java:16)\r\n            at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)\r\n            at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\r\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\r\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n            at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n            at com.googlecode.objectify.ObjectifyFilter.doFilter(ObjectifyFilter.java:48)\r\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n            at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)\r\n            at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\r\n            at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)\r\n            at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\r\n            at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n            at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:668)\r\n            at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n            at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\r\n            at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)\r\n            at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\r\n            at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:791)\r\n            at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1417)\r\n            at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n            at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n            at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n            at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n            at java.lang.Thread.run(Thread.java:748)\r\n    \r\n    28-Nov-2018 03:51:33.859 SEVERE [http-nio-8080-exec-5] org.apache.catalina.core.StandardWrapperValve.invoke Servlet.service() for servlet [kom.kitten.gingerpage.servlets.HomeServlet] in conte$\r\n     java.io.FileNotFoundException: /opt/tomcat/webapps/ROOT/WEB-INF/lib/jstl-1.2.jar (Too many open files)\r\n            at java.util.zip.ZipFile.open(Native Method)\r\n            at java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:225)\r\n            at java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:155)\r\n            at java.util.jar.JarFile.&lt;init&gt;(JarFile.java:166)\r\n            at java.util.jar.JarFile.&lt;init&gt;(JarFile.java:130)\r\n            at org.apache.tomcat.util.compat.JreCompat.jarFileNewInstance(JreCompat.java:164)\r\n            at org.apache.tomcat.util.scan.JarFileUrlJar.&lt;init&gt;(JarFileUrlJar.java:65)\r\n            at org.apache.tomcat.util.scan.JarFactory.newInstance(JarFactory.java:49)\r\n            at org.apache.tomcat.util.descriptor.tld.TldResourcePath.openJar(TldResourcePath.java:134)\r\n            at org.apache.jasper.compiler.TagLibraryInfoImpl.&lt;init&gt;(TagLibraryInfoImpl.java:125)\r\n            at org.apache.jasper.compiler.Parser.parseTaglibDirective(Parser.java:431)\r\n            at org.apache.jasper.compiler.Parser.parseDirective(Parser.java:489)\r\n            at org.apache.jasper.compiler.Parser.parseElements(Parser.java:1445)\r\n            at org.apache.jasper.compiler.Parser.parse(Parser.java:144)\r\n            at org.apache.jasper.compiler.ParserController.doParse(ParserController.java:244)\r\n            at org.apache.jasper.compiler.ParserController.parse(ParserController.java:105)\r\n            at org.apache.jasper.compiler.Compiler.generateJava(Compiler.java:206)\r\n            at org.apache.jasper.compiler.Compiler.compile(Compiler.java:385)\r\n            at org.apache.jasper.compiler.Compiler.compile(Compiler.java:362)\r\n            at org.apache.jasper.compiler.Compiler.compile(Compiler.java:346)\r\n            at org.apache.jasper.JspCompilationContext.compile(JspCompilationContext.java:603)\r\n            at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:400)\r\n            at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:386)\r\n            at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:330)\r\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\r\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\r\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n            at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n            at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:712)\r\n            at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:459)\r\n            at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:384)\r\n            at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:312)\r\n            at kom.kitten.gingerpage.servlets.HomeServlet.doGet(HomeServlet.java:16)\r\n            at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)\r\n            at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\r\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\r\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n            at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n            at com.googlecode.objectify.ObjectifyFilter.doFilter(ObjectifyFilter.java:48)\r\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n            at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)\r\n            at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\r\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)\r\n            at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\r\n            at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n            at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:668)\r\n            at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n            at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\r\n            at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)\r\n            at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\r\n            at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:791)\r\n            at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1417)\r\n            at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n            at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n            at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n            at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n            at java.lang.Thread.run(Thread.java:748)\r\nThis is the same stack trace that it logs every time the error occurs (i.e. every time someone attempts to load a page on the site while there are too many files open in tomcat)","title":"Tomcat too many files open (tomcat-users.xml)","body":"<p>Earlier today I visited a site that I recently launched and the page was just filled with a big ugly <code>jasperexception: java.io.filenotfoundexception: /opt/tomcat/webapps/root/web-inf/lib/jstl-1.2.jar (too many open files)</code>. I checked my server logs and tomcat logs and they were full of the same error. I increased tomcat's max open file limit as a temporary solution to keep the site running, but it's quickly filling up again. I've launched other sites with the same methods I used for this one, and never had this problem before. The only thing I did different this time was use Mobirise to make the base layout for the front-end, so I'm not ruling out that some scripts used by Mobirise could be the culprit. But when I get the list of files that tomcat has open, I see that it's got hundreds of copies of tomcat-users.xml open, and it just keeps opening more and more.</p>\n\n<pre><code>...\njava    319 tomcat  935r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\njava    319 tomcat  936r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\njava    319 tomcat  937r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\njava    319 tomcat  938r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\njava    319 tomcat  939r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\njava    319 tomcat  940r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\njava    319 tomcat  941r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\njava    319 tomcat  942r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\njava    319 tomcat  943r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\njava    319 tomcat  944r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\njava    319 tomcat  945r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\njava    319 tomcat  946r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\njava    319 tomcat  947r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\njava    319 tomcat  948r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\njava    319 tomcat  949r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\njava    319 tomcat  950r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\njava    319 tomcat  951r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\njava    319 tomcat  952r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\njava    319 tomcat  953r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\njava    319 tomcat  954r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\njava    319 tomcat  955r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\njava    319 tomcat  956r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\njava    319 tomcat  957r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\njava    319 tomcat  958r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\njava    319 tomcat  959r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\njava    319 tomcat  960r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\njava    319 tomcat  961r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\njava    319 tomcat  962r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\njava    319 tomcat  963r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\njava    319 tomcat  964r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\n...\n</code></pre>\n\n<p>I don't understand why it's doing this. I've been debugging, scanning through my code, and scouring the internet for issues where tomcat keeps opening too many files, but they all just say \"increase the max file limit.\" None of them address the root of the problem or mention anything about tomcat just infinitely opening copies of a single file.</p>\n\n<p>[EDIT]: Here is the full stack trace of the FileNotFoundException:</p>\n\n<pre><code>28-Nov-2018 03:51:33.857 SEVERE [http-nio-8080-exec-5] org.apache.catalina.core.ApplicationDispatcher.invoke Servlet.service() for servlet [jsp] threw exception\n java.io.FileNotFoundException: /opt/tomcat/webapps/ROOT/WEB-INF/lib/jstl-1.2.jar (Too many open files)\n        at java.util.zip.ZipFile.open(Native Method)\n        at java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:225)\n        at java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:155)\n        at java.util.jar.JarFile.&lt;init&gt;(JarFile.java:166)\n        at java.util.jar.JarFile.&lt;init&gt;(JarFile.java:130)\n        at org.apache.tomcat.util.compat.JreCompat.jarFileNewInstance(JreCompat.java:164)\n        at org.apache.tomcat.util.scan.JarFileUrlJar.&lt;init&gt;(JarFileUrlJar.java:65)\n        at org.apache.tomcat.util.scan.JarFactory.newInstance(JarFactory.java:49)\n        at org.apache.tomcat.util.descriptor.tld.TldResourcePath.openJar(TldResourcePath.java:134)\n        at org.apache.jasper.compiler.TagLibraryInfoImpl.&lt;init&gt;(TagLibraryInfoImpl.java:125)\n        at org.apache.jasper.compiler.Parser.parseTaglibDirective(Parser.java:431)\n        at org.apache.jasper.compiler.Parser.parseDirective(Parser.java:489)\n        at org.apache.jasper.compiler.Parser.parseElements(Parser.java:1445)\n        at org.apache.jasper.compiler.Parser.parse(Parser.java:144)\n        at org.apache.jasper.compiler.ParserController.doParse(ParserController.java:244)\n        at org.apache.jasper.compiler.ParserController.parse(ParserController.java:105)\n        at org.apache.jasper.compiler.Compiler.generateJava(Compiler.java:206)\n        at org.apache.jasper.compiler.Compiler.compile(Compiler.java:385)\n        at org.apache.jasper.compiler.Compiler.compile(Compiler.java:362)\n        at org.apache.jasper.compiler.Compiler.compile(Compiler.java:346)\n        at org.apache.jasper.JspCompilationContext.compile(JspCompilationContext.java:603)\n        at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:400)\n        at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:386)\n        at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:330)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n        at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:712)\n        at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:459)\n        at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:384)\n        at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:312)\n        at kom.kitten.gingerpage.servlets.HomeServlet.doGet(HomeServlet.java:16)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n        at com.googlecode.objectify.ObjectifyFilter.doFilter(ObjectifyFilter.java:48)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n        at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:668)\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:791)\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1417)\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n        at java.lang.Thread.run(Thread.java:748)\n\n28-Nov-2018 03:51:33.859 SEVERE [http-nio-8080-exec-5] org.apache.catalina.core.StandardWrapperValve.invoke Servlet.service() for servlet [kom.kitten.gingerpage.servlets.HomeServlet] in conte$\n java.io.FileNotFoundException: /opt/tomcat/webapps/ROOT/WEB-INF/lib/jstl-1.2.jar (Too many open files)\n        at java.util.zip.ZipFile.open(Native Method)\n        at java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:225)\n        at java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:155)\n        at java.util.jar.JarFile.&lt;init&gt;(JarFile.java:166)\n        at java.util.jar.JarFile.&lt;init&gt;(JarFile.java:130)\n        at org.apache.tomcat.util.compat.JreCompat.jarFileNewInstance(JreCompat.java:164)\n        at org.apache.tomcat.util.scan.JarFileUrlJar.&lt;init&gt;(JarFileUrlJar.java:65)\n        at org.apache.tomcat.util.scan.JarFactory.newInstance(JarFactory.java:49)\n        at org.apache.tomcat.util.descriptor.tld.TldResourcePath.openJar(TldResourcePath.java:134)\n        at org.apache.jasper.compiler.TagLibraryInfoImpl.&lt;init&gt;(TagLibraryInfoImpl.java:125)\n        at org.apache.jasper.compiler.Parser.parseTaglibDirective(Parser.java:431)\n        at org.apache.jasper.compiler.Parser.parseDirective(Parser.java:489)\n        at org.apache.jasper.compiler.Parser.parseElements(Parser.java:1445)\n        at org.apache.jasper.compiler.Parser.parse(Parser.java:144)\n        at org.apache.jasper.compiler.ParserController.doParse(ParserController.java:244)\n        at org.apache.jasper.compiler.ParserController.parse(ParserController.java:105)\n        at org.apache.jasper.compiler.Compiler.generateJava(Compiler.java:206)\n        at org.apache.jasper.compiler.Compiler.compile(Compiler.java:385)\n        at org.apache.jasper.compiler.Compiler.compile(Compiler.java:362)\n        at org.apache.jasper.compiler.Compiler.compile(Compiler.java:346)\n        at org.apache.jasper.JspCompilationContext.compile(JspCompilationContext.java:603)\n        at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:400)\n        at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:386)\n        at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:330)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n        at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:712)\n        at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:459)\n        at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:384)\n        at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:312)\n        at kom.kitten.gingerpage.servlets.HomeServlet.doGet(HomeServlet.java:16)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n        at com.googlecode.objectify.ObjectifyFilter.doFilter(ObjectifyFilter.java:48)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\nat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n        at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:668)\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:791)\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1417)\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n        at java.lang.Thread.run(Thread.java:748)\n</code></pre>\n\n<p>This is the same stack trace that it logs every time the error occurs (i.e. every time someone attempts to load a page on the site while there are too many files open in tomcat)</p>\n"},{"tags":["java","eclipse","compilation",".class-file"],"comments":[{"owner":{"account_id":74184,"reputation":122906,"user_id":213269,"accept_rate":98,"display_name":"Jonas"},"score":0,"creation_date":1288433850,"post_id":4058155,"comment_id":4358938,"body_markdown":"@TheLQ: That was right, and I didn&#39;t know that it was compiled automatically. Thanks.","body":"@TheLQ: That was right, and I didn&#39;t know that it was compiled automatically. Thanks."},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1409755765,"post_id":4058155,"comment_id":40074772,"body_markdown":"Can I get compilation message also?","body":"Can I get compilation message also?"}],"answers":[{"tags":[],"owner":{"account_id":26657,"reputation":1991,"user_id":69584,"accept_rate":83,"display_name":"Cristina"},"comment_count":0,"down_vote_count":0,"up_vote_count":49,"is_accepted":true,"score":49,"last_activity_date":1316549864,"creation_date":1288433201,"answer_id":4058176,"question_id":4058155,"body_markdown":"You can un-check the build automatically in Project menu and then build by hand by type Ctrl + B, or clicking an icon the appears to the right of the printer icon.","title":"How can I compile a Java program in Eclipse without running it?","body":"<p>You can un-check the build automatically in Project menu and then build by hand by type Ctrl + B, or clicking an icon the appears to the right of the printer icon.</p>\n"},{"tags":[],"owner":{"account_id":1750019,"reputation":588,"user_id":1599322,"display_name":"Charidimos"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1344982493,"creation_date":1344982493,"answer_id":11961604,"question_id":4058155,"body_markdown":"You will need to go to *Project-&gt;Clean...*,then build your project. This will work, even when your source code does not contain any main method to run as an executable program. The .class files will appear in the bin folder of your project, in your workspace. ","title":"How can I compile a Java program in Eclipse without running it?","body":"<p>You will need to go to <em>Project->Clean...</em>,then build your project. This will work, even when your source code does not contain any main method to run as an executable program. The .class files will appear in the bin folder of your project, in your workspace. </p>\n"},{"tags":[],"owner":{"account_id":2624382,"reputation":31,"user_id":2271742,"display_name":"Clint Willard"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1365706987,"creation_date":1365706987,"answer_id":15956755,"question_id":4058155,"body_markdown":"In the case that you delete your .class file in Eclipse and then try to build it again from the .java file it will do nothing. If you try to run the .java file without the .class file you will get an error that it can not find the main class.\r\n\r\nYou will either have to change and re-save the .java file then build it again, or else you have to run Clean on the project then build again.","title":"How can I compile a Java program in Eclipse without running it?","body":"<p>In the case that you delete your .class file in Eclipse and then try to build it again from the .java file it will do nothing. If you try to run the .java file without the .class file you will get an error that it can not find the main class.</p>\n\n<p>You will either have to change and re-save the .java file then build it again, or else you have to run Clean on the project then build again.</p>\n"},{"tags":[],"owner":{"account_id":3679188,"reputation":27,"user_id":3064505,"display_name":"Dipanshu"},"comment_count":0,"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1678012888,"creation_date":1386136458,"answer_id":20368005,"question_id":4058155,"body_markdown":"Go to the project explorer block ...\r\nright click on project name \r\nselect &quot;Build Path&quot;-----------&gt; &quot;Configuration Build Path&quot;\r\n\r\nthen the pop up window will get open.\r\n\r\nin this pop up window you will find 4 tabs. 1)source 2) project 3)Library 4)order and export \r\n\r\n\r\nClick on 1) Source \r\n\r\nselect the project (under which that file is present which you want to compile)\r\n\r\nand then click on Apply\r\n\r\n\r\nGo to the workspace location of the project (in Finder in Mac, File Explorer in Window) open a bin folder and search that class file ... \r\n\r\nyou will see the .class file which is the compiled file.\r\n\r\njust to cross verify check the changed timing.\r\n\r\n\r\n\r\nhope this will help.\r\n\r\nThanks.","title":"How can I compile a Java program in Eclipse without running it?","body":"<p>Go to the project explorer block ...\nright click on project name\nselect &quot;Build Path&quot;-----------&gt; &quot;Configuration Build Path&quot;</p>\n<p>then the pop up window will get open.</p>\n<p>in this pop up window you will find 4 tabs. 1)source 2) project 3)Library 4)order and export</p>\n<p>Click on 1) Source</p>\n<p>select the project (under which that file is present which you want to compile)</p>\n<p>and then click on Apply</p>\n<p>Go to the workspace location of the project (in Finder in Mac, File Explorer in Window) open a bin folder and search that class file ...</p>\n<p>you will see the .class file which is the compiled file.</p>\n<p>just to cross verify check the changed timing.</p>\n<p>hope this will help.</p>\n<p>Thanks.</p>\n"},{"tags":[],"owner":{"account_id":4351320,"reputation":79,"user_id":3551555,"display_name":"Leeladurga Prasad Gunti"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1397909415,"creation_date":1397907314,"answer_id":23169526,"question_id":4058155,"body_markdown":"Right click on `Yourproject(in project Explorer)--&gt;Build Project`\r\n\r\nIt will compile all files in your project and updates your build folder, all without running.","title":"How can I compile a Java program in Eclipse without running it?","body":"<p>Right click on <code>Yourproject(in project Explorer)--&gt;Build Project</code></p>\n\n<p>It will compile all files in your project and updates your build folder, all without running.</p>\n"},{"tags":[],"owner":{"account_id":5358258,"reputation":119,"user_id":4284601,"display_name":"Jorge Nieto"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1445465543,"creation_date":1445465543,"answer_id":33270154,"question_id":4058155,"body_markdown":"Try this in your console:\r\n\r\n    javac {$PathToYourProyect}/*\r\n\r\nIf you also need any external library, try:\r\n\r\n    javac -cp {$PathToYourLibrary}.jar {$PathToYourProyect}/*","title":"How can I compile a Java program in Eclipse without running it?","body":"<p>Try this in your console:</p>\n\n<pre><code>javac {$PathToYourProyect}/*\n</code></pre>\n\n<p>If you also need any external library, try:</p>\n\n<pre><code>javac -cp {$PathToYourLibrary}.jar {$PathToYourProyect}/*\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11101105,"reputation":21,"user_id":8149778,"display_name":"Sanjay Singh Bhandari"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1509172486,"creation_date":1509172486,"answer_id":46986974,"question_id":4058155,"body_markdown":"Right click on the file on package Explorer\r\nThen go to Show in\r\nUnder it go to terminal\r\nEclipse will have a terminal then\r\nUse javac fileName to compile","title":"How can I compile a Java program in Eclipse without running it?","body":"<p>Right click on the file on package Explorer\nThen go to Show in\nUnder it go to terminal\nEclipse will have a terminal then\nUse javac fileName to compile</p>\n"}],"owner":{"account_id":74184,"reputation":122906,"user_id":213269,"accept_rate":98,"display_name":"Jonas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":335710,"favorite_count":0,"down_vote_count":0,"up_vote_count":99,"accepted_answer_id":4058176,"answer_count":7,"score":99,"last_activity_date":1678012888,"creation_date":1288432874,"question_id":4058155,"body_markdown":"I would like to compile my Java program in Eclipse but not to run it. I can&#39;t understand how to do it.\r\n\r\nHow can I compile a Java program to `.class` files in Eclipse without running it?","title":"How can I compile a Java program in Eclipse without running it?","body":"<p>I would like to compile my Java program in Eclipse but not to run it. I can't understand how to do it.</p>\n\n<p>How can I compile a Java program to <code>.class</code> files in Eclipse without running it?</p>\n"},{"tags":["java","android","google-maps-markers","google-places-api","google-maps-android-api-2"],"comments":[{"owner":{"account_id":24508188,"reputation":1915,"user_id":18422887,"display_name":"Yrll"},"score":0,"creation_date":1678058379,"post_id":75641616,"comment_id":133454807,"body_markdown":"From what I can see, you&#39;re trying to use the server side Places API on your client side. Is that correct? Maybe you could try the [Places SDK for Android](https://developers.google.com/maps/documentation/places/android-sdk)","body":"From what I can see, you&#39;re trying to use the server side Places API on your client side. Is that correct? Maybe you could try the <a href=\"https://developers.google.com/maps/documentation/places/android-sdk\" rel=\"nofollow noreferrer\">Places SDK for Android</a>"},{"owner":{"account_id":18667680,"reputation":21,"user_id":13607270,"display_name":"Zahid Habib"},"score":0,"creation_date":1678113359,"post_id":75641616,"comment_id":133465413,"body_markdown":"@Yrll could you elaborate on this please. I am using the places API that I found on the developers console but how can I use the places SDK for android?","body":"@Yrll could you elaborate on this please. I am using the places API that I found on the developers console but how can I use the places SDK for android?"},{"owner":{"account_id":24508188,"reputation":1915,"user_id":18422887,"display_name":"Yrll"},"score":0,"creation_date":1678153494,"post_id":75641616,"comment_id":133474713,"body_markdown":"Places API is used for server side requests, it is not supposed to be used on the client side. For you to be able to use Places API on your android app, you can use the SDK that Google Maps already provided for you. I already included the link on my comment before. But here&#39;s also the link to the tutorial on their documentation: https://developers.google.com/maps/documentation/places/android-sdk/autocomplete-tutorial","body":"Places API is used for server side requests, it is not supposed to be used on the client side. For you to be able to use Places API on your android app, you can use the SDK that Google Maps already provided for you. I already included the link on my comment before. But here&#39;s also the link to the tutorial on their documentation: <a href=\"https://developers.google.com/maps/documentation/places/android-sdk/autocomplete-tutorial\" rel=\"nofollow noreferrer\">developers.google.com/maps/documentation/places/android-sdk/&zwnj;&#8203;&hellip;</a>"}],"owner":{"account_id":18667680,"reputation":21,"user_id":13607270,"display_name":"Zahid Habib"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678012716,"creation_date":1678012716,"question_id":75641616,"body_markdown":"So I am trying to use the Places API for an android app. I&#39;ve used the correct URL to query for the JSON results of places however when I run the app I receive this error in my logcat: `data: {   &quot;error_message&quot;: &quot;The provided API key is invalid.&quot;,   &quot;html_attributions&quot; : [],   &quot;results&quot; : [],   &quot;status&quot;: &quot;REQUEST_DENIED&quot;}`.\r\n\r\nWhen I used Maps API to show current coordinates on the map it worked but now that I want it to mark specific locations of restrarunts on a map using the Places API I get an error.\r\n\r\nMy developer console has Places API &amp; Maps SKD for android enabled. Application restrictions are set to android apps with the correct package name &amp; fingerprint provided. API restrictions are set to &#39;Don&#39;t restrict key&#39;. My API key in my code is also correct.\r\n\r\nI&#39;ve spent a lot of time researching a solution but cannot seem to find one that works. I&#39;ve used a second API key with restrictions turned off, I&#39;ve checked that all the APIS that I need are enabled in my developer console.\r\n\r\nHere is the error message I receive at run time:\r\n\r\n    java.util.concurrent.ExecutionException: java.lang.SecurityException: GoogleCertificatesRslt: not allowed: pkg=com.project.prayerpal, sha256=[29a99a0744d90545fc8c9b9a2572fc89423676bbd3ff074ea76faa7ff], atk=false, ver=230617044.true (go/gsrlt)\r\n        at ajp.s(:com.google.android.gms.dynamite_mapsdynamite@230617044@23.06.17 (190400-0):3)\r\n        at ajp.get(:com.google.android.gms.dynamite_mapsdynamite@230617044@23.06.17 (190400-0):2)\r\n        at akz.g(:com.google.android.gms.dynamite_mapsdynamite@230617044@23.06.17 (190400-0):2)\r\n        at yr.c(:com.google.android.gms.dynamite_mapsdynamite@230617044@23.06.17 (190400-0):1)\r\n        at yt.run(:com.google.android.gms.dynamite_mapsdynamite@230617044@23.06.17 (190400-0):0)\r\n        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:463)\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:307)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1137)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:637)\r\n        at java.lang.Thread.run(Thread.java:1012)\r\n     Caused by: java.lang.SecurityException: GoogleCertificatesRslt: not allowed: pkg=com.project.prayerpal, sha256=[29a99a0744d90545fc8c9b9a2572fc89423676bbd3ff074ea76faa7ff], atk=false, ver=230617044.true (go/gsrlt)\r\n        at android.os.Parcel.createExceptionOrNull(Parcel.java:2441)\r\n        at android.os.Parcel.createException(Parcel.java:2425)\r\n        at android.os.Parcel.readException(Parcel.java:2408)\r\n        at android.os.Parcel.readException(Parcel.java:2350)\r\n        at ff.c(:com.google.android.gms.dynamite_mapsdynamite@230617044@23.06.17 (190400-0):2)\r\n        at ru.a(:com.google.android.gms.dynamite_mapsdynamite@230617044@23.06.17 (190400-0):4)\r\n        at jl.e(:com.google.android.gms.dynamite_mapsdynamite@230617044@23.06.17 (190400-0):2)\r\n        at kk.t(:com.google.android.gms.dynamite_mapsdynamite@230617044@23.06.17 (190400-0):2)\r\n        at kk.u(:com.google.android.gms.dynamite_mapsdynamite@230617044@23.06.17 (190400-0):3)\r\n        at kk.e(:com.google.android.gms.dynamite_mapsdynamite@230617044@23.06.17 (190400-0):2)\r\n        at ko.handleMessage(:com.google.android.gms.dynamite_mapsdynamite@230617044@23.06.17 (190400-0):69)\r\n        at android.os.Handler.dispatchMessage(Handler.java:102)\r\n        at android.os.Looper.loopOnce(Looper.java:233)\r\n        at android.os.Looper.loop(Looper.java:344)\r\n        at android.os.HandlerThread.run(HandlerThread.java:67)\r\n\r\nHere is the code that uses the URL:\r\n\r\n    public StringBuilder queryString(){\r\n\r\n        double Latitude = 48.8566;\r\n        double Longitude = 2.3522;\r\n\r\n        StringBuilder sb = new StringBuilder(&quot;https://maps.googleapis.com/maps/api/place/nearbysearch/json?&quot;);\r\n        sb.append(&quot;location=&quot; + Latitude + &quot;,&quot; + Longitude);\r\n        sb.append(&quot;&amp;radius=5000&quot;);\r\n        sb.append(&quot;&amp;types=&quot; + &quot;restraurant&quot;);\r\n        sb.append(&quot;&amp;sensor=true&quot;);\r\n        sb.append(&quot;&amp;key=&quot; + R.string.API_key);\r\n\r\n        return sb;\r\n    }\r\n\r\nHere is the code that gets the data from the URL:\r\n\r\n    private String downloadUrl(String strUrl) throws IOException{\r\n\r\n        String data = &quot;&quot;;\r\n        InputStream iStream = null;\r\n        HttpURLConnection urlConnection = null;\r\n\r\n        try {\r\n            URL url = new URL(strUrl);\r\n\r\n            urlConnection = (HttpURLConnection) url.openConnection();\r\n\r\n            urlConnection.connect();\r\n\r\n            iStream = urlConnection.getInputStream();\r\n\r\n            BufferedReader br = new BufferedReader(new InputStreamReader(iStream));\r\n\r\n            StringBuffer sb = new StringBuffer();\r\n\r\n            String line = &quot;&quot;;\r\n\r\n            while((line = br.readLine()) != null){\r\n\r\n                sb.append(line);\r\n            }\r\n\r\n            data = sb.toString();\r\n\r\n            br.close();\r\n        }catch (Exception e){\r\n\r\n            Log.d(&quot;error&quot;, &quot;downloading url failed&quot;);\r\n        }finally {\r\n\r\n            assert iStream != null;\r\n            iStream.close();\r\n            urlConnection.disconnect();\r\n        }\r\n\r\n        return data;\r\n    }","title":"How can I fix &#39;Invalid key&#39; error &amp; retrieve JSON data of specific places from Maps API?","body":"<p>So I am trying to use the Places API for an android app. I've used the correct URL to query for the JSON results of places however when I run the app I receive this error in my logcat: <code>data: {   &quot;error_message&quot;: &quot;The provided API key is invalid.&quot;,   &quot;html_attributions&quot; : [],   &quot;results&quot; : [],   &quot;status&quot;: &quot;REQUEST_DENIED&quot;}</code>.</p>\n<p>When I used Maps API to show current coordinates on the map it worked but now that I want it to mark specific locations of restrarunts on a map using the Places API I get an error.</p>\n<p>My developer console has Places API &amp; Maps SKD for android enabled. Application restrictions are set to android apps with the correct package name &amp; fingerprint provided. API restrictions are set to 'Don't restrict key'. My API key in my code is also correct.</p>\n<p>I've spent a lot of time researching a solution but cannot seem to find one that works. I've used a second API key with restrictions turned off, I've checked that all the APIS that I need are enabled in my developer console.</p>\n<p>Here is the error message I receive at run time:</p>\n<pre><code>java.util.concurrent.ExecutionException: java.lang.SecurityException: GoogleCertificatesRslt: not allowed: pkg=com.project.prayerpal, sha256=[29a99a0744d90545fc8c9b9a2572fc89423676bbd3ff074ea76faa7ff], atk=false, ver=230617044.true (go/gsrlt)\n    at ajp.s(:com.google.android.gms.dynamite_mapsdynamite@230617044@23.06.17 (190400-0):3)\n    at ajp.get(:com.google.android.gms.dynamite_mapsdynamite@230617044@23.06.17 (190400-0):2)\n    at akz.g(:com.google.android.gms.dynamite_mapsdynamite@230617044@23.06.17 (190400-0):2)\n    at yr.c(:com.google.android.gms.dynamite_mapsdynamite@230617044@23.06.17 (190400-0):1)\n    at yt.run(:com.google.android.gms.dynamite_mapsdynamite@230617044@23.06.17 (190400-0):0)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:463)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:307)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1137)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:637)\n    at java.lang.Thread.run(Thread.java:1012)\n Caused by: java.lang.SecurityException: GoogleCertificatesRslt: not allowed: pkg=com.project.prayerpal, sha256=[29a99a0744d90545fc8c9b9a2572fc89423676bbd3ff074ea76faa7ff], atk=false, ver=230617044.true (go/gsrlt)\n    at android.os.Parcel.createExceptionOrNull(Parcel.java:2441)\n    at android.os.Parcel.createException(Parcel.java:2425)\n    at android.os.Parcel.readException(Parcel.java:2408)\n    at android.os.Parcel.readException(Parcel.java:2350)\n    at ff.c(:com.google.android.gms.dynamite_mapsdynamite@230617044@23.06.17 (190400-0):2)\n    at ru.a(:com.google.android.gms.dynamite_mapsdynamite@230617044@23.06.17 (190400-0):4)\n    at jl.e(:com.google.android.gms.dynamite_mapsdynamite@230617044@23.06.17 (190400-0):2)\n    at kk.t(:com.google.android.gms.dynamite_mapsdynamite@230617044@23.06.17 (190400-0):2)\n    at kk.u(:com.google.android.gms.dynamite_mapsdynamite@230617044@23.06.17 (190400-0):3)\n    at kk.e(:com.google.android.gms.dynamite_mapsdynamite@230617044@23.06.17 (190400-0):2)\n    at ko.handleMessage(:com.google.android.gms.dynamite_mapsdynamite@230617044@23.06.17 (190400-0):69)\n    at android.os.Handler.dispatchMessage(Handler.java:102)\n    at android.os.Looper.loopOnce(Looper.java:233)\n    at android.os.Looper.loop(Looper.java:344)\n    at android.os.HandlerThread.run(HandlerThread.java:67)\n</code></pre>\n<p>Here is the code that uses the URL:</p>\n<pre><code>public StringBuilder queryString(){\n\n    double Latitude = 48.8566;\n    double Longitude = 2.3522;\n\n    StringBuilder sb = new StringBuilder(&quot;https://maps.googleapis.com/maps/api/place/nearbysearch/json?&quot;);\n    sb.append(&quot;location=&quot; + Latitude + &quot;,&quot; + Longitude);\n    sb.append(&quot;&amp;radius=5000&quot;);\n    sb.append(&quot;&amp;types=&quot; + &quot;restraurant&quot;);\n    sb.append(&quot;&amp;sensor=true&quot;);\n    sb.append(&quot;&amp;key=&quot; + R.string.API_key);\n\n    return sb;\n}\n</code></pre>\n<p>Here is the code that gets the data from the URL:</p>\n<pre><code>private String downloadUrl(String strUrl) throws IOException{\n\n    String data = &quot;&quot;;\n    InputStream iStream = null;\n    HttpURLConnection urlConnection = null;\n\n    try {\n        URL url = new URL(strUrl);\n\n        urlConnection = (HttpURLConnection) url.openConnection();\n\n        urlConnection.connect();\n\n        iStream = urlConnection.getInputStream();\n\n        BufferedReader br = new BufferedReader(new InputStreamReader(iStream));\n\n        StringBuffer sb = new StringBuffer();\n\n        String line = &quot;&quot;;\n\n        while((line = br.readLine()) != null){\n\n            sb.append(line);\n        }\n\n        data = sb.toString();\n\n        br.close();\n    }catch (Exception e){\n\n        Log.d(&quot;error&quot;, &quot;downloading url failed&quot;);\n    }finally {\n\n        assert iStream != null;\n        iStream.close();\n        urlConnection.disconnect();\n    }\n\n    return data;\n}\n</code></pre>\n"},{"tags":["java","jar","ant"],"comments":[{"owner":{"account_id":19726215,"reputation":538,"user_id":14442758,"display_name":"Z-100"},"score":0,"creation_date":1677750201,"post_id":75613657,"comment_id":133400624,"body_markdown":"Can you provide us with the entire error message maybe? And can you also be a bit more specific about your question?","body":"Can you provide us with the entire error message maybe? And can you also be a bit more specific about your question?"},{"owner":{"account_id":26037703,"reputation":305,"user_id":19742955,"display_name":"Jai Prakash"},"score":0,"creation_date":1677751746,"post_id":75613657,"comment_id":133401095,"body_markdown":"&quot;java path&quot; replace with &quot;jar&quot; then should work.","body":"&quot;java path&quot; replace with &quot;jar&quot; then should work."},{"owner":{"account_id":18117684,"reputation":21,"user_id":13174147,"display_name":"panda"},"score":0,"creation_date":1677753275,"post_id":75613657,"comment_id":133401573,"body_markdown":"@Z-100   this is the error (path is : X:\\Jar\\test ): [exec] X:\\Jar\\test no such file or directory\n     [exec] Result: 1\n\nWhat i want is to update my Jar Sample.jar by adding the class Test.class (this class its an existing one) but my jar has a folder in it so if we extract it we have : Sample/test/(my classes) so what i want is to update my classes with Test.class to this path","body":"@Z-100   this is the error (path is : X:\\Jar\\test ): [exec] X:\\Jar\\test no such file or directory      [exec] Result: 1  What i want is to update my Jar Sample.jar by adding the class Test.class (this class its an existing one) but my jar has a folder in it so if we extract it we have : Sample/test/(my classes) so what i want is to update my classes with Test.class to this path"},{"owner":{"account_id":18117684,"reputation":21,"user_id":13174147,"display_name":"panda"},"score":0,"creation_date":1677753377,"post_id":75613657,"comment_id":133401592,"body_markdown":"@JaiPrakash i have an error : \n Execute failed: java.io.IOException: Cannot run program Sample.jar&quot; (in directory  CreateProcess error=193, %1 is not a valid Win32 application","body":"@JaiPrakash i have an error :   Execute failed: java.io.IOException: Cannot run program Sample.jar&quot; (in directory  CreateProcess error=193, %1 is not a valid Win32 application"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1677756707,"post_id":75613657,"comment_id":133402578,"body_markdown":"[DUPLICATE question](https://stackoverflow.com/questions/75594506/is-it-possible-to-add-a-class-from-another-package-to-an-existing-jar-file-using)","body":"<a href=\"https://stackoverflow.com/questions/75594506/is-it-possible-to-add-a-class-from-another-package-to-an-existing-jar-file-using\">DUPLICATE question</a>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1677757218,"post_id":75613657,"comment_id":133402703,"body_markdown":"As I said in the original question, why don&#39;t you simply compile that class into the project?","body":"As I said in the original question, why don&#39;t you simply compile that class into the project?"},{"owner":{"account_id":18117684,"reputation":21,"user_id":13174147,"display_name":"panda"},"score":0,"creation_date":1677758665,"post_id":75613657,"comment_id":133403099,"body_markdown":"Because it is in diffrent projet","body":"Because it is in diffrent projet"}],"answers":[{"comments":[{"owner":{"account_id":18117684,"reputation":21,"user_id":13174147,"display_name":"panda"},"score":0,"creation_date":1678455214,"post_id":75637108,"comment_id":133540610,"body_markdown":"For the path it&#39;s the package that is already in my jar so I tried to add a line command but it didn&#39;t work.\nInstead i tried to do : unzip jar --&gt; copy class into path --&gt; create jar. It worked","body":"For the path it&#39;s the package that is already in my jar so I tried to add a line command but it didn&#39;t work. Instead i tried to do : unzip jar --&gt; copy class into path --&gt; create jar. It worked"}],"tags":[],"owner":{"account_id":382517,"reputation":10216,"user_id":737790,"accept_rate":60,"display_name":"Yves Martin"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1678012384,"creation_date":1677948180,"answer_id":75637108,"question_id":75613657,"body_markdown":"Probably the &quot;exec&quot; task has an extra argument, I guess you expect to include Test.class from directory &quot;${Path}&quot;, I would write instead\r\n\r\n    &lt;target name=&quot;UpdateJar&quot; depends=&quot;Compile&quot;&gt;\r\n      &lt;exec executable=&quot;java&quot;&gt;\r\n        &lt;arg value=&quot;-uf&quot;/&gt;\r\n        &lt;arg value=&quot;sample.jar&quot;/&gt;\r\n        &lt;arg value=&quot;${Path}/Test.class&quot;/&gt;\r\n      &lt;/exec&gt;\r\n    &lt;/target&gt;\r\n\r\nAnyway, for efficiency, knowing a jar file is just a Zip file, I recommend to just update the existing jar file (already containing META/MANIFEST.MF and some classes) with Apache Ant Zip task\r\n\r\n    &lt;zip destfile=&quot;sample.jar&quot; update=&quot;true&quot;&gt;\r\n      &lt;fileset dir=&quot;${Path}&quot; includes=&quot;Test.class&quot;/&gt;\r\n    &lt;/zip&gt;\r\n\r\nBut I guess you also expect to preserve package structure in jar file, which requires your &quot;java&quot; exec to run with proper current working directory. My alternative with zip is then more obvious\r\n\r\n    &lt;zip destfile=&quot;sample.jar&quot; update=&quot;true&quot;&gt;\r\n      &lt;fileset dir=&quot;${Path}&quot; includes=&quot;your/package/Test.class&quot;/&gt;\r\n    &lt;/zip&gt;\r\n","title":"How Can I use this command line in Ant","body":"<p>Probably the &quot;exec&quot; task has an extra argument, I guess you expect to include Test.class from directory &quot;${Path}&quot;, I would write instead</p>\n<pre><code>&lt;target name=&quot;UpdateJar&quot; depends=&quot;Compile&quot;&gt;\n  &lt;exec executable=&quot;java&quot;&gt;\n    &lt;arg value=&quot;-uf&quot;/&gt;\n    &lt;arg value=&quot;sample.jar&quot;/&gt;\n    &lt;arg value=&quot;${Path}/Test.class&quot;/&gt;\n  &lt;/exec&gt;\n&lt;/target&gt;\n</code></pre>\n<p>Anyway, for efficiency, knowing a jar file is just a Zip file, I recommend to just update the existing jar file (already containing META/MANIFEST.MF and some classes) with Apache Ant Zip task</p>\n<pre><code>&lt;zip destfile=&quot;sample.jar&quot; update=&quot;true&quot;&gt;\n  &lt;fileset dir=&quot;${Path}&quot; includes=&quot;Test.class&quot;/&gt;\n&lt;/zip&gt;\n</code></pre>\n<p>But I guess you also expect to preserve package structure in jar file, which requires your &quot;java&quot; exec to run with proper current working directory. My alternative with zip is then more obvious</p>\n<pre><code>&lt;zip destfile=&quot;sample.jar&quot; update=&quot;true&quot;&gt;\n  &lt;fileset dir=&quot;${Path}&quot; includes=&quot;your/package/Test.class&quot;/&gt;\n&lt;/zip&gt;\n</code></pre>\n"}],"owner":{"account_id":18117684,"reputation":21,"user_id":13174147,"display_name":"panda"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75637108,"answer_count":1,"score":1,"last_activity_date":1678012384,"creation_date":1677750144,"question_id":75613657,"body_markdown":"I need to update my file jar using ant by using this line command : jar -uf sample.jar [path in jar file] target-file \r\n\r\nI tried this : \r\n\r\n    &lt;target name=&quot;UpdateJar&quot; depends=&quot;Compile&quot;&gt;\r\n\t\t&lt;exec executable=&quot;java path&quot;&gt;\r\n\t\t\t&lt;arg value=&quot;-uf&quot;/&gt;\r\n\t\t\t&lt;arg value=&quot;$Sample.jar&quot;/&gt;\r\n\t\t\t&lt;arg value=&quot;${Path}&quot;/&gt;\r\n\t\t\t&lt;arg value=&quot;Test.class&quot;/&gt;\r\n\t\t&lt;/exec&gt;\r\n\t&lt;/target&gt;\r\n\r\nBut It&#39;s not working no such file or directory\r\n \r\nThe error is the following: `(path is : X:\\Jar\\test ): [exec] X:\\Jar\\test no such file or directory [exec] Result: 1 `","title":"How Can I use this command line in Ant","body":"<p>I need to update my file jar using ant by using this line command : jar -uf sample.jar [path in jar file] target-file</p>\n<p>I tried this :</p>\n<pre><code>&lt;target name=&quot;UpdateJar&quot; depends=&quot;Compile&quot;&gt;\n    &lt;exec executable=&quot;java path&quot;&gt;\n        &lt;arg value=&quot;-uf&quot;/&gt;\n        &lt;arg value=&quot;$Sample.jar&quot;/&gt;\n        &lt;arg value=&quot;${Path}&quot;/&gt;\n        &lt;arg value=&quot;Test.class&quot;/&gt;\n    &lt;/exec&gt;\n&lt;/target&gt;\n</code></pre>\n<p>But It's not working no such file or directory</p>\n<p>The error is the following: <code>(path is : X:\\Jar\\test ): [exec] X:\\Jar\\test no such file or directory [exec] Result: 1 </code></p>\n"},{"tags":["java","multithreading","concurrency","thread-safety","bcel"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1678117100,"post_id":75641434,"comment_id":133466607,"body_markdown":"There is no guaranty that concurrency issues will exhibit a specific behavior. The check within `computeIfAbsent` which could lead to a `ConcurrentModificationException` is made on a best effort basis and does not even exist in all Java versions (most notably, it doesn’t exist in Java&#160;8). Instead of only checking for this exception, you may verify whether you consistently receive the same value for the same key (if not, there were lost updates). But as said, there is no guaranty for a specific misbehavior. It may even happen to do what it is supposed to do in some runs, despite being broken.","body":"There is no guaranty that concurrency issues will exhibit a specific behavior. The check within <code>computeIfAbsent</code> which could lead to a <code>ConcurrentModificationException</code> is made on a best effort basis and does not even exist in all Java versions (most notably, it doesn’t exist in Java 8). Instead of only checking for this exception, you may verify whether you consistently receive the same value for the same key (if not, there were lost updates). But as said, there is no guaranty for a specific misbehavior. It may even happen to do what it is supposed to do in some runs, despite being broken."}],"owner":{"account_id":11342171,"reputation":805,"user_id":8315843,"display_name":"Sybuser"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678011862,"creation_date":1678010558,"question_id":75641434,"body_markdown":"I know there is a concurrency issue here in `org.apache.bcel.util.SyntheticRepository` and eventhough I know I happen to get `ConcurrentModificationException`, I cannot reproduce it by unit test.\r\n\r\n```java\r\npublic class SyntheticRepository extends MemorySensitiveClassPathRepository {\r\n    // This isn&#39;t thread-safe\r\n    private static final Map&lt;ClassPath, SyntheticRepository&gt; MAP = new HashMap&lt;&gt;();\r\n   \r\n    public static SyntheticRepository getInstance() {\r\n        return getInstance(ClassPath.SYSTEM_CLASS_PATH);\r\n    }\r\n\r\n    public static SyntheticRepository getInstance(final ClassPath classPath) {\r\n        return MAP.computeIfAbsent(classPath, SyntheticRepository::new);\r\n    }\r\n\r\n    private SyntheticRepository(final ClassPath path) {\r\n        super(path);\r\n    }\r\n}\r\n```\r\n\r\nException stack trace:\r\n\r\n    java.util.ConcurrentModificationException\r\n    \tat java.base/java.util.HashMap.computeIfAbsent(HashMap.java:1221)\r\n    \tat org.apache.bcel.util.SyntheticRepository.getInstance(SyntheticRepository.java:42)\r\n    \tat org.apache.bcel.util.SyntheticRepository.getInstance(SyntheticRepository.java:38)\r\n    \tat org.apache.bcel.classfile.JavaClass.&lt;init&gt;(JavaClass.java:145)\r\n    \tat org.apache.bcel.classfile.ClassParser.parse(ClassParser.java:178)\r\n\r\n\r\nMy unit test is as follows and it always succeeds instead of failing:\r\n\r\n```java\r\nimport org.apache.bcel.classfile.ClassParser;\r\nimport org.apache.bcel.classfile.JavaClass;\r\nimport org.apache.bcel.classfile.Utility;\r\nimport org.junit.jupiter.api.Assertions;\r\nimport org.junit.jupiter.api.Test;\r\n\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\nimport java.util.concurrent.Callable;\r\nimport java.util.concurrent.ConcurrentHashMap;\r\nimport java.util.concurrent.ExecutionException;\r\nimport java.util.concurrent.ExecutorService;\r\nimport java.util.concurrent.Executors;\r\nimport java.util.concurrent.Future;\r\n\r\npublic class MultiThreadedBCELTest {\r\n\r\n    private final ConcurrentHashMap&lt;String, String&gt; map = new ConcurrentHashMap&lt;&gt;();\r\n\r\n    @Test\r\n    public void testConcurrentModification() throws InterruptedException {\r\n        final List&lt;String&gt; classes = Arrays.asList(&quot;java.lang.String&quot;, &quot;java.util.List&quot;, &quot;java.util.Map&quot;, &quot;java.time.LocalDate&quot;, &quot;java.time.LocalDateTime&quot;, &quot;java.math.BigDecimal&quot;,\r\n                &quot;java.io.File&quot;, &quot;java.net.URL&quot;, &quot;java.nio.file.Path&quot;, &quot;java.util.concurrent.ConcurrentHashMap&quot;, &quot;java.util.regex.Pattern&quot;, &quot;java.util.stream.Stream&quot;,\r\n                &quot;java.lang.Integer&quot;, &quot;java.lang.Double&quot;, &quot;java.lang.Boolean&quot;, &quot;java.util.ArrayList&quot;, &quot;java.util.HashMap&quot;, &quot;java.util.Optional&quot;, &quot;java.util.Set&quot;,\r\n                &quot;java.nio.charset.Charset&quot;, &quot;java.time.LocalTime&quot;, &quot;java.util.Date&quot;, &quot;java.util.LinkedList&quot;, &quot;java.util.TreeMap&quot;, &quot;java.util.function.Predicate&quot;,\r\n                &quot;java.util.function.Function&quot;, &quot;java.util.function.Consumer&quot;, &quot;java.util.concurrent.CopyOnWriteArrayList&quot;, &quot;java.util.concurrent.locks.ReentrantLock&quot;,\r\n                &quot;java.lang.Long&quot;, &quot;java.lang.Float&quot;, &quot;java.lang.Character&quot;, &quot;java.util.Collections&quot;, &quot;java.util.Comparator&quot;, &quot;java.util.Arrays&quot;,\r\n                &quot;java.util.concurrent.ConcurrentLinkedQueue&quot;, &quot;java.util.concurrent.BlockingQueue&quot;, &quot;java.util.concurrent.ScheduledExecutorService&quot;,\r\n                &quot;java.util.concurrent.TimeUnit&quot;, &quot;java.util.concurrent.atomic.AtomicInteger&quot;, &quot;java.util.concurrent.CountDownLatch&quot;, &quot;java.util.concurrent.Semaphore&quot;,\r\n                &quot;java.util.concurrent.ExecutorService&quot;, &quot;java.util.concurrent.Executors&quot;, &quot;java.util.concurrent.ThreadPoolExecutor&quot;, &quot;java.util.concurrent.CyclicBarrier&quot;,\r\n                &quot;java.util.concurrent.DelayQueue&quot;, &quot;java.util.concurrent.PriorityBlockingQueue&quot;);\r\n        final ExecutorService threadPool = Executors.newFixedThreadPool(20);\r\n        final List&lt;Callable&lt;String&gt;&gt; tasks = new ArrayList&lt;&gt;();\r\n        for (final String className : classes) {\r\n            tasks.add(() -&gt; map.computeIfAbsent(className, MultiThreadedBCELTest::parse));\r\n        }\r\n        final List&lt;Future&lt;String&gt;&gt; results = threadPool.invokeAll(tasks);\r\n        for (final Future&lt;String&gt; future : results) {\r\n            try {\r\n                final String classString = future.get();\r\n                Assertions.assertNotNull(classString);\r\n            } catch (InterruptedException | ExecutionException e) {\r\n                Assertions.fail(e);\r\n            }\r\n        }\r\n    }\r\n\r\n    private static String parse(final String entryName) {\r\n        final String className = Utility.packageToPath(entryName) + JavaClass.EXTENSION;\r\n        try (InputStream inputStream = ClassLoader.getSystemResourceAsStream(className)) {\r\n            if (inputStream != null) {\r\n                final String fileName = className.substring(className.lastIndexOf(&#39;/&#39;) + 1);\r\n                return new ClassParser(inputStream, fileName).parse().toString();\r\n            }\r\n        } catch (final IOException e) {\r\n            Assertions.fail(e);\r\n        }\r\n        return null;\r\n    }\r\n}\r\n```\r\n\r\nDependencies:\r\n\r\n```xml\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.bcel&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;bcel&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.7.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.8.2&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n```\r\n","title":"How to prove this concurrency issue by unit test?","body":"<p>I know there is a concurrency issue here in <code>org.apache.bcel.util.SyntheticRepository</code> and eventhough I know I happen to get <code>ConcurrentModificationException</code>, I cannot reproduce it by unit test.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SyntheticRepository extends MemorySensitiveClassPathRepository {\n    // This isn't thread-safe\n    private static final Map&lt;ClassPath, SyntheticRepository&gt; MAP = new HashMap&lt;&gt;();\n   \n    public static SyntheticRepository getInstance() {\n        return getInstance(ClassPath.SYSTEM_CLASS_PATH);\n    }\n\n    public static SyntheticRepository getInstance(final ClassPath classPath) {\n        return MAP.computeIfAbsent(classPath, SyntheticRepository::new);\n    }\n\n    private SyntheticRepository(final ClassPath path) {\n        super(path);\n    }\n}\n</code></pre>\n<p>Exception stack trace:</p>\n<pre><code>java.util.ConcurrentModificationException\n    at java.base/java.util.HashMap.computeIfAbsent(HashMap.java:1221)\n    at org.apache.bcel.util.SyntheticRepository.getInstance(SyntheticRepository.java:42)\n    at org.apache.bcel.util.SyntheticRepository.getInstance(SyntheticRepository.java:38)\n    at org.apache.bcel.classfile.JavaClass.&lt;init&gt;(JavaClass.java:145)\n    at org.apache.bcel.classfile.ClassParser.parse(ClassParser.java:178)\n</code></pre>\n<p>My unit test is as follows and it always succeeds instead of failing:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.apache.bcel.classfile.ClassParser;\nimport org.apache.bcel.classfile.JavaClass;\nimport org.apache.bcel.classfile.Utility;\nimport org.junit.jupiter.api.Assertions;\nimport org.junit.jupiter.api.Test;\n\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\nimport java.util.concurrent.Callable;\nimport java.util.concurrent.ConcurrentHashMap;\nimport java.util.concurrent.ExecutionException;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.Future;\n\npublic class MultiThreadedBCELTest {\n\n    private final ConcurrentHashMap&lt;String, String&gt; map = new ConcurrentHashMap&lt;&gt;();\n\n    @Test\n    public void testConcurrentModification() throws InterruptedException {\n        final List&lt;String&gt; classes = Arrays.asList(&quot;java.lang.String&quot;, &quot;java.util.List&quot;, &quot;java.util.Map&quot;, &quot;java.time.LocalDate&quot;, &quot;java.time.LocalDateTime&quot;, &quot;java.math.BigDecimal&quot;,\n                &quot;java.io.File&quot;, &quot;java.net.URL&quot;, &quot;java.nio.file.Path&quot;, &quot;java.util.concurrent.ConcurrentHashMap&quot;, &quot;java.util.regex.Pattern&quot;, &quot;java.util.stream.Stream&quot;,\n                &quot;java.lang.Integer&quot;, &quot;java.lang.Double&quot;, &quot;java.lang.Boolean&quot;, &quot;java.util.ArrayList&quot;, &quot;java.util.HashMap&quot;, &quot;java.util.Optional&quot;, &quot;java.util.Set&quot;,\n                &quot;java.nio.charset.Charset&quot;, &quot;java.time.LocalTime&quot;, &quot;java.util.Date&quot;, &quot;java.util.LinkedList&quot;, &quot;java.util.TreeMap&quot;, &quot;java.util.function.Predicate&quot;,\n                &quot;java.util.function.Function&quot;, &quot;java.util.function.Consumer&quot;, &quot;java.util.concurrent.CopyOnWriteArrayList&quot;, &quot;java.util.concurrent.locks.ReentrantLock&quot;,\n                &quot;java.lang.Long&quot;, &quot;java.lang.Float&quot;, &quot;java.lang.Character&quot;, &quot;java.util.Collections&quot;, &quot;java.util.Comparator&quot;, &quot;java.util.Arrays&quot;,\n                &quot;java.util.concurrent.ConcurrentLinkedQueue&quot;, &quot;java.util.concurrent.BlockingQueue&quot;, &quot;java.util.concurrent.ScheduledExecutorService&quot;,\n                &quot;java.util.concurrent.TimeUnit&quot;, &quot;java.util.concurrent.atomic.AtomicInteger&quot;, &quot;java.util.concurrent.CountDownLatch&quot;, &quot;java.util.concurrent.Semaphore&quot;,\n                &quot;java.util.concurrent.ExecutorService&quot;, &quot;java.util.concurrent.Executors&quot;, &quot;java.util.concurrent.ThreadPoolExecutor&quot;, &quot;java.util.concurrent.CyclicBarrier&quot;,\n                &quot;java.util.concurrent.DelayQueue&quot;, &quot;java.util.concurrent.PriorityBlockingQueue&quot;);\n        final ExecutorService threadPool = Executors.newFixedThreadPool(20);\n        final List&lt;Callable&lt;String&gt;&gt; tasks = new ArrayList&lt;&gt;();\n        for (final String className : classes) {\n            tasks.add(() -&gt; map.computeIfAbsent(className, MultiThreadedBCELTest::parse));\n        }\n        final List&lt;Future&lt;String&gt;&gt; results = threadPool.invokeAll(tasks);\n        for (final Future&lt;String&gt; future : results) {\n            try {\n                final String classString = future.get();\n                Assertions.assertNotNull(classString);\n            } catch (InterruptedException | ExecutionException e) {\n                Assertions.fail(e);\n            }\n        }\n    }\n\n    private static String parse(final String entryName) {\n        final String className = Utility.packageToPath(entryName) + JavaClass.EXTENSION;\n        try (InputStream inputStream = ClassLoader.getSystemResourceAsStream(className)) {\n            if (inputStream != null) {\n                final String fileName = className.substring(className.lastIndexOf('/') + 1);\n                return new ClassParser(inputStream, fileName).parse().toString();\n            }\n        } catch (final IOException e) {\n            Assertions.fail(e);\n        }\n        return null;\n    }\n}\n</code></pre>\n<p>Dependencies:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.bcel&lt;/groupId&gt;\n            &lt;artifactId&gt;bcel&lt;/artifactId&gt;\n            &lt;version&gt;6.7.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n            &lt;version&gt;5.8.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n"},{"tags":["java","unit-testing","apache-kafka","spring-kafka","springmockito"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1678012509,"post_id":75641482,"comment_id":133447370,"body_markdown":"The code under test does not call `onSuccess()` on the `Future`, so why should we verify that it is called? It is not the responsibility of the code under test.","body":"The code under test does not call <code>onSuccess()</code> on the <code>Future</code>, so why should we verify that it is called? It is not the responsibility of the code under test."},{"owner":{"account_id":16528073,"reputation":125,"user_id":11942178,"display_name":"sFishman"},"score":0,"creation_date":1678012925,"post_id":75641482,"comment_id":133447423,"body_markdown":"Good point. You&#39;re saying my future variable in my test is not the same as the future that&#39;s returned from template.send inside of my method under test. Correct?  Is there any way to capture and test the future that gets returned inside of the my producer.send() method?","body":"Good point. You&#39;re saying my future variable in my test is not the same as the future that&#39;s returned from template.send inside of my method under test. Correct?  Is there any way to capture and test the future that gets returned inside of the my producer.send() method?"},{"owner":{"account_id":16528073,"reputation":125,"user_id":11942178,"display_name":"sFishman"},"score":0,"creation_date":1678012974,"post_id":75641482,"comment_id":133447430,"body_markdown":"And if not, how is making a fake &quot;future&quot; and just manually setting it&#39;s value a good test?  I&#39;m setting the future&#39;s value and then I&#39;ll test that it&#39;s value is what I just set it to be? That doesn&#39;t seem to test my method.","body":"And if not, how is making a fake &quot;future&quot; and just manually setting it&#39;s value a good test?  I&#39;m setting the future&#39;s value and then I&#39;ll test that it&#39;s value is what I just set it to be? That doesn&#39;t seem to test my method."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1678013122,"post_id":75641482,"comment_id":133447452,"body_markdown":"&quot;*you&#39;re saying my future variable in my test is not the same as the future that&#39;s returned from template.send*&quot; - No. I said that the code under test does not call `.onSuccess(...)` on the `Future`. It is not the reponsibility of the code under test to call `onSuccess(...)` and should thus not be tested.","body":"&quot;<i>you&#39;re saying my future variable in my test is not the same as the future that&#39;s returned from template.send</i>&quot; - No. I said that the code under test does not call <code>.onSuccess(...)</code> on the <code>Future</code>. It is not the reponsibility of the code under test to call <code>onSuccess(...)</code> and should thus not be tested."},{"owner":{"account_id":16528073,"reputation":125,"user_id":11942178,"display_name":"sFishman"},"score":0,"creation_date":1678014911,"post_id":75641482,"comment_id":133447714,"body_markdown":"Ok. I understand now. Good point. So what should be tested?","body":"Ok. I understand now. Good point. So what should be tested?"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1678015150,"post_id":75641482,"comment_id":133447754,"body_markdown":"This is borderline opinion-based. If I were the Product Owner, I would rather have tests on other, more meaningful, parts of the code base. --- Please read: [Can I ask only one question per post?](https://meta.stackexchange.com/questions/222735/can-i-ask-only-one-question-per-post)","body":"This is borderline opinion-based. If I were the Product Owner, I would rather have tests on other, more meaningful, parts of the code base. --- Please read: <a href=\"https://meta.stackexchange.com/questions/222735/can-i-ask-only-one-question-per-post\">Can I ask only one question per post?</a>"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1678030651,"post_id":75641482,"comment_id":133450159,"body_markdown":"Have you tried looking at the source code of Spring Kafka for their own tests? More specifically, what exactly are you testing here? send will be called  and return a Future, there&#39;s no doubt about that, so what are you actually trying to assert specific to your own application? If you want to test async code, then first try `.get()` the future, but you&#39;ve not injected any logger to capture/test what gets printed","body":"Have you tried looking at the source code of Spring Kafka for their own tests? More specifically, what exactly are you testing here? send will be called  and return a Future, there&#39;s no doubt about that, so what are you actually trying to assert specific to your own application? If you want to test async code, then first try <code>.get()</code> the future, but you&#39;ve not injected any logger to capture/test what gets printed"}],"owner":{"account_id":16528073,"reputation":125,"user_id":11942178,"display_name":"sFishman"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":294,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678011229,"creation_date":1678011229,"question_id":75641482,"body_markdown":"Here is my producer send method that I&#39;m writing a unit test for:\r\n```\r\npublic void send(final ReadingForecastRequest requestStub) {\r\n        logger.info(&quot;{}::send()&quot;, getClass().getCanonicalName());\r\n        final ProducerRecord&lt;String, ReadingForecastRequest&gt; record = new ProducerRecord&lt;&gt;(config.topicName, requestStub);\r\n        String context = requestStub.getHeader().getContext();\r\n        Long trackingId = requestStub.getHeader().getTrackingId();\r\n        record.headers().add(&quot;context&quot;, context.getBytes());\r\n        record.headers().add(&quot;trackingId&quot;, Longs.toByteArray(trackingId));\r\n        ListenableFuture future = template.send((ProducerRecord&lt;String, Req&gt;) record);\r\n\r\n        future.addCallback(new ListenableFutureCallback&lt;SendResult&lt;String, Req&gt;&gt;() {\r\n\r\n            @Override\r\n            public void onSuccess(SendResult&lt;String, Req&gt; result) {\r\n                logger.info(&quot;Sent message=[&quot; + requestStub +\r\n                    &quot;] with offset=[&quot; + result.getRecordMetadata().offset() + &quot;]&quot;);\r\n            }\r\n\r\n            @Override\r\n            public void onFailure(Throwable ex) {\r\n                logger.error(&quot;Unable to send message=[&quot;\r\n                    + requestStub + &quot;] due to : &quot; + ex.getMessage());\r\n            }\r\n        });\r\n    }\r\n```\r\nHere is my test\r\n```\r\npublic class ProducerTest {\r\n\r\n    final KafkaTemplate&lt;String, Integer&gt; template = createKafkaTemplateMock();\r\n    final String topicName = UUID.randomUUID().toString();\r\n    final int sendTimeout = 1;\r\n    final Producer producer = createProducer(topicName, sendTimeout);\r\n\r\n    @Test\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    public void testSuccessfulSend() {\r\n        ProducerRecord&lt;String, String&gt; record = mock(ProducerRecord.class);\r\n        RecordMetadata recordMetadata = new RecordMetadata(new TopicPartition(topicName, 0), 0, 0L, 0L, 0L, 0, 0);\r\n        SettableListenableFuture&lt;SendResult&lt;String, String&gt;&gt; future = new SettableListenableFuture&lt;&gt;();\r\n        final ReadingForecastRequest request = new ReadingForecastRequest(0, 0, 1.0, 20, new Double[] { 567.8, 976.5 }, header);\r\n        when(template.send((ProducerRecord) any())).thenReturn(future);\r\n        producer.send(request);\r\n        future.set(new SendResult&lt;String, String&gt;(record, recordMetadata));\r\n        verify(future, times(1)).onSuccess(SendResult.class);\r\n    }\r\n}\r\n```\r\n\r\nMy question is on the last line of my test (which doesn&#39;t work). I&#39;m not sure what to assert.  I want to just check that the onSuccess method within the callback ran to see that the send was successful, but it&#39;s not recognizing &quot;onSuccess&quot;.\r\nIs there something else I should be asserting?\r\n\r\nI based my test on [this](https://stackoverflow.com/questions/57475464/how-to-mock-result-from-kafkatemplate/57478836#57478836) stackoverflow question, which in the edited answer, captures future output and tests that. I&#39;m having trouble understanding how that really tests the method and how to see what that output would be (e.g. for a successful run) if I were to test that.","title":"What to assert in a unit test for Kafka producer void send method","body":"<p>Here is my producer send method that I'm writing a unit test for:</p>\n<pre><code>public void send(final ReadingForecastRequest requestStub) {\n        logger.info(&quot;{}::send()&quot;, getClass().getCanonicalName());\n        final ProducerRecord&lt;String, ReadingForecastRequest&gt; record = new ProducerRecord&lt;&gt;(config.topicName, requestStub);\n        String context = requestStub.getHeader().getContext();\n        Long trackingId = requestStub.getHeader().getTrackingId();\n        record.headers().add(&quot;context&quot;, context.getBytes());\n        record.headers().add(&quot;trackingId&quot;, Longs.toByteArray(trackingId));\n        ListenableFuture future = template.send((ProducerRecord&lt;String, Req&gt;) record);\n\n        future.addCallback(new ListenableFutureCallback&lt;SendResult&lt;String, Req&gt;&gt;() {\n\n            @Override\n            public void onSuccess(SendResult&lt;String, Req&gt; result) {\n                logger.info(&quot;Sent message=[&quot; + requestStub +\n                    &quot;] with offset=[&quot; + result.getRecordMetadata().offset() + &quot;]&quot;);\n            }\n\n            @Override\n            public void onFailure(Throwable ex) {\n                logger.error(&quot;Unable to send message=[&quot;\n                    + requestStub + &quot;] due to : &quot; + ex.getMessage());\n            }\n        });\n    }\n</code></pre>\n<p>Here is my test</p>\n<pre><code>public class ProducerTest {\n\n    final KafkaTemplate&lt;String, Integer&gt; template = createKafkaTemplateMock();\n    final String topicName = UUID.randomUUID().toString();\n    final int sendTimeout = 1;\n    final Producer producer = createProducer(topicName, sendTimeout);\n\n    @Test\n    @SuppressWarnings(&quot;unchecked&quot;)\n    public void testSuccessfulSend() {\n        ProducerRecord&lt;String, String&gt; record = mock(ProducerRecord.class);\n        RecordMetadata recordMetadata = new RecordMetadata(new TopicPartition(topicName, 0), 0, 0L, 0L, 0L, 0, 0);\n        SettableListenableFuture&lt;SendResult&lt;String, String&gt;&gt; future = new SettableListenableFuture&lt;&gt;();\n        final ReadingForecastRequest request = new ReadingForecastRequest(0, 0, 1.0, 20, new Double[] { 567.8, 976.5 }, header);\n        when(template.send((ProducerRecord) any())).thenReturn(future);\n        producer.send(request);\n        future.set(new SendResult&lt;String, String&gt;(record, recordMetadata));\n        verify(future, times(1)).onSuccess(SendResult.class);\n    }\n}\n</code></pre>\n<p>My question is on the last line of my test (which doesn't work). I'm not sure what to assert.  I want to just check that the onSuccess method within the callback ran to see that the send was successful, but it's not recognizing &quot;onSuccess&quot;.\nIs there something else I should be asserting?</p>\n<p>I based my test on <a href=\"https://stackoverflow.com/questions/57475464/how-to-mock-result-from-kafkatemplate/57478836#57478836\">this</a> stackoverflow question, which in the edited answer, captures future output and tests that. I'm having trouble understanding how that really tests the method and how to see what that output would be (e.g. for a successful run) if I were to test that.</p>\n"},{"tags":["java","spring","spring-boot","spring-test"],"comments":[{"owner":{"account_id":5636066,"reputation":6620,"user_id":4461537,"accept_rate":89,"display_name":"Ren&#233; Winkler"},"score":0,"creation_date":1678002096,"post_id":75640769,"comment_id":133446106,"body_markdown":"in your WebMvcTest annotation you set excludeFilters to exlude your TrailingSlashFilter class. Maybe this could be a problem.","body":"in your WebMvcTest annotation you set excludeFilters to exlude your TrailingSlashFilter class. Maybe this could be a problem."},{"owner":{"account_id":8915876,"reputation":3560,"user_id":6654475,"accept_rate":100,"display_name":"Francislainy Campos"},"score":0,"creation_date":1678002522,"post_id":75640769,"comment_id":133446160,"body_markdown":"If I don&#39;t do this I get this other error Failed to load application: Caused by: org.springframework.beans.factory.support.BeanDefinitionOverrideException: Invalid bean definition with name &#39;trailingSlashRedirectingFilter&#39; defined in class path resource.","body":"If I don&#39;t do this I get this other error Failed to load application: Caused by: org.springframework.beans.factory.support.BeanDefinitionOver&zwnj;&#8203;rideException: Invalid bean definition with name &#39;trailingSlashRedirectingFilter&#39; defined in class path resource."},{"owner":{"account_id":8915876,"reputation":3560,"user_id":6654475,"accept_rate":100,"display_name":"Francislainy Campos"},"score":0,"creation_date":1678002568,"post_id":75640769,"comment_id":133446164,"body_markdown":"The filter is excluded but then reapplied through the TestConfig class which is being imported within the other annotation.","body":"The filter is excluded but then reapplied through the TestConfig class which is being imported within the other annotation."}],"owner":{"account_id":8915876,"reputation":3560,"user_id":6654475,"accept_rate":100,"display_name":"Francislainy Campos"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":628,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678010875,"creation_date":1678001558,"question_id":75640769,"body_markdown":"I have my controller with a filter to allow for requests with and without the trailing slash /. This functionality has been implemented through the use of a filter located under the main package.\r\n\r\n```\r\n@Component\r\n@Order(Ordered.HIGHEST_PRECEDENCE)\r\npublic class TrailingSlashRedirectingFilter extends OncePerRequestFilter {\r\n\r\n    @Override\r\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\r\n        String fullURL = ServletUriComponentsBuilder\r\n                .fromRequest(request)\r\n                .build()\r\n                .toString();\r\n        String uri = request.getRequestURI();\r\n        if (fullURL.endsWith(&quot;/&quot;) &amp;&amp; !uri.equals(&quot;/&quot;)) {\r\n            fullURL = fullURL.substring(0, fullURL.length() - 1);\r\n            response.setStatus(HttpStatus.MOVED_PERMANENTLY.value());\r\n            response.setHeader(HttpHeaders.LOCATION, fullURL);\r\n        } else if(uri.equals(&quot;&quot;)){\r\n            response.setStatus(HttpStatus.MOVED_PERMANENTLY.value());\r\n            response.setHeader(HttpHeaders.LOCATION, fullURL + &quot;/&quot;);\r\n        } else {\r\n            filterChain.doFilter(request, response);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI then added this to the config package inside the test directory:\r\n\r\n```\r\n@Configuration\r\npublic class TestConfig {\r\n\r\n    @Bean\r\n    public FilterRegistrationBean&lt;TrailingSlashRedirectingFilter&gt; trailingSlashRedirectingFilter() {\r\n        FilterRegistrationBean&lt;TrailingSlashRedirectingFilter&gt; registrationBean = new FilterRegistrationBean&lt;&gt;();\r\n        registrationBean.setFilter(new TrailingSlashRedirectingFilter());\r\n        registrationBean.setOrder(Ordered.HIGHEST_PRECEDENCE);\r\n        registrationBean.addUrlPatterns(&quot;/api/*&quot;); // replace with your application&#39;s URL pattern\r\n        return registrationBean;\r\n    }\r\n}\r\n```\r\n\r\nHowever, even though my application works fine with and without the trailing slashes, my test is still failing when I don&#39;t have a / added to it, even though I&#39;m calling this configuration class on top of the class.\r\n\r\n```\r\n@WebMvcTest(controllers = UserController.class,\r\n        excludeFilters = @ComponentScan.Filter(type = FilterType.ASSIGNABLE_TYPE, classes = TrailingSlashRedirectingFilter.class))\r\n@Import(TestConfig.class)\r\n@ExtendWith(MockitoExtension.class)\r\n@TestInstance(TestInstance.Lifecycle.PER_CLASS)\r\nclass UserControllerTest extends BaseTestConfig {\r\n\r\n    UUID userId;\r\n    User userRequest;\r\n    User userResponse;\r\n    String jsonRequest;\r\n    String jsonResponse;\r\n\r\n    @MockBean\r\n    UserService userService;\r\n\r\n    @Test\r\n    void testCreateUser() throws Exception {\r\n\r\n        User user = userResponse;\r\n        when(userService.createUser(any())).thenReturn(user);\r\n\r\n        mockMvc.perform(RestDocumentationRequestBuilders.post(&quot;/api/v1/ht/users&quot;).content(jsonRequest).contentType(MediaType.APPLICATION_JSON))\r\n                .andExpect(status().is2xxSuccessful())\r\n                .andExpect(content().json(jsonResponse))\r\n                .andDo(document(&quot;create-user&quot;,\r\n                        resource(&quot;Create a user&quot;)))\r\n                .andReturn();\r\n    }\r\n}\r\n```\r\n\r\nUPDATE\r\n\r\nUsing this class now but the tests still only work if the trailing slash is applied.\r\n\r\n```\r\n@Configuration\r\npublic class WebConfiguration implements WebMvcConfigurer {\r\n\r\n    @Override\r\n    public void configurePathMatch(PathMatchConfigurer configurer) {\r\n      configurer.setUseTrailingSlashMatch(true);\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nI&#39;m using Spring 2.7.5\r\n\r\nThank you.\r\n\r\n","title":"Spring tests failing with 404 when trailing slashes / missing from requests","body":"<p>I have my controller with a filter to allow for requests with and without the trailing slash /. This functionality has been implemented through the use of a filter located under the main package.</p>\n<pre><code>@Component\n@Order(Ordered.HIGHEST_PRECEDENCE)\npublic class TrailingSlashRedirectingFilter extends OncePerRequestFilter {\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\n        String fullURL = ServletUriComponentsBuilder\n                .fromRequest(request)\n                .build()\n                .toString();\n        String uri = request.getRequestURI();\n        if (fullURL.endsWith(&quot;/&quot;) &amp;&amp; !uri.equals(&quot;/&quot;)) {\n            fullURL = fullURL.substring(0, fullURL.length() - 1);\n            response.setStatus(HttpStatus.MOVED_PERMANENTLY.value());\n            response.setHeader(HttpHeaders.LOCATION, fullURL);\n        } else if(uri.equals(&quot;&quot;)){\n            response.setStatus(HttpStatus.MOVED_PERMANENTLY.value());\n            response.setHeader(HttpHeaders.LOCATION, fullURL + &quot;/&quot;);\n        } else {\n            filterChain.doFilter(request, response);\n        }\n    }\n}\n</code></pre>\n<p>I then added this to the config package inside the test directory:</p>\n<pre><code>@Configuration\npublic class TestConfig {\n\n    @Bean\n    public FilterRegistrationBean&lt;TrailingSlashRedirectingFilter&gt; trailingSlashRedirectingFilter() {\n        FilterRegistrationBean&lt;TrailingSlashRedirectingFilter&gt; registrationBean = new FilterRegistrationBean&lt;&gt;();\n        registrationBean.setFilter(new TrailingSlashRedirectingFilter());\n        registrationBean.setOrder(Ordered.HIGHEST_PRECEDENCE);\n        registrationBean.addUrlPatterns(&quot;/api/*&quot;); // replace with your application's URL pattern\n        return registrationBean;\n    }\n}\n</code></pre>\n<p>However, even though my application works fine with and without the trailing slashes, my test is still failing when I don't have a / added to it, even though I'm calling this configuration class on top of the class.</p>\n<pre><code>@WebMvcTest(controllers = UserController.class,\n        excludeFilters = @ComponentScan.Filter(type = FilterType.ASSIGNABLE_TYPE, classes = TrailingSlashRedirectingFilter.class))\n@Import(TestConfig.class)\n@ExtendWith(MockitoExtension.class)\n@TestInstance(TestInstance.Lifecycle.PER_CLASS)\nclass UserControllerTest extends BaseTestConfig {\n\n    UUID userId;\n    User userRequest;\n    User userResponse;\n    String jsonRequest;\n    String jsonResponse;\n\n    @MockBean\n    UserService userService;\n\n    @Test\n    void testCreateUser() throws Exception {\n\n        User user = userResponse;\n        when(userService.createUser(any())).thenReturn(user);\n\n        mockMvc.perform(RestDocumentationRequestBuilders.post(&quot;/api/v1/ht/users&quot;).content(jsonRequest).contentType(MediaType.APPLICATION_JSON))\n                .andExpect(status().is2xxSuccessful())\n                .andExpect(content().json(jsonResponse))\n                .andDo(document(&quot;create-user&quot;,\n                        resource(&quot;Create a user&quot;)))\n                .andReturn();\n    }\n}\n</code></pre>\n<p>UPDATE</p>\n<p>Using this class now but the tests still only work if the trailing slash is applied.</p>\n<pre><code>@Configuration\npublic class WebConfiguration implements WebMvcConfigurer {\n\n    @Override\n    public void configurePathMatch(PathMatchConfigurer configurer) {\n      configurer.setUseTrailingSlashMatch(true);\n    }\n  }\n}\n</code></pre>\n<p>I'm using Spring 2.7.5</p>\n<p>Thank you.</p>\n"},{"tags":["java","android","flutter","kotlin","dart"],"owner":{"account_id":27939285,"reputation":1,"user_id":21335619,"display_name":"Mohammad-Ihmeid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1678037085,"answer_count":0,"score":0,"last_activity_date":1678009963,"creation_date":1678009963,"question_id":75641375,"body_markdown":"Note: Some input files use or override a deprecated API.\r\nNote: Recompile with -Xlint:deprecation for details.\r\nNote: C:\\Users\\Dell\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\firebase_messaging-14.2.5\\android\\src\\main\\java\\io\\flutter\\plugins\\firebase\\messagin\r\ng\\FlutterFirebaseMessagingPlugin.java uses unchecked or unsafe operations.\r\nNote: Recompile with -Xlint:unchecked for details.\r\n\r\n\r\nI am trying to build a APK  of my app, but this error appears","title":"I am trying to Build a APK of your app, but this error APPEARS","body":"<p>Note: Some input files use or override a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\nNote: C:\\Users\\Dell\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\firebase_messaging-14.2.5\\android\\src\\main\\java\\io\\flutter\\plugins\\firebase\\messagin\ng\\FlutterFirebaseMessagingPlugin.java uses unchecked or unsafe operations.\nNote: Recompile with -Xlint:unchecked for details.</p>\n<p>I am trying to build a APK  of my app, but this error appears</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9624,"page":601,"page_size":100}
