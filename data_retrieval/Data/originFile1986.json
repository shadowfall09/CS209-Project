{"items":[{"tags":["java","android","retrofit2","okhttp"],"owner":{"account_id":21494684,"reputation":85,"user_id":15839866,"display_name":"Z_landbad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":245,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1632943466,"creation_date":1632943466,"question_id":69382327,"body_markdown":"I am somewhat new to android development and ```okhttp```/```Retrofit```\r\n\r\nPlease check my first post for the reason why I need to try and get a retry mechanism working\r\n[My First post][1]\r\n\r\nI need some help implementing the ```.clone()``` for Retrofit in my service so that it can try to call my URL again if it fails the first time. \r\n\r\nmy ```urlcontroller.java```\r\n```\r\npublic class UrlController{\r\n\r\n    public static boolean loading = false;\r\n    private static final OkHttpClient okHttpClient = new OkHttpClient.Builder()\r\n            .connectTimeout(60, TimeUnit.MINUTES)\r\n            .writeTimeout(60, TimeUnit.MINUTES)\r\n            .readTimeout(60, TimeUnit.MINUTES)\r\n            .callTimeout(60, TimeUnit.MINUTES)\r\n            .build();\r\n\r\n\r\n    public static String IP_ADDRESS = &quot;https://e***edd****.com/&quot;;//Enter You Ip_Address here here\r\n    public static String Purchase_code = &quot;********************&quot;;\r\n    public static String Custom_Security = &quot;***************&quot;;//Enter the Custom Security code here\r\n   \r\n    // Please don&#39;t change the below code without proper knowledge\r\n    private static final OkHttpClient.Builder httpClient = new OkHttpClient.Builder();\r\n    public static String Base_URL = IP_ADDRESS + &quot;json/appr/v1/&quot;;\r\n    private static final Retrofit.Builder builder =\r\n            new Retrofit.Builder()\r\n                    .baseUrl(Base_URL)\r\n                    .client(okHttpClient)\r\n                    .addConverterFactory(GsonConverterFactory.create());\r\n\r\n    private static Retrofit retrofit = builder.build();\r\n\r\n    public static &lt;S&gt; S createService(Class&lt;S&gt; serviceClass) {\r\n        return retrofit.create(serviceClass);\r\n    }\r\n\r\n    public static &lt;S&gt; S createService(\r\n            Class&lt;S&gt; serviceClass, String username, String password, Context context) {\r\n        if (!TextUtils.isEmpty(username)\r\n                &amp;&amp; !TextUtils.isEmpty(password)) {\r\n            String authToken = Credentials.basic(username, password);\r\n            return createService(serviceClass, authToken, context);\r\n        } else {\r\n            return createService(serviceClass);\r\n        }\r\n    }\r\n\r\n\r\n    public static &lt;S&gt; S createServiceNoTimeout(Class&lt;S&gt; serviceClass, String authToken, Context context) {\r\n        if (!TextUtils.isEmpty(authToken)) {\r\n            AuthenticationInterceptor interceptor = new AuthenticationInterceptor(authToken, context);\r\n            if (!httpClient.interceptors().contains(interceptor)) {\r\n                httpClient.addInterceptor(interceptor);\r\n                httpClient.connectTimeout(0, TimeUnit.MINUTES);\r\n                httpClient.readTimeout(0, TimeUnit.SECONDS);\r\n                httpClient.writeTimeout(0, TimeUnit.SECONDS);\r\n                builder.client(httpClient.build());\r\n                retrofit = builder.build();\r\n            }\r\n        }\r\n        return retrofit.create(serviceClass);\r\n    }\r\n\r\n    public static &lt;S&gt; S createServiceNoTimeoutUP(\r\n            Class&lt;S&gt; serviceClass, String username, String password, Context context) {\r\n        if (!TextUtils.isEmpty(username)\r\n                &amp;&amp; !TextUtils.isEmpty(password)) {\r\n            String authToken = Credentials.basic(username, password);\r\n            return createServiceNoTimeout(serviceClass, authToken, context);\r\n        }\r\n        return createService(serviceClass);\r\n    }\r\n\r\n    public static &lt;S&gt; S createService(\r\n            Class&lt;S&gt; serviceClass, final String authToken, Context context) {\r\n        if (!TextUtils.isEmpty(authToken)) {\r\n            AuthenticationInterceptor interceptor =\r\n                    new AuthenticationInterceptor(authToken, context);\r\n\r\n            if (!httpClient.interceptors().contains(interceptor)) {\r\n                httpClient.addInterceptor(interceptor);\r\n\r\n                builder.client(httpClient.build());\r\n                retrofit = builder.build();\r\n            }\r\n        }\r\n        return retrofit.create(serviceClass);\r\n    }\r\n\r\n    public static Map&lt;String, String&gt; AddHeaders(Context context) {\r\n        Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\r\n        *THIS INFO WAS REMOVED FOR SECURITY PURPOSES\r\n        return map;\r\n    }\r\n\r\n    public static Map&lt;String, String&gt; UploadImageAddHeaders(Context context) {\r\n        Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\r\n        *THIS INFO WAS REMOVED FOR SECURITY PURPOSES\r\n        return map;\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\nMy ```splashScreen.java``` \r\nI Removed some lines of code which basically just gets the data the was returned from the call to my webpage which then gets implemented in my app it is basic data like names, color-codes and user login/signup data\r\n```\r\n   public void api_getSettings() {\r\n        RestService restService = UrlController.createService(RestService.class);\r\n        try{\r\n            Call&lt;ResponseBody&gt; myCall = restService.getSettings(UrlController.AddHeaders(this));\r\n            myCall.enqueue(new Callback&lt;ResponseBody&gt;() {\r\n                @Override\r\n                public void onResponse(Call&lt;ResponseBody&gt; call, Response&lt;ResponseBody&gt; responseObj) {\r\n                    try {\r\n                        System.out.println(&quot;try2&quot;);\r\n                        if (responseObj.isSuccessful()) {\r\n                            Log.d(&quot;info settings Responce&quot;, &quot;&quot; + responseObj.toString());\r\n\r\n                            JSONObject response = new JSONObject(responseObj.body().string());\r\n                            if (response.getBoolean(&quot;success&quot;)) {\r\n                                jsonObjectSetting = response.getJSONObject(&quot;data&quot;);\r\n                                //some stuff have been hidden for security reasons\r\n                            } else {\r\n                                Toast.makeText(activity, response.get(&quot;test message&quot;).toString(), Toast.LENGTH_SHORT).show();\r\n                            }\r\n                        }\r\n\r\n                    } catch (JSONException | IOException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n                @Override\r\n                public void onFailure(Call&lt;ResponseBody&gt; call, Throwable t) {\r\n\r\n                }\r\n            });\r\n        } catch (\r\n                ArrayIndexOutOfBoundsException e) {\r\n                e.printStackTrace();\r\n        }\r\n    }\r\n\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/69377864/intermittent-java-net-unknownhostexception-possibly-caused-by-government-censors","title":"how to use .clone() Retrofit in android application","body":"<p>I am somewhat new to android development and <code>okhttp</code>/<code>Retrofit</code></p>\n<p>Please check my first post for the reason why I need to try and get a retry mechanism working\n<a href=\"https://stackoverflow.com/questions/69377864/intermittent-java-net-unknownhostexception-possibly-caused-by-government-censors\">My First post</a></p>\n<p>I need some help implementing the <code>.clone()</code> for Retrofit in my service so that it can try to call my URL again if it fails the first time.</p>\n<p>my <code>urlcontroller.java</code></p>\n<pre><code>public class UrlController{\n\n    public static boolean loading = false;\n    private static final OkHttpClient okHttpClient = new OkHttpClient.Builder()\n            .connectTimeout(60, TimeUnit.MINUTES)\n            .writeTimeout(60, TimeUnit.MINUTES)\n            .readTimeout(60, TimeUnit.MINUTES)\n            .callTimeout(60, TimeUnit.MINUTES)\n            .build();\n\n\n    public static String IP_ADDRESS = &quot;https://e***edd****.com/&quot;;//Enter You Ip_Address here here\n    public static String Purchase_code = &quot;********************&quot;;\n    public static String Custom_Security = &quot;***************&quot;;//Enter the Custom Security code here\n   \n    // Please don't change the below code without proper knowledge\n    private static final OkHttpClient.Builder httpClient = new OkHttpClient.Builder();\n    public static String Base_URL = IP_ADDRESS + &quot;json/appr/v1/&quot;;\n    private static final Retrofit.Builder builder =\n            new Retrofit.Builder()\n                    .baseUrl(Base_URL)\n                    .client(okHttpClient)\n                    .addConverterFactory(GsonConverterFactory.create());\n\n    private static Retrofit retrofit = builder.build();\n\n    public static &lt;S&gt; S createService(Class&lt;S&gt; serviceClass) {\n        return retrofit.create(serviceClass);\n    }\n\n    public static &lt;S&gt; S createService(\n            Class&lt;S&gt; serviceClass, String username, String password, Context context) {\n        if (!TextUtils.isEmpty(username)\n                &amp;&amp; !TextUtils.isEmpty(password)) {\n            String authToken = Credentials.basic(username, password);\n            return createService(serviceClass, authToken, context);\n        } else {\n            return createService(serviceClass);\n        }\n    }\n\n\n    public static &lt;S&gt; S createServiceNoTimeout(Class&lt;S&gt; serviceClass, String authToken, Context context) {\n        if (!TextUtils.isEmpty(authToken)) {\n            AuthenticationInterceptor interceptor = new AuthenticationInterceptor(authToken, context);\n            if (!httpClient.interceptors().contains(interceptor)) {\n                httpClient.addInterceptor(interceptor);\n                httpClient.connectTimeout(0, TimeUnit.MINUTES);\n                httpClient.readTimeout(0, TimeUnit.SECONDS);\n                httpClient.writeTimeout(0, TimeUnit.SECONDS);\n                builder.client(httpClient.build());\n                retrofit = builder.build();\n            }\n        }\n        return retrofit.create(serviceClass);\n    }\n\n    public static &lt;S&gt; S createServiceNoTimeoutUP(\n            Class&lt;S&gt; serviceClass, String username, String password, Context context) {\n        if (!TextUtils.isEmpty(username)\n                &amp;&amp; !TextUtils.isEmpty(password)) {\n            String authToken = Credentials.basic(username, password);\n            return createServiceNoTimeout(serviceClass, authToken, context);\n        }\n        return createService(serviceClass);\n    }\n\n    public static &lt;S&gt; S createService(\n            Class&lt;S&gt; serviceClass, final String authToken, Context context) {\n        if (!TextUtils.isEmpty(authToken)) {\n            AuthenticationInterceptor interceptor =\n                    new AuthenticationInterceptor(authToken, context);\n\n            if (!httpClient.interceptors().contains(interceptor)) {\n                httpClient.addInterceptor(interceptor);\n\n                builder.client(httpClient.build());\n                retrofit = builder.build();\n            }\n        }\n        return retrofit.create(serviceClass);\n    }\n\n    public static Map&lt;String, String&gt; AddHeaders(Context context) {\n        Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\n        *THIS INFO WAS REMOVED FOR SECURITY PURPOSES\n        return map;\n    }\n\n    public static Map&lt;String, String&gt; UploadImageAddHeaders(Context context) {\n        Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\n        *THIS INFO WAS REMOVED FOR SECURITY PURPOSES\n        return map;\n    }\n\n}\n</code></pre>\n<p>My <code>splashScreen.java</code>\nI Removed some lines of code which basically just gets the data the was returned from the call to my webpage which then gets implemented in my app it is basic data like names, color-codes and user login/signup data</p>\n<pre><code>   public void api_getSettings() {\n        RestService restService = UrlController.createService(RestService.class);\n        try{\n            Call&lt;ResponseBody&gt; myCall = restService.getSettings(UrlController.AddHeaders(this));\n            myCall.enqueue(new Callback&lt;ResponseBody&gt;() {\n                @Override\n                public void onResponse(Call&lt;ResponseBody&gt; call, Response&lt;ResponseBody&gt; responseObj) {\n                    try {\n                        System.out.println(&quot;try2&quot;);\n                        if (responseObj.isSuccessful()) {\n                            Log.d(&quot;info settings Responce&quot;, &quot;&quot; + responseObj.toString());\n\n                            JSONObject response = new JSONObject(responseObj.body().string());\n                            if (response.getBoolean(&quot;success&quot;)) {\n                                jsonObjectSetting = response.getJSONObject(&quot;data&quot;);\n                                //some stuff have been hidden for security reasons\n                            } else {\n                                Toast.makeText(activity, response.get(&quot;test message&quot;).toString(), Toast.LENGTH_SHORT).show();\n                            }\n                        }\n\n                    } catch (JSONException | IOException e) {\n                        e.printStackTrace();\n                    }\n                }\n                @Override\n                public void onFailure(Call&lt;ResponseBody&gt; call, Throwable t) {\n\n                }\n            });\n        } catch (\n                ArrayIndexOutOfBoundsException e) {\n                e.printStackTrace();\n        }\n    }\n\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":2,"creation_date":1632943619,"post_id":69382303,"comment_id":122633186,"body_markdown":"Generics cannot be used asprimitives (except wrappers). That&#39;s it.","body":"Generics cannot be used asprimitives (except wrappers). That&#39;s it."},{"owner":{"account_id":151394,"reputation":52351,"user_id":365237,"accept_rate":96,"display_name":"eis"},"score":0,"creation_date":1632943659,"post_id":69382303,"comment_id":122633201,"body_markdown":"&quot; I want this array to be as fast as possible, so for most of the cases, I&#39;d like it to be a long[]. However, I&#39;d also like to support some cases where it is a BigInteger[] array.&quot; biginteger and long don&#39;t have much in common. Are you really sure you want to have both in a same array? That will have plenty of perf penalties.","body":"&quot; I want this array to be as fast as possible, so for most of the cases, I&#39;d like it to be a long[]. However, I&#39;d also like to support some cases where it is a BigInteger[] array.&quot; biginteger and long don&#39;t have much in common. Are you really sure you want to have both in a same array? That will have plenty of perf penalties."}],"owner":{"account_id":7063007,"reputation":63,"user_id":12276541,"display_name":"Rafaelo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1632943329,"creation_date":1632943329,"question_id":69382303,"body_markdown":"Suppose I want to have a class for polynomials:\r\n\r\n    public class Polynomial&lt;T&gt; {\r\n        private T[] coefficients;\r\n    }\r\n\r\nwhere I need to store the coefficients in an array. I want this array to be as fast as possible, so for most of the cases, I&#39;d like it to be a `long[]`. However, I&#39;d also like to support some cases where it is a `BigInteger[]` array. \r\n\r\nI&#39;ve been reading about generic arrays in https://stackoverflow.com/questions/529085/how-to-create-a-generic-array-in-java and it looks like this case:\r\n\r\n    public class GenSet&lt;E&gt; {\r\n    \r\n        private E[] a;\r\n    \r\n        public GenSet(Class&lt;E&gt; c, int s) {\r\n            // Use Array native method to create array\r\n            // of a type only known at run time\r\n            @SuppressWarnings(&quot;unchecked&quot;)\r\n            final E[] a = (E[]) Array.newInstance(c, s);\r\n            this.a = a;\r\n        }\r\n    \r\n        E get(int i) {\r\n            return a[i];\r\n        }\r\n    }\r\n\r\nwould not work for `long`. Maybe I&#39;d have to use `Long`, for which I&#39;d have some performance penalties I guess. The unchecked case, on the same answer, is even worse as things are just an `Object`.","title":"Java generic array type that also supports long[]?","body":"<p>Suppose I want to have a class for polynomials:</p>\n<pre><code>public class Polynomial&lt;T&gt; {\n    private T[] coefficients;\n}\n</code></pre>\n<p>where I need to store the coefficients in an array. I want this array to be as fast as possible, so for most of the cases, I'd like it to be a <code>long[]</code>. However, I'd also like to support some cases where it is a <code>BigInteger[]</code> array.</p>\n<p>I've been reading about generic arrays in <a href=\"https://stackoverflow.com/questions/529085/how-to-create-a-generic-array-in-java\">How to create a generic array in Java?</a> and it looks like this case:</p>\n<pre><code>public class GenSet&lt;E&gt; {\n\n    private E[] a;\n\n    public GenSet(Class&lt;E&gt; c, int s) {\n        // Use Array native method to create array\n        // of a type only known at run time\n        @SuppressWarnings(&quot;unchecked&quot;)\n        final E[] a = (E[]) Array.newInstance(c, s);\n        this.a = a;\n    }\n\n    E get(int i) {\n        return a[i];\n    }\n}\n</code></pre>\n<p>would not work for <code>long</code>. Maybe I'd have to use <code>Long</code>, for which I'd have some performance penalties I guess. The unchecked case, on the same answer, is even worse as things are just an <code>Object</code>.</p>\n"},{"tags":["java","swing","layout-manager","boxlayout"],"comments":[{"owner":{"account_id":2259314,"reputation":11225,"user_id":1989769,"accept_rate":45,"display_name":"Sergiy Medvynskyy"},"score":1,"creation_date":1632940200,"post_id":69381558,"comment_id":122632010,"body_markdown":"Please share your code in form of [mcve]","body":"Please share your code in form of <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}],"answers":[{"tags":[],"owner":{"account_id":8803970,"reputation":6689,"user_id":6579265,"display_name":"George Z."},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1632940499,"creation_date":1632940499,"answer_id":69381750,"question_id":69381558,"body_markdown":"There are a lot of ways to achieve what you are looking for.\r\n\r\nWhen using `BoxLayout`, I usually place the components into nested panels.\r\n\r\nSee my example where I use `BoxLayout` with `X_AXIS` for each component. You could use another [LayoutManagers][1] as well, this is just an example:\r\n\r\n    public class BoxLayoutAlign {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSwingUtilities.invokeLater(() -&gt; {\r\n    \t\t\tUIManager.put(&quot;Label.font&quot;, new Font(&quot;Calibri&quot;, Font.PLAIN, 20));\r\n    \t\t\tcreateGui();\r\n    \t\t});\r\n    \t}\r\n    \r\n    \tprivate static void createGui() {\r\n    \t\tJFrame frame = new JFrame(&quot;example&quot;);\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \r\n    \t\tJPanel contentPanel = new JPanel();\r\n    \t\tcontentPanel.setLayout(new BoxLayout(contentPanel, BoxLayout.Y_AXIS));\r\n    \t\tframe.setContentPane(contentPanel);\r\n    \r\n    \t\tJLabel left = new JLabel(&quot;Left&quot;);\r\n    \r\n    \t\tJLabel right = new JLabel(&quot;Right&quot;);\r\n    \r\n    \t\tJLabel center = new JLabel(&quot;Center&quot;);\r\n    \r\n    \t\tcontentPanel.add(placeLeft(left));\r\n    \t\tcontentPanel.add(placeRight(right));\r\n    \t\tcontentPanel.add(placeCenter(center));\r\n    \r\n    \t\tframe.pack();\r\n    \t\tframe.setLocationByPlatform(true);\r\n    \t\tframe.setVisible(true);\r\n    \t}\r\n    \r\n    \tstatic JPanel createBoxXWith(Component... components) {\r\n    \t\tJPanel panel = new JPanel();\r\n    \t\tpanel.setLayout(new BoxLayout(panel, BoxLayout.X_AXIS));\r\n    \t\tfor (Component c : components)\r\n    \t\t\tpanel.add(c);\r\n    \t\treturn panel;\r\n    \t}\r\n    \r\n    \tstatic JPanel placeRight(Component component) {\r\n    \t\treturn createBoxXWith(Box.createHorizontalGlue(), component);\r\n    \t}\r\n    \r\n    \tstatic JPanel placeLeft(Component component) {\r\n    \t\treturn createBoxXWith(component, Box.createHorizontalGlue());\r\n    \t}\r\n    \r\n    \tstatic JPanel placeCenter(Component component) {\r\n    \t\treturn createBoxXWith(Box.createHorizontalGlue(), component, Box.createHorizontalGlue());\r\n    \t}\r\n    }\r\n\r\n \r\n\r\nIt results to:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html\r\n  [2]: https://i.stack.imgur.com/5HLAb.png","title":"Java BoxLayout place some Objects left and some right","body":"<p>There are a lot of ways to achieve what you are looking for.</p>\n<p>When using <code>BoxLayout</code>, I usually place the components into nested panels.</p>\n<p>See my example where I use <code>BoxLayout</code> with <code>X_AXIS</code> for each component. You could use another <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html\" rel=\"nofollow noreferrer\">LayoutManagers</a> as well, this is just an example:</p>\n<pre><code>public class BoxLayoutAlign {\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; {\n            UIManager.put(&quot;Label.font&quot;, new Font(&quot;Calibri&quot;, Font.PLAIN, 20));\n            createGui();\n        });\n    }\n\n    private static void createGui() {\n        JFrame frame = new JFrame(&quot;example&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        JPanel contentPanel = new JPanel();\n        contentPanel.setLayout(new BoxLayout(contentPanel, BoxLayout.Y_AXIS));\n        frame.setContentPane(contentPanel);\n\n        JLabel left = new JLabel(&quot;Left&quot;);\n\n        JLabel right = new JLabel(&quot;Right&quot;);\n\n        JLabel center = new JLabel(&quot;Center&quot;);\n\n        contentPanel.add(placeLeft(left));\n        contentPanel.add(placeRight(right));\n        contentPanel.add(placeCenter(center));\n\n        frame.pack();\n        frame.setLocationByPlatform(true);\n        frame.setVisible(true);\n    }\n\n    static JPanel createBoxXWith(Component... components) {\n        JPanel panel = new JPanel();\n        panel.setLayout(new BoxLayout(panel, BoxLayout.X_AXIS));\n        for (Component c : components)\n            panel.add(c);\n        return panel;\n    }\n\n    static JPanel placeRight(Component component) {\n        return createBoxXWith(Box.createHorizontalGlue(), component);\n    }\n\n    static JPanel placeLeft(Component component) {\n        return createBoxXWith(component, Box.createHorizontalGlue());\n    }\n\n    static JPanel placeCenter(Component component) {\n        return createBoxXWith(Box.createHorizontalGlue(), component, Box.createHorizontalGlue());\n    }\n}\n</code></pre>\n<p>It results to:</p>\n<p><a href=\"https://i.stack.imgur.com/5HLAb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5HLAb.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":21726174,"reputation":1,"user_id":16035590,"display_name":"Chippi_5"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":385,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69381750,"answer_count":1,"score":-1,"last_activity_date":1632941676,"creation_date":1632939565,"question_id":69381558,"body_markdown":"i want to place child components to a `JPanel`. But the problem is, that i want to place the components on the left-hand side and on the right-hand side of the parent `JPanel`. I&#39;am using a `BoxLayout` and currently i have set the X Alignment of the child components. My problem is showed here: [MyProblem][1] \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ytsy5.png","title":"Java BoxLayout place some Objects left and some right","body":"<p>i want to place child components to a <code>JPanel</code>. But the problem is, that i want to place the components on the left-hand side and on the right-hand side of the parent <code>JPanel</code>. I'am using a <code>BoxLayout</code> and currently i have set the X Alignment of the child components. My problem is showed here: <a href=\"https://i.stack.imgur.com/ytsy5.png\" rel=\"nofollow noreferrer\">MyProblem</a></p>\n"},{"tags":["java","jar","maven-2","manifest","program-entry-point"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1427962063,"post_id":29366373,"comment_id":46989925,"body_markdown":"Please show your full pom file.","body":"Please show your full pom file."},{"owner":{"account_id":2309641,"reputation":4648,"user_id":2028066,"accept_rate":52,"display_name":"MiguelMunoz"},"score":0,"creation_date":1658879370,"post_id":29366373,"comment_id":129160354,"body_markdown":"I&#39;m guessing you don&#39;t have a main class, because you&#39;re packing this as a jar library, but I can&#39;t tell for sure from your question or your .pom fragment. I&#39;m having the same problem, and some of the answers below are explaining how to specify the main class.","body":"I&#39;m guessing you don&#39;t have a main class, because you&#39;re packing this as a jar library, but I can&#39;t tell for sure from your question or your .pom fragment. I&#39;m having the same problem, and some of the answers below are explaining how to specify the main class."},{"owner":{"account_id":2309641,"reputation":4648,"user_id":2028066,"accept_rate":52,"display_name":"MiguelMunoz"},"score":0,"creation_date":1658889833,"post_id":29366373,"comment_id":129161874,"body_markdown":"Pavel Grigorev&#39;s answer to another question fixed this issue for me. In my case, I didn&#39;t have a main class because I was just building a jar file. This was in a Spring Boot project. You can find Grigorev&#39;s answer at https://stackoverflow.com/questions/42937577/unable-to-find-main-class-with-maven-on-spring-boot-project-in-eclipse","body":"Pavel Grigorev&#39;s answer to another question fixed this issue for me. In my case, I didn&#39;t have a main class because I was just building a jar file. This was in a Spring Boot project. You can find Grigorev&#39;s answer at <a href=\"https://stackoverflow.com/questions/42937577/unable-to-find-main-class-with-maven-on-spring-boot-project-in-eclipse\" title=\"unable to find main class with maven on spring boot project in eclipse\">stackoverflow.com/questions/42937577/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1428266216,"creation_date":1427962053,"answer_id":29407984,"question_id":29366373,"body_markdown":"The first thing i would suggest is to use the [correct configuration for predefined descriptors][1].\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;project&gt;\r\n      [...]\r\n      &lt;build&gt;\r\n        [...]\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;2.5.3&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n              &lt;descriptorRefs&gt;\r\n                &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n              &lt;/descriptorRefs&gt;\r\n            &lt;/configuration&gt;\r\n            [...]\r\n    &lt;/project&gt;\r\n\r\nTo configure the main class you need to know the package and name of the class you would like to use which should be given into `&lt;mainClass&gt;...&lt;/mainClass&gt;` parameter.\r\n\r\nFurthermore i recommend to [stop using Maven 2 and move to Maven 3 instead][2].\r\n\r\n\r\n  [1]: http://maven.apache.org/plugins/maven-assembly-plugin/usage.html\r\n  [2]: http://mail-archives.apache.org/mod_mbox/maven-announce/201503.mbox/%3C20150320213920.6AE4B17423%40minotaur.apache.org%3E","title":"Maven Error: Could not find or load main class","body":"<p>The first thing i would suggest is to use the <a href=\"http://maven.apache.org/plugins/maven-assembly-plugin/usage.html\" rel=\"nofollow\">correct configuration for predefined descriptors</a>.</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project&gt;\n  [...]\n  &lt;build&gt;\n    [...]\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.5.3&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;descriptorRefs&gt;\n            &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n          &lt;/descriptorRefs&gt;\n        &lt;/configuration&gt;\n        [...]\n&lt;/project&gt;\n</code></pre>\n\n<p>To configure the main class you need to know the package and name of the class you would like to use which should be given into <code>&lt;mainClass&gt;...&lt;/mainClass&gt;</code> parameter.</p>\n\n<p>Furthermore i recommend to <a href=\"http://mail-archives.apache.org/mod_mbox/maven-announce/201503.mbox/%3C20150320213920.6AE4B17423%40minotaur.apache.org%3E\" rel=\"nofollow\">stop using Maven 2 and move to Maven 3 instead</a>.</p>\n"},{"tags":[],"owner":{"account_id":4066532,"reputation":685,"user_id":3341246,"display_name":"jamierocks"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1467653120,"creation_date":1428266624,"answer_id":29461997,"question_id":29366373,"body_markdown":"Unless you need the &#39;maven-assembly-plugin&#39; for reasons other than setting the mainClass, you could use the &#39;[maven-jar-plugin][1]&#39; plugin.\r\n\r\n         &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.4&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;index&gt;true&lt;/index&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;mainClass&gt;your.package.yourprogram.YourMainClass&lt;/mainClass&gt;\r\n                        &lt;/manifest&gt;\r\n                    &lt;/archive&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n         &lt;/plugins&gt;\r\nYou can see the plugin in practise in the [ATLauncher][2].\r\n\r\nThe &#39;mainClass&#39; element should be set to the class that you have the entry point to your program in eg:\r\n\r\n    package your.package.yourprogram;\r\n\r\n    public class YourMainClass {\r\n\r\n        public static void main(String[] args) {\r\n            System.out.println(&quot;Hello World&quot;);\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://maven.apache.org/plugins/maven-jar-plugin/\r\n  [2]: https://github.com/ATLauncher/ATLauncher/blob/2b855f67b5b3d69bb16c86c6b183d61cbb05be24/pom.xml#L104-L123","title":"Maven Error: Could not find or load main class","body":"<p>Unless you need the 'maven-assembly-plugin' for reasons other than setting the mainClass, you could use the '<a href=\"https://maven.apache.org/plugins/maven-jar-plugin/\" rel=\"noreferrer\">maven-jar-plugin</a>' plugin.</p>\n\n<pre><code>     &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.4&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;archive&gt;\n                    &lt;index&gt;true&lt;/index&gt;\n                    &lt;manifest&gt;\n                        &lt;mainClass&gt;your.package.yourprogram.YourMainClass&lt;/mainClass&gt;\n                    &lt;/manifest&gt;\n                &lt;/archive&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n     &lt;/plugins&gt;\n</code></pre>\n\n<p>You can see the plugin in practise in the <a href=\"https://github.com/ATLauncher/ATLauncher/blob/2b855f67b5b3d69bb16c86c6b183d61cbb05be24/pom.xml#L104-L123\" rel=\"noreferrer\">ATLauncher</a>.</p>\n\n<p>The 'mainClass' element should be set to the class that you have the entry point to your program in eg:</p>\n\n<pre><code>package your.package.yourprogram;\n\npublic class YourMainClass {\n\n    public static void main(String[] args) {\n        System.out.println(\"Hello World\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":199671,"reputation":148444,"user_id":445131,"accept_rate":89,"display_name":"Eric Leschinski"},"down_vote_count":2,"up_vote_count":35,"is_accepted":false,"score":33,"last_activity_date":1467734524,"creation_date":1467323991,"answer_id":38133937,"question_id":29366373,"body_markdown":"**I got this error** using Maven, and I discovered the solution.\r\n\r\n    Error: Could not find or load main class com.mycompany.testapifactory.Main\r\n\r\nI&#39;m using java JDK version 1.7 on Linux, my `pom.xml` file was the default generated by Netbeans and I was using these commands to compile, which do work fine with a normal hello-world java application:\r\n\r\n    mvn clean compile\r\n    java -jar target/TestAPIFactory-1.0-SNAPSHOT.jar com.mycompany.testapifactory.Main\r\n\r\n**What happened:**\r\n\r\nIt turns out my problem was that my Main method was extending something Exotic like this:\r\n\r\n    public class Main extends SomeExoticLibraryClass{\r\n        public static void main(String[] args){\r\n            //...\r\n        }\r\n    }\r\n\r\nIt was this extending of the main class that caused the above error.\r\n\r\n**TLDR solution:**\r\n\r\nMake sure your main class isn&#39;t extending any 3rd party classes.  Refactor those out and away into their own classes.  That error message is awful, and requires process of elimination to find out what to do. ","title":"Maven Error: Could not find or load main class","body":"<p><strong>I got this error</strong> using Maven, and I discovered the solution.</p>\n\n<pre><code>Error: Could not find or load main class com.mycompany.testapifactory.Main\n</code></pre>\n\n<p>I'm using java JDK version 1.7 on Linux, my <code>pom.xml</code> file was the default generated by Netbeans and I was using these commands to compile, which do work fine with a normal hello-world java application:</p>\n\n<pre><code>mvn clean compile\njava -jar target/TestAPIFactory-1.0-SNAPSHOT.jar com.mycompany.testapifactory.Main\n</code></pre>\n\n<p><strong>What happened:</strong></p>\n\n<p>It turns out my problem was that my Main method was extending something Exotic like this:</p>\n\n<pre><code>public class Main extends SomeExoticLibraryClass{\n    public static void main(String[] args){\n        //...\n    }\n}\n</code></pre>\n\n<p>It was this extending of the main class that caused the above error.</p>\n\n<p><strong>TLDR solution:</strong></p>\n\n<p>Make sure your main class isn't extending any 3rd party classes.  Refactor those out and away into their own classes.  That error message is awful, and requires process of elimination to find out what to do. </p>\n"},{"tags":[],"owner":{"account_id":5745825,"reputation":11543,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1505235189,"creation_date":1505235189,"answer_id":46181847,"question_id":29366373,"body_markdown":"I got it too, the key was to change the output folder from `bin` to `target\\classes`. It seems that in Eclipse, when converting a project to Maven project, this step is not done automatically, but Maven project will not look for main class based on `bin`, but will on `target\\classes`. \r\n\r\n","title":"Maven Error: Could not find or load main class","body":"<p>I got it too, the key was to change the output folder from <code>bin</code> to <code>target\\classes</code>. It seems that in Eclipse, when converting a project to Maven project, this step is not done automatically, but Maven project will not look for main class based on <code>bin</code>, but will on <code>target\\classes</code>. </p>\n"},{"tags":[],"owner":{"account_id":10993678,"reputation":224,"user_id":8076655,"display_name":"Vishakh Rameshan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1538059237,"creation_date":1538059237,"answer_id":52539563,"question_id":29366373,"body_markdown":"specify the main class location in pom under plugins\r\n\r\n    &lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;2.4&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;archive&gt;\r\n    \t\t\t\t\t\t&lt;index&gt;true&lt;/index&gt;\r\n    \t\t\t\t\t\t&lt;manifest&gt;\r\n    \t\t\t\t\t\t\t&lt;mainClass&gt;com.example.hadoop.wordCount.WordCountApp&lt;/mainClass&gt;\r\n    \t\t\t\t\t\t&lt;/manifest&gt;\r\n    \t\t\t\t\t&lt;/archive&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;","title":"Maven Error: Could not find or load main class","body":"<p>specify the main class location in pom under plugins</p>\n\n<pre><code>&lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.4&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;index&gt;true&lt;/index&gt;\n                        &lt;manifest&gt;\n                            &lt;mainClass&gt;com.example.hadoop.wordCount.WordCountApp&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":431507,"reputation":4944,"user_id":815612,"accept_rate":62,"display_name":"Jack M"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1543480541,"creation_date":1543480541,"answer_id":53534784,"question_id":29366373,"body_markdown":"For me the problem was nothing to do with Maven but to do with how I was running the .jar. I wrote some code and packaged it as a .jar with Maven. I ran it with\r\n\r\n    java target/gs-maven-0.1.0.jar\r\n\r\nand got the error in the OP. Actually you need the `-jar` option:\r\n\r\n    java -jar target/gs-maven-0.1.0.jar","title":"Maven Error: Could not find or load main class","body":"<p>For me the problem was nothing to do with Maven but to do with how I was running the .jar. I wrote some code and packaged it as a .jar with Maven. I ran it with</p>\n\n<pre><code>java target/gs-maven-0.1.0.jar\n</code></pre>\n\n<p>and got the error in the OP. Actually you need the <code>-jar</code> option:</p>\n\n<pre><code>java -jar target/gs-maven-0.1.0.jar\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9040566,"reputation":51,"user_id":6734991,"display_name":"Prabhat Kumar Singh"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1546853195,"creation_date":1546703414,"answer_id":54053593,"question_id":29366373,"body_markdown":"I got it too, for me the problem got resolved after deleting the m2 folder (C:\\Users\\username\\.m2) and updating the maven project.","title":"Maven Error: Could not find or load main class","body":"<p>I got it too, for me the problem got resolved after deleting the m2 folder (C:\\Users\\username.m2) and updating the maven project.</p>\n"},{"tags":[],"owner":{"account_id":11712139,"reputation":118,"user_id":8573781,"display_name":"Abhishek Gupta"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1546981121,"creation_date":1546980768,"answer_id":54099520,"question_id":29366373,"body_markdown":"add this to your pom.xml file:\r\n\r\n    &lt;configuration&gt;\r\n       &lt;transformers&gt;\r\n           &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ServicesResourceTransformer&quot;/&gt;\r\n           &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n             &lt;mainClass&gt;sample.HelloWorldApplication&lt;/mainClass&gt;\r\n           &lt;/transformer&gt;\r\n       &lt;/transformers&gt;\r\n    &lt;/configuration&gt;\r\n\r\nand add the class name of your project (full path) along with the package name like &quot;com.packageName.className&quot; which consists of the main method having &quot;run&quot; method in it.\r\nAnd instead of your &quot;???&quot; write **${mainClass}** which will automatically get the className which you have mentioned above.\r\n\r\nThen try command **mvn clean install** and **mvn -jar &quot;jar_file_name.jar&quot; server &quot;yaml_file_name.yml&quot;**\r\n\r\nI hope it will work normally and server will start at the specified port.","title":"Maven Error: Could not find or load main class","body":"<p>add this to your pom.xml file:</p>\n\n<pre><code>&lt;configuration&gt;\n   &lt;transformers&gt;\n       &lt;transformer implementation=\"org.apache.maven.plugins.shade.resource.ServicesResourceTransformer\"/&gt;\n       &lt;transformer implementation=\"org.apache.maven.plugins.shade.resource.ManifestResourceTransformer\"&gt;\n         &lt;mainClass&gt;sample.HelloWorldApplication&lt;/mainClass&gt;\n       &lt;/transformer&gt;\n   &lt;/transformers&gt;\n&lt;/configuration&gt;\n</code></pre>\n\n<p>and add the class name of your project (full path) along with the package name like \"com.packageName.className\" which consists of the main method having \"run\" method in it.\nAnd instead of your \"???\" write <strong>${mainClass}</strong> which will automatically get the className which you have mentioned above.</p>\n\n<p>Then try command <strong>mvn clean install</strong> and <strong>mvn -jar \"jar_file_name.jar\" server \"yaml_file_name.yml\"</strong></p>\n\n<p>I hope it will work normally and server will start at the specified port.</p>\n"},{"tags":[],"owner":{"account_id":12470470,"reputation":143,"user_id":9078799,"display_name":"Priya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1553684564,"creation_date":1553684564,"answer_id":55375641,"question_id":29366373,"body_markdown":"I got this error(classNotFoundException for main class), I actually changed pom version , so did maven install again and then error vanished.","title":"Maven Error: Could not find or load main class","body":"<p>I got this error(classNotFoundException for main class), I actually changed pom version , so did maven install again and then error vanished.</p>\n"},{"tags":[],"owner":{"account_id":10613204,"reputation":71,"user_id":7816466,"display_name":"Sumit Karmakar"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1559815722,"creation_date":1559815722,"answer_id":56475371,"question_id":29366373,"body_markdown":"Please follow the below snippet.. it works..\r\n\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;groupId&gt;com.xyz&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;test&lt;/artifactId&gt;\r\n\t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;TestProject&lt;/name&gt;\r\n\t&lt;description&gt;Sample Project&lt;/description&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;!-- mention your dependencies here --&gt;\r\n\t&lt;/dependencies&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.8.1&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;source&gt;1.8&lt;/source&gt;\r\n\t\t\t\t\t&lt;target&gt;1.8&lt;/target&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.1.1&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;archive&gt;\r\n\t\t\t\t\t\t&lt;manifest&gt;\r\n\t\t\t\t\t\t\t&lt;mainClass&gt;com.xyz.ABC.&lt;/mainClass&gt;\r\n\t\t\t\t\t\t&lt;/manifest&gt;\r\n\t\t\t\t\t&lt;/archive&gt;\r\n\t\t\t\t\t&lt;descriptorRefs&gt;\r\n\t\t\t\t\t\t&lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n\t\t\t\t\t&lt;/descriptorRefs&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;make-assembly&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;single&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nPlease note, you have to provide the full classified class name (class name including package name without `.java` or `.class`) of main class inside `&lt;mainClass&gt;&lt;/mainClass&gt;` tag.","title":"Maven Error: Could not find or load main class","body":"<p>Please follow the below snippet.. it works..</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.xyz&lt;/groupId&gt;\n    &lt;artifactId&gt;test&lt;/artifactId&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;TestProject&lt;/name&gt;\n    &lt;description&gt;Sample Project&lt;/description&gt;\n    &lt;dependencies&gt;\n        &lt;!-- mention your dependencies here --&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;mainClass&gt;com.xyz.ABC.&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                    &lt;descriptorRefs&gt;\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                    &lt;/descriptorRefs&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;make-assembly&lt;/id&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;single&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>Please note, you have to provide the full classified class name (class name including package name without <code>.java</code> or <code>.class</code>) of main class inside <code>&lt;mainClass&gt;&lt;/mainClass&gt;</code> tag.</p>\n"},{"tags":[],"owner":{"account_id":10279335,"reputation":707,"user_id":7585093,"display_name":"Mithilesh Tipkari"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1589704798,"creation_date":1589704798,"answer_id":61849120,"question_id":29366373,"body_markdown":"TLDR : check if `packaging` element inside the pom.xml file is set to `jar`.\r\n\r\nLike this - `&lt;packaging&gt;jar&lt;/packaging&gt;`. If it set to `pom` your target folder will not be created even after you Clean and Build your project and Maven executable won&#39;t be able to find `.class` files (because they don&#39;t exist), after which you get `Error: Could not find or load main class your.package.name.MainClass` \r\n\r\n---\r\nAfter creating a Maven POM project in Netbeans 8.2, the content of the default `pom.xml` file are as follows -\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n       &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n       &lt;groupId&gt;com.mycompany&lt;/groupId&gt;\r\n       &lt;artifactId&gt;myproject&lt;/artifactId&gt;\r\n       &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n       &lt;packaging&gt;pom&lt;/packaging&gt;\r\n       &lt;properties&gt;\r\n           &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n       &lt;/properties&gt;\r\n    &lt;/project&gt;\r\n\r\nHere `packaging` element is set to `pom`. Hence the `target` directory is not created as we are not enabling maven to package our application as a `jar` file. Change it to `jar` then Clean and Build your project, you should see target directory created at root location. Now you should be able to run that java file with main method.\r\n\r\nWhen no packaging is declared, Maven assumes the packaging as `jar`. Other core packaging values are `pom`, `war`, `maven-plugin`, `ejb`, `ear`, `rar`. These define the goals that execute on each corresponsding build life-cycle phase of that package. See more [here][1]\r\n\r\n\r\n  [1]: https://maven.apache.org/pom.html#packaging","title":"Maven Error: Could not find or load main class","body":"<p>TLDR : check if <code>packaging</code> element inside the pom.xml file is set to <code>jar</code>.</p>\n\n<p>Like this - <code>&lt;packaging&gt;jar&lt;/packaging&gt;</code>. If it set to <code>pom</code> your target folder will not be created even after you Clean and Build your project and Maven executable won't be able to find <code>.class</code> files (because they don't exist), after which you get <code>Error: Could not find or load main class your.package.name.MainClass</code> </p>\n\n<hr>\n\n<p>After creating a Maven POM project in Netbeans 8.2, the content of the default <code>pom.xml</code> file are as follows -</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n   &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n   &lt;groupId&gt;com.mycompany&lt;/groupId&gt;\n   &lt;artifactId&gt;myproject&lt;/artifactId&gt;\n   &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n   &lt;packaging&gt;pom&lt;/packaging&gt;\n   &lt;properties&gt;\n       &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n   &lt;/properties&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>Here <code>packaging</code> element is set to <code>pom</code>. Hence the <code>target</code> directory is not created as we are not enabling maven to package our application as a <code>jar</code> file. Change it to <code>jar</code> then Clean and Build your project, you should see target directory created at root location. Now you should be able to run that java file with main method.</p>\n\n<p>When no packaging is declared, Maven assumes the packaging as <code>jar</code>. Other core packaging values are <code>pom</code>, <code>war</code>, <code>maven-plugin</code>, <code>ejb</code>, <code>ear</code>, <code>rar</code>. These define the goals that execute on each corresponsding build life-cycle phase of that package. See more <a href=\"https://maven.apache.org/pom.html#packaging\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":14268488,"reputation":11,"user_id":10306804,"display_name":"Akshay Singh Thakur"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1598755090,"creation_date":1598755090,"answer_id":63653469,"question_id":29366373,"body_markdown":"this worked for me....\r\n\r\nI added the following line to properties in pom.xml\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven-jar-plugin.version&gt;3.1.1&lt;/maven-jar-plugin.version&gt;\r\n    &lt;/properties&gt;","title":"Maven Error: Could not find or load main class","body":"<p>this worked for me....</p>\n<p>I added the following line to properties in pom.xml</p>\n<pre><code>&lt;properties&gt;\n    &lt;maven-jar-plugin.version&gt;3.1.1&lt;/maven-jar-plugin.version&gt;\n&lt;/properties&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3487925,"reputation":107,"user_id":2918319,"display_name":"Jerry"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1614825692,"creation_date":1614825692,"answer_id":66467831,"question_id":29366373,"body_markdown":"For me, I added\r\n\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\nand removed the default spring-boot-maven-plugin\r\n\r\n    &lt;!-- remove this plugin\r\n\t\t&lt;plugin&gt; \r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t&lt;/plugin&gt; --&gt;\r\n\r\n ","title":"Maven Error: Could not find or load main class","body":"<p>For me, I added</p>\n<pre><code>&lt;packaging&gt;jar&lt;/packaging&gt;\n</code></pre>\n<p>and removed the default spring-boot-maven-plugin</p>\n<pre><code>&lt;!-- remove this plugin\n    &lt;plugin&gt; \n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n    &lt;/plugin&gt; --&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2788141,"reputation":524,"user_id":2398993,"accept_rate":55,"display_name":"lvr123"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1616536602,"creation_date":1616536602,"answer_id":66771883,"question_id":29366373,"body_markdown":"Add the ```-Xdiag``` option at the execution. This is extra &quot;*diagnostic*&quot;. This will not solve the issue but add more detailed error messages and root causes that help identifying the issue.","title":"Maven Error: Could not find or load main class","body":"<p>Add the <code>-Xdiag</code> option at the execution. This is extra &quot;<em>diagnostic</em>&quot;. This will not solve the issue but add more detailed error messages and root causes that help identifying the issue.</p>\n"},{"tags":[],"owner":{"account_id":13087247,"reputation":506,"user_id":9455871,"display_name":"Charles Tempo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1618822875,"creation_date":1618822875,"answer_id":67158981,"question_id":29366373,"body_markdown":"In a rare occasion, an emoji in the access path caused this type of error. Double check your directory names, maybe a non standard character makes all the fun!","title":"Maven Error: Could not find or load main class","body":"<p>In a rare occasion, an emoji in the access path caused this type of error. Double check your directory names, maybe a non standard character makes all the fun!</p>\n"},{"tags":[],"owner":{"account_id":463588,"reputation":736,"user_id":866586,"accept_rate":62,"display_name":"Aravind R"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632941477,"creation_date":1632941477,"answer_id":69381951,"question_id":29366373,"body_markdown":"I am late to the party in my case it was the image I was using that was causing the trouble\r\n\r\n**Working config** \r\n\r\n    &lt;plugin&gt;\r\n                &lt;groupId&gt;com.google.cloud.tools&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jib-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${jib-maven-plugin.version}&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;from&gt;\r\n                        &lt;image&gt;openjdk:11-jre-slim&lt;/image&gt;\r\n                    &lt;/from&gt;\r\n                    &lt;to&gt;\r\n                        &lt;image&gt;${docker.image.prefix}/${project.artifactId}&lt;/image&gt;\r\n                    &lt;/to&gt;\r\n                    &lt;container&gt;\r\n                        &lt;mainClass&gt;com.example.configserverApplication&lt;/mainClass&gt;\r\n                        &lt;ports&gt;\r\n                            &lt;port&gt;8888&lt;/port&gt;\r\n                        &lt;/ports&gt;\r\n                    &lt;/container&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\n**Failing one** \r\n\r\n      &lt;plugin&gt;\r\n                &lt;groupId&gt;com.google.cloud.tools&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jib-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${jib-maven-plugin.version}&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;from&gt;\r\n                        &lt;image&gt;openjdk:alpine&lt;/image&gt;\r\n                    &lt;/from&gt;\r\n                    &lt;to&gt;\r\n                        &lt;image&gt;${docker.image.prefix}/${project.artifactId}&lt;/image&gt;\r\n                    &lt;/to&gt;\r\n                    &lt;container&gt;\r\n                        &lt;mainClass&gt;com.example.configserverApplication&lt;/mainClass&gt;\r\n                        &lt;ports&gt;\r\n                            &lt;port&gt;8888&lt;/port&gt;\r\n                        &lt;/ports&gt;\r\n                    &lt;/container&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\nMy understanding is that \r\n\r\n*&quot;The OpenJDK port for Alpine is not in a supported release by OpenJDK, since it is not in the mainline codebase. It is only available as early access builds of OpenJDK Project Portola. See also this comment. So this image follows what is available from the OpenJDK project&#39;s maintainers.&quot;*\r\n\r\nhttps://hub.docker.com/_/openjdk\r\n\r\nit is weird that it fails with a one-line error and changing the image fixed it for me. ","title":"Maven Error: Could not find or load main class","body":"<p>I am late to the party in my case it was the image I was using that was causing the trouble</p>\n<p><strong>Working config</strong></p>\n<pre><code>&lt;plugin&gt;\n            &lt;groupId&gt;com.google.cloud.tools&lt;/groupId&gt;\n            &lt;artifactId&gt;jib-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${jib-maven-plugin.version}&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;from&gt;\n                    &lt;image&gt;openjdk:11-jre-slim&lt;/image&gt;\n                &lt;/from&gt;\n                &lt;to&gt;\n                    &lt;image&gt;${docker.image.prefix}/${project.artifactId}&lt;/image&gt;\n                &lt;/to&gt;\n                &lt;container&gt;\n                    &lt;mainClass&gt;com.example.configserverApplication&lt;/mainClass&gt;\n                    &lt;ports&gt;\n                        &lt;port&gt;8888&lt;/port&gt;\n                    &lt;/ports&gt;\n                &lt;/container&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n</code></pre>\n<p><strong>Failing one</strong></p>\n<pre><code>  &lt;plugin&gt;\n            &lt;groupId&gt;com.google.cloud.tools&lt;/groupId&gt;\n            &lt;artifactId&gt;jib-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${jib-maven-plugin.version}&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;from&gt;\n                    &lt;image&gt;openjdk:alpine&lt;/image&gt;\n                &lt;/from&gt;\n                &lt;to&gt;\n                    &lt;image&gt;${docker.image.prefix}/${project.artifactId}&lt;/image&gt;\n                &lt;/to&gt;\n                &lt;container&gt;\n                    &lt;mainClass&gt;com.example.configserverApplication&lt;/mainClass&gt;\n                    &lt;ports&gt;\n                        &lt;port&gt;8888&lt;/port&gt;\n                    &lt;/ports&gt;\n                &lt;/container&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n</code></pre>\n<p>My understanding is that</p>\n<p><em>&quot;The OpenJDK port for Alpine is not in a supported release by OpenJDK, since it is not in the mainline codebase. It is only available as early access builds of OpenJDK Project Portola. See also this comment. So this image follows what is available from the OpenJDK project's maintainers.&quot;</em></p>\n<p><a href=\"https://hub.docker.com/_/openjdk\" rel=\"nofollow noreferrer\">https://hub.docker.com/_/openjdk</a></p>\n<p>it is weird that it fails with a one-line error and changing the image fixed it for me.</p>\n"}],"owner":{"account_id":5173108,"reputation":1529,"user_id":4141061,"accept_rate":88,"display_name":"MLMLTL"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":168336,"favorite_count":0,"down_vote_count":0,"up_vote_count":52,"answer_count":16,"score":52,"last_activity_date":1632941477,"creation_date":1427797488,"question_id":29366373,"body_markdown":"I&#39;m using a Java Maven program and I don&#39;t know what to enter as the `&lt;mainClass&gt;`.  I&#39;ve tried all kinds of things based off of [numerous][1] [stackoverflow questions][2], but they are not solving the error.\r\n\r\nEach time it says:\r\n\r\n    Maven Error: Could not find or load main class ...\r\n\r\nI have this written inside my `pom.xml` (minus the `???`)\r\n\r\n\r\n      &lt;build&gt;\r\n      ...\r\n      &lt;plugins&gt;\r\n      ...\r\n    \t&lt;plugin&gt;\r\n    \t\t&lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.5.3&lt;/version&gt;\r\n    \t\t&lt;configuration&gt;\r\n    \t\t\t&lt;descriptors&gt;\r\n    \t\t\t\t&lt;descriptor&gt;src/main/assembly/jar-with-dependencies.xml&lt;/descriptor&gt;\r\n    \t\t\t&lt;/descriptors&gt;\r\n    \t\t\t&lt;archive&gt;\r\n    \t\t\t\t&lt;manifest&gt;\r\n    \t\t\t\t\t&lt;mainClass&gt; ??? &lt;/mainClass&gt;\r\n    \t\t\t\t&lt;/manifest&gt;\r\n    \t\t\t&lt;/archive&gt;\r\n    \t\t&lt;/configuration&gt;\r\n    \t\t&lt;executions&gt;\r\n    \t\t\t&lt;execution&gt;\r\n    \t\t\t&lt;id&gt;make-assembly&lt;/id&gt;\r\n    \t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n    \t\t\t&lt;goals&gt;\r\n    \t\t\t\t&lt;goal&gt;single&lt;/goal&gt;\r\n    \t\t\t&lt;/goals&gt;\r\n    \t\t\t&lt;/execution&gt;\r\n    \t\t&lt;/executions&gt;\r\n    \t&lt;/plugin&gt;\r\n      ...\r\n      &lt;/plugins&gt;\r\n      ...\r\n      &lt;/build&gt;\r\n\r\nHow do I fix these errors?\r\n\r\n  [1]: https://stackoverflow.com/questions/9689793/cant-execute-jar-file-no-main-manifest-attribute\r\n  [2]: https://stackoverflow.com/questions/15156562/cannot-run-java-application-main-not-found?lq=1","title":"Maven Error: Could not find or load main class","body":"<p>I'm using a Java Maven program and I don't know what to enter as the <code>&lt;mainClass&gt;</code>.  I've tried all kinds of things based off of <a href=\"https://stackoverflow.com/questions/9689793/cant-execute-jar-file-no-main-manifest-attribute\">numerous</a> <a href=\"https://stackoverflow.com/questions/15156562/cannot-run-java-application-main-not-found?lq=1\">stackoverflow questions</a>, but they are not solving the error.</p>\n\n<p>Each time it says:</p>\n\n<pre><code>Maven Error: Could not find or load main class ...\n</code></pre>\n\n<p>I have this written inside my <code>pom.xml</code> (minus the <code>???</code>)</p>\n\n<pre><code>  &lt;build&gt;\n  ...\n  &lt;plugins&gt;\n  ...\n    &lt;plugin&gt;\n        &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.5.3&lt;/version&gt;\n        &lt;configuration&gt;\n            &lt;descriptors&gt;\n                &lt;descriptor&gt;src/main/assembly/jar-with-dependencies.xml&lt;/descriptor&gt;\n            &lt;/descriptors&gt;\n            &lt;archive&gt;\n                &lt;manifest&gt;\n                    &lt;mainClass&gt; ??? &lt;/mainClass&gt;\n                &lt;/manifest&gt;\n            &lt;/archive&gt;\n        &lt;/configuration&gt;\n        &lt;executions&gt;\n            &lt;execution&gt;\n            &lt;id&gt;make-assembly&lt;/id&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;single&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;/execution&gt;\n        &lt;/executions&gt;\n    &lt;/plugin&gt;\n  ...\n  &lt;/plugins&gt;\n  ...\n  &lt;/build&gt;\n</code></pre>\n\n<p>How do I fix these errors?</p>\n"},{"tags":["java","libgdx"],"answers":[{"tags":[],"owner":{"account_id":8317669,"reputation":1150,"user_id":6250401,"display_name":"Luis Fernando Frontanilla"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1583374305,"creation_date":1583374305,"answer_id":60537289,"question_id":60535341,"body_markdown":"&gt; The first time reset is called (Map and group are empty) everything&#39;s fine, but the second time I call it (with Map and Group containing the entities of the first call) I got a cuncurrentModificationException from the removeEntity method.\r\n\r\nThis exception happens because when you&#39;re iterating through the Collection in the `render()` method one element in that collection is removed confusing the iterator on what it should do.  \r\n\r\nLuckily for us, LibGDX has a [`DelayedRemovalArray`][1] class that is made exactly for these kind of cases. It works like this:\r\n\r\n - Tell the `DelayedRemovalArray` you want to delete one or many of its elements\r\n - Put a flag on the elements you want to remove\r\n - Tell the `DelayedRemovalArray` you finished setting the flags\r\n - The `DelayedRemovalArray` waits for the iteration to finish and deletes the flagged elements\r\n\r\n```java\r\nDelayedRemovalArray&lt;Entity&gt; array;\r\n// Prepare to flag elements\r\narray.begin();\r\n// Flag some elements\r\narray.removeIndex(index);\r\n// Finished flagging elements\r\narray.end();\r\n```\r\n\r\n&gt; **From the LibGDX API:**  \r\nDelayedRemovalArray is an array that queues removal during iteration until the iteration has completed.  \r\n\r\n  [1]: https://libgdx.badlogicgames.com/ci/nightlies/docs/api/com/badlogic/gdx/utils/DelayedRemovalArray.html","title":"Removing and adding actors to a group - libgdx","body":"<blockquote>\n  <p>The first time reset is called (Map and group are empty) everything's fine, but the second time I call it (with Map and Group containing the entities of the first call) I got a cuncurrentModificationException from the removeEntity method.</p>\n</blockquote>\n\n<p>This exception happens because when you're iterating through the Collection in the <code>render()</code> method one element in that collection is removed confusing the iterator on what it should do.  </p>\n\n<p>Luckily for us, LibGDX has a <a href=\"https://libgdx.badlogicgames.com/ci/nightlies/docs/api/com/badlogic/gdx/utils/DelayedRemovalArray.html\" rel=\"nofollow noreferrer\"><code>DelayedRemovalArray</code></a> class that is made exactly for these kind of cases. It works like this:</p>\n\n<ul>\n<li>Tell the <code>DelayedRemovalArray</code> you want to delete one or many of its elements</li>\n<li>Put a flag on the elements you want to remove</li>\n<li>Tell the <code>DelayedRemovalArray</code> you finished setting the flags</li>\n<li>The <code>DelayedRemovalArray</code> waits for the iteration to finish and deletes the flagged elements</li>\n</ul>\n\n<pre class=\"lang-java prettyprint-override\"><code>DelayedRemovalArray&lt;Entity&gt; array;\n// Prepare to flag elements\narray.begin();\n// Flag some elements\narray.removeIndex(index);\n// Finished flagging elements\narray.end();\n</code></pre>\n\n<blockquote>\n  <p><strong>From the LibGDX API:</strong><br>\n  DelayedRemovalArray is an array that queues removal during iteration until the iteration has completed.  </p>\n</blockquote>\n"}],"owner":{"account_id":8751130,"reputation":57,"user_id":6544346,"display_name":"superuser"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":533,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632941448,"creation_date":1583359139,"question_id":60535341,"body_markdown":"I have a group that has a Map that associates every `entity` with an actor; it has the method `addEntity` and `removeEntity` for adding and deleting entities to/from the Map and their respective actors to/from the group.\r\n\r\n    public final void addEntity(final Entity entity) {\r\n        EntityActor entityActor = new EntityActor(entity, shapeRenderer);\r\n        this.addActor(entityActor); //adding the actor to the group\r\n        this.entitesActors.put(entity, entityActor); //adding the actor to the map\r\n    }\r\n\r\n    public final void addEntities(final Collection&lt;Entity&gt; entities) {\r\n        entities.stream().forEach(this::addEntity);\r\n    }\r\n\r\n    public final void removeEntity(final Entity entity) {\r\n        entitesActors.get(entity).addAction(Actions.removeActor()); //removes actor from group\r\n        this.entitesActors.remove(entity); //removes actor from map\r\n    }\r\n\r\n    public final void removeEntities(final Collection&lt;Entity&gt; entities) {\r\n        entities.forEach(this::removeEntity);\r\n    }\r\n\r\nThis group also has a `reset` method that deletes all his children and adds new ones.\r\n\r\n     public final void reset(final Collection&lt;Entity&gt; entities) {\r\n        Gdx.app.postRunnable(() -&gt; {\r\n            removeEntities(entitesActors.keySet());\r\n            this.addEntities(entities);\r\n        });\r\n    }\r\n\r\nThe first time reset is called (Map and group are empty) everything&#39;s fine, but the second time I call it (with Map and Group containing the entities of the first call) I got a cuncurrentModificationException from the removeEntity method.\r\n\r\nI tried to edit it like this:\r\n\r\n    public final void removeEntities(final Collection&lt;Entity&gt; entities) {\r\n        entitesActors.entrySet().stream().filter(e -&gt; entities.contains(e.getKey())).map(e -&gt; e.getValue())\r\n                .forEach(a -&gt; a.addAction(Actions.removeActor()));\r\n        entitesActors.keySet().removeAll(entities);\r\n    }\r\nOr bypassing removeEntities method and just calling:\r\n\r\n    this.clearChildren();\r\n    this.entitesActors.clear();\r\nIn both cases no exception is fired, the actors are successfully removed and added in both Map and Group but they are not drawn onto the stage. (the method draw in each actor is called but I can&#39;t see them on screen, all I got is a black screen).\r\n\r\nSomebody know the correct way to do it or maybe telling me where I make a mistake? Thanks very much for the help.\r\n\r\nEDIT: I tried @luis-fernando-frontanilla solution but it didn&#39;t worked out. Now my reset method looks like this\r\n\r\n    public final void reset(final Collection&lt;Entity&gt; entities) {\r\n        this.clearChildren();\r\n        this.entitesActors.clear();\r\n        this.addEntities(entities);\r\n    }\r\n\r\nAnd I tried to wrap the whole reset method inside a Gdx.app.postRunnable\r\n\r\n    //EntityCrew is my Group object which has the reset method\r\n    Gdx.app.postRunnable(() -&gt; this.entityCrew.reset(level.getEntities()));\r\nAnd I noticed that with this setup the first time too I can&#39;t see the actors of the group. They are in the group, they are drawn by the render thread but they are not displayed on screen and this thing is driving me mad.","title":"Removing and adding actors to a group - libgdx","body":"<p>I have a group that has a Map that associates every <code>entity</code> with an actor; it has the method <code>addEntity</code> and <code>removeEntity</code> for adding and deleting entities to/from the Map and their respective actors to/from the group.</p>\n<pre><code>public final void addEntity(final Entity entity) {\n    EntityActor entityActor = new EntityActor(entity, shapeRenderer);\n    this.addActor(entityActor); //adding the actor to the group\n    this.entitesActors.put(entity, entityActor); //adding the actor to the map\n}\n\npublic final void addEntities(final Collection&lt;Entity&gt; entities) {\n    entities.stream().forEach(this::addEntity);\n}\n\npublic final void removeEntity(final Entity entity) {\n    entitesActors.get(entity).addAction(Actions.removeActor()); //removes actor from group\n    this.entitesActors.remove(entity); //removes actor from map\n}\n\npublic final void removeEntities(final Collection&lt;Entity&gt; entities) {\n    entities.forEach(this::removeEntity);\n}\n</code></pre>\n<p>This group also has a <code>reset</code> method that deletes all his children and adds new ones.</p>\n<pre><code> public final void reset(final Collection&lt;Entity&gt; entities) {\n    Gdx.app.postRunnable(() -&gt; {\n        removeEntities(entitesActors.keySet());\n        this.addEntities(entities);\n    });\n}\n</code></pre>\n<p>The first time reset is called (Map and group are empty) everything's fine, but the second time I call it (with Map and Group containing the entities of the first call) I got a cuncurrentModificationException from the removeEntity method.</p>\n<p>I tried to edit it like this:</p>\n<pre><code>public final void removeEntities(final Collection&lt;Entity&gt; entities) {\n    entitesActors.entrySet().stream().filter(e -&gt; entities.contains(e.getKey())).map(e -&gt; e.getValue())\n            .forEach(a -&gt; a.addAction(Actions.removeActor()));\n    entitesActors.keySet().removeAll(entities);\n}\n</code></pre>\n<p>Or bypassing removeEntities method and just calling:</p>\n<pre><code>this.clearChildren();\nthis.entitesActors.clear();\n</code></pre>\n<p>In both cases no exception is fired, the actors are successfully removed and added in both Map and Group but they are not drawn onto the stage. (the method draw in each actor is called but I can't see them on screen, all I got is a black screen).</p>\n<p>Somebody know the correct way to do it or maybe telling me where I make a mistake? Thanks very much for the help.</p>\n<p>EDIT: I tried @luis-fernando-frontanilla solution but it didn't worked out. Now my reset method looks like this</p>\n<pre><code>public final void reset(final Collection&lt;Entity&gt; entities) {\n    this.clearChildren();\n    this.entitesActors.clear();\n    this.addEntities(entities);\n}\n</code></pre>\n<p>And I tried to wrap the whole reset method inside a Gdx.app.postRunnable</p>\n<pre><code>//EntityCrew is my Group object which has the reset method\nGdx.app.postRunnable(() -&gt; this.entityCrew.reset(level.getEntities()));\n</code></pre>\n<p>And I noticed that with this setup the first time too I can't see the actors of the group. They are in the group, they are drawn by the render thread but they are not displayed on screen and this thing is driving me mad.</p>\n"},{"tags":["java","algorithm","sorting","shellsort"],"comments":[{"owner":{"account_id":200231,"reputation":18449,"user_id":445976,"display_name":"Blastfurnace"},"score":4,"creation_date":1631578141,"post_id":69170161,"comment_id":122254536,"body_markdown":"That&#39;s not Sedgewick&#39;s gap sequence, it&#39;s Knuth&#39;s. There are other potentially faster sequences on [the Wikipedia page](https://en.wikipedia.org/wiki/Shellsort#Gap_sequences).","body":"That&#39;s not Sedgewick&#39;s gap sequence, it&#39;s Knuth&#39;s. There are other potentially faster sequences on <a href=\"https://en.wikipedia.org/wiki/Shellsort#Gap_sequences\" rel=\"nofollow noreferrer\">the Wikipedia page</a>."},{"owner":{"account_id":1454352,"reputation":2292,"user_id":1370397,"accept_rate":64,"display_name":"alex"},"score":0,"creation_date":1690529530,"post_id":69170161,"comment_id":135369370,"body_markdown":"@Blastfurnace I guess OP means the Shellsort implementation presented in Sedgewick&#39;s book &quot;Algorithms&quot;. Sedgewick doesn&#39;t use &quot;his own&quot; sequence there, he uses Knuth&#39;s and only mentions that others exist and even plays down the role of alternative sequences (&quot;The increment sequence that is used in ALGORITHM 2.3 is easy to compute and use, and performs nearly as well as more sophisticated increment sequences that have been discovered that have provable better worst-case performance.&quot;, from Algorithms, 4th ed.)","body":"@Blastfurnace I guess OP means the Shellsort implementation presented in Sedgewick&#39;s book &quot;Algorithms&quot;. Sedgewick doesn&#39;t use &quot;his own&quot; sequence there, he uses Knuth&#39;s and only mentions that others exist and even plays down the role of alternative sequences (&quot;The increment sequence that is used in ALGORITHM 2.3 is easy to compute and use, and performs nearly as well as more sophisticated increment sequences that have been discovered that have provable better worst-case performance.&quot;, from Algorithms, 4th ed.)"}],"answers":[{"tags":[],"owner":{"account_id":235087,"reputation":3244,"user_id":501673,"accept_rate":60,"display_name":"Olof Forshell"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1632941428,"creation_date":1632930834,"answer_id":69379703,"question_id":69170161,"body_markdown":"I guess you would need to define what &quot;optimal&quot; means in this context.\r\n\r\nIf if means spending as little time as possible in determining a sequence of gaps for a specific number of units (n) to be sorted/ordered, there are any number of not quite grabbed-out-of-thin-air sequences floating around.\r\n\r\nIf it means the best sequence of gaps for a specific n things become much more complicated.\r\n\r\nConsider a few low n and their optimal sequences:\r\n\r\n- 2,3,4,5                {1} an insertion sort\r\n- 6                      {4,1}\r\n- 7,8,12                 {5,1}\r\n- 9                      {6,1}\r\n- 10                     {9,6,1}\r\n- 11                     {10,6,1}\r\n\r\nThese sequences of gaps have been determined by testing every single ordering of the different n against every possible gap sequence for that n and where the sequence of gaps produces the lowest average number of comparisons required.\r\n\r\nFor a given n there will be n! unique orderings to test against 2^(n-2) gap sequences.\r\n\r\n\r\nAlthough the n are small what is interesting is how the number of gaps vary.\r\n\r\n- 1 gap  works best for n in the range 2 to 5\r\n- 2 gaps work best for some n in the range 6 up to at least 12\r\n- 3 gaps work best for some n in the range 10, 11 and possibly beyond\r\n\r\nThe conclusions I draw from this is that in all probability\r\n\r\n 1. there is a unique set of optimal gaps for every n\r\n 2. from one n to the next the gap sequence will vary in terms of numerical values and possibly also in the number of gaps in the sequence\r\n\r\nReturning to the issue of what you mean by &quot;optimal&quot; I guess it could also mean which gap-determination algorithm is ... &quot;best?&quot;. I would say it depends and given what I have just written you may agree. For some n Knuth beats Sedgewick and for others Sedgewick beats Ciura and so on. The issue is that for a fairly large n - say 200 or more - the test will be performed using &quot;random&quot; samples and not the entire set. So you may be faced with the situation where the random sample is ordered more efficiently by Knuth whereas had it been the complete 200! set Ciura would, on average, order it using fewer comparisons. This is the situation where the random sample is better suited to the algorithm and where the entire set is not.\r\n\r\nBut I digress ... you asked a question and I attempted to impart some facts to aid you in responding to it.","title":"Is Sedgewick&#39;s Shell Sort the most optimal one?","body":"<p>I guess you would need to define what &quot;optimal&quot; means in this context.</p>\n<p>If if means spending as little time as possible in determining a sequence of gaps for a specific number of units (n) to be sorted/ordered, there are any number of not quite grabbed-out-of-thin-air sequences floating around.</p>\n<p>If it means the best sequence of gaps for a specific n things become much more complicated.</p>\n<p>Consider a few low n and their optimal sequences:</p>\n<ul>\n<li>2,3,4,5                {1} an insertion sort</li>\n<li>6                      {4,1}</li>\n<li>7,8,12                 {5,1}</li>\n<li>9                      {6,1}</li>\n<li>10                     {9,6,1}</li>\n<li>11                     {10,6,1}</li>\n</ul>\n<p>These sequences of gaps have been determined by testing every single ordering of the different n against every possible gap sequence for that n and where the sequence of gaps produces the lowest average number of comparisons required.</p>\n<p>For a given n there will be n! unique orderings to test against 2^(n-2) gap sequences.</p>\n<p>Although the n are small what is interesting is how the number of gaps vary.</p>\n<ul>\n<li>1 gap  works best for n in the range 2 to 5</li>\n<li>2 gaps work best for some n in the range 6 up to at least 12</li>\n<li>3 gaps work best for some n in the range 10, 11 and possibly beyond</li>\n</ul>\n<p>The conclusions I draw from this is that in all probability</p>\n<ol>\n<li>there is a unique set of optimal gaps for every n</li>\n<li>from one n to the next the gap sequence will vary in terms of numerical values and possibly also in the number of gaps in the sequence</li>\n</ol>\n<p>Returning to the issue of what you mean by &quot;optimal&quot; I guess it could also mean which gap-determination algorithm is ... &quot;best?&quot;. I would say it depends and given what I have just written you may agree. For some n Knuth beats Sedgewick and for others Sedgewick beats Ciura and so on. The issue is that for a fairly large n - say 200 or more - the test will be performed using &quot;random&quot; samples and not the entire set. So you may be faced with the situation where the random sample is ordered more efficiently by Knuth whereas had it been the complete 200! set Ciura would, on average, order it using fewer comparisons. This is the situation where the random sample is better suited to the algorithm and where the entire set is not.</p>\n<p>But I digress ... you asked a question and I attempted to impart some facts to aid you in responding to it.</p>\n"}],"owner":{"account_id":22731676,"reputation":45,"user_id":16894486,"display_name":"alex angulo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":850,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1632941428,"creation_date":1631576276,"question_id":69170161,"body_markdown":"The following is Sedgewigck&#39;s version of the Shell Sort. Is it the most optimal or are there more efficient ones? \r\n\r\n    import java.util.Arrays;\r\n    public class ShellSortSedgewick {\r\n\r\n    public static void main(String[] args) {\r\n        { // Sort a[] into increasing order.\r\n            int [] a={5,8,44,77,23,81,90,52,25,21,35};\r\n            int N = a.length;\r\n            int h = 1;\r\n            while (h &lt; N / 3) {\r\n                h = 3 * h + 1; // 1, 4, 13, 40, 121, 364, 1093, ...\r\n            }\r\n            while (h &gt;= 1) { // h-sort the array.\r\n                for (int i = h; i &lt; N; i++) { // Insert a[i] among a[i-h], a[i-2*h], a[i-3*h]... .\r\n                    for (int j = i; j &gt;= h &amp;&amp; a[j] &lt; a[j - h]; j -= h) {\r\n                     int temp=a[j];\r\n                     a[j]=a[j-h];\r\n                     a[j-h]=temp;\r\n                    }\r\n                }\r\n                h = h / 3;\r\n                System.out.println(Arrays.toString(a));\r\n            }\r\n        }\r\n              // See page 245 for less(), exch(), isSorted(), and main().\r\n    }\r\n","title":"Is Sedgewick&#39;s Shell Sort the most optimal one?","body":"<p>The following is Sedgewigck's version of the Shell Sort. Is it the most optimal or are there more efficient ones?</p>\n<pre><code>import java.util.Arrays;\npublic class ShellSortSedgewick {\n\npublic static void main(String[] args) {\n    { // Sort a[] into increasing order.\n        int [] a={5,8,44,77,23,81,90,52,25,21,35};\n        int N = a.length;\n        int h = 1;\n        while (h &lt; N / 3) {\n            h = 3 * h + 1; // 1, 4, 13, 40, 121, 364, 1093, ...\n        }\n        while (h &gt;= 1) { // h-sort the array.\n            for (int i = h; i &lt; N; i++) { // Insert a[i] among a[i-h], a[i-2*h], a[i-3*h]... .\n                for (int j = i; j &gt;= h &amp;&amp; a[j] &lt; a[j - h]; j -= h) {\n                 int temp=a[j];\n                 a[j]=a[j-h];\n                 a[j-h]=temp;\n                }\n            }\n            h = h / 3;\n            System.out.println(Arrays.toString(a));\n        }\n    }\n          // See page 245 for less(), exch(), isSorted(), and main().\n}\n</code></pre>\n"},{"tags":["java","amazon-web-services","amazon-ses"],"comments":[{"owner":{"account_id":3498606,"reputation":5166,"user_id":2925962,"accept_rate":0,"display_name":"akortex"},"score":0,"creation_date":1632898136,"post_id":69371565,"comment_id":122613519,"body_markdown":"Have you verified your email address https://docs.aws.amazon.com/ses/latest/DeveloperGuide/verify-email- ?addresses.html","body":"Have you verified your email address <a href=\"https://docs.aws.amazon.com/ses/latest/DeveloperGuide/verify-email-\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/ses/latest/DeveloperGuide/verify-email-</a> ?addresses.html"},{"owner":{"account_id":10309761,"reputation":944,"user_id":7605967,"display_name":"Keshavram Kuduwa"},"score":0,"creation_date":1632898353,"post_id":69371565,"comment_id":122613627,"body_markdown":"@akortex Yes, I have","body":"@akortex Yes, I have"},{"owner":{"account_id":4700393,"reputation":3576,"user_id":6099811,"display_name":"navnath"},"score":1,"creation_date":1632911621,"post_id":69371565,"comment_id":122619268,"body_markdown":"Try setting from as `from = new InternetAddress(&quot;sender@example.com&quot;, &quot;Sender Name&quot;).toString()` and to set with source `.withSource(from);`","body":"Try setting from as <code>from = new InternetAddress(&quot;sender@example.com&quot;, &quot;Sender Name&quot;).toString()</code> and to set with source <code>.withSource(from);</code>"}],"answers":[{"tags":[],"owner":{"account_id":1193347,"reputation":5518,"user_id":1386584,"display_name":"Ivan Vasiljevic"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1632922356,"creation_date":1632922356,"answer_id":69377441,"question_id":69371565,"body_markdown":"If you check documentation of [`SendEmailRequest`][1] you can find out that it supports standard way to define friendly name in email:\r\n\r\n&gt; source - The email address that is sending the email. This email address must be either individually verified with Amazon SES, or from a domain that has been verified with Amazon SES. For information about verifying identities, see the Amazon SES Developer Guide.\r\nIf you are sending on behalf of another user and have been permitted to do so by a sending authorization policy, then you must also specify the SourceArn parameter. For more information about sending authorization, see the Amazon SES Developer Guide.\r\nAmazon SES does not support the SMTPUTF8 extension, as described in RFC6531. For this reason, the local part of a source email address (the part of the email address that precedes the @ sign) may only contain 7-bit ASCII characters. If the domain part of an address (the part after the @ sign) contains non-ASCII characters, they must be encoded using Punycode, as described in RFC3492. The sender name (also known as the friendly name) may contain non-ASCII characters. These characters must be encoded using MIME encoded-word syntax, as described in RFC 2047. MIME encoded-word syntax uses the following form: =?charset?encoding?encoded-text?= . \r\n\r\nSo that string should look like:\r\n`John Doe &lt;johndoe@example.com&gt;`\r\n\r\n[`InternetAddress`][2] can be used for this, but you need to pay attention on encoding restrictions that `SendEmailRequest` has for `from` argument\r\n\r\n    request.withSource((new InternetAddress(&quot;mail@example.com&quot;, &quot;Your Name&quot;)).toString());\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/simpleemail/model/SendEmailRequest.html#withSource-java.lang.String-\r\n  [2]: https://docs.oracle.com/javaee/1.4/api/javax/mail/internet/InternetAddress.html#InternetAddress%28java.lang.String,%20java.lang.String%29","title":"How to send email with sender name using AWS SDK?","body":"<p>If you check documentation of <a href=\"https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/simpleemail/model/SendEmailRequest.html#withSource-java.lang.String-\" rel=\"nofollow noreferrer\"><code>SendEmailRequest</code></a> you can find out that it supports standard way to define friendly name in email:</p>\n<blockquote>\n<p>source - The email address that is sending the email. This email address must be either individually verified with Amazon SES, or from a domain that has been verified with Amazon SES. For information about verifying identities, see the Amazon SES Developer Guide.\nIf you are sending on behalf of another user and have been permitted to do so by a sending authorization policy, then you must also specify the SourceArn parameter. For more information about sending authorization, see the Amazon SES Developer Guide.\nAmazon SES does not support the SMTPUTF8 extension, as described in RFC6531. For this reason, the local part of a source email address (the part of the email address that precedes the @ sign) may only contain 7-bit ASCII characters. If the domain part of an address (the part after the @ sign) contains non-ASCII characters, they must be encoded using Punycode, as described in RFC3492. The sender name (also known as the friendly name) may contain non-ASCII characters. These characters must be encoded using MIME encoded-word syntax, as described in RFC 2047. MIME encoded-word syntax uses the following form: =?charset?encoding?encoded-text?= .</p>\n</blockquote>\n<p>So that string should look like:\n<code>John Doe &lt;johndoe@example.com&gt;</code></p>\n<p><a href=\"https://docs.oracle.com/javaee/1.4/api/javax/mail/internet/InternetAddress.html#InternetAddress%28java.lang.String,%20java.lang.String%29\" rel=\"nofollow noreferrer\"><code>InternetAddress</code></a> can be used for this, but you need to pay attention on encoding restrictions that <code>SendEmailRequest</code> has for <code>from</code> argument</p>\n<pre><code>request.withSource((new InternetAddress(&quot;mail@example.com&quot;, &quot;Your Name&quot;)).toString());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632940862,"creation_date":1632939766,"answer_id":69381600,"question_id":69371565,"body_markdown":"You are using an old Amazon Simple Email Service API (V1). For best practice, use the **SES Java V2 API**. V2 packages always start with **software.amazon...**\r\n\r\nThe Amazon SDK team strongly recommends moving from V1 to V2:\r\n\r\n***The AWS SDK for Java 2.x is a major rewrite of the version 1.x code base. It’s built on top of Java 8+ and adds several frequently requested features. These include support for non-blocking I/O and the ability to plug in a different HTTP implementation at run time.*** \r\n\r\nYou can set this information (sender name) by setting the **SendEmailRequest** object properly.\r\n\r\nHere is the [Java  V2 SES example][1].  \r\n\r\n\r\n    import software.amazon.awssdk.regions.Region;\r\n    import software.amazon.awssdk.services.ses.SesClient;\r\n    import software.amazon.awssdk.services.ses.model.*;\r\n    import software.amazon.awssdk.services.ses.model.Message;\r\n    import software.amazon.awssdk.services.ses.model.Body;\r\n    import javax.mail.MessagingException;\r\n    \r\n    public class SendMessageEmailRequest {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            final String USAGE = &quot;\\n&quot; +\r\n                    &quot;Usage:\\n&quot; +\r\n                    &quot;    &lt;sender&gt; &lt;recipient&gt; &lt;subject&gt; \\n\\n&quot; +\r\n                    &quot;Where:\\n&quot; +\r\n                    &quot;    sender - an email address that represents the sender. \\n&quot;+\r\n                    &quot;    recipient -  an email address that represents the recipient. \\n&quot;+\r\n                    &quot;    subject - the  subject line. \\n&quot; ;\r\n    \r\n              if (args.length != 3) {\r\n                System.out.println(USAGE);\r\n                 System.exit(1);\r\n               }\r\n    \r\n            String sender = &quot;foo@testmail.com&quot; ;//args[0];\r\n            String recipient = &quot;foo@testmail.com&quot; ;//args[1];\r\n            String subject = &quot;Test Email&quot;; //args[2];\r\n    \r\n            Region region = Region.US_EAST_1;\r\n            SesClient client = SesClient.builder()\r\n                    .region(region)\r\n                    .build();\r\n    \r\n            // The email body for non-HTML email clients\r\n            String bodyText = &quot;Hello,\\r\\n&quot; + &quot;See the list of customers. &quot;;\r\n    \r\n            // The HTML body of the email\r\n            String bodyHTML = &quot;&lt;html&gt;&quot; + &quot;&lt;head&gt;&lt;/head&gt;&quot; + &quot;&lt;body&gt;&quot; + &quot;&lt;h1&gt;Hello!&lt;/h1&gt;&quot;\r\n                    + &quot;&lt;p&gt; See the list of customers.&lt;/p&gt;&quot; + &quot;&lt;/body&gt;&quot; + &quot;&lt;/html&gt;&quot;;\r\n    \r\n            try {\r\n                send(client, sender, recipient, subject, bodyText, bodyHTML);\r\n                client.close();\r\n                System.out.println(&quot;Done&quot;);\r\n    \r\n            } catch (MessagingException e) {\r\n                e.getStackTrace();\r\n            }\r\n        }\r\n    \r\n        public static void send(SesClient client,\r\n                                String sender,\r\n                                String recipient,\r\n                                String subject,\r\n                                String bodyText,\r\n                                String bodyHTML\r\n        ) throws MessagingException {\r\n    \r\n            Destination destination = Destination.builder()\r\n                    .toAddresses(recipient)\r\n                    .build();\r\n    \r\n            Content content = Content.builder()\r\n                    .data(bodyHTML)\r\n                    .build();\r\n    \r\n            Content sub = Content.builder()\r\n                    .data(subject)\r\n                    .build();\r\n    \r\n            Body body = Body.builder()\r\n                    .html(content)\r\n                    .build();\r\n    \r\n            Message msg = Message.builder()\r\n                    .subject(sub)\r\n                    .body(body)\r\n                    .build();\r\n    \r\n            SendEmailRequest emailRequest = SendEmailRequest.builder()\r\n                    .destination(destination)\r\n                    .message(msg)\r\n                    .source(sender)\r\n                    .build();\r\n    \r\n            try {\r\n                System.out.println(&quot;Attempting to send an email through Amazon SES &quot; + &quot;using the AWS SDK for Java...&quot;);\r\n                client.sendEmail(emailRequest);\r\n    \r\n            } catch (SesException e) {\r\n                System.err.println(e.awsErrorDetails().errorMessage());\r\n                System.exit(1);\r\n            }\r\n        }\r\n     }\r\n\r\n\r\n  [1]: https://github.com/awsdocs/aws-doc-sdk-examples/blob/master/javav2/example_code/ses/src/main/java/com/example/ses/SendMessageEmailRequest.java","title":"How to send email with sender name using AWS SDK?","body":"<p>You are using an old Amazon Simple Email Service API (V1). For best practice, use the <strong>SES Java V2 API</strong>. V2 packages always start with <strong>software.amazon...</strong></p>\n<p>The Amazon SDK team strongly recommends moving from V1 to V2:</p>\n<p><em><strong>The AWS SDK for Java 2.x is a major rewrite of the version 1.x code base. It’s built on top of Java 8+ and adds several frequently requested features. These include support for non-blocking I/O and the ability to plug in a different HTTP implementation at run time.</strong></em></p>\n<p>You can set this information (sender name) by setting the <strong>SendEmailRequest</strong> object properly.</p>\n<p>Here is the <a href=\"https://github.com/awsdocs/aws-doc-sdk-examples/blob/master/javav2/example_code/ses/src/main/java/com/example/ses/SendMessageEmailRequest.java\" rel=\"nofollow noreferrer\">Java  V2 SES example</a>.</p>\n<pre><code>import software.amazon.awssdk.regions.Region;\nimport software.amazon.awssdk.services.ses.SesClient;\nimport software.amazon.awssdk.services.ses.model.*;\nimport software.amazon.awssdk.services.ses.model.Message;\nimport software.amazon.awssdk.services.ses.model.Body;\nimport javax.mail.MessagingException;\n\npublic class SendMessageEmailRequest {\n\n    public static void main(String[] args) {\n\n        final String USAGE = &quot;\\n&quot; +\n                &quot;Usage:\\n&quot; +\n                &quot;    &lt;sender&gt; &lt;recipient&gt; &lt;subject&gt; \\n\\n&quot; +\n                &quot;Where:\\n&quot; +\n                &quot;    sender - an email address that represents the sender. \\n&quot;+\n                &quot;    recipient -  an email address that represents the recipient. \\n&quot;+\n                &quot;    subject - the  subject line. \\n&quot; ;\n\n          if (args.length != 3) {\n            System.out.println(USAGE);\n             System.exit(1);\n           }\n\n        String sender = &quot;foo@testmail.com&quot; ;//args[0];\n        String recipient = &quot;foo@testmail.com&quot; ;//args[1];\n        String subject = &quot;Test Email&quot;; //args[2];\n\n        Region region = Region.US_EAST_1;\n        SesClient client = SesClient.builder()\n                .region(region)\n                .build();\n\n        // The email body for non-HTML email clients\n        String bodyText = &quot;Hello,\\r\\n&quot; + &quot;See the list of customers. &quot;;\n\n        // The HTML body of the email\n        String bodyHTML = &quot;&lt;html&gt;&quot; + &quot;&lt;head&gt;&lt;/head&gt;&quot; + &quot;&lt;body&gt;&quot; + &quot;&lt;h1&gt;Hello!&lt;/h1&gt;&quot;\n                + &quot;&lt;p&gt; See the list of customers.&lt;/p&gt;&quot; + &quot;&lt;/body&gt;&quot; + &quot;&lt;/html&gt;&quot;;\n\n        try {\n            send(client, sender, recipient, subject, bodyText, bodyHTML);\n            client.close();\n            System.out.println(&quot;Done&quot;);\n\n        } catch (MessagingException e) {\n            e.getStackTrace();\n        }\n    }\n\n    public static void send(SesClient client,\n                            String sender,\n                            String recipient,\n                            String subject,\n                            String bodyText,\n                            String bodyHTML\n    ) throws MessagingException {\n\n        Destination destination = Destination.builder()\n                .toAddresses(recipient)\n                .build();\n\n        Content content = Content.builder()\n                .data(bodyHTML)\n                .build();\n\n        Content sub = Content.builder()\n                .data(subject)\n                .build();\n\n        Body body = Body.builder()\n                .html(content)\n                .build();\n\n        Message msg = Message.builder()\n                .subject(sub)\n                .body(body)\n                .build();\n\n        SendEmailRequest emailRequest = SendEmailRequest.builder()\n                .destination(destination)\n                .message(msg)\n                .source(sender)\n                .build();\n\n        try {\n            System.out.println(&quot;Attempting to send an email through Amazon SES &quot; + &quot;using the AWS SDK for Java...&quot;);\n            client.sendEmail(emailRequest);\n\n        } catch (SesException e) {\n            System.err.println(e.awsErrorDetails().errorMessage());\n            System.exit(1);\n        }\n    }\n }\n</code></pre>\n"}],"owner":{"account_id":10309761,"reputation":944,"user_id":7605967,"display_name":"Keshavram Kuduwa"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1343,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69377441,"answer_count":2,"score":0,"last_activity_date":1632940862,"creation_date":1632897821,"question_id":69371565,"body_markdown":"I am currently using AWS SDK to send mails:\r\n```java\r\n  // from: noreply@domain.com\r\n  public void sendMail(String from, String to, String subject, String htmlBody) {\r\n    LOGGER.info(String.format(&quot;Sending Mail from: %s, to: %s, with subject: %s&quot;, from, to, subject));\r\n    try {\r\n      AWSCredentials credentials = new BasicAWSCredentials(awsAccessKey, awsSecret);\r\n      AmazonSimpleEmailService client = AmazonSimpleEmailServiceClientBuilder.standard()\r\n              .withRegion(Regions.AP_SOUTH_1).withCredentials(new AWSStaticCredentialsProvider(credentials))\r\n              .build();\r\n\r\n      SendEmailRequest request = new SendEmailRequest().withDestination(new Destination().withToAddresses(to))\r\n              .withMessage(new Message()\r\n                      .withBody(new Body().withHtml(new Content().withCharset(&quot;UTF-8&quot;).withData(htmlBody)))\r\n                      .withSubject(new Content().withCharset(&quot;UTF-8&quot;).withData(subject)))\r\n              .withSource(from);\r\n\r\n      client.sendEmail(request);\r\n    } catch (Exception e) {\r\n      LOGGER.error(String.format(&quot;Error while sending email: %s&quot;, e.getMessage()));\r\n      throw new IllegalArgumentException(MessageEnum.FAILED_TO_SEND_AN_EMAIL.name());\r\n    }\r\n  }\r\n```\r\nThe method works fine but the email is sent as:\r\n[![The current version][1]][1]\r\n\r\nBut I am expecting the email to be sent with the sender name so that it can be displayed like:\r\n[![The expected version][2]][2]\r\n\r\nDoes anyone have any idea on how to send an email including the sender name? Any help is appreciated.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XWziC.png\r\n  [2]: https://i.stack.imgur.com/LDTfb.png","title":"How to send email with sender name using AWS SDK?","body":"<p>I am currently using AWS SDK to send mails:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  // from: noreply@domain.com\n  public void sendMail(String from, String to, String subject, String htmlBody) {\n    LOGGER.info(String.format(&quot;Sending Mail from: %s, to: %s, with subject: %s&quot;, from, to, subject));\n    try {\n      AWSCredentials credentials = new BasicAWSCredentials(awsAccessKey, awsSecret);\n      AmazonSimpleEmailService client = AmazonSimpleEmailServiceClientBuilder.standard()\n              .withRegion(Regions.AP_SOUTH_1).withCredentials(new AWSStaticCredentialsProvider(credentials))\n              .build();\n\n      SendEmailRequest request = new SendEmailRequest().withDestination(new Destination().withToAddresses(to))\n              .withMessage(new Message()\n                      .withBody(new Body().withHtml(new Content().withCharset(&quot;UTF-8&quot;).withData(htmlBody)))\n                      .withSubject(new Content().withCharset(&quot;UTF-8&quot;).withData(subject)))\n              .withSource(from);\n\n      client.sendEmail(request);\n    } catch (Exception e) {\n      LOGGER.error(String.format(&quot;Error while sending email: %s&quot;, e.getMessage()));\n      throw new IllegalArgumentException(MessageEnum.FAILED_TO_SEND_AN_EMAIL.name());\n    }\n  }\n</code></pre>\n<p>The method works fine but the email is sent as:\n<a href=\"https://i.stack.imgur.com/XWziC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XWziC.png\" alt=\"The current version\" /></a></p>\n<p>But I am expecting the email to be sent with the sender name so that it can be displayed like:\n<a href=\"https://i.stack.imgur.com/LDTfb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LDTfb.png\" alt=\"The expected version\" /></a></p>\n<p>Does anyone have any idea on how to send an email including the sender name? Any help is appreciated.</p>\n"},{"tags":["java","angular","spring-boot"],"comments":[{"owner":{"account_id":17066586,"reputation":4526,"user_id":12348584,"display_name":"H3AR7B3A7"},"score":0,"creation_date":1632928423,"post_id":69378911,"comment_id":122627016,"body_markdown":"Does this answer your question? [How can we detect when user closes browser?](https://stackoverflow.com/questions/37642589/how-can-we-detect-when-user-closes-browser)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/37642589/how-can-we-detect-when-user-closes-browser\">How can we detect when user closes browser?</a>"},{"owner":{"account_id":4382488,"reputation":343,"user_id":6666688,"display_name":"java dev"},"score":0,"creation_date":1632928563,"post_id":69378911,"comment_id":122627082,"body_markdown":"No, I already checked it but the request was triggered without complete.\nI guess this is because when the parent is killed it kill all children.","body":"No, I already checked it but the request was triggered without complete. I guess this is because when the parent is killed it kill all children."},{"owner":{"account_id":17066586,"reputation":4526,"user_id":12348584,"display_name":"H3AR7B3A7"},"score":0,"creation_date":1632929203,"post_id":69378911,"comment_id":122627423,"body_markdown":"If the request triggers, isn&#39;t that enough for your backend to know those products closed? You can&#39;t expect a browser not to close when it is told to...","body":"If the request triggers, isn&#39;t that enough for your backend to know those products closed? You can&#39;t expect a browser not to close when it is told to..."},{"owner":{"account_id":4382488,"reputation":343,"user_id":6666688,"display_name":"java dev"},"score":0,"creation_date":1632929476,"post_id":69378911,"comment_id":122627542,"body_markdown":"No, not enough because it stopped in filter not reach to API to do action.","body":"No, not enough because it stopped in filter not reach to API to do action."},{"owner":{"account_id":2654026,"reputation":4819,"user_id":2295103,"display_name":"MikeOne"},"score":0,"creation_date":1632930514,"post_id":69378911,"comment_id":122628042,"body_markdown":"Maybe a beacon will help you? That is how we do it and it’s pretty reliable. https://developer.mozilla.org/en-US/docs/Web/API/Navigator/sendBeacon","body":"Maybe a beacon will help you? That is how we do it and it’s pretty reliable. <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Navigator/sendBeacon\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/API/Navigator/sendBeaco&zwnj;&#8203;n</a>"},{"owner":{"account_id":4382488,"reputation":343,"user_id":6666688,"display_name":"java dev"},"score":0,"creation_date":1632934556,"post_id":69378911,"comment_id":122629919,"body_markdown":"Thanx @MikeOne it works perfectly.\nPlease make it an Answer to the question.","body":"Thanx @MikeOne it works perfectly. Please make it an Answer to the question."},{"owner":{"account_id":2654026,"reputation":4819,"user_id":2295103,"display_name":"MikeOne"},"score":0,"creation_date":1632940806,"post_id":69378911,"comment_id":122632226,"body_markdown":"Done.... Hope it helps someone ;-)","body":"Done.... Hope it helps someone ;-)"}],"answers":[{"tags":[],"owner":{"account_id":2654026,"reputation":4819,"user_id":2295103,"display_name":"MikeOne"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1632940767,"creation_date":1632940767,"answer_id":69381813,"question_id":69378911,"body_markdown":"In order to send something to the server at the moment of &#39;unloading&#39; the browser tab, there is fairly well supported Native Browser API called sendBeacon (https://developer.mozilla.org/en-US/docs/Web/API/Navigator/sendBeacon). This really is unrelated to Angular and you cannot use the HttpClient for it. \r\n\r\nit would look something like this:\r\n\r\n    document.addEventListener(&#39;visibilitychange&#39;, function logData() {\r\n      if (document.visibilityState === &#39;hidden&#39;) {\r\n        navigator.sendBeacon(&#39;/log&#39;, analyticsData);\r\n      }\r\n    });\r\n\r\nThe sendBeacon is *almost* guaranteed to be send to the server. There is no response needed from the server as the API doesn&#39;t actually expect a response to its call. Also, if you need to sent a JSON payload, you can do that using a blob like:\r\n\r\n    const payload = {&#39;tenantId&#39;:&#39;abc&#39;,&#39;productId&#39;:1};\r\n    const json = new Blob([JSON.stringify(payload)], { type: &#39;application/json&#39; });\r\n    navigator.sendBeacon(url, json);","title":"How to push notification on user open component or leave it in Angular?","body":"<p>In order to send something to the server at the moment of 'unloading' the browser tab, there is fairly well supported Native Browser API called sendBeacon (<a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Navigator/sendBeacon\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/API/Navigator/sendBeacon</a>). This really is unrelated to Angular and you cannot use the HttpClient for it.</p>\n<p>it would look something like this:</p>\n<pre><code>document.addEventListener('visibilitychange', function logData() {\n  if (document.visibilityState === 'hidden') {\n    navigator.sendBeacon('/log', analyticsData);\n  }\n});\n</code></pre>\n<p>The sendBeacon is <em>almost</em> guaranteed to be send to the server. There is no response needed from the server as the API doesn't actually expect a response to its call. Also, if you need to sent a JSON payload, you can do that using a blob like:</p>\n<pre><code>const payload = {'tenantId':'abc','productId':1};\nconst json = new Blob([JSON.stringify(payload)], { type: 'application/json' });\nnavigator.sendBeacon(url, json);\n</code></pre>\n"}],"owner":{"account_id":4382488,"reputation":343,"user_id":6666688,"display_name":"java dev"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69381813,"answer_count":1,"score":0,"last_activity_date":1632940767,"creation_date":1632927715,"question_id":69378911,"body_markdown":"We create a report about the current opened products.\r\nWe use Angular Component that is responsible to show a product by its id.\r\nSo if a product page is opened, the frontend instantly sends a notification with ```tenantId``` and ```productId``` so we increase this productId in this tenantId by one and vice versa when the user closes the product component, the frontend sends a notification with tenantId and productId so we decrease this productId in this tenantId.\r\n\r\nScenario:-  \r\nUser1 open product page so front send ```{&quot;tenantId&quot;:&quot;abc&quot;,&quot;productId&quot;:1}```\r\nso in backend in temporary map increase this productId in this tenantId\r\n\r\nUser2 open product page so front send ```{&quot;tenantId&quot;:&quot;abc&quot;,&quot;productId&quot;:1}```\r\nso in backend in temporary map increase this productId in this tenantId\r\n\r\nUser2 closed product page so front send ```{&quot;tenantId&quot;:&quot;abc&quot;,&quot;productId&quot;:1}```\r\nso in backend in temporary map decrease this productId in this tenantId\r\n\r\nBut the problem is when the frontend sends a notification when the user closes the browser or closes the browser tap the request is already triggered but not complete.  \r\nSo what is the best practice to complete this task?   \r\n\r\nNo necessary this implementation you can give any workaround.","title":"How to push notification on user open component or leave it in Angular?","body":"<p>We create a report about the current opened products.\nWe use Angular Component that is responsible to show a product by its id.\nSo if a product page is opened, the frontend instantly sends a notification with <code>tenantId</code> and <code>productId</code> so we increase this productId in this tenantId by one and vice versa when the user closes the product component, the frontend sends a notification with tenantId and productId so we decrease this productId in this tenantId.</p>\n<p>Scenario:-<br />\nUser1 open product page so front send <code>{&quot;tenantId&quot;:&quot;abc&quot;,&quot;productId&quot;:1}</code>\nso in backend in temporary map increase this productId in this tenantId</p>\n<p>User2 open product page so front send <code>{&quot;tenantId&quot;:&quot;abc&quot;,&quot;productId&quot;:1}</code>\nso in backend in temporary map increase this productId in this tenantId</p>\n<p>User2 closed product page so front send <code>{&quot;tenantId&quot;:&quot;abc&quot;,&quot;productId&quot;:1}</code>\nso in backend in temporary map decrease this productId in this tenantId</p>\n<p>But the problem is when the frontend sends a notification when the user closes the browser or closes the browser tap the request is already triggered but not complete.<br />\nSo what is the best practice to complete this task?</p>\n<p>No necessary this implementation you can give any workaround.</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1632940783,"post_id":69381283,"comment_id":122632218,"body_markdown":"It looks like your pom.xml is putting the wrong class in the Manifest - have you verified that `com.mprv.automation.core.exceptions.AutomationException` is in the jar and that the main class is set correctly?","body":"It looks like your pom.xml is putting the wrong class in the Manifest - have you verified that <code>com.mprv.automation.core.exceptions.AutomationException</code> is in the jar and that the main class is set correctly?"},{"owner":{"account_id":22180648,"reputation":367,"user_id":16424414,"display_name":"Orly Orly"},"score":0,"creation_date":1632985964,"post_id":69381283,"comment_id":122642078,"body_markdown":"this is my question, how to set the jar to include ```com.mprv.automation.core.exceptions.AutomationException``` ?\n(which is another jar)","body":"this is my question, how to set the jar to include <code>com.mprv.automation.core.exceptions.AutomationException</code> ? (which is another jar)"}],"answers":[{"tags":[],"owner":{"account_id":12665655,"reputation":1,"user_id":9205063,"display_name":"imranalmunyeem"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632940403,"creation_date":1632940403,"answer_id":69381726,"question_id":69381283,"body_markdown":"Try it\r\n\r\nJust add all the required libraries to the classpath when using java -jar target/PriseDeNotes-0.0.1-SNAPSHOT.jar with the --classpath argument.","title":"Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError maven jar","body":"<p>Try it</p>\n<p>Just add all the required libraries to the classpath when using java -jar target/PriseDeNotes-0.0.1-SNAPSHOT.jar with the --classpath argument.</p>\n"}],"owner":{"account_id":22180648,"reputation":367,"user_id":16424414,"display_name":"Orly Orly"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":306,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632940403,"creation_date":1632938017,"question_id":69381283,"body_markdown":"i am new to maven, after running Maven with mvn clean package command. \r\nit compiles the project into an executable jar. \r\n\r\ni run the jar in the terminal and got this error:\r\n\r\n```\r\n$ java -jar create_pass_criteria-1.0-SNAPSHOT.jar\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/mprv/automation/core/exceptions/AutomationException\r\n        at Create_pass_criteria.Main.main(Main.java:23)\r\nCaused by: java.lang.ClassNotFoundException: com.mprv.automation.core.exceptions.AutomationException\r\n        at java.net.URLClassLoader.findClass(Unknown Source)\r\n        at java.lang.ClassLoader.loadClass(Unknown Source)\r\n        at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\r\n        at java.lang.ClassLoader.loadClass(Unknown Source)\r\n        ... 1 more\r\n```\r\n\r\ni have a lot of jars that i use in my code by importing them.\r\nhow can i make the jar also include those jars?\r\nis this what this error means?\r\nappreciate any help, \r\nthank you","title":"Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError maven jar","body":"<p>i am new to maven, after running Maven with mvn clean package command.\nit compiles the project into an executable jar.</p>\n<p>i run the jar in the terminal and got this error:</p>\n<pre><code>$ java -jar create_pass_criteria-1.0-SNAPSHOT.jar\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/mprv/automation/core/exceptions/AutomationException\n        at Create_pass_criteria.Main.main(Main.java:23)\nCaused by: java.lang.ClassNotFoundException: com.mprv.automation.core.exceptions.AutomationException\n        at java.net.URLClassLoader.findClass(Unknown Source)\n        at java.lang.ClassLoader.loadClass(Unknown Source)\n        at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\n        at java.lang.ClassLoader.loadClass(Unknown Source)\n        ... 1 more\n</code></pre>\n<p>i have a lot of jars that i use in my code by importing them.\nhow can i make the jar also include those jars?\nis this what this error means?\nappreciate any help,\nthank you</p>\n"},{"tags":["java","android","firebase-realtime-database","qr-code","zxing"],"comments":[{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":1,"creation_date":1632407486,"post_id":69298320,"comment_id":122488828,"body_markdown":"&quot;Any ideas?&quot; is not really a great type of question for Stack Overflow, as there are way too many possible answers. What is the problem you encountered when you tried to store the QR code as a string in Firebase? If you didn&#39;t try it yet, I recommend starting here: https://firebase.google.com/docs/database/android/read-and-write","body":"&quot;Any ideas?&quot; is not really a great type of question for Stack Overflow, as there are way too many possible answers. What is the problem you encountered when you tried to store the QR code as a string in Firebase? If you didn&#39;t try it yet, I recommend starting here: <a href=\"https://firebase.google.com/docs/database/android/read-and-write\" rel=\"nofollow noreferrer\">firebase.google.com/docs/database/android/read-and-write</a>"},{"owner":{"account_id":10312514,"reputation":1,"user_id":7607851,"display_name":"mike"},"score":0,"creation_date":1632482519,"post_id":69298320,"comment_id":122510766,"body_markdown":"Well yes you are right, just started over in the community, I will keep that in mind. Well the QR code is not being stored anywhere, it is being generated when the User logs in to his profile.","body":"Well yes you are right, just started over in the community, I will keep that in mind. Well the QR code is not being stored anywhere, it is being generated when the User logs in to his profile."},{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1632494825,"post_id":69298320,"comment_id":122515907,"body_markdown":"Sure, but you want to store it in the database, right? So if you try that (with the link I provided above), does it work? If not, what is the concrete problem you encounter? Is there an error message?","body":"Sure, but you want to store it in the database, right? So if you try that (with the link I provided above), does it work? If not, what is the concrete problem you encounter? Is there an error message?"},{"owner":{"account_id":10312514,"reputation":1,"user_id":7607851,"display_name":"mike"},"score":0,"creation_date":1632939312,"post_id":69298320,"comment_id":122631717,"body_markdown":"I found something that works for me, I will post my code. I just wanted to get the scanned results from the QR code and store them in the database under specific paths. I didn&#39;t want to store the QR code in the database. Anyway next time I will provide code and I will try to explain my problem better. Thank you for your response!","body":"I found something that works for me, I will post my code. I just wanted to get the scanned results from the QR code and store them in the database under specific paths. I didn&#39;t want to store the QR code in the database. Anyway next time I will provide code and I will try to explain my problem better. Thank you for your response!"}],"owner":{"account_id":10312514,"reputation":1,"user_id":7607851,"display_name":"mike"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":422,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1632939880,"creation_date":1632393121,"question_id":69298320,"body_markdown":"I&#39;m curently working on an application that has register/login form of a user and a shop, whenever a user is loged in with it&#39;s credentials the User Profile is being displayed and a QR code with it&#39;s data is being created. \r\n\r\nWhenever a shop is logged in it can scan the User&#39;s QR code and show it&#39;s credentials, I&#39;m trying to figure out how can I store user&#39;s credentials when scanned to a new path created on the **Firebase** to show in which shop the user has entered.\r\n\r\nI&#39;m thinking that somehow whenever the shop is scanning the QR code of the user, it is going to store the data to some strings and then a new &quot;field&quot; will be created in **Firebase**.\r\n\r\nAlso the library that I&#39;m using for the **QR code** is the **Zxing library**.\r\n\r\nAny ideas?\r\n\r\n\r\n**EDIT, ANSWER FOUND**\r\n\r\nThis function takes the result from the QR code and stores it on Firebase\r\n\r\n     public void resultSplitter(String result) {\r\n        String keys[] = {&quot;FullName&quot;, &quot;Email&quot;, &quot;Phone&quot;, &quot;Age&quot;};\r\n        String splitted[] = result.split(&quot;\\n&quot;);\r\n        HashMap&lt;String, String&gt; valuesMap = new HashMap&lt;&gt;();\r\n        for (int i = 0; i &lt; splitted.length; i++) {\r\n            splitted[i].trim();\r\n            String value = splitted[i].split(keys[i] + &quot; :&quot;)[1].trim();\r\n            valuesMap.put(keys[i], value);\r\n        }\r\n\r\n        User record = new User(\r\n                valuesMap.get(&quot;FullName&quot;),\r\n                valuesMap.get(&quot;Email&quot;),\r\n                valuesMap.get(&quot;Phone&quot;),\r\n                valuesMap.get(&quot;Age&quot;),\r\n                elseReader,\r\n                timestamp.getTime());\r\n\r\n        FirebaseDatabase\r\n                .getInstance()\r\n                .getReference(&quot;Reader&quot;)\r\n                .child(&quot;Shops&quot;)\r\n                .push()\r\n                .setValue(record)\r\n                .addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n                        if (task.isSuccessful()) {\r\n                            Toast.makeText(ElseRead.this, &quot;Record added successfully&quot;, Toast.LENGTH_LONG).show();\r\n                    progressBar.setVisibility(View.VISIBLE);\r\n                        } else\r\n                            Toast.makeText(ElseRead.this, &quot;Failed to record! Try again!&quot;, Toast.LENGTH_LONG).show();\r\n                progressBar.setVisibility(View.GONE);\r\n                    }\r\n                });","title":"How to store QR code data in Firebase after scanning","body":"<p>I'm curently working on an application that has register/login form of a user and a shop, whenever a user is loged in with it's credentials the User Profile is being displayed and a QR code with it's data is being created.</p>\n<p>Whenever a shop is logged in it can scan the User's QR code and show it's credentials, I'm trying to figure out how can I store user's credentials when scanned to a new path created on the <strong>Firebase</strong> to show in which shop the user has entered.</p>\n<p>I'm thinking that somehow whenever the shop is scanning the QR code of the user, it is going to store the data to some strings and then a new &quot;field&quot; will be created in <strong>Firebase</strong>.</p>\n<p>Also the library that I'm using for the <strong>QR code</strong> is the <strong>Zxing library</strong>.</p>\n<p>Any ideas?</p>\n<p><strong>EDIT, ANSWER FOUND</strong></p>\n<p>This function takes the result from the QR code and stores it on Firebase</p>\n<pre><code> public void resultSplitter(String result) {\n    String keys[] = {&quot;FullName&quot;, &quot;Email&quot;, &quot;Phone&quot;, &quot;Age&quot;};\n    String splitted[] = result.split(&quot;\\n&quot;);\n    HashMap&lt;String, String&gt; valuesMap = new HashMap&lt;&gt;();\n    for (int i = 0; i &lt; splitted.length; i++) {\n        splitted[i].trim();\n        String value = splitted[i].split(keys[i] + &quot; :&quot;)[1].trim();\n        valuesMap.put(keys[i], value);\n    }\n\n    User record = new User(\n            valuesMap.get(&quot;FullName&quot;),\n            valuesMap.get(&quot;Email&quot;),\n            valuesMap.get(&quot;Phone&quot;),\n            valuesMap.get(&quot;Age&quot;),\n            elseReader,\n            timestamp.getTime());\n\n    FirebaseDatabase\n            .getInstance()\n            .getReference(&quot;Reader&quot;)\n            .child(&quot;Shops&quot;)\n            .push()\n            .setValue(record)\n            .addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n                @Override\n                public void onComplete(@NonNull Task&lt;Void&gt; task) {\n                    if (task.isSuccessful()) {\n                        Toast.makeText(ElseRead.this, &quot;Record added successfully&quot;, Toast.LENGTH_LONG).show();\n                progressBar.setVisibility(View.VISIBLE);\n                    } else\n                        Toast.makeText(ElseRead.this, &quot;Failed to record! Try again!&quot;, Toast.LENGTH_LONG).show();\n            progressBar.setVisibility(View.GONE);\n                }\n            });\n</code></pre>\n"},{"tags":["java","eclipse","ide"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1595872905,"post_id":63118956,"comment_id":111619127,"body_markdown":"Sounds like something to report via https://bugs.eclipse.org/bugs/enter_bug.cgi?product=LSP4E&amp;component=General","body":"Sounds like something to report via <a href=\"https://bugs.eclipse.org/bugs/enter_bug.cgi?product=LSP4E&amp;component=General\" rel=\"nofollow noreferrer\">bugs.eclipse.org/bugs/&hellip;</a>"},{"owner":{"account_id":3285035,"reputation":720,"user_id":2764757,"display_name":"JuanN"},"score":0,"creation_date":1595921787,"post_id":63118956,"comment_id":111633224,"body_markdown":"I&#39;ve tried to uninstall all the pluggins and install them back again. It seems that Jboss Tools pluggin is responsible for this erratic behaviour. I installed it again but only with the basic stuff and, apparently, the timeoutException seems to be fixed.","body":"I&#39;ve tried to uninstall all the pluggins and install them back again. It seems that Jboss Tools pluggin is responsible for this erratic behaviour. I installed it again but only with the basic stuff and, apparently, the timeoutException seems to be fixed."}],"answers":[{"tags":[],"owner":{"account_id":11058292,"reputation":151,"user_id":8120499,"display_name":"Selvakumar K"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1602752563,"creation_date":1602752563,"answer_id":64368199,"question_id":63118956,"body_markdown":"Go to Windows -&gt; Preferences -&gt; Language servers. Disable all checkboxes, apply &amp; close. Restart IDE. It solved problem for me.","title":"Eclipse 2020-06 freezes constantly due to java.util.concurrent.TimeoutException","body":"<p>Go to Windows -&gt; Preferences -&gt; Language servers. Disable all checkboxes, apply &amp; close. Restart IDE. It solved problem for me.</p>\n"},{"tags":[],"owner":{"account_id":258286,"reputation":131,"user_id":6713675,"display_name":"teroplut"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1610839924,"creation_date":1610839924,"answer_id":65755805,"question_id":63118956,"body_markdown":"In my case it was &quot;Camel LSP server for java&quot;, in Language Servers. After disabling it, the GUI become responsive again","title":"Eclipse 2020-06 freezes constantly due to java.util.concurrent.TimeoutException","body":"<p>In my case it was &quot;Camel LSP server for java&quot;, in Language Servers. After disabling it, the GUI become responsive again</p>\n"},{"tags":[],"owner":{"account_id":13086550,"reputation":733,"user_id":9455340,"display_name":"chetan mahajan"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1632939820,"creation_date":1624437994,"answer_id":68096534,"question_id":63118956,"body_markdown":"In my case, Restarting IDE has resolved this issue.","title":"Eclipse 2020-06 freezes constantly due to java.util.concurrent.TimeoutException","body":"<p>In my case, Restarting IDE has resolved this issue.</p>\n"}],"owner":{"account_id":3285035,"reputation":720,"user_id":2764757,"display_name":"JuanN"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4766,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1632939820,"creation_date":1595865322,"question_id":63118956,"body_markdown":"I have recently switched to eclipse 2020-06 for JEE development and it turned out to be a setback. It keeps freezing whenever an action is required: getting into a class definition, pulsing ctrl and selecting any item (classes, methods, ...). The eclipse log is full of these erros:\r\n\r\n    java.util.concurrent.TimeoutException\r\n    \tat java.util.concurrent.CompletableFuture.timedGet(Unknown Source)\r\n    \tat java.util.concurrent.CompletableFuture.get(Unknown Source)\r\n    \tat org.eclipse.lsp4e.LanguageServerWrapper.supportsWorkspaceFolderCapability(LanguageServerWrapper.java:544)\r\n    \tat org.eclipse.lsp4e.LanguageServerWrapper.canOperate(LanguageServerWrapper.java:863)\r\n    \tat org.eclipse.lsp4e.LanguageServiceAccessor.lambda$6(LanguageServiceAccessor.java:361)\r\n    \tat java.util.stream.ReferencePipeline$2$1.accept(Unknown Source)\r\n    \tat java.util.stream.ReferencePipeline$2$1.accept(Unknown Source)\r\n    \tat java.util.HashMap$KeySpliterator.forEachRemaining(Unknown Source)\r\n    \tat java.util.stream.AbstractPipeline.copyInto(Unknown Source)\r\n    \tat java.util.stream.AbstractPipeline.wrapAndCopyInto(Unknown Source)\r\n    \tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(Unknown Source)\r\n    \tat java.util.stream.AbstractPipeline.evaluate(Unknown Source)\r\n    \tat java.util.stream.ReferencePipeline.collect(Unknown Source)\r\n    \tat org.eclipse.lsp4e.LanguageServiceAccessor.getLSWrappers(LanguageServiceAccessor.java:362)\r\n    \tat org.eclipse.lsp4e.LanguageServiceAccessor.getLanguageServers(LanguageServiceAccessor.java:588)\r\n    \tat org.eclipse.lsp4e.operations.rename.LSPRenameHandler.isEnabled(LSPRenameHandler.java:128)\r\n    \tat org.eclipse.ui.internal.handlers.HandlerProxy.isEnabled(HandlerProxy.java:300)\r\n    \tat org.eclipse.ui.internal.handlers.E4HandlerProxy.canExecute(E4HandlerProxy.java:78)\r\n    \tat sun.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat java.lang.reflect.Method.invoke(Unknown Source)\r\n    \tat org.eclipse.e4.core.internal.di.MethodRequestor.execute(MethodRequestor.java:58)\r\n    \tat org.eclipse.e4.core.internal.di.InjectorImpl.invokeUsingClass(InjectorImpl.java:319)\r\n    \tat org.eclipse.e4.core.internal.di.InjectorImpl.invoke(InjectorImpl.java:253)\r\n    \tat org.eclipse.e4.core.contexts.ContextInjectionFactory.invoke(ContextInjectionFactory.java:173)\r\n    \tat org.eclipse.e4.core.commands.internal.HandlerServiceHandler.isEnabled(HandlerServiceHandler.java:62)\r\n    \tat org.eclipse.core.commands.Command.isEnabled(Command.java:832)\r\n    \tat org.eclipse.ui.menus.CommandContributionItem.isEnabled(CommandContributionItem.java:917)\r\n    \tat org.eclipse.ui.menus.CommandContributionItem.updateMenuItem(CommandContributionItem.java:531)\r\n    \tat org.eclipse.ui.menus.CommandContributionItem.update(CommandContributionItem.java:484)\r\n    \tat org.eclipse.ui.menus.CommandContributionItem.update(CommandContributionItem.java:477)\r\n    \tat org.eclipse.ui.menus.CommandContributionItem.lambda$0(CommandContributionItem.java:935)\r\n    \tat org.eclipse.jface.bindings.BindingManager.fireBindingManagerChanged(BindingManager.java:903)\r\n    \tat org.eclipse.jface.bindings.BindingManager.setActiveBindings(BindingManager.java:2183)\r\n    \tat org.eclipse.jface.bindings.BindingManager.recomputeBindings(BindingManager.java:1744)\r\n    \tat org.eclipse.jface.bindings.BindingManager.contextManagerChanged(BindingManager.java:693)\r\n    \tat org.eclipse.core.commands.contexts.ContextManager.fireContextManagerChanged(ContextManager.java:164)\r\n    \tat org.eclipse.core.commands.contexts.ContextManager.setEventCaching(ContextManager.java:323)\r\n    \tat org.eclipse.core.commands.contexts.ContextManager.deferUpdates(ContextManager.java:85)\r\n    \tat org.eclipse.e4.ui.internal.workbench.PartServiceImpl.activate(PartServiceImpl.java:781)\r\n    \tat org.eclipse.e4.ui.internal.workbench.PartServiceImpl.activate(PartServiceImpl.java:683)\r\n    \tat org.eclipse.e4.ui.internal.workbench.swt.AbstractPartRenderer.activate(AbstractPartRenderer.java:97)\r\n    \tat org.eclipse.e4.ui.workbench.renderers.swt.ContributedPartRenderer.lambda$0(ContributedPartRenderer.java:63)\r\n    \tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:89)\r\n    \tat org.eclipse.swt.widgets.Display.sendEvent(Display.java:4213)\r\n    \tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1037)\r\n    \tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1061)\r\n    \tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1046)\r\n    \tat org.eclipse.swt.widgets.Shell.setActiveControl(Shell.java:1469)\r\n    \tat org.eclipse.swt.widgets.Shell.WM_MOUSEACTIVATE(Shell.java:2315)\r\n    \tat org.eclipse.swt.widgets.Control.windowProc(Control.java:4784)\r\n    \tat org.eclipse.swt.widgets.Canvas.windowProc(Canvas.java:340)\r\n    \tat org.eclipse.swt.widgets.Decorations.windowProc(Decorations.java:1480)\r\n    \tat org.eclipse.swt.widgets.Shell.windowProc(Shell.java:2142)\r\n    \tat org.eclipse.swt.widgets.Display.windowProc(Display.java:4931)\r\n    \tat org.eclipse.swt.internal.win32.OS.DefWindowProc(Native Method)\r\n    \tat org.eclipse.swt.widgets.Scrollable.callWindowProc(Scrollable.java:91)\r\n    \tat org.eclipse.swt.widgets.Control.windowProc(Control.java:4841)\r\n    \tat org.eclipse.swt.widgets.Display.windowProc(Display.java:4931)\r\n    \tat org.eclipse.swt.internal.win32.OS.DefWindowProc(Native Method)\r\n    \tat org.eclipse.swt.widgets.Scrollable.callWindowProc(Scrollable.java:91)\r\n    \tat org.eclipse.swt.widgets.Control.windowProc(Control.java:4841)\r\n    \tat org.eclipse.swt.widgets.Display.windowProc(Display.java:4931)\r\n    \tat org.eclipse.swt.internal.win32.OS.DefWindowProc(Native Method)\r\n    \tat org.eclipse.swt.widgets.Scrollable.callWindowProc(Scrollable.java:91)\r\n    \tat org.eclipse.swt.widgets.Control.windowProc(Control.java:4841)\r\n    \tat org.eclipse.swt.widgets.Display.windowProc(Display.java:4931)\r\n    \tat org.eclipse.swt.internal.win32.OS.DefWindowProc(Native Method)\r\n    \tat org.eclipse.swt.widgets.Scrollable.callWindowProc(Scrollable.java:91)\r\n    \tat org.eclipse.swt.widgets.Control.windowProc(Control.java:4841)\r\n    \tat org.eclipse.swt.widgets.Display.windowProc(Display.java:4931)\r\n    \tat org.eclipse.swt.internal.win32.OS.DefWindowProc(Native Method)\r\n    \tat org.eclipse.swt.widgets.Scrollable.callWindowProc(Scrollable.java:91)\r\n    \tat org.eclipse.swt.widgets.Control.windowProc(Control.java:4841)\r\n    \tat org.eclipse.swt.widgets.Display.windowProc(Display.java:4931)\r\n    \tat org.eclipse.swt.internal.win32.OS.DefWindowProc(Native Method)\r\n    \tat org.eclipse.swt.widgets.Scrollable.callWindowProc(Scrollable.java:91)\r\n    \tat org.eclipse.swt.widgets.Control.windowProc(Control.java:4841)\r\n    \tat org.eclipse.swt.widgets.Display.windowProc(Display.java:4931)\r\n    \tat org.eclipse.swt.internal.win32.OS.DefWindowProc(Native Method)\r\n    \tat org.eclipse.swt.widgets.Scrollable.callWindowProc(Scrollable.java:91)\r\n    \tat org.eclipse.swt.widgets.Control.windowProc(Control.java:4841)\r\n    \tat org.eclipse.swt.widgets.Display.windowProc(Display.java:4931)\r\n    \tat org.eclipse.swt.internal.win32.OS.DefWindowProc(Native Method)\r\n    \tat org.eclipse.swt.widgets.Scrollable.callWindowProc(Scrollable.java:91)\r\n    \tat org.eclipse.swt.widgets.Control.windowProc(Control.java:4841)\r\n    \tat org.eclipse.swt.widgets.Display.windowProc(Display.java:4931)\r\n    \tat org.eclipse.swt.internal.win32.OS.DefWindowProc(Native Method)\r\n    \tat org.eclipse.swt.widgets.Scrollable.callWindowProc(Scrollable.java:91)\r\n    \tat org.eclipse.swt.widgets.Control.windowProc(Control.java:4841)\r\n    \tat org.eclipse.swt.widgets.Display.windowProc(Display.java:4931)\r\n    \tat org.eclipse.swt.internal.win32.OS.DefWindowProc(Native Method)\r\n    \tat org.eclipse.swt.widgets.Scrollable.callWindowProc(Scrollable.java:91)\r\n    \tat org.eclipse.swt.widgets.Control.windowProc(Control.java:4841)\r\n    \tat org.eclipse.swt.widgets.Display.windowProc(Display.java:4931)\r\n    \tat org.eclipse.swt.internal.win32.OS.DefWindowProc(Native Method)\r\n    \tat org.eclipse.swt.widgets.Scrollable.callWindowProc(Scrollable.java:91)\r\n    \tat org.eclipse.swt.widgets.Control.windowProc(Control.java:4841)\r\n    \tat org.eclipse.swt.widgets.Display.windowProc(Display.java:4931)\r\n    \tat org.eclipse.swt.internal.win32.OS.DefWindowProc(Native Method)\r\n    \tat org.eclipse.swt.widgets.Scrollable.callWindowProc(Scrollable.java:91)\r\n    \tat org.eclipse.swt.widgets.Control.windowProc(Control.java:4841)\r\n    \tat org.eclipse.swt.widgets.Display.windowProc(Display.java:4931)\r\n    \tat org.eclipse.swt.internal.win32.OS.DefWindowProc(Native Method)\r\n    \tat org.eclipse.swt.widgets.Scrollable.callWindowProc(Scrollable.java:91)\r\n    \tat org.eclipse.swt.widgets.Control.windowProc(Control.java:4841)\r\n    \tat org.eclipse.swt.widgets.Display.windowProc(Display.java:4931)\r\n    \tat org.eclipse.swt.internal.win32.OS.DefWindowProc(Native Method)\r\n    \tat org.eclipse.swt.widgets.Scrollable.callWindowProc(Scrollable.java:91)\r\n    \tat org.eclipse.swt.widgets.Control.windowProc(Control.java:4841)\r\n    \tat org.eclipse.swt.widgets.Display.windowProc(Display.java:4931)\r\n    \tat org.eclipse.swt.internal.win32.OS.DefWindowProc(Native Method)\r\n    \tat org.eclipse.swt.widgets.Scrollable.callWindowProc(Scrollable.java:91)\r\n    \tat org.eclipse.swt.widgets.Control.windowProc(Control.java:4841)\r\n    \tat org.eclipse.swt.widgets.Canvas.windowProc(Canvas.java:340)\r\n    \tat org.eclipse.swt.widgets.Display.windowProc(Display.java:4931)\r\n    \tat org.eclipse.swt.internal.win32.OS.DefWindowProc(Native Method)\r\n    \tat org.eclipse.swt.widgets.Scrollable.callWindowProc(Scrollable.java:91)\r\n    \tat org.eclipse.swt.widgets.Control.windowProc(Control.java:4841)\r\n    \tat org.eclipse.swt.widgets.Canvas.windowProc(Canvas.java:340)\r\n    \tat org.eclipse.swt.widgets.Display.windowProc(Display.java:4931)\r\n    \tat org.eclipse.swt.internal.win32.OS.DefWindowProc(Native Method)\r\n    \tat org.eclipse.swt.widgets.Scrollable.callWindowProc(Scrollable.java:91)\r\n    \tat org.eclipse.swt.widgets.Control.windowProc(Control.java:4841)\r\n    \tat org.eclipse.swt.widgets.Display.windowProc(Display.java:4931)\r\n    \tat org.eclipse.swt.internal.win32.OS.CallWindowProc(Native Method)\r\n    \tat org.eclipse.swt.widgets.Label.callWindowProc(Label.java:123)\r\n    \tat org.eclipse.swt.widgets.Control.windowProc(Control.java:4841)\r\n    \tat org.eclipse.swt.widgets.Display.windowProc(Display.java:4931)\r\n    \tat org.eclipse.swt.internal.win32.OS.PeekMessage(Native Method)\r\n    \tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3625)\r\n    \tat org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$5.run(PartRenderingEngine.java:1158)\r\n    \tat org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\r\n    \tat org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(PartRenderingEngine.java:1047)\r\n    \tat org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(E4Workbench.java:155)\r\n    \tat org.eclipse.ui.internal.Workbench.lambda$3(Workbench.java:658)\r\n    \tat org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\r\n    \tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:557)\r\n    \tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:154)\r\n    \tat org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:150)\r\n    \tat org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:203)\r\n    \tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:137)\r\n    \tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:107)\r\n    \tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:401)\r\n    \tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:255)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat java.lang.reflect.Method.invoke(Unknown Source)\r\n    \tat org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:657)\r\n    \tat org.eclipse.equinox.launcher.Main.basicRun(Main.java:594)\r\n    \tat org.eclipse.equinox.launcher.Main.run(Main.java:1447)\r\n\r\nThe pluggins I&#39;m currently using are JBoss Tools, Spring STS, Subeclipse and Dark Theme.\r\nI&#39;ve tried to download the whole IDE again and to uncheck most of the options regarding validations, to no avail. Any ideas?\r\n\r\nThank you very much!!","title":"Eclipse 2020-06 freezes constantly due to java.util.concurrent.TimeoutException","body":"<p>I have recently switched to eclipse 2020-06 for JEE development and it turned out to be a setback. It keeps freezing whenever an action is required: getting into a class definition, pulsing ctrl and selecting any item (classes, methods, ...). The eclipse log is full of these erros:</p>\n<pre><code>java.util.concurrent.TimeoutException\n    at java.util.concurrent.CompletableFuture.timedGet(Unknown Source)\n    at java.util.concurrent.CompletableFuture.get(Unknown Source)\n    at org.eclipse.lsp4e.LanguageServerWrapper.supportsWorkspaceFolderCapability(LanguageServerWrapper.java:544)\n    at org.eclipse.lsp4e.LanguageServerWrapper.canOperate(LanguageServerWrapper.java:863)\n    at org.eclipse.lsp4e.LanguageServiceAccessor.lambda$6(LanguageServiceAccessor.java:361)\n    at java.util.stream.ReferencePipeline$2$1.accept(Unknown Source)\n    at java.util.stream.ReferencePipeline$2$1.accept(Unknown Source)\n    at java.util.HashMap$KeySpliterator.forEachRemaining(Unknown Source)\n    at java.util.stream.AbstractPipeline.copyInto(Unknown Source)\n    at java.util.stream.AbstractPipeline.wrapAndCopyInto(Unknown Source)\n    at java.util.stream.ReduceOps$ReduceOp.evaluateSequential(Unknown Source)\n    at java.util.stream.AbstractPipeline.evaluate(Unknown Source)\n    at java.util.stream.ReferencePipeline.collect(Unknown Source)\n    at org.eclipse.lsp4e.LanguageServiceAccessor.getLSWrappers(LanguageServiceAccessor.java:362)\n    at org.eclipse.lsp4e.LanguageServiceAccessor.getLanguageServers(LanguageServiceAccessor.java:588)\n    at org.eclipse.lsp4e.operations.rename.LSPRenameHandler.isEnabled(LSPRenameHandler.java:128)\n    at org.eclipse.ui.internal.handlers.HandlerProxy.isEnabled(HandlerProxy.java:300)\n    at org.eclipse.ui.internal.handlers.E4HandlerProxy.canExecute(E4HandlerProxy.java:78)\n    at sun.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.lang.reflect.Method.invoke(Unknown Source)\n    at org.eclipse.e4.core.internal.di.MethodRequestor.execute(MethodRequestor.java:58)\n    at org.eclipse.e4.core.internal.di.InjectorImpl.invokeUsingClass(InjectorImpl.java:319)\n    at org.eclipse.e4.core.internal.di.InjectorImpl.invoke(InjectorImpl.java:253)\n    at org.eclipse.e4.core.contexts.ContextInjectionFactory.invoke(ContextInjectionFactory.java:173)\n    at org.eclipse.e4.core.commands.internal.HandlerServiceHandler.isEnabled(HandlerServiceHandler.java:62)\n    at org.eclipse.core.commands.Command.isEnabled(Command.java:832)\n    at org.eclipse.ui.menus.CommandContributionItem.isEnabled(CommandContributionItem.java:917)\n    at org.eclipse.ui.menus.CommandContributionItem.updateMenuItem(CommandContributionItem.java:531)\n    at org.eclipse.ui.menus.CommandContributionItem.update(CommandContributionItem.java:484)\n    at org.eclipse.ui.menus.CommandContributionItem.update(CommandContributionItem.java:477)\n    at org.eclipse.ui.menus.CommandContributionItem.lambda$0(CommandContributionItem.java:935)\n    at org.eclipse.jface.bindings.BindingManager.fireBindingManagerChanged(BindingManager.java:903)\n    at org.eclipse.jface.bindings.BindingManager.setActiveBindings(BindingManager.java:2183)\n    at org.eclipse.jface.bindings.BindingManager.recomputeBindings(BindingManager.java:1744)\n    at org.eclipse.jface.bindings.BindingManager.contextManagerChanged(BindingManager.java:693)\n    at org.eclipse.core.commands.contexts.ContextManager.fireContextManagerChanged(ContextManager.java:164)\n    at org.eclipse.core.commands.contexts.ContextManager.setEventCaching(ContextManager.java:323)\n    at org.eclipse.core.commands.contexts.ContextManager.deferUpdates(ContextManager.java:85)\n    at org.eclipse.e4.ui.internal.workbench.PartServiceImpl.activate(PartServiceImpl.java:781)\n    at org.eclipse.e4.ui.internal.workbench.PartServiceImpl.activate(PartServiceImpl.java:683)\n    at org.eclipse.e4.ui.internal.workbench.swt.AbstractPartRenderer.activate(AbstractPartRenderer.java:97)\n    at org.eclipse.e4.ui.workbench.renderers.swt.ContributedPartRenderer.lambda$0(ContributedPartRenderer.java:63)\n    at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:89)\n    at org.eclipse.swt.widgets.Display.sendEvent(Display.java:4213)\n    at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1037)\n    at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1061)\n    at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1046)\n    at org.eclipse.swt.widgets.Shell.setActiveControl(Shell.java:1469)\n    at org.eclipse.swt.widgets.Shell.WM_MOUSEACTIVATE(Shell.java:2315)\n    at org.eclipse.swt.widgets.Control.windowProc(Control.java:4784)\n    at org.eclipse.swt.widgets.Canvas.windowProc(Canvas.java:340)\n    at org.eclipse.swt.widgets.Decorations.windowProc(Decorations.java:1480)\n    at org.eclipse.swt.widgets.Shell.windowProc(Shell.java:2142)\n    at org.eclipse.swt.widgets.Display.windowProc(Display.java:4931)\n    at org.eclipse.swt.internal.win32.OS.DefWindowProc(Native Method)\n    at org.eclipse.swt.widgets.Scrollable.callWindowProc(Scrollable.java:91)\n    at org.eclipse.swt.widgets.Control.windowProc(Control.java:4841)\n    at org.eclipse.swt.widgets.Display.windowProc(Display.java:4931)\n    at org.eclipse.swt.internal.win32.OS.DefWindowProc(Native Method)\n    at org.eclipse.swt.widgets.Scrollable.callWindowProc(Scrollable.java:91)\n    at org.eclipse.swt.widgets.Control.windowProc(Control.java:4841)\n    at org.eclipse.swt.widgets.Display.windowProc(Display.java:4931)\n    at org.eclipse.swt.internal.win32.OS.DefWindowProc(Native Method)\n    at org.eclipse.swt.widgets.Scrollable.callWindowProc(Scrollable.java:91)\n    at org.eclipse.swt.widgets.Control.windowProc(Control.java:4841)\n    at org.eclipse.swt.widgets.Display.windowProc(Display.java:4931)\n    at org.eclipse.swt.internal.win32.OS.DefWindowProc(Native Method)\n    at org.eclipse.swt.widgets.Scrollable.callWindowProc(Scrollable.java:91)\n    at org.eclipse.swt.widgets.Control.windowProc(Control.java:4841)\n    at org.eclipse.swt.widgets.Display.windowProc(Display.java:4931)\n    at org.eclipse.swt.internal.win32.OS.DefWindowProc(Native Method)\n    at org.eclipse.swt.widgets.Scrollable.callWindowProc(Scrollable.java:91)\n    at org.eclipse.swt.widgets.Control.windowProc(Control.java:4841)\n    at org.eclipse.swt.widgets.Display.windowProc(Display.java:4931)\n    at org.eclipse.swt.internal.win32.OS.DefWindowProc(Native Method)\n    at org.eclipse.swt.widgets.Scrollable.callWindowProc(Scrollable.java:91)\n    at org.eclipse.swt.widgets.Control.windowProc(Control.java:4841)\n    at org.eclipse.swt.widgets.Display.windowProc(Display.java:4931)\n    at org.eclipse.swt.internal.win32.OS.DefWindowProc(Native Method)\n    at org.eclipse.swt.widgets.Scrollable.callWindowProc(Scrollable.java:91)\n    at org.eclipse.swt.widgets.Control.windowProc(Control.java:4841)\n    at org.eclipse.swt.widgets.Display.windowProc(Display.java:4931)\n    at org.eclipse.swt.internal.win32.OS.DefWindowProc(Native Method)\n    at org.eclipse.swt.widgets.Scrollable.callWindowProc(Scrollable.java:91)\n    at org.eclipse.swt.widgets.Control.windowProc(Control.java:4841)\n    at org.eclipse.swt.widgets.Display.windowProc(Display.java:4931)\n    at org.eclipse.swt.internal.win32.OS.DefWindowProc(Native Method)\n    at org.eclipse.swt.widgets.Scrollable.callWindowProc(Scrollable.java:91)\n    at org.eclipse.swt.widgets.Control.windowProc(Control.java:4841)\n    at org.eclipse.swt.widgets.Display.windowProc(Display.java:4931)\n    at org.eclipse.swt.internal.win32.OS.DefWindowProc(Native Method)\n    at org.eclipse.swt.widgets.Scrollable.callWindowProc(Scrollable.java:91)\n    at org.eclipse.swt.widgets.Control.windowProc(Control.java:4841)\n    at org.eclipse.swt.widgets.Display.windowProc(Display.java:4931)\n    at org.eclipse.swt.internal.win32.OS.DefWindowProc(Native Method)\n    at org.eclipse.swt.widgets.Scrollable.callWindowProc(Scrollable.java:91)\n    at org.eclipse.swt.widgets.Control.windowProc(Control.java:4841)\n    at org.eclipse.swt.widgets.Display.windowProc(Display.java:4931)\n    at org.eclipse.swt.internal.win32.OS.DefWindowProc(Native Method)\n    at org.eclipse.swt.widgets.Scrollable.callWindowProc(Scrollable.java:91)\n    at org.eclipse.swt.widgets.Control.windowProc(Control.java:4841)\n    at org.eclipse.swt.widgets.Display.windowProc(Display.java:4931)\n    at org.eclipse.swt.internal.win32.OS.DefWindowProc(Native Method)\n    at org.eclipse.swt.widgets.Scrollable.callWindowProc(Scrollable.java:91)\n    at org.eclipse.swt.widgets.Control.windowProc(Control.java:4841)\n    at org.eclipse.swt.widgets.Display.windowProc(Display.java:4931)\n    at org.eclipse.swt.internal.win32.OS.DefWindowProc(Native Method)\n    at org.eclipse.swt.widgets.Scrollable.callWindowProc(Scrollable.java:91)\n    at org.eclipse.swt.widgets.Control.windowProc(Control.java:4841)\n    at org.eclipse.swt.widgets.Display.windowProc(Display.java:4931)\n    at org.eclipse.swt.internal.win32.OS.DefWindowProc(Native Method)\n    at org.eclipse.swt.widgets.Scrollable.callWindowProc(Scrollable.java:91)\n    at org.eclipse.swt.widgets.Control.windowProc(Control.java:4841)\n    at org.eclipse.swt.widgets.Canvas.windowProc(Canvas.java:340)\n    at org.eclipse.swt.widgets.Display.windowProc(Display.java:4931)\n    at org.eclipse.swt.internal.win32.OS.DefWindowProc(Native Method)\n    at org.eclipse.swt.widgets.Scrollable.callWindowProc(Scrollable.java:91)\n    at org.eclipse.swt.widgets.Control.windowProc(Control.java:4841)\n    at org.eclipse.swt.widgets.Canvas.windowProc(Canvas.java:340)\n    at org.eclipse.swt.widgets.Display.windowProc(Display.java:4931)\n    at org.eclipse.swt.internal.win32.OS.DefWindowProc(Native Method)\n    at org.eclipse.swt.widgets.Scrollable.callWindowProc(Scrollable.java:91)\n    at org.eclipse.swt.widgets.Control.windowProc(Control.java:4841)\n    at org.eclipse.swt.widgets.Display.windowProc(Display.java:4931)\n    at org.eclipse.swt.internal.win32.OS.CallWindowProc(Native Method)\n    at org.eclipse.swt.widgets.Label.callWindowProc(Label.java:123)\n    at org.eclipse.swt.widgets.Control.windowProc(Control.java:4841)\n    at org.eclipse.swt.widgets.Display.windowProc(Display.java:4931)\n    at org.eclipse.swt.internal.win32.OS.PeekMessage(Native Method)\n    at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3625)\n    at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$5.run(PartRenderingEngine.java:1158)\n    at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\n    at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(PartRenderingEngine.java:1047)\n    at org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(E4Workbench.java:155)\n    at org.eclipse.ui.internal.Workbench.lambda$3(Workbench.java:658)\n    at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\n    at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:557)\n    at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:154)\n    at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:150)\n    at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:203)\n    at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:137)\n    at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:107)\n    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:401)\n    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:255)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.lang.reflect.Method.invoke(Unknown Source)\n    at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:657)\n    at org.eclipse.equinox.launcher.Main.basicRun(Main.java:594)\n    at org.eclipse.equinox.launcher.Main.run(Main.java:1447)\n</code></pre>\n<p>The pluggins I'm currently using are JBoss Tools, Spring STS, Subeclipse and Dark Theme.\nI've tried to download the whole IDE again and to uncheck most of the options regarding validations, to no avail. Any ideas?</p>\n<p>Thank you very much!!</p>\n"},{"tags":["java","collections","java-stream","spotify-docker-client"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1632855516,"post_id":69367140,"comment_id":122605468,"body_markdown":"Can&#39;t you make a new list that only has the last element as in `List.of(response.get(response.size() - 1)` or similar?","body":"Can&#39;t you make a new list that only has the last element as in <code>List.of(response.get(response.size() - 1)</code> or similar?"},{"owner":{"account_id":6099776,"reputation":1781,"user_id":4759182,"display_name":"rasilvap"},"score":0,"creation_date":1632856096,"post_id":69367140,"comment_id":122605721,"body_markdown":"I need to use the dockerClient.removeImage(image.id()); to delete all the docker images less the last one","body":"I need to use the dockerClient.removeImage(image.id()); to delete all the docker images less the last one"}],"answers":[{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632857888,"creation_date":1632856482,"answer_id":69367366,"question_id":69367140,"body_markdown":"It seems that an image with the latest `created` date needs to be retrieved, therefore `Collectors::maxBy` could be used instead of sorting the list and removing unneeded elements:\r\n```java\r\nImage latestImage = dockerClient.listImages()\r\n          .stream()\r\n          .filter(image -&gt; image.labels() != null &amp;&amp; image.labels().containsKey(&quot;wantedLabel&quot;))\r\n          .collect(Collectors.maxBy(Image::created)) // Optional&lt;Image&gt;\r\n          .orElse(null);\r\n```\r\nIf it is _really_ needed to have a `List` as result:\r\n```java\r\nList&lt;Image&gt; response = dockerClient.listImages()\r\n          .stream()\r\n          .filter(image -&gt; image.labels() != null &amp;&amp; image.labels().containsKey(&quot;wantedLabel&quot;))\r\n          .collect(Collectors.maxBy(Image::created)) // Optional&lt;Image&gt;\r\n          .map(Collections::singletonList)\r\n          .orElseGet(() -&gt; Collections.emptyList());\r\n```\r\n----\r\n**Update**\r\n\r\nAs soon as the latest image is found, it is possible to use `forEach` to delete the images from the Docker container if necessary:\r\n```java\r\nList&lt;Image&gt; images = dockerClient.listImages()\r\n    .stream()\r\n    .filter(image -&gt; image.labels() != null &amp;&amp; image.labels().containsKey(&quot;wantedLabel&quot;))\r\n    .collect(Collectors.toList());\r\n\r\nimages.stream()\r\n    .collect(Collectors.maxBy(Image::created)) // Optional&lt;Image&gt;\r\n    .ifPresent(latest -&gt; \r\n        images.stream()\r\n              .filter(img -&gt; !latest.getId().equals(img.getId()))\r\n              .forEach(img -&gt; dockerClient.removeImage(img.getId()))\r\n    );\r\n```","title":"How to remove the last element from a Stream Collection (DockerClient)","body":"<p>It seems that an image with the latest <code>created</code> date needs to be retrieved, therefore <code>Collectors::maxBy</code> could be used instead of sorting the list and removing unneeded elements:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Image latestImage = dockerClient.listImages()\n          .stream()\n          .filter(image -&gt; image.labels() != null &amp;&amp; image.labels().containsKey(&quot;wantedLabel&quot;))\n          .collect(Collectors.maxBy(Image::created)) // Optional&lt;Image&gt;\n          .orElse(null);\n</code></pre>\n<p>If it is <em>really</em> needed to have a <code>List</code> as result:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Image&gt; response = dockerClient.listImages()\n          .stream()\n          .filter(image -&gt; image.labels() != null &amp;&amp; image.labels().containsKey(&quot;wantedLabel&quot;))\n          .collect(Collectors.maxBy(Image::created)) // Optional&lt;Image&gt;\n          .map(Collections::singletonList)\n          .orElseGet(() -&gt; Collections.emptyList());\n</code></pre>\n<hr />\n<p><strong>Update</strong></p>\n<p>As soon as the latest image is found, it is possible to use <code>forEach</code> to delete the images from the Docker container if necessary:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Image&gt; images = dockerClient.listImages()\n    .stream()\n    .filter(image -&gt; image.labels() != null &amp;&amp; image.labels().containsKey(&quot;wantedLabel&quot;))\n    .collect(Collectors.toList());\n\nimages.stream()\n    .collect(Collectors.maxBy(Image::created)) // Optional&lt;Image&gt;\n    .ifPresent(latest -&gt; \n        images.stream()\n              .filter(img -&gt; !latest.getId().equals(img.getId()))\n              .forEach(img -&gt; dockerClient.removeImage(img.getId()))\n    );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1632939404,"creation_date":1632939404,"answer_id":69381536,"question_id":69367140,"body_markdown":"This task can be solved simple and efficient with a traditional loop:\r\n\r\n```java\r\ncom.spotify.docker.client.messages.Image mostRecent = null;\r\nfor(var image: dockerClient.listImages()) {\r\n    if(image.labels() == null || !image.labels().containsKey(&quot;wantedLabel&quot;)) continue;\r\n    if(mostRecent == null) mostRecent = image;\r\n    else {\r\n        var toRemove = image;\r\n        if(toRemove.created().compareTo(mostRecent.created()) &gt; 0) {\r\n            toRemove = mostRecent;\r\n            mostRecent = image;\r\n        }\r\n        dockerClient.removeImage(toRemove.id());\r\n    }\r\n}\r\n```\r\n\r\nThis loop iterates over the images and removes an image as soon as a more recent matching object has been found, without the need for additional storage nor sorting. When the loop completes, all but the most recent matching image have been removed and, as a bonus, the retained most recent object is held in the variable `mostRecent`.","title":"How to remove the last element from a Stream Collection (DockerClient)","body":"<p>This task can be solved simple and efficient with a traditional loop:</p>\n<pre class=\"lang-java prettyprint-override\"><code>com.spotify.docker.client.messages.Image mostRecent = null;\nfor(var image: dockerClient.listImages()) {\n    if(image.labels() == null || !image.labels().containsKey(&quot;wantedLabel&quot;)) continue;\n    if(mostRecent == null) mostRecent = image;\n    else {\n        var toRemove = image;\n        if(toRemove.created().compareTo(mostRecent.created()) &gt; 0) {\n            toRemove = mostRecent;\n            mostRecent = image;\n        }\n        dockerClient.removeImage(toRemove.id());\n    }\n}\n</code></pre>\n<p>This loop iterates over the images and removes an image as soon as a more recent matching object has been found, without the need for additional storage nor sorting. When the loop completes, all but the most recent matching image have been removed and, as a bonus, the retained most recent object is held in the variable <code>mostRecent</code>.</p>\n"}],"owner":{"account_id":6099776,"reputation":1781,"user_id":4759182,"display_name":"rasilvap"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":483,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1632939404,"creation_date":1632855362,"question_id":69367140,"body_markdown":"Hi I have a stream Collection and I sorted it by the date creation, I need to remove all the elements from this Collections, but less the final one:\r\n\r\nThis is my code:\r\n\r\n    List&lt;com.spotify.docker.client.messages.Image&gt; response = dockerClient.listImages()\r\n              .stream()\r\n              .filter(image -&gt; image.labels() != null &amp;&amp; image.labels().containsKey(&quot;wantedLabel&quot;))\r\n              .sorted((o1, o2) -&gt; o2.created().compareTo(o1.created()))\r\n              .collect(\r\n                  Collectors.toList());\r\n\r\nIn this list I have my elements sorted by created date and I need to remove all the elements less the final one.\r\n\r\ni tried something like:\r\n\r\n     if (response.stream().iterator().hasNext()) {\r\n            response.remove(count);\r\n            count++;\r\n     }\r\n\r\nBut I wanted to have something more sophisticated, thanks!","title":"How to remove the last element from a Stream Collection (DockerClient)","body":"<p>Hi I have a stream Collection and I sorted it by the date creation, I need to remove all the elements from this Collections, but less the final one:</p>\n<p>This is my code:</p>\n<pre><code>List&lt;com.spotify.docker.client.messages.Image&gt; response = dockerClient.listImages()\n          .stream()\n          .filter(image -&gt; image.labels() != null &amp;&amp; image.labels().containsKey(&quot;wantedLabel&quot;))\n          .sorted((o1, o2) -&gt; o2.created().compareTo(o1.created()))\n          .collect(\n              Collectors.toList());\n</code></pre>\n<p>In this list I have my elements sorted by created date and I need to remove all the elements less the final one.</p>\n<p>i tried something like:</p>\n<pre><code> if (response.stream().iterator().hasNext()) {\n        response.remove(count);\n        count++;\n }\n</code></pre>\n<p>But I wanted to have something more sophisticated, thanks!</p>\n"},{"tags":["java","android","kotlin","android-fragments","addtextchangedlistener"],"comments":[{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":1,"creation_date":1632939029,"post_id":69381425,"comment_id":122631630,"body_markdown":"Remove the `TODO`s. Those throw `NotImplementedError`s at runtime. You might also have a look at [this post](https://stackoverflow.com/q/23353173) to see how to track down the specific issue when you get a crash.","body":"Remove the <code>TODO</code>s. Those throw <code>NotImplementedError</code>s at runtime. You might also have a look at <a href=\"https://stackoverflow.com/q/23353173\">this post</a> to see how to track down the specific issue when you get a crash."},{"owner":{"account_id":16443207,"reputation":35,"user_id":11878843,"display_name":"Abhinav Mohan Mishra"},"score":1,"creation_date":1632939387,"post_id":69381425,"comment_id":122631746,"body_markdown":"Thanks a lot! It is working now.","body":"Thanks a lot! It is working now."}],"owner":{"account_id":16443207,"reputation":35,"user_id":11878843,"display_name":"Abhinav Mohan Mishra"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1632968386,"answer_count":0,"score":0,"last_activity_date":1632939204,"creation_date":1632938757,"question_id":69381425,"body_markdown":"I am new to Android Development, so my problem is whenever I try to use `addTextChangedListener` method inside the fragment.kt file for my EditText widget and try to type a letter in it then the parent activity crashes instantly and the previous activity gets open. Also, it is not showing any error. When I comment that method , the app works perfectly. \r\n\r\nHere is my code of fragment file\r\n\r\n\r\n\r\n\r\n```\r\nclass FavoriteFragment : Fragment() {\r\n\r\n    lateinit var etTest : EditText\r\n\r\n    override fun onCreateView(\r\n        inflater: LayoutInflater, container: ViewGroup?,\r\n        savedInstanceState: Bundle?\r\n    ): View? {\r\n        // Inflate the layout for this fragment\r\n        val view = inflater.inflate(R.layout.fragment_favorite, container, false)\r\n\r\n        etTest = view.findViewById(R.id.etTest)\r\n\r\n        etTest.setOnClickListener{\r\n            Toast.makeText(context, &quot;You Touched&quot; , Toast.LENGTH_SHORT).show()\r\n        }\r\n\r\n\r\n\r\n        try{//This Method is not working\r\n\r\n             etTest.addTextChangedListener(object : TextWatcher {\r\n\r\n                 override fun afterTextChanged(s: Editable?) {\r\n                     var str = s.toString()\r\n                     Toast.makeText(context, str , Toast.LENGTH_SHORT).show()\r\n                 }\r\n\r\n                 override fun onTextChanged(p0: CharSequence?, p1: Int, p2: Int, p3: Int) {\r\n                     TODO(&quot;Not yet implemented&quot;)\r\n                 }\r\n\r\n                 override fun beforeTextChanged(p0: CharSequence?, p1: Int, p2: Int, p3: Int) {\r\n                     TODO(&quot;Not yet implemented&quot;)\r\n                 }\r\n\r\n             })\r\n        }catch ( e: Exception)\r\n        {\r\n            e.printStackTrace()\r\n        }\r\n\r\n\r\n\r\n        return view\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\n","title":"addTextChangedListener method not working inside fragment","body":"<p>I am new to Android Development, so my problem is whenever I try to use <code>addTextChangedListener</code> method inside the fragment.kt file for my EditText widget and try to type a letter in it then the parent activity crashes instantly and the previous activity gets open. Also, it is not showing any error. When I comment that method , the app works perfectly.</p>\n<p>Here is my code of fragment file</p>\n<pre><code>class FavoriteFragment : Fragment() {\n\n    lateinit var etTest : EditText\n\n    override fun onCreateView(\n        inflater: LayoutInflater, container: ViewGroup?,\n        savedInstanceState: Bundle?\n    ): View? {\n        // Inflate the layout for this fragment\n        val view = inflater.inflate(R.layout.fragment_favorite, container, false)\n\n        etTest = view.findViewById(R.id.etTest)\n\n        etTest.setOnClickListener{\n            Toast.makeText(context, &quot;You Touched&quot; , Toast.LENGTH_SHORT).show()\n        }\n\n\n\n        try{//This Method is not working\n\n             etTest.addTextChangedListener(object : TextWatcher {\n\n                 override fun afterTextChanged(s: Editable?) {\n                     var str = s.toString()\n                     Toast.makeText(context, str , Toast.LENGTH_SHORT).show()\n                 }\n\n                 override fun onTextChanged(p0: CharSequence?, p1: Int, p2: Int, p3: Int) {\n                     TODO(&quot;Not yet implemented&quot;)\n                 }\n\n                 override fun beforeTextChanged(p0: CharSequence?, p1: Int, p2: Int, p3: Int) {\n                     TODO(&quot;Not yet implemented&quot;)\n                 }\n\n             })\n        }catch ( e: Exception)\n        {\n            e.printStackTrace()\n        }\n\n\n\n        return view\n    }\n\n\n}\n</code></pre>\n"},{"tags":["java","arrays","object","methods"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":3,"creation_date":1321841815,"post_id":8206548,"comment_id":10087309,"body_markdown":"*&quot;i get red lines all over.&quot;*  I think there is a cream for that.  As for programming problems, it helps to post the code that caused the compilation errors, as well as the errors themselves.","body":"<i>&quot;i get red lines all over.&quot;</i>  I think there is a cream for that.  As for programming problems, it helps to post the code that caused the compilation errors, as well as the errors themselves."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":3,"creation_date":1321842072,"post_id":8206548,"comment_id":10087338,"body_markdown":"*&quot;execute the 5 objects in something like.&quot;*  Please don&#39;t waste your (or more importantly, my) time posting &#39;something like&#39; the code being used.  Always copy/paste - **always**.  As for what is being copy/pasted, for better help sooner post an [SSCCE](http://sscce.org/), rather than code snippets.","body":"<i>&quot;execute the 5 objects in something like.&quot;</i>  Please don&#39;t waste your (or more importantly, my) time posting &#39;something like&#39; the code being used.  Always copy/paste - <b>always</b>.  As for what is being copy/pasted, for better help sooner post an <a href=\"http://sscce.org/\" rel=\"nofollow noreferrer\">SSCCE</a>, rather than code snippets."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1321842978,"post_id":8206548,"comment_id":10087438,"body_markdown":"Good call on adding copy/pasted code, though I&#39;d still recommend an SSCCE over snippets.  Please put @name at the start of comments if you want someone to know new information.  Then they will be notified of a new message.","body":"Good call on adding copy/pasted code, though I&#39;d still recommend an SSCCE over snippets.  Please put @name at the start of comments if you want someone to know new information.  Then they will be notified of a new message."},{"owner":{"account_id":4974350,"reputation":3936,"user_id":4001177,"display_name":"Golden Lion"},"score":0,"creation_date":1632937988,"post_id":8206548,"comment_id":122631247,"body_markdown":"why not use a list of tuples where a tuple contains two sentence and a number and use reduce on the list of tuples?","body":"why not use a list of tuples where a tuple contains two sentence and a number and use reduce on the list of tuples?"}],"answers":[{"tags":[],"owner":{"account_id":1007706,"reputation":14866,"user_id":1020996,"accept_rate":95,"display_name":"lukecampbell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1321841659,"creation_date":1321841659,"answer_id":8206575,"question_id":8206548,"body_markdown":"Don&#39;t use Question.length, use question.length\r\n\r\nAdd an accessor method and a method to increment the scores.\r\n\r\n","title":"How can I add up values of an array object?","body":"<p>Don't use Question.length, use question.length</p>\n\n<p>Add an accessor method and a method to increment the scores.</p>\n"},{"tags":[],"owner":{"account_id":12969,"reputation":7584,"user_id":25812,"accept_rate":100,"display_name":"Newtopian"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1321842723,"creation_date":1321842392,"answer_id":8206629,"question_id":8206548,"body_markdown":"Many things have to happen first:\r\n\r\n1. **Initialize the array**: seems you got that one covered.\r\n2. **Initialize objects within the array**: Make sure every cell of your array actually contains a question instance (or to be more precise: a reference to a Question instance).\r\n3. **Iterate over the array**: here your loop seems to go over the class (Question, with capital Q) but you need to iterate over the array (question with a small q).  Piece of advice, since the variable question here represents an array of question it would make more sense if you make your name plural (questions) to help illustrate that this is an array.  Basic rule is to make the name as explicit as possible, so questionArray would be an even better name.  Past a certain point it&#39;s a question of taste.  Rule of thumb is that if you have to look at the declaration of the variable then it&#39;s probably not named correctly.\r\n4. **access methods, properties etc of the objects**: when iterating over the array you need to access the right index (questions[i]) then access the members of this object (questions[i].doStuff).  If you aim for OOP (which I assume is the point here) then you may want to make the obvious operations as functions of your Question class.  Then simply call this function with the proper parameter (questions[i].setNumber(i)).  It all depends on what you need it to do.\r\n\r\nHope this helps (if this is a homework related question you should tag it as such, that would **maximize** your chance to get help here).","title":"How can I add up values of an array object?","body":"<p>Many things have to happen first:</p>\n\n<ol>\n<li><strong>Initialize the array</strong>: seems you got that one covered.</li>\n<li><strong>Initialize objects within the array</strong>: Make sure every cell of your array actually contains a question instance (or to be more precise: a reference to a Question instance).</li>\n<li><strong>Iterate over the array</strong>: here your loop seems to go over the class (Question, with capital Q) but you need to iterate over the array (question with a small q).  Piece of advice, since the variable question here represents an array of question it would make more sense if you make your name plural (questions) to help illustrate that this is an array.  Basic rule is to make the name as explicit as possible, so questionArray would be an even better name.  Past a certain point it's a question of taste.  Rule of thumb is that if you have to look at the declaration of the variable then it's probably not named correctly.</li>\n<li><strong>access methods, properties etc of the objects</strong>: when iterating over the array you need to access the right index (questions[i]) then access the members of this object (questions[i].doStuff).  If you aim for OOP (which I assume is the point here) then you may want to make the obvious operations as functions of your Question class.  Then simply call this function with the proper parameter (questions[i].setNumber(i)).  It all depends on what you need it to do.</li>\n</ol>\n\n<p>Hope this helps (if this is a homework related question you should tag it as such, that would <strong>maximize</strong> your chance to get help here).</p>\n"},{"tags":[],"owner":{"account_id":4974350,"reputation":3936,"user_id":4001177,"display_name":"Golden Lion"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632938997,"creation_date":1632938997,"answer_id":69381466,"question_id":8206548,"body_markdown":"use map to extract the numbers from the list of tuples then use reduce to accumulatively sum the numbers.\r\n\r\n    list=[(&quot;1 this is sentence 1&quot;,&quot;1 this is sentence 2&quot;,1),(&quot;2 this is sentence 1&quot;,&quot;2 \r\n    this is sentence 2&quot;,2),(&quot;3 this is sentence 1&quot;,&quot;3 this is sentence 2&quot;,3)]\r\n    numbers=map(lambda x: x[2],list)\r\n    result=reduce(lambda x,y: x+y,numbers)\r\n    print(result)\r\n\r\noutput:\r\n\r\n    6","title":"How can I add up values of an array object?","body":"<p>use map to extract the numbers from the list of tuples then use reduce to accumulatively sum the numbers.</p>\n<pre><code>list=[(&quot;1 this is sentence 1&quot;,&quot;1 this is sentence 2&quot;,1),(&quot;2 this is sentence 1&quot;,&quot;2 \nthis is sentence 2&quot;,2),(&quot;3 this is sentence 1&quot;,&quot;3 this is sentence 2&quot;,3)]\nnumbers=map(lambda x: x[2],list)\nresult=reduce(lambda x,y: x+y,numbers)\nprint(result)\n</code></pre>\n<p>output:</p>\n<pre><code>6\n</code></pre>\n"}],"owner":{"account_id":919602,"reputation":1627,"user_id":951563,"accept_rate":62,"display_name":"Renuz"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":930,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":8206629,"answer_count":3,"score":1,"last_activity_date":1632938997,"creation_date":1321841286,"question_id":8206548,"body_markdown":"I have an array that created 5 objects. Each object has two strings and a int. Lets call the int &quot;number&quot;. How can i add up the &quot;number&#39;s&quot; of each object into a final number, assume that the numbers change so i cannot simply just put 5 + 3 etc.. For example \r\n\r\n              Question question[] = new Question[5];\r\n\r\n     public Constructor()\r\n    {\r\n        String1 = &quot;null&quot;;\r\n        Sting2 = &quot;null&quot;;\r\n        number = 0;\r\n    }\r\nSO i have five objects that look like this, they all have a different value. Number refers to a score, So if the user does something right, the number will be added to a variable, i need to know how to add up the 5 variables when i execute the 5 objects in something like.\r\n\r\n      for (i=0; i &lt; Question.length; i++)\r\n     {\r\n       object.dostuff\r\n    }\r\n\r\n","title":"How can I add up values of an array object?","body":"<p>I have an array that created 5 objects. Each object has two strings and a int. Lets call the int \"number\". How can i add up the \"number's\" of each object into a final number, assume that the numbers change so i cannot simply just put 5 + 3 etc.. For example </p>\n\n<pre><code>          Question question[] = new Question[5];\n\n public Constructor()\n{\n    String1 = \"null\";\n    Sting2 = \"null\";\n    number = 0;\n}\n</code></pre>\n\n<p>SO i have five objects that look like this, they all have a different value. Number refers to a score, So if the user does something right, the number will be added to a variable, i need to know how to add up the 5 variables when i execute the 5 objects in something like.</p>\n\n<pre><code>  for (i=0; i &lt; Question.length; i++)\n {\n   object.dostuff\n}\n</code></pre>\n"},{"tags":["java","jdbc","db2","websphere"],"answers":[{"tags":[],"owner":{"account_id":14422603,"reputation":11689,"user_id":10418264,"display_name":"Mark Barinstein"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1632938719,"creation_date":1632819783,"answer_id":69358754,"question_id":69358094,"body_markdown":"Start from the [SYSIBMADM.MON_LOCKWAITS](https://www.ibm.com/docs/en/db2/10.5?topic=mv-mon-lockwaits-retrieve-metrics-applications-that-are-waiting-obtain-locks) view.  \r\n\r\nIf you need more info on participating applications, you may use the monitoring table functions which this view is based on directly:  \r\n[MON_GET_APPL_LOCKWAIT](https://www.ibm.com/docs/en/db2/10.5?topic=mpf-mon-get-appl-lockwait-table-function-get-information-about-locks-which-application-is-waiting)  \r\n[MON_GET_CONNECTION](https://www.ibm.com/docs/en/db2/10.5?topic=functions-mon-get-connection-get-connection-metrics)  \r\n\r\n    SELECT \r\n      -- locked table\r\n      CASE WHEN L.TBSP_ID &gt; 0 THEN T.TABSCHEMA ELSE S.TABSCHEMA END AS TABSCHEMA\r\n    , CASE WHEN L.TBSP_ID &gt; 0 THEN T.TABNAME   ELSE S.TABNAME   END AS TABNAME\r\n    , CASE WHEN L.TBSP_ID &gt; 0 THEN T.DATA_PARTITION_ID ELSE -1  END AS DATA_PARTITION_ID\r\n    --, L.* -- lock info \r\n    , H.CLIENT_HOSTNAME -- holder connection info \r\n    , HC.STMT_TEXT AS HLD_STMT_TEXT_CURR -- holder&#39;s currently executing statement\r\n    , HL.STMT_TEXT AS HLD_STMT_TEXT_LAST -- holder&#39;s last executed statement\r\n    , R.CLIENT_HOSTNAME -- requester connection info  \r\n    , RC.STMT_TEXT AS REQ_STMT_TEXT_CURR -- requester&#39;s current statement\r\n    FROM TABLE (MON_GET_APPL_LOCKWAIT (NULL, -2)) L\r\n    LEFT JOIN TABLE (MON_GET_TABLE (NULL, NULL, L.HLD_MEMBER)) T ON T.TBSP_ID = L.TBSP_ID AND T.TAB_FILE_ID = L.TAB_FILE_ID \r\n    LEFT JOIN SYSCAT.TABLES S ON S.TBSPACEID = L.TBSP_ID AND S.TABLEID = L.TAB_FILE_ID \r\n    -- Holder&#39;s info\r\n    LEFT JOIN TABLE (MON_GET_CONNECTION (L.HLD_APPLICATION_HANDLE, L.HLD_MEMBER)) H ON 1=1\r\n    LEFT JOIN TABLE (MON_GET_ACTIVITY (L.HLD_APPLICATION_HANDLE, L.HLD_MEMBER)) HC ON 1=1\r\n    LEFT JOIN TABLE (MON_GET_UNIT_OF_WORK (L.HLD_APPLICATION_HANDLE, L.HLD_MEMBER)) HU ON 1=1\r\n    LEFT JOIN TABLE (MON_GET_PKG_CACHE_STMT (NULL, HU.LAST_EXECUTABLE_ID, NULL, L.HLD_MEMBER)) HL ON 1=1\r\n    -- Requester&#39;s info\r\n    LEFT JOIN TABLE (MON_GET_CONNECTION (L.REQ_APPLICATION_HANDLE, L.REQ_MEMBER)) R ON 1=1\r\n    LEFT JOIN TABLE (MON_GET_PKG_CACHE_STMT (NULL, L.REQ_EXECUTABLE_ID, NULL, L.REQ_MEMBER)) RC ON 1=1\r\n\r\nNotes:\r\n\r\n - You can&#39;t get the statement placed the lock, which requester is waiting on. There is no explicit binding between a lock and a statement placed this lock in Db2. You may get a current statement (if any) and the last completed statement for a holder as above. None of these statements may place this lock.\r\n - You can&#39;t get parameter values for all returned statements with the query above.\r\n\r\nWhat you can do to get more information on the lock wait / timeout event is to create an [event monitor for locking](https://www.ibm.com/docs/en/db2/10.5?topic=statements-create-event-monitor-locking) - some kind of &quot;logger&quot; for lockwait, locktimeout, deadlock events. The corresponding information is written to database tables created for this monitor. Refer to the [Information written to tables for a locking event monitor](https://www.ibm.com/docs/en/db2/10.5?topic=monitors-information-written-tables-locking-event-monitor) topic. The amount of data you get in these tables depend on setting of the database configuration parameter:\r\n\r\n Lock timeout events                   ([MON_LOCKTIMEOUT](https://www.ibm.com/docs/en/db2/10.5?topic=parameters-mon-locktimeout-monitoring-lock-timeout-configuration-parameter)) = HIST_AND_VALUES  \r\n Deadlock events                          ([MON_DEADLOCK](https://www.ibm.com/docs/en/db2/10.5?topic=parameters-mon-deadlock-monitoring-deadlock-configuration-parameter)) = HIST_AND_VALUES  \r\n Lock wait events                         ([MON_LOCKWAIT](https://www.ibm.com/docs/en/db2/10.5?topic=parameters-mon-lockwait-monitoring-lock-wait-configuration-parameter)) = HIST_AND_VALUES  \r\n Lock wait event threshold               ([MON_LW_THRESH](https://www.ibm.com/docs/en/db2/10.5?topic=dcp-mon-lw-thresh-monitoring-lock-wait-threshold-configuration-parameter)) = 5000000  \r\n\r\nFor example, if you set these parameters as above, very detailed information (including all statement parameter values) on all 3 types of events (lockwait event will be generated, if the requester waits more than 5 seconds) will be written to the event monitor tables.  \r\nIf you have such an active event monitor and `MON_DEADLOCK = HISTORY` at least, you have an additional activity to whole transaction history for all applications currently having open transactions with `db2pd -apinfo -db mydb` being run on the server.\r\n\r\n","title":"How to obtain transaction info from JDBC connection to DB2 database?","body":"<p>Start from the <a href=\"https://www.ibm.com/docs/en/db2/10.5?topic=mv-mon-lockwaits-retrieve-metrics-applications-that-are-waiting-obtain-locks\" rel=\"nofollow noreferrer\">SYSIBMADM.MON_LOCKWAITS</a> view.</p>\n<p>If you need more info on participating applications, you may use the monitoring table functions which this view is based on directly:<br />\n<a href=\"https://www.ibm.com/docs/en/db2/10.5?topic=mpf-mon-get-appl-lockwait-table-function-get-information-about-locks-which-application-is-waiting\" rel=\"nofollow noreferrer\">MON_GET_APPL_LOCKWAIT</a><br />\n<a href=\"https://www.ibm.com/docs/en/db2/10.5?topic=functions-mon-get-connection-get-connection-metrics\" rel=\"nofollow noreferrer\">MON_GET_CONNECTION</a></p>\n<pre><code>SELECT \n  -- locked table\n  CASE WHEN L.TBSP_ID &gt; 0 THEN T.TABSCHEMA ELSE S.TABSCHEMA END AS TABSCHEMA\n, CASE WHEN L.TBSP_ID &gt; 0 THEN T.TABNAME   ELSE S.TABNAME   END AS TABNAME\n, CASE WHEN L.TBSP_ID &gt; 0 THEN T.DATA_PARTITION_ID ELSE -1  END AS DATA_PARTITION_ID\n--, L.* -- lock info \n, H.CLIENT_HOSTNAME -- holder connection info \n, HC.STMT_TEXT AS HLD_STMT_TEXT_CURR -- holder's currently executing statement\n, HL.STMT_TEXT AS HLD_STMT_TEXT_LAST -- holder's last executed statement\n, R.CLIENT_HOSTNAME -- requester connection info  \n, RC.STMT_TEXT AS REQ_STMT_TEXT_CURR -- requester's current statement\nFROM TABLE (MON_GET_APPL_LOCKWAIT (NULL, -2)) L\nLEFT JOIN TABLE (MON_GET_TABLE (NULL, NULL, L.HLD_MEMBER)) T ON T.TBSP_ID = L.TBSP_ID AND T.TAB_FILE_ID = L.TAB_FILE_ID \nLEFT JOIN SYSCAT.TABLES S ON S.TBSPACEID = L.TBSP_ID AND S.TABLEID = L.TAB_FILE_ID \n-- Holder's info\nLEFT JOIN TABLE (MON_GET_CONNECTION (L.HLD_APPLICATION_HANDLE, L.HLD_MEMBER)) H ON 1=1\nLEFT JOIN TABLE (MON_GET_ACTIVITY (L.HLD_APPLICATION_HANDLE, L.HLD_MEMBER)) HC ON 1=1\nLEFT JOIN TABLE (MON_GET_UNIT_OF_WORK (L.HLD_APPLICATION_HANDLE, L.HLD_MEMBER)) HU ON 1=1\nLEFT JOIN TABLE (MON_GET_PKG_CACHE_STMT (NULL, HU.LAST_EXECUTABLE_ID, NULL, L.HLD_MEMBER)) HL ON 1=1\n-- Requester's info\nLEFT JOIN TABLE (MON_GET_CONNECTION (L.REQ_APPLICATION_HANDLE, L.REQ_MEMBER)) R ON 1=1\nLEFT JOIN TABLE (MON_GET_PKG_CACHE_STMT (NULL, L.REQ_EXECUTABLE_ID, NULL, L.REQ_MEMBER)) RC ON 1=1\n</code></pre>\n<p>Notes:</p>\n<ul>\n<li>You can't get the statement placed the lock, which requester is waiting on. There is no explicit binding between a lock and a statement placed this lock in Db2. You may get a current statement (if any) and the last completed statement for a holder as above. None of these statements may place this lock.</li>\n<li>You can't get parameter values for all returned statements with the query above.</li>\n</ul>\n<p>What you can do to get more information on the lock wait / timeout event is to create an <a href=\"https://www.ibm.com/docs/en/db2/10.5?topic=statements-create-event-monitor-locking\" rel=\"nofollow noreferrer\">event monitor for locking</a> - some kind of &quot;logger&quot; for lockwait, locktimeout, deadlock events. The corresponding information is written to database tables created for this monitor. Refer to the <a href=\"https://www.ibm.com/docs/en/db2/10.5?topic=monitors-information-written-tables-locking-event-monitor\" rel=\"nofollow noreferrer\">Information written to tables for a locking event monitor</a> topic. The amount of data you get in these tables depend on setting of the database configuration parameter:</p>\n<p>Lock timeout events                   (<a href=\"https://www.ibm.com/docs/en/db2/10.5?topic=parameters-mon-locktimeout-monitoring-lock-timeout-configuration-parameter\" rel=\"nofollow noreferrer\">MON_LOCKTIMEOUT</a>) = HIST_AND_VALUES<br />\nDeadlock events                          (<a href=\"https://www.ibm.com/docs/en/db2/10.5?topic=parameters-mon-deadlock-monitoring-deadlock-configuration-parameter\" rel=\"nofollow noreferrer\">MON_DEADLOCK</a>) = HIST_AND_VALUES<br />\nLock wait events                         (<a href=\"https://www.ibm.com/docs/en/db2/10.5?topic=parameters-mon-lockwait-monitoring-lock-wait-configuration-parameter\" rel=\"nofollow noreferrer\">MON_LOCKWAIT</a>) = HIST_AND_VALUES<br />\nLock wait event threshold               (<a href=\"https://www.ibm.com/docs/en/db2/10.5?topic=dcp-mon-lw-thresh-monitoring-lock-wait-threshold-configuration-parameter\" rel=\"nofollow noreferrer\">MON_LW_THRESH</a>) = 5000000</p>\n<p>For example, if you set these parameters as above, very detailed information (including all statement parameter values) on all 3 types of events (lockwait event will be generated, if the requester waits more than 5 seconds) will be written to the event monitor tables.<br />\nIf you have such an active event monitor and <code>MON_DEADLOCK = HISTORY</code> at least, you have an additional activity to whole transaction history for all applications currently having open transactions with <code>db2pd -apinfo -db mydb</code> being run on the server.</p>\n"},{"tags":[],"owner":{"account_id":6859918,"reputation":1134,"user_id":5274291,"accept_rate":75,"display_name":"Jo&#227;o Pedro Schmitt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632918980,"creation_date":1632918980,"answer_id":69376513,"question_id":69358094,"body_markdown":"What I&#39;ve found so far to help me better diagnose DB2 and WebSphere locks correlation requires me to do the following.\r\n\r\nFirst, I need to have a clue about which tables are getting deadlocked. I can find it by issue one of the following commands:\r\n```bash\r\n&gt; db2pd -locks showlocks -db SAMPLE\r\nLocks:\r\nAddress            TranHdl    Lockname                   Type           Mode Sts Owner      Dur HoldCount  Att        ReleaseFlg rrIID TableNm            SchemaNm \r\n0x0000A338B812C780 15         01008800050000000000000052 RowLock        ..X  G   15         1   0          0x00200000 0x40000000 0     TABLE               DB2INST1 \t03008800050000000000000052 SQLP_RECORD (obj={2;136}, rid=d(0;0;5), x0500000000000000)\r\n0x0000A338B812C780 15         01008800000000000000000054 TableLock      .IX  G   15         1   0          0x00202000 0x40000000 0     TABLE               DB2INST1 \t03008800000000000000000054 SQLP_TABLE (obj={2;136})\r\n```\r\n\r\nThen I can query the ROWID based on the result of the previous command:\r\n```bash\r\n&gt; db2 connect to SAMPLE\r\n&gt; db2 &quot;select rid(TABLE), COL1, COL2 from TABLE with ur&quot; | grep 0500000000000000 \r\n```\r\n\r\nBased on the row information in the table (that if in lock won&#39;t be committed) then I can correlate it with the application somehow to discover which server is causing the issue.","title":"How to obtain transaction info from JDBC connection to DB2 database?","body":"<p>What I've found so far to help me better diagnose DB2 and WebSphere locks correlation requires me to do the following.</p>\n<p>First, I need to have a clue about which tables are getting deadlocked. I can find it by issue one of the following commands:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>&gt; db2pd -locks showlocks -db SAMPLE\nLocks:\nAddress            TranHdl    Lockname                   Type           Mode Sts Owner      Dur HoldCount  Att        ReleaseFlg rrIID TableNm            SchemaNm \n0x0000A338B812C780 15         01008800050000000000000052 RowLock        ..X  G   15         1   0          0x00200000 0x40000000 0     TABLE               DB2INST1     03008800050000000000000052 SQLP_RECORD (obj={2;136}, rid=d(0;0;5), x0500000000000000)\n0x0000A338B812C780 15         01008800000000000000000054 TableLock      .IX  G   15         1   0          0x00202000 0x40000000 0     TABLE               DB2INST1     03008800000000000000000054 SQLP_TABLE (obj={2;136})\n</code></pre>\n<p>Then I can query the ROWID based on the result of the previous command:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>&gt; db2 connect to SAMPLE\n&gt; db2 &quot;select rid(TABLE), COL1, COL2 from TABLE with ur&quot; | grep 0500000000000000 \n</code></pre>\n<p>Based on the row information in the table (that if in lock won't be committed) then I can correlate it with the application somehow to discover which server is causing the issue.</p>\n"}],"owner":{"account_id":6859918,"reputation":1134,"user_id":5274291,"accept_rate":75,"display_name":"Jo&#227;o Pedro Schmitt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":689,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1632938719,"creation_date":1632816944,"question_id":69358094,"body_markdown":"I&#39;m facing some lock timeout issues and I need better tools to find the root cause. Considering a IBM stack, WebSphere 8.5 and DB2 10.5, and given lock information like:\r\n\r\n```\r\nLock Information:\r\n\r\n   Lock Name:      000301230000000008C0000252\r\n   Lock Type:      Basic RECORD lock(DMS/IXM)\r\n   Lock Specifics: (obj={4;511}, rid=d(0;2440;6), x0000000002A00001)\r\n\r\nLock Requestor:\r\n   ...\r\n   Requesting Agent ID:     28648\r\n   Coordinator Agent ID:    28648\r\n   ...\r\n\r\nLock Owner (Representative):\r\n   ...\r\n   Requesting Agent ID:     295623\r\n   Coordinator Agent ID:    295623\r\n   ...\r\n```\r\n\r\nand given I have two JDBC transactions, one holding the lock and another waiting for the lock to be released, how can I obtain transactional information programmatically from the JDBC connection (Agent ID for example) to diagnose in my apps which instance of the JDBC connection is holding the lock? Suppose I have a multi-thread, multi-server environment.\r\n\r\nI saw a similar question regarding Oracle, SQLServer, and PostgreSQL, at this link: [How to get the current database transaction id using JDBC or Hibernate?][1]\r\nBut I didn&#39;t find any information for DB2\r\n\r\nTo troubleshoot the lock cause I need to find:\r\n- The SQL locking the table\r\n- The SQL waiting for the lock to be released\r\n- The bind parameters (data) involved on the above SQLs\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/29894573/how-to-get-the-current-database-transaction-id-using-jdbc-or-hibernate","title":"How to obtain transaction info from JDBC connection to DB2 database?","body":"<p>I'm facing some lock timeout issues and I need better tools to find the root cause. Considering a IBM stack, WebSphere 8.5 and DB2 10.5, and given lock information like:</p>\n<pre><code>Lock Information:\n\n   Lock Name:      000301230000000008C0000252\n   Lock Type:      Basic RECORD lock(DMS/IXM)\n   Lock Specifics: (obj={4;511}, rid=d(0;2440;6), x0000000002A00001)\n\nLock Requestor:\n   ...\n   Requesting Agent ID:     28648\n   Coordinator Agent ID:    28648\n   ...\n\nLock Owner (Representative):\n   ...\n   Requesting Agent ID:     295623\n   Coordinator Agent ID:    295623\n   ...\n</code></pre>\n<p>and given I have two JDBC transactions, one holding the lock and another waiting for the lock to be released, how can I obtain transactional information programmatically from the JDBC connection (Agent ID for example) to diagnose in my apps which instance of the JDBC connection is holding the lock? Suppose I have a multi-thread, multi-server environment.</p>\n<p>I saw a similar question regarding Oracle, SQLServer, and PostgreSQL, at this link: <a href=\"https://stackoverflow.com/questions/29894573/how-to-get-the-current-database-transaction-id-using-jdbc-or-hibernate\">How to get the current database transaction id using JDBC or Hibernate?</a>\nBut I didn't find any information for DB2</p>\n<p>To troubleshoot the lock cause I need to find:</p>\n<ul>\n<li>The SQL locking the table</li>\n<li>The SQL waiting for the lock to be released</li>\n<li>The bind parameters (data) involved on the above SQLs</li>\n</ul>\n"},{"tags":["java","mysql","hibernate","maven","jpa"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1632857504,"post_id":69366691,"comment_id":122606261,"body_markdown":"Perhaps you need `requires java.sql;` in the `module-info.java` file.","body":"Perhaps you need <code>requires java.sql;</code> in the <code>module-info.java</code> file."},{"owner":{"account_id":18367652,"reputation":21,"user_id":13378371,"display_name":"Moses"},"score":0,"creation_date":1632934914,"post_id":69366691,"comment_id":122630079,"body_markdown":"@jewelsea Sadly, it didn&#39;t work, but the error message changed to &quot;No Persistence provider for EntityManager named manager1&quot;. But thanks anyway.","body":"@jewelsea Sadly, it didn&#39;t work, but the error message changed to &quot;No Persistence provider for EntityManager named manager1&quot;. But thanks anyway."},{"owner":{"account_id":18367652,"reputation":21,"user_id":13378371,"display_name":"Moses"},"score":0,"creation_date":1632935949,"post_id":69366691,"comment_id":122630488,"body_markdown":"Ok, the last error was caused by a stupid spelling error in the persistence.xml file name. But the new error that I get now is: &quot;net/bytebuddy/NamingStrategy$SuffixingRandom$BaseNameResolver&quot;.","body":"Ok, the last error was caused by a stupid spelling error in the persistence.xml file name. But the new error that I get now is: &quot;net/bytebuddy/NamingStrategy$SuffixingRandom$BaseNameResolv&zwnj;&#8203;er&quot;."},{"owner":{"account_id":18367652,"reputation":21,"user_id":13378371,"display_name":"Moses"},"score":0,"creation_date":1632936694,"post_id":69366691,"comment_id":122630772,"body_markdown":"Ok, I resolved that error by adding &quot;requires net.bytebuddy;&quot; to the module-info.java. The next error i get is: &quot;Caused by: java.lang.NoClassDefFoundError: com/fasterxml/classmate/TypeResolver&quot;. I hope I am near the end.","body":"Ok, I resolved that error by adding &quot;requires net.bytebuddy;&quot; to the module-info.java. The next error i get is: &quot;Caused by: java.lang.NoClassDefFoundError: com/fasterxml/classmate/TypeResolver&quot;. I hope I am near the end."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1632937218,"post_id":69366691,"comment_id":122630952,"body_markdown":"Your issue from your stack trace is that you have not listed all of the required modules.  Continue to update your module-info.java to include the required modules.  There may be other unrelated errors that you need to fix (such as your persistence configuration mentioned earlier) in order for your project to work, but StackOverflow questions are usually limited to a single, focused question and answer topic, so addressing all of your potential issues here is out of scope for a StackOverflow answer.","body":"Your issue from your stack trace is that you have not listed all of the required modules.  Continue to update your module-info.java to include the required modules.  There may be other unrelated errors that you need to fix (such as your persistence configuration mentioned earlier) in order for your project to work, but StackOverflow questions are usually limited to a single, focused question and answer topic, so addressing all of your potential issues here is out of scope for a StackOverflow answer."}],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632936755,"creation_date":1632936755,"answer_id":69381050,"question_id":69366691,"body_markdown":"You need `requires java.sql;` in the `module-info.java` file in order to make use of the features of the java.sql module.\r\n\r\nFor more information, see a [java 9 module tutorial](https://www.oracle.com/corporate/features/understanding-java-9-modules.html).\r\n\r\nThere are likely other required modules that you will need to add to your module-info specification in order to get your application to work.","title":"Problem with hibernate + maven + mysql server configuration","body":"<p>You need <code>requires java.sql;</code> in the <code>module-info.java</code> file in order to make use of the features of the java.sql module.</p>\n<p>For more information, see a <a href=\"https://www.oracle.com/corporate/features/understanding-java-9-modules.html\" rel=\"nofollow noreferrer\">java 9 module tutorial</a>.</p>\n<p>There are likely other required modules that you will need to add to your module-info specification in order to get your application to work.</p>\n"}],"owner":{"account_id":18367652,"reputation":21,"user_id":13378371,"display_name":"Moses"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":298,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1632936755,"creation_date":1632853056,"question_id":69366691,"body_markdown":"I have a problem with connecting to mysql database that I have created on google cloud. I easily connected mysql workbench to the database but I have a problem with configuring hibernate in my maven project. Here is the error log that shows when I want to run my application:\r\n\r\n```\r\nException in Application start method\r\njava.lang.reflect.InvocationTargetException\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:564)\r\n\tat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:464)\r\n\tat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:363)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:564)\r\n\tat java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1071)\r\nCaused by: java.lang.RuntimeException: Exception in Application start method\r\n\tat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:900)\r\n\tat javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:195)\r\n\tat java.base/java.lang.Thread.run(Thread.java:832)\r\nCaused by: java.lang.NoClassDefFoundError: java/sql/SQLException\r\n\tat java.base/java.lang.Class.forName0(Native Method)\r\n\tat java.base/java.lang.Class.forName(Class.java:468)\r\n\tat org.jboss.logging@3.4.2.Final/org.jboss.logging.Logger.doGetMessageLogger(Logger.java:2562)\r\n\tat org.jboss.logging@3.4.2.Final/org.jboss.logging.Logger.getMessageLogger(Logger.java:2530)\r\n\tat org.jboss.logging@3.4.2.Final/org.jboss.logging.Logger.getMessageLogger(Logger.java:2516)\r\n\tat org.hibernate.orm.core@5.5.7.Final/org.hibernate.internal.HEMLogging.messageLogger(HEMLogging.java:28)\r\n\tat org.hibernate.orm.core@5.5.7.Final/org.hibernate.internal.HEMLogging.messageLogger(HEMLogging.java:24)\r\n\tat org.hibernate.orm.core@5.5.7.Final/org.hibernate.jpa.boot.internal.PersistenceXmlParser.&lt;clinit&gt;(PersistenceXmlParser.java:54)\r\n\tat org.hibernate.orm.core@5.5.7.Final/org.hibernate.jpa.HibernatePersistenceProvider.getEntityManagerFactoryBuilderOrNull(HibernatePersistenceProvider.java:81)\r\n\tat org.hibernate.orm.core@5.5.7.Final/org.hibernate.jpa.HibernatePersistenceProvider.getEntityManagerFactoryBuilderOrNull(HibernatePersistenceProvider.java:61)\r\n\tat org.hibernate.orm.core@5.5.7.Final/org.hibernate.jpa.HibernatePersistenceProvider.createEntityManagerFactory(HibernatePersistenceProvider.java:50)\r\n\tat java.persistence@2.2/javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:79)\r\n\tat java.persistence@2.2/javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:54)\r\n\tat SlidingPuzzle/controllers.Main.start(Main.java:36)\r\n\tat javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:846)\r\n\tat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:455)\r\n\tat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:428)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:391)\r\n\tat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:427)\r\n\tat javafx.graphics/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\r\n\tat javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n\tat javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:174)\r\n\t... 1 more\r\nCaused by: java.lang.ClassNotFoundException: java.sql.SQLException\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:606)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:168)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n\t... 23 more\r\nException running application controllers.Main\r\n```\r\n\r\nHere is my pom file:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;controllers&lt;/groupId&gt;\r\n    &lt;artifactId&gt;SlidingPuzzle&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;11&lt;/source&gt;\r\n                    &lt;target&gt;11&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;javafx.version&gt;13&lt;/javafx.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n            &lt;version&gt;${javafx.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n            &lt;version&gt;${javafx.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n            &lt;version&gt;8.0.26&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n            &lt;version&gt;5.5.7.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n    \r\n&lt;/project&gt;\r\n```\r\n\r\nMy module-info file:\r\n\r\n```\r\nmodule SlidingPuzzle {\r\n    requires javafx.controls;\r\n    requires javafx.fxml;\r\n    requires java.persistence;\r\n    opens controllers to javafx.fxml;\r\n    exports controllers;\r\n}\r\n```\r\n\r\nand my main file where i try too initialize an EntityManger and EntityManagerFactory:\r\n\r\n```\r\npackage controllers;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.geometry.Rectangle2D;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.layout.AnchorPane;\r\nimport javafx.stage.Screen;\r\nimport javafx.stage.Stage;\r\nimport models.database.User;\r\n\r\nimport javax.persistence.EntityManager;\r\nimport javax.persistence.EntityManagerFactory;\r\nimport javax.persistence.EntityTransaction;\r\nimport javax.persistence.Persistence;\r\n\r\npublic class Main extends Application {\r\n\r\n    private static Stage stage;\r\n\r\n    public static Stage getStage(){\r\n        return stage;\r\n    }\r\n\r\n    public static void setStage(Stage stage){\r\n        Main.stage = stage;\r\n    }\r\n\r\n    @Override\r\n    public void start(Stage primaryStage) throws Exception{\r\n        setStage(primaryStage);\r\n        FXMLLoader loader = new FXMLLoader();\r\n        loader.setLocation(this.getClass().getResource(&quot;/views/main.fxml&quot;));\r\n        AnchorPane anchorPane = loader.load();\r\n\r\n        EntityManagerFactory entityManagerFactory = Persistence.createEntityManagerFactory(&quot;manager1&quot;);\r\n        EntityManager entityManager = entityManagerFactory.createEntityManager();\r\n        EntityTransaction entityTransaction=entityManager.getTransaction();\r\n\r\n        Scene scene = new Scene(anchorPane,1024,600);\r\n        primaryStage.setScene(scene);\r\n        primaryStage.setMaximized(true);\r\n        primaryStage.setTitle(&quot;Sliding Puzzle&quot;);\r\n        primaryStage.setMinHeight(600);\r\n        primaryStage.setMinWidth(1024);\r\n        primaryStage.setResizable(true);\r\n        primaryStage.show();\r\n    }\r\n\r\n\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n}\r\n\r\n```\r\n\r\nI know that the error leads me to the moment where I try to create an EntityMAnagerFactroy but I don&#39;t know why does is show me that. Thanks for any help or a push in the right direction.","title":"Problem with hibernate + maven + mysql server configuration","body":"<p>I have a problem with connecting to mysql database that I have created on google cloud. I easily connected mysql workbench to the database but I have a problem with configuring hibernate in my maven project. Here is the error log that shows when I want to run my application:</p>\n<pre><code>Exception in Application start method\njava.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:564)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:464)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:363)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:564)\n    at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1071)\nCaused by: java.lang.RuntimeException: Exception in Application start method\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:900)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:195)\n    at java.base/java.lang.Thread.run(Thread.java:832)\nCaused by: java.lang.NoClassDefFoundError: java/sql/SQLException\n    at java.base/java.lang.Class.forName0(Native Method)\n    at java.base/java.lang.Class.forName(Class.java:468)\n    at org.jboss.logging@3.4.2.Final/org.jboss.logging.Logger.doGetMessageLogger(Logger.java:2562)\n    at org.jboss.logging@3.4.2.Final/org.jboss.logging.Logger.getMessageLogger(Logger.java:2530)\n    at org.jboss.logging@3.4.2.Final/org.jboss.logging.Logger.getMessageLogger(Logger.java:2516)\n    at org.hibernate.orm.core@5.5.7.Final/org.hibernate.internal.HEMLogging.messageLogger(HEMLogging.java:28)\n    at org.hibernate.orm.core@5.5.7.Final/org.hibernate.internal.HEMLogging.messageLogger(HEMLogging.java:24)\n    at org.hibernate.orm.core@5.5.7.Final/org.hibernate.jpa.boot.internal.PersistenceXmlParser.&lt;clinit&gt;(PersistenceXmlParser.java:54)\n    at org.hibernate.orm.core@5.5.7.Final/org.hibernate.jpa.HibernatePersistenceProvider.getEntityManagerFactoryBuilderOrNull(HibernatePersistenceProvider.java:81)\n    at org.hibernate.orm.core@5.5.7.Final/org.hibernate.jpa.HibernatePersistenceProvider.getEntityManagerFactoryBuilderOrNull(HibernatePersistenceProvider.java:61)\n    at org.hibernate.orm.core@5.5.7.Final/org.hibernate.jpa.HibernatePersistenceProvider.createEntityManagerFactory(HibernatePersistenceProvider.java:50)\n    at java.persistence@2.2/javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:79)\n    at java.persistence@2.2/javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:54)\n    at SlidingPuzzle/controllers.Main.start(Main.java:36)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:846)\n    at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:455)\n    at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:428)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:391)\n    at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:427)\n    at javafx.graphics/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\n    at javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:174)\n    ... 1 more\nCaused by: java.lang.ClassNotFoundException: java.sql.SQLException\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:606)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:168)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n    ... 23 more\nException running application controllers.Main\n</code></pre>\n<p>Here is my pom file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;controllers&lt;/groupId&gt;\n    &lt;artifactId&gt;SlidingPuzzle&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;11&lt;/source&gt;\n                    &lt;target&gt;11&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;properties&gt;\n        &lt;javafx.version&gt;13&lt;/javafx.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n            &lt;version&gt;${javafx.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n            &lt;version&gt;${javafx.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.26&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;5.5.7.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    \n&lt;/project&gt;\n</code></pre>\n<p>My module-info file:</p>\n<pre><code>module SlidingPuzzle {\n    requires javafx.controls;\n    requires javafx.fxml;\n    requires java.persistence;\n    opens controllers to javafx.fxml;\n    exports controllers;\n}\n</code></pre>\n<p>and my main file where i try too initialize an EntityManger and EntityManagerFactory:</p>\n<pre><code>package controllers;\n\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.geometry.Rectangle2D;\nimport javafx.scene.Scene;\nimport javafx.scene.layout.AnchorPane;\nimport javafx.stage.Screen;\nimport javafx.stage.Stage;\nimport models.database.User;\n\nimport javax.persistence.EntityManager;\nimport javax.persistence.EntityManagerFactory;\nimport javax.persistence.EntityTransaction;\nimport javax.persistence.Persistence;\n\npublic class Main extends Application {\n\n    private static Stage stage;\n\n    public static Stage getStage(){\n        return stage;\n    }\n\n    public static void setStage(Stage stage){\n        Main.stage = stage;\n    }\n\n    @Override\n    public void start(Stage primaryStage) throws Exception{\n        setStage(primaryStage);\n        FXMLLoader loader = new FXMLLoader();\n        loader.setLocation(this.getClass().getResource(&quot;/views/main.fxml&quot;));\n        AnchorPane anchorPane = loader.load();\n\n        EntityManagerFactory entityManagerFactory = Persistence.createEntityManagerFactory(&quot;manager1&quot;);\n        EntityManager entityManager = entityManagerFactory.createEntityManager();\n        EntityTransaction entityTransaction=entityManager.getTransaction();\n\n        Scene scene = new Scene(anchorPane,1024,600);\n        primaryStage.setScene(scene);\n        primaryStage.setMaximized(true);\n        primaryStage.setTitle(&quot;Sliding Puzzle&quot;);\n        primaryStage.setMinHeight(600);\n        primaryStage.setMinWidth(1024);\n        primaryStage.setResizable(true);\n        primaryStage.show();\n    }\n\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n\n</code></pre>\n<p>I know that the error leads me to the moment where I try to create an EntityMAnagerFactroy but I don't know why does is show me that. Thanks for any help or a push in the right direction.</p>\n"},{"tags":["java","xml"],"comments":[{"owner":{"account_id":9197152,"reputation":1142,"user_id":6835509,"display_name":"Vasanth Subramanian"},"score":0,"creation_date":1632934964,"post_id":69380174,"comment_id":122630106,"body_markdown":"Hi @serah, I am able to replicate the issue and found its working if we pass instance of org.w3c.dom.Document as input argument to DOMSource constructor (Ex: DOMSource source = new DOMSource(xmlDoc);) instead of Node object","body":"Hi @serah, I am able to replicate the issue and found its working if we pass instance of org.w3c.dom.Document as input argument to DOMSource constructor (Ex: DOMSource source = new DOMSource(xmlDoc);) instead of Node object"}],"answers":[{"tags":[],"owner":{"account_id":9197152,"reputation":1142,"user_id":6835509,"display_name":"Vasanth Subramanian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1632936350,"creation_date":1632936002,"answer_id":69380889,"question_id":69380174,"body_markdown":"Solution is to set below property to either &quot;yes&quot; or &quot;no&quot;\r\n\r\n    transformer.setOutputProperty(OutputKeys.STANDALONE, &quot;no&quot;);\r\n\r\nComplete Code:\r\n\r\n    import javax.xml.parsers.DocumentBuilder;\r\n    import javax.xml.parsers.DocumentBuilderFactory;\r\n    import javax.xml.parsers.ParserConfigurationException;\r\n    import javax.xml.transform.*;\r\n    import javax.xml.transform.dom.DOMSource;\r\n    import javax.xml.transform.stream.StreamResult;\r\n    import java.io.OutputStream;\r\n    \r\n    \r\n    import org.w3c.dom.*;\r\n    \r\n    public class SO_XML {\r\n    private static Document xmlDoc;\r\n    \r\n    public static void main(String[] args) throws ParserConfigurationException {\r\n    \r\n      DocumentBuilderFactory docFactory = DocumentBuilderFactory.newInstance();\r\n      docFactory.setIgnoringElementContentWhitespace(true);\r\n    \r\n      DocumentBuilder docBuilder = docFactory.newDocumentBuilder();\r\n      Document xmlDoc = docBuilder.newDocument();\r\n      xmlDoc.setXmlStandalone(false);\r\n    \r\n      Element rootElement = xmlDoc.createElement(&quot;companies&quot;);\r\n      xmlDoc.appendChild(rootElement);\r\n      Element item = xmlDoc.createElement(&quot;company&quot;);\r\n      item.setAttribute(&quot;name&quot;, &quot;code4passion&quot;);\r\n      rootElement.appendChild(item);\r\n      writeNode(rootElement, System.out);\r\n    }\r\n    \r\n    \r\n    public static void writeNode(final Node node, final OutputStream out) {\r\n      try {\r\n        TransformerFactory transformerFactory = TransformerFactory.newInstance();\r\n        Transformer transformer = transformerFactory.newTransformer();\r\n    \r\n        DOMSource source = new DOMSource(node);\r\n        transformer.setOutputProperty(OutputKeys.INDENT, &quot;yes&quot;);\r\n        transformer.setOutputProperty(&quot;{http://xml.apache.org/xslt}indent-amount&quot;, &quot;2&quot;);\r\n        transformer.setOutputProperty(OutputKeys.STANDALONE, &quot;no&quot;);\r\n    \r\n        StreamResult result = new StreamResult(out);\r\n        transformer.transform(source, result);\r\n      } catch (TransformerConfigurationException tce) {\r\n    \r\n      } catch (TransformerException te) {\r\n    \r\n      }\r\n     }\r\n    }\r\n\r\n","title":"remove carriage return in xml &amp; split xml version from rest of xml","body":"<p>Solution is to set below property to either &quot;yes&quot; or &quot;no&quot;</p>\n<pre><code>transformer.setOutputProperty(OutputKeys.STANDALONE, &quot;no&quot;);\n</code></pre>\n<p>Complete Code:</p>\n<pre><code>import javax.xml.parsers.DocumentBuilder;\nimport javax.xml.parsers.DocumentBuilderFactory;\nimport javax.xml.parsers.ParserConfigurationException;\nimport javax.xml.transform.*;\nimport javax.xml.transform.dom.DOMSource;\nimport javax.xml.transform.stream.StreamResult;\nimport java.io.OutputStream;\n\n\nimport org.w3c.dom.*;\n\npublic class SO_XML {\nprivate static Document xmlDoc;\n\npublic static void main(String[] args) throws ParserConfigurationException {\n\n  DocumentBuilderFactory docFactory = DocumentBuilderFactory.newInstance();\n  docFactory.setIgnoringElementContentWhitespace(true);\n\n  DocumentBuilder docBuilder = docFactory.newDocumentBuilder();\n  Document xmlDoc = docBuilder.newDocument();\n  xmlDoc.setXmlStandalone(false);\n\n  Element rootElement = xmlDoc.createElement(&quot;companies&quot;);\n  xmlDoc.appendChild(rootElement);\n  Element item = xmlDoc.createElement(&quot;company&quot;);\n  item.setAttribute(&quot;name&quot;, &quot;code4passion&quot;);\n  rootElement.appendChild(item);\n  writeNode(rootElement, System.out);\n}\n\n\npublic static void writeNode(final Node node, final OutputStream out) {\n  try {\n    TransformerFactory transformerFactory = TransformerFactory.newInstance();\n    Transformer transformer = transformerFactory.newTransformer();\n\n    DOMSource source = new DOMSource(node);\n    transformer.setOutputProperty(OutputKeys.INDENT, &quot;yes&quot;);\n    transformer.setOutputProperty(&quot;{http://xml.apache.org/xslt}indent-amount&quot;, &quot;2&quot;);\n    transformer.setOutputProperty(OutputKeys.STANDALONE, &quot;no&quot;);\n\n    StreamResult result = new StreamResult(out);\n    transformer.transform(source, result);\n  } catch (TransformerConfigurationException tce) {\n\n  } catch (TransformerException te) {\n\n  }\n }\n}\n</code></pre>\n"}],"owner":{"account_id":1594443,"reputation":2067,"user_id":1476993,"accept_rate":43,"display_name":"serah"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":554,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69380889,"answer_count":1,"score":0,"last_activity_date":1632936350,"creation_date":1632932667,"question_id":69380174,"body_markdown":"I am using the below code to convert my DOM Node to XML file. I am seeing two issues with my file\r\n\r\n1. The first line should actually be two lines with the version on line 1 and &lt;tb:tradeBuilder on line 2. But  &lt;xml version=...&gt;  and &lt;tb:tradeBuilder are on the same line how can i enforce they show up on two lines?\r\n\r\n\r\n       &lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;&lt;tb:tradeBuilder xmlns:tb=\\&quot;urn:or-tradeBuilder\\&quot; datatype=\\&quot;tradebuilder\\&quot;&gt;\\r\r\n        &lt;tb:tradeField&gt;\\r\r\n\r\n2. How do I remove the carriage return \\r from every line?\r\n\r\n\r\n  **Java code to print xml to file**\r\n\r\n         public static void writeNode(final Node node, final Writer out) {\r\n           try {       \r\n                TransformerFactory transformerFactory = TransformerFactory.newInstance();\r\n                Transformer transformer = transformerFactory.newTransformer();\r\n                DOMSource source = new DOMSource(node);\r\n                transformer.setOutputProperty(OutputKeys.INDENT, &quot;yes&quot;);\r\n                transformer.setOutputProperty(&quot;{http://xml.apache.org/xslt}indent-amount&quot;, &quot;2&quot;);\r\n                StreamResult result = new StreamResult(out);\r\n                transformer.transform(source, result);\r\n            }catch (TransformerConfigurationException tce ){\r\n    \r\n            }catch(TransformerException te){\r\n    \r\n            }","title":"remove carriage return in xml &amp; split xml version from rest of xml","body":"<p>I am using the below code to convert my DOM Node to XML file. I am seeing two issues with my file</p>\n<ol>\n<li><p>The first line should actually be two lines with the version on line 1 and &lt;tb:tradeBuilder on line 2. But    and &lt;tb:tradeBuilder are on the same line how can i enforce they show up on two lines?</p>\n<pre><code>&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;&lt;tb:tradeBuilder xmlns:tb=\\&quot;urn:or-tradeBuilder\\&quot; datatype=\\&quot;tradebuilder\\&quot;&gt;\\r\n &lt;tb:tradeField&gt;\\r\n</code></pre>\n</li>\n<li><p>How do I remove the carriage return \\r from every line?</p>\n</li>\n</ol>\n<p><strong>Java code to print xml to file</strong></p>\n<pre><code>     public static void writeNode(final Node node, final Writer out) {\n       try {       \n            TransformerFactory transformerFactory = TransformerFactory.newInstance();\n            Transformer transformer = transformerFactory.newTransformer();\n            DOMSource source = new DOMSource(node);\n            transformer.setOutputProperty(OutputKeys.INDENT, &quot;yes&quot;);\n            transformer.setOutputProperty(&quot;{http://xml.apache.org/xslt}indent-amount&quot;, &quot;2&quot;);\n            StreamResult result = new StreamResult(out);\n            transformer.transform(source, result);\n        }catch (TransformerConfigurationException tce ){\n\n        }catch(TransformerException te){\n\n        }\n</code></pre>\n"},{"tags":["java","class","javabuilders"],"comments":[{"owner":{"account_id":3498606,"reputation":5166,"user_id":2925962,"accept_rate":0,"display_name":"akortex"},"score":0,"creation_date":1632928589,"post_id":69378831,"comment_id":122627101,"body_markdown":"Why do you need a builder for a class that does not need to be instantiated? The idea behind having a builder is to create new instances of objects, so no point in having one for a class that has no instances.","body":"Why do you need a builder for a class that does not need to be instantiated? The idea behind having a builder is to create new instances of objects, so no point in having one for a class that has no instances."},{"owner":{"account_id":5068712,"reputation":2406,"user_id":4068123,"display_name":"Michael Sims"},"score":0,"creation_date":1632932573,"post_id":69378831,"comment_id":122629032,"body_markdown":"@AndyTurner When I add public static Builder ... I still have to use the word new in order to use it ... this is what I&#39;m trying to avoid...","body":"@AndyTurner When I add public static Builder ... I still have to use the word new in order to use it ... this is what I&#39;m trying to avoid..."},{"owner":{"account_id":5068712,"reputation":2406,"user_id":4068123,"display_name":"Michael Sims"},"score":0,"creation_date":1632932709,"post_id":69378831,"comment_id":122629102,"body_markdown":"@akortex - WHY? Because my &quot;telescoping&quot; class constructors are out of control ... and I want to maintain the existing style of using the class which is without instantiation because actually in this case, having to create an instance of the class ruins it&#39;s whole purpose for existing ... and I realize that Builders are for creating new classes ... this is why I&#39;m asking the question...","body":"@akortex - WHY? Because my &quot;telescoping&quot; class constructors are out of control ... and I want to maintain the existing style of using the class which is without instantiation because actually in this case, having to create an instance of the class ruins it&#39;s whole purpose for existing ... and I realize that Builders are for creating new classes ... this is why I&#39;m asking the question..."},{"owner":{"account_id":5068712,"reputation":2406,"user_id":4068123,"display_name":"Michael Sims"},"score":0,"creation_date":1632932832,"post_id":69378831,"comment_id":122629159,"body_markdown":"@AndyTurner - No, I want to interact with the class without having to use any = at all or the word new ... fully public static class... through and through","body":"@AndyTurner - No, I want to interact with the class without having to use any = at all or the word new ... fully public static class... through and through"},{"owner":{"account_id":5068712,"reputation":2406,"user_id":4068123,"display_name":"Michael Sims"},"score":0,"creation_date":1632932933,"post_id":69378831,"comment_id":122629210,"body_markdown":"@AndyTurner - not true ... utility classes don&#39;t need to be instantiated to use the methods within them...","body":"@AndyTurner - not true ... utility classes don&#39;t need to be instantiated to use the methods within them..."},{"owner":{"account_id":5068712,"reputation":2406,"user_id":4068123,"display_name":"Michael Sims"},"score":0,"creation_date":1632933106,"post_id":69378831,"comment_id":122629304,"body_markdown":"@AndyTurner - BINGO! And I want to offer a &quot;Builder style&quot; interface for setting up that classes parameters. WITHOUT instantiating ANY classes at all","body":"@AndyTurner - BINGO! And I want to offer a &quot;Builder style&quot; interface for setting up that classes parameters. WITHOUT instantiating ANY classes at all"},{"owner":{"account_id":5068712,"reputation":2406,"user_id":4068123,"display_name":"Michael Sims"},"score":0,"creation_date":1632933346,"post_id":69378831,"comment_id":122629413,"body_markdown":"@AndyTurner Look at my edit at the bottom of my post ... I show an example there.","body":"@AndyTurner Look at my edit at the bottom of my post ... I show an example there."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1632934255,"post_id":69378831,"comment_id":122629800,"body_markdown":"&quot;Take the following class for example:&quot; why do you need a builder for a class that only has static state? There&#39;s nothing to configure for individual instances.","body":"&quot;Take the following class for example:&quot; why do you need a builder for a class that only has static state? There&#39;s nothing to configure for individual instances."},{"owner":{"account_id":5068712,"reputation":2406,"user_id":4068123,"display_name":"Michael Sims"},"score":0,"creation_date":1632934295,"post_id":69378831,"comment_id":122629823,"body_markdown":"@AndyTurner - Yes I realizE that I can do it that way because that&#39;s how I&#39;ve re-structured my Class ... but I haven&#39;t published it yet, because I wanted to find out if there was a way to do what I am trying to do without needing to invoke any classes at all... I know that categorically, what I am asking for seems rather asinine ... or that I&#39;m being picky ... but one of the nicest features of this class is it&#39;s existence globally without any instantiation and I wanted to maintain that theme if possible. If not, then so be it ... it is what it is.","body":"@AndyTurner - Yes I realizE that I can do it that way because that&#39;s how I&#39;ve re-structured my Class ... but I haven&#39;t published it yet, because I wanted to find out if there was a way to do what I am trying to do without needing to invoke any classes at all... I know that categorically, what I am asking for seems rather asinine ... or that I&#39;m being picky ... but one of the nicest features of this class is it&#39;s existence globally without any instantiation and I wanted to maintain that theme if possible. If not, then so be it ... it is what it is."},{"owner":{"account_id":5068712,"reputation":2406,"user_id":4068123,"display_name":"Michael Sims"},"score":0,"creation_date":1632935148,"post_id":69378831,"comment_id":122630196,"body_markdown":"@AndyTurner - it is when you want to have access to JavaFX Scenes from anywhere in your application...","body":"@AndyTurner - it is when you want to have access to JavaFX Scenes from anywhere in your application..."},{"owner":{"account_id":5068712,"reputation":2406,"user_id":4068123,"display_name":"Michael Sims"},"score":0,"creation_date":1632935460,"post_id":69378831,"comment_id":122630297,"body_markdown":"@AndyTurner This is the actual project ... Now keep in mind, I have completely re-written this project literally from a blank screen, implementing builder style ... and it works... you just have to use the word new when you add a scene and I was trying to avoid doing that if at all possible ... which it looks like it&#39;s not possible ... but here is the project: https://github.com/EasyG0ing1/Switcher - I haven&#39;t published the re-write yet.","body":"@AndyTurner This is the actual project ... Now keep in mind, I have completely re-written this project literally from a blank screen, implementing builder style ... and it works... you just have to use the word new when you add a scene and I was trying to avoid doing that if at all possible ... which it looks like it&#39;s not possible ... but here is the project: <a href=\"https://github.com/EasyG0ing1/Switcher\" rel=\"nofollow noreferrer\">github.com/EasyG0ing1/Switcher</a> - I haven&#39;t published the re-write yet."},{"owner":{"account_id":5068712,"reputation":2406,"user_id":4068123,"display_name":"Michael Sims"},"score":0,"creation_date":1633006498,"post_id":69378831,"comment_id":122650511,"body_markdown":"@AndyTurner - WHY did you delete your answers?","body":"@AndyTurner - WHY did you delete your answers?"}],"answers":[{"tags":[],"owner":{"account_id":14887483,"reputation":28,"user_id":10750231,"display_name":"J. DEMARE"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632928945,"creation_date":1632928945,"answer_id":69379232,"question_id":69378831,"body_markdown":"You can use Lombok to produce easily Builders\r\n\r\nUse the annotation @Builder on your class\r\n\r\n```java\r\n@Builder\r\npublic class MyClass {\r\n    private String myString;\r\n    private int myInt;\r\n}\r\n```\r\n\r\nThen you can use it like the following code :\r\n```java\r\npublic void foo(){\r\n   MyClass myClass = MyClass.builder().myInt(0).myString(&quot;bar&quot;).build();\r\n}\r\n```\r\n\r\nTake a look here for [lombok][1]\r\n\r\nAdd the following dependency to manage it\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;version&gt;1.18.20&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n\r\n  [1]: https://projectlombok.org/features/Builder","title":"Java Builder Utility Class?","body":"<p>You can use Lombok to produce easily Builders</p>\n<p>Use the annotation @Builder on your class</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Builder\npublic class MyClass {\n    private String myString;\n    private int myInt;\n}\n</code></pre>\n<p>Then you can use it like the following code :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void foo(){\n   MyClass myClass = MyClass.builder().myInt(0).myString(&quot;bar&quot;).build();\n}\n</code></pre>\n<p>Take a look here for <a href=\"https://projectlombok.org/features/Builder\" rel=\"nofollow noreferrer\">lombok</a></p>\n<p>Add the following dependency to manage it</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n    &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;version&gt;1.18.20&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":5068712,"reputation":2406,"user_id":4068123,"display_name":"Michael Sims"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":397,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632935836,"creation_date":1632927464,"question_id":69378831,"body_markdown":"I&#39;ve been Googling around for a while trying find the answer to this question without any success.\r\n\r\nThe way I understand how to create a class using the Builder style is like this:\r\n\r\n\r\n    public class MyClass {\r\n    \r\n        private String myString;\r\n        private int myInt;\r\n    \r\n          public static class Builder {\r\n    \r\n            private String myString;\r\n            private int myInt;\r\n      \r\n            public Builder() {}\r\n        \r\n            public Builder setString(String myString) {\r\n              this.myString = myString;\r\n              return this;\r\n            }\r\n    \r\n            public Builder setInteger(int myInt) {\r\n              this.myInt = myInt;\r\n              return this;\r\n            }\r\n    \r\n            public MyClass build() {\r\n              return new MyClass(this);\r\n            }\r\n    \r\n        private MyClass(Builder build) {\r\n          this.myString = build.myString;\r\n          this.myInt = build.myInt;\r\n        }\r\n    }\r\n\r\n\r\nWhich is great! It is a powerful style for class design. However, what I would like to do, is have a utility class where everything is static and public but also have a builder to set up the class. But the only way I seem to be able to do that, is by creating a new instance of a builder class which forces the user to call new on the parent class ... but the parent class isn&#39;t supposed to be instantiated, so it seems a bit confusing to have a Builder that has to be instantiated for a class that doesn&#39;t... The only way I&#39;ve been able to offer any kind of a builder for a public utility class is by returning void on the final build statement, where all of the build options affect change on the parent class...\r\n\r\nSo my question is, is there a way to offer &quot;Builder style&quot; functionality on a public static utility class such that there would be no need to instantiate any class at all in the use of that functionality?\r\n\r\nEdit:\r\n\r\nI guess I should clarify, that what I am trying to offer to an end user of the class, is the ability to invoke a Builder style interface WITHOUT instantiating ANY classes at all... like this:\r\n\r\n    MyClass.Builder.option1().option2().build();\r\n\r\nNotice I did NOT do this:\r\n\r\n    MyClass myClass = new MyClass.Builder()...\r\n\r\nBecause that is exactly what I DONT want to do...\r\n\r\n\r\nEdit2:\r\n\r\nTake the following class for example:\r\n\r\n    import java.util.*;\r\n    \r\n    class MyClass {\r\n    \r\n    \tprivate static List&lt;String&gt;            userList       = new ArrayList&lt;&gt;();\r\n    \tprivate static Map&lt;Integer, String&gt;    userMap        = new HashMap&lt;&gt;();\r\n    \tprivate static LinkedList&lt;Double&gt;      userDoubleList = new LinkedList&lt;&gt;();\r\n    \tprivate static Map&lt;Integer, SomeClass&gt; someClassMap   = new HashMap&lt;&gt;();\r\n    \r\n    \tpublic static void method1(String userString) {\r\n    \t\tuserList.add(userString);\r\n    \t}\r\n    \r\n    \tpublic static void method2(Integer userNumber, String userString) {\r\n    \t\tuserMap.put(userNumber, userString);\r\n    \t}\r\n    \r\n    \tpublic static void method3(Double userDouble) {\r\n    \t\tuserDoubleList.addLast(userDouble);\r\n    \t}\r\n    \r\n    \tpublic static void method4(Integer userInteger, SomeClass userClass) {\r\n    \t\tsomeClassMap.put(userInteger, userClass);\r\n    \t}\r\n    }\r\n\r\n\r\nI would like for the user to be able to set up the class using a Builder style like this:\r\n\r\n    MyClass.Builder.option1(&quot;My String&quot;).option3(25.4).build();\r\n\r\nOr however that would end up actually looking ... I want to be able to have them set up the parameters of the class without needing to create a whole bunch of different public static methods that provide the variety of options that are inherent in the class... \r\n\r\nI hope that makes sense ... ","title":"Java Builder Utility Class?","body":"<p>I've been Googling around for a while trying find the answer to this question without any success.</p>\n<p>The way I understand how to create a class using the Builder style is like this:</p>\n<pre><code>public class MyClass {\n\n    private String myString;\n    private int myInt;\n\n      public static class Builder {\n\n        private String myString;\n        private int myInt;\n  \n        public Builder() {}\n    \n        public Builder setString(String myString) {\n          this.myString = myString;\n          return this;\n        }\n\n        public Builder setInteger(int myInt) {\n          this.myInt = myInt;\n          return this;\n        }\n\n        public MyClass build() {\n          return new MyClass(this);\n        }\n\n    private MyClass(Builder build) {\n      this.myString = build.myString;\n      this.myInt = build.myInt;\n    }\n}\n</code></pre>\n<p>Which is great! It is a powerful style for class design. However, what I would like to do, is have a utility class where everything is static and public but also have a builder to set up the class. But the only way I seem to be able to do that, is by creating a new instance of a builder class which forces the user to call new on the parent class ... but the parent class isn't supposed to be instantiated, so it seems a bit confusing to have a Builder that has to be instantiated for a class that doesn't... The only way I've been able to offer any kind of a builder for a public utility class is by returning void on the final build statement, where all of the build options affect change on the parent class...</p>\n<p>So my question is, is there a way to offer &quot;Builder style&quot; functionality on a public static utility class such that there would be no need to instantiate any class at all in the use of that functionality?</p>\n<p>Edit:</p>\n<p>I guess I should clarify, that what I am trying to offer to an end user of the class, is the ability to invoke a Builder style interface WITHOUT instantiating ANY classes at all... like this:</p>\n<pre><code>MyClass.Builder.option1().option2().build();\n</code></pre>\n<p>Notice I did NOT do this:</p>\n<pre><code>MyClass myClass = new MyClass.Builder()...\n</code></pre>\n<p>Because that is exactly what I DONT want to do...</p>\n<p>Edit2:</p>\n<p>Take the following class for example:</p>\n<pre><code>import java.util.*;\n\nclass MyClass {\n\n    private static List&lt;String&gt;            userList       = new ArrayList&lt;&gt;();\n    private static Map&lt;Integer, String&gt;    userMap        = new HashMap&lt;&gt;();\n    private static LinkedList&lt;Double&gt;      userDoubleList = new LinkedList&lt;&gt;();\n    private static Map&lt;Integer, SomeClass&gt; someClassMap   = new HashMap&lt;&gt;();\n\n    public static void method1(String userString) {\n        userList.add(userString);\n    }\n\n    public static void method2(Integer userNumber, String userString) {\n        userMap.put(userNumber, userString);\n    }\n\n    public static void method3(Double userDouble) {\n        userDoubleList.addLast(userDouble);\n    }\n\n    public static void method4(Integer userInteger, SomeClass userClass) {\n        someClassMap.put(userInteger, userClass);\n    }\n}\n</code></pre>\n<p>I would like for the user to be able to set up the class using a Builder style like this:</p>\n<pre><code>MyClass.Builder.option1(&quot;My String&quot;).option3(25.4).build();\n</code></pre>\n<p>Or however that would end up actually looking ... I want to be able to have them set up the parameters of the class without needing to create a whole bunch of different public static methods that provide the variety of options that are inherent in the class...</p>\n<p>I hope that makes sense ...</p>\n"},{"tags":["java","logging","log4j","log4j2"],"answers":[{"tags":[],"owner":{"account_id":1555751,"reputation":35615,"user_id":1446916,"display_name":"Remko Popma"},"down_vote_count":2,"up_vote_count":99,"is_accepted":true,"score":97,"last_activity_date":1432084289,"creation_date":1402754505,"answer_id":24220688,"question_id":24205093,"body_markdown":"This works quite differently in log4j2 than in log4j-1.2.\r\n\r\nIn log4j2, you would create a plugin for this. The manual has an explanation with an example for a custom appender here: http://logging.apache.org/log4j/2.x/manual/extending.html#Appenders\r\n\r\nIt may be convenient to extend `org.apache.logging.log4j.core.appender.AbstractAppender`, but this is not required.\r\n\r\nWhen you annotate your custom Appender class with `@Plugin(name=&quot;MyCustomAppender&quot;, ....`, the plugin name becomes the configuration element name, so a configuration with your custom appender would then look like this:\r\n\r\n    &lt;Configuration packages=&quot;com.yourcompany.yourcustomappenderpackage&quot;&gt;\r\n      &lt;Appenders&gt;\r\n        &lt;MyCustomAppender name=&quot;ABC&quot; otherAttribute=&quot;...&quot;&gt;\r\n        ...\r\n      &lt;/Appenders&gt;\r\n      &lt;Loggers&gt;&lt;Root&gt;&lt;AppenderRef ref=&quot;ABC&quot; /&gt;&lt;/Root&gt;&lt;/Loggers&gt;\r\n    &lt;/Configuration&gt;\r\n\r\nNote that the `packages` attribute on the configuration is a comma-separated list of all the packages with custom log4j2 plugins. Log4j2 will search these packages in the classpath for classes annotated with @Plugin.\r\n\r\nHere is a sample custom appender that prints to the console:\r\n\r\n    package com.yourcompany.yourcustomappenderpackage;\r\n    \r\n    import java.io.Serializable;\r\n    import java.util.concurrent.locks.*;\r\n    import org.apache.logging.log4j.core.*;\r\n    import org.apache.logging.log4j.core.config.plugins.*;\r\n    import org.apache.logging.log4j.core.layout.PatternLayout;\r\n    \r\n    // note: class name need not match the @Plugin name.\r\n    @Plugin(name=&quot;MyCustomAppender&quot;, category=&quot;Core&quot;, elementType=&quot;appender&quot;, printObject=true)\r\n    public final class MyCustomAppenderImpl extends AbstractAppender {\r\n\r\n        private final ReadWriteLock rwLock = new ReentrantReadWriteLock();\r\n        private final Lock readLock = rwLock.readLock();\r\n    \r\n    \tprotected MyCustomAppenderImpl(String name, Filter filter,\r\n    \t\t\tLayout&lt;? extends Serializable&gt; layout, final boolean ignoreExceptions) {\r\n    \t\tsuper(name, filter, layout, ignoreExceptions);\r\n    \t}\r\n    \r\n        // The append method is where the appender does the work.\r\n        // Given a log event, you are free to do with it what you want.\r\n        // This example demonstrates:\r\n        // 1. Concurrency: this method may be called by multiple threads concurrently\r\n        // 2. How to use layouts\r\n        // 3. Error handling\r\n    \t@Override\r\n    \tpublic void append(LogEvent event) {\r\n            readLock.lock();\r\n            try {\r\n                final byte[] bytes = getLayout().toByteArray(event);\r\n    \t\t\tSystem.out.write(bytes);\r\n    \t\t} catch (Exception ex) {\r\n    \t\t\tif (!ignoreExceptions()) {\r\n                    throw new AppenderLoggingException(ex);\r\n    \t\t\t}\r\n            } finally {\r\n                readLock.unlock();\r\n    \t\t}\r\n    \t}\r\n    \r\n        // Your custom appender needs to declare a factory method\r\n        // annotated with `@PluginFactory`. Log4j will parse the configuration\r\n        // and call this factory method to construct an appender instance with\r\n        // the configured attributes.\r\n    \t@PluginFactory\r\n    \tpublic static MyCustomAppenderImpl createAppender(\r\n    \t\t\t@PluginAttribute(&quot;name&quot;) String name,\r\n    \t\t\t@PluginElement(&quot;Layout&quot;) Layout&lt;? extends Serializable&gt; layout,\r\n    \t\t\t@PluginElement(&quot;Filter&quot;) final Filter filter,\r\n    \t\t\t@PluginAttribute(&quot;otherAttribute&quot;) String otherAttribute) {\r\n    \t\tif (name == null) {\r\n    \t\t\tLOGGER.error(&quot;No name provided for MyCustomAppenderImpl&quot;);\r\n    \t\t\treturn null;\r\n    \t\t}\r\n    \t\tif (layout == null) {\r\n    \t\t\tlayout = PatternLayout.createDefaultLayout();\r\n    \t\t}\r\n    \t\treturn new MyCustomAppenderImpl(name, filter, layout, true);\r\n    \t}\r\n    }\r\n\r\nFor more details on plugins:\r\nhttp://logging.apache.org/log4j/2.x/manual/plugins.html\r\n\r\nIf the manual is not enough, it may be useful to look at the source code for the built-in appenders in log4j-core.","title":"How to Create a Custom Appender in log4j2?","body":"<p>This works quite differently in log4j2 than in log4j-1.2.</p>\n\n<p>In log4j2, you would create a plugin for this. The manual has an explanation with an example for a custom appender here: <a href=\"http://logging.apache.org/log4j/2.x/manual/extending.html#Appenders\">http://logging.apache.org/log4j/2.x/manual/extending.html#Appenders</a></p>\n\n<p>It may be convenient to extend <code>org.apache.logging.log4j.core.appender.AbstractAppender</code>, but this is not required.</p>\n\n<p>When you annotate your custom Appender class with <code>@Plugin(name=\"MyCustomAppender\", ....</code>, the plugin name becomes the configuration element name, so a configuration with your custom appender would then look like this:</p>\n\n<pre><code>&lt;Configuration packages=\"com.yourcompany.yourcustomappenderpackage\"&gt;\n  &lt;Appenders&gt;\n    &lt;MyCustomAppender name=\"ABC\" otherAttribute=\"...\"&gt;\n    ...\n  &lt;/Appenders&gt;\n  &lt;Loggers&gt;&lt;Root&gt;&lt;AppenderRef ref=\"ABC\" /&gt;&lt;/Root&gt;&lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n\n<p>Note that the <code>packages</code> attribute on the configuration is a comma-separated list of all the packages with custom log4j2 plugins. Log4j2 will search these packages in the classpath for classes annotated with @Plugin.</p>\n\n<p>Here is a sample custom appender that prints to the console:</p>\n\n<pre><code>package com.yourcompany.yourcustomappenderpackage;\n\nimport java.io.Serializable;\nimport java.util.concurrent.locks.*;\nimport org.apache.logging.log4j.core.*;\nimport org.apache.logging.log4j.core.config.plugins.*;\nimport org.apache.logging.log4j.core.layout.PatternLayout;\n\n// note: class name need not match the @Plugin name.\n@Plugin(name=\"MyCustomAppender\", category=\"Core\", elementType=\"appender\", printObject=true)\npublic final class MyCustomAppenderImpl extends AbstractAppender {\n\n    private final ReadWriteLock rwLock = new ReentrantReadWriteLock();\n    private final Lock readLock = rwLock.readLock();\n\n    protected MyCustomAppenderImpl(String name, Filter filter,\n            Layout&lt;? extends Serializable&gt; layout, final boolean ignoreExceptions) {\n        super(name, filter, layout, ignoreExceptions);\n    }\n\n    // The append method is where the appender does the work.\n    // Given a log event, you are free to do with it what you want.\n    // This example demonstrates:\n    // 1. Concurrency: this method may be called by multiple threads concurrently\n    // 2. How to use layouts\n    // 3. Error handling\n    @Override\n    public void append(LogEvent event) {\n        readLock.lock();\n        try {\n            final byte[] bytes = getLayout().toByteArray(event);\n            System.out.write(bytes);\n        } catch (Exception ex) {\n            if (!ignoreExceptions()) {\n                throw new AppenderLoggingException(ex);\n            }\n        } finally {\n            readLock.unlock();\n        }\n    }\n\n    // Your custom appender needs to declare a factory method\n    // annotated with `@PluginFactory`. Log4j will parse the configuration\n    // and call this factory method to construct an appender instance with\n    // the configured attributes.\n    @PluginFactory\n    public static MyCustomAppenderImpl createAppender(\n            @PluginAttribute(\"name\") String name,\n            @PluginElement(\"Layout\") Layout&lt;? extends Serializable&gt; layout,\n            @PluginElement(\"Filter\") final Filter filter,\n            @PluginAttribute(\"otherAttribute\") String otherAttribute) {\n        if (name == null) {\n            LOGGER.error(\"No name provided for MyCustomAppenderImpl\");\n            return null;\n        }\n        if (layout == null) {\n            layout = PatternLayout.createDefaultLayout();\n        }\n        return new MyCustomAppenderImpl(name, filter, layout, true);\n    }\n}\n</code></pre>\n\n<p>For more details on plugins:\n<a href=\"http://logging.apache.org/log4j/2.x/manual/plugins.html\">http://logging.apache.org/log4j/2.x/manual/plugins.html</a></p>\n\n<p>If the manual is not enough, it may be useful to look at the source code for the built-in appenders in log4j-core.</p>\n"},{"tags":[],"owner":{"account_id":5486849,"reputation":367,"user_id":4361330,"display_name":"Javoslaw"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1476368181,"creation_date":1476368181,"answer_id":40023542,"question_id":24205093,"body_markdown":"&gt; It looks like plugin appenders are scanned at startup and cannot be added during runtime. Is that true?\r\n\r\nto add new appender while running you can use monitorInterval property to update log configuration i.e. every 60 sec:\r\n\r\n        &lt;Configuration monitorInterval=&quot;60&quot;&gt;\r\n","title":"How to Create a Custom Appender in log4j2?","body":"<blockquote>\n  <p>It looks like plugin appenders are scanned at startup and cannot be added during runtime. Is that true?</p>\n</blockquote>\n\n<p>to add new appender while running you can use monitorInterval property to update log configuration i.e. every 60 sec:</p>\n\n<pre><code>    &lt;Configuration monitorInterval=\"60\"&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2025979,"reputation":2522,"user_id":1810962,"accept_rate":80,"display_name":"joseph"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1632935342,"creation_date":1555355968,"answer_id":55695950,"question_id":24205093,"body_markdown":"As you pointed out AppenderSkeleton is not available anymore so the solutions in https://stackoverflow.com/questions/6072389/how-to-create-my-own-appender-in-log4j will not work.\r\n\r\nUsing Mockito, or similar library to create an Appender with an ArgumentCaptor will not work if you&#39;re expecting multiple logging messages because the MutableLogEvent is reused over multiple log messages.\r\n\r\nThe most generic solution I found for log4j2 is to provide a mock implementation that records all the messages. It does not require any additional libraries like Mockito or JMockit.\r\n\r\n    import org.apache.logging.log4j.LogManager;\r\n    import org.apache.logging.log4j.core.LogEvent;\r\n    import org.apache.logging.log4j.core.Logger;\r\n    import org.apache.logging.log4j.core.appender.AbstractAppender;    \r\n\r\n    private static MockedAppender mockedAppender;\r\n    private static Logger logger;\r\n\r\n    @Before\r\n    public void setup() {\r\n        mockedAppender.message.clear();\r\n    }\r\n\r\n    /**\r\n     * For some reason mvn test will not work if this is @Before, but in eclipse it works! As a\r\n     * result, we use @BeforeClass.\r\n     */\r\n    @BeforeClass\r\n    public static void setupClass() {\r\n        mockedAppender = new MockedAppender();\r\n        logger = (Logger)LogManager.getLogger(ClassWithLoggingToTest.class);\r\n        logger.addAppender(mockedAppender);\r\n        logger.setLevel(Level.INFO);\r\n    }\r\n\r\n    @AfterClass\r\n    public static void teardown() {\r\n        logger.removeAppender(mockedAppender);\r\n    }\r\n\r\n    @Test\r\n    public void test() {\r\n        // do something that causes logs\r\n        for (String e : mockedAppender.message) {\r\n            // add asserts for the log messages\r\n        }\r\n    }\r\n\r\n    private static class MockedAppender extends AbstractAppender {\r\n\r\n        List&lt;String&gt; message = new ArrayList&lt;&gt;();\r\n\r\n        protected MockedAppender() {\r\n            super(&quot;MockedAppender&quot;, null, null);\r\n        }\r\n\r\n        @Override\r\n        public void append(LogEvent event) {\r\n            message.add(event.getMessage().getFormattedMessage());\r\n        }\r\n    }","title":"How to Create a Custom Appender in log4j2?","body":"<p>As you pointed out AppenderSkeleton is not available anymore so the solutions in <a href=\"https://stackoverflow.com/questions/6072389/how-to-create-my-own-appender-in-log4j\">How to create my own Appender in log4j?</a> will not work.</p>\n<p>Using Mockito, or similar library to create an Appender with an ArgumentCaptor will not work if you're expecting multiple logging messages because the MutableLogEvent is reused over multiple log messages.</p>\n<p>The most generic solution I found for log4j2 is to provide a mock implementation that records all the messages. It does not require any additional libraries like Mockito or JMockit.</p>\n<pre><code>import org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.core.LogEvent;\nimport org.apache.logging.log4j.core.Logger;\nimport org.apache.logging.log4j.core.appender.AbstractAppender;    \n\nprivate static MockedAppender mockedAppender;\nprivate static Logger logger;\n\n@Before\npublic void setup() {\n    mockedAppender.message.clear();\n}\n\n/**\n * For some reason mvn test will not work if this is @Before, but in eclipse it works! As a\n * result, we use @BeforeClass.\n */\n@BeforeClass\npublic static void setupClass() {\n    mockedAppender = new MockedAppender();\n    logger = (Logger)LogManager.getLogger(ClassWithLoggingToTest.class);\n    logger.addAppender(mockedAppender);\n    logger.setLevel(Level.INFO);\n}\n\n@AfterClass\npublic static void teardown() {\n    logger.removeAppender(mockedAppender);\n}\n\n@Test\npublic void test() {\n    // do something that causes logs\n    for (String e : mockedAppender.message) {\n        // add asserts for the log messages\n    }\n}\n\nprivate static class MockedAppender extends AbstractAppender {\n\n    List&lt;String&gt; message = new ArrayList&lt;&gt;();\n\n    protected MockedAppender() {\n        super(&quot;MockedAppender&quot;, null, null);\n    }\n\n    @Override\n    public void append(LogEvent event) {\n        message.add(event.getMessage().getFormattedMessage());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":329773,"reputation":1734,"user_id":653482,"accept_rate":83,"display_name":"saurabh goyal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72546,"favorite_count":0,"down_vote_count":0,"up_vote_count":63,"accepted_answer_id":24220688,"answer_count":3,"score":63,"last_activity_date":1632935342,"creation_date":1402661830,"question_id":24205093,"body_markdown":"As disscussed in this link : [https://stackoverflow.com/questions/6072389/how-to-create-a-own-appender-in-log4j][1]\r\n\r\nFor creating a custom appender in log4j 1.x we have to extend the AppenderSkeleton class and implements its append method.\r\n\r\nSimilarly How we can create a custom appender in log4j2 as we dont have AppenderSkelton class to extend and all other appender extend AppenderBase class .\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/6072389/how-to-create-a-own-appender-in-log4j","title":"How to Create a Custom Appender in log4j2?","body":"<p>As disscussed in this link : <a href=\"https://stackoverflow.com/questions/6072389/how-to-create-a-own-appender-in-log4j\">How to create a own Appender in log4j?</a></p>\n\n<p>For creating a custom appender in log4j 1.x we have to extend the AppenderSkeleton class and implements its append method.</p>\n\n<p>Similarly How we can create a custom appender in log4j2 as we dont have AppenderSkelton class to extend and all other appender extend AppenderBase class .</p>\n"},{"tags":["java","performance"],"answers":[{"tags":[],"owner":{"account_id":1732446,"reputation":10581,"user_id":1585767,"accept_rate":85,"display_name":"Andres"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1632929556,"creation_date":1632929556,"answer_id":69379402,"question_id":69379297,"body_markdown":"You could use an aspect, but it&#39;s largely overkill.\r\n\r\nhttps://www.javatpoint.com/spring-aop-tutorial","title":"calling a particular method from all setter methods","body":"<p>You could use an aspect, but it's largely overkill.</p>\n<p><a href=\"https://www.javatpoint.com/spring-aop-tutorial\" rel=\"nofollow noreferrer\">https://www.javatpoint.com/spring-aop-tutorial</a></p>\n"},{"tags":[],"owner":{"account_id":12858978,"reputation":231,"user_id":9301392,"display_name":"AnushaSP07"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632935239,"creation_date":1632935239,"answer_id":69380724,"question_id":69379297,"body_markdown":"to call that method in every case, one easy way we can go is using aspect, it will provide @Before @After @around @Pointcut\r\n\r\nEX: \r\n@Before(&quot;forAllMethods() &amp;&amp; exceptConfig() &amp;&amp; exceptBeans()&quot;)\r\n    public void data(){}\r\n\r\n@Around(&quot;forAllMethods() &amp;&amp; exceptConfig() &amp;&amp; exceptBeans()&quot;)\r\npublic void data(){}\r\n\r\n","title":"calling a particular method from all setter methods","body":"<p>to call that method in every case, one easy way we can go is using aspect, it will provide @Before @After @around @Pointcut</p>\n<p>EX:\n@Before(&quot;forAllMethods() &amp;&amp; exceptConfig() &amp;&amp; exceptBeans()&quot;)\npublic void data(){}</p>\n<p>@Around(&quot;forAllMethods() &amp;&amp; exceptConfig() &amp;&amp; exceptBeans()&quot;)\npublic void data(){}</p>\n"}],"owner":{"account_id":21082640,"reputation":69,"user_id":15496597,"display_name":"Snehasis Rout"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":534,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69379402,"answer_count":2,"score":0,"last_activity_date":1632935239,"creation_date":1632929175,"question_id":69379297,"body_markdown":"I have a scenario where i have to call a manual validation method from all the setter methods of a model class.\r\n\r\nI have used lombok to enable getter and setter in my model class\r\n\r\neg.\r\n\r\n    @Data\r\n\tclass Model {\r\n\t\tint x;\r\n\t\tint y;\r\n\t}\r\n\r\n\tclass Util {\r\n\t\tpublic static int validate(int x) {\r\n\t\t\treturn x + 1;\r\n\t\t}\r\n\t}\r\n\r\n\r\n\r\n\r\nI have this requirement that Util.validate(x) method should be called every time a setter method of my model class being called.\r\n\r\nI don&#39;t want to write the setter and manually call the utility method\r\n\r\nany optimal way for this available?","title":"calling a particular method from all setter methods","body":"<p>I have a scenario where i have to call a manual validation method from all the setter methods of a model class.</p>\n<p>I have used lombok to enable getter and setter in my model class</p>\n<p>eg.</p>\n<pre><code>@Data\nclass Model {\n    int x;\n    int y;\n}\n\nclass Util {\n    public static int validate(int x) {\n        return x + 1;\n    }\n}\n</code></pre>\n<p>I have this requirement that Util.validate(x) method should be called every time a setter method of my model class being called.</p>\n<p>I don't want to write the setter and manually call the utility method</p>\n<p>any optimal way for this available?</p>\n"},{"tags":["java","spring","spring-boot","spring-data-elasticsearch"],"answers":[{"tags":[],"owner":{"account_id":9305162,"reputation":1045,"user_id":6909182,"display_name":"this.srivastava"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1632935039,"creation_date":1632922590,"answer_id":69377503,"question_id":69376367,"body_markdown":"Along with query and index, I added my Class `MetadataSearch.class` and now it is working.\r\n\r\n    elasticsearchOperations.delete(query, MetadataSearch.class, IndexCoordinates.of(&quot;portal_idx&quot;));\r\n\r\n**Edit (by P.J.Meisch):**\r\n\r\nLet me explain why you got this error. You were calling the function with the signature \r\n\r\n    ElasticsearchOperations.delete(Object, IndexCoordinates)\r\n\r\nHere ElasticsearchOperations takes the first parameter as an entity object which should be deleted and tries to find its id-property. Normally you&#39;d pass in an instance of `MetadataSearch` in your case. Spring Data Elasticsearch already would know what properties this object has from the initial setup.\r\n\r\nBut now it gets an object that is a `NativeSearchQuery` and which is not known as an entity type and so Spring Data Elasticsearch analyses the object and its properties and this goes down to properties of the properties ...\r\n\r\n`NativeSearchQuery` has a property of type `RequestBuilder`, this has a `SearchRequest` which in turn contains a `TransportAddress` and this has an `InetSocketAddress`. And here the inspection fails with the error you see.\r\n\r\nSo indeed using the `delete` variant taking a query, the entity class and the IndexCoordinates is the right way. If your `MetadataSearch` class is annotated with `@Document(indexName=&quot;portal_idx&quot;)` you can omit the last parameter.","title":"java.lang.reflect.InaccessibleObjectException: Unable to make field private final transient java.net.InetSocketAddress","body":"<p>Along with query and index, I added my Class <code>MetadataSearch.class</code> and now it is working.</p>\n<pre><code>elasticsearchOperations.delete(query, MetadataSearch.class, IndexCoordinates.of(&quot;portal_idx&quot;));\n</code></pre>\n<p><strong>Edit (by P.J.Meisch):</strong></p>\n<p>Let me explain why you got this error. You were calling the function with the signature</p>\n<pre><code>ElasticsearchOperations.delete(Object, IndexCoordinates)\n</code></pre>\n<p>Here ElasticsearchOperations takes the first parameter as an entity object which should be deleted and tries to find its id-property. Normally you'd pass in an instance of <code>MetadataSearch</code> in your case. Spring Data Elasticsearch already would know what properties this object has from the initial setup.</p>\n<p>But now it gets an object that is a <code>NativeSearchQuery</code> and which is not known as an entity type and so Spring Data Elasticsearch analyses the object and its properties and this goes down to properties of the properties ...</p>\n<p><code>NativeSearchQuery</code> has a property of type <code>RequestBuilder</code>, this has a <code>SearchRequest</code> which in turn contains a <code>TransportAddress</code> and this has an <code>InetSocketAddress</code>. And here the inspection fails with the error you see.</p>\n<p>So indeed using the <code>delete</code> variant taking a query, the entity class and the IndexCoordinates is the right way. If your <code>MetadataSearch</code> class is annotated with <code>@Document(indexName=&quot;portal_idx&quot;)</code> you can omit the last parameter.</p>\n"}],"owner":{"account_id":9305162,"reputation":1045,"user_id":6909182,"display_name":"this.srivastava"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3848,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69377503,"answer_count":1,"score":2,"last_activity_date":1632935039,"creation_date":1632918342,"question_id":69376367,"body_markdown":"I&#39;m trying to delete elastic documents in bulk amount, but I get exception `&quot;java.lang.reflect.InaccessibleObjectException: Unable to make field private final transient java.net.InetSocketAddress&quot;` when `elasticsearchOperations.delete(...)` is executed. Here is the code, not able to figure out what is causing it. Any help is much appreciated.\r\n\r\n    private void deleteElasticDocuments(String catalogId) {\r\n    \tList&lt;String&gt; docIdList = new ArrayList&lt;&gt;(250);\r\n    \tString queryText = martServerContext.getQueryCacheInstance().getQuery(QUERY_PORTAL_GET_OBJECTS_IN_PORTAL_BY_MODEL);\r\n    \tMapSqlParameterSource mapSqlParameterSource = new MapSqlParameterSource();\r\n    \tmapSqlParameterSource.addValue(&quot;cId&quot;, Integer.parseInt(catalogId));\r\n    \tnamedParameterJdbcTemplate.query(queryText, mapSqlParameterSource, (resultSet -&gt; {\r\n    \t\tint objectId = resultSet.getInt(O_ID);\r\n    \t\tString docId = catalogId + objectId;\r\n    \t\tdocIdList.add(docId);\r\n    \t\tif (docIdList.size() == 250) {\r\n    \t\t\tQuery query = new NativeSearchQueryBuilder()\r\n    \t\t\t\t\t.withQuery(QueryBuilders.idsQuery().addIds(docIdList.toArray(String[]::new)))\r\n    \t\t\t\t\t.build();\r\n    \t\t\telasticsearchOperations.delete(query, IndexCoordinates.of(&quot;portal_idx&quot;));\r\n    \t\t\tdocIdList.clear();\r\n    \t\t}\r\n    \t\t// elasticsearchOperations.delete(docId, IndexCoordinates.of(&quot;portal_idx&quot;));\r\n    \t}));\r\n    \tif (docIdList.size() &lt; 250) {\r\n    \t\tQuery query = new NativeSearchQueryBuilder()\r\n    \t\t\t\t.withQuery(QueryBuilders.idsQuery().addIds(docIdList.toArray(String[]::new)))\r\n    \t\t\t\t.build();\r\n    \t\telasticsearchOperations.delete(query, IndexCoordinates.of(&quot;portal_idx&quot;));\r\n    \t\tdocIdList.clear();\r\n    \t}\r\n    }","title":"java.lang.reflect.InaccessibleObjectException: Unable to make field private final transient java.net.InetSocketAddress","body":"<p>I'm trying to delete elastic documents in bulk amount, but I get exception <code>&quot;java.lang.reflect.InaccessibleObjectException: Unable to make field private final transient java.net.InetSocketAddress&quot;</code> when <code>elasticsearchOperations.delete(...)</code> is executed. Here is the code, not able to figure out what is causing it. Any help is much appreciated.</p>\n<pre><code>private void deleteElasticDocuments(String catalogId) {\n    List&lt;String&gt; docIdList = new ArrayList&lt;&gt;(250);\n    String queryText = martServerContext.getQueryCacheInstance().getQuery(QUERY_PORTAL_GET_OBJECTS_IN_PORTAL_BY_MODEL);\n    MapSqlParameterSource mapSqlParameterSource = new MapSqlParameterSource();\n    mapSqlParameterSource.addValue(&quot;cId&quot;, Integer.parseInt(catalogId));\n    namedParameterJdbcTemplate.query(queryText, mapSqlParameterSource, (resultSet -&gt; {\n        int objectId = resultSet.getInt(O_ID);\n        String docId = catalogId + objectId;\n        docIdList.add(docId);\n        if (docIdList.size() == 250) {\n            Query query = new NativeSearchQueryBuilder()\n                    .withQuery(QueryBuilders.idsQuery().addIds(docIdList.toArray(String[]::new)))\n                    .build();\n            elasticsearchOperations.delete(query, IndexCoordinates.of(&quot;portal_idx&quot;));\n            docIdList.clear();\n        }\n        // elasticsearchOperations.delete(docId, IndexCoordinates.of(&quot;portal_idx&quot;));\n    }));\n    if (docIdList.size() &lt; 250) {\n        Query query = new NativeSearchQueryBuilder()\n                .withQuery(QueryBuilders.idsQuery().addIds(docIdList.toArray(String[]::new)))\n                .build();\n        elasticsearchOperations.delete(query, IndexCoordinates.of(&quot;portal_idx&quot;));\n        docIdList.clear();\n    }\n}\n</code></pre>\n"},{"tags":["java","macos","api","audio"],"comments":[{"owner":{"account_id":6234983,"reputation":159,"user_id":4850577,"display_name":"Vavaste"},"score":0,"creation_date":1632935326,"post_id":69380601,"comment_id":122630251,"body_markdown":"i&#39;ve seen this problem was resolved here: https://stackoverflow.com/questions/55727488/application-doesnt-ask-for-permission-to-access-microphone-in-macos-10-14-mojav/60648164#60648164","body":"i&#39;ve seen this problem was resolved here: <a href=\"https://stackoverflow.com/questions/55727488/application-doesnt-ask-for-permission-to-access-microphone-in-macos-10-14-mojav/60648164#60648164\" title=\"application doesnt ask for permission to access microphone in macos 10 14 mojav\">stackoverflow.com/questions/55727488/&hellip;</a>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1633598593,"post_id":69380601,"comment_id":122804484,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"owner":{"account_id":22897232,"reputation":1,"user_id":17036587,"display_name":"xdmingo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":374,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1632934651,"creation_date":1632934651,"question_id":69380601,"body_markdown":"I wrote an app which is supposed to detect the level of the microphone volume. However, it doesn&#39;t detect anything. I think it&#39;s because it doesn&#39;t have the permissions to use the microphone. Is there any way to force my app to ask for the permission?\r\n\r\nThe IDE I use is NetBeans and JDK v16.","title":"Java app does not request permissions to use the microphone (MacOs Big Sur)","body":"<p>I wrote an app which is supposed to detect the level of the microphone volume. However, it doesn't detect anything. I think it's because it doesn't have the permissions to use the microphone. Is there any way to force my app to ask for the permission?</p>\n<p>The IDE I use is NetBeans and JDK v16.</p>\n"},{"tags":["java","macos","terminal","jline3"],"answers":[{"tags":[],"owner":{"account_id":3732303,"reputation":26,"user_id":3104268,"display_name":"mattirn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632934325,"creation_date":1632851965,"answer_id":69366450,"question_id":69247723,"body_markdown":"You need to run your app on command line in order to get system terminal because `System.in` and `System.out` must be attached to your console. This is not a case when you run junit test and probably neither when launching app using maven. \r\n\r\nYou should write an app and launch it using `java` command in order to get system terminal.","title":"Cannot create OS terminal with jline3","body":"<p>You need to run your app on command line in order to get system terminal because <code>System.in</code> and <code>System.out</code> must be attached to your console. This is not a case when you run junit test and probably neither when launching app using maven.</p>\n<p>You should write an app and launch it using <code>java</code> command in order to get system terminal.</p>\n"}],"owner":{"account_id":188312,"reputation":586,"user_id":427009,"accept_rate":73,"display_name":"MiB"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1287,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1632934325,"creation_date":1632093220,"question_id":69247723,"body_markdown":"In macOS 11.6 running this passing junit test, where Terminal and TerminalBuilder are from jline3:\r\n\r\n    @Test\r\n    \tvoid test1() throws IOException {\r\n    \t\tTerminal t = getTerminal();\r\n    \t\tAssertions.assertNotNull(t);\r\n    \t}\r\n\r\ngetTerminal:\r\n\r\n    public Terminal getTerminal() throws IOException {\r\n    \t\treturn TerminalBuilder.terminal();\r\n    \t}\r\n\r\nAlternative getTerminal:\r\n\r\n    public Terminal getTerminal() throws IOException {\r\n    \t\treturn TerminalBuilder.builder().system(true).build();\r\n    \t}\r\n\r\nI&#39;m getting this warning message in the console with either version of getTerminal:\r\n&gt;WARNING: Unable to create a system terminal, creating a dumb terminal (enable debug logging for more information)\r\n\r\nObviously I want a system terminal. I have both Jansi and JNA on the classpath as well as the full jline3. I tried running inside Eclipse and from the command line with maven. Results are the same.\r\n\r\nAny suggestions on how to get a system terminal?","title":"Cannot create OS terminal with jline3","body":"<p>In macOS 11.6 running this passing junit test, where Terminal and TerminalBuilder are from jline3:</p>\n<pre><code>@Test\n    void test1() throws IOException {\n        Terminal t = getTerminal();\n        Assertions.assertNotNull(t);\n    }\n</code></pre>\n<p>getTerminal:</p>\n<pre><code>public Terminal getTerminal() throws IOException {\n        return TerminalBuilder.terminal();\n    }\n</code></pre>\n<p>Alternative getTerminal:</p>\n<pre><code>public Terminal getTerminal() throws IOException {\n        return TerminalBuilder.builder().system(true).build();\n    }\n</code></pre>\n<p>I'm getting this warning message in the console with either version of getTerminal:</p>\n<blockquote>\n<p>WARNING: Unable to create a system terminal, creating a dumb terminal (enable debug logging for more information)</p>\n</blockquote>\n<p>Obviously I want a system terminal. I have both Jansi and JNA on the classpath as well as the full jline3. I tried running inside Eclipse and from the command line with maven. Results are the same.</p>\n<p>Any suggestions on how to get a system terminal?</p>\n"},{"tags":["java","for-loop"],"comments":[{"owner":{"account_id":1718670,"reputation":4778,"user_id":1575188,"display_name":"fantaghirocco"},"score":1,"creation_date":1632932619,"post_id":69380126,"comment_id":122629059,"body_markdown":"`for (int i = 0; i &gt;= n; i++)` does nothing for `n &gt; 0`","body":"<code>for (int i = 0; i &gt;= n; i++)</code> does nothing for <code>n &gt; 0</code>"},{"owner":{"account_id":21794527,"reputation":63,"user_id":16094291,"display_name":"James"},"score":0,"creation_date":1632932834,"post_id":69380126,"comment_id":122629160,"body_markdown":"@fantaghiroccocametoRome why is that? If I enter n as 9, for example, shouldn&#39;t the loop run 9 times?","body":"@fantaghiroccocametoRome why is that? If I enter n as 9, for example, shouldn&#39;t the loop run 9 times?"},{"owner":{"account_id":1718670,"reputation":4778,"user_id":1575188,"display_name":"fantaghirocco"},"score":0,"creation_date":1632933115,"post_id":69380126,"comment_id":122629310,"body_markdown":"James, probably you mean to write `i&lt;=n` so the loop runs from 0 to 9 - i.e. while `i` is less than or equals to 9","body":"James, probably you mean to write <code>i&lt;=n</code> so the loop runs from 0 to 9 - i.e. while <code>i</code> is less than or equals to 9"},{"owner":{"account_id":21794527,"reputation":63,"user_id":16094291,"display_name":"James"},"score":0,"creation_date":1632933627,"post_id":69380126,"comment_id":122629553,"body_markdown":"@fantaghiroccocametoRome well I feel incredibly silly. Thank you.","body":"@fantaghiroccocametoRome well I feel incredibly silly. Thank you."},{"owner":{"account_id":1718670,"reputation":4778,"user_id":1575188,"display_name":"fantaghirocco"},"score":0,"creation_date":1632982980,"post_id":69380126,"comment_id":122640985,"body_markdown":"You&#39;re welcome, it&#39;s a common mistake in the beginning :D","body":"You&#39;re welcome, it&#39;s a common mistake in the beginning :D"}],"answers":[{"tags":[],"owner":{"account_id":21379802,"reputation":188,"user_id":15745910,"display_name":"Flav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632934241,"creation_date":1632934241,"answer_id":69380510,"question_id":69380126,"body_markdown":"You had some mistakes in your for loops conditions. \r\n\r\nYou have to handle the &quot;top&quot; and &quot;bottom of the diamond separately.\r\nThere is a solution:\r\n\r\n````\r\n        System.out.println(&quot;Enter an odd number for the size of the diamond&quot;);\r\n        n = sc.nextInt();\r\n\r\n        //Top part\r\n        for (int i = 1; i &lt;= (n / 2) + 1; i++) {\r\n            for (int j = 1; j &lt;= n - i; j++) {\r\n                System.out.print(&quot; &quot;);\r\n            }\r\n            for (int j = 1; j &lt;= (i * 2) - 1; j++) {\r\n                System.out.print(&#39;*&#39;);\r\n            }\r\n            System.out.println();\r\n\r\n        }\r\n        //Bottom part\r\n        for (int i = n / 2; i &gt; 0; i--) {\r\n            for (int j = 1; j &lt;= n - i; j++) {\r\n                System.out.print(&quot; &quot;);\r\n            }\r\n            for (int j = 1; j &lt;= (i * 2) - 1; j++) {\r\n                System.out.print(&#39;*&#39;);\r\n            }\r\n            System.out.println();\r\n        }","title":"Program not entering basic FOR loops (exercise to print a diamond shape using spaces and asterisks)","body":"<p>You had some mistakes in your for loops conditions.</p>\n<p>You have to handle the &quot;top&quot; and &quot;bottom of the diamond separately.\nThere is a solution:</p>\n<pre><code>        System.out.println(&quot;Enter an odd number for the size of the diamond&quot;);\n        n = sc.nextInt();\n\n        //Top part\n        for (int i = 1; i &lt;= (n / 2) + 1; i++) {\n            for (int j = 1; j &lt;= n - i; j++) {\n                System.out.print(&quot; &quot;);\n            }\n            for (int j = 1; j &lt;= (i * 2) - 1; j++) {\n                System.out.print('*');\n            }\n            System.out.println();\n\n        }\n        //Bottom part\n        for (int i = n / 2; i &gt; 0; i--) {\n            for (int j = 1; j &lt;= n - i; j++) {\n                System.out.print(&quot; &quot;);\n            }\n            for (int j = 1; j &lt;= (i * 2) - 1; j++) {\n                System.out.print('*');\n            }\n            System.out.println();\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12858978,"reputation":231,"user_id":9301392,"display_name":"AnushaSP07"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1632934320,"creation_date":1632934320,"answer_id":69380524,"question_id":69380126,"body_markdown":"the written loop is wrong it should be less than or equal to &lt;= not &gt;= so it is not coming inside the first forloop itself,\r\n\r\nyou can refer the below code snippet:\r\n\r\n\r\npublic static void main(String[] args) {\r\n        Scanner sc = new Scanner(System.in);\r\n        \r\n        try {\r\n            System.out.println(&quot;Enter an odd number for the size of the diamond&quot;);\r\n            int m = sc.nextInt();\r\n            int n = m-1;\r\n            \r\n            for (int i = 0; i &lt;m; i++) {\r\n                for (int j = 0; j &lt;n; j++) {\r\n                    System.out.print(&quot; &quot;);\r\n                }\r\n                for (int k = 0; k &lt;= i; k++) {\r\n                    System.out.print(&quot;* &quot;);\r\n                }\r\n                System.out.print(&quot;\\n&quot;);\r\n                n--;\r\n            }\r\n            n = 0;\r\n            for (int i = m; i &gt; 0; i--)\r\n            {\r\n               \r\n                for (int j = 0; j &lt; n; j++)\r\n                    System.out.print(&quot; &quot;);\r\n         \r\n                // Print i stars\r\n                for (int j = 0; j &lt; i; j++)\r\n                    System.out.print(&quot;* &quot;);\r\n         \r\n                System.out.print(&quot;\\n&quot;);\r\n                n++;\r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }`","title":"Program not entering basic FOR loops (exercise to print a diamond shape using spaces and asterisks)","body":"<p>the written loop is wrong it should be less than or equal to &lt;= not &gt;= so it is not coming inside the first forloop itself,</p>\n<p>you can refer the below code snippet:</p>\n<p>public static void main(String[] args) {\nScanner sc = new Scanner(System.in);</p>\n<pre><code>    try {\n        System.out.println(&quot;Enter an odd number for the size of the diamond&quot;);\n        int m = sc.nextInt();\n        int n = m-1;\n        \n        for (int i = 0; i &lt;m; i++) {\n            for (int j = 0; j &lt;n; j++) {\n                System.out.print(&quot; &quot;);\n            }\n            for (int k = 0; k &lt;= i; k++) {\n                System.out.print(&quot;* &quot;);\n            }\n            System.out.print(&quot;\\n&quot;);\n            n--;\n        }\n        n = 0;\n        for (int i = m; i &gt; 0; i--)\n        {\n           \n            for (int j = 0; j &lt; n; j++)\n                System.out.print(&quot; &quot;);\n     \n            // Print i stars\n            for (int j = 0; j &lt; i; j++)\n                System.out.print(&quot;* &quot;);\n     \n            System.out.print(&quot;\\n&quot;);\n            n++;\n        }\n    } catch (Exception e) {\n        e.printStackTrace();\n    }`\n</code></pre>\n"}],"owner":{"account_id":21794527,"reputation":63,"user_id":16094291,"display_name":"James"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1633021725,"accepted_answer_id":69380524,"answer_count":2,"score":-2,"last_activity_date":1632934320,"creation_date":1632932431,"question_id":69380126,"body_markdown":"This is a very common starter question however I&#39;m having trouble with the *for* loops themselves. \r\n\r\nI am trying to complete the following question which asks to print the diamond shape you see below. The user needs to enter an odd number, and that is the number of asterisks that will be printed in the centre line.\r\n\r\n[A picture of the diamond shape that needs to be printed.][1]\r\n\r\nThe code I originally wrote while thinking of how to do it is below. Now, I went through the code step-by-step and so I know the code is bad in relation to the question itself. What I&#39;m struggling with is why the *for* loop isn&#39;t working.\r\n\r\n    package diamante;\r\n    \r\n    import java.util.Scanner;\r\n    \r\n    public class Diamente {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tScanner sc = new Scanner(System.in);\r\n    \t\tint n;\r\n    \r\n    \t\ttry {\r\n    \t\t\tSystem.out.println(&quot;Enter an odd number for the size of the diamond&quot;);\r\n    \t\t\tn = sc.nextInt();\r\n    \r\n    \t\t\tfor (int i = 0; i &gt;= n; i++) {\r\n    \t\t\t\tfor (int j = (n / 2); j &lt;= 0; j--) {\r\n    \t\t\t\t\tSystem.out.print(&quot; &quot;);\r\n    \t\t\t\t}\r\n    \t\t\t\tfor (int k = 0; k &gt;= i; k++) {\r\n    \t\t\t\t\tSystem.out.print(&quot;*&quot;);\r\n    \t\t\t\t}\r\n    \t\t\t\tn = n - 2;\r\n    \t\t\t\ti++;\r\n    \t\t\t\tSystem.out.println(&quot;test&quot;);\r\n    \t\t\t}\r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nNothing prints - not any spaces, nor an asterisk, nor the &quot;Test&quot;. Likewise there are no error messages. Trying to find at what point it fails I took out all of the internal parts of the outer for loop, leaving just the following:\r\n\r\n    try {\r\n    \t\t\tSystem.out.println(&quot;Enter an odd number for the size of the diamond&quot;);\r\n    \t\t\tn = sc.nextInt();\r\n    \r\n    \t\t\tfor (int i = 0; i &gt;= n; i++) {\r\n    \r\n    \t\t\t\tSystem.out.println(&quot;test&quot;);\r\n    \t\t\t}\r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n\r\nBut this still doesn&#39;t print anything. It seems like the most basic *for* loop you can write, so I don&#39;t understand why it&#39;s not working. I&#39;m not getting any error messages from the *catch* part either, the program just stops with nothing happening at all.\r\n\r\n[Screenshot of the console after trying to run the code.][2]\r\n\r\nI knew you were able to set breakpoints and go through a program step by step, so I looked up how to do it quickly as I didn&#39;t know. I set the breakpoint at the *for* loop and ran the program as debug, and when I clicked to go into the loop, it jumps right over it.\r\n\r\nAny clues as to what I&#39;m missing would be greatly appreciated. It is baffling me.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QbbgS.png\r\n  [2]: https://i.stack.imgur.com/w9exR.png","title":"Program not entering basic FOR loops (exercise to print a diamond shape using spaces and asterisks)","body":"<p>This is a very common starter question however I'm having trouble with the <em>for</em> loops themselves.</p>\n<p>I am trying to complete the following question which asks to print the diamond shape you see below. The user needs to enter an odd number, and that is the number of asterisks that will be printed in the centre line.</p>\n<p><a href=\"https://i.stack.imgur.com/QbbgS.png\" rel=\"nofollow noreferrer\">A picture of the diamond shape that needs to be printed.</a></p>\n<p>The code I originally wrote while thinking of how to do it is below. Now, I went through the code step-by-step and so I know the code is bad in relation to the question itself. What I'm struggling with is why the <em>for</em> loop isn't working.</p>\n<pre><code>package diamante;\n\nimport java.util.Scanner;\n\npublic class Diamente {\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        int n;\n\n        try {\n            System.out.println(&quot;Enter an odd number for the size of the diamond&quot;);\n            n = sc.nextInt();\n\n            for (int i = 0; i &gt;= n; i++) {\n                for (int j = (n / 2); j &lt;= 0; j--) {\n                    System.out.print(&quot; &quot;);\n                }\n                for (int k = 0; k &gt;= i; k++) {\n                    System.out.print(&quot;*&quot;);\n                }\n                n = n - 2;\n                i++;\n                System.out.println(&quot;test&quot;);\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>Nothing prints - not any spaces, nor an asterisk, nor the &quot;Test&quot;. Likewise there are no error messages. Trying to find at what point it fails I took out all of the internal parts of the outer for loop, leaving just the following:</p>\n<pre><code>try {\n            System.out.println(&quot;Enter an odd number for the size of the diamond&quot;);\n            n = sc.nextInt();\n\n            for (int i = 0; i &gt;= n; i++) {\n\n                System.out.println(&quot;test&quot;);\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n</code></pre>\n<p>But this still doesn't print anything. It seems like the most basic <em>for</em> loop you can write, so I don't understand why it's not working. I'm not getting any error messages from the <em>catch</em> part either, the program just stops with nothing happening at all.</p>\n<p><a href=\"https://i.stack.imgur.com/w9exR.png\" rel=\"nofollow noreferrer\">Screenshot of the console after trying to run the code.</a></p>\n<p>I knew you were able to set breakpoints and go through a program step by step, so I looked up how to do it quickly as I didn't know. I set the breakpoint at the <em>for</em> loop and ran the program as debug, and when I clicked to go into the loop, it jumps right over it.</p>\n<p>Any clues as to what I'm missing would be greatly appreciated. It is baffling me.</p>\n"},{"tags":["java","wildfly","multipartform-data","resteasy","java-ee-8"],"answers":[{"tags":[],"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1632934218,"creation_date":1632933935,"answer_id":69380442,"question_id":69380346,"body_markdown":"The `Content-Type` field is wrong.  In your example it needs to be something like:\r\n\r\n    &quot;Content-Type&quot;: multipart/form-data; boundary=&quot;--------------------------976685076323434093219932&quot;\r\n\r\nThere are two fewer minus (dash) characters than are shown in the current body of your example.","title":"Multipart/form-data RESTEasy error on Wildfly","body":"<p>The <code>Content-Type</code> field is wrong.  In your example it needs to be something like:</p>\n<pre><code>&quot;Content-Type&quot;: multipart/form-data; boundary=&quot;--------------------------976685076323434093219932&quot;\n</code></pre>\n<p>There are two fewer minus (dash) characters than are shown in the current body of your example.</p>\n"}],"owner":{"account_id":12133016,"reputation":168,"user_id":8859325,"display_name":"Haris"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1008,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1632937707,"accepted_answer_id":69380442,"answer_count":1,"score":0,"last_activity_date":1632934218,"creation_date":1632933416,"question_id":69380346,"body_markdown":"I am attempting to setup a REST API on a Wildfly App Server that accepts file uploads. While testing it I came across the following issue. When attempting to upload using `Content-Type: multipart/form-data` I am receiving the following response:\r\n\r\n    HTTP Status Code: 400\r\n    Content-Type: text/html;charset=UTF-8\r\n    Body: &quot;java.io.IOException: RESTEASY007550: Unable to get boundary for multipart&quot;\r\n\r\n\r\nThis is the attempted request.\r\n\r\n    Headers \r\n    {\r\n      &quot;content-length&quot;: &quot;233&quot;,\r\n      &quot;content-type&quot;: &quot;multipart/form-data&quot;,\r\n      &quot;accept-encoding&quot;: &quot;multipart/form-data&quot;,\r\n      &quot;authorization&quot;: &quot;Bearer ommitted&quot;\r\n      &quot;user-agent&quot;: &quot;PostmanRuntime/7.28.3&quot;\r\n    }\r\n    \r\n    Body\r\n    ----------------------------976685076323434093219932\r\n    Content-Disposition: form-data; name=&quot;file&quot;; filename=&quot;import.csv&quot;\r\n    Content-Type: text/csv\r\n    \r\n    destination\r\n    1234567890\r\n    \r\n    ----------------------------976685076323434093219932--\r\n\r\n\r\nThe API endpoint is configured as following:\r\n    \r\n    import javax.ws.rs.POST;\r\n    import javax.ws.rs.Path;\r\n    import javax.ws.rs.PathParam;\r\n    import javax.ws.rs.Produces;\r\n    import org.jboss.resteasy.plugins.providers.multipart.MultipartFormDataInput;\r\n    \r\n    @Stateless\r\n    @Path(&quot;/import&quot;)\r\n    @Produces(MediaType.APPLICATION_JSON)\r\n    public class ImportAPI {\r\n    \r\n        @POST\r\n        @Path(&quot;/{id}/do&quot;)\r\n        @Consumes(MediaType.MULTIPART_FORM_DATA)\r\n        public Response doImport(\r\n            @Context HttpServletRequest request,\r\n            @PathParam(&quot;id&quot;) Integer campaignId,\r\n            MultipartFormDataInput input) {\r\n            // Code omitted\r\n            return Response.ok().build();\r\n        }\r\n    }\r\n\r\n\r\nThere is no error log printed on server log when the error occurs. I am using Wildfly 23 and RESTEasy 3.15.1.Final (provided by Wildfly App Server). \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\r\n        &lt;artifactId&gt;resteasy-multipart-provider&lt;/artifactId&gt;\r\n        &lt;version&gt;3.15.1.Final&lt;/version&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nI am not entirely sure if it&#39;s something wrong in the request or in the API endpoint and I am looking to shed some light on it.","title":"Multipart/form-data RESTEasy error on Wildfly","body":"<p>I am attempting to setup a REST API on a Wildfly App Server that accepts file uploads. While testing it I came across the following issue. When attempting to upload using <code>Content-Type: multipart/form-data</code> I am receiving the following response:</p>\n<pre><code>HTTP Status Code: 400\nContent-Type: text/html;charset=UTF-8\nBody: &quot;java.io.IOException: RESTEASY007550: Unable to get boundary for multipart&quot;\n</code></pre>\n<p>This is the attempted request.</p>\n<pre><code>Headers \n{\n  &quot;content-length&quot;: &quot;233&quot;,\n  &quot;content-type&quot;: &quot;multipart/form-data&quot;,\n  &quot;accept-encoding&quot;: &quot;multipart/form-data&quot;,\n  &quot;authorization&quot;: &quot;Bearer ommitted&quot;\n  &quot;user-agent&quot;: &quot;PostmanRuntime/7.28.3&quot;\n}\n\nBody\n----------------------------976685076323434093219932\nContent-Disposition: form-data; name=&quot;file&quot;; filename=&quot;import.csv&quot;\nContent-Type: text/csv\n\ndestination\n1234567890\n\n----------------------------976685076323434093219932--\n</code></pre>\n<p>The API endpoint is configured as following:</p>\n<pre><code>import javax.ws.rs.POST;\nimport javax.ws.rs.Path;\nimport javax.ws.rs.PathParam;\nimport javax.ws.rs.Produces;\nimport org.jboss.resteasy.plugins.providers.multipart.MultipartFormDataInput;\n\n@Stateless\n@Path(&quot;/import&quot;)\n@Produces(MediaType.APPLICATION_JSON)\npublic class ImportAPI {\n\n    @POST\n    @Path(&quot;/{id}/do&quot;)\n    @Consumes(MediaType.MULTIPART_FORM_DATA)\n    public Response doImport(\n        @Context HttpServletRequest request,\n        @PathParam(&quot;id&quot;) Integer campaignId,\n        MultipartFormDataInput input) {\n        // Code omitted\n        return Response.ok().build();\n    }\n}\n</code></pre>\n<p>There is no error log printed on server log when the error occurs. I am using Wildfly 23 and RESTEasy 3.15.1.Final (provided by Wildfly App Server).</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\n    &lt;artifactId&gt;resteasy-multipart-provider&lt;/artifactId&gt;\n    &lt;version&gt;3.15.1.Final&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I am not entirely sure if it's something wrong in the request or in the API endpoint and I am looking to shed some light on it.</p>\n"},{"tags":["java","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":0,"creation_date":1632818160,"post_id":69357979,"comment_id":122589407,"body_markdown":"Do you have a &quot;showInventory&quot; page?","body":"Do you have a &quot;showInventory&quot; page?"}],"answers":[{"tags":[],"owner":{"account_id":12447383,"reputation":11,"user_id":16032053,"display_name":"Paulo Franklim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632934204,"creation_date":1632925802,"answer_id":69378391,"question_id":69357979,"body_markdown":"You can use the `@RequestBody` annotation in passing parameters of your function that it recognizes a **JSON** object with the model of the `Products` class\r\n\r\n    @RequestMapping(value = &quot;/create_product&quot;,method = RequestMethod.POST)\r\n    public String saveProduct(@RequestBody Products product){\r\n        productService.saveProduct(product);\r\n        return &quot;showInventory&quot;;\r\n    }","title":"can&#39;t create product using spring boot","body":"<p>You can use the <code>@RequestBody</code> annotation in passing parameters of your function that it recognizes a <strong>JSON</strong> object with the model of the <code>Products</code> class</p>\n<pre><code>@RequestMapping(value = &quot;/create_product&quot;,method = RequestMethod.POST)\npublic String saveProduct(@RequestBody Products product){\n    productService.saveProduct(product);\n    return &quot;showInventory&quot;;\n}\n</code></pre>\n"}],"owner":{"account_id":21030243,"reputation":75,"user_id":15454800,"display_name":"Hesham Eldawy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632934204,"creation_date":1632816444,"question_id":69357979,"body_markdown":"I am trying to create a product, here is my code.\r\n```java\r\n//request to create/save a product\r\n@RequestMapping(value = &quot;/create_product&quot;,method = RequestMethod.POST)\r\npublic String saveProduct(@ModelAttribute(&quot;product&quot;) Products product) // Products is the name of the Entity class and creating a productObjcet from it \r\n{\r\n    productService.saveProduct(product);\r\n    return &quot;showInventory&quot;;\r\n}\r\n```\r\n\r\n```xml\r\n&lt;form th:action=&quot;@{/create_product}&quot; th:object = &quot;${product}&quot; method=&quot;POST&quot;&gt;&lt;!-- product object is passed here as named on the createformMethod Attribute Name --&gt;\r\n  &lt;!-- Creating a product  --&gt;\r\n  &lt;div class=&quot;control-group&quot;&gt;\r\n      &lt;label class=&quot;control-label&quot;&gt;Product Category:&lt;/label&gt;\r\n      &lt;div class=&quot;controls&quot;&gt;\r\n          &lt;input type=&quot;text&quot; name=&quot;product_category&quot; th:field=&quot;*{product_category}&quot; class=&quot;span11&quot; placeholder=&quot;Product name&quot;/&gt;\r\n      &lt;/div&gt;\r\n  &lt;/div&gt;\r\n```\r\n\r\nAnd that&#39;s the error that I am facing when I am trying to connect to the request.\r\n\r\n&gt; Whitelabel Error Page This application has no explicit mapping for\r\n&gt; /error, so you are seeing this as a fallback.\r\n&gt; \r\n&gt; Tue Sep 28 04:05:58 EDT 2021 There was an unexpected error (type=Not\r\n&gt; Found, status=404). No message available","title":"can&#39;t create product using spring boot","body":"<p>I am trying to create a product, here is my code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>//request to create/save a product\n@RequestMapping(value = &quot;/create_product&quot;,method = RequestMethod.POST)\npublic String saveProduct(@ModelAttribute(&quot;product&quot;) Products product) // Products is the name of the Entity class and creating a productObjcet from it \n{\n    productService.saveProduct(product);\n    return &quot;showInventory&quot;;\n}\n</code></pre>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;form th:action=&quot;@{/create_product}&quot; th:object = &quot;${product}&quot; method=&quot;POST&quot;&gt;&lt;!-- product object is passed here as named on the createformMethod Attribute Name --&gt;\n  &lt;!-- Creating a product  --&gt;\n  &lt;div class=&quot;control-group&quot;&gt;\n      &lt;label class=&quot;control-label&quot;&gt;Product Category:&lt;/label&gt;\n      &lt;div class=&quot;controls&quot;&gt;\n          &lt;input type=&quot;text&quot; name=&quot;product_category&quot; th:field=&quot;*{product_category}&quot; class=&quot;span11&quot; placeholder=&quot;Product name&quot;/&gt;\n      &lt;/div&gt;\n  &lt;/div&gt;\n</code></pre>\n<p>And that's the error that I am facing when I am trying to connect to the request.</p>\n<blockquote>\n<p>Whitelabel Error Page This application has no explicit mapping for\n/error, so you are seeing this as a fallback.</p>\n<p>Tue Sep 28 04:05:58 EDT 2021 There was an unexpected error (type=Not\nFound, status=404). No message available</p>\n</blockquote>\n"},{"tags":["java","multidimensional-array","tokenize"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1632932661,"post_id":69379956,"comment_id":122629079,"body_markdown":"`StringTokenizer` is not recommended. Certainly not needed here. Also avoid 3rd party classes that add little or nothing. `Scanner` would be perfectly simple to use here","body":"<code>StringTokenizer</code> is not recommended. Certainly not needed here. Also avoid 3rd party classes that add little or nothing. <code>Scanner</code> would be perfectly simple to use here"},{"owner":{"account_id":22896507,"reputation":3,"user_id":17035952,"display_name":"Andrew Hu"},"score":0,"creation_date":1632934550,"post_id":69379956,"comment_id":122629917,"body_markdown":"Yeah I heard StringTokenizer is not recommended but it&#39;s what my professor told us to use.","body":"Yeah I heard StringTokenizer is not recommended but it&#39;s what my professor told us to use."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1633000409,"post_id":69379956,"comment_id":122647869,"body_markdown":"Worrying sign that his teaching materials are out of date by years","body":"Worrying sign that his teaching materials are out of date by years"}],"answers":[{"tags":[],"owner":{"account_id":12225825,"reputation":100,"user_id":8923470,"display_name":"K. Raivio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1632932169,"creation_date":1632932169,"answer_id":69380059,"question_id":69379956,"body_markdown":"The actual bug is in this block:\r\n```java\r\n      for (int i = 0; i &lt; row; i++) {\r\n          line = myFile.readLine();\r\n          for (int j = 0; j &lt; col; j++) {\r\n             myTokens = new StringTokenizer(line, &quot;,&quot;);\r\n             twodimarr[i][j] = Integer.parseInt(myTokens.nextToken());\r\n          }\r\n      }\r\n```\r\n\r\n`myTokens` should be reassigned only once per row, not at each individual number. So instead, change that bit to:\r\n```java\r\n      for (int i = 0; i &lt; row; i++) {\r\n          line = myFile.readLine();\r\n          myTokens = new StringTokenizer(line, &quot;,&quot;);\r\n          for (int j = 0; j &lt; col; j++) {\r\n             twodimarr[i][j] = Integer.parseInt(myTokens.nextToken());\r\n          }\r\n      }\r\n```\r\n\r\nIn addition, it&#39;s not good practice to store local variables as static class variables. Instead of doing\r\n`public static TextFileInput myFile;` at the beginning of the class definition, do `TextFileInput myFile = new TextFileInput(&quot;twodimension8.txt&quot;);` at the top of `main`. (same for the other variables).","title":"Using StringTokenizer to convert a .txt file into a 2d array","body":"<p>The actual bug is in this block:</p>\n<pre class=\"lang-java prettyprint-override\"><code>      for (int i = 0; i &lt; row; i++) {\n          line = myFile.readLine();\n          for (int j = 0; j &lt; col; j++) {\n             myTokens = new StringTokenizer(line, &quot;,&quot;);\n             twodimarr[i][j] = Integer.parseInt(myTokens.nextToken());\n          }\n      }\n</code></pre>\n<p><code>myTokens</code> should be reassigned only once per row, not at each individual number. So instead, change that bit to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>      for (int i = 0; i &lt; row; i++) {\n          line = myFile.readLine();\n          myTokens = new StringTokenizer(line, &quot;,&quot;);\n          for (int j = 0; j &lt; col; j++) {\n             twodimarr[i][j] = Integer.parseInt(myTokens.nextToken());\n          }\n      }\n</code></pre>\n<p>In addition, it's not good practice to store local variables as static class variables. Instead of doing\n<code>public static TextFileInput myFile;</code> at the beginning of the class definition, do <code>TextFileInput myFile = new TextFileInput(&quot;twodimension8.txt&quot;);</code> at the top of <code>main</code>. (same for the other variables).</p>\n"},{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632934110,"creation_date":1632934110,"answer_id":69380476,"question_id":69379956,"body_markdown":"Addressing the concerns I mentioned above:\r\n```\r\n    public static int[][] loadArray(String path) throws IOException {\r\n        int[][] result = null;\r\n        try (Scanner s = new Scanner(new File(path))) {\r\n            s.useDelimiter(&quot;[,\\r\\n]&quot;);\r\n            int numRows = s.nextInt();\r\n            int numCols = s.nextInt();\r\n            result = new int[numRows][numCols];\r\n            for (int row = 0; row &lt; numRows; row++) {\r\n                for (int col = 0; col &lt; numCols; col++) {\r\n                    result[row][col] = s.nextInt();\r\n                }\r\n            }\r\n            return result;\r\n        }\r\n    }\r\n```","title":"Using StringTokenizer to convert a .txt file into a 2d array","body":"<p>Addressing the concerns I mentioned above:</p>\n<pre><code>    public static int[][] loadArray(String path) throws IOException {\n        int[][] result = null;\n        try (Scanner s = new Scanner(new File(path))) {\n            s.useDelimiter(&quot;[,\\r\\n]&quot;);\n            int numRows = s.nextInt();\n            int numCols = s.nextInt();\n            result = new int[numRows][numCols];\n            for (int row = 0; row &lt; numRows; row++) {\n                for (int col = 0; col &lt; numCols; col++) {\n                    result[row][col] = s.nextInt();\n                }\n            }\n            return result;\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":22896507,"reputation":3,"user_id":17035952,"display_name":"Andrew Hu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69380059,"answer_count":2,"score":0,"last_activity_date":1632934110,"creation_date":1632931722,"question_id":69379956,"body_markdown":"Text file(twodimension8.txt). The first line is the rows and cols separated by &#39;,&#39; \r\n```\r\n4,6\r\n1,2,3,4,5,6\r\n23,55,34,89,41,72\r\n9,27,19,56,33,82\r\n3,65,21,66,85,11\r\n```\r\n\r\nMy Code so far.\r\nuses TextFileInput class to read from a file\r\n```\r\nimport java.util.*;\r\n\r\npublic class Tokens {\r\n   public static TextFileInput myFile;\r\n   public static StringTokenizer myTokens;\r\n   public static int[][] twodimarr;\r\n   public static String line;\r\n   \r\n \r\n   public static void main(String[] args) {\r\n\r\n      myFile = new TextFileInput(&quot;twodimension8.txt&quot;);\r\n      line = myFile.readLine();\r\n      System.out.println(&quot;The input line is &quot;+line);\r\n\r\n      myTokens = new StringTokenizer(line,&quot;,&quot;);\r\n\r\n      int row = Integer.parseInt(myTokens.nextToken());\r\n      int col = Integer.parseInt(myTokens.nextToken());\r\n\r\n      twodimarr = new int[row][col];\r\n\r\n      for (int i = 0; i &lt; row; i++) {\r\n          line = myFile.readLine();\r\n          for (int j = 0; j &lt; col; j++) {\r\n             myTokens = new StringTokenizer(line, &quot;,&quot;);\r\n             twodimarr[i][j] = Integer.parseInt(myTokens.nextToken());\r\n          }\r\n      }\r\n\r\n      for (int i=0; i&lt;row; i++) {\r\n          for (int j=0; j&lt;col;j++)\r\n             System.out.print(twodimarr[i][j]);\r\n          System.out.println();\r\n    }\r\n         \r\n   } //main\r\n}\r\n```\r\nThe output:\r\n```\r\n111111   \r\n232323232323\r\n999999     \r\n333333  \r\n```\r\nwhere the problem seems to be is the for loop where it trys to add it into the 2d array. I&#39;m not sure on how I would fix this.\r\n\r\n\r\n","title":"Using StringTokenizer to convert a .txt file into a 2d array","body":"<p>Text file(twodimension8.txt). The first line is the rows and cols separated by ','</p>\n<pre><code>4,6\n1,2,3,4,5,6\n23,55,34,89,41,72\n9,27,19,56,33,82\n3,65,21,66,85,11\n</code></pre>\n<p>My Code so far.\nuses TextFileInput class to read from a file</p>\n<pre><code>import java.util.*;\n\npublic class Tokens {\n   public static TextFileInput myFile;\n   public static StringTokenizer myTokens;\n   public static int[][] twodimarr;\n   public static String line;\n   \n \n   public static void main(String[] args) {\n\n      myFile = new TextFileInput(&quot;twodimension8.txt&quot;);\n      line = myFile.readLine();\n      System.out.println(&quot;The input line is &quot;+line);\n\n      myTokens = new StringTokenizer(line,&quot;,&quot;);\n\n      int row = Integer.parseInt(myTokens.nextToken());\n      int col = Integer.parseInt(myTokens.nextToken());\n\n      twodimarr = new int[row][col];\n\n      for (int i = 0; i &lt; row; i++) {\n          line = myFile.readLine();\n          for (int j = 0; j &lt; col; j++) {\n             myTokens = new StringTokenizer(line, &quot;,&quot;);\n             twodimarr[i][j] = Integer.parseInt(myTokens.nextToken());\n          }\n      }\n\n      for (int i=0; i&lt;row; i++) {\n          for (int j=0; j&lt;col;j++)\n             System.out.print(twodimarr[i][j]);\n          System.out.println();\n    }\n         \n   } //main\n}\n</code></pre>\n<p>The output:</p>\n<pre><code>111111   \n232323232323\n999999     \n333333  \n</code></pre>\n<p>where the problem seems to be is the for loop where it trys to add it into the 2d array. I'm not sure on how I would fix this.</p>\n"},{"tags":["java","spring-boot","junit"],"comments":[{"owner":{"account_id":23128,"reputation":13127,"user_id":57719,"display_name":"Chin Huang"},"score":4,"creation_date":1632935544,"post_id":69380413,"comment_id":122630335,"body_markdown":"To enable Spring Boot features such as [externalized configuration](https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.external-config) in your test, your test class must be annotated with [@SpringBootTest](https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.testing.spring-boot-applications).","body":"To enable Spring Boot features such as <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.external-config\" rel=\"nofollow noreferrer\">externalized configuration</a> in your test, your test class must be annotated with <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.testing.spring-boot-applications\" rel=\"nofollow noreferrer\">@SpringBootTest</a>."},{"owner":{"account_id":5273740,"reputation":698,"user_id":4211252,"display_name":"Thilo Schwarz"},"score":0,"creation_date":1632935704,"post_id":69380413,"comment_id":122630409,"body_markdown":"And your ```MyUtilityClass``` should have an annotation like ```@Service``` ...","body":"And your <code>MyUtilityClass</code> should have an annotation like <code>@Service</code> ..."},{"owner":{"account_id":17019087,"reputation":736,"user_id":12312156,"display_name":"Faramarz Afzali"},"score":0,"creation_date":1632937354,"post_id":69380413,"comment_id":122630996,"body_markdown":"`MyUtilityClass`  should register as a bean in the spring context, so annotate it with `@component` or `@service`.","body":"<code>MyUtilityClass</code>  should register as a bean in the spring context, so annotate it with <code>@component</code> or <code>@service</code>."}],"owner":{"account_id":13835755,"reputation":7,"user_id":9987319,"display_name":"Agha Salman"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1632933799,"creation_date":1632933799,"question_id":69380413,"body_markdown":"I have a JUnit test that requires `MyUtilityClass` to use properties from `src/main/resources/application.yaml` file that is inside resources directory in my SpringBoot application, but JUnit is unable to load properties and I am getting null value when I call `response.getValue()`. So, what could be wrong in my code?\r\n\r\n**MyUtilityClassTest**\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    @TestProperties(location=&quot;classpath:application.yaml&quot;)\r\n    public class MyUtilityClassTest {\r\n    \r\n        @InjectMocks\r\n        private MyUtilityClass muc;\r\n    \r\n        @Test\r\n        void test() {\r\n            var response = muc.getData();\r\n            assertEquals(&quot;EXPECTED_VALUE&quot;, response.getValue());\r\n        }\r\n    }\r\n\r\n**MyUtilityClass**\r\n\r\n    public MyUtilityClass {\r\n        \r\n        //this value is loaded from src/main/resources/application.yaml\r\n        @Value(&quot;${value}&quot;)\r\n        private String value;\r\n    \r\n        public DataClass getData() {\r\n            var data = DataClass.builder().build();\r\n            data.setValue(&quot;Example&quot;);\r\n            return data;\r\n        }\r\n    }","title":"properties are not being loaded from application.yaml","body":"<p>I have a JUnit test that requires <code>MyUtilityClass</code> to use properties from <code>src/main/resources/application.yaml</code> file that is inside resources directory in my SpringBoot application, but JUnit is unable to load properties and I am getting null value when I call <code>response.getValue()</code>. So, what could be wrong in my code?</p>\n<p><strong>MyUtilityClassTest</strong></p>\n<pre><code>@ExtendWith(MockitoExtension.class)\n@TestProperties(location=&quot;classpath:application.yaml&quot;)\npublic class MyUtilityClassTest {\n\n    @InjectMocks\n    private MyUtilityClass muc;\n\n    @Test\n    void test() {\n        var response = muc.getData();\n        assertEquals(&quot;EXPECTED_VALUE&quot;, response.getValue());\n    }\n}\n</code></pre>\n<p><strong>MyUtilityClass</strong></p>\n<pre><code>public MyUtilityClass {\n    \n    //this value is loaded from src/main/resources/application.yaml\n    @Value(&quot;${value}&quot;)\n    private String value;\n\n    public DataClass getData() {\n        var data = DataClass.builder().build();\n        data.setValue(&quot;Example&quot;);\n        return data;\n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-asynctask"],"comments":[{"owner":{"account_id":6023206,"reputation":7990,"user_id":4729721,"display_name":"a_local_nobody"},"score":1,"creation_date":1632731150,"post_id":69343346,"comment_id":122562390,"body_markdown":"`Would AsyncTask be the best fit for this situation?` considering that it&#39;s deprecated, probably not","body":"<code>Would AsyncTask be the best fit for this situation?</code> considering that it&#39;s deprecated, probably not"}],"answers":[{"tags":[],"owner":{"account_id":5625572,"reputation":1324,"user_id":4454119,"display_name":"Nitin Jain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1632731482,"creation_date":1632731482,"answer_id":69343477,"question_id":69343346,"body_markdown":"Using AsyncTask \r\n 1. create a single asyncTask for every data request. fetch the data in doInBackground and update the UI in postExecute.\r\n\r\nI suggest you can use executor service with Handler. pass the runnable to the executor service execute it and using handler post the result to main thread\r\n\r\n","title":"How to get data from SQLite in asynchronously?","body":"<p>Using AsyncTask</p>\n<ol>\n<li>create a single asyncTask for every data request. fetch the data in doInBackground and update the UI in postExecute.</li>\n</ol>\n<p>I suggest you can use executor service with Handler. pass the runnable to the executor service execute it and using handler post the result to main thread</p>\n"}],"owner":{"account_id":13623743,"reputation":3734,"user_id":9945307,"display_name":"NiceToMytyuk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1633447142,"accepted_answer_id":69343477,"answer_count":1,"score":-2,"last_activity_date":1632933558,"creation_date":1632730940,"question_id":69343346,"body_markdown":"I have in my `onCreate()` a method which get the needed data for my Activity from database, the issue is that when the Activity starts I can see that it&#39;s locked until the data from the database is fetched so I would move to an `AsyncTask`.\r\n\r\nThe issue is that I make multiple requests to the DB as I have to get multiple data, how can I achieve it by using `AsyncTask`?\r\n\r\nWould `AsyncTask` be the best fit for this situation?\r\n\r\nHere is how my code looks like:\r\n\r\n\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        LoadDataDB();\r\n    }\r\n    \r\n    public void LoadDataDB() {\r\n        myDB = DataBaseHandler.getInstance(this);\r\n        listMenu = myDB.getMenu();\r\n        listTasti = myDB.getTasti();\r\n        listVarianti = myDB.getVarianti();\r\n        listPrinters = myDB.getPrinters();\r\n    \r\n        if (isFamiglieEnabled) {\r\n            listFamiglie = myDB.getFamiglie();\r\n        }\r\n    \r\n        if (isAYCEnabled) {\r\n            listAYCE = myDB.getAYCE();\r\n        }\r\n    }\r\n\r\nAnd functions like .getMenu and other looks like this:\r\n\r\n    public ArrayList&lt;MenuConstructor&gt; getMenu() {\r\n        database = this.getReadableDatabase();\r\n        Cursor cursor = database.query(TABLE_MENU, null, null, null, null, null, null);\r\n        ArrayList&lt;MenuConstructor&gt; menuList = new ArrayList&lt;&gt;();\r\n        MenuConstructor contactModel;\r\n        if (cursor.getCount() &gt; 0) {\r\n            for (int i = 0; i &lt; cursor.getCount(); i++) {\r\n                cursor.moveToNext();\r\n                contactModel = new MenuConstructor(Integer.parseInt(cursor.getString(0)),\r\n                        cursor.getString(1), cursor.getString(2),\r\n                        cursor.getString(3));\r\n                menuList.add(contactModel);\r\n            }\r\n        }\r\n        cursor.close();\r\n        database.close();\r\n        return menuList;\r\n    }","title":"How to get data from SQLite in asynchronously?","body":"<p>I have in my <code>onCreate()</code> a method which get the needed data for my Activity from database, the issue is that when the Activity starts I can see that it's locked until the data from the database is fetched so I would move to an <code>AsyncTask</code>.</p>\n<p>The issue is that I make multiple requests to the DB as I have to get multiple data, how can I achieve it by using <code>AsyncTask</code>?</p>\n<p>Would <code>AsyncTask</code> be the best fit for this situation?</p>\n<p>Here is how my code looks like:</p>\n<pre><code>protected void onCreate(Bundle savedInstanceState) {\n    LoadDataDB();\n}\n\npublic void LoadDataDB() {\n    myDB = DataBaseHandler.getInstance(this);\n    listMenu = myDB.getMenu();\n    listTasti = myDB.getTasti();\n    listVarianti = myDB.getVarianti();\n    listPrinters = myDB.getPrinters();\n\n    if (isFamiglieEnabled) {\n        listFamiglie = myDB.getFamiglie();\n    }\n\n    if (isAYCEnabled) {\n        listAYCE = myDB.getAYCE();\n    }\n}\n</code></pre>\n<p>And functions like .getMenu and other looks like this:</p>\n<pre><code>public ArrayList&lt;MenuConstructor&gt; getMenu() {\n    database = this.getReadableDatabase();\n    Cursor cursor = database.query(TABLE_MENU, null, null, null, null, null, null);\n    ArrayList&lt;MenuConstructor&gt; menuList = new ArrayList&lt;&gt;();\n    MenuConstructor contactModel;\n    if (cursor.getCount() &gt; 0) {\n        for (int i = 0; i &lt; cursor.getCount(); i++) {\n            cursor.moveToNext();\n            contactModel = new MenuConstructor(Integer.parseInt(cursor.getString(0)),\n                    cursor.getString(1), cursor.getString(2),\n                    cursor.getString(3));\n            menuList.add(contactModel);\n        }\n    }\n    cursor.close();\n    database.close();\n    return menuList;\n}\n</code></pre>\n"},{"tags":["java","javafx","jfoenix"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1632941166,"post_id":69380212,"comment_id":122632355,"body_markdown":"Related, perhaps a duplicate: [How to fix jfoenix modules with javafx 11](https://stackoverflow.com/questions/53037442/how-to-fix-jfoenix-modules-with-javafx-11)","body":"Related, perhaps a duplicate: <a href=\"https://stackoverflow.com/questions/53037442/how-to-fix-jfoenix-modules-with-javafx-11\">How to fix jfoenix modules with javafx 11</a>"},{"owner":{"account_id":22896871,"reputation":75,"user_id":17036274,"display_name":"karim shiro"},"score":0,"creation_date":1632947507,"post_id":69380212,"comment_id":122634431,"body_markdown":"I&#39;ve seen this post already but it didn&#39;t help at all","body":"I&#39;ve seen this post already but it didn&#39;t help at all"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1632952315,"post_id":69380212,"comment_id":122635760,"body_markdown":"It is always good to link to previous research you have done for a question when you ask it.","body":"It is always good to link to previous research you have done for a question when you ask it."}],"owner":{"account_id":22896871,"reputation":75,"user_id":17036274,"display_name":"karim shiro"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":243,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1632933433,"creation_date":1632932799,"question_id":69380212,"body_markdown":"Hi everyone I&#39;m new to JavaFx, I recently started learning it and I managed to include it in eclipse without any problems.\r\nThe only problem I am facing right now is JFoenix library. Whenever I add this latter to the module path and import some modules in my own one an error arises that says :`\r\ncom.jfoenix.controls cannot be resolved to a module ` \r\n\r\nCan some one show me in details how to fix this in eclipse?\r\n\r\nI&#39;m currently using JDK-16 ,JavaFX-16, jfoenix-9.0.10 and the latest version of eclipse","title":"How to integrate Jfoenix with eclipse","body":"<p>Hi everyone I'm new to JavaFx, I recently started learning it and I managed to include it in eclipse without any problems.\nThe only problem I am facing right now is JFoenix library. Whenever I add this latter to the module path and import some modules in my own one an error arises that says :<code>com.jfoenix.controls cannot be resolved to a module</code></p>\n<p>Can some one show me in details how to fix this in eclipse?</p>\n<p>I'm currently using JDK-16 ,JavaFX-16, jfoenix-9.0.10 and the latest version of eclipse</p>\n"},{"tags":["java","spring","spring-boot","maven","executable-jar"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1632917007,"post_id":69375957,"comment_id":122621463,"body_markdown":"Please show your directory layout...","body":"Please show your directory layout..."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1632917901,"post_id":69375957,"comment_id":122621799,"body_markdown":"I don&#39;t find `src/main/java` `src/test/java` `src/main/resources` and `src/test/resource`... (follow conventions!!) What is `modules`? What is `bin`? Please check https://maven.apache.org/guides/introduction/introduction-to-the-standard-directory-layout.html","body":"I don&#39;t find <code>src&#47;main&#47;java</code> <code>src&#47;test&#47;java</code> <code>src&#47;main&#47;resources</code> and <code>src&#47;test&#47;resource</code>... (follow conventions!!) What is <code>modules</code>? What is <code>bin</code>? Please check <a href=\"https://maven.apache.org/guides/introduction/introduction-to-the-standard-directory-layout.html\" rel=\"nofollow noreferrer\">maven.apache.org/guides/introduction/&hellip;</a>"},{"owner":{"account_id":18095443,"reputation":305,"user_id":13153841,"display_name":"danield"},"score":0,"creation_date":1632920619,"post_id":69375957,"comment_id":122623048,"body_markdown":"Those are the project directories, I do have that structure, but once the executable jar is created what do those matter? The executable jar should be a standalone executable independent of the project directory, it should be portable. Isn&#39;t that how it should be? So, the executable jar is created from a project that has the directory structure that you pointed to, do I need to also copy that whole structure to the other machine?","body":"Those are the project directories, I do have that structure, but once the executable jar is created what do those matter? The executable jar should be a standalone executable independent of the project directory, it should be portable. Isn&#39;t that how it should be? So, the executable jar is created from a project that has the directory structure that you pointed to, do I need to also copy that whole structure to the other machine?"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1632920855,"post_id":69375957,"comment_id":122623156,"body_markdown":"Maven is based on conventions (which includes the directory layout).. and no you don&#39;t have that layout... Is the shows directory inside your target directory. please complete the information otherwise it&#39;s not possible to help...","body":"Maven is based on conventions (which includes the directory layout).. and no you don&#39;t have that layout... Is the shows directory inside your target directory. please complete the information otherwise it&#39;s not possible to help..."},{"owner":{"account_id":18095443,"reputation":305,"user_id":13153841,"display_name":"danield"},"score":0,"creation_date":1632921304,"post_id":69375957,"comment_id":122623361,"body_markdown":"I have added the project directory structure.","body":"I have added the project directory structure."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1632922385,"post_id":69375957,"comment_id":122623894,"body_markdown":"If you want to run your jar file you have to use the original `hello-openjdk-0.0.1-SNAPSHOT.jar` via `java -jar hello-openjdk-0.0.1-SNAPSHOT.jar`. What I don&#39;t understand is the `Directory layout when I try to run the app:...` ? How and why do you build that? That&#39;s spring boot application which contains everything in the jar file ???","body":"If you want to run your jar file you have to use the original <code>hello-openjdk-0.0.1-SNAPSHOT.jar</code> via <code>java -jar hello-openjdk-0.0.1-SNAPSHOT.jar</code>. What I don&#39;t understand is the <code>Directory layout when I try to run the app:...</code> ? How and why do you build that? That&#39;s spring boot application which contains everything in the jar file ???"},{"owner":{"account_id":18095443,"reputation":305,"user_id":13153841,"display_name":"danield"},"score":0,"creation_date":1632933112,"post_id":69375957,"comment_id":122629305,"body_markdown":"So, the `app.jar` file in the first directory layout is the same as the `hello-openjdk-0.0.1-SNAPSHOT.jar`. I just renamed it. The jar I build with `mvn clean package`. I want to take that jar and run it on another machine so that `Directory layout when I try to run the app` is the layout on that machine which only contain the JDK (that you can see in the layout) and the jar.","body":"So, the <code>app.jar</code> file in the first directory layout is the same as the <code>hello-openjdk-0.0.1-SNAPSHOT.jar</code>. I just renamed it. The jar I build with <code>mvn clean package</code>. I want to take that jar and run it on another machine so that <code>Directory layout when I try to run the app</code> is the layout on that machine which only contain the JDK (that you can see in the layout) and the jar."},{"owner":{"account_id":18095443,"reputation":305,"user_id":13153841,"display_name":"danield"},"score":0,"creation_date":1632933183,"post_id":69375957,"comment_id":122629349,"body_markdown":"`java  -jar hello-openjdk-0.0.1-SNAPSHOT.jar` works fine on the machine I generate it even if I change the directory. But when I try to run it on another machine I get that error.","body":"<code>java  -jar hello-openjdk-0.0.1-SNAPSHOT.jar</code> works fine on the machine I generate it even if I change the directory. But when I try to run it on another machine I get that error."}],"owner":{"account_id":18095443,"reputation":305,"user_id":13153841,"display_name":"danield"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":749,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1632933240,"creation_date":1632916794,"question_id":69375957,"body_markdown":"Context: I have two systems, one which has a custom kernel and one with a normal Ubuntu 20.04 distribution. The end goal is to try and run Java on the custom kernel. Until now I have managed to run a simple HelloWorld class. The next step I am trying is to build a simple HelloWorld spring boot app and to try and run it. On both systems, I have the same OpenJDK version (`openjdk 18-internal 2022-03-15`).\r\n\r\nSo, what I have been trying: I have an IntelliJ project on my Ubuntu machine, with Spring Boot and Maven. I package this application as an executable jar with `mvn clean package`. The resulting `.jar` works fine on this machine. I then move the `.jar` file to the custom kernel machine, it starts running, but at some point I get this error:\r\n\r\n```\r\nError getting resources from path\r\nReported exception:\r\nCaused by: java.nio.file.FileSystemException: modules/java.rmi/META-INF/services/ch.qos.logback.classic.spi.Configurator: No such file\r\n\tat java.base/sun.nio.fs.UnixException.translateToIOException(UnixException.java:100)\r\n```\r\n\r\nI checked the `OpenJDK` file structure on both machines and it is the same. (I have not found that exact META-INF folder even on the Ubuntu machine)\r\n\r\nMy question is what exactly is that `META-INF` folder inside the `modules` jdk folder and when or how exactly it gets created. Shouldn&#39;t the `.jar` file contain everything it need to run? \r\n\r\nSome additional info:\r\n\r\nIf I unpack the generated `.jar` file I get a `META-INF` and a `BOOT-INF` folder but the path does not correspond. The `pom.xml` file I used looks like this:\r\n\r\n```&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.5.5&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;hello-openjdk&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    &lt;name&gt;hello-openjdk&lt;/name&gt;\r\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;11&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nEdit:\r\n\r\nDirectory layout when I try to run the app:\r\n\r\n```\r\n├── hello-openjdk-0.0.1-SNAPSHOT.jar\r\n├── bin\r\n├── conf\r\n├── include\r\n├── lib\r\n├── man\r\n├── modules\r\n├── _optimize_image_exec.cmdline\r\n├── _optimize_image_exec.log\r\n├── _optimize_image_exec.marker\r\n└── release\r\n```\r\n\r\nOpenJDK `jdk` folder + `app.jar` file\r\n\r\nDirectory layout of the project from which the jar gets created:\r\n\r\n```\r\n├── hello-openjdk.iml\r\n├── HELP.md\r\n├── mvnw\r\n├── mvnw.cmd\r\n├── pom.xml\r\n├── src\r\n│&#160;&#160; ├── main\r\n│&#160;&#160; │&#160;&#160; ├── java\r\n│&#160;&#160; │&#160;&#160; └── resources\r\n│&#160;&#160; └── test\r\n│&#160;&#160;     └── java\r\n└── target\r\n    ├── BOOT-INF\r\n    │&#160;&#160; ├── classes\r\n    │&#160;&#160; ├── classpath.idx\r\n    │&#160;&#160; ├── layers.idx\r\n    │&#160;&#160; └── lib\r\n    ├── classes\r\n    │&#160;&#160; ├── application.properties\r\n    │&#160;&#160; └── com\r\n    ├── generated-sources\r\n    │&#160;&#160; └── annotations\r\n    ├── generated-test-sources\r\n    │&#160;&#160; └── test-annotations\r\n    ├── hello-openjdk-0.0.1-SNAPSHOT.jar\r\n    ├── hello-openjdk-0.0.1-SNAPSHOT.jar.original\r\n    ├── maven-archiver\r\n    │&#160;&#160; └── pom.properties\r\n    ├── maven-status\r\n    │&#160;&#160; └── maven-compiler-plugin\r\n    ├── META-INF\r\n    │&#160;&#160; ├── MANIFEST.MF\r\n    │&#160;&#160; └── maven\r\n    ├── org\r\n    │&#160;&#160; └── springframework\r\n    ├── surefire-reports\r\n    │&#160;&#160; ├── com.example.helloopenjdk.HelloOpenjdkApplicationTests.txt\r\n    │&#160;&#160; └── TEST-com.example.helloopenjdk.HelloOpenjdkApplicationTests.xml\r\n    └── test-classes\r\n        └── com\r\n\r\n```\r\n\r\n`BOOT-INF` and `META-INF` are extracted from the `.jar` file. So, if I want to run the `hello-openjdk-0.0.1-SNAPSHOT.jar` on another machine with the same Java version, what do I have to copy?\r\n\r\n","title":"META-INF folder missing from the module subfolder when trying to run an executable JAR","body":"<p>Context: I have two systems, one which has a custom kernel and one with a normal Ubuntu 20.04 distribution. The end goal is to try and run Java on the custom kernel. Until now I have managed to run a simple HelloWorld class. The next step I am trying is to build a simple HelloWorld spring boot app and to try and run it. On both systems, I have the same OpenJDK version (<code>openjdk 18-internal 2022-03-15</code>).</p>\n<p>So, what I have been trying: I have an IntelliJ project on my Ubuntu machine, with Spring Boot and Maven. I package this application as an executable jar with <code>mvn clean package</code>. The resulting <code>.jar</code> works fine on this machine. I then move the <code>.jar</code> file to the custom kernel machine, it starts running, but at some point I get this error:</p>\n<pre><code>Error getting resources from path\nReported exception:\nCaused by: java.nio.file.FileSystemException: modules/java.rmi/META-INF/services/ch.qos.logback.classic.spi.Configurator: No such file\n    at java.base/sun.nio.fs.UnixException.translateToIOException(UnixException.java:100)\n</code></pre>\n<p>I checked the <code>OpenJDK</code> file structure on both machines and it is the same. (I have not found that exact META-INF folder even on the Ubuntu machine)</p>\n<p>My question is what exactly is that <code>META-INF</code> folder inside the <code>modules</code> jdk folder and when or how exactly it gets created. Shouldn't the <code>.jar</code> file contain everything it need to run?</p>\n<p>Some additional info:</p>\n<p>If I unpack the generated <code>.jar</code> file I get a <code>META-INF</code> and a <code>BOOT-INF</code> folder but the path does not correspond. The <code>pom.xml</code> file I used looks like this:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.5.5&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;hello-openjdk&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;name&gt;hello-openjdk&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Edit:</p>\n<p>Directory layout when I try to run the app:</p>\n<pre><code>├── hello-openjdk-0.0.1-SNAPSHOT.jar\n├── bin\n├── conf\n├── include\n├── lib\n├── man\n├── modules\n├── _optimize_image_exec.cmdline\n├── _optimize_image_exec.log\n├── _optimize_image_exec.marker\n└── release\n</code></pre>\n<p>OpenJDK <code>jdk</code> folder + <code>app.jar</code> file</p>\n<p>Directory layout of the project from which the jar gets created:</p>\n<pre><code>├── hello-openjdk.iml\n├── HELP.md\n├── mvnw\n├── mvnw.cmd\n├── pom.xml\n├── src\n│   ├── main\n│   │   ├── java\n│   │   └── resources\n│   └── test\n│       └── java\n└── target\n    ├── BOOT-INF\n    │   ├── classes\n    │   ├── classpath.idx\n    │   ├── layers.idx\n    │   └── lib\n    ├── classes\n    │   ├── application.properties\n    │   └── com\n    ├── generated-sources\n    │   └── annotations\n    ├── generated-test-sources\n    │   └── test-annotations\n    ├── hello-openjdk-0.0.1-SNAPSHOT.jar\n    ├── hello-openjdk-0.0.1-SNAPSHOT.jar.original\n    ├── maven-archiver\n    │   └── pom.properties\n    ├── maven-status\n    │   └── maven-compiler-plugin\n    ├── META-INF\n    │   ├── MANIFEST.MF\n    │   └── maven\n    ├── org\n    │   └── springframework\n    ├── surefire-reports\n    │   ├── com.example.helloopenjdk.HelloOpenjdkApplicationTests.txt\n    │   └── TEST-com.example.helloopenjdk.HelloOpenjdkApplicationTests.xml\n    └── test-classes\n        └── com\n\n</code></pre>\n<p><code>BOOT-INF</code> and <code>META-INF</code> are extracted from the <code>.jar</code> file. So, if I want to run the <code>hello-openjdk-0.0.1-SNAPSHOT.jar</code> on another machine with the same Java version, what do I have to copy?</p>\n"},{"tags":["java","garbage-collection","garbage","g1gc"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1632986933,"post_id":69379494,"comment_id":122642436,"body_markdown":"The developers spent a lot of efforts at avoiding Full GC as much as possible. Why aren’t you happy with their success? What problem do you want to solve?","body":"The developers spent a lot of efforts at avoiding Full GC as much as possible. Why aren’t you happy with their success? What problem do you want to solve?"},{"owner":{"account_id":2332713,"reputation":319,"user_id":2045688,"accept_rate":0,"display_name":"Vijay Kumar Chauhan"},"score":0,"creation_date":1633008979,"post_id":69379494,"comment_id":122651670,"body_markdown":"The gap was in my understanding that Full GC is/should be avoided as much as possible.\nI was trying to understand GC logs but could see a single Full GC reference and that made me curious. \nThanks","body":"The gap was in my understanding that Full GC is/should be avoided as much as possible. I was trying to understand GC logs but could see a single Full GC reference and that made me curious.  Thanks"},{"owner":{"account_id":10716734,"reputation":243,"user_id":7887075,"display_name":"Amol Kshirsagar"},"score":0,"creation_date":1665349205,"post_id":69379494,"comment_id":130673799,"body_markdown":"Hey @VijayKumarChauhan, so what conclusion did you come up with for this.We are facing the same issue where our memory consumption does not come down after reaching 80% .But when we do a inspectHeap , an full GC is triggerred and memory is cleaned up","body":"Hey @VijayKumarChauhan, so what conclusion did you come up with for this.We are facing the same issue where our memory consumption does not come down after reaching 80% .But when we do a inspectHeap , an full GC is triggerred and memory is cleaned up"}],"answers":[{"tags":[],"owner":{"account_id":8197608,"reputation":822,"user_id":6169894,"display_name":"AminM"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632933148,"creation_date":1632932235,"answer_id":69380074,"question_id":69379494,"body_markdown":"A full GC is will be triggered when your objects become long lived (ie. are promoted from the young generations to the old). And then it will be triggered only if there is a need to because of memory pressure.\r\n\r\nSo what you would need to do is store a lot of objects in a long lived structure like a HashMap. A **huge** HashMap. Then let it sit for a long time and then attempt to allocate large objects. \r\n\r\nAlso, most GC algorithms try to avoid Full GC as much as possible. So using an older algorithm like ConcurrentMarkAndSweep may make it easier to trigger. Getting it to happen with the G1 collector is in theory possible but won&#39;t be easy.\r\n\r\nFor the G1 collector allocating many objects that survive collections and then trying to allocate very large objects may trigger it. But it isn&#39;t going to be easy.\r\n\r\nI&#39;ve seen them in the wild with a huge heap. It&#39;s probably easier to reproduce with 16+ GB of RAM than with a small heap (I see you are using 20 GB which is good).","title":"Full GC is not kicking in for G1 GC in Java 11. What could be the reasons?","body":"<p>A full GC is will be triggered when your objects become long lived (ie. are promoted from the young generations to the old). And then it will be triggered only if there is a need to because of memory pressure.</p>\n<p>So what you would need to do is store a lot of objects in a long lived structure like a HashMap. A <strong>huge</strong> HashMap. Then let it sit for a long time and then attempt to allocate large objects.</p>\n<p>Also, most GC algorithms try to avoid Full GC as much as possible. So using an older algorithm like ConcurrentMarkAndSweep may make it easier to trigger. Getting it to happen with the G1 collector is in theory possible but won't be easy.</p>\n<p>For the G1 collector allocating many objects that survive collections and then trying to allocate very large objects may trigger it. But it isn't going to be easy.</p>\n<p>I've seen them in the wild with a huge heap. It's probably easier to reproduce with 16+ GB of RAM than with a small heap (I see you are using 20 GB which is good).</p>\n"}],"owner":{"account_id":2332713,"reputation":319,"user_id":2045688,"accept_rate":0,"display_name":"Vijay Kumar Chauhan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2028,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632933148,"creation_date":1632929966,"question_id":69379494,"body_markdown":"The JVM arguments are as follows: \r\n-Xms20g -Xmx20g -XX:MaxGCPauseMillis=10000 -XX:G1ReservePercent=30 -Duser.timezone=UTC \r\n\r\nThe only thing in logs are \r\n\r\n - Pause Young (Normal) (G1 Evacuation Pause)\r\n   \r\n   Pause Remark \r\n   \r\n   Pause Young (Prepare Mixed) (G1 Evacuation Pause)\r\n   \r\n   Pause Young (Mixed) (G1 Evacuation Pause)\r\n   \r\n   Pause Young (Concurrent Start)\r\n\r\n....\r\n\r\n\r\nBut nothing like Full GC. Not even once.\r\n\r\nMemory usage is above 65 percent.\r\n\r\nAt what levels of memory consumption can we expect a Full GC ? ","title":"Full GC is not kicking in for G1 GC in Java 11. What could be the reasons?","body":"<p>The JVM arguments are as follows:\n-Xms20g -Xmx20g -XX:MaxGCPauseMillis=10000 -XX:G1ReservePercent=30 -Duser.timezone=UTC</p>\n<p>The only thing in logs are</p>\n<ul>\n<li><p>Pause Young (Normal) (G1 Evacuation Pause)</p>\n<p>Pause Remark</p>\n<p>Pause Young (Prepare Mixed) (G1 Evacuation Pause)</p>\n<p>Pause Young (Mixed) (G1 Evacuation Pause)</p>\n<p>Pause Young (Concurrent Start)</p>\n</li>\n</ul>\n<p>....</p>\n<p>But nothing like Full GC. Not even once.</p>\n<p>Memory usage is above 65 percent.</p>\n<p>At what levels of memory consumption can we expect a Full GC ?</p>\n"},{"tags":["java","spring","spring-boot","postconstruct"],"comments":[{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1632857067,"post_id":69367425,"comment_id":122606118,"body_markdown":"`my.property.name` is not set. It is as simple as that imo.","body":"<code>my.property.name</code> is not set. It is as simple as that imo."},{"owner":{"account_id":8903518,"reputation":488,"user_id":8383744,"accept_rate":75,"display_name":"Beez"},"score":0,"creation_date":1632857139,"post_id":69367425,"comment_id":122606133,"body_markdown":"@Antoniossss it is set in my application.yml","body":"@Antoniossss it is set in my application.yml"},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1632857168,"post_id":69367425,"comment_id":122606141,"body_markdown":"Maybe you have typed it there, but that does not mean it is read into the context, nor that you did it correctly.","body":"Maybe you have typed it there, but that does not mean it is read into the context, nor that you did it correctly."},{"owner":{"account_id":8903518,"reputation":488,"user_id":8383744,"accept_rate":75,"display_name":"Beez"},"score":0,"creation_date":1632857328,"post_id":69367425,"comment_id":122606200,"body_markdown":"I edited and added into question @Antoniossss -- The thing is PostConstruct is ran before Value variable is instantiated.","body":"I edited and added into question @Antoniossss -- The thing is PostConstruct is ran before Value variable is instantiated."},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1632859246,"post_id":69367425,"comment_id":122606857,"body_markdown":"No, it is not .","body":"No, it is not ."},{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":0,"creation_date":1632873439,"post_id":69367425,"comment_id":122610114,"body_markdown":"Can you please include the whole class and not only a snippet? Thanks!","body":"Can you please include the whole class and not only a snippet? Thanks!"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1632895128,"post_id":69367425,"comment_id":122612553,"body_markdown":"It cannot be `null`. If it would not resolve the value the application wouldn&#39;t even start, you would get an error telling you that a value for property `my.property.name` wasn&#39;t found. You don&#39;t get that error so you are either not using Spring to instantiate it (doing it yourself) or doing something weird in your application. At least you aren&#39;t showing all the code which makes me wonder if this is the code at all. Also is the field `null` (which I doubt) or are you not getting resources? Also if those are somewhere on the file system loading them with `classpath:` will simply not work.","body":"It cannot be <code>null</code>. If it would not resolve the value the application wouldn&#39;t even start, you would get an error telling you that a value for property <code>my.property.name</code> wasn&#39;t found. You don&#39;t get that error so you are either not using Spring to instantiate it (doing it yourself) or doing something weird in your application. At least you aren&#39;t showing all the code which makes me wonder if this is the code at all. Also is the field <code>null</code> (which I doubt) or are you not getting resources? Also if those are somewhere on the file system loading them with <code>classpath:</code> will simply not work."},{"owner":{"account_id":22514761,"reputation":1572,"user_id":16709163,"display_name":"ray"},"score":0,"creation_date":1632927563,"post_id":69367425,"comment_id":122626609,"body_markdown":"Please provide your full class code. In your code I don&#39;t where you used `directoryPath` parameter!","body":"Please provide your full class code. In your code I don&#39;t where you used <code>directoryPath</code> parameter!"},{"owner":{"account_id":17019087,"reputation":736,"user_id":12312156,"display_name":"Faramarz Afzali"},"score":1,"creation_date":1632938427,"post_id":69367425,"comment_id":122631417,"body_markdown":"Did you annotate your class with `@Component` or `@Service` or etc? Because it should be registered as the bean in the spring context.","body":"Did you annotate your class with <code>@Component</code> or <code>@Service</code> or etc? Because it should be registered as the bean in the spring context."},{"owner":{"account_id":8903518,"reputation":488,"user_id":8383744,"accept_rate":75,"display_name":"Beez"},"score":0,"creation_date":1632951815,"post_id":69367425,"comment_id":122635649,"body_markdown":"@FaramarzAfzali Posting fix now","body":"@FaramarzAfzali Posting fix now"}],"answers":[{"tags":[],"owner":{"account_id":21836193,"reputation":16,"user_id":16130408,"display_name":"Robatortas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632895081,"creation_date":1632895081,"answer_id":69371105,"question_id":69367425,"body_markdown":"Probably you wrote the YML path incorrectly.\r\n\r\nTry writing the resolver.getResources(&quot;classpath*:/&quot; + DIRECTORY_PATH + &quot;*.yml&quot;); line written directly, to check if the path you made is incorrect.\r\n\r\nMaybe even the Java Build path isn&#39;t assigned to the correct directory where the YML is placed.\r\n\r\n&gt; This is the res folder in one of my projects, which is in the Java\r\n&gt; Build Path\r\n\r\n[![This is the res folder in one of my projects, which is in the Java Buil Path][1]][1]\r\n\r\nThose are my guesses, and apologies if im incorrect.\r\n\r\nHave a nice day!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yjT97.png","title":"@Value is Null while using @PostConstruct","body":"<p>Probably you wrote the YML path incorrectly.</p>\n<p>Try writing the resolver.getResources(&quot;classpath*:/&quot; + DIRECTORY_PATH + &quot;*.yml&quot;); line written directly, to check if the path you made is incorrect.</p>\n<p>Maybe even the Java Build path isn't assigned to the correct directory where the YML is placed.</p>\n<blockquote>\n<p>This is the res folder in one of my projects, which is in the Java\nBuild Path</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/yjT97.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yjT97.png\" alt=\"This is the res folder in one of my projects, which is in the Java Buil Path\" /></a></p>\n<p>Those are my guesses, and apologies if im incorrect.</p>\n<p>Have a nice day!</p>\n"},{"tags":[],"owner":{"account_id":12447383,"reputation":11,"user_id":16032053,"display_name":"Paulo Franklim"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632932556,"creation_date":1632924758,"answer_id":69378074,"question_id":69367425,"body_markdown":"The class you are defining the property you are going to read from your properties should contain @Component for Spring to prepare the variable first before executing @PostContruct\r\n\r\n \r\n\r\n    import javax.annotation.PostConstruct;\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    @Component\r\n    public class TestProp {\r\n        \r\n        @Value(&quot;${my.prop.test}&quot;)\r\n        private String prop;\r\n    \r\n        @PostConstruct\r\n        public void postConstructMethod() {\r\n    \t\r\n    \tSystem.out.println(&quot;prop= &quot; + prop);\r\n        }\r\n    }\r\n\r\n[Eclipse sysout][1]\r\n\r\n  [1]: https://i.stack.imgur.com/EOUkn.png\r\n\r\n","title":"@Value is Null while using @PostConstruct","body":"<p>The class you are defining the property you are going to read from your properties should contain @Component for Spring to prepare the variable first before executing @PostContruct</p>\n<pre><code>import javax.annotation.PostConstruct;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class TestProp {\n    \n    @Value(&quot;${my.prop.test}&quot;)\n    private String prop;\n\n    @PostConstruct\n    public void postConstructMethod() {\n    \n    System.out.println(&quot;prop= &quot; + prop);\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/EOUkn.png\" rel=\"nofollow noreferrer\">Eclipse sysout</a></p>\n"}],"owner":{"account_id":8903518,"reputation":488,"user_id":8383744,"accept_rate":75,"display_name":"Beez"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3044,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1632932556,"creation_date":1632856909,"question_id":69367425,"body_markdown":"I am trying to load YML files from a config package, but whenever I use the @Value(&quot;${..}&quot;) annotation it is null during the @PostConstruct method causing a Null Pointer. I need the @PostConstruct to load all files at once.\r\n\r\n      @Value(&quot;${my.property.name}&quot;)\r\n      private String directoryPath;\r\n    \r\n      private Map&lt;String, Map&lt;String, List&lt;String&gt;&gt;&gt; entityFiles = new HashMap&lt;&gt;();\r\n      private List&lt;String&gt; fieldsToEnrichByPE = new ArrayList&lt;&gt;();\r\n    \r\n      @PostConstruct\r\n      public void getFieldsToEnrich() throws IOException {\r\n        ClassLoader cl = this.getClass().getClassLoader();\r\n        ResourcePatternResolver resolver = new PathMatchingResourcePatternResolver(cl);\r\n        Resource[] resources = resolver.getResources(&quot;classpath*:/&quot; + DIRECTORY_PATH + &quot;*.yml&quot;); // RESOURCES IS NULL\r\n        ObjectMapper mapper = new ObjectMapper(new YAMLFactory());\r\n        for (Resource resource : resources) { // THROWS NULL POINTER BECAUSE RESOURCES NEVER GETS POPULATED, DIRECTORY PATH IS NOT GETTING INSTANTIATED\r\n          File ymlFile = resource.getFile();\r\n          entityFiles.put(ymlFile.getName().replace(&quot;.yml&quot;, &quot;&quot;), mapper.readValue(ymlFile, Map.class));\r\n        }\r\n      }\r\n\r\nAny thoughts on how to alleviate this problem? \r\n\r\nHardcoding directoryPath worked, but if it is hardcoded I am unable to use my test configuration files, as directoryPath is hardcoded to the main resources folder not the test resources folder.\r\n\r\nYML File: \r\n\r\n\r\n    my:\r\n      property:\r\n        name: a/b/c/","title":"@Value is Null while using @PostConstruct","body":"<p>I am trying to load YML files from a config package, but whenever I use the @Value(&quot;${..}&quot;) annotation it is null during the @PostConstruct method causing a Null Pointer. I need the @PostConstruct to load all files at once.</p>\n<pre><code>  @Value(&quot;${my.property.name}&quot;)\n  private String directoryPath;\n\n  private Map&lt;String, Map&lt;String, List&lt;String&gt;&gt;&gt; entityFiles = new HashMap&lt;&gt;();\n  private List&lt;String&gt; fieldsToEnrichByPE = new ArrayList&lt;&gt;();\n\n  @PostConstruct\n  public void getFieldsToEnrich() throws IOException {\n    ClassLoader cl = this.getClass().getClassLoader();\n    ResourcePatternResolver resolver = new PathMatchingResourcePatternResolver(cl);\n    Resource[] resources = resolver.getResources(&quot;classpath*:/&quot; + DIRECTORY_PATH + &quot;*.yml&quot;); // RESOURCES IS NULL\n    ObjectMapper mapper = new ObjectMapper(new YAMLFactory());\n    for (Resource resource : resources) { // THROWS NULL POINTER BECAUSE RESOURCES NEVER GETS POPULATED, DIRECTORY PATH IS NOT GETTING INSTANTIATED\n      File ymlFile = resource.getFile();\n      entityFiles.put(ymlFile.getName().replace(&quot;.yml&quot;, &quot;&quot;), mapper.readValue(ymlFile, Map.class));\n    }\n  }\n</code></pre>\n<p>Any thoughts on how to alleviate this problem?</p>\n<p>Hardcoding directoryPath worked, but if it is hardcoded I am unable to use my test configuration files, as directoryPath is hardcoded to the main resources folder not the test resources folder.</p>\n<p>YML File:</p>\n<pre><code>my:\n  property:\n    name: a/b/c/\n</code></pre>\n"},{"tags":["java","string","format"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":2,"creation_date":1632931868,"post_id":69379894,"comment_id":122628706,"body_markdown":"&quot;A&quot; is repeatedly used for the second and third %. [Relative indexing](https://docs.oracle.com/javase/10/docs/api/java/util/Formatter.html)","body":"&quot;A&quot; is repeatedly used for the second and third %. <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Formatter.html\" rel=\"nofollow noreferrer\">Relative indexing</a>"}],"answers":[{"tags":[],"owner":{"account_id":6104455,"reputation":4456,"user_id":4762502,"accept_rate":73,"display_name":"Gaurav Jeswani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632932012,"creation_date":1632932012,"answer_id":69380021,"question_id":69379894,"body_markdown":"If you check the code from [Formatter][1] Class you will find:\r\n\r\nRelated description from the class documentation:\r\n\r\n&gt; Relative indexing is used when the format specifier contains a &#39;&lt;&#39; (&#39;\\u003c&#39;) flag which causes the argument for the previous format\r\n&gt; specifier to be re-used. If there is no previous argument, then a\r\n&gt; MissingFormatArgumentException is thrown.\r\n&gt;         formatter.format(&quot;%s %s %&lt;s %&lt;s&quot;, &quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;)\r\n&gt;         // -&gt; &quot;a b b b&quot;\r\n&gt;         // &quot;c&quot; and &quot;d&quot; are ignored because they are not referenced\r\n\r\n     \r\n\r\n**Code reference:**\r\n     \r\n    // indexing\r\n    static final Flags PREVIOUS = new Flags(1&lt;&lt;8);   // &#39;&lt;&#39;\r\n\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/10/docs/api/java/util/Formatter.html","title":"What is this %&lt;s called?","body":"<p>If you check the code from <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Formatter.html\" rel=\"nofollow noreferrer\">Formatter</a> Class you will find:</p>\n<p>Related description from the class documentation:</p>\n<blockquote>\n<p>Relative indexing is used when the format specifier contains a '&lt;' ('\\u003c') flag which causes the argument for the previous format\nspecifier to be re-used. If there is no previous argument, then a\nMissingFormatArgumentException is thrown.\nformatter.format(&quot;%s %s %&lt;s %&lt;s&quot;, &quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;)\n// -&gt; &quot;a b b b&quot;\n// &quot;c&quot; and &quot;d&quot; are ignored because they are not referenced</p>\n</blockquote>\n<p><strong>Code reference:</strong></p>\n<pre><code>// indexing\nstatic final Flags PREVIOUS = new Flags(1&lt;&lt;8);   // '&lt;'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9903590,"reputation":175,"user_id":7332807,"display_name":"Charles Inwald"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1632932114,"creation_date":1632932114,"answer_id":69380042,"question_id":69379894,"body_markdown":"They are called format specifiers.  Here you are using relative indexing.\r\n\r\nFrom the [Java documentation][1]:\r\n\r\n**Relative indexing is used when the format specifier contains a &#39;&lt;&#39;** (&#39;\\u003c&#39;) flag which causes the argument for the previous format specifier to be re-used. If there is no previous argument, then a MissingFormatArgumentException is thrown.\r\n\r\n    formatter.format(&quot;%s %s %&lt;s %&lt;s&quot;, &quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;)\r\n    // -&gt; &quot;a b b b&quot;\r\n    // &quot;c&quot; and &quot;d&quot; are ignored because they are not referenced\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/Formatter.html","title":"What is this %&lt;s called?","body":"<p>They are called format specifiers.  Here you are using relative indexing.</p>\n<p>From the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Formatter.html\" rel=\"noreferrer\">Java documentation</a>:</p>\n<p><strong>Relative indexing is used when the format specifier contains a '&lt;'</strong> ('\\u003c') flag which causes the argument for the previous format specifier to be re-used. If there is no previous argument, then a MissingFormatArgumentException is thrown.</p>\n<pre><code>formatter.format(&quot;%s %s %&lt;s %&lt;s&quot;, &quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;)\n// -&gt; &quot;a b b b&quot;\n// &quot;c&quot; and &quot;d&quot; are ignored because they are not referenced\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1632932270,"creation_date":1632932270,"answer_id":69380082,"question_id":69379894,"body_markdown":"`%&lt;s` is still a &quot;format specifier&quot;, just like `%s`, except that `%&lt;s` has `&lt;` in its &quot;argument index&quot; position. Note that a format specifier in general has a syntax like this:\r\n\r\n    %[argument_index$][flags][width][.precision]conversion\r\n\r\nand the it is allowed to use `&lt;` as the `argument_index` part ([documentation][1]):\r\n\r\n&gt; **Argument Index**\r\n&gt;\r\n&gt; [...] \r\n&gt;\r\n&gt; Another way to reference arguments by position is to use the &#39;&lt;&#39;\r\n&gt; (&#39;\\u003c&#39;) flag, which causes the argument for the previous format\r\n&gt; specifier to be re-used.\r\n\r\nThe documentation doesn&#39;t call the `&lt;` part a special name either, just &quot;the &#39;&lt;&#39; flag&quot;.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Formatter.html#syntax","title":"What is this %&lt;s called?","body":"<p><code>%&lt;s</code> is still a &quot;format specifier&quot;, just like <code>%s</code>, except that <code>%&lt;s</code> has <code>&lt;</code> in its &quot;argument index&quot; position. Note that a format specifier in general has a syntax like this:</p>\n<pre><code>%[argument_index$][flags][width][.precision]conversion\n</code></pre>\n<p>and the it is allowed to use <code>&lt;</code> as the <code>argument_index</code> part (<a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Formatter.html#syntax\" rel=\"nofollow noreferrer\">documentation</a>):</p>\n<blockquote>\n<p><strong>Argument Index</strong></p>\n<p>[...]</p>\n<p>Another way to reference arguments by position is to use the '&lt;'\n('\\u003c') flag, which causes the argument for the previous format\nspecifier to be re-used.</p>\n</blockquote>\n<p>The documentation doesn't call the <code>&lt;</code> part a special name either, just &quot;the '&lt;' flag&quot;.</p>\n"},{"tags":[],"owner":{"account_id":12797889,"reputation":1500,"user_id":9260161,"display_name":"Philip Wrage"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632932349,"creation_date":1632932349,"answer_id":69380104,"question_id":69379894,"body_markdown":"The `&lt;` flag is a relative argument index.  \r\n\r\nConstructed as `%&lt;s`, it allows you to re-use the argument for the previous `%s` format specifier, in this case.\r\n\r\nYou can read more about it and other formatting flags here: [`java.util.Formatter`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Formatter.html)\r\n\r\nFrom the Javadoc:\r\n\r\n&gt; Relative indexing is used when the format specifier contains a &#39;&lt;&#39;\r\n&gt; (&#39;\\u003c&#39;) flag which causes the argument for the previous format\r\n&gt; specifier to be re-used. If there is no previous argument, then a\r\n&gt; MissingFormatArgumentException is thrown.","title":"What is this %&lt;s called?","body":"<p>The <code>&lt;</code> flag is a relative argument index.</p>\n<p>Constructed as <code>%&lt;s</code>, it allows you to re-use the argument for the previous <code>%s</code> format specifier, in this case.</p>\n<p>You can read more about it and other formatting flags here: <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Formatter.html\" rel=\"nofollow noreferrer\"><code>java.util.Formatter</code></a></p>\n<p>From the Javadoc:</p>\n<blockquote>\n<p>Relative indexing is used when the format specifier contains a '&lt;'\n('\\u003c') flag which causes the argument for the previous format\nspecifier to be re-used. If there is no previous argument, then a\nMissingFormatArgumentException is thrown.</p>\n</blockquote>\n"}],"owner":{"account_id":12366930,"reputation":769,"user_id":9018573,"accept_rate":43,"display_name":"AKJ"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":591,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":69380082,"answer_count":4,"score":0,"last_activity_date":1632932349,"creation_date":1632931507,"question_id":69379894,"body_markdown":"I have recently come across this following string: &quot;%&lt;s&quot;.\r\nI noticed that this has the following effect:\r\n\r\n    String sampleString = &quot;%s, %&lt;s %&lt;s&quot;;\r\n    String output = String.format(sampleString, &quot;A&quot;);\r\n    System.out.println(output); // A, A A.\r\n\r\nI tried to google what this %&lt;s is called, but to no avail. I know from the above code that I just need to input the format string once, and it will replace all instances of %s &amp; %&lt;s.\r\n\r\nJust curious what this name is called!","title":"What is this %&lt;s called?","body":"<p>I have recently come across this following string: &quot;%&lt;s&quot;.\nI noticed that this has the following effect:</p>\n<pre><code>String sampleString = &quot;%s, %&lt;s %&lt;s&quot;;\nString output = String.format(sampleString, &quot;A&quot;);\nSystem.out.println(output); // A, A A.\n</code></pre>\n<p>I tried to google what this %&lt;s is called, but to no avail. I know from the above code that I just need to input the format string once, and it will replace all instances of %s &amp; %&lt;s.</p>\n<p>Just curious what this name is called!</p>\n"},{"tags":["java","customization","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":18586978,"reputation":2220,"user_id":15000097,"display_name":"Georgii Lvov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1632932015,"creation_date":1632774319,"answer_id":69352851,"question_id":69346817,"body_markdown":"You can use mapstruct [`@AfterMapping`](https://mapstruct.org/documentation/stable/api/org/mapstruct/AfterMapping.html) annotation in existing mapper:\r\n\r\n    @Mapper\r\n    public interface AMapper {\r\n    \r\n        @Mapping(source = &quot;one&quot;, target = &quot;oneX&quot;)\r\n        @Mapping(source = &quot;two&quot;, target = &quot;twoX&quot;)\r\n        @Mapping(source = &quot;three&quot;, target = &quot;threeX&quot;)\r\n        @Mapping(target = &quot;alphaX&quot;, ignore = true)\r\n        @Mapping(target = &quot;betaX&quot;, ignore = true)\r\n        OutA inAToOutA(InA inA);\r\n    \r\n    \r\n        @AfterMapping\r\n        default void afterMappingInAtoOutA(@MappingTarget OutA outA, InA inA) {\r\n    \r\n            if (inA.getB() == null || inA.getB().getListOfC() == null) { // add some null cheсks\r\n                return;\r\n            }\r\n    \r\n            for (InC c : inA.getB().getListOfC()) {\r\n                switch (c.getKey()) {\r\n                    case &quot;alpha&quot;:\r\n                        outA.setAlphaX(c.getValue());\r\n                        break;\r\n                    case &quot;beta&quot;:\r\n                        outA.setBetaX(c.getValue());\r\n                        break;\r\n                    default:\r\n                        break;\r\n                }\r\n            }\r\n        }\r\n    }","title":"How to add custom mapping to an existing mapStruct mapper?","body":"<p>You can use mapstruct <a href=\"https://mapstruct.org/documentation/stable/api/org/mapstruct/AfterMapping.html\" rel=\"nofollow noreferrer\"><code>@AfterMapping</code></a> annotation in existing mapper:</p>\n<pre><code>@Mapper\npublic interface AMapper {\n\n    @Mapping(source = &quot;one&quot;, target = &quot;oneX&quot;)\n    @Mapping(source = &quot;two&quot;, target = &quot;twoX&quot;)\n    @Mapping(source = &quot;three&quot;, target = &quot;threeX&quot;)\n    @Mapping(target = &quot;alphaX&quot;, ignore = true)\n    @Mapping(target = &quot;betaX&quot;, ignore = true)\n    OutA inAToOutA(InA inA);\n\n\n    @AfterMapping\n    default void afterMappingInAtoOutA(@MappingTarget OutA outA, InA inA) {\n\n        if (inA.getB() == null || inA.getB().getListOfC() == null) { // add some null cheсks\n            return;\n        }\n\n        for (InC c : inA.getB().getListOfC()) {\n            switch (c.getKey()) {\n                case &quot;alpha&quot;:\n                    outA.setAlphaX(c.getValue());\n                    break;\n                case &quot;beta&quot;:\n                    outA.setBetaX(c.getValue());\n                    break;\n                default:\n                    break;\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":11039307,"reputation":7,"user_id":8107884,"display_name":"hiddenfeld"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1284,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69352851,"answer_count":1,"score":0,"last_activity_date":1632932015,"creation_date":1632746509,"question_id":69346817,"body_markdown":"So this colleague of mine created a simple mapper and I want to add some more features to it.\r\nI suspect mapStruct will not be able to automatically generate methods for it, so I believe I will have to write custom mapping logic. I want to map values that are nested inside the input object and saved in a key-value-pair structure to attributes of the output.\r\n\r\n 1. Am I correct in assuming that I need to write a custom mapper?\r\n 2. Can I attach my custom mapping logic to his existing streight forward mapper?\r\n 3. Or do I have to replace his mapper completely by the new custom mapper?\r\n\r\nHere is an example of the kind of structure at hand.\r\nHe implemented mapping for members one, two and three, I would like to add mapping for members alpha and beta.\r\n```\r\n@Mapper()\r\npublic interface AMapper {\r\n\t@Mapping(source = &quot;one&quot;, target = &quot;oneX&quot;)\r\n\t@Mapping(source = &quot;two&quot;, target = &quot;twoX&quot;)\r\n\t@Mapping(source = &quot;three&quot;, target = &quot;threeX&quot;)\r\n\tOutA inAToOutA(InA inA);\r\n}\r\n\r\nclass InA {\r\n\tString one;\r\n\tint two;\r\n\tlong three;\r\n\tInB b;\r\n}\r\n\r\nclass InB {\r\n\r\n\tList&lt;InC&gt; listOfC = new ArrayList&lt;&gt;();\r\n\t\r\n\tpublic InB() {\r\n\t\tlistOfC.add(new InC(&quot;alpha&quot;, &quot;AlphaContent&quot;));\r\n\t\tlistOfC.add(new InC(&quot;beta&quot;, &quot;BetaContent&quot;));\r\n\t}\r\n}\r\n\r\n\r\nclass InC {\r\n\tString key;\r\n\tString value;\r\n\t\r\n\tpublic InC(String key, String value) {\r\n\t\tthis.key = key;\r\n\t\tthis.value = value;\r\n\t}\r\n}\r\n\r\nclass OutA {\r\n\tString oneX;\r\n\tint twoX;\r\n\tlong threeX;\r\n\tString alphaX;\r\n\tString betaX;\r\n}\r\n```\r\n\r\nIn my mapStruct rooky mind a solution could look something like this,\r\nbut I&#39;d rather not have to rewrite all of his stuff, cause it&#39;s bigger than this example,\r\nthat&#39;s why I am asking for advice:\r\n```\r\n@Mapper()\r\npublic interface AMapper {\r\n\tdefault OutA getA(InA a) {\r\n\t\tif (a == null)\r\n\t\t\treturn null;\r\n\t\tOutA oa = new OutA();\r\n\t\toa.setOneX(a.getOne());\r\n\t\toa.setTwoX(a.getTwo());\r\n\t\toa.setThreeX(a.getThree());\r\n\t\tfor (InC c : a.getB().getListOfC()) {\r\n\t\t\tswitch (c.getKey()) {\r\n\t\t\t\tcase &quot;alpha&quot;:\r\n\t\t\t\t\toa.setAlphaX(c.getValue());\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase &quot;beta&quot;:\r\n\t\t\t\t\toa.setBetaX(c.getValue());\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn oa;\r\n\t}\r\n}\r\n```","title":"How to add custom mapping to an existing mapStruct mapper?","body":"<p>So this colleague of mine created a simple mapper and I want to add some more features to it.\nI suspect mapStruct will not be able to automatically generate methods for it, so I believe I will have to write custom mapping logic. I want to map values that are nested inside the input object and saved in a key-value-pair structure to attributes of the output.</p>\n<ol>\n<li>Am I correct in assuming that I need to write a custom mapper?</li>\n<li>Can I attach my custom mapping logic to his existing streight forward mapper?</li>\n<li>Or do I have to replace his mapper completely by the new custom mapper?</li>\n</ol>\n<p>Here is an example of the kind of structure at hand.\nHe implemented mapping for members one, two and three, I would like to add mapping for members alpha and beta.</p>\n<pre><code>@Mapper()\npublic interface AMapper {\n    @Mapping(source = &quot;one&quot;, target = &quot;oneX&quot;)\n    @Mapping(source = &quot;two&quot;, target = &quot;twoX&quot;)\n    @Mapping(source = &quot;three&quot;, target = &quot;threeX&quot;)\n    OutA inAToOutA(InA inA);\n}\n\nclass InA {\n    String one;\n    int two;\n    long three;\n    InB b;\n}\n\nclass InB {\n\n    List&lt;InC&gt; listOfC = new ArrayList&lt;&gt;();\n    \n    public InB() {\n        listOfC.add(new InC(&quot;alpha&quot;, &quot;AlphaContent&quot;));\n        listOfC.add(new InC(&quot;beta&quot;, &quot;BetaContent&quot;));\n    }\n}\n\n\nclass InC {\n    String key;\n    String value;\n    \n    public InC(String key, String value) {\n        this.key = key;\n        this.value = value;\n    }\n}\n\nclass OutA {\n    String oneX;\n    int twoX;\n    long threeX;\n    String alphaX;\n    String betaX;\n}\n</code></pre>\n<p>In my mapStruct rooky mind a solution could look something like this,\nbut I'd rather not have to rewrite all of his stuff, cause it's bigger than this example,\nthat's why I am asking for advice:</p>\n<pre><code>@Mapper()\npublic interface AMapper {\n    default OutA getA(InA a) {\n        if (a == null)\n            return null;\n        OutA oa = new OutA();\n        oa.setOneX(a.getOne());\n        oa.setTwoX(a.getTwo());\n        oa.setThreeX(a.getThree());\n        for (InC c : a.getB().getListOfC()) {\n            switch (c.getKey()) {\n                case &quot;alpha&quot;:\n                    oa.setAlphaX(c.getValue());\n                    break;\n                case &quot;beta&quot;:\n                    oa.setBetaX(c.getValue());\n                    break;\n                default:\n                    break;\n            }\n        }\n        return oa;\n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-fragments","android-mvvm"],"comments":[{"owner":{"account_id":15371378,"reputation":868,"user_id":11089307,"display_name":"Amirhosein Rostami"},"score":0,"creation_date":1632929054,"post_id":69374156,"comment_id":122627339,"body_markdown":"pls, provide more details.\nshare your viewModel and both fragments.\nI think it is not about the way you are loading the new fragment.","body":"pls, provide more details. share your viewModel and both fragments. I think it is not about the way you are loading the new fragment."},{"owner":{"account_id":22823753,"reputation":39,"user_id":16973300,"display_name":"DevAntho"},"score":0,"creation_date":1632929749,"post_id":69374156,"comment_id":122627687,"body_markdown":"What could be the problem? Isn&#39;t it independent from the other fragment and the ViewModel since the functionality is correct before switching fragments?","body":"What could be the problem? Isn&#39;t it independent from the other fragment and the ViewModel since the functionality is correct before switching fragments?"}],"answers":[{"tags":[],"owner":{"account_id":9453617,"reputation":1,"user_id":7029573,"display_name":"user7029573"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632931892,"creation_date":1632909839,"answer_id":69374268,"question_id":69374156,"body_markdown":"Try to set the value to null after \r\n```\r\nmViewModel.getDetails().removeObservers(getViewLifecycleOwner()).\r\nmViewModel.getDetails().setValue(null)\r\n```","title":"Using ViewModel to get Live Data in Android Fragment","body":"<p>Try to set the value to null after</p>\n<pre><code>mViewModel.getDetails().removeObservers(getViewLifecycleOwner()).\nmViewModel.getDetails().setValue(null)\n</code></pre>\n"}],"owner":{"account_id":22823753,"reputation":39,"user_id":16973300,"display_name":"DevAntho"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":276,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632931892,"creation_date":1632909375,"question_id":69374156,"body_markdown":"I need to observe livedata changes in a Modelview to update a fragment (Adding the list to a recyclerview).\r\n\r\nThe implementation is working correctly but facing problems when switching between fragments.\r\n\r\nIf the implementation is on `Fragment A` when the user switches to `Fragment B` and then back to `Fragment A` a second livedata observer gets initiated. (Data in recyclerview gets duplicated) and so on...\r\n\r\nI did some research on the Fragment Lifecycle and the need to remove the observer when moving between fragments (Either on Fragment Detach/Destroy) or before creating a new observer in the OnActivityCreated. But any of these worked.\r\n\r\nI am observing the livedata as: `mViewModel.getDetails().observe(getViewLifecycleOwner(), mObserver);`\r\n\r\nAnd tried to remove the observer as: `mViewModel.getDetails().removeObservers(getViewLifecycleOwner())` or  `mViewModel.getDetails().removeObservers(this)` or  `mViewModel.getDetails().removeObserver(mObserver)` tried in `OnViewCreated` and `onDestroyView` and `onDestory` and `onDetach`\r\n\r\nWhat is causing this and why removing the observer is not working?\r\n\r\n\r\nFYI:\r\n\r\nHere is the function i am using in the `MainActivity` to switch between fragments on navigation menu click\r\n\r\n    private boolean loadFragment(Fragment fragment) {\r\n        //switching fragment\r\n        if (fragment != null) {\r\n            getSupportFragmentManager()\r\n                    .beginTransaction()\r\n                    .replace(R.id.fragment_container, fragment)\r\n                    .commit();\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n","title":"Using ViewModel to get Live Data in Android Fragment","body":"<p>I need to observe livedata changes in a Modelview to update a fragment (Adding the list to a recyclerview).</p>\n<p>The implementation is working correctly but facing problems when switching between fragments.</p>\n<p>If the implementation is on <code>Fragment A</code> when the user switches to <code>Fragment B</code> and then back to <code>Fragment A</code> a second livedata observer gets initiated. (Data in recyclerview gets duplicated) and so on...</p>\n<p>I did some research on the Fragment Lifecycle and the need to remove the observer when moving between fragments (Either on Fragment Detach/Destroy) or before creating a new observer in the OnActivityCreated. But any of these worked.</p>\n<p>I am observing the livedata as: <code>mViewModel.getDetails().observe(getViewLifecycleOwner(), mObserver);</code></p>\n<p>And tried to remove the observer as: <code>mViewModel.getDetails().removeObservers(getViewLifecycleOwner())</code> or  <code>mViewModel.getDetails().removeObservers(this)</code> or  <code>mViewModel.getDetails().removeObserver(mObserver)</code> tried in <code>OnViewCreated</code> and <code>onDestroyView</code> and <code>onDestory</code> and <code>onDetach</code></p>\n<p>What is causing this and why removing the observer is not working?</p>\n<p>FYI:</p>\n<p>Here is the function i am using in the <code>MainActivity</code> to switch between fragments on navigation menu click</p>\n<pre><code>private boolean loadFragment(Fragment fragment) {\n    //switching fragment\n    if (fragment != null) {\n        getSupportFragmentManager()\n                .beginTransaction()\n                .replace(R.id.fragment_container, fragment)\n                .commit();\n        return true;\n    }\n    return false;\n}\n</code></pre>\n"},{"tags":["java","android","android-fragments","android-activity"],"answers":[{"tags":[],"owner":{"account_id":24216,"reputation":23448,"user_id":61479,"accept_rate":81,"display_name":"Ridcully"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583654523,"creation_date":1583509267,"answer_id":60567343,"question_id":60567140,"body_markdown":"Views save and restore (some) of there state in the course of saveInstanceState/restoreInstance cycle, but unfortunatrly the checked state (and also visibility etc) are not covered by that.\r\nSo you&#39;ll have implement onSaveInstanceState etc. for your fragment and save/restore the checked state yourself.\r\n\r\n**EDIT**\r\n\r\nFrom your question it is not apparent what view `switch` actually is so I cannot give you actual code. But have a look at the implementation of [CheckedTextView][1] and check out the implementation of `onSaveInstanceState()` and `onRestoreInstanceState()`. You&#39;ll see that they save and restore the checked state (it&#39;s quite a lot of code with the SavedState class but in the end it is pretty simple). What you need to do, is to implement those two methods for your custom view (also creating your own SavedState inner class) and save/restore the checked state of your switch view.\r\n\r\nA completely different and better approach would be to use a *ViewModel* for your fragment that holds the state, but that&#39;s a different story that would require lots of changes to your complete implementation.\r\n\r\n\r\n  [1]: https://android.googlesource.com/platform/frameworks/base/+/master/core/java/android/widget/CheckedTextView.java","title":"Only Switch.setChecked doesn&#39;t work when fragment is shown?","body":"<p>Views save and restore (some) of there state in the course of saveInstanceState/restoreInstance cycle, but unfortunatrly the checked state (and also visibility etc) are not covered by that.\nSo you'll have implement onSaveInstanceState etc. for your fragment and save/restore the checked state yourself.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>From your question it is not apparent what view <code>switch</code> actually is so I cannot give you actual code. But have a look at the implementation of <a href=\"https://android.googlesource.com/platform/frameworks/base/+/master/core/java/android/widget/CheckedTextView.java\" rel=\"nofollow noreferrer\">CheckedTextView</a> and check out the implementation of <code>onSaveInstanceState()</code> and <code>onRestoreInstanceState()</code>. You'll see that they save and restore the checked state (it's quite a lot of code with the SavedState class but in the end it is pretty simple). What you need to do, is to implement those two methods for your custom view (also creating your own SavedState inner class) and save/restore the checked state of your switch view.</p>\n\n<p>A completely different and better approach would be to use a <em>ViewModel</em> for your fragment that holds the state, but that's a different story that would require lots of changes to your complete implementation.</p>\n"},{"tags":[],"owner":{"account_id":13196680,"reputation":35,"user_id":9531267,"display_name":"Anonyme Player"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583513033,"creation_date":1583513033,"answer_id":60568300,"question_id":60567140,"body_markdown":"Update : \r\nApparently, \r\n\r\nif the fragment is being re-used and the onCreate() is called for the seconde time, (the reference for the fragment is being kept somewhere and fragment is being attached for a seconde time)\r\n**here the setChecked will not take an effect, only some other view updates**\r\n\r\n\r\nmeanwhile, it will only work if it&#39;s being called for the first time the fragment is being created,\r\n\r\nSolution : \r\n**updating the views in the OnResume() methode** \r\n\r\n\r\n\r\nIf someone has an explanation for this, \r\nplease go ahead","title":"Only Switch.setChecked doesn&#39;t work when fragment is shown?","body":"<p>Update : \nApparently, </p>\n\n<p>if the fragment is being re-used and the onCreate() is called for the seconde time, (the reference for the fragment is being kept somewhere and fragment is being attached for a seconde time)\n<strong>here the setChecked will not take an effect, only some other view updates</strong></p>\n\n<p>meanwhile, it will only work if it's being called for the first time the fragment is being created,</p>\n\n<p>Solution : \n<strong>updating the views in the OnResume() methode</strong> </p>\n\n<p>If someone has an explanation for this, \nplease go ahead</p>\n"}],"owner":{"account_id":13196680,"reputation":35,"user_id":9531267,"display_name":"Anonyme Player"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":288,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1632931773,"creation_date":1583508550,"question_id":60567140,"body_markdown":"I have an activity:\r\n\r\n```\r\npublic class MainActivity extends FragmentActivity\r\n{\r\n    private FragmentA a;\r\n    private FragmentB b;\r\n    private FragmentC c;\r\n    private HomeFragment mHomeFragment;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(@Nullable Bundle savedInstanceState)\r\n    {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.home_activity_layout);\r\n     FragmentTransaction transaction = getSupportFragmentManager().beginTransaction();\r\n\r\n        getSupportFragmentManager()\r\n                .beginTransaction()\r\n                .replace(R.id.fragment_container, mHomeFragment) // replace flContainer\r\n                .addToBackStack(null)\r\n                .commit();\r\n\r\n    ...\r\n    }\r\n\r\n```\r\nI use some lazy initializer, and I keep my object a, b, c and mHomeFragment inside my activity object,\r\n\r\nI have a button inside &#39;b&#39; that calls the MainActivity to call &#39;c&#39;\r\nand a button inside &#39;c&#39; that calls the MainActivity to call &#39;b&#39;\r\n\r\nand some other buttons to call &#39;a&#39; which is not that important\r\n\r\nWell now inside my FragmentB I have some custom views, \r\n\r\n```\r\n  public CustomView(Context cnx, SettingsViewElement e, FragmentA fragment)\r\n    {\r\n    super(cnx);\r\n    inflate(cnx, R.layout.my_layout,this);\r\n    parent = fragment; // I use it later in my onCheckedChangeListener to tell him the the switch has been checked \r\n    condition = parent.getCondition();\r\n\r\n    titleTv = this.findViewById(R.id.title_tv);\r\n    switch  = this.findViewById(R.id.switch);\r\n    if(condition){\r\n    switch.setChecked(true);\r\n    titleTv.setTitle(&quot;i am depressed af :(&quot;);\r\n\r\n    }\r\n   \r\n\r\n\r\n```\r\nmy question is : \r\n\r\n**why my switch doesn&#39;t turn checked even if my titleTv is updating the title ??** \r\n\r\nI did some tests and my OnCreated() is called each time I call replace() in my fragment transaction.\r\n\r\nmy fragment re-instantiate the views and then will add them to a linearLayout after inflating layout.\r\n\r\n**Also, if I don&#39;t keep my fragments reference in my MainActivity and then re-instantiate it every time.\r\nhere : the switch.setChecked will  work** , \r\nbut the backStack will be huge and dumb\r\n\r\nexample: stack = &#39;b&#39; -&gt; &#39;c&#39; -&gt; &#39;b&#39; -&gt; &#39;c&#39;  \r\nnormally when the user click twice return button he&#39;ll be back to homeFragment, it doesn&#39;t need to empty the stack by itself. \r\n\r\nand even if I override @onBackPressed() and re-instantiate the fragments each time hoping the android sdk will free the space.\r\n\r\nI will have to do it manually each time I want to add a new fragment in my design, it will be a a wheel re-invention.\r\n\r\nand : ***IT DOES NOT EXPLAIN WHY*** THE Switch.setChecked() doesn&#39;t work even if the condition is true and the other views are updating (textView is updating it&#39;s text)\r\n\r\n\r\n\r\n&gt; Update : Apparently,\r\n&gt; \r\n&gt; if the fragment is being re-used and the onCreate() is called for the\r\n&gt; second time, (the reference for the fragment is being kept somewhere\r\n&gt; and fragment is being attached for a second time) here the setChecked\r\n&gt; will not take an effect, only some other view updates\r\n&gt; \r\n&gt; meanwhile, it will only work if it&#39;s being called for the first time\r\n&gt; the fragment is being created,\r\n&gt; \r\n&gt; Solution : updating the views in the OnResume() method\r\n&gt; \r\n&gt; If someone has an explanation for this, please go ahead","title":"Only Switch.setChecked doesn&#39;t work when fragment is shown?","body":"<p>I have an activity:</p>\n<pre><code>public class MainActivity extends FragmentActivity\n{\n    private FragmentA a;\n    private FragmentB b;\n    private FragmentC c;\n    private HomeFragment mHomeFragment;\n\n\n    @Override\n    protected void onCreate(@Nullable Bundle savedInstanceState)\n    {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.home_activity_layout);\n     FragmentTransaction transaction = getSupportFragmentManager().beginTransaction();\n\n        getSupportFragmentManager()\n                .beginTransaction()\n                .replace(R.id.fragment_container, mHomeFragment) // replace flContainer\n                .addToBackStack(null)\n                .commit();\n\n    ...\n    }\n\n</code></pre>\n<p>I use some lazy initializer, and I keep my object a, b, c and mHomeFragment inside my activity object,</p>\n<p>I have a button inside 'b' that calls the MainActivity to call 'c'\nand a button inside 'c' that calls the MainActivity to call 'b'</p>\n<p>and some other buttons to call 'a' which is not that important</p>\n<p>Well now inside my FragmentB I have some custom views,</p>\n<pre><code>  public CustomView(Context cnx, SettingsViewElement e, FragmentA fragment)\n    {\n    super(cnx);\n    inflate(cnx, R.layout.my_layout,this);\n    parent = fragment; // I use it later in my onCheckedChangeListener to tell him the the switch has been checked \n    condition = parent.getCondition();\n\n    titleTv = this.findViewById(R.id.title_tv);\n    switch  = this.findViewById(R.id.switch);\n    if(condition){\n    switch.setChecked(true);\n    titleTv.setTitle(&quot;i am depressed af :(&quot;);\n\n    }\n   \n\n\n</code></pre>\n<p>my question is :</p>\n<p><strong>why my switch doesn't turn checked even if my titleTv is updating the title ??</strong></p>\n<p>I did some tests and my OnCreated() is called each time I call replace() in my fragment transaction.</p>\n<p>my fragment re-instantiate the views and then will add them to a linearLayout after inflating layout.</p>\n<p><strong>Also, if I don't keep my fragments reference in my MainActivity and then re-instantiate it every time.\nhere : the switch.setChecked will  work</strong> ,\nbut the backStack will be huge and dumb</p>\n<p>example: stack = 'b' -&gt; 'c' -&gt; 'b' -&gt; 'c'<br />\nnormally when the user click twice return button he'll be back to homeFragment, it doesn't need to empty the stack by itself.</p>\n<p>and even if I override @onBackPressed() and re-instantiate the fragments each time hoping the android sdk will free the space.</p>\n<p>I will have to do it manually each time I want to add a new fragment in my design, it will be a a wheel re-invention.</p>\n<p>and : <em><strong>IT DOES NOT EXPLAIN WHY</strong></em> THE Switch.setChecked() doesn't work even if the condition is true and the other views are updating (textView is updating it's text)</p>\n<blockquote>\n<p>Update : Apparently,</p>\n<p>if the fragment is being re-used and the onCreate() is called for the\nsecond time, (the reference for the fragment is being kept somewhere\nand fragment is being attached for a second time) here the setChecked\nwill not take an effect, only some other view updates</p>\n<p>meanwhile, it will only work if it's being called for the first time\nthe fragment is being created,</p>\n<p>Solution : updating the views in the OnResume() method</p>\n<p>If someone has an explanation for this, please go ahead</p>\n</blockquote>\n"},{"tags":["java","oop","domain-driven-design"],"comments":[{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":1,"creation_date":1632930723,"post_id":69379298,"comment_id":122628143,"body_markdown":"You don&#39;t: _nested record classes are implicitly static_. Make `State` have an `Order` member and access its properties through that.","body":"You don&#39;t: <i>nested record classes are implicitly static</i>. Make <code>State</code> have an <code>Order</code> member and access its properties through that."},{"owner":{"account_id":321820,"reputation":1812,"user_id":640870,"accept_rate":100,"display_name":"orustammanapov"},"score":1,"creation_date":1632933238,"post_id":69379298,"comment_id":122629367,"body_markdown":"@SotiriosDelimanolis thank you, I was wondering why I had troubles with it, but apparently there is an explanation to this issue:\n&quot;If a record class is itself nested, then it is implicitly static; this avoids an immediately enclosing instance which would silently add state to the record class.&quot; [link](https://openjdk.java.net/jeps/395)\n\n\nWould you mind creating an answer out of your comment, since it actually answers my question?","body":"@SotiriosDelimanolis thank you, I was wondering why I had troubles with it, but apparently there is an explanation to this issue: &quot;If a record class is itself nested, then it is implicitly static; this avoids an immediately enclosing instance which would silently add state to the record class.&quot; <a href=\"https://openjdk.java.net/jeps/395\" rel=\"nofollow noreferrer\">link</a>   Would you mind creating an answer out of your comment, since it actually answers my question?"}],"answers":[{"tags":[],"owner":{"account_id":1455702,"reputation":15682,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1632931334,"creation_date":1632931334,"answer_id":69379836,"question_id":69379298,"body_markdown":"Move the method from the record up to the class.\r\n\r\n    public class Order {\r\n        private String identifier;\r\n    \r\n        public State state() {\r\n            return new State(identifier);\r\n        }\r\n    \r\n        record State(String number){}\r\n    }","title":"Access non-static outer context from within inner record","body":"<p>Move the method from the record up to the class.</p>\n<pre><code>public class Order {\n    private String identifier;\n\n    public State state() {\n        return new State(identifier);\n    }\n\n    record State(String number){}\n}\n</code></pre>\n"}],"owner":{"account_id":321820,"reputation":1812,"user_id":640870,"accept_rate":100,"display_name":"orustammanapov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":587,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69379836,"answer_count":1,"score":0,"last_activity_date":1632931334,"creation_date":1632929187,"question_id":69379298,"body_markdown":"**DISCLAIMER** it&#39;s been a while since I&#39;ve asked a question here, so be gentle with me please :)\r\n\r\nI&#39;m trying to produce a state from my business object, which should ideally stay encapsulated. My idea was to define a class with an internal representation and to have a way to return a state object, which would be later mapped onto different view representations. So I imagined something like:\r\n\r\n`State state = order.State();`\r\n\r\nwhere Order and State are defined like:\r\n\r\n    public class Order {\r\n        private String identifier;\r\n\r\n        record State(String number) {\r\n            public State() {\r\n                this(identifier);\r\n            }\r\n        }\r\n    }\r\n\r\n**So my question is** how do I define relationship between my inner record and my outer class, so that I can access instance properties (ideally using the with the default record constructor) and map them onto immutable structure without running into static, non-static context issues? \r\n\r\n(I left out the possibility to create an additional method like: `toState()`, on the outer class)","title":"Access non-static outer context from within inner record","body":"<p><strong>DISCLAIMER</strong> it's been a while since I've asked a question here, so be gentle with me please :)</p>\n<p>I'm trying to produce a state from my business object, which should ideally stay encapsulated. My idea was to define a class with an internal representation and to have a way to return a state object, which would be later mapped onto different view representations. So I imagined something like:</p>\n<p><code>State state = order.State();</code></p>\n<p>where Order and State are defined like:</p>\n<pre><code>public class Order {\n    private String identifier;\n\n    record State(String number) {\n        public State() {\n            this(identifier);\n        }\n    }\n}\n</code></pre>\n<p><strong>So my question is</strong> how do I define relationship between my inner record and my outer class, so that I can access instance properties (ideally using the with the default record constructor) and map them onto immutable structure without running into static, non-static context issues?</p>\n<p>(I left out the possibility to create an additional method like: <code>toState()</code>, on the outer class)</p>\n"},{"tags":["java","swing","jfreechart"],"answers":[{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632931250,"creation_date":1619181455,"answer_id":67230096,"question_id":67217912,"body_markdown":"One approach is to adjust the relevant axis to flank the desired range. The exact formulation will depend on your data and goal. As a concrete example, starting from [here][1], the following change to `createChart()` produces the chart below. It zooms to the value of the last day in the series, flanked by two days on the domain axis and a proportional amount on the range axis:\r\n\r\n    int n = dataset.getItemCount(0);\r\n    double dMin = dataset.getX(0, n - 3).doubleValue();\r\n    double dMax = dataset.getX(0, n - 1).doubleValue();\r\n    domain.setRange(dMin, 2 * dMax - dMin);\r\n    ValueAxis range = plot.getRangeAxis();\r\n    double rMin = dataset.getY(0, n - 3).doubleValue();\r\n    double rMax = dataset.getY(0, n - 1).doubleValue();\r\n    range.setRange(rMin, 2 * rMax - rMin);\r\n\r\n[![image][2]][2]\r\n\r\nSee also related answers [here][3], [here][4] and [here][5].\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/66713994/230513\r\n  [2]: https://i.stack.imgur.com/qDkE9.png\r\n  [3]: https://stackoverflow.com/a/7232680/230513\r\n  [4]: https://stackoverflow.com/a/44151032/230513\r\n  [5]: https://stackoverflow.com/a/41544007/230513","title":"Is there a way to zoom a JFreechart chart to a value on X axis?","body":"<p>One approach is to adjust the relevant axis to flank the desired range. The exact formulation will depend on your data and goal. As a concrete example, starting from <a href=\"https://stackoverflow.com/a/66713994/230513\">here</a>, the following change to <code>createChart()</code> produces the chart below. It zooms to the value of the last day in the series, flanked by two days on the domain axis and a proportional amount on the range axis:</p>\n<pre><code>int n = dataset.getItemCount(0);\ndouble dMin = dataset.getX(0, n - 3).doubleValue();\ndouble dMax = dataset.getX(0, n - 1).doubleValue();\ndomain.setRange(dMin, 2 * dMax - dMin);\nValueAxis range = plot.getRangeAxis();\ndouble rMin = dataset.getY(0, n - 3).doubleValue();\ndouble rMax = dataset.getY(0, n - 1).doubleValue();\nrange.setRange(rMin, 2 * rMax - rMin);\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/qDkE9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qDkE9.png\" alt=\"image\" /></a></p>\n<p>See also related answers <a href=\"https://stackoverflow.com/a/7232680/230513\">here</a>, <a href=\"https://stackoverflow.com/a/44151032/230513\">here</a> and <a href=\"https://stackoverflow.com/a/41544007/230513\">here</a>.</p>\n"}],"owner":{"account_id":219909,"reputation":697,"user_id":477055,"accept_rate":38,"display_name":"Billybong"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":231,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1632931250,"creation_date":1619111565,"question_id":67217912,"body_markdown":"I have a bunch of charts and I&#39;d like to zoom them all to highlight series at value x +- range based on an event not originating from within the charts.\r\n\r\nIf I&#39;m reading it correctly all zooming chart methods such as `chart::zoomInDomain` take screen coordinates. So what I&#39;m looking for is a way to either translate the x domain value to the screen coordinates in the chart or find an alternative way to zoom based on series values.","title":"Is there a way to zoom a JFreechart chart to a value on X axis?","body":"<p>I have a bunch of charts and I'd like to zoom them all to highlight series at value x +- range based on an event not originating from within the charts.</p>\n<p>If I'm reading it correctly all zooming chart methods such as <code>chart::zoomInDomain</code> take screen coordinates. So what I'm looking for is a way to either translate the x domain value to the screen coordinates in the chart or find an alternative way to zoom based on series values.</p>\n"},{"tags":["java","unit-testing","junit","mockito"],"owner":{"account_id":17280114,"reputation":123,"user_id":12722349,"display_name":"Raj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1632931131,"creation_date":1632931029,"question_id":69379750,"body_markdown":"I want one JSONObject response after passing URI through RESTTemplate\r\n\r\nTest case is passing but the code coverage is still 0%\r\n\r\nI have to return accountDetails object in JSON format\r\n\r\nhow do we Pass URI which takes account ID and given response entity in JSON Format this is what I have to figure out.\r\n\r\n\r\nTest method:\r\n\r\n\r\n\r\n    void scheduleOnDemand() throws Exception {\r\n    \r\n    \t\tAccountDTO accountDTO = new AccountDTO();\r\n    \t\taccountDTO.setId(1);\r\n    \t\taccountDTO.setTimeZone(&quot;Asia/Kolkata&quot;);\r\n    \t\taccountDTO.setPlatformType(&quot;AZURE&quot;);\r\n    \t\taccountDTO.setEnvironmentName(&quot;test&quot;);\r\n    \t\taccountDTO.setName(&quot;azureAccount&quot;);\r\n    \t\taccountDTO.setNextScheduleDate(&quot;2021-09-13&quot;);\r\n    \t\taccountDTO.setEnvironmentId(1);\r\n    \r\n    \t\tHashMap&lt;String, Object&gt; accountDetails = new HashMap&lt;&gt;();\r\n    \r\n    \t\taccountDetails.put(&quot;account_Id&quot;, &quot;1&quot;);\r\n    \t\taccountDetails.put(&quot;TimeZone&quot;, &quot;Asia/Kolkata&quot;);\r\n    \t\taccountDetails.put(&quot;AgentStatus&quot;, &quot;Initiated&quot;);\r\n    \t\taccountDetails.put(&quot;Account_Platform&quot;, &quot;AZURE&quot;);\r\n    \t\taccountDetails.put(&quot;Schedule_Time&quot;, &quot;13:30:50.000&quot;);\r\n    \t\taccountDetails.put(&quot;Environment_Name&quot;, &quot;test&quot;);\r\n    \t\taccountDetails.put(&quot;Account_Name&quot;, &quot;azureAccount&quot;);\r\n    \t\taccountDetails.put(&quot;History_Id&quot;, &quot;109&quot;);\r\n    \t\taccountDetails.put(&quot;Schedule_Date&quot;, &quot;2021-09-13&quot;);\r\n    \t\taccountDetails.put(&quot;Environment_Id&quot;, &quot;1&quot;);\r\n    \r\n    \r\n     \tMockito.when(restTemplate.postForEntity(&quot;configure/accountDetails?Account_Id=1&quot;,null, JSONObject.class))\r\n    \t\t\t\t.thenReturn(new ResponseEntity((accountDetails), HttpStatus.OK)); \r\n    \r\n    \t}\r\n\r\nActual Method:\r\n\r\n    @Override\r\n    public JSONObject scheduleOnDemand(String accountId) throws Exception {\r\n    \r\n    \tJSONObject object = null;\r\n     \r\n    \t// PlatformHistoryDetails phistory = null;\r\n    \tHashMap&lt;String, Object&gt; accountDetails = new HashMap&lt;&gt;();\r\n    \taccountDetails = utilService.getAccountDetails(Integer.parseInt(accountId));\r\n    \tif (((String) accountDetails.get(&quot;scantype&quot;)).equalsIgnoreCase(&quot;infra&quot;)||((String) accountDetails.get(&quot;scantype&quot;)).equalsIgnoreCase(&quot;all&quot;)) {\r\n    \t\tURI postUri = UriComponentsBuilder.fromPath(&quot;/&quot;).pathSegment(&quot;api/scheduleOnDemand&quot;)\r\n    \t\t\t\t.queryParam(&quot;requestId&quot;, MDC.get(&quot;requestId&quot;)).queryParam(&quot;service&quot;, &quot;scan&quot;)\r\n    \t\t\t\t.queryParam(&quot;Account_Id&quot;, accountId).build().toUri();\r\n    \r\n    \t\tPlatformHistoryDetails phistory = modelMapper.map(apiClient.postOperation(postUri, Object.class),\r\n    \t\t\t\tPlatformHistoryDetails.class); \r\n    \t\tphistory.getHistory().setUser(&quot;admin&quot;);\r\n    \t\tobject = utilService.processOneAccount(phistory);\r\n    \t} else {\r\n    \t\tthrow new Exception(&quot;Account is not of type INFRA or ALL but of type &quot; + accountDetails.get(&quot;scantype&quot;));\r\n    \t}\r\n    \treturn object;   \r\n    }\r\n\r\naccountDetails Implementation:\r\n\r\n\r\n    @Override\r\n    @SuppressWarnings({ &quot;unchecked&quot;, &quot;rawtypes&quot; })\r\n    public HashMap&lt;String, Object&gt; getAccountDetails(int accountId) {\r\n    \tURI getUri = UriComponentsBuilder.fromPath(&quot;/&quot;).pathSegment(&quot;configure/accountDetails&quot;)\r\n    \t\t\t.queryParam(&quot;Account_Id&quot;, accountId).build().toUri();\r\n    \r\n    \tHashMap&lt;String, Object&gt; account = (LinkedHashMap) apiClient.getAccountDetails(getUri, Object.class);\r\n       \r\n    \treturn account;\r\n    }\r\n\r\n","title":"How do I Mock Rest Template for Post method","body":"<p>I want one JSONObject response after passing URI through RESTTemplate</p>\n<p>Test case is passing but the code coverage is still 0%</p>\n<p>I have to return accountDetails object in JSON format</p>\n<p>how do we Pass URI which takes account ID and given response entity in JSON Format this is what I have to figure out.</p>\n<p>Test method:</p>\n<pre><code>void scheduleOnDemand() throws Exception {\n\n        AccountDTO accountDTO = new AccountDTO();\n        accountDTO.setId(1);\n        accountDTO.setTimeZone(&quot;Asia/Kolkata&quot;);\n        accountDTO.setPlatformType(&quot;AZURE&quot;);\n        accountDTO.setEnvironmentName(&quot;test&quot;);\n        accountDTO.setName(&quot;azureAccount&quot;);\n        accountDTO.setNextScheduleDate(&quot;2021-09-13&quot;);\n        accountDTO.setEnvironmentId(1);\n\n        HashMap&lt;String, Object&gt; accountDetails = new HashMap&lt;&gt;();\n\n        accountDetails.put(&quot;account_Id&quot;, &quot;1&quot;);\n        accountDetails.put(&quot;TimeZone&quot;, &quot;Asia/Kolkata&quot;);\n        accountDetails.put(&quot;AgentStatus&quot;, &quot;Initiated&quot;);\n        accountDetails.put(&quot;Account_Platform&quot;, &quot;AZURE&quot;);\n        accountDetails.put(&quot;Schedule_Time&quot;, &quot;13:30:50.000&quot;);\n        accountDetails.put(&quot;Environment_Name&quot;, &quot;test&quot;);\n        accountDetails.put(&quot;Account_Name&quot;, &quot;azureAccount&quot;);\n        accountDetails.put(&quot;History_Id&quot;, &quot;109&quot;);\n        accountDetails.put(&quot;Schedule_Date&quot;, &quot;2021-09-13&quot;);\n        accountDetails.put(&quot;Environment_Id&quot;, &quot;1&quot;);\n\n\n    Mockito.when(restTemplate.postForEntity(&quot;configure/accountDetails?Account_Id=1&quot;,null, JSONObject.class))\n                .thenReturn(new ResponseEntity((accountDetails), HttpStatus.OK)); \n\n    }\n</code></pre>\n<p>Actual Method:</p>\n<pre><code>@Override\npublic JSONObject scheduleOnDemand(String accountId) throws Exception {\n\n    JSONObject object = null;\n \n    // PlatformHistoryDetails phistory = null;\n    HashMap&lt;String, Object&gt; accountDetails = new HashMap&lt;&gt;();\n    accountDetails = utilService.getAccountDetails(Integer.parseInt(accountId));\n    if (((String) accountDetails.get(&quot;scantype&quot;)).equalsIgnoreCase(&quot;infra&quot;)||((String) accountDetails.get(&quot;scantype&quot;)).equalsIgnoreCase(&quot;all&quot;)) {\n        URI postUri = UriComponentsBuilder.fromPath(&quot;/&quot;).pathSegment(&quot;api/scheduleOnDemand&quot;)\n                .queryParam(&quot;requestId&quot;, MDC.get(&quot;requestId&quot;)).queryParam(&quot;service&quot;, &quot;scan&quot;)\n                .queryParam(&quot;Account_Id&quot;, accountId).build().toUri();\n\n        PlatformHistoryDetails phistory = modelMapper.map(apiClient.postOperation(postUri, Object.class),\n                PlatformHistoryDetails.class); \n        phistory.getHistory().setUser(&quot;admin&quot;);\n        object = utilService.processOneAccount(phistory);\n    } else {\n        throw new Exception(&quot;Account is not of type INFRA or ALL but of type &quot; + accountDetails.get(&quot;scantype&quot;));\n    }\n    return object;   \n}\n</code></pre>\n<p>accountDetails Implementation:</p>\n<pre><code>@Override\n@SuppressWarnings({ &quot;unchecked&quot;, &quot;rawtypes&quot; })\npublic HashMap&lt;String, Object&gt; getAccountDetails(int accountId) {\n    URI getUri = UriComponentsBuilder.fromPath(&quot;/&quot;).pathSegment(&quot;configure/accountDetails&quot;)\n            .queryParam(&quot;Account_Id&quot;, accountId).build().toUri();\n\n    HashMap&lt;String, Object&gt; account = (LinkedHashMap) apiClient.getAccountDetails(getUri, Object.class);\n   \n    return account;\n}\n</code></pre>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1630271248,"post_id":68976826,"comment_id":121904985,"body_markdown":"So `ttt&gt;123ddd&gt;456&gt;&gt;&gt;` should become `12456`? Or is there only ever one continuous center string that is kept?","body":"So <code>ttt&gt;123ddd&gt;456&gt;&gt;&gt;</code> should become <code>12456</code>? Or is there only ever one continuous center string that is kept?"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1630271462,"post_id":68976826,"comment_id":121905026,"body_markdown":"Note that `[&lt;&gt;,t,d,//]` is identical to `[&lt;&gt;,td/]`, I think you mean `[&lt;&gt;td/]`","body":"Note that <code>[&lt;&gt;,t,d,&#47;&#47;]</code> is identical to <code>[&lt;&gt;,td&#47;]</code>, I think you mean <code>[&lt;&gt;td&#47;]</code>"}],"answers":[{"tags":[],"owner":{"account_id":6429765,"reputation":211082,"user_id":4983450,"accept_rate":74,"display_name":"Psidom"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1630271352,"creation_date":1630271010,"answer_id":68976890,"question_id":68976826,"body_markdown":"Try use this regex: `[&lt;&gt;td/]|.(?=[&lt;&gt;td/]*$)`\r\n\r\n[regex 101](https://regex101.com/r/dM4h9H/2)\r\n\r\n---\r\n\r\n- `[&lt;&gt;td/]` matches the target characters;\r\n- `.(?=[&lt;&gt;td/]*$)` matches the character before *the ending target character sequence*, which is basically the last character after removing all target characters;","title":"How can I remove the last character in a String that has another regex computation in Java?","body":"<p>Try use this regex: <code>[&lt;&gt;td/]|.(?=[&lt;&gt;td/]*$)</code></p>\n<p><a href=\"https://regex101.com/r/dM4h9H/2\" rel=\"nofollow noreferrer\">regex 101</a></p>\n<hr />\n<ul>\n<li><code>[&lt;&gt;td/]</code> matches the target characters;</li>\n<li><code>.(?=[&lt;&gt;td/]*$)</code> matches the character before <em>the ending target character sequence</em>, which is basically the last character after removing all target characters;</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1630273745,"creation_date":1630271702,"answer_id":68976960,"question_id":68976826,"body_markdown":"First, the expected output shows that a sequence consisting of `d, t, &lt;, &gt;, /` should be removed, and _then_ the character _before_ this match _at the end of the string_ has to be removed.\r\n\r\nThis can be achieved with the following regexp:\r\n```java\r\nSystem.out.println(&quot;dtt&gt;W43451005/dttt&gt;&quot;.replaceAll(&quot;([&lt;&gt;td/]|.[&lt;&gt;td/]*$)&quot;, &quot;&quot;));\r\n```\r\nOutput\r\n```\r\nW4345100\r\n```","title":"How can I remove the last character in a String that has another regex computation in Java?","body":"<p>First, the expected output shows that a sequence consisting of <code>d, t, &lt;, &gt;, /</code> should be removed, and <em>then</em> the character <em>before</em> this match <em>at the end of the string</em> has to be removed.</p>\n<p>This can be achieved with the following regexp:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(&quot;dtt&gt;W43451005/dttt&gt;&quot;.replaceAll(&quot;([&lt;&gt;td/]|.[&lt;&gt;td/]*$)&quot;, &quot;&quot;));\n</code></pre>\n<p>Output</p>\n<pre><code>W4345100\n</code></pre>\n"}],"owner":{"account_id":18145107,"reputation":643,"user_id":13198513,"display_name":"Bogdan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":159,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":68976890,"answer_count":2,"score":0,"last_activity_date":1632931025,"creation_date":1630270524,"question_id":68976826,"body_markdown":"I want to remove the following character from a String: &lt;,&gt;,t,d,/ and also to remove the last character after the first removal. And I want to do this on a single statement.\r\n\r\nRegex for removing &lt;,&gt;,t,d,/:\r\n\r\n     String codCIM =  element.toString().replaceAll(&quot;[&lt;&gt;,t,d,//]&quot;, &quot;&quot;); -WORKS FINE\r\n\r\nRegex for removing &lt;,&gt;,t,d,/ AND the last character:\r\n\r\n    String codCIM =  element.toString().replaceAll(&quot;[&lt;&gt;,t,d,//].$&quot;, &quot;&quot;); -DONT WORK\r\n\r\nEx: `&quot;dtt&gt;W43451005/dttt&gt;&quot;` should be `W4345100`.    \r\nBut I can only achieve: `W43451005`","title":"How can I remove the last character in a String that has another regex computation in Java?","body":"<p>I want to remove the following character from a String: &lt;,&gt;,t,d,/ and also to remove the last character after the first removal. And I want to do this on a single statement.</p>\n<p>Regex for removing &lt;,&gt;,t,d,/:</p>\n<pre><code> String codCIM =  element.toString().replaceAll(&quot;[&lt;&gt;,t,d,//]&quot;, &quot;&quot;); -WORKS FINE\n</code></pre>\n<p>Regex for removing &lt;,&gt;,t,d,/ AND the last character:</p>\n<pre><code>String codCIM =  element.toString().replaceAll(&quot;[&lt;&gt;,t,d,//].$&quot;, &quot;&quot;); -DONT WORK\n</code></pre>\n<p>Ex: <code>&quot;dtt&gt;W43451005/dttt&gt;&quot;</code> should be <code>W4345100</code>.<br />\nBut I can only achieve: <code>W43451005</code></p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1632930888,"creation_date":1632930357,"answer_id":69379588,"question_id":69379505,"body_markdown":"Use `ProcessBuilder` instead:\r\n\r\n```\r\nProcessBuilder pb = ProcessBuilder.command(\r\n    &quot;java&quot;,\r\n    &quot;-jar&quot;,\r\n    &quot;/var/script/projects/project1/target/project1-1.0-SNAPSHOT-jar-with-dependencies.jar&quot;,\r\n    &quot;1&quot;,\r\n    simulatorRun.getStartDateTime().format(formatter));\r\nProcess runSimulatorProcess = pb.start();\r\n```\r\n\r\nNote that this doesn&#39;t use quotes. Quotes are a thing your shell deals with; you&#39;re not invoking this in a shell.","title":"Java runtime exec command ignores quotes","body":"<p>Use <code>ProcessBuilder</code> instead:</p>\n<pre><code>ProcessBuilder pb = ProcessBuilder.command(\n    &quot;java&quot;,\n    &quot;-jar&quot;,\n    &quot;/var/script/projects/project1/target/project1-1.0-SNAPSHOT-jar-with-dependencies.jar&quot;,\n    &quot;1&quot;,\n    simulatorRun.getStartDateTime().format(formatter));\nProcess runSimulatorProcess = pb.start();\n</code></pre>\n<p>Note that this doesn't use quotes. Quotes are a thing your shell deals with; you're not invoking this in a shell.</p>\n"}],"owner":{"account_id":12655916,"reputation":852,"user_id":10673107,"display_name":"A. Vreeswijk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69379588,"answer_count":1,"score":-1,"last_activity_date":1632930888,"creation_date":1632930020,"question_id":69379505,"body_markdown":"I have a problem. In my code I use the following lines:\r\n\r\n    String runProjectCommand= &quot;java -jar /var/script/projects/project1/target/project1-1.0-SNAPSHOT-jar-with-dependencies.jar 1 \\&quot;&quot; + simulatorRun.getStartDateTime().format(formatter) + &quot;\\&quot;&quot;;\r\n    System.out.println(runProjectCommand);\r\n    Process runSimulatorProcess = Runtime.getRuntime().exec(runProjectCommand);\r\n\r\nThe value of `runProjectCommand` is:\r\n\r\n    java -jar /var/script/projects/project1/target/project1-1.0-SNAPSHOT-jar-with-dependencies.jar 1 &quot;2018-01-01 00:00:00&quot;\r\n\r\nThen in the project1 code I start off with the following code:\r\n\r\n    if (args != null) {\r\n        for (String string : args) {\r\n            System.out.println(string);\r\n        }\r\n        if (args.length == 2) {\r\n            agentId = Integer.parseInt(args[0].substring(args[0].indexOf(&quot;=&quot;) + 1));\r\n            startDateTime = LocalDateTime.parse(args[1].substring(args[1].indexOf(&quot;=&quot;) + 1), formatter);\r\n        }\r\n        else {\r\n            System.out.println(&quot;Not enough startup arguments given:&quot;);\r\n            System.out.println(&quot;\\t1. AgentId&quot;);\r\n            System.out.println(&quot;\\t2. StartDateTime&quot;);\r\n            System.exit(0);\r\n        }\r\n    }\r\n\r\nBut the output of this jar file is:\r\n\r\n    1\r\n    &quot;2018-01-01\r\n    00:00:00&quot;\r\n    Not enough startup arguments given:\r\n    \t1. AgentId\r\n    \t2. StartDateTime\r\n\r\nAs you can see there are 3 startup parameters instead of 2. This is because of the `&quot;2018-01-01 00:00:00&quot;`, that gets split at the space, while I added double quotes to it. Why is this happening and how can I fix this?","title":"Java runtime exec command ignores quotes","body":"<p>I have a problem. In my code I use the following lines:</p>\n<pre><code>String runProjectCommand= &quot;java -jar /var/script/projects/project1/target/project1-1.0-SNAPSHOT-jar-with-dependencies.jar 1 \\&quot;&quot; + simulatorRun.getStartDateTime().format(formatter) + &quot;\\&quot;&quot;;\nSystem.out.println(runProjectCommand);\nProcess runSimulatorProcess = Runtime.getRuntime().exec(runProjectCommand);\n</code></pre>\n<p>The value of <code>runProjectCommand</code> is:</p>\n<pre><code>java -jar /var/script/projects/project1/target/project1-1.0-SNAPSHOT-jar-with-dependencies.jar 1 &quot;2018-01-01 00:00:00&quot;\n</code></pre>\n<p>Then in the project1 code I start off with the following code:</p>\n<pre><code>if (args != null) {\n    for (String string : args) {\n        System.out.println(string);\n    }\n    if (args.length == 2) {\n        agentId = Integer.parseInt(args[0].substring(args[0].indexOf(&quot;=&quot;) + 1));\n        startDateTime = LocalDateTime.parse(args[1].substring(args[1].indexOf(&quot;=&quot;) + 1), formatter);\n    }\n    else {\n        System.out.println(&quot;Not enough startup arguments given:&quot;);\n        System.out.println(&quot;\\t1. AgentId&quot;);\n        System.out.println(&quot;\\t2. StartDateTime&quot;);\n        System.exit(0);\n    }\n}\n</code></pre>\n<p>But the output of this jar file is:</p>\n<pre><code>1\n&quot;2018-01-01\n00:00:00&quot;\nNot enough startup arguments given:\n    1. AgentId\n    2. StartDateTime\n</code></pre>\n<p>As you can see there are 3 startup parameters instead of 2. This is because of the <code>&quot;2018-01-01 00:00:00&quot;</code>, that gets split at the space, while I added double quotes to it. Why is this happening and how can I fix this?</p>\n"},{"tags":["javascript","java","pdfbox"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1632729958,"post_id":69335593,"comment_id":122561925,"body_markdown":"Also have a look at the examples UpdateFieldOnDocumentOpen.java and AddJavascript.java . getScriptingHandler() returns an interface, so if you didn&#39;t create a handler you&#39;ll get nothing.","body":"Also have a look at the examples UpdateFieldOnDocumentOpen.java and AddJavascript.java . getScriptingHandler() returns an interface, so if you didn&#39;t create a handler you&#39;ll get nothing."}],"answers":[{"tags":[],"owner":{"account_id":2674923,"reputation":9479,"user_id":2311528,"accept_rate":59,"display_name":"Lonzak"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1632772843,"creation_date":1632732025,"answer_id":69343640,"question_id":69335593,"body_markdown":"On the PDF level it would look like this: \r\n\r\n    //The text field\r\n    10 0 obj\r\n    &lt;&lt;/AA&lt;&lt;/C 12 0 R&gt;&gt;/AP&lt;&lt;/N 100 0 R&gt;&gt;/F 4/FT/Tx/Ff 2/MK&lt;&lt;/BC[0.0 0.0 0.0]&gt;&gt;/P 23 0 R/Rect[339.288 570.374 443.231 589.985]/Subtype/Widget/T(Textfield10)/Type/Annot/V(7)&gt;&gt;\r\n    endobj\r\n    \r\n    //The JS function which writes the result of &#39;Textfield1&#39;+&#39;Textfield3&#39; into Textfield10\r\n    12 0 obj\r\n    &lt;&lt;/JS(AFSimple_Calculate\\(&quot;SUM&quot;, new Array \\(&quot;Textfield1&quot;, &quot;Textfield3&quot;\\)\\);)/S/JavaScript&gt;&gt;\r\n    endobj\r\n\r\n    14 0 obj\r\n    &lt;&lt;/CO[10 0 R]/DA(/Helv 0 Tf 0 g )/Fields[10 0 R 16 0 R 18 0 R] ...&gt;&gt;\r\n\r\nSo as you can see the additional actions (AA) attribute is the key to use. There are several answers in the web or here on [SO][1] on how to do that. It would look something like this:\r\n\r\n    PDFormFieldAdditionalActions pdFormFieldAdditionalActions = new PDFormFieldAdditionalActions();\r\n    PDActionJavaScript jsSumAction = new PDActionJavaScript();\r\n    jsSumAction .setAction(&quot;AFSimple_Calculate\\(&quot;SUM&quot;, new Array \\(&quot;Textfield1&quot;, &quot;Textfield3&quot;\\)\\);&quot;);\r\n    pdFormFieldAdditionalActions.setC((PDAction) jsSumAction);\r\n\r\nNote that the JS syntax used here is *dobe JS syntax - so it probably doesn&#39;t work on other viewers. But that is the thing with JS script in PDFs anyhow and one of the reasons it is forbidden in PDF/A...\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/56331004/how-to-add-javascript-code-to-pdf-using-java-which-changes-listbox-content-based","title":"Add calculation script to pdf form fields with PDFBox","body":"<p>On the PDF level it would look like this:</p>\n<pre><code>//The text field\n10 0 obj\n&lt;&lt;/AA&lt;&lt;/C 12 0 R&gt;&gt;/AP&lt;&lt;/N 100 0 R&gt;&gt;/F 4/FT/Tx/Ff 2/MK&lt;&lt;/BC[0.0 0.0 0.0]&gt;&gt;/P 23 0 R/Rect[339.288 570.374 443.231 589.985]/Subtype/Widget/T(Textfield10)/Type/Annot/V(7)&gt;&gt;\nendobj\n\n//The JS function which writes the result of 'Textfield1'+'Textfield3' into Textfield10\n12 0 obj\n&lt;&lt;/JS(AFSimple_Calculate\\(&quot;SUM&quot;, new Array \\(&quot;Textfield1&quot;, &quot;Textfield3&quot;\\)\\);)/S/JavaScript&gt;&gt;\nendobj\n\n14 0 obj\n&lt;&lt;/CO[10 0 R]/DA(/Helv 0 Tf 0 g )/Fields[10 0 R 16 0 R 18 0 R] ...&gt;&gt;\n</code></pre>\n<p>So as you can see the additional actions (AA) attribute is the key to use. There are several answers in the web or here on <a href=\"https://stackoverflow.com/questions/56331004/how-to-add-javascript-code-to-pdf-using-java-which-changes-listbox-content-based\">SO</a> on how to do that. It would look something like this:</p>\n<pre><code>PDFormFieldAdditionalActions pdFormFieldAdditionalActions = new PDFormFieldAdditionalActions();\nPDActionJavaScript jsSumAction = new PDActionJavaScript();\njsSumAction .setAction(&quot;AFSimple_Calculate\\(&quot;SUM&quot;, new Array \\(&quot;Textfield1&quot;, &quot;Textfield3&quot;\\)\\);&quot;);\npdFormFieldAdditionalActions.setC((PDAction) jsSumAction);\n</code></pre>\n<p>Note that the JS syntax used here is *dobe JS syntax - so it probably doesn't work on other viewers. But that is the thing with JS script in PDFs anyhow and one of the reasons it is forbidden in PDF/A...</p>\n"}],"owner":{"account_id":13054216,"reputation":115,"user_id":9433578,"display_name":"MaikB"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":492,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69343640,"answer_count":1,"score":2,"last_activity_date":1632930761,"creation_date":1632664408,"question_id":69335593,"body_markdown":"Maybe someone can help me with this. I have a java application, which generates a PDF file from an HTML template using flying-saucer-pdf. Since there is no support for JavaScript, I&#39;m planning to add my JavaScript after creating the PDF using PDFBox. \r\n\r\nI want to add JavaScript to read a value from field A, calculate a new sum based on that value and write it to another field B. This calculation should take place every time the value in the input field A changes. \r\n\r\nMy problem is though, that I have no clue on how to add my JavaScript to the existing PDF file. I found this [example][1] online on how to add JavaScript, but it only shows how to register an Action to the opening event of the PDF. This doesn&#39;t help since I want to add calculations as described in the [Acrobat JS Developer Guide][2] under Calculation script. \r\n\r\nI guess I have to modify the Documents `PDAcroForm` somehow. There is even a `getScriptingHandler()`-Method, which seems promising, it&#39;s null on my document. My code to add the JavaScript looks like this sofar:\r\n\r\n    try (var document = PDDocument.load(pdfFile)) {\r\n      var documentDocumentCatalog = document.getDocumentCatalog();\r\n      var documentAcroForm = documentDocumentCatalog.getAcroForm();\r\n      var javascriptString = FileUtils.readFileToString(\r\n                               javascriptFile, \r\n                               StandardCharsets.UTF_8,\r\n                             );\r\n      var javascript = new PDActionJavaScript(javascriptString);\r\n      documentAcroForm.getScriptingHandler().calculate(javascript, &quot;99&quot;);\r\n    } catch (IOException e) {\r\n      e.printStackTrace();\r\n    }\r\n\r\n**&gt;&gt;Update&lt;&lt;**\r\n\r\nThanks to your input I have managed to achieve my goal of calculating new values. My Java code now looks like this:\r\n\r\n    try (var document = PDDocument.load(pdfFile)) {\r\n      var catalog = document.getDocumentCatalog();\r\n      var acroForm = catalog.getAcroForm();\r\n    \r\n      var fieldActions = new PDFormFieldAdditionalActions();\r\n      var javascriptString = FileUtils.readFileToString(javascriptFile, StandardCharsets.UTF_8);\r\n      var actionJavaScript = new PDActionJavaScript(javascriptString);\r\n      actionJavaScript.setAction(javascriptString);\r\n      fieldActions.setC(actionJavaScript);\r\n    \r\n      var field = (PDTextField) acroForm.getField(&quot;fieldA&quot;);\r\n      field.setActions(fieldActions);\r\n      var coArray = new COSArray();\r\n      coArray.add(field);\r\n      acroForm.getCOSObject().setItem(COSName.CO, coArray);\r\n    \r\n      document.save(pdfFile);\r\n    } catch (IOException e) {\r\n      e.printStackTrace();\r\n    }\r\n\r\nAnd my JavaScript code looks like this:\r\n\r\n    calculateValue(&quot;fieldA&quot;, &quot;fieldB&quot;);\r\n    \r\n    function calculateValue(sourceFieldName, targetFieldName) {\r\n        this.getField(sourceFieldName).value = Math.floor(this.getField(targetFieldName).value / 2 - 5)\r\n    }\r\n\r\nThis works, although I stumbled on some weird behaviour, maybe I&#39;m just misunderstanding the change event. With this code, even though I only added &quot;fieldA&quot; to the recalculation order, it seems that any change in any field triggers the event. What I actually wanted to achieve was, that only the change in a specific field triggers a recalculation of another specific field. Is this how the recalculation is supposed to work?\r\n\r\n**&gt;&gt;Update2&lt;&lt;**\r\n\r\nOk never mind, I just made mistake and updated both fields on every recalculation event...after adjusting my JavaScript, everything works now as intended.\r\n\r\nJust one more question, how do I add a JavaScript function globally to the document to then call it on field events?\r\n\r\nThanks for the help!\r\n\r\n  [1]: https://www.tutorialspoint.com/pdfbox/pdfbox_javascript_in_pdf_document.htm\r\n  [2]: https://opensource.adobe.com/dc-acrobat-sdk-docs/acrobatsdk/pdfs/acrobatsdk_jsdevguide.pdf\r\n\r\n\r\n\r\n\r\n","title":"Add calculation script to pdf form fields with PDFBox","body":"<p>Maybe someone can help me with this. I have a java application, which generates a PDF file from an HTML template using flying-saucer-pdf. Since there is no support for JavaScript, I'm planning to add my JavaScript after creating the PDF using PDFBox.</p>\n<p>I want to add JavaScript to read a value from field A, calculate a new sum based on that value and write it to another field B. This calculation should take place every time the value in the input field A changes.</p>\n<p>My problem is though, that I have no clue on how to add my JavaScript to the existing PDF file. I found this <a href=\"https://www.tutorialspoint.com/pdfbox/pdfbox_javascript_in_pdf_document.htm\" rel=\"nofollow noreferrer\">example</a> online on how to add JavaScript, but it only shows how to register an Action to the opening event of the PDF. This doesn't help since I want to add calculations as described in the <a href=\"https://opensource.adobe.com/dc-acrobat-sdk-docs/acrobatsdk/pdfs/acrobatsdk_jsdevguide.pdf\" rel=\"nofollow noreferrer\">Acrobat JS Developer Guide</a> under Calculation script.</p>\n<p>I guess I have to modify the Documents <code>PDAcroForm</code> somehow. There is even a <code>getScriptingHandler()</code>-Method, which seems promising, it's null on my document. My code to add the JavaScript looks like this sofar:</p>\n<pre><code>try (var document = PDDocument.load(pdfFile)) {\n  var documentDocumentCatalog = document.getDocumentCatalog();\n  var documentAcroForm = documentDocumentCatalog.getAcroForm();\n  var javascriptString = FileUtils.readFileToString(\n                           javascriptFile, \n                           StandardCharsets.UTF_8,\n                         );\n  var javascript = new PDActionJavaScript(javascriptString);\n  documentAcroForm.getScriptingHandler().calculate(javascript, &quot;99&quot;);\n} catch (IOException e) {\n  e.printStackTrace();\n}\n</code></pre>\n<p><strong>&gt;&gt;Update&lt;&lt;</strong></p>\n<p>Thanks to your input I have managed to achieve my goal of calculating new values. My Java code now looks like this:</p>\n<pre><code>try (var document = PDDocument.load(pdfFile)) {\n  var catalog = document.getDocumentCatalog();\n  var acroForm = catalog.getAcroForm();\n\n  var fieldActions = new PDFormFieldAdditionalActions();\n  var javascriptString = FileUtils.readFileToString(javascriptFile, StandardCharsets.UTF_8);\n  var actionJavaScript = new PDActionJavaScript(javascriptString);\n  actionJavaScript.setAction(javascriptString);\n  fieldActions.setC(actionJavaScript);\n\n  var field = (PDTextField) acroForm.getField(&quot;fieldA&quot;);\n  field.setActions(fieldActions);\n  var coArray = new COSArray();\n  coArray.add(field);\n  acroForm.getCOSObject().setItem(COSName.CO, coArray);\n\n  document.save(pdfFile);\n} catch (IOException e) {\n  e.printStackTrace();\n}\n</code></pre>\n<p>And my JavaScript code looks like this:</p>\n<pre><code>calculateValue(&quot;fieldA&quot;, &quot;fieldB&quot;);\n\nfunction calculateValue(sourceFieldName, targetFieldName) {\n    this.getField(sourceFieldName).value = Math.floor(this.getField(targetFieldName).value / 2 - 5)\n}\n</code></pre>\n<p>This works, although I stumbled on some weird behaviour, maybe I'm just misunderstanding the change event. With this code, even though I only added &quot;fieldA&quot; to the recalculation order, it seems that any change in any field triggers the event. What I actually wanted to achieve was, that only the change in a specific field triggers a recalculation of another specific field. Is this how the recalculation is supposed to work?</p>\n<p><strong>&gt;&gt;Update2&lt;&lt;</strong></p>\n<p>Ok never mind, I just made mistake and updated both fields on every recalculation event...after adjusting my JavaScript, everything works now as intended.</p>\n<p>Just one more question, how do I add a JavaScript function globally to the document to then call it on field events?</p>\n<p>Thanks for the help!</p>\n"},{"tags":["java","ssl","websocket"],"answers":[{"tags":[],"owner":{"account_id":21379802,"reputation":188,"user_id":15745910,"display_name":"Flav"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632930274,"creation_date":1632845999,"answer_id":69365233,"question_id":69361605,"body_markdown":"While disabling SSL certificate checks is **not** good practice, here is a solution:\r\n\r\nThe following code comes from [Nakov.com][1]\r\n````\r\n    // Create a trust manager that does not validate certificate chains\r\n        TrustManager[] trustAllCerts = new TrustManager[] {new X509TrustManager() {\r\n                public java.security.cert.X509Certificate[] getAcceptedIssuers() {\r\n                    return null;\r\n                }\r\n                public void checkClientTrusted(X509Certificate[] certs, String authType) {\r\n                }\r\n                public void checkServerTrusted(X509Certificate[] certs, String authType) {\r\n                }\r\n            }\r\n        };\r\n \r\n        // Install the all-trusting trust manager\r\n        SSLContext sc = SSLContext.getInstance(&quot;SSL&quot;);\r\n        sc.init(null, trustAllCerts, new java.security.SecureRandom());\r\n        HttpsURLConnection.setDefaultSSLSocketFactory(sc.getSocketFactory());\r\n \r\n        // Create all-trusting host name verifier\r\n        HostnameVerifier allHostsValid = new HostnameVerifier() {\r\n            public boolean verify(String hostname, SSLSession session) {\r\n                return true;\r\n            }\r\n        };\r\n \r\n        // Install the all-trusting host verifier\r\n        HttpsURLConnection.setDefaultHostnameVerifier(allHostsValid);\r\n````\r\n\r\n  [1]: https://nakov.com/blog/2009/07/16/disable-certificate-validation-in-java-ssl-connections/","title":"Disable SSL certification in websocket java","body":"<p>While disabling SSL certificate checks is <strong>not</strong> good practice, here is a solution:</p>\n<p>The following code comes from <a href=\"https://nakov.com/blog/2009/07/16/disable-certificate-validation-in-java-ssl-connections/\" rel=\"nofollow noreferrer\">Nakov.com</a></p>\n<pre><code>    // Create a trust manager that does not validate certificate chains\n        TrustManager[] trustAllCerts = new TrustManager[] {new X509TrustManager() {\n                public java.security.cert.X509Certificate[] getAcceptedIssuers() {\n                    return null;\n                }\n                public void checkClientTrusted(X509Certificate[] certs, String authType) {\n                }\n                public void checkServerTrusted(X509Certificate[] certs, String authType) {\n                }\n            }\n        };\n \n        // Install the all-trusting trust manager\n        SSLContext sc = SSLContext.getInstance(&quot;SSL&quot;);\n        sc.init(null, trustAllCerts, new java.security.SecureRandom());\n        HttpsURLConnection.setDefaultSSLSocketFactory(sc.getSocketFactory());\n \n        // Create all-trusting host name verifier\n        HostnameVerifier allHostsValid = new HostnameVerifier() {\n            public boolean verify(String hostname, SSLSession session) {\n                return true;\n            }\n        };\n \n        // Install the all-trusting host verifier\n        HttpsURLConnection.setDefaultHostnameVerifier(allHostsValid);\n</code></pre>\n"}],"owner":{"account_id":21554091,"reputation":13,"user_id":15889684,"display_name":"Jexxer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2133,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1632930274,"creation_date":1632831432,"question_id":69361605,"body_markdown":"I have java websocket connection that tries to login to the server followed by establishing the websocket connection. The websocket class has the mechanism to connect the socket connection where&#39;s the main class call for the websocket class constructor.\r\n```\r\nWebSocket(URI serverUri, Map&lt;String, String&gt; head) {\r\n        super(serverUri, head);\r\n    }\r\n```\r\n```\r\nsocketUri = new URI(sockPath);\r\nMap&lt;String, String&gt; head = new HashMap&lt;&gt;();\r\nhead.put(&quot;Authorization&quot;, &quot;Bearer &quot;.concat(headerToken));\r\nclient = new WebSocket(websocketUri, head);\r\nclient.setServerWebSocketUrlPathsockPath);\r\nclient.connect();\r\n```\r\n\r\nHow to make the socket connection to disable the SSL certificate check.\r\n","title":"Disable SSL certification in websocket java","body":"<p>I have java websocket connection that tries to login to the server followed by establishing the websocket connection. The websocket class has the mechanism to connect the socket connection where's the main class call for the websocket class constructor.</p>\n<pre><code>WebSocket(URI serverUri, Map&lt;String, String&gt; head) {\n        super(serverUri, head);\n    }\n</code></pre>\n<pre><code>socketUri = new URI(sockPath);\nMap&lt;String, String&gt; head = new HashMap&lt;&gt;();\nhead.put(&quot;Authorization&quot;, &quot;Bearer &quot;.concat(headerToken));\nclient = new WebSocket(websocketUri, head);\nclient.setServerWebSocketUrlPathsockPath);\nclient.connect();\n</code></pre>\n<p>How to make the socket connection to disable the SSL certificate check.</p>\n"},{"tags":["java","apache-spark","intellij-14","spark-java"],"answers":[{"tags":[],"owner":{"account_id":9154396,"reputation":4513,"user_id":6807769,"display_name":"Vincent Doba"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632930052,"creation_date":1632930052,"answer_id":69379520,"question_id":69377739,"body_markdown":"You cannot use `groupBy` and aggregation function in a column clause. To do what you want to do, you have to use a [window](https://databricks.com/blog/2015/07/15/introducing-window-functions-in-spark-sql.html).\r\n\r\nFor you case, you can define the following window:\r\n\r\n```java\r\nimport org.apache.spark.sql.expressions.Window;\r\nimport org.apache.spark.sql.expressions.WindowSpec;\r\n\r\n...\r\n\r\nWindowSpec window = Window\r\n  .partitionBy(CONTRA1)\r\n  .rangeBetween(Window.unboundedPreceding(), Window.unboundedFollowing());\r\n```\r\n\r\nWhere\r\n\r\n- `partitionBy` is the equivalent of `groupBy` for aggregation\r\n- `rangeBetween` determine which rows of the partition will be used by aggregation function, here we take all rows\r\n\r\nAnd then you use this window when calling your aggregation function, as follow:\r\n\r\n```java\r\nimport org.apache.spark.sql.functions;\r\n\r\n...\r\n\r\nDataset&lt;Row&gt; contrCapOk1 = contrCapOk.join(\r\n    jmCto2,\r\n    contrCapOk.col(CONTRA1).equalTo(jmCto2.col(CONTRA1)),\r\n    LEFT\r\n  )\r\n  .select(\r\n    contrCapOk.col(&quot;*&quot;),\r\n    jmCto2.col(&quot;ind&quot;),\r\n    functions.when(jmCto2.col(CONTRA1).isNull(), functions.lit(NUEVES))\r\n     .when(jmCto2.col(&quot;ind&quot;).equalTo(&quot;N&quot;), functions.lit(UNOS))\r\n     .otherwise(functions.sum(jmCto2.col(&quot;eadfinal&quot;)).over(window))\r\n     .as(&quot;EAD&quot;)\r\n  )\r\n```","title":"Group by inside otherwise clause, spark java","body":"<p>You cannot use <code>groupBy</code> and aggregation function in a column clause. To do what you want to do, you have to use a <a href=\"https://databricks.com/blog/2015/07/15/introducing-window-functions-in-spark-sql.html\" rel=\"nofollow noreferrer\">window</a>.</p>\n<p>For you case, you can define the following window:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.apache.spark.sql.expressions.Window;\nimport org.apache.spark.sql.expressions.WindowSpec;\n\n...\n\nWindowSpec window = Window\n  .partitionBy(CONTRA1)\n  .rangeBetween(Window.unboundedPreceding(), Window.unboundedFollowing());\n</code></pre>\n<p>Where</p>\n<ul>\n<li><code>partitionBy</code> is the equivalent of <code>groupBy</code> for aggregation</li>\n<li><code>rangeBetween</code> determine which rows of the partition will be used by aggregation function, here we take all rows</li>\n</ul>\n<p>And then you use this window when calling your aggregation function, as follow:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.apache.spark.sql.functions;\n\n...\n\nDataset&lt;Row&gt; contrCapOk1 = contrCapOk.join(\n    jmCto2,\n    contrCapOk.col(CONTRA1).equalTo(jmCto2.col(CONTRA1)),\n    LEFT\n  )\n  .select(\n    contrCapOk.col(&quot;*&quot;),\n    jmCto2.col(&quot;ind&quot;),\n    functions.when(jmCto2.col(CONTRA1).isNull(), functions.lit(NUEVES))\n     .when(jmCto2.col(&quot;ind&quot;).equalTo(&quot;N&quot;), functions.lit(UNOS))\n     .otherwise(functions.sum(jmCto2.col(&quot;eadfinal&quot;)).over(window))\n     .as(&quot;EAD&quot;)\n  )\n</code></pre>\n"}],"owner":{"account_id":16342591,"reputation":11,"user_id":11803163,"display_name":"Jose Maria Acevedo Reinoso"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":433,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1632930052,"creation_date":1632923453,"question_id":69377739,"body_markdown":"I have this process in SparkJava (IntelliJ app) where I have a problem that I don`t know how to resolve yet.  First I declare the dataset:\r\n````\r\nprivate static final String CONTRA1 = &quot;contra1&quot;;\r\n\r\nquery = &quot;select contra1, ..., eadfinal, , ..., data_date&quot; + FROM + dbSchema + TBLNAME &quot; + WHERE fech = &#39;&quot; + fechjmCto2 + &quot;&#39; AND s1emp=49&quot;;\r\n        Dataset&lt;Row&gt; jmCto2 = sql.sql(query);\r\n````\r\n\r\nThen I have the calculations, I analyze some fields to assign some literal values. My problem is in the aggegate function:\r\n```\r\nDataset&lt;Row&gt; contrCapOk1 = contrCapOk.join(jmCto2,\r\n        contrCapOk.col(CONTRA1).equalTo(jmCto2.col(CONTRA1)),LEFT)\r\n        .select(contrCapOk.col(&quot;*&quot;),\r\n        jmCto2.col(&quot;ind&quot;),\r\n \r\nfunctions.when(jmCto2.col(CONTRA1).isNull(),functions.lit(NUEVES))\r\n     .when(jmCto2.col(&quot;ind&quot;).equalTo(&quot;N&quot;),functions.lit(UNOS))\r\n     .otherwise(jmCto2.groupBy(CONTRA1).agg(functions.sum(jmCto2.col(&quot;eadfinal&quot;)))).as(&quot;EAD&quot;),\r\n```\r\n\r\nWhat I want is to make the sum in the otherwise part.  But when I execute the cluster give me this message in the log.\r\n```\r\nUser class threw exception: java.lang.RuntimeException: Unsupported literal type class org.apache.spark.sql.Dataset [contra1: int, sum(eadfinal): decimal(33,6)] \r\n```\r\nin the line 211, the otherwise line.\r\n\r\nDo you know what the problem could be?.\r\n\r\n\r\nThanks.","title":"Group by inside otherwise clause, spark java","body":"<p>I have this process in SparkJava (IntelliJ app) where I have a problem that I don`t know how to resolve yet.  First I declare the dataset:</p>\n<pre><code>private static final String CONTRA1 = &quot;contra1&quot;;\n\nquery = &quot;select contra1, ..., eadfinal, , ..., data_date&quot; + FROM + dbSchema + TBLNAME &quot; + WHERE fech = '&quot; + fechjmCto2 + &quot;' AND s1emp=49&quot;;\n        Dataset&lt;Row&gt; jmCto2 = sql.sql(query);\n</code></pre>\n<p>Then I have the calculations, I analyze some fields to assign some literal values. My problem is in the aggegate function:</p>\n<pre><code>Dataset&lt;Row&gt; contrCapOk1 = contrCapOk.join(jmCto2,\n        contrCapOk.col(CONTRA1).equalTo(jmCto2.col(CONTRA1)),LEFT)\n        .select(contrCapOk.col(&quot;*&quot;),\n        jmCto2.col(&quot;ind&quot;),\n \nfunctions.when(jmCto2.col(CONTRA1).isNull(),functions.lit(NUEVES))\n     .when(jmCto2.col(&quot;ind&quot;).equalTo(&quot;N&quot;),functions.lit(UNOS))\n     .otherwise(jmCto2.groupBy(CONTRA1).agg(functions.sum(jmCto2.col(&quot;eadfinal&quot;)))).as(&quot;EAD&quot;),\n</code></pre>\n<p>What I want is to make the sum in the otherwise part.  But when I execute the cluster give me this message in the log.</p>\n<pre><code>User class threw exception: java.lang.RuntimeException: Unsupported literal type class org.apache.spark.sql.Dataset [contra1: int, sum(eadfinal): decimal(33,6)] \n</code></pre>\n<p>in the line 211, the otherwise line.</p>\n<p>Do you know what the problem could be?.</p>\n<p>Thanks.</p>\n"},{"tags":["java","gradle","visual-studio-code"],"answers":[{"tags":[],"owner":{"account_id":19088616,"reputation":8284,"user_id":13939333,"display_name":"Molly Wang-MSFT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632127760,"creation_date":1632127760,"answer_id":69251546,"question_id":69246821,"body_markdown":"Add the following to `build.gradle`. After rebuilding the project, see if the error goes away.\r\n\r\n    compileOnly group: &#39;javax.servlet&#39;, name: &#39;javax.servlet-api&#39;, version: &#39;4.0.1&#39;","title":"VSCode Java extension gives error &quot;Cannot find the class file for javax.servlet.http.HttpServletResponse.&quot;","body":"<p>Add the following to <code>build.gradle</code>. After rebuilding the project, see if the error goes away.</p>\n<pre><code>compileOnly group: 'javax.servlet', name: 'javax.servlet-api', version: '4.0.1'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4037842,"reputation":1821,"user_id":3321579,"accept_rate":62,"display_name":"Scorb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1632930038,"creation_date":1632930038,"answer_id":69379513,"question_id":69246821,"body_markdown":"The solution was to run\r\n\r\n    ./gradlew wrapper\r\n\r\nThen in vscode run Java: Clean Workspace.","title":"VSCode Java extension gives error &quot;Cannot find the class file for javax.servlet.http.HttpServletResponse.&quot;","body":"<p>The solution was to run</p>\n<pre><code>./gradlew wrapper\n</code></pre>\n<p>Then in vscode run Java: Clean Workspace.</p>\n"}],"owner":{"account_id":4037842,"reputation":1821,"user_id":3321579,"accept_rate":62,"display_name":"Scorb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1151,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69379513,"answer_count":2,"score":2,"last_activity_date":1632930038,"creation_date":1632082885,"question_id":69246821,"body_markdown":"I have a java project using gradle as my build system. I am developing in VSCode using the Java extension by Redhat. I am developing on Ubuntu 20.04 with openjdk 11.\r\n\r\nWhen I build the project from the command line using &#39;./gradlew assemble&#39;, I don&#39;t get any build error.\r\n\r\nBut when I open the project in vscode, I get the following problem in the problems view...\r\n\r\n    The project was not built since its build path is incomplete. Cannot find the class file for javax.servlet.http.HttpServletResponse. Fix the build path then try building this project\r\n\r\nand...\r\n\r\n    The type javax.servlet.http.HttpServletResponse cannot be resolved. It is indirectly referenced from required .class files\r\n\r\nMy build.gradle is as follows....\r\n\r\n    plugins {\r\n      id &#39;com.google.cloud.tools.jib&#39; version &#39;2.4.0&#39;\r\n    }\r\n    \r\n    apply plugin: &#39;java&#39;\r\n    \r\n    // Use maven repository\r\n    repositories {\r\n        mavenCentral()\r\n        google()\r\n        maven { url &#39;https://jitpack.io&#39; }\r\n    }\r\n    \r\n    dependencies {\r\n        implementation &#39;org.eclipse.jetty:jetty-servlet:9.4.19.v20190610&#39;\r\n        implementation &#39;org.eclipse.jetty:jetty-client:9.4.19.v20190610&#39;\r\n        implementation group: &#39;org.eclipse.jetty&#39;, name: &#39;jetty-util&#39;, version: &#39;9.4.29.v20200521&#39;\r\n    \r\n        implementation &#39;mysql:mysql-connector-java:8.0.16&#39;\r\n        implementation &#39;com.google.cloud.sql:mysql-socket-factory-connector-j-8:1.0.16&#39;\r\n        implementation &#39;org.apache.commons:commons-dbcp2:2.7.0&#39;\r\n        implementation &#39;org.jdbi:jdbi3-core:3.10.1&#39;\r\n        implementation &#39;com.google.firebase:firebase-admin:6.11.0&#39;\r\n        implementation &#39;com.google.apis:google-api-services-oauth2:v1-rev155-1.25.0&#39;\r\n    \r\n        implementation group: &#39;ch.qos.logback&#39;, name: &#39;logback-classic&#39;, version: &#39;1.2.3&#39;\r\n        implementation group: &#39;com.fasterxml.jackson.core&#39;, name: &#39;jackson-databind&#39;, version: &#39;2.0.1&#39;\r\n        implementation group: &#39;org.reflections&#39;, name: &#39;reflections&#39;, version: &#39;0.9.12&#39;\r\n    \r\n        implementation &#39;com.github.bhlangonijr:chesslib:1.2.3&#39;\r\n    \r\n        // compile project(&#39;chesslib&#39;)\r\n        //runtime files(&#39;../../chesslib/build/libs/chesslib-1.1.12.jar&#39;)\r\n    }\r\n    \r\n    task runServer(type: JavaExec) {\r\n        enableAssertions = true\r\n        classpath = sourceSets.main.runtimeClasspath \r\n        main = &#39;ChessServer&#39;\r\n    } \r\n    \r\n    task runClient(type: JavaExec) {\r\n        classpath = sourceSets.main.runtimeClasspath \r\n        main = &#39;ChessClient&#39;\r\n        standardInput = System.in // without this, using Scanner on System.in won&#39;t work\r\n    }\r\n    \r\n    task runCLITestApp(type: JavaExec) {\r\n        classpath = sourceSets.main.runtimeClasspath \r\n        main = &#39;CLITestApp&#39;\r\n        standardInput = System.in\r\n    }\r\n    \r\n    // use cloudBuilder.py to invoke this jib task to build the container\r\n    // use cloudConfiguration.json to configure things like container version.\r\n    jib {\r\n        if (project.hasProperty(&#39;googleCloudProjectName&#39;) &amp;&amp; project.hasProperty(&#39;imageName&#39;)) {\r\n            to {\r\n              image = &quot;gcr.io/$googleCloudProjectName/$imageName&quot;\r\n            }\r\n            container {\r\n                mainClass = &#39;ChessServer&#39;\r\n                ports = [&#39;8080&#39;]\r\n                creationTime = &quot;USE_CURRENT_TIMESTAMP&quot;\r\n            }\r\n        }\r\n    }\r\n    \r\n    // make sure the required project properties are set for jib\r\n    task jibCheck {\r\n        doLast {\r\n            if (!project.hasProperty(&#39;googleCloudProjectName&#39;))\r\n                throw new GradleException(&quot;When invoking the jib task, make sure to pass the cli arg -PgoogleCloudProject=[myGoogleCloudProject]\\nThis should be the name of the google cloud project which container registry you want to push to.&quot;);\r\n            if (!project.hasProperty(&#39;imageName&#39;))\r\n                throw new GradleException(&quot;When invoking the jib task, make sure to pass the cli arg -PimageName=[imageName]&quot;);\r\n        }\r\n    }\r\n    tasks.jib.dependsOn tasks.jibCheck\r\n    \r\n    // src/main/jib is the default folder that jib looks for files to add to your container\r\n    // these files will be placed in the root / dir of the container\r\n    task moveFilesForJib(type: Copy) {\r\n        from &quot;releaseFiles&quot;\r\n        into &quot;src/main/jib&quot;\r\n    }\r\n    tasks.jib.dependsOn tasks.moveFilesForJib\r\n\r\n","title":"VSCode Java extension gives error &quot;Cannot find the class file for javax.servlet.http.HttpServletResponse.&quot;","body":"<p>I have a java project using gradle as my build system. I am developing in VSCode using the Java extension by Redhat. I am developing on Ubuntu 20.04 with openjdk 11.</p>\n<p>When I build the project from the command line using './gradlew assemble', I don't get any build error.</p>\n<p>But when I open the project in vscode, I get the following problem in the problems view...</p>\n<pre><code>The project was not built since its build path is incomplete. Cannot find the class file for javax.servlet.http.HttpServletResponse. Fix the build path then try building this project\n</code></pre>\n<p>and...</p>\n<pre><code>The type javax.servlet.http.HttpServletResponse cannot be resolved. It is indirectly referenced from required .class files\n</code></pre>\n<p>My build.gradle is as follows....</p>\n<pre><code>plugins {\n  id 'com.google.cloud.tools.jib' version '2.4.0'\n}\n\napply plugin: 'java'\n\n// Use maven repository\nrepositories {\n    mavenCentral()\n    google()\n    maven { url 'https://jitpack.io' }\n}\n\ndependencies {\n    implementation 'org.eclipse.jetty:jetty-servlet:9.4.19.v20190610'\n    implementation 'org.eclipse.jetty:jetty-client:9.4.19.v20190610'\n    implementation group: 'org.eclipse.jetty', name: 'jetty-util', version: '9.4.29.v20200521'\n\n    implementation 'mysql:mysql-connector-java:8.0.16'\n    implementation 'com.google.cloud.sql:mysql-socket-factory-connector-j-8:1.0.16'\n    implementation 'org.apache.commons:commons-dbcp2:2.7.0'\n    implementation 'org.jdbi:jdbi3-core:3.10.1'\n    implementation 'com.google.firebase:firebase-admin:6.11.0'\n    implementation 'com.google.apis:google-api-services-oauth2:v1-rev155-1.25.0'\n\n    implementation group: 'ch.qos.logback', name: 'logback-classic', version: '1.2.3'\n    implementation group: 'com.fasterxml.jackson.core', name: 'jackson-databind', version: '2.0.1'\n    implementation group: 'org.reflections', name: 'reflections', version: '0.9.12'\n\n    implementation 'com.github.bhlangonijr:chesslib:1.2.3'\n\n    // compile project('chesslib')\n    //runtime files('../../chesslib/build/libs/chesslib-1.1.12.jar')\n}\n\ntask runServer(type: JavaExec) {\n    enableAssertions = true\n    classpath = sourceSets.main.runtimeClasspath \n    main = 'ChessServer'\n} \n\ntask runClient(type: JavaExec) {\n    classpath = sourceSets.main.runtimeClasspath \n    main = 'ChessClient'\n    standardInput = System.in // without this, using Scanner on System.in won't work\n}\n\ntask runCLITestApp(type: JavaExec) {\n    classpath = sourceSets.main.runtimeClasspath \n    main = 'CLITestApp'\n    standardInput = System.in\n}\n\n// use cloudBuilder.py to invoke this jib task to build the container\n// use cloudConfiguration.json to configure things like container version.\njib {\n    if (project.hasProperty('googleCloudProjectName') &amp;&amp; project.hasProperty('imageName')) {\n        to {\n          image = &quot;gcr.io/$googleCloudProjectName/$imageName&quot;\n        }\n        container {\n            mainClass = 'ChessServer'\n            ports = ['8080']\n            creationTime = &quot;USE_CURRENT_TIMESTAMP&quot;\n        }\n    }\n}\n\n// make sure the required project properties are set for jib\ntask jibCheck {\n    doLast {\n        if (!project.hasProperty('googleCloudProjectName'))\n            throw new GradleException(&quot;When invoking the jib task, make sure to pass the cli arg -PgoogleCloudProject=[myGoogleCloudProject]\\nThis should be the name of the google cloud project which container registry you want to push to.&quot;);\n        if (!project.hasProperty('imageName'))\n            throw new GradleException(&quot;When invoking the jib task, make sure to pass the cli arg -PimageName=[imageName]&quot;);\n    }\n}\ntasks.jib.dependsOn tasks.jibCheck\n\n// src/main/jib is the default folder that jib looks for files to add to your container\n// these files will be placed in the root / dir of the container\ntask moveFilesForJib(type: Copy) {\n    from &quot;releaseFiles&quot;\n    into &quot;src/main/jib&quot;\n}\ntasks.jib.dependsOn tasks.moveFilesForJib\n</code></pre>\n"},{"tags":["java","elasticsearch","aggregate"],"answers":[{"tags":[],"owner":{"account_id":12206189,"reputation":5872,"user_id":8909235,"display_name":"lkatiforis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1632930034,"creation_date":1632930034,"answer_id":69379511,"question_id":69376955,"body_markdown":"This is what you are looking for:\r\n\r\n```java\r\n  IncludeExclude includeExclude = new IncludeExclude(0, 20);\r\n    \r\n  AggregationBuilder aggrBuilder = AggregationBuilders\r\n    \t\t               .terms(&quot;expired_sessions&quot;)\r\n    \t\t               .field(&quot;account_id&quot;)\r\n    \t\t               .includeExclude(includeExclude)\r\n    \t\t               .size(10000);\r\n    \r\n  searchSourceBuilder.aggregation(aggregationBuilder);\r\n```\r\n\r\nThe corresponding JSON:\r\n\r\n    &quot;aggregations&quot;:{\r\n          &quot;expired_sessions&quot;:{\r\n             &quot;terms&quot;:{\r\n                &quot;field&quot;:&quot;account_id&quot;,\r\n                &quot;size&quot;:10000,       \r\n                &quot;include&quot;:{\r\n                   &quot;partition&quot;:0,\r\n                   &quot;num_partitions&quot;:20\r\n                }\r\n             }\r\n         }\r\n    }","title":"Elasticsearch - ElasticRestHighLevelClient Filtering Values with partition","body":"<p>This is what you are looking for:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  IncludeExclude includeExclude = new IncludeExclude(0, 20);\n    \n  AggregationBuilder aggrBuilder = AggregationBuilders\n                           .terms(&quot;expired_sessions&quot;)\n                           .field(&quot;account_id&quot;)\n                           .includeExclude(includeExclude)\n                           .size(10000);\n    \n  searchSourceBuilder.aggregation(aggregationBuilder);\n</code></pre>\n<p>The corresponding JSON:</p>\n<pre><code>&quot;aggregations&quot;:{\n      &quot;expired_sessions&quot;:{\n         &quot;terms&quot;:{\n            &quot;field&quot;:&quot;account_id&quot;,\n            &quot;size&quot;:10000,       \n            &quot;include&quot;:{\n               &quot;partition&quot;:0,\n               &quot;num_partitions&quot;:20\n            }\n         }\n     }\n}\n</code></pre>\n"}],"owner":{"account_id":15393488,"reputation":195,"user_id":11105399,"display_name":"Mahdi Mohammadizadeh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":241,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69379511,"answer_count":1,"score":0,"last_activity_date":1632930034,"creation_date":1632920569,"question_id":69376955,"body_markdown":"How to create a query like bellow with ElasticRestHighLevelClient:\r\n\r\nI can not add this part to my query.\r\n```\r\n&quot;include&quot;: {\r\n               &quot;partition&quot;: 0,\r\n               &quot;num_partitions&quot;: 20\r\n            }\r\n```\r\n\r\n\r\nHere is what I need:\r\n\r\n```\r\nGET /_search\r\n{\r\n   &quot;aggs&quot;: {\r\n      &quot;expired_sessions&quot;: {\r\n         &quot;terms&quot;: {\r\n            &quot;field&quot;: &quot;account_id&quot;,\r\n            &quot;include&quot;: {\r\n               &quot;partition&quot;: 0,\r\n               &quot;num_partitions&quot;: 20\r\n            },\r\n            &quot;size&quot;: 10000,\r\n         }\r\n      }\r\n   }\r\n}\r\n\r\n```\r\n\r\nHere is my java code.\r\n```\r\n\t    AggregationBuilder AggregationBuilder = AggregationBuilders\r\n\t\t\t\t.terms(&quot;CONTACT_ID&quot;)\r\n\t\t\t\t.field(&quot;CONTACT_ID&quot;)\r\n                .size(10000);\r\n\r\n```","title":"Elasticsearch - ElasticRestHighLevelClient Filtering Values with partition","body":"<p>How to create a query like bellow with ElasticRestHighLevelClient:</p>\n<p>I can not add this part to my query.</p>\n<pre><code>&quot;include&quot;: {\n               &quot;partition&quot;: 0,\n               &quot;num_partitions&quot;: 20\n            }\n</code></pre>\n<p>Here is what I need:</p>\n<pre><code>GET /_search\n{\n   &quot;aggs&quot;: {\n      &quot;expired_sessions&quot;: {\n         &quot;terms&quot;: {\n            &quot;field&quot;: &quot;account_id&quot;,\n            &quot;include&quot;: {\n               &quot;partition&quot;: 0,\n               &quot;num_partitions&quot;: 20\n            },\n            &quot;size&quot;: 10000,\n         }\n      }\n   }\n}\n\n</code></pre>\n<p>Here is my java code.</p>\n<pre><code>        AggregationBuilder AggregationBuilder = AggregationBuilders\n                .terms(&quot;CONTACT_ID&quot;)\n                .field(&quot;CONTACT_ID&quot;)\n                .size(10000);\n\n</code></pre>\n"},{"tags":["java","responsive-design","javadoc","maven-javadoc-plugin"],"answers":[{"tags":[],"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1550459068,"creation_date":1550459068,"answer_id":54739934,"question_id":54739863,"body_markdown":"Have you considered creating a stylesheet?\r\n\r\n&gt; https://docs.oracle.com/javase/8/docs/technotes/tools/windows/javadoc.html#BEJFCAIH\r\n&gt; \r\n&gt;     javadoc ... -stylesheetfile  path\\filename\r\n\r\nHere are some links on using &quot;responsive CSS&quot; for mobile:\r\n\r\n* [Creating a Mobile-First Responsive Web Design](https://www.html5rocks.com/en/mobile/responsivedesign/)\r\n\r\n* [Responsive Web Design Basics ](https://developers.google.com/web/fundamentals/design-and-ux/responsive/)\r\n\r\n\r\n","title":"Generate Javadocs for easy consumption on mobile phones","body":"<p>Have you considered creating a stylesheet?</p>\n\n<blockquote>\n  <p><a href=\"https://docs.oracle.com/javase/8/docs/technotes/tools/windows/javadoc.html#BEJFCAIH\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/technotes/tools/windows/javadoc.html#BEJFCAIH</a></p>\n\n<pre><code>javadoc ... -stylesheetfile  path\\filename\n</code></pre>\n</blockquote>\n\n<p>Here are some links on using \"responsive CSS\" for mobile:</p>\n\n<ul>\n<li><p><a href=\"https://www.html5rocks.com/en/mobile/responsivedesign/\" rel=\"nofollow noreferrer\">Creating a Mobile-First Responsive Web Design</a></p></li>\n<li><p><a href=\"https://developers.google.com/web/fundamentals/design-and-ux/responsive/\" rel=\"nofollow noreferrer\">Responsive Web Design Basics </a></p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1597804,"reputation":674,"user_id":1479486,"accept_rate":100,"display_name":"Tim Rasim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632929983,"creation_date":1632929983,"answer_id":69379500,"question_id":54739863,"body_markdown":"This is old but I don&#39;t like the other answer because for me there where problems with the viewport making it hard to use @media CSS to solve it.\r\n\r\nI ended up inserting a variable viewport into the doc using the header. This is not the nicest solution since the header is not the head element but something inside the body, but in modern browsers it still works. Here is my code:\r\n\r\n    &lt;!-- Javadoc --&gt;\r\n\t\t&lt;plugin&gt;\r\n\t\t\t&lt;configuration&gt;\r\n\t\t\t\t&lt;header&gt;&lt;![CDATA[&lt;meta name=&#39;viewport&#39; content=&#39;width=device-width, initial-scale=1.0&#39;&gt;]]&gt;&lt;/header&gt;\r\n\t\t\t\t...\r\n\t\t\t&lt;/configuration&gt;\r\n\t\t\t...\r\n\t\t&lt;/plugin&gt;","title":"Generate Javadocs for easy consumption on mobile phones","body":"<p>This is old but I don't like the other answer because for me there where problems with the viewport making it hard to use @media CSS to solve it.</p>\n<p>I ended up inserting a variable viewport into the doc using the header. This is not the nicest solution since the header is not the head element but something inside the body, but in modern browsers it still works. Here is my code:</p>\n<pre><code>&lt;!-- Javadoc --&gt;\n    &lt;plugin&gt;\n        &lt;configuration&gt;\n            &lt;header&gt;&lt;![CDATA[&lt;meta name='viewport' content='width=device-width, initial-scale=1.0'&gt;]]&gt;&lt;/header&gt;\n            ...\n        &lt;/configuration&gt;\n        ...\n    &lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"display_name":"user5047085"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":291,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1632929983,"creation_date":1550458421,"question_id":54739863,"body_markdown":"I generated some javadocs, looks pretty good, I can even include inline code samples/examples. However, doesn&#39;t look very good on mobile:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nHere are the plugin settings I am using:\r\n\r\n&lt;!--language: xml --&gt; \r\n\r\n         &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.1&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;attach-javadocs&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;jar&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;additionalOptions&gt;-html5&lt;/additionalOptions&gt;\r\n                    &lt;additionalJOptions&gt;--allow-script-in-comments&lt;/additionalJOptions&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\n\r\nmaybe there is a command line flag I can use to generate mobile-friendly documentation? If not, how do I add a +1 to the plugin authors to encourage them to make the docs responsive somehow?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/esrHP.jpg","title":"Generate Javadocs for easy consumption on mobile phones","body":"<p>I generated some javadocs, looks pretty good, I can even include inline code samples/examples. However, doesn't look very good on mobile:</p>\n\n<p><a href=\"https://i.stack.imgur.com/esrHP.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/esrHP.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Here are the plugin settings I am using:</p>\n\n \n\n<pre><code>     &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.0.1&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;attach-javadocs&lt;/id&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;jar&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n            &lt;configuration&gt;\n                &lt;additionalOptions&gt;-html5&lt;/additionalOptions&gt;\n                &lt;additionalJOptions&gt;--allow-script-in-comments&lt;/additionalJOptions&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n</code></pre>\n\n<p>maybe there is a command line flag I can use to generate mobile-friendly documentation? If not, how do I add a +1 to the plugin authors to encourage them to make the docs responsive somehow?</p>\n"},{"tags":["java","windows-7","environment-variables","java-home"],"comments":[{"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":0,"creation_date":1379919502,"post_id":18953323,"comment_id":27990626,"body_markdown":"You cannot provide more than one location, but you can provide different JAVA_HOME to different programs.","body":"You cannot provide more than one location, but you can provide different JAVA_HOME to different programs."},{"owner":{"account_id":3061512,"reputation":1755,"user_id":2594040,"accept_rate":40,"display_name":"Gurminder Singh"},"score":0,"creation_date":1379919770,"post_id":18953323,"comment_id":27990764,"body_markdown":"how can we achieve it? I mean for **different programs**? Can you elaborate a bit more?","body":"how can we achieve it? I mean for <b>different programs</b>? Can you elaborate a bit more?"},{"owner":{"account_id":5801852,"reputation":1520,"user_id":4575793,"display_name":"Cadoiz"},"score":0,"creation_date":1632911038,"post_id":18953323,"comment_id":122619018,"body_markdown":"You can consider [this related Q/A](https://stackoverflow.com/questions/37180393/why-tomcat8-exe-starts-with-a-java-home-that-is-different-from-java-home-setted?rq=1)","body":"You can consider <a href=\"https://stackoverflow.com/questions/37180393/why-tomcat8-exe-starts-with-a-java-home-that-is-different-from-java-home-setted?rq=1\">this related Q/A</a>"}],"answers":[{"tags":[],"owner":{"account_id":15903,"reputation":323443,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1380635791,"creation_date":1380635791,"answer_id":19118122,"question_id":18953323,"body_markdown":"Create a batch file that starts `jwsdp-1_6-windows-i586.exe`:\r\n\r\n    set JAVA_HOME=...path-to-Java-5...\r\n    jwsdp-1_6-windows-i586.exe\r\n\r\nAlways invoke the command using the batch file.\r\n\r\nIf you don&#39;t have control over the invocation, here is a trick: Rename the executable and put your batch file in the path as `jwsdp-1_6-windows-i586.cmd`. When the invoker uses `jwsdp-1_6-windows-i586` to execute the command, then this trick will make it use the batch file instead.","title":"Working with JAVA_HOME pointing to more than one locations?","body":"<p>Create a batch file that starts <code>jwsdp-1_6-windows-i586.exe</code>:</p>\n\n<pre><code>set JAVA_HOME=...path-to-Java-5...\njwsdp-1_6-windows-i586.exe\n</code></pre>\n\n<p>Always invoke the command using the batch file.</p>\n\n<p>If you don't have control over the invocation, here is a trick: Rename the executable and put your batch file in the path as <code>jwsdp-1_6-windows-i586.cmd</code>. When the invoker uses <code>jwsdp-1_6-windows-i586</code> to execute the command, then this trick will make it use the batch file instead.</p>\n"}],"owner":{"account_id":3061512,"reputation":1755,"user_id":2594040,"accept_rate":40,"display_name":"Gurminder Singh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4406,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1632929792,"creation_date":1379919193,"question_id":18953323,"body_markdown":"I have a situation in which I have to work on a project with _Java 1.7_ on Windows 7. But, there is a tool `jwsdp-1_6-windows-i586.exe` which is seraching for _Java 1.5_ or less to be installed and to work with.\r\n\r\nNow, I am in a dilemma of whether to point my `JAVA_HOME` to 1.7 or 1.5. Or am I worrying about it without purpose? How to overcome the issue? Is there any possibility that we can provide `JAVA_HOME` with multiple locations?\r\n","title":"Working with JAVA_HOME pointing to more than one locations?","body":"<p>I have a situation in which I have to work on a project with <em>Java 1.7</em> on Windows 7. But, there is a tool <code>jwsdp-1_6-windows-i586.exe</code> which is seraching for <em>Java 1.5</em> or less to be installed and to work with.</p>\n<p>Now, I am in a dilemma of whether to point my <code>JAVA_HOME</code> to 1.7 or 1.5. Or am I worrying about it without purpose? How to overcome the issue? Is there any possibility that we can provide <code>JAVA_HOME</code> with multiple locations?</p>\n"},{"tags":["java","cxf"],"comments":[{"owner":{"account_id":1809323,"reputation":11348,"user_id":1645712,"accept_rate":73,"display_name":"gusto2"},"score":0,"creation_date":1632151469,"post_id":69256917,"comment_id":122409999,"body_markdown":"Why are you using the `WSS4JStaxInInterceptor`? Are you ok to use the WSS4JOutInterceptor ?","body":"Why are you using the <code>WSS4JStaxInInterceptor</code>? Are you ok to use the WSS4JOutInterceptor ?"},{"owner":{"account_id":1809323,"reputation":11348,"user_id":1645712,"accept_rate":73,"display_name":"gusto2"},"score":0,"creation_date":1632156479,"post_id":69256917,"comment_id":122412057,"body_markdown":"Another comment  - please read and follow the [how to ask guide](https://stackoverflow.com/help/how-to-ask), it may be pretty complex topic. There is god documentation on CXF Security and some [tutorials](https://www.benmccann.com/apache-cxf-tutorial-ws-security-with-spring/). What is not clear exactly?","body":"Another comment  - please read and follow the <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask guide</a>, it may be pretty complex topic. There is god documentation on CXF Security and some <a href=\"https://www.benmccann.com/apache-cxf-tutorial-ws-security-with-spring/\" rel=\"nofollow noreferrer\">tutorials</a>. What is not clear exactly?"},{"owner":{"account_id":7440798,"reputation":1877,"user_id":5658642,"display_name":"beat"},"score":0,"creation_date":1632472914,"post_id":69256917,"comment_id":122506757,"body_markdown":"Thanks for the comments. I must use Stax, as there are hundreds of MB per request and the memory usage would be too much to handle. I did some research but could not find an answer to my question. The question really is how to handle the case when there are some SOAP operations that are secured with WS-Security (Encryption and Signature) and some are not secured (plain). If you have an anwser for the DOM-based Interceptors that might help too and maybe I can adapt it.","body":"Thanks for the comments. I must use Stax, as there are hundreds of MB per request and the memory usage would be too much to handle. I did some research but could not find an answer to my question. The question really is how to handle the case when there are some SOAP operations that are secured with WS-Security (Encryption and Signature) and some are not secured (plain). If you have an anwser for the DOM-based Interceptors that might help too and maybe I can adapt it."},{"owner":{"account_id":1809323,"reputation":11348,"user_id":1645712,"accept_rate":73,"display_name":"gusto2"},"score":0,"creation_date":1632929643,"post_id":69256917,"comment_id":122627631,"body_markdown":"`The standard specfies that some SOAP operations must be encrypted and signed. Others are unencrypted and not signed`   That&#39;s not any standard, that&#39;s an arbitrary requirement without putting any rationalization for it.","body":"<code>The standard specfies that some SOAP operations must be encrypted and signed. Others are unencrypted and not signed</code>   That&#39;s not any standard, that&#39;s an arbitrary requirement without putting any rationalization for it."}],"answers":[{"tags":[],"owner":{"account_id":1809323,"reputation":11348,"user_id":1645712,"accept_rate":73,"display_name":"gusto2"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632929785,"creation_date":1632660423,"answer_id":69335065,"question_id":69256917,"body_markdown":"&gt; How can you specify which operations shall be unencrypted and the response encrypted and which should not?\r\n\r\nThe WSSJ interceptor is assigned for the whole endpoint or client. So if you have some operations which need the security feature and some not, you better split them to separate services / endpoints. \r\n\r\n&gt;  I must use Stax, as there are hundreds of MB per request and the memory usage would be too much to handle\r\n\r\n\r\nI personally try to discourage using pure soap for really large payloads, you may still use [attachments along the WSSJ](http://ws.apache.org/wss4j/attachments.html) \r\n\r\nAnother option to pass large content with ensured signing and encryption is using a form of MFT (manged file transfer), e. g. using the OFTP2 protocol. Though this option adds some complexity. \r\n\r\n&gt; If you have an anwser for the DOM-based Interceptors that might help too and maybe I can adapt it. \r\n\r\nJust read and follow the [documentation](https://ws.apache.org/wss4j/using.html) and create a new specific question when something is not clear\r\n\r\nThis is an example from my project signing the request and expecting signed response\r\n\r\n```\r\n\r\n    &lt;cxf:cxfEndpoint id=&quot;sixxClientService&quot; \r\n                     address=&quot;${cxf.outbound.sixx.address}&quot; \r\n                     serviceClass=&quot;sixx.clientservice.ClientServicePortType&quot; \r\n                     bindingId=&quot;http://schemas.xmlsoap.org/wsdl/soap12/&quot;&gt; \r\n        &lt;cxf:features&gt;\r\n        &lt;/cxf:features&gt;\r\n        &lt;cxf:inInterceptors&gt;\r\n            &lt;bean class=&quot;org.apache.cxf.transport.common.gzip.GZIPInInterceptor&quot; /&gt;\r\n            &lt;ref bean=&quot;loggingInInterceptor&quot;/&gt; \r\n            &lt;ref bean=&quot;WSSecuritySixxResponseInterceptor&quot;/&gt;\r\n        &lt;/cxf:inInterceptors&gt;\r\n        &lt;cxf:outInterceptors&gt;\r\n            &lt;ref bean=&quot;WSSecuritySixxRequestInterceptor&quot;/&gt;\r\n            &lt;ref bean=&quot;loggingOutInterceptor&quot;/&gt;\r\n        &lt;/cxf:outInterceptors&gt;\r\n    &lt;/cxf:cxfEndpoint&gt;\r\n\r\n    &lt;bean id=&quot;WSSecuritySixxRequestInterceptor&quot; class=&quot;org.apache.cxf.ws.security.wss4j.WSS4JOutInterceptor&quot;&gt;\r\n        &lt;constructor-arg&gt;\r\n            &lt;map&gt;\r\n                &lt;entry key=&quot;action&quot; value=&quot;Timestamp Signature&quot;/&gt;\r\n                &lt;entry key=&quot;user&quot; value=&quot;sixxkey&quot;/&gt;             &lt;!-- server key alias --&gt;\r\n                &lt;entry key=&quot;timeToLive&quot; value=&quot;60&quot;/&gt;\r\n                &lt;entry key=&quot;signaturePropFile&quot; value=&quot;sixxKeystore.properties&quot;/&gt;\r\n                &lt;entry key=&quot;signatureKeyIdentifier&quot; value=&quot;DirectReference&quot;/&gt;\r\n                &lt;entry key=&quot;passwordCallbackClass&quot; value=&quot;clients.routes.wssecurity.KeystorePasswordCallback&quot;/&gt;\r\n                &lt;entry key=&quot;signatureParts&quot;\r\n                       value=&quot;{Element}{http://www.w3.org/2003/05/soap-envelope}Body;{Element}{http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd}Timestamp&quot;/&gt;\r\n                &lt;entry key=&quot;signatureDigestAlgorithm&quot; value=&quot;http://www.w3.org/2001/04/xmlenc#sha256&quot;/&gt;\r\n                &lt;entry key=&quot;signatureAlgorithm&quot; value=&quot;http://www.w3.org/2001/04/xmldsig-more#rsa-sha256&quot;/&gt;\r\n            &lt;/map&gt;\r\n        &lt;/constructor-arg&gt;\r\n    &lt;/bean&gt;\r\n    \r\n    &lt;bean id=&quot;WSSecuritySixxResponseInterceptor&quot; class=&quot;org.apache.cxf.ws.security.wss4j.WSS4JInInterceptor&quot;&gt;\r\n        &lt;constructor-arg&gt;\r\n            &lt;map&gt;\r\n                &lt;entry key=&quot;action&quot; value=&quot;Timestamp Signature&quot;/&gt;\r\n                &lt;entry key=&quot;user&quot; value=&quot;sixxkey&quot;/&gt;             &lt;!-- server key alias --&gt;\r\n                &lt;entry key=&quot;timeToLive&quot; value=&quot;60&quot;/&gt;\r\n                &lt;entry key=&quot;signaturePropFile&quot; value=&quot;sixxKeystore.properties&quot;/&gt;\r\n                &lt;entry key=&quot;signatureKeyIdentifier&quot; value=&quot;DirectReference&quot;/&gt;\r\n                &lt;entry key=&quot;passwordCallbackClass&quot; value=&quot;clients.routes.wssecurity.KeystorePasswordCallback&quot;/&gt;\r\n                &lt;entry key=&quot;signatureDigestAlgorithm&quot; value=&quot;http://www.w3.org/2001/04/xmlenc#sha256&quot;/&gt;\r\n                &lt;entry key=&quot;signatureAlgorithm&quot; value=&quot;http://www.w3.org/2001/04/xmldsig-more#rsa-sha256&quot;/&gt;\r\n            &lt;/map&gt;\r\n        &lt;/constructor-arg&gt;\r\n    &lt;/bean&gt;\r\n\r\nsixxKeystore.properties:\r\n\r\norg.apache.ws.security.crypto.provider=org.apache.ws.security.components.crypto.Merlin\r\norg.apache.ws.security.crypto.merlin.keystore.file=sixxKeystore.jks\r\norg.apache.ws.security.crypto.merlin.keystore.password=sixxpass\r\norg.apache.ws.security.crypto.merlin.keystore.type=jks\r\n\r\n\r\n```\r\n\r\nEdit:\r\n\r\n&gt; How can you specify which operations shall be unencrypted and the response encrypted and which should not?\r\n\r\nJust an idea - you still can have a reverse proxy or http-route forwarding the request to different endpoints based on SOAPAction or other header.","title":"Apache CXF specify which operations to encrypt / sign","body":"<blockquote>\n<p>How can you specify which operations shall be unencrypted and the response encrypted and which should not?</p>\n</blockquote>\n<p>The WSSJ interceptor is assigned for the whole endpoint or client. So if you have some operations which need the security feature and some not, you better split them to separate services / endpoints.</p>\n<blockquote>\n<p>I must use Stax, as there are hundreds of MB per request and the memory usage would be too much to handle</p>\n</blockquote>\n<p>I personally try to discourage using pure soap for really large payloads, you may still use <a href=\"http://ws.apache.org/wss4j/attachments.html\" rel=\"nofollow noreferrer\">attachments along the WSSJ</a></p>\n<p>Another option to pass large content with ensured signing and encryption is using a form of MFT (manged file transfer), e. g. using the OFTP2 protocol. Though this option adds some complexity.</p>\n<blockquote>\n<p>If you have an anwser for the DOM-based Interceptors that might help too and maybe I can adapt it.</p>\n</blockquote>\n<p>Just read and follow the <a href=\"https://ws.apache.org/wss4j/using.html\" rel=\"nofollow noreferrer\">documentation</a> and create a new specific question when something is not clear</p>\n<p>This is an example from my project signing the request and expecting signed response</p>\n<pre><code>\n    &lt;cxf:cxfEndpoint id=&quot;sixxClientService&quot; \n                     address=&quot;${cxf.outbound.sixx.address}&quot; \n                     serviceClass=&quot;sixx.clientservice.ClientServicePortType&quot; \n                     bindingId=&quot;http://schemas.xmlsoap.org/wsdl/soap12/&quot;&gt; \n        &lt;cxf:features&gt;\n        &lt;/cxf:features&gt;\n        &lt;cxf:inInterceptors&gt;\n            &lt;bean class=&quot;org.apache.cxf.transport.common.gzip.GZIPInInterceptor&quot; /&gt;\n            &lt;ref bean=&quot;loggingInInterceptor&quot;/&gt; \n            &lt;ref bean=&quot;WSSecuritySixxResponseInterceptor&quot;/&gt;\n        &lt;/cxf:inInterceptors&gt;\n        &lt;cxf:outInterceptors&gt;\n            &lt;ref bean=&quot;WSSecuritySixxRequestInterceptor&quot;/&gt;\n            &lt;ref bean=&quot;loggingOutInterceptor&quot;/&gt;\n        &lt;/cxf:outInterceptors&gt;\n    &lt;/cxf:cxfEndpoint&gt;\n\n    &lt;bean id=&quot;WSSecuritySixxRequestInterceptor&quot; class=&quot;org.apache.cxf.ws.security.wss4j.WSS4JOutInterceptor&quot;&gt;\n        &lt;constructor-arg&gt;\n            &lt;map&gt;\n                &lt;entry key=&quot;action&quot; value=&quot;Timestamp Signature&quot;/&gt;\n                &lt;entry key=&quot;user&quot; value=&quot;sixxkey&quot;/&gt;             &lt;!-- server key alias --&gt;\n                &lt;entry key=&quot;timeToLive&quot; value=&quot;60&quot;/&gt;\n                &lt;entry key=&quot;signaturePropFile&quot; value=&quot;sixxKeystore.properties&quot;/&gt;\n                &lt;entry key=&quot;signatureKeyIdentifier&quot; value=&quot;DirectReference&quot;/&gt;\n                &lt;entry key=&quot;passwordCallbackClass&quot; value=&quot;clients.routes.wssecurity.KeystorePasswordCallback&quot;/&gt;\n                &lt;entry key=&quot;signatureParts&quot;\n                       value=&quot;{Element}{http://www.w3.org/2003/05/soap-envelope}Body;{Element}{http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd}Timestamp&quot;/&gt;\n                &lt;entry key=&quot;signatureDigestAlgorithm&quot; value=&quot;http://www.w3.org/2001/04/xmlenc#sha256&quot;/&gt;\n                &lt;entry key=&quot;signatureAlgorithm&quot; value=&quot;http://www.w3.org/2001/04/xmldsig-more#rsa-sha256&quot;/&gt;\n            &lt;/map&gt;\n        &lt;/constructor-arg&gt;\n    &lt;/bean&gt;\n    \n    &lt;bean id=&quot;WSSecuritySixxResponseInterceptor&quot; class=&quot;org.apache.cxf.ws.security.wss4j.WSS4JInInterceptor&quot;&gt;\n        &lt;constructor-arg&gt;\n            &lt;map&gt;\n                &lt;entry key=&quot;action&quot; value=&quot;Timestamp Signature&quot;/&gt;\n                &lt;entry key=&quot;user&quot; value=&quot;sixxkey&quot;/&gt;             &lt;!-- server key alias --&gt;\n                &lt;entry key=&quot;timeToLive&quot; value=&quot;60&quot;/&gt;\n                &lt;entry key=&quot;signaturePropFile&quot; value=&quot;sixxKeystore.properties&quot;/&gt;\n                &lt;entry key=&quot;signatureKeyIdentifier&quot; value=&quot;DirectReference&quot;/&gt;\n                &lt;entry key=&quot;passwordCallbackClass&quot; value=&quot;clients.routes.wssecurity.KeystorePasswordCallback&quot;/&gt;\n                &lt;entry key=&quot;signatureDigestAlgorithm&quot; value=&quot;http://www.w3.org/2001/04/xmlenc#sha256&quot;/&gt;\n                &lt;entry key=&quot;signatureAlgorithm&quot; value=&quot;http://www.w3.org/2001/04/xmldsig-more#rsa-sha256&quot;/&gt;\n            &lt;/map&gt;\n        &lt;/constructor-arg&gt;\n    &lt;/bean&gt;\n\nsixxKeystore.properties:\n\norg.apache.ws.security.crypto.provider=org.apache.ws.security.components.crypto.Merlin\norg.apache.ws.security.crypto.merlin.keystore.file=sixxKeystore.jks\norg.apache.ws.security.crypto.merlin.keystore.password=sixxpass\norg.apache.ws.security.crypto.merlin.keystore.type=jks\n\n\n</code></pre>\n<p>Edit:</p>\n<blockquote>\n<p>How can you specify which operations shall be unencrypted and the response encrypted and which should not?</p>\n</blockquote>\n<p>Just an idea - you still can have a reverse proxy or http-route forwarding the request to different endpoints based on SOAPAction or other header.</p>\n"}],"owner":{"account_id":7440798,"reputation":1877,"user_id":5658642,"display_name":"beat"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":419,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1632929785,"creation_date":1632151040,"question_id":69256917,"body_markdown":"I am using Apache CXF to implement a SOAP server. It must comply to a standard. The standard specfies that some SOAP operations must be encrypted and signed. Others are unencrypted and not signed.\r\n\r\nI am using the interceptor approach (e.g. WSS4JStaxInInterceptor / WSS4JStaxOutInterceptor).\r\n\r\nHow can you specify which operations shall be unencrypted and the response encrypted and which should not?","title":"Apache CXF specify which operations to encrypt / sign","body":"<p>I am using Apache CXF to implement a SOAP server. It must comply to a standard. The standard specfies that some SOAP operations must be encrypted and signed. Others are unencrypted and not signed.</p>\n<p>I am using the interceptor approach (e.g. WSS4JStaxInInterceptor / WSS4JStaxOutInterceptor).</p>\n<p>How can you specify which operations shall be unencrypted and the response encrypted and which should not?</p>\n"},{"tags":["java","validation","spring-mvc","model-view-controller"],"answers":[{"tags":[],"owner":{"account_id":22363991,"reputation":55,"user_id":16580109,"display_name":"helloJava"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632929677,"creation_date":1632929677,"answer_id":69379426,"question_id":69378800,"body_markdown":"I found the solution.\r\n\t\r\n\r\n    \tList&lt;UtentiModel&gt; dati;\r\n    dati = utentiRepo.ByPassAndUsername(utenti.getPassword(), utenti.getUsername());\r\n\r\n","title":"extract data from a Repository","body":"<p>I found the solution.</p>\n<pre><code>    List&lt;UtentiModel&gt; dati;\ndati = utentiRepo.ByPassAndUsername(utenti.getPassword(), utenti.getUsername());\n</code></pre>\n"}],"owner":{"account_id":22363991,"reputation":55,"user_id":16580109,"display_name":"helloJava"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632929677,"creation_date":1632927394,"question_id":69378800,"body_markdown":"I don&#39;t know how to extract the data from the list and insert it into a List&lt;String&gt;.\r\nI&#39;m developing a simple app and I&#39;ve got the problem with login. The problem is that: I want to check if username and password present in the db corresponds to the data entered by the user. \r\n\r\nThis is my Controller:\r\n\r\n    @PostMapping(&quot;/controllo&quot;)\r\n\tpublic String logOk(@ModelAttribute(&quot;utenteForm&quot;) UtentiModel utenti, Model model) {\r\n\t\t\r\n\t\tlog.info(&quot;Controllo i dati che mi stanno arrivando dall&#39;utente: &quot;);\r\n\t\tList&lt;String&gt; dati= new ArrayList&lt;String&gt;();\r\n\t\tString nome;\r\n\t\t\r\n\t\tif(utenti!=null)\r\n\t\t{\r\n\t\t\tutenti.getPassword();\r\n\t\t\tutenti.getUsername();\r\n\t\t\tlog.info(utenti.getPassword() + &quot; &quot; + utenti.getUsername() );\r\n\t\t\r\n\t\t\r\n\t\tutentiRepo.ByPassAndUsername(utenti.getPassword(), utenti.getUsername());\r\n\t\t\r\n\t\t}\r\n\t\t//here must be the code for take the resuts from utentiRepo.\r\n    /*if username and password==null or empty -&gt;return &quot;errorPage*/\r\n\t\t\r\n\t\treturn &quot;welcome&quot;;\r\n\t}\r\n\r\n\r\nIn this controller, in debug mode, I see that users.getPassword and users.getUsername, the results correspond to those present in the database.\r\n\r\n\r\n\r\nThis is my Service class, and Interface repository was Autowired:\r\n\r\n    @Repository\r\n    public class UtentiImpl extends AbstractDao&lt;UtentiModel, Integer&gt; implements UtentiRepo {\r\n\tprivate static final Logger log= Logger.getLogger(UtentiImpl.class.getName());\r\n    @PersistenceContext\r\n    private EntityManager em;\r\n    @Autowired\r\n    public UtentiRepo utentiRepo;\r\n\r\n    private JdbcTemplate conn;\r\n        @Override\r\n\tpublic List&lt;UtentiModel&gt; ByPassAndUsername(String password, String username) {\r\n\t\tCriteriaBuilder queryBuilder= em.getCriteriaBuilder();\r\n\t\tCriteriaQuery&lt;UtentiModel&gt; query= queryBuilder.createQuery(UtentiModel.class);\r\n\r\n\t\tString toSearch= &quot;%&quot; + username + &quot;%&quot;;\r\n\t\t\r\n\t\tRoot&lt;UtentiModel&gt; rec= query.from(UtentiModel.class);\r\n\t\t/*Ricerca &quot;viceversa&quot;, nome-cognome, cognome-nome*/\r\n\t\tExpression&lt;String&gt; exp= queryBuilder.concat(rec.&lt;String&gt;get(&quot;username&quot;), &quot; &quot;);\r\n\t\texp=queryBuilder.concat(exp, rec.&lt;String&gt;get(&quot;password&quot;));\r\n\t\t\r\n\t\tExpression&lt;String&gt; exp2= queryBuilder.concat(rec.&lt;String&gt;get(&quot;password&quot;), &quot; &quot;);\r\n\t\texp2=queryBuilder.concat(exp2, rec.&lt;String&gt;get(&quot;username&quot;));\r\n\t\t\r\n\t\t\r\n\t\tPredicate p=queryBuilder.or(queryBuilder.like(exp, toSearch), queryBuilder.like(exp2, toSearch));\r\n\t\t\r\n\t\tquery.select(rec).where(p);\r\n\t\t\r\n\t\tList&lt;UtentiModel&gt; ut=em.createQuery(query).getResultList();\r\n\t\tem.clear();\r\n\t\t\r\n\t\treturn ut;\r\n\t}\r\n\r\n\r\nMy question is that. How may I take data user.getUsername and user.getPassword and assign them into a list. Because after that I&#39;d like to create the condition if(username and password!=null and !=Empty) gotTo welcomeUserPage, if they are null or empty-&gt; gotTo error page. And I don&#39;t know how to implement this kind of logic. The method &quot;ByPassAndUsername&quot; doing the search if password and username that user insert into the View, if exist into DB or not. So if the user give to me the wrong password or username, in utentiRepo, in debug mode, it&#39;s all empty. If the user give to me correct username and password, so in utentiRepo I see the result. But the problem it&#39;s that I have to create some kind of controll, beacause if I don&#39;t create controll, it will go always in welcomePage, never in ErrorPage.","title":"extract data from a Repository","body":"<p>I don't know how to extract the data from the list and insert it into a List.\nI'm developing a simple app and I've got the problem with login. The problem is that: I want to check if username and password present in the db corresponds to the data entered by the user.</p>\n<p>This is my Controller:</p>\n<pre><code>@PostMapping(&quot;/controllo&quot;)\npublic String logOk(@ModelAttribute(&quot;utenteForm&quot;) UtentiModel utenti, Model model) {\n    \n    log.info(&quot;Controllo i dati che mi stanno arrivando dall'utente: &quot;);\n    List&lt;String&gt; dati= new ArrayList&lt;String&gt;();\n    String nome;\n    \n    if(utenti!=null)\n    {\n        utenti.getPassword();\n        utenti.getUsername();\n        log.info(utenti.getPassword() + &quot; &quot; + utenti.getUsername() );\n    \n    \n    utentiRepo.ByPassAndUsername(utenti.getPassword(), utenti.getUsername());\n    \n    }\n    //here must be the code for take the resuts from utentiRepo.\n/*if username and password==null or empty -&gt;return &quot;errorPage*/\n    \n    return &quot;welcome&quot;;\n}\n</code></pre>\n<p>In this controller, in debug mode, I see that users.getPassword and users.getUsername, the results correspond to those present in the database.</p>\n<p>This is my Service class, and Interface repository was Autowired:</p>\n<pre><code>@Repository\npublic class UtentiImpl extends AbstractDao&lt;UtentiModel, Integer&gt; implements UtentiRepo {\nprivate static final Logger log= Logger.getLogger(UtentiImpl.class.getName());\n@PersistenceContext\nprivate EntityManager em;\n@Autowired\npublic UtentiRepo utentiRepo;\n\nprivate JdbcTemplate conn;\n    @Override\npublic List&lt;UtentiModel&gt; ByPassAndUsername(String password, String username) {\n    CriteriaBuilder queryBuilder= em.getCriteriaBuilder();\n    CriteriaQuery&lt;UtentiModel&gt; query= queryBuilder.createQuery(UtentiModel.class);\n\n    String toSearch= &quot;%&quot; + username + &quot;%&quot;;\n    \n    Root&lt;UtentiModel&gt; rec= query.from(UtentiModel.class);\n    /*Ricerca &quot;viceversa&quot;, nome-cognome, cognome-nome*/\n    Expression&lt;String&gt; exp= queryBuilder.concat(rec.&lt;String&gt;get(&quot;username&quot;), &quot; &quot;);\n    exp=queryBuilder.concat(exp, rec.&lt;String&gt;get(&quot;password&quot;));\n    \n    Expression&lt;String&gt; exp2= queryBuilder.concat(rec.&lt;String&gt;get(&quot;password&quot;), &quot; &quot;);\n    exp2=queryBuilder.concat(exp2, rec.&lt;String&gt;get(&quot;username&quot;));\n    \n    \n    Predicate p=queryBuilder.or(queryBuilder.like(exp, toSearch), queryBuilder.like(exp2, toSearch));\n    \n    query.select(rec).where(p);\n    \n    List&lt;UtentiModel&gt; ut=em.createQuery(query).getResultList();\n    em.clear();\n    \n    return ut;\n}\n</code></pre>\n<p>My question is that. How may I take data user.getUsername and user.getPassword and assign them into a list. Because after that I'd like to create the condition if(username and password!=null and !=Empty) gotTo welcomeUserPage, if they are null or empty-&gt; gotTo error page. And I don't know how to implement this kind of logic. The method &quot;ByPassAndUsername&quot; doing the search if password and username that user insert into the View, if exist into DB or not. So if the user give to me the wrong password or username, in utentiRepo, in debug mode, it's all empty. If the user give to me correct username and password, so in utentiRepo I see the result. But the problem it's that I have to create some kind of controll, beacause if I don't create controll, it will go always in welcomePage, never in ErrorPage.</p>\n"},{"tags":["java","spring-boot","jpa"],"answers":[{"tags":[],"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1632929629,"creation_date":1632929629,"answer_id":69379416,"question_id":69379245,"body_markdown":"You shouldn&#39;t use a body with get. Here&#39;s the reason why: https://stackoverflow.com/questions/978061/http-get-with-request-body\r\n\r\nBut in your code there is missing an annotation @RequestBody\r\n\r\n    public ResponseEntity&lt;List&lt;Posts&gt;&gt;findPost(@RequestBody PostSearch username) \r\n\r\nWithout this annotation the body will not be set to the username parameter.\r\n\r\nPlease find more information here: https://www.baeldung.com/spring-request-response-body","title":"I want to get info only filtering by username","body":"<p>You shouldn't use a body with get. Here's the reason why: <a href=\"https://stackoverflow.com/questions/978061/http-get-with-request-body\">HTTP GET with request body</a></p>\n<p>But in your code there is missing an annotation @RequestBody</p>\n<pre><code>public ResponseEntity&lt;List&lt;Posts&gt;&gt;findPost(@RequestBody PostSearch username) \n</code></pre>\n<p>Without this annotation the body will not be set to the username parameter.</p>\n<p>Please find more information here: <a href=\"https://www.baeldung.com/spring-request-response-body\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-request-response-body</a></p>\n"}],"owner":{"account_id":20018055,"reputation":86,"user_id":14673587,"display_name":"JB P"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69379416,"answer_count":1,"score":0,"last_activity_date":1632929629,"creation_date":1632928993,"question_id":69379245,"body_markdown":"I want to get results that I filtering by &quot;username&quot;\r\n\r\nThis is my Controller\r\n```\r\nimport java.util.List;\r\n\r\n@RequestMapping(&quot;/post&quot;)\r\n@RestController\r\n@RequiredArgsConstructor\r\npublic class PostController {\r\n\r\n    private final PostService postService;\r\n\r\n    @GetMapping(&quot;/data&quot;)\r\n    public ResponseEntity&lt;List&lt;Posts&gt;&gt;findPost(PostSearch username) {\r\n        return new ResponseEntity&lt;&gt;(postService.findPosts(username), HttpStatus.OK);\r\n    }\r\n}\r\n```\r\nThis is Service.class\r\n```\r\n@Service\r\n@Transactional\r\n@RequiredArgsConstructor\r\npublic class PostService {\r\n\r\n    private final PostsRepository postsRepository;\r\n\r\n\r\n\r\n    public List&lt;Posts&gt; findPosts(PostSearch postSearch){\r\n        return postsRepository.findAllByUsername(postSearch);\r\n  ```\r\nThis is PostSearch.class\r\n```\r\n@Getter\r\n@Setter\r\npublic class PostSearch {\r\n\r\n    private String username;\r\n}\r\n```\r\nThis is PostsRepository.class\r\n```\r\n@Repository\r\npublic class PostsRepository {\r\n\r\n    private final EntityManager em;\r\n\r\n    public PostsRepository(EntityManager em) {\r\n        this.em = em;\r\n    }\r\n\r\n    public void save(Posts posts){\r\n        em.persist(posts);\r\n    }\r\n\r\n    public List&lt;Posts&gt; findAllByUsername(PostSearch postSearch){\r\n        CriteriaBuilder cb = em.getCriteriaBuilder();\r\n        CriteriaQuery&lt;Posts&gt; cq = cb.createQuery(Posts.class);\r\n        Root&lt;Posts&gt; o = cq.from(Posts.class);\r\n        Join&lt;Object,Object&gt; m = o.join(&quot;member&quot;, JoinType.INNER); //posts의 속성 member\r\n\r\n        List&lt;Predicate&gt; criteria = new ArrayList&lt;&gt;();\r\n\r\n        //username으로 post 검색\r\n        if (StringUtils.hasText(postSearch.getUsername())) {\r\n            Predicate username = cb.equal(m.get(&quot;username&quot;),postSearch.getUsername());\r\n                    //cb.like(m.&lt;String&gt;get(&quot;username&quot;), &quot;%&quot; + postSearch.getUsername() + &quot;%&quot;); //member.username\r\n            criteria.add(username);\r\n        }\r\n\r\n        cq.where(cb.and(criteria.toArray(new Predicate[criteria.size()])));\r\n        TypedQuery&lt;Posts&gt; query = em.createQuery(cq).setMaxResults(1000);\r\n        return query.getResultList();\r\n    }\r\n}\r\n```\r\n\r\nIn my DB(MySQL), Posts Table has data like this\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nWhen I send GetMethod through PostMan, It takes all data from DB like this\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5W1Wh.png\r\n  [2]: https://i.stack.imgur.com/WE6IV.png\r\n\r\nI just want to &quot;userA&quot; info As JsonType but it takes all of users.\r\n\r\nI don&#39;t know the reason....\r\n\r\n","title":"I want to get info only filtering by username","body":"<p>I want to get results that I filtering by &quot;username&quot;</p>\n<p>This is my Controller</p>\n<pre><code>import java.util.List;\n\n@RequestMapping(&quot;/post&quot;)\n@RestController\n@RequiredArgsConstructor\npublic class PostController {\n\n    private final PostService postService;\n\n    @GetMapping(&quot;/data&quot;)\n    public ResponseEntity&lt;List&lt;Posts&gt;&gt;findPost(PostSearch username) {\n        return new ResponseEntity&lt;&gt;(postService.findPosts(username), HttpStatus.OK);\n    }\n}\n</code></pre>\n<p>This is Service.class</p>\n<pre><code>@Service\n@Transactional\n@RequiredArgsConstructor\npublic class PostService {\n\n    private final PostsRepository postsRepository;\n\n\n\n    public List&lt;Posts&gt; findPosts(PostSearch postSearch){\n        return postsRepository.findAllByUsername(postSearch);\n</code></pre>\n<p>This is PostSearch.class</p>\n<pre><code>@Getter\n@Setter\npublic class PostSearch {\n\n    private String username;\n}\n</code></pre>\n<p>This is PostsRepository.class</p>\n<pre><code>@Repository\npublic class PostsRepository {\n\n    private final EntityManager em;\n\n    public PostsRepository(EntityManager em) {\n        this.em = em;\n    }\n\n    public void save(Posts posts){\n        em.persist(posts);\n    }\n\n    public List&lt;Posts&gt; findAllByUsername(PostSearch postSearch){\n        CriteriaBuilder cb = em.getCriteriaBuilder();\n        CriteriaQuery&lt;Posts&gt; cq = cb.createQuery(Posts.class);\n        Root&lt;Posts&gt; o = cq.from(Posts.class);\n        Join&lt;Object,Object&gt; m = o.join(&quot;member&quot;, JoinType.INNER); //posts의 속성 member\n\n        List&lt;Predicate&gt; criteria = new ArrayList&lt;&gt;();\n\n        //username으로 post 검색\n        if (StringUtils.hasText(postSearch.getUsername())) {\n            Predicate username = cb.equal(m.get(&quot;username&quot;),postSearch.getUsername());\n                    //cb.like(m.&lt;String&gt;get(&quot;username&quot;), &quot;%&quot; + postSearch.getUsername() + &quot;%&quot;); //member.username\n            criteria.add(username);\n        }\n\n        cq.where(cb.and(criteria.toArray(new Predicate[criteria.size()])));\n        TypedQuery&lt;Posts&gt; query = em.createQuery(cq).setMaxResults(1000);\n        return query.getResultList();\n    }\n}\n</code></pre>\n<p>In my DB(MySQL), Posts Table has data like this</p>\n<p><a href=\"https://i.stack.imgur.com/5W1Wh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5W1Wh.png\" alt=\"enter image description here\" /></a></p>\n<p>When I send GetMethod through PostMan, It takes all data from DB like this</p>\n<p><a href=\"https://i.stack.imgur.com/WE6IV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WE6IV.png\" alt=\"enter image description here\" /></a></p>\n<p>I just want to &quot;userA&quot; info As JsonType but it takes all of users.</p>\n<p>I don't know the reason....</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":4,"creation_date":1632903681,"post_id":69372823,"comment_id":122615804,"body_markdown":"So, where did you get stuck when attempting to tackle this problem? On Stackoverflow, asking a question should be about a specific programming problem. People will not do your homework, as this will also not serve you well in learning programming in general. So show that you made an attempt at solving the issue, and you will get the help you want","body":"So, where did you get stuck when attempting to tackle this problem? On Stackoverflow, asking a question should be about a specific programming problem. People will not do your homework, as this will also not serve you well in learning programming in general. So show that you made an attempt at solving the issue, and you will get the help you want"},{"owner":{"account_id":3254895,"reputation":67,"user_id":2744282,"display_name":"Juerrrgen"},"score":1,"creation_date":1632903954,"post_id":69372823,"comment_id":122615907,"body_markdown":"you can split the string with `string.split()` , iterate through the resulting array, look for an empty field, replace that field with &quot;13&quot; and the build another string from the array.","body":"you can split the string with <code>string.split()</code> , iterate through the resulting array, look for an empty field, replace that field with &quot;13&quot; and the build another string from the array."},{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":3,"creation_date":1632904221,"post_id":69372823,"comment_id":122616000,"body_markdown":"https://idownvotedbecau.se/noattempt/","body":"<a href=\"https://idownvotedbecau.se/noattempt/\" rel=\"nofollow noreferrer\">idownvotedbecau.se/noattempt</a>"}],"answers":[{"tags":[],"owner":{"account_id":15378480,"reputation":42,"user_id":11094528,"display_name":"Stephan"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1632904319,"creation_date":1632904319,"answer_id":69372979,"question_id":69372823,"body_markdown":"What have you tried so far?\r\n\r\nYou could solve this problem in many ways i think. If you like to use regular expression, you could do it that way: `([^;]*);;+`.\r\n\r\nOr you could use a simple `String.split(&quot;;&quot;);` and iterate over the resulting array. Every empty string indicates that there was this `;;`\r\n\r\n","title":"How to populate with previous value in ; separated string?","body":"<p>What have you tried so far?</p>\n<p>You could solve this problem in many ways i think. If you like to use regular expression, you could do it that way: <code>([^;]*);;+</code>.</p>\n<p>Or you could use a simple <code>String.split(&quot;;&quot;);</code> and iterate over the resulting array. Every empty string indicates that there was this <code>;;</code></p>\n"},{"tags":[],"owner":{"account_id":5931354,"reputation":64,"user_id":4665684,"display_name":"Powerful Lee"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1632928992,"creation_date":1632904518,"answer_id":69373024,"question_id":69372823,"body_markdown":"\r\n    String str = &quot;11;21;12;22;13;;14;24;15;25&quot;;\r\n\tString[] a = str.split(&quot;;&quot;);\r\n\r\n\tfor(int i=0; i&lt;a.length; i++){\r\n\t\tif(a[i].length()==0){\r\n\t\t\tSystem.out.println(a[i-1]);\r\n\t\t}\r\n\t}\r\n","title":"How to populate with previous value in ; separated string?","body":"<pre><code>String str = &quot;11;21;12;22;13;;14;24;15;25&quot;;\nString[] a = str.split(&quot;;&quot;);\n\nfor(int i=0; i&lt;a.length; i++){\n    if(a[i].length()==0){\n        System.out.println(a[i-1]);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user4910279"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632913112,"creation_date":1632904541,"answer_id":69373034,"question_id":69372823,"body_markdown":"Try this.\r\n\r\n    static final Pattern PAT = Pattern.compile(&quot;([^;]+)(;;+)&quot;);\r\n\r\n    public static void main(String[] args) {\r\n        String input = &quot;11;21;12;22;13;;;14;24;15;25&quot;;\r\n        String output = PAT.matcher(input)\r\n            .replaceAll(m -&gt; (m.group(1) + &quot;;&quot;).repeat(m.group(2).length()));\r\n        System.out.println(output);\r\n    }\r\n\r\noutput:\r\n\r\n    11;21;12;22;13;13;13;14;24;15;25\r\n\r\n","title":"How to populate with previous value in ; separated string?","body":"<p>Try this.</p>\n<pre><code>static final Pattern PAT = Pattern.compile(&quot;([^;]+)(;;+)&quot;);\n\npublic static void main(String[] args) {\n    String input = &quot;11;21;12;22;13;;;14;24;15;25&quot;;\n    String output = PAT.matcher(input)\n        .replaceAll(m -&gt; (m.group(1) + &quot;;&quot;).repeat(m.group(2).length()));\n    System.out.println(output);\n}\n</code></pre>\n<p>output:</p>\n<pre><code>11;21;12;22;13;13;13;14;24;15;25\n</code></pre>\n"}],"owner":{"account_id":22892153,"reputation":1,"user_id":17032134,"display_name":"Soubarna Dutta"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":3,"score":-3,"last_activity_date":1632929129,"creation_date":1632903592,"question_id":69372823,"body_markdown":"I have a string separated by semicolon like this: \r\n`&quot;11;21;12;22;13;;14;24;15;25&quot;`. \r\n\r\nLook one value is missing after `13`. \r\nI Want to populate that missing number with `13`(previous value) and store it into another string.","title":"How to populate with previous value in ; separated string?","body":"<p>I have a string separated by semicolon like this:\n<code>&quot;11;21;12;22;13;;14;24;15;25&quot;</code>.</p>\n<p>Look one value is missing after <code>13</code>.\nI Want to populate that missing number with <code>13</code>(previous value) and store it into another string.</p>\n"},{"tags":["java","xml","jaxb","wsimport"],"comments":[{"owner":{"account_id":246,"reputation":107903,"user_id":304,"accept_rate":40,"display_name":"McDowell"},"score":0,"creation_date":1365080379,"post_id":15810297,"comment_id":22488373,"body_markdown":"You have changed `&lt;jxb:package name=&quot;com.mycompany.mywspath&quot;/&gt;`?","body":"You have changed <code>&lt;jxb:package name=&quot;com.mycompany.mywspath&quot;&#47;&gt;</code>?"},{"owner":{"account_id":28469,"reputation":1687,"user_id":76081,"accept_rate":61,"display_name":"alexroat"},"score":0,"creation_date":1365080715,"post_id":15810297,"comment_id":22488633,"body_markdown":"What do you mean with &quot;you have changed ... ?&quot;  ?","body":"What do you mean with &quot;you have changed ... ?&quot;  ?"},{"owner":{"account_id":246,"reputation":107903,"user_id":304,"accept_rate":40,"display_name":"McDowell"},"score":0,"creation_date":1365081319,"post_id":15810297,"comment_id":22489090,"body_markdown":"I mean change `package name=&quot;com.mycompany.mywspath&quot;` to `package name=&quot;com.mycompany.mywspath.test&quot;`","body":"I mean change <code>package name=&quot;com.mycompany.mywspath&quot;</code> to <code>package name=&quot;com.mycompany.mywspath.test&quot;</code>"},{"owner":{"account_id":28469,"reputation":1687,"user_id":76081,"accept_rate":61,"display_name":"alexroat"},"score":0,"creation_date":1365082008,"post_id":15810297,"comment_id":22489622,"body_markdown":"yes, all the classes are stil generated in com.mycompany.mywspath instead of com.mycompany.mywspath.test","body":"yes, all the classes are stil generated in com.mycompany.mywspath instead of com.mycompany.mywspath.test"}],"answers":[{"tags":[],"owner":{"account_id":3719338,"reputation":12130,"user_id":3094731,"accept_rate":56,"display_name":"Abdullah Khan"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1632928936,"creation_date":1489395833,"answer_id":42759812,"question_id":15810297,"body_markdown":"Use \r\n\r\n    wsimport -p com.bingo.charlie YOUR_WSDL_URL\r\n\r\nto define a package for your generated files.","title":"wsimport : unable to rename the package name","body":"<p>Use</p>\n<pre><code>wsimport -p com.bingo.charlie YOUR_WSDL_URL\n</code></pre>\n<p>to define a package for your generated files.</p>\n"},{"tags":[],"owner":{"account_id":9589054,"reputation":1,"user_id":7120663,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1580062433,"creation_date":1580062433,"answer_id":59921300,"question_id":15810297,"body_markdown":"Use `wsimport -b binding.xml` to change the package for the generated files.\r\n\r\nSource: [configure target packages][1]\r\n\r\n\r\n  [1]: https://github.com/highsource/maven-jaxb2-plugin/wiki/Configure-Target-Packages-in-Binding-Files","title":"wsimport : unable to rename the package name","body":"<p>Use <code>wsimport -b binding.xml</code> to change the package for the generated files.</p>\n\n<p>Source: <a href=\"https://github.com/highsource/maven-jaxb2-plugin/wiki/Configure-Target-Packages-in-Binding-Files\" rel=\"nofollow noreferrer\">configure target packages</a></p>\n"}],"owner":{"account_id":28469,"reputation":1687,"user_id":76081,"accept_rate":61,"display_name":"alexroat"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4743,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":42759812,"answer_count":2,"score":2,"last_activity_date":1632928936,"creation_date":1365076262,"question_id":15810297,"body_markdown":"I&#39;ve a wsdl at an address like\r\nhttps://mycompany.com/mywspath/Documents.svc?wsdl\r\nIt seems that xsd is visible at \r\nhttps://mycompany.com/mywspath/Documents.svc?wsdl&amp;xsd=xsd0\r\n\r\ngiving a \r\n\r\n    wsimport https://mycompany.com/mywspath/Documents.svc?wsdl\r\n\r\nI obtain hierararchy containing the classes related to Documents and the dependencies (com.microsoft,...)\r\n\r\n    com\r\n    -microsoft\r\n    --...\r\n    -mycompany\r\n    --...\r\n    org\r\n    -datacontract\r\n    --schemas\r\n    ---...\r\n\r\n\r\nMy willing is to refactor the generated clasees in com.mycompany.mywspath to com.mycompany.mywspath.test or com.mycompany.mywspathA\r\n\r\nThis because there are other webservice that contain other definitions in the same namespace so the generated classes are stored in the same package com.mycompany.mywspath and the ObjectFactory.class obtained from the first wsimport is overwritten from the one generated from the following calls.\r\n\r\nMy willing is to avoid this binding on different packages the namespace coming from different webservices using -b &lt;binding XML&gt; option of wsimport.\r\n\r\nI used a XML binding file like this:\r\n\r\n\r\n   \r\n\r\n     &lt;jxb:bindings \r\n        \tjxb:version=&quot;2.1&quot;  \r\n            xmlns:wsdl=&quot;http://schemas.xmlsoap.org/wsdl/&quot;\t\r\n        \txmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; \r\n        \txmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; \r\n        \txmlns:jxb=&quot;http://java.sun.com/xml/ns/jaxb&quot;\r\n        \txmlns:xjc=&quot;http://java.sun.com/xml/ns/jaxb/xjc&quot;&gt;\r\n        \r\n        \t&lt;bindings schemaLocation=&quot;https://https://mycompany.com/mywspath/Documents.svc?xsd=xsd0&quot;\r\n        \t\t\tnode=&quot;//xsd:schema[@targetNamespace=&#39;http://mycompany.com/mywspath&#39;]&quot;&gt;\r\n        \t\t&lt;jxb:schemaBindings&gt;\r\n        \t\t\t&lt;jxb:package name=&quot;com.mycompany.mywspath&quot;/&gt;\r\n        \t\t&lt;/jxb:schemaBindings&gt;\r\n        \t&lt;/bindings&gt;\r\n        \r\n        &lt;/jxb:bindings&gt;\r\n\r\n\r\n\r\nClass are originated in the same place without any modification and com/mycompany/mywspath/test is not originated.\r\n\r\nHow can I move those classes to com/mycompany/mywspath/test package ?\r\n\r\n\r\n\r\n","title":"wsimport : unable to rename the package name","body":"<p>I've a wsdl at an address like\n<a href=\"https://mycompany.com/mywspath/Documents.svc?wsdl\" rel=\"nofollow\">https://mycompany.com/mywspath/Documents.svc?wsdl</a>\nIt seems that xsd is visible at \n<a href=\"https://mycompany.com/mywspath/Documents.svc?wsdl&amp;xsd=xsd0\" rel=\"nofollow\">https://mycompany.com/mywspath/Documents.svc?wsdl&amp;xsd=xsd0</a></p>\n\n<p>giving a </p>\n\n<pre><code>wsimport https://mycompany.com/mywspath/Documents.svc?wsdl\n</code></pre>\n\n<p>I obtain hierararchy containing the classes related to Documents and the dependencies (com.microsoft,...)</p>\n\n<pre><code>com\n-microsoft\n--...\n-mycompany\n--...\norg\n-datacontract\n--schemas\n---...\n</code></pre>\n\n<p>My willing is to refactor the generated clasees in com.mycompany.mywspath to com.mycompany.mywspath.test or com.mycompany.mywspathA</p>\n\n<p>This because there are other webservice that contain other definitions in the same namespace so the generated classes are stored in the same package com.mycompany.mywspath and the ObjectFactory.class obtained from the first wsimport is overwritten from the one generated from the following calls.</p>\n\n<p>My willing is to avoid this binding on different packages the namespace coming from different webservices using -b  option of wsimport.</p>\n\n<p>I used a XML binding file like this:</p>\n\n<pre><code> &lt;jxb:bindings \n        jxb:version=\"2.1\"  \n        xmlns:wsdl=\"http://schemas.xmlsoap.org/wsdl/\"   \n        xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" \n        xmlns:xs=\"http://www.w3.org/2001/XMLSchema\" \n        xmlns:jxb=\"http://java.sun.com/xml/ns/jaxb\"\n        xmlns:xjc=\"http://java.sun.com/xml/ns/jaxb/xjc\"&gt;\n\n        &lt;bindings schemaLocation=\"https://https://mycompany.com/mywspath/Documents.svc?xsd=xsd0\"\n                node=\"//xsd:schema[@targetNamespace='http://mycompany.com/mywspath']\"&gt;\n            &lt;jxb:schemaBindings&gt;\n                &lt;jxb:package name=\"com.mycompany.mywspath\"/&gt;\n            &lt;/jxb:schemaBindings&gt;\n        &lt;/bindings&gt;\n\n    &lt;/jxb:bindings&gt;\n</code></pre>\n\n<p>Class are originated in the same place without any modification and com/mycompany/mywspath/test is not originated.</p>\n\n<p>How can I move those classes to com/mycompany/mywspath/test package ?</p>\n"},{"tags":["java","jboss","wildfly"],"comments":[{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1632862163,"post_id":69363976,"comment_id":122607714,"body_markdown":"You are converting from an application server that stopped support 5 years ago.  You need to figure out where each of these files are now (if they still exist).  It looks like you&#39;re running an EJB client of some sort - do you know if your client code still works?  Wildfly does have `org.jboss.as.server.Main` but I&#39;m not positive that it works the same as your old server.","body":"You are converting from an application server that stopped support 5 years ago.  You need to figure out where each of these files are now (if they still exist).  It looks like you&#39;re running an EJB client of some sort - do you know if your client code still works?  Wildfly does have <code>org.jboss.as.server.Main</code> but I&#39;m not positive that it works the same as your old server."}],"answers":[{"tags":[],"owner":{"account_id":2551381,"reputation":466,"user_id":2215065,"accept_rate":62,"display_name":"anais1477"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1632928528,"creation_date":1632928528,"answer_id":69379121,"question_id":69363976,"body_markdown":"My bad, i&#39;m on windows, i&#39;ve to use .bat instead of .sh\r\n\r\nSo like this :\r\n\r\n&gt; C:/WildFly/wildfly-21.0.2.Final/bin/appclient.bat C:/WildFly/wildfly-21.0.2.Final/standalone/deployments/MYPROJECT.ear#MYPROJECT_BATCH-1.0.jar batch MYBEAUTIFULBATCH","title":"Wildfly 21 - run application client","body":"<p>My bad, i'm on windows, i've to use .bat instead of .sh</p>\n<p>So like this :</p>\n<blockquote>\n<p>C:/WildFly/wildfly-21.0.2.Final/bin/appclient.bat C:/WildFly/wildfly-21.0.2.Final/standalone/deployments/MYPROJECT.ear#MYPROJECT_BATCH-1.0.jar batch MYBEAUTIFULBATCH</p>\n</blockquote>\n"}],"owner":{"account_id":2551381,"reputation":466,"user_id":2215065,"accept_rate":62,"display_name":"anais1477"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":217,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69379121,"answer_count":1,"score":0,"last_activity_date":1632928528,"creation_date":1632840688,"question_id":69363976,"body_markdown":"I was previously on JBoss EAP 5 and runned an application client with the following command line : \r\n\r\n&gt; export RUNCLIENT_CLASSPATH=&quot;$RUNCLIENT_CLASSPATH:$JBOSS_HOME/client/jbossall-client.jar:$JBOSS_HOME/client/jboss-metadata.jar:$JBOSS_HOME/lib/jboss-classloader.jar:$JBOSS_HOME/lib/jboss-classloading-spi.jar:$JBOSS_HOME/lib/jboss-classloading-vfs.jar:$JBOSS_HOME/lib/jboss-classloading.jar:$JBOSS_HOME/lib/jboss-dependency.jar:$JBOSS_HOME/lib/jboss-reflect.jar:$JBOSS_HOME/lib/jboss-kernel.jar:$JBOSS_HOME/lib/jboss-xml-binding.jar:$JBOSS_HOME/lib/jboss-vfs.jar:$JBOSS_HOME/common/lib/jboss-ejb3-core.jar:$JBOSS_HOME/common/lib/antlr.jar:$JBOSS_HOME/common/lib/commons-collections.jar:$JBOSS_HOME/common/lib/commons-logging.jar:$JBOSS_HOME/common/lib/hibernate-core.jar:$JBOSS_HOME/common/lib/quartz.jar:$JBOSS_HOME/server/default/lib/postgresql-8.4-701.jdbc3.jar:$JBOSS_HOME/lib/dom4j.jar:$JBOSS_HOME/server/default/lib/jaxrpc.jar:$JBOSS_HOME/server/default/lib/saaj.jar:$JBOSS_HOME/server/default/lib/commons-discovery-0.2.jar:$JBOSS_HOME/server/default/lib/axis.jar:$JBOSS_HOME/server/default/lib/wsdl4j.jar:$JBOSS_HOME/client/activation.jar:$JBOSS_HOME/client/mail.jar:$JBOSS_HOME/server/default/lib/mysql-connector-java-5.1.10-bin.jar:$JBOSS_HOME/common/lib/c3p0-0.9.1.2.jar:$JBOSS_HOME/common/lib/poi.jar&quot;\r\n&gt; \r\n&gt; \r\n&gt; $JAVA_HOME/bin/java  -Djava.naming.factory.initial=org.jnp.interfaces.NamingContextFactory   -Xmx1024m -classpath $RUNCLIENT_CLASSPATH org.jboss.client.AppClientMain -jbossclient Main batch MYBEAUTIFULBATCH -launchers org.jboss.ejb3.client.ClientLauncher -j2ee.clientName MYPROJECT_BATCH\r\n\r\n\r\nI&#39;ve upgrade to wildfly 21 but i can&#39;t find how to do the same ? \r\n\r\nI tried the following : \r\n\r\n&gt; C:/WildFly/wildfly-21.0.2.Final/bin/appclient.sh C:/WildFly/wildfly-21.0.2.Final/standalone/deployments/MYPROJECT.ear#MYPROJECT_BATCH-1.0.jar batch MYBEAUTIFULBATCH \r\n\r\nBut i get the error :\r\n\r\n&gt; Error: Could not find or load main class org.jboss.modules.Main\r\n\r\nHow can i do on Wildfly what i did on JBoss 5 ?\r\n\r\n","title":"Wildfly 21 - run application client","body":"<p>I was previously on JBoss EAP 5 and runned an application client with the following command line :</p>\n<blockquote>\n<p>export RUNCLIENT_CLASSPATH=&quot;$RUNCLIENT_CLASSPATH:$JBOSS_HOME/client/jbossall-client.jar:$JBOSS_HOME/client/jboss-metadata.jar:$JBOSS_HOME/lib/jboss-classloader.jar:$JBOSS_HOME/lib/jboss-classloading-spi.jar:$JBOSS_HOME/lib/jboss-classloading-vfs.jar:$JBOSS_HOME/lib/jboss-classloading.jar:$JBOSS_HOME/lib/jboss-dependency.jar:$JBOSS_HOME/lib/jboss-reflect.jar:$JBOSS_HOME/lib/jboss-kernel.jar:$JBOSS_HOME/lib/jboss-xml-binding.jar:$JBOSS_HOME/lib/jboss-vfs.jar:$JBOSS_HOME/common/lib/jboss-ejb3-core.jar:$JBOSS_HOME/common/lib/antlr.jar:$JBOSS_HOME/common/lib/commons-collections.jar:$JBOSS_HOME/common/lib/commons-logging.jar:$JBOSS_HOME/common/lib/hibernate-core.jar:$JBOSS_HOME/common/lib/quartz.jar:$JBOSS_HOME/server/default/lib/postgresql-8.4-701.jdbc3.jar:$JBOSS_HOME/lib/dom4j.jar:$JBOSS_HOME/server/default/lib/jaxrpc.jar:$JBOSS_HOME/server/default/lib/saaj.jar:$JBOSS_HOME/server/default/lib/commons-discovery-0.2.jar:$JBOSS_HOME/server/default/lib/axis.jar:$JBOSS_HOME/server/default/lib/wsdl4j.jar:$JBOSS_HOME/client/activation.jar:$JBOSS_HOME/client/mail.jar:$JBOSS_HOME/server/default/lib/mysql-connector-java-5.1.10-bin.jar:$JBOSS_HOME/common/lib/c3p0-0.9.1.2.jar:$JBOSS_HOME/common/lib/poi.jar&quot;</p>\n<p>$JAVA_HOME/bin/java  -Djava.naming.factory.initial=org.jnp.interfaces.NamingContextFactory   -Xmx1024m -classpath $RUNCLIENT_CLASSPATH org.jboss.client.AppClientMain -jbossclient Main batch MYBEAUTIFULBATCH -launchers org.jboss.ejb3.client.ClientLauncher -j2ee.clientName MYPROJECT_BATCH</p>\n</blockquote>\n<p>I've upgrade to wildfly 21 but i can't find how to do the same ?</p>\n<p>I tried the following :</p>\n<blockquote>\n<p>C:/WildFly/wildfly-21.0.2.Final/bin/appclient.sh C:/WildFly/wildfly-21.0.2.Final/standalone/deployments/MYPROJECT.ear#MYPROJECT_BATCH-1.0.jar batch MYBEAUTIFULBATCH</p>\n</blockquote>\n<p>But i get the error :</p>\n<blockquote>\n<p>Error: Could not find or load main class org.jboss.modules.Main</p>\n</blockquote>\n<p>How can i do on Wildfly what i did on JBoss 5 ?</p>\n"},{"tags":["java","spring","spring-boot","testing","shutdown"],"answers":[{"tags":[],"owner":{"account_id":2063414,"reputation":41809,"user_id":1839482,"accept_rate":19,"display_name":"Arghya Sadhu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1596429193,"creation_date":1596429193,"answer_id":63223782,"question_id":63222048,"body_markdown":"You can refer to the test that is already there in spring boot actuator code [here][1]\r\n\r\n\r\n\r\n    @SpringBootApplication\r\n    @ConfigurationPropertiesScan\r\n    public class SampleActuatorApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(SampleActuatorApplication.class, args);\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic HealthIndicator helloHealthIndicator() {\r\n    \t\treturn () -&gt; Health.up().withDetail(&quot;hello&quot;, &quot;world&quot;).build();\r\n    \t}\r\n    \r\n    }\r\n\r\n    ---\r\n\r\n    @SpringBootTest(classes = { ShutdownSampleActuatorApplicationTests.SecurityConfiguration.class,\r\n    \t\tSampleActuatorApplication.class }, webEnvironment = WebEnvironment.RANDOM_PORT)\r\n    class ShutdownSampleActuatorApplicationTests {\r\n    \r\n    \t@Autowired\r\n    \tprivate TestRestTemplate restTemplate;\r\n    \r\n    \t@Test\r\n    \tvoid testHome() {\r\n    \t\tResponseEntity&lt;Map&lt;String, Object&gt;&gt; entity = asMapEntity(\r\n    \t\t\t\tthis.restTemplate.withBasicAuth(&quot;user&quot;, &quot;password&quot;).getForEntity(&quot;/&quot;, Map.class));\r\n    \t\tassertThat(entity.getStatusCode()).isEqualTo(HttpStatus.OK);\r\n    \t\tMap&lt;String, Object&gt; body = entity.getBody();\r\n    \t\tassertThat(body.get(&quot;message&quot;)).isEqualTo(&quot;Hello Phil&quot;);\r\n    \t}\r\n    \r\n    \t@Test\r\n    \t@DirtiesContext\r\n    \tvoid testShutdown() {\r\n    \t\tResponseEntity&lt;Map&lt;String, Object&gt;&gt; entity = asMapEntity(this.restTemplate.withBasicAuth(&quot;user&quot;, &quot;password&quot;)\r\n    \t\t\t\t.postForEntity(&quot;/actuator/shutdown&quot;, null, Map.class));\r\n    \t\tassertThat(entity.getStatusCode()).isEqualTo(HttpStatus.OK);\r\n    \t\tassertThat(((String) entity.getBody().get(&quot;message&quot;))).contains(&quot;Shutting down&quot;);\r\n    \t}\r\n    \r\n    \t@SuppressWarnings({ &quot;unchecked&quot;, &quot;rawtypes&quot; })\r\n    \tstatic &lt;K, V&gt; ResponseEntity&lt;Map&lt;K, V&gt;&gt; asMapEntity(ResponseEntity&lt;Map&gt; entity) {\r\n    \t\treturn (ResponseEntity) entity;\r\n    \t}\r\n    \r\n    \t@Configuration(proxyBeanMethods = false)\r\n    \tstatic class SecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n    \r\n    \t\t@Override\r\n    \t\tprotected void configure(HttpSecurity http) throws Exception {\r\n    \t\t\thttp.csrf().disable();\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/blob/f1ec810caf8c6f795f1119a818689d365c07ca93/spring-boot-tests/spring-boot-smoke-tests/spring-boot-smoke-test-actuator/src/test/java/smoketest/actuator/ShutdownSampleActuatorApplicationTests.java","title":"How to test SpringBoot graceful shutdown?","body":"<p>You can refer to the test that is already there in spring boot actuator code <a href=\"https://github.com/spring-projects/spring-boot/blob/f1ec810caf8c6f795f1119a818689d365c07ca93/spring-boot-tests/spring-boot-smoke-tests/spring-boot-smoke-test-actuator/src/test/java/smoketest/actuator/ShutdownSampleActuatorApplicationTests.java\" rel=\"nofollow noreferrer\">here</a></p>\n<pre><code>@SpringBootApplication\n@ConfigurationPropertiesScan\npublic class SampleActuatorApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(SampleActuatorApplication.class, args);\n    }\n\n    @Bean\n    public HealthIndicator helloHealthIndicator() {\n        return () -&gt; Health.up().withDetail(&quot;hello&quot;, &quot;world&quot;).build();\n    }\n\n}\n\n---\n\n@SpringBootTest(classes = { ShutdownSampleActuatorApplicationTests.SecurityConfiguration.class,\n        SampleActuatorApplication.class }, webEnvironment = WebEnvironment.RANDOM_PORT)\nclass ShutdownSampleActuatorApplicationTests {\n\n    @Autowired\n    private TestRestTemplate restTemplate;\n\n    @Test\n    void testHome() {\n        ResponseEntity&lt;Map&lt;String, Object&gt;&gt; entity = asMapEntity(\n                this.restTemplate.withBasicAuth(&quot;user&quot;, &quot;password&quot;).getForEntity(&quot;/&quot;, Map.class));\n        assertThat(entity.getStatusCode()).isEqualTo(HttpStatus.OK);\n        Map&lt;String, Object&gt; body = entity.getBody();\n        assertThat(body.get(&quot;message&quot;)).isEqualTo(&quot;Hello Phil&quot;);\n    }\n\n    @Test\n    @DirtiesContext\n    void testShutdown() {\n        ResponseEntity&lt;Map&lt;String, Object&gt;&gt; entity = asMapEntity(this.restTemplate.withBasicAuth(&quot;user&quot;, &quot;password&quot;)\n                .postForEntity(&quot;/actuator/shutdown&quot;, null, Map.class));\n        assertThat(entity.getStatusCode()).isEqualTo(HttpStatus.OK);\n        assertThat(((String) entity.getBody().get(&quot;message&quot;))).contains(&quot;Shutting down&quot;);\n    }\n\n    @SuppressWarnings({ &quot;unchecked&quot;, &quot;rawtypes&quot; })\n    static &lt;K, V&gt; ResponseEntity&lt;Map&lt;K, V&gt;&gt; asMapEntity(ResponseEntity&lt;Map&gt; entity) {\n        return (ResponseEntity) entity;\n    }\n\n    @Configuration(proxyBeanMethods = false)\n    static class SecurityConfiguration extends WebSecurityConfigurerAdapter {\n\n        @Override\n        protected void configure(HttpSecurity http) throws Exception {\n            http.csrf().disable();\n        }\n\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":1867377,"reputation":3480,"user_id":1690578,"accept_rate":73,"display_name":"Yurii Bondarenko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2730,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1632928518,"creation_date":1596412212,"question_id":63222048,"body_markdown":"My goal is to test spring-boot actuator call to shutdown my application.\r\n\r\nI&#39;ve written the following test:\r\n\r\n```\r\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\nclass MyAppTest {\r\n\r\n  private static final String SHUTDOWN_URL = &quot;/actuator/shutdown&quot;;\r\n\r\n  @Autowired\r\n  protected TestRestTemplate restTemplate;\r\n\r\n  @Autowired\r\n  protected ConfigurableApplicationContext ctx;\r\n\r\n  @Test\r\n  @DirtiesContext(methodMode = DirtiesContext.MethodMode.AFTER_METHOD)\r\n  void applicationShutsDown() throws URISyntaxException {\r\n    RequestEntity&lt;Void&gt; request = RequestEntity.post(new URI(SHUTDOWN_URL)).contentType(MediaType.APPLICATION_JSON).build();\r\n    ResponseEntity&lt;Void&gt; response = restTemplate.exchange(request, Void.class);\r\n\r\n    assertThat(response.getStatusCode()).isSameAs(HttpStatus.OK);\r\n\r\n    await().atMost(Duration.ofSeconds(30))\r\n        .until(() -&gt; !ctx.isActive() &amp;&amp; !ctx.isRunning());\r\n  }\r\n}\r\n```\r\nI see that this test passes just fine. But after test execution, I&#39;m getting the error below.\r\n\r\nAs a result, the test is marked as failed, despite the fact that all assertions are successful.\r\n\r\n```\r\njava.lang.IllegalStateException: The ApplicationContext loaded for [[WebMergedContextConfiguration@eda25e5 testClass = MyAppTest, locations = &#39;{}&#39;, classes = &#39;{class com.mytest.MyAppTest}&#39;, contextInitializerClasses = &#39;[]&#39;, activeProfiles = &#39;{}&#39;, propertySourceLocations = &#39;{}&#39;, propertySourceProperties = &#39;{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}&#39;, contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@4bdeaabb, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71075444, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@5745ca0e, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@4d15107f, org.springframework.boot.test.context.SpringBootTestArgs@1], resourceBasePath = &#39;src/main/webapp&#39;, contextLoader = &#39;org.springframework.boot.test.context.SpringBootContextLoader&#39;, parent = [null]]] is not active. This may be due to one of the following reasons: 1) the context was closed programmatically by user code; 2) the context was closed during parallel test execution either according to @DirtiesContext semantics or due to automatic eviction from the ContextCache due to a maximum cache size policy.\r\n\r\n\tat org.springframework.util.Assert.state(Assert.java:97)\r\n\tat org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)\r\n\tat org.springframework.test.context.TestContext.publishEvent(TestContext.java:94)\r\n\tat org.springframework.test.context.event.EventPublishingTestExecutionListener.afterTestExecution(EventPublishingTestExecutionListener.java:129)\r\n\tat org.springframework.test.context.TestContextManager.afterTestExecution(TestContextManager.java:379)\r\n\tat org.springframework.test.context.junit.jupiter.SpringExtension.afterTestExecution(SpringExtension.java:129)\r\n```","title":"How to test SpringBoot graceful shutdown?","body":"<p>My goal is to test spring-boot actuator call to shutdown my application.</p>\n<p>I've written the following test:</p>\n<pre><code>@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\nclass MyAppTest {\n\n  private static final String SHUTDOWN_URL = &quot;/actuator/shutdown&quot;;\n\n  @Autowired\n  protected TestRestTemplate restTemplate;\n\n  @Autowired\n  protected ConfigurableApplicationContext ctx;\n\n  @Test\n  @DirtiesContext(methodMode = DirtiesContext.MethodMode.AFTER_METHOD)\n  void applicationShutsDown() throws URISyntaxException {\n    RequestEntity&lt;Void&gt; request = RequestEntity.post(new URI(SHUTDOWN_URL)).contentType(MediaType.APPLICATION_JSON).build();\n    ResponseEntity&lt;Void&gt; response = restTemplate.exchange(request, Void.class);\n\n    assertThat(response.getStatusCode()).isSameAs(HttpStatus.OK);\n\n    await().atMost(Duration.ofSeconds(30))\n        .until(() -&gt; !ctx.isActive() &amp;&amp; !ctx.isRunning());\n  }\n}\n</code></pre>\n<p>I see that this test passes just fine. But after test execution, I'm getting the error below.</p>\n<p>As a result, the test is marked as failed, despite the fact that all assertions are successful.</p>\n<pre><code>java.lang.IllegalStateException: The ApplicationContext loaded for [[WebMergedContextConfiguration@eda25e5 testClass = MyAppTest, locations = '{}', classes = '{class com.mytest.MyAppTest}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@4bdeaabb, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71075444, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@5745ca0e, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@4d15107f, org.springframework.boot.test.context.SpringBootTestArgs@1], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]]] is not active. This may be due to one of the following reasons: 1) the context was closed programmatically by user code; 2) the context was closed during parallel test execution either according to @DirtiesContext semantics or due to automatic eviction from the ContextCache due to a maximum cache size policy.\n\n    at org.springframework.util.Assert.state(Assert.java:97)\n    at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)\n    at org.springframework.test.context.TestContext.publishEvent(TestContext.java:94)\n    at org.springframework.test.context.event.EventPublishingTestExecutionListener.afterTestExecution(EventPublishingTestExecutionListener.java:129)\n    at org.springframework.test.context.TestContextManager.afterTestExecution(TestContextManager.java:379)\n    at org.springframework.test.context.junit.jupiter.SpringExtension.afterTestExecution(SpringExtension.java:129)\n</code></pre>\n"},{"tags":["java","spring","spring-mvc","model-view-controller","thymeleaf"],"comments":[{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1632691182,"post_id":69338703,"comment_id":122554735,"body_markdown":"The `src` directory is not a valid runtime location. Try `templateResolver.setPrefix(&quot;/WEB-INF/views/&quot;);` and see also [FileNotFoundException while using multiple folders for Thymeleaf 3 template resolver](https://stackoverflow.com/questions/33526300/filenotfoundexception-while-using-multiple-folders-for-thymeleaf-3-template-reso).","body":"The <code>src</code> directory is not a valid runtime location. Try <code>templateResolver.setPrefix(&quot;&#47;WEB-INF&#47;views&#47;&quot;);</code> and see also <a href=\"https://stackoverflow.com/questions/33526300/filenotfoundexception-while-using-multiple-folders-for-thymeleaf-3-template-reso\">FileNotFoundException while using multiple folders for Thymeleaf 3 template resolver</a>."},{"owner":{"account_id":22363991,"reputation":55,"user_id":16580109,"display_name":"helloJava"},"score":0,"creation_date":1632692536,"post_id":69338703,"comment_id":122554981,"body_markdown":"@andrewjames thank you. I solve the problem. Java can&#39;t find the file if I&#39;m writting so: setPrefinx(&quot;/WEB-INF/**), but java find the file if I&#39;m writting so: setPrefix(&quot;WEB-INF/**)","body":"@andrewjames thank you. I solve the problem. Java can&#39;t find the file if I&#39;m writting so: setPrefinx(&quot;/WEB-INF/**), but java find the file if I&#39;m writting so: setPrefix(&quot;WEB-INF/**)"},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1632693939,"post_id":69338703,"comment_id":122555201,"body_markdown":"Good news. You can write that as a answer, for future visitors. You can accept your own answer, too.","body":"Good news. You can write that as a answer, for future visitors. You can accept your own answer, too."},{"owner":{"account_id":22363991,"reputation":55,"user_id":16580109,"display_name":"helloJava"},"score":0,"creation_date":1632725712,"post_id":69338703,"comment_id":122560422,"body_markdown":"@andrewjames You can accept your own answer in 2 days","body":"@andrewjames You can accept your own answer in 2 days"}],"answers":[{"tags":[],"owner":{"account_id":22363991,"reputation":55,"user_id":16580109,"display_name":"helloJava"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632725651,"creation_date":1632725651,"answer_id":69342346,"question_id":69338703,"body_markdown":"The correct runtime location is: templateResolver.setPrefix(&quot;WEB-INF/view/&quot;);\r\nUncorrect is; templateResolver.setPrefix(&quot;src/main/webapp/WEB-INF/views/&quot;); and: templateResolver.setPrefix(&quot;/WEB-INF/view/&quot;);","title":"Mvc Thymeleaf Spring Http 500","body":"<p>The correct runtime location is: templateResolver.setPrefix(&quot;WEB-INF/view/&quot;);\nUncorrect is; templateResolver.setPrefix(&quot;src/main/webapp/WEB-INF/views/&quot;); and: templateResolver.setPrefix(&quot;/WEB-INF/view/&quot;);</p>\n"},{"tags":[],"owner":{"account_id":22503567,"reputation":3,"user_id":16699544,"display_name":"Leone Pizzoli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632928492,"creation_date":1632927749,"answer_id":69378921,"question_id":69338703,"body_markdown":"You can just replace this Bean at WebAppConfig Step1:\r\n\r\n    @Bean\r\n    \tpublic InternalResourceViewResolver internalResourceViewResolver () {\r\n    \t\tInternalResourceViewResolver internalResolver = new InternalResourceViewResolver();\r\n    \t\tinternalResolver.setPrefix(&quot;/WEB-INF/views/&quot;);\r\n    \t\tinternalResolver.setSuffix(&quot;.html&quot;);\r\n    \t\treturn internalResolver;\r\n    \t}","title":"Mvc Thymeleaf Spring Http 500","body":"<p>You can just replace this Bean at WebAppConfig Step1:</p>\n<pre><code>@Bean\n    public InternalResourceViewResolver internalResourceViewResolver () {\n        InternalResourceViewResolver internalResolver = new InternalResourceViewResolver();\n        internalResolver.setPrefix(&quot;/WEB-INF/views/&quot;);\n        internalResolver.setSuffix(&quot;.html&quot;);\n        return internalResolver;\n    }\n</code></pre>\n"}],"owner":{"account_id":22363991,"reputation":55,"user_id":16580109,"display_name":"helloJava"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":171,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1632928492,"creation_date":1632688064,"question_id":69338703,"body_markdown":"I already read similar questions, but I don&#39;t found the solution. I&#39;ve got some problem with Thymeleaf, becaouse this code with jsp it&#39;s work. But with Thymeleaf it can&#39;t find my view page.\r\n\r\n\r\nThis is a WebConfig class\r\n\r\n    @Configuration\r\n    @EnableWebMvc\r\n    @ComponentScan(basePackages = &quot; namePackage.controller;&quot;)\r\n    public class WebConfig implements WebMvcConfigurer\r\n     @Autowired\r\n\t   private ApplicationContext applicationContext;\r\n\r\n\t   /*\r\n\t    * STEP 1 - Create SpringResourceTemplateResolver\r\n\t    * */\r\n\t   @Bean\r\n\t   public SpringResourceTemplateResolver templateResolver() {\r\n\t      SpringResourceTemplateResolver templateResolver = new SpringResourceTemplateResolver();\r\n\t      templateResolver.setApplicationContext(applicationContext);\r\n\t      templateResolver.setPrefix(&quot;src/main/webapp/WEB-INF/views/&quot;);\r\n\t      templateResolver.setSuffix(&quot;.html&quot;);\r\n\t      return templateResolver;\r\n\t   }\r\n\r\n\t   /*\r\n\t    * STEP 2 - Create SpringTemplateEngine\r\n\t    * */\r\n\t   @Bean\r\n\t   public SpringTemplateEngine templateEngine() {\r\n\t      SpringTemplateEngine templateEngine = new SpringTemplateEngine();\r\n\t      templateEngine.setTemplateResolver(templateResolver());\r\n\t      templateEngine.setEnableSpringELCompiler(true);\r\n\t      return templateEngine;\r\n\t   }\r\n\r\n\t   /*\r\n\t    * STEP 3 - Register ThymeleafViewResolver\r\n\t    * */\r\n\t   public void configureViewResolvers(ViewResolverRegistry registry) {\r\n\t      ThymeleafViewResolver resolver = new ThymeleafViewResolver();\r\n\t      resolver.setTemplateEngine(templateEngine());\r\n\t      registry.viewResolver(resolver);\r\n\t   }\r\n    }\r\n\r\nThis is a simple controller\r\n\r\n\r\n\r\n     @Controller\r\n     @RequestMapping(&quot;/&quot;)\r\n     public class BenvenutoController {\r\n\t    @GetMapping(&quot;/ciao&quot;)\r\n     public String ciao(Model model) {\r\n\t\tmodel.addAttribute(&quot;mex&quot;, &quot;Hello&quot;);\r\n\t   return &quot;welcome&quot;;\r\n        }\r\n     }\r\n\r\n\r\nThis is html page(view called &quot;welcome&quot;)\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n    &lt;head&gt;\r\n        &lt;title&gt;Hi&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    &lt;div &gt;\r\n       &lt;h1&gt;Hello&lt;/h1&gt;\r\n       &lt;p th:text=&quot;${mex}&quot;&gt;&lt;/p&gt;\r\n    &lt;/div&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\norg.springframework.web.util.NestedServletException: Handler dispatch failed; nested exception is java.lang.Error: Unresolved compilation problem: \r\n\tThe method addAllAttributes(Collection&lt;?&gt;) in the type Model is not applicable for the arguments (String, String)\r\n\r\nSo It can&#39;t find my view page, but the path it&#39;s correct.\r\nI&#39;m using Spring Tool Suite like a idee.\r\n\r\n\r\n\r\nAll stack trace error:\r\n\r\n    \r\n    java.io.FileNotFoundException: Could not open ServletContext resource [/src/main/webapp/WEB-INF/views/welcome.html]\r\n\tat org.springframework.web.context.support.ServletContextResource.getInputStream(ServletContextResource.java:159)\r\n\tat org.thymeleaf.spring5.templateresource.SpringResourceTemplateResource.reader(SpringResourceTemplateResource.java:103)\r\n\tat org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:223)\r\n\tat org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)\r\n\tat org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:649)\r\n\tat org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098)\r\n\tat org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1072)\r\n\tat org.thymeleaf.spring5.view.ThymeleafView.renderFragment(ThymeleafView.java:366)\r\n\tat org.thymeleaf.spring5.view.ThymeleafView.render(ThymeleafView.java:190)\r\n\tat org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1400)\r\n\tat org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1145)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1084)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:655)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:228)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1723)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.base/java.lang.Thread.run(Thread.java:831)\r\n","title":"Mvc Thymeleaf Spring Http 500","body":"<p>I already read similar questions, but I don't found the solution. I've got some problem with Thymeleaf, becaouse this code with jsp it's work. But with Thymeleaf it can't find my view page.</p>\n<p>This is a WebConfig class</p>\n<pre><code>@Configuration\n@EnableWebMvc\n@ComponentScan(basePackages = &quot; namePackage.controller;&quot;)\npublic class WebConfig implements WebMvcConfigurer\n @Autowired\n   private ApplicationContext applicationContext;\n\n   /*\n    * STEP 1 - Create SpringResourceTemplateResolver\n    * */\n   @Bean\n   public SpringResourceTemplateResolver templateResolver() {\n      SpringResourceTemplateResolver templateResolver = new SpringResourceTemplateResolver();\n      templateResolver.setApplicationContext(applicationContext);\n      templateResolver.setPrefix(&quot;src/main/webapp/WEB-INF/views/&quot;);\n      templateResolver.setSuffix(&quot;.html&quot;);\n      return templateResolver;\n   }\n\n   /*\n    * STEP 2 - Create SpringTemplateEngine\n    * */\n   @Bean\n   public SpringTemplateEngine templateEngine() {\n      SpringTemplateEngine templateEngine = new SpringTemplateEngine();\n      templateEngine.setTemplateResolver(templateResolver());\n      templateEngine.setEnableSpringELCompiler(true);\n      return templateEngine;\n   }\n\n   /*\n    * STEP 3 - Register ThymeleafViewResolver\n    * */\n   public void configureViewResolvers(ViewResolverRegistry registry) {\n      ThymeleafViewResolver resolver = new ThymeleafViewResolver();\n      resolver.setTemplateEngine(templateEngine());\n      registry.viewResolver(resolver);\n   }\n}\n</code></pre>\n<p>This is a simple controller</p>\n<pre><code> @Controller\n @RequestMapping(&quot;/&quot;)\n public class BenvenutoController {\n    @GetMapping(&quot;/ciao&quot;)\n public String ciao(Model model) {\n    model.addAttribute(&quot;mex&quot;, &quot;Hello&quot;);\n   return &quot;welcome&quot;;\n    }\n }\n</code></pre>\n<p>This is html page(view called &quot;welcome&quot;)</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\n&lt;html xmlns:th=\"http://www.thymeleaf.org\"&gt;\n&lt;head&gt;\n    &lt;title&gt;Hi&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;div &gt;\n   &lt;h1&gt;Hello&lt;/h1&gt;\n   &lt;p th:text=\"${mex}\"&gt;&lt;/p&gt;\n&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>org.springframework.web.util.NestedServletException: Handler dispatch failed; nested exception is java.lang.Error: Unresolved compilation problem:\nThe method addAllAttributes(Collection&lt;?&gt;) in the type Model is not applicable for the arguments (String, String)</p>\n<p>So It can't find my view page, but the path it's correct.\nI'm using Spring Tool Suite like a idee.</p>\n<p>All stack trace error:</p>\n<pre><code>java.io.FileNotFoundException: Could not open ServletContext resource [/src/main/webapp/WEB-INF/views/welcome.html]\nat org.springframework.web.context.support.ServletContextResource.getInputStream(ServletContextResource.java:159)\nat org.thymeleaf.spring5.templateresource.SpringResourceTemplateResource.reader(SpringResourceTemplateResource.java:103)\nat org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:223)\nat org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)\nat org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:649)\nat org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098)\nat org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1072)\nat org.thymeleaf.spring5.view.ThymeleafView.renderFragment(ThymeleafView.java:366)\nat org.thymeleaf.spring5.view.ThymeleafView.render(ThymeleafView.java:190)\nat org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1400)\nat org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1145)\nat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1084)\nat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\nat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\nat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:655)\nat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:228)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)\nat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\nat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)\nat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\nat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\nat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\nat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\nat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\nat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)\nat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1723)\nat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\nat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)\nat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)\nat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\nat java.base/java.lang.Thread.run(Thread.java:831)\n</code></pre>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":2162777,"reputation":4478,"user_id":4536811,"display_name":"Mickael"},"score":1,"creation_date":1508407506,"post_id":46827182,"comment_id":80602161,"body_markdown":"Did you consider using Spring configuration ? Here&#39;s the documentation :\n [Spring Externalized Configuration documentation](https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html)","body":"Did you consider using Spring configuration ? Here&#39;s the documentation :  <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html\" rel=\"nofollow noreferrer\">Spring Externalized Configuration documentation</a>"},{"owner":{"account_id":6484184,"reputation":2035,"user_id":5020294,"display_name":"Andriy Slobodyanyk"},"score":1,"creation_date":1508407563,"post_id":46827182,"comment_id":80602190,"body_markdown":"You seem to be talking about &quot;filtering&quot; source code which sounds as strange idea. Don&#39;t you mind to put that security domain into property file? However, there is a plugin https://stackoverflow.com/questions/4106171/filtering-source-code-in-maven","body":"You seem to be talking about &quot;filtering&quot; source code which sounds as strange idea. Don&#39;t you mind to put that security domain into property file? However, there is a plugin <a href=\"https://stackoverflow.com/questions/4106171/filtering-source-code-in-maven\" title=\"filtering source code in maven\">stackoverflow.com/questions/4106171/&hellip;</a>"},{"owner":{"account_id":5119511,"reputation":954,"user_id":4103578,"display_name":"Xavier Bouclet"},"score":0,"creation_date":1508416475,"post_id":46827182,"comment_id":80607235,"body_markdown":"What about using a property with @Value(${securityDomain}) private String securityDomain and inject this value in @SecurityDomain(securityDomain)","body":"What about using a property with @Value(${securityDomain}) private String securityDomain and inject this value in @SecurityDomain(securityDomain)"},{"owner":{"account_id":5071338,"reputation":935,"user_id":4070021,"accept_rate":65,"display_name":"onderbewustzijn"},"score":0,"creation_date":1508417606,"post_id":46827182,"comment_id":80607955,"body_markdown":"@Micka&#235;lB It is a Java EE project. I will edit my content.","body":"@Micka&#235;lB It is a Java EE project. I will edit my content."},{"owner":{"account_id":5071338,"reputation":935,"user_id":4070021,"accept_rate":65,"display_name":"onderbewustzijn"},"score":0,"creation_date":1508417695,"post_id":46827182,"comment_id":80608018,"body_markdown":"@AndriySlobodyanyk I know it is strange :) I never used it before. But because of the stupid annotation I&#39;m forced to do it this way. I allready requested an enhancement to the keycloak team...","body":"@AndriySlobodyanyk I know it is strange :) I never used it before. But because of the stupid annotation I&#39;m forced to do it this way. I allready requested an enhancement to the keycloak team..."}],"answers":[{"tags":[],"owner":{"account_id":1461129,"reputation":766,"user_id":1375442,"display_name":"AlexGera"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1508418365,"creation_date":1508418365,"answer_id":46830609,"question_id":46827182,"body_markdown":"You could play around to setup Environment Variables during any Maven build stage depends on your profiles for example. And then consume them on runtime stage with System.environment().\r\n\r\nIn terms of modern Docker container style of delivery it supposed to be a preferable way also","title":"How to replace Java annotation value with maven property?","body":"<p>You could play around to setup Environment Variables during any Maven build stage depends on your profiles for example. And then consume them on runtime stage with System.environment().</p>\n\n<p>In terms of modern Docker container style of delivery it supposed to be a preferable way also</p>\n"},{"tags":[],"owner":{"account_id":11372338,"reputation":1,"user_id":8337598,"display_name":"Fabien GAYRAUD"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632927927,"creation_date":1632927927,"answer_id":69378970,"question_id":46827182,"body_markdown":"You can use the maven plugin &quot;templating-maven-plugin&quot;.\r\n\r\nDeclare it in your pom.xml, add call the goal &quot;filter-sources&quot; :\r\n\r\n    &lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;templating-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;1.0.0&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;filter-src&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;filter-sources&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\nIn the src/main/**java-templates**/ directory, create a java template class with the expected Maven property, for example MyMavenBuildConstant.java :\r\n\r\n    public interface MyMavenBuildConstant {\r\n\t     String PROJECT_NAME = &quot;${project.name}&quot;;\r\n    }\r\n\r\nRun a maven build (ex. mvn clean install), to create the generated java source /target/generated-sources/java-templates/MyMavenBuildConstant.java.\r\n\r\nYou can now use the java constant in your code :\r\n\r\n    @SecurityDomain(MyMavenBuildConstant.PROJECT_NAME)","title":"How to replace Java annotation value with maven property?","body":"<p>You can use the maven plugin &quot;templating-maven-plugin&quot;.</p>\n<p>Declare it in your pom.xml, add call the goal &quot;filter-sources&quot; :</p>\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n            &lt;artifactId&gt;templating-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;filter-src&lt;/id&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;filter-sources&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>In the src/main/<strong>java-templates</strong>/ directory, create a java template class with the expected Maven property, for example MyMavenBuildConstant.java :</p>\n<pre><code>public interface MyMavenBuildConstant {\n     String PROJECT_NAME = &quot;${project.name}&quot;;\n}\n</code></pre>\n<p>Run a maven build (ex. mvn clean install), to create the generated java source /target/generated-sources/java-templates/MyMavenBuildConstant.java.</p>\n<p>You can now use the java constant in your code :</p>\n<pre><code>@SecurityDomain(MyMavenBuildConstant.PROJECT_NAME)\n</code></pre>\n"}],"owner":{"account_id":5071338,"reputation":935,"user_id":4070021,"accept_rate":65,"display_name":"onderbewustzijn"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":996,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1632927927,"creation_date":1508406703,"question_id":46827182,"body_markdown":"I have an annotation `@SecurityDomain(&quot;cjm&quot;)` on a class. Depending on the environment where I deploy the application, I need to configure different security domains. So my idea was to use filtering: `@SecurityDomain(&quot;${project.name}&quot;)`. \r\n\r\nHowever, using the examples I found on SO, nothing works. I simply cannot replace the property\r\n\r\nIt seems weird I haven&#39;t found a nice solution for this. Probably I am searching with the wrong terminology. Or maybe, weirdly enough, it is (still) not possible. \r\n\r\nThe maven template plugin is not sufficient, it doesn&#39;t contain a filter, so I have many duplicate class compilation errors. \r\n\r\nThe project is a Java EE project, running on Red Hat EAP 7 using the keycloak saml security adapter. The @SecurityDomain is mandatory to propagate the security context from the web context to the ejb context. This is necessary when using @RolesAllowed. I logged an enhancement request to the keycloak team to automatically propagate the security context, as is done in a default scenario. ","title":"How to replace Java annotation value with maven property?","body":"<p>I have an annotation <code>@SecurityDomain(\"cjm\")</code> on a class. Depending on the environment where I deploy the application, I need to configure different security domains. So my idea was to use filtering: <code>@SecurityDomain(\"${project.name}\")</code>. </p>\n\n<p>However, using the examples I found on SO, nothing works. I simply cannot replace the property</p>\n\n<p>It seems weird I haven't found a nice solution for this. Probably I am searching with the wrong terminology. Or maybe, weirdly enough, it is (still) not possible. </p>\n\n<p>The maven template plugin is not sufficient, it doesn't contain a filter, so I have many duplicate class compilation errors. </p>\n\n<p>The project is a Java EE project, running on Red Hat EAP 7 using the keycloak saml security adapter. The @SecurityDomain is mandatory to propagate the security context from the web context to the ejb context. This is necessary when using @RolesAllowed. I logged an enhancement request to the keycloak team to automatically propagate the security context, as is done in a default scenario. </p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":22896083,"reputation":1,"user_id":17035577,"display_name":"Pawan"},"score":0,"creation_date":1632927785,"post_id":69378910,"comment_id":122626736,"body_markdown":"Here is the pom.xml snippet for parent:\n\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.onap.ccsdk.parent&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.1.7&lt;/version&gt;\n        &lt;relativePath/&gt;\n    &lt;/parent&gt;","body":"Here is the pom.xml snippet for parent:       &lt;parent&gt;         &lt;groupId&gt;org.onap.ccsdk.parent&lt;/groupId&gt;         &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;         &lt;version&gt;2.1.7&lt;/version&gt;         &lt;relativePath/&gt;     &lt;/parent&gt;"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1633594247,"post_id":69378910,"comment_id":122802517,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":22896083,"reputation":1,"user_id":17035577,"display_name":"Pawan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1632927711,"creation_date":1632927711,"question_id":69378910,"body_markdown":"root@k8s-master-node-01:~/oran/a1-policy-management# mvn clean install -Dmaven.test.skip=true\r\nWARNING: An illegal reflective access operation has occurred\r\nWARNING: Illegal reflective access by com.google.inject.internal.cglib.core.$ReflectUtils$1 (file:/usr/share/maven/lib/guice.jar) to method java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain)\r\nWARNING: Please consider reporting this to the maintainers of com.google.inject.internal.cglib.core.$ReflectUtils$1\r\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\r\nWARNING: All illegal access operations will be denied in a future release\r\n[INFO] Scanning for projects...\r\n[ERROR] [ERROR] Some problems were encountered while processing the POMs:\r\n[FATAL] Non-resolvable parent POM for org.onap.ccsdk.oran:a1-policy-management-service:1.1.7-SNAPSHOT: Failure to find org.onap.ccsdk.parent:spring-boot-starter-parent:pom:2.1.7 in https://repo.maven.apache.org/maven2 was cached in the local repository, resolution will not be reattempted until the update interval of central has elapsed or updates are forced and &#39;parent.relativePath&#39; points at no local POM @ line 24, column 13\r\n @\r\n[ERROR] The build could not read 1 project -&gt; [Help 1]\r\n[ERROR]\r\n[ERROR]   The project org.onap.ccsdk.oran:a1-policy-management-service:1.1.7-SNAPSHOT (/root/oran/a1-policy-management/pom.xml) has 1 error\r\n[ERROR]     Non-resolvable parent POM for org.onap.ccsdk.oran:a1-policy-management-service:1.1.7-SNAPSHOT: Failure to find org.onap.ccsdk.parent:spring-boot-starter-parent:pom:2.1.7 in https://repo.maven.apache.org/maven2 was cached in the local repository, resolution will not be reattempted until the update interval of central has elapsed or updates are forced and &#39;parent.relativePath&#39; points at no local POM @ line 24, column 13 -&gt; [Help 2]\r\n[ERROR]\r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR]\r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/ProjectBuildingException\r\n[ERROR] [Help 2] http://cwiki.apache.org/confluence/display/MAVEN/UnresolvableModelException\r\nroot@k8s-master-node-01:~/oran/a1-policy-management#\r\n","title":"ONAP honolulu getting Error when build A1 Policy Management Service container with oran code","body":"<p>root@k8s-master-node-01:~/oran/a1-policy-management# mvn clean install -Dmaven.test.skip=true\nWARNING: An illegal reflective access operation has occurred\nWARNING: Illegal reflective access by com.google.inject.internal.cglib.core.$ReflectUtils$1 (file:/usr/share/maven/lib/guice.jar) to method java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain)\nWARNING: Please consider reporting this to the maintainers of com.google.inject.internal.cglib.core.$ReflectUtils$1\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\nWARNING: All illegal access operations will be denied in a future release\n[INFO] Scanning for projects...\n[ERROR] [ERROR] Some problems were encountered while processing the POMs:\n[FATAL] Non-resolvable parent POM for org.onap.ccsdk.oran:a1-policy-management-service:1.1.7-SNAPSHOT: Failure to find org.onap.ccsdk.parent:spring-boot-starter-parent:pom:2.1.7 in <a href=\"https://repo.maven.apache.org/maven2\" rel=\"nofollow noreferrer\">https://repo.maven.apache.org/maven2</a> was cached in the local repository, resolution will not be reattempted until the update interval of central has elapsed or updates are forced and 'parent.relativePath' points at no local POM @ line 24, column 13\n@\n[ERROR] The build could not read 1 project -&gt; [Help 1]\n[ERROR]\n[ERROR]   The project org.onap.ccsdk.oran:a1-policy-management-service:1.1.7-SNAPSHOT (/root/oran/a1-policy-management/pom.xml) has 1 error\n[ERROR]     Non-resolvable parent POM for org.onap.ccsdk.oran:a1-policy-management-service:1.1.7-SNAPSHOT: Failure to find org.onap.ccsdk.parent:spring-boot-starter-parent:pom:2.1.7 in <a href=\"https://repo.maven.apache.org/maven2\" rel=\"nofollow noreferrer\">https://repo.maven.apache.org/maven2</a> was cached in the local repository, resolution will not be reattempted until the update interval of central has elapsed or updates are forced and 'parent.relativePath' points at no local POM @ line 24, column 13 -&gt; [Help 2]\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] <a href=\"http://cwiki.apache.org/confluence/display/MAVEN/ProjectBuildingException\" rel=\"nofollow noreferrer\">http://cwiki.apache.org/confluence/display/MAVEN/ProjectBuildingException</a>\n[ERROR] [Help 2] <a href=\"http://cwiki.apache.org/confluence/display/MAVEN/UnresolvableModelException\" rel=\"nofollow noreferrer\">http://cwiki.apache.org/confluence/display/MAVEN/UnresolvableModelException</a>\nroot@k8s-master-node-01:~/oran/a1-policy-management#</p>\n"},{"tags":["java","bytecode","java-bytecode-asm"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1632902518,"post_id":69370864,"comment_id":122615353,"body_markdown":"I think [ASM Get exact value from stack frame](https://stackoverflow.com/q/48802291/2711488) is what you’re after","body":"I think <a href=\"https://stackoverflow.com/q/48802291/2711488\">ASM Get exact value from stack frame</a> is what you’re after"},{"owner":{"account_id":9517526,"reputation":11,"user_id":7073375,"display_name":"Ander Ruiz"},"score":0,"creation_date":1633006541,"post_id":69370864,"comment_id":122650536,"body_markdown":"I&#39;m using event based API, not Tree API (and it is not something I could change :( )","body":"I&#39;m using event based API, not Tree API (and it is not something I could change :( )"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1633029430,"post_id":69370864,"comment_id":122660208,"body_markdown":"All built-in analyzer capabilities of ASM settle on the tree API. Before you start rolling out your own, consider that you can not track values in a single pass as that’s just impossible. That’s why stackmaps were invented, to allow the verifier to do verification in a single pass. But stackmaps contain types only, not values.","body":"All built-in analyzer capabilities of ASM settle on the tree API. Before you start rolling out your own, consider that you can not track values in a single pass as that’s just impossible. That’s why stackmaps were invented, to allow the verifier to do verification in a single pass. But stackmaps contain types only, not values."}],"owner":{"account_id":9517526,"reputation":11,"user_id":7073375,"display_name":"Ander Ruiz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":147,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1632927711,"creation_date":1632893440,"question_id":69370864,"body_markdown":"I&#39;m trying to keep track of String literals (loaded with LDC) in a Method, both in local variables and in the stack. I&#39;m able to do it with a modified version of AnalyzerAdapter:\r\n\r\nhttps://asm.ow2.io/javadoc/org/objectweb/asm/commons/AnalyzerAdapter.html\r\n\r\nHowever my current approach is limited, because I don&#39;t know how to properly handle jumps. AnalyzerAdapter clean locals and stacks after GOTO for example and uses stack map tables to recover the values when a new frame is started, but in my case I would need to which are the ones being restored and if any of them are literals.\r\n\r\nI understand that what I&#39;m trying to achieve is not easy because it may imply merging values from more than one code branch and act accordingly.\r\n\r\nAny ideas?. Thanks in advance.","title":"Keeping track of literals in stack and locals with ASM through frames","body":"<p>I'm trying to keep track of String literals (loaded with LDC) in a Method, both in local variables and in the stack. I'm able to do it with a modified version of AnalyzerAdapter:</p>\n<p><a href=\"https://asm.ow2.io/javadoc/org/objectweb/asm/commons/AnalyzerAdapter.html\" rel=\"nofollow noreferrer\">https://asm.ow2.io/javadoc/org/objectweb/asm/commons/AnalyzerAdapter.html</a></p>\n<p>However my current approach is limited, because I don't know how to properly handle jumps. AnalyzerAdapter clean locals and stacks after GOTO for example and uses stack map tables to recover the values when a new frame is started, but in my case I would need to which are the ones being restored and if any of them are literals.</p>\n<p>I understand that what I'm trying to achieve is not easy because it may imply merging values from more than one code branch and act accordingly.</p>\n<p>Any ideas?. Thanks in advance.</p>\n"},{"tags":["java","tomcat6"],"comments":[{"owner":{"account_id":98784,"reputation":10491,"user_id":267197,"accept_rate":68,"display_name":"dma_k"},"score":0,"creation_date":1632854742,"post_id":10295751,"comment_id":122605135,"body_markdown":"Do you happen to know the solution for latest Infinispan versions (e.g. [v12](https://infinispan.org/schemas/infinispan-config-12.1.xsd)), which don&#39;t have `allowDuplicateDomains` attribute anymore? I have the same issue when Spring Boot tests are run in a row in the same JVM – the 2nd Spring Boot run triggers the above problem.","body":"Do you happen to know the solution for latest Infinispan versions (e.g. <a href=\"https://infinispan.org/schemas/infinispan-config-12.1.xsd\" rel=\"nofollow noreferrer\">v12</a>), which don&#39;t have <code>allowDuplicateDomains</code> attribute anymore? I have the same issue when Spring Boot tests are run in a row in the same JVM – the 2nd Spring Boot run triggers the above problem."}],"answers":[{"tags":[],"owner":{"account_id":4756,"reputation":4005,"user_id":7295,"accept_rate":100,"display_name":"erikxiv"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1335263614,"creation_date":1335263614,"answer_id":10296222,"question_id":10295751,"body_markdown":"This is most likely due to your two applications running at the same time, and trying to use the same resource. From the looks of the error message &#39;infinispan&#39; registers a JMX domain on startup, and does not allow multiple instances of this.\r\n\r\nFrom [google][1]: If you want to allow multiple instances configured with same JMX domain enable `allowDuplicateDomains` attribute in `globalJmxStatistics` config element\r\n\r\n\r\n  [1]: https://community.jboss.org/message/600218","title":"org.infinispan.jmx.JmxDomainConflictException: Domain already registered org.infinispan Exception?","body":"<p>This is most likely due to your two applications running at the same time, and trying to use the same resource. From the looks of the error message 'infinispan' registers a JMX domain on startup, and does not allow multiple instances of this.</p>\n\n<p>From <a href=\"https://community.jboss.org/message/600218\" rel=\"nofollow\">google</a>: If you want to allow multiple instances configured with same JMX domain enable <code>allowDuplicateDomains</code> attribute in <code>globalJmxStatistics</code> config element</p>\n"},{"tags":[],"owner":{"account_id":98784,"reputation":10491,"user_id":267197,"accept_rate":68,"display_name":"dma_k"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632927635,"creation_date":1632927635,"answer_id":69378884,"question_id":10295751,"body_markdown":"For those who are using Spring Boot + [Infinispan starter](https://infinispan.org/docs/dev/titles/spring_boot/starter.html) here is the way to switch off JMX:\r\n```\r\n@org.springframework.context.annotation.Configuration\r\npublic class InfinispanConfiguration {\r\n\r\n    @Bean\r\n    public InfinispanGlobalConfigurationCustomizer globalCustomizer() {\r\n        return builder -&gt; builder.jmx().disable();\r\n    }\r\n}\r\n```","title":"org.infinispan.jmx.JmxDomainConflictException: Domain already registered org.infinispan Exception?","body":"<p>For those who are using Spring Boot + <a href=\"https://infinispan.org/docs/dev/titles/spring_boot/starter.html\" rel=\"nofollow noreferrer\">Infinispan starter</a> here is the way to switch off JMX:</p>\n<pre><code>@org.springframework.context.annotation.Configuration\npublic class InfinispanConfiguration {\n\n    @Bean\n    public InfinispanGlobalConfigurationCustomizer globalCustomizer() {\n        return builder -&gt; builder.jmx().disable();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":422964,"reputation":33652,"user_id":802050,"accept_rate":89,"display_name":"M Sach"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3743,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":10296222,"answer_count":2,"score":1,"last_activity_date":1632927635,"creation_date":1335261778,"question_id":10295751,"body_markdown":"\r\n\r\ni have my application deployed as myApp1 on tomcat 6 service. Due to some requirement, i copied myApp1 and pasted under webapp as myApp2.Now i restarted tomcat\r\nand hit my url for myApp1. Worked fine . But on hitting the url for app2 , i get org.infinispan.jmx.JmxDomainConflictException: Domain already registered org.infinispan\r\n.Below is the root cause section in exception stack trace\r\n\r\n\r\n\r\n\t  root cause \r\n\r\n        org.infinispan.jmx.JmxDomainConflictException: Domain already registered org.infinispan\r\n\torg.infinispan.jmx.JmxUtil.buildJmxDomain(JmxUtil.java:73)\r\n\torg.infinispan.jmx.CacheManagerJmxRegistration.updateDomain(CacheManagerJmxRegistration.java:92)\r\n\torg.infinispan.jmx.CacheManagerJmxRegistration.buildRegistrar(CacheManagerJmxRegistration.java:86)\r\n\torg.infinispan.jmx.AbstractJmxRegistration.registerMBeans(AbstractJmxRegistration.java:46)\r\n\torg.infinispan.jmx.CacheManagerJmxRegistration.start(CacheManagerJmxRegistration.java:62)\r\n\torg.infinispan.manager.DefaultCacheManager.start(DefaultCacheManager.java:637)\r\n\torg.infinispan.manager.DefaultCacheManager.&lt;init&gt;(DefaultCacheManager.java:319)\r\n\torg.infinispan.manager.DefaultCacheManager.&lt;init&gt;(DefaultCacheManager.java:283)\r\n\torg.xwiki.cache.infinispan.internal.InfinispanCacheFactory.initialize(InfinispanCacheFactory.java:134)\r\n\torg.xwiki.component.embed.InitializableLifecycleHandler.handle(InitializableLifecycleHandler.java:39)\r\n\torg.xwiki.component.embed.EmbeddableComponentManager.createInstance(EmbeddableComponentManager.java:295)\r\n\torg.xwiki.component.embed.EmbeddableComponentManager.getComponentInstance(EmbeddableComponentManager.java:358)\r\n\torg.xwiki.component.embed.EmbeddableComponentManager.getComponentInstance(EmbeddableComponentManager.java:324)\r\n\torg.xwiki.component.embed.EmbeddableComponentManager.lookup(EmbeddableComponentManager.java:147)\r\n\torg.xwiki.component.internal.DefaultComponentManager.lookup(DefaultComponentManager.java:72)\r\n\torg.xwiki.cache.internal.DefaultCacheManager.getCacheFactory(DefaultCacheManager.java:79)\r\n\torg.xwiki.cache.internal.DefaultCacheManager.getCacheFactory(DefaultCacheManager.java:61)\r\n\tcom.xpn.xwiki.XWiki.getCacheFactory(XWiki.java:5887)\r\n\r\nFor the information,I am running the tomcat as service.","title":"org.infinispan.jmx.JmxDomainConflictException: Domain already registered org.infinispan Exception?","body":"<p>i have my application deployed as myApp1 on tomcat 6 service. Due to some requirement, i copied myApp1 and pasted under webapp as myApp2.Now i restarted tomcat\nand hit my url for myApp1. Worked fine . But on hitting the url for app2 , i get org.infinispan.jmx.JmxDomainConflictException: Domain already registered org.infinispan\n.Below is the root cause section in exception stack trace</p>\n\n<pre><code>  root cause \n\n    org.infinispan.jmx.JmxDomainConflictException: Domain already registered org.infinispan\norg.infinispan.jmx.JmxUtil.buildJmxDomain(JmxUtil.java:73)\norg.infinispan.jmx.CacheManagerJmxRegistration.updateDomain(CacheManagerJmxRegistration.java:92)\norg.infinispan.jmx.CacheManagerJmxRegistration.buildRegistrar(CacheManagerJmxRegistration.java:86)\norg.infinispan.jmx.AbstractJmxRegistration.registerMBeans(AbstractJmxRegistration.java:46)\norg.infinispan.jmx.CacheManagerJmxRegistration.start(CacheManagerJmxRegistration.java:62)\norg.infinispan.manager.DefaultCacheManager.start(DefaultCacheManager.java:637)\norg.infinispan.manager.DefaultCacheManager.&lt;init&gt;(DefaultCacheManager.java:319)\norg.infinispan.manager.DefaultCacheManager.&lt;init&gt;(DefaultCacheManager.java:283)\norg.xwiki.cache.infinispan.internal.InfinispanCacheFactory.initialize(InfinispanCacheFactory.java:134)\norg.xwiki.component.embed.InitializableLifecycleHandler.handle(InitializableLifecycleHandler.java:39)\norg.xwiki.component.embed.EmbeddableComponentManager.createInstance(EmbeddableComponentManager.java:295)\norg.xwiki.component.embed.EmbeddableComponentManager.getComponentInstance(EmbeddableComponentManager.java:358)\norg.xwiki.component.embed.EmbeddableComponentManager.getComponentInstance(EmbeddableComponentManager.java:324)\norg.xwiki.component.embed.EmbeddableComponentManager.lookup(EmbeddableComponentManager.java:147)\norg.xwiki.component.internal.DefaultComponentManager.lookup(DefaultComponentManager.java:72)\norg.xwiki.cache.internal.DefaultCacheManager.getCacheFactory(DefaultCacheManager.java:79)\norg.xwiki.cache.internal.DefaultCacheManager.getCacheFactory(DefaultCacheManager.java:61)\ncom.xpn.xwiki.XWiki.getCacheFactory(XWiki.java:5887)\n</code></pre>\n\n<p>For the information,I am running the tomcat as service.</p>\n"},{"tags":["java","spring","spring-boot","retry-logic"],"answers":[{"tags":[],"owner":{"account_id":14887483,"reputation":28,"user_id":10750231,"display_name":"J. DEMARE"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632927504,"creation_date":1632927504,"answer_id":69378839,"question_id":69364994,"body_markdown":"Maybe you could take a look a to the Circuit breaker pattern. \r\nIt allows you to use a &quot;fallback&quot; if the original call raised an exception.  \r\nIf i may resume with your sample :\r\n - A circuit breaker is provided/developped around the `FooService`\r\n - If everything is fine on the `FooService`, the original response will be given back\r\n - Else if the `FooService` does not provide a response  or throw an exception, you will go to the linked fallback\r\n - In your fallback you will implement the call to the `DooService`\r\n\r\n\r\nYou can give a try with [Resilience4J][1] (you have some samples with diffrent kind of implementation)   or [Netflix Circuit Breaker][2] (but deprecated)\r\n\r\n\r\n  [1]: https://resilience4j.readme.io/docs/circuitbreaker\r\n  [2]: https://github.com/Netflix/Hystrix/wiki/How-it-Works#CircuitBreaker","title":"Retry failed service call but use different implementation","body":"<p>Maybe you could take a look a to the Circuit breaker pattern.\nIt allows you to use a &quot;fallback&quot; if the original call raised an exception.<br />\nIf i may resume with your sample :</p>\n<ul>\n<li>A circuit breaker is provided/developped around the <code>FooService</code></li>\n<li>If everything is fine on the <code>FooService</code>, the original response will be given back</li>\n<li>Else if the <code>FooService</code> does not provide a response  or throw an exception, you will go to the linked fallback</li>\n<li>In your fallback you will implement the call to the <code>DooService</code></li>\n</ul>\n<p>You can give a try with <a href=\"https://resilience4j.readme.io/docs/circuitbreaker\" rel=\"nofollow noreferrer\">Resilience4J</a> (you have some samples with diffrent kind of implementation)   or <a href=\"https://github.com/Netflix/Hystrix/wiki/How-it-Works#CircuitBreaker\" rel=\"nofollow noreferrer\">Netflix Circuit Breaker</a> (but deprecated)</p>\n"}],"owner":{"account_id":96001,"reputation":35081,"user_id":261159,"accept_rate":73,"display_name":"Gregg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":311,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632927504,"creation_date":1632844909,"question_id":69364994,"body_markdown":"The code I&#39;m working with has the following structure.\r\n\r\n```\r\npublic interface SomeService {\r\n    Optional&lt;SomeClass&gt; getThing();\r\n    // more methods\r\n}\r\n\r\npublic abstract class SomeServiceBase implements SomeService {\r\n    Optional&lt;SomeClass&gt; getThing() {\r\n       // logic\r\n       this.onGetThing();\r\n    }\r\n\r\n    protected abstract Optional&lt;SomeClass&gt; onGetThing();\r\n}\r\n```\r\n\r\nAdditionally, there are then 3 different classes that extends `SomeServiceBase` and each one calls to a different 3rd party exteranl API to get some results and they all implement thier own version of `onGetThing()`. \r\n\r\n```\r\nclass FooService extends SomeServiceBase { @Override protected Optional&lt;SomeClass&gt; onGetThing() { } }\r\nclass DooService extends SomeServiceBase { @Override protected Optional&lt;SomeClass&gt; onGetThing() { } }\r\nclass RooService extends SomeServiceBase { @Override protected Optional&lt;SomeClass&gt; onGetThing() { } }\r\n```\r\n\r\nThere&#39;s a factory service that wires up all three of the above services and returns the right one based on a &quot;Provider&quot; that is passed in from the client to the API. \r\n\r\n`Optional&lt;SomeClass&gt; myThing = SomeServiceFactory.getService(provider).getThing();`\r\n\r\nWhat I need to do is if `FooService` doesn&#39;t return a result, I want to retry with `DooService`. But I am struggling trying to find a good way to implement this in a somewhat generic reusable way. Any help is appreciated. Let me know if I need to provide more details.\r\n","title":"Retry failed service call but use different implementation","body":"<p>The code I'm working with has the following structure.</p>\n<pre><code>public interface SomeService {\n    Optional&lt;SomeClass&gt; getThing();\n    // more methods\n}\n\npublic abstract class SomeServiceBase implements SomeService {\n    Optional&lt;SomeClass&gt; getThing() {\n       // logic\n       this.onGetThing();\n    }\n\n    protected abstract Optional&lt;SomeClass&gt; onGetThing();\n}\n</code></pre>\n<p>Additionally, there are then 3 different classes that extends <code>SomeServiceBase</code> and each one calls to a different 3rd party exteranl API to get some results and they all implement thier own version of <code>onGetThing()</code>.</p>\n<pre><code>class FooService extends SomeServiceBase { @Override protected Optional&lt;SomeClass&gt; onGetThing() { } }\nclass DooService extends SomeServiceBase { @Override protected Optional&lt;SomeClass&gt; onGetThing() { } }\nclass RooService extends SomeServiceBase { @Override protected Optional&lt;SomeClass&gt; onGetThing() { } }\n</code></pre>\n<p>There's a factory service that wires up all three of the above services and returns the right one based on a &quot;Provider&quot; that is passed in from the client to the API.</p>\n<p><code>Optional&lt;SomeClass&gt; myThing = SomeServiceFactory.getService(provider).getThing();</code></p>\n<p>What I need to do is if <code>FooService</code> doesn't return a result, I want to retry with <code>DooService</code>. But I am struggling trying to find a good way to implement this in a somewhat generic reusable way. Any help is appreciated. Let me know if I need to provide more details.</p>\n"},{"tags":["java","abstract"],"comments":[{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":1,"creation_date":1520725123,"post_id":49215130,"comment_id":85434526,"body_markdown":"It depends. It should be private if you want it private, and protected if you want it protected.","body":"It depends. It should be private if you want it private, and protected if you want it protected."},{"owner":{"account_id":7029306,"reputation":1258,"user_id":5385625,"accept_rate":75,"display_name":"Sam Orozco"},"score":0,"creation_date":1520725133,"post_id":49215130,"comment_id":85434528,"body_markdown":"It depends on their use case but you want them to permissions to be as slim as possible. If you want the variable to be accessible by the instance class protected is the way to go. @JBNizet is right you want to lean as close to private as possible.","body":"It depends on their use case but you want them to permissions to be as slim as possible. If you want the variable to be accessible by the instance class protected is the way to go. @JBNizet is right you want to lean as close to private as possible."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1520725974,"post_id":49215130,"comment_id":85434663,"body_markdown":"It doesn&#39;t matter.","body":"It doesn&#39;t matter."}],"answers":[{"tags":[],"owner":{"account_id":134022,"reputation":717183,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1632927380,"creation_date":1520725206,"answer_id":49215160,"question_id":49215130,"body_markdown":"As a rule of thumb, go for non-final private variables. If your design calls for giving derived classes access to these variables, provide protected methods for accessing them.\r\n\r\nUsing protected variables creates maintenance liability in all classes, abstract or not. As soon as someone inherits from your abstract class, your protected variables become exposed as if they were public. Here are some reasons why this variables should be avoided:\r\n\r\n- **Inheriting classes can change your variables at will** - this may go around variable validations set up by the abstract base class\r\n- **Inheriting classes become dependent on variable names and types** - this locks in the design choice that you made when defining protected variables.\r\n\r\nFirst rule does not apply to final variables because they cannot be changed, so the rule makes an exception for them. Second rule still applies, though, so you should be careful about defining protected variables, even in situations when they are final.","title":"Java abstract class - Should the instance variables be private or protected?","body":"<p>As a rule of thumb, go for non-final private variables. If your design calls for giving derived classes access to these variables, provide protected methods for accessing them.</p>\n<p>Using protected variables creates maintenance liability in all classes, abstract or not. As soon as someone inherits from your abstract class, your protected variables become exposed as if they were public. Here are some reasons why this variables should be avoided:</p>\n<ul>\n<li><strong>Inheriting classes can change your variables at will</strong> - this may go around variable validations set up by the abstract base class</li>\n<li><strong>Inheriting classes become dependent on variable names and types</strong> - this locks in the design choice that you made when defining protected variables.</li>\n</ul>\n<p>First rule does not apply to final variables because they cannot be changed, so the rule makes an exception for them. Second rule still applies, though, so you should be careful about defining protected variables, even in situations when they are final.</p>\n"},{"tags":[],"owner":{"account_id":6242163,"reputation":422,"user_id":4855417,"display_name":"jcpaiva"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1520725319,"creation_date":1520725319,"answer_id":49215173,"question_id":49215130,"body_markdown":"If protected then this class and any subclasses may access the property. If private then only this class may access the property (it is not inherited). It depends on if you need to access them in any subclass.","title":"Java abstract class - Should the instance variables be private or protected?","body":"<p>If protected then this class and any subclasses may access the property. If private then only this class may access the property (it is not inherited). It depends on if you need to access them in any subclass.</p>\n"}],"owner":{"account_id":11869900,"reputation":181,"user_id":8686415,"accept_rate":50,"display_name":"Mandeyo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3802,"favorite_count":0,"down_vote_count":2,"up_vote_count":7,"accepted_answer_id":49215160,"answer_count":2,"score":5,"last_activity_date":1632927380,"creation_date":1520724987,"question_id":49215130,"body_markdown":"Should the instance variables be private or protected in java abstract class?\r\n\r\nSimple question. I am trying to get more insight into the concept of abstraction in java.\r\nThanks!","title":"Java abstract class - Should the instance variables be private or protected?","body":"<p>Should the instance variables be private or protected in java abstract class?</p>\n\n<p>Simple question. I am trying to get more insight into the concept of abstraction in java.\nThanks!</p>\n"},{"tags":["java","spring-boot","circuit-breaker","resilience4j"],"comments":[{"owner":{"account_id":1682782,"reputation":7143,"user_id":2096986,"accept_rate":37,"display_name":"Felipe"},"score":0,"creation_date":1633010941,"post_id":69378778,"comment_id":122652652,"body_markdown":"from the docs: -&gt; `failureRateThreshold : When the failure rate is equal or greater than the threshold the CircuitBreaker transitions to open and starts short-circuiting calls.` I suppose that your application reached this point.","body":"from the docs: -&gt; <code>failureRateThreshold : When the failure rate is equal or greater than the threshold the CircuitBreaker transitions to open and starts short-circuiting calls.</code> I suppose that your application reached this point."},{"owner":{"account_id":14805606,"reputation":523,"user_id":10692677,"display_name":"PavlMits"},"score":0,"creation_date":1634839787,"post_id":69378778,"comment_id":123141504,"body_markdown":"Generally resilience4j when the circuit breaker is open throws CallNotPermittedException and you can catch the exception and handle it as you think best to have a nice fallback","body":"Generally resilience4j when the circuit breaker is open throws CallNotPermittedException and you can catch the exception and handle it as you think best to have a nice fallback"}],"owner":{"account_id":21850324,"reputation":57,"user_id":16142483,"display_name":"diaop"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1041,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1632927309,"creation_date":1632927309,"question_id":69378778,"body_markdown":"So I have this in the `application.yml`\r\n\r\n```resilience4j.circuitbreaker:\r\n  configs:\r\n    default:\r\n      registerHealthIndicator: true\r\n      slidingWindowSize: 10\r\n      minimumNumberOfCalls: 5\r\n      permittedNumberOfCallsInHalfOpenState: 3\r\n      automaticTransitionFromOpenToHalfOpenEnabled: true\r\n      waitDurationInOpenState: 5s\r\n      failureRateThreshold: 50\r\n      eventConsumerBufferSize: 10\r\n      recordExceptions:\r\n        - org.springframework.web.client.RestClientException\r\n      ignoreExceptions:\r\n        - org.springframework.web.client.HttpClientErrorException\r\n```\r\n\r\nConfig is like so:\r\n\r\n```\r\n\t@Bean (name=&quot;defaultRestCall&quot;)\r\n\tpublic RestCall defaultRestCall(CircuitBreakerRegistry registry,\r\n\t\t\t\t\t\t\t\t\tRetryRegistry retryRegistry) {\r\n\t\tCircuitBreaker cb = registry.circuitBreaker(APP_NAME);\r\n\t\tRetry retry = retryRegistry.retry(APP_NAME);\r\n\t\treturn new RestCall(APP_NAME, cb, retry);\r\n\t}\r\n\r\n```\r\n\r\nWhen I make the dependant service down this is the response I get\r\n\r\n```\r\n2021-09-29 16:15:15,417 INFO com.commons.rest.handler.AbstractRestResponseHandler [http-nio-9006-exec-5]: In handle(sample_service, io.github.resilience4j.circuitbreaker.CallNotPermittedException)\r\n2021-09-29 16:15:15,420 INFO com.connector.ExternalServiceConnector [http-nio-9006-exec-5]: failure : true\r\n2021-09-29 16:15:15,423 INFO com.connector.ExternalServiceConnector [http-nio-9006-exec-5]: CircuitBreaker &#39;sample_service&#39; is OPEN and does not permit further calls\r\n2021-09-29 16:15:15,425 DEBUG com.commons.web.support.GlobalExceptionHandler [http-nio-9006-exec-5]: [com.commons.exception.ResourceNotFoundException] with error Id, error code and message [{ &quot;errors&quot;: [{ &quot;errorCode&quot;: &quot;NOT_FOUND&quot;, &quot;message&quot;:&quot;Unable to access data from Dependant Service&quot;}], &quot;errorId&quot;:&quot;7685c6bd-0202-4c0b-b1d8-70f5b62c2ddf&quot;, &quot;errorCount&quot;:1}]\r\n2021-09-29 16:15:15,430 WARN org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver [http-nio-9006-exec-5]: Resolved [com.commons.exception.ResourceNotFoundException]\r\n```\r\n\r\nIs the logs conveying the correct exceptions? I can see the `open` circuit breaker state but wondering what follows looks correct.","title":"Configuring resilience4j to handle failures in circuit breaker","body":"<p>So I have this in the <code>application.yml</code></p>\n<pre><code>  configs:\n    default:\n      registerHealthIndicator: true\n      slidingWindowSize: 10\n      minimumNumberOfCalls: 5\n      permittedNumberOfCallsInHalfOpenState: 3\n      automaticTransitionFromOpenToHalfOpenEnabled: true\n      waitDurationInOpenState: 5s\n      failureRateThreshold: 50\n      eventConsumerBufferSize: 10\n      recordExceptions:\n        - org.springframework.web.client.RestClientException\n      ignoreExceptions:\n        - org.springframework.web.client.HttpClientErrorException\n</code></pre>\n<p>Config is like so:</p>\n<pre><code>    @Bean (name=&quot;defaultRestCall&quot;)\n    public RestCall defaultRestCall(CircuitBreakerRegistry registry,\n                                    RetryRegistry retryRegistry) {\n        CircuitBreaker cb = registry.circuitBreaker(APP_NAME);\n        Retry retry = retryRegistry.retry(APP_NAME);\n        return new RestCall(APP_NAME, cb, retry);\n    }\n\n</code></pre>\n<p>When I make the dependant service down this is the response I get</p>\n<pre><code>2021-09-29 16:15:15,417 INFO com.commons.rest.handler.AbstractRestResponseHandler [http-nio-9006-exec-5]: In handle(sample_service, io.github.resilience4j.circuitbreaker.CallNotPermittedException)\n2021-09-29 16:15:15,420 INFO com.connector.ExternalServiceConnector [http-nio-9006-exec-5]: failure : true\n2021-09-29 16:15:15,423 INFO com.connector.ExternalServiceConnector [http-nio-9006-exec-5]: CircuitBreaker 'sample_service' is OPEN and does not permit further calls\n2021-09-29 16:15:15,425 DEBUG com.commons.web.support.GlobalExceptionHandler [http-nio-9006-exec-5]: [com.commons.exception.ResourceNotFoundException] with error Id, error code and message [{ &quot;errors&quot;: [{ &quot;errorCode&quot;: &quot;NOT_FOUND&quot;, &quot;message&quot;:&quot;Unable to access data from Dependant Service&quot;}], &quot;errorId&quot;:&quot;7685c6bd-0202-4c0b-b1d8-70f5b62c2ddf&quot;, &quot;errorCount&quot;:1}]\n2021-09-29 16:15:15,430 WARN org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver [http-nio-9006-exec-5]: Resolved [com.commons.exception.ResourceNotFoundException]\n</code></pre>\n<p>Is the logs conveying the correct exceptions? I can see the <code>open</code> circuit breaker state but wondering what follows looks correct.</p>\n"},{"tags":["java","html","spring-boot","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":11725107,"reputation":754,"user_id":8582685,"display_name":"Lee Greiner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1632927196,"creation_date":1632927196,"answer_id":69378747,"question_id":69370094,"body_markdown":"One potential improvement/simplification is to remove the form and replace the inputs with anchors. The anchors would look something like this (not tested!):\r\n\r\n    &lt;a th:href=&quot;@{/gambler/cardlist(cardName=${card.name})}&quot;&gt;\r\n\t  &lt;button th:text=&quot;${card.name}&quot;\r\n\t    th:classappend=&quot;${card.id == currentCard.id ? &#39;selectedButton&#39; : &#39;deselectedButton&#39;}&quot;&gt;Card Name&lt;/button&gt;\r\n\t&lt;/a&gt;\r\n\r\nYou can style selectedButton and deselectedButton as you wish. ","title":"Using a form to display model objects in Thymeleaf. Is there a better way to do this?","body":"<p>One potential improvement/simplification is to remove the form and replace the inputs with anchors. The anchors would look something like this (not tested!):</p>\n<pre><code>&lt;a th:href=&quot;@{/gambler/cardlist(cardName=${card.name})}&quot;&gt;\n  &lt;button th:text=&quot;${card.name}&quot;\n    th:classappend=&quot;${card.id == currentCard.id ? 'selectedButton' : 'deselectedButton'}&quot;&gt;Card Name&lt;/button&gt;\n&lt;/a&gt;\n</code></pre>\n<p>You can style selectedButton and deselectedButton as you wish.</p>\n"}],"owner":{"account_id":22889969,"reputation":3,"user_id":17030248,"display_name":"faebie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":401,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69378747,"answer_count":1,"score":0,"last_activity_date":1632927196,"creation_date":1632886777,"question_id":69370094,"body_markdown":"been trying to get comfortable with Spring Boot/Thymeleaf/frontend development in general. I&#39;m currently using a table on the frontend to display a list of objects from the backend, as well as a form to allow users to view properties of each item in the list.\r\n\r\nI feel like the way I&#39;m doing this is really weird and feel that there could be a better way. Would appreciate any tips/feedback, thank you.\r\n \r\nHTML/Thymeleaf\r\n```html\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n    &lt;title&gt;Gambler Card List&lt;/title&gt;\r\n    &lt;link th:href=&quot;@{/css/styles.css}&quot; rel=&quot;stylesheet&quot; /&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n    &lt;h1&gt;Gambler Card List&lt;/h1&gt;\r\n\r\n    &lt;div class=&quot;cardlist-wrapper&quot;&gt;\r\n        &lt;div class=&quot;cardlist-names&quot;&gt;\r\n            &lt;form action=&quot;/gambler/cardlist&quot; method=&quot;get&quot;&gt;\r\n                &lt;table class=&quot;cardlist-table&quot;&gt;\r\n                    &lt;tr th:each=&quot;card : ${cardList.getCardList()}&quot;&gt;\r\n                        &lt;td&gt;\r\n                            &lt;input th:class=&quot;card-btn&quot;\r\n                                   th:attr=&quot;id=${{card.getId()} == {currentCard.getId()} ? &#39;selected&#39; : &#39;&#39;}&quot;\r\n                                   type=&quot;submit&quot; th:value=&quot;${card.getName()}&quot; name=&quot;cardName&quot;&gt;\r\n                        &lt;/td&gt;\r\n                    &lt;/tr&gt;\r\n                &lt;/table&gt;\r\n            &lt;/form&gt;\r\n        &lt;/div&gt;\r\n\r\n        &lt;div class=&quot;cardlist-description&quot;&gt;\r\n            &lt;h4 th:text=&quot;${currentCard.getDescriptionTitle()}&quot;&gt;&lt;/h4&gt;\r\n            &lt;p th:text=&quot;${currentCard.getDescription()}&quot;&gt;&lt;/p&gt;\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nController\r\n```java\r\n@RequestMapping(value = &quot;gambler/cardlist&quot;)\r\npublic String baseCardList(Model model, \r\n                           @RequestParam(value=&quot;cardName&quot;, required=false) String cardName) {\r\n\r\n    model.addAttribute(&quot;currentCard&quot;, cardList.getCardByName(cardName));\r\n    model.addAttribute(&quot;cardList&quot;, cardList);\r\n    return &quot;gambler/cardlist&quot;;\r\n}\r\n```\r\n\r\nOutput (need 10 rep to post image, so here&#39;s a link)\r\n\r\n![output][1]\r\n\r\n  [1]: https://i.stack.imgur.com/Hkh0j.png","title":"Using a form to display model objects in Thymeleaf. Is there a better way to do this?","body":"<p>been trying to get comfortable with Spring Boot/Thymeleaf/frontend development in general. I'm currently using a table on the frontend to display a list of objects from the backend, as well as a form to allow users to view properties of each item in the list.</p>\n<p>I feel like the way I'm doing this is really weird and feel that there could be a better way. Would appreciate any tips/feedback, thank you.</p>\n<p>HTML/Thymeleaf</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;title&gt;Gambler Card List&lt;/title&gt;\n    &lt;link th:href=&quot;@{/css/styles.css}&quot; rel=&quot;stylesheet&quot; /&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;h1&gt;Gambler Card List&lt;/h1&gt;\n\n    &lt;div class=&quot;cardlist-wrapper&quot;&gt;\n        &lt;div class=&quot;cardlist-names&quot;&gt;\n            &lt;form action=&quot;/gambler/cardlist&quot; method=&quot;get&quot;&gt;\n                &lt;table class=&quot;cardlist-table&quot;&gt;\n                    &lt;tr th:each=&quot;card : ${cardList.getCardList()}&quot;&gt;\n                        &lt;td&gt;\n                            &lt;input th:class=&quot;card-btn&quot;\n                                   th:attr=&quot;id=${{card.getId()} == {currentCard.getId()} ? 'selected' : ''}&quot;\n                                   type=&quot;submit&quot; th:value=&quot;${card.getName()}&quot; name=&quot;cardName&quot;&gt;\n                        &lt;/td&gt;\n                    &lt;/tr&gt;\n                &lt;/table&gt;\n            &lt;/form&gt;\n        &lt;/div&gt;\n\n        &lt;div class=&quot;cardlist-description&quot;&gt;\n            &lt;h4 th:text=&quot;${currentCard.getDescriptionTitle()}&quot;&gt;&lt;/h4&gt;\n            &lt;p th:text=&quot;${currentCard.getDescription()}&quot;&gt;&lt;/p&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Controller</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequestMapping(value = &quot;gambler/cardlist&quot;)\npublic String baseCardList(Model model, \n                           @RequestParam(value=&quot;cardName&quot;, required=false) String cardName) {\n\n    model.addAttribute(&quot;currentCard&quot;, cardList.getCardByName(cardName));\n    model.addAttribute(&quot;cardList&quot;, cardList);\n    return &quot;gambler/cardlist&quot;;\n}\n</code></pre>\n<p>Output (need 10 rep to post image, so here's a link)</p>\n<p><img src=\"https://i.stack.imgur.com/Hkh0j.png\" alt=\"output\" /></p>\n"},{"tags":["java","jackson"],"owner":{"account_id":15637219,"reputation":2322,"user_id":11281727,"display_name":"PalBo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1632927390,"answer_count":0,"score":1,"last_activity_date":1632927164,"creation_date":1632927164,"question_id":69378739,"body_markdown":"I have a class that should map some JSON data from several queries. The responses are very similar and only one of the property names change. For example one response could look like this:\r\n```\r\n{\r\n  &quot;data&quot;: {\r\n    &quot;Discipline&quot;: [\r\n      {\r\n        &quot;Description&quot;: &quot;Header&quot;,\r\n        &quot;Code&quot;: &quot;32&quot;\r\n      }\r\n    ]\r\n```\r\nAnd another like this:\r\n```\r\n{\r\n  &quot;data&quot;: {\r\n    &quot;System&quot;: [\r\n      {\r\n        &quot;Description&quot;: &quot;Basic system&quot;,\r\n        &quot;Code&quot;: &quot;8653&quot;\r\n        \r\n      }\r\n    ]\r\n```\r\nSo as you can see only &quot;Discipline&quot; and &quot;System&quot; changes. So I would like to use the same class to receive the data from all these different types of queries since they are so similar. So what I was thinking was a class like this:\r\n\r\n```\r\n@Data\r\npublic class QueryResponse {\r\n    private QueryData data;\r\n\r\n    @Data\r\n    public static class QueryData {\r\n        @JsonProperty(**THIS SHOULD BE DYNAMIC**)\r\n        private Collection&lt;Data&gt; Data;\r\n\r\n        @Data\r\n        public static class Data{\r\n            @JsonProperty(&quot;Code&quot;)\r\n            private String Code;\r\n\r\n            @JsonProperty(&quot;Description&quot;)\r\n            private String Description;\r\n        }\r\n    }\r\n}\r\n```\r\nHowever I don&#39;t know how to make the top level JsonProperty dynamic. My first thought was to pass the property name in a constructor like this:\r\n\r\n```\r\n@Data\r\npublic class QueryResponse {\r\n\r\n    private String tableName;\r\n\r\n    public QueryResponse(String tableName){\r\n        this.tableName = tableName;\r\n    }\r\n\r\n    private QueryData data;\r\n\r\n    @Data\r\n    public static class QueryData {\r\n        @JsonProperty(String.format(&quot;%s&quot;, tableName))\r\n        private Collection&lt;Data&gt; Data;\r\n\r\n        @Data\r\n        public static class Data{\r\n            @JsonProperty(&quot;Code&quot;)\r\n            private String Code;\r\n\r\n            @JsonProperty(&quot;Description&quot;)\r\n            private String Description;\r\n        }\r\n    }\r\n```\r\nHowever that gave me the error `Non-static field &#39;tableName&#39; cannot be referenced from a static context`, and if I make the classes non-static it says `Attribute value must be constant`. Any ideas how I can make this happen?","title":"Dynamically changing the name of an @JsonProperty","body":"<p>I have a class that should map some JSON data from several queries. The responses are very similar and only one of the property names change. For example one response could look like this:</p>\n<pre><code>{\n  &quot;data&quot;: {\n    &quot;Discipline&quot;: [\n      {\n        &quot;Description&quot;: &quot;Header&quot;,\n        &quot;Code&quot;: &quot;32&quot;\n      }\n    ]\n</code></pre>\n<p>And another like this:</p>\n<pre><code>{\n  &quot;data&quot;: {\n    &quot;System&quot;: [\n      {\n        &quot;Description&quot;: &quot;Basic system&quot;,\n        &quot;Code&quot;: &quot;8653&quot;\n        \n      }\n    ]\n</code></pre>\n<p>So as you can see only &quot;Discipline&quot; and &quot;System&quot; changes. So I would like to use the same class to receive the data from all these different types of queries since they are so similar. So what I was thinking was a class like this:</p>\n<pre><code>@Data\npublic class QueryResponse {\n    private QueryData data;\n\n    @Data\n    public static class QueryData {\n        @JsonProperty(**THIS SHOULD BE DYNAMIC**)\n        private Collection&lt;Data&gt; Data;\n\n        @Data\n        public static class Data{\n            @JsonProperty(&quot;Code&quot;)\n            private String Code;\n\n            @JsonProperty(&quot;Description&quot;)\n            private String Description;\n        }\n    }\n}\n</code></pre>\n<p>However I don't know how to make the top level JsonProperty dynamic. My first thought was to pass the property name in a constructor like this:</p>\n<pre><code>@Data\npublic class QueryResponse {\n\n    private String tableName;\n\n    public QueryResponse(String tableName){\n        this.tableName = tableName;\n    }\n\n    private QueryData data;\n\n    @Data\n    public static class QueryData {\n        @JsonProperty(String.format(&quot;%s&quot;, tableName))\n        private Collection&lt;Data&gt; Data;\n\n        @Data\n        public static class Data{\n            @JsonProperty(&quot;Code&quot;)\n            private String Code;\n\n            @JsonProperty(&quot;Description&quot;)\n            private String Description;\n        }\n    }\n</code></pre>\n<p>However that gave me the error <code>Non-static field 'tableName' cannot be referenced from a static context</code>, and if I make the classes non-static it says <code>Attribute value must be constant</code>. Any ideas how I can make this happen?</p>\n"},{"tags":["java","multithreading","parallel-processing"],"comments":[{"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"score":0,"creation_date":1583859832,"post_id":60622501,"comment_id":107252067,"body_markdown":"You really should follow proper Java naming conventions, it would make it much easier to understand what is going on.  Classes `ShouldBeLikeThis` and variables `shouldBeLikeThis`.  You have it backwards.","body":"You really should follow proper Java naming conventions, it would make it much easier to understand what is going on.  Classes <code>ShouldBeLikeThis</code> and variables <code>shouldBeLikeThis</code>.  You have it backwards."},{"owner":{"account_id":10075812,"reputation":624,"user_id":7447976,"display_name":"sergey_208"},"score":1,"creation_date":1583860319,"post_id":60622501,"comment_id":107252308,"body_markdown":"@Nexevis Sorry for the inconvenience. I updated my post accordingly.","body":"@Nexevis Sorry for the inconvenience. I updated my post accordingly."},{"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"score":1,"creation_date":1583860380,"post_id":60622501,"comment_id":107252337,"body_markdown":"Also, what line is line 36 (the line causing the issue)?","body":"Also, what line is line 36 (the line causing the issue)?"},{"owner":{"account_id":10075812,"reputation":624,"user_id":7447976,"display_name":"sergey_208"},"score":0,"creation_date":1583860665,"post_id":60622501,"comment_id":107252471,"body_markdown":"@Nexevis Yes. It looks like when I remove line 36, the problem seems to be solved. In essence, I have an optimization model which is solved by ```CPLEX```.","body":"@Nexevis Yes. It looks like when I remove line 36, the problem seems to be solved. In essence, I have an optimization model which is solved by <code>CPLEX</code>."},{"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"score":1,"creation_date":1583860709,"post_id":60622501,"comment_id":107252491,"body_markdown":"Which line is that though?  There are no line numbers for us (and your line numbers could be different).","body":"Which line is that though?  There are no line numbers for us (and your line numbers could be different)."},{"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"score":0,"creation_date":1583860730,"post_id":60622501,"comment_id":107252506,"body_markdown":"how big are the `capacity` and `supplyCost` arrrays?","body":"how big are the <code>capacity</code> and <code>supplyCost</code> arrrays?"},{"owner":{"account_id":10075812,"reputation":624,"user_id":7447976,"display_name":"sergey_208"},"score":0,"creation_date":1583862715,"post_id":60622501,"comment_id":107253375,"body_markdown":"@Nexevis My bad. The line is ```supplyCost[s][w] = 1 + ( ( s + 10 * w) % 100 );```","body":"@Nexevis My bad. The line is <code>supplyCost[s][w] = 1 + ( ( s + 10 * w) % 100 );</code>"},{"owner":{"account_id":10075812,"reputation":624,"user_id":7447976,"display_name":"sergey_208"},"score":0,"creation_date":1583862773,"post_id":60622501,"comment_id":107253395,"body_markdown":"@Shark They change at every iteration based on ```` fixed = 400 + i; nbWarehouses = 400 ;  nbStores     = 800 + i;``` where ```i``` goes from 1 to 20.","body":"@Shark They change at every iteration based on ```` fixed = 400 + i; nbWarehouses = 400 ;  nbStores     = 800 + i;``` where <code>i</code> goes from 1 to 20."}],"answers":[{"tags":[],"owner":{"account_id":14801638,"reputation":51,"user_id":10689710,"display_name":"Muthu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583862703,"creation_date":1583862703,"answer_id":60623279,"question_id":60622501,"body_markdown":"When two threads started, &quot;nbStores&quot; may be incremented, through which iteration done on line 36 may get ArrayIndexOutOfException.\r\n\r\nFirst thread starts with \r\n  int[][]  supplyCost= new int[nbStores][nbWarehouses];//nbStores=801\r\nOnce second thread started, nbStores will become 802, which may affect the loop to run till s=801.\r\n        for(int s=0; s&lt; nbStores ; s++) ","title":"Out of Bound Exception when using parallel solving in Java","body":"<p>When two threads started, \"nbStores\" may be incremented, through which iteration done on line 36 may get ArrayIndexOutOfException.</p>\n\n<p>First thread starts with \n  int[][]  supplyCost= new int[nbStores][nbWarehouses];//nbStores=801\nOnce second thread started, nbStores will become 802, which may affect the loop to run till s=801.\n        for(int s=0; s&lt; nbStores ; s++) </p>\n"},{"tags":[],"owner":{"account_id":17912329,"reputation":167,"user_id":13014138,"display_name":"DQYuan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583862912,"creation_date":1583862912,"answer_id":60623334,"question_id":60622501,"body_markdown":"Why use so many static field? There will be no problem if you use local variables:\r\n\r\n```java\r\nimport java.util.Iterator;\r\nimport java.util.Vector;\r\n\r\npublic class ConcurrentExample {\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n        int nProblems = 20;\r\n        \r\n        final Vector&lt;Integer&gt; v = new Vector&lt;Integer&gt;();\r\n        for (int i = 1; i &lt;= nProblems; ++i) v.add(i);\r\n\r\n        final Iterator&lt;Integer&gt; it = v.iterator();\r\n        int nTHREADS = 2; //numofCores\r\n        Thread[] threads = new Thread[nTHREADS];\r\n\r\n        for (int t = 0; t &lt; nTHREADS ; ++t) {\r\n            threads[t] = new Thread(new Runnable() {\r\n                public void run() {\r\n                    while (true) {\r\n                        int i;\r\n                        synchronized (it) {\r\n                            if ( !it.hasNext() ) return;\r\n                            i = it.next();\r\n                        }\r\n                       \r\n                        int nbWarehouses = 400 ;\r\n                        int nbStores     = 800 + i;\r\n                        int[] capacity = new int[nbWarehouses];\r\n                        int[][]  supplyCost= new int[nbStores][nbWarehouses];\r\n                        for(int w=0; w&lt; nbWarehouses ; w++) {\r\n                            capacity[w] = (nbStores/ nbWarehouses) + (w % ( nbStores/ nbWarehouses));\r\n                            for(int s=0; s&lt; nbStores ; s++) {\r\n                                supplyCost[s][w] = 1 + ( ( s + 10 * w) % 100 );\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            );\r\n        }\r\n\r\n        for (int t = 0; t &lt; nTHREADS; ++t) { threads[t].start(); }\r\n\r\n        for (int t = 0; t &lt; nTHREADS; ++t) { threads[t].join(); }\r\n\r\n\r\n    }\r\n\r\n}\r\n```","title":"Out of Bound Exception when using parallel solving in Java","body":"<p>Why use so many static field? There will be no problem if you use local variables:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Iterator;\nimport java.util.Vector;\n\npublic class ConcurrentExample {\n\n    public static void main(String[] args) throws InterruptedException {\n        int nProblems = 20;\n\n        final Vector&lt;Integer&gt; v = new Vector&lt;Integer&gt;();\n        for (int i = 1; i &lt;= nProblems; ++i) v.add(i);\n\n        final Iterator&lt;Integer&gt; it = v.iterator();\n        int nTHREADS = 2; //numofCores\n        Thread[] threads = new Thread[nTHREADS];\n\n        for (int t = 0; t &lt; nTHREADS ; ++t) {\n            threads[t] = new Thread(new Runnable() {\n                public void run() {\n                    while (true) {\n                        int i;\n                        synchronized (it) {\n                            if ( !it.hasNext() ) return;\n                            i = it.next();\n                        }\n\n                        int nbWarehouses = 400 ;\n                        int nbStores     = 800 + i;\n                        int[] capacity = new int[nbWarehouses];\n                        int[][]  supplyCost= new int[nbStores][nbWarehouses];\n                        for(int w=0; w&lt; nbWarehouses ; w++) {\n                            capacity[w] = (nbStores/ nbWarehouses) + (w % ( nbStores/ nbWarehouses));\n                            for(int s=0; s&lt; nbStores ; s++) {\n                                supplyCost[s][w] = 1 + ( ( s + 10 * w) % 100 );\n                            }\n                        }\n                    }\n                }\n            }\n            );\n        }\n\n        for (int t = 0; t &lt; nTHREADS; ++t) { threads[t].start(); }\n\n        for (int t = 0; t &lt; nTHREADS; ++t) { threads[t].join(); }\n\n\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":10075812,"reputation":624,"user_id":7447976,"display_name":"sergey_208"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1632927045,"creation_date":1583859721,"question_id":60622501,"body_markdown":"I am trying to solve multiple optimization instances in parallel and created a toy example. When I solve each instance with a single thread, it works fine. When I start increasing the number of threads, I receive out of memory exception for some instances. I was wondering if someone could give me a hint on how to fix this issue. \r\n\r\nI tried my best to make the example as simple as possible. \r\n\r\n```\r\nimport java.util.Iterator;\r\nimport java.util.Vector;\r\n\r\npublic class ConcurrentExample {\r\n\tpublic static int fixed;\r\n\tpublic static int nbWarehouses;\r\n\tpublic static int nbStores;\r\n\tpublic static void main(String[] args) throws IloException, InterruptedException {\r\n\t\tint nProblems = 20;\r\n\r\n\t\tfinal Vector&lt;Integer&gt; v = new Vector&lt;Integer&gt;();\r\n\t\tfor (int i = 1; i &lt;= nProblems; ++i) v.add(i);\r\n\r\n\t\tfinal Iterator&lt;Integer&gt; it = v.iterator();\r\n\t\tint nTHREADS = 2; //numofCores\r\n\t\tThread[] threads = new Thread[nTHREADS ];\r\n\r\n\t\tfor (int t = 0; t &lt; nTHREADS ; ++t) {\r\n\t\t\t  threads[t] = new Thread(new Runnable() {\r\n\t\t\t    public void run() {\r\n\t\t\t    while (true) {\r\n\t\t\t        int i;\r\n\t\t\t        synchronized (it) {\r\n\t\t\t          if ( !it.hasNext() ) return;\r\n\t\t\t          i = it.next();\r\n\t\t\t        }\r\n\t\t  \t\t\tfixed = 400 + i;\r\n\t\t  \t\t\tnbWarehouses = 400 ;\r\n\t\t  \t\t\tnbStores     = 800 + i;\r\n\t\t  \t\t\tint[] capacity = new int[nbWarehouses]; \r\n\t\t  \t\t\tint[][]  supplyCost= new int[nbStores][nbWarehouses]; \r\n\t\t  \t\t\tfor(int w=0; w&lt; nbWarehouses ; w++) {\r\n\t\t  \t\t\t\tcapacity[w] = (nbStores/ nbWarehouses) + (w % ( nbStores/ nbWarehouses));\r\n\t\t  \t\t\t\tfor(int s=0; s&lt; nbStores ; s++) {\r\n\t\t  \t\t\t\t\tsupplyCost[s][w] = 1 + ( ( s + 10 * w) % 100 );\r\n\t\t\t             }\r\n\t\t  \t\t\t}\r\n\t\t\t    }\r\n\t\t\t   }\r\n\t\t\t}\r\n\t\t  );\r\n\t\t}\r\n\t\t\r\n\t\tfor (int t = 0; t &lt; nTHREADS; ++t) { threads[t].start(); }\r\n\t\t\r\n\t\tfor (int t = 0; t &lt; nTHREADS; ++t) { threads[t].join(); }\r\n\t\t\r\n\t\r\n\t}\r\n\t\r\n}\r\n\r\n```\r\n\r\nWhen I use two threads, I receive the following error:\r\n```\r\nException in thread &quot;Thread-0&quot; java.lang.ArrayIndexOutOfBoundsException: 801\r\n\tat concurrent$1.run(concurrent.java:36)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n```\r\nWhen I set ```NTHREADS=4```, then I receive the following error.\r\n\r\n```\r\nException in thread &quot;Thread-1&quot; Exception in thread &quot;Thread-0&quot; Exception in thread &quot;Thread-2&quot; java.lang.ArrayIndexOutOfBoundsException: 802\r\n\tat concurrent$1.run(concurrent.java:36)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\njava.lang.ArrayIndexOutOfBoundsException: 801\r\n\tat concurrent$1.run(concurrent.java:36)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\njava.lang.ArrayIndexOutOfBoundsException: 803\r\n\tat concurrent$1.run(concurrent.java:36)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n```\r\n\r\nEDIT: One very important thing is that I have to keep the variables as globally defined. This is just a toy example. In the real model, I have static variables which are accessed by multiple methods during an iterative solution approach. \r\n","title":"Out of Bound Exception when using parallel solving in Java","body":"<p>I am trying to solve multiple optimization instances in parallel and created a toy example. When I solve each instance with a single thread, it works fine. When I start increasing the number of threads, I receive out of memory exception for some instances. I was wondering if someone could give me a hint on how to fix this issue. </p>\n\n<p>I tried my best to make the example as simple as possible. </p>\n\n<pre><code>import java.util.Iterator;\nimport java.util.Vector;\n\npublic class ConcurrentExample {\n    public static int fixed;\n    public static int nbWarehouses;\n    public static int nbStores;\n    public static void main(String[] args) throws IloException, InterruptedException {\n        int nProblems = 20;\n\n        final Vector&lt;Integer&gt; v = new Vector&lt;Integer&gt;();\n        for (int i = 1; i &lt;= nProblems; ++i) v.add(i);\n\n        final Iterator&lt;Integer&gt; it = v.iterator();\n        int nTHREADS = 2; //numofCores\n        Thread[] threads = new Thread[nTHREADS ];\n\n        for (int t = 0; t &lt; nTHREADS ; ++t) {\n              threads[t] = new Thread(new Runnable() {\n                public void run() {\n                while (true) {\n                    int i;\n                    synchronized (it) {\n                      if ( !it.hasNext() ) return;\n                      i = it.next();\n                    }\n                    fixed = 400 + i;\n                    nbWarehouses = 400 ;\n                    nbStores     = 800 + i;\n                    int[] capacity = new int[nbWarehouses]; \n                    int[][]  supplyCost= new int[nbStores][nbWarehouses]; \n                    for(int w=0; w&lt; nbWarehouses ; w++) {\n                        capacity[w] = (nbStores/ nbWarehouses) + (w % ( nbStores/ nbWarehouses));\n                        for(int s=0; s&lt; nbStores ; s++) {\n                            supplyCost[s][w] = 1 + ( ( s + 10 * w) % 100 );\n                         }\n                    }\n                }\n               }\n            }\n          );\n        }\n\n        for (int t = 0; t &lt; nTHREADS; ++t) { threads[t].start(); }\n\n        for (int t = 0; t &lt; nTHREADS; ++t) { threads[t].join(); }\n\n\n    }\n\n}\n\n</code></pre>\n\n<p>When I use two threads, I receive the following error:</p>\n\n<pre><code>Exception in thread \"Thread-0\" java.lang.ArrayIndexOutOfBoundsException: 801\n    at concurrent$1.run(concurrent.java:36)\n    at java.lang.Thread.run(Thread.java:748)\n</code></pre>\n\n<p>When I set <code>NTHREADS=4</code>, then I receive the following error.</p>\n\n<pre><code>Exception in thread \"Thread-1\" Exception in thread \"Thread-0\" Exception in thread \"Thread-2\" java.lang.ArrayIndexOutOfBoundsException: 802\n    at concurrent$1.run(concurrent.java:36)\n    at java.lang.Thread.run(Thread.java:748)\njava.lang.ArrayIndexOutOfBoundsException: 801\n    at concurrent$1.run(concurrent.java:36)\n    at java.lang.Thread.run(Thread.java:748)\njava.lang.ArrayIndexOutOfBoundsException: 803\n    at concurrent$1.run(concurrent.java:36)\n    at java.lang.Thread.run(Thread.java:748)\n</code></pre>\n\n<p>EDIT: One very important thing is that I have to keep the variables as globally defined. This is just a toy example. In the real model, I have static variables which are accessed by multiple methods during an iterative solution approach. </p>\n"},{"tags":["java","hibernate","jpa","inheritance"],"comments":[{"owner":{"account_id":5164761,"reputation":35,"user_id":4615552,"display_name":"pmendesm"},"score":0,"creation_date":1632924223,"post_id":69377388,"comment_id":122624824,"body_markdown":"yeah, we have a view and we build our queries around that very same view, usually. in 20 reports, only 1 of them has an extra join and another one has an extra column. but the rest of the query is the same - with the exception of the WHERE clause, ofc","body":"yeah, we have a view and we build our queries around that very same view, usually. in 20 reports, only 1 of them has an extra join and another one has an extra column. but the rest of the query is the same - with the exception of the WHERE clause, ofc"},{"owner":{"account_id":5164761,"reputation":35,"user_id":4615552,"display_name":"pmendesm"},"score":1,"creation_date":1632924512,"post_id":69377388,"comment_id":122624992,"body_markdown":"We have one view. Read only. Not a DB table. But views DO work with JPA entities, I have been using them in a lot of projects","body":"We have one view. Read only. Not a DB table. But views DO work with JPA entities, I have been using them in a lot of projects"}],"answers":[{"tags":[],"owner":{"account_id":3253983,"reputation":1481,"user_id":2743585,"display_name":"wi2ard"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1632926893,"creation_date":1632923414,"answer_id":69377725,"question_id":69377388,"body_markdown":"You need only:\r\n- the entity class that you already have CarReportBaseEntity\r\n- a factory that creates 20 CriteriaQueries containing the [jpa criateria][1] for each of your reports \r\n- a bunch of (service) methods that get a CriteriaQuery parameter and add further filtering (eg. `whereCarBrandStartsWith(CriteriaQuery q, String prefix)`)\r\n\r\nTo get a report you get the CriteriaQuery object for that report and just get that result list. If you need to further filter those results you&#39;d pass the criteria object to the service method you want\r\n\r\n*Edit 1*: \r\n\r\n&gt; we would really benefit from multiple classes since then we could extend the FilterEntity with specific columns/order for each report case\r\n\r\nYour criteria queries don&#39;t have to always return CarReportBaseEntity. For each report you can define whatever select clause you want ([CriteriaQuery::multiselect][2]) and wrap the result in whatever dto you want ([CriteriaBuilder::createQuery(resultType)][3]). The advantage I see in this approach is that you can keep all your query logic in one place, in your factory, instead of splitting it between 20 classes and inside one of many annotations.\r\n\r\n\r\n  [1]: https://www.baeldung.com/hibernate-criteria-queries\r\n  [2]: https://docs.oracle.com/javaee/6/api/javax/persistence/criteria/CriteriaQuery.html\r\n  [3]: https://docs.oracle.com/javaee/6/api/index.html?javax/persistence/criteria/CriteriaQuery.html","title":"Best way to query a view with different complex where clauses for multiple reports using JPA","body":"<p>You need only:</p>\n<ul>\n<li>the entity class that you already have CarReportBaseEntity</li>\n<li>a factory that creates 20 CriteriaQueries containing the <a href=\"https://www.baeldung.com/hibernate-criteria-queries\" rel=\"nofollow noreferrer\">jpa criateria</a> for each of your reports</li>\n<li>a bunch of (service) methods that get a CriteriaQuery parameter and add further filtering (eg. <code>whereCarBrandStartsWith(CriteriaQuery q, String prefix)</code>)</li>\n</ul>\n<p>To get a report you get the CriteriaQuery object for that report and just get that result list. If you need to further filter those results you'd pass the criteria object to the service method you want</p>\n<p><em>Edit 1</em>:</p>\n<blockquote>\n<p>we would really benefit from multiple classes since then we could extend the FilterEntity with specific columns/order for each report case</p>\n</blockquote>\n<p>Your criteria queries don't have to always return CarReportBaseEntity. For each report you can define whatever select clause you want (<a href=\"https://docs.oracle.com/javaee/6/api/javax/persistence/criteria/CriteriaQuery.html\" rel=\"nofollow noreferrer\">CriteriaQuery::multiselect</a>) and wrap the result in whatever dto you want (<a href=\"https://docs.oracle.com/javaee/6/api/index.html?javax/persistence/criteria/CriteriaQuery.html\" rel=\"nofollow noreferrer\">CriteriaBuilder::createQuery(resultType)</a>). The advantage I see in this approach is that you can keep all your query logic in one place, in your factory, instead of splitting it between 20 classes and inside one of many annotations.</p>\n"}],"owner":{"account_id":5164761,"reputation":35,"user_id":4615552,"display_name":"pmendesm"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":190,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69377725,"answer_count":1,"score":0,"last_activity_date":1632926893,"creation_date":1632922146,"question_id":69377388,"body_markdown":"I am trying to come up with a nice way of implementing multiple report pages based on the same base entity.\r\n\r\nImagine I want to have multiple reports based on some complex properties of a car - basically the same `SELECT` and the same `FROM` but with different complex `WHERE` clauses.\r\n\r\nReport examples:\r\n\r\n- R1: list of all cars of brand A that did inspection on period B to C, with piece D installed, used in country E.\r\n- R2: list of all cars manufactured this year\r\n- ...\r\n- R20: list of ...\r\n\r\nOn top of this, I want to have a filtering component that will help look for a specific case. We can assume that the filtering component is the same for all these reports, since the fields/columns will be (**almost**) the same for all reports.\r\n\r\nThe most straightforward solution is to create 20 views with all the statements, create 20 entities to map these DB views, and create repositories for all of them. But I guess this can be achieved in a smarter way.\r\n\r\nMy initial idea was to create a base entity `CarReportBaseEntity` that holds around 50 fields/columns. \r\n\r\n```java\r\n@Entity\r\n@Table(name = &quot;CAR_REPORT_VIEW&quot;)\r\npublic abstract class CarReportBaseEntity&lt;T extends CarReportBaseEntity&lt;T&gt;&gt; implements Serializable, FilteredEntity&lt;T&gt; {\r\n\r\n    @Id\r\n    @Column(insertable = false, updatable = false)\r\n    private Long id;\r\n\r\n    @Column(insertable = false, updatable = false)\r\n    private Long manufacturedYear;\r\n\r\n    etc...\r\n}\r\n```\r\n\r\nThen for each different report, I would just create an entity like:\r\n\r\n```java\r\n@Entity\r\n@Where(clause = &quot;manufacturedYear = 2020&quot;)\r\nclass ManufacturedIn2020ReportEntity extends CarReportBaseEntity&lt;ManufacturedIn2020ReportEntity&gt; {\r\n}\r\n```\r\n\r\nand similarly for other reports:\r\n```java\r\n@Entity\r\n@Where(clause = &quot;some complex where clause&quot;)\r\nclass SomeOtherReportEntity extends CarReportBaseEntity&lt;SomeOtherReportEntity&gt; {\r\n}\r\n```\r\n\r\nThis would allow me to quickly create new reports by just adding one class and by tweaking the `@Where` annotation, including all the functionalities shared by the `FilteredEntity`. However this doesnt work since it creates a `@Inheritance(strategy = InheritanceType.SINGLE_TABLE)` by default, which then breaks the whole application since I don&#39;t have any `DTYPE` column specified. I don&#39;t want to need to specify anything, I just want to create classes for the same Entity but with different complex where clauses.\r\n\r\nWhat could I do to solve this in an elegant way?","title":"Best way to query a view with different complex where clauses for multiple reports using JPA","body":"<p>I am trying to come up with a nice way of implementing multiple report pages based on the same base entity.</p>\n<p>Imagine I want to have multiple reports based on some complex properties of a car - basically the same <code>SELECT</code> and the same <code>FROM</code> but with different complex <code>WHERE</code> clauses.</p>\n<p>Report examples:</p>\n<ul>\n<li>R1: list of all cars of brand A that did inspection on period B to C, with piece D installed, used in country E.</li>\n<li>R2: list of all cars manufactured this year</li>\n<li>...</li>\n<li>R20: list of ...</li>\n</ul>\n<p>On top of this, I want to have a filtering component that will help look for a specific case. We can assume that the filtering component is the same for all these reports, since the fields/columns will be (<strong>almost</strong>) the same for all reports.</p>\n<p>The most straightforward solution is to create 20 views with all the statements, create 20 entities to map these DB views, and create repositories for all of them. But I guess this can be achieved in a smarter way.</p>\n<p>My initial idea was to create a base entity <code>CarReportBaseEntity</code> that holds around 50 fields/columns.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;CAR_REPORT_VIEW&quot;)\npublic abstract class CarReportBaseEntity&lt;T extends CarReportBaseEntity&lt;T&gt;&gt; implements Serializable, FilteredEntity&lt;T&gt; {\n\n    @Id\n    @Column(insertable = false, updatable = false)\n    private Long id;\n\n    @Column(insertable = false, updatable = false)\n    private Long manufacturedYear;\n\n    etc...\n}\n</code></pre>\n<p>Then for each different report, I would just create an entity like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Where(clause = &quot;manufacturedYear = 2020&quot;)\nclass ManufacturedIn2020ReportEntity extends CarReportBaseEntity&lt;ManufacturedIn2020ReportEntity&gt; {\n}\n</code></pre>\n<p>and similarly for other reports:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Where(clause = &quot;some complex where clause&quot;)\nclass SomeOtherReportEntity extends CarReportBaseEntity&lt;SomeOtherReportEntity&gt; {\n}\n</code></pre>\n<p>This would allow me to quickly create new reports by just adding one class and by tweaking the <code>@Where</code> annotation, including all the functionalities shared by the <code>FilteredEntity</code>. However this doesnt work since it creates a <code>@Inheritance(strategy = InheritanceType.SINGLE_TABLE)</code> by default, which then breaks the whole application since I don't have any <code>DTYPE</code> column specified. I don't want to need to specify anything, I just want to create classes for the same Entity but with different complex where clauses.</p>\n<p>What could I do to solve this in an elegant way?</p>\n"},{"tags":["java","spring-boot","session","samesite"],"answers":[{"tags":[],"owner":{"account_id":22335295,"reputation":9,"user_id":16555987,"display_name":"Juliano Soder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632926892,"creation_date":1632926892,"answer_id":69378667,"question_id":67850607,"body_markdown":"I solved this issue using ResponseCookie. See below:\r\n\r\n    final ResponseCookie responseCookie = ResponseCookie\r\n    \t\t        .from(&quot;test&quot;, &quot;test&quot;)\r\n    \t\t        .secure(true)\r\n    \t\t        .httpOnly(true)\r\n    \t\t        .path(&quot;/&quot;)\r\n    \t\t        .maxAge(12345)\r\n    \t\t        .sameSite(&quot;None&quot;)\r\n    \t\t        .build();\r\n    \t\tresponse.addHeader(HttpHeaders.SET_COOKIE, responseCookie.toString());\r\n\r\nCookie name: test and Value: test.\r\n\r\nNeed set secure true to use sameSite(&quot;None&quot;).\r\n \r\nThis should save your Cookie","title":"How to set SAMESite cookie to none in spring boot?","body":"<p>I solved this issue using ResponseCookie. See below:</p>\n<pre><code>final ResponseCookie responseCookie = ResponseCookie\n                .from(&quot;test&quot;, &quot;test&quot;)\n                .secure(true)\n                .httpOnly(true)\n                .path(&quot;/&quot;)\n                .maxAge(12345)\n                .sameSite(&quot;None&quot;)\n                .build();\n        response.addHeader(HttpHeaders.SET_COOKIE, responseCookie.toString());\n</code></pre>\n<p>Cookie name: test and Value: test.</p>\n<p>Need set secure true to use sameSite(&quot;None&quot;).</p>\n<p>This should save your Cookie</p>\n"}],"owner":{"account_id":18475096,"reputation":276,"user_id":13458888,"display_name":"John"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":907,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632926892,"creation_date":1622903375,"question_id":67850607,"body_markdown":"I have web-app with reactjs(frontEnd) and springboot(Backend) on deployed on **two(2) different servers.**\r\n\r\nThey both are **http servers and NOT HTTPS**.\r\n\r\nI searched all the stackoverflow questions related to this but none seem to work. \r\n\r\nI am **not** using **spring-session** dependency or **Spring-security** dependency.\r\n\r\nTo maintain user session I am just making my beans **@SessionScoped** and it was working fine if everything was on **same server**, but on **different servers it has broked**.\r\n\r\nBrowser gives this error as **can&#39;t set samesite=none**, over **http for this https is required**.\r\n\r\nSo what is the workaround for this problem. As I can&#39;t have my server to be https as of now.","title":"How to set SAMESite cookie to none in spring boot?","body":"<p>I have web-app with reactjs(frontEnd) and springboot(Backend) on deployed on <strong>two(2) different servers.</strong></p>\n<p>They both are <strong>http servers and NOT HTTPS</strong>.</p>\n<p>I searched all the stackoverflow questions related to this but none seem to work.</p>\n<p>I am <strong>not</strong> using <strong>spring-session</strong> dependency or <strong>Spring-security</strong> dependency.</p>\n<p>To maintain user session I am just making my beans <strong>@SessionScoped</strong> and it was working fine if everything was on <strong>same server</strong>, but on <strong>different servers it has broked</strong>.</p>\n<p>Browser gives this error as <strong>can't set samesite=none</strong>, over <strong>http for this https is required</strong>.</p>\n<p>So what is the workaround for this problem. As I can't have my server to be https as of now.</p>\n"},{"tags":["java","android","android-canvas"],"answers":[{"tags":[],"owner":{"account_id":16020322,"reputation":166,"user_id":11561980,"display_name":"Dmitry Yablokov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632842173,"creation_date":1632840785,"answer_id":69364000,"question_id":69360726,"body_markdown":"I use this function to draw multiline text:\r\n\r\n    void drawMultilineText(Canvas canvas, String text, float x, float y) {\r\n        for (String line: text.split(&quot;\\n&quot;)) {\r\n            canvas.drawText(line, x, y, mPaintText);\r\n            y += mPaintText.descent() - mPaintText.ascent();\r\n        }\r\n    }\r\nPlease also check \r\nhttps://stackoverflow.com/questions/27631736/meaning-of-top-ascent-baseline-descent-bottom-and-leading-in-androids-font","title":"Calculate baseline y for drawing text on canvas in Android","body":"<p>I use this function to draw multiline text:</p>\n<pre><code>void drawMultilineText(Canvas canvas, String text, float x, float y) {\n    for (String line: text.split(&quot;\\n&quot;)) {\n        canvas.drawText(line, x, y, mPaintText);\n        y += mPaintText.descent() - mPaintText.ascent();\n    }\n}\n</code></pre>\n<p>Please also check\n<a href=\"https://stackoverflow.com/questions/27631736/meaning-of-top-ascent-baseline-descent-bottom-and-leading-in-androids-font\">Meaning of top, ascent, baseline, descent, bottom, and leading in Android&#39;s FontMetrics</a></p>\n"},{"tags":[],"owner":{"account_id":8373673,"reputation":61868,"user_id":6287910,"display_name":"Cheticamp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1632926736,"creation_date":1632861012,"answer_id":69368137,"question_id":69360726,"body_markdown":"Single-line text can be placed into a [BoringLayout](https://developer.android.com/reference/android/text/BoringLayout) to get the location of the baseline. ([StaticLayout](https://developer.android.com/reference/android/text/StaticLayout) can also be used, but it looks like you are dealing with single lines, so we will use *BoringLayout*.)\r\n\r\nThe code below shows how to place text into a layout to extract the baseline. Once the baseline is known (relative to zero at the top), the text can be drawn where we like on a canvas.\r\n\r\n**MyView.kt**\r\n\r\n    class MyView @JvmOverloads constructor(\r\n        context: Context, attrs: AttributeSet? = null, defStyleAttr: Int = 0\r\n    ) : View(context, attrs, defStyleAttr) {\r\n\r\n        private val textToDisplay: String\r\n        private var textPaint = TextPaint(Paint.ANTI_ALIAS_FLAG).apply {\r\n            textSize = 98f\r\n            color = Color.WHITE\r\n        }\r\n\r\n        // Layout for single lines\r\n        private var boringLayout: BoringLayout\r\n\r\n        // Contains just the text.\r\n        private val wordBounds = Rect()\r\n\r\n        private val wordBoundsFillPaint = Paint().apply {\r\n            color = 0x55ffffff\r\n            style = Paint.Style.FILL\r\n        }\r\n\r\n        init {\r\n            context.obtainStyledAttributes(attrs, R.styleable.MyView, 0, 0).apply {\r\n                textToDisplay = getString(R.styleable.MyView_android_text) ?: &quot;Nothing&quot;\r\n            }.recycle()\r\n\r\n            val metrics = BoringLayout.isBoring(textToDisplay, textPaint)\r\n                ?: throw IllegalArgumentException(&quot;\\&quot;$textToDisplay\\&quot; is not boring.&quot;)\r\n\r\n            // Get the text bounds that adhere tightly to the text.\r\n            textPaint.getTextBounds(textToDisplay, 0, textToDisplay.length, wordBounds)\r\n\r\n            // Get the layout for the text. These bounds include additional spacing used in the layout.\r\n            boringLayout =\r\n                BoringLayout.make(\r\n                    textToDisplay,\r\n                    textPaint,\r\n                    textPaint.measureText(textToDisplay).toInt(), Layout.Alignment.ALIGN_NORMAL,\r\n                    0f, 0f,\r\n                    metrics,\r\n                    false\r\n                )\r\n\r\n            val textBaseline = boringLayout.getLineBaseline(0)\r\n            wordBounds.top = wordBounds.top + textBaseline\r\n            wordBounds.bottom = wordBounds.bottom + textBaseline\r\n        }\r\n\r\n        override fun onDraw(canvas: Canvas) {\r\n            super.onDraw(canvas)\r\n            canvas.withTranslation(\r\n                // Center the words within the view.\r\n                (width - boringLayout.width).toFloat() / 2,\r\n                (height - boringLayout.height).toFloat() / 2\r\n            ) {\r\n                drawRect(wordBounds, wordBoundsFillPaint)\r\n                // Using BoringLayout to draw text is preferred, but drawText() will work here as well.\r\n                boringLayout.draw(this)\r\n    //            drawText(textToDisplay, 0f, boringLayout.getLineBaseline(0).toFloat(), textPaint)\r\n            }\r\n        }\r\n    }\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**activity_main.xml**\r\n\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n        &lt;com.example.textbaseline.MyView\r\n            android:id=&quot;@+id/myView&quot;\r\n            android:layout_width=&quot;200dp&quot;\r\n            android:layout_height=&quot;75dp&quot;\r\n            android:background=&quot;@android:color/black&quot;\r\n            android:text=&quot;Retrograde&quot;\r\n            app:layout_constraintBottom_toTopOf=&quot;@+id/myView2&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.5&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:layout_constraintVertical_chainStyle=&quot;packed&quot; /&gt;\r\n\r\n        &lt;com.example.textbaseline.MyView\r\n            android:id=&quot;@+id/myView2&quot;\r\n            android:layout_width=&quot;200dp&quot;\r\n            android:layout_height=&quot;75dp&quot;\r\n            android:layout_marginTop=&quot;8dp&quot;\r\n            android:background=&quot;@android:color/black&quot;\r\n            android:text=&quot;&amp;#258;pple&quot;\r\n            app:layout_constraintBottom_toTopOf=&quot;@+id/myView3&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.5&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/myView&quot; /&gt;\r\n\r\n        &lt;com.example.textbaseline.MyView\r\n            android:id=&quot;@+id/myView3&quot;\r\n            android:layout_width=&quot;200dp&quot;\r\n            android:layout_height=&quot;75dp&quot;\r\n            android:layout_marginTop=&quot;8dp&quot;\r\n            android:background=&quot;@android:color/black&quot;\r\n            android:text=&quot;back&quot;\r\n            app:layout_constraintBottom_toTopOf=&quot;@+id/myView4&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.5&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/myView2&quot; /&gt;\r\n\r\n        &lt;com.example.textbaseline.MyView\r\n            android:id=&quot;@+id/myView4&quot;\r\n            android:layout_width=&quot;200dp&quot;\r\n            android:layout_height=&quot;75dp&quot;\r\n            android:layout_marginTop=&quot;8dp&quot;\r\n            android:background=&quot;@android:color/black&quot;\r\n            android:text=&quot;scene&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.5&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/myView3&quot; /&gt;\r\n\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WIOTn.png","title":"Calculate baseline y for drawing text on canvas in Android","body":"<p>Single-line text can be placed into a <a href=\"https://developer.android.com/reference/android/text/BoringLayout\" rel=\"nofollow noreferrer\">BoringLayout</a> to get the location of the baseline. (<a href=\"https://developer.android.com/reference/android/text/StaticLayout\" rel=\"nofollow noreferrer\">StaticLayout</a> can also be used, but it looks like you are dealing with single lines, so we will use <em>BoringLayout</em>.)</p>\n<p>The code below shows how to place text into a layout to extract the baseline. Once the baseline is known (relative to zero at the top), the text can be drawn where we like on a canvas.</p>\n<p><strong>MyView.kt</strong></p>\n<pre><code>class MyView @JvmOverloads constructor(\n    context: Context, attrs: AttributeSet? = null, defStyleAttr: Int = 0\n) : View(context, attrs, defStyleAttr) {\n\n    private val textToDisplay: String\n    private var textPaint = TextPaint(Paint.ANTI_ALIAS_FLAG).apply {\n        textSize = 98f\n        color = Color.WHITE\n    }\n\n    // Layout for single lines\n    private var boringLayout: BoringLayout\n\n    // Contains just the text.\n    private val wordBounds = Rect()\n\n    private val wordBoundsFillPaint = Paint().apply {\n        color = 0x55ffffff\n        style = Paint.Style.FILL\n    }\n\n    init {\n        context.obtainStyledAttributes(attrs, R.styleable.MyView, 0, 0).apply {\n            textToDisplay = getString(R.styleable.MyView_android_text) ?: &quot;Nothing&quot;\n        }.recycle()\n\n        val metrics = BoringLayout.isBoring(textToDisplay, textPaint)\n            ?: throw IllegalArgumentException(&quot;\\&quot;$textToDisplay\\&quot; is not boring.&quot;)\n\n        // Get the text bounds that adhere tightly to the text.\n        textPaint.getTextBounds(textToDisplay, 0, textToDisplay.length, wordBounds)\n\n        // Get the layout for the text. These bounds include additional spacing used in the layout.\n        boringLayout =\n            BoringLayout.make(\n                textToDisplay,\n                textPaint,\n                textPaint.measureText(textToDisplay).toInt(), Layout.Alignment.ALIGN_NORMAL,\n                0f, 0f,\n                metrics,\n                false\n            )\n\n        val textBaseline = boringLayout.getLineBaseline(0)\n        wordBounds.top = wordBounds.top + textBaseline\n        wordBounds.bottom = wordBounds.bottom + textBaseline\n    }\n\n    override fun onDraw(canvas: Canvas) {\n        super.onDraw(canvas)\n        canvas.withTranslation(\n            // Center the words within the view.\n            (width - boringLayout.width).toFloat() / 2,\n            (height - boringLayout.height).toFloat() / 2\n        ) {\n            drawRect(wordBounds, wordBoundsFillPaint)\n            // Using BoringLayout to draw text is preferred, but drawText() will work here as well.\n            boringLayout.draw(this)\n//            drawText(textToDisplay, 0f, boringLayout.getLineBaseline(0).toFloat(), textPaint)\n        }\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/WIOTn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WIOTn.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>activity_main.xml</strong></p>\n<pre><code>&lt;androidx.constraintlayout.widget.ConstraintLayout\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;com.example.textbaseline.MyView\n        android:id=&quot;@+id/myView&quot;\n        android:layout_width=&quot;200dp&quot;\n        android:layout_height=&quot;75dp&quot;\n        android:background=&quot;@android:color/black&quot;\n        android:text=&quot;Retrograde&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@+id/myView2&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.5&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_chainStyle=&quot;packed&quot; /&gt;\n\n    &lt;com.example.textbaseline.MyView\n        android:id=&quot;@+id/myView2&quot;\n        android:layout_width=&quot;200dp&quot;\n        android:layout_height=&quot;75dp&quot;\n        android:layout_marginTop=&quot;8dp&quot;\n        android:background=&quot;@android:color/black&quot;\n        android:text=&quot;&amp;#258;pple&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@+id/myView3&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.5&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/myView&quot; /&gt;\n\n    &lt;com.example.textbaseline.MyView\n        android:id=&quot;@+id/myView3&quot;\n        android:layout_width=&quot;200dp&quot;\n        android:layout_height=&quot;75dp&quot;\n        android:layout_marginTop=&quot;8dp&quot;\n        android:background=&quot;@android:color/black&quot;\n        android:text=&quot;back&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@+id/myView4&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.5&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/myView2&quot; /&gt;\n\n    &lt;com.example.textbaseline.MyView\n        android:id=&quot;@+id/myView4&quot;\n        android:layout_width=&quot;200dp&quot;\n        android:layout_height=&quot;75dp&quot;\n        android:layout_marginTop=&quot;8dp&quot;\n        android:background=&quot;@android:color/black&quot;\n        android:text=&quot;scene&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.5&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/myView3&quot; /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n"}],"owner":{"account_id":1067456,"reputation":876,"user_id":1067596,"accept_rate":43,"display_name":"hoshiKuzu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":498,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69368137,"answer_count":2,"score":0,"last_activity_date":1632926736,"creation_date":1632827841,"question_id":69360726,"body_markdown":"I am using the following code to draw text. \r\n\r\n        final Paint paint = new Paint(Paint.ANTI_ALIAS_FLAG);\r\n        final Rect rect = new Rect();\r\n        paint.getTextBounds(text, 0, text.length(), rect);\r\n\r\n        final int width = rect.width();\r\n        final int height = rect.height();\r\n\r\n        Bitmap rendered = Bitmap.createBitmap(width, height, Bitmap.Config.ARGB_8888);\r\n\r\n        final Canvas gOfRendered = new Canvas(rendered);\r\n\r\n        paint.setColor(Color.WHITE);\r\n\r\n        gOfRendered.drawText(\r\n                text, 0, height - paint.getFontMetrics().descent - paint.getFontMetrics().leading, paint\r\n        );\r\n\r\n        gOfRendered.drawColor(0x11ffffff); // to see the bounds\r\n\r\n[![enter image description here][1]][1]\r\n\r\n`Canvas.drawText` needs the y coordinate as a baseline.\r\nSome strings such as &quot;back&quot; in the above output does not have a descent. It gets cut and it does not make sense to subtract `paint.getFontMetrics().descent` in those cases. How do I make sure that the baseline is calculated correctly?\r\n\r\nAlternately, is there a text drawing method which takes the origin y coordinate and not the baseline?\r\n\r\nI am looking for a way to draw text exactly within the bounds given by `Paint.getTextBounds()`\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KxcKi.png","title":"Calculate baseline y for drawing text on canvas in Android","body":"<p>I am using the following code to draw text.</p>\n<pre><code>    final Paint paint = new Paint(Paint.ANTI_ALIAS_FLAG);\n    final Rect rect = new Rect();\n    paint.getTextBounds(text, 0, text.length(), rect);\n\n    final int width = rect.width();\n    final int height = rect.height();\n\n    Bitmap rendered = Bitmap.createBitmap(width, height, Bitmap.Config.ARGB_8888);\n\n    final Canvas gOfRendered = new Canvas(rendered);\n\n    paint.setColor(Color.WHITE);\n\n    gOfRendered.drawText(\n            text, 0, height - paint.getFontMetrics().descent - paint.getFontMetrics().leading, paint\n    );\n\n    gOfRendered.drawColor(0x11ffffff); // to see the bounds\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/KxcKi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KxcKi.png\" alt=\"enter image description here\" /></a></p>\n<p><code>Canvas.drawText</code> needs the y coordinate as a baseline.\nSome strings such as &quot;back&quot; in the above output does not have a descent. It gets cut and it does not make sense to subtract <code>paint.getFontMetrics().descent</code> in those cases. How do I make sure that the baseline is calculated correctly?</p>\n<p>Alternately, is there a text drawing method which takes the origin y coordinate and not the baseline?</p>\n<p>I am looking for a way to draw text exactly within the bounds given by <code>Paint.getTextBounds()</code></p>\n"},{"tags":["java","eclipse","comments"],"comments":[{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":2,"creation_date":1632926775,"post_id":69378614,"comment_id":122626197,"body_markdown":"Oh no, please don&#39;t.","body":"Oh no, please don&#39;t."},{"owner":{"account_id":1852014,"reputation":24139,"user_id":1678362,"display_name":"Aaron"},"score":3,"creation_date":1632927145,"post_id":69378614,"comment_id":122626407,"body_markdown":"I&#39;m not sure but you might get it by following this : window -&gt; preferences -&gt; Java&gt;Code Style&gt;Formatter -&gt; edit -&gt; Comments&gt;Javadocs -&gt; uncheck &quot;/* and */ on separate lines&quot; -&gt; specify profile name and save, then switch to that profile in the preferences window.","body":"I&#39;m not sure but you might get it by following this : window -&gt; preferences -&gt; Java&gt;Code Style&gt;Formatter -&gt; edit -&gt; Comments&gt;Javadocs -&gt; uncheck &quot;/* and */ on separate lines&quot; -&gt; specify profile name and save, then switch to that profile in the preferences window."},{"owner":{"account_id":934328,"reputation":13073,"user_id":963546,"accept_rate":74,"display_name":"Gero"},"score":0,"creation_date":1632927698,"post_id":69378614,"comment_id":122626693,"body_markdown":"Somehow it does not apply to the code.","body":"Somehow it does not apply to the code."},{"owner":{"account_id":1852014,"reputation":24139,"user_id":1678362,"display_name":"Aaron"},"score":0,"creation_date":1632927847,"post_id":69378614,"comment_id":122626760,"body_markdown":"I&#39;ve edited my comment, I suggested to change the configuration in Comments&gt;Block comments at first but it&#39;s actually the conf in Comments&gt;Javadoc which is relevant to your case, make sure your used my updated comment. If you did, make sure your formatter actually ran, depending on your conf it could be any time the file is changed, or only when it&#39;s manually called","body":"I&#39;ve edited my comment, I suggested to change the configuration in Comments&gt;Block comments at first but it&#39;s actually the conf in Comments&gt;Javadoc which is relevant to your case, make sure your used my updated comment. If you did, make sure your formatter actually ran, depending on your conf it could be any time the file is changed, or only when it&#39;s manually called"}],"owner":{"account_id":934328,"reputation":13073,"user_id":963546,"accept_rate":74,"display_name":"Gero"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1632926673,"creation_date":1632926673,"question_id":69378614,"body_markdown":"how do I change the style of java class, method comments in eclipse?\r\n\r\nInsted of \r\n\r\n&lt;pre&gt;/**\r\n * Represents a student enrolled in the school.\r\n * A student can be enrolled in many courses.\r\n */\r\npublic class Student {\r\n\r\n  /**\r\n   * The first and last name of this student.\r\n   */\r\n  private String name;\r\n\r\n  /**\r\n   * Creates a new Student with the given name.\r\n   * The name should include both first and\r\n   * last name.\r\n   */\r\n  public Student(String name) {\r\n    this.name = name;\r\n  }\r\n\r\n}&lt;/pre&gt;\r\n\r\n\r\nI would like to have\r\n&lt;pre&gt;\r\n/**Represents a student enrolled in the school.\r\n * A student can be enrolled in many courses.*/\r\npublic class Student {\r\n\r\n  /**The first and last name of this student.*/\r\n  private String name;\r\n\r\n  /**Creates a new Student with the given name.\r\n   * The name should include both first and\r\n   * last name.*/\r\n  public Student(String name) {\r\n    this.name = name;\r\n  }\r\n}\r\n&lt;/pre&gt;\r\n\r\nHow do I get the text to start in the first line?","title":"eclipse java code comment text in first line","body":"<p>how do I change the style of java class, method comments in eclipse?</p>\n<p>Insted of</p>\n<pre>/**\n * Represents a student enrolled in the school.\n * A student can be enrolled in many courses.\n */\npublic class Student {\n\n  /**\n   * The first and last name of this student.\n   */\n  private String name;\n\n  /**\n   * Creates a new Student with the given name.\n   * The name should include both first and\n   * last name.\n   */\n  public Student(String name) {\n    this.name = name;\n  }\n\n}</pre>\n<p>I would like to have</p>\n<pre>\n/**Represents a student enrolled in the school.\n * A student can be enrolled in many courses.*/\npublic class Student {\n\n  /**The first and last name of this student.*/\n  private String name;\n\n  /**Creates a new Student with the given name.\n   * The name should include both first and\n   * last name.*/\n  public Student(String name) {\n    this.name = name;\n  }\n}\n</pre>\n<p>How do I get the text to start in the first line?</p>\n"},{"tags":["java","hbase","cloudera"],"comments":[{"owner":{"account_id":4814985,"reputation":372,"user_id":3887341,"accept_rate":29,"display_name":"Wilson Ho"},"score":0,"creation_date":1632925800,"post_id":69190282,"comment_id":122625669,"body_markdown":"Hi, have you resolved this issue? I am facing the same one. Thank you","body":"Hi, have you resolved this issue? I am facing the same one. Thank you"},{"owner":{"account_id":11467258,"reputation":1984,"user_id":8405122,"display_name":"Francesco Clementi"},"score":0,"creation_date":1632925958,"post_id":69190282,"comment_id":122625747,"body_markdown":"@WilsonHo Yes, I&#39;ll post the answer in an hour","body":"@WilsonHo Yes, I&#39;ll post the answer in an hour"},{"owner":{"account_id":11467258,"reputation":1984,"user_id":8405122,"display_name":"Francesco Clementi"},"score":0,"creation_date":1632926631,"post_id":69190282,"comment_id":122626125,"body_markdown":"@WilsonHo I posted the answer","body":"@WilsonHo I posted the answer"}],"answers":[{"tags":[],"owner":{"account_id":11467258,"reputation":1984,"user_id":8405122,"display_name":"Francesco Clementi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1632926606,"creation_date":1632926606,"answer_id":69378600,"question_id":69190282,"body_markdown":"Online I found only old or wrong configuration.\r\n\r\nThis one is the only that worked for me:\r\n\r\n```\r\norg.apache.hadoop.conf.Configuration configuration = HBaseConfiguration.create();\r\nconfiguration.set(&quot;hbase.zookeeper.quorum&quot;, &quot;server1, server2, server3&quot;);\r\nconfiguration.set(&quot;hbase.zookeeper.property.clientPort&quot;, &quot;2181&quot;);\r\nconfiguration.set(&quot;hadoop.security.authentication&quot;,&quot;kerberos&quot;);\r\nconfiguration.set(&quot;hbase.security.authentication&quot;,&quot;kerberos&quot;);\r\nconfiguration.set(&quot;hbase.cluster.distributed&quot;, true);\r\nconfiguration.set(&quot;hbase.rpc.protection&quot;,&quot;authentication&quot;); // Check this on your hbase configuration\r\nconfiguration.set(&quot;hbase.regionserver.kerberos.principal&quot;, &quot;hbase/_HOST@yourdomain&quot;);\r\nconfiguration.set(&quot;hbase.master.kerberos.principal&quot;,&quot;hbase/_HOST@yourdomain&quot;);\r\nUserGroupInformation.setConfiguration(configuration);         \r\nUserGroupInformation.loginUserFromKeytab(youruser, &quot;src/main/resources/key.keytab&quot;);\r\n```","title":"HBase java error - Expected HEADER=HBas but received HEADER=\\x00\\x00\\x01\\x0B","body":"<p>Online I found only old or wrong configuration.</p>\n<p>This one is the only that worked for me:</p>\n<pre><code>org.apache.hadoop.conf.Configuration configuration = HBaseConfiguration.create();\nconfiguration.set(&quot;hbase.zookeeper.quorum&quot;, &quot;server1, server2, server3&quot;);\nconfiguration.set(&quot;hbase.zookeeper.property.clientPort&quot;, &quot;2181&quot;);\nconfiguration.set(&quot;hadoop.security.authentication&quot;,&quot;kerberos&quot;);\nconfiguration.set(&quot;hbase.security.authentication&quot;,&quot;kerberos&quot;);\nconfiguration.set(&quot;hbase.cluster.distributed&quot;, true);\nconfiguration.set(&quot;hbase.rpc.protection&quot;,&quot;authentication&quot;); // Check this on your hbase configuration\nconfiguration.set(&quot;hbase.regionserver.kerberos.principal&quot;, &quot;hbase/_HOST@yourdomain&quot;);\nconfiguration.set(&quot;hbase.master.kerberos.principal&quot;,&quot;hbase/_HOST@yourdomain&quot;);\nUserGroupInformation.setConfiguration(configuration);         \nUserGroupInformation.loginUserFromKeytab(youruser, &quot;src/main/resources/key.keytab&quot;);\n</code></pre>\n"}],"owner":{"account_id":11467258,"reputation":1984,"user_id":8405122,"display_name":"Francesco Clementi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":899,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":69378600,"answer_count":1,"score":4,"last_activity_date":1632926606,"creation_date":1631697468,"question_id":69190282,"body_markdown":"I&#39;m trying to connecting to a remote hbase from a java application.\r\n\r\nThe remote hbase version is 2.1.0, such as my local hbase-client.\r\n\r\nThe code is working well with another cloudera environment, the only difference is that this environment is protected with kerberos, but I get login successfull in the log.\r\n\r\nIn the RpcServer log I found &quot;Expected HEADER=HBas but received HEADER=\\x00\\x00\\x01\\x0B from &lt;ip address&gt;:61866&quot;.\r\n\r\nI can&#39;t find any on internet and I don&#39;t know what to check.\r\n\r\nAny help on what should I check?","title":"HBase java error - Expected HEADER=HBas but received HEADER=\\x00\\x00\\x01\\x0B","body":"<p>I'm trying to connecting to a remote hbase from a java application.</p>\n<p>The remote hbase version is 2.1.0, such as my local hbase-client.</p>\n<p>The code is working well with another cloudera environment, the only difference is that this environment is protected with kerberos, but I get login successfull in the log.</p>\n<p>In the RpcServer log I found &quot;Expected HEADER=HBas but received HEADER=\\x00\\x00\\x01\\x0B from :61866&quot;.</p>\n<p>I can't find any on internet and I don't know what to check.</p>\n<p>Any help on what should I check?</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":1,"creation_date":1632927434,"post_id":69370493,"comment_id":122626545,"body_markdown":"Please make sure to use the release JDK version, not ea and update to the latest IntelliJ IDEA version: jetbrains.com/idea/download/index.html","body":"Please make sure to use the release JDK version, not ea and update to the latest IntelliJ IDEA version: jetbrains.com/idea/download/index.html"},{"owner":{"account_id":16193976,"reputation":11,"user_id":11692065,"display_name":"Wheezer"},"score":0,"creation_date":1632931493,"post_id":69370493,"comment_id":122628532,"body_markdown":"For some reason, when I use the 1.8 version of the JDK, it works","body":"For some reason, when I use the 1.8 version of the JDK, it works"}],"owner":{"account_id":16193976,"reputation":11,"user_id":11692065,"display_name":"Wheezer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":664,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1632926595,"creation_date":1632890382,"question_id":69370493,"body_markdown":"I just wrote a simple hello world program in Intellij and this is the output when I tried to run the program.\r\n ```\r\nError:Internal error: (java.lang.IllegalAccessError) class com.intellij.util.io.FileChannelUtil (in unnamed module @0x306279ee) cannot access class sun.nio.ch.FileChannelImpl (in module java.base) because module java.base does not export sun.nio.ch to unnamed module @0x306279ee\r\n\r\n```","title":"Is there a way to solve this internal error in Intellij","body":"<p>I just wrote a simple hello world program in Intellij and this is the output when I tried to run the program.</p>\n<pre><code>Error:Internal error: (java.lang.IllegalAccessError) class com.intellij.util.io.FileChannelUtil (in unnamed module @0x306279ee) cannot access class sun.nio.ch.FileChannelImpl (in module java.base) because module java.base does not export sun.nio.ch to unnamed module @0x306279ee\n\n</code></pre>\n"},{"tags":["java","hardware","cpu"],"comments":[{"owner":{"account_id":369935,"reputation":4762,"user_id":717584,"accept_rate":87,"display_name":"iamjustcoder"},"score":0,"creation_date":1316125968,"post_id":7438192,"comment_id":8993786,"body_markdown":"I am looking for some thing like this\nhttp://www.codeproject.com/KB/system/GetHardwareInformation.aspx","body":"I am looking for some thing like this <a href=\"http://www.codeproject.com/KB/system/GetHardwareInformation.aspx\" rel=\"nofollow noreferrer\">codeproject.com/KB/system/GetHardwareInformation.aspx</a>"},{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1316126221,"post_id":7438192,"comment_id":8993840,"body_markdown":"JNA or [Sigar](http://support.hyperic.com/display/SIGAR/Home) probably offer your best bet.","body":"JNA or <a href=\"http://support.hyperic.com/display/SIGAR/Home\" rel=\"nofollow noreferrer\">Sigar</a> probably offer your best bet."}],"answers":[{"tags":[],"owner":{"account_id":43861,"reputation":59776,"user_id":128397,"accept_rate":82,"display_name":"Daniel Pryden"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1316126140,"creation_date":1316126140,"answer_id":7438233,"question_id":7438192,"body_markdown":"I&#39;m pretty certain there&#39;s no way to do this in pure Java.  You&#39;ll need to use JNI or some other native-code interface to get information from the underlying OS.  Unfortunately, this will also make your Java program not portable to other operating systems.","title":"Retrieving CPU information in java","body":"<p>I'm pretty certain there's no way to do this in pure Java.  You'll need to use JNI or some other native-code interface to get information from the underlying OS.  Unfortunately, this will also make your Java program not portable to other operating systems.</p>\n"},{"tags":[],"owner":{"account_id":231844,"reputation":15697,"user_id":496289,"accept_rate":86,"display_name":"Kashyap"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1632926478,"creation_date":1316126162,"answer_id":7438236,"question_id":7438192,"body_markdown":"For CPU try [org.hyperic.sigar.cmd.CpuInfo][1].\r\nFor OS try [System.getProperties()][2].\r\n\r\n\r\n  [1]: https://github.com/hyperic/sigar/blob/master/bindings/java/src/org/hyperic/sigar/cmd/CpuInfo.java\r\n  [2]: https://docs.oracle.com/javase/tutorial/essential/environment/sysprop.html","title":"Retrieving CPU information in java","body":"<p>For CPU try <a href=\"https://github.com/hyperic/sigar/blob/master/bindings/java/src/org/hyperic/sigar/cmd/CpuInfo.java\" rel=\"nofollow noreferrer\">org.hyperic.sigar.cmd.CpuInfo</a>.\nFor OS try <a href=\"https://docs.oracle.com/javase/tutorial/essential/environment/sysprop.html\" rel=\"nofollow noreferrer\">System.getProperties()</a>.</p>\n"},{"tags":[],"owner":{"account_id":132051,"reputation":4348,"user_id":332517,"accept_rate":58,"display_name":"Rostislav Matl"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1570306634,"creation_date":1316126469,"answer_id":7438279,"question_id":7438192,"body_markdown":"I&#39;d just call some native command for that. On Linux it is `cat /proc/cpuinfo`.\r\n\r\nJava is not good tool for this purpose but still can easily collect information from such native tools/calls.","title":"Retrieving CPU information in java","body":"<p>I'd just call some native command for that. On Linux it is <code>cat /proc/cpuinfo</code>.</p>\n\n<p>Java is not good tool for this purpose but still can easily collect information from such native tools/calls.</p>\n"},{"tags":[],"owner":{"account_id":48693,"reputation":29189,"user_id":144746,"accept_rate":93,"display_name":"Voo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1316126583,"creation_date":1316126583,"answer_id":7438293,"question_id":7438192,"body_markdown":"On Windows you could use [WMI](http://msdn.microsoft.com/en-us/library/Aa286547) to get the necessary information by simply executing a (or several) simple scripts.\r\n\r\nOn linux you can do something similar by parsing information out of `proc/cpuinfo` and other stuff (not an expert there).\r\n\r\n[minimal example for win](http://blogs.msdn.com/b/oldnewthing/archive/2004/10/21/245652.aspx)\r\n\r\nI&#39;m not aware of any framework that is crossplatform for this kind of information - mostly because there&#39;s just no way to get this information without delving deep into the platforms insides. Depending on how much data you need you may get by by parsing the data from some trivial scripts or you could use frameworks for all platforms you need.","title":"Retrieving CPU information in java","body":"<p>On Windows you could use <a href=\"http://msdn.microsoft.com/en-us/library/Aa286547\" rel=\"nofollow\">WMI</a> to get the necessary information by simply executing a (or several) simple scripts.</p>\n\n<p>On linux you can do something similar by parsing information out of <code>proc/cpuinfo</code> and other stuff (not an expert there).</p>\n\n<p><a href=\"http://blogs.msdn.com/b/oldnewthing/archive/2004/10/21/245652.aspx\" rel=\"nofollow\">minimal example for win</a></p>\n\n<p>I'm not aware of any framework that is crossplatform for this kind of information - mostly because there's just no way to get this information without delving deep into the platforms insides. Depending on how much data you need you may get by by parsing the data from some trivial scripts or you could use frameworks for all platforms you need.</p>\n"}],"owner":{"account_id":369935,"reputation":4762,"user_id":717584,"accept_rate":87,"display_name":"iamjustcoder"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6731,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":7438236,"answer_count":4,"score":6,"last_activity_date":1632926478,"creation_date":1316125777,"question_id":7438192,"body_markdown":"I need to write a small client application which gives CPU information such as CPU_TYPE, Processor_Speed, Serial number, UUID, operating system, physical memory and etc...\r\n\r\nDoes any one knows very straight approach for getting these information.\r\n\r\nThanks in advance\r\nViswanathan G","title":"Retrieving CPU information in java","body":"<p>I need to write a small client application which gives CPU information such as CPU_TYPE, Processor_Speed, Serial number, UUID, operating system, physical memory and etc...</p>\n\n<p>Does any one knows very straight approach for getting these information.</p>\n\n<p>Thanks in advance\nViswanathan G</p>\n"},{"tags":["java","postgresql","jdbc"],"comments":[{"owner":{"display_name":"user330315"},"score":6,"creation_date":1420792900,"post_id":27856598,"comment_id":44116455,"body_markdown":"Using `BigDecimal` is **not** a &quot;workaround&quot; it is the correct way to deal with `numeric` columns. `double` is an *approximate* data type:  http://floating-point-gui.de/","body":"Using <code>BigDecimal</code> is <b>not</b> a &quot;workaround&quot; it is the correct way to deal with <code>numeric</code> columns. <code>double</code> is an <i>approximate</i> data type:  <a href=\"http://floating-point-gui.de/\" rel=\"nofollow noreferrer\">floating-point-gui.de</a>"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1420792955,"post_id":27856598,"comment_id":44116484,"body_markdown":"@a_horse_with_no_name but he/she is putting one `double` in, and getting a different one out.","body":"@a_horse_with_no_name but he/she is putting one <code>double</code> in, and getting a different one out."},{"owner":{"account_id":658420,"reputation":1019,"user_id":475496,"accept_rate":40,"display_name":"StaticBR"},"score":1,"creation_date":1420793560,"post_id":27856598,"comment_id":44116725,"body_markdown":"@a_horse_with_no_name sure are all floating values approximate, but we are talking not about a rounding of decimal points. It just cuts the value after the 15. digit and fill it with zeros zeros. Just add digits to the example and you will see.","body":"@a_horse_with_no_name sure are all floating values approximate, but we are talking not about a rounding of decimal points. It just cuts the value after the 15. digit and fill it with zeros zeros. Just add digits to the example and you will see."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1420793768,"post_id":27856598,"comment_id":44116801,"body_markdown":"@Orism Floating point errors don&#39;t just happen after the decimal point.  They can happen with numbers like these ones too.  However, that&#39;s not what&#39;s happening here.","body":"@Orism Floating point errors don&#39;t just happen after the decimal point.  They can happen with numbers like these ones too.  However, that&#39;s not what&#39;s happening here."},{"owner":{"account_id":1623645,"reputation":35038,"user_id":1499698,"display_name":"pozs"},"score":1,"creation_date":1420801097,"post_id":27856598,"comment_id":44120632,"body_markdown":"@Orism `1234567890123456` is just a shorthand for `0.1234567890123456E16`, floating point numbers will be rounded at their significand parts while PostgreSQL&#39;s `numeric` does not round its value. This is why you should choose a representation at client&#39;s side, which doesn&#39;t apply rounding.","body":"@Orism <code>1234567890123456</code> is just a shorthand for <code>0.1234567890123456E16</code>, floating point numbers will be rounded at their significand parts while PostgreSQL&#39;s <code>numeric</code> does not round its value. This is why you should choose a representation at client&#39;s side, which doesn&#39;t apply rounding."},{"owner":{"account_id":658420,"reputation":1019,"user_id":475496,"accept_rate":40,"display_name":"StaticBR"},"score":1,"creation_date":1420807430,"post_id":27856598,"comment_id":44123939,"body_markdown":"Thanks for the explanation on floating point approximation. I tried the same code with three other Databases / JDBC Drivers, these are all working as I would expect it. Input == Output.","body":"Thanks for the explanation on floating point approximation. I tried the same code with three other Databases / JDBC Drivers, these are all working as I would expect it. Input == Output."},{"owner":{"account_id":1008930,"reputation":2893,"user_id":1021943,"accept_rate":80,"display_name":"Priidu Neemre"},"score":2,"creation_date":1420811855,"post_id":27856598,"comment_id":44126450,"body_markdown":"The fact is that if you want it to perform correctly in a consistent fashion, you must use `BigDecimal`, as @a_horse_with_no_name has already pointed out.","body":"The fact is that if you want it to perform correctly in a consistent fashion, you must use <code>BigDecimal</code>, as @a_horse_with_no_name has already pointed out."}],"answers":[{"tags":[],"owner":{"account_id":3720263,"reputation":1076,"user_id":3095500,"display_name":"utrucceh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632926397,"creation_date":1632925105,"answer_id":69378182,"question_id":27856598,"body_markdown":"There is a two problem.\r\n\r\nFirst from `Double` class:\r\n\r\n    System.out.println(0.1 + 0.2); //output 0.30000000000000004\r\n\r\nSo usually don&#39;t use `Double` (also `Float`).\r\n\r\nSecond from jdbc driver , it is triying to save database with toString method which class related with `org.postgresql.jdbc.PgPreparedStatement`.\r\n\r\nCheck this:\r\n\r\n    System.out.println(new BigDecimal(&quot;0.00000072&quot;)); // print 7.2E-7\r\nIt is equal but when Jdbc driver  save with this, some precisions corrupt, so I replace \r\n\r\n        public void setBigDecimal(@Positive int parameterIndex, @Nullable BigDecimal x)\r\n                throws SQLException {\r\n            setNumber(parameterIndex, x); // It is using toString method\r\n        }\r\n\r\n\r\nwith this:\r\n\r\n    public void setBigDecimal(@Positive int parameterIndex, @Nullable BigDecimal x)\r\n            throws SQLException {\r\n        checkClosed();\r\n        if (x == null) {\r\n            setNull(parameterIndex, Types.DECIMAL);\r\n        } else {\r\n            bindLiteral(parameterIndex, x.toPlainString(), Oid.NUMERIC); //now using toPlainString\r\n        }\r\n\r\n    }\r\n\r\nIf you really want to use `Double` or `Float` you can fix like this changes.","title":"PostgreSQL JDBC Driver rounds crops double value","body":"<p>There is a two problem.</p>\n<p>First from <code>Double</code> class:</p>\n<pre><code>System.out.println(0.1 + 0.2); //output 0.30000000000000004\n</code></pre>\n<p>So usually don't use <code>Double</code> (also <code>Float</code>).</p>\n<p>Second from jdbc driver , it is triying to save database with toString method which class related with <code>org.postgresql.jdbc.PgPreparedStatement</code>.</p>\n<p>Check this:</p>\n<pre><code>System.out.println(new BigDecimal(&quot;0.00000072&quot;)); // print 7.2E-7\n</code></pre>\n<p>It is equal but when Jdbc driver  save with this, some precisions corrupt, so I replace</p>\n<pre><code>    public void setBigDecimal(@Positive int parameterIndex, @Nullable BigDecimal x)\n            throws SQLException {\n        setNumber(parameterIndex, x); // It is using toString method\n    }\n</code></pre>\n<p>with this:</p>\n<pre><code>public void setBigDecimal(@Positive int parameterIndex, @Nullable BigDecimal x)\n        throws SQLException {\n    checkClosed();\n    if (x == null) {\n        setNull(parameterIndex, Types.DECIMAL);\n    } else {\n        bindLiteral(parameterIndex, x.toPlainString(), Oid.NUMERIC); //now using toPlainString\n    }\n\n}\n</code></pre>\n<p>If you really want to use <code>Double</code> or <code>Float</code> you can fix like this changes.</p>\n"}],"owner":{"account_id":658420,"reputation":1019,"user_id":475496,"accept_rate":40,"display_name":"StaticBR"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1186,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1632926397,"creation_date":1420792739,"question_id":27856598,"body_markdown":"I&#39;m  using PostgreSql 9.3 together with the postgresql-9.3-1101 JDBC Driver. \r\nAnd there is a really strange behavior with the `PreparedStatements`.\r\n\r\nHere is the example:\r\nFirst I create a test table:\r\n\r\n    CREATE TABLE double_test\r\n    (\r\n       id          numeric(18)     NOT NULL\r\n    );\r\n\r\nAfter that that i run following code:\r\n\r\n    DecimalFormat df = new DecimalFormat(&quot;0&quot;);\r\n    try {\r\n    \tconn = BeanUtils.getBean(&quot;dataSource&quot;, DataSource.class).getConnection();\r\n    \tconn.setAutoCommit(false);\r\n    \tconn.createStatement().execute(&quot;DELETE from double_test &quot;);\r\n    \tconn.commit();\r\n    \tPreparedStatement stmt = conn.prepareStatement(&quot;INSERT INTO double_test (id )VALUES (?)&quot;);\r\n    \tdouble input = 1234567890123456d;\r\n    \tSystem.out.println(&quot;Input:&quot; + df.format(input));\r\n    \tstmt.setDouble(1, input);\r\n    \tstmt.execute();\r\n    \tconn.commit();\r\n    \r\n    \tResultSet rs = conn.createStatement().executeQuery(&quot;SELECT id FROM double_test &quot;);\r\n    \trs.next();\r\n    \tSystem.out.println(&quot;Output:&quot; + df.format(rs.getDouble(1)));\r\n    \trs.close();\r\n    } catch (SQLException e1) {\r\n    \tthrow new RuntimeException(e1);\r\n    } finally {\r\n    \ttry {\r\n    \t\tconn.close();\r\n    \t} catch (SQLException e) {\r\n    \t\tthrow new RuntimeException(e);\r\n    \t}\r\n    }\r\n\r\nThe output of the code will be:\r\n\r\n    Input: 1234567890123456\r\n    Output:1234567890123460\r\n\r\nWhich gets me very confused, after the 15. digit the Postgres JDBC Driver starts to round. The inserted data gets corrupted, without any further notice!\r\n\r\nDid I miss anything here? Has my code any errors? \r\n\r\nOr is this a bug in the Driver? If so, I really wonder that no one noticed this yet.\r\n\r\nMaybe working with `BigDecimal` will prevent the data from corrupting, but this is just a workaround.","title":"PostgreSQL JDBC Driver rounds crops double value","body":"<p>I'm  using PostgreSql 9.3 together with the postgresql-9.3-1101 JDBC Driver. \nAnd there is a really strange behavior with the <code>PreparedStatements</code>.</p>\n\n<p>Here is the example:\nFirst I create a test table:</p>\n\n<pre><code>CREATE TABLE double_test\n(\n   id          numeric(18)     NOT NULL\n);\n</code></pre>\n\n<p>After that that i run following code:</p>\n\n<pre><code>DecimalFormat df = new DecimalFormat(\"0\");\ntry {\n    conn = BeanUtils.getBean(\"dataSource\", DataSource.class).getConnection();\n    conn.setAutoCommit(false);\n    conn.createStatement().execute(\"DELETE from double_test \");\n    conn.commit();\n    PreparedStatement stmt = conn.prepareStatement(\"INSERT INTO double_test (id )VALUES (?)\");\n    double input = 1234567890123456d;\n    System.out.println(\"Input:\" + df.format(input));\n    stmt.setDouble(1, input);\n    stmt.execute();\n    conn.commit();\n\n    ResultSet rs = conn.createStatement().executeQuery(\"SELECT id FROM double_test \");\n    rs.next();\n    System.out.println(\"Output:\" + df.format(rs.getDouble(1)));\n    rs.close();\n} catch (SQLException e1) {\n    throw new RuntimeException(e1);\n} finally {\n    try {\n        conn.close();\n    } catch (SQLException e) {\n        throw new RuntimeException(e);\n    }\n}\n</code></pre>\n\n<p>The output of the code will be:</p>\n\n<pre><code>Input: 1234567890123456\nOutput:1234567890123460\n</code></pre>\n\n<p>Which gets me very confused, after the 15. digit the Postgres JDBC Driver starts to round. The inserted data gets corrupted, without any further notice!</p>\n\n<p>Did I miss anything here? Has my code any errors? </p>\n\n<p>Or is this a bug in the Driver? If so, I really wonder that no one noticed this yet.</p>\n\n<p>Maybe working with <code>BigDecimal</code> will prevent the data from corrupting, but this is just a workaround.</p>\n"},{"tags":["java","spring-boot","rest","spring-cloud-feign","feign"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1633596318,"post_id":69376388,"comment_id":122803398,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632926124,"creation_date":1632926124,"answer_id":69378474,"question_id":69376388,"body_markdown":"From documentation [Feign request/response compression][1], we can enable GZIP for request and response by setting below properties:  \r\n```\r\nfeign.compression.request.enabled=true\r\nfeign.compression.response.enabled=true\r\n```\r\nSince you don&#39;t have `application.yml`(quite strange when you are using spring boot), we can set the programmatically by referring to [How can I override Spring Boot application.properties programmatically?][2].\r\n\r\n```java\r\n@SpringBootApplication\r\npublic class DemoFeignApplication {\r\n\r\n    public static void main(String[] args) {\r\n\t\tSpringApplication application = new SpringApplication(DemoFeignApplication.class);\r\n\t\tProperties properties = new Properties();\r\n\t\tproperties.put(&quot;feign.compression.request.enabled&quot;, &quot;true&quot;);\r\n\t\tproperties.put(&quot;feign.compression.response.enabled&quot;, &quot;true&quot;);\r\n\t\tapplication.setDefaultProperties(properties);\r\n\t\tapplication.run(args);\r\n\t\tSpringApplication.run(DemoFeignApplication.class, args);\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://cloud.spring.io/spring-cloud-netflix/multi/multi_spring-cloud-feign.html#_feign_request_response_compression\r\n  [2]: https://stackoverflow.com/questions/29072628/how-can-i-override-spring-boot-application-properties-programmatically/#35817100","title":"Gzip compression in java Feign client builder in non declarative way","body":"<p>From documentation <a href=\"https://cloud.spring.io/spring-cloud-netflix/multi/multi_spring-cloud-feign.html#_feign_request_response_compression\" rel=\"nofollow noreferrer\">Feign request/response compression</a>, we can enable GZIP for request and response by setting below properties:</p>\n<pre><code>feign.compression.request.enabled=true\nfeign.compression.response.enabled=true\n</code></pre>\n<p>Since you don't have <code>application.yml</code>(quite strange when you are using spring boot), we can set the programmatically by referring to <a href=\"https://stackoverflow.com/questions/29072628/how-can-i-override-spring-boot-application-properties-programmatically/#35817100\">How can I override Spring Boot application.properties programmatically?</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\npublic class DemoFeignApplication {\n\n    public static void main(String[] args) {\n        SpringApplication application = new SpringApplication(DemoFeignApplication.class);\n        Properties properties = new Properties();\n        properties.put(&quot;feign.compression.request.enabled&quot;, &quot;true&quot;);\n        properties.put(&quot;feign.compression.response.enabled&quot;, &quot;true&quot;);\n        application.setDefaultProperties(properties);\n        application.run(args);\n        SpringApplication.run(DemoFeignApplication.class, args);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":22894496,"reputation":1,"user_id":17034195,"display_name":"vignesh muralidharan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1470,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632926124,"creation_date":1632918408,"question_id":69376388,"body_markdown":"I&#39;m trying to make a rest call using feign. \r\n\r\nHow do I do a Gzip compression in Java using Feign client builder in non declarative way as I don&#39;t have *application.yml* to do it in traditional way. \r\n\r\nIs there a way to using Encoder or Interceptor method of feign client builder to do the same?","title":"Gzip compression in java Feign client builder in non declarative way","body":"<p>I'm trying to make a rest call using feign.</p>\n<p>How do I do a Gzip compression in Java using Feign client builder in non declarative way as I don't have <em>application.yml</em> to do it in traditional way.</p>\n<p>Is there a way to using Encoder or Interceptor method of feign client builder to do the same?</p>\n"},{"tags":["java","android","adapter","listadapter"],"comments":[{"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"score":0,"creation_date":1596326371,"post_id":63211078,"comment_id":111776777,"body_markdown":"there is a problem related to `getCurrentList()`, please share this method with us","body":"there is a problem related to <code>getCurrentList()</code>, please share this method with us"},{"owner":{"account_id":18272339,"reputation":240,"user_id":13302884,"display_name":"Antonio"},"score":0,"creation_date":1596326442,"post_id":63211078,"comment_id":111776783,"body_markdown":"That is method you have when you extend ListAdapter in Adapter class, for example:\n`public class NoteAdapter extends ListAdapter&lt;Note, NoteAdapter.NoteHolder&gt; implements Filterable {`","body":"That is method you have when you extend ListAdapter in Adapter class, for example: <code>public class NoteAdapter extends ListAdapter&lt;Note, NoteAdapter.NoteHolder&gt; implements Filterable {</code>"}],"answers":[{"tags":[],"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1596327307,"creation_date":1596327307,"answer_id":63211210,"question_id":63211078,"body_markdown":"You are getting [`UnsupportedOperationException`][1] Due to using `.clear()` on `UnmodifiableCollection`\r\n\r\nLooking into your code to see where you use `clear()`: \r\n\r\n    getCurrentList().clear();\r\n\r\nSo, definitly `getCurrentList()` is `UnmodifiableCollection`, so you can&#39;t modify it like normal Lists.\r\n\r\n\r\n[The documentation][2] of `getCurrentList()` says:\r\n&gt;  The returned list may not be mutated - mutations to content must be done through submitList(List).\r\n\r\nSo, you can mutate the `ListAdapter` `getCurrentList()` through [`submitList`][3]\r\n\r\nSo, try to replace `getCurrentList().clear()` with `submitList(new ArrayList())`\r\n\r\n    \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2887590/unsupportedoperationexception-on-collection/14066105\r\n  [2]: https://developer.android.com/reference/androidx/recyclerview/widget/ListAdapter#getCurrentList()\r\n  [3]: https://developer.android.com/reference/androidx/recyclerview/widget/ListAdapter#submitList(java.util.List%3CT%3E)","title":"Implementing Filter/Search functionality in ListAdapter returns UnsupportedOperationException","body":"<p>You are getting <a href=\"https://stackoverflow.com/questions/2887590/unsupportedoperationexception-on-collection/14066105\"><code>UnsupportedOperationException</code></a> Due to using <code>.clear()</code> on <code>UnmodifiableCollection</code></p>\n<p>Looking into your code to see where you use <code>clear()</code>:</p>\n<pre><code>getCurrentList().clear();\n</code></pre>\n<p>So, definitly <code>getCurrentList()</code> is <code>UnmodifiableCollection</code>, so you can't modify it like normal Lists.</p>\n<p><a href=\"https://developer.android.com/reference/androidx/recyclerview/widget/ListAdapter#getCurrentList()\" rel=\"nofollow noreferrer\">The documentation</a> of <code>getCurrentList()</code> says:</p>\n<blockquote>\n<p>The returned list may not be mutated - mutations to content must be done through submitList(List).</p>\n</blockquote>\n<p>So, you can mutate the <code>ListAdapter</code> <code>getCurrentList()</code> through <a href=\"https://developer.android.com/reference/androidx/recyclerview/widget/ListAdapter#submitList(java.util.List%3CT%3E)\" rel=\"nofollow noreferrer\"><code>submitList</code></a></p>\n<p>So, try to replace <code>getCurrentList().clear()</code> with <code>submitList(new ArrayList())</code></p>\n"}],"owner":{"account_id":18272339,"reputation":240,"user_id":13302884,"display_name":"Antonio"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":63211210,"answer_count":1,"score":1,"last_activity_date":1632926007,"creation_date":1596325578,"question_id":63211078,"body_markdown":"I am trying to implement search functionality in my Adapter class that extends `ListAdapter`. I am not using `RecyclerAdapter` but instead I am using [ListAdapter][1]. In main activity to for searching field I am using `EditText` and `addTextChangedListener`. I am having this exception:\r\n\r\n[![exception][2]][2]\r\n\r\n\r\nThis is my code:\r\n\r\n    public class NoteAdapter extends ListAdapter&lt;Note, NoteAdapter.NoteHolder&gt; implements Filterable {\r\n        private List&lt;Note&gt; mNoteListInit;\r\n        private OnItemClickListener mListener;\r\n    \r\n        public NoteAdapter() {\r\n            super(DIFF_CALLBACK);\r\n            exampleListFull = new ArrayList&lt;&gt;(getCurrentList());\r\n        } \r\n    \r\n        @Override\r\n        public Filter getFilter() {\r\n            return exampleFilter;\r\n        }\r\n        \r\n        public void setInitList(List&lt;Note&gt; noteList) {\r\n            mNoteListInit = new ArrayList&lt;&gt;(noteList);\r\n        }\r\n\r\n    \r\n        private Filter exampleFilter = new Filter() {\r\n            @Override\r\n            protected FilterResults performFiltering(CharSequence constraint) {\r\n                List&lt;Note&gt; filteredList = new ArrayList&lt;&gt;();\r\n\r\n                if (constraint == null || constraint.length() == 0) {\r\n                    filteredList.addAll(mNoteListInit);\r\n                } else {\r\n                    String filterPattern = constraint.toString().toLowerCase().trim();\r\n\r\n                    for (Note note : mNoteListInit) {\r\n                        if (note.getTitle().toLowerCase().contains(filterPattern)) {\r\n                            filteredList.add(note);\r\n                        }\r\n                    }\r\n                }\r\n                FilterResults filterResults = new FilterResults();\r\n                filterResults.values = filteredList;\r\n                return filterResults;\r\n            }\r\n    \r\n            @Override\r\n            protected void publishResults(CharSequence constraint, FilterResults results) {\r\n                submitList((List) results.values);\r\n            }\r\n        };\r\n\r\nIn MainActivity:\r\n\r\n \r\n    mEditTextToolbarSearch.addTextChangedListener(new TextWatcher() {\r\n        @Override\r\n        public void beforeTextChanged(CharSequence s, int start, int count, int after) { }\r\n\r\n        @Override\r\n        public void onTextChanged(CharSequence s, int start, int before, int count) { }\r\n\r\n        @Override\r\n        public void afterTextChanged(Editable s) {\r\n            noteAdapter.getFilter().filter(s.toString());\r\n        }\r\n    });\r\n\r\n    mNoteViewModel.getAllNotes().observe(this, new Observer&lt;List&lt;Note&gt;&gt;() {\r\n        @Override\r\n        public void onChanged(List&lt;Note&gt; notes) {\r\n            noteAdapter.submitList(notes);\r\n            noteAdapter.setInitList(noteAdapter.getCurrentList());\r\n        }\r\n    });\r\n\r\n\r\n  [1]: https://developer.android.com/reference/androidx/recyclerview/widget/ListAdapter\r\n  [2]: https://i.stack.imgur.com/vkSVS.png","title":"Implementing Filter/Search functionality in ListAdapter returns UnsupportedOperationException","body":"<p>I am trying to implement search functionality in my Adapter class that extends <code>ListAdapter</code>. I am not using <code>RecyclerAdapter</code> but instead I am using <a href=\"https://developer.android.com/reference/androidx/recyclerview/widget/ListAdapter\" rel=\"nofollow noreferrer\">ListAdapter</a>. In main activity to for searching field I am using <code>EditText</code> and <code>addTextChangedListener</code>. I am having this exception:</p>\n<p><a href=\"https://i.stack.imgur.com/vkSVS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vkSVS.png\" alt=\"exception\" /></a></p>\n<p>This is my code:</p>\n<pre><code>public class NoteAdapter extends ListAdapter&lt;Note, NoteAdapter.NoteHolder&gt; implements Filterable {\n    private List&lt;Note&gt; mNoteListInit;\n    private OnItemClickListener mListener;\n\n    public NoteAdapter() {\n        super(DIFF_CALLBACK);\n        exampleListFull = new ArrayList&lt;&gt;(getCurrentList());\n    } \n\n    @Override\n    public Filter getFilter() {\n        return exampleFilter;\n    }\n    \n    public void setInitList(List&lt;Note&gt; noteList) {\n        mNoteListInit = new ArrayList&lt;&gt;(noteList);\n    }\n\n\n    private Filter exampleFilter = new Filter() {\n        @Override\n        protected FilterResults performFiltering(CharSequence constraint) {\n            List&lt;Note&gt; filteredList = new ArrayList&lt;&gt;();\n\n            if (constraint == null || constraint.length() == 0) {\n                filteredList.addAll(mNoteListInit);\n            } else {\n                String filterPattern = constraint.toString().toLowerCase().trim();\n\n                for (Note note : mNoteListInit) {\n                    if (note.getTitle().toLowerCase().contains(filterPattern)) {\n                        filteredList.add(note);\n                    }\n                }\n            }\n            FilterResults filterResults = new FilterResults();\n            filterResults.values = filteredList;\n            return filterResults;\n        }\n\n        @Override\n        protected void publishResults(CharSequence constraint, FilterResults results) {\n            submitList((List) results.values);\n        }\n    };\n</code></pre>\n<p>In MainActivity:</p>\n<pre><code>mEditTextToolbarSearch.addTextChangedListener(new TextWatcher() {\n    @Override\n    public void beforeTextChanged(CharSequence s, int start, int count, int after) { }\n\n    @Override\n    public void onTextChanged(CharSequence s, int start, int before, int count) { }\n\n    @Override\n    public void afterTextChanged(Editable s) {\n        noteAdapter.getFilter().filter(s.toString());\n    }\n});\n\nmNoteViewModel.getAllNotes().observe(this, new Observer&lt;List&lt;Note&gt;&gt;() {\n    @Override\n    public void onChanged(List&lt;Note&gt; notes) {\n        noteAdapter.submitList(notes);\n        noteAdapter.setInitList(noteAdapter.getCurrentList());\n    }\n});\n</code></pre>\n"},{"tags":["java","logging"],"comments":[{"owner":{"account_id":2826194,"reputation":10795,"user_id":2428802,"display_name":"jmehrens"},"score":0,"creation_date":1633094829,"post_id":69280504,"comment_id":122675951,"body_markdown":"Does this answer your question? [Java Custom Logger - Not logging proper classname](https://stackoverflow.com/questions/68978164/java-custom-logger-not-logging-proper-classname)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/68978164/java-custom-logger-not-logging-proper-classname\">Java Custom Logger - Not logging proper classname</a>"}],"answers":[{"tags":[],"owner":{"account_id":2826194,"reputation":10795,"user_id":2428802,"display_name":"jmehrens"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632925612,"creation_date":1632321739,"answer_id":69286466,"question_id":69280504,"body_markdown":"The `.lck` file exists while the [FileHandler][1] is open.  If you see the file after your program has terminated then that is a [different topic][2].  Your utility class looks like it is pinning the logger and only attaching the FileHandler once so all of that looks correct.\r\n\r\n&gt;  But if there is any info messages, its not giving the exact java file name and line number from where that info is coming. Instead its giving the LogUtility class references.\r\n\r\nThis is answered in [Java Custom Logger - Not logging proper classname][3] and that answer includes a working example.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.logging/java/util/logging/FileHandler.html\r\n  [2]: https://stackoverflow.com/questions/28708247/cleaning-up-lock-lck-files-in-java-8/28710448#28710448\r\n  [3]: https://stackoverflow.com/questions/68978164/java-custom-logger-not-logging-proper-classname/69055965#69055965","title":"util logging creating lck file","body":"<p>The <code>.lck</code> file exists while the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.logging/java/util/logging/FileHandler.html\" rel=\"nofollow noreferrer\">FileHandler</a> is open.  If you see the file after your program has terminated then that is a <a href=\"https://stackoverflow.com/questions/28708247/cleaning-up-lock-lck-files-in-java-8/28710448#28710448\">different topic</a>.  Your utility class looks like it is pinning the logger and only attaching the FileHandler once so all of that looks correct.</p>\n<blockquote>\n<p>But if there is any info messages, its not giving the exact java file name and line number from where that info is coming. Instead its giving the LogUtility class references.</p>\n</blockquote>\n<p>This is answered in <a href=\"https://stackoverflow.com/questions/68978164/java-custom-logger-not-logging-proper-classname/69055965#69055965\">Java Custom Logger - Not logging proper classname</a> and that answer includes a working example.</p>\n"}],"owner":{"account_id":12019463,"reputation":1937,"user_id":8793412,"accept_rate":88,"display_name":"Karthikeyan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":233,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632925612,"creation_date":1632298379,"question_id":69280504,"body_markdown":"I have implemented logging mechanism for my AWT project (its a .jar application). so i made logging configuration via java class file as a utility class.\r\n\r\nI have created utility class because am having more java files to have log messages.\r\n\r\nPlease find my LogUtility class.\r\n\r\n\timport java.io.IOException;\r\n\timport java.text.SimpleDateFormat;\r\n\timport java.util.Date;\r\n\timport java.util.logging.FileHandler;\r\n\timport java.util.logging.Logger;\r\n\timport java.util.logging.SimpleFormatter;\r\n\r\n\tpublic class LogUtility {\r\n\t\t\r\n\t\tprivate static LogUtility instance = new LogUtility();\r\n\t\tpublic static LogUtility getInstance(){\r\n\t\t\treturn instance;\r\n\t\t}\r\n\t\tstatic Logger logger=Logger.getLogger(&quot;LogUtility&quot;);\r\n\t\tstatic {\r\n\t\t\t//String userHomePath=System.getProperty(&quot;user.home&quot;);\r\n\t\t\tString userHomePath = System.getenv(&quot;USERPROFILE&quot;).concat(&quot;\\\\AppData\\\\LocalLow\\\\Sun\\\\Java\\\\Deployment\\\\log&quot;);\r\n\t\t\tLogUtility.getInstance().info(&quot;Log Path --&gt;&quot;+userHomePath);\r\n\t\t\ttry {\r\n\t\t\t\tString dateTimeStamp=new SimpleDateFormat(&quot;yyyyMMddHHmmss&quot;).format(new Date());\r\n\t\t\t\tFileHandler fh=new FileHandler(userHomePath.concat(&quot;\\\\app&quot;).concat(&quot;_&quot;+dateTimeStamp+&quot;.log&quot;));\r\n\t\t\t\tlogger.addHandler(fh);\r\n\t\t\t\tSimpleFormatter formatter=new SimpleFormatter();\r\n\t\t\t\tfh.setFormatter(formatter);\r\n\t\t\t} catch (SecurityException e) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tpublic void info(String msg){\r\n\t\t\tlogger.info(msg);\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\nPlease find my implementation class \r\n\r\n\tpublic class Login {\r\n\t\t\r\n\t\tprivate static LogUtility logUtility=LogUtility.getInstance();\r\n\t\t\r\n\t\tpublic static void copyFile(File afile, File bfile) throws IOException {\r\n\t\t\tlogUtility.info(&quot;copyFile called&quot;);\r\n\t\t\t}\r\n\t\t\r\n\t}\r\n\r\nLogs are created and writting into the file but `.lck` file also its creating. Not sure why its creating. Any suggestion about this logging implementation.\r\n\r\n***Update 1***\r\nAbove my implementation is working as expected and its writting into the `.log` file. But if there is any `info` messages, its not giving the exact java file name and line number from where that info is coming. Instead its giving the `LogUtility` class references.\r\n\r\n \r\n\tINFO: null\r\n\tSep 22, 2021 7:56:54 PM com.loggers.LogUtility info\r\n\tINFO: timeout:12\r\n\tSep 22, 2021 7:56:54 PM com.loggers.LogUtility info\r\n\tINFO: null\r\n\tSep 22, 2021 7:56:54 PM com.loggers.LogUtility info\r\n\tINFO: timeout:12\r\n\tSep 22, 2021 7:56:54 PM com.loggers.LogUtility info\r\n\tINFO: null\r\n\r\n","title":"util logging creating lck file","body":"<p>I have implemented logging mechanism for my AWT project (its a .jar application). so i made logging configuration via java class file as a utility class.</p>\n<p>I have created utility class because am having more java files to have log messages.</p>\n<p>Please find my LogUtility class.</p>\n<pre><code>import java.io.IOException;\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\nimport java.util.logging.FileHandler;\nimport java.util.logging.Logger;\nimport java.util.logging.SimpleFormatter;\n\npublic class LogUtility {\n    \n    private static LogUtility instance = new LogUtility();\n    public static LogUtility getInstance(){\n        return instance;\n    }\n    static Logger logger=Logger.getLogger(&quot;LogUtility&quot;);\n    static {\n        //String userHomePath=System.getProperty(&quot;user.home&quot;);\n        String userHomePath = System.getenv(&quot;USERPROFILE&quot;).concat(&quot;\\\\AppData\\\\LocalLow\\\\Sun\\\\Java\\\\Deployment\\\\log&quot;);\n        LogUtility.getInstance().info(&quot;Log Path --&gt;&quot;+userHomePath);\n        try {\n            String dateTimeStamp=new SimpleDateFormat(&quot;yyyyMMddHHmmss&quot;).format(new Date());\n            FileHandler fh=new FileHandler(userHomePath.concat(&quot;\\\\app&quot;).concat(&quot;_&quot;+dateTimeStamp+&quot;.log&quot;));\n            logger.addHandler(fh);\n            SimpleFormatter formatter=new SimpleFormatter();\n            fh.setFormatter(formatter);\n        } catch (SecurityException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        } catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        \n    }\n    \n    public void info(String msg){\n        logger.info(msg);\n    }\n    \n}\n</code></pre>\n<p>Please find my implementation class</p>\n<pre><code>public class Login {\n    \n    private static LogUtility logUtility=LogUtility.getInstance();\n    \n    public static void copyFile(File afile, File bfile) throws IOException {\n        logUtility.info(&quot;copyFile called&quot;);\n        }\n    \n}\n</code></pre>\n<p>Logs are created and writting into the file but <code>.lck</code> file also its creating. Not sure why its creating. Any suggestion about this logging implementation.</p>\n<p><em><strong>Update 1</strong></em>\nAbove my implementation is working as expected and its writting into the <code>.log</code> file. But if there is any <code>info</code> messages, its not giving the exact java file name and line number from where that info is coming. Instead its giving the <code>LogUtility</code> class references.</p>\n<pre><code>INFO: null\nSep 22, 2021 7:56:54 PM com.loggers.LogUtility info\nINFO: timeout:12\nSep 22, 2021 7:56:54 PM com.loggers.LogUtility info\nINFO: null\nSep 22, 2021 7:56:54 PM com.loggers.LogUtility info\nINFO: timeout:12\nSep 22, 2021 7:56:54 PM com.loggers.LogUtility info\nINFO: null\n</code></pre>\n"},{"tags":["java","hazelcast"],"comments":[{"owner":{"account_id":348088,"reputation":1939,"user_id":682580,"display_name":"mdogan"},"score":2,"creation_date":1371625814,"post_id":17182831,"comment_id":24885531,"body_markdown":"Hazelcast gives you a clone of the object (since it&#39;s stores in cluster as binary/serialized). To make the updates visible to the other nodes/threads you should put it back. Also if your Employee class is not thread-safe then JDK ConcurrentHashMap cannot guarantee visibility of updates to the other threads (sometimes even if you put it back to the map). So in either cases you should use a synchronization mechanism.","body":"Hazelcast gives you a clone of the object (since it&#39;s stores in cluster as binary/serialized). To make the updates visible to the other nodes/threads you should put it back. Also if your Employee class is not thread-safe then JDK ConcurrentHashMap cannot guarantee visibility of updates to the other threads (sometimes even if you put it back to the map). So in either cases you should use a synchronization mechanism."}],"answers":[{"tags":[],"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1371616777,"creation_date":1371616777,"answer_id":17182967,"question_id":17182831,"body_markdown":"[This][1] may interest you.\r\n\r\nYou could do something like this for your `Employee` class (simplified code with one instance variable only):\r\n\r\n\r\n    public final class Employee\r\n        implements Frozen&lt;Builder&gt;\r\n    {\r\n        private final int salary;\r\n    \r\n        private Employee(Builder builder)\r\n        {\r\n            salary = builder.salary;\r\n        }\r\n    \r\n        public static Builder newBuilder()\r\n        {\r\n            return new Builder();\r\n        }\r\n    \r\n        @Override\r\n        public Builder thaw()\r\n        {\r\n            return new Builder(this);\r\n        }\r\n    \r\n        public static final class Builder\r\n            implements Thawed&lt;Employee&gt;\r\n        {\r\n            private int salary;\r\n    \r\n            private Builder()\r\n            {\r\n            }\r\n    \r\n            private Builder(Employee employee)\r\n            {\r\n                salary = employee.salary;\r\n            }\r\n    \r\n            public Builder withSalary(int salary)\r\n            {\r\n                this.salary = salary;\r\n                return this;\r\n            }\r\n    \r\n            @Override\r\n            public Employee freeze()\r\n            {\r\n                return new Employee(this);\r\n            }\r\n        }\r\n    }\r\n\r\nThis way, to modify your cache, you would:\r\n\r\n    Employee victim = map.get(100);\r\n    map.put(100, victim.thaw().withSalary(whatever).freeze());\r\n\r\nThis is a completely atomic operation.\r\n\r\n  [1]: https://github.com/fge/btf/wiki/The-freeze-thaw-pattern\r\n\r\n","title":"Hazelcast map synchronization","body":"<p><a href=\"https://github.com/fge/btf/wiki/The-freeze-thaw-pattern\" rel=\"nofollow\">This</a> may interest you.</p>\n\n<p>You could do something like this for your <code>Employee</code> class (simplified code with one instance variable only):</p>\n\n<pre><code>public final class Employee\n    implements Frozen&lt;Builder&gt;\n{\n    private final int salary;\n\n    private Employee(Builder builder)\n    {\n        salary = builder.salary;\n    }\n\n    public static Builder newBuilder()\n    {\n        return new Builder();\n    }\n\n    @Override\n    public Builder thaw()\n    {\n        return new Builder(this);\n    }\n\n    public static final class Builder\n        implements Thawed&lt;Employee&gt;\n    {\n        private int salary;\n\n        private Builder()\n        {\n        }\n\n        private Builder(Employee employee)\n        {\n            salary = employee.salary;\n        }\n\n        public Builder withSalary(int salary)\n        {\n            this.salary = salary;\n            return this;\n        }\n\n        @Override\n        public Employee freeze()\n        {\n            return new Employee(this);\n        }\n    }\n}\n</code></pre>\n\n<p>This way, to modify your cache, you would:</p>\n\n<pre><code>Employee victim = map.get(100);\nmap.put(100, victim.thaw().withSalary(whatever).freeze());\n</code></pre>\n\n<p>This is a completely atomic operation.</p>\n"},{"tags":[],"owner":{"account_id":77857,"reputation":12130,"user_id":221951,"accept_rate":47,"display_name":"Piotr Gwiazda"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1371621828,"creation_date":1371621828,"answer_id":17183936,"question_id":17182831,"body_markdown":"Probably a [transaction][1] is what you need. Or you may want to take a look at [distributed lock][2].\r\n\r\nNote that in your solution if this code is ran by two threads changes made by one of them will be overwriten.  \r\n\r\n[1]: http://www.hazelcast.com/docs/2.6/manual/multi_html/ch08.html\r\n[2]: http://www.hazelcast.com/docs/2.6/manual/multi_html/ch02s07.html","title":"Hazelcast map synchronization","body":"<p>Probably a <a href=\"http://www.hazelcast.com/docs/2.6/manual/multi_html/ch08.html\" rel=\"nofollow\">transaction</a> is what you need. Or you may want to take a look at <a href=\"http://www.hazelcast.com/docs/2.6/manual/multi_html/ch02s07.html\" rel=\"nofollow\">distributed lock</a>.</p>\n\n<p>Note that in your solution if this code is ran by two threads changes made by one of them will be overwriten.  </p>\n"},{"tags":[],"owner":{"account_id":319351,"reputation":416,"user_id":1279443,"display_name":"Drew"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1473207743,"creation_date":1445878478,"answer_id":33351291,"question_id":17182831,"body_markdown":"As of version 3.3 you&#39;ll want to use an EntryProcessor:\r\n\r\nWhat you really want to do here is build an ```EntryProcessor&lt;Integer, Employee&gt;``` and call it using \r\n```mapEmployees.executeOnKey( 100, new EmployeeUpdateEntryProcessor( \r\n  new ObjectContainingUpdatedFields( 30, &quot;F&quot;, 5000 )\r\n);\r\n```\r\n\r\nThis way, Hazelcast handles locking the map on the key for that Employee object and allows you to run whatever code is in the EntryProcessor&#39;s ```process()``` method atomically including updating values in the map.\r\n\r\nSo you&#39;d implement ```EntryProcessor``` with a custom constructor that takes an object that contains all of the properties you want to update, then in ```process()``` you construct the final ```Employee``` object that will end up in the map and do an ```entry.setValue()```. Don&#39;t forget to create a new ```StreamSerializer``` for the ```EmployeeUpdateEntryProcessor``` that can serialize ```Employee``` objects so that you don&#39;t get stuck with java.io serialization.\r\n\r\nSource: \r\nhttp://docs.hazelcast.org/docs/3.5/manual/html/entryprocessor.html","title":"Hazelcast map synchronization","body":"<p>As of version 3.3 you'll want to use an EntryProcessor:</p>\n\n<p>What you really want to do here is build an <code>EntryProcessor&lt;Integer, Employee&gt;</code> and call it using \n<code>mapEmployees.executeOnKey( 100, new EmployeeUpdateEntryProcessor( \n  new ObjectContainingUpdatedFields( 30, \"F\", 5000 )\n);\n</code></p>\n\n<p>This way, Hazelcast handles locking the map on the key for that Employee object and allows you to run whatever code is in the EntryProcessor's <code>process()</code> method atomically including updating values in the map.</p>\n\n<p>So you'd implement <code>EntryProcessor</code> with a custom constructor that takes an object that contains all of the properties you want to update, then in <code>process()</code> you construct the final <code>Employee</code> object that will end up in the map and do an <code>entry.setValue()</code>. Don't forget to create a new <code>StreamSerializer</code> for the <code>EmployeeUpdateEntryProcessor</code> that can serialize <code>Employee</code> objects so that you don't get stuck with java.io serialization.</p>\n\n<p>Source: \n<a href=\"http://docs.hazelcast.org/docs/3.5/manual/html/entryprocessor.html\" rel=\"noreferrer\">http://docs.hazelcast.org/docs/3.5/manual/html/entryprocessor.html</a></p>\n"},{"tags":[],"owner":{"account_id":445792,"reputation":1039,"user_id":838444,"display_name":"Sneg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1466034896,"creation_date":1466034896,"answer_id":37847673,"question_id":17182831,"body_markdown":"If there is possibility that another node can update data that your node is working with then using put() will overwrite changes made by another node. Usually it is unwanted behavior, cause it leads to data loss and inconsistent data state.\r\n\r\nTake a look at [IMap.replace()][1] method and other [ConcurrentMap][2] related methods. If ```replace()``` is failed then you&#39;ve faced changes collision. In this case you should give it another attempt:\r\n\r\n 1. re-read entry from hazelcast \r\n 2. update it&#39;s fields\r\n 3. save to hazelcast with replace\r\n\r\nAfter some failed attempts you can throw StorageException to the upper level.\r\n\r\n\r\n  [1]: http://docs.hazelcast.org/docs/latest/javadoc/com/hazelcast/core/IMap.html#replace(K,%20V,%20V)\r\n  [2]: http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/ConcurrentMap.html","title":"Hazelcast map synchronization","body":"<p>If there is possibility that another node can update data that your node is working with then using put() will overwrite changes made by another node. Usually it is unwanted behavior, cause it leads to data loss and inconsistent data state.</p>\n\n<p>Take a look at <a href=\"http://docs.hazelcast.org/docs/latest/javadoc/com/hazelcast/core/IMap.html#replace(K,%20V,%20V)\" rel=\"nofollow\">IMap.replace()</a> method and other <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/ConcurrentMap.html\" rel=\"nofollow\">ConcurrentMap</a> related methods. If <code>replace()</code> is failed then you've faced changes collision. In this case you should give it another attempt:</p>\n\n<ol>\n<li>re-read entry from hazelcast </li>\n<li>update it's fields</li>\n<li>save to hazelcast with replace</li>\n</ol>\n\n<p>After some failed attempts you can throw StorageException to the upper level.</p>\n"},{"tags":[],"owner":{"account_id":7736012,"reputation":81,"user_id":5857581,"display_name":"Nicolas CHALAUX"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632925367,"creation_date":1632925367,"answer_id":69378258,"question_id":17182831,"body_markdown":"You should use tryLock on your map entry :\r\n\r\n        long timeout = 60;  // Define your own timeout \r\n        if (mapEmployees.tryLock(100, timeout, TimeUnits.SECONDS)){\r\n           try {\r\n              Employee emp1 = mapEmployees.get(100);\r\n              emp1.setAge(30);\r\n              emp1.setSex(“F”);\r\n              emp1.setSalary(5000);\r\n              mapEmployees.put(100, emp1);\r\n           } finally {\r\n               mapEmployees.unlock(100);\r\n           }\r\n       }else{\r\n          // do something else like log.warn(...) \r\n       }\r\n\r\nSee : https://docs.hazelcast.com/imdg/4.2/data-structures/fencedlock#releasing-locks-with-trylock-timeout","title":"Hazelcast map synchronization","body":"<p>You should use tryLock on your map entry :</p>\n<pre><code>    long timeout = 60;  // Define your own timeout \n    if (mapEmployees.tryLock(100, timeout, TimeUnits.SECONDS)){\n       try {\n          Employee emp1 = mapEmployees.get(100);\n          emp1.setAge(30);\n          emp1.setSex(“F”);\n          emp1.setSalary(5000);\n          mapEmployees.put(100, emp1);\n       } finally {\n           mapEmployees.unlock(100);\n       }\n   }else{\n      // do something else like log.warn(...) \n   }\n</code></pre>\n<p>See : <a href=\"https://docs.hazelcast.com/imdg/4.2/data-structures/fencedlock#releasing-locks-with-trylock-timeout\" rel=\"nofollow noreferrer\">https://docs.hazelcast.com/imdg/4.2/data-structures/fencedlock#releasing-locks-with-trylock-timeout</a></p>\n"}],"owner":{"account_id":2823839,"reputation":206,"user_id":2426884,"accept_rate":44,"display_name":"Ananth"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15045,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":33351291,"answer_count":5,"score":5,"last_activity_date":1632925367,"creation_date":1371615726,"question_id":17182831,"body_markdown":"I am trying to implement distributed cache using Hazelcast in my application. I am using Hazelcast’s `IMap`. The problem I have is every time I get a value from a map and update the value, I need to do a `put(key, value)` again. If my value object has 10 properties and I have to update all 10, then I have to call `put(key, value)` 10 times. Something like - \r\n\r\n    IMap&lt;Integer, Employee&gt; mapEmployees = hz.getMap(&quot;employees&quot;);\r\n    Employee emp1 = mapEmployees.get(100);\r\n    emp1.setAge(30);\r\n    mapEmployees.put(100, emp1);\r\n    emp1.setSex(“F”);\r\n    mapEmployees.put(100, emp1);\r\n    emp1.setSalary(5000);\r\n    mapEmployees.put(100, emp1);\r\n\r\nIf I don’t do this way, some other node which operates on the same Employee object will update it and the final result is that the employee object is not synchronized. Is there any solution to avoid calling put explicitly multiple times? In a `ConcurrentHashMap`, I don’t need to do this because if I change the object, the map also gets updated.\r\n","title":"Hazelcast map synchronization","body":"<p>I am trying to implement distributed cache using Hazelcast in my application. I am using Hazelcast’s <code>IMap</code>. The problem I have is every time I get a value from a map and update the value, I need to do a <code>put(key, value)</code> again. If my value object has 10 properties and I have to update all 10, then I have to call <code>put(key, value)</code> 10 times. Something like - </p>\n\n<pre><code>IMap&lt;Integer, Employee&gt; mapEmployees = hz.getMap(\"employees\");\nEmployee emp1 = mapEmployees.get(100);\nemp1.setAge(30);\nmapEmployees.put(100, emp1);\nemp1.setSex(“F”);\nmapEmployees.put(100, emp1);\nemp1.setSalary(5000);\nmapEmployees.put(100, emp1);\n</code></pre>\n\n<p>If I don’t do this way, some other node which operates on the same Employee object will update it and the final result is that the employee object is not synchronized. Is there any solution to avoid calling put explicitly multiple times? In a <code>ConcurrentHashMap</code>, I don’t need to do this because if I change the object, the map also gets updated.</p>\n"},{"tags":["java","web-services","jaxb","cxf"],"comments":[{"owner":{"account_id":2404324,"reputation":2424,"user_id":2101242,"display_name":"DiogoSantana"},"score":0,"creation_date":1364493601,"post_id":15680663,"comment_id":22275411,"body_markdown":"Share part of your code and the WDSL. But the exception is very clear. Two classes annotated with same name property(&quot;address&quot;).","body":"Share part of your code and the WDSL. But the exception is very clear. Two classes annotated with same name property(&quot;address&quot;)."},{"owner":{"account_id":2525611,"reputation":23,"user_id":2195063,"display_name":"chuck"},"score":0,"creation_date":1365525409,"post_id":15680663,"comment_id":22654998,"body_markdown":"Actually There is no address property. this address is only soap address localtion of the WSDLs. I&#39;ve solved the problem. When u use spring+jaxws for your server side service and apache+cxf for your another client side service, there will be a conflict for endpoint address property of WSDLs. THUS, i used apache-cxf + spring for both services. Thanks a lot","body":"Actually There is no address property. this address is only soap address localtion of the WSDLs. I&#39;ve solved the problem. When u use spring+jaxws for your server side service and apache+cxf for your another client side service, there will be a conflict for endpoint address property of WSDLs. THUS, i used apache-cxf + spring for both services. Thanks a lot"},{"owner":{"account_id":2404324,"reputation":2424,"user_id":2101242,"display_name":"DiogoSantana"},"score":0,"creation_date":1365542341,"post_id":15680663,"comment_id":22664242,"body_markdown":"Why don&#39;t you put that comment of yours as a answer so the question don&#39;t stay as unanswered and it may help some else later.","body":"Why don&#39;t you put that comment of yours as a answer so the question don&#39;t stay as unanswered and it may help some else later."}],"answers":[{"tags":[],"owner":{"account_id":115767,"reputation":42976,"user_id":303810,"accept_rate":84,"display_name":"lexicore"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1413380649,"creation_date":1413379539,"answer_id":26383773,"question_id":15680663,"body_markdown":"This is interesting. This is not a full answer, but this might help.\r\n\r\nThe `com.sun.xml.ws.developer.MemberSubmissionEndpointReference.Address` class is not annotated, there&#39;s also no `package-info.java`. So the type should be named `address`, without namespace.\r\n\r\nThe class `javax.xml.ws.wsaddressing.W3CEndpointReference.Address` is also not annotated, but there is a `package-info.java`:\r\n\r\n    @javax.xml.bind.annotation.XmlSchema(namespace=W3CEndpointReference.NS,\r\n                                         location=&quot;http://www.w3.org/2006/03/addressing/ws-addr.xsd&quot;)\r\n    package javax.xml.ws.wsaddressing;\r\n\r\nSo it should be named `{http://www.w3.org/2005/08/addressing:address`. So theoretically there should be no conflict.\r\n\r\nI&#39;d suggest the following:\r\n\r\n* Check your classes and packages.\r\n  * Do you have a `package-info.java` in `javax.xml.ws.wsaddressing`?\r\n  * Do you have one in `com.sun.xml.ws.developer`?\r\n* Try updating versions of your libraries. Maybe this was a temporary glitch between versions.\r\n\r\n**UPDATE**\r\n\r\nI have found exactly the same problem [reported on java.net][1]. One of the solutions posted there is, basically, &quot;update your versions&quot;. Also seems to be relevant to NetBeans somehow.\r\n\r\n\r\n  [1]: https://www.java.net/node/685468","title":"com.sun.xml.bind.v2.runtime.IllegalAnnotationsException: 2 counts of IllegalAnnotationExceptions","body":"<p>This is interesting. This is not a full answer, but this might help.</p>\n\n<p>The <code>com.sun.xml.ws.developer.MemberSubmissionEndpointReference.Address</code> class is not annotated, there's also no <code>package-info.java</code>. So the type should be named <code>address</code>, without namespace.</p>\n\n<p>The class <code>javax.xml.ws.wsaddressing.W3CEndpointReference.Address</code> is also not annotated, but there is a <code>package-info.java</code>:</p>\n\n<pre><code>@javax.xml.bind.annotation.XmlSchema(namespace=W3CEndpointReference.NS,\n                                     location=\"http://www.w3.org/2006/03/addressing/ws-addr.xsd\")\npackage javax.xml.ws.wsaddressing;\n</code></pre>\n\n<p>So it should be named <code>{http://www.w3.org/2005/08/addressing:address</code>. So theoretically there should be no conflict.</p>\n\n<p>I'd suggest the following:</p>\n\n<ul>\n<li>Check your classes and packages.\n<ul>\n<li>Do you have a <code>package-info.java</code> in <code>javax.xml.ws.wsaddressing</code>?</li>\n<li>Do you have one in <code>com.sun.xml.ws.developer</code>?</li>\n</ul></li>\n<li>Try updating versions of your libraries. Maybe this was a temporary glitch between versions.</li>\n</ul>\n\n<p><strong>UPDATE</strong></p>\n\n<p>I have found exactly the same problem <a href=\"https://www.java.net/node/685468\" rel=\"nofollow\">reported on java.net</a>. One of the solutions posted there is, basically, \"update your versions\". Also seems to be relevant to NetBeans somehow.</p>\n"},{"tags":[],"owner":{"account_id":22648366,"reputation":21,"user_id":16823405,"display_name":"tasos panagiotopoulos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632925228,"creation_date":1632924903,"answer_id":69378117,"question_id":15680663,"body_markdown":"I have encountered exactly the same issue. **This is not a solution but a workaround**.\r\n\r\nFirst of all, the wsdl based on which I had built my client was an autogenerated wsdl. This type of wsdls usually contain more than one shema, like in my case (4 schemas). I don&#39;t say that this is wrong but in my case what I did was to remove the last 3 schemas and move all the elements inside the first one along with what that entails (changes in namespaces etc.). After doing this I built my client again and the error was solved.\r\n","title":"com.sun.xml.bind.v2.runtime.IllegalAnnotationsException: 2 counts of IllegalAnnotationExceptions","body":"<p>I have encountered exactly the same issue. <strong>This is not a solution but a workaround</strong>.</p>\n<p>First of all, the wsdl based on which I had built my client was an autogenerated wsdl. This type of wsdls usually contain more than one shema, like in my case (4 schemas). I don't say that this is wrong but in my case what I did was to remove the last 3 schemas and move all the elements inside the first one along with what that entails (changes in namespaces etc.). After doing this I built my client again and the error was solved.</p>\n"}],"owner":{"account_id":2525611,"reputation":23,"user_id":2195063,"display_name":"chuck"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11304,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":26383773,"answer_count":2,"score":2,"last_activity_date":1632925228,"creation_date":1364470300,"question_id":15680663,"body_markdown":"My apache cxf client web service got exception just like below. However, &#39;XML type name &quot;address&quot;&#39; is the soap:address location of my WSDL. What is the problem? \r\n\r\n    Caused by: com.sun.xml.bind.v2.runtime.IllegalAnnotationsException: 2 counts of IllegalAnnotationExceptions\r\n    Two classes have the same XML type name &quot;address&quot;. Use @XmlType.name and @XmlType.namespace to assign different names to them.\r\n    \tthis problem is related to the following location:\r\n    \t\tat com.sun.xml.ws.developer.MemberSubmissionEndpointReference$Address\r\n    \t\tat public com.sun.xml.ws.developer.MemberSubmissionEndpointReference$Address com.sun.xml.ws.developer.MemberSubmissionEndpointReference.addr\r\n    \t\tat com.sun.xml.ws.developer.MemberSubmissionEndpointReference\r\n    \tthis problem is related to the following location:\r\n    \t\tat javax.xml.ws.wsaddressing.W3CEndpointReference$Address\r\n    \t\tat private javax.xml.ws.wsaddressing.W3CEndpointReference$Address javax.xml.ws.wsaddressing.W3CEndpointReference.address\r\n    \t\tat javax.xml.ws.wsaddressing.W3CEndpointReference\r\n    Two classes have the same XML type name &quot;elements&quot;. Use @XmlType.name and @XmlType.namespace to assign different names to them.\r\n    \tthis problem is related to the following location:\r\n    \t\tat com.sun.xml.ws.developer.MemberSubmissionEndpointReference$Elements\r\n    \t\tat public com.sun.xml.ws.developer.MemberSubmissionEndpointReference$Elements com.sun.xml.ws.developer.MemberSubmissionEndpointReference.referenceProperties\r\n    \t\tat com.sun.xml.ws.developer.MemberSubmissionEndpointReference\r\n    \tthis problem is related to the following location:\r\n    \t\tat javax.xml.ws.wsaddressing.W3CEndpointReference$Elements\r\n    \t\tat private javax.xml.ws.wsaddressing.W3CEndpointReference$Elements javax.xml.ws.wsaddressing.W3CEndpointReference.referenceParameters\r\n    \t\tat javax.xml.ws.wsaddressing.W3CEndpointReference","title":"com.sun.xml.bind.v2.runtime.IllegalAnnotationsException: 2 counts of IllegalAnnotationExceptions","body":"<p>My apache cxf client web service got exception just like below. However, 'XML type name \"address\"' is the soap:address location of my WSDL. What is the problem? </p>\n\n<pre><code>Caused by: com.sun.xml.bind.v2.runtime.IllegalAnnotationsException: 2 counts of IllegalAnnotationExceptions\nTwo classes have the same XML type name \"address\". Use @XmlType.name and @XmlType.namespace to assign different names to them.\n    this problem is related to the following location:\n        at com.sun.xml.ws.developer.MemberSubmissionEndpointReference$Address\n        at public com.sun.xml.ws.developer.MemberSubmissionEndpointReference$Address com.sun.xml.ws.developer.MemberSubmissionEndpointReference.addr\n        at com.sun.xml.ws.developer.MemberSubmissionEndpointReference\n    this problem is related to the following location:\n        at javax.xml.ws.wsaddressing.W3CEndpointReference$Address\n        at private javax.xml.ws.wsaddressing.W3CEndpointReference$Address javax.xml.ws.wsaddressing.W3CEndpointReference.address\n        at javax.xml.ws.wsaddressing.W3CEndpointReference\nTwo classes have the same XML type name \"elements\". Use @XmlType.name and @XmlType.namespace to assign different names to them.\n    this problem is related to the following location:\n        at com.sun.xml.ws.developer.MemberSubmissionEndpointReference$Elements\n        at public com.sun.xml.ws.developer.MemberSubmissionEndpointReference$Elements com.sun.xml.ws.developer.MemberSubmissionEndpointReference.referenceProperties\n        at com.sun.xml.ws.developer.MemberSubmissionEndpointReference\n    this problem is related to the following location:\n        at javax.xml.ws.wsaddressing.W3CEndpointReference$Elements\n        at private javax.xml.ws.wsaddressing.W3CEndpointReference$Elements javax.xml.ws.wsaddressing.W3CEndpointReference.referenceParameters\n        at javax.xml.ws.wsaddressing.W3CEndpointReference\n</code></pre>\n"},{"tags":["java","android","okhttp"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1632924671,"post_id":69377864,"comment_id":122625068,"body_markdown":"If you often have intermitten errors like that then you&#39;ll have to build some retry mechanism. If the duration of these problems is short-lived (i.e. a request several seconds later is likely to succeed), then just do it silently. If the interruption tends to take longer then catch the exception and post a message like &quot;can&#39;t reach the server, please try again later&quot;. Can you reproduce the problem or do you only see this happen in logs collected from your users?","body":"If you often have intermitten errors like that then you&#39;ll have to build some retry mechanism. If the duration of these problems is short-lived (i.e. a request several seconds later is likely to succeed), then just do it silently. If the interruption tends to take longer then catch the exception and post a message like &quot;can&#39;t reach the server, please try again later&quot;. Can you reproduce the problem or do you only see this happen in logs collected from your users?"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1632924850,"post_id":69377864,"comment_id":122625160,"body_markdown":"And last but not least: if your country starts blocking outside traffic and the majority of your users are in your country, then it might be a good idea to have your servers (or at least some servers) in your country to increase the chance of being able to reach them.","body":"And last but not least: if your country starts blocking outside traffic and the majority of your users are in your country, then it might be a good idea to have your servers (or at least some servers) in your country to increase the chance of being able to reach them."},{"owner":{"account_id":21494684,"reputation":85,"user_id":15839866,"display_name":"Z_landbad"},"score":0,"creation_date":1632925079,"post_id":69377864,"comment_id":122625294,"body_markdown":"Firstly thank you for responding @JoachimSauer I can only see this problem when I look at the user logs. I appreciate the info you have given me and I will look into it the retry mechanism :) have a very good day!!!! and stay safe","body":"Firstly thank you for responding @JoachimSauer I can only see this problem when I look at the user logs. I appreciate the info you have given me and I will look into it the retry mechanism :) have a very good day!!!! and stay safe"},{"owner":{"account_id":21494684,"reputation":85,"user_id":15839866,"display_name":"Z_landbad"},"score":0,"creation_date":1632925143,"post_id":69377864,"comment_id":122625323,"body_markdown":"@JoachimSauer yes that would be helpful but our current host does not have servers for your country and we already paid for 1 full year","body":"@JoachimSauer yes that would be helpful but our current host does not have servers for your country and we already paid for 1 full year"},{"owner":{"account_id":21494684,"reputation":85,"user_id":15839866,"display_name":"Z_landbad"},"score":0,"creation_date":1632925202,"post_id":69377864,"comment_id":122625363,"body_markdown":"This situation happened after a coup that we didn&#39;t expect :(","body":"This situation happened after a coup that we didn&#39;t expect :("},{"owner":{"account_id":21494684,"reputation":85,"user_id":15839866,"display_name":"Z_landbad"},"score":0,"creation_date":1632927469,"post_id":69377864,"comment_id":122626554,"body_markdown":"@JoachimSauer would it be possible for you to help me with a small issue? i will provide some of my code if you can help me as i can;t seem to get the retrofit clone() function to work","body":"@JoachimSauer would it be possible for you to help me with a small issue? i will provide some of my code if you can help me as i can;t seem to get the retrofit clone() function to work"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1632927524,"post_id":69377864,"comment_id":122626589,"body_markdown":"Please post this as a separate question, I don&#39;t really do individual 1:1 help on here.","body":"Please post this as a separate question, I don&#39;t really do individual 1:1 help on here."},{"owner":{"account_id":21494684,"reputation":85,"user_id":15839866,"display_name":"Z_landbad"},"score":0,"creation_date":1632927624,"post_id":69377864,"comment_id":122626648,"body_markdown":"Okay sure :) thx for the help btw","body":"Okay sure :) thx for the help btw"},{"owner":{"account_id":21494684,"reputation":85,"user_id":15839866,"display_name":"Z_landbad"},"score":0,"creation_date":1632943494,"post_id":69377864,"comment_id":122633138,"body_markdown":"@JoachimSauer here is my post https://stackoverflow.com/questions/69382327/how-to-use-clone-retrofit-in-android-application","body":"@JoachimSauer here is my post <a href=\"https://stackoverflow.com/questions/69382327/how-to-use-clone-retrofit-in-android-application\" title=\"how to use clone retrofit in android application\">stackoverflow.com/questions/69382327/&hellip;</a>"}],"owner":{"account_id":21494684,"reputation":85,"user_id":15839866,"display_name":"Z_landbad"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1632924754,"creation_date":1632923877,"question_id":69377864,"body_markdown":"I have an interesting situation. My country has started to block sites from several countries, including Facebook, Instagram, Twitter, Linked In, and almost all outside websites. My website has not been affected by this, at least not always, sometimes I can&#39;t access it and other times I can. \r\n\r\nMy Android application runs requests to my page to get user info etc, but sometimes it does not open and just stays on the splash screen after 3 times of opening and closing the app it suddenly runs and shows the home screen etc. My users have been affected by this. \r\n\r\nI looked at the logcat and saw when the app stays only on the splash screen the logcat produced this ```java.net.UnknownHostException: Unable to resolve host &quot;easy****m*.com&quot;: No address associated with hostname```\r\n\r\nI know I don&#39;t have code included, but the thing is, it is not my code because like I said sometimes the app works other times it does not because the server can&#39;t be called too.\r\n\r\nIs there a way to get around this? Our active users have gone down and we believe the main cause of this is because the app does not always open. \r\n\r\nAlso, I did use nslookup and look seems to be correct. I did some research, but found nothing that relates to my current situation only where people coded something wrong or miss-spelled something.\r\n","title":"Intermittent java.net.UnknownHostException possibly caused by government censorship","body":"<p>I have an interesting situation. My country has started to block sites from several countries, including Facebook, Instagram, Twitter, Linked In, and almost all outside websites. My website has not been affected by this, at least not always, sometimes I can't access it and other times I can.</p>\n<p>My Android application runs requests to my page to get user info etc, but sometimes it does not open and just stays on the splash screen after 3 times of opening and closing the app it suddenly runs and shows the home screen etc. My users have been affected by this.</p>\n<p>I looked at the logcat and saw when the app stays only on the splash screen the logcat produced this <code>java.net.UnknownHostException: Unable to resolve host &quot;easy****m*.com&quot;: No address associated with hostname</code></p>\n<p>I know I don't have code included, but the thing is, it is not my code because like I said sometimes the app works other times it does not because the server can't be called too.</p>\n<p>Is there a way to get around this? Our active users have gone down and we believe the main cause of this is because the app does not always open.</p>\n<p>Also, I did use nslookup and look seems to be correct. I did some research, but found nothing that relates to my current situation only where people coded something wrong or miss-spelled something.</p>\n"},{"tags":["java","lambda","java-8"],"answers":[{"tags":[],"owner":{"account_id":1437465,"reputation":6412,"user_id":1358536,"accept_rate":90,"display_name":"kavai77"},"down_vote_count":2,"up_vote_count":9,"is_accepted":true,"score":7,"last_activity_date":1395741056,"creation_date":1395741056,"answer_id":22630833,"question_id":22630750,"body_markdown":"This is not possible with Lamdas, you cannot control the flow from inside the expression.\r\nEven the API docs says that the Stream.generate generates an infinite stream.\r\n\r\nHowever, you can limit the Stream and achieve the desired functionality simply by using the limit() method:\r\n\r\n    System.out.println(Stream.generate(() -&gt; RandomUtils.nextInt(100)).limit(10).count());","title":"Is there any way to stop a Stream.generate from its Lambda closure?","body":"<p>This is not possible with Lamdas, you cannot control the flow from inside the expression.\nEven the API docs says that the Stream.generate generates an infinite stream.</p>\n\n<p>However, you can limit the Stream and achieve the desired functionality simply by using the limit() method:</p>\n\n<pre><code>System.out.println(Stream.generate(() -&gt; RandomUtils.nextInt(100)).limit(10).count());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3971227,"reputation":8507,"user_id":3275788,"display_name":"wumpz"},"down_vote_count":0,"up_vote_count":39,"is_accepted":false,"score":39,"last_activity_date":1632924363,"creation_date":1398353433,"answer_id":23273344,"question_id":22630750,"body_markdown":"Java 9 and later includes [this method][1]:\r\n\r\n    Stream&lt;T&gt; takeWhile(Predicate&lt;? super T&gt; predicate); \r\n\r\nto limit a stream by condition. So the workaround beneath is not needed anymore.\r\n\r\n\r\n**Original answer (for Java versions earlier than 9):**\r\n\r\nWith **Stream.generate** this is per definition **not** possible from a lambda closure. It is by definition endless. Using `limit()` you are able make your stream fix sized. But this will not help you for conditions like: \r\n\r\n    if random&gt;10 then stop\r\n\r\nThere is a possibility to limit a potential endless stream by condition. This is usefull if one does not know the size. Your friend here is a **Spliterator** and your sample code would look like:\r\n\r\n    System.out.println( StreamSupport.stream(Spliterators.spliteratorUnknownSize(new Iterator&lt;Integer&gt;() {\r\n    \tint counter = 0;\r\n    \r\n    \t@Override\r\n    \tpublic boolean hasNext() {\r\n    \t\treturn counter &lt; 10;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Integer next() {\r\n    \t\tcounter++;\r\n    \t\treturn RandomUtils.nextInt(100);\r\n    \t}\r\n    }, Spliterator.IMMUTABLE), false).count());\r\n\r\nBasically you are able to build a **Stream** from an **Iterator**. I am using this construct e.g. for a stream of **XMLEvents** from Stax XML - parsing. \r\n\r\nI know this is not done by lambda constructs but it IHMO solves this lacking feature of stopping the stream item generation by condition.\r\n\r\nI would be very interested, if there is a better way to achieve this (I mean this stream construct and not the XML processing ;)) or if there is a fundamental flaw in using streams in this way. \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/9/docs/api/java/util/stream/Stream.html#takeWhile-java.util.function.Predicate-","title":"Is there any way to stop a Stream.generate from its Lambda closure?","body":"<p>Java 9 and later includes <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/stream/Stream.html#takeWhile-java.util.function.Predicate-\" rel=\"nofollow noreferrer\">this method</a>:</p>\n<pre><code>Stream&lt;T&gt; takeWhile(Predicate&lt;? super T&gt; predicate); \n</code></pre>\n<p>to limit a stream by condition. So the workaround beneath is not needed anymore.</p>\n<p><strong>Original answer (for Java versions earlier than 9):</strong></p>\n<p>With <strong>Stream.generate</strong> this is per definition <strong>not</strong> possible from a lambda closure. It is by definition endless. Using <code>limit()</code> you are able make your stream fix sized. But this will not help you for conditions like:</p>\n<pre><code>if random&gt;10 then stop\n</code></pre>\n<p>There is a possibility to limit a potential endless stream by condition. This is usefull if one does not know the size. Your friend here is a <strong>Spliterator</strong> and your sample code would look like:</p>\n<pre><code>System.out.println( StreamSupport.stream(Spliterators.spliteratorUnknownSize(new Iterator&lt;Integer&gt;() {\n    int counter = 0;\n\n    @Override\n    public boolean hasNext() {\n        return counter &lt; 10;\n    }\n\n    @Override\n    public Integer next() {\n        counter++;\n        return RandomUtils.nextInt(100);\n    }\n}, Spliterator.IMMUTABLE), false).count());\n</code></pre>\n<p>Basically you are able to build a <strong>Stream</strong> from an <strong>Iterator</strong>. I am using this construct e.g. for a stream of <strong>XMLEvents</strong> from Stax XML - parsing.</p>\n<p>I know this is not done by lambda constructs but it IHMO solves this lacking feature of stopping the stream item generation by condition.</p>\n<p>I would be very interested, if there is a better way to achieve this (I mean this stream construct and not the XML processing ;)) or if there is a fundamental flaw in using streams in this way.</p>\n"},{"tags":[],"owner":{"account_id":1026508,"reputation":155,"user_id":1035701,"display_name":"riemaxi"},"down_vote_count":5,"up_vote_count":1,"is_accepted":false,"score":-4,"last_activity_date":1470604438,"creation_date":1470604270,"answer_id":38818590,"question_id":22630750,"body_markdown":"My solution was to generate a null when done and then apply a filter\r\n\r\n    Stream\r\n     .generate( o -&gt; newObject() )\r\n     .filter( o -&gt; o != null )\r\n     .forEach(...)","title":"Is there any way to stop a Stream.generate from its Lambda closure?","body":"<p>My solution was to generate a null when done and then apply a filter</p>\n\n<pre><code>Stream\n .generate( o -&gt; newObject() )\n .filter( o -&gt; o != null )\n .forEach(...)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":352555,"reputation":774,"user_id":689706,"display_name":"Dave"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1515684819,"creation_date":1515684347,"answer_id":48210523,"question_id":22630750,"body_markdown":"It *is* possible, you just need to think outside the box.\r\n\r\nThe following idea is borrowed from Python, the language which introduced me to generator functions...\r\n\r\nJust throw an instance of `RuntimeException` when you are done from within the `Supplier&lt;T&gt;` closure and catch-and-ignore it at the call site.\r\n\r\nAn example excerpt (note I have added a safety catch of `Stream.limit(Long.MAX_VALUE)` to cover the unexpected, though it should never be triggered):\r\n\r\n    static &lt;T&gt; Stream&lt;T&gt; read(String path, FieldSetMapper&lt;T&gt; fieldSetMapper) throws IOException {\r\n        ClassPathResource resource = new ClassPathResource(path);\r\n        DefaultLineMapper&lt;T&gt; lineMapper = new DefaultLineMapper&lt;&gt;();\r\n        lineMapper.setFieldSetMapper(fieldSetMapper);\r\n        lineMapper.setLineTokenizer(getTokenizer(resource));\r\n\r\n        return Stream.generate(new Supplier&lt;T&gt;() {\r\n            FlatFileItemReader&lt;T&gt; itemReader = new FlatFileItemReader&lt;&gt;();\r\n            int line = 1;\r\n            {\r\n                itemReader.setResource(resource);\r\n                itemReader.setLineMapper(lineMapper);\r\n                itemReader.setRecordSeparatorPolicy(new DefaultRecordSeparatorPolicy());\r\n                itemReader.setLinesToSkip(1);\r\n                itemReader.open(new ExecutionContext());\r\n            }\r\n\r\n            @Override\r\n            public T get() {\r\n                T item = null;\r\n                ++line;\r\n                try {\r\n                    item = itemReader.read();\r\n                    if (item == null) {\r\n                        throw new StopIterationException();\r\n                    }\r\n                } catch (StopIterationException ex) {\r\n                    throw ex;\r\n                } catch (Exception ex) {\r\n                    LOG.log(WARNING, ex,\r\n                            () -&gt; format(&quot;%s reading line %d of %s&quot;, ex.getClass().getSimpleName(), line, resource));\r\n                }\r\n                return item;\r\n            }\r\n        }).limit(Long.MAX_VALUE).filter(Objects::nonNull);\r\n    }\r\n\r\n    static class StopIterationException extends RuntimeException {}\r\n\r\n    public void init() {\r\n        if (repository.count() == 0) {\r\n            Level logLevel = INFO;\r\n            try {\r\n                read(&quot;providers.csv&quot;, fields -&gt; new Provider(\r\n                        fields.readString(&quot;code&quot;),\r\n                        fields.readString(&quot;name&quot;),\r\n                        LocalDate.parse(fields.readString(&quot;effectiveStart&quot;), DateTimeFormatter.ISO_LOCAL_DATE),\r\n                        LocalDate.parse(fields.readString(&quot;effectiveEnd&quot;), DateTimeFormatter.ISO_LOCAL_DATE)\r\n                )).forEach(repository::save);\r\n            } catch (IOException e) {\r\n                logLevel = WARNING;\r\n                LOG.log(logLevel, &quot;Initialization was interrupted&quot;);\r\n            } catch (StopIterationException ignored) {}\r\n            LOG.log(logLevel, &quot;{} providers imported.&quot;, repository.count());\r\n        }\r\n    }\r\n","title":"Is there any way to stop a Stream.generate from its Lambda closure?","body":"<p>It <em>is</em> possible, you just need to think outside the box.</p>\n\n<p>The following idea is borrowed from Python, the language which introduced me to generator functions...</p>\n\n<p>Just throw an instance of <code>RuntimeException</code> when you are done from within the <code>Supplier&lt;T&gt;</code> closure and catch-and-ignore it at the call site.</p>\n\n<p>An example excerpt (note I have added a safety catch of <code>Stream.limit(Long.MAX_VALUE)</code> to cover the unexpected, though it should never be triggered):</p>\n\n<pre><code>static &lt;T&gt; Stream&lt;T&gt; read(String path, FieldSetMapper&lt;T&gt; fieldSetMapper) throws IOException {\n    ClassPathResource resource = new ClassPathResource(path);\n    DefaultLineMapper&lt;T&gt; lineMapper = new DefaultLineMapper&lt;&gt;();\n    lineMapper.setFieldSetMapper(fieldSetMapper);\n    lineMapper.setLineTokenizer(getTokenizer(resource));\n\n    return Stream.generate(new Supplier&lt;T&gt;() {\n        FlatFileItemReader&lt;T&gt; itemReader = new FlatFileItemReader&lt;&gt;();\n        int line = 1;\n        {\n            itemReader.setResource(resource);\n            itemReader.setLineMapper(lineMapper);\n            itemReader.setRecordSeparatorPolicy(new DefaultRecordSeparatorPolicy());\n            itemReader.setLinesToSkip(1);\n            itemReader.open(new ExecutionContext());\n        }\n\n        @Override\n        public T get() {\n            T item = null;\n            ++line;\n            try {\n                item = itemReader.read();\n                if (item == null) {\n                    throw new StopIterationException();\n                }\n            } catch (StopIterationException ex) {\n                throw ex;\n            } catch (Exception ex) {\n                LOG.log(WARNING, ex,\n                        () -&gt; format(\"%s reading line %d of %s\", ex.getClass().getSimpleName(), line, resource));\n            }\n            return item;\n        }\n    }).limit(Long.MAX_VALUE).filter(Objects::nonNull);\n}\n\nstatic class StopIterationException extends RuntimeException {}\n\npublic void init() {\n    if (repository.count() == 0) {\n        Level logLevel = INFO;\n        try {\n            read(\"providers.csv\", fields -&gt; new Provider(\n                    fields.readString(\"code\"),\n                    fields.readString(\"name\"),\n                    LocalDate.parse(fields.readString(\"effectiveStart\"), DateTimeFormatter.ISO_LOCAL_DATE),\n                    LocalDate.parse(fields.readString(\"effectiveEnd\"), DateTimeFormatter.ISO_LOCAL_DATE)\n            )).forEach(repository::save);\n        } catch (IOException e) {\n            logLevel = WARNING;\n            LOG.log(logLevel, \"Initialization was interrupted\");\n        } catch (StopIterationException ignored) {}\n        LOG.log(logLevel, \"{} providers imported.\", repository.count());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12217127,"reputation":21,"user_id":8917195,"display_name":"Chandra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1527426801,"creation_date":1527426801,"answer_id":50552525,"question_id":22630750,"body_markdown":"    // If you are not looking for parallelism, you can use following method:\r\n    public static &lt;T&gt; Stream&lt;T&gt; breakStream(Stream&lt;T&gt; stream, Predicate&lt;T&gt; terminate) { \r\n      final Iterator&lt;T&gt; original = stream.iterator();\r\n      Iterable&lt;T&gt; iter = () -&gt; new Iterator&lt;T&gt;() { \r\n        T t;\r\n        boolean hasValue = false;\r\n    \r\n        @Override\r\n        public boolean hasNext() { \r\n          if (!original.hasNext()) { \r\n            return false;\r\n          } \r\n          t = original.next();\r\n          hasValue = true;\r\n          if (terminate.test(t)) { \r\n            return false;\r\n          } \r\n          return true;\r\n        } \r\n    \r\n        @Override\r\n        public T next() { \r\n          if (hasValue) { \r\n            hasValue = false;\r\n            return t;\r\n          } \r\n          return t;\r\n        } \r\n      };\r\n    \r\n      return StreamSupport.stream(iter.spliterator(), false);\r\n    }","title":"Is there any way to stop a Stream.generate from its Lambda closure?","body":"<pre><code>// If you are not looking for parallelism, you can use following method:\npublic static &lt;T&gt; Stream&lt;T&gt; breakStream(Stream&lt;T&gt; stream, Predicate&lt;T&gt; terminate) { \n  final Iterator&lt;T&gt; original = stream.iterator();\n  Iterable&lt;T&gt; iter = () -&gt; new Iterator&lt;T&gt;() { \n    T t;\n    boolean hasValue = false;\n\n    @Override\n    public boolean hasNext() { \n      if (!original.hasNext()) { \n        return false;\n      } \n      t = original.next();\n      hasValue = true;\n      if (terminate.test(t)) { \n        return false;\n      } \n      return true;\n    } \n\n    @Override\n    public T next() { \n      if (hasValue) { \n        hasValue = false;\n        return t;\n      } \n      return t;\n    } \n  };\n\n  return StreamSupport.stream(iter.spliterator(), false);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1635072,"reputation":81,"user_id":1508792,"display_name":"AlexP"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590454302,"creation_date":1590454302,"answer_id":62012979,"question_id":22630750,"body_markdown":"Use [StreamSupport.stream(Spliterator, boolean)][1]&lt;br/&gt;\r\nSee JavaDoc on [Spliterator][2].&lt;br/&gt;\r\nHere is example spliterator:\r\n\r\n    public class GeneratingSpliterator&lt;T&gt; implements Spliterator&lt;T&gt;\r\n    {\r\n        private Supplier&lt;T&gt; supplier;\r\n        private Predicate&lt;T&gt; predicate;\r\n    \r\n        public GeneratingSpliterator(final Supplier&lt;T&gt; newSupplier, final Predicate&lt;T&gt; newPredicate)\r\n        {\r\n            supplier = newSupplier;\r\n            predicate = newPredicate;\r\n        }\r\n    \r\n        @Override\r\n        public int characteristics()\r\n        {\r\n            return 0;\r\n        }\r\n        \r\n        @Override\r\n        public long estimateSize()\r\n        {\r\n            return Long.MAX_VALUE;\r\n        }\r\n        \r\n        @Override\r\n        public boolean tryAdvance(final Consumer&lt;? super T&gt; action)\r\n        {\r\n            T newObject = supplier.get();\r\n            boolean ret = predicate.test(newObject);\r\n            if(ret) action.accept(newObject);\r\n            return ret;\r\n        }\r\n    \r\n        @Override\r\n        public Spliterator&lt;T&gt; trySplit()\r\n        {\r\n            return null;\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/StreamSupport.html#stream-java.util.Spliterator-boolean-\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/Spliterator.html","title":"Is there any way to stop a Stream.generate from its Lambda closure?","body":"<p>Use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/StreamSupport.html#stream-java.util.Spliterator-boolean-\" rel=\"nofollow noreferrer\">StreamSupport.stream(Spliterator, boolean)</a><br/>\nSee JavaDoc on <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Spliterator.html\" rel=\"nofollow noreferrer\">Spliterator</a>.<br/>\nHere is example spliterator:</p>\n\n<pre><code>public class GeneratingSpliterator&lt;T&gt; implements Spliterator&lt;T&gt;\n{\n    private Supplier&lt;T&gt; supplier;\n    private Predicate&lt;T&gt; predicate;\n\n    public GeneratingSpliterator(final Supplier&lt;T&gt; newSupplier, final Predicate&lt;T&gt; newPredicate)\n    {\n        supplier = newSupplier;\n        predicate = newPredicate;\n    }\n\n    @Override\n    public int characteristics()\n    {\n        return 0;\n    }\n\n    @Override\n    public long estimateSize()\n    {\n        return Long.MAX_VALUE;\n    }\n\n    @Override\n    public boolean tryAdvance(final Consumer&lt;? super T&gt; action)\n    {\n        T newObject = supplier.get();\n        boolean ret = predicate.test(newObject);\n        if(ret) action.accept(newObject);\n        return ret;\n    }\n\n    @Override\n    public Spliterator&lt;T&gt; trySplit()\n    {\n        return null;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9177555,"reputation":93,"user_id":6822670,"display_name":"C&#233;sar Mora"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632924183,"creation_date":1632924183,"answer_id":69377941,"question_id":22630750,"body_markdown":"This is another solution for java 8 (It needs a Stream.Builder, may be it is not optimal, but it is quite simple):\r\n\r\n    @SuppressWarnings(&quot;ResultOfMethodCallIgnored&quot;)\r\n    public static &lt;T&gt; Stream&lt;T&gt; streamBreakable(Stream&lt;T&gt; stream, Predicate&lt;T&gt; stopCondition) {\r\n        Stream.Builder&lt;T&gt; builder = Stream.builder();\r\n        stream.map(t -&gt; {\r\n                    boolean stop = stopCondition.test(t);\r\n                    if (!stop) {\r\n                        builder.add(t);\r\n                    }\r\n                    return stop;\r\n                })\r\n                .filter(result -&gt; result)\r\n                .findFirst();\r\n\r\n        return builder.build();\r\n    }\r\n\r\nAnd the test:\r\n\r\n    @Test\r\n    public void shouldStop() {\r\n\r\n        AtomicInteger count = new AtomicInteger(0);\r\n        Stream&lt;Integer&gt; stream = Stream.generate(() -&gt; {\r\n            if (count.getAndIncrement() &lt; 10) {\r\n                return (int) (Math.random() * 100);\r\n            } else {\r\n                return null;\r\n            }\r\n        });\r\n\r\n        List&lt;Integer&gt; list = streamBreakable(stream, Objects::isNull)\r\n                .collect(Collectors.toList());\r\n\r\n        System.out.println(list);\r\n    }","title":"Is there any way to stop a Stream.generate from its Lambda closure?","body":"<p>This is another solution for java 8 (It needs a Stream.Builder, may be it is not optimal, but it is quite simple):</p>\n<pre><code>@SuppressWarnings(&quot;ResultOfMethodCallIgnored&quot;)\npublic static &lt;T&gt; Stream&lt;T&gt; streamBreakable(Stream&lt;T&gt; stream, Predicate&lt;T&gt; stopCondition) {\n    Stream.Builder&lt;T&gt; builder = Stream.builder();\n    stream.map(t -&gt; {\n                boolean stop = stopCondition.test(t);\n                if (!stop) {\n                    builder.add(t);\n                }\n                return stop;\n            })\n            .filter(result -&gt; result)\n            .findFirst();\n\n    return builder.build();\n}\n</code></pre>\n<p>And the test:</p>\n<pre><code>@Test\npublic void shouldStop() {\n\n    AtomicInteger count = new AtomicInteger(0);\n    Stream&lt;Integer&gt; stream = Stream.generate(() -&gt; {\n        if (count.getAndIncrement() &lt; 10) {\n            return (int) (Math.random() * 100);\n        } else {\n            return null;\n        }\n    });\n\n    List&lt;Integer&gt; list = streamBreakable(stream, Objects::isNull)\n            .collect(Collectors.toList());\n\n    System.out.println(list);\n}\n</code></pre>\n"}],"owner":{"account_id":4225384,"reputation":133,"user_id":3459023,"display_name":"user3459023"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10202,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":22630833,"answer_count":7,"score":13,"last_activity_date":1632924363,"creation_date":1395740868,"question_id":22630750,"body_markdown":"I just started playing around Java 8 and Lambda Expression and I am curious if I can stop the Stream generation from inside the Lambda expession by returning a specific value\r\n(like null). Is this possible with Stream.generate()?\r\n\r\n    private int counter;\r\n    \r\n    private void generate()\r\n    {\r\n        System.out.println(Stream.generate(() -&gt; {\r\n            if (counter &lt; 10) {\r\n                counter++;\r\n                return RandomUtils.nextInt(100);\r\n            } else {\r\n                return null;\r\n            }\r\n        }).count());\r\n    }\r\n\r\nUnfortunately this code does not terminate, so by simply returning `null` will not step out of the stream.","title":"Is there any way to stop a Stream.generate from its Lambda closure?","body":"<p>I just started playing around Java 8 and Lambda Expression and I am curious if I can stop the Stream generation from inside the Lambda expession by returning a specific value\n(like null). Is this possible with Stream.generate()?</p>\n\n<pre><code>private int counter;\n\nprivate void generate()\n{\n    System.out.println(Stream.generate(() -&gt; {\n        if (counter &lt; 10) {\n            counter++;\n            return RandomUtils.nextInt(100);\n        } else {\n            return null;\n        }\n    }).count());\n}\n</code></pre>\n\n<p>Unfortunately this code does not terminate, so by simply returning <code>null</code> will not step out of the stream.</p>\n"},{"tags":["java","swing","jframe","jpanel"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":2,"creation_date":1632924107,"post_id":69377368,"comment_id":122624751,"body_markdown":"The above code is completely wrong. Read the Swing tutorial on [Custom Painting](https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html) for more information on painting basics and working examples. You can also check out: [Custom Painting Approaches](https://tips4java.wordpress.com/2009/05/08/custom-painting-approaches/) for an example that paints all the objects in an ArrayList.","body":"The above code is completely wrong. Read the Swing tutorial on <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\" rel=\"nofollow noreferrer\">Custom Painting</a> for more information on painting basics and working examples. You can also check out: <a href=\"https://tips4java.wordpress.com/2009/05/08/custom-painting-approaches/\" rel=\"nofollow noreferrer\">Custom Painting Approaches</a> for an example that paints all the objects in an ArrayList."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1632924351,"post_id":69377368,"comment_id":122624890,"body_markdown":"This code is very strange. Normally the framework calls your component to paint it, passing in a Graphics2D, and for a JPanel, you override paintComponent, not paint. Where are you getting these Graphics2D objects? Why are you calling paint like this?","body":"This code is very strange. Normally the framework calls your component to paint it, passing in a Graphics2D, and for a JPanel, you override paintComponent, not paint. Where are you getting these Graphics2D objects? Why are you calling paint like this?"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":2,"creation_date":1632924435,"post_id":69377368,"comment_id":122624944,"body_markdown":"Also, it doesn&#39;t make any sense to talk about drawing a Graphics2D in a Panel. A Graphics2D isn&#39;t something you draw, it&#39;s something you draw *with*.","body":"Also, it doesn&#39;t make any sense to talk about drawing a Graphics2D in a Panel. A Graphics2D isn&#39;t something you draw, it&#39;s something you draw <i>with</i>."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1633012607,"post_id":69377368,"comment_id":122653423,"body_markdown":"Complete examples are cited [here](https://stackoverflow.com/a/38293273/230513).","body":"Complete examples are cited <a href=\"https://stackoverflow.com/a/38293273/230513\">here</a>."}],"owner":{"account_id":22895117,"reputation":1,"user_id":17034740,"display_name":"Frederik Coding"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1632924287,"creation_date":1632922072,"question_id":69377368,"body_markdown":"I have an array with multiple Grapics2D Objects and want to draw all of them in a Panel. Its not drawing anything. Does anyone know how to fix this?\r\n```\r\nfor (Graphics2D g2d : models) {\r\n     myPanel.paint(g2d);\r\n}","title":"Draw Grapics2D in JPanel from other class","body":"<p>I have an array with multiple Grapics2D Objects and want to draw all of them in a Panel. Its not drawing anything. Does anyone know how to fix this?</p>\n<pre><code>for (Graphics2D g2d : models) {\n     myPanel.paint(g2d);\n}\n</code></pre>\n"},{"tags":["java","jms","solace","retry-logic"],"answers":[{"tags":[],"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1632924128,"creation_date":1632835829,"answer_id":69362700,"question_id":69361900,"body_markdown":"If you&#39;re using the JMS API and you want to trigger a redelivery then you have a couple of options.\r\n\r\nYou can use a [transacted session][1]. When processing a message is successful you acknowledge the message and `commit()` the `javax.jms.Session`. When processing is unsuccessful you call `rollback()` on the `javax.jms.Session`.\r\n\r\nAlternatively, you can use [`javax.jms.Session.recover()`][2]. Here&#39;s what the JavaDoc says:\r\n\r\n&gt; Stops message delivery in this session, and restarts message delivery with the oldest unacknowledged message.\r\n&gt;\r\n&gt; All consumers deliver messages in a serial order. Acknowledging a received message automatically acknowledges all messages that have been delivered to the client.\r\n&gt;\r\n&gt; Restarting a session causes it to take the following actions:\r\n&gt;\r\n&gt; - Stop message delivery\r\n&gt; - Mark all messages that might have been delivered but not acknowledged as &quot;redelivered&quot;\r\n&gt; - Restart the delivery sequence including all unacknowledged messages that had been previously delivered. Redelivered messages do not have to be delivered in exactly their original delivery order.\r\n\r\nThis, of course, assumes that the Solace JMS client actually implements the specified behavior here.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javaee/7/api/javax/jms/Connection.html#createSession-boolean-int-\r\n  [2]: https://docs.oracle.com/javaee/7/api/javax/jms/Session.html#recover--","title":"How to send NACK to Solace queue from Solace listener using JMS API?","body":"<p>If you're using the JMS API and you want to trigger a redelivery then you have a couple of options.</p>\n<p>You can use a <a href=\"https://docs.oracle.com/javaee/7/api/javax/jms/Connection.html#createSession-boolean-int-\" rel=\"nofollow noreferrer\">transacted session</a>. When processing a message is successful you acknowledge the message and <code>commit()</code> the <code>javax.jms.Session</code>. When processing is unsuccessful you call <code>rollback()</code> on the <code>javax.jms.Session</code>.</p>\n<p>Alternatively, you can use <a href=\"https://docs.oracle.com/javaee/7/api/javax/jms/Session.html#recover--\" rel=\"nofollow noreferrer\"><code>javax.jms.Session.recover()</code></a>. Here's what the JavaDoc says:</p>\n<blockquote>\n<p>Stops message delivery in this session, and restarts message delivery with the oldest unacknowledged message.</p>\n<p>All consumers deliver messages in a serial order. Acknowledging a received message automatically acknowledges all messages that have been delivered to the client.</p>\n<p>Restarting a session causes it to take the following actions:</p>\n<ul>\n<li>Stop message delivery</li>\n<li>Mark all messages that might have been delivered but not acknowledged as &quot;redelivered&quot;</li>\n<li>Restart the delivery sequence including all unacknowledged messages that had been previously delivered. Redelivered messages do not have to be delivered in exactly their original delivery order.</li>\n</ul>\n</blockquote>\n<p>This, of course, assumes that the Solace JMS client actually implements the specified behavior here.</p>\n"},{"tags":[],"owner":{"account_id":9672139,"reputation":111,"user_id":7176723,"display_name":"Tamimi Ahmad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632837465,"creation_date":1632837465,"answer_id":69363127,"question_id":69361900,"body_markdown":"As per the discussion [here][1], `message.acknowledge()` is unrelated to windowing. Since you are using an asynchronous solution in your example, if you dont call `stop()`the transport window will close and the message will not be acknowledged.\r\n\r\n`message.acknowledge()` is only for acknowledging the message has been received and consumed where the message is already removed from the persistent storage on the Solace broker. Note that unacknowledged messages are only redelivered on the next consumer to connect.\r\n\r\n\r\n  [1]: https://solace.community/discussion/1010/how-to-send-nack-negative-acknowledgement-using-java-api","title":"How to send NACK to Solace queue from Solace listener using JMS API?","body":"<p>As per the discussion <a href=\"https://solace.community/discussion/1010/how-to-send-nack-negative-acknowledgement-using-java-api\" rel=\"nofollow noreferrer\">here</a>, <code>message.acknowledge()</code> is unrelated to windowing. Since you are using an asynchronous solution in your example, if you dont call <code>stop()</code>the transport window will close and the message will not be acknowledged.</p>\n<p><code>message.acknowledge()</code> is only for acknowledging the message has been received and consumed where the message is already removed from the persistent storage on the Solace broker. Note that unacknowledged messages are only redelivered on the next consumer to connect.</p>\n"}],"owner":{"account_id":11827371,"reputation":3,"user_id":8654976,"display_name":"karuppusamy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":909,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69362700,"answer_count":2,"score":0,"last_activity_date":1632924128,"creation_date":1632832675,"question_id":69361900,"body_markdown":"Need your help to find the solution. Current implementation details:\r\n```java\r\nSolConnectionFactory connectionFactory = SolJmsUtility.createConnectionFactory(); // for create connection factory using host , vpn,trust store,keystore with auth scheme AUTHENTICATION_SCHEME_CLIENT_CERTIFICATE\r\nthis.connection = connectionFactory.createConnection(); // connection creation\r\nsession = connection.createSession(false, Session.CLIENT_ACKNOWLEDGE); // session creation using client acknowledge\r\n```\r\nUsing MessageListener to listen the queue\r\n```java\r\npublic class MyListener implements MessageListener \r\n\r\n\tpublic void onMessage(Message message) // receive the message and process\r\n    { \r\n        /* in this method validating the message (poison message) \r\n         * and publish to kafka, once receive the success message\r\n         * from kafka acknowledge the message\r\n         */\r\n        message.acknowledge();\r\n    }\r\n```\t\r\nProblem : If Kafka broker went down how to do retry? We had a discussion with internal Solace team.\r\n\r\n**We assume** that if client is not calling the `message.acknowledge()` Solace will do  the retry but internal Solace team clarified that it is using windowing mechanism, so if subsequent message is acknowledge then previous message will also acknowledged and deleted.\r\n\r\n**Their suggestion** is to send back the NACK (negative acknowledgment) for failed message then Solace can do retry that message. How to send the NACK using Java API?\r\n\r\nWhat are the suggested value for `Max_Un_Ack_Message` and `Max_Redeliver_Count`?\r\n\r\nMaven Dependency for Solace:\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.solacesystems&lt;/groupId&gt;\r\n    &lt;artifactId&gt;sol-jms&lt;/artifactId&gt;\r\n    &lt;version&gt;10.0.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"How to send NACK to Solace queue from Solace listener using JMS API?","body":"<p>Need your help to find the solution. Current implementation details:</p>\n<pre class=\"lang-java prettyprint-override\"><code>SolConnectionFactory connectionFactory = SolJmsUtility.createConnectionFactory(); // for create connection factory using host , vpn,trust store,keystore with auth scheme AUTHENTICATION_SCHEME_CLIENT_CERTIFICATE\nthis.connection = connectionFactory.createConnection(); // connection creation\nsession = connection.createSession(false, Session.CLIENT_ACKNOWLEDGE); // session creation using client acknowledge\n</code></pre>\n<p>Using MessageListener to listen the queue</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyListener implements MessageListener \n\n    public void onMessage(Message message) // receive the message and process\n    { \n        /* in this method validating the message (poison message) \n         * and publish to kafka, once receive the success message\n         * from kafka acknowledge the message\n         */\n        message.acknowledge();\n    }\n</code></pre>\n<p>Problem : If Kafka broker went down how to do retry? We had a discussion with internal Solace team.</p>\n<p><strong>We assume</strong> that if client is not calling the <code>message.acknowledge()</code> Solace will do  the retry but internal Solace team clarified that it is using windowing mechanism, so if subsequent message is acknowledge then previous message will also acknowledged and deleted.</p>\n<p><strong>Their suggestion</strong> is to send back the NACK (negative acknowledgment) for failed message then Solace can do retry that message. How to send the NACK using Java API?</p>\n<p>What are the suggested value for <code>Max_Un_Ack_Message</code> and <code>Max_Redeliver_Count</code>?</p>\n<p>Maven Dependency for Solace:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.solacesystems&lt;/groupId&gt;\n    &lt;artifactId&gt;sol-jms&lt;/artifactId&gt;\n    &lt;version&gt;10.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","csv","parsing","opencsv"],"answers":[{"tags":[],"owner":{"account_id":3202753,"reputation":6346,"user_id":2704500,"accept_rate":50,"display_name":"pandaadb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1542296699,"creation_date":1542296699,"answer_id":53323034,"question_id":53308962,"body_markdown":"This seems a bit odd, you are trying to push flat data into a hierarchy. You will need to do some custom processing there since your keys also do not match the model you are trying to build. I have made an example on how to achieve that using the `CSVReader` and Jackson&#39;s `ObjectMapper`: \r\n\r\n\r\n    public class CSVMappingTest {\r\n    \r\n        static String csv = &quot;\\&quot;id\\&quot;, \\&quot;name\\&quot;, \\&quot;monday_open_time\\&quot;, \\&quot;monday_close_time\\&quot;, \\&quot;tuesday_open_time\\&quot;, \\&quot;tuesday_close_time\\&quot;, \\&quot;wednesday_open_time\\&quot;, \\&quot;wednesday_close_time\\&quot;, \\&quot;thursday_open_time\\&quot;, \\&quot;thrusday_close_time\\&quot;, \\&quot;friday_open_time\\&quot;, \\&quot;friday_close_time\\&quot;\\n&quot; + \r\n                &quot;1, ABCD, 07.00.00,21.00.00, 08.00.00,22.00.00, 07.00.00,21.00.00, 07.00.00,21.00.00, 07.00.00,21.00.00\\n&quot; + \r\n                &quot;2, ABCD, 08.00.00,21.00.00, 07.00.00,14.00.00, 07.00.00,21.00.00, 07.00.00,21.00.00, 07.00.00,21.00.00\\n&quot; + \r\n                &quot;3, ABCD, 07.00.00,21.00.00, 10.00.00,13.00.00, 07.00.00,21.00.00, 07.00.00,21.00.00, 07.00.00,21.00.00\\n&quot; + \r\n                &quot;4, ABCD, 09.00.00,21.00.00, 11.00.00,20.00.00, 07.00.00,21.00.00, 07.00.00,21.00.00, 07.00.00,21.00.00&quot;;\r\n        \r\n        public static void main(String[] args) throws IOException {\r\n            CSVReader reader = new CSVReader(new StringReader(csv));\r\n            ObjectMapper mapper = new ObjectMapper();\r\n            \r\n            String[] keys = reader.readNext(); // headers\r\n            String[] values = reader.readNext();\r\n            while(values != null) {\r\n                Student convertValue = mapper.convertValue(csvToMap(keys, values), Student.class);\r\n                System.err.println(mapper.writeValueAsString(convertValue));\r\n                values = reader.readNext();\r\n            }\r\n        }\r\n        \r\n        public static Map&lt;String, String&gt; csvToMap(final String[] headers, final String[] vals) {\r\n            if(headers == null || vals == null) {\r\n                throw new NullPointerException(&quot;Empty input for csv to map&quot;);\r\n            }\r\n            if(headers.length != vals.length) { \r\n                throw new IllegalArgumentException(&quot;Header and value count do not match for csv to map&quot;);\r\n            }\r\n            Map&lt;String, String&gt; res = new HashMap&lt;&gt;();\r\n            IntStream.range(0, vals.length).forEach( i -&gt; res.put(headers[i], vals[i]));\r\n            return res;\r\n        }\r\n        \r\n        public static class Student { \r\n            @JsonProperty(&quot;id&quot;)\r\n            String id;\r\n            @JsonProperty(&quot;name&quot;)\r\n            String name;\r\n            @JsonProperty\r\n            Map&lt;String, String&gt; studentTimings = new HashMap&lt;&gt;();\r\n            \r\n            @JsonAnySetter\r\n            public void setTime(String key, String value) { \r\n                studentTimings.put(key, value);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nExplanations: \r\n\r\nI only use the `CSVReader` to retrieve a row. \r\n\r\nI then use a `csvToMap` to create a mapping of header-value.\r\n\r\nI then use the convertion method on jackson to auto-create the bean i want. \r\n\r\nThe important bit is here: \r\n\r\n\r\n        @JsonAnySetter\r\n        public void setTime(String key, String value) { \r\n            studentTimings.put(key, value);\r\n        }\r\n\r\n\r\nThis tells jackson that any property not directly wrapped will be send here. \r\nThis is where you would process your times and manually group them into whatever buckets you want. I do not see any other alternative since your flat input does not match the properties you are trying to create. \r\n\r\nNeither OpenCSV nor Jackson are processors. They are not responsible for transforming your data, their purpose is as simple as &quot;find the key and call the setter&quot;. You can use custom serialiser of any form in order to tell it how to create the objects you want, but the default is as simple as the statement above. \r\n\r\nI am sure there is an OpenCSV method for this as well, however I don&#39;t know it :) \r\n\r\nI hope that helps, \r\n\r\nArtur \r\n\r\nP.s. i did not copy your entire model but rather just pushed the values into a map. The output of my parsing would then be for example: \r\n\r\n    {\r\n      &quot;id&quot;: &quot;3&quot;,\r\n      &quot;name&quot;: &quot; ABCD&quot;,\r\n      &quot;studentTimings&quot;: {\r\n        &quot;friday_close_time&quot;: &quot;21.00.00&quot;,\r\n        &quot;friday_open_time&quot;: &quot; 07.00.00&quot;,\r\n        &quot;monday_close_time&quot;: &quot;21.00.00&quot;,\r\n        &quot;monday_open_time&quot;: &quot; 07.00.00&quot;,\r\n        &quot;thrusday_close_time&quot;: &quot;21.00.00&quot;,\r\n        &quot;thursday_open_time&quot;: &quot; 07.00.00&quot;,\r\n        &quot;tuesday_close_time&quot;: &quot;13.00.00&quot;,\r\n        &quot;tuesday_open_time&quot;: &quot; 10.00.00&quot;,\r\n        &quot;wednesday_close_time&quot;: &quot;21.00.00&quot;,\r\n        &quot;wednesday_open_time&quot;: &quot; 07.00.00&quot;\r\n      }\r\n    }\r\n\r\n","title":"How to convert csv to nested beans using OpenCSV or any other library?","body":"<p>This seems a bit odd, you are trying to push flat data into a hierarchy. You will need to do some custom processing there since your keys also do not match the model you are trying to build. I have made an example on how to achieve that using the <code>CSVReader</code> and Jackson's <code>ObjectMapper</code>: </p>\n\n<pre><code>public class CSVMappingTest {\n\n    static String csv = \"\\\"id\\\", \\\"name\\\", \\\"monday_open_time\\\", \\\"monday_close_time\\\", \\\"tuesday_open_time\\\", \\\"tuesday_close_time\\\", \\\"wednesday_open_time\\\", \\\"wednesday_close_time\\\", \\\"thursday_open_time\\\", \\\"thrusday_close_time\\\", \\\"friday_open_time\\\", \\\"friday_close_time\\\"\\n\" + \n            \"1, ABCD, 07.00.00,21.00.00, 08.00.00,22.00.00, 07.00.00,21.00.00, 07.00.00,21.00.00, 07.00.00,21.00.00\\n\" + \n            \"2, ABCD, 08.00.00,21.00.00, 07.00.00,14.00.00, 07.00.00,21.00.00, 07.00.00,21.00.00, 07.00.00,21.00.00\\n\" + \n            \"3, ABCD, 07.00.00,21.00.00, 10.00.00,13.00.00, 07.00.00,21.00.00, 07.00.00,21.00.00, 07.00.00,21.00.00\\n\" + \n            \"4, ABCD, 09.00.00,21.00.00, 11.00.00,20.00.00, 07.00.00,21.00.00, 07.00.00,21.00.00, 07.00.00,21.00.00\";\n\n    public static void main(String[] args) throws IOException {\n        CSVReader reader = new CSVReader(new StringReader(csv));\n        ObjectMapper mapper = new ObjectMapper();\n\n        String[] keys = reader.readNext(); // headers\n        String[] values = reader.readNext();\n        while(values != null) {\n            Student convertValue = mapper.convertValue(csvToMap(keys, values), Student.class);\n            System.err.println(mapper.writeValueAsString(convertValue));\n            values = reader.readNext();\n        }\n    }\n\n    public static Map&lt;String, String&gt; csvToMap(final String[] headers, final String[] vals) {\n        if(headers == null || vals == null) {\n            throw new NullPointerException(\"Empty input for csv to map\");\n        }\n        if(headers.length != vals.length) { \n            throw new IllegalArgumentException(\"Header and value count do not match for csv to map\");\n        }\n        Map&lt;String, String&gt; res = new HashMap&lt;&gt;();\n        IntStream.range(0, vals.length).forEach( i -&gt; res.put(headers[i], vals[i]));\n        return res;\n    }\n\n    public static class Student { \n        @JsonProperty(\"id\")\n        String id;\n        @JsonProperty(\"name\")\n        String name;\n        @JsonProperty\n        Map&lt;String, String&gt; studentTimings = new HashMap&lt;&gt;();\n\n        @JsonAnySetter\n        public void setTime(String key, String value) { \n            studentTimings.put(key, value);\n        }\n    }\n}\n</code></pre>\n\n<p>Explanations: </p>\n\n<p>I only use the <code>CSVReader</code> to retrieve a row. </p>\n\n<p>I then use a <code>csvToMap</code> to create a mapping of header-value.</p>\n\n<p>I then use the convertion method on jackson to auto-create the bean i want. </p>\n\n<p>The important bit is here: </p>\n\n<pre><code>    @JsonAnySetter\n    public void setTime(String key, String value) { \n        studentTimings.put(key, value);\n    }\n</code></pre>\n\n<p>This tells jackson that any property not directly wrapped will be send here. \nThis is where you would process your times and manually group them into whatever buckets you want. I do not see any other alternative since your flat input does not match the properties you are trying to create. </p>\n\n<p>Neither OpenCSV nor Jackson are processors. They are not responsible for transforming your data, their purpose is as simple as \"find the key and call the setter\". You can use custom serialiser of any form in order to tell it how to create the objects you want, but the default is as simple as the statement above. </p>\n\n<p>I am sure there is an OpenCSV method for this as well, however I don't know it :) </p>\n\n<p>I hope that helps, </p>\n\n<p>Artur </p>\n\n<p>P.s. i did not copy your entire model but rather just pushed the values into a map. The output of my parsing would then be for example: </p>\n\n<pre><code>{\n  \"id\": \"3\",\n  \"name\": \" ABCD\",\n  \"studentTimings\": {\n    \"friday_close_time\": \"21.00.00\",\n    \"friday_open_time\": \" 07.00.00\",\n    \"monday_close_time\": \"21.00.00\",\n    \"monday_open_time\": \" 07.00.00\",\n    \"thrusday_close_time\": \"21.00.00\",\n    \"thursday_open_time\": \" 07.00.00\",\n    \"tuesday_close_time\": \"13.00.00\",\n    \"tuesday_open_time\": \" 10.00.00\",\n    \"wednesday_close_time\": \"21.00.00\",\n    \"wednesday_open_time\": \" 07.00.00\"\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5549908,"reputation":90,"user_id":4403381,"accept_rate":0,"display_name":"Mohsin Khan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1542300569,"creation_date":1542300569,"answer_id":53324255,"question_id":53308962,"body_markdown":"&gt;     BufferedReader br = null;\r\n&gt;     List&lt;Student&gt; objLst = new ArrayList&lt;Student&gt;();\r\n&gt;     InputStreamReader inStreamReader = null;\r\n&gt;     inStreamReader = new \r\n&gt;     InputStreamReader(ReadAccountsUtil.class.getClassLoader().getResourceAsStream(&quot;someFile.csv&quot;));\r\n&gt;     CsvReader csvReader = new CsvReader(inStreamReader);\r\n&gt;     String objStr[] = {};\r\n&gt;     JavaPojoClass id = new Id();\r\n&gt; \r\n&gt;         try {\r\n&gt;             while (csvReader.readRecord()) {\r\n&gt; \r\n&gt;                 objStr = csvReader.getRawRecord().split(&quot;,&quot;);\r\n&gt;                 student = new Student();\r\n&gt;                 student.setRollNo(new Short(objStr[0]));\r\n&gt;                 student.setName(new String(objStr[1]));\r\n&gt;                 student.setAdd(new String(objStr[2]));\r\n&gt;                 student.setEmail(new String(objStr[3]));\r\n&gt;                 objLst.add(student);\r\n&gt;             }\r\n&gt;         } catch (Exception ex) {\r\n&gt;             if(inStreamReader != null){\r\n&gt;                 try {\r\n&gt;                     inStreamReader.close();\r\n&gt;                 } catch (IOException e) {\r\n&gt;                     LOGGER.error(&quot;Error in closing the input streams&quot;+ e.getMessage());\r\n&gt;                 }\r\n&gt;             }\r\n&gt;             LOGGER.error(&quot;Error in reading the Student file&quot;+ ex.getMessage());\r\n&gt;         }\r\n&gt;         return objLst;\r\n&gt;     }","title":"How to convert csv to nested beans using OpenCSV or any other library?","body":"<blockquote>\n<pre><code>BufferedReader br = null;\nList&lt;Student&gt; objLst = new ArrayList&lt;Student&gt;();\nInputStreamReader inStreamReader = null;\ninStreamReader = new \nInputStreamReader(ReadAccountsUtil.class.getClassLoader().getResourceAsStream(\"someFile.csv\"));\nCsvReader csvReader = new CsvReader(inStreamReader);\nString objStr[] = {};\nJavaPojoClass id = new Id();\n\n    try {\n        while (csvReader.readRecord()) {\n\n            objStr = csvReader.getRawRecord().split(\",\");\n            student = new Student();\n            student.setRollNo(new Short(objStr[0]));\n            student.setName(new String(objStr[1]));\n            student.setAdd(new String(objStr[2]));\n            student.setEmail(new String(objStr[3]));\n            objLst.add(student);\n        }\n    } catch (Exception ex) {\n        if(inStreamReader != null){\n            try {\n                inStreamReader.close();\n            } catch (IOException e) {\n                LOGGER.error(\"Error in closing the input streams\"+ e.getMessage());\n            }\n        }\n        LOGGER.error(\"Error in reading the Student file\"+ ex.getMessage());\n    }\n    return objLst;\n}\n</code></pre>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":17804992,"reputation":307,"user_id":12930883,"display_name":"RED-ONE"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632919708,"creation_date":1632916179,"answer_id":69375795,"question_id":53308962,"body_markdown":"     public static void main(String[] args) throws IOException{\r\n     String fileName = &quot;c:\\\\test.csv&quot;;\r\n     char separator = &#39;;&#39;;\r\n\r\n     List&lt;TestDTO&gt; obj= new CsvToBeanBuilder(new \r\n     FileReader(fileName)).withSeparator(separator)\r\n                    .withType(TestDTO.class)\r\n                    .build()\r\n                    .parse();\r\n\r\n            obj.forEach(System.out::println);\r\n\r\n    }\r\n\r\n\r\n    import com.opencsv.bean.CsvBindByName;\r\n    import lombok.*;\r\n\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @ToString\r\n\r\n    public class TestDTO {\r\n      @CsvBindByName(column = &quot;EXTERNAL_ID&quot;)\r\n      private String externalId;\r\n      @CsvBindByName(column = &quot;ID_TYPE&quot;)\r\n      private String idType;\r\n      @CsvBindByName(column = &quot;STUDY_ID&quot;)\r\n      private String studyId;\r\n      @CsvBindByName(column = &quot;STUDY_NAME&quot;)\r\n      private String studyName;\r\n   }\r\n\r\n&gt; pom.xml\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.opencsv&lt;/groupId&gt;\r\n      &lt;artifactId&gt;opencsv&lt;/artifactId&gt;\r\n      &lt;version&gt;5.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nFor more details, please visit [openscv][1]\r\n\r\n\r\n  [1]: http://opencsv.sourceforge.net/#reading_into_beans","title":"How to convert csv to nested beans using OpenCSV or any other library?","body":"<pre><code> public static void main(String[] args) throws IOException{\n String fileName = &quot;c:\\\\test.csv&quot;;\n char separator = ';';\n\n List&lt;TestDTO&gt; obj= new CsvToBeanBuilder(new \n FileReader(fileName)).withSeparator(separator)\n                .withType(TestDTO.class)\n                .build()\n                .parse();\n\n        obj.forEach(System.out::println);\n\n}\n\n\nimport com.opencsv.bean.CsvBindByName;\nimport lombok.*;\n\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@ToString\n\npublic class TestDTO {\n  @CsvBindByName(column = &quot;EXTERNAL_ID&quot;)\n  private String externalId;\n  @CsvBindByName(column = &quot;ID_TYPE&quot;)\n  private String idType;\n  @CsvBindByName(column = &quot;STUDY_ID&quot;)\n  private String studyId;\n  @CsvBindByName(column = &quot;STUDY_NAME&quot;)\n  private String studyName;\n</code></pre>\n<p>}</p>\n<blockquote>\n<p>pom.xml</p>\n</blockquote>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.opencsv&lt;/groupId&gt;\n  &lt;artifactId&gt;opencsv&lt;/artifactId&gt;\n  &lt;version&gt;5.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>For more details, please visit <a href=\"http://opencsv.sourceforge.net/#reading_into_beans\" rel=\"nofollow noreferrer\">openscv</a></p>\n"}],"owner":{"account_id":11629183,"reputation":61,"user_id":8518005,"display_name":"javatechguy_11232"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1632923819,"creation_date":1542230740,"question_id":53308962,"body_markdown":"I&#39;m making an HTTP call to get an CSV file and I&#39;m using OpenCSV to convert string equivalent of CSV file to plain old java object. I have skipped the logic to make http call to fetch csv since it had sensitive information. The converted Student object from the below code has null values for &quot;collegeTiming&quot; property. How to map this value from CSV ? Can someone please suggest? Thanks in advance!\r\n\r\nPFB my dependency in pom.xml\r\n\r\n\r\n    \t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.opencsv&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;opencsv&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\nMy Input CSV\r\n\r\n    &quot;id&quot;, &quot;name&quot;, &quot;monday_open_time&quot;, &quot;monday_close_time&quot;, &quot;tuesday_open_time&quot;, &quot;tuesday_close_time&quot;, &quot;wednesday_open_time&quot;, &quot;wednesday_close_time&quot;, &quot;thursday_open_time&quot;, &quot;thrusday_close_time&quot;, &quot;friday_open_time&quot;, &quot;friday_close_time&quot;\r\n    1, ABCD, 07.00.00,21.00.00, 08.00.00,22.00.00, 07.00.00,21.00.00, 07.00.00,21.00.00, 07.00.00,21.00.00\r\n    2, ABCD, 08.00.00,21.00.00, 07.00.00,14.00.00, 07.00.00,21.00.00, 07.00.00,21.00.00, 07.00.00,21.00.00\r\n    3, ABCD, 07.00.00,21.00.00, 10.00.00,13.00.00, 07.00.00,21.00.00, 07.00.00,21.00.00, 07.00.00,21.00.00\r\n    4, ABCD, 09.00.00,21.00.00, 11.00.00,20.00.00, 07.00.00,21.00.00, 07.00.00,21.00.00, 07.00.00,21.00.00\r\n\r\nI want to convert the input csv to below Student bean\r\n\r\n    {\r\n    \t&quot;id&quot; : 1,\r\n    \t&quot;name&quot;: ABC,\r\n    \t&quot;collegeTime&quot; : { \r\n    \t\t\t\t\t\t&quot;monday&quot;:[ 07.00.00, 21.00.00 ], \r\n    \t\t\t\t\t\t&quot;tuesday&quot;:[ 08.00.00, 22.00.00 ], \r\n    \t\t\t\t\t\t&quot;wednesday&quot;:[ 07.00.00, 21.00.00 ], \r\n    \t\t\t\t\t\t&quot;thrusday&quot;:[ 07.00.00, 21.00.00 ], \r\n    \t\t\t\t\t\t&quot;friday&quot;:[ 07.00.00, 21.00.00 ], \r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\r\n    }\r\n\r\nStudent.java\r\n\r\n\r\n    import java.util.List;\r\n    import com.fasterxml.jackson.annotation.JsonProperty;\r\n    import com.opencsv.bean.CsvBindByName;\r\n\r\n    public class Student {\r\n\t@CsvBindByName\r\n\t@JsonProperty(&quot;id&quot;)\r\n\tprivate String id;\r\n\t@JsonProperty(&quot;name&quot;)\r\n\t@CsvBindByName\r\n\tprivate String name;\r\n\t@JsonProperty(&quot;collegeTiming&quot;)\r\n\tprivate List&lt;CollegeTiming&gt; collegeTimings;\r\n\r\n\tpublic String getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic void setId(String id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n\r\n\tpublic void setName(String name) {\r\n\t\tthis.name = name;\r\n\t}\r\n\r\n\tpublic List&lt;CollegeTiming&gt; getCollegeTimings() {\r\n\t\treturn collegeTimings;\r\n\t}\r\n\r\n\tpublic void setCollegeTimings(List&lt;CollegeTiming&gt; collegeTimings) {\r\n\t\tthis.collegeTimings = collegeTimings;\r\n\t}\r\n\t}\r\n\r\nCollegeTiming.java\r\n    \r\n    import com.fasterxml.jackson.annotation.JsonProperty;\r\n\r\n    public class CollegeTiming {\r\n\t@JsonProperty(&quot;collegeTime&quot;)\t\r\n\tprivate CollegeTime collegeTime;\r\n\r\n\tpublic CollegeTime getCollegeTime() {\r\n\t\treturn collegeTime;\r\n\t}\r\n\r\n\tpublic void setCollegeTime(CollegeTime collegeTime) {\r\n\t\tthis.collegeTime = collegeTime;\r\n\t}\r\n    }\r\n\r\n\r\nCollegeTime.java\r\n\r\n    public class CollegeTime {\r\n\tprivate String day;\r\n\tprivate String startTime;\r\n\tprivate String endTime;\r\n\r\n\tpublic String getStartTime() {\r\n\t\treturn startTime;\r\n\t}\r\n\r\n\tpublic void setStartTime(String startTime) {\r\n\t\tthis.startTime = startTime;\r\n\t}\r\n\r\n\tpublic String getEndTime() {\r\n\t\treturn endTime;\r\n\t}\r\n\r\n\tpublic void setEndTime(String endTime) {\r\n\t\tthis.endTime = endTime;\r\n\t}\t\r\n\t\r\n    }\r\n\r\n\r\n\r\n//Converting csv to Student object using OpenCSV. \r\nNote: csvAsString is string representation of csv file (I made a HTTP call to fetch this information. \r\n    \r\n     HeaderColumnNameMappingStrategy&lt;Student&gt; strategy = new HeaderColumnNameMappingStrategy&lt;&gt;();\r\n\t\tstrategy.setType(Student.class);\r\n\r\n    CsvToBean&lt;Student&gt; csvToBean = new CsvToBeanBuilder&lt;Student&gt;(new StringReader(csvAsString))\r\n                 .withType(Student.class)\r\n                 .withMappingStrategy(strategy)\r\n                 .withIgnoreLeadingWhiteSpace(true)\r\n                 .build();\r\n\r\n     List&lt;Student&gt; = = csvToBean.parse();\r\n\r\n\r\nWhen I print the Student object, null is getting printed for &quot;collegeTiming&quot; property of Student object. How to map the csv file to nested object (CollegeTime) ?\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to convert csv to nested beans using OpenCSV or any other library?","body":"<p>I'm making an HTTP call to get an CSV file and I'm using OpenCSV to convert string equivalent of CSV file to plain old java object. I have skipped the logic to make http call to fetch csv since it had sensitive information. The converted Student object from the below code has null values for \"collegeTiming\" property. How to map this value from CSV ? Can someone please suggest? Thanks in advance!</p>\n\n<p>PFB my dependency in pom.xml</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.opencsv&lt;/groupId&gt;\n        &lt;artifactId&gt;opencsv&lt;/artifactId&gt;\n        &lt;version&gt;4.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>My Input CSV</p>\n\n<pre><code>\"id\", \"name\", \"monday_open_time\", \"monday_close_time\", \"tuesday_open_time\", \"tuesday_close_time\", \"wednesday_open_time\", \"wednesday_close_time\", \"thursday_open_time\", \"thrusday_close_time\", \"friday_open_time\", \"friday_close_time\"\n1, ABCD, 07.00.00,21.00.00, 08.00.00,22.00.00, 07.00.00,21.00.00, 07.00.00,21.00.00, 07.00.00,21.00.00\n2, ABCD, 08.00.00,21.00.00, 07.00.00,14.00.00, 07.00.00,21.00.00, 07.00.00,21.00.00, 07.00.00,21.00.00\n3, ABCD, 07.00.00,21.00.00, 10.00.00,13.00.00, 07.00.00,21.00.00, 07.00.00,21.00.00, 07.00.00,21.00.00\n4, ABCD, 09.00.00,21.00.00, 11.00.00,20.00.00, 07.00.00,21.00.00, 07.00.00,21.00.00, 07.00.00,21.00.00\n</code></pre>\n\n<p>I want to convert the input csv to below Student bean</p>\n\n<pre><code>{\n    \"id\" : 1,\n    \"name\": ABC,\n    \"collegeTime\" : { \n                        \"monday\":[ 07.00.00, 21.00.00 ], \n                        \"tuesday\":[ 08.00.00, 22.00.00 ], \n                        \"wednesday\":[ 07.00.00, 21.00.00 ], \n                        \"thrusday\":[ 07.00.00, 21.00.00 ], \n                        \"friday\":[ 07.00.00, 21.00.00 ], \n                        }\n\n}\n</code></pre>\n\n<p>Student.java</p>\n\n<pre><code>import java.util.List;\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport com.opencsv.bean.CsvBindByName;\n\npublic class Student {\n@CsvBindByName\n@JsonProperty(\"id\")\nprivate String id;\n@JsonProperty(\"name\")\n@CsvBindByName\nprivate String name;\n@JsonProperty(\"collegeTiming\")\nprivate List&lt;CollegeTiming&gt; collegeTimings;\n\npublic String getId() {\n    return id;\n}\n\npublic void setId(String id) {\n    this.id = id;\n}\n\npublic String getName() {\n    return name;\n}\n\npublic void setName(String name) {\n    this.name = name;\n}\n\npublic List&lt;CollegeTiming&gt; getCollegeTimings() {\n    return collegeTimings;\n}\n\npublic void setCollegeTimings(List&lt;CollegeTiming&gt; collegeTimings) {\n    this.collegeTimings = collegeTimings;\n}\n}\n</code></pre>\n\n<p>CollegeTiming.java</p>\n\n<pre><code>import com.fasterxml.jackson.annotation.JsonProperty;\n\npublic class CollegeTiming {\n@JsonProperty(\"collegeTime\")    \nprivate CollegeTime collegeTime;\n\npublic CollegeTime getCollegeTime() {\n    return collegeTime;\n}\n\npublic void setCollegeTime(CollegeTime collegeTime) {\n    this.collegeTime = collegeTime;\n}\n}\n</code></pre>\n\n<p>CollegeTime.java</p>\n\n<pre><code>public class CollegeTime {\nprivate String day;\nprivate String startTime;\nprivate String endTime;\n\npublic String getStartTime() {\n    return startTime;\n}\n\npublic void setStartTime(String startTime) {\n    this.startTime = startTime;\n}\n\npublic String getEndTime() {\n    return endTime;\n}\n\npublic void setEndTime(String endTime) {\n    this.endTime = endTime;\n}   \n\n}\n</code></pre>\n\n<p>//Converting csv to Student object using OpenCSV. \nNote: csvAsString is string representation of csv file (I made a HTTP call to fetch this information. </p>\n\n<pre><code> HeaderColumnNameMappingStrategy&lt;Student&gt; strategy = new HeaderColumnNameMappingStrategy&lt;&gt;();\n    strategy.setType(Student.class);\n\nCsvToBean&lt;Student&gt; csvToBean = new CsvToBeanBuilder&lt;Student&gt;(new StringReader(csvAsString))\n             .withType(Student.class)\n             .withMappingStrategy(strategy)\n             .withIgnoreLeadingWhiteSpace(true)\n             .build();\n\n List&lt;Student&gt; = = csvToBean.parse();\n</code></pre>\n\n<p>When I print the Student object, null is getting printed for \"collegeTiming\" property of Student object. How to map the csv file to nested object (CollegeTime) ?</p>\n"},{"tags":["java","apache-camel","openjdk-11"],"answers":[{"tags":[],"owner":{"account_id":176018,"reputation":56316,"user_id":406429,"display_name":"Claus Ibsen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1632923532,"creation_date":1632923532,"answer_id":69377766,"question_id":69371941,"body_markdown":"You can see here what JDK version Camel supports\r\nhttps://camel.apache.org/manual/latest/what-are-the-dependencies.html\r\n\r\nCamel 2.x only supports Java 8.\r\nYou need Camel 3.x for Java 11 support.","title":"Apache Camel 2.20.2 compatibility with JDK 11","body":"<p>You can see here what JDK version Camel supports\n<a href=\"https://camel.apache.org/manual/latest/what-are-the-dependencies.html\" rel=\"nofollow noreferrer\">https://camel.apache.org/manual/latest/what-are-the-dependencies.html</a></p>\n<p>Camel 2.x only supports Java 8.\nYou need Camel 3.x for Java 11 support.</p>\n"}],"owner":{"account_id":7400444,"reputation":23,"user_id":5631072,"display_name":"Shubham Rathi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1311,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69377766,"answer_count":1,"score":-1,"last_activity_date":1632923532,"creation_date":1632899719,"question_id":69371941,"body_markdown":"I&#39;m working on Oracle JDK 8 to AdoptOpenJDK 11 migration. We are also using ```Apache Camel 2.20.2```. After JDK migration, I&#39;m facing below issues in Camel Context XML file.\r\n\r\n[not able to recognize exchangePattern parameter][1]\r\n\r\n[enum value not permissible][2]\r\n\r\nEven after having above issues, sometimes my application runs successfully and sometimes it gives error that it is not able to create spring bean. While creating below bean it says trustAllPackages is not a valid parameter which I know is not actually causing the issue. \r\n\r\n[bean creation][3]\r\n\r\nI think the issue is somewhat related to the errors in XML file. My question is:\r\n\r\n 1. Is Camel 2.20.2 compatible with JDK 11? If not, are above errors result of this incompatibility?\r\n 2. How to resolve these errors and why isn&#39;t this causing issue every time I run my application?\r\n\r\nCurrently we are using :\r\n\r\n - AdoptOpenJDK 11\r\n - Spring 4.3.11.RELEASE\r\n - Camel 2.20.2\r\n - ActiveMQ 5.15.0\r\n - Maven Build Tool\r\n\r\nThanks in advance.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CtlEv.png\r\n  [2]: https://i.stack.imgur.com/oEmko.png\r\n  [3]: https://i.stack.imgur.com/DWQla.png","title":"Apache Camel 2.20.2 compatibility with JDK 11","body":"<p>I'm working on Oracle JDK 8 to AdoptOpenJDK 11 migration. We are also using <code>Apache Camel 2.20.2</code>. After JDK migration, I'm facing below issues in Camel Context XML file.</p>\n<p><a href=\"https://i.stack.imgur.com/CtlEv.png\" rel=\"nofollow noreferrer\">not able to recognize exchangePattern parameter</a></p>\n<p><a href=\"https://i.stack.imgur.com/oEmko.png\" rel=\"nofollow noreferrer\">enum value not permissible</a></p>\n<p>Even after having above issues, sometimes my application runs successfully and sometimes it gives error that it is not able to create spring bean. While creating below bean it says trustAllPackages is not a valid parameter which I know is not actually causing the issue.</p>\n<p><a href=\"https://i.stack.imgur.com/DWQla.png\" rel=\"nofollow noreferrer\">bean creation</a></p>\n<p>I think the issue is somewhat related to the errors in XML file. My question is:</p>\n<ol>\n<li>Is Camel 2.20.2 compatible with JDK 11? If not, are above errors result of this incompatibility?</li>\n<li>How to resolve these errors and why isn't this causing issue every time I run my application?</li>\n</ol>\n<p>Currently we are using :</p>\n<ul>\n<li>AdoptOpenJDK 11</li>\n<li>Spring 4.3.11.RELEASE</li>\n<li>Camel 2.20.2</li>\n<li>ActiveMQ 5.15.0</li>\n<li>Maven Build Tool</li>\n</ul>\n<p>Thanks in advance.</p>\n"},{"tags":["java","apache-spark","dataset","filtering","apache-spark-dataset"],"answers":[{"tags":[],"owner":{"account_id":10559728,"reputation":686,"user_id":7779865,"display_name":"Artem Astashov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1632318399,"creation_date":1632318399,"answer_id":69285557,"question_id":69284428,"body_markdown":"You can just filter them:\r\n\r\n```java\r\n\r\nfilitered_ds = dataset.where(!col(&quot;nameColumn&quot;).rlike(&quot;[^\\p{ASCII}]&quot;))\r\n\r\n```\r\n","title":"How to filter a Column and delete a Row in Dataset Spark using Java","body":"<p>You can just filter them:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nfilitered_ds = dataset.where(!col(&quot;nameColumn&quot;).rlike(&quot;[^\\p{ASCII}]&quot;))\n\n</code></pre>\n"}],"owner":{"account_id":22503567,"reputation":3,"user_id":16699544,"display_name":"Leone Pizzoli"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":422,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69285557,"answer_count":1,"score":0,"last_activity_date":1632923368,"creation_date":1632314411,"question_id":69284428,"body_markdown":"I need to filter a Dataset searching for Special Characters and remove the row where it was found.\r\nI tried to replace the special character with &quot; &quot;, but it doesn&#39;t worked either.\r\n\r\n    Dataset&lt;row&gt; dataset;\r\n    dataset.withColumn(&quot;nameColumn&quot;, function.regex_replace(dataset.col(&quot;nameColumn&quot;), &quot;[^\\\\p{ASCII}]&quot;, &quot;&quot;)); ","title":"How to filter a Column and delete a Row in Dataset Spark using Java","body":"<p>I need to filter a Dataset searching for Special Characters and remove the row where it was found.\nI tried to replace the special character with &quot; &quot;, but it doesn't worked either.</p>\n<pre><code>Dataset&lt;row&gt; dataset;\ndataset.withColumn(&quot;nameColumn&quot;, function.regex_replace(dataset.col(&quot;nameColumn&quot;), &quot;[^\\\\p{ASCII}]&quot;, &quot;&quot;)); \n</code></pre>\n"},{"tags":["java","encryption","hashmap"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1632306707,"post_id":69282182,"comment_id":122454811,"body_markdown":"A `Map` in Java consists of key-value pairs, can you imagine a way to use it in order to map one character to another one?","body":"A <code>Map</code> in Java consists of key-value pairs, can you imagine a way to use it in order to map one character to another one?"},{"owner":{"account_id":8896210,"reputation":37,"user_id":6641184,"display_name":"electricnerd"},"score":0,"creation_date":1632307616,"post_id":69282182,"comment_id":122455191,"body_markdown":"that&#39;s what I&#39;m trying to do in the putifAbsent statement, but it doesn&#39;t seem to be working and I can&#39;t figure out why. It&#39;s supposed to iterate through the alphabet character array I&#39;ve made and assign each character in the message to a value in that array.","body":"that&#39;s what I&#39;m trying to do in the putifAbsent statement, but it doesn&#39;t seem to be working and I can&#39;t figure out why. It&#39;s supposed to iterate through the alphabet character array I&#39;ve made and assign each character in the message to a value in that array."},{"owner":{"account_id":1006589,"reputation":551,"user_id":1020190,"display_name":"Taha"},"score":0,"creation_date":1632307794,"post_id":69282182,"comment_id":122455257,"body_markdown":"First of all `String` is an immutable object. It means once you created it, you cannot change its value. So operations like `toLowerCase` do not modify the String they are called on. Instead they return a new `String` instance. As clue about your problem; I would suggest looking at the second loop. Because you are iterating over a set. But your String can include same character multiple times.","body":"First of all <code>String</code> is an immutable object. It means once you created it, you cannot change its value. So operations like <code>toLowerCase</code> do not modify the String they are called on. Instead they return a new <code>String</code> instance. As clue about your problem; I would suggest looking at the second loop. Because you are iterating over a set. But your String can include same character multiple times."},{"owner":{"account_id":8896210,"reputation":37,"user_id":6641184,"display_name":"electricnerd"},"score":0,"creation_date":1632308669,"post_id":69282182,"comment_id":122455562,"body_markdown":"@deHaar sorry forgot to use the @","body":"@deHaar sorry forgot to use the @"}],"answers":[{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1632310338,"creation_date":1632309008,"answer_id":69283021,"question_id":69282182,"body_markdown":"The code seems to have 2 major issues:\r\n1. There is an attempt to remove non-alphabet characters from the input message\r\n2. The second loop is not needed at all, and the encrypted message should be built while iterating the input message as soon as the cipher character is selected.\r\n```java\r\npublic static String encrypt(String message){\r\n    StringBuilder convertedMessage = new StringBuilder();\r\n    int counter = 0;\r\n    char[] alphabet = &quot;abcdefghijklmnopqrstuvwxyz&quot;.toCharArray();\r\n\r\n    HashMap&lt;Character, Character&gt; converter = new HashMap&lt;&gt;();\r\n    // keep only lower-case English letters\r\n    message = message.replaceAll(&quot;[^A-Za-z]&quot;, &quot;&quot;).toLowerCase();\r\n\r\n    for (char i : message.toCharArray()) {\r\n        converter.putIfAbsent(i, alphabet[counter++]);\r\n        convertedMessage.append(converter.get(i));\r\n    }\r\n\r\n    return convertedMessage.toString();\r\n}\r\n\r\n// Test\r\nSystem.out.println(encrypt(&quot;Hello,World!&quot;));\r\n```\r\nOutput:\r\n```\r\nabccefehcj\r\n```\r\n-----\r\nHowever, the code above updates the counter _each time_ a character from the input message is looked up and therefore some values may be skipped. For example, `d` is skipped because `counter` is incremented for the second `l` in `hello`. Similarly, `g` is skipped for the second occurrence of `o` in `world`, etc.\r\n\r\nSo, it could make sense to use method `Map::computeIfAbsent` instead of `Map::putIfAbsent` which calls a function to modify the counter only when needed.\r\n\r\nIn this case, `counter` should be implemented as an effectively final variable because it is used in a lambda function - either as an array or `AtomicInteger`:\r\n```java\r\nint[] counter = new int[1]; // or AtomicInteger counter = new AtomicInteger();\r\n\r\nfor (char i : charMessage ) {\r\n    converter.computeIfAbsent(i, k -&gt; alphabet[counter[0]++]);\r\n// for AtomicInteger converter.computeIfAbsent(i, k -&gt; alphabet[counter.getAndIncrement()]);\r\n    convertedMessage.append(converter.get(i));\r\n}\r\n```\r\nThen the encrypted string for `Hello World!` looks like this:\r\n```\r\nabccdedfcg\r\n```\r\n","title":"How to use a hashmap to set characters equal to different characters?","body":"<p>The code seems to have 2 major issues:</p>\n<ol>\n<li>There is an attempt to remove non-alphabet characters from the input message</li>\n<li>The second loop is not needed at all, and the encrypted message should be built while iterating the input message as soon as the cipher character is selected.</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public static String encrypt(String message){\n    StringBuilder convertedMessage = new StringBuilder();\n    int counter = 0;\n    char[] alphabet = &quot;abcdefghijklmnopqrstuvwxyz&quot;.toCharArray();\n\n    HashMap&lt;Character, Character&gt; converter = new HashMap&lt;&gt;();\n    // keep only lower-case English letters\n    message = message.replaceAll(&quot;[^A-Za-z]&quot;, &quot;&quot;).toLowerCase();\n\n    for (char i : message.toCharArray()) {\n        converter.putIfAbsent(i, alphabet[counter++]);\n        convertedMessage.append(converter.get(i));\n    }\n\n    return convertedMessage.toString();\n}\n\n// Test\nSystem.out.println(encrypt(&quot;Hello,World!&quot;));\n</code></pre>\n<p>Output:</p>\n<pre><code>abccefehcj\n</code></pre>\n<hr />\n<p>However, the code above updates the counter <em>each time</em> a character from the input message is looked up and therefore some values may be skipped. For example, <code>d</code> is skipped because <code>counter</code> is incremented for the second <code>l</code> in <code>hello</code>. Similarly, <code>g</code> is skipped for the second occurrence of <code>o</code> in <code>world</code>, etc.</p>\n<p>So, it could make sense to use method <code>Map::computeIfAbsent</code> instead of <code>Map::putIfAbsent</code> which calls a function to modify the counter only when needed.</p>\n<p>In this case, <code>counter</code> should be implemented as an effectively final variable because it is used in a lambda function - either as an array or <code>AtomicInteger</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int[] counter = new int[1]; // or AtomicInteger counter = new AtomicInteger();\n\nfor (char i : charMessage ) {\n    converter.computeIfAbsent(i, k -&gt; alphabet[counter[0]++]);\n// for AtomicInteger converter.computeIfAbsent(i, k -&gt; alphabet[counter.getAndIncrement()]);\n    convertedMessage.append(converter.get(i));\n}\n</code></pre>\n<p>Then the encrypted string for <code>Hello World!</code> looks like this:</p>\n<pre><code>abccdedfcg\n</code></pre>\n"}],"owner":{"account_id":8896210,"reputation":37,"user_id":6641184,"display_name":"electricnerd"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":281,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69283021,"answer_count":1,"score":2,"last_activity_date":1632923153,"creation_date":1632305406,"question_id":69282182,"body_markdown":"For an assignment in my compsci class, I need to use hashmaps to convert a message into an encrypted message. We&#39;re told to do this by replacing all characters in a given message string with characters in a substitution alphabet that consists of lowercase letters from _a_ to _z_. Also, the substitution should be done in alphabetical order.\r\n\r\nSo for example if we&#39;re given the message &quot;hello&quot;, our cipher should map _h_ to _a_, _e_ to _b_, _l_ to _c_, and _o_ to _d_, giving us the string _abccd_. In theory, it doesn&#39;t seem that hard, but I&#39;m having a lot of trouble with the actual conversion of characters. I&#39;ve put a comment where I was intending to do the actual conversions, but so far all I&#39;m getting returned is a bunch of _a_&#39;s and _b_&#39;s put together. What am I doing wrong here? \r\n\r\nThanks in advance for any help.\r\n\r\nEDIT: Removed some redundant code thanks to @taha\r\n\r\n```\r\npublic class Encryption {\r\n    public String encrypt(String message) {\r\n        StringBuilder convertedMessage = new StringBuilder();\r\n        int counter = 0;\r\n        char[] alphabet = &quot;abcdefghijklmnopqrstuvwxyz&quot;.toCharArray();\r\n\r\n        HashMap&lt;Character, Character&gt; converter = new HashMap&lt;&gt;();\r\n        String messageholder = message.toLowerCase();\r\n        char[] charMessage = messageholder.toCharArray();\r\n\r\n        //this statement is what&#39;s giving me an aneurysm\r\n        for (char i : charMessage ) {\r\n            converter.putIfAbsent(i, alphabet[counter]);\r\n            counter++;\r\n        }\r\n\r\n        for (Character c : converter.keySet()) {\r\n            char value = converter.get(c);\r\n            convertedMessage.append(value);\r\n        }\r\n\r\n        return convertedMessage.toString();\r\n    }\r\n}\r\n```","title":"How to use a hashmap to set characters equal to different characters?","body":"<p>For an assignment in my compsci class, I need to use hashmaps to convert a message into an encrypted message. We're told to do this by replacing all characters in a given message string with characters in a substitution alphabet that consists of lowercase letters from <em>a</em> to <em>z</em>. Also, the substitution should be done in alphabetical order.</p>\n<p>So for example if we're given the message &quot;hello&quot;, our cipher should map <em>h</em> to <em>a</em>, <em>e</em> to <em>b</em>, <em>l</em> to <em>c</em>, and <em>o</em> to <em>d</em>, giving us the string <em>abccd</em>. In theory, it doesn't seem that hard, but I'm having a lot of trouble with the actual conversion of characters. I've put a comment where I was intending to do the actual conversions, but so far all I'm getting returned is a bunch of <em>a</em>'s and <em>b</em>'s put together. What am I doing wrong here?</p>\n<p>Thanks in advance for any help.</p>\n<p>EDIT: Removed some redundant code thanks to @taha</p>\n<pre><code>public class Encryption {\n    public String encrypt(String message) {\n        StringBuilder convertedMessage = new StringBuilder();\n        int counter = 0;\n        char[] alphabet = &quot;abcdefghijklmnopqrstuvwxyz&quot;.toCharArray();\n\n        HashMap&lt;Character, Character&gt; converter = new HashMap&lt;&gt;();\n        String messageholder = message.toLowerCase();\n        char[] charMessage = messageholder.toCharArray();\n\n        //this statement is what's giving me an aneurysm\n        for (char i : charMessage ) {\n            converter.putIfAbsent(i, alphabet[counter]);\n            counter++;\n        }\n\n        for (Character c : converter.keySet()) {\n            char value = converter.get(c);\n            convertedMessage.append(value);\n        }\n\n        return convertedMessage.toString();\n    }\n}\n</code></pre>\n"},{"tags":["java","ms-office","apache-poi"],"comments":[{"owner":{"account_id":113294,"reputation":54886,"user_id":298455,"accept_rate":100,"display_name":"Nishant"},"score":0,"creation_date":1294212620,"post_id":4601722,"comment_id":5056489,"body_markdown":"Can you specify the specific features that POI lack? Or that you want.","body":"Can you specify the specific features that POI lack? Or that you want."},{"owner":{"account_id":93655,"reputation":7413,"user_id":256108,"accept_rate":78,"display_name":"Nicholas"},"score":0,"creation_date":1294212704,"post_id":4601722,"comment_id":5056498,"body_markdown":"Determining file type, at least with documents, where someone may name it a Doc, but it&#39;s a DocX, poi throws a fit.","body":"Determining file type, at least with documents, where someone may name it a Doc, but it&#39;s a DocX, poi throws a fit."}],"answers":[{"tags":[],"owner":{"display_name":"user467871"},"down_vote_count":4,"up_vote_count":10,"is_accepted":true,"score":6,"last_activity_date":1294212932,"creation_date":1294212932,"answer_id":4601775,"question_id":4601722,"body_markdown":"I think POI is the best among other libraries. I don&#39;t know the reason why you don&#39;t like it\r\n\r\n[Excel .xls &amp; .xlsx][1]\r\n&gt; HSSF is the POI Project&#39;s pure Java implementation of the Excel &#39;97(-2007) file format. XSSF is the POI Project&#39;s pure Java implementation of the Excel 2007 OOXML (.xlsx) file format.\r\n\r\n[Word .doc &amp; .docx][2]\r\n\r\n&gt; HWPF is the name of our port of the Microsoft Word 97(-2007) file format to pure Java. It also provides limited read only support for the older Word 6 and Word 95 file formats.\r\nThe partner to HWPF for the new Word 2007 .docx format is XWPF. Whilst HWPF and XWPF provide similar features, there is not a common interface across the two of them at this time.\r\n\r\n\r\n\r\nanyway here are some libraries :\r\nTry [Aspose][3] and [java2word][4]\r\n\r\n\r\n  [1]: http://poi.apache.org/spreadsheet/index.html\r\n  [2]: http://poi.apache.org/hwpf/index.html\r\n  [3]: http://www.aspose.com/\r\n  [4]: http://code.google.com/p/java2word/","title":"Are there any alternatives to using Apache POI Java for Microsoft Office?","body":"<p>I think POI is the best among other libraries. I don't know the reason why you don't like it</p>\n\n<p><a href=\"http://poi.apache.org/spreadsheet/index.html\" rel=\"noreferrer\">Excel .xls &amp; .xlsx</a></p>\n\n<blockquote>\n  <p>HSSF is the POI Project's pure Java implementation of the Excel '97(-2007) file format. XSSF is the POI Project's pure Java implementation of the Excel 2007 OOXML (.xlsx) file format.</p>\n</blockquote>\n\n<p><a href=\"http://poi.apache.org/hwpf/index.html\" rel=\"noreferrer\">Word .doc &amp; .docx</a></p>\n\n<blockquote>\n  <p>HWPF is the name of our port of the Microsoft Word 97(-2007) file format to pure Java. It also provides limited read only support for the older Word 6 and Word 95 file formats.\n  The partner to HWPF for the new Word 2007 .docx format is XWPF. Whilst HWPF and XWPF provide similar features, there is not a common interface across the two of them at this time.</p>\n</blockquote>\n\n<p>anyway here are some libraries :\nTry <a href=\"http://www.aspose.com/\" rel=\"noreferrer\">Aspose</a> and <a href=\"http://code.google.com/p/java2word/\" rel=\"noreferrer\">java2word</a></p>\n"},{"tags":[],"owner":{"account_id":159566,"reputation":5418,"user_id":379039,"accept_rate":77,"display_name":"Mark D"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1374567611,"creation_date":1374567611,"answer_id":17804923,"question_id":4601722,"body_markdown":"On the Aspose.cells site they offer a comparison to its open source competitors.  \r\n\r\nhttp://www.aspose.com/docs/display/cellsjava/Aspose.Cells+for+Java+Vs+Open+Source+Competitors \r\n\r\nThey contrast with the following:\r\n\r\nJExcelAPI\r\nPOI-HSSF\r\n\r\nNot an unbiased comparison probably but...\r\n","title":"Are there any alternatives to using Apache POI Java for Microsoft Office?","body":"<p>On the Aspose.cells site they offer a comparison to its open source competitors.  </p>\n\n<p><a href=\"http://www.aspose.com/docs/display/cellsjava/Aspose.Cells+for+Java+Vs+Open+Source+Competitors\" rel=\"nofollow\">http://www.aspose.com/docs/display/cellsjava/Aspose.Cells+for+Java+Vs+Open+Source+Competitors</a> </p>\n\n<p>They contrast with the following:</p>\n\n<p>JExcelAPI\nPOI-HSSF</p>\n\n<p>Not an unbiased comparison probably but...</p>\n"},{"tags":[],"owner":{"account_id":30580,"reputation":15467,"user_id":1031689,"accept_rate":67,"display_name":"JasonPlutext"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1424222050,"creation_date":1424222050,"answer_id":28574262,"question_id":4601722,"body_markdown":"I maintain docx4j, which is a strongly typed ASL v2 library for manipulating the XML file types (docx, pptx, xlsx) via JAXB.\r\n\r\nIf you also need to deal with the legacy binary formats (doc, ppt, xls), you&#39;d need to pre-convert them to docx/pptx/xlsx before bringing docx4j to bear on them.\r\n\r\nSee more at https://stackoverflow.com/questions/15013837/apache-poi-or-docx4j-for-dealing-with-docx-documents","title":"Are there any alternatives to using Apache POI Java for Microsoft Office?","body":"<p>I maintain docx4j, which is a strongly typed ASL v2 library for manipulating the XML file types (docx, pptx, xlsx) via JAXB.</p>\n\n<p>If you also need to deal with the legacy binary formats (doc, ppt, xls), you'd need to pre-convert them to docx/pptx/xlsx before bringing docx4j to bear on them.</p>\n\n<p>See more at <a href=\"https://stackoverflow.com/questions/15013837/apache-poi-or-docx4j-for-dealing-with-docx-documents\">Apache POI or docx4j for dealing with docx documents</a></p>\n"},{"tags":[],"owner":{"account_id":1030240,"reputation":365,"user_id":1038698,"accept_rate":31,"display_name":"Fred"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626317775,"creation_date":1626317775,"answer_id":68387329,"question_id":4601722,"body_markdown":"While POI does seem to be the go to option version 5.0 has become extremely bloated.  Be prepared for your war files to be at least 10-15MB larger than with 4.x and no obvious way to build without all the cruft ","title":"Are there any alternatives to using Apache POI Java for Microsoft Office?","body":"<p>While POI does seem to be the go to option version 5.0 has become extremely bloated.  Be prepared for your war files to be at least 10-15MB larger than with 4.x and no obvious way to build without all the cruft</p>\n"},{"tags":[],"owner":{"account_id":10153453,"reputation":11,"user_id":7499251,"display_name":"user7499251"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632922649,"creation_date":1632920060,"answer_id":69376809,"question_id":4601722,"body_markdown":"For Excel, I recommand JXLS http://jxls.sourceforge.net/index.html\r\n\r\nSmall Java library to interact with Excel files.\r\n\r\nWith jxls-reader (jxls-reader-2.0.5.jar 40Kb), for example, it&#39;s as simple as specifying mapping (xml) between your Bean and an Excel file - no overkill with poi plumbing (transtyping, character encoding, etc.)\r\n\r\nNo more headache *sincerely*\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;workbook&gt;\r\n        &lt;worksheet idx=&quot;0&quot;&gt;\r\n            &lt;section startRow=&quot;0&quot; endRow=&quot;0&quot; /&gt;\r\n            &lt;loop startRow=&quot;1&quot; endRow=&quot;1&quot; items=&quot;mybeans&quot; var=&quot;mybean&quot; varType=&quot;MyBean&quot;&gt;\r\n                &lt;section startRow=&quot;1&quot; endRow=&quot;1&quot;&gt;\r\n                    &lt;mapping row=&quot;1&quot; col=&quot;0&quot;&gt;mybean.field1&lt;/mapping&gt;\r\n                    &lt;mapping row=&quot;1&quot; col=&quot;1&quot;&gt;mybean.field2&lt;/mapping&gt;\r\n                    &lt;mapping row=&quot;1&quot; col=&quot;2&quot;&gt;mybean.field3&lt;/mapping&gt;\r\n                &lt;/section&gt;\r\n                &lt;loopbreakcondition&gt;\r\n                    &lt;rowcheck offset=&quot;0&quot;&gt;\r\n                        &lt;!-- stop looping when content of cell[n,0] is empty --&gt;\r\n                        &lt;cellcheck offset=&quot;0&quot;&gt;&lt;/cellcheck&gt;\r\n                    &lt;/rowcheck&gt;\r\n                &lt;/loopbreakcondition&gt;\r\n            &lt;/loop&gt;\r\n        &lt;/worksheet&gt;\r\n    &lt;/workbook&gt;","title":"Are there any alternatives to using Apache POI Java for Microsoft Office?","body":"<p>For Excel, I recommand JXLS <a href=\"http://jxls.sourceforge.net/index.html\" rel=\"nofollow noreferrer\">http://jxls.sourceforge.net/index.html</a></p>\n<p>Small Java library to interact with Excel files.</p>\n<p>With jxls-reader (jxls-reader-2.0.5.jar 40Kb), for example, it's as simple as specifying mapping (xml) between your Bean and an Excel file - no overkill with poi plumbing (transtyping, character encoding, etc.)</p>\n<p>No more headache <em>sincerely</em></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;workbook&gt;\n    &lt;worksheet idx=&quot;0&quot;&gt;\n        &lt;section startRow=&quot;0&quot; endRow=&quot;0&quot; /&gt;\n        &lt;loop startRow=&quot;1&quot; endRow=&quot;1&quot; items=&quot;mybeans&quot; var=&quot;mybean&quot; varType=&quot;MyBean&quot;&gt;\n            &lt;section startRow=&quot;1&quot; endRow=&quot;1&quot;&gt;\n                &lt;mapping row=&quot;1&quot; col=&quot;0&quot;&gt;mybean.field1&lt;/mapping&gt;\n                &lt;mapping row=&quot;1&quot; col=&quot;1&quot;&gt;mybean.field2&lt;/mapping&gt;\n                &lt;mapping row=&quot;1&quot; col=&quot;2&quot;&gt;mybean.field3&lt;/mapping&gt;\n            &lt;/section&gt;\n            &lt;loopbreakcondition&gt;\n                &lt;rowcheck offset=&quot;0&quot;&gt;\n                    &lt;!-- stop looping when content of cell[n,0] is empty --&gt;\n                    &lt;cellcheck offset=&quot;0&quot;&gt;&lt;/cellcheck&gt;\n                &lt;/rowcheck&gt;\n            &lt;/loopbreakcondition&gt;\n        &lt;/loop&gt;\n    &lt;/worksheet&gt;\n&lt;/workbook&gt;\n</code></pre>\n"}],"owner":{"account_id":93655,"reputation":7413,"user_id":256108,"accept_rate":78,"display_name":"Nicholas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25367,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":4601775,"answer_count":5,"score":8,"last_activity_date":1632922649,"creation_date":1294212393,"question_id":4601722,"body_markdown":"I discovered Apache POI for doing a lot with MS Office programmatically in Java, but its documentation leaves me wanting, as well as a few other things. Does a better alternative exist? \r\n\r\nI thought to myself that OpenOffice.org might have something, but cannot find any concise site that would have a Library that would allow you to open and store Word, Powerpoint, Excel, or other MS Office applications through Java.\r\n\r\nDo any better alternatives exist?","title":"Are there any alternatives to using Apache POI Java for Microsoft Office?","body":"<p>I discovered Apache POI for doing a lot with MS Office programmatically in Java, but its documentation leaves me wanting, as well as a few other things. Does a better alternative exist? </p>\n\n<p>I thought to myself that OpenOffice.org might have something, but cannot find any concise site that would have a Library that would allow you to open and store Word, Powerpoint, Excel, or other MS Office applications through Java.</p>\n\n<p>Do any better alternatives exist?</p>\n"},{"tags":["java","classloader","urlclassloader"],"comments":[{"owner":{"account_id":20689108,"reputation":17578,"user_id":15273968,"display_name":"the Hutt"},"score":0,"creation_date":1632410769,"post_id":69302434,"comment_id":122490319,"body_markdown":"What is the actual value of `{URI-TO-PLUGIN-JAR}`?  This may help https://stackoverflow.com/a/738422/15273968","body":"What is the actual value of <code>{URI-TO-PLUGIN-JAR}</code>?  This may help <a href=\"https://stackoverflow.com/a/738422/15273968\">stackoverflow.com/a/738422/15273968</a>"},{"owner":{"account_id":3508628,"reputation":501,"user_id":2933553,"accept_rate":50,"display_name":"SaleemKhair"},"score":0,"creation_date":1632458030,"post_id":69302434,"comment_id":122502491,"body_markdown":"On Update 2, can you see what class loader is loading the DriverManager? And this `contextClassLoader` reference is it a product of `java.lang.Thread#getContextClassLoader()` from current thread?","body":"On Update 2, can you see what class loader is loading the DriverManager? And this <code>contextClassLoader</code> reference is it a product of <code>java.lang.Thread#getContextClassLoader()</code> from current thread?"},{"owner":{"account_id":10160016,"reputation":430,"user_id":7503790,"display_name":"Alceatraz"},"score":0,"creation_date":1632465171,"post_id":69302434,"comment_id":122504029,"body_markdown":"@SaleemKhair I update with updated3, I found something strange , As far as I know about java, Loaded class from another classloader can still working even it&#39;s URLClassLoader closed.","body":"@SaleemKhair I update with updated3, I found something strange , As far as I know about java, Loaded class from another classloader can still working even it&#39;s URLClassLoader closed."},{"owner":{"account_id":3508628,"reputation":501,"user_id":2933553,"accept_rate":50,"display_name":"SaleemKhair"},"score":1,"creation_date":1632491513,"post_id":69302434,"comment_id":122514418,"body_markdown":"A class loader looks for class in its parent first, and the parent delegates to its parent and so on, so class loaders that are siblings cannot see eachothers classes, also the `DriverManager#getDrivers()` internally validate if the caller classloader can load the class using `DriverManager#isDriverAllowed(Driver, ClassLoader)` so even if Driver is pupulated in the registration, it still might not register, that&#39;s why you get an empty list.","body":"A class loader looks for class in its parent first, and the parent delegates to its parent and so on, so class loaders that are siblings cannot see eachothers classes, also the <code>DriverManager#getDrivers()</code> internally validate if the caller classloader can load the class using <code>DriverManager#isDriverAllowed(Driver, ClassLoader)</code> so even if Driver is pupulated in the registration, it still might not register, that&#39;s why you get an empty list."},{"owner":{"account_id":10160016,"reputation":430,"user_id":7503790,"display_name":"Alceatraz"},"score":0,"creation_date":1632798091,"post_id":69302434,"comment_id":122584151,"body_markdown":"That solve my question, I debug into DriverManager, getDriver will check by getCaller and caller&#39;s Classloader. I need do some work with classloader inherit tree but that will off topic, Appreciate for that hint! Consider write an answer? @SaleemKhair","body":"That solve my question, I debug into DriverManager, getDriver will check by getCaller and caller&#39;s Classloader. I need do some work with classloader inherit tree but that will off topic, Appreciate for that hint! Consider write an answer? @SaleemKhair"}],"answers":[{"tags":[],"owner":{"account_id":3508628,"reputation":501,"user_id":2933553,"accept_rate":50,"display_name":"SaleemKhair"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1632922592,"creation_date":1632922592,"answer_id":69377505,"question_id":69302434,"body_markdown":"`ClassLoader` looks for classes in its parent first, and the parent delegates to its parent and so on. With that said, ClassLoaders that are siblings cannot see eachothers classes.\r\n\r\nAlso the method `DriverManager#getDrivers()` internally validates if the caller ClassLoader can load the class with `DriverManager#isDriverAllowed(Driver, ClassLoader)`. \r\nthis means that even if your `Driver` is added to the registration list, it is only added as an instance of `DriverInfo`, this means that it would only be loaded on demand (Lazy), and still might not register when loading is attempted, that&#39;s why you get an empty list.","title":"Load SPI class with URLClassLoader rise ClassNotFoundException","body":"<p><code>ClassLoader</code> looks for classes in its parent first, and the parent delegates to its parent and so on. With that said, ClassLoaders that are siblings cannot see eachothers classes.</p>\n<p>Also the method <code>DriverManager#getDrivers()</code> internally validates if the caller ClassLoader can load the class with <code>DriverManager#isDriverAllowed(Driver, ClassLoader)</code>.\nthis means that even if your <code>Driver</code> is added to the registration list, it is only added as an instance of <code>DriverInfo</code>, this means that it would only be loaded on demand (Lazy), and still might not register when loading is attempted, that's why you get an empty list.</p>\n"}],"owner":{"account_id":10160016,"reputation":430,"user_id":7503790,"display_name":"Alceatraz"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":233,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69377505,"answer_count":1,"score":1,"last_activity_date":1632922592,"creation_date":1632409073,"question_id":69302434,"body_markdown":"I did some research, But due to complexity of this situation, Not working for me.\r\n&gt; https://stackoverflow.com/questions/61103197/child-first-class-loader-and-service-provider-interface-spi\r\n\r\nLike flink or tomcat, My application run as framework with platform and system classloader.\r\nFramework load plugin as module and plugin may depend some lib, so make this define:\r\n```text\r\nplugin/plugin-demo.jar\r\ndepend/plugin-demo/depend-1.jar\r\ndepend/plugin-demo/depend-2.jar\r\n```\r\nframework will create two classloader like this:\r\n\r\n```java\r\nURLClassLoader dependClassloader = new URLClassLoader({URI-TO-depend-jars}, currentThreadClassLoader);\r\nURLClassLoader pluginClassloader = new URLClassLoader({URI-TO-plugin-jar},dependClassloader);\r\n```\r\n\r\nWith an HelloWorld demo this is working file ( and at first I NOT set systemClassloader as parent).\r\n\r\nBut with JDBC driver `com.mysql.cj.jdbc.Driver` which using SPI goes into trouble:\r\n\r\nEven I manual register driver:\r\n\r\n```java\r\nClass&lt;?&gt; clazz = Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;, true, pluginClassloader);\r\ncom.mysql.cj.jdbc.Driver driver = (com.mysql.cj.jdbc.Driver) clazz.getConstructor().newInstance();\r\nDriverManager.registerDriver(driver);\r\n```\r\n\r\nThis working fine, But after that:\r\n\r\n```java\r\nDriverManager.getConnection(this.hostName, this.userName, this.password)\r\n```\r\n\r\nwill rise \r\n\r\n```text\r\nCaused by: java.lang.ClassNotFoundException: com.mysql.cj.jdbc.Driver\r\n\tat java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:440)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:587)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n\t... 7 more\r\n```\r\n\r\nOr:\r\n\r\n```text\r\nCaused by: java.sql.SQLException: No suitable driver found for jdbc:mysql://localhost:3306/furryblack\r\n\tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:706)\r\n\tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:229)\r\n```\r\n\r\nI try to print all driver:\r\n\r\n```java\r\nEnumeration&lt;java.sql.Driver&gt; driverEnumeration = DriverManager.getDrivers();\r\nwhile (driverEnumeration.hasMoreElements()) {\r\n    java.sql.Driver driver = driverEnumeration.nextElement();\r\n    System.out.println(driver);\r\n}\r\n```\r\nAnd there is no driver registered.\r\n\r\n\r\nSo, Question is: why NoClassDefFoundError ?\r\n\r\n\r\nI have some guess: DriverManager run in systemclassloader but driver load in my classloader parent won&#39;t search in children, So I set currentThreadClassLoader as parent but still rise exception.\r\n\r\n# Update 1:\r\n\r\nURI-TO-depend-jars is Array of File.toURI().toURL().\r\nThis design working fine with demo, So I think it should be correct. \r\n\r\nAnd with debug, The ClassLoader parent chain is   \r\n`ModuleLoader -&gt; DependLoader`  \r\nAnd with systemclassloader is   \r\n`ModuleLoader -&gt; DependLoader -&gt; BuiltinAppClassLoader -&gt; PlatformClassLoader -&gt; JDKInternalLoader`  \r\n\r\n[![This is working fine, SpecialDepend loaded][1]][1]\r\n\r\n\r\n\r\nThis is the full code:\r\n\r\nInterface in jar 1:\r\n```java\r\npublic interface AbstractComponent {\r\n    void handle();\r\n}\r\n```\r\n\r\nPlugin in jar2 (depend jar3 in pom.xml):\r\n```java\r\npublic class Component implements AbstractComponent {\r\n\r\n    @Override\r\n    public void handle() {\r\n        System.out.println(&quot;This is component handle&quot;);\r\n        SpecialDepend.tool();\r\n    }\r\n}\r\n```\r\n\r\nDepend in jar3:\r\n```java\r\npublic class SpecialDepend {\r\n\r\n    public static void tool() {\r\n        System.out.println(&quot;This is tool&quot;);\r\n    }\r\n}\r\n```\r\n\r\nMain in jar1:\r\n```java\r\n@Test\r\npublic void test() {\r\n\r\n    String path = &quot;D:\\\\Server\\\\Classloader&quot;;\r\n\r\n    File libFile = Paths.get(path, &quot;lib&quot;, &quot;lib.jar&quot;).toFile();\r\n    File modFile = Paths.get(path, &quot;mod&quot;, &quot;mod.jar&quot;).toFile();\r\n\r\n    URLClassLoader libLoader;\r\n    try {\r\n        URL url;\r\n        url = libFile.toURI().toURL();\r\n        URL[] urls = {url};\r\n        libLoader = new URLClassLoader(urls);\r\n    } catch (MalformedURLException exception) {\r\n        throw new RuntimeException(exception);\r\n    }\r\n\r\n    URLClassLoader modLoader;\r\n    try {\r\n        URL url;\r\n        url = modFile.toURI().toURL();\r\n        URL[] urls = {url};\r\n        modLoader = new URLClassLoader(urls, libLoader);\r\n    } catch (MalformedURLException exception) {\r\n        throw new RuntimeException(exception);\r\n    }\r\n\r\n    try {\r\n        Class&lt;?&gt; clazz = Class.forName(&quot;demo.Component&quot;, true, modLoader);\r\n        if (AbstractComponent.class.isAssignableFrom(clazz)) {\r\n            AbstractComponent instance = (AbstractComponent) clazz.getConstructor().newInstance();\r\n            instance.handle();\r\n        }\r\n    } catch (ClassNotFoundException | NoSuchMethodException | InstantiationException | IllegalAccessException | InvocationTargetException exception) {\r\n        throw new RuntimeException(exception);\r\n    }\r\n}\r\n```\r\n\r\n\r\nOutput is \r\n```text\r\nThis is component handle\r\nThis is tool\r\n```\r\n\r\nThis is working perfect.\r\n\r\n\r\n# Update 2:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nI try to print more debug and some unnecessary code, Then I found, The Driver class can be found and instancelized, But the `DriverManager.registerDriver` didn&#39;t register it.\r\n\r\nSo the question become: Why DriverManager can&#39;t register driver load from sub classloader?\r\n\r\n\r\n# Update3\r\n\r\ncontextClassLoader is get from `Thread.currentThread().getContextClassLoader()` But inject by framework with `currentThread.setContextClassLoader(exclusiveClassLoader);`\r\n\r\nAs double check I print the hashcode, Its same.\r\n\r\n\r\nAnd I debug into DriverManager, Its was registered the driver into internal List but after that, getDrivers will got nothing.\r\n\r\n[![registeredDrivers has the registered element][3]][3]\r\n[![getDrivers got no driver][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CNphe.png\r\n  [2]: https://i.stack.imgur.com/r5GYM.png\r\n  [3]: https://i.stack.imgur.com/S9bla.png\r\n  [4]: https://i.stack.imgur.com/Mo6WD.png","title":"Load SPI class with URLClassLoader rise ClassNotFoundException","body":"<p>I did some research, But due to complexity of this situation, Not working for me.</p>\n<blockquote>\n<p><a href=\"https://stackoverflow.com/questions/61103197/child-first-class-loader-and-service-provider-interface-spi\">Child first class loader and Service Provider Interface (SPI)</a></p>\n</blockquote>\n<p>Like flink or tomcat, My application run as framework with platform and system classloader.\nFramework load plugin as module and plugin may depend some lib, so make this define:</p>\n<pre><code>plugin/plugin-demo.jar\ndepend/plugin-demo/depend-1.jar\ndepend/plugin-demo/depend-2.jar\n</code></pre>\n<p>framework will create two classloader like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>URLClassLoader dependClassloader = new URLClassLoader({URI-TO-depend-jars}, currentThreadClassLoader);\nURLClassLoader pluginClassloader = new URLClassLoader({URI-TO-plugin-jar},dependClassloader);\n</code></pre>\n<p>With an HelloWorld demo this is working file ( and at first I NOT set systemClassloader as parent).</p>\n<p>But with JDBC driver <code>com.mysql.cj.jdbc.Driver</code> which using SPI goes into trouble:</p>\n<p>Even I manual register driver:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Class&lt;?&gt; clazz = Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;, true, pluginClassloader);\ncom.mysql.cj.jdbc.Driver driver = (com.mysql.cj.jdbc.Driver) clazz.getConstructor().newInstance();\nDriverManager.registerDriver(driver);\n</code></pre>\n<p>This working fine, But after that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>DriverManager.getConnection(this.hostName, this.userName, this.password)\n</code></pre>\n<p>will rise</p>\n<pre><code>Caused by: java.lang.ClassNotFoundException: com.mysql.cj.jdbc.Driver\n    at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:440)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:587)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    ... 7 more\n</code></pre>\n<p>Or:</p>\n<pre><code>Caused by: java.sql.SQLException: No suitable driver found for jdbc:mysql://localhost:3306/furryblack\n    at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:706)\n    at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:229)\n</code></pre>\n<p>I try to print all driver:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Enumeration&lt;java.sql.Driver&gt; driverEnumeration = DriverManager.getDrivers();\nwhile (driverEnumeration.hasMoreElements()) {\n    java.sql.Driver driver = driverEnumeration.nextElement();\n    System.out.println(driver);\n}\n</code></pre>\n<p>And there is no driver registered.</p>\n<p>So, Question is: why NoClassDefFoundError ?</p>\n<p>I have some guess: DriverManager run in systemclassloader but driver load in my classloader parent won't search in children, So I set currentThreadClassLoader as parent but still rise exception.</p>\n<h1>Update 1:</h1>\n<p>URI-TO-depend-jars is Array of File.toURI().toURL().\nThis design working fine with demo, So I think it should be correct.</p>\n<p>And with debug, The ClassLoader parent chain is<br />\n<code>ModuleLoader -&gt; DependLoader</code><br />\nAnd with systemclassloader is<br />\n<code>ModuleLoader -&gt; DependLoader -&gt; BuiltinAppClassLoader -&gt; PlatformClassLoader -&gt; JDKInternalLoader</code></p>\n<p><a href=\"https://i.stack.imgur.com/CNphe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CNphe.png\" alt=\"This is working fine, SpecialDepend loaded\" /></a></p>\n<p>This is the full code:</p>\n<p>Interface in jar 1:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface AbstractComponent {\n    void handle();\n}\n</code></pre>\n<p>Plugin in jar2 (depend jar3 in pom.xml):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Component implements AbstractComponent {\n\n    @Override\n    public void handle() {\n        System.out.println(&quot;This is component handle&quot;);\n        SpecialDepend.tool();\n    }\n}\n</code></pre>\n<p>Depend in jar3:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SpecialDepend {\n\n    public static void tool() {\n        System.out.println(&quot;This is tool&quot;);\n    }\n}\n</code></pre>\n<p>Main in jar1:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\npublic void test() {\n\n    String path = &quot;D:\\\\Server\\\\Classloader&quot;;\n\n    File libFile = Paths.get(path, &quot;lib&quot;, &quot;lib.jar&quot;).toFile();\n    File modFile = Paths.get(path, &quot;mod&quot;, &quot;mod.jar&quot;).toFile();\n\n    URLClassLoader libLoader;\n    try {\n        URL url;\n        url = libFile.toURI().toURL();\n        URL[] urls = {url};\n        libLoader = new URLClassLoader(urls);\n    } catch (MalformedURLException exception) {\n        throw new RuntimeException(exception);\n    }\n\n    URLClassLoader modLoader;\n    try {\n        URL url;\n        url = modFile.toURI().toURL();\n        URL[] urls = {url};\n        modLoader = new URLClassLoader(urls, libLoader);\n    } catch (MalformedURLException exception) {\n        throw new RuntimeException(exception);\n    }\n\n    try {\n        Class&lt;?&gt; clazz = Class.forName(&quot;demo.Component&quot;, true, modLoader);\n        if (AbstractComponent.class.isAssignableFrom(clazz)) {\n            AbstractComponent instance = (AbstractComponent) clazz.getConstructor().newInstance();\n            instance.handle();\n        }\n    } catch (ClassNotFoundException | NoSuchMethodException | InstantiationException | IllegalAccessException | InvocationTargetException exception) {\n        throw new RuntimeException(exception);\n    }\n}\n</code></pre>\n<p>Output is</p>\n<pre><code>This is component handle\nThis is tool\n</code></pre>\n<p>This is working perfect.</p>\n<h1>Update 2:</h1>\n<p><a href=\"https://i.stack.imgur.com/r5GYM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/r5GYM.png\" alt=\"enter image description here\" /></a></p>\n<p>I try to print more debug and some unnecessary code, Then I found, The Driver class can be found and instancelized, But the <code>DriverManager.registerDriver</code> didn't register it.</p>\n<p>So the question become: Why DriverManager can't register driver load from sub classloader?</p>\n<h1>Update3</h1>\n<p>contextClassLoader is get from <code>Thread.currentThread().getContextClassLoader()</code> But inject by framework with <code>currentThread.setContextClassLoader(exclusiveClassLoader);</code></p>\n<p>As double check I print the hashcode, Its same.</p>\n<p>And I debug into DriverManager, Its was registered the driver into internal List but after that, getDrivers will got nothing.</p>\n<p><a href=\"https://i.stack.imgur.com/S9bla.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/S9bla.png\" alt=\"registeredDrivers has the registered element\" /></a>\n<a href=\"https://i.stack.imgur.com/Mo6WD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Mo6WD.png\" alt=\"getDrivers got no driver\" /></a></p>\n"},{"tags":["java","eclipse","eclipse-jdt"],"comments":[{"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1557247990,"post_id":56027203,"comment_id":98698068,"body_markdown":"You are going to really struggle to do any of that. Writing a headless Eclipse RCP which will have ResourcesPlugin set up properly is the way to go.","body":"You are going to really struggle to do any of that. Writing a headless Eclipse RCP which will have ResourcesPlugin set up properly is the way to go."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1557262959,"post_id":56027203,"comment_id":98704411,"body_markdown":"The Eclipse Java Compiler can also be used outside of Eclipse, e.g. in a plain Java application. [These Eclipse plug-in JARs are required for that](https://stackoverflow.com/a/50311348/6505250).","body":"The Eclipse Java Compiler can also be used outside of Eclipse, e.g. in a plain Java application. <a href=\"https://stackoverflow.com/a/50311348/6505250\">These Eclipse plug-in JARs are required for that</a>."},{"owner":{"account_id":32864,"reputation":9277,"user_id":91497,"accept_rate":67,"display_name":"Jmini"},"score":0,"creation_date":1579350328,"post_id":56027203,"comment_id":105741742,"body_markdown":"Have a look at my Blog Post: https://jmini.github.io/blog/2020/2020-01-17_jdt-without-eclipse.html. I am using JDT example inside JUnit tests in projects built by maven. There are 2 projects one requiring OSGi (using bnd maven plugins to achieve this) and on standalone (simple maven project).","body":"Have a look at my Blog Post: <a href=\"https://jmini.github.io/blog/2020/2020-01-17_jdt-without-eclipse.html\" rel=\"nofollow noreferrer\">jmini.github.io/blog/2020/2020-01-17_jdt-without-eclipse.htm&zwnj;&#8203;l</a>. I am using JDT example inside JUnit tests in projects built by maven. There are 2 projects one requiring OSGi (using bnd maven plugins to achieve this) and on standalone (simple maven project)."}],"answers":[{"tags":[],"owner":{"account_id":2714088,"reputation":47,"user_id":2341827,"display_name":"Damo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632922423,"creation_date":1632922423,"answer_id":69377456,"question_id":56027203,"body_markdown":"What is the specific method you need to use?\r\n\r\nYou could try:\r\n\r\n    AST ast = AST.newAST(AST.JLS16, false);\r\n    CompilationUnit unit = ast.newCompilationUnit();\r\n    \r\nthen add to the unit:\r\n\r\n    //with package:\r\n    PackageDeclaration pd = ast.newPackageDeclaration();\r\n    pd.setName(ast.newSimpleName(&quot;example&quot;));\r\n    unit.setPackage(pd);\r\n\r\n    //class:\r\n    TypeDeclaration type = ast.newTypeDeclaration();\r\n    unit.types().add(type);\r\n\r\n    //and so on..","title":"How to instantiate org.eclipse.jdt.core.ICompilationUnit or org.eclipse.core.internal.resources.Workspace?","body":"<p>What is the specific method you need to use?</p>\n<p>You could try:</p>\n<pre><code>AST ast = AST.newAST(AST.JLS16, false);\nCompilationUnit unit = ast.newCompilationUnit();\n</code></pre>\n<p>then add to the unit:</p>\n<pre><code>//with package:\nPackageDeclaration pd = ast.newPackageDeclaration();\npd.setName(ast.newSimpleName(&quot;example&quot;));\nunit.setPackage(pd);\n\n//class:\nTypeDeclaration type = ast.newTypeDeclaration();\nunit.types().add(type);\n\n//and so on..\n</code></pre>\n"}],"owner":{"account_id":15890490,"reputation":11,"user_id":11465767,"display_name":"Sibola"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":207,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1632922423,"creation_date":1557247869,"question_id":56027203,"body_markdown":"**What I am trying to do**\r\n\r\nI use the Eclipse JDT API to create the AST of some java project and manipulate it, however, my software is not an Eclipse Plug-in but it&#39;s supposed to be a stand-alone desktop application. \r\n\r\nRight now in order to use a specific method of the API, I need an instance of org.eclipse.jdt.core.ICompilationUnit. \r\nAs far as I understood this code snippet would do that:\r\n```\r\nIWorkspace workspace = ResourcesPlugin.getWorkspace(); \r\nIPath path = Path.fromOSString(stringPath);\r\nIFile file = workspace.getRoot().getFileForLocation(path);\r\nICompilationUnit compilationUnit =(ICompilationUnit)JavaCore.create(file);\r\n```\r\nThe problem is that ```ResourcesPlugin.getWorkspace()``` won&#39;t work, I __guess__ because my application is not Eclipse Plug-in. The specific Exception that is raised is the following:\r\n\r\n```\r\nCaused by: java.lang.IllegalStateException: Workspace is closed.\r\n\tat org.eclipse.core.resources.ResourcesPlugin.getWorkspace(ResourcesPlugin.java:432)\r\n```\r\n\r\n**What I need**\r\n\r\nThe solution that I would like to implement involves making the folder in which the source code is contained in an Eclipse Workspace (provisionally).\r\n\r\nTherefore, I need a way to get an instance of org.eclipse.core.internal.resources.Workspace given the path of the folder in which the source code is contained, basically:\r\n```\r\nString path = &quot;./folder/with/source/code&quot;;\r\nWorkspace workspace = pathToWorkspace(path);\r\n```\r\n\r\nN.B. btw if there is a way get an instance of an ICompilationUnit, without the need of a workspace, that also would solve my problem. \r\n\r\n**What I have tried**\r\n\r\nWhat I have tried to do is create an instance of ResourcesPlugin and make it start with the hope that through BundleContext I would be able to specify the path. Unfortunately, org.osgi.framework.BundleContext is an interface which is specified that is [not supposed to be implemented](https://osgi.org/javadoc/r4v43/core/org/osgi/framework/BundleContext.html) by the consumers and I wasn&#39;t able to find a concrete class that implements this interface.\r\n\r\n```\r\nResourcesPlugin plugin = new ResourcesPlugin();\r\nplugin.start(boundleContext);\r\n```","title":"How to instantiate org.eclipse.jdt.core.ICompilationUnit or org.eclipse.core.internal.resources.Workspace?","body":"<p><strong>What I am trying to do</strong></p>\n\n<p>I use the Eclipse JDT API to create the AST of some java project and manipulate it, however, my software is not an Eclipse Plug-in but it's supposed to be a stand-alone desktop application. </p>\n\n<p>Right now in order to use a specific method of the API, I need an instance of org.eclipse.jdt.core.ICompilationUnit. \nAs far as I understood this code snippet would do that:</p>\n\n<pre><code>IWorkspace workspace = ResourcesPlugin.getWorkspace(); \nIPath path = Path.fromOSString(stringPath);\nIFile file = workspace.getRoot().getFileForLocation(path);\nICompilationUnit compilationUnit =(ICompilationUnit)JavaCore.create(file);\n</code></pre>\n\n<p>The problem is that <code>ResourcesPlugin.getWorkspace()</code> won't work, I <strong>guess</strong> because my application is not Eclipse Plug-in. The specific Exception that is raised is the following:</p>\n\n<pre><code>Caused by: java.lang.IllegalStateException: Workspace is closed.\n    at org.eclipse.core.resources.ResourcesPlugin.getWorkspace(ResourcesPlugin.java:432)\n</code></pre>\n\n<p><strong>What I need</strong></p>\n\n<p>The solution that I would like to implement involves making the folder in which the source code is contained in an Eclipse Workspace (provisionally).</p>\n\n<p>Therefore, I need a way to get an instance of org.eclipse.core.internal.resources.Workspace given the path of the folder in which the source code is contained, basically:</p>\n\n<pre><code>String path = \"./folder/with/source/code\";\nWorkspace workspace = pathToWorkspace(path);\n</code></pre>\n\n<p>N.B. btw if there is a way get an instance of an ICompilationUnit, without the need of a workspace, that also would solve my problem. </p>\n\n<p><strong>What I have tried</strong></p>\n\n<p>What I have tried to do is create an instance of ResourcesPlugin and make it start with the hope that through BundleContext I would be able to specify the path. Unfortunately, org.osgi.framework.BundleContext is an interface which is specified that is <a href=\"https://osgi.org/javadoc/r4v43/core/org/osgi/framework/BundleContext.html\" rel=\"nofollow noreferrer\">not supposed to be implemented</a> by the consumers and I wasn't able to find a concrete class that implements this interface.</p>\n\n<pre><code>ResourcesPlugin plugin = new ResourcesPlugin();\nplugin.start(boundleContext);\n</code></pre>\n"},{"tags":["java","spring-boot","jackson","lombok","jackson-databind"],"comments":[{"owner":{"account_id":1202607,"reputation":1770,"user_id":1172945,"accept_rate":74,"display_name":"Tugrul"},"score":0,"creation_date":1532260250,"post_id":51464720,"comment_id":89898205,"body_markdown":"Did you try to add constructer to ErrorDetail class?","body":"Did you try to add constructer to ErrorDetail class?"}],"answers":[{"tags":[],"owner":{"account_id":14005236,"reputation":187,"user_id":10115600,"display_name":"lord_hokage"},"down_vote_count":7,"up_vote_count":1,"is_accepted":false,"score":-6,"last_activity_date":1532260240,"creation_date":1532260240,"answer_id":51464810,"question_id":51464720,"body_markdown":"Using `@Data` annotation is bad approach, in my opinion.\r\nPlease change `@Data` to `@Getting` , `@Setter`, `@EqualsAndHashcode` and so on ..\r\n\r\nand write here please, if it will help.\r\n\r\n**update**\r\n\r\nI suggest, that `@Data` create `@RequiredArgsConstructor`, and it is constructor with final fields, and without  `private String type`;","title":"Lombok 1.18.0 and Jackson 2.9.6 not working together","body":"<p>Using <code>@Data</code> annotation is bad approach, in my opinion.\nPlease change <code>@Data</code> to <code>@Getting</code> , <code>@Setter</code>, <code>@EqualsAndHashcode</code> and so on ..</p>\n\n<p>and write here please, if it will help.</p>\n\n<p><strong>update</strong></p>\n\n<p>I suggest, that <code>@Data</code> create <code>@RequiredArgsConstructor</code>, and it is constructor with final fields, and without  <code>private String type</code>;</p>\n"},{"tags":[],"owner":{"account_id":13887193,"reputation":7307,"user_id":10026074,"display_name":"Jan Rieke"},"down_vote_count":0,"up_vote_count":85,"is_accepted":true,"score":85,"last_activity_date":1632922388,"creation_date":1532261788,"answer_id":51465038,"question_id":51464720,"body_markdown":"Lombok stopped generating `@ConstructorProperties` on constructors with version 1.16.20 (see [changelog][1]), because it might break Java 9+ applications that use modules. That annotation contains the names of the constructor&#39;s parameters (they are removed when compiling the class, so that&#39;s a workaround so that the parameter names still can be retrieved at runtime). Because the annotation is now not being generated by default, Jackson cannot map the field names to the constructor parameters.\r\n\r\n**Solution 1:**\r\nUse a `@NoArgsConstructor` and `@Setter`, but you will loose immutability (if that&#39;s important to you).\r\n\r\n*Update:* Just `@NoArgsConstructor` and `@Getter` (without `@Setter`) may also work (because [`INFER_PROPERTY_MUTATORS=true`][2]). In this way, you can keep the class immutable, at least from regular (non-reflective) code.\r\n\r\n**Solution 2:**\r\nConfigure lombok to generate the annotations again, [using a `lombok.config` file][3] containing the line `lombok.anyConstructor.addConstructorProperties = true`. (If you are using modules, make sure `java.desktop` is on your module path.) Clean and recompile after you added the `lombok.config` file.\r\n\r\n**Solution 3:**\r\nUse Jackson&#39;s builder support in combination with lombok&#39;s (`@Jacksonized`) `@Builder`/`@SuperBuilder`, as described in [@Randakar answer][4] to this question.\r\n\r\n**Solution 4:**\r\nWhen compiling with `javac` (of Java 8 and above), append `-parameters` to the command. This will store the parameter names of constructors and methods in the generated class files, so they can be retrieved via reflection.\r\n\r\n\r\n  [1]: https://projectlombok.org/changelog\r\n  [2]: https://github.com/FasterXML/jackson-databind/wiki/Mapper-Features\r\n  [3]: https://projectlombok.org/features/configuration\r\n  [4]: https://stackoverflow.com/questions/51464720/lombok-1-18-0-and-jackson-2-9-6-not-working-together/55257143#55257143","title":"Lombok 1.18.0 and Jackson 2.9.6 not working together","body":"<p>Lombok stopped generating <code>@ConstructorProperties</code> on constructors with version 1.16.20 (see <a href=\"https://projectlombok.org/changelog\" rel=\"noreferrer\">changelog</a>), because it might break Java 9+ applications that use modules. That annotation contains the names of the constructor's parameters (they are removed when compiling the class, so that's a workaround so that the parameter names still can be retrieved at runtime). Because the annotation is now not being generated by default, Jackson cannot map the field names to the constructor parameters.</p>\n<p><strong>Solution 1:</strong>\nUse a <code>@NoArgsConstructor</code> and <code>@Setter</code>, but you will loose immutability (if that's important to you).</p>\n<p><em>Update:</em> Just <code>@NoArgsConstructor</code> and <code>@Getter</code> (without <code>@Setter</code>) may also work (because <a href=\"https://github.com/FasterXML/jackson-databind/wiki/Mapper-Features\" rel=\"noreferrer\"><code>INFER_PROPERTY_MUTATORS=true</code></a>). In this way, you can keep the class immutable, at least from regular (non-reflective) code.</p>\n<p><strong>Solution 2:</strong>\nConfigure lombok to generate the annotations again, <a href=\"https://projectlombok.org/features/configuration\" rel=\"noreferrer\">using a <code>lombok.config</code> file</a> containing the line <code>lombok.anyConstructor.addConstructorProperties = true</code>. (If you are using modules, make sure <code>java.desktop</code> is on your module path.) Clean and recompile after you added the <code>lombok.config</code> file.</p>\n<p><strong>Solution 3:</strong>\nUse Jackson's builder support in combination with lombok's (<code>@Jacksonized</code>) <code>@Builder</code>/<code>@SuperBuilder</code>, as described in <a href=\"https://stackoverflow.com/questions/51464720/lombok-1-18-0-and-jackson-2-9-6-not-working-together/55257143#55257143\">@Randakar answer</a> to this question.</p>\n<p><strong>Solution 4:</strong>\nWhen compiling with <code>javac</code> (of Java 8 and above), append <code>-parameters</code> to the command. This will store the parameter names of constructors and methods in the generated class files, so they can be retrieved via reflection.</p>\n"},{"tags":[],"owner":{"account_id":9190575,"reputation":8919,"user_id":6831257,"display_name":"GolamMazid Sajib"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1532263476,"creation_date":1532263476,"answer_id":51465272,"question_id":51464720,"body_markdown":"You want to deserialize a class which has final field. so u need to declare a constructor which contains final field to deserialize.\r\n\r\n    @Data\r\n    @JsonInclude(JsonInclude.Include.NON_NULL)\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    public class ErrorDetail {\r\n\r\n    private final String heading;\r\n    private final String detail;\r\n    private String type;\r\n\r\n    @JsonCreator\r\n    public ErrorDetail(@JsonProperty(&quot;heading&quot;) String heading, @JsonProperty(&quot;detail&quot;) String detail) {\r\n        this.heading = heading;\r\n        this.detail = detail;\r\n    }\r\n    }\r\n\r\nand when deserialize with mapper need to **MapperFeature.ALLOW_FINAL_FIELDS_AS_MUTATORS** set this property **false**.\r\n\r\n        \r\n\r\n    private static &lt;T&gt; T asObject(final String str, Class&lt;T&gt; clazz) {\r\n        try {\r\n            return new ObjectMapper().configure(MapperFeature.ALLOW_FINAL_FIELDS_AS_MUTATORS,false).readValue(str, clazz);\r\n        } catch (Exception e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n","title":"Lombok 1.18.0 and Jackson 2.9.6 not working together","body":"<p>You want to deserialize a class which has final field. so u need to declare a constructor which contains final field to deserialize.</p>\n\n<pre><code>@Data\n@JsonInclude(JsonInclude.Include.NON_NULL)\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class ErrorDetail {\n\nprivate final String heading;\nprivate final String detail;\nprivate String type;\n\n@JsonCreator\npublic ErrorDetail(@JsonProperty(\"heading\") String heading, @JsonProperty(\"detail\") String detail) {\n    this.heading = heading;\n    this.detail = detail;\n}\n}\n</code></pre>\n\n<p>and when deserialize with mapper need to <strong>MapperFeature.ALLOW_FINAL_FIELDS_AS_MUTATORS</strong> set this property <strong>false</strong>.</p>\n\n<pre><code>private static &lt;T&gt; T asObject(final String str, Class&lt;T&gt; clazz) {\n    try {\n        return new ObjectMapper().configure(MapperFeature.ALLOW_FINAL_FIELDS_AS_MUTATORS,false).readValue(str, clazz);\n    } catch (Exception e) {\n        throw new RuntimeException(e);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16670,"reputation":1018,"user_id":36574,"display_name":"Randakar"},"down_vote_count":1,"up_vote_count":19,"is_accepted":false,"score":18,"last_activity_date":1602764295,"creation_date":1553073129,"answer_id":55257143,"question_id":51464720,"body_markdown":"Edit: This answer is now a bit outdated: There is a new `@Jacksonized` annotation, from https://projectlombok.org/features/experimental/Jacksonized, which takes care of much of the boilerplate in this answer.\r\n\r\n---\r\n\r\nThe best way to make jackson and lombok play well together is to always make your DTO&#39;s immutable, and tell jackson to use the builder to deserialize into your objects.\r\n\r\nImmutable objects are good idea for the simple reason that when fields cannot be modified in situ compilers can do much more aggressive optimisations.\r\n\r\nIn order to do this you need two annotations: JsonDeserialize, and JsonPojoBuilder.\r\n\r\nExample:\r\n\r\n    @Builder\r\n    @Value // instead of @Data\r\n    @RequiredArgsConstructor\r\n    @NonNull // Best practice, see below.\r\n    @JsonDeserialize(builder = ErrorDetail.ErrorDetailBuilder.class)\r\n    @JsonInclude(JsonInclude.Include.NON_NULL)\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    public class ErrorDetail {\r\n    \r\n       private final String heading;\r\n    \r\n       // Set defaults if fields can be missing, like this:\r\n       @Builder.Default\r\n       private final String detail = &quot;default detail&quot;;\r\n    \r\n       // Example of how to do optional fields, you will need to configure\r\n       // your object mapper to support that and include the JDK 8 module in your dependencies..\r\n       @Builder.Default\r\n       private Optional&lt;String&gt; type = Optional.empty()\r\n    \r\n       @JsonPOJOBuilder(withPrefix = &quot;&quot;)\r\n       public static final class ErrorDetailBuilder {\r\n       }\r\n    }","title":"Lombok 1.18.0 and Jackson 2.9.6 not working together","body":"<p>Edit: This answer is now a bit outdated: There is a new <code>@Jacksonized</code> annotation, from <a href=\"https://projectlombok.org/features/experimental/Jacksonized\" rel=\"noreferrer\">https://projectlombok.org/features/experimental/Jacksonized</a>, which takes care of much of the boilerplate in this answer.</p>\n<hr />\n<p>The best way to make jackson and lombok play well together is to always make your DTO's immutable, and tell jackson to use the builder to deserialize into your objects.</p>\n<p>Immutable objects are good idea for the simple reason that when fields cannot be modified in situ compilers can do much more aggressive optimisations.</p>\n<p>In order to do this you need two annotations: JsonDeserialize, and JsonPojoBuilder.</p>\n<p>Example:</p>\n<pre><code>@Builder\n@Value // instead of @Data\n@RequiredArgsConstructor\n@NonNull // Best practice, see below.\n@JsonDeserialize(builder = ErrorDetail.ErrorDetailBuilder.class)\n@JsonInclude(JsonInclude.Include.NON_NULL)\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class ErrorDetail {\n\n   private final String heading;\n\n   // Set defaults if fields can be missing, like this:\n   @Builder.Default\n   private final String detail = &quot;default detail&quot;;\n\n   // Example of how to do optional fields, you will need to configure\n   // your object mapper to support that and include the JDK 8 module in your dependencies..\n   @Builder.Default\n   private Optional&lt;String&gt; type = Optional.empty()\n\n   @JsonPOJOBuilder(withPrefix = &quot;&quot;)\n   public static final class ErrorDetailBuilder {\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":309142,"reputation":3795,"user_id":621438,"accept_rate":79,"display_name":"LukeSolar"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1572860834,"creation_date":1572860834,"answer_id":58690762,"question_id":51464720,"body_markdown":"**Solution 4**\r\n\r\n - Write the NoArgsConstructor yourself. This at least worked for me with lombok `1.18.8` and Jackson `2.9.9` \r\n\r\n\r\n```\r\n    @Builder\r\n    @Getter\r\n    @AllArgsConstructor\r\n    public class EventDTO {\r\n    \r\n        private String id;\r\n        private Integer isCancelled;\r\n    \r\n        private String recurringEventId;\r\n    \r\n        private String summary;\r\n        private String description;\r\n        private String location;\r\n        private String startDateTime;\r\n        private String endDateTime;\r\n    \r\n        /**\r\n         * Make Jackson happy\r\n         */\r\n        public EventDTO() {\r\n        }\r\n    }\r\n```","title":"Lombok 1.18.0 and Jackson 2.9.6 not working together","body":"<p><strong>Solution 4</strong></p>\n\n<ul>\n<li>Write the NoArgsConstructor yourself. This at least worked for me with lombok <code>1.18.8</code> and Jackson <code>2.9.9</code> </li>\n</ul>\n\n<pre><code>    @Builder\n    @Getter\n    @AllArgsConstructor\n    public class EventDTO {\n\n        private String id;\n        private Integer isCancelled;\n\n        private String recurringEventId;\n\n        private String summary;\n        private String description;\n        private String location;\n        private String startDateTime;\n        private String endDateTime;\n\n        /**\n         * Make Jackson happy\n         */\n        public EventDTO() {\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":1458820,"reputation":7821,"user_id":1373711,"accept_rate":83,"display_name":"JHS"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38962,"favorite_count":0,"down_vote_count":0,"up_vote_count":44,"accepted_answer_id":51465038,"answer_count":5,"score":44,"last_activity_date":1632922388,"creation_date":1532259618,"question_id":51464720,"body_markdown":"**The deserialization is failing after the update.**\r\n\r\nI updated my micro-service from `Spring 1.5.10.RELEASE` to `Spring 2.0.3.RELEASE` and also updated the `lombok` from `1.16.14` to `1.18.0` and `jackson-datatype-jsr310` from `2.9.4` to `2.9.6`.\r\n\r\nThe JSON string -\r\n\r\n    {&quot;heading&quot;:&quot;Validation failed&quot;,&quot;detail&quot;:&quot;field must not be null&quot;}\r\n\r\nThe Class -\r\n\r\n    @Data\r\n    @JsonInclude(JsonInclude.Include.NON_NULL)\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    public class ErrorDetail {\r\n\r\n       private final String heading;\r\n       private final String detail;\r\n       private String type;\r\n    }\r\n\r\nMethod call -\r\n\r\n    ErrorDetail errorDetail = asObject(jsonString, ErrorDetail.class);\r\n\r\nThe method used to deserialize -\r\n\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    // more imports and class defination.\r\n \r\n    private static &lt;T&gt; T asObject(final String str, Class&lt;T&gt; clazz) {\r\n        try {\r\n            return new ObjectMapper().readValue(str, clazz);\r\n        } catch (Exception e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\nError - \r\n\r\n    java.lang.RuntimeException: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of `com.foo.bar.ErrorDetail` (no Creators, like default construct, exist): cannot deserialize from Object value (no delegate- or property-based Creator)\r\n    at [Source: (String)&quot;{&quot;heading&quot;:&quot;Validation failed&quot;,&quot;detail&quot;:&quot;field must not be null&quot;}&quot;; line: 1, column: 2]","title":"Lombok 1.18.0 and Jackson 2.9.6 not working together","body":"<p><strong>The deserialization is failing after the update.</strong></p>\n\n<p>I updated my micro-service from <code>Spring 1.5.10.RELEASE</code> to <code>Spring 2.0.3.RELEASE</code> and also updated the <code>lombok</code> from <code>1.16.14</code> to <code>1.18.0</code> and <code>jackson-datatype-jsr310</code> from <code>2.9.4</code> to <code>2.9.6</code>.</p>\n\n<p>The JSON string -</p>\n\n<pre><code>{\"heading\":\"Validation failed\",\"detail\":\"field must not be null\"}\n</code></pre>\n\n<p>The Class -</p>\n\n<pre><code>@Data\n@JsonInclude(JsonInclude.Include.NON_NULL)\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class ErrorDetail {\n\n   private final String heading;\n   private final String detail;\n   private String type;\n}\n</code></pre>\n\n<p>Method call -</p>\n\n<pre><code>ErrorDetail errorDetail = asObject(jsonString, ErrorDetail.class);\n</code></pre>\n\n<p>The method used to deserialize -</p>\n\n<pre><code>import com.fasterxml.jackson.databind.ObjectMapper;\n// more imports and class defination.\n\nprivate static &lt;T&gt; T asObject(final String str, Class&lt;T&gt; clazz) {\n    try {\n        return new ObjectMapper().readValue(str, clazz);\n    } catch (Exception e) {\n        throw new RuntimeException(e);\n    }\n}\n</code></pre>\n\n<p>Error - </p>\n\n<pre><code>java.lang.RuntimeException: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of `com.foo.bar.ErrorDetail` (no Creators, like default construct, exist): cannot deserialize from Object value (no delegate- or property-based Creator)\nat [Source: (String)\"{\"heading\":\"Validation failed\",\"detail\":\"field must not be null\"}\"; line: 1, column: 2]\n</code></pre>\n"},{"tags":["java","apache-kafka","spring-cloud-stream","spring-cloud-stream-binder-kafka"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1632415525,"creation_date":1632415525,"answer_id":69303958,"question_id":69300563,"body_markdown":"The first consumer is created (and closed) during initialization - it is used to get information about the topic partitions.\r\n\r\nThe second consumer is for the binding.\r\n\r\nThe third consumer is used for the actuator (via `KafkaBinderMetrics`) to get lag information.","title":"Why does one consumer create multiple consumer configs for Spring Cloud Stream Kafka?","body":"<p>The first consumer is created (and closed) during initialization - it is used to get information about the topic partitions.</p>\n<p>The second consumer is for the binding.</p>\n<p>The third consumer is used for the actuator (via <code>KafkaBinderMetrics</code>) to get lag information.</p>\n"}],"owner":{"account_id":9610071,"reputation":2910,"user_id":7134737,"accept_rate":45,"display_name":"ng.newbie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":261,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69303958,"answer_count":1,"score":0,"last_activity_date":1632921958,"creation_date":1632402053,"question_id":69300563,"body_markdown":"I have just started playing around with the Kafka binder of Spring Cloud Stream. \r\n\r\nI have configured a simple consumer:\r\n\r\n    @Configuration\r\n    @Slf4j\r\n    public class KafkaConsumerConfig {\r\n    \r\n        @Bean\r\n        public Consumer&lt;Event&gt; eventConsumer() {\r\n            return event -&gt; log.info(&quot;Received Event : &quot; + event);\r\n        }\r\n    }\r\n\r\nBut when I start the application I see I am three separate Consumer Configs created in the startup logs:\r\n\r\n    18:21:13.037 [INFO ] o.a.k.c.c.ConsumerConfig - ConsumerConfig values: \r\n    \tallow.auto.create.topics = true\r\n    \tauto.commit.interval.ms = 100\r\n    \tauto.offset.reset = earliest\r\n    \tbootstrap.servers = [localhost:9092]\r\n    \tcheck.crcs = true\r\n    \tclient.dns.lookup = use_all_dns_ips\r\n    \tclient.id = consumer-cloudstreams-1\r\n    \tclient.rack = \r\n    \tconnections.max.idle.ms = 540000\r\n    \tdefault.api.timeout.ms = 60000\r\n    \tenable.auto.commit = false\r\n    \texclude.internal.topics = true\r\n    \tfetch.max.bytes = 52428800\r\n    \tfetch.max.wait.ms = 500\r\n    \tfetch.min.bytes = 1\r\n    \tgroup.id = cloudstreams\r\n    \tgroup.instance.id = null\r\n    \theartbeat.interval.ms = 3000\r\n    \tinterceptor.classes = []\r\n    \tinternal.leave.group.on.close = true\r\n    \tinternal.throw.on.fetch.stable.offset.unsupported = false\r\n    \tisolation.level = read_uncommitted\r\n    \tkey.deserializer = class org.apache.kafka.common.serialization.ByteArrayDeserializer\r\n    \tmax.partition.fetch.bytes = 1048576\r\n    \tmax.poll.interval.ms = 300000\r\n    \tmax.poll.records = 500\r\n    \tmetadata.max.age.ms = 300000\r\n    \tmetric.reporters = []\r\n    \tmetrics.num.samples = 2\r\n    \tmetrics.recording.level = INFO\r\n    \tmetrics.sample.window.ms = 30000\r\n    \tpartition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor]\r\n    \treceive.buffer.bytes = 65536\r\n    \treconnect.backoff.max.ms = 1000\r\n    \treconnect.backoff.ms = 50\r\n    \trequest.timeout.ms = 30000\r\n    \tretry.backoff.ms = 100\r\n    \tsasl.client.callback.handler.class = null\r\n    \tsasl.jaas.config = null\r\n    \tsasl.kerberos.kinit.cmd = /usr/bin/kinit\r\n    \tsasl.kerberos.min.time.before.relogin = 60000\r\n    \tsasl.kerberos.service.name = null\r\n    \tsasl.kerberos.ticket.renew.jitter = 0.05\r\n    \tsasl.kerberos.ticket.renew.window.factor = 0.8\r\n    \tsasl.login.callback.handler.class = null\r\n    \tsasl.login.class = null\r\n    \tsasl.login.refresh.buffer.seconds = 300\r\n    \tsasl.login.refresh.min.period.seconds = 60\r\n    \tsasl.login.refresh.window.factor = 0.8\r\n    \tsasl.login.refresh.window.jitter = 0.05\r\n    \tsasl.mechanism = GSSAPI\r\n    \tsecurity.protocol = PLAINTEXT\r\n    \tsecurity.providers = null\r\n    \tsend.buffer.bytes = 131072\r\n    \tsession.timeout.ms = 10000\r\n    \tsocket.connection.setup.timeout.max.ms = 127000\r\n    \tsocket.connection.setup.timeout.ms = 10000\r\n    \tssl.cipher.suites = null\r\n    \tssl.enabled.protocols = [TLSv1.2, TLSv1.3]\r\n    \tssl.endpoint.identification.algorithm = https\r\n    \tssl.engine.factory.class = null\r\n    \tssl.key.password = null\r\n    \tssl.keymanager.algorithm = SunX509\r\n    \tssl.keystore.certificate.chain = null\r\n    \tssl.keystore.key = null\r\n    \tssl.keystore.location = null\r\n    \tssl.keystore.password = null\r\n    \tssl.keystore.type = JKS\r\n    \tssl.protocol = TLSv1.3\r\n    \tssl.provider = null\r\n    \tssl.secure.random.implementation = null\r\n    \tssl.trustmanager.algorithm = PKIX\r\n    \tssl.truststore.certificates = null\r\n    \tssl.truststore.location = null\r\n    \tssl.truststore.password = null\r\n    \tssl.truststore.type = JKS\r\n    \tvalue.deserializer = class io.confluent.kafka.serializers.KafkaAvroDeserializer\r\n    \r\n    \r\n    18:21:13.177 [INFO ] o.a.k.c.c.ConsumerConfig - ConsumerConfig values: \r\n    \tallow.auto.create.topics = true\r\n    \tauto.commit.interval.ms = 100\r\n    \tauto.offset.reset = earliest\r\n    \tbootstrap.servers = [localhost:9092]\r\n    \tcheck.crcs = true\r\n    \tclient.dns.lookup = use_all_dns_ips\r\n    \tclient.id = consumer-cloudstreams-2\r\n    \tclient.rack = \r\n    \tconnections.max.idle.ms = 540000\r\n    \tdefault.api.timeout.ms = 60000\r\n    \tenable.auto.commit = false\r\n    \texclude.internal.topics = true\r\n    \tfetch.max.bytes = 52428800\r\n    \tfetch.max.wait.ms = 500\r\n    \tfetch.min.bytes = 1\r\n    \tgroup.id = cloudstreams\r\n    \tgroup.instance.id = null\r\n    \theartbeat.interval.ms = 3000\r\n    \tinterceptor.classes = []\r\n    \tinternal.leave.group.on.close = true\r\n    \tinternal.throw.on.fetch.stable.offset.unsupported = false\r\n    \tisolation.level = read_uncommitted\r\n    \tkey.deserializer = class org.apache.kafka.common.serialization.ByteArrayDeserializer\r\n    \tmax.partition.fetch.bytes = 1048576\r\n    \tmax.poll.interval.ms = 300000\r\n    \tmax.poll.records = 500\r\n    \tmetadata.max.age.ms = 300000\r\n    \tmetric.reporters = []\r\n    \tmetrics.num.samples = 2\r\n    \tmetrics.recording.level = INFO\r\n    \tmetrics.sample.window.ms = 30000\r\n    \tpartition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor]\r\n    \treceive.buffer.bytes = 65536\r\n    \treconnect.backoff.max.ms = 1000\r\n    \treconnect.backoff.ms = 50\r\n    \trequest.timeout.ms = 30000\r\n    \tretry.backoff.ms = 100\r\n    \tsasl.client.callback.handler.class = null\r\n    \tsasl.jaas.config = null\r\n    \tsasl.kerberos.kinit.cmd = /usr/bin/kinit\r\n    \tsasl.kerberos.min.time.before.relogin = 60000\r\n    \tsasl.kerberos.service.name = null\r\n    \tsasl.kerberos.ticket.renew.jitter = 0.05\r\n    \tsasl.kerberos.ticket.renew.window.factor = 0.8\r\n    \tsasl.login.callback.handler.class = null\r\n    \tsasl.login.class = null\r\n    \tsasl.login.refresh.buffer.seconds = 300\r\n    \tsasl.login.refresh.min.period.seconds = 60\r\n    \tsasl.login.refresh.window.factor = 0.8\r\n    \tsasl.login.refresh.window.jitter = 0.05\r\n    \tsasl.mechanism = GSSAPI\r\n    \tsecurity.protocol = PLAINTEXT\r\n    \tsecurity.providers = null\r\n    \tsend.buffer.bytes = 131072\r\n    \tsession.timeout.ms = 10000\r\n    \tsocket.connection.setup.timeout.max.ms = 127000\r\n    \tsocket.connection.setup.timeout.ms = 10000\r\n    \tssl.cipher.suites = null\r\n    \tssl.enabled.protocols = [TLSv1.2, TLSv1.3]\r\n    \tssl.endpoint.identification.algorithm = https\r\n    \tssl.engine.factory.class = null\r\n    \tssl.key.password = null\r\n    \tssl.keymanager.algorithm = SunX509\r\n    \tssl.keystore.certificate.chain = null\r\n    \tssl.keystore.key = null\r\n    \tssl.keystore.location = null\r\n    \tssl.keystore.password = null\r\n    \tssl.keystore.type = JKS\r\n    \tssl.protocol = TLSv1.3\r\n    \tssl.provider = null\r\n    \tssl.secure.random.implementation = null\r\n    \tssl.trustmanager.algorithm = PKIX\r\n    \tssl.truststore.certificates = null\r\n    \tssl.truststore.location = null\r\n    \tssl.truststore.password = null\r\n    \tssl.truststore.type = JKS\r\n    \tvalue.deserializer = class io.confluent.kafka.serializers.KafkaAvroDeserializer\r\n    \r\n    \r\n    \r\n    18:21:23.200 [INFO ] o.a.k.c.c.ConsumerConfig - ConsumerConfig values: \r\n    \tallow.auto.create.topics = true\r\n    \tauto.commit.interval.ms = 5000\r\n    \tauto.offset.reset = latest\r\n    \tbootstrap.servers = [localhost:9092]\r\n    \tcheck.crcs = true\r\n    \tclient.dns.lookup = use_all_dns_ips\r\n    \tclient.id = consumer-cloudstreams-3\r\n    \tclient.rack = \r\n    \tconnections.max.idle.ms = 540000\r\n    \tdefault.api.timeout.ms = 60000\r\n    \tenable.auto.commit = true\r\n    \texclude.internal.topics = true\r\n    \tfetch.max.bytes = 52428800\r\n    \tfetch.max.wait.ms = 500\r\n    \tfetch.min.bytes = 1\r\n    \tgroup.id = cloudstreams\r\n    \tgroup.instance.id = null\r\n    \theartbeat.interval.ms = 3000\r\n    \tinterceptor.classes = []\r\n    \tinternal.leave.group.on.close = true\r\n    \tinternal.throw.on.fetch.stable.offset.unsupported = false\r\n    \tisolation.level = read_uncommitted\r\n    \tkey.deserializer = class org.apache.kafka.common.serialization.ByteArrayDeserializer\r\n    \tmax.partition.fetch.bytes = 1048576\r\n    \tmax.poll.interval.ms = 300000\r\n    \tmax.poll.records = 500\r\n    \tmetadata.max.age.ms = 300000\r\n    \tmetric.reporters = []\r\n    \tmetrics.num.samples = 2\r\n    \tmetrics.recording.level = INFO\r\n    \tmetrics.sample.window.ms = 30000\r\n    \tpartition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor]\r\n    \treceive.buffer.bytes = 65536\r\n    \treconnect.backoff.max.ms = 1000\r\n    \treconnect.backoff.ms = 50\r\n    \trequest.timeout.ms = 30000\r\n    \tretry.backoff.ms = 100\r\n    \tsasl.client.callback.handler.class = null\r\n    \tsasl.jaas.config = null\r\n    \tsasl.kerberos.kinit.cmd = /usr/bin/kinit\r\n    \tsasl.kerberos.min.time.before.relogin = 60000\r\n    \tsasl.kerberos.service.name = null\r\n    \tsasl.kerberos.ticket.renew.jitter = 0.05\r\n    \tsasl.kerberos.ticket.renew.window.factor = 0.8\r\n    \tsasl.login.callback.handler.class = null\r\n    \tsasl.login.class = null\r\n    \tsasl.login.refresh.buffer.seconds = 300\r\n    \tsasl.login.refresh.min.period.seconds = 60\r\n    \tsasl.login.refresh.window.factor = 0.8\r\n    \tsasl.login.refresh.window.jitter = 0.05\r\n    \tsasl.mechanism = GSSAPI\r\n    \tsecurity.protocol = PLAINTEXT\r\n    \tsecurity.providers = null\r\n    \tsend.buffer.bytes = 131072\r\n    \tsession.timeout.ms = 10000\r\n    \tsocket.connection.setup.timeout.max.ms = 127000\r\n    \tsocket.connection.setup.timeout.ms = 10000\r\n    \tssl.cipher.suites = null\r\n    \tssl.enabled.protocols = [TLSv1.2, TLSv1.3]\r\n    \tssl.endpoint.identification.algorithm = https\r\n    \tssl.engine.factory.class = null\r\n    \tssl.key.password = null\r\n    \tssl.keymanager.algorithm = SunX509\r\n    \tssl.keystore.certificate.chain = null\r\n    \tssl.keystore.key = null\r\n    \tssl.keystore.location = null\r\n    \tssl.keystore.password = null\r\n    \tssl.keystore.type = JKS\r\n    \tssl.protocol = TLSv1.3\r\n    \tssl.provider = null\r\n    \tssl.secure.random.implementation = null\r\n    \tssl.trustmanager.algorithm = PKIX\r\n    \tssl.truststore.certificates = null\r\n    \tssl.truststore.location = null\r\n    \tssl.truststore.password = null\r\n    \tssl.truststore.type = JKS\r\n    \tvalue.deserializer = class org.apache.kafka.common.serialization.ByteArrayDeserializer\r\n\r\n\r\n\r\nThe only thing I can find different between these configs is `client.id`. \r\n\r\n**Other than that I have no idea why just for a single consumer there are three configs.**\r\n\r\nIs it because I am also running the `Confluent Control Centre` ?\r\n\r\n\r\nThis is my `application.yml`:\r\n\r\n    spring:\r\n      cloud:\r\n        stream:\r\n          function:\r\n            definition: eventConsumer\r\n          bindings:\r\n            eventConsumer-in-0:\r\n              group: cloudstreams\r\n              consumer:\r\n                use-native-encoding: true\r\n              destination: myTopic\r\n              binder: kafka\r\n            eventPublish:\r\n              producer:\r\n                use-native-encoding: true\r\n              destination: myTopic\r\n              binder: kafka\r\n          kafka:\r\n            bindings:\r\n              eventConsumer-in-0:\r\n                consumer:\r\n                  configuration:\r\n                    specific:\r\n                      avro:\r\n                        reader: true\r\n                    value:\r\n                      deserializer: io.confluent.kafka.serializers.KafkaAvroDeserializer\r\n                    schema:\r\n                      registry:\r\n                        url: http://localhost:8081\r\n              eventPublish:\r\n                producer:\r\n                  configuration:\r\n                    value:\r\n                      serializer: io.confluent.kafka.serializers.KafkaAvroSerializer\r\n                    schema:\r\n                      registry:\r\n                        url: http://localhost:8081\r\n            binder:\r\n              brokers: localhost\r\n\r\n","title":"Why does one consumer create multiple consumer configs for Spring Cloud Stream Kafka?","body":"<p>I have just started playing around with the Kafka binder of Spring Cloud Stream.</p>\n<p>I have configured a simple consumer:</p>\n<pre><code>@Configuration\n@Slf4j\npublic class KafkaConsumerConfig {\n\n    @Bean\n    public Consumer&lt;Event&gt; eventConsumer() {\n        return event -&gt; log.info(&quot;Received Event : &quot; + event);\n    }\n}\n</code></pre>\n<p>But when I start the application I see I am three separate Consumer Configs created in the startup logs:</p>\n<pre><code>18:21:13.037 [INFO ] o.a.k.c.c.ConsumerConfig - ConsumerConfig values: \n    allow.auto.create.topics = true\n    auto.commit.interval.ms = 100\n    auto.offset.reset = earliest\n    bootstrap.servers = [localhost:9092]\n    check.crcs = true\n    client.dns.lookup = use_all_dns_ips\n    client.id = consumer-cloudstreams-1\n    client.rack = \n    connections.max.idle.ms = 540000\n    default.api.timeout.ms = 60000\n    enable.auto.commit = false\n    exclude.internal.topics = true\n    fetch.max.bytes = 52428800\n    fetch.max.wait.ms = 500\n    fetch.min.bytes = 1\n    group.id = cloudstreams\n    group.instance.id = null\n    heartbeat.interval.ms = 3000\n    interceptor.classes = []\n    internal.leave.group.on.close = true\n    internal.throw.on.fetch.stable.offset.unsupported = false\n    isolation.level = read_uncommitted\n    key.deserializer = class org.apache.kafka.common.serialization.ByteArrayDeserializer\n    max.partition.fetch.bytes = 1048576\n    max.poll.interval.ms = 300000\n    max.poll.records = 500\n    metadata.max.age.ms = 300000\n    metric.reporters = []\n    metrics.num.samples = 2\n    metrics.recording.level = INFO\n    metrics.sample.window.ms = 30000\n    partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor]\n    receive.buffer.bytes = 65536\n    reconnect.backoff.max.ms = 1000\n    reconnect.backoff.ms = 50\n    request.timeout.ms = 30000\n    retry.backoff.ms = 100\n    sasl.client.callback.handler.class = null\n    sasl.jaas.config = null\n    sasl.kerberos.kinit.cmd = /usr/bin/kinit\n    sasl.kerberos.min.time.before.relogin = 60000\n    sasl.kerberos.service.name = null\n    sasl.kerberos.ticket.renew.jitter = 0.05\n    sasl.kerberos.ticket.renew.window.factor = 0.8\n    sasl.login.callback.handler.class = null\n    sasl.login.class = null\n    sasl.login.refresh.buffer.seconds = 300\n    sasl.login.refresh.min.period.seconds = 60\n    sasl.login.refresh.window.factor = 0.8\n    sasl.login.refresh.window.jitter = 0.05\n    sasl.mechanism = GSSAPI\n    security.protocol = PLAINTEXT\n    security.providers = null\n    send.buffer.bytes = 131072\n    session.timeout.ms = 10000\n    socket.connection.setup.timeout.max.ms = 127000\n    socket.connection.setup.timeout.ms = 10000\n    ssl.cipher.suites = null\n    ssl.enabled.protocols = [TLSv1.2, TLSv1.3]\n    ssl.endpoint.identification.algorithm = https\n    ssl.engine.factory.class = null\n    ssl.key.password = null\n    ssl.keymanager.algorithm = SunX509\n    ssl.keystore.certificate.chain = null\n    ssl.keystore.key = null\n    ssl.keystore.location = null\n    ssl.keystore.password = null\n    ssl.keystore.type = JKS\n    ssl.protocol = TLSv1.3\n    ssl.provider = null\n    ssl.secure.random.implementation = null\n    ssl.trustmanager.algorithm = PKIX\n    ssl.truststore.certificates = null\n    ssl.truststore.location = null\n    ssl.truststore.password = null\n    ssl.truststore.type = JKS\n    value.deserializer = class io.confluent.kafka.serializers.KafkaAvroDeserializer\n\n\n18:21:13.177 [INFO ] o.a.k.c.c.ConsumerConfig - ConsumerConfig values: \n    allow.auto.create.topics = true\n    auto.commit.interval.ms = 100\n    auto.offset.reset = earliest\n    bootstrap.servers = [localhost:9092]\n    check.crcs = true\n    client.dns.lookup = use_all_dns_ips\n    client.id = consumer-cloudstreams-2\n    client.rack = \n    connections.max.idle.ms = 540000\n    default.api.timeout.ms = 60000\n    enable.auto.commit = false\n    exclude.internal.topics = true\n    fetch.max.bytes = 52428800\n    fetch.max.wait.ms = 500\n    fetch.min.bytes = 1\n    group.id = cloudstreams\n    group.instance.id = null\n    heartbeat.interval.ms = 3000\n    interceptor.classes = []\n    internal.leave.group.on.close = true\n    internal.throw.on.fetch.stable.offset.unsupported = false\n    isolation.level = read_uncommitted\n    key.deserializer = class org.apache.kafka.common.serialization.ByteArrayDeserializer\n    max.partition.fetch.bytes = 1048576\n    max.poll.interval.ms = 300000\n    max.poll.records = 500\n    metadata.max.age.ms = 300000\n    metric.reporters = []\n    metrics.num.samples = 2\n    metrics.recording.level = INFO\n    metrics.sample.window.ms = 30000\n    partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor]\n    receive.buffer.bytes = 65536\n    reconnect.backoff.max.ms = 1000\n    reconnect.backoff.ms = 50\n    request.timeout.ms = 30000\n    retry.backoff.ms = 100\n    sasl.client.callback.handler.class = null\n    sasl.jaas.config = null\n    sasl.kerberos.kinit.cmd = /usr/bin/kinit\n    sasl.kerberos.min.time.before.relogin = 60000\n    sasl.kerberos.service.name = null\n    sasl.kerberos.ticket.renew.jitter = 0.05\n    sasl.kerberos.ticket.renew.window.factor = 0.8\n    sasl.login.callback.handler.class = null\n    sasl.login.class = null\n    sasl.login.refresh.buffer.seconds = 300\n    sasl.login.refresh.min.period.seconds = 60\n    sasl.login.refresh.window.factor = 0.8\n    sasl.login.refresh.window.jitter = 0.05\n    sasl.mechanism = GSSAPI\n    security.protocol = PLAINTEXT\n    security.providers = null\n    send.buffer.bytes = 131072\n    session.timeout.ms = 10000\n    socket.connection.setup.timeout.max.ms = 127000\n    socket.connection.setup.timeout.ms = 10000\n    ssl.cipher.suites = null\n    ssl.enabled.protocols = [TLSv1.2, TLSv1.3]\n    ssl.endpoint.identification.algorithm = https\n    ssl.engine.factory.class = null\n    ssl.key.password = null\n    ssl.keymanager.algorithm = SunX509\n    ssl.keystore.certificate.chain = null\n    ssl.keystore.key = null\n    ssl.keystore.location = null\n    ssl.keystore.password = null\n    ssl.keystore.type = JKS\n    ssl.protocol = TLSv1.3\n    ssl.provider = null\n    ssl.secure.random.implementation = null\n    ssl.trustmanager.algorithm = PKIX\n    ssl.truststore.certificates = null\n    ssl.truststore.location = null\n    ssl.truststore.password = null\n    ssl.truststore.type = JKS\n    value.deserializer = class io.confluent.kafka.serializers.KafkaAvroDeserializer\n\n\n\n18:21:23.200 [INFO ] o.a.k.c.c.ConsumerConfig - ConsumerConfig values: \n    allow.auto.create.topics = true\n    auto.commit.interval.ms = 5000\n    auto.offset.reset = latest\n    bootstrap.servers = [localhost:9092]\n    check.crcs = true\n    client.dns.lookup = use_all_dns_ips\n    client.id = consumer-cloudstreams-3\n    client.rack = \n    connections.max.idle.ms = 540000\n    default.api.timeout.ms = 60000\n    enable.auto.commit = true\n    exclude.internal.topics = true\n    fetch.max.bytes = 52428800\n    fetch.max.wait.ms = 500\n    fetch.min.bytes = 1\n    group.id = cloudstreams\n    group.instance.id = null\n    heartbeat.interval.ms = 3000\n    interceptor.classes = []\n    internal.leave.group.on.close = true\n    internal.throw.on.fetch.stable.offset.unsupported = false\n    isolation.level = read_uncommitted\n    key.deserializer = class org.apache.kafka.common.serialization.ByteArrayDeserializer\n    max.partition.fetch.bytes = 1048576\n    max.poll.interval.ms = 300000\n    max.poll.records = 500\n    metadata.max.age.ms = 300000\n    metric.reporters = []\n    metrics.num.samples = 2\n    metrics.recording.level = INFO\n    metrics.sample.window.ms = 30000\n    partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor]\n    receive.buffer.bytes = 65536\n    reconnect.backoff.max.ms = 1000\n    reconnect.backoff.ms = 50\n    request.timeout.ms = 30000\n    retry.backoff.ms = 100\n    sasl.client.callback.handler.class = null\n    sasl.jaas.config = null\n    sasl.kerberos.kinit.cmd = /usr/bin/kinit\n    sasl.kerberos.min.time.before.relogin = 60000\n    sasl.kerberos.service.name = null\n    sasl.kerberos.ticket.renew.jitter = 0.05\n    sasl.kerberos.ticket.renew.window.factor = 0.8\n    sasl.login.callback.handler.class = null\n    sasl.login.class = null\n    sasl.login.refresh.buffer.seconds = 300\n    sasl.login.refresh.min.period.seconds = 60\n    sasl.login.refresh.window.factor = 0.8\n    sasl.login.refresh.window.jitter = 0.05\n    sasl.mechanism = GSSAPI\n    security.protocol = PLAINTEXT\n    security.providers = null\n    send.buffer.bytes = 131072\n    session.timeout.ms = 10000\n    socket.connection.setup.timeout.max.ms = 127000\n    socket.connection.setup.timeout.ms = 10000\n    ssl.cipher.suites = null\n    ssl.enabled.protocols = [TLSv1.2, TLSv1.3]\n    ssl.endpoint.identification.algorithm = https\n    ssl.engine.factory.class = null\n    ssl.key.password = null\n    ssl.keymanager.algorithm = SunX509\n    ssl.keystore.certificate.chain = null\n    ssl.keystore.key = null\n    ssl.keystore.location = null\n    ssl.keystore.password = null\n    ssl.keystore.type = JKS\n    ssl.protocol = TLSv1.3\n    ssl.provider = null\n    ssl.secure.random.implementation = null\n    ssl.trustmanager.algorithm = PKIX\n    ssl.truststore.certificates = null\n    ssl.truststore.location = null\n    ssl.truststore.password = null\n    ssl.truststore.type = JKS\n    value.deserializer = class org.apache.kafka.common.serialization.ByteArrayDeserializer\n</code></pre>\n<p>The only thing I can find different between these configs is <code>client.id</code>.</p>\n<p><strong>Other than that I have no idea why just for a single consumer there are three configs.</strong></p>\n<p>Is it because I am also running the <code>Confluent Control Centre</code> ?</p>\n<p>This is my <code>application.yml</code>:</p>\n<pre><code>spring:\n  cloud:\n    stream:\n      function:\n        definition: eventConsumer\n      bindings:\n        eventConsumer-in-0:\n          group: cloudstreams\n          consumer:\n            use-native-encoding: true\n          destination: myTopic\n          binder: kafka\n        eventPublish:\n          producer:\n            use-native-encoding: true\n          destination: myTopic\n          binder: kafka\n      kafka:\n        bindings:\n          eventConsumer-in-0:\n            consumer:\n              configuration:\n                specific:\n                  avro:\n                    reader: true\n                value:\n                  deserializer: io.confluent.kafka.serializers.KafkaAvroDeserializer\n                schema:\n                  registry:\n                    url: http://localhost:8081\n          eventPublish:\n            producer:\n              configuration:\n                value:\n                  serializer: io.confluent.kafka.serializers.KafkaAvroSerializer\n                schema:\n                  registry:\n                    url: http://localhost:8081\n        binder:\n          brokers: localhost\n</code></pre>\n"},{"tags":["java","spring","spring-mvc","model-view-controller","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":9829723,"reputation":36,"user_id":7281737,"display_name":"scav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1632914711,"creation_date":1632914711,"answer_id":69375461,"question_id":69374574,"body_markdown":"\r\ncreate your modelAndView\r\n```\r\nModelAndView modelAndView = new ModelAndView(&quot;/admin/banners/index&quot;);\r\n```\r\nthen add as many object as you want, under a different name each\r\n\r\n```\r\nmodelAndView.addObject(&quot;mainBanners&quot;, mainBannerService.getAllMainBanners());\r\nmodelAndView.addObject(&quot;backgroundBanners&quot;,mainBannerService.getAllBackgroundBanners());\r\n\r\nreturn modelAndView;\r\n\r\n```","title":"Spring MVC: One View - Multiply Controllers","body":"<p>create your modelAndView</p>\n<pre><code>ModelAndView modelAndView = new ModelAndView(&quot;/admin/banners/index&quot;);\n</code></pre>\n<p>then add as many object as you want, under a different name each</p>\n<pre><code>modelAndView.addObject(&quot;mainBanners&quot;, mainBannerService.getAllMainBanners());\nmodelAndView.addObject(&quot;backgroundBanners&quot;,mainBannerService.getAllBackgroundBanners());\n\nreturn modelAndView;\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22894242,"reputation":26,"user_id":17033980,"display_name":"Sandip Naikwade"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632921897,"creation_date":1632921897,"answer_id":69377317,"question_id":69374574,"body_markdown":"There is no any rule that you have to create different controllers for different URI but if you create different one that will be easy to understand where you mapped each of them.\r\n\r\nIf you are creating only one controller \r\nUse @RestController and @RequestMapping(&quot;/your uri&quot;) for every different method.","title":"Spring MVC: One View - Multiply Controllers","body":"<p>There is no any rule that you have to create different controllers for different URI but if you create different one that will be easy to understand where you mapped each of them.</p>\n<p>If you are creating only one controller\nUse @RestController and @RequestMapping(&quot;/your uri&quot;) for every different method.</p>\n"}],"owner":{"account_id":19760020,"reputation":17,"user_id":14469409,"display_name":"Antariuz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69375461,"answer_count":2,"score":0,"last_activity_date":1632921897,"creation_date":1632910981,"question_id":69374574,"body_markdown":"For note, I&#39;m using Thymeleaf &amp; Spring 2.5.4. For example, I&#39;ve three different &quot;banner&quot; entities that I need to show on one page. There are `&quot;mainBanner&quot;`, `&quot;backgroundBanner&quot;` and `&quot;newsBanner&quot;`. First of all, is it the right way to combine controllers in one (in the frame of banner entities)? Or is there exist any standard that says we must write controllers separately for each entity? But the main question is how to write `@RequestingMapping` correctly for the banner page? I have the banner page (`&quot;/admin/banners/&quot;`) where should be three tables of those entities. As I understand I need to create BannerPageController with `@RequestingMapping(&quot;/admin/banners/&quot;)`, isn&#39;t it? Hoping for any help in solving\r\nI&#39;ve written controllers this way:\r\n\r\n**#MainBannerController.class**\r\n\r\n    @Controller\r\n    @RequestMapping(&quot;admin/banners/main/&quot;)\r\n    @AllArgsConstructor(onConstructor = @__(@Autowired))\r\n    public class MainBannerController {\r\n    ...\r\n\r\n**#BackgroundBannerController.class**\r\n\r\n    @Controller\r\n    @RequestMapping(&quot;admin/banners/background/&quot;)\r\n    @AllArgsConstructor(onConstructor = @__(@Autowired))\r\n    public class MainBannerController {\r\n    ...\r\n\r\n**#NewsBannerController.class**\r\n\r\n    @Controller\r\n    @RequestMapping(&quot;admin/banners/news/&quot;)\r\n    @AllArgsConstructor(onConstructor = @__(@Autowired))\r\n    public class MainBannerController {\r\n    ...\r\nMoreover, how to get 3 different models for one view?\r\n**#BannerController.class ???**\r\n\r\n    @Controller\r\n    @RequestMapping(&quot;admin/banners/main/&quot;)\r\n    @AllArgsConstructor(onConstructor = @__(@Autowired))\r\n    public class MainBannerController {\r\n    \r\n        private final MainBannerService mainBannerService;\r\n        private final MainBannerService mainBannerService;\r\n        private final MainBannerService mainBannerService;\r\n    \r\n        //    How to get 3 different models for one view?\r\n        @GetMapping({&quot;/&quot;, &quot;&quot;})\r\n        public ModelAndView allBanners() {\r\n        //    new ModelAndView(&quot;/admin/banners/index&quot;, &quot;mainBanners&quot;, mainBannerService.getAllMainBanners());\r\n        //    new ModelAndView(&quot;/admin/banners/index&quot;, &quot;backgroundBanners&quot;, backgroundBannerService.getAllBackgroundBanners());\r\n        //    new ModelAndView(&quot;/admin/banners/index&quot;, &quot;newsBanners&quot;, newsBannerService.getAllNewsBanners());\r\n            return null;\r\n        }","title":"Spring MVC: One View - Multiply Controllers","body":"<p>For note, I'm using Thymeleaf &amp; Spring 2.5.4. For example, I've three different &quot;banner&quot; entities that I need to show on one page. There are <code>&quot;mainBanner&quot;</code>, <code>&quot;backgroundBanner&quot;</code> and <code>&quot;newsBanner&quot;</code>. First of all, is it the right way to combine controllers in one (in the frame of banner entities)? Or is there exist any standard that says we must write controllers separately for each entity? But the main question is how to write <code>@RequestingMapping</code> correctly for the banner page? I have the banner page (<code>&quot;/admin/banners/&quot;</code>) where should be three tables of those entities. As I understand I need to create BannerPageController with <code>@RequestingMapping(&quot;/admin/banners/&quot;)</code>, isn't it? Hoping for any help in solving\nI've written controllers this way:</p>\n<p><strong>#MainBannerController.class</strong></p>\n<pre><code>@Controller\n@RequestMapping(&quot;admin/banners/main/&quot;)\n@AllArgsConstructor(onConstructor = @__(@Autowired))\npublic class MainBannerController {\n...\n</code></pre>\n<p><strong>#BackgroundBannerController.class</strong></p>\n<pre><code>@Controller\n@RequestMapping(&quot;admin/banners/background/&quot;)\n@AllArgsConstructor(onConstructor = @__(@Autowired))\npublic class MainBannerController {\n...\n</code></pre>\n<p><strong>#NewsBannerController.class</strong></p>\n<pre><code>@Controller\n@RequestMapping(&quot;admin/banners/news/&quot;)\n@AllArgsConstructor(onConstructor = @__(@Autowired))\npublic class MainBannerController {\n...\n</code></pre>\n<p>Moreover, how to get 3 different models for one view?\n<strong>#BannerController.class ???</strong></p>\n<pre><code>@Controller\n@RequestMapping(&quot;admin/banners/main/&quot;)\n@AllArgsConstructor(onConstructor = @__(@Autowired))\npublic class MainBannerController {\n\n    private final MainBannerService mainBannerService;\n    private final MainBannerService mainBannerService;\n    private final MainBannerService mainBannerService;\n\n    //    How to get 3 different models for one view?\n    @GetMapping({&quot;/&quot;, &quot;&quot;})\n    public ModelAndView allBanners() {\n    //    new ModelAndView(&quot;/admin/banners/index&quot;, &quot;mainBanners&quot;, mainBannerService.getAllMainBanners());\n    //    new ModelAndView(&quot;/admin/banners/index&quot;, &quot;backgroundBanners&quot;, backgroundBannerService.getAllBackgroundBanners());\n    //    new ModelAndView(&quot;/admin/banners/index&quot;, &quot;newsBanners&quot;, newsBannerService.getAllNewsBanners());\n        return null;\n    }\n</code></pre>\n"},{"tags":["java","apache-kafka","apache-kafka-streams","spring-cloud-stream-binder-kafka"],"owner":{"account_id":3092117,"reputation":1082,"user_id":2618033,"accept_rate":67,"display_name":"Ben Keil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":409,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1632921835,"creation_date":1632568392,"question_id":69325589,"body_markdown":"This code below works, but it would be nice if I don&#39;t need to map the key at the beginning.\r\n\r\n```java\r\n@Bean\r\npublic Function&lt;\r\n        KStream&lt;ReviewGroup, ProductReview&gt;, KStream&lt;ReviewGroup, ProductReviewFeedCollection&gt;&gt;\r\n    aggregate() {\r\n  return reviews -&gt;\r\n      reviews\r\n          .map((key, value) -&gt; KeyValue.pair(key.toString(), value))\r\n          .groupByKey()\r\n          .aggregate(\r\n              ProductReviewFeedAggregate::new,\r\n              new ProductReviewFeedAggregator(),\r\n              Materialized.&lt;String, ProductReviewFeedAggregate, KeyValueStore&lt;Bytes, byte[]&gt;&gt;as(\r\n                      &quot;product-review-feed-aggregate&quot;)\r\n                  .withKeySerde(new Serdes.StringSerde())\r\n                  .withValueSerde(new ProductReviewFeedAggregateSerde()))\r\n          .toStream()\r\n          .map(new ProductReviewFeedCollectionMapper())\r\n          .peek((key, value) -&gt; log.debug(&quot;Aggregation result: {} - {}&quot;, key, value));\r\n}\r\n```\r\n\r\nSo, how can I leave the key as `ReviewGroup` and the aggregate part compiles?\r\n\r\n```java\r\n@Bean\r\npublic Function&lt;\r\n        KStream&lt;ReviewGroup, ProductReview&gt;, KStream&lt;ReviewGroup, ProductReviewFeedCollection&gt;&gt;\r\n    aggregate() {\r\n  return reviews -&gt;\r\n      reviews\r\n          .groupByKey()\r\n          .aggregate(\r\n              ProductReviewFeedAggregate::new,\r\n              new ProductReviewFeedAggregator(),\r\n              Materialized.&lt;String, ProductReviewFeedAggregate, KeyValueStore&lt;Bytes, byte[]&gt;&gt;as(\r\n                      &quot;product-review-feed-aggregate&quot;)\r\n                  .withKeySerde(???)\r\n                  .withValueSerde(new ProductReviewFeedAggregateSerde()))\r\n          .toStream()\r\n          .map(new ProductReviewFeedCollectionMapper())\r\n          .peek((key, value) -&gt; log.debug(&quot;Aggregation result: {} - {}&quot;, key, value));\r\n}\r\n```","title":"Kafka Streams - aggregate with object as key","body":"<p>This code below works, but it would be nice if I don't need to map the key at the beginning.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic Function&lt;\n        KStream&lt;ReviewGroup, ProductReview&gt;, KStream&lt;ReviewGroup, ProductReviewFeedCollection&gt;&gt;\n    aggregate() {\n  return reviews -&gt;\n      reviews\n          .map((key, value) -&gt; KeyValue.pair(key.toString(), value))\n          .groupByKey()\n          .aggregate(\n              ProductReviewFeedAggregate::new,\n              new ProductReviewFeedAggregator(),\n              Materialized.&lt;String, ProductReviewFeedAggregate, KeyValueStore&lt;Bytes, byte[]&gt;&gt;as(\n                      &quot;product-review-feed-aggregate&quot;)\n                  .withKeySerde(new Serdes.StringSerde())\n                  .withValueSerde(new ProductReviewFeedAggregateSerde()))\n          .toStream()\n          .map(new ProductReviewFeedCollectionMapper())\n          .peek((key, value) -&gt; log.debug(&quot;Aggregation result: {} - {}&quot;, key, value));\n}\n</code></pre>\n<p>So, how can I leave the key as <code>ReviewGroup</code> and the aggregate part compiles?</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic Function&lt;\n        KStream&lt;ReviewGroup, ProductReview&gt;, KStream&lt;ReviewGroup, ProductReviewFeedCollection&gt;&gt;\n    aggregate() {\n  return reviews -&gt;\n      reviews\n          .groupByKey()\n          .aggregate(\n              ProductReviewFeedAggregate::new,\n              new ProductReviewFeedAggregator(),\n              Materialized.&lt;String, ProductReviewFeedAggregate, KeyValueStore&lt;Bytes, byte[]&gt;&gt;as(\n                      &quot;product-review-feed-aggregate&quot;)\n                  .withKeySerde(???)\n                  .withValueSerde(new ProductReviewFeedAggregateSerde()))\n          .toStream()\n          .map(new ProductReviewFeedCollectionMapper())\n          .peek((key, value) -&gt; log.debug(&quot;Aggregation result: {} - {}&quot;, key, value));\n}\n</code></pre>\n"},{"tags":["java","apache-kafka","spring-cloud-stream","spring-cloud-stream-binder-kafka"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632921823,"creation_date":1632921823,"answer_id":69377294,"question_id":69376961,"body_markdown":"The Log looks good; it implies there are no more records to read after the current committed offset for this group \r\n\r\n```\r\n&gt;Setting offset for partition TOPIC-0 to the committed offset FetchPosition{offset=1076 ...\r\n```\r\n\r\nIf you want to re-read the entire topic you can set the resetOffsets kafka consumer binding property, or change the `group` to one that doesn&#39;t have a committed offset.\r\n\r\nhttps://docs.spring.io/spring-cloud-stream-binder-kafka/docs/3.1.4/reference/html/spring-cloud-stream-binder-kafka.html#reset-offsets","title":"Spring Kafka Binder not receiving any messages but is connected to the topic","body":"<p>The Log looks good; it implies there are no more records to read after the current committed offset for this group</p>\n<pre><code>&gt;Setting offset for partition TOPIC-0 to the committed offset FetchPosition{offset=1076 ...\n</code></pre>\n<p>If you want to re-read the entire topic you can set the resetOffsets kafka consumer binding property, or change the <code>group</code> to one that doesn't have a committed offset.</p>\n<p><a href=\"https://docs.spring.io/spring-cloud-stream-binder-kafka/docs/3.1.4/reference/html/spring-cloud-stream-binder-kafka.html#reset-offsets\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-cloud-stream-binder-kafka/docs/3.1.4/reference/html/spring-cloud-stream-binder-kafka.html#reset-offsets</a></p>\n"}],"owner":{"account_id":22894269,"reputation":19,"user_id":17034002,"display_name":"Java Student"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":765,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632921823,"creation_date":1632920597,"question_id":69376961,"body_markdown":"Hello I have been using Spring Kafka Binder as a consumer. Looking through the logs, I am able to connect to the topic although I am not sure why it is not processing any messages from the producer.\r\n\r\nAny idea on what may be missing? Thank you!\r\n\r\n**POM**\r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-stream&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-stream-binder-kafka&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n**Application YML**\r\n\r\n    cloud:\r\n    zookeeper:\r\n      connect-string: port1.test.com:2181,port2.test.com:2181,port3.test.com:2181\r\n    stream:\r\n      kafka:\r\n        binder:\r\n          brokers:\r\n            - port1.test.com:6667\r\n            - port2.test.com:6667\r\n            - port3.test.com:6667\r\n          auto-create-topics: false\r\n          auto-add-partitions: false\r\n          jaas:\r\n            controlFlag: REQUIRED\r\n            loginModule: com.sun.security.auth.module.Krb5LoginModule\r\n            options:\r\n              useKeyTab: true\r\n              storeKey: true\r\n              serviceName: kafka\r\n              # Change location to your local location\r\n              keyTab: C:\\\\Users\\\\src\\\\main\\\\resources\\\\kafka\\\\kafka_user.keytab\r\n              principal: kafka_user@TEST.COM\r\n              debug: true\r\n          configuration:\r\n            security:\r\n              protocol: SASL_PLAINTEXT\r\n      bindings:\r\n        stream-input:\r\n          binder: kafka\r\n          destination: TOPIC\r\n          group: service-dev\r\n    security:\r\n      krb5conf:\r\n        # Change location to your local location\r\n        location: C:\\\\Users\\\\src\\\\main\\\\resources\\\\kafka\\\\krb5nonprod.conf\r\n\r\n\r\n**Consumer class**\r\n\r\n    public interface EventConsumer {\r\n\r\n    @Input(&quot;stream-input&quot;)\r\n    SubscribableChannel consumeMessage();\r\n    }\r\n\r\n**Listener class**\r\n\r\n    @Slf4j\r\n    @Component\r\n    @RequiredArgsConstructor\r\n    @EnableBinding(EventConsumer.class)\r\n    public class EventListener {\r\n\r\n    @StreamListener(target = &quot;stream-input&quot;)\r\n    public void processMessage(Object msg) {\r\n\r\n**Logs**\r\n\r\n    Started Application in 75.471 seconds (JVM running for 184.663)\r\n    2021-09-29 19:45:01.342  INFO 30340 --- [container-0-C-1] org.apache.kafka.clients.Metadata        \r\n    : [Consumer clientId=consumer-2, groupId=service-dev] Cluster ID: qa_IFa70SravzxvdcDhHA\r\n    2021-09-29 19:45:01.390  INFO 30340 --- [container-0-C-1] \r\n    o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-2, groupId=service-dev] \r\n    Discovered group coordinator port1.test.com:6667 (id: 2147482644 rack: null)\r\n    2021-09-29 19:45:01.399  INFO 30340 --- [container-0-C-1] \r\n    o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-2, groupId=service-dev] \r\n    Revoking previously assigned partitions []\r\n    2021-09-29 19:45:01.400  INFO 30340 --- [container-0-C-1] \r\n    o.s.c.s.b.k.KafkaMessageChannelBinder$1  : service-dev: partitions revoked: []\r\n    2021-09-29 19:45:01.401  INFO 30340 --- [container-0-C-1] \r\n    o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-2, groupId=service-dev] \r\n    (Re-)joining group\r\n    2021-09-29 19:45:01.854  INFO 30340 --- [container-0-C-1] \r\n    o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-2, groupId=service-dev] \r\n    (Re-)joining group\r\n    2021-09-29 19:45:04.387  INFO 30340 --- [container-0-C-1] \r\n    o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-2, groupId=service-dev] \r\n    Successfully joined group with generation 36\r\n    2021-09-29 19:45:04.400  INFO 30340 --- [container-0-C-1] \r\n    o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-2, groupId=service-dev] \r\n    Setting newly assigned partitions: TOPIC-0\r\n    2021-09-29 19:45:04.481  INFO 30340 --- [container-0-C-1] \r\n    o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-2, groupId=service-dev] \r\n    Setting offset for partition TOPIC-0 to the committed offset FetchPosition{offset=1076, \r\n    offsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=port1.test.com:6667 (id: 1003 \r\n    rack: /default-rack), epoch=2}}\r\n    2021-09-29 19:45:04.557  INFO 30340 --- [container-0-C-1] \r\n    o.s.c.s.b.k.KafkaMessageChannelBinder$1  : service-dev: partitions assigned: [TOPIC-0]\r\n\r\nAs you can see from the logs, it was able to connect to the topic. Although I am not sure why I am not receiving any messages from the producer. Is it because of the revoking of the partitions? Does it have something to do on why I am not receiving any messages? The producer comes from a 3rd party, does he needs to do something in order for me to receive messages? It is clear that I am able to connect to the topic. Thank you!","title":"Spring Kafka Binder not receiving any messages but is connected to the topic","body":"<p>Hello I have been using Spring Kafka Binder as a consumer. Looking through the logs, I am able to connect to the topic although I am not sure why it is not processing any messages from the producer.</p>\n<p>Any idea on what may be missing? Thank you!</p>\n<p><strong>POM</strong></p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-stream&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-stream-binder-kafka&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p><strong>Application YML</strong></p>\n<pre><code>cloud:\nzookeeper:\n  connect-string: port1.test.com:2181,port2.test.com:2181,port3.test.com:2181\nstream:\n  kafka:\n    binder:\n      brokers:\n        - port1.test.com:6667\n        - port2.test.com:6667\n        - port3.test.com:6667\n      auto-create-topics: false\n      auto-add-partitions: false\n      jaas:\n        controlFlag: REQUIRED\n        loginModule: com.sun.security.auth.module.Krb5LoginModule\n        options:\n          useKeyTab: true\n          storeKey: true\n          serviceName: kafka\n          # Change location to your local location\n          keyTab: C:\\\\Users\\\\src\\\\main\\\\resources\\\\kafka\\\\kafka_user.keytab\n          principal: kafka_user@TEST.COM\n          debug: true\n      configuration:\n        security:\n          protocol: SASL_PLAINTEXT\n  bindings:\n    stream-input:\n      binder: kafka\n      destination: TOPIC\n      group: service-dev\nsecurity:\n  krb5conf:\n    # Change location to your local location\n    location: C:\\\\Users\\\\src\\\\main\\\\resources\\\\kafka\\\\krb5nonprod.conf\n</code></pre>\n<p><strong>Consumer class</strong></p>\n<pre><code>public interface EventConsumer {\n\n@Input(&quot;stream-input&quot;)\nSubscribableChannel consumeMessage();\n}\n</code></pre>\n<p><strong>Listener class</strong></p>\n<pre><code>@Slf4j\n@Component\n@RequiredArgsConstructor\n@EnableBinding(EventConsumer.class)\npublic class EventListener {\n\n@StreamListener(target = &quot;stream-input&quot;)\npublic void processMessage(Object msg) {\n</code></pre>\n<p><strong>Logs</strong></p>\n<pre><code>Started Application in 75.471 seconds (JVM running for 184.663)\n2021-09-29 19:45:01.342  INFO 30340 --- [container-0-C-1] org.apache.kafka.clients.Metadata        \n: [Consumer clientId=consumer-2, groupId=service-dev] Cluster ID: qa_IFa70SravzxvdcDhHA\n2021-09-29 19:45:01.390  INFO 30340 --- [container-0-C-1] \no.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-2, groupId=service-dev] \nDiscovered group coordinator port1.test.com:6667 (id: 2147482644 rack: null)\n2021-09-29 19:45:01.399  INFO 30340 --- [container-0-C-1] \no.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-2, groupId=service-dev] \nRevoking previously assigned partitions []\n2021-09-29 19:45:01.400  INFO 30340 --- [container-0-C-1] \no.s.c.s.b.k.KafkaMessageChannelBinder$1  : service-dev: partitions revoked: []\n2021-09-29 19:45:01.401  INFO 30340 --- [container-0-C-1] \no.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-2, groupId=service-dev] \n(Re-)joining group\n2021-09-29 19:45:01.854  INFO 30340 --- [container-0-C-1] \no.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-2, groupId=service-dev] \n(Re-)joining group\n2021-09-29 19:45:04.387  INFO 30340 --- [container-0-C-1] \no.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-2, groupId=service-dev] \nSuccessfully joined group with generation 36\n2021-09-29 19:45:04.400  INFO 30340 --- [container-0-C-1] \no.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-2, groupId=service-dev] \nSetting newly assigned partitions: TOPIC-0\n2021-09-29 19:45:04.481  INFO 30340 --- [container-0-C-1] \no.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-2, groupId=service-dev] \nSetting offset for partition TOPIC-0 to the committed offset FetchPosition{offset=1076, \noffsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=port1.test.com:6667 (id: 1003 \nrack: /default-rack), epoch=2}}\n2021-09-29 19:45:04.557  INFO 30340 --- [container-0-C-1] \no.s.c.s.b.k.KafkaMessageChannelBinder$1  : service-dev: partitions assigned: [TOPIC-0]\n</code></pre>\n<p>As you can see from the logs, it was able to connect to the topic. Although I am not sure why I am not receiving any messages from the producer. Is it because of the revoking of the partitions? Does it have something to do on why I am not receiving any messages? The producer comes from a 3rd party, does he needs to do something in order for me to receive messages? It is clear that I am able to connect to the topic. Thank you!</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":8005177,"reputation":344,"user_id":6038682,"display_name":"William Andr&#233;s Bernal"},"score":2,"creation_date":1632920656,"post_id":69376962,"comment_id":122623061,"body_markdown":"Please write your question in a better way and try to put the things you have done and the problems you found.","body":"Please write your question in a better way and try to put the things you have done and the problems you found."},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1632920750,"post_id":69376962,"comment_id":122623118,"body_markdown":"You may want to read about parent POMs and `&lt;scope&gt;import&lt;/scope&gt;`.","body":"You may want to read about parent POMs and <code>&lt;scope&gt;import&lt;&#47;scope&gt;</code>."},{"owner":{"account_id":20525751,"reputation":949,"user_id":15064224,"display_name":"Issa Khodadadi"},"score":2,"creation_date":1632920799,"post_id":69376962,"comment_id":122623141,"body_markdown":"what you want is not clear! look how to ask a good question : https://stackoverflow.com/help/how-to-ask","body":"what you want is not clear! look how to ask a good question : <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"}],"answers":[{"tags":[],"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1632921527,"creation_date":1632921527,"answer_id":69377219,"question_id":69376962,"body_markdown":"In order to include a POM in another POM, you need to create the POM to include, first.\r\n\r\nIn order to do this, create a new maven project without `src/main` and `srv/test` and change `&lt;packaging&gt;jar&lt;/packaging&gt;` to `&lt;packaging&gt;pom&lt;/packaging&gt;`.\r\n\r\nWrite everything you want to include in that pom.xml and publish it to a maven repository.\r\n\r\nAfter that, you can include it as a parent project or a pom dependency:\r\n\r\n```xml\r\n&lt;parent&gt;\r\n    &lt;groupId&gt;include.pom.group-id&lt;/groupId&gt;\r\n    &lt;artifactId&gt;include-pom-artifacr-id&lt;/artifactId&gt;\r\n    &lt;version&gt;YOUR_VERSION&lt;/version&gt;\r\n&lt;/parent&gt;\r\n```\r\nor\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;include.pomgroup-id&lt;/groupId&gt;\r\n    &lt;artifactId&gt;include-pom-artifacr-id&lt;/artifactId&gt;\r\n    &lt;version&gt;YOUR_VERSION&lt;/version&gt;\r\n    &lt;type&gt;pom&lt;/type&gt;\r\n    &lt;scope&gt;import&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Maven root pom.xml insert file conten","body":"<p>In order to include a POM in another POM, you need to create the POM to include, first.</p>\n<p>In order to do this, create a new maven project without <code>src/main</code> and <code>srv/test</code> and change <code>&lt;packaging&gt;jar&lt;/packaging&gt;</code> to <code>&lt;packaging&gt;pom&lt;/packaging&gt;</code>.</p>\n<p>Write everything you want to include in that pom.xml and publish it to a maven repository.</p>\n<p>After that, you can include it as a parent project or a pom dependency:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;parent&gt;\n    &lt;groupId&gt;include.pom.group-id&lt;/groupId&gt;\n    &lt;artifactId&gt;include-pom-artifacr-id&lt;/artifactId&gt;\n    &lt;version&gt;YOUR_VERSION&lt;/version&gt;\n&lt;/parent&gt;\n</code></pre>\n<p>or</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;include.pomgroup-id&lt;/groupId&gt;\n    &lt;artifactId&gt;include-pom-artifacr-id&lt;/artifactId&gt;\n    &lt;version&gt;YOUR_VERSION&lt;/version&gt;\n    &lt;type&gt;pom&lt;/type&gt;\n    &lt;scope&gt;import&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":22894858,"reputation":41,"user_id":17034521,"display_name":"Partunaks"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69377219,"answer_count":1,"score":-1,"last_activity_date":1632921527,"creation_date":1632920600,"question_id":69376962,"body_markdown":"Is there any possibility to inject parameters into root pom.xml of project from another file?\r\n\r\nMaybe there something like &quot;include&quot; parameter?","title":"Maven root pom.xml insert file conten","body":"<p>Is there any possibility to inject parameters into root pom.xml of project from another file?</p>\n<p>Maybe there something like &quot;include&quot; parameter?</p>\n"},{"tags":["java","overriding","subclass","superclass"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":4,"creation_date":1632919965,"post_id":69376768,"comment_id":122622710,"body_markdown":"have you heard of the &#39;super&#39; keyword?","body":"have you heard of the &#39;super&#39; keyword?"},{"owner":{"account_id":22353547,"reputation":88,"user_id":16571212,"display_name":"rushabhvg"},"score":0,"creation_date":1632920068,"post_id":69376768,"comment_id":122622758,"body_markdown":"I didn&#39;t, but, thanks for suggesting that @Stultuske","body":"I didn&#39;t, but, thanks for suggesting that @Stultuske"}],"answers":[{"tags":[],"owner":{"account_id":14376658,"reputation":383,"user_id":10384954,"display_name":"Wladimir Diskowski"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1632920549,"creation_date":1632920549,"answer_id":69376950,"question_id":69376768,"body_markdown":"```\r\npublic class superA {\r\n    public void display() {\r\n        System.out.println(&quot;\\nIn super class superA&quot;);\r\n    }\r\n}\r\n\r\npublic class subB extends superA {\r\n    @Override\r\n    public void display() {\r\n        super.display();\r\n        System.out.println(&quot;\\nIn sub class subB&quot;);\r\n    }\r\n}\r\n\r\npublic class subC extends superA {\r\n    @Override\r\n    public void display() {\r\n        super.display();\r\n        System.out.println(&quot;\\nIn sub class subC&quot;);\r\n    }\r\n}\r\n```","title":"In JAVA, is it possible to print something in super class method, and override and add more information to it in sub class?","body":"<pre><code>public class superA {\n    public void display() {\n        System.out.println(&quot;\\nIn super class superA&quot;);\n    }\n}\n\npublic class subB extends superA {\n    @Override\n    public void display() {\n        super.display();\n        System.out.println(&quot;\\nIn sub class subB&quot;);\n    }\n}\n\npublic class subC extends superA {\n    @Override\n    public void display() {\n        super.display();\n        System.out.println(&quot;\\nIn sub class subC&quot;);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22894242,"reputation":26,"user_id":17033980,"display_name":"Sandip Naikwade"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1632921187,"creation_date":1632921187,"answer_id":69377119,"question_id":69376768,"body_markdown":"The method names of all the classes parent and child is same, when you want to override superclass/parent class method with same name in child class you have to use super keyword.","title":"In JAVA, is it possible to print something in super class method, and override and add more information to it in sub class?","body":"<p>The method names of all the classes parent and child is same, when you want to override superclass/parent class method with same name in child class you have to use super keyword.</p>\n"}],"owner":{"account_id":22353547,"reputation":88,"user_id":16571212,"display_name":"rushabhvg"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":642,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69377119,"answer_count":2,"score":0,"last_activity_date":1632921187,"creation_date":1632919906,"question_id":69376768,"body_markdown":"```\r\npublic class superA {\r\n    public void display() {\r\n        System.out.println(&quot;In super class superA&quot;);\r\n    }\r\n}\r\n\r\npublic class subB extends superA {\r\n    @Override\r\n    public void display() {\r\n        System.out.println(&quot;In sub class subB&quot;);\r\n    }\r\n}\r\n\r\npublic class subC extends superA {\r\n    @Override\r\n    public void display() {\r\n        System.out.println(&quot;In sub class subC&quot;);\r\n    }\r\n}\r\n```\r\n\r\nIf an object of sub class subB calls display method, it should give output like:\r\n(new line)In super class superA\r\n(new line)In sub class subB","title":"In JAVA, is it possible to print something in super class method, and override and add more information to it in sub class?","body":"<pre><code>public class superA {\n    public void display() {\n        System.out.println(&quot;In super class superA&quot;);\n    }\n}\n\npublic class subB extends superA {\n    @Override\n    public void display() {\n        System.out.println(&quot;In sub class subB&quot;);\n    }\n}\n\npublic class subC extends superA {\n    @Override\n    public void display() {\n        System.out.println(&quot;In sub class subC&quot;);\n    }\n}\n</code></pre>\n<p>If an object of sub class subB calls display method, it should give output like:\n(new line)In super class superA\n(new line)In sub class subB</p>\n"},{"tags":["java","inputstream"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1632920238,"post_id":69376718,"comment_id":122622846,"body_markdown":"You&#39;re assigning the bytes read to `len`, but then use `bytesRead`, which is always 0 to create the string. BTW: You&#39;re approach could fail with UTF-8, because you might have a character that straddles two reads.","body":"You&#39;re assigning the bytes read to <code>len</code>, but then use <code>bytesRead</code>, which is always 0 to create the string. BTW: You&#39;re approach could fail with UTF-8, because you might have a character that straddles two reads."}],"answers":[{"tags":[],"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1632921157,"creation_date":1632920274,"answer_id":69376870,"question_id":69376718,"body_markdown":"The first problem in this code is that you never assigned anything to `bytesRead`.\r\n\r\nBut if you fix this, you still fundamentally read the text file the wrong way, because you&#39;re trying to manually decode `byte[]` to `String` in basically arbitrary chunks. That works fine if the text happens to only ever encode one character in exactly one byte. But as soon as you use a wide encoding (such as UCS-2) or a variable-length encoding (such as UTF-8 and UTF-16), this is prone to errors (which would introduce unnecessary decoding problems).\r\n\r\nThe correct way to read text from an `InputStream` is to wrap it in an [`InputStreamReader`][1]:\r\n\r\n```\r\nInputStream in = fs.getInputStreamFromVault(location);\r\nReader inReader = new InputStreamReader(in, StandardCharsets.UTF_8);\r\n\r\nStringBuilder contentBuilder = new StringBuilder();\r\nchar[] buf = new char[64*1024]; //arbitrary buffer size\r\nint charsRead;\r\nwhile ((charsRead = inReader.read(buf)) &gt; 0) {\r\n    contentBuilder.append(buf, 0, charsRead);\r\n}\r\n\r\nString strFileContents = contentBuilder.toString();\r\nlogger.info(&quot;strFileContents &quot; + strFileContents);\r\n```\r\n\r\nNote that this also replaces string concatenation with the use of a `StringBuilder` which probably doesn&#39;t matter for such a small file, but is still a good habit to get into, because string concatenation in a loop is [a bad idea][2].\r\n\r\nLast but not least this *also* makes sure to specify the encoding to use instead of depending on the platform default encoding.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/InputStreamReader.html\r\n  [2]: https://stackoverflow.com/questions/18561424/using-for-strings-in-a-loop-is-it-bad-practice/18561542","title":"Reading InputStream into byte array and then converting to String problem","body":"<p>The first problem in this code is that you never assigned anything to <code>bytesRead</code>.</p>\n<p>But if you fix this, you still fundamentally read the text file the wrong way, because you're trying to manually decode <code>byte[]</code> to <code>String</code> in basically arbitrary chunks. That works fine if the text happens to only ever encode one character in exactly one byte. But as soon as you use a wide encoding (such as UCS-2) or a variable-length encoding (such as UTF-8 and UTF-16), this is prone to errors (which would introduce unnecessary decoding problems).</p>\n<p>The correct way to read text from an <code>InputStream</code> is to wrap it in an <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/InputStreamReader.html\" rel=\"nofollow noreferrer\"><code>InputStreamReader</code></a>:</p>\n<pre><code>InputStream in = fs.getInputStreamFromVault(location);\nReader inReader = new InputStreamReader(in, StandardCharsets.UTF_8);\n\nStringBuilder contentBuilder = new StringBuilder();\nchar[] buf = new char[64*1024]; //arbitrary buffer size\nint charsRead;\nwhile ((charsRead = inReader.read(buf)) &gt; 0) {\n    contentBuilder.append(buf, 0, charsRead);\n}\n\nString strFileContents = contentBuilder.toString();\nlogger.info(&quot;strFileContents &quot; + strFileContents);\n</code></pre>\n<p>Note that this also replaces string concatenation with the use of a <code>StringBuilder</code> which probably doesn't matter for such a small file, but is still a good habit to get into, because string concatenation in a loop is <a href=\"https://stackoverflow.com/questions/18561424/using-for-strings-in-a-loop-is-it-bad-practice/18561542\">a bad idea</a>.</p>\n<p>Last but not least this <em>also</em> makes sure to specify the encoding to use instead of depending on the platform default encoding.</p>\n"}],"owner":{"account_id":3028954,"reputation":1214,"user_id":2568374,"accept_rate":27,"display_name":"user2568374"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":223,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1632921157,"creation_date":1632919736,"question_id":69376718,"body_markdown":"I get the following log messages from this code, and I&#39;m not sure why I am not getting the output in the string. Can someone advise if I am converting something incorrectly? `len` has a value, so I know the InputStream is good. `location` is also verified as good.\r\n\r\nThe files size I&#39;m reading is 42.7 KB.\r\n\r\n    FileServices fs = new FileServices(&quot;&quot;);\r\n    InputStream in = fs.getInputStreamFromVault(location);\r\n\r\n    int len;\r\n    String strFileContents = &quot;&quot;;\r\n\r\n    logger.info(logPrefix + &quot;file1 &quot;);\r\n    BufferedInputStream inBuff = new BufferedInputStream(in);\r\n    logger.info(logPrefix + &quot;file2 &quot;);\r\n    byte[] buf = new byte[564000];\r\n    logger.info(logPrefix + &quot;file3 &quot;);\r\n    int bytesRead = 0;\r\n    while ((len = inBuff.read(buf)) &gt; 0) {\r\n        logger.info(logPrefix + &quot;file4 &quot;);\r\n        logger.info(&quot;len &quot; + len); \r\n        \r\n        strFileContents += new String(buf, 0, bytesRead); \r\n        logger.info(&quot;bytesRead &quot; + bytesRead); \r\n\r\n        //String string = new String(buf, &quot;UTF-8&quot;); \r\n        //stream.write(buf, 0, len);\r\n        logger.info(&quot;strFileContents &quot; + strFileContents);\r\n    }\r\n\r\nLog output\r\n\r\n    INFO  : [prefix] file1 \r\n    INFO  : [prefix] file2 \r\n    INFO  : [prefix] file3 \r\n    INFO  : [prefix] file4 \r\n    INFO  : len 43681\r\n    INFO  : bytesRead 0\r\n    INFO  : strFileContents \r\n\r\n","title":"Reading InputStream into byte array and then converting to String problem","body":"<p>I get the following log messages from this code, and I'm not sure why I am not getting the output in the string. Can someone advise if I am converting something incorrectly? <code>len</code> has a value, so I know the InputStream is good. <code>location</code> is also verified as good.</p>\n<p>The files size I'm reading is 42.7 KB.</p>\n<pre><code>FileServices fs = new FileServices(&quot;&quot;);\nInputStream in = fs.getInputStreamFromVault(location);\n\nint len;\nString strFileContents = &quot;&quot;;\n\nlogger.info(logPrefix + &quot;file1 &quot;);\nBufferedInputStream inBuff = new BufferedInputStream(in);\nlogger.info(logPrefix + &quot;file2 &quot;);\nbyte[] buf = new byte[564000];\nlogger.info(logPrefix + &quot;file3 &quot;);\nint bytesRead = 0;\nwhile ((len = inBuff.read(buf)) &gt; 0) {\n    logger.info(logPrefix + &quot;file4 &quot;);\n    logger.info(&quot;len &quot; + len); \n    \n    strFileContents += new String(buf, 0, bytesRead); \n    logger.info(&quot;bytesRead &quot; + bytesRead); \n\n    //String string = new String(buf, &quot;UTF-8&quot;); \n    //stream.write(buf, 0, len);\n    logger.info(&quot;strFileContents &quot; + strFileContents);\n}\n</code></pre>\n<p>Log output</p>\n<pre><code>INFO  : [prefix] file1 \nINFO  : [prefix] file2 \nINFO  : [prefix] file3 \nINFO  : [prefix] file4 \nINFO  : len 43681\nINFO  : bytesRead 0\nINFO  : strFileContents \n</code></pre>\n"},{"tags":["java","date","java-11"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1632735173,"post_id":69344232,"comment_id":122564122,"body_markdown":"Shouldn&#39;t `dddd` rather be `EEEE`? I mean what do you expect from a spelled out day of month? When I use this pattern and print out a `new Date()` (today), I get this output: `0027, 27 September 2021`","body":"Shouldn&#39;t <code>dddd</code> rather be <code>EEEE</code>? I mean what do you expect from a spelled out day of month? When I use this pattern and print out a <code>new Date()</code> (today), I get this output: <code>0027, 27 September 2021</code>"},{"owner":{"account_id":3137205,"reputation":49,"user_id":2653482,"display_name":"Daan"},"score":1,"creation_date":1632735326,"post_id":69344232,"comment_id":122564185,"body_markdown":"I&#39;ll add a bit more info","body":"I&#39;ll add a bit more info"},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1632735350,"post_id":69344232,"comment_id":122564196,"body_markdown":"Thanks, please add some code snippets, too.","body":"Thanks, please add some code snippets, too."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1632735929,"post_id":69344232,"comment_id":122564436,"body_markdown":"You shouldn’t be using `DateFormatSymbols`. That class belongs with the old and trouble some date and time classes from Java 1.0 and 1.1. Use [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/) since Java 1.8. Not that it’s likely in itself to solve your issue.","body":"You shouldn’t be using <code>DateFormatSymbols</code>. That class belongs with the old and trouble some date and time classes from Java 1.0 and 1.1. Use <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a> since Java 1.8. Not that it’s likely in itself to solve your issue."},{"owner":{"account_id":3137205,"reputation":49,"user_id":2653482,"display_name":"Daan"},"score":1,"creation_date":1632736001,"post_id":69344232,"comment_id":122564475,"body_markdown":"It is the Aspose library that is using the DateFormatSymbols for conversion.","body":"It is the Aspose library that is using the DateFormatSymbols for conversion."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1632736013,"post_id":69344232,"comment_id":122564483,"body_markdown":"I cannot reproduce. On my Java 11 with default locale providers I get for example `[januari, februari, maart, april, mei, juni, juli, augustus, september, oktober, november, december, ]`.","body":"I cannot reproduce. On my Java 11 with default locale providers I get for example <code>[januari, februari, maart, april, mei, juni, juli, augustus, september, oktober, november, december, ]</code>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1632736766,"post_id":69344232,"comment_id":122564804,"body_markdown":"What does `System.out.println(LocalDate.now(ZoneId.systemDefault()).format(DateTimeFormatter.ofLocalizedDate(FormatStyle.FULL).withLocale(Locale.forLanguageTag(&quot;nl-NL&quot;))));` output on your system? I get `maandag 27 september 2021`.","body":"What does <code>System.out.println(LocalDate.now(ZoneId.systemDefault()).for&zwnj;&#8203;mat(DateTimeFormatte&zwnj;&#8203;r.ofLocalizedDate(Fo&zwnj;&#8203;rmatStyle.FULL).with&zwnj;&#8203;Locale(Locale.forLan&zwnj;&#8203;guageTag(&quot;nl-NL&quot;))))&zwnj;&#8203;;</code> output on your system? I get <code>maandag 27 september 2021</code>."},{"owner":{"account_id":3137205,"reputation":49,"user_id":2653482,"display_name":"Daan"},"score":0,"creation_date":1632743615,"post_id":69344232,"comment_id":122567475,"body_markdown":"@OleV.V. the output is Monday, 27 September 2021","body":"@OleV.V. the output is Monday, 27 September 2021"},{"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"score":1,"creation_date":1632750395,"post_id":69344232,"comment_id":122570357,"body_markdown":"Note that the language tag appears to use a hyphen rather than an underscore.  This may be a factor as the question indicates that you are setting it to `nl_NL` whereas OleV.V. comments indicates he is using `nl-NL`.","body":"Note that the language tag appears to use a hyphen rather than an underscore.  This may be a factor as the question indicates that you are setting it to <code>nl_NL</code> whereas OleV.V. comments indicates he is using <code>nl-NL</code>."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1632758889,"post_id":69344232,"comment_id":122574100,"body_markdown":"Post brief, but complete, example code demonstrating your problem so we might verify.","body":"Post brief, but complete, example code demonstrating your problem so we might verify."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1632781959,"post_id":69344232,"comment_id":122581643,"body_markdown":"@vsfDawg That’s no issue. The langauge tag is `nl-NL` alright, which you also see in the image in the question. `Locale.toString()` produces `nl_NL` with an underscore for historic reasons, which is shown in the image too.","body":"@vsfDawg That’s no issue. The langauge tag is <code>nl-NL</code> alright, which you also see in the image in the question. <code>Locale.toString()</code> produces <code>nl_NL</code> with an underscore for historic reasons, which is shown in the image too."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1632782074,"post_id":69344232,"comment_id":122581661,"body_markdown":"@Daan Thanks for answering. That’s weird alright. It could look like your locale data are corrupt or even missing. Does it work with Java 10 or 12, for example?","body":"@Daan Thanks for answering. That’s weird alright. It could look like your locale data are corrupt or even missing. Does it work with Java 10 or 12, for example?"},{"owner":{"account_id":3137205,"reputation":49,"user_id":2653482,"display_name":"Daan"},"score":2,"creation_date":1632821991,"post_id":69344232,"comment_id":122591674,"body_markdown":"After days of debugging we finally traced the issue back to https://bugs.openjdk.java.net/browse/JDK-8261913. Thanks everyone for the answers.","body":"After days of debugging we finally traced the issue back to <a href=\"https://bugs.openjdk.java.net/browse/JDK-8261913\" rel=\"nofollow noreferrer\">bugs.openjdk.java.net/browse/JDK-8261913</a>. Thanks everyone for the answers."}],"answers":[{"tags":[],"owner":{"account_id":3137205,"reputation":49,"user_id":2653482,"display_name":"Daan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1632921124,"creation_date":1632915320,"answer_id":69375604,"question_id":69344232,"body_markdown":"I&#39;ve tried posting the java issue in the answer but it got moderated because it is not an solution to the bug, which is correct. We fixed our problem by removing the flight recorder from our Docker image. As said, setting the flag causes the language providers to be loaded very early in the startup process and when only the default en_US locale is available. Link to the java bug is:\r\n\r\nLink: [Flight Recorder VM Option causes wrong initialization of Locale Providers](https://bugs.openjdk.java.net/browse/JDK-8261913) in the JDK Bug System","title":"DateFormatSymbols gives the wrong translation of months/days","body":"<p>I've tried posting the java issue in the answer but it got moderated because it is not an solution to the bug, which is correct. We fixed our problem by removing the flight recorder from our Docker image. As said, setting the flag causes the language providers to be loaded very early in the startup process and when only the default en_US locale is available. Link to the java bug is:</p>\n<p>Link: <a href=\"https://bugs.openjdk.java.net/browse/JDK-8261913\" rel=\"nofollow noreferrer\">Flight Recorder VM Option causes wrong initialization of Locale Providers</a> in the JDK Bug System</p>\n"}],"owner":{"account_id":3137205,"reputation":49,"user_id":2653482,"display_name":"Daan"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":200,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":1,"score":2,"last_activity_date":1632921124,"creation_date":1632734579,"question_id":69344232,"body_markdown":"We&#39;ve recently migrated from Java 8 to 11. Upon testing our new version we discovered that when a date is spelled out (dddd, dd MMMM yyyy) the resulting months/days are in English. Our default locale is set to nl_NL. Reverting back to Java 8 fixes the problem so it is related to the upgrade. We&#39;ve tried a number of things:\r\n\r\n - Setting default locale tot nl_NL in docker image and application\r\n - Setting &quot;java.locale.providers&quot; to &quot;COMPAT,CLDR&quot;\r\n - Upgrading libraries\r\n\r\nWhen debugging our acceptatie environment, we notice that DateFormatSymbols has the wrong translation of months/weeks.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nEDIT:\r\nThe problem occurs when generating Word documents from user created templates. These templates contain mergefields, these mergefields are used to create the correct document. The dateformat is being set on the mergefield (e.g.  { MERGEFIELD Merge_Date \\@ &quot;dddd, MMMM d, yyyy&quot; }). Library used for generating these documents is Aspose Word. The Aspose library is using the `DateFormatSymbols` for conversion.\r\n\r\nHelp would be appreciated, we&#39;ve ran out of idea&#39;s. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JTq94.png","title":"DateFormatSymbols gives the wrong translation of months/days","body":"<p>We've recently migrated from Java 8 to 11. Upon testing our new version we discovered that when a date is spelled out (dddd, dd MMMM yyyy) the resulting months/days are in English. Our default locale is set to nl_NL. Reverting back to Java 8 fixes the problem so it is related to the upgrade. We've tried a number of things:</p>\n<ul>\n<li>Setting default locale tot nl_NL in docker image and application</li>\n<li>Setting &quot;java.locale.providers&quot; to &quot;COMPAT,CLDR&quot;</li>\n<li>Upgrading libraries</li>\n</ul>\n<p>When debugging our acceptatie environment, we notice that DateFormatSymbols has the wrong translation of months/weeks.</p>\n<p><a href=\"https://i.stack.imgur.com/JTq94.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JTq94.png\" alt=\"enter image description here\" /></a></p>\n<p>EDIT:\nThe problem occurs when generating Word documents from user created templates. These templates contain mergefields, these mergefields are used to create the correct document. The dateformat is being set on the mergefield (e.g.  { MERGEFIELD Merge_Date @ &quot;dddd, MMMM d, yyyy&quot; }). Library used for generating these documents is Aspose Word. The Aspose library is using the <code>DateFormatSymbols</code> for conversion.</p>\n<p>Help would be appreciated, we've ran out of idea's.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8006,"page":1986,"page_size":100}
