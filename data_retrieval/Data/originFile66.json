{"items":[{"tags":["java","scala","intellij-idea"],"answers":[{"tags":[],"owner":{"display_name":"user5497885"},"down_vote_count":6,"up_vote_count":11,"is_accepted":true,"score":5,"last_activity_date":1590721464,"creation_date":1459713281,"answer_id":36390403,"question_id":36341257,"body_markdown":"SOLVED as Follow:\r\n\r\nIn project settings, you need to manually add:\r\n\r\n1. JDK Folder\r\n2. Module and dependencies to JDK AND Scala JAR\r\n\r\n3. In library, Add MANUALLY the JAR of Scala (IntelliJ does not add those JAR. it creates compile issues).\r\n\r\n4. in Global library, check the JAR of scala are same.\r\n\r\nThere is an option to see the DEBUG in verbose mode:\r\n\r\nhttps://intellij-support.jetbrains.com/hc/articles/207241085\r\n\r\nThis is very useful.\r\n\r\n","title":"IntelliJ Bug: Scala 145, Error:scalac: Scala compiler JARs not found","body":"<p>SOLVED as Follow:</p>\n\n<p>In project settings, you need to manually add:</p>\n\n<ol>\n<li>JDK Folder</li>\n<li><p>Module and dependencies to JDK AND Scala JAR</p></li>\n<li><p>In library, Add MANUALLY the JAR of Scala (IntelliJ does not add those JAR. it creates compile issues).</p></li>\n<li><p>in Global library, check the JAR of scala are same.</p></li>\n</ol>\n\n<p>There is an option to see the DEBUG in verbose mode:</p>\n\n<p><a href=\"https://intellij-support.jetbrains.com/hc/articles/207241085\" rel=\"nofollow noreferrer\">https://intellij-support.jetbrains.com/hc/articles/207241085</a></p>\n\n<p>This is very useful.</p>\n"},{"tags":[],"owner":{"account_id":7342540,"reputation":940,"user_id":5718679,"accept_rate":75,"display_name":"Orar"},"down_vote_count":3,"up_vote_count":59,"is_accepted":false,"score":56,"last_activity_date":1539755295,"creation_date":1464939860,"answer_id":37608741,"question_id":36341257,"body_markdown":"Please goto File &gt; Settings (**Ctrl+Alt+S**, Windows)/Preferences (Mac) &gt; Plugin\r\nSearch for &quot;scala&quot;. Uninstall Scala plugin.. Restart IDE.\r\nReinstall it. Restart IDE and install the plugin. Everything works OK\r\n","title":"IntelliJ Bug: Scala 145, Error:scalac: Scala compiler JARs not found","body":"<p>Please goto File > Settings (<strong>Ctrl+Alt+S</strong>, Windows)/Preferences (Mac) > Plugin\nSearch for \"scala\". Uninstall Scala plugin.. Restart IDE.\nReinstall it. Restart IDE and install the plugin. Everything works OK</p>\n"},{"tags":[],"owner":{"account_id":2833025,"reputation":1032,"user_id":3026310,"display_name":"Eron Wright"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1526661672,"creation_date":1526661672,"answer_id":50415849,"question_id":36341257,"body_markdown":"If your project is Gradle-based, one possibility is that the project is looking for Scala libraries in the .m2 cache that don&#39;t exist.  To confirm, open &quot;Project Structure...&quot;, go to &quot;Libraries&quot;, and examine the list for &quot;Gradle: org.scala-lang:...&quot; that contain errors related to missing files.\r\n\r\nIf this is the issue, simply re-import the project from scratch.","title":"IntelliJ Bug: Scala 145, Error:scalac: Scala compiler JARs not found","body":"<p>If your project is Gradle-based, one possibility is that the project is looking for Scala libraries in the .m2 cache that don't exist.  To confirm, open \"Project Structure...\", go to \"Libraries\", and examine the list for \"Gradle: org.scala-lang:...\" that contain errors related to missing files.</p>\n\n<p>If this is the issue, simply re-import the project from scratch.</p>\n"},{"tags":[],"owner":{"account_id":18276580,"reputation":1,"user_id":13306254,"display_name":"Varsha"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1586816938,"creation_date":1586816938,"answer_id":61197826,"question_id":36341257,"body_markdown":"In IntelliJ, ensure that the external libraries are present.\r\nIf already present, open library settings and check the path to the jars is not in red.\r\nIf in red, correct the path to the jars\r\n\r\n\r\n","title":"IntelliJ Bug: Scala 145, Error:scalac: Scala compiler JARs not found","body":"<p>In IntelliJ, ensure that the external libraries are present.\nIf already present, open library settings and check the path to the jars is not in red.\nIf in red, correct the path to the jars</p>\n"},{"tags":[],"owner":{"account_id":5471129,"reputation":789,"user_id":4350480,"display_name":"Hasan Aslam"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1591194582,"creation_date":1591194582,"answer_id":62175404,"question_id":36341257,"body_markdown":"In the more recent versions of IntelliJ (2020.1.1) at the time of writing this, I was able to solve this problem by removing the Scala SDK configured in the `Global Libraries` section in IntelliJ and hitting `File &gt; Invalid Caches / Restart`. \r\n\r\nI&#39;m not sure why this solved the issue, perhaps recent versions of the IDE now have automatic detection of Scala compiler JAR files from Maven (which I&#39;m using to build my project).","title":"IntelliJ Bug: Scala 145, Error:scalac: Scala compiler JARs not found","body":"<p>In the more recent versions of IntelliJ (2020.1.1) at the time of writing this, I was able to solve this problem by removing the Scala SDK configured in the <code>Global Libraries</code> section in IntelliJ and hitting <code>File &gt; Invalid Caches / Restart</code>. </p>\n\n<p>I'm not sure why this solved the issue, perhaps recent versions of the IDE now have automatic detection of Scala compiler JAR files from Maven (which I'm using to build my project).</p>\n"},{"tags":[],"owner":{"account_id":12464355,"reputation":31,"user_id":9074918,"display_name":"Philip K"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1599724603,"creation_date":1599724603,"answer_id":63825247,"question_id":36341257,"body_markdown":"Open File -&gt; Project Structure\r\n\r\nGo to Libraries under Project Settings\r\n\r\n  [1]: https://i.stack.imgur.com/erhGh.png\r\n\r\nClick on the minus button on the erroring Scala library\r\n\r\nOpen an existing Scala class in IntelliJ and you will see the prompt to set up Scala SDK and click on that\r\n\r\n\r\n","title":"IntelliJ Bug: Scala 145, Error:scalac: Scala compiler JARs not found","body":"<p>Open File -&gt; Project Structure</p>\n<p>Go to Libraries under Project Settings</p>\n<p>Click on the minus button on the erroring Scala library</p>\n<p>Open an existing Scala class in IntelliJ and you will see the prompt to set up Scala SDK and click on that</p>\n"},{"tags":[],"owner":{"account_id":20459691,"reputation":171,"user_id":15012605,"display_name":"iammallikarjuna"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1615372346,"creation_date":1615372346,"answer_id":66562924,"question_id":36341257,"body_markdown":"https://www.jetbrains.com/help/idea/invalidate-caches.html\r\n\r\nIntelliJ IDEA caches a great number of files, therefore the system cache may become overloaded. Sometimes the caches will never be needed again, for example, if you work with frequent short-term projects.\r\n\r\nWhen you invalidate the cache, IntelliJ IDEA rebuilds all projects ever run in the current version of the IDE.\r\n\r\nClear the system cache﻿\r\n1.From the main menu, select File | Invalidate Caches / Restart.\r\n\r\n2.In the Invalidate Caches dialog, select an action. You can invalidate the caches and restart the IDE or just restart the IDE.\r\n\r\nThis worked for me.","title":"IntelliJ Bug: Scala 145, Error:scalac: Scala compiler JARs not found","body":"<p><a href=\"https://www.jetbrains.com/help/idea/invalidate-caches.html\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/help/idea/invalidate-caches.html</a></p>\n<p>IntelliJ IDEA caches a great number of files, therefore the system cache may become overloaded. Sometimes the caches will never be needed again, for example, if you work with frequent short-term projects.</p>\n<p>When you invalidate the cache, IntelliJ IDEA rebuilds all projects ever run in the current version of the IDE.</p>\n<p>Clear the system cache﻿\n1.From the main menu, select File | Invalidate Caches / Restart.</p>\n<p>2.In the Invalidate Caches dialog, select an action. You can invalidate the caches and restart the IDE or just restart the IDE.</p>\n<p>This worked for me.</p>\n"},{"tags":[],"owner":{"account_id":3557255,"reputation":5204,"user_id":2970705,"display_name":"JavAlex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1618929715,"creation_date":1618929715,"answer_id":67181148,"question_id":36341257,"body_markdown":"For me, the following solution worked:\r\n\r\nGo to *Project Settings &gt; Modules &gt; Dependencies*, select the Scala SDK, *Edit*, and correct the path of the Scala JARs:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/uDuJR.png","title":"IntelliJ Bug: Scala 145, Error:scalac: Scala compiler JARs not found","body":"<p>For me, the following solution worked:</p>\n<p>Go to <em>Project Settings &gt; Modules &gt; Dependencies</em>, select the Scala SDK, <em>Edit</em>, and correct the path of the Scala JARs:</p>\n<p><a href=\"https://i.stack.imgur.com/uDuJR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uDuJR.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":3588226,"reputation":3348,"user_id":2994854,"accept_rate":0,"display_name":"mithunpaul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634620899,"creation_date":1634620899,"answer_id":69625482,"question_id":36341257,"body_markdown":"Update @Oct 2021: This error means plugin needed an update and was solved by : goto File &gt; Settings (Ctrl+Alt+S, Windows)/Preferences (Mac) &gt; Plugin Search for &quot;scala&quot;. Update.","title":"IntelliJ Bug: Scala 145, Error:scalac: Scala compiler JARs not found","body":"<p>Update @Oct 2021: This error means plugin needed an update and was solved by : goto File &gt; Settings (Ctrl+Alt+S, Windows)/Preferences (Mac) &gt; Plugin Search for &quot;scala&quot;. Update.</p>\n"},{"tags":[],"owner":{"account_id":2428542,"reputation":584,"user_id":2119986,"accept_rate":0,"display_name":"Venkatesh Boya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665010281,"creation_date":1665010281,"answer_id":73967062,"question_id":36341257,"body_markdown":"This could be the issue :\r\n  You may have multiple maven projects linked/imported in single IntelliJ IDE window\r\n  and those maven projects are using  different Scala compiler versions.\r\n\r\nFirst you will get multiple compiler versions detected issue, then to fix this issue \r\nif may have deleted some compiler version folder/jars from .m2 repo.\r\n\r\nSolution : Go to maven view/tab --&gt; Unlink maven projects from IntelliJ IDE which are using different versions of Scala , keep only projects which are using same version of Scala","title":"IntelliJ Bug: Scala 145, Error:scalac: Scala compiler JARs not found","body":"<p>This could be the issue :\nYou may have multiple maven projects linked/imported in single IntelliJ IDE window\nand those maven projects are using  different Scala compiler versions.</p>\n<p>First you will get multiple compiler versions detected issue, then to fix this issue\nif may have deleted some compiler version folder/jars from .m2 repo.</p>\n<p>Solution : Go to maven view/tab --&gt; Unlink maven projects from IntelliJ IDE which are using different versions of Scala , keep only projects which are using same version of Scala</p>\n"},{"tags":[],"owner":{"account_id":2115623,"reputation":11,"user_id":1880022,"display_name":"user1880022"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699742480,"creation_date":1699742480,"answer_id":77467114,"question_id":36341257,"body_markdown":"I was having the same problem, and the solution posted from IntelliJ Developer solved the problem.\r\n\r\nSolution: \r\n\r\nIntelliJ IDEA 2023.2.5 (Community Edition)\r\nGo to File | Settings | Build, Execution, Deployment\r\nUnder Compiler, click on Scala Compiler\r\nLook for &#39; Incrementality type:&#39; and select IDEA.\r\nApply and close .\r\n","title":"IntelliJ Bug: Scala 145, Error:scalac: Scala compiler JARs not found","body":"<p>I was having the same problem, and the solution posted from IntelliJ Developer solved the problem.</p>\n<p>Solution:</p>\n<p>IntelliJ IDEA 2023.2.5 (Community Edition)\nGo to File | Settings | Build, Execution, Deployment\nUnder Compiler, click on Scala Compiler\nLook for ' Incrementality type:' and select IDEA.\nApply and close .</p>\n"}],"owner":{"display_name":"user5497885"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43595,"favorite_count":0,"down_vote_count":0,"up_vote_count":37,"accepted_answer_id":36390403,"answer_count":11,"score":37,"last_activity_date":1699742480,"creation_date":1459449913,"question_id":36341257,"body_markdown":"I try to compile a simple object in IntelliJ:\r\n\r\n    object Test02 {\r\n        def main(args: Array[String]) {\r\n             println(&quot;Hello World&quot;); \r\n        }\r\n    }\r\n\r\nI got this message:\r\n\r\n    Error:scalac: Scala compiler JARs not found (module &#39;scala02&#39;): \r\n    E:\\.ivy2\\cache\\org.scala-lang\\scala-library\\jars\\scala-library-2.11.8.jar, \r\n    E:\\.ivy2\\cache\\org.scala-lang\\scala-compiler\\jars\\scala-compiler-2.11.8.jar,\r\n    E:\\.ivy2\\cache\\org.scala-lang\\scala-reflect\\jars\\scala-reflect-2.11.8.jar\r\n\r\nI checked the Project Structure and checked the modules.\r\nModules are located here:\r\n\r\n    C:/Users/asus1/.ivy2/cache/org.scala-lang/scala-compiler/jars/scala-compiler-2.11.8.jar\r\n\r\n\r\nHow Can I change E:  to   C:/Users/asus1/ ?&lt;br&gt;\r\nDo I need to move all to E: ?\r\n\r\nHow people manage when the project and the jar are in different location ?\r\n\r\nIt seems a big bug of IntellJ ...?\r\n\r\n","title":"IntelliJ Bug: Scala 145, Error:scalac: Scala compiler JARs not found","body":"<p>I try to compile a simple object in IntelliJ:</p>\n\n<pre><code>object Test02 {\n    def main(args: Array[String]) {\n         println(\"Hello World\"); \n    }\n}\n</code></pre>\n\n<p>I got this message:</p>\n\n<pre><code>Error:scalac: Scala compiler JARs not found (module 'scala02'): \nE:\\.ivy2\\cache\\org.scala-lang\\scala-library\\jars\\scala-library-2.11.8.jar, \nE:\\.ivy2\\cache\\org.scala-lang\\scala-compiler\\jars\\scala-compiler-2.11.8.jar,\nE:\\.ivy2\\cache\\org.scala-lang\\scala-reflect\\jars\\scala-reflect-2.11.8.jar\n</code></pre>\n\n<p>I checked the Project Structure and checked the modules.\nModules are located here:</p>\n\n<pre><code>C:/Users/asus1/.ivy2/cache/org.scala-lang/scala-compiler/jars/scala-compiler-2.11.8.jar\n</code></pre>\n\n<p>How Can I change E:  to   C:/Users/asus1/ ?<br>\nDo I need to move all to E: ?</p>\n\n<p>How people manage when the project and the jar are in different location ?</p>\n\n<p>It seems a big bug of IntellJ ...?</p>\n"},{"tags":["java","jaxb","jaxb2-maven-plugin"],"answers":[{"tags":[],"owner":{"account_id":29874264,"reputation":463,"user_id":22894892,"display_name":"Laurent Schoelens"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699694789,"creation_date":1699694789,"answer_id":77464537,"question_id":77157863,"body_markdown":"Maybe you could use [the JAXB Annotate plugin][1] which allow you to add any annotation on any class / field.\r\n\r\n\r\n  [1]: https://github.com/highsource/jaxb-tools/wiki/JAXB-Annotate-Home","title":"JAXB-XJC: Add required args constructor for all generated classes by jaxb2-maven-plugin","body":"<p>Maybe you could use <a href=\"https://github.com/highsource/jaxb-tools/wiki/JAXB-Annotate-Home\" rel=\"nofollow noreferrer\">the JAXB Annotate plugin</a> which allow you to add any annotation on any class / field.</p>\n"},{"tags":[],"owner":{"account_id":3909931,"reputation":406,"user_id":3235583,"display_name":"Rick O&#39;Sullivan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699742430,"creation_date":1699742430,"answer_id":77467112,"question_id":77157863,"body_markdown":"In the next release of [HiSrc BasicJAXB](https://github.com/patrodyne/hisrc-basicjaxb#hisrc-basicjaxb), the [ValueConstructorPlugin](https://github.com/patrodyne/hisrc-basicjaxb/blob/master/plugins/src/main/java/org/jvnet/basicjaxb/plugin/valueconstructor/ValueConstructorPlugin.java) will provide these XJC options:\r\n\r\n+ `XvalueConstructor-complete` - generate constructors for the complete set of fields.\r\n+ `XvalueConstructor-required` - generate constructors for all required fields.\r\n+ `XvalueConstructor-selected` - generate constructors for [selector](https://www.w3schools.com/xml/el_selector.asp) constraints: [key](https://www.w3schools.com/xml/el_key.asp), [keyref](https://www.w3schools.com/xml/el_keyref.asp) and [unique](https://www.w3schools.com/xml/el_unique.asp).\r\n\r\n_Disclaimer:_ I am the maintainer for the forked [HiSrc BasicJAXB](https://github.com/patrodyne/hisrc-basicjaxb#hisrc-basicjaxb) project.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"JAXB-XJC: Add required args constructor for all generated classes by jaxb2-maven-plugin","body":"<p>In the next release of <a href=\"https://github.com/patrodyne/hisrc-basicjaxb#hisrc-basicjaxb\" rel=\"nofollow noreferrer\">HiSrc BasicJAXB</a>, the <a href=\"https://github.com/patrodyne/hisrc-basicjaxb/blob/master/plugins/src/main/java/org/jvnet/basicjaxb/plugin/valueconstructor/ValueConstructorPlugin.java\" rel=\"nofollow noreferrer\">ValueConstructorPlugin</a> will provide these XJC options:</p>\n<ul>\n<li><code>XvalueConstructor-complete</code> - generate constructors for the complete set of fields.</li>\n<li><code>XvalueConstructor-required</code> - generate constructors for all required fields.</li>\n<li><code>XvalueConstructor-selected</code> - generate constructors for <a href=\"https://www.w3schools.com/xml/el_selector.asp\" rel=\"nofollow noreferrer\">selector</a> constraints: <a href=\"https://www.w3schools.com/xml/el_key.asp\" rel=\"nofollow noreferrer\">key</a>, <a href=\"https://www.w3schools.com/xml/el_keyref.asp\" rel=\"nofollow noreferrer\">keyref</a> and <a href=\"https://www.w3schools.com/xml/el_unique.asp\" rel=\"nofollow noreferrer\">unique</a>.</li>\n</ul>\n<p><em>Disclaimer:</em> I am the maintainer for the forked <a href=\"https://github.com/patrodyne/hisrc-basicjaxb#hisrc-basicjaxb\" rel=\"nofollow noreferrer\">HiSrc BasicJAXB</a> project.</p>\n"}],"owner":{"account_id":29371238,"reputation":1,"user_id":22503820,"display_name":"olimtrail"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1699742430,"creation_date":1695387824,"question_id":77157863,"body_markdown":"Is there a way to add a required args constructor for org.codehaus.mojo:jaxb2-maven-plugin?\r\n\r\nI found org.jvnet.jaxb2_commons:jaxb2-value-constructor but it can only generate all args constructor for all generated classes.\r\n\r\nOr can I annotate each generated class somehow with Lomboks @RequiredArgsConstructor afterwards?\r\n\r\nLooked for plugin extensions.","title":"JAXB-XJC: Add required args constructor for all generated classes by jaxb2-maven-plugin","body":"<p>Is there a way to add a required args constructor for org.codehaus.mojo:jaxb2-maven-plugin?</p>\n<p>I found org.jvnet.jaxb2_commons:jaxb2-value-constructor but it can only generate all args constructor for all generated classes.</p>\n<p>Or can I annotate each generated class somehow with Lomboks @RequiredArgsConstructor afterwards?</p>\n<p>Looked for plugin extensions.</p>\n"},{"tags":["java","jenkins","java-8","jenkins-agent"],"comments":[{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1567594869,"post_id":57787000,"comment_id":102007368,"body_markdown":"Is the path really correct `C:\\Program Files\\Java\\jdk1.8.0_221\\\\bin` ?","body":"Is the path really correct <code>C:\\Program Files\\Java\\jdk1.8.0_221\\\\bin</code> ?"},{"owner":{"account_id":10079574,"reputation":1734,"user_id":7450414,"display_name":"AndiCover"},"score":0,"creation_date":1567597019,"post_id":57787000,"comment_id":102008398,"body_markdown":"Did you restart the process after setting the environment variable?","body":"Did you restart the process after setting the environment variable?"},{"owner":{"account_id":8433434,"reputation":1147,"user_id":6687534,"accept_rate":33,"display_name":"Tien Dung Tran"},"score":0,"creation_date":1567616435,"post_id":57787000,"comment_id":102019005,"body_markdown":"@Naman: yes, the path is correct, I can run java and javac command in command prompt inside this node","body":"@Naman: yes, the path is correct, I can run java and javac command in command prompt inside this node"},{"owner":{"account_id":8433434,"reputation":1147,"user_id":6687534,"accept_rate":33,"display_name":"Tien Dung Tran"},"score":0,"creation_date":1567616491,"post_id":57787000,"comment_id":102019028,"body_markdown":"@AndiCover: yes try to reboot server and jenkins slave service many time.\nSo I wonder that, do I need to configure a settings.xml in maven","body":"@AndiCover: yes try to reboot server and jenkins slave service many time. So I wonder that, do I need to configure a settings.xml in maven"},{"owner":{"account_id":148947,"reputation":7935,"user_id":361089,"accept_rate":63,"display_name":"Technext"},"score":1,"creation_date":1567617115,"post_id":57787000,"comment_id":102019280,"body_markdown":"@TienDungTran: What does typing `where java` gives you on the command prompt?","body":"@TienDungTran: What does typing <code>where java</code> gives you on the command prompt?"},{"owner":{"account_id":8433434,"reputation":1147,"user_id":6687534,"accept_rate":33,"display_name":"Tien Dung Tran"},"score":0,"creation_date":1567652934,"post_id":57787000,"comment_id":102028512,"body_markdown":"@Technext: it&#39;s show correct the java_home:\n      C:\\Users\\Administrator&gt;where java\n      C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath\\java.exe\n      C:\\Program Files\\Java\\jdk1.8.0_221\\bin\\java.exe","body":"@Technext: it&#39;s show correct the java_home:       C:\\Users\\Administrator&gt;where java       C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath\\java.exe       C:\\Program Files\\Java\\jdk1.8.0_221\\bin\\java.exe"}],"answers":[{"tags":[],"owner":{"account_id":148947,"reputation":7935,"user_id":361089,"accept_rate":63,"display_name":"Technext"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1569575726,"creation_date":1567653727,"answer_id":57798017,"question_id":57787000,"body_markdown":"You may use any of these methods depending on what suits you:\r\n\r\n---\r\n**Method 1**)\r\n\r\nPlease configure your Windows&#39; Node to point it to the JDK you want to use by following these steps:\r\n\r\n1. Go to `Manage Jenkins` &gt; `Global Tool Configuration` &gt; JDK &gt; `Add JDK`\r\n\r\n Since you already have Java installed, uncheck the box `Install automatically`\r\n\r\n In `Name` section, just provide some meaningful identifier, not necessarily `JAVA_HOME`. Now in the `JAVA_HOME` text box, you can provide any value that you wish because you are anyways going to use a different value for your Windows node.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n2. Now go to `Manage Jenkins` &gt; `Manage Nodes` &gt; (Go to `Configure` section of your Windows node) &gt; `Node Properties`\r\n\r\n Now enable the check-box that says `Tool Locations`. Click `Add` &gt; From the drop-down, select the name you provided to your JDK in `Global Tool Configuration` section\r\n\r\n Now here you have to provide the JAVA_HOME path for your Windows node. So wherever it is, just mention that path in the `Home` text box as shown below:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n---\r\n\r\n**Method 2**)\r\n\r\nGo to `Manage Jenkins` &gt; `Manage Nodes` &gt; (Go to `Configure` section of your Windows node) &gt; `Node Properties`\r\n\r\nNow enable the check-box that says `Environment variables` &gt; `Add`\r\n\r\n- In `Name` text box, write `Path` (not `PATH`)\r\n- In `Value` text box, write the path of your JDK installation till `bin` as shown below.\r\n\r\n[![enter image description here][3]][3]\r\n\r\nIn your case, add the following: `C:\\Program Files\\Java\\jdk1.8.0_221\\bin;C:\\Windows\\System32;C:\\maven-3.6.1\\bin;%PATH%`\r\n\r\n*I was not having Maven set in PATH so i added it to Node&#39;s configuration as shown above.*\r\n\r\nNote: In the `Value` text box, use semi-colon (;) as separator not comma (,)\r\n\r\n**Job&#39;s JDK config**:\r\n\r\n[![enter image description here][4]][4]\r\n\r\n**Job&#39;s command**:\r\n\r\n[![enter image description here][5]][5]\r\n\r\n**Job&#39;s output**:\r\n\r\n[![enter image description here][6]][6]\r\n\r\n---\r\n\r\n**Method 3**)\r\n\r\nIn your Windows Node&#39;s configuration, enable `Environment variables` and add below variable with the _relevant_ value \r\n\r\nName:  `java.home`\r\n\r\nValue: `C:\\Program Files\\Java\\jdk1.8.0_221\\jre`\r\n\r\n\r\n**Note**: It&#39;s `java.home` (all in small letters as shown below)\r\n\r\n[![enter image description here][7]][7]\r\n\r\n`JAVA_HOME` needs to point to a JDK installation (maven needs the `tools.jar`) but Maven _actually_ uses the JRE within the JDK to run itself.\r\n\r\nWhen using `mvn -version`, Maven uses Java&#39;s internal `java.home` property. This property is not the same thing as `JAVA_HOME` environment setting so it might fool you. It is actually a dynamic property showing you which JRE is running your code.\r\n\r\nRef: https://stackoverflow.com/questions/15279586/java-home-in-maven/15279640\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2TAeP.jpg\r\n  [2]: https://i.stack.imgur.com/o8qfl.jpg\r\n  [3]: https://i.stack.imgur.com/qC4hz.jpg\r\n  [4]: https://i.stack.imgur.com/cB2XL.jpg\r\n  [5]: https://i.stack.imgur.com/pdoGq.jpg\r\n  [6]: https://i.stack.imgur.com/z8GDQ.jpg\r\n  [7]: https://i.stack.imgur.com/XXiXh.jpg","title":"Jenkins Windows agent: No compiler is provided in this environment. Perhaps you are running on a JRE rather than a JDK","body":"<p>You may use any of these methods depending on what suits you:</p>\n\n<hr>\n\n<p><strong>Method 1</strong>)</p>\n\n<p>Please configure your Windows' Node to point it to the JDK you want to use by following these steps:</p>\n\n<ol>\n<li><p>Go to <code>Manage Jenkins</code> > <code>Global Tool Configuration</code> > JDK > <code>Add JDK</code></p>\n\n<p>Since you already have Java installed, uncheck the box <code>Install automatically</code></p>\n\n<p>In <code>Name</code> section, just provide some meaningful identifier, not necessarily <code>JAVA_HOME</code>. Now in the <code>JAVA_HOME</code> text box, you can provide any value that you wish because you are anyways going to use a different value for your Windows node.</p></li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/2TAeP.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2TAeP.jpg\" alt=\"enter image description here\"></a></p>\n\n<ol start=\"2\">\n<li><p>Now go to <code>Manage Jenkins</code> > <code>Manage Nodes</code> > (Go to <code>Configure</code> section of your Windows node) > <code>Node Properties</code></p>\n\n<p>Now enable the check-box that says <code>Tool Locations</code>. Click <code>Add</code> > From the drop-down, select the name you provided to your JDK in <code>Global Tool Configuration</code> section</p>\n\n<p>Now here you have to provide the JAVA_HOME path for your Windows node. So wherever it is, just mention that path in the <code>Home</code> text box as shown below:</p></li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/o8qfl.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/o8qfl.jpg\" alt=\"enter image description here\"></a></p>\n\n<hr>\n\n<p><strong>Method 2</strong>)</p>\n\n<p>Go to <code>Manage Jenkins</code> > <code>Manage Nodes</code> > (Go to <code>Configure</code> section of your Windows node) > <code>Node Properties</code></p>\n\n<p>Now enable the check-box that says <code>Environment variables</code> > <code>Add</code></p>\n\n<ul>\n<li>In <code>Name</code> text box, write <code>Path</code> (not <code>PATH</code>)</li>\n<li>In <code>Value</code> text box, write the path of your JDK installation till <code>bin</code> as shown below.</li>\n</ul>\n\n<p><a href=\"https://i.stack.imgur.com/qC4hz.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qC4hz.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>In your case, add the following: <code>C:\\Program Files\\Java\\jdk1.8.0_221\\bin;C:\\Windows\\System32;C:\\maven-3.6.1\\bin;%PATH%</code></p>\n\n<p><em>I was not having Maven set in PATH so i added it to Node's configuration as shown above.</em></p>\n\n<p>Note: In the <code>Value</code> text box, use semi-colon (;) as separator not comma (,)</p>\n\n<p><strong>Job's JDK config</strong>:</p>\n\n<p><a href=\"https://i.stack.imgur.com/cB2XL.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cB2XL.jpg\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Job's command</strong>:</p>\n\n<p><a href=\"https://i.stack.imgur.com/pdoGq.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pdoGq.jpg\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Job's output</strong>:</p>\n\n<p><a href=\"https://i.stack.imgur.com/z8GDQ.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/z8GDQ.jpg\" alt=\"enter image description here\"></a></p>\n\n<hr>\n\n<p><strong>Method 3</strong>)</p>\n\n<p>In your Windows Node's configuration, enable <code>Environment variables</code> and add below variable with the <em>relevant</em> value </p>\n\n<p>Name:  <code>java.home</code></p>\n\n<p>Value: <code>C:\\Program Files\\Java\\jdk1.8.0_221\\jre</code></p>\n\n<p><strong>Note</strong>: It's <code>java.home</code> (all in small letters as shown below)</p>\n\n<p><a href=\"https://i.stack.imgur.com/XXiXh.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XXiXh.jpg\" alt=\"enter image description here\"></a></p>\n\n<p><code>JAVA_HOME</code> needs to point to a JDK installation (maven needs the <code>tools.jar</code>) but Maven <em>actually</em> uses the JRE within the JDK to run itself.</p>\n\n<p>When using <code>mvn -version</code>, Maven uses Java's internal <code>java.home</code> property. This property is not the same thing as <code>JAVA_HOME</code> environment setting so it might fool you. It is actually a dynamic property showing you which JRE is running your code.</p>\n\n<p>Ref: <a href=\"https://stackoverflow.com/questions/15279586/java-home-in-maven/15279640\">Java_home in Maven</a></p>\n"}],"owner":{"account_id":8433434,"reputation":1147,"user_id":6687534,"accept_rate":33,"display_name":"Tien Dung Tran"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2477,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":57798017,"answer_count":1,"score":1,"last_activity_date":1699742401,"creation_date":1567594807,"question_id":57787000,"body_markdown":"I just setup a new Jenkins agent which is running Windows server 2012. I already installed jdk-8u221-windows-x64 and set Java_home, Path like below\r\n\r\n    C:\\Users\\Administrator&gt;echo %JAVA_HOME%\r\n    C:\\Program Files\\Java\\jdk1.8.0_221\\\r\n    \r\n    C:\\Users\\Administrator&gt;echo %PATH%\r\n    C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath;C:\\Windows\\system32;C:\\\r\n    Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\\r\n    Program Files\\Amazon\\cfn-bootstrap\\;C:\\Program Files\\Git\\cmd;C:\\Program Files\\Ja\r\n    va\\jdk1.8.0_221\\\\bin;C:\\maven\\bin;C:\\maven\\bin\r\n\r\n\r\nHowever,build job running in this agent always complain that:\r\n\r\n&gt; No compiler is provided in this environment. Perhaps you are running on a JRE rather than a JDK\r\n\r\nAny idea of what might be causing this?\r\n\r\n*Update Sep 11th, 2019*\r\n\r\nI configure the agent node as method 2 of Technext&#39;s suggestion\r\n[![enter image description here][1]][1]\r\n\r\n\r\nIn a Job build configuration, I selected (System) in JDK option. If I choose JDK 8 update 221, this build job run successfully, but I want to use a (System) JDK which will get from environment variable in this node, so I can switch to another agent node without changing the JDK option.\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZwPJT.png\r\n  [2]: https://i.stack.imgur.com/BobxH.png\r\n\r\nHowever, when I remote to this server, and open command prompt, move on to workspace folder of this project, let say: C:\\jenkins_slave\\workspace\\project01\\, then type the command: mvn clean install, it run without complain about jdk or jre as run from Jenkins. ","title":"Jenkins Windows agent: No compiler is provided in this environment. Perhaps you are running on a JRE rather than a JDK","body":"<p>I just setup a new Jenkins agent which is running Windows server 2012. I already installed jdk-8u221-windows-x64 and set Java_home, Path like below</p>\n<pre><code>C:\\Users\\Administrator&gt;echo %JAVA_HOME%\nC:\\Program Files\\Java\\jdk1.8.0_221\\\n\nC:\\Users\\Administrator&gt;echo %PATH%\nC:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath;C:\\Windows\\system32;C:\\\nWindows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\\nProgram Files\\Amazon\\cfn-bootstrap\\;C:\\Program Files\\Git\\cmd;C:\\Program Files\\Ja\nva\\jdk1.8.0_221\\\\bin;C:\\maven\\bin;C:\\maven\\bin\n</code></pre>\n<p>However,build job running in this agent always complain that:</p>\n<blockquote>\n<p>No compiler is provided in this environment. Perhaps you are running on a JRE rather than a JDK</p>\n</blockquote>\n<p>Any idea of what might be causing this?</p>\n<p><em>Update Sep 11th, 2019</em></p>\n<p>I configure the agent node as method 2 of Technext's suggestion\n<a href=\"https://i.stack.imgur.com/ZwPJT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZwPJT.png\" alt=\"enter image description here\" /></a></p>\n<p>In a Job build configuration, I selected (System) in JDK option. If I choose JDK 8 update 221, this build job run successfully, but I want to use a (System) JDK which will get from environment variable in this node, so I can switch to another agent node without changing the JDK option.\n<a href=\"https://i.stack.imgur.com/BobxH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BobxH.png\" alt=\"enter image description here\" /></a></p>\n<p>However, when I remote to this server, and open command prompt, move on to workspace folder of this project, let say: C:\\jenkins_slave\\workspace\\project01, then type the command: mvn clean install, it run without complain about jdk or jre as run from Jenkins.</p>\n"},{"tags":["java","jenkins","jnlp","jenkins-agent"],"answers":[{"tags":[],"owner":{"account_id":6387,"reputation":20830,"user_id":10715,"accept_rate":77,"display_name":"gareth_bowles"},"down_vote_count":2,"up_vote_count":4,"is_accepted":true,"score":2,"last_activity_date":1396918334,"creation_date":1396918334,"answer_id":22925709,"question_id":22925495,"body_markdown":"The jnlpUrl parameter needs to be an http or https link to your Jenkins master, e.g. http://jenkins.yourco.com/computer/slavename/slave-agent.jnlp -it won&#39;t work as a file URL.\r\n","title":"Local JNLP file not read for Jenkins agent","body":"<p>The jnlpUrl parameter needs to be an http or https link to your Jenkins master, e.g. <a href=\"http://jenkins.yourco.com/computer/slavename/slave-agent.jnlp\" rel=\"nofollow\">http://jenkins.yourco.com/computer/slavename/slave-agent.jnlp</a> -it won't work as a file URL.</p>\n"},{"tags":[],"owner":{"account_id":151394,"reputation":52351,"user_id":365237,"accept_rate":96,"display_name":"eis"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1457539439,"creation_date":1457539439,"answer_id":35896619,"question_id":22925495,"body_markdown":"Answer by @gareth_bowles is wrong at least today, the url will work as a file url as well. Don&#39;t know if this was changed at some point.\r\n\r\nFor our windows slave it is `&quot;file:/D:/jenkins-slave/slave-agent.jnlp&quot;`, which works.","title":"Local JNLP file not read for Jenkins agent","body":"<p>Answer by @gareth_bowles is wrong at least today, the url will work as a file url as well. Don't know if this was changed at some point.</p>\n\n<p>For our windows slave it is <code>\"file:/D:/jenkins-slave/slave-agent.jnlp\"</code>, which works.</p>\n"}],"owner":{"account_id":69279,"reputation":645,"user_id":201679,"accept_rate":75,"display_name":"Gaurav Verma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8755,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":22925709,"answer_count":2,"score":3,"last_activity_date":1699742327,"creation_date":1396917015,"question_id":22925495,"body_markdown":"I am trying to connect Jenkins agent to the controller. \r\n\r\nWe are allowed to have only one port (say 8888) open from the corporate firewall to talk to the controller hosted on AWS. The port is being used for connecting to the jnlp process running on the controller Jenkins machine. Due to this reason we cannot download the slave-agent.jnlp file using http. I have manually downloaded the slave-agent.jnlp file and I am trying to give the following command to start the agent up. \r\n\r\n\r\n    java -jar slave.jar -jnlpUrl file:///oracle/app/jenkins/slave-agent.jnlp -secret 7f079707d5632d2db2501be73f1a6f5f6422b9c9fde806afd8fdd2000d5db123\r\n\r\nI get the the following error\r\n\r\n    Failing to obtain file:/oracle/app/jenkins/slave-agent.jnlp?encrypt=true\r\n    java.io.IOException: file:/oracle/app/jenkins/slave-agent.jnlp?encrypt=true doesn&#39;t look like a JNLP file; content type was null\r\n        at hudson.remoting.Launcher.parseJnlpArguments(Launcher.java:301)\r\n        at hudson.remoting.Launcher.run(Launcher.java:218)\r\n        at hudson.remoting.Launcher.main(Launcher.java:192)\r\n    Waiting 10 seconds before retry\r\n\r\nI have tried this as well without any luck. \r\n\r\n    java -jar slave.jar -jnlpUrl file://localhost/oracle/app/jenkins/slave-agent.jnlp -secret 7f079707d5632d2db2501be73f1a6f5f6422b9c9fde806afd8fdd2000d5db123\r\n\r\nThe file is present at the location has read write permissions. \r\n\r\nAny clue on why the java process is not able to read that file?","title":"Local JNLP file not read for Jenkins agent","body":"<p>I am trying to connect Jenkins agent to the controller.</p>\n<p>We are allowed to have only one port (say 8888) open from the corporate firewall to talk to the controller hosted on AWS. The port is being used for connecting to the jnlp process running on the controller Jenkins machine. Due to this reason we cannot download the slave-agent.jnlp file using http. I have manually downloaded the slave-agent.jnlp file and I am trying to give the following command to start the agent up.</p>\n<pre><code>java -jar slave.jar -jnlpUrl file:///oracle/app/jenkins/slave-agent.jnlp -secret 7f079707d5632d2db2501be73f1a6f5f6422b9c9fde806afd8fdd2000d5db123\n</code></pre>\n<p>I get the the following error</p>\n<pre><code>Failing to obtain file:/oracle/app/jenkins/slave-agent.jnlp?encrypt=true\njava.io.IOException: file:/oracle/app/jenkins/slave-agent.jnlp?encrypt=true doesn't look like a JNLP file; content type was null\n    at hudson.remoting.Launcher.parseJnlpArguments(Launcher.java:301)\n    at hudson.remoting.Launcher.run(Launcher.java:218)\n    at hudson.remoting.Launcher.main(Launcher.java:192)\nWaiting 10 seconds before retry\n</code></pre>\n<p>I have tried this as well without any luck.</p>\n<pre><code>java -jar slave.jar -jnlpUrl file://localhost/oracle/app/jenkins/slave-agent.jnlp -secret 7f079707d5632d2db2501be73f1a6f5f6422b9c9fde806afd8fdd2000d5db123\n</code></pre>\n<p>The file is present at the location has read write permissions.</p>\n<p>Any clue on why the java process is not able to read that file?</p>\n"},{"tags":["java","sqlite"],"comments":[{"owner":{"account_id":5531638,"reputation":14395,"user_id":4391450,"display_name":"AxelH"},"score":0,"creation_date":1473941836,"post_id":39510409,"comment_id":66337528,"body_markdown":"SQlite is useful for small local application, in that case, a Singleton is enough to prevent a lock. If you have multiple thread in you application, that will resolve your issues. I would say that you forgot to close you connection somewhere. I used it on an old app without having this kind off issues.","body":"SQlite is useful for small local application, in that case, a Singleton is enough to prevent a lock. If you have multiple thread in you application, that will resolve your issues. I would say that you forgot to close you connection somewhere. I used it on an old app without having this kind off issues."},{"owner":{"account_id":1230089,"reputation":5622,"user_id":1194864,"accept_rate":89,"display_name":"Jose Ramon"},"score":0,"creation_date":1473941925,"post_id":39510409,"comment_id":66337586,"body_markdown":"It seems that this error arise when I am trying to have access to a specific table. So my problem is that I have a query statement I never closed it somewhere?","body":"It seems that this error arise when I am trying to have access to a specific table. So my problem is that I have a query statement I never closed it somewhere?"},{"owner":{"account_id":1230089,"reputation":5622,"user_id":1194864,"accept_rate":89,"display_name":"Jose Ramon"},"score":0,"creation_date":1473943817,"post_id":39510409,"comment_id":66338792,"body_markdown":"My problem arises in a specific query every time, I am not sure why!","body":"My problem arises in a specific query every time, I am not sure why!"},{"owner":{"account_id":1230089,"reputation":5622,"user_id":1194864,"accept_rate":89,"display_name":"Jose Ramon"},"score":0,"creation_date":1473945971,"post_id":39510409,"comment_id":66340372,"body_markdown":"I tried it in sqlite browser and it works. Maybe since I am using a lot of times the table during my software session somewhere the table remains open.","body":"I tried it in sqlite browser and it works. Maybe since I am using a lot of times the table during my software session somewhere the table remains open."},{"owner":{"account_id":5531638,"reputation":14395,"user_id":4391450,"display_name":"AxelH"},"score":0,"creation_date":1473947354,"post_id":39510409,"comment_id":66341399,"body_markdown":"You could use it 1 billion time, if you close the I/O correctly, there is no issue with it. Could you add more code, if you use a transaction, how do you manage exception in the query, if you close everything...","body":"You could use it 1 billion time, if you close the I/O correctly, there is no issue with it. Could you add more code, if you use a transaction, how do you manage exception in the query, if you close everything..."},{"owner":{"account_id":1230089,"reputation":5622,"user_id":1194864,"accept_rate":89,"display_name":"Jose Ramon"},"score":0,"creation_date":1473947608,"post_id":39510409,"comment_id":66341600,"body_markdown":"I edit my question with code.","body":"I edit my question with code."},{"owner":{"account_id":439165,"reputation":2353,"user_id":827921,"accept_rate":17,"display_name":"Rahul Saini"},"score":0,"creation_date":1500633568,"post_id":39510409,"comment_id":77436687,"body_markdown":"I also observed that if you are running a Java Program with SELECT queries and you have any other SQL Editor open, in which you are trying to insert records, even then the SQLite file gets locked and shows this BUSY message. Solution is to CLOSE the SQL Editor so that file lock count goes back to 0 and use proper ResultSet and PreparedStatement close code in the Java program.","body":"I also observed that if you are running a Java Program with SELECT queries and you have any other SQL Editor open, in which you are trying to insert records, even then the SQLite file gets locked and shows this BUSY message. Solution is to CLOSE the SQL Editor so that file lock count goes back to 0 and use proper ResultSet and PreparedStatement close code in the Java program."}],"answers":[{"tags":[],"owner":{"account_id":106901,"reputation":36958,"user_id":284538,"accept_rate":64,"display_name":"Mike Thomsen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1473941511,"creation_date":1473941511,"answer_id":39510732,"question_id":39510409,"body_markdown":"Sorta duplicate of existing question, but [this is a good starting point](https://stackoverflow.com/a/13891889/284538). Because SQLite is just a library that reads and writes to a file on the file system, not a full SQL database, you should really only have one connection open to it at a time. Otherwise it is pretty easy to get into a race condition.\r\n\r\nFor local testing, it should be fine, but for a system of any complexity expecting multiple users, you should be using something like Postgre or MySQL.","title":"SQLITE_BUSY the database is locked java","body":"<p>Sorta duplicate of existing question, but <a href=\"https://stackoverflow.com/a/13891889/284538\">this is a good starting point</a>. Because SQLite is just a library that reads and writes to a file on the file system, not a full SQL database, you should really only have one connection open to it at a time. Otherwise it is pretty easy to get into a race condition.</p>\n\n<p>For local testing, it should be fine, but for a system of any complexity expecting multiple users, you should be using something like Postgre or MySQL.</p>\n"},{"tags":[],"owner":{"account_id":5531638,"reputation":14395,"user_id":4391450,"display_name":"AxelH"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1473948064,"creation_date":1473948064,"answer_id":39513082,"question_id":39510409,"body_markdown":"Your try catch are wrong, you try to close the `ResultSet` and `Statemnt` in the try block instead of a finally block. This could lead to leaks.\r\n\r\nYou should do it like this, in the finally. \r\n\r\n    PreparedStatement pst  = null;\r\n    ResultSet rs = null;\r\n    try {\r\n            pst = connectionUsers.prepareStatement(query);\r\n            ...  \r\n            rs = pst.executeQuery();\r\n            ...                    \r\n        } catch (Exception a) {\r\n            a.printStackTrace();\r\n        } finally {\r\n            if(rs != null){\r\n                 try{\r\n                      rs.close();\r\n                 } catch(Exception e){\r\n                     e.printStackTrace();\r\n                 }\r\n            }\r\n            if(pst != null){\r\n                try{\r\n                    pst.close();\r\n                } catch(Exception e){\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n\r\nOr you could look to the Try-with-resource.\r\n\r\nThis could be a reason.","title":"SQLITE_BUSY the database is locked java","body":"<p>Your try catch are wrong, you try to close the <code>ResultSet</code> and <code>Statemnt</code> in the try block instead of a finally block. This could lead to leaks.</p>\n\n<p>You should do it like this, in the finally. </p>\n\n<pre><code>PreparedStatement pst  = null;\nResultSet rs = null;\ntry {\n        pst = connectionUsers.prepareStatement(query);\n        ...  \n        rs = pst.executeQuery();\n        ...                    \n    } catch (Exception a) {\n        a.printStackTrace();\n    } finally {\n        if(rs != null){\n             try{\n                  rs.close();\n             } catch(Exception e){\n                 e.printStackTrace();\n             }\n        }\n        if(pst != null){\n            try{\n                pst.close();\n            } catch(Exception e){\n                e.printStackTrace();\n            }\n        }\n    }\n</code></pre>\n\n<p>Or you could look to the Try-with-resource.</p>\n\n<p>This could be a reason.</p>\n"},{"tags":[],"owner":{"account_id":9088275,"reputation":671,"user_id":6765336,"display_name":"dilanSachi"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1557220573,"creation_date":1557220573,"answer_id":56019314,"question_id":39510409,"body_markdown":"Every time you open a connection with the SQLite database, make sure to close the database connection after you process the results or etc. if you already have an open  connection to the database and if you try to get the connection again and try some `Update` or `Insert` queries, the system will not give the permission and will raise an error. ","title":"SQLITE_BUSY the database is locked java","body":"<p>Every time you open a connection with the SQLite database, make sure to close the database connection after you process the results or etc. if you already have an open  connection to the database and if you try to get the connection again and try some <code>Update</code> or <code>Insert</code> queries, the system will not give the permission and will raise an error. </p>\n"}],"owner":{"account_id":1230089,"reputation":5622,"user_id":1194864,"accept_rate":89,"display_name":"Jose Ramon"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14592,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":39513082,"answer_count":3,"score":3,"last_activity_date":1699741984,"creation_date":1473940515,"question_id":39510409,"body_markdown":"I have create a java software which make use of sqlite database. The whole database works smoothly however after some time of running the application I am receiving the following message (from a try catch block):\r\n\r\n&gt; java.sql.SQLException: [SQLITE_BUSY]  The database file is locked (database is locked)\r\n\r\nI ve solved my problems by closing the software every time the exception rising. However is there a way to close my database instead so as not to close the software every time? \r\n\r\nI ve got plenty of queries however my prob arises always in a specific point:\r\n\r\n    \t\ttry {\r\n\t\t\t\tString query = &quot;select * from StudentsSession where userId=? and course=? and level=?&quot;;\r\n\t\t\t\tPreparedStatement pst = connectionUsers.prepareStatement(query);\r\n\t\t\t\tpst.setString(1, saveUser.getText());\r\n\t\t\t\tpst.setString(2, textSubjectQTest);\r\n\t\t\t\tst.setString(3, showCurrentLevelLabel.getText());\r\n\t\t\t\tResultSet rs = pst.executeQuery();\r\n\t\t\t\twhile (rs.next()) {\r\n\t\t\t\t\tcount = count + 1;\r\n\t\t\t\t}\r\n\t\t\t\tpst.close();\r\n\t\t\t\trs.close();\r\n\t\t\t\t\r\n\t\t\t} catch (Exception a) {\r\n\t\t\t\tSystem.out.println(a);\r\n\t\t\t}\r\n\t\t\ttry {\r\n\t\t\t\tString countS, tmpS;\r\n\t\t\t\tcountS = String.valueOf(count);\r\n\t\t\t\tsessionId.setText(countS);\r\n\t\t\t\tlong unixTime = System.currentTimeMillis() / 1000L;\r\n\t\t\t\ttmpS = String.valueOf(unixTime);\r\n\t\t\t\tdate.setText(tmpS);\r\n\t\t\t\tcourse.setText(textSubjectQTest);\r\n\r\n\t\t\t\tString query = &quot;insert into StudentsSession (userId,date,course,level,trial,score) values (?,?,?,?,?,-1)&quot;;\r\n\t\t\t\tPreparedStatement pst = connectionUsers.prepareStatement(query);\r\n\t\t\t\tpst.setString(1, saveUser.getText());\r\n\t\t\t\tpst.setString(2, tmpS);\r\n\t\t\t\tpst.setString(3, textSubjectQTest);\r\n\t\t\t\tpst.setString(4, showCurrentLevelLabel.getText());\r\n\t\t\t\tpst.setString(5, countS);\r\n\t\t\t\tpst.executeUpdate();\r\n\t\t\t\tpst.close();\r\n\t\t\t\t\r\n\t\t\t} catch (Exception a) {\r\n\t\t\t\t\r\n\t\t\t\tSystem.out.println(a);\r\n\t\t\t\tSystem.exit(0);\r\n\t\t\t}\r\n\r\n\t\t\tString file1 = &quot;&quot;;\r\n\t\t\tResultSet ts4;\r\n\t\t\ttry {\r\n\r\n\t\t\t\tsessionId3 = &quot;&quot;;\r\n\t\t\t\tString query3 = &quot;select * from studentssession where userid = ?  and course = ? and level = ?&quot;;\r\n\t\t\t\tPreparedStatement pst__1 = connectionUsers.prepareStatement(query3);\r\n\t\t\t\tpst__1.setString(1, saveUser.getText());\r\n\t\t\t\tpst__1.setString(2, textSubjectQTest);\r\n\t\t\t\tpst__1.setString(3, showCurrentLevelLabel.getText());\r\n\t\t\t\tts4 = pst__1.executeQuery();\r\n\r\n\t\t\t\twhile (ts4.next()) {\r\n\t\t\t\t\tsessionId3 = ts4.getString(&quot;sessionId&quot;);\r\n\t\t\t\t}\r\n\t\t\t\tpst__1.close();\r\n\t\t\t\tts4.close();\r\n\t\t\t\tobj = new CaptureVideoFromWebCamera();\r\n\r\n\t\t\t\tfile1 = &quot;videos/&quot; + userTextFieldS.getText();\r\n\r\n\t\t\t\tfile1 = file1 + &quot;_&quot; + sessionId3;\r\n\t\t\t\tfile1 = file1 + &quot;.wmv&quot;;\r\n\t\t\t\t\r\n\t\t\t\tobj.start(file1);\r\n\r\n\t\t\t} catch (Exception e4) {\r\n\t\t\t\te4.getCause();\r\n\t\t\t}\r\n\r\nSometimes this code rise the exception.","title":"SQLITE_BUSY the database is locked java","body":"<p>I have create a java software which make use of sqlite database. The whole database works smoothly however after some time of running the application I am receiving the following message (from a try catch block):</p>\n<blockquote>\n<p>java.sql.SQLException: [SQLITE_BUSY]  The database file is locked (database is locked)</p>\n</blockquote>\n<p>I ve solved my problems by closing the software every time the exception rising. However is there a way to close my database instead so as not to close the software every time?</p>\n<p>I ve got plenty of queries however my prob arises always in a specific point:</p>\n<pre><code>        try {\n            String query = &quot;select * from StudentsSession where userId=? and course=? and level=?&quot;;\n            PreparedStatement pst = connectionUsers.prepareStatement(query);\n            pst.setString(1, saveUser.getText());\n            pst.setString(2, textSubjectQTest);\n            st.setString(3, showCurrentLevelLabel.getText());\n            ResultSet rs = pst.executeQuery();\n            while (rs.next()) {\n                count = count + 1;\n            }\n            pst.close();\n            rs.close();\n            \n        } catch (Exception a) {\n            System.out.println(a);\n        }\n        try {\n            String countS, tmpS;\n            countS = String.valueOf(count);\n            sessionId.setText(countS);\n            long unixTime = System.currentTimeMillis() / 1000L;\n            tmpS = String.valueOf(unixTime);\n            date.setText(tmpS);\n            course.setText(textSubjectQTest);\n\n            String query = &quot;insert into StudentsSession (userId,date,course,level,trial,score) values (?,?,?,?,?,-1)&quot;;\n            PreparedStatement pst = connectionUsers.prepareStatement(query);\n            pst.setString(1, saveUser.getText());\n            pst.setString(2, tmpS);\n            pst.setString(3, textSubjectQTest);\n            pst.setString(4, showCurrentLevelLabel.getText());\n            pst.setString(5, countS);\n            pst.executeUpdate();\n            pst.close();\n            \n        } catch (Exception a) {\n            \n            System.out.println(a);\n            System.exit(0);\n        }\n\n        String file1 = &quot;&quot;;\n        ResultSet ts4;\n        try {\n\n            sessionId3 = &quot;&quot;;\n            String query3 = &quot;select * from studentssession where userid = ?  and course = ? and level = ?&quot;;\n            PreparedStatement pst__1 = connectionUsers.prepareStatement(query3);\n            pst__1.setString(1, saveUser.getText());\n            pst__1.setString(2, textSubjectQTest);\n            pst__1.setString(3, showCurrentLevelLabel.getText());\n            ts4 = pst__1.executeQuery();\n\n            while (ts4.next()) {\n                sessionId3 = ts4.getString(&quot;sessionId&quot;);\n            }\n            pst__1.close();\n            ts4.close();\n            obj = new CaptureVideoFromWebCamera();\n\n            file1 = &quot;videos/&quot; + userTextFieldS.getText();\n\n            file1 = file1 + &quot;_&quot; + sessionId3;\n            file1 = file1 + &quot;.wmv&quot;;\n            \n            obj.start(file1);\n\n        } catch (Exception e4) {\n            e4.getCause();\n        }\n</code></pre>\n<p>Sometimes this code rise the exception.</p>\n"},{"tags":["java","spring-data-jpa"],"comments":[{"owner":{"account_id":6790343,"reputation":1483,"user_id":5227721,"display_name":"Berk Kurkcuoglu"},"score":0,"creation_date":1699746265,"post_id":77467072,"comment_id":136570497,"body_markdown":"your count query isn&#39;t a count query?","body":"your count query isn&#39;t a count query?"}],"owner":{"account_id":6531732,"reputation":329,"user_id":5052685,"accept_rate":76,"display_name":"Mayank Vaid"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699741466,"creation_date":1699741466,"question_id":77467072,"body_markdown":"I am facing issues with a Join fetch query when used along with Pageable. Below is the source code.\r\n\r\n    @Query(value = &quot;select pa from parent pa join fetch pa.children ch where ch.status=&#39;ABC&#39;&quot;, \r\n    countQuery=&quot;select pa from parent pa join pa.children ch where ch.status=&#39;ABC&#39;&quot;)\r\n    Page&lt;Parent&gt; getParents(Pageable pageable);\r\n\r\n\r\n    public class Parent{\r\n    private int id;\r\n    @OneToMany(mappedBy=&quot;parent&quot;)\r\n    private List&lt;Child&gt; child\r\n    .....getters/setters\r\n    }\r\n    \r\n    public class Child{\r\n    private int id;\r\n    @ManyToOne)\r\n    @JoinColumn(&quot;parent_id&quot;)\r\n    private Parent parent;\r\n    .....getters/setters\r\n    }\r\n    \r\n    @Bean(&quot;abcReader&quot;)\r\n    @StepScope\r\n    RepositoryItemReader&lt;Parent&gt; abcReader(\r\n            AbcRepository abcRepository) {\r\n        return new RepositoryItemReaderBuilder&lt;Parent&gt;()\r\n                .name(&quot;abcReader&quot;)\r\n                .repository(abcRepository)\r\n                .methodName(&quot;getParents&quot;)\r\n                .pageSize(20)\r\n                .sorts(Map.of(&quot;id&quot;, ASC))\r\n                .build();\r\n    }\r\n\r\nWhen getParents method is called then below exception is thrown \r\n\r\n&gt; org.springframework.dao.InvalidDataAccessApiUsageException: fromIndex(40) &gt; toIndex(30)\r\n\tat org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:371) ~[spring-orm-6.0.4.jar:6.0.4]\r\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:235) ~[spring-orm-6.0.4.jar:6.0.4]\r\n\r\nAfter debugging, it appears that count query is not getting executed due to which JPA isn&#39;t able to understand how many records are present for the criteria and it keeps hitting the actual query and hence above exception is thrown. I am struggling to get this working. My use case is to fetch parent records by filtering child records in Spring batch Paginated reader and send it for processing.\r\n\r\nSame query works fine if I remove pagination.","title":"Spring Data JPA Join Query doesn&#39;t work with Pagination","body":"<p>I am facing issues with a Join fetch query when used along with Pageable. Below is the source code.</p>\n<pre><code>@Query(value = &quot;select pa from parent pa join fetch pa.children ch where ch.status='ABC'&quot;, \ncountQuery=&quot;select pa from parent pa join pa.children ch where ch.status='ABC'&quot;)\nPage&lt;Parent&gt; getParents(Pageable pageable);\n\n\npublic class Parent{\nprivate int id;\n@OneToMany(mappedBy=&quot;parent&quot;)\nprivate List&lt;Child&gt; child\n.....getters/setters\n}\n\npublic class Child{\nprivate int id;\n@ManyToOne)\n@JoinColumn(&quot;parent_id&quot;)\nprivate Parent parent;\n.....getters/setters\n}\n\n@Bean(&quot;abcReader&quot;)\n@StepScope\nRepositoryItemReader&lt;Parent&gt; abcReader(\n        AbcRepository abcRepository) {\n    return new RepositoryItemReaderBuilder&lt;Parent&gt;()\n            .name(&quot;abcReader&quot;)\n            .repository(abcRepository)\n            .methodName(&quot;getParents&quot;)\n            .pageSize(20)\n            .sorts(Map.of(&quot;id&quot;, ASC))\n            .build();\n}\n</code></pre>\n<p>When getParents method is called then below exception is thrown</p>\n<blockquote>\n<p>org.springframework.dao.InvalidDataAccessApiUsageException: fromIndex(40) &gt; toIndex(30)\nat org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:371) ~[spring-orm-6.0.4.jar:6.0.4]\nat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:235) ~[spring-orm-6.0.4.jar:6.0.4]</p>\n</blockquote>\n<p>After debugging, it appears that count query is not getting executed due to which JPA isn't able to understand how many records are present for the criteria and it keeps hitting the actual query and hence above exception is thrown. I am struggling to get this working. My use case is to fetch parent records by filtering child records in Spring batch Paginated reader and send it for processing.</p>\n<p>Same query works fine if I remove pagination.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1699740522,"creation_date":1699740522,"answer_id":77467031,"question_id":77467003,"body_markdown":"Those methods are meant to be used on the `Class` object, i.e. `HelloWorld.class` in this case.\r\n\r\n```java\r\nrecord HelloWorld(String name, int n) {\r\n}\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        var clazz = HelloWorld.class;\r\n        System.out.println(clazz.isRecord()); // true\r\n        for (var comp : clazz.getRecordComponents()) {\r\n            System.out.println(comp.getName() + &quot; &quot; + comp.getType());\r\n        }\r\n        /*\r\n        name class java.lang.String\r\n        n int\r\n        */\r\n    }\r\n}\r\n```","title":"How can I use isRecord() and RecordComponent[] in Record Java?","body":"<p>Those methods are meant to be used on the <code>Class</code> object, i.e. <code>HelloWorld.class</code> in this case.</p>\n<pre class=\"lang-java prettyprint-override\"><code>record HelloWorld(String name, int n) {\n}\npublic class Main {\n    public static void main(String[] args) {\n        var clazz = HelloWorld.class;\n        System.out.println(clazz.isRecord()); // true\n        for (var comp : clazz.getRecordComponents()) {\n            System.out.println(comp.getName() + &quot; &quot; + comp.getType());\n        }\n        /*\n        name class java.lang.String\n        n int\n        */\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1699741446,"creation_date":1699741446,"answer_id":77467071,"question_id":77467003,"body_markdown":"&gt; _&quot;... So, I tried to find some tutorial or any guides help me understand more clearly about these concept but according to my understanding, I didn&#39;t find any useful ...&quot;_\r\n\r\nThe documentation is referring to the _[Class](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Class.html)_ _class_.\r\n\r\nYou can obtain a static reference, via the _.class_ syntax.\r\n\r\n```java\r\nClass&lt;HelloWorld&gt; c = HelloWorld.class;\r\n```\r\n\r\nOr, an instance reference, via the _[Object#getClass](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#getClass())_ method.\r\n\r\n```java\r\nHelloWorld h = new HelloWorld(&quot;Manh&quot;);\r\nClass&lt;?&gt; c = h.getClass();\r\n```\r\n\r\nFrom here, you can access the _getRecordComponents_ and _isRecord_ methods.\r\n\r\n```java\r\nc.getRecordComponents()\r\n```\r\n\r\n```java\r\nc.isRecord()\r\n```","title":"How can I use isRecord() and RecordComponent[] in Record Java?","body":"<blockquote>\n<p><em>&quot;... So, I tried to find some tutorial or any guides help me understand more clearly about these concept but according to my understanding, I didn't find any useful ...&quot;</em></p>\n</blockquote>\n<p>The documentation is referring to the <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Class.html\" rel=\"nofollow noreferrer\">Class</a></em> <em>class</em>.</p>\n<p>You can obtain a static reference, via the <em>.class</em> syntax.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Class&lt;HelloWorld&gt; c = HelloWorld.class;\n</code></pre>\n<p>Or, an instance reference, via the <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#getClass()\" rel=\"nofollow noreferrer\">Object#getClass</a></em> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>HelloWorld h = new HelloWorld(&quot;Manh&quot;);\nClass&lt;?&gt; c = h.getClass();\n</code></pre>\n<p>From here, you can access the <em>getRecordComponents</em> and <em>isRecord</em> methods.</p>\n<pre class=\"lang-java prettyprint-override\"><code>c.getRecordComponents()\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>c.isRecord()\n</code></pre>\n"}],"owner":{"account_id":29808133,"reputation":65,"user_id":22844207,"display_name":"user22844207"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77467031,"answer_count":2,"score":1,"last_activity_date":1699741446,"creation_date":1699739982,"question_id":77467003,"body_markdown":"I&#39;m reading about record java on the [official documents](https://docs.oracle.com/en/java/javase/17/language/records.html#GUID-6699E26F-4A9B-4393-A08B-1E47D4B2D263)\r\n\r\nAt the last of the article, the author said:\r\n\r\n&lt;blockquote&gt;\r\nThe class java.lang.Class has two methods related to record classes:\r\n\r\n- RecordComponent[] getRecordComponents(): Returns an array of java.lang.reflect.RecordComponent objects, which correspond to the record class&#39;s components.\r\n\r\n- boolean isRecord(): Similar to isEnum() except that it returns true if the class was declared as a record class.\r\n&lt;/blockquote&gt;\r\n\r\nSo, I tried to find some tutorial or any guides help me understand more clearly about these concept but according to my understanding, I didn&#39;t find any useful\r\n\r\nI have tried to do a example like this, but it not works\r\n```\r\npublic record HelloWorld(String name) {\r\n\r\n}\r\n...\r\n...\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        HelloWorld h = new HelloWorld(&quot;Manh&quot;);\r\n        System.out.println(h);\r\n\r\n        System.out.println(h.isRecord());\r\n//        RecordComponent\r\n    }\r\n}\r\n```\r\n\r\nCould you provide some examples to help me understand about these two APIs?","title":"How can I use isRecord() and RecordComponent[] in Record Java?","body":"<p>I'm reading about record java on the <a href=\"https://docs.oracle.com/en/java/javase/17/language/records.html#GUID-6699E26F-4A9B-4393-A08B-1E47D4B2D263\" rel=\"nofollow noreferrer\">official documents</a></p>\n<p>At the last of the article, the author said:</p>\n<blockquote>\nThe class java.lang.Class has two methods related to record classes:\n<ul>\n<li><p>RecordComponent[] getRecordComponents(): Returns an array of java.lang.reflect.RecordComponent objects, which correspond to the record class's components.</p>\n</li>\n<li><p>boolean isRecord(): Similar to isEnum() except that it returns true if the class was declared as a record class.</p>\n</li>\n</ul>\n</blockquote>\n<p>So, I tried to find some tutorial or any guides help me understand more clearly about these concept but according to my understanding, I didn't find any useful</p>\n<p>I have tried to do a example like this, but it not works</p>\n<pre><code>public record HelloWorld(String name) {\n\n}\n...\n...\npublic class Main {\n    public static void main(String[] args) {\n        HelloWorld h = new HelloWorld(&quot;Manh&quot;);\n        System.out.println(h);\n\n        System.out.println(h.isRecord());\n//        RecordComponent\n    }\n}\n</code></pre>\n<p>Could you provide some examples to help me understand about these two APIs?</p>\n"},{"tags":["java","visual-studio-code"],"comments":[{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1698735044,"post_id":77378451,"comment_id":136439500,"body_markdown":"Is this set? `&quot;java.jdt.ls.java.home&quot;: &quot;E:\\\\Program Files\\\\Java\\\\jdk-17.0.5&quot;` (jdk17 or above)","body":"Is this set? <code>&quot;java.jdt.ls.java.home&quot;: &quot;E:\\\\Program Files\\\\Java\\\\jdk-17.0.5&quot;</code> (jdk17 or above)"},{"owner":{"account_id":16192240,"reputation":393,"user_id":11690682,"display_name":"sweintritt"},"score":0,"creation_date":1698818028,"post_id":77378451,"comment_id":136452061,"body_markdown":"It was not. But setting it did not solve the problem. I also was using Java 11 and switched to 17 but that did also not help.","body":"It was not. But setting it did not solve the problem. I also was using Java 11 and switched to 17 but that did also not help."},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1698831756,"post_id":77378451,"comment_id":136453826,"body_markdown":"Can you provide a specific example showing how code completion isn&#39;t working?","body":"Can you provide a specific example showing how code completion isn&#39;t working?"},{"owner":{"account_id":16192240,"reputation":393,"user_id":11690682,"display_name":"sweintritt"},"score":0,"creation_date":1698903819,"post_id":77378451,"comment_id":136464059,"body_markdown":"I added a picture. I only get some word completion but nothing Java specific.","body":"I added a picture. I only get some word completion but nothing Java specific."},{"owner":{"account_id":15396644,"reputation":25722,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1698978192,"post_id":77378451,"comment_id":136476163,"body_markdown":"[the maintainers are asking for more info](https://github.com/redhat-developer/vscode-java/issues/3349#issuecomment-1790841036): &quot;are there any other errors in your logs before the NullPointerException regarding JavaLanguageServerPlugin.getPreferencesManager() ? Would you be able to attach the client/server logs of this occuring ?&quot; If you could reply to that comment there, that would be great.","body":"<a href=\"https://github.com/redhat-developer/vscode-java/issues/3349#issuecomment-1790841036\" rel=\"nofollow noreferrer\">the maintainers are asking for more info</a>: &quot;are there any other errors in your logs before the NullPointerException regarding JavaLanguageServerPlugin.getPreferencesManager() ? Would you be able to attach the client/server logs of this occuring ?&quot; If you could reply to that comment there, that would be great."}],"answers":[{"tags":[],"owner":{"account_id":15396644,"reputation":25722,"user_id":11107541,"display_name":"starball"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1699740460,"creation_date":1698698673,"answer_id":77391728,"question_id":77378451,"body_markdown":"From the description of the symptoms in the question post- namely that a stacktrace containing `Caused by: java.lang.NullPointerException: Cannot invoke &quot;org.eclipse.jdt.ls.core.internal.preferences.PreferenceManager.getPreferences()&quot; because the return value of &quot;org.eclipse.jdt.ls.core.internal.JavaLanguageServerPlugin.getPreferencesManager()&quot; is null` is getting spammed in the logs, I think this is a case of this issue: [is it is expected to have 19 GB of 1.1 mb log files in worksapceStorage\r\n#3349](https://github.com/redhat-developer/vscode-java/issues/3349#issue-1955416683). see the info request [here](https://github.com/redhat-developer/vscode-java/issues/3349#issuecomment-1786194295). The issue is purportedly fixed by pull request [Avoid refreshing bundles whose dependency closure includes JDT-LS. #2951](https://github.com/eclipse-jdtls/eclipse.jdt.ls/pull/2951), which is in the End November 2023 release milestone.\r\n\r\n### Extra info\r\n\r\n[Provided logs show that](https://github.com/redhat-developer/vscode-java/issues/3349#issuecomment-1792627772) the failure happens when the extension tries to get a reference to the bundle context for `jdt.ls.core`- after which it seems to get stuck in an initialize loop due to the startup error. The changes made in v1.25.2023110903 of the extension seem to improve but not completely fix the bug.\r\n\r\nThe timing of this question lines up nicely with the release of [version 1.24.0 of the extension](https://github.com/redhat-developer/vscode-java/releases/tag/v1.24.0), so I suspect it being a bug introduced in 1.24.0.","title":"Visual Studio Code code completion for Java not working","body":"<p>From the description of the symptoms in the question post- namely that a stacktrace containing <code>Caused by: java.lang.NullPointerException: Cannot invoke &quot;org.eclipse.jdt.ls.core.internal.preferences.PreferenceManager.getPreferences()&quot; because the return value of &quot;org.eclipse.jdt.ls.core.internal.JavaLanguageServerPlugin.getPreferencesManager()&quot; is null</code> is getting spammed in the logs, I think this is a case of this issue: <a href=\"https://github.com/redhat-developer/vscode-java/issues/3349#issue-1955416683\" rel=\"nofollow noreferrer\">is it is expected to have 19 GB of 1.1 mb log files in worksapceStorage\n#3349</a>. see the info request <a href=\"https://github.com/redhat-developer/vscode-java/issues/3349#issuecomment-1786194295\" rel=\"nofollow noreferrer\">here</a>. The issue is purportedly fixed by pull request <a href=\"https://github.com/eclipse-jdtls/eclipse.jdt.ls/pull/2951\" rel=\"nofollow noreferrer\">Avoid refreshing bundles whose dependency closure includes JDT-LS. #2951</a>, which is in the End November 2023 release milestone.</p>\n<h3>Extra info</h3>\n<p><a href=\"https://github.com/redhat-developer/vscode-java/issues/3349#issuecomment-1792627772\" rel=\"nofollow noreferrer\">Provided logs show that</a> the failure happens when the extension tries to get a reference to the bundle context for <code>jdt.ls.core</code>- after which it seems to get stuck in an initialize loop due to the startup error. The changes made in v1.25.2023110903 of the extension seem to improve but not completely fix the bug.</p>\n<p>The timing of this question lines up nicely with the release of <a href=\"https://github.com/redhat-developer/vscode-java/releases/tag/v1.24.0\" rel=\"nofollow noreferrer\">version 1.24.0 of the extension</a>, so I suspect it being a bug introduced in 1.24.0.</p>\n"},{"tags":[],"owner":{"account_id":16192240,"reputation":393,"user_id":11690682,"display_name":"sweintritt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1699041277,"creation_date":1699041277,"answer_id":77419380,"question_id":77378451,"body_markdown":"Oh, this is so stupid. I forgot to set some properties in my maven configuration.\r\n\r\nI set the Java version in the compiler plugin using two properties:\r\n\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    &lt;configuration&gt;\r\n        &lt;source&gt;${maven.compiler.source}&lt;/source&gt;\r\n        &lt;target&gt;${maven.compiler.target}&lt;/target&gt;\r\n    &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nBut I forgot to set both of these properties. Strange this is, I did not get any error message, that they are not set.\r\nBut I did also not build the project on the console.\r\n\r\nAfter defining the properties, everything worked as it should.\r\n\r\nSo, thanks for all your help! And sorry for wasting your time!","title":"Visual Studio Code code completion for Java not working","body":"<p>Oh, this is so stupid. I forgot to set some properties in my maven configuration.</p>\n<p>I set the Java version in the compiler plugin using two properties:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n        &lt;source&gt;${maven.compiler.source}&lt;/source&gt;\n        &lt;target&gt;${maven.compiler.target}&lt;/target&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>But I forgot to set both of these properties. Strange this is, I did not get any error message, that they are not set.\nBut I did also not build the project on the console.</p>\n<p>After defining the properties, everything worked as it should.</p>\n<p>So, thanks for all your help! And sorry for wasting your time!</p>\n"}],"owner":{"account_id":16192240,"reputation":393,"user_id":11690682,"display_name":"sweintritt"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77419380,"answer_count":2,"score":2,"last_activity_date":1699740460,"creation_date":1698477926,"question_id":77378451,"body_markdown":"Visual Studio Code is not giving me any code completion for Java (just the word completion):\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\nI have the JDKs configured:\r\n\r\n```json\r\n&quot;java.configuration.runtimes&quot;: [\r\n    {\r\n        &quot;name&quot;: &quot;JavaSE-11&quot;,\r\n        &quot;path&quot;: &quot;/usr/lib/jvm/jre-11-openjdk&quot;,\r\n        &quot;default&quot;: true\r\n    },\r\n    {\r\n        &quot;name&quot;: &quot;JavaSE-17&quot;,\r\n        &quot;path&quot;: &quot;/usr/lib/jvm/jre-17-openjdk&quot;,\r\n    }   \r\n]\r\n```\r\nI have the *Extension Pack* for Java installed and I don&#39;t get any error or something.\r\n\r\nAny other suggestions what might be the problem?\r\n\r\n\r\n`Help: About`\r\n\r\n```\r\nVersion: 1.83.1\r\nCommit: f1b07bd25dfad64b0167beb15359ae573aecd2cc\r\nDate: 2023-10-10T23:45:31.402Z\r\nElectron: 25.8.4\r\nElectronBuildId: 24154031\r\nChromium: 114.0.5735.289\r\nNode.js: 18.15.0\r\nV8: 11.4.183.29-electron.0\r\nOS: Linux x64 6.5.8-200.fc38.x86_64\r\n```\r\n\r\nRed Hat Java Extension is v1.24.0 (I also tried rolling back to v1.23.0)\r\n\r\n**EDIT**\r\n\r\nNow I do get some errors:\r\n\r\n```\r\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;org.eclipse.jdt.ls.core.internal.preferences.PreferenceManager.getPreferences()&quot; because the return value of &quot;org.eclipse.jdt.ls.core.internal.JavaLanguageServerPlugin.getPreferencesManager()&quot; is null\r\n\tat org.eclipse.jdt.ls.core.internal.preferences.Preferences.setJavaCompletionFavoriteMembers(Preferences.java:1378)\r\n\tat org.eclipse.jdt.ls.core.internal.preferences.Preferences.createFrom(Preferences.java:1126)\r\n\tat org.eclipse.jdt.ls.core.internal.handlers.BaseInitHandler.handleInitializationOptions(BaseInitHandler.java:113)\r\n\tat org.eclipse.jdt.ls.core.internal.handlers.InitHandler.handleInitializationOptions(InitHandler.java:105)\r\n\tat org.eclipse.jdt.ls.core.internal.handlers.BaseInitHandler.initialize(BaseInitHandler.java:64)\r\n\tat org.eclipse.jdt.ls.core.internal.handlers.JDTLanguageServer.initialize(JDTLanguageServer.java:284)\r\n\t... 16 more\r\n```\r\n\r\nThis error keeps coming and coming. The anlysis of the Java project never ends. Strangely while the analysis runs, the code completion now works.\r\n\r\n**EDIT**\r\n\r\nI did update to Java 17 on my machine, now at least the error messages are gone, but I still get no code completion for Java.\r\n\r\n```\r\nFedora 38\r\nOpenJDK 17.0.8\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8rjyP.png","title":"Visual Studio Code code completion for Java not working","body":"<p>Visual Studio Code is not giving me any code completion for Java (just the word completion):</p>\n<p><a href=\"https://i.stack.imgur.com/8rjyP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8rjyP.png\" alt=\"enter image description here\" /></a></p>\n<p>I have the JDKs configured:</p>\n<pre class=\"lang-json prettyprint-override\"><code>&quot;java.configuration.runtimes&quot;: [\n    {\n        &quot;name&quot;: &quot;JavaSE-11&quot;,\n        &quot;path&quot;: &quot;/usr/lib/jvm/jre-11-openjdk&quot;,\n        &quot;default&quot;: true\n    },\n    {\n        &quot;name&quot;: &quot;JavaSE-17&quot;,\n        &quot;path&quot;: &quot;/usr/lib/jvm/jre-17-openjdk&quot;,\n    }   \n]\n</code></pre>\n<p>I have the <em>Extension Pack</em> for Java installed and I don't get any error or something.</p>\n<p>Any other suggestions what might be the problem?</p>\n<p><code>Help: About</code></p>\n<pre><code>Version: 1.83.1\nCommit: f1b07bd25dfad64b0167beb15359ae573aecd2cc\nDate: 2023-10-10T23:45:31.402Z\nElectron: 25.8.4\nElectronBuildId: 24154031\nChromium: 114.0.5735.289\nNode.js: 18.15.0\nV8: 11.4.183.29-electron.0\nOS: Linux x64 6.5.8-200.fc38.x86_64\n</code></pre>\n<p>Red Hat Java Extension is v1.24.0 (I also tried rolling back to v1.23.0)</p>\n<p><strong>EDIT</strong></p>\n<p>Now I do get some errors:</p>\n<pre><code>Caused by: java.lang.NullPointerException: Cannot invoke &quot;org.eclipse.jdt.ls.core.internal.preferences.PreferenceManager.getPreferences()&quot; because the return value of &quot;org.eclipse.jdt.ls.core.internal.JavaLanguageServerPlugin.getPreferencesManager()&quot; is null\n    at org.eclipse.jdt.ls.core.internal.preferences.Preferences.setJavaCompletionFavoriteMembers(Preferences.java:1378)\n    at org.eclipse.jdt.ls.core.internal.preferences.Preferences.createFrom(Preferences.java:1126)\n    at org.eclipse.jdt.ls.core.internal.handlers.BaseInitHandler.handleInitializationOptions(BaseInitHandler.java:113)\n    at org.eclipse.jdt.ls.core.internal.handlers.InitHandler.handleInitializationOptions(InitHandler.java:105)\n    at org.eclipse.jdt.ls.core.internal.handlers.BaseInitHandler.initialize(BaseInitHandler.java:64)\n    at org.eclipse.jdt.ls.core.internal.handlers.JDTLanguageServer.initialize(JDTLanguageServer.java:284)\n    ... 16 more\n</code></pre>\n<p>This error keeps coming and coming. The anlysis of the Java project never ends. Strangely while the analysis runs, the code completion now works.</p>\n<p><strong>EDIT</strong></p>\n<p>I did update to Java 17 on my machine, now at least the error messages are gone, but I still get no code completion for Java.</p>\n<pre><code>Fedora 38\nOpenJDK 17.0.8\n</code></pre>\n"},{"tags":["java","authentication","jwt","httpcookie","spring-boot-security"],"owner":{"account_id":25523036,"reputation":21,"user_id":19312557,"display_name":"Mykyta Ryasny"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699740165,"creation_date":1684708036,"question_id":76302175,"body_markdown":"I am trying to make 2 apps login with 1 auth. My App number one gonna provide JWT token in cookie and I want that my app number 2 use that cookie to serve @PreAUthrize. I have full functionality in my first App, but honestly I have no clue how to mix them together. Here is my first app auth:\r\n\r\n\r\n```\r\n@Component\r\npublic class AuthEntryPointJwt implements AuthenticationEntryPoint {\r\n\r\n  private static final Logger logger = LoggerFactory.getLogger(AuthEntryPointJwt.class);\r\n\r\n  @Override\r\n  public void commence(HttpServletRequest request, HttpServletResponse response, AuthenticationException authException)\r\n      throws IOException, ServletException {\r\n    logger.error(&quot;Unauthorized error: {}&quot;, authException.getMessage());\r\n\r\n    response.setContentType(MediaType.APPLICATION_JSON_VALUE);\r\n    response.setStatus(HttpServletResponse.SC_UNAUTHORIZED);\r\n\r\n    final Map&lt;String, Object&gt; body = new HashMap&lt;&gt;();\r\n    body.put(&quot;status&quot;, HttpServletResponse.SC_UNAUTHORIZED);\r\n    body.put(&quot;error&quot;, &quot;Unauthorized&quot;);\r\n    body.put(&quot;message&quot;, authException.getMessage());\r\n    body.put(&quot;path&quot;, request.getServletPath());\r\n\r\n    final ObjectMapper mapper = new ObjectMapper();\r\n    mapper.writeValue(response.getOutputStream(), body);\r\n  }\r\n}\r\n\r\n```\r\n\r\n\r\n```\r\npublic class AuthTokenFilter extends OncePerRequestFilter {\r\n\r\n  @Autowired\r\n  private JwtUtils jwtUtils;\r\n\r\n  @Autowired\r\n  private UserDetailsService userDetailsService;\r\n\r\n  private static final Logger logger = LoggerFactory.getLogger(AuthTokenFilter.class);\r\n\r\n  @Override\r\n  protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\r\n      throws ServletException, IOException {\r\n    try {\r\n      String jwt = parseJwt(request);\r\n      if (jwt != null &amp;&amp; jwtUtils.validateJwtToken(jwt)) {\r\n        String username = jwtUtils.getUserNameFromJwtToken(jwt);\r\n\r\n        UserDetails userDetails = userDetailsService.loadUserByUsername(username);\r\n\r\n        UsernamePasswordAuthenticationToken authentication =\r\n            new UsernamePasswordAuthenticationToken(userDetails,\r\n                null,\r\n                userDetails.getAuthorities());\r\n\r\n        authentication.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\r\n\r\n        SecurityContextHolder.getContext().setAuthentication(authentication);\r\n      }\r\n    } catch (Exception e) {\r\n      logger.error(&quot;Cannot set user authentication: {}&quot;, e);\r\n    }\r\n\r\n    filterChain.doFilter(request, response);\r\n  }\r\n\r\n  private String parseJwt(HttpServletRequest request) {\r\n    String jwt = jwtUtils.getJwtFromCookies(request);\r\n    return jwt;\r\n  }\r\n}\r\n\r\n```\r\n\r\n```\r\n@Component\r\npublic class JwtUtils {\r\n    private static final Logger logger = LoggerFactory.getLogger(JwtUtils.class);\r\n\r\n    @Value(&quot;${tfg.app.jwtSecret}&quot;)\r\n    private String jwtSecret;\r\n\r\n    @Value(&quot;${tfg.app.jwtExpirationMs}&quot;)\r\n    private int jwtExpirationMs;\r\n\r\n    @Value(&quot;${tfg.app.jwtCookieName}&quot;)\r\n    private String jwtCookie;\r\n\r\n\r\n    public String getJwtFromCookies(HttpServletRequest request) {\r\n        Cookie cookie = WebUtils.getCookie(request, jwtCookie);\r\n        if (cookie != null) {\r\n            return cookie.getValue();\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n\r\n    public ResponseCookie generateJwtCookie(EmployeeEntity userPrincipal) {\r\n        String jwt = generateTokenFromUsername(userPrincipal.getUsername());\r\n        ResponseCookie cookie = ResponseCookie.from(jwtCookie, jwt).path(&quot;/&quot;).maxAge(30000).httpOnly(true).build();\r\n        return cookie;\r\n    }\r\n\r\n    public ResponseCookie getCleanJwtCookie() {\r\n        ResponseCookie cookie = ResponseCookie.from(jwtCookie, null).path(&quot;/api&quot;).build();\r\n        return cookie;\r\n    }\r\n\r\n    public String getUserNameFromJwtToken(String token) {\r\n        return Jwts.parser().setSigningKey(jwtSecret).parseClaimsJws(token).getBody().getSubject();\r\n    }\r\n\r\n    public boolean validateJwtToken(String authToken) {\r\n        try {\r\n            Jwts.parser().setSigningKey(jwtSecret).parseClaimsJws(authToken);\r\n            return true;\r\n        } catch (SignatureException e) {\r\n            logger.error(&quot;Invalid JWT signature: {}&quot;, e.getMessage());\r\n        } catch (MalformedJwtException e) {\r\n            logger.error(&quot;Invalid JWT token: {}&quot;, e.getMessage());\r\n        } catch (ExpiredJwtException e) {\r\n            logger.error(&quot;JWT token is expired: {}&quot;, e.getMessage());\r\n        } catch (UnsupportedJwtException e) {\r\n            logger.error(&quot;JWT token is unsupported: {}&quot;, e.getMessage());\r\n        } catch (IllegalArgumentException e) {\r\n            logger.error(&quot;JWT claims string is empty: {}&quot;, e.getMessage());\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    public String generateTokenFromUsername(String username) {\r\n        return Jwts.builder()\r\n                .setSubject(username)\r\n                .setIssuedAt(new Date())\r\n                .setExpiration(new Date((new Date()).getTime() + jwtExpirationMs))\r\n                .signWith(SignatureAlgorithm.HS512, jwtSecret)\r\n                .compact();\r\n    }\r\n}\r\n\r\n```\r\n\r\n```\r\npublic class SecurityConfiguration {\r\n\r\n    @Autowired\r\n    PasswordEnconderConfig passwordEnconderConfig;\r\n\r\n    @Autowired\r\n    private AuthEntryPointJwt unauthorizedHandler;\r\n\r\n    @Autowired\r\n    UserDetailsService userDetailsService;\r\n\r\n    @Bean\r\n    public AuthTokenFilter authenticationJwtTokenFilter() {\r\n        return new AuthTokenFilter();\r\n    }\r\n\r\n    @Bean\r\n    public DaoAuthenticationProvider authenticationProvider() {\r\n        DaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\r\n\r\n        authProvider.setUserDetailsService(userDetailsService);\r\n        authProvider.setPasswordEncoder(passwordEnconderConfig.passwordEncoder());\r\n\r\n        return authProvider;\r\n    }\r\n\r\n    @Bean\r\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authConfig) throws Exception {\r\n        return authConfig.getAuthenticationManager();\r\n    }\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http.cors().and().csrf().disable()\r\n                .exceptionHandling().authenticationEntryPoint(unauthorizedHandler).and()\r\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\r\n                .authorizeHttpRequests().requestMatchers(&quot;/auth/**&quot;).permitAll()\r\n                .anyRequest().authenticated();\r\n\r\n        http.authenticationProvider(authenticationProvider());\r\n\r\n        http.addFilterBefore(authenticationJwtTokenFilter(), UsernamePasswordAuthenticationFilter.class);\r\n\r\n        return http.build();\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n\r\nI tried to pass this bean to my second app with al JWT stuff and obviusly provided same key, but cannot extract UserDetails and don&#39;t know how to do it.\r\n\r\n\r\n```\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http.cors().and().csrf().disable()\r\n                .exceptionHandling().authenticationEntryPoint(unauthorizedHandler).and()\r\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\r\n                .authorizeHttpRequests().requestMatchers(&quot;/auth/**&quot;).permitAll()\r\n                .anyRequest().authenticated();\r\n\r\n        http.authenticationProvider(authenticationProvider());\r\n\r\n        http.addFilterBefore(authenticationJwtTokenFilter(), UsernamePasswordAuthenticationFilter.class);\r\n\r\n        return http.build();\r\n    }\r\n```\r\n\r\n\r\nEDIT1: I thought maybe just extract userDetails from JWT is viable and implements that in my second app. I don&#180;t know how to extract that, does it gives me all info I need like permission and also don&#180;t know how to implmenets that automaticly.","title":"Two different Rest Api Spring Boot and 1 Login","body":"<p>I am trying to make 2 apps login with 1 auth. My App number one gonna provide JWT token in cookie and I want that my app number 2 use that cookie to serve @PreAUthrize. I have full functionality in my first App, but honestly I have no clue how to mix them together. Here is my first app auth:</p>\n<pre><code>@Component\npublic class AuthEntryPointJwt implements AuthenticationEntryPoint {\n\n  private static final Logger logger = LoggerFactory.getLogger(AuthEntryPointJwt.class);\n\n  @Override\n  public void commence(HttpServletRequest request, HttpServletResponse response, AuthenticationException authException)\n      throws IOException, ServletException {\n    logger.error(&quot;Unauthorized error: {}&quot;, authException.getMessage());\n\n    response.setContentType(MediaType.APPLICATION_JSON_VALUE);\n    response.setStatus(HttpServletResponse.SC_UNAUTHORIZED);\n\n    final Map&lt;String, Object&gt; body = new HashMap&lt;&gt;();\n    body.put(&quot;status&quot;, HttpServletResponse.SC_UNAUTHORIZED);\n    body.put(&quot;error&quot;, &quot;Unauthorized&quot;);\n    body.put(&quot;message&quot;, authException.getMessage());\n    body.put(&quot;path&quot;, request.getServletPath());\n\n    final ObjectMapper mapper = new ObjectMapper();\n    mapper.writeValue(response.getOutputStream(), body);\n  }\n}\n\n</code></pre>\n<pre><code>public class AuthTokenFilter extends OncePerRequestFilter {\n\n  @Autowired\n  private JwtUtils jwtUtils;\n\n  @Autowired\n  private UserDetailsService userDetailsService;\n\n  private static final Logger logger = LoggerFactory.getLogger(AuthTokenFilter.class);\n\n  @Override\n  protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\n      throws ServletException, IOException {\n    try {\n      String jwt = parseJwt(request);\n      if (jwt != null &amp;&amp; jwtUtils.validateJwtToken(jwt)) {\n        String username = jwtUtils.getUserNameFromJwtToken(jwt);\n\n        UserDetails userDetails = userDetailsService.loadUserByUsername(username);\n\n        UsernamePasswordAuthenticationToken authentication =\n            new UsernamePasswordAuthenticationToken(userDetails,\n                null,\n                userDetails.getAuthorities());\n\n        authentication.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\n\n        SecurityContextHolder.getContext().setAuthentication(authentication);\n      }\n    } catch (Exception e) {\n      logger.error(&quot;Cannot set user authentication: {}&quot;, e);\n    }\n\n    filterChain.doFilter(request, response);\n  }\n\n  private String parseJwt(HttpServletRequest request) {\n    String jwt = jwtUtils.getJwtFromCookies(request);\n    return jwt;\n  }\n}\n\n</code></pre>\n<pre><code>@Component\npublic class JwtUtils {\n    private static final Logger logger = LoggerFactory.getLogger(JwtUtils.class);\n\n    @Value(&quot;${tfg.app.jwtSecret}&quot;)\n    private String jwtSecret;\n\n    @Value(&quot;${tfg.app.jwtExpirationMs}&quot;)\n    private int jwtExpirationMs;\n\n    @Value(&quot;${tfg.app.jwtCookieName}&quot;)\n    private String jwtCookie;\n\n\n    public String getJwtFromCookies(HttpServletRequest request) {\n        Cookie cookie = WebUtils.getCookie(request, jwtCookie);\n        if (cookie != null) {\n            return cookie.getValue();\n        } else {\n            return null;\n        }\n    }\n\n    public ResponseCookie generateJwtCookie(EmployeeEntity userPrincipal) {\n        String jwt = generateTokenFromUsername(userPrincipal.getUsername());\n        ResponseCookie cookie = ResponseCookie.from(jwtCookie, jwt).path(&quot;/&quot;).maxAge(30000).httpOnly(true).build();\n        return cookie;\n    }\n\n    public ResponseCookie getCleanJwtCookie() {\n        ResponseCookie cookie = ResponseCookie.from(jwtCookie, null).path(&quot;/api&quot;).build();\n        return cookie;\n    }\n\n    public String getUserNameFromJwtToken(String token) {\n        return Jwts.parser().setSigningKey(jwtSecret).parseClaimsJws(token).getBody().getSubject();\n    }\n\n    public boolean validateJwtToken(String authToken) {\n        try {\n            Jwts.parser().setSigningKey(jwtSecret).parseClaimsJws(authToken);\n            return true;\n        } catch (SignatureException e) {\n            logger.error(&quot;Invalid JWT signature: {}&quot;, e.getMessage());\n        } catch (MalformedJwtException e) {\n            logger.error(&quot;Invalid JWT token: {}&quot;, e.getMessage());\n        } catch (ExpiredJwtException e) {\n            logger.error(&quot;JWT token is expired: {}&quot;, e.getMessage());\n        } catch (UnsupportedJwtException e) {\n            logger.error(&quot;JWT token is unsupported: {}&quot;, e.getMessage());\n        } catch (IllegalArgumentException e) {\n            logger.error(&quot;JWT claims string is empty: {}&quot;, e.getMessage());\n        }\n\n        return false;\n    }\n\n    public String generateTokenFromUsername(String username) {\n        return Jwts.builder()\n                .setSubject(username)\n                .setIssuedAt(new Date())\n                .setExpiration(new Date((new Date()).getTime() + jwtExpirationMs))\n                .signWith(SignatureAlgorithm.HS512, jwtSecret)\n                .compact();\n    }\n}\n\n</code></pre>\n<pre><code>public class SecurityConfiguration {\n\n    @Autowired\n    PasswordEnconderConfig passwordEnconderConfig;\n\n    @Autowired\n    private AuthEntryPointJwt unauthorizedHandler;\n\n    @Autowired\n    UserDetailsService userDetailsService;\n\n    @Bean\n    public AuthTokenFilter authenticationJwtTokenFilter() {\n        return new AuthTokenFilter();\n    }\n\n    @Bean\n    public DaoAuthenticationProvider authenticationProvider() {\n        DaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\n\n        authProvider.setUserDetailsService(userDetailsService);\n        authProvider.setPasswordEncoder(passwordEnconderConfig.passwordEncoder());\n\n        return authProvider;\n    }\n\n    @Bean\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authConfig) throws Exception {\n        return authConfig.getAuthenticationManager();\n    }\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http.cors().and().csrf().disable()\n                .exceptionHandling().authenticationEntryPoint(unauthorizedHandler).and()\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\n                .authorizeHttpRequests().requestMatchers(&quot;/auth/**&quot;).permitAll()\n                .anyRequest().authenticated();\n\n        http.authenticationProvider(authenticationProvider());\n\n        http.addFilterBefore(authenticationJwtTokenFilter(), UsernamePasswordAuthenticationFilter.class);\n\n        return http.build();\n    }\n}\n\n</code></pre>\n<p>I tried to pass this bean to my second app with al JWT stuff and obviusly provided same key, but cannot extract UserDetails and don't know how to do it.</p>\n<pre><code>    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http.cors().and().csrf().disable()\n                .exceptionHandling().authenticationEntryPoint(unauthorizedHandler).and()\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\n                .authorizeHttpRequests().requestMatchers(&quot;/auth/**&quot;).permitAll()\n                .anyRequest().authenticated();\n\n        http.authenticationProvider(authenticationProvider());\n\n        http.addFilterBefore(authenticationJwtTokenFilter(), UsernamePasswordAuthenticationFilter.class);\n\n        return http.build();\n    }\n</code></pre>\n<p>EDIT1: I thought maybe just extract userDetails from JWT is viable and implements that in my second app. I don´t know how to extract that, does it gives me all info I need like permission and also don´t know how to implmenets that automaticly.</p>\n"},{"tags":["java","maven","jenkins"],"answers":[{"tags":[],"owner":{"account_id":2411568,"reputation":15860,"user_id":2106516,"accept_rate":91,"display_name":"tmarwen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1420449111,"creation_date":1420449111,"answer_id":27776325,"question_id":27772221,"body_markdown":"From your snapshot it seems you haven&#39;t checked the *Install automatically* option which should be checked when you add Maven to Jenkins.\r\n\r\nSo check that option, install maven and try issuing the build again.\r\n\r\nOtherwise, you may try to download [the binaries][1] yourself, drop them under some path and change the maven home path to point to latter one. The aim is to avoid the `apt-get` isntallation.\r\n\r\n[1]: http://maven.apache.org/download.cgi","title":"Jenkins: ERROR: Couldn&#39;t find Maven executable","body":"<p>From your snapshot it seems you haven't checked the <em>Install automatically</em> option which should be checked when you add Maven to Jenkins.</p>\n\n<p>So check that option, install maven and try issuing the build again.</p>\n\n<p>Otherwise, you may try to download <a href=\"http://maven.apache.org/download.cgi\" rel=\"nofollow\">the binaries</a> yourself, drop them under some path and change the maven home path to point to latter one. The aim is to avoid the <code>apt-get</code> isntallation.</p>\n"},{"tags":[],"owner":{"account_id":5535929,"reputation":2595,"user_id":4394270,"display_name":"kkamil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1420465901,"creation_date":1420465901,"answer_id":27780960,"question_id":27772221,"body_markdown":"Your global maven configuration seems to be correct. I use the same, and it is working without any problems. I think, your Jenkins item configuration is wrong. \r\n\r\nIn build item in &quot;Build&quot; section please select &quot;Invoke top-level Maven targets&quot;, select proper maven version. In your configuration it should be &quot;My Maven&quot;. In &quot;advance&quot; set proper path to pom.xml file and set proper maven goals.\r\n\r\nPlease also check: https://stackoverflow.com/questions/15415717/maven-plugin-failed-after-upgrading-jenkins-to-1-505","title":"Jenkins: ERROR: Couldn&#39;t find Maven executable","body":"<p>Your global maven configuration seems to be correct. I use the same, and it is working without any problems. I think, your Jenkins item configuration is wrong. </p>\n\n<p>In build item in \"Build\" section please select \"Invoke top-level Maven targets\", select proper maven version. In your configuration it should be \"My Maven\". In \"advance\" set proper path to pom.xml file and set proper maven goals.</p>\n\n<p>Please also check: <a href=\"https://stackoverflow.com/questions/15415717/maven-plugin-failed-after-upgrading-jenkins-to-1-505\">Maven plugin failed after upgrading Jenkins to 1.505</a></p>\n"}],"owner":{"account_id":1742324,"reputation":966,"user_id":1593370,"accept_rate":40,"display_name":"hasan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9893,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1699740070,"creation_date":1420420550,"question_id":27772221,"body_markdown":"I want to run a maven task with jenkins so i installed maven with `sudo apt-get install maven` command in linux and then in jenkins configurations i filled maven part like this:\r\n\r\n![enter image description here][1]\r\n\r\n\r\nbut when i want to run the task i get this output:\r\n\r\n    Started by user anonymous\r\n    Building in workspace /home/services/xebium\r\n    ERROR: Couldn&#39;t find Maven executable.\r\n    /home/services/xebium\r\n    Can&#39;t find target file: out/*.xml with working directory: /home/services/xebium\r\n    Reading results as UTF-8 from /home/services/xebium/out/result.xml\r\n    Parsing results... \r\n\r\n\r\nas you can see it couldn&#39;t find maven and though couldn&#39;t run the maven goal!\r\nanybody can help?\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/1zF4P.png","title":"Jenkins: ERROR: Couldn&#39;t find Maven executable","body":"<p>I want to run a maven task with jenkins so i installed maven with <code>sudo apt-get install maven</code> command in linux and then in jenkins configurations i filled maven part like this:</p>\n\n<p><img src=\"https://i.stack.imgur.com/1zF4P.png\" alt=\"enter image description here\"></p>\n\n<p>but when i want to run the task i get this output:</p>\n\n<pre><code>Started by user anonymous\nBuilding in workspace /home/services/xebium\nERROR: Couldn't find Maven executable.\n/home/services/xebium\nCan't find target file: out/*.xml with working directory: /home/services/xebium\nReading results as UTF-8 from /home/services/xebium/out/result.xml\nParsing results... \n</code></pre>\n\n<p>as you can see it couldn't find maven and though couldn't run the maven goal!\nanybody can help?</p>\n"},{"tags":["java","swing","netbeans"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1699737850,"post_id":77466873,"comment_id":136569882,"body_markdown":"Oracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.  Use a `CardLayout` and create all of the `JPanels` before you pack and set the `JFrame` visible.","body":"Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section.  Use a <code>CardLayout</code> and create all of the <code>JPanels</code> before you pack and set the <code>JFrame</code> visible."},{"owner":{"account_id":29881470,"reputation":1,"user_id":22900256,"display_name":"Amadeus Grimm"},"score":0,"creation_date":1699738009,"post_id":77466873,"comment_id":136569891,"body_markdown":"I am a little bit confused by what you are saying, I used the CardLayout in the code I already have, in this case it is in the CreatePanels() method. Did you mean to drop the GridBagLayout, and add the code for the buttons to each individual panel in their class constructors instead?","body":"I am a little bit confused by what you are saying, I used the CardLayout in the code I already have, in this case it is in the CreatePanels() method. Did you mean to drop the GridBagLayout, and add the code for the buttons to each individual panel in their class constructors instead?"},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1699738509,"post_id":77466873,"comment_id":136569948,"body_markdown":"Sorry, I didn&#39;t see the `CardLayout`.  I&#39;d probably create two separate `JPanels` for the `JFrame`, one containing the `CardLayout` and the other for the `JButtons` using a `GridLayout`.  Another option would be to drop the `JButtons` and use a `JTabbedPane` to hold the other `JPanels`.","body":"Sorry, I didn&#39;t see the <code>CardLayout</code>.  I&#39;d probably create two separate <code>JPanels</code> for the <code>JFrame</code>, one containing the <code>CardLayout</code> and the other for the <code>JButtons</code> using a <code>GridLayout</code>.  Another option would be to drop the <code>JButtons</code> and use a <code>JTabbedPane</code> to hold the other <code>JPanels</code>."},{"owner":{"account_id":29881470,"reputation":1,"user_id":22900256,"display_name":"Amadeus Grimm"},"score":0,"creation_date":1699747654,"post_id":77466873,"comment_id":136570582,"body_markdown":"No worries, I will consider trying what you suggest with the GridLayout and let you know how it goes","body":"No worries, I will consider trying what you suggest with the GridLayout and let you know how it goes"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1699747871,"post_id":77466873,"comment_id":136570593,"body_markdown":"At what point do you actually add `cards` to the parent container?","body":"At what point do you actually add <code>cards</code> to the parent container?"},{"owner":{"account_id":29881470,"reputation":1,"user_id":22900256,"display_name":"Amadeus Grimm"},"score":0,"creation_date":1699759411,"post_id":77466873,"comment_id":136571174,"body_markdown":"At the very end of the bottom code segment, prior to this.add(grid)","body":"At the very end of the bottom code segment, prior to this.add(grid)"},{"owner":{"account_id":29881470,"reputation":1,"user_id":22900256,"display_name":"Amadeus Grimm"},"score":0,"creation_date":1700637103,"post_id":77466873,"comment_id":136677622,"body_markdown":"I edited the code to be a CardLayout and GridLayout and added those separately, but it did not work in the end. Even though they are not nested anymore, the biggest problem is that the panels themselves do not actually show up in the JFrame even though all of the code runs including repaint() revalidate() and this.pack()","body":"I edited the code to be a CardLayout and GridLayout and added those separately, but it did not work in the end. Even though they are not nested anymore, the biggest problem is that the panels themselves do not actually show up in the JFrame even though all of the code runs including repaint() revalidate() and this.pack()"}],"owner":{"account_id":29881470,"reputation":1,"user_id":22900256,"display_name":"Amadeus Grimm"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699737641,"creation_date":1699737641,"question_id":77466873,"body_markdown":"(This is my first question, so apologies if I mess up the format a bit)\r\n\r\nWhen I created the code for the project, the goal was to make a JFrame containing multiple JPanels and JButtons on the sidebar working as a way to switch between them. The JFrame&#39;s top level layout manager is a gridbaglayout, with the first column being composed of buttons, and the columns to the right of that making room for the cardlayout containing the JPanels. However, upon running the code, the components are not created. \r\n\r\nThe constructor is written like this:\r\n\r\n    public HomePage(LobbyList LL, UserList UL, User USER) {\r\n    this.cardLayout = new CardLayout();\r\n    this.gridBagLayout = new GridBagLayout();\r\n    initComponents();\r\n    SetLobbyList(LL);\r\n    SetUserList(UL);\r\n    SetUser(USER);\r\n    CreatePanels();\r\n    }\r\n\r\n\r\n\r\nThe code declaring the various panels needed is written like this:\r\n\r\n    private JoinLobbyPanel JoinPanel; //add functionality by splitting up lobbypage\r\n    private NewLobbyPanel CreateLobby; // reference to the lobby creation page\r\n    private SearchUserPanel SearchUsers; // reference to the search user page\r\n    private JPanel cards; //contains the other functional JPanels\r\n    private final CardLayout cardLayout; //layout manager for cards\r\n    private final GridBagLayout gridBagLayout; //layout manager for grid\r\n    private JPanel grid; //contains the button components and the cards panel\r\n    private HomePanel HomePanel;\r\n\r\n\r\n\r\nAnd the code for the actual layout setup is here: \r\n\r\n    private void CreatePanels(){\r\n    JoinPanel = new JoinLobbyPanel(ll, ul, user);\r\n    CreateLobby = new NewLobbyPanel(ll, ul, user);\r\n    SearchUsers = new SearchUserPanel(ul);\r\n    // lobbyPage = new LobbyPage(ll, ul, user);\r\n    HomePanel = new HomePanel();\r\n    cards = new JPanel();\r\n    cards.setLayout(cardLayout);\r\n    cards.add(JoinPanel, &quot;Join Lobby&quot;);\r\n    cards.add(CreateLobby, &quot;Create Lobby&quot;);\r\n    cards.add(SearchUsers, &quot;Search Users&quot;);\r\n    cards.add(HomePanel, &quot;Home Page&quot;);\r\n    cardLayout.show(cards, &quot;Home Page&quot;);\r\n    grid = new JPanel();\r\n    grid.setLayout(gridBagLayout);\r\n    GridBagConstraints gbc = new GridBagConstraints();\r\n    JButton homeButton = new JButton();\r\n    gbc.gridx=0;\r\n    gbc.gridy=0;\r\n    gbc.weighty=.5;\r\n    gbc.gridwidth=1;\r\n    gbc.gridheight=1;\r\n    homeButton.addActionListener((java.awt.event.ActionEvent e) -&gt; {\r\n    cardLayout.show(cards, &quot;Home Page&quot;);\r\n    });\r\n    grid.add(homeButton, gbc);\r\n    JButton joinButton = new JButton();\r\n    gbc.gridx=0;\r\n    gbc.gridy=1;\r\n    gbc.weighty=.5;\r\n    gbc.gridwidth=1;\r\n    gbc.gridheight=1;\r\n    joinButton.addActionListener((java.awt.event.ActionEvent e) -&gt; {\r\n    cardLayout.show(cards, &quot;Join Lobby&quot;);\r\n    });\r\n    grid.add(joinButton, gbc);\r\n    JButton createButton = new JButton();\r\n    gbc.gridx=0;\r\n    gbc.gridy=2;\r\n    gbc.weighty=.5;\r\n    gbc.gridwidth=1;\r\n    gbc.gridheight=1;\r\n    createButton.addActionListener((java.awt.event.ActionEvent e) -&gt; {\r\n    cardLayout.show(cards, &quot;Create Lobby&quot;);\r\n    });\r\n    grid.add(createButton, gbc);\r\n    JButton searchButton = new JButton();\r\n    gbc.gridx=0;\r\n    gbc.gridy=3;\r\n    gbc.weighty=.5;\r\n    gbc.gridwidth=1;\r\n    gbc.gridheight=1;\r\n    searchButton.addActionListener((java.awt.event.ActionEvent e) -&gt; {\r\n    cardLayout.show(cards, &quot;Search Users&quot;);\r\n    });\r\n    grid.add(searchButton, gbc);\r\n    JButton logOutButton = new JButton();\r\n    gbc.gridx=0;\r\n    gbc.gridy=4;\r\n    gbc.weighty=.5;\r\n    gbc.gridwidth=1;\r\n    gbc.gridheight=1;\r\n    logOutButton.addActionListener((java.awt.event.ActionEvent e) -&gt; {\r\n    ul.test();\r\n    SignInPage SI = new SignInPage(ul);\r\n    SI.setVisible(true);\r\n    this.dispose();\r\n    });\r\n    grid.add(logOutButton, gbc);\r\n    gbc.fill=GridBagConstraints.BOTH;\r\n    gbc.gridx=1;\r\n    gbc.gridy=0;\r\n    gbc.weighty=1;\r\n    gbc.gridwidth=5;\r\n    gbc.gridheight=5;\r\n    grid.add(cards, gbc);\r\n    this.add(grid);\r\n    repaint();\r\n    revalidate();\r\n    this.pack();\r\n    }\r\n\r\nI tried a few things, including checking to make sure that I used repaint, revalidate, and pack just in case one of those was an issue. I also tried creating a component (a JTextLabel for an experiment) in the constructor, but I noticed that the constructor actually didnt create the JTextLabel either, which suggests to me that somehow the constructor isnt working. I had this problem when I put the test label before and also when I put it after the InitComponents() method. I am not really sure where to begin with debugging this as I am a pretty new programmer and was mostly just trying to reorganize one of my teammates&#39; GUI designs which was dependent on a really inefficient system of creating a new JFrame every time you swapped between pages. I am not getting any runtime or compile time errors, it seems like it would have to be either a logical error on my part or an error with the compiler. Have any of you had a problem like this, and how did you resolve it?\r\n\r\n(I am not sure what stackoverflow means by code needs to be indented four spaces so I just made all of my code four spaces away from the side of the textbox. If it meant normal indentation, but just make all the indents four spaces, I apologize and I will fix that)","title":"Working in Java NetBeans Maven, JFrame not loading in the buttons or panels I add in the constructor","body":"<p>(This is my first question, so apologies if I mess up the format a bit)</p>\n<p>When I created the code for the project, the goal was to make a JFrame containing multiple JPanels and JButtons on the sidebar working as a way to switch between them. The JFrame's top level layout manager is a gridbaglayout, with the first column being composed of buttons, and the columns to the right of that making room for the cardlayout containing the JPanels. However, upon running the code, the components are not created.</p>\n<p>The constructor is written like this:</p>\n<pre><code>public HomePage(LobbyList LL, UserList UL, User USER) {\nthis.cardLayout = new CardLayout();\nthis.gridBagLayout = new GridBagLayout();\ninitComponents();\nSetLobbyList(LL);\nSetUserList(UL);\nSetUser(USER);\nCreatePanels();\n}\n</code></pre>\n<p>The code declaring the various panels needed is written like this:</p>\n<pre><code>private JoinLobbyPanel JoinPanel; //add functionality by splitting up lobbypage\nprivate NewLobbyPanel CreateLobby; // reference to the lobby creation page\nprivate SearchUserPanel SearchUsers; // reference to the search user page\nprivate JPanel cards; //contains the other functional JPanels\nprivate final CardLayout cardLayout; //layout manager for cards\nprivate final GridBagLayout gridBagLayout; //layout manager for grid\nprivate JPanel grid; //contains the button components and the cards panel\nprivate HomePanel HomePanel;\n</code></pre>\n<p>And the code for the actual layout setup is here:</p>\n<pre><code>private void CreatePanels(){\nJoinPanel = new JoinLobbyPanel(ll, ul, user);\nCreateLobby = new NewLobbyPanel(ll, ul, user);\nSearchUsers = new SearchUserPanel(ul);\n// lobbyPage = new LobbyPage(ll, ul, user);\nHomePanel = new HomePanel();\ncards = new JPanel();\ncards.setLayout(cardLayout);\ncards.add(JoinPanel, &quot;Join Lobby&quot;);\ncards.add(CreateLobby, &quot;Create Lobby&quot;);\ncards.add(SearchUsers, &quot;Search Users&quot;);\ncards.add(HomePanel, &quot;Home Page&quot;);\ncardLayout.show(cards, &quot;Home Page&quot;);\ngrid = new JPanel();\ngrid.setLayout(gridBagLayout);\nGridBagConstraints gbc = new GridBagConstraints();\nJButton homeButton = new JButton();\ngbc.gridx=0;\ngbc.gridy=0;\ngbc.weighty=.5;\ngbc.gridwidth=1;\ngbc.gridheight=1;\nhomeButton.addActionListener((java.awt.event.ActionEvent e) -&gt; {\ncardLayout.show(cards, &quot;Home Page&quot;);\n});\ngrid.add(homeButton, gbc);\nJButton joinButton = new JButton();\ngbc.gridx=0;\ngbc.gridy=1;\ngbc.weighty=.5;\ngbc.gridwidth=1;\ngbc.gridheight=1;\njoinButton.addActionListener((java.awt.event.ActionEvent e) -&gt; {\ncardLayout.show(cards, &quot;Join Lobby&quot;);\n});\ngrid.add(joinButton, gbc);\nJButton createButton = new JButton();\ngbc.gridx=0;\ngbc.gridy=2;\ngbc.weighty=.5;\ngbc.gridwidth=1;\ngbc.gridheight=1;\ncreateButton.addActionListener((java.awt.event.ActionEvent e) -&gt; {\ncardLayout.show(cards, &quot;Create Lobby&quot;);\n});\ngrid.add(createButton, gbc);\nJButton searchButton = new JButton();\ngbc.gridx=0;\ngbc.gridy=3;\ngbc.weighty=.5;\ngbc.gridwidth=1;\ngbc.gridheight=1;\nsearchButton.addActionListener((java.awt.event.ActionEvent e) -&gt; {\ncardLayout.show(cards, &quot;Search Users&quot;);\n});\ngrid.add(searchButton, gbc);\nJButton logOutButton = new JButton();\ngbc.gridx=0;\ngbc.gridy=4;\ngbc.weighty=.5;\ngbc.gridwidth=1;\ngbc.gridheight=1;\nlogOutButton.addActionListener((java.awt.event.ActionEvent e) -&gt; {\nul.test();\nSignInPage SI = new SignInPage(ul);\nSI.setVisible(true);\nthis.dispose();\n});\ngrid.add(logOutButton, gbc);\ngbc.fill=GridBagConstraints.BOTH;\ngbc.gridx=1;\ngbc.gridy=0;\ngbc.weighty=1;\ngbc.gridwidth=5;\ngbc.gridheight=5;\ngrid.add(cards, gbc);\nthis.add(grid);\nrepaint();\nrevalidate();\nthis.pack();\n}\n</code></pre>\n<p>I tried a few things, including checking to make sure that I used repaint, revalidate, and pack just in case one of those was an issue. I also tried creating a component (a JTextLabel for an experiment) in the constructor, but I noticed that the constructor actually didnt create the JTextLabel either, which suggests to me that somehow the constructor isnt working. I had this problem when I put the test label before and also when I put it after the InitComponents() method. I am not really sure where to begin with debugging this as I am a pretty new programmer and was mostly just trying to reorganize one of my teammates' GUI designs which was dependent on a really inefficient system of creating a new JFrame every time you swapped between pages. I am not getting any runtime or compile time errors, it seems like it would have to be either a logical error on my part or an error with the compiler. Have any of you had a problem like this, and how did you resolve it?</p>\n<p>(I am not sure what stackoverflow means by code needs to be indented four spaces so I just made all of my code four spaces away from the side of the textbox. If it meant normal indentation, but just make all the indents four spaces, I apologize and I will fix that)</p>\n"},{"tags":["java","spring-boot","kotlin","amazon-dynamodb","spring-webflux"],"owner":{"account_id":403449,"reputation":4350,"user_id":771217,"accept_rate":79,"display_name":"Wrench"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":209,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699737430,"creation_date":1687797582,"question_id":76558657,"body_markdown":"Using Spring Boot, DynamoDbEnhancedAsyncClient from the v2 AWS Java SDK, and DynamoDB running using testcontainers and localstack, I fail to get a table from the client with a secondary index as specified in my Dynamo DB bean data class. Everything written in Kotlin.\r\n\r\nBean:\r\n\r\n    @DynamoDbBean\r\n    data class MyEntity (\r\n        @get:DynamoDbPartitionKey\r\n        @get:DynamoDbAttribute(&quot;entityId&quot;)\r\n        var entityId: String = &quot;&quot;,\r\n\r\n        @get:DynamoDbAttribute(&quot;customerId&quot;)\r\n        @get:DynamoDbSecondaryPartitionKey(indexNames = [&quot;CustomerIdIndex&quot;])\r\n        val customerId: String = &quot;&quot;,\r\n\r\n        @get:DynamoDbSecondarySortKey(indexNames = [&quot;CustomerIdIndex&quot;])\r\n        @get:DynamoDbAttribute(&quot;createdAt&quot;)\r\n        val createdAt: LocalDateTime = LocalDateTime.now()\r\n    ) {\r\n        companion object {\r\n            val tableName: String = &quot;my-entity&quot;\r\n    }\r\n\r\nQuery implementation:\r\n\r\n    @Repository\r\n    class MyEntityRepository(client: DynamoDbEnhancedAsyncClient) {\r\n        companion object {\r\n            private val tableSchema = TableSchema.fromBean(MyEntity::class.java)\r\n            private val tableName = MyEntity::class.java.simpleName\r\n        }\r\n\r\n        private val table = client.table(tableName, tableSchema)\r\n\r\n        override suspend fun findByCustomerId(customerId: String): Flow&lt;MyEntity&gt; {\r\n            val conditional: QueryConditional = QueryConditional.keyEqualTo(\r\n                Key.builder()\r\n                    .partitionValue(customerId)\r\n                    .build()\r\n            )\r\n\r\n            val request = QueryEnhancedRequest.builder()\r\n                .queryConditional(conditional)\r\n                .scanIndexForward(false)\r\n                .build()\r\n\r\n            val queryPublisher: SdkPublisher&lt;Page&lt;PaymentMethod&gt;&gt; = table\r\n                .index(&quot;CustomerIdIndex&quot;)\r\n                .query(request)\r\n        }\r\n    }\r\n\r\nQuerying on the primary partition key works. However, when above code tries to query on the GSI, I get the error message:\r\n\r\n&gt; Attempt to execute an operation that requires a secondary index without defining the index attributes in the table metadata. Index name: CustomerIdIndex\r\n&gt;\r\n&gt; java.lang.IllegalArgumentException: Attempt to execute an operation that requires a secondary index without defining the index attributes in the table metadata. Index name: CustomerIdIndex\r\n&gt;\r\n&gt; at software.amazon.awssdk.enhanced.dynamodb.mapper.StaticTableMetadata.getIndex(StaticTableMetadata.java:150)\r\n\r\nIf I debug the code, looking at the table variable, I can indeed see that the DynamoDB client has not picked up the secondary index, as shown here:\r\n\r\n[![Debugger output for the DynamoDB Table][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2pBNG.png\r\n\r\nSo it seems to me that the annotations in the bean data class for the secondary index is not picked up. I&#39;m struggling with finding the reason for that.\r\n\r\nAppreciate all input, thank you.\r\n\r\n","title":"DynamoDbSecondaryPartitionKey annotation in AWS SDK v2 ignored in Kotlin","body":"<p>Using Spring Boot, DynamoDbEnhancedAsyncClient from the v2 AWS Java SDK, and DynamoDB running using testcontainers and localstack, I fail to get a table from the client with a secondary index as specified in my Dynamo DB bean data class. Everything written in Kotlin.</p>\n<p>Bean:</p>\n<pre><code>@DynamoDbBean\ndata class MyEntity (\n    @get:DynamoDbPartitionKey\n    @get:DynamoDbAttribute(&quot;entityId&quot;)\n    var entityId: String = &quot;&quot;,\n\n    @get:DynamoDbAttribute(&quot;customerId&quot;)\n    @get:DynamoDbSecondaryPartitionKey(indexNames = [&quot;CustomerIdIndex&quot;])\n    val customerId: String = &quot;&quot;,\n\n    @get:DynamoDbSecondarySortKey(indexNames = [&quot;CustomerIdIndex&quot;])\n    @get:DynamoDbAttribute(&quot;createdAt&quot;)\n    val createdAt: LocalDateTime = LocalDateTime.now()\n) {\n    companion object {\n        val tableName: String = &quot;my-entity&quot;\n}\n</code></pre>\n<p>Query implementation:</p>\n<pre><code>@Repository\nclass MyEntityRepository(client: DynamoDbEnhancedAsyncClient) {\n    companion object {\n        private val tableSchema = TableSchema.fromBean(MyEntity::class.java)\n        private val tableName = MyEntity::class.java.simpleName\n    }\n\n    private val table = client.table(tableName, tableSchema)\n\n    override suspend fun findByCustomerId(customerId: String): Flow&lt;MyEntity&gt; {\n        val conditional: QueryConditional = QueryConditional.keyEqualTo(\n            Key.builder()\n                .partitionValue(customerId)\n                .build()\n        )\n\n        val request = QueryEnhancedRequest.builder()\n            .queryConditional(conditional)\n            .scanIndexForward(false)\n            .build()\n\n        val queryPublisher: SdkPublisher&lt;Page&lt;PaymentMethod&gt;&gt; = table\n            .index(&quot;CustomerIdIndex&quot;)\n            .query(request)\n    }\n}\n</code></pre>\n<p>Querying on the primary partition key works. However, when above code tries to query on the GSI, I get the error message:</p>\n<blockquote>\n<p>Attempt to execute an operation that requires a secondary index without defining the index attributes in the table metadata. Index name: CustomerIdIndex</p>\n<p>java.lang.IllegalArgumentException: Attempt to execute an operation that requires a secondary index without defining the index attributes in the table metadata. Index name: CustomerIdIndex</p>\n<p>at software.amazon.awssdk.enhanced.dynamodb.mapper.StaticTableMetadata.getIndex(StaticTableMetadata.java:150)</p>\n</blockquote>\n<p>If I debug the code, looking at the table variable, I can indeed see that the DynamoDB client has not picked up the secondary index, as shown here:</p>\n<p><a href=\"https://i.stack.imgur.com/2pBNG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2pBNG.png\" alt=\"Debugger output for the DynamoDB Table\" /></a></p>\n<p>So it seems to me that the annotations in the bean data class for the secondary index is not picked up. I'm struggling with finding the reason for that.</p>\n<p>Appreciate all input, thank you.</p>\n"},{"tags":["java","hibernate","jpa","spring-data"],"comments":[{"owner":{"account_id":10890055,"reputation":1246,"user_id":8006169,"display_name":"Deepak Kumar"},"score":1,"creation_date":1598333990,"post_id":63572568,"comment_id":112416441,"body_markdown":"Your question is not clear on what are you try to get. Please try providing some more clarification regarding the problem and the expected output","body":"Your question is not clear on what are you try to get. Please try providing some more clarification regarding the problem and the expected output"},{"owner":{"account_id":2900857,"reputation":31,"user_id":2487608,"display_name":"Amakak"},"score":0,"creation_date":1598339522,"post_id":63572568,"comment_id":112418413,"body_markdown":"For one table with columns a and b, I want an object with &#39;a&#39; and a list of all &#39;b&#39;s that share the same &#39;a&#39;. This is similiar to what you would do if you had 2 tables using @OneToMany but I only have 1 table.","body":"For one table with columns a and b, I want an object with &#39;a&#39; and a list of all &#39;b&#39;s that share the same &#39;a&#39;. This is similiar to what you would do if you had 2 tables using @OneToMany but I only have 1 table."}],"answers":[{"tags":[],"owner":{"account_id":8060240,"reputation":1326,"user_id":6075989,"display_name":"JMSilla"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1598344766,"creation_date":1598344766,"answer_id":63575086,"question_id":63572568,"body_markdown":"There is no a specific way to do what you need using JPQL. Instead, you can use a Hibernate [ResultTransformer][1], that allows yo to transform the query results to whatever you need. This is a code solution, and is similar to implementing the grouping using the Stream API in the list result and return a map containing the aggregated data.\r\n\r\n\r\n  [1]: https://docs.jboss.org/hibernate/core/3.3/api/org/hibernate/transform/ResultTransformer.html","title":"How do I map 1 column of a SINGLE table query to a COLLECTION using Spring JPA/Hibernate","body":"<p>There is no a specific way to do what you need using JPQL. Instead, you can use a Hibernate <a href=\"https://docs.jboss.org/hibernate/core/3.3/api/org/hibernate/transform/ResultTransformer.html\" rel=\"nofollow noreferrer\">ResultTransformer</a>, that allows yo to transform the query results to whatever you need. This is a code solution, and is similar to implementing the grouping using the Stream API in the list result and return a map containing the aggregated data.</p>\n"},{"tags":[],"owner":{"account_id":28924828,"reputation":1,"user_id":22154947,"display_name":"Biscoito"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699737401,"creation_date":1688124815,"answer_id":76588554,"question_id":63572568,"body_markdown":"It&#39;s possible to refer the same table using annotations (some kind of hack):  \r\n\r\n    @ElementCollection  \r\n    @CollectionTable(name = &quot;table_name&quot;)\r\n\r\nExample:\r\n```\r\n@Data\r\n@Entity\r\n@Table(name = &quot;parent&quot;)\r\npublic class Parent {\r\n    @Id\r\n    private long id;\r\n\r\n    private String name;\r\n\r\n    @ElementCollection\r\n    @CollectionTable(\r\n        name = &quot;parent&quot;,\r\n        joinColumns = @JoinColumn(name = &quot;id&quot;))\r\n    private List&lt;Child&gt; children;\r\n\r\n\r\n    @Data\r\n    @Embeddable\r\n    public static class Child {\r\n        @Column(name = &quot;child_id&quot;)\r\n        private long id;\r\n\r\n        @Column(name = &quot;child_name&quot;)\r\n        private String name;\r\n    }\r\n}\r\n```\r\n\r\nColumns in the table:  \r\n```\r\nid, name, child_id, child_name\r\n```  \r\n\r\nBut... you&#39;ll get several copies from repository (one object for row), so use Set to get rid of them ```Set.copyOf(repository.findAll())```  \r\n\r\nHibernate will be querying database to get children for each parent.\r\n\r\nP.S. Should work with `@OneToMany` annotation too, possibly, if create two entities for one table, didn&#39;t check that","title":"How do I map 1 column of a SINGLE table query to a COLLECTION using Spring JPA/Hibernate","body":"<p>It's possible to refer the same table using annotations (some kind of hack):</p>\n<pre><code>@ElementCollection  \n@CollectionTable(name = &quot;table_name&quot;)\n</code></pre>\n<p>Example:</p>\n<pre><code>@Data\n@Entity\n@Table(name = &quot;parent&quot;)\npublic class Parent {\n    @Id\n    private long id;\n\n    private String name;\n\n    @ElementCollection\n    @CollectionTable(\n        name = &quot;parent&quot;,\n        joinColumns = @JoinColumn(name = &quot;id&quot;))\n    private List&lt;Child&gt; children;\n\n\n    @Data\n    @Embeddable\n    public static class Child {\n        @Column(name = &quot;child_id&quot;)\n        private long id;\n\n        @Column(name = &quot;child_name&quot;)\n        private String name;\n    }\n}\n</code></pre>\n<p>Columns in the table:</p>\n<pre><code>id, name, child_id, child_name\n</code></pre>\n<p>But... you'll get several copies from repository (one object for row), so use Set to get rid of them <code>Set.copyOf(repository.findAll())</code></p>\n<p>Hibernate will be querying database to get children for each parent.</p>\n<p>P.S. Should work with <code>@OneToMany</code> annotation too, possibly, if create two entities for one table, didn't check that</p>\n"}],"owner":{"account_id":2900857,"reputation":31,"user_id":2487608,"display_name":"Amakak"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":462,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1699737401,"creation_date":1598333441,"question_id":63572568,"body_markdown":"\r\nId like to know if there&#39;s a way of doing something **like the Stream API groupingBy Collector**. I know how to select one column (the question was marked as duplicated and I don&#39;t belive it is) I want to do a grouping (**like the groupingBy collector of the java Stream API**) not a group By.\r\nSuppose you have a table (ONE table) like:\r\n\r\n    +---------------------+\r\n    +       myTable       +\r\n    +----------+----------+\r\n    + column_A | column_B +\r\n    +----------+----------+\r\n    +        1 |        1 +\r\n    +        1 |        2 +\r\n    +        1 |        3 +\r\n    +        2 |        1 +\r\n    +----------+----------+\r\n\r\nAnd I would like to have something like\r\n\r\n    @Entity\r\n    @Table(&quot;MyTable&quot;)\r\n    public class MyEntity {\r\n      @Column(&quot;column_A&quot;)\r\n      private int a;\r\n      \r\n      @Column(&quot;column_B&quot;) ?\r\n      private List&lt;Integer&gt; b; //normanly this wuould just be int b, butI want a list of all b&#39;s that have the same a\r\n    }\r\nwith a repo like\r\n\r\n    public interface MyCrudRepo extends CrudRepository&lt;MyEntity,Integer&gt;{\r\n      List&lt;MyEntity&gt; findByA();\r\n    } \r\n\r\nor\r\n\r\n    public interface MyCrudRepo extends CrudRepository&lt;MyEntity,Integer&gt;{\r\n      @Query(&quot;SELECT m.a,m.b FROM MyEntity m&quot;)\r\n      List&lt;MyEntity&gt; customFind();\r\n    } \r\n\r\nThis is not necessarily how it should look at the end, anything that works similar to this is fine. I have looked into projections but all examples use 2 different tables.\r\n\r\n\r\n","title":"How do I map 1 column of a SINGLE table query to a COLLECTION using Spring JPA/Hibernate","body":"<p>Id like to know if there's a way of doing something <strong>like the Stream API groupingBy Collector</strong>. I know how to select one column (the question was marked as duplicated and I don't belive it is) I want to do a grouping (<strong>like the groupingBy collector of the java Stream API</strong>) not a group By.\nSuppose you have a table (ONE table) like:</p>\n<pre><code>+---------------------+\n+       myTable       +\n+----------+----------+\n+ column_A | column_B +\n+----------+----------+\n+        1 |        1 +\n+        1 |        2 +\n+        1 |        3 +\n+        2 |        1 +\n+----------+----------+\n</code></pre>\n<p>And I would like to have something like</p>\n<pre><code>@Entity\n@Table(&quot;MyTable&quot;)\npublic class MyEntity {\n  @Column(&quot;column_A&quot;)\n  private int a;\n  \n  @Column(&quot;column_B&quot;) ?\n  private List&lt;Integer&gt; b; //normanly this wuould just be int b, butI want a list of all b's that have the same a\n}\n</code></pre>\n<p>with a repo like</p>\n<pre><code>public interface MyCrudRepo extends CrudRepository&lt;MyEntity,Integer&gt;{\n  List&lt;MyEntity&gt; findByA();\n} \n</code></pre>\n<p>or</p>\n<pre><code>public interface MyCrudRepo extends CrudRepository&lt;MyEntity,Integer&gt;{\n  @Query(&quot;SELECT m.a,m.b FROM MyEntity m&quot;)\n  List&lt;MyEntity&gt; customFind();\n} \n</code></pre>\n<p>This is not necessarily how it should look at the end, anything that works similar to this is fine. I have looked into projections but all examples use 2 different tables.</p>\n"},{"tags":["java","scala","caching","caffeine-cache"],"comments":[{"owner":{"account_id":10326,"reputation":9293,"user_id":19450,"display_name":"Ben Manes"},"score":1,"creation_date":1698798759,"post_id":77399362,"comment_id":136450574,"body_markdown":"You could use the removal listener if the cache is a final field, so the method could reference it lazily. However, you would need to use a `scheduler` so that it expires proactively and is reloaded. Most often instead you would use `refreshAfterWrite` to proactively reload active content at a shorter interval, else let data expire. If you wanted an unbounded cache that is fully reloaded, then a scheduled executor with a concurrent map is good enough.","body":"You could use the removal listener if the cache is a final field, so the method could reference it lazily. However, you would need to use a <code>scheduler</code> so that it expires proactively and is reloaded. Most often instead you would use <code>refreshAfterWrite</code> to proactively reload active content at a shorter interval, else let data expire. If you wanted an unbounded cache that is fully reloaded, then a scheduled executor with a concurrent map is good enough."},{"owner":{"account_id":7034556,"reputation":12315,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":1,"creation_date":1698824107,"post_id":77399362,"comment_id":136452734,"body_markdown":"As Ben said, If I understand your need correctly I&#39;d use [`refreshAfterWrite`](https://github.com/ben-manes/caffeine/wiki/Refresh) or `expireAfterWrite`.","body":"As Ben said, If I understand your need correctly I&#39;d use <a href=\"https://github.com/ben-manes/caffeine/wiki/Refresh\" rel=\"nofollow noreferrer\"><code>refreshAfterWrite</code></a> or <code>expireAfterWrite</code>."}],"owner":{"account_id":16201923,"reputation":123,"user_id":13124176,"display_name":"Дима Шестаев"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699737383,"creation_date":1698790922,"question_id":77399362,"body_markdown":"Looks like a simple task, all i want is to update expired value in cache, by querying it from db again. And i want to specify this step inside of a cache builder.\r\n\r\n```scala\r\n    new CaffeineCache(Caffeine\r\n      .newBuilder()\r\n      .removalListener[UUID, Option[F]]((k, v, rc) =&gt; fetchNewDataByKey(k))\r\n      .recordStats()\r\n      .build[UUID, Entry[Option[F]]]())\r\n```\r\n\r\nIn the beginning, I thought of evictionListener or removalListener as a solution, but I can&#39;t put fetched value back in cache, and it looks like an option which should be inside of a builder, but so far can&#39;t find any sign of what I am looking for.\r\n\r\nIn short. I want a cache, fetch new data when value is expired, and put it back in cache with new ttl.\r\n\r\nIf there is no built in solution, I guess I will run a side process, which will refresh these values.\r\n\r\n(if you know how to do it by using any other cache rather then caffeine, please let me know too)","title":"Caffeine cache update value from db when expired","body":"<p>Looks like a simple task, all i want is to update expired value in cache, by querying it from db again. And i want to specify this step inside of a cache builder.</p>\n<pre class=\"lang-scala prettyprint-override\"><code>    new CaffeineCache(Caffeine\n      .newBuilder()\n      .removalListener[UUID, Option[F]]((k, v, rc) =&gt; fetchNewDataByKey(k))\n      .recordStats()\n      .build[UUID, Entry[Option[F]]]())\n</code></pre>\n<p>In the beginning, I thought of evictionListener or removalListener as a solution, but I can't put fetched value back in cache, and it looks like an option which should be inside of a builder, but so far can't find any sign of what I am looking for.</p>\n<p>In short. I want a cache, fetch new data when value is expired, and put it back in cache with new ttl.</p>\n<p>If there is no built in solution, I guess I will run a side process, which will refresh these values.</p>\n<p>(if you know how to do it by using any other cache rather then caffeine, please let me know too)</p>\n"},{"tags":["java","spring","postgresql","spring-boot","docker"],"comments":[{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1699720915,"post_id":77465834,"comment_id":136568203,"body_markdown":"Nothing in the logs/stdout/stderr ? Is it working when running from the host ?","body":"Nothing in the logs/stdout/stderr ? Is it working when running from the host ?"},{"owner":{"account_id":3638220,"reputation":79,"user_id":3033090,"display_name":"user3033090"},"score":0,"creation_date":1699724155,"post_id":77465834,"comment_id":136568527,"body_markdown":"Where to find logs/stdout/stderr I&#39;m been running within Windows 10. If I log into my image within docker exec &lt;NAME&gt; bash and try to do a tail -f /logs/stdout/stderr the file doesn&#39;t exist.","body":"Where to find logs/stdout/stderr I&#39;m been running within Windows 10. If I log into my image within docker exec &lt;NAME&gt; bash and try to do a tail -f /logs/stdout/stderr the file doesn&#39;t exist."},{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1699726632,"post_id":77465834,"comment_id":136568820,"body_markdown":"No, this is not a path, I mean the different output sinks. Anyway, first clarify if the app runs ok from the host or any other deployment. Then check the logs of the container with `docker logs &lt;CONTAINER&gt;` if there is any interesting message when hitting /person-form2.","body":"No, this is not a path, I mean the different output sinks. Anyway, first clarify if the app runs ok from the host or any other deployment. Then check the logs of the container with <code>docker logs &lt;CONTAINER&gt;</code> if there is any interesting message when hitting /person-form2."},{"owner":{"account_id":3638220,"reputation":79,"user_id":3033090,"display_name":"user3033090"},"score":0,"creation_date":1699729092,"post_id":77465834,"comment_id":136569085,"body_markdown":"I have edited my question and added two screenshots of the docker logs &lt;CONTAINER_NAME&gt;","body":"I have edited my question and added two screenshots of the docker logs &lt;CONTAINER_NAME&gt;"},{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1699729899,"post_id":77465834,"comment_id":136569193,"body_markdown":"Obviously, `list : 0`, the app can connect, but do not find any Person. You should post the code for `SamplePersonService`. For what do you need `setSamplePersonService()`, the service will be injected by spring. I ask again, is this working in local, without docker  ?","body":"Obviously, <code>list : 0</code>, the app can connect, but do not find any Person. You should post the code for <code>SamplePersonService</code>. For what do you need <code>setSamplePersonService()</code>, the service will be injected by spring. I ask again, is this working in local, without docker  ?"},{"owner":{"account_id":3638220,"reputation":79,"user_id":3033090,"display_name":"user3033090"},"score":0,"creation_date":1699737379,"post_id":77465834,"comment_id":136569835,"body_markdown":"Thanks I solved by adding Column name annotation like described in my SOLVED tagged post.","body":"Thanks I solved by adding Column name annotation like described in my SOLVED tagged post."}],"owner":{"account_id":3638220,"reputation":79,"user_id":3033090,"display_name":"user3033090"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1699737303,"creation_date":1699718804,"question_id":77465834,"body_markdown":"In my test project I want to do simple employees list displayed as a Grid inside a Vaadin 23 View.\r\n\r\nI got the following code for the view :\r\n\r\n```\r\npackage com.example.application.views.personform2;\r\n\r\nimport com.example.application.data.SamplePerson;\r\nimport com.example.application.services.SamplePersonService;\r\nimport com.example.application.views.MainLayout;\r\nimport com.vaadin.flow.component.Composite;\r\nimport com.vaadin.flow.component.button.Button;\r\nimport com.vaadin.flow.component.button.ButtonVariant;\r\nimport com.vaadin.flow.component.datepicker.DatePicker;\r\nimport com.vaadin.flow.component.dependency.Uses;\r\nimport com.vaadin.flow.component.formlayout.FormLayout;\r\nimport com.vaadin.flow.component.grid.Grid;\r\nimport com.vaadin.flow.component.html.H3;\r\nimport com.vaadin.flow.component.icon.Icon;\r\nimport com.vaadin.flow.component.orderedlayout.FlexComponent.Alignment;\r\nimport com.vaadin.flow.component.orderedlayout.FlexComponent.JustifyContentMode;\r\nimport com.vaadin.flow.component.orderedlayout.HorizontalLayout;\r\nimport com.vaadin.flow.component.orderedlayout.VerticalLayout;\r\nimport com.vaadin.flow.component.textfield.EmailField;\r\nimport com.vaadin.flow.component.textfield.TextField;\r\nimport com.vaadin.flow.router.PageTitle;\r\nimport com.vaadin.flow.router.Route;\r\nimport com.vaadin.flow.spring.data.VaadinSpringDataHelpers;\r\nimport com.vaadin.flow.theme.lumo.LumoUtility.Gap;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.data.domain.PageRequest;\r\n\r\nimport java.util.List;\r\n\r\n@PageTitle(&quot;Person Form2&quot;)\r\n@Route(value = &quot;person-form2&quot;, layout = MainLayout.class)\r\n@Uses(Icon.class)\r\npublic class PersonForm2View extends Composite&lt;VerticalLayout&gt; {\r\n\r\n    public PersonForm2View(@Autowired SamplePersonService samplePersonService) {\r\n        VerticalLayout layoutColumn2 = new VerticalLayout();\r\n        this.samplePersonService = samplePersonService;\r\n        H3 h3 = new H3();\r\n        FormLayout formLayout2Col = new FormLayout();\r\n        TextField textField = new TextField();\r\n        Grid basicGrid = new Grid(SamplePerson.class);\r\n        getContent().setWidth(&quot;100%&quot;);\r\n        getContent().getStyle().set(&quot;flex-grow&quot;, &quot;1&quot;);\r\n        getContent().setJustifyContentMode(JustifyContentMode.START);\r\n        getContent().setAlignItems(Alignment.CENTER);\r\n        layoutColumn2.setWidth(&quot;100%&quot;);\r\n        layoutColumn2.setMaxWidth(&quot;800px&quot;);\r\n        layoutColumn2.setHeight(&quot;min-content&quot;);\r\n        h3.setText(&quot;Personal Information&quot;);\r\n        h3.setWidth(&quot;100%&quot;);\r\n        formLayout2Col.setWidth(&quot;100%&quot;);\r\n        textField.setLabel(&quot;First Name&quot;);\r\n        basicGrid.setWidth(&quot;100%&quot;);\r\n        basicGrid.getStyle().set(&quot;flex-grow&quot;, &quot;0&quot;);\r\n        setGridSampleData(basicGrid);\r\n        getContent().add(layoutColumn2);\r\n        layoutColumn2.add(h3);\r\n        layoutColumn2.add(formLayout2Col);\r\n        formLayout2Col.add(textField);\r\n        getContent().add(basicGrid);\r\n    }\r\n\r\n    private void setGridSampleData(Grid grid) {\r\n        System.out.println(&quot;test 1&quot;);\r\n        System.out.println(&quot;list :  &quot; + samplePersonService.list().size());\r\n        grid.setItems(query -&gt; samplePersonService.list(\r\n                PageRequest.of(query.getPage(), query.getPageSize(), VaadinSpringDataHelpers.toSpringDataSort(query)))\r\n                .stream());\r\n    }\r\n\r\n    public SamplePersonService getSamplePersonService() {\r\n        return samplePersonService;\r\n    }\r\n\r\n    public void setSamplePersonService(SamplePersonService samplePersonService) {\r\n        System.out.println(&quot;test service ok&quot;);\r\n        this.samplePersonService = samplePersonService;\r\n    }\r\n\r\n    @Autowired()\r\n    private SamplePersonService samplePersonService;\r\n}\r\n\r\n```\r\n\r\nBut my Grid is all the time empty.\r\n\r\nHere is my application. Properties file\r\n\r\n```\r\nserver.port=${PORT:8080}\r\nlogging.level.org.atmosphere = warn\r\nspring.mustache.check-template-location = false\r\n\r\n# Launch the default browser when starting the application in development mode\r\nvaadin.launch-browser=true\r\n# PostgreSQL configuration.\r\nspring.datasource.url = jdbc:postgresql://postgres:5432/vaadinstart\r\njavax.persistence.jdbc.url = jdbc:postgresql://postgres:5432/vaadinstart\r\nhibernate.connection.url = jdbc:postgresql://postgres:5432/vaadinstart\r\nspring.datasource.username = postgres\r\njavax.persistence.jdbc.username = postgres\r\n# Hibernate properties\r\nspring.jpa.database-platform = org.hibernate.dialect.PostgreSQLDialect\r\nspring.jpa.show-sql = false\r\nspring.jpa.hibernate.naming.implicit-strategy = org.hibernate.boot.model.naming.ImplicitNamingStrategyJpaCompliantImpl\r\nspring.jpa.properties.hibernate.format_sql=true\r\nspring.datasource.password = postgres\r\njavax.persistence.jdbc.password =  postgres\r\nspring.jpa.hibernate.ddl-auto = update\r\n# To improve the performance during development.\r\n# For more information https://vaadin.com/docs/flow/spring/tutorial-spring-configuration.html#special-configuration-parameters\r\nvaadin.whitelisted-packages = com.vaadin,org.vaadin,dev.hilla,com.example.application\r\nspring.jpa.defer-datasource-initialization = true\r\nspring.sql.init.mode = always\r\n\r\n\r\n```\r\n\r\nAnd my Dockerfile looks like this\r\n\r\n```\r\nFROM eclipse-temurin:18-jre\r\nCOPY target/*.jar my-app-0.0.1-SNAPSHOT.jar\r\nRUN mkdir -p /docker-entrypoint-initdb.d/\r\nEXPOSE 8080\r\nENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;/my-app-0.0.1-SNAPSHOT.jar&quot;]\r\n```\r\n\r\n\r\nmy compose file is the following\r\n\r\n```\r\nversion: &#39;4.8&#39;\r\nservices:\r\n  postgres:\r\n    image: &#39;postgres:13.1-alpine&#39;\r\n    restart: always\r\n    container_name: postgres\r\n    env_file:\r\n      - .env\r\n    environment:\r\n      - POSTGRES_DB=vaadinstart\r\n      - POSTGRES_HOST_AUTH_METHOD=trust\r\n    volumes:\r\n      - ./postgres-data:/var/lib/postgresql/data\r\n    ports:\r\n      - &quot;5432:5432&quot;\r\n  app:\r\n    image: &#39;docker-spring-boot-postgres:latest&#39;\r\n    build:\r\n      context: .\r\n    container_name: my-app2\r\n    depends_on:\r\n      - postgres\r\n    ports:\r\n      - 8080:8080\r\n    expose:\r\n      - 9090\r\n    environment:\r\n      - SPRING_DATASOURCE_URL=jdbc:postgresql://postgres:5432/vaadinstart\r\n      - SPRING_DATASOURCE_USERNAME=postgres\r\n      - SPRING_DATASOURCE_PASSWORD=postgres\r\n      - SPRING_JPA_HIBERNATE_DDL_AUTO=update\r\n\r\n```\r\n\r\nI run the following to build and deploy to Docker\r\n\r\n```\r\n mvn clean package -Pproduction\r\n docker-compose build\r\n docker build . -t my-app2:latest\r\n docker-compose up\r\n```\r\n\r\nIf I do the following commands\r\n\r\n[![psql commands][1]][1]\r\n\r\n[![enter image description here][1]][1]\r\nYou can see the person table is not empty not sure what I&#39;ve missed.\r\n\r\nThanks for any hints.\r\n\r\nEDIT\r\n\r\n```\r\nHere is a screenshot of the command docker logs &lt;APP_NAME&gt;\r\n```\r\n[![enter image description here][1]][1]\r\nAnd then the screenshot of docker logs &lt;DB_SERVICE&gt;\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NH0I4.png\r\n  [2]: https://i.stack.imgur.com/uBnKs.png\r\n\r\nEDIT 2\r\n\r\nHere is the code of the Service injected into the View\r\n\r\n```\r\npackage com.example.application.services;\r\n\r\nimport com.example.application.data.SamplePerson;\r\nimport com.example.application.data.SamplePersonRepository;\r\n\r\nimport java.util.List;\r\nimport java.util.Optional;\r\nimport org.springframework.data.domain.Page;\r\nimport org.springframework.data.domain.Pageable;\r\nimport org.springframework.data.jpa.domain.Specification;\r\nimport org.springframework.stereotype.Service;\r\n\r\n@Service\r\npublic class SamplePersonService {\r\n\r\n    private final SamplePersonRepository repository;\r\n\r\n    public SamplePersonService(SamplePersonRepository repository) {\r\n        this.repository = repository;\r\n    }\r\n\r\n    public Optional&lt;SamplePerson&gt; get(Long id) {\r\n        return repository.findById(id);\r\n    }\r\n\r\n    public SamplePerson update(SamplePerson entity) {\r\n        return repository.save(entity);\r\n    }\r\n\r\n    public void delete(Long id) {\r\n        repository.deleteById(id);\r\n    }\r\n\r\n    public Page&lt;SamplePerson&gt; list(Pageable pageable) {\r\n        return repository.findAll(pageable);\r\n    }\r\n\r\n    public List&lt;SamplePerson&gt; list() {\r\n        return this.repository.findAll();\r\n    }\r\n\r\n    public Page&lt;SamplePerson&gt; list(Pageable pageable, Specification&lt;SamplePerson&gt; filter) {\r\n        SamplePerson p = (SamplePerson) filter;\r\n        System.out.println(p.getName());\r\n        return repository.findAll(filter, pageable);\r\n    }\r\n\r\n    public int count() {\r\n        return (int) repository.count();\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nAnd then the Repository\r\n\r\n```\r\npackage com.example.application.data;\r\n\r\n\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.data.jpa.repository.JpaSpecificationExecutor;\r\n\r\npublic interface SamplePersonRepository\r\n        extends\r\n            JpaRepository&lt;SamplePerson, Long&gt;,\r\n            JpaSpecificationExecutor&lt;SamplePerson&gt; {\r\n\r\n}\r\n\r\n```\r\n\r\nSOLVED\r\n\r\nBy adding Column(name) annotation to SamplePerson it works like a charm.","title":"Vaadin 23 + Spring Boot + Docker returns empty list","body":"<p>In my test project I want to do simple employees list displayed as a Grid inside a Vaadin 23 View.</p>\n<p>I got the following code for the view :</p>\n<pre><code>package com.example.application.views.personform2;\n\nimport com.example.application.data.SamplePerson;\nimport com.example.application.services.SamplePersonService;\nimport com.example.application.views.MainLayout;\nimport com.vaadin.flow.component.Composite;\nimport com.vaadin.flow.component.button.Button;\nimport com.vaadin.flow.component.button.ButtonVariant;\nimport com.vaadin.flow.component.datepicker.DatePicker;\nimport com.vaadin.flow.component.dependency.Uses;\nimport com.vaadin.flow.component.formlayout.FormLayout;\nimport com.vaadin.flow.component.grid.Grid;\nimport com.vaadin.flow.component.html.H3;\nimport com.vaadin.flow.component.icon.Icon;\nimport com.vaadin.flow.component.orderedlayout.FlexComponent.Alignment;\nimport com.vaadin.flow.component.orderedlayout.FlexComponent.JustifyContentMode;\nimport com.vaadin.flow.component.orderedlayout.HorizontalLayout;\nimport com.vaadin.flow.component.orderedlayout.VerticalLayout;\nimport com.vaadin.flow.component.textfield.EmailField;\nimport com.vaadin.flow.component.textfield.TextField;\nimport com.vaadin.flow.router.PageTitle;\nimport com.vaadin.flow.router.Route;\nimport com.vaadin.flow.spring.data.VaadinSpringDataHelpers;\nimport com.vaadin.flow.theme.lumo.LumoUtility.Gap;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.data.domain.PageRequest;\n\nimport java.util.List;\n\n@PageTitle(&quot;Person Form2&quot;)\n@Route(value = &quot;person-form2&quot;, layout = MainLayout.class)\n@Uses(Icon.class)\npublic class PersonForm2View extends Composite&lt;VerticalLayout&gt; {\n\n    public PersonForm2View(@Autowired SamplePersonService samplePersonService) {\n        VerticalLayout layoutColumn2 = new VerticalLayout();\n        this.samplePersonService = samplePersonService;\n        H3 h3 = new H3();\n        FormLayout formLayout2Col = new FormLayout();\n        TextField textField = new TextField();\n        Grid basicGrid = new Grid(SamplePerson.class);\n        getContent().setWidth(&quot;100%&quot;);\n        getContent().getStyle().set(&quot;flex-grow&quot;, &quot;1&quot;);\n        getContent().setJustifyContentMode(JustifyContentMode.START);\n        getContent().setAlignItems(Alignment.CENTER);\n        layoutColumn2.setWidth(&quot;100%&quot;);\n        layoutColumn2.setMaxWidth(&quot;800px&quot;);\n        layoutColumn2.setHeight(&quot;min-content&quot;);\n        h3.setText(&quot;Personal Information&quot;);\n        h3.setWidth(&quot;100%&quot;);\n        formLayout2Col.setWidth(&quot;100%&quot;);\n        textField.setLabel(&quot;First Name&quot;);\n        basicGrid.setWidth(&quot;100%&quot;);\n        basicGrid.getStyle().set(&quot;flex-grow&quot;, &quot;0&quot;);\n        setGridSampleData(basicGrid);\n        getContent().add(layoutColumn2);\n        layoutColumn2.add(h3);\n        layoutColumn2.add(formLayout2Col);\n        formLayout2Col.add(textField);\n        getContent().add(basicGrid);\n    }\n\n    private void setGridSampleData(Grid grid) {\n        System.out.println(&quot;test 1&quot;);\n        System.out.println(&quot;list :  &quot; + samplePersonService.list().size());\n        grid.setItems(query -&gt; samplePersonService.list(\n                PageRequest.of(query.getPage(), query.getPageSize(), VaadinSpringDataHelpers.toSpringDataSort(query)))\n                .stream());\n    }\n\n    public SamplePersonService getSamplePersonService() {\n        return samplePersonService;\n    }\n\n    public void setSamplePersonService(SamplePersonService samplePersonService) {\n        System.out.println(&quot;test service ok&quot;);\n        this.samplePersonService = samplePersonService;\n    }\n\n    @Autowired()\n    private SamplePersonService samplePersonService;\n}\n\n</code></pre>\n<p>But my Grid is all the time empty.</p>\n<p>Here is my application. Properties file</p>\n<pre><code>server.port=${PORT:8080}\nlogging.level.org.atmosphere = warn\nspring.mustache.check-template-location = false\n\n# Launch the default browser when starting the application in development mode\nvaadin.launch-browser=true\n# PostgreSQL configuration.\nspring.datasource.url = jdbc:postgresql://postgres:5432/vaadinstart\njavax.persistence.jdbc.url = jdbc:postgresql://postgres:5432/vaadinstart\nhibernate.connection.url = jdbc:postgresql://postgres:5432/vaadinstart\nspring.datasource.username = postgres\njavax.persistence.jdbc.username = postgres\n# Hibernate properties\nspring.jpa.database-platform = org.hibernate.dialect.PostgreSQLDialect\nspring.jpa.show-sql = false\nspring.jpa.hibernate.naming.implicit-strategy = org.hibernate.boot.model.naming.ImplicitNamingStrategyJpaCompliantImpl\nspring.jpa.properties.hibernate.format_sql=true\nspring.datasource.password = postgres\njavax.persistence.jdbc.password =  postgres\nspring.jpa.hibernate.ddl-auto = update\n# To improve the performance during development.\n# For more information https://vaadin.com/docs/flow/spring/tutorial-spring-configuration.html#special-configuration-parameters\nvaadin.whitelisted-packages = com.vaadin,org.vaadin,dev.hilla,com.example.application\nspring.jpa.defer-datasource-initialization = true\nspring.sql.init.mode = always\n\n\n</code></pre>\n<p>And my Dockerfile looks like this</p>\n<pre><code>FROM eclipse-temurin:18-jre\nCOPY target/*.jar my-app-0.0.1-SNAPSHOT.jar\nRUN mkdir -p /docker-entrypoint-initdb.d/\nEXPOSE 8080\nENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;/my-app-0.0.1-SNAPSHOT.jar&quot;]\n</code></pre>\n<p>my compose file is the following</p>\n<pre><code>version: '4.8'\nservices:\n  postgres:\n    image: 'postgres:13.1-alpine'\n    restart: always\n    container_name: postgres\n    env_file:\n      - .env\n    environment:\n      - POSTGRES_DB=vaadinstart\n      - POSTGRES_HOST_AUTH_METHOD=trust\n    volumes:\n      - ./postgres-data:/var/lib/postgresql/data\n    ports:\n      - &quot;5432:5432&quot;\n  app:\n    image: 'docker-spring-boot-postgres:latest'\n    build:\n      context: .\n    container_name: my-app2\n    depends_on:\n      - postgres\n    ports:\n      - 8080:8080\n    expose:\n      - 9090\n    environment:\n      - SPRING_DATASOURCE_URL=jdbc:postgresql://postgres:5432/vaadinstart\n      - SPRING_DATASOURCE_USERNAME=postgres\n      - SPRING_DATASOURCE_PASSWORD=postgres\n      - SPRING_JPA_HIBERNATE_DDL_AUTO=update\n\n</code></pre>\n<p>I run the following to build and deploy to Docker</p>\n<pre><code> mvn clean package -Pproduction\n docker-compose build\n docker build . -t my-app2:latest\n docker-compose up\n</code></pre>\n<p>If I do the following commands</p>\n<p><a href=\"https://i.stack.imgur.com/NH0I4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NH0I4.png\" alt=\"psql commands\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/NH0I4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NH0I4.png\" alt=\"enter image description here\" /></a>\nYou can see the person table is not empty not sure what I've missed.</p>\n<p>Thanks for any hints.</p>\n<p>EDIT</p>\n<pre><code>Here is a screenshot of the command docker logs &lt;APP_NAME&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/NH0I4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NH0I4.png\" alt=\"enter image description here\" /></a>\nAnd then the screenshot of docker logs &lt;DB_SERVICE&gt;</p>\n<p><a href=\"https://i.stack.imgur.com/uBnKs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uBnKs.png\" alt=\"enter image description here\" /></a></p>\n<p>EDIT 2</p>\n<p>Here is the code of the Service injected into the View</p>\n<pre><code>package com.example.application.services;\n\nimport com.example.application.data.SamplePerson;\nimport com.example.application.data.SamplePersonRepository;\n\nimport java.util.List;\nimport java.util.Optional;\nimport org.springframework.data.domain.Page;\nimport org.springframework.data.domain.Pageable;\nimport org.springframework.data.jpa.domain.Specification;\nimport org.springframework.stereotype.Service;\n\n@Service\npublic class SamplePersonService {\n\n    private final SamplePersonRepository repository;\n\n    public SamplePersonService(SamplePersonRepository repository) {\n        this.repository = repository;\n    }\n\n    public Optional&lt;SamplePerson&gt; get(Long id) {\n        return repository.findById(id);\n    }\n\n    public SamplePerson update(SamplePerson entity) {\n        return repository.save(entity);\n    }\n\n    public void delete(Long id) {\n        repository.deleteById(id);\n    }\n\n    public Page&lt;SamplePerson&gt; list(Pageable pageable) {\n        return repository.findAll(pageable);\n    }\n\n    public List&lt;SamplePerson&gt; list() {\n        return this.repository.findAll();\n    }\n\n    public Page&lt;SamplePerson&gt; list(Pageable pageable, Specification&lt;SamplePerson&gt; filter) {\n        SamplePerson p = (SamplePerson) filter;\n        System.out.println(p.getName());\n        return repository.findAll(filter, pageable);\n    }\n\n    public int count() {\n        return (int) repository.count();\n    }\n\n}\n\n</code></pre>\n<p>And then the Repository</p>\n<pre><code>package com.example.application.data;\n\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.data.jpa.repository.JpaSpecificationExecutor;\n\npublic interface SamplePersonRepository\n        extends\n            JpaRepository&lt;SamplePerson, Long&gt;,\n            JpaSpecificationExecutor&lt;SamplePerson&gt; {\n\n}\n\n</code></pre>\n<p>SOLVED</p>\n<p>By adding Column(name) annotation to SamplePerson it works like a charm.</p>\n"},{"tags":["java","arrays","methods"],"comments":[{"owner":{"account_id":3435599,"reputation":4037,"user_id":2878796,"display_name":"UnholySheep"},"score":0,"creation_date":1699730744,"post_id":77466525,"comment_id":136569270,"body_markdown":"Yes, you only call one method, so only the one most suitable is called. In this case it is the `public static double average(double[] userInput)` since you are passing a `double[]` as parameter","body":"Yes, you only call one method, so only the one most suitable is called. In this case it is the <code>public static double average(double[] userInput)</code> since you are passing a <code>double[]</code> as parameter"},{"owner":{"account_id":5281408,"reputation":18787,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1699730861,"post_id":77466525,"comment_id":136569282,"body_markdown":"&quot;*but I&#39;m a bit confused on some areas of the homework assignment itself*&quot; - I recommend talking to your professor/supervisor/teacher.","body":"&quot;<i>but I&#39;m a bit confused on some areas of the homework assignment itself</i>&quot; - I recommend talking to your professor/supervisor/teacher."},{"owner":{"account_id":29671920,"reputation":11,"user_id":22740946,"display_name":"jecca"},"score":0,"creation_date":1699731878,"post_id":77466525,"comment_id":136569366,"body_markdown":"@UnholySheep, thank you! I thought that might be how it works, but I wasn’t sure.","body":"@UnholySheep, thank you! I thought that might be how it works, but I wasn’t sure."},{"owner":{"account_id":29671920,"reputation":11,"user_id":22740946,"display_name":"jecca"},"score":0,"creation_date":1699731983,"post_id":77466525,"comment_id":136569369,"body_markdown":"@Turing85 Unfortunately, my professor won’t answer any questions. He hasn’t graded any assignments in a month and he takes about a week to reply (if he ever does). I’ve already reported him to the school, but for now I just have to do my best on my own.","body":"@Turing85 Unfortunately, my professor won’t answer any questions. He hasn’t graded any assignments in a month and he takes about a week to reply (if he ever does). I’ve already reported him to the school, but for now I just have to do my best on my own."}],"answers":[{"tags":[],"owner":{"account_id":4243,"reputation":1301696,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699737294,"creation_date":1699733236,"answer_id":77466673,"question_id":77466525,"body_markdown":"&gt; Although I wrote two methods, I believe only the double method is being used. Is this correct, or did I misinterpret the assignment?\r\n\r\nThe main challenge and aim of your assignment is to demonstrate the concept of [**method overloading in Java**](https://docs.oracle.com/javase/tutorial/java/javaOO/methods.html). \r\n\r\nMethod overloading is a feature that allows multiple methods to have the same name with different parameters. \r\n\r\n&gt; The Java programming language supports overloading methods, and Java can distinguish between methods with different method signatures. This means that methods within a class can have the same name if they have different parameter lists (there are some qualifications to this that will be discussed in the lesson titled &quot;Interfaces and Inheritance&quot;).\r\n\r\nIn your case, you have implemented two methods named `average()`, one that accepts an array of `int` and another that accepts an array of `double`. This exemplifies how Java differentiates between methods not just by their names, but also by their parameter lists.\r\n\r\nAs you correctly observed, only the `double` version is called in your main method. This is because you are passing a `double[]` array to the `average` method. Java selects the appropriate `average` method based on the type of the argument passed. If an `int[]` array were passed, Java would call the `int` version of the method.\r\n\r\n----\r\n\r\nA few notes on your code, for your consideration:\r\n\r\n\r\nInstead of hard-coding the array length as 10, you could use a variable. That makes your code more adaptable and reusable.   \r\nAnd I would also avoid hard-coding values like 10 in the loop and average calculation. Use the array&#39;s length attribute instead.\r\n\r\nFor calculating the `sum`, you can use an [enhanced for loop](https://www.programiz.com/java-programming/enhanced-for-loop). \r\n\r\nYou are correctly returning the average from both methods, but you are not using these return values in your `main` method. You can store the returned average in a variable and then print it.\r\n\r\nConsider adding error handling for user input, like checking for invalid inputs (non-numeric, etc.).\r\n\r\n-----\r\n\r\n&gt; Do you know why I had to initialize sum before the for loop? I tried to initialize it within the for loop, but that didn&#39;t work.\r\n\r\nIn Java, a variable must be declared and initialized before it is used. When you declare a variable like `sum` within a loop, [its scope](https://www.geeksforgeeks.org/variable-scope-in-java/) (i.e., the part of the code where it is recognized and usable) is limited to that loop.  \r\nEach time the loop iterates, if `sum` were declared inside it, it would be reinitialized to its starting value, which is not the behavior you want when calculating a sum.\r\n\r\nWhen you initialize the variable before the loop:\r\n\r\n- `int sum = 0;` or `double sum = 0.0;`\r\n- That line sets up `sum` with an initial value of 0.\r\n- The scope of `sum` is the entire method, meaning it retains its value across all iterations of the loop.\r\n- Each iteration of the loop adds to `sum`, accumulating the total.\r\n\r\nWhen you initialize the variable inside the loop:\r\n\r\n- If `sum` were declared inside the loop, it would be set to 0 (or any other starting value) at the beginning of each iteration.\r\n- That means you would lose the total you accumulated in previous iterations.\r\n\r\n```java\r\n// Correct way\r\nint sum = 0;\r\nfor (int i = 0; i &lt; 10; i++) {\r\n    sum += i; // Adds i to sum, accumulating over each iteration\r\n}\r\n\r\n// Incorrect way\r\nfor (int i = 0; i &lt; 10; i++) {\r\n    int sum = 0; // Sum is reset to 0 on each iteration\r\n    sum += i; // Only the current value of i is added, previous totals are lost\r\n}\r\n```\r\n\r\nIn the correct way, `sum` is initialized once before the loop starts and retains its value across iterations. In the incorrect way, `sum` is reset in each iteration, so it never accumulates the total sum of all iterations.\r\n\r\n----\r\n\r\n&gt; Why did I need a `return` statement if I didn&#39;t use that return value? \r\n\r\nEven if you do not use the return value of a method in your current program, including a return statement serves multiple purposes:\r\n\r\n- Your method is declared with a return type (`int` or `double`), so it must return a value of that type. That is part of fulfilling the contract you have defined in your method&#39;s signature.\r\n- While your current implementation does not use the return value, returning the calculated average makes your method more versatile for future use. For instance, if you later modify your program or use this method in a different program, you might need the average value for further calculations or decision-making processes.\r\n- And it is a good habit to make sure your methods do exactly what their signature suggests. If a method is supposed to return a value, then it should do so. \r\n\r\n----\r\n\r\n&gt; Was I supposed to change &quot;`array`&quot; in the method header (as stated in the directions) to &quot;`userInput`&quot;, my array name?  \r\n\r\nIn method headers, the names given to parameters are placeholders. You can name them whatever you like, as long as the names are meaningful and follow Java&#39;s naming conventions.  \r\nThe name of the parameter in the method definition does not need to match the name of the array you pass to the method when you call it. \r\n\r\n```java\r\npublic static double average(double[] array) {\r\n    // The name &#39;array&#39; here is just a label for whatever double array is passed to this method.\r\n    // It could be named &#39;data&#39;, &#39;values&#39;, &#39;input&#39;, etc.\r\n}\r\n```\r\n\r\n- The names of parameters in method definitions are used within the method to refer to the values passed to it. These names are local to the method and do not affect or depend on the names of variables in other parts of your code.\r\n\r\n- It is often helpful to choose parameter names that are descriptive and indicate their role or the kind of data they represent. Whether you use `array`, `userInput`, or any other name, it should ideally convey the purpose or content of the parameter.\r\n\r\n- Changing the parameter name does not affect the functionality of the method. The type of the parameter (`int[]` or `double[]`) is what is important. The name is just a label used within the method.\r\n\r\nIn your case, using `userInput` as the parameter name in the method is perfectly fine and might even make the code more readable by clearly indicating that this array is supposed to contain user input. The key is consistency and clarity in how you use these names within the method.","title":"Can someone explain what my code means? I&#39;m writing a program that passes user inputs into an array, then calculates the average of the array","body":"<blockquote>\n<p>Although I wrote two methods, I believe only the double method is being used. Is this correct, or did I misinterpret the assignment?</p>\n</blockquote>\n<p>The main challenge and aim of your assignment is to demonstrate the concept of <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/methods.html\" rel=\"nofollow noreferrer\"><strong>method overloading in Java</strong></a>.</p>\n<p>Method overloading is a feature that allows multiple methods to have the same name with different parameters.</p>\n<blockquote>\n<p>The Java programming language supports overloading methods, and Java can distinguish between methods with different method signatures. This means that methods within a class can have the same name if they have different parameter lists (there are some qualifications to this that will be discussed in the lesson titled &quot;Interfaces and Inheritance&quot;).</p>\n</blockquote>\n<p>In your case, you have implemented two methods named <code>average()</code>, one that accepts an array of <code>int</code> and another that accepts an array of <code>double</code>. This exemplifies how Java differentiates between methods not just by their names, but also by their parameter lists.</p>\n<p>As you correctly observed, only the <code>double</code> version is called in your main method. This is because you are passing a <code>double[]</code> array to the <code>average</code> method. Java selects the appropriate <code>average</code> method based on the type of the argument passed. If an <code>int[]</code> array were passed, Java would call the <code>int</code> version of the method.</p>\n<hr />\n<p>A few notes on your code, for your consideration:</p>\n<p>Instead of hard-coding the array length as 10, you could use a variable. That makes your code more adaptable and reusable.<br />\nAnd I would also avoid hard-coding values like 10 in the loop and average calculation. Use the array's length attribute instead.</p>\n<p>For calculating the <code>sum</code>, you can use an <a href=\"https://www.programiz.com/java-programming/enhanced-for-loop\" rel=\"nofollow noreferrer\">enhanced for loop</a>.</p>\n<p>You are correctly returning the average from both methods, but you are not using these return values in your <code>main</code> method. You can store the returned average in a variable and then print it.</p>\n<p>Consider adding error handling for user input, like checking for invalid inputs (non-numeric, etc.).</p>\n<hr />\n<blockquote>\n<p>Do you know why I had to initialize sum before the for loop? I tried to initialize it within the for loop, but that didn't work.</p>\n</blockquote>\n<p>In Java, a variable must be declared and initialized before it is used. When you declare a variable like <code>sum</code> within a loop, <a href=\"https://www.geeksforgeeks.org/variable-scope-in-java/\" rel=\"nofollow noreferrer\">its scope</a> (i.e., the part of the code where it is recognized and usable) is limited to that loop.<br />\nEach time the loop iterates, if <code>sum</code> were declared inside it, it would be reinitialized to its starting value, which is not the behavior you want when calculating a sum.</p>\n<p>When you initialize the variable before the loop:</p>\n<ul>\n<li><code>int sum = 0;</code> or <code>double sum = 0.0;</code></li>\n<li>That line sets up <code>sum</code> with an initial value of 0.</li>\n<li>The scope of <code>sum</code> is the entire method, meaning it retains its value across all iterations of the loop.</li>\n<li>Each iteration of the loop adds to <code>sum</code>, accumulating the total.</li>\n</ul>\n<p>When you initialize the variable inside the loop:</p>\n<ul>\n<li>If <code>sum</code> were declared inside the loop, it would be set to 0 (or any other starting value) at the beginning of each iteration.</li>\n<li>That means you would lose the total you accumulated in previous iterations.</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>// Correct way\nint sum = 0;\nfor (int i = 0; i &lt; 10; i++) {\n    sum += i; // Adds i to sum, accumulating over each iteration\n}\n\n// Incorrect way\nfor (int i = 0; i &lt; 10; i++) {\n    int sum = 0; // Sum is reset to 0 on each iteration\n    sum += i; // Only the current value of i is added, previous totals are lost\n}\n</code></pre>\n<p>In the correct way, <code>sum</code> is initialized once before the loop starts and retains its value across iterations. In the incorrect way, <code>sum</code> is reset in each iteration, so it never accumulates the total sum of all iterations.</p>\n<hr />\n<blockquote>\n<p>Why did I need a <code>return</code> statement if I didn't use that return value?</p>\n</blockquote>\n<p>Even if you do not use the return value of a method in your current program, including a return statement serves multiple purposes:</p>\n<ul>\n<li>Your method is declared with a return type (<code>int</code> or <code>double</code>), so it must return a value of that type. That is part of fulfilling the contract you have defined in your method's signature.</li>\n<li>While your current implementation does not use the return value, returning the calculated average makes your method more versatile for future use. For instance, if you later modify your program or use this method in a different program, you might need the average value for further calculations or decision-making processes.</li>\n<li>And it is a good habit to make sure your methods do exactly what their signature suggests. If a method is supposed to return a value, then it should do so.</li>\n</ul>\n<hr />\n<blockquote>\n<p>Was I supposed to change &quot;<code>array</code>&quot; in the method header (as stated in the directions) to &quot;<code>userInput</code>&quot;, my array name?</p>\n</blockquote>\n<p>In method headers, the names given to parameters are placeholders. You can name them whatever you like, as long as the names are meaningful and follow Java's naming conventions.<br />\nThe name of the parameter in the method definition does not need to match the name of the array you pass to the method when you call it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static double average(double[] array) {\n    // The name 'array' here is just a label for whatever double array is passed to this method.\n    // It could be named 'data', 'values', 'input', etc.\n}\n</code></pre>\n<ul>\n<li><p>The names of parameters in method definitions are used within the method to refer to the values passed to it. These names are local to the method and do not affect or depend on the names of variables in other parts of your code.</p>\n</li>\n<li><p>It is often helpful to choose parameter names that are descriptive and indicate their role or the kind of data they represent. Whether you use <code>array</code>, <code>userInput</code>, or any other name, it should ideally convey the purpose or content of the parameter.</p>\n</li>\n<li><p>Changing the parameter name does not affect the functionality of the method. The type of the parameter (<code>int[]</code> or <code>double[]</code>) is what is important. The name is just a label used within the method.</p>\n</li>\n</ul>\n<p>In your case, using <code>userInput</code> as the parameter name in the method is perfectly fine and might even make the code more readable by clearly indicating that this array is supposed to contain user input. The key is consistency and clarity in how you use these names within the method.</p>\n"}],"owner":{"account_id":29671920,"reputation":11,"user_id":22740946,"display_name":"jecca"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77466673,"answer_count":1,"score":0,"last_activity_date":1699737294,"creation_date":1699730572,"question_id":77466525,"body_markdown":"The homework assignment is as follows:\r\n\r\n     Write two overloaded methods that return the average of an array with the following headers:\r\n    \r\n      **public static int average(int\\[\\] array)**\r\n    \r\n      **public static double average(double\\[\\] array)**\r\n    \r\n     Write a test program that prompts the user to enter ten double values, invokes this method, and displays the average value.\r\n\r\nI have written my code and I think it works, but I&#39;m a bit confused on some areas of the homework assignment itself and some areas of my code. Although I wrote two methods, I believe only the double method is being used. Is this correct, or did I misinterpret the assignment?\r\n\r\nI also don&#39;t really understand some parts of my code. I fiddled around with things until I was able to make it work, but I don&#39;t know why some parts worked the way they did.\r\n\r\nHere is my code:\r\n\r\n```\r\nimport java.util.Scanner; //Scanner is used to allow user input\r\n\r\nclass AvgArray {\r\n    public static void main(String[] args) {\r\n        Scanner input = new Scanner(System.in);\r\n\r\n        double[] userInput = new double[10];// creates an array called userInput with 10 doubles in that array\r\n\r\n        System.out.printf(&quot;Please input 10 numbers: &quot;);\r\n        for (int i = 0; i &lt; 10; i++) {\r\n            userInput[i] = input.nextDouble();// the next input will be added to the userInput array in location i\r\n        }\r\n\r\n        average(userInput); // calls the method average and passes the userInput array to that method\r\n\r\n        input.close(); // close input to prevent resource leak\r\n    }\r\n\r\n    public static int average(int[] userInput)\r\n    // userInput is necessary at end to make it accessible for the following\r\n    // statements (Is this correct? The assignment said the header should include\r\n    // &quot;array)&quot;, but I&#39;m not sure whether this is something I&#39;m supposed to fill in\r\n    // with my array name or something I should have left alone.)\r\n    {\r\n        int sum = 0;\r\n        // necessary so sum can be used in following for statement, not sure why I\r\n        // couldn&#39;t initialize below with int sum = userInput[]i + sum;\r\n\r\n        for (int i = 0; i &lt; 10; i++) {\r\n            sum = userInput[i] + sum;\r\n        }\r\n        int average = sum / 10;\r\n\r\n        System.out.printf(&quot;%nThe average of your values is %d.%n%n&quot;, average);\r\n        return average; // necessary but not sure why\r\n    }\r\n\r\n    public static double average(double[] userInput)\r\n    // userInput is necessary at end to make it accessible for the following\r\n    // statements (Is this correct? The assignment said the header should include\r\n    // &quot;array)&quot;, but I&#39;m not sure whether this is something I&#39;m supposed to fill in\r\n    // with my array name or something I should have left alone.)\r\n    {\r\n        double sum = 0;\r\n        // necessary so sum can be used in following for statement, not sure why I\r\n        // couldn&#39;t initialize below with double sum = userInput[]i + sum;\r\n\r\n        for (int i = 0; i &lt; 10; i++) {\r\n            sum = userInput[i] + sum;\r\n        }\r\n        double average = sum / 10;\r\n\r\n        System.out.printf(&quot;%nThe average of your values is %.2f.%n%n&quot;, average);\r\n        return average; // necessary but not sure why\r\n    }\r\n\r\n}\r\n```\r\n\r\nI believe everything is working since I get the correct values when the program is run, but I don&#39;t feel like I understand what I did and why. I&#39;ve asked my professor, but he takes about a week to reply (if he ever does). Thank you for your help!","title":"Can someone explain what my code means? I&#39;m writing a program that passes user inputs into an array, then calculates the average of the array","body":"<p>The homework assignment is as follows:</p>\n<pre><code> Write two overloaded methods that return the average of an array with the following headers:\n\n  **public static int average(int\\[\\] array)**\n\n  **public static double average(double\\[\\] array)**\n\n Write a test program that prompts the user to enter ten double values, invokes this method, and displays the average value.\n</code></pre>\n<p>I have written my code and I think it works, but I'm a bit confused on some areas of the homework assignment itself and some areas of my code. Although I wrote two methods, I believe only the double method is being used. Is this correct, or did I misinterpret the assignment?</p>\n<p>I also don't really understand some parts of my code. I fiddled around with things until I was able to make it work, but I don't know why some parts worked the way they did.</p>\n<p>Here is my code:</p>\n<pre><code>import java.util.Scanner; //Scanner is used to allow user input\n\nclass AvgArray {\n    public static void main(String[] args) {\n        Scanner input = new Scanner(System.in);\n\n        double[] userInput = new double[10];// creates an array called userInput with 10 doubles in that array\n\n        System.out.printf(&quot;Please input 10 numbers: &quot;);\n        for (int i = 0; i &lt; 10; i++) {\n            userInput[i] = input.nextDouble();// the next input will be added to the userInput array in location i\n        }\n\n        average(userInput); // calls the method average and passes the userInput array to that method\n\n        input.close(); // close input to prevent resource leak\n    }\n\n    public static int average(int[] userInput)\n    // userInput is necessary at end to make it accessible for the following\n    // statements (Is this correct? The assignment said the header should include\n    // &quot;array)&quot;, but I'm not sure whether this is something I'm supposed to fill in\n    // with my array name or something I should have left alone.)\n    {\n        int sum = 0;\n        // necessary so sum can be used in following for statement, not sure why I\n        // couldn't initialize below with int sum = userInput[]i + sum;\n\n        for (int i = 0; i &lt; 10; i++) {\n            sum = userInput[i] + sum;\n        }\n        int average = sum / 10;\n\n        System.out.printf(&quot;%nThe average of your values is %d.%n%n&quot;, average);\n        return average; // necessary but not sure why\n    }\n\n    public static double average(double[] userInput)\n    // userInput is necessary at end to make it accessible for the following\n    // statements (Is this correct? The assignment said the header should include\n    // &quot;array)&quot;, but I'm not sure whether this is something I'm supposed to fill in\n    // with my array name or something I should have left alone.)\n    {\n        double sum = 0;\n        // necessary so sum can be used in following for statement, not sure why I\n        // couldn't initialize below with double sum = userInput[]i + sum;\n\n        for (int i = 0; i &lt; 10; i++) {\n            sum = userInput[i] + sum;\n        }\n        double average = sum / 10;\n\n        System.out.printf(&quot;%nThe average of your values is %.2f.%n%n&quot;, average);\n        return average; // necessary but not sure why\n    }\n\n}\n</code></pre>\n<p>I believe everything is working since I get the correct values when the program is run, but I don't feel like I understand what I did and why. I've asked my professor, but he takes about a week to reply (if he ever does). Thank you for your help!</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":19655452,"reputation":301,"user_id":14388200,"display_name":"David A."},"score":0,"creation_date":1698887496,"post_id":77405095,"comment_id":136462889,"body_markdown":"Could you specify, how are you importing the dependencies in the projects?\nLike `private final Map&lt;Long, String&gt; translatedActivationStatus`","body":"Could you specify, how are you importing the dependencies in the projects? Like <code>private final Map&lt;Long, String&gt; translatedActivationStatus</code>"},{"owner":{"account_id":1827210,"reputation":31,"user_id":1659580,"accept_rate":50,"display_name":"user1659580"},"score":0,"creation_date":1698905277,"post_id":77405095,"comment_id":136464186,"body_markdown":"They are maven dependency. Above are the piece of code of the method bean (the inherited exsiting and the created). Both are public and no final.","body":"They are maven dependency. Above are the piece of code of the method bean (the inherited exsiting and the created). Both are public and no final."}],"answers":[{"tags":[],"owner":{"account_id":1827210,"reputation":31,"user_id":1659580,"accept_rate":50,"display_name":"user1659580"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698956251,"creation_date":1698956251,"answer_id":77412634,"question_id":77405095,"body_markdown":"I think I have an idea. Execute @bean method is within runtime. It executes the first bean. If another with @Primary is found spring override the object. But the method with the @Bean is always executed even there is another with @Primary returning the same type of object.\r\n\r\nDefinitly @Primary won&#39;t fix my problem and likely I must to keep on with the profile strategy.","title":"@Primary and @Profile does not work to override a Bean","body":"<p>I think I have an idea. Execute @bean method is within runtime. It executes the first bean. If another with @Primary is found spring override the object. But the method with the @Bean is always executed even there is another with @Primary returning the same type of object.</p>\n<p>Definitly @Primary won't fix my problem and likely I must to keep on with the profile strategy.</p>\n"},{"tags":[],"owner":{"account_id":449256,"reputation":2122,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698956653,"creation_date":1698956653,"answer_id":77412672,"question_id":77405095,"body_markdown":"CoreConfigSecond is ignored\r\n--\r\nYour PB is ignored. Please code CoreConfigSecond  as the first configuration and im `CoreConfigSecond` @ImportConfig the config from PC.","title":"@Primary and @Profile does not work to override a Bean","body":"<h2>CoreConfigSecond is ignored</h2>\n<p>Your PB is ignored. Please code CoreConfigSecond  as the first configuration and im <code>CoreConfigSecond</code> @ImportConfig the config from PC.</p>\n"}],"owner":{"account_id":1827210,"reputation":31,"user_id":1659580,"accept_rate":50,"display_name":"user1659580"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1699737143,"creation_date":1698866499,"question_id":77405095,"body_markdown":"I have a Spring project to run (aka PA) which has a dependency with other project (PB) and this one has dependency with other project (PC)\r\nPB is a customization of PC actually.\r\n\r\nThe problem is that my PA uses a different database model than PC was originally designed. Within PC there is a @Configuration class with a @Bean is recovered querying database\r\n\r\n    @Configuration\r\n    public class CoreConfig {\r\n    \r\n      @Bean\r\n      public Map&lt;Long, String&gt; translatedActivationStatusMap(ActivationStatusRepository activationStatusRepository,\r\n          TranslationUtil translationUtil) {\r\n        return activationStatusRepository.findActivationStatusBusinessCodes()\r\n            .stream()\r\n            .collect(Collectors.toMap(ActivationStatusRow::getId, activationStatusRow -&gt; {\r\n              final String translatedPrimaryStatus = translationUtil\r\n                  .getTranslation(activationStatusRow.getStatusPrimaryBusinessCode(), activationStatusRow.getStatusPrimaryDescription());\r\n              final String translatedSecondaryStatus = translationUtil\r\n                  .getTranslation(activationStatusRow.getStatusSecondaryBusinessCode(), activationStatusRow.getStatusSecondaryDescription());\r\n              return String.format(&quot;%s - %s&quot;, translatedPrimaryStatus, translatedSecondaryStatus);\r\n            }));\r\n      }\r\n    }\r\n\r\nAs the table quered by the upper repository method does not exists in the DB configured in PA, it throws an exception:\r\n\r\n&gt; table or view does not exists\r\n\r\nMy idea to resolve it is avoid Spring try to load such bean in the context. To do it I have tried several options but any of them worked.\r\n\r\n**Option 1**: create a new class in PB and annotate it as @Configuration and a method to return same type annotated as a @Bean and @Primary. But didn&#39;t work. Same exception raised\r\n\r\n    @Configuration\r\n    public class CoreConfigSecond {\r\n    \r\n      @Bean\r\n      @Primary\r\n      public Map&lt;Long, String&gt; translatedActivationStatusMapSecond(ActivationStatusRepository activationStatusRepository,\r\n                                                             TranslationUtil translationUtil) {\r\n        return new HashMap&lt;&gt;();\r\n      }\r\n    }\r\n\r\n\r\n**Option 2**: same class annotated with @Profile(&quot;test&quot;) and set the property &quot;spring.profiles.active=test&quot; in the application properties. Didn&#39;t work :(\r\n\r\nDoes anybody figure out why @Primary does not override the method?\r\nWhat do you think it could solve my problem?\r\n\r\nThanks a lot!","title":"@Primary and @Profile does not work to override a Bean","body":"<p>I have a Spring project to run (aka PA) which has a dependency with other project (PB) and this one has dependency with other project (PC)\nPB is a customization of PC actually.</p>\n<p>The problem is that my PA uses a different database model than PC was originally designed. Within PC there is a @Configuration class with a @Bean is recovered querying database</p>\n<pre><code>@Configuration\npublic class CoreConfig {\n\n  @Bean\n  public Map&lt;Long, String&gt; translatedActivationStatusMap(ActivationStatusRepository activationStatusRepository,\n      TranslationUtil translationUtil) {\n    return activationStatusRepository.findActivationStatusBusinessCodes()\n        .stream()\n        .collect(Collectors.toMap(ActivationStatusRow::getId, activationStatusRow -&gt; {\n          final String translatedPrimaryStatus = translationUtil\n              .getTranslation(activationStatusRow.getStatusPrimaryBusinessCode(), activationStatusRow.getStatusPrimaryDescription());\n          final String translatedSecondaryStatus = translationUtil\n              .getTranslation(activationStatusRow.getStatusSecondaryBusinessCode(), activationStatusRow.getStatusSecondaryDescription());\n          return String.format(&quot;%s - %s&quot;, translatedPrimaryStatus, translatedSecondaryStatus);\n        }));\n  }\n}\n</code></pre>\n<p>As the table quered by the upper repository method does not exists in the DB configured in PA, it throws an exception:</p>\n<blockquote>\n<p>table or view does not exists</p>\n</blockquote>\n<p>My idea to resolve it is avoid Spring try to load such bean in the context. To do it I have tried several options but any of them worked.</p>\n<p><strong>Option 1</strong>: create a new class in PB and annotate it as @Configuration and a method to return same type annotated as a @Bean and @Primary. But didn't work. Same exception raised</p>\n<pre><code>@Configuration\npublic class CoreConfigSecond {\n\n  @Bean\n  @Primary\n  public Map&lt;Long, String&gt; translatedActivationStatusMapSecond(ActivationStatusRepository activationStatusRepository,\n                                                         TranslationUtil translationUtil) {\n    return new HashMap&lt;&gt;();\n  }\n}\n</code></pre>\n<p><strong>Option 2</strong>: same class annotated with @Profile(&quot;test&quot;) and set the property &quot;spring.profiles.active=test&quot; in the application properties. Didn't work :(</p>\n<p>Does anybody figure out why @Primary does not override the method?\nWhat do you think it could solve my problem?</p>\n<p>Thanks a lot!</p>\n"},{"tags":["java","eclipse","hibernate"],"comments":[{"owner":{"account_id":4686595,"reputation":5802,"user_id":3793867,"accept_rate":29,"display_name":"Darshan Lila"},"score":0,"creation_date":1418132781,"post_id":27380399,"comment_id":43209888,"body_markdown":"Put `hibernate.cfg.xml` in `src-&gt;util` folder, and try again.","body":"Put <code>hibernate.cfg.xml</code> in <code>src-&gt;util</code> folder, and try again."},{"owner":{"account_id":4305422,"reputation":2495,"user_id":3517923,"accept_rate":85,"display_name":"foxt7ot"},"score":0,"creation_date":1418133358,"post_id":27380399,"comment_id":43210222,"body_markdown":"Which building tool you are using like Gradle, Ant, Maven","body":"Which building tool you are using like Gradle, Ant, Maven"},{"owner":{"account_id":4446456,"reputation":273,"user_id":3619598,"accept_rate":29,"display_name":"Simo03"},"score":0,"creation_date":1418134635,"post_id":27380399,"comment_id":43210965,"body_markdown":"I did it but still the same problem.","body":"I did it but still the same problem."},{"owner":{"account_id":4446456,"reputation":273,"user_id":3619598,"accept_rate":29,"display_name":"Simo03"},"score":0,"creation_date":1418134653,"post_id":27380399,"comment_id":43210972,"body_markdown":"I&#39;m not using any tool.","body":"I&#39;m not using any tool."}],"answers":[{"tags":[],"owner":{"account_id":5387395,"reputation":5281,"user_id":4290860,"accept_rate":60,"display_name":"outdev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1418136601,"creation_date":1418132764,"answer_id":27380435,"question_id":27380399,"body_markdown":"If using maven try putting it in \r\n\r\n    /src/main/resources\r\n\r\nIf using simple eclipse project (without maven), put it in project root directory (not in the src)\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/kGZeS.png\r\n\r\n\r\nAlso you misspelled the name of the file in the source\r\n\r\n    return new Configuration().configure(&quot;hibernate.cgf.xml&quot;).buildSessionFactory();\r\nit must be \r\n\r\n    hibernate.cfg.xml","title":"hibernate.cfg.xml not found (eclipse)","body":"<p>If using maven try putting it in </p>\n\n<pre><code>/src/main/resources\n</code></pre>\n\n<p>If using simple eclipse project (without maven), put it in project root directory (not in the src)\n<img src=\"https://i.stack.imgur.com/kGZeS.png\" alt=\"enter image description here\"></p>\n\n<p>Also you misspelled the name of the file in the source</p>\n\n<pre><code>return new Configuration().configure(\"hibernate.cgf.xml\").buildSessionFactory();\n</code></pre>\n\n<p>it must be </p>\n\n<pre><code>hibernate.cfg.xml\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5989338,"reputation":687,"user_id":4705854,"display_name":"Ravi Macha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1473971279,"creation_date":1473971279,"answer_id":39519804,"question_id":27380399,"body_markdown":"If its a Maven project just add cfg.xml file in /src/main/resources in eclips","title":"hibernate.cfg.xml not found (eclipse)","body":"<p>If its a Maven project just add cfg.xml file in /src/main/resources in eclips</p>\n"}],"owner":{"account_id":4446456,"reputation":273,"user_id":3619598,"accept_rate":29,"display_name":"Simo03"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8664,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1699736545,"creation_date":1418132674,"question_id":27380399,"body_markdown":"I started using Hibernate today and tested a simple example but I&#39;m getting the error: hibernate.cfg.xml not found.\r\nI putted the hibernate.cfg.xml file in the src folder and here is its content:\r\n\r\n        &lt;?xml version=&#39;1.0&#39; encoding=&#39;utf-8&#39;?&gt;\r\n    \r\n    &lt;!DOCTYPE hibernate-configuration PUBLIC\r\n          &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;\r\n          &quot;http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd&quot; &gt;\r\n    \r\n    &lt;hibernate-configuration&gt;\r\n            \r\n      &lt;session-factory&gt;\r\n        &lt;!-- Database connection settings --&gt;\r\n        &lt;property name=&quot;connection.driver_class&quot;&gt;com.mysql.jdbc.Driver&lt;/property&gt;\r\n        &lt;property name=&quot;connection.url&quot;&gt;jdbc:mysql://localhost:3306/test&lt;/property&gt;\r\n        &lt;property name=&quot;connection.username&quot;&gt;test&lt;/property&gt;\r\n        &lt;property name=&quot;connection.password&quot;&gt;test&lt;/property&gt;\r\n    \r\n        &lt;!-- JDBC connection pool (use the built-in) --&gt;\r\n        &lt;property name=&quot;connection.pool_size&quot;&gt;1&lt;/property&gt;\r\n    \r\n        &lt;!-- SQL dialect --&gt;\r\n        &lt;property name=&quot;dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\r\n    \r\n        &lt;!-- Enable Hibernate&#39;s automatic session context management --&gt;\r\n        &lt;property name=&quot;current_session_context_class&quot;&gt;thread&lt;/property&gt;\r\n    \r\n        &lt;!-- Disable the second-level cache  --&gt;\r\n        &lt;property name=&quot;cache.provider_class&quot;&gt;org.hibernate.cache.internal.NoCacheProvider&lt;/property&gt;\r\n    \r\n        &lt;!-- Echo all executed SQL to stdout --&gt;\r\n        &lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\r\n    \r\n        &lt;!-- Drop and re-create the database schema on startup --&gt;\r\n        &lt;property name=&quot;hbm2ddl.auto&quot;&gt;update&lt;/property&gt;\r\n        \r\n        &lt;mapping resource=&quot;com/mycompany/model/Product.hbm.xml&quot;/&gt;\r\n        \r\n      &lt;/session-factory&gt;\r\n    &lt;/hibernate-configuration&gt;\r\n\r\n And I putted the HibernateUtil.java file under util folder (src/util) and here is its content\r\n\r\n        package util;\r\n    \r\n    import org.hibernate.SessionFactory;\r\n    import org.hibernate.cfg.Configuration;\r\n    \r\n    public class HibernateUtil\r\n    {\r\n        private static final SessionFactory sessionFactory = buildSessionFactory();\r\n          \r\n        private static SessionFactory buildSessionFactory()\r\n        {\r\n            try\r\n            {\r\n                // Create the SessionFactory from hibernate.cfg.xml\r\n                return new Configuration().configure(&quot;hibernate.cgf.xml&quot;).buildSessionFactory();\r\n            }\r\n            catch (Throwable ex) {\r\n                // Make sure you log the exception, as it might be swallowed\r\n                System.err.println(&quot;Initial SessionFactory creation failed.&quot; + ex);\r\n                throw new ExceptionInInitializerError(ex);\r\n            }\r\n        }\r\n      \r\n        public static SessionFactory getSessionFactory() {\r\n            return sessionFactory;\r\n        }\r\n      \r\n        public static void shutdown() {\r\n            // Close caches and connection pools\r\n            getSessionFactory().close();\r\n        }\r\n    }\r\n\r\nI also have the Jars added to the build path.\r\n\r\nMy class Test.java :\r\n\r\n        import ...\r\n    \r\n    \r\n    public class Test {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\t\r\n    \t\tProductDao pd = new ProductDao();\r\n    \t\t\r\n    \t\ttry {\r\n    \t\t\t\r\n    \t\t\tProduct p = new Product(&quot;PC&quot;, 1000L);\r\n    \t\t\t\r\n    \t\t\tpd.add(p);\r\n    \t\t\t\r\n    \t\t} catch (ParseException e) {\r\n    \t\t\t// TODO Auto-generated catch block\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\t\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\nThe add method :\r\n\r\npublic void add(Product p) {\r\n\r\n\tSession session = HibernateUtil.getSessionFactory().openSession();\r\n\tTransaction tx = session.beginTransaction();\r\n    session.beginTransaction();\r\n\tsession.save(p);\r\n\ttx.commit();\r\n\r\n}\r\n\r\n\r\nThanks in advance\r\n","title":"hibernate.cfg.xml not found (eclipse)","body":"<p>I started using Hibernate today and tested a simple example but I'm getting the error: hibernate.cfg.xml not found.\nI putted the hibernate.cfg.xml file in the src folder and here is its content:</p>\n\n<pre><code>    &lt;?xml version='1.0' encoding='utf-8'?&gt;\n\n&lt;!DOCTYPE hibernate-configuration PUBLIC\n      \"-//Hibernate/Hibernate Configuration DTD 3.0//EN\"\n      \"http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd\" &gt;\n\n&lt;hibernate-configuration&gt;\n\n  &lt;session-factory&gt;\n    &lt;!-- Database connection settings --&gt;\n    &lt;property name=\"connection.driver_class\"&gt;com.mysql.jdbc.Driver&lt;/property&gt;\n    &lt;property name=\"connection.url\"&gt;jdbc:mysql://localhost:3306/test&lt;/property&gt;\n    &lt;property name=\"connection.username\"&gt;test&lt;/property&gt;\n    &lt;property name=\"connection.password\"&gt;test&lt;/property&gt;\n\n    &lt;!-- JDBC connection pool (use the built-in) --&gt;\n    &lt;property name=\"connection.pool_size\"&gt;1&lt;/property&gt;\n\n    &lt;!-- SQL dialect --&gt;\n    &lt;property name=\"dialect\"&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\n\n    &lt;!-- Enable Hibernate's automatic session context management --&gt;\n    &lt;property name=\"current_session_context_class\"&gt;thread&lt;/property&gt;\n\n    &lt;!-- Disable the second-level cache  --&gt;\n    &lt;property name=\"cache.provider_class\"&gt;org.hibernate.cache.internal.NoCacheProvider&lt;/property&gt;\n\n    &lt;!-- Echo all executed SQL to stdout --&gt;\n    &lt;property name=\"show_sql\"&gt;true&lt;/property&gt;\n\n    &lt;!-- Drop and re-create the database schema on startup --&gt;\n    &lt;property name=\"hbm2ddl.auto\"&gt;update&lt;/property&gt;\n\n    &lt;mapping resource=\"com/mycompany/model/Product.hbm.xml\"/&gt;\n\n  &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n\n<p>And I putted the HibernateUtil.java file under util folder (src/util) and here is its content</p>\n\n<pre><code>    package util;\n\nimport org.hibernate.SessionFactory;\nimport org.hibernate.cfg.Configuration;\n\npublic class HibernateUtil\n{\n    private static final SessionFactory sessionFactory = buildSessionFactory();\n\n    private static SessionFactory buildSessionFactory()\n    {\n        try\n        {\n            // Create the SessionFactory from hibernate.cfg.xml\n            return new Configuration().configure(\"hibernate.cgf.xml\").buildSessionFactory();\n        }\n        catch (Throwable ex) {\n            // Make sure you log the exception, as it might be swallowed\n            System.err.println(\"Initial SessionFactory creation failed.\" + ex);\n            throw new ExceptionInInitializerError(ex);\n        }\n    }\n\n    public static SessionFactory getSessionFactory() {\n        return sessionFactory;\n    }\n\n    public static void shutdown() {\n        // Close caches and connection pools\n        getSessionFactory().close();\n    }\n}\n</code></pre>\n\n<p>I also have the Jars added to the build path.</p>\n\n<p>My class Test.java :</p>\n\n<pre><code>    import ...\n\n\npublic class Test {\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n\n        ProductDao pd = new ProductDao();\n\n        try {\n\n            Product p = new Product(\"PC\", 1000L);\n\n            pd.add(p);\n\n        } catch (ParseException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n\n\n    }\n\n}\n</code></pre>\n\n<p>The add method :</p>\n\n<p>public void add(Product p) {</p>\n\n<pre><code>Session session = HibernateUtil.getSessionFactory().openSession();\nTransaction tx = session.beginTransaction();\nsession.beginTransaction();\nsession.save(p);\ntx.commit();\n</code></pre>\n\n<p>}</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":1268556,"reputation":48088,"user_id":1225328,"accept_rate":93,"display_name":"sp00m"},"score":0,"creation_date":1699635105,"post_id":77461582,"comment_id":136560955,"body_markdown":"I&#39;m afraid you&#39;ll need some kind of `UnaryEither` (inspired by [`UnaryOperator`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/UnaryOperator.html) which is a `Function&lt;T, T&gt;`).","body":"I&#39;m afraid you&#39;ll need some kind of <code>UnaryEither</code> (inspired by <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/UnaryOperator.html\" rel=\"nofollow noreferrer\"><code>UnaryOperator</code></a> which is a <code>Function&lt;T, T&gt;</code>)."},{"owner":{"account_id":234754,"reputation":5730,"user_id":501113,"accept_rate":90,"display_name":"chaotic3quilibrium"},"score":0,"creation_date":1699635436,"post_id":77461582,"comment_id":136560998,"body_markdown":"@sp00m I don&#39;t follow. Could you be more specific? Or provide at least part of an example of how to apply it to improve the `convergeHacked()` method?","body":"@sp00m I don&#39;t follow. Could you be more specific? Or provide at least part of an example of how to apply it to improve the <code>convergeHacked()</code> method?"},{"owner":{"account_id":401843,"reputation":89758,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1699636155,"post_id":77461582,"comment_id":136561118,"body_markdown":"My eyes hurt from the abuse of these types. This is such a bad idea. Virtually none of the existing libraries work like this (does `java.util.Map.get` return `Optional` or `Either`? It does not. It never will.)","body":"My eyes hurt from the abuse of these types. This is such a bad idea. Virtually none of the existing libraries work like this (does <code>java.util.Map.get</code> return <code>Optional</code> or <code>Either</code>? It does not. It never will.)"},{"owner":{"account_id":234754,"reputation":5730,"user_id":501113,"accept_rate":90,"display_name":"chaotic3quilibrium"},"score":1,"creation_date":1699637677,"post_id":77461582,"comment_id":136561324,"body_markdown":"@rzwitserloot The current Java architects are now explicitly biased in moving towards FP style, which includes reducing and/or eliminating the use of `null` with proper types like `Optional` and `Either`. IOW, 2004 OOP called, and said to give back their `Map.get()`-returns-null-pattern.","body":"@rzwitserloot The current Java architects are now explicitly biased in moving towards FP style, which includes reducing and/or eliminating the use of <code>null</code> with proper types like <code>Optional</code> and <code>Either</code>. IOW, 2004 OOP called, and said to give back their <code>Map.get()</code>-returns-null-pattern."},{"owner":{"account_id":401843,"reputation":89758,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1699639230,"post_id":77461582,"comment_id":136561548,"body_markdown":"@chaotic3quilibrium and if you explain how team OpenJDK is going to fix `java.util.Map.get` or point at discussion that they are even thinking about it, I will take that comment seriously. Until then, whether they are &#39;now explicitly biased in moving towards FP style&#39; or not - the answer is clearly &#39;they are not&#39; in regards to e.g. map.get.","body":"@chaotic3quilibrium and if you explain how team OpenJDK is going to fix <code>java.util.Map.get</code> or point at discussion that they are even thinking about it, I will take that comment seriously. Until then, whether they are &#39;now explicitly biased in moving towards FP style&#39; or not - the answer is clearly &#39;they are not&#39; in regards to e.g. map.get."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1699642624,"post_id":77461582,"comment_id":136562114,"body_markdown":"@chaotic3quilibrium I believe sp00m is saying you&#39;ll need a `UnaryEither&lt;T&gt; extends Either&lt;T, T&gt;` class if you want a type-safe no-parameter `converge()` method that returns a single type (and this `converge()` method would only exist in the `UnaryEither` class, not the `Either` class).","body":"@chaotic3quilibrium I believe sp00m is saying you&#39;ll need a <code>UnaryEither&lt;T&gt; extends Either&lt;T, T&gt;</code> class if you want a type-safe no-parameter <code>converge()</code> method that returns a single type (and this <code>converge()</code> method would only exist in the <code>UnaryEither</code> class, not the <code>Either</code> class)."},{"owner":{"account_id":234754,"reputation":5730,"user_id":501113,"accept_rate":90,"display_name":"chaotic3quilibrium"},"score":0,"creation_date":1699643817,"post_id":77461582,"comment_id":136562264,"body_markdown":"As I mentioned in a comment on @rzwitserloot&#39;s Answer, if I could move to Vavr (https://www.vavr.io), I would do so and use their Scala-inspired `Option` instead of Java&#39;s insufficient `Optional`. Vavr hasn&#39;t reached a final 1.0 state, and remains in beta. Once it is out, I will likely flip most of my Java projects over to using it.","body":"As I mentioned in a comment on @rzwitserloot&#39;s Answer, if I could move to Vavr (<a href=\"https://www.vavr.io\" rel=\"nofollow noreferrer\">vavr.io</a>), I would do so and use their Scala-inspired <code>Option</code> instead of Java&#39;s insufficient <code>Optional</code>. Vavr hasn&#39;t reached a final 1.0 state, and remains in beta. Once it is out, I will likely flip most of my Java projects over to using it."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89758,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699638527,"creation_date":1699638527,"answer_id":77461945,"question_id":77461582,"body_markdown":"## Fragile? No, broken.\r\n\r\n```\r\npublic &lt;T&gt; Optional&lt;T&gt; convergeHacked() {\r\n  return this.left.getClass().getTypeParameters()[0].getClass() ==\r\n      this.right.getClass().getTypeParameters()[0].getClass()\r\n      ? (Optional&lt;T&gt;) (this.left.isPresent()\r\n          ? left.get()\r\n          : right.get())\r\n      : Optional.empty();\r\n}\r\n```\r\n\r\nGenerics erasure is not some sort of middle finger to java programmers. It has a purpose and you can&#39;t get around it if only you toss enough reflection in there. It results in the above code which seems fine __but it does nothing at all__:\r\n\r\n`this.left.getClass()` will return, obviously, `java.util.Optional`. Never any subtype of it - `Optional` is `final`!\r\n\r\nTherefore `this.left.getClass().getTypeParameters[0]` will return an object representing `T`. __Literally__. Not what it actually is (you can&#39;t get around erasure, stop trying!) - the literal T. So, that whole if block is trivially useless - __it is always true__. It is simply impossible to write code for that to fail. You can and should try that - make an `Either` where the two types aren&#39;t homogenous and watch how that safety measure you added doesn&#39;t work at all.\r\n\r\n## A sidetrack rant\r\n\r\nAll of this is a really bad idea. And your own code perhaps best explains why you should toss all this in the bin and stop being so scared of null pointers:\r\n\r\n```\r\nreturn this.left.getClass().getTypeParameters()[0].getClass() ==\r\n      this.right.getClass().getTypeParameters()[0].getClass()\r\n      ? (Optional&lt;T&gt;) (this.left.isPresent()\r\n          ? left.get()\r\n          : right.get())\r\n      : Optional.empty(); // THIS LINE\r\n}\r\n```\r\n\r\nThat line never triggers (see previous section), but the intent is clear: You want a call to `.converge()` to just silently return an empty optional if the either isn&#39;t homogenous.\r\n\r\nAnd that highlights everything that is wrong with this mindset. &quot;When things aren&#39;t like you expect, silently do nothing&quot; is a common effect of overuse of optionals (it&#39;s what happens when you call `.map` on an optional after all: If the optional is empty, nothing happens. Silently.)\r\n\r\nan NPE points exactly at where a programmer messed up an assumption. It&#39;s one of those 1000 ducks and a horse questions, except this one does have an answer: What&#39;s better? 1 bug that takes 2 hours to fix, or 10 bugs that take 5 minutes each?\r\n\r\nObjectively, there&#39;s only one correct answer to that question. You want the 10 bugs; you fix em in less than half the time, after all.\r\n\r\n## The missing java feature you need to make this work\r\n\r\nWhat you&#39;re effectively looking for is the concept of a homogenous either. That, or the most common shared subtype - given an `Either&lt;Integer, Double&gt; either;`, for example, you want `either.converge()` to be an expression of type `Number` (given that you don&#39;t know if it&#39;s a left-handed either or a right-handed one). Thus, you want to capture that notion.\r\n\r\nWhich you are trying with `&lt;T extends L&amp;R&gt;` but javac won&#39;t let you declare that. Because java&#39;s generics were never meant to hack fundamentally culturally incompatible concepts&lt;sup&gt;1&lt;/sup&gt; into java. Also, it&#39;s wrong. You want T to be the opposite! You&#39;re looking for `L extends T &amp; R extends T` (isntead of `T extends L &amp; T extends R` - though neither is valid java). Given e.g. `Either&lt;Integer, Double&gt;` you don&#39;t want a `T` that is both Integer and Double (no such type exist or can exist). You want a T such that both Integer and Double are that T (i.e. Number, or Object). i.e. `T super L &amp; R`. Which still isn&#39;t valid java.\r\n\r\nWe have now arrived at something that is perhaps JEP-able (java enhancement proposal): There is no real reason `&lt;T super L &amp; R&gt;` couldn&#39;t work. It&#39;s syntactically available (currently, that is a syntax error, i.e. it&#39;s free without breaking existing code to now define that it does mean something), and semantically there&#39;s no real problem here either. Object still trivially always &#39;works&#39;, and possibly something more specific would.\r\n\r\n## `static` methods can do this though!\r\n\r\nWeirdly, perhaps, this works fine:\r\n\r\n```\r\npublic static &lt;T&gt; T converge(Either&lt;? extends T, ? extends T&gt; either) {\r\n  if (either.left.isPresent()) return either.left.get();\r\n  return either.right.get();\r\n}\r\n```\r\n\r\nYou can&#39;t use `.orElseGet`, but that code compiles with zero warnings and does _exactly_ what you want:\r\n\r\n```\r\nvar ei = new Either&lt;Integer, Double&gt;(Optional.empty(), Optional.of(5.5));\r\nNumber n = Either.converge(ei); // works, compiles, no warnings!\r\nSystem.out.println(&quot;We got: &quot; + n); // prints &quot;We got: 5.5&quot;\r\n```\r\n\r\n## Hackery?\r\n\r\nYou can always resort to this mess:\r\n\r\n```\r\n@SuppressWarnings(&quot;unchecked&quot;)\r\npublic &lt;T&gt; T converge() {\r\n  if (left.isPresent()) return (T) left.get();\r\n  return (T) right.get();\r\n}\r\n```\r\n\r\nit &#39;works&#39;:\r\n\r\n```\r\nvar ei = new Either&lt;Integer, Double&gt;(Optional.empty(), Optional.of(5.5));\r\nNumber n = ei.converge(); // works, compiles, no warnings!\r\nSystem.out.println(&quot;We got: &quot; + n); // prints &quot;We got: 5.5&quot;\r\n```\r\n\r\nunfortunately it &#39;works&#39; a little too well:\r\n\r\n```\r\nvar ei = new Either&lt;Integer, Double&gt;(Optional.empty(), Optional.of(5.5));\r\nString n = ei.converge(); // works, compiles, no warnings... ???\r\nSystem.out.println(&quot;We got: &quot; + n); // throws a class cast exception\r\n```\r\n\r\nWe _wanted_ a compiler error here. Instead we get a runtime error only. Also, if you try to use `ei.converge()` as parameter to another method it won&#39;t type properly either.\r\n\r\nThere&#39;s no way I can think of to make this work without either breaking the type system or resorting to using a `static` method.\r\n\r\n## A dedicated subtype\r\n\r\nThis is one way out:\r\n\r\n```\r\nclass UnaryEither&lt;T&gt; extends Either&lt;T, T&gt; {\r\n  public UnaryEither(Optional&lt;T&gt; left, Optional&lt;T&gt; right) {\r\n    super(left, right);\r\n  }\r\n\r\n  public UnaryEither(Either&lt;T, T&gt; source) {\r\n    super(source.left, source.right);\r\n  }\r\n\r\n  public T converge() {\r\n    return this.converge(Function.identity(), Function.identity());\r\n  }\r\n}\r\n```\r\n\r\n... but I doubt it&#39;s what you&#39;re looking for; it requires callers to make their homogenous eithers explicitly with `new UnaryEither(...)`.\r\n\r\n## A second java feature that could have made this work\r\n\r\nAnother JEP-able approach would be this syntax:\r\n\r\n```\r\npublic &lt;T&gt; converge(Either&lt;? extends T, ? extends T&gt; this) { ... }\r\n```\r\n\r\nBut that&#39;s not going to compile either. Having a fake first param named `this` is actually legal java, but it __must__ be an exact match (`void foo(Either&lt;L, R&gt; this) {}` is valid - try it!). The parameter does absolutely nothing, doesn&#39;t count as a real parameter, and this language feature exists _only_ so you can stick annotations onto the receiver. But, a JEP could expand on it just to let you bind typevars like this. A second potential java feature that is backwards compatible in all relevant ways which would help here, but doesn&#39;t (yet?) exist.\r\n\r\n## But, really. Garbage bin.\r\n\r\nIf you write methods that take optionals as parameters, you&#39;re doing it wrong.\r\n\r\n-----\r\n\r\n[1] Optional, Either, vavr, and all that jazz is fundamentally not java, because a ton of existing API out there should use it _if_ that is to be how java is written (trivial example: `java.util.Map` has a `get()` method. Surely that method should return `Optional&lt;V&gt;` if this is how java is to be written). Except, you can&#39;t just change the signatures of existing APIs without declaring bankruptcy and starting fresh with java2. Which isn&#39;t going to happen, which means java will __never__ be like this. Hence, all you&#39;re accomplishing is that your code base works one way, and the core libraries along with most of the deps your projects use work in another way. You&#39;ve just increased the friction and learning curve. __Even if__ (big if!) we presume that this style is somehow objectively superior, you haven&#39;t actually accomplished a superior codebase because it isn&#39;t a complete transformation and cannot ever be. At least, unless java2 really does happen or some future java release just outright breaks everything and rewrites e.g. `map.get` to return `Optional&lt;T&gt;`.","title":"How to solve a Java generics issue at runtime for an Either.converge() method","body":"<h2>Fragile? No, broken.</h2>\n<pre><code>public &lt;T&gt; Optional&lt;T&gt; convergeHacked() {\n  return this.left.getClass().getTypeParameters()[0].getClass() ==\n      this.right.getClass().getTypeParameters()[0].getClass()\n      ? (Optional&lt;T&gt;) (this.left.isPresent()\n          ? left.get()\n          : right.get())\n      : Optional.empty();\n}\n</code></pre>\n<p>Generics erasure is not some sort of middle finger to java programmers. It has a purpose and you can't get around it if only you toss enough reflection in there. It results in the above code which seems fine <strong>but it does nothing at all</strong>:</p>\n<p><code>this.left.getClass()</code> will return, obviously, <code>java.util.Optional</code>. Never any subtype of it - <code>Optional</code> is <code>final</code>!</p>\n<p>Therefore <code>this.left.getClass().getTypeParameters[0]</code> will return an object representing <code>T</code>. <strong>Literally</strong>. Not what it actually is (you can't get around erasure, stop trying!) - the literal T. So, that whole if block is trivially useless - <strong>it is always true</strong>. It is simply impossible to write code for that to fail. You can and should try that - make an <code>Either</code> where the two types aren't homogenous and watch how that safety measure you added doesn't work at all.</p>\n<h2>A sidetrack rant</h2>\n<p>All of this is a really bad idea. And your own code perhaps best explains why you should toss all this in the bin and stop being so scared of null pointers:</p>\n<pre><code>return this.left.getClass().getTypeParameters()[0].getClass() ==\n      this.right.getClass().getTypeParameters()[0].getClass()\n      ? (Optional&lt;T&gt;) (this.left.isPresent()\n          ? left.get()\n          : right.get())\n      : Optional.empty(); // THIS LINE\n}\n</code></pre>\n<p>That line never triggers (see previous section), but the intent is clear: You want a call to <code>.converge()</code> to just silently return an empty optional if the either isn't homogenous.</p>\n<p>And that highlights everything that is wrong with this mindset. &quot;When things aren't like you expect, silently do nothing&quot; is a common effect of overuse of optionals (it's what happens when you call <code>.map</code> on an optional after all: If the optional is empty, nothing happens. Silently.)</p>\n<p>an NPE points exactly at where a programmer messed up an assumption. It's one of those 1000 ducks and a horse questions, except this one does have an answer: What's better? 1 bug that takes 2 hours to fix, or 10 bugs that take 5 minutes each?</p>\n<p>Objectively, there's only one correct answer to that question. You want the 10 bugs; you fix em in less than half the time, after all.</p>\n<h2>The missing java feature you need to make this work</h2>\n<p>What you're effectively looking for is the concept of a homogenous either. That, or the most common shared subtype - given an <code>Either&lt;Integer, Double&gt; either;</code>, for example, you want <code>either.converge()</code> to be an expression of type <code>Number</code> (given that you don't know if it's a left-handed either or a right-handed one). Thus, you want to capture that notion.</p>\n<p>Which you are trying with <code>&lt;T extends L&amp;R&gt;</code> but javac won't let you declare that. Because java's generics were never meant to hack fundamentally culturally incompatible concepts<sup>1</sup> into java. Also, it's wrong. You want T to be the opposite! You're looking for <code>L extends T &amp; R extends T</code> (isntead of <code>T extends L &amp; T extends R</code> - though neither is valid java). Given e.g. <code>Either&lt;Integer, Double&gt;</code> you don't want a <code>T</code> that is both Integer and Double (no such type exist or can exist). You want a T such that both Integer and Double are that T (i.e. Number, or Object). i.e. <code>T super L &amp; R</code>. Which still isn't valid java.</p>\n<p>We have now arrived at something that is perhaps JEP-able (java enhancement proposal): There is no real reason <code>&lt;T super L &amp; R&gt;</code> couldn't work. It's syntactically available (currently, that is a syntax error, i.e. it's free without breaking existing code to now define that it does mean something), and semantically there's no real problem here either. Object still trivially always 'works', and possibly something more specific would.</p>\n<h2><code>static</code> methods can do this though!</h2>\n<p>Weirdly, perhaps, this works fine:</p>\n<pre><code>public static &lt;T&gt; T converge(Either&lt;? extends T, ? extends T&gt; either) {\n  if (either.left.isPresent()) return either.left.get();\n  return either.right.get();\n}\n</code></pre>\n<p>You can't use <code>.orElseGet</code>, but that code compiles with zero warnings and does <em>exactly</em> what you want:</p>\n<pre><code>var ei = new Either&lt;Integer, Double&gt;(Optional.empty(), Optional.of(5.5));\nNumber n = Either.converge(ei); // works, compiles, no warnings!\nSystem.out.println(&quot;We got: &quot; + n); // prints &quot;We got: 5.5&quot;\n</code></pre>\n<h2>Hackery?</h2>\n<p>You can always resort to this mess:</p>\n<pre><code>@SuppressWarnings(&quot;unchecked&quot;)\npublic &lt;T&gt; T converge() {\n  if (left.isPresent()) return (T) left.get();\n  return (T) right.get();\n}\n</code></pre>\n<p>it 'works':</p>\n<pre><code>var ei = new Either&lt;Integer, Double&gt;(Optional.empty(), Optional.of(5.5));\nNumber n = ei.converge(); // works, compiles, no warnings!\nSystem.out.println(&quot;We got: &quot; + n); // prints &quot;We got: 5.5&quot;\n</code></pre>\n<p>unfortunately it 'works' a little too well:</p>\n<pre><code>var ei = new Either&lt;Integer, Double&gt;(Optional.empty(), Optional.of(5.5));\nString n = ei.converge(); // works, compiles, no warnings... ???\nSystem.out.println(&quot;We got: &quot; + n); // throws a class cast exception\n</code></pre>\n<p>We <em>wanted</em> a compiler error here. Instead we get a runtime error only. Also, if you try to use <code>ei.converge()</code> as parameter to another method it won't type properly either.</p>\n<p>There's no way I can think of to make this work without either breaking the type system or resorting to using a <code>static</code> method.</p>\n<h2>A dedicated subtype</h2>\n<p>This is one way out:</p>\n<pre><code>class UnaryEither&lt;T&gt; extends Either&lt;T, T&gt; {\n  public UnaryEither(Optional&lt;T&gt; left, Optional&lt;T&gt; right) {\n    super(left, right);\n  }\n\n  public UnaryEither(Either&lt;T, T&gt; source) {\n    super(source.left, source.right);\n  }\n\n  public T converge() {\n    return this.converge(Function.identity(), Function.identity());\n  }\n}\n</code></pre>\n<p>... but I doubt it's what you're looking for; it requires callers to make their homogenous eithers explicitly with <code>new UnaryEither(...)</code>.</p>\n<h2>A second java feature that could have made this work</h2>\n<p>Another JEP-able approach would be this syntax:</p>\n<pre><code>public &lt;T&gt; converge(Either&lt;? extends T, ? extends T&gt; this) { ... }\n</code></pre>\n<p>But that's not going to compile either. Having a fake first param named <code>this</code> is actually legal java, but it <strong>must</strong> be an exact match (<code>void foo(Either&lt;L, R&gt; this) {}</code> is valid - try it!). The parameter does absolutely nothing, doesn't count as a real parameter, and this language feature exists <em>only</em> so you can stick annotations onto the receiver. But, a JEP could expand on it just to let you bind typevars like this. A second potential java feature that is backwards compatible in all relevant ways which would help here, but doesn't (yet?) exist.</p>\n<h2>But, really. Garbage bin.</h2>\n<p>If you write methods that take optionals as parameters, you're doing it wrong.</p>\n<hr />\n<p>[1] Optional, Either, vavr, and all that jazz is fundamentally not java, because a ton of existing API out there should use it <em>if</em> that is to be how java is written (trivial example: <code>java.util.Map</code> has a <code>get()</code> method. Surely that method should return <code>Optional&lt;V&gt;</code> if this is how java is to be written). Except, you can't just change the signatures of existing APIs without declaring bankruptcy and starting fresh with java2. Which isn't going to happen, which means java will <strong>never</strong> be like this. Hence, all you're accomplishing is that your code base works one way, and the core libraries along with most of the deps your projects use work in another way. You've just increased the friction and learning curve. <strong>Even if</strong> (big if!) we presume that this style is somehow objectively superior, you haven't actually accomplished a superior codebase because it isn't a complete transformation and cannot ever be. At least, unless java2 really does happen or some future java release just outright breaks everything and rewrites e.g. <code>map.get</code> to return <code>Optional&lt;T&gt;</code>.</p>\n"}],"owner":{"account_id":234754,"reputation":5730,"user_id":501113,"accept_rate":90,"display_name":"chaotic3quilibrium"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77461945,"answer_count":1,"score":0,"last_activity_date":1699735050,"creation_date":1699634424,"question_id":77461582,"body_markdown":"**UPDATE:** Thanks to [rzwitserloot&#39;s][1] answer, I am in total agreement that my original attempted solution via reflection is terrible and should be avoided.\r\n\r\nAfter exploring the static method solution included in rzwitserloot&#39;s [Answer][2], I&#39;ve now moved to this solution:\r\n```java\r\npublic &lt;T&gt; T converge() {\r\n  return (T) converge(this);\r\n}\r\n\r\npublic static &lt;T&gt; T converge(Either&lt;? extends T, ? extends T&gt; either) {\r\n  return either.left.isPresent()\r\n      ? either.left.get()\r\n      : either.right.get();\r\n}\r\n```\r\n\r\n----------\r\n\r\nGiven this severely shortened `Either` class (the [full version][3] on GitHub with full javadocs)...\r\n```java\r\npublic final class Either&lt;L, R&gt; {\r\n  private final Optional&lt;L&gt; left;\r\n  private final Optional&lt;R&gt; right;\r\n\r\n  public Either(Optional&lt;L&gt; left, Optional&lt;R&gt; right) {\r\n    if (left.isEmpty() == right.isEmpty()) {\r\n      throw new IllegalArgumentException(&quot;left.isEmpty() must not be equal to right.isEmpty()&quot;);\r\n    }\r\n    this.left = left.map(Objects::requireNonNull);\r\n    this.right = right.map(Objects::requireNonNull);;\r\n  }\r\n\r\n  public &lt;T&gt; T converge(\r\n      Function&lt;? super L, ? extends T&gt; leftFunction,\r\n      Function&lt;? super R, ? extends T&gt; rightFunction\r\n  ) {\r\n    Objects.requireNonNull(leftFunction);\r\n    Objects.requireNonNull(rightFunction);\r\n\r\n    return this.right\r\n        .&lt;T&gt;map(r -&gt; Objects.requireNonNull(rightFunction.apply(r)))\r\n        .orElseGet(() -&gt;\r\n            this.left\r\n                .map(l -&gt; Objects.requireNonNull(leftFunction.apply(l)))\r\n                .orElseThrow(() -&gt; new IllegalStateException(&quot;should never get here&quot;)));\r\n  }\r\n}\r\n```\r\n\r\nI noticed that I was making the same call to `converge(Function.identity(), Function.identity())`, repeatedly:\r\n```java\r\nEither&lt;Integer, Integer&gt; either = ...;\r\n//...\r\nvar t = either.converge(Function.identity(), Function.identity());\r\n```\r\n\r\nSo, in the interest of DRYing (Don&#39;t Repeat Yourself) out the client code, I wanted to add a parameterless `converge()` function like this... \r\n```java\r\npublic &lt;T extends L &amp; R&gt; T convergeDesired() {\r\n  return left.isPresent()\r\n      ? left.get()\r\n      : right.get();\r\n}\r\n```\r\nThis solution causes a compiler error, and seems to be thwarted by the Java generics issue [detailed here][4].\r\n\r\nBecause `R` can be a class, it breaks the generics rule of limiting extending `T` to a single class, which, if provided, must also be first. There is no way to know ahead of time if the `Either` is composed of two classes, or that `L` is an interface and `R` is a class.\r\n\r\nThe hacked solution (below) seems extremely fragile. I&#39;m trying to understand what options there are, if any, to improve it to behave more like the `convergeDesired()` method defined above.\r\n```java\r\npublic &lt;T&gt; Optional&lt;T&gt; convergeHacked() {\r\n  return this.left.getClass().getTypeParameters()[0].getClass() ==\r\n      this.right.getClass().getTypeParameters()[0].getClass()\r\n      ? (Optional&lt;T&gt;) (this.left.isPresent()\r\n          ? left.get()\r\n          : right.get())\r\n      : Optional.empty();\r\n}\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/768644/rzwitserloot\r\n  [2]: https://stackoverflow.com/a/77461945/501113\r\n  [3]: https://gist.github.com/chaotic3quilibrium/8b5116dbc2957cfea22032924935f10e\r\n  [4]: https://stackoverflow.com/a/30829160/501113","title":"How to solve a Java generics issue at runtime for an Either.converge() method","body":"<p><strong>UPDATE:</strong> Thanks to <a href=\"https://stackoverflow.com/users/768644/rzwitserloot\">rzwitserloot's</a> answer, I am in total agreement that my original attempted solution via reflection is terrible and should be avoided.</p>\n<p>After exploring the static method solution included in rzwitserloot's <a href=\"https://stackoverflow.com/a/77461945/501113\">Answer</a>, I've now moved to this solution:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public &lt;T&gt; T converge() {\n  return (T) converge(this);\n}\n\npublic static &lt;T&gt; T converge(Either&lt;? extends T, ? extends T&gt; either) {\n  return either.left.isPresent()\n      ? either.left.get()\n      : either.right.get();\n}\n</code></pre>\n<hr />\n<p>Given this severely shortened <code>Either</code> class (the <a href=\"https://gist.github.com/chaotic3quilibrium/8b5116dbc2957cfea22032924935f10e\" rel=\"nofollow noreferrer\">full version</a> on GitHub with full javadocs)...</p>\n<pre class=\"lang-java prettyprint-override\"><code>public final class Either&lt;L, R&gt; {\n  private final Optional&lt;L&gt; left;\n  private final Optional&lt;R&gt; right;\n\n  public Either(Optional&lt;L&gt; left, Optional&lt;R&gt; right) {\n    if (left.isEmpty() == right.isEmpty()) {\n      throw new IllegalArgumentException(&quot;left.isEmpty() must not be equal to right.isEmpty()&quot;);\n    }\n    this.left = left.map(Objects::requireNonNull);\n    this.right = right.map(Objects::requireNonNull);;\n  }\n\n  public &lt;T&gt; T converge(\n      Function&lt;? super L, ? extends T&gt; leftFunction,\n      Function&lt;? super R, ? extends T&gt; rightFunction\n  ) {\n    Objects.requireNonNull(leftFunction);\n    Objects.requireNonNull(rightFunction);\n\n    return this.right\n        .&lt;T&gt;map(r -&gt; Objects.requireNonNull(rightFunction.apply(r)))\n        .orElseGet(() -&gt;\n            this.left\n                .map(l -&gt; Objects.requireNonNull(leftFunction.apply(l)))\n                .orElseThrow(() -&gt; new IllegalStateException(&quot;should never get here&quot;)));\n  }\n}\n</code></pre>\n<p>I noticed that I was making the same call to <code>converge(Function.identity(), Function.identity())</code>, repeatedly:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Either&lt;Integer, Integer&gt; either = ...;\n//...\nvar t = either.converge(Function.identity(), Function.identity());\n</code></pre>\n<p>So, in the interest of DRYing (Don't Repeat Yourself) out the client code, I wanted to add a parameterless <code>converge()</code> function like this...</p>\n<pre class=\"lang-java prettyprint-override\"><code>public &lt;T extends L &amp; R&gt; T convergeDesired() {\n  return left.isPresent()\n      ? left.get()\n      : right.get();\n}\n</code></pre>\n<p>This solution causes a compiler error, and seems to be thwarted by the Java generics issue <a href=\"https://stackoverflow.com/a/30829160/501113\">detailed here</a>.</p>\n<p>Because <code>R</code> can be a class, it breaks the generics rule of limiting extending <code>T</code> to a single class, which, if provided, must also be first. There is no way to know ahead of time if the <code>Either</code> is composed of two classes, or that <code>L</code> is an interface and <code>R</code> is a class.</p>\n<p>The hacked solution (below) seems extremely fragile. I'm trying to understand what options there are, if any, to improve it to behave more like the <code>convergeDesired()</code> method defined above.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public &lt;T&gt; Optional&lt;T&gt; convergeHacked() {\n  return this.left.getClass().getTypeParameters()[0].getClass() ==\n      this.right.getClass().getTypeParameters()[0].getClass()\n      ? (Optional&lt;T&gt;) (this.left.isPresent()\n          ? left.get()\n          : right.get())\n      : Optional.empty();\n}\n</code></pre>\n"},{"tags":["java","firebase-realtime-database","android-recyclerview"],"comments":[{"owner":{"account_id":72426,"reputation":573694,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1699734203,"post_id":77466566,"comment_id":136569555,"body_markdown":"When an app crashes, it writes an error message and stack trace to its logcat. Please find those, and add them to your question by clicking the `edit` link under it. Also see https://stackoverflow.com/questions/23353173/unfortunately-myapp-has-stopped-how-can-i-solve-this and https://stackoverflow.com/questions/3988788/what-is-a-stack-trace-and-how-can-i-use-it-to-debug-my-application-errors","body":"When an app crashes, it writes an error message and stack trace to its logcat. Please find those, and add them to your question by clicking the <code>edit</code> link under it. Also see <a href=\"https://stackoverflow.com/questions/23353173/unfortunately-myapp-has-stopped-how-can-i-solve-this\" title=\"unfortunately myapp has stopped how can i solve this\">stackoverflow.com/questions/23353173/&hellip;</a> and <a href=\"https://stackoverflow.com/questions/3988788/what-is-a-stack-trace-and-how-can-i-use-it-to-debug-my-application-errors\" title=\"what is a stack trace and how can i use it to debug my application errors\">stackoverflow.com/questions/3988788/&hellip;</a>"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1699794044,"post_id":77466566,"comment_id":136573463,"body_markdown":"Please edit your question and add the information Frank asked for, and please also respond using @.","body":"Please edit your question and add the information Frank asked for, and please also respond using @."}],"owner":{"account_id":29880904,"reputation":1,"user_id":22899857,"display_name":"Luchmun Rhadesh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699734158,"creation_date":1699731277,"question_id":77466566,"body_markdown":"MainActivity\r\n\r\n```java\r\nMain activity:package com.example.recyclerview2;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.google.firebase.FirebaseApp;\r\nimport com.google.firebase.database.*;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Toast;\r\n\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.ValueEventListener;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n//    DatabaseReference reference;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        RecyclerView recyclerView = findViewById(R.id.recyclerview);\r\n        ArrayList&lt;AppointmentRequest&gt; list = new ArrayList&lt;&gt;();\r\n\r\n        // Firebase Realtime Database URL\r\n        String databaseUrl = &quot;https://recyclerview2-58202-default-rtdb.firebaseio.com/&quot;;\r\n\r\n        // Reference to the &quot;Appointments&quot; node\r\n        DatabaseReference appointmentsRef = FirebaseDatabase.getInstance(databaseUrl).getReference(&quot;Appointments&quot;);\r\n\r\n        // Initialize ArrayList to store AppointmentRequest objects\r\n        ArrayList&lt;AppointmentRequest&gt; appointmentsList = new ArrayList&lt;&gt;();\r\n\r\n        // Add a ValueEventListener to retrieve data\r\n        appointmentsRef.addListenerForSingleValueEvent(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(DataSnapshot dataSnapshot) {\r\n                for (DataSnapshot appointmentSnapshot : dataSnapshot.getChildren()) {\r\n                    // Convert each child of &quot;Appointments&quot; to an AppointmentRequest object\r\n                    AppointmentRequest appointment = appointmentSnapshot.getValue(AppointmentRequest.class);\r\n                    if (appointment != null) {\r\n                        appointmentsList.add(appointment);\r\n                    }\r\n                }\r\n\r\n                // Do something with the retrieved data\r\n                for (AppointmentRequest appointment : appointmentsList) {\r\n                    list.add(appointment);\r\n                }\r\n\r\n                // Update UI on the main thread\r\n                runOnUiThread(new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n                        recyclerView.getAdapter().notifyDataSetChanged();\r\n                    }\r\n                });\r\n\r\n            }\r\n            @Override\r\n            public void onCancelled(DatabaseError databaseError) {\r\n                System.err.println(&quot;Error reading data: &quot; + databaseError.getMessage());\r\n            }\r\n        });\r\n\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(MainActivity.this));\r\n        recyclerView.setAdapter(new MyAdapter(getApplicationContext(),list));\r\n\r\n    }\r\n} \r\n```\r\n\r\nMyadapter:\r\n\r\n```java\r\npackage com.example.recyclerview2;\r\n\r\nimport android.content.Context;\r\nimport android.view.LayoutInflater;\r\nimport android.view.ViewGroup;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class MyAdapter extends RecyclerView.Adapter&lt;MyViewHolder&gt; {\r\n\r\n    Context context;\r\n    ArrayList&lt;AppointmentRequest&gt; list;\r\n\r\n    public MyAdapter(Context context, ArrayList&lt;AppointmentRequest&gt; list) {\r\n        this.context = context;\r\n        this.list = list;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        return new MyViewHolder(LayoutInflater.from(context).inflate(R.layout.item_view,parent,false));\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\r\n        if (list != null &amp;&amp; list.size() &gt; position) {\r\n            AppointmentRequest appointment = list.get(position);\r\n            holder.name.setText(appointment.getPatientName());\r\n\r\n            // Assuming your AppointmentRequest class has getDate() and getStartTime() methods\r\n            holder.date.setText(appointment.getDate());\r\n            holder.time.setText(appointment.getStartTime());\r\n\r\n        } else {\r\n            // Handle the case where the list or its elements are null\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return list.size();\r\n    }\r\n}\r\n```\r\n\r\nMyViewHolder:\r\n\r\n```java\r\npackage com.example.recyclerview2;\r\n\r\nimport android.view.View;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\npublic class MyViewHolder extends RecyclerView.ViewHolder {\r\n    TextView date, name, time;\r\n    public MyViewHolder(@NonNull View itemView) {\r\n        super(itemView);\r\n        date = itemView.findViewById(R.id.date);\r\n        name = itemView.findViewById(R.id.patientName);\r\n        time = itemView.findViewById(R.id.time);\r\n    }\r\n}\r\n```\r\nDatabase:\r\nThe problem is that as soon as I log in, instead of showing data it draws me back to the login activity. Seems like the query and all doesn&#39;t work.\r\n\r\n\r\n\r\nthe code works with local appointrequest object. it is only crashing when I am getting the data from the realtime database. Please let me know what I can change.\r\n\r\n![enter image description here](https://i.stack.imgur.com/GRBA4.png)","title":"Recycler view not working when getting arraylist from realtime database","body":"<p>MainActivity</p>\n<pre class=\"lang-java prettyprint-override\"><code>Main activity:package com.example.recyclerview2;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport com.google.firebase.FirebaseApp;\nimport com.google.firebase.database.*;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Toast;\n\nimport com.google.firebase.database.DataSnapshot;\nimport com.google.firebase.database.DatabaseError;\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.FirebaseDatabase;\nimport com.google.firebase.database.ValueEventListener;\n\nimport java.util.ArrayList;\n\npublic class MainActivity extends AppCompatActivity {\n//    DatabaseReference reference;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        RecyclerView recyclerView = findViewById(R.id.recyclerview);\n        ArrayList&lt;AppointmentRequest&gt; list = new ArrayList&lt;&gt;();\n\n        // Firebase Realtime Database URL\n        String databaseUrl = &quot;https://recyclerview2-58202-default-rtdb.firebaseio.com/&quot;;\n\n        // Reference to the &quot;Appointments&quot; node\n        DatabaseReference appointmentsRef = FirebaseDatabase.getInstance(databaseUrl).getReference(&quot;Appointments&quot;);\n\n        // Initialize ArrayList to store AppointmentRequest objects\n        ArrayList&lt;AppointmentRequest&gt; appointmentsList = new ArrayList&lt;&gt;();\n\n        // Add a ValueEventListener to retrieve data\n        appointmentsRef.addListenerForSingleValueEvent(new ValueEventListener() {\n            @Override\n            public void onDataChange(DataSnapshot dataSnapshot) {\n                for (DataSnapshot appointmentSnapshot : dataSnapshot.getChildren()) {\n                    // Convert each child of &quot;Appointments&quot; to an AppointmentRequest object\n                    AppointmentRequest appointment = appointmentSnapshot.getValue(AppointmentRequest.class);\n                    if (appointment != null) {\n                        appointmentsList.add(appointment);\n                    }\n                }\n\n                // Do something with the retrieved data\n                for (AppointmentRequest appointment : appointmentsList) {\n                    list.add(appointment);\n                }\n\n                // Update UI on the main thread\n                runOnUiThread(new Runnable() {\n                    @Override\n                    public void run() {\n                        recyclerView.getAdapter().notifyDataSetChanged();\n                    }\n                });\n\n            }\n            @Override\n            public void onCancelled(DatabaseError databaseError) {\n                System.err.println(&quot;Error reading data: &quot; + databaseError.getMessage());\n            }\n        });\n\n        recyclerView.setLayoutManager(new LinearLayoutManager(MainActivity.this));\n        recyclerView.setAdapter(new MyAdapter(getApplicationContext(),list));\n\n    }\n} \n</code></pre>\n<p>Myadapter:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.recyclerview2;\n\nimport android.content.Context;\nimport android.view.LayoutInflater;\nimport android.view.ViewGroup;\n\nimport androidx.annotation.NonNull;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport java.util.ArrayList;\n\npublic class MyAdapter extends RecyclerView.Adapter&lt;MyViewHolder&gt; {\n\n    Context context;\n    ArrayList&lt;AppointmentRequest&gt; list;\n\n    public MyAdapter(Context context, ArrayList&lt;AppointmentRequest&gt; list) {\n        this.context = context;\n        this.list = list;\n    }\n\n    @NonNull\n    @Override\n    public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        return new MyViewHolder(LayoutInflater.from(context).inflate(R.layout.item_view,parent,false));\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\n        if (list != null &amp;&amp; list.size() &gt; position) {\n            AppointmentRequest appointment = list.get(position);\n            holder.name.setText(appointment.getPatientName());\n\n            // Assuming your AppointmentRequest class has getDate() and getStartTime() methods\n            holder.date.setText(appointment.getDate());\n            holder.time.setText(appointment.getStartTime());\n\n        } else {\n            // Handle the case where the list or its elements are null\n        }\n    }\n\n    @Override\n    public int getItemCount() {\n        return list.size();\n    }\n}\n</code></pre>\n<p>MyViewHolder:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.recyclerview2;\n\nimport android.view.View;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.recyclerview.widget.RecyclerView;\n\npublic class MyViewHolder extends RecyclerView.ViewHolder {\n    TextView date, name, time;\n    public MyViewHolder(@NonNull View itemView) {\n        super(itemView);\n        date = itemView.findViewById(R.id.date);\n        name = itemView.findViewById(R.id.patientName);\n        time = itemView.findViewById(R.id.time);\n    }\n}\n</code></pre>\n<p>Database:\nThe problem is that as soon as I log in, instead of showing data it draws me back to the login activity. Seems like the query and all doesn't work.</p>\n<p>the code works with local appointrequest object. it is only crashing when I am getting the data from the realtime database. Please let me know what I can change.</p>\n<p><img src=\"https://i.stack.imgur.com/GRBA4.png\" alt=\"enter image description here\" /></p>\n"},{"tags":["java","fxml","fxmlloader"],"answers":[{"tags":[],"owner":{"account_id":14126013,"reputation":411,"user_id":10205276,"display_name":"Ondřej Fischer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1534350277,"creation_date":1534350277,"answer_id":51862626,"question_id":51861967,"body_markdown":"The reason is in the root cause exception. It cannot find the `IceCreamScene.fxml`.\r\nCheck, that the file exists in proper location.\r\n\r\nYour app is looking for it in this path:\r\n`/Volumes/OSTIUM/Labs/CAPSTONE/IceCreamScene.fxml`","title":"Exception in Application start method java.lang.reflect.InvocationTargetException at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)","body":"<p>The reason is in the root cause exception. It cannot find the <code>IceCreamScene.fxml</code>.\nCheck, that the file exists in proper location.</p>\n\n<p>Your app is looking for it in this path:\n<code>/Volumes/OSTIUM/Labs/CAPSTONE/IceCreamScene.fxml</code></p>\n"}],"owner":{"account_id":14160537,"reputation":21,"user_id":10229970,"display_name":"Adrian Pati&#241;o"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15795,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1699732825,"creation_date":1534347672,"question_id":51861967,"body_markdown":"\r\nI am having trouble finding what to fix in my fxml/java code, this is the whole error:\r\n\r\n\r\n    \r\n\r\n&gt; java.lang.reflect.InvocationTargetException\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:389)\r\n\tat com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:328)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:767)\r\n     Caused by: java.lang.RuntimeException: Exception in Application start method\r\n\tat com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:917)\r\n\tat com.sun.javafx.application.LauncherImpl.lambda$launchApplication$154(LauncherImpl.java:182)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n       Caused by: javafx.fxml.LoadException: No controller specified.\r\n      /Volumes/OSTIUM/Labs/CAPSTONE/IceCreamScene.fxml:23\r\n\tat javafx.fxml.FXMLLoader.constructLoadException(FXMLLoader.java:2597)\r\n\tat javafx.fxml.FXMLLoader.access$100(FXMLLoader.java:103)\r\n\tat javafx.fxml.FXMLLoader$Element.getControllerMethodHandle(FXMLLoader.java:557)\r\n\tat javafx.fxml.FXMLLoader$Element.processEventHandlerAttributes(FXMLLoader.java:599)\r\n\tat javafx.fxml.FXMLLoader$ValueElement.processEndElement(FXMLLoader.java:770)\r\n\tat javafx.fxml.FXMLLoader.processEndElement(FXMLLoader.java:2823)\r\n\tat javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2532)\r\n\tat javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2441)\r\n\tat javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3214)\r\n\tat javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3175)\r\n\tat javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3148)\r\n\tat javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3124)\r\n\tat javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3104)\r\n\tat javafx.fxml.FXMLLoader.load(FXMLLoader.java:3097)\r\n\tat IceCreamRUN.start(IceCreamRUN.java:11)\r\n\tat com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$161(LauncherImpl.java:863)\r\n\tat com.sun.javafx.application.PlatformImpl.lambda$runAndWait$174(PlatformImpl.java:326)\r\n\tat com.sun.javafx.application.PlatformImpl.lambda$null$172(PlatformImpl.java:295)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat com.sun.javafx.application.PlatformImpl.lambda$runLater$173(PlatformImpl.java:294)\r\n\tat com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)\r\n\r\n\r\nI have been looking throught the &#39;RUN&#39; and &#39;Control&#39; code to try anf find the mistake and im not finding anything.These are the code for the &#39;RUN&#39; program and the &#39;Control&#39;\r\n\r\n\r\n    import javafx.application.Application;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.scene.Parent;\r\n    import javafx.scene.Scene;\r\n    import javafx.stage.Stage;\r\n\r\n    public class IceCreamRUN extends Application\r\n     {\r\n      public void start (Stage stage ) throws Exception\r\n       {\r\n      Parent parent = \r\n      FXMLLoader.load(getClass().getResource(&quot;IceCreamScene.fxml&quot;));\r\n      Scene scene = new Scene(parent);\r\n      stage.setTitle(&quot;Patino&#39;s Ice Cream Shop&quot;);\r\n      stage.setScene(scene);\r\n      stage.show();\r\n      \r\n       }\r\n      public static void main(String [] args)\r\n       {\r\n      launch(args);\r\n       }\r\n    }\r\n\r\n\r\n----------\r\n\r\n\r\n    import javafx.fxml.FXML;\r\n    import javafx.scene.control.Button;\r\n    import javafx.scene.control.CheckBox;\r\n    import javafx.scene.control.RadioButton;\r\n    import javafx.scene.control.ToggleGroup;\r\n    import javafx.scene.control.Alert;\r\n    import javafx.scene.control.Alert.AlertType;\r\n    import java.io.*;\r\n    import java.util.Scanner;\r\n\r\n     public class IceCreamControl {\r\n\r\n    //declarations\r\n\r\n    @FXML\r\n    private RadioButton Vanilla;\r\n\r\n    @FXML\r\n    private ToggleGroup FlavorGroup;\r\n\r\n    @FXML\r\n    private RadioButton Choc;\r\n\r\n    @FXML\r\n    private RadioButton StrwBerry;\r\n\r\n    @FXML\r\n    private Button Save;\r\n\r\n    @FXML\r\n    private Button ReDo;\r\n\r\n    @FXML\r\n    private Button Calculate;\r\n\r\n    @FXML\r\n    private CheckBox Nuts;\r\n\r\n    @FXML\r\n    private CheckBox Cherries;\r\n    \r\n    double creamcost = 0.0;\r\n    double extra = 0.0;\r\n    \r\n    //processing\r\n\r\n    @FXML\r\n    void CalculateListener() \r\n    {\r\n          double sub, tax, total;\r\n          double taxRate = 0.06;\r\n       \r\n          sub = VanillaListener() + ChocolateListener() + \r\n                    StrawberryListener() \r\n                       + ExtraListener();\r\n          tax = sub * taxRate;\r\n          total = sub + tax;\r\n          \r\n          Alert alert = new Alert (AlertType.INFORMATION);\r\n          alert.setHeaderText(String.format(&quot;Total: $ %.2f&quot;, total));\r\n          alert.setContentText(String.format(&quot;Order: $ %.2f\\nTax: %.2f\\n \r\n          Total: $ %.2f&quot;, sub, tax, total));\r\n          alert.setTitle(&quot;Your Order&quot;);\r\n          alert.showAndWait();\r\n      }\r\n\r\n    @FXML\r\n    double ExtraListener() \r\n    {\r\n          extra = 0.0;\r\n          if(Cherries.isSelected())\r\n             extra += 0.50;\r\n          if(Nuts.isSelected())\r\n             extra += 0.50;\r\n          \r\n          return extra;\r\n    }\r\n\r\n    @FXML\r\n    void ReDoListener() throws IOException \r\n    {\r\n       String order;\r\n       creamcost = 0.0;\r\n       extra = 0.0;\r\n       Nuts.setSelected(false);\r\n       Cherries.setSelected(false);\r\n       Vanilla.setSelected(false);\r\n       Choc.setSelected(false);\r\n       StrwBerry.setSelected(false);\r\n       \r\n       File file = new File (&quot;IcecreamSave.txt&quot;);\r\n       Scanner inputFile = new Scanner (file);\r\n       \r\n       while(inputFile.hasNext())\r\n          {\r\n             order = inputFile.nextLine();\r\n             if (order.charAt(0) == &#39;v&#39;)\r\n                {\r\n                   Vanilla.setSelected(true);\r\n                   creamcost = 2.25;\r\n                }\r\n             if (order.charAt(0) == &#39;c&#39;)\r\n                {\r\n                   Choc.setSelected(true);\r\n                   creamcost = 2.25;\r\n                }\r\n             if (order.charAt(0) == &#39;s&#39;)\r\n                {\r\n                   StrwBerry.setSelected(true);\r\n                   creamcost = 2.25;\r\n                }\r\n          }\r\n       inputFile.close();\r\n    }\r\n\r\n    @FXML\r\n    void SaveListener() throws IOException \r\n    {\r\n    PrintWriter outputfile = new PrintWriter (&quot;IcecreamSave.txt&quot;);\r\n\r\n    if(Vanilla.isSelected())\r\n      outputfile.println(&quot;vanilla&quot;); \r\n    if(Choc.isSelected())\r\n      outputfile.println(&quot;chocolate&quot;);\r\n    if(StrwBerry.isSelected())\r\n      outputfile.println(&quot;strawberry&quot;);\r\n    if (Nuts.isSelected())\r\n      outputfile.println(&quot;nuts&quot;);\r\n    if(Cherries.isSelected())\r\n      outputfile.println(&quot;cherry&quot;);\r\n          \r\n    outputfile.close();\r\n    }\r\n\r\n    @FXML\r\n    double StrawberryListener() \r\n    {\r\n    if (StrwBerry.isSelected())\r\n        creamcost = 2.25;\r\n       else creamcost = 0.0;\r\n      return creamcost;\r\n    }\r\n\r\n    @FXML\r\n    double VanillaListener() \r\n    {\r\n    if (Vanilla.isSelected())\r\n        creamcost = 2.25;\r\n       else creamcost = 0.0;\r\n      return creamcost;\r\n    }\r\n    \r\n    @FXML\r\n    double ChocolateListener() \r\n    {\r\n    if (Choc.isSelected())\r\n        creamcost = 2.25;\r\n       else creamcost = 0.0;\r\n      return creamcost;\r\n       }\r\n\r\n    }\r\n\r\n\r\nI would appreciate help finding the mistake immensely.\r\n\r\n\r\n----------\r\n\r\n\r\n----------\r\n\r\n\r\n----------\r\n\r\nUpdate: I fixed the location but got a new error;\r\n\r\n     &gt; Aug 15, 2018 1:28:21 PM javafx.fxml.FXMLLoader$ValueElement \r\n     processValue\r\n     WARNING: Loading FXML document with JavaFX API of version 10.0.1 by \r\n     JavaFX runtime of version 8.0.171\r\n     Exception in Application start method\r\n     java.lang.reflect.InvocationTargetException\r\n\t at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\t at \r\n sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:     62)\r\n\t at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImp     l.java:43)\r\n\t at java.lang.reflect.Method.invoke(Method.java:498)\r\n\t at \r\ncom.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherI     mpl.java:389)\r\n\tat com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:328)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:767)\r\nCaused by: java.lang.RuntimeException: Exception in Application start method\r\n\tat com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:917)\r\n\tat com.sun.javafx.application.LauncherImpl.lambda$launchApplication$154(LauncherImpl.java:182)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\nCaused by: javafx.fxml.LoadException: No controller specified.\r\n/Volumes/OSTIUM/Labs/CAPSTONE/IceCreamScene.fxml:22\r\n\r\n\tat javafx.fxml.FXMLLoader.constructLoadException(FXMLLoader.java:2597)\r\n\tat javafx.fxml.FXMLLoader.access$100(FXMLLoader.java:103)\r\n\tat javafx.fxml.FXMLLoader$Element.getControllerMethodHandle(FXMLLoader.java:557)\r\n\tat javafx.fxml.FXMLLoader$Element.processEventHandlerAttributes(FXMLLoader.java:599)\r\n\tat javafx.fxml.FXMLLoader$ValueElement.processEndElement(FXMLLoader.java:770)\r\n\tat javafx.fxml.FXMLLoader.processEndElement(FXMLLoader.java:2823)\r\n\tat javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2532)\r\n\tat javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2441)\r\n\tat javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3214)\r\n\tat javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3175)\r\n\tat javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3148)\r\n\tat javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3124)\r\n\tat javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3104)\r\n\tat javafx.fxml.FXMLLoader.load(FXMLLoader.java:3097)\r\n\tat IceCreamRUN.start(IceCreamRUN.java:11)\r\n\tat com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$161(LauncherImpl.java:863)\r\n\tat com.sun.javafx.application.PlatformImpl.lambda$runAndWait$174(PlatformImpl.java:326)\r\n\tat com.sun.javafx.application.PlatformImpl.lambda$null$172(PlatformImpl.java:295)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat com.sun.javafx.application.PlatformImpl.lambda$runLater$173(PlatformImpl.java:294)\r\n\tat com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)\r\nException running application IceCreamRUN\r\n\r\n\r\n","title":"Exception in Application start method java.lang.reflect.InvocationTargetException at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)","body":"<p>I am having trouble finding what to fix in my fxml/java code, this is the whole error:</p>\n\n<blockquote>\n  <p>java.lang.reflect.InvocationTargetException\n      at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n      at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n      at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n      at java.lang.reflect.Method.invoke(Method.java:498)\n      at com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:389)\n      at com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:328)\n      at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n      at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n      at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n      at java.lang.reflect.Method.invoke(Method.java:498)\n      at sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:767)\n       Caused by: java.lang.RuntimeException: Exception in Application start method\n      at com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:917)\n      at com.sun.javafx.application.LauncherImpl.lambda$launchApplication$154(LauncherImpl.java:182)\n      at java.lang.Thread.run(Thread.java:748)\n         Caused by: javafx.fxml.LoadException: No controller specified.\n        /Volumes/OSTIUM/Labs/CAPSTONE/IceCreamScene.fxml:23\n      at javafx.fxml.FXMLLoader.constructLoadException(FXMLLoader.java:2597)\n      at javafx.fxml.FXMLLoader.access$100(FXMLLoader.java:103)\n      at javafx.fxml.FXMLLoader$Element.getControllerMethodHandle(FXMLLoader.java:557)\n      at javafx.fxml.FXMLLoader$Element.processEventHandlerAttributes(FXMLLoader.java:599)\n      at javafx.fxml.FXMLLoader$ValueElement.processEndElement(FXMLLoader.java:770)\n      at javafx.fxml.FXMLLoader.processEndElement(FXMLLoader.java:2823)\n      at javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2532)\n      at javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2441)\n      at javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3214)\n      at javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3175)\n      at javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3148)\n      at javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3124)\n      at javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3104)\n      at javafx.fxml.FXMLLoader.load(FXMLLoader.java:3097)\n      at IceCreamRUN.start(IceCreamRUN.java:11)\n      at com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$161(LauncherImpl.java:863)\n      at com.sun.javafx.application.PlatformImpl.lambda$runAndWait$174(PlatformImpl.java:326)\n      at com.sun.javafx.application.PlatformImpl.lambda$null$172(PlatformImpl.java:295)\n      at java.security.AccessController.doPrivileged(Native Method)\n      at com.sun.javafx.application.PlatformImpl.lambda$runLater$173(PlatformImpl.java:294)\n      at com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)</p>\n</blockquote>\n\n<p>I have been looking throught the 'RUN' and 'Control' code to try anf find the mistake and im not finding anything.These are the code for the 'RUN' program and the 'Control'</p>\n\n<pre><code>import javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\npublic class IceCreamRUN extends Application\n {\n  public void start (Stage stage ) throws Exception\n   {\n  Parent parent = \n  FXMLLoader.load(getClass().getResource(\"IceCreamScene.fxml\"));\n  Scene scene = new Scene(parent);\n  stage.setTitle(\"Patino's Ice Cream Shop\");\n  stage.setScene(scene);\n  stage.show();\n\n   }\n  public static void main(String [] args)\n   {\n  launch(args);\n   }\n}\n</code></pre>\n\n<hr>\n\n<pre><code>import javafx.fxml.FXML;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.CheckBox;\nimport javafx.scene.control.RadioButton;\nimport javafx.scene.control.ToggleGroup;\nimport javafx.scene.control.Alert;\nimport javafx.scene.control.Alert.AlertType;\nimport java.io.*;\nimport java.util.Scanner;\n\n public class IceCreamControl {\n\n//declarations\n\n@FXML\nprivate RadioButton Vanilla;\n\n@FXML\nprivate ToggleGroup FlavorGroup;\n\n@FXML\nprivate RadioButton Choc;\n\n@FXML\nprivate RadioButton StrwBerry;\n\n@FXML\nprivate Button Save;\n\n@FXML\nprivate Button ReDo;\n\n@FXML\nprivate Button Calculate;\n\n@FXML\nprivate CheckBox Nuts;\n\n@FXML\nprivate CheckBox Cherries;\n\ndouble creamcost = 0.0;\ndouble extra = 0.0;\n\n//processing\n\n@FXML\nvoid CalculateListener() \n{\n      double sub, tax, total;\n      double taxRate = 0.06;\n\n      sub = VanillaListener() + ChocolateListener() + \n                StrawberryListener() \n                   + ExtraListener();\n      tax = sub * taxRate;\n      total = sub + tax;\n\n      Alert alert = new Alert (AlertType.INFORMATION);\n      alert.setHeaderText(String.format(\"Total: $ %.2f\", total));\n      alert.setContentText(String.format(\"Order: $ %.2f\\nTax: %.2f\\n \n      Total: $ %.2f\", sub, tax, total));\n      alert.setTitle(\"Your Order\");\n      alert.showAndWait();\n  }\n\n@FXML\ndouble ExtraListener() \n{\n      extra = 0.0;\n      if(Cherries.isSelected())\n         extra += 0.50;\n      if(Nuts.isSelected())\n         extra += 0.50;\n\n      return extra;\n}\n\n@FXML\nvoid ReDoListener() throws IOException \n{\n   String order;\n   creamcost = 0.0;\n   extra = 0.0;\n   Nuts.setSelected(false);\n   Cherries.setSelected(false);\n   Vanilla.setSelected(false);\n   Choc.setSelected(false);\n   StrwBerry.setSelected(false);\n\n   File file = new File (\"IcecreamSave.txt\");\n   Scanner inputFile = new Scanner (file);\n\n   while(inputFile.hasNext())\n      {\n         order = inputFile.nextLine();\n         if (order.charAt(0) == 'v')\n            {\n               Vanilla.setSelected(true);\n               creamcost = 2.25;\n            }\n         if (order.charAt(0) == 'c')\n            {\n               Choc.setSelected(true);\n               creamcost = 2.25;\n            }\n         if (order.charAt(0) == 's')\n            {\n               StrwBerry.setSelected(true);\n               creamcost = 2.25;\n            }\n      }\n   inputFile.close();\n}\n\n@FXML\nvoid SaveListener() throws IOException \n{\nPrintWriter outputfile = new PrintWriter (\"IcecreamSave.txt\");\n\nif(Vanilla.isSelected())\n  outputfile.println(\"vanilla\"); \nif(Choc.isSelected())\n  outputfile.println(\"chocolate\");\nif(StrwBerry.isSelected())\n  outputfile.println(\"strawberry\");\nif (Nuts.isSelected())\n  outputfile.println(\"nuts\");\nif(Cherries.isSelected())\n  outputfile.println(\"cherry\");\n\noutputfile.close();\n}\n\n@FXML\ndouble StrawberryListener() \n{\nif (StrwBerry.isSelected())\n    creamcost = 2.25;\n   else creamcost = 0.0;\n  return creamcost;\n}\n\n@FXML\ndouble VanillaListener() \n{\nif (Vanilla.isSelected())\n    creamcost = 2.25;\n   else creamcost = 0.0;\n  return creamcost;\n}\n\n@FXML\ndouble ChocolateListener() \n{\nif (Choc.isSelected())\n    creamcost = 2.25;\n   else creamcost = 0.0;\n  return creamcost;\n   }\n\n}\n</code></pre>\n\n<p>I would appreciate help finding the mistake immensely.</p>\n\n<hr>\n\n<hr>\n\n<hr>\n\n<p>Update: I fixed the location but got a new error;</p>\n\n<pre><code> &gt; Aug 15, 2018 1:28:21 PM javafx.fxml.FXMLLoader$ValueElement \n processValue\n WARNING: Loading FXML document with JavaFX API of version 10.0.1 by \n JavaFX runtime of version 8.0.171\n Exception in Application start method\n java.lang.reflect.InvocationTargetException\n at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n at \n</code></pre>\n\n<p>sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:     62)\n     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImp     l.java:43)\n     at java.lang.reflect.Method.invoke(Method.java:498)\n     at \ncom.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherI     mpl.java:389)\n    at com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:328)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:767)\nCaused by: java.lang.RuntimeException: Exception in Application start method\n    at com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:917)\n    at com.sun.javafx.application.LauncherImpl.lambda$launchApplication$154(LauncherImpl.java:182)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: javafx.fxml.LoadException: No controller specified.\n/Volumes/OSTIUM/Labs/CAPSTONE/IceCreamScene.fxml:22</p>\n\n<pre><code>at javafx.fxml.FXMLLoader.constructLoadException(FXMLLoader.java:2597)\nat javafx.fxml.FXMLLoader.access$100(FXMLLoader.java:103)\nat javafx.fxml.FXMLLoader$Element.getControllerMethodHandle(FXMLLoader.java:557)\nat javafx.fxml.FXMLLoader$Element.processEventHandlerAttributes(FXMLLoader.java:599)\nat javafx.fxml.FXMLLoader$ValueElement.processEndElement(FXMLLoader.java:770)\nat javafx.fxml.FXMLLoader.processEndElement(FXMLLoader.java:2823)\nat javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2532)\nat javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2441)\nat javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3214)\nat javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3175)\nat javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3148)\nat javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3124)\nat javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3104)\nat javafx.fxml.FXMLLoader.load(FXMLLoader.java:3097)\nat IceCreamRUN.start(IceCreamRUN.java:11)\nat com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$161(LauncherImpl.java:863)\nat com.sun.javafx.application.PlatformImpl.lambda$runAndWait$174(PlatformImpl.java:326)\nat com.sun.javafx.application.PlatformImpl.lambda$null$172(PlatformImpl.java:295)\nat java.security.AccessController.doPrivileged(Native Method)\nat com.sun.javafx.application.PlatformImpl.lambda$runLater$173(PlatformImpl.java:294)\nat com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)\n</code></pre>\n\n<p>Exception running application IceCreamRUN</p>\n"},{"tags":["java","jenkins","sonarqube","jenkins-agent"],"comments":[{"owner":{"account_id":1864817,"reputation":1943,"user_id":1688639,"accept_rate":64,"display_name":"jokarl"},"score":1,"creation_date":1495011585,"post_id":44019945,"comment_id":75067369,"body_markdown":"You are probably targeting a newer version of Java than your project supports.","body":"You are probably targeting a newer version of Java than your project supports."},{"owner":{"account_id":6378595,"reputation":1966,"user_id":4948798,"accept_rate":75,"display_name":"user4948798"},"score":0,"creation_date":1495011800,"post_id":44019945,"comment_id":75067497,"body_markdown":"I have tried with java version &quot;1.7.0_121&quot; and openjdk version &quot;1.8.0_111&quot;.","body":"I have tried with java version &quot;1.7.0_121&quot; and openjdk version &quot;1.8.0_111&quot;."}],"answers":[{"tags":[],"owner":{"account_id":7545668,"reputation":321,"user_id":7990477,"display_name":"Denis Ismailovski"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1495011790,"creation_date":1495011790,"answer_id":44020219,"question_id":44019945,"body_markdown":"The issue is because of Java version mismatch. From the Wikipedia Java Class Reference  you can fin all the codes:    J2SE 8 = 52,J2SE 7 = 51,J2SE 6.0 = 50,J2SE 5.0 = 49\r\n   \r\nThis error is caused becaused you are using a lower JDK at runtime (probably 7) than 8 that is the one used to compile that version of Jenkins","title":"Jenkins-SonarRunnerInstallation - Unsupported major.minor version 52.0","body":"<p>The issue is because of Java version mismatch. From the Wikipedia Java Class Reference  you can fin all the codes:    J2SE 8 = 52,J2SE 7 = 51,J2SE 6.0 = 50,J2SE 5.0 = 49</p>\n\n<p>This error is caused becaused you are using a lower JDK at runtime (probably 7) than 8 that is the one used to compile that version of Jenkins</p>\n"}],"owner":{"account_id":6378595,"reputation":1966,"user_id":4948798,"accept_rate":75,"display_name":"user4948798"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3871,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1699732814,"creation_date":1495011049,"question_id":44019945,"body_markdown":"I have problem with Jenkins – Execute SonarQube Scanner Build Option.\r\n\r\n**Our Environment details as follows:**\r\n\r\n     - Jenkins controller Server OS: Ubuntu-12.04 LTS-64 Bit. \r\n     - controller Server Jenkins Version: 2.46.2 \r\n     - SonarQube Scanner Plugin for Jenkins -Version - 2.6.1 \r\n     - Build Type: controller and agent based.  \r\n     - Agent Machine: Ubuntu-14.04-LTS (64-Bit)  \r\n     - SonarQube Server Version - 5.1 (64-Bit)  \r\n     - Sonar-runner version 2.4  \r\n     - Agent Machine Java Version – 1.8\r\n\r\n**Problem Description:-** I have defined the `sonar.project.properties` information under the “Analysis properties” category in Jenkins controller server itself, When I tried to execute the same through it fails with below errors.java.lang.UnsupportedClassVersionError: \r\n\r\n    hudson/plugins/sonar/SonarRunnerInstallation$1 : Unsupported major.minor version 52.0 at java.lang.ClassLoader.defineClass1(Native Method)\r\n    at java.lang.ClassLoader.defineClass(ClassLoader.java:803)\r\n    at java.lang.ClassLoader.defineClass(ClassLoader.java:643)\r\n    Caused: java.lang.ClassFormatError: Failed to load hudson.plugins.sonar.SonarRunnerInstallation$1","title":"Jenkins-SonarRunnerInstallation - Unsupported major.minor version 52.0","body":"<p>I have problem with Jenkins – Execute SonarQube Scanner Build Option.</p>\n<p><strong>Our Environment details as follows:</strong></p>\n<pre><code> - Jenkins controller Server OS: Ubuntu-12.04 LTS-64 Bit. \n - controller Server Jenkins Version: 2.46.2 \n - SonarQube Scanner Plugin for Jenkins -Version - 2.6.1 \n - Build Type: controller and agent based.  \n - Agent Machine: Ubuntu-14.04-LTS (64-Bit)  \n - SonarQube Server Version - 5.1 (64-Bit)  \n - Sonar-runner version 2.4  \n - Agent Machine Java Version – 1.8\n</code></pre>\n<p><strong>Problem Description:-</strong> I have defined the <code>sonar.project.properties</code> information under the “Analysis properties” category in Jenkins controller server itself, When I tried to execute the same through it fails with below errors.java.lang.UnsupportedClassVersionError:</p>\n<pre><code>hudson/plugins/sonar/SonarRunnerInstallation$1 : Unsupported major.minor version 52.0 at java.lang.ClassLoader.defineClass1(Native Method)\nat java.lang.ClassLoader.defineClass(ClassLoader.java:803)\nat java.lang.ClassLoader.defineClass(ClassLoader.java:643)\nCaused: java.lang.ClassFormatError: Failed to load hudson.plugins.sonar.SonarRunnerInstallation$1\n</code></pre>\n"},{"tags":["java","timezone"],"comments":[{"owner":{"account_id":44195,"reputation":269023,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"score":3,"creation_date":1415878784,"post_id":26908043,"comment_id":42366106,"body_markdown":"Please show some code.","body":"Please show some code."},{"owner":{"account_id":1943032,"reputation":173,"user_id":1756500,"accept_rate":29,"display_name":"Syamala"},"score":0,"creation_date":1415893912,"post_id":26908043,"comment_id":42375160,"body_markdown":"public static void main(final String[] args) {\n        final TimeZone tzone = TimeZone.getDefault();\n\n        System.out.println(&quot;Default Time Zone ID - &quot; + tzone.getID());\n        System.out.println(&quot;Default Time Zone Offset - (&quot; +\n            (tzone.getRawOffset() / 60 / 60 / 1000) + &quot;) hour.&quot;);\n          } I have set my machine timezone Mosco St.Petrs Burg timezone UTC+3 . But the time timezone offset printing with the above code :Default Time Zone ID - Europe/Moscow\nDefault Time Zone Offset - (4) hour.","body":"public static void main(final String[] args) {         final TimeZone tzone = TimeZone.getDefault();          System.out.println(&quot;Default Time Zone ID - &quot; + tzone.getID());         System.out.println(&quot;Default Time Zone Offset - (&quot; +             (tzone.getRawOffset() / 60 / 60 / 1000) + &quot;) hour.&quot;);           } I have set my machine timezone Mosco St.Petrs Burg timezone UTC+3 . But the time timezone offset printing with the above code :Default Time Zone ID - Europe/Moscow Default Time Zone Offset - (4) hour."}],"answers":[{"tags":[],"owner":{"account_id":2559174,"reputation":3256,"user_id":2220556,"display_name":"Scott Dudley"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1415882923,"creation_date":1415882923,"answer_id":26909269,"question_id":26908043,"body_markdown":"I notice that there was a [legislative change][1] to Russian time zone definitions in October 2014; chances are that your JRE simply doesn&#39;t know about it yet.\n\nThe Java [Timezone Updater Utility][2] should be able to fix this for you. As time passes, the updated time zone definitions should also eventually get included by default in newer JREs (although that admittedly doesn&#39;t help you right now).\n\n  [1]: http://www.bbc.com/news/world-europe-29773559\n  [2]: http://www.oracle.com/technetwork/java/javase/tzupdater-readme-136440.html","title":"Getting incorrect time leading by 1 hour with Europe/Moscow timezone","body":"<p>I notice that there was a <a href=\"http://www.bbc.com/news/world-europe-29773559\" rel=\"noreferrer\">legislative change</a> to Russian time zone definitions in October 2014; chances are that your JRE simply doesn't know about it yet.</p>\n\n<p>The Java <a href=\"http://www.oracle.com/technetwork/java/javase/tzupdater-readme-136440.html\" rel=\"noreferrer\">Timezone Updater Utility</a> should be able to fix this for you. As time passes, the updated time zone definitions should also eventually get included by default in newer JREs (although that admittedly doesn't help you right now).</p>\n"},{"tags":[],"owner":{"account_id":6183829,"reputation":51,"user_id":4818505,"display_name":"HugeShi"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1429692777,"creation_date":1429692777,"answer_id":29792369,"question_id":26908043,"body_markdown":"you can use the joda-time api, version need greater than 2.5.because joda-time api update the timezone db after Russian time zone change from version 2.5.\r\n\r\n    Date timestamp = sdf.parse(&quot;11/17/2014 06:13:19&quot;);\r\n\r\n\tTimeZone timezone = TimeZone.getTimeZone(&quot;Europe/Moscow&quot;);\r\n\r\n\tDateTimeZone tz = DateTimeZone.forTimeZone(timezone);\r\n\r\n\tDateTime jodaDateTime = new DateTime(timestamp, tz);\r\n\r\n\tSystem.out.println(jodaDateTime.hourOfDay().get());\r\n","title":"Getting incorrect time leading by 1 hour with Europe/Moscow timezone","body":"<p>you can use the joda-time api, version need greater than 2.5.because joda-time api update the timezone db after Russian time zone change from version 2.5.</p>\n\n<pre><code>Date timestamp = sdf.parse(\"11/17/2014 06:13:19\");\n\nTimeZone timezone = TimeZone.getTimeZone(\"Europe/Moscow\");\n\nDateTimeZone tz = DateTimeZone.forTimeZone(timezone);\n\nDateTime jodaDateTime = new DateTime(timestamp, tz);\n\nSystem.out.println(jodaDateTime.hourOfDay().get());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":292165,"reputation":5455,"user_id":594765,"accept_rate":70,"display_name":"JBoy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1483699233,"creation_date":1483699233,"answer_id":41503886,"question_id":26908043,"body_markdown":"try threeteen\r\n\r\n    import org.threeten.bp.format.*\r\n    import org.threeten.bp.*\r\n\r\n   \r\n\r\n     DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n    String timestamp = dtf.format(ZonedDateTime.ofInstant(Instant.ofEpochMilli(MILLISECONDS_VALUE_HERE), ZoneId.of(&quot;Europe/Moscow&quot;));\r\n\r\n","title":"Getting incorrect time leading by 1 hour with Europe/Moscow timezone","body":"<p>try threeteen</p>\n\n<pre><code>import org.threeten.bp.format.*\nimport org.threeten.bp.*\n\n\n\n DateTimeFormatter dtf = DateTimeFormatter.ofPattern(\"yyyy-MM-dd HH:mm:ss\");\nString timestamp = dtf.format(ZonedDateTime.ofInstant(Instant.ofEpochMilli(MILLISECONDS_VALUE_HERE), ZoneId.of(\"Europe/Moscow\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7072358,"reputation":111,"user_id":5413551,"display_name":"Valery Oster"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1487232018,"creation_date":1487232018,"answer_id":42268069,"question_id":26908043,"body_markdown":"Java 8:\r\n\r\n     System.out.println(LocalDateTime.now(ZoneId.of(&quot;Europe/Moscow&quot;))\r\n                .format(DateTimeFormatter.ofPattern(&quot;d.MM.yyyy &#39;um&#39; HH:mm &#39;Uhr&#39;&quot;)));\r\n\r\n","title":"Getting incorrect time leading by 1 hour with Europe/Moscow timezone","body":"<p>Java 8:</p>\n\n<pre><code> System.out.println(LocalDateTime.now(ZoneId.of(\"Europe/Moscow\"))\n            .format(DateTimeFormatter.ofPattern(\"d.MM.yyyy 'um' HH:mm 'Uhr'\")));\n</code></pre>\n"}],"owner":{"account_id":1943032,"reputation":173,"user_id":1756500,"accept_rate":29,"display_name":"Syamala"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25867,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":26909269,"answer_count":4,"score":15,"last_activity_date":1699732744,"creation_date":1415878684,"question_id":26908043,"body_markdown":"For our Russia tenant we are using &quot;Europe/Moscow&quot; timezone. But we are getting time with 1 hour ahead of the correct time.  \r\n\r\nEurope/Moscow is UTC+3 hours. But when I am print date formated with Europe/Moscow timezone getting 1 hour ahead of the correct time.","title":"Getting incorrect time leading by 1 hour with Europe/Moscow timezone","body":"<p>For our Russia tenant we are using &quot;Europe/Moscow&quot; timezone. But we are getting time with 1 hour ahead of the correct time.</p>\n<p>Europe/Moscow is UTC+3 hours. But when I am print date formated with Europe/Moscow timezone getting 1 hour ahead of the correct time.</p>\n"},{"tags":["java","websocket"],"owner":{"account_id":29881169,"reputation":7,"user_id":22900031,"display_name":"athul raju"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1699731885,"answer_count":0,"score":-1,"last_activity_date":1699732734,"creation_date":1699731792,"question_id":77466598,"body_markdown":"\r\n**Question:**\r\n\r\nI&#39;m currently working on a Java Socket Programming project and encountering a &quot;Connection Refused&quot; error. I&#39;ve reviewed my code and can&#39;t identify the issue. Here are the relevant details:\r\n\r\n**Problem Description:**\r\nI have a server program listening on port 8080, and a client program trying to connect to it. However, I&#39;m consistently getting a &quot;Connection Refused&quot; error on the client side.\r\n\r\n**Code Snippets:**\r\n\r\n*Server Code:*\r\n```java\r\n// ServerSocket initialization\r\nServerSocket serverSocket = new ServerSocket(8080);\r\n\r\n// Accepting client connection\r\nSocket clientSocket = serverSocket.accept();\r\n```\r\n\r\n*Client Code:*\r\n```java\r\n// ClientSocket initialization\r\nSocket clientSocket = new Socket(&quot;localhost&quot;, 8080);\r\n```\r\n\r\n**Error Message:**\r\n```\r\njava.net.ConnectException: Connection refused: connect\r\n```\r\n\r\n\r\n\r\n\r\n**Troubleshooting Steps Taken:**\r\n\r\n1. Checked if the server is running and correctly listening on port 8080.\r\n2. Verified that there are no firewall issues on my machine.\r\n3. Ensured that there are no typos in the server and client code.\r\n\r\n**Additional Information:**\r\n- Operating System: Windows 10\r\n- Java Version: OpenJDK 11\r\n\r\n**Question:**\r\nWhat could be causing the &quot;Connection Refused&quot; error in this scenario, and how can I troubleshoot it further?","title":"Issue with Java Socket Programming","body":"<p><strong>Question:</strong></p>\n<p>I'm currently working on a Java Socket Programming project and encountering a &quot;Connection Refused&quot; error. I've reviewed my code and can't identify the issue. Here are the relevant details:</p>\n<p><strong>Problem Description:</strong>\nI have a server program listening on port 8080, and a client program trying to connect to it. However, I'm consistently getting a &quot;Connection Refused&quot; error on the client side.</p>\n<p><strong>Code Snippets:</strong></p>\n<p><em>Server Code:</em></p>\n<pre class=\"lang-java prettyprint-override\"><code>// ServerSocket initialization\nServerSocket serverSocket = new ServerSocket(8080);\n\n// Accepting client connection\nSocket clientSocket = serverSocket.accept();\n</code></pre>\n<p><em>Client Code:</em></p>\n<pre class=\"lang-java prettyprint-override\"><code>// ClientSocket initialization\nSocket clientSocket = new Socket(&quot;localhost&quot;, 8080);\n</code></pre>\n<p><strong>Error Message:</strong></p>\n<pre><code>java.net.ConnectException: Connection refused: connect\n</code></pre>\n<p><strong>Troubleshooting Steps Taken:</strong></p>\n<ol>\n<li>Checked if the server is running and correctly listening on port 8080.</li>\n<li>Verified that there are no firewall issues on my machine.</li>\n<li>Ensured that there are no typos in the server and client code.</li>\n</ol>\n<p><strong>Additional Information:</strong></p>\n<ul>\n<li>Operating System: Windows 10</li>\n<li>Java Version: OpenJDK 11</li>\n</ul>\n<p><strong>Question:</strong>\nWhat could be causing the &quot;Connection Refused&quot; error in this scenario, and how can I troubleshoot it further?</p>\n"},{"tags":["java","spring","spring-boot","mockito","junit5"],"comments":[{"owner":{"account_id":1310169,"reputation":3813,"user_id":1258319,"accept_rate":81,"display_name":"Julian"},"score":0,"creation_date":1699731685,"post_id":77466481,"comment_id":136569345,"body_markdown":"Is the `businessServiceMock` a mock as the name suggests or a real instance of your service you want to test? If a mock then what is your class under test? If a real instance then you should mock the `fileStorageService`, `categoryService` and `businessRepository` set expectations against interactions with these mocks and assert the result","body":"Is the <code>businessServiceMock</code> a mock as the name suggests or a real instance of your service you want to test? If a mock then what is your class under test? If a real instance then you should mock the <code>fileStorageService</code>, <code>categoryService</code> and <code>businessRepository</code> set expectations against interactions with these mocks and assert the result"},{"owner":{"account_id":5980419,"reputation":3,"user_id":4699679,"display_name":"Aniket Mhatre"},"score":0,"creation_date":1699733516,"post_id":77466481,"comment_id":136569512,"body_markdown":"@Julian It was a mock of the original class. The expectations were also set. There was one problem with `new MockMultipartFile(&quot;TestName&quot;, new byte[]{anyByte()})` which I replaced with `byte[] arr = new byte[2];` and `new MockMultipartFile(&quot;TestName&quot;, arr)`","body":"@Julian It was a mock of the original class. The expectations were also set. There was one problem with <code>new MockMultipartFile(&quot;TestName&quot;, new byte[]{anyByte()})</code> which I replaced with <code>byte[] arr = new byte[2];</code> and <code>new MockMultipartFile(&quot;TestName&quot;, arr)</code>"},{"owner":{"account_id":1529248,"reputation":92137,"user_id":1426891,"display_name":"Jeff Bowman"},"score":0,"creation_date":1699734772,"post_id":77466481,"comment_id":136569588,"body_markdown":"`any` methods like `anyByte` [can&#39;t work as return values](https://stackoverflow.com/q/22822512/1426891). They only work within method calls that you use in Mockito&#39;s `when` and `verify` calls, not in a Builder or constructor (or anything else) you actually call.","body":"<code>any</code> methods like <code>anyByte</code> <a href=\"https://stackoverflow.com/q/22822512/1426891\">can&#39;t work as return values</a>. They only work within method calls that you use in Mockito&#39;s <code>when</code> and <code>verify</code> calls, not in a Builder or constructor (or anything else) you actually call."}],"answers":[{"tags":[],"owner":{"account_id":29358488,"reputation":51,"user_id":22493806,"display_name":"Matthew Sexton"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1699731086,"creation_date":1699731086,"answer_id":77466551,"question_id":77466481,"body_markdown":"If you step through debug you can see that Mockito.eq(1L) is trying to compare the Object wanted in the Equals class (probably null) to your 1L. The return value will be 0 for false. You should be able to pass 1L directly into your function.","title":"Mockito.eq(1) sending value as 0 to the function","body":"<p>If you step through debug you can see that Mockito.eq(1L) is trying to compare the Object wanted in the Equals class (probably null) to your 1L. The return value will be 0 for false. You should be able to pass 1L directly into your function.</p>\n"}],"owner":{"account_id":5980419,"reputation":3,"user_id":4699679,"display_name":"Aniket Mhatre"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77466551,"answer_count":1,"score":0,"last_activity_date":1699731086,"creation_date":1699729867,"question_id":77466481,"body_markdown":"I am testing the below method using the JUnit and Mockito framework.\r\n\r\n```\r\npublic Business updateBusiness(BusinessRequest businessRequest, Long businessId) {\r\n        String fileURL = fileStorageService.uploadFileToStorage(businessRequest.getFile(), businessRequest.getEmail());\r\n        Business business = Business.builder()\r\n                .businessId(businessId)\r\n                .businessName(businessRequest.getBusinessName())\r\n                .email(businessRequest.getEmail())\r\n                .fileURL(fileURL)\r\n                .status(BusinessStatus.PENDING)\r\n                .category(categoryService.getCategoryByID(businessRequest.getCategoryId()))\r\n                .description(businessRequest.getDescription())\r\n                .build();\r\n        businessRepository.save(business);\r\n        return business;\r\n}\r\n```\r\n\r\nTest method:\r\n\r\n```\r\n@Test\r\npublic void testUpdateBusiness() {\r\n        BusinessRequest mockedBusinessRequest = BusinessRequest.builder()\r\n                .email(&quot;testEmail@dal.ca&quot;)\r\n                .businessName(&quot;TestBusinessName&quot;)\r\n                .role(Role.PARTNER)\r\n                .file(new MockMultipartFile(&quot;TestName&quot;, new byte[]{anyByte()}))\r\n                .description(&quot;TestBusinessDescription&quot;)\r\n                .categoryId(1L)\r\n                .build();\r\n        Business actualBusiness = businessServiceMock.updateBusiness(mockedBusinessRequest, Mockito.eq(1L));\r\n        Assertions.assertEquals(mockedBusiness, actualBusiness);\r\n}\r\n```\r\n\r\nHere the parameter passed as `businessId=1` but the value which coming in the method parameter variable is 0.\r\n\r\n[Expected vs Actual Business Object](https://i.stack.imgur.com/8u5zt.png)\r\n\r\nHow can I pass the value 1L to the method and also please tell the reason why even though I am passing 1L to the method it is changing to 0L.","title":"Mockito.eq(1) sending value as 0 to the function","body":"<p>I am testing the below method using the JUnit and Mockito framework.</p>\n<pre><code>public Business updateBusiness(BusinessRequest businessRequest, Long businessId) {\n        String fileURL = fileStorageService.uploadFileToStorage(businessRequest.getFile(), businessRequest.getEmail());\n        Business business = Business.builder()\n                .businessId(businessId)\n                .businessName(businessRequest.getBusinessName())\n                .email(businessRequest.getEmail())\n                .fileURL(fileURL)\n                .status(BusinessStatus.PENDING)\n                .category(categoryService.getCategoryByID(businessRequest.getCategoryId()))\n                .description(businessRequest.getDescription())\n                .build();\n        businessRepository.save(business);\n        return business;\n}\n</code></pre>\n<p>Test method:</p>\n<pre><code>@Test\npublic void testUpdateBusiness() {\n        BusinessRequest mockedBusinessRequest = BusinessRequest.builder()\n                .email(&quot;testEmail@dal.ca&quot;)\n                .businessName(&quot;TestBusinessName&quot;)\n                .role(Role.PARTNER)\n                .file(new MockMultipartFile(&quot;TestName&quot;, new byte[]{anyByte()}))\n                .description(&quot;TestBusinessDescription&quot;)\n                .categoryId(1L)\n                .build();\n        Business actualBusiness = businessServiceMock.updateBusiness(mockedBusinessRequest, Mockito.eq(1L));\n        Assertions.assertEquals(mockedBusiness, actualBusiness);\n}\n</code></pre>\n<p>Here the parameter passed as <code>businessId=1</code> but the value which coming in the method parameter variable is 0.</p>\n<p><a href=\"https://i.stack.imgur.com/8u5zt.png\" rel=\"nofollow noreferrer\">Expected vs Actual Business Object</a></p>\n<p>How can I pass the value 1L to the method and also please tell the reason why even though I am passing 1L to the method it is changing to 0L.</p>\n"},{"tags":["java","android","xml","google-maps"],"answers":[{"tags":[],"owner":{"account_id":2171879,"reputation":826,"user_id":1923640,"accept_rate":64,"display_name":"dthomasen"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1412768945,"creation_date":1412768945,"answer_id":26256214,"question_id":26255771,"body_markdown":"Try to use LinearLayout and weights:\r\n\r\n    &lt;LinearLayout\r\n     android:layout_width=&quot;match_parent&quot;\r\n     android:layout_height=&quot;match_parent&quot;\r\n     android:orientation=&quot;vertical&quot;&gt;\r\n\r\n    &lt;fragment\r\n        android:id=&quot;@+id/map&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        android:name=&quot;com.google.android.gms.maps.MapFragment&quot;\r\n        android:layout_weight=&quot;4&quot;/&gt;\r\n    \r\n    &lt;EditText android:id=&quot;@+id/EditTest&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        android:hint=&quot;@string/EditTest&quot;\r\n        android:layout_weight=&quot;1&quot;/&gt;\r\n    \r\n    &lt;EditText android:id=&quot;@+id/inTegerTest&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        android:hint=&quot;@string/integerTest&quot;\r\n        android:layout_weight=&quot;1&quot;/&gt;\r\n    \r\n    &lt;Button\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        android:text=&quot;@string/ButtonTest&quot;\r\n        android:layout_weight=&quot;1&quot;/&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\nChange the weights according to your needs. \r\n\r\nMore info on weights: http://developer.android.com/guide/topics/ui/layout/linear.html#Weight","title":"Make google map not full screen android app","body":"<p>Try to use LinearLayout and weights:</p>\n\n<pre><code>&lt;LinearLayout\n android:layout_width=\"match_parent\"\n android:layout_height=\"match_parent\"\n android:orientation=\"vertical\"&gt;\n\n&lt;fragment\n    android:id=\"@+id/map\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"0dp\"\n    android:name=\"com.google.android.gms.maps.MapFragment\"\n    android:layout_weight=\"4\"/&gt;\n\n&lt;EditText android:id=\"@+id/EditTest\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"0dp\"\n    android:hint=\"@string/EditTest\"\n    android:layout_weight=\"1\"/&gt;\n\n&lt;EditText android:id=\"@+id/inTegerTest\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"0dp\"\n    android:hint=\"@string/integerTest\"\n    android:layout_weight=\"1\"/&gt;\n\n&lt;Button\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"0dp\"\n    android:text=\"@string/ButtonTest\"\n    android:layout_weight=\"1\"/&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>Change the weights according to your needs. </p>\n\n<p>More info on weights: <a href=\"http://developer.android.com/guide/topics/ui/layout/linear.html#Weight\" rel=\"noreferrer\">http://developer.android.com/guide/topics/ui/layout/linear.html#Weight</a></p>\n"},{"tags":[],"owner":{"account_id":11423928,"reputation":11,"user_id":8374573,"display_name":"Burak Sel&#231;uk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699729739,"creation_date":1699729739,"answer_id":77466473,"question_id":26255771,"body_markdown":"Build &gt; Clean project and run again. it worked for me.","title":"Make google map not full screen android app","body":"<p>Build &gt; Clean project and run again. it worked for me.</p>\n"}],"owner":{"account_id":4261138,"reputation":121,"user_id":3485470,"accept_rate":79,"display_name":"user3485470"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5114,"favorite_count":0,"down_vote_count":2,"up_vote_count":5,"accepted_answer_id":26256214,"answer_count":2,"score":3,"last_activity_date":1699729739,"creation_date":1412767585,"question_id":26255771,"body_markdown":"I am trying to implement an app that shows a map with a few textfields under it and a few buttons.\r\n\r\nBut when I open the app the entire screen space is taken in by the map. Is there a way so all the objects fill the screen nicely without not hiding one?\r\n\r\nThis is the code from the activity_main xml file :\r\n\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot; &gt;\r\n    \r\n    &lt;fragment\r\n          android:id=&quot;@+id/map&quot;\r\n          android:layout_width=&quot;wrap_content&quot;\r\n          android:layout_height=&quot;wrap_content&quot;\r\n          android:name=&quot;com.google.android.gms.maps.MapFragment&quot;/&gt;\r\n    \r\n    &lt;EditText android:id=&quot;@+id/EditTest&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:hint=&quot;@string/EditTest&quot; /&gt;\r\n    \r\n    &lt;EditText android:id=&quot;@+id/inTegerTest&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:hint=&quot;@string/integerTest&quot; /&gt;\r\n    \r\n    &lt;Button\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;@string/ButtonTest&quot; /&gt;\r\n    \r\n    \r\n&lt;/RelativeLayout&gt;\r\n\r\nI have already tried changing the map width and height from match_parent to wrap_content and it still isn&#39;t working.\r\n\r\nThis is the code from the activity_main : \r\n\r\n    private GoogleMap mMap;\r\n\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        \r\n        getMapSafely();\r\n        \r\n        if(mMap != null){\r\n        \tmMap.setMapType(GoogleMap.MAP_TYPE_HYBRID);\r\n        \t\r\n        \tmMap.setOnMapClickListener(new OnMapClickListener() {\r\n        \t\t \r\n                @Override\r\n                public void onMapClick(LatLng latLng) {\r\n     \r\n                    // Creating a marker\r\n                    MarkerOptions markerOptions = new MarkerOptions();\r\n     \r\n                    // Setting the position for the marker\r\n                    markerOptions.position(latLng);\r\n     \r\n                    // Setting the title for the marker.\r\n                    // This will be displayed on taping the marker\r\n                    markerOptions.title(latLng.latitude + &quot; : &quot; + latLng.longitude);\r\n     \r\n                    // Clears the previously touched position\r\n                    mMap.clear();\r\n     \r\n                    // Animating to the touched position\r\n                    mMap.animateCamera(CameraUpdateFactory.newLatLng(latLng));\r\n     \r\n                    // Placing a marker on the touched position\r\n                    mMap.addMarker(markerOptions);\r\n                }\r\n            });\r\n        } \r\n    }\r\n\r\nAny help would be greatly appreciated.","title":"Make google map not full screen android app","body":"<p>I am trying to implement an app that shows a map with a few textfields under it and a few buttons.</p>\n\n<p>But when I open the app the entire screen space is taken in by the map. Is there a way so all the objects fill the screen nicely without not hiding one?</p>\n\n<p>This is the code from the activity_main xml file :</p>\n\n<pre><code>&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\ntools:context=\".MainActivity\" &gt;\n\n&lt;fragment\n      android:id=\"@+id/map\"\n      android:layout_width=\"wrap_content\"\n      android:layout_height=\"wrap_content\"\n      android:name=\"com.google.android.gms.maps.MapFragment\"/&gt;\n\n&lt;EditText android:id=\"@+id/EditTest\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:hint=\"@string/EditTest\" /&gt;\n\n&lt;EditText android:id=\"@+id/inTegerTest\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:hint=\"@string/integerTest\" /&gt;\n\n&lt;Button\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:text=\"@string/ButtonTest\" /&gt;\n</code></pre>\n\n<p></p>\n\n<p>I have already tried changing the map width and height from match_parent to wrap_content and it still isn't working.</p>\n\n<p>This is the code from the activity_main : </p>\n\n<pre><code>private GoogleMap mMap;\n\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    getMapSafely();\n\n    if(mMap != null){\n        mMap.setMapType(GoogleMap.MAP_TYPE_HYBRID);\n\n        mMap.setOnMapClickListener(new OnMapClickListener() {\n\n            @Override\n            public void onMapClick(LatLng latLng) {\n\n                // Creating a marker\n                MarkerOptions markerOptions = new MarkerOptions();\n\n                // Setting the position for the marker\n                markerOptions.position(latLng);\n\n                // Setting the title for the marker.\n                // This will be displayed on taping the marker\n                markerOptions.title(latLng.latitude + \" : \" + latLng.longitude);\n\n                // Clears the previously touched position\n                mMap.clear();\n\n                // Animating to the touched position\n                mMap.animateCamera(CameraUpdateFactory.newLatLng(latLng));\n\n                // Placing a marker on the touched position\n                mMap.addMarker(markerOptions);\n            }\n        });\n    } \n}\n</code></pre>\n\n<p>Any help would be greatly appreciated.</p>\n"},{"tags":["java","eclipse","javafx","module"],"comments":[{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1699657386,"post_id":77462632,"comment_id":136563780,"body_markdown":"Post text rather than images, wherever practical.","body":"Post text rather than images, wherever practical."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1699664168,"post_id":77462632,"comment_id":136564257,"body_markdown":"https://openjfx.io/openjfx-docs/","body":"<a href=\"https://openjfx.io/openjfx-docs/\" rel=\"nofollow noreferrer\">openjfx.io/openjfx-docs</a>"}],"answers":[{"tags":[],"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699696092,"creation_date":1699696092,"answer_id":77464594,"question_id":77462632,"body_markdown":"**Preface:** \r\n\r\nI recommend you to learn the basics about JavaFX. Please take a look at https://openjfx.io/openjfx-docs/.\r\n\r\n**Solution:**\r\n\r\nCreate an appropriate working base application with the needed configurations. Either to this with the Link above or use a preconfigured project from GitHub for example and alter it to your needs.\r\n\r\nThe following projects are executable out of the box. Just download the code, import the project to your IDE and run the application. \r\n\r\nTo that, the preconfigured projects contain a Task/Goal for creating a fat JAR (a JAR you can double click on and then the application starts).\r\n\r\n**Example working JavaFX application with gradle**\r\nhttps://github.com/davidweber411/JavaFxAppGradleNonModular\r\n\r\n**Example working JavaFX application with maven**\r\nhttps://github.com/davidweber411/JavaFxAppMavenNonModular\r\n","title":"Java FX Modular Application, Application Not found Error (Eclipse, Java version 19.0.2)","body":"<p><strong>Preface:</strong></p>\n<p>I recommend you to learn the basics about JavaFX. Please take a look at <a href=\"https://openjfx.io/openjfx-docs/\" rel=\"nofollow noreferrer\">https://openjfx.io/openjfx-docs/</a>.</p>\n<p><strong>Solution:</strong></p>\n<p>Create an appropriate working base application with the needed configurations. Either to this with the Link above or use a preconfigured project from GitHub for example and alter it to your needs.</p>\n<p>The following projects are executable out of the box. Just download the code, import the project to your IDE and run the application.</p>\n<p>To that, the preconfigured projects contain a Task/Goal for creating a fat JAR (a JAR you can double click on and then the application starts).</p>\n<p><strong>Example working JavaFX application with gradle</strong>\n<a href=\"https://github.com/davidweber411/JavaFxAppGradleNonModular\" rel=\"nofollow noreferrer\">https://github.com/davidweber411/JavaFxAppGradleNonModular</a></p>\n<p><strong>Example working JavaFX application with maven</strong>\n<a href=\"https://github.com/davidweber411/JavaFxAppMavenNonModular\" rel=\"nofollow noreferrer\">https://github.com/davidweber411/JavaFxAppMavenNonModular</a></p>\n"},{"tags":[],"owner":{"account_id":27212766,"reputation":3,"user_id":20743304,"display_name":"MessiSkillz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1699728764,"creation_date":1699728764,"answer_id":77466420,"question_id":77462632,"body_markdown":"Ok I fixed the problem. Just delete the module-info.java file and everything magically gets fixed.","title":"Java FX Modular Application, Application Not found Error (Eclipse, Java version 19.0.2)","body":"<p>Ok I fixed the problem. Just delete the module-info.java file and everything magically gets fixed.</p>\n"}],"owner":{"account_id":27212766,"reputation":3,"user_id":20743304,"display_name":"MessiSkillz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77466420,"answer_count":2,"score":0,"last_activity_date":1699728764,"creation_date":1699646979,"question_id":77462632,"body_markdown":"Hi I have a problem with Java App which I am creating with JavaFX.\r\n\r\nI created my javaFX project with Eclipse. This is my current file structure: (https://i.stack.imgur.com/l05So.png)\r\n\r\nI added the JavaFX libs here:\r\n(https://i.stack.imgur.com/ffuj7.png)\r\nThey are both in the correct classpath, I already tried deleting the JavaFX SDK lib, but that didn&#39;t help. \r\n\r\nMy module-info.java file wasn&#39;t recognized either:\r\n(https://i.stack.imgur.com/FWl9w.png)\r\n\r\nI have also added the VM arguments correctly. \r\n\r\n\r\n\r\nI am constantly getting this error message: (https://i.stack.imgur.com/h4oWE.png)\r\n\r\n\r\n  Thank you!","title":"Java FX Modular Application, Application Not found Error (Eclipse, Java version 19.0.2)","body":"<p>Hi I have a problem with Java App which I am creating with JavaFX.</p>\n<p>I created my javaFX project with Eclipse. This is my current file structure: (<a href=\"https://i.stack.imgur.com/l05So.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/l05So.png</a>)</p>\n<p>I added the JavaFX libs here:\n(<a href=\"https://i.stack.imgur.com/ffuj7.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/ffuj7.png</a>)\nThey are both in the correct classpath, I already tried deleting the JavaFX SDK lib, but that didn't help.</p>\n<p>My module-info.java file wasn't recognized either:\n(<a href=\"https://i.stack.imgur.com/FWl9w.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/FWl9w.png</a>)</p>\n<p>I have also added the VM arguments correctly.</p>\n<p>I am constantly getting this error message: (<a href=\"https://i.stack.imgur.com/h4oWE.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/h4oWE.png</a>)</p>\n<p>Thank you!</p>\n"},{"tags":["java","artificial-intelligence","pddl"],"owner":{"account_id":16036157,"reputation":1,"user_id":11573826,"display_name":"Aurelio Marotta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":0,"score":-2,"last_activity_date":1699728692,"creation_date":1699728692,"question_id":77466414,"body_markdown":"i&#39;m a computer engeneering student and i&#39;ve to do a project for an AI exam using Pddl4j to write a Planner that resolves a specific domain. I&#39;ve already defined in pdd files my domain and the instance of my problem. Then I followed the tutorial in pddl web site to write te base A* algorithm and it works. So , at this point i would change something, for example i would write a Domain Specific Heuristic that A* can use.\r\n\r\nNow, the question is, how can I access information about the state of the node of with i&#39;ve to evaluate my euristic. For example, how can i know if a predicate is true in a state? \r\n\r\nI&#39;m using the Node class to model a node of the search three. I would know, considering a node of the three, all informations that could be usefull to define a problem specific euristic.\r\n","title":"How to obtain information about current state in pddl4j 4.0.0?","body":"<p>i'm a computer engeneering student and i've to do a project for an AI exam using Pddl4j to write a Planner that resolves a specific domain. I've already defined in pdd files my domain and the instance of my problem. Then I followed the tutorial in pddl web site to write te base A* algorithm and it works. So , at this point i would change something, for example i would write a Domain Specific Heuristic that A* can use.</p>\n<p>Now, the question is, how can I access information about the state of the node of with i've to evaluate my euristic. For example, how can i know if a predicate is true in a state?</p>\n<p>I'm using the Node class to model a node of the search three. I would know, considering a node of the three, all informations that could be usefull to define a problem specific euristic.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6410870,"reputation":1740,"user_id":4970679,"display_name":"ahuemmer"},"score":1,"creation_date":1699728601,"post_id":77466401,"comment_id":136569037,"body_markdown":"Please take a look at String comparison in Java. You will need to use `equals` instead of `==`.","body":"Please take a look at String comparison in Java. You will need to use <code>equals</code> instead of <code>==</code>."},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1699730432,"post_id":77466401,"comment_id":136569236,"body_markdown":"`if (operacion.equalsIgnoreCase(&quot;suma&quot;)) {`","body":"<code>if (operacion.equalsIgnoreCase(&quot;suma&quot;)) {</code>"}],"owner":{"account_id":29880901,"reputation":1,"user_id":22899854,"display_name":"Flets"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1699728675,"answer_count":0,"score":-1,"last_activity_date":1699728485,"creation_date":1699728485,"question_id":77466401,"body_markdown":"my question is I put a scanner to read my operation, but this not success, I put an if for evaluate my scanner entry and should read &quot;suma&quot; or &quot;Suma&quot;, however this didn&#39;t happen\r\n\r\n\r\n    package com.project;\r\n\r\n    import java.sql.SQLOutput;\r\n    import java.util.Scanner;\r\n\r\n    // Press Shift twice to open the Search Everywhere dialog and type `show whitespaces`,\r\n    // then press Enter. You can now see whitespace characters in your code.\r\n\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            System.out.println(&quot;welcome to calculator&quot;);\r\n            Scanner sc = new Scanner(System.in);\r\n            String name = sc.nextLine();\r\n            System.out.println(&quot;Welcome &quot; + name);\r\n            System.out.println(&quot;tell me what operation you want to do&quot;);\r\n            String operation = sc.nextLine();\r\n            if (operacion == &quot;Suma&quot; || operacion == &quot;suma&quot;){\r\n                 System.out.println(&quot;this is a suma&quot;);\r\n            }\r\n\r\n\r\n        }\r\n    }","title":"Scanner fail - Java","body":"<p>my question is I put a scanner to read my operation, but this not success, I put an if for evaluate my scanner entry and should read &quot;suma&quot; or &quot;Suma&quot;, however this didn't happen</p>\n<pre><code>package com.project;\n\nimport java.sql.SQLOutput;\nimport java.util.Scanner;\n\n// Press Shift twice to open the Search Everywhere dialog and type `show whitespaces`,\n// then press Enter. You can now see whitespace characters in your code.\n\n\npublic class Main {\n    public static void main(String[] args) {\n        System.out.println(&quot;welcome to calculator&quot;);\n        Scanner sc = new Scanner(System.in);\n        String name = sc.nextLine();\n        System.out.println(&quot;Welcome &quot; + name);\n        System.out.println(&quot;tell me what operation you want to do&quot;);\n        String operation = sc.nextLine();\n        if (operacion == &quot;Suma&quot; || operacion == &quot;suma&quot;){\n             System.out.println(&quot;this is a suma&quot;);\n        }\n\n\n    }\n}\n</code></pre>\n"},{"tags":["java","xmlbeans"],"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1699728350,"creation_date":1699728350,"question_id":77466389,"body_markdown":"I&#39;m trying to run this project: `https://github.com/sebkur/gradle-xmlbeans-plugin/tree/master/test-local/test2`\r\n\r\nBut with latest Gradle dependency `implementation &#39;org.apache.xmlbeans:xmlbeans:5.0.3&#39;`\r\n\r\nI get generated this deprecated and missing code:\r\n\r\n    /** @deprecated {@link org.apache.xmlbeans.xml.stream.XMLInputStream} */\r\n    public static com.optimalpayments.creditcard.xmlschema.v1.CcAuthenticateRequestV1Document parse(org.apache.xmlbeans.xml.stream.XMLInputStream xis, org.apache.xmlbeans.XmlOptions options) throws org.apache.xmlbeans.XmlException, org.apache.xmlbeans.xml.stream.XMLStreamException {\r\n      return (com.optimalpayments.creditcard.xmlschema.v1.CcAuthenticateRequestV1Document) org.apache.xmlbeans.XmlBeans.getContextTypeLoader().parse( xis, type, options ); }\r\n\r\nI get `Cannot resolve symbol &#39;XMLInputStream&#39;` Do you know how I can fix this?\r\n\r\n","title":"Deprecated org.apache.xmlbeans.xml.stream.XMLInputStream","body":"<p>I'm trying to run this project: <code>https://github.com/sebkur/gradle-xmlbeans-plugin/tree/master/test-local/test2</code></p>\n<p>But with latest Gradle dependency <code>implementation 'org.apache.xmlbeans:xmlbeans:5.0.3'</code></p>\n<p>I get generated this deprecated and missing code:</p>\n<pre><code>/** @deprecated {@link org.apache.xmlbeans.xml.stream.XMLInputStream} */\npublic static com.optimalpayments.creditcard.xmlschema.v1.CcAuthenticateRequestV1Document parse(org.apache.xmlbeans.xml.stream.XMLInputStream xis, org.apache.xmlbeans.XmlOptions options) throws org.apache.xmlbeans.XmlException, org.apache.xmlbeans.xml.stream.XMLStreamException {\n  return (com.optimalpayments.creditcard.xmlschema.v1.CcAuthenticateRequestV1Document) org.apache.xmlbeans.XmlBeans.getContextTypeLoader().parse( xis, type, options ); }\n</code></pre>\n<p>I get <code>Cannot resolve symbol 'XMLInputStream'</code> Do you know how I can fix this?</p>\n"},{"tags":["java","cassandra","akka","akka-persistence"],"comments":[{"owner":{"account_id":9727861,"reputation":2565,"user_id":7214091,"display_name":"Gast&#243;n Schabas"},"score":1,"creation_date":1699662902,"post_id":77463080,"comment_id":136564164,"body_markdown":"Have you checked [Alpakka Cassandra - Custom Session creation](https://doc.akka.io/docs/alpakka/current/cassandra.html#custom-session-creation). If I understand well, you should create your own custom [CqlSessionProvider](https://doc.akka.io/api/alpakka/7.0.0/akka/stream/alpakka/cassandra/CqlSessionProvider.html). It says &quot;By default the DefaultSessionProvider is building the Cluster from configuration properties but it is possible to replace the implementation of the SessionProvider to reuse another session or override the Cluster builder with other settings&quot;","body":"Have you checked <a href=\"https://doc.akka.io/docs/alpakka/current/cassandra.html#custom-session-creation\" rel=\"nofollow noreferrer\">Alpakka Cassandra - Custom Session creation</a>. If I understand well, you should create your own custom <a href=\"https://doc.akka.io/api/alpakka/7.0.0/akka/stream/alpakka/cassandra/CqlSessionProvider.html\" rel=\"nofollow noreferrer\">CqlSessionProvider</a>. It says &quot;By default the DefaultSessionProvider is building the Cluster from configuration properties but it is possible to replace the implementation of the SessionProvider to reuse another session or override the Cluster builder with other settings&quot;"},{"owner":{"account_id":8796832,"reputation":306,"user_id":6574475,"display_name":"Milad Amery"},"score":0,"creation_date":1699727654,"post_id":77463080,"comment_id":136568934,"body_markdown":"Hi. A custom session provider is not what is needed, but thanks. That page gave me what  was needed.","body":"Hi. A custom session provider is not what is needed, but thanks. That page gave me what  was needed."}],"answers":[{"tags":[],"owner":{"account_id":8796832,"reputation":306,"user_id":6574475,"display_name":"Milad Amery"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1699727831,"creation_date":1699727831,"answer_id":77466358,"question_id":77463080,"body_markdown":"In custom serializer we have ActorSystem. Akka cassandra persistence plugin under the hood is using alpakka cassandra. We can get `CqlSession` created by `Alpakka Cassandra` via `CassandraSessionRegistry` extension.\r\n```java\r\nvar cqlSession = CassandraSessionRegistry\r\n                        .get(system)\r\n                        .sessionFor(CassandraSessionSettings.create())\r\n                        .underlying()\r\n                        .toCompletableFuture()\r\n                        .get()\r\n```\r\nThis is the same `CqlSession` used by akka persistence, hence reusing same session for whole application.","title":"How to reuse CqlSession of Akka persistence plugin in Custom serializer","body":"<p>In custom serializer we have ActorSystem. Akka cassandra persistence plugin under the hood is using alpakka cassandra. We can get <code>CqlSession</code> created by <code>Alpakka Cassandra</code> via <code>CassandraSessionRegistry</code> extension.</p>\n<pre class=\"lang-java prettyprint-override\"><code>var cqlSession = CassandraSessionRegistry\n                        .get(system)\n                        .sessionFor(CassandraSessionSettings.create())\n                        .underlying()\n                        .toCompletableFuture()\n                        .get()\n</code></pre>\n<p>This is the same <code>CqlSession</code> used by akka persistence, hence reusing same session for whole application.</p>\n"}],"owner":{"account_id":8796832,"reputation":306,"user_id":6574475,"display_name":"Milad Amery"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77466358,"answer_count":1,"score":-1,"last_activity_date":1699727831,"creation_date":1699654059,"question_id":77463080,"body_markdown":"In Akka i&#39;m creating a custom serializer for my app that sometimes go to cassandra database to fetch something.\r\n\r\nTo do this a repository is created and then is registered via [`Akka Extension`][1] to actor system. Then in custom Serializer constructor this repository is fetched from actor system.\r\n\r\nThe thing is this repository needs to connect to cassandra, which requires a CqlSession. for now I created a new CqlSession with alpakka cassandra to do the job but it is said that `for each application Only one CqlSession should be used`. Now i have 2 CqlSession. One used by akka persistence cassandra and one by this repository used in custom serializer. How can I reuse Akka persistence cassandra CqlSession in this repo so only 1 CqlSession be active in whole application.\r\n\r\n\r\nCustom Serializer:\r\n```java\r\npublic class CustomSerializer extends AsyncSerializerWithStringManifestCS {\r\n\r\n   private final CustomSerializerRepo customSerializerRepo;\r\n   public CustomSerializer(ExtendedActorSystem system) {\r\n        super(system);\r\n        this.system = system;\r\n        customSerializerRepo= customSerializerRepoExtension.get(Adapter.toTyped(system)).customSerializerRepo();       \r\n    }\r\n\r\n   @Override\r\n    public CompletionStage&lt;byte[]&gt; toBinaryAsyncCS(Object unencryptedPayload) {\r\n        // Uses this repo\r\n    }\r\n\r\n    @Override\r\n    public CompletionStage&lt;Object&gt; fromBinaryAsyncCS(byte[] bytes, String manifest) {\r\n       // ........\r\n    }\r\n}\r\n```\r\n\r\nRepository:\r\n```java\r\npublic class CustomSerializerRepo {\r\n   \r\n   private final CassandraSession cassandraSession;\r\n   \r\n   public CustomSerializerRepo (ActorSystem&lt;?&gt; actorSystem) {\r\n       var cassandraSession = CassandraSessionRegistry.get(actorSystem).sessionFor(CassandraSessionSettings.create())\r\n   }\r\n\r\n   // go to cassandra and perform operations.\r\n}\r\n```\r\n\r\n\r\n  [1]: https://doc.akka.io/docs/akka/current/typed/extending.html","title":"How to reuse CqlSession of Akka persistence plugin in Custom serializer","body":"<p>In Akka i'm creating a custom serializer for my app that sometimes go to cassandra database to fetch something.</p>\n<p>To do this a repository is created and then is registered via <a href=\"https://doc.akka.io/docs/akka/current/typed/extending.html\" rel=\"nofollow noreferrer\"><code>Akka Extension</code></a> to actor system. Then in custom Serializer constructor this repository is fetched from actor system.</p>\n<p>The thing is this repository needs to connect to cassandra, which requires a CqlSession. for now I created a new CqlSession with alpakka cassandra to do the job but it is said that <code>for each application Only one CqlSession should be used</code>. Now i have 2 CqlSession. One used by akka persistence cassandra and one by this repository used in custom serializer. How can I reuse Akka persistence cassandra CqlSession in this repo so only 1 CqlSession be active in whole application.</p>\n<p>Custom Serializer:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CustomSerializer extends AsyncSerializerWithStringManifestCS {\n\n   private final CustomSerializerRepo customSerializerRepo;\n   public CustomSerializer(ExtendedActorSystem system) {\n        super(system);\n        this.system = system;\n        customSerializerRepo= customSerializerRepoExtension.get(Adapter.toTyped(system)).customSerializerRepo();       \n    }\n\n   @Override\n    public CompletionStage&lt;byte[]&gt; toBinaryAsyncCS(Object unencryptedPayload) {\n        // Uses this repo\n    }\n\n    @Override\n    public CompletionStage&lt;Object&gt; fromBinaryAsyncCS(byte[] bytes, String manifest) {\n       // ........\n    }\n}\n</code></pre>\n<p>Repository:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CustomSerializerRepo {\n   \n   private final CassandraSession cassandraSession;\n   \n   public CustomSerializerRepo (ActorSystem&lt;?&gt; actorSystem) {\n       var cassandraSession = CassandraSessionRegistry.get(actorSystem).sessionFor(CassandraSessionSettings.create())\n   }\n\n   // go to cassandra and perform operations.\n}\n</code></pre>\n"},{"tags":["java","windows","jenkins","java-web-start","jenkins-agent"],"answers":[{"tags":[],"owner":{"account_id":10336690,"reputation":3527,"user_id":7624566,"display_name":"K. B."},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1522340556,"creation_date":1522340556,"answer_id":49560855,"question_id":49544663,"body_markdown":"In your question you use port 8888 (https://my-server.com:8888). The jnlp scripts that I have seen the port is not present or is 443.\r\n\r\nWhen I once saw an error like yours, I imported the certificate into the Java keystore. For more details [here.][1] \r\n\r\n    keytool -import -alias $ALIAS -keystore $JAVA_HOME/jre/lib/security/cacerts -file $PATH_TO_PEM_FILE\r\n\r\nThis import should be needed only for not public certificates, like self-signed, but you can try. There could be certificate chain as explained [here][2].\r\n\r\n\r\n  [1]: https://support.cloudbees.com/hc/en-us/articles/217078498-PKIX-path-building-failed-error-message\r\n  [2]: https://stackoverflow.com/questions/44728080/ssl-issue-jenkins-slave-connection-issue-with-tfs","title":"Jenkins Windows agent thinks my cert is invalid","body":"<p>In your question you use port 8888 (<a href=\"https://my-server.com:8888\" rel=\"noreferrer\">https://my-server.com:8888</a>). The jnlp scripts that I have seen the port is not present or is 443.</p>\n\n<p>When I once saw an error like yours, I imported the certificate into the Java keystore. For more details <a href=\"https://support.cloudbees.com/hc/en-us/articles/217078498-PKIX-path-building-failed-error-message\" rel=\"noreferrer\">here.</a> </p>\n\n<pre><code>keytool -import -alias $ALIAS -keystore $JAVA_HOME/jre/lib/security/cacerts -file $PATH_TO_PEM_FILE\n</code></pre>\n\n<p>This import should be needed only for not public certificates, like self-signed, but you can try. There could be certificate chain as explained <a href=\"https://stackoverflow.com/questions/44728080/ssl-issue-jenkins-slave-connection-issue-with-tfs\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":1016892,"reputation":28599,"user_id":1028270,"accept_rate":90,"display_name":"red888"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1584633254,"creation_date":1584633254,"answer_id":60760732,"question_id":49544663,"body_markdown":"my issue was i needed to import the entire cert chain into the java keystore\r\n\r\nbrowsers like chrome will follow aia extensions and download the chain for you but the java keystore wants to make your life hard.","title":"Jenkins Windows agent thinks my cert is invalid","body":"<p>my issue was i needed to import the entire cert chain into the java keystore</p>\n\n<p>browsers like chrome will follow aia extensions and download the chain for you but the java keystore wants to make your life hard.</p>\n"},{"tags":[],"owner":{"account_id":17147180,"reputation":709,"user_id":12409915,"display_name":"AditYa"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1624063549,"creation_date":1624044686,"answer_id":68040562,"question_id":49544663,"body_markdown":"I tried to\r\n\r\n1. update Java on salve machine to get the Java latest trust store.\r\n2. update Java trust store manually with public SSL [(steps)][1].\r\n\r\n\r\nBut nothing worked above.\r\n\r\nFinally, I was able to connect to the master server from the slave by bypassing the -noCertificateCheck at end of the below command:\r\n\r\n    java -jar agent.jar -jnlpUrl https://example.com/computer/windows_slave/jenkins-agent.jnlp -secret [secret] -noCertificateCheck\r\n\r\n\r\n  [1]: https://confluence.atlassian.com/kb/how-to-import-a-public-ssl-certificate-into-a-jvm-867025849.html","title":"Jenkins Windows agent thinks my cert is invalid","body":"<p>I tried to</p>\n<ol>\n<li>update Java on salve machine to get the Java latest trust store.</li>\n<li>update Java trust store manually with public SSL <a href=\"https://confluence.atlassian.com/kb/how-to-import-a-public-ssl-certificate-into-a-jvm-867025849.html\" rel=\"nofollow noreferrer\">(steps)</a>.</li>\n</ol>\n<p>But nothing worked above.</p>\n<p>Finally, I was able to connect to the master server from the slave by bypassing the -noCertificateCheck at end of the below command:</p>\n<pre><code>java -jar agent.jar -jnlpUrl https://example.com/computer/windows_slave/jenkins-agent.jnlp -secret [secret] -noCertificateCheck\n</code></pre>\n"}],"owner":{"account_id":1016892,"reputation":28599,"user_id":1028270,"accept_rate":90,"display_name":"red888"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12947,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":60760732,"answer_count":3,"score":8,"last_activity_date":1699727346,"creation_date":1522273409,"question_id":49544663,"body_markdown":"Following the docs to use Java Web Start and I&#39;m up to the point where I&#39;m running this command on the agent to connect to the controller:\r\n\r\n    java -jar agent.jar -jnlpUrl https://my-server.com:8888/computer/myslave/slave-agent.jnlp -secret sdfsdfsdfsdf -workDir &quot;c:\\Jenkins&quot;\r\n\r\nI have a valid public cert. From the slave I can access https://my-server.com:8888 and chrome says the cert is valid so why is Jenkins complaining? Seems dumb to use `-noCertificateCheck` when I paid good money for the damn thing\r\n\r\n&gt; Mar 28, 2018 9:34:49 PM org.jenkinsci.remoting.engine.WorkDirManager\r\n&gt; initializeWorkDir INFO: Using c:\\Jenkins\\remoting as a remoting work\r\n&gt; directory Both error and output logs will be printed to\r\n&gt; c:\\Jenkins\\remoting Exception in thread &quot;main&quot; java.io.IOException:\r\n&gt; Failed to validate a server certificate. If you are using a\r\n&gt; self-signed certificate, you can use the -noCertificateCheck option to\r\n&gt; bypass this check.\r\n&gt;         at hudson.remoting.Launcher.parseJnlpArguments(Launcher.java:548)\r\n&gt;         at hudson.remoting.Launcher.run(Launcher.java:322)\r\n&gt;         at hudson.remoting.Launcher.main(Launcher.java:283) Caused by: javax.net.ssl.SSLHandshakeException:\r\n&gt; sun.security.validator.ValidatorException: PKIX path building failed:\r\n&gt; sun.security.provider.certpath.SunCertPathBuilderException: unable to\r\n&gt; find valid c ertification path to requested target\r\n&gt;         at sun.security.ssl.Alerts.getSSLException(Unknown Source)\r\n&gt;         at sun.security.ssl.SSLSocketImpl.fatal(Unknown Source)\r\n&gt;         at sun.security.ssl.Handshaker.fatalSE(Unknown Source)\r\n&gt;         at sun.security.ssl.Handshaker.fatalSE(Unknown Source)\r\n&gt;         at sun.security.ssl.ClientHandshaker.serverCertificate(Unknown Source)\r\n&gt;         at sun.security.ssl.ClientHandshaker.processMessage(Unknown Source)\r\n&gt;         at sun.security.ssl.Handshaker.processLoop(Unknown Source)\r\n&gt;         at sun.security.ssl.Handshaker.process_record(Unknown Source)\r\n&gt;         at sun.security.ssl.SSLSocketImpl.readRecord(Unknown Source)\r\n&gt;         at sun.security.ssl.SSLSocketImpl.performInitialHandshake(Unknown Source)\r\n&gt;         at sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)\r\n&gt;         at sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)\r\n&gt;         at sun.net.www.protocol.https.HttpsClient.afterConnect(Unknown Source)\r\n&gt;         at sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(Unknown\r\n&gt; Source)\r\n&gt;         at sun.net.www.protocol.https.HttpsURLConnectionImpl.connect(Unknown\r\n&gt; Source)\r\n&gt;         at hudson.remoting.Launcher.parseJnlpArguments(Launcher.java:490)\r\n&gt;         ... 2 more Caused by: sun.security.validator.ValidatorException: PKIX path building failed:\r\n&gt; sun.security.provider.certpath.SunCertPathBuilderException: unable to\r\n&gt; find valid certification path to requested target\r\n&gt;         at sun.security.validator.PKIXValidator.doBuild(Unknown Source)\r\n&gt;         at sun.security.validator.PKIXValidator.engineValidate(Unknown Source)\r\n&gt;         at sun.security.validator.Validator.validate(Unknown Source)\r\n&gt;         at sun.security.ssl.X509TrustManagerImpl.validate(Unknown Source)\r\n&gt;         at sun.security.ssl.X509TrustManagerImpl.checkTrusted(Unknown Source)\r\n&gt;         at sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(Unknown\r\n&gt; Source)\r\n&gt;         ... 14 more Caused by: sun.security.provider.certpath.SunCertPathBuilderException: unable to\r\n&gt; find valid certification path to requested target\r\n&gt;         at sun.security.provider.certpath.SunCertPathBuilder.build(Unknown\r\n&gt; Source)\r\n&gt;         at sun.security.provider.certpath.SunCertPathBuilder.engineBuild(Unknown\r\n&gt; Source)\r\n&gt;         at java.security.cert.CertPathBuilder.build(Unknown Source)\r\n&gt;         ... 20 more\r\n\r\nEDIT:\r\nSo I can&#39;t connect at all. If I use `-noCertificateCheck` I get `Incorrect acknowledgement sequence` Im assuming because Im using HTTPS without validating the cert\r\n","title":"Jenkins Windows agent thinks my cert is invalid","body":"<p>Following the docs to use Java Web Start and I'm up to the point where I'm running this command on the agent to connect to the controller:</p>\n<pre><code>java -jar agent.jar -jnlpUrl https://my-server.com:8888/computer/myslave/slave-agent.jnlp -secret sdfsdfsdfsdf -workDir &quot;c:\\Jenkins&quot;\n</code></pre>\n<p>I have a valid public cert. From the slave I can access <a href=\"https://my-server.com:8888\" rel=\"nofollow noreferrer\">https://my-server.com:8888</a> and chrome says the cert is valid so why is Jenkins complaining? Seems dumb to use <code>-noCertificateCheck</code> when I paid good money for the damn thing</p>\n<blockquote>\n<p>Mar 28, 2018 9:34:49 PM org.jenkinsci.remoting.engine.WorkDirManager\ninitializeWorkDir INFO: Using c:\\Jenkins\\remoting as a remoting work\ndirectory Both error and output logs will be printed to\nc:\\Jenkins\\remoting Exception in thread &quot;main&quot; java.io.IOException:\nFailed to validate a server certificate. If you are using a\nself-signed certificate, you can use the -noCertificateCheck option to\nbypass this check.\nat hudson.remoting.Launcher.parseJnlpArguments(Launcher.java:548)\nat hudson.remoting.Launcher.run(Launcher.java:322)\nat hudson.remoting.Launcher.main(Launcher.java:283) Caused by: javax.net.ssl.SSLHandshakeException:\nsun.security.validator.ValidatorException: PKIX path building failed:\nsun.security.provider.certpath.SunCertPathBuilderException: unable to\nfind valid c ertification path to requested target\nat sun.security.ssl.Alerts.getSSLException(Unknown Source)\nat sun.security.ssl.SSLSocketImpl.fatal(Unknown Source)\nat sun.security.ssl.Handshaker.fatalSE(Unknown Source)\nat sun.security.ssl.Handshaker.fatalSE(Unknown Source)\nat sun.security.ssl.ClientHandshaker.serverCertificate(Unknown Source)\nat sun.security.ssl.ClientHandshaker.processMessage(Unknown Source)\nat sun.security.ssl.Handshaker.processLoop(Unknown Source)\nat sun.security.ssl.Handshaker.process_record(Unknown Source)\nat sun.security.ssl.SSLSocketImpl.readRecord(Unknown Source)\nat sun.security.ssl.SSLSocketImpl.performInitialHandshake(Unknown Source)\nat sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)\nat sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)\nat sun.net.www.protocol.https.HttpsClient.afterConnect(Unknown Source)\nat sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(Unknown\nSource)\nat sun.net.www.protocol.https.HttpsURLConnectionImpl.connect(Unknown\nSource)\nat hudson.remoting.Launcher.parseJnlpArguments(Launcher.java:490)\n... 2 more Caused by: sun.security.validator.ValidatorException: PKIX path building failed:\nsun.security.provider.certpath.SunCertPathBuilderException: unable to\nfind valid certification path to requested target\nat sun.security.validator.PKIXValidator.doBuild(Unknown Source)\nat sun.security.validator.PKIXValidator.engineValidate(Unknown Source)\nat sun.security.validator.Validator.validate(Unknown Source)\nat sun.security.ssl.X509TrustManagerImpl.validate(Unknown Source)\nat sun.security.ssl.X509TrustManagerImpl.checkTrusted(Unknown Source)\nat sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(Unknown\nSource)\n... 14 more Caused by: sun.security.provider.certpath.SunCertPathBuilderException: unable to\nfind valid certification path to requested target\nat sun.security.provider.certpath.SunCertPathBuilder.build(Unknown\nSource)\nat sun.security.provider.certpath.SunCertPathBuilder.engineBuild(Unknown\nSource)\nat java.security.cert.CertPathBuilder.build(Unknown Source)\n... 20 more</p>\n</blockquote>\n<p>EDIT:\nSo I can't connect at all. If I use <code>-noCertificateCheck</code> I get <code>Incorrect acknowledgement sequence</code> Im assuming because Im using HTTPS without validating the cert</p>\n"},{"tags":["java","javafx","scenebuilder"],"comments":[{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":1,"creation_date":1699663898,"post_id":77463508,"comment_id":136564234,"body_markdown":"See if the ideas [here](https://stackoverflow.com/questions/46453780/javafx-how-i-can-bind-a-stage-with-screen-resolution/46455368#46455368) can help.","body":"See if the ideas <a href=\"https://stackoverflow.com/questions/46453780/javafx-how-i-can-bind-a-stage-with-screen-resolution/46455368#46455368\">here</a> can help."},{"owner":{"account_id":23233917,"reputation":91,"user_id":17324149,"display_name":"andrew"},"score":0,"creation_date":1699666202,"post_id":77463508,"comment_id":136564397,"body_markdown":"@SedJ601 In the question you linked the length and height ratio of the UI elements change based on the size of the window. What I want is for all the UI elements to stay where they are and shrink and grow with the size of the window, but maintain the same length and height ratio if that makes sense.","body":"@SedJ601 In the question you linked the length and height ratio of the UI elements change based on the size of the window. What I want is for all the UI elements to stay where they are and shrink and grow with the size of the window, but maintain the same length and height ratio if that makes sense."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1699709497,"post_id":77463508,"comment_id":136567012,"body_markdown":"This [example](https://stackoverflow.com/a/70312046/230513) preserves the circles&#39; aspect ratio as the window is resized.","body":"This <a href=\"https://stackoverflow.com/a/70312046/230513\">example</a> preserves the circles&#39; aspect ratio as the window is resized."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1699715359,"post_id":77463508,"comment_id":136567601,"body_markdown":"If you use the layout panes the way there are intended to be used, then this should just work out of the box. Don’t hard-code any sizes or positions. Use the appropriate layout pane, depending on how you want the components laid out (`AnchorPane` is almost never what you want). Read the [layout tutorial](https://docs.oracle.com/javafx/2/layout/builtin_layouts.htm). Eden Coding also has a [good tutorial](https://edencoding.com/javafx-layouts/)","body":"If you use the layout panes the way there are intended to be used, then this should just work out of the box. Don’t hard-code any sizes or positions. Use the appropriate layout pane, depending on how you want the components laid out (<code>AnchorPane</code> is almost never what you want). Read the <a href=\"https://docs.oracle.com/javafx/2/layout/builtin_layouts.htm\" rel=\"nofollow noreferrer\">layout tutorial</a>. Eden Coding also has a <a href=\"https://edencoding.com/javafx-layouts/\" rel=\"nofollow noreferrer\">good tutorial</a>"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1699715703,"post_id":77463508,"comment_id":136567645,"body_markdown":"*”What I want is for all the UI elements to stay where they are and shrink and grow with the size of the window”*. This doesn’t really make sense. If the elements stayed where they were and grew, they would overlap each other, which would make them unusable. You need to precisely define how you want the elements to resize and reposition relative to each other when the window resizes. But again, this behaviour is exactly the behaviour implemented by the various layout panes.","body":"<i>”What I want is for all the UI elements to stay where they are and shrink and grow with the size of the window”</i>. This doesn’t really make sense. If the elements stayed where they were and grew, they would overlap each other, which would make them unusable. You need to precisely define how you want the elements to resize and reposition relative to each other when the window resizes. But again, this behaviour is exactly the behaviour implemented by the various layout panes."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1699901835,"post_id":77463508,"comment_id":136586541,"body_markdown":"You may also be looking for (_dynamic text sizing_](https://stackoverflow.com/q/23705654/230513).","body":"You may also be looking for (<i>dynamic text sizing</i>](<a href=\"https://stackoverflow.com/q/23705654/230513\">stackoverflow.com/q/23705654/230513</a>)."}],"answers":[{"tags":[],"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699695702,"creation_date":1699695358,"answer_id":77464559,"question_id":77463508,"body_markdown":"**Preface:** \r\n\r\nIt is impossible to create a screen size adaptive layout with fixed sizes. \r\n\r\nYou can see the problem in combining the words &quot;fixed&quot; and &quot;adaptive&quot;.\r\n\r\n**Solution:**\r\n\r\nOn every elements, including *Panes:\r\n\r\n1. Use computed sizes as minimum sizes everywhere.\r\n2. Use computed sizes as preferred sizes everywhere.\r\n3. Use maxValue as maximum sizes everywhere.\r\n4. Use hGrow always everywhere where it does not work only with the above.\r\n5. Set multiline true for Labels.","title":"Easiest way to make my JavaFX application scale with different screen sizes","body":"<p><strong>Preface:</strong></p>\n<p>It is impossible to create a screen size adaptive layout with fixed sizes.</p>\n<p>You can see the problem in combining the words &quot;fixed&quot; and &quot;adaptive&quot;.</p>\n<p><strong>Solution:</strong></p>\n<p>On every elements, including *Panes:</p>\n<ol>\n<li>Use computed sizes as minimum sizes everywhere.</li>\n<li>Use computed sizes as preferred sizes everywhere.</li>\n<li>Use maxValue as maximum sizes everywhere.</li>\n<li>Use hGrow always everywhere where it does not work only with the above.</li>\n<li>Set multiline true for Labels.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699727223,"creation_date":1699727223,"answer_id":77466325,"question_id":77463508,"body_markdown":"I am not sure what you are exactly trying to achieve, but using ideas from [here](https://stackoverflow.com/questions/46453780/javafx-how-i-can-bind-a-stage-with-screen-resolution/46455368#46455368), I came up with a starting point that I hope will help. You may need to do a few tutorials on JavaFX Layouts/Parent Nodes. ImageView can be kinda tricky, though. I hope this can help guide you in the right direction. For a login view, in my opinion, that&#39;s one of the few cases where it is okay to set the min, pref, and max sizes to the same values or use a screen that can&#39;t be resized. \r\n\r\n**FXML**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.geometry.Insets?&gt;\r\n&lt;?import javafx.scene.control.Button?&gt;\r\n&lt;?import javafx.scene.control.Label?&gt;\r\n&lt;?import javafx.scene.control.TextField?&gt;\r\n&lt;?import javafx.scene.image.ImageView?&gt;\r\n&lt;?import javafx.scene.layout.ColumnConstraints?&gt;\r\n&lt;?import javafx.scene.layout.GridPane?&gt;\r\n&lt;?import javafx.scene.layout.RowConstraints?&gt;\r\n&lt;?import javafx.scene.layout.VBox?&gt;\r\n&lt;?import javafx.scene.text.Font?&gt;\r\n\r\n\r\n&lt;VBox alignment=&quot;TOP_CENTER&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;940.0&quot; minWidth=&quot;540.0&quot; prefHeight=&quot;960.0&quot; prefWidth=&quot;540.0&quot; xmlns=&quot;http://javafx.com/javafx/20.0.1&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;&gt;\r\n   &lt;children&gt;\r\n      &lt;Label alignment=&quot;CENTER&quot; maxWidth=&quot;1.7976931348623157E308&quot; text=&quot;EffortLoggerV2&quot;&gt;\r\n         &lt;font&gt;\r\n            &lt;Font size=&quot;42.0&quot; /&gt;\r\n         &lt;/font&gt;\r\n         &lt;VBox.margin&gt;\r\n            &lt;Insets top=&quot;140.0&quot; /&gt;\r\n         &lt;/VBox.margin&gt;\r\n      &lt;/Label&gt;\r\n      &lt;ImageView fitHeight=&quot;261.0&quot; fitWidth=&quot;210.0&quot; pickOnBounds=&quot;true&quot; preserveRatio=&quot;true&quot;&gt;\r\n         &lt;VBox.margin&gt;\r\n            &lt;Insets top=&quot;100.0&quot; /&gt;\r\n         &lt;/VBox.margin&gt;\r\n      &lt;/ImageView&gt;\r\n      &lt;GridPane hgap=&quot;5.0&quot; vgap=&quot;10.0&quot;&gt;\r\n        &lt;columnConstraints&gt;\r\n          &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;100.0&quot; /&gt;\r\n            &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;100.0&quot; /&gt;\r\n            &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;100.0&quot; /&gt;\r\n            &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;100.0&quot; /&gt;\r\n            &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;100.0&quot; /&gt;\r\n            &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;100.0&quot; /&gt;\r\n            &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;100.0&quot; /&gt;\r\n          &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;100.0&quot; /&gt;\r\n        &lt;/columnConstraints&gt;\r\n        &lt;rowConstraints&gt;\r\n          &lt;RowConstraints minHeight=&quot;10.0&quot; prefHeight=&quot;30.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\r\n          &lt;RowConstraints minHeight=&quot;10.0&quot; prefHeight=&quot;30.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\r\n        &lt;/rowConstraints&gt;\r\n         &lt;children&gt;\r\n            &lt;Label alignment=&quot;CENTER_RIGHT&quot; maxHeight=&quot;1.7976931348623157E308&quot; maxWidth=&quot;1.7976931348623157E308&quot; text=&quot;Username&quot; GridPane.columnSpan=&quot;2&quot;&gt;\r\n               &lt;font&gt;\r\n                  &lt;Font size=&quot;24.0&quot; /&gt;\r\n               &lt;/font&gt;\r\n            &lt;/Label&gt;\r\n            &lt;Label alignment=&quot;CENTER_RIGHT&quot; maxHeight=&quot;1.7976931348623157E308&quot; maxWidth=&quot;1.7976931348623157E308&quot; text=&quot;Password&quot; GridPane.columnSpan=&quot;2&quot; GridPane.rowIndex=&quot;1&quot;&gt;\r\n               &lt;font&gt;\r\n                  &lt;Font size=&quot;24.0&quot; /&gt;\r\n               &lt;/font&gt;\r\n            &lt;/Label&gt;\r\n            &lt;TextField maxHeight=&quot;1.7976931348623157E308&quot; maxWidth=&quot;1.7976931348623157E308&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;224.0&quot; GridPane.columnIndex=&quot;2&quot; GridPane.columnSpan=&quot;4&quot; /&gt;\r\n            &lt;TextField maxHeight=&quot;1.7976931348623157E308&quot; maxWidth=&quot;1.7976931348623157E308&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;224.0&quot; GridPane.columnIndex=&quot;2&quot; GridPane.columnSpan=&quot;4&quot; GridPane.rowIndex=&quot;1&quot; /&gt;\r\n            &lt;Button fx:id=&quot;loginButton&quot; maxHeight=&quot;1.7976931348623157E308&quot; maxWidth=&quot;1.7976931348623157E308&quot; mnemonicParsing=&quot;false&quot; text=&quot;Sign In&quot; GridPane.columnIndex=&quot;6&quot; GridPane.columnSpan=&quot;2&quot; GridPane.rowSpan=&quot;2&quot;&gt;\r\n               &lt;font&gt;\r\n                  &lt;Font size=&quot;18.0&quot; /&gt;\r\n               &lt;/font&gt;\r\n            &lt;/Button&gt;\r\n         &lt;/children&gt;\r\n         &lt;padding&gt;\r\n            &lt;Insets left=&quot;20.0&quot; right=&quot;20.0&quot; /&gt;\r\n         &lt;/padding&gt;\r\n         &lt;VBox.margin&gt;\r\n            &lt;Insets top=&quot;140.0&quot; /&gt;\r\n         &lt;/VBox.margin&gt;\r\n      &lt;/GridPane&gt;\r\n      &lt;Button fx:id=&quot;createAccountButton&quot; mnemonicParsing=&quot;false&quot; text=&quot;Create an Account&quot;&gt;\r\n         &lt;font&gt;\r\n            &lt;Font size=&quot;18.0&quot; /&gt;\r\n         &lt;/font&gt;\r\n         &lt;VBox.margin&gt;\r\n            &lt;Insets top=&quot;100.0&quot; /&gt;\r\n         &lt;/VBox.margin&gt;\r\n      &lt;/Button&gt;\r\n   &lt;/children&gt;\r\n&lt;/VBox&gt;\r\n```\r\n\r\n**Normal**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**Maximized**\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bwUPR.png\r\n  [2]: https://i.stack.imgur.com/CBna4.png","title":"Easiest way to make my JavaFX application scale with different screen sizes","body":"<p>I am not sure what you are exactly trying to achieve, but using ideas from <a href=\"https://stackoverflow.com/questions/46453780/javafx-how-i-can-bind-a-stage-with-screen-resolution/46455368#46455368\">here</a>, I came up with a starting point that I hope will help. You may need to do a few tutorials on JavaFX Layouts/Parent Nodes. ImageView can be kinda tricky, though. I hope this can help guide you in the right direction. For a login view, in my opinion, that's one of the few cases where it is okay to set the min, pref, and max sizes to the same values or use a screen that can't be resized.</p>\n<p><strong>FXML</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.geometry.Insets?&gt;\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.control.Label?&gt;\n&lt;?import javafx.scene.control.TextField?&gt;\n&lt;?import javafx.scene.image.ImageView?&gt;\n&lt;?import javafx.scene.layout.ColumnConstraints?&gt;\n&lt;?import javafx.scene.layout.GridPane?&gt;\n&lt;?import javafx.scene.layout.RowConstraints?&gt;\n&lt;?import javafx.scene.layout.VBox?&gt;\n&lt;?import javafx.scene.text.Font?&gt;\n\n\n&lt;VBox alignment=&quot;TOP_CENTER&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;940.0&quot; minWidth=&quot;540.0&quot; prefHeight=&quot;960.0&quot; prefWidth=&quot;540.0&quot; xmlns=&quot;http://javafx.com/javafx/20.0.1&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;&gt;\n   &lt;children&gt;\n      &lt;Label alignment=&quot;CENTER&quot; maxWidth=&quot;1.7976931348623157E308&quot; text=&quot;EffortLoggerV2&quot;&gt;\n         &lt;font&gt;\n            &lt;Font size=&quot;42.0&quot; /&gt;\n         &lt;/font&gt;\n         &lt;VBox.margin&gt;\n            &lt;Insets top=&quot;140.0&quot; /&gt;\n         &lt;/VBox.margin&gt;\n      &lt;/Label&gt;\n      &lt;ImageView fitHeight=&quot;261.0&quot; fitWidth=&quot;210.0&quot; pickOnBounds=&quot;true&quot; preserveRatio=&quot;true&quot;&gt;\n         &lt;VBox.margin&gt;\n            &lt;Insets top=&quot;100.0&quot; /&gt;\n         &lt;/VBox.margin&gt;\n      &lt;/ImageView&gt;\n      &lt;GridPane hgap=&quot;5.0&quot; vgap=&quot;10.0&quot;&gt;\n        &lt;columnConstraints&gt;\n          &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;100.0&quot; /&gt;\n            &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;100.0&quot; /&gt;\n            &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;100.0&quot; /&gt;\n            &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;100.0&quot; /&gt;\n            &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;100.0&quot; /&gt;\n            &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;100.0&quot; /&gt;\n            &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;100.0&quot; /&gt;\n          &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;100.0&quot; /&gt;\n        &lt;/columnConstraints&gt;\n        &lt;rowConstraints&gt;\n          &lt;RowConstraints minHeight=&quot;10.0&quot; prefHeight=&quot;30.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\n          &lt;RowConstraints minHeight=&quot;10.0&quot; prefHeight=&quot;30.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\n        &lt;/rowConstraints&gt;\n         &lt;children&gt;\n            &lt;Label alignment=&quot;CENTER_RIGHT&quot; maxHeight=&quot;1.7976931348623157E308&quot; maxWidth=&quot;1.7976931348623157E308&quot; text=&quot;Username&quot; GridPane.columnSpan=&quot;2&quot;&gt;\n               &lt;font&gt;\n                  &lt;Font size=&quot;24.0&quot; /&gt;\n               &lt;/font&gt;\n            &lt;/Label&gt;\n            &lt;Label alignment=&quot;CENTER_RIGHT&quot; maxHeight=&quot;1.7976931348623157E308&quot; maxWidth=&quot;1.7976931348623157E308&quot; text=&quot;Password&quot; GridPane.columnSpan=&quot;2&quot; GridPane.rowIndex=&quot;1&quot;&gt;\n               &lt;font&gt;\n                  &lt;Font size=&quot;24.0&quot; /&gt;\n               &lt;/font&gt;\n            &lt;/Label&gt;\n            &lt;TextField maxHeight=&quot;1.7976931348623157E308&quot; maxWidth=&quot;1.7976931348623157E308&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;224.0&quot; GridPane.columnIndex=&quot;2&quot; GridPane.columnSpan=&quot;4&quot; /&gt;\n            &lt;TextField maxHeight=&quot;1.7976931348623157E308&quot; maxWidth=&quot;1.7976931348623157E308&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;224.0&quot; GridPane.columnIndex=&quot;2&quot; GridPane.columnSpan=&quot;4&quot; GridPane.rowIndex=&quot;1&quot; /&gt;\n            &lt;Button fx:id=&quot;loginButton&quot; maxHeight=&quot;1.7976931348623157E308&quot; maxWidth=&quot;1.7976931348623157E308&quot; mnemonicParsing=&quot;false&quot; text=&quot;Sign In&quot; GridPane.columnIndex=&quot;6&quot; GridPane.columnSpan=&quot;2&quot; GridPane.rowSpan=&quot;2&quot;&gt;\n               &lt;font&gt;\n                  &lt;Font size=&quot;18.0&quot; /&gt;\n               &lt;/font&gt;\n            &lt;/Button&gt;\n         &lt;/children&gt;\n         &lt;padding&gt;\n            &lt;Insets left=&quot;20.0&quot; right=&quot;20.0&quot; /&gt;\n         &lt;/padding&gt;\n         &lt;VBox.margin&gt;\n            &lt;Insets top=&quot;140.0&quot; /&gt;\n         &lt;/VBox.margin&gt;\n      &lt;/GridPane&gt;\n      &lt;Button fx:id=&quot;createAccountButton&quot; mnemonicParsing=&quot;false&quot; text=&quot;Create an Account&quot;&gt;\n         &lt;font&gt;\n            &lt;Font size=&quot;18.0&quot; /&gt;\n         &lt;/font&gt;\n         &lt;VBox.margin&gt;\n            &lt;Insets top=&quot;100.0&quot; /&gt;\n         &lt;/VBox.margin&gt;\n      &lt;/Button&gt;\n   &lt;/children&gt;\n&lt;/VBox&gt;\n</code></pre>\n<p><strong>Normal</strong></p>\n<p><a href=\"https://i.stack.imgur.com/bwUPR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bwUPR.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Maximized</strong></p>\n<p><a href=\"https://i.stack.imgur.com/CBna4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CBna4.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":23233917,"reputation":91,"user_id":17324149,"display_name":"andrew"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1699727223,"creation_date":1699663499,"question_id":77463508,"body_markdown":"As my code is now, the content of the app will be cut off by the window if the screen isn&#39;t large enough to support the fixed size I set. I want to know the easiest way to fix this. Rather than changing every UI element, I was hoping there is some way to simply make the UI adjust to whatever size the window is. So the window should be able to be pulled from a corner to resize and the UI moves with it. \r\n\r\nHere&#39;s the stage class:\r\n```\r\npublic class Login {\r\n\t\r\n\tpublic void show(Stage primaryStage) {\r\n\t\t\r\n\t\ttry {\r\n            FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;Login.fxml&quot;));\r\n            Parent root = loader.load();\r\n            Scene scene = new Scene(root);\r\n            scene.getStylesheets().add(getClass().getResource(&quot;application.css&quot;).toExternalForm());\r\n            primaryStage.setScene(scene);\r\n            primaryStage.setResizable(false);\r\n            primaryStage.show();\r\n        } \r\n        catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n\t}\r\n\t\r\n}\r\n```\r\nHere&#39;s the .fxml file:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.scene.control.Button?&gt;\r\n&lt;?import javafx.scene.control.Label?&gt;\r\n&lt;?import javafx.scene.control.TextField?&gt;\r\n&lt;?import javafx.scene.image.ImageView?&gt;\r\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\r\n&lt;?import javafx.scene.text.Font?&gt;\r\n&lt;?import javafx.scene.image.Image?&gt;\r\n\r\n\r\n&lt;AnchorPane prefHeight=&quot;960.0&quot; prefWidth=&quot;540.0&quot; xmlns=&quot;http://javafx.com/javafx/20.0.1&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;application.login.LoginController&quot;&gt;\r\n   &lt;children&gt;\r\n      &lt;ImageView fitHeight=&quot;261.0&quot; fitWidth=&quot;210.0&quot; layoutX=&quot;171.0&quot; layoutY=&quot;302.0&quot; pickOnBounds=&quot;true&quot; preserveRatio=&quot;true&quot;&gt;\r\n      \t&lt;Image url=&quot;@ledger.png&quot; /&gt;\r\n      &lt;/ImageView&gt;\r\n      &lt;Label layoutX=&quot;134.0&quot; layoutY=&quot;132.0&quot; text=&quot;EffortLoggerV2&quot;&gt;\r\n         &lt;font&gt;\r\n            &lt;Font size=&quot;42.0&quot; /&gt;\r\n         &lt;/font&gt;\r\n      &lt;/Label&gt;\r\n      &lt;Label layoutX=&quot;43.0&quot; layoutY=&quot;768.0&quot; text=&quot;Username&quot;&gt;\r\n         &lt;font&gt;\r\n            &lt;Font size=&quot;24.0&quot; /&gt;\r\n         &lt;/font&gt;\r\n      &lt;/Label&gt;\r\n      &lt;Label layoutX=&quot;43.0&quot; layoutY=&quot;818.0&quot; text=&quot;Password&quot;&gt;\r\n         &lt;font&gt;\r\n            &lt;Font size=&quot;24.0&quot; /&gt;\r\n         &lt;/font&gt;\r\n      &lt;/Label&gt;\r\n      &lt;TextField layoutX=&quot;164.0&quot; layoutY=&quot;770.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;224.0&quot; /&gt;\r\n      &lt;TextField layoutX=&quot;164.0&quot; layoutY=&quot;820.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;224.0&quot; /&gt;\r\n      &lt;Button fx:id=&quot;loginButton&quot; layoutX=&quot;416.0&quot; layoutY=&quot;770.0&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;73.0&quot; prefWidth=&quot;86.0&quot; text=&quot;Sign In&quot;&gt;\r\n         &lt;font&gt;\r\n            &lt;Font size=&quot;18.0&quot; /&gt;\r\n         &lt;/font&gt;\r\n      &lt;/Button&gt;\r\n      &lt;Button fx:id=&quot;createAccountButton&quot; layoutX=&quot;193.0&quot; layoutY=&quot;889.0&quot; mnemonicParsing=&quot;false&quot; text=&quot;Create an Account&quot;&gt;\r\n         &lt;font&gt;\r\n            &lt;Font size=&quot;18.0&quot; /&gt;\r\n         &lt;/font&gt;\r\n      &lt;/Button&gt;\r\n   &lt;/children&gt;\r\n&lt;/AnchorPane&gt;\r\n```\r\nIs there an easy way to do this, or would this require changing every UI element?","title":"Easiest way to make my JavaFX application scale with different screen sizes","body":"<p>As my code is now, the content of the app will be cut off by the window if the screen isn't large enough to support the fixed size I set. I want to know the easiest way to fix this. Rather than changing every UI element, I was hoping there is some way to simply make the UI adjust to whatever size the window is. So the window should be able to be pulled from a corner to resize and the UI moves with it.</p>\n<p>Here's the stage class:</p>\n<pre><code>public class Login {\n    \n    public void show(Stage primaryStage) {\n        \n        try {\n            FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;Login.fxml&quot;));\n            Parent root = loader.load();\n            Scene scene = new Scene(root);\n            scene.getStylesheets().add(getClass().getResource(&quot;application.css&quot;).toExternalForm());\n            primaryStage.setScene(scene);\n            primaryStage.setResizable(false);\n            primaryStage.show();\n        } \n        catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n    \n}\n</code></pre>\n<p>Here's the .fxml file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.control.Label?&gt;\n&lt;?import javafx.scene.control.TextField?&gt;\n&lt;?import javafx.scene.image.ImageView?&gt;\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\n&lt;?import javafx.scene.text.Font?&gt;\n&lt;?import javafx.scene.image.Image?&gt;\n\n\n&lt;AnchorPane prefHeight=&quot;960.0&quot; prefWidth=&quot;540.0&quot; xmlns=&quot;http://javafx.com/javafx/20.0.1&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;application.login.LoginController&quot;&gt;\n   &lt;children&gt;\n      &lt;ImageView fitHeight=&quot;261.0&quot; fitWidth=&quot;210.0&quot; layoutX=&quot;171.0&quot; layoutY=&quot;302.0&quot; pickOnBounds=&quot;true&quot; preserveRatio=&quot;true&quot;&gt;\n        &lt;Image url=&quot;@ledger.png&quot; /&gt;\n      &lt;/ImageView&gt;\n      &lt;Label layoutX=&quot;134.0&quot; layoutY=&quot;132.0&quot; text=&quot;EffortLoggerV2&quot;&gt;\n         &lt;font&gt;\n            &lt;Font size=&quot;42.0&quot; /&gt;\n         &lt;/font&gt;\n      &lt;/Label&gt;\n      &lt;Label layoutX=&quot;43.0&quot; layoutY=&quot;768.0&quot; text=&quot;Username&quot;&gt;\n         &lt;font&gt;\n            &lt;Font size=&quot;24.0&quot; /&gt;\n         &lt;/font&gt;\n      &lt;/Label&gt;\n      &lt;Label layoutX=&quot;43.0&quot; layoutY=&quot;818.0&quot; text=&quot;Password&quot;&gt;\n         &lt;font&gt;\n            &lt;Font size=&quot;24.0&quot; /&gt;\n         &lt;/font&gt;\n      &lt;/Label&gt;\n      &lt;TextField layoutX=&quot;164.0&quot; layoutY=&quot;770.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;224.0&quot; /&gt;\n      &lt;TextField layoutX=&quot;164.0&quot; layoutY=&quot;820.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;224.0&quot; /&gt;\n      &lt;Button fx:id=&quot;loginButton&quot; layoutX=&quot;416.0&quot; layoutY=&quot;770.0&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;73.0&quot; prefWidth=&quot;86.0&quot; text=&quot;Sign In&quot;&gt;\n         &lt;font&gt;\n            &lt;Font size=&quot;18.0&quot; /&gt;\n         &lt;/font&gt;\n      &lt;/Button&gt;\n      &lt;Button fx:id=&quot;createAccountButton&quot; layoutX=&quot;193.0&quot; layoutY=&quot;889.0&quot; mnemonicParsing=&quot;false&quot; text=&quot;Create an Account&quot;&gt;\n         &lt;font&gt;\n            &lt;Font size=&quot;18.0&quot; /&gt;\n         &lt;/font&gt;\n      &lt;/Button&gt;\n   &lt;/children&gt;\n&lt;/AnchorPane&gt;\n</code></pre>\n<p>Is there an easy way to do this, or would this require changing every UI element?</p>\n"},{"tags":["java","jenkins","jenkins-agent"],"comments":[{"owner":{"account_id":12641201,"reputation":412,"user_id":9188644,"display_name":"ItsAnApe"},"score":0,"creation_date":1597314995,"post_id":51446609,"comment_id":112095282,"body_markdown":"Did you ever find a solution to this problem?  I&#39;m also dealing with it.","body":"Did you ever find a solution to this problem?  I&#39;m also dealing with it."}],"answers":[{"tags":[],"owner":{"account_id":15361371,"reputation":11,"user_id":11082114,"display_name":"seino2005"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1550545543,"creation_date":1550545543,"answer_id":54758299,"question_id":51446609,"body_markdown":"I think Java differs between Jenkins Master and Slave.\r\nFor example, PC of Jenkins Master is x64 but slave is x86.","title":"Jenkins: \\Java\\jdk1.8.0_172\\jre\\bin&quot;&quot; was unexpected at this time","body":"<p>I think Java differs between Jenkins Master and Slave.\nFor example, PC of Jenkins Master is x64 but slave is x86.</p>\n"},{"tags":[],"owner":{"account_id":335094,"reputation":1,"user_id":4893176,"display_name":"Dudi L"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631436801,"creation_date":1631436801,"answer_id":69149896,"question_id":51446609,"body_markdown":"The issue started at my CI system after I upgrade the Java version on my Jenkins node to latest x86. (the node was working well before)\r\nTo resolve it I uninstalled the x86 version and installed x64 Java version.\r\n\r\nThanks.\r\n","title":"Jenkins: \\Java\\jdk1.8.0_172\\jre\\bin&quot;&quot; was unexpected at this time","body":"<p>The issue started at my CI system after I upgrade the Java version on my Jenkins node to latest x86. (the node was working well before)\nTo resolve it I uninstalled the x86 version and installed x64 Java version.</p>\n<p>Thanks.</p>\n"}],"owner":{"account_id":6242556,"reputation":1368,"user_id":4872413,"accept_rate":33,"display_name":"devopsfun"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1958,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1699727053,"creation_date":1532103270,"question_id":51446609,"body_markdown":"I have a Jenkins controller and several agent nodes. Some jobs running on Windows give me this error message:\r\n\r\n    \\Java\\jdk1.8.0_172\\jre\\bin&quot;&quot; was unexpected at this time.\r\n\r\nThese jobs run without problems on a Windows system itself, but not when running them within Jenkins. So I looked a little bit deeper and found out, that in the node information, I can see this value for `java.library.path` under `jenkinsserver/computer/node/systemInfo` (as an example):\r\n\r\n    C:\\Program Files\\Java\\jre1.8.0_172\\bin;C:\\Windows\\Sun\\Java\\bin;\r\n    C:\\Windows\\system32;C:\\Windows;C:\\ProgramData\\Oracle\\Java\\javapath;\r\n    C:\\Users\\bsadmin\\AppData\\Local\\Microsoft\\WindowsApps;&quot;C:\\Program Files\\Java\\jre1.8.0_172\\bin&quot;;.\r\n\r\nI think, this error comes from the last part: `&quot;C:\\Program Files\\Java\\jre1.8.0_172\\bin&quot;`. I see this on every windows agent machine.\r\n\r\nWhere does this value come from? Is it possible, to disable it somehow?\r\n\r\n**EDIT**\r\n\r\nHere is a picture of what I mean:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/p0i7h.png","title":"Jenkins: \\Java\\jdk1.8.0_172\\jre\\bin&quot;&quot; was unexpected at this time","body":"<p>I have a Jenkins controller and several agent nodes. Some jobs running on Windows give me this error message:</p>\n<pre><code>\\Java\\jdk1.8.0_172\\jre\\bin&quot;&quot; was unexpected at this time.\n</code></pre>\n<p>These jobs run without problems on a Windows system itself, but not when running them within Jenkins. So I looked a little bit deeper and found out, that in the node information, I can see this value for <code>java.library.path</code> under <code>jenkinsserver/computer/node/systemInfo</code> (as an example):</p>\n<pre><code>C:\\Program Files\\Java\\jre1.8.0_172\\bin;C:\\Windows\\Sun\\Java\\bin;\nC:\\Windows\\system32;C:\\Windows;C:\\ProgramData\\Oracle\\Java\\javapath;\nC:\\Users\\bsadmin\\AppData\\Local\\Microsoft\\WindowsApps;&quot;C:\\Program Files\\Java\\jre1.8.0_172\\bin&quot;;.\n</code></pre>\n<p>I think, this error comes from the last part: <code>&quot;C:\\Program Files\\Java\\jre1.8.0_172\\bin&quot;</code>. I see this on every windows agent machine.</p>\n<p>Where does this value come from? Is it possible, to disable it somehow?</p>\n<p><strong>EDIT</strong></p>\n<p>Here is a picture of what I mean:</p>\n<p><a href=\"https://i.stack.imgur.com/p0i7h.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/p0i7h.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","type-variables"],"comments":[{"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":1,"creation_date":1699695712,"post_id":77464572,"comment_id":136565937,"body_markdown":"Why do you think you need to do this?  This would partially defeat the point of using generics.","body":"Why do you think you need to do this?  This would partially defeat the point of using generics."},{"owner":{"account_id":18103108,"reputation":405,"user_id":13160706,"display_name":"Machi"},"score":0,"creation_date":1699696891,"post_id":77464572,"comment_id":136566005,"body_markdown":"@TimBiegeleisen I added the intention I ask this issue. I am trying to preserve generic information.","body":"@TimBiegeleisen I added the intention I ask this issue. I am trying to preserve generic information."},{"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"score":0,"creation_date":1699697434,"post_id":77464572,"comment_id":136566040,"body_markdown":"You can&#39;t really get the Types of generics. A generic getter e.g. must return an Integer, or a String, or something else depending on T. You can implement their types T, but you have to cast them after that. Because T can not do the things a String can e.g..","body":"You can&#39;t really get the Types of generics. A generic getter e.g. must return an Integer, or a String, or something else depending on T. You can implement their types T, but you have to cast them after that. Because T can not do the things a String can e.g.."},{"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"score":0,"creation_date":1699697815,"post_id":77464572,"comment_id":136566072,"body_markdown":"In fact, you could work around this by autocreating classes while compiling, like Lombok does it for the builder pattern e.g.. Annotation processors can do that.","body":"In fact, you could work around this by autocreating classes while compiling, like Lombok does it for the builder pattern e.g.. Annotation processors can do that."},{"owner":{"account_id":18103108,"reputation":405,"user_id":13160706,"display_name":"Machi"},"score":0,"creation_date":1699700064,"post_id":77464572,"comment_id":136566226,"body_markdown":"@DavidWeber  Create a customized annotation processor is too difficult for me...Is there any way, can perserve the generic infomation for each field?","body":"@DavidWeber  Create a customized annotation processor is too difficult for me...Is there any way, can perserve the generic infomation for each field?"}],"answers":[{"tags":[],"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699702321,"creation_date":1699702321,"answer_id":77464889,"question_id":77464572,"body_markdown":"**Preface:**\r\n\r\nYou can&#39;t really get the types of generic variables. \r\n\r\n**Explanation with example:**\r\n\r\nA generic getter must return an Integer, a String or something else depending on what T is. \r\n\r\nYou can implement a method that returns T, but you have to cast the return value after that, because T can not do the things a String can. \r\n\r\n**Ways to preserve information about T:**\r\n\r\nYou can preserve the class name of T in a String - something like this:\r\n\r\nString classOfT = T.class\r\n\r\n\r\n**Workaround solution 1:**\r\n\r\nYou could create a custom annotation processor which automatically creates the classes while compiling. Like Lombok does it for the builder pattern for example. \r\n\r\n**Workaround solution 2:**\r\n\r\nYou can get information about the classOfT if you pass it as a parameter like this:\r\n\r\n    public class TestMain {\r\n    \r\n        public static void main(String[] args) {\r\n            new TestMain();\r\n        }\r\n    \r\n        public TestMain() {\r\n            MyList&lt;String&gt; myList = new MyList&lt;&gt;(String.class);\r\n            System.out.println(&quot;classOfTAsString=&quot; + myList.getClassOfTAsString());\r\n        }\r\n    \r\n        public static class MyList&lt;T&gt; extends ArrayList&lt;T&gt; {\r\n    \r\n            private Class&lt;T&gt; classOfT;\r\n            private String classOfTAsString;\r\n    \r\n            public MyList(Class&lt;T&gt; classOfT) {\r\n                super();\r\n                this.classOfT = classOfT;\r\n                this.classOfTAsString = classOfT.getName(); // or getSimpleName();\r\n            }\r\n    \r\n            public String getClassOfTAsString() {\r\n                return classOfTAsString;\r\n            }\r\n    \r\n        }\r\n    \r\n    \r\n    }","title":"How can I get the type variable vs field mapping from a generic class?","body":"<p><strong>Preface:</strong></p>\n<p>You can't really get the types of generic variables.</p>\n<p><strong>Explanation with example:</strong></p>\n<p>A generic getter must return an Integer, a String or something else depending on what T is.</p>\n<p>You can implement a method that returns T, but you have to cast the return value after that, because T can not do the things a String can.</p>\n<p><strong>Ways to preserve information about T:</strong></p>\n<p>You can preserve the class name of T in a String - something like this:</p>\n<p>String classOfT = T.class</p>\n<p><strong>Workaround solution 1:</strong></p>\n<p>You could create a custom annotation processor which automatically creates the classes while compiling. Like Lombok does it for the builder pattern for example.</p>\n<p><strong>Workaround solution 2:</strong></p>\n<p>You can get information about the classOfT if you pass it as a parameter like this:</p>\n<pre><code>public class TestMain {\n\n    public static void main(String[] args) {\n        new TestMain();\n    }\n\n    public TestMain() {\n        MyList&lt;String&gt; myList = new MyList&lt;&gt;(String.class);\n        System.out.println(&quot;classOfTAsString=&quot; + myList.getClassOfTAsString());\n    }\n\n    public static class MyList&lt;T&gt; extends ArrayList&lt;T&gt; {\n\n        private Class&lt;T&gt; classOfT;\n        private String classOfTAsString;\n\n        public MyList(Class&lt;T&gt; classOfT) {\n            super();\n            this.classOfT = classOfT;\n            this.classOfTAsString = classOfT.getName(); // or getSimpleName();\n        }\n\n        public String getClassOfTAsString() {\n            return classOfTAsString;\n        }\n\n    }\n\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699726768,"creation_date":1699726768,"answer_id":77466293,"question_id":77464572,"body_markdown":"&gt; _&quot;... Now I want to extract a mapping as this:\\\r\n&gt;\\\r\n&gt; t1 -&gt; T1; t2 -&gt; T2; t3 -&gt; T3 ...&quot;_\r\n\r\nYou wrote that incorrectly, by the way.&amp;nbsp; It should be _T1_ for _t3_.\r\n\r\nHere is an example.\r\n\r\n```java\r\nRowClass&lt;?, ?&gt; r = new RowClass&lt;&gt;();\r\nMap&lt;String, Type&gt; m\r\n    = Stream.of(r.getClass().getDeclaredFields())\r\n            .collect(Collectors.toMap(Field::getName, Field::getGenericType));\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n{t1=T1, t2=T2, t3=T1}\r\n```","title":"How can I get the type variable vs field mapping from a generic class?","body":"<blockquote>\n<p><em>&quot;... Now I want to extract a mapping as this:<br />\n<br />\nt1 -&gt; T1; t2 -&gt; T2; t3 -&gt; T3 ...&quot;</em></p>\n</blockquote>\n<p>You wrote that incorrectly, by the way.  It should be <em>T1</em> for <em>t3</em>.</p>\n<p>Here is an example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>RowClass&lt;?, ?&gt; r = new RowClass&lt;&gt;();\nMap&lt;String, Type&gt; m\n    = Stream.of(r.getClass().getDeclaredFields())\n            .collect(Collectors.toMap(Field::getName, Field::getGenericType));\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>{t1=T1, t2=T2, t3=T1}\n</code></pre>\n"}],"owner":{"account_id":18103108,"reputation":405,"user_id":13160706,"display_name":"Machi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77466293,"answer_count":2,"score":0,"last_activity_date":1699726768,"creation_date":1699695580,"question_id":77464572,"body_markdown":"I have a generic class as below, two type variables with three fields declared.\r\n```\r\nclass RowClass&lt;T1, T2&gt; {\r\n    public T1 t1;\r\n    public T2 t2;\r\n    public T1 t3;\r\n}\r\n```\r\nNow I want to extract a mapping as this: \r\n\r\nt1 -&gt; T1; t2 -&gt; T2; t3 -&gt; T3\r\n\r\nSo I can know exactly which type variable each field is associated to.\r\nBelow code will not work as generic erasure.\r\n```\r\nfor (Field declaredField : RowClass.class.getDeclaredFields()) {\r\n    System.out.println(declaredField.getName()+&quot; -&gt; &quot; +declaredField.getType());\r\n}\r\n// t1 -&gt; class java.lang.Object\r\n// t2 -&gt; class java.lang.Object\r\n// t3 -&gt; class java.lang.Object\r\n// no type variable symbol printed\r\n```\r\n\r\nWhy I ask this issue? Just for study, I am try to understand how Jackson deserialize json string to Class with declared generic type, sucn as `List&lt;String&gt;`.\r\n\r\nfirst, I can get the type variable list:\r\n```\r\n// the list of type variable\r\nfinal TypeVariable&lt;Class&lt;RowClass&gt;&gt;[] typeParameters = RowClass.class.getTypeParameters();\r\nArrays.stream(typeParameters).forEach(System.out::println);\r\n```\r\nSecond, I can also get the list of actual arguments:\r\n```\r\nclass RowClassImpl extends RowClass&lt;String, Integer&gt; {\r\n}\r\n\r\nfinal ParameterizedType parameterizedType = (ParameterizedType) (RowClassImpl.class.getGenericSuperclass());\r\nArrays.stream(parameterizedType.getActualTypeArguments()).forEach(type -&gt; System.out.println(type.getTypeName()));\r\n```\r\n\r\nIf I can get the type variable vs field mapping, I can preserve all the generic information for each field.\r\n\r\n\r\n","title":"How can I get the type variable vs field mapping from a generic class?","body":"<p>I have a generic class as below, two type variables with three fields declared.</p>\n<pre><code>class RowClass&lt;T1, T2&gt; {\n    public T1 t1;\n    public T2 t2;\n    public T1 t3;\n}\n</code></pre>\n<p>Now I want to extract a mapping as this:</p>\n<p>t1 -&gt; T1; t2 -&gt; T2; t3 -&gt; T3</p>\n<p>So I can know exactly which type variable each field is associated to.\nBelow code will not work as generic erasure.</p>\n<pre><code>for (Field declaredField : RowClass.class.getDeclaredFields()) {\n    System.out.println(declaredField.getName()+&quot; -&gt; &quot; +declaredField.getType());\n}\n// t1 -&gt; class java.lang.Object\n// t2 -&gt; class java.lang.Object\n// t3 -&gt; class java.lang.Object\n// no type variable symbol printed\n</code></pre>\n<p>Why I ask this issue? Just for study, I am try to understand how Jackson deserialize json string to Class with declared generic type, sucn as <code>List&lt;String&gt;</code>.</p>\n<p>first, I can get the type variable list:</p>\n<pre><code>// the list of type variable\nfinal TypeVariable&lt;Class&lt;RowClass&gt;&gt;[] typeParameters = RowClass.class.getTypeParameters();\nArrays.stream(typeParameters).forEach(System.out::println);\n</code></pre>\n<p>Second, I can also get the list of actual arguments:</p>\n<pre><code>class RowClassImpl extends RowClass&lt;String, Integer&gt; {\n}\n\nfinal ParameterizedType parameterizedType = (ParameterizedType) (RowClassImpl.class.getGenericSuperclass());\nArrays.stream(parameterizedType.getActualTypeArguments()).forEach(type -&gt; System.out.println(type.getTypeName()));\n</code></pre>\n<p>If I can get the type variable vs field mapping, I can preserve all the generic information for each field.</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1699742429,"post_id":77466138,"comment_id":136570262,"body_markdown":"You might need to import the projects again via _File &gt; Import...: General &gt; Import Eclipse Projects into Workspace_ (selected the recovered workspace as root directory).","body":"You might need to import the projects again via <i>File &gt; Import...: General &gt; Import Eclipse Projects into Workspace</i> (selected the recovered workspace as root directory)."}],"answers":[{"tags":[],"owner":{"account_id":18117615,"reputation":136,"user_id":13174087,"display_name":"Greenylie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699726758,"creation_date":1699726758,"answer_id":77466291,"question_id":77466138,"body_markdown":"It may have created a new workspace. Navigate to File &gt; Switch Workspace &gt; Other, and finally input the path of your old workspace folder you just recovered.","title":"Eclipse deleted all my project after doing some cleaning up of my files","body":"<p>It may have created a new workspace. Navigate to File &gt; Switch Workspace &gt; Other, and finally input the path of your old workspace folder you just recovered.</p>\n"}],"owner":{"account_id":29841507,"reputation":1,"user_id":22869601,"display_name":"Electrosaur"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1699726758,"creation_date":1699724273,"question_id":77466138,"body_markdown":"I was deleting some files off my desktop when I realized I had put my eclipseworkspace into the recycling bin. I then pulled it out and started up eclipse and I saw that all my projects had been deleted and all my appearence and checkstyle settings were gone.\r\n\r\n\r\n","title":"Eclipse deleted all my project after doing some cleaning up of my files","body":"<p>I was deleting some files off my desktop when I realized I had put my eclipseworkspace into the recycling bin. I then pulled it out and started up eclipse and I saw that all my projects had been deleted and all my appearence and checkstyle settings were gone.</p>\n"},{"tags":["java","spring-boot","jpa","lombok"],"comments":[{"owner":{"account_id":2161358,"reputation":42668,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"score":0,"creation_date":1699652331,"post_id":77462109,"comment_id":136563325,"body_markdown":"This is unrelated to Lombok. Your `FundTransfer` entity only contains an `@Id` annotation and no `@GeneratedValue` annotation. This means you manually have to enter the ID when saving the `FundTransfer` entity. You don&#39;t exactly show this code, but it&#39;s likely that you aren&#39;t providing any ID. If you do provide an ID to your objects, then edit your question to show this.","body":"This is unrelated to Lombok. Your <code>FundTransfer</code> entity only contains an <code>@Id</code> annotation and no <code>@GeneratedValue</code> annotation. This means you manually have to enter the ID when saving the <code>FundTransfer</code> entity. You don&#39;t exactly show this code, but it&#39;s likely that you aren&#39;t providing any ID. If you do provide an ID to your objects, then edit your question to show this."}],"owner":{"account_id":2306779,"reputation":155,"user_id":2025899,"accept_rate":25,"display_name":"Sreenivas M"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1699652206,"answer_count":0,"score":-1,"last_activity_date":1699726698,"creation_date":1699640426,"question_id":77462109,"body_markdown":"Is it possible to use Lombok feature for a class which uses @Entity and @Table Annotation Here is the sample class.**\r\n\r\n    package test.model;\r\n    \r\n    import jakarta.persistence.Entity;\r\n    import jakarta.persistence.Id;\r\n    import jakarta.persistence.Table;\r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Getter;\r\n    import lombok.NoArgsConstructor;\r\n    import lombok.Setter;\r\n    import lombok.ToString;\r\n    \r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @ToString\r\n    @Entity\r\n    @Table(name=&quot;FUND_TRANSFER&quot;)\r\n    public class FundTransfer{\r\n    \t@Id \r\n    \tprivate @Getter @Setter String txId;\r\n    \tprivate @Getter @Setter String accountFrom;\r\n    \tprivate @Getter @Setter String accountTo;\r\n    \tprivate @Getter @Setter double amount;\r\n    \tprivate @Getter @Setter String beneficiaryName;\r\n    \tprivate @Getter @Setter String ifscCode;\r\n    }\r\n    \r\n    Repository class\r\n    package com.msnv.fundtransfer.repository;\r\n    \r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    import org.springframework.stereotype.Repository;\r\n    \r\n    import com.msnv.fundtransfer.model.FundTransfer;\r\n    \r\n    @Repository\r\n    public interface FundTransferRepository extends JpaRepository&lt;FundTransfer, String&gt; {\r\n    \t\r\n    }\r\n    \r\n    this is service class\r\n    \r\n    package test.service;\r\n    \r\n    import java.util.List;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    import com.msnv.fundtransfer.model.FundTransfer;\r\n    import com.msnv.fundtransfer.repository.FundTransferRepository;\r\n    \r\n    @Service\r\n    public class FundTransferServiceImpl implements FundTransferService {\r\n    \t\r\n    \t@Autowired\r\n    \tFundTransferRepository fundTransferRepository ;\r\n    \t\r\n    \t@Override\r\n    \tpublic FundTransfer processTx(FundTransfer ft) {\r\n    \t\treturn fundTransferRepository .save(ft);\r\n    \t}\r\n    \t@Override\r\n    \tpublic List&lt;FundTransfer&gt; getTx() {\r\n    \t\treturn fundTransferRepository.findAll();\r\n    \t}\r\n    }\r\n\r\nWhen calling  ftRepo.save(ft), getting following exception :\r\n\r\n\r\n    org.hibernate.id.IdentifierGenerationException: ids for this class must be manually assigned before calling save(): com.msnv.fundtransfer.model.FundTransfer\r\n    \tat org.hibernate.id.Assigned.generate(Assigned.java:33) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n    \tat org.hibernate.id.IdentifierGenerator.generate(IdentifierGenerator.java:147) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n    \tat org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:120) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n    \tat org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:175) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n    \tat org.hibernate.event.internal.DefaultPersistEventListener.persist(DefaultPersistEventListener.java:93) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n    \tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:77) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n    \tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:54) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n    \tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n    \tat org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:755) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n    \tat org.hibernate.internal.SessionImpl.persist(SessionImpl.java:739) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n    \tat org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:360) ~[spring-orm-6.0.13.jar:6.0.13]\r\n    \tat jdk.proxy2/jdk.proxy2.$Proxy99.persist(Unknown Source) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n    \tat org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311) ~[spring-orm-6.0.13.jar:6.0.13]\r\n    \tat jdk.proxy2/jdk.proxy2.$Proxy99.persist(Unknown Source) ~[na:na]\r\n    \tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:618) ~[spring-data-jpa-3.1.5.jar:3.1.5]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n    \tat org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:288) ~[spring-data-commons-3.1.5.jar:3.1.5]\r\n    \tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136) ~[spring-data-commons-3.1.5.jar:3.1.5]\r\n    \tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120) ~[spring-data-commons-3.1.5.jar:3.1.5]\r\n    \tat org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:516) ~[spring-data-commons-3.1.5.jar:3.1.5]\r\n    \tat org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-3.1.5.jar:3.1.5]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:628) ~[spring-data-commons-3.1.5.jar:3.1.5]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]\r\n    \tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:168) ~[spring-data-commons-3.1.5.jar:3.1.5]\r\n    \tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143) ~[spring-data-commons-3.1.5.jar:3.1.5]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]\r\n    \tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:72) ~[spring-data-commons-3.1.5.jar:3.1.5]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.0.13.jar:6.0.13]\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391) ~[spring-tx-6.0.13.jar:6.0.13]\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.13.jar:6.0.13]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]\r\n    \tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-6.0.13.jar:6.0.13]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]\r\n    \tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:164) ~[spring-data-jpa-3.1.5.jar:3.1.5]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]\r\n    \tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.13.jar:6.0.13]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]\r\n    \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:244) ~[spring-aop-6.0.13.jar:6.0.13]\r\n    \tat jdk.proxy2/jdk.proxy2.$Proxy103.save(Unknown Source) ~[na:na]\r\n    \tat com.msnv.fundtransfer.service.FundTransferServiceImpl.processTx(FundTransferServiceImpl.java:19) ~[classes/:na]\r\n    \tat com.msnv.fundtransfer.controller.FundTransferController.processFundTransfer(FundTransferController.java:23) ~[classes/:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-6.0.13.jar:6.0.13]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-6.0.13.jar:6.0.13]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.13.jar:6.0.13]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.13.jar:6.0.13]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.13.jar:6.0.13]\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.13.jar:6.0.13]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.13.jar:6.0.13]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.13.jar:6.0.13]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.13.jar:6.0.13]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.0.13.jar:6.0.13]\r\n    \tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.15.jar:6.0]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.13.jar:6.0.13]\r\n    \tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.15.jar:6.0]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.15.jar:10.1.15]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.13.jar:6.0.13]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n    \tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.13.jar:6.0.13]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.13.jar:6.0.13]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n    \tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n\r\n**\r\nWhen above service is called with value data is not getting stored in DB. Does JPA allows to use Lombok.FundTransfer class is using both JPA and Lombok. Can we solve this exception.**\r\n\r\n","title":"While Using lombok and JPA annotation Getting org.hibernate.id.IdentifierGenerationException","body":"<p>Is it possible to use Lombok feature for a class which uses @Entity and @Table Annotation Here is the sample class.**</p>\n<pre><code>package test.model;\n\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.Table;\nimport lombok.AllArgsConstructor;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\nimport lombok.ToString;\n\n@NoArgsConstructor\n@AllArgsConstructor\n@ToString\n@Entity\n@Table(name=&quot;FUND_TRANSFER&quot;)\npublic class FundTransfer{\n    @Id \n    private @Getter @Setter String txId;\n    private @Getter @Setter String accountFrom;\n    private @Getter @Setter String accountTo;\n    private @Getter @Setter double amount;\n    private @Getter @Setter String beneficiaryName;\n    private @Getter @Setter String ifscCode;\n}\n\nRepository class\npackage com.msnv.fundtransfer.repository;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\nimport com.msnv.fundtransfer.model.FundTransfer;\n\n@Repository\npublic interface FundTransferRepository extends JpaRepository&lt;FundTransfer, String&gt; {\n    \n}\n\nthis is service class\n\npackage test.service;\n\nimport java.util.List;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\nimport com.msnv.fundtransfer.model.FundTransfer;\nimport com.msnv.fundtransfer.repository.FundTransferRepository;\n\n@Service\npublic class FundTransferServiceImpl implements FundTransferService {\n    \n    @Autowired\n    FundTransferRepository fundTransferRepository ;\n    \n    @Override\n    public FundTransfer processTx(FundTransfer ft) {\n        return fundTransferRepository .save(ft);\n    }\n    @Override\n    public List&lt;FundTransfer&gt; getTx() {\n        return fundTransferRepository.findAll();\n    }\n}\n</code></pre>\n<p>When calling  ftRepo.save(ft), getting following exception :</p>\n<pre><code>org.hibernate.id.IdentifierGenerationException: ids for this class must be manually assigned before calling save(): com.msnv.fundtransfer.model.FundTransfer\n    at org.hibernate.id.Assigned.generate(Assigned.java:33) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.id.IdentifierGenerator.generate(IdentifierGenerator.java:147) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:120) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:175) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.event.internal.DefaultPersistEventListener.persist(DefaultPersistEventListener.java:93) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:77) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:54) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:755) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:739) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:360) ~[spring-orm-6.0.13.jar:6.0.13]\n    at jdk.proxy2/jdk.proxy2.$Proxy99.persist(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311) ~[spring-orm-6.0.13.jar:6.0.13]\n    at jdk.proxy2/jdk.proxy2.$Proxy99.persist(Unknown Source) ~[na:na]\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:618) ~[spring-data-jpa-3.1.5.jar:3.1.5]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:288) ~[spring-data-commons-3.1.5.jar:3.1.5]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136) ~[spring-data-commons-3.1.5.jar:3.1.5]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120) ~[spring-data-commons-3.1.5.jar:3.1.5]\n    at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:516) ~[spring-data-commons-3.1.5.jar:3.1.5]\n    at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-3.1.5.jar:3.1.5]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:628) ~[spring-data-commons-3.1.5.jar:3.1.5]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:168) ~[spring-data-commons-3.1.5.jar:3.1.5]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143) ~[spring-data-commons-3.1.5.jar:3.1.5]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]\n    at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:72) ~[spring-data-commons-3.1.5.jar:3.1.5]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.0.13.jar:6.0.13]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391) ~[spring-tx-6.0.13.jar:6.0.13]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.13.jar:6.0.13]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-6.0.13.jar:6.0.13]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:164) ~[spring-data-jpa-3.1.5.jar:3.1.5]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.13.jar:6.0.13]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:244) ~[spring-aop-6.0.13.jar:6.0.13]\n    at jdk.proxy2/jdk.proxy2.$Proxy103.save(Unknown Source) ~[na:na]\n    at com.msnv.fundtransfer.service.FundTransferServiceImpl.processTx(FundTransferServiceImpl.java:19) ~[classes/:na]\n    at com.msnv.fundtransfer.controller.FundTransferController.processFundTransfer(FundTransferController.java:23) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-6.0.13.jar:6.0.13]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-6.0.13.jar:6.0.13]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.13.jar:6.0.13]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.13.jar:6.0.13]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.13.jar:6.0.13]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.13.jar:6.0.13]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.13.jar:6.0.13]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.13.jar:6.0.13]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.13.jar:6.0.13]\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.0.13.jar:6.0.13]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.15.jar:6.0]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.13.jar:6.0.13]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.15.jar:6.0]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.15.jar:10.1.15]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.13.jar:6.0.13]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.13.jar:6.0.13]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.13.jar:6.0.13]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n</code></pre>\n<p>**\nWhen above service is called with value data is not getting stored in DB. Does JPA allows to use Lombok.FundTransfer class is using both JPA and Lombok. Can we solve this exception.**</p>\n"},{"tags":["java","spring-boot","rest","spring-data-jpa","jira-rest-java-api"],"owner":{"account_id":27908831,"reputation":1,"user_id":21311455,"display_name":"Siddharth "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699726481,"creation_date":1699725704,"question_id":77466224,"body_markdown":"My ms rest api existing code implemented with jpa repository and on top of this code I am implementing 2 more endpoint where I will need to use jdbc template for oracle  and impala jdbc template as well , I have created one repository configuration class as well to refer respective datasource in the form of bean, when I am running pod by placing impala datasource in repository configuration then getting below exception. How to rectify this error? I have added hibernate core n entity manager library it is not working for me.\r\n\r\n&gt; Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;jpaSharedEM_entityManagerFactory&#39;: Cannot resolve reference to bean &#39;entityManagerFactory&#39; while setting constructor argument\r\n\r\nI tried by adding hibernate core and entity manager library but it did not work for me.","title":"Error creating bean with name &#39;jpaSharedEM_entityManagerFactory&#39;: Cannt resolve ref to bean &#39;entityManagerFactory&#39; while setting constructor argument","body":"<p>My ms rest api existing code implemented with jpa repository and on top of this code I am implementing 2 more endpoint where I will need to use jdbc template for oracle  and impala jdbc template as well , I have created one repository configuration class as well to refer respective datasource in the form of bean, when I am running pod by placing impala datasource in repository configuration then getting below exception. How to rectify this error? I have added hibernate core n entity manager library it is not working for me.</p>\n<blockquote>\n<p>Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaSharedEM_entityManagerFactory': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument</p>\n</blockquote>\n<p>I tried by adding hibernate core and entity manager library but it did not work for me.</p>\n"},{"tags":["java","while-loop","try-catch"],"comments":[{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":1,"creation_date":1699714054,"post_id":77465492,"comment_id":136567455,"body_markdown":"Have you tried moving the `try-catch-block` inside the `while-block` ?  Also see `Random.nextInt(1000)+1` for a more concise form of your random generation.","body":"Have you tried moving the <code>try-catch-block</code> inside the <code>while-block</code> ?  Also see <code>Random.nextInt(1000)+1</code> for a more concise form of your random generation."}],"answers":[{"tags":[],"owner":{"account_id":12504662,"reputation":11,"user_id":9101884,"display_name":"淡淡薄荷丶微微凉"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699714564,"creation_date":1699714564,"answer_id":77465583,"question_id":77465492,"body_markdown":"This may be what you want?\r\n\r\n    public static void main(String[] args) {\r\n\r\n        System.out.println(&quot;Welcome!&quot;);\r\n\r\n        int min = 1;\r\n        int max = 1000;\r\n\r\n        int randomNumber = (int) (Math.random() * (max - min) + 1) + min;\r\n\r\n        int firstDraw = 1;\r\n        int maxDraw = 1000;\r\n\r\n\r\n            while (firstDraw &lt; maxDraw) {\r\n\r\n                System.out.println(&quot;Please enter your guess: &quot;);\r\n\r\n                try {\r\n                    Scanner scanner = new Scanner(System.in);\r\n                    int guessingNumber = scanner.nextInt();\r\n\r\n                    if (guessingNumber &lt; randomNumber) {\r\n                        System.out.println(&quot;Too small!&quot;);\r\n                    } else if (guessingNumber &gt; randomNumber) {\r\n                        System.out.println(&quot;Too big!&quot;);\r\n                    } else {\r\n                        System.out.println(&quot;You win&quot;);\r\n                        break;\r\n                    }\r\n                    firstDraw++;\r\n\r\n                } catch (InputMismatchException e){\r\n                    System.out.println(&quot;Not a number - try again!&quot;);\r\n                }\r\n\r\n            }\r\n\r\n    }","title":"Continuing while loop after catching an InputMissMatchException, Java","body":"<p>This may be what you want?</p>\n<pre><code>public static void main(String[] args) {\n\n    System.out.println(&quot;Welcome!&quot;);\n\n    int min = 1;\n    int max = 1000;\n\n    int randomNumber = (int) (Math.random() * (max - min) + 1) + min;\n\n    int firstDraw = 1;\n    int maxDraw = 1000;\n\n\n        while (firstDraw &lt; maxDraw) {\n\n            System.out.println(&quot;Please enter your guess: &quot;);\n\n            try {\n                Scanner scanner = new Scanner(System.in);\n                int guessingNumber = scanner.nextInt();\n\n                if (guessingNumber &lt; randomNumber) {\n                    System.out.println(&quot;Too small!&quot;);\n                } else if (guessingNumber &gt; randomNumber) {\n                    System.out.println(&quot;Too big!&quot;);\n                } else {\n                    System.out.println(&quot;You win&quot;);\n                    break;\n                }\n                firstDraw++;\n\n            } catch (InputMismatchException e){\n                System.out.println(&quot;Not a number - try again!&quot;);\n            }\n\n        }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1699725373,"creation_date":1699719174,"answer_id":77465856,"question_id":77465492,"body_markdown":"&gt; _&quot;... After catching an exception the program ends, but i want to continue the loop. ...&quot;_\r\n\r\nUse the _[Scanner#next](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Scanner.html#next())_, and _[Integer#parseInt](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Integer.html#parseInt(java.lang.String))_, methods.\\\r\nAnd, place the _try-catch_ within the _loop_.\r\n\r\nAdditionally, when the correct value is guessed, _break_ the _loop_.\r\n\r\nNote that the _parseInt_ method throws a _NumberFormatException_, and not a _InputMismatchException_.\r\n\r\n```java\r\nwhile (firstDraw &lt; maxDraw) {\r\n\r\n    System.out.println(&quot;Please enter your guess: &quot;);\r\n\r\n    try {\r\n        int guessingNumber = Integer.parseInt(scanner.next());\r\n\r\n        if (guessingNumber &lt; randomNumber) {\r\n            System.out.println(&quot;Too small!&quot;);\r\n        } else if (guessingNumber &gt; randomNumber) {\r\n            System.out.println(&quot;Too big!&quot;);\r\n        } else {\r\n            System.out.println(&quot;You win&quot;);\r\n            break;\r\n        }\r\n        firstDraw++;\r\n    } catch (NumberFormatException e){\r\n        System.out.println(&quot;Not a number - try again!&quot;);\r\n    }\r\n}\r\n```\r\n\r\nOutput\r\n\r\n```none\r\nWelcome!\r\nPlease enter your guess: \r\nabc\r\nNot a number - try again!\r\nPlease enter your guess: \r\n123\r\nToo small!\r\nPlease enter your guess: \r\n456\r\nToo big!\r\nPlease enter your guess: \r\n241\r\nYou win\r\n```\r\n\r\nOn a final note, you can utilize the _[RandomGenerator#nextInt](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/random/RandomGenerator.html#nextInt(int,int))_ method, to specify a bounds.\r\n\r\n```java\r\nint randomNumber = new Random().nextInt(min, max + 1);\r\n```","title":"Continuing while loop after catching an InputMissMatchException, Java","body":"<blockquote>\n<p><em>&quot;... After catching an exception the program ends, but i want to continue the loop. ...&quot;</em></p>\n</blockquote>\n<p>Use the <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Scanner.html#next()\" rel=\"nofollow noreferrer\">Scanner#next</a></em>, and <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Integer.html#parseInt(java.lang.String)\" rel=\"nofollow noreferrer\">Integer#parseInt</a></em>, methods.<br />\nAnd, place the <em>try-catch</em> within the <em>loop</em>.</p>\n<p>Additionally, when the correct value is guessed, <em>break</em> the <em>loop</em>.</p>\n<p>Note that the <em>parseInt</em> method throws a <em>NumberFormatException</em>, and not a <em>InputMismatchException</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>while (firstDraw &lt; maxDraw) {\n\n    System.out.println(&quot;Please enter your guess: &quot;);\n\n    try {\n        int guessingNumber = Integer.parseInt(scanner.next());\n\n        if (guessingNumber &lt; randomNumber) {\n            System.out.println(&quot;Too small!&quot;);\n        } else if (guessingNumber &gt; randomNumber) {\n            System.out.println(&quot;Too big!&quot;);\n        } else {\n            System.out.println(&quot;You win&quot;);\n            break;\n        }\n        firstDraw++;\n    } catch (NumberFormatException e){\n        System.out.println(&quot;Not a number - try again!&quot;);\n    }\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>Welcome!\nPlease enter your guess: \nabc\nNot a number - try again!\nPlease enter your guess: \n123\nToo small!\nPlease enter your guess: \n456\nToo big!\nPlease enter your guess: \n241\nYou win\n</code></pre>\n<p>On a final note, you can utilize the <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/random/RandomGenerator.html#nextInt(int,int)\" rel=\"nofollow noreferrer\">RandomGenerator#nextInt</a></em> method, to specify a bounds.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int randomNumber = new Random().nextInt(min, max + 1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9834179,"reputation":13,"user_id":7285079,"display_name":"Oskar Ray-Frayssinet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699721108,"creation_date":1699721108,"answer_id":77465970,"question_id":77465492,"body_markdown":"I understand your problem:\r\n\r\n 1. the try-catch needs to be inside the while-loop and not the reverse. \r\n\r\n 2. the scanner.nextInt() needs a scanner.nextLine() just below it like so: [click to see code example][1].\r\n\r\n 3. you need a scanner.nextLine() inside the catch-statement: [click to see code example][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YvRhh.png\r\n  [2]: https://i.stack.imgur.com/AbNgR.png","title":"Continuing while loop after catching an InputMissMatchException, Java","body":"<p>I understand your problem:</p>\n<ol>\n<li><p>the try-catch needs to be inside the while-loop and not the reverse.</p>\n</li>\n<li><p>the scanner.nextInt() needs a scanner.nextLine() just below it like so: <a href=\"https://i.stack.imgur.com/YvRhh.png\" rel=\"nofollow noreferrer\">click to see code example</a>.</p>\n</li>\n<li><p>you need a scanner.nextLine() inside the catch-statement: <a href=\"https://i.stack.imgur.com/AbNgR.png\" rel=\"nofollow noreferrer\">click to see code example</a></p>\n</li>\n</ol>\n"}],"owner":{"account_id":17836236,"reputation":1,"user_id":12955180,"display_name":"nostradamus"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77465856,"answer_count":3,"score":-1,"last_activity_date":1699725373,"creation_date":1699713346,"question_id":77465492,"body_markdown":"I&#39;m new in Java and have a problem after catching an exception. After catching an exception the program ends, but i want to continue the loop. The use of the program is that a user type in numbers between 1 and 10 through a scanner until the typed number is equal to the random number defined before.\r\n\r\n```\r\npublic class GuessingGame {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        System.out.println(&quot;Welcome!&quot;);\r\n\r\n        int min = 1;\r\n        int max = 1000;\r\n\r\n        int randomNumber = (int) (Math.random() * (max - min) + 1) + min;\r\n\r\n        Scanner scanner = new Scanner(System.in);\r\n\r\n        int firstDraw = 1;\r\n        int maxDraw = 1000;\r\n\r\n        try {\r\n\r\n            while (firstDraw &lt; maxDraw) {\r\n\r\n                System.out.println(&quot;Please enter your guess: &quot;);\r\n\r\n                int guessingNumber = scanner.nextInt();\r\n\r\n                if (guessingNumber &lt; randomNumber) {\r\n                    System.out.println(&quot;Too small!&quot;);\r\n                } else if (guessingNumber &gt; randomNumber) {\r\n                    System.out.println(&quot;Too big!&quot;);\r\n                } else {\r\n                    System.out.println(&quot;You win&quot;);\r\n                }\r\n                firstDraw++;\r\n            }\r\n        } catch (InputMismatchException e){\r\n            System.out.println(&quot;Not a number - try again!&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI guess the problem is, where im going to place the try-catch block. I tried several possibilities but i dont get the right solution. If I just type in numbers, the program works and it ends until i guessed the right number. But if i use letters instead of numbers, it ends the program. I also saw some similiar problems asked before but i really don&#39;t get it\r\n\r\nThy for your help fellows :)","title":"Continuing while loop after catching an InputMissMatchException, Java","body":"<p>I'm new in Java and have a problem after catching an exception. After catching an exception the program ends, but i want to continue the loop. The use of the program is that a user type in numbers between 1 and 10 through a scanner until the typed number is equal to the random number defined before.</p>\n<pre><code>public class GuessingGame {\n\n    public static void main(String[] args) {\n\n        System.out.println(&quot;Welcome!&quot;);\n\n        int min = 1;\n        int max = 1000;\n\n        int randomNumber = (int) (Math.random() * (max - min) + 1) + min;\n\n        Scanner scanner = new Scanner(System.in);\n\n        int firstDraw = 1;\n        int maxDraw = 1000;\n\n        try {\n\n            while (firstDraw &lt; maxDraw) {\n\n                System.out.println(&quot;Please enter your guess: &quot;);\n\n                int guessingNumber = scanner.nextInt();\n\n                if (guessingNumber &lt; randomNumber) {\n                    System.out.println(&quot;Too small!&quot;);\n                } else if (guessingNumber &gt; randomNumber) {\n                    System.out.println(&quot;Too big!&quot;);\n                } else {\n                    System.out.println(&quot;You win&quot;);\n                }\n                firstDraw++;\n            }\n        } catch (InputMismatchException e){\n            System.out.println(&quot;Not a number - try again!&quot;);\n        }\n    }\n}\n</code></pre>\n<p>I guess the problem is, where im going to place the try-catch block. I tried several possibilities but i dont get the right solution. If I just type in numbers, the program works and it ends until i guessed the right number. But if i use letters instead of numbers, it ends the program. I also saw some similiar problems asked before but i really don't get it</p>\n<p>Thy for your help fellows :)</p>\n"},{"tags":["java","xml"],"comments":[{"owner":{"account_id":6156307,"reputation":33586,"user_id":5015238,"display_name":"jdweng"},"score":0,"creation_date":1699701617,"post_id":77464425,"comment_id":136566365,"body_markdown":"Why are you using object instead of book? XMLObject obj = fac.newXMLObject(Collections.singletonList(content), &quot;object&quot;, (String) null, (String) null);","body":"Why are you using object instead of book? XMLObject obj = fac.newXMLObject(Collections.singletonList(content), &quot;object&quot;, (String) null, (String) null);"},{"owner":{"account_id":29877843,"reputation":1,"user_id":22897558,"display_name":"user22897558"},"score":0,"creation_date":1699853479,"post_id":77464425,"comment_id":136578601,"body_markdown":"@jdweng\nThis should include or not replace. It seem like the syntax of enveloping xml signature.","body":"@jdweng This should include or not replace. It seem like the syntax of enveloping xml signature."},{"owner":{"account_id":6156307,"reputation":33586,"user_id":5015238,"display_name":"jdweng"},"score":0,"creation_date":1699868866,"post_id":77464425,"comment_id":136580496,"body_markdown":"See following : https://www.oracle.com/technical-resources/articles/java/dig-signature-api.html or this https://stackoverflow.com/questions/12528667/xml-digital-signature-java","body":"See following : <a href=\"https://www.oracle.com/technical-resources/articles/java/dig-signature-api.html\" rel=\"nofollow noreferrer\">oracle.com/technical-resources/articles/java/&hellip;</a> or this <a href=\"https://stackoverflow.com/questions/12528667/xml-digital-signature-java\" title=\"xml digital signature java\">stackoverflow.com/questions/12528667/xml-digital-signature-j&zwnj;&#8203;ava</a>"}],"owner":{"account_id":29877843,"reputation":1,"user_id":22897558,"display_name":"user22897558"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699725272,"creation_date":1699692530,"question_id":77464425,"body_markdown":"```\r\n            DigestMethod sm3DigMethod = fac.newDigestMethod(DOMDigestMethod.SM3, null);\r\n\r\n\r\n            \r\n            DocumentBuilderFactory docBuilderFactory = DocumentBuilderFactory.newInstance();\r\n            docBuilderFactory.setNamespaceAware(true);\r\n            Document signatureDoc = docBuilderFactory.newDocumentBuilder().parse(new ByteArrayInputStream(data));\r\n            XMLStructure content = new DOMStructure(signatureDoc.getDocumentElement());\r\n            XMLObject obj = fac.newXMLObject(Collections.singletonList(content), &quot;object&quot;, (String) null, (String) null);\r\n\r\n            \r\n            CanonicalizationMethod c14nWithCommentMethod =\r\n                    fac.newCanonicalizationMethod(&quot;http://127.0.0.1/TR/2001/REC-xml-c14n-20010315#WithComments&quot;, (C14NMethodParameterSpec) null);\r\n            \r\n            SignatureMethod sm2_sm3SigMethod = fac.newSignatureMethod(DOMSignatureMethod.SM2_SM3, null);\r\n            \r\n            SignedInfo signedInfo = fac.newSignedInfo(c14nWithCommentMethod, sm2_sm3SigMethod, Collections.singletonList(refToRootDoc));\r\n\r\n            KeyInfoFactory keyInfoFac = fac.getKeyInfoFactory();\r\n            KeyValue keyValue = keyInfoFac.newKeyValue(publicKey);\r\n            KeyInfo keyInfo = keyInfoFac.newKeyInfo(Collections.singletonList(keyValue));\r\n            \r\n            XMLSignature signature = fac.newXMLSignature(signedInfo, keyInfo, Collections.singletonList(obj), null, null);\r\n\r\n\r\n            DOMSignContext dsc = new DOMSignContext(privateKey, signatureDoc);\r\n\r\n            \r\n            signature.sign(dsc);\r\n```\r\n\r\nWhen signing: original data is \r\n[enter image description here][1]\r\n\r\nwhen verifing: original data is \r\n[enter image description here][2]\r\n\r\nI feel like there is a problem with the code in the signature section,hope it can be signed using the actual original text. What do I need to do\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/f0qef.png\r\n  [2]: https://i.stack.imgur.com/zuPZb.png","title":"How to solve the diffenece of originaldata when enveloping xml signature between sign and verify?","body":"<pre><code>            DigestMethod sm3DigMethod = fac.newDigestMethod(DOMDigestMethod.SM3, null);\n\n\n            \n            DocumentBuilderFactory docBuilderFactory = DocumentBuilderFactory.newInstance();\n            docBuilderFactory.setNamespaceAware(true);\n            Document signatureDoc = docBuilderFactory.newDocumentBuilder().parse(new ByteArrayInputStream(data));\n            XMLStructure content = new DOMStructure(signatureDoc.getDocumentElement());\n            XMLObject obj = fac.newXMLObject(Collections.singletonList(content), &quot;object&quot;, (String) null, (String) null);\n\n            \n            CanonicalizationMethod c14nWithCommentMethod =\n                    fac.newCanonicalizationMethod(&quot;http://127.0.0.1/TR/2001/REC-xml-c14n-20010315#WithComments&quot;, (C14NMethodParameterSpec) null);\n            \n            SignatureMethod sm2_sm3SigMethod = fac.newSignatureMethod(DOMSignatureMethod.SM2_SM3, null);\n            \n            SignedInfo signedInfo = fac.newSignedInfo(c14nWithCommentMethod, sm2_sm3SigMethod, Collections.singletonList(refToRootDoc));\n\n            KeyInfoFactory keyInfoFac = fac.getKeyInfoFactory();\n            KeyValue keyValue = keyInfoFac.newKeyValue(publicKey);\n            KeyInfo keyInfo = keyInfoFac.newKeyInfo(Collections.singletonList(keyValue));\n            \n            XMLSignature signature = fac.newXMLSignature(signedInfo, keyInfo, Collections.singletonList(obj), null, null);\n\n\n            DOMSignContext dsc = new DOMSignContext(privateKey, signatureDoc);\n\n            \n            signature.sign(dsc);\n</code></pre>\n<p>When signing: original data is\n<a href=\"https://i.stack.imgur.com/f0qef.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>when verifing: original data is\n<a href=\"https://i.stack.imgur.com/zuPZb.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I feel like there is a problem with the code in the signature section,hope it can be signed using the actual original text. What do I need to do</p>\n"},{"tags":["java","spring-boot","spring-mvc","spring-framework-beans"],"comments":[{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1699726003,"post_id":77466179,"comment_id":136568740,"body_markdown":"The exception is not related to your project. Don&#39;t post images with error messages if they can be posted as text.","body":"The exception is not related to your project. Don&#39;t post images with error messages if they can be posted as text."},{"owner":{"account_id":29880659,"reputation":1,"user_id":22899671,"display_name":"krishn murari"},"score":0,"creation_date":1699727895,"post_id":77466179,"comment_id":136568962,"body_markdown":"ok, but how can I resolve this issue?","body":"ok, but how can I resolve this issue?"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":1,"creation_date":1699728361,"post_id":77466179,"comment_id":136569006,"body_markdown":"If you have an idea how to resolve this issue you should add it to the question. Without details and the defined problem is not possible to find a solution.","body":"If you have an idea how to resolve this issue you should add it to the question. Without details and the defined problem is not possible to find a solution."}],"owner":{"account_id":29880659,"reputation":1,"user_id":22899671,"display_name":"krishn murari"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699725043,"creation_date":1699724958,"question_id":77466179,"body_markdown":"[enter image description here][1]this is error image.I am getting error and warning from spring tool suit when, I am creating mvc project. can someone please help me how to figure out from this issue?\r\n\r\nsuggestion and solution.  (WAR Validation Failed: org.eclipse.jst.j2ee.commonarchivecore.internal.exception.DeploymentDescriptorLoadException: WEB-INF/web.xml)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8eAE1.png","title":"WAR Validation Failed: org.eclipse.jst.j2ee.commonarchivecore.internal.exception.DeploymentDescriptorLoadException: WEB-INF/web.xml","body":"<p><a href=\"https://i.stack.imgur.com/8eAE1.png\" rel=\"nofollow noreferrer\">enter image description here</a>this is error image.I am getting error and warning from spring tool suit when, I am creating mvc project. can someone please help me how to figure out from this issue?</p>\n<p>suggestion and solution.  (WAR Validation Failed: org.eclipse.jst.j2ee.commonarchivecore.internal.exception.DeploymentDescriptorLoadException: WEB-INF/web.xml)</p>\n"},{"tags":["java","spring","spring-mvc","swagger"],"comments":[{"owner":{"account_id":11377012,"reputation":12762,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1699771952,"post_id":77458782,"comment_id":136571763,"body_markdown":"Can you share your project via github for a quicker resolution?","body":"Can you share your project via github for a quicker resolution?"}],"answers":[{"tags":[],"owner":{"account_id":12656865,"reputation":29,"user_id":9199121,"display_name":"Shuchi Sinha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699608007,"creation_date":1699607638,"answer_id":77458864,"question_id":77458782,"body_markdown":"Can you please change the URL pattern in your Swagger configuration to match the actual URL of your API endpoints and restart the tomcat.\r\n```@Override\r\npublic void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n    registry.addResourceHandler(&quot;/kes/v1.0/swagger-ui/**&quot;)\r\n            .addResourceLocations(&quot;classpath:/META-INF/resources/webjars/springfox-swagger-ui/&quot;);\r\n}\r\n","title":"How do we modify Controller API request URL in Swagger?","body":"<p>Can you please change the URL pattern in your Swagger configuration to match the actual URL of your API endpoints and restart the tomcat.</p>\n<pre><code>public void addResourceHandlers(ResourceHandlerRegistry registry) {\n    registry.addResourceHandler(&quot;/kes/v1.0/swagger-ui/**&quot;)\n            .addResourceLocations(&quot;classpath:/META-INF/resources/webjars/springfox-swagger-ui/&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":13919183,"reputation":83,"user_id":10050092,"display_name":"Nitish K"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1699724872,"creation_date":1699606787,"question_id":77458782,"body_markdown":"I&#39;m working on Swagger implementation for Java Spring MVC project.(NON-Spring Boot project, manually deploy on tomcat 9.0v)\r\n```\r\nURL for Swagger : http://localhost:8080/kes/v1.0/swagger-ui/index.html\r\n```\r\nso when hitting any Controller API, the request URL the Swagger forms is this\r\n \r\n```\r\nActual   : http://localhost:8080/v1.0/kes/swagger-ui/index.html\r\nExpected : http://localhost:8080/kes/v1.0/swagger-ui/index.html\r\n\r\nactual /v1.0/kes/\r\nexpected /kes/v1.0/\r\n```\r\nDue to this issue I m getting 404 error.\r\nI tried multiple options inclueding change url pattern in web.xml, but didn&#39;t resolve. \r\n\r\n\r\n```\r\n  &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n\t\t\t&lt;!--scope&gt;compile&lt;/scope--&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n\r\nConfiguration is this \r\n\r\n```\r\npackage com.pen.lis.config;\r\n\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.web.servlet.config.annotation.EnableWebMvc;\r\nimport org.springframework.web.servlet.config.annotation.ResourceHandlerRegistry;\r\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\r\nimport springfox.documentation.builders.RequestHandlerSelectors;\r\nimport springfox.documentation.spi.DocumentationType;\r\nimport springfox.documentation.spring.web.plugins.Docket;\r\nimport springfox.documentation.swagger2.annotations.EnableSwagger2;\r\n\r\n@Configuration\r\n@EnableSwagger2\r\n@EnableWebMvc\r\npublic class SwaggerConfig implements WebMvcConfigurer {\r\n\r\n\t@Override\r\n\tpublic void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n\t\tregistry.addResourceHandler(&quot;/swagger-ui/**&quot;)\r\n\t\t.addResourceLocations(&quot;classpath:/META-INF/resources/webjars/springfox-swagger-ui/&quot;);\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic Docket productApi() {\r\n\t\treturn new Docket(DocumentationType.SWAGGER_2)\r\n\t\t\t\t.select()\r\n\t\t\t\t.apis(RequestHandlerSelectors.basePackage(&quot;com.eds.kes.controller&quot;)).build();\r\n\t}\r\n}\r\n```","title":"How do we modify Controller API request URL in Swagger?","body":"<p>I'm working on Swagger implementation for Java Spring MVC project.(NON-Spring Boot project, manually deploy on tomcat 9.0v)</p>\n<pre><code>URL for Swagger : http://localhost:8080/kes/v1.0/swagger-ui/index.html\n</code></pre>\n<p>so when hitting any Controller API, the request URL the Swagger forms is this</p>\n<pre><code>Actual   : http://localhost:8080/v1.0/kes/swagger-ui/index.html\nExpected : http://localhost:8080/kes/v1.0/swagger-ui/index.html\n\nactual /v1.0/kes/\nexpected /kes/v1.0/\n</code></pre>\n<p>Due to this issue I m getting 404 error.\nI tried multiple options inclueding change url pattern in web.xml, but didn't resolve.</p>\n<pre><code>  &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n            &lt;!--scope&gt;compile&lt;/scope--&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Configuration is this</p>\n<pre><code>package com.pen.lis.config;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.web.servlet.config.annotation.EnableWebMvc;\nimport org.springframework.web.servlet.config.annotation.ResourceHandlerRegistry;\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\nimport springfox.documentation.builders.RequestHandlerSelectors;\nimport springfox.documentation.spi.DocumentationType;\nimport springfox.documentation.spring.web.plugins.Docket;\nimport springfox.documentation.swagger2.annotations.EnableSwagger2;\n\n@Configuration\n@EnableSwagger2\n@EnableWebMvc\npublic class SwaggerConfig implements WebMvcConfigurer {\n\n    @Override\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\n        registry.addResourceHandler(&quot;/swagger-ui/**&quot;)\n        .addResourceLocations(&quot;classpath:/META-INF/resources/webjars/springfox-swagger-ui/&quot;);\n    }\n\n    @Bean\n    public Docket productApi() {\n        return new Docket(DocumentationType.SWAGGER_2)\n                .select()\n                .apis(RequestHandlerSelectors.basePackage(&quot;com.eds.kes.controller&quot;)).build();\n    }\n}\n</code></pre>\n"},{"tags":["java","annotations"],"comments":[{"owner":{"account_id":471003,"reputation":20684,"user_id":878514,"accept_rate":73,"display_name":"fracz"},"score":1,"creation_date":1451981453,"post_id":24681223,"comment_id":56959017,"body_markdown":"Possible duplicate of [Error setting a default null value for an annotation&#39;s field](http://stackoverflow.com/questions/1178104/error-setting-a-default-null-value-for-an-annotations-field)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/1178104/error-setting-a-default-null-value-for-an-annotations-field\">Error setting a default null value for an annotation&#39;s field</a>"}],"answers":[{"tags":[],"owner":{"account_id":195331,"reputation":275368,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"down_vote_count":0,"up_vote_count":34,"is_accepted":true,"score":34,"last_activity_date":1405008304,"creation_date":1405008304,"answer_id":24681305,"question_id":24681223,"body_markdown":"No, you can&#39;t use `null` for an annotation attribute value. However you can use an array type and provide an empty array.\r\n\r\n\r\n    public @interface Foo {\r\n        Config[] value();  \r\n    }\r\n    ...\r\n    @Foo(value = {})\r\n\r\nor \r\n\r\n    public @interface Foo {\r\n        Config[] value() default {};  \r\n    }\r\n    ...\r\n    @Foo\r\n","title":"Annotation default &quot;null&quot; value","body":"<p>No, you can't use <code>null</code> for an annotation attribute value. However you can use an array type and provide an empty array.</p>\n\n<pre><code>public @interface Foo {\n    Config[] value();  \n}\n...\n@Foo(value = {})\n</code></pre>\n\n<p>or </p>\n\n<pre><code>public @interface Foo {\n    Config[] value() default {};  \n}\n...\n@Foo\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16407507,"reputation":69,"user_id":11851707,"display_name":"jepac daemon"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1564398003,"creation_date":1564395719,"answer_id":57251785,"question_id":24681223,"body_markdown":"try that:\r\n```\r\nConfig value() default @Config();\r\n```","title":"Annotation default &quot;null&quot; value","body":"<p>try that:</p>\n\n<pre><code>Config value() default @Config();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22604872,"reputation":2005,"user_id":16785907,"display_name":"Mikhail2048"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699724717,"creation_date":1699724717,"answer_id":77466165,"question_id":24681223,"body_markdown":"The @Sotirios Delimanolis answer is correct, but I would like to explain on why this restriction even exists.\r\n\r\nIn Java, annotation attribute values cannot be `null` because the [JLS defines][1] that annotation attributes must have a constant value ***known at compile-time***. Therefore, an annotation attribute can possibly be:\r\n\r\n1. A constant expression that is known at compile-time (like `1`, `&quot;Hello&quot;`, `Month.JULY`, etc.)\r\n2. An element value pair (afaik it is like other annotations `@Config`)\r\n3. An array initializer (like `{1, 2, 3}`)\r\n\r\nAs you see, `null` [is not considered as a value known at compile-time][2]. Therefore you have this restriction. So it&#39;s not that `null` is somehow specifically excluded as an annotation value by language developers, it&#39;s just not considered to be known at compile time :)   \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se8/html/jls-9.html#jls-9.7.1\r\n  [2]: https://docs.oracle.com/javase/specs/jls/se16/html/jls-15.html#jls-15.8.1","title":"Annotation default &quot;null&quot; value","body":"<p>The @Sotirios Delimanolis answer is correct, but I would like to explain on why this restriction even exists.</p>\n<p>In Java, annotation attribute values cannot be <code>null</code> because the <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-9.html#jls-9.7.1\" rel=\"nofollow noreferrer\">JLS defines</a> that annotation attributes must have a constant value <em><strong>known at compile-time</strong></em>. Therefore, an annotation attribute can possibly be:</p>\n<ol>\n<li>A constant expression that is known at compile-time (like <code>1</code>, <code>&quot;Hello&quot;</code>, <code>Month.JULY</code>, etc.)</li>\n<li>An element value pair (afaik it is like other annotations <code>@Config</code>)</li>\n<li>An array initializer (like <code>{1, 2, 3}</code>)</li>\n</ol>\n<p>As you see, <code>null</code> <a href=\"https://docs.oracle.com/javase/specs/jls/se16/html/jls-15.html#jls-15.8.1\" rel=\"nofollow noreferrer\">is not considered as a value known at compile-time</a>. Therefore you have this restriction. So it's not that <code>null</code> is somehow specifically excluded as an annotation value by language developers, it's just not considered to be known at compile time :)</p>\n"}],"owner":{"account_id":977031,"reputation":15734,"user_id":997851,"accept_rate":60,"display_name":"sockeqwe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30129,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":24681305,"answer_count":3,"score":26,"last_activity_date":1699724717,"creation_date":1405008111,"question_id":24681223,"body_markdown":"Is it possible to specify a annotation with a null as default?\r\n\r\n\r\nWhat I want to achieve is something like optional annotation attributes.\r\n\r\nFor example\r\n\r\n    public @interface Foo {\r\n    \r\n        Config value();\r\n    \r\n    }\r\n\r\n\r\n    public @interface Config {\r\n    \r\n        boolean ignoreUnknown() default false;\r\n        int steps() default 2;\r\n    }\r\n\r\n\r\nI would like to use @Foo (without specifying the value, so it should be some kind of optional) and I would also like to be able to write something like this: \r\n\r\n    @Foo (\r\n        @Config(\r\n            ignoreUnknown = true,\r\n            steps = 10\r\n        )\r\n    )\r\n\r\n\r\nIs it possible to do something like this with annotations?\r\n\r\nI don&#39;t want to do something like this\r\n\r\n    public @interface Foo {\r\n    \r\n       boolean ignoreUnknown() default false;\r\n       int steps() default 2;\r\n    }\r\n\r\nbecause I want to be able to distinguish if a property has been set or not (and not if it has the default value or not).\r\n\r\nIt&#39;s a little bit complicated to describe, but I&#39;m working on a little Annotation Processor which generates Java code. However at runtime I would like to setup a default config that should be used for all @Foo, excepted those who have set own configuration with @Config.\r\n\r\n\r\n so what I want is something like this:\r\n\r\n    public @interface Foo {\r\n        \r\n           Config value() default null;\r\n        \r\n     }\r\n\r\n\r\n\r\nBut as far as I know its not possible, right? Does anybody knows a workaround for such an optional attribute?\r\n","title":"Annotation default &quot;null&quot; value","body":"<p>Is it possible to specify a annotation with a null as default?</p>\n\n<p>What I want to achieve is something like optional annotation attributes.</p>\n\n<p>For example</p>\n\n<pre><code>public @interface Foo {\n\n    Config value();\n\n}\n\n\npublic @interface Config {\n\n    boolean ignoreUnknown() default false;\n    int steps() default 2;\n}\n</code></pre>\n\n<p>I would like to use @Foo (without specifying the value, so it should be some kind of optional) and I would also like to be able to write something like this: </p>\n\n<pre><code>@Foo (\n    @Config(\n        ignoreUnknown = true,\n        steps = 10\n    )\n)\n</code></pre>\n\n<p>Is it possible to do something like this with annotations?</p>\n\n<p>I don't want to do something like this</p>\n\n<pre><code>public @interface Foo {\n\n   boolean ignoreUnknown() default false;\n   int steps() default 2;\n}\n</code></pre>\n\n<p>because I want to be able to distinguish if a property has been set or not (and not if it has the default value or not).</p>\n\n<p>It's a little bit complicated to describe, but I'm working on a little Annotation Processor which generates Java code. However at runtime I would like to setup a default config that should be used for all @Foo, excepted those who have set own configuration with @Config.</p>\n\n<p>so what I want is something like this:</p>\n\n<pre><code>public @interface Foo {\n\n       Config value() default null;\n\n }\n</code></pre>\n\n<p>But as far as I know its not possible, right? Does anybody knows a workaround for such an optional attribute?</p>\n"},{"tags":["java","android","dictionary","osmdroid"],"answers":[{"tags":[],"owner":{"account_id":7288661,"reputation":357,"user_id":5555912,"accept_rate":29,"display_name":"ivanovd422"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1549546084,"creation_date":1549546084,"answer_id":54574456,"question_id":54574152,"body_markdown":"For removing specific marker you should use:\r\n\r\n        mapView.getOverlays().remove(overlay);\r\n        mapView.invalidate();\r\n\r\n","title":"How to remove Markers from Osmdroid Map","body":"<p>For removing specific marker you should use:</p>\n\n<pre><code>    mapView.getOverlays().remove(overlay);\n    mapView.invalidate();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8630547,"reputation":416,"user_id":6462285,"display_name":"Mehran Mahmoudkhani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559478634,"creation_date":1559478634,"answer_id":56415036,"question_id":54574152,"body_markdown":"There is Another way of adding and removing items.\r\n\r\nfirst, you need this snippet : \r\n\r\n    ArrayList&lt;OverlayItem&gt; items = items = new ArrayList&lt;OverlayItem&gt;();\r\n    ItemizedOverlayWithFocus&lt;OverlayItem&gt; mOverlay = mOverlay = new ItemizedOverlayWithFocus&lt;OverlayItem&gt;(items,\r\n                new ItemizedIconOverlay.OnItemGestureListener&lt;OverlayItem&gt;() {\r\n                    @Override\r\n                    public boolean onItemSingleTapUp(final int position, final OverlayItem item) {\r\n                        //do something\r\n                        return true;\r\n                    }\r\n                    @Override\r\n                    public boolean onItemLongPress(final int position, final OverlayItem item) {\r\n                        return false;\r\n                    }\r\n                }, getApplicationContext());\r\n     mOverlay.setFocusItemsOnTap(true);\r\n\r\n\r\nto add items before app starting, use this code :\r\n\r\n    mOverlay.addItem(new OverlayItem(&quot;Title&quot;, &quot;Description&quot;, new \r\n    GeoPoint(31.7359474,55.4384632))); \r\n\r\n    map.getOverlays().add(mOverlay);\r\n\r\nwhile running the app you can **add more items** with below code : \r\n\r\n    mOverlay.addItem(new OverlayItem(&quot;new Title&quot;, &quot;new Description&quot;, new GeoPoint(Latitude,Longitude)));\r\n\r\nremoving items while the app is running with below code : \r\n\r\n    mOverlay.removeItem(int position);\r\n\r\n\r\nthe `position` is the n-th item you added to list.you can put remove code into  `onItemSingleTapUp`that we use up in this answer, that means when you tap on item it will remove from screen.\r\n\r\n","title":"How to remove Markers from Osmdroid Map","body":"<p>There is Another way of adding and removing items.</p>\n\n<p>first, you need this snippet : </p>\n\n<pre><code>ArrayList&lt;OverlayItem&gt; items = items = new ArrayList&lt;OverlayItem&gt;();\nItemizedOverlayWithFocus&lt;OverlayItem&gt; mOverlay = mOverlay = new ItemizedOverlayWithFocus&lt;OverlayItem&gt;(items,\n            new ItemizedIconOverlay.OnItemGestureListener&lt;OverlayItem&gt;() {\n                @Override\n                public boolean onItemSingleTapUp(final int position, final OverlayItem item) {\n                    //do something\n                    return true;\n                }\n                @Override\n                public boolean onItemLongPress(final int position, final OverlayItem item) {\n                    return false;\n                }\n            }, getApplicationContext());\n mOverlay.setFocusItemsOnTap(true);\n</code></pre>\n\n<p>to add items before app starting, use this code :</p>\n\n<pre><code>mOverlay.addItem(new OverlayItem(\"Title\", \"Description\", new \nGeoPoint(31.7359474,55.4384632))); \n\nmap.getOverlays().add(mOverlay);\n</code></pre>\n\n<p>while running the app you can <strong>add more items</strong> with below code : </p>\n\n<pre><code>mOverlay.addItem(new OverlayItem(\"new Title\", \"new Description\", new GeoPoint(Latitude,Longitude)));\n</code></pre>\n\n<p>removing items while the app is running with below code : </p>\n\n<pre><code>mOverlay.removeItem(int position);\n</code></pre>\n\n<p>the <code>position</code> is the n-th item you added to list.you can put remove code into  <code>onItemSingleTapUp</code>that we use up in this answer, that means when you tap on item it will remove from screen.</p>\n"},{"tags":[],"owner":{"account_id":18550487,"reputation":31,"user_id":13516835,"display_name":"Dren Pirraku"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1602809694,"creation_date":1602809694,"answer_id":64381532,"question_id":54574152,"body_markdown":"1. When you add a marker set the Id to anything you like.\r\n\r\n        MapView mapview = (MapView) findViewById(R.id.mapview);\r\n        Marker marker = new Marker(mapview);\r\n        marker.setId(&quot;String&quot;);\r\n        mapview.getOverlays().add(marker);\r\n\r\n2. Since a Marker will get added to the mapviews overlay list as an Overlay object you can loop throgh it until you find your specific marker based on the Id.\r\n\r\n        for(int i=0;i&lt;mapview.getOverlays().size();i++){\r\n           Overlay overlay=mapview.getOverlays().get(i);\r\n           if(overlay instanceof Marker&amp;&amp;((Marker) overlay).getId().equals(&quot;String&quot;)){\r\n              mapview.getOverlays().remove(overlay);\r\n         }\r\n       }","title":"How to remove Markers from Osmdroid Map","body":"<ol>\n<li><p>When you add a marker set the Id to anything you like.</p>\n<pre><code> MapView mapview = (MapView) findViewById(R.id.mapview);\n Marker marker = new Marker(mapview);\n marker.setId(&quot;String&quot;);\n mapview.getOverlays().add(marker);\n</code></pre>\n</li>\n<li><p>Since a Marker will get added to the mapviews overlay list as an Overlay object you can loop throgh it until you find your specific marker based on the Id.</p>\n<pre><code> for(int i=0;i&lt;mapview.getOverlays().size();i++){\n    Overlay overlay=mapview.getOverlays().get(i);\n    if(overlay instanceof Marker&amp;&amp;((Marker) overlay).getId().equals(&quot;String&quot;)){\n       mapview.getOverlays().remove(overlay);\n  }\n}\n</code></pre>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4207783,"reputation":340,"user_id":3446283,"accept_rate":67,"display_name":"iamfredrik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1616924595,"creation_date":1616924595,"answer_id":66840089,"question_id":54574152,"body_markdown":"Kotlin version:\r\n\r\n\r\n\r\n    val gPt = GeoPoint(location.latitude, location.longitude)\r\n    val marker = Marker(map)\r\n    marker.position = gPt\r\n    marker.icon = getDrawable(R.drawable.ic_baseline_location_on_24)\r\n    marker.id = &quot;String&quot;\r\n    map.overlays.add(marker)\r\n    map.invalidate()\r\n\r\nTo remove (adapted from Dren Pirraku&#39;s answer):\r\n    \r\n    map.overlays.forEach {\r\n      if (it is Marker &amp;&amp; it.id == &quot;String&quot;) {\r\n        map.overlays.remove(it)\r\n      }\r\n    }","title":"How to remove Markers from Osmdroid Map","body":"<p>Kotlin version:</p>\n<pre><code>val gPt = GeoPoint(location.latitude, location.longitude)\nval marker = Marker(map)\nmarker.position = gPt\nmarker.icon = getDrawable(R.drawable.ic_baseline_location_on_24)\nmarker.id = &quot;String&quot;\nmap.overlays.add(marker)\nmap.invalidate()\n</code></pre>\n<p>To remove (adapted from Dren Pirraku's answer):</p>\n<pre><code>map.overlays.forEach {\n  if (it is Marker &amp;&amp; it.id == &quot;String&quot;) {\n    map.overlays.remove(it)\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22625030,"reputation":1,"user_id":22891585,"display_name":"ChrisZaro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699724321,"creation_date":1699724321,"answer_id":77466142,"question_id":54574152,"body_markdown":"You can remove all markers from the map with this\r\n\r\n    LinkedList&lt;Overlay&gt; t = new LinkedList&lt;&gt;(map.getOverlays());\r\n    for (Overlay o : t) {\r\n        if (o instanceof Marker) {\r\n            map.getOverlays().remove(o);\r\n        }\r\n    }","title":"How to remove Markers from Osmdroid Map","body":"<p>You can remove all markers from the map with this</p>\n<pre><code>LinkedList&lt;Overlay&gt; t = new LinkedList&lt;&gt;(map.getOverlays());\nfor (Overlay o : t) {\n    if (o instanceof Marker) {\n        map.getOverlays().remove(o);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":11174199,"reputation":41,"user_id":8200312,"display_name":"Kristi Leka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4812,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":5,"score":4,"last_activity_date":1699724321,"creation_date":1549545067,"question_id":54574152,"body_markdown":"I&#39;m creating an Android Application where i need to set markers on the map. And since my App requires Offline function i need to use Osmdroid to solve this problem. Now my issue is the markers on the map, which i can easily add them by using Markers or the ItemizedOverlay, but the issue i&#39;m having is that i cannot remove markers from the map.\r\n\r\n\r\nThe code i have used for adding markers is this one:\r\n\r\n        Marker marker = new Marker(mapView);\r\n        marker.setPosition(new GeoPoint(41.3746312,19.7710733));\r\n        marker.setIcon(getResources().getDrawable(R.drawable.marker));\r\n        marker.setImage(getResources().getDrawable(R.drawable.marker));\r\n        marker.setTitle(&quot;Marker&quot;);\r\n        marker.setInfoWindow(null);\r\n        marker.showInfoWindow();\r\n        mapView.getOverlays().add(marker);\r\n        mapView.invalidate();\r\n\r\n\r\nbut i&#39;m encountering issues on removing them since the only way to remove it is:\r\n\r\n        mapView.getOverlays().clear();\r\n\r\nAnd i need to remove a specific marker instead of all of them at the same time.\r\n\r\n","title":"How to remove Markers from Osmdroid Map","body":"<p>I'm creating an Android Application where i need to set markers on the map. And since my App requires Offline function i need to use Osmdroid to solve this problem. Now my issue is the markers on the map, which i can easily add them by using Markers or the ItemizedOverlay, but the issue i'm having is that i cannot remove markers from the map.</p>\n\n<p>The code i have used for adding markers is this one:</p>\n\n<pre><code>    Marker marker = new Marker(mapView);\n    marker.setPosition(new GeoPoint(41.3746312,19.7710733));\n    marker.setIcon(getResources().getDrawable(R.drawable.marker));\n    marker.setImage(getResources().getDrawable(R.drawable.marker));\n    marker.setTitle(\"Marker\");\n    marker.setInfoWindow(null);\n    marker.showInfoWindow();\n    mapView.getOverlays().add(marker);\n    mapView.invalidate();\n</code></pre>\n\n<p>but i'm encountering issues on removing them since the only way to remove it is:</p>\n\n<pre><code>    mapView.getOverlays().clear();\n</code></pre>\n\n<p>And i need to remove a specific marker instead of all of them at the same time.</p>\n"},{"tags":["java","rest","authentication","oauth","dynamics-crm"],"comments":[{"owner":{"account_id":722409,"reputation":6104,"user_id":663627,"accept_rate":78,"display_name":"jasonscript"},"score":0,"creation_date":1699406180,"post_id":77402970,"comment_id":136526809,"body_markdown":"Have you added that client id to CRM as an app user? and given it security roles?","body":"Have you added that client id to CRM as an app user? and given it security roles?"},{"owner":{"account_id":2927858,"reputation":1283,"user_id":2508829,"accept_rate":71,"display_name":"Cam1989"},"score":0,"creation_date":1699559034,"post_id":77402970,"comment_id":136550795,"body_markdown":"@jasonscript no I haven&#39;t. Would you be able to point me to an article? Or give any hints? Do I just create a User in CRM with the username the same as the client  I&#39;d?","body":"@jasonscript no I haven&#39;t. Would you be able to point me to an article? Or give any hints? Do I just create a User in CRM with the username the same as the client  I&#39;d?"}],"answers":[{"tags":[],"owner":{"account_id":722409,"reputation":6104,"user_id":663627,"accept_rate":78,"display_name":"jasonscript"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699723922,"creation_date":1699723922,"answer_id":77466122,"question_id":77402970,"body_markdown":"If you&#39;ve got an Application User in Azure, with a Tenant Id and a Client ID, you have to add that user to your CRM instance, and then give it security roles\r\n\r\n - Navigate to https://admin.powerplatform.microsoft.com/environments\r\n - Select your environment\r\n - Navigate to Users\r\n - Navigate to App Users\r\n - Add an App User\r\n\r\nThis will take you through the process of adding your Application User to a Business Unit, and giving it some security roles.\r\n\r\nOnce you&#39;ve done that, try your code again\r\n\r\nRefer to https://learn.microsoft.com/en-gb/power-platform/admin/manage-application-users?WT.mc_id=ppac_inproduct_settings\r\n\r\n","title":"Dynamics CRM REST OAuth Authentication Response 403 - The user is not a member of the organization","body":"<p>If you've got an Application User in Azure, with a Tenant Id and a Client ID, you have to add that user to your CRM instance, and then give it security roles</p>\n<ul>\n<li>Navigate to <a href=\"https://admin.powerplatform.microsoft.com/environments\" rel=\"nofollow noreferrer\">https://admin.powerplatform.microsoft.com/environments</a></li>\n<li>Select your environment</li>\n<li>Navigate to Users</li>\n<li>Navigate to App Users</li>\n<li>Add an App User</li>\n</ul>\n<p>This will take you through the process of adding your Application User to a Business Unit, and giving it some security roles.</p>\n<p>Once you've done that, try your code again</p>\n<p>Refer to <a href=\"https://learn.microsoft.com/en-gb/power-platform/admin/manage-application-users?WT.mc_id=ppac_inproduct_settings\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-gb/power-platform/admin/manage-application-users?WT.mc_id=ppac_inproduct_settings</a></p>\n"}],"owner":{"account_id":2927858,"reputation":1283,"user_id":2508829,"accept_rate":71,"display_name":"Cam1989"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77466122,"answer_count":1,"score":0,"last_activity_date":1699723922,"creation_date":1698845039,"question_id":77402970,"body_markdown":"I am attempting to make a request to the Microsoft Dynamics CRM REST API.\r\nI am receiving a 403 response with message &quot;The user is not a member of the organization.&quot;\r\nCould anyone advise where I am going wrong?\r\n\r\nThe Java Code I am using (I have removed ids/hostnames etc.):\r\n\r\n```\r\npublic class CRMTesting {\r\n\r\n\tprivate static String TENANT_ID = &quot;&lt;tenant-id&gt;&quot;;\r\n\tprivate static String POST_URL = &quot;https://login.microsoftonline.com/&quot; + TENANT_ID + &quot;/oauth2/token&quot;;\r\n\tprivate static String CLIENT_ID = &quot;&lt;client-id&gt;&quot;;\r\n\tprivate static String CLIENT_SECRET = &quot;&lt;client-secret&gt;&quot;;\r\n\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\tString token = getToken();\r\n\t\tgetAccounts(token);\r\n\t}\r\n\r\n\tpublic static String getAccounts(String token) throws MalformedURLException, IOException {\r\n\r\n\t\tCloseableHttpClient httpClient = HttpClients.createDefault();\r\n\r\n\t\tHttpGet httpGet = new HttpGet(&quot;https://&lt;company&gt;.crm4.dynamics.com/api/data/v8.2/accounts?$select=name&amp;$top=3&quot;);\r\n\t\thttpGet.setHeader(&quot;Accept&quot;, &quot;application/json&quot;);\r\n\t\thttpGet.setHeader(&quot;Authorization&quot;, &quot;Bearer &quot; + token);\r\n\t\thttpGet.setHeader(&quot;OData-MaxVersion&quot;, &quot;4.0&quot;);\r\n\t\thttpGet.setHeader(&quot;OData-Version&quot;, &quot;4.0&quot;);\r\n\r\n\t\tCloseableHttpResponse httpResponse = httpClient.execute(httpGet);\r\n\r\n\t\tSystem.out.println(&quot;Response Status Code... &quot; + httpResponse.getStatusLine().getStatusCode());\r\n\r\n\t\tBufferedReader reader = new BufferedReader(new InputStreamReader(httpResponse.getEntity().getContent()));\r\n\r\n\t\tString inputLine;\r\n\t\tStringBuffer response = new StringBuffer();\r\n\r\n\t\twhile ((inputLine = reader.readLine()) != null) {\r\n\t\t\tresponse.append(inputLine);\r\n\t\t}\r\n\t\treader.close();\r\n\t\thttpClient.close();\r\n\r\n\t\tSystem.out.println(response.toString());\r\n\r\n\t\t// Extract the token from the json response\r\n\t\tfinal ObjectMapper mapper = new ObjectMapper();\r\n\t\tfinal JsonNode actualObj = mapper.readTree(response.toString());\r\n\r\n\t\treturn actualObj.get(&quot;access_token&quot;).asText();\r\n\r\n\t}\r\n\r\n\tpublic static String getToken() throws MalformedURLException, IOException {\r\n\t\t// create headers\r\n\r\n\t\tCloseableHttpClient httpClient = HttpClients.createDefault();\r\n\r\n\t\tHttpPost httpPost = new HttpPost(POST_URL);\r\n\t\thttpPost.setHeader(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;);\r\n\r\n\t\tList&lt;NameValuePair&gt; nvps = new ArrayList&lt;NameValuePair&gt;();\r\n\t\tnvps.add(new BasicNameValuePair(&quot;grant_type&quot;, &quot;client_credentials&quot;));\r\n\t\tnvps.add(new BasicNameValuePair(&quot;resource&quot;, &quot;https://&lt;company&gt;.crm4.dynamics.com&quot;));\r\n\t\tnvps.add(new BasicNameValuePair(&quot;client_id&quot;, CLIENT_ID));\r\n\t\tnvps.add(new BasicNameValuePair(&quot;client_secret&quot;, CLIENT_SECRET));\r\n\t\thttpPost.setEntity(new UrlEncodedFormEntity(nvps, HTTP.UTF_8));\r\n\r\n\t\tCloseableHttpResponse httpResponse = httpClient.execute(httpPost);\r\n\r\n\t\tBufferedReader reader = new BufferedReader(new InputStreamReader(httpResponse.getEntity().getContent()));\r\n\r\n\t\tString inputLine;\r\n\t\tStringBuffer response = new StringBuffer();\r\n\r\n\t\twhile ((inputLine = reader.readLine()) != null) {\r\n\t\t\tresponse.append(inputLine);\r\n\t\t}\r\n\t\treader.close();\r\n\t\thttpClient.close();\r\n\r\n\t\tSystem.out.println(response.toString());\r\n\r\n\t\t// Extract the token from the json response\r\n\t\tfinal ObjectMapper mapper = new ObjectMapper();\r\n\t\tfinal JsonNode actualObj = mapper.readTree(response.toString());\r\n\r\n\t\treturn actualObj.get(&quot;access_token&quot;).asText();\r\n\r\n\t}\r\n\r\n}\r\n```\r\nThe 403 response:\r\n\r\n```\r\n{&quot;token_type&quot;:&quot;Bearer&quot;,&quot;expires_in&quot;:&quot;3599&quot;,&quot;ext_expires_in&quot;:&quot;3599&quot;,&quot;expires_on&quot;:&quot;1698847590&quot;,&quot;not_before&quot;:&quot;1698843690&quot;,&quot;resource&quot;:&quot;https://&lt;company&gt;.crm4.dynamics.com&quot;,&quot;access_token&quot;:&quot;&lt;access-token&gt;&quot;}\r\nResponse Status Code... 403\r\n{&quot;error&quot;:{&quot;code&quot;:&quot;0x80072560&quot;,&quot;message&quot;:&quot;The user is not a member of the organization.&quot;}}\r\n```\r\n\r\nI have tried many things such as adding a &quot;scope&quot; parameter in the token request.. using a different POST url &quot;/oauth2/v2.0/token&quot;.. using java.net.HttpURLConnection rather than apache CloseableHttpClient.. etc. however I am yet to find a solution.\r\n\r\nAny help would be great!\r\n\r\nThanks","title":"Dynamics CRM REST OAuth Authentication Response 403 - The user is not a member of the organization","body":"<p>I am attempting to make a request to the Microsoft Dynamics CRM REST API.\nI am receiving a 403 response with message &quot;The user is not a member of the organization.&quot;\nCould anyone advise where I am going wrong?</p>\n<p>The Java Code I am using (I have removed ids/hostnames etc.):</p>\n<pre><code>public class CRMTesting {\n\n    private static String TENANT_ID = &quot;&lt;tenant-id&gt;&quot;;\n    private static String POST_URL = &quot;https://login.microsoftonline.com/&quot; + TENANT_ID + &quot;/oauth2/token&quot;;\n    private static String CLIENT_ID = &quot;&lt;client-id&gt;&quot;;\n    private static String CLIENT_SECRET = &quot;&lt;client-secret&gt;&quot;;\n\n    public static void main(String[] args) throws Exception {\n        String token = getToken();\n        getAccounts(token);\n    }\n\n    public static String getAccounts(String token) throws MalformedURLException, IOException {\n\n        CloseableHttpClient httpClient = HttpClients.createDefault();\n\n        HttpGet httpGet = new HttpGet(&quot;https://&lt;company&gt;.crm4.dynamics.com/api/data/v8.2/accounts?$select=name&amp;$top=3&quot;);\n        httpGet.setHeader(&quot;Accept&quot;, &quot;application/json&quot;);\n        httpGet.setHeader(&quot;Authorization&quot;, &quot;Bearer &quot; + token);\n        httpGet.setHeader(&quot;OData-MaxVersion&quot;, &quot;4.0&quot;);\n        httpGet.setHeader(&quot;OData-Version&quot;, &quot;4.0&quot;);\n\n        CloseableHttpResponse httpResponse = httpClient.execute(httpGet);\n\n        System.out.println(&quot;Response Status Code... &quot; + httpResponse.getStatusLine().getStatusCode());\n\n        BufferedReader reader = new BufferedReader(new InputStreamReader(httpResponse.getEntity().getContent()));\n\n        String inputLine;\n        StringBuffer response = new StringBuffer();\n\n        while ((inputLine = reader.readLine()) != null) {\n            response.append(inputLine);\n        }\n        reader.close();\n        httpClient.close();\n\n        System.out.println(response.toString());\n\n        // Extract the token from the json response\n        final ObjectMapper mapper = new ObjectMapper();\n        final JsonNode actualObj = mapper.readTree(response.toString());\n\n        return actualObj.get(&quot;access_token&quot;).asText();\n\n    }\n\n    public static String getToken() throws MalformedURLException, IOException {\n        // create headers\n\n        CloseableHttpClient httpClient = HttpClients.createDefault();\n\n        HttpPost httpPost = new HttpPost(POST_URL);\n        httpPost.setHeader(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;);\n\n        List&lt;NameValuePair&gt; nvps = new ArrayList&lt;NameValuePair&gt;();\n        nvps.add(new BasicNameValuePair(&quot;grant_type&quot;, &quot;client_credentials&quot;));\n        nvps.add(new BasicNameValuePair(&quot;resource&quot;, &quot;https://&lt;company&gt;.crm4.dynamics.com&quot;));\n        nvps.add(new BasicNameValuePair(&quot;client_id&quot;, CLIENT_ID));\n        nvps.add(new BasicNameValuePair(&quot;client_secret&quot;, CLIENT_SECRET));\n        httpPost.setEntity(new UrlEncodedFormEntity(nvps, HTTP.UTF_8));\n\n        CloseableHttpResponse httpResponse = httpClient.execute(httpPost);\n\n        BufferedReader reader = new BufferedReader(new InputStreamReader(httpResponse.getEntity().getContent()));\n\n        String inputLine;\n        StringBuffer response = new StringBuffer();\n\n        while ((inputLine = reader.readLine()) != null) {\n            response.append(inputLine);\n        }\n        reader.close();\n        httpClient.close();\n\n        System.out.println(response.toString());\n\n        // Extract the token from the json response\n        final ObjectMapper mapper = new ObjectMapper();\n        final JsonNode actualObj = mapper.readTree(response.toString());\n\n        return actualObj.get(&quot;access_token&quot;).asText();\n\n    }\n\n}\n</code></pre>\n<p>The 403 response:</p>\n<pre><code>{&quot;token_type&quot;:&quot;Bearer&quot;,&quot;expires_in&quot;:&quot;3599&quot;,&quot;ext_expires_in&quot;:&quot;3599&quot;,&quot;expires_on&quot;:&quot;1698847590&quot;,&quot;not_before&quot;:&quot;1698843690&quot;,&quot;resource&quot;:&quot;https://&lt;company&gt;.crm4.dynamics.com&quot;,&quot;access_token&quot;:&quot;&lt;access-token&gt;&quot;}\nResponse Status Code... 403\n{&quot;error&quot;:{&quot;code&quot;:&quot;0x80072560&quot;,&quot;message&quot;:&quot;The user is not a member of the organization.&quot;}}\n</code></pre>\n<p>I have tried many things such as adding a &quot;scope&quot; parameter in the token request.. using a different POST url &quot;/oauth2/v2.0/token&quot;.. using java.net.HttpURLConnection rather than apache CloseableHttpClient.. etc. however I am yet to find a solution.</p>\n<p>Any help would be great!</p>\n<p>Thanks</p>\n"},{"tags":["java","data-structures","tree","binary-search-tree","red-black-tree"],"owner":{"account_id":29880528,"reputation":1,"user_id":22899564,"display_name":"Dan Stephens"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":0,"score":-2,"last_activity_date":1699723323,"creation_date":1699723171,"question_id":77466080,"body_markdown":"i would really appreciate if anyone could help me starting on how to fix RBT properties. I have a insertNode method which inserts a node based on BST properties and then fixes any RBT problems. I would like to know just how to start the fixes by implementing case 1 and case 2. Where case 1 is node X is the root, root must be black,so we color x black. Case 2 is X.uncle is red, Color parent and uncle black, and grandparent red. However the issue im having is that in my node class i dont have any parent node or getParent() method and i cant change it, so i need a different way on handling the parent/grandparent.\r\n\r\n\r\n     private Node nodeInsertData(Node r, int x) {\r\n            // BST Insertion\r\n            if (r == null) return new Node(x, Node.Color.RED); \r\n                // Insert the new node accordingly to the basic rules of BST.\r\n            else if (x &lt; r.getData()) {\r\n                r.setLeft(nodeInsertData(r.getLeft(), x)); \r\n            } else if (x &gt; r.getData()) {\r\n                r.setRight(nodeInsertData(r.getRight(), x));\r\n            }\r\n            // RBT Fixes\r\n\r\n            return r; \r\n        }\r\n\r\n\r\nAny help on how to start implementing the fixes would be greatly appreciated.","title":"How to fix RBT properties in a RBT tree","body":"<p>i would really appreciate if anyone could help me starting on how to fix RBT properties. I have a insertNode method which inserts a node based on BST properties and then fixes any RBT problems. I would like to know just how to start the fixes by implementing case 1 and case 2. Where case 1 is node X is the root, root must be black,so we color x black. Case 2 is X.uncle is red, Color parent and uncle black, and grandparent red. However the issue im having is that in my node class i dont have any parent node or getParent() method and i cant change it, so i need a different way on handling the parent/grandparent.</p>\n<pre><code> private Node nodeInsertData(Node r, int x) {\n        // BST Insertion\n        if (r == null) return new Node(x, Node.Color.RED); \n            // Insert the new node accordingly to the basic rules of BST.\n        else if (x &lt; r.getData()) {\n            r.setLeft(nodeInsertData(r.getLeft(), x)); \n        } else if (x &gt; r.getData()) {\n            r.setRight(nodeInsertData(r.getRight(), x));\n        }\n        // RBT Fixes\n\n        return r; \n    }\n</code></pre>\n<p>Any help on how to start implementing the fixes would be greatly appreciated.</p>\n"},{"tags":["java","xsd","numberformatexception","xjc"],"owner":{"account_id":18396293,"reputation":1,"user_id":13400659,"display_name":"ali raza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699722922,"creation_date":1695206616,"question_id":77141627,"body_markdown":"I am facing an issue with JAXB and xjc while generating Java code from an XML schema (XSD) that includes an xs:decimal element with a minExclusive constraint. Despite specifying the type as xs:decimal in my XSD, xjc is generating code that attempts to parse the values as integers, leading to a NumberFormatException.\r\n\r\nHere&#39;s a simplified version of my XSD:\r\n\r\n```\r\n&lt;xs:element name=&quot;test&quot;&gt;\r\n    &lt;xs:simpleType&gt;\r\n        &lt;xs:restriction base=&quot;xs:decimal&quot;&gt;\r\n            &lt;xs:minExclusive value=&quot;1.5&quot;/&gt;\r\n        &lt;/xs:restriction&gt;\r\n    &lt;/xs:simpleType&gt;\r\n&lt;/xs:element&gt;\r\n```\r\n\r\n**Code that is being generating**\r\n\r\n```\r\n \r\n    @XmlElement(required = true)\r\n\r\n    @NotNull\r\n\r\n    @DecimalMin &lt;- error occurs on this line\r\n\r\n    protected BigDecimal test\r\n```\r\n\r\n**ERROR**\r\n\r\n&gt; Task :command-xsd:src_frm_xsd  \r\n&gt; \\[ant:xjc\\] java.lang.NumberFormatException: For input string: &quot;1.5&quot;  \r\n&gt; \\[ant:xjc\\]       at java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)\r\n&gt; \\[ant:xjc\\]       at java.lang.Integer.parseInt(Integer.java:580)  \r\n&gt; \\[ant:xjc\\]       at java.math.BigInteger.\\&lt;init\\&gt;(BigInteger.java:472)\r\n&gt; \\[ant:xjc\\]       at java.math.BigInteger.\\&lt;init\\&gt;(BigInteger.java:608)\r\n&gt; \\[ant:xjc\\]       at com.sun.tools.xjc.addon.krasa.JaxbValidationsPlugins.processType(JaxbValidationsPlugins.java:324)\r\n&gt; \\[ant:xjc\\]       at com.sun.tools.xjc.addon.krasa.JaxbValidationsPlugins.processElement(JaxbValidationsPlugins.java:219)\r\n&gt; \\[ant:xjc\\]       at com.sun.tools.xjc.addon.krasa.JaxbValidationsPlugins.processElement(JaxbValidationsPlugins.java:203)\r\n&gt; \\[ant:xjc\\]       at com.sun.tools.xjc.addon.krasa.JaxbValidationsPlugins.run(JaxbValidationsPlugins.java:152)\r\n&gt; \\[ant:xjc\\]       at com.sun.tools.xjc.model.Model.generateCode(Model.java:292)\r\n&gt; \\[ant:xjc\\]       at com.sun.tools.xjc.XJC2Task.\\_doXJC(XJC2Task.java:524)\r\n&gt; \\[ant:xjc\\]       at com.sun.tools.xjc.XJC2Task.doXJC(XJC2Task.java:457)\r\n&gt; \\[ant:xjc\\]       at com.sun.tools.xjc.XJC2Task.execute(XJC2Task.java:380)\r\n&gt; \\[ant:xjc\\]       at com.sun.istack.tools.ProtectedTask.execute(ProtectedTask.java:103)\r\n&gt; \\[ant:xjc\\]       at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:292)\r\n&gt; \\[ant:xjc\\]       at sun.reflect.GeneratedMethodAccessor88.invoke(Unknown Source)\r\n&gt; \\[ant:xjc\\]       at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n&gt; \\[ant:xjc\\]       at java.lang.reflect.Method.invoke(Method.java:498)\r\n&gt; \\[ant:xjc\\]       at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:99)\r\n&gt; \\[ant:xjc\\]       at groovy.util.AntBuilder.performTask(AntBuilder.java:333)\r\n&gt; \\[ant:xjc\\]       at groovy.util.AntBuilder.nodeCompleted(AntBuilder.java:278)\r\n&gt; \\[ant:xjc\\]       at org.gradle.api.internal.project.ant.BasicAntBuilder.nodeCompleted(BasicAntBuilder.java:80)\r\n&gt; \\[ant:xjc\\]       at groovy.util.BuilderSupport.doInvokeMethod(BuilderSupport.java:151)\r\n&gt; \\[ant:xjc\\]       at groovy.util.AntBuilder.doInvokeMethod(AntBuilder.java:213)\r\n&gt; \\[ant:xjc\\]       at org.gradle.api.internal.project.ant.BasicAntBuilder.doInvokeMethod(BasicAntBuilder.java:107)\r\n&gt; \\[ant:xjc\\]       at groovy.util.BuilderSupport.invokeMethod(BuilderSupport.java:64)\r\n&gt; \\[ant:xjc\\]       at org.codehaus.groovy.runtime.callsite.PogoMetaClassSite.call(PogoMetaClassSite.java:43)\r\n&gt; \\[ant:xjc\\]       at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:135)\r\n\r\nerror: annotation @DecimalMin\r\n\r\nis missing a default value for the element &#39;value&#39;\r\n\r\n    @DecimalMin\r\n    \r\n    ^\r\n\r\nAnd the generated code is trying to parse the values as integers, resulting in a NumberFormatException.\r\n\r\nI&#39;ve tried adding custom JAXB bindings, but the issue persists. How can I ensure that xjc correctly generates code that handles xs:decimal with minExclusive as a BigDecimal and not as an integer?\r\n\r\nAny insights or suggestions would be greatly appreciated. Thank you!","title":"Issue with JAXB and xjc: Parsing xs:decimal with minExclusive constraint when building the project","body":"<p>I am facing an issue with JAXB and xjc while generating Java code from an XML schema (XSD) that includes an xs:decimal element with a minExclusive constraint. Despite specifying the type as xs:decimal in my XSD, xjc is generating code that attempts to parse the values as integers, leading to a NumberFormatException.</p>\n<p>Here's a simplified version of my XSD:</p>\n<pre><code>&lt;xs:element name=&quot;test&quot;&gt;\n    &lt;xs:simpleType&gt;\n        &lt;xs:restriction base=&quot;xs:decimal&quot;&gt;\n            &lt;xs:minExclusive value=&quot;1.5&quot;/&gt;\n        &lt;/xs:restriction&gt;\n    &lt;/xs:simpleType&gt;\n&lt;/xs:element&gt;\n</code></pre>\n<p><strong>Code that is being generating</strong></p>\n<pre><code> \n    @XmlElement(required = true)\n\n    @NotNull\n\n    @DecimalMin &lt;- error occurs on this line\n\n    protected BigDecimal test\n</code></pre>\n<p><strong>ERROR</strong></p>\n<blockquote>\n<p>Task :command-xsd:src_frm_xsd<br />\n[ant:xjc] java.lang.NumberFormatException: For input string: &quot;1.5&quot;<br />\n[ant:xjc]       at java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)\n[ant:xjc]       at java.lang.Integer.parseInt(Integer.java:580)<br />\n[ant:xjc]       at java.math.BigInteger.&lt;init&gt;(BigInteger.java:472)\n[ant:xjc]       at java.math.BigInteger.&lt;init&gt;(BigInteger.java:608)\n[ant:xjc]       at com.sun.tools.xjc.addon.krasa.JaxbValidationsPlugins.processType(JaxbValidationsPlugins.java:324)\n[ant:xjc]       at com.sun.tools.xjc.addon.krasa.JaxbValidationsPlugins.processElement(JaxbValidationsPlugins.java:219)\n[ant:xjc]       at com.sun.tools.xjc.addon.krasa.JaxbValidationsPlugins.processElement(JaxbValidationsPlugins.java:203)\n[ant:xjc]       at com.sun.tools.xjc.addon.krasa.JaxbValidationsPlugins.run(JaxbValidationsPlugins.java:152)\n[ant:xjc]       at com.sun.tools.xjc.model.Model.generateCode(Model.java:292)\n[ant:xjc]       at com.sun.tools.xjc.XJC2Task._doXJC(XJC2Task.java:524)\n[ant:xjc]       at com.sun.tools.xjc.XJC2Task.doXJC(XJC2Task.java:457)\n[ant:xjc]       at com.sun.tools.xjc.XJC2Task.execute(XJC2Task.java:380)\n[ant:xjc]       at com.sun.istack.tools.ProtectedTask.execute(ProtectedTask.java:103)\n[ant:xjc]       at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:292)\n[ant:xjc]       at sun.reflect.GeneratedMethodAccessor88.invoke(Unknown Source)\n[ant:xjc]       at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n[ant:xjc]       at java.lang.reflect.Method.invoke(Method.java:498)\n[ant:xjc]       at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:99)\n[ant:xjc]       at groovy.util.AntBuilder.performTask(AntBuilder.java:333)\n[ant:xjc]       at groovy.util.AntBuilder.nodeCompleted(AntBuilder.java:278)\n[ant:xjc]       at org.gradle.api.internal.project.ant.BasicAntBuilder.nodeCompleted(BasicAntBuilder.java:80)\n[ant:xjc]       at groovy.util.BuilderSupport.doInvokeMethod(BuilderSupport.java:151)\n[ant:xjc]       at groovy.util.AntBuilder.doInvokeMethod(AntBuilder.java:213)\n[ant:xjc]       at org.gradle.api.internal.project.ant.BasicAntBuilder.doInvokeMethod(BasicAntBuilder.java:107)\n[ant:xjc]       at groovy.util.BuilderSupport.invokeMethod(BuilderSupport.java:64)\n[ant:xjc]       at org.codehaus.groovy.runtime.callsite.PogoMetaClassSite.call(PogoMetaClassSite.java:43)\n[ant:xjc]       at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:135)</p>\n</blockquote>\n<p>error: annotation @DecimalMin</p>\n<p>is missing a default value for the element 'value'</p>\n<pre><code>@DecimalMin\n\n^\n</code></pre>\n<p>And the generated code is trying to parse the values as integers, resulting in a NumberFormatException.</p>\n<p>I've tried adding custom JAXB bindings, but the issue persists. How can I ensure that xjc correctly generates code that handles xs:decimal with minExclusive as a BigDecimal and not as an integer?</p>\n<p>Any insights or suggestions would be greatly appreciated. Thank you!</p>\n"},{"tags":["java","maven","google-cloud-platform","google-bigquery","apache-beam"],"owner":{"account_id":9644892,"reputation":51,"user_id":7158004,"accept_rate":100,"display_name":"Bruno"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1699721907,"answer_count":0,"score":-1,"last_activity_date":1699722726,"creation_date":1699712660,"question_id":77465444,"body_markdown":"I was doing a project where I had to read a text from a **Google Cloud Bucket** and do some transformations and store the results in a BigQuery table **word_count_p1**, which is working (using **BigQueryIO** and **Apache Beam**). Now, I want to read from the **word_count_p1**, and I run it with the same Maven command and It says that **org.apache.beam.sdk.Pipeline$PipelineExecutionException: java.lang.NullPointerException: Required parameter projectId must be specified**. I have permissions to write on BigQuery cause I did `INSERT INTO acn-gcp-cloudtraining.word_count_nj_bruno_veloso.word_count_p1 VALUES (&quot;teste&quot;, 37);` and it worked.\r\n\r\n\r\n\r\nHere is some code:\r\n\r\n      public interface WordCountOptions extends PipelineOptions {\r\n      \r\n        /**Setup BigQuery Table */\r\n        @Description(&quot;Project ID&quot;)\r\n        @Required\r\n        @Default.String(&quot;acn-gcp-cloudtraining&quot;) \r\n        String getProjectId();\r\n        void setProjectId(String value);\r\n    \r\n        @Description(&quot;Dataset ID&quot;)\r\n        @Required\r\n        String getDatasetID();\r\n        void setDatasetID(String value);\r\n    \r\n        @Description(&quot;Table Name&quot;)\r\n        @Required\r\n        String getTableName();\r\n        void setTableName(String value);\r\n      }\r\n      static void runWordCountGCP(WordCountOptions options) {\r\n    \r\n        System.out.println(&quot;Options: &quot; + options.toString());\r\n        Pipeline p = Pipeline.create(options);\r\n        System.out.println(&quot;PROJECT:&quot; + options.getProjectId());\r\n        System.out.println(&quot;DATASET:&quot; + options.getDatasetID());\r\n        System.out.println(&quot;TABLE:&quot; + options.getTableName());\r\n    \r\n        p.apply(&quot;Read from BigQuery&quot;, BigQueryIO.readTableRows().from(String.format(&quot;%s:%s.%s&quot;, options.getProjectId(), options.getDatasetID(), options.getTableName())));\r\n      \r\n    \r\n        p.run().waitUntilFinish();\r\n      }\r\n    \r\n      public static void main(String[] args) {\r\n     \r\n        WordCountOptions options = PipelineOptionsFactory.fromArgs(args)\r\n        .withValidation()\r\n        .as(WordCountOptions.class);\r\n    \r\n        runWordCountGCP(options);\r\n      }\r\n\r\nI run this code with:\r\n\r\n    mvn compile exec:java -Dexec.mainClass=org.apache.beam.examples.wordcountgcp.WordCountGCP -Dexec.args=&quot;--tempLocation=gs://word_count_examples_nj_bruno_veloso/temp --projectId=acn-gcp-cloudtraining --datasetID=word_count_nj_bruno_veloso --tableName=word_count_p1&quot; -Pdirect-runner\r\n\r\n\r\nAnd it prints correctly this information, which I used this information to store on BigQuery on the first part of the project and it worked:\r\n\r\n\r\n    Options: Current Settings:\r\n      appName: WordCountGCP\r\n      datasetID: word_count_nj_bruno_veloso\r\n      optionsId: 0\r\n      projectId: acn-gcp-cloudtraining\r\n      runner: class org.apache.beam.runners.direct.DirectRunner\r\n      stableUniqueNames: WARNING\r\n      tableName: word_count_p1\r\n      tempLocation: gs://word_count_examples_nj_bruno_veloso/temp\r\n    \r\n    PROJECT:acn-gcp-cloudtraining\r\n    DATASET:word_count_nj_bruno_veloso\r\n    TABLE:word_count_p1\r\n\r\nERRORS are:\r\n\r\n    INFO: Starting BigQuery extract job: beam_bq_job_EXPORT_wordcountgcpbruno0cruz0veloso1111141049a9a734bf_06521796bc354cc986f844176ddf94e3\r\n    [WARNING]\r\n    org.apache.beam.sdk.Pipeline$PipelineExecutionException: java.lang.NullPointerException: Required parameter projectId must be specified.\r\n        at org.apache.beam.runners.direct.DirectRunner$DirectPipelineResult.waitUntilFinish (DirectRunner.java:353)\r\n        at org.apache.beam.runners.direct.DirectRunner$DirectPipelineResult.waitUntilFinish (DirectRunner.java:321)\r\n        at org.apache.beam.runners.direct.DirectRunner.run (DirectRunner.java:216)\r\n        at org.apache.beam.runners.direct.DirectRunner.run (DirectRunner.java:67)\r\n        at org.apache.beam.sdk.Pipeline.run (Pipeline.java:317)\r\n        at org.apache.beam.sdk.Pipeline.run (Pipeline.java:303)\r\n        at org.apache.beam.examples.wordcountgcp.WordCountGCP.runWordCountGCP (WordCountGCP.java:81)\r\n        at org.apache.beam.examples.wordcountgcp.WordCountGCP.main (WordCountGCP.java:90)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke (Method.java:566)\r\n        at org.codehaus.mojo.exec.ExecJavaMojo$1.run (ExecJavaMojo.java:282)\r\n        at java.lang.Thread.run (Thread.java:834)\r\n    Caused by: java.lang.NullPointerException: Required parameter projectId must be specified.\r\n        at com.google.common.base.Preconditions.checkNotNull (Preconditions.java:895)\r\n        at com.google.api.client.util.Preconditions.checkNotNull (Preconditions.java:138)\r\n        at com.google.api.services.bigquery.Bigquery$Jobs$Insert.&lt;init&gt; (Bigquery.java:1547)\r\n        at com.google.api.services.bigquery.Bigquery$Jobs.insert (Bigquery.java:1497)\r\n        at org.apache.beam.sdk.io.gcp.bigquery.BigQueryServicesImpl$JobServiceImpl.startJob (BigQueryServicesImpl.java:274)\r\n        at org.apache.beam.sdk.io.gcp.bigquery.BigQueryServicesImpl$JobServiceImpl.startJob (BigQueryServicesImpl.java:259)\r\n        at org.apache.beam.sdk.io.gcp.bigquery.BigQueryServicesImpl$JobServiceImpl.startExtractJob (BigQueryServicesImpl.java:212)\r\n        at org.apache.beam.sdk.io.gcp.bigquery.BigQuerySourceBase.executeExtract (BigQuerySourceBase.java:212)\r\n        at org.apache.beam.sdk.io.gcp.bigquery.BigQuerySourceBase.extractFiles (BigQuerySourceBase.java:133)\r\n        at org.apache.beam.sdk.io.gcp.bigquery.BigQuerySourceBase.split (BigQuerySourceBase.java:152)\r\n        at org.apache.beam.sdk.io.Read$BoundedSourceAsSDFWrapperFn.splitRestriction (Read.java:302)\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  12.554 s\r\n    [INFO] Finished at: 2023-11-11T14:10:50Z\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal org.codehaus.mojo:exec-maven-plugin:1.6.0:java (default-cli) on project word-count-beam: An exception occured while executing the Java class. java.lang.NullPointerException: Required parameter projectId must be specified. -&gt; [Help 1]\r\n    [ERROR]\r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR]\r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n\r\n\r\n\r\n\r\n\r\n\r\nIs it possible that I can see the data on BigQuery (GCP) but I can&#39;t access via BigQueryIO (java application, with apache beam)?","title":"Why is it saying NullPointerException if it prints correctly when I pass the value correctly to BigQuery?","body":"<p>I was doing a project where I had to read a text from a <strong>Google Cloud Bucket</strong> and do some transformations and store the results in a BigQuery table <strong>word_count_p1</strong>, which is working (using <strong>BigQueryIO</strong> and <strong>Apache Beam</strong>). Now, I want to read from the <strong>word_count_p1</strong>, and I run it with the same Maven command and It says that <strong>org.apache.beam.sdk.Pipeline$PipelineExecutionException: java.lang.NullPointerException: Required parameter projectId must be specified</strong>. I have permissions to write on BigQuery cause I did <code>INSERT INTO acn-gcp-cloudtraining.word_count_nj_bruno_veloso.word_count_p1 VALUES (&quot;teste&quot;, 37);</code> and it worked.</p>\n<p>Here is some code:</p>\n<pre><code>  public interface WordCountOptions extends PipelineOptions {\n  \n    /**Setup BigQuery Table */\n    @Description(&quot;Project ID&quot;)\n    @Required\n    @Default.String(&quot;acn-gcp-cloudtraining&quot;) \n    String getProjectId();\n    void setProjectId(String value);\n\n    @Description(&quot;Dataset ID&quot;)\n    @Required\n    String getDatasetID();\n    void setDatasetID(String value);\n\n    @Description(&quot;Table Name&quot;)\n    @Required\n    String getTableName();\n    void setTableName(String value);\n  }\n  static void runWordCountGCP(WordCountOptions options) {\n\n    System.out.println(&quot;Options: &quot; + options.toString());\n    Pipeline p = Pipeline.create(options);\n    System.out.println(&quot;PROJECT:&quot; + options.getProjectId());\n    System.out.println(&quot;DATASET:&quot; + options.getDatasetID());\n    System.out.println(&quot;TABLE:&quot; + options.getTableName());\n\n    p.apply(&quot;Read from BigQuery&quot;, BigQueryIO.readTableRows().from(String.format(&quot;%s:%s.%s&quot;, options.getProjectId(), options.getDatasetID(), options.getTableName())));\n  \n\n    p.run().waitUntilFinish();\n  }\n\n  public static void main(String[] args) {\n \n    WordCountOptions options = PipelineOptionsFactory.fromArgs(args)\n    .withValidation()\n    .as(WordCountOptions.class);\n\n    runWordCountGCP(options);\n  }\n</code></pre>\n<p>I run this code with:</p>\n<pre><code>mvn compile exec:java -Dexec.mainClass=org.apache.beam.examples.wordcountgcp.WordCountGCP -Dexec.args=&quot;--tempLocation=gs://word_count_examples_nj_bruno_veloso/temp --projectId=acn-gcp-cloudtraining --datasetID=word_count_nj_bruno_veloso --tableName=word_count_p1&quot; -Pdirect-runner\n</code></pre>\n<p>And it prints correctly this information, which I used this information to store on BigQuery on the first part of the project and it worked:</p>\n<pre><code>Options: Current Settings:\n  appName: WordCountGCP\n  datasetID: word_count_nj_bruno_veloso\n  optionsId: 0\n  projectId: acn-gcp-cloudtraining\n  runner: class org.apache.beam.runners.direct.DirectRunner\n  stableUniqueNames: WARNING\n  tableName: word_count_p1\n  tempLocation: gs://word_count_examples_nj_bruno_veloso/temp\n\nPROJECT:acn-gcp-cloudtraining\nDATASET:word_count_nj_bruno_veloso\nTABLE:word_count_p1\n</code></pre>\n<p>ERRORS are:</p>\n<pre><code>INFO: Starting BigQuery extract job: beam_bq_job_EXPORT_wordcountgcpbruno0cruz0veloso1111141049a9a734bf_06521796bc354cc986f844176ddf94e3\n[WARNING]\norg.apache.beam.sdk.Pipeline$PipelineExecutionException: java.lang.NullPointerException: Required parameter projectId must be specified.\n    at org.apache.beam.runners.direct.DirectRunner$DirectPipelineResult.waitUntilFinish (DirectRunner.java:353)\n    at org.apache.beam.runners.direct.DirectRunner$DirectPipelineResult.waitUntilFinish (DirectRunner.java:321)\n    at org.apache.beam.runners.direct.DirectRunner.run (DirectRunner.java:216)\n    at org.apache.beam.runners.direct.DirectRunner.run (DirectRunner.java:67)\n    at org.apache.beam.sdk.Pipeline.run (Pipeline.java:317)\n    at org.apache.beam.sdk.Pipeline.run (Pipeline.java:303)\n    at org.apache.beam.examples.wordcountgcp.WordCountGCP.runWordCountGCP (WordCountGCP.java:81)\n    at org.apache.beam.examples.wordcountgcp.WordCountGCP.main (WordCountGCP.java:90)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:566)\n    at org.codehaus.mojo.exec.ExecJavaMojo$1.run (ExecJavaMojo.java:282)\n    at java.lang.Thread.run (Thread.java:834)\nCaused by: java.lang.NullPointerException: Required parameter projectId must be specified.\n    at com.google.common.base.Preconditions.checkNotNull (Preconditions.java:895)\n    at com.google.api.client.util.Preconditions.checkNotNull (Preconditions.java:138)\n    at com.google.api.services.bigquery.Bigquery$Jobs$Insert.&lt;init&gt; (Bigquery.java:1547)\n    at com.google.api.services.bigquery.Bigquery$Jobs.insert (Bigquery.java:1497)\n    at org.apache.beam.sdk.io.gcp.bigquery.BigQueryServicesImpl$JobServiceImpl.startJob (BigQueryServicesImpl.java:274)\n    at org.apache.beam.sdk.io.gcp.bigquery.BigQueryServicesImpl$JobServiceImpl.startJob (BigQueryServicesImpl.java:259)\n    at org.apache.beam.sdk.io.gcp.bigquery.BigQueryServicesImpl$JobServiceImpl.startExtractJob (BigQueryServicesImpl.java:212)\n    at org.apache.beam.sdk.io.gcp.bigquery.BigQuerySourceBase.executeExtract (BigQuerySourceBase.java:212)\n    at org.apache.beam.sdk.io.gcp.bigquery.BigQuerySourceBase.extractFiles (BigQuerySourceBase.java:133)\n    at org.apache.beam.sdk.io.gcp.bigquery.BigQuerySourceBase.split (BigQuerySourceBase.java:152)\n    at org.apache.beam.sdk.io.Read$BoundedSourceAsSDFWrapperFn.splitRestriction (Read.java:302)\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  12.554 s\n[INFO] Finished at: 2023-11-11T14:10:50Z\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.codehaus.mojo:exec-maven-plugin:1.6.0:java (default-cli) on project word-count-beam: An exception occured while executing the Java class. java.lang.NullPointerException: Required parameter projectId must be specified. -&gt; [Help 1]\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n</code></pre>\n<p>Is it possible that I can see the data on BigQuery (GCP) but I can't access via BigQueryIO (java application, with apache beam)?</p>\n"},{"tags":["java","printing","new-operator","println"],"comments":[{"owner":{"account_id":37175,"reputation":706048,"user_id":106224,"accept_rate":96,"display_name":"BoltClock"},"score":11,"creation_date":1287924059,"post_id":4008223,"comment_id":4294882,"body_markdown":"Call `System.out.println();` repeatedly :P","body":"Call <code>System.out.println();</code> repeatedly :P"},{"owner":{"account_id":4427703,"reputation":3041,"user_id":3605712,"accept_rate":97,"display_name":"Malakai"},"score":3,"creation_date":1476618989,"post_id":4008223,"comment_id":67413288,"body_markdown":"I wonder why you have problems to simply write `System.out.println(&quot;\\n)&quot;;`\nThe &quot;\\n&quot; considers as escape sequence for C/C++/C# and Java aswell.","body":"I wonder why you have problems to simply write <code>System.out.println(&quot;\\n)&quot;;</code> The &quot;\\n&quot; considers as escape sequence for C/C++/C# and Java aswell."}],"answers":[{"tags":[],"owner":{"account_id":151926,"reputation":2870,"user_id":366091,"accept_rate":88,"display_name":"biasedbit"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1287924113,"creation_date":1287924113,"answer_id":4008236,"question_id":4008223,"body_markdown":"It does create a new line. Try:\r\n\r\n    System.out.println(&quot;---\\n###&quot;);","title":"Print in new line, java","body":"<p>It does create a new line. Try:</p>\n\n<pre><code>System.out.println(\"---\\n###\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":84116,"reputation":1164,"user_id":235333,"display_name":"James Branigan"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1287924144,"creation_date":1287924144,"answer_id":4008239,"question_id":4008223,"body_markdown":"You might try adding \\r\\n instead of just \\n.  Depending on your operating system and how you are viewing the output, it might matter.","title":"Print in new line, java","body":"<p>You might try adding \\r\\n instead of just \\n.  Depending on your operating system and how you are viewing the output, it might matter.</p>\n"},{"tags":[],"owner":{"account_id":196571,"reputation":881,"user_id":440076,"display_name":"vstoyanov"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1516771121,"creation_date":1287924266,"answer_id":4008247,"question_id":4008223,"body_markdown":"Your best shot would be with\r\n\r\n    String.format(&quot;%n&quot;)\r\n\r\nor\r\n\r\n    System.out.printf(&quot;%n&quot;);\r\n\r\nIt is supposed to print a newline character, depending on the current platform, so it&#39;s perfect for the console.\r\n\r\nIf you are printing to a file, then it depends.","title":"Print in new line, java","body":"<p>Your best shot would be with</p>\n\n<pre><code>String.format(\"%n\")\n</code></pre>\n\n<p>or</p>\n\n<pre><code>System.out.printf(\"%n\");\n</code></pre>\n\n<p>It is supposed to print a newline character, depending on the current platform, so it's perfect for the console.</p>\n\n<p>If you are printing to a file, then it depends.</p>\n"},{"tags":[],"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"down_vote_count":0,"up_vote_count":90,"is_accepted":true,"score":90,"last_activity_date":1287924988,"creation_date":1287924318,"answer_id":4008248,"question_id":4008223,"body_markdown":"        String newLine = System.getProperty(&quot;line.separator&quot;);//This will retrieve line separator dependent on OS.\r\n    \r\n        System.out.println(&quot;line 1&quot; + newLine + &quot;line2&quot;);","title":"Print in new line, java","body":"<pre><code>    String newLine = System.getProperty(\"line.separator\");//This will retrieve line separator dependent on OS.\n\n    System.out.println(\"line 1\" + newLine + \"line2\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":930674,"reputation":51,"user_id":960612,"display_name":"Salahuddin"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1320940296,"creation_date":1316762953,"answer_id":7525660,"question_id":4008223,"body_markdown":"`\\n` creates a new line in Java. Don&#39;t use spaces before or after `\\n`.\r\n\r\nExample: printing `It creates\\na new line` outputs \r\n\r\n&gt; It creates  \r\n&gt; a new line. \r\n","title":"Print in new line, java","body":"<p><code>\\n</code> creates a new line in Java. Don't use spaces before or after <code>\\n</code>.</p>\n\n<p>Example: printing <code>It creates\\na new line</code> outputs </p>\n\n<blockquote>\n  <p>It creates<br>\n  a new line. </p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2458864,"reputation":3,"user_id":2143427,"display_name":"tushar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1377680636,"creation_date":1377680636,"answer_id":18483584,"question_id":4008223,"body_markdown":"Since you are on Windows, instead of \\n use \\r\\n (carriage return + line feed).","title":"Print in new line, java","body":"<p>Since you are on Windows, instead of \\n use \\r\\n (carriage return + line feed).</p>\n"},{"tags":[],"owner":{"account_id":11013,"reputation":12295,"user_id":21063,"accept_rate":47,"display_name":"Shawn Vader"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1391157812,"creation_date":1391102024,"answer_id":21463051,"question_id":4008223,"body_markdown":"You should use the built in line separator. The advantage is that you don&#39;t have to concern  what system you code is running on, it will just work. \r\n\r\nSince Java 1.7\r\n\r\n    System.lineSeparator()\r\n\r\nPre Java 1.7\r\n\r\n    System.getProperty(&quot;line.separator&quot;)\r\n\r\n    \r\n              ","title":"Print in new line, java","body":"<p>You should use the built in line separator. The advantage is that you don't have to concern  what system you code is running on, it will just work. </p>\n\n<p>Since Java 1.7</p>\n\n<pre><code>System.lineSeparator()\n</code></pre>\n\n<p>Pre Java 1.7</p>\n\n<pre><code>System.getProperty(\"line.separator\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5474599,"reputation":39,"user_id":4352899,"accept_rate":50,"display_name":"Santhosh Raja"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1418367742,"creation_date":1418366426,"answer_id":27438217,"question_id":4008223,"body_markdown":"&quot;\\n&quot; \r\nthis is the simple method to separate the continuous String","title":"Print in new line, java","body":"<p>\"\\n\" \nthis is the simple method to separate the continuous String</p>\n"},{"tags":[],"owner":{"display_name":"user4402690"},"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1516771086,"creation_date":1419868045,"answer_id":27691916,"question_id":4008223,"body_markdown":"    System.out.println(&quot;hello&quot;+&quot;\\n&quot;+&quot;world&quot;);\r\n","title":"Print in new line, java","body":"<pre><code>System.out.println(\"hello\"+\"\\n\"+\"world\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8816967,"reputation":601,"user_id":6588053,"display_name":"Bhavya Jain"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1468520126,"creation_date":1468520126,"answer_id":38381384,"question_id":4008223,"body_markdown":"    //Case1:\r\n    System.out.println(&quot; 1  2  3  4  5  6  7  8  9&quot; + &quot;\\n&quot; + &quot;----------------------------&quot;);\r\n    \r\n    //Case2:\r\n    System.out.printf(&quot; 1  2  3  4  5  6  7  8  9&quot; + &quot;\\n&quot; + &quot;----------------------------&quot;);\r\n\r\n    //Case3:\r\n    System.out.print(&quot; 1  2  3  4  5  6  7  8  9&quot; + &quot;\\n&quot; + &quot;----------------------------&quot;);","title":"Print in new line, java","body":"<pre><code>//Case1:\nSystem.out.println(\" 1  2  3  4  5  6  7  8  9\" + \"\\n\" + \"----------------------------\");\n\n//Case2:\nSystem.out.printf(\" 1  2  3  4  5  6  7  8  9\" + \"\\n\" + \"----------------------------\");\n\n//Case3:\nSystem.out.print(\" 1  2  3  4  5  6  7  8  9\" + \"\\n\" + \"----------------------------\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9692884,"reputation":35,"user_id":7190390,"display_name":"Gajendra kumar"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1488814633,"creation_date":1488805837,"answer_id":42626516,"question_id":4008223,"body_markdown":"    System.out.print(values[i] + &quot; &quot;);\r\n    //in one number be printed","title":"Print in new line, java","body":"<pre><code>System.out.print(values[i] + \" \");\n//in one number be printed\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2467816,"reputation":1810,"user_id":2150483,"accept_rate":80,"display_name":"Alan Kis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699722580,"creation_date":1699722580,"answer_id":77466051,"question_id":4008223,"body_markdown":"Calling `System.out.println();` without any parameter terminates the current line by writing the line separator string.\r\n\r\n&gt; Terminates the current line by writing the line separator string. The line separator string is defined by the system property line.separator, and is not necessarily a single newline character (&#39;\\n&#39;) (1).\r\n\r\n1. https://docs.oracle.com/javase/8/docs/api/java/io/PrintStream.html#println--","title":"Print in new line, java","body":"<p>Calling <code>System.out.println();</code> without any parameter terminates the current line by writing the line separator string.</p>\n<blockquote>\n<p>Terminates the current line by writing the line separator string. The line separator string is defined by the system property line.separator, and is not necessarily a single newline character ('\\n') (1).</p>\n</blockquote>\n<ol>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/PrintStream.html#println--\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/io/PrintStream.html#println--</a></li>\n</ol>\n"}],"owner":{"account_id":172772,"reputation":69642,"user_id":401025,"accept_rate":98,"display_name":"DarkLeafyGreen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":595373,"favorite_count":0,"down_vote_count":0,"up_vote_count":55,"accepted_answer_id":4008248,"answer_count":12,"score":55,"last_activity_date":1699722580,"creation_date":1287923919,"question_id":4008223,"body_markdown":"I have following code :\r\n\r\n            \r\n\r\n        System.out.println(&quot; | 1  2  3  4  5  6  7  8  9&quot;);\r\n\t\tSystem.out.println(&quot;----------------------------&quot;);\r\n\t    System.out.println(&quot;&quot;);\r\n\r\nI use println to create a new line. Is it possible to do the same using \\n or \\r?\r\nI tried to add \\n to the second println statment and continue printing with the print method but \\n does not create a new line.\r\n\r\nany ideas?","title":"Print in new line, java","body":"<p>I have following code :</p>\n\n<pre><code>    System.out.println(\" | 1  2  3  4  5  6  7  8  9\");\n    System.out.println(\"----------------------------\");\n    System.out.println(\"\");\n</code></pre>\n\n<p>I use println to create a new line. Is it possible to do the same using \\n or \\r?\nI tried to add \\n to the second println statment and continue printing with the print method but \\n does not create a new line.</p>\n\n<p>any ideas?</p>\n"},{"tags":["java","apache-kafka","publish","vert.x"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1522150958,"post_id":49496934,"comment_id":86028149,"body_markdown":"If brokers go down, you get exceptions from the Future,which you need to handle. Maybe put a Redis cache to put back pressure between your api and the brokers?  If you&#39;re asking for a *monitoring solution*, there&#39;s better tools that perform process checking rather than ones you&#39;d write out on your own. Follows no different ways of monitoring a database or website","body":"If brokers go down, you get exceptions from the Future,which you need to handle. Maybe put a Redis cache to put back pressure between your api and the brokers?  If you&#39;re asking for a <i>monitoring solution</i>, there&#39;s better tools that perform process checking rather than ones you&#39;d write out on your own. Follows no different ways of monitoring a database or website"}],"answers":[{"tags":[],"owner":{"account_id":694347,"reputation":1752,"user_id":571879,"accept_rate":82,"display_name":"Francesco"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1522140054,"creation_date":1522140054,"answer_id":49508145,"question_id":49496934,"body_markdown":"If I were you I&#39;ll try to implement a [circuit breaker][1]. When you hit a reasonable amount of failures while sending your records, circuit breaks and provides some fallback behavior. Once some condition is met (e.g.: some time passed) the circuit close and you&#39;ll send records again. Also `vertx.io` comes with it&#39;s [own solution][2].\r\n\r\n\r\n  [1]: https://martinfowler.com/bliki/CircuitBreaker.html\r\n  [2]: https://vertx.io/docs/vertx-circuit-breaker/java/","title":"Alert if Kafka nodes are down","body":"<p>If I were you I'll try to implement a <a href=\"https://martinfowler.com/bliki/CircuitBreaker.html\" rel=\"nofollow noreferrer\">circuit breaker</a>. When you hit a reasonable amount of failures while sending your records, circuit breaks and provides some fallback behavior. Once some condition is met (e.g.: some time passed) the circuit close and you'll send records again. Also <code>vertx.io</code> comes with it's <a href=\"https://vertx.io/docs/vertx-circuit-breaker/java/\" rel=\"nofollow noreferrer\">own solution</a>.</p>\n"}],"owner":{"account_id":5801217,"reputation":910,"user_id":4575328,"accept_rate":20,"display_name":"Juvenik"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1009,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1699721012,"creation_date":1522084088,"question_id":49496934,"body_markdown":"I have been exposed a Kafka nodes and a topic-name. My web server receives a lot of http request data which I need to process them and then push them to kafka. Sometimes, if the kafka nodes are down, then my server still keeps pumping the data, which results in blowing up my memory and my server gets down.\r\n\r\nI want is to stop publishing the data if the Kafka is down. My Java sample code is as follows:\r\n\r\n\r\n      static Producer producer;\r\n    \r\n      Produce() {\r\n        Properties properties = new Properties();\r\n        properties.put(&quot;request.required.acks&quot;,&quot;1&quot;);\r\n        properties.put(&quot;bootstrap.servers&quot;,&quot;localhost:9092,localhost:9093,localhost:9094&quot;);\r\n        properties.put(&quot;enabled&quot;,&quot;true&quot;);\r\n        properties.put(&quot;value.serializer&quot;,&quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\r\n        properties.put(&quot;kafka-topic&quot;,&quot;pixel-server&quot;);\r\n        properties.put(&quot;batch.size&quot;,&quot;1000&quot;);\r\n        properties.put(&quot;producer.type&quot;,&quot;async&quot;);\r\n        properties.put(&quot;key.serializer&quot;,&quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\r\n        producer = new KafkaProducer&lt;String, String&gt;(properties);\r\n      }\r\n    \r\n    \r\n      public static void main(String[] args) {\r\n        Produce produce = new Produce();\r\n    \r\n        produce.send(producer, &quot;pixel-server&quot;, &quot;Some time&quot;);\r\n    \r\n      }\r\n      \r\n      //This method is called lot of times\r\n      public void send(Producer&lt;String, String&gt; producer, String topic, String data) {\r\n        ProducerRecord&lt;String, String&gt; producerRecord = new ProducerRecord&lt;&gt;(topic, data);\r\n        Future&lt;RecordMetadata&gt; response = producer.send(producerRecord, (metadata, exception) -&gt; {\r\n          if (null != exception) {\r\n            exception.printStackTrace();\r\n          } else {\r\n            System.out.println(&quot;Done&quot;);\r\n          }\r\n        });\r\n\r\nI have just abstracted out some sample code. The **send** method is called numerous times. I just want to prevent send any message if the kafka is down. What is the efficient way to tackle this situation.","title":"Alert if Kafka nodes are down","body":"<p>I have been exposed a Kafka nodes and a topic-name. My web server receives a lot of http request data which I need to process them and then push them to kafka. Sometimes, if the kafka nodes are down, then my server still keeps pumping the data, which results in blowing up my memory and my server gets down.</p>\n\n<p>I want is to stop publishing the data if the Kafka is down. My Java sample code is as follows:</p>\n\n<pre><code>  static Producer producer;\n\n  Produce() {\n    Properties properties = new Properties();\n    properties.put(\"request.required.acks\",\"1\");\n    properties.put(\"bootstrap.servers\",\"localhost:9092,localhost:9093,localhost:9094\");\n    properties.put(\"enabled\",\"true\");\n    properties.put(\"value.serializer\",\"org.apache.kafka.common.serialization.StringSerializer\");\n    properties.put(\"kafka-topic\",\"pixel-server\");\n    properties.put(\"batch.size\",\"1000\");\n    properties.put(\"producer.type\",\"async\");\n    properties.put(\"key.serializer\",\"org.apache.kafka.common.serialization.StringSerializer\");\n    producer = new KafkaProducer&lt;String, String&gt;(properties);\n  }\n\n\n  public static void main(String[] args) {\n    Produce produce = new Produce();\n\n    produce.send(producer, \"pixel-server\", \"Some time\");\n\n  }\n\n  //This method is called lot of times\n  public void send(Producer&lt;String, String&gt; producer, String topic, String data) {\n    ProducerRecord&lt;String, String&gt; producerRecord = new ProducerRecord&lt;&gt;(topic, data);\n    Future&lt;RecordMetadata&gt; response = producer.send(producerRecord, (metadata, exception) -&gt; {\n      if (null != exception) {\n        exception.printStackTrace();\n      } else {\n        System.out.println(\"Done\");\n      }\n    });\n</code></pre>\n\n<p>I have just abstracted out some sample code. The <strong>send</strong> method is called numerous times. I just want to prevent send any message if the kafka is down. What is the efficient way to tackle this situation.</p>\n"},{"tags":["java","docker","jenkins","ssh","jenkins-agent"],"comments":[{"owner":{"account_id":19526109,"reputation":11,"user_id":14286926,"display_name":"Prasoon Mishra"},"score":1,"creation_date":1627904388,"post_id":68620615,"comment_id":121272065,"body_markdown":"It is  giving error on running cmd --&gt; java  -jar remoting.jar -workDir  -jar-cache /remoting/jarCache","body":"It is  giving error on running cmd --&gt; java  -jar remoting.jar -workDir  -jar-cache /remoting/jarCache"}],"answers":[{"tags":[],"owner":{"account_id":19526109,"reputation":11,"user_id":14286926,"display_name":"Prasoon Mishra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1627983372,"creation_date":1627982355,"answer_id":68633409,"question_id":68620615,"body_markdown":"I have solved above problem by changing the username in dockerfile for build-agent, previously it was set to root user,now I have set this to **jenkins** and now Jenkins server will use  &quot;/home/jenkins/&quot;  as a working directory.\r\n\r\nYou need to build image from this dockerfile and then specify this particular image to the cloud-configuration of docker\r\n\r\nYou need to change the credentials in jenkins as well \r\n```\r\nFROM ubuntu:18.04\r\nRUN mkdir -p /var/run/sshd\r\nRUN apt -y update\r\nRUN apt install -y openjdk-8-jdk\r\nRUN apt install -y openssh-server\r\nRUN apt install -y git\r\n#RUN apt install -y maven\r\n\r\n#generate the host keys with the default key file path, an empty passphrase\r\n\r\nRUN ssh-keygen -A  \r\nADD ./sshd_config /etc/ssh/sshd_config\r\nRUN echo ***jenkins:password123***| chpasswd\r\nRUN chown -R **jenkins:jenkins** /home/jenkins/\r\nEXPOSE 22\r\nCMD [&quot;/usr/sbin/sshd&quot;, &quot;-D&quot;]\r\n```","title":"Jenkins agentfailing due to jarCache error","body":"<p>I have solved above problem by changing the username in dockerfile for build-agent, previously it was set to root user,now I have set this to <strong>jenkins</strong> and now Jenkins server will use  &quot;/home/jenkins/&quot;  as a working directory.</p>\n<p>You need to build image from this dockerfile and then specify this particular image to the cloud-configuration of docker</p>\n<p>You need to change the credentials in jenkins as well</p>\n<pre><code>FROM ubuntu:18.04\nRUN mkdir -p /var/run/sshd\nRUN apt -y update\nRUN apt install -y openjdk-8-jdk\nRUN apt install -y openssh-server\nRUN apt install -y git\n#RUN apt install -y maven\n\n#generate the host keys with the default key file path, an empty passphrase\n\nRUN ssh-keygen -A  \nADD ./sshd_config /etc/ssh/sshd_config\nRUN echo ***jenkins:password123***| chpasswd\nRUN chown -R **jenkins:jenkins** /home/jenkins/\nEXPOSE 22\nCMD [&quot;/usr/sbin/sshd&quot;, &quot;-D&quot;]\n</code></pre>\n"}],"owner":{"account_id":19526109,"reputation":11,"user_id":14286926,"display_name":"Prasoon Mishra"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1939,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":68633409,"answer_count":1,"score":1,"last_activity_date":1699720396,"creation_date":1627902863,"question_id":68620615,"body_markdown":"I have a Jenkins controller running in VM and docker running on another VM, I have setup all the required things for making docker as a build-agent for Jenkins.\r\nNow When I am running a simple job on docker-build agent, I am getting following error:\r\n\r\n```\r\nSSHLauncher{host=&#39;192.168.33.15&#39;, port=49162, credentialsId=&#39;dock-cont-pass&#39;, jvmOptions=&#39;&#39;, javaPath=&#39;&#39;, prefixStartSlaveCmd=&#39;&#39;, suffixStartSlaveCmd=&#39;&#39;, launchTimeoutSeconds=60, maxNumRetries=10, retryWaitTime=15, sshHostKeyVerificationStrategy=hudson.plugins.sshslaves.verifiers.NonVerifyingKeyVerificationStrategy, tcpNoDelay=true, trackCredentials=true}\r\n[08/02/21 11:00:36] [SSH] Opening SSH connection to 192.168.33.15:49162.\r\n[08/02/21 11:00:36] [SSH] WARNING: SSH Host Keys are not being verified. Man-in-the-middle attacks may be possible against this connection.\r\n[08/02/21 11:00:37] [SSH] Authentication successful.\r\n[08/02/21 11:00:37] [SSH] The remote user&#39;s environment is:\r\nBASH=/usr/bin/bash\r\nBASHOPTS=checkwinsize:cmdhist:complete_fullquote:extquote:force_fignore:globasciiranges:hostcomplete:interactive_comments:progcomp:promptvars:sourcepath\r\nBASH_ALIASES=()\r\nBASH_ARGC=([0]=&quot;0&quot;)\r\nBASH_ARGV=()\r\nBASH_CMDS=()\r\nBASH_EXECUTION_STRING=set\r\nBASH_LINENO=()\r\nBASH_SOURCE=()\r\nBASH_VERSINFO=([0]=&quot;5&quot; [1]=&quot;0&quot; [2]=&quot;17&quot; [3]=&quot;1&quot; [4]=&quot;release&quot; [5]=&quot;x86_64-pc-linux-gnu&quot;)\r\nBASH_VERSION=&#39;5.0.17(1)-release&#39;\r\nDIRSTACK=()\r\nEUID=1000\r\nGROUPS=()\r\nHOME=/home/jenkins\r\nHOSTNAME=7bf4435f24c4\r\nHOSTTYPE=x86_64\r\nIFS=$&#39; \\t\\n&#39;\r\nLOGNAME=jenkins\r\nMACHTYPE=x86_64-pc-linux-gnu\r\nMOTD_SHOWN=pam\r\nOPTERR=1\r\nOPTIND=1\r\nOSTYPE=linux-gnu\r\nPATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin\r\nPIPESTATUS=([0]=&quot;0&quot;)\r\nPPID=72\r\nPS4=&#39;+ &#39;\r\nPWD=/home/jenkins\r\nSHELL=/bin/bash\r\nSHELLOPTS=braceexpand:hashall:interactive-comments\r\nSHLVL=1\r\nSSH_CLIENT=&#39;192.168.33.10 37292 22&#39;\r\nSSH_CONNECTION=&#39;192.168.33.10 37292 172.17.0.3 22&#39;\r\nTERM=dumb\r\nUID=1000\r\nUSER=jenkins\r\n_=&#39;]&#39;\r\nChecking Java version in the PATH\r\nopenjdk version &quot;1.8.0_292&quot;\r\nOpenJDK Runtime Environment (build 1.8.0_292-8u292-b10-0ubuntu1~20.04-b10)\r\nOpenJDK 64-Bit Server VM (build 25.292-b10, mixed mode)\r\n[08/02/21 11:00:37] [SSH] Checking java version of /jdk/bin/java\r\nCouldn&#39;t figure out the Java version of /jdk/bin/java\r\nbash: /jdk/bin/java: No such file or directory\r\n\r\n[08/02/21 11:00:37] [SSH] Checking java version of java\r\n[08/02/21 11:00:37] [SSH] java -version returned 1.8.0_292.\r\n[08/02/21 11:00:37] [SSH] Starting sftp client.\r\nERROR: [08/02/21 11:00:37] [SSH] SFTP failed. Copying via SCP.\r\njava.io.IOException: The subsystem request failed.\r\n\tat com.trilead.ssh2.channel.ChannelManager.requestSubSystem(ChannelManager.java:741)\r\n\tat com.trilead.ssh2.Session.startSubSystem(Session.java:362)\r\n\tat com.trilead.ssh2.SFTPv3Client.&lt;init&gt;(SFTPv3Client.java:100)\r\n\tat com.trilead.ssh2.SFTPv3Client.&lt;init&gt;(SFTPv3Client.java:119)\r\n\tat com.trilead.ssh2.jenkins.SFTPClient.&lt;init&gt;(SFTPClient.java:43)\r\n\tat hudson.plugins.sshslaves.SSHLauncher.copyAgentJar(SSHLauncher.java:688)\r\n\tat hudson.plugins.sshslaves.SSHLauncher.access$400(SSHLauncher.java:111)\r\n\tat hudson.plugins.sshslaves.SSHLauncher$1.call(SSHLauncher.java:456)\r\n\tat hudson.plugins.sshslaves.SSHLauncher$1.call(SSHLauncher.java:421)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\nCaused by: java.io.IOException: The server denied the request.\r\n\tat com.trilead.ssh2.channel.ChannelManager.requestSubSystem(ChannelManager.java:737)\r\n\t... 12 more\r\n[08/02/21 11:00:37] [SSH] Copying latest remoting.jar...\r\nExpanded the channel window size to 4MB\r\n[08/02/21 11:00:37] [SSH] **Starting agent process: cd &quot;&quot; &amp;&amp; java  -jar remoting.jar -workDir  -jar-cache /remoting/jarCache\r\nNo argument is allowed: /remoting/jarCache**\r\njava -jar agent.jar [options...]\r\n -agentLog FILE                  : Local agent error log destination (overrides\r\n                                   workDir)\r\n -auth user:pass                 : If your Jenkins is security-enabled, specify\r\n                                   a valid user name and password.\r\n -cert VAL                       : Specify additional X.509 encoded PEM\r\n                                   certificates to trust when connecting to\r\n                                   Jenkins root URLs. If starting with @ then\r\n                                   the remainder is assumed to be the name of\r\n                                   the certificate file to read.\r\n -connectTo HOST:PORT            : make a TCP connection to the given host and\r\n                                   port, then start communication.\r\n -cp (-classpath) PATH           : add the given classpath elements to the\r\n                                   system classloader.\r\n -failIfWorkDirIsMissing         : Fails the initialization if the requested\r\n                                   workDir or internalDir are missing (&#39;false&#39;\r\n                                   by default) (default: false)\r\n -help                           : Show this help message (default: false)\r\n -internalDir VAL                : Specifies a name of the internal files\r\n                                   within a working directory (&#39;remoting&#39; by\r\n                                   default) (default: remoting)\r\n -jar-cache DIR                  : Cache directory that stores jar files sent\r\n                                   from the master\r\n -jnlpCredentials USER:PASSWORD  : HTTP BASIC AUTH header to pass in for making\r\n                                   HTTP requests.\r\n -jnlpUrl URL                    : instead of talking to the master via\r\n                                   stdin/stdout, emulate a JNLP client by\r\n                                   making a TCP connection to the master.\r\n                                   Connection parameters are obtained by\r\n                                   parsing the JNLP file.\r\n -loggingConfig FILE             : Path to the property file with\r\n                                   java.util.logging settings\r\n -noKeepAlive                    : Disable TCP socket keep alive on connection\r\n                                   to the master. (default: false)\r\n -noReconnect                    : Doesn&#39;t try to reconnect when a\r\n                                   communication fail, and exit instead\r\n                                   (default: false)\r\n -proxyCredentials USER:PASSWORD : HTTP BASIC AUTH header to pass in for making\r\n                                   HTTP authenticated proxy requests.\r\n -secret HEX_SECRET              : Agent connection secret to use instead of\r\n                                   -jnlpCredentials.\r\n -tcp FILE                       : instead of talking to the master via\r\n                                   stdin/stdout, listens to a random local\r\n                                   port, write that port number to the given\r\n                                   file, then wait for the master to connect to\r\n                                   that port.\r\n -text                           : encode communication with the master with\r\n                                   base64. Useful for running agent over 8-bit\r\n                                   unsafe protocol like telnet\r\n -version                        : Shows the version of the remoting jar and\r\n                                   then exits (default: false)\r\n -workDir FILE                   : Declares the working directory of the\r\n                                   remoting instance (stores cache and logs by\r\n                                   default) (default: -jar-cache)\r\n\r\nAgent JVM has terminated. Exit code=0\r\n[08/02/21 11:00:39] Launch failed - cleaning up connection\r\n[08/02/21 11:00:39] [SSH] Connection closed.\r\n```\r\n\r\nHow Can I resolved this problem I am using SSH-connection for connecting the docker container.","title":"Jenkins agentfailing due to jarCache error","body":"<p>I have a Jenkins controller running in VM and docker running on another VM, I have setup all the required things for making docker as a build-agent for Jenkins.\nNow When I am running a simple job on docker-build agent, I am getting following error:</p>\n<pre><code>SSHLauncher{host='192.168.33.15', port=49162, credentialsId='dock-cont-pass', jvmOptions='', javaPath='', prefixStartSlaveCmd='', suffixStartSlaveCmd='', launchTimeoutSeconds=60, maxNumRetries=10, retryWaitTime=15, sshHostKeyVerificationStrategy=hudson.plugins.sshslaves.verifiers.NonVerifyingKeyVerificationStrategy, tcpNoDelay=true, trackCredentials=true}\n[08/02/21 11:00:36] [SSH] Opening SSH connection to 192.168.33.15:49162.\n[08/02/21 11:00:36] [SSH] WARNING: SSH Host Keys are not being verified. Man-in-the-middle attacks may be possible against this connection.\n[08/02/21 11:00:37] [SSH] Authentication successful.\n[08/02/21 11:00:37] [SSH] The remote user's environment is:\nBASH=/usr/bin/bash\nBASHOPTS=checkwinsize:cmdhist:complete_fullquote:extquote:force_fignore:globasciiranges:hostcomplete:interactive_comments:progcomp:promptvars:sourcepath\nBASH_ALIASES=()\nBASH_ARGC=([0]=&quot;0&quot;)\nBASH_ARGV=()\nBASH_CMDS=()\nBASH_EXECUTION_STRING=set\nBASH_LINENO=()\nBASH_SOURCE=()\nBASH_VERSINFO=([0]=&quot;5&quot; [1]=&quot;0&quot; [2]=&quot;17&quot; [3]=&quot;1&quot; [4]=&quot;release&quot; [5]=&quot;x86_64-pc-linux-gnu&quot;)\nBASH_VERSION='5.0.17(1)-release'\nDIRSTACK=()\nEUID=1000\nGROUPS=()\nHOME=/home/jenkins\nHOSTNAME=7bf4435f24c4\nHOSTTYPE=x86_64\nIFS=$' \\t\\n'\nLOGNAME=jenkins\nMACHTYPE=x86_64-pc-linux-gnu\nMOTD_SHOWN=pam\nOPTERR=1\nOPTIND=1\nOSTYPE=linux-gnu\nPATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin\nPIPESTATUS=([0]=&quot;0&quot;)\nPPID=72\nPS4='+ '\nPWD=/home/jenkins\nSHELL=/bin/bash\nSHELLOPTS=braceexpand:hashall:interactive-comments\nSHLVL=1\nSSH_CLIENT='192.168.33.10 37292 22'\nSSH_CONNECTION='192.168.33.10 37292 172.17.0.3 22'\nTERM=dumb\nUID=1000\nUSER=jenkins\n_=']'\nChecking Java version in the PATH\nopenjdk version &quot;1.8.0_292&quot;\nOpenJDK Runtime Environment (build 1.8.0_292-8u292-b10-0ubuntu1~20.04-b10)\nOpenJDK 64-Bit Server VM (build 25.292-b10, mixed mode)\n[08/02/21 11:00:37] [SSH] Checking java version of /jdk/bin/java\nCouldn't figure out the Java version of /jdk/bin/java\nbash: /jdk/bin/java: No such file or directory\n\n[08/02/21 11:00:37] [SSH] Checking java version of java\n[08/02/21 11:00:37] [SSH] java -version returned 1.8.0_292.\n[08/02/21 11:00:37] [SSH] Starting sftp client.\nERROR: [08/02/21 11:00:37] [SSH] SFTP failed. Copying via SCP.\njava.io.IOException: The subsystem request failed.\n    at com.trilead.ssh2.channel.ChannelManager.requestSubSystem(ChannelManager.java:741)\n    at com.trilead.ssh2.Session.startSubSystem(Session.java:362)\n    at com.trilead.ssh2.SFTPv3Client.&lt;init&gt;(SFTPv3Client.java:100)\n    at com.trilead.ssh2.SFTPv3Client.&lt;init&gt;(SFTPv3Client.java:119)\n    at com.trilead.ssh2.jenkins.SFTPClient.&lt;init&gt;(SFTPClient.java:43)\n    at hudson.plugins.sshslaves.SSHLauncher.copyAgentJar(SSHLauncher.java:688)\n    at hudson.plugins.sshslaves.SSHLauncher.access$400(SSHLauncher.java:111)\n    at hudson.plugins.sshslaves.SSHLauncher$1.call(SSHLauncher.java:456)\n    at hudson.plugins.sshslaves.SSHLauncher$1.call(SSHLauncher.java:421)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: java.io.IOException: The server denied the request.\n    at com.trilead.ssh2.channel.ChannelManager.requestSubSystem(ChannelManager.java:737)\n    ... 12 more\n[08/02/21 11:00:37] [SSH] Copying latest remoting.jar...\nExpanded the channel window size to 4MB\n[08/02/21 11:00:37] [SSH] **Starting agent process: cd &quot;&quot; &amp;&amp; java  -jar remoting.jar -workDir  -jar-cache /remoting/jarCache\nNo argument is allowed: /remoting/jarCache**\njava -jar agent.jar [options...]\n -agentLog FILE                  : Local agent error log destination (overrides\n                                   workDir)\n -auth user:pass                 : If your Jenkins is security-enabled, specify\n                                   a valid user name and password.\n -cert VAL                       : Specify additional X.509 encoded PEM\n                                   certificates to trust when connecting to\n                                   Jenkins root URLs. If starting with @ then\n                                   the remainder is assumed to be the name of\n                                   the certificate file to read.\n -connectTo HOST:PORT            : make a TCP connection to the given host and\n                                   port, then start communication.\n -cp (-classpath) PATH           : add the given classpath elements to the\n                                   system classloader.\n -failIfWorkDirIsMissing         : Fails the initialization if the requested\n                                   workDir or internalDir are missing ('false'\n                                   by default) (default: false)\n -help                           : Show this help message (default: false)\n -internalDir VAL                : Specifies a name of the internal files\n                                   within a working directory ('remoting' by\n                                   default) (default: remoting)\n -jar-cache DIR                  : Cache directory that stores jar files sent\n                                   from the master\n -jnlpCredentials USER:PASSWORD  : HTTP BASIC AUTH header to pass in for making\n                                   HTTP requests.\n -jnlpUrl URL                    : instead of talking to the master via\n                                   stdin/stdout, emulate a JNLP client by\n                                   making a TCP connection to the master.\n                                   Connection parameters are obtained by\n                                   parsing the JNLP file.\n -loggingConfig FILE             : Path to the property file with\n                                   java.util.logging settings\n -noKeepAlive                    : Disable TCP socket keep alive on connection\n                                   to the master. (default: false)\n -noReconnect                    : Doesn't try to reconnect when a\n                                   communication fail, and exit instead\n                                   (default: false)\n -proxyCredentials USER:PASSWORD : HTTP BASIC AUTH header to pass in for making\n                                   HTTP authenticated proxy requests.\n -secret HEX_SECRET              : Agent connection secret to use instead of\n                                   -jnlpCredentials.\n -tcp FILE                       : instead of talking to the master via\n                                   stdin/stdout, listens to a random local\n                                   port, write that port number to the given\n                                   file, then wait for the master to connect to\n                                   that port.\n -text                           : encode communication with the master with\n                                   base64. Useful for running agent over 8-bit\n                                   unsafe protocol like telnet\n -version                        : Shows the version of the remoting jar and\n                                   then exits (default: false)\n -workDir FILE                   : Declares the working directory of the\n                                   remoting instance (stores cache and logs by\n                                   default) (default: -jar-cache)\n\nAgent JVM has terminated. Exit code=0\n[08/02/21 11:00:39] Launch failed - cleaning up connection\n[08/02/21 11:00:39] [SSH] Connection closed.\n</code></pre>\n<p>How Can I resolved this problem I am using SSH-connection for connecting the docker container.</p>\n"},{"tags":["java","amazon-web-services","kubernetes","kubernetes-helm","amazon-eks"],"comments":[{"owner":{"account_id":13863020,"reputation":136993,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1699788880,"post_id":77465762,"comment_id":136573030,"body_markdown":"You&#39;ve compromised your AWS credentials by publishing them in clear text in a Docker image.  Is it possible your security team revoked them?  In EKS you should be able to use AWS STS to get credentials for a specific IAM role, and then that role will need AWS permissions to access the other cluster.","body":"You&#39;ve compromised your AWS credentials by publishing them in clear text in a Docker image.  Is it possible your security team revoked them?  In EKS you should be able to use AWS STS to get credentials for a specific IAM role, and then that role will need AWS permissions to access the other cluster."},{"owner":{"account_id":13863020,"reputation":136993,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1699788993,"post_id":77465762,"comment_id":136573041,"body_markdown":"You also will generally need to set up a kubeconfig file specific to EKS, and it needs a specific helper to supply credentials.  Is that file in the right place?  Do you have the necessary credential helper in the image?","body":"You also will generally need to set up a kubeconfig file specific to EKS, and it needs a specific helper to supply credentials.  Is that file in the right place?  Do you have the necessary credential helper in the image?"},{"owner":{"account_id":2679463,"reputation":2502,"user_id":2315104,"accept_rate":42,"display_name":"user2315104"},"score":0,"creation_date":1699810514,"post_id":77465762,"comment_id":136575140,"body_markdown":"@DavidMaze: Thanks \nThe POD where we are running shell script have the kube config file specific to EKS . What is this helper you are talking about ? Can you please elaborate ?","body":"@DavidMaze: Thanks  The POD where we are running shell script have the kube config file specific to EKS . What is this helper you are talking about ? Can you please elaborate ?"},{"owner":{"account_id":2679463,"reputation":2502,"user_id":2315104,"accept_rate":42,"display_name":"user2315104"},"score":0,"creation_date":1699815749,"post_id":77465762,"comment_id":136575712,"body_markdown":"@DavidMaze: Im already setting up the context using aws eks command line \n\naws eks --region $2 update-kubeconfig --name $1","body":"@DavidMaze: Im already setting up the context using aws eks command line   aws eks --region $2 update-kubeconfig --name $1"}],"owner":{"account_id":2679463,"reputation":2502,"user_id":2315104,"accept_rate":42,"display_name":"user2315104"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699717477,"creation_date":1699717477,"question_id":77465762,"body_markdown":"**What is the issue** \r\n\r\nWe have custom JAVA based application which basically updates the ingress entries in another EKS cluster using API layer . Let me explain \r\n\r\n1: JAVA application is deployed in POD in one EKS cluster, named , A. This app has logic of setting the context of another EKS cluster, named , B and run few commands to append the ingress entries in deployment using helm package manager. \r\n\r\n2: If we run the java app without container / POD , it works fine \r\n\r\n3: If we run the java app within POD (using deployment/service) , deployed in cluster A, throws following error. This JAVA app basically executes the `helm.sh` explained below  \r\n\r\n    Error: Kubernetes cluster unreachable: the server has asked for the client to provide credentials \r\n\r\nThe Dockerfile as below : \r\n\r\n    FROM openjdk:17-slim\r\n    \r\n    WORKDIR /app\r\n    EXPOSE 8080\r\n    \r\n    RUN apt-get -y update; apt-get -y install curl; apt-get -y install unzip; apt-get -y install jq\r\n    RUN curl -fsSL -o get_helm.sh https://raw.githubusercontent.com/helm/helm/main/scripts/get-helm-3\r\n    RUN chmod 700 get_helm.sh\r\n    RUN ./get_helm.sh\r\n    \r\n    RUN curl &quot;https://awscli.amazonaws.com/awscli-exe-linux-x86_64.zip&quot; -o &quot;awscliv2.zip&quot;\r\n    RUN unzip awscliv2.zip &amp;&amp; ./aws/install\r\n    \r\n    ENV AWS_ACCESS_KEY_ID=&lt;key&gt;\r\n    ENV AWS_SECRET_ACCESS_KEY=&lt;acc-key&gt;\r\n    ENV AWS_DEFAULT_REGION=us-east-1\r\n    \r\n    ADD helm.sh /app \r\n    RUN chmod 755 /app/helm.sh\r\n    ADD target/app1.jar /app/app1.jar\r\n    CMD [&quot;java&quot;, &quot;-jar&quot;, &quot;/app/app1.jar&quot; ]\r\n\r\nThe content of shell script (`helm.sh`) is as follows : \r\n\r\n    helm upgrade --install &lt;chartname&gt; &lt;chart-dir&gt; --namespace plat --kubeconfig ~/.kube/config -f &lt;chart-dir&gt;/values.yaml\r\n\r\n**what we have tried** \r\n\r\n1: open all the traffic on the nodes of EKS cluster (incoming/outgoing)\r\n\r\n2: configured the service as &quot;NodePort&quot; instead of ClusterIP. It is the same service where we need to append the ingress entries.  \r\n\r\n3: pass the kubeconfig at command line of that cluster where we need to append the ingress entries \r\n\r\nStill no luck \r\n\r\nAs the error suggests , it is the issue of POD communication across clusters but not getting where we are missing . \r\n\r\nPlease help / suggest ","title":"Helm upgrade fails to update the deployment in another EKS cluster","body":"<p><strong>What is the issue</strong></p>\n<p>We have custom JAVA based application which basically updates the ingress entries in another EKS cluster using API layer . Let me explain</p>\n<p>1: JAVA application is deployed in POD in one EKS cluster, named , A. This app has logic of setting the context of another EKS cluster, named , B and run few commands to append the ingress entries in deployment using helm package manager.</p>\n<p>2: If we run the java app without container / POD , it works fine</p>\n<p>3: If we run the java app within POD (using deployment/service) , deployed in cluster A, throws following error. This JAVA app basically executes the <code>helm.sh</code> explained below</p>\n<pre><code>Error: Kubernetes cluster unreachable: the server has asked for the client to provide credentials \n</code></pre>\n<p>The Dockerfile as below :</p>\n<pre><code>FROM openjdk:17-slim\n\nWORKDIR /app\nEXPOSE 8080\n\nRUN apt-get -y update; apt-get -y install curl; apt-get -y install unzip; apt-get -y install jq\nRUN curl -fsSL -o get_helm.sh https://raw.githubusercontent.com/helm/helm/main/scripts/get-helm-3\nRUN chmod 700 get_helm.sh\nRUN ./get_helm.sh\n\nRUN curl &quot;https://awscli.amazonaws.com/awscli-exe-linux-x86_64.zip&quot; -o &quot;awscliv2.zip&quot;\nRUN unzip awscliv2.zip &amp;&amp; ./aws/install\n\nENV AWS_ACCESS_KEY_ID=&lt;key&gt;\nENV AWS_SECRET_ACCESS_KEY=&lt;acc-key&gt;\nENV AWS_DEFAULT_REGION=us-east-1\n\nADD helm.sh /app \nRUN chmod 755 /app/helm.sh\nADD target/app1.jar /app/app1.jar\nCMD [&quot;java&quot;, &quot;-jar&quot;, &quot;/app/app1.jar&quot; ]\n</code></pre>\n<p>The content of shell script (<code>helm.sh</code>) is as follows :</p>\n<pre><code>helm upgrade --install &lt;chartname&gt; &lt;chart-dir&gt; --namespace plat --kubeconfig ~/.kube/config -f &lt;chart-dir&gt;/values.yaml\n</code></pre>\n<p><strong>what we have tried</strong></p>\n<p>1: open all the traffic on the nodes of EKS cluster (incoming/outgoing)</p>\n<p>2: configured the service as &quot;NodePort&quot; instead of ClusterIP. It is the same service where we need to append the ingress entries.</p>\n<p>3: pass the kubeconfig at command line of that cluster where we need to append the ingress entries</p>\n<p>Still no luck</p>\n<p>As the error suggests , it is the issue of POD communication across clusters but not getting where we are missing .</p>\n<p>Please help / suggest</p>\n"},{"tags":["java","maven","keycloak","quarkus"],"answers":[{"tags":[],"owner":{"account_id":11377012,"reputation":12762,"user_id":8340997,"display_name":"Anish B."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699678235,"creation_date":1699678235,"answer_id":77463933,"question_id":77462623,"body_markdown":"Please add `io.smallrye:jandex` latest dependency to **pom.xml**:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.smallrye&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jandex&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1.5&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThis has the method `org.jboss.jandex.DotName.createSimple(Class&lt;?&gt; clazz)` in it.\r\n\r\n","title":"Keycloak version and quarkus version mismatch during mvn package","body":"<p>Please add <code>io.smallrye:jandex</code> latest dependency to <strong>pom.xml</strong>:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.smallrye&lt;/groupId&gt;\n    &lt;artifactId&gt;jandex&lt;/artifactId&gt;\n    &lt;version&gt;3.1.5&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>This has the method <code>org.jboss.jandex.DotName.createSimple(Class&lt;?&gt; clazz)</code> in it.</p>\n"},{"tags":[],"owner":{"account_id":16414307,"reputation":99,"user_id":11856842,"display_name":"furion2000"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699717460,"creation_date":1699717460,"answer_id":77465761,"question_id":77462623,"body_markdown":"I had added the missing jandex lib as mentioned above\r\n\r\nnext I also got an exception:\r\njava.lang.IllegalArgumentException: Unsupported api 524288\r\n\r\nStarted to investigate into the quarkus maven plugin which builds the jar and just removed it and stick to the apache maven plugin and this build the jar without a problem....\r\n\r\nSo not an anwer to the problem, but a solid workaround I believe.","title":"Keycloak version and quarkus version mismatch during mvn package","body":"<p>I had added the missing jandex lib as mentioned above</p>\n<p>next I also got an exception:\njava.lang.IllegalArgumentException: Unsupported api 524288</p>\n<p>Started to investigate into the quarkus maven plugin which builds the jar and just removed it and stick to the apache maven plugin and this build the jar without a problem....</p>\n<p>So not an anwer to the problem, but a solid workaround I believe.</p>\n"}],"owner":{"account_id":16414307,"reputation":99,"user_id":11856842,"display_name":"furion2000"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1699717460,"creation_date":1699646897,"question_id":77462623,"body_markdown":"I succesfully build Keycloak 20.0.1 with quarkus.version 2.13.3.Final, but now I want to try with keycloak 22.0.5 and the `mvn clean package` command fails with:\r\n \r\n`[ERROR] Failed to execute goal io.quarkus:quarkus-maven-plugin:2.13.3.Final:build (default) on project keycloak: Execution default of goal io.quarkus:quarkus-maven-plugin:2.13.3.Final:build failed: An API incompatibility was encountered while executing io.quarkus:quarkus-maven-plugin:2.13.3.Final:build: java.lang.NoSuchMethodError: &#39;org.jboss.jandex.DotName org.jboss.jandex.DotName.createSimple(java.lang.Class)&#39;`\r\n\r\nWhat I did to try and solve this in play with versioning in my pom. I tried quarkus version `3.2.8.Final` and the latest of final 3.1.x and 3.0.x. All failed with the same error. Below is first the child pom which fails with the error and the parent 2nd.\r\n\r\nI have placed both poms in, but I am most curious in how to tackle this problem in the future, because what I tried was to look on the keycloak github and see what quarkus version is used there in the pom, but this did worked neither\r\n\r\n        &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;!-- Keycloak Distribution --&gt;\r\n            &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\r\n            &lt;artifactId&gt;keycloak-quarkus-dist&lt;/artifactId&gt;\r\n            &lt;type&gt;zip&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;!-- Keycloak Quarkus Server Libraries--&gt;\r\n            &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\r\n            &lt;artifactId&gt;keycloak-quarkus-server&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;finalName&gt;keycloak-${project.version}&lt;/finalName&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n                &lt;artifactId&gt;quarkus-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 \r\n    http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;keycloak-config-test&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1&lt;/version&gt;\r\n    &lt;packaging&gt;pom&lt;/packaging&gt;\r\n\r\n    &lt;modules&gt;\r\n        &lt;module&gt;keycloak&lt;/module&gt;\r\n        &lt;module&gt;java-config&lt;/module&gt;\r\n    &lt;/modules&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;!-- Java --&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n\r\n        &lt;!-- Maven --&gt;\r\n        &lt;maven-surefire-plugin.version&gt;3.2.2&lt;/maven-surefire-plugin.version&gt;\r\n        &lt;maven.shade.plugin.version&gt;3.5.1&lt;/maven.shade.plugin.version&gt;\r\n        &lt;maven.jar.plugin.version&gt;3.2.2&lt;/maven.jar.plugin.version&gt;\r\n\r\n        &lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;${java.version}&lt;/maven.compiler.target&gt;\r\n        &lt;maven.build.timestamp.format&gt;yyyy-MM-dd&#39;T&#39;HH:mm:ss&#39;Z&#39;&lt;/maven.build.timestamp.format&gt;\r\n\r\n        &lt;!-- Project specific --&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n\r\n        &lt;!-- Keycloak --&gt;\r\n        &lt;keycloak.version&gt;22.0.5&lt;/keycloak.version&gt;\r\n        &lt;quarkus.version&gt;2.13.3.Final&lt;/quarkus.version&gt;\r\n        &lt;quarkus.native.builder-image&gt;mutable-jar&lt;/quarkus.native.builder-image&gt;\r\n\r\n        &lt;!-- Plugins --&gt;\r\n        &lt;build-helper-maven-plugin.version&gt;3.4.0&lt;/build-helper-maven-plugin.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;!--Quarkus--&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.quarkus.arc&lt;/groupId&gt;\r\n                &lt;artifactId&gt;arc&lt;/artifactId&gt;\r\n                &lt;version&gt;${quarkus.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!--keycloak--&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\r\n                &lt;artifactId&gt;keycloak-quarkus-server&lt;/artifactId&gt;\r\n                &lt;version&gt;${keycloak.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\r\n                &lt;artifactId&gt;keycloak-quarkus-dist&lt;/artifactId&gt;\r\n                &lt;version&gt;${keycloak.version}&lt;/version&gt;\r\n                &lt;type&gt;zip&lt;/type&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\r\n                &lt;artifactId&gt;keycloak-admin-client&lt;/artifactId&gt;\r\n                &lt;version&gt;${keycloak.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\r\n                &lt;artifactId&gt;keycloak-core&lt;/artifactId&gt;\r\n                &lt;version&gt;${keycloak.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\r\n                &lt;artifactId&gt;keycloak-services&lt;/artifactId&gt;\r\n                &lt;version&gt;${keycloak.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\n            &lt;!--REST--&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n                &lt;artifactId&gt;quarkus-resteasy-jackson&lt;/artifactId&gt;\r\n                &lt;version&gt;${quarkus.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n                &lt;artifactId&gt;quarkus-rest-client&lt;/artifactId&gt;\r\n                &lt;version&gt;${quarkus.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n                &lt;artifactId&gt;quarkus-rest-client-jackson&lt;/artifactId&gt;\r\n                &lt;version&gt;${quarkus.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;pluginManagement&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;${maven-surefire-plugin.version}&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;excludes&gt;\r\n                            &lt;exclude&gt;**/*IntegrationTest.java&lt;/exclude&gt;\r\n                        &lt;/excludes&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;unpack-keycloak-server-distribution&lt;/id&gt;\r\n                            &lt;phase&gt;package&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;unpack&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;artifactItems&gt;\r\n                                    &lt;artifactItem&gt;\r\n                                        &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\r\n                                        &lt;artifactId&gt;keycloak-quarkus-dist&lt;/artifactId&gt;\r\n                                        &lt;type&gt;zip&lt;/type&gt;\r\n                                        &lt;outputDirectory&gt;target&lt;/outputDirectory&gt;\r\n                                    &lt;/artifactItem&gt;\r\n                                &lt;/artifactItems&gt;\r\n                                &lt;excludes&gt;**/lib/**&lt;/excludes&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;quarkus-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;${quarkus.version}&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;finalName&gt;keycloak&lt;/finalName&gt;\r\n                        &lt;buildDir&gt;${project.build.directory}/keycloak-${keycloak.version}&lt;/buildDir&gt;\r\n                    &lt;/configuration&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;build&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;","title":"Keycloak version and quarkus version mismatch during mvn package","body":"<p>I succesfully build Keycloak 20.0.1 with quarkus.version 2.13.3.Final, but now I want to try with keycloak 22.0.5 and the <code>mvn clean package</code> command fails with:</p>\n<p><code>[ERROR] Failed to execute goal io.quarkus:quarkus-maven-plugin:2.13.3.Final:build (default) on project keycloak: Execution default of goal io.quarkus:quarkus-maven-plugin:2.13.3.Final:build failed: An API incompatibility was encountered while executing io.quarkus:quarkus-maven-plugin:2.13.3.Final:build: java.lang.NoSuchMethodError: 'org.jboss.jandex.DotName org.jboss.jandex.DotName.createSimple(java.lang.Class)'</code></p>\n<p>What I did to try and solve this in play with versioning in my pom. I tried quarkus version <code>3.2.8.Final</code> and the latest of final 3.1.x and 3.0.x. All failed with the same error. Below is first the child pom which fails with the error and the parent 2nd.</p>\n<p>I have placed both poms in, but I am most curious in how to tackle this problem in the future, because what I tried was to look on the keycloak github and see what quarkus version is used there in the pom, but this did worked neither</p>\n<pre><code>    &lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;!-- Keycloak Distribution --&gt;\n        &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\n        &lt;artifactId&gt;keycloak-quarkus-dist&lt;/artifactId&gt;\n        &lt;type&gt;zip&lt;/type&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;!-- Keycloak Quarkus Server Libraries--&gt;\n        &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\n        &lt;artifactId&gt;keycloak-quarkus-server&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;finalName&gt;keycloak-${project.version}&lt;/finalName&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n     xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n     xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 \nhttp://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n&lt;groupId&gt;org.example&lt;/groupId&gt;\n&lt;artifactId&gt;keycloak-config-test&lt;/artifactId&gt;\n&lt;version&gt;0.0.1&lt;/version&gt;\n&lt;packaging&gt;pom&lt;/packaging&gt;\n\n&lt;modules&gt;\n    &lt;module&gt;keycloak&lt;/module&gt;\n    &lt;module&gt;java-config&lt;/module&gt;\n&lt;/modules&gt;\n\n&lt;properties&gt;\n    &lt;!-- Java --&gt;\n    &lt;java.version&gt;17&lt;/java.version&gt;\n\n    &lt;!-- Maven --&gt;\n    &lt;maven-surefire-plugin.version&gt;3.2.2&lt;/maven-surefire-plugin.version&gt;\n    &lt;maven.shade.plugin.version&gt;3.5.1&lt;/maven.shade.plugin.version&gt;\n    &lt;maven.jar.plugin.version&gt;3.2.2&lt;/maven.jar.plugin.version&gt;\n\n    &lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;${java.version}&lt;/maven.compiler.target&gt;\n    &lt;maven.build.timestamp.format&gt;yyyy-MM-dd'T'HH:mm:ss'Z'&lt;/maven.build.timestamp.format&gt;\n\n    &lt;!-- Project specific --&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n\n    &lt;!-- Keycloak --&gt;\n    &lt;keycloak.version&gt;22.0.5&lt;/keycloak.version&gt;\n    &lt;quarkus.version&gt;2.13.3.Final&lt;/quarkus.version&gt;\n    &lt;quarkus.native.builder-image&gt;mutable-jar&lt;/quarkus.native.builder-image&gt;\n\n    &lt;!-- Plugins --&gt;\n    &lt;build-helper-maven-plugin.version&gt;3.4.0&lt;/build-helper-maven-plugin.version&gt;\n&lt;/properties&gt;\n\n\n&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;!--Quarkus--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus.arc&lt;/groupId&gt;\n            &lt;artifactId&gt;arc&lt;/artifactId&gt;\n            &lt;version&gt;${quarkus.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!--keycloak--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\n            &lt;artifactId&gt;keycloak-quarkus-server&lt;/artifactId&gt;\n            &lt;version&gt;${keycloak.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\n            &lt;artifactId&gt;keycloak-quarkus-dist&lt;/artifactId&gt;\n            &lt;version&gt;${keycloak.version}&lt;/version&gt;\n            &lt;type&gt;zip&lt;/type&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\n            &lt;artifactId&gt;keycloak-admin-client&lt;/artifactId&gt;\n            &lt;version&gt;${keycloak.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\n            &lt;artifactId&gt;keycloak-core&lt;/artifactId&gt;\n            &lt;version&gt;${keycloak.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\n            &lt;artifactId&gt;keycloak-services&lt;/artifactId&gt;\n            &lt;version&gt;${keycloak.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!--REST--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-resteasy-jackson&lt;/artifactId&gt;\n            &lt;version&gt;${quarkus.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-rest-client&lt;/artifactId&gt;\n            &lt;version&gt;${quarkus.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-rest-client-jackson&lt;/artifactId&gt;\n            &lt;version&gt;${quarkus.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n\n&lt;build&gt;\n    &lt;pluginManagement&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${maven-surefire-plugin.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;**/*IntegrationTest.java&lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;unpack-keycloak-server-distribution&lt;/id&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;unpack&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;artifactItems&gt;\n                                &lt;artifactItem&gt;\n                                    &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\n                                    &lt;artifactId&gt;keycloak-quarkus-dist&lt;/artifactId&gt;\n                                    &lt;type&gt;zip&lt;/type&gt;\n                                    &lt;outputDirectory&gt;target&lt;/outputDirectory&gt;\n                                &lt;/artifactItem&gt;\n                            &lt;/artifactItems&gt;\n                            &lt;excludes&gt;**/lib/**&lt;/excludes&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n                &lt;artifactId&gt;quarkus-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${quarkus.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;finalName&gt;keycloak&lt;/finalName&gt;\n                    &lt;buildDir&gt;${project.build.directory}/keycloak-${keycloak.version}&lt;/buildDir&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;build&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n&lt;/build&gt;\n</code></pre>\n\n"},{"tags":["java","spring","jdbc","spring-data","spring-data-jdbc"],"comments":[{"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"score":0,"creation_date":1554443410,"post_id":55513863,"comment_id":97761452,"body_markdown":"Related: https://stackoverflow.com/questions/53345366/how-to-handle-compound-keys-with-spring-data-jdbc/53346069#comment97738382_53346069","body":"Related: <a href=\"https://stackoverflow.com/questions/53345366/how-to-handle-compound-keys-with-spring-data-jdbc/53346069#comment97738382_53346069\" title=\"how to handle compound keys with spring data jdbc\">stackoverflow.com/questions/53345366/&hellip;</a>"},{"owner":{"account_id":1773198,"reputation":1483,"user_id":1617559,"accept_rate":75,"display_name":"ccampo"},"score":2,"creation_date":1597152955,"post_id":55513863,"comment_id":112036338,"body_markdown":"Bummer that https://jira.spring.io/browse/DATAJDBC-352 was created over a year ago and such a fundamental feature has still not made it into a release.","body":"Bummer that <a href=\"https://jira.spring.io/browse/DATAJDBC-352\" rel=\"nofollow noreferrer\">jira.spring.io/browse/DATAJDBC-352</a> was created over a year ago and such a fundamental feature has still not made it into a release."},{"owner":{"account_id":2330823,"reputation":9304,"user_id":2044302,"accept_rate":74,"display_name":"Alexander Petrov"},"score":0,"creation_date":1597153893,"post_id":55513863,"comment_id":112036925,"body_markdown":"@ccampo upvote, hopefuly the right person will notice one day :)","body":"@ccampo upvote, hopefuly the right person will notice one day :)"}],"answers":[{"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1592461708,"creation_date":1554443844,"answer_id":55529040,"question_id":55513863,"body_markdown":"No `@Embedded` doesn&#39;t work for Ids, [yet][1].\r\nRight now all SQL statements assume a simple value for the id column.\r\nAnd I don&#39;t think there is a workaround for that.\r\n\r\nOne workaround that might work is to create a view that presents the composite key as a single field and has triggers writing the correct data into the underlying table.\r\n\r\n  [1]: https://jira.spring.io/browse/DATAJDBC-352","title":"Composite Key and spring-data-jdbc","body":"<p>No <code>@Embedded</code> doesn't work for Ids, <a href=\"https://jira.spring.io/browse/DATAJDBC-352\" rel=\"noreferrer\">yet</a>.\nRight now all SQL statements assume a simple value for the id column.\nAnd I don't think there is a workaround for that.</p>\n\n<p>One workaround that might work is to create a view that presents the composite key as a single field and has triggers writing the correct data into the underlying table.</p>\n"},{"tags":[],"owner":{"account_id":2122132,"reputation":19,"user_id":1885172,"display_name":"amunds"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699717403,"creation_date":1699700435,"answer_id":77464808,"question_id":55513863,"body_markdown":"For (hopefully) the few Aggregate Roots needing composite Id&#39;s, you can always use a fragment repository to provide own implementation either by overriding relevant methods from (List)CrudRepository - or just use Repository. (You can still create queries like `findAllByLastname` etc.\r\n\r\nA actual workaround where you dont need to write a fragment repository (or similar) is to model this in a Set/Map. This way, in the database schema for the table related to the aggregate root (or further down the hierarchy) could have composite primary keys. Queries can be created querying this table directly based on the composite primary key, and you can probably create a insert as well.\r\nIn the application where I have actually done this, I created an embeddable wrapper-object containing only the Set (Map actually) just to provide an interface to work with this.\r\n\r\n    \r\n\r\n    import java.util.*\r\n\r\n    data class Userdata(\r\n        @Id val id: UUID,\r\n        val keyValueStore: Set&lt;UserdataKeyValue&gt; \r\n    )\r\n\r\n    data class UserdataKeyValue(\r\n        val key: String,\r\n        val value: String\r\n    )\r\n\r\n    CREATE TABLE USERDATA_KEY_VALUE\r\n    (         \r\n        userdata uuid not null,\r\n        key varchar(30) not null,\r\n        value varchar(255)\r\n    );\r\n\r\n    ALTER TABLE USERDATA_KEY_VALUE\r\n      ADD CONSTRAINT pk_KEY_VALUE_TO_USERDATA\r\n        PRIMARY KEY (userdata, key);","title":"Composite Key and spring-data-jdbc","body":"<p>For (hopefully) the few Aggregate Roots needing composite Id's, you can always use a fragment repository to provide own implementation either by overriding relevant methods from (List)CrudRepository - or just use Repository. (You can still create queries like <code>findAllByLastname</code> etc.</p>\n<p>A actual workaround where you dont need to write a fragment repository (or similar) is to model this in a Set/Map. This way, in the database schema for the table related to the aggregate root (or further down the hierarchy) could have composite primary keys. Queries can be created querying this table directly based on the composite primary key, and you can probably create a insert as well.\nIn the application where I have actually done this, I created an embeddable wrapper-object containing only the Set (Map actually) just to provide an interface to work with this.</p>\n<pre><code>import java.util.*\n\ndata class Userdata(\n    @Id val id: UUID,\n    val keyValueStore: Set&lt;UserdataKeyValue&gt; \n)\n\ndata class UserdataKeyValue(\n    val key: String,\n    val value: String\n)\n\nCREATE TABLE USERDATA_KEY_VALUE\n(         \n    userdata uuid not null,\n    key varchar(30) not null,\n    value varchar(255)\n);\n\nALTER TABLE USERDATA_KEY_VALUE\n  ADD CONSTRAINT pk_KEY_VALUE_TO_USERDATA\n    PRIMARY KEY (userdata, key);\n</code></pre>\n"}],"owner":{"account_id":2330823,"reputation":9304,"user_id":2044302,"accept_rate":74,"display_name":"Alexander Petrov"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8126,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":55529040,"answer_count":2,"score":13,"last_activity_date":1699717403,"creation_date":1554374394,"question_id":55513863,"body_markdown":"I have a database which is using composite keys. Is it possible to utilize spring-data-jdbc? I tried the milestone version 1.1M2 where I mapped my entity in the following way:\r\n\r\n    class History {\r\n       \r\n       @ID\r\n       @Embedded\r\n       private CompositeHistoryID  id;\r\n    }\r\n\r\nThen in my repository class, I added \r\n\r\n    HistoryRepository extends Repository&lt;History,CompositeHistoryID  &gt;{\r\n       History  findByhId(CompositeHistoryID  id)\r\n    }\r\n\r\nI traced the SQL, and it did not work. The embedded part worked, but the where clause was not correct. It was using a single parameter holder instead of having the regular composite key structure where element1=subkey1 and element2=subkey2 and so on...\r\n\r\nI have two questions. Is there any way to make the Composite ID work?\r\n\r\nThe second question is, let&#39;s suppose that I use a custom `@Query` on top of the `findByID` will the SAVE method work after that if? What is there is no ID at all, what if I just pick a random column and say you will be my ID?\r\n\r\n\r\n\r\n\r\n\r\n","title":"Composite Key and spring-data-jdbc","body":"<p>I have a database which is using composite keys. Is it possible to utilize spring-data-jdbc? I tried the milestone version 1.1M2 where I mapped my entity in the following way:</p>\n\n<pre><code>class History {\n\n   @ID\n   @Embedded\n   private CompositeHistoryID  id;\n}\n</code></pre>\n\n<p>Then in my repository class, I added </p>\n\n<pre><code>HistoryRepository extends Repository&lt;History,CompositeHistoryID  &gt;{\n   History  findByhId(CompositeHistoryID  id)\n}\n</code></pre>\n\n<p>I traced the SQL, and it did not work. The embedded part worked, but the where clause was not correct. It was using a single parameter holder instead of having the regular composite key structure where element1=subkey1 and element2=subkey2 and so on...</p>\n\n<p>I have two questions. Is there any way to make the Composite ID work?</p>\n\n<p>The second question is, let's suppose that I use a custom <code>@Query</code> on top of the <code>findByID</code> will the SAVE method work after that if? What is there is no ID at all, what if I just pick a random column and say you will be my ID?</p>\n"},{"tags":["java","json","serialization","gson"],"comments":[{"owner":{"account_id":245478,"reputation":5735,"user_id":518992,"accept_rate":89,"display_name":"sargue"},"score":1,"creation_date":1478096783,"post_id":12161366,"comment_id":68016604,"body_markdown":"Optional shouldn&#39;t be used on properties or parameters, just in return types.","body":"Optional shouldn&#39;t be used on properties or parameters, just in return types."},{"owner":{"account_id":485731,"reputation":5563,"user_id":902217,"accept_rate":86,"display_name":"CAMOBAP"},"score":0,"creation_date":1686895649,"post_id":12161366,"comment_id":134863762,"body_markdown":"@sargue I think there are valid scenarios when this may be an option. For example you are writing a library for an api service with optional params. So you have to distinguish default value from value set by user","body":"@sargue I think there are valid scenarios when this may be an option. For example you are writing a library for an api service with optional params. So you have to distinguish default value from value set by user"},{"owner":{"account_id":245478,"reputation":5735,"user_id":518992,"accept_rate":89,"display_name":"sargue"},"score":0,"creation_date":1686904150,"post_id":12161366,"comment_id":134865226,"body_markdown":"I&#39;m not saying it, the javadocs says it:\nOptional is primarily intended for use as a method return type where there is a clear need to represent &quot;no result,&quot; and where using null is likely to cause errors.","body":"I&#39;m not saying it, the javadocs says it: Optional is primarily intended for use as a method return type where there is a clear need to represent &quot;no result,&quot; and where using null is likely to cause errors."}],"answers":[{"tags":[],"owner":{"account_id":283609,"reputation":45044,"user_id":581205,"accept_rate":72,"display_name":"maaartinus"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1346175219,"creation_date":1346175219,"answer_id":12164531,"question_id":12161366,"body_markdown":"The solution by Ilya ignores type parameters, so it can&#39;t really work in the general case. My solution is rather complicated, because of the need to distinguish between `null` and `Optional.absent()` -- otherwise you could strip away the encapsulation as a list.\r\n\r\n    public class GsonOptionalDeserializer&lt;T&gt;\r\n    implements JsonSerializer&lt;Optional&lt;T&gt;&gt;, JsonDeserializer&lt;Optional&lt;T&gt;&gt; {\r\n    \r\n        @Override\r\n        public Optional&lt;T&gt; deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context)\r\n                throws JsonParseException {\r\n            final JsonArray asJsonArray = json.getAsJsonArray();\r\n            final JsonElement jsonElement = asJsonArray.get(0);\r\n            final T value = context.deserialize(jsonElement, ((ParameterizedType) typeOfT).getActualTypeArguments()[0]);\r\n            return Optional.fromNullable(value);\r\n        }\r\n    \r\n        @Override\r\n        public JsonElement serialize(Optional&lt;T&gt; src, Type typeOfSrc, JsonSerializationContext context) {\r\n            final JsonElement element = context.serialize(src.orNull());\r\n            final JsonArray result = new JsonArray();\r\n            result.add(element);\r\n            return result;\r\n        }\r\n    }\r\n","title":"How to serialize Optional&lt;T&gt; classes with Gson?","body":"<p>The solution by Ilya ignores type parameters, so it can't really work in the general case. My solution is rather complicated, because of the need to distinguish between <code>null</code> and <code>Optional.absent()</code> -- otherwise you could strip away the encapsulation as a list.</p>\n\n<pre><code>public class GsonOptionalDeserializer&lt;T&gt;\nimplements JsonSerializer&lt;Optional&lt;T&gt;&gt;, JsonDeserializer&lt;Optional&lt;T&gt;&gt; {\n\n    @Override\n    public Optional&lt;T&gt; deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context)\n            throws JsonParseException {\n        final JsonArray asJsonArray = json.getAsJsonArray();\n        final JsonElement jsonElement = asJsonArray.get(0);\n        final T value = context.deserialize(jsonElement, ((ParameterizedType) typeOfT).getActualTypeArguments()[0]);\n        return Optional.fromNullable(value);\n    }\n\n    @Override\n    public JsonElement serialize(Optional&lt;T&gt; src, Type typeOfSrc, JsonSerializationContext context) {\n        final JsonElement element = context.serialize(src.orNull());\n        final JsonArray result = new JsonArray();\n        result.add(element);\n        return result;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2471624,"reputation":271,"user_id":2153327,"display_name":"Anton Onikiychuk"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1599170536,"creation_date":1406889619,"answer_id":25078422,"question_id":12161366,"body_markdown":"After several hours of gooling and coding - there is my version:\r\n\r\n    public class OptionalTypeAdapter&lt;E&gt; extends TypeAdapter&lt;Optional&lt;E&gt;&gt; {\r\n    \r\n        public static final TypeAdapterFactory FACTORY = new TypeAdapterFactory() {\r\n            @Override\r\n            public &lt;T&gt; TypeAdapter&lt;T&gt; create(Gson gson, TypeToken&lt;T&gt; type) {\r\n                Class&lt;T&gt; rawType = (Class&lt;T&gt;) type.getRawType();\r\n                if (rawType != Optional.class) {\r\n                    return null;\r\n                }\r\n                final ParameterizedType parameterizedType = (ParameterizedType) type.getType();\r\n                final Type actualType = parameterizedType.getActualTypeArguments()[0];\r\n                final TypeAdapter&lt;?&gt; adapter = gson.getAdapter(TypeToken.get(actualType));\r\n                return new OptionalTypeAdapter(adapter);\r\n            }\r\n        };\r\n        private final TypeAdapter&lt;E&gt; adapter;\r\n    \r\n        public OptionalTypeAdapter(TypeAdapter&lt;E&gt; adapter) {\r\n    \r\n            this.adapter = adapter;\r\n        }\r\n    \r\n        @Override\r\n        public void write(JsonWriter out, Optional&lt;E&gt; value) throws IOException {\r\n            if(value.isPresent()){\r\n                adapter.write(out, value.get());\r\n            } else {\r\n                out.nullValue();\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public Optional&lt;E&gt; read(JsonReader in) throws IOException {\r\n            final JsonToken peek = in.peek();\r\n            if(peek != JsonToken.NULL){\r\n                return Optional.ofNullable(adapter.read(in));\r\n            }\r\n    \r\n            in.nextNull();\r\n            return Optional.empty();\r\n        }\r\n    \r\n    }\r\n\r\nYou can simple registered it with `GsonBuilder` like this:\r\n\r\n    instance.registerTypeAdapterFactory(OptionalTypeAdapter.FACTORY)\r\n\r\nPlease keep attention that Gson does not set values to your class field if field does not present in json. So you need to set default value `Optional.empty()` in your entity. ","title":"How to serialize Optional&lt;T&gt; classes with Gson?","body":"<p>After several hours of gooling and coding - there is my version:</p>\n<pre><code>public class OptionalTypeAdapter&lt;E&gt; extends TypeAdapter&lt;Optional&lt;E&gt;&gt; {\n\n    public static final TypeAdapterFactory FACTORY = new TypeAdapterFactory() {\n        @Override\n        public &lt;T&gt; TypeAdapter&lt;T&gt; create(Gson gson, TypeToken&lt;T&gt; type) {\n            Class&lt;T&gt; rawType = (Class&lt;T&gt;) type.getRawType();\n            if (rawType != Optional.class) {\n                return null;\n            }\n            final ParameterizedType parameterizedType = (ParameterizedType) type.getType();\n            final Type actualType = parameterizedType.getActualTypeArguments()[0];\n            final TypeAdapter&lt;?&gt; adapter = gson.getAdapter(TypeToken.get(actualType));\n            return new OptionalTypeAdapter(adapter);\n        }\n    };\n    private final TypeAdapter&lt;E&gt; adapter;\n\n    public OptionalTypeAdapter(TypeAdapter&lt;E&gt; adapter) {\n\n        this.adapter = adapter;\n    }\n\n    @Override\n    public void write(JsonWriter out, Optional&lt;E&gt; value) throws IOException {\n        if(value.isPresent()){\n            adapter.write(out, value.get());\n        } else {\n            out.nullValue();\n        }\n    }\n\n    @Override\n    public Optional&lt;E&gt; read(JsonReader in) throws IOException {\n        final JsonToken peek = in.peek();\n        if(peek != JsonToken.NULL){\n            return Optional.ofNullable(adapter.read(in));\n        }\n\n        in.nextNull();\n        return Optional.empty();\n    }\n\n}\n</code></pre>\n<p>You can simple registered it with <code>GsonBuilder</code> like this:</p>\n<pre><code>instance.registerTypeAdapterFactory(OptionalTypeAdapter.FACTORY)\n</code></pre>\n<p>Please keep attention that Gson does not set values to your class field if field does not present in json. So you need to set default value <code>Optional.empty()</code> in your entity.</p>\n"},{"tags":[],"owner":{"account_id":392004,"reputation":4854,"user_id":753000,"accept_rate":38,"display_name":"Till - Appviewer.io"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1545117151,"creation_date":1493680878,"answer_id":43727852,"question_id":12161366,"body_markdown":"Just as an addition to maaartinus solution, the version without the encapsulating list, where `Optional.absent` is simply serialized as `null`:\r\n\r\n    public class GsonOptionalDeserializer&lt;T&gt; implements JsonSerializer&lt;Optional&lt;T&gt;&gt;, JsonDeserializer&lt;Optional&lt;T&gt;&gt; {\r\n        @Override\r\n        public Optional&lt;T&gt; deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context)\r\n            throws JsonParseException {\r\n            final T value = context.deserialize(json, ((ParameterizedType) typeOfT).getActualTypeArguments()[0]);\r\n            return Optional.fromNullable(value);\r\n        }\r\n\r\n        @Override\r\n        public JsonElement serialize(Optional&lt;T&gt; src, Type typeOfSrc, JsonSerializationContext context) {\r\n            return context.serialize(src.orNull());\r\n        }\r\n    }\r\n","title":"How to serialize Optional&lt;T&gt; classes with Gson?","body":"<p>Just as an addition to maaartinus solution, the version without the encapsulating list, where <code>Optional.absent</code> is simply serialized as <code>null</code>:</p>\n\n<pre><code>public class GsonOptionalDeserializer&lt;T&gt; implements JsonSerializer&lt;Optional&lt;T&gt;&gt;, JsonDeserializer&lt;Optional&lt;T&gt;&gt; {\n    @Override\n    public Optional&lt;T&gt; deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context)\n        throws JsonParseException {\n        final T value = context.deserialize(json, ((ParameterizedType) typeOfT).getActualTypeArguments()[0]);\n        return Optional.fromNullable(value);\n    }\n\n    @Override\n    public JsonElement serialize(Optional&lt;T&gt; src, Type typeOfSrc, JsonSerializationContext context) {\n        return context.serialize(src.orNull());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8341524,"reputation":697,"user_id":6266706,"display_name":"Edgar Asatryan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1545115360,"creation_date":1545115360,"answer_id":53827639,"question_id":12161366,"body_markdown":"I&#39;ll add to [Anton Onikiychuk][1]&#39;s answer\r\n    \r\n    @Override\r\n    public Optional&lt;E&gt; read(JsonReader in) throws IOException {\r\n        JsonToken peek = in.peek();\r\n        if (peek == JsonToken.NULL) {\r\n            in.nextNull(); // consuming JSON null\r\n            return Optional.empty();\r\n        }\r\n\r\n        return Optional.ofNullable(adapter.read(in));\r\n    }\r\n\r\n  [1]: https://stackoverflow.com/users/2153327/anton-onikiychuk","title":"How to serialize Optional&lt;T&gt; classes with Gson?","body":"<p>I'll add to <a href=\"https://stackoverflow.com/users/2153327/anton-onikiychuk\">Anton Onikiychuk</a>'s answer</p>\n\n<pre><code>@Override\npublic Optional&lt;E&gt; read(JsonReader in) throws IOException {\n    JsonToken peek = in.peek();\n    if (peek == JsonToken.NULL) {\n        in.nextNull(); // consuming JSON null\n        return Optional.empty();\n    }\n\n    return Optional.ofNullable(adapter.read(in));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26026971,"reputation":11,"user_id":19733762,"display_name":"ncla"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693311896,"creation_date":1693311896,"answer_id":77000193,"question_id":12161366,"body_markdown":"I&#39;ve encountered a similar challenge when trying to create a custom Gson TypeAdapter for optional types like java.util.Optional. Despite searching extensively and reviewing existing answers, I couldn&#39;t find a solution that precisely addressed this issue.\r\n\r\nHowever, after thorough experimentation, I&#39;ve managed to create a custom TypeAdapter that should work for your scenario:\r\n\r\n    /**\r\n     * TypeAdapter to manage nullable fields with Optional approach\r\n     */\r\n    public static class OptionalTypeAdapter&lt;E&gt; implements JsonSerializer&lt;Optional&lt;E&gt;&gt;, JsonDeserializer&lt;Optional&lt;E&gt;&gt; {\r\n\r\n        @Override\r\n        public JsonElement serialize(Optional&lt;E&gt; src, Type typeOfSrc, JsonSerializationContext context) {\r\n            if (src.isPresent()) {\r\n                return context.serialize(src.get());\r\n            } else {\r\n                return JsonNull.INSTANCE;\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public Optional&lt;E&gt; deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context)\r\n                throws JsonParseException {\r\n            if (json.isJsonNull()) {\r\n                return Optional.empty();\r\n            } else {\r\n                E value = context.deserialize(json, ((ParameterizedType) typeOfT).getActualTypeArguments()[0]);\r\n                return Optional.ofNullable(value);\r\n            }\r\n        }\r\n    }\r\n\r\nThis custom OptionalTypeAdapter should allow Gson to handle optional types appropriately in serialization and deserialization.\r\n\r\nInstance a Gson object to handle JSON is now possible through this code:\r\n\r\n    new GsonBuilder()\r\n    .registerTypeAdapter(Optional.class, new OptionalTypeAdapter&lt;&gt;())\r\n    .create();","title":"How to serialize Optional&lt;T&gt; classes with Gson?","body":"<p>I've encountered a similar challenge when trying to create a custom Gson TypeAdapter for optional types like java.util.Optional. Despite searching extensively and reviewing existing answers, I couldn't find a solution that precisely addressed this issue.</p>\n<p>However, after thorough experimentation, I've managed to create a custom TypeAdapter that should work for your scenario:</p>\n<pre><code>/**\n * TypeAdapter to manage nullable fields with Optional approach\n */\npublic static class OptionalTypeAdapter&lt;E&gt; implements JsonSerializer&lt;Optional&lt;E&gt;&gt;, JsonDeserializer&lt;Optional&lt;E&gt;&gt; {\n\n    @Override\n    public JsonElement serialize(Optional&lt;E&gt; src, Type typeOfSrc, JsonSerializationContext context) {\n        if (src.isPresent()) {\n            return context.serialize(src.get());\n        } else {\n            return JsonNull.INSTANCE;\n        }\n    }\n\n    @Override\n    public Optional&lt;E&gt; deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context)\n            throws JsonParseException {\n        if (json.isJsonNull()) {\n            return Optional.empty();\n        } else {\n            E value = context.deserialize(json, ((ParameterizedType) typeOfT).getActualTypeArguments()[0]);\n            return Optional.ofNullable(value);\n        }\n    }\n}\n</code></pre>\n<p>This custom OptionalTypeAdapter should allow Gson to handle optional types appropriately in serialization and deserialization.</p>\n<p>Instance a Gson object to handle JSON is now possible through this code:</p>\n<pre><code>new GsonBuilder()\n.registerTypeAdapter(Optional.class, new OptionalTypeAdapter&lt;&gt;())\n.create();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1350007,"reputation":1032,"user_id":1289953,"accept_rate":25,"display_name":"kumetix"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699715579,"creation_date":1699715579,"answer_id":77465638,"question_id":12161366,"body_markdown":"I dearly feel that its important for the reader which ends up in this thread to know at the time this answer is written, none of the solutions offered in the current answers actually solve the original requirement placed in the question. \r\n\r\nTLDR Switch to `Jackson`\r\n\r\n- Requirement cannot be satisfied with `Gson` (at least not with the latest version in the time this answer is written that is 2.10.1).\r\n- All the offered solutions so far lead to the same result - upon parsing a json string, when an attribute is missing, even if the corresponding java entity class member type is `Optional&lt;?&gt;`, at the end of the de-serialization the member will end up referring a `null` and not an `Optional.empty()` as desired, leading to `NullPointerException` when retrieving the Optional member.\r\n- If you insist on using Gson, you&#39;ll have to manually address the scenarios where the optional attribute is absent within the entity class member getter i.e.\r\n   ```\r\n   public Optional&lt;String&gt; myOptionalString() {\r\n       return this.myOptionalString == null ? Optional.empty() : myOptionalString\r\n  }\r\n   ``` \r\n- Me personally, I ended up ditching `Gson` in favor of `Jackson`, which together with its `Jdk8Module`, solves the problem.\r\n\r\n- In Jackson, you&#39;ll create the `ObjectMapper` this way\r\n  ```\r\n  ObjectMapper mapper = new ObjectMapper().registerModule(new Jdk8Module());\r\n  ```\r\n  And then you&#39;ll parse your json string into an entity this way\r\n  ```\r\n  mapper.readValue(jsonWithOptionals, EntityWithOptionals.class)\r\n  ```","title":"How to serialize Optional&lt;T&gt; classes with Gson?","body":"<p>I dearly feel that its important for the reader which ends up in this thread to know at the time this answer is written, none of the solutions offered in the current answers actually solve the original requirement placed in the question.</p>\n<p>TLDR Switch to <code>Jackson</code></p>\n<ul>\n<li><p>Requirement cannot be satisfied with <code>Gson</code> (at least not with the latest version in the time this answer is written that is 2.10.1).</p>\n</li>\n<li><p>All the offered solutions so far lead to the same result - upon parsing a json string, when an attribute is missing, even if the corresponding java entity class member type is <code>Optional&lt;?&gt;</code>, at the end of the de-serialization the member will end up referring a <code>null</code> and not an <code>Optional.empty()</code> as desired, leading to <code>NullPointerException</code> when retrieving the Optional member.</p>\n</li>\n<li><p>If you insist on using Gson, you'll have to manually address the scenarios where the optional attribute is absent within the entity class member getter i.e.</p>\n<pre><code>public Optional&lt;String&gt; myOptionalString() {\n     return this.myOptionalString == null ? Optional.empty() : myOptionalString\n}\n</code></pre>\n</li>\n<li><p>Me personally, I ended up ditching <code>Gson</code> in favor of <code>Jackson</code>, which together with its <code>Jdk8Module</code>, solves the problem.</p>\n</li>\n<li><p>In Jackson, you'll create the <code>ObjectMapper</code> this way</p>\n<pre><code>ObjectMapper mapper = new ObjectMapper().registerModule(new Jdk8Module());\n</code></pre>\n<p>And then you'll parse your json string into an entity this way</p>\n<pre><code>mapper.readValue(jsonWithOptionals, EntityWithOptionals.class)\n</code></pre>\n</li>\n</ul>\n"}],"owner":{"account_id":30319,"reputation":90360,"user_id":82609,"accept_rate":84,"display_name":"Sebastien Lorber"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15734,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"accepted_answer_id":12164531,"answer_count":6,"score":27,"last_activity_date":1699715579,"creation_date":1346163632,"question_id":12161366,"body_markdown":"I have an object with the following attributes.\r\n\r\n    private final String messageBundle;\r\n    private final List&lt;String&gt; messageParams;\r\n    private final String actionBundle;\r\n    private final Map&lt;String, String&gt; data;\r\n    private final Optional&lt;Pair&lt;Integer,TimeUnit&gt;&gt; ttl;\r\n    private final Optional&lt;Integer&gt; badgeNumber;\r\n    private final Optional&lt;String&gt; collapseKey;\r\n\r\nThe object is in a library, i would rather not modify it just for serialization purpose, and would like to avoid the cost of creating another DTO.\r\n\r\nHow can i serialize / unserialize Optional attributes? Optional doesn&#39;t have a default constructor (neither apache commons Pair), but i can&#39;t use the InstanceCreator, and don&#39;t really understand how to create a TypeAdapter that would simply delegate the serialization to the underlying Optional content.","title":"How to serialize Optional&lt;T&gt; classes with Gson?","body":"<p>I have an object with the following attributes.</p>\n\n<pre><code>private final String messageBundle;\nprivate final List&lt;String&gt; messageParams;\nprivate final String actionBundle;\nprivate final Map&lt;String, String&gt; data;\nprivate final Optional&lt;Pair&lt;Integer,TimeUnit&gt;&gt; ttl;\nprivate final Optional&lt;Integer&gt; badgeNumber;\nprivate final Optional&lt;String&gt; collapseKey;\n</code></pre>\n\n<p>The object is in a library, i would rather not modify it just for serialization purpose, and would like to avoid the cost of creating another DTO.</p>\n\n<p>How can i serialize / unserialize Optional attributes? Optional doesn't have a default constructor (neither apache commons Pair), but i can't use the InstanceCreator, and don't really understand how to create a TypeAdapter that would simply delegate the serialization to the underlying Optional content.</p>\n"},{"tags":["java","random"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1699563095,"post_id":77456187,"comment_id":136551441,"body_markdown":"@QBrute it isn&#39;t calculating that.","body":"@QBrute it isn&#39;t calculating that."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":7,"creation_date":1699563141,"post_id":77456187,"comment_id":136551447,"body_markdown":"Your code indicates you misunderstand the problem. You randomly pick a day of the year (DOY). Then, you make 23 attempts to randomly find a DOY that matches that one. That&#39;s *not* the birthday paradox. You want to generate 23 random DOYs. For each DOY generated, you want to find if **any** of the other DOYs match.","body":"Your code indicates you misunderstand the problem. You randomly pick a day of the year (DOY). Then, you make 23 attempts to randomly find a DOY that matches that one. That&#39;s <i>not</i> the birthday paradox. You want to generate 23 random DOYs. For each DOY generated, you want to find if <b>any</b> of the other DOYs match."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1699563161,"post_id":77456187,"comment_id":136551453,"body_markdown":"You are taking a single person `g` and checking whether someone else shares their birthday. You need to read through the birthday paradox and understand what it is.","body":"You are taking a single person <code>g</code> and checking whether someone else shares their birthday. You need to read through the birthday paradox and understand what it is."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1699574736,"post_id":77456187,"comment_id":136552850,"body_markdown":"Isn&#39;t the probability always _1 in (365 * 23)_, or _1 in 8395_,  or _0.00012_?","body":"Isn&#39;t the probability always <i>1 in (365 * 23)</i>, or <i>1 in 8395</i>,  or <i>0.00012</i>?"},{"owner":{"account_id":2488885,"reputation":18917,"user_id":2166798,"accept_rate":50,"display_name":"pjs"},"score":1,"creation_date":1699998852,"post_id":77456187,"comment_id":136600500,"body_markdown":"@Reilas No. Assuming birthdays are independent and uniformly distributed, and ignoring leap years, the probability of a duplicate amongst *k* people is P{duplicate|*k*} = 1 - P{no duplicates|*k*} = 1 - Product(from_i=: 1, to: *k*, (366-i)/365}. In Ruby it&#39;s a one-liner: `1.0 - (1..k).inject { |memo, i| memo * (366.0 - i) / 365.0 }`. This yields P{duplicate|1} = 0 (makes sense!); P{duplicate|2} = 0.002739726027397249 = 1/365 (also makes sense); ...; P{duplicate|22} = 0.4756953076625502; P{duplicate|23} = 0.5072972343239855. By the time you get up to 60, P{duplicate} &gt; 0.99 — a great bar bet.","body":"@Reilas No. Assuming birthdays are independent and uniformly distributed, and ignoring leap years, the probability of a duplicate amongst <i>k</i> people is P{duplicate|*k*} = 1 - P{no duplicates|*k*} = 1 - Product(from_i=: 1, to: <i>k</i>, (366-i)/365}. In Ruby it&#39;s a one-liner: <code>1.0 - (1..k).inject { |memo, i| memo * (366.0 - i) &#47; 365.0 }</code>. This yields P{duplicate|1} = 0 (makes sense!); P{duplicate|2} = 0.002739726027397249 = 1/365 (also makes sense); ...; P{duplicate|22} = 0.4756953076625502; P{duplicate|23} = 0.5072972343239855. By the time you get up to 60, P{duplicate} &gt; 0.99 — a great bar bet."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1699999912,"post_id":77456187,"comment_id":136600662,"body_markdown":"@pjs, wow!  Now I remember why I failed algebra.  That&#39;s very interesting, thanks for the inclusion.","body":"@pjs, wow!  Now I remember why I failed algebra.  That&#39;s very interesting, thanks for the inclusion."}],"answers":[{"tags":[],"owner":{"account_id":15638210,"reputation":4538,"user_id":11282404,"display_name":"jpmarinier"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1699702968,"creation_date":1699650402,"answer_id":77462841,"question_id":77456187,"body_markdown":"**Preliminary remark:**\r\n\r\nYou seem to be using one `Random` generator object per random value (in your `rand_bd` method). But this is not how pseudo-random number generation is supposed to work, and so you are in untested circumstances.\r\n\r\nThe only thing that gets (very extensively) tested by library designers is that the serie produced by a *single* `Random` object has the proper statistical properties. So you should modify your code to ensure that a single `Random` object is used throughout a whole simulation, typically by passing (the address of) your single generator object to `rand_bd`.\r\n\r\n**The main issue:**\r\n\r\nYou seem to be testing each new random value for equality with the very first random value only. But, as mentioned in the comments, this is not how the [Birthday Paradox](https://en.wikipedia.org/wiki/Birthday_problem) is supposed to work.\r\n\r\nEach new pseudo-random value has to be tested for equality with **all** previous values.\r\n\r\nIn order to test for all previous values, rather than writing low level Java code we can just maintain and use an `HashSet&lt;Integer&gt;` object that is to contain all previously found pseudo-random values.\r\n\r\nThis can be done for example with the following code:\r\n\r\n```\r\nimport java.util.*; \r\nimport java.util.Random;\r\n\r\npublic class SO_q77456187  {\r\n\r\n    public static int rand_bd(Random rand) {\r\n        int x = rand.nextInt(365);\r\n        return x;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Hello world!&quot;);\r\n\r\n        Random rand      = new Random();\r\n        Set&lt;Integer&gt; set = new HashSet&lt;Integer&gt;();\r\n\r\n        int h = 0;\r\n        int classSize = 23;\r\n        double count = 0.0;\r\n\r\n        for (int i = 0; i  &lt; classSize; i++) {\r\n            h = new Integer(rand_bd(rand));\r\n            if (set.contains(h))\r\n                count++;  // collision found !\r\n            else\r\n                set.add(h);\r\n        }\r\n        if (count &gt; 0)\r\n            System.out.println(&quot;collision&quot;);\r\n        System.out.println(count);\r\n        System.out.println(count / Double.valueOf(classSize));\r\n        System.out.println(rand_bd(rand));\r\n    }\r\n}\r\n\r\n```\r\n\r\nAnd as expected, the class file generated by the above code finds one or more collisions about 50% of the time.\r\n\r\n","title":"Birthday Paradox&#39;s probability coming out to be zero,also not understanding how to use simulations","body":"<p><strong>Preliminary remark:</strong></p>\n<p>You seem to be using one <code>Random</code> generator object per random value (in your <code>rand_bd</code> method). But this is not how pseudo-random number generation is supposed to work, and so you are in untested circumstances.</p>\n<p>The only thing that gets (very extensively) tested by library designers is that the serie produced by a <em>single</em> <code>Random</code> object has the proper statistical properties. So you should modify your code to ensure that a single <code>Random</code> object is used throughout a whole simulation, typically by passing (the address of) your single generator object to <code>rand_bd</code>.</p>\n<p><strong>The main issue:</strong></p>\n<p>You seem to be testing each new random value for equality with the very first random value only. But, as mentioned in the comments, this is not how the <a href=\"https://en.wikipedia.org/wiki/Birthday_problem\" rel=\"nofollow noreferrer\">Birthday Paradox</a> is supposed to work.</p>\n<p>Each new pseudo-random value has to be tested for equality with <strong>all</strong> previous values.</p>\n<p>In order to test for all previous values, rather than writing low level Java code we can just maintain and use an <code>HashSet&lt;Integer&gt;</code> object that is to contain all previously found pseudo-random values.</p>\n<p>This can be done for example with the following code:</p>\n<pre><code>import java.util.*; \nimport java.util.Random;\n\npublic class SO_q77456187  {\n\n    public static int rand_bd(Random rand) {\n        int x = rand.nextInt(365);\n        return x;\n    }\n\n    public static void main(String[] args) {\n        System.out.println(&quot;Hello world!&quot;);\n\n        Random rand      = new Random();\n        Set&lt;Integer&gt; set = new HashSet&lt;Integer&gt;();\n\n        int h = 0;\n        int classSize = 23;\n        double count = 0.0;\n\n        for (int i = 0; i  &lt; classSize; i++) {\n            h = new Integer(rand_bd(rand));\n            if (set.contains(h))\n                count++;  // collision found !\n            else\n                set.add(h);\n        }\n        if (count &gt; 0)\n            System.out.println(&quot;collision&quot;);\n        System.out.println(count);\n        System.out.println(count / Double.valueOf(classSize));\n        System.out.println(rand_bd(rand));\n    }\n}\n\n</code></pre>\n<p>And as expected, the class file generated by the above code finds one or more collisions about 50% of the time.</p>\n"},{"tags":[],"owner":{"account_id":2488885,"reputation":18917,"user_id":2166798,"accept_rate":50,"display_name":"pjs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699714784,"creation_date":1699667021,"answer_id":77463623,"question_id":77456187,"body_markdown":"First, let me reiterate jpmarinier&#39;s comment that you should only create one `Random` object. Instantiating a new one for each value to be generated is expensive, and it negates all of the hard work that the PRNG creators did to insure that sequences of values properly mimic independent uniformly distributed values.\r\n\r\nNext, I think you&#39;ve missed the essence of the birthday problem. It asks what is the probability of having one *or more* duplicate birthdays among a set containing some specified number of people. It&#39;s a boolean choice, there either are duplicates or there are not. As soon as you find one duplicate, you can short-circuit the checking process since the goal is not to count how many occurred. This is easy to do using `Set` objects, which don&#39;t permit duplicates.\r\n\r\nFinally, you&#39;re missing the essence of [Monte Carlo simulation][1], which is that you need replication of a randomized experiment. Since the outcome of a single experiment is a random event (duplicates/no-duplicates), you get better estimates of the probability of that event by running lots of experiments. Lots and lots. Additionally, since re-running random experiments gives different outcomes, it&#39;s nice to know the &quot;margin of error&quot; for whatever you&#39;re estimating. This comes in the form of what&#39;s called a confidence interval half-width.\r\n\r\nThe following code pulls those pieces together:\r\n\r\n``` lang-java\r\nimport java.util.HashSet; \r\nimport java.util.Random;\r\n\r\npublic class BdayMonteCarlo {\r\n    // only create one instance of Random per program!\r\n    private static Random rng = new Random();\r\n\r\n    /*\r\n     * Each experiment places classSize students in the room, checking\r\n     * to see if there are any collisions on the birth dates.\r\n     */\r\n    public static int experiment(int classSize) {\r\n        // each experiment starts with an empty set of birthdays\r\n        HashSet&lt;Integer&gt; set = new HashSet&lt;Integer&gt;();\r\n\r\n        // for each student, generate a birthday and try adding it to set\r\n        // if add fails, short circuit and signal a collision\r\n        for (int i = 0; i  &lt; classSize; i++) {\r\n            if(!set.add(rng.nextInt(365)))\r\n                return 1;\r\n        }\r\n        return 0;   // if all people in class missed collisions, signal no collision\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        int classSize = 23;\r\n        int numberOfExptsWithCollisions = 0;\r\n        int numberOfExperiments = 100_000;\r\n\r\n        // Monte Carlo replication of the experiment, tallying results\r\n        for (int i = 0; i &lt; numberOfExperiments; ++i) {\r\n            numberOfExptsWithCollisions += experiment(classSize);\r\n        }\r\n\r\n        // probabilities are estimated using proportions of outcomes\r\n        // that yielded a &quot;success&quot;\r\n        System.out.print(&quot;Probability of one or more duplicate birthdays &quot;);\r\n        System.out.println(&quot;with classSize = &quot; + classSize + &quot; is:&quot;);\r\n        Double prob = Double.valueOf(numberOfExptsWithCollisions) / numberOfExperiments;\r\n        // confidence interval half-width for the estimate of a proportion/probability\r\n        Double halfWidth = 1.96 * Math.sqrt(prob * (1.0 - prob) / numberOfExperiments);\r\n        System.out.println(prob + &quot; &#177; &quot; + halfWidth);\r\n    }\r\n}\r\n```\r\nand produces results such as:\r\n``` lang-text\r\nme@mymachine % java BdayMonteCarlo      \r\nProbability of one or more duplicate birthdays with classSize = 23 is:\r\n0.5085 &#177; 0.0030985842644665968\r\nme@mymachine % java BdayMonteCarlo\r\nProbability of one or more duplicate birthdays with classSize = 23 is:\r\n0.50936 &#177; 0.003098489049457235\r\n```\r\nYou can clearly see that the proportion of experiments which had at least one duplicate birthday is above 0.5 for 23 people.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Monte_Carlo_method","title":"Birthday Paradox&#39;s probability coming out to be zero,also not understanding how to use simulations","body":"<p>First, let me reiterate jpmarinier's comment that you should only create one <code>Random</code> object. Instantiating a new one for each value to be generated is expensive, and it negates all of the hard work that the PRNG creators did to insure that sequences of values properly mimic independent uniformly distributed values.</p>\n<p>Next, I think you've missed the essence of the birthday problem. It asks what is the probability of having one <em>or more</em> duplicate birthdays among a set containing some specified number of people. It's a boolean choice, there either are duplicates or there are not. As soon as you find one duplicate, you can short-circuit the checking process since the goal is not to count how many occurred. This is easy to do using <code>Set</code> objects, which don't permit duplicates.</p>\n<p>Finally, you're missing the essence of <a href=\"https://en.wikipedia.org/wiki/Monte_Carlo_method\" rel=\"nofollow noreferrer\">Monte Carlo simulation</a>, which is that you need replication of a randomized experiment. Since the outcome of a single experiment is a random event (duplicates/no-duplicates), you get better estimates of the probability of that event by running lots of experiments. Lots and lots. Additionally, since re-running random experiments gives different outcomes, it's nice to know the &quot;margin of error&quot; for whatever you're estimating. This comes in the form of what's called a confidence interval half-width.</p>\n<p>The following code pulls those pieces together:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.HashSet; \nimport java.util.Random;\n\npublic class BdayMonteCarlo {\n    // only create one instance of Random per program!\n    private static Random rng = new Random();\n\n    /*\n     * Each experiment places classSize students in the room, checking\n     * to see if there are any collisions on the birth dates.\n     */\n    public static int experiment(int classSize) {\n        // each experiment starts with an empty set of birthdays\n        HashSet&lt;Integer&gt; set = new HashSet&lt;Integer&gt;();\n\n        // for each student, generate a birthday and try adding it to set\n        // if add fails, short circuit and signal a collision\n        for (int i = 0; i  &lt; classSize; i++) {\n            if(!set.add(rng.nextInt(365)))\n                return 1;\n        }\n        return 0;   // if all people in class missed collisions, signal no collision\n    }\n\n    public static void main(String[] args) {\n        int classSize = 23;\n        int numberOfExptsWithCollisions = 0;\n        int numberOfExperiments = 100_000;\n\n        // Monte Carlo replication of the experiment, tallying results\n        for (int i = 0; i &lt; numberOfExperiments; ++i) {\n            numberOfExptsWithCollisions += experiment(classSize);\n        }\n\n        // probabilities are estimated using proportions of outcomes\n        // that yielded a &quot;success&quot;\n        System.out.print(&quot;Probability of one or more duplicate birthdays &quot;);\n        System.out.println(&quot;with classSize = &quot; + classSize + &quot; is:&quot;);\n        Double prob = Double.valueOf(numberOfExptsWithCollisions) / numberOfExperiments;\n        // confidence interval half-width for the estimate of a proportion/probability\n        Double halfWidth = 1.96 * Math.sqrt(prob * (1.0 - prob) / numberOfExperiments);\n        System.out.println(prob + &quot; ± &quot; + halfWidth);\n    }\n}\n</code></pre>\n<p>and produces results such as:</p>\n<pre class=\"lang-text prettyprint-override\"><code>me@mymachine % java BdayMonteCarlo      \nProbability of one or more duplicate birthdays with classSize = 23 is:\n0.5085 ± 0.0030985842644665968\nme@mymachine % java BdayMonteCarlo\nProbability of one or more duplicate birthdays with classSize = 23 is:\n0.50936 ± 0.003098489049457235\n</code></pre>\n<p>You can clearly see that the proportion of experiments which had at least one duplicate birthday is above 0.5 for 23 people.</p>\n"}],"owner":{"account_id":29549729,"reputation":11,"user_id":22646679,"display_name":"Prometheus "},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1699714784,"creation_date":1699562239,"question_id":77456187,"body_markdown":"I have been trying to create a program which calculates the probability of 2 people&#39;s birthday being the same, considering there are 23 people in the room\r\n\r\nI have made logic but the probability always comes out to be zero, it should be above 0.5,this is my first computer science class so i am not too familiar with java and coding.\r\n\r\nI saw some programs online with multiple simulations, but i was not able to understand it.\r\n\r\n\r\n```java\r\nimport java.util.Random;\r\n\r\npublic class Main {\r\n\r\n\tpublic static int rand_bd() {\r\n\t\tRandom rand = new Random();\r\n\t\tint x = rand.nextInt(365);\r\n\t\treturn x;\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSystem.out.println(&quot;Hello world!&quot;);\r\n\t\t\r\n\t\tint h = 0;\r\n\t\tdouble count = 0.0;\r\n\t\tint g = rand_bd();\r\n\r\n\t\tfor(int i = 0;i  &lt;= 23;i++) {\r\n\t\t\th = rand_bd();\r\n\t\t \tif(g == h)\r\n\t\t\t\tcount++;\r\n\t\t}\r\n\t\tSystem.out.println(count);\r\n\t\tSystem.out.println(count/23.0);\r\n\t\tSystem.out.println(rand_bd());\r\n\t}\r\n}\r\n```","title":"Birthday Paradox&#39;s probability coming out to be zero,also not understanding how to use simulations","body":"<p>I have been trying to create a program which calculates the probability of 2 people's birthday being the same, considering there are 23 people in the room</p>\n<p>I have made logic but the probability always comes out to be zero, it should be above 0.5,this is my first computer science class so i am not too familiar with java and coding.</p>\n<p>I saw some programs online with multiple simulations, but i was not able to understand it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Random;\n\npublic class Main {\n\n    public static int rand_bd() {\n        Random rand = new Random();\n        int x = rand.nextInt(365);\n        return x;\n    }\n\n    public static void main(String[] args) {\n        System.out.println(&quot;Hello world!&quot;);\n        \n        int h = 0;\n        double count = 0.0;\n        int g = rand_bd();\n\n        for(int i = 0;i  &lt;= 23;i++) {\n            h = rand_bd();\n            if(g == h)\n                count++;\n        }\n        System.out.println(count);\n        System.out.println(count/23.0);\n        System.out.println(rand_bd());\n    }\n}\n</code></pre>\n"},{"tags":["java","eclipse","java-17","eclipse-2021-09","openjdk-17"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":2,"creation_date":1631861839,"post_id":69218106,"comment_id":122341699,"body_markdown":"You tagged your question with both, `[java-17]` and `[eclipse-2021-09]`. Since Eclipse 2021-09 does not support Java 17, I guess you have installed [_Java 17 Support for Eclipse 2021-09 (4.21)_](https://marketplace.eclipse.org/content/java-17-support-eclipse-2021-09-421) which is the preview/BETA of the upcoming Java 17 support that will be released with Eclipse 2021-12 (4.22) on December 15, 2021. Please make sure [this issue has been reported to Eclipse](https://bugs.eclipse.org/bugs/enter_bug.cgi?product=JDT) with a minimal reproducible example and the error log.","body":"You tagged your question with both, <code>[java-17]</code> and <code>[eclipse-2021-09]</code>. Since Eclipse 2021-09 does not support Java 17, I guess you have installed <a href=\"https://marketplace.eclipse.org/content/java-17-support-eclipse-2021-09-421\" rel=\"nofollow noreferrer\"><i>Java 17 Support for Eclipse 2021-09 (4.21)</i></a> which is the preview/BETA of the upcoming Java 17 support that will be released with Eclipse 2021-12 (4.22) on December 15, 2021. Please make sure <a href=\"https://bugs.eclipse.org/bugs/enter_bug.cgi?product=JDT\" rel=\"nofollow noreferrer\">this issue has been reported to Eclipse</a> with a minimal reproducible example and the error log."},{"owner":{"account_id":3211603,"reputation":289287,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1631875871,"post_id":69218106,"comment_id":122347470,"body_markdown":"JDK&#160;17 doesn’t support `--illegal-access=permit` anymore. It’s not is if the previous versions weren’t warning about this kind of access…","body":"JDK 17 doesn’t support <code>--illegal-access=permit</code> anymore. It’s not is if the previous versions weren’t warning about this kind of access…"},{"owner":{"account_id":11424364,"reputation":539,"user_id":8374909,"display_name":"Clover"},"score":0,"creation_date":1684499360,"post_id":69218106,"comment_id":134546733,"body_markdown":"In my case, I had to change eclipse.ini VM path: -vm C:\\bin\\jdk-11.0.18\\bin as suggested by https://stackoverflow.com/a/68134496/8374909","body":"In my case, I had to change eclipse.ini VM path: -vm C:\\bin\\jdk-11.0.18\\bin as suggested by <a href=\"https://stackoverflow.com/a/68134496/8374909\">stackoverflow.com/a/68134496/8374909</a>"}],"answers":[{"tags":[],"owner":{"account_id":3695262,"reputation":8590,"user_id":3391490,"accept_rate":100,"display_name":"Thirumal"},"down_vote_count":1,"up_vote_count":21,"is_accepted":true,"score":20,"last_activity_date":1699714634,"creation_date":1631893380,"answer_id":69226134,"question_id":69218106,"body_markdown":"Add the below lines to the end of the `eclipse.ini` file\r\n\r\n    --illegal-access=warn\r\n    --add-opens=java.base/java.lang=ALL-UNNAMED\r\n\r\n","title":"Eclipse not able to open java files -&gt; Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass","body":"<p>Add the below lines to the end of the <code>eclipse.ini</code> file</p>\n<pre><code>--illegal-access=warn\n--add-opens=java.base/java.lang=ALL-UNNAMED\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23702948,"reputation":71,"user_id":17725878,"display_name":"Gledson"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1640019034,"creation_date":1640019034,"answer_id":70425256,"question_id":69218106,"body_markdown":"The only thing that worked for me was downloading the lombok directly from lombok website instead of using the one available on maven folder.","title":"Eclipse not able to open java files -&gt; Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass","body":"<p>The only thing that worked for me was downloading the lombok directly from lombok website instead of using the one available on maven folder.</p>\n"},{"tags":[],"owner":{"account_id":9686576,"reputation":526,"user_id":7186177,"display_name":"Tod Harter"},"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1640242020,"creation_date":1640242020,"answer_id":70458589,"question_id":69218106,"body_markdown":"Updating to Lombok 1.18.22 plugin resulted in this issue going away for me. I did try adding the --add-opens flag, but the eclipse launcher balked at that. IMHO this is simply a result of incompatibility between Java 17 and the Lombok Eclipse IDE plugin.","title":"Eclipse not able to open java files -&gt; Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass","body":"<p>Updating to Lombok 1.18.22 plugin resulted in this issue going away for me. I did try adding the --add-opens flag, but the eclipse launcher balked at that. IMHO this is simply a result of incompatibility between Java 17 and the Lombok Eclipse IDE plugin.</p>\n"},{"tags":[],"owner":{"account_id":3202267,"reputation":2714,"user_id":2704113,"accept_rate":50,"display_name":"Sreedhar GS"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1648488661,"creation_date":1648488661,"answer_id":71651358,"question_id":69218106,"body_markdown":"Itseems problem with the lombok plugin.\r\nI have removed it from the eclipse.ini file and it resolved the issue.\r\n\r\nRemoved below line:\r\n\r\n    -javaagent:C:\\&lt;location&gt;\\eclipse-jee-2022-03-R-win32-x86_64\\lombok.jar\r\n\r\n","title":"Eclipse not able to open java files -&gt; Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass","body":"<p>Itseems problem with the lombok plugin.\nI have removed it from the eclipse.ini file and it resolved the issue.</p>\n<p>Removed below line:</p>\n<pre><code>-javaagent:C:\\&lt;location&gt;\\eclipse-jee-2022-03-R-win32-x86_64\\lombok.jar\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13620659,"reputation":1129,"user_id":9825290,"display_name":"Basharat Ali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651007342,"creation_date":1651007342,"answer_id":72020552,"question_id":69218106,"body_markdown":"For my case nothing above work for a specific project.\r\n\r\n 1. Import existing maven project or create a maven project\r\n 2. Goto project explorer and Right click on your pom.xm then select Run\r\n    As maven install.\r\n 3. and then what you want.\r\n\r\nHope it will serve your purpose. You can download a sample spring boot project from sample spring boot project\r\n\r\nOr you can run a maven project from terminal or cmd. Just goto project root folder and then run a maven task like maven clean install . Happy Coding :)","title":"Eclipse not able to open java files -&gt; Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass","body":"<p>For my case nothing above work for a specific project.</p>\n<ol>\n<li>Import existing maven project or create a maven project</li>\n<li>Goto project explorer and Right click on your pom.xm then select Run\nAs maven install.</li>\n<li>and then what you want.</li>\n</ol>\n<p>Hope it will serve your purpose. You can download a sample spring boot project from sample spring boot project</p>\n<p>Or you can run a maven project from terminal or cmd. Just goto project root folder and then run a maven task like maven clean install . Happy Coding :)</p>\n"},{"tags":[],"owner":{"account_id":3439934,"reputation":21,"user_id":5380439,"display_name":"jackarian"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1662287282,"creation_date":1662287282,"answer_id":73598624,"question_id":69218106,"body_markdown":"In my case, I solved  changing java version from 16 top 11.&lt;br&gt;\r\nAdding this line:&lt;br&gt;\r\n&lt;b&gt;\r\n--illegal-access=warn&lt;br&gt;\r\n--add-opens java.base/java.lang=ALL-UNNAMED&lt;/b&gt;&lt;br&gt;\r\nin my case, eclipse is not enable to start.\r\nVersion: 2021-03 (4.19.0)\r\nBuild id: 20210312-0638\r\n","title":"Eclipse not able to open java files -&gt; Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass","body":"<p>In my case, I solved  changing java version from 16 top 11.<br>\nAdding this line:<br>\n<b>\n--illegal-access=warn<br>\n--add-opens java.base/java.lang=ALL-UNNAMED</b><br>\nin my case, eclipse is not enable to start.\nVersion: 2021-03 (4.19.0)\nBuild id: 20210312-0638</p>\n"},{"tags":[],"owner":{"account_id":12529597,"reputation":11,"user_id":9118297,"display_name":"Maitrey Mehta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676446252,"creation_date":1676446252,"answer_id":75456652,"question_id":69218106,"body_markdown":"I was also facing same issue after configured lombok in `STS 4.17.2.RELEASE`.\r\n\r\nI have removed below properties from ini file.\r\n\r\n    --add-opens=java.base/java.io=ALL-UNNAMED\r\n    --add-opens=java.base/sun.nio.ch=ALL-UNNAMED\r\n    --add-opens=java.base/java.net=ALL-UNNAMED\r\n    --add-opens=java.base/sun.security.ssl=ALL-UNNAMED\r\n    -Dsun.java.command=SpringToolSuite4\r\n\r\nI have tried many solutions but not worked.\r\nSo, I have compared with my older sts version.\r\n\r\nHonestly, I don&#39;t know actual reason.","title":"Eclipse not able to open java files -&gt; Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass","body":"<p>I was also facing same issue after configured lombok in <code>STS 4.17.2.RELEASE</code>.</p>\n<p>I have removed below properties from ini file.</p>\n<pre><code>--add-opens=java.base/java.io=ALL-UNNAMED\n--add-opens=java.base/sun.nio.ch=ALL-UNNAMED\n--add-opens=java.base/java.net=ALL-UNNAMED\n--add-opens=java.base/sun.security.ssl=ALL-UNNAMED\n-Dsun.java.command=SpringToolSuite4\n</code></pre>\n<p>I have tried many solutions but not worked.\nSo, I have compared with my older sts version.</p>\n<p>Honestly, I don't know actual reason.</p>\n"},{"tags":[],"owner":{"account_id":4864058,"reputation":3,"user_id":3922882,"display_name":"mobileappDev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677457628,"creation_date":1677457628,"answer_id":75575886,"question_id":69218106,"body_markdown":"you would need to check which java exe your IDE is pointing to in the .ini file. In other words, Just point your eclipse.ini to the right java.exe folder then the error goes away. This works for me in Spring STS and &quot;may be&quot; this same remedy will work in Eclipse too.","title":"Eclipse not able to open java files -&gt; Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass","body":"<p>you would need to check which java exe your IDE is pointing to in the .ini file. In other words, Just point your eclipse.ini to the right java.exe folder then the error goes away. This works for me in Spring STS and &quot;may be&quot; this same remedy will work in Eclipse too.</p>\n"},{"tags":[],"owner":{"account_id":29501879,"reputation":1,"user_id":22608697,"display_name":"Shabbir Ali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695308261,"creation_date":1695308261,"answer_id":77151427,"question_id":69218106,"body_markdown":"I had the same issue that mentioned above. When I downloaded new version of lombok.jar, it resolved my issue.","title":"Eclipse not able to open java files -&gt; Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass","body":"<p>I had the same issue that mentioned above. When I downloaded new version of lombok.jar, it resolved my issue.</p>\n"}],"owner":{"account_id":3695262,"reputation":8590,"user_id":3391490,"accept_rate":100,"display_name":"Thirumal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61847,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":69226134,"answer_count":9,"score":19,"last_activity_date":1699714634,"creation_date":1631856053,"question_id":69218106,"body_markdown":"Getting the following error, after adding `Lombok` lib\r\n\r\n    An error has occurred. See error log for more details.\r\n    Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @1d1c37d5\r\n\r\n","title":"Eclipse not able to open java files -&gt; Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass","body":"<p>Getting the following error, after adding <code>Lombok</code> lib</p>\n<pre><code>An error has occurred. See error log for more details.\nUnable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @1d1c37d5\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573694,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699714574,"creation_date":1699714574,"answer_id":77465585,"question_id":77465054,"body_markdown":"In the structure you have, if you want to only retrieve child nodes of `users` who have a `username` property with the value `&quot;code&quot;`, you can use a query to [order and filter](https://firebase.google.com/docs/database/android/lists-of-data#sorting_and_filtering_data) nodes. Something like this:\r\n\r\n```\r\nQuery query = dbRoot.child(&quot;users&quot;).orderByChild(&quot;username&quot;).equalTo(&quot;code&quot;);\r\n```\r\n\r\nTo execute the query, you&#39;d do:\r\n```\r\nquery.addListenerForSingleValueEvent(new ValueEventListener() {\r\n    @Override\r\n    public void onDataChange(DataSnapshot dataSnapshot) {\r\n        for (DataSnapshot userSnapshot: dataSnapshot.getChildren()) {\r\n            Log.i(&quot;DB&quot;, userSnapshot.getKey());\r\n            Log.i(&quot;DB&quot;, userSnapshot.child(&quot;name&quot;).getValue(String.class));\r\n            ...\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onCancelled(DatabaseError databaseError) {\r\n        throw databaseError.toException();\r\n    }\r\n}\r\n```\r\n\r\n---\r\n\r\nIf you want to get all child nodes where the `username` **starts with** `&quot;code&quot;`, that&#39;d be:\r\n\r\n```\r\nQuery query = dbRoot.child(&quot;users&quot;)\r\n  .orderByChild(&quot;username&quot;)\r\n  .startAt(&quot;code&quot;)\r\n  .endAt(&quot;code~&quot;);\r\n```\r\n","title":"Searching for username in firebase realtime database","body":"<p>In the structure you have, if you want to only retrieve child nodes of <code>users</code> who have a <code>username</code> property with the value <code>&quot;code&quot;</code>, you can use a query to <a href=\"https://firebase.google.com/docs/database/android/lists-of-data#sorting_and_filtering_data\" rel=\"nofollow noreferrer\">order and filter</a> nodes. Something like this:</p>\n<pre><code>Query query = dbRoot.child(&quot;users&quot;).orderByChild(&quot;username&quot;).equalTo(&quot;code&quot;);\n</code></pre>\n<p>To execute the query, you'd do:</p>\n<pre><code>query.addListenerForSingleValueEvent(new ValueEventListener() {\n    @Override\n    public void onDataChange(DataSnapshot dataSnapshot) {\n        for (DataSnapshot userSnapshot: dataSnapshot.getChildren()) {\n            Log.i(&quot;DB&quot;, userSnapshot.getKey());\n            Log.i(&quot;DB&quot;, userSnapshot.child(&quot;name&quot;).getValue(String.class));\n            ...\n        }\n    }\n\n    @Override\n    public void onCancelled(DatabaseError databaseError) {\n        throw databaseError.toException();\n    }\n}\n</code></pre>\n<hr />\n<p>If you want to get all child nodes where the <code>username</code> <strong>starts with</strong> <code>&quot;code&quot;</code>, that'd be:</p>\n<pre><code>Query query = dbRoot.child(&quot;users&quot;)\n  .orderByChild(&quot;username&quot;)\n  .startAt(&quot;code&quot;)\n  .endAt(&quot;code~&quot;);\n</code></pre>\n"}],"owner":{"account_id":20938962,"reputation":36,"user_id":15383501,"display_name":"Harsh Master"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":77465585,"answer_count":1,"score":-3,"last_activity_date":1699714574,"creation_date":1699705082,"question_id":77465054,"body_markdown":"I am building an android app integrating firebase, i want to have a functionality where user can search for other users using their name/username. I am currently using SearchView widget (want to employ onQueryTextChange())\r\nFor example if a user types code, then all the queries matching &quot;code&quot; (or starting with &quot;code&quot;, either of them) shows up\r\n\r\nFirebase structure:\r\n \r\n\r\n    users\r\n        &lt;uid of user1&gt;\r\n                name: ....\r\n                username: .......\r\n        &lt;uid of user2&gt;\r\n                name: ....\r\n                username: .......\r\n        ...\r\n        ...\r\n\r\nHelp me with time efficient solution (in java) for it so searching is fast\r\n","title":"Searching for username in firebase realtime database","body":"<p>I am building an android app integrating firebase, i want to have a functionality where user can search for other users using their name/username. I am currently using SearchView widget (want to employ onQueryTextChange())\nFor example if a user types code, then all the queries matching &quot;code&quot; (or starting with &quot;code&quot;, either of them) shows up</p>\n<p>Firebase structure:</p>\n<pre><code>users\n    &lt;uid of user1&gt;\n            name: ....\n            username: .......\n    &lt;uid of user2&gt;\n            name: ....\n            username: .......\n    ...\n    ...\n</code></pre>\n<p>Help me with time efficient solution (in java) for it so searching is fast</p>\n"},{"tags":["java","openstreetmap","gtfs","opentripplanner"],"owner":{"account_id":24940405,"reputation":1,"user_id":18806381,"display_name":"a-qa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699714439,"creation_date":1699714003,"question_id":77465535,"body_markdown":"I&#39;m using Open Trip Planner with GTFS data that is already provided. I got them from https://transitfeeds.com/feeds, and I&#39;m encountering an issue where it doesn&#39;t return any itinerary. The data seems to be loaded correctly, but the planner isn&#39;t generating itinerary.\r\n\r\nWhat I did was creating otp file that contains the shaded and the gtfs zip file then I run it from the command prompt using this command:\r\n\r\n```lang-none\r\njava -Xmx4G -jar otp-2.1.0-shaded.jar --build --serve C:\\Users\\Asus\\otp\r\n```\r\n\r\nthen it works, but when I choose start and end destinations I can&#39;t find any route even by walking.\r\n\r\nHas anyone experienced a similar issue, and if so, what steps did you take to troubleshoot and resolve it? Any insights or suggestions would be greatly appreciated!\r\n","title":"Open Trip Planner returns 0 itinerary","body":"<p>I'm using Open Trip Planner with GTFS data that is already provided. I got them from <a href=\"https://transitfeeds.com/feeds\" rel=\"nofollow noreferrer\">https://transitfeeds.com/feeds</a>, and I'm encountering an issue where it doesn't return any itinerary. The data seems to be loaded correctly, but the planner isn't generating itinerary.</p>\n<p>What I did was creating otp file that contains the shaded and the gtfs zip file then I run it from the command prompt using this command:</p>\n<pre class=\"lang-none prettyprint-override\"><code>java -Xmx4G -jar otp-2.1.0-shaded.jar --build --serve C:\\Users\\Asus\\otp\n</code></pre>\n<p>then it works, but when I choose start and end destinations I can't find any route even by walking.</p>\n<p>Has anyone experienced a similar issue, and if so, what steps did you take to troubleshoot and resolve it? Any insights or suggestions would be greatly appreciated!</p>\n"},{"tags":["java","gradle","web-applications","build","progressive-web-apps"],"answers":[{"tags":[],"owner":{"account_id":4504549,"reputation":143,"user_id":3662264,"display_name":"NathanEyre"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1639101648,"creation_date":1639101648,"answer_id":70298892,"question_id":70274877,"body_markdown":"not sure why but commenting out the following in the **gradle.properties** file (NOT gradle-wrapper.properties) with a # got past this for me:\r\n\r\n    org.gradle.jvmargs=-Xmx1536m\r\n\r\nso it looks like:\r\n\r\n    #org.gradle.jvmargs=-Xmx1536m","title":"While building an apk using bubblewrap build its shows error Unable to start the daemon process","body":"<p>not sure why but commenting out the following in the <strong>gradle.properties</strong> file (NOT gradle-wrapper.properties) with a # got past this for me:</p>\n<pre><code>org.gradle.jvmargs=-Xmx1536m\n</code></pre>\n<p>so it looks like:</p>\n<pre><code>#org.gradle.jvmargs=-Xmx1536m\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18703706,"reputation":1,"user_id":13635364,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649951888,"creation_date":1649951888,"answer_id":71874474,"question_id":70274877,"body_markdown":"Commenting this \r\n    \r\n    org.gradle.jvmargs=-Xmx1536m\r\n\r\nsolved the issue for me too, i guess that this is memory size argument which passed to the daemon process of gradle.\r\n\r\nSo, by commenting this will ignore the restricting of build.\r\n\r\n","title":"While building an apk using bubblewrap build its shows error Unable to start the daemon process","body":"<p>Commenting this</p>\n<pre><code>org.gradle.jvmargs=-Xmx1536m\n</code></pre>\n<p>solved the issue for me too, i guess that this is memory size argument which passed to the daemon process of gradle.</p>\n<p>So, by commenting this will ignore the restricting of build.</p>\n"}],"owner":{"account_id":13707500,"reputation":41,"user_id":9890677,"display_name":"Nil Mistry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":858,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1699714356,"creation_date":1638965833,"question_id":70274877,"body_markdown":"I ran `gradlew.bat assembleRelease --stacktrace`, and I get this error :\r\n```logs\r\nERROR Command failed: gradlew.bat assembleRelease --stacktrace\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nUnable to start the daemon process.\r\nThis problem might be caused by incorrect configuration of the daemon.\r\nFor example, an unrecognized jvm option is used.\r\nPlease refer to the User Manual chapter on the daemon at https://docs.gradle.org/6.5/userguide/gradle_daemon.html\r\nProcess command line: C:\\Users\\Asus\\.bubblewrap\\jdk\\jdk8u265-b01\\bin\\java.exe -Xmx1536m -Dfile.encoding=windows-1252 -Duser.country=US -Duser.language=en -Duser.variant -cp C:\\Users\\Asus\\.gradle\\wrapper\\dists\\gradle-6.5-bin\\6nifqtx7604sqp1q6g8wikw7p\\gradle-6.5\\lib\\gradle-launcher-6.5.jar org.gradle.launcher.daemon.bootstrap.GradleDaemon 6.5\r\nPlease read the following process output to find out more:\r\n-----------------------\r\nError occurred during initialization of VM\r\nCould not reserve enough space for 1572864KB object heap\r\n\r\n\r\n* Try:\r\nRun with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n* Exception is:\r\norg.gradle.api.GradleException: Unable to start the daemon process.\r\nThis problem might be caused by incorrect configuration of the daemon.\r\nFor example, an unrecognized jvm option is used.\r\nPlease refer to the User Manual chapter on the daemon at https://docs.gradle.org/6.5/userguide/gradle_daemon.html\r\nProcess command line: C:\\Users\\Asus\\.bubblewrap\\jdk\\jdk8u265-b01\\bin\\java.exe -Xmx1536m -Dfile.encoding=windows-1252 -Duser.country=US -Duser.language=en -Duser.variant -cp C:\\Users\\Asus\\.gradle\\wrapper\\dists\\gradle-6.5-bin\\6nifqtx7604sqp1q6g8wikw7p\\gradle-6.5\\lib\\gradle-launcher-6.5.jar org.gradle.launcher.daemon.bootstrap.GradleDaemon 6.5\r\nPlease read the following process output to find out more:\r\n-----------------------\r\nError occurred during initialization of VM\r\nCould not reserve enough space for 1572864KB object heap\r\n\r\n        at org.gradle.launcher.daemon.client.DaemonGreeter.parseDaemonOutput(DaemonGreeter.java:38)\r\n        at org.gradle.launcher.daemon.client.DefaultDaemonStarter.startProcess(DefaultDaemonStarter.java:176)\r\n        at org.gradle.launcher.daemon.client.DefaultDaemonStarter.startDaemon(DefaultDaemonStarter.java:137)\r\n        at org.gradle.launcher.daemon.client.DefaultDaemonConnector.doStartDaemon(DefaultDaemonConnector.java:217)\r\n        at org.gradle.launcher.daemon.client.DefaultDaemonConnector.startDaemon(DefaultDaemonConnector.java:211)\r\n        at org.gradle.launcher.daemon.client.DefaultDaemonConnector.connect(DefaultDaemonConnector.java:133)\r\n        at org.gradle.launcher.daemon.client.DaemonClient.execute(DaemonClient.java:145)\r\n        at org.gradle.launcher.daemon.client.DaemonClient.execute(DaemonClient.java:99)\r\n        at org.gradle.launcher.cli.RunBuildAction.run(RunBuildAction.java:56)\r\n        at org.gradle.internal.Actions$RunnableActionAdapter.execute(Actions.java:212)\r\n        at org.gradle.launcher.cli.DefaultCommandLineActionFactory$ParseAndBuildAction.execute(DefaultCommandLineActionFactory.java:294)\r\n        at org.gradle.launcher.cli.DefaultCommandLineActionFactory$ParseAndBuildAction.execute(DefaultCommandLineActionFactory.java:266)\r\n        at org.gradle.launcher.cli.DebugLoggerWarningAction.execute(DebugLoggerWarningAction.java:82)\r\n        at org.gradle.launcher.cli.DebugLoggerWarningAction.execute(DebugLoggerWarningAction.java:30)\r\n        at org.gradle.launcher.cli.WelcomeMessageAction.execute(WelcomeMessageAction.java:92)\r\n        at org.gradle.launcher.cli.WelcomeMessageAction.execute(WelcomeMessageAction.java:38)\r\n        at org.gradle.launcher.cli.NativeServicesInitializingAction.execute(NativeServicesInitializingAction.java:44)\r\n        at org.gradle.launcher.cli.NativeServicesInitializingAction.execute(NativeServicesInitializingAction.java:26)\r\n        at org.gradle.launcher.cli.ExceptionReportingAction.execute(ExceptionReportingAction.java:41)\r\n        at org.gradle.launcher.cli.ExceptionReportingAction.execute(ExceptionReportingAction.java:26)\r\n        at org.gradle.launcher.cli.DefaultCommandLineActionFactory$WithLogging.execute(DefaultCommandLineActionFactory.java:259)\r\n        at org.gradle.launcher.Main.doAction(Main.java:35)\r\n        at org.gradle.launcher.bootstrap.EntryPoint.run(EntryPoint.java:50)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:498)\r\n        at org.gradle.launcher.bootstrap.ProcessBootstrap.runNoExit(ProcessBootstrap.java:60)\r\n        at org.gradle.launcher.bootstrap.ProcessBootstrap.run(ProcessBootstrap.java:37)\r\n        at org.gradle.launcher.GradleMain.main(GradleMain.java:31)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:498)\r\n        at org.gradle.wrapper.BootstrapMainStarter.start(BootstrapMainStarter.java:31)\r\n        at org.gradle.wrapper.WrapperExecutor.execute(WrapperExecutor.java:108)\r\n        at org.gradle.wrapper.GradleWrapperMain.main(GradleWrapperMain.java:63)\r\n```\r\nHow can I fix it ?","title":"While building an apk using bubblewrap build its shows error Unable to start the daemon process","body":"<p>I ran <code>gradlew.bat assembleRelease --stacktrace</code>, and I get this error :</p>\n<pre><code>ERROR Command failed: gradlew.bat assembleRelease --stacktrace\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nUnable to start the daemon process.\nThis problem might be caused by incorrect configuration of the daemon.\nFor example, an unrecognized jvm option is used.\nPlease refer to the User Manual chapter on the daemon at https://docs.gradle.org/6.5/userguide/gradle_daemon.html\nProcess command line: C:\\Users\\Asus\\.bubblewrap\\jdk\\jdk8u265-b01\\bin\\java.exe -Xmx1536m -Dfile.encoding=windows-1252 -Duser.country=US -Duser.language=en -Duser.variant -cp C:\\Users\\Asus\\.gradle\\wrapper\\dists\\gradle-6.5-bin\\6nifqtx7604sqp1q6g8wikw7p\\gradle-6.5\\lib\\gradle-launcher-6.5.jar org.gradle.launcher.daemon.bootstrap.GradleDaemon 6.5\nPlease read the following process output to find out more:\n-----------------------\nError occurred during initialization of VM\nCould not reserve enough space for 1572864KB object heap\n\n\n* Try:\nRun with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Exception is:\norg.gradle.api.GradleException: Unable to start the daemon process.\nThis problem might be caused by incorrect configuration of the daemon.\nFor example, an unrecognized jvm option is used.\nPlease refer to the User Manual chapter on the daemon at https://docs.gradle.org/6.5/userguide/gradle_daemon.html\nProcess command line: C:\\Users\\Asus\\.bubblewrap\\jdk\\jdk8u265-b01\\bin\\java.exe -Xmx1536m -Dfile.encoding=windows-1252 -Duser.country=US -Duser.language=en -Duser.variant -cp C:\\Users\\Asus\\.gradle\\wrapper\\dists\\gradle-6.5-bin\\6nifqtx7604sqp1q6g8wikw7p\\gradle-6.5\\lib\\gradle-launcher-6.5.jar org.gradle.launcher.daemon.bootstrap.GradleDaemon 6.5\nPlease read the following process output to find out more:\n-----------------------\nError occurred during initialization of VM\nCould not reserve enough space for 1572864KB object heap\n\n        at org.gradle.launcher.daemon.client.DaemonGreeter.parseDaemonOutput(DaemonGreeter.java:38)\n        at org.gradle.launcher.daemon.client.DefaultDaemonStarter.startProcess(DefaultDaemonStarter.java:176)\n        at org.gradle.launcher.daemon.client.DefaultDaemonStarter.startDaemon(DefaultDaemonStarter.java:137)\n        at org.gradle.launcher.daemon.client.DefaultDaemonConnector.doStartDaemon(DefaultDaemonConnector.java:217)\n        at org.gradle.launcher.daemon.client.DefaultDaemonConnector.startDaemon(DefaultDaemonConnector.java:211)\n        at org.gradle.launcher.daemon.client.DefaultDaemonConnector.connect(DefaultDaemonConnector.java:133)\n        at org.gradle.launcher.daemon.client.DaemonClient.execute(DaemonClient.java:145)\n        at org.gradle.launcher.daemon.client.DaemonClient.execute(DaemonClient.java:99)\n        at org.gradle.launcher.cli.RunBuildAction.run(RunBuildAction.java:56)\n        at org.gradle.internal.Actions$RunnableActionAdapter.execute(Actions.java:212)\n        at org.gradle.launcher.cli.DefaultCommandLineActionFactory$ParseAndBuildAction.execute(DefaultCommandLineActionFactory.java:294)\n        at org.gradle.launcher.cli.DefaultCommandLineActionFactory$ParseAndBuildAction.execute(DefaultCommandLineActionFactory.java:266)\n        at org.gradle.launcher.cli.DebugLoggerWarningAction.execute(DebugLoggerWarningAction.java:82)\n        at org.gradle.launcher.cli.DebugLoggerWarningAction.execute(DebugLoggerWarningAction.java:30)\n        at org.gradle.launcher.cli.WelcomeMessageAction.execute(WelcomeMessageAction.java:92)\n        at org.gradle.launcher.cli.WelcomeMessageAction.execute(WelcomeMessageAction.java:38)\n        at org.gradle.launcher.cli.NativeServicesInitializingAction.execute(NativeServicesInitializingAction.java:44)\n        at org.gradle.launcher.cli.NativeServicesInitializingAction.execute(NativeServicesInitializingAction.java:26)\n        at org.gradle.launcher.cli.ExceptionReportingAction.execute(ExceptionReportingAction.java:41)\n        at org.gradle.launcher.cli.ExceptionReportingAction.execute(ExceptionReportingAction.java:26)\n        at org.gradle.launcher.cli.DefaultCommandLineActionFactory$WithLogging.execute(DefaultCommandLineActionFactory.java:259)\n        at org.gradle.launcher.Main.doAction(Main.java:35)\n        at org.gradle.launcher.bootstrap.EntryPoint.run(EntryPoint.java:50)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at org.gradle.launcher.bootstrap.ProcessBootstrap.runNoExit(ProcessBootstrap.java:60)\n        at org.gradle.launcher.bootstrap.ProcessBootstrap.run(ProcessBootstrap.java:37)\n        at org.gradle.launcher.GradleMain.main(GradleMain.java:31)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at org.gradle.wrapper.BootstrapMainStarter.start(BootstrapMainStarter.java:31)\n        at org.gradle.wrapper.WrapperExecutor.execute(WrapperExecutor.java:108)\n        at org.gradle.wrapper.GradleWrapperMain.main(GradleWrapperMain.java:63)\n</code></pre>\n<p>How can I fix it ?</p>\n"},{"tags":["java","hadoop","hadoop-yarn","nodemanager"],"owner":{"account_id":29698430,"reputation":45,"user_id":22761150,"display_name":"Brahim Khalil Abid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699713887,"creation_date":1699713887,"question_id":77465528,"body_markdown":"I am trying to setup Hadoop on my laptop (just to learn it and do some basics, and if I have the time a couple advanced things).\r\n\r\nI am on Windows 10, using Intellij, I also installed Hadoop 3.2.1 following the steps [here][1].\r\n\r\nHadoop seems to work fine, I mean I was able to do basic interaction with HDFS, copying simple text files, creating folders and so on.\r\n\r\nThen I tried running start-dfs.cmd, which seems to work fine as well. When trying start-yarn.cmd however, the RessourceManager seems to start without any notable error, but the following problem occurs with the Yarn NodeManager:\r\n\r\n```\r\n2023-11-11 11:39:34,167 ERROR util.SysInfoWindows: ExitCodeException exitCode=1: PdhAddCounter \\Network Interface(*)\\Bytes Received/Sec failed with 0xc0000bb8.\r\nError in GetDiskAndNetwork. Err:1\r\n\r\n        at org.apache.hadoop.util.Shell.runCommand(Shell.java:1008)\r\n        at org.apache.hadoop.util.Shell.run(Shell.java:901)\r\n        at org.apache.hadoop.util.Shell$ShellCommandExecutor.execute(Shell.java:1213)\r\n        at org.apache.hadoop.util.SysInfoWindows.getSystemInfoInfoFromShell(SysInfoWindows.java:86)\r\n        at org.apache.hadoop.util.SysInfoWindows.refreshIfNeeded(SysInfoWindows.java:101)\r\n        at org.apache.hadoop.util.SysInfoWindows.getPhysicalMemorySize(SysInfoWindows.java:153)\r\n        at org.apache.hadoop.yarn.util.ResourceCalculatorPlugin.getPhysicalMemorySize(ResourceCalculatorPlugin.java:64)\r\n        at org.apache.hadoop.yarn.server.nodemanager.containermanager.monitor.ContainersMonitorImpl.serviceInit(ContainersMonitorImpl.java:228)\r\n        at org.apache.hadoop.service.AbstractService.init(AbstractService.java:164)\r\n        at org.apache.hadoop.service.CompositeService.serviceInit(CompositeService.java:108)\r\n        at org.apache.hadoop.yarn.server.nodemanager.containermanager.ContainerManagerImpl.serviceInit(ContainerManagerImpl.java:323)\r\n        at org.apache.hadoop.service.AbstractService.init(AbstractService.java:164)\r\n        at org.apache.hadoop.service.CompositeService.serviceInit(CompositeService.java:108)\r\n        at org.apache.hadoop.yarn.server.nodemanager.NodeManager.serviceInit(NodeManager.java:516)\r\n        at org.apache.hadoop.service.AbstractService.init(AbstractService.java:164)\r\n        at org.apache.hadoop.yarn.server.nodemanager.NodeManager.initAndStartNodeManager(NodeManager.java:974)\r\n        at org.apache.hadoop.yarn.server.nodemanager.NodeManager.main(NodeManager.java:1054)\r\n\r\n2023-11-11 11:39:34,167 WARN monitor.ContainersMonitorImpl: NodeManager&#39;s totalPmem could not be calculated. Setting it to -1\r\n2023-11-11 11:39:34,178 INFO containermanager.ContainerManagerImpl: Not a recoverable state store. Nothing to recover.\r\n2023-11-11 11:39:34,201 INFO conf.Configuration: resource-types.xml not found\r\n2023-11-11 11:39:34,202 INFO resource.ResourceUtils: Unable to find &#39;resource-types.xml&#39;.\r\n2023-11-11 11:39:34,209 INFO conf.Configuration: node-resources.xml not found\r\n2023-11-11 11:39:34,209 INFO resource.ResourceUtils: Unable to find &#39;node-resources.xml&#39;.\r\n```\r\n\r\nThe same error happens over and over again until I force the process to stop (close window or Ctrl+C). I tried a lot of things to debug (mainly using ChatGPT, I didn&#39;t find many links on Google) but I was unsuccessful. These things were mainly around checking setup of env variables and several hadoop configuration files, for example once ChatGPT suggested I add some property block code into the file yarn-site.xml.\r\n\r\nMy goal is to run a simple MapReduce WordCount in Hadoop.\r\n\r\n  [1]: https://gist.github.com/vorpal56/5e2b67b6be3a827b85ac82a63a5b3b2e","title":"Error when starting Yarn Nodemanager: [ERROR util.SysInfoWindows: ExitCodeException exitCode=1]","body":"<p>I am trying to setup Hadoop on my laptop (just to learn it and do some basics, and if I have the time a couple advanced things).</p>\n<p>I am on Windows 10, using Intellij, I also installed Hadoop 3.2.1 following the steps <a href=\"https://gist.github.com/vorpal56/5e2b67b6be3a827b85ac82a63a5b3b2e\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>Hadoop seems to work fine, I mean I was able to do basic interaction with HDFS, copying simple text files, creating folders and so on.</p>\n<p>Then I tried running start-dfs.cmd, which seems to work fine as well. When trying start-yarn.cmd however, the RessourceManager seems to start without any notable error, but the following problem occurs with the Yarn NodeManager:</p>\n<pre><code>2023-11-11 11:39:34,167 ERROR util.SysInfoWindows: ExitCodeException exitCode=1: PdhAddCounter \\Network Interface(*)\\Bytes Received/Sec failed with 0xc0000bb8.\nError in GetDiskAndNetwork. Err:1\n\n        at org.apache.hadoop.util.Shell.runCommand(Shell.java:1008)\n        at org.apache.hadoop.util.Shell.run(Shell.java:901)\n        at org.apache.hadoop.util.Shell$ShellCommandExecutor.execute(Shell.java:1213)\n        at org.apache.hadoop.util.SysInfoWindows.getSystemInfoInfoFromShell(SysInfoWindows.java:86)\n        at org.apache.hadoop.util.SysInfoWindows.refreshIfNeeded(SysInfoWindows.java:101)\n        at org.apache.hadoop.util.SysInfoWindows.getPhysicalMemorySize(SysInfoWindows.java:153)\n        at org.apache.hadoop.yarn.util.ResourceCalculatorPlugin.getPhysicalMemorySize(ResourceCalculatorPlugin.java:64)\n        at org.apache.hadoop.yarn.server.nodemanager.containermanager.monitor.ContainersMonitorImpl.serviceInit(ContainersMonitorImpl.java:228)\n        at org.apache.hadoop.service.AbstractService.init(AbstractService.java:164)\n        at org.apache.hadoop.service.CompositeService.serviceInit(CompositeService.java:108)\n        at org.apache.hadoop.yarn.server.nodemanager.containermanager.ContainerManagerImpl.serviceInit(ContainerManagerImpl.java:323)\n        at org.apache.hadoop.service.AbstractService.init(AbstractService.java:164)\n        at org.apache.hadoop.service.CompositeService.serviceInit(CompositeService.java:108)\n        at org.apache.hadoop.yarn.server.nodemanager.NodeManager.serviceInit(NodeManager.java:516)\n        at org.apache.hadoop.service.AbstractService.init(AbstractService.java:164)\n        at org.apache.hadoop.yarn.server.nodemanager.NodeManager.initAndStartNodeManager(NodeManager.java:974)\n        at org.apache.hadoop.yarn.server.nodemanager.NodeManager.main(NodeManager.java:1054)\n\n2023-11-11 11:39:34,167 WARN monitor.ContainersMonitorImpl: NodeManager's totalPmem could not be calculated. Setting it to -1\n2023-11-11 11:39:34,178 INFO containermanager.ContainerManagerImpl: Not a recoverable state store. Nothing to recover.\n2023-11-11 11:39:34,201 INFO conf.Configuration: resource-types.xml not found\n2023-11-11 11:39:34,202 INFO resource.ResourceUtils: Unable to find 'resource-types.xml'.\n2023-11-11 11:39:34,209 INFO conf.Configuration: node-resources.xml not found\n2023-11-11 11:39:34,209 INFO resource.ResourceUtils: Unable to find 'node-resources.xml'.\n</code></pre>\n<p>The same error happens over and over again until I force the process to stop (close window or Ctrl+C). I tried a lot of things to debug (mainly using ChatGPT, I didn't find many links on Google) but I was unsuccessful. These things were mainly around checking setup of env variables and several hadoop configuration files, for example once ChatGPT suggested I add some property block code into the file yarn-site.xml.</p>\n<p>My goal is to run a simple MapReduce WordCount in Hadoop.</p>\n"},{"tags":["java","project-reactor","spring-cloud-gateway","reactor-netty"],"comments":[{"owner":{"account_id":1472305,"reputation":7002,"user_id":1383538,"accept_rate":67,"display_name":"Hayi"},"score":0,"creation_date":1702252366,"post_id":77465394,"comment_id":136870335,"body_markdown":"did you solve the delay issue ?","body":"did you solve the delay issue ?"}],"owner":{"account_id":14898237,"reputation":1,"user_id":10757824,"display_name":"Mukesh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699712736,"creation_date":1699711674,"question_id":77465394,"body_markdown":"I am using Spring Cloud Gateway, observing intermittent delay while sending request or receiving response from the downstream applications. The notable delay occurs in about 15% of the requests (more than 1 second) with the downstream API responding in 6ms each time. Most of the requests are served without any delay but this delay is happening for each api exposed via the gateway. A lot of the delayed requests see a consistent time gap of a close proximity to 5s (eg., 5.009s, 5.013s, 5.050s) but some are less than 5s in delay as well. At the request level it happens before acquiring the channel and sometimes at the response handling level too(downstream server logs response in 6ms). Sometimes it happens with both the request and response. And at the response level, time delays are often close to 5s or 10s. The load on the server is not much either (the gateway is handling around 150 requests per minute). There is a network load balancer between the downstream service and the api gateway\r\n\r\nHere are the logs which I am seeing at the request level.\r\n\r\n```\r\n18:00:15.093  [reactor-http-epoll-4]\tClient observation  {name=http.client.requests(null), error=null, context=name=&#39;http.client.requests&#39;, contextualName=&#39;null&#39;, error=&#39;null&#39;, lowCardinalityKeyValues=[http.method=&#39;GET&#39;, http.status_code=&#39;UNKNOWN&#39;, spring.cloud.gateway.route.id=&#39;app-name&#39;, spring.cloud.gateway.route.uri=&#39;**uri**&#39;], highCardinalityKeyValues=[http.uri=&#39;**uri**&#39;], map=[class io.micrometer.core.instrument.LongTaskTimer$Sample=&#39;SampleImpl{duration(seconds)=3.8563E-5, duration(nanos)=38563.0, startTimeNanos=1754421052833403}&#39;, class io.micrometer.tracing.handler.TracingObservationHandler$TracingContext=&#39;TracingContext{span=6548dc52fc6e10b02a9532a95c23527d/4c632cc89e1e9109}&#39;, class io.micrometer.core.instrument.Timer$Sample=&#39;io.micrometer.core.instrument.Timer$Sample@7e7c9a4b&#39;], parentObservation={name=spring.security.http.secured.requests(secured request), error=null, context=name=&#39;spring.security.http.secured.requests&#39;, contextualName=&#39;secured request&#39;, error=&#39;null&#39;, lowCardinalityKeyValues=[], highCardinalityKeyValues=[], map=[class io.micrometer.core.instrument.LongTaskTimer$Sample=&#39;SampleImpl{duration(seconds)=5.021295641, duration(nanos)=5.021295641E9, startTimeNanos=1754416031637319}&#39;, class io.micrometer.tracing.handler.TracingObservationHandler$TracingContext=&#39;TracingContext{span=6548dc52fc6e10b02a9532a95c23527d/81e269c3a499bfaa}&#39;, class io.micrometer.core.instrument.Timer$Sample=&#39;io.micrometer.core.instrument.Timer$Sample@7c376fc9&#39;], parentObservation={name=spring.security.filterchains(security filterchain before), error=null, context=name=&#39;spring.security.filterchains&#39;, contextualName=&#39;security filterchain before&#39;, error=&#39;null&#39;, lowCardinalityKeyValues=[spring.security.filterchain.position=&#39;9&#39;, highCardinalityKeyValues=[], map=[class io.micrometer.core.instrument.LongTaskTimer$Sample=&#39;SampleImpl{duration(seconds)=-1.0E-9, duration(nanos)=-1.0, startTimeNanos=1754416030032697}&#39;, class io.micrometer.tracing.handler.TracingObservationHandler$TracingContext=&#39;TracingContext{span=6548dc52fc6e10b02a9532a95c23527d/6dd704053c32d13b}&#39;, class io.micrometer.core.instrument.Timer$Sample=&#39;io.micrometer.core.instrument.Timer$Sample@151cea6d&#39;], parentObservation={name=http.server.requests(null), error=null, context=name=&#39;http.server.requests&#39;, contextualName=&#39;null&#39;, error=&#39;null&#39;, lowCardinalityKeyValues=[exception=&#39;none&#39;, method=&#39;GET&#39;, outcome=&#39;SUCCESS&#39;, status=&#39;200&#39;, uri=&#39;UNKNOWN&#39;], highCardinalityKeyValues=[http.url=&#39;**path**&#39;], map=[class io.micrometer.core.instrument.LongTaskTimer$Sample=&#39;SampleImpl{duration(seconds)=5.023806823, duration(nanos)=5.023806823E9, startTimeNanos=1754416029212405}&#39;, class io.micrometer.tracing.handler.TracingObservationHandler$TracingContext=&#39;TracingContext{span=6548dc52fc6e10b02a9532a95c23527d/2a9532a95c23527d}&#39;, class io.micrometer.core.instrument.Timer$Sample=&#39;io.micrometer.core.instrument.Timer$Sample@db0eebe&#39;], parentObservation=null}}}} created for the request. New headers are [User-Agent:&quot;Apache-HttpClient/4.5.13 (Java/1.8.0_352)&quot;, Transfer-Encoding:&quot;chunked&quot;, Forwarded:&quot;proto=https;host=host;]\treactor-http-epoll-4\torg.springframework.cloud.gateway.filter.headers.observation.ObservedRequestHttpHeadersFilter\r\n18:00:20.100  [reactor-http-epoll-3]\t[3efcbab2, L:/gateway:port - R:app-name/**ip**] Channel acquired, now: 2 active connections, 0 inactive connections and 0 pending acquire requests.\r\n18:00:20.101  [reactor-http-epoll-3]\t[3efcbab2-2, L:/gateway:port - R:app-server/**ip**] onStateChange(GET{uri=**uri**, connection=PooledConnection{channel=[id: 0x3efcbab2, L:/gateway:port - R:app-server/**ip**]}}, [request_sent])\r\n```\r\nThe channel acquire log came 5s after the NettyRoutingFilter has run all the header filters. After the channle acquire, there are some logs for request_prepared and handler mapped as well, which I have trimmed from the posted logs\r\n\r\nConfiguration - \r\nLinux 2 core processor (With usual cpu or memory utilization)\r\n\r\nSpring cloud gateway starter - 4.0.5, Spring webflux - 3.0.6\r\n\r\nSpring cloud gateway httpclient:\r\n\r\nFIXED pool with max connections - 1000,\r\nmax idle time - 5s. \r\n\r\nAs I am finding it difficult to troubleshoot the issue since it is not replicated anywhere else other than where the application is deployed, what could be the issue here or how can I find the root cause?","title":"Spring cloud gateway intermittent delay at proxy request and response handling with reactor netty","body":"<p>I am using Spring Cloud Gateway, observing intermittent delay while sending request or receiving response from the downstream applications. The notable delay occurs in about 15% of the requests (more than 1 second) with the downstream API responding in 6ms each time. Most of the requests are served without any delay but this delay is happening for each api exposed via the gateway. A lot of the delayed requests see a consistent time gap of a close proximity to 5s (eg., 5.009s, 5.013s, 5.050s) but some are less than 5s in delay as well. At the request level it happens before acquiring the channel and sometimes at the response handling level too(downstream server logs response in 6ms). Sometimes it happens with both the request and response. And at the response level, time delays are often close to 5s or 10s. The load on the server is not much either (the gateway is handling around 150 requests per minute). There is a network load balancer between the downstream service and the api gateway</p>\n<p>Here are the logs which I am seeing at the request level.</p>\n<pre><code>18:00:15.093  [reactor-http-epoll-4]    Client observation  {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='GET', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='app-name', spring.cloud.gateway.route.uri='**uri**'], highCardinalityKeyValues=[http.uri='**uri**'], map=[class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=3.8563E-5, duration(nanos)=38563.0, startTimeNanos=1754421052833403}', class io.micrometer.tracing.handler.TracingObservationHandler$TracingContext='TracingContext{span=6548dc52fc6e10b02a9532a95c23527d/4c632cc89e1e9109}', class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@7e7c9a4b'], parentObservation={name=spring.security.http.secured.requests(secured request), error=null, context=name='spring.security.http.secured.requests', contextualName='secured request', error='null', lowCardinalityKeyValues=[], highCardinalityKeyValues=[], map=[class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=5.021295641, duration(nanos)=5.021295641E9, startTimeNanos=1754416031637319}', class io.micrometer.tracing.handler.TracingObservationHandler$TracingContext='TracingContext{span=6548dc52fc6e10b02a9532a95c23527d/81e269c3a499bfaa}', class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@7c376fc9'], parentObservation={name=spring.security.filterchains(security filterchain before), error=null, context=name='spring.security.filterchains', contextualName='security filterchain before', error='null', lowCardinalityKeyValues=[spring.security.filterchain.position='9', highCardinalityKeyValues=[], map=[class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=-1.0E-9, duration(nanos)=-1.0, startTimeNanos=1754416030032697}', class io.micrometer.tracing.handler.TracingObservationHandler$TracingContext='TracingContext{span=6548dc52fc6e10b02a9532a95c23527d/6dd704053c32d13b}', class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@151cea6d'], parentObservation={name=http.server.requests(null), error=null, context=name='http.server.requests', contextualName='null', error='null', lowCardinalityKeyValues=[exception='none', method='GET', outcome='SUCCESS', status='200', uri='UNKNOWN'], highCardinalityKeyValues=[http.url='**path**'], map=[class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=5.023806823, duration(nanos)=5.023806823E9, startTimeNanos=1754416029212405}', class io.micrometer.tracing.handler.TracingObservationHandler$TracingContext='TracingContext{span=6548dc52fc6e10b02a9532a95c23527d/2a9532a95c23527d}', class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@db0eebe'], parentObservation=null}}}} created for the request. New headers are [User-Agent:&quot;Apache-HttpClient/4.5.13 (Java/1.8.0_352)&quot;, Transfer-Encoding:&quot;chunked&quot;, Forwarded:&quot;proto=https;host=host;]   reactor-http-epoll-4    org.springframework.cloud.gateway.filter.headers.observation.ObservedRequestHttpHeadersFilter\n18:00:20.100  [reactor-http-epoll-3]    [3efcbab2, L:/gateway:port - R:app-name/**ip**] Channel acquired, now: 2 active connections, 0 inactive connections and 0 pending acquire requests.\n18:00:20.101  [reactor-http-epoll-3]    [3efcbab2-2, L:/gateway:port - R:app-server/**ip**] onStateChange(GET{uri=**uri**, connection=PooledConnection{channel=[id: 0x3efcbab2, L:/gateway:port - R:app-server/**ip**]}}, [request_sent])\n</code></pre>\n<p>The channel acquire log came 5s after the NettyRoutingFilter has run all the header filters. After the channle acquire, there are some logs for request_prepared and handler mapped as well, which I have trimmed from the posted logs</p>\n<p>Configuration -\nLinux 2 core processor (With usual cpu or memory utilization)</p>\n<p>Spring cloud gateway starter - 4.0.5, Spring webflux - 3.0.6</p>\n<p>Spring cloud gateway httpclient:</p>\n<p>FIXED pool with max connections - 1000,\nmax idle time - 5s.</p>\n<p>As I am finding it difficult to troubleshoot the issue since it is not replicated anywhere else other than where the application is deployed, what could be the issue here or how can I find the root cause?</p>\n"},{"tags":["java","spring","spring-boot","spring-security","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":2064278,"reputation":13118,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1699712645,"creation_date":1699712645,"answer_id":77465442,"question_id":77455255,"body_markdown":"Your problem is that you have not actually read the documentation when using mapstruct.\r\n\r\nMap struct is very much like lombok, it generates code during compile time, as in creating a bunch of code for you to map things exactly like lombok generates a bunch of getter and setters, during compile time.\r\n\r\nthe example in their [github readme][1] clearly explains how you should use it\r\n\r\n```\r\n...\r\n&lt;properties&gt;\r\n    &lt;org.mapstruct.version&gt;1.5.5.Final&lt;/org.mapstruct.version&gt;\r\n&lt;/properties&gt;\r\n...\r\n&lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\r\n        &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n...\r\n&lt;build&gt;\r\n    &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.8.1&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n                &lt;source&gt;1.8&lt;/source&gt;\r\n                &lt;target&gt;1.8&lt;/target&gt;\r\n                &lt;annotationProcessorPaths&gt;\r\n                    &lt;path&gt;\r\n                        &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n                        &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\r\n                    &lt;/path&gt;\r\n                &lt;/annotationProcessorPaths&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n&lt;/build&gt;\r\n...\r\n```\r\n\r\nYou have not added the annotation processor to the compiler, so there is nothing reading your mapstruct annotations, and generating the code needed so when the server starts it complains that there are things missing.\r\n\r\n[Please read the instructions on how to use mapstruct][1]\r\n\r\n  [1]: https://github.com/mapstruct/mapstruct#using-mapstruct","title":"Error creating a bean in java spring security, spring boot application","body":"<p>Your problem is that you have not actually read the documentation when using mapstruct.</p>\n<p>Map struct is very much like lombok, it generates code during compile time, as in creating a bunch of code for you to map things exactly like lombok generates a bunch of getter and setters, during compile time.</p>\n<p>the example in their <a href=\"https://github.com/mapstruct/mapstruct#using-mapstruct\" rel=\"nofollow noreferrer\">github readme</a> clearly explains how you should use it</p>\n<pre><code>...\n&lt;properties&gt;\n    &lt;org.mapstruct.version&gt;1.5.5.Final&lt;/org.mapstruct.version&gt;\n&lt;/properties&gt;\n...\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n        &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\n        &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n...\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.8.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;1.8&lt;/source&gt;\n                &lt;target&gt;1.8&lt;/target&gt;\n                &lt;annotationProcessorPaths&gt;\n                    &lt;path&gt;\n                        &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                        &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n                        &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\n                    &lt;/path&gt;\n                &lt;/annotationProcessorPaths&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n...\n</code></pre>\n<p>You have not added the annotation processor to the compiler, so there is nothing reading your mapstruct annotations, and generating the code needed so when the server starts it complains that there are things missing.</p>\n<p><a href=\"https://github.com/mapstruct/mapstruct#using-mapstruct\" rel=\"nofollow noreferrer\">Please read the instructions on how to use mapstruct</a></p>\n"}],"owner":{"account_id":20406837,"reputation":1,"user_id":22141326,"display_name":"Karol"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77465442,"answer_count":1,"score":-1,"last_activity_date":1699712645,"creation_date":1699551091,"question_id":77455255,"body_markdown":"```\r\n2023-11-09T18:25:27.163+01:00  WARN 14524 --- [           main] \r\nConfigServletWebServerApplicationContext : Exception encountered during context initialization - \r\ncancelling refresh attempt: \r\norg.springframework.beans.factory.UnsatisfiedDependencyException: \r\nError creating bean with name &#39;authController&#39; defined in file \r\n[C:\\Users\\karol\\IdeaProjects\\demo\\target\\classes\\com\\inn\\project\\controllers\\AuthController.class]: \r\nUnsatisfied dependency expressed through constructor parameter 0: \r\nError creating bean with name &#39;userService&#39; defined in file [C:\\Users\\karol\\IdeaProjects\\demo\r\n\\target\\classes\\com\\inn\\project\\services\\UserService.class]: \r\nUnsatisfied dependency expressed through constructor parameter 2: \r\nNo qualifying bean of type &#39;com.inn.project.mappers.UserMapper&#39; available: \r\nexpected at least 1 bean which qualifies as autowire candidate. \r\nDependency annotations: {}\r\n```\r\n\r\nI have this error in my code.\r\n\r\nThis is my UserController\r\n\r\n\r\n```\r\npackage com.inn.project.controllers;\r\n\r\nimport com.inn.project.models.User;\r\nimport com.inn.project.services.UserService;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\nimport java.util.List;\r\n\r\n@RestController\r\n@CrossOrigin\r\npublic class UserController {\r\n    @Autowired\r\n    private UserService userService;\r\n\r\n    @GetMapping(&quot;/users&quot;)\r\n    public List&lt;User&gt; getUsers(){\r\n        return userService.getUsers();\r\n    }\r\n    @PostMapping(&quot;/users/addnew&quot;)\r\n    public void addUser(@RequestBody User user){\r\n        userService.addUser(user);\r\n    }\r\n    @PutMapping(&quot;/users/{id}/edit&quot;)\r\n    public void updateUser(@PathVariable(&quot;id&quot;) Long id, @RequestBody User user){\r\n        userService.updateUser(user);\r\n    }\r\n    @DeleteMapping(&quot;/users/{id}/delete&quot;)\r\n    public void deleteUser(@PathVariable(&quot;id&quot;) Long id){\r\n        userService.deleteUser(id);\r\n    }\r\n}\r\n```\r\n\r\nThis is AuthController\r\n\r\n\r\n```\r\npackage com.inn.project.controllers;\r\n\r\nimport com.inn.project.dtos.UserDto;\r\nimport com.inn.project.services.UserService;\r\nimport lombok.RequiredArgsConstructor;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\n@RestController\r\n@RequiredArgsConstructor\r\npublic class AuthController {\r\n    private final UserService userService;\r\n\r\n\r\n    @PostMapping(&quot;/login&quot;)\r\n    public ResponseEntity&lt;UserDto&gt; login(@RequestBody Credentials credentials){\r\n        UserDto user = userService.login(credentials);\r\n        return ResponseEntity.ok(user);\r\n    }\r\n}\r\n\r\n```\r\nThis is User model\r\n\r\n\r\n```\r\npackage com.inn.project.models;\r\n\r\nimport jakarta.persistence.*;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\n\r\n@NoArgsConstructor\r\n@Entity\r\n@Data\r\n@Table(name = &quot;User&quot;)\r\npublic class User {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;first_name&quot;)\r\n    private String firstName;\r\n\r\n    @Column(name = &quot;last_name&quot;)\r\n    private String lastName;\r\n\r\n    @Column(name = &quot;password&quot;)\r\n    private String password;\r\n\r\n    private String location;\r\n    private String login;\r\n\r\n    @Column(name = &quot;notifications&quot;)\r\n    private boolean notifications;\r\n\r\n\r\n}\r\n\r\n```\r\nThis is Mapper:\r\n\r\n\r\n```\r\npackage com.inn.project.mappers;\r\n\r\nimport com.inn.project.dtos.UserDto;\r\nimport com.inn.project.models.User;\r\nimport org.mapstruct.Mapper;\r\n\r\n@Mapper(componentModel = &quot;spring&quot;)\r\npublic interface UserMapper {\r\n    UserDto toUser(User user);\r\n}\r\n\r\n```\r\n\r\nAnd this is UserDto:\r\n\r\n\r\n```\r\npackage com.inn.project.dtos;\r\n\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Builder;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\n\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Builder\r\npublic class UserDto {\r\n    private Long id;\r\n    private String firstName;\r\n    private String lastName;\r\n    private String login;\r\n    private String password;\r\n}\r\n\r\n\r\n```\r\n\r\n\r\nHere is UserService\r\n\r\n```\r\npackage com.inn.project.services;\r\n\r\nimport com.inn.project.controllers.Credentials;\r\nimport com.inn.project.dtos.UserDto;\r\nimport com.inn.project.exceptions.AppException;\r\nimport com.inn.project.mappers.UserMapper;\r\nimport com.inn.project.models.User;\r\nimport com.inn.project.repositories.UserRepository;\r\nimport lombok.RequiredArgsConstructor;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport java.nio.CharBuffer;\r\nimport java.util.List;\r\n\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class UserService {\r\n    private final UserRepository userRepository;\r\n    private final PasswordEncoder passwordEncoder;\r\n    private final UserMapper userMapper;\r\n    public List&lt;User&gt; getUsers(){\r\n        return userRepository.findAll();\r\n    }\r\n    public UserDto login(Credentials credentials){\r\n        User user = userRepository.findByLogin(credentials.login())\r\n                .orElseThrow(()-&gt; new AppException(&quot;Uknown user&quot;, HttpStatus.NOT_FOUND));\r\n        if (passwordEncoder.matches(CharBuffer.wrap(credentials.password()),\r\n        user.getPassword()))\r\n        {\r\n            return userMapper.toUser(user);\r\n        }\r\n        throw new AppException(&quot;Invalid password&quot;, HttpStatus.BAD_REQUEST);\r\n\r\n    }\r\n    public void addUser(User user){\r\n        userRepository.save(user);\r\n    }\r\n    public void updateUser(User user){\r\n        userRepository.save(user);\r\n    }\r\n    public void deleteUser(Long id){\r\n        userRepository.deleteById(id);\r\n    }\r\n}\r\n\r\n```\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.5&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.inn&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;demo&lt;/name&gt;\r\n\t&lt;description&gt;Demo&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;sonar.login&gt;sqp_154364705dbb808ea7aa8df4c3ec133df4a041ba&lt;/sonar.login&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.auth0&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;java-jwt&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.10.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.5.5.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\r\n\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n\r\n\r\n\r\nI tried to find problems like mine, but in the end I gave up, because there was no. I write this code based on this tutorial: https://www.youtube.com/watch?v=YUqi1IjLX8I ","title":"Error creating a bean in java spring security, spring boot application","body":"<pre><code>2023-11-09T18:25:27.163+01:00  WARN 14524 --- [           main] \nConfigServletWebServerApplicationContext : Exception encountered during context initialization - \ncancelling refresh attempt: \norg.springframework.beans.factory.UnsatisfiedDependencyException: \nError creating bean with name 'authController' defined in file \n[C:\\Users\\karol\\IdeaProjects\\demo\\target\\classes\\com\\inn\\project\\controllers\\AuthController.class]: \nUnsatisfied dependency expressed through constructor parameter 0: \nError creating bean with name 'userService' defined in file [C:\\Users\\karol\\IdeaProjects\\demo\n\\target\\classes\\com\\inn\\project\\services\\UserService.class]: \nUnsatisfied dependency expressed through constructor parameter 2: \nNo qualifying bean of type 'com.inn.project.mappers.UserMapper' available: \nexpected at least 1 bean which qualifies as autowire candidate. \nDependency annotations: {}\n</code></pre>\n<p>I have this error in my code.</p>\n<p>This is my UserController</p>\n<pre><code>package com.inn.project.controllers;\n\nimport com.inn.project.models.User;\nimport com.inn.project.services.UserService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.util.List;\n\n@RestController\n@CrossOrigin\npublic class UserController {\n    @Autowired\n    private UserService userService;\n\n    @GetMapping(&quot;/users&quot;)\n    public List&lt;User&gt; getUsers(){\n        return userService.getUsers();\n    }\n    @PostMapping(&quot;/users/addnew&quot;)\n    public void addUser(@RequestBody User user){\n        userService.addUser(user);\n    }\n    @PutMapping(&quot;/users/{id}/edit&quot;)\n    public void updateUser(@PathVariable(&quot;id&quot;) Long id, @RequestBody User user){\n        userService.updateUser(user);\n    }\n    @DeleteMapping(&quot;/users/{id}/delete&quot;)\n    public void deleteUser(@PathVariable(&quot;id&quot;) Long id){\n        userService.deleteUser(id);\n    }\n}\n</code></pre>\n<p>This is AuthController</p>\n<pre><code>package com.inn.project.controllers;\n\nimport com.inn.project.dtos.UserDto;\nimport com.inn.project.services.UserService;\nimport lombok.RequiredArgsConstructor;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\n@RequiredArgsConstructor\npublic class AuthController {\n    private final UserService userService;\n\n\n    @PostMapping(&quot;/login&quot;)\n    public ResponseEntity&lt;UserDto&gt; login(@RequestBody Credentials credentials){\n        UserDto user = userService.login(credentials);\n        return ResponseEntity.ok(user);\n    }\n}\n\n</code></pre>\n<p>This is User model</p>\n<pre><code>package com.inn.project.models;\n\nimport jakarta.persistence.*;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n@NoArgsConstructor\n@Entity\n@Data\n@Table(name = &quot;User&quot;)\npublic class User {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(name = &quot;first_name&quot;)\n    private String firstName;\n\n    @Column(name = &quot;last_name&quot;)\n    private String lastName;\n\n    @Column(name = &quot;password&quot;)\n    private String password;\n\n    private String location;\n    private String login;\n\n    @Column(name = &quot;notifications&quot;)\n    private boolean notifications;\n\n\n}\n\n</code></pre>\n<p>This is Mapper:</p>\n<pre><code>package com.inn.project.mappers;\n\nimport com.inn.project.dtos.UserDto;\nimport com.inn.project.models.User;\nimport org.mapstruct.Mapper;\n\n@Mapper(componentModel = &quot;spring&quot;)\npublic interface UserMapper {\n    UserDto toUser(User user);\n}\n\n</code></pre>\n<p>And this is UserDto:</p>\n<pre><code>package com.inn.project.dtos;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Builder;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\npublic class UserDto {\n    private Long id;\n    private String firstName;\n    private String lastName;\n    private String login;\n    private String password;\n}\n\n\n</code></pre>\n<p>Here is UserService</p>\n<pre><code>package com.inn.project.services;\n\nimport com.inn.project.controllers.Credentials;\nimport com.inn.project.dtos.UserDto;\nimport com.inn.project.exceptions.AppException;\nimport com.inn.project.mappers.UserMapper;\nimport com.inn.project.models.User;\nimport com.inn.project.repositories.UserRepository;\nimport lombok.RequiredArgsConstructor;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.stereotype.Service;\n\nimport java.nio.CharBuffer;\nimport java.util.List;\n\n@Service\n@RequiredArgsConstructor\npublic class UserService {\n    private final UserRepository userRepository;\n    private final PasswordEncoder passwordEncoder;\n    private final UserMapper userMapper;\n    public List&lt;User&gt; getUsers(){\n        return userRepository.findAll();\n    }\n    public UserDto login(Credentials credentials){\n        User user = userRepository.findByLogin(credentials.login())\n                .orElseThrow(()-&gt; new AppException(&quot;Uknown user&quot;, HttpStatus.NOT_FOUND));\n        if (passwordEncoder.matches(CharBuffer.wrap(credentials.password()),\n        user.getPassword()))\n        {\n            return userMapper.toUser(user);\n        }\n        throw new AppException(&quot;Invalid password&quot;, HttpStatus.BAD_REQUEST);\n\n    }\n    public void addUser(User user){\n        userRepository.save(user);\n    }\n    public void updateUser(User user){\n        userRepository.save(user);\n    }\n    public void deleteUser(Long id){\n        userRepository.deleteById(id);\n    }\n}\n\n</code></pre>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n</code></pre>\n<p>\n4.0.0\n\norg.springframework.boot\nspring-boot-starter-parent\n3.1.5\n \n\ncom.inn\ndemo</p>\n<pre><code>&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;name&gt;demo&lt;/name&gt;\n&lt;description&gt;Demo&lt;/description&gt;\n&lt;properties&gt;\n    &lt;sonar.login&gt;sqp_154364705dbb808ea7aa8df4c3ec133df4a041ba&lt;/sonar.login&gt;\n    &lt;java.version&gt;17&lt;/java.version&gt;\n&lt;/properties&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.auth0&lt;/groupId&gt;\n        &lt;artifactId&gt;java-jwt&lt;/artifactId&gt;\n        &lt;version&gt;3.10.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n        &lt;version&gt;3.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n        &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\n        &lt;version&gt;1.5.5.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n\n\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;excludes&gt;\n                    &lt;exclude&gt;\n                        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                    &lt;/exclude&gt;\n                &lt;/excludes&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>I tried to find problems like mine, but in the end I gave up, because there was no. I write this code based on this tutorial: <a href=\"https://www.youtube.com/watch?v=YUqi1IjLX8I\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=YUqi1IjLX8I</a></p>\n"},{"tags":["java","spring","spring-cloud","spring-cloud-config","spring-cloud-gateway"],"comments":[{"owner":{"account_id":1368060,"reputation":24601,"user_id":2730527,"display_name":"spencergibb"},"score":0,"creation_date":1699703806,"post_id":77464732,"comment_id":136566550,"body_markdown":"So, the yaml version is &quot;anded&quot; together while the java version has the option of &quot;or&quot;. Split up each path into a separate route.","body":"So, the yaml version is &quot;anded&quot; together while the java version has the option of &quot;or&quot;. Split up each path into a separate route."}],"owner":{"account_id":26795323,"reputation":11,"user_id":20388153,"display_name":"Janek1010"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1699711719,"creation_date":1699698747,"question_id":77464732,"body_markdown":"I am sharing the routing code for Spring Cloud Gateway that functions correctly in my application:\r\n\r\n```java\r\n@Configuration\r\npublic class Config {\r\n\r\n    @Bean\r\n    public RouteLocator routeLocator(RouteLocatorBuilder builder) {\r\n        return builder.routes()\r\n                .route(&quot;customer-service&quot;, r -&gt; r\r\n                        .path(&quot;/api/customers/{customerId}&quot;)\r\n                        .or()\r\n                        .path(&quot;/api/customers&quot;)\r\n                        .uri(&quot;http://localhost:8082&quot;)\r\n                )\r\n                .route(&quot;order-service&quot;, r -&gt; r\r\n                        .path(&quot;/api/orders&quot;)\r\n                        .or()\r\n                        .path(&quot;/api/orders/**&quot;)\r\n                        .or()\r\n                        .path(&quot;/api/customers/{customerId}/orders&quot;)\r\n                        .or()\r\n                        .path(&quot;/api/customers/{customerId}/orders/**&quot;)\r\n                        .uri(&quot;http://localhost:8081&quot;)\r\n                )\r\n                .build();\r\n    }\r\n}\r\n\r\n```\r\nI wanted to convert this code into application.yml configuration, and here&#39;s the modified version:\r\n\r\n```yml\r\nspring:\r\n  cloud:\r\n    gateway:\r\n      routes:\r\n        - id: customer-service\r\n          uri: http://localhost:8082\r\n          predicates:\r\n            - Path=/api/customers/{customerId}\r\n            - Path=/api/customers\r\n        - id: order-service\r\n          uri: http://localhost:8081\r\n          predicates:\r\n            - Path=/api/orders\r\n            - Path=/api/orders/**\r\n            - Path=/api/customers/{customerId}/orders\r\n            - Path=/api/customers/{customerId}/orders/**\r\n\r\n```\r\n\r\nRegrettably, the second configuration in the .yml file is not functioning as expected. I anticipated both configurations to be equivalent. Can you please help me identify what I might be overlooking?","title":"Routes via application.yaml for Spring Cloud Gateway is not working","body":"<p>I am sharing the routing code for Spring Cloud Gateway that functions correctly in my application:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class Config {\n\n    @Bean\n    public RouteLocator routeLocator(RouteLocatorBuilder builder) {\n        return builder.routes()\n                .route(&quot;customer-service&quot;, r -&gt; r\n                        .path(&quot;/api/customers/{customerId}&quot;)\n                        .or()\n                        .path(&quot;/api/customers&quot;)\n                        .uri(&quot;http://localhost:8082&quot;)\n                )\n                .route(&quot;order-service&quot;, r -&gt; r\n                        .path(&quot;/api/orders&quot;)\n                        .or()\n                        .path(&quot;/api/orders/**&quot;)\n                        .or()\n                        .path(&quot;/api/customers/{customerId}/orders&quot;)\n                        .or()\n                        .path(&quot;/api/customers/{customerId}/orders/**&quot;)\n                        .uri(&quot;http://localhost:8081&quot;)\n                )\n                .build();\n    }\n}\n\n</code></pre>\n<p>I wanted to convert this code into application.yml configuration, and here's the modified version:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  cloud:\n    gateway:\n      routes:\n        - id: customer-service\n          uri: http://localhost:8082\n          predicates:\n            - Path=/api/customers/{customerId}\n            - Path=/api/customers\n        - id: order-service\n          uri: http://localhost:8081\n          predicates:\n            - Path=/api/orders\n            - Path=/api/orders/**\n            - Path=/api/customers/{customerId}/orders\n            - Path=/api/customers/{customerId}/orders/**\n\n</code></pre>\n<p>Regrettably, the second configuration in the .yml file is not functioning as expected. I anticipated both configurations to be equivalent. Can you please help me identify what I might be overlooking?</p>\n"},{"tags":["java","elasticsearch","kubernetes","kubernetes-helm"],"comments":[{"owner":{"account_id":1947573,"reputation":6810,"user_id":1752366,"accept_rate":54,"display_name":"silentsudo"},"score":0,"creation_date":1684947045,"post_id":76325252,"comment_id":134593122,"body_markdown":"Check if you have enough node memory","body":"Check if you have enough node memory"},{"owner":{"account_id":4607785,"reputation":71,"user_id":3736766,"display_name":"linuxkaran"},"score":0,"creation_date":1684950254,"post_id":76325252,"comment_id":134593827,"body_markdown":"If there is no enough memory then k8s will not schedule the POD in that node right?","body":"If there is no enough memory then k8s will not schedule the POD in that node right?"},{"owner":{"account_id":1947573,"reputation":6810,"user_id":1752366,"accept_rate":54,"display_name":"silentsudo"},"score":0,"creation_date":1684989690,"post_id":76325252,"comment_id":134598737,"body_markdown":"I have few issues these days all kind of random errors come class loading was once of them. This try `kubectl get events`","body":"I have few issues these days all kind of random errors come class loading was once of them. This try <code>kubectl get events</code>"},{"owner":{"account_id":4607785,"reputation":71,"user_id":3736766,"display_name":"linuxkaran"},"score":0,"creation_date":1685378055,"post_id":76325252,"comment_id":134648613,"body_markdown":"Its not giving any usefull information. I tried to use elasticsearch docker version 8.5.1 and whenever the third replica comes up it started to throw class not found exception for some of the Azure relevant plugins. Bit strange. Whatever the version use the third pod initialization always fails with some class not found error","body":"Its not giving any usefull information. I tried to use elasticsearch docker version 8.5.1 and whenever the third replica comes up it started to throw class not found exception for some of the Azure relevant plugins. Bit strange. Whatever the version use the third pod initialization always fails with some class not found error"}],"owner":{"account_id":4607785,"reputation":71,"user_id":3736766,"display_name":"linuxkaran"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699711474,"creation_date":1684942728,"question_id":76325252,"body_markdown":"I deployed Elasticsearch 7.17.9 using a helm chart in the AWS EKS cluster. While installing/upgrading the deployment randomly one POD goes to an ERROR state. Below is the exception found in the POD logs. Why this is happening even though all three replicas use the same image? This occurs even though X-PACK security is disabled.\r\n\r\n    ElasticsearchException[Could not find plugin class [org.elasticsearch.xpack.security.Security]]; nested: ClassNotFoundException[org.elasticsearch.xpack.security.Security];\r\n    Likely root cause: java.lang.ClassNotFoundException: org.elasticsearch.xpack.security.Security\r\n    \tat java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:445)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:588)\r\n    \tat java.base/java.net.FactoryURLClassLoader.loadClass(URLClassLoader.java:872)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n    \tat java.base/java.lang.Class.forName0(Native Method)\r\n    \tat java.base/java.lang.Class.forName(Class.java:495)\r\n    \tat java.base/java.lang.Class.forName(Class.java:474)\r\n    \tat org.elasticsearch.plugins.PluginsService.loadPluginClass(PluginsService.java:777)\r\n    \tat org.elasticsearch.plugins.PluginsService.loadBundle(PluginsService.java:738)\r\n    \tat org.elasticsearch.plugins.PluginsService.loadBundles(PluginsService.java:533)\r\n    \tat org.elasticsearch.plugins.PluginsService.&lt;init&gt;(PluginsService.java:170)\r\n    \tat org.elasticsearch.node.Node.&lt;init&gt;(Node.java:411)\r\n    \tat org.elasticsearch.node.Node.&lt;init&gt;(Node.java:309)\r\n    \tat org.elasticsearch.bootstrap.Bootstrap$5.&lt;init&gt;(Bootstrap.java:234)\r\n    \tat org.elasticsearch.bootstrap.Bootstrap.setup(Bootstrap.java:234)\r\n    \tat org.elasticsearch.bootstrap.Bootstrap.init(Bootstrap.java:434)\r\n    \tat org.elasticsearch.bootstrap.Elasticsearch.init(Elasticsearch.java:169)\r\n    \tat org.elasticsearch.bootstrap.Elasticsearch.execute(Elasticsearch.java:160)\r\n    \tat org.elasticsearch.cli.EnvironmentAwareCommand.execute(EnvironmentAwareCommand.java:77)\r\n    \tat org.elasticsearch.cli.Command.mainWithoutErrorHandling(Command.java:112)\r\n    \tat org.elasticsearch.cli.Command.main(Command.java:77)\r\n    \tat org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:125)\r\n    \tat org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:80)\r\n    For complete error details, refer to the log at /usr/share/elasticsearch/logs/elasticsearch.log\r\n    2023-05-23 19:03:59,695328 UTC [432] INFO  Main.cc@111 Parent process died - ML controller exiting","title":"Elasticsearch POD in kubernetes randomly fails with error &quot;java.lang.ClassNotFoundException: org.elasticsearch.xpack.security.Security&quot;","body":"<p>I deployed Elasticsearch 7.17.9 using a helm chart in the AWS EKS cluster. While installing/upgrading the deployment randomly one POD goes to an ERROR state. Below is the exception found in the POD logs. Why this is happening even though all three replicas use the same image? This occurs even though X-PACK security is disabled.</p>\n<pre><code>ElasticsearchException[Could not find plugin class [org.elasticsearch.xpack.security.Security]]; nested: ClassNotFoundException[org.elasticsearch.xpack.security.Security];\nLikely root cause: java.lang.ClassNotFoundException: org.elasticsearch.xpack.security.Security\n    at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:445)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:588)\n    at java.base/java.net.FactoryURLClassLoader.loadClass(URLClassLoader.java:872)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n    at java.base/java.lang.Class.forName0(Native Method)\n    at java.base/java.lang.Class.forName(Class.java:495)\n    at java.base/java.lang.Class.forName(Class.java:474)\n    at org.elasticsearch.plugins.PluginsService.loadPluginClass(PluginsService.java:777)\n    at org.elasticsearch.plugins.PluginsService.loadBundle(PluginsService.java:738)\n    at org.elasticsearch.plugins.PluginsService.loadBundles(PluginsService.java:533)\n    at org.elasticsearch.plugins.PluginsService.&lt;init&gt;(PluginsService.java:170)\n    at org.elasticsearch.node.Node.&lt;init&gt;(Node.java:411)\n    at org.elasticsearch.node.Node.&lt;init&gt;(Node.java:309)\n    at org.elasticsearch.bootstrap.Bootstrap$5.&lt;init&gt;(Bootstrap.java:234)\n    at org.elasticsearch.bootstrap.Bootstrap.setup(Bootstrap.java:234)\n    at org.elasticsearch.bootstrap.Bootstrap.init(Bootstrap.java:434)\n    at org.elasticsearch.bootstrap.Elasticsearch.init(Elasticsearch.java:169)\n    at org.elasticsearch.bootstrap.Elasticsearch.execute(Elasticsearch.java:160)\n    at org.elasticsearch.cli.EnvironmentAwareCommand.execute(EnvironmentAwareCommand.java:77)\n    at org.elasticsearch.cli.Command.mainWithoutErrorHandling(Command.java:112)\n    at org.elasticsearch.cli.Command.main(Command.java:77)\n    at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:125)\n    at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:80)\nFor complete error details, refer to the log at /usr/share/elasticsearch/logs/elasticsearch.log\n2023-05-23 19:03:59,695328 UTC [432] INFO  Main.cc@111 Parent process died - ML controller exiting\n</code></pre>\n"},{"tags":["java","oop","filereader","hashset","system.out"],"comments":[{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":3,"creation_date":1699502050,"post_id":77450284,"comment_id":136540953,"body_markdown":"Please don&#39;t show links to code; show the code - questions should stand alone. In your case, show the code that adds phones to your list. Ideally, create an [mcve] and post a link to that.","body":"Please don&#39;t show links to code; show the code - questions should stand alone. In your case, show the code that adds phones to your list. Ideally, create an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and post a link to that."},{"owner":{"account_id":3601683,"reputation":8824,"user_id":3004881,"accept_rate":100,"display_name":"Dan Getz"},"score":1,"creation_date":1699502622,"post_id":77450284,"comment_id":136540995,"body_markdown":"You can check the length of a list with its `.size()` method, in case that helps you narrow down where you&#39;re looking for the error.","body":"You can check the length of a list with its <code>.size()</code> method, in case that helps you narrow down where you&#39;re looking for the error."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1699514068,"post_id":77450284,"comment_id":136542039,"body_markdown":"based on `addPhone`, the `bestPhones` list will probably&#185; only hold more than one phone, if these are kind of equals regarding `dominates` (and *dominating* all others) || **&#185;** I would have to debug this code to be sure but it is too much code to do so. But I believe you can debug it yourself and learn a lot about your code. || Also recommended to add a `toString` method to the `Phone` class!","body":"based on <code>addPhone</code>, the <code>bestPhones</code> list will probably&#185; only hold more than one phone, if these are kind of equals regarding <code>dominates</code> (and <i>dominating</i> all others) || <b>&#185;</b> I would have to debug this code to be sure but it is too much code to do so. But I believe you can debug it yourself and learn a lot about your code. || Also recommended to add a <code>toString</code> method to the <code>Phone</code> class!"},{"owner":{"account_id":3601683,"reputation":8824,"user_id":3004881,"accept_rate":100,"display_name":"Dan Getz"},"score":0,"creation_date":1699544635,"post_id":77450284,"comment_id":136548048,"body_markdown":"I suggest you read again the description of what `dominates()` is supposed to do, and check how your code for that handles all the different situations it might encounter. It could help to test it individually: create two objects manually with `new Phone(..., ...)`, call `dominate()`, and see if it does what it&#39;s supposed to.","body":"I suggest you read again the description of what <code>dominates()</code> is supposed to do, and check how your code for that handles all the different situations it might encounter. It could help to test it individually: create two objects manually with <code>new Phone(..., ...)</code>, call <code>dominate()</code>, and see if it does what it&#39;s supposed to."}],"answers":[{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699512746,"creation_date":1699512746,"answer_id":77451035,"question_id":77450284,"body_markdown":"To me, this is rather confusing. Why couldn&#39;t the best phones have both the largest screen size and the most battery capacity as well? Which is to take precedence over one phone from another phone towards Screen Size and Battery Capacity? Shouldn&#39;t it be configurable (to some extent) to accommodate specific needs? \r\n\r\nTry the small runnable code below (read comments in code). Be sure to play with the values for the `numberOfBestPhonesToFind` and `precedence` member variables:\r\n\r\n```\r\npublic class GetBestPhoneDemo {\r\n\r\n    /* Will Hold the max Screen size of a phone found \r\n       that matches desired precedence:           */\r\n    double maxScreenSize;\r\n    \r\n    /* Will Hold the max Battery Capacity of a phone \r\n       found that matches desired precedence:     */\r\n    int maxBatteryCapacity;\r\n    \r\n    // The number of &quot;Best Phones&quot; this app is to acquire:\r\n    int numberOfBestPhonesToFind = 2;\r\n\r\n    /* 0  = Both Screen Size &amp; Battery Capacity take equal precedence. \r\n       1  = Screen Size takes more precedence than Battery Capacity.\r\n       2  = Battery Capacity takes more precedence than Screen Size.  \r\n       3  = Screen Size takes full precedence.\r\n       4  = Battery Capacity takes full precedence.         \r\n       5+ = Nothing is displayed.                             */\r\n    int precedence = 0;\r\n    \r\n    /* Internally used counter to keep track of \r\n       the number of best phones acquired:   */\r\n    int phoneCount = 0;\r\n\r\n    /* List Interface of String to hold whatever file\r\n       lines that are deemed to be &quot;Best Phones&quot;:  */\r\n    java.util.List&lt;String&gt; bestPhonesList = new java.util.ArrayList&lt;&gt;();\r\n    \r\n    // Will hold the currently processed &quot;Best Phone&quot; data Line:\r\n    String currentBestPhone = &quot;&quot;;\r\n    \r\n    \r\n    \r\n    // The `main()` method - Application entry point....\r\n    public static void main(String[] args) {\r\n        /* App started this way to avoid the need for statics\r\n           unless we really want them:        */\r\n        new GetBestPhoneDemo().startApp(args);\r\n    }\r\n\r\n    private void startApp(String[] args) {\r\n        java.io.File dataFile = new java.io.File(&quot;Phone-Data-List.txt&quot;); // OR &quot;Phone-Data-Short.txt&quot;\r\n        while (phoneCount &lt; numberOfBestPhonesToFind) {\r\n            maxScreenSize = Double.MIN_VALUE;\r\n            maxBatteryCapacity = Integer.MIN_VALUE;\r\n            String bestPhone = &quot;&quot;;\r\n            \r\n            // &#39;Try With Resources&#39; used here to auto-close reader:\r\n            try (java.util.Scanner reader = new java.util.Scanner(dataFile)) {\r\n                String line = &quot;&quot;;\r\n                while (reader.hasNextLine()) {\r\n                    line = reader.nextLine();\r\n                    line = line.trim();\r\n                    /* Skip blank lines (should there be any) and skip past \r\n                       any phone that is already in the `bestPhoneList`  */\r\n                    if (line.isEmpty() || bestPhonesList.contains(line)) {\r\n                        continue;\r\n                    }\r\n                    \r\n                    // Split the currently read in data line...\r\n                    String[] lineParts = line.split(&quot;\\\\s+&quot;);\r\n                    \r\n                    // Get the Battery Capacity from data line:\r\n                    int batCap = Integer.parseInt(lineParts[lineParts.length - 1]);\r\n                    \r\n                    // Get the Screen Size from data line:\r\n                    double scrnSize = Double.parseDouble(lineParts[lineParts.length - 2]);\r\n                    \r\n                    // Set a possible best phone based on the desired precedence:\r\n                    if (precedence == 0 &amp;&amp; (scrnSize &gt;= maxScreenSize &amp;&amp; batCap &gt;= maxBatteryCapacity)) {\r\n                        setBestPhone(scrnSize, batCap, line);\r\n                    } \r\n                    else if (precedence == 1 &amp;&amp; (scrnSize &gt; maxScreenSize &amp;&amp; batCap &gt;= maxBatteryCapacity)) {\r\n                        setBestPhone(scrnSize, batCap, line);\r\n                    } \r\n                    else if (precedence == 2 &amp;&amp; (scrnSize &gt;= maxScreenSize &amp;&amp; batCap &gt; maxBatteryCapacity)) {\r\n                        setBestPhone(scrnSize, batCap, line);\r\n                    } \r\n                    else if (precedence == 3 &amp;&amp; scrnSize &gt; maxScreenSize) {\r\n                        setBestPhone(scrnSize, batCap, line);\r\n                    }\r\n                    else if (precedence == 4 &amp;&amp; (batCap &gt; maxBatteryCapacity)) {\r\n                        setBestPhone(scrnSize, batCap, line);\r\n                    } \r\n                }\r\n            }\r\n            catch (java.io.FileNotFoundException ex) {\r\n                System.err.println(ex.getMessage());\r\n                return;\r\n            }\r\n            \r\n            /* Add the determined &quot;Best Phone&quot; to the `bestPhonesList` \r\n               List providing it isn&#39;t already in there:        */\r\n            if (!bestPhonesList.contains(currentBestPhone)) {\r\n                bestPhonesList.add(currentBestPhone);\r\n                phoneCount++; // Increment the phone count aquired, by 1:\r\n            }\r\n            \r\n            // Read the file again to get another best phone (if needed).\r\n        }\r\n                \r\n        // Display the Best Phones in Console Window:\r\n        for (String str : bestPhonesList) {\r\n            System.out.println(str);\r\n        }\r\n    }\r\n\r\n    private void setBestPhone(double screenSize, int batteryCapacity, String bestPhone) {\r\n        maxScreenSize = screenSize;\r\n        maxBatteryCapacity = batteryCapacity;\r\n        currentBestPhone = bestPhone;\r\n    }\r\n}\r\n```\r\n\r\nYou may need to tweak it a bit but, perhaps you can get something from it.\r\n","title":"I made a program that should send me two &quot;best phones&quot; from a list of phones in a text file, but only shows one?","body":"<p>To me, this is rather confusing. Why couldn't the best phones have both the largest screen size and the most battery capacity as well? Which is to take precedence over one phone from another phone towards Screen Size and Battery Capacity? Shouldn't it be configurable (to some extent) to accommodate specific needs?</p>\n<p>Try the small runnable code below (read comments in code). Be sure to play with the values for the <code>numberOfBestPhonesToFind</code> and <code>precedence</code> member variables:</p>\n<pre><code>public class GetBestPhoneDemo {\n\n    /* Will Hold the max Screen size of a phone found \n       that matches desired precedence:           */\n    double maxScreenSize;\n    \n    /* Will Hold the max Battery Capacity of a phone \n       found that matches desired precedence:     */\n    int maxBatteryCapacity;\n    \n    // The number of &quot;Best Phones&quot; this app is to acquire:\n    int numberOfBestPhonesToFind = 2;\n\n    /* 0  = Both Screen Size &amp; Battery Capacity take equal precedence. \n       1  = Screen Size takes more precedence than Battery Capacity.\n       2  = Battery Capacity takes more precedence than Screen Size.  \n       3  = Screen Size takes full precedence.\n       4  = Battery Capacity takes full precedence.         \n       5+ = Nothing is displayed.                             */\n    int precedence = 0;\n    \n    /* Internally used counter to keep track of \n       the number of best phones acquired:   */\n    int phoneCount = 0;\n\n    /* List Interface of String to hold whatever file\n       lines that are deemed to be &quot;Best Phones&quot;:  */\n    java.util.List&lt;String&gt; bestPhonesList = new java.util.ArrayList&lt;&gt;();\n    \n    // Will hold the currently processed &quot;Best Phone&quot; data Line:\n    String currentBestPhone = &quot;&quot;;\n    \n    \n    \n    // The `main()` method - Application entry point....\n    public static void main(String[] args) {\n        /* App started this way to avoid the need for statics\n           unless we really want them:        */\n        new GetBestPhoneDemo().startApp(args);\n    }\n\n    private void startApp(String[] args) {\n        java.io.File dataFile = new java.io.File(&quot;Phone-Data-List.txt&quot;); // OR &quot;Phone-Data-Short.txt&quot;\n        while (phoneCount &lt; numberOfBestPhonesToFind) {\n            maxScreenSize = Double.MIN_VALUE;\n            maxBatteryCapacity = Integer.MIN_VALUE;\n            String bestPhone = &quot;&quot;;\n            \n            // 'Try With Resources' used here to auto-close reader:\n            try (java.util.Scanner reader = new java.util.Scanner(dataFile)) {\n                String line = &quot;&quot;;\n                while (reader.hasNextLine()) {\n                    line = reader.nextLine();\n                    line = line.trim();\n                    /* Skip blank lines (should there be any) and skip past \n                       any phone that is already in the `bestPhoneList`  */\n                    if (line.isEmpty() || bestPhonesList.contains(line)) {\n                        continue;\n                    }\n                    \n                    // Split the currently read in data line...\n                    String[] lineParts = line.split(&quot;\\\\s+&quot;);\n                    \n                    // Get the Battery Capacity from data line:\n                    int batCap = Integer.parseInt(lineParts[lineParts.length - 1]);\n                    \n                    // Get the Screen Size from data line:\n                    double scrnSize = Double.parseDouble(lineParts[lineParts.length - 2]);\n                    \n                    // Set a possible best phone based on the desired precedence:\n                    if (precedence == 0 &amp;&amp; (scrnSize &gt;= maxScreenSize &amp;&amp; batCap &gt;= maxBatteryCapacity)) {\n                        setBestPhone(scrnSize, batCap, line);\n                    } \n                    else if (precedence == 1 &amp;&amp; (scrnSize &gt; maxScreenSize &amp;&amp; batCap &gt;= maxBatteryCapacity)) {\n                        setBestPhone(scrnSize, batCap, line);\n                    } \n                    else if (precedence == 2 &amp;&amp; (scrnSize &gt;= maxScreenSize &amp;&amp; batCap &gt; maxBatteryCapacity)) {\n                        setBestPhone(scrnSize, batCap, line);\n                    } \n                    else if (precedence == 3 &amp;&amp; scrnSize &gt; maxScreenSize) {\n                        setBestPhone(scrnSize, batCap, line);\n                    }\n                    else if (precedence == 4 &amp;&amp; (batCap &gt; maxBatteryCapacity)) {\n                        setBestPhone(scrnSize, batCap, line);\n                    } \n                }\n            }\n            catch (java.io.FileNotFoundException ex) {\n                System.err.println(ex.getMessage());\n                return;\n            }\n            \n            /* Add the determined &quot;Best Phone&quot; to the `bestPhonesList` \n               List providing it isn't already in there:        */\n            if (!bestPhonesList.contains(currentBestPhone)) {\n                bestPhonesList.add(currentBestPhone);\n                phoneCount++; // Increment the phone count aquired, by 1:\n            }\n            \n            // Read the file again to get another best phone (if needed).\n        }\n                \n        // Display the Best Phones in Console Window:\n        for (String str : bestPhonesList) {\n            System.out.println(str);\n        }\n    }\n\n    private void setBestPhone(double screenSize, int batteryCapacity, String bestPhone) {\n        maxScreenSize = screenSize;\n        maxBatteryCapacity = batteryCapacity;\n        currentBestPhone = bestPhone;\n    }\n}\n</code></pre>\n<p>You may need to tweak it a bit but, perhaps you can get something from it.</p>\n"},{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699709612,"creation_date":1699709612,"answer_id":77465267,"question_id":77450284,"body_markdown":"This line of your code (in method `parse` of class `PhoneParser`) will **always** return &quot;false&quot;.\r\n```java\r\nif (scanner.hasNextDouble() &amp;&amp; scanner.hasNextInt()) {\r\n```\r\nYou need to make it a nested `if`, i.e.\r\n```java\r\nif (scanner.hasNextDouble()) {\r\n    double screenSize = scanner.nextDouble();\r\n    if (scanner.hasNextInt()) {\r\n        int batteryCapacity = scanner.nextInt();\r\n        return new Phone(model, screenSize, batteryCapacity);\r\n    }\r\n}\r\n```\r\nInitially, `bestPhones` (in class `PhoneList`) is empty. So the first line of file &quot;phone-data.txt&quot; must be added to `bestPhones` since there are no other phones to compare it to and therefore it must be a &quot;best phone&quot;. Your code does not handle that situation.\r\n\r\nMethod `dominates` (in class `Phone`) does not implement the criteria as stated in the method comments. It should be:\r\n```java\r\nreturn (this.getScreenSize() &gt; other.getScreenSize()  &amp;&amp;  getBatteryCapacity() &gt;= other.getBatteryCapacity()) ||\r\n       (this.getBatteryCapacity() &gt; other.getBatteryCapacity()  &amp;&amp;  getScreenSize() &gt;= other.getScreenSize());\r\n```\r\nFor the sake of completeness, here is the code of all four classes, including the changes described above.\r\n\r\nClass `Phone`\r\n```java\r\npublic class Phone {\r\n    private final String model;\r\n    private final double screenSize;\r\n    private final int batteryCapacity;\r\n\r\n    public Phone(String model, double screenSize, int batteryCapacity) {\r\n        // : Ensure the screenSize and batteryCapacity are positive\r\n        // by throwing an IllegalArgumentException otherwise\r\n\r\n        //TASK 1:\r\n        if (screenSize &lt;0 || batteryCapacity &lt;=0) {\r\n            throw new IllegalArgumentException(&quot;Screen size and/or battery capacity must not be positive&quot;);\r\n        }\r\n        this.model = model;\r\n        this.screenSize = screenSize;\r\n        this.batteryCapacity = batteryCapacity;\r\n    }\r\n\r\n    // Gets the phone&#39;s model name.\r\n    public String getModel() {\r\n        return model;\r\n    }\r\n\r\n    // Gets the phone&#39;s diagonal screen size (in inches).\r\n    public double getScreenSize() {\r\n        return screenSize;\r\n    }\r\n\r\n    // Gets the phone&#39;s battery capacity (in mAh).\r\n    public int getBatteryCapacity() {\r\n        return batteryCapacity;\r\n    }\r\n\r\n    /* Determines whether this phone &quot;dominates&quot; another phone, meaning\r\n     * this phone is better in one criterion, and at least as good in the\r\n     * other criterion. */\r\n    public boolean dominates(Phone other) {\r\n        // : implement this method\r\n        // Task 2:\r\n        return (this.getScreenSize() &gt; other.getScreenSize()  &amp;&amp;  getBatteryCapacity() &gt;= other.getBatteryCapacity()) ||\r\n               (this.getBatteryCapacity() &gt; other.getBatteryCapacity()  &amp;&amp;  getScreenSize() &gt;= other.getScreenSize());\r\n    }\r\n}\r\n```\r\nClass `PhoneLIst`\r\n```java\r\nimport java.util.*;\r\n\r\npublic class PhoneList {\r\n    private final List&lt;Phone&gt; allPhones = new ArrayList&lt;&gt;();\r\n    private final Set&lt;Phone&gt; bestPhones = new HashSet&lt;&gt;();\r\n\r\n    /*\r\n     * Adds a phone to the list.\r\n     */\r\n    public void addPhone(Phone phone) {\r\n        allPhones.add(phone);\r\n        if (bestPhones.isEmpty()) {\r\n            bestPhones.add(phone);\r\n        }\r\n        else {\r\n\r\n            // remove from bestPhones if dominated by the new phone\r\n            Iterator&lt;Phone&gt; iter = bestPhones.iterator();\r\n            while (iter.hasNext()) {\r\n                Phone other = iter.next();\r\n                if (phone.dominates(other)) {\r\n                    iter.remove();\r\n                }\r\n            }\r\n\r\n            // only add the new phone to bestPhones if it&#39;s not dominated\r\n            if (!phoneIsDominated(phone)) {\r\n                bestPhones.add(phone);\r\n            }\r\n        }\r\n    }\r\n\r\n    /*\r\n     * Determines whether a phone is dominated by any other phone.\r\n     */\r\n    public boolean phoneIsDominated(Phone phone) {\r\n        // only need to compare with the undominated phones\r\n        for (Phone other : bestPhones) {\r\n            if (other.dominates(phone)) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    /*\r\n     * Gets all phones. The list returned is unmodifiable.\r\n     */\r\n    public List&lt;Phone&gt; getAllPhones() {\r\n        // : return an unmodifiable view of the list\r\n        // Task 3.1:\r\n        // return allPhones;\r\n        return Collections.unmodifiableList(allPhones);\r\n        // return allPhones;\r\n    }\r\n\r\n    /*\r\n     * Gets all phones which are not dominated by another phone. The collection\r\n     * returned is unmodifiable.\r\n     */\r\n    public Collection&lt;Phone&gt; getBestPhones() {\r\n        // : return an unmodifiable view of the set\r\n        // Task 3.2:\r\n        return Collections.unmodifiableSet(bestPhones);\r\n        // return bestPhones;\r\n    }\r\n}\r\n```\r\nClass `PhoneParser`\r\n```java\r\nimport java.io.BufferedReader;\r\nimport java.io.FileReader;\r\nimport java.io.IOException;\r\nimport java.util.Scanner;\r\n\r\npublic class PhoneParser {\r\n    /*\r\n     * Parses a phone data string, in the following format:\r\n     * \r\n     * model screenSize batteryCapacity\r\n     * \r\n     * The model name is encoded with underscores instead of spaces.\r\n     */\r\n    public static Phone parse(String data) {\r\n        // : parse the phone data string, and return a Phone object.\r\n        // you may use string manipulation, a regex, or a Scanner\r\n        // Task 4:\r\n        try (Scanner scanner = new Scanner(data)) {\r\n            // set delimiter to split on spaces\r\n            scanner.useDelimiter(&quot; &quot;);\r\n\r\n            if (scanner.hasNext()) {\r\n                String model = scanner.next().replace(&quot;_&quot;, &quot; &quot;);\r\n                if (scanner.hasNextDouble()) {\r\n                    double screenSize = scanner.nextDouble();\r\n                    if (scanner.hasNextInt()) {\r\n                        int batteryCapacity = scanner.nextInt();\r\n                        return new Phone(model, screenSize, batteryCapacity);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        // Returns null if parsing fails\r\n        return null;\r\n    }\r\n\r\n    /*\r\n     * Returns a PhoneList by parsing a text file containing the phone data.\r\n     */\r\n    public static PhoneList parseFile(String filename) throws IOException {\r\n        // : create a PhoneList TASK 5:\r\n        PhoneList phoneList = new PhoneList();\r\n\r\n        // : create a BufferedReader to read from the file TASK 5:\r\n        try (BufferedReader reader = new BufferedReader(new FileReader(filename))) {\r\n\r\n            // : for each line, parse it as a Phone and add it to the list TASK 5:\r\n            String line;\r\n            while ((line = reader.readLine()) != null) {\r\n                Phone phone = parse(line);\r\n                if (phone != null) {\r\n                    phoneList.addPhone(phone);\r\n                }\r\n            }\r\n        }\r\n        return phoneList;\r\n    }\r\n}\r\n```\r\nClass `FindBestPhones`\r\n```java\r\nimport java.io.IOException;\r\nimport java.util.Collection;\r\n\r\npublic class FindBestPhones {\r\n    public static String PHONES_FILE = &quot;phone-data.txt&quot;;\r\n\r\n    public static void main(String[] args) {\r\n        try {\r\n            PhoneList phoneList = PhoneParser.parseFile(PHONES_FILE);\r\n\r\n            // Get the best phones from the phone list\r\n            Collection&lt;Phone&gt; bestPhones = phoneList.getBestPhones();\r\n\r\n            // Print the model names of the best phones\r\n            System.out.println(&quot;Best Phones:&quot;);\r\n            for (Phone phone : bestPhones) {\r\n                System.out.println(phone.getModel());\r\n            }\r\n        }\r\n        catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\nThis is the output I get:\r\n```none\r\nBest Phones:\r\nOukitel K10\r\nXiaomi Mi Max 2 64GB\r\nDoogee BL12000\r\nAsus ZenFone 3 Ultra ZU680KL (4GB RAM), 64GB\r\n```\r\n","title":"I made a program that should send me two &quot;best phones&quot; from a list of phones in a text file, but only shows one?","body":"<p>This line of your code (in method <code>parse</code> of class <code>PhoneParser</code>) will <strong>always</strong> return &quot;false&quot;.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (scanner.hasNextDouble() &amp;&amp; scanner.hasNextInt()) {\n</code></pre>\n<p>You need to make it a nested <code>if</code>, i.e.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (scanner.hasNextDouble()) {\n    double screenSize = scanner.nextDouble();\n    if (scanner.hasNextInt()) {\n        int batteryCapacity = scanner.nextInt();\n        return new Phone(model, screenSize, batteryCapacity);\n    }\n}\n</code></pre>\n<p>Initially, <code>bestPhones</code> (in class <code>PhoneList</code>) is empty. So the first line of file &quot;phone-data.txt&quot; must be added to <code>bestPhones</code> since there are no other phones to compare it to and therefore it must be a &quot;best phone&quot;. Your code does not handle that situation.</p>\n<p>Method <code>dominates</code> (in class <code>Phone</code>) does not implement the criteria as stated in the method comments. It should be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>return (this.getScreenSize() &gt; other.getScreenSize()  &amp;&amp;  getBatteryCapacity() &gt;= other.getBatteryCapacity()) ||\n       (this.getBatteryCapacity() &gt; other.getBatteryCapacity()  &amp;&amp;  getScreenSize() &gt;= other.getScreenSize());\n</code></pre>\n<p>For the sake of completeness, here is the code of all four classes, including the changes described above.</p>\n<p>Class <code>Phone</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Phone {\n    private final String model;\n    private final double screenSize;\n    private final int batteryCapacity;\n\n    public Phone(String model, double screenSize, int batteryCapacity) {\n        // : Ensure the screenSize and batteryCapacity are positive\n        // by throwing an IllegalArgumentException otherwise\n\n        //TASK 1:\n        if (screenSize &lt;0 || batteryCapacity &lt;=0) {\n            throw new IllegalArgumentException(&quot;Screen size and/or battery capacity must not be positive&quot;);\n        }\n        this.model = model;\n        this.screenSize = screenSize;\n        this.batteryCapacity = batteryCapacity;\n    }\n\n    // Gets the phone's model name.\n    public String getModel() {\n        return model;\n    }\n\n    // Gets the phone's diagonal screen size (in inches).\n    public double getScreenSize() {\n        return screenSize;\n    }\n\n    // Gets the phone's battery capacity (in mAh).\n    public int getBatteryCapacity() {\n        return batteryCapacity;\n    }\n\n    /* Determines whether this phone &quot;dominates&quot; another phone, meaning\n     * this phone is better in one criterion, and at least as good in the\n     * other criterion. */\n    public boolean dominates(Phone other) {\n        // : implement this method\n        // Task 2:\n        return (this.getScreenSize() &gt; other.getScreenSize()  &amp;&amp;  getBatteryCapacity() &gt;= other.getBatteryCapacity()) ||\n               (this.getBatteryCapacity() &gt; other.getBatteryCapacity()  &amp;&amp;  getScreenSize() &gt;= other.getScreenSize());\n    }\n}\n</code></pre>\n<p>Class <code>PhoneLIst</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\n\npublic class PhoneList {\n    private final List&lt;Phone&gt; allPhones = new ArrayList&lt;&gt;();\n    private final Set&lt;Phone&gt; bestPhones = new HashSet&lt;&gt;();\n\n    /*\n     * Adds a phone to the list.\n     */\n    public void addPhone(Phone phone) {\n        allPhones.add(phone);\n        if (bestPhones.isEmpty()) {\n            bestPhones.add(phone);\n        }\n        else {\n\n            // remove from bestPhones if dominated by the new phone\n            Iterator&lt;Phone&gt; iter = bestPhones.iterator();\n            while (iter.hasNext()) {\n                Phone other = iter.next();\n                if (phone.dominates(other)) {\n                    iter.remove();\n                }\n            }\n\n            // only add the new phone to bestPhones if it's not dominated\n            if (!phoneIsDominated(phone)) {\n                bestPhones.add(phone);\n            }\n        }\n    }\n\n    /*\n     * Determines whether a phone is dominated by any other phone.\n     */\n    public boolean phoneIsDominated(Phone phone) {\n        // only need to compare with the undominated phones\n        for (Phone other : bestPhones) {\n            if (other.dominates(phone)) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    /*\n     * Gets all phones. The list returned is unmodifiable.\n     */\n    public List&lt;Phone&gt; getAllPhones() {\n        // : return an unmodifiable view of the list\n        // Task 3.1:\n        // return allPhones;\n        return Collections.unmodifiableList(allPhones);\n        // return allPhones;\n    }\n\n    /*\n     * Gets all phones which are not dominated by another phone. The collection\n     * returned is unmodifiable.\n     */\n    public Collection&lt;Phone&gt; getBestPhones() {\n        // : return an unmodifiable view of the set\n        // Task 3.2:\n        return Collections.unmodifiableSet(bestPhones);\n        // return bestPhones;\n    }\n}\n</code></pre>\n<p>Class <code>PhoneParser</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.BufferedReader;\nimport java.io.FileReader;\nimport java.io.IOException;\nimport java.util.Scanner;\n\npublic class PhoneParser {\n    /*\n     * Parses a phone data string, in the following format:\n     * \n     * model screenSize batteryCapacity\n     * \n     * The model name is encoded with underscores instead of spaces.\n     */\n    public static Phone parse(String data) {\n        // : parse the phone data string, and return a Phone object.\n        // you may use string manipulation, a regex, or a Scanner\n        // Task 4:\n        try (Scanner scanner = new Scanner(data)) {\n            // set delimiter to split on spaces\n            scanner.useDelimiter(&quot; &quot;);\n\n            if (scanner.hasNext()) {\n                String model = scanner.next().replace(&quot;_&quot;, &quot; &quot;);\n                if (scanner.hasNextDouble()) {\n                    double screenSize = scanner.nextDouble();\n                    if (scanner.hasNextInt()) {\n                        int batteryCapacity = scanner.nextInt();\n                        return new Phone(model, screenSize, batteryCapacity);\n                    }\n                }\n            }\n        }\n        catch (Exception e) {\n            e.printStackTrace();\n        }\n        // Returns null if parsing fails\n        return null;\n    }\n\n    /*\n     * Returns a PhoneList by parsing a text file containing the phone data.\n     */\n    public static PhoneList parseFile(String filename) throws IOException {\n        // : create a PhoneList TASK 5:\n        PhoneList phoneList = new PhoneList();\n\n        // : create a BufferedReader to read from the file TASK 5:\n        try (BufferedReader reader = new BufferedReader(new FileReader(filename))) {\n\n            // : for each line, parse it as a Phone and add it to the list TASK 5:\n            String line;\n            while ((line = reader.readLine()) != null) {\n                Phone phone = parse(line);\n                if (phone != null) {\n                    phoneList.addPhone(phone);\n                }\n            }\n        }\n        return phoneList;\n    }\n}\n</code></pre>\n<p>Class <code>FindBestPhones</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.IOException;\nimport java.util.Collection;\n\npublic class FindBestPhones {\n    public static String PHONES_FILE = &quot;phone-data.txt&quot;;\n\n    public static void main(String[] args) {\n        try {\n            PhoneList phoneList = PhoneParser.parseFile(PHONES_FILE);\n\n            // Get the best phones from the phone list\n            Collection&lt;Phone&gt; bestPhones = phoneList.getBestPhones();\n\n            // Print the model names of the best phones\n            System.out.println(&quot;Best Phones:&quot;);\n            for (Phone phone : bestPhones) {\n                System.out.println(phone.getModel());\n            }\n        }\n        catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>This is the output I get:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Best Phones:\nOukitel K10\nXiaomi Mi Max 2 64GB\nDoogee BL12000\nAsus ZenFone 3 Ultra ZU680KL (4GB RAM), 64GB\n</code></pre>\n"}],"owner":{"account_id":27352662,"reputation":36,"user_id":20861575,"display_name":"Tariq"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1699709612,"creation_date":1699500209,"question_id":77450284,"body_markdown":"This is a link to my java project: https://github.com/Mundanest/Java-files/tree/main/Lab%207 \r\n\r\n(This is my first time using github, as I&#39;m not sure how else to link a java project folder so I might have messed up)(code also at bottom)\r\n\r\nIt holds 4 classes: \r\n\r\n- one for printing, **FindBestPhone.java**\r\n\r\n- one for creating a Phone object, **Phone.java**\r\n\r\n- one for adding phones to various lists, **PhoneList.java**\r\n\r\n- and one for parsing the text, **PhoneParser.java**\r\n\r\nThe main aim is to find the two best phones from a long list of phones in &quot;phone-data.txt&quot;.\r\n\r\n(one phone has the highest battery capacity and another with largest screen size)\r\n\r\n----------\r\n\r\nI was given an example text file &quot;phone-data-short.txt&quot; with the best phones being the **Samsung Galaxy S8 Plus** and **Huawei Mate 10 Pro**.\r\n\r\nMy problem with it is that when I try to print the two phones (from phone-data.txt) it only prints one phone.\r\n\r\nI&#39;m not sure if I&#39;m trying to print them incorrectly or if it&#39;s in the way I am storing the list after calculating the best phones.\r\n\r\nMy best guess is that the &quot;getBestPhones&quot; method in PhoneList.java is returning wrong or my main &quot;FindBestPhones&quot; is asking for the best phones incorrectly.\r\n\r\nI&#39;ve tried replacing how I return:\r\n\r\n```\r\nreturn Collections.unmodifiableList(allPhones);\r\n```\r\n\r\nwith:\r\n\r\n```\r\nreturn allPhones;\r\n```\r\n\r\nin the getBestPhones method\r\n\r\nand how I&#39;m printing it:\r\n\r\n```\r\nSystem.out.println(bestPhones);\r\n```\r\n\r\nwith:\r\n\r\n```\r\nfor (Phone phone : bestPhones) {\r\n    System.out.println(phone.getModel());\r\n}\r\n```\r\n\r\nBut nothing seems to work\r\n\r\n----------\r\n\r\nNote: I&#39;m not sure if it is in how the best phones are calculated since that was the skeleton code provided to me. \r\n\r\n(the addPhone() and phoneIsDominated() methods were already there)\r\n\r\nI am also unable to print the Phone&#39;s name in my main, but not getting two best phones is more of an issue.\r\n\r\nI&#39;m still new to Java so I&#39;m probably missing something obvious.\r\n\r\n\r\nEdit (code):\r\n\r\nMy main class:\r\n```\r\nimport java.io.IOException;\r\nimport java.util.Collection;\r\n\r\npublic class FindBestPhones {\r\n\tpublic static String PHONES_FILE = &quot;phone-data.txt&quot;;\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO: use the parseFile() method FROM PhoneParser.JAVA to get the phone data from the file\r\n\r\n\t\t// TODO: print the model names of all the best phones: getBestPhones() from PhoneList.java\r\n\r\n\t\t// TODO: handle I/O failures by printing an error message, that might occur in parseFile()\r\n\r\n\r\n\t\t\r\n\t\ttry {\r\n\t\t\tPhoneList phoneList = PhoneParser.parseFile(PHONES_FILE);\r\n\t\t\t// Get the best phones from the phone list\r\n\t\t\tCollection&lt;Phone&gt; bestPhones = phoneList.getBestPhones();\r\n\r\n\t\t\tSystem.out.println(bestPhones);\t\r\n\t\t\t\r\n\t\t\t//\r\n\t\t\tPhoneList testlist = PhoneParser.parseFile(&quot;phone-test.txt&quot;);\r\n\t\t\tCollection&lt;Phone&gt; testcoll = testlist.getAllPhones(); \r\n\t\t\tSystem.out.println(testcoll);\r\n\t\t\t\r\n\t\t\t\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\r\n\r\n\r\n\t}\r\n} \r\n```\r\n\r\nMy custom Phone object class:\r\n```\r\n/*\r\n * Phone — a model class representing a smart phone. A phone has a model name, a\r\n * screen size, and a battery capacity. */\r\npublic class Phone {\r\n\tprivate final String model;\r\n\tprivate final double screenSize;\r\n\tprivate final int batteryCapacity;\r\n\t\r\n\tpublic Phone(String model, double screenSize, int batteryCapacity) {\r\n\t\t// : Ensure the screenSize and batteryCapacity are positive\r\n\t\t// by throwing an IllegalArgumentException otherwise\r\n\t\t\r\n\t\t//TASK 1: \r\n\t\tif (screenSize &lt;0 || batteryCapacity &lt;=0) {\r\n\t\t\tthrow new IllegalArgumentException(&quot;Screen size and/or battery capacity must not be positive&quot;);\r\n\t\t}\r\n\t\t\r\n\t\tthis.model = model;\r\n\t\tthis.screenSize = screenSize;\r\n\t\tthis.batteryCapacity = batteryCapacity;\r\n\t}\r\n\r\n\t // Gets the phone&#39;s model name.\r\n\tpublic String getModel() {\r\n\t\treturn model; \r\n\t}\r\n\t\r\n\t // Gets the phone&#39;s diagonal screen size (in inches).\r\n\tpublic double getScreenSize() {\r\n\t\treturn screenSize;\r\n\t}\r\n\t\r\n\t // Gets the phone&#39;s battery capacity (in mAh).\r\n\tpublic int getBatteryCapacity() {\r\n\t\treturn batteryCapacity;\r\n\t}\r\n\t\r\n\t /* Determines whether this phone &quot;dominates&quot; another phone, meaning\r\n\t * this phone is better in one criterion, and at least as good in the\r\n\t * other criterion. */\r\n\t\r\n\tpublic boolean dominates(Phone other) {\r\n\t\t// : implement this method\r\n\t\t// Task 2:\r\n\t\treturn (this.getScreenSize() &gt; other.getScreenSize() || \r\n\t\t\t\tthis.getBatteryCapacity() &gt; other.getBatteryCapacity());\r\n\r\n\t\t\r\n\t}\r\n}\r\n```\r\n\r\nMy PhoneList class:\r\n\r\n```\r\n/*\r\n  PhoneList — a model class representing a list of phones. There is \r\n  an addPhone method to add a phone to the list, a getAllPhones to get a list of all\r\n  phones, and a getBestPhones method to get a list of just the ‘best’ phones.\r\n */\r\n\r\n\r\nimport java.util.*;\r\n\r\npublic class PhoneList {\r\n\tprivate final List&lt;Phone&gt; allPhones = new ArrayList&lt;&gt;();\r\n\tprivate final Set&lt;Phone&gt; bestPhones = new HashSet&lt;&gt;();\r\n\t\r\n\t/*\r\n\t * Adds a phone to the list.\r\n\t */\r\n\tpublic void addPhone(Phone phone) {\r\n\t\tallPhones.add(phone);\r\n\t\t\r\n\t\t// remove from bestPhones if dominated by the new phone\r\n\t\tIterator&lt;Phone&gt; iter = bestPhones.iterator();\r\n\t\twhile(iter.hasNext()) {\r\n\t\t\tPhone other = iter.next();\r\n\t\t\tif(phone.dominates(other)) {\r\n\t\t\t\titer.remove();\r\n\t\t\t}\r\n\t\t} \r\n\t\t\r\n\t\t// only add the new phone to bestPhones if it&#39;s not dominated\r\n\t\tif(!phoneIsDominated(phone)) {\r\n\t\t\tbestPhones.add(phone);\r\n\t\t}\r\n\t}\r\n\t\r\n\t/*\r\n\t * Determines whether a phone is dominated by any other phone.\r\n\t */\r\n\tpublic boolean phoneIsDominated(Phone phone) {\r\n\t\t// only need to compare with the undominated phones\r\n\t\tfor(Phone other : bestPhones) {\r\n\t\t\tif(other.dominates(phone)) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\t\r\n\t/*\r\n\t * Gets all phones. The list returned is unmodifiable.  \r\n\t */\r\n\tpublic List&lt;Phone&gt; getAllPhones() {\r\n\t\t// : return an unmodifiable view of the list\r\n\t\t// Task 3.1:\r\n\t\t//return allPhones;\r\n\t\treturn Collections.unmodifiableList(allPhones);\r\n\t\t//return allPhones;\r\n\t}\r\n\t\r\n\t/*\r\n\t * Gets all phones which are not dominated by another phone. The\r\n\t * collection returned is unmodifiable.  \r\n\t */\r\n\tpublic Collection&lt;Phone&gt; getBestPhones() {\r\n\t\t// : return an unmodifiable view of the set\r\n\t\t//Task 3.2:\r\n\t\treturn Collections.unmodifiableSet(bestPhones);\r\n\t\t//return bestPhones;\r\n\t\t\r\n\r\n\t}\r\n}\r\n```\r\n\r\nMy PhoneParser class:\r\n\r\n```\r\n/*\r\n * PhoneParser — a helper class which can parse phone data from a string, and load\r\n * all the phone data from a text file.\r\n */\r\n\r\nimport java.io.BufferedReader;\r\nimport java.io.FileReader;\r\nimport java.io.IOException;\r\nimport java.util.Scanner;\r\n\r\npublic class PhoneParser {\r\n\t/*\r\n\t * Parses a phone data string, in the following format:\r\n\t * \r\n\t *     model screenSize batteryCapacity\r\n\t *     \r\n\t * The model name is encoded with underscores instead of spaces.\r\n\t */\r\n\tpublic static Phone parse(String data) {\r\n\t\t// : parse the phone data string, and return a Phone object.\r\n\t\t// you may use string manipulation, a regex, or a Scanner\r\n\t\t//Task 4:\r\n\t\ttry (Scanner scanner = new Scanner(data)){\r\n\t\t\t// set delimiter to split on spaces\r\n\t\t\tscanner.useDelimiter(&quot; &quot;);\r\n\r\n\t\t\tif (scanner.hasNext()) {\r\n\t\t\t\tString model = scanner.next().replace(&quot;_&quot;,&quot; &quot;);\r\n\t\t\t\tif (scanner.hasNextDouble() &amp;&amp; scanner.hasNextInt()) {\r\n\t\t\t\t\tdouble screenSize = scanner.nextDouble();\r\n\t\t\t\t\tint batteryCapacity = scanner.nextInt();\r\n\t\t\t\t\treturn new Phone(model, screenSize, batteryCapacity);\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t// Returns null if parsing fails\r\n\t\treturn null;\r\n\t}\r\n\r\n\t/*\r\n\t * Returns a PhoneList by parsing a text file containing the phone data.\r\n\t */\r\n\tpublic static PhoneList parseFile(String filename) throws IOException {\r\n\t\t// : create a PhoneList TASK 5:\r\n\t\tPhoneList phoneList1 = new PhoneList();\r\n\r\n\t\t// : create a BufferedReader to read from the file TASK 5:\r\n\t\ttry (BufferedReader reader = new BufferedReader(new FileReader(filename))) {\r\n\r\n\t\t\t// : for each line, parse it as a Phone and add it to the list TASK 5:\r\n\t\t\tString line;\r\n\t\t\twhile ((line = reader.readLine()) != null) {\r\n\t\t\t\tPhone phone = parse(line);\r\n\t\t\t\tif (phone != null) {\r\n\t\t\t\t\tphoneList1.addPhone(phone);\r\n\t\t\t\t}\t\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn phoneList1;\r\n\t}\r\n\r\n}\r\n```\r\n\r\n\r\n[![My text file][1]][1]\r\n\r\nThe consoles prints: \r\n\r\n&gt; [Phone@2ed94a8b]\r\n\r\nWhen I run the code.\r\n\r\nI also made a discovery, I made a test text file and filled it with 4 test phones:\r\n\r\n[![test file][2]][2]\r\n\r\nand was given this in console:\r\n\r\n&gt; [Phone@38082d64, Phone@dfd3711, Phone@42d3bd8b]\r\n\r\nwhich is only picking up 3 phones instead of 4 for some reason, this is probably where my issues lie.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nffXM.png\r\n  [2]: https://i.stack.imgur.com/YvUN3.png","title":"I made a program that should send me two &quot;best phones&quot; from a list of phones in a text file, but only shows one?","body":"<p>This is a link to my java project: <a href=\"https://github.com/Mundanest/Java-files/tree/main/Lab%207\" rel=\"nofollow noreferrer\">https://github.com/Mundanest/Java-files/tree/main/Lab%207</a></p>\n<p>(This is my first time using github, as I'm not sure how else to link a java project folder so I might have messed up)(code also at bottom)</p>\n<p>It holds 4 classes:</p>\n<ul>\n<li><p>one for printing, <strong>FindBestPhone.java</strong></p>\n</li>\n<li><p>one for creating a Phone object, <strong>Phone.java</strong></p>\n</li>\n<li><p>one for adding phones to various lists, <strong>PhoneList.java</strong></p>\n</li>\n<li><p>and one for parsing the text, <strong>PhoneParser.java</strong></p>\n</li>\n</ul>\n<p>The main aim is to find the two best phones from a long list of phones in &quot;phone-data.txt&quot;.</p>\n<p>(one phone has the highest battery capacity and another with largest screen size)</p>\n<hr />\n<p>I was given an example text file &quot;phone-data-short.txt&quot; with the best phones being the <strong>Samsung Galaxy S8 Plus</strong> and <strong>Huawei Mate 10 Pro</strong>.</p>\n<p>My problem with it is that when I try to print the two phones (from phone-data.txt) it only prints one phone.</p>\n<p>I'm not sure if I'm trying to print them incorrectly or if it's in the way I am storing the list after calculating the best phones.</p>\n<p>My best guess is that the &quot;getBestPhones&quot; method in PhoneList.java is returning wrong or my main &quot;FindBestPhones&quot; is asking for the best phones incorrectly.</p>\n<p>I've tried replacing how I return:</p>\n<pre><code>return Collections.unmodifiableList(allPhones);\n</code></pre>\n<p>with:</p>\n<pre><code>return allPhones;\n</code></pre>\n<p>in the getBestPhones method</p>\n<p>and how I'm printing it:</p>\n<pre><code>System.out.println(bestPhones);\n</code></pre>\n<p>with:</p>\n<pre><code>for (Phone phone : bestPhones) {\n    System.out.println(phone.getModel());\n}\n</code></pre>\n<p>But nothing seems to work</p>\n<hr />\n<p>Note: I'm not sure if it is in how the best phones are calculated since that was the skeleton code provided to me.</p>\n<p>(the addPhone() and phoneIsDominated() methods were already there)</p>\n<p>I am also unable to print the Phone's name in my main, but not getting two best phones is more of an issue.</p>\n<p>I'm still new to Java so I'm probably missing something obvious.</p>\n<p>Edit (code):</p>\n<p>My main class:</p>\n<pre><code>import java.io.IOException;\nimport java.util.Collection;\n\npublic class FindBestPhones {\n    public static String PHONES_FILE = &quot;phone-data.txt&quot;;\n\n    public static void main(String[] args) {\n        // TODO: use the parseFile() method FROM PhoneParser.JAVA to get the phone data from the file\n\n        // TODO: print the model names of all the best phones: getBestPhones() from PhoneList.java\n\n        // TODO: handle I/O failures by printing an error message, that might occur in parseFile()\n\n\n        \n        try {\n            PhoneList phoneList = PhoneParser.parseFile(PHONES_FILE);\n            // Get the best phones from the phone list\n            Collection&lt;Phone&gt; bestPhones = phoneList.getBestPhones();\n\n            System.out.println(bestPhones); \n            \n            //\n            PhoneList testlist = PhoneParser.parseFile(&quot;phone-test.txt&quot;);\n            Collection&lt;Phone&gt; testcoll = testlist.getAllPhones(); \n            System.out.println(testcoll);\n            \n            \n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n\n\n\n    }\n} \n</code></pre>\n<p>My custom Phone object class:</p>\n<pre><code>/*\n * Phone — a model class representing a smart phone. A phone has a model name, a\n * screen size, and a battery capacity. */\npublic class Phone {\n    private final String model;\n    private final double screenSize;\n    private final int batteryCapacity;\n    \n    public Phone(String model, double screenSize, int batteryCapacity) {\n        // : Ensure the screenSize and batteryCapacity are positive\n        // by throwing an IllegalArgumentException otherwise\n        \n        //TASK 1: \n        if (screenSize &lt;0 || batteryCapacity &lt;=0) {\n            throw new IllegalArgumentException(&quot;Screen size and/or battery capacity must not be positive&quot;);\n        }\n        \n        this.model = model;\n        this.screenSize = screenSize;\n        this.batteryCapacity = batteryCapacity;\n    }\n\n     // Gets the phone's model name.\n    public String getModel() {\n        return model; \n    }\n    \n     // Gets the phone's diagonal screen size (in inches).\n    public double getScreenSize() {\n        return screenSize;\n    }\n    \n     // Gets the phone's battery capacity (in mAh).\n    public int getBatteryCapacity() {\n        return batteryCapacity;\n    }\n    \n     /* Determines whether this phone &quot;dominates&quot; another phone, meaning\n     * this phone is better in one criterion, and at least as good in the\n     * other criterion. */\n    \n    public boolean dominates(Phone other) {\n        // : implement this method\n        // Task 2:\n        return (this.getScreenSize() &gt; other.getScreenSize() || \n                this.getBatteryCapacity() &gt; other.getBatteryCapacity());\n\n        \n    }\n}\n</code></pre>\n<p>My PhoneList class:</p>\n<pre><code>/*\n  PhoneList — a model class representing a list of phones. There is \n  an addPhone method to add a phone to the list, a getAllPhones to get a list of all\n  phones, and a getBestPhones method to get a list of just the ‘best’ phones.\n */\n\n\nimport java.util.*;\n\npublic class PhoneList {\n    private final List&lt;Phone&gt; allPhones = new ArrayList&lt;&gt;();\n    private final Set&lt;Phone&gt; bestPhones = new HashSet&lt;&gt;();\n    \n    /*\n     * Adds a phone to the list.\n     */\n    public void addPhone(Phone phone) {\n        allPhones.add(phone);\n        \n        // remove from bestPhones if dominated by the new phone\n        Iterator&lt;Phone&gt; iter = bestPhones.iterator();\n        while(iter.hasNext()) {\n            Phone other = iter.next();\n            if(phone.dominates(other)) {\n                iter.remove();\n            }\n        } \n        \n        // only add the new phone to bestPhones if it's not dominated\n        if(!phoneIsDominated(phone)) {\n            bestPhones.add(phone);\n        }\n    }\n    \n    /*\n     * Determines whether a phone is dominated by any other phone.\n     */\n    public boolean phoneIsDominated(Phone phone) {\n        // only need to compare with the undominated phones\n        for(Phone other : bestPhones) {\n            if(other.dominates(phone)) {\n                return true;\n            }\n        }\n        return false;\n    }\n    \n    /*\n     * Gets all phones. The list returned is unmodifiable.  \n     */\n    public List&lt;Phone&gt; getAllPhones() {\n        // : return an unmodifiable view of the list\n        // Task 3.1:\n        //return allPhones;\n        return Collections.unmodifiableList(allPhones);\n        //return allPhones;\n    }\n    \n    /*\n     * Gets all phones which are not dominated by another phone. The\n     * collection returned is unmodifiable.  \n     */\n    public Collection&lt;Phone&gt; getBestPhones() {\n        // : return an unmodifiable view of the set\n        //Task 3.2:\n        return Collections.unmodifiableSet(bestPhones);\n        //return bestPhones;\n        \n\n    }\n}\n</code></pre>\n<p>My PhoneParser class:</p>\n<pre><code>/*\n * PhoneParser — a helper class which can parse phone data from a string, and load\n * all the phone data from a text file.\n */\n\nimport java.io.BufferedReader;\nimport java.io.FileReader;\nimport java.io.IOException;\nimport java.util.Scanner;\n\npublic class PhoneParser {\n    /*\n     * Parses a phone data string, in the following format:\n     * \n     *     model screenSize batteryCapacity\n     *     \n     * The model name is encoded with underscores instead of spaces.\n     */\n    public static Phone parse(String data) {\n        // : parse the phone data string, and return a Phone object.\n        // you may use string manipulation, a regex, or a Scanner\n        //Task 4:\n        try (Scanner scanner = new Scanner(data)){\n            // set delimiter to split on spaces\n            scanner.useDelimiter(&quot; &quot;);\n\n            if (scanner.hasNext()) {\n                String model = scanner.next().replace(&quot;_&quot;,&quot; &quot;);\n                if (scanner.hasNextDouble() &amp;&amp; scanner.hasNextInt()) {\n                    double screenSize = scanner.nextDouble();\n                    int batteryCapacity = scanner.nextInt();\n                    return new Phone(model, screenSize, batteryCapacity);\n                }\n\n            }\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        // Returns null if parsing fails\n        return null;\n    }\n\n    /*\n     * Returns a PhoneList by parsing a text file containing the phone data.\n     */\n    public static PhoneList parseFile(String filename) throws IOException {\n        // : create a PhoneList TASK 5:\n        PhoneList phoneList1 = new PhoneList();\n\n        // : create a BufferedReader to read from the file TASK 5:\n        try (BufferedReader reader = new BufferedReader(new FileReader(filename))) {\n\n            // : for each line, parse it as a Phone and add it to the list TASK 5:\n            String line;\n            while ((line = reader.readLine()) != null) {\n                Phone phone = parse(line);\n                if (phone != null) {\n                    phoneList1.addPhone(phone);\n                }   \n            }\n        }\n        return phoneList1;\n    }\n\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/nffXM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nffXM.png\" alt=\"My text file\" /></a></p>\n<p>The consoles prints:</p>\n<blockquote>\n<p>[Phone@2ed94a8b]</p>\n</blockquote>\n<p>When I run the code.</p>\n<p>I also made a discovery, I made a test text file and filled it with 4 test phones:</p>\n<p><a href=\"https://i.stack.imgur.com/YvUN3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YvUN3.png\" alt=\"test file\" /></a></p>\n<p>and was given this in console:</p>\n<blockquote>\n<p>[Phone@38082d64, Phone@dfd3711, Phone@42d3bd8b]</p>\n</blockquote>\n<p>which is only picking up 3 phones instead of 4 for some reason, this is probably where my issues lie.</p>\n"},{"tags":["java","android","excel"],"comments":[{"owner":{"account_id":7222959,"reputation":6697,"user_id":5512705,"accept_rate":46,"display_name":"Samuel Hulla"},"score":2,"creation_date":1528368582,"post_id":50738119,"comment_id":88486072,"body_markdown":"With all due to respect, I don&#39;t think  *&quot;Apache POI requires too much jars&quot;* is a valid argument. The API is extensive for a reason to cover all the excel needs. In programming world, it&#39;s usually looked down upon for having too few features, at least much more frequently than having too many. Imho, it still is relatively lightweight. It&#39;s the price you have to pay if you want to create an excel related app for android.","body":"With all due to respect, I don&#39;t think  <i>&quot;Apache POI requires too much jars&quot;</i> is a valid argument. The API is extensive for a reason to cover all the excel needs. In programming world, it&#39;s usually looked down upon for having too few features, at least much more frequently than having too many. Imho, it still is relatively lightweight. It&#39;s the price you have to pay if you want to create an excel related app for android."},{"owner":{"account_id":5524872,"reputation":4722,"user_id":4386668,"accept_rate":47,"display_name":"Nominalista"},"score":1,"creation_date":1528369258,"post_id":50738119,"comment_id":88486502,"body_markdown":"Don&#39;t you think that [16k methods](http://www.methodscount.com/?lib=org.apache.poi%3Apoi%3A3.17) only in poi.jar is a little bit too much for an Android?","body":"Don&#39;t you think that <a href=\"http://www.methodscount.com/?lib=org.apache.poi%3Apoi%3A3.17\" rel=\"nofollow noreferrer\">16k methods</a> only in poi.jar is a little bit too much for an Android?"},{"owner":{"account_id":1432415,"reputation":10687,"user_id":1354537,"accept_rate":83,"display_name":"Marged"},"score":0,"creation_date":1528566173,"post_id":50738119,"comment_id":88560821,"body_markdown":"Shouldn&#39;t the title be something like &quot;lightweight library for ...&quot; ?","body":"Shouldn&#39;t the title be something like &quot;lightweight library for ...&quot; ?"},{"owner":{"account_id":6517675,"reputation":2645,"user_id":5042987,"accept_rate":80,"display_name":"Diego Victor de Jesus"},"score":0,"creation_date":1528569295,"post_id":50738119,"comment_id":88561711,"body_markdown":"Do you need Excel formulas and styling tools? If the answer is no, go for CSV and Excel will know how to deal with your CSV files.\n\nIf you only need to display information in tabular format, CSV would be your best option.","body":"Do you need Excel formulas and styling tools? If the answer is no, go for CSV and Excel will know how to deal with your CSV files.  If you only need to display information in tabular format, CSV would be your best option."},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1528613673,"post_id":50738119,"comment_id":88569235,"body_markdown":"A `*.xlsx` file is nothing else than a `ZIP` archive containing `XML` files and other files in a directory structure. So all you need is a possibility for reading and rewriting `ZIP` archives and reading and rewriting `XML` files using your `android` pseudo `Java` language. So if all existent libraries do not fit your requirements, then do it using your own low level code. No?","body":"A <code>*.xlsx</code> file is nothing else than a <code>ZIP</code> archive containing <code>XML</code> files and other files in a directory structure. So all you need is a possibility for reading and rewriting <code>ZIP</code> archives and reading and rewriting <code>XML</code> files using your <code>android</code> pseudo <code>Java</code> language. So if all existent libraries do not fit your requirements, then do it using your own low level code. No?"},{"owner":{"account_id":1599858,"reputation":3905,"user_id":1481116,"accept_rate":88,"display_name":"Luuklag"},"score":0,"creation_date":1528724667,"post_id":50738119,"comment_id":88604277,"body_markdown":"How is this question not off-topic for asking recomendations book, tool, software library etc... Too bad it has a bounty, and answers.","body":"How is this question not off-topic for asking recomendations book, tool, software library etc... Too bad it has a bounty, and answers."},{"owner":{"account_id":231117,"reputation":8541,"user_id":495157,"accept_rate":40,"display_name":"JGFMK"},"score":0,"creation_date":1528842124,"post_id":50738119,"comment_id":88657952,"body_markdown":"Have not tried this - but in .NET you can write to excel - per this https://stackoverflow.com/questions/23041021/how-to-write-some-data-to-excel-file-xlsx - Maybe with Xamarin it that might work too. I was just taken by your onus on Java libraries, thinking Microsoft has solutions too.","body":"Have not tried this - but in .NET you can write to excel - per this <a href=\"https://stackoverflow.com/questions/23041021/how-to-write-some-data-to-excel-file-xlsx\" title=\"how to write some data to excel file xlsx\">stackoverflow.com/questions/23041021/&hellip;</a> - Maybe with Xamarin it that might work too. I was just taken by your onus on Java libraries, thinking Microsoft has solutions too."},{"owner":{"account_id":2986719,"reputation":4999,"user_id":2535335,"display_name":"Johannes Jander"},"score":0,"creation_date":1538055038,"post_id":50738119,"comment_id":92015747,"body_markdown":"You should look into http://xcelite.io/ - it builds on top of POI, but the API is much smaller and easier to work with. Simply create a handful of beans and have Xcelite write them to Excel files.","body":"You should look into <a href=\"http://xcelite.io/\" rel=\"nofollow noreferrer\">xcelite.io</a> - it builds on top of POI, but the API is much smaller and easier to work with. Simply create a handful of beans and have Xcelite write them to Excel files."}],"answers":[{"tags":[],"owner":{"account_id":957259,"reputation":29615,"user_id":982341,"display_name":"GreyBeardedGeek"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1528568514,"creation_date":1528568514,"answer_id":50777284,"question_id":50738119,"body_markdown":"First answer: do it server-side.\r\n\r\nIf that&#39;s not possible, just use JExecelAPI - pretty much everything that reads xlsx files reads xls files too.\r\n\r\nEvery other Excel library is going to be way too big.\r\n\r\nAnother thought - write csv files, either manually, or with one of the many csv libraries available. Again, most applications that read Excel files read csv files too.","title":"How to create and write to Excel file (.xlsx)?","body":"<p>First answer: do it server-side.</p>\n\n<p>If that's not possible, just use JExecelAPI - pretty much everything that reads xlsx files reads xls files too.</p>\n\n<p>Every other Excel library is going to be way too big.</p>\n\n<p>Another thought - write csv files, either manually, or with one of the many csv libraries available. Again, most applications that read Excel files read csv files too.</p>\n"},{"tags":[],"owner":{"account_id":1780181,"reputation":2389,"user_id":1623130,"display_name":"Niza Siwale"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1528701465,"creation_date":1528701465,"answer_id":50792264,"question_id":50738119,"body_markdown":"Use Apache POI and enable multi dex by simply adding `compile &quot;com.android.support:multidex:1.0.1&quot;` to your dependencies in `build.gradle`. You also need to set multiDexEnabled true. That should get rid of the 65k method limitation. \r\n\r\n","title":"How to create and write to Excel file (.xlsx)?","body":"<p>Use Apache POI and enable multi dex by simply adding <code>compile \"com.android.support:multidex:1.0.1\"</code> to your dependencies in <code>build.gradle</code>. You also need to set multiDexEnabled true. That should get rid of the 65k method limitation. </p>\n"},{"tags":[],"owner":{"account_id":8841770,"reputation":64,"user_id":6604007,"display_name":"bitsNbytes"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1528904776,"creation_date":1528904776,"answer_id":50841324,"question_id":50738119,"body_markdown":"xlsx is a zip file. So we can extract zip and get xml files inside and then we can parse it ourself to get sheet data.\r\n\r\nThis should work for both For both xls and xlsx.","title":"How to create and write to Excel file (.xlsx)?","body":"<p>xlsx is a zip file. So we can extract zip and get xml files inside and then we can parse it ourself to get sheet data.</p>\n\n<p>This should work for both For both xls and xlsx.</p>\n"},{"tags":[],"owner":{"account_id":2728818,"reputation":2143,"user_id":2353080,"accept_rate":29,"display_name":"Michal"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1529112464,"creation_date":1529112123,"answer_id":50884270,"question_id":50738119,"body_markdown":"It&#39;s 2018. Use Microsoft Graph API and create the Excel file in O365.\r\n\r\nMicrosoft has published a few examples in Angular and C#. It&#39;s not Java but it is a good starting point: https://developer.microsoft.com/en-us/graph/docs/concepts/excel-write-to-workbook.\r\n\r\nThe [MS Graph Java SDK][1] is Android compatible.\r\n\r\nLimitation - there is no easy way to create an Excel file from scratch using the API. You may want to keep a blank workbook and clone it each time.\r\n\r\n\r\n  [1]: https://github.com/microsoftgraph/msgraph-sdk-java","title":"How to create and write to Excel file (.xlsx)?","body":"<p>It's 2018. Use Microsoft Graph API and create the Excel file in O365.</p>\n\n<p>Microsoft has published a few examples in Angular and C#. It's not Java but it is a good starting point: <a href=\"https://developer.microsoft.com/en-us/graph/docs/concepts/excel-write-to-workbook\" rel=\"nofollow noreferrer\">https://developer.microsoft.com/en-us/graph/docs/concepts/excel-write-to-workbook</a>.</p>\n\n<p>The <a href=\"https://github.com/microsoftgraph/msgraph-sdk-java\" rel=\"nofollow noreferrer\">MS Graph Java SDK</a> is Android compatible.</p>\n\n<p>Limitation - there is no easy way to create an Excel file from scratch using the API. You may want to keep a blank workbook and clone it each time.</p>\n"},{"tags":[],"owner":{"account_id":13343141,"reputation":515,"user_id":9630748,"display_name":"Arnault Le Pr&#233;vost-Corvellec"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1529137876,"creation_date":1529137876,"answer_id":50886284,"question_id":50738119,"body_markdown":"If you don&#39;t need to read xlsx file from any sources i recommande you to use CSV excel is perfectly able to convert that type to any of its std output. \r\n\r\nEven if you need formula, cell formatting, there are to way to did it use on of the lib you cite or using your own xml parser as said by many people before me, excel format is just a zip with xml inside. Those xml are describe here :\r\n\r\n https://msdn.microsoft.com/en-us/library/dd979921(v=office.12).aspx\r\n\r\nAs you will discover excel is very complexe format and simple retrocompatibility is not their priority . So making your own restricted parser with XPath or JAXB will be an heavy work but not impossible.\r\n\r\nBut I don&#39;t understand why you want restrict number of methods ? if its about making some embedded sofware, in my opinion, you shouldn&#39;t use .xlsx, this is a to complicated and heavy file to just save grids ... ","title":"How to create and write to Excel file (.xlsx)?","body":"<p>If you don't need to read xlsx file from any sources i recommande you to use CSV excel is perfectly able to convert that type to any of its std output. </p>\n\n<p>Even if you need formula, cell formatting, there are to way to did it use on of the lib you cite or using your own xml parser as said by many people before me, excel format is just a zip with xml inside. Those xml are describe here :</p>\n\n<p><a href=\"https://msdn.microsoft.com/en-us/library/dd979921(v=office.12).aspx\" rel=\"nofollow noreferrer\">https://msdn.microsoft.com/en-us/library/dd979921(v=office.12).aspx</a></p>\n\n<p>As you will discover excel is very complexe format and simple retrocompatibility is not their priority . So making your own restricted parser with XPath or JAXB will be an heavy work but not impossible.</p>\n\n<p>But I don't understand why you want restrict number of methods ? if its about making some embedded sofware, in my opinion, you shouldn't use .xlsx, this is a to complicated and heavy file to just save grids ... </p>\n"},{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1529139991,"creation_date":1529139991,"answer_id":50886486,"question_id":50738119,"body_markdown":"Since this question seems to be rather: &quot;What is the most lightweight way creating Office Open XML files for Excel (`*.xlsx`)?&quot;, I will providing an example which does not need any libraries except the default `java.lang`, `java.io` and `java.util.zip`.\r\n\r\nA `*.xlsx` file is nothing else than a ZIP archive containing XML files and other files in a directory structure. So all we need is a possibility for creating, reading and writing ZIP archives and creating, reading and writing XML files. For the ZIP part I am using `java.util.zip` and for the XML part I am using string manipulation. This, creating and manipulating XML via string manipulation, is not the most recommended way for manipulating XML but it is the most lightweight way since it does not needs any additional XML libraries.\r\n\r\nComplete example:\r\n\r\n    import java.io.OutputStream;\r\n    import java.io.ByteArrayOutputStream;\r\n    \r\n    import java.util.zip.*;\r\n    \r\n    public class CreateXLSXFromScratch {\r\n    \r\n     //some static parts of the XLSX file:\r\n    \r\n     static String content_types_xml = &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot; standalone=\\&quot;no\\&quot;?&gt;&lt;Types xmlns=\\&quot;http://schemas.openxmlformats.org/package/2006/content-types\\&quot;&gt;&lt;Default ContentType=\\&quot;application/vnd.openxmlformats-package.relationships+xml\\&quot; Extension=\\&quot;rels\\&quot;/&gt;&lt;Default ContentType=\\&quot;application/xml\\&quot; Extension=\\&quot;xml\\&quot;/&gt;&lt;Override ContentType=\\&quot;application/vnd.openxmlformats-officedocument.extended-properties+xml\\&quot; PartName=\\&quot;/docProps/app.xml\\&quot;/&gt;&lt;Override ContentType=\\&quot;application/vnd.openxmlformats-package.core-properties+xml\\&quot; PartName=\\&quot;/docProps/core.xml\\&quot;/&gt;&lt;Override ContentType=\\&quot;application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml\\&quot; PartName=\\&quot;/xl/sharedStrings.xml\\&quot;/&gt;&lt;Override ContentType=\\&quot;application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml\\&quot; PartName=\\&quot;/xl/styles.xml\\&quot;/&gt;&lt;Override ContentType=\\&quot;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml\\&quot; PartName=\\&quot;/xl/workbook.xml\\&quot;/&gt;&lt;Override ContentType=\\&quot;application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml\\&quot; PartName=\\&quot;/xl/worksheets/sheet1.xml\\&quot;/&gt;&lt;/Types&gt;&quot;;\r\n    \r\n     static String docProps_app_xml = &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;&lt;Properties xmlns=\\&quot;http://schemas.openxmlformats.org/officeDocument/2006/extended-properties\\&quot;&gt;&lt;Application&gt;&quot; + &quot;Created Low level From Scratch&quot; + &quot;&lt;/Application&gt;&lt;/Properties&gt;&quot;;\r\n    \r\n     static String docProps_core_xml = &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot; standalone=\\&quot;no\\&quot;?&gt;&lt;cp:coreProperties xmlns:cp=\\&quot;http://schemas.openxmlformats.org/package/2006/metadata/core-properties\\&quot; xmlns:dc=\\&quot;http://purl.org/dc/elements/1.1/\\&quot; xmlns:dcterms=\\&quot;http://purl.org/dc/terms/\\&quot; xmlns:xsi=\\&quot;http://www.w3.org/2001/XMLSchema-instance\\&quot;&gt;&lt;dcterms:created xsi:type=\\&quot;dcterms:W3CDTF\\&quot;&gt;&quot; + java.time.Instant.now().truncatedTo(java.time.temporal.ChronoUnit.SECONDS).toString() + &quot;&lt;/dcterms:created&gt;&lt;dc:creator&gt;&quot; + &quot;Axel Richter from scratch&quot; + &quot;&lt;/dc:creator&gt;&lt;/cp:coreProperties&gt;&quot;;\r\n    \r\n     static String _rels_rels_xml  = &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot; standalone=\\&quot;no\\&quot;?&gt;&lt;Relationships xmlns=\\&quot;http://schemas.openxmlformats.org/package/2006/relationships\\&quot;&gt;&lt;Relationship Id=\\&quot;rId1\\&quot; Target=\\&quot;xl/workbook.xml\\&quot; Type=\\&quot;http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument\\&quot;/&gt;&lt;Relationship Id=\\&quot;rId2\\&quot; Target=\\&quot;docProps/app.xml\\&quot; Type=\\&quot;http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties\\&quot;/&gt;&lt;Relationship Id=\\&quot;rId3\\&quot; Target=\\&quot;docProps/core.xml\\&quot; Type=\\&quot;http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties\\&quot;/&gt;&lt;/Relationships&gt;&quot;;\r\n    \r\n     static String xl_rels_workbook_xml_rels_xml = &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot; standalone=\\&quot;no\\&quot;?&gt;&lt;Relationships xmlns=\\&quot;http://schemas.openxmlformats.org/package/2006/relationships\\&quot;&gt;&lt;Relationship Id=\\&quot;rId1\\&quot; Target=\\&quot;sharedStrings.xml\\&quot; Type=\\&quot;http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings\\&quot;/&gt;&lt;Relationship Id=\\&quot;rId2\\&quot; Target=\\&quot;styles.xml\\&quot; Type=\\&quot;http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles\\&quot;/&gt;&lt;Relationship Id=\\&quot;rId3\\&quot; Target=\\&quot;worksheets/sheet1.xml\\&quot; Type=\\&quot;http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet\\&quot;/&gt;&lt;/Relationships&gt;&quot;;\r\n    \r\n     static String xl_sharedstrings_xml = &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;&lt;sst count=\\&quot;0\\&quot; uniqueCount=\\&quot;0\\&quot; xmlns=\\&quot;http://schemas.openxmlformats.org/spreadsheetml/2006/main\\&quot;/&gt;&quot;; \r\n    \r\n     static String xl_styles_xml = &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;&lt;styleSheet xmlns=\\&quot;http://schemas.openxmlformats.org/spreadsheetml/2006/main\\&quot;&gt;&lt;numFmts count=\\&quot;0\\&quot;/&gt;&lt;fonts count=\\&quot;1\\&quot;&gt;&lt;font&gt;&lt;sz val=\\&quot;11.0\\&quot;/&gt;&lt;color indexed=\\&quot;8\\&quot;/&gt;&lt;name val=\\&quot;Calibri\\&quot;/&gt;&lt;family val=\\&quot;2\\&quot;/&gt;&lt;scheme val=\\&quot;minor\\&quot;/&gt;&lt;/font&gt;&lt;/fonts&gt;&lt;fills count=\\&quot;2\\&quot;&gt;&lt;fill&gt;&lt;patternFill patternType=\\&quot;none\\&quot;/&gt;&lt;/fill&gt;&lt;fill&gt;&lt;patternFill patternType=\\&quot;darkGray\\&quot;/&gt;&lt;/fill&gt;&lt;/fills&gt;&lt;borders count=\\&quot;1\\&quot;&gt;&lt;border&gt;&lt;left/&gt;&lt;right/&gt;&lt;top/&gt;&lt;bottom/&gt;&lt;diagonal/&gt;&lt;/border&gt;&lt;/borders&gt;&lt;cellStyleXfs count=\\&quot;1\\&quot;&gt;&lt;xf numFmtId=\\&quot;0\\&quot; fontId=\\&quot;0\\&quot; fillId=\\&quot;0\\&quot; borderId=\\&quot;0\\&quot;/&gt;&lt;/cellStyleXfs&gt;&lt;cellXfs count=\\&quot;1\\&quot;&gt;&lt;xf numFmtId=\\&quot;0\\&quot; fontId=\\&quot;0\\&quot; fillId=\\&quot;0\\&quot; borderId=\\&quot;0\\&quot; xfId=\\&quot;0\\&quot;/&gt;&lt;/cellXfs&gt;&lt;/styleSheet&gt;&quot;;\r\n    \r\n     static String xl_workbook_xml = &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;&lt;workbook xmlns=\\&quot;http://schemas.openxmlformats.org/spreadsheetml/2006/main\\&quot; xmlns:r=\\&quot;http://schemas.openxmlformats.org/officeDocument/2006/relationships\\&quot;&gt;&lt;workbookPr date1904=\\&quot;false\\&quot;/&gt;&lt;bookViews&gt;&lt;workbookView activeTab=\\&quot;0\\&quot;/&gt;&lt;/bookViews&gt;&lt;sheets&gt;&lt;sheet name=\\&quot;&quot; + &quot;Sheet1&quot; + &quot;\\&quot; r:id=\\&quot;rId3\\&quot; sheetId=\\&quot;1\\&quot;/&gt;&lt;/sheets&gt;&lt;/workbook&gt;&quot;;\r\n    \r\n     static String xl_worksheets_sheet1_xml = &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;&lt;worksheet xmlns=\\&quot;http://schemas.openxmlformats.org/spreadsheetml/2006/main\\&quot;&gt;&lt;dimension ref=\\&quot;A1\\&quot;/&gt;&lt;sheetViews&gt;&lt;sheetView workbookViewId=\\&quot;0\\&quot; tabSelected=\\&quot;true\\&quot;/&gt;&lt;/sheetViews&gt;&lt;sheetFormatPr defaultRowHeight=\\&quot;15.0\\&quot;/&gt;&lt;sheetData/&gt;&lt;pageMargins bottom=\\&quot;0.75\\&quot; footer=\\&quot;0.3\\&quot; header=\\&quot;0.3\\&quot; left=\\&quot;0.7\\&quot; right=\\&quot;0.7\\&quot; top=\\&quot;0.75\\&quot;/&gt;&lt;/worksheet&gt;&quot;;\r\n    \r\n     public static void main(String[] args) throws Exception {\r\n    \r\n      // result goes into a ByteArrayOutputStream\r\n      ByteArrayOutputStream resultout = new ByteArrayOutputStream();\r\n    \r\n      // needed objects\r\n      ZipEntry zipentry = null;\r\n      byte[] data = null;\r\n    \r\n      // create ZipOutputStream\r\n      ZipOutputStream zipout = new ZipOutputStream(resultout);\r\n    \r\n      // create the static parts of the XLSX ZIP file:\r\n    \r\n      zipentry = new ZipEntry(&quot;[Content_Types].xml&quot;);\r\n      zipout.putNextEntry(zipentry);\r\n      data = content_types_xml.getBytes();\r\n      zipout.write(data, 0, data.length);\r\n      zipout.closeEntry();\r\n    \r\n      zipentry = new ZipEntry(&quot;docProps/app.xml&quot;);\r\n      zipout.putNextEntry(zipentry);\r\n      data = docProps_app_xml.getBytes();\r\n      zipout.write(data, 0, data.length);\r\n      zipout.closeEntry();\r\n    \r\n      zipentry = new ZipEntry(&quot;docProps/core.xml&quot;);\r\n      zipout.putNextEntry(zipentry);\r\n      data = docProps_core_xml.getBytes();\r\n      zipout.write(data, 0, data.length);\r\n      zipout.closeEntry();\r\n    \r\n      zipentry = new ZipEntry(&quot;_rels/.rels&quot;);\r\n      zipout.putNextEntry(zipentry);\r\n      data = _rels_rels_xml.getBytes();\r\n      zipout.write(data, 0, data.length);\r\n      zipout.closeEntry();\r\n    \r\n      zipentry = new ZipEntry(&quot;xl/_rels/workbook.xml.rels&quot;);\r\n      zipout.putNextEntry(zipentry);\r\n      data = xl_rels_workbook_xml_rels_xml.getBytes();\r\n      zipout.write(data, 0, data.length);\r\n      zipout.closeEntry();\r\n    \r\n      zipentry = new ZipEntry(&quot;xl/sharedStrings.xml&quot;);\r\n      zipout.putNextEntry(zipentry);\r\n      data = xl_sharedstrings_xml.getBytes();\r\n      zipout.write(data, 0, data.length);\r\n      zipout.closeEntry();\r\n    \r\n      zipentry = new ZipEntry(&quot;xl/styles.xml&quot;);\r\n      zipout.putNextEntry(zipentry);\r\n      data = xl_styles_xml.getBytes();\r\n      zipout.write(data, 0, data.length);\r\n      zipout.closeEntry();\r\n    \r\n      zipentry = new ZipEntry(&quot;xl/workbook.xml&quot;);\r\n      zipout.putNextEntry(zipentry);\r\n      data = xl_workbook_xml.getBytes();\r\n      zipout.write(data, 0, data.length);\r\n      zipout.closeEntry();\r\n    \r\n      // preparing the sheet data:\r\n    \r\n      Object[][] sheetData = new Object[][] {\r\n       {&quot;Text&quot;, &quot;Value&quot;, &quot;Formula&quot;},\r\n       {&quot;Text1&quot;, 1.23456, &quot;=SIN(B2)&quot;},\r\n       {&quot;Text2&quot;, 2.34567, &quot;=SQRT(B3)&quot;},\r\n       {&quot;Text3&quot;, 123.456, &quot;=B4/10&quot;}\r\n      };\r\n      String sheetdata = &quot;&lt;sheetData&gt;&quot;;\r\n      int r = 0;\r\n      char c = &#39;A&#39;; --c;\r\n      for (Object[] rowData : sheetData) {\r\n       sheetdata += &quot;&lt;row r=\\&quot;&quot; + ++r + &quot;\\&quot;&gt;&quot;;\r\n       c = &#39;A&#39;; --c;\r\n       for (Object cellData : rowData) {\r\n        sheetdata += &quot;&lt;c r=\\&quot;&quot; + Character.toString(++c) + r + &quot;\\&quot;&quot;;\r\n        if (cellData instanceof String &amp;&amp; ((String)cellData).startsWith(&quot;=&quot;)) {\r\n         sheetdata += &quot;&gt;&lt;f&gt;&quot; + ((String)cellData).replace(&quot;=&quot;, &quot;&quot;) + &quot;&lt;/f&gt;&lt;/c&gt;&quot;;\r\n        } else if (cellData instanceof String) {\r\n         sheetdata += &quot; t=\\&quot;inlineStr\\&quot;&gt;&lt;is&gt;&lt;t&gt;&quot; + ((String)cellData) + &quot;&lt;/t&gt;&lt;/is&gt;&lt;/c&gt;&quot;;\r\n        } else if (cellData instanceof Double) {\r\n         sheetdata += &quot;&gt;&lt;v&gt;&quot; + ((Double)cellData) + &quot;&lt;/v&gt;&lt;/c&gt;&quot;;\r\n        }\r\n       }\r\n       sheetdata += &quot;&lt;/row&gt;&quot;;\r\n      }\r\n      sheetdata += &quot;&lt;/sheetData&gt;&quot;;\r\n    \r\n      // get the static sheet xml into a buffer for further processing\r\n      StringBuffer xl_worksheets_sheet1_xml_buffer = new StringBuffer(xl_worksheets_sheet1_xml);\r\n    \r\n      // get position of the &lt;dimension ref=\\&quot;A1\\&quot;/&gt; in the static xl_worksheets_sheet1_xml\r\n      int dimensionstart = xl_worksheets_sheet1_xml_buffer.indexOf(&quot;&lt;dimension ref=\\&quot;A1\\&quot;/&gt;&quot;);\r\n      // replace the &lt;dimension ref=\\&quot;A1\\&quot;/&gt; with the new dimension\r\n      xl_worksheets_sheet1_xml_buffer = xl_worksheets_sheet1_xml_buffer.replace(\r\n       dimensionstart, \r\n       dimensionstart + &quot;&lt;dimension ref=\\&quot;A1\\&quot;/&gt;&quot;.length(), \r\n       &quot;&lt;dimension ref=\\&quot;A1:&quot; + Character.toString(c) + r + &quot;\\&quot;/&gt;&quot;);\r\n    \r\n      // get position of the &lt;sheetData/&gt; in the static xl_worksheets_sheet1_xml\r\n      int sheetdatastart = xl_worksheets_sheet1_xml_buffer.indexOf(&quot;&lt;sheetData/&gt;&quot;);\r\n      // replace the &lt;sheetData/&gt; with the prepared sheet date string\r\n      xl_worksheets_sheet1_xml_buffer = xl_worksheets_sheet1_xml_buffer.replace(\r\n       sheetdatastart, \r\n       sheetdatastart + &quot;&lt;sheetData/&gt;&quot;.length(), \r\n       sheetdata);\r\n    \r\n      // create the xl/worksheets/sheet1.xml\r\n      zipentry = new ZipEntry(&quot;xl/worksheets/sheet1.xml&quot;);\r\n      zipout.putNextEntry(zipentry);\r\n      data = xl_worksheets_sheet1_xml_buffer.toString().getBytes();\r\n      zipout.write(data, 0, data.length);\r\n      zipout.closeEntry();\r\n    \r\n      zipout.finish();\r\n    \r\n      // now ByteArrayOutputStream resultout contains the XLSX file data\r\n    \r\n      // writing this data into a file\r\n      try (java.io.FileOutputStream fileout = new java.io.FileOutputStream(&quot;test.xlsx&quot;)) {\r\n       resultout.writeTo(fileout);\r\n       resultout.close();\r\n      }\r\n    \r\n     }\r\n    }","title":"How to create and write to Excel file (.xlsx)?","body":"<p>Since this question seems to be rather: \"What is the most lightweight way creating Office Open XML files for Excel (<code>*.xlsx</code>)?\", I will providing an example which does not need any libraries except the default <code>java.lang</code>, <code>java.io</code> and <code>java.util.zip</code>.</p>\n\n<p>A <code>*.xlsx</code> file is nothing else than a ZIP archive containing XML files and other files in a directory structure. So all we need is a possibility for creating, reading and writing ZIP archives and creating, reading and writing XML files. For the ZIP part I am using <code>java.util.zip</code> and for the XML part I am using string manipulation. This, creating and manipulating XML via string manipulation, is not the most recommended way for manipulating XML but it is the most lightweight way since it does not needs any additional XML libraries.</p>\n\n<p>Complete example:</p>\n\n<pre><code>import java.io.OutputStream;\nimport java.io.ByteArrayOutputStream;\n\nimport java.util.zip.*;\n\npublic class CreateXLSXFromScratch {\n\n //some static parts of the XLSX file:\n\n static String content_types_xml = \"&lt;?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\" standalone=\\\"no\\\"?&gt;&lt;Types xmlns=\\\"http://schemas.openxmlformats.org/package/2006/content-types\\\"&gt;&lt;Default ContentType=\\\"application/vnd.openxmlformats-package.relationships+xml\\\" Extension=\\\"rels\\\"/&gt;&lt;Default ContentType=\\\"application/xml\\\" Extension=\\\"xml\\\"/&gt;&lt;Override ContentType=\\\"application/vnd.openxmlformats-officedocument.extended-properties+xml\\\" PartName=\\\"/docProps/app.xml\\\"/&gt;&lt;Override ContentType=\\\"application/vnd.openxmlformats-package.core-properties+xml\\\" PartName=\\\"/docProps/core.xml\\\"/&gt;&lt;Override ContentType=\\\"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml\\\" PartName=\\\"/xl/sharedStrings.xml\\\"/&gt;&lt;Override ContentType=\\\"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml\\\" PartName=\\\"/xl/styles.xml\\\"/&gt;&lt;Override ContentType=\\\"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml\\\" PartName=\\\"/xl/workbook.xml\\\"/&gt;&lt;Override ContentType=\\\"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml\\\" PartName=\\\"/xl/worksheets/sheet1.xml\\\"/&gt;&lt;/Types&gt;\";\n\n static String docProps_app_xml = \"&lt;?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?&gt;&lt;Properties xmlns=\\\"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties\\\"&gt;&lt;Application&gt;\" + \"Created Low level From Scratch\" + \"&lt;/Application&gt;&lt;/Properties&gt;\";\n\n static String docProps_core_xml = \"&lt;?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\" standalone=\\\"no\\\"?&gt;&lt;cp:coreProperties xmlns:cp=\\\"http://schemas.openxmlformats.org/package/2006/metadata/core-properties\\\" xmlns:dc=\\\"http://purl.org/dc/elements/1.1/\\\" xmlns:dcterms=\\\"http://purl.org/dc/terms/\\\" xmlns:xsi=\\\"http://www.w3.org/2001/XMLSchema-instance\\\"&gt;&lt;dcterms:created xsi:type=\\\"dcterms:W3CDTF\\\"&gt;\" + java.time.Instant.now().truncatedTo(java.time.temporal.ChronoUnit.SECONDS).toString() + \"&lt;/dcterms:created&gt;&lt;dc:creator&gt;\" + \"Axel Richter from scratch\" + \"&lt;/dc:creator&gt;&lt;/cp:coreProperties&gt;\";\n\n static String _rels_rels_xml  = \"&lt;?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\" standalone=\\\"no\\\"?&gt;&lt;Relationships xmlns=\\\"http://schemas.openxmlformats.org/package/2006/relationships\\\"&gt;&lt;Relationship Id=\\\"rId1\\\" Target=\\\"xl/workbook.xml\\\" Type=\\\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument\\\"/&gt;&lt;Relationship Id=\\\"rId2\\\" Target=\\\"docProps/app.xml\\\" Type=\\\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties\\\"/&gt;&lt;Relationship Id=\\\"rId3\\\" Target=\\\"docProps/core.xml\\\" Type=\\\"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties\\\"/&gt;&lt;/Relationships&gt;\";\n\n static String xl_rels_workbook_xml_rels_xml = \"&lt;?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\" standalone=\\\"no\\\"?&gt;&lt;Relationships xmlns=\\\"http://schemas.openxmlformats.org/package/2006/relationships\\\"&gt;&lt;Relationship Id=\\\"rId1\\\" Target=\\\"sharedStrings.xml\\\" Type=\\\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings\\\"/&gt;&lt;Relationship Id=\\\"rId2\\\" Target=\\\"styles.xml\\\" Type=\\\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles\\\"/&gt;&lt;Relationship Id=\\\"rId3\\\" Target=\\\"worksheets/sheet1.xml\\\" Type=\\\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet\\\"/&gt;&lt;/Relationships&gt;\";\n\n static String xl_sharedstrings_xml = \"&lt;?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?&gt;&lt;sst count=\\\"0\\\" uniqueCount=\\\"0\\\" xmlns=\\\"http://schemas.openxmlformats.org/spreadsheetml/2006/main\\\"/&gt;\"; \n\n static String xl_styles_xml = \"&lt;?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?&gt;&lt;styleSheet xmlns=\\\"http://schemas.openxmlformats.org/spreadsheetml/2006/main\\\"&gt;&lt;numFmts count=\\\"0\\\"/&gt;&lt;fonts count=\\\"1\\\"&gt;&lt;font&gt;&lt;sz val=\\\"11.0\\\"/&gt;&lt;color indexed=\\\"8\\\"/&gt;&lt;name val=\\\"Calibri\\\"/&gt;&lt;family val=\\\"2\\\"/&gt;&lt;scheme val=\\\"minor\\\"/&gt;&lt;/font&gt;&lt;/fonts&gt;&lt;fills count=\\\"2\\\"&gt;&lt;fill&gt;&lt;patternFill patternType=\\\"none\\\"/&gt;&lt;/fill&gt;&lt;fill&gt;&lt;patternFill patternType=\\\"darkGray\\\"/&gt;&lt;/fill&gt;&lt;/fills&gt;&lt;borders count=\\\"1\\\"&gt;&lt;border&gt;&lt;left/&gt;&lt;right/&gt;&lt;top/&gt;&lt;bottom/&gt;&lt;diagonal/&gt;&lt;/border&gt;&lt;/borders&gt;&lt;cellStyleXfs count=\\\"1\\\"&gt;&lt;xf numFmtId=\\\"0\\\" fontId=\\\"0\\\" fillId=\\\"0\\\" borderId=\\\"0\\\"/&gt;&lt;/cellStyleXfs&gt;&lt;cellXfs count=\\\"1\\\"&gt;&lt;xf numFmtId=\\\"0\\\" fontId=\\\"0\\\" fillId=\\\"0\\\" borderId=\\\"0\\\" xfId=\\\"0\\\"/&gt;&lt;/cellXfs&gt;&lt;/styleSheet&gt;\";\n\n static String xl_workbook_xml = \"&lt;?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?&gt;&lt;workbook xmlns=\\\"http://schemas.openxmlformats.org/spreadsheetml/2006/main\\\" xmlns:r=\\\"http://schemas.openxmlformats.org/officeDocument/2006/relationships\\\"&gt;&lt;workbookPr date1904=\\\"false\\\"/&gt;&lt;bookViews&gt;&lt;workbookView activeTab=\\\"0\\\"/&gt;&lt;/bookViews&gt;&lt;sheets&gt;&lt;sheet name=\\\"\" + \"Sheet1\" + \"\\\" r:id=\\\"rId3\\\" sheetId=\\\"1\\\"/&gt;&lt;/sheets&gt;&lt;/workbook&gt;\";\n\n static String xl_worksheets_sheet1_xml = \"&lt;?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?&gt;&lt;worksheet xmlns=\\\"http://schemas.openxmlformats.org/spreadsheetml/2006/main\\\"&gt;&lt;dimension ref=\\\"A1\\\"/&gt;&lt;sheetViews&gt;&lt;sheetView workbookViewId=\\\"0\\\" tabSelected=\\\"true\\\"/&gt;&lt;/sheetViews&gt;&lt;sheetFormatPr defaultRowHeight=\\\"15.0\\\"/&gt;&lt;sheetData/&gt;&lt;pageMargins bottom=\\\"0.75\\\" footer=\\\"0.3\\\" header=\\\"0.3\\\" left=\\\"0.7\\\" right=\\\"0.7\\\" top=\\\"0.75\\\"/&gt;&lt;/worksheet&gt;\";\n\n public static void main(String[] args) throws Exception {\n\n  // result goes into a ByteArrayOutputStream\n  ByteArrayOutputStream resultout = new ByteArrayOutputStream();\n\n  // needed objects\n  ZipEntry zipentry = null;\n  byte[] data = null;\n\n  // create ZipOutputStream\n  ZipOutputStream zipout = new ZipOutputStream(resultout);\n\n  // create the static parts of the XLSX ZIP file:\n\n  zipentry = new ZipEntry(\"[Content_Types].xml\");\n  zipout.putNextEntry(zipentry);\n  data = content_types_xml.getBytes();\n  zipout.write(data, 0, data.length);\n  zipout.closeEntry();\n\n  zipentry = new ZipEntry(\"docProps/app.xml\");\n  zipout.putNextEntry(zipentry);\n  data = docProps_app_xml.getBytes();\n  zipout.write(data, 0, data.length);\n  zipout.closeEntry();\n\n  zipentry = new ZipEntry(\"docProps/core.xml\");\n  zipout.putNextEntry(zipentry);\n  data = docProps_core_xml.getBytes();\n  zipout.write(data, 0, data.length);\n  zipout.closeEntry();\n\n  zipentry = new ZipEntry(\"_rels/.rels\");\n  zipout.putNextEntry(zipentry);\n  data = _rels_rels_xml.getBytes();\n  zipout.write(data, 0, data.length);\n  zipout.closeEntry();\n\n  zipentry = new ZipEntry(\"xl/_rels/workbook.xml.rels\");\n  zipout.putNextEntry(zipentry);\n  data = xl_rels_workbook_xml_rels_xml.getBytes();\n  zipout.write(data, 0, data.length);\n  zipout.closeEntry();\n\n  zipentry = new ZipEntry(\"xl/sharedStrings.xml\");\n  zipout.putNextEntry(zipentry);\n  data = xl_sharedstrings_xml.getBytes();\n  zipout.write(data, 0, data.length);\n  zipout.closeEntry();\n\n  zipentry = new ZipEntry(\"xl/styles.xml\");\n  zipout.putNextEntry(zipentry);\n  data = xl_styles_xml.getBytes();\n  zipout.write(data, 0, data.length);\n  zipout.closeEntry();\n\n  zipentry = new ZipEntry(\"xl/workbook.xml\");\n  zipout.putNextEntry(zipentry);\n  data = xl_workbook_xml.getBytes();\n  zipout.write(data, 0, data.length);\n  zipout.closeEntry();\n\n  // preparing the sheet data:\n\n  Object[][] sheetData = new Object[][] {\n   {\"Text\", \"Value\", \"Formula\"},\n   {\"Text1\", 1.23456, \"=SIN(B2)\"},\n   {\"Text2\", 2.34567, \"=SQRT(B3)\"},\n   {\"Text3\", 123.456, \"=B4/10\"}\n  };\n  String sheetdata = \"&lt;sheetData&gt;\";\n  int r = 0;\n  char c = 'A'; --c;\n  for (Object[] rowData : sheetData) {\n   sheetdata += \"&lt;row r=\\\"\" + ++r + \"\\\"&gt;\";\n   c = 'A'; --c;\n   for (Object cellData : rowData) {\n    sheetdata += \"&lt;c r=\\\"\" + Character.toString(++c) + r + \"\\\"\";\n    if (cellData instanceof String &amp;&amp; ((String)cellData).startsWith(\"=\")) {\n     sheetdata += \"&gt;&lt;f&gt;\" + ((String)cellData).replace(\"=\", \"\") + \"&lt;/f&gt;&lt;/c&gt;\";\n    } else if (cellData instanceof String) {\n     sheetdata += \" t=\\\"inlineStr\\\"&gt;&lt;is&gt;&lt;t&gt;\" + ((String)cellData) + \"&lt;/t&gt;&lt;/is&gt;&lt;/c&gt;\";\n    } else if (cellData instanceof Double) {\n     sheetdata += \"&gt;&lt;v&gt;\" + ((Double)cellData) + \"&lt;/v&gt;&lt;/c&gt;\";\n    }\n   }\n   sheetdata += \"&lt;/row&gt;\";\n  }\n  sheetdata += \"&lt;/sheetData&gt;\";\n\n  // get the static sheet xml into a buffer for further processing\n  StringBuffer xl_worksheets_sheet1_xml_buffer = new StringBuffer(xl_worksheets_sheet1_xml);\n\n  // get position of the &lt;dimension ref=\\\"A1\\\"/&gt; in the static xl_worksheets_sheet1_xml\n  int dimensionstart = xl_worksheets_sheet1_xml_buffer.indexOf(\"&lt;dimension ref=\\\"A1\\\"/&gt;\");\n  // replace the &lt;dimension ref=\\\"A1\\\"/&gt; with the new dimension\n  xl_worksheets_sheet1_xml_buffer = xl_worksheets_sheet1_xml_buffer.replace(\n   dimensionstart, \n   dimensionstart + \"&lt;dimension ref=\\\"A1\\\"/&gt;\".length(), \n   \"&lt;dimension ref=\\\"A1:\" + Character.toString(c) + r + \"\\\"/&gt;\");\n\n  // get position of the &lt;sheetData/&gt; in the static xl_worksheets_sheet1_xml\n  int sheetdatastart = xl_worksheets_sheet1_xml_buffer.indexOf(\"&lt;sheetData/&gt;\");\n  // replace the &lt;sheetData/&gt; with the prepared sheet date string\n  xl_worksheets_sheet1_xml_buffer = xl_worksheets_sheet1_xml_buffer.replace(\n   sheetdatastart, \n   sheetdatastart + \"&lt;sheetData/&gt;\".length(), \n   sheetdata);\n\n  // create the xl/worksheets/sheet1.xml\n  zipentry = new ZipEntry(\"xl/worksheets/sheet1.xml\");\n  zipout.putNextEntry(zipentry);\n  data = xl_worksheets_sheet1_xml_buffer.toString().getBytes();\n  zipout.write(data, 0, data.length);\n  zipout.closeEntry();\n\n  zipout.finish();\n\n  // now ByteArrayOutputStream resultout contains the XLSX file data\n\n  // writing this data into a file\n  try (java.io.FileOutputStream fileout = new java.io.FileOutputStream(\"test.xlsx\")) {\n   resultout.writeTo(fileout);\n   resultout.close();\n  }\n\n }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3749614,"reputation":1213,"user_id":3117416,"display_name":"Thunderstick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1571272772,"creation_date":1571272772,"answer_id":58423364,"question_id":50738119,"body_markdown":"I&#39;m expanding on Axel Richter&#39;s answer\r\nMy code below will add features for you to add columns and values dynamically.\r\n\r\n\r\n    \r\nimport android.os.Build;\r\n\r\nimport androidx.annotation.RequiresApi;\r\n\r\nimport java.io.ByteArrayOutputStream;\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Comparator;\r\n    import java.util.zip.*;\r\n\r\n    @SuppressWarnings(&quot;WeakerAccess&quot;)\r\n    @RequiresApi(api = Build.VERSION_CODES.O)\r\n    public class ExcelSpreadSheet {\r\n\r\n    //some static parts of the XLSX file:\r\n\r\n    String content_types_xml = &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot; standalone=\\&quot;no\\&quot;?&gt;&lt;Types xmlns=\\&quot;http://schemas.openxmlformats.org/package/2006/content-types\\&quot;&gt;&lt;Default ContentType=\\&quot;application/vnd.openxmlformats-package.relationships+xml\\&quot; Extension=\\&quot;rels\\&quot;/&gt;&lt;Default ContentType=\\&quot;application/xml\\&quot; Extension=\\&quot;xml\\&quot;/&gt;&lt;Override ContentType=\\&quot;application/vnd.openxmlformats-officedocument.extended-properties+xml\\&quot; PartName=\\&quot;/docProps/app.xml\\&quot;/&gt;&lt;Override ContentType=\\&quot;application/vnd.openxmlformats-package.core-properties+xml\\&quot; PartName=\\&quot;/docProps/core.xml\\&quot;/&gt;&lt;Override ContentType=\\&quot;application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml\\&quot; PartName=\\&quot;/xl/sharedStrings.xml\\&quot;/&gt;&lt;Override ContentType=\\&quot;application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml\\&quot; PartName=\\&quot;/xl/styles.xml\\&quot;/&gt;&lt;Override ContentType=\\&quot;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml\\&quot; PartName=\\&quot;/xl/workbook.xml\\&quot;/&gt;&lt;Override ContentType=\\&quot;application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml\\&quot; PartName=\\&quot;/xl/worksheets/sheet1.xml\\&quot;/&gt;&lt;/Types&gt;&quot;;\r\n\r\n    String docProps_app_xml = &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;&lt;Properties xmlns=\\&quot;http://schemas.openxmlformats.org/officeDocument/2006/extended-properties\\&quot;&gt;&lt;Application&gt;&quot; + &quot;Created Low level From Scratch&quot; + &quot;&lt;/Application&gt;&lt;/Properties&gt;&quot;;\r\n\r\n    String docProps_core_xml = &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot; standalone=\\&quot;no\\&quot;?&gt;&lt;cp:coreProperties xmlns:cp=\\&quot;http://schemas.openxmlformats.org/package/2006/metadata/core-properties\\&quot; xmlns:dc=\\&quot;http://purl.org/dc/elements/1.1/\\&quot; xmlns:dcterms=\\&quot;http://purl.org/dc/terms/\\&quot; xmlns:xsi=\\&quot;http://www.w3.org/2001/XMLSchema-instance\\&quot;&gt;&lt;dcterms:created xsi:type=\\&quot;dcterms:W3CDTF\\&quot;&gt;&quot; + java.time.Instant.now().truncatedTo(java.time.temporal.ChronoUnit.SECONDS).toString() + &quot;&lt;/dcterms:created&gt;&lt;dc:creator&gt;&quot; + &quot;Axel Richter from scratch&quot; + &quot;&lt;/dc:creator&gt;&lt;/cp:coreProperties&gt;&quot;;\r\n\r\n    String _rels_rels_xml = &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot; standalone=\\&quot;no\\&quot;?&gt;&lt;Relationships xmlns=\\&quot;http://schemas.openxmlformats.org/package/2006/relationships\\&quot;&gt;&lt;Relationship Id=\\&quot;rId1\\&quot; Target=\\&quot;xl/workbook.xml\\&quot; Type=\\&quot;http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument\\&quot;/&gt;&lt;Relationship Id=\\&quot;rId2\\&quot; Target=\\&quot;docProps/app.xml\\&quot; Type=\\&quot;http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties\\&quot;/&gt;&lt;Relationship Id=\\&quot;rId3\\&quot; Target=\\&quot;docProps/core.xml\\&quot; Type=\\&quot;http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties\\&quot;/&gt;&lt;/Relationships&gt;&quot;;\r\n\r\n    String xl_rels_workbook_xml_rels_xml = &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot; standalone=\\&quot;no\\&quot;?&gt;&lt;Relationships xmlns=\\&quot;http://schemas.openxmlformats.org/package/2006/relationships\\&quot;&gt;&lt;Relationship Id=\\&quot;rId1\\&quot; Target=\\&quot;sharedStrings.xml\\&quot; Type=\\&quot;http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings\\&quot;/&gt;&lt;Relationship Id=\\&quot;rId2\\&quot; Target=\\&quot;styles.xml\\&quot; Type=\\&quot;http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles\\&quot;/&gt;&lt;Relationship Id=\\&quot;rId3\\&quot; Target=\\&quot;worksheets/sheet1.xml\\&quot; Type=\\&quot;http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet\\&quot;/&gt;&lt;/Relationships&gt;&quot;;\r\n\r\n    String xl_sharedstrings_xml = &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;&lt;sst count=\\&quot;0\\&quot; uniqueCount=\\&quot;0\\&quot; xmlns=\\&quot;http://schemas.openxmlformats.org/spreadsheetml/2006/main\\&quot;/&gt;&quot;;\r\n\r\n    String xl_styles_xml = &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;&lt;styleSheet xmlns=\\&quot;http://schemas.openxmlformats.org/spreadsheetml/2006/main\\&quot;&gt;&lt;numFmts count=\\&quot;0\\&quot;/&gt;&lt;fonts count=\\&quot;1\\&quot;&gt;&lt;font&gt;&lt;sz val=\\&quot;11.0\\&quot;/&gt;&lt;color indexed=\\&quot;8\\&quot;/&gt;&lt;name val=\\&quot;Calibri\\&quot;/&gt;&lt;family val=\\&quot;2\\&quot;/&gt;&lt;scheme val=\\&quot;minor\\&quot;/&gt;&lt;/font&gt;&lt;/fonts&gt;&lt;fills count=\\&quot;2\\&quot;&gt;&lt;fill&gt;&lt;patternFill patternType=\\&quot;none\\&quot;/&gt;&lt;/fill&gt;&lt;fill&gt;&lt;patternFill patternType=\\&quot;darkGray\\&quot;/&gt;&lt;/fill&gt;&lt;/fills&gt;&lt;borders count=\\&quot;1\\&quot;&gt;&lt;border&gt;&lt;left/&gt;&lt;right/&gt;&lt;top/&gt;&lt;bottom/&gt;&lt;diagonal/&gt;&lt;/border&gt;&lt;/borders&gt;&lt;cellStyleXfs count=\\&quot;1\\&quot;&gt;&lt;xf numFmtId=\\&quot;0\\&quot; fontId=\\&quot;0\\&quot; fillId=\\&quot;0\\&quot; borderId=\\&quot;0\\&quot;/&gt;&lt;/cellStyleXfs&gt;&lt;cellXfs count=\\&quot;1\\&quot;&gt;&lt;xf numFmtId=\\&quot;0\\&quot; fontId=\\&quot;0\\&quot; fillId=\\&quot;0\\&quot; borderId=\\&quot;0\\&quot; xfId=\\&quot;0\\&quot;/&gt;&lt;/cellXfs&gt;&lt;/styleSheet&gt;&quot;;\r\n\r\n    String xl_workbook_xml = &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;&lt;workbook xmlns=\\&quot;http://schemas.openxmlformats.org/spreadsheetml/2006/main\\&quot; xmlns:r=\\&quot;http://schemas.openxmlformats.org/officeDocument/2006/relationships\\&quot;&gt;&lt;workbookPr date1904=\\&quot;false\\&quot;/&gt;&lt;bookViews&gt;&lt;workbookView activeTab=\\&quot;0\\&quot;/&gt;&lt;/bookViews&gt;&lt;sheets&gt;&lt;sheet name=\\&quot;&quot; + &quot;Sheet1&quot; + &quot;\\&quot; r:id=\\&quot;rId3\\&quot; sheetId=\\&quot;1\\&quot;/&gt;&lt;/sheets&gt;&lt;/workbook&gt;&quot;;\r\n\r\n    String xl_worksheets_sheet1_xml = &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;&lt;worksheet xmlns=\\&quot;http://schemas.openxmlformats.org/spreadsheetml/2006/main\\&quot;&gt;&lt;dimension ref=\\&quot;A1\\&quot;/&gt;&lt;sheetViews&gt;&lt;sheetView workbookViewId=\\&quot;0\\&quot; tabSelected=\\&quot;true\\&quot;/&gt;&lt;/sheetViews&gt;&lt;sheetFormatPr defaultRowHeight=\\&quot;15.0\\&quot;/&gt;&lt;sheetData/&gt;&lt;pageMargins bottom=\\&quot;0.75\\&quot; footer=\\&quot;0.3\\&quot; header=\\&quot;0.3\\&quot; left=\\&quot;0.7\\&quot; right=\\&quot;0.7\\&quot; top=\\&quot;0.75\\&quot;/&gt;&lt;/worksheet&gt;&quot;;\r\n\r\n    ArrayList&lt;ArrayList&lt;Object&gt;&gt; sheetDat = new ArrayList&lt;&gt;();\r\n    ArrayList&lt;Object&gt; sheetKeys = new ArrayList&lt;&gt;();\r\n\r\n    ExcelSpreadSheet() {\r\n        sheetDat.add(0, new ArrayList&lt;&gt;());\r\n    }\r\n\r\n    int addFirstColumnKey(String key) {\r\n        if (!sheetKeys.contains(key)) {\r\n            if (sheetKeys.size() &gt; 26) return -1;\r\n            sheetKeys.add(key);\r\n        }\r\n        return sheetKeys.indexOf(key);\r\n    }\r\n\r\n    void addValueToRow(int rowID, String keyName, Object value) {\r\n        addFirstColumnKey(&quot;ID&quot;);\r\n        int columnEdit = addFirstColumnKey(keyName);\r\n        if (columnEdit == -1) return;//ERROR\r\n        int editingRow = -1;\r\n        for (int i = 0; i &lt; sheetDat.size(); i++) {\r\n            if (sheetDat.get(i).get(0).equals(rowID)) {\r\n                editingRow = i;\r\n            }\r\n        }\r\n        if (editingRow == -1) {\r\n            sheetDat.add(new ArrayList&lt;&gt;());\r\n            editingRow = sheetDat.size() - 1;\r\n        }\r\n        if (sheetDat.get(editingRow).size() &lt; sheetKeys.size()) {\r\n            for (int a = 0; a &lt; sheetKeys.size(); a++) {\r\n                sheetDat.get(editingRow).add(0);\r\n            }\r\n        }\r\n        sheetDat.get(editingRow).set(columnEdit, value);\r\n        sheetDat.get(editingRow).set(0, rowID);\r\n    }\r\n\r\n    private class Sort implements Comparator&lt;ArrayList&lt;Object&gt;&gt; {\r\n        int sortColumn;\r\n\r\n        Sort(int columnToSortBy) {\r\n            sortColumn = columnToSortBy;\r\n        }\r\n\r\n        public int compare(ArrayList&lt;Object&gt; a, ArrayList&lt;Object&gt; b) {\r\n            if (a.size() &lt; sortColumn || a.get(sortColumn) == null) {\r\n                return 0;\r\n            } else if (a.get(sortColumn) instanceof String) {\r\n                return ((String) a.get(sortColumn)).compareTo(((String) b.get(sortColumn)));\r\n            } else if (a.get(sortColumn) instanceof Integer) {\r\n                return ((Integer) a.get(sortColumn)).compareTo(((Integer) b.get(sortColumn)));\r\n            } else if (a.get(sortColumn) instanceof Long) {\r\n                return ((Long) a.get(sortColumn)).compareTo(((Long) b.get(sortColumn)));\r\n            } else if (a.get(sortColumn) instanceof Double) {\r\n                return ((Double) a.get(sortColumn)).compareTo(((Double) b.get(sortColumn)));\r\n            }\r\n            return 0;\r\n        }\r\n    }\r\n\r\n    void exportToFile() throws Exception {\r\n\r\n        // result goes into a ByteArrayOutputStream\r\n        ByteArrayOutputStream resultout = new ByteArrayOutputStream();\r\n\r\n        // needed objects\r\n        ZipEntry zipentry;\r\n        byte[] data;\r\n\r\n        // create ZipOutputStream\r\n        ZipOutputStream zipout = new ZipOutputStream(resultout);\r\n\r\n        // create the static parts of the XLSX ZIP file:\r\n\r\n        zipentry = new ZipEntry(&quot;[Content_Types].xml&quot;);\r\n        zipout.putNextEntry(zipentry);\r\n        data = content_types_xml.getBytes();\r\n        zipout.write(data, 0, data.length);\r\n        zipout.closeEntry();\r\n\r\n        zipentry = new ZipEntry(&quot;docProps/app.xml&quot;);\r\n        zipout.putNextEntry(zipentry);\r\n        data = docProps_app_xml.getBytes();\r\n        zipout.write(data, 0, data.length);\r\n        zipout.closeEntry();\r\n\r\n        zipentry = new ZipEntry(&quot;docProps/core.xml&quot;);\r\n        zipout.putNextEntry(zipentry);\r\n        data = docProps_core_xml.getBytes();\r\n        zipout.write(data, 0, data.length);\r\n        zipout.closeEntry();\r\n\r\n        zipentry = new ZipEntry(&quot;_rels/.rels&quot;);\r\n        zipout.putNextEntry(zipentry);\r\n        data = _rels_rels_xml.getBytes();\r\n        zipout.write(data, 0, data.length);\r\n        zipout.closeEntry();\r\n\r\n        zipentry = new ZipEntry(&quot;xl/_rels/workbook.xml.rels&quot;);\r\n        zipout.putNextEntry(zipentry);\r\n        data = xl_rels_workbook_xml_rels_xml.getBytes();\r\n        zipout.write(data, 0, data.length);\r\n        zipout.closeEntry();\r\n\r\n        zipentry = new ZipEntry(&quot;xl/sharedStrings.xml&quot;);\r\n        zipout.putNextEntry(zipentry);\r\n        data = xl_sharedstrings_xml.getBytes();\r\n        zipout.write(data, 0, data.length);\r\n        zipout.closeEntry();\r\n\r\n        zipentry = new ZipEntry(&quot;xl/styles.xml&quot;);\r\n        zipout.putNextEntry(zipentry);\r\n        data = xl_styles_xml.getBytes();\r\n        zipout.write(data, 0, data.length);\r\n        zipout.closeEntry();\r\n\r\n        zipentry = new ZipEntry(&quot;xl/workbook.xml&quot;);\r\n        zipout.putNextEntry(zipentry);\r\n        data = xl_workbook_xml.getBytes();\r\n        zipout.write(data, 0, data.length);\r\n        zipout.closeEntry();\r\n\r\n        // preparing the sheet data:\r\n\r\n        String sheetdata = &quot;&lt;sheetData&gt;&quot;;\r\n        int r = 0;\r\n        char c = &#39;A&#39;;\r\n        --c;\r\n        ArrayList&lt;ArrayList&lt;Object&gt;&gt; sheet = sheetDat;\r\n        sheet.add(0, sheetKeys);\r\n        for (ArrayList&lt;Object&gt; rowData : sheet) {\r\n            sheetdata += &quot;&lt;row r=\\&quot;&quot; + ++r + &quot;\\&quot;&gt;&quot;;\r\n            c = &#39;A&#39;;\r\n            --c;\r\n            for (Object cellData : rowData) {\r\n                sheetdata += &quot;&lt;c r=\\&quot;&quot; + Character.toString(++c) + r + &quot;\\&quot;&quot;;\r\n                if (cellData instanceof String &amp;&amp; ((String) cellData).startsWith(&quot;=&quot;)) {\r\n                    sheetdata += &quot;&gt;&lt;f&gt;&quot; + ((String) cellData).replace(&quot;=&quot;, &quot;&quot;) + &quot;&lt;/f&gt;&lt;/c&gt;&quot;;\r\n                } else if (cellData instanceof String) {\r\n                    sheetdata += &quot; t=\\&quot;inlineStr\\&quot;&gt;&lt;is&gt;&lt;t&gt;&quot; + cellData + &quot;&lt;/t&gt;&lt;/is&gt;&lt;/c&gt;&quot;;\r\n                } else if (cellData instanceof Double) {\r\n                    sheetdata += &quot;&gt;&lt;v&gt;&quot; + cellData + &quot;&lt;/v&gt;&lt;/c&gt;&quot;;\r\n                }\r\n            }\r\n            sheetdata += &quot;&lt;/row&gt;&quot;;\r\n        }\r\n        sheetdata += &quot;&lt;/sheetData&gt;&quot;;\r\n\r\n        // get the static sheet xml into a buffer for further processing\r\n        StringBuffer xl_worksheets_sheet1_xml_buffer = new StringBuffer(xl_worksheets_sheet1_xml);\r\n\r\n        // get position of the &lt;dimension ref=\\&quot;A1\\&quot;/&gt; in the static xl_worksheets_sheet1_xml\r\n        int dimensionstart = xl_worksheets_sheet1_xml_buffer.indexOf(&quot;&lt;dimension ref=\\&quot;A1\\&quot;/&gt;&quot;);\r\n        // replace the &lt;dimension ref=\\&quot;A1\\&quot;/&gt; with the new dimension\r\n        xl_worksheets_sheet1_xml_buffer = xl_worksheets_sheet1_xml_buffer.replace(\r\n                dimensionstart,\r\n                dimensionstart + &quot;&lt;dimension ref=\\&quot;A1\\&quot;/&gt;&quot;.length(),\r\n                &quot;&lt;dimension ref=\\&quot;A1:&quot; + c + r + &quot;\\&quot;/&gt;&quot;);\r\n\r\n        // get position of the &lt;sheetData/&gt; in the static xl_worksheets_sheet1_xml\r\n        int sheetdatastart = xl_worksheets_sheet1_xml_buffer.indexOf(&quot;&lt;sheetData/&gt;&quot;);\r\n        // replace the &lt;sheetData/&gt; with the prepared sheet date string\r\n        xl_worksheets_sheet1_xml_buffer = xl_worksheets_sheet1_xml_buffer.replace(\r\n                sheetdatastart,\r\n                sheetdatastart + &quot;&lt;sheetData/&gt;&quot;.length(),\r\n                sheetdata);\r\n\r\n        // create the xl/worksheets/sheet1.xml\r\n        zipentry = new ZipEntry(&quot;xl/worksheets/sheet1.xml&quot;);\r\n        zipout.putNextEntry(zipentry);\r\n        data = xl_worksheets_sheet1_xml_buffer.toString().getBytes();\r\n        zipout.write(data, 0, data.length);\r\n        zipout.closeEntry();\r\n\r\n        zipout.finish();\r\n\r\n        // now ByteArrayOutputStream resultout contains the XLSX file data\r\n\r\n        // writing this data into a file\r\n        try (java.io.FileOutputStream fileout = new java.io.FileOutputStream(&quot;working.xlsx&quot;)) {\r\n            resultout.writeTo(fileout);\r\n            resultout.close();\r\n        }\r\n\r\n    }\r\n    }","title":"How to create and write to Excel file (.xlsx)?","body":"<p>I'm expanding on Axel Richter's answer\nMy code below will add features for you to add columns and values dynamically.</p>\n\n<p>import android.os.Build;</p>\n\n<p>import androidx.annotation.RequiresApi;</p>\n\n<p>import java.io.ByteArrayOutputStream;</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.Comparator;\nimport java.util.zip.*;\n\n@SuppressWarnings(\"WeakerAccess\")\n@RequiresApi(api = Build.VERSION_CODES.O)\npublic class ExcelSpreadSheet {\n\n//some static parts of the XLSX file:\n\nString content_types_xml = \"&lt;?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\" standalone=\\\"no\\\"?&gt;&lt;Types xmlns=\\\"http://schemas.openxmlformats.org/package/2006/content-types\\\"&gt;&lt;Default ContentType=\\\"application/vnd.openxmlformats-package.relationships+xml\\\" Extension=\\\"rels\\\"/&gt;&lt;Default ContentType=\\\"application/xml\\\" Extension=\\\"xml\\\"/&gt;&lt;Override ContentType=\\\"application/vnd.openxmlformats-officedocument.extended-properties+xml\\\" PartName=\\\"/docProps/app.xml\\\"/&gt;&lt;Override ContentType=\\\"application/vnd.openxmlformats-package.core-properties+xml\\\" PartName=\\\"/docProps/core.xml\\\"/&gt;&lt;Override ContentType=\\\"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml\\\" PartName=\\\"/xl/sharedStrings.xml\\\"/&gt;&lt;Override ContentType=\\\"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml\\\" PartName=\\\"/xl/styles.xml\\\"/&gt;&lt;Override ContentType=\\\"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml\\\" PartName=\\\"/xl/workbook.xml\\\"/&gt;&lt;Override ContentType=\\\"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml\\\" PartName=\\\"/xl/worksheets/sheet1.xml\\\"/&gt;&lt;/Types&gt;\";\n\nString docProps_app_xml = \"&lt;?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?&gt;&lt;Properties xmlns=\\\"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties\\\"&gt;&lt;Application&gt;\" + \"Created Low level From Scratch\" + \"&lt;/Application&gt;&lt;/Properties&gt;\";\n\nString docProps_core_xml = \"&lt;?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\" standalone=\\\"no\\\"?&gt;&lt;cp:coreProperties xmlns:cp=\\\"http://schemas.openxmlformats.org/package/2006/metadata/core-properties\\\" xmlns:dc=\\\"http://purl.org/dc/elements/1.1/\\\" xmlns:dcterms=\\\"http://purl.org/dc/terms/\\\" xmlns:xsi=\\\"http://www.w3.org/2001/XMLSchema-instance\\\"&gt;&lt;dcterms:created xsi:type=\\\"dcterms:W3CDTF\\\"&gt;\" + java.time.Instant.now().truncatedTo(java.time.temporal.ChronoUnit.SECONDS).toString() + \"&lt;/dcterms:created&gt;&lt;dc:creator&gt;\" + \"Axel Richter from scratch\" + \"&lt;/dc:creator&gt;&lt;/cp:coreProperties&gt;\";\n\nString _rels_rels_xml = \"&lt;?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\" standalone=\\\"no\\\"?&gt;&lt;Relationships xmlns=\\\"http://schemas.openxmlformats.org/package/2006/relationships\\\"&gt;&lt;Relationship Id=\\\"rId1\\\" Target=\\\"xl/workbook.xml\\\" Type=\\\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument\\\"/&gt;&lt;Relationship Id=\\\"rId2\\\" Target=\\\"docProps/app.xml\\\" Type=\\\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties\\\"/&gt;&lt;Relationship Id=\\\"rId3\\\" Target=\\\"docProps/core.xml\\\" Type=\\\"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties\\\"/&gt;&lt;/Relationships&gt;\";\n\nString xl_rels_workbook_xml_rels_xml = \"&lt;?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\" standalone=\\\"no\\\"?&gt;&lt;Relationships xmlns=\\\"http://schemas.openxmlformats.org/package/2006/relationships\\\"&gt;&lt;Relationship Id=\\\"rId1\\\" Target=\\\"sharedStrings.xml\\\" Type=\\\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings\\\"/&gt;&lt;Relationship Id=\\\"rId2\\\" Target=\\\"styles.xml\\\" Type=\\\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles\\\"/&gt;&lt;Relationship Id=\\\"rId3\\\" Target=\\\"worksheets/sheet1.xml\\\" Type=\\\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet\\\"/&gt;&lt;/Relationships&gt;\";\n\nString xl_sharedstrings_xml = \"&lt;?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?&gt;&lt;sst count=\\\"0\\\" uniqueCount=\\\"0\\\" xmlns=\\\"http://schemas.openxmlformats.org/spreadsheetml/2006/main\\\"/&gt;\";\n\nString xl_styles_xml = \"&lt;?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?&gt;&lt;styleSheet xmlns=\\\"http://schemas.openxmlformats.org/spreadsheetml/2006/main\\\"&gt;&lt;numFmts count=\\\"0\\\"/&gt;&lt;fonts count=\\\"1\\\"&gt;&lt;font&gt;&lt;sz val=\\\"11.0\\\"/&gt;&lt;color indexed=\\\"8\\\"/&gt;&lt;name val=\\\"Calibri\\\"/&gt;&lt;family val=\\\"2\\\"/&gt;&lt;scheme val=\\\"minor\\\"/&gt;&lt;/font&gt;&lt;/fonts&gt;&lt;fills count=\\\"2\\\"&gt;&lt;fill&gt;&lt;patternFill patternType=\\\"none\\\"/&gt;&lt;/fill&gt;&lt;fill&gt;&lt;patternFill patternType=\\\"darkGray\\\"/&gt;&lt;/fill&gt;&lt;/fills&gt;&lt;borders count=\\\"1\\\"&gt;&lt;border&gt;&lt;left/&gt;&lt;right/&gt;&lt;top/&gt;&lt;bottom/&gt;&lt;diagonal/&gt;&lt;/border&gt;&lt;/borders&gt;&lt;cellStyleXfs count=\\\"1\\\"&gt;&lt;xf numFmtId=\\\"0\\\" fontId=\\\"0\\\" fillId=\\\"0\\\" borderId=\\\"0\\\"/&gt;&lt;/cellStyleXfs&gt;&lt;cellXfs count=\\\"1\\\"&gt;&lt;xf numFmtId=\\\"0\\\" fontId=\\\"0\\\" fillId=\\\"0\\\" borderId=\\\"0\\\" xfId=\\\"0\\\"/&gt;&lt;/cellXfs&gt;&lt;/styleSheet&gt;\";\n\nString xl_workbook_xml = \"&lt;?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?&gt;&lt;workbook xmlns=\\\"http://schemas.openxmlformats.org/spreadsheetml/2006/main\\\" xmlns:r=\\\"http://schemas.openxmlformats.org/officeDocument/2006/relationships\\\"&gt;&lt;workbookPr date1904=\\\"false\\\"/&gt;&lt;bookViews&gt;&lt;workbookView activeTab=\\\"0\\\"/&gt;&lt;/bookViews&gt;&lt;sheets&gt;&lt;sheet name=\\\"\" + \"Sheet1\" + \"\\\" r:id=\\\"rId3\\\" sheetId=\\\"1\\\"/&gt;&lt;/sheets&gt;&lt;/workbook&gt;\";\n\nString xl_worksheets_sheet1_xml = \"&lt;?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?&gt;&lt;worksheet xmlns=\\\"http://schemas.openxmlformats.org/spreadsheetml/2006/main\\\"&gt;&lt;dimension ref=\\\"A1\\\"/&gt;&lt;sheetViews&gt;&lt;sheetView workbookViewId=\\\"0\\\" tabSelected=\\\"true\\\"/&gt;&lt;/sheetViews&gt;&lt;sheetFormatPr defaultRowHeight=\\\"15.0\\\"/&gt;&lt;sheetData/&gt;&lt;pageMargins bottom=\\\"0.75\\\" footer=\\\"0.3\\\" header=\\\"0.3\\\" left=\\\"0.7\\\" right=\\\"0.7\\\" top=\\\"0.75\\\"/&gt;&lt;/worksheet&gt;\";\n\nArrayList&lt;ArrayList&lt;Object&gt;&gt; sheetDat = new ArrayList&lt;&gt;();\nArrayList&lt;Object&gt; sheetKeys = new ArrayList&lt;&gt;();\n\nExcelSpreadSheet() {\n    sheetDat.add(0, new ArrayList&lt;&gt;());\n}\n\nint addFirstColumnKey(String key) {\n    if (!sheetKeys.contains(key)) {\n        if (sheetKeys.size() &gt; 26) return -1;\n        sheetKeys.add(key);\n    }\n    return sheetKeys.indexOf(key);\n}\n\nvoid addValueToRow(int rowID, String keyName, Object value) {\n    addFirstColumnKey(\"ID\");\n    int columnEdit = addFirstColumnKey(keyName);\n    if (columnEdit == -1) return;//ERROR\n    int editingRow = -1;\n    for (int i = 0; i &lt; sheetDat.size(); i++) {\n        if (sheetDat.get(i).get(0).equals(rowID)) {\n            editingRow = i;\n        }\n    }\n    if (editingRow == -1) {\n        sheetDat.add(new ArrayList&lt;&gt;());\n        editingRow = sheetDat.size() - 1;\n    }\n    if (sheetDat.get(editingRow).size() &lt; sheetKeys.size()) {\n        for (int a = 0; a &lt; sheetKeys.size(); a++) {\n            sheetDat.get(editingRow).add(0);\n        }\n    }\n    sheetDat.get(editingRow).set(columnEdit, value);\n    sheetDat.get(editingRow).set(0, rowID);\n}\n\nprivate class Sort implements Comparator&lt;ArrayList&lt;Object&gt;&gt; {\n    int sortColumn;\n\n    Sort(int columnToSortBy) {\n        sortColumn = columnToSortBy;\n    }\n\n    public int compare(ArrayList&lt;Object&gt; a, ArrayList&lt;Object&gt; b) {\n        if (a.size() &lt; sortColumn || a.get(sortColumn) == null) {\n            return 0;\n        } else if (a.get(sortColumn) instanceof String) {\n            return ((String) a.get(sortColumn)).compareTo(((String) b.get(sortColumn)));\n        } else if (a.get(sortColumn) instanceof Integer) {\n            return ((Integer) a.get(sortColumn)).compareTo(((Integer) b.get(sortColumn)));\n        } else if (a.get(sortColumn) instanceof Long) {\n            return ((Long) a.get(sortColumn)).compareTo(((Long) b.get(sortColumn)));\n        } else if (a.get(sortColumn) instanceof Double) {\n            return ((Double) a.get(sortColumn)).compareTo(((Double) b.get(sortColumn)));\n        }\n        return 0;\n    }\n}\n\nvoid exportToFile() throws Exception {\n\n    // result goes into a ByteArrayOutputStream\n    ByteArrayOutputStream resultout = new ByteArrayOutputStream();\n\n    // needed objects\n    ZipEntry zipentry;\n    byte[] data;\n\n    // create ZipOutputStream\n    ZipOutputStream zipout = new ZipOutputStream(resultout);\n\n    // create the static parts of the XLSX ZIP file:\n\n    zipentry = new ZipEntry(\"[Content_Types].xml\");\n    zipout.putNextEntry(zipentry);\n    data = content_types_xml.getBytes();\n    zipout.write(data, 0, data.length);\n    zipout.closeEntry();\n\n    zipentry = new ZipEntry(\"docProps/app.xml\");\n    zipout.putNextEntry(zipentry);\n    data = docProps_app_xml.getBytes();\n    zipout.write(data, 0, data.length);\n    zipout.closeEntry();\n\n    zipentry = new ZipEntry(\"docProps/core.xml\");\n    zipout.putNextEntry(zipentry);\n    data = docProps_core_xml.getBytes();\n    zipout.write(data, 0, data.length);\n    zipout.closeEntry();\n\n    zipentry = new ZipEntry(\"_rels/.rels\");\n    zipout.putNextEntry(zipentry);\n    data = _rels_rels_xml.getBytes();\n    zipout.write(data, 0, data.length);\n    zipout.closeEntry();\n\n    zipentry = new ZipEntry(\"xl/_rels/workbook.xml.rels\");\n    zipout.putNextEntry(zipentry);\n    data = xl_rels_workbook_xml_rels_xml.getBytes();\n    zipout.write(data, 0, data.length);\n    zipout.closeEntry();\n\n    zipentry = new ZipEntry(\"xl/sharedStrings.xml\");\n    zipout.putNextEntry(zipentry);\n    data = xl_sharedstrings_xml.getBytes();\n    zipout.write(data, 0, data.length);\n    zipout.closeEntry();\n\n    zipentry = new ZipEntry(\"xl/styles.xml\");\n    zipout.putNextEntry(zipentry);\n    data = xl_styles_xml.getBytes();\n    zipout.write(data, 0, data.length);\n    zipout.closeEntry();\n\n    zipentry = new ZipEntry(\"xl/workbook.xml\");\n    zipout.putNextEntry(zipentry);\n    data = xl_workbook_xml.getBytes();\n    zipout.write(data, 0, data.length);\n    zipout.closeEntry();\n\n    // preparing the sheet data:\n\n    String sheetdata = \"&lt;sheetData&gt;\";\n    int r = 0;\n    char c = 'A';\n    --c;\n    ArrayList&lt;ArrayList&lt;Object&gt;&gt; sheet = sheetDat;\n    sheet.add(0, sheetKeys);\n    for (ArrayList&lt;Object&gt; rowData : sheet) {\n        sheetdata += \"&lt;row r=\\\"\" + ++r + \"\\\"&gt;\";\n        c = 'A';\n        --c;\n        for (Object cellData : rowData) {\n            sheetdata += \"&lt;c r=\\\"\" + Character.toString(++c) + r + \"\\\"\";\n            if (cellData instanceof String &amp;&amp; ((String) cellData).startsWith(\"=\")) {\n                sheetdata += \"&gt;&lt;f&gt;\" + ((String) cellData).replace(\"=\", \"\") + \"&lt;/f&gt;&lt;/c&gt;\";\n            } else if (cellData instanceof String) {\n                sheetdata += \" t=\\\"inlineStr\\\"&gt;&lt;is&gt;&lt;t&gt;\" + cellData + \"&lt;/t&gt;&lt;/is&gt;&lt;/c&gt;\";\n            } else if (cellData instanceof Double) {\n                sheetdata += \"&gt;&lt;v&gt;\" + cellData + \"&lt;/v&gt;&lt;/c&gt;\";\n            }\n        }\n        sheetdata += \"&lt;/row&gt;\";\n    }\n    sheetdata += \"&lt;/sheetData&gt;\";\n\n    // get the static sheet xml into a buffer for further processing\n    StringBuffer xl_worksheets_sheet1_xml_buffer = new StringBuffer(xl_worksheets_sheet1_xml);\n\n    // get position of the &lt;dimension ref=\\\"A1\\\"/&gt; in the static xl_worksheets_sheet1_xml\n    int dimensionstart = xl_worksheets_sheet1_xml_buffer.indexOf(\"&lt;dimension ref=\\\"A1\\\"/&gt;\");\n    // replace the &lt;dimension ref=\\\"A1\\\"/&gt; with the new dimension\n    xl_worksheets_sheet1_xml_buffer = xl_worksheets_sheet1_xml_buffer.replace(\n            dimensionstart,\n            dimensionstart + \"&lt;dimension ref=\\\"A1\\\"/&gt;\".length(),\n            \"&lt;dimension ref=\\\"A1:\" + c + r + \"\\\"/&gt;\");\n\n    // get position of the &lt;sheetData/&gt; in the static xl_worksheets_sheet1_xml\n    int sheetdatastart = xl_worksheets_sheet1_xml_buffer.indexOf(\"&lt;sheetData/&gt;\");\n    // replace the &lt;sheetData/&gt; with the prepared sheet date string\n    xl_worksheets_sheet1_xml_buffer = xl_worksheets_sheet1_xml_buffer.replace(\n            sheetdatastart,\n            sheetdatastart + \"&lt;sheetData/&gt;\".length(),\n            sheetdata);\n\n    // create the xl/worksheets/sheet1.xml\n    zipentry = new ZipEntry(\"xl/worksheets/sheet1.xml\");\n    zipout.putNextEntry(zipentry);\n    data = xl_worksheets_sheet1_xml_buffer.toString().getBytes();\n    zipout.write(data, 0, data.length);\n    zipout.closeEntry();\n\n    zipout.finish();\n\n    // now ByteArrayOutputStream resultout contains the XLSX file data\n\n    // writing this data into a file\n    try (java.io.FileOutputStream fileout = new java.io.FileOutputStream(\"working.xlsx\")) {\n        resultout.writeTo(fileout);\n        resultout.close();\n    }\n\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1186832,"reputation":625,"user_id":1160623,"accept_rate":75,"display_name":"steve"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1574756150,"creation_date":1574756150,"answer_id":59046443,"question_id":50738119,"body_markdown":"update of Axel Richter&#39;s answer:\r\n\r\n - add cell dynamically\r\n - unlimited columns (not only 26)\r\n\r\n\r\n```\r\nimport java.io.ByteArrayOutputStream;\r\nimport java.io.FileOutputStream;\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.ArrayList;\r\nimport java.util.Calendar;\r\nimport java.util.zip.ZipEntry;\r\nimport java.util.zip.ZipOutputStream;\r\n\r\npublic class CreatePlainXLSX {\r\n\r\n    //some static parts of the XLSX file:\r\n\r\n    static String content_types_xml = &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot; standalone=\\&quot;no\\&quot;?&gt;&lt;Types xmlns=\\&quot;http://schemas.openxmlformats.org/package/2006/content-types\\&quot;&gt;&lt;Default ContentType=\\&quot;application/vnd.openxmlformats-package.relationships+xml\\&quot; Extension=\\&quot;rels\\&quot;/&gt;&lt;Default ContentType=\\&quot;application/xml\\&quot; Extension=\\&quot;xml\\&quot;/&gt;&lt;Override ContentType=\\&quot;application/vnd.openxmlformats-officedocument.extended-properties+xml\\&quot; PartName=\\&quot;/docProps/app.xml\\&quot;/&gt;&lt;Override ContentType=\\&quot;application/vnd.openxmlformats-package.core-properties+xml\\&quot; PartName=\\&quot;/docProps/core.xml\\&quot;/&gt;&lt;Override ContentType=\\&quot;application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml\\&quot; PartName=\\&quot;/xl/sharedStrings.xml\\&quot;/&gt;&lt;Override ContentType=\\&quot;application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml\\&quot; PartName=\\&quot;/xl/styles.xml\\&quot;/&gt;&lt;Override ContentType=\\&quot;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml\\&quot; PartName=\\&quot;/xl/workbook.xml\\&quot;/&gt;&lt;Override ContentType=\\&quot;application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml\\&quot; PartName=\\&quot;/xl/worksheets/sheet1.xml\\&quot;/&gt;&lt;/Types&gt;&quot;;\r\n\r\n    static String docProps_app_xml = &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;&lt;Properties xmlns=\\&quot;http://schemas.openxmlformats.org/officeDocument/2006/extended-properties\\&quot;&gt;&lt;Application&gt;&quot; + &quot;Created Low level From Scratch&quot; + &quot;&lt;/Application&gt;&lt;/Properties&gt;&quot;;\r\n\r\n    static SimpleDateFormat formatter = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&#39;Z&#39;&quot;);\r\n\r\n    static String docProps_core_xml = &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot; standalone=\\&quot;no\\&quot;?&gt;&lt;cp:coreProperties xmlns:cp=\\&quot;http://schemas.openxmlformats.org/package/2006/metadata/core-properties\\&quot; xmlns:dc=\\&quot;http://purl.org/dc/elements/1.1/\\&quot; xmlns:dcterms=\\&quot;http://purl.org/dc/terms/\\&quot; xmlns:xsi=\\&quot;http://www.w3.org/2001/XMLSchema-instance\\&quot;&gt;&lt;dcterms:created xsi:type=\\&quot;dcterms:W3CDTF\\&quot;&gt;&quot; + formatter.format(Calendar.getInstance().getTime()) /*java.time.Instant.now().truncatedTo(java.time.temporal.ChronoUnit.SECONDS).toString()*/ + &quot;&lt;/dcterms:created&gt;&lt;dc:creator&gt;&quot; + &quot;Axel Richter from scratch&quot; + &quot;&lt;/dc:creator&gt;&lt;/cp:coreProperties&gt;&quot;;\r\n\r\n    static String _rels_rels_xml  = &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot; standalone=\\&quot;no\\&quot;?&gt;&lt;Relationships xmlns=\\&quot;http://schemas.openxmlformats.org/package/2006/relationships\\&quot;&gt;&lt;Relationship Id=\\&quot;rId1\\&quot; Target=\\&quot;xl/workbook.xml\\&quot; Type=\\&quot;http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument\\&quot;/&gt;&lt;Relationship Id=\\&quot;rId2\\&quot; Target=\\&quot;docProps/app.xml\\&quot; Type=\\&quot;http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties\\&quot;/&gt;&lt;Relationship Id=\\&quot;rId3\\&quot; Target=\\&quot;docProps/core.xml\\&quot; Type=\\&quot;http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties\\&quot;/&gt;&lt;/Relationships&gt;&quot;;\r\n\r\n    static String xl_rels_workbook_xml_rels_xml = &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot; standalone=\\&quot;no\\&quot;?&gt;&lt;Relationships xmlns=\\&quot;http://schemas.openxmlformats.org/package/2006/relationships\\&quot;&gt;&lt;Relationship Id=\\&quot;rId1\\&quot; Target=\\&quot;sharedStrings.xml\\&quot; Type=\\&quot;http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings\\&quot;/&gt;&lt;Relationship Id=\\&quot;rId2\\&quot; Target=\\&quot;styles.xml\\&quot; Type=\\&quot;http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles\\&quot;/&gt;&lt;Relationship Id=\\&quot;rId3\\&quot; Target=\\&quot;worksheets/sheet1.xml\\&quot; Type=\\&quot;http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet\\&quot;/&gt;&lt;/Relationships&gt;&quot;;\r\n\r\n    static String xl_sharedstrings_xml = &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;&lt;sst count=\\&quot;0\\&quot; uniqueCount=\\&quot;0\\&quot; xmlns=\\&quot;http://schemas.openxmlformats.org/spreadsheetml/2006/main\\&quot;/&gt;&quot;;\r\n\r\n    static String xl_styles_xml = &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;&lt;styleSheet xmlns=\\&quot;http://schemas.openxmlformats.org/spreadsheetml/2006/main\\&quot;&gt;&lt;numFmts count=\\&quot;0\\&quot;/&gt;&lt;fonts count=\\&quot;1\\&quot;&gt;&lt;font&gt;&lt;sz val=\\&quot;11.0\\&quot;/&gt;&lt;color indexed=\\&quot;8\\&quot;/&gt;&lt;name val=\\&quot;Calibri\\&quot;/&gt;&lt;family val=\\&quot;2\\&quot;/&gt;&lt;scheme val=\\&quot;minor\\&quot;/&gt;&lt;/font&gt;&lt;/fonts&gt;&lt;fills count=\\&quot;2\\&quot;&gt;&lt;fill&gt;&lt;patternFill patternType=\\&quot;none\\&quot;/&gt;&lt;/fill&gt;&lt;fill&gt;&lt;patternFill patternType=\\&quot;darkGray\\&quot;/&gt;&lt;/fill&gt;&lt;/fills&gt;&lt;borders count=\\&quot;1\\&quot;&gt;&lt;border&gt;&lt;left/&gt;&lt;right/&gt;&lt;top/&gt;&lt;bottom/&gt;&lt;diagonal/&gt;&lt;/border&gt;&lt;/borders&gt;&lt;cellStyleXfs count=\\&quot;1\\&quot;&gt;&lt;xf numFmtId=\\&quot;0\\&quot; fontId=\\&quot;0\\&quot; fillId=\\&quot;0\\&quot; borderId=\\&quot;0\\&quot;/&gt;&lt;/cellStyleXfs&gt;&lt;cellXfs count=\\&quot;1\\&quot;&gt;&lt;xf numFmtId=\\&quot;0\\&quot; fontId=\\&quot;0\\&quot; fillId=\\&quot;0\\&quot; borderId=\\&quot;0\\&quot; xfId=\\&quot;0\\&quot;/&gt;&lt;/cellXfs&gt;&lt;/styleSheet&gt;&quot;;\r\n\r\n    static String xl_workbook_xml = &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;&lt;workbook xmlns=\\&quot;http://schemas.openxmlformats.org/spreadsheetml/2006/main\\&quot; xmlns:r=\\&quot;http://schemas.openxmlformats.org/officeDocument/2006/relationships\\&quot;&gt;&lt;workbookPr date1904=\\&quot;false\\&quot;/&gt;&lt;bookViews&gt;&lt;workbookView activeTab=\\&quot;0\\&quot;/&gt;&lt;/bookViews&gt;&lt;sheets&gt;&lt;sheet name=\\&quot;&quot; + &quot;Sheet1&quot; + &quot;\\&quot; r:id=\\&quot;rId3\\&quot; sheetId=\\&quot;1\\&quot;/&gt;&lt;/sheets&gt;&lt;/workbook&gt;&quot;;\r\n\r\n    static String xl_worksheets_sheet1_xml = &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;&lt;worksheet xmlns=\\&quot;http://schemas.openxmlformats.org/spreadsheetml/2006/main\\&quot;&gt;&lt;dimension ref=\\&quot;A1\\&quot;/&gt;&lt;sheetViews&gt;&lt;sheetView workbookViewId=\\&quot;0\\&quot; tabSelected=\\&quot;true\\&quot;/&gt;&lt;/sheetViews&gt;&lt;sheetFormatPr defaultRowHeight=\\&quot;15.0\\&quot;/&gt;&lt;sheetData/&gt;&lt;pageMargins bottom=\\&quot;0.75\\&quot; footer=\\&quot;0.3\\&quot; header=\\&quot;0.3\\&quot; left=\\&quot;0.7\\&quot; right=\\&quot;0.7\\&quot; top=\\&quot;0.75\\&quot;/&gt;&lt;/worksheet&gt;&quot;;\r\n\r\n\r\n    ArrayList&lt;ArrayList&lt;Object&gt;&gt; sheetDat = new ArrayList&lt;&gt;();\r\n\r\n    public CreatePlainXLSX() {\r\n        sheetDat.add(0, new ArrayList&lt;&gt;());\r\n    }\r\n\r\n    public void addCell(int rowNum, int cellNum, Object value) {\r\n\r\n        if (sheetDat.size() &lt;= rowNum){\r\n            for (int a = sheetDat.size(); a &lt;= rowNum; a++) {\r\n                sheetDat.add(new ArrayList&lt;&gt;());\r\n            }\r\n        }\r\n\r\n        if (sheetDat.get(rowNum).size() &lt;= cellNum) {\r\n            for (int a = sheetDat.get(rowNum).size(); a &lt;= cellNum; a++) {\r\n                sheetDat.get(rowNum).add(&quot;&quot;);\r\n            }\r\n        }\r\n        sheetDat.get(rowNum).set(cellNum, value);\r\n    }\r\n\r\n    private static int toNumber(String name) {\r\n        int number = 0;\r\n        for (int i = 0; i &lt; name.length(); i++) {\r\n            number = number * 26 + (name.charAt(i) - (&#39;A&#39; - 1));\r\n        }\r\n        return number;\r\n    }\r\n\r\n    private static String toName(int number) {\r\n        StringBuilder sb = new StringBuilder();\r\n        while (number-- &gt; 0) {\r\n            sb.append((char)(&#39;A&#39; + (number % 26)));\r\n            number /= 26;\r\n        }\r\n        return sb.reverse().toString();\r\n    }\r\n\r\n    private String incrementColumnR(String a){\r\n        return toName(toNumber(a) + 1);\r\n    }\r\n\r\n    public void exportToFile(FileOutputStream fileout) throws Exception {\r\n\r\n        // result goes into a ByteArrayOutputStream\r\n        ByteArrayOutputStream resultout = new ByteArrayOutputStream();\r\n\r\n        // needed objects\r\n        ZipEntry zipentry;\r\n        byte[] data;\r\n\r\n        // create ZipOutputStream\r\n        ZipOutputStream zipout = new ZipOutputStream(resultout);\r\n\r\n        // create the static parts of the XLSX ZIP file:\r\n\r\n        zipentry = new ZipEntry(&quot;[Content_Types].xml&quot;);\r\n        zipout.putNextEntry(zipentry);\r\n        data = content_types_xml.getBytes();\r\n        zipout.write(data, 0, data.length);\r\n        zipout.closeEntry();\r\n\r\n        zipentry = new ZipEntry(&quot;docProps/app.xml&quot;);\r\n        zipout.putNextEntry(zipentry);\r\n        data = docProps_app_xml.getBytes();\r\n        zipout.write(data, 0, data.length);\r\n        zipout.closeEntry();\r\n\r\n        zipentry = new ZipEntry(&quot;docProps/core.xml&quot;);\r\n        zipout.putNextEntry(zipentry);\r\n        data = docProps_core_xml.getBytes();\r\n        zipout.write(data, 0, data.length);\r\n        zipout.closeEntry();\r\n\r\n        zipentry = new ZipEntry(&quot;_rels/.rels&quot;);\r\n        zipout.putNextEntry(zipentry);\r\n        data = _rels_rels_xml.getBytes();\r\n        zipout.write(data, 0, data.length);\r\n        zipout.closeEntry();\r\n\r\n        zipentry = new ZipEntry(&quot;xl/_rels/workbook.xml.rels&quot;);\r\n        zipout.putNextEntry(zipentry);\r\n        data = xl_rels_workbook_xml_rels_xml.getBytes();\r\n        zipout.write(data, 0, data.length);\r\n        zipout.closeEntry();\r\n\r\n        zipentry = new ZipEntry(&quot;xl/sharedStrings.xml&quot;);\r\n        zipout.putNextEntry(zipentry);\r\n        data = xl_sharedstrings_xml.getBytes();\r\n        zipout.write(data, 0, data.length);\r\n        zipout.closeEntry();\r\n\r\n        zipentry = new ZipEntry(&quot;xl/styles.xml&quot;);\r\n        zipout.putNextEntry(zipentry);\r\n        data = xl_styles_xml.getBytes();\r\n        zipout.write(data, 0, data.length);\r\n        zipout.closeEntry();\r\n\r\n        zipentry = new ZipEntry(&quot;xl/workbook.xml&quot;);\r\n        zipout.putNextEntry(zipentry);\r\n        data = xl_workbook_xml.getBytes();\r\n        zipout.write(data, 0, data.length);\r\n        zipout.closeEntry();\r\n\r\n        // preparing the sheet data:\r\n\r\n        String sheetdata = &quot;&lt;sheetData&gt;&quot;;\r\n        int r = 0;\r\n        String c = toName(0);\r\n        ArrayList&lt;ArrayList&lt;Object&gt;&gt; sheet = sheetDat;\r\n        for (ArrayList&lt;Object&gt; rowData : sheet) {\r\n            sheetdata += &quot;&lt;row r=\\&quot;&quot; + ++r + &quot;\\&quot;&gt;&quot;;\r\n            c = toName(0);\r\n            for (Object cellData : rowData) {\r\n                c = incrementColumnR(c);\r\n                sheetdata += &quot;&lt;c r=\\&quot;&quot; + c + r + &quot;\\&quot;&quot;;\r\n                if (cellData instanceof String &amp;&amp; ((String) cellData).startsWith(&quot;=&quot;)) {\r\n                    sheetdata += &quot;&gt;&lt;f&gt;&quot; + ((String) cellData).replace(&quot;=&quot;, &quot;&quot;) + &quot;&lt;/f&gt;&lt;/c&gt;&quot;;\r\n                } else if (cellData instanceof String) {\r\n                    sheetdata += &quot; t=\\&quot;inlineStr\\&quot;&gt;&lt;is&gt;&lt;t&gt;&quot; + cellData + &quot;&lt;/t&gt;&lt;/is&gt;&lt;/c&gt;&quot;;\r\n                } else if (cellData instanceof Double || cellData instanceof Integer) {\r\n                    sheetdata += &quot;&gt;&lt;v&gt;&quot; + cellData + &quot;&lt;/v&gt;&lt;/c&gt;&quot;;\r\n                }\r\n            }\r\n            sheetdata += &quot;&lt;/row&gt;&quot;;\r\n        }\r\n        sheetdata += &quot;&lt;/sheetData&gt;&quot;;\r\n\r\n        // get the static sheet xml into a buffer for further processing\r\n        StringBuffer xl_worksheets_sheet1_xml_buffer = new StringBuffer(xl_worksheets_sheet1_xml);\r\n\r\n        // get position of the &lt;dimension ref=\\&quot;A1\\&quot;/&gt; in the static xl_worksheets_sheet1_xml\r\n        int dimensionstart = xl_worksheets_sheet1_xml_buffer.indexOf(&quot;&lt;dimension ref=\\&quot;A1\\&quot;/&gt;&quot;);\r\n        // replace the &lt;dimension ref=\\&quot;A1\\&quot;/&gt; with the new dimension\r\n        xl_worksheets_sheet1_xml_buffer = xl_worksheets_sheet1_xml_buffer.replace(\r\n                dimensionstart,\r\n                dimensionstart + &quot;&lt;dimension ref=\\&quot;A1\\&quot;/&gt;&quot;.length(),\r\n                &quot;&lt;dimension ref=\\&quot;A1:&quot; + c + r + &quot;\\&quot;/&gt;&quot;);\r\n\r\n        // get position of the &lt;sheetData/&gt; in the static xl_worksheets_sheet1_xml\r\n        int sheetdatastart = xl_worksheets_sheet1_xml_buffer.indexOf(&quot;&lt;sheetData/&gt;&quot;);\r\n        // replace the &lt;sheetData/&gt; with the prepared sheet date string\r\n        xl_worksheets_sheet1_xml_buffer = xl_worksheets_sheet1_xml_buffer.replace(\r\n                sheetdatastart,\r\n                sheetdatastart + &quot;&lt;sheetData/&gt;&quot;.length(),\r\n                sheetdata);\r\n\r\n        // create the xl/worksheets/sheet1.xml\r\n        zipentry = new ZipEntry(&quot;xl/worksheets/sheet1.xml&quot;);\r\n        zipout.putNextEntry(zipentry);\r\n        data = xl_worksheets_sheet1_xml_buffer.toString().getBytes();\r\n        zipout.write(data, 0, data.length);\r\n        zipout.closeEntry();\r\n\r\n        zipout.finish();\r\n\r\n        // now ByteArrayOutputStream resultout contains the XLSX file data\r\n\r\n        // writing this data into a file\r\n        if(fileout != null) {\r\n            resultout.writeTo(fileout);\r\n            resultout.close();\r\n        }\r\n    }\r\n}\r\n```","title":"How to create and write to Excel file (.xlsx)?","body":"<p>update of Axel Richter's answer:</p>\n\n<ul>\n<li>add cell dynamically</li>\n<li>unlimited columns (not only 26)</li>\n</ul>\n\n<pre><code>import java.io.ByteArrayOutputStream;\nimport java.io.FileOutputStream;\nimport java.text.SimpleDateFormat;\nimport java.util.ArrayList;\nimport java.util.Calendar;\nimport java.util.zip.ZipEntry;\nimport java.util.zip.ZipOutputStream;\n\npublic class CreatePlainXLSX {\n\n    //some static parts of the XLSX file:\n\n    static String content_types_xml = \"&lt;?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\" standalone=\\\"no\\\"?&gt;&lt;Types xmlns=\\\"http://schemas.openxmlformats.org/package/2006/content-types\\\"&gt;&lt;Default ContentType=\\\"application/vnd.openxmlformats-package.relationships+xml\\\" Extension=\\\"rels\\\"/&gt;&lt;Default ContentType=\\\"application/xml\\\" Extension=\\\"xml\\\"/&gt;&lt;Override ContentType=\\\"application/vnd.openxmlformats-officedocument.extended-properties+xml\\\" PartName=\\\"/docProps/app.xml\\\"/&gt;&lt;Override ContentType=\\\"application/vnd.openxmlformats-package.core-properties+xml\\\" PartName=\\\"/docProps/core.xml\\\"/&gt;&lt;Override ContentType=\\\"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml\\\" PartName=\\\"/xl/sharedStrings.xml\\\"/&gt;&lt;Override ContentType=\\\"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml\\\" PartName=\\\"/xl/styles.xml\\\"/&gt;&lt;Override ContentType=\\\"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml\\\" PartName=\\\"/xl/workbook.xml\\\"/&gt;&lt;Override ContentType=\\\"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml\\\" PartName=\\\"/xl/worksheets/sheet1.xml\\\"/&gt;&lt;/Types&gt;\";\n\n    static String docProps_app_xml = \"&lt;?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?&gt;&lt;Properties xmlns=\\\"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties\\\"&gt;&lt;Application&gt;\" + \"Created Low level From Scratch\" + \"&lt;/Application&gt;&lt;/Properties&gt;\";\n\n    static SimpleDateFormat formatter = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ss'Z'\");\n\n    static String docProps_core_xml = \"&lt;?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\" standalone=\\\"no\\\"?&gt;&lt;cp:coreProperties xmlns:cp=\\\"http://schemas.openxmlformats.org/package/2006/metadata/core-properties\\\" xmlns:dc=\\\"http://purl.org/dc/elements/1.1/\\\" xmlns:dcterms=\\\"http://purl.org/dc/terms/\\\" xmlns:xsi=\\\"http://www.w3.org/2001/XMLSchema-instance\\\"&gt;&lt;dcterms:created xsi:type=\\\"dcterms:W3CDTF\\\"&gt;\" + formatter.format(Calendar.getInstance().getTime()) /*java.time.Instant.now().truncatedTo(java.time.temporal.ChronoUnit.SECONDS).toString()*/ + \"&lt;/dcterms:created&gt;&lt;dc:creator&gt;\" + \"Axel Richter from scratch\" + \"&lt;/dc:creator&gt;&lt;/cp:coreProperties&gt;\";\n\n    static String _rels_rels_xml  = \"&lt;?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\" standalone=\\\"no\\\"?&gt;&lt;Relationships xmlns=\\\"http://schemas.openxmlformats.org/package/2006/relationships\\\"&gt;&lt;Relationship Id=\\\"rId1\\\" Target=\\\"xl/workbook.xml\\\" Type=\\\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument\\\"/&gt;&lt;Relationship Id=\\\"rId2\\\" Target=\\\"docProps/app.xml\\\" Type=\\\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties\\\"/&gt;&lt;Relationship Id=\\\"rId3\\\" Target=\\\"docProps/core.xml\\\" Type=\\\"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties\\\"/&gt;&lt;/Relationships&gt;\";\n\n    static String xl_rels_workbook_xml_rels_xml = \"&lt;?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\" standalone=\\\"no\\\"?&gt;&lt;Relationships xmlns=\\\"http://schemas.openxmlformats.org/package/2006/relationships\\\"&gt;&lt;Relationship Id=\\\"rId1\\\" Target=\\\"sharedStrings.xml\\\" Type=\\\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings\\\"/&gt;&lt;Relationship Id=\\\"rId2\\\" Target=\\\"styles.xml\\\" Type=\\\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles\\\"/&gt;&lt;Relationship Id=\\\"rId3\\\" Target=\\\"worksheets/sheet1.xml\\\" Type=\\\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet\\\"/&gt;&lt;/Relationships&gt;\";\n\n    static String xl_sharedstrings_xml = \"&lt;?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?&gt;&lt;sst count=\\\"0\\\" uniqueCount=\\\"0\\\" xmlns=\\\"http://schemas.openxmlformats.org/spreadsheetml/2006/main\\\"/&gt;\";\n\n    static String xl_styles_xml = \"&lt;?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?&gt;&lt;styleSheet xmlns=\\\"http://schemas.openxmlformats.org/spreadsheetml/2006/main\\\"&gt;&lt;numFmts count=\\\"0\\\"/&gt;&lt;fonts count=\\\"1\\\"&gt;&lt;font&gt;&lt;sz val=\\\"11.0\\\"/&gt;&lt;color indexed=\\\"8\\\"/&gt;&lt;name val=\\\"Calibri\\\"/&gt;&lt;family val=\\\"2\\\"/&gt;&lt;scheme val=\\\"minor\\\"/&gt;&lt;/font&gt;&lt;/fonts&gt;&lt;fills count=\\\"2\\\"&gt;&lt;fill&gt;&lt;patternFill patternType=\\\"none\\\"/&gt;&lt;/fill&gt;&lt;fill&gt;&lt;patternFill patternType=\\\"darkGray\\\"/&gt;&lt;/fill&gt;&lt;/fills&gt;&lt;borders count=\\\"1\\\"&gt;&lt;border&gt;&lt;left/&gt;&lt;right/&gt;&lt;top/&gt;&lt;bottom/&gt;&lt;diagonal/&gt;&lt;/border&gt;&lt;/borders&gt;&lt;cellStyleXfs count=\\\"1\\\"&gt;&lt;xf numFmtId=\\\"0\\\" fontId=\\\"0\\\" fillId=\\\"0\\\" borderId=\\\"0\\\"/&gt;&lt;/cellStyleXfs&gt;&lt;cellXfs count=\\\"1\\\"&gt;&lt;xf numFmtId=\\\"0\\\" fontId=\\\"0\\\" fillId=\\\"0\\\" borderId=\\\"0\\\" xfId=\\\"0\\\"/&gt;&lt;/cellXfs&gt;&lt;/styleSheet&gt;\";\n\n    static String xl_workbook_xml = \"&lt;?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?&gt;&lt;workbook xmlns=\\\"http://schemas.openxmlformats.org/spreadsheetml/2006/main\\\" xmlns:r=\\\"http://schemas.openxmlformats.org/officeDocument/2006/relationships\\\"&gt;&lt;workbookPr date1904=\\\"false\\\"/&gt;&lt;bookViews&gt;&lt;workbookView activeTab=\\\"0\\\"/&gt;&lt;/bookViews&gt;&lt;sheets&gt;&lt;sheet name=\\\"\" + \"Sheet1\" + \"\\\" r:id=\\\"rId3\\\" sheetId=\\\"1\\\"/&gt;&lt;/sheets&gt;&lt;/workbook&gt;\";\n\n    static String xl_worksheets_sheet1_xml = \"&lt;?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?&gt;&lt;worksheet xmlns=\\\"http://schemas.openxmlformats.org/spreadsheetml/2006/main\\\"&gt;&lt;dimension ref=\\\"A1\\\"/&gt;&lt;sheetViews&gt;&lt;sheetView workbookViewId=\\\"0\\\" tabSelected=\\\"true\\\"/&gt;&lt;/sheetViews&gt;&lt;sheetFormatPr defaultRowHeight=\\\"15.0\\\"/&gt;&lt;sheetData/&gt;&lt;pageMargins bottom=\\\"0.75\\\" footer=\\\"0.3\\\" header=\\\"0.3\\\" left=\\\"0.7\\\" right=\\\"0.7\\\" top=\\\"0.75\\\"/&gt;&lt;/worksheet&gt;\";\n\n\n    ArrayList&lt;ArrayList&lt;Object&gt;&gt; sheetDat = new ArrayList&lt;&gt;();\n\n    public CreatePlainXLSX() {\n        sheetDat.add(0, new ArrayList&lt;&gt;());\n    }\n\n    public void addCell(int rowNum, int cellNum, Object value) {\n\n        if (sheetDat.size() &lt;= rowNum){\n            for (int a = sheetDat.size(); a &lt;= rowNum; a++) {\n                sheetDat.add(new ArrayList&lt;&gt;());\n            }\n        }\n\n        if (sheetDat.get(rowNum).size() &lt;= cellNum) {\n            for (int a = sheetDat.get(rowNum).size(); a &lt;= cellNum; a++) {\n                sheetDat.get(rowNum).add(\"\");\n            }\n        }\n        sheetDat.get(rowNum).set(cellNum, value);\n    }\n\n    private static int toNumber(String name) {\n        int number = 0;\n        for (int i = 0; i &lt; name.length(); i++) {\n            number = number * 26 + (name.charAt(i) - ('A' - 1));\n        }\n        return number;\n    }\n\n    private static String toName(int number) {\n        StringBuilder sb = new StringBuilder();\n        while (number-- &gt; 0) {\n            sb.append((char)('A' + (number % 26)));\n            number /= 26;\n        }\n        return sb.reverse().toString();\n    }\n\n    private String incrementColumnR(String a){\n        return toName(toNumber(a) + 1);\n    }\n\n    public void exportToFile(FileOutputStream fileout) throws Exception {\n\n        // result goes into a ByteArrayOutputStream\n        ByteArrayOutputStream resultout = new ByteArrayOutputStream();\n\n        // needed objects\n        ZipEntry zipentry;\n        byte[] data;\n\n        // create ZipOutputStream\n        ZipOutputStream zipout = new ZipOutputStream(resultout);\n\n        // create the static parts of the XLSX ZIP file:\n\n        zipentry = new ZipEntry(\"[Content_Types].xml\");\n        zipout.putNextEntry(zipentry);\n        data = content_types_xml.getBytes();\n        zipout.write(data, 0, data.length);\n        zipout.closeEntry();\n\n        zipentry = new ZipEntry(\"docProps/app.xml\");\n        zipout.putNextEntry(zipentry);\n        data = docProps_app_xml.getBytes();\n        zipout.write(data, 0, data.length);\n        zipout.closeEntry();\n\n        zipentry = new ZipEntry(\"docProps/core.xml\");\n        zipout.putNextEntry(zipentry);\n        data = docProps_core_xml.getBytes();\n        zipout.write(data, 0, data.length);\n        zipout.closeEntry();\n\n        zipentry = new ZipEntry(\"_rels/.rels\");\n        zipout.putNextEntry(zipentry);\n        data = _rels_rels_xml.getBytes();\n        zipout.write(data, 0, data.length);\n        zipout.closeEntry();\n\n        zipentry = new ZipEntry(\"xl/_rels/workbook.xml.rels\");\n        zipout.putNextEntry(zipentry);\n        data = xl_rels_workbook_xml_rels_xml.getBytes();\n        zipout.write(data, 0, data.length);\n        zipout.closeEntry();\n\n        zipentry = new ZipEntry(\"xl/sharedStrings.xml\");\n        zipout.putNextEntry(zipentry);\n        data = xl_sharedstrings_xml.getBytes();\n        zipout.write(data, 0, data.length);\n        zipout.closeEntry();\n\n        zipentry = new ZipEntry(\"xl/styles.xml\");\n        zipout.putNextEntry(zipentry);\n        data = xl_styles_xml.getBytes();\n        zipout.write(data, 0, data.length);\n        zipout.closeEntry();\n\n        zipentry = new ZipEntry(\"xl/workbook.xml\");\n        zipout.putNextEntry(zipentry);\n        data = xl_workbook_xml.getBytes();\n        zipout.write(data, 0, data.length);\n        zipout.closeEntry();\n\n        // preparing the sheet data:\n\n        String sheetdata = \"&lt;sheetData&gt;\";\n        int r = 0;\n        String c = toName(0);\n        ArrayList&lt;ArrayList&lt;Object&gt;&gt; sheet = sheetDat;\n        for (ArrayList&lt;Object&gt; rowData : sheet) {\n            sheetdata += \"&lt;row r=\\\"\" + ++r + \"\\\"&gt;\";\n            c = toName(0);\n            for (Object cellData : rowData) {\n                c = incrementColumnR(c);\n                sheetdata += \"&lt;c r=\\\"\" + c + r + \"\\\"\";\n                if (cellData instanceof String &amp;&amp; ((String) cellData).startsWith(\"=\")) {\n                    sheetdata += \"&gt;&lt;f&gt;\" + ((String) cellData).replace(\"=\", \"\") + \"&lt;/f&gt;&lt;/c&gt;\";\n                } else if (cellData instanceof String) {\n                    sheetdata += \" t=\\\"inlineStr\\\"&gt;&lt;is&gt;&lt;t&gt;\" + cellData + \"&lt;/t&gt;&lt;/is&gt;&lt;/c&gt;\";\n                } else if (cellData instanceof Double || cellData instanceof Integer) {\n                    sheetdata += \"&gt;&lt;v&gt;\" + cellData + \"&lt;/v&gt;&lt;/c&gt;\";\n                }\n            }\n            sheetdata += \"&lt;/row&gt;\";\n        }\n        sheetdata += \"&lt;/sheetData&gt;\";\n\n        // get the static sheet xml into a buffer for further processing\n        StringBuffer xl_worksheets_sheet1_xml_buffer = new StringBuffer(xl_worksheets_sheet1_xml);\n\n        // get position of the &lt;dimension ref=\\\"A1\\\"/&gt; in the static xl_worksheets_sheet1_xml\n        int dimensionstart = xl_worksheets_sheet1_xml_buffer.indexOf(\"&lt;dimension ref=\\\"A1\\\"/&gt;\");\n        // replace the &lt;dimension ref=\\\"A1\\\"/&gt; with the new dimension\n        xl_worksheets_sheet1_xml_buffer = xl_worksheets_sheet1_xml_buffer.replace(\n                dimensionstart,\n                dimensionstart + \"&lt;dimension ref=\\\"A1\\\"/&gt;\".length(),\n                \"&lt;dimension ref=\\\"A1:\" + c + r + \"\\\"/&gt;\");\n\n        // get position of the &lt;sheetData/&gt; in the static xl_worksheets_sheet1_xml\n        int sheetdatastart = xl_worksheets_sheet1_xml_buffer.indexOf(\"&lt;sheetData/&gt;\");\n        // replace the &lt;sheetData/&gt; with the prepared sheet date string\n        xl_worksheets_sheet1_xml_buffer = xl_worksheets_sheet1_xml_buffer.replace(\n                sheetdatastart,\n                sheetdatastart + \"&lt;sheetData/&gt;\".length(),\n                sheetdata);\n\n        // create the xl/worksheets/sheet1.xml\n        zipentry = new ZipEntry(\"xl/worksheets/sheet1.xml\");\n        zipout.putNextEntry(zipentry);\n        data = xl_worksheets_sheet1_xml_buffer.toString().getBytes();\n        zipout.write(data, 0, data.length);\n        zipout.closeEntry();\n\n        zipout.finish();\n\n        // now ByteArrayOutputStream resultout contains the XLSX file data\n\n        // writing this data into a file\n        if(fileout != null) {\n            resultout.writeTo(fileout);\n            resultout.close();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25546975,"reputation":1,"user_id":19332133,"display_name":"Katarina Karadzic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655143459,"creation_date":1655143459,"answer_id":72607267,"question_id":50738119,"body_markdown":"Or if you need to add values manually, up to row AZ, change this part of Axel Richter&#39;s answer:\r\n\r\nFROM\r\n\r\n    String sheetdata = &quot;&lt;sheetData&gt;&quot;;\r\n            int r = 0;\r\n            String c = toName(0);\r\n            ArrayList&lt;ArrayList&lt;Object&gt;&gt; sheet = sheetDat;\r\n            for (ArrayList&lt;Object&gt; rowData : sheet) {\r\n                sheetdata += &quot;&lt;row r=\\&quot;&quot; + ++r + &quot;\\&quot;&gt;&quot;;\r\n                c = toName(0);\r\n                for (Object cellData : rowData) {\r\n                    c = incrementColumnR(c);\r\n                    sheetdata += &quot;&lt;c r=\\&quot;&quot; + c + r + &quot;\\&quot;&quot;;\r\n                    if (cellData instanceof String &amp;&amp; ((String) cellData).startsWith(&quot;=&quot;)) {\r\n                        sheetdata += &quot;&gt;&lt;f&gt;&quot; + ((String) cellData).replace(&quot;=&quot;, &quot;&quot;) + &quot;&lt;/f&gt;&lt;/c&gt;&quot;;\r\n                    } else if (cellData instanceof String) {\r\n                        sheetdata += &quot; t=\\&quot;inlineStr\\&quot;&gt;&lt;is&gt;&lt;t&gt;&quot; + cellData + &quot;&lt;/t&gt;&lt;/is&gt;&lt;/c&gt;&quot;;\r\n                    } else if (cellData instanceof Double || cellData instanceof Integer) {\r\n                        sheetdata += &quot;&gt;&lt;v&gt;&quot; + cellData + &quot;&lt;/v&gt;&lt;/c&gt;&quot;;\r\n                    }\r\n                }\r\n                sheetdata += &quot;&lt;/row&gt;&quot;;\r\n            }\r\n            sheetdata += &quot;&lt;/sheetData&gt;&quot;;\r\n\t\t\r\n\r\nTO \r\n\r\n    String sheetdata = &quot;&lt;sheetData&gt;&quot;;\r\n\t\tint column = 0;\r\n\t\tint r = 0;\r\n\t\tchar c = &#39;A&#39;;\r\n\t\t--c;\r\n\t\tfor (Object[] rowData : sheetData) {\r\n\t\t\tsheetdata += &quot;&lt;row r=\\&quot;&quot; + ++r + &quot;\\&quot;&gt;&quot;;\r\n\t\t\tcolumn = 0;\r\n\t\t\tc = &#39;A&#39;;\r\n\t\t\t--c;\r\n\t\t\tfor (Object cellData : rowData) {\r\n\t\t\t\tif (column &gt; 25 || ((Character.isLetter(c) &amp;&amp; Character.isUpperCase(c)) || c == &#39;@&#39;)) {\r\n\t\t\t\t\tif (column &gt; 25) {\r\n\t\t\t\t\t\tif (column == 26) {\r\n\t\t\t\t\t\t\tc = &#39;A&#39;;\r\n\t\t\t\t\t\t\t--c;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tsheetdata += &quot;&lt;c r=\\&quot;&quot; + &quot;A&quot; + Character.toString(++c) + r + &quot;\\&quot;&quot;;\r\n\t\t\t\t\t} else if ((Character.isLetter(c) &amp;&amp; Character.isUpperCase(c)) || c == &#39;@&#39;) {\r\n\t\t\t\t\t\tsheetdata += &quot;&lt;c r=\\&quot;&quot; + Character.toString(++c) + r + &quot;\\&quot;&quot;;\r\n\t\t\t\t\t}\t\r\n\t\t\t\t\tcolumn++;\r\n\t\t\t\t\tif (cellData instanceof String &amp;&amp; ((String) cellData).startsWith(&quot;=&quot;)) {\r\n\t\t\t\t\t\tsheetdata += &quot;&gt;&lt;f&gt;&quot; + ((String) cellData).replace(&quot;=&quot;, &quot;&quot;) + &quot;&lt;/f&gt;&lt;/c&gt;&quot;;\r\n\t\t\t\t\t} else if (cellData instanceof String) {\r\n\t\t\t\t\t\tsheetdata += &quot; t=\\&quot;inlineStr\\&quot;&gt;&lt;is&gt;&lt;t&gt;&quot; + ((String) cellData) + &quot;&lt;/t&gt;&lt;/is&gt;&lt;/c&gt;&quot;;\r\n\t\t\t\t\t} else if (cellData instanceof Double) {\r\n\t\t\t\t\t\tsheetdata += &quot;&gt;&lt;v&gt;&quot; + ((Double) cellData) + &quot;&lt;/v&gt;&lt;/c&gt;&quot;;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tsheetdata += &quot;&lt;/row&gt;&quot;;\r\n\t\t}","title":"How to create and write to Excel file (.xlsx)?","body":"<p>Or if you need to add values manually, up to row AZ, change this part of Axel Richter's answer:</p>\n<p>FROM</p>\n<pre><code>String sheetdata = &quot;&lt;sheetData&gt;&quot;;\n        int r = 0;\n        String c = toName(0);\n        ArrayList&lt;ArrayList&lt;Object&gt;&gt; sheet = sheetDat;\n        for (ArrayList&lt;Object&gt; rowData : sheet) {\n            sheetdata += &quot;&lt;row r=\\&quot;&quot; + ++r + &quot;\\&quot;&gt;&quot;;\n            c = toName(0);\n            for (Object cellData : rowData) {\n                c = incrementColumnR(c);\n                sheetdata += &quot;&lt;c r=\\&quot;&quot; + c + r + &quot;\\&quot;&quot;;\n                if (cellData instanceof String &amp;&amp; ((String) cellData).startsWith(&quot;=&quot;)) {\n                    sheetdata += &quot;&gt;&lt;f&gt;&quot; + ((String) cellData).replace(&quot;=&quot;, &quot;&quot;) + &quot;&lt;/f&gt;&lt;/c&gt;&quot;;\n                } else if (cellData instanceof String) {\n                    sheetdata += &quot; t=\\&quot;inlineStr\\&quot;&gt;&lt;is&gt;&lt;t&gt;&quot; + cellData + &quot;&lt;/t&gt;&lt;/is&gt;&lt;/c&gt;&quot;;\n                } else if (cellData instanceof Double || cellData instanceof Integer) {\n                    sheetdata += &quot;&gt;&lt;v&gt;&quot; + cellData + &quot;&lt;/v&gt;&lt;/c&gt;&quot;;\n                }\n            }\n            sheetdata += &quot;&lt;/row&gt;&quot;;\n        }\n        sheetdata += &quot;&lt;/sheetData&gt;&quot;;\n    \n</code></pre>\n<p>TO</p>\n<pre><code>String sheetdata = &quot;&lt;sheetData&gt;&quot;;\n    int column = 0;\n    int r = 0;\n    char c = 'A';\n    --c;\n    for (Object[] rowData : sheetData) {\n        sheetdata += &quot;&lt;row r=\\&quot;&quot; + ++r + &quot;\\&quot;&gt;&quot;;\n        column = 0;\n        c = 'A';\n        --c;\n        for (Object cellData : rowData) {\n            if (column &gt; 25 || ((Character.isLetter(c) &amp;&amp; Character.isUpperCase(c)) || c == '@')) {\n                if (column &gt; 25) {\n                    if (column == 26) {\n                        c = 'A';\n                        --c;\n                    }\n                    sheetdata += &quot;&lt;c r=\\&quot;&quot; + &quot;A&quot; + Character.toString(++c) + r + &quot;\\&quot;&quot;;\n                } else if ((Character.isLetter(c) &amp;&amp; Character.isUpperCase(c)) || c == '@') {\n                    sheetdata += &quot;&lt;c r=\\&quot;&quot; + Character.toString(++c) + r + &quot;\\&quot;&quot;;\n                }   \n                column++;\n                if (cellData instanceof String &amp;&amp; ((String) cellData).startsWith(&quot;=&quot;)) {\n                    sheetdata += &quot;&gt;&lt;f&gt;&quot; + ((String) cellData).replace(&quot;=&quot;, &quot;&quot;) + &quot;&lt;/f&gt;&lt;/c&gt;&quot;;\n                } else if (cellData instanceof String) {\n                    sheetdata += &quot; t=\\&quot;inlineStr\\&quot;&gt;&lt;is&gt;&lt;t&gt;&quot; + ((String) cellData) + &quot;&lt;/t&gt;&lt;/is&gt;&lt;/c&gt;&quot;;\n                } else if (cellData instanceof Double) {\n                    sheetdata += &quot;&gt;&lt;v&gt;&quot; + ((Double) cellData) + &quot;&lt;/v&gt;&lt;/c&gt;&quot;;\n                }\n            }\n        }\n        sheetdata += &quot;&lt;/row&gt;&quot;;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17318068,"reputation":141,"user_id":12544067,"display_name":"mxkmn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699709498,"creation_date":1695637394,"answer_id":77171826,"question_id":50738119,"body_markdown":"Based on all answers here, i made Kotlin implementation, which gets 2D array of strings and adds to .xlsx table, which outputs as ByteArray. You can save it via [SAF][1]. Also, in this solution, I came up with and added a hack with sheetDataBigStrings that allows you to save a lot more data on devices with small amounts of RAM (it works on Android Go 10 device with 2 GB of RAM, original code doesn&#39;t).\r\n\r\n    import android.annotation.SuppressLint\r\n    import java.io.ByteArrayOutputStream\r\n    import java.text.SimpleDateFormat\r\n    import java.util.Calendar\r\n    import java.util.zip.ZipEntry\r\n    import java.util.zip.ZipOutputStream\r\n    \r\n    private const val ALPHABET_LENGTH = 26\r\n    private const val MAX_UNCOMBINED_STRING_LENGTH = 20000000\r\n    \r\n    class ConvertTableToExcelFileUseCase {\r\n        operator fun invoke(sheet: List&lt;List&lt;String&gt;&gt;): ByteArray {\r\n            val result = ByteArrayOutputStream()\r\n            val zip = ZipOutputStream(result)\r\n            val xlsxParts = listOf(\r\n                &quot;[Content_Types].xml&quot; to CONTENT_TYPES_XML,\r\n                &quot;docProps/app.xml&quot; to DOC_PROPS_APP_XML,\r\n                &quot;docProps/core.xml&quot; to DOC_PROPS_CORE_XML,\r\n                &quot;_rels/.rels&quot; to RELS_RELS_XML,\r\n                &quot;xl/_rels/workbook.xml.rels&quot; to XL_RELS_WORKBOOK_XML_RELS_XML,\r\n                &quot;xl/sharedStrings.xml&quot; to XL_SHARED_STRINGS_XML,\r\n                &quot;xl/styles.xml&quot; to XL_STYLES_XML,\r\n                &quot;xl/workbook.xml&quot; to XL_WORKBOOK_XML,\r\n                &quot;xl/worksheets/sheet1.xml&quot; to excelSheetCreator(sheet),\r\n            )\r\n    \r\n            xlsxParts.forEach { (name, data) -&gt;\r\n                zip.putNextEntry(ZipEntry(name))\r\n                val dataByteArray = data.toByteArray()\r\n                zip.write(dataByteArray, 0, dataByteArray.size)\r\n                zip.closeEntry()\r\n            }\r\n            zip.finish()\r\n            return result.toByteArray()\r\n        }\r\n    \r\n        private fun excelSheetCreator(sheet: List&lt;List&lt;String&gt;&gt;): String {\r\n            // preparing the sheet data\r\n            var row = 0\r\n            var column = &quot;&quot;\r\n            val sheetDataStr = let {\r\n                var sheetData = StringBuilder(&quot;&lt;sheetData&gt;&quot;)\r\n                val sheetDataBigStrings = StringBuilder()\r\n                for (rowData in sheet) {\r\n                    sheetData.append(&quot;&lt;row r=\\&quot;&quot; + ++row + &quot;\\&quot;&gt;&quot;)\r\n                    column = toName(0)\r\n                    for (cellData in rowData) {\r\n                        column = incrementColumn(column)\r\n                        sheetData.append(\r\n                            &quot;&lt;c r=\\&quot;$column$row\\&quot;&quot; +\r\n                                if (cellData.startsWith(&quot;=&quot;)) {\r\n                                    &quot;&gt;&lt;f&gt;${cellData.replace(&quot;=&quot;, &quot;&quot;)}&lt;/f&gt;&lt;/c&gt;&quot;\r\n                                } else if (cellData.toDoubleOrNull() != null) {\r\n                                    &quot;&gt;&lt;v&gt;$cellData&lt;/v&gt;&lt;/c&gt;&quot;\r\n                                } else {\r\n                                    &quot; t=\\&quot;inlineStr\\&quot;&gt;&lt;is&gt;&lt;t&gt;$cellData&lt;/t&gt;&lt;/is&gt;&lt;/c&gt;&quot;\r\n                                },\r\n                        )\r\n                    }\r\n                    sheetData.append(&quot;&lt;/row&gt;&quot;)\r\n    \r\n                    // hack to please OutOfMemoryError on Android Go devices,\r\n                    // which combines many small strings into a single string\r\n                    if (sheetData.length &gt; MAX_UNCOMBINED_STRING_LENGTH) {\r\n                        sheetDataBigStrings.append(sheetData)\r\n                        sheetData = StringBuilder()\r\n                    }\r\n                }\r\n                sheetData.append(&quot;&lt;/sheetData&gt;&quot;)\r\n                sheetDataBigStrings.append(sheetData)\r\n    \r\n                sheetDataBigStrings.toString()\r\n            }\r\n    \r\n            // get the static sheet xml into a buffer for further processing\r\n            var excelSheetXmlBuffer = StringBuffer(XL_WORKSHEETS_SHEET1_XML)\r\n    \r\n            // get position of the &lt;dimension ref=\\&quot;A1\\&quot;/&gt; in the static xl_worksheets_sheet1_xml\r\n            val dimensionStart = excelSheetXmlBuffer.indexOf(&quot;&lt;dimension ref=\\&quot;A1\\&quot;/&gt;&quot;)\r\n            // replace the &lt;dimension ref=\\&quot;A1\\&quot;/&gt; with the new dimension\r\n            excelSheetXmlBuffer = excelSheetXmlBuffer.replace(\r\n                dimensionStart,\r\n                dimensionStart + &quot;&lt;dimension ref=\\&quot;A1\\&quot;/&gt;&quot;.length,\r\n                &quot;&lt;dimension ref=\\&quot;A1:$column$row\\&quot;/&gt;&quot;,\r\n            )\r\n    \r\n            // get position of the &lt;sheetData/&gt; in the static xl_worksheets_sheet1_xml\r\n            val sheetDataStart = excelSheetXmlBuffer.indexOf(&quot;&lt;sheetData/&gt;&quot;)\r\n            // replace the &lt;sheetData/&gt; with the prepared sheet date string\r\n            excelSheetXmlBuffer = excelSheetXmlBuffer.replace(\r\n                sheetDataStart,\r\n                sheetDataStart + &quot;&lt;sheetData/&gt;&quot;.length,\r\n                sheetDataStr,\r\n            )\r\n    \r\n            return excelSheetXmlBuffer.toString()\r\n        }\r\n    \r\n        companion object {\r\n            @SuppressLint(&quot;SimpleDateFormat&quot;)\r\n            private val formatter = SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&#39;Z&#39;&quot;)\r\n    \r\n            private const val CONTENT_TYPES_XML =\r\n                &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot; standalone=\\&quot;no\\&quot;?&gt;&lt;Types xmlns=&quot; +\r\n                    &quot;\\&quot;http://schemas.openxmlformats.org/package/2006/content-types\\&quot;&gt;&lt;Default &quot; +\r\n                    &quot;ContentType=\\&quot;application/vnd.openxmlformats-package.relationships+xml\\&quot; &quot; +\r\n                    &quot;Extension=\\&quot;rels\\&quot;/&gt;&lt;Default ContentType=\\&quot;application/xml\\&quot; Extension=\\&quot;xml\\&quot;&quot; +\r\n                    &quot;/&gt;&lt;Override ContentType=\\&quot;application/vnd.openxmlformats-officedocument.&quot; +\r\n                    &quot;extended-properties+xml\\&quot; PartName=\\&quot;/docProps/app.xml\\&quot;/&gt;&lt;Override ContentType&quot; +\r\n                    &quot;=\\&quot;application/vnd.openxmlformats-package.core-properties+xml\\&quot; PartName=&quot; +\r\n                    &quot;\\&quot;/docProps/core.xml\\&quot;/&gt;&lt;Override ContentType=\\&quot;application/vnd.openxmlformats-&quot; +\r\n                    &quot;officedocument.spreadsheetml.sharedStrings+xml\\&quot; PartName=\\&quot;/xl/sharedStrings.&quot; +\r\n                    &quot;xml\\&quot;/&gt;&lt;Override ContentType=\\&quot;application/vnd.openxmlformats-officedocument.&quot; +\r\n                    &quot;spreadsheetml.styles+xml\\&quot; PartName=\\&quot;/xl/styles.xml\\&quot;/&gt;&lt;Override ContentType=&quot; +\r\n                    &quot;\\&quot;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml\\&quot; &quot; +\r\n                    &quot;PartName=\\&quot;/xl/workbook.xml\\&quot;/&gt;&lt;Override ContentType=\\&quot;application/vnd.openxml&quot; +\r\n                    &quot;formats-officedocument.spreadsheetml.worksheet+xml\\&quot; PartName=\\&quot;/xl/worksheets/&quot; +\r\n                    &quot;sheet1.xml\\&quot;/&gt;&lt;/Types&gt;&quot;\r\n            private const val DOC_PROPS_APP_XML =\r\n                &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;&lt;Properties xmlns=&quot; +\r\n                    &quot;\\&quot;http://schemas.openxmlformats.org/officeDocument/2006/extended-properties\\&quot;&quot; +\r\n                    &quot;&gt;&lt;Application&gt;Created Low level From Scratch&lt;/Application&gt;&lt;/Properties&gt;&quot;\r\n            private val DOC_PROPS_CORE_XML =\r\n                &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot; standalone=\\&quot;no\\&quot;?&gt;&lt;cp:coreProperties xmlns&quot; +\r\n                    &quot;:cp=\\&quot;http://schemas.openxmlformats.org/package/2006/metadata/core-properties\\&quot; &quot; +\r\n                    &quot;xmlns:dc=\\&quot;http://purl.org/dc/elements/1.1/\\&quot; xmlns:dcterms=\\&quot;http://purl.org/&quot; +\r\n                    &quot;dc/terms/\\&quot; xmlns:xsi=\\&quot;http://www.w3.org/2001/XMLSchema-instance\\&quot;&gt;&quot; +\r\n                    &quot;&lt;dcterms:created xsi:type=\\&quot;dcterms:W3CDTF\\&quot;&gt;&quot; +\r\n                    formatter.format(Calendar.getInstance().time) +\r\n                    &quot;&lt;/dcterms:created&gt;&lt;dc:creator&gt;Autogenerated&lt;/dc:creator&gt;&lt;/cp:coreProperties&gt;&quot;\r\n            private const val RELS_RELS_XML =\r\n                &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot; standalone=\\&quot;no\\&quot;?&gt;&lt;Relationships xmlns=&quot; +\r\n                    &quot;\\&quot;http://schemas.openxmlformats.org/package/2006/relationships\\&quot;&gt;&lt;Relationship &quot; +\r\n                    &quot;Id=\\&quot;rId1\\&quot; Target=\\&quot;xl/workbook.xml\\&quot; Type=\\&quot;http://schemas.openxml&quot; +\r\n                    &quot;formats.org/officeDocument/2006/relationships/officeDocument\\&quot;/&gt;&lt;Relationship &quot; +\r\n                    &quot;Id=\\&quot;rId2\\&quot; Target=\\&quot;docProps/app.xml\\&quot; Type=\\&quot;http://schemas.openxmlformats&quot; +\r\n                    &quot;.org/officeDocument/2006/relationships/extended-properties\\&quot;/&gt;&lt;Relationship Id=&quot; +\r\n                    &quot;\\&quot;rId3\\&quot; Target=\\&quot;docProps/core.xml\\&quot; Type=\\&quot;http://schemas.openxmlformats&quot; +\r\n                    &quot;.org/package/2006/relationships/metadata/core-properties\\&quot;/&gt;&lt;/Relationships&gt;&quot;\r\n            private const val XL_RELS_WORKBOOK_XML_RELS_XML =\r\n                &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot; standalone=\\&quot;no\\&quot;?&gt;&lt;Relationships xmlns=&quot; +\r\n                    &quot;\\&quot;http://schemas.openxmlformats.org/package/2006/relationships\\&quot;&gt;&lt;Relationship &quot; +\r\n                    &quot;Id=\\&quot;rId1\\&quot; Target=\\&quot;sharedStrings.xml\\&quot; Type=\\&quot;http://schemas.openxmlformats&quot; +\r\n                    &quot;.org/officeDocument/2006/relationships/sharedStrings\\&quot;/&gt;&lt;Relationship Id=&quot; +\r\n                    &quot;\\&quot;rId2\\&quot; Target=\\&quot;styles.xml\\&quot; Type=\\&quot;http://schemas.openxmlformats.org/&quot; +\r\n                    &quot;officeDocument/2006/relationships/styles\\&quot;/&gt;&lt;Relationship Id=\\&quot;rId3\\&quot; &quot; +\r\n                    &quot;Target=\\&quot;worksheets/sheet1.xml\\&quot; Type=\\&quot;http://schemas.openxml&quot; +\r\n                    &quot;formats.org/officeDocument/2006/relationships/worksheet\\&quot;/&gt;&lt;/Relationships&gt;&quot;\r\n            private const val XL_SHARED_STRINGS_XML =\r\n                &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;&lt;sst count=\\&quot;0\\&quot; uniqueCount=\\&quot;0\\&quot; &quot; +\r\n                    &quot;xmlns=\\&quot;http://schemas.openxmlformats.org/spreadsheetml/2006/main\\&quot;/&gt;&quot;\r\n            private const val XL_STYLES_XML =\r\n                &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;&lt;styleSheet xmlns=\\&quot;http://schemas.&quot; +\r\n                    &quot;openxmlformats.org/spreadsheetml/2006/main\\&quot;&gt;&lt;numFmts count=\\&quot;0\\&quot;/&gt;&lt;fonts count=&quot; +\r\n                    &quot;\\&quot;1\\&quot;&gt;&lt;font&gt;&lt;sz val=\\&quot;11.0\\&quot;/&gt;&lt;color indexed=\\&quot;8\\&quot;/&gt;&lt;name val=\\&quot;Calibri\\&quot;/&gt;&lt;&quot; +\r\n                    &quot;family val=\\&quot;2\\&quot;/&gt;&lt;scheme val=\\&quot;minor\\&quot;/&gt;&lt;/font&gt;&lt;/fonts&gt;&lt;fills count=\\&quot;2\\&quot;&gt;&quot; +\r\n                    &quot;&lt;fill&gt;&lt;patternFill patternType=\\&quot;none\\&quot;/&gt;&lt;/fill&gt;&lt;fill&gt;&lt;patternFill patternType=&quot; +\r\n                    &quot;\\&quot;darkGray\\&quot;/&gt;&lt;/fill&gt;&lt;/fills&gt;&lt;borders count=\\&quot;1\\&quot;&gt;&lt;border&gt;&lt;left/&gt;&lt;right/&gt;&lt;top/&gt;&quot; +\r\n                    &quot;&lt;bottom/&gt;&lt;diagonal/&gt;&lt;/border&gt;&lt;/borders&gt;&lt;cellStyleXfs count=\\&quot;1\\&quot;&gt;&lt;xf numFmtId=&quot; +\r\n                    &quot;\\&quot;0\\&quot; fontId=\\&quot;0\\&quot; fillId=\\&quot;0\\&quot; borderId=\\&quot;0\\&quot;/&gt;&lt;/cellStyleXfs&gt;&lt;cellXfs count=&quot; +\r\n                    &quot;\\&quot;1\\&quot;&gt;&lt;xf numFmtId=\\&quot;0\\&quot; fontId=\\&quot;0\\&quot; fillId=\\&quot;0\\&quot; borderId=\\&quot;0\\&quot; xfId=\\&quot;0\\&quot;/&gt;&quot; +\r\n                    &quot;&lt;/cellXfs&gt;&lt;/styleSheet&gt;&quot;\r\n            private const val XL_WORKBOOK_XML =\r\n                &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;&lt;workbook xmlns=\\&quot;http://schemas.openxml&quot; +\r\n                    &quot;formats.org/spreadsheetml/2006/main\\&quot; xmlns:r=\\&quot;http://schemas.openxml&quot; +\r\n                    &quot;formats.org/officeDocument/2006/relationships\\&quot;&gt;&lt;workbookPr date1904=\\&quot;false\\&quot;/&gt;&quot; +\r\n                    &quot;&lt;bookViews&gt;&lt;workbookView activeTab=\\&quot;0\\&quot;/&gt;&lt;/bookViews&gt;&lt;sheets&gt;&lt;sheet name=\\&quot;&quot; +\r\n                    &quot;Sheet1\\&quot; r:id=\\&quot;rId3\\&quot; sheetId=\\&quot;1\\&quot;/&gt;&lt;/sheets&gt;&lt;/workbook&gt;&quot;\r\n            private const val XL_WORKSHEETS_SHEET1_XML =\r\n                &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;&lt;worksheet xmlns=\\&quot;http://schemas.openxml&quot; +\r\n                    &quot;formats.org/spreadsheetml/2006/main\\&quot;&gt;&lt;dimension ref=\\&quot;A1\\&quot;/&gt;&lt;sheetViews&gt;&lt;&quot; +\r\n                    &quot;sheetView workbookViewId=\\&quot;0\\&quot; tabSelected=\\&quot;true\\&quot;/&gt;&lt;/sheetViews&gt;&lt;sheetFormatPr&quot; +\r\n                    &quot; defaultRowHeight=\\&quot;15.0\\&quot;/&gt;&lt;sheetData/&gt;&lt;pageMargins bottom=\\&quot;0.75\\&quot; footer=&quot; +\r\n                    &quot;\\&quot;0.3\\&quot; header=\\&quot;0.3\\&quot; left=\\&quot;0.7\\&quot; right=\\&quot;0.7\\&quot; top=\\&quot;0.75\\&quot;/&gt;&lt;/worksheet&gt;&quot;\r\n    \r\n            private fun toNumber(name: String): Int {\r\n                var number = 0\r\n                for (element in name) {\r\n                    number = number * ALPHABET_LENGTH + (element.code - (&#39;A&#39;.code - 1))\r\n                }\r\n                return number\r\n            }\r\n    \r\n            private fun toName(number: Int): String {\r\n                val sb = StringBuilder()\r\n                var num = number\r\n                while (num-- &gt; 0) {\r\n                    sb.append((&#39;A&#39;.code + num % ALPHABET_LENGTH).toChar())\r\n                    num /= ALPHABET_LENGTH\r\n                }\r\n                return sb.reverse().toString()\r\n            }\r\n    \r\n            private fun incrementColumn(index: String): String {\r\n                return toName(toNumber(index) + 1)\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/77087157/12544067\r\n","title":"How to create and write to Excel file (.xlsx)?","body":"<p>Based on all answers here, i made Kotlin implementation, which gets 2D array of strings and adds to .xlsx table, which outputs as ByteArray. You can save it via <a href=\"https://stackoverflow.com/a/77087157/12544067\">SAF</a>. Also, in this solution, I came up with and added a hack with sheetDataBigStrings that allows you to save a lot more data on devices with small amounts of RAM (it works on Android Go 10 device with 2 GB of RAM, original code doesn't).</p>\n<pre><code>import android.annotation.SuppressLint\nimport java.io.ByteArrayOutputStream\nimport java.text.SimpleDateFormat\nimport java.util.Calendar\nimport java.util.zip.ZipEntry\nimport java.util.zip.ZipOutputStream\n\nprivate const val ALPHABET_LENGTH = 26\nprivate const val MAX_UNCOMBINED_STRING_LENGTH = 20000000\n\nclass ConvertTableToExcelFileUseCase {\n    operator fun invoke(sheet: List&lt;List&lt;String&gt;&gt;): ByteArray {\n        val result = ByteArrayOutputStream()\n        val zip = ZipOutputStream(result)\n        val xlsxParts = listOf(\n            &quot;[Content_Types].xml&quot; to CONTENT_TYPES_XML,\n            &quot;docProps/app.xml&quot; to DOC_PROPS_APP_XML,\n            &quot;docProps/core.xml&quot; to DOC_PROPS_CORE_XML,\n            &quot;_rels/.rels&quot; to RELS_RELS_XML,\n            &quot;xl/_rels/workbook.xml.rels&quot; to XL_RELS_WORKBOOK_XML_RELS_XML,\n            &quot;xl/sharedStrings.xml&quot; to XL_SHARED_STRINGS_XML,\n            &quot;xl/styles.xml&quot; to XL_STYLES_XML,\n            &quot;xl/workbook.xml&quot; to XL_WORKBOOK_XML,\n            &quot;xl/worksheets/sheet1.xml&quot; to excelSheetCreator(sheet),\n        )\n\n        xlsxParts.forEach { (name, data) -&gt;\n            zip.putNextEntry(ZipEntry(name))\n            val dataByteArray = data.toByteArray()\n            zip.write(dataByteArray, 0, dataByteArray.size)\n            zip.closeEntry()\n        }\n        zip.finish()\n        return result.toByteArray()\n    }\n\n    private fun excelSheetCreator(sheet: List&lt;List&lt;String&gt;&gt;): String {\n        // preparing the sheet data\n        var row = 0\n        var column = &quot;&quot;\n        val sheetDataStr = let {\n            var sheetData = StringBuilder(&quot;&lt;sheetData&gt;&quot;)\n            val sheetDataBigStrings = StringBuilder()\n            for (rowData in sheet) {\n                sheetData.append(&quot;&lt;row r=\\&quot;&quot; + ++row + &quot;\\&quot;&gt;&quot;)\n                column = toName(0)\n                for (cellData in rowData) {\n                    column = incrementColumn(column)\n                    sheetData.append(\n                        &quot;&lt;c r=\\&quot;$column$row\\&quot;&quot; +\n                            if (cellData.startsWith(&quot;=&quot;)) {\n                                &quot;&gt;&lt;f&gt;${cellData.replace(&quot;=&quot;, &quot;&quot;)}&lt;/f&gt;&lt;/c&gt;&quot;\n                            } else if (cellData.toDoubleOrNull() != null) {\n                                &quot;&gt;&lt;v&gt;$cellData&lt;/v&gt;&lt;/c&gt;&quot;\n                            } else {\n                                &quot; t=\\&quot;inlineStr\\&quot;&gt;&lt;is&gt;&lt;t&gt;$cellData&lt;/t&gt;&lt;/is&gt;&lt;/c&gt;&quot;\n                            },\n                    )\n                }\n                sheetData.append(&quot;&lt;/row&gt;&quot;)\n\n                // hack to please OutOfMemoryError on Android Go devices,\n                // which combines many small strings into a single string\n                if (sheetData.length &gt; MAX_UNCOMBINED_STRING_LENGTH) {\n                    sheetDataBigStrings.append(sheetData)\n                    sheetData = StringBuilder()\n                }\n            }\n            sheetData.append(&quot;&lt;/sheetData&gt;&quot;)\n            sheetDataBigStrings.append(sheetData)\n\n            sheetDataBigStrings.toString()\n        }\n\n        // get the static sheet xml into a buffer for further processing\n        var excelSheetXmlBuffer = StringBuffer(XL_WORKSHEETS_SHEET1_XML)\n\n        // get position of the &lt;dimension ref=\\&quot;A1\\&quot;/&gt; in the static xl_worksheets_sheet1_xml\n        val dimensionStart = excelSheetXmlBuffer.indexOf(&quot;&lt;dimension ref=\\&quot;A1\\&quot;/&gt;&quot;)\n        // replace the &lt;dimension ref=\\&quot;A1\\&quot;/&gt; with the new dimension\n        excelSheetXmlBuffer = excelSheetXmlBuffer.replace(\n            dimensionStart,\n            dimensionStart + &quot;&lt;dimension ref=\\&quot;A1\\&quot;/&gt;&quot;.length,\n            &quot;&lt;dimension ref=\\&quot;A1:$column$row\\&quot;/&gt;&quot;,\n        )\n\n        // get position of the &lt;sheetData/&gt; in the static xl_worksheets_sheet1_xml\n        val sheetDataStart = excelSheetXmlBuffer.indexOf(&quot;&lt;sheetData/&gt;&quot;)\n        // replace the &lt;sheetData/&gt; with the prepared sheet date string\n        excelSheetXmlBuffer = excelSheetXmlBuffer.replace(\n            sheetDataStart,\n            sheetDataStart + &quot;&lt;sheetData/&gt;&quot;.length,\n            sheetDataStr,\n        )\n\n        return excelSheetXmlBuffer.toString()\n    }\n\n    companion object {\n        @SuppressLint(&quot;SimpleDateFormat&quot;)\n        private val formatter = SimpleDateFormat(&quot;yyyy-MM-dd'T'HH:mm:ss'Z'&quot;)\n\n        private const val CONTENT_TYPES_XML =\n            &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot; standalone=\\&quot;no\\&quot;?&gt;&lt;Types xmlns=&quot; +\n                &quot;\\&quot;http://schemas.openxmlformats.org/package/2006/content-types\\&quot;&gt;&lt;Default &quot; +\n                &quot;ContentType=\\&quot;application/vnd.openxmlformats-package.relationships+xml\\&quot; &quot; +\n                &quot;Extension=\\&quot;rels\\&quot;/&gt;&lt;Default ContentType=\\&quot;application/xml\\&quot; Extension=\\&quot;xml\\&quot;&quot; +\n                &quot;/&gt;&lt;Override ContentType=\\&quot;application/vnd.openxmlformats-officedocument.&quot; +\n                &quot;extended-properties+xml\\&quot; PartName=\\&quot;/docProps/app.xml\\&quot;/&gt;&lt;Override ContentType&quot; +\n                &quot;=\\&quot;application/vnd.openxmlformats-package.core-properties+xml\\&quot; PartName=&quot; +\n                &quot;\\&quot;/docProps/core.xml\\&quot;/&gt;&lt;Override ContentType=\\&quot;application/vnd.openxmlformats-&quot; +\n                &quot;officedocument.spreadsheetml.sharedStrings+xml\\&quot; PartName=\\&quot;/xl/sharedStrings.&quot; +\n                &quot;xml\\&quot;/&gt;&lt;Override ContentType=\\&quot;application/vnd.openxmlformats-officedocument.&quot; +\n                &quot;spreadsheetml.styles+xml\\&quot; PartName=\\&quot;/xl/styles.xml\\&quot;/&gt;&lt;Override ContentType=&quot; +\n                &quot;\\&quot;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml\\&quot; &quot; +\n                &quot;PartName=\\&quot;/xl/workbook.xml\\&quot;/&gt;&lt;Override ContentType=\\&quot;application/vnd.openxml&quot; +\n                &quot;formats-officedocument.spreadsheetml.worksheet+xml\\&quot; PartName=\\&quot;/xl/worksheets/&quot; +\n                &quot;sheet1.xml\\&quot;/&gt;&lt;/Types&gt;&quot;\n        private const val DOC_PROPS_APP_XML =\n            &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;&lt;Properties xmlns=&quot; +\n                &quot;\\&quot;http://schemas.openxmlformats.org/officeDocument/2006/extended-properties\\&quot;&quot; +\n                &quot;&gt;&lt;Application&gt;Created Low level From Scratch&lt;/Application&gt;&lt;/Properties&gt;&quot;\n        private val DOC_PROPS_CORE_XML =\n            &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot; standalone=\\&quot;no\\&quot;?&gt;&lt;cp:coreProperties xmlns&quot; +\n                &quot;:cp=\\&quot;http://schemas.openxmlformats.org/package/2006/metadata/core-properties\\&quot; &quot; +\n                &quot;xmlns:dc=\\&quot;http://purl.org/dc/elements/1.1/\\&quot; xmlns:dcterms=\\&quot;http://purl.org/&quot; +\n                &quot;dc/terms/\\&quot; xmlns:xsi=\\&quot;http://www.w3.org/2001/XMLSchema-instance\\&quot;&gt;&quot; +\n                &quot;&lt;dcterms:created xsi:type=\\&quot;dcterms:W3CDTF\\&quot;&gt;&quot; +\n                formatter.format(Calendar.getInstance().time) +\n                &quot;&lt;/dcterms:created&gt;&lt;dc:creator&gt;Autogenerated&lt;/dc:creator&gt;&lt;/cp:coreProperties&gt;&quot;\n        private const val RELS_RELS_XML =\n            &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot; standalone=\\&quot;no\\&quot;?&gt;&lt;Relationships xmlns=&quot; +\n                &quot;\\&quot;http://schemas.openxmlformats.org/package/2006/relationships\\&quot;&gt;&lt;Relationship &quot; +\n                &quot;Id=\\&quot;rId1\\&quot; Target=\\&quot;xl/workbook.xml\\&quot; Type=\\&quot;http://schemas.openxml&quot; +\n                &quot;formats.org/officeDocument/2006/relationships/officeDocument\\&quot;/&gt;&lt;Relationship &quot; +\n                &quot;Id=\\&quot;rId2\\&quot; Target=\\&quot;docProps/app.xml\\&quot; Type=\\&quot;http://schemas.openxmlformats&quot; +\n                &quot;.org/officeDocument/2006/relationships/extended-properties\\&quot;/&gt;&lt;Relationship Id=&quot; +\n                &quot;\\&quot;rId3\\&quot; Target=\\&quot;docProps/core.xml\\&quot; Type=\\&quot;http://schemas.openxmlformats&quot; +\n                &quot;.org/package/2006/relationships/metadata/core-properties\\&quot;/&gt;&lt;/Relationships&gt;&quot;\n        private const val XL_RELS_WORKBOOK_XML_RELS_XML =\n            &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot; standalone=\\&quot;no\\&quot;?&gt;&lt;Relationships xmlns=&quot; +\n                &quot;\\&quot;http://schemas.openxmlformats.org/package/2006/relationships\\&quot;&gt;&lt;Relationship &quot; +\n                &quot;Id=\\&quot;rId1\\&quot; Target=\\&quot;sharedStrings.xml\\&quot; Type=\\&quot;http://schemas.openxmlformats&quot; +\n                &quot;.org/officeDocument/2006/relationships/sharedStrings\\&quot;/&gt;&lt;Relationship Id=&quot; +\n                &quot;\\&quot;rId2\\&quot; Target=\\&quot;styles.xml\\&quot; Type=\\&quot;http://schemas.openxmlformats.org/&quot; +\n                &quot;officeDocument/2006/relationships/styles\\&quot;/&gt;&lt;Relationship Id=\\&quot;rId3\\&quot; &quot; +\n                &quot;Target=\\&quot;worksheets/sheet1.xml\\&quot; Type=\\&quot;http://schemas.openxml&quot; +\n                &quot;formats.org/officeDocument/2006/relationships/worksheet\\&quot;/&gt;&lt;/Relationships&gt;&quot;\n        private const val XL_SHARED_STRINGS_XML =\n            &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;&lt;sst count=\\&quot;0\\&quot; uniqueCount=\\&quot;0\\&quot; &quot; +\n                &quot;xmlns=\\&quot;http://schemas.openxmlformats.org/spreadsheetml/2006/main\\&quot;/&gt;&quot;\n        private const val XL_STYLES_XML =\n            &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;&lt;styleSheet xmlns=\\&quot;http://schemas.&quot; +\n                &quot;openxmlformats.org/spreadsheetml/2006/main\\&quot;&gt;&lt;numFmts count=\\&quot;0\\&quot;/&gt;&lt;fonts count=&quot; +\n                &quot;\\&quot;1\\&quot;&gt;&lt;font&gt;&lt;sz val=\\&quot;11.0\\&quot;/&gt;&lt;color indexed=\\&quot;8\\&quot;/&gt;&lt;name val=\\&quot;Calibri\\&quot;/&gt;&lt;&quot; +\n                &quot;family val=\\&quot;2\\&quot;/&gt;&lt;scheme val=\\&quot;minor\\&quot;/&gt;&lt;/font&gt;&lt;/fonts&gt;&lt;fills count=\\&quot;2\\&quot;&gt;&quot; +\n                &quot;&lt;fill&gt;&lt;patternFill patternType=\\&quot;none\\&quot;/&gt;&lt;/fill&gt;&lt;fill&gt;&lt;patternFill patternType=&quot; +\n                &quot;\\&quot;darkGray\\&quot;/&gt;&lt;/fill&gt;&lt;/fills&gt;&lt;borders count=\\&quot;1\\&quot;&gt;&lt;border&gt;&lt;left/&gt;&lt;right/&gt;&lt;top/&gt;&quot; +\n                &quot;&lt;bottom/&gt;&lt;diagonal/&gt;&lt;/border&gt;&lt;/borders&gt;&lt;cellStyleXfs count=\\&quot;1\\&quot;&gt;&lt;xf numFmtId=&quot; +\n                &quot;\\&quot;0\\&quot; fontId=\\&quot;0\\&quot; fillId=\\&quot;0\\&quot; borderId=\\&quot;0\\&quot;/&gt;&lt;/cellStyleXfs&gt;&lt;cellXfs count=&quot; +\n                &quot;\\&quot;1\\&quot;&gt;&lt;xf numFmtId=\\&quot;0\\&quot; fontId=\\&quot;0\\&quot; fillId=\\&quot;0\\&quot; borderId=\\&quot;0\\&quot; xfId=\\&quot;0\\&quot;/&gt;&quot; +\n                &quot;&lt;/cellXfs&gt;&lt;/styleSheet&gt;&quot;\n        private const val XL_WORKBOOK_XML =\n            &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;&lt;workbook xmlns=\\&quot;http://schemas.openxml&quot; +\n                &quot;formats.org/spreadsheetml/2006/main\\&quot; xmlns:r=\\&quot;http://schemas.openxml&quot; +\n                &quot;formats.org/officeDocument/2006/relationships\\&quot;&gt;&lt;workbookPr date1904=\\&quot;false\\&quot;/&gt;&quot; +\n                &quot;&lt;bookViews&gt;&lt;workbookView activeTab=\\&quot;0\\&quot;/&gt;&lt;/bookViews&gt;&lt;sheets&gt;&lt;sheet name=\\&quot;&quot; +\n                &quot;Sheet1\\&quot; r:id=\\&quot;rId3\\&quot; sheetId=\\&quot;1\\&quot;/&gt;&lt;/sheets&gt;&lt;/workbook&gt;&quot;\n        private const val XL_WORKSHEETS_SHEET1_XML =\n            &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;&lt;worksheet xmlns=\\&quot;http://schemas.openxml&quot; +\n                &quot;formats.org/spreadsheetml/2006/main\\&quot;&gt;&lt;dimension ref=\\&quot;A1\\&quot;/&gt;&lt;sheetViews&gt;&lt;&quot; +\n                &quot;sheetView workbookViewId=\\&quot;0\\&quot; tabSelected=\\&quot;true\\&quot;/&gt;&lt;/sheetViews&gt;&lt;sheetFormatPr&quot; +\n                &quot; defaultRowHeight=\\&quot;15.0\\&quot;/&gt;&lt;sheetData/&gt;&lt;pageMargins bottom=\\&quot;0.75\\&quot; footer=&quot; +\n                &quot;\\&quot;0.3\\&quot; header=\\&quot;0.3\\&quot; left=\\&quot;0.7\\&quot; right=\\&quot;0.7\\&quot; top=\\&quot;0.75\\&quot;/&gt;&lt;/worksheet&gt;&quot;\n\n        private fun toNumber(name: String): Int {\n            var number = 0\n            for (element in name) {\n                number = number * ALPHABET_LENGTH + (element.code - ('A'.code - 1))\n            }\n            return number\n        }\n\n        private fun toName(number: Int): String {\n            val sb = StringBuilder()\n            var num = number\n            while (num-- &gt; 0) {\n                sb.append(('A'.code + num % ALPHABET_LENGTH).toChar())\n                num /= ALPHABET_LENGTH\n            }\n            return sb.reverse().toString()\n        }\n\n        private fun incrementColumn(index: String): String {\n            return toName(toNumber(index) + 1)\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":5524872,"reputation":4722,"user_id":4386668,"accept_rate":47,"display_name":"Nominalista"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16114,"favorite_count":0,"down_vote_count":1,"up_vote_count":24,"answer_count":10,"score":23,"last_activity_date":1699709498,"creation_date":1528364811,"question_id":50738119,"body_markdown":"There are libraries for Java developers that have tons of methods which do not work on Android. \r\n\r\nI started by working with libraries like OpenCSV, but unfortunately Excel has [known issues][1] with opening CSV files.\r\n\r\nThen I tried to use:\r\n\r\n - Apache POI - It definitely has too many methods. \r\n - JExcelAPI - It works, but only on old binary .xls files.\r\n - docx4j - again too many jars, because it&#39;s based on JAXB which is not included in Android.\r\n\r\nMy question is, how can I create a simple Excel file in .xlsx format on Android, without exceeding 65k methods?\r\n\r\n  [1]: https://stackoverflow.com/questions/17953679/how-to-correctly-display-csv-files-within-excel-2013","title":"How to create and write to Excel file (.xlsx)?","body":"<p>There are libraries for Java developers that have tons of methods which do not work on Android. </p>\n\n<p>I started by working with libraries like OpenCSV, but unfortunately Excel has <a href=\"https://stackoverflow.com/questions/17953679/how-to-correctly-display-csv-files-within-excel-2013\">known issues</a> with opening CSV files.</p>\n\n<p>Then I tried to use:</p>\n\n<ul>\n<li>Apache POI - It definitely has too many methods. </li>\n<li>JExcelAPI - It works, but only on old binary .xls files.</li>\n<li>docx4j - again too many jars, because it's based on JAXB which is not included in Android.</li>\n</ul>\n\n<p>My question is, how can I create a simple Excel file in .xlsx format on Android, without exceeding 65k methods?</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":1473276,"reputation":110989,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699630700,"creation_date":1699630700,"answer_id":77461187,"question_id":77459136,"body_markdown":"You have configured Spring Boot to use `com.mysql.cj.jdbc.Driver` as the driver class for your SQL database but you have not added the corresponding dependency to your application&#39;s `pom.xml` file.\r\n\r\nAdd the following to the `&lt;dependencies&gt;` section of your pom:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n  &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n  &lt;scope&gt;runtime&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Error creating bean with name &#39;dataSourceScriptDatabaseInitializer&#39; defined in class path please check","body":"<p>You have configured Spring Boot to use <code>com.mysql.cj.jdbc.Driver</code> as the driver class for your SQL database but you have not added the corresponding dependency to your application's <code>pom.xml</code> file.</p>\n<p>Add the following to the <code>&lt;dependencies&gt;</code> section of your pom:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n  &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n  &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":29871277,"reputation":1,"user_id":22892593,"display_name":"Rohit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1699726781,"answer_count":1,"score":0,"last_activity_date":1699709187,"creation_date":1699610503,"question_id":77459136,"body_markdown":"Why am I getting this error?\r\n\r\n&gt; Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;dataSourceScriptDatabaseInitializer&#39; defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Unsatisfied dependency expressed through method &#39;dataSourceScriptDatabaseInitializer&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dataSource&#39; defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method &#39;dataSource&#39; threw exception; nested exception is java.lang.IllegalStateException: Cannot load driver class: com.mysql.cj.jdbc.Driver\r\n&gt;\r\n&gt; [2m2023-11-10 15:09:37.760[0;39m [32m INFO[0;39m [35m7024[0;39m [2m---[0;39m [2m[ main][0;39m [36mo.apache.catalina.core.StandardService [0;39m [2m:[0;39m Stopping service [Tomcat]\r\n&gt;\r\n&gt; [2m2023-11-10 15:09:37.795[0;39m [32m INFO[0;39m [35m7024[0;39m [2m---[0;39m [2m[ main][0;39m [36mConditionEvaluationReportLoggingListener[0;39m [2m:[0;39m\r\n&gt;\r\n&gt; Error starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n&gt;\r\n&gt; [2m2023-11-10 15:09:38.193[0;39m [31mERROR[0;39m [35m7024[0;39m [2m---[0;39m [2m[ main][0;39m [36mo.s.boot.SpringApplication [0;39m [2m:[0;39m Application run failed\r\n&gt;\r\n&gt; org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;dataSourceScriptDatabaseInitializer&#39; defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Unsatisfied dependency expressed through method &#39;dataSourceScriptDatabaseInitializer&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dataSource&#39; defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method &#39;dataSource&#39; threw exception; nested exception is java.lang.IllegalStateException: Cannot load driver class: com.mysql.cj.jdbc.Driver\r\n&gt;\r\n&gt; at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:801) ~[spring-beans-5.3.30.jar:5.3.30]\r\n\r\n\r\nScreenshot of my project:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\npom.xml:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n  &lt;parent&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    &lt;version&gt;2.7.17&lt;/version&gt;\r\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n  &lt;/parent&gt;\r\n\r\n  &lt;groupId&gt;com.codeWithDurgesh.blog&lt;/groupId&gt;\r\n  &lt;artifactId&gt;blog-app-api&lt;/artifactId&gt;\r\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n  &lt;name&gt;blog-app-api&lt;/name&gt;\r\n  &lt;description&gt;This is a backend apis for blogging&lt;/description&gt;\r\n\r\n  &lt;properties&gt;\r\n    &lt;java.version&gt;11&lt;/java.version&gt;\r\n  &lt;/properties&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n\r\n  &lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\napplicationContext:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nHow do I get rid of this error?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AgPq0.png\r\n  [2]: https://i.stack.imgur.com/8alCx.png","title":"Error creating bean with name &#39;dataSourceScriptDatabaseInitializer&#39; defined in class path please check","body":"<p>Why am I getting this error?</p>\n<blockquote>\n<p>Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Unsatisfied dependency expressed through method 'dataSourceScriptDatabaseInitializer' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception; nested exception is java.lang.IllegalStateException: Cannot load driver class: com.mysql.cj.jdbc.Driver</p>\n<p>[2m2023-11-10 15:09:37.760[0;39m [32m INFO[0;39m [35m7024[0;39m [2m---[0;39m [2m[ main][0;39m [36mo.apache.catalina.core.StandardService [0;39m [2m:[0;39m Stopping service [Tomcat]</p>\n<p>[2m2023-11-10 15:09:37.795[0;39m [32m INFO[0;39m [35m7024[0;39m [2m---[0;39m [2m[ main][0;39m [36mConditionEvaluationReportLoggingListener[0;39m [2m:[0;39m</p>\n<p>Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.</p>\n<p>[2m2023-11-10 15:09:38.193[0;39m [31mERROR[0;39m [35m7024[0;39m [2m---[0;39m [2m[ main][0;39m [36mo.s.boot.SpringApplication [0;39m [2m:[0;39m Application run failed</p>\n<p>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Unsatisfied dependency expressed through method 'dataSourceScriptDatabaseInitializer' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception; nested exception is java.lang.IllegalStateException: Cannot load driver class: com.mysql.cj.jdbc.Driver</p>\n<p>at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:801) ~[spring-beans-5.3.30.jar:5.3.30]</p>\n</blockquote>\n<p>Screenshot of my project:</p>\n<p><a href=\"https://i.stack.imgur.com/AgPq0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AgPq0.png\" alt=\"enter image description here\" /></a></p>\n<p>pom.xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.7.17&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n  &lt;/parent&gt;\n\n  &lt;groupId&gt;com.codeWithDurgesh.blog&lt;/groupId&gt;\n  &lt;artifactId&gt;blog-app-api&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;name&gt;blog-app-api&lt;/name&gt;\n  &lt;description&gt;This is a backend apis for blogging&lt;/description&gt;\n\n  &lt;properties&gt;\n    &lt;java.version&gt;11&lt;/java.version&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>applicationContext:</p>\n<p><a href=\"https://i.stack.imgur.com/8alCx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8alCx.png\" alt=\"enter image description here\" /></a></p>\n<p>How do I get rid of this error?</p>\n"},{"tags":["java","byte","unsigned","bit","complement"],"comments":[{"owner":{"account_id":20562,"reputation":55663,"user_id":49246,"accept_rate":73,"display_name":"starblue"},"score":7,"creation_date":1279968299,"post_id":3324707,"comment_id":3447337,"body_markdown":"You picked a really bad example, because it allows two readings.","body":"You picked a really bad example, because it allows two readings."},{"owner":{"account_id":194589,"reputation":301,"user_id":437030,"display_name":"DavidKelly999"},"score":0,"creation_date":1280012321,"post_id":3324707,"comment_id":3450439,"body_markdown":"The bitmask was exactly what I needed - I had no idea you could do that. Very useful. Thank you all for the replies.","body":"The bitmask was exactly what I needed - I had no idea you could do that. Very useful. Thank you all for the replies."}],"answers":[{"tags":[],"owner":{"account_id":3684,"reputation":43315,"user_id":5346,"accept_rate":84,"display_name":"Nick Fortescue"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1279968210,"creation_date":1279967902,"answer_id":3324751,"question_id":3324707,"body_markdown":"The easiest way to do this is three stages:\r\n\r\n 1. Read the value as an int (32 bits in java). It may read as negative but we only care about the bottom 8 bits anyway. `int i = scanner.nextByte();`\r\n 2. Do the inversion as an int using bitwise operators (as you say will give you 1s as high order bits: `i = ~i;`\r\n 3. Lose the high order bits with a logical AND: `i = i &amp; 0xFF;`\r\n\r\nThen just use the result as a character (which is actually 16 bits in java, but we will only use 8 of them): \r\n\r\n    char c=(char)a;\r\n    System.out.println(c); \r\n\r\nAll together:\r\n\r\n    int i = scanner.nextByte(); // change this to nextInt() depending on file format\r\n    i = ~i;\r\n    i = i &amp; 0xFF;\r\n    char c=(char)a;\r\n    System.out.println(c); \r\n\r\n\r\n \r\n\r\n","title":"How can I invert bits of an unsigned byte in Java?","body":"<p>The easiest way to do this is three stages:</p>\n\n<ol>\n<li>Read the value as an int (32 bits in java). It may read as negative but we only care about the bottom 8 bits anyway. <code>int i = scanner.nextByte();</code></li>\n<li>Do the inversion as an int using bitwise operators (as you say will give you 1s as high order bits: <code>i = ~i;</code></li>\n<li>Lose the high order bits with a logical AND: <code>i = i &amp; 0xFF;</code></li>\n</ol>\n\n<p>Then just use the result as a character (which is actually 16 bits in java, but we will only use 8 of them): </p>\n\n<pre><code>char c=(char)a;\nSystem.out.println(c); \n</code></pre>\n\n<p>All together:</p>\n\n<pre><code>int i = scanner.nextByte(); // change this to nextInt() depending on file format\ni = ~i;\ni = i &amp; 0xFF;\nchar c=(char)a;\nSystem.out.println(c); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":82818,"reputation":58383,"user_id":232593,"accept_rate":79,"display_name":"Merlyn Morgan-Graham"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1279967934,"creation_date":1279967934,"answer_id":3324752,"question_id":3324707,"body_markdown":"If Java supports this, you could read it into a larger type, bitwise-compliment, then bit-mask out the unwanted bits.\r\n\r\n    int x = [your byte];\r\n    x = ~x &amp; 0xFF;\r\n","title":"How can I invert bits of an unsigned byte in Java?","body":"<p>If Java supports this, you could read it into a larger type, bitwise-compliment, then bit-mask out the unwanted bits.</p>\n\n<pre><code>int x = [your byte];\nx = ~x &amp; 0xFF;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24377,"reputation":817973,"user_id":61974,"display_name":"Mark Byers"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1279970058,"creation_date":1279967951,"answer_id":3324754,"question_id":3324707,"body_markdown":"Bitwise operations in Java are defined for `int` so it makes sense to work with `int` rather than `byte`. You can use [`Scanner.nextInt`][1], rather than [`Scanner.nextByte`][2]. You should validate the user&#39;s input to ensure that all integers entered are in the range 0 to 255 and display an appropriate error message if an out-of-range number is encountered.\r\n\r\nOnce you have the number stored in an integer then to flip the least significant 8 bits you can XOR with 0xff. This should work as you expect for all inputs between 0 and 255:\r\n\r\n    x ^= 0xff;\r\n\r\nExample:\r\n\r\n    String input = &quot;178 0 255&quot;;\r\n    Scanner s = new Scanner(input);\r\n    while (s.hasNextInt()) {\r\n        int x = s.nextInt();\r\n        if (x &lt; 0 || x &gt; 255) {\r\n            System.err.println(&quot;Not in range 0-255: &quot; + x);\r\n        } else {\r\n            x ^= 0xff;\r\n            System.out.println(x);\r\n        }\r\n    }\r\n\r\nResult:\r\n\r\n    77\r\n    255\r\n    0\r\n\r\n[1]: http://download.oracle.com/docs/cd/E17476_01/javase/1.5.0/docs/api/java/util/Scanner.html#nextInt%28%29\r\n[2]: http://download.oracle.com/docs/cd/E17476_01/javase/1.5.0/docs/api/java/util/Scanner.html#nextByte%28%29\r\n\r\n","title":"How can I invert bits of an unsigned byte in Java?","body":"<p>Bitwise operations in Java are defined for <code>int</code> so it makes sense to work with <code>int</code> rather than <code>byte</code>. You can use <a href=\"http://download.oracle.com/docs/cd/E17476_01/javase/1.5.0/docs/api/java/util/Scanner.html#nextInt%28%29\" rel=\"nofollow noreferrer\"><code>Scanner.nextInt</code></a>, rather than <a href=\"http://download.oracle.com/docs/cd/E17476_01/javase/1.5.0/docs/api/java/util/Scanner.html#nextByte%28%29\" rel=\"nofollow noreferrer\"><code>Scanner.nextByte</code></a>. You should validate the user's input to ensure that all integers entered are in the range 0 to 255 and display an appropriate error message if an out-of-range number is encountered.</p>\n\n<p>Once you have the number stored in an integer then to flip the least significant 8 bits you can XOR with 0xff. This should work as you expect for all inputs between 0 and 255:</p>\n\n<pre><code>x ^= 0xff;\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>String input = \"178 0 255\";\nScanner s = new Scanner(input);\nwhile (s.hasNextInt()) {\n    int x = s.nextInt();\n    if (x &lt; 0 || x &gt; 255) {\n        System.err.println(\"Not in range 0-255: \" + x);\n    } else {\n        x ^= 0xff;\n        System.out.println(x);\n    }\n}\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>77\n255\n0\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20562,"reputation":55663,"user_id":49246,"accept_rate":73,"display_name":"starblue"},"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1279968600,"creation_date":1279968143,"answer_id":3324762,"question_id":3324707,"body_markdown":"    ~n &amp; 0xff\r\n\r\n`~` does the complement and implicitly converts to an integer like all numeric operations do, then `&amp; 0xff` masks out everything except the lower 8  bits to get the unsigned value, again as an integer.\r\n\r\n\r\nI first read your question differently, to invert the order instead of the values of the bits, and this was the answer.\r\n\r\nYou can use &lt;a href=&quot;http://download.oracle.com/docs/cd/E17409_01/javase/6/docs/api/java/lang/Integer.html#reverse(int)&quot;&gt;`Integer.reverse()`&lt;/a&gt; (untested):\r\n\r\n    Integer.reverse(n &lt;&lt; 24) &amp; 0xff\r\n","title":"How can I invert bits of an unsigned byte in Java?","body":"<pre><code>~n &amp; 0xff\n</code></pre>\n\n<p><code>~</code> does the complement and implicitly converts to an integer like all numeric operations do, then <code>&amp; 0xff</code> masks out everything except the lower 8  bits to get the unsigned value, again as an integer.</p>\n\n<p>I first read your question differently, to invert the order instead of the values of the bits, and this was the answer.</p>\n\n<p>You can use <a href=\"http://download.oracle.com/docs/cd/E17409_01/javase/6/docs/api/java/lang/Integer.html#reverse(int)\" rel=\"noreferrer\"><code>Integer.reverse()</code></a> (untested):</p>\n\n<pre><code>Integer.reverse(n &lt;&lt; 24) &amp; 0xff\n</code></pre>\n"},{"tags":[],"owner":{"account_id":87016,"reputation":68348,"user_id":241590,"accept_rate":99,"display_name":"stacker"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1279968174,"creation_date":1279968174,"answer_id":3324763,"question_id":3324707,"body_markdown":"I would simply use the ones complement and get rid of the other bits by using binary and.\r\n\r\n    public class Conv {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tint val = 178;\r\n    \t\tval = ~val &amp; 0xff;\r\n    \t\tSystem.out.println((char) val);\r\n    \t}\r\n    }\r\n\r\n","title":"How can I invert bits of an unsigned byte in Java?","body":"<p>I would simply use the ones complement and get rid of the other bits by using binary and.</p>\n\n<pre><code>public class Conv {\n    public static void main(String[] args) {\n        int val = 178;\n        val = ~val &amp; 0xff;\n        System.out.println((char) val);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":198681,"reputation":1641,"user_id":443482,"accept_rate":50,"display_name":"Vlad"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1327590882,"creation_date":1327590882,"answer_id":9020299,"question_id":3324707,"body_markdown":"Here are Java bytes, sorted by binary representation (from 00000000 to 11111111):\r\n\r\n0, 1, 2, .., 126, 127, -128, -127, .., -2, -1\r\n\r\n00000000 is 0, 11111111 is -1\r\n\r\nInverted 0 is -1, inverted 1 is -2, ..., inverted 127 is -128.\r\nThus if you want to invert bits of Java byte you should get your byte with opposite sign and subtract one:\r\n\r\n    byte myByte = 123;\r\n    byte myInvertedByte = -myByte-1;","title":"How can I invert bits of an unsigned byte in Java?","body":"<p>Here are Java bytes, sorted by binary representation (from 00000000 to 11111111):</p>\n\n<p>0, 1, 2, .., 126, 127, -128, -127, .., -2, -1</p>\n\n<p>00000000 is 0, 11111111 is -1</p>\n\n<p>Inverted 0 is -1, inverted 1 is -2, ..., inverted 127 is -128.\nThus if you want to invert bits of Java byte you should get your byte with opposite sign and subtract one:</p>\n\n<pre><code>byte myByte = 123;\nbyte myInvertedByte = -myByte-1;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2654660,"reputation":935,"user_id":2295607,"accept_rate":71,"display_name":"Xkynar"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1404842012,"creation_date":1404842012,"answer_id":24638520,"question_id":3324707,"body_markdown":"    private byte reverseBitsByte(byte x)\r\n    {\r\n\t    int intSize = 8;\r\n\t\r\n\t    byte y = 0;\r\n\t    for (int position = intSize - 1; position &gt;= 0; position--)\r\n\t    {\r\n\t        y += ((x &amp; 1) &lt;&lt; position);\r\n\t        x &gt;&gt;= 1;\r\n\t    }\r\n\t    return y;\r\n    }","title":"How can I invert bits of an unsigned byte in Java?","body":"<pre><code>private byte reverseBitsByte(byte x)\n{\n    int intSize = 8;\n\n    byte y = 0;\n    for (int position = intSize - 1; position &gt;= 0; position--)\n    {\n        y += ((x &amp; 1) &lt;&lt; position);\n        x &gt;&gt;= 1;\n    }\n    return y;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4562221,"reputation":385,"user_id":4672035,"accept_rate":31,"display_name":"Paul Uszak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699709031,"creation_date":1699709031,"answer_id":77465240,"question_id":3324707,"body_markdown":"Or, you can do it without any dodgy signed arithmetic, using string handling instead:-\r\n\r\n\r\n    public class ReverseBits {\r\n    public static void main(String[] args) {\r\n\r\n        byte[] reversedBits = {\r\n                (byte) 0b00000000,\r\n                (byte) 0b10000000,\r\n                (byte) 0b01000000,\r\n                (byte) 0b11000000,\r\n                (byte) 0b00100000,\r\n                (byte) 0b10100000,\r\n                (byte) 0b01100000,\r\n                (byte) 0b11100000,\r\n                (byte) 0b00010000,\r\n                (byte) 0b10010000,\r\n                (byte) 0b01010000,\r\n                (byte) 0b11010000,\r\n                (byte) 0b00110000,\r\n                (byte) 0b10110000,\r\n                (byte) 0b01110000,\r\n                (byte) 0b11110000,\r\n                (byte) 0b00001000,\r\n                (byte) 0b10001000,\r\n                (byte) 0b01001000,\r\n                (byte) 0b11001000,\r\n                (byte) 0b00101000,\r\n                (byte) 0b10101000,\r\n                (byte) 0b01101000,\r\n                (byte) 0b11101000,\r\n                (byte) 0b00011000,\r\n                (byte) 0b10011000,\r\n                (byte) 0b01011000,\r\n                (byte) 0b11011000,\r\n                (byte) 0b00111000,\r\n                (byte) 0b10111000,\r\n                (byte) 0b01111000,\r\n                (byte) 0b11111000,\r\n                (byte) 0b00000100,\r\n                (byte) 0b10000100,\r\n                (byte) 0b01000100,\r\n                (byte) 0b11000100,\r\n                (byte) 0b00100100,\r\n                (byte) 0b10100100,\r\n                (byte) 0b01100100,\r\n                (byte) 0b11100100,\r\n                (byte) 0b00010100,\r\n                (byte) 0b10010100,\r\n                (byte) 0b01010100,\r\n                (byte) 0b11010100,\r\n                (byte) 0b00110100,\r\n                (byte) 0b10110100,\r\n                (byte) 0b01110100,\r\n                (byte) 0b11110100,\r\n                (byte) 0b00001100,\r\n                (byte) 0b10001100,\r\n                (byte) 0b01001100,\r\n                (byte) 0b11001100,\r\n                (byte) 0b00101100,\r\n                (byte) 0b10101100,\r\n                (byte) 0b01101100,\r\n                (byte) 0b11101100,\r\n                (byte) 0b00011100,\r\n                (byte) 0b10011100,\r\n                (byte) 0b01011100,\r\n                (byte) 0b11011100,\r\n                (byte) 0b00111100,\r\n                (byte) 0b10111100,\r\n                (byte) 0b01111100,\r\n                (byte) 0b11111100,\r\n                (byte) 0b00000010,\r\n                (byte) 0b10000010,\r\n                (byte) 0b01000010,\r\n                (byte) 0b11000010,\r\n                (byte) 0b00100010,\r\n                (byte) 0b10100010,\r\n                (byte) 0b01100010,\r\n                (byte) 0b11100010,\r\n                (byte) 0b00010010,\r\n                (byte) 0b10010010,\r\n                (byte) 0b01010010,\r\n                (byte) 0b11010010,\r\n                (byte) 0b00110010,\r\n                (byte) 0b10110010,\r\n                (byte) 0b01110010,\r\n                (byte) 0b11110010,\r\n                (byte) 0b00001010,\r\n                (byte) 0b10001010,\r\n                (byte) 0b01001010,\r\n                (byte) 0b11001010,\r\n                (byte) 0b00101010,\r\n                (byte) 0b10101010,\r\n                (byte) 0b01101010,\r\n                (byte) 0b11101010,\r\n                (byte) 0b00011010,\r\n                (byte) 0b10011010,\r\n                (byte) 0b01011010,\r\n                (byte) 0b11011010,\r\n                (byte) 0b00111010,\r\n                (byte) 0b10111010,\r\n                (byte) 0b01111010,\r\n                (byte) 0b11111010,\r\n                (byte) 0b00000110,\r\n                (byte) 0b10000110,\r\n                (byte) 0b01000110,\r\n                (byte) 0b11000110,\r\n                (byte) 0b00100110,\r\n                (byte) 0b10100110,\r\n                (byte) 0b01100110,\r\n                (byte) 0b11100110,\r\n                (byte) 0b00010110,\r\n                (byte) 0b10010110,\r\n                (byte) 0b01010110,\r\n                (byte) 0b11010110,\r\n                (byte) 0b00110110,\r\n                (byte) 0b10110110,\r\n                (byte) 0b01110110,\r\n                (byte) 0b11110110,\r\n                (byte) 0b00001110,\r\n                (byte) 0b10001110,\r\n                (byte) 0b01001110,\r\n                (byte) 0b11001110,\r\n                (byte) 0b00101110,\r\n                (byte) 0b10101110,\r\n                (byte) 0b01101110,\r\n                (byte) 0b11101110,\r\n                (byte) 0b00011110,\r\n                (byte) 0b10011110,\r\n                (byte) 0b01011110,\r\n                (byte) 0b11011110,\r\n                (byte) 0b00111110,\r\n                (byte) 0b10111110,\r\n                (byte) 0b01111110,\r\n                (byte) 0b11111110,\r\n                (byte) 0b00000001,\r\n                (byte) 0b10000001,\r\n                (byte) 0b01000001,\r\n                (byte) 0b11000001,\r\n                (byte) 0b00100001,\r\n                (byte) 0b10100001,\r\n                (byte) 0b01100001,\r\n                (byte) 0b11100001,\r\n                (byte) 0b00010001,\r\n                (byte) 0b10010001,\r\n                (byte) 0b01010001,\r\n                (byte) 0b11010001,\r\n                (byte) 0b00110001,\r\n                (byte) 0b10110001,\r\n                (byte) 0b01110001,\r\n                (byte) 0b11110001,\r\n                (byte) 0b00001001,\r\n                (byte) 0b10001001,\r\n                (byte) 0b01001001,\r\n                (byte) 0b11001001,\r\n                (byte) 0b00101001,\r\n                (byte) 0b10101001,\r\n                (byte) 0b01101001,\r\n                (byte) 0b11101001,\r\n                (byte) 0b00011001,\r\n                (byte) 0b10011001,\r\n                (byte) 0b01011001,\r\n                (byte) 0b11011001,\r\n                (byte) 0b00111001,\r\n                (byte) 0b10111001,\r\n                (byte) 0b01111001,\r\n                (byte) 0b11111001,\r\n                (byte) 0b00000101,\r\n                (byte) 0b10000101,\r\n                (byte) 0b01000101,\r\n                (byte) 0b11000101,\r\n                (byte) 0b00100101,\r\n                (byte) 0b10100101,\r\n                (byte) 0b01100101,\r\n                (byte) 0b11100101,\r\n                (byte) 0b00010101,\r\n                (byte) 0b10010101,\r\n                (byte) 0b01010101,\r\n                (byte) 0b11010101,\r\n                (byte) 0b00110101,\r\n                (byte) 0b10110101,\r\n                (byte) 0b01110101,\r\n                (byte) 0b11110101,\r\n                (byte) 0b00001101,\r\n                (byte) 0b10001101,\r\n                (byte) 0b01001101,\r\n                (byte) 0b11001101,\r\n                (byte) 0b00101101,\r\n                (byte) 0b10101101,\r\n                (byte) 0b01101101,\r\n                (byte) 0b11101101,\r\n                (byte) 0b00011101,\r\n                (byte) 0b10011101,\r\n                (byte) 0b01011101,\r\n                (byte) 0b11011101,\r\n                (byte) 0b00111101,\r\n                (byte) 0b10111101,\r\n                (byte) 0b01111101,\r\n                (byte) 0b11111101,\r\n                (byte) 0b00000011,\r\n                (byte) 0b10000011,\r\n                (byte) 0b01000011,\r\n                (byte) 0b11000011,\r\n                (byte) 0b00100011,\r\n                (byte) 0b10100011,\r\n                (byte) 0b01100011,\r\n                (byte) 0b11100011,\r\n                (byte) 0b00010011,\r\n                (byte) 0b10010011,\r\n                (byte) 0b01010011,\r\n                (byte) 0b11010011,\r\n                (byte) 0b00110011,\r\n                (byte) 0b10110011,\r\n                (byte) 0b01110011,\r\n                (byte) 0b11110011,\r\n                (byte) 0b00001011,\r\n                (byte) 0b10001011,\r\n                (byte) 0b01001011,\r\n                (byte) 0b11001011,\r\n                (byte) 0b00101011,\r\n                (byte) 0b10101011,\r\n                (byte) 0b01101011,\r\n                (byte) 0b11101011,\r\n                (byte) 0b00011011,\r\n                (byte) 0b10011011,\r\n                (byte) 0b01011011,\r\n                (byte) 0b11011011,\r\n                (byte) 0b00111011,\r\n                (byte) 0b10111011,\r\n                (byte) 0b01111011,\r\n                (byte) 0b11111011,\r\n                (byte) 0b00000111,\r\n                (byte) 0b10000111,\r\n                (byte) 0b01000111,\r\n                (byte) 0b11000111,\r\n                (byte) 0b00100111,\r\n                (byte) 0b10100111,\r\n                (byte) 0b01100111,\r\n                (byte) 0b11100111,\r\n                (byte) 0b00010111,\r\n                (byte) 0b10010111,\r\n                (byte) 0b01010111,\r\n                (byte) 0b11010111,\r\n                (byte) 0b00110111,\r\n                (byte) 0b10110111,\r\n                (byte) 0b01110111,\r\n                (byte) 0b11110111,\r\n                (byte) 0b00001111,\r\n                (byte) 0b10001111,\r\n                (byte) 0b01001111,\r\n                (byte) 0b11001111,\r\n                (byte) 0b00101111,\r\n                (byte) 0b10101111,\r\n                (byte) 0b01101111,\r\n                (byte) 0b11101111,\r\n                (byte) 0b00011111,\r\n                (byte) 0b10011111,\r\n                (byte) 0b01011111,\r\n                (byte) 0b11011111,\r\n                (byte) 0b00111111,\r\n                (byte) 0b10111111,\r\n                (byte) 0b01111111,\r\n                (byte) 0b11111111\r\n                 };\r\n\r\n\r\n\r\n\r\n    for (var i = 0; i &lt; 256; i++) {\r\n            var b = (byte) i;\r\n            var s = String.format(&quot;%8s&quot;, Integer.toBinaryString(b &amp; 0xFF)).replace(&#39; &#39;, &#39;0&#39;);\r\n            var reversedString = new StringBuilder();\r\n            reversedString.append(s);\r\n            reversedString = reversedString.reverse();\r\n            var sR = reversedString.toString();\r\n            System.out.println(i + &quot;, &quot; + s + &quot;, &quot; + sR + &quot;, &quot; + (byte) i + &quot;, &quot; + reversedBits[i]);\r\n        }\r\n\r\nwhich produces:-\r\n\r\n\r\n\r\n\r\n    0, 00000000, 00000000, 0, 0\r\n    1, 00000001, 10000000, 1, -128\r\n    2, 00000010, 01000000, 2, 64\r\n    3, 00000011, 11000000, 3, -64\r\n    4, 00000100, 00100000, 4, 32\r\n    5, 00000101, 10100000, 5, -96\r\n    6, 00000110, 01100000, 6, 96\r\n    7, 00000111, 11100000, 7, -32\r\n    8, 00001000, 00010000, 8, 16\r\n    9, 00001001, 10010000, 9, -112\r\n    10, 00001010, 01010000, 10, 80\r\n    11, 00001011, 11010000, 11, -48\r\n    12, 00001100, 00110000, 12, 48\r\n    13, 00001101, 10110000, 13, -80\r\n    14, 00001110, 01110000, 14, 112\r\n    15, 00001111, 11110000, 15, -16\r\n    16, 00010000, 00001000, 16, 8\r\n    17, 00010001, 10001000, 17, -120\r\n    18, 00010010, 01001000, 18, 72\r\n    19, 00010011, 11001000, 19, -56\r\n    20, 00010100, 00101000, 20, 40\r\n    21, 00010101, 10101000, 21, -88\r\n    22, 00010110, 01101000, 22, 104\r\n    23, 00010111, 11101000, 23, -24\r\n    24, 00011000, 00011000, 24, 24\r\n    25, 00011001, 10011000, 25, -104\r\n    26, 00011010, 01011000, 26, 88\r\n    27, 00011011, 11011000, 27, -40\r\n    28, 00011100, 00111000, 28, 56\r\n    29, 00011101, 10111000, 29, -72\r\n    30, 00011110, 01111000, 30, 120\r\n    31, 00011111, 11111000, 31, -8\r\n    32, 00100000, 00000100, 32, 4\r\n    33, 00100001, 10000100, 33, -124\r\n    34, 00100010, 01000100, 34, 68\r\n    35, 00100011, 11000100, 35, -60\r\n    36, 00100100, 00100100, 36, 36\r\n    37, 00100101, 10100100, 37, -92\r\n    38, 00100110, 01100100, 38, 100\r\n    39, 00100111, 11100100, 39, -28\r\n    40, 00101000, 00010100, 40, 20\r\n    41, 00101001, 10010100, 41, -108\r\n    42, 00101010, 01010100, 42, 84\r\n    43, 00101011, 11010100, 43, -44\r\n    44, 00101100, 00110100, 44, 52\r\n    45, 00101101, 10110100, 45, -76\r\n    46, 00101110, 01110100, 46, 116\r\n    47, 00101111, 11110100, 47, -12\r\n    48, 00110000, 00001100, 48, 12\r\n    49, 00110001, 10001100, 49, -116\r\n    50, 00110010, 01001100, 50, 76\r\n    51, 00110011, 11001100, 51, -52\r\n    52, 00110100, 00101100, 52, 44\r\n    53, 00110101, 10101100, 53, -84\r\n    54, 00110110, 01101100, 54, 108\r\n    55, 00110111, 11101100, 55, -20\r\n    56, 00111000, 00011100, 56, 28\r\n    57, 00111001, 10011100, 57, -100\r\n    58, 00111010, 01011100, 58, 92\r\n    59, 00111011, 11011100, 59, -36\r\n    60, 00111100, 00111100, 60, 60\r\n    61, 00111101, 10111100, 61, -68\r\n    62, 00111110, 01111100, 62, 124\r\n    63, 00111111, 11111100, 63, -4\r\n    64, 01000000, 00000010, 64, 2\r\n    65, 01000001, 10000010, 65, -126\r\n    66, 01000010, 01000010, 66, 66\r\n    67, 01000011, 11000010, 67, -62\r\n    68, 01000100, 00100010, 68, 34\r\n    69, 01000101, 10100010, 69, -94\r\n    70, 01000110, 01100010, 70, 98\r\n    71, 01000111, 11100010, 71, -30\r\n    72, 01001000, 00010010, 72, 18\r\n    73, 01001001, 10010010, 73, -110\r\n    74, 01001010, 01010010, 74, 82\r\n    75, 01001011, 11010010, 75, -46\r\n    76, 01001100, 00110010, 76, 50\r\n    77, 01001101, 10110010, 77, -78\r\n    78, 01001110, 01110010, 78, 114\r\n    79, 01001111, 11110010, 79, -14\r\n    80, 01010000, 00001010, 80, 10\r\n    81, 01010001, 10001010, 81, -118\r\n    82, 01010010, 01001010, 82, 74\r\n    83, 01010011, 11001010, 83, -54\r\n    84, 01010100, 00101010, 84, 42\r\n    85, 01010101, 10101010, 85, -86\r\n    86, 01010110, 01101010, 86, 106\r\n    87, 01010111, 11101010, 87, -22\r\n    88, 01011000, 00011010, 88, 26\r\n    89, 01011001, 10011010, 89, -102\r\n    90, 01011010, 01011010, 90, 90\r\n    91, 01011011, 11011010, 91, -38\r\n    92, 01011100, 00111010, 92, 58\r\n    93, 01011101, 10111010, 93, -70\r\n    94, 01011110, 01111010, 94, 122\r\n    95, 01011111, 11111010, 95, -6\r\n    96, 01100000, 00000110, 96, 6\r\n    97, 01100001, 10000110, 97, -122\r\n    98, 01100010, 01000110, 98, 70\r\n    99, 01100011, 11000110, 99, -58\r\n    100, 01100100, 00100110, 100, 38\r\n    101, 01100101, 10100110, 101, -90\r\n    102, 01100110, 01100110, 102, 102\r\n    103, 01100111, 11100110, 103, -26\r\n    104, 01101000, 00010110, 104, 22\r\n    105, 01101001, 10010110, 105, -106\r\n    106, 01101010, 01010110, 106, 86\r\n    107, 01101011, 11010110, 107, -42\r\n    108, 01101100, 00110110, 108, 54\r\n    109, 01101101, 10110110, 109, -74\r\n    110, 01101110, 01110110, 110, 118\r\n    111, 01101111, 11110110, 111, -10\r\n    112, 01110000, 00001110, 112, 14\r\n    113, 01110001, 10001110, 113, -114\r\n    114, 01110010, 01001110, 114, 78\r\n    115, 01110011, 11001110, 115, -50\r\n    116, 01110100, 00101110, 116, 46\r\n    117, 01110101, 10101110, 117, -82\r\n    118, 01110110, 01101110, 118, 110\r\n    119, 01110111, 11101110, 119, -18\r\n    120, 01111000, 00011110, 120, 30\r\n    121, 01111001, 10011110, 121, -98\r\n    122, 01111010, 01011110, 122, 94\r\n    123, 01111011, 11011110, 123, -34\r\n    124, 01111100, 00111110, 124, 62\r\n    125, 01111101, 10111110, 125, -66\r\n    126, 01111110, 01111110, 126, 126\r\n    127, 01111111, 11111110, 127, -2\r\n    128, 10000000, 00000001, -128, 1\r\n    129, 10000001, 10000001, -127, -127\r\n    130, 10000010, 01000001, -126, 65\r\n    131, 10000011, 11000001, -125, -63\r\n    132, 10000100, 00100001, -124, 33\r\n    133, 10000101, 10100001, -123, -95\r\n    134, 10000110, 01100001, -122, 97\r\n    135, 10000111, 11100001, -121, -31\r\n    136, 10001000, 00010001, -120, 17\r\n    137, 10001001, 10010001, -119, -111\r\n    138, 10001010, 01010001, -118, 81\r\n    139, 10001011, 11010001, -117, -47\r\n    140, 10001100, 00110001, -116, 49\r\n    141, 10001101, 10110001, -115, -79\r\n    142, 10001110, 01110001, -114, 113\r\n    143, 10001111, 11110001, -113, -15\r\n    144, 10010000, 00001001, -112, 9\r\n    145, 10010001, 10001001, -111, -119\r\n    146, 10010010, 01001001, -110, 73\r\n    147, 10010011, 11001001, -109, -55\r\n    148, 10010100, 00101001, -108, 41\r\n    149, 10010101, 10101001, -107, -87\r\n    150, 10010110, 01101001, -106, 105\r\n    151, 10010111, 11101001, -105, -23\r\n    152, 10011000, 00011001, -104, 25\r\n    153, 10011001, 10011001, -103, -103\r\n    154, 10011010, 01011001, -102, 89\r\n    155, 10011011, 11011001, -101, -39\r\n    156, 10011100, 00111001, -100, 57\r\n    157, 10011101, 10111001, -99, -71\r\n    158, 10011110, 01111001, -98, 121\r\n    159, 10011111, 11111001, -97, -7\r\n    160, 10100000, 00000101, -96, 5\r\n    161, 10100001, 10000101, -95, -123\r\n    162, 10100010, 01000101, -94, 69\r\n    163, 10100011, 11000101, -93, -59\r\n    164, 10100100, 00100101, -92, 37\r\n    165, 10100101, 10100101, -91, -91\r\n    166, 10100110, 01100101, -90, 101\r\n    167, 10100111, 11100101, -89, -27\r\n    168, 10101000, 00010101, -88, 21\r\n    169, 10101001, 10010101, -87, -107\r\n    170, 10101010, 01010101, -86, 85\r\n    171, 10101011, 11010101, -85, -43\r\n    172, 10101100, 00110101, -84, 53\r\n    173, 10101101, 10110101, -83, -75\r\n    174, 10101110, 01110101, -82, 117\r\n    175, 10101111, 11110101, -81, -11\r\n    176, 10110000, 00001101, -80, 13\r\n    177, 10110001, 10001101, -79, -115\r\n    178, 10110010, 01001101, -78, 77\r\n    179, 10110011, 11001101, -77, -51\r\n    180, 10110100, 00101101, -76, 45\r\n    181, 10110101, 10101101, -75, -83\r\n    182, 10110110, 01101101, -74, 109\r\n    183, 10110111, 11101101, -73, -19\r\n    184, 10111000, 00011101, -72, 29\r\n    185, 10111001, 10011101, -71, -99\r\n    186, 10111010, 01011101, -70, 93\r\n    187, 10111011, 11011101, -69, -35\r\n    188, 10111100, 00111101, -68, 61\r\n    189, 10111101, 10111101, -67, -67\r\n    190, 10111110, 01111101, -66, 125\r\n    191, 10111111, 11111101, -65, -3\r\n    192, 11000000, 00000011, -64, 3\r\n    193, 11000001, 10000011, -63, -125\r\n    194, 11000010, 01000011, -62, 67\r\n    195, 11000011, 11000011, -61, -61\r\n    196, 11000100, 00100011, -60, 35\r\n    197, 11000101, 10100011, -59, -93\r\n    198, 11000110, 01100011, -58, 99\r\n    199, 11000111, 11100011, -57, -29\r\n    200, 11001000, 00010011, -56, 19\r\n    201, 11001001, 10010011, -55, -109\r\n    202, 11001010, 01010011, -54, 83\r\n    203, 11001011, 11010011, -53, -45\r\n    204, 11001100, 00110011, -52, 51\r\n    205, 11001101, 10110011, -51, -77\r\n    206, 11001110, 01110011, -50, 115\r\n    207, 11001111, 11110011, -49, -13\r\n    208, 11010000, 00001011, -48, 11\r\n    209, 11010001, 10001011, -47, -117\r\n    210, 11010010, 01001011, -46, 75\r\n    211, 11010011, 11001011, -45, -53\r\n    212, 11010100, 00101011, -44, 43\r\n    213, 11010101, 10101011, -43, -85\r\n    214, 11010110, 01101011, -42, 107\r\n    215, 11010111, 11101011, -41, -21\r\n    216, 11011000, 00011011, -40, 27\r\n    217, 11011001, 10011011, -39, -101\r\n    218, 11011010, 01011011, -38, 91\r\n    219, 11011011, 11011011, -37, -37\r\n    220, 11011100, 00111011, -36, 59\r\n    221, 11011101, 10111011, -35, -69\r\n    222, 11011110, 01111011, -34, 123\r\n    223, 11011111, 11111011, -33, -5\r\n    224, 11100000, 00000111, -32, 7\r\n    225, 11100001, 10000111, -31, -121\r\n    226, 11100010, 01000111, -30, 71\r\n    227, 11100011, 11000111, -29, -57\r\n    228, 11100100, 00100111, -28, 39\r\n    229, 11100101, 10100111, -27, -89\r\n    230, 11100110, 01100111, -26, 103\r\n    231, 11100111, 11100111, -25, -25\r\n    232, 11101000, 00010111, -24, 23\r\n    233, 11101001, 10010111, -23, -105\r\n    234, 11101010, 01010111, -22, 87\r\n    235, 11101011, 11010111, -21, -41\r\n    236, 11101100, 00110111, -20, 55\r\n    237, 11101101, 10110111, -19, -73\r\n    238, 11101110, 01110111, -18, 119\r\n    239, 11101111, 11110111, -17, -9\r\n    240, 11110000, 00001111, -16, 15\r\n    241, 11110001, 10001111, -15, -113\r\n    242, 11110010, 01001111, -14, 79\r\n    243, 11110011, 11001111, -13, -49\r\n    244, 11110100, 00101111, -12, 47\r\n    245, 11110101, 10101111, -11, -81\r\n    246, 11110110, 01101111, -10, 111\r\n    247, 11110111, 11101111, -9, -17\r\n    248, 11111000, 00011111, -8, 31\r\n    249, 11111001, 10011111, -7, -97\r\n    250, 11111010, 01011111, -6, 95\r\n    251, 11111011, 11011111, -5, -33\r\n    252, 11111100, 00111111, -4, 63\r\n    253, 11111101, 10111111, -3, -65\r\n    254, 11111110, 01111111, -2, 127\r\n    255, 11111111, 11111111, -1, -1\r\n\r\n\r\n\r\n\r\n\r\nand which you can see is correct via inspection. Especially around the +/- 127/128 boundary where some of the other answers are wrong.\r\n\r\n\r\n----------------\r\n\r\nJust who on God&#39;s good Earth decided to have signed bytes in Java? That really was the first Evil.","title":"How can I invert bits of an unsigned byte in Java?","body":"<p>Or, you can do it without any dodgy signed arithmetic, using string handling instead:-</p>\n<pre><code>public class ReverseBits {\npublic static void main(String[] args) {\n\n    byte[] reversedBits = {\n            (byte) 0b00000000,\n            (byte) 0b10000000,\n            (byte) 0b01000000,\n            (byte) 0b11000000,\n            (byte) 0b00100000,\n            (byte) 0b10100000,\n            (byte) 0b01100000,\n            (byte) 0b11100000,\n            (byte) 0b00010000,\n            (byte) 0b10010000,\n            (byte) 0b01010000,\n            (byte) 0b11010000,\n            (byte) 0b00110000,\n            (byte) 0b10110000,\n            (byte) 0b01110000,\n            (byte) 0b11110000,\n            (byte) 0b00001000,\n            (byte) 0b10001000,\n            (byte) 0b01001000,\n            (byte) 0b11001000,\n            (byte) 0b00101000,\n            (byte) 0b10101000,\n            (byte) 0b01101000,\n            (byte) 0b11101000,\n            (byte) 0b00011000,\n            (byte) 0b10011000,\n            (byte) 0b01011000,\n            (byte) 0b11011000,\n            (byte) 0b00111000,\n            (byte) 0b10111000,\n            (byte) 0b01111000,\n            (byte) 0b11111000,\n            (byte) 0b00000100,\n            (byte) 0b10000100,\n            (byte) 0b01000100,\n            (byte) 0b11000100,\n            (byte) 0b00100100,\n            (byte) 0b10100100,\n            (byte) 0b01100100,\n            (byte) 0b11100100,\n            (byte) 0b00010100,\n            (byte) 0b10010100,\n            (byte) 0b01010100,\n            (byte) 0b11010100,\n            (byte) 0b00110100,\n            (byte) 0b10110100,\n            (byte) 0b01110100,\n            (byte) 0b11110100,\n            (byte) 0b00001100,\n            (byte) 0b10001100,\n            (byte) 0b01001100,\n            (byte) 0b11001100,\n            (byte) 0b00101100,\n            (byte) 0b10101100,\n            (byte) 0b01101100,\n            (byte) 0b11101100,\n            (byte) 0b00011100,\n            (byte) 0b10011100,\n            (byte) 0b01011100,\n            (byte) 0b11011100,\n            (byte) 0b00111100,\n            (byte) 0b10111100,\n            (byte) 0b01111100,\n            (byte) 0b11111100,\n            (byte) 0b00000010,\n            (byte) 0b10000010,\n            (byte) 0b01000010,\n            (byte) 0b11000010,\n            (byte) 0b00100010,\n            (byte) 0b10100010,\n            (byte) 0b01100010,\n            (byte) 0b11100010,\n            (byte) 0b00010010,\n            (byte) 0b10010010,\n            (byte) 0b01010010,\n            (byte) 0b11010010,\n            (byte) 0b00110010,\n            (byte) 0b10110010,\n            (byte) 0b01110010,\n            (byte) 0b11110010,\n            (byte) 0b00001010,\n            (byte) 0b10001010,\n            (byte) 0b01001010,\n            (byte) 0b11001010,\n            (byte) 0b00101010,\n            (byte) 0b10101010,\n            (byte) 0b01101010,\n            (byte) 0b11101010,\n            (byte) 0b00011010,\n            (byte) 0b10011010,\n            (byte) 0b01011010,\n            (byte) 0b11011010,\n            (byte) 0b00111010,\n            (byte) 0b10111010,\n            (byte) 0b01111010,\n            (byte) 0b11111010,\n            (byte) 0b00000110,\n            (byte) 0b10000110,\n            (byte) 0b01000110,\n            (byte) 0b11000110,\n            (byte) 0b00100110,\n            (byte) 0b10100110,\n            (byte) 0b01100110,\n            (byte) 0b11100110,\n            (byte) 0b00010110,\n            (byte) 0b10010110,\n            (byte) 0b01010110,\n            (byte) 0b11010110,\n            (byte) 0b00110110,\n            (byte) 0b10110110,\n            (byte) 0b01110110,\n            (byte) 0b11110110,\n            (byte) 0b00001110,\n            (byte) 0b10001110,\n            (byte) 0b01001110,\n            (byte) 0b11001110,\n            (byte) 0b00101110,\n            (byte) 0b10101110,\n            (byte) 0b01101110,\n            (byte) 0b11101110,\n            (byte) 0b00011110,\n            (byte) 0b10011110,\n            (byte) 0b01011110,\n            (byte) 0b11011110,\n            (byte) 0b00111110,\n            (byte) 0b10111110,\n            (byte) 0b01111110,\n            (byte) 0b11111110,\n            (byte) 0b00000001,\n            (byte) 0b10000001,\n            (byte) 0b01000001,\n            (byte) 0b11000001,\n            (byte) 0b00100001,\n            (byte) 0b10100001,\n            (byte) 0b01100001,\n            (byte) 0b11100001,\n            (byte) 0b00010001,\n            (byte) 0b10010001,\n            (byte) 0b01010001,\n            (byte) 0b11010001,\n            (byte) 0b00110001,\n            (byte) 0b10110001,\n            (byte) 0b01110001,\n            (byte) 0b11110001,\n            (byte) 0b00001001,\n            (byte) 0b10001001,\n            (byte) 0b01001001,\n            (byte) 0b11001001,\n            (byte) 0b00101001,\n            (byte) 0b10101001,\n            (byte) 0b01101001,\n            (byte) 0b11101001,\n            (byte) 0b00011001,\n            (byte) 0b10011001,\n            (byte) 0b01011001,\n            (byte) 0b11011001,\n            (byte) 0b00111001,\n            (byte) 0b10111001,\n            (byte) 0b01111001,\n            (byte) 0b11111001,\n            (byte) 0b00000101,\n            (byte) 0b10000101,\n            (byte) 0b01000101,\n            (byte) 0b11000101,\n            (byte) 0b00100101,\n            (byte) 0b10100101,\n            (byte) 0b01100101,\n            (byte) 0b11100101,\n            (byte) 0b00010101,\n            (byte) 0b10010101,\n            (byte) 0b01010101,\n            (byte) 0b11010101,\n            (byte) 0b00110101,\n            (byte) 0b10110101,\n            (byte) 0b01110101,\n            (byte) 0b11110101,\n            (byte) 0b00001101,\n            (byte) 0b10001101,\n            (byte) 0b01001101,\n            (byte) 0b11001101,\n            (byte) 0b00101101,\n            (byte) 0b10101101,\n            (byte) 0b01101101,\n            (byte) 0b11101101,\n            (byte) 0b00011101,\n            (byte) 0b10011101,\n            (byte) 0b01011101,\n            (byte) 0b11011101,\n            (byte) 0b00111101,\n            (byte) 0b10111101,\n            (byte) 0b01111101,\n            (byte) 0b11111101,\n            (byte) 0b00000011,\n            (byte) 0b10000011,\n            (byte) 0b01000011,\n            (byte) 0b11000011,\n            (byte) 0b00100011,\n            (byte) 0b10100011,\n            (byte) 0b01100011,\n            (byte) 0b11100011,\n            (byte) 0b00010011,\n            (byte) 0b10010011,\n            (byte) 0b01010011,\n            (byte) 0b11010011,\n            (byte) 0b00110011,\n            (byte) 0b10110011,\n            (byte) 0b01110011,\n            (byte) 0b11110011,\n            (byte) 0b00001011,\n            (byte) 0b10001011,\n            (byte) 0b01001011,\n            (byte) 0b11001011,\n            (byte) 0b00101011,\n            (byte) 0b10101011,\n            (byte) 0b01101011,\n            (byte) 0b11101011,\n            (byte) 0b00011011,\n            (byte) 0b10011011,\n            (byte) 0b01011011,\n            (byte) 0b11011011,\n            (byte) 0b00111011,\n            (byte) 0b10111011,\n            (byte) 0b01111011,\n            (byte) 0b11111011,\n            (byte) 0b00000111,\n            (byte) 0b10000111,\n            (byte) 0b01000111,\n            (byte) 0b11000111,\n            (byte) 0b00100111,\n            (byte) 0b10100111,\n            (byte) 0b01100111,\n            (byte) 0b11100111,\n            (byte) 0b00010111,\n            (byte) 0b10010111,\n            (byte) 0b01010111,\n            (byte) 0b11010111,\n            (byte) 0b00110111,\n            (byte) 0b10110111,\n            (byte) 0b01110111,\n            (byte) 0b11110111,\n            (byte) 0b00001111,\n            (byte) 0b10001111,\n            (byte) 0b01001111,\n            (byte) 0b11001111,\n            (byte) 0b00101111,\n            (byte) 0b10101111,\n            (byte) 0b01101111,\n            (byte) 0b11101111,\n            (byte) 0b00011111,\n            (byte) 0b10011111,\n            (byte) 0b01011111,\n            (byte) 0b11011111,\n            (byte) 0b00111111,\n            (byte) 0b10111111,\n            (byte) 0b01111111,\n            (byte) 0b11111111\n             };\n\n\n\n\nfor (var i = 0; i &lt; 256; i++) {\n        var b = (byte) i;\n        var s = String.format(&quot;%8s&quot;, Integer.toBinaryString(b &amp; 0xFF)).replace(' ', '0');\n        var reversedString = new StringBuilder();\n        reversedString.append(s);\n        reversedString = reversedString.reverse();\n        var sR = reversedString.toString();\n        System.out.println(i + &quot;, &quot; + s + &quot;, &quot; + sR + &quot;, &quot; + (byte) i + &quot;, &quot; + reversedBits[i]);\n    }\n</code></pre>\n<p>which produces:-</p>\n<pre><code>0, 00000000, 00000000, 0, 0\n1, 00000001, 10000000, 1, -128\n2, 00000010, 01000000, 2, 64\n3, 00000011, 11000000, 3, -64\n4, 00000100, 00100000, 4, 32\n5, 00000101, 10100000, 5, -96\n6, 00000110, 01100000, 6, 96\n7, 00000111, 11100000, 7, -32\n8, 00001000, 00010000, 8, 16\n9, 00001001, 10010000, 9, -112\n10, 00001010, 01010000, 10, 80\n11, 00001011, 11010000, 11, -48\n12, 00001100, 00110000, 12, 48\n13, 00001101, 10110000, 13, -80\n14, 00001110, 01110000, 14, 112\n15, 00001111, 11110000, 15, -16\n16, 00010000, 00001000, 16, 8\n17, 00010001, 10001000, 17, -120\n18, 00010010, 01001000, 18, 72\n19, 00010011, 11001000, 19, -56\n20, 00010100, 00101000, 20, 40\n21, 00010101, 10101000, 21, -88\n22, 00010110, 01101000, 22, 104\n23, 00010111, 11101000, 23, -24\n24, 00011000, 00011000, 24, 24\n25, 00011001, 10011000, 25, -104\n26, 00011010, 01011000, 26, 88\n27, 00011011, 11011000, 27, -40\n28, 00011100, 00111000, 28, 56\n29, 00011101, 10111000, 29, -72\n30, 00011110, 01111000, 30, 120\n31, 00011111, 11111000, 31, -8\n32, 00100000, 00000100, 32, 4\n33, 00100001, 10000100, 33, -124\n34, 00100010, 01000100, 34, 68\n35, 00100011, 11000100, 35, -60\n36, 00100100, 00100100, 36, 36\n37, 00100101, 10100100, 37, -92\n38, 00100110, 01100100, 38, 100\n39, 00100111, 11100100, 39, -28\n40, 00101000, 00010100, 40, 20\n41, 00101001, 10010100, 41, -108\n42, 00101010, 01010100, 42, 84\n43, 00101011, 11010100, 43, -44\n44, 00101100, 00110100, 44, 52\n45, 00101101, 10110100, 45, -76\n46, 00101110, 01110100, 46, 116\n47, 00101111, 11110100, 47, -12\n48, 00110000, 00001100, 48, 12\n49, 00110001, 10001100, 49, -116\n50, 00110010, 01001100, 50, 76\n51, 00110011, 11001100, 51, -52\n52, 00110100, 00101100, 52, 44\n53, 00110101, 10101100, 53, -84\n54, 00110110, 01101100, 54, 108\n55, 00110111, 11101100, 55, -20\n56, 00111000, 00011100, 56, 28\n57, 00111001, 10011100, 57, -100\n58, 00111010, 01011100, 58, 92\n59, 00111011, 11011100, 59, -36\n60, 00111100, 00111100, 60, 60\n61, 00111101, 10111100, 61, -68\n62, 00111110, 01111100, 62, 124\n63, 00111111, 11111100, 63, -4\n64, 01000000, 00000010, 64, 2\n65, 01000001, 10000010, 65, -126\n66, 01000010, 01000010, 66, 66\n67, 01000011, 11000010, 67, -62\n68, 01000100, 00100010, 68, 34\n69, 01000101, 10100010, 69, -94\n70, 01000110, 01100010, 70, 98\n71, 01000111, 11100010, 71, -30\n72, 01001000, 00010010, 72, 18\n73, 01001001, 10010010, 73, -110\n74, 01001010, 01010010, 74, 82\n75, 01001011, 11010010, 75, -46\n76, 01001100, 00110010, 76, 50\n77, 01001101, 10110010, 77, -78\n78, 01001110, 01110010, 78, 114\n79, 01001111, 11110010, 79, -14\n80, 01010000, 00001010, 80, 10\n81, 01010001, 10001010, 81, -118\n82, 01010010, 01001010, 82, 74\n83, 01010011, 11001010, 83, -54\n84, 01010100, 00101010, 84, 42\n85, 01010101, 10101010, 85, -86\n86, 01010110, 01101010, 86, 106\n87, 01010111, 11101010, 87, -22\n88, 01011000, 00011010, 88, 26\n89, 01011001, 10011010, 89, -102\n90, 01011010, 01011010, 90, 90\n91, 01011011, 11011010, 91, -38\n92, 01011100, 00111010, 92, 58\n93, 01011101, 10111010, 93, -70\n94, 01011110, 01111010, 94, 122\n95, 01011111, 11111010, 95, -6\n96, 01100000, 00000110, 96, 6\n97, 01100001, 10000110, 97, -122\n98, 01100010, 01000110, 98, 70\n99, 01100011, 11000110, 99, -58\n100, 01100100, 00100110, 100, 38\n101, 01100101, 10100110, 101, -90\n102, 01100110, 01100110, 102, 102\n103, 01100111, 11100110, 103, -26\n104, 01101000, 00010110, 104, 22\n105, 01101001, 10010110, 105, -106\n106, 01101010, 01010110, 106, 86\n107, 01101011, 11010110, 107, -42\n108, 01101100, 00110110, 108, 54\n109, 01101101, 10110110, 109, -74\n110, 01101110, 01110110, 110, 118\n111, 01101111, 11110110, 111, -10\n112, 01110000, 00001110, 112, 14\n113, 01110001, 10001110, 113, -114\n114, 01110010, 01001110, 114, 78\n115, 01110011, 11001110, 115, -50\n116, 01110100, 00101110, 116, 46\n117, 01110101, 10101110, 117, -82\n118, 01110110, 01101110, 118, 110\n119, 01110111, 11101110, 119, -18\n120, 01111000, 00011110, 120, 30\n121, 01111001, 10011110, 121, -98\n122, 01111010, 01011110, 122, 94\n123, 01111011, 11011110, 123, -34\n124, 01111100, 00111110, 124, 62\n125, 01111101, 10111110, 125, -66\n126, 01111110, 01111110, 126, 126\n127, 01111111, 11111110, 127, -2\n128, 10000000, 00000001, -128, 1\n129, 10000001, 10000001, -127, -127\n130, 10000010, 01000001, -126, 65\n131, 10000011, 11000001, -125, -63\n132, 10000100, 00100001, -124, 33\n133, 10000101, 10100001, -123, -95\n134, 10000110, 01100001, -122, 97\n135, 10000111, 11100001, -121, -31\n136, 10001000, 00010001, -120, 17\n137, 10001001, 10010001, -119, -111\n138, 10001010, 01010001, -118, 81\n139, 10001011, 11010001, -117, -47\n140, 10001100, 00110001, -116, 49\n141, 10001101, 10110001, -115, -79\n142, 10001110, 01110001, -114, 113\n143, 10001111, 11110001, -113, -15\n144, 10010000, 00001001, -112, 9\n145, 10010001, 10001001, -111, -119\n146, 10010010, 01001001, -110, 73\n147, 10010011, 11001001, -109, -55\n148, 10010100, 00101001, -108, 41\n149, 10010101, 10101001, -107, -87\n150, 10010110, 01101001, -106, 105\n151, 10010111, 11101001, -105, -23\n152, 10011000, 00011001, -104, 25\n153, 10011001, 10011001, -103, -103\n154, 10011010, 01011001, -102, 89\n155, 10011011, 11011001, -101, -39\n156, 10011100, 00111001, -100, 57\n157, 10011101, 10111001, -99, -71\n158, 10011110, 01111001, -98, 121\n159, 10011111, 11111001, -97, -7\n160, 10100000, 00000101, -96, 5\n161, 10100001, 10000101, -95, -123\n162, 10100010, 01000101, -94, 69\n163, 10100011, 11000101, -93, -59\n164, 10100100, 00100101, -92, 37\n165, 10100101, 10100101, -91, -91\n166, 10100110, 01100101, -90, 101\n167, 10100111, 11100101, -89, -27\n168, 10101000, 00010101, -88, 21\n169, 10101001, 10010101, -87, -107\n170, 10101010, 01010101, -86, 85\n171, 10101011, 11010101, -85, -43\n172, 10101100, 00110101, -84, 53\n173, 10101101, 10110101, -83, -75\n174, 10101110, 01110101, -82, 117\n175, 10101111, 11110101, -81, -11\n176, 10110000, 00001101, -80, 13\n177, 10110001, 10001101, -79, -115\n178, 10110010, 01001101, -78, 77\n179, 10110011, 11001101, -77, -51\n180, 10110100, 00101101, -76, 45\n181, 10110101, 10101101, -75, -83\n182, 10110110, 01101101, -74, 109\n183, 10110111, 11101101, -73, -19\n184, 10111000, 00011101, -72, 29\n185, 10111001, 10011101, -71, -99\n186, 10111010, 01011101, -70, 93\n187, 10111011, 11011101, -69, -35\n188, 10111100, 00111101, -68, 61\n189, 10111101, 10111101, -67, -67\n190, 10111110, 01111101, -66, 125\n191, 10111111, 11111101, -65, -3\n192, 11000000, 00000011, -64, 3\n193, 11000001, 10000011, -63, -125\n194, 11000010, 01000011, -62, 67\n195, 11000011, 11000011, -61, -61\n196, 11000100, 00100011, -60, 35\n197, 11000101, 10100011, -59, -93\n198, 11000110, 01100011, -58, 99\n199, 11000111, 11100011, -57, -29\n200, 11001000, 00010011, -56, 19\n201, 11001001, 10010011, -55, -109\n202, 11001010, 01010011, -54, 83\n203, 11001011, 11010011, -53, -45\n204, 11001100, 00110011, -52, 51\n205, 11001101, 10110011, -51, -77\n206, 11001110, 01110011, -50, 115\n207, 11001111, 11110011, -49, -13\n208, 11010000, 00001011, -48, 11\n209, 11010001, 10001011, -47, -117\n210, 11010010, 01001011, -46, 75\n211, 11010011, 11001011, -45, -53\n212, 11010100, 00101011, -44, 43\n213, 11010101, 10101011, -43, -85\n214, 11010110, 01101011, -42, 107\n215, 11010111, 11101011, -41, -21\n216, 11011000, 00011011, -40, 27\n217, 11011001, 10011011, -39, -101\n218, 11011010, 01011011, -38, 91\n219, 11011011, 11011011, -37, -37\n220, 11011100, 00111011, -36, 59\n221, 11011101, 10111011, -35, -69\n222, 11011110, 01111011, -34, 123\n223, 11011111, 11111011, -33, -5\n224, 11100000, 00000111, -32, 7\n225, 11100001, 10000111, -31, -121\n226, 11100010, 01000111, -30, 71\n227, 11100011, 11000111, -29, -57\n228, 11100100, 00100111, -28, 39\n229, 11100101, 10100111, -27, -89\n230, 11100110, 01100111, -26, 103\n231, 11100111, 11100111, -25, -25\n232, 11101000, 00010111, -24, 23\n233, 11101001, 10010111, -23, -105\n234, 11101010, 01010111, -22, 87\n235, 11101011, 11010111, -21, -41\n236, 11101100, 00110111, -20, 55\n237, 11101101, 10110111, -19, -73\n238, 11101110, 01110111, -18, 119\n239, 11101111, 11110111, -17, -9\n240, 11110000, 00001111, -16, 15\n241, 11110001, 10001111, -15, -113\n242, 11110010, 01001111, -14, 79\n243, 11110011, 11001111, -13, -49\n244, 11110100, 00101111, -12, 47\n245, 11110101, 10101111, -11, -81\n246, 11110110, 01101111, -10, 111\n247, 11110111, 11101111, -9, -17\n248, 11111000, 00011111, -8, 31\n249, 11111001, 10011111, -7, -97\n250, 11111010, 01011111, -6, 95\n251, 11111011, 11011111, -5, -33\n252, 11111100, 00111111, -4, 63\n253, 11111101, 10111111, -3, -65\n254, 11111110, 01111111, -2, 127\n255, 11111111, 11111111, -1, -1\n</code></pre>\n<p>and which you can see is correct via inspection. Especially around the +/- 127/128 boundary where some of the other answers are wrong.</p>\n<hr />\n<p>Just who on God's good Earth decided to have signed bytes in Java? That really was the first Evil.</p>\n"}],"owner":{"account_id":194589,"reputation":301,"user_id":437030,"display_name":"DavidKelly999"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46960,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"answer_count":8,"score":20,"last_activity_date":1699709031,"creation_date":1279967115,"question_id":3324707,"body_markdown":"I am trying to write a decoder for a very simple type of encryption. Numbers from 0-255 are entered via Scanner, the bits are inverted, and then converted to a character and printed. \r\n\r\nFor example, the number 178 should convert to the letter &quot;M&quot;. \r\n\r\n178 is 10110010. \r\n\r\nInverting all of the bits should give 01001101, which is 77 or &quot;M&quot; as a character.\r\n\r\nThe main problem I have is that, as far as I can tell, Java does not support unsigned bytes. I could read values as an int or a short, but then the values will be off during the conversion due to the extra bits. Ideally I could just use the bitwise complement operator, but I think I will end up getting negative values if I do this with signed numbers. Any ideas on how I should approach this?\r\n","title":"How can I invert bits of an unsigned byte in Java?","body":"<p>I am trying to write a decoder for a very simple type of encryption. Numbers from 0-255 are entered via Scanner, the bits are inverted, and then converted to a character and printed. </p>\n\n<p>For example, the number 178 should convert to the letter \"M\". </p>\n\n<p>178 is 10110010. </p>\n\n<p>Inverting all of the bits should give 01001101, which is 77 or \"M\" as a character.</p>\n\n<p>The main problem I have is that, as far as I can tell, Java does not support unsigned bytes. I could read values as an int or a short, but then the values will be off during the conversion due to the extra bits. Ideally I could just use the bitwise complement operator, but I think I will end up getting negative values if I do this with signed numbers. Any ideas on how I should approach this?</p>\n"},{"tags":["java","ssl","cryptography","certificate","pem"],"owner":{"account_id":2810221,"reputation":1210,"user_id":2416601,"accept_rate":60,"display_name":"vanessen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1699710050,"answer_count":0,"score":0,"last_activity_date":1699708184,"creation_date":1699708184,"question_id":77465209,"body_markdown":"I am actually using java codes to encrypt a sample text using a public certificate which is of type pem. When encrypting I keep getting the following error : \r\n\r\n&gt; java.security.spec.InvalidKeySpecException: java.security.InvalidKeyException: IOException: ObjectIdentifier() -- data isn&#39;t an object ID (tag = -96)\r\n        at java.base/sun.security.rsa.RSAKeyFactory.engineGeneratePublic(RSAKeyFactory.java:239)\r\n        at java.base/java.security.KeyFactory.generatePublic(KeyFactory.java:352)\r\n        at TextEncryptor.getPublicKeyFromString(TextEncryptor.java:45)\r\n        at TextEncryptor.main(TextEncryptor.java:19)\r\nCaused by: java.security.InvalidKeyException: IOException: ObjectIdentifier() -- data isn&#39;t an object ID (tag = -96)\r\n        at java.base/sun.security.x509.X509Key.decode(X509Key.java:396)\r\n        at java.base/sun.security.x509.X509Key.decode(X509Key.java:401)\r\n        at java.base/sun.security.rsa.RSAPublicKeyImpl.&lt;init&gt;(RSAPublicKeyImpl.java:122)\r\n        at java.base/sun.security.rsa.RSAKeyFactory.generatePublic(RSAKeyFactory.java:330)\r\n        at java.base/sun.security.rsa.RSAKeyFactory.engineGeneratePublic(RSAKeyFactory.java:235)\r\n        ... 3 more\r\n\r\nHere is the code I&#39;m using  : \r\n\r\n    import java.nio.charset.StandardCharsets;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Paths;\r\n    import java.security.KeyFactory;\r\n    import java.security.PublicKey;\r\n    import java.security.spec.X509EncodedKeySpec;\r\n    import javax.crypto.Cipher;\r\n    import java.util.Base64;\r\n    \r\n    public class TextEncryptor {\r\n    public static void main(String[] args) {\r\n        try {\r\n            // Replace with the path to your public key (.crt) file\r\n            String publicKeyPath = &quot;PublicKey.crt&quot;;\r\n\r\n            // Load public key from file\r\n            String publicKeyContent = new String(Files.readAllBytes(Paths.get(publicKeyPath)), StandardCharsets.UTF_8);\r\n            PublicKey publicKey = getPublicKeyFromString(publicKeyContent);\r\n\r\n            // Text to be encrypted\r\n            String plaintext = &quot;Hello, this is a secret message.&quot;;\r\n\r\n            // Encrypt the text\r\n            String encryptedText = encryptText(plaintext, publicKey);\r\n\r\n            System.out.println(&quot;Original text: &quot; + plaintext);\r\n            System.out.println(&quot;Encrypted text: &quot; + encryptedText);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    // Method to load a public key from a string\r\n    private static PublicKey getPublicKeyFromString(String key) throws Exception {\r\n        //remove the begin and end\r\n        //System.out.println(&quot;crt file : &quot; + key);\r\n        String publicKeyPEM = key\r\n        .replace(&quot;-----BEGIN CERTIFICATE-----&quot;, &quot;&quot;)\r\n        .replaceAll(System.lineSeparator(), &quot;&quot;)\r\n        .replace(&quot;-----END CERTIFICATE-----&quot;, &quot;&quot;);\r\n        byte[] keyBytes = Base64.getDecoder().decode(publicKeyPEM);\r\n        X509EncodedKeySpec keySpec = new X509EncodedKeySpec(keyBytes);\r\n        KeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\r\n        return keyFactory.generatePublic(keySpec);\r\n    }\r\n\r\n    // Method to encrypt text using a public key\r\n    private static String encryptText(String plaintext, PublicKey publicKey) throws Exception {\r\n        Cipher cipher = Cipher.getInstance(&quot;RSA&quot;);\r\n        cipher.init(Cipher.ENCRYPT_MODE, publicKey);\r\n        byte[] encryptedBytes = cipher.doFinal(plaintext.getBytes(StandardCharsets.UTF_8));\r\n        return Base64.getEncoder().encodeToString(encryptedBytes);\r\n    }\r\n}\r\n\r\n\r\nThe public certificate is like this : \r\n\r\n    -----BEGIN CERTIFICATE-----\r\n    MI......................==\r\n    -----END CERTIFICATE-----\r\n\r\n(I skipped some content from the certificate to keep only header and footer here)\r\n\r\nWhat am I missing here ? \r\n","title":"Encrypting a text using pem public certificate not working","body":"<p>I am actually using java codes to encrypt a sample text using a public certificate which is of type pem. When encrypting I keep getting the following error :</p>\n<blockquote>\n<p>java.security.spec.InvalidKeySpecException: java.security.InvalidKeyException: IOException: ObjectIdentifier() -- data isn't an object ID (tag = -96)\nat java.base/sun.security.rsa.RSAKeyFactory.engineGeneratePublic(RSAKeyFactory.java:239)\nat java.base/java.security.KeyFactory.generatePublic(KeyFactory.java:352)\nat TextEncryptor.getPublicKeyFromString(TextEncryptor.java:45)\nat TextEncryptor.main(TextEncryptor.java:19)\nCaused by: java.security.InvalidKeyException: IOException: ObjectIdentifier() -- data isn't an object ID (tag = -96)\nat java.base/sun.security.x509.X509Key.decode(X509Key.java:396)\nat java.base/sun.security.x509.X509Key.decode(X509Key.java:401)\nat java.base/sun.security.rsa.RSAPublicKeyImpl.(RSAPublicKeyImpl.java:122)\nat java.base/sun.security.rsa.RSAKeyFactory.generatePublic(RSAKeyFactory.java:330)\nat java.base/sun.security.rsa.RSAKeyFactory.engineGeneratePublic(RSAKeyFactory.java:235)\n... 3 more</p>\n</blockquote>\n<p>Here is the code I'm using  :</p>\n<pre><code>import java.nio.charset.StandardCharsets;\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\nimport java.security.KeyFactory;\nimport java.security.PublicKey;\nimport java.security.spec.X509EncodedKeySpec;\nimport javax.crypto.Cipher;\nimport java.util.Base64;\n\npublic class TextEncryptor {\npublic static void main(String[] args) {\n    try {\n        // Replace with the path to your public key (.crt) file\n        String publicKeyPath = &quot;PublicKey.crt&quot;;\n\n        // Load public key from file\n        String publicKeyContent = new String(Files.readAllBytes(Paths.get(publicKeyPath)), StandardCharsets.UTF_8);\n        PublicKey publicKey = getPublicKeyFromString(publicKeyContent);\n\n        // Text to be encrypted\n        String plaintext = &quot;Hello, this is a secret message.&quot;;\n\n        // Encrypt the text\n        String encryptedText = encryptText(plaintext, publicKey);\n\n        System.out.println(&quot;Original text: &quot; + plaintext);\n        System.out.println(&quot;Encrypted text: &quot; + encryptedText);\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n\n// Method to load a public key from a string\nprivate static PublicKey getPublicKeyFromString(String key) throws Exception {\n    //remove the begin and end\n    //System.out.println(&quot;crt file : &quot; + key);\n    String publicKeyPEM = key\n    .replace(&quot;-----BEGIN CERTIFICATE-----&quot;, &quot;&quot;)\n    .replaceAll(System.lineSeparator(), &quot;&quot;)\n    .replace(&quot;-----END CERTIFICATE-----&quot;, &quot;&quot;);\n    byte[] keyBytes = Base64.getDecoder().decode(publicKeyPEM);\n    X509EncodedKeySpec keySpec = new X509EncodedKeySpec(keyBytes);\n    KeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\n    return keyFactory.generatePublic(keySpec);\n}\n\n// Method to encrypt text using a public key\nprivate static String encryptText(String plaintext, PublicKey publicKey) throws Exception {\n    Cipher cipher = Cipher.getInstance(&quot;RSA&quot;);\n    cipher.init(Cipher.ENCRYPT_MODE, publicKey);\n    byte[] encryptedBytes = cipher.doFinal(plaintext.getBytes(StandardCharsets.UTF_8));\n    return Base64.getEncoder().encodeToString(encryptedBytes);\n}\n</code></pre>\n<p>}</p>\n<p>The public certificate is like this :</p>\n<pre><code>-----BEGIN CERTIFICATE-----\nMI......................==\n-----END CERTIFICATE-----\n</code></pre>\n<p>(I skipped some content from the certificate to keep only header and footer here)</p>\n<p>What am I missing here ?</p>\n"},{"tags":["java","junit4","properties-file","testcase"],"comments":[{"owner":{"account_id":143602,"reputation":4091,"user_id":352054,"accept_rate":76,"display_name":"dom farr"},"score":0,"creation_date":1444743070,"post_id":33103964,"comment_id":54022834,"body_markdown":"unit test? integration test? what value do you want your test to bring?","body":"unit test? integration test? what value do you want your test to bring?"},{"owner":{"account_id":166441,"reputation":2222,"user_id":390562,"accept_rate":86,"display_name":"Timo"},"score":0,"creation_date":1444743124,"post_id":33103964,"comment_id":54022886,"body_markdown":"You made the method `private`, which means that it is an internal method. You should try to focus on testing the `public` methods of the class. If you design a/multiple good test of your public methods, you will automatically test if the private method did its work.","body":"You made the method <code>private</code>, which means that it is an internal method. You should try to focus on testing the <code>public</code> methods of the class. If you design a/multiple good test of your public methods, you will automatically test if the private method did its work."},{"owner":{"account_id":6993468,"reputation":164,"user_id":5361847,"accept_rate":0,"display_name":"ShridharBavannawar"},"score":0,"creation_date":1444743519,"post_id":33103964,"comment_id":54023200,"body_markdown":"@dom  its unit testing I want.","body":"@dom  its unit testing I want."},{"owner":{"account_id":6993468,"reputation":164,"user_id":5361847,"accept_rate":0,"display_name":"ShridharBavannawar"},"score":0,"creation_date":1444743732,"post_id":33103964,"comment_id":54023382,"body_markdown":"@Timo Yeah private method cannot be tested. Had it been public how do i test it? Its just that I want to check if the data in each column is not null. How do I do that?","body":"@Timo Yeah private method cannot be tested. Had it been public how do i test it? Its just that I want to check if the data in each column is not null. How do I do that?"},{"owner":{"account_id":143602,"reputation":4091,"user_id":352054,"accept_rate":76,"display_name":"dom farr"},"score":0,"creation_date":1444743900,"post_id":33103964,"comment_id":54023508,"body_markdown":"Split this class up into many smaller classes that do only one thing (Single Responsibility Principle), and then build up your main method with all the small classes by injecting your dependencies via the constructor (Dependency Inversion Principle). Each small class should be testable without knowledge other classes and will build up.","body":"Split this class up into many smaller classes that do only one thing (Single Responsibility Principle), and then build up your main method with all the small classes by injecting your dependencies via the constructor (Dependency Inversion Principle). Each small class should be testable without knowledge other classes and will build up."},{"owner":{"account_id":6993468,"reputation":164,"user_id":5361847,"accept_rate":0,"display_name":"ShridharBavannawar"},"score":0,"creation_date":1444744412,"post_id":33103964,"comment_id":54023919,"body_markdown":"Its difficult to make from your comment!","body":"Its difficult to make from your comment!"},{"owner":{"account_id":166441,"reputation":2222,"user_id":390562,"accept_rate":86,"display_name":"Timo"},"score":0,"creation_date":1444748452,"post_id":33103964,"comment_id":54026947,"body_markdown":"If you create a test for `readFromExcel()` and check the contents of the list you should be there. If necessary you can add a breakpoint to the internal method and debug why it gave you null.","body":"If you create a test for <code>readFromExcel()</code> and check the contents of the list you should be there. If necessary you can add a breakpoint to the internal method and debug why it gave you null."},{"owner":{"account_id":6993468,"reputation":164,"user_id":5361847,"accept_rate":0,"display_name":"ShridharBavannawar"},"score":0,"creation_date":1444749016,"post_id":33103964,"comment_id":54027304,"body_markdown":"@Timo I have created a test which checks that list contains the data.\n\n\tpublic void testWhetherListConatinsData(){\n\t\tFacebookDataExtraction fbDataList= new FacebookDataExtraction();\n\t\tassertEquals(fbDataList.containsData(), true);\t\n\t}","body":"@Timo I have created a test which checks that list contains the data.  \tpublic void testWhetherListConatinsData(){ \t\tFacebookDataExtraction fbDataList= new FacebookDataExtraction(); \t\tassertEquals(fbDataList.containsData(), true);\t \t}"},{"owner":{"account_id":166441,"reputation":2222,"user_id":390562,"accept_rate":86,"display_name":"Timo"},"score":0,"creation_date":1444749570,"post_id":33103964,"comment_id":54027688,"body_markdown":"I created an answer to have some clear formatting and stuff.","body":"I created an answer to have some clear formatting and stuff."}],"answers":[{"tags":[],"owner":{"account_id":192966,"reputation":5703,"user_id":434408,"accept_rate":51,"display_name":"a3.14_Infinity"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1444749200,"creation_date":1444749200,"answer_id":33106341,"question_id":33103964,"body_markdown":" - So, you want to test readRow() method which would return FacebookFields.\r\n - Since it is private, you could not directly do unit testing on this private method, but your main objective seems to be testing this method. Let&#39;s think about refactoring/redesigning a bit here.\r\n - You could create a class `FacebookFieldRetriever`, which has a public method `retrieveFromRow()`, which returns `FacebookFields`.\r\n - So, each time `FacebookDataExtraction` encounters a row from excel sheet, it creates an object of `FacebookFieldRetriever` and invokes `retrieveFromRow()` to get `FacebookFields` object modelled from that row.\r\n - As we have passed the class design stage, let&#39;s move on to unit testing. So, now you have a public method: `retrieveFromRow()` which you could actually unit test, assuming that you have a row object which contains cells containing the actual values from the excel sheet. (Basically, we are focusing on testing switch-case logic).\r\n\r\n - FacebookFieldRetriever Class\r\n\r\n    `class FacebookFieldRetriever{   \r\n      public FacebookFields retrieveFromRow(Row row) {    \r\n      FacebookFields record= new FacebookFields();\r\n      for (Cell cell : row) {\r\n      switch (cell.getColumnIndex()) {\r\n      case 0: record.setName(cell.getStringCellValue()); \r\n      break; \r\n      case 1: record.setId(cell.getStringCellValue()); \r\n      break; \r\n      case 2: record.setDate(cell.getStringCellValue());\r\n      break; \r\n      case 3: record.setMessage(cell.getStringCellValue());\r\n      break; \r\n      case 4: record.setType(cell.getStringCellValue());\r\n      break; \r\n      case 5: record.setPage(cell.getStringCellValue());\r\n      break; \r\n      case 6: record.setLikeCount(String.valueOf(cell.getNumericCellValue()));\r\n      break; \r\n      case 7: record.setCommentCount(String.valueOf(cell.getNumericCellValue())); \r\n      break; \r\n      case 8: record.setShareCount(String.valueOf(cell.getNumericCellValue())); \r\n      break; \r\n      }\r\n      }    \r\n      return record;\r\n      }    \r\n      }`\r\n\r\n - Example of Unit test Below:\r\n\r\nclass FacebookFieldRetrieverTest\r\n    {\r\n    \r\n    private final String TEST_NAME = &quot;Mark Zuckerberg&quot;;\r\n    private final String TEST_id = &quot;4&quot;;\r\n    private final String TEST_DATE = &quot;2015-10-13;                                \r\n    private final String TEST_MSG = &quot;Welcome to Facebook&quot;;                                 \r\n    private final String TEST_TYPE = &quot;SomeType&quot;;                                \r\n    private final String TEST_PAGE = &quot;SomePage&quot;;\r\n    private final String TEST_LIKECOUNT = 6;\r\n    private final String TEST_COMMENTCOUNT = 7;\r\n    private final String TEST_SHARECOUNT = 8 ;\r\n    \r\n    \r\n    public void testFacebookFieldRetriever()\r\n    {\r\n    XSSFWorkbook wb = new XSSFWorkbook();\r\n    Sheet sheettemp = wb.createSheet();\r\n    Row row = sheettemp.createRow(1);\r\n    \r\n    Cell cell = row.createCell(0);\r\n    cell.setCellValue(TEST_NAME);\r\n    \r\n    Cell cell1 = row.createCell(1);\r\n    cell.setCellValue(TEST_id);\r\n                                     \r\n    Cell cell2 = row.createCell(2);\r\n    cell.setCellValue(TEST_DATE);\r\n                                     \r\n    Cell cell3 = row.createCell(3);\r\n    cell.setCellValue(TEST_MSG);\r\n                                     \r\n    Cell cell4 = row.createCell(4);\r\n    cell.setCellValue(TEST_TYPE);\r\n                                     \r\n    Cell cell5 = row.createCell(5);\r\n    cell.setCellValue(TEST_PAGE);\r\n                                     \r\n    Cell cell6 = row.createCell(6);\r\n    cell.setCellValue(TEST_LIKECOUNT);\r\n                                     \r\n    Cell cell7 = row.createCell(7);\r\n    cell.setCellValue(TEST_COMMENTCOUNT);\r\n                                     \r\n    Cell cell8 = row.createCell(8);\r\n    cell.setCellValue(TEST_SHARECOUNT);\r\n    \r\n    FacebookFieldRetriever fbRetriever = new FacebookFieldRetriever();\r\n    FacebookFields fbFields = fbRetriever.retrieveFromRow(row);\r\n    \r\n    assertEquals(fbFields.getName(), TEST_NAME);\r\n    assertEquals(fbFields.getId(), TEST_id);\r\n    assertEquals(fbFields.getMessage(), TEST_MSG);\r\n    assertEquals(fbFields.getLikeCount(), TEST_LIKECOUNT);\r\n    assertEquals(fbFields.getShareCount(), TEST_SHARECOUNT);\r\n    assertEquals(fbFields.getCommentCount(), TEST_COMMENTCOUNT);\r\n    assertEquals(fbFields.getPage(), TEST_PAGE);\r\n    assertEquals(fbFields.getType(), TEST_TYPE);\r\n    }\r\n    }\r\n`\r\n\r\n- You could test in the way given above. Hope it helps.","title":"How to test the method that reads the data from the excel file in java?","body":"<ul>\n<li>So, you want to test readRow() method which would return FacebookFields.</li>\n<li>Since it is private, you could not directly do unit testing on this private method, but your main objective seems to be testing this method. Let's think about refactoring/redesigning a bit here.</li>\n<li>You could create a class <code>FacebookFieldRetriever</code>, which has a public method <code>retrieveFromRow()</code>, which returns <code>FacebookFields</code>.</li>\n<li>So, each time <code>FacebookDataExtraction</code> encounters a row from excel sheet, it creates an object of <code>FacebookFieldRetriever</code> and invokes <code>retrieveFromRow()</code> to get <code>FacebookFields</code> object modelled from that row.</li>\n<li><p>As we have passed the class design stage, let's move on to unit testing. So, now you have a public method: <code>retrieveFromRow()</code> which you could actually unit test, assuming that you have a row object which contains cells containing the actual values from the excel sheet. (Basically, we are focusing on testing switch-case logic).</p></li>\n<li><p>FacebookFieldRetriever Class</p>\n\n<p><code>class FacebookFieldRetriever{<br>\n  public FacebookFields retrieveFromRow(Row row) {<br>\n  FacebookFields record= new FacebookFields();\n  for (Cell cell : row) {\n  switch (cell.getColumnIndex()) {\n  case 0: record.setName(cell.getStringCellValue()); \n  break; \n  case 1: record.setId(cell.getStringCellValue()); \n  break; \n  case 2: record.setDate(cell.getStringCellValue());\n  break; \n  case 3: record.setMessage(cell.getStringCellValue());\n  break; \n  case 4: record.setType(cell.getStringCellValue());\n  break; \n  case 5: record.setPage(cell.getStringCellValue());\n  break; \n  case 6: record.setLikeCount(String.valueOf(cell.getNumericCellValue()));\n  break; \n  case 7: record.setCommentCount(String.valueOf(cell.getNumericCellValue())); \n  break; \n  case 8: record.setShareCount(String.valueOf(cell.getNumericCellValue())); \n  break; \n  }\n  }<br>\n  return record;\n  }<br>\n  }</code></p></li>\n<li><p>Example of Unit test Below:</p></li>\n</ul>\n\n<p>class FacebookFieldRetrieverTest\n    {</p>\n\n<pre><code>private final String TEST_NAME = \"Mark Zuckerberg\";\nprivate final String TEST_id = \"4\";\nprivate final String TEST_DATE = \"2015-10-13;                                \nprivate final String TEST_MSG = \"Welcome to Facebook\";                                 \nprivate final String TEST_TYPE = \"SomeType\";                                \nprivate final String TEST_PAGE = \"SomePage\";\nprivate final String TEST_LIKECOUNT = 6;\nprivate final String TEST_COMMENTCOUNT = 7;\nprivate final String TEST_SHARECOUNT = 8 ;\n\n\npublic void testFacebookFieldRetriever()\n{\nXSSFWorkbook wb = new XSSFWorkbook();\nSheet sheettemp = wb.createSheet();\nRow row = sheettemp.createRow(1);\n\nCell cell = row.createCell(0);\ncell.setCellValue(TEST_NAME);\n\nCell cell1 = row.createCell(1);\ncell.setCellValue(TEST_id);\n\nCell cell2 = row.createCell(2);\ncell.setCellValue(TEST_DATE);\n\nCell cell3 = row.createCell(3);\ncell.setCellValue(TEST_MSG);\n\nCell cell4 = row.createCell(4);\ncell.setCellValue(TEST_TYPE);\n\nCell cell5 = row.createCell(5);\ncell.setCellValue(TEST_PAGE);\n\nCell cell6 = row.createCell(6);\ncell.setCellValue(TEST_LIKECOUNT);\n\nCell cell7 = row.createCell(7);\ncell.setCellValue(TEST_COMMENTCOUNT);\n\nCell cell8 = row.createCell(8);\ncell.setCellValue(TEST_SHARECOUNT);\n\nFacebookFieldRetriever fbRetriever = new FacebookFieldRetriever();\nFacebookFields fbFields = fbRetriever.retrieveFromRow(row);\n\nassertEquals(fbFields.getName(), TEST_NAME);\nassertEquals(fbFields.getId(), TEST_id);\nassertEquals(fbFields.getMessage(), TEST_MSG);\nassertEquals(fbFields.getLikeCount(), TEST_LIKECOUNT);\nassertEquals(fbFields.getShareCount(), TEST_SHARECOUNT);\nassertEquals(fbFields.getCommentCount(), TEST_COMMENTCOUNT);\nassertEquals(fbFields.getPage(), TEST_PAGE);\nassertEquals(fbFields.getType(), TEST_TYPE);\n}\n}\n</code></pre>\n\n<p>`</p>\n\n<ul>\n<li>You could test in the way given above. Hope it helps.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":166441,"reputation":2222,"user_id":390562,"accept_rate":86,"display_name":"Timo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1444829236,"creation_date":1444749537,"answer_id":33106461,"question_id":33103964,"body_markdown":"If you have an excel that contains &quot;expected value&quot; for the first row in your sample excel, the following test could be a start. Note that the `equals` for Lists might be a bit crude, especially since I&#39;m not sure how it treats the internal order of the elements by heart.\r\n\r\n*Edit* I&#39;ve added a constructor parameter to the `FacebookDataExtraction` class that takes the filename to the excel file it should extract data from.\r\n\r\n    @Test\r\n    public void testWhetherListConatinsData(){ \r\n        List&lt;FacebookFields&gt; expectedList = new ArrayList&lt;&gt;();\r\n        // Fill the expected list here:\r\n        expectedList.add(&quot;expected value&quot;);\r\n        // ... Add more if you want to...\r\n\r\n        // Read in data.\r\n        FacebookDataExtraction fbDataList= new FacebookDataExtraction(&quot;path/to/testdata/test_with_strange_first_name.xlsx&quot;);\r\n       \r\n        List&lt;FacebookFields&gt; listOfFields = fbDataList.readFromExcel();\r\n        // Good check to start with.\r\n        assertEquals(listOfFields.containsData(), true); \r\n\r\n        // Actual data check.\r\n        assertEquals(&quot;Lists not the same&quot;, expectedList, listOfFields);\r\n    } \r\n","title":"How to test the method that reads the data from the excel file in java?","body":"<p>If you have an excel that contains \"expected value\" for the first row in your sample excel, the following test could be a start. Note that the <code>equals</code> for Lists might be a bit crude, especially since I'm not sure how it treats the internal order of the elements by heart.</p>\n\n<p><em>Edit</em> I've added a constructor parameter to the <code>FacebookDataExtraction</code> class that takes the filename to the excel file it should extract data from.</p>\n\n<pre><code>@Test\npublic void testWhetherListConatinsData(){ \n    List&lt;FacebookFields&gt; expectedList = new ArrayList&lt;&gt;();\n    // Fill the expected list here:\n    expectedList.add(\"expected value\");\n    // ... Add more if you want to...\n\n    // Read in data.\n    FacebookDataExtraction fbDataList= new FacebookDataExtraction(\"path/to/testdata/test_with_strange_first_name.xlsx\");\n\n    List&lt;FacebookFields&gt; listOfFields = fbDataList.readFromExcel();\n    // Good check to start with.\n    assertEquals(listOfFields.containsData(), true); \n\n    // Actual data check.\n    assertEquals(\"Lists not the same\", expectedList, listOfFields);\n} \n</code></pre>\n"}],"owner":{"account_id":6993468,"reputation":164,"user_id":5361847,"accept_rate":0,"display_name":"ShridharBavannawar"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13545,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1699707690,"creation_date":1444742880,"question_id":33103964,"body_markdown":"[![enter image description here][1]][1]\r\nThe above picture shows the excel file containing the Facebook data.\r\n\r\nThe class `FacebookDataExtraction` reads the data from the Excel file and stores the data as list of row objects as shown in the code.\r\nI have made use of the config.properties file to get the file path. The contents of config.properties file are: `FILE_NAME=D:/Refreshed_data_daily/all_hue_posts_in_excel.xlsx.`\r\n\r\n    public class FacebookDataExtraction {\r\n    \r\n    //private static final String FILE_NAME=&quot;D:/Refreshed_data_daily/all_hue_posts_in_excel.xlsx&quot;;\r\n    private static final String SHEET_NAME=&quot;nextv54plus_actions&quot;;\r\n    XSSFWorkbook workbook;\r\n    \r\n        public static void main(String[] args){\r\n        \r\n            FacebookDataExtraction obj= new FacebookDataExtraction();\r\n            List&lt;FacebookFields&gt; displayList= new ArrayList&lt;FacebookFields&gt;();\r\n            displayList=obj.readFromExcel();\r\n            System.out.println(&quot;The Size of the list is:&quot;+ displayList.size());\r\n        }\r\n        \r\n        public List&lt;FacebookFields&gt; readFromExcel() {\r\n            List&lt;FacebookFields&gt; fbList= new ArrayList&lt;FacebookFields&gt;();\r\n            try\r\n            {\r\n                ReadPropertyFile data= new ReadPropertyFile(&quot;config.properties&quot;);\r\n                FileInputStream fin= new FileInputStream(data.getPropertyFor(&quot;FILE_NAME&quot;));\r\n                workbook= new XSSFWorkbook(fin);\r\n                int sheetIndex=0;\r\n                for (Sheet sheet : workbook) {\r\n                    readSheet(sheet,sheetIndex ++, fbList);}\r\n        \r\n            }catch(FileNotFoundException e){\r\n                e.printStackTrace();\r\n            }\r\n            catch(IOException e){\r\n                e.printStackTrace();\r\n            }\r\n            return fbList;\r\n        }\r\n        \r\n        private void readSheet(Sheet sheet, int sheetIndex , List&lt;FacebookFields&gt; fbList) {\r\n        \r\n            if(SHEET_NAME.equals(sheet.getSheetName())){\r\n                workbook.removeSheetAt(sheetIndex);\r\n                return;\r\n            }\r\n            for (Row row : sheet){\r\n                if (row.getRowNum() &gt; 0)\r\n                    fbList.add(readRow(row));}\r\n        \r\n        }\r\n        \r\n        private FacebookFields readRow(Row row) {\r\n        \r\n            FacebookFields record= new FacebookFields();\r\n            for (Cell cell : row) {\r\n                switch (cell.getColumnIndex()) {\r\n                case 0: record.setName(cell.getStringCellValue()); \r\n                break; \r\n                case 1: record.setId(cell.getStringCellValue()); \r\n                break; \r\n                case 2: record.setDate(cell.getStringCellValue());\r\n                break; \r\n                case 3: record.setMessage(cell.getStringCellValue());\r\n                break; \r\n                case 4: record.setType(cell.getStringCellValue());\r\n                break; \r\n                case 5: record.setPage(cell.getStringCellValue());\r\n                break; \r\n                case 6: record.setLikeCount(String.valueOf(cell.getNumericCellValue()));\r\n                break; \r\n                case 7: record.setCommentCount(String.valueOf(cell.getNumericCellValue())); \r\n                break; \r\n                case 8: record.setShareCount(String.valueOf(cell.getNumericCellValue())); \r\n                break; \r\n                }\r\n            }\r\n        \r\n            return record;\r\n        }\r\n        \r\n        public boolean containsData() {  \r\n        \r\n            List&lt;FacebookFields&gt; checkList= readFromExcel();    \r\n            return !checkList.isEmpty() ;\r\n        }\r\n        \r\n        }\r\n\r\nThe `FacebookFields` class(not shown here) contains the set methods for the data extracted!\r\nHow to I write a test case for method `readRow()` or how to test whether each field of the column contains data?\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/3vgd1.png","title":"How to test the method that reads the data from the excel file in java?","body":"<p><a href=\"https://i.stack.imgur.com/3vgd1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3vgd1.png\" alt=\"enter image description here\"></a>\nThe above picture shows the excel file containing the Facebook data.</p>\n\n<p>The class <code>FacebookDataExtraction</code> reads the data from the Excel file and stores the data as list of row objects as shown in the code.\nI have made use of the config.properties file to get the file path. The contents of config.properties file are: <code>FILE_NAME=D:/Refreshed_data_daily/all_hue_posts_in_excel.xlsx.</code></p>\n\n<pre><code>public class FacebookDataExtraction {\n\n//private static final String FILE_NAME=\"D:/Refreshed_data_daily/all_hue_posts_in_excel.xlsx\";\nprivate static final String SHEET_NAME=\"nextv54plus_actions\";\nXSSFWorkbook workbook;\n\n    public static void main(String[] args){\n\n        FacebookDataExtraction obj= new FacebookDataExtraction();\n        List&lt;FacebookFields&gt; displayList= new ArrayList&lt;FacebookFields&gt;();\n        displayList=obj.readFromExcel();\n        System.out.println(\"The Size of the list is:\"+ displayList.size());\n    }\n\n    public List&lt;FacebookFields&gt; readFromExcel() {\n        List&lt;FacebookFields&gt; fbList= new ArrayList&lt;FacebookFields&gt;();\n        try\n        {\n            ReadPropertyFile data= new ReadPropertyFile(\"config.properties\");\n            FileInputStream fin= new FileInputStream(data.getPropertyFor(\"FILE_NAME\"));\n            workbook= new XSSFWorkbook(fin);\n            int sheetIndex=0;\n            for (Sheet sheet : workbook) {\n                readSheet(sheet,sheetIndex ++, fbList);}\n\n        }catch(FileNotFoundException e){\n            e.printStackTrace();\n        }\n        catch(IOException e){\n            e.printStackTrace();\n        }\n        return fbList;\n    }\n\n    private void readSheet(Sheet sheet, int sheetIndex , List&lt;FacebookFields&gt; fbList) {\n\n        if(SHEET_NAME.equals(sheet.getSheetName())){\n            workbook.removeSheetAt(sheetIndex);\n            return;\n        }\n        for (Row row : sheet){\n            if (row.getRowNum() &gt; 0)\n                fbList.add(readRow(row));}\n\n    }\n\n    private FacebookFields readRow(Row row) {\n\n        FacebookFields record= new FacebookFields();\n        for (Cell cell : row) {\n            switch (cell.getColumnIndex()) {\n            case 0: record.setName(cell.getStringCellValue()); \n            break; \n            case 1: record.setId(cell.getStringCellValue()); \n            break; \n            case 2: record.setDate(cell.getStringCellValue());\n            break; \n            case 3: record.setMessage(cell.getStringCellValue());\n            break; \n            case 4: record.setType(cell.getStringCellValue());\n            break; \n            case 5: record.setPage(cell.getStringCellValue());\n            break; \n            case 6: record.setLikeCount(String.valueOf(cell.getNumericCellValue()));\n            break; \n            case 7: record.setCommentCount(String.valueOf(cell.getNumericCellValue())); \n            break; \n            case 8: record.setShareCount(String.valueOf(cell.getNumericCellValue())); \n            break; \n            }\n        }\n\n        return record;\n    }\n\n    public boolean containsData() {  \n\n        List&lt;FacebookFields&gt; checkList= readFromExcel();    \n        return !checkList.isEmpty() ;\n    }\n\n    }\n</code></pre>\n\n<p>The <code>FacebookFields</code> class(not shown here) contains the set methods for the data extracted!\nHow to I write a test case for method <code>readRow()</code> or how to test whether each field of the column contains data?</p>\n"},{"tags":["java","encryption","3des"],"comments":[{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1325166992,"post_id":8644867,"comment_id":10774061,"body_markdown":"I&#39;ve tried looking up the encryption method, but if it is DESede, I cannot get the result. You are assuming people know ZPK and LMK, but generally, they won&#39;t. If you would post the actual protocol and algorithms used, you would stand a chance. DESede decrypt does not work, neither does XOR&#39;ing the keys and decrypting with that.","body":"I&#39;ve tried looking up the encryption method, but if it is DESede, I cannot get the result. You are assuming people know ZPK and LMK, but generally, they won&#39;t. If you would post the actual protocol and algorithms used, you would stand a chance. DESede decrypt does not work, neither does XOR&#39;ing the keys and decrypting with that."}],"answers":[{"tags":[],"owner":{"account_id":38907,"reputation":53159,"user_id":111988,"accept_rate":74,"display_name":"Sunil Kumar Sahoo"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1324991040,"creation_date":1324991040,"answer_id":8644989,"question_id":8644867,"body_markdown":"See Sample Example for 3dec encryption and decryption\r\n\r\n\r\n   \r\n\r\n    import java.security.MessageDigest;\r\n    import java.util.Arrays;\r\n    \r\n    import javax.crypto.Cipher;\r\n    import javax.crypto.SecretKey;\r\n    import javax.crypto.spec.IvParameterSpec;\r\n    import javax.crypto.spec.SecretKeySpec;\r\n    \r\n    \r\n    \r\n    class ZiggyTest2{\r\n    \r\n           \r\n            public static void main(String[] args) throws Exception{  \r\n            \tString text = &quot;I am sunil&quot;;\r\n    \r\n                byte[] codedtext = new ZiggyTest2().encrypt(text);\r\n                String decodedtext = new ZiggyTest2().decrypt(codedtext);\r\n    \r\n                System.out.println(codedtext); // this is a byte array, you&#39;ll just see a reference to an array\r\n                System.out.println(decodedtext); // This correctly shows &quot;kyle boon&quot;\r\n            }\r\n    \r\n            public byte[] encrypt(String message) throws Exception {\r\n                MessageDigest md = MessageDigest.getInstance(&quot;md5&quot;);\r\n                byte[] digestOfPassword = md.digest(&quot;ABCDEABCDE&quot;\r\n                                .getBytes(&quot;utf-8&quot;));\r\n                byte[] keyBytes = Arrays.copyOf(digestOfPassword, 24);\r\n                for (int j = 0, k = 16; j &lt; 8;) {\r\n                        keyBytes[k++] = keyBytes[j++];\r\n                }\r\n    \r\n                SecretKey key = new SecretKeySpec(keyBytes, &quot;DESede&quot;);\r\n                IvParameterSpec iv = new IvParameterSpec(new byte[8]);\r\n                Cipher cipher = Cipher.getInstance(&quot;DESede/CBC/PKCS5Padding&quot;);\r\n                cipher.init(Cipher.ENCRYPT_MODE, key, iv);\r\n    \r\n                byte[] plainTextBytes = message.getBytes(&quot;utf-8&quot;);\r\n                byte[] cipherText = cipher.doFinal(plainTextBytes);\r\n                // String encodedCipherText = new sun.misc.BASE64Encoder()\r\n                // .encode(cipherText);\r\n    \r\n                return cipherText;\r\n            }\r\n    \r\n            public String decrypt(byte[] message) throws Exception {\r\n                MessageDigest md = MessageDigest.getInstance(&quot;md5&quot;);\r\n                byte[] digestOfPassword = md.digest(&quot;ABCDEABCDE&quot;\r\n                                .getBytes(&quot;utf-8&quot;));\r\n                byte[] keyBytes = Arrays.copyOf(digestOfPassword, 24);\r\n                for (int j = 0, k = 16; j &lt; 8;) {\r\n                        keyBytes[k++] = keyBytes[j++];\r\n                }\r\n    \r\n                SecretKey key = new SecretKeySpec(keyBytes, &quot;DESede&quot;);\r\n                IvParameterSpec iv = new IvParameterSpec(new byte[8]);\r\n                Cipher decipher = Cipher.getInstance(&quot;DESede/CBC/PKCS5Padding&quot;);\r\n                decipher.init(Cipher.DECRYPT_MODE, key, iv);\r\n    \r\n                byte[] plainText = decipher.doFinal(message);\r\n    \r\n                return new String(plainText, &quot;UTF-8&quot;);\r\n            }\r\n        }\r\n\r\n","title":"3Des Encryption/Decryption in java","body":"<p>See Sample Example for 3dec encryption and decryption</p>\n\n<pre><code>import java.security.MessageDigest;\nimport java.util.Arrays;\n\nimport javax.crypto.Cipher;\nimport javax.crypto.SecretKey;\nimport javax.crypto.spec.IvParameterSpec;\nimport javax.crypto.spec.SecretKeySpec;\n\n\n\nclass ZiggyTest2{\n\n\n        public static void main(String[] args) throws Exception{  \n            String text = \"I am sunil\";\n\n            byte[] codedtext = new ZiggyTest2().encrypt(text);\n            String decodedtext = new ZiggyTest2().decrypt(codedtext);\n\n            System.out.println(codedtext); // this is a byte array, you'll just see a reference to an array\n            System.out.println(decodedtext); // This correctly shows \"kyle boon\"\n        }\n\n        public byte[] encrypt(String message) throws Exception {\n            MessageDigest md = MessageDigest.getInstance(\"md5\");\n            byte[] digestOfPassword = md.digest(\"ABCDEABCDE\"\n                            .getBytes(\"utf-8\"));\n            byte[] keyBytes = Arrays.copyOf(digestOfPassword, 24);\n            for (int j = 0, k = 16; j &lt; 8;) {\n                    keyBytes[k++] = keyBytes[j++];\n            }\n\n            SecretKey key = new SecretKeySpec(keyBytes, \"DESede\");\n            IvParameterSpec iv = new IvParameterSpec(new byte[8]);\n            Cipher cipher = Cipher.getInstance(\"DESede/CBC/PKCS5Padding\");\n            cipher.init(Cipher.ENCRYPT_MODE, key, iv);\n\n            byte[] plainTextBytes = message.getBytes(\"utf-8\");\n            byte[] cipherText = cipher.doFinal(plainTextBytes);\n            // String encodedCipherText = new sun.misc.BASE64Encoder()\n            // .encode(cipherText);\n\n            return cipherText;\n        }\n\n        public String decrypt(byte[] message) throws Exception {\n            MessageDigest md = MessageDigest.getInstance(\"md5\");\n            byte[] digestOfPassword = md.digest(\"ABCDEABCDE\"\n                            .getBytes(\"utf-8\"));\n            byte[] keyBytes = Arrays.copyOf(digestOfPassword, 24);\n            for (int j = 0, k = 16; j &lt; 8;) {\n                    keyBytes[k++] = keyBytes[j++];\n            }\n\n            SecretKey key = new SecretKeySpec(keyBytes, \"DESede\");\n            IvParameterSpec iv = new IvParameterSpec(new byte[8]);\n            Cipher decipher = Cipher.getInstance(\"DESede/CBC/PKCS5Padding\");\n            decipher.init(Cipher.DECRYPT_MODE, key, iv);\n\n            byte[] plainText = decipher.doFinal(message);\n\n            return new String(plainText, \"UTF-8\");\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":1131696,"reputation":11,"user_id":1117638,"display_name":"Anshuman Chakraborty"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12538,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1699707690,"creation_date":1324990375,"question_id":8644867,"body_markdown":"I am new to Security in java.\r\n\r\nI have two clear double length keys which was used for generating ZPK (under LMK) in Futurex HSM.\r\n\r\nBelow mentioned pin blocks were encrypted using ZPK.\r\nIs there a way to decrypt the block using clear keys in java.\r\n\r\n\r\n    clear_1 = &quot;801CB5C89DC416C149FB645BB36897AD&quot;\r\n    \r\n    clear_2 = &quot;45B98FC7D33149E0512F0ED9135E5826&quot;\r\n    \r\n    encrypted_pin_block = &quot;6288FA9534BF2AA3&quot;\r\n    \r\n    encrypted_pin_block = &quot;B8D876F238348EB0&quot;\r\n\r\nDecrypted value for one of these encrypted blocks is `2222`.","title":"3Des Encryption/Decryption in java","body":"<p>I am new to Security in java.</p>\n\n<p>I have two clear double length keys which was used for generating ZPK (under LMK) in Futurex HSM.</p>\n\n<p>Below mentioned pin blocks were encrypted using ZPK.\nIs there a way to decrypt the block using clear keys in java.</p>\n\n<pre><code>clear_1 = \"801CB5C89DC416C149FB645BB36897AD\"\n\nclear_2 = \"45B98FC7D33149E0512F0ED9135E5826\"\n\nencrypted_pin_block = \"6288FA9534BF2AA3\"\n\nencrypted_pin_block = \"B8D876F238348EB0\"\n</code></pre>\n\n<p>Decrypted value for one of these encrypted blocks is <code>2222</code>.</p>\n"},{"tags":["java","date","timezone"],"comments":[{"owner":{"account_id":16660,"reputation":19988,"user_id":36537,"accept_rate":74,"display_name":"Phil H"},"score":125,"creation_date":1342082046,"post_id":6841333,"comment_id":15107031,"body_markdown":"The real answer is to always, always use seconds since an epoch for logging, like the Unix epoch, with 64 bit integer representation (signed, if you want to allow stamps before the epoch). Any real-world time system has some non-linear, non-monotonic behaviour like leap hours or daylight savings.","body":"The real answer is to always, always use seconds since an epoch for logging, like the Unix epoch, with 64 bit integer representation (signed, if you want to allow stamps before the epoch). Any real-world time system has some non-linear, non-monotonic behaviour like leap hours or daylight savings."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":20,"creation_date":1413283155,"post_id":6841333,"comment_id":41375681,"body_markdown":"A great video about these kind of things: http://www.youtube.com/watch?v=-5wpm-gesOY","body":"A great video about these kind of things: <a href=\"http://www.youtube.com/watch?v=-5wpm-gesOY\" rel=\"nofollow noreferrer\">youtube.com/watch?v=-5wpm-gesOY</a>"},{"owner":{"account_id":72444,"reputation":10268,"user_id":209139,"accept_rate":89,"display_name":"TRiG"},"score":6,"creation_date":1435940627,"post_id":6841333,"comment_id":50423566,"body_markdown":"And another from the same guy, @Thorbj&#248;rnRavnAndersen: https://www.youtube.com/watch?v=Uqjg8Kk1HXo (Leap seconds). (This one is from Tom Scott&#39;s own YouTube channel, not from Computerphile.)","body":"And another from the same guy, @Thorbj&#248;rnRavnAndersen: <a href=\"https://www.youtube.com/watch?v=Uqjg8Kk1HXo\" rel=\"nofollow noreferrer\">youtube.com/watch?v=Uqjg8Kk1HXo</a> (Leap seconds). (This one is from Tom Scott&#39;s own YouTube channel, not from Computerphile.)"},{"owner":{"account_id":1367769,"reputation":3933,"user_id":1303846,"display_name":"Remember Monica"},"score":5,"creation_date":1600041468,"post_id":6841333,"comment_id":112954628,"body_markdown":"@Phil H &quot;seconds since the epoch&quot; (i.e. Unix time) is non-linear as well, in the sense that POSIX seconds are not SI seconds and vary in length","body":"@Phil H &quot;seconds since the epoch&quot; (i.e. Unix time) is non-linear as well, in the sense that POSIX seconds are not SI seconds and vary in length"},{"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":4,"creation_date":1651695756,"post_id":6841333,"comment_id":127427353,"body_markdown":"POSIX seconds may vary in length, but stepping is a permissible and not uncommon implementation option too. That is, the difference between timestamps one second apart can be zero when a leap second is added, or negative if the timestamps are less than one second apart. So, Unix time has non-monotonic behavior like other real-world time systems, and isn&#39;t a panacea.","body":"POSIX seconds may vary in length, but stepping is a permissible and not uncommon implementation option too. That is, the difference between timestamps one second apart can be zero when a leap second is added, or negative if the timestamps are less than one second apart. So, Unix time has non-monotonic behavior like other real-world time systems, and isn&#39;t a panacea."},{"owner":{"account_id":244572,"reputation":2040,"user_id":2266682,"accept_rate":75,"display_name":"Aqeel Ashiq"},"score":4,"creation_date":1661226181,"post_id":6841333,"comment_id":129714885,"body_markdown":"I am amazed, nobody has wondered how this question even came to your mind? You already knew the answer and wanted to share with others? Or you read one of those &quot;magical programming&quot; articles which highlighted this surprising result. Otherwise who would fall upon two exact timestamps from 84 years ago, which could cause this.","body":"I am amazed, nobody has wondered how this question even came to your mind? You already knew the answer and wanted to share with others? Or you read one of those &quot;magical programming&quot; articles which highlighted this surprising result. Otherwise who would fall upon two exact timestamps from 84 years ago, which could cause this."},{"owner":{"account_id":4865492,"reputation":45981,"user_id":3923896,"accept_rate":69,"display_name":"Steve Summit"},"score":2,"creation_date":1661592892,"post_id":6841333,"comment_id":129812204,"body_markdown":"@PhilH The rule to &quot;always, always use seconds since an epoch&quot;, which almost everyone does indeed follow, is probably going to lead to the abolition of [leap seconds](https://en.wikipedia.org/wiki/Leap_second).  Seconds-since-an-epoch representations are mildly but significantly and indeed fundamentally flawed, in that they do not and cannot properly represent [UTC](https://en.wikipedia.org/wiki/Coordinated_Universal_Time) as currently defined.  But it&#39;s so hard to fix this problem with our computer programs that we&#39;re probably going to make a change to the real world, instead.","body":"@PhilH The rule to &quot;always, always use seconds since an epoch&quot;, which almost everyone does indeed follow, is probably going to lead to the abolition of <a href=\"https://en.wikipedia.org/wiki/Leap_second\" rel=\"nofollow noreferrer\">leap seconds</a>.  Seconds-since-an-epoch representations are mildly but significantly and indeed fundamentally flawed, in that they do not and cannot properly represent <a href=\"https://en.wikipedia.org/wiki/Coordinated_Universal_Time\" rel=\"nofollow noreferrer\">UTC</a> as currently defined.  But it&#39;s so hard to fix this problem with our computer programs that we&#39;re probably going to make a change to the real world, instead."}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438111,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":22,"up_vote_count":11871,"is_accepted":true,"score":11849,"last_activity_date":1679946309,"creation_date":1311755470,"answer_id":6841479,"question_id":6841333,"body_markdown":"It&#39;s a time zone change on December 31st in Shanghai.\r\n\r\nSee [this page][1] for details of 1927 in Shanghai. Basically at midnight at the end of 1927, the clocks went back 5 minutes and 52 seconds. So &quot;1927-12-31 23:54:08&quot; actually happened twice, and it looks like Java is parsing it as the *later* possible instant for that local date/time - hence the difference.\r\n\r\nJust another episode in the often weird and wonderful world of time zones.\r\n\r\n**If rebuilt with version 2013a of [TZDB][2]**, The original question would no longer demonstrate quite the same behaviour. In 2013a, the result would be 358 seconds, with a transition time of 23:54:03 instead of 23:54:08.\r\n\r\nI only noticed this because I&#39;m collecting questions like this in Noda Time, in the form of [unit tests][3]... The test has now been changed, but it just goes to show - not even historical data is safe.\r\n\r\n**In TZDB 2014f**, the time of the change has moved to 1900-12-31, and it&#39;s now a mere 343 second change (so the time between `t` and `t+1` is 344 seconds, if you see what I mean).\r\n\r\n---\r\n\r\nTo answer a question around a transition at 1900... it looks like the Java time zone implementation treats *all* time zones as simply being in their standard time for any instant before the start of 1900 UTC:\r\n\r\n    import java.util.TimeZone;\r\n    \r\n    public class Test {\r\n        public static void main(String[] args) throws Exception {\r\n            long startOf1900Utc = -2208988800000L;\r\n            for (String id : TimeZone.getAvailableIDs()) {\r\n                TimeZone zone = TimeZone.getTimeZone(id);\r\n                if (zone.getRawOffset() != zone.getOffset(startOf1900Utc - 1)) {\r\n                    System.out.println(id);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nThe code above produces no output on my Windows machine. So any time zone which has any offset other than its standard one at the start of 1900 will count that as a transition. TZDB itself has some data going back earlier than that, and doesn&#39;t rely on any idea of a &quot;fixed&quot; standard time (which is what `getRawOffset` assumes to be a valid concept) so other libraries needn&#39;t introduce this artificial transition.\r\n\r\n\r\n  [1]: http://www.timeanddate.com/worldclock/clockchange.html?n=237&amp;year=1927\r\n  [2]: https://github.com/nodatime/nodatime/blob/master/src/NodaTime.Demo/StackOverflowExamples.cs#L68\r\n  [3]: https://github.com/nodatime/nodatime/blob/master/src/NodaTime.Demo/StackOverflowExamples.cs#L68\r\n","title":"Why is subtracting these two epoch-milli Times (in year 1927) giving a strange result?","body":"<p>It's a time zone change on December 31st in Shanghai.</p>\n<p>See <a href=\"http://www.timeanddate.com/worldclock/clockchange.html?n=237&amp;year=1927\" rel=\"noreferrer\">this page</a> for details of 1927 in Shanghai. Basically at midnight at the end of 1927, the clocks went back 5 minutes and 52 seconds. So &quot;1927-12-31 23:54:08&quot; actually happened twice, and it looks like Java is parsing it as the <em>later</em> possible instant for that local date/time - hence the difference.</p>\n<p>Just another episode in the often weird and wonderful world of time zones.</p>\n<p><strong>If rebuilt with version 2013a of <a href=\"https://github.com/nodatime/nodatime/blob/master/src/NodaTime.Demo/StackOverflowExamples.cs#L68\" rel=\"noreferrer\">TZDB</a></strong>, The original question would no longer demonstrate quite the same behaviour. In 2013a, the result would be 358 seconds, with a transition time of 23:54:03 instead of 23:54:08.</p>\n<p>I only noticed this because I'm collecting questions like this in Noda Time, in the form of <a href=\"https://github.com/nodatime/nodatime/blob/master/src/NodaTime.Demo/StackOverflowExamples.cs#L68\" rel=\"noreferrer\">unit tests</a>... The test has now been changed, but it just goes to show - not even historical data is safe.</p>\n<p><strong>In TZDB 2014f</strong>, the time of the change has moved to 1900-12-31, and it's now a mere 343 second change (so the time between <code>t</code> and <code>t+1</code> is 344 seconds, if you see what I mean).</p>\n<hr />\n<p>To answer a question around a transition at 1900... it looks like the Java time zone implementation treats <em>all</em> time zones as simply being in their standard time for any instant before the start of 1900 UTC:</p>\n<pre><code>import java.util.TimeZone;\n\npublic class Test {\n    public static void main(String[] args) throws Exception {\n        long startOf1900Utc = -2208988800000L;\n        for (String id : TimeZone.getAvailableIDs()) {\n            TimeZone zone = TimeZone.getTimeZone(id);\n            if (zone.getRawOffset() != zone.getOffset(startOf1900Utc - 1)) {\n                System.out.println(id);\n            }\n        }\n    }\n}\n</code></pre>\n<p>The code above produces no output on my Windows machine. So any time zone which has any offset other than its standard one at the start of 1900 will count that as a transition. TZDB itself has some data going back earlier than that, and doesn't rely on any idea of a &quot;fixed&quot; standard time (which is what <code>getRawOffset</code> assumes to be a valid concept) so other libraries needn't introduce this artificial transition.</p>\n"},{"tags":[],"owner":{"account_id":9193,"reputation":343113,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"down_vote_count":0,"up_vote_count":1738,"is_accepted":false,"score":1738,"last_activity_date":1311755931,"creation_date":1311755931,"answer_id":6841572,"question_id":6841333,"body_markdown":"You&#39;ve encountered a [local time discontinuity][1]:\r\n\r\n&gt; When local standard time was about to reach Sunday, 1. January 1928,\r\n&gt; 00:00:00 clocks were turned backward 0:05:52 hours to Saturday, 31.\r\n&gt; December 1927, 23:54:08 local standard time instead\r\n\r\nThis is not particularly strange and has happened pretty much everywhere at one time or another as timezones were switched or changed due to political or administrative actions.\r\n\r\n\r\n  [1]: http://timeanddate.com/worldclock/clockchange.html?n=237&amp;year=1927","title":"Why is subtracting these two epoch-milli Times (in year 1927) giving a strange result?","body":"<p>You've encountered a <a href=\"http://timeanddate.com/worldclock/clockchange.html?n=237&amp;year=1927\" rel=\"noreferrer\">local time discontinuity</a>:</p>\n\n<blockquote>\n  <p>When local standard time was about to reach Sunday, 1. January 1928,\n  00:00:00 clocks were turned backward 0:05:52 hours to Saturday, 31.\n  December 1927, 23:54:08 local standard time instead</p>\n</blockquote>\n\n<p>This is not particularly strange and has happened pretty much everywhere at one time or another as timezones were switched or changed due to political or administrative actions.</p>\n"},{"tags":[],"owner":{"account_id":261142,"reputation":47108,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"down_vote_count":20,"up_vote_count":764,"is_accepted":false,"score":744,"last_activity_date":1311853808,"creation_date":1311853808,"answer_id":6858453,"question_id":6841333,"body_markdown":"The moral of this strangeness is:\r\n\r\n- Use dates and times in UTC wherever possible.\r\n- If you can not display a date or time in UTC, always indicate the time-zone.\r\n- If you can not require an input date/time in UTC, require an explicitly indicated time-zone.","title":"Why is subtracting these two epoch-milli Times (in year 1927) giving a strange result?","body":"<p>The moral of this strangeness is:</p>\n\n<ul>\n<li>Use dates and times in UTC wherever possible.</li>\n<li>If you can not display a date or time in UTC, always indicate the time-zone.</li>\n<li>If you can not require an input date/time in UTC, require an explicitly indicated time-zone.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":466222,"reputation":4167,"user_id":870838,"display_name":"PatrickO"},"down_vote_count":2,"up_vote_count":417,"is_accepted":false,"score":415,"last_activity_date":1636573515,"creation_date":1312044904,"answer_id":6884599,"question_id":6841333,"body_markdown":"When incrementing time you should convert back to UTC and then add or subtract. Use the local time only for display.\r\n\r\nThis way you will be able to walk through any periods where hours or minutes happen twice.\r\n\r\nIf you converted to UTC, add each second, and convert to local time for display. You would go through 11:54:08 p.m. [LMT][1] - 11:59:59 p.m. LMT and then 11:54:08 p.m. [CST][2] - 11:59:59 p.m. CST.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Local_mean_time\r\n  [2]: https://en.wikipedia.org/wiki/China_Standard_Time\r\n","title":"Why is subtracting these two epoch-milli Times (in year 1927) giving a strange result?","body":"<p>When incrementing time you should convert back to UTC and then add or subtract. Use the local time only for display.</p>\n<p>This way you will be able to walk through any periods where hours or minutes happen twice.</p>\n<p>If you converted to UTC, add each second, and convert to local time for display. You would go through 11:54:08 p.m. <a href=\"http://en.wikipedia.org/wiki/Local_mean_time\" rel=\"noreferrer\">LMT</a> - 11:59:59 p.m. LMT and then 11:54:08 p.m. <a href=\"https://en.wikipedia.org/wiki/China_Standard_Time\" rel=\"noreferrer\">CST</a> - 11:59:59 p.m. CST.</p>\n"},{"tags":[],"owner":{"account_id":1484471,"reputation":4133,"user_id":1393004,"display_name":"Rajshri"},"down_vote_count":21,"up_vote_count":369,"is_accepted":false,"score":348,"last_activity_date":1577202749,"creation_date":1337146315,"answer_id":10612572,"question_id":6841333,"body_markdown":"Instead of converting each date, you can use the following code: \r\n\r\n    long difference = (sDt4.getTime() - sDt3.getTime()) / 1000;\r\n    System.out.println(difference);\r\n\r\nAnd then see that the result is:\r\n\r\n    1\r\n\r\n ","title":"Why is subtracting these two epoch-milli Times (in year 1927) giving a strange result?","body":"<p>Instead of converting each date, you can use the following code: </p>\n\n<pre><code>long difference = (sDt4.getTime() - sDt3.getTime()) / 1000;\nSystem.out.println(difference);\n</code></pre>\n\n<p>And then see that the result is:</p>\n\n<pre><code>1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21713,"reputation":295592,"user_id":53013,"accept_rate":78,"display_name":"Daniel C. Sobral"},"down_vote_count":0,"up_vote_count":234,"is_accepted":false,"score":234,"last_activity_date":1577146665,"creation_date":1388760187,"answer_id":20906129,"question_id":6841333,"body_markdown":"As explained by others, there&#39;s a time discontinuity there. There are two possible timezone offsets for `1927-12-31 23:54:08` at `Asia/Shanghai`, but only one offset for `1927-12-31 23:54:07`. So, depending on which offset is used, there&#39;s either a one second difference or a 5 minutes and 53 seconds difference.\r\n\r\nThis slight shift of offsets, instead of the usual one-hour daylight savings (summer time) we are used to, obscures the problem a bit.\r\n\r\nNote that the 2013a update of the timezone database moved this discontinuity a few seconds earlier, but the effect would still be observable.\r\n\r\nThe new `java.time` package on Java 8 let use see this more clearly, and provide tools to handle it. Given:\r\n\r\n    DateTimeFormatterBuilder dtfb = new DateTimeFormatterBuilder();\r\n    dtfb.append(DateTimeFormatter.ISO_LOCAL_DATE);\r\n    dtfb.appendLiteral(&#39; &#39;);\r\n    dtfb.append(DateTimeFormatter.ISO_LOCAL_TIME);\r\n    DateTimeFormatter dtf = dtfb.toFormatter();\r\n    ZoneId shanghai = ZoneId.of(&quot;Asia/Shanghai&quot;);\r\n\r\n    String str3 = &quot;1927-12-31 23:54:07&quot;;  \r\n    String str4 = &quot;1927-12-31 23:54:08&quot;;  \r\n\r\n    ZonedDateTime zdt3 = LocalDateTime.parse(str3, dtf).atZone(shanghai);\r\n    ZonedDateTime zdt4 = LocalDateTime.parse(str4, dtf).atZone(shanghai);\r\n\r\n    Duration durationAtEarlierOffset = Duration.between(zdt3.withEarlierOffsetAtOverlap(), zdt4.withEarlierOffsetAtOverlap());\r\n\r\n    Duration durationAtLaterOffset = Duration.between(zdt3.withLaterOffsetAtOverlap(), zdt4.withLaterOffsetAtOverlap());\r\n\r\nThen `durationAtEarlierOffset` will be one second, while `durationAtLaterOffset` will be five minutes and 53 seconds.\r\n\r\nAlso, these two offsets are the same:\r\n\r\n    // Both have offsets +08:05:52\r\n    ZoneOffset zo3Earlier = zdt3.withEarlierOffsetAtOverlap().getOffset();\r\n    ZoneOffset zo3Later = zdt3.withLaterOffsetAtOverlap().getOffset();\r\n\r\nBut these two are different:\r\n\r\n    // +08:05:52\r\n    ZoneOffset zo4Earlier = zdt4.withEarlierOffsetAtOverlap().getOffset();\r\n\r\n    // +08:00\r\n    ZoneOffset zo4Later = zdt4.withLaterOffsetAtOverlap().getOffset();\r\n\r\nYou can see the same problem comparing `1927-12-31 23:59:59` with `1928-01-01 00:00:00`, though, in this case, it is the earlier offset that produces the longer divergence, and it is the earlier date that has two possible offsets.\r\n\r\nAnother way to approach this is to check whether there&#39;s a transition going on. We can do this like this:\r\n\r\n    // Null\r\n    ZoneOffsetTransition zot3 = shanghai.getRules().getTransition(ld3.toLocalDateTime);\r\n\r\n    // An overlap transition\r\n    ZoneOffsetTransition zot4 = shanghai.getRules().getTransition(ld3.toLocalDateTime);\r\n\r\nYou can check whether the transition is an overlap where there&#39;s more than one valid offset for that date/time or a gap where that date/time is not valid for that zone id - by using the `isOverlap()` and `isGap()` methods on `zot4`.\r\n\r\nI hope this helps people handle this sort of issue once Java 8 becomes widely available, or to those using Java 7 who adopt the JSR 310 backport.\r\n","title":"Why is subtracting these two epoch-milli Times (in year 1927) giving a strange result?","body":"<p>As explained by others, there's a time discontinuity there. There are two possible timezone offsets for <code>1927-12-31 23:54:08</code> at <code>Asia/Shanghai</code>, but only one offset for <code>1927-12-31 23:54:07</code>. So, depending on which offset is used, there's either a one second difference or a 5 minutes and 53 seconds difference.</p>\n\n<p>This slight shift of offsets, instead of the usual one-hour daylight savings (summer time) we are used to, obscures the problem a bit.</p>\n\n<p>Note that the 2013a update of the timezone database moved this discontinuity a few seconds earlier, but the effect would still be observable.</p>\n\n<p>The new <code>java.time</code> package on Java 8 let use see this more clearly, and provide tools to handle it. Given:</p>\n\n<pre><code>DateTimeFormatterBuilder dtfb = new DateTimeFormatterBuilder();\ndtfb.append(DateTimeFormatter.ISO_LOCAL_DATE);\ndtfb.appendLiteral(' ');\ndtfb.append(DateTimeFormatter.ISO_LOCAL_TIME);\nDateTimeFormatter dtf = dtfb.toFormatter();\nZoneId shanghai = ZoneId.of(\"Asia/Shanghai\");\n\nString str3 = \"1927-12-31 23:54:07\";  \nString str4 = \"1927-12-31 23:54:08\";  \n\nZonedDateTime zdt3 = LocalDateTime.parse(str3, dtf).atZone(shanghai);\nZonedDateTime zdt4 = LocalDateTime.parse(str4, dtf).atZone(shanghai);\n\nDuration durationAtEarlierOffset = Duration.between(zdt3.withEarlierOffsetAtOverlap(), zdt4.withEarlierOffsetAtOverlap());\n\nDuration durationAtLaterOffset = Duration.between(zdt3.withLaterOffsetAtOverlap(), zdt4.withLaterOffsetAtOverlap());\n</code></pre>\n\n<p>Then <code>durationAtEarlierOffset</code> will be one second, while <code>durationAtLaterOffset</code> will be five minutes and 53 seconds.</p>\n\n<p>Also, these two offsets are the same:</p>\n\n<pre><code>// Both have offsets +08:05:52\nZoneOffset zo3Earlier = zdt3.withEarlierOffsetAtOverlap().getOffset();\nZoneOffset zo3Later = zdt3.withLaterOffsetAtOverlap().getOffset();\n</code></pre>\n\n<p>But these two are different:</p>\n\n<pre><code>// +08:05:52\nZoneOffset zo4Earlier = zdt4.withEarlierOffsetAtOverlap().getOffset();\n\n// +08:00\nZoneOffset zo4Later = zdt4.withLaterOffsetAtOverlap().getOffset();\n</code></pre>\n\n<p>You can see the same problem comparing <code>1927-12-31 23:59:59</code> with <code>1928-01-01 00:00:00</code>, though, in this case, it is the earlier offset that produces the longer divergence, and it is the earlier date that has two possible offsets.</p>\n\n<p>Another way to approach this is to check whether there's a transition going on. We can do this like this:</p>\n\n<pre><code>// Null\nZoneOffsetTransition zot3 = shanghai.getRules().getTransition(ld3.toLocalDateTime);\n\n// An overlap transition\nZoneOffsetTransition zot4 = shanghai.getRules().getTransition(ld3.toLocalDateTime);\n</code></pre>\n\n<p>You can check whether the transition is an overlap where there's more than one valid offset for that date/time or a gap where that date/time is not valid for that zone id - by using the <code>isOverlap()</code> and <code>isGap()</code> methods on <code>zot4</code>.</p>\n\n<p>I hope this helps people handle this sort of issue once Java 8 becomes widely available, or to those using Java 7 who adopt the JSR 310 backport.</p>\n"},{"tags":[],"owner":{"account_id":1045732,"reputation":11348,"user_id":1050755,"accept_rate":51,"display_name":"user1050755"},"down_vote_count":3,"up_vote_count":269,"is_accepted":false,"score":266,"last_activity_date":1545006682,"creation_date":1392677052,"answer_id":21840785,"question_id":6841333,"body_markdown":"I&#39;m sorry to say, but the time discontinuity has moved a bit in\r\n\r\n[JDK 6][1] two years ago, and in [JDK 7][2] just recently in [update 25][3].\r\n\r\nLesson to learn: avoid non-UTC times at all costs, except maybe for display.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6_.28December_11.2C_2006.29\r\n  [2]: https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7_.28July_28.2C_2011.29\r\n  [3]: https://en.wikipedia.org/wiki/Java_version_history#cite_note-131\r\n","title":"Why is subtracting these two epoch-milli Times (in year 1927) giving a strange result?","body":"<p>I'm sorry to say, but the time discontinuity has moved a bit in</p>\n\n<p><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6_.28December_11.2C_2006.29\" rel=\"noreferrer\">JDK 6</a> two years ago, and in <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7_.28July_28.2C_2011.29\" rel=\"noreferrer\">JDK 7</a> just recently in <a href=\"https://en.wikipedia.org/wiki/Java_version_history#cite_note-131\" rel=\"noreferrer\">update 25</a>.</p>\n\n<p>Lesson to learn: avoid non-UTC times at all costs, except maybe for display.</p>\n"},{"tags":[],"owner":{"account_id":1045732,"reputation":11348,"user_id":1050755,"accept_rate":51,"display_name":"user1050755"},"down_vote_count":2,"up_vote_count":194,"is_accepted":false,"score":192,"last_activity_date":1603165257,"creation_date":1417017497,"answer_id":27153569,"question_id":6841333,"body_markdown":"`IMHO` the pervasive, *implicit* localization in Java is its single largest design flaw. It may be intended for user interfaces, but frankly, who really uses Java for user interfaces today except for some IDEs where you can basically ignore localization because programmers aren&#39;t exactly the target audience for it. You can fix it (especially on Linux servers) by:\r\n\r\n * export `LC_ALL=C TZ=UTC`\r\n * set your system clock to UTC\r\n * never use localized implementations unless absolutely necessary (ie for display only)\r\n\r\nTo the [Java Community Process][1] members I recommend:\r\n\r\n * make localized methods, not the default, but require the user to explicitly request localization.\r\n * use `UTF-8/UTC` as the *FIXED* default instead because that&#39;s simply the default today. There is no reason to do something else, except if you want to produce threads like this.\r\n\r\nI mean, come on, aren&#39;t global static variables an anti-OO pattern? Nothing else is those pervasive defaults given by some rudimentary environment variables.......\r\n\r\n\r\n  [1]: https://www.jcp.org/","title":"Why is subtracting these two epoch-milli Times (in year 1927) giving a strange result?","body":"<p><code>IMHO</code> the pervasive, <em>implicit</em> localization in Java is its single largest design flaw. It may be intended for user interfaces, but frankly, who really uses Java for user interfaces today except for some IDEs where you can basically ignore localization because programmers aren't exactly the target audience for it. You can fix it (especially on Linux servers) by:</p>\n<ul>\n<li>export <code>LC_ALL=C TZ=UTC</code></li>\n<li>set your system clock to UTC</li>\n<li>never use localized implementations unless absolutely necessary (ie for display only)</li>\n</ul>\n<p>To the <a href=\"https://www.jcp.org/\" rel=\"noreferrer\">Java Community Process</a> members I recommend:</p>\n<ul>\n<li>make localized methods, not the default, but require the user to explicitly request localization.</li>\n<li>use <code>UTF-8/UTC</code> as the <em>FIXED</em> default instead because that's simply the default today. There is no reason to do something else, except if you want to produce threads like this.</li>\n</ul>\n<p>I mean, come on, aren't global static variables an anti-OO pattern? Nothing else is those pervasive defaults given by some rudimentary environment variables.......</p>\n"},{"tags":[],"owner":{"account_id":12514905,"reputation":2235,"user_id":9194639,"display_name":"new Q Open Wid"},"down_vote_count":0,"up_vote_count":41,"is_accepted":false,"score":41,"last_activity_date":1605402089,"creation_date":1549835255,"answer_id":54621415,"question_id":6841333,"body_markdown":"As others said, it&#39;s a time change in 1927 in Shanghai. \r\n\r\nIt was `23:54:07` in Shanghai, in the local standard time, but then after 5 minutes and 52 seconds, it turned to the next day at `00:00:00`, and then local standard time changed back to `23:54:08`. So, that&#39;s why the difference between the two times is 343 seconds, not 1 second, as you would have expected.\r\n\r\nThe time can also mess up in other places like the US. The US has Daylight Saving Time. When the Daylight Saving Time starts the time goes forward 1 hour. But after a while, the Daylight Saving Time ends, and it goes backward 1 hour back to the standard time zone. So sometimes when comparing times in the US the difference is about `3600` seconds not 1 second.\r\n\r\nBut there is something different about these two-time changes. The latter changes continuously and the former was just a change. It didn&#39;t change back or change again by the same amount.\r\n\r\n**It&#39;s better to use UTC unless if needed to use non-UTC time like in display.**","title":"Why is subtracting these two epoch-milli Times (in year 1927) giving a strange result?","body":"<p>As others said, it's a time change in 1927 in Shanghai.</p>\n<p>It was <code>23:54:07</code> in Shanghai, in the local standard time, but then after 5 minutes and 52 seconds, it turned to the next day at <code>00:00:00</code>, and then local standard time changed back to <code>23:54:08</code>. So, that's why the difference between the two times is 343 seconds, not 1 second, as you would have expected.</p>\n<p>The time can also mess up in other places like the US. The US has Daylight Saving Time. When the Daylight Saving Time starts the time goes forward 1 hour. But after a while, the Daylight Saving Time ends, and it goes backward 1 hour back to the standard time zone. So sometimes when comparing times in the US the difference is about <code>3600</code> seconds not 1 second.</p>\n<p>But there is something different about these two-time changes. The latter changes continuously and the former was just a change. It didn't change back or change again by the same amount.</p>\n<p><strong>It's better to use UTC unless if needed to use non-UTC time like in display.</strong></p>\n"},{"tags":[],"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"down_vote_count":5,"up_vote_count":4,"is_accepted":false,"score":-1,"last_activity_date":1634971194,"creation_date":1634971194,"answer_id":69685761,"question_id":6841333,"body_markdown":"It cannot ever be &quot;1&quot; as the result because **getTime() returns long milliseconds not seconds** (of which 353 milliseconds is a fair point but the epoch for Date is started at 1970 not the 1920&#39;s).\r\ncmmnt: The API section you are using is largely considered deprecated.\r\nhttp://windsolarhybridaustralia.x10.mx/httpoutputtools-tomcat-java.html","title":"Why is subtracting these two epoch-milli Times (in year 1927) giving a strange result?","body":"<p>It cannot ever be &quot;1&quot; as the result because <strong>getTime() returns long milliseconds not seconds</strong> (of which 353 milliseconds is a fair point but the epoch for Date is started at 1970 not the 1920's).\ncmmnt: The API section you are using is largely considered deprecated.\n<a href=\"http://windsolarhybridaustralia.x10.mx/httpoutputtools-tomcat-java.html\" rel=\"nofollow noreferrer\">http://windsolarhybridaustralia.x10.mx/httpoutputtools-tomcat-java.html</a></p>\n"},{"tags":[],"owner":{"account_id":7388972,"reputation":101097,"user_id":5623035,"display_name":"Mojtaba Hosseini"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699707681,"creation_date":1699707681,"answer_id":77465185,"question_id":6841333,"body_markdown":"### &#128161;Extra information \r\nIt&#39;s because of daylight saving as others mentioned in their answer. I want to point out other facts about the date and calendar to show you:\r\n\r\n### &#129504; Why you must NEVER assume the date\r\n\r\nIn addition to many existing calendars and rules like leap years and daylight saving, Throughout history, many changes have happened to the calendar that do not follow any order. \r\n\r\nFor example in 1752, the calendar used in England and its colonies was **11 days out-of-sync** with the Gregorian Calendar in use in most other parts of Europe. &#129335;&#127995;‍♂️\r\n\r\nSo they changed it in a series of steps:\r\n\r\n- December 31, 1750 was followed by January 1, 1750 (under the &quot;Old Style&quot; calendar, December was the 10th month and January the 11th)\r\n- March 24, 1750 was followed by March 25, 1751 (March 25 was the first day of the &quot;Old Style&quot; year)\r\n- December 31, 1751 was followed by January 1, 1752 (the switch from March 25 to January 1 as the first day of the year)\r\n- September 2, 1752 was followed by September 14, 1752 (drop of 11 days to conform to the Gregorian calendar)\r\n- [More information here](https://libguides.ctstatelibrary.org/hg/colonialresearch/calendar)\r\n\r\nAnother example is Moon-based calendars like the Hijri date which can be changed every year depending on the moon phase in every month.\r\n\r\nSo there are even gaps in some calendars for more than 10 days and some inconsistency in some calendars from year to year! We should always pay attention to a lot of parameters when working with calendars, (like the timezone, locale, daylight saving, the calendar standard itself, etc.) and always try to use a tested and accurate date system. \r\n\r\n&lt;sub&gt;⚠️ Preferred an online one, because some calendars like the Iranian Hijri Calendar are actively changing without the ability to forecast.&lt;/sub&gt;","title":"Why is subtracting these two epoch-milli Times (in year 1927) giving a strange result?","body":"<h3>💡Extra information</h3>\n<p>It's because of daylight saving as others mentioned in their answer. I want to point out other facts about the date and calendar to show you:</p>\n<h3>🧠 Why you must NEVER assume the date</h3>\n<p>In addition to many existing calendars and rules like leap years and daylight saving, Throughout history, many changes have happened to the calendar that do not follow any order.</p>\n<p>For example in 1752, the calendar used in England and its colonies was <strong>11 days out-of-sync</strong> with the Gregorian Calendar in use in most other parts of Europe. 🤷🏻‍♂️</p>\n<p>So they changed it in a series of steps:</p>\n<ul>\n<li>December 31, 1750 was followed by January 1, 1750 (under the &quot;Old Style&quot; calendar, December was the 10th month and January the 11th)</li>\n<li>March 24, 1750 was followed by March 25, 1751 (March 25 was the first day of the &quot;Old Style&quot; year)</li>\n<li>December 31, 1751 was followed by January 1, 1752 (the switch from March 25 to January 1 as the first day of the year)</li>\n<li>September 2, 1752 was followed by September 14, 1752 (drop of 11 days to conform to the Gregorian calendar)</li>\n<li><a href=\"https://libguides.ctstatelibrary.org/hg/colonialresearch/calendar\" rel=\"nofollow noreferrer\">More information here</a></li>\n</ul>\n<p>Another example is Moon-based calendars like the Hijri date which can be changed every year depending on the moon phase in every month.</p>\n<p>So there are even gaps in some calendars for more than 10 days and some inconsistency in some calendars from year to year! We should always pay attention to a lot of parameters when working with calendars, (like the timezone, locale, daylight saving, the calendar standard itself, etc.) and always try to use a tested and accurate date system.</p>\n<p><sub>⚠️ Preferred an online one, because some calendars like the Iranian Hijri Calendar are actively changing without the ability to forecast.</sub></p>\n"}],"owner":{"account_id":137777,"reputation":194868,"user_id":342235,"accept_rate":77,"display_name":"Freewind"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":795180,"favorite_count":0,"down_vote_count":41,"up_vote_count":7571,"accepted_answer_id":6841479,"answer_count":11,"score":7530,"last_activity_date":1699707681,"creation_date":1311754558,"question_id":6841333,"body_markdown":"If I run the following program, which parses two date strings referencing times 1 second apart and compares them:\r\n\r\n\tpublic static void main(String[] args) throws ParseException {\r\n\t\tSimpleDateFormat sf = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);  \r\n\t\tString str3 = &quot;1927-12-31 23:54:07&quot;;  \r\n\t\tString str4 = &quot;1927-12-31 23:54:08&quot;;  \r\n\t\tDate sDt3 = sf.parse(str3);  \r\n\t\tDate sDt4 = sf.parse(str4);  \r\n\t\tlong ld3 = sDt3.getTime() /1000;  \r\n\t\tlong ld4 = sDt4.getTime() /1000;\r\n\t\tSystem.out.println(ld4-ld3);\r\n\t}\r\n\r\n**The output is:**\r\n\r\n    353\r\n\r\nWhy is `ld4-ld3`, not `1` (as I would expect from the one-second difference in the times), but `353`?\r\n\r\nIf I change the dates to times 1 second later:\r\n\r\n    String str3 = &quot;1927-12-31 23:54:08&quot;;  \r\n    String str4 = &quot;1927-12-31 23:54:09&quot;;  \r\n\r\nThen `ld4-ld3` will be `1`.\r\n\r\n----------\r\n\r\n**Java version:**\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    java version &quot;1.6.0_22&quot;\r\n    Java(TM) SE Runtime Environment (build 1.6.0_22-b04)\r\n    Dynamic Code Evolution Client VM (build 0.2-b02-internal, 19.0-b04-internal, mixed mode)\r\n\r\n```java\r\nTimezone(`TimeZone.getDefault()`):\r\n\r\nsun.util.calendar.ZoneInfo[id=&quot;Asia/Shanghai&quot;,\r\noffset=28800000,dstSavings=0,\r\nuseDaylight=false,\r\ntransitions=19,\r\nlastRule=null]\r\n\r\nLocale(Locale.getDefault()): zh_CN\r\n```","title":"Why is subtracting these two epoch-milli Times (in year 1927) giving a strange result?","body":"<p>If I run the following program, which parses two date strings referencing times 1 second apart and compares them:</p>\n<pre><code>public static void main(String[] args) throws ParseException {\n    SimpleDateFormat sf = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);  \n    String str3 = &quot;1927-12-31 23:54:07&quot;;  \n    String str4 = &quot;1927-12-31 23:54:08&quot;;  \n    Date sDt3 = sf.parse(str3);  \n    Date sDt4 = sf.parse(str4);  \n    long ld3 = sDt3.getTime() /1000;  \n    long ld4 = sDt4.getTime() /1000;\n    System.out.println(ld4-ld3);\n}\n</code></pre>\n<p><strong>The output is:</strong></p>\n<pre><code>353\n</code></pre>\n<p>Why is <code>ld4-ld3</code>, not <code>1</code> (as I would expect from the one-second difference in the times), but <code>353</code>?</p>\n<p>If I change the dates to times 1 second later:</p>\n<pre><code>String str3 = &quot;1927-12-31 23:54:08&quot;;  \nString str4 = &quot;1927-12-31 23:54:09&quot;;  \n</code></pre>\n<p>Then <code>ld4-ld3</code> will be <code>1</code>.</p>\n<hr />\n<p><strong>Java version:</strong></p>\n<pre class=\"lang-none prettyprint-override\"><code>java version &quot;1.6.0_22&quot;\nJava(TM) SE Runtime Environment (build 1.6.0_22-b04)\nDynamic Code Evolution Client VM (build 0.2-b02-internal, 19.0-b04-internal, mixed mode)\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>Timezone(`TimeZone.getDefault()`):\n\nsun.util.calendar.ZoneInfo[id=&quot;Asia/Shanghai&quot;,\noffset=28800000,dstSavings=0,\nuseDaylight=false,\ntransitions=19,\nlastRule=null]\n\nLocale(Locale.getDefault()): zh_CN\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":2,"creation_date":1699702206,"post_id":77464873,"comment_id":136566414,"body_markdown":"`next()` already reads the first number. Then you compare it with  `&quot;end&quot;`, and if it does not match, you throw it away.","body":"<code>next()</code> already reads the first number. Then you compare it with  <code>&quot;end&quot;</code>, and if it does not match, you throw it away."}],"answers":[{"tags":[],"owner":{"account_id":18117615,"reputation":136,"user_id":13174087,"display_name":"Greenylie"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1699706479,"creation_date":1699703300,"answer_id":77464950,"question_id":77464873,"body_markdown":"This happens because **scan.next()** is taking the value to check if it&#39;s equals to &quot;end&quot;, so the second condition *fails to get evaluated because there&#39;s no next value* (until there is).\r\nYou can fix the problem by swapping the conditions:\r\n\r\n    Scanner scan = new Scanner(System.in);\r\n    \r\n        while (play){\r\n           int answer = ask();\r\n    \r\n            if (scan.hasNextInt()) {\r\n                int number = scan.nextInt();\r\n                if (number == answer) System.out.println(&quot;correct&quot;);\r\n            } else if (scan.next().equals(&quot;end&quot;)){\r\n                System.out.println(&quot;ended&quot;);\r\n                play = false;\r\n            } \r\n        }\r\n    \r\nFurthermore you can avoid declaring some variables which are used just to check a condition, as well as take advantage of if condition left to right evaluation:\r\n\r\n    Scanner scan = new Scanner(System.in);\r\n    \r\n    while (true){\r\n       int answer = 5;\r\n       \r\n        if (!scan.hasNextInt() &amp;&amp; scan.next().equals(&quot;end&quot;)){\r\n            /*This works because if the next value is an int,\r\n            scan.next() is not called at all*/\r\n            System.out.println(&quot;ended&quot;);\r\n            break;\r\n        }\r\n        \r\n        if (scan.hasNextInt() &amp;&amp; scan.nextInt() == answer){\r\n            /*Same logic as the other if, when the value is not an int,\r\n            scan.nextInt() is not called, so that other values do not\r\n            lead to a crash*/\r\n            System.out.println(&quot;correct&quot;);\r\n            break;\r\n        }\r\n    }","title":"Java Scanner gets integer input second time","body":"<p>This happens because <strong>scan.next()</strong> is taking the value to check if it's equals to &quot;end&quot;, so the second condition <em>fails to get evaluated because there's no next value</em> (until there is).\nYou can fix the problem by swapping the conditions:</p>\n<pre><code>Scanner scan = new Scanner(System.in);\n\n    while (play){\n       int answer = ask();\n\n        if (scan.hasNextInt()) {\n            int number = scan.nextInt();\n            if (number == answer) System.out.println(&quot;correct&quot;);\n        } else if (scan.next().equals(&quot;end&quot;)){\n            System.out.println(&quot;ended&quot;);\n            play = false;\n        } \n    }\n</code></pre>\n<p>Furthermore you can avoid declaring some variables which are used just to check a condition, as well as take advantage of if condition left to right evaluation:</p>\n<pre><code>Scanner scan = new Scanner(System.in);\n\nwhile (true){\n   int answer = 5;\n   \n    if (!scan.hasNextInt() &amp;&amp; scan.next().equals(&quot;end&quot;)){\n        /*This works because if the next value is an int,\n        scan.next() is not called at all*/\n        System.out.println(&quot;ended&quot;);\n        break;\n    }\n    \n    if (scan.hasNextInt() &amp;&amp; scan.nextInt() == answer){\n        /*Same logic as the other if, when the value is not an int,\n        scan.nextInt() is not called, so that other values do not\n        lead to a crash*/\n        System.out.println(&quot;correct&quot;);\n        break;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23317455,"reputation":341,"user_id":17395877,"display_name":"Fatih Can"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":77464950,"answer_count":1,"score":-1,"last_activity_date":1699706479,"creation_date":1699701959,"question_id":77464873,"body_markdown":"I should check if the input value equals &#39;end&#39; or a number..\r\n\r\nI tried this but it reads integer value only second time I enter.\r\n\r\n\r\n    Scanner scan = new Scanner(System.in);\r\n\r\n        while (play){\r\n           int answer = ask();\r\n\r\n            if (scan.next().equals(&quot;end&quot;)){\r\n                System.out.println(&quot;ended&quot;);\r\n                play = false;\r\n            } else if (scan.hasNextInt())\r\n            {\r\n                int number = scan.nextInt();\r\n                if (number == answer){...","title":"Java Scanner gets integer input second time","body":"<p>I should check if the input value equals 'end' or a number..</p>\n<p>I tried this but it reads integer value only second time I enter.</p>\n<pre><code>Scanner scan = new Scanner(System.in);\n\n    while (play){\n       int answer = ask();\n\n        if (scan.next().equals(&quot;end&quot;)){\n            System.out.println(&quot;ended&quot;);\n            play = false;\n        } else if (scan.hasNextInt())\n        {\n            int number = scan.nextInt();\n            if (number == answer){...\n</code></pre>\n"},{"tags":["java","tomcat","httpclient"],"comments":[{"owner":{"account_id":899936,"reputation":2024,"user_id":936329,"accept_rate":48,"display_name":"bluelabel"},"score":0,"creation_date":1699564395,"post_id":77455932,"comment_id":136551642,"body_markdown":"Check this answer: https://stackoverflow.com/a/39358838/936329","body":"Check this answer: <a href=\"https://stackoverflow.com/a/39358838/936329\">stackoverflow.com/a/39358838/936329</a>"},{"owner":{"account_id":11848321,"reputation":1,"user_id":8670304,"display_name":"Emmanuel Thadeu Souza Trindade"},"score":0,"creation_date":1699641470,"post_id":77455932,"comment_id":136561945,"body_markdown":"Thank you for your feedback, but the implementation is working, what is not working is when the Api is consumed via the Tomcat call.\nNote. The proxy in question is the type without authentication.","body":"Thank you for your feedback, but the implementation is working, what is not working is when the Api is consumed via the Tomcat call. Note. The proxy in question is the type without authentication."}],"owner":{"account_id":11848321,"reputation":1,"user_id":8670304,"display_name":"Emmanuel Thadeu Souza Trindade"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699706021,"creation_date":1699558833,"question_id":77455932,"body_markdown":"I have a web application, made using Jsf and Apache HttpClient. When trying to consume an Api that requires a Proxy for communication, if I run the code via the command line on the server it works, but if I run the same code via a web application through Tomcat I get the &quot;Name or service not known&quot; error.\r\n\r\nJava vers&#227;o 11\r\nApache HttpClient 4.5.14\r\n\r\n```\r\nprivate String getCpf(String tokenClient) throws IOException {\r\n\tString result = null;\r\n\ttry {\r\n\t\tSystem.out.println(&quot;Inicio do processamento.....&quot;);\r\n\t\t\r\n\t\tSystem.out.println(&quot;Token informado: &quot; + tokenClient);\r\n\t\t\r\n\t\tObjectMapper objectMapper = new ObjectMapper();\r\n\t\t\r\n\t\t\r\n\t\tSystem.out.println(&quot;Configurando o proxy...&quot;);\r\n\t\tHttpHost proxy = new HttpHost(&quot;111.111.111.111&quot;, 8080);\r\n\t\tDefaultProxyRoutePlanner routePlanner = new DefaultProxyRoutePlanner(proxy);\r\n\t\t//HttpClient httpClient = HttpClients.custom().setRoutePlanner(routePlanner).build();\r\n\t\tHttpClient httpClient = HttpClients.createDefault();\r\n\t\t\r\n\t\tHttpGet httpGet = new HttpGet(\r\n\t\t\t\t&quot;https://servidor.com.br/api-servidor/api/login/validatoken&quot;);\r\n\r\n\t\thttpGet.addHeader(&quot;Authorization&quot;, &quot;Bearer &quot; + tokenClient.replace(&quot;\\&quot;&quot;, &quot;&quot;));\r\n\r\n\t\thttpGet.addHeader(&quot;accept&quot;, &quot;application/json&quot;);\r\n\t\t\r\n\t\tSystem.out.println(&quot;Antes do envio....&quot;);\r\n\t\t\r\n\t\tHttpResponse response = httpClient.execute(httpGet);\r\n\t\tSystem.out.println(&quot;Apos o envio....&quot;);\r\n\t\r\n\t\tSystem.out.println(&quot;Coletando o retorno....&quot;);\r\n\t\tHttpEntity entity = response.getEntity();\r\n\t\tSystem.out.println(&quot;C&#243;digo do retorno: &quot; + response.getStatusLine().getStatusCode());\r\n\t\tif (entity != null &amp;&amp; response.getStatusLine().getStatusCode() == 200) {\r\n\t\t\tSystem.out.println(&quot;Retorno em string: &quot; + EntityUtils.toString(entity));\r\n\t\t\tresult = EntityUtils.toString(entity);\r\n\t\t\tSystem.out.println(&quot;Convertendo o retorno em json....&quot;);\r\n\t\t\tJsonNode jsonNode = objectMapper.readTree(result);\r\n\t\t\t\r\n\t\t\tresult = jsonNode.get(&quot;cpfcnpj&quot;).asText();\r\n\t\t\tSystem.out.println(&quot;Cpf retornado: &quot; + result);\r\n\t\t}\r\n\t} catch (IOException e) {\r\n\t\tSystem.out.println(&quot;Erro: &quot; + e.getMessage());\r\n\t\treturn result;\r\n\t}\r\n\t\r\n\tSystem.out.println(&quot;Fim da execu&#231;&#227;o....&quot;);\r\n\treturn result;\r\n}\r\n```\r\n\r\n\r\nI&#39;ve already tried setting the proxy through environment variables and through Tomcat&#39;s setenv.xml too, but it only works if I run it outside of Tomcat.","title":"Apache HttClient with Proxy not working in the Tomcat","body":"<p>I have a web application, made using Jsf and Apache HttpClient. When trying to consume an Api that requires a Proxy for communication, if I run the code via the command line on the server it works, but if I run the same code via a web application through Tomcat I get the &quot;Name or service not known&quot; error.</p>\n<p>Java versão 11\nApache HttpClient 4.5.14</p>\n<pre><code>private String getCpf(String tokenClient) throws IOException {\n    String result = null;\n    try {\n        System.out.println(&quot;Inicio do processamento.....&quot;);\n        \n        System.out.println(&quot;Token informado: &quot; + tokenClient);\n        \n        ObjectMapper objectMapper = new ObjectMapper();\n        \n        \n        System.out.println(&quot;Configurando o proxy...&quot;);\n        HttpHost proxy = new HttpHost(&quot;111.111.111.111&quot;, 8080);\n        DefaultProxyRoutePlanner routePlanner = new DefaultProxyRoutePlanner(proxy);\n        //HttpClient httpClient = HttpClients.custom().setRoutePlanner(routePlanner).build();\n        HttpClient httpClient = HttpClients.createDefault();\n        \n        HttpGet httpGet = new HttpGet(\n                &quot;https://servidor.com.br/api-servidor/api/login/validatoken&quot;);\n\n        httpGet.addHeader(&quot;Authorization&quot;, &quot;Bearer &quot; + tokenClient.replace(&quot;\\&quot;&quot;, &quot;&quot;));\n\n        httpGet.addHeader(&quot;accept&quot;, &quot;application/json&quot;);\n        \n        System.out.println(&quot;Antes do envio....&quot;);\n        \n        HttpResponse response = httpClient.execute(httpGet);\n        System.out.println(&quot;Apos o envio....&quot;);\n    \n        System.out.println(&quot;Coletando o retorno....&quot;);\n        HttpEntity entity = response.getEntity();\n        System.out.println(&quot;Código do retorno: &quot; + response.getStatusLine().getStatusCode());\n        if (entity != null &amp;&amp; response.getStatusLine().getStatusCode() == 200) {\n            System.out.println(&quot;Retorno em string: &quot; + EntityUtils.toString(entity));\n            result = EntityUtils.toString(entity);\n            System.out.println(&quot;Convertendo o retorno em json....&quot;);\n            JsonNode jsonNode = objectMapper.readTree(result);\n            \n            result = jsonNode.get(&quot;cpfcnpj&quot;).asText();\n            System.out.println(&quot;Cpf retornado: &quot; + result);\n        }\n    } catch (IOException e) {\n        System.out.println(&quot;Erro: &quot; + e.getMessage());\n        return result;\n    }\n    \n    System.out.println(&quot;Fim da execução....&quot;);\n    return result;\n}\n</code></pre>\n<p>I've already tried setting the proxy through environment variables and through Tomcat's setenv.xml too, but it only works if I run it outside of Tomcat.</p>\n"},{"tags":["java","inputstream","apache-commons","outputstream","apache-commons-exec"],"answers":[{"tags":[],"owner":{"account_id":4910153,"reputation":435,"user_id":3955663,"display_name":"MichalVales"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1526663173,"creation_date":1526663173,"answer_id":50416193,"question_id":50398031,"body_markdown":"Okay, I solved this using built-in tools rather than external libraries. I was able to achieve my goal thanks to independant thread which reads `Process`&#39; `InputStream`:\r\n\r\n    ProcessBuilder builder = new ProcessBuilder(command);\r\n\tProcess process = builder.start();\r\n\r\n\tBufferedWriter writer = new BufferedWriter(new OutputStreamWriter(process.getOutputStream()));\r\n\tStreamReader outputReader = new StreamReader(process.getInputStream(), System.out);\r\n\toutputReader.start();\r\n\tStreamReader err = new StreamReader(process.getErrorStream(), System.err);\r\n\terr.start();\r\n\r\n\tfor (int i = 0; i &lt; 3; i++) {\r\n\t    Thread.sleep(5000);\r\n\t    writer.write(internalProcessCommand + &quot;\\n&quot;);\r\n\t    writer.flush();\r\n\t}\r\n\twriter.write(&quot;exit\\n&quot;);\r\n\twriter.flush();\r\n\r\n\twhile (process.isAlive()) {\r\n\t    System.out.println(&quot;alive?&quot;);\r\n\t    Thread.sleep(100);\r\n\t}\r\n\tSystem.out.println(&quot;dead&quot;);\r\n\toutputReader.shutdown();\r\n\terr.shutdown();\r\n\r\nStreamReader:\r\n\r\n    class StreamReader extends Thread {\r\n\r\n        private AtomicBoolean running = new AtomicBoolean(false);\r\n        private InputStream in;\r\n        private OutputStream out;\r\n\r\n        public StreamReader(InputStream in, OutputStream out) {\r\n\t        this.in = in;\r\n\t        this.out = out;\r\n\t        running.set(true);\r\n        }\r\n\r\n        @Override\r\n        public void run() {\r\n\t        Scanner scanner = new Scanner(in);\r\n\t        PrintWriter writer = new PrintWriter(out, true);\r\n\t        while (running.get()) {\r\n\t            if (scanner.hasNextLine()) {\r\n\t\t            writer.println(scanner.nextLine());\r\n\t            }\r\n\t        }\r\n\t        scanner.close();\r\n        }\r\n\r\n        public void shutdown() {\r\n\t        running.set(false);\r\n        }\r\n\r\n    }","title":"Apache Commons exec PumpStreamHandler continuous input","body":"<p>Okay, I solved this using built-in tools rather than external libraries. I was able to achieve my goal thanks to independant thread which reads <code>Process</code>' <code>InputStream</code>:</p>\n\n<pre><code>ProcessBuilder builder = new ProcessBuilder(command);\nProcess process = builder.start();\n\nBufferedWriter writer = new BufferedWriter(new OutputStreamWriter(process.getOutputStream()));\nStreamReader outputReader = new StreamReader(process.getInputStream(), System.out);\noutputReader.start();\nStreamReader err = new StreamReader(process.getErrorStream(), System.err);\nerr.start();\n\nfor (int i = 0; i &lt; 3; i++) {\n    Thread.sleep(5000);\n    writer.write(internalProcessCommand + \"\\n\");\n    writer.flush();\n}\nwriter.write(\"exit\\n\");\nwriter.flush();\n\nwhile (process.isAlive()) {\n    System.out.println(\"alive?\");\n    Thread.sleep(100);\n}\nSystem.out.println(\"dead\");\noutputReader.shutdown();\nerr.shutdown();\n</code></pre>\n\n<p>StreamReader:</p>\n\n<pre><code>class StreamReader extends Thread {\n\n    private AtomicBoolean running = new AtomicBoolean(false);\n    private InputStream in;\n    private OutputStream out;\n\n    public StreamReader(InputStream in, OutputStream out) {\n        this.in = in;\n        this.out = out;\n        running.set(true);\n    }\n\n    @Override\n    public void run() {\n        Scanner scanner = new Scanner(in);\n        PrintWriter writer = new PrintWriter(out, true);\n        while (running.get()) {\n            if (scanner.hasNextLine()) {\n                writer.println(scanner.nextLine());\n            }\n        }\n        scanner.close();\n    }\n\n    public void shutdown() {\n        running.set(false);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1282599,"reputation":521,"user_id":1777770,"display_name":"champagniac"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699705206,"creation_date":1616701536,"answer_id":66806555,"question_id":50398031,"body_markdown":"A solution is to copy the implementation of [PumpStreamHandler][1]  and [StreamPumper][2], to let say ImmediatePumpStreamHandler and ImmediateStreamPumper, and make the following two changes:\r\n\r\n - Add `os.flush();` directly after `os.write(buf, 0, length);` on line 108 in ImmediateStreamPumper.\r\n - Change `new StreamPumper(...)` to `new ImmediateStreamPumper(...)` on line 269 in ImmediatePumpStreamHandler.\r\n\r\n  [1]: https://commons.apache.org/proper/commons-exec/apidocs/src-html/org/apache/commons/exec/PumpStreamHandler.html\r\n  [2]: https://commons.apache.org/proper/commons-exec/apidocs/src-html/org/apache/commons/exec/StreamPumper.html","title":"Apache Commons exec PumpStreamHandler continuous input","body":"<p>A solution is to copy the implementation of <a href=\"https://commons.apache.org/proper/commons-exec/apidocs/src-html/org/apache/commons/exec/PumpStreamHandler.html\" rel=\"nofollow noreferrer\">PumpStreamHandler</a>  and <a href=\"https://commons.apache.org/proper/commons-exec/apidocs/src-html/org/apache/commons/exec/StreamPumper.html\" rel=\"nofollow noreferrer\">StreamPumper</a>, to let say ImmediatePumpStreamHandler and ImmediateStreamPumper, and make the following two changes:</p>\n<ul>\n<li>Add <code>os.flush();</code> directly after <code>os.write(buf, 0, length);</code> on line 108 in ImmediateStreamPumper.</li>\n<li>Change <code>new StreamPumper(...)</code> to <code>new ImmediateStreamPumper(...)</code> on line 269 in ImmediatePumpStreamHandler.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":82626,"reputation":12122,"user_id":232175,"accept_rate":62,"display_name":"Matthias"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1624959445,"creation_date":1624959445,"answer_id":68176156,"question_id":50398031,"body_markdown":"Based on the answer given by @champagniac, I have created a simple fix which introduces additional flushing by only replacing the `PumpStreamHandler`:\r\n\r\n    public class PumpStreamHandlerFixed extends PumpStreamHandler\r\n    {\r\n      public PumpStreamHandlerFixed()\r\n      {\r\n        super();\r\n      }\r\n    \r\n      public PumpStreamHandlerFixed(OutputStream out, OutputStream err, InputStream input)\r\n      {\r\n        super(out, err, input);\r\n      }\r\n    \r\n      public PumpStreamHandlerFixed(OutputStream out, OutputStream err)\r\n      {\r\n        super(out, err);\r\n      }\r\n    \r\n      public PumpStreamHandlerFixed(OutputStream outAndErr)\r\n      {\r\n        super(outAndErr);\r\n      }\r\n    \r\n      @Override\r\n      protected Thread createPump(InputStream is, OutputStream os, boolean closeWhenExhausted)\r\n      {\r\n        os = new AutoFlushingOutputStream(os);\r\n    \r\n        final Thread result = new Thread(new StreamPumper(is, os, closeWhenExhausted), &quot;Exec Stream Pumper&quot;);\r\n        result.setDaemon(true);\r\n        return result;\r\n      }\r\n    }\r\n    \r\n    class AutoFlushingOutputStream extends OutputStream\r\n    {\r\n      private final OutputStream decorated;\r\n    \r\n      public AutoFlushingOutputStream(OutputStream decorated)\r\n      {\r\n        this.decorated = decorated;\r\n      }\r\n    \r\n      @Override\r\n      public void write(byte[] b, int off, int len) throws IOException\r\n      {\r\n        this.decorated.write(b, off, len);\r\n        this.decorated.flush();\r\n      }\r\n    \r\n      @Override\r\n      public void write(int b) throws IOException\r\n      {\r\n        this.decorated.write(b);\r\n        this.decorated.flush();\r\n      }\r\n    \r\n      @Override\r\n      public void close() throws IOException\r\n      {\r\n        this.decorated.close();\r\n      }\r\n    \r\n      @Override\r\n      public void flush() throws IOException\r\n      {\r\n        this.decorated.flush();\r\n      }\r\n    }\r\n\r\n","title":"Apache Commons exec PumpStreamHandler continuous input","body":"<p>Based on the answer given by @champagniac, I have created a simple fix which introduces additional flushing by only replacing the <code>PumpStreamHandler</code>:</p>\n<pre><code>public class PumpStreamHandlerFixed extends PumpStreamHandler\n{\n  public PumpStreamHandlerFixed()\n  {\n    super();\n  }\n\n  public PumpStreamHandlerFixed(OutputStream out, OutputStream err, InputStream input)\n  {\n    super(out, err, input);\n  }\n\n  public PumpStreamHandlerFixed(OutputStream out, OutputStream err)\n  {\n    super(out, err);\n  }\n\n  public PumpStreamHandlerFixed(OutputStream outAndErr)\n  {\n    super(outAndErr);\n  }\n\n  @Override\n  protected Thread createPump(InputStream is, OutputStream os, boolean closeWhenExhausted)\n  {\n    os = new AutoFlushingOutputStream(os);\n\n    final Thread result = new Thread(new StreamPumper(is, os, closeWhenExhausted), &quot;Exec Stream Pumper&quot;);\n    result.setDaemon(true);\n    return result;\n  }\n}\n\nclass AutoFlushingOutputStream extends OutputStream\n{\n  private final OutputStream decorated;\n\n  public AutoFlushingOutputStream(OutputStream decorated)\n  {\n    this.decorated = decorated;\n  }\n\n  @Override\n  public void write(byte[] b, int off, int len) throws IOException\n  {\n    this.decorated.write(b, off, len);\n    this.decorated.flush();\n  }\n\n  @Override\n  public void write(int b) throws IOException\n  {\n    this.decorated.write(b);\n    this.decorated.flush();\n  }\n\n  @Override\n  public void close() throws IOException\n  {\n    this.decorated.close();\n  }\n\n  @Override\n  public void flush() throws IOException\n  {\n    this.decorated.flush();\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":4910153,"reputation":435,"user_id":3955663,"display_name":"MichalVales"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1185,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":50416193,"answer_count":3,"score":3,"last_activity_date":1699705206,"creation_date":1526580850,"question_id":50398031,"body_markdown":"I am trying to solve interaction with command line process using Apache Commons exec. I&#39;m stuck with following code:\r\n\r\n    ByteArrayOutputStream out = new ByteArrayOutputStream();\r\n\tByteArrayOutputStream ins = new ByteArrayOutputStream();\r\n\tOutputStreamWriter ow = new OutputStreamWriter(ins);\r\n\tBufferedWriter writer = new BufferedWriter(ow);\r\n\tByteArrayInputStream in = new ByteArrayInputStream(ins.toByteArray());\r\n    PumpStreamHandler psh = new PumpStreamHandler(out, null, in);\r\n\tCommandLine cl = CommandLine.parse(initProcess);\r\n\tDefaultExecutor exec = new DefaultExecutor();\r\n\tDefaultExecuteResultHandler resultHandler = new DefaultExecuteResultHandler();\r\n\texec.setStreamHandler(psh);\r\n\ttry {\r\n\t    exec.execute(cl, resultHandler);\r\n\t    int i = 0;\r\n\t    while (true) {\r\n\t\t    String o = out.toString();\r\n\t\t    if (!o.trim().isEmpty()) {\r\n\t\t        System.out.println(o);\r\n\t\t        out.reset();\r\n\t\t    }\r\n            // --- PROBLEM start ---\r\n\t\t    if (i == 3) {\r\n\t\t        writer.write(internalProcessCommand); \r\n                // string with or without trailing \\n, both tested\r\n\t\t        writer.flush();\r\n\t\t        writer.close();\r\n                // tested even ins.write(internalProcessCommand.getBytes())\r\n\t\t    }\r\n            // --- PROBLEM end ---\r\n\t\t    Thread.sleep(3000);\r\n\t\t    i++;\r\n\t    }\r\n\t} catch (ExecuteException e) {\r\n\t    System.err.println(e.getMessage());\r\n\t}\r\n\r\nI hope my code is clear. I continuously read `out` and print it after 3 seconds while clearing stream. Problem is input to `in` passed to `PumpStreamHandler`. I need to pass process commands from code itself, continuously and dynamically as if I was interacting with process through CLI. When I simply use `System.in` as `PumpStreamHandler` argument, I can write process commands from console fine. How can I manage to have same result passing strings from code?\r\n\r\n**Edit:** \r\nI also tried to connect `PipedInputStream` receiving data from `PipedOutputStream`, but it seems that data can be read only after closing `PipedOutputStream` which makes it un-reusable thus I can&#39;t achieve interactivity.\r\n\r\n**Edit 2:**\r\nSolved myself. Solution in answer below. Howgh. :-)","title":"Apache Commons exec PumpStreamHandler continuous input","body":"<p>I am trying to solve interaction with command line process using Apache Commons exec. I'm stuck with following code:</p>\n\n<pre><code>ByteArrayOutputStream out = new ByteArrayOutputStream();\nByteArrayOutputStream ins = new ByteArrayOutputStream();\nOutputStreamWriter ow = new OutputStreamWriter(ins);\nBufferedWriter writer = new BufferedWriter(ow);\nByteArrayInputStream in = new ByteArrayInputStream(ins.toByteArray());\nPumpStreamHandler psh = new PumpStreamHandler(out, null, in);\nCommandLine cl = CommandLine.parse(initProcess);\nDefaultExecutor exec = new DefaultExecutor();\nDefaultExecuteResultHandler resultHandler = new DefaultExecuteResultHandler();\nexec.setStreamHandler(psh);\ntry {\n    exec.execute(cl, resultHandler);\n    int i = 0;\n    while (true) {\n        String o = out.toString();\n        if (!o.trim().isEmpty()) {\n            System.out.println(o);\n            out.reset();\n        }\n        // --- PROBLEM start ---\n        if (i == 3) {\n            writer.write(internalProcessCommand); \n            // string with or without trailing \\n, both tested\n            writer.flush();\n            writer.close();\n            // tested even ins.write(internalProcessCommand.getBytes())\n        }\n        // --- PROBLEM end ---\n        Thread.sleep(3000);\n        i++;\n    }\n} catch (ExecuteException e) {\n    System.err.println(e.getMessage());\n}\n</code></pre>\n\n<p>I hope my code is clear. I continuously read <code>out</code> and print it after 3 seconds while clearing stream. Problem is input to <code>in</code> passed to <code>PumpStreamHandler</code>. I need to pass process commands from code itself, continuously and dynamically as if I was interacting with process through CLI. When I simply use <code>System.in</code> as <code>PumpStreamHandler</code> argument, I can write process commands from console fine. How can I manage to have same result passing strings from code?</p>\n\n<p><strong>Edit:</strong> \nI also tried to connect <code>PipedInputStream</code> receiving data from <code>PipedOutputStream</code>, but it seems that data can be read only after closing <code>PipedOutputStream</code> which makes it un-reusable thus I can't achieve interactivity.</p>\n\n<p><strong>Edit 2:</strong>\nSolved myself. Solution in answer below. Howgh. :-)</p>\n"},{"tags":["java","sql","persistence","persistence.xml"],"comments":[{"owner":{"account_id":2450346,"reputation":5181,"user_id":2136795,"display_name":"Gyro Gearless"},"score":1,"creation_date":1369728914,"post_id":16786587,"comment_id":24189882,"body_markdown":"Your psql command tells nothing about &quot;mydb&quot; - it just connects to the default DB. Try to connect to mydb or see if it&#39;s there (I suppose that was &quot;\\l&quot;, have no Postgresql here)","body":"Your psql command tells nothing about &quot;mydb&quot; - it just connects to the default DB. Try to connect to mydb or see if it&#39;s there (I suppose that was &quot;\\l&quot;, have no Postgresql here)"},{"owner":{"account_id":1798222,"reputation":319,"user_id":1637142,"display_name":"Hassan Shahid"},"score":0,"creation_date":1371593157,"post_id":16786587,"comment_id":24877187,"body_markdown":"Your persistence.xml file suggests the database it should be connecting to is called magick, but your STDERR suggests it&#39;s trying to connect to a database called mydb.  Unless you purposely changed that in the copy/paste, it doesn&#39;t seem like it&#39;s even using that configuration.","body":"Your persistence.xml file suggests the database it should be connecting to is called magick, but your STDERR suggests it&#39;s trying to connect to a database called mydb.  Unless you purposely changed that in the copy/paste, it doesn&#39;t seem like it&#39;s even using that configuration."}],"answers":[{"tags":[],"owner":{"account_id":1317232,"reputation":3875,"user_id":1263837,"accept_rate":11,"display_name":"Kundan Atre"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1388060282,"creation_date":1388060282,"answer_id":20784703,"question_id":16786587,"body_markdown":"In my case it was because of wrong username and password given. ","title":"PSQLException: FATAL: database &quot;mydb&quot; does not exist","body":"<p>In my case it was because of wrong username and password given. </p>\n"}],"owner":{"account_id":412334,"reputation":33758,"user_id":785349,"accept_rate":94,"display_name":"quarks"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8165,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1699704095,"creation_date":1369727273,"question_id":16786587,"body_markdown":"I&#39;m having a weird problem with my app trying to connect to PostgreSQL with Jdbc driver version: 8.4-702.jdbc4\r\n\r\nIt seems it can&#39;t find the DB defined in the persistence.xml where it&#39;s there.\r\n\r\n**Error:**\r\n\r\n    [INFO] Caused by: org.postgresql.util.PSQLException: FATAL: database &quot;mydb&quot; does not exist\r\n    [INFO] \tat org.postgresql.core.v3.ConnectionFactoryImpl.readStartupMessages(ConnectionFactoryImpl.java:464)\r\n    [INFO] \tat org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:112)\r\n    [INFO] \tat org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:66)\r\n    [INFO] \tat org.postgresql.jdbc2.AbstractJdbc2Connection.&lt;init&gt;(AbstractJdbc2Connection.java:125)\r\n    [INFO] \tat org.postgresql.jdbc3.AbstractJdbc3Connection.&lt;init&gt;(AbstractJdbc3Connection.java:30)\r\n    [INFO] \tat org.postgresql.jdbc3g.AbstractJdbc3gConnection.&lt;init&gt;(AbstractJdbc3gConnection.java:22)\r\n    [INFO] \tat org.postgresql.jdbc4.AbstractJdbc4Connection.&lt;init&gt;(AbstractJdbc4Connection.java:30)\r\n    [INFO] \tat org.postgresql.jdbc4.Jdbc4Connection.&lt;init&gt;(Jdbc4Connection.java:24)\r\n    [INFO] \tat org.postgresql.Driver.makeConnection(Driver.java:393)\r\n    [INFO] \tat org.postgresql.Driver.connect(Driver.java:267)\r\n    [INFO] \tat java.sql.DriverManager.getConnection(DriverManager.java:579)\r\n    [INFO] \tat java.sql.DriverManager.getConnection(DriverManager.java:221)\r\n    [INFO] \tat org.postgresql.ds.common.BaseDataSource.getConnection(BaseDataSource.java:89)\r\n    [INFO] \tat org.postgresql.ds.common.BaseDataSource.getConnection(BaseDataSource.java:72)\r\n    [INFO] \tat org.apache.shiro.realm.jdbc.JdbcRealm.doGetAuthenticationInfo(JdbcRealm.java:215\r\n\r\nHowever I can do this w/o problems in the shell:\r\n\r\n    $ psql -U postgres -h 192.168.145.128\r\n\r\n**persistence.xml**\r\n\r\n      &lt;properties&gt;\r\n         &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;update&quot;/&gt;\r\n\t     &lt;property name=&quot;javax.persistence.jdbc.url&quot; value=&quot;jdbc:postgresql://192.168.145.128:5432/mydb&quot; /&gt;\r\n\t     &lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;org.postgresql.Driver&quot; /&gt;\r\n \t     &lt;property name=&quot;javax.persistence.jdbc.user&quot; value=&quot;postgres&quot; /&gt; \r\n \t     &lt;property name=&quot;javax.persistence.jdbc.password&quot; value=&quot;postgres&quot; /&gt; \r\n      &lt;/properties&gt;\r\n\r\nWhat could be the problem? ","title":"PSQLException: FATAL: database &quot;mydb&quot; does not exist","body":"<p>I'm having a weird problem with my app trying to connect to PostgreSQL with Jdbc driver version: 8.4-702.jdbc4</p>\n\n<p>It seems it can't find the DB defined in the persistence.xml where it's there.</p>\n\n<p><strong>Error:</strong></p>\n\n<pre><code>[INFO] Caused by: org.postgresql.util.PSQLException: FATAL: database \"mydb\" does not exist\n[INFO]  at org.postgresql.core.v3.ConnectionFactoryImpl.readStartupMessages(ConnectionFactoryImpl.java:464)\n[INFO]  at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:112)\n[INFO]  at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:66)\n[INFO]  at org.postgresql.jdbc2.AbstractJdbc2Connection.&lt;init&gt;(AbstractJdbc2Connection.java:125)\n[INFO]  at org.postgresql.jdbc3.AbstractJdbc3Connection.&lt;init&gt;(AbstractJdbc3Connection.java:30)\n[INFO]  at org.postgresql.jdbc3g.AbstractJdbc3gConnection.&lt;init&gt;(AbstractJdbc3gConnection.java:22)\n[INFO]  at org.postgresql.jdbc4.AbstractJdbc4Connection.&lt;init&gt;(AbstractJdbc4Connection.java:30)\n[INFO]  at org.postgresql.jdbc4.Jdbc4Connection.&lt;init&gt;(Jdbc4Connection.java:24)\n[INFO]  at org.postgresql.Driver.makeConnection(Driver.java:393)\n[INFO]  at org.postgresql.Driver.connect(Driver.java:267)\n[INFO]  at java.sql.DriverManager.getConnection(DriverManager.java:579)\n[INFO]  at java.sql.DriverManager.getConnection(DriverManager.java:221)\n[INFO]  at org.postgresql.ds.common.BaseDataSource.getConnection(BaseDataSource.java:89)\n[INFO]  at org.postgresql.ds.common.BaseDataSource.getConnection(BaseDataSource.java:72)\n[INFO]  at org.apache.shiro.realm.jdbc.JdbcRealm.doGetAuthenticationInfo(JdbcRealm.java:215\n</code></pre>\n\n<p>However I can do this w/o problems in the shell:</p>\n\n<pre><code>$ psql -U postgres -h 192.168.145.128\n</code></pre>\n\n<p><strong>persistence.xml</strong></p>\n\n<pre><code>  &lt;properties&gt;\n     &lt;property name=\"hibernate.hbm2ddl.auto\" value=\"update\"/&gt;\n     &lt;property name=\"javax.persistence.jdbc.url\" value=\"jdbc:postgresql://192.168.145.128:5432/mydb\" /&gt;\n     &lt;property name=\"javax.persistence.jdbc.driver\" value=\"org.postgresql.Driver\" /&gt;\n     &lt;property name=\"javax.persistence.jdbc.user\" value=\"postgres\" /&gt; \n     &lt;property name=\"javax.persistence.jdbc.password\" value=\"postgres\" /&gt; \n  &lt;/properties&gt;\n</code></pre>\n\n<p>What could be the problem? </p>\n"},{"tags":["java","selenium","screenshot","testng"],"answers":[{"tags":[],"owner":{"account_id":1533549,"reputation":226,"user_id":1430147,"accept_rate":71,"display_name":"satish john"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1340252316,"creation_date":1340252316,"answer_id":11131419,"question_id":11122261,"body_markdown":"I have also implemented the same extending Testng TestListenerAdapter. By capturing the screenshot then attach it to the Testng Report with the image of size height=100 and width=100 with onTestFailure. Please see below if this helps solve your problem\r\n\r\n\t\tFile scrFile = ((TakesScreenshot) WebdriverManager.globalDriverInstance).getScreenshotAs(OutputType.FILE);\r\n\t      //Needs Commons IO library\r\n\t      try {\r\n\t\t\tFileUtils.copyFile(scrFile, new File(file.getAbsolutePath()+ &quot;/selenium-reports/html/&quot; + result.getName() + &quot;.jpg&quot;));\r\n\t\t\tReporter.log(&quot;&lt;a href=&#39;&quot;+ file.getAbsolutePath()+&quot;/selenium-reports/html/&quot; + result.getName() + &quot;.jpg&#39;&gt; &lt;img src=&#39;&quot;+ file.getAbsolutePath()+&quot;/selenium-reports/html/&quot;+ result.getName() + &quot;.jpg&#39; height=&#39;100&#39; width=&#39;100&#39;/&gt; &lt;/a&gt;&quot;);\r\n\t\t} catch (IOException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\tReporter.setCurrentTestResult(null);","title":"Attaching screenshots to TestNG Failed methods results","body":"<p>I have also implemented the same extending Testng TestListenerAdapter. By capturing the screenshot then attach it to the Testng Report with the image of size height=100 and width=100 with onTestFailure. Please see below if this helps solve your problem</p>\n\n<pre><code>    File scrFile = ((TakesScreenshot) WebdriverManager.globalDriverInstance).getScreenshotAs(OutputType.FILE);\n      //Needs Commons IO library\n      try {\n        FileUtils.copyFile(scrFile, new File(file.getAbsolutePath()+ \"/selenium-reports/html/\" + result.getName() + \".jpg\"));\n        Reporter.log(\"&lt;a href='\"+ file.getAbsolutePath()+\"/selenium-reports/html/\" + result.getName() + \".jpg'&gt; &lt;img src='\"+ file.getAbsolutePath()+\"/selenium-reports/html/\"+ result.getName() + \".jpg' height='100' width='100'/&gt; &lt;/a&gt;\");\n    } catch (IOException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n    Reporter.setCurrentTestResult(null);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2432062,"reputation":1,"user_id":2387423,"display_name":"Kamal Chhajed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1368651125,"creation_date":1368651125,"answer_id":16574765,"question_id":11122261,"body_markdown":"In addition to above don&#39;t forget to add following lines to your testng suite xml\r\n\r\n    &lt;listeners&gt;\r\n    \t&lt;listener class-name=&quot;com.tests.DotTestListener&quot; /&gt;\r\n    &lt;/listeners&gt;\r\n\r\n**OR** \r\n\r\npassing as listner parameter if you are executing it from command line\r\n\r\n    java -classpath testng.jar;%CLASSPATH% org.testng.TestNG -listener com.tests.DotTestListener test\\testng.xml\r\n\r\nReference : http://testng.org/doc/documentation-main.html#logging-listeners","title":"Attaching screenshots to TestNG Failed methods results","body":"<p>In addition to above don't forget to add following lines to your testng suite xml</p>\n\n<pre><code>&lt;listeners&gt;\n    &lt;listener class-name=\"com.tests.DotTestListener\" /&gt;\n&lt;/listeners&gt;\n</code></pre>\n\n<p><strong>OR</strong> </p>\n\n<p>passing as listner parameter if you are executing it from command line</p>\n\n<pre><code>java -classpath testng.jar;%CLASSPATH% org.testng.TestNG -listener com.tests.DotTestListener test\\testng.xml\n</code></pre>\n\n<p>Reference : <a href=\"http://testng.org/doc/documentation-main.html#logging-listeners\" rel=\"nofollow\">http://testng.org/doc/documentation-main.html#logging-listeners</a></p>\n"},{"tags":[],"owner":{"account_id":3819061,"reputation":1,"user_id":3167606,"display_name":"Vinh Trang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1397612809,"creation_date":1397612809,"answer_id":23097558,"question_id":11122261,"body_markdown":"I&#39;ve had same problem but it solved. By implementing SuitePanel you will be able to add screenshot as you want\r\nhttps://github.com/cbeust/testng/blob/master/src/main/java/org/testng/reporters/jq/SuitePanel.java\r\n\r\nI almost don&#39;t change the original code except \r\n\r\n\r\n\t... \r\n\t// Description?\r\n    String description = tr.getMethod().getDescription();\r\n    if (! Strings.isNullOrEmpty(description)) {\r\n        xsb.push(&quot;em&quot;);\r\n        xsb.addString(&quot;(&quot; + description + &quot;)&quot;);\r\n        xsb.pop(&quot;em&quot;);\r\n    }\r\n\t// Add screen shot here\r\n\txsb.push(“img”,”src”,imagePath);\r\n\txsb.pop(“img”);\r\n\r\n    xsb.pop(D);\r\n    xsb.pop(D);\r\n","title":"Attaching screenshots to TestNG Failed methods results","body":"<p>I've had same problem but it solved. By implementing SuitePanel you will be able to add screenshot as you want\n<a href=\"https://github.com/cbeust/testng/blob/master/src/main/java/org/testng/reporters/jq/SuitePanel.java\" rel=\"nofollow\">https://github.com/cbeust/testng/blob/master/src/main/java/org/testng/reporters/jq/SuitePanel.java</a></p>\n\n<p>I almost don't change the original code except </p>\n\n<pre><code>... \n// Description?\nString description = tr.getMethod().getDescription();\nif (! Strings.isNullOrEmpty(description)) {\n    xsb.push(\"em\");\n    xsb.addString(\"(\" + description + \")\");\n    xsb.pop(\"em\");\n}\n// Add screen shot here\nxsb.push(“img”,”src”,imagePath);\nxsb.pop(“img”);\n\nxsb.pop(D);\nxsb.pop(D);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2050353,"reputation":4625,"user_id":1829500,"accept_rate":57,"display_name":"Mrunal Gosar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1466402655,"creation_date":1466402655,"answer_id":37915513,"question_id":11122261,"body_markdown":"If you want to show the screen shot on the failed method then you will have to capture the exception and modify its message content and add img html to that and then it will appear. Let me know if you need example","title":"Attaching screenshots to TestNG Failed methods results","body":"<p>If you want to show the screen shot on the failed method then you will have to capture the exception and modify its message content and add img html to that and then it will appear. Let me know if you need example</p>\n"},{"tags":[],"owner":{"account_id":2300729,"reputation":71,"user_id":2021076,"accept_rate":60,"display_name":"AnkitSingh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1504855886,"creation_date":1504855577,"answer_id":46110919,"question_id":11122261,"body_markdown":"I had same issue but its fixed now. I made a method to catcher screenshot in base class. this method return full path of screenshot. \r\n\r\n    public String getScreenshot (String screenshotName, WebDriver driver) throws IOException{\r\n\t\tDateFormat dateformate = new SimpleDateFormat(&quot;dd-mm-yy-hh-mm-ss&quot;);\r\n\t\tDate date = new Date();\r\n\t\tString currentdate = dateformate.format(date);\r\n\t\tString imageName =screenshotName+currentdate;\r\n\t\tTakesScreenshot ts=(TakesScreenshot)driver;\r\n\t\tFile source=ts.getScreenshotAs(OutputType.FILE);\r\n\t\tString location =System.getProperty(&quot;user.dir&quot;)+&quot;\\\\testOutput\\\\screenshot\\\\&quot;+imageName+&quot;.png&quot;;\r\n\t\tFile screenshotLocation =new File (location);\r\n\t\tFileUtils.copyFile(source, screenshotLocation);\r\n\t\treturn location;\r\n\r\n\t}\r\n\r\nAdd use this path to add screenshot in testng report as well as report log by updating testng TestNgListener- \r\n\r\n    public void onTestFailure(ITestResult arg0) {\r\n\t\tObject currentClass = arg0.getInstance();\r\n\t\tWebDriver driver = ((BrowserSetup) currentClass).getDriver();\r\n\t\tString name = arg0.getName();\r\n\t\tSystem.out.println(name);\r\n\t\ttry {\r\n\t\t\tString screenshotPath =getScreenshot(name, driver);\r\n\t\t\tSystem.out.println(&quot;Screenshot taken&quot;);\r\n\t\t\tString path = &quot;&lt;img src=\\&quot;file://&quot; + screenshotPath + &quot;\\&quot; alt=\\&quot;\\&quot;/&gt;&quot;;\r\n\t\t\tSystem.out.println(screenshotPath+&quot; and path - &quot;+path);\r\n\t\t\tReporter.log(&quot;Capcher screenshot path is &quot;+path);\r\n\t\t} catch (Exception e) {\r\n\t\t\tSystem.out.println(&quot;Exception while takescreenshot &quot;+e.getMessage());\r\n\t\t}\r\n\t\tprintTestResults(arg0);\r\n\r\n\t}\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DWTjG.png","title":"Attaching screenshots to TestNG Failed methods results","body":"<p>I had same issue but its fixed now. I made a method to catcher screenshot in base class. this method return full path of screenshot. </p>\n\n<pre><code>public String getScreenshot (String screenshotName, WebDriver driver) throws IOException{\n    DateFormat dateformate = new SimpleDateFormat(\"dd-mm-yy-hh-mm-ss\");\n    Date date = new Date();\n    String currentdate = dateformate.format(date);\n    String imageName =screenshotName+currentdate;\n    TakesScreenshot ts=(TakesScreenshot)driver;\n    File source=ts.getScreenshotAs(OutputType.FILE);\n    String location =System.getProperty(\"user.dir\")+\"\\\\testOutput\\\\screenshot\\\\\"+imageName+\".png\";\n    File screenshotLocation =new File (location);\n    FileUtils.copyFile(source, screenshotLocation);\n    return location;\n\n}\n</code></pre>\n\n<p>Add use this path to add screenshot in testng report as well as report log by updating testng TestNgListener- </p>\n\n<pre><code>public void onTestFailure(ITestResult arg0) {\n    Object currentClass = arg0.getInstance();\n    WebDriver driver = ((BrowserSetup) currentClass).getDriver();\n    String name = arg0.getName();\n    System.out.println(name);\n    try {\n        String screenshotPath =getScreenshot(name, driver);\n        System.out.println(\"Screenshot taken\");\n        String path = \"&lt;img src=\\\"file://\" + screenshotPath + \"\\\" alt=\\\"\\\"/&gt;\";\n        System.out.println(screenshotPath+\" and path - \"+path);\n        Reporter.log(\"Capcher screenshot path is \"+path);\n    } catch (Exception e) {\n        System.out.println(\"Exception while takescreenshot \"+e.getMessage());\n    }\n    printTestResults(arg0);\n\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/DWTjG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DWTjG.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":5006535,"reputation":1029,"user_id":4024038,"accept_rate":83,"display_name":"Nael Marwan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1520835858,"creation_date":1520835858,"answer_id":49229227,"question_id":11122261,"body_markdown":"I suggest you to use ReportNG instead of the primitive TestNG reports.","title":"Attaching screenshots to TestNG Failed methods results","body":"<p>I suggest you to use ReportNG instead of the primitive TestNG reports.</p>\n"},{"tags":[],"owner":{"account_id":8986403,"reputation":292,"user_id":6699861,"display_name":"Serhii Matvienko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1578836158,"creation_date":1578836158,"answer_id":59704346,"question_id":11122261,"body_markdown":"\r\nIf the problem only with getting screenshots, you can try to get it like this:\r\n\r\n\r\n    private static byte[] GetCropImg(IWebDriver targetChrome, IWebElement targetElement)\r\n            {\r\n                var screenshot = ((ITakesScreenshot)targetChrome).GetScreenshot();\r\n                var location = targetElement.Location;\r\n                using (MemoryStream stream = new MemoryStream(screenshot.AsByteArray))\r\n                {\r\n                    var rect = new Rectangle(location.X, location.Y, targetElement.Size.Width, targetElement.Size.Height);\r\n                    using (Bitmap bmpImage = new Bitmap(stream))\r\n                    {\r\n                        using (Bitmap cropedImag = bmpImage.Clone(rect, bmpImage.PixelFormat))\r\n                        {\r\n                            using (MemoryStream ms = new MemoryStream())\r\n                            {\r\n                                cropedImag.Save(ms, ImageFormat.Jpeg);\r\n                                \r\n                                byte[] byteImage = ms.ToArray();\r\n                                return byteImage;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\nand then you can save file or save sting64\r\n\r\n    var imgString64 = Convert.ToBase64String(byteImage); //Get Base64\r\n\r\nPS: on JAVA it should be almost the same)","title":"Attaching screenshots to TestNG Failed methods results","body":"<p>If the problem only with getting screenshots, you can try to get it like this:</p>\n\n<pre><code>private static byte[] GetCropImg(IWebDriver targetChrome, IWebElement targetElement)\n        {\n            var screenshot = ((ITakesScreenshot)targetChrome).GetScreenshot();\n            var location = targetElement.Location;\n            using (MemoryStream stream = new MemoryStream(screenshot.AsByteArray))\n            {\n                var rect = new Rectangle(location.X, location.Y, targetElement.Size.Width, targetElement.Size.Height);\n                using (Bitmap bmpImage = new Bitmap(stream))\n                {\n                    using (Bitmap cropedImag = bmpImage.Clone(rect, bmpImage.PixelFormat))\n                    {\n                        using (MemoryStream ms = new MemoryStream())\n                        {\n                            cropedImag.Save(ms, ImageFormat.Jpeg);\n\n                            byte[] byteImage = ms.ToArray();\n                            return byteImage;\n                        }\n                    }\n                }\n            }\n        }\n</code></pre>\n\n<p>and then you can save file or save sting64</p>\n\n<pre><code>var imgString64 = Convert.ToBase64String(byteImage); //Get Base64\n</code></pre>\n\n<p>PS: on JAVA it should be almost the same)</p>\n"},{"tags":[],"owner":{"account_id":8037196,"reputation":958,"user_id":6059967,"display_name":"Justin Lambert"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1592482438,"creation_date":1592482438,"answer_id":62449730,"question_id":11122261,"body_markdown":"[![enter image description here][1]][1]you can get failed test cases screen shots with name of failed test class by using @After method.\r\nUse below code segment\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/n0OJy.png\r\n  [2]: https://i.stack.imgur.com/HlRTq.png","title":"Attaching screenshots to TestNG Failed methods results","body":"<p><a href=\"https://i.stack.imgur.com/n0OJy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/n0OJy.png\" alt=\"enter image description here\"></a>you can get failed test cases screen shots with name of failed test class by using @After method.\nUse below code segment\n<a href=\"https://i.stack.imgur.com/HlRTq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HlRTq.png\" alt=\"enter image description here\"></a></p>\n"}],"owner":{"account_id":1584933,"reputation":121,"user_id":1469519,"accept_rate":0,"display_name":"Vlad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14190,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":8,"score":7,"last_activity_date":1699704095,"creation_date":1340204025,"question_id":11122261,"body_markdown":"I am looking for a way to attach a screenshot to Results section of TestNG Report for the failed methods.\r\n\r\nSo far I was able to attache my screenshots to Reporter Output by implementing this:\r\n\r\n   `Reporter.log(&quot;&lt;br&gt; &lt;img src=.\\\\screenshots\\\\&quot; + fileName  + &quot; /&gt; &lt;br&gt;&quot;);` \r\n\r\nbut still struggling with adding them to Test Results section of failed methods.\r\n\r\nI was able to implement Listener and intercept onTestFailure actions which was originally suggested here: \r\nhttps://stackoverflow.com/questions/8939337/how-can-i-include-a-failure-screenshot-to-the-testng-report\r\n\r\nHere is an example of that:\r\n\r\n    \t@Override\r\n    public void onTestFailure(ITestResult result) { \r\n\t\tReporter.setCurrentTestResult(result); \r\n\t\tReporter.log(&quot;&lt;br&gt; &lt;img src=.\\\\screenshots\\\\Untitled.png /&gt; &lt;br&gt;&quot;);\r\n\t\tReporter.setCurrentTestResult(null); \r\n\t}\r\n\r\nBut Reporter.log function still pushes my information in the Reporter output log but not in the Results-&gt;Failed methods-&gt;Failed method log.\r\n\r\nUpdate (03/14/14): I&#39;ve attached screenshot to clarify my question. The problem is not in capturing screenshot and attaching it to Report. That part works fine. The problem is that screenshot is attached to Test Output part of the report but I want to see it in Results -&gt; Failed Methods.\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/66mhp.jpg","title":"Attaching screenshots to TestNG Failed methods results","body":"<p>I am looking for a way to attach a screenshot to Results section of TestNG Report for the failed methods.</p>\n\n<p>So far I was able to attache my screenshots to Reporter Output by implementing this:</p>\n\n<p><code>Reporter.log(\"&lt;br&gt; &lt;img src=.\\\\screenshots\\\\\" + fileName  + \" /&gt; &lt;br&gt;\");</code> </p>\n\n<p>but still struggling with adding them to Test Results section of failed methods.</p>\n\n<p>I was able to implement Listener and intercept onTestFailure actions which was originally suggested here: \n<a href=\"https://stackoverflow.com/questions/8939337/how-can-i-include-a-failure-screenshot-to-the-testng-report\">How can I include a failure screenshot to the testNG report</a></p>\n\n<p>Here is an example of that:</p>\n\n<pre><code>    @Override\npublic void onTestFailure(ITestResult result) { \n    Reporter.setCurrentTestResult(result); \n    Reporter.log(\"&lt;br&gt; &lt;img src=.\\\\screenshots\\\\Untitled.png /&gt; &lt;br&gt;\");\n    Reporter.setCurrentTestResult(null); \n}\n</code></pre>\n\n<p>But Reporter.log function still pushes my information in the Reporter output log but not in the Results->Failed methods->Failed method log.</p>\n\n<p>Update (03/14/14): I've attached screenshot to clarify my question. The problem is not in capturing screenshot and attaching it to Report. That part works fine. The problem is that screenshot is attached to Test Output part of the report but I want to see it in Results -> Failed Methods.</p>\n\n<p><img src=\"https://i.stack.imgur.com/66mhp.jpg\" alt=\"enter image description here\"></p>\n"},{"tags":["java","unit-testing","junit","mocking","mockito"],"comments":[{"owner":{"account_id":11104856,"reputation":1527,"user_id":8152324,"display_name":"ndc85430"},"score":4,"creation_date":1694965390,"post_id":77122530,"comment_id":135957796,"body_markdown":"Why do you want to mock the list in the first place? Why not use a real one, like an `ArrayList`?","body":"Why do you want to mock the list in the first place? Why not use a real one, like an <code>ArrayList</code>?"},{"owner":{"account_id":39208,"reputation":251210,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1694965665,"post_id":77122530,"comment_id":135957822,"body_markdown":"@ndc85430 this is a question/problem often encountered by newcomers. Somehow we ended up with the notion of &quot;only a single class&quot; and &quot;everyhing must be mocked&quot;. It is completely confusing and non-transparent why the list is not empty, but still doesn&#39;t sum its elements. Why can&#39;t Mockito read our minds?","body":"@ndc85430 this is a question/problem often encountered by newcomers. Somehow we ended up with the notion of &quot;only a single class&quot; and &quot;everyhing must be mocked&quot;. It is completely confusing and non-transparent why the list is not empty, but still doesn&#39;t sum its elements. Why can&#39;t Mockito read our minds?"},{"owner":{"account_id":3597514,"reputation":117146,"user_id":3001761,"display_name":"jonrsharpe"},"score":1,"creation_date":1694965750,"post_id":77122530,"comment_id":135957834,"body_markdown":"_&quot;Since only a single class should be tested in a unit test, everything else must be mocked&quot;_ - not *everything*; for one thing, you generally shouldn&#39;t mock what you don&#39;t own. Your method accepts a list, unless you&#39;re planning a very implementation-coupled test (which TDD should be helping you avoid) using real collections isn&#39;t inappropriate. As to why your specific test double is a problem: what&#39;s its size?","body":"<i>&quot;Since only a single class should be tested in a unit test, everything else must be mocked&quot;</i> - not <i>everything</i>; for one thing, you generally shouldn&#39;t mock what you don&#39;t own. Your method accepts a list, unless you&#39;re planning a very implementation-coupled test (which TDD should be helping you avoid) using real collections isn&#39;t inappropriate. As to why your specific test double is a problem: what&#39;s its size?"},{"owner":{"account_id":39208,"reputation":251210,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1694965753,"post_id":77122530,"comment_id":135957835,"body_markdown":"@jonrsharpe Why did you remove the tags? They are clearly relevant to the question (it is about mocking and _unit_ testing)","body":"@jonrsharpe Why did you remove the tags? They are clearly relevant to the question (it is about mocking and <i>unit</i> testing)"},{"owner":{"account_id":39208,"reputation":251210,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1694965932,"post_id":77122530,"comment_id":135957861,"body_markdown":"I don&#39;t understand how this question is lacking details or clarity? It includes a [mre] (copy-pastable), it states the problem, it asks a single, specific question. I&#39;ll gladly add the missing details if you let me know what.","body":"I don&#39;t understand how this question is lacking details or clarity? It includes a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> (copy-pastable), it states the problem, it asks a single, specific question. I&#39;ll gladly add the missing details if you let me know what."},{"owner":{"account_id":39208,"reputation":251210,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1694966107,"post_id":77122530,"comment_id":135957880,"body_markdown":"@jonrsharpe the size of the list? You&#39;d expect it to be 1, because there is one element in the list (`get(0)` returns the element). It is not 1, but why is that? How to explain to someone on their first day of unit testing?","body":"@jonrsharpe the size of the list? You&#39;d expect it to be 1, because there is one element in the list (<code>get(0)</code> returns the element). It is not 1, but why is that? How to explain to someone on their first day of unit testing?"},{"owner":{"account_id":3597514,"reputation":117146,"user_id":3001761,"display_name":"jonrsharpe"},"score":1,"creation_date":1694966349,"post_id":77122530,"comment_id":135957905,"body_markdown":"What is the intent here? Was this supposed to be self-answered, a canonical of some kind? Or do you actually not understand what&#39;s happening in the code you&#39;ve posted? I wouldn&#39;t expect the size to be 1, and if uncertain I&#39;d log or debug it. Who&#39;s the beginner (_is_ this your first day of unit testing)? What _&quot;misguided &quot;suggestions&quot;&quot;_ (and they might be misguided but they&#39;re definitely suggestions).","body":"What is the intent here? Was this supposed to be self-answered, a canonical of some kind? Or do you actually not understand what&#39;s happening in the code you&#39;ve posted? I wouldn&#39;t expect the size to be 1, and if uncertain I&#39;d log or debug it. Who&#39;s the beginner (<i>is</i> this your first day of unit testing)? What <i>&quot;misguided &quot;suggestions&quot;&quot;</i> (and they might be misguided but they&#39;re definitely suggestions)."},{"owner":{"account_id":29176687,"reputation":322,"user_id":22351796,"display_name":"Karsten"},"score":0,"creation_date":1694967550,"post_id":77122530,"comment_id":135958041,"body_markdown":"I think mockito gives you a default implementation for isEmpty returning true all the way.","body":"I think mockito gives you a default implementation for isEmpty returning true all the way."},{"owner":{"account_id":39208,"reputation":251210,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1695639329,"post_id":77122530,"comment_id":136046706,"body_markdown":"@Karsten it&#39;s the other way round. The default implementation by Mockito returns the default value for a data type (plus special handling of collections)","body":"@Karsten it&#39;s the other way round. The default implementation by Mockito returns the default value for a data type (plus special handling of collections)"}],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251210,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1695017421,"creation_date":1694967502,"answer_id":77122702,"question_id":77122530,"body_markdown":"The problem is that `Mockito.mock` creates a mock object with no stubbed behavior, which means that all methods will return a default value for their return type (empty collections, 0 for numbers, false for booleans, null for objects).\r\n\r\nStubbing the `get` call does not magically add items to the list and does not affect the return value of `isEmpty()` nor that of `size()`. The mocked &quot;list&quot; is not a real list. It is a mock object without any behavior. An empty shell. It only does what it is explicitly told in the test. \r\n\r\nApplying the rules from the first paragraph lets us deduce:\r\n\r\n* `mockList.isEmpty()` returns `false` (the default value for a boolean)\r\n* `mockList.size()` returns `0` (the default value for a numeric type)\r\n\r\nIf Mockito is applied carelessly, you&#39;ll end up with zombie objects, which pretend that they are working, while they do not behave like their real counterparts. In case of the list, it seems to be non-empty but has a size of 0 at the same time; that doesn&#39;t make sense for a list!\r\n\r\nNot everything must be mocked. It is okay to test the interaction between objects (of the same unit). A unit is not a single class! (but it could be). Even Mockito itself [advises against mocking everything](https://github.com/mockito/mockito/wiki/How-to-write-good-tests#dont-mock-everything-its-an-anti-pattern):\r\n\r\n&gt; If everything is mocked, are we really testing the production code? Don&#39;t hesitate to not mock!\r\n\r\nOn the same page, they explain that [_value objects_ shouldn&#39;t be mocked](https://github.com/mockito/mockito/wiki/How-to-write-good-tests#dont-mock-value-objects) either. A list is clearly a value object (it is a data holder without any interesting behavior).\r\n\r\nLast but not least, [don&#39;t mock types that you don&#39;t own](https://github.com/mockito/mockito/wiki/How-to-write-good-tests#dont-mock-a-type-you-dont-own).\r\n\r\nThe test becomes a lot shorter, simpler, and more correct by using a real list instance – and it actually works and is testing your logic:\r\n\r\n```\r\nclass UnitTest {\r\n  @Test void sum_single() {\r\n    final List&lt;Integer&gt; list = List.of(42);\r\n    assertEquals(42, Sum.sum(list));\r\n  }\r\n}\r\n```\r\n\r\n*****\r\n\r\n**TLDR**: Only mock if necessary. It is often easier to start without mocks and only introduce mock objects if it actually makes your tests simpler and more maintainable. Mocks are useful to hide external, complex behavior or to abstract IO, but they shouldn&#39;t be used for everything. A &quot;unit&quot; can be more than a single class or a single method.\r\n\r\nTo quote the Mockito wiki one final time:\r\n\r\n&gt; Don&#39;t hesitate to **not** mock!","title":"How to loop a mocked list?","body":"<p>The problem is that <code>Mockito.mock</code> creates a mock object with no stubbed behavior, which means that all methods will return a default value for their return type (empty collections, 0 for numbers, false for booleans, null for objects).</p>\n<p>Stubbing the <code>get</code> call does not magically add items to the list and does not affect the return value of <code>isEmpty()</code> nor that of <code>size()</code>. The mocked &quot;list&quot; is not a real list. It is a mock object without any behavior. An empty shell. It only does what it is explicitly told in the test.</p>\n<p>Applying the rules from the first paragraph lets us deduce:</p>\n<ul>\n<li><code>mockList.isEmpty()</code> returns <code>false</code> (the default value for a boolean)</li>\n<li><code>mockList.size()</code> returns <code>0</code> (the default value for a numeric type)</li>\n</ul>\n<p>If Mockito is applied carelessly, you'll end up with zombie objects, which pretend that they are working, while they do not behave like their real counterparts. In case of the list, it seems to be non-empty but has a size of 0 at the same time; that doesn't make sense for a list!</p>\n<p>Not everything must be mocked. It is okay to test the interaction between objects (of the same unit). A unit is not a single class! (but it could be). Even Mockito itself <a href=\"https://github.com/mockito/mockito/wiki/How-to-write-good-tests#dont-mock-everything-its-an-anti-pattern\" rel=\"nofollow noreferrer\">advises against mocking everything</a>:</p>\n<blockquote>\n<p>If everything is mocked, are we really testing the production code? Don't hesitate to not mock!</p>\n</blockquote>\n<p>On the same page, they explain that <a href=\"https://github.com/mockito/mockito/wiki/How-to-write-good-tests#dont-mock-value-objects\" rel=\"nofollow noreferrer\"><em>value objects</em> shouldn't be mocked</a> either. A list is clearly a value object (it is a data holder without any interesting behavior).</p>\n<p>Last but not least, <a href=\"https://github.com/mockito/mockito/wiki/How-to-write-good-tests#dont-mock-a-type-you-dont-own\" rel=\"nofollow noreferrer\">don't mock types that you don't own</a>.</p>\n<p>The test becomes a lot shorter, simpler, and more correct by using a real list instance – and it actually works and is testing your logic:</p>\n<pre><code>class UnitTest {\n  @Test void sum_single() {\n    final List&lt;Integer&gt; list = List.of(42);\n    assertEquals(42, Sum.sum(list));\n  }\n}\n</code></pre>\n<hr />\n<p><strong>TLDR</strong>: Only mock if necessary. It is often easier to start without mocks and only introduce mock objects if it actually makes your tests simpler and more maintainable. Mocks are useful to hide external, complex behavior or to abstract IO, but they shouldn't be used for everything. A &quot;unit&quot; can be more than a single class or a single method.</p>\n<p>To quote the Mockito wiki one final time:</p>\n<blockquote>\n<p>Don't hesitate to <strong>not</strong> mock!</p>\n</blockquote>\n"}],"owner":{"account_id":39208,"reputation":251210,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1699703549,"creation_date":1694965177,"question_id":77122530,"body_markdown":"I am writing a unit test for a simple method. Since only a single class should be tested in a unit test, everything else must be mocked. The method accepts a single list; Mocking the input list results in some really weird behavior. The list seems to be empty and non-empty at the same time, even though I set elements with Mockito.\r\n\r\n```\r\nclass Sum {\r\n  static long sum(final List&lt;Integer&gt; list) {\r\n    if (list.isEmpty()) {\r\n      return -1L;\r\n    }\r\n\r\n    long sum = 0L;\r\n    for (int i = 0; i &lt; list.size(); ++i) {\r\n      sum += list.get(i);\r\n    }\r\n    return sum;\r\n  }\r\n}\r\n\r\nclass UnitTest {\r\n  @Test void sum_single() {\r\n    final List&lt;Integer&gt; listMock = Mockito.mock();\r\n    Mockito.when(listMock.get(0)).thenReturn(42);\r\n\r\n    assertFalse(listMock.isEmpty());   // list is non-empty\r\n    assertEquals(42, listMock.get(0)); // the element is in the list!\r\n    assertEquals(42, Sum.sum(listMock));\r\n  }\r\n}\r\n```\r\n\r\nThe test is failing with the following error:\r\n\r\n```\r\norg.opentest4j.AssertionFailedError: expected: &lt;42&gt; but was: &lt;0&gt;\r\n```\r\n\r\nWhat gives? Somehow, the element in the list is not summed, even though I have put it at index 0 in the list (I even verify the element in the test before testing my class). Furthermore, the list is obviously non-empty as verified in test itself (and if it were empty, the method would return -1).\r\n\r\nWhy is this test not working? It does everything according to the book: only a single class is tested, all other classes are mocked, the mock is set up with a value. What do I have to change so that the test verifies that the elements in the list are correctly summed?","title":"How to loop a mocked list?","body":"<p>I am writing a unit test for a simple method. Since only a single class should be tested in a unit test, everything else must be mocked. The method accepts a single list; Mocking the input list results in some really weird behavior. The list seems to be empty and non-empty at the same time, even though I set elements with Mockito.</p>\n<pre><code>class Sum {\n  static long sum(final List&lt;Integer&gt; list) {\n    if (list.isEmpty()) {\n      return -1L;\n    }\n\n    long sum = 0L;\n    for (int i = 0; i &lt; list.size(); ++i) {\n      sum += list.get(i);\n    }\n    return sum;\n  }\n}\n\nclass UnitTest {\n  @Test void sum_single() {\n    final List&lt;Integer&gt; listMock = Mockito.mock();\n    Mockito.when(listMock.get(0)).thenReturn(42);\n\n    assertFalse(listMock.isEmpty());   // list is non-empty\n    assertEquals(42, listMock.get(0)); // the element is in the list!\n    assertEquals(42, Sum.sum(listMock));\n  }\n}\n</code></pre>\n<p>The test is failing with the following error:</p>\n<pre><code>org.opentest4j.AssertionFailedError: expected: &lt;42&gt; but was: &lt;0&gt;\n</code></pre>\n<p>What gives? Somehow, the element in the list is not summed, even though I have put it at index 0 in the list (I even verify the element in the test before testing my class). Furthermore, the list is obviously non-empty as verified in test itself (and if it were empty, the method would return -1).</p>\n<p>Why is this test not working? It does everything according to the book: only a single class is tested, all other classes are mocked, the mock is set up with a value. What do I have to change so that the test verifies that the elements in the list are correctly summed?</p>\n"},{"tags":["java","file","utf-8","java-11"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1699446168,"post_id":77445484,"comment_id":136531777,"body_markdown":"which filesystem do you use? does the file show up correctly in command prompt with the `dir` command? What is the filename when you do a `new File(&quot;C:/Users/MyUser/Desktop/MeinOrdner&quot;).list()`?","body":"which filesystem do you use? does the file show up correctly in command prompt with the <code>dir</code> command? What is the filename when you do a <code>new File(&quot;C:&#47;Users&#47;MyUser&#47;Desktop&#47;MeinOrdner&quot;).list()</code>?"},{"owner":{"account_id":13817170,"reputation":1662,"user_id":9973516,"display_name":"Ada"},"score":0,"creation_date":1699446263,"post_id":77445484,"comment_id":136531790,"body_markdown":"Does this answer your question? [java.io.File: accessing files with invalid filename encodings](https://stackoverflow.com/questions/22775758/java-io-file-accessing-files-with-invalid-filename-encodings)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/22775758/java-io-file-accessing-files-with-invalid-filename-encodings\">java.io.File: accessing files with invalid filename encodings</a>"},{"owner":{"account_id":21083423,"reputation":51,"user_id":16942771,"display_name":"HansJuergen"},"score":0,"creation_date":1699448348,"post_id":77445484,"comment_id":136532162,"body_markdown":"@cyberbrain Im working on windows. The file shows up correctly in the command pompt with `dir`. `.list()` returns  [Z_�berdenken]","body":"@cyberbrain Im working on windows. The file shows up correctly in the command pompt with <code>dir</code>. <code>.list()</code> returns  [Z_�berdenken]"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1699448970,"post_id":77445484,"comment_id":136532288,"body_markdown":"BTW `new File(path)` does **not** create the file - it is just a path; and `File#isFile` will return `false` for a non existing file ([javadoc](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/File.html) of `File`: &quot;An abstract representation of file and directory **pathnames**.&quot; - emphasis added)","body":"BTW <code>new File(path)</code> does <b>not</b> create the file - it is just a path; and <code>File#isFile</code> will return <code>false</code> for a non existing file (<a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/File.html\" rel=\"nofollow noreferrer\">javadoc</a> of <code>File</code>: &quot;An abstract representation of file and directory <b>pathnames</b>.&quot; - emphasis added)"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1699449147,"post_id":77445484,"comment_id":136532318,"body_markdown":"Windows supports multiple file systems, so still the interesting thing for me would be, what file system you use. IIRC the encoding of filenames could depend on that. Testing here with a (German) Windows 10, I get the correct name with `dir` and Java on a NTFS filesystem.","body":"Windows supports multiple file systems, so still the interesting thing for me would be, what file system you use. IIRC the encoding of filenames could depend on that. Testing here with a (German) Windows 10, I get the correct name with <code>dir</code> and Java on a NTFS filesystem."},{"owner":{"account_id":21083423,"reputation":51,"user_id":16942771,"display_name":"HansJuergen"},"score":0,"creation_date":1699449467,"post_id":77445484,"comment_id":136532374,"body_markdown":"@cyberbrain Im also using NTFS. I Also get the correct name with dir. But .list() returns [Z_�berdenken]","body":"@cyberbrain Im also using NTFS. I Also get the correct name with dir. But .list() returns [Z_�berdenken]"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1699453740,"post_id":77445484,"comment_id":136533405,"body_markdown":"maybe you must call `myPathFile.createNewFile();` to really create a new file on the disk (not just a *pathname*... as I already indicated) only if the directory already exists, otherwise it must be created too -- but posted code is sure not the code being executed, so hard to know if there are no other problems...","body":"maybe you must call <code>myPathFile.createNewFile();</code> to really create a new file on the disk (not just a <i>pathname</i>... as I already indicated) only if the directory already exists, otherwise it must be created too -- but posted code is sure not the code being executed, so hard to know if there are no other problems..."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1699454030,"post_id":77445484,"comment_id":136533503,"body_markdown":"( &quot;*rename the file to Z_Ueberdenken.txt*&quot;  ?? But `Z_&#220;berdenken` in given path is a folder, not a file )","body":"( &quot;<i>rename the file to Z_Ueberdenken.txt</i>&quot;  ?? But <code>Z_&#220;berdenken</code> in given path is a folder, not a file )"},{"owner":{"account_id":3211603,"reputation":289287,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1699519706,"post_id":77445484,"comment_id":136542988,"body_markdown":"How did you verify what `.list()` returns? Printing to the console bears a potentially lossy conversion on its own.","body":"How did you verify what <code>.list()</code> returns? Printing to the console bears a potentially lossy conversion on its own."}],"answers":[{"tags":[],"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699702917,"creation_date":1699700354,"answer_id":77464805,"question_id":77445484,"body_markdown":"First, some basics of the `java.io.File` class:\r\n- To create a directory use method `mkdir()`.\r\n- To create a file use method `createNewFile()`.\r\n- To check whether a file or directory already exists use method `exists()`.\r\n- When creating a file, its parent directory must already exist. For example, if creating file **D:\\Z_&#220;berdenken\\check.txt**, the directory **Z_&#220;berdenken** must already exist; method `createNewFile()` will not create it for you.\r\n\r\nGiven that, creating directories and files is a straightforward process using the `File` class. Here&#39;s a working example:\r\n\r\n    package umlaut;\r\n    \r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    \r\n    public class Umlaut {\r\n    \r\n        public static void main(String[] args) throws IOException {\r\n            String dirPath = &quot;d:\\\\temp\\\\Z_&#220;berdenken2&quot;; // Directory name includes &quot;&#220;&quot;\r\n            String filePath = dirPath + &quot;\\\\test4.txt&quot;;\r\n            File dir = new File(dirPath);\r\n            if (!dir.exists()) { // Create parent directory for new files.\r\n                new Umlaut().createDir(dirPath);\r\n            }\r\n            if (dir.exists()) {\r\n                System.out.println(&quot;Is &quot; + dirPath + &quot; a file? &quot; + dir.isFile());\r\n                System.out.println(&quot;Is &quot; + dirPath + &quot; a directory? &quot; + dir.isDirectory());\r\n                new Umlaut().createFile(filePath);\r\n            } else {\r\n                System.out.println(&quot;Unable to create directory &quot; + dirPath);\r\n            }\r\n        }\r\n    \r\n        public boolean createDir(String path) throws IOException {\r\n            System.out.println(&quot;Directory to be created: &quot; + path);\r\n            File myPathFile = new File(path);\r\n            return myPathFile.mkdir();\r\n        }\r\n    \r\n        public void createFile(String path) throws IOException {\r\n            System.out.println(&quot;File to be created: &quot; + path);\r\n            File myPathFile = new File(path);\r\n            if (myPathFile.exists()) {\r\n                System.out.println(&quot;Not creating &quot; + myPathFile + &quot; because it already exists.&quot;);\r\n            } else {\r\n                System.out.println(&quot;Creation of file &quot; + myPathFile + (myPathFile.createNewFile() ? &quot; successful.&quot; : &quot; failed.&quot;));\r\n            }\r\n            System.out.println(&quot;Is &quot; + path + &quot; a file? &quot; + myPathFile.isFile());\r\n            System.out.println(&quot;Is &quot; + path + &quot; a directory? &quot; + myPathFile.isDirectory());\r\n        }\r\n    }\r\n\r\nThis is the console output:\r\n\r\n    Is d:\\temp\\Z_&#220;berdenken2 a file? false\r\n    Is d:\\temp\\Z_&#220;berdenken2 a directory? true\r\n    File to be created: d:\\temp\\Z_&#220;berdenken2\\test4.txt\r\n    Creation of file d:\\temp\\Z_&#220;berdenken2\\test4.txt successful.\r\n    Is d:\\temp\\Z_&#220;berdenken2\\test4.txt a file? true\r\n    Is d:\\temp\\Z_&#220;berdenken2\\test4.txt a directory? false\r\n\r\nNotes:\r\n- The code provided in the question was not doing anything to create a physical directory or file. Simply passing a path to one of the constructors of `File` using `final File myPathFile = new File(path)` will instantiate a `File` object, but will not create a physical file on disk.\r\n- I don&#39;t think that the use of an umlaut in the directory name is relevant. At least it was not an issue for me. But what does matter is whether or not the `File` you are trying to create already exists, so allow for that in your code.\r\n- My environment was JDK 11 on Windows 10, using locale *English (United States)*.\r\n- I did not need to configure anything with respect to my locale, use of UTF-8 or encoding, and I did not provide any compiler or run time options. Everything worked fine using default settings.\r\n- I noticed an article titled [How to save text files in Java with umlauts](https://blog.dotmaui.com/2018/10/18/how-to-save-text-files-in-java-with-umlauts/) which may be of interest. It&#39;s not directly relevant to your problem because it relates to a file&#39;s content rather than it&#39;s name, but it does offer a completely different approach for file creation without using the `File` class.\r\n","title":"Creating a file from a absolute path, which is containing a german umlaut","body":"<p>First, some basics of the <code>java.io.File</code> class:</p>\n<ul>\n<li>To create a directory use method <code>mkdir()</code>.</li>\n<li>To create a file use method <code>createNewFile()</code>.</li>\n<li>To check whether a file or directory already exists use method <code>exists()</code>.</li>\n<li>When creating a file, its parent directory must already exist. For example, if creating file <strong>D:\\Z_Überdenken\\check.txt</strong>, the directory <strong>Z_Überdenken</strong> must already exist; method <code>createNewFile()</code> will not create it for you.</li>\n</ul>\n<p>Given that, creating directories and files is a straightforward process using the <code>File</code> class. Here's a working example:</p>\n<pre><code>package umlaut;\n\nimport java.io.File;\nimport java.io.IOException;\n\npublic class Umlaut {\n\n    public static void main(String[] args) throws IOException {\n        String dirPath = &quot;d:\\\\temp\\\\Z_Überdenken2&quot;; // Directory name includes &quot;Ü&quot;\n        String filePath = dirPath + &quot;\\\\test4.txt&quot;;\n        File dir = new File(dirPath);\n        if (!dir.exists()) { // Create parent directory for new files.\n            new Umlaut().createDir(dirPath);\n        }\n        if (dir.exists()) {\n            System.out.println(&quot;Is &quot; + dirPath + &quot; a file? &quot; + dir.isFile());\n            System.out.println(&quot;Is &quot; + dirPath + &quot; a directory? &quot; + dir.isDirectory());\n            new Umlaut().createFile(filePath);\n        } else {\n            System.out.println(&quot;Unable to create directory &quot; + dirPath);\n        }\n    }\n\n    public boolean createDir(String path) throws IOException {\n        System.out.println(&quot;Directory to be created: &quot; + path);\n        File myPathFile = new File(path);\n        return myPathFile.mkdir();\n    }\n\n    public void createFile(String path) throws IOException {\n        System.out.println(&quot;File to be created: &quot; + path);\n        File myPathFile = new File(path);\n        if (myPathFile.exists()) {\n            System.out.println(&quot;Not creating &quot; + myPathFile + &quot; because it already exists.&quot;);\n        } else {\n            System.out.println(&quot;Creation of file &quot; + myPathFile + (myPathFile.createNewFile() ? &quot; successful.&quot; : &quot; failed.&quot;));\n        }\n        System.out.println(&quot;Is &quot; + path + &quot; a file? &quot; + myPathFile.isFile());\n        System.out.println(&quot;Is &quot; + path + &quot; a directory? &quot; + myPathFile.isDirectory());\n    }\n}\n</code></pre>\n<p>This is the console output:</p>\n<pre><code>Is d:\\temp\\Z_Überdenken2 a file? false\nIs d:\\temp\\Z_Überdenken2 a directory? true\nFile to be created: d:\\temp\\Z_Überdenken2\\test4.txt\nCreation of file d:\\temp\\Z_Überdenken2\\test4.txt successful.\nIs d:\\temp\\Z_Überdenken2\\test4.txt a file? true\nIs d:\\temp\\Z_Überdenken2\\test4.txt a directory? false\n</code></pre>\n<p>Notes:</p>\n<ul>\n<li>The code provided in the question was not doing anything to create a physical directory or file. Simply passing a path to one of the constructors of <code>File</code> using <code>final File myPathFile = new File(path)</code> will instantiate a <code>File</code> object, but will not create a physical file on disk.</li>\n<li>I don't think that the use of an umlaut in the directory name is relevant. At least it was not an issue for me. But what does matter is whether or not the <code>File</code> you are trying to create already exists, so allow for that in your code.</li>\n<li>My environment was JDK 11 on Windows 10, using locale <em>English (United States)</em>.</li>\n<li>I did not need to configure anything with respect to my locale, use of UTF-8 or encoding, and I did not provide any compiler or run time options. Everything worked fine using default settings.</li>\n<li>I noticed an article titled <a href=\"https://blog.dotmaui.com/2018/10/18/how-to-save-text-files-in-java-with-umlauts/\" rel=\"nofollow noreferrer\">How to save text files in Java with umlauts</a> which may be of interest. It's not directly relevant to your problem because it relates to a file's content rather than it's name, but it does offer a completely different approach for file creation without using the <code>File</code> class.</li>\n</ul>\n"}],"owner":{"account_id":21083423,"reputation":51,"user_id":16942771,"display_name":"HansJuergen"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699702917,"creation_date":1699445941,"question_id":77445484,"body_markdown":"I have a problem with creating a file from a absolute path, which is containing a german umlaut. (Working on windows)\r\nThis is a example code:\r\n\r\n     public void createFile(String path) {\r\n          System.out.println(&quot;Path: &quot; + path);  \r\n          final File myPathFile = new File(path)\r\n          if(!myPathFile.isFile()){\r\n              System.out.println(&quot;No file&quot;);\r\n          }\r\nLog results: \r\n\r\n    Path: C:\\Users\\MyUser\\Desktop\\MeinOrdner\\Z_&#220;berdenken\\check.txt\r\n    No file\r\n\r\nI tried to rename the  folder to Z_Ueberdenken and adjusted the path variable as well.\r\nThen it worked perfectly. So the problem is the umlaut `&#220;`. How can I fix this?","title":"Creating a file from a absolute path, which is containing a german umlaut","body":"<p>I have a problem with creating a file from a absolute path, which is containing a german umlaut. (Working on windows)\nThis is a example code:</p>\n<pre><code> public void createFile(String path) {\n      System.out.println(&quot;Path: &quot; + path);  \n      final File myPathFile = new File(path)\n      if(!myPathFile.isFile()){\n          System.out.println(&quot;No file&quot;);\n      }\n</code></pre>\n<p>Log results:</p>\n<pre><code>Path: C:\\Users\\MyUser\\Desktop\\MeinOrdner\\Z_Überdenken\\check.txt\nNo file\n</code></pre>\n<p>I tried to rename the  folder to Z_Ueberdenken and adjusted the path variable as well.\nThen it worked perfectly. So the problem is the umlaut <code>Ü</code>. How can I fix this?</p>\n"},{"tags":["java","html","selenium-webdriver","webdriverwait"],"answers":[{"tags":[],"owner":{"account_id":27938804,"reputation":102,"user_id":21335232,"display_name":"Bhairu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699594475,"creation_date":1699593769,"answer_id":77457855,"question_id":77457515,"body_markdown":"        **Solution 1:**  \r\n        \r\n          Please try the below mechanism, actually, it will be polling every second and it stops the polling once you it get the desired element, it might work for you.\r\n            \r\n            FluentWait&lt;WebDriver&gt; wait = new FluentWait&lt;&gt; (driver)\r\n              .withTimeout (10, TimeUnit.SECONDS)\r\n              .pollingEvery (1, TimeUnit.SECONDS)\r\n              .ignoring (NoSuchElementException.class);\r\n            \r\n            // Define the locator of the element to be clicked\r\n            By locator = By.id(&quot;&quot;);\r\n            \r\n            // Wait until the element is clickable\r\n            WebElement element = wait.until (ExpectedConditions.elementToBeClickable (locator));\r\n            \r\n            // Click on the element\r\n            element.click();\r\n        \r\n        **Solutions 2:**\r\n        \r\n        here you can use the if-else condition to wait for until desired element.\r\n    \r\n    //add loop \r\n    for(i=0;i&lt;=10)\r\n    {\r\n        boolean WaitforThisElement=driver.findelement(By.xpath(&quot;pass the path of the waiting elememnt&quot;).isDisplayed();\r\n        if(WaitforThisElement==true)\r\n        {\r\n        //write the code for the further activities.\r\n        \r\n    \r\n    //if the desired element is found it cannot move to the else block and will end the loop and come out from the loop and move to the next code.\r\n    \r\n        }\r\n        else\r\n        {\r\n        //wait for the 10 seconds.\r\n        Thread.wait(10000);\r\n    //Increase the loop count\r\n    i++\r\n        }\r\n}\r\n","title":"How to find the correct wait command for a dynamic table element?","body":"<pre><code>    **Solution 1:**  \n    \n      Please try the below mechanism, actually, it will be polling every second and it stops the polling once you it get the desired element, it might work for you.\n        \n        FluentWait&lt;WebDriver&gt; wait = new FluentWait&lt;&gt; (driver)\n          .withTimeout (10, TimeUnit.SECONDS)\n          .pollingEvery (1, TimeUnit.SECONDS)\n          .ignoring (NoSuchElementException.class);\n        \n        // Define the locator of the element to be clicked\n        By locator = By.id(&quot;&quot;);\n        \n        // Wait until the element is clickable\n        WebElement element = wait.until (ExpectedConditions.elementToBeClickable (locator));\n        \n        // Click on the element\n        element.click();\n    \n    **Solutions 2:**\n    \n    here you can use the if-else condition to wait for until desired element.\n\n//add loop \nfor(i=0;i&lt;=10)\n{\n    boolean WaitforThisElement=driver.findelement(By.xpath(&quot;pass the path of the waiting elememnt&quot;).isDisplayed();\n    if(WaitforThisElement==true)\n    {\n    //write the code for the further activities.\n    \n\n//if the desired element is found it cannot move to the else block and will end the loop and come out from the loop and move to the next code.\n\n    }\n    else\n    {\n    //wait for the 10 seconds.\n    Thread.wait(10000);\n//Increase the loop count\ni++\n    }\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":9448867,"reputation":1,"user_id":22465217,"display_name":"rusty"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699702905,"creation_date":1699586217,"question_id":77457515,"body_markdown":"The website is https://www.nseindia.com/get-quotes/derivatives?symbol=AARTIIND\r\n\r\nHere is my code:\r\n\r\n    driver.get(&quot;https://www.nseindia.com/get-quotes/derivatives?symbol=AARTIIND&quot;);\r\n\ttry {\r\n\t\twait.until(ExpectedConditions.elementToBeClickable(By.id(&quot;optionChain&quot;)));\r\n\t} catch (Exception e) {\r\n\t}\r\n\tdriver.findElement(By.id(&quot;optionChain&quot;)).click();\r\n\ttry {\r\n\t\twait.until(ExpectedConditions.numberOfElementsToBeMoreThan(By.xpath(&quot;/html/body/div[10]/div[1]/div/section/div/div/div/div/div[1]/div[2]/div/div/div/div[2]/div[2]/div[2]/div/table[1]/tbody/tr&quot;), 10));\r\n\t} catch (Exception e) {\r\n\t}\r\n\tThread.sleep(10000);\r\n\tList&lt;WebElement&gt; table = driver.findElements(By.xpath(&quot;/html/body/div[10]/div[1]/div/section/div/div/div/div/div[1]/div[2]/div/div/div/div[2]/div[2]/div[2]/div/table[1]/tbody/tr&quot;));\r\n\tint optionChainSize = table.size();\r\n\t\t\t\r\nI want to remove the Thread.sleep() command, but it invariably ends up with optionChainSize = 0.\r\n\r\nI use &quot;wait.until(ExpectedConditions...&quot; to wait for the &quot;Option Chain&quot; element to load, and click it. Thereafter a table appears, but try as I might, I cannot get the program to wait for it to load, except a crude Thread.sleep command.\r\n\r\nI have tried the bottom row that says &quot;tot&quot;, the top right where it says &quot;Underlying:&quot;, but they all just appear to load before the table. I have tried &quot;numberOfElementsToBeMoreThan&quot; and put the locator for the &quot;tr&quot; xpath, as follows:\r\n\r\n    try {\r\n\t\twait.until(ExpectedConditions.numberOfElementsToBeMoreThan(By.xpath(&quot;/html/body/div[10]/div[1]/div/section/div/div/div/div/div[1]/div[2]/div/div/div/div[2]/div[2]/div[2]/div/table[1]/tbody/tr&quot;), 10));\r\n\t} catch (Exception e) {\r\n\t\t\t\r\n\r\nIs there any way to do this right? I don&#39;t understand the &quot;staleness&quot; property, could that be of use?","title":"How to find the correct wait command for a dynamic table element?","body":"<p>The website is <a href=\"https://www.nseindia.com/get-quotes/derivatives?symbol=AARTIIND\" rel=\"nofollow noreferrer\">https://www.nseindia.com/get-quotes/derivatives?symbol=AARTIIND</a></p>\n<p>Here is my code:</p>\n<pre><code>driver.get(&quot;https://www.nseindia.com/get-quotes/derivatives?symbol=AARTIIND&quot;);\ntry {\n    wait.until(ExpectedConditions.elementToBeClickable(By.id(&quot;optionChain&quot;)));\n} catch (Exception e) {\n}\ndriver.findElement(By.id(&quot;optionChain&quot;)).click();\ntry {\n    wait.until(ExpectedConditions.numberOfElementsToBeMoreThan(By.xpath(&quot;/html/body/div[10]/div[1]/div/section/div/div/div/div/div[1]/div[2]/div/div/div/div[2]/div[2]/div[2]/div/table[1]/tbody/tr&quot;), 10));\n} catch (Exception e) {\n}\nThread.sleep(10000);\nList&lt;WebElement&gt; table = driver.findElements(By.xpath(&quot;/html/body/div[10]/div[1]/div/section/div/div/div/div/div[1]/div[2]/div/div/div/div[2]/div[2]/div[2]/div/table[1]/tbody/tr&quot;));\nint optionChainSize = table.size();\n        \n</code></pre>\n<p>I want to remove the Thread.sleep() command, but it invariably ends up with optionChainSize = 0.</p>\n<p>I use &quot;wait.until(ExpectedConditions...&quot; to wait for the &quot;Option Chain&quot; element to load, and click it. Thereafter a table appears, but try as I might, I cannot get the program to wait for it to load, except a crude Thread.sleep command.</p>\n<p>I have tried the bottom row that says &quot;tot&quot;, the top right where it says &quot;Underlying:&quot;, but they all just appear to load before the table. I have tried &quot;numberOfElementsToBeMoreThan&quot; and put the locator for the &quot;tr&quot; xpath, as follows:</p>\n<pre><code>try {\n    wait.until(ExpectedConditions.numberOfElementsToBeMoreThan(By.xpath(&quot;/html/body/div[10]/div[1]/div/section/div/div/div/div/div[1]/div[2]/div/div/div/div[2]/div[2]/div[2]/div/table[1]/tbody/tr&quot;), 10));\n} catch (Exception e) {\n        \n</code></pre>\n<p>Is there any way to do this right? I don't understand the &quot;staleness&quot; property, could that be of use?</p>\n"},{"tags":["java","layout","controls","swt","drawing"],"answers":[{"tags":[],"owner":{"account_id":3159259,"reputation":109665,"user_id":2670892,"display_name":"greg-449"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699701957,"creation_date":1699698555,"answer_id":77464716,"question_id":77464660,"body_markdown":"`redraw` requests that the control should be redrawn the next time the event loop runs. Most of the time redraws are managed automatically, calling `redraw` explicitly is rare - usually if you are writing your own control extending `Canvas`.\r\n\r\n`update` requests the control is redrawn immediately - used when drawing things like a &quot;rubber band&quot; tracking a mouse drag.\r\n\r\n`reskin` is intended for the Eclipse RCP CSS support, it isn&#39;t something you would normally call.\r\n\r\n`requestLayout` just requests that the `layout` method be called as soon as possible. This may be faster that calling `layout` directly.\r\n\r\n`pack` is equivalent to:\r\n```\r\nsetSize(computeSize(SWT.DEFAULT, SWT.DEFAULT, changed));\r\n```\r\nIt just sets the control to the computed size.\r\n\r\nThe Eclipse [SWT](https://www.eclipse.org/swt/) site also has lots of example and article.\r\n","title":"Java SWT: Difference between redraw, reskin, update and requestLayout (and pack)","body":"<p><code>redraw</code> requests that the control should be redrawn the next time the event loop runs. Most of the time redraws are managed automatically, calling <code>redraw</code> explicitly is rare - usually if you are writing your own control extending <code>Canvas</code>.</p>\n<p><code>update</code> requests the control is redrawn immediately - used when drawing things like a &quot;rubber band&quot; tracking a mouse drag.</p>\n<p><code>reskin</code> is intended for the Eclipse RCP CSS support, it isn't something you would normally call.</p>\n<p><code>requestLayout</code> just requests that the <code>layout</code> method be called as soon as possible. This may be faster that calling <code>layout</code> directly.</p>\n<p><code>pack</code> is equivalent to:</p>\n<pre><code>setSize(computeSize(SWT.DEFAULT, SWT.DEFAULT, changed));\n</code></pre>\n<p>It just sets the control to the computed size.</p>\n<p>The Eclipse <a href=\"https://www.eclipse.org/swt/\" rel=\"nofollow noreferrer\">SWT</a> site also has lots of example and article.</p>\n"}],"owner":{"account_id":9787909,"reputation":3,"user_id":7253624,"display_name":"Johannes1984"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77464716,"answer_count":1,"score":0,"last_activity_date":1699701957,"creation_date":1699697375,"question_id":77464660,"body_markdown":"Can anybody please explain to me the difference of the methods `Control.redraw()`, `Control.update()`, `Widget.reskin()`, `Control.requestLayout()` and `Control.pack()`?\r\nUnfortunately the API documentation does not tell so much about the differences.\r\n\r\nI guess the following:\r\n\r\n`Control.requestLayout()` means calculating the size and position of a control inside a Composite when its content (like a text in a label or text field) has changed and perhaps its displayed size/position is not anymore appropriate.\r\nI think I understand `Control.pack()`: It is just a part of `Control.requestLayout` or rather `Composite.layout()` as only the size of controls will be changed but not the position.\r\n\r\n`Control.redraw()` and `Control.update()`: It seems to me that both methods just paint the control again and you call them when the operating system does not show it correctly anymore. You call the methods if size and position have not changed. The difference between both methods is that `update()` repaints the control immediately whereas `redraw()` can do it after some time.\r\n\r\nI don&#39;t understand when I need to call `Widget.reskin()`. It seems to me the same as `Control.redraw()`.","title":"Java SWT: Difference between redraw, reskin, update and requestLayout (and pack)","body":"<p>Can anybody please explain to me the difference of the methods <code>Control.redraw()</code>, <code>Control.update()</code>, <code>Widget.reskin()</code>, <code>Control.requestLayout()</code> and <code>Control.pack()</code>?\nUnfortunately the API documentation does not tell so much about the differences.</p>\n<p>I guess the following:</p>\n<p><code>Control.requestLayout()</code> means calculating the size and position of a control inside a Composite when its content (like a text in a label or text field) has changed and perhaps its displayed size/position is not anymore appropriate.\nI think I understand <code>Control.pack()</code>: It is just a part of <code>Control.requestLayout</code> or rather <code>Composite.layout()</code> as only the size of controls will be changed but not the position.</p>\n<p><code>Control.redraw()</code> and <code>Control.update()</code>: It seems to me that both methods just paint the control again and you call them when the operating system does not show it correctly anymore. You call the methods if size and position have not changed. The difference between both methods is that <code>update()</code> repaints the control immediately whereas <code>redraw()</code> can do it after some time.</p>\n<p>I don't understand when I need to call <code>Widget.reskin()</code>. It seems to me the same as <code>Control.redraw()</code>.</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":4073450,"reputation":1868,"user_id":9130109,"display_name":"EL TEGANI MOHAMED"},"score":0,"creation_date":1699701477,"post_id":77464785,"comment_id":136566350,"body_markdown":"This can be verified by referring to the documentation available on WhatsApp.","body":"This can be verified by referring to the documentation available on WhatsApp."}],"owner":{"account_id":23958830,"reputation":59,"user_id":17949254,"display_name":"Viacheslav Kolisnichenko"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699700936,"creation_date":1699699767,"question_id":77464785,"body_markdown":"I have an Android application in which I receive a text message via WhatsApp. I want that when I receive a message with an SMS code, my Android application will catch it and insert it into the field with the code. Is it possible to listen to the receipt of the desired SMS in WhatsApp?","title":"Automatically insert otp code from whatsapp","body":"<p>I have an Android application in which I receive a text message via WhatsApp. I want that when I receive a message with an SMS code, my Android application will catch it and insert it into the field with the code. Is it possible to listen to the receipt of the desired SMS in WhatsApp?</p>\n"},{"tags":["java","spring","spring-boot","bean-validation","hibernate-validator"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1698859152,"post_id":77404307,"comment_id":136459236,"body_markdown":"Does this help - [Java Spring Rest validation configure property access](https://stackoverflow.com/questions/39164077/java-spring-rest-validation-configure-property-access)?","body":"Does this help - <a href=\"https://stackoverflow.com/questions/39164077/java-spring-rest-validation-configure-property-access\">Java Spring Rest validation configure property access</a>?"},{"owner":{"account_id":3163862,"reputation":36942,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1698911228,"post_id":77404307,"comment_id":136464956,"body_markdown":"@Chaosfire I tried but unfortunately have the same issue. Please read topic update","body":"@Chaosfire I tried but unfortunately have the same issue. Please read topic update"},{"owner":{"account_id":21260902,"reputation":984,"user_id":15641685,"display_name":"Huu Phuong Vu"},"score":0,"creation_date":1699342859,"post_id":77404307,"comment_id":136516287,"body_markdown":"Would be easier if the full stacktrace is included in the question","body":"Would be easier if the full stacktrace is included in the question"},{"owner":{"account_id":3163862,"reputation":36942,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1699348838,"post_id":77404307,"comment_id":136517213,"body_markdown":"@Huu Phuong Vu added stacktrace","body":"@Huu Phuong Vu added stacktrace"},{"owner":{"account_id":4514344,"reputation":31626,"user_id":3669624,"accept_rate":100,"display_name":"cнŝdk"},"score":0,"creation_date":1699349372,"post_id":77404307,"comment_id":136517313,"body_markdown":"Can you show us your `myDto`  accessors?","body":"Can you show us your <code>myDto</code>  accessors?"},{"owner":{"account_id":21260902,"reputation":984,"user_id":15641685,"display_name":"Huu Phuong Vu"},"score":0,"creation_date":1699377897,"post_id":77404307,"comment_id":136523057,"body_markdown":"@gstackoverflow please show full class of `CustomUserPatchRequestDto` that includes setter and getter of `myDto`","body":"@gstackoverflow please show full class of <code>CustomUserPatchRequestDto</code> that includes setter and getter of <code>myDto</code>"},{"owner":{"account_id":21260902,"reputation":984,"user_id":15641685,"display_name":"Huu Phuong Vu"},"score":0,"creation_date":1699378065,"post_id":77404307,"comment_id":136523085,"body_markdown":"This type that you&#39;re using seems to be causing the issue `JsonNullable&lt;@Valid MyDto&gt;`. Have you tried to use type `MyDto` directly? I doubt there will be any issue with using `MyDto` type directly.","body":"This type that you&#39;re using seems to be causing the issue <code>JsonNullable&lt;@Valid MyDto&gt;</code>. Have you tried to use type <code>MyDto</code> directly? I doubt there will be any issue with using <code>MyDto</code> type directly."}],"answers":[{"tags":[],"owner":{"account_id":194308,"reputation":66720,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699349905,"creation_date":1699349905,"answer_id":77437092,"question_id":77404307,"body_markdown":"**12sdfdsf3** is an invalid email and it will throw an error, because you have the `@Email` annotation, so your values should look like **a@b.c**. You will need to pass valid values to this field.","title":"JSR-303 validated property &#39;myDto.mail&#39; does not have a corresponding accessor for Spring data binding - check your DataBinder&#39;s configuration","body":"<p><strong>12sdfdsf3</strong> is an invalid email and it will throw an error, because you have the <code>@Email</code> annotation, so your values should look like <strong>a@b.c</strong>. You will need to pass valid values to this field.</p>\n"},{"tags":[],"owner":{"account_id":5862834,"reputation":3736,"user_id":6066470,"display_name":"Nick"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699699720,"creation_date":1699696948,"answer_id":77464641,"question_id":77404307,"body_markdown":"The problem is somewhere with `JsonNullable`. If you declare a field simply as `MyDto` then spring will throw correct validation exception\r\n\r\nSo what happens is that spring, when there is a validation error, tries to get the value of the `myDto.mail` field, but cannot do this because through reflection for the `myDto` field it receives the `JsonNullabl`e type instead of `MyDto`.  You can bypass this behavior by overriding the `getRejectedValue` method. It is better to leave the rest of the code as in the original `ValidationAutoConfiguration.class`\r\n\r\n```\r\n@Configuration\r\nclass ValidationConfig {\r\n    @Bean\r\n    @Primary\r\n    fun defaultValidator(applicationContext: ApplicationContext?): LocalValidatorFactoryBean? {\r\n        val factoryBean = object : LocalValidatorFactoryBean() {\r\n            override fun getRejectedValue(field: String, violation: ConstraintViolation&lt;Any&gt;, bindingResult: BindingResult): Any? {\r\n                return violation.getInvalidValue()\r\n            }\r\n        }\r\n        val interpolatorFactory = MessageInterpolatorFactory(applicationContext)\r\n        factoryBean.messageInterpolator = interpolatorFactory.getObject()\r\n        return factoryBean\r\n    }\r\n}\r\n```","title":"JSR-303 validated property &#39;myDto.mail&#39; does not have a corresponding accessor for Spring data binding - check your DataBinder&#39;s configuration","body":"<p>The problem is somewhere with <code>JsonNullable</code>. If you declare a field simply as <code>MyDto</code> then spring will throw correct validation exception</p>\n<p>So what happens is that spring, when there is a validation error, tries to get the value of the <code>myDto.mail</code> field, but cannot do this because through reflection for the <code>myDto</code> field it receives the <code>JsonNullabl</code>e type instead of <code>MyDto</code>.  You can bypass this behavior by overriding the <code>getRejectedValue</code> method. It is better to leave the rest of the code as in the original <code>ValidationAutoConfiguration.class</code></p>\n<pre><code>@Configuration\nclass ValidationConfig {\n    @Bean\n    @Primary\n    fun defaultValidator(applicationContext: ApplicationContext?): LocalValidatorFactoryBean? {\n        val factoryBean = object : LocalValidatorFactoryBean() {\n            override fun getRejectedValue(field: String, violation: ConstraintViolation&lt;Any&gt;, bindingResult: BindingResult): Any? {\n                return violation.getInvalidValue()\n            }\n        }\n        val interpolatorFactory = MessageInterpolatorFactory(applicationContext)\n        factoryBean.messageInterpolator = interpolatorFactory.getObject()\n        return factoryBean\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3163862,"reputation":36942,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":215,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":77464641,"answer_count":2,"score":3,"last_activity_date":1699699720,"creation_date":1698857843,"question_id":77404307,"body_markdown":"I have following Dto classes structure\r\n\r\n    public class MyDto {\r\n        @Email\r\n        private String mail;\r\n    \r\n        public String getMail() {\r\n            return mail;\r\n        }\r\n    \r\n        public void setMail(String mail) {\r\n           this.mail = mail;\r\n       }\r\n    }\r\n\r\n    @Generated(value = &quot;org.openapitools.codegen.languages.SpringCodegen&quot;, date = &quot;2023-11-01T17:12:49.075897700+03:00[Europe/Moscow]&quot;)\r\n    public class CustomUserPatchRequestDto {\r\n        @JsonProperty(&quot;myDto&quot;)\r\n        @Valid\r\n        private JsonNullable&lt;@Valid MyDto&gt; myDto;\r\n        // getter and setter\r\n        ...\r\n\r\nAnd following controller \r\n\r\n    @RestController\r\n    @Validated\r\n    class MyController() {\r\n      @RequestMapping(\r\n            method = [PATCH],\r\n            value = [&quot;/userscustom/{id}&quot;],\r\n            produces = [&quot;application/json&quot;],\r\n            consumes = [&quot;application/merge-patch+json&quot;]\r\n        )\r\n        fun patchUserCustom(\r\n            @Parameter(name = &quot;id&quot;, description = &quot;&quot;, required = true,in= PATH) @PathVariable(&quot;id&quot;) id: String?\r\n         @Valid @RequestBody userPatchRequestDto: CustomUserPatchRequestDto?\r\n        ): ResponseEntity&lt;String?&gt;? {\r\n            return ResponseEntity.ok(&quot;ok&quot;)\r\n        }\r\n\r\nWhen I send requet with body \r\n\r\n    {\r\n      &quot;myDto&quot;: {\r\n        &quot;mail&quot;: &quot;12sdfdsf3&quot;\r\n      }\r\n    }\r\n\r\nI get error response: \r\n\r\n    {\r\n      &quot;code&quot;: 500,\r\n      &quot;reason&quot;: &quot;JSR-303 validated property &#39;myDto.mail&#39; does not have a corresponding accessor for Spring data binding - check your DataBinder&#39;s configuration (bean property versus direct field access)&quot;\r\n    }\r\n\r\nHow can i fix it?\r\n\r\nI tried to add `@Valid` annotation everywhere but no luck\r\n\r\nUpdate\r\n-\r\n\r\nTried to add **InitBinder** in Controller :\r\n\r\n    @InitBinder\r\n    private fun activateDirectFieldAccess(dataBinder: DataBinder) {\r\n        println(&quot;Working Inner&quot;)\r\n        dataBinder.initDirectFieldAccess();\r\n    }\r\n\r\nAlso tried to add separated class: \r\n\r\n    @ControllerAdvice\r\n    class CustomControllerAdvice {\r\n    \r\n        @InitBinder\r\n        private fun activateDirectFieldAccess(dataBinder: DataBinder) {\r\n            println(&quot;Working Inner&quot;)\r\n            dataBinder.initDirectFieldAccess();\r\n        }\r\n    }\r\n\r\nIn both cases I see message \r\n\r\n    Working Inner\r\n\r\nin console. So this code was executed.\r\n\r\nBut unfortunately I still have the same issue.\r\n\r\n\r\n**P.S.** \r\n\r\nstacktrace is:\r\n\r\n\r\n\r\n    java.lang.IllegalStateException: JSR-303 validated property &#39;myDto.mail&#39; does not have a corresponding accessor for Spring data binding - check your DataBinder&#39;s configuration (bean property versus direct field access)\r\n        at org.springframework.validation.beanvalidation.SpringValidatorAdapter.processConstraintViolations(SpringValidatorAdapter.java:182)\r\n        at org.springframework.validation.beanvalidation.SpringValidatorAdapter.validate(SpringValidatorAdapter.java:104)\r\n        at org.springframework.boot.autoconfigure.validation.ValidatorAdapter.validate(ValidatorAdapter.java:66)\r\n        at org.springframework.validation.DataBinder.validate(DataBinder.java:932)\r\n        at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodArgumentResolver.validateIfApplicable(AbstractMessageConverterMethodArgumentResolver.java:248)\r\n        at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.resolveArgument(RequestResponseBodyMethodProcessor.java:142)\r\n        at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:122)\r\n        at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:179)\r\n        at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:146)\r\n        at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\r\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)\r\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\r\n        at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n        at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081)\r\n        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)\r\n        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)\r\n        at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:888)\r\n        at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\r\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\r\n        at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)\r\n        at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)\r\n        at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)\r\n        at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)\r\n        at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)\r\n        at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)\r\n        at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)\r\n        at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\r\n        at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\r\n        at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\r\n        at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)\r\n        at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)\r\n        at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\r\n        at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\r\n        at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\r\n        at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)\r\n        at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\r\n        at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\r\n        at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\r\n        at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)\r\n        at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\r\n        at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\r\n        at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\r\n        at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\r\n        at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\r\n        at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\r\n        at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\r\n        at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)\r\n        at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)\r\n        at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\r\n        at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\r\n        at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\r\n        at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n        at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\r\n        at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\r\n        at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\r\n        at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\r\n        at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n        at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\r\n        at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\r\n        at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\r\n        at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)\r\n        at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)\r\n        at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\r\n        at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\r\n        at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\r\n        at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n        at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\r\n        at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\r\n        at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\r\n        at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n        at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\r\n        at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)\r\n    2023-11-07T12:10:09.874+03:00 ERROR 284 --- [nio-8080-exec-1] t.i.exception.RestExceptionHandler   : JSR-303 validated property &#39;myDto.mail&#39; does not have a corresponding accessor for Spring data binding - check your DataBinder&#39;s configuration (bean property versus direct field access)\r\n        at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)\r\n        at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\r\n        at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)\r\n        at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)\r\n        at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)\r\n        at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\r\n        at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\r\n        at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\r\n        at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\r\n        at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\r\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\r\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\r\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)\r\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\r\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\r\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)\r\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)\r\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\r\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894)\r\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)\r\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\r\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n        at java.base/java.lang.Thread.run(Thread.java:833)\r\n    Caused by: org.springframework.beans.NotReadablePropertyException: Invalid property &#39;myDto.mail&#39; of bean class [dto.CustomUserPatchRequestDto]: Bean property &#39;myDto.mail&#39; is not readable or has an invalid getter method: Does the return type of the getter match the parameter type of the setter?\r\n        at org.springframework.beans.AbstractNestablePropertyAccessor.getPropertyValue(AbstractNestablePropertyAccessor.java:626)\r\n    Caused by: org.springframework.beans.NotReadablePropertyException: Invalid property &#39;myDto.mail&#39; of bean class [dto.CustomUserPatchRequestDto]: Bean property &#39;myDto.mail&#39; is not readable or has an invalid getter method: Does the return type of the getter match the parameter type of the setter?\r\n    \r\n    at org.springframework.beans.AbstractNestablePropertyAccessor.getPropertyValue(AbstractNestablePropertyAccessor.java:616)\r\n    at org.springframework.validation.AbstractPropertyBindingResult.getActualFieldValue(AbstractPropertyBindingResult.java:104)\r\n    at org.springframework.validation.AbstractBindingResult.getRawFieldValue(AbstractBindingResult.java:281)\r\n    at org.springframework.validation.beanvalidation.SpringValidatorAdapter.getRejectedValue(SpringValidatorAdapter.java:312)\r\n    at org.springframework.validation.beanvalidation.SpringValidatorAdapter.processConstraintViolations(SpringValidatorAdapter.java:168)\r\n    ... 119 more\r\n\r\nUpdate\r\n-\r\n\r\nVery weird thing that if I pass correct email then I don&#39;t see any error and everything is ok. So the problem happens only if I pass invalid email and issue in exception text and type","title":"JSR-303 validated property &#39;myDto.mail&#39; does not have a corresponding accessor for Spring data binding - check your DataBinder&#39;s configuration","body":"<p>I have following Dto classes structure</p>\n<pre><code>public class MyDto {\n    @Email\n    private String mail;\n\n    public String getMail() {\n        return mail;\n    }\n\n    public void setMail(String mail) {\n       this.mail = mail;\n   }\n}\n\n@Generated(value = &quot;org.openapitools.codegen.languages.SpringCodegen&quot;, date = &quot;2023-11-01T17:12:49.075897700+03:00[Europe/Moscow]&quot;)\npublic class CustomUserPatchRequestDto {\n    @JsonProperty(&quot;myDto&quot;)\n    @Valid\n    private JsonNullable&lt;@Valid MyDto&gt; myDto;\n    // getter and setter\n    ...\n</code></pre>\n<p>And following controller</p>\n<pre><code>@RestController\n@Validated\nclass MyController() {\n  @RequestMapping(\n        method = [PATCH],\n        value = [&quot;/userscustom/{id}&quot;],\n        produces = [&quot;application/json&quot;],\n        consumes = [&quot;application/merge-patch+json&quot;]\n    )\n    fun patchUserCustom(\n        @Parameter(name = &quot;id&quot;, description = &quot;&quot;, required = true,in= PATH) @PathVariable(&quot;id&quot;) id: String?\n     @Valid @RequestBody userPatchRequestDto: CustomUserPatchRequestDto?\n    ): ResponseEntity&lt;String?&gt;? {\n        return ResponseEntity.ok(&quot;ok&quot;)\n    }\n</code></pre>\n<p>When I send requet with body</p>\n<pre><code>{\n  &quot;myDto&quot;: {\n    &quot;mail&quot;: &quot;12sdfdsf3&quot;\n  }\n}\n</code></pre>\n<p>I get error response:</p>\n<pre><code>{\n  &quot;code&quot;: 500,\n  &quot;reason&quot;: &quot;JSR-303 validated property 'myDto.mail' does not have a corresponding accessor for Spring data binding - check your DataBinder's configuration (bean property versus direct field access)&quot;\n}\n</code></pre>\n<p>How can i fix it?</p>\n<p>I tried to add <code>@Valid</code> annotation everywhere but no luck</p>\n<h2>Update</h2>\n<p>Tried to add <strong>InitBinder</strong> in Controller :</p>\n<pre><code>@InitBinder\nprivate fun activateDirectFieldAccess(dataBinder: DataBinder) {\n    println(&quot;Working Inner&quot;)\n    dataBinder.initDirectFieldAccess();\n}\n</code></pre>\n<p>Also tried to add separated class:</p>\n<pre><code>@ControllerAdvice\nclass CustomControllerAdvice {\n\n    @InitBinder\n    private fun activateDirectFieldAccess(dataBinder: DataBinder) {\n        println(&quot;Working Inner&quot;)\n        dataBinder.initDirectFieldAccess();\n    }\n}\n</code></pre>\n<p>In both cases I see message</p>\n<pre><code>Working Inner\n</code></pre>\n<p>in console. So this code was executed.</p>\n<p>But unfortunately I still have the same issue.</p>\n<p><strong>P.S.</strong></p>\n<p>stacktrace is:</p>\n<pre><code>java.lang.IllegalStateException: JSR-303 validated property 'myDto.mail' does not have a corresponding accessor for Spring data binding - check your DataBinder's configuration (bean property versus direct field access)\n    at org.springframework.validation.beanvalidation.SpringValidatorAdapter.processConstraintViolations(SpringValidatorAdapter.java:182)\n    at org.springframework.validation.beanvalidation.SpringValidatorAdapter.validate(SpringValidatorAdapter.java:104)\n    at org.springframework.boot.autoconfigure.validation.ValidatorAdapter.validate(ValidatorAdapter.java:66)\n    at org.springframework.validation.DataBinder.validate(DataBinder.java:932)\n    at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodArgumentResolver.validateIfApplicable(AbstractMessageConverterMethodArgumentResolver.java:248)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.resolveArgument(RequestResponseBodyMethodProcessor.java:142)\n    at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:122)\n    at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:179)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:146)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:888)\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n    at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)\n    at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)\n    at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)\n    at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)\n    at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n    at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n    at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n    at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n    at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n    at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n    at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n    at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n    at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n    at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n    at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)\n    at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n    at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n    at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n    at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n    at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)\n2023-11-07T12:10:09.874+03:00 ERROR 284 --- [nio-8080-exec-1] t.i.exception.RestExceptionHandler   : JSR-303 validated property 'myDto.mail' does not have a corresponding accessor for Spring data binding - check your DataBinder's configuration (bean property versus direct field access)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)\n    at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n    at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: org.springframework.beans.NotReadablePropertyException: Invalid property 'myDto.mail' of bean class [dto.CustomUserPatchRequestDto]: Bean property 'myDto.mail' is not readable or has an invalid getter method: Does the return type of the getter match the parameter type of the setter?\n    at org.springframework.beans.AbstractNestablePropertyAccessor.getPropertyValue(AbstractNestablePropertyAccessor.java:626)\nCaused by: org.springframework.beans.NotReadablePropertyException: Invalid property 'myDto.mail' of bean class [dto.CustomUserPatchRequestDto]: Bean property 'myDto.mail' is not readable or has an invalid getter method: Does the return type of the getter match the parameter type of the setter?\n\nat org.springframework.beans.AbstractNestablePropertyAccessor.getPropertyValue(AbstractNestablePropertyAccessor.java:616)\nat org.springframework.validation.AbstractPropertyBindingResult.getActualFieldValue(AbstractPropertyBindingResult.java:104)\nat org.springframework.validation.AbstractBindingResult.getRawFieldValue(AbstractBindingResult.java:281)\nat org.springframework.validation.beanvalidation.SpringValidatorAdapter.getRejectedValue(SpringValidatorAdapter.java:312)\nat org.springframework.validation.beanvalidation.SpringValidatorAdapter.processConstraintViolations(SpringValidatorAdapter.java:168)\n... 119 more\n</code></pre>\n<h2>Update</h2>\n<p>Very weird thing that if I pass correct email then I don't see any error and everything is ok. So the problem happens only if I pass invalid email and issue in exception text and type</p>\n"},{"tags":["java","spring","spring-boot","heap-memory"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1695611747,"post_id":77159839,"comment_id":136042762,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":2016079,"reputation":1865,"user_id":1803356,"accept_rate":71,"display_name":"suiwenfeng"},"score":0,"creation_date":1698129017,"post_id":77159839,"comment_id":136362472,"body_markdown":"you can use one heapdump as baseline, then compare to get which instances increased. after look at the image you post, maybe traceid used as metrics tag.","body":"you can use one heapdump as baseline, then compare to get which instances increased. after look at the image you post, maybe traceid used as metrics tag."}],"answers":[{"tags":[],"owner":{"account_id":3175617,"reputation":1,"user_id":2683573,"display_name":"saiyantan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695408480,"creation_date":1695408480,"answer_id":77160050,"question_id":77159839,"body_markdown":"There are a couple of cases where CPU utilization is consistent -  \r\n1. check the db connection pool size \r\n2. any executor service that is used not close after use\r\n3. any thread pool executor services sed - check core threads  ","title":"Spring Boot API CPU not returning to idle levels when handling errors","body":"<p>There are a couple of cases where CPU utilization is consistent -</p>\n<ol>\n<li>check the db connection pool size</li>\n<li>any executor service that is used not close after use</li>\n<li>any thread pool executor services sed - check core threads</li>\n</ol>\n"}],"owner":{"account_id":29511472,"reputation":1,"user_id":22616409,"display_name":"shivkumar98"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699699289,"creation_date":1695406020,"question_id":77159839,"body_markdown":"I have a Sprint Boot API application which has been experiencing slowdown once a month or so. The only way to rectify this is to restart the application. \r\n\r\nInvestigation into metrics and usage of API helped us figure out that spamming HTTP requests to a specific controller which would lead to exception being thrown causes the CPU utilization not to return to normal. The CPU util hovers between 25-35% consistently when the requests are spammed. The exact steps to reproduce are:\r\n\r\n1) Execute a bash script with infinite loop to send HTTP requests which throw an exception (run multiple instances)\r\n2) Wait till server has reached 100% cpu util\r\n3) Wait 15 minutes\r\n4) Stop infinite loop in bash script\r\n\r\nUsing Java Visual, we can see the cpu util hovering around 25% when the HTTP requests stop:\r\n[enter image description here](https://i.stack.imgur.com/dJ7Yr.png)\r\n\r\nWe have tried multiple things such as upgrading the spring boot version, setting the system variable LatencyUtils.useActualTime to false, performing garbage collection.\r\n\r\nWhen we look at the heap histogram, we can see the class with highest instances is io.micrometer.core.instrument.Tag[]:\r\n[enter image description here](https://i.stack.imgur.com/lCv92.png)\r\n\r\nAny suggestions would be greatly appreciated :) \r\n\r\nCPU util/memory going back to idle levels when the application isn&#39;t receiving any requests","title":"Spring Boot API CPU not returning to idle levels when handling errors","body":"<p>I have a Sprint Boot API application which has been experiencing slowdown once a month or so. The only way to rectify this is to restart the application.</p>\n<p>Investigation into metrics and usage of API helped us figure out that spamming HTTP requests to a specific controller which would lead to exception being thrown causes the CPU utilization not to return to normal. The CPU util hovers between 25-35% consistently when the requests are spammed. The exact steps to reproduce are:</p>\n<ol>\n<li>Execute a bash script with infinite loop to send HTTP requests which throw an exception (run multiple instances)</li>\n<li>Wait till server has reached 100% cpu util</li>\n<li>Wait 15 minutes</li>\n<li>Stop infinite loop in bash script</li>\n</ol>\n<p>Using Java Visual, we can see the cpu util hovering around 25% when the HTTP requests stop:\n<a href=\"https://i.stack.imgur.com/dJ7Yr.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>We have tried multiple things such as upgrading the spring boot version, setting the system variable LatencyUtils.useActualTime to false, performing garbage collection.</p>\n<p>When we look at the heap histogram, we can see the class with highest instances is io.micrometer.core.instrument.Tag[]:\n<a href=\"https://i.stack.imgur.com/lCv92.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Any suggestions would be greatly appreciated :)</p>\n<p>CPU util/memory going back to idle levels when the application isn't receiving any requests</p>\n"},{"tags":["java","memory","heap-memory","metaspace"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1698748986,"post_id":77395159,"comment_id":136441964,"body_markdown":"VIRT includes all mapped memory, even if its hasn&#39;t been used. https://serverfault.com/questions/138427/what-does-virtual-memory-size-in-top-mean","body":"VIRT includes all mapped memory, even if its hasn&#39;t been used. <a href=\"https://serverfault.com/questions/138427/what-does-virtual-memory-size-in-top-mean\" title=\"what does virtual memory size in top mean\">serverfault.com/questions/138427/&hellip;</a>"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1698749668,"post_id":77395159,"comment_id":136442106,"body_markdown":"From the linked question: those 0.5 GB encompass all the program code of the JVM itself and its libraries, the memory mapped JAR files that constitute the classpath and many things more.","body":"From the linked question: those 0.5 GB encompass all the program code of the JVM itself and its libraries, the memory mapped JAR files that constitute the classpath and many things more."},{"owner":{"account_id":47283,"reputation":703807,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1698749854,"post_id":77395159,"comment_id":136442134,"body_markdown":"... and the stacks and various other data structured allocated by the JVM internals that are neither heap or metaspace.  Basically, all sorts of things that you most likely don&#39;t need to know about.","body":"... and the stacks and various other data structured allocated by the JVM internals that are neither heap or metaspace.  Basically, all sorts of things that you most likely don&#39;t need to know about."},{"owner":{"account_id":47283,"reputation":703807,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1698749947,"post_id":77395159,"comment_id":136442148,"body_markdown":"Saying it is &quot;excessive&quot; presupposes that you know what the memory is used for.  But if you don&#39;t like it, there are other programming languages ... specially designed for memory misers :-)","body":"Saying it is &quot;excessive&quot; presupposes that you know what the memory is used for.  But if you don&#39;t like it, there are other programming languages ... specially designed for memory misers :-)"}],"owner":{"account_id":7287293,"reputation":3,"user_id":5554988,"display_name":"Martijn"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1698749588,"answer_count":0,"score":0,"last_activity_date":1699699125,"creation_date":1698748610,"question_id":77395159,"body_markdown":"My java process uses 1,8g memory, but Xmx (768m) and metaspace together only add up to ~1,3g:\r\n\r\n1. What is the missing 0,5g being used for?\r\n2. Is there a way to have influence over this amount?\r\n\r\nI have tried using 2 different vms (eclipse jre17-temurin and amazon jdk17-corretto) and both seem to behave the same\r\n\r\n[top command that shows 1,8g](https://i.stack.imgur.com/PJ5xH.png)\r\n\r\n\r\n```\r\nroot@012c846e6fdd:/usr/local/tomcat# jattach 40 jcmd &quot;VM.native_memory&quot;\r\nConnected to remote JVM\r\nJVM response code = 0\r\n\r\nNative Memory Tracking:\r\n\r\n(Omitting categories weighting less than 1KB)\r\n\r\nTotal: reserved=2567596KB, committed=1284664KB\r\n       malloc: 113456KB #1462750\r\n       mmap:   reserved=2454140KB, committed=1171208KB\r\n\r\n-                 Java Heap (reserved=786432KB, committed=760832KB)\r\n                            (mmap: reserved=786432KB, committed=760832KB)\r\n\r\n-                     Class (reserved=1052664KB, committed=29688KB)\r\n                            (classes #37343)\r\n                            (  instance classes #34992, array classes #2351)\r\n                            (malloc=4088KB #91969)\r\n                            (mmap: reserved=1048576KB, committed=25600KB)\r\n                            (  Metadata:   )\r\n                            (    reserved=212992KB, committed=210880KB)\r\n                            (    used=210351KB)\r\n                            (    waste=529KB =0.25%)\r\n                            (  Class space:)\r\n                            (    reserved=1048576KB, committed=25600KB)\r\n                            (    used=25027KB)\r\n                            (    waste=573KB =2.24%)\r\n\r\n-                    Thread (reserved=84198KB, committed=7938KB)\r\n                            (thread #82)\r\n                            (stack: reserved=83968KB, committed=7708KB)\r\n                            (malloc=135KB #497)\r\n                            (arena=95KB #163)\r\n\r\n-                      Code (reserved=255546KB, committed=102094KB)\r\n                            (malloc=7858KB #29903)\r\n                            (mmap: reserved=247688KB, committed=94236KB)\r\n\r\n-                        GC (reserved=85611KB, committed=84679KB)\r\n                            (malloc=23459KB #61207)\r\n                            (mmap: reserved=62152KB, committed=61220KB)\r\n\r\n-                  Compiler (reserved=693KB, committed=693KB)\r\n                            (malloc=529KB #3360)\r\n                            (arena=165KB #5)\r\n\r\n-                  Internal (reserved=4293KB, committed=4293KB)\r\n                            (malloc=4257KB #40522)\r\n                            (mmap: reserved=36KB, committed=36KB)\r\n\r\n-                     Other (reserved=4453KB, committed=4453KB)\r\n                            (malloc=4453KB #44)\r\n\r\n-                    Symbol (reserved=43130KB, committed=43130KB)\r\n                            (malloc=41076KB #1227006)\r\n                            (arena=2054KB #1)\r\n\r\n-    Native Memory Tracking (reserved=22878KB, committed=22878KB)\r\n                            (malloc=22KB #334)\r\n                            (tracking overhead=22855KB)\r\n\r\n-        Shared class space (reserved=12288KB, committed=10688KB)\r\n                            (mmap: reserved=12288KB, committed=10688KB)\r\n\r\n-               Arena Chunk (reserved=199KB, committed=199KB)\r\n                            (malloc=199KB)\r\n\r\n-                   Tracing (reserved=32KB, committed=32KB)\r\n                            (arena=32KB #1)\r\n\r\n-                    Module (reserved=979KB, committed=979KB)\r\n                            (malloc=979KB #5196)\r\n\r\n-                 Safepoint (reserved=8KB, committed=8KB)\r\n                            (mmap: reserved=8KB, committed=8KB)\r\n\r\n-           Synchronization (reserved=136KB, committed=136KB)\r\n                            (malloc=136KB #1454)\r\n\r\n-            Serviceability (reserved=1KB, committed=1KB)\r\n                            (malloc=1KB #12)\r\n\r\n-                 Metaspace (reserved=214005KB, committed=211893KB)\r\n                            (malloc=1013KB #741)\r\n                            (mmap: reserved=212992KB, committed=210880KB)\r\n\r\n-      String Deduplication (reserved=1KB, committed=1KB)\r\n                            (malloc=1KB #8)\r\n\r\n-           Object Monitors (reserved=48KB, committed=48KB)\r\n                            (malloc=48KB #237)\r\n\r\n```\r\n\r\n\r\nI expected the total memory usage of the java process to be the same as the summary of the VM.native_memory and maybe a little bit extra for the jvm, but 500m seems excessive.","title":"How come java process seems to use more memory than heap and metaspace combined?","body":"<p>My java process uses 1,8g memory, but Xmx (768m) and metaspace together only add up to ~1,3g:</p>\n<ol>\n<li>What is the missing 0,5g being used for?</li>\n<li>Is there a way to have influence over this amount?</li>\n</ol>\n<p>I have tried using 2 different vms (eclipse jre17-temurin and amazon jdk17-corretto) and both seem to behave the same</p>\n<p><a href=\"https://i.stack.imgur.com/PJ5xH.png\" rel=\"nofollow noreferrer\">top command that shows 1,8g</a></p>\n<pre><code>root@012c846e6fdd:/usr/local/tomcat# jattach 40 jcmd &quot;VM.native_memory&quot;\nConnected to remote JVM\nJVM response code = 0\n\nNative Memory Tracking:\n\n(Omitting categories weighting less than 1KB)\n\nTotal: reserved=2567596KB, committed=1284664KB\n       malloc: 113456KB #1462750\n       mmap:   reserved=2454140KB, committed=1171208KB\n\n-                 Java Heap (reserved=786432KB, committed=760832KB)\n                            (mmap: reserved=786432KB, committed=760832KB)\n\n-                     Class (reserved=1052664KB, committed=29688KB)\n                            (classes #37343)\n                            (  instance classes #34992, array classes #2351)\n                            (malloc=4088KB #91969)\n                            (mmap: reserved=1048576KB, committed=25600KB)\n                            (  Metadata:   )\n                            (    reserved=212992KB, committed=210880KB)\n                            (    used=210351KB)\n                            (    waste=529KB =0.25%)\n                            (  Class space:)\n                            (    reserved=1048576KB, committed=25600KB)\n                            (    used=25027KB)\n                            (    waste=573KB =2.24%)\n\n-                    Thread (reserved=84198KB, committed=7938KB)\n                            (thread #82)\n                            (stack: reserved=83968KB, committed=7708KB)\n                            (malloc=135KB #497)\n                            (arena=95KB #163)\n\n-                      Code (reserved=255546KB, committed=102094KB)\n                            (malloc=7858KB #29903)\n                            (mmap: reserved=247688KB, committed=94236KB)\n\n-                        GC (reserved=85611KB, committed=84679KB)\n                            (malloc=23459KB #61207)\n                            (mmap: reserved=62152KB, committed=61220KB)\n\n-                  Compiler (reserved=693KB, committed=693KB)\n                            (malloc=529KB #3360)\n                            (arena=165KB #5)\n\n-                  Internal (reserved=4293KB, committed=4293KB)\n                            (malloc=4257KB #40522)\n                            (mmap: reserved=36KB, committed=36KB)\n\n-                     Other (reserved=4453KB, committed=4453KB)\n                            (malloc=4453KB #44)\n\n-                    Symbol (reserved=43130KB, committed=43130KB)\n                            (malloc=41076KB #1227006)\n                            (arena=2054KB #1)\n\n-    Native Memory Tracking (reserved=22878KB, committed=22878KB)\n                            (malloc=22KB #334)\n                            (tracking overhead=22855KB)\n\n-        Shared class space (reserved=12288KB, committed=10688KB)\n                            (mmap: reserved=12288KB, committed=10688KB)\n\n-               Arena Chunk (reserved=199KB, committed=199KB)\n                            (malloc=199KB)\n\n-                   Tracing (reserved=32KB, committed=32KB)\n                            (arena=32KB #1)\n\n-                    Module (reserved=979KB, committed=979KB)\n                            (malloc=979KB #5196)\n\n-                 Safepoint (reserved=8KB, committed=8KB)\n                            (mmap: reserved=8KB, committed=8KB)\n\n-           Synchronization (reserved=136KB, committed=136KB)\n                            (malloc=136KB #1454)\n\n-            Serviceability (reserved=1KB, committed=1KB)\n                            (malloc=1KB #12)\n\n-                 Metaspace (reserved=214005KB, committed=211893KB)\n                            (malloc=1013KB #741)\n                            (mmap: reserved=212992KB, committed=210880KB)\n\n-      String Deduplication (reserved=1KB, committed=1KB)\n                            (malloc=1KB #8)\n\n-           Object Monitors (reserved=48KB, committed=48KB)\n                            (malloc=48KB #237)\n\n</code></pre>\n<p>I expected the total memory usage of the java process to be the same as the summary of the VM.native_memory and maybe a little bit extra for the jvm, but 500m seems excessive.</p>\n"},{"tags":["java","spring","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1699541122,"post_id":77451086,"comment_id":136547289,"body_markdown":"Seems like you have a relationship between the two entities. Just an opinion: Your service layer should handle setting the CustomerDetails.pdfGenerateFlag flag when it makes LineItem modifications and deal with the entity object directly - this will ensure that any instances of CustomerDetails you have cached reflect the current value and don&#39;t become out of synch with what is in the DB.","body":"Seems like you have a relationship between the two entities. Just an opinion: Your service layer should handle setting the CustomerDetails.pdfGenerateFlag flag when it makes LineItem modifications and deal with the entity object directly - this will ensure that any instances of CustomerDetails you have cached reflect the current value and don&#39;t become out of synch with what is in the DB."}],"answers":[{"tags":[],"owner":{"account_id":9727934,"reputation":2489,"user_id":7214142,"display_name":"Yuriy Tsarkov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699699115,"creation_date":1699699115,"answer_id":77464745,"question_id":77451086,"body_markdown":"[Spring Data JPA][1] reference says\r\n&gt; Spring Data JPA aims to significantly improve the implementation of\r\n&gt; data access layers by reducing the effort to the amount that’s\r\n&gt; actually needed.\r\n\r\nAs for me, it means whatever you use to work with data, you should work with data you use. Using one entity&#39;s repo for modifying another entity is absolutely misleading. `JpaRepository` is just a suitable abstraction designed to simplify an interaction with database and can be replaced with JDBC call or whatever. What will you think of this method functionality in a while, looking at the name of the `LineRepository.changePdfGenerateFlag(long)` method? How will you understand it works with another entity?\r\n\r\nYour necessity to reset the flag of one entity when another has been changed is a kind of business requirement, so it would be wise to make it a part of the business layer, not infrastructure. \r\n\r\nIf I did this task, I would create separate service methods for updating and creating entities and within each of them the opposite repository would be invoked\r\n\r\n    @Transactional // atomicity for both create CD and update LD\r\n    public CustomerDetails createCustomerDetails(CustomerDetailsDto dto) {\r\n    \tCustomerDetails customerDetails = customerDetailsRepository.save(create(dto));\r\n    \t// btw, do they both have the same ID? How do you handle it?\r\n    \tlineDetailsRepository.changeFlag(&lt;line_detail_id&gt;, &lt;flag_value&gt;);\r\n    \treturn customerDetails;\r\n    }\r\n\r\n  [1]: https://spring.io/projects/spring-data-jpa","title":"Is it a good practice to write a jpql query of another entity in a JpaRepository defined for different entity?","body":"<p><a href=\"https://spring.io/projects/spring-data-jpa\" rel=\"nofollow noreferrer\">Spring Data JPA</a> reference says</p>\n<blockquote>\n<p>Spring Data JPA aims to significantly improve the implementation of\ndata access layers by reducing the effort to the amount that’s\nactually needed.</p>\n</blockquote>\n<p>As for me, it means whatever you use to work with data, you should work with data you use. Using one entity's repo for modifying another entity is absolutely misleading. <code>JpaRepository</code> is just a suitable abstraction designed to simplify an interaction with database and can be replaced with JDBC call or whatever. What will you think of this method functionality in a while, looking at the name of the <code>LineRepository.changePdfGenerateFlag(long)</code> method? How will you understand it works with another entity?</p>\n<p>Your necessity to reset the flag of one entity when another has been changed is a kind of business requirement, so it would be wise to make it a part of the business layer, not infrastructure.</p>\n<p>If I did this task, I would create separate service methods for updating and creating entities and within each of them the opposite repository would be invoked</p>\n<pre><code>@Transactional // atomicity for both create CD and update LD\npublic CustomerDetails createCustomerDetails(CustomerDetailsDto dto) {\n    CustomerDetails customerDetails = customerDetailsRepository.save(create(dto));\n    // btw, do they both have the same ID? How do you handle it?\n    lineDetailsRepository.changeFlag(&lt;line_detail_id&gt;, &lt;flag_value&gt;);\n    return customerDetails;\n}\n</code></pre>\n"}],"owner":{"account_id":19680594,"reputation":149,"user_id":14407807,"display_name":"Farha Mansuri"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699699115,"creation_date":1699513377,"question_id":77451086,"body_markdown":"I have 2 entities in my database CustomerDetails &amp; LineDetails. In CustomerDetails table there is a flag pdf_generate_flag, datatype of which is set to boolean.\r\nSo everytime, when there is a request to add or update either CustomerDetails or LineDetails i need to change the flag to false. \r\nSo for CustomerDetail object, i set the pdf_generate_value in the CustomerDetail object itself, so while updating it will set the value to false.\r\nBut for LineDetails i need to write a query to update its value to false explicitly.\r\n\r\nI can write this method in CustomerRepository and autowired it in LineImpl and called it but it is never called from CustomerImpl.\r\nSo should i write this method in LineRepository? Which one is the good practice. Working in both the ways.\r\n\r\nThis is my lineRepo and i am updating customer entity from it.\r\n```\r\n@Repository\r\npublic interface LineRepository extends JpaRepository&lt;LineDetails, Long&gt; {\r\n    @Modifying\r\n    @Query(&quot;update CustomerDetails c set c.pdfGenerateFlag = 0 where c.id = :id&quot;)\r\n    void changePdfGenerateFlag(Long id);\r\n}\r\n```\r\n\r\nSame method should i write it in customerRepo and autowire it in LineImp or should i directly call LineRepo? Which one will be a good practice?\r\n\r\nI have tried both the ways and it is working. ","title":"Is it a good practice to write a jpql query of another entity in a JpaRepository defined for different entity?","body":"<p>I have 2 entities in my database CustomerDetails &amp; LineDetails. In CustomerDetails table there is a flag pdf_generate_flag, datatype of which is set to boolean.\nSo everytime, when there is a request to add or update either CustomerDetails or LineDetails i need to change the flag to false.\nSo for CustomerDetail object, i set the pdf_generate_value in the CustomerDetail object itself, so while updating it will set the value to false.\nBut for LineDetails i need to write a query to update its value to false explicitly.</p>\n<p>I can write this method in CustomerRepository and autowired it in LineImpl and called it but it is never called from CustomerImpl.\nSo should i write this method in LineRepository? Which one is the good practice. Working in both the ways.</p>\n<p>This is my lineRepo and i am updating customer entity from it.</p>\n<pre><code>@Repository\npublic interface LineRepository extends JpaRepository&lt;LineDetails, Long&gt; {\n    @Modifying\n    @Query(&quot;update CustomerDetails c set c.pdfGenerateFlag = 0 where c.id = :id&quot;)\n    void changePdfGenerateFlag(Long id);\n}\n</code></pre>\n<p>Same method should i write it in customerRepo and autowire it in LineImp or should i directly call LineRepo? Which one will be a good practice?</p>\n<p>I have tried both the ways and it is working.</p>\n"},{"tags":["java","intellij-idea","heap-memory","adoptopenjdk"],"comments":[{"owner":{"account_id":6651855,"reputation":224820,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1699352865,"post_id":77437401,"comment_id":136518034,"body_markdown":"`-Xmx128M` is a JVM argument, not an argument for your application.","body":"<code>-Xmx128M</code> is a JVM argument, not an argument for your application."},{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":1,"creation_date":1699354279,"post_id":77437401,"comment_id":136518307,"body_markdown":"You added it as command line argument, it is a VM argument.","body":"You added it as command line argument, it is a VM argument."},{"owner":{"account_id":8986732,"reputation":1074,"user_id":6700091,"display_name":"Kamil Bęben"},"score":0,"creation_date":1699359750,"post_id":77437401,"comment_id":136519292,"body_markdown":"I see, thank you for the clarification. I have somehow missed that","body":"I see, thank you for the clarification. I have somehow missed that"}],"owner":{"account_id":8986732,"reputation":1074,"user_id":6700091,"display_name":"Kamil Bęben"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1699352837,"answer_count":0,"score":0,"last_activity_date":1699698953,"creation_date":1699352562,"question_id":77437401,"body_markdown":"# Problem\r\nI am trying to restrict max heap size of the application running under Intellij IDEA - in order to detect memory problems as early as possible.\r\n\r\nSo far I have tried to pass custom JVM option in *Run/Debug Configurations &gt; CLI arguments to your application.*\r\n\r\n    -Xmx128M\r\n\r\nThis resulted in Intellij producing the following command:\r\n\r\n    /usr/lib/jvm/adoptopenjdk-11-hotspot-amd64/bin/java \\\r\n      -Dfile.encoding=UTF-8 \\\r\n      -classpath /home/username/ws/projectname/target/classes:/home/username/.m2/repository/org/jetbrains/annotations/23.0.0/annotations-23.0.0.jar:/home/username/.m2/repository/org/reflections/reflections/0.9.10/reflections-0.9.10.jar:/home/username/.m2/repository/org/javassist/javassist/3.19.0-GA/javassist-3.19.0-GA.jar:/home/username/.m2/repository/com/google/code/findbugs/annotations/2.0.1/annotations-2.0.1.jar:/home/username/.m2/repository/com/github/matejtymes/javafixes/1.3.2/javafixes-1.3.2.jar:...:/home/username/.m2/repository/org/bgee/log4jdbc-log4j2/log4jdbc-log4j2-jdbc4.1/1.16/log4jdbc-log4j2-jdbc4.1-1.16.jar com.companyname.rootpackage.MainApplicationClass \\\r\n      -Xmx128M\r\n\r\nWhich does not restrict max heap size to 128MB. But this would have:\r\n\r\n    /usr/lib/jvm/adoptopenjdk-11-hotspot-amd64/bin/java \\\r\n      -Xmx128M \\\r\n      -Dfile.encoding=UTF-8 \\\r\n      -classpath /home/username/ws/projectname/target/classes:/home/username/.m2/repository/org/jetbrains/annotations/23.0.0/annotations-23.0.0.jar:/home/username/.m2/repository/org/reflections/reflections/0.9.10/reflections-0.9.10.jar:/home/username/.m2/repository/org/javassist/javassist/3.19.0-GA/javassist-3.19.0-GA.jar:/home/username/.m2/repository/com/google/code/findbugs/annotations/2.0.1/annotations-2.0.1.jar:/home/username/.m2/repository/com/github/matejtymes/javafixes/1.3.2/javafixes-1.3.2.jar:...:/home/username/.m2/repository/org/bgee/log4jdbc-log4j2/log4jdbc-log4j2-jdbc4.1/1.16/log4jdbc-log4j2-jdbc4.1-1.16.jar com.companyname.rootpackage.MainApplicationClass\r\n\r\nI have changed paths and project names, and cut-out large portion of the jars added to classpath.\r\n\r\nI know that the first command does not restrict maximum heap size because I have seen the output of `Runtime.getRuntime().maxMemory()` - which returned ~5GB (1/4th of total RAM available on my development machine - that&#39;s the default JDK setting).\r\n\r\nI know that the second command *does* restrict maximum heap size because I have tried it outside of Intellij. The output of `Runtime.getRuntime().maxMemory()` had changed accordingly.\r\n\r\n# Questions\r\n1. Is it normal for `-Xmx` option to work only it it&#39;s defined before the classpath?\r\n2. Is it possible to restrict max heap size of the application in other way than by using `CLI arguments to your application.`?\r\n\r\n# Versions used\r\n\r\nJava\r\n\r\n    openjdk 11.0.11 2021-04-20\r\n    OpenJDK Runtime Environment AdoptOpenJDK-11.0.11+9 (build 11.0.11+9)\r\n    OpenJDK 64-Bit Server VM AdoptOpenJDK-11.0.11+9 (build 11.0.11+9, mixed mode)\r\n\r\nIntellij IDEA\r\n\r\n    IntelliJ IDEA 2023.2.2 (Community Edition)\r\n    Build #IC-232.9921.47, built on September 12, 2023\r\n\r\nOS\r\n\r\n    PRETTY_NAME=&quot;Debian GNU/Linux bookworm/sid&quot;\r\n","title":"Restricting max heap size of application running under Intellij IDEA","body":"<h1>Problem</h1>\n<p>I am trying to restrict max heap size of the application running under Intellij IDEA - in order to detect memory problems as early as possible.</p>\n<p>So far I have tried to pass custom JVM option in <em>Run/Debug Configurations &gt; CLI arguments to your application.</em></p>\n<pre><code>-Xmx128M\n</code></pre>\n<p>This resulted in Intellij producing the following command:</p>\n<pre><code>/usr/lib/jvm/adoptopenjdk-11-hotspot-amd64/bin/java \\\n  -Dfile.encoding=UTF-8 \\\n  -classpath /home/username/ws/projectname/target/classes:/home/username/.m2/repository/org/jetbrains/annotations/23.0.0/annotations-23.0.0.jar:/home/username/.m2/repository/org/reflections/reflections/0.9.10/reflections-0.9.10.jar:/home/username/.m2/repository/org/javassist/javassist/3.19.0-GA/javassist-3.19.0-GA.jar:/home/username/.m2/repository/com/google/code/findbugs/annotations/2.0.1/annotations-2.0.1.jar:/home/username/.m2/repository/com/github/matejtymes/javafixes/1.3.2/javafixes-1.3.2.jar:...:/home/username/.m2/repository/org/bgee/log4jdbc-log4j2/log4jdbc-log4j2-jdbc4.1/1.16/log4jdbc-log4j2-jdbc4.1-1.16.jar com.companyname.rootpackage.MainApplicationClass \\\n  -Xmx128M\n</code></pre>\n<p>Which does not restrict max heap size to 128MB. But this would have:</p>\n<pre><code>/usr/lib/jvm/adoptopenjdk-11-hotspot-amd64/bin/java \\\n  -Xmx128M \\\n  -Dfile.encoding=UTF-8 \\\n  -classpath /home/username/ws/projectname/target/classes:/home/username/.m2/repository/org/jetbrains/annotations/23.0.0/annotations-23.0.0.jar:/home/username/.m2/repository/org/reflections/reflections/0.9.10/reflections-0.9.10.jar:/home/username/.m2/repository/org/javassist/javassist/3.19.0-GA/javassist-3.19.0-GA.jar:/home/username/.m2/repository/com/google/code/findbugs/annotations/2.0.1/annotations-2.0.1.jar:/home/username/.m2/repository/com/github/matejtymes/javafixes/1.3.2/javafixes-1.3.2.jar:...:/home/username/.m2/repository/org/bgee/log4jdbc-log4j2/log4jdbc-log4j2-jdbc4.1/1.16/log4jdbc-log4j2-jdbc4.1-1.16.jar com.companyname.rootpackage.MainApplicationClass\n</code></pre>\n<p>I have changed paths and project names, and cut-out large portion of the jars added to classpath.</p>\n<p>I know that the first command does not restrict maximum heap size because I have seen the output of <code>Runtime.getRuntime().maxMemory()</code> - which returned ~5GB (1/4th of total RAM available on my development machine - that's the default JDK setting).</p>\n<p>I know that the second command <em>does</em> restrict maximum heap size because I have tried it outside of Intellij. The output of <code>Runtime.getRuntime().maxMemory()</code> had changed accordingly.</p>\n<h1>Questions</h1>\n<ol>\n<li>Is it normal for <code>-Xmx</code> option to work only it it's defined before the classpath?</li>\n<li>Is it possible to restrict max heap size of the application in other way than by using <code>CLI arguments to your application.</code>?</li>\n</ol>\n<h1>Versions used</h1>\n<p>Java</p>\n<pre><code>openjdk 11.0.11 2021-04-20\nOpenJDK Runtime Environment AdoptOpenJDK-11.0.11+9 (build 11.0.11+9)\nOpenJDK 64-Bit Server VM AdoptOpenJDK-11.0.11+9 (build 11.0.11+9, mixed mode)\n</code></pre>\n<p>Intellij IDEA</p>\n<pre><code>IntelliJ IDEA 2023.2.2 (Community Edition)\nBuild #IC-232.9921.47, built on September 12, 2023\n</code></pre>\n<p>OS</p>\n<pre><code>PRETTY_NAME=&quot;Debian GNU/Linux bookworm/sid&quot;\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1699680340,"post_id":77463948,"comment_id":136565058,"body_markdown":"If your queue is small, your tasks are simply rejected, if your queue is large, then `get` waits for the task to be picked up by a thread in the thread pool, which makes `get` time out.","body":"If your queue is small, your tasks are simply rejected, if your queue is large, then <code>get</code> waits for the task to be picked up by a thread in the thread pool, which makes <code>get</code> time out."}],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1699698849,"creation_date":1699698849,"answer_id":77464736,"question_id":77463948,"body_markdown":"&gt; [...] why the CompletableFuture.get() is blocked by the Thread.sleep()?\r\n\r\nIn your code the `Thread.sleep()` is executed before the work task produces a result:\r\n\r\n    Supplier&lt;Void&gt; task = () -&gt; {\r\n        try {\r\n            TimeUnit.MILLISECONDS.sleep(200);  // this is the sleep\r\n        } catch (InterruptedException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        return null;  // here the work task produces the result\r\n    };\r\n\r\n`Completable.get()` retrieves the result that this work task produces. It cannot retrieve that result before the work task has produced it and is therefore delayed by the `Thread.sleep()`.\r\n\r\n-----\r\n&gt; When the queue size less that 16 it works fine and be able to get result within 200~300ms. However when I adjust queue size to 30 I get TimeoutException.\r\n\r\nThis happens because of the interaction between\r\n- number of threads creating work tasks (30)\r\n- ThreadExecutor core pool size (4)\r\n- ThreadExecutor maximum pool size (16)\r\n- maximum capacity of the work queue (10, 30)\r\n\r\nThe ThreadExecutor spawns up to _core pool size_ threads as soon as work arrives (https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/concurrent/ThreadPoolExecutor.html):\r\n\r\n&gt; Core and maximum pool sizes\r\n&gt;\r\n&gt; A ThreadPoolExecutor will automatically adjust the pool size [...]. When a new task is submitted in method execute(Runnable), if fewer than corePoolSize threads are running, a new thread is created to handle the request, even if other worker threads are idle. Else if fewer than maximumPoolSize threads are running, a new thread will be created to handle the request only if the queue is full. [...]\r\n\r\nIf the maximum queue size is low (10) the 30 threads creating new work tasks will quickly generate more than corePoolSize + queueSize (4 + 10 = 14) work tasks and the ThreadPoolExecutor will start more threads up to the maximum pool size (16).\r\n\r\nAt this point you have 16 threads executing work tasks and a queue of another 10 work tasks. Of your 30 threads creating new work tasks 26 are blocked (because their work tasks are either executing or waiting in the work queue), the other 4 threads are creating work tasks that get rejected (because the work queue is full).\r\n\r\nIf a work tasks is completed, the thread that executed it fetches the next work task from the work queue which has been sitting there for about 200ms (it will never much longer because the work queue size is small compared to the number of threads in the ThreadPoolExecutor) and therefore can successfully completed within the time limit of 1000ms that the creating thread is willing to wait.\r\n\r\nThe whole picture changes when you raise the maximum work queue size to 30. In this case the work queue will never be full and the ThreadPoolExecutor will only start corePoolSize threads (i.e. 4 threads):\r\n\r\n- you have 30 threads creating work tasks (within a few milliseconds)\r\n- the ThreadPoolExecutor will create 4 threads to handle 4 of these work tasks\r\n- 26 work tasks will be stored in the work queue\r\n\r\n- after 200ms the 4 threads of the ThreadPoolExecutor will have finished 4 work tasks and will pick the next work tasks.\r\n\r\n- after 400ms the 4 threads of the ThreadPoolExecutor will have finished 8 work tasks.\r\n\r\n- after 600ms the 4 threads of the ThreadPoolExecutor will have finished 12 work tasks.\r\n\r\n- after 800ms the 4 threads of the ThreadPoolExecutor will have finished 16 work tasks.\r\n\r\n- after 1000ms the 4 threads of the ThreadPoolExecutor will have finished 20 work tasks.\r\n\r\nAnd now 10 of those 30 work tasks that where created during the first few milliseconds will start to time out.","title":"Why is CompletableFuture.get() blocked by Thread.sleep()?","body":"<blockquote>\n<p>[...] why the CompletableFuture.get() is blocked by the Thread.sleep()?</p>\n</blockquote>\n<p>In your code the <code>Thread.sleep()</code> is executed before the work task produces a result:</p>\n<pre><code>Supplier&lt;Void&gt; task = () -&gt; {\n    try {\n        TimeUnit.MILLISECONDS.sleep(200);  // this is the sleep\n    } catch (InterruptedException e) {\n        throw new RuntimeException(e);\n    }\n    return null;  // here the work task produces the result\n};\n</code></pre>\n<p><code>Completable.get()</code> retrieves the result that this work task produces. It cannot retrieve that result before the work task has produced it and is therefore delayed by the <code>Thread.sleep()</code>.</p>\n<hr />\n<blockquote>\n<p>When the queue size less that 16 it works fine and be able to get result within 200~300ms. However when I adjust queue size to 30 I get TimeoutException.</p>\n</blockquote>\n<p>This happens because of the interaction between</p>\n<ul>\n<li>number of threads creating work tasks (30)</li>\n<li>ThreadExecutor core pool size (4)</li>\n<li>ThreadExecutor maximum pool size (16)</li>\n<li>maximum capacity of the work queue (10, 30)</li>\n</ul>\n<p>The ThreadExecutor spawns up to <em>core pool size</em> threads as soon as work arrives (<a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/concurrent/ThreadPoolExecutor.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/concurrent/ThreadPoolExecutor.html</a>):</p>\n<blockquote>\n<p>Core and maximum pool sizes</p>\n<p>A ThreadPoolExecutor will automatically adjust the pool size [...]. When a new task is submitted in method execute(Runnable), if fewer than corePoolSize threads are running, a new thread is created to handle the request, even if other worker threads are idle. Else if fewer than maximumPoolSize threads are running, a new thread will be created to handle the request only if the queue is full. [...]</p>\n</blockquote>\n<p>If the maximum queue size is low (10) the 30 threads creating new work tasks will quickly generate more than corePoolSize + queueSize (4 + 10 = 14) work tasks and the ThreadPoolExecutor will start more threads up to the maximum pool size (16).</p>\n<p>At this point you have 16 threads executing work tasks and a queue of another 10 work tasks. Of your 30 threads creating new work tasks 26 are blocked (because their work tasks are either executing or waiting in the work queue), the other 4 threads are creating work tasks that get rejected (because the work queue is full).</p>\n<p>If a work tasks is completed, the thread that executed it fetches the next work task from the work queue which has been sitting there for about 200ms (it will never much longer because the work queue size is small compared to the number of threads in the ThreadPoolExecutor) and therefore can successfully completed within the time limit of 1000ms that the creating thread is willing to wait.</p>\n<p>The whole picture changes when you raise the maximum work queue size to 30. In this case the work queue will never be full and the ThreadPoolExecutor will only start corePoolSize threads (i.e. 4 threads):</p>\n<ul>\n<li><p>you have 30 threads creating work tasks (within a few milliseconds)</p>\n</li>\n<li><p>the ThreadPoolExecutor will create 4 threads to handle 4 of these work tasks</p>\n</li>\n<li><p>26 work tasks will be stored in the work queue</p>\n</li>\n<li><p>after 200ms the 4 threads of the ThreadPoolExecutor will have finished 4 work tasks and will pick the next work tasks.</p>\n</li>\n<li><p>after 400ms the 4 threads of the ThreadPoolExecutor will have finished 8 work tasks.</p>\n</li>\n<li><p>after 600ms the 4 threads of the ThreadPoolExecutor will have finished 12 work tasks.</p>\n</li>\n<li><p>after 800ms the 4 threads of the ThreadPoolExecutor will have finished 16 work tasks.</p>\n</li>\n<li><p>after 1000ms the 4 threads of the ThreadPoolExecutor will have finished 20 work tasks.</p>\n</li>\n</ul>\n<p>And now 10 of those 30 work tasks that where created during the first few milliseconds will start to time out.</p>\n"}],"owner":{"account_id":10624443,"reputation":13,"user_id":7824488,"display_name":"jason wu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77464736,"answer_count":1,"score":1,"last_activity_date":1699698849,"creation_date":1699678569,"question_id":77463948,"body_markdown":"I have no idea why the CompletableFuture.get() is blocked by the Thread.sleep()? Why does the size of LinkedBlockingQueue will affect the probability of TimeoutException ?\r\n \r\nThanks.\r\n\r\n```\r\nimport com.google.common.collect.Queues;\r\n\r\nimport java.util.concurrent.CompletableFuture;\r\nimport java.util.concurrent.ThreadPoolExecutor;\r\nimport java.util.concurrent.TimeUnit;\r\nimport java.util.concurrent.TimeoutException;\r\nimport java.util.function.Supplier;\r\n\r\npublic class TaskSleepTest {\r\n\r\n    private static final ThreadPoolExecutor EXECUTOR = new ThreadPoolExecutor(4, 16, 1, TimeUnit.MINUTES, Queues.newLinkedBlockingQueue(10));\r\n\r\n    public static void main(String[] args) {\r\n        for (int i = 0; i &lt; 30; i++) {\r\n            new Thread(() -&gt; {\r\n                for (int i1 = 0; i1 &lt; 2000; i1++) {\r\n                    Supplier&lt;Void&gt; task = () -&gt; {\r\n                        try {\r\n                            TimeUnit.MILLISECONDS.sleep(200);\r\n                        } catch (InterruptedException e) {\r\n                            throw new RuntimeException(e);\r\n                        }\r\n                        return null;\r\n                    };\r\n                    testSleep(task);\r\n                }\r\n            }).start();\r\n        }\r\n    }\r\n\r\n    private static void testSleep(Supplier&lt;Void&gt; task) {\r\n        long start = System.currentTimeMillis();\r\n        try {\r\n            CompletableFuture.supplyAsync(task, EXECUTOR).whenComplete((t, throwable) -&gt; {\r\n                if (throwable != null) {\r\n                    System.out.println(&quot;error&quot;);\r\n                }\r\n            }).get(1000, TimeUnit.MILLISECONDS);\r\n            long end = System.currentTimeMillis();\r\n            System.out.println(&quot;success ----------&quot; + Thread.currentThread().getName() + &quot;:&quot; + (end - start));\r\n        } catch (TimeoutException ex) {\r\n            long end = System.currentTimeMillis();\r\n            System.out.println(&quot;TimeoutException ----------&quot; + Thread.currentThread().getName() + &quot;:&quot; + (end - start));\r\n        } catch (Exception ex) {\r\n            long end = System.currentTimeMillis();\r\n            System.out.println(&quot;Exception ----------&quot; + Thread.currentThread().getName() + &quot;:&quot; + (end - start));\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\nWhen the queue size less that 16 it works fine and be able to get result within 200~300ms. However when I adjust queue size to 30 I get TimeoutException.","title":"Why is CompletableFuture.get() blocked by Thread.sleep()?","body":"<p>I have no idea why the CompletableFuture.get() is blocked by the Thread.sleep()? Why does the size of LinkedBlockingQueue will affect the probability of TimeoutException ?</p>\n<p>Thanks.</p>\n<pre><code>import com.google.common.collect.Queues;\n\nimport java.util.concurrent.CompletableFuture;\nimport java.util.concurrent.ThreadPoolExecutor;\nimport java.util.concurrent.TimeUnit;\nimport java.util.concurrent.TimeoutException;\nimport java.util.function.Supplier;\n\npublic class TaskSleepTest {\n\n    private static final ThreadPoolExecutor EXECUTOR = new ThreadPoolExecutor(4, 16, 1, TimeUnit.MINUTES, Queues.newLinkedBlockingQueue(10));\n\n    public static void main(String[] args) {\n        for (int i = 0; i &lt; 30; i++) {\n            new Thread(() -&gt; {\n                for (int i1 = 0; i1 &lt; 2000; i1++) {\n                    Supplier&lt;Void&gt; task = () -&gt; {\n                        try {\n                            TimeUnit.MILLISECONDS.sleep(200);\n                        } catch (InterruptedException e) {\n                            throw new RuntimeException(e);\n                        }\n                        return null;\n                    };\n                    testSleep(task);\n                }\n            }).start();\n        }\n    }\n\n    private static void testSleep(Supplier&lt;Void&gt; task) {\n        long start = System.currentTimeMillis();\n        try {\n            CompletableFuture.supplyAsync(task, EXECUTOR).whenComplete((t, throwable) -&gt; {\n                if (throwable != null) {\n                    System.out.println(&quot;error&quot;);\n                }\n            }).get(1000, TimeUnit.MILLISECONDS);\n            long end = System.currentTimeMillis();\n            System.out.println(&quot;success ----------&quot; + Thread.currentThread().getName() + &quot;:&quot; + (end - start));\n        } catch (TimeoutException ex) {\n            long end = System.currentTimeMillis();\n            System.out.println(&quot;TimeoutException ----------&quot; + Thread.currentThread().getName() + &quot;:&quot; + (end - start));\n        } catch (Exception ex) {\n            long end = System.currentTimeMillis();\n            System.out.println(&quot;Exception ----------&quot; + Thread.currentThread().getName() + &quot;:&quot; + (end - start));\n        }\n    }\n}\n</code></pre>\n<p>When the queue size less that 16 it works fine and be able to get result within 200~300ms. However when I adjust queue size to 30 I get TimeoutException.</p>\n"},{"tags":["java","spring-boot","maven"],"owner":{"account_id":23154605,"reputation":1,"user_id":17256050,"display_name":"guagua"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1699698737,"creation_date":1699698737,"question_id":77464731,"body_markdown":"I changed the source code a little.\r\nhttps://github.com/joelittlejohn/jsonschema2pojo\r\n\r\n\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;org.jsonschema2pojo&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jsonschema2pojo-core&lt;/artifactId&gt;\r\n    &lt;version&gt;1.2.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nrename it 1.2.1-MYRELEASE\r\n\r\n\r\n    &lt;parent&gt;\r\n    &lt;artifactId&gt;jsonschema2pojo&lt;/artifactId&gt;\r\n    &lt;groupId&gt;org.jsonschema2pojo&lt;/groupId&gt;\r\n    &lt;version&gt;1.2.1&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;artifactId&gt;jsonschema2pojo-core&lt;/artifactId&gt;\r\n\r\n    &lt;name&gt;jsonschema2pojo-core&lt;/name&gt;\r\n    add this line\r\n    &lt;version&gt;1.2.1-MYRELEASE&lt;/version&gt;`\r\n\r\nthen put it in my project, The dependent jars in this pom cannot be loaded into the spring boot package\r\n\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;org.jsonschema2pojo&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jsonschema2pojo-core&lt;/artifactId&gt;\r\n    &lt;version&gt;1.2.1-MYRELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nmy project jar apaas-admin.jar missing jsonschema2pojo-core dependency jars\r\n\r\n\r\n\r\n[enter image description here](https://i.stack.imgur.com/Ls25p.png)","title":"What to do when packaging spring boot with incomplete dependency packages","body":"<p>I changed the source code a little.\n<a href=\"https://github.com/joelittlejohn/jsonschema2pojo\" rel=\"nofollow noreferrer\">https://github.com/joelittlejohn/jsonschema2pojo</a></p>\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;org.jsonschema2pojo&lt;/groupId&gt;\n&lt;artifactId&gt;jsonschema2pojo-core&lt;/artifactId&gt;\n&lt;version&gt;1.2.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>rename it 1.2.1-MYRELEASE</p>\n<pre><code>&lt;parent&gt;\n&lt;artifactId&gt;jsonschema2pojo&lt;/artifactId&gt;\n&lt;groupId&gt;org.jsonschema2pojo&lt;/groupId&gt;\n&lt;version&gt;1.2.1&lt;/version&gt;\n&lt;/parent&gt;\n\n&lt;artifactId&gt;jsonschema2pojo-core&lt;/artifactId&gt;\n\n&lt;name&gt;jsonschema2pojo-core&lt;/name&gt;\nadd this line\n&lt;version&gt;1.2.1-MYRELEASE&lt;/version&gt;`\n</code></pre>\n<p>then put it in my project, The dependent jars in this pom cannot be loaded into the spring boot package</p>\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;org.jsonschema2pojo&lt;/groupId&gt;\n&lt;artifactId&gt;jsonschema2pojo-core&lt;/artifactId&gt;\n&lt;version&gt;1.2.1-MYRELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>my project jar apaas-admin.jar missing jsonschema2pojo-core dependency jars</p>\n<p><a href=\"https://i.stack.imgur.com/Ls25p.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","android","calendar"],"comments":[{"owner":{"account_id":24162446,"reputation":216,"user_id":18125775,"display_name":"Shreyas Sparrow"},"score":0,"creation_date":1699714949,"post_id":77464729,"comment_id":136567558,"body_markdown":"Do you know how many events present in database and also how many events present for the month? If the database is yours I would recommend to use database index.","body":"Do you know how many events present in database and also how many events present for the month? If the database is yours I would recommend to use database index."},{"owner":{"account_id":19346094,"reputation":13,"user_id":14144627,"display_name":"ubik41"},"score":0,"creation_date":1699718569,"post_id":77464729,"comment_id":136567934,"body_markdown":"Helo, I&#39;m using the database of Android calendars. In a week there about 60 events, in a months about 250. In the database there must be over 1000 events. What do you mean with database index?","body":"Helo, I&#39;m using the database of Android calendars. In a week there about 60 events, in a months about 250. In the database there must be over 1000 events. What do you mean with database index?"},{"owner":{"account_id":24162446,"reputation":216,"user_id":18125775,"display_name":"Shreyas Sparrow"},"score":0,"creation_date":1699785355,"post_id":77464729,"comment_id":136572698,"body_markdown":"I mean if the database is yours you can create a database index to make the retrieval fast","body":"I mean if the database is yours you can create a database index to make the retrieval fast"},{"owner":{"account_id":19346094,"reputation":13,"user_id":14144627,"display_name":"ubik41"},"score":0,"creation_date":1699807846,"post_id":77464729,"comment_id":136574845,"body_markdown":"No, the database is not mine. It uses the android database for calendars. Look at https://developer.android.com/reference/android/provider/CalendarContract","body":"No, the database is not mine. It uses the android database for calendars. Look at <a href=\"https://developer.android.com/reference/android/provider/CalendarContract\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/provider/&hellip;</a>"}],"owner":{"account_id":19346094,"reputation":13,"user_id":14144627,"display_name":"ubik41"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699698712,"creation_date":1699698712,"question_id":77464729,"body_markdown":"Helo,\r\n\r\nI&#39;ve got this code snippet:\r\n\r\n            Uri uri = Uri.parse(CalendarContract.Instances.CONTENT_URI + &quot;/&quot; +\r\n                Long.toString(from) + &quot;/&quot; +\r\n                Long.toString(to));\r\n\r\n        \r\n        String selection = &quot;(&quot; + selection_allcalendars + &quot; (deleted != 1) AND (&quot; + CalendarContract.Instances.ALL_DAY + &quot; = 0))&quot;;\r\n\r\n        cur = cr.query(uri, mProjection, selection, null, CalendarContract.Instances.DTSTART + &quot; ASC&quot;);\r\n\r\nIt queries the Android calendar events for the time between *from* (in milliseconds) and *to* (in milliseconds).\r\n\r\nThis works really good, when I want to query all events for a day (app runs in 60 milliseconds). It also works fine, when I query the calendar events for a week (app runs in 80 milliseconds).\r\n\r\nBut why it takes so long time (e. g. 2-4 seconds), when I want to query the events for a month? My app, which I develop hangs...\r\n\r\nHow can I solve this problem? Thank you!","title":"CalendarContract slow in Android","body":"<p>Helo,</p>\n<p>I've got this code snippet:</p>\n<pre><code>        Uri uri = Uri.parse(CalendarContract.Instances.CONTENT_URI + &quot;/&quot; +\n            Long.toString(from) + &quot;/&quot; +\n            Long.toString(to));\n\n    \n    String selection = &quot;(&quot; + selection_allcalendars + &quot; (deleted != 1) AND (&quot; + CalendarContract.Instances.ALL_DAY + &quot; = 0))&quot;;\n\n    cur = cr.query(uri, mProjection, selection, null, CalendarContract.Instances.DTSTART + &quot; ASC&quot;);\n</code></pre>\n<p>It queries the Android calendar events for the time between <em>from</em> (in milliseconds) and <em>to</em> (in milliseconds).</p>\n<p>This works really good, when I want to query all events for a day (app runs in 60 milliseconds). It also works fine, when I query the calendar events for a week (app runs in 80 milliseconds).</p>\n<p>But why it takes so long time (e. g. 2-4 seconds), when I want to query the events for a month? My app, which I develop hangs...</p>\n<p>How can I solve this problem? Thank you!</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1698244720,"post_id":77359189,"comment_id":136381073,"body_markdown":"*&quot; why is the `timeSelector` width on the right different from the popup&#39;s&quot;* You made the `timeSelector` the root of the scene, so it is going to be sized to fill the whole scene. The scene is constrained to a minimum size by the window (which needs to be able to hold the window decorations). If you wrap the `timeSelector` in any layout pane, it should have the width specified in the FXML file (note however that it is very bad practice to hard-code sizes in this way).","body":"<i>&quot; why is the <code>timeSelector</code> width on the right different from the popup&#39;s&quot;</i> You made the <code>timeSelector</code> the root of the scene, so it is going to be sized to fill the whole scene. The scene is constrained to a minimum size by the window (which needs to be able to hold the window decorations). If you wrap the <code>timeSelector</code> in any layout pane, it should have the width specified in the FXML file (note however that it is very bad practice to hard-code sizes in this way)."},{"owner":{"account_id":26636851,"reputation":31,"user_id":20253139,"display_name":"雨夜带刀不带伞"},"score":0,"creation_date":1698306465,"post_id":77359189,"comment_id":136389186,"body_markdown":"@James_D, thanks.","body":"@James_D, thanks."},{"owner":{"account_id":26636851,"reputation":31,"user_id":20253139,"display_name":"雨夜带刀不带伞"},"score":0,"creation_date":1698340465,"post_id":77359189,"comment_id":136396325,"body_markdown":"@jewelsea: Thank you for your advice, but I&#39;m just doing this for the convenience of writing examples","body":"@jewelsea: Thank you for your advice, but I&#39;m just doing this for the convenience of writing examples"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1698371150,"post_id":77359189,"comment_id":136400074,"body_markdown":"I tried this on MacBook Pro, OS X x64 13.6, OpenJDK 21.0.1, JavaFX 21.  It did not reproduce.  One pane did not look more blurry than the other to me (could just be my eyesight, but I do see blurriness on the screenshot in your question).  I also tried screenshotting and zooming the screenshot and could not detect any clarity difference.  So perhaps your issue is platform-specific.","body":"I tried this on MacBook Pro, OS X x64 13.6, OpenJDK 21.0.1, JavaFX 21.  It did not reproduce.  One pane did not look more blurry than the other to me (could just be my eyesight, but I do see blurriness on the screenshot in your question).  I also tried screenshotting and zooming the screenshot and could not detect any clarity difference.  So perhaps your issue is platform-specific."},{"owner":{"account_id":26636851,"reputation":31,"user_id":20253139,"display_name":"雨夜带刀不带伞"},"score":0,"creation_date":1698379845,"post_id":77359189,"comment_id":136400682,"body_markdown":"@jewelsea: Is your display scaling 100%?","body":"@jewelsea: Is your display scaling 100%?"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1698385784,"post_id":77359189,"comment_id":136401112,"body_markdown":"No, it is the monitor on the MacBook. Native is 3072x1920.  I run it at 1536x960 which is 2:1, so 4 native pixels to one virtual one.  The output of `System.out.println(Screen.getPrimary())` is `bounds:Rectangle2D [minX=0.0, minY=0.0, maxX=1536.0, maxY=960.0, width=1536.0, height=960.0] visualBounds:Rectangle2D [minX=0.0, minY=25.0, maxX=1536.0, maxY=905.0, width=1536.0, height=880.0] dpi:112.0 outputScale:(2.0,2.0)`.  The [output scale](https://openjfx.io/javadoc/17/javafx.graphics/javafx/stage/Screen.html#getOutputScaleX()) printed last is the scaling.","body":"No, it is the monitor on the MacBook. Native is 3072x1920.  I run it at 1536x960 which is 2:1, so 4 native pixels to one virtual one.  The output of <code>System.out.println(Screen.getPrimary())</code> is <code>bounds:Rectangle2D [minX=0.0, minY=0.0, maxX=1536.0, maxY=960.0, width=1536.0, height=960.0] visualBounds:Rectangle2D [minX=0.0, minY=25.0, maxX=1536.0, maxY=905.0, width=1536.0, height=880.0] dpi:112.0 outputScale:(2.0,2.0)</code>.  The <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/stage/Screen.html#getOutputScaleX()\" rel=\"nofollow noreferrer\">output scale</a> printed last is the scaling."}],"answers":[{"tags":[],"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699697279,"creation_date":1699696810,"answer_id":77464635,"question_id":77359189,"body_markdown":"This is something that the OS specific\r\nimplementation does. \r\n\r\nThe popup is rendered at a given size when using 100%. If you zoom everything to 125% in your OS, you are not resizing the windows only. You are resizing everything to a bigger size.\r\n\r\nImagine a sharp foto of 400x400px. And now you resize it to 500x500px. Where do the 100px come from? They do NOT exist. \r\n\r\nThis is the much more interesting question. :)\r\n\r\nYour computer does the best it can to &quot;compute&quot; this pixels in combination with the JFX implememtation.\r\n\r\nWhat I want to say is: The popup implementation of JFX is the reason OR your OS is the reason.","title":"why Javafx popup font is blur","body":"<p>This is something that the OS specific\nimplementation does.</p>\n<p>The popup is rendered at a given size when using 100%. If you zoom everything to 125% in your OS, you are not resizing the windows only. You are resizing everything to a bigger size.</p>\n<p>Imagine a sharp foto of 400x400px. And now you resize it to 500x500px. Where do the 100px come from? They do NOT exist.</p>\n<p>This is the much more interesting question. :)</p>\n<p>Your computer does the best it can to &quot;compute&quot; this pixels in combination with the JFX implememtation.</p>\n<p>What I want to say is: The popup implementation of JFX is the reason OR your OS is the reason.</p>\n"}],"owner":{"account_id":26636851,"reputation":31,"user_id":20253139,"display_name":"雨夜带刀不带伞"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1699697279,"creation_date":1698234538,"question_id":77359189,"body_markdown":"On Windows 11 with Java 17 abd JavaFX 17, I&#39;m trying to customize components.\r\n\r\n[![screen capture][1]][1]\r\n\r\nOn the left is popup. Font is blurred, This only happens when the displayr is scaled at 125%, and I&#39;m using a 2k display. \r\nAnd why is the `timeSelector` width on the right different from the popup&#39;s? I didn&#39;t add extra setting width code. This is strange.\r\n\r\nThis is minimal reproducible example:\r\n\r\n    public void start(Stage primaryStage) {\r\n        Scene scene = new Scene(buildFlowPane());\r\n        primaryStage.setScene(scene);\r\n        primaryStage.show();\r\n        Platform.runLater(() -&gt; {\r\n            Popup popup = new Popup();\r\n            popup.getContent().add(buildFlowPane());\r\n            popup.setAnchorX(600);\r\n            popup.show(primaryStage);\r\n        });\r\n    }\r\n    private FlowPane buildFlowPane(){\r\n        FlowPane flowPane = new FlowPane(){{setStyle(&quot;&quot;&quot;\r\n                    -fx-padding: 2;\r\n                    -fx-effect: dropshadow(gaussian, rgba(0, 0, 0, 0.5), 10, 0, 0, 0);\r\n                    -fx-background-radius: 5;\r\n                    -fx-background-color: white;\r\n                    &quot;&quot;&quot;);}};\r\n        flowPane.setMinWidth(86);\r\n        flowPane.setMaxWidth(86);\r\n        flowPane.setHgap(1.5);\r\n        flowPane.getChildren().add(buildScrollPane());\r\n        flowPane.getChildren().add(buildScrollPane());\r\n        return flowPane;\r\n    }\r\n    private ScrollPane buildScrollPane(){\r\n        ScrollPane scrollPane = new ScrollPane(){{setStyle(&quot;&quot;&quot;\r\n                -fx-padding: 0;\r\n                -fx-background-color: transparent;\r\n                -fx-border-color: transparent;\r\n                -fx-background-insets: 0;\r\n                -fx-hbar-policy: never;\r\n                -fx-vbar-policy: never;\r\n                &quot;&quot;&quot;);}};\r\n        scrollPane.setMaxHeight(180);\r\n        VBox vBox = new VBox(){{setStyle(&quot;-fx-background-color: white;&quot;);}};\r\n        ObservableList&lt;Node&gt; children = vBox.getChildren();\r\n        for (int i = 0; i &lt; 24; i++) {\r\n            children.add(buildLabel(String.valueOf(i)));\r\n        }\r\n        scrollPane.setContent(vBox);\r\n        return scrollPane;\r\n    }\r\n    private Label buildLabel(String text){\r\n        return new Label(text){{setStyle(&quot;-fx-pref-width: 38;-fx-pref-height: 29;-fx-alignment: CENTER;-fx-background-radius: 5;-fx-background-color: white&quot;);}};\r\n    }\r\n\r\nHere is a screenshot of the example\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XPZWg.png\r\n  [2]: https://i.stack.imgur.com/GsFos.png","title":"why Javafx popup font is blur","body":"<p>On Windows 11 with Java 17 abd JavaFX 17, I'm trying to customize components.</p>\n<p><a href=\"https://i.stack.imgur.com/XPZWg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XPZWg.png\" alt=\"screen capture\" /></a></p>\n<p>On the left is popup. Font is blurred, This only happens when the displayr is scaled at 125%, and I'm using a 2k display.\nAnd why is the <code>timeSelector</code> width on the right different from the popup's? I didn't add extra setting width code. This is strange.</p>\n<p>This is minimal reproducible example:</p>\n<pre><code>public void start(Stage primaryStage) {\n    Scene scene = new Scene(buildFlowPane());\n    primaryStage.setScene(scene);\n    primaryStage.show();\n    Platform.runLater(() -&gt; {\n        Popup popup = new Popup();\n        popup.getContent().add(buildFlowPane());\n        popup.setAnchorX(600);\n        popup.show(primaryStage);\n    });\n}\nprivate FlowPane buildFlowPane(){\n    FlowPane flowPane = new FlowPane(){{setStyle(&quot;&quot;&quot;\n                -fx-padding: 2;\n                -fx-effect: dropshadow(gaussian, rgba(0, 0, 0, 0.5), 10, 0, 0, 0);\n                -fx-background-radius: 5;\n                -fx-background-color: white;\n                &quot;&quot;&quot;);}};\n    flowPane.setMinWidth(86);\n    flowPane.setMaxWidth(86);\n    flowPane.setHgap(1.5);\n    flowPane.getChildren().add(buildScrollPane());\n    flowPane.getChildren().add(buildScrollPane());\n    return flowPane;\n}\nprivate ScrollPane buildScrollPane(){\n    ScrollPane scrollPane = new ScrollPane(){{setStyle(&quot;&quot;&quot;\n            -fx-padding: 0;\n            -fx-background-color: transparent;\n            -fx-border-color: transparent;\n            -fx-background-insets: 0;\n            -fx-hbar-policy: never;\n            -fx-vbar-policy: never;\n            &quot;&quot;&quot;);}};\n    scrollPane.setMaxHeight(180);\n    VBox vBox = new VBox(){{setStyle(&quot;-fx-background-color: white;&quot;);}};\n    ObservableList&lt;Node&gt; children = vBox.getChildren();\n    for (int i = 0; i &lt; 24; i++) {\n        children.add(buildLabel(String.valueOf(i)));\n    }\n    scrollPane.setContent(vBox);\n    return scrollPane;\n}\nprivate Label buildLabel(String text){\n    return new Label(text){{setStyle(&quot;-fx-pref-width: 38;-fx-pref-height: 29;-fx-alignment: CENTER;-fx-background-radius: 5;-fx-background-color: white&quot;);}};\n}\n</code></pre>\n<p>Here is a screenshot of the example</p>\n<p><a href=\"https://i.stack.imgur.com/GsFos.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GsFos.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","google-play-services"],"comments":[{"owner":{"account_id":1098191,"reputation":177,"user_id":1091318,"display_name":"kamiyar"},"score":0,"creation_date":1692730989,"post_id":71914259,"comment_id":135663805,"body_markdown":"Hi, did you or anyone solve this?","body":"Hi, did you or anyone solve this?"}],"owner":{"account_id":2512482,"reputation":2024,"user_id":2184601,"accept_rate":64,"display_name":"ohthepain"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":972,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":0,"score":5,"last_activity_date":1699696929,"creation_date":1650298346,"question_id":71914259,"body_markdown":"I have a Unity 2020.3.32f1 game and need to fix Google Play login. I upgraded to 0.11.1 \r\n\r\nNow I get an exception \r\n&gt; AndroidJavaException: java.lang.ClassNotFoundException: com.google.android.gms.games.PlayGames\r\n\r\nwhen I try to init the library \r\n&gt;&gt;        public GooglePlayService()\r\n&gt;&gt;        {\r\n&gt;&gt;            InitStatus = InitStatus.NotInitialized;\r\n&gt;&gt;            LoginStatus = LoginStatus.NotLoggedIn;\r\n&gt;&gt;            PlayGamesPlatform.DebugLogEnabled = true;\r\n&gt;&gt;            PlayGamesPlatform.Activate();\r\n&gt;&gt;            Log(&quot;PlayGamesPlatform.Activated&quot;);\r\n&gt;&gt;        }\r\n\r\nFollowing their instructions on adding Proguard and minify did not help. \r\n\r\nI am a bit of an Android noob so it&#39;s probably something basic.\r\n\r\nNotes:\r\n- I ran the Android dependency resolver.  \r\n- Minify is turned on for release\r\n- Min API Level 19 \r\n- Target API level 30 \r\n- I am using the internal build system\r\n- No strange characters in my project path\r\n","title":"Adding Google Play to Unity Project -&gt; java.lang.ClassNotFoundException: com.google.android.gms.games.PlayGames","body":"<p>I have a Unity 2020.3.32f1 game and need to fix Google Play login. I upgraded to 0.11.1</p>\n<p>Now I get an exception</p>\n<blockquote>\n<p>AndroidJavaException: java.lang.ClassNotFoundException: com.google.android.gms.games.PlayGames</p>\n</blockquote>\n<p>when I try to init the library</p>\n<blockquote>\n<blockquote>\n<pre><code>   public GooglePlayService()\n   {\n       InitStatus = InitStatus.NotInitialized;\n       LoginStatus = LoginStatus.NotLoggedIn;\n       PlayGamesPlatform.DebugLogEnabled = true;\n       PlayGamesPlatform.Activate();\n       Log(&quot;PlayGamesPlatform.Activated&quot;);\n   }\n</code></pre>\n</blockquote>\n</blockquote>\n<p>Following their instructions on adding Proguard and minify did not help.</p>\n<p>I am a bit of an Android noob so it's probably something basic.</p>\n<p>Notes:</p>\n<ul>\n<li>I ran the Android dependency resolver.</li>\n<li>Minify is turned on for release</li>\n<li>Min API Level 19</li>\n<li>Target API level 30</li>\n<li>I am using the internal build system</li>\n<li>No strange characters in my project path</li>\n</ul>\n"},{"tags":["java","tomcat"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1683848311,"post_id":76231895,"comment_id":134433443,"body_markdown":"At first glance it looks like a version incompatibility in the runtime.","body":"At first glance it looks like a version incompatibility in the runtime."},{"owner":{"account_id":4984786,"reputation":422,"user_id":4008741,"accept_rate":57,"display_name":"batmaniac7"},"score":0,"creation_date":1685808549,"post_id":76231895,"comment_id":134714319,"body_markdown":"did you  get past this issue?","body":"did you  get past this issue?"},{"owner":{"account_id":4670821,"reputation":303,"user_id":3953227,"accept_rate":42,"display_name":"mvm"},"score":0,"creation_date":1693974212,"post_id":76231895,"comment_id":135828712,"body_markdown":"Did you resolve this issue?","body":"Did you resolve this issue?"}],"answers":[{"tags":[],"owner":{"account_id":29878285,"reputation":1,"user_id":22897893,"display_name":"Supercat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699696566,"creation_date":1699696566,"answer_id":77464618,"question_id":76231895,"body_markdown":"I had same problem after update from spring 5 to spring 6.\r\nFor any reason in dependency folder stay old spring-boot-autoconfigure file from version 2. Just declare it in your pom file for version 3:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n ","title":"Spring Web Application + Java 17 and Tomcat 10.1 - onStartup(jakarta.servlet.ServletContext)&#39; org.springframework.web.WebApplicationInitializer","body":"<p>I had same problem after update from spring 5 to spring 6.\nFor any reason in dependency folder stay old spring-boot-autoconfigure file from version 2. Just declare it in your pom file for version 3:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\n        &lt;version&gt;3.1.4&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":7689979,"reputation":21,"user_id":5826577,"display_name":"ramt"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":663,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699696566,"creation_date":1683842791,"question_id":76231895,"body_markdown":"I am not sure why there&#39;s a reference to *org.springframework.boot.autoconfigure.jersey.JerseyAutoConfiguration$JerseyWebApplicationInitializer* given that there is no Spring Boot dependency - confirmed by checking using the maven command: *mvn dependency:tree*\r\n\r\nBelow is the error on startup.\r\n\r\n\r\n```\r\nCaused by: java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/myapp]]\r\n\tat java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122)\r\n\tat java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191)\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:878)\r\n\t... 21 more\r\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/myapp]]\r\n\tat org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:871)\r\n\t... 21 more\r\nCaused by: java.lang.AbstractMethodError: Receiver class org.springframework.boot.autoconfigure.jersey.JerseyAutoConfiguration$JerseyWebApplicationInitializer does not define or inherit an implementation of the resolved method &#39;abstract void onStartup(jakarta.servlet.ServletContext)&#39; of interface org.springframework.web.WebApplicationInitializer.\r\n\tat org.springframework.web.SpringServletContainerInitializer.onStartup(SpringServletContainerInitializer.java:171)\r\n\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4882)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\t... 27 more\r\n\r\nMay 12, 2023 4:53:16 AM org.apache.coyote.AbstractProtocol pause\r\nINFO: Pausing ProtocolHandler [&quot;http-nio-8082&quot;]\r\nMay 12, 2023 4:53:16 AM org.apache.catalina.core.StandardService stopInternal\r\nINFO: Stopping service [Catalina]\r\nMay 12, 2023 4:53:16 AM org.apache.coyote.AbstractProtocol destroy\r\nINFO: Destroying ProtocolHandler [&quot;http-nio-8082&quot;]\r\n\r\n```\r\npom.xml\r\n```\r\n...\r\n&lt;spring.version&gt;6.0.8&lt;/spring.version&gt;\r\n...\r\n&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-web&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n\r\nTomcat should start with no errors","title":"Spring Web Application + Java 17 and Tomcat 10.1 - onStartup(jakarta.servlet.ServletContext)&#39; org.springframework.web.WebApplicationInitializer","body":"<p>I am not sure why there's a reference to <em>org.springframework.boot.autoconfigure.jersey.JerseyAutoConfiguration$JerseyWebApplicationInitializer</em> given that there is no Spring Boot dependency - confirmed by checking using the maven command: <em>mvn dependency:tree</em></p>\n<p>Below is the error on startup.</p>\n<pre><code>Caused by: java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/myapp]]\n    at java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122)\n    at java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:878)\n    ... 21 more\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/myapp]]\n    at org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:871)\n    ... 21 more\nCaused by: java.lang.AbstractMethodError: Receiver class org.springframework.boot.autoconfigure.jersey.JerseyAutoConfiguration$JerseyWebApplicationInitializer does not define or inherit an implementation of the resolved method 'abstract void onStartup(jakarta.servlet.ServletContext)' of interface org.springframework.web.WebApplicationInitializer.\n    at org.springframework.web.SpringServletContainerInitializer.onStartup(SpringServletContainerInitializer.java:171)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4882)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    ... 27 more\n\nMay 12, 2023 4:53:16 AM org.apache.coyote.AbstractProtocol pause\nINFO: Pausing ProtocolHandler [&quot;http-nio-8082&quot;]\nMay 12, 2023 4:53:16 AM org.apache.catalina.core.StandardService stopInternal\nINFO: Stopping service [Catalina]\nMay 12, 2023 4:53:16 AM org.apache.coyote.AbstractProtocol destroy\nINFO: Destroying ProtocolHandler [&quot;http-nio-8082&quot;]\n\n</code></pre>\n<p>pom.xml</p>\n<pre><code>...\n&lt;spring.version&gt;6.0.8&lt;/spring.version&gt;\n...\n&lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;/dependency&gt;       \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Tomcat should start with no errors</p>\n"},{"tags":["java","object","oop","generics","methods"],"answers":[{"tags":[],"owner":{"account_id":60456,"reputation":55961,"user_id":1054558,"accept_rate":100,"display_name":"Aaron"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681485805,"creation_date":1681485805,"answer_id":76016661,"question_id":76016572,"body_markdown":"So `r1` is not accessible from within the `Person` class, because it is not defined there.  You&#39;re going to need to use the local `robotOwned` object instead:\r\n\r\n    private void isOwnedby() {\r\n        System.out.println(robotOwned.rname() + &quot;is owned by&quot; + this.name);\r\n    }\r\n\r\nAdditional recommendations:\r\n\r\n - Avoid single-character variable names.  Descriptive variable names are better for everyone.\r\n - It&#39;s usually a good idea to only have one Java class per file.\r\n - delux247 has a good idea about checking for null before trying to return the robot&#39;s name.\r\n","title":"How to access the attributes of another class in the a class method","body":"<p>So <code>r1</code> is not accessible from within the <code>Person</code> class, because it is not defined there.  You're going to need to use the local <code>robotOwned</code> object instead:</p>\n<pre><code>private void isOwnedby() {\n    System.out.println(robotOwned.rname() + &quot;is owned by&quot; + this.name);\n}\n</code></pre>\n<p>Additional recommendations:</p>\n<ul>\n<li>Avoid single-character variable names.  Descriptive variable names are better for everyone.</li>\n<li>It's usually a good idea to only have one Java class per file.</li>\n<li>delux247 has a good idea about checking for null before trying to return the robot's name.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3814,"reputation":2176,"user_id":5569,"accept_rate":80,"display_name":"delux247"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1681485831,"creation_date":1681485831,"answer_id":76016664,"question_id":76016572,"body_markdown":"Change\r\n\r\n    System.out.println(r1.rname() + &quot;is owned by&quot; + this.name);\r\n\r\nto\r\n\r\n    if(robotOwned != null){\r\n      System.out.println(robotOwned.rname() + &quot;is owned by&quot; + this.name);\r\n    } else{\r\n      System.out.println(this.name + &quot; does not own a robot&quot;);\r\n    }","title":"How to access the attributes of another class in the a class method","body":"<p>Change</p>\n<pre><code>System.out.println(r1.rname() + &quot;is owned by&quot; + this.name);\n</code></pre>\n<p>to</p>\n<pre><code>if(robotOwned != null){\n  System.out.println(robotOwned.rname() + &quot;is owned by&quot; + this.name);\n} else{\n  System.out.println(this.name + &quot; does not own a robot&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22809059,"reputation":1,"user_id":18040297,"display_name":"Gabriel Mathiuce"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1699695161,"creation_date":1681485976,"answer_id":76016682,"question_id":76016572,"body_markdown":"Your Person class does not know that r1 refers to in the line:     `System.out.println(r1.rname() + &quot;is owned by&quot; + this.name);`\r\nSo, what you need to do is pass a Robot as a parameter to the method &quot;isOwnedby()&quot;, e.g. :\r\n\r\n    void isOwnedby(Robot r1)\r\n        {\r\n            System.out.println(r1.rname() + &quot;is owned by&quot; + this.name);\r\n        }\r\n\r\n","title":"How to access the attributes of another class in the a class method","body":"<p>Your Person class does not know that r1 refers to in the line:     <code>System.out.println(r1.rname() + &quot;is owned by&quot; + this.name);</code>\nSo, what you need to do is pass a Robot as a parameter to the method &quot;isOwnedby()&quot;, e.g. :</p>\n<pre><code>void isOwnedby(Robot r1)\n    {\n        System.out.println(r1.rname() + &quot;is owned by&quot; + this.name);\n    }\n</code></pre>\n"}],"owner":{"account_id":26963704,"reputation":11,"user_id":20530956,"display_name":"Nikhil Koshti"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1699695161,"creation_date":1681485115,"question_id":76016572,"body_markdown":"Basically, I wanted to print (robot_name &quot;is owned by&quot; person_name) where robot_name is the atrribute of class Robot and person_name is of class Person.\r\nI am printing this in method of class Person named as isOwnedby()\r\n\r\nActually, I want to access rname attribute of r1 object of class Robot in the function of class Person named as isOwnedby(). But, iam getteing following errors,\r\n\r\n\r\nerror: cannot find symbol\r\n        System.out.println(r1.rname() + &quot;is owned by&quot; + this.name);\r\n                           ^\r\n  symbol:   variable r1\r\n  location: class Person\r\n\r\n\r\nThe code snippet is as follows,\r\n\r\n```\r\npublic class Main\r\n{\r\n\tpublic static void main(String[] args) {\r\n\t\t//Robot class objects\r\n\t\tRobot r1 = new Robot(&quot;Jerry&quot;, &quot;Red&quot;, 30);\r\n\t\tr1.introduceself();\r\n\t\tRobot r2 = new Robot(&quot;Tom&quot;, &quot;Blue&quot;, 40);\r\n\t\tr2.introduceself();\r\n\t\t\r\n\t\t//Person class objects\r\n\t\tPerson p1 = new Person(&quot;Alice&quot;, &quot;Aggresive&quot;, false);\r\n\t\tPerson p2 = new Person(&quot;Becky&quot;, &quot;Talkative&quot;, true);\r\n\t\tp1.robotOwned = r2;\r\n\t        p2.robotOwned = r1;\r\n\t\t\r\n\t\tp1.robotOwned.introduceself(); //same as r2.introduceself()\r\n\t\tp2.robotOwned.introduceself(); //same as r1.introduceself()\r\n\t\tp1.isOwnedby();\r\n\t}\r\n}\r\n\r\nclass Robot \r\n{\r\n    String rname;\r\n    String color;\r\n    int weight;\r\n    \r\n    //constructor\r\n    Robot (String n, String c, int w)\r\n    {\r\n        this.rname = n;\r\n        this.color = c;\r\n        this.weight = w;\r\n    }\r\n    \r\n    void introduceself()\r\n    {\r\n        System.out.println(&quot;My name is &quot; + this.rname);\r\n    }\r\n    \r\n    public String rname()\r\n    {\r\n        return rname;\r\n    }\r\n}\r\n\r\nclass Person\r\n{\r\n    String name;\r\n    String personality;\r\n    boolean isSitting;\r\n    Robot robotOwned;\r\n    \r\n    //constructor\r\n    Person (String n, String p, boolean i)\r\n    {\r\n        this.name = n;\r\n        this.personality = p;\r\n        this.isSitting = i;\r\n    }\r\n    \r\n    \r\n    //methods\r\n    \r\n    void isOwnedby()\r\n    {\r\n        System.out.println(r1.rname() + &quot;is owned by&quot; + this.name);\r\n    }\r\n      \r\n    public String pname()\r\n    {\r\n        return name;\r\n    }\r\n}\r\n```\r\n","title":"How to access the attributes of another class in the a class method","body":"<p>Basically, I wanted to print (robot_name &quot;is owned by&quot; person_name) where robot_name is the atrribute of class Robot and person_name is of class Person.\nI am printing this in method of class Person named as isOwnedby()</p>\n<p>Actually, I want to access rname attribute of r1 object of class Robot in the function of class Person named as isOwnedby(). But, iam getteing following errors,</p>\n<p>error: cannot find symbol\nSystem.out.println(r1.rname() + &quot;is owned by&quot; + this.name);\n^\nsymbol:   variable r1\nlocation: class Person</p>\n<p>The code snippet is as follows,</p>\n<pre><code>public class Main\n{\n    public static void main(String[] args) {\n        //Robot class objects\n        Robot r1 = new Robot(&quot;Jerry&quot;, &quot;Red&quot;, 30);\n        r1.introduceself();\n        Robot r2 = new Robot(&quot;Tom&quot;, &quot;Blue&quot;, 40);\n        r2.introduceself();\n        \n        //Person class objects\n        Person p1 = new Person(&quot;Alice&quot;, &quot;Aggresive&quot;, false);\n        Person p2 = new Person(&quot;Becky&quot;, &quot;Talkative&quot;, true);\n        p1.robotOwned = r2;\n            p2.robotOwned = r1;\n        \n        p1.robotOwned.introduceself(); //same as r2.introduceself()\n        p2.robotOwned.introduceself(); //same as r1.introduceself()\n        p1.isOwnedby();\n    }\n}\n\nclass Robot \n{\n    String rname;\n    String color;\n    int weight;\n    \n    //constructor\n    Robot (String n, String c, int w)\n    {\n        this.rname = n;\n        this.color = c;\n        this.weight = w;\n    }\n    \n    void introduceself()\n    {\n        System.out.println(&quot;My name is &quot; + this.rname);\n    }\n    \n    public String rname()\n    {\n        return rname;\n    }\n}\n\nclass Person\n{\n    String name;\n    String personality;\n    boolean isSitting;\n    Robot robotOwned;\n    \n    //constructor\n    Person (String n, String p, boolean i)\n    {\n        this.name = n;\n        this.personality = p;\n        this.isSitting = i;\n    }\n    \n    \n    //methods\n    \n    void isOwnedby()\n    {\n        System.out.println(r1.rname() + &quot;is owned by&quot; + this.name);\n    }\n      \n    public String pname()\n    {\n        return name;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","jwt"],"answers":[{"tags":[],"owner":{"account_id":19242426,"reputation":158,"user_id":14062144,"display_name":"Ilya Lisov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699695060,"creation_date":1699695060,"answer_id":77464549,"question_id":77463327,"body_markdown":"You can store your secret in `.env` file and put a placeholder in `application.properties`.\r\n\r\n1) Put `.env` file in your project root.\r\n2) Add line `SECRET_KEY=somekey`\r\n3) Adjust `application.properties` to contain next properties:\r\n\r\n```\r\nspring.config.import=optional:file:.env[.properties]\r\njwtKey=${SECRET_KEY}\r\n```\r\n\r\n4) Get key in application via `@Value(&#39;${jwtKey}&#39;)\r\n\r\nAfter this, Spring will take your key from `application.properties` and goes down to `.env` file.\r\n\r\nThis `.env` file is stored only on your computer, do not share it across the Internet.\r\n\r\nAlso with this approach any developer can provide its own secret key and run your app.\r\n\r\n**RECOMENDATIONS:**\r\n * Move as much properties as you can to `.env` file. It will make your app more configurable without rebuilding (for example when use Docker)","title":"How to get secret key for reading JWT in Spring Boot","body":"<p>You can store your secret in <code>.env</code> file and put a placeholder in <code>application.properties</code>.</p>\n<ol>\n<li>Put <code>.env</code> file in your project root.</li>\n<li>Add line <code>SECRET_KEY=somekey</code></li>\n<li>Adjust <code>application.properties</code> to contain next properties:</li>\n</ol>\n<pre><code>spring.config.import=optional:file:.env[.properties]\njwtKey=${SECRET_KEY}\n</code></pre>\n<ol start=\"4\">\n<li>Get key in application via `@Value('${jwtKey}')</li>\n</ol>\n<p>After this, Spring will take your key from <code>application.properties</code> and goes down to <code>.env</code> file.</p>\n<p>This <code>.env</code> file is stored only on your computer, do not share it across the Internet.</p>\n<p>Also with this approach any developer can provide its own secret key and run your app.</p>\n<p><strong>RECOMENDATIONS:</strong></p>\n<ul>\n<li>Move as much properties as you can to <code>.env</code> file. It will make your app more configurable without rebuilding (for example when use Docker)</li>\n</ul>\n"}],"owner":{"account_id":25091091,"reputation":3,"user_id":18942722,"display_name":"ramalandajo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699695060,"creation_date":1699659272,"question_id":77463327,"body_markdown":"I am doing a simple spring boot app, I already did the login method which creates the JWT signed with a secret key. The secret key is autogenerated each time I run the app in the SecurityConfig class. Now what I want to do is get the token from any request and verify the role of the user (which I implemented using a simple Enumeration with 3 different type of users) to see if that role is authorized or not to do the request. I have seen some people writing the secret key in the application.properties and accessing it with the @Value annotation, however because the secret key is autogenerated, I cannot save it in the application.properties. I know storing it in application.properties is not safe, but its just a project i&#39;m doing to improve my knowledge, not really trying to be super safe here. Any tips on how to inject/get the secret key for reading any jwt?\r\n\r\nHere is the method that creates the secret key in the SecurityConfig class\r\n```\r\n    @Bean\r\n    public SecretKey secretKey() {\r\n        SecretKey secretKey = Keys.secretKeyFor(SignatureAlgorithm.HS256);\r\n        byte[] encodedKey = secretKey.getEncoded();\r\n        String encodedKeyBase64 = Base64.getEncoder().encodeToString(encodedKey);\r\n\r\n        System.out.println(&quot;Secret Key (Base64): &quot; + encodedKeyBase64);\r\n\r\n        return secretKey;\r\n    }\r\n```\r\nWhich is then passed for the constructor of the JwtAuthFilter\r\n```\r\n    @Bean\r\n    public JwtAuthFilter jwtAuth() {\r\n        return new JwtAuthFilter(secretKey());\r\n    }\r\n```\r\nHere is what I had planned for reading the JWT in the controller for creating buildings (edificio = building its just in spanish)\r\n```\r\n@RestController\r\n@RequestMapping(path =&quot;tpo_apis/edificios&quot;)\r\npublic class EdificioController {\r\n\r\n    @Autowired\r\n    private EdificioService edificioService;\r\n    @Value(&quot;${jwt.secret}&quot;)\r\n    private SecretKey secret;\r\n\r\n    @PostMapping(path =&quot;/&quot;)\r\n    public ResponseEntity&lt;?&gt; createEdificio(@RequestBody EdificioModel edificio, @RequestHeader(name = &quot;Authorization&quot;) String token) throws Exception {\r\n        Claims claims = Jwts.parser()\r\n                .verifyWith(secret) // secret should be the secret key to read the token\r\n                .build()\r\n                .parseSignedClaims(token.replace(&quot;Bearer &quot;, &quot;&quot;))\r\n                .getPayload();\r\n\r\n        System.out.println(claims.getSubject());\r\n        return new ResponseEntity&lt;&gt;(edificioService.createEdificio(edificio), HttpStatus.CREATED);\r\n```\r\nAnd here is how I did the creation of the JWT although I dont think it really matters.\r\n```\r\n    @PostMapping(&quot;/login&quot;)\r\n    public ResponseEntity&lt;String&gt; login(@RequestBody UsuarioModelDTO credentials) {\r\n        // Validar las credenciales aqu&#237; (puedes usar Spring Security u otros\r\n        // mecanismos)\r\n        UsuarioModel usuario = this.usuarioService.findUsuario(credentials.getUsuario(), credentials.getPassword());\r\n        if (usuario != null) {\r\n            // Crear el token JWT\r\n            String token = Jwts.builder()\r\n                    .subject(credentials.getUsuario()).issuedAt(new Date())\r\n                    .claim(&quot;rol&quot;, usuario.getTipoUsuario())\r\n                    .issuedAt(new Date())\r\n                    .expiration(new Date(System.currentTimeMillis() + EXPIRATION_TIME_IN_MIN * 60 * 1000))\r\n                    .signWith(secretKey, SignatureAlgorithm.HS256).compact();\r\n            return new ResponseEntity&lt;&gt;(token, HttpStatus.OK);\r\n```","title":"How to get secret key for reading JWT in Spring Boot","body":"<p>I am doing a simple spring boot app, I already did the login method which creates the JWT signed with a secret key. The secret key is autogenerated each time I run the app in the SecurityConfig class. Now what I want to do is get the token from any request and verify the role of the user (which I implemented using a simple Enumeration with 3 different type of users) to see if that role is authorized or not to do the request. I have seen some people writing the secret key in the application.properties and accessing it with the @Value annotation, however because the secret key is autogenerated, I cannot save it in the application.properties. I know storing it in application.properties is not safe, but its just a project i'm doing to improve my knowledge, not really trying to be super safe here. Any tips on how to inject/get the secret key for reading any jwt?</p>\n<p>Here is the method that creates the secret key in the SecurityConfig class</p>\n<pre><code>    @Bean\n    public SecretKey secretKey() {\n        SecretKey secretKey = Keys.secretKeyFor(SignatureAlgorithm.HS256);\n        byte[] encodedKey = secretKey.getEncoded();\n        String encodedKeyBase64 = Base64.getEncoder().encodeToString(encodedKey);\n\n        System.out.println(&quot;Secret Key (Base64): &quot; + encodedKeyBase64);\n\n        return secretKey;\n    }\n</code></pre>\n<p>Which is then passed for the constructor of the JwtAuthFilter</p>\n<pre><code>    @Bean\n    public JwtAuthFilter jwtAuth() {\n        return new JwtAuthFilter(secretKey());\n    }\n</code></pre>\n<p>Here is what I had planned for reading the JWT in the controller for creating buildings (edificio = building its just in spanish)</p>\n<pre><code>@RestController\n@RequestMapping(path =&quot;tpo_apis/edificios&quot;)\npublic class EdificioController {\n\n    @Autowired\n    private EdificioService edificioService;\n    @Value(&quot;${jwt.secret}&quot;)\n    private SecretKey secret;\n\n    @PostMapping(path =&quot;/&quot;)\n    public ResponseEntity&lt;?&gt; createEdificio(@RequestBody EdificioModel edificio, @RequestHeader(name = &quot;Authorization&quot;) String token) throws Exception {\n        Claims claims = Jwts.parser()\n                .verifyWith(secret) // secret should be the secret key to read the token\n                .build()\n                .parseSignedClaims(token.replace(&quot;Bearer &quot;, &quot;&quot;))\n                .getPayload();\n\n        System.out.println(claims.getSubject());\n        return new ResponseEntity&lt;&gt;(edificioService.createEdificio(edificio), HttpStatus.CREATED);\n</code></pre>\n<p>And here is how I did the creation of the JWT although I dont think it really matters.</p>\n<pre><code>    @PostMapping(&quot;/login&quot;)\n    public ResponseEntity&lt;String&gt; login(@RequestBody UsuarioModelDTO credentials) {\n        // Validar las credenciales aquí (puedes usar Spring Security u otros\n        // mecanismos)\n        UsuarioModel usuario = this.usuarioService.findUsuario(credentials.getUsuario(), credentials.getPassword());\n        if (usuario != null) {\n            // Crear el token JWT\n            String token = Jwts.builder()\n                    .subject(credentials.getUsuario()).issuedAt(new Date())\n                    .claim(&quot;rol&quot;, usuario.getTipoUsuario())\n                    .issuedAt(new Date())\n                    .expiration(new Date(System.currentTimeMillis() + EXPIRATION_TIME_IN_MIN * 60 * 1000))\n                    .signWith(secretKey, SignatureAlgorithm.HS256).compact();\n            return new ResponseEntity&lt;&gt;(token, HttpStatus.OK);\n</code></pre>\n"},{"tags":["java","spring-boot","validation"],"comments":[{"owner":{"account_id":6371426,"reputation":470,"user_id":4943720,"display_name":"Johannes Becker"},"score":0,"creation_date":1699516158,"post_id":77448764,"comment_id":136542312,"body_markdown":"You should consider &quot;accepting&quot; correct answers.","body":"You should consider &quot;accepting&quot; correct answers."}],"answers":[{"tags":[],"owner":{"account_id":4989848,"reputation":1593,"user_id":4012408,"display_name":"Rafael Guillen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699695044,"creation_date":1699477775,"answer_id":77448962,"question_id":77448764,"body_markdown":"According to your description, you need a `String` instead a `Long` for `mobNo`. Imagine you have a phone number like this: `0005550001`, as a `Long` the value is `550001`. The validation for a `String` should be something like:\r\n\r\n```\r\n@Size(min = 10, max = 10, message = &quot;Mobile number length should be 10 characters.&quot;)\r\nprivate String mobNo;\r\n```\r\n\r\nEdit:\r\nA good and more comprehensive alternative is to validate against a regular expression matching 10 digits:\r\n```\r\n@Pattern(regexp = &quot;^\\d{10}$&quot;, message = &quot;Mobile number length should be 10 characters.&quot;)\r\nprivate String mobNo;\r\n```\r\n\r\nEdit:\r\nAdding comment to the answer\r\n\r\nIf `mobNo` is a `Long` and you can&#39;t change it to `String`, validate it with:\r\n\r\n```java\r\n@Min(1_000_000_000L)\r\n@Max(9_999_999_999L)\r\nLong mobNo\r\n```\r\n\r\nThis is the value range where a Long has 10 digits.\r\n\r\nHowever, consider the example above before choosing Long or a phone number field: \r\n\r\nEx:`0_005_550_001`, \r\n\r\nthis is a valid phone number, but as a `Long` its represented like `550001`.","title":"javax entity validation is not working for @Min and @Max having same value(like moblieNo should be of exact 10 digits)","body":"<p>According to your description, you need a <code>String</code> instead a <code>Long</code> for <code>mobNo</code>. Imagine you have a phone number like this: <code>0005550001</code>, as a <code>Long</code> the value is <code>550001</code>. The validation for a <code>String</code> should be something like:</p>\n<pre><code>@Size(min = 10, max = 10, message = &quot;Mobile number length should be 10 characters.&quot;)\nprivate String mobNo;\n</code></pre>\n<p>Edit:\nA good and more comprehensive alternative is to validate against a regular expression matching 10 digits:</p>\n<pre><code>@Pattern(regexp = &quot;^\\d{10}$&quot;, message = &quot;Mobile number length should be 10 characters.&quot;)\nprivate String mobNo;\n</code></pre>\n<p>Edit:\nAdding comment to the answer</p>\n<p>If <code>mobNo</code> is a <code>Long</code> and you can't change it to <code>String</code>, validate it with:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Min(1_000_000_000L)\n@Max(9_999_999_999L)\nLong mobNo\n</code></pre>\n<p>This is the value range where a Long has 10 digits.</p>\n<p>However, consider the example above before choosing Long or a phone number field:</p>\n<p>Ex:<code>0_005_550_001</code>,</p>\n<p>this is a valid phone number, but as a <code>Long</code> its represented like <code>550001</code>.</p>\n"},{"tags":[],"owner":{"account_id":6371426,"reputation":470,"user_id":4943720,"display_name":"Johannes Becker"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699477866,"creation_date":1699477866,"answer_id":77448971,"question_id":77448764,"body_markdown":"You have a field defined as Long, which is a number. The @min @max annotations are used for numeric comparison. So actually you say `10 &lt;= mobNo &lt;= 10`. Which means mobNo must be equal to 10.\r\n\r\nInterpreting your messages, what you actually want to do is, having a phone number with ten digits (which would be a string and not long). If it is a String the @Size(min,max) annotation can be used. See documentation.","title":"javax entity validation is not working for @Min and @Max having same value(like moblieNo should be of exact 10 digits)","body":"<p>You have a field defined as Long, which is a number. The @min @max annotations are used for numeric comparison. So actually you say <code>10 &lt;= mobNo &lt;= 10</code>. Which means mobNo must be equal to 10.</p>\n<p>Interpreting your messages, what you actually want to do is, having a phone number with ten digits (which would be a string and not long). If it is a String the @Size(min,max) annotation can be used. See documentation.</p>\n"}],"owner":{"account_id":29858470,"reputation":1,"user_id":22882742,"display_name":"Deepak Kumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1699695044,"creation_date":1699475369,"question_id":77448764,"body_markdown":"        @NotNull(message = &quot;Mobile number cannot be null.&quot;)\r\n\t@Max(value = 10, message =&quot;Mobile number length should be 10 characters.&quot; )\r\n\t@Min(value = 10, message =&quot;Mobile number length should be 10 characters.&quot; )\r\n\t@Column(name = &quot;mob_no&quot;)\r\n\tprivate Long mobNo;\r\n\r\nit should not give the message  &quot;Mobile number length should be 10 characters.&quot; in case giving 10 Digits value","title":"javax entity validation is not working for @Min and @Max having same value(like moblieNo should be of exact 10 digits)","body":"<pre><code>    @NotNull(message = &quot;Mobile number cannot be null.&quot;)\n@Max(value = 10, message =&quot;Mobile number length should be 10 characters.&quot; )\n@Min(value = 10, message =&quot;Mobile number length should be 10 characters.&quot; )\n@Column(name = &quot;mob_no&quot;)\nprivate Long mobNo;\n</code></pre>\n<p>it should not give the message  &quot;Mobile number length should be 10 characters.&quot; in case giving 10 Digits value</p>\n"},{"tags":["java","javafx","java-20"],"answers":[{"tags":[],"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1699695006,"creation_date":1699694669,"answer_id":77464533,"question_id":77464314,"body_markdown":"**Preface:**\r\n\r\nYour code/stacktrace looks like `anchrMaster` is an `AnchorPane` and you are loading a `SplitPane` into it.\r\n\r\nThe method `loader.load()` loads the fxml file and returns a node of the root tag of the fxml file.\r\n\r\nI suggest, that your fxml file has a `SplitPane` as root node.\r\n\r\n**Solution:**\r\n\r\nLoad your fxml file into a parent node object and replace the content of your `AnchorPane` with it.\r\n\r\n    Parent root = loader.load();\r\n    anchrMaster.getChildren().clear();\r\n    anchrMaster.getChildren().add(root);","title":"Load FXML Files in Anchorpane","body":"<p><strong>Preface:</strong></p>\n<p>Your code/stacktrace looks like <code>anchrMaster</code> is an <code>AnchorPane</code> and you are loading a <code>SplitPane</code> into it.</p>\n<p>The method <code>loader.load()</code> loads the fxml file and returns a node of the root tag of the fxml file.</p>\n<p>I suggest, that your fxml file has a <code>SplitPane</code> as root node.</p>\n<p><strong>Solution:</strong></p>\n<p>Load your fxml file into a parent node object and replace the content of your <code>AnchorPane</code> with it.</p>\n<pre><code>Parent root = loader.load();\nanchrMaster.getChildren().clear();\nanchrMaster.getChildren().add(root);\n</code></pre>\n"}],"owner":{"account_id":29234450,"reputation":17,"user_id":22397364,"display_name":"Rashid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77464533,"answer_count":1,"score":0,"last_activity_date":1699695006,"creation_date":1699689719,"question_id":77464314,"body_markdown":"I Have a Main Anchorpane. Inside this anchorpane I have a Splitpane and inside this splitpane there is two Anchorpane(masterAnchorpane and sidebarAnchorpane). So I want to load rest of my FXML files in masterAnchorpane [IMAGE ATTACHED FOR REFERENCE](https://i.stack.imgur.com/NCuX6.png).\r\nI tried so many solutions in this case, but I can&#39;t solve this issue.\r\n\r\nThis is my code. Also I try many of codes to solve this.\r\n\r\n```\r\nFXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;/FXML/CRM/Customer/customerMaster.fxml&quot;));\r\n                anchrMaster = loader.load();\r\n                CustomerMasterController cmc = loader.getController();\r\n                scene_customer = new Scene(anchrMaster);\r\n                stage_customer.setScene(scene_customer);\r\n                stage_customer.setResizable(false);\r\n                cmc.setStage(stage_customer);\r\n                stage_customer.show();\r\n```\r\nError Shows in this code\r\n\r\n```\r\nclass javafx.scene.control.SplitPane cannot be cast to class \r\njavafx.scene.layout.AnchorPane (javafx.scene.control.SplitPane is in module \r\njavafx.controls@20 of loader &#39;app&#39;; javafx.scene.layout.AnchorPane is in \r\nmodule javafx.graphics@20 of loader &#39;app&#39;)\r\n```\r\n\r\n\r\nSo please help to solve this issue.\r\nI&#39;m a newbie in java and also there is limited references for Javafx20.\r\nThanks for Advance","title":"Load FXML Files in Anchorpane","body":"<p>I Have a Main Anchorpane. Inside this anchorpane I have a Splitpane and inside this splitpane there is two Anchorpane(masterAnchorpane and sidebarAnchorpane). So I want to load rest of my FXML files in masterAnchorpane <a href=\"https://i.stack.imgur.com/NCuX6.png\" rel=\"nofollow noreferrer\">IMAGE ATTACHED FOR REFERENCE</a>.\nI tried so many solutions in this case, but I can't solve this issue.</p>\n<p>This is my code. Also I try many of codes to solve this.</p>\n<pre><code>FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;/FXML/CRM/Customer/customerMaster.fxml&quot;));\n                anchrMaster = loader.load();\n                CustomerMasterController cmc = loader.getController();\n                scene_customer = new Scene(anchrMaster);\n                stage_customer.setScene(scene_customer);\n                stage_customer.setResizable(false);\n                cmc.setStage(stage_customer);\n                stage_customer.show();\n</code></pre>\n<p>Error Shows in this code</p>\n<pre><code>class javafx.scene.control.SplitPane cannot be cast to class \njavafx.scene.layout.AnchorPane (javafx.scene.control.SplitPane is in module \njavafx.controls@20 of loader 'app'; javafx.scene.layout.AnchorPane is in \nmodule javafx.graphics@20 of loader 'app')\n</code></pre>\n<p>So please help to solve this issue.\nI'm a newbie in java and also there is limited references for Javafx20.\nThanks for Advance</p>\n"},{"tags":["java","spring","spring-boot"],"owner":{"account_id":29180693,"reputation":1,"user_id":22354956,"display_name":"Max"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699694942,"creation_date":1699694942,"question_id":77464541,"body_markdown":"I have a \r\n\r\n```java\r\npublic class OAuth2AuthenticationSuccessHandler extends SavedRequestAwareAuthenticationSuccessHandler\r\n```\r\n\r\nwith method\r\n\r\n```java\r\n    @Override\r\n    public void onAuthenticationSuccess(HttpServletRequest request, HttpServletResponse response,\r\n            Authentication authentication) throws IOException, ServletException {\r\n        User user = processOidcUser((DefaultOidcUser) authentication.getPrincipal());\r\n        Authentication auth = new UsernamePasswordAuthenticationToken(user, user.getPassword(), user.getAuthorities());\r\n        SecurityContextHolder.getContext().setAuthentication(auth);\r\n        super.onAuthenticationSuccess(request, response, authentication);\r\n    }\r\n```\r\n\r\nand it works fine. I can login either with Username and Password or with OAuth2.\r\n\r\nBut for some reason, in both options, there seems to be a \r\n\r\n```java\r\nSavedRequest savedRequest = this.requestCache.getRequest(request, response);\r\n```\r\n\r\nwhich has a bug: If there is an element on the frontpage that cannot be loaded, the SavedRequest does not forward to the URL where it should with &quot;?continue&quot;, but instead it forwards to the URL which returned 404.\r\n\r\n\r\nI can only avoid this by not having dead links anywhere, but as this can happen from time to time, it is annoying that this happens even after I specified setDefaultTargetUrl(&quot;/&quot;); it still forwards to the dead link.\r\n\r\nI also tried to check this link in SavedRequest for status code, but apparently, Spring resolves the 404 internally and returns 200 on the 404 page.","title":"Prevent 404 to load from SavedRequest","body":"<p>I have a</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class OAuth2AuthenticationSuccessHandler extends SavedRequestAwareAuthenticationSuccessHandler\n</code></pre>\n<p>with method</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Override\n    public void onAuthenticationSuccess(HttpServletRequest request, HttpServletResponse response,\n            Authentication authentication) throws IOException, ServletException {\n        User user = processOidcUser((DefaultOidcUser) authentication.getPrincipal());\n        Authentication auth = new UsernamePasswordAuthenticationToken(user, user.getPassword(), user.getAuthorities());\n        SecurityContextHolder.getContext().setAuthentication(auth);\n        super.onAuthenticationSuccess(request, response, authentication);\n    }\n</code></pre>\n<p>and it works fine. I can login either with Username and Password or with OAuth2.</p>\n<p>But for some reason, in both options, there seems to be a</p>\n<pre class=\"lang-java prettyprint-override\"><code>SavedRequest savedRequest = this.requestCache.getRequest(request, response);\n</code></pre>\n<p>which has a bug: If there is an element on the frontpage that cannot be loaded, the SavedRequest does not forward to the URL where it should with &quot;?continue&quot;, but instead it forwards to the URL which returned 404.</p>\n<p>I can only avoid this by not having dead links anywhere, but as this can happen from time to time, it is annoying that this happens even after I specified setDefaultTargetUrl(&quot;/&quot;); it still forwards to the dead link.</p>\n<p>I also tried to check this link in SavedRequest for status code, but apparently, Spring resolves the 404 internally and returns 200 on the 404 page.</p>\n"},{"tags":["java","jobs","nomad"],"owner":{"account_id":16204734,"reputation":1,"user_id":11700212,"display_name":"Игорь Аксёнов"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699694692,"creation_date":1699694692,"question_id":77464535,"body_markdown":"If a nomad job got 137 error or template re-rendered after changing value in vault, job restarts and then stuck in pending state. Driver java. Jobs with driver exec restarts succesfully. Nomad version 1.6.2.\r\n[job](https://i.stack.imgur.com/kPQFp.png)\r\n[task](https://i.stack.imgur.com/rkmej.png)\r\nJob hcl:\r\n\r\n```\r\njob &quot;conv&quot; {\r\n  datacenters = [&quot;main&quot;]\r\n  type        = &quot;service&quot;\r\npriority = 55\r\n  \r\n  update {\r\n    max_parallel      = 1\r\n    min_healthy_time  = &quot;10s&quot;\r\n    healthy_deadline  = &quot;1m&quot;\r\n    progress_deadline = &quot;1m1s&quot;\r\n    auto_revert       = false\r\n    canary            = 0\r\n  }\r\n\r\n  \r\n  migrate {\r\n    max_parallel     = 1\r\n    health_check     = &quot;checks&quot;\r\n    min_healthy_time = &quot;10s&quot;\r\n    healthy_deadline = &quot;1m&quot;\r\n  }\r\n\r\n  reschedule {\r\n    delay          = &quot;30s&quot;\r\n    delay_function = &quot;constant&quot;\r\n    unlimited      = true\r\n  }\r\n\r\n  group &quot;processing&quot; {\r\n    count = 1\r\n\r\n    restart {\r\n      attempts = 2\r\n      interval = &quot;1m&quot;\r\n      delay    = &quot;15s&quot;\r\n      mode     = &quot;fail&quot;\r\n    }\r\n\r\n    task &quot;conv&quot; {\r\n      driver = &quot;java&quot;\r\n\r\n      resources {\r\n        cpu = 12000\r\n        memory = 4096\r\n      }\r\n\r\n\tconfig {\r\n    jar_path    = &quot;local/conv-3.24.2.jar&quot;\r\n\targs = [&quot;--mode&quot;, &quot;service&quot;]\r\n\tclass_path = &quot;/local&quot;\r\n    jvm_options = [&quot;-Xmx4096m&quot;, &quot;-Xms2048m&quot;]\r\n  }\r\n\r\n\r\n\t   artifact {\r\n        source      = &quot;http://nexus.XXXX/repository/raw/XXXX/3.24.2/conv-3.24.2.tar&quot;\r\n        destination = &quot;local/&quot;\r\n      }\r\n\r\n\r\n      template {\r\n        data        = &lt;&lt;EOTC\r\nmaximumPoolSize={{with secret &quot;kv/conv&quot; }}{{.Data.data.maximumPoolSize}}{{ end }}\r\nEOTC\r\n        destination = &quot;./config.properties&quot;\r\n      }\r\n\r\n      service {\r\n        name = &quot;conv&quot;\r\n        tags = [&quot;processing&quot;]\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n\r\nTryed to run this job as exec, restarted succesfully. Error occurs only with java driver.","title":"Hashicorp nomad job stuck in pending after restart","body":"<p>If a nomad job got 137 error or template re-rendered after changing value in vault, job restarts and then stuck in pending state. Driver java. Jobs with driver exec restarts succesfully. Nomad version 1.6.2.\n<a href=\"https://i.stack.imgur.com/kPQFp.png\" rel=\"nofollow noreferrer\">job</a>\n<a href=\"https://i.stack.imgur.com/rkmej.png\" rel=\"nofollow noreferrer\">task</a>\nJob hcl:</p>\n<pre><code>job &quot;conv&quot; {\n  datacenters = [&quot;main&quot;]\n  type        = &quot;service&quot;\npriority = 55\n  \n  update {\n    max_parallel      = 1\n    min_healthy_time  = &quot;10s&quot;\n    healthy_deadline  = &quot;1m&quot;\n    progress_deadline = &quot;1m1s&quot;\n    auto_revert       = false\n    canary            = 0\n  }\n\n  \n  migrate {\n    max_parallel     = 1\n    health_check     = &quot;checks&quot;\n    min_healthy_time = &quot;10s&quot;\n    healthy_deadline = &quot;1m&quot;\n  }\n\n  reschedule {\n    delay          = &quot;30s&quot;\n    delay_function = &quot;constant&quot;\n    unlimited      = true\n  }\n\n  group &quot;processing&quot; {\n    count = 1\n\n    restart {\n      attempts = 2\n      interval = &quot;1m&quot;\n      delay    = &quot;15s&quot;\n      mode     = &quot;fail&quot;\n    }\n\n    task &quot;conv&quot; {\n      driver = &quot;java&quot;\n\n      resources {\n        cpu = 12000\n        memory = 4096\n      }\n\n    config {\n    jar_path    = &quot;local/conv-3.24.2.jar&quot;\n    args = [&quot;--mode&quot;, &quot;service&quot;]\n    class_path = &quot;/local&quot;\n    jvm_options = [&quot;-Xmx4096m&quot;, &quot;-Xms2048m&quot;]\n  }\n\n\n       artifact {\n        source      = &quot;http://nexus.XXXX/repository/raw/XXXX/3.24.2/conv-3.24.2.tar&quot;\n        destination = &quot;local/&quot;\n      }\n\n\n      template {\n        data        = &lt;&lt;EOTC\nmaximumPoolSize={{with secret &quot;kv/conv&quot; }}{{.Data.data.maximumPoolSize}}{{ end }}\nEOTC\n        destination = &quot;./config.properties&quot;\n      }\n\n      service {\n        name = &quot;conv&quot;\n        tags = [&quot;processing&quot;]\n      }\n    }\n  }\n}\n</code></pre>\n<p>Tryed to run this job as exec, restarted succesfully. Error occurs only with java driver.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9791,"page":66,"page_size":100}
