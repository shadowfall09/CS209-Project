{"items":[{"tags":["java","gis","google-earth","google-earth-engine","geography"],"owner":{"account_id":25744287,"reputation":21,"user_id":19497772,"display_name":"Shadi Dorosti"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1668481242,"creation_date":1668481242,"question_id":74440170,"body_markdown":"I&#39;m trying to export the images in [TFRecords format](https://code.earthengine.google.com/7cced1b1ad573a3b1d43002a57e05649) in Google Earth Engine and I got the &quot;**tile_dimensions must be specified for TfRecord export**&quot; error:\r\n\r\nHere is the code:\r\n\r\n```\r\nvar Regoin= imageCollection.filterBounds(geometry);\r\nvar image= Regoin.filter(ee.Filter.date(&#39;2015-01-01&#39;,&#39;2021-01-01&#39;))\r\nprint(image.size())\r\n\r\n\r\nExport.image.toDrive({\r\n  image: image,\r\n  description: &quot;Chicago_Images&quot;,\r\n  folder: &#39;GEE&#39;,\r\n  fileNamePrefix:&#39;Chicago_Images_2&#39;,\r\n  region: geometry,\r\n  scale:30,\r\n  maxPixels: 50000000,\r\n  shardSize: 100,\r\n  fileDimensions:5000,\r\n  fileFormat: &#39;TFRecord&#39;,\r\n\r\n});\r\n```\r\n\r\nHow can I identify tiles?  \r\nI would appreciate your helping me solve the error.","title":"&quot;tile_dimensions&quot; error in Google Earth Engine","body":"<p>I'm trying to export the images in <a href=\"https://code.earthengine.google.com/7cced1b1ad573a3b1d43002a57e05649\" rel=\"nofollow noreferrer\">TFRecords format</a> in Google Earth Engine and I got the &quot;<strong>tile_dimensions must be specified for TfRecord export</strong>&quot; error:</p>\n<p>Here is the code:</p>\n<pre><code>var Regoin= imageCollection.filterBounds(geometry);\nvar image= Regoin.filter(ee.Filter.date('2015-01-01','2021-01-01'))\nprint(image.size())\n\n\nExport.image.toDrive({\n  image: image,\n  description: &quot;Chicago_Images&quot;,\n  folder: 'GEE',\n  fileNamePrefix:'Chicago_Images_2',\n  region: geometry,\n  scale:30,\n  maxPixels: 50000000,\n  shardSize: 100,\n  fileDimensions:5000,\n  fileFormat: 'TFRecord',\n\n});\n</code></pre>\n<p>How can I identify tiles?<br />\nI would appreciate your helping me solve the error.</p>\n"},{"tags":["java","json","deserialization","avro"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668481059,"creation_date":1668481059,"answer_id":74440147,"question_id":74438571,"body_markdown":"Create an Avro schema with only the subset fields you want. You don&#39;t need to  generate a class for that. \r\n\r\nThen you can use `JSONDecoder` class to read existing binary Avro data to JSON, and it&#39;ll only have those fields in the provided &quot;reader schema&quot;. ","title":"Filter out some fields when converting Avro specificrecord to json string","body":"<p>Create an Avro schema with only the subset fields you want. You don't need to  generate a class for that.</p>\n<p>Then you can use <code>JSONDecoder</code> class to read existing binary Avro data to JSON, and it'll only have those fields in the provided &quot;reader schema&quot;.</p>\n"}],"owner":{"account_id":26875409,"reputation":1,"user_id":20456740,"display_name":"Katrina Wan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":227,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668481059,"creation_date":1668464813,"question_id":74438571,"body_markdown":"I have some Avro SpecificRecord that I want to convert to Json string, with several fields to be filtered out. For example, I want to only include the field A and C from the following Event when generating the Json string: is there any existing libraries to do that? Or any suggestions? \r\n`\r\n```\r\npublic class Event extends org.apache.avro.specific.SpecificRecordBase implements org.apache.avro.specific.SpecificRecord {\r\n...\r\n  public String A;\r\n  public String B;\r\n  public long C;\r\n}\r\n```\r\n`\r\n\r\nDirectly calling toString does not work.","title":"Filter out some fields when converting Avro specificrecord to json string","body":"<p>I have some Avro SpecificRecord that I want to convert to Json string, with several fields to be filtered out. For example, I want to only include the field A and C from the following Event when generating the Json string: is there any existing libraries to do that? Or any suggestions?\n`</p>\n<pre><code>public class Event extends org.apache.avro.specific.SpecificRecordBase implements org.apache.avro.specific.SpecificRecord {\n...\n  public String A;\n  public String B;\n  public long C;\n}\n</code></pre>\n<p>`</p>\n<p>Directly calling toString does not work.</p>\n"},{"tags":["java","list","rest","sharepoint-2010","sharepoint-2013"],"answers":[{"tags":[],"owner":{"account_id":22330835,"reputation":702,"user_id":16552137,"display_name":"RaytheonXie-MSFT"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668479453,"creation_date":1668479453,"answer_id":74440013,"question_id":74427896,"body_markdown":"You will need to use `%20` to replace space. In your case it will be like following url\r\n\r\n    http:(site URL)/_api/web/lists/getbytitle(&#39;TWO%20WORDS&#39;)/items","title":"SharePoint REST API: Not able to get list by getByTitle when list name contains spaces","body":"<p>You will need to use <code>%20</code> to replace space. In your case it will be like following url</p>\n<pre><code>http:(site URL)/_api/web/lists/getbytitle('TWO%20WORDS')/items\n</code></pre>\n"}],"owner":{"account_id":6797714,"reputation":79,"user_id":5539389,"display_name":"Jeries Haddad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":543,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74440013,"answer_count":1,"score":0,"last_activity_date":1668479453,"creation_date":1668409155,"question_id":74427896,"body_markdown":"I am trying to fetch SharePoint list using the SharePoint REST API from my Java application.\r\n\r\nWhen the list&#39;s name does not contain a space, it works. If it contains a space it does NOT work. For example when I do the following:\r\n**http:(site URL)/_api/web/lists/getbytitle(&#39;ONEWORD&#39;)/items --&gt; it works**\r\n\r\nBut when I try on another list like this:\r\n**http:(site URL)/_api/web/lists/getbytitle(&#39;TWO WORDS&#39;)/items --&gt; it DOESN&#39;T work**\r\n\r\n\r\nI tried encoding the list name with the following in Java:\r\n**String encoded= URLEncoder.encode(&quot;TWO WORDS&quot;, &quot;UTF-8&quot;);**\r\nBut it didn&#39;t work.\r\n\r\n\r\nI know there are many questions about this same issue, however everyone is suggesting to get list items by **List GUID** but I can&#39;t use this solution as I&#39;m developing a dynamic tool for several lists with the same name. (Not the same GUID).\r\n\r\nAny suggestions?\r\nThank you\r\n","title":"SharePoint REST API: Not able to get list by getByTitle when list name contains spaces","body":"<p>I am trying to fetch SharePoint list using the SharePoint REST API from my Java application.</p>\n<p>When the list's name does not contain a space, it works. If it contains a space it does NOT work. For example when I do the following:\n<strong>http:(site URL)/_api/web/lists/getbytitle('ONEWORD')/items --&gt; it works</strong></p>\n<p>But when I try on another list like this:\n<strong>http:(site URL)/_api/web/lists/getbytitle('TWO WORDS')/items --&gt; it DOESN'T work</strong></p>\n<p>I tried encoding the list name with the following in Java:\n<strong>String encoded= URLEncoder.encode(&quot;TWO WORDS&quot;, &quot;UTF-8&quot;);</strong>\nBut it didn't work.</p>\n<p>I know there are many questions about this same issue, however everyone is suggesting to get list items by <strong>List GUID</strong> but I can't use this solution as I'm developing a dynamic tool for several lists with the same name. (Not the same GUID).</p>\n<p>Any suggestions?\nThank you</p>\n"},{"tags":["java","spring-boot","testing","junit","mockmvc"],"answers":[{"comments":[{"owner":{"account_id":21743569,"reputation":25,"user_id":16050570,"display_name":"Mansehaj Singh"},"score":0,"creation_date":1668463868,"post_id":74427339,"comment_id":131406927,"body_markdown":"Thanks for your reply. I tried that, but it looks like it still will not work. The docs you sent reinforced that BeforeAll has to be on a static method. Unfortunately, I&#39;m not sure how to access my mockmvc from a static method when it is injected.","body":"Thanks for your reply. I tried that, but it looks like it still will not work. The docs you sent reinforced that BeforeAll has to be on a static method. Unfortunately, I&#39;m not sure how to access my mockmvc from a static method when it is injected."},{"owner":{"account_id":9706811,"reputation":2870,"user_id":7200018,"display_name":"GnanaJeyam"},"score":0,"creation_date":1668508733,"post_id":74427339,"comment_id":131416873,"body_markdown":"cool. Did you tried by adding `@TestInstance(TestInstance.Lifecycle.PER_CLASS)` in your class and remove the private modifier.. ?","body":"cool. Did you tried by adding <code>@TestInstance(TestInstance.Lifecycle.PER_CLASS)</code> in your class and remove the private modifier.. ?"}],"tags":[],"owner":{"account_id":9706811,"reputation":2870,"user_id":7200018,"display_name":"GnanaJeyam"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668404412,"creation_date":1668404412,"answer_id":74427339,"question_id":74426882,"body_markdown":"I believe the `@BeforeAll` should not be private but you have added that.\r\nThat is the reason it is not invoking your method.\r\n\r\nRefer:\r\nhttps://junit.org/junit5/docs/5.0.0/api/org/junit/jupiter/api/BeforeAll.html","title":"Using MockMvc inside of @BeforeAll static method","body":"<p>I believe the <code>@BeforeAll</code> should not be private but you have added that.\nThat is the reason it is not invoking your method.</p>\n<p>Refer:\n<a href=\"https://junit.org/junit5/docs/5.0.0/api/org/junit/jupiter/api/BeforeAll.html\" rel=\"nofollow noreferrer\">https://junit.org/junit5/docs/5.0.0/api/org/junit/jupiter/api/BeforeAll.html</a></p>\n"},{"tags":[],"owner":{"account_id":21743569,"reputation":25,"user_id":16050570,"display_name":"Mansehaj Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668479369,"creation_date":1668479369,"answer_id":74440003,"question_id":74426882,"body_markdown":"It turns out I was on junit 4 and needed to use @BeforeClass to be able to call it. I ended up instead using an @Before method and just using a boolean value to check if the call had already been made.","title":"Using MockMvc inside of @BeforeAll static method","body":"<p>It turns out I was on junit 4 and needed to use @BeforeClass to be able to call it. I ended up instead using an @Before method and just using a boolean value to check if the call had already been made.</p>\n"}],"owner":{"account_id":21743569,"reputation":25,"user_id":16050570,"display_name":"Mansehaj Singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":406,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74440003,"answer_count":2,"score":0,"last_activity_date":1668479369,"creation_date":1668399356,"question_id":74426882,"body_markdown":"I am writing some integration tests in which I need to send in an api call to create a resource and then perform subsequent api calls based on that resource. I wanted to send the first call inside my @BeforeAll method.\r\n\r\nIn my test class:\r\n\r\n```\r\n@RunWith(SpringRunner.class)\r\n@SpringBootTest\r\n@AutoConfigureMockMvc\r\n@ActiveProfiles(&quot;test&quot;)\r\n@TestInstance(TestInstance.Lifecycle.PER_CLASS)\r\npublic class ExampleResourceTest {\r\n\r\n    @Autowired\r\n    private MockMvc mockMvc;\r\n\r\n\r\n    @BeforeAll\r\n    private void createExampleResource() throws Exception {\r\n        Map&lt;String, Object&gt; requestBody = new HashMap&lt;&gt;();\r\n\r\n        requestBody.put(&quot;email&quot;, &quot;example@email.com&quot;);\r\n        requestBody.put(&quot;username&quot;, &quot;example&quot;);\r\n        requestBody.put(&quot;firstName&quot;, &quot;Example&quot;);\r\n        requestBody.put(&quot;lastName&quot;, &quot;Name&quot;);\r\n        requestBody.put(&quot;password&quot;, &quot;@password123&quot;);\r\n\r\n        Gson gson = new Gson();\r\n\r\n        String json = gson.toJson(requestBody);\r\n\r\n        mockMvc.perform(\r\n                    post(&quot;/api/v1/resourcename&quot;)\r\n                            .contentType(MediaType.APPLICATION_JSON)\r\n                            .content(json));\r\n    }\r\n\r\n    // More stuff...\r\n}\r\n```\r\n\r\nHowever, the method annotated @BeforeAll method is not being called before I run the tests in the class.\r\n\r\nAs I understand from trying to find a solution, @BeforeAll methods need to be static. However, then I wouldn&#39;t be able to use my injected MockMvc. I&#39;ve also tried annotating my test class with\r\n`@TestInstance(TestInstance.Lifecycle.PER_CLASS)`, but I&#39;ve faced no luck with that either.\r\n","title":"Using MockMvc inside of @BeforeAll static method","body":"<p>I am writing some integration tests in which I need to send in an api call to create a resource and then perform subsequent api calls based on that resource. I wanted to send the first call inside my @BeforeAll method.</p>\n<p>In my test class:</p>\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest\n@AutoConfigureMockMvc\n@ActiveProfiles(&quot;test&quot;)\n@TestInstance(TestInstance.Lifecycle.PER_CLASS)\npublic class ExampleResourceTest {\n\n    @Autowired\n    private MockMvc mockMvc;\n\n\n    @BeforeAll\n    private void createExampleResource() throws Exception {\n        Map&lt;String, Object&gt; requestBody = new HashMap&lt;&gt;();\n\n        requestBody.put(&quot;email&quot;, &quot;example@email.com&quot;);\n        requestBody.put(&quot;username&quot;, &quot;example&quot;);\n        requestBody.put(&quot;firstName&quot;, &quot;Example&quot;);\n        requestBody.put(&quot;lastName&quot;, &quot;Name&quot;);\n        requestBody.put(&quot;password&quot;, &quot;@password123&quot;);\n\n        Gson gson = new Gson();\n\n        String json = gson.toJson(requestBody);\n\n        mockMvc.perform(\n                    post(&quot;/api/v1/resourcename&quot;)\n                            .contentType(MediaType.APPLICATION_JSON)\n                            .content(json));\n    }\n\n    // More stuff...\n}\n</code></pre>\n<p>However, the method annotated @BeforeAll method is not being called before I run the tests in the class.</p>\n<p>As I understand from trying to find a solution, @BeforeAll methods need to be static. However, then I wouldn't be able to use my injected MockMvc. I've also tried annotating my test class with\n<code>@TestInstance(TestInstance.Lifecycle.PER_CLASS)</code>, but I've faced no luck with that either.</p>\n"},{"tags":["java","apache-kafka","apache-kafka-connect","amazon-kinesis"],"answers":[{"comments":[{"owner":{"account_id":9338146,"reputation":133,"user_id":6931769,"display_name":"Yogesh Katkar"},"score":0,"creation_date":1669790839,"post_id":74439972,"comment_id":131720501,"body_markdown":"Thanks, we are introducing a backup solution to store the offsets","body":"Thanks, we are introducing a backup solution to store the offsets"}],"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668479044,"creation_date":1668479044,"answer_id":74439972,"question_id":74152317,"body_markdown":"No, Kafka Connect can only store offsets on the cluster configured as `boostrap.servers` in its worker properties file. \r\n\r\nYou could use MirrorMaker to replicate connect-offsets / consumer offsets topic to a separate cluster, but Connect wouldn&#39;t know about the other cluster on its own. ","title":"Configuring Separate Broker for Storing Offsets on Kafka Topic in a Kafka Connector","body":"<p>No, Kafka Connect can only store offsets on the cluster configured as <code>boostrap.servers</code> in its worker properties file.</p>\n<p>You could use MirrorMaker to replicate connect-offsets / consumer offsets topic to a separate cluster, but Connect wouldn't know about the other cluster on its own.</p>\n"}],"owner":{"account_id":9338146,"reputation":133,"user_id":6931769,"display_name":"Yogesh Katkar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74439972,"answer_count":1,"score":0,"last_activity_date":1668479044,"creation_date":1666348301,"question_id":74152317,"body_markdown":"As I am newbie to Kafka and Kafka Connector, I have a use case where we are pushing data from Kinesis Stream to Kafka Topic, as this will be a plug and play feature we are using Kafka Connect to serve the use case. In this use case we are storing the offsets on Kafka Topic which will be usually created on broker which we configured but the case here is we have the brokers which are on clients environment and we don&#39;t want to give the offset data to the client as in case of any failures if they loose the data then we will not be able to restore the data from last checkpoint.\r\nDo we have any provision or any way in Kafka Connect where we can store offset on a separate topic on its own broker and customer&#39;s data topic on customers broker","title":"Configuring Separate Broker for Storing Offsets on Kafka Topic in a Kafka Connector","body":"<p>As I am newbie to Kafka and Kafka Connector, I have a use case where we are pushing data from Kinesis Stream to Kafka Topic, as this will be a plug and play feature we are using Kafka Connect to serve the use case. In this use case we are storing the offsets on Kafka Topic which will be usually created on broker which we configured but the case here is we have the brokers which are on clients environment and we don't want to give the offset data to the client as in case of any failures if they loose the data then we will not be able to restore the data from last checkpoint.\nDo we have any provision or any way in Kafka Connect where we can store offset on a separate topic on its own broker and customer's data topic on customers broker</p>\n"},{"tags":["java","apache-kafka","kafka-consumer-api","spring-kafka"],"answers":[{"comments":[{"owner":{"account_id":9212208,"reputation":1425,"user_id":6844910,"display_name":"Dushan"},"score":0,"creation_date":1668436091,"post_id":74433126,"comment_id":131397687,"body_markdown":"this is available https://docs.spring.io/spring-kafka/reference/html/#monitoring-listener-performance, but dont know how to apply it.","body":"this is available <a href=\"https://docs.spring.io/spring-kafka/reference/html/#monitoring-listener-performance\" rel=\"nofollow noreferrer\">docs.spring.io/spring-kafka/reference/html/&hellip;</a>, but dont know how to apply it."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1668436644,"post_id":74433126,"comment_id":131397892,"body_markdown":"Have you enabled Spring Actuator? Did you look at the metrics endpoint while the app runs?","body":"Have you enabled Spring Actuator? Did you look at the metrics endpoint while the app runs?"},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":1,"creation_date":1668437527,"post_id":74433126,"comment_id":131398260,"body_markdown":"As that link says, the timers are enabled by default, as long as there is a `MeterRegistry` in the application context. If they are not there, provide an [MCRE](https://stackoverflow.com/help/minimal-reproducible-example) so we can see what you are doing wrong.","body":"As that link says, the timers are enabled by default, as long as there is a <code>MeterRegistry</code> in the application context. If they are not there, provide an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">MCRE</a> so we can see what you are doing wrong."},{"owner":{"account_id":9212208,"reputation":1425,"user_id":6844910,"display_name":"Dushan"},"score":1,"creation_date":1668477326,"post_id":74433126,"comment_id":131409547,"body_markdown":"thank you, metrics are there under the name of spring_kafka_listener.","body":"thank you, metrics are there under the name of spring_kafka_listener."},{"owner":{"account_id":9212208,"reputation":1425,"user_id":6844910,"display_name":"Dushan"},"score":0,"creation_date":1668483300,"post_id":74433126,"comment_id":131410409,"body_markdown":"i have one more thing, imagine i do some processing part inside my consumer. Does that time also included in the success scenario time ?","body":"i have one more thing, imagine i do some processing part inside my consumer. Does that time also included in the success scenario time ?"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1668519418,"post_id":74433126,"comment_id":131420787,"body_markdown":"I&#39;m not sure. I haven&#39;t used spring-kafka metrics.","body":"I&#39;m not sure. I haven&#39;t used spring-kafka metrics."}],"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668477512,"creation_date":1668435656,"answer_id":74433126,"question_id":74428898,"body_markdown":"Capture the system time at the start and end of the &quot;processing&quot;, then update the registry, accordingly. Kafka doesn&#39;t provide that out of the box. \r\n\r\nYou could try playing around with `@Timed` annotation, but adding your own numbers will probably be more consistent. \r\n\r\n[Spring-Kafka](https://docs.spring.io/spring-kafka/reference/html/#monitoring-listener-performance) will add listener success/error metrics if you have Micrometer on the classpath (e.g. [enable Actuator][1] + wire in a MeterRegistry bean to the app context)\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/actuator.html#actuator.monitoring","title":"how to monitor listener performance in Kafka","body":"<p>Capture the system time at the start and end of the &quot;processing&quot;, then update the registry, accordingly. Kafka doesn't provide that out of the box.</p>\n<p>You could try playing around with <code>@Timed</code> annotation, but adding your own numbers will probably be more consistent.</p>\n<p><a href=\"https://docs.spring.io/spring-kafka/reference/html/#monitoring-listener-performance\" rel=\"nofollow noreferrer\">Spring-Kafka</a> will add listener success/error metrics if you have Micrometer on the classpath (e.g. <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/actuator.html#actuator.monitoring\" rel=\"nofollow noreferrer\">enable Actuator</a> + wire in a MeterRegistry bean to the app context)</p>\n"}],"owner":{"account_id":9212208,"reputation":1425,"user_id":6844910,"display_name":"Dushan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":211,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668477512,"creation_date":1668415395,"question_id":74428898,"body_markdown":"hi I&#39;m using spring kafka and i have a kafka consumer like below.\r\n\r\n      @KafkaListener(topics = &quot;myTopic&quot;, groupId = &quot;myGroup&quot;, autoStartup = &quot;true&quot;, concurrency = &quot;3&quot;)\r\n      public void consumeAssignment(@Header(KafkaHeaders.RECEIVED_TOPIC) String topic,\r\n                                    @Header(required = false, name = KafkaHeaders.BATCH_CONVERTED_HEADERS)\r\n                                            List&lt;HashMap&lt;String, byte[]&gt;&gt; headers,\r\n                                    @Header(required = false, name = KafkaHeaders.RECEIVED_PARTITION_ID) List&lt;Integer&gt; partitions,\r\n                                    @Payload(required = false) List&lt;String&gt; messages)\r\n\r\n\r\nI have provided MeterRegistry for my kafka consumer constructor like below.\r\n\r\n      public KafkaConsumer(MeterRegistry registry) {\r\n        \r\n      }\r\n\r\nI need to get the time Kafka took to process my messages. I know that there are two timers maintained; one for successful calls to the listener and one for failures. What are the changes that i need to do in order to have those metrics ? is there any example ?","title":"how to monitor listener performance in Kafka","body":"<p>hi I'm using spring kafka and i have a kafka consumer like below.</p>\n<pre><code>  @KafkaListener(topics = &quot;myTopic&quot;, groupId = &quot;myGroup&quot;, autoStartup = &quot;true&quot;, concurrency = &quot;3&quot;)\n  public void consumeAssignment(@Header(KafkaHeaders.RECEIVED_TOPIC) String topic,\n                                @Header(required = false, name = KafkaHeaders.BATCH_CONVERTED_HEADERS)\n                                        List&lt;HashMap&lt;String, byte[]&gt;&gt; headers,\n                                @Header(required = false, name = KafkaHeaders.RECEIVED_PARTITION_ID) List&lt;Integer&gt; partitions,\n                                @Payload(required = false) List&lt;String&gt; messages)\n</code></pre>\n<p>I have provided MeterRegistry for my kafka consumer constructor like below.</p>\n<pre><code>  public KafkaConsumer(MeterRegistry registry) {\n    \n  }\n</code></pre>\n<p>I need to get the time Kafka took to process my messages. I know that there are two timers maintained; one for successful calls to the listener and one for failures. What are the changes that i need to do in order to have those metrics ? is there any example ?</p>\n"},{"tags":["java","multithreading","java-8","java-stream","parallelstream"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1668186344,"post_id":74397901,"comment_id":131352450,"body_markdown":"Please read [Why is &quot;Can someone help me?&quot; not an actual question?](https://meta.stackoverflow.com/questions/284236/why-is-can-someone-help-me-not-an-actual-question)","body":"Please read <a href=\"https://meta.stackoverflow.com/questions/284236/why-is-can-someone-help-me-not-an-actual-question\">Why is &quot;Can someone help me?&quot; not an actual question?</a>"}],"answers":[{"tags":[],"owner":{"account_id":22807677,"reputation":414,"user_id":16959486,"display_name":"Teddy Tsai"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668477247,"creation_date":1668476834,"answer_id":74439777,"question_id":74397901,"body_markdown":"I don&#39;t think you can do that inside a stream, but you can wrap the execution in a Callable like so to achieve the same result:\r\n\r\n```\r\n  public static void main(String[] args) {\r\n        ExecutorService executor = Executors.newSingleThreadExecutor();\r\n        Future&lt;String&gt; future = executor.submit(new Task());\r\n        try {\r\n            System.out.println(future.get(1, TimeUnit.SECONDS));\r\n        }catch (Exception e) {\r\n            future.cancel(true);\r\n            e.printStackTrace();\r\n        } finally { \r\n            executor.shutdownNow();\r\n        }\r\n    }\r\n\r\n    private static class Task implements Callable&lt;String&gt; {\r\n        @Override\r\n        public String call(){\r\n            IntStream.of(1,2,3,4,5,6,7,8,9).parallel().forEach(t -&gt; {\r\n                try {\r\n                    Thread.sleep(1000);\r\n                } catch (InterruptedException e) {\r\n                    throw new RuntimeException(e);\r\n                }\r\n            });\r\n            return &quot;ok&quot;;\r\n        }\r\n    }\r\n```","title":"How to throw Timeout exception for the task inside parallel stream","body":"<p>I don't think you can do that inside a stream, but you can wrap the execution in a Callable like so to achieve the same result:</p>\n<pre><code>  public static void main(String[] args) {\n        ExecutorService executor = Executors.newSingleThreadExecutor();\n        Future&lt;String&gt; future = executor.submit(new Task());\n        try {\n            System.out.println(future.get(1, TimeUnit.SECONDS));\n        }catch (Exception e) {\n            future.cancel(true);\n            e.printStackTrace();\n        } finally { \n            executor.shutdownNow();\n        }\n    }\n\n    private static class Task implements Callable&lt;String&gt; {\n        @Override\n        public String call(){\n            IntStream.of(1,2,3,4,5,6,7,8,9).parallel().forEach(t -&gt; {\n                try {\n                    Thread.sleep(1000);\n                } catch (InterruptedException e) {\n                    throw new RuntimeException(e);\n                }\n            });\n            return &quot;ok&quot;;\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":14090110,"reputation":109,"user_id":10178725,"display_name":"Usman Mohammed"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":266,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668477247,"creation_date":1668139375,"question_id":74397901,"body_markdown":"The code I want to achieve is as below:\r\n\r\n    StreamSupport.stream(jsonArray.spliterator(), true).forEach(s -&gt;{\r\n       try {\r\n           //invoke other api and set timeout for its execution\r\n       }\r\n       catch(TimeoutException e) {\r\n           s.getAsJsonObject().addProperty(&quot;processStatus&quot;, &quot;Failure&quot;);\r\n       }\r\n    });\r\n\r\nCan anyone help me in achieving &quot;invoke other api and set timeout for it&#39;s execution&quot; case in the above snippet?","title":"How to throw Timeout exception for the task inside parallel stream","body":"<p>The code I want to achieve is as below:</p>\n<pre><code>StreamSupport.stream(jsonArray.spliterator(), true).forEach(s -&gt;{\n   try {\n       //invoke other api and set timeout for its execution\n   }\n   catch(TimeoutException e) {\n       s.getAsJsonObject().addProperty(&quot;processStatus&quot;, &quot;Failure&quot;);\n   }\n});\n</code></pre>\n<p>Can anyone help me in achieving &quot;invoke other api and set timeout for it's execution&quot; case in the above snippet?</p>\n"},{"tags":["java","maven","intellij-idea","javafx"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1667990950,"post_id":74373492,"comment_id":131297963,"body_markdown":"also: missing fx:id for all your fields, meaning that nothing is injected (as fields, at least)","body":"also: missing fx:id for all your fields, meaning that nothing is injected (as fields, at least)"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":3,"creation_date":1667994159,"post_id":74373492,"comment_id":131299055,"body_markdown":"You’re suppressing the debugging information required to diagnose the problem. Print the complete stack trace from the exception you catch. The `toString()` method only gives you the message, which is not going to tell you anything other than “something went wrong”. The stack trace will tell you exactly what went wrong, and where.","body":"You’re suppressing the debugging information required to diagnose the problem. Print the complete stack trace from the exception you catch. The <code>toString()</code> method only gives you the message, which is not going to tell you anything other than “something went wrong”. The stack trace will tell you exactly what went wrong, and where."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1667997273,"post_id":74373492,"comment_id":131300165,"body_markdown":"See https://stackoverflow.com/questions/3988788/what-is-a-stack-trace-and-how-can-i-use-it-to-debug-my-application-errors","body":"See <a href=\"https://stackoverflow.com/questions/3988788/what-is-a-stack-trace-and-how-can-i-use-it-to-debug-my-application-errors\" title=\"what is a stack trace and how can i use it to debug my application errors\">stackoverflow.com/questions/3988788/&hellip;</a>"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1668007678,"post_id":74373492,"comment_id":131304259,"body_markdown":"`fx:id` != `id` (though the former will set the latter if only the former is present). Side note: In Java, the standard naming conventions have fields and method names using `camelCase`, not `PascalCase`.","body":"<code>fx:id</code> != <code>id</code> (though the former will set the latter if only the former is present). Side note: In Java, the standard naming conventions have fields and method names using <code>camelCase</code>, not <code>PascalCase</code>."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1668017105,"post_id":74373492,"comment_id":131307842,"body_markdown":"There is no file `/views/login.fxml`, this could never have worked as posted.","body":"There is no file <code>&#47;views&#47;login.fxml</code>, this could never have worked as posted."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1668031750,"post_id":74373492,"comment_id":131312270,"body_markdown":"The [URI not registered](https://stackoverflow.com/questions/42569634/uri-is-not-registered-settings-languages-frameworks-schemas-and-dtds-in) message shown by Idea in this instance is irrelevant.  It is not a real error, it has nothing to do with the runtime of the code. There is no official schema for JavaFX FXML as FXML works on the reflection of code, so the types in it are dynamic rather than static and a full schema for FXML could never be created.","body":"The <a href=\"https://stackoverflow.com/questions/42569634/uri-is-not-registered-settings-languages-frameworks-schemas-and-dtds-in\">URI not registered</a> message shown by Idea in this instance is irrelevant.  It is not a real error, it has nothing to do with the runtime of the code. There is no official schema for JavaFX FXML as FXML works on the reflection of code, so the types in it are dynamic rather than static and a full schema for FXML could never be created."},{"owner":{"account_id":14812899,"reputation":1,"user_id":10697925,"display_name":"Brenden Delong"},"score":0,"creation_date":1668060906,"post_id":74373492,"comment_id":131316726,"body_markdown":"That&#39;s interesting that the fx:id is missing in those fields, this was generated by Scene Builder.","body":"That&#39;s interesting that the fx:id is missing in those fields, this was generated by Scene Builder."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1668061380,"post_id":74373492,"comment_id":131316808,"body_markdown":"The section in the [makery tutorial](https://code.makery.ch/library/javafx-tutorial/part2/) titled “Hook the View to the Controller” demonstrates correctly assigning `fx:id` values in SceneBuilder.","body":"The section in the <a href=\"https://code.makery.ch/library/javafx-tutorial/part2/\" rel=\"nofollow noreferrer\">makery tutorial</a> titled “Hook the View to the Controller” demonstrates correctly assigning <code>fx:id</code> values in SceneBuilder."},{"owner":{"account_id":14812899,"reputation":1,"user_id":10697925,"display_name":"Brenden Delong"},"score":0,"creation_date":1668061639,"post_id":74373492,"comment_id":131316854,"body_markdown":"My use of PascalCase was to distinguish between the JFX fields, and local/class variables. Also I must have changed /views/login.fxml to /controllers/login.fxml before I posted, so you are correct.","body":"My use of PascalCase was to distinguish between the JFX fields, and local/class variables. Also I must have changed /views/login.fxml to /controllers/login.fxml before I posted, so you are correct."},{"owner":{"account_id":14812899,"reputation":1,"user_id":10697925,"display_name":"Brenden Delong"},"score":0,"creation_date":1668062755,"post_id":74373492,"comment_id":131317089,"body_markdown":"You&#39;re right, I added the id in the wrong field. If I had looked under the &quot;code&quot; section I would have seen fx:id field. Thanks!","body":"You&#39;re right, I added the id in the wrong field. If I had looked under the &quot;code&quot; section I would have seen fx:id field. Thanks!"}],"answers":[{"comments":[{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1668061461,"post_id":74384849,"comment_id":131316824,"body_markdown":"That should probably read `src`, not `source` and the `.`s should be `/`s.","body":"That should probably read <code>src</code>, not <code>source</code> and the <code>.</code>s should be <code>&#47;</code>s."},{"owner":{"account_id":14812899,"reputation":1,"user_id":10697925,"display_name":"Brenden Delong"},"score":0,"creation_date":1668062006,"post_id":74384849,"comment_id":131316940,"body_markdown":"Of course, updating is now. Thanks","body":"Of course, updating is now. Thanks"}],"tags":[],"owner":{"account_id":14812899,"reputation":1,"user_id":10697925,"display_name":"Brenden Delong"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668476253,"creation_date":1668060954,"answer_id":74384849,"question_id":74373492,"body_markdown":"Ok, so the issue was with the `fx:controller` reference. My controller class was not within `src/main/java/com.example.scheduler`. \r\n\r\nAfter moving it there the error ceased.","title":"Why am I getting the javafx.fxml.LoadException when in previous versions I&#39;ve had no problem?","body":"<p>Ok, so the issue was with the <code>fx:controller</code> reference. My controller class was not within <code>src/main/java/com.example.scheduler</code>.</p>\n<p>After moving it there the error ceased.</p>\n"}],"owner":{"account_id":14812899,"reputation":1,"user_id":10697925,"display_name":"Brenden Delong"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":287,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1668476253,"creation_date":1667990332,"question_id":74373492,"body_markdown":"[![files][1]][1]\r\n\r\nI&#39;m running an FXML project and I can&#39;t load my fxml files, IntelliJ keeps indicating there is something wrong with my AnchorPane tag, however this was all generated by scene builder. This error even shows up for fxml files created by IntelliJ. The issue seems to be xmlns=&quot;http://javafx.com/javafx/19&quot; within the AnchorPane tag at least that&#39;s where the compiler is pointing to.\r\n\r\nI&#39;m running IntelliJ 2022 with JDK 17.0.4.1 with JavaFX 19 using Maven, and I&#39;m using scene builder 19.\r\n\r\nhere is my fxml code\r\n\r\n`\r\n```\r\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\r\n&lt;?import javafx.scene.layout.VBox?&gt;\r\n&lt;?import javafx.scene.control.TextField?&gt;\r\n&lt;?import javafx.scene.control.Label?&gt;\r\n&lt;?import javafx.scene.control.Button?&gt;\r\n&lt;?import javafx.scene.text.Font?&gt;\r\n&lt;AnchorPane prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; xmlns=&quot;http://javafx.com/javafx/19&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;controllers.LoginController&quot;&gt;\r\n    &lt;children&gt;\r\n        &lt;VBox prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; /&gt;\r\n        &lt;TextField id=&quot;Username&quot; layoutX=&quot;115.0&quot; layoutY=&quot;60.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;126.0&quot; promptText=&quot;user@account.com&quot; /&gt;\r\n        &lt;Label layoutX=&quot;39.0&quot; layoutY=&quot;64.0&quot; prefHeight=&quot;17.0&quot; prefWidth=&quot;63.0&quot; text=&quot;Username&quot; /&gt;\r\n        &lt;Label layoutX=&quot;39.0&quot; layoutY=&quot;116.0&quot; text=&quot;Password&quot; /&gt;\r\n        &lt;TextField id=&quot;password&quot; layoutX=&quot;115.0&quot; layoutY=&quot;112.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;126.0&quot; /&gt;\r\n        &lt;Button id=&quot;login&quot; layoutX=&quot;132.0&quot; layoutY=&quot;210.0&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;85.0&quot; text=&quot;Login&quot; /&gt;\r\n        &lt;Label layoutX=&quot;39.0&quot; layoutY=&quot;153.0&quot; prefHeight=&quot;17.0&quot; prefWidth=&quot;63.0&quot; text=&quot;Location&quot; /&gt;\r\n        &lt;TextField id=&quot;Location&quot; disable=&quot;true&quot; layoutX=&quot;115.0&quot; layoutY=&quot;149.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;126.0&quot; promptText=&quot;Your location here&quot; /&gt;\r\n        &lt;Label id=&quot;ErrorMessage&quot; alignment=&quot;CENTER&quot; disable=&quot;true&quot; layoutX=&quot;91.0&quot; layoutY=&quot;183.0&quot; prefHeight=&quot;17.0&quot; prefWidth=&quot;187.0&quot; text=&quot;Error Label&quot; textAlignment=&quot;CENTER&quot; textFill=&quot;#e10724&quot;&gt;\r\n            &lt;font&gt;\r\n                &lt;Font name=&quot;System Italic&quot; size=&quot;12.0&quot; /&gt;\r\n            &lt;/font&gt;\r\n        &lt;/Label&gt;\r\n    &lt;/children&gt;\r\n&lt;/AnchorPane&gt;\r\n\r\n```\r\n`\r\n\r\n\r\nand here is my java code\r\n\r\n\r\n`\r\n```\r\npackage controllers;\r\n\r\nimport javafx.fxml.FXML;\r\nimport javafx.scene.control.*;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Scene;\r\nimport javafx.stage.Stage;\r\n\r\nimport java.net.URL;\r\n\r\npublic class LoginController {\r\n\r\n    @FXML\r\n    private TextField Username;\r\n    //Buttons\r\n    @FXML\r\n    private TextField Password;\r\n    @FXML\r\n    private TextField Location;\r\n    @FXML\r\n    private Label ErrorMessage;\r\n    @FXML\r\n    private Button Login;\r\n\r\n    public void BeginStart(){\r\n        //Loader\r\n        try {\r\n            //debugging fxml path\r\n            URL uri = getClass().getResource(&quot;/views/login.fxml&quot;);\r\n            System.out.println(uri);\r\n            \r\n            FXMLLoader fxmlLoader = new FXMLLoader(getClass().getResource(&quot;/views/login.fxml&quot;));\r\n            Scene scene = new Scene(fxmlLoader.load());\r\n            Stage stage = new Stage();\r\n            stage.setTitle(&quot;Hello!&quot;);\r\n            stage.setScene(scene);\r\n            stage.show();\r\n\r\n            /*Parent root = loader.load();\r\n            Stage stage = new Stage();\r\n            stage.setTitle(&quot;Scheduler Login&quot;);\r\n            stage.setScene(new Scene(root));\r\n            stage.show();*/\r\n        }catch(Exception e){\r\n            System.out.println(&quot;Failed to load login.fxml&quot;);\r\n            System.out.println(&quot;Exception: &quot; + e.toString());\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n`\r\n\r\nuri is non-null so there appears to be no problem with the file path.\r\n\r\n\r\nPreviously I&#39;ve had the &quot;uri not registered&quot; error before I deleted the javaFX files included with Maven, and used a local copy of the JavaFX19 library, along with the proper JVM arguments. \r\n\r\nNote: the image I included is from a previous version of my project. Under resources &quot;controllers&quot; is actually supposed to be &quot;views&quot;.\r\n\r\n  [1]: https://i.stack.imgur.com/ftssA.png","title":"Why am I getting the javafx.fxml.LoadException when in previous versions I&#39;ve had no problem?","body":"<p><a href=\"https://i.stack.imgur.com/ftssA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ftssA.png\" alt=\"files\" /></a></p>\n<p>I'm running an FXML project and I can't load my fxml files, IntelliJ keeps indicating there is something wrong with my AnchorPane tag, however this was all generated by scene builder. This error even shows up for fxml files created by IntelliJ. The issue seems to be xmlns=&quot;http://javafx.com/javafx/19&quot; within the AnchorPane tag at least that's where the compiler is pointing to.</p>\n<p>I'm running IntelliJ 2022 with JDK 17.0.4.1 with JavaFX 19 using Maven, and I'm using scene builder 19.</p>\n<p>here is my fxml code</p>\n<p>`</p>\n<pre><code>&lt;?import javafx.scene.layout.AnchorPane?&gt;\n&lt;?import javafx.scene.layout.VBox?&gt;\n&lt;?import javafx.scene.control.TextField?&gt;\n&lt;?import javafx.scene.control.Label?&gt;\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.text.Font?&gt;\n&lt;AnchorPane prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; xmlns=&quot;http://javafx.com/javafx/19&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;controllers.LoginController&quot;&gt;\n    &lt;children&gt;\n        &lt;VBox prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; /&gt;\n        &lt;TextField id=&quot;Username&quot; layoutX=&quot;115.0&quot; layoutY=&quot;60.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;126.0&quot; promptText=&quot;user@account.com&quot; /&gt;\n        &lt;Label layoutX=&quot;39.0&quot; layoutY=&quot;64.0&quot; prefHeight=&quot;17.0&quot; prefWidth=&quot;63.0&quot; text=&quot;Username&quot; /&gt;\n        &lt;Label layoutX=&quot;39.0&quot; layoutY=&quot;116.0&quot; text=&quot;Password&quot; /&gt;\n        &lt;TextField id=&quot;password&quot; layoutX=&quot;115.0&quot; layoutY=&quot;112.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;126.0&quot; /&gt;\n        &lt;Button id=&quot;login&quot; layoutX=&quot;132.0&quot; layoutY=&quot;210.0&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;85.0&quot; text=&quot;Login&quot; /&gt;\n        &lt;Label layoutX=&quot;39.0&quot; layoutY=&quot;153.0&quot; prefHeight=&quot;17.0&quot; prefWidth=&quot;63.0&quot; text=&quot;Location&quot; /&gt;\n        &lt;TextField id=&quot;Location&quot; disable=&quot;true&quot; layoutX=&quot;115.0&quot; layoutY=&quot;149.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;126.0&quot; promptText=&quot;Your location here&quot; /&gt;\n        &lt;Label id=&quot;ErrorMessage&quot; alignment=&quot;CENTER&quot; disable=&quot;true&quot; layoutX=&quot;91.0&quot; layoutY=&quot;183.0&quot; prefHeight=&quot;17.0&quot; prefWidth=&quot;187.0&quot; text=&quot;Error Label&quot; textAlignment=&quot;CENTER&quot; textFill=&quot;#e10724&quot;&gt;\n            &lt;font&gt;\n                &lt;Font name=&quot;System Italic&quot; size=&quot;12.0&quot; /&gt;\n            &lt;/font&gt;\n        &lt;/Label&gt;\n    &lt;/children&gt;\n&lt;/AnchorPane&gt;\n\n</code></pre>\n<p>`</p>\n<p>and here is my java code</p>\n<p>`</p>\n<pre><code>package controllers;\n\nimport javafx.fxml.FXML;\nimport javafx.scene.control.*;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\nimport java.net.URL;\n\npublic class LoginController {\n\n    @FXML\n    private TextField Username;\n    //Buttons\n    @FXML\n    private TextField Password;\n    @FXML\n    private TextField Location;\n    @FXML\n    private Label ErrorMessage;\n    @FXML\n    private Button Login;\n\n    public void BeginStart(){\n        //Loader\n        try {\n            //debugging fxml path\n            URL uri = getClass().getResource(&quot;/views/login.fxml&quot;);\n            System.out.println(uri);\n            \n            FXMLLoader fxmlLoader = new FXMLLoader(getClass().getResource(&quot;/views/login.fxml&quot;));\n            Scene scene = new Scene(fxmlLoader.load());\n            Stage stage = new Stage();\n            stage.setTitle(&quot;Hello!&quot;);\n            stage.setScene(scene);\n            stage.show();\n\n            /*Parent root = loader.load();\n            Stage stage = new Stage();\n            stage.setTitle(&quot;Scheduler Login&quot;);\n            stage.setScene(new Scene(root));\n            stage.show();*/\n        }catch(Exception e){\n            System.out.println(&quot;Failed to load login.fxml&quot;);\n            System.out.println(&quot;Exception: &quot; + e.toString());\n        }\n    }\n}\n\n</code></pre>\n<p>`</p>\n<p>uri is non-null so there appears to be no problem with the file path.</p>\n<p>Previously I've had the &quot;uri not registered&quot; error before I deleted the javaFX files included with Maven, and used a local copy of the JavaFX19 library, along with the proper JVM arguments.</p>\n<p>Note: the image I included is from a previous version of my project. Under resources &quot;controllers&quot; is actually supposed to be &quot;views&quot;.</p>\n"},{"tags":["java","reactive-programming","spring-webflux","project-reactor"],"answers":[{"comments":[{"owner":{"account_id":26467716,"reputation":27,"user_id":20108700,"display_name":"Mohammed Idris"},"score":1,"creation_date":1666089916,"post_id":74058918,"comment_id":130847800,"body_markdown":"I used Flux.concat as suggested by @Alex, it worked by evaluating the conditions sequentially, just what I wanted to achieve. Thanks for the answer.","body":"I used Flux.concat as suggested by @Alex, it worked by evaluating the conditions sequentially, just what I wanted to achieve. Thanks for the answer."},{"owner":{"account_id":26467716,"reputation":27,"user_id":20108700,"display_name":"Mohammed Idris"},"score":0,"creation_date":1668422744,"post_id":74058918,"comment_id":131393202,"body_markdown":"how would I achieve logical &quot;or&quot; condition with the above example, i.e. return true if any of the condition is true, and return false when all conditions are false. I am hoping that this can be achieved by tweaking the above Flux.concat  filter condition. kindly post the snippet for the same.","body":"how would I achieve logical &quot;or&quot; condition with the above example, i.e. return true if any of the condition is true, and return false when all conditions are false. I am hoping that this can be achieved by tweaking the above Flux.concat  filter condition. kindly post the snippet for the same."},{"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"score":0,"creation_date":1668475910,"post_id":74058918,"comment_id":131409360,"body_markdown":"to process applying logical &quot;or&quot;  condition you can change filter and flip `flatMap` and `switchIfEmpty`. See updated answer for details","body":"to process applying logical &quot;or&quot;  condition you can change filter and flip <code>flatMap</code> and <code>switchIfEmpty</code>. See updated answer for details"}],"tags":[],"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668475828,"creation_date":1665677843,"answer_id":74058918,"question_id":74053957,"body_markdown":"The naive approach is to evaluate conditions sequentially using `flatMap` and complete sequence (return `Mono.empty`) in case some condition is `false`.\r\n\r\n```\r\ncondition1()\r\n\t.flatMap(res -&gt; {\r\n\t\tif (!res) {\r\n\t\t\treturn Mono.empty();\r\n\t\t}\r\n\t\treturn condition2();\r\n\t})\r\n\t.flatMap(res -&gt; {\r\n\t\tif (!res) {\r\n\t\t\treturn Mono.empty();\r\n\t\t}\r\n\t\treturn condition3();\r\n\t})\r\n\t.flatMap(res -&gt; {\r\n\t\tif (!res) {\r\n\t\t\treturn Mono.empty();\r\n\t\t}\r\n\t\treturn action(); // if all conditions true\r\n\t})\r\n\t.switchIfEmpty(otherAction()); // else\r\n```\r\n\r\nYou can also use `Mono.zip` that supports up to 8 publishers or you can pass `Iterable` if you need more. `zip` subscribes eagerly (to all publishers) and wait until all conditions are evaluated. We can overcome the second restriction by using the fact that empty completion of any source will cause other sources to be cancelled and the resulting `Mono` to immediately complete.\r\n\r\n```\r\nMono.zip(emptyIfFalse(condition1()), emptyIfFalse(condition2()), emptyIfFalse(condition3()))\r\n\t.flatMap(__ -&gt; action()) // all conditions TRUE\r\n\t.switchIfEmpty(otherAction()); // some condition FALSE\r\n\r\nprivate Mono&lt;Boolean&gt; emptyIfFalse(Mono&lt;Boolean&gt; condition) {\r\n\treturn condition\r\n\t\t\t.filter(res -&gt; res);\r\n}\r\n```\r\n\r\nIn this case all conditions are still evaluated in parallel (that could be an advantage in some cases) but sequence will complete on the first `false`.\r\n\r\n\r\nAnother approach is to use `Flux.concat` that sequentially subscribes to the first source then waiting for it to complete before subscribing to the next.\r\n\r\n```\r\nFlux.concat(condition1(), condition2(), condition3())\r\n\t.filter(res -&gt; !res)\r\n\t.next() // emit first FALSE and stop\r\n\t.flatMap(__ -&gt; otherAction()) // some condition FALSE\r\n\t.switchIfEmpty(action()); // all conditions TRUE\r\n```\r\n\r\n**UPDATE**\r\n\r\nTo achieve logical &quot;or&quot; condition with the above example (return `true` if any of the condition is `true`, and return `false` when all conditions are `false`)\r\n\r\n```\r\nFlux.concat(condition1(), condition2(), condition3())\r\n\t.filter(res -&gt; res)\r\n\t.next() // emit first TRUE and stop\r\n\t.flatMap(__ -&gt; action()) // some condition TRUE\r\n\t.switchIfEmpty(otherAction()); // all conditions FALSE\r\n```","title":"Handle nested conditions in Spring Reactor","body":"<p>The naive approach is to evaluate conditions sequentially using <code>flatMap</code> and complete sequence (return <code>Mono.empty</code>) in case some condition is <code>false</code>.</p>\n<pre><code>condition1()\n    .flatMap(res -&gt; {\n        if (!res) {\n            return Mono.empty();\n        }\n        return condition2();\n    })\n    .flatMap(res -&gt; {\n        if (!res) {\n            return Mono.empty();\n        }\n        return condition3();\n    })\n    .flatMap(res -&gt; {\n        if (!res) {\n            return Mono.empty();\n        }\n        return action(); // if all conditions true\n    })\n    .switchIfEmpty(otherAction()); // else\n</code></pre>\n<p>You can also use <code>Mono.zip</code> that supports up to 8 publishers or you can pass <code>Iterable</code> if you need more. <code>zip</code> subscribes eagerly (to all publishers) and wait until all conditions are evaluated. We can overcome the second restriction by using the fact that empty completion of any source will cause other sources to be cancelled and the resulting <code>Mono</code> to immediately complete.</p>\n<pre><code>Mono.zip(emptyIfFalse(condition1()), emptyIfFalse(condition2()), emptyIfFalse(condition3()))\n    .flatMap(__ -&gt; action()) // all conditions TRUE\n    .switchIfEmpty(otherAction()); // some condition FALSE\n\nprivate Mono&lt;Boolean&gt; emptyIfFalse(Mono&lt;Boolean&gt; condition) {\n    return condition\n            .filter(res -&gt; res);\n}\n</code></pre>\n<p>In this case all conditions are still evaluated in parallel (that could be an advantage in some cases) but sequence will complete on the first <code>false</code>.</p>\n<p>Another approach is to use <code>Flux.concat</code> that sequentially subscribes to the first source then waiting for it to complete before subscribing to the next.</p>\n<pre><code>Flux.concat(condition1(), condition2(), condition3())\n    .filter(res -&gt; !res)\n    .next() // emit first FALSE and stop\n    .flatMap(__ -&gt; otherAction()) // some condition FALSE\n    .switchIfEmpty(action()); // all conditions TRUE\n</code></pre>\n<p><strong>UPDATE</strong></p>\n<p>To achieve logical &quot;or&quot; condition with the above example (return <code>true</code> if any of the condition is <code>true</code>, and return <code>false</code> when all conditions are <code>false</code>)</p>\n<pre><code>Flux.concat(condition1(), condition2(), condition3())\n    .filter(res -&gt; res)\n    .next() // emit first TRUE and stop\n    .flatMap(__ -&gt; action()) // some condition TRUE\n    .switchIfEmpty(otherAction()); // all conditions FALSE\n</code></pre>\n"}],"owner":{"account_id":26467716,"reputation":27,"user_id":20108700,"display_name":"Mohammed Idris"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1040,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74058918,"answer_count":1,"score":1,"last_activity_date":1668475828,"creation_date":1665655644,"question_id":74053957,"body_markdown":"I have 3 checks which I need to make in an incremental way. \r\n```\r\nMono&lt;Boolean&gt; isRegistered(Student std);\r\nMono&lt;Boolean&gt; isEligible(Student std);\r\nMono&lt;Boolean&gt; isAvailable(Student std); \r\n```\r\nEach method performs a check inside and returns `true / false`\r\n\r\nI want a logic that will stop the flow and throw error if any of the checks return `false`\r\nsomething like this: \r\n```\r\nMono&lt;Boolean&gt; checkAll(Student std) {\r\nreturn isRegistered(std) &amp;&amp; isEligible(std) &amp;&amp; isAvailable(std);\r\n}\r\n```\r\nI tried with `Mono.zip()` but it allows only 2 params, also it does not allow to run 2nd condition only after 1st condition is true. \r\n\r\nI also tried with `Mono.defer().then()` like this\r\n\r\n```\r\nreturn Mono.defer(() -&gt; \r\n\r\n         isRegistered(std))\r\n        .then(Mono.defer(() -&gt; isEligible(std))\r\n        .then(Mono.defer(() -&gt;isAvailable(std));\r\n```\r\nbut the problem is it returns `true` if any one of the condition is `true`\r\n\r\nI want to call the 2nd method only if first method is `true`.","title":"Handle nested conditions in Spring Reactor","body":"<p>I have 3 checks which I need to make in an incremental way.</p>\n<pre><code>Mono&lt;Boolean&gt; isRegistered(Student std);\nMono&lt;Boolean&gt; isEligible(Student std);\nMono&lt;Boolean&gt; isAvailable(Student std); \n</code></pre>\n<p>Each method performs a check inside and returns <code>true / false</code></p>\n<p>I want a logic that will stop the flow and throw error if any of the checks return <code>false</code>\nsomething like this:</p>\n<pre><code>Mono&lt;Boolean&gt; checkAll(Student std) {\nreturn isRegistered(std) &amp;&amp; isEligible(std) &amp;&amp; isAvailable(std);\n}\n</code></pre>\n<p>I tried with <code>Mono.zip()</code> but it allows only 2 params, also it does not allow to run 2nd condition only after 1st condition is true.</p>\n<p>I also tried with <code>Mono.defer().then()</code> like this</p>\n<pre><code>return Mono.defer(() -&gt; \n\n         isRegistered(std))\n        .then(Mono.defer(() -&gt; isEligible(std))\n        .then(Mono.defer(() -&gt;isAvailable(std));\n</code></pre>\n<p>but the problem is it returns <code>true</code> if any one of the condition is <code>true</code></p>\n<p>I want to call the 2nd method only if first method is <code>true</code>.</p>\n"},{"tags":["java","selenium","exception","xpath","webdriver"],"comments":[{"owner":{"account_id":8679771,"reputation":714,"user_id":6496071,"display_name":"Monika"},"score":0,"creation_date":1499169713,"post_id":44905306,"comment_id":76787843,"body_markdown":"Thanks, fo providing this info. It will be great if you can share the HTML for the left panel elements.","body":"Thanks, fo providing this info. It will be great if you can share the HTML for the left panel elements."},{"owner":{"account_id":3339537,"reputation":359,"user_id":2806097,"accept_rate":36,"display_name":"Biljana M."},"score":0,"creation_date":1499170434,"post_id":44905306,"comment_id":76788353,"body_markdown":"I pasted part of html. Hope it helps.","body":"I pasted part of html. Hope it helps."},{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":0,"creation_date":1499175408,"post_id":44905306,"comment_id":76791802,"body_markdown":"Are you sure it exists when the page first loads? It&#39;s possible if it&#39;s part of a panel that something must be clicked/expanded to create that element.","body":"Are you sure it exists when the page first loads? It&#39;s possible if it&#39;s part of a panel that something must be clicked/expanded to create that element."},{"owner":{"account_id":3339537,"reputation":359,"user_id":2806097,"accept_rate":36,"display_name":"Biljana M."},"score":0,"creation_date":1499175910,"post_id":44905306,"comment_id":76792102,"body_markdown":"It&#39;s possible. Panel has a &quot;undock&quot; option (pin) but the pin is currently put so it opens immediately. Could it be the cause, even if the panel is pinned up so that it&#39;s opened?","body":"It&#39;s possible. Panel has a &quot;undock&quot; option (pin) but the pin is currently put so it opens immediately. Could it be the cause, even if the panel is pinned up so that it&#39;s opened?"},{"owner":{"account_id":3339537,"reputation":359,"user_id":2806097,"accept_rate":36,"display_name":"Biljana M."},"score":0,"creation_date":1499237341,"post_id":44905306,"comment_id":76813555,"body_markdown":"Could it be to the fact that the whole panel is pinned and when unpinned it needs to be expanded by clicking on it?","body":"Could it be to the fact that the whole panel is pinned and when unpinned it needs to be expanded by clicking on it?"}],"answers":[{"comments":[{"owner":{"account_id":3339537,"reputation":359,"user_id":2806097,"accept_rate":36,"display_name":"Biljana M."},"score":0,"creation_date":1499175955,"post_id":44906904,"comment_id":76792132,"body_markdown":"Problem is that panel is also &quot;unable to locate&quot;. I am not sure how to use this, I tried, but it still throws exception.","body":"Problem is that panel is also &quot;unable to locate&quot;. I am not sure how to use this, I tried, but it still throws exception."}],"tags":[],"owner":{"account_id":11205646,"reputation":448,"user_id":8221348,"display_name":"Ashish Deshmukh"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668471371,"creation_date":1499173577,"answer_id":44906904,"question_id":44905306,"body_markdown":"Use:\r\n\r\n    driver.switchTo().activeElement();\r\n\r\nThis way, the driver will switch to the panel you have clicked. Then you can perform the rest of the operations you want in the panel.\r\n","title":"Selenium (Java) message &quot;Unable to locate element&quot; but element and XPath exist","body":"<p>Use:</p>\n<pre><code>driver.switchTo().activeElement();\n</code></pre>\n<p>This way, the driver will switch to the panel you have clicked. Then you can perform the rest of the operations you want in the panel.</p>\n"},{"comments":[{"owner":{"account_id":3339537,"reputation":359,"user_id":2806097,"accept_rate":36,"display_name":"Biljana M."},"score":0,"creation_date":1499236494,"post_id":44908871,"comment_id":76813054,"body_markdown":"I am sorry, just tried it, didn&#39;t work. Same error. This path seems correct so it has to be some other cause, not path. Thank you for trying to help.","body":"I am sorry, just tried it, didn&#39;t work. Same error. This path seems correct so it has to be some other cause, not path. Thank you for trying to help."},{"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1499236602,"post_id":44908871,"comment_id":76813130,"body_markdown":"@BiljanaM. What is the error you see now? Can you update the error stack trace in the Question area please?","body":"@BiljanaM. What is the error you see now? Can you update the error stack trace in the Question area please?"},{"owner":{"account_id":3339537,"reputation":359,"user_id":2806097,"accept_rate":36,"display_name":"Biljana M."},"score":0,"creation_date":1499237384,"post_id":44908871,"comment_id":76813587,"body_markdown":"It&#39;s same:Exception in thread &quot;main&quot; org.openqa.selenium.NoSuchElementException: Unable to locate element: //div[@id=&#39;NavigationRadPanelBar_i2_i0_trvStandardView&#39;]/ul/li/li/li/div/span[@title=&#39;Technical Attributes&#39;]","body":"It&#39;s same:Exception in thread &quot;main&quot; org.openqa.selenium.NoSuchElementException: Unable to locate element: //div[@id=&#39;NavigationRadPanelBar_i2_i0_trvStandardView&#39;]/ul/&zwnj;&#8203;li/li/li/div/span[@t&zwnj;&#8203;itle=&#39;Technical Attributes&#39;]"},{"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1499237659,"post_id":44908871,"comment_id":76813724,"body_markdown":"@BiljanaM. As you are getting `NoSuchElementException` on my suggested xpath and also using `xpath` as `.//*[@id=&#39;NavigationRadPane&#39;]` I am sure either the element is within an `iFrame` or you need to induce `ExplicitWait`. Thanks","body":"@BiljanaM. As you are getting <code>NoSuchElementException</code> on my suggested xpath and also using <code>xpath</code> as <code>.&#47;&#47;*[@id=&#39;NavigationRadPane&#39;]</code> I am sure either the element is within an <code>iFrame</code> or you need to induce <code>ExplicitWait</code>. Thanks"},{"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1499238978,"post_id":44908871,"comment_id":76814522,"body_markdown":"@BiljanaM. If the URL is a public URL consider sharing it so I can help you out. Thanks","body":"@BiljanaM. If the URL is a public URL consider sharing it so I can help you out. Thanks"},{"owner":{"account_id":3339537,"reputation":359,"user_id":2806097,"accept_rate":36,"display_name":"Biljana M."},"score":0,"creation_date":1499254223,"post_id":44908871,"comment_id":76825337,"body_markdown":"Unfortunately, it\\s not public URL.","body":"Unfortunately, it\\s not public URL."}],"tags":[],"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668472052,"creation_date":1499179442,"answer_id":44908871,"question_id":44905306,"body_markdown":"Here is the answer to your question:\r\n\r\nThe error says it all, *Unable to locate element*, because the XPath expression seems incorrect to me.\r\n\r\nIf you want to click on the element with *title* set to *Technical Attributes* you can consider to try with the following XPath expressions:\r\n\r\n```lang-none\r\n//div[@id=&#39;NavigationRadPanelBar_i2_i0_trvStandardView&#39;]/ul/li/li/li/div/span[@class=&#39;rtIn&#39;]\r\n```\r\n\r\nor\r\n\r\n```lang-none\r\n//div[@id=&#39;NavigationRadPanelBar_i2_i0_trvStandardView&#39;]/ul/li/li/li/div/span[@title=&#39;Technical Attributes&#39;]\r\n```\r\n\r\n\r\n\r\n","title":"Selenium (Java) message &quot;Unable to locate element&quot; but element and XPath exist","body":"<p>Here is the answer to your question:</p>\n<p>The error says it all, <em>Unable to locate element</em>, because the XPath expression seems incorrect to me.</p>\n<p>If you want to click on the element with <em>title</em> set to <em>Technical Attributes</em> you can consider to try with the following XPath expressions:</p>\n<pre class=\"lang-none prettyprint-override\"><code>//div[@id='NavigationRadPanelBar_i2_i0_trvStandardView']/ul/li/li/li/div/span[@class='rtIn']\n</code></pre>\n<p>or</p>\n<pre class=\"lang-none prettyprint-override\"><code>//div[@id='NavigationRadPanelBar_i2_i0_trvStandardView']/ul/li/li/li/div/span[@title='Technical Attributes']\n</code></pre>\n"}],"owner":{"account_id":3339537,"reputation":359,"user_id":2806097,"accept_rate":36,"display_name":"Biljana M."},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2282,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1668472272,"creation_date":1499169215,"question_id":44905306,"body_markdown":"I am new to Selenium WebDriver, using NetBeans Java and Firebug for Firefox to get XPath.\r\n\r\nThe problem is even though some elements are visible and clickable in the browser, and [Firebug][1] finds the XPath expression, I still get an error &quot;Unable to locate element&quot;. The problem is, the element is not in a frame (there aren’t any frames), not in another window, it&#39;s visible and clickable and it has a clear XPath expression.\r\n\r\nI used Wait and Thread.sleep, but it didn&#39;t help.\r\nAlso, I tried all solutions I could find on Stack&amp;nbsp;Overflow similar to this matter.\r\n\r\nThe element is inside of the table which has some &quot;div&quot; elements inside. This is the XPath expression:\r\n\r\n    .//*[@id=&#39;NavigationRadPanelBar_i2_i0_trvStandardView&#39;]/ul/li[3]/div/span[3]\r\n\r\nIt seems that the panel is a problem, because it can not locate the panel too. I tried another element inside the same panel which has a title and text with this:\r\n\r\n    driver.findElement(By.xpath(&quot;//*[contains(text(),&#39;Technical Attributes&#39;)]&quot;)).click();\r\n\r\nBut still I got same message. Similar for all elements inside this panel and panel itself. It seems whatever I tried, it&#39;s unable to locate. Everything outside of this panel is working fine with drivers.\r\n\r\nThe page has a left panel where these elements are located. Some of them are nodes that can be expanded, and some are just links, but nothing can be located.\r\n\r\nWhat can be the cause of element that is obviously existing and visible, but still cannot be located by WebDriver?\r\n\r\nI tried to locate the main panel:\r\n\r\n        driver.findElement(By.xpath(&quot;.//*[@id=&#39;NavigationRadPane&#39;]&quot;)).click();\r\n\r\nbut still the same exception.\r\n\r\nThis is part of the HTML content (it&#39;s very long):\r\n\r\n    &lt;div id=&quot;RAD_SLIDING_PANE_CONTENT_navigatiionRadSlidingPane&quot; class=&quot;rspSlideContent&quot; style=&quot;overflow: hidden; width: 200px; height: 579px;&quot;&gt;\r\n      &lt;div id=&quot;NavigationRadPanelBarPanel&quot; style=&quot;display: block;&quot;&gt;\r\n        &lt;div id=&quot;NavigationRadPanelBar&quot; class=&quot;RadPanelBar RadPanelBar_Office2007&quot; postback=&quot;false&quot; style=&quot;background-color:GhostWhite;height:100%;width:100%;&quot;&gt;\r\n          &lt;ul class=&quot;rpRootGroup&quot;&gt;\r\n            &lt;li class=&quot;rpItem rpFirst&quot;&gt;\r\n              &lt;li class=&quot;rpItem&quot;&gt;\r\n                &lt;li class=&quot;rpItem rpLast&quot;&gt;\r\n                  &lt;a class=&quot;rpLink rpExpandable rpExpanded&quot; href=&quot;#&quot;&gt;\r\n                    &lt;div class=&quot;rpSlide&quot; style=&quot;display:block;&quot;&gt;\r\n                      &lt;ul class=&quot;rpGroup rpLevel1 111460&quot; style=&quot;display: block; height: 274.731px; width: 100%;&quot;&gt;\r\n                        &lt;li class=&quot;rpItem rpFirst rpLast&quot;&gt;\r\n                          &lt;div class=&quot;rpTemplate&quot;&gt;\r\n                            &lt;div id=&quot;NavigationRadPanelBar_i2_i0_trvStandardView&quot; class=&quot;RadTreeView RadTreeView_Office2007&quot;&gt;\r\n                              &lt;ul class=&quot;rtUL rtLines&quot;&gt;\r\n                                &lt;li class=&quot;rtLI rtFirst&quot;&gt;\r\n                                  &lt;li class=&quot;rtLI&quot;&gt;\r\n                                    &lt;li class=&quot;rtLI&quot;&gt;\r\n                                      &lt;div class=&quot;rtMid&quot;&gt;\r\n                                        &lt;span class=&quot;rtSp&quot; /&gt;\r\n                                        &lt;span class=&quot;rtPlus rtPlusHover&quot; /&gt;\r\n                                        &lt;img class=&quot;rtImg&quot; src=&quot;...&quot; alt=&quot;Technical Attributes&quot; /&gt;\r\n                                        &lt;span class=&quot;rtIn&quot; title=&quot;Technical Attributes&quot;&gt;Technical Attributes&lt;/span&gt;\r\n                                      &lt;/div&gt;\r\n                                      &lt;ul class=&quot;rtUL&quot; style=&quot;display:none;&quot;&gt;\r\n                                    &lt;/li&gt;\r\n                                    &lt;li class=&quot;rtLI rtLast&quot;&gt;\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Firebug_%28software%29\r\n","title":"Selenium (Java) message &quot;Unable to locate element&quot; but element and XPath exist","body":"<p>I am new to Selenium WebDriver, using NetBeans Java and Firebug for Firefox to get XPath.</p>\n<p>The problem is even though some elements are visible and clickable in the browser, and <a href=\"https://en.wikipedia.org/wiki/Firebug_%28software%29\" rel=\"nofollow noreferrer\">Firebug</a> finds the XPath expression, I still get an error &quot;Unable to locate element&quot;. The problem is, the element is not in a frame (there aren’t any frames), not in another window, it's visible and clickable and it has a clear XPath expression.</p>\n<p>I used Wait and Thread.sleep, but it didn't help.\nAlso, I tried all solutions I could find on Stack Overflow similar to this matter.</p>\n<p>The element is inside of the table which has some &quot;div&quot; elements inside. This is the XPath expression:</p>\n<pre><code>.//*[@id='NavigationRadPanelBar_i2_i0_trvStandardView']/ul/li[3]/div/span[3]\n</code></pre>\n<p>It seems that the panel is a problem, because it can not locate the panel too. I tried another element inside the same panel which has a title and text with this:</p>\n<pre><code>driver.findElement(By.xpath(&quot;//*[contains(text(),'Technical Attributes')]&quot;)).click();\n</code></pre>\n<p>But still I got same message. Similar for all elements inside this panel and panel itself. It seems whatever I tried, it's unable to locate. Everything outside of this panel is working fine with drivers.</p>\n<p>The page has a left panel where these elements are located. Some of them are nodes that can be expanded, and some are just links, but nothing can be located.</p>\n<p>What can be the cause of element that is obviously existing and visible, but still cannot be located by WebDriver?</p>\n<p>I tried to locate the main panel:</p>\n<pre><code>    driver.findElement(By.xpath(&quot;.//*[@id='NavigationRadPane']&quot;)).click();\n</code></pre>\n<p>but still the same exception.</p>\n<p>This is part of the HTML content (it's very long):</p>\n<pre><code>&lt;div id=&quot;RAD_SLIDING_PANE_CONTENT_navigatiionRadSlidingPane&quot; class=&quot;rspSlideContent&quot; style=&quot;overflow: hidden; width: 200px; height: 579px;&quot;&gt;\n  &lt;div id=&quot;NavigationRadPanelBarPanel&quot; style=&quot;display: block;&quot;&gt;\n    &lt;div id=&quot;NavigationRadPanelBar&quot; class=&quot;RadPanelBar RadPanelBar_Office2007&quot; postback=&quot;false&quot; style=&quot;background-color:GhostWhite;height:100%;width:100%;&quot;&gt;\n      &lt;ul class=&quot;rpRootGroup&quot;&gt;\n        &lt;li class=&quot;rpItem rpFirst&quot;&gt;\n          &lt;li class=&quot;rpItem&quot;&gt;\n            &lt;li class=&quot;rpItem rpLast&quot;&gt;\n              &lt;a class=&quot;rpLink rpExpandable rpExpanded&quot; href=&quot;#&quot;&gt;\n                &lt;div class=&quot;rpSlide&quot; style=&quot;display:block;&quot;&gt;\n                  &lt;ul class=&quot;rpGroup rpLevel1 111460&quot; style=&quot;display: block; height: 274.731px; width: 100%;&quot;&gt;\n                    &lt;li class=&quot;rpItem rpFirst rpLast&quot;&gt;\n                      &lt;div class=&quot;rpTemplate&quot;&gt;\n                        &lt;div id=&quot;NavigationRadPanelBar_i2_i0_trvStandardView&quot; class=&quot;RadTreeView RadTreeView_Office2007&quot;&gt;\n                          &lt;ul class=&quot;rtUL rtLines&quot;&gt;\n                            &lt;li class=&quot;rtLI rtFirst&quot;&gt;\n                              &lt;li class=&quot;rtLI&quot;&gt;\n                                &lt;li class=&quot;rtLI&quot;&gt;\n                                  &lt;div class=&quot;rtMid&quot;&gt;\n                                    &lt;span class=&quot;rtSp&quot; /&gt;\n                                    &lt;span class=&quot;rtPlus rtPlusHover&quot; /&gt;\n                                    &lt;img class=&quot;rtImg&quot; src=&quot;...&quot; alt=&quot;Technical Attributes&quot; /&gt;\n                                    &lt;span class=&quot;rtIn&quot; title=&quot;Technical Attributes&quot;&gt;Technical Attributes&lt;/span&gt;\n                                  &lt;/div&gt;\n                                  &lt;ul class=&quot;rtUL&quot; style=&quot;display:none;&quot;&gt;\n                                &lt;/li&gt;\n                                &lt;li class=&quot;rtLI rtLast&quot;&gt;\n</code></pre>\n"},{"tags":["java","for-loop","substring"],"comments":[{"owner":{"account_id":788777,"reputation":28977,"user_id":857132,"accept_rate":69,"display_name":"John3136"},"score":0,"creation_date":1668470653,"post_id":74439235,"comment_id":131408505,"body_markdown":"Not your issue, but you code will be much more readable if you do all the substring stuff once = e.g. `prevChar = substring(...); nextChar = substring(...);`","body":"Not your issue, but you code will be much more readable if you do all the substring stuff once = e.g. <code>prevChar = substring(...); nextChar = substring(...);</code>"},{"owner":{"account_id":26933200,"reputation":5,"user_id":20505242,"display_name":"Ethan Coleman"},"score":0,"creation_date":1668471882,"post_id":74439235,"comment_id":131408747,"body_markdown":"Not sure why I didn&#39;t do that... that would get rid of that massive if chunk...","body":"Not sure why I didn&#39;t do that... that would get rid of that massive if chunk..."}],"answers":[{"comments":[{"owner":{"account_id":26933200,"reputation":5,"user_id":20505242,"display_name":"Ethan Coleman"},"score":0,"creation_date":1668471576,"post_id":74439290,"comment_id":131408680,"body_markdown":"Ok, this makes sense, so your saying I should put everything in an if (i!=0)? Or where would I insert that, into the preexisting if?","body":"Ok, this makes sense, so your saying I should put everything in an if (i!=0)? Or where would I insert that, into the preexisting if?"},{"owner":{"account_id":14856125,"reputation":417,"user_id":10728583,"display_name":"Noscere"},"score":0,"creation_date":1668472550,"post_id":74439290,"comment_id":131408834,"body_markdown":"In each if statement, and the else if blocks, you either want to add &amp;&amp; i!==0 and/or &amp;&amp; i!==length - might be handy to put the string length in a local variable before the for loop for readability (cant remember if .length is a property or a method)\n\nNot sure how that will affect your logic though, may need to refactor. Might still end up with missing out a character - I&#39;d recommend making it more readable by first assigning the characters to local variables before beginning the if..else if...block, as suggested by @John3136, so you will then just need to say if(prevChar == nextChar)","body":"In each if statement, and the else if blocks, you either want to add &amp;&amp; i!==0 and/or &amp;&amp; i!==length - might be handy to put the string length in a local variable before the for loop for readability (cant remember if .length is a property or a method)  Not sure how that will affect your logic though, may need to refactor. Might still end up with missing out a character - I&#39;d recommend making it more readable by first assigning the characters to local variables before beginning the if..else if...block, as suggested by @John3136, so you will then just need to say if(prevChar == nextChar)"},{"owner":{"account_id":26933200,"reputation":5,"user_id":20505242,"display_name":"Ethan Coleman"},"score":0,"creation_date":1668473342,"post_id":74439290,"comment_id":131408986,"body_markdown":"Alright, I have fixed it, as well as making at least a bit more readable, thanks for help from everyone!","body":"Alright, I have fixed it, as well as making at least a bit more readable, thanks for help from everyone!"}],"tags":[],"owner":{"account_id":14856125,"reputation":417,"user_id":10728583,"display_name":"Noscere"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668470894,"creation_date":1668470894,"answer_id":74439290,"question_id":74439235,"body_markdown":"What is the program trying to achieve?\r\n\r\nYour for loop is correct, you should have `i = 0; i &lt; length; i++`\r\n\r\nSaying length-1 will stop one character short, as you noticed. For the substring calls, when you are using `i-1` and `&#236;+1` to refer to parts of the string, you should use if statements to check for the edge cases, when i=0 and when i=length, because both of those will result in out of range (e.g. results in attempts at accessing string[-1] and string[length], either of which don&#39;t exist).\r\n\r\nOr put the substring logic inside a try...catch and carry on through the out of range exception when `err instanceOf OutOfRangeException`","title":"This program gives either an error, or does not give the last letter, how should I fix it?","body":"<p>What is the program trying to achieve?</p>\n<p>Your for loop is correct, you should have <code>i = 0; i &lt; length; i++</code></p>\n<p>Saying length-1 will stop one character short, as you noticed. For the substring calls, when you are using <code>i-1</code> and <code>ì+1</code> to refer to parts of the string, you should use if statements to check for the edge cases, when i=0 and when i=length, because both of those will result in out of range (e.g. results in attempts at accessing string[-1] and string[length], either of which don't exist).</p>\n<p>Or put the substring logic inside a try...catch and carry on through the out of range exception when <code>err instanceOf OutOfRangeException</code></p>\n"},{"tags":[],"owner":{"account_id":26914061,"reputation":114,"user_id":20489149,"display_name":"synapticloop"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668471242,"creation_date":1668470909,"answer_id":74439291,"question_id":74439235,"body_markdown":"Hard to decipher what the output should be, try iterating through each of the characters...:\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class LastMain {\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tScanner scan = new Scanner(System.in);\r\n\t\tSystem.out.println(&quot;Type the message to be shortened&quot;);\r\n\t\tString msg = scan.nextLine();\r\n\t\tmsg = msg.toLowerCase();\r\n\t\tString alg1 = &quot;&quot;;\r\n\t\tint vowelC = 0;\r\n\t\tint repeatC = 0;\r\n\r\n\t\tSystem.out.println(&quot;Algorithm 1&quot;);\r\n\r\n\t\tchar lastChar = &#39;\\n&#39;;\r\n\r\n\t\tfor (int i = 0; i&lt;msg.length();i++){\r\n\t\t\tchar thisChar = msg.charAt(i);\r\n\r\n\t\t\tswitch (thisChar) {\r\n\t\t\tcase &#39;a&#39;:\r\n\t\t\tcase &#39;e&#39;:\r\n\t\t\tcase &#39;i&#39;:\r\n\t\t\tcase &#39;o&#39;:\r\n\t\t\tcase &#39;u&#39;:\r\n\t\t\t\tvowelC++;\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tif(thisChar != lastChar) {\r\n\t\t\t\t\talg1 += thisChar;\r\n\t\t\t\t} else {\r\n\t\t\t\t\trepeatC++;\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\tlastChar = thisChar;\r\n\t\t}\r\n\r\n\t\tSystem.out.println(alg1);\r\n\r\n\t\tSystem.out.println(&quot;Number of vowels: &quot; + vowelC);\r\n\t\tSystem.out.println(&quot;Number of repeats: &quot; + repeatC);\r\n\t}\r\n}\r\n\r\n```\r\n\r\nGiving the output of\r\n\r\n```\r\nType the message to be shortened\r\nThis is the message to be shortened\r\nAlgorithm 1\r\nths s th msg t b shrtnd\r\nNumber of vowels: 11\r\nNumber of repeats: 1\r\n\r\n```","title":"This program gives either an error, or does not give the last letter, how should I fix it?","body":"<p>Hard to decipher what the output should be, try iterating through each of the characters...:</p>\n<pre><code>import java.util.Scanner;\n\npublic class LastMain {\n\n    public static void main(String[] args) {\n\n        Scanner scan = new Scanner(System.in);\n        System.out.println(&quot;Type the message to be shortened&quot;);\n        String msg = scan.nextLine();\n        msg = msg.toLowerCase();\n        String alg1 = &quot;&quot;;\n        int vowelC = 0;\n        int repeatC = 0;\n\n        System.out.println(&quot;Algorithm 1&quot;);\n\n        char lastChar = '\\n';\n\n        for (int i = 0; i&lt;msg.length();i++){\n            char thisChar = msg.charAt(i);\n\n            switch (thisChar) {\n            case 'a':\n            case 'e':\n            case 'i':\n            case 'o':\n            case 'u':\n                vowelC++;\n                break;\n            default:\n                if(thisChar != lastChar) {\n                    alg1 += thisChar;\n                } else {\n                    repeatC++;\n                }\n                break;\n            }\n\n            lastChar = thisChar;\n        }\n\n        System.out.println(alg1);\n\n        System.out.println(&quot;Number of vowels: &quot; + vowelC);\n        System.out.println(&quot;Number of repeats: &quot; + repeatC);\n    }\n}\n\n</code></pre>\n<p>Giving the output of</p>\n<pre><code>Type the message to be shortened\nThis is the message to be shortened\nAlgorithm 1\nths s th msg t b shrtnd\nNumber of vowels: 11\nNumber of repeats: 1\n\n</code></pre>\n"}],"owner":{"account_id":26933200,"reputation":5,"user_id":20505242,"display_name":"Ethan Coleman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74439290,"answer_count":2,"score":-1,"last_activity_date":1668471431,"creation_date":1668470276,"question_id":74439235,"body_markdown":"```\r\nimport java.util.Scanner;\r\n\r\nclass Assignment4 \r\n{\r\n  public static void main(String[] args) \r\n  {\r\n        \r\n    Scanner scan = new Scanner(System.in);\r\n    System.out.println(&quot;Type the message to be shortened&quot;);\r\n    String msg = scan.nextLine();\r\n    msg = msg.toLowerCase();\r\n    String alg1 = &quot;&quot;;\r\n    int vowelC = 0;\r\n    int repeatC = 0;\r\n    System.out.println(&quot;Algorithm 1&quot;);\r\n    for (int i = 0; i&lt;msg.length();i++){\r\n      if(msg.substring(i-1,i).equals(&quot; &quot;)){\r\n        alg1+=msg.substring(i,i+1);\r\n      }\r\n      else{\r\n        if (msg.substring(i,i+1).equals(&quot;a&quot;) || msg.substring(i,i+1).equals(&quot;e&quot;) || msg.substring(i,i+1).equals(&quot;i&quot;) || msg.substring(i,i+1).equals(&quot;o&quot;) || msg.substring(i,i+1).equals(&quot;i&quot;)){\r\n            vowelC++;\r\n        }\r\n        else if (msg.substring(i,i+1).equals(msg.substring(i-1,i))){\r\n          repeatC++;\r\n      }\r\n        else{\r\n        alg1+=msg.substring(i,i+1);\r\n        }\r\n      }\r\n    }\r\n    System.out.print(alg1);\r\n    \r\n  }\r\n}\r\n\r\n```\r\n\r\n\r\nThis results in a index out of range, -1. I understand why this is,that is not the issue, but when I tweak it by having the control of the for loop be i&lt;msg.length()-1, it works but does not print the last letter. I also tried changing i to start at 1, but that cut off the first letter. Just not sure how to get the whole message with no error. Thanks!","title":"This program gives either an error, or does not give the last letter, how should I fix it?","body":"<pre><code>import java.util.Scanner;\n\nclass Assignment4 \n{\n  public static void main(String[] args) \n  {\n        \n    Scanner scan = new Scanner(System.in);\n    System.out.println(&quot;Type the message to be shortened&quot;);\n    String msg = scan.nextLine();\n    msg = msg.toLowerCase();\n    String alg1 = &quot;&quot;;\n    int vowelC = 0;\n    int repeatC = 0;\n    System.out.println(&quot;Algorithm 1&quot;);\n    for (int i = 0; i&lt;msg.length();i++){\n      if(msg.substring(i-1,i).equals(&quot; &quot;)){\n        alg1+=msg.substring(i,i+1);\n      }\n      else{\n        if (msg.substring(i,i+1).equals(&quot;a&quot;) || msg.substring(i,i+1).equals(&quot;e&quot;) || msg.substring(i,i+1).equals(&quot;i&quot;) || msg.substring(i,i+1).equals(&quot;o&quot;) || msg.substring(i,i+1).equals(&quot;i&quot;)){\n            vowelC++;\n        }\n        else if (msg.substring(i,i+1).equals(msg.substring(i-1,i))){\n          repeatC++;\n      }\n        else{\n        alg1+=msg.substring(i,i+1);\n        }\n      }\n    }\n    System.out.print(alg1);\n    \n  }\n}\n\n</code></pre>\n<p>This results in a index out of range, -1. I understand why this is,that is not the issue, but when I tweak it by having the control of the for loop be i&lt;msg.length()-1, it works but does not print the last letter. I also tried changing i to start at 1, but that cut off the first letter. Just not sure how to get the whole message with no error. Thanks!</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":2294849,"reputation":332016,"user_id":2016562,"accept_rate":92,"display_name":"Gabriele Mariotti"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668469589,"creation_date":1668469589,"answer_id":74439156,"question_id":74429301,"body_markdown":"You can add a `TextWatcher` removing the error message.\r\n\r\nSomething like:\r\n\r\n        textField.editText?.addTextChangedListener(object : TextWatcher {\r\n            override fun beforeTextChanged(s: CharSequence, start: Int, count: Int, after: Int) {}\r\n            override fun onTextChanged(s: CharSequence, start: Int, before: Int, count: Int) {}\r\n            override fun afterTextChanged(s: Editable) {\r\n                validateEditText(textField,s)\r\n            }\r\n        })\r\n\r\n        textField.onFocusChangeListener = View.OnFocusChangeListener { v, hasFocus -&gt;\r\n            if (!hasFocus) {\r\n                validateEditText(v as TextInputLayout,(v as EditText).text)\r\n            }\r\n        }\r\n\r\nwith:\r\n\r\n    private fun validateEditText(textField: TextInputLayout,s: Editable) {\r\n        if (!TextUtils.isEmpty(s)) {\r\n            textField.error = null\r\n        } else {\r\n            textField.error = &quot;Error&quot;\r\n        }\r\n    }","title":"How to remove error icon and error text when Textinputlayout is on focus","body":"<p>You can add a <code>TextWatcher</code> removing the error message.</p>\n<p>Something like:</p>\n<pre><code>    textField.editText?.addTextChangedListener(object : TextWatcher {\n        override fun beforeTextChanged(s: CharSequence, start: Int, count: Int, after: Int) {}\n        override fun onTextChanged(s: CharSequence, start: Int, before: Int, count: Int) {}\n        override fun afterTextChanged(s: Editable) {\n            validateEditText(textField,s)\n        }\n    })\n\n    textField.onFocusChangeListener = View.OnFocusChangeListener { v, hasFocus -&gt;\n        if (!hasFocus) {\n            validateEditText(v as TextInputLayout,(v as EditText).text)\n        }\n    }\n</code></pre>\n<p>with:</p>\n<pre><code>private fun validateEditText(textField: TextInputLayout,s: Editable) {\n    if (!TextUtils.isEmpty(s)) {\n        textField.error = null\n    } else {\n        textField.error = &quot;Error&quot;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25673529,"reputation":1,"user_id":19437370,"display_name":"CanhMai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668469589,"creation_date":1668417367,"question_id":74429301,"body_markdown":"I want to hide or remove end error icon and replace it by an end icon password toggle when typing on Textinputedittext.\r\nI used setOnfocusChangeListener and addTextChangeListener but it not work\r\nthis is my xml and java code\r\n\r\n\r\n\r\n`\r\n```\r\n     mBinding.textFieldPassword.setOnFocusChangeListener(new View.OnFocusChangeListener() {\r\n        @Override\r\n        public void onFocusChange(View v, boolean hasFocus) {\r\n        if (!hasFocus) {\r\n            mBinding.textFieldPassword.setEndIconMode(TextInputLayout.END_ICON_NONE);\r\n\r\n        } else {\r\n\r\n\r\n            mBinding.edtPassword.addTextChangedListener(new TextChangeListener() {\r\n\r\n               @Override\r\n                public void onTextChanged(CharSequence s, int start, int before, int count) {\r\n\r\n\r\n                    if (mBinding.textFieldPassword.isErrorEnabled()){\r\n                        mBinding.textFieldPassword.setErrorEnabled(false);\r\n                    }\r\n\r\n                    if (Objects.requireNonNull(mBinding.edtPassword.getText()).toString().length() &gt; 0) {\r\n\r\n                        mBinding.textFieldPassword.setEndIconMode(TextInputLayout.END_ICON_PASSWORD_TOGGLE);\r\n                    } else {\r\n                        mBinding.textFieldPassword.setEndIconMode(TextInputLayout.END_ICON_NONE);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n});\r\n```\r\n`\r\n\r\nthis below is xml \r\n\r\n\r\n      &lt;com.google.android.material.textfield.TextInputLayout\r\n        android:id=&quot;@+id/text_field_password&quot;\r\n        style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;30dp&quot;\r\n        android:hint=&quot;@string/txt_password&quot;\r\n        app:boxCornerRadiusBottomEnd=&quot;10dp&quot;\r\n        app:boxCornerRadiusBottomStart=&quot;10dp&quot;\r\n        app:boxCornerRadiusTopEnd=&quot;10dp&quot;\r\n        app:boxCornerRadiusTopStart=&quot;10dp&quot;\r\n        app:boxStrokeColor=&quot;@color/black&quot;\r\n        app:boxStrokeErrorColor=&quot;@color/red&quot;\r\n        app:boxStrokeWidth=&quot;2dp&quot;\r\n        app:endIconMode=&quot;password_toggle&quot;\r\n        app:errorTextColor=&quot;@color/red&quot;&gt;\r\n\r\n        &lt;com.google.android.material.textfield.TextInputEditText\r\n            android:id=&quot;@+id/edt_password&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;56dp&quot;\r\n\r\n            android:imeOptions=&quot;actionGo&quot;\r\n            android:inputType=&quot;textPassword&quot; /&gt;\r\n\r\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n\r\n\r\n\r\n [after the error is showed, when I type on edittext, error icon is \r\n still display  ][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CdIUZ.png","title":"How to remove error icon and error text when Textinputlayout is on focus","body":"<p>I want to hide or remove end error icon and replace it by an end icon password toggle when typing on Textinputedittext.\nI used setOnfocusChangeListener and addTextChangeListener but it not work\nthis is my xml and java code</p>\n<p>`</p>\n<pre><code>     mBinding.textFieldPassword.setOnFocusChangeListener(new View.OnFocusChangeListener() {\n        @Override\n        public void onFocusChange(View v, boolean hasFocus) {\n        if (!hasFocus) {\n            mBinding.textFieldPassword.setEndIconMode(TextInputLayout.END_ICON_NONE);\n\n        } else {\n\n\n            mBinding.edtPassword.addTextChangedListener(new TextChangeListener() {\n\n               @Override\n                public void onTextChanged(CharSequence s, int start, int before, int count) {\n\n\n                    if (mBinding.textFieldPassword.isErrorEnabled()){\n                        mBinding.textFieldPassword.setErrorEnabled(false);\n                    }\n\n                    if (Objects.requireNonNull(mBinding.edtPassword.getText()).toString().length() &gt; 0) {\n\n                        mBinding.textFieldPassword.setEndIconMode(TextInputLayout.END_ICON_PASSWORD_TOGGLE);\n                    } else {\n                        mBinding.textFieldPassword.setEndIconMode(TextInputLayout.END_ICON_NONE);\n                    }\n                }\n            });\n        }\n    }\n});\n</code></pre>\n<p>`</p>\n<p>this below is xml</p>\n<pre><code>  &lt;com.google.android.material.textfield.TextInputLayout\n    android:id=&quot;@+id/text_field_password&quot;\n    style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginTop=&quot;30dp&quot;\n    android:hint=&quot;@string/txt_password&quot;\n    app:boxCornerRadiusBottomEnd=&quot;10dp&quot;\n    app:boxCornerRadiusBottomStart=&quot;10dp&quot;\n    app:boxCornerRadiusTopEnd=&quot;10dp&quot;\n    app:boxCornerRadiusTopStart=&quot;10dp&quot;\n    app:boxStrokeColor=&quot;@color/black&quot;\n    app:boxStrokeErrorColor=&quot;@color/red&quot;\n    app:boxStrokeWidth=&quot;2dp&quot;\n    app:endIconMode=&quot;password_toggle&quot;\n    app:errorTextColor=&quot;@color/red&quot;&gt;\n\n    &lt;com.google.android.material.textfield.TextInputEditText\n        android:id=&quot;@+id/edt_password&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;56dp&quot;\n\n        android:imeOptions=&quot;actionGo&quot;\n        android:inputType=&quot;textPassword&quot; /&gt;\n\n&lt;/com.google.android.material.textfield.TextInputLayout&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/CdIUZ.png\" rel=\"nofollow noreferrer\">after the error is showed, when I type on edittext, error icon is\nstill display  </a></p>\n"},{"tags":["java","mysql","sql","jdbc"],"comments":[{"owner":{"account_id":9417,"reputation":96439,"user_id":17389,"accept_rate":38,"display_name":"ysth"},"score":1,"creation_date":1668467765,"post_id":74438903,"comment_id":131407914,"body_markdown":"why are you selecting all employees to see if one with the idexists, instead of just selecting the one you want?","body":"why are you selecting all employees to see if one with the idexists, instead of just selecting the one you want?"},{"owner":{"account_id":26932888,"reputation":3,"user_id":20504992,"display_name":"user20504992"},"score":1,"creation_date":1668467994,"post_id":74438903,"comment_id":131407965,"body_markdown":"@ysth You mean  ResultSet res = st.executeQuery(&quot;select id_emp from employees where id_emp=?&quot;);\nAnd then check is result empty?","body":"@ysth You mean  ResultSet res = st.executeQuery(&quot;select id_emp from employees where id_emp=?&quot;); And then check is result empty?"}],"answers":[{"tags":[],"owner":{"account_id":26914061,"reputation":114,"user_id":20489149,"display_name":"synapticloop"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668468623,"creation_date":1668468623,"answer_id":74439056,"question_id":74438903,"body_markdown":"Use a prepared statement\r\n\r\nHere is some sample code:\r\n\r\n```\r\npublic class SQLMain {\r\n\tpublic static void main(String[] args) throws SQLException {\r\n\t\tSystem.out.println(&quot;ID to check:&quot;);\r\n\t\tScanner scanner = new Scanner(System.in);\r\n\t\tint id = scanner.nextInt();\r\n\t\t\r\n\t\tConnection connection = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/test&quot;);\r\n\t\tPreparedStatement preparedStatement = connection.prepareStatement(&quot;select id_emp from employees where id_emp = ?&quot;);\r\n\t\tpreparedStatement.setInt(1, id);\r\n\t\t\r\n\t\tResultSet resultSet = preparedStatement.executeQuery();\r\n\t\tif(resultSet.next()) {\r\n\t\t\t// we have a row\r\n\t\t\tSystem.out.println(&quot;Found employee with id of: &quot; + resultSet.getInt(1));\r\n\t\t} else {\r\n\t\t\t// no row found - therefore unique \r\n\t\t\tSystem.out.println(&quot;not found&quot;);\r\n\t\t}\r\n\t\tresultSet.close();\r\n\t\tpreparedStatement.close();\r\n\t\tconnection.close();\r\n\t\tscanner.close();\r\n\t}\r\n}\r\n```","title":"Why does my query works only for number&lt;10?","body":"<p>Use a prepared statement</p>\n<p>Here is some sample code:</p>\n<pre><code>public class SQLMain {\n    public static void main(String[] args) throws SQLException {\n        System.out.println(&quot;ID to check:&quot;);\n        Scanner scanner = new Scanner(System.in);\n        int id = scanner.nextInt();\n        \n        Connection connection = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/test&quot;);\n        PreparedStatement preparedStatement = connection.prepareStatement(&quot;select id_emp from employees where id_emp = ?&quot;);\n        preparedStatement.setInt(1, id);\n        \n        ResultSet resultSet = preparedStatement.executeQuery();\n        if(resultSet.next()) {\n            // we have a row\n            System.out.println(&quot;Found employee with id of: &quot; + resultSet.getInt(1));\n        } else {\n            // no row found - therefore unique \n            System.out.println(&quot;not found&quot;);\n        }\n        resultSet.close();\n        preparedStatement.close();\n        connection.close();\n        scanner.close();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26932888,"reputation":3,"user_id":20504992,"display_name":"user20504992"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74439056,"answer_count":1,"score":0,"last_activity_date":1668468623,"creation_date":1668467356,"question_id":74438903,"body_markdown":"I use this func when entering data. So I need to check is there an employee with this id in db. The same function I use for registration and this method works. But when it comes to integer numbers it checks only when it&#39;s under 10 (or maybe it&#39;s the first inserted value)\r\nThis is my code to check unique of id:\r\n\r\n```\r\nprivate int checkUnique() {\r\n    try {\r\n        Scanner scan = new Scanner(System.in);\r\n        id = scan.nextInt();\r\n        Connection connection = DriverManager.getConnection(&quot;jdbc:mysql://localhost:...&quot;, &quot;...&quot;, &quot;...&quot;);\r\n        Statement st = connection.createStatement();\r\n        ResultSet res = st.executeQuery(&quot;select id_emp from employees&quot;);\r\n        while (res.next()) {\r\n            if (res.getInt(&quot;id_emp&quot;)==getId()) {\r\n                res.close();\r\n                st.close();\r\n                connection.close();\r\n                System.out.println(&quot;There is employee with this id&quot;);\r\n                System.out.println(&quot;Enter id&quot;);\r\n                checkUnique();\r\n            } else {\r\n                res.close();\r\n                st.close();\r\n                connection.close();\r\n                return id;\r\n            }\r\n        }\r\n    } catch (Exception e) {\r\n        e.printStackTrace();\r\n    }\r\n    return 0;\r\n}\r\n```\r\nAnd that how I use it in my code:\r\n\r\n\r\n```\r\nStatement st = connection.createStatement();\r\nString sql = &quot;INSERT INTO employees (id_emp, first_name, last_name, cnt_kids, cnt_dkids,is_single,added_by) &quot; +\r\n        &quot;VALUES (?, ?, ?, ?, ?,?,?)&quot;;\r\nPreparedStatement ps = connection.prepareStatement(sql);\r\nSystem.out.println(&quot;Enter id&quot;);\r\nid = checkUnique();\r\n```\r\n\r\nWhat&#39;s wrong with this?\r\n\r\n\r\nFor example this code ask to enter other id when id=2(it&#39;s realy on the table), but when I insert id=12(also in the table) it just skips.\r\nMy table:\r\n\r\n```\r\nCREATE TABLE `employees` (\r\n  `id_emp` int NOT NULL,\r\n  `first_name` varchar(30) DEFAULT NULL,\r\n  `last_name` varchar(30) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT NULL,\r\n  `cnt_kids` int DEFAULT NULL,\r\n  `cnt_dkids` int DEFAULT NULL,\r\n  `is_single` bit(1) DEFAULT NULL,\r\n  `added_by` varchar(20) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT NULL,\r\n  PRIMARY KEY (`id_emp`),\r\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;\r\n\r\n```\r\n","title":"Why does my query works only for number&lt;10?","body":"<p>I use this func when entering data. So I need to check is there an employee with this id in db. The same function I use for registration and this method works. But when it comes to integer numbers it checks only when it's under 10 (or maybe it's the first inserted value)\nThis is my code to check unique of id:</p>\n<pre><code>private int checkUnique() {\n    try {\n        Scanner scan = new Scanner(System.in);\n        id = scan.nextInt();\n        Connection connection = DriverManager.getConnection(&quot;jdbc:mysql://localhost:...&quot;, &quot;...&quot;, &quot;...&quot;);\n        Statement st = connection.createStatement();\n        ResultSet res = st.executeQuery(&quot;select id_emp from employees&quot;);\n        while (res.next()) {\n            if (res.getInt(&quot;id_emp&quot;)==getId()) {\n                res.close();\n                st.close();\n                connection.close();\n                System.out.println(&quot;There is employee with this id&quot;);\n                System.out.println(&quot;Enter id&quot;);\n                checkUnique();\n            } else {\n                res.close();\n                st.close();\n                connection.close();\n                return id;\n            }\n        }\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    return 0;\n}\n</code></pre>\n<p>And that how I use it in my code:</p>\n<pre><code>Statement st = connection.createStatement();\nString sql = &quot;INSERT INTO employees (id_emp, first_name, last_name, cnt_kids, cnt_dkids,is_single,added_by) &quot; +\n        &quot;VALUES (?, ?, ?, ?, ?,?,?)&quot;;\nPreparedStatement ps = connection.prepareStatement(sql);\nSystem.out.println(&quot;Enter id&quot;);\nid = checkUnique();\n</code></pre>\n<p>What's wrong with this?</p>\n<p>For example this code ask to enter other id when id=2(it's realy on the table), but when I insert id=12(also in the table) it just skips.\nMy table:</p>\n<pre><code>CREATE TABLE `employees` (\n  `id_emp` int NOT NULL,\n  `first_name` varchar(30) DEFAULT NULL,\n  `last_name` varchar(30) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT NULL,\n  `cnt_kids` int DEFAULT NULL,\n  `cnt_dkids` int DEFAULT NULL,\n  `is_single` bit(1) DEFAULT NULL,\n  `added_by` varchar(20) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT NULL,\n  PRIMARY KEY (`id_emp`),\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;\n\n</code></pre>\n"},{"tags":["python","java","utf-8","base64"],"comments":[{"owner":{"account_id":3277167,"reputation":8773,"user_id":2758823,"display_name":"Giacomo Catenazzi"},"score":0,"creation_date":1668425754,"post_id":74430743,"comment_id":131394147,"body_markdown":"Did you encoded Python string in UTF-8? You didn&#39;t insert Python code, so it is difficult to check.","body":"Did you encoded Python string in UTF-8? You didn&#39;t insert Python code, so it is difficult to check."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1668432279,"post_id":74430743,"comment_id":131396258,"body_markdown":"`-17, -65, -67` is the Unicode *character* for &quot;I can&#39;t decode this into a character&quot; (\\uFFFD) �","body":"<code>-17, -65, -67</code> is the Unicode <i>character</i> for &quot;I can&#39;t decode this into a character&quot; (\\uFFFD) �"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1668433732,"post_id":74430743,"comment_id":131396813,"body_markdown":"base64 consists of ASCII characters only.  If you call getBytes(&quot;UTF-8&quot;) on a base64-encoded string, all byte values should be positive.  The fact that you got some negative values means your payload is not a base64-encoded string.","body":"base64 consists of ASCII characters only.  If you call getBytes(&quot;UTF-8&quot;) on a base64-encoded string, all byte values should be positive.  The fact that you got some negative values means your payload is not a base64-encoded string."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1668434390,"post_id":74430743,"comment_id":131397047,"body_markdown":"Actually, looking more carefully at the sequence of steps described, they don&#39;t make sense. *byte[] decodedPayload = inlineAttachment.getPayload().getBytes(&quot;UTF-8&quot;);* THEN *This goes on into my code and is successfully decompressed by...GZIPInputStream inputStream = new GZIPInputStream(new ByteArrayInputStream(decodedPayload));* The first code line would only make sense if the attachment were purely UTF-8 text. BUT, the bit about then treating that as zipped data makes no sense at all. Then you say: *if (!inlineAttachment.isBase64())* (*not* Base64) but then proceed to decode it as Base64!","body":"Actually, looking more carefully at the sequence of steps described, they don&#39;t make sense. <i>byte[] decodedPayload = inlineAttachment.getPayload().getBytes(&quot;UTF-8&quot;);</i> THEN <i>This goes on into my code and is successfully decompressed by...GZIPInputStream inputStream = new GZIPInputStream(new ByteArrayInputStream(decodedPayload));</i> The first code line would only make sense if the attachment were purely UTF-8 text. BUT, the bit about then treating that as zipped data makes no sense at all. Then you say: <i>if (!inlineAttachment.isBase64())</i> (<i>not</i> Base64) but then proceed to decode it as Base64!"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1668446375,"post_id":74430743,"comment_id":131401626,"body_markdown":"*The base64 string...* No, that&#39;s not base64. It contains several double quote marks","body":"<i>The base64 string...</i> No, that&#39;s not base64. It contains several double quote marks"},{"owner":{"account_id":84277,"reputation":168394,"user_id":235698,"display_name":"Mark Tolonen"},"score":0,"creation_date":1668446655,"post_id":74430743,"comment_id":131401742,"body_markdown":"@g00se Oddly, Python&#39;s `b64decode` method works even with the quotes in the string.  Reversing the final result back to a b64 string does not generate the string with the quotes, but is otherwise the same.  I experimented and injected other non-base64 characters and it still decoded.  The algorithm must ignore non-base64 characters.","body":"@g00se Oddly, Python&#39;s <code>b64decode</code> method works even with the quotes in the string.  Reversing the final result back to a b64 string does not generate the string with the quotes, but is otherwise the same.  I experimented and injected other non-base64 characters and it still decoded.  The algorithm must ignore non-base64 characters."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1668447044,"post_id":74430743,"comment_id":131401890,"body_markdown":"Yes, it copes with it somehow. The string falls over with GNU base64","body":"Yes, it copes with it somehow. The string falls over with GNU base64"},{"owner":{"account_id":1953240,"reputation":455,"user_id":1756883,"accept_rate":83,"display_name":"Scott Alexander"},"score":0,"creation_date":1668468566,"post_id":74430743,"comment_id":131408088,"body_markdown":"I&#39;ve updated the original question with a breakdown of the two scenarios more. \n\nThere does seem to be a \\uFFFD reference after the python base64 decode, it seems odd that the string versions match though.","body":"I&#39;ve updated the original question with a breakdown of the two scenarios more.   There does seem to be a \\uFFFD reference after the python base64 decode, it seems odd that the string versions match though."},{"owner":{"account_id":84277,"reputation":168394,"user_id":235698,"display_name":"Mark Tolonen"},"score":0,"creation_date":1668470156,"post_id":74430743,"comment_id":131408389,"body_markdown":"Why are you encoding with UTF-8 before decoding?  That&#39;s not correct.  If you need to convert from `str` to `bytes` use `.encode(&#39;latin1&#39;)`.  Look at my answer for the sequence to decode, and `.b64decode` can start with a `bytes` or `str` object.","body":"Why are you encoding with UTF-8 before decoding?  That&#39;s not correct.  If you need to convert from <code>str</code> to <code>bytes</code> use <code>.encode(&#39;latin1&#39;)</code>.  Look at my answer for the sequence to decode, and <code>.b64decode</code> can start with a <code>bytes</code> or <code>str</code> object."},{"owner":{"account_id":84277,"reputation":168394,"user_id":235698,"display_name":"Mark Tolonen"},"score":0,"creation_date":1668471401,"post_id":74430743,"comment_id":131408647,"body_markdown":"&quot;Then it gets placed in the message queue&quot; and becomes a mess of `\\ufffd`.  Show a [mcve] on *how* it is placed in the message queue.  It looks like some kind of `.decode(&#39;utf8&#39;,errors=&#39;replace&#39;)` is going on to get the U+FFFD REPLACEMENT CHARACTER code points.  That&#39;s corrupting the data.  You want the *raw* bytes.","body":"&quot;Then it gets placed in the message queue&quot; and becomes a mess of <code>\\ufffd</code>.  Show a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> on <i>how</i> it is placed in the message queue.  It looks like some kind of <code>.decode(&#39;utf8&#39;,errors=&#39;replace&#39;)</code> is going on to get the U+FFFD REPLACEMENT CHARACTER code points.  That&#39;s corrupting the data.  You want the <i>raw</i> bytes."}],"answers":[{"comments":[{"owner":{"account_id":1953240,"reputation":455,"user_id":1756883,"accept_rate":83,"display_name":"Scott Alexander"},"score":0,"creation_date":1668469148,"post_id":74435329,"comment_id":131408202,"body_markdown":"It&#39;s good to know it decompress on the python side, however, the decompression only ever happens on the python side. Only the Base64 Decode occurs on the Python side. I&#39;ve updated my original question to try and make the workflow clearer. \n\nThis would suggest that a slight redesign of the process should work.","body":"It&#39;s good to know it decompress on the python side, however, the decompression only ever happens on the python side. Only the Base64 Decode occurs on the Python side. I&#39;ve updated my original question to try and make the workflow clearer.   This would suggest that a slight redesign of the process should work."}],"tags":[],"owner":{"account_id":84277,"reputation":168394,"user_id":235698,"display_name":"Mark Tolonen"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668445989,"creation_date":1668445509,"answer_id":74435329,"question_id":74430743,"body_markdown":"You didn&#39;t show Python code so I don&#39;t know where you went wrong, but you definitely shouldn&#39;t get negative numbers.  I suspect the decoding steps are applied in the wrong order.\r\n\r\nThis decodes your BASE64 string:\r\n```py\r\nimport base64\r\nimport gzip\r\n\r\ns = b&#39;H4sIAAAAAAAA/3WSzW7sIAyF9zyFd7PJS0xX7aaq1JG6ZsAJdAiOwBlu3v4eyGwrRVGCfzjfsW+B&quot;C9O6V6U7U5WV6RGzJ5mp2YNkV7XUc8y3jZ40MP3KgwupjB8NkWdz6xmXikNBLxfISZ73GiWbD3I2&quot;X5QWVspChVMvMG+IZq6VVs5T73SQLzE/aD2oIWK+kjTEyMeln7EtGsynZEY4JUr85ESSh4jUCz7l&quot;Lh6K5xlaPIVYqUnx5p2PCQSHQQaut7UXydDD/1xU9l3+CdITB386qG7gPMnIdo9sPuj8WyUvtFfz&quot;E4Rmhg4NVqFiZsKt913JDpdAqRPtYRpnh+xkYe3HRI0vT4bh3PUX2ZcwWphr7hajB54sCvsLzVZh&quot;voBYcSdVlY3UJqi8IJYqQ2uWNiACCjAGsGmExITSF/t7f11hnE1dfHetWXVBpXExX7DecaUHbzpi&quot;z8gNeDGBNqUzXfo4nMWGdIrGWc0bjJkFQiuXp81ap74C5odTOrmxPzV62HIOyknymGhVi+vMtY/S&quot;O1jnsVpLkZbMrWFIqCiY3vB624pYF4DzcqcvAD7uvNgxyICyF+SffH9G/gMaqXG6/wIAAA==&#39;\r\n\r\nstep1 = base64.b64decode(s)\r\nstep2 = gzip.decompress(step1)\r\nstep3 = step2.decode(&#39;utf8&#39;)\r\nprint(step3)\r\n```\r\nOutput:\r\n```none\r\nThere must be some kind of way outta here\r\nSaid the joker to the thief\r\nThere&#39;s too much confusion\r\nI can&#39;t get no relief\r\n\r\nBusiness men, they drink my wine\r\nPlowmen dig my earth\r\nNone will level on the line\r\nNobody offered his word\r\nHey, hey\r\n\r\nNo reason to get excited\r\nThe thief, he kindly spoke\r\nThere are many here among us\r\nWho feel that life is but a joke\r\nBut, uh, but you and I, we&#39;ve been through that\r\nAnd this is not our fate\r\nSo let us stop talkin&#39; falsely now\r\nThe hour&#39;s getting late, hey\r\n\r\nHey\r\n\r\nAll along the watchtower\r\nPrinces kept the view\r\nWhile all the women came and went\r\nBarefoot servants, too\r\nWell, uh, outside in the cold distance\r\nA wildcat did growl\r\nTwo riders were approaching\r\nAnd the wind began to howl, hey\r\n\r\nAll along the watchtower\r\n\r\nAll along the watchtower\r\n```","title":"Base64 Conversion issue between Python and JAVA","body":"<p>You didn't show Python code so I don't know where you went wrong, but you definitely shouldn't get negative numbers.  I suspect the decoding steps are applied in the wrong order.</p>\n<p>This decodes your BASE64 string:</p>\n<pre class=\"lang-py prettyprint-override\"><code>import base64\nimport gzip\n\ns = b'H4sIAAAAAAAA/3WSzW7sIAyF9zyFd7PJS0xX7aaq1JG6ZsAJdAiOwBlu3v4eyGwrRVGCfzjfsW+B&quot;C9O6V6U7U5WV6RGzJ5mp2YNkV7XUc8y3jZ40MP3KgwupjB8NkWdz6xmXikNBLxfISZ73GiWbD3I2&quot;X5QWVspChVMvMG+IZq6VVs5T73SQLzE/aD2oIWK+kjTEyMeln7EtGsynZEY4JUr85ESSh4jUCz7l&quot;Lh6K5xlaPIVYqUnx5p2PCQSHQQaut7UXydDD/1xU9l3+CdITB386qG7gPMnIdo9sPuj8WyUvtFfz&quot;E4Rmhg4NVqFiZsKt913JDpdAqRPtYRpnh+xkYe3HRI0vT4bh3PUX2ZcwWphr7hajB54sCvsLzVZh&quot;voBYcSdVlY3UJqi8IJYqQ2uWNiACCjAGsGmExITSF/t7f11hnE1dfHetWXVBpXExX7DecaUHbzpi&quot;z8gNeDGBNqUzXfo4nMWGdIrGWc0bjJkFQiuXp81ap74C5odTOrmxPzV62HIOyknymGhVi+vMtY/S&quot;O1jnsVpLkZbMrWFIqCiY3vB624pYF4DzcqcvAD7uvNgxyICyF+SffH9G/gMaqXG6/wIAAA=='\n\nstep1 = base64.b64decode(s)\nstep2 = gzip.decompress(step1)\nstep3 = step2.decode('utf8')\nprint(step3)\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>There must be some kind of way outta here\nSaid the joker to the thief\nThere's too much confusion\nI can't get no relief\n\nBusiness men, they drink my wine\nPlowmen dig my earth\nNone will level on the line\nNobody offered his word\nHey, hey\n\nNo reason to get excited\nThe thief, he kindly spoke\nThere are many here among us\nWho feel that life is but a joke\nBut, uh, but you and I, we've been through that\nAnd this is not our fate\nSo let us stop talkin' falsely now\nThe hour's getting late, hey\n\nHey\n\nAll along the watchtower\nPrinces kept the view\nWhile all the women came and went\nBarefoot servants, too\nWell, uh, outside in the cold distance\nA wildcat did growl\nTwo riders were approaching\nAnd the wind began to howl, hey\n\nAll along the watchtower\n\nAll along the watchtower\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1953240,"reputation":455,"user_id":1756883,"accept_rate":83,"display_name":"Scott Alexander"},"score":0,"creation_date":1668468621,"post_id":74436038,"comment_id":131408105,"body_markdown":"There is a difference between Base64.getMimeDecoder().decode and Base64.getDecoder().\n\nThe MimeDecoder supports a different standard that can be in the form of...\n&quot;Each line of the output is no longer than 76 characters. Also, it ends with a carriage return followed by a linefeed (\\r\\n):&quot;","body":"There is a difference between Base64.getMimeDecoder().decode and Base64.getDecoder().  The MimeDecoder supports a different standard that can be in the form of... &quot;Each line of the output is no longer than 76 characters. Also, it ends with a carriage return followed by a linefeed (\\r\\n):&quot;"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1668472844,"post_id":74436038,"comment_id":131408888,"body_markdown":"Yes. I haven&#39;t tried whether the mime decoder will fail with double quotes in the encoding, but if I were forced to place a bet, I&#39;d say it would","body":"Yes. I haven&#39;t tried whether the mime decoder will fail with double quotes in the encoding, but if I were forced to place a bet, I&#39;d say it would"}],"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668449242,"creation_date":1668449242,"answer_id":74436038,"question_id":74430743,"body_markdown":"Java too requires no quotation marks in Base64. The commented line below will cause the code to fail:\r\n\r\n    import java.util.Base64;\r\n    import java.util.zip.GZIPInputStream;\r\n    import java.io.ByteArrayInputStream;\r\n    import java.io.InputStreamReader;\r\n    import java.io.Reader;\r\n    \r\n    public class Zimmerman {\r\n        public static void main(String[] args) {\r\n            String s = &quot;&quot;&quot;\r\n                    H4sIAAAAAAAA/3WSzW7sIAyF9zyFd7PJS0xX7aaq1JG6ZsAJdAiOwBlu3v4eyGwrRVGCfzjfsW+B\\&quot;C9O6V6U7U5WV6RGzJ5mp2YNkV7XUc8y3jZ40MP3KgwupjB8NkWdz6xmXikNBLxfISZ73GiWbD3I2\\&quot;X5QWVspChVMvMG+IZq6VVs5T73SQLzE/aD2oIWK+kjTEyMeln7EtGsynZEY4JUr85ESSh4jUCz7l\\&quot;Lh6K5xlaPIVYqUnx5p2PCQSHQQaut7UXydDD/1xU9l3+CdITB386qG7gPMnIdo9sPuj8WyUvtFfz\\&quot;E4Rmhg4NVqFiZsKt913JDpdAqRPtYRpnh+xkYe3HRI0vT4bh3PUX2ZcwWphr7hajB54sCvsLzVZh\\&quot;voBYcSdVlY3UJqi8IJYqQ2uWNiACCjAGsGmExITSF/t7f11hnE1dfHetWXVBpXExX7DecaUHbzpi\\&quot;z8gNeDGBNqUzXfo4nMWGdIrGWc0bjJkFQiuXp81ap74C5odTOrmxPzV62HIOyknymGhVi+vMtY/S\\&quot;O1jnsVpLkZbMrWFIqCiY3vB624pYF4DzcqcvAD7uvNgxyICyF+SffH9G/gMaqXG6/wIAAA==&quot;&quot;&quot;;\r\n            //s = s.replaceAll(&quot;\\&quot;&quot;, &quot;&quot;);\r\n            try (Reader in = new InputStreamReader(\r\n                    new GZIPInputStream(new ByteArrayInputStream(Base64.getDecoder().decode(s.getBytes(&quot;UTF-8&quot;)))),\r\n                    &quot;UTF-8&quot;)) {\r\n                int buf = -1;\r\n                while ((buf = in.read()) &gt; -1) {\r\n                    System.out.print((char) buf);\r\n                }\r\n            } catch (Throwable t) {\r\n                t.printStackTrace();\r\n            }\r\n    \r\n        }\r\n    }\r\n\r\n","title":"Base64 Conversion issue between Python and JAVA","body":"<p>Java too requires no quotation marks in Base64. The commented line below will cause the code to fail:</p>\n<pre><code>import java.util.Base64;\nimport java.util.zip.GZIPInputStream;\nimport java.io.ByteArrayInputStream;\nimport java.io.InputStreamReader;\nimport java.io.Reader;\n\npublic class Zimmerman {\n    public static void main(String[] args) {\n        String s = &quot;&quot;&quot;\n                H4sIAAAAAAAA/3WSzW7sIAyF9zyFd7PJS0xX7aaq1JG6ZsAJdAiOwBlu3v4eyGwrRVGCfzjfsW+B\\&quot;C9O6V6U7U5WV6RGzJ5mp2YNkV7XUc8y3jZ40MP3KgwupjB8NkWdz6xmXikNBLxfISZ73GiWbD3I2\\&quot;X5QWVspChVMvMG+IZq6VVs5T73SQLzE/aD2oIWK+kjTEyMeln7EtGsynZEY4JUr85ESSh4jUCz7l\\&quot;Lh6K5xlaPIVYqUnx5p2PCQSHQQaut7UXydDD/1xU9l3+CdITB386qG7gPMnIdo9sPuj8WyUvtFfz\\&quot;E4Rmhg4NVqFiZsKt913JDpdAqRPtYRpnh+xkYe3HRI0vT4bh3PUX2ZcwWphr7hajB54sCvsLzVZh\\&quot;voBYcSdVlY3UJqi8IJYqQ2uWNiACCjAGsGmExITSF/t7f11hnE1dfHetWXVBpXExX7DecaUHbzpi\\&quot;z8gNeDGBNqUzXfo4nMWGdIrGWc0bjJkFQiuXp81ap74C5odTOrmxPzV62HIOyknymGhVi+vMtY/S\\&quot;O1jnsVpLkZbMrWFIqCiY3vB624pYF4DzcqcvAD7uvNgxyICyF+SffH9G/gMaqXG6/wIAAA==&quot;&quot;&quot;;\n        //s = s.replaceAll(&quot;\\&quot;&quot;, &quot;&quot;);\n        try (Reader in = new InputStreamReader(\n                new GZIPInputStream(new ByteArrayInputStream(Base64.getDecoder().decode(s.getBytes(&quot;UTF-8&quot;)))),\n                &quot;UTF-8&quot;)) {\n            int buf = -1;\n            while ((buf = in.read()) &gt; -1) {\n                System.out.print((char) buf);\n            }\n        } catch (Throwable t) {\n            t.printStackTrace();\n        }\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1953240,"reputation":455,"user_id":1756883,"accept_rate":83,"display_name":"Scott Alexander"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":356,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1668468407,"creation_date":1668424385,"question_id":74430743,"body_markdown":"Good Morning \r\n\r\nI&#39;m having an issue converting a Base64 string back to a byte stream when using a compressed file. There appears to be a difference in the byte arrays between a pre converted string from python vs a byte conversion in Java. \r\n\r\n**UPDATED:**\r\n\r\nApologies, I think my explanation left something to desire. I&#39;ve attempted to simplify the issue into two scenarios. \r\n\r\n**Scenario 1: Java Only (Successful scenario)**\r\n\r\nA compressed file encoded as base64 is received into my Java application from a message queue...\r\n\r\nH4sIAAAAAAAA/3WSzW7sIAyF9zyFd7PJS0xX7aaq1JG6ZsAJdAiOwBlu3v4eyGwrRVGCfzjfsW+B&quot;C9O6V6U7U5WV6RGzJ5mp2YNkV7XUc8y3jZ40MP3KgwupjB8NkWdz6xmXikNBLxfISZ73GiWbD3I2&quot;X5QWVspChVMvMG+IZq6VVs5T73SQLzE/aD2oIWK+kjTEyMeln7EtGsynZEY4JUr85ESSh4jUCz7l&quot;Lh6K5xlaPIVYqUnx5p2PCQSHQQaut7UXydDD/1xU9l3+CdITB386qG7gPMnIdo9sPuj8WyUvtFfz&quot;E4Rmhg4NVqFiZsKt913JDpdAqRPtYRpnh+xkYe3HRI0vT4bh3PUX2ZcwWphr7hajB54sCvsLzVZh&quot;voBYcSdVlY3UJqi8IJYqQ2uWNiACCjAGsGmExITSF/t7f11hnE1dfHetWXVBpXExX7DecaUHbzpi&quot;z8gNeDGBNqUzXfo4nMWGdIrGWc0bjJkFQiuXp81ap74C5odTOrmxPzV62HIOyknymGhVi+vMtY/S&quot;O1jnsVpLkZbMrWFIqCiY3vB624pYF4DzcqcvAD7uvNgxyICyF+SffH9G/gMaqXG6/wIAAA==\r\n\r\nIt is passed through the following code...\r\n\r\n    byte[] decodedPayload = inlineAttachment.getPayload().getBytes(&quot;UTF-8&quot;);\r\n    decodedPayload = Base64.getMimeDecoder().decode(inlineAttachment.getPayload());\r\n\r\n    if (inlineAttachment.isCompressed()) {\r\n        GZIPInputStream inputStream = new GZIPInputStream(new ByteArrayInputStream(decodedPayload));\r\n        payload = inputStream.readAllBytes();\r\n    }\r\n\r\nThere are no issues with this the file is decompressed. \r\nIt should be noted that the decodedPayload before the decompression looks like this as a string…\r\n\r\n��������u��n� ��&lt;�w��KLW�ԑ�f�    t��n���l+EQ�8߱o�ӺW�;S����&#39;��كdW��s̷��40�ʃ��\r\n�gs���CA/�I��%�r6_�V�B�S/0o�f��V�S�t�/1?h=�!b��4��ǥ��-̧dF8%J��D����&gt;�.��Z&lt;�X�I�杏   �A�������\\T�]�   �:�n�&lt;��v�l&gt;��[%/�W��f�\r\nV�bf&#173;�]��@��ag��da��D�/O����ٗ0Z�k���,\r\n��Va��Xq&#39;U���&amp;�� �*Ck�6 \r\n0�i�Ą��{]a�M]|w�YuA�q1_��q�o:b��\r\nx1�6�3]�8�ņt��Y���B+���Z���S:��?5z�r�I�hU��̵��;X�ZK��̭aH�(���zۊX��r�/�&gt;��1Ȁ��|F��q����\r\n\r\nand this as a byte string... \r\n\r\n[31, -117, 8, 0, 0, 0, 0, 0, 0, -1, 117, -110, -51, 110, -20, 32, 12, -123, -9, 60, -123, 119, -77, -55, 75, 76, 87, -19, -90, -86, -44, -111, -70, 102, -64, 9, 116, 8, -114, -64,…\r\n\r\n\r\n\r\n**Scenario 2: Python Base64 decode before Java decompression** \r\n\r\nThis time around we start off in the Python application, the Python application receives the base64 string and decodes it via the following...\r\n\r\n    bpayload = payload.encode(&#39;utf-8&#39;)\r\n    splitLines = bpayload.splitlines()\r\n    splitlinesb = b&#39;&#39;.join(splitLines)\r\n    value, defects = decode_b(splitlinesb)\r\n\r\nIn python the base64 byte array is as follows...\r\n\r\nb&quot;\\x1f\\x8b\\x08\\x00\\x00\\x00\\x00\\x00\\x00\\xffu\\x92\\xcdn\\xec \\x0c\\x85\\xf7&lt;\\x85w\\xb3\\xc9KLW\\xed\\xa6\\xaa\\xd4\\x91\\xbaf\\xc0\\tt\\x08\\x8e\\xc0\\x19n\\xde\\xfe\\x1e\\xc8l+EQ\\x82\\x7f8\\xdf\\xb1o\\x81\\x0b\\xd3\\xbaW\\xa5;S\\x95\\x95\\xe9\\x11\\xb3&#39;\\x99\\xa9\\xd9\\x83dW\\xb5\\xd4s\\xcc\\xb7\\x8d\\x9e40\\xfd\\xca\\x83\\x0b\\xa9\\x8c\\x1f\\r\\x91gs\\xeb\\x19\\x97\\x8aCA/\\x17\\xc8I\\x9e\\xf7\\x1a%\\x9b\\x0fr6_\\x94\\x16V\\xcaB\\x85S/0o\\x88f\\xae\\x95V\\xceS\\xeft\\x90/1?h=\\xa8!b\\xbe\\x924\\xc4\\xc8\\xc7\\xa5\\x9f\\xb1-\\x1a\\xcc\\xa7dF8%J\\xfc\\xe4D\\x92\\x87\\x88\\xd4\\x0b&gt;\\xe5.\\x1e\\x8a\\xe7\\x19Z&lt;\\x85X\\xa9I\\xf1\\xe6\\x9d\\x8f\\t\\x04\\x87A\\x06\\xae\\xb7\\xb5\\x17\\xc9\\xd0\\xc3\\xff\\\\T\\xf6]\\xfe\\t\\xd2\\x13\\x07\\x7f:\\xa8n\\xe0&lt;\\xc9\\xc8v\\x8fl&gt;\\xe8\\xfc[%/\\xb4W\\xf3\\x13\\x84f\\x86\\x0e\\rV\\xa1bf\\xc2\\xad\\xf7]\\xc9\\x0e\\x97@\\xa9\\x13\\xeda\\x1ag\\x87\\xecda\\xed\\xc7D\\x8d/O\\x86\\xe1\\xdc\\xf5\\x17\\xd9\\x970Z\\x98k\\xee\\x16\\xa3\\x07\\x9e,\\n\\xfb\\x0b\\xcdVa\\xbe\\x80Xq&#39;U\\x95\\x8d\\xd4&amp;\\xa8\\xbc \\x96*Ck\\x966 \\x02\\n0\\x06\\xb0i\\x84\\xc4\\x84\\xd2\\x17\\xfb{\\x7f]a\\x9cM]|w\\xadYuA\\xa5q1_\\xb0\\xdeq\\xa5\\x07o:b\\xcf\\xc8\\rx1\\x816\\xa53]\\xfa8\\x9c\\xc5\\x86t\\x8a\\xc6Y\\xcd\\x1b\\x8c\\x99\\x05B+\\x97\\xa7\\xcdZ\\xa7\\xbe\\x02\\xe6\\x87S:\\xb9\\xb1?5z\\xd8r\\x0e\\xcaI\\xf2\\x98hU\\x8b\\xeb\\xcc\\xb5\\x8f\\xd2;X\\xe7\\xb1ZK\\x91\\x96\\xcc\\xadaH\\xa8(\\x98\\xde\\xf0z\\xdb\\x8aX\\x17\\x80\\xf3r\\xa7/\\x00&gt;\\xee\\xbc\\xd81\\xc8\\x80\\xb2\\x17\\xe4\\x9f|\\x7fF\\xfe\\x03\\x1a\\xa9q\\xba\\xff\\x02\\x00\\x00”\r\n\r\nThis is then placed into a message queue, the data looks like (covering all views of the data)... \r\n\r\n\\u001f\\ufffd\\b\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\ufffdu\\ufffd\\ufffdn\\ufffd \\f\\ufffd\\ufffd&lt;\\ufffdw\\ufffd\\ufffdKLW\\ufffd\\ufffd\\ufffd\\u0511\\ufffdf\\ufffd\\tt\\b\\ufffd\\ufffd\\u0019n\\ufffd\\ufffd\\u001e\\ufffdl+EQ\\ufffd\\u007f8\\u07f1o\\ufffd\\u000b\\u04faW\\ufffd;S\\ufffd\\ufffd\\ufffd\\u0011\\ufffd&#39;\\ufffd\\ufffd\\u0643dW\\ufffd\\ufffds\\u0337\\ufffd\\ufffd40\\ufffd\\u0283\\u000b\\ufffd\\ufffd\\u001f\\r\\ufffdgs\\ufffd\\u0019\\ufffd\\ufffdCA/\\u0017\\ufffdI\\ufffd\\ufffd\\u001a%\\ufffd\\u000fr6_\\ufffd\\u0016V\\ufffdB\\ufffdS/0o\\ufffdf\\ufffd\\ufffdV\\ufffdS\\ufffdt\\ufffd/1?h=\\ufffd!b\\ufffd\\ufffd4\\ufffd\\ufffd\\u01e5\\ufffd\\ufffd-\\u001a\\u0327dF8%J\\ufffd\\ufffdD\\ufffd\\ufffd\\ufffd\\ufffd\\u000b&gt;\\ufffd.\\u001e\\ufffd\\ufffd\\u0019Z&lt;\\ufffdX\\ufffdI\\ufffd\\u674f\\t\\u0004\\ufffdA\\u0006\\ufffd\\ufffd\\ufffd\\u0017\\ufffd\\ufffd\\ufffd\\ufffd\\\\T\\ufffd]\\ufffd\\t\\ufffd\\u0013\\u0007\\u007f:\\ufffdn\\ufffd&lt;\\ufffd\\ufffdv\\ufffdl&gt;\\ufffd\\ufffd[%/\\ufffdW\\ufffd\\u0013\\ufffdf\\ufffd\\u000e\\rV\\ufffdbf\\u00ad\\ufffd]\\ufffd\\u000e\\ufffd@\\ufffd\\u0013\\ufffda\\u001ag\\ufffd\\ufffdda\\ufffd\\ufffdD\\ufffd/O\\ufffd\\ufffd\\ufffd\\ufffd\\u0017\\u06570Z\\ufffdk\\ufffd\\u0016\\ufffd\\u0007\\ufffd,\\n\\ufffd\\u000b\\ufffdVa\\ufffd\\ufffdXq&#39;U\\ufffd\\ufffd\\ufffd&amp;\\ufffd\\ufffd \\ufffd*Ck\\ufffd6 \\u0002\\n0\\u0006\\ufffdi\\ufffd\\u0104\\ufffd\\u0017\\ufffd{\\u007f]a\\ufffdM]|w\\ufffdYuA\\ufffdq1_\\ufffd\\ufffdq\\ufffd\\u0007o:b\\ufffd\\ufffd\\rx1\\ufffd6\\ufffd3]\\ufffd8\\ufffd\\u0146t\\ufffd\\ufffdY\\ufffd\\u001b\\ufffd\\ufffd\\u0005B+\\ufffd\\ufffd\\ufffdZ\\ufffd\\ufffd\\u0002\\ufffdS:\\ufffd\\ufffd?5z\\ufffdr\\u000e\\ufffdI\\ufffdhU\\ufffd\\ufffd\\u0335\\ufffd\\ufffd;X\\ufffdZK\\ufffd\\ufffd\\u032daH\\ufffd(\\ufffd\\ufffd\\ufffdz\\u06caX\\u0017\\ufffd\\ufffdr\\ufffd/\\u0000&gt;\\ufffd\\ufffd1\\u0200\\ufffd\\u0017\\ufffd|\\u007fF\\ufffd\\u0003\\u001a\\ufffdq\\ufffd\\ufffd\\u0002\\u0000\\u0000\r\n\r\n\r\n\r\nWe now get to the **Java side**, the message is pulled off the queue and we attempt to decompress the given message only as the Base64 decode has already occurred...\r\n\r\n    byte[] decodedPayload = inlineAttachment.getPayload().getBytes(&quot;UTF-8&quot;);\r\n \r\n    if (inlineAttachment.isCompressed()) {\r\n        GZIPInputStream inputStream = new GZIPInputStream(new ByteArrayInputStream(decodedPayload));\r\n        payload = inputStream.readAllBytes();\r\n    }\r\n\r\nThe decoded payload looks like this as a string... \r\n\r\n��������u��n� ��&lt;�w��KLW���ԑ�f�  t��n���l+EQ�8߱o�ӺW�;S����&#39;��كdW��s̷��40�ʃ��\r\n�gs���CA/�I��%�r6_�V�B�S/0o�f��V�S�t�/1?h=�!b��4��ǥ��-̧dF8%J��D����&gt;�.��Z&lt;�X�I�杏   �A�������\\T�]�   �:�n�&lt;��v�l&gt;��[%/�W��f�\r\nV�bf&#173;�]��@��ag��da��D�/O����ٗ0Z�k���,\r\n��Va��Xq&#39;U���&amp;�� �*Ck�6 \r\n0�i�Ą��{]a�M]|w�YuA�q1_��q�o:b��\r\nx1�6�3]�8�ņt��Y���B+���Z���S:��?5z�r�I�hU��̵��;X�ZK��̭aH�(���zۊX��r�/�&gt;��1Ȁ��|F��q����\r\n\r\nand this is the byte array... \r\n\r\n[31, -17, -65, -67, 8, 0, 0, 0, 0, 0, 0, -17, -65, -67, 117, -17, -65, -67, -17, -65, -67, 110, -17, -65, -67, 32, 12, -17, -65, -67, -17, -65, -67, 60, -17, -65, -67, 119...\r\n\r\nThere is a difference at this point between the Java version which is KLW���ԑ�f� vs KLW�ԑ�f� in the first line.\r\n\r\nIt is this scenario which will not decompress, although the string versions of the file are almost identical, the byte arrays are significantly different. \r\n \r\nMany Thanks in Advance\r\n","title":"Base64 Conversion issue between Python and JAVA","body":"<p>Good Morning</p>\n<p>I'm having an issue converting a Base64 string back to a byte stream when using a compressed file. There appears to be a difference in the byte arrays between a pre converted string from python vs a byte conversion in Java.</p>\n<p><strong>UPDATED:</strong></p>\n<p>Apologies, I think my explanation left something to desire. I've attempted to simplify the issue into two scenarios.</p>\n<p><strong>Scenario 1: Java Only (Successful scenario)</strong></p>\n<p>A compressed file encoded as base64 is received into my Java application from a message queue...</p>\n<p>H4sIAAAAAAAA/3WSzW7sIAyF9zyFd7PJS0xX7aaq1JG6ZsAJdAiOwBlu3v4eyGwrRVGCfzjfsW+B&quot;C9O6V6U7U5WV6RGzJ5mp2YNkV7XUc8y3jZ40MP3KgwupjB8NkWdz6xmXikNBLxfISZ73GiWbD3I2&quot;X5QWVspChVMvMG+IZq6VVs5T73SQLzE/aD2oIWK+kjTEyMeln7EtGsynZEY4JUr85ESSh4jUCz7l&quot;Lh6K5xlaPIVYqUnx5p2PCQSHQQaut7UXydDD/1xU9l3+CdITB386qG7gPMnIdo9sPuj8WyUvtFfz&quot;E4Rmhg4NVqFiZsKt913JDpdAqRPtYRpnh+xkYe3HRI0vT4bh3PUX2ZcwWphr7hajB54sCvsLzVZh&quot;voBYcSdVlY3UJqi8IJYqQ2uWNiACCjAGsGmExITSF/t7f11hnE1dfHetWXVBpXExX7DecaUHbzpi&quot;z8gNeDGBNqUzXfo4nMWGdIrGWc0bjJkFQiuXp81ap74C5odTOrmxPzV62HIOyknymGhVi+vMtY/S&quot;O1jnsVpLkZbMrWFIqCiY3vB624pYF4DzcqcvAD7uvNgxyICyF+SffH9G/gMaqXG6/wIAAA==</p>\n<p>It is passed through the following code...</p>\n<pre><code>byte[] decodedPayload = inlineAttachment.getPayload().getBytes(&quot;UTF-8&quot;);\ndecodedPayload = Base64.getMimeDecoder().decode(inlineAttachment.getPayload());\n\nif (inlineAttachment.isCompressed()) {\n    GZIPInputStream inputStream = new GZIPInputStream(new ByteArrayInputStream(decodedPayload));\n    payload = inputStream.readAllBytes();\n}\n</code></pre>\n<p>There are no issues with this the file is decompressed.\nIt should be noted that the decodedPayload before the decompression looks like this as a string…</p>\n<p>��������u��n� ��&lt;�w��KLW�ԑ�f�    t��n���l+EQ�8߱o�ӺW�;S����'��كdW��s̷��40�ʃ��\n�gs���CA/�I��%�r6_�V�B�S/0o�f��V�S�t�/1?h=�!b��4��ǥ��-̧dF8%J��D����&gt;�.��Z&lt;�X�I�杏   �A�������\\T�]�   �:�n�&lt;��v�l&gt;��[%/�W��f�\nV�bf­�]��@��ag��da��D�/O����ٗ0Z�k���,\n��Va��Xq'U���&amp;�� �*Ck�6\n0�i�Ą��{]a�M]|w�YuA�q1_��q�o:b��\nx1�6�3]�8�ņt��Y���B+���Z���S:��?5z�r�I�hU��̵��;X�ZK��̭aH�(���zۊX��r�/�&gt;��1Ȁ��|F��q����</p>\n<p>and this as a byte string...</p>\n<p>[31, -117, 8, 0, 0, 0, 0, 0, 0, -1, 117, -110, -51, 110, -20, 32, 12, -123, -9, 60, -123, 119, -77, -55, 75, 76, 87, -19, -90, -86, -44, -111, -70, 102, -64, 9, 116, 8, -114, -64,…</p>\n<p><strong>Scenario 2: Python Base64 decode before Java decompression</strong></p>\n<p>This time around we start off in the Python application, the Python application receives the base64 string and decodes it via the following...</p>\n<pre><code>bpayload = payload.encode('utf-8')\nsplitLines = bpayload.splitlines()\nsplitlinesb = b''.join(splitLines)\nvalue, defects = decode_b(splitlinesb)\n</code></pre>\n<p>In python the base64 byte array is as follows...</p>\n<p>b&quot;\\x1f\\x8b\\x08\\x00\\x00\\x00\\x00\\x00\\x00\\xffu\\x92\\xcdn\\xec \\x0c\\x85\\xf7&lt;\\x85w\\xb3\\xc9KLW\\xed\\xa6\\xaa\\xd4\\x91\\xbaf\\xc0\\tt\\x08\\x8e\\xc0\\x19n\\xde\\xfe\\x1e\\xc8l+EQ\\x82\\x7f8\\xdf\\xb1o\\x81\\x0b\\xd3\\xbaW\\xa5;S\\x95\\x95\\xe9\\x11\\xb3'\\x99\\xa9\\xd9\\x83dW\\xb5\\xd4s\\xcc\\xb7\\x8d\\x9e40\\xfd\\xca\\x83\\x0b\\xa9\\x8c\\x1f\\r\\x91gs\\xeb\\x19\\x97\\x8aCA/\\x17\\xc8I\\x9e\\xf7\\x1a%\\x9b\\x0fr6_\\x94\\x16V\\xcaB\\x85S/0o\\x88f\\xae\\x95V\\xceS\\xeft\\x90/1?h=\\xa8!b\\xbe\\x924\\xc4\\xc8\\xc7\\xa5\\x9f\\xb1-\\x1a\\xcc\\xa7dF8%J\\xfc\\xe4D\\x92\\x87\\x88\\xd4\\x0b&gt;\\xe5.\\x1e\\x8a\\xe7\\x19Z&lt;\\x85X\\xa9I\\xf1\\xe6\\x9d\\x8f\\t\\x04\\x87A\\x06\\xae\\xb7\\xb5\\x17\\xc9\\xd0\\xc3\\xff\\T\\xf6]\\xfe\\t\\xd2\\x13\\x07\\x7f:\\xa8n\\xe0&lt;\\xc9\\xc8v\\x8fl&gt;\\xe8\\xfc[%/\\xb4W\\xf3\\x13\\x84f\\x86\\x0e\\rV\\xa1bf\\xc2\\xad\\xf7]\\xc9\\x0e\\x97@\\xa9\\x13\\xeda\\x1ag\\x87\\xecda\\xed\\xc7D\\x8d/O\\x86\\xe1\\xdc\\xf5\\x17\\xd9\\x970Z\\x98k\\xee\\x16\\xa3\\x07\\x9e,\\n\\xfb\\x0b\\xcdVa\\xbe\\x80Xq'U\\x95\\x8d\\xd4&amp;\\xa8\\xbc \\x96*Ck\\x966 \\x02\\n0\\x06\\xb0i\\x84\\xc4\\x84\\xd2\\x17\\xfb{\\x7f]a\\x9cM]|w\\xadYuA\\xa5q1_\\xb0\\xdeq\\xa5\\x07o:b\\xcf\\xc8\\rx1\\x816\\xa53]\\xfa8\\x9c\\xc5\\x86t\\x8a\\xc6Y\\xcd\\x1b\\x8c\\x99\\x05B+\\x97\\xa7\\xcdZ\\xa7\\xbe\\x02\\xe6\\x87S:\\xb9\\xb1?5z\\xd8r\\x0e\\xcaI\\xf2\\x98hU\\x8b\\xeb\\xcc\\xb5\\x8f\\xd2;X\\xe7\\xb1ZK\\x91\\x96\\xcc\\xadaH\\xa8(\\x98\\xde\\xf0z\\xdb\\x8aX\\x17\\x80\\xf3r\\xa7/\\x00&gt;\\xee\\xbc\\xd81\\xc8\\x80\\xb2\\x17\\xe4\\x9f|\\x7fF\\xfe\\x03\\x1a\\xa9q\\xba\\xff\\x02\\x00\\x00”</p>\n<p>This is then placed into a message queue, the data looks like (covering all views of the data)...</p>\n<p>\\u001f\\ufffd\\b\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\ufffdu\\ufffd\\ufffdn\\ufffd \\f\\ufffd\\ufffd&lt;\\ufffdw\\ufffd\\ufffdKLW\\ufffd\\ufffd\\ufffd\\u0511\\ufffdf\\ufffd\\tt\\b\\ufffd\\ufffd\\u0019n\\ufffd\\ufffd\\u001e\\ufffdl+EQ\\ufffd\\u007f8\\u07f1o\\ufffd\\u000b\\u04faW\\ufffd;S\\ufffd\\ufffd\\ufffd\\u0011\\ufffd'\\ufffd\\ufffd\\u0643dW\\ufffd\\ufffds\\u0337\\ufffd\\ufffd40\\ufffd\\u0283\\u000b\\ufffd\\ufffd\\u001f\\r\\ufffdgs\\ufffd\\u0019\\ufffd\\ufffdCA/\\u0017\\ufffdI\\ufffd\\ufffd\\u001a%\\ufffd\\u000fr6_\\ufffd\\u0016V\\ufffdB\\ufffdS/0o\\ufffdf\\ufffd\\ufffdV\\ufffdS\\ufffdt\\ufffd/1?h=\\ufffd!b\\ufffd\\ufffd4\\ufffd\\ufffd\\u01e5\\ufffd\\ufffd-\\u001a\\u0327dF8%J\\ufffd\\ufffdD\\ufffd\\ufffd\\ufffd\\ufffd\\u000b&gt;\\ufffd.\\u001e\\ufffd\\ufffd\\u0019Z&lt;\\ufffdX\\ufffdI\\ufffd\\u674f\\t\\u0004\\ufffdA\\u0006\\ufffd\\ufffd\\ufffd\\u0017\\ufffd\\ufffd\\ufffd\\ufffd\\T\\ufffd]\\ufffd\\t\\ufffd\\u0013\\u0007\\u007f:\\ufffdn\\ufffd&lt;\\ufffd\\ufffdv\\ufffdl&gt;\\ufffd\\ufffd[%/\\ufffdW\\ufffd\\u0013\\ufffdf\\ufffd\\u000e\\rV\\ufffdbf\\u00ad\\ufffd]\\ufffd\\u000e\\ufffd@\\ufffd\\u0013\\ufffda\\u001ag\\ufffd\\ufffdda\\ufffd\\ufffdD\\ufffd/O\\ufffd\\ufffd\\ufffd\\ufffd\\u0017\\u06570Z\\ufffdk\\ufffd\\u0016\\ufffd\\u0007\\ufffd,\\n\\ufffd\\u000b\\ufffdVa\\ufffd\\ufffdXq'U\\ufffd\\ufffd\\ufffd&amp;\\ufffd\\ufffd \\ufffd*Ck\\ufffd6 \\u0002\\n0\\u0006\\ufffdi\\ufffd\\u0104\\ufffd\\u0017\\ufffd{\\u007f]a\\ufffdM]|w\\ufffdYuA\\ufffdq1_\\ufffd\\ufffdq\\ufffd\\u0007o:b\\ufffd\\ufffd\\rx1\\ufffd6\\ufffd3]\\ufffd8\\ufffd\\u0146t\\ufffd\\ufffdY\\ufffd\\u001b\\ufffd\\ufffd\\u0005B+\\ufffd\\ufffd\\ufffdZ\\ufffd\\ufffd\\u0002\\ufffdS:\\ufffd\\ufffd?5z\\ufffdr\\u000e\\ufffdI\\ufffdhU\\ufffd\\ufffd\\u0335\\ufffd\\ufffd;X\\ufffdZK\\ufffd\\ufffd\\u032daH\\ufffd(\\ufffd\\ufffd\\ufffdz\\u06caX\\u0017\\ufffd\\ufffdr\\ufffd/\\u0000&gt;\\ufffd\\ufffd1\\u0200\\ufffd\\u0017\\ufffd|\\u007fF\\ufffd\\u0003\\u001a\\ufffdq\\ufffd\\ufffd\\u0002\\u0000\\u0000</p>\n<p>We now get to the <strong>Java side</strong>, the message is pulled off the queue and we attempt to decompress the given message only as the Base64 decode has already occurred...</p>\n<pre><code>byte[] decodedPayload = inlineAttachment.getPayload().getBytes(&quot;UTF-8&quot;);\n\nif (inlineAttachment.isCompressed()) {\n    GZIPInputStream inputStream = new GZIPInputStream(new ByteArrayInputStream(decodedPayload));\n    payload = inputStream.readAllBytes();\n}\n</code></pre>\n<p>The decoded payload looks like this as a string...</p>\n<p>��������u��n� ��&lt;�w��KLW���ԑ�f�  t��n���l+EQ�8߱o�ӺW�;S����'��كdW��s̷��40�ʃ��\n�gs���CA/�I��%�r6_�V�B�S/0o�f��V�S�t�/1?h=�!b��4��ǥ��-̧dF8%J��D����&gt;�.��Z&lt;�X�I�杏   �A�������\\T�]�   �:�n�&lt;��v�l&gt;��[%/�W��f�\nV�bf­�]��@��ag��da��D�/O����ٗ0Z�k���,\n��Va��Xq'U���&amp;�� �*Ck�6\n0�i�Ą��{]a�M]|w�YuA�q1_��q�o:b��\nx1�6�3]�8�ņt��Y���B+���Z���S:��?5z�r�I�hU��̵��;X�ZK��̭aH�(���zۊX��r�/�&gt;��1Ȁ��|F��q����</p>\n<p>and this is the byte array...</p>\n<p>[31, -17, -65, -67, 8, 0, 0, 0, 0, 0, 0, -17, -65, -67, 117, -17, -65, -67, -17, -65, -67, 110, -17, -65, -67, 32, 12, -17, -65, -67, -17, -65, -67, 60, -17, -65, -67, 119...</p>\n<p>There is a difference at this point between the Java version which is KLW���ԑ�f� vs KLW�ԑ�f� in the first line.</p>\n<p>It is this scenario which will not decompress, although the string versions of the file are almost identical, the byte arrays are significantly different.</p>\n<p>Many Thanks in Advance</p>\n"},{"tags":["java","sockets","http","tcp","keep-alive"],"comments":[{"owner":{"account_id":7567,"reputation":10188,"user_id":13189,"accept_rate":75,"display_name":"eckes"},"score":2,"creation_date":1420500017,"post_id":1480236,"comment_id":43989173,"body_markdown":"Just to make sure &quot;http keepalive&quot; is typically not related to socket keepalive, it talks about the HTTP/1.1 feature of keeping connections open for further requests. It is only related to TCP keepalive as it needs to detect broken TCP connections (or normally only keeps the sockets open for limited time).","body":"Just to make sure &quot;http keepalive&quot; is typically not related to socket keepalive, it talks about the HTTP/1.1 feature of keeping connections open for further requests. It is only related to TCP keepalive as it needs to detect broken TCP connections (or normally only keeps the sockets open for limited time)."}],"answers":[{"comments":[{"owner":{"account_id":47968,"reputation":12181,"user_id":142299,"accept_rate":85,"display_name":"Kevin Boyd"},"score":0,"creation_date":1253931344,"post_id":1480246,"comment_id":1330823,"body_markdown":"Okay so the implementation should make sure to check at regular interval that the connection is dead or alive, right?","body":"Okay so the implementation should make sure to check at regular interval that the connection is dead or alive, right?"},{"owner":{"account_id":8586,"reputation":128649,"user_id":15537,"accept_rate":96,"display_name":"Matthew Scharley"},"score":5,"creation_date":1253932132,"post_id":1480246,"comment_id":1330844,"body_markdown":"It&#39;s a good idea. You don&#39;t *have* to, but if you don&#39;t, then you may not detect a broken link till someone actually wants to do something. Which may or may not be a good thing (or may or may not matter), depending on what you&#39;re actually trying to achieve.","body":"It&#39;s a good idea. You don&#39;t <i>have</i> to, but if you don&#39;t, then you may not detect a broken link till someone actually wants to do something. Which may or may not be a good thing (or may or may not matter), depending on what you&#39;re actually trying to achieve."},{"owner":{"account_id":316665,"reputation":87011,"user_id":632951,"accept_rate":83,"display_name":"Pacerier"},"score":0,"creation_date":1342382007,"post_id":1480246,"comment_id":15184671,"body_markdown":"@MatthewScharley What&#39;s the usual request/response used for ping/pong?","body":"@MatthewScharley What&#39;s the usual request/response used for ping/pong?"},{"owner":{"account_id":8586,"reputation":128649,"user_id":15537,"accept_rate":96,"display_name":"Matthew Scharley"},"score":1,"creation_date":1342393508,"post_id":1480246,"comment_id":15186924,"body_markdown":"@Pacerier: Depends on the protocol, since it&#39;s totally protocol dependent, but for text-based protocols that require one literal &quot;PING&quot; and &quot;PONG&quot; commands are pretty typical.","body":"@Pacerier: Depends on the protocol, since it&#39;s totally protocol dependent, but for text-based protocols that require one literal &quot;PING&quot; and &quot;PONG&quot; commands are pretty typical."},{"owner":{"account_id":6328,"reputation":10132,"user_id":10592,"accept_rate":79,"display_name":"Tim Cooper"},"score":4,"creation_date":1351389777,"post_id":1480246,"comment_id":17814598,"body_markdown":"@MatthewScharley : This &quot;ping pong&quot; is already implemented for us, in the standard TCP implementations, and is called &quot;keep-alive&quot; (see the other popular answer to this question).  Is there some reason to implement it at the app level?","body":"@MatthewScharley : This &quot;ping pong&quot; is already implemented for us, in the standard TCP implementations, and is called &quot;keep-alive&quot; (see the other popular answer to this question).  Is there some reason to implement it at the app level?"},{"owner":{"account_id":8586,"reputation":128649,"user_id":15537,"accept_rate":96,"display_name":"Matthew Scharley"},"score":7,"creation_date":1351397623,"post_id":1480246,"comment_id":17815409,"body_markdown":"@TimCooper: It&#39;s isn&#39;t really. As I highlighted in comments on other answers, the TCP implementation isn&#39;t useful for most *application* level requirements. You can&#39;t send one on demand, and for most operating systems the TCP keepalive timeout is only configurable on a system-wide level and set far too high to be generally useful for applications.","body":"@TimCooper: It&#39;s isn&#39;t really. As I highlighted in comments on other answers, the TCP implementation isn&#39;t useful for most <i>application</i> level requirements. You can&#39;t send one on demand, and for most operating systems the TCP keepalive timeout is only configurable on a system-wide level and set far too high to be generally useful for applications."},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":21,"creation_date":1371821727,"post_id":1480246,"comment_id":24974864,"body_markdown":"@Tim The reason for an keep-alive on application level is that the TCP standard recommends to set the keep-alive timer to higher than two hours. Never seen an TCP connection without traffic that survives this time. Hence the TCP keep-alive stuff is useless by default.","body":"@Tim The reason for an keep-alive on application level is that the TCP standard recommends to set the keep-alive timer to higher than two hours. Never seen an TCP connection without traffic that survives this time. Hence the TCP keep-alive stuff is useless by default."},{"owner":{"account_id":947165,"reputation":8480,"user_id":974169,"accept_rate":57,"display_name":"Jasper"},"score":0,"creation_date":1444325813,"post_id":1480246,"comment_id":53867365,"body_markdown":"How does one do ping-pong check ?","body":"How does one do ping-pong check ?"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1651816472,"post_id":1480246,"comment_id":127457773,"body_markdown":"@Robert No it doesn&#39;t. It states that the *default* may not be *less than* two hours.","body":"@Robert No it doesn&#39;t. It states that the <i>default</i> may not be <i>less than</i> two hours."}],"tags":[],"owner":{"account_id":8586,"reputation":128649,"user_id":15537,"accept_rate":96,"display_name":"Matthew Scharley"},"comment_count":9,"down_vote_count":6,"up_vote_count":85,"is_accepted":true,"score":79,"last_activity_date":1253931274,"creation_date":1253931274,"answer_id":1480246,"question_id":1480236,"body_markdown":"TCP sockets remain open till they are closed.\r\n\r\nThat said, it&#39;s very difficult to detect a broken connection (broken, as in a router died, etc, as opposed to closed) without actually sending data, so most applications do some sort of ping/pong reaction every so often just to make sure the connection is still actually alive.","title":"Does a TCP socket connection have a &quot;keep alive&quot;?","body":"<p>TCP sockets remain open till they are closed.</p>\n\n<p>That said, it's very difficult to detect a broken connection (broken, as in a router died, etc, as opposed to closed) without actually sending data, so most applications do some sort of ping/pong reaction every so often just to make sure the connection is still actually alive.</p>\n"},{"comments":[{"owner":{"account_id":47968,"reputation":12181,"user_id":142299,"accept_rate":85,"display_name":"Kevin Boyd"},"score":4,"creation_date":1253932211,"post_id":1480259,"comment_id":1330848,"body_markdown":"If I a setKeepAlive(true); what would be the interval?... also will Java keep sending keep-alive messages at the default interval or will I have to do it programatically?","body":"If I a setKeepAlive(true); what would be the interval?... also will Java keep sending keep-alive messages at the default interval or will I have to do it programatically?"},{"owner":{"account_id":8586,"reputation":128649,"user_id":15537,"accept_rate":96,"display_name":"Matthew Scharley"},"score":3,"creation_date":1253932266,"post_id":1480259,"comment_id":1330850,"body_markdown":"http://www.unixguide.net/network/socketfaq/4.7.shtml Has a description of SO_KEEPALIVE. It&#39;s not so much what the OP wanted, though it *is* a protocol based option to what I suggested... though, once every two hours won&#39;t do much for applications.","body":"<a href=\"http://www.unixguide.net/network/socketfaq/4.7.shtml\" rel=\"nofollow noreferrer\">unixguide.net/network/socketfaq/4.7.shtml</a> Has a description of SO_KEEPALIVE. It&#39;s not so much what the OP wanted, though it <i>is</i> a protocol based option to what I suggested... though, once every two hours won&#39;t do much for applications."},{"owner":{"account_id":316665,"reputation":87011,"user_id":632951,"accept_rate":83,"display_name":"Pacerier"},"score":0,"creation_date":1342381823,"post_id":1480259,"comment_id":15184635,"body_markdown":"@MatthewScharley Isn&#39;t the interval configurable?","body":"@MatthewScharley Isn&#39;t the interval configurable?"},{"owner":{"account_id":8586,"reputation":128649,"user_id":15537,"accept_rate":96,"display_name":"Matthew Scharley"},"score":0,"creation_date":1342399028,"post_id":1480259,"comment_id":15187807,"body_markdown":"@Pacerier: It&#39;s supposed to be, but it&#39;s usually at the OS level not an application level. It&#39;s also usually not exposed very cleanly or obviously. The TCP spec also specifies that it must not be allowed to be set less than 2 hours, hence my comment.","body":"@Pacerier: It&#39;s supposed to be, but it&#39;s usually at the OS level not an application level. It&#39;s also usually not exposed very cleanly or obviously. The TCP spec also specifies that it must not be allowed to be set less than 2 hours, hence my comment."},{"owner":{"account_id":316665,"reputation":87011,"user_id":632951,"accept_rate":83,"display_name":"Pacerier"},"score":4,"creation_date":1342456665,"post_id":1480259,"comment_id":15206854,"body_markdown":"@MatthewScharley Regarding &quot;it must not **default** to no less than two hours&quot;... means it is allowed to be less than two hours right?","body":"@MatthewScharley Regarding &quot;it must not <b>default</b> to no less than two hours&quot;... means it is allowed to be less than two hours right?"},{"owner":{"account_id":8586,"reputation":128649,"user_id":15537,"accept_rate":96,"display_name":"Matthew Scharley"},"score":0,"creation_date":1342479283,"post_id":1480259,"comment_id":15215483,"body_markdown":"@Pacerier: You&#39;re right, but that&#39;d be implementation specific and I have no first-hand experience to know if you can in practice. Also note my previous comment that it&#39;s usually an OS level setting, so by changing it you are affecting every other application running. You likely don&#39;t want keep-alives on a short interval across the board.","body":"@Pacerier: You&#39;re right, but that&#39;d be implementation specific and I have no first-hand experience to know if you can in practice. Also note my previous comment that it&#39;s usually an OS level setting, so by changing it you are affecting every other application running. You likely don&#39;t want keep-alives on a short interval across the board."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1354099243,"post_id":1480259,"comment_id":18648418,"body_markdown":"@MatthewScharley - *&quot;You&#39;re right, but that&#39;d be implementation specific ...&quot;*.  A keep-alive interval that could not be less than two hours would be so useless that it is hard to conceive of anyone implementing it.","body":"@MatthewScharley - <i>&quot;You&#39;re right, but that&#39;d be implementation specific ...&quot;</i>.  A keep-alive interval that could not be less than two hours would be so useless that it is hard to conceive of anyone implementing it."},{"owner":{"account_id":367682,"reputation":7816,"user_id":714009,"accept_rate":75,"display_name":"Daniel Lubarov"},"score":1,"creation_date":1360020166,"post_id":1480259,"comment_id":20553333,"body_markdown":"For linux, [this](http://www.tldp.org/HOWTO/html_single/TCP-Keepalive-HOWTO/) has instructions for changing the keepalive time (which defaults to 2h).","body":"For linux, <a href=\"http://www.tldp.org/HOWTO/html_single/TCP-Keepalive-HOWTO/\" rel=\"nofollow noreferrer\">this</a> has instructions for changing the keepalive time (which defaults to 2h)."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1364561481,"post_id":1480259,"comment_id":22300294,"body_markdown":"@Daniel - it should be noted that if you are using Java, those instructions only allow you to change the system-wide default for the keep-alive interval.  That is rather heavy handed ...","body":"@Daniel - it should be noted that if you are using Java, those instructions only allow you to change the system-wide default for the keep-alive interval.  That is rather heavy handed ..."},{"owner":{"account_id":367682,"reputation":7816,"user_id":714009,"accept_rate":75,"display_name":"Daniel Lubarov"},"score":1,"creation_date":1364581558,"post_id":1480259,"comment_id":22310329,"body_markdown":"@StephenC, I realize that changing the system setting isn&#39;t a great solution, but what&#39;s the alternative? AFAIK there&#39;s no way for an application to override the system setting.","body":"@StephenC, I realize that changing the system setting isn&#39;t a great solution, but what&#39;s the alternative? AFAIK there&#39;s no way for an application to override the system setting."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1380415852,"post_id":1480259,"comment_id":28193449,"body_markdown":"@Daniel - the alternative (in Java) would be to do *manual* keep alive, as mentioned above and in other answers.  Not pretty, but it *maybe* better than an OS-wide change of the default that *could* break system services or other applications.","body":"@Daniel - the alternative (in Java) would be to do <i>manual</i> keep alive, as mentioned above and in other answers.  Not pretty, but it <i>maybe</i> better than an OS-wide change of the default that <i>could</i> break system services or other applications."}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":11,"down_vote_count":1,"up_vote_count":58,"is_accepted":false,"score":57,"last_activity_date":1253933121,"creation_date":1253931867,"answer_id":1480259,"question_id":1480236,"body_markdown":"You are looking for the SO_KEEPALIVE socket option.\r\n\r\nThe [Java Socket API](http://java.sun.com/javase/6/docs/api/java/net/Socket.html) exposes &quot;keep-alive&quot; to applications via the `setKeepAlive` and `getKeepAlive` methods. \r\n\r\nEDIT: SO_KEEPALIVE is implemented in the OS network protocol stacks without sending any &quot;real&quot; data.  The keep-alive interval is operating system dependent, and may be tuneable via a kernel parameter.\r\n\r\nSince no data is sent, SO_KEEPALIVE can only test the liveness of the network connection, not the liveness of the service that the socket is connected to.  To test the latter, you need to implement something that involves sending messages to the server and getting a response.\r\n\r\n","title":"Does a TCP socket connection have a &quot;keep alive&quot;?","body":"<p>You are looking for the SO_KEEPALIVE socket option.</p>\n\n<p>The <a href=\"http://java.sun.com/javase/6/docs/api/java/net/Socket.html\" rel=\"noreferrer\">Java Socket API</a> exposes \"keep-alive\" to applications via the <code>setKeepAlive</code> and <code>getKeepAlive</code> methods. </p>\n\n<p>EDIT: SO_KEEPALIVE is implemented in the OS network protocol stacks without sending any \"real\" data.  The keep-alive interval is operating system dependent, and may be tuneable via a kernel parameter.</p>\n\n<p>Since no data is sent, SO_KEEPALIVE can only test the liveness of the network connection, not the liveness of the service that the socket is connected to.  To test the latter, you need to implement something that involves sending messages to the server and getting a response.</p>\n"},{"comments":[{"owner":{"account_id":47968,"reputation":12181,"user_id":142299,"accept_rate":85,"display_name":"Kevin Boyd"},"score":0,"creation_date":1253934072,"post_id":1480267,"comment_id":1330916,"body_markdown":"Ah! you add a good point here, that is you have to also consider the in-between things that might hinder the operation of a connection such as NAT routers etc...","body":"Ah! you add a good point here, that is you have to also consider the in-between things that might hinder the operation of a connection such as NAT routers etc..."},{"owner":{"account_id":8586,"reputation":128649,"user_id":15537,"accept_rate":96,"display_name":"Matthew Scharley"},"score":4,"creation_date":1253934786,"post_id":1480267,"comment_id":1330938,"body_markdown":"This is a good point, and a good reminder that there&#39;s more to keep in mind than just what we&#39;re directly implementing ourselves. Also, Lemmings!!","body":"This is a good point, and a good reminder that there&#39;s more to keep in mind than just what we&#39;re directly implementing ourselves. Also, Lemmings!!"},{"owner":{"account_id":15220,"reputation":48515,"user_id":31945,"display_name":"Artelius"},"score":0,"creation_date":1253952417,"post_id":1480267,"comment_id":1331399,"body_markdown":"Note that p2p file sharing both chews up a lot of ports and produces a lot of zombie connections, making it more likely that the NAT will need to prune idle connections.","body":"Note that p2p file sharing both chews up a lot of ports and produces a lot of zombie connections, making it more likely that the NAT will need to prune idle connections."},{"owner":{"account_id":22589,"reputation":7074,"user_id":55870,"accept_rate":88,"display_name":"Dan Berindei"},"score":4,"creation_date":1263220948,"post_id":1480267,"comment_id":1968244,"body_markdown":"Not necessarily, a TCP connection is identified by 4 elements: src ip, src port, dest ip, dest port. So you can reuse the same external (source) port as long as the destination ip is different.","body":"Not necessarily, a TCP connection is identified by 4 elements: src ip, src port, dest ip, dest port. So you can reuse the same external (source) port as long as the destination ip is different."},{"owner":{"account_id":15220,"reputation":48515,"user_id":31945,"display_name":"Artelius"},"score":1,"creation_date":1263505194,"post_id":1480267,"comment_id":1996928,"body_markdown":"Oh yeah, you&#39;re right. I think the real reason is that NATs have a fixed size table of open connections, due to memory constraints and lookup time.","body":"Oh yeah, you&#39;re right. I think the real reason is that NATs have a fixed size table of open connections, due to memory constraints and lookup time."},{"owner":{"account_id":2986490,"reputation":1381,"user_id":3897333,"display_name":"Paul Stelian"},"score":0,"creation_date":1565969888,"post_id":1480267,"comment_id":101521142,"body_markdown":"What&#39;s funny is that the TCP keepalive interval is larger than the NAT one by default, at least with some configs. So idle connections may be lost through NATs.","body":"What&#39;s funny is that the TCP keepalive interval is larger than the NAT one by default, at least with some configs. So idle connections may be lost through NATs."}],"tags":[],"owner":{"account_id":15220,"reputation":48515,"user_id":31945,"display_name":"Artelius"},"comment_count":6,"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1253932369,"creation_date":1253932369,"answer_id":1480267,"question_id":1480236,"body_markdown":"If you&#39;re behind a masquerading NAT (as most home users are these days), there is a limited pool of external ports, and these must be shared among the TCP connections. Therefore masquerading NATs tend to assume a connection has been terminated if no data has been sent for a certain time period.\r\n\r\nThis and other such issues (anywhere in between the two endpoints) can mean the connection will no longer &quot;work&quot; if you try to send data after a reasonble idle period. However, you may not discover this until you *try* to send data.\r\n\r\nUsing keepalives both *reduces* the chance of the connection being interrupted somewhere down the line, and also lets you find out about a broken connection sooner.","title":"Does a TCP socket connection have a &quot;keep alive&quot;?","body":"<p>If you're behind a masquerading NAT (as most home users are these days), there is a limited pool of external ports, and these must be shared among the TCP connections. Therefore masquerading NATs tend to assume a connection has been terminated if no data has been sent for a certain time period.</p>\n\n<p>This and other such issues (anywhere in between the two endpoints) can mean the connection will no longer \"work\" if you try to send data after a reasonble idle period. However, you may not discover this until you <em>try</em> to send data.</p>\n\n<p>Using keepalives both <em>reduces</em> the chance of the connection being interrupted somewhere down the line, and also lets you find out about a broken connection sooner.</p>\n"},{"comments":[{"owner":{"account_id":22589,"reputation":7074,"user_id":55870,"accept_rate":88,"display_name":"Dan Berindei"},"score":2,"creation_date":1263221180,"post_id":1480303,"comment_id":1968281,"body_markdown":"You can modify the TCP keepalive interval to suit your application. E.g. http://msdn.microsoft.com/en-us/library/dd877220%28VS.85%29.aspx","body":"You can modify the TCP keepalive interval to suit your application. E.g. <a href=\"http://msdn.microsoft.com/en-us/library/dd877220%28VS.85%29.aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/dd877220%28VS.85%29.aspx</a>"},{"owner":{"account_id":316665,"reputation":87011,"user_id":632951,"accept_rate":83,"display_name":"Pacerier"},"score":0,"creation_date":1342381898,"post_id":1480303,"comment_id":15184649,"body_markdown":"@ZZCoder Can you elaborate what does it mean when you say &quot;In HTTP, keepalive means the persistent connection state&quot;?","body":"@ZZCoder Can you elaborate what does it mean when you say &quot;In HTTP, keepalive means the persistent connection state&quot;?"},{"owner":{"account_id":8586,"reputation":128649,"user_id":15537,"accept_rate":96,"display_name":"Matthew Scharley"},"score":1,"creation_date":1390202401,"post_id":1480303,"comment_id":31974101,"body_markdown":"@Pacerier: In `HTTP/1.0` each request/response necessitated reconnecting to the server. For `HTTP/1.1` they introduced a `Keep-Alive` header which could be used to trigger the server to not kill the connection after it was done processing the response to facilitate requesting more files and allowing for &#39;pipelining&#39;; sending multiple requests then waiting for all the data to come back.","body":"@Pacerier: In <code>HTTP&#47;1.0</code> each request/response necessitated reconnecting to the server. For <code>HTTP&#47;1.1</code> they introduced a <code>Keep-Alive</code> header which could be used to trigger the server to not kill the connection after it was done processing the response to facilitate requesting more files and allowing for &#39;pipelining&#39;; sending multiple requests then waiting for all the data to come back."},{"owner":{"account_id":2481671,"reputation":5814,"user_id":2161029,"accept_rate":73,"display_name":"Igor Čordaš"},"score":0,"creation_date":1404468797,"post_id":1480303,"comment_id":38061582,"body_markdown":"It basically means that many HTTP request will/should reuse the same TCP-Connection (These connections might also have keep-alive but that doesn&#39;t meter to HTTP so it&#39;s essentially a different concept).","body":"It basically means that many HTTP request will/should reuse the same TCP-Connection (These connections might also have keep-alive but that doesn&#39;t meter to HTTP so it&#39;s essentially a different concept)."}],"tags":[],"owner":{"account_id":50238,"reputation":74702,"user_id":149808,"accept_rate":81,"display_name":"ZZ Coder"},"comment_count":4,"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1253933571,"creation_date":1253933571,"answer_id":1480303,"question_id":1480236,"body_markdown":"TCP keepalive and HTTP keepalive are very different concepts. In TCP, the keepalive is the administrative packet sent to detect stale connection. In HTTP, keepalive means the persistent connection state.\r\n\r\nThis is from TCP specification,\r\n\r\n*Keep-alive packets MUST only be sent when no data or acknowledgement packets have been received for the connection within an interval. This interval MUST be configurable and MUST default to no less than two hours.*\r\n\r\nAs you can see, the default TCP keepalive interval is too long for most applications. You might have to add keepalive in your application protocol.","title":"Does a TCP socket connection have a &quot;keep alive&quot;?","body":"<p>TCP keepalive and HTTP keepalive are very different concepts. In TCP, the keepalive is the administrative packet sent to detect stale connection. In HTTP, keepalive means the persistent connection state.</p>\n\n<p>This is from TCP specification,</p>\n\n<p><em>Keep-alive packets MUST only be sent when no data or acknowledgement packets have been received for the connection within an interval. This interval MUST be configurable and MUST default to no less than two hours.</em></p>\n\n<p>As you can see, the default TCP keepalive interval is too long for most applications. You might have to add keepalive in your application protocol.</p>\n"},{"tags":[],"owner":{"account_id":31998,"reputation":8736,"user_id":88252,"accept_rate":47,"display_name":"Jeach"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1478105202,"creation_date":1334697969,"answer_id":10199413,"question_id":1480236,"body_markdown":"Here is some supplemental literature on keepalive which explains it in much finer detail.\r\n\r\n[http://www.tldp.org/HOWTO/html_single/TCP-Keepalive-HOWTO][1]\r\n\r\nSince Java does not allow you to control the actual keepalive times, you can use the examples to change them if you&#39;re using a Linux kernel (or proc based OS).\r\n\r\n  [1]: http://www.tldp.org/HOWTO/html_single/TCP-Keepalive-HOWTO\r\n","title":"Does a TCP socket connection have a &quot;keep alive&quot;?","body":"<p>Here is some supplemental literature on keepalive which explains it in much finer detail.</p>\n\n<p><a href=\"http://www.tldp.org/HOWTO/html_single/TCP-Keepalive-HOWTO\" rel=\"nofollow noreferrer\">http://www.tldp.org/HOWTO/html_single/TCP-Keepalive-HOWTO</a></p>\n\n<p>Since Java does not allow you to control the actual keepalive times, you can use the examples to change them if you're using a Linux kernel (or proc based OS).</p>\n"},{"comments":[{"owner":{"account_id":3036329,"reputation":810,"user_id":2574340,"accept_rate":88,"display_name":"geld0r"},"score":2,"creation_date":1455532801,"post_id":33927447,"comment_id":58515460,"body_markdown":"Very helpful, thanks! One addition: For Windows a restart is required in order to have new values of KeepAliveTime being effective.","body":"Very helpful, thanks! One addition: For Windows a restart is required in order to have new values of KeepAliveTime being effective."},{"owner":{"account_id":111215,"reputation":4304,"user_id":293933,"display_name":"Jarek Przyg&#243;dzki"},"score":0,"creation_date":1459749987,"post_id":33927447,"comment_id":60407696,"body_markdown":"On AIX, current TCP Keep-Alive settings can be queried using `$ no -a | grep tcp_keep` command.","body":"On AIX, current TCP Keep-Alive settings can be queried using <code>$ no -a | grep tcp_keep</code> command."},{"owner":{"account_id":2271903,"reputation":146,"user_id":1999061,"display_name":"Jared Still"},"score":0,"creation_date":1613673497,"post_id":33927447,"comment_id":117155135,"body_markdown":"When a TCP socket  is created, it can be created with  keepalive values other than default.  \nDoes anyone know how to find the keepalive value for a running process?  \n\nI have looked in /proc/PID/net/netstat, but the value found there is not useful, or at least, I cannot find an explanation for it.","body":"When a TCP socket  is created, it can be created with  keepalive values other than default.   Does anyone know how to find the keepalive value for a running process?    I have looked in /proc/PID/net/netstat, but the value found there is not useful, or at least, I cannot find an explanation for it."},{"owner":{"account_id":6244985,"reputation":1598,"user_id":4857270,"display_name":"Gerard van Helden"},"score":0,"creation_date":1618225108,"post_id":33927447,"comment_id":118529165,"body_markdown":"In my opinion, the term &quot;alive&quot; is misleading. After all: asserting that a connection is &quot;alive&quot; only means that you have performed some form of _successful communication_ (past tense!), but it will be *no guarantee* that any or all subsequent communication will succeed (present/future tense). Therefore there really is no merit in doing this at *neither* the TCP level *nor* at the application level, and you&#39;re much better off deciding for either a robust _retry-on-failure_ or a _crash-my-app_ approach than any other false sense of security which most people are probably looking for.","body":"In my opinion, the term &quot;alive&quot; is misleading. After all: asserting that a connection is &quot;alive&quot; only means that you have performed some form of <i>successful communication</i> (past tense!), but it will be <i>no guarantee</i> that any or all subsequent communication will succeed (present/future tense). Therefore there really is no merit in doing this at <i>neither</i> the TCP level <i>nor</i> at the application level, and you&#39;re much better off deciding for either a robust <i>retry-on-failure</i> or a <i>crash-my-app</i> approach than any other false sense of security which most people are probably looking for."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1651816328,"post_id":33927447,"comment_id":127457745,"body_markdown":"A TCP connection is terminated by exchanging FINs, not RSTs. RST is an abortive close and it is not acknowledged.","body":"A TCP connection is terminated by exchanging FINs, not RSTs. RST is an abortive close and it is not acknowledged."},{"owner":{"account_id":7501539,"reputation":677,"user_id":5699669,"accept_rate":50,"display_name":"dbep"},"score":0,"creation_date":1667548416,"post_id":33927447,"comment_id":131196579,"body_markdown":"Looks like Java 11 now has extended socket options: https://stackoverflow.com/questions/22472844/how-to-set-socket-option-tcp-keepcnt-tcp-keepidle-tcp-keepintvl-in-java-or-n","body":"Looks like Java 11 now has extended socket options: <a href=\"https://stackoverflow.com/questions/22472844/how-to-set-socket-option-tcp-keepcnt-tcp-keepidle-tcp-keepintvl-in-java-or-n\" title=\"how to set socket option tcp keepcnt tcp keepidle tcp keepintvl in java or n\">stackoverflow.com/questions/22472844/&hellip;</a>"}],"tags":[],"owner":{"account_id":200610,"reputation":52308,"user_id":446554,"accept_rate":73,"display_name":"Cory Klein"},"comment_count":6,"down_vote_count":1,"up_vote_count":181,"is_accepted":false,"score":180,"last_activity_date":1668468108,"creation_date":1448490088,"answer_id":33927447,"question_id":1480236,"body_markdown":"&gt; Does a TCP socket connection have a &quot;keep alive&quot;?\r\n\r\nThe short answer is **yes** there is a timeout enforced via _TCP Keep-Alive_, so no the socket won&#39;t remain open forever but will probably time out after a few *hours*.\r\n\r\nIf you would like to configure the Keep-Alive timeout on your machine, see the &quot;Changing TCP Timeouts&quot; section below. Otherwise read through the rest of the answer to learn how TCP Keep-Alive works.\r\n\r\n# Introduction\r\n\r\nTCP connections consist of two sockets, one on each end of the connection. When one side wants to terminate the connection, it sends an `FIN` packet which the other side acknowledges and both close their sockets.\r\n\r\nUntil that happens, however, both sides will keep their socket open indefinitely. This leaves open the possibility that one side may close their socket, either intentionally or due to some error, without informing the other end via `FIN`. In order to detect this scenario and close stale connections the TCP Keep Alive process is used.\r\n\r\n# Keep-Alive Process\r\n\r\nThere are three configurable properties that determine how Keep-Alives work. On Linux they are&lt;sup&gt;1&lt;/sup&gt;:\r\n\r\n* `tcp_keepalive_time`\r\n    * default 7200 seconds\r\n* `tcp_keepalive_probes`\r\n    * default 9\r\n* `tcp_keepalive_intvl`\r\n    * default 75 seconds\r\n\r\nThe process works like this:\r\n\r\n1. Client opens TCP connection\r\n2. If the connection is silent for `tcp_keepalive_time` seconds, send a single empty `ACK` packet.&lt;sup&gt;1&lt;/sup&gt;\r\n3. Did the server respond with a corresponding `ACK` of its own?\r\n    * **No**\r\n        1. Wait `tcp_keepalive_intvl` seconds, then send another `ACK`\r\n        2. Repeat until the number of `ACK` probes that have been sent equals `tcp_keepalive_probes`.\r\n        3. If no response has been received at this point, send a `RST` and terminate the connection.\r\n    * **Yes**: Return to step 2\r\n\r\nThis process is enabled by default on most operating systems, and thus dead TCP connections are regularly pruned once the other end has been unresponsive for 2 hours 11 minutes (7200 seconds + 75 * 9 seconds).\r\n\r\n# Gotchas\r\n\r\n## 2 Hour Default\r\n\r\nSince the process doesn&#39;t start until a connection has been idle for two hours by default, stale TCP connections can linger for a very long time before being pruned. This can be especially harmful for expensive connections such as database connections.\r\n\r\n## Keep-Alive is Optional\r\n\r\nAccording to [RFC 1122 4.2.3.6](http://www.freesoft.org/CIE/RFC/1122/114.htm), responding to and/or relaying TCP Keep-Alive packets *is optional*:\r\n\r\n&gt; Implementors MAY include &quot;keep-alives&quot; in their TCP implementations,\r\n&gt; although this practice is not universally accepted. If keep-alives are\r\n&gt; included, the application MUST be able to turn them on or off for each\r\n&gt; TCP connection, and they MUST default to off.\r\n\r\n&gt; ...\r\n\r\n&gt; It is extremely\r\n&gt; important to remember that ACK segments that contain no data are not\r\n&gt; reliably transmitted by TCP.\r\n\r\nThe reasoning being that Keep-Alive packets contain no data and are not strictly necessary and risk clogging up the tubes of the interwebs if overused.\r\n\r\n*In practice however*, my experience has been that this concern has dwindled over time as bandwidth has become cheaper; and thus Keep-Alive packets are not usually dropped. [Amazon EC2 documentation](http://docs.aws.amazon.com/redshift/latest/mgmt/configure-jdbc-options.html) for instance gives an indirect endorsement of Keep-Alive, so if you&#39;re hosting with AWS you are likely safe relying on Keep-Alive, but your mileage may vary.\r\n\r\n# Changing TCP Timeouts\r\n\r\n## Per Socket\r\n\r\n**2022 Update:** *Apparently, [as of Java 11, you may be able to set these on the Java TCP Socket itself.][1]*\r\n\r\nUnfortunately since TCP connections are managed on the OS level, older versions of Java do not support configuring timeouts on a per-socket level such as in `java.net.Socket`. I have found some attempts&lt;sup&gt;3&lt;/sup&gt; to use Java Native Interface (JNI) to create Java sockets that call native code to configure these options, but none appear to have widespread community adoption or support.\r\n\r\nInstead, you may be forced to apply your configuration to the operating system as a whole. Be aware that this configuration will affect all TCP connections running on the entire system.\r\n\r\n## Linux\r\n\r\nThe currently configured TCP Keep-Alive settings can be found in\r\n\r\n* `/proc/sys/net/ipv4/tcp_keepalive_time`\r\n* `/proc/sys/net/ipv4/tcp_keepalive_probes`\r\n* `/proc/sys/net/ipv4/tcp_keepalive_intvl`\r\n\r\nYou can update any of these like so:\r\n\r\n    # Send first Keep-Alive packet when a TCP socket has been idle for 3 minutes\r\n    $ echo 180 &gt; /proc/sys/net/ipv4/tcp_keepalive_time\r\n    # Send three Keep-Alive probes...\r\n    $ echo 3 &gt; /proc/sys/net/ipv4/tcp_keepalive_probes\r\n    # ... spaced 10 seconds apart.\r\n    $ echo 10 &gt; /proc/sys/net/ipv4/tcp_keepalive_intvl\r\n\r\nSuch changes will not persist through a restart. To make persistent changes, use `sysctl`:\r\n\r\n    sysctl -w net.ipv4.tcp_keepalive_time=180 net.ipv4.tcp_keepalive_probes=3 net.ipv4.tcp_keepalive_intvl=10\r\n\r\n## Mac OS X\r\n\r\nThe currently configured settings can be viewed with `sysctl`:\r\n\r\n    $ sysctl net.inet.tcp | grep -E &quot;keepidle|keepintvl|keepcnt&quot;\r\n    net.inet.tcp.keepidle: 7200000\r\n    net.inet.tcp.keepintvl: 75000\r\n    net.inet.tcp.keepcnt: 8\r\n\r\nOf note, Mac OS X defines `keepidle` and `keepintvl` in units of milliseconds as opposed to Linux which uses seconds.\r\n\r\nThe properties can be set with `sysctl` which will persist these settings across reboots:\r\n\r\n    sysctl -w net.inet.tcp.keepidle=180000 net.inet.tcp.keepcnt=3 net.inet.tcp.keepintvl=10000\r\n\r\nAlternatively, you can add them to `/etc/sysctl.conf` (creating the file if it doesn&#39;t exist).\r\n\r\n    $ cat /etc/sysctl.conf\r\n    net.inet.tcp.keepidle=180000\r\n    net.inet.tcp.keepintvl=10000\r\n    net.inet.tcp.keepcnt=3\r\n\r\n## Windows\r\n\r\nI don&#39;t have a Windows machine to confirm, but you should find the respective TCP Keep-Alive settings in the registry at\r\n\r\n`\\HKEY_LOCAL_MACHINE\\System\\CurrentControlSet\\Services\\TCPIP\\Parameters`\r\n\r\n&lt;sub&gt;*Footnotes*&lt;/sub&gt;\r\n\r\n&lt;sub&gt;1. See `man tcp` for more information.&lt;/sub&gt;\r\n\r\n&lt;sub&gt;2.  This packet is often referred to as a &quot;Keep-Alive&quot; packet, but within the TCP specification it is just a regular `ACK` packet. Applications like Wireshark are able to label it as a &quot;Keep-Alive&quot; packet by meta-analysis of the sequence and acknowledgement numbers it contains in reference to the preceding communications on the socket.&lt;/sub&gt;\r\n\r\n&lt;sub&gt;3. Some examples I found from a basic Google search are [lucwilliams/JavaLinuxNet](https://github.com/lucwillems/JavaLinuxNet) and [flonatel/libdontdie](https://github.com/flonatel/libdontdie).&lt;/sub&gt;\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/54067335/446554","title":"Does a TCP socket connection have a &quot;keep alive&quot;?","body":"<blockquote>\n<p>Does a TCP socket connection have a &quot;keep alive&quot;?</p>\n</blockquote>\n<p>The short answer is <strong>yes</strong> there is a timeout enforced via <em>TCP Keep-Alive</em>, so no the socket won't remain open forever but will probably time out after a few <em>hours</em>.</p>\n<p>If you would like to configure the Keep-Alive timeout on your machine, see the &quot;Changing TCP Timeouts&quot; section below. Otherwise read through the rest of the answer to learn how TCP Keep-Alive works.</p>\n<h1>Introduction</h1>\n<p>TCP connections consist of two sockets, one on each end of the connection. When one side wants to terminate the connection, it sends an <code>FIN</code> packet which the other side acknowledges and both close their sockets.</p>\n<p>Until that happens, however, both sides will keep their socket open indefinitely. This leaves open the possibility that one side may close their socket, either intentionally or due to some error, without informing the other end via <code>FIN</code>. In order to detect this scenario and close stale connections the TCP Keep Alive process is used.</p>\n<h1>Keep-Alive Process</h1>\n<p>There are three configurable properties that determine how Keep-Alives work. On Linux they are<sup>1</sup>:</p>\n<ul>\n<li><code>tcp_keepalive_time</code>\n<ul>\n<li>default 7200 seconds</li>\n</ul>\n</li>\n<li><code>tcp_keepalive_probes</code>\n<ul>\n<li>default 9</li>\n</ul>\n</li>\n<li><code>tcp_keepalive_intvl</code>\n<ul>\n<li>default 75 seconds</li>\n</ul>\n</li>\n</ul>\n<p>The process works like this:</p>\n<ol>\n<li>Client opens TCP connection</li>\n<li>If the connection is silent for <code>tcp_keepalive_time</code> seconds, send a single empty <code>ACK</code> packet.<sup>1</sup></li>\n<li>Did the server respond with a corresponding <code>ACK</code> of its own?\n<ul>\n<li><strong>No</strong>\n<ol>\n<li>Wait <code>tcp_keepalive_intvl</code> seconds, then send another <code>ACK</code></li>\n<li>Repeat until the number of <code>ACK</code> probes that have been sent equals <code>tcp_keepalive_probes</code>.</li>\n<li>If no response has been received at this point, send a <code>RST</code> and terminate the connection.</li>\n</ol>\n</li>\n<li><strong>Yes</strong>: Return to step 2</li>\n</ul>\n</li>\n</ol>\n<p>This process is enabled by default on most operating systems, and thus dead TCP connections are regularly pruned once the other end has been unresponsive for 2 hours 11 minutes (7200 seconds + 75 * 9 seconds).</p>\n<h1>Gotchas</h1>\n<h2>2 Hour Default</h2>\n<p>Since the process doesn't start until a connection has been idle for two hours by default, stale TCP connections can linger for a very long time before being pruned. This can be especially harmful for expensive connections such as database connections.</p>\n<h2>Keep-Alive is Optional</h2>\n<p>According to <a href=\"http://www.freesoft.org/CIE/RFC/1122/114.htm\" rel=\"noreferrer\">RFC 1122 4.2.3.6</a>, responding to and/or relaying TCP Keep-Alive packets <em>is optional</em>:</p>\n<blockquote>\n<p>Implementors MAY include &quot;keep-alives&quot; in their TCP implementations,\nalthough this practice is not universally accepted. If keep-alives are\nincluded, the application MUST be able to turn them on or off for each\nTCP connection, and they MUST default to off.</p>\n</blockquote>\n<blockquote>\n<p>...</p>\n</blockquote>\n<blockquote>\n<p>It is extremely\nimportant to remember that ACK segments that contain no data are not\nreliably transmitted by TCP.</p>\n</blockquote>\n<p>The reasoning being that Keep-Alive packets contain no data and are not strictly necessary and risk clogging up the tubes of the interwebs if overused.</p>\n<p><em>In practice however</em>, my experience has been that this concern has dwindled over time as bandwidth has become cheaper; and thus Keep-Alive packets are not usually dropped. <a href=\"http://docs.aws.amazon.com/redshift/latest/mgmt/configure-jdbc-options.html\" rel=\"noreferrer\">Amazon EC2 documentation</a> for instance gives an indirect endorsement of Keep-Alive, so if you're hosting with AWS you are likely safe relying on Keep-Alive, but your mileage may vary.</p>\n<h1>Changing TCP Timeouts</h1>\n<h2>Per Socket</h2>\n<p><strong>2022 Update:</strong> <em>Apparently, <a href=\"https://stackoverflow.com/a/54067335/446554\">as of Java 11, you may be able to set these on the Java TCP Socket itself.</a></em></p>\n<p>Unfortunately since TCP connections are managed on the OS level, older versions of Java do not support configuring timeouts on a per-socket level such as in <code>java.net.Socket</code>. I have found some attempts<sup>3</sup> to use Java Native Interface (JNI) to create Java sockets that call native code to configure these options, but none appear to have widespread community adoption or support.</p>\n<p>Instead, you may be forced to apply your configuration to the operating system as a whole. Be aware that this configuration will affect all TCP connections running on the entire system.</p>\n<h2>Linux</h2>\n<p>The currently configured TCP Keep-Alive settings can be found in</p>\n<ul>\n<li><code>/proc/sys/net/ipv4/tcp_keepalive_time</code></li>\n<li><code>/proc/sys/net/ipv4/tcp_keepalive_probes</code></li>\n<li><code>/proc/sys/net/ipv4/tcp_keepalive_intvl</code></li>\n</ul>\n<p>You can update any of these like so:</p>\n<pre><code># Send first Keep-Alive packet when a TCP socket has been idle for 3 minutes\n$ echo 180 &gt; /proc/sys/net/ipv4/tcp_keepalive_time\n# Send three Keep-Alive probes...\n$ echo 3 &gt; /proc/sys/net/ipv4/tcp_keepalive_probes\n# ... spaced 10 seconds apart.\n$ echo 10 &gt; /proc/sys/net/ipv4/tcp_keepalive_intvl\n</code></pre>\n<p>Such changes will not persist through a restart. To make persistent changes, use <code>sysctl</code>:</p>\n<pre><code>sysctl -w net.ipv4.tcp_keepalive_time=180 net.ipv4.tcp_keepalive_probes=3 net.ipv4.tcp_keepalive_intvl=10\n</code></pre>\n<h2>Mac OS X</h2>\n<p>The currently configured settings can be viewed with <code>sysctl</code>:</p>\n<pre><code>$ sysctl net.inet.tcp | grep -E &quot;keepidle|keepintvl|keepcnt&quot;\nnet.inet.tcp.keepidle: 7200000\nnet.inet.tcp.keepintvl: 75000\nnet.inet.tcp.keepcnt: 8\n</code></pre>\n<p>Of note, Mac OS X defines <code>keepidle</code> and <code>keepintvl</code> in units of milliseconds as opposed to Linux which uses seconds.</p>\n<p>The properties can be set with <code>sysctl</code> which will persist these settings across reboots:</p>\n<pre><code>sysctl -w net.inet.tcp.keepidle=180000 net.inet.tcp.keepcnt=3 net.inet.tcp.keepintvl=10000\n</code></pre>\n<p>Alternatively, you can add them to <code>/etc/sysctl.conf</code> (creating the file if it doesn't exist).</p>\n<pre><code>$ cat /etc/sysctl.conf\nnet.inet.tcp.keepidle=180000\nnet.inet.tcp.keepintvl=10000\nnet.inet.tcp.keepcnt=3\n</code></pre>\n<h2>Windows</h2>\n<p>I don't have a Windows machine to confirm, but you should find the respective TCP Keep-Alive settings in the registry at</p>\n<p><code>\\HKEY_LOCAL_MACHINE\\System\\CurrentControlSet\\Services\\TCPIP\\Parameters</code></p>\n<p><sub><em>Footnotes</em></sub></p>\n<p><sub>1. See <code>man tcp</code> for more information.</sub></p>\n<p><sub>2.  This packet is often referred to as a &quot;Keep-Alive&quot; packet, but within the TCP specification it is just a regular <code>ACK</code> packet. Applications like Wireshark are able to label it as a &quot;Keep-Alive&quot; packet by meta-analysis of the sequence and acknowledgement numbers it contains in reference to the preceding communications on the socket.</sub></p>\n<p><sub>3. Some examples I found from a basic Google search are <a href=\"https://github.com/lucwillems/JavaLinuxNet\" rel=\"noreferrer\">lucwilliams/JavaLinuxNet</a> and <a href=\"https://github.com/flonatel/libdontdie\" rel=\"noreferrer\">flonatel/libdontdie</a>.</sub></p>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1651816564,"post_id":53475160,"comment_id":127457790,"body_markdown":"7200 seconds is two hours, which is the minimum default timeout. I don&#39;t know where you got the 11 minutes from.","body":"7200 seconds is two hours, which is the minimum default timeout. I don&#39;t know where you got the 11 minutes from."}],"tags":[],"owner":{"account_id":2662958,"reputation":39,"user_id":2302200,"display_name":"Suganya Vinayakam"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1651816695,"creation_date":1543209929,"answer_id":53475160,"question_id":1480236,"body_markdown":"In JAVA Socket – TCP connections are managed on the OS level, java.net.Socket does not provide any in-built function to set timeouts for keepalive packet on a per-socket level. But we can enable keepalive option for java socket but it takes 2 hours 11 minutes (7200 sec) by default to process after a stale tcp connections. This cause connection will be availabe for very long time before purge. So we found some solution to use Java Native Interface (JNI) that call native code(c++) to configure these options.\r\n\r\n****Windows OS****\r\n\r\nIn windows operating system keepalive_time &amp; keepalive_intvl can be configurable but tcp_keepalive_probes cannot be change.By default, when a TCP socket is initialized sets the keep-alive timeout to 2 hours and the keep-alive interval to 1 second. The default system-wide value of the keep-alive timeout is controllable through the KeepAliveTime registry setting which takes a value in milliseconds.\r\n\r\nOn Windows Vista and later, the number of keep-alive probes (data retransmissions) is set to 10 and cannot be changed.\r\n\r\nOn Windows Server 2003, Windows XP, and Windows 2000, the default setting for number of keep-alive probes is 5. The number of keep-alive probes is controllable. For windows Winsock IOCTLs library is used to configure the tcp-keepalive parameters.\r\n\r\n    int WSAIoctl(\r\n        SocketFD, // descriptor identifying a socket\r\n        SIO_KEEPALIVE_VALS, // dwIoControlCode\r\n        (LPVOID) lpvInBuffer, // pointer to tcp_keepalive struct (DWORD)\r\n        cbInBuffer, // length of input buffer\r\n        NULL, // output buffer\r\n        0, // size of output buffer\r\n        (LPDWORD) lpcbBytesReturned, // number of bytes returned\r\n        NULL, // OVERLAPPED structure\r\n        NULL // completion routine\r\n    );\r\n\r\n**Linux OS**\r\n\r\nLinux has built-in support for keepalive which is need to be enabling TCP/IP networking in order to use it. Programs must request keepalive control for their sockets using the setsockopt interface.\r\n\r\n   int setsockopt(int socket, int level, int optname, const void *optval, socklen_t optlen)\r\n\r\nEach client socket will be created using java.net.Socket. File descriptor ID for each socket will retrieve using java reflection.","title":"Does a TCP socket connection have a &quot;keep alive&quot;?","body":"<p>In JAVA Socket – TCP connections are managed on the OS level, java.net.Socket does not provide any in-built function to set timeouts for keepalive packet on a per-socket level. But we can enable keepalive option for java socket but it takes 2 hours 11 minutes (7200 sec) by default to process after a stale tcp connections. This cause connection will be availabe for very long time before purge. So we found some solution to use Java Native Interface (JNI) that call native code(c++) to configure these options.</p>\n<p><strong><strong>Windows OS</strong></strong></p>\n<p>In windows operating system keepalive_time &amp; keepalive_intvl can be configurable but tcp_keepalive_probes cannot be change.By default, when a TCP socket is initialized sets the keep-alive timeout to 2 hours and the keep-alive interval to 1 second. The default system-wide value of the keep-alive timeout is controllable through the KeepAliveTime registry setting which takes a value in milliseconds.</p>\n<p>On Windows Vista and later, the number of keep-alive probes (data retransmissions) is set to 10 and cannot be changed.</p>\n<p>On Windows Server 2003, Windows XP, and Windows 2000, the default setting for number of keep-alive probes is 5. The number of keep-alive probes is controllable. For windows Winsock IOCTLs library is used to configure the tcp-keepalive parameters.</p>\n<pre><code>int WSAIoctl(\n    SocketFD, // descriptor identifying a socket\n    SIO_KEEPALIVE_VALS, // dwIoControlCode\n    (LPVOID) lpvInBuffer, // pointer to tcp_keepalive struct (DWORD)\n    cbInBuffer, // length of input buffer\n    NULL, // output buffer\n    0, // size of output buffer\n    (LPDWORD) lpcbBytesReturned, // number of bytes returned\n    NULL, // OVERLAPPED structure\n    NULL // completion routine\n);\n</code></pre>\n<p><strong>Linux OS</strong></p>\n<p>Linux has built-in support for keepalive which is need to be enabling TCP/IP networking in order to use it. Programs must request keepalive control for their sockets using the setsockopt interface.</p>\n<p>int setsockopt(int socket, int level, int optname, const void *optval, socklen_t optlen)</p>\n<p>Each client socket will be created using java.net.Socket. File descriptor ID for each socket will retrieve using java reflection.</p>\n"},{"comments":[{"owner":{"account_id":70160,"reputation":1678,"user_id":203719,"accept_rate":85,"display_name":"Ant"},"score":0,"creation_date":1623226426,"post_id":53666719,"comment_id":120015512,"body_markdown":"7,200,000,000ms is 2000 hours, not 2.","body":"7,200,000,000ms is 2000 hours, not 2."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1651816769,"post_id":53666719,"comment_id":127457858,"body_markdown":"@Ant No it isn&#39;t. You are confusing milliseconds with seconds, and you haven&#39;t even got that right.","body":"@Ant No it isn&#39;t. You are confusing milliseconds with seconds, and you haven&#39;t even got that right."},{"owner":{"account_id":70160,"reputation":1678,"user_id":203719,"accept_rate":85,"display_name":"Ant"},"score":0,"creation_date":1653659209,"post_id":53666719,"comment_id":127911041,"body_markdown":"@user207421  \n7,200,000,000ms / 1000 = 7,200,000s\n7,200,000s / 60 = 120,000 mins\n120,000 mins / 60 = 2000 hours\nWhere did I go wrong?","body":"@user207421   7,200,000,000ms / 1000 = 7,200,000s 7,200,000s / 60 = 120,000 mins 120,000 mins / 60 = 2000 hours Where did I go wrong?"}],"tags":[],"owner":{"account_id":138846,"reputation":161,"user_id":344053,"accept_rate":10,"display_name":"semen"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1544175186,"creation_date":1544175186,"answer_id":53666719,"question_id":1480236,"body_markdown":"For Windows according to [Microsoft docs][1]\r\n\r\n - KeepAliveTime (REG_DWORD, milliseconds, by default is not set which means 7,200,000,000 \r\n= 2 hours) - analogue to tcp_keepalive_time\r\n - KeepAliveInterval (REG_DWORD, milliseconds, by default is not set which means 1,000 = 1 second) - analogue to tcp_keepalive_intvl\r\n - Since Windows Vista there is no analogue to tcp_keepalive_probes, value is fixed to 10 and cannot be changed\r\n\r\n  [1]: https://learn.microsoft.com/en-us/windows/desktop/winsock/so-keepalive","title":"Does a TCP socket connection have a &quot;keep alive&quot;?","body":"<p>For Windows according to <a href=\"https://learn.microsoft.com/en-us/windows/desktop/winsock/so-keepalive\" rel=\"nofollow noreferrer\">Microsoft docs</a></p>\n\n<ul>\n<li>KeepAliveTime (REG_DWORD, milliseconds, by default is not set which means 7,200,000,000 \n= 2 hours) - analogue to tcp_keepalive_time</li>\n<li>KeepAliveInterval (REG_DWORD, milliseconds, by default is not set which means 1,000 = 1 second) - analogue to tcp_keepalive_intvl</li>\n<li>Since Windows Vista there is no analogue to tcp_keepalive_probes, value is fixed to 10 and cannot be changed</li>\n</ul>\n"}],"owner":{"account_id":47968,"reputation":12181,"user_id":142299,"accept_rate":85,"display_name":"Kevin Boyd"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":214401,"favorite_count":0,"down_vote_count":0,"up_vote_count":116,"accepted_answer_id":1480246,"answer_count":8,"score":116,"last_activity_date":1668468108,"creation_date":1253930960,"question_id":1480236,"body_markdown":"I have heard of HTTP keep-alive but for now I want to open a socket connection with a remote server.  \r\nNow will this socket connection remain open forever or is there a timeout limit associated with it similar to HTTP keep-alive?\r\n \r\n\r\n\r\n","title":"Does a TCP socket connection have a &quot;keep alive&quot;?","body":"<p>I have heard of HTTP keep-alive but for now I want to open a socket connection with a remote server.<br>\nNow will this socket connection remain open forever or is there a timeout limit associated with it similar to HTTP keep-alive?</p>\n"},{"tags":["java","ssh","server","terminal","jsch"],"answers":[{"tags":[],"owner":{"account_id":20889441,"reputation":131,"user_id":15345198,"display_name":"Olivia22"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668468078,"creation_date":1668465353,"answer_id":74438636,"question_id":74438038,"body_markdown":"I found the solution: add the option -q to nc cat: \r\n\r\n`channel.setCommand(&quot;nc -q 1 127.0.0.1 8008 &lt;&lt;&lt; &quot; + request);`. \r\n\r\nIt will end the connection after 1 seconds once it reaches EOF. So my request  takes 4 seconds it will properly close after 4 + 1 second after. if its 10 seconds, its going to be 10 + 1. and so on.","title":"JSCH Channel doesnt disconnect after command execution","body":"<p>I found the solution: add the option -q to nc cat:</p>\n<p><code>channel.setCommand(&quot;nc -q 1 127.0.0.1 8008 &lt;&lt;&lt; &quot; + request);</code>.</p>\n<p>It will end the connection after 1 seconds once it reaches EOF. So my request  takes 4 seconds it will properly close after 4 + 1 second after. if its 10 seconds, its going to be 10 + 1. and so on.</p>\n"}],"owner":{"account_id":20889441,"reputation":131,"user_id":15345198,"display_name":"Olivia22"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":217,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668468078,"creation_date":1668461301,"question_id":74438038,"body_markdown":"I have to put a timeout 6 before my request to the server otherwise it gets stuck in the while loop. I lose valuable seconds there because 6 is an arbitrary number of seconds and Im doing around 200 request to the server through JSCH.\r\n\r\nI executed the request `nc 127.0.0.1 8008 &lt;&lt;&lt; &#39;(47.6861,-70.3343) (48.2191,-68.9323) 100000&#39;` in the terminal (connected through ssh) and it seemed to stand by after I got the return value so I have to CTRL-C to return to cancel that command. \r\n\r\nOne option that comes to my mind is to do the request with another command other than `nc` but I cant find another. thanks\r\n\r\n```\r\npublic String doRequest(String request) throws JSchException, InterruptedException {\r\n        channel = (ChannelExec) session.openChannel(&quot;exec&quot;);\r\n        String responseString;\r\n        channel.setCommand(&quot;nc 127.0.0.1 8008 &lt;&lt;&lt; &quot; + &quot;&#39;&quot; + request + &quot;&#39;&quot;);\r\n        //channel.setCommand(&quot;timeout 6 nc 127.0.0.1 8008 &lt;&lt;&lt; &quot; + &quot;&#39;&quot; + request + &quot;&#39;&quot;);\r\n        ByteArrayOutputStream responseStream = new ByteArrayOutputStream();\r\n        channel.setOutputStream(responseStream);\r\n        channel.connect();\r\n  \r\n        while (channel.isConnected()) {\r\n            Thread.sleep(100);\r\n        }\r\n        responseString = responseStream.toString();\r\n        return responseString;\r\n    }\r\n```","title":"JSCH Channel doesnt disconnect after command execution","body":"<p>I have to put a timeout 6 before my request to the server otherwise it gets stuck in the while loop. I lose valuable seconds there because 6 is an arbitrary number of seconds and Im doing around 200 request to the server through JSCH.</p>\n<p>I executed the request <code>nc 127.0.0.1 8008 &lt;&lt;&lt; '(47.6861,-70.3343) (48.2191,-68.9323) 100000'</code> in the terminal (connected through ssh) and it seemed to stand by after I got the return value so I have to CTRL-C to return to cancel that command.</p>\n<p>One option that comes to my mind is to do the request with another command other than <code>nc</code> but I cant find another. thanks</p>\n<pre><code>public String doRequest(String request) throws JSchException, InterruptedException {\n        channel = (ChannelExec) session.openChannel(&quot;exec&quot;);\n        String responseString;\n        channel.setCommand(&quot;nc 127.0.0.1 8008 &lt;&lt;&lt; &quot; + &quot;'&quot; + request + &quot;'&quot;);\n        //channel.setCommand(&quot;timeout 6 nc 127.0.0.1 8008 &lt;&lt;&lt; &quot; + &quot;'&quot; + request + &quot;'&quot;);\n        ByteArrayOutputStream responseStream = new ByteArrayOutputStream();\n        channel.setOutputStream(responseStream);\n        channel.connect();\n  \n        while (channel.isConnected()) {\n            Thread.sleep(100);\n        }\n        responseString = responseStream.toString();\n        return responseString;\n    }\n</code></pre>\n"},{"tags":["java","azure","jsp","spring-security"],"answers":[{"comments":[{"owner":{"account_id":16208446,"reputation":63,"user_id":11864638,"display_name":"Bruno Genovese"},"score":0,"creation_date":1668521426,"post_id":74438890,"comment_id":131421693,"body_markdown":"This was perfect!!! I used your solution (2) in combination with some logic to set an isAdmin var and from there it was a cakewalk.  Thank you very much.","body":"This was perfect!!! I used your solution (2) in combination with some logic to set an isAdmin var and from there it was a cakewalk.  Thank you very much."}],"tags":[],"owner":{"account_id":12488260,"reputation":9988,"user_id":9090751,"display_name":"Mafor"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668467239,"creation_date":1668467239,"answer_id":74438890,"question_id":74436334,"body_markdown":"Spring diferentiates between roles and permissions by prefix, which is `ROLE_` by default. Everything not starting with the prefix is not considered to be, well, a role. For that reason the `isUserInRole` method adds the prefix to its argument if it&#39;s not present there yet: [SecurityContextHolderAwareRequestWrapper.java#L136]( https://github.com/spring-projects/spring-security/blob/ce065a87da971b9ab0d0a8734b1591d6a9584f0b/web/src/main/java/org/springframework/security/web/servletapi/SecurityContextHolderAwareRequestWrapper.java#L136). On the other hand, `hasAuthority` does not do it.\r\n\r\nDepending on your actual usecase, you have several options:\r\n   \r\n1. Reconfiguring or removing the prefix used by Spring Security. See https://stackoverflow.com/questions/38134121/how-do-i-remove-the-role-prefix-from-spring-security-with-javaconfig\r\n2. Using `hasAuthority` instead of `isUserInRole` in your JSP:\r\n```\r\n&lt;sec:authorize access=&quot;hasAuthority(&#39;APPROLE_Admin&#39;)&quot;&gt;\r\n ...\r\n&lt;/sec:authorize&gt;\r\n```\r\n3. Writing your own method to manually check authorities retrieved from [SecurityContextHolder.getContext()](https://docs.spring.io/spring-security/site/docs/3.0.x/apidocs/org/springframework/security/core/context/SecurityContextHolder.html#getContext())","title":"request.isUserInRole for Azure-defined app roles","body":"<p>Spring diferentiates between roles and permissions by prefix, which is <code>ROLE_</code> by default. Everything not starting with the prefix is not considered to be, well, a role. For that reason the <code>isUserInRole</code> method adds the prefix to its argument if it's not present there yet: <a href=\"https://github.com/spring-projects/spring-security/blob/ce065a87da971b9ab0d0a8734b1591d6a9584f0b/web/src/main/java/org/springframework/security/web/servletapi/SecurityContextHolderAwareRequestWrapper.java#L136\" rel=\"nofollow noreferrer\">SecurityContextHolderAwareRequestWrapper.java#L136</a>. On the other hand, <code>hasAuthority</code> does not do it.</p>\n<p>Depending on your actual usecase, you have several options:</p>\n<ol>\n<li>Reconfiguring or removing the prefix used by Spring Security. See <a href=\"https://stackoverflow.com/questions/38134121/how-do-i-remove-the-role-prefix-from-spring-security-with-javaconfig\">How do I remove the ROLE_ prefix from Spring Security with JavaConfig?</a></li>\n<li>Using <code>hasAuthority</code> instead of <code>isUserInRole</code> in your JSP:</li>\n</ol>\n<pre><code>&lt;sec:authorize access=&quot;hasAuthority('APPROLE_Admin')&quot;&gt;\n ...\n&lt;/sec:authorize&gt;\n</code></pre>\n<ol start=\"3\">\n<li>Writing your own method to manually check authorities retrieved from <a href=\"https://docs.spring.io/spring-security/site/docs/3.0.x/apidocs/org/springframework/security/core/context/SecurityContextHolder.html#getContext()\" rel=\"nofollow noreferrer\">SecurityContextHolder.getContext()</a></li>\n</ol>\n"}],"owner":{"account_id":16208446,"reputation":63,"user_id":11864638,"display_name":"Bruno Genovese"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74438890,"answer_count":1,"score":0,"last_activity_date":1668467239,"creation_date":1668450983,"question_id":74436334,"body_markdown":"If I login through Azure 2-step authentication I can protect a Java/Spring method using an &quot;Admin&quot; role defined in the Azure Application configuration with:\r\n\r\n    @PreAuthorize(&quot;hasAuthority(&#39;APPROLE_Admin&#39;)&quot;)\r\n\r\nIf I use Spring Security and traditional Active Directory authentication and a group that maps to ROLE_Admin I can use the following to get a true/false to determine if the logged in user is in the role:\r\n\r\n    request.isUserInRole(&quot;ROLE_Admin&quot;)\r\n\r\nBut the same for Azure application roles always returns false, even when it should be true:\r\n\r\n    request.isUserInRole(&quot;APPROLE_Admin&quot;)\r\n\r\n\r\nQUESTION:\r\n\r\nIs there a way to call isUserInRole() for Azure application roles?  Or perhaps an alternative approach that can be used in JSPs to determine if the logged in user is in a particular Azure application role?\r\n\r\n\r\nREASON\r\n\r\nI would like to use it in combination with JSP/JSTL to hide elements of the page that are only relevant if you are an Admin.  This used to work great with traditional AD authentication but it is driving me insane now that I use Azure two-step authentication.","title":"request.isUserInRole for Azure-defined app roles","body":"<p>If I login through Azure 2-step authentication I can protect a Java/Spring method using an &quot;Admin&quot; role defined in the Azure Application configuration with:</p>\n<pre><code>@PreAuthorize(&quot;hasAuthority('APPROLE_Admin')&quot;)\n</code></pre>\n<p>If I use Spring Security and traditional Active Directory authentication and a group that maps to ROLE_Admin I can use the following to get a true/false to determine if the logged in user is in the role:</p>\n<pre><code>request.isUserInRole(&quot;ROLE_Admin&quot;)\n</code></pre>\n<p>But the same for Azure application roles always returns false, even when it should be true:</p>\n<pre><code>request.isUserInRole(&quot;APPROLE_Admin&quot;)\n</code></pre>\n<p>QUESTION:</p>\n<p>Is there a way to call isUserInRole() for Azure application roles?  Or perhaps an alternative approach that can be used in JSPs to determine if the logged in user is in a particular Azure application role?</p>\n<p>REASON</p>\n<p>I would like to use it in combination with JSP/JSTL to hide elements of the page that are only relevant if you are an Admin.  This used to work great with traditional AD authentication but it is driving me insane now that I use Azure two-step authentication.</p>\n"},{"tags":["java","drools","mvel"],"answers":[{"comments":[{"owner":{"account_id":4397192,"reputation":5374,"user_id":3583824,"accept_rate":75,"display_name":"axnet"},"score":0,"creation_date":1668493911,"post_id":74438885,"comment_id":131412005,"body_markdown":"Thanks, Roddy. It would be really helpful, if you can provide some good material reference, which has the examples on custom comparisons using mvel or java dialects in drools","body":"Thanks, Roddy. It would be really helpful, if you can provide some good material reference, which has the examples on custom comparisons using mvel or java dialects in drools"}],"tags":[],"owner":{"account_id":183966,"reputation":14640,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668467209,"creation_date":1668467209,"answer_id":74438885,"question_id":74427764,"body_markdown":"`contains` and `memberOf` are for a single value and a list. Which you use depends on which you have in the object in working memory, and which you&#39;re defining in the rule.\r\n\r\nExamples:\r\n\r\n&quot;contains&quot;:\r\n```\r\nClassMates( names contains &quot;Jim&quot; )\r\n```\r\n\r\n&quot;memberOf&quot;:\r\n```\r\nPerson( $name: name )\r\nClassmates( $name memberOf names )\r\n```\r\n\r\n---\r\n\r\nSo for your example, you&#39;d likely do:\r\n\r\n```\r\nTest(contactNumbers contains &quot;12345&quot;,\r\n     contactNumbers contains &quot;67890&quot; )\r\n```\r\n\r\nThis would trigger if the Test instance has a contactNumbers field that includes &quot;12345&quot; _and_ &quot;67890&quot;. contactNumbers could contain other values as well. If there are two Test instances, and one contains &quot;12345&quot; and the other contains &quot;67890&quot;, this rule will not fire.\r\n\r\nYou can test that contactNumbers contains _only_ the values you&#39;re testing for using an `accumulate` and a length check:\r\n\r\n```\r\n$t: Test( $numbers: contactNumbers )\r\nSet( size == $numbers.size() ) from accumulate(\r\n  $n: String(this in (&quot;12345&quot;, &quot;67890&quot;)) from $numbers,\r\n  collectSet($n)\r\n)\r\n```\r\n\r\nI used a `Set` to exclude duplicates. Older Drools you can do a similar with &#39;collect&#39;.\r\n\r\n----\r\n\r\nI&#39;ve matched your syntax here using `Test(...)`. Note that the current docs recommend the &quot;oopath&quot; style of `/tests [contactNumbers contains &quot;12345&quot;, contactNumbers contains &quot;6789&quot;]` ... other than the harder-to-read syntax it should be functionally the same.","title":"how to do custom comparison operations in drools rule file?","body":"<p><code>contains</code> and <code>memberOf</code> are for a single value and a list. Which you use depends on which you have in the object in working memory, and which you're defining in the rule.</p>\n<p>Examples:</p>\n<p>&quot;contains&quot;:</p>\n<pre><code>ClassMates( names contains &quot;Jim&quot; )\n</code></pre>\n<p>&quot;memberOf&quot;:</p>\n<pre><code>Person( $name: name )\nClassmates( $name memberOf names )\n</code></pre>\n<hr />\n<p>So for your example, you'd likely do:</p>\n<pre><code>Test(contactNumbers contains &quot;12345&quot;,\n     contactNumbers contains &quot;67890&quot; )\n</code></pre>\n<p>This would trigger if the Test instance has a contactNumbers field that includes &quot;12345&quot; <em>and</em> &quot;67890&quot;. contactNumbers could contain other values as well. If there are two Test instances, and one contains &quot;12345&quot; and the other contains &quot;67890&quot;, this rule will not fire.</p>\n<p>You can test that contactNumbers contains <em>only</em> the values you're testing for using an <code>accumulate</code> and a length check:</p>\n<pre><code>$t: Test( $numbers: contactNumbers )\nSet( size == $numbers.size() ) from accumulate(\n  $n: String(this in (&quot;12345&quot;, &quot;67890&quot;)) from $numbers,\n  collectSet($n)\n)\n</code></pre>\n<p>I used a <code>Set</code> to exclude duplicates. Older Drools you can do a similar with 'collect'.</p>\n<hr />\n<p>I've matched your syntax here using <code>Test(...)</code>. Note that the current docs recommend the &quot;oopath&quot; style of <code>/tests [contactNumbers contains &quot;12345&quot;, contactNumbers contains &quot;6789&quot;]</code> ... other than the harder-to-read syntax it should be functionally the same.</p>\n"}],"owner":{"account_id":4397192,"reputation":5374,"user_id":3583824,"accept_rate":75,"display_name":"axnet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":209,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74438885,"answer_count":1,"score":0,"last_activity_date":1668467209,"creation_date":1668408177,"question_id":74427764,"body_markdown":"Note: drools version used is 8.29.0\r\n\r\nI want to perform a set based operations in drl file using mvel.\r\n\r\nfor e.g. drl file for simple rule match\r\n\r\n---------------------------------------\r\n    // Test Fact Class\r\n    package com.abc;\r\n    @Data\r\n    @AllArgsConstructor\r\n    public class Test {\r\n        private String name;\r\n        private List&lt;String&gt; contactNumbers;\r\n    }\r\n\r\n---------------------------------------    \r\n    // drl rules file\r\n    import com.abc.Test;\r\n    \r\n    rule &quot;name-rule&quot;\r\n      when\r\n        t : Test( name == &quot;abc&quot; );\r\n      then\r\n        System.out.print(&quot;abc found&quot;);\r\n    end;\r\n    \r\n    \r\n    \r\n    // not working\r\n    rule &quot;M1 rule-data matches fact&quot;\r\n      when\r\n        p : Test( [&quot;1234&quot;, &quot;5678&quot;] contains contactNumbers );\r\n      then\r\n        System.out.print(&quot;M1 rule-data matches fact FOUND&quot;);\r\n    end;\r\n    \r\n    // not working\r\n    rule &quot;M2 fact matches rule-data&quot;\r\n      when\r\n        p : Test( contactNumbers contains  [&quot;1234&quot;, &quot;5678&quot;] );\r\n      then\r\n        System.out.print(&quot;M2 fact matches rule-data FOUND&quot;);\r\n    end;\r\n\r\n---------------------------------------\r\n    // main method snippet\r\n    // creating Fact objects\r\n    String[] s1 = {&quot;1234&quot;, &quot;5678&quot;, &quot;2222&quot;};\r\n    Test t1 = new Test(&quot;abc&quot;, Arrays.asList(&quot;1111&quot;));\r\n    Test t2 = new Test(&quot;xyz&quot;, Arrays.asList(s1));\r\n\r\n    \r\n    // inserting facts to check against rules\r\n    // kieContainer is created using above mentioned drl file\r\n    KieSession kieSession = kieContainer.newKieSession();\r\n    kieSession.insert(t1);\r\n    kieSession.insert(t2);\r\n    kieSession.fireAllRules();\r\n    kieSession.dispose();\r\n\r\n\r\n\r\nWhen I execute above, I only get to match rule 1, which outputs &quot;abc found&quot;.\r\n\r\nQuestion:\r\n1. How can I achieve many to many match in drl file.\r\n   &lt;br&gt;Ans : one way i figured is below.   \r\n\r\n    Test( contactNumbers contains &quot;1234&quot; &amp;&amp; contactNumbers contains &quot;5678&quot; );\r\n\r\n   &lt;br&gt;if any other better way than above, please let me know.\r\n\r\n2. How can I achieve or implement the custom comparisons in MVEL?\r\n&lt;br&gt;i.e. If any 2 items of the facts matches the list present in rule etc., or any custom filtering on collections.\r\n&lt;br&gt; any example of such implementation would be really useful.\r\n","title":"how to do custom comparison operations in drools rule file?","body":"<p>Note: drools version used is 8.29.0</p>\n<p>I want to perform a set based operations in drl file using mvel.</p>\n<p>for e.g. drl file for simple rule match</p>\n<hr />\n<pre><code>// Test Fact Class\npackage com.abc;\n@Data\n@AllArgsConstructor\npublic class Test {\n    private String name;\n    private List&lt;String&gt; contactNumbers;\n}\n</code></pre>\n<hr />\n<pre><code>// drl rules file\nimport com.abc.Test;\n\nrule &quot;name-rule&quot;\n  when\n    t : Test( name == &quot;abc&quot; );\n  then\n    System.out.print(&quot;abc found&quot;);\nend;\n\n\n\n// not working\nrule &quot;M1 rule-data matches fact&quot;\n  when\n    p : Test( [&quot;1234&quot;, &quot;5678&quot;] contains contactNumbers );\n  then\n    System.out.print(&quot;M1 rule-data matches fact FOUND&quot;);\nend;\n\n// not working\nrule &quot;M2 fact matches rule-data&quot;\n  when\n    p : Test( contactNumbers contains  [&quot;1234&quot;, &quot;5678&quot;] );\n  then\n    System.out.print(&quot;M2 fact matches rule-data FOUND&quot;);\nend;\n</code></pre>\n<hr />\n<pre><code>// main method snippet\n// creating Fact objects\nString[] s1 = {&quot;1234&quot;, &quot;5678&quot;, &quot;2222&quot;};\nTest t1 = new Test(&quot;abc&quot;, Arrays.asList(&quot;1111&quot;));\nTest t2 = new Test(&quot;xyz&quot;, Arrays.asList(s1));\n\n\n// inserting facts to check against rules\n// kieContainer is created using above mentioned drl file\nKieSession kieSession = kieContainer.newKieSession();\nkieSession.insert(t1);\nkieSession.insert(t2);\nkieSession.fireAllRules();\nkieSession.dispose();\n</code></pre>\n<p>When I execute above, I only get to match rule 1, which outputs &quot;abc found&quot;.</p>\n<p>Question:</p>\n<ol>\n<li><p>How can I achieve many to many match in drl file.\n<br>Ans : one way i figured is below.</p>\n<p>Test( contactNumbers contains &quot;1234&quot; &amp;&amp; contactNumbers contains &quot;5678&quot; );</p>\n<p><br>if any other better way than above, please let me know.</p>\n</li>\n<li><p>How can I achieve or implement the custom comparisons in MVEL?\n<br>i.e. If any 2 items of the facts matches the list present in rule etc., or any custom filtering on collections.\n<br> any example of such implementation would be really useful.</p>\n</li>\n</ol>\n"},{"tags":["java","gradle","junit5","gradlew"],"answers":[{"tags":[],"owner":{"account_id":2700750,"reputation":688,"user_id":2331527,"display_name":"floating cat"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1618918680,"creation_date":1618918680,"answer_id":67178159,"question_id":66586272,"body_markdown":"That `STANDARD_ERROR` is current JUnit 5 behavior: https://github.com/junit-team/junit5/issues/1774\r\n\r\nYou could try the workaround here with below `*.properties` example: https://github.com/junit-team/junit5/issues/1774#issuecomment-463662553\r\n\r\n```\r\nhandlers=java.util.logging.ConsoleHandler\r\n.level=INFO\r\n\r\norg.junit.platform.launcher.core.EngineDiscoveryOrchestrator.level=WARNING\r\n```\r\n","title":"Running a single JUnit5 test on gradle exits with STANDARD_ERROR","body":"<p>That <code>STANDARD_ERROR</code> is current JUnit 5 behavior: <a href=\"https://github.com/junit-team/junit5/issues/1774\" rel=\"nofollow noreferrer\">https://github.com/junit-team/junit5/issues/1774</a></p>\n<p>You could try the workaround here with below <code>*.properties</code> example: <a href=\"https://github.com/junit-team/junit5/issues/1774#issuecomment-463662553\" rel=\"nofollow noreferrer\">https://github.com/junit-team/junit5/issues/1774#issuecomment-463662553</a></p>\n<pre><code>handlers=java.util.logging.ConsoleHandler\n.level=INFO\n\norg.junit.platform.launcher.core.EngineDiscoveryOrchestrator.level=WARNING\n</code></pre>\n"}],"owner":{"account_id":7597837,"reputation":63,"user_id":6341337,"display_name":"YashSeeta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9071,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1668467080,"creation_date":1615479104,"question_id":66586272,"body_markdown":"The test being run shows passed, but the Gradle Test Executor shows a STANDARD_ERROR.\r\n\r\n    &gt;&gt;./gradlew --stop                                                                                                     \r\n    Stopping Daemon(s)\r\n    1 Daemon stopped\r\n    &gt;&gt;./gradlew test --tests com.tudu.task.TaskListTests.tasksAddedSequentiallyWithDescendingDueDateAreSortedByAscendingDueDate\r\n    Starting a Gradle Daemon, 8 stopped Daemons could not be reused, use --status for details\r\n\r\n    &gt; Task :test\r\n\r\n    Gradle Test Executor 1 STANDARD_ERROR\r\n    Mar 11, 2021 4:53:00 PM org.junit.platform.launcher.core.EngineDiscoveryOrchestrator lambda$logTestDescriptorExclusionReasons$7\r\n    INFO: 0 containers and 1 tests were Method or class mismatch\r\n\r\n    TaskListTests &gt; tasks added sequentially with descending due date are sorted by ascending due date PASSED\r\n\r\nThis error does not occur when I run the complete test file.\r\n\r\n    &gt;&gt;./gradlew test --tests com.tudu.task.TaskListTests                                                                       \r\n\r\n    &gt; Task :test\r\n\r\n    TaskListTests &gt; tasks added sequentially with descending due date are sorted by ascending due date PASSED\r\n\r\n    TaskListTests &gt; tasks added sequentially with random due date are sorted by ascending due date PASSED\r\n\r\nWhat does &quot;Method or class mismatch&quot; mean? What is causing the STANDARD_ERROR? ","title":"Running a single JUnit5 test on gradle exits with STANDARD_ERROR","body":"<p>The test being run shows passed, but the Gradle Test Executor shows a STANDARD_ERROR.</p>\n<pre><code>&gt;&gt;./gradlew --stop                                                                                                     \nStopping Daemon(s)\n1 Daemon stopped\n&gt;&gt;./gradlew test --tests com.tudu.task.TaskListTests.tasksAddedSequentiallyWithDescendingDueDateAreSortedByAscendingDueDate\nStarting a Gradle Daemon, 8 stopped Daemons could not be reused, use --status for details\n\n&gt; Task :test\n\nGradle Test Executor 1 STANDARD_ERROR\nMar 11, 2021 4:53:00 PM org.junit.platform.launcher.core.EngineDiscoveryOrchestrator lambda$logTestDescriptorExclusionReasons$7\nINFO: 0 containers and 1 tests were Method or class mismatch\n\nTaskListTests &gt; tasks added sequentially with descending due date are sorted by ascending due date PASSED\n</code></pre>\n<p>This error does not occur when I run the complete test file.</p>\n<pre><code>&gt;&gt;./gradlew test --tests com.tudu.task.TaskListTests                                                                       \n\n&gt; Task :test\n\nTaskListTests &gt; tasks added sequentially with descending due date are sorted by ascending due date PASSED\n\nTaskListTests &gt; tasks added sequentially with random due date are sorted by ascending due date PASSED\n</code></pre>\n<p>What does &quot;Method or class mismatch&quot; mean? What is causing the STANDARD_ERROR?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":9722462,"reputation":4365,"user_id":7210739,"display_name":"DontKnowMuchBut Getting Better"},"score":0,"creation_date":1668465779,"post_id":74438416,"comment_id":131407437,"body_markdown":"First off, don&#39;t use double for currency. You could multiply by 100 and use cents instead","body":"First off, don&#39;t use double for currency. You could multiply by 100 and use cents instead"}],"answers":[{"tags":[],"owner":{"account_id":26914061,"reputation":114,"user_id":20489149,"display_name":"synapticloop"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668465928,"creation_date":1668465928,"answer_id":74438720,"question_id":74438416,"body_markdown":"When you are subtracting from a double - the internal representation is not exact - running your code and printing out the amount every time you subtract yields the following:\r\n\r\n```\r\n0.41\r\n0.15999999999999998\r\n0.05999999999999997\r\n0.009999999999999967\r\n```\r\n\r\nAs you can see the binary representation of the double is not exact...\r\n\r\ntry convert to an int (i.e. multiply by 100) then do the calculations\r\n\r\n```\r\npublic class CashMain {\r\n\r\n\tpublic static void main(String[] args){\r\n\t\tScanner scanner_obj = new Scanner(System.in);\r\n\r\n\t\tSystem.out.print(&quot;Enter Amount: $&quot;);\r\n\t\tdouble amount = Double.parseDouble(scanner_obj.nextLine());\r\n\t\tSystem.out.println(amount);\r\n\t\tint numCents = (int) (amount*100);\r\n\t\tSystem.out.println(numCents);\r\n\t\t\r\n\t\tint[] change = calc_Change(numCents);\r\n\r\n\t\tSystem.out.println(change[0] + &quot; Quarters&quot;);\r\n\t\tSystem.out.println(change[1] + &quot; Dimes&quot;);\r\n\t\tSystem.out.println(change[2] + &quot; Nickels&quot;);\r\n\t\tSystem.out.println(change[3] + &quot; Pennies&quot;);\r\n\r\n\t\tSystem.out.println(check_Change(numCents, change));\r\n\t}\r\n\r\n\tpublic static int[] calc_Change(int amount){\r\n\t\tint[] change = {0, 0, 0, 0};\r\n\r\n\t\twhile (amount &gt;= 25){\r\n\t\t\tamount -= 25; \r\n\t\t\tchange[0] += 1;\r\n\t\t}\r\n\t\twhile (amount &gt;= 10){\r\n\t\t\tamount -= 10; \r\n\t\t\tchange[1] += 1;\r\n\t\t}\r\n\t\twhile (amount &gt;= 5){\r\n\t\t\tamount -= 5; \r\n\t\t\tchange[2] += 1;\r\n\t\t}\r\n\t\twhile (amount &gt;= 1){\r\n\t\t\tamount -= 1; \r\n\t\t\tchange[3] += 1;\r\n\t\t}\r\n\r\n\t\treturn change;\r\n\t}\r\n\r\n\tpublic static boolean check_Change(int amount, int[] change){\r\n\t\tint total = change[0]*25 + change[1]*10 + change[2]*5 + change[3]*1;\r\n\t\tSystem.out.println(amount + &quot; vs &quot; + total);\r\n\r\n\t\treturn (amount == total);\r\n\t}\r\n}\r\n```\r\n\r\noutput\r\n\r\n```\r\nEnter Amount: $0.41\r\n0.41\r\n41\r\n1 Quarters\r\n1 Dimes\r\n1 Nickels\r\n1 Pennies\r\n41 vs 41\r\ntrue\r\n```","title":"Cash to Change in Java","body":"<p>When you are subtracting from a double - the internal representation is not exact - running your code and printing out the amount every time you subtract yields the following:</p>\n<pre><code>0.41\n0.15999999999999998\n0.05999999999999997\n0.009999999999999967\n</code></pre>\n<p>As you can see the binary representation of the double is not exact...</p>\n<p>try convert to an int (i.e. multiply by 100) then do the calculations</p>\n<pre><code>public class CashMain {\n\n    public static void main(String[] args){\n        Scanner scanner_obj = new Scanner(System.in);\n\n        System.out.print(&quot;Enter Amount: $&quot;);\n        double amount = Double.parseDouble(scanner_obj.nextLine());\n        System.out.println(amount);\n        int numCents = (int) (amount*100);\n        System.out.println(numCents);\n        \n        int[] change = calc_Change(numCents);\n\n        System.out.println(change[0] + &quot; Quarters&quot;);\n        System.out.println(change[1] + &quot; Dimes&quot;);\n        System.out.println(change[2] + &quot; Nickels&quot;);\n        System.out.println(change[3] + &quot; Pennies&quot;);\n\n        System.out.println(check_Change(numCents, change));\n    }\n\n    public static int[] calc_Change(int amount){\n        int[] change = {0, 0, 0, 0};\n\n        while (amount &gt;= 25){\n            amount -= 25; \n            change[0] += 1;\n        }\n        while (amount &gt;= 10){\n            amount -= 10; \n            change[1] += 1;\n        }\n        while (amount &gt;= 5){\n            amount -= 5; \n            change[2] += 1;\n        }\n        while (amount &gt;= 1){\n            amount -= 1; \n            change[3] += 1;\n        }\n\n        return change;\n    }\n\n    public static boolean check_Change(int amount, int[] change){\n        int total = change[0]*25 + change[1]*10 + change[2]*5 + change[3]*1;\n        System.out.println(amount + &quot; vs &quot; + total);\n\n        return (amount == total);\n    }\n}\n</code></pre>\n<p>output</p>\n<pre><code>Enter Amount: $0.41\n0.41\n41\n1 Quarters\n1 Dimes\n1 Nickels\n1 Pennies\n41 vs 41\ntrue\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6928708,"reputation":182,"user_id":5318914,"display_name":"sic-sic"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668466885,"creation_date":1668466885,"answer_id":74438844,"question_id":74438416,"body_markdown":"You can use BigDecimal for precision in your arithmetic operations.\r\n\r\n        \r\n    public class Cash {\r\n        public static void main(String[] args){\r\n            Scanner scanner_obj = new Scanner(System.in);\r\n    \r\n            System.out.print(&quot;Enter Amount: $&quot;);\r\n            BigDecimal amount = new BigDecimal(scanner_obj.nextLine());\r\n            double[] change = calc_Change(amount);\r\n    \r\n            System.out.println(change[0] + &quot; Quarters&quot;);\r\n            System.out.println(change[1] + &quot; Dimes&quot;);\r\n            System.out.println(change[2] + &quot; Nickels&quot;);\r\n            System.out.println(change[3] + &quot; Pennies&quot;);\r\n    \r\n            System.out.println(check_Change(amount, change));\r\n        }\r\n    \r\n        public static double[] calc_Change(BigDecimal amount){\r\n            double[] change = {0, 0, 0, 0};\r\n    \r\n            while (amount.doubleValue() &gt;= 0.25){\r\n                amount = amount.subtract(new BigDecimal(&quot;0.25&quot;)); change[0]+=1;\r\n            }\r\n            while (amount.doubleValue() &gt;= 0.10){\r\n                amount = amount.subtract(new BigDecimal(&quot;0.10&quot;)); change[1] += 1;\r\n            }\r\n            while (amount.doubleValue() &gt;= 0.05){\r\n                amount = amount.subtract(new BigDecimal(&quot;0.05&quot;)); change[2] += 1;\r\n            }\r\n            while (amount.doubleValue() &gt;= 0.01){\r\n                amount = amount.subtract(new BigDecimal(&quot;0.01&quot;)); change[3] += 1;\r\n            }\r\n    \r\n            return change;\r\n        }\r\n    \r\n        public static boolean check_Change(BigDecimal amount, double[] change){\r\n            double v1 = change[0] * 0.25;\r\n            double v2 = change[1] * 0.10;\r\n            double v3 = change[2] * 0.05;\r\n            double v4 = change[3] * 0.01;\r\n            double total = v1 + v2 + v3 + v4;\r\n            System.out.println(amount + &quot; vs &quot; + total);\r\n    \r\n            return (amount.doubleValue() == total);\r\n        }\r\n    }\r\n\r\n\r\n","title":"Cash to Change in Java","body":"<p>You can use BigDecimal for precision in your arithmetic operations.</p>\n<pre><code>public class Cash {\n    public static void main(String[] args){\n        Scanner scanner_obj = new Scanner(System.in);\n\n        System.out.print(&quot;Enter Amount: $&quot;);\n        BigDecimal amount = new BigDecimal(scanner_obj.nextLine());\n        double[] change = calc_Change(amount);\n\n        System.out.println(change[0] + &quot; Quarters&quot;);\n        System.out.println(change[1] + &quot; Dimes&quot;);\n        System.out.println(change[2] + &quot; Nickels&quot;);\n        System.out.println(change[3] + &quot; Pennies&quot;);\n\n        System.out.println(check_Change(amount, change));\n    }\n\n    public static double[] calc_Change(BigDecimal amount){\n        double[] change = {0, 0, 0, 0};\n\n        while (amount.doubleValue() &gt;= 0.25){\n            amount = amount.subtract(new BigDecimal(&quot;0.25&quot;)); change[0]+=1;\n        }\n        while (amount.doubleValue() &gt;= 0.10){\n            amount = amount.subtract(new BigDecimal(&quot;0.10&quot;)); change[1] += 1;\n        }\n        while (amount.doubleValue() &gt;= 0.05){\n            amount = amount.subtract(new BigDecimal(&quot;0.05&quot;)); change[2] += 1;\n        }\n        while (amount.doubleValue() &gt;= 0.01){\n            amount = amount.subtract(new BigDecimal(&quot;0.01&quot;)); change[3] += 1;\n        }\n\n        return change;\n    }\n\n    public static boolean check_Change(BigDecimal amount, double[] change){\n        double v1 = change[0] * 0.25;\n        double v2 = change[1] * 0.10;\n        double v3 = change[2] * 0.05;\n        double v4 = change[3] * 0.01;\n        double total = v1 + v2 + v3 + v4;\n        System.out.println(amount + &quot; vs &quot; + total);\n\n        return (amount.doubleValue() == total);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26932496,"reputation":5,"user_id":20504678,"display_name":"Artyom Yesayan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74438720,"answer_count":2,"score":0,"last_activity_date":1668466885,"creation_date":1668463673,"question_id":74438416,"body_markdown":"I am new to Java and was trying to write code that would tell you how much change you would receive for a given amount of money (in minimum number of coins). For example **$0.31** would give **1 quarters, 0 dimes, 1 nickels, 1 pennies**.\r\n\r\nI got to a point where my code seemed to work. However, while most values work, specifically any multiple of 0.41 doesn&#39;t work (ex. 0.41, 0.82 ...). For example **$0.41** results in **1 quarters,\r\n1 dimes, 1 nickels, 0 pennies**, which only adds up to $0.40.\r\n\r\nHere is my code:\r\n\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class Cash {\r\n    public static void main(String[] args){\r\n        Scanner scanner_obj = new Scanner(System.in);\r\n\r\n        System.out.print(&quot;Enter Amount: $&quot;);\r\n        double amount = Double.parseDouble(scanner_obj.nextLine());\r\n        double[] change = calc_Change(amount);\r\n\r\n        System.out.println(change[0] + &quot; Quarters&quot;);\r\n        System.out.println(change[1] + &quot; Dimes&quot;);\r\n        System.out.println(change[2] + &quot; Nickels&quot;);\r\n        System.out.println(change[3] + &quot; Pennies&quot;);\r\n\r\n        System.out.println(check_Change(amount, change));\r\n    }\r\n\r\n    public static double[] calc_Change(double amount){\r\n        double[] change = {0, 0, 0, 0};\r\n\r\n        while (amount &gt;= 0.25){amount -= 0.25; change[0] += 1;}\r\n        while (amount &gt;= 0.10){amount -= 0.10; change[1] += 1;}\r\n        while (amount &gt;= 0.05){amount -= 0.05; change[2] += 1;}\r\n        while (amount &gt;= 0.01){amount -= 0.01; change[3] += 1;}\r\n\r\n        return change;\r\n    }\r\n\r\n    public static boolean check_Change(double amount, double[] change){\r\n        double total = change[0]*0.25 + change[1]*0.10 + change[2]*0.05 + change[3]*0.01;\r\n        System.out.println(amount + &quot; vs &quot; + total);\r\n\r\n        return (amount == total);\r\n    }\r\n}\r\n\r\n```\r\n\r\nI was using the check_Change function to check my results.\r\n\r\n\r\nI don&#39;t know why this doesn&#39;t work and why it is only certain numbers.","title":"Cash to Change in Java","body":"<p>I am new to Java and was trying to write code that would tell you how much change you would receive for a given amount of money (in minimum number of coins). For example <strong>$0.31</strong> would give <strong>1 quarters, 0 dimes, 1 nickels, 1 pennies</strong>.</p>\n<p>I got to a point where my code seemed to work. However, while most values work, specifically any multiple of 0.41 doesn't work (ex. 0.41, 0.82 ...). For example <strong>$0.41</strong> results in <strong>1 quarters,\n1 dimes, 1 nickels, 0 pennies</strong>, which only adds up to $0.40.</p>\n<p>Here is my code:</p>\n<pre><code>import java.util.Scanner;\n\npublic class Cash {\n    public static void main(String[] args){\n        Scanner scanner_obj = new Scanner(System.in);\n\n        System.out.print(&quot;Enter Amount: $&quot;);\n        double amount = Double.parseDouble(scanner_obj.nextLine());\n        double[] change = calc_Change(amount);\n\n        System.out.println(change[0] + &quot; Quarters&quot;);\n        System.out.println(change[1] + &quot; Dimes&quot;);\n        System.out.println(change[2] + &quot; Nickels&quot;);\n        System.out.println(change[3] + &quot; Pennies&quot;);\n\n        System.out.println(check_Change(amount, change));\n    }\n\n    public static double[] calc_Change(double amount){\n        double[] change = {0, 0, 0, 0};\n\n        while (amount &gt;= 0.25){amount -= 0.25; change[0] += 1;}\n        while (amount &gt;= 0.10){amount -= 0.10; change[1] += 1;}\n        while (amount &gt;= 0.05){amount -= 0.05; change[2] += 1;}\n        while (amount &gt;= 0.01){amount -= 0.01; change[3] += 1;}\n\n        return change;\n    }\n\n    public static boolean check_Change(double amount, double[] change){\n        double total = change[0]*0.25 + change[1]*0.10 + change[2]*0.05 + change[3]*0.01;\n        System.out.println(amount + &quot; vs &quot; + total);\n\n        return (amount == total);\n    }\n}\n\n</code></pre>\n<p>I was using the check_Change function to check my results.</p>\n<p>I don't know why this doesn't work and why it is only certain numbers.</p>\n"},{"tags":["java","ssl","x509certificate","digital-signature"],"comments":[{"owner":{"account_id":155770,"reputation":120153,"user_id":372643,"accept_rate":88,"display_name":"Bruno"},"score":0,"creation_date":1363090189,"post_id":15355031,"comment_id":21701932,"body_markdown":"Have you checked all the certificates in the chain (in particular, the CA certs)?","body":"Have you checked all the certificates in the chain (in particular, the CA certs)?"},{"owner":{"account_id":1677260,"reputation":197,"user_id":2159502,"accept_rate":25,"display_name":"chaplean"},"score":0,"creation_date":1363091982,"post_id":15355031,"comment_id":21703042,"body_markdown":"Yes, in fact I use keystore and truststore from my old server which runs JRE6 and there is no problem on it, but the new one with JRE7 throws above exception.","body":"Yes, in fact I use keystore and truststore from my old server which runs JRE6 and there is no problem on it, but the new one with JRE7 throws above exception."},{"owner":{"account_id":155770,"reputation":120153,"user_id":372643,"accept_rate":88,"display_name":"Bruno"},"score":0,"creation_date":1363092072,"post_id":15355031,"comment_id":21703105,"body_markdown":"Do you get anything more precise when using `-Djavax.net.debug=all`?","body":"Do you get anything more precise when using <code>-Djavax.net.debug=all</code>?"},{"owner":{"account_id":249565,"reputation":9766,"user_id":525725,"accept_rate":67,"display_name":"Emmanuel Bourg"},"score":0,"creation_date":1363094803,"post_id":15355031,"comment_id":21705035,"body_markdown":"What version of Java 7 did you use exactly?","body":"What version of Java 7 did you use exactly?"},{"owner":{"account_id":1677260,"reputation":197,"user_id":2159502,"accept_rate":25,"display_name":"chaplean"},"score":0,"creation_date":1363097345,"post_id":15355031,"comment_id":21706789,"body_markdown":"Sorry, the question was a bit wrong, edited the footer.","body":"Sorry, the question was a bit wrong, edited the footer."},{"owner":{"account_id":1677260,"reputation":197,"user_id":2159502,"accept_rate":25,"display_name":"chaplean"},"score":0,"creation_date":1363097592,"post_id":15355031,"comment_id":21706959,"body_markdown":"java version &quot;1.7.0&quot;\nJava(TM) SE Runtime Environment (build 1.7.0-b147)\nJava HotSpot(TM) 64-Bit Server VM (build 21.0-b17, mixed mode)","body":"java version &quot;1.7.0&quot; Java(TM) SE Runtime Environment (build 1.7.0-b147) Java HotSpot(TM) 64-Bit Server VM (build 21.0-b17, mixed mode)"},{"owner":{"account_id":249565,"reputation":9766,"user_id":525725,"accept_rate":67,"display_name":"Emmanuel Bourg"},"score":0,"creation_date":1363099297,"post_id":15355031,"comment_id":21708217,"body_markdown":"I would suggest trying with a more recent version of Java 7 to rule out the possibility of a bug in an earlier version.","body":"I would suggest trying with a more recent version of Java 7 to rule out the possibility of a bug in an earlier version."},{"owner":{"account_id":1677260,"reputation":197,"user_id":2159502,"accept_rate":25,"display_name":"chaplean"},"score":0,"creation_date":1363103569,"post_id":15355031,"comment_id":21711148,"body_markdown":"Just tried to run it with java 6 and it works fine on the new server. What can be the reason for this? Maybe because of the keystore/truststore generated with previous keytool version?","body":"Just tried to run it with java 6 and it works fine on the new server. What can be the reason for this? Maybe because of the keystore/truststore generated with previous keytool version?"},{"owner":{"account_id":155770,"reputation":120153,"user_id":372643,"accept_rate":88,"display_name":"Bruno"},"score":0,"creation_date":1363104903,"post_id":15355031,"comment_id":21712095,"body_markdown":"Are you running it all with the same client certificate and keystore? Can you see any more details with `-Djavax.net.debug=all`? Is it possible that the key usage refers to something to do with your CA certificate and your CRL distribution point `http://test.az:7447/Test%20CA.crl`?","body":"Are you running it all with the same client certificate and keystore? Can you see any more details with <code>-Djavax.net.debug=all</code>? Is it possible that the key usage refers to something to do with your CA certificate and your CRL distribution point <code>http:&#47;&#47;test.az:7447&#47;Test%20CA.crl</code>?"},{"owner":{"account_id":2983071,"reputation":5017,"user_id":2532621,"display_name":"ash"},"score":0,"creation_date":1386623682,"post_id":15355031,"comment_id":30608702,"body_markdown":"Could the issue be with the server certificate instead of the client certificate?","body":"Could the issue be with the server certificate instead of the client certificate?"}],"answers":[{"comments":[{"owner":{"account_id":490392,"reputation":6191,"user_id":453389,"accept_rate":89,"display_name":"shonky linux user"},"score":9,"creation_date":1484628860,"post_id":20669385,"comment_id":70575305,"body_markdown":"And how does one avoid using these ciphers from within java?","body":"And how does one avoid using these ciphers from within java?"}],"tags":[],"owner":{"account_id":1413371,"reputation":485,"user_id":1339541,"display_name":"Chris D"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1387404252,"creation_date":1387404252,"answer_id":20669385,"question_id":15355031,"body_markdown":"The error actually comes from verifying the server&#39;s certificate.  That certificate has a key usage section that doesn&#39;t include a digitalSignature bit.\r\n\r\nSome cipher suites require the digital signature bit, specifically Diffie-Hellman key exchange (DHE_RSA and ECDHE_RSA).  You may be able to avoid this error by avoiding those cipher types.  Otherwise the server certificate needs to support it.","title":"KeyUsage does not allow digital signatures","body":"<p>The error actually comes from verifying the server's certificate.  That certificate has a key usage section that doesn't include a digitalSignature bit.</p>\n\n<p>Some cipher suites require the digital signature bit, specifically Diffie-Hellman key exchange (DHE_RSA and ECDHE_RSA).  You may be able to avoid this error by avoiding those cipher types.  Otherwise the server certificate needs to support it.</p>\n"},{"tags":[],"owner":{"account_id":4112705,"reputation":8236,"user_id":3482533,"accept_rate":84,"display_name":"Naramsim"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1612186612,"creation_date":1612178948,"answer_id":65991928,"question_id":15355031,"body_markdown":"this error happened also to me and while the answer of @Chris D is correct I thought about giving you a way to overcome this issue.\r\n\r\nWe are in a situation where our Java application has to talk with a server through HTTPS. If we are able to tune this server&#39;s TLS we can solve the issue.\r\n\r\nBasically we need to disable all the ciphers based on Diffie Hellman on the HTTPS server. You need to exclude all ciphers which contain `DH`. \r\n\r\nIn case of Haproxy I used these directives:\r\n\r\n```haproxy\r\nglobal\r\n    ssl-default-bind-ciphers AES128-GCM-SHA256:AES256-GCM-SHA384:AES128-SHA256:AES256-SHA256:AES128-SHA:AES256-SHA:DES-CBC3-SHA\r\n    ssl-default-bind-ciphersuites TLS_AES_128_GCM_SHA256:TLS_AES_256_GCM_SHA384:TLS_CHACHA20_POLY1305_SHA256\r\n```\r\n\r\nIn case of a Java HTTPS server I&#39;ve set this env var:\r\n\r\n```env\r\nSERVER_SSL_CIPHERS=TLS_RSA_WITH_AES_128_GCM_SHA256:TLS_RSA_WITH_AES_256_GCM_SHA384:TLS_RSA_WITH_AES_128_CBC_SHA256:TLS_RSA_WITH_AES_256_CBC_SHA256:TLS_RSA_WITH_AES_128_CBC_SHA:TLS_RSA_WITH_AES_256_CBC_SHA:TLS_RSA_WITH_3DES_EDE_CBC_SHA\r\n```\r\n\r\nwhich will then be translated to the Java property [server.ssl.ciphers](https://docs.spring.io/spring-boot/docs/current/reference/html/appendix-application-properties.html#server.ssl.ciphers)\r\n\r\n---\r\n\r\nIf you want to force some ciphers on the client-side, this SO question might be what you&#39;re looking for https://stackoverflow.com/questions/52779312/java-how-can-i-disable-a-tls-cipher-for-only-some-protocols-using-jvm-config/52814980","title":"KeyUsage does not allow digital signatures","body":"<p>this error happened also to me and while the answer of @Chris D is correct I thought about giving you a way to overcome this issue.</p>\n<p>We are in a situation where our Java application has to talk with a server through HTTPS. If we are able to tune this server's TLS we can solve the issue.</p>\n<p>Basically we need to disable all the ciphers based on Diffie Hellman on the HTTPS server. You need to exclude all ciphers which contain <code>DH</code>.</p>\n<p>In case of Haproxy I used these directives:</p>\n<pre><code>global\n    ssl-default-bind-ciphers AES128-GCM-SHA256:AES256-GCM-SHA384:AES128-SHA256:AES256-SHA256:AES128-SHA:AES256-SHA:DES-CBC3-SHA\n    ssl-default-bind-ciphersuites TLS_AES_128_GCM_SHA256:TLS_AES_256_GCM_SHA384:TLS_CHACHA20_POLY1305_SHA256\n</code></pre>\n<p>In case of a Java HTTPS server I've set this env var:</p>\n<pre><code>SERVER_SSL_CIPHERS=TLS_RSA_WITH_AES_128_GCM_SHA256:TLS_RSA_WITH_AES_256_GCM_SHA384:TLS_RSA_WITH_AES_128_CBC_SHA256:TLS_RSA_WITH_AES_256_CBC_SHA256:TLS_RSA_WITH_AES_128_CBC_SHA:TLS_RSA_WITH_AES_256_CBC_SHA:TLS_RSA_WITH_3DES_EDE_CBC_SHA\n</code></pre>\n<p>which will then be translated to the Java property <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/appendix-application-properties.html#server.ssl.ciphers\" rel=\"nofollow noreferrer\">server.ssl.ciphers</a></p>\n<hr />\n<p>If you want to force some ciphers on the client-side, this SO question might be what you're looking for <a href=\"https://stackoverflow.com/questions/52779312/java-how-can-i-disable-a-tls-cipher-for-only-some-protocols-using-jvm-config/52814980\">Java - How can I disable a TLS cipher for only some protocols using JVM Config?</a></p>\n"},{"tags":[],"owner":{"account_id":1601824,"reputation":383,"user_id":1482710,"accept_rate":60,"display_name":"martinnemec3"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668466066,"creation_date":1668466066,"answer_id":74438743,"question_id":15355031,"body_markdown":"Confirming that this behavior is still the same for the latest JRE version (19).\r\n\r\nThere seems to be another way how to avoid the problem (beside the one mentioned by Chris D). It looks like when a [trust anchor][1] is present inside the truststore java does not trigger the checks responsible for throwing the described exception and blindly trust to the server&#39;s certificate.\r\n\r\nThe related code can be saw here:\r\nhttps://github.com/openjdk/jdk/blob/4cec141a90bc5d3b8ec17c024291d9c74a112cd4/src/java.base/share/classes/sun/security/validator/Validator.java#L259\r\n\r\nThis means importing the server&#39;s certificate directly into the java&#39;s truststore resolves the issue.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Trust_anchor","title":"KeyUsage does not allow digital signatures","body":"<p>Confirming that this behavior is still the same for the latest JRE version (19).</p>\n<p>There seems to be another way how to avoid the problem (beside the one mentioned by Chris D). It looks like when a <a href=\"https://en.wikipedia.org/wiki/Trust_anchor\" rel=\"nofollow noreferrer\">trust anchor</a> is present inside the truststore java does not trigger the checks responsible for throwing the described exception and blindly trust to the server's certificate.</p>\n<p>The related code can be saw here:\n<a href=\"https://github.com/openjdk/jdk/blob/4cec141a90bc5d3b8ec17c024291d9c74a112cd4/src/java.base/share/classes/sun/security/validator/Validator.java#L259\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jdk/blob/4cec141a90bc5d3b8ec17c024291d9c74a112cd4/src/java.base/share/classes/sun/security/validator/Validator.java#L259</a></p>\n<p>This means importing the server's certificate directly into the java's truststore resolves the issue.</p>\n"}],"owner":{"account_id":1677260,"reputation":197,"user_id":2159502,"accept_rate":25,"display_name":"chaplean"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17777,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":20669385,"answer_count":3,"score":8,"last_activity_date":1668466066,"creation_date":1363070928,"question_id":15355031,"body_markdown":"I&#39;m trying to send HTTPS request from my Java EE program to the host that requires certificate authentication. I have a proper keystore file, truststore with imported CA, the listing of both shows that certificates are inside.\r\n\r\nBut I receive the following error:\r\n\r\n    javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: KeyUsage does not allow digital signatures\r\n    \tat ...\r\n    \r\n    ...\r\n\r\n    Caused by: sun.security.validator.ValidatorException: KeyUsage does not allow digital signatures\r\n    \tat sun.security.validator.EndEntityChecker.checkTLSServer(EndEntityChecker.java:270)\r\n    \tat sun.security.validator.EndEntityChecker.check(EndEntityChecker.java:141)\r\n    \tat sun.security.validator.Validator.validate(Validator.java:264)\r\n    \tat sun.security.ssl.X509TrustManagerImpl.validate(X509TrustManagerImpl.java:326)\r\n    \tat sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:231)\r\n    \tat     sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:126)\r\n\tat sun.security.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:1319)\r\n\t... 29 more\r\n\r\nViewing the certificate contents in the part of Extensions I see the following:\r\n\r\n\r\n    Extensions:\r\n    \r\n    #1: ObjectId: 2.5.29.14 Criticality=false\r\n    SubjectKeyIdentifier [\r\n    KeyIdentifier [\r\n    0000: 33 87 72 1D 09 2F DF FF   1A A7 D1 C0 E1 CF C5 FA  3.r../..........\r\n    0010: A4 19 54 2E                                        ..T.\r\n    ]\r\n    ]\r\n    \r\n    #2: ObjectId: 2.16.840.1.113730.1.1 Criticality=false\r\n    NetscapeCertType [\r\n       SSL client\r\n    ]\r\n\r\n    #3: ObjectId: 2.5.29.35 Criticality=false\r\n    AuthorityKeyIdentifier [\r\n    KeyIdentifier [\r\n    0000: 74 9F 43 07 CC 75 FA D3   D0 13 0F 65 36 CC 4A 9A  t.C..u.....e6.J.\r\n    0010: E0 8E 9C 52                                        ...R\r\n    ]\r\n    ]\r\n\r\n    #4: ObjectId: 2.5.29.31 Criticality=false\r\n    CRLDistributionPoints [\r\n      [DistributionPoint:\r\n         [URIName: http://test.az:7447/Test%20CA.crl]\r\n    ]]\r\n\r\n    #5: ObjectId: 2.5.29.15 Criticality=true\r\n    KeyUsage [\r\n      DigitalSignature\r\n    ]\r\n\r\nSo my certificate does contain **KeyUsage [ DigitalSignature ]**\r\n\r\nThe code snippet of the place throwing the exception looks like the following:\r\n\r\n    private final static int KU_SIGNATURE = 0;\r\n    \r\n    ...\r\n    \r\n    private void checkTLSServer(X509Certificate cert, String parameter)\r\n            throws CertificateException {\r\n        Set&lt;String&gt; exts = getCriticalExtensions(cert);\r\n\r\n        ...\r\n\r\n        } else if (KU_SERVER_SIGNATURE.contains(parameter)) {\r\n            if (checkKeyUsage(cert, KU_SIGNATURE) == false) {\r\n                throw new ValidatorException\r\n                        (&quot;KeyUsage does not allow digital signatures&quot;,\r\n                        ValidatorException.T_EE_EXTENSIONS, cert);\r\n            }\r\n        }\r\n\r\n        ...\r\n    }\r\n\r\n\r\nand **checkKeyUsage** function:\r\n\r\n\r\n    private boolean checkKeyUsage(X509Certificate cert, int bit)\r\n            throws CertificateException {\r\n        boolean[] keyUsage = cert.getKeyUsage();\r\n        if (keyUsage == null) {\r\n            return true;\r\n        }\r\n        return (keyUsage.length &gt; bit) &amp;&amp; keyUsage[bit];\r\n    }\r\n\r\nit fails in **return (keyUsage.length &gt; bit) &amp;&amp; keyUsage[bit];**\r\n\r\nThe question is why the result of above expression = false? When bit = 0 and cert.getKeyUsage() must return an array of boolean [true, false, false, false, false, false, false, false, false]","title":"KeyUsage does not allow digital signatures","body":"<p>I'm trying to send HTTPS request from my Java EE program to the host that requires certificate authentication. I have a proper keystore file, truststore with imported CA, the listing of both shows that certificates are inside.</p>\n\n<p>But I receive the following error:</p>\n\n<pre><code>javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: KeyUsage does not allow digital signatures\n    at ...\n\n...\n\nCaused by: sun.security.validator.ValidatorException: KeyUsage does not allow digital signatures\n    at sun.security.validator.EndEntityChecker.checkTLSServer(EndEntityChecker.java:270)\n    at sun.security.validator.EndEntityChecker.check(EndEntityChecker.java:141)\n    at sun.security.validator.Validator.validate(Validator.java:264)\n    at sun.security.ssl.X509TrustManagerImpl.validate(X509TrustManagerImpl.java:326)\n    at sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:231)\n    at     sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:126)\nat sun.security.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:1319)\n... 29 more\n</code></pre>\n\n<p>Viewing the certificate contents in the part of Extensions I see the following:</p>\n\n<pre><code>Extensions:\n\n#1: ObjectId: 2.5.29.14 Criticality=false\nSubjectKeyIdentifier [\nKeyIdentifier [\n0000: 33 87 72 1D 09 2F DF FF   1A A7 D1 C0 E1 CF C5 FA  3.r../..........\n0010: A4 19 54 2E                                        ..T.\n]\n]\n\n#2: ObjectId: 2.16.840.1.113730.1.1 Criticality=false\nNetscapeCertType [\n   SSL client\n]\n\n#3: ObjectId: 2.5.29.35 Criticality=false\nAuthorityKeyIdentifier [\nKeyIdentifier [\n0000: 74 9F 43 07 CC 75 FA D3   D0 13 0F 65 36 CC 4A 9A  t.C..u.....e6.J.\n0010: E0 8E 9C 52                                        ...R\n]\n]\n\n#4: ObjectId: 2.5.29.31 Criticality=false\nCRLDistributionPoints [\n  [DistributionPoint:\n     [URIName: http://test.az:7447/Test%20CA.crl]\n]]\n\n#5: ObjectId: 2.5.29.15 Criticality=true\nKeyUsage [\n  DigitalSignature\n]\n</code></pre>\n\n<p>So my certificate does contain <strong>KeyUsage [ DigitalSignature ]</strong></p>\n\n<p>The code snippet of the place throwing the exception looks like the following:</p>\n\n<pre><code>private final static int KU_SIGNATURE = 0;\n\n...\n\nprivate void checkTLSServer(X509Certificate cert, String parameter)\n        throws CertificateException {\n    Set&lt;String&gt; exts = getCriticalExtensions(cert);\n\n    ...\n\n    } else if (KU_SERVER_SIGNATURE.contains(parameter)) {\n        if (checkKeyUsage(cert, KU_SIGNATURE) == false) {\n            throw new ValidatorException\n                    (\"KeyUsage does not allow digital signatures\",\n                    ValidatorException.T_EE_EXTENSIONS, cert);\n        }\n    }\n\n    ...\n}\n</code></pre>\n\n<p>and <strong>checkKeyUsage</strong> function:</p>\n\n<pre><code>private boolean checkKeyUsage(X509Certificate cert, int bit)\n        throws CertificateException {\n    boolean[] keyUsage = cert.getKeyUsage();\n    if (keyUsage == null) {\n        return true;\n    }\n    return (keyUsage.length &gt; bit) &amp;&amp; keyUsage[bit];\n}\n</code></pre>\n\n<p>it fails in <strong>return (keyUsage.length > bit) &amp;&amp; keyUsage[bit];</strong></p>\n\n<p>The question is why the result of above expression = false? When bit = 0 and cert.getKeyUsage() must return an array of boolean [true, false, false, false, false, false, false, false, false]</p>\n"},{"tags":["java","spring-boot","hikaricp","testcontainers"],"comments":[{"owner":{"account_id":1967946,"reputation":121,"user_id":1767676,"display_name":"Karmakulov Kirill"},"score":0,"creation_date":1608523954,"post_id":59372048,"comment_id":115601225,"body_markdown":"did you find an answer eventually?","body":"did you find an answer eventually?"},{"owner":{"account_id":3994817,"reputation":262,"user_id":3292651,"accept_rate":75,"display_name":"davide"},"score":0,"creation_date":1608541497,"post_id":59372048,"comment_id":115605712,"body_markdown":"No I didn&#39;t? ☹️","body":"No I didn&#39;t? ☹️"}],"answers":[{"comments":[{"owner":{"account_id":25690087,"reputation":1360,"user_id":19451633,"display_name":"Andrei Titov"},"score":0,"creation_date":1696442466,"post_id":65952397,"comment_id":136154834,"body_markdown":"thanks a lot, Marcin, this comment saved my day! :D dziękuję bardzo :)","body":"thanks a lot, Marcin, this comment saved my day! :D dziękuję bardzo :)"}],"tags":[],"owner":{"account_id":9533663,"reputation":131,"user_id":7084481,"display_name":"Marcin Zięba"},"comment_count":1,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1611914752,"creation_date":1611914752,"answer_id":65952397,"question_id":59372048,"body_markdown":"I had the exact same problem: test passed if I run it individually, but failed when I run it together with other tests. \r\n\r\nI found that SpringBootTest is reusing Spring context between tests so there is a common Hikari Pool between tests. But in the background testcontainers killed (after the previous test) a container and created a new one (before the next test).  SpringBootTest is not aware of that change resulting in a new Postgres container so Hikari Pool is the same as in the previous test (pointing to already used and currently unavailable port)\r\n\r\nIn my case adding `@DirtiesContext` annotation to test helped.","title":"testcontainers, hikari and Failed to validate connection org.postgresql.jdbc.PgConnection","body":"<p>I had the exact same problem: test passed if I run it individually, but failed when I run it together with other tests.</p>\n<p>I found that SpringBootTest is reusing Spring context between tests so there is a common Hikari Pool between tests. But in the background testcontainers killed (after the previous test) a container and created a new one (before the next test).  SpringBootTest is not aware of that change resulting in a new Postgres container so Hikari Pool is the same as in the previous test (pointing to already used and currently unavailable port)</p>\n<p>In my case adding <code>@DirtiesContext</code> annotation to test helped.</p>\n"},{"tags":[],"owner":{"account_id":346385,"reputation":5794,"user_id":679879,"accept_rate":90,"display_name":"Mustafa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633521287,"creation_date":1633521287,"answer_id":69465246,"question_id":59372048,"body_markdown":"I had the same issue in the question and found that setting the hikari connection timeout of the integration tests helps avoid the delay.\r\n\r\n```yaml\r\nspring:\r\n  datasource:\r\n    hikari:\r\n      connection-timeout: 250\r\n```","title":"testcontainers, hikari and Failed to validate connection org.postgresql.jdbc.PgConnection","body":"<p>I had the same issue in the question and found that setting the hikari connection timeout of the integration tests helps avoid the delay.</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  datasource:\n    hikari:\n      connection-timeout: 250\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1637499586,"post_id":70054166,"comment_id":123837114,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/70054166/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":23408289,"reputation":1,"user_id":17470354,"display_name":"Bob_Tang"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1637494692,"creation_date":1637494692,"answer_id":70054166,"question_id":59372048,"body_markdown":"Try other pool\r\n\r\n1: Tomcat-jdbc(https://github.com/apache/tomcat/tree/main/modules/jdbc-pool)\r\n\r\n2:  Druid(https://github.com/alibaba/druid)\r\n\r\n3:  BeeCP(https://github.com/Chris2018998/BeeCP), which faster than HikariCP","title":"testcontainers, hikari and Failed to validate connection org.postgresql.jdbc.PgConnection","body":"<p>Try other pool</p>\n<p>1: Tomcat-jdbc(<a href=\"https://github.com/apache/tomcat/tree/main/modules/jdbc-pool\" rel=\"nofollow noreferrer\">https://github.com/apache/tomcat/tree/main/modules/jdbc-pool</a>)</p>\n<p>2:  Druid(<a href=\"https://github.com/alibaba/druid\" rel=\"nofollow noreferrer\">https://github.com/alibaba/druid</a>)</p>\n<p>3:  BeeCP(<a href=\"https://github.com/Chris2018998/BeeCP\" rel=\"nofollow noreferrer\">https://github.com/Chris2018998/BeeCP</a>), which faster than HikariCP</p>\n"}],"owner":{"account_id":3994817,"reputation":262,"user_id":3292651,"accept_rate":75,"display_name":"davide"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4114,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"answer_count":3,"score":17,"last_activity_date":1668465515,"creation_date":1576577933,"question_id":59372048,"body_markdown":"I have a spring boot app. I&#39;m testing it with testcontainers to ensure that the DB (postgres) and the Repository implementation do what they are supposed to do.\r\n\r\nI initialise the container with the following and works pretty well.\r\n\r\n```java\r\n    @Container\r\n    @SuppressWarnings(&quot;rawtypes&quot;)\r\n    private static final PostgreSQLContainer POSTGRE_SQL = new PostgreSQLContainer(&quot;postgres:9.6&quot;)\r\n        .withDatabaseName(&quot;xxx&quot;)\r\n        .withUsername(&quot;xxx&quot;)\r\n        .withPassword(&quot;xxx&quot;);\r\n\r\n    static class Initialiser implements ApplicationContextInitializer&lt;ConfigurableApplicationContext&gt; {\r\n        @Override\r\n        public void initialize(ConfigurableApplicationContext applicationContext) {\r\n            TestPropertyValues.of(\r\n                &quot;spring.datasource.url=&quot; + POSTGRE_SQL.getJdbcUrl(),\r\n                &quot;spring.datasource.username=&quot; + POSTGRE_SQL.getUsername(),\r\n                &quot;spring.jpa.hibernate.ddl-auto=create-drop&quot;\r\n            ).applyTo(applicationContext.getEnvironment());\r\n        }\r\n    }\r\n```\r\n\r\nThe problem is that while the tests are successful, at the end of the class, when the container gets shutdown I get the following error messages from hikari\r\n\r\n```\r\n[31mWARN [0;39m [36mcom.zaxxer.hikari.pool.PoolBase.isConnectionAlive[0;39m - HikariPool-1 - Failed to validate connection org.postgresql.jdbc.PgConnection@4d728138 (This connection has been closed.). Possibly consider using a shorter maxLifetime value.\r\n[31mWARN [0;39m [36mcom.zaxxer.hikari.pool.PoolBase.isConnectionAlive[0;39m - HikariPool-1 - Failed to validate connection org.postgresql.jdbc.PgConnection@43070a2e (This connection has been closed.). Possibly consider using a shorter maxLifetime value.\r\n[31mWARN [0;39m [36mcom.zaxxer.hikari.pool.PoolBase.isConnectionAlive[0;39m - HikariPool-1 - Failed to validate connection org.postgresql.jdbc.PgConnection@1aa53837 (This connection has been closed.). Possibly consider using a shorter maxLifetime value.\r\n[31mWARN [0;39m [36mcom.zaxxer.hikari.pool.PoolBase.isConnectionAlive[0;39m - HikariPool-1 - Failed to validate connection org.postgresql.jdbc.PgConnection@3d7cffa2 (This connection has been closed.). Possibly consider using a shorter maxLifetime value.\r\n[31mWARN [0;39m [36mcom.zaxxer.hikari.pool.PoolBase.isConnectionAlive[0;39m - HikariPool-1 - Failed to validate connection org.postgresql.jdbc.PgConnection@634e7d8e (This connection has been closed.). Possibly consider using a shorter maxLifetime value.\r\n[31mWARN [0;39m [36mcom.zaxxer.hikari.pool.PoolBase.isConnectionAlive[0;39m - HikariPool-1 - Failed to validate connection org.postgresql.jdbc.PgConnection@18634db3 (This connection has been closed.). Possibly consider using a shorter maxLifetime value.\r\n[31mWARN [0;39m [36mcom.zaxxer.hikari.pool.PoolBase.isConnectionAlive[0;39m - HikariPool-1 - Failed to validate connection org.postgresql.jdbc.PgConnection@2bb4ba08 (This connection has been closed.). Possibly consider using a shorter maxLifetime value.\r\n[31mWARN [0;39m [36mcom.zaxxer.hikari.pool.PoolBase.isConnectionAlive[0;39m - HikariPool-1 - Failed to validate connection org.postgresql.jdbc.PgConnection@71efd133 (This connection has been closed.). Possibly consider using a shorter maxLifetime value.\r\n[31mWARN [0;39m [36mcom.zaxxer.hikari.pool.PoolBase.isConnectionAlive[0;39m - HikariPool-1 - Failed to validate connection org.postgresql.jdbc.PgConnection@61dd608d (This connection has been closed.). Possibly consider using a shorter maxLifetime value.\r\n[31mWARN [0;39m [36mcom.zaxxer.hikari.pool.PoolBase.isConnectionAlive[0;39m - HikariPool-1 - Failed to validate connection org.postgresql.jdbc.PgConnection@6351b7d0 (This connection has been closed.). Possibly consider using a shorter maxLifetime value.\r\n```\r\n\r\nThey are not making my test failing and i suspect it happens because the container, and therefore the db, is no longer there and hikari still tries to keep the connection pool alive. so the test to complete takes several seconds while hikari officially complain of failing connection.\r\n\r\nI tried playing with, settings hikari properties in the `Initialiser` like `&quot;spring.datasource.hikari.maxLifetime=1&quot;` and `&quot;spring.datasource.hikari.idleTimeout=1&quot;` without any luck.\r\n\r\nAny suggestions?\r\n\r\nThank you","title":"testcontainers, hikari and Failed to validate connection org.postgresql.jdbc.PgConnection","body":"<p>I have a spring boot app. I'm testing it with testcontainers to ensure that the DB (postgres) and the Repository implementation do what they are supposed to do.</p>\n\n<p>I initialise the container with the following and works pretty well.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>    @Container\n    @SuppressWarnings(\"rawtypes\")\n    private static final PostgreSQLContainer POSTGRE_SQL = new PostgreSQLContainer(\"postgres:9.6\")\n        .withDatabaseName(\"xxx\")\n        .withUsername(\"xxx\")\n        .withPassword(\"xxx\");\n\n    static class Initialiser implements ApplicationContextInitializer&lt;ConfigurableApplicationContext&gt; {\n        @Override\n        public void initialize(ConfigurableApplicationContext applicationContext) {\n            TestPropertyValues.of(\n                \"spring.datasource.url=\" + POSTGRE_SQL.getJdbcUrl(),\n                \"spring.datasource.username=\" + POSTGRE_SQL.getUsername(),\n                \"spring.jpa.hibernate.ddl-auto=create-drop\"\n            ).applyTo(applicationContext.getEnvironment());\n        }\n    }\n</code></pre>\n\n<p>The problem is that while the tests are successful, at the end of the class, when the container gets shutdown I get the following error messages from hikari</p>\n\n<pre><code>[31mWARN [0;39m [36mcom.zaxxer.hikari.pool.PoolBase.isConnectionAlive[0;39m - HikariPool-1 - Failed to validate connection org.postgresql.jdbc.PgConnection@4d728138 (This connection has been closed.). Possibly consider using a shorter maxLifetime value.\n[31mWARN [0;39m [36mcom.zaxxer.hikari.pool.PoolBase.isConnectionAlive[0;39m - HikariPool-1 - Failed to validate connection org.postgresql.jdbc.PgConnection@43070a2e (This connection has been closed.). Possibly consider using a shorter maxLifetime value.\n[31mWARN [0;39m [36mcom.zaxxer.hikari.pool.PoolBase.isConnectionAlive[0;39m - HikariPool-1 - Failed to validate connection org.postgresql.jdbc.PgConnection@1aa53837 (This connection has been closed.). Possibly consider using a shorter maxLifetime value.\n[31mWARN [0;39m [36mcom.zaxxer.hikari.pool.PoolBase.isConnectionAlive[0;39m - HikariPool-1 - Failed to validate connection org.postgresql.jdbc.PgConnection@3d7cffa2 (This connection has been closed.). Possibly consider using a shorter maxLifetime value.\n[31mWARN [0;39m [36mcom.zaxxer.hikari.pool.PoolBase.isConnectionAlive[0;39m - HikariPool-1 - Failed to validate connection org.postgresql.jdbc.PgConnection@634e7d8e (This connection has been closed.). Possibly consider using a shorter maxLifetime value.\n[31mWARN [0;39m [36mcom.zaxxer.hikari.pool.PoolBase.isConnectionAlive[0;39m - HikariPool-1 - Failed to validate connection org.postgresql.jdbc.PgConnection@18634db3 (This connection has been closed.). Possibly consider using a shorter maxLifetime value.\n[31mWARN [0;39m [36mcom.zaxxer.hikari.pool.PoolBase.isConnectionAlive[0;39m - HikariPool-1 - Failed to validate connection org.postgresql.jdbc.PgConnection@2bb4ba08 (This connection has been closed.). Possibly consider using a shorter maxLifetime value.\n[31mWARN [0;39m [36mcom.zaxxer.hikari.pool.PoolBase.isConnectionAlive[0;39m - HikariPool-1 - Failed to validate connection org.postgresql.jdbc.PgConnection@71efd133 (This connection has been closed.). Possibly consider using a shorter maxLifetime value.\n[31mWARN [0;39m [36mcom.zaxxer.hikari.pool.PoolBase.isConnectionAlive[0;39m - HikariPool-1 - Failed to validate connection org.postgresql.jdbc.PgConnection@61dd608d (This connection has been closed.). Possibly consider using a shorter maxLifetime value.\n[31mWARN [0;39m [36mcom.zaxxer.hikari.pool.PoolBase.isConnectionAlive[0;39m - HikariPool-1 - Failed to validate connection org.postgresql.jdbc.PgConnection@6351b7d0 (This connection has been closed.). Possibly consider using a shorter maxLifetime value.\n</code></pre>\n\n<p>They are not making my test failing and i suspect it happens because the container, and therefore the db, is no longer there and hikari still tries to keep the connection pool alive. so the test to complete takes several seconds while hikari officially complain of failing connection.</p>\n\n<p>I tried playing with, settings hikari properties in the <code>Initialiser</code> like <code>\"spring.datasource.hikari.maxLifetime=1\"</code> and <code>\"spring.datasource.hikari.idleTimeout=1\"</code> without any luck.</p>\n\n<p>Any suggestions?</p>\n\n<p>Thank you</p>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1668464939,"post_id":74438524,"comment_id":131407206,"body_markdown":"`A` is reused for each iteration, so each iteration overwrites the previous values in `A`. `setM` does not copy `A`.","body":"<code>A</code> is reused for each iteration, so each iteration overwrites the previous values in <code>A</code>. <code>setM</code> does not copy <code>A</code>."}],"answers":[{"tags":[],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668465347,"creation_date":1668465347,"answer_id":74438635,"question_id":74438524,"body_markdown":"Here:\r\n\r\n    int[][] A=panel.CreaMatriz();\r\n\r\n\r\n`A` is a reference to an array of array (a matrix). \r\n\r\nEvery time you add it to `setM()` you add the **same** reference. So,  you might be thinking you&#39;re adding different arrays, but you&#39;re actually adding the same array and modifying the same array.\r\n\r\nYou need to create a new array each time, probably something like this:\r\n\r\n    A = new int[x][y]; // or get it from panel.CreaMatriz();\r\n    Matrices m=new Matrices();\r\n    m.setM(A);\r\n    matrices.add(m);\r\n\r\nNote: By the way, the code convention is to name your variables and method in lowercase, so the following is preferred. \r\n\r\n    private int m[][];\r\n\r\n    ....\r\n\r\n    int[][] a = panel.creaMatriz();","title":"Java add objects to ArrayList of objects in a for loop","body":"<p>Here:</p>\n<pre><code>int[][] A=panel.CreaMatriz();\n</code></pre>\n<p><code>A</code> is a reference to an array of array (a matrix).</p>\n<p>Every time you add it to <code>setM()</code> you add the <strong>same</strong> reference. So,  you might be thinking you're adding different arrays, but you're actually adding the same array and modifying the same array.</p>\n<p>You need to create a new array each time, probably something like this:</p>\n<pre><code>A = new int[x][y]; // or get it from panel.CreaMatriz();\nMatrices m=new Matrices();\nm.setM(A);\nmatrices.add(m);\n</code></pre>\n<p>Note: By the way, the code convention is to name your variables and method in lowercase, so the following is preferred.</p>\n<pre><code>private int m[][];\n\n....\n\nint[][] a = panel.creaMatriz();\n</code></pre>\n"}],"owner":{"account_id":26895594,"reputation":1,"user_id":20473569,"display_name":"FenixDynamoYT"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668465347,"creation_date":1668464487,"question_id":74438524,"body_markdown":"What I want to do is store arrays in an ArrayList of Objects of type Array int A\\[\\]\\[\\]\r\n\r\nMy class Matrices:\r\n\r\n```\r\npublic class Matrices {\r\n    private int M[][];\r\n    \r\n    public int[][] getM() {\r\n        return M;\r\n    }\r\n\r\n    public void setM(int[][] M) {\r\n        this.M = M;\r\n    }\r\n}\r\n```\r\n\r\nMy main code where I create an ArrayList of the Matrices class, I load an array that was already loaded in int\\[\\]\\[\\]A, in each iteration k I create an object m of type Matrices and save the changes in each iteration k in an ArrayList of Matrices in Matrices.add(m), later I show what I want to obtain and what the code returns.\r\n\r\n```\r\nArrayList&lt;Matrices&gt; matrices=new ArrayList&lt;&gt;();\r\n//Crea matriz\r\nint[][] A=panel.CreaMatriz();\r\n//Fin Crea matriz\r\n//Inicio Floyd \r\nfor (int k = 0; k &lt; nodos.size(); k++) {\r\n    //agrega la matriz al ArrayList\r\n    Matrices m=new Matrices();\r\n    m.setM(A);\r\n    matrices.add(m);//ERROR ONLY THE LAST OF ITERATION K IS SAVED\r\n    //area.setText(panel.EscribeMatrices(matrices.get(k).getM()));\r\n    //Fin agrega la matriz al ArrayList\r\n    for (int i = 0; i &lt; nodos.size(); i++) {\r\n        for (int j = 0; j &lt; nodos.size(); j++) {\r\n            if (A[i][k]+A[k][j]&lt;A[i][j]){\r\n                A[i][j]=A[i][k]+A[k][j];   \r\n            }\r\n        }\r\n     }\r\n}\r\n```\r\n\r\nI what I expect is.\r\n\r\n```\r\n 0    3    1     ∞  \r\n  ∞   0     ∞    ∞  \r\n  ∞   4    0    1   \r\n 3     ∞    ∞   0   \r\n\r\n 0    3    1     ∞  \r\n  ∞   0     ∞    ∞  \r\n  ∞   4    0    1   \r\n 3    6    4    0   \r\n\r\n 0    3    1     ∞  \r\n  ∞   0     ∞    ∞  \r\n  ∞   4    0    1   \r\n 3    6    4    0   \r\n\r\n 0    3    1    2   \r\n  ∞   0     ∞    ∞  \r\n  ∞   4    0    1   \r\n 3    6    4    0   \r\n```\r\n\r\nThe code only prints 4 times the last matrix created at the end of iteration k.\r\n\r\n```\r\n 0    3    1    2   \r\n  ∞   0     ∞    ∞  \r\n  ∞   4    0    1   \r\n 3    6    4    0   \r\n\r\n 0    3    1    2   \r\n  ∞   0     ∞    ∞  \r\n  ∞   4    0    1   \r\n 3    6    4    0   \r\n\r\n 0    3    1    2   \r\n  ∞   0     ∞    ∞  \r\n  ∞   4    0    1   \r\n 3    6    4    0   \r\n\r\n 0    3    1    2   \r\n  ∞   0     ∞    ∞  \r\n  ∞   4    0    1   \r\n 3    6    4    0   \r\n```","title":"Java add objects to ArrayList of objects in a for loop","body":"<p>What I want to do is store arrays in an ArrayList of Objects of type Array int A[][]</p>\n<p>My class Matrices:</p>\n<pre><code>public class Matrices {\n    private int M[][];\n    \n    public int[][] getM() {\n        return M;\n    }\n\n    public void setM(int[][] M) {\n        this.M = M;\n    }\n}\n</code></pre>\n<p>My main code where I create an ArrayList of the Matrices class, I load an array that was already loaded in int[][]A, in each iteration k I create an object m of type Matrices and save the changes in each iteration k in an ArrayList of Matrices in Matrices.add(m), later I show what I want to obtain and what the code returns.</p>\n<pre><code>ArrayList&lt;Matrices&gt; matrices=new ArrayList&lt;&gt;();\n//Crea matriz\nint[][] A=panel.CreaMatriz();\n//Fin Crea matriz\n//Inicio Floyd \nfor (int k = 0; k &lt; nodos.size(); k++) {\n    //agrega la matriz al ArrayList\n    Matrices m=new Matrices();\n    m.setM(A);\n    matrices.add(m);//ERROR ONLY THE LAST OF ITERATION K IS SAVED\n    //area.setText(panel.EscribeMatrices(matrices.get(k).getM()));\n    //Fin agrega la matriz al ArrayList\n    for (int i = 0; i &lt; nodos.size(); i++) {\n        for (int j = 0; j &lt; nodos.size(); j++) {\n            if (A[i][k]+A[k][j]&lt;A[i][j]){\n                A[i][j]=A[i][k]+A[k][j];   \n            }\n        }\n     }\n}\n</code></pre>\n<p>I what I expect is.</p>\n<pre><code> 0    3    1     ∞  \n  ∞   0     ∞    ∞  \n  ∞   4    0    1   \n 3     ∞    ∞   0   \n\n 0    3    1     ∞  \n  ∞   0     ∞    ∞  \n  ∞   4    0    1   \n 3    6    4    0   \n\n 0    3    1     ∞  \n  ∞   0     ∞    ∞  \n  ∞   4    0    1   \n 3    6    4    0   \n\n 0    3    1    2   \n  ∞   0     ∞    ∞  \n  ∞   4    0    1   \n 3    6    4    0   \n</code></pre>\n<p>The code only prints 4 times the last matrix created at the end of iteration k.</p>\n<pre><code> 0    3    1    2   \n  ∞   0     ∞    ∞  \n  ∞   4    0    1   \n 3    6    4    0   \n\n 0    3    1    2   \n  ∞   0     ∞    ∞  \n  ∞   4    0    1   \n 3    6    4    0   \n\n 0    3    1    2   \n  ∞   0     ∞    ∞  \n  ∞   4    0    1   \n 3    6    4    0   \n\n 0    3    1    2   \n  ∞   0     ∞    ∞  \n  ∞   4    0    1   \n 3    6    4    0   \n</code></pre>\n"},{"tags":["java","gradle","testing","dependencies"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1668529591,"post_id":74438576,"comment_id":131425304,"body_markdown":"Why do you want to do this? To me this sounds like an [XY Problem](https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem)","body":"Why do you want to do this? To me this sounds like an <a href=\"https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">XY Problem</a>"},{"owner":{"account_id":2067951,"reputation":223,"user_id":1843097,"display_name":"Stephan Markwalder"},"score":2,"creation_date":1670853491,"post_id":74438576,"comment_id":131962503,"body_markdown":"A possible scenario: I would like to use `slf4j-simple` at runtime in my command line application, but a custom implementation of an SFL4J service provider (or logger binder in SLF4J 1.7.x) at test runtime. Since SLF4J does not like more than one service provider (or logger binder) to be present in the classpath, `slf4j-simple` must be excluded from the test runtime classpath.\n\nI achieved this with an explicit exclude in my `build.gradle.kts` file:\n\n`configurations.testRuntimeClasspath { exclude(&quot;org.slf4j&quot;, &quot;slf4j-simple&quot;) }`","body":"A possible scenario: I would like to use <code>slf4j-simple</code> at runtime in my command line application, but a custom implementation of an SFL4J service provider (or logger binder in SLF4J 1.7.x) at test runtime. Since SLF4J does not like more than one service provider (or logger binder) to be present in the classpath, <code>slf4j-simple</code> must be excluded from the test runtime classpath.  I achieved this with an explicit exclude in my <code>build.gradle.kts</code> file:  <code>configurations.testRuntimeClasspath { exclude(&quot;org.slf4j&quot;, &quot;slf4j-simple&quot;) }</code>"}],"owner":{"account_id":7903574,"reputation":117,"user_id":5969852,"display_name":"Nikola"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":343,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1668464856,"creation_date":1668464856,"question_id":74438576,"body_markdown":"Is there a way to specify `runtimeOnly` dependency which is not available during the test runtime?","title":"Gradle dependency runtimeOnly but not in test","body":"<p>Is there a way to specify <code>runtimeOnly</code> dependency which is not available during the test runtime?</p>\n"},{"tags":["java","selenium","maven","intellij-idea","testng"],"comments":[{"owner":{"account_id":1547313,"reputation":82164,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1668464667,"post_id":74438515,"comment_id":131407145,"body_markdown":"I suggest running your selenium code non-headless so that you can see what is happening in the browser.","body":"I suggest running your selenium code non-headless so that you can see what is happening in the browser."},{"owner":{"account_id":26895007,"reputation":1,"user_id":20473085,"display_name":"edward azocar"},"score":0,"creation_date":1668522756,"post_id":74438515,"comment_id":131422309,"body_markdown":"I already run the case and it&#39;s work fine","body":"I already run the case and it&#39;s work fine"},{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":0,"creation_date":1668524783,"post_id":74438515,"comment_id":131423205,"body_markdown":"If the button is clickable immediately remove the second wait.","body":"If the button is clickable immediately remove the second wait."}],"owner":{"account_id":26895007,"reputation":1,"user_id":20473085,"display_name":"edward azocar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668464630,"creation_date":1668464442,"question_id":74438515,"body_markdown":"method to click on reCaptcha:\r\n```\r\nWebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(25));\r\nwait.until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(By.xpath(&quot;//iframe[starts-with(@name, &#39;a-&#39;) and starts-with(@src, &#39;https://www.google.com/recaptcha&#39;)]&quot;)));\r\nwait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//div[@class=&#39;recaptcha-checkbox-border&#39;]&quot;))).click();\r\n```\r\n\r\nthis is de error in the console:\r\n```\r\nExpected condition failed: waiting for all conditions to be valid: presence of element located by: By.id: //*[@id=&quot;b-login-submit&quot;] &amp;&amp; visibility of element located by By.id: //*[@id=&quot;b-login-submit&quot;] (tried for 30 second(s) with 500 milliseconds interval)\r\n```\r\n\r\nto click on the login button","title":"I have this method to click on the recaptcha but then I can&#39;t click the login button","body":"<p>method to click on reCaptcha:</p>\n<pre><code>WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(25));\nwait.until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(By.xpath(&quot;//iframe[starts-with(@name, 'a-') and starts-with(@src, 'https://www.google.com/recaptcha')]&quot;)));\nwait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//div[@class='recaptcha-checkbox-border']&quot;))).click();\n</code></pre>\n<p>this is de error in the console:</p>\n<pre><code>Expected condition failed: waiting for all conditions to be valid: presence of element located by: By.id: //*[@id=&quot;b-login-submit&quot;] &amp;&amp; visibility of element located by By.id: //*[@id=&quot;b-login-submit&quot;] (tried for 30 second(s) with 500 milliseconds interval)\n</code></pre>\n<p>to click on the login button</p>\n"},{"tags":["java","kotlin","enums","sealed-class"],"comments":[{"owner":{"account_id":5268074,"reputation":17816,"user_id":4207306,"display_name":"Eklavya"},"score":2,"creation_date":1603548696,"post_id":64513791,"comment_id":114075326,"body_markdown":"From doc _Sealed classes are, in a sense, an extension of enum classes: the set of values for an enum type is also restricted, but **each enum constant exists only as a single instance, whereas a subclass of a sealed class can have multiple instances which can contain state**_ that make sense to you?","body":"From doc <i>Sealed classes are, in a sense, an extension of enum classes: the set of values for an enum type is also restricted, but <b>each enum constant exists only as a single instance, whereas a subclass of a sealed class can have multiple instances which can contain state</b></i> that make sense to you?"},{"owner":{"account_id":7581977,"reputation":1361,"user_id":5752410,"display_name":"Eitanos30"},"score":0,"creation_date":1603550344,"post_id":64513791,"comment_id":114075810,"body_markdown":"@Eklavya, I read the link you have attached. I can&#39;t see the similarity. Can you please help me to understand ?","body":"@Eklavya, I read the link you have attached. I can&#39;t see the similarity. Can you please help me to understand ?"},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1603563405,"post_id":64513791,"comment_id":114079545,"body_markdown":"A sealed class in which every subtype is an `object` -- a singleton -- is exactly equivalent to an enum.","body":"A sealed class in which every subtype is an <code>object</code> -- a singleton -- is exactly equivalent to an enum."},{"owner":{"account_id":7581977,"reputation":1361,"user_id":5752410,"display_name":"Eitanos30"},"score":0,"creation_date":1603563953,"post_id":64513791,"comment_id":114079700,"body_markdown":"@LouisWasserman, but we can create as many instance as we wish of the subtype. This is a quote from a book I&#39;m reading: *And unlike an enum class, you can create multiple instances of each\ntype.*","body":"@LouisWasserman, but we can create as many instance as we wish of the subtype. This is a quote from a book I&#39;m reading: <i>And unlike an enum class, you can create multiple instances of each type.</i>"},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1603568058,"post_id":64513791,"comment_id":114080836,"body_markdown":"@Eitanos30: that&#39;s why I explicitly said an `object`, which is a class that can only have exactly one instance.","body":"@Eitanos30: that&#39;s why I explicitly said an <code>object</code>, which is a class that can only have exactly one instance."},{"owner":{"account_id":7581977,"reputation":1361,"user_id":5752410,"display_name":"Eitanos30"},"score":0,"creation_date":1603568768,"post_id":64513791,"comment_id":114081019,"body_markdown":"@LouisWasserman, 1. Is it possible to make subtype to be an object?\n2.Subtype doesn&#39;t have values but Enum does have\n3. Subtype can add properties and methods","body":"@LouisWasserman, 1. Is it possible to make subtype to be an object? 2.Subtype doesn&#39;t have values but Enum does have 3. Subtype can add properties and methods"},{"owner":{"account_id":16257521,"reputation":1281,"user_id":11739833,"display_name":"Mohsen"},"score":0,"creation_date":1603570332,"post_id":64513791,"comment_id":114081408,"body_markdown":"@Eitanos30 yes, subtypes can be objects.","body":"@Eitanos30 yes, subtypes can be objects."},{"owner":{"account_id":7581977,"reputation":1361,"user_id":5752410,"display_name":"Eitanos30"},"score":1,"creation_date":1603570592,"post_id":64513791,"comment_id":114081457,"body_markdown":"@mohsen, it is so hard language. I want to cry sometimes.. I&#39;m missing Java","body":"@mohsen, it is so hard language. I want to cry sometimes.. I&#39;m missing Java"},{"owner":{"account_id":16257521,"reputation":1281,"user_id":11739833,"display_name":"Mohsen"},"score":0,"creation_date":1603571068,"post_id":64513791,"comment_id":114081562,"body_markdown":"@Eitanos30 no its really not, it has lots of features that makes it a little hard sometimes :D","body":"@Eitanos30 no its really not, it has lots of features that makes it a little hard sometimes :D"}],"answers":[{"comments":[{"owner":{"account_id":7581977,"reputation":1361,"user_id":5752410,"display_name":"Eitanos30"},"score":0,"creation_date":1603570284,"post_id":64517039,"comment_id":114081402,"body_markdown":"@moshen, Thanks for the detailed explanation! But:\n1. Where do you see the MessageFailute meta data?\n2. about the *exhaustive*, if the &quot;cases&quot; (didn&#39;t find better name for the values), let&#39;s say, doing only println(&quot;Something), so which object will run the exhaustive method?","body":"@moshen, Thanks for the detailed explanation! But: 1. Where do you see the MessageFailute meta data? 2. about the <i>exhaustive</i>, if the &quot;cases&quot; (didn&#39;t find better name for the values), let&#39;s say, doing only println(&quot;Something), so which object will run the exhaustive method?"},{"owner":{"account_id":16257521,"reputation":1281,"user_id":11739833,"display_name":"Mohsen"},"score":0,"creation_date":1603570940,"post_id":64517039,"comment_id":114081532,"body_markdown":"1. look at the java decompiled code, above the `SealedMessageType` class definition you can see the metadata\n2. the `exhaustive` method should be used on the `when` statement as you can see in the example. it&#39;s because the gives the error when you use `when` keyword as an expression, if you use it as an statement like we are using know, it doesn&#39;t give any errors. this trick makes the `when` keyword return something which makes it an expression for more info refer to https://kotlinlang.org/docs/reference/control-flow.html","body":"1. look at the java decompiled code, above the <code>SealedMessageType</code> class definition you can see the metadata 2. the <code>exhaustive</code> method should be used on the <code>when</code> statement as you can see in the example. it&#39;s because the gives the error when you use <code>when</code> keyword as an expression, if you use it as an statement like we are using know, it doesn&#39;t give any errors. this trick makes the <code>when</code> keyword return something which makes it an expression for more info refer to <a href=\"https://kotlinlang.org/docs/reference/control-flow.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/control-flow.html</a>"},{"owner":{"account_id":7581977,"reputation":1361,"user_id":5752410,"display_name":"Eitanos30"},"score":1,"creation_date":1603571986,"post_id":64517039,"comment_id":114081758,"body_markdown":"i tried so hard to understand what you have written in comment by didn&#39;t success. Maybe it is because i can&#39;t understand the difference between expression and statement no matter what i do. Thanks anyway. I&#39;m approving you answer","body":"i tried so hard to understand what you have written in comment by didn&#39;t success. Maybe it is because i can&#39;t understand the difference between expression and statement no matter what i do. Thanks anyway. I&#39;m approving you answer"},{"owner":{"account_id":16257521,"reputation":1281,"user_id":11739833,"display_name":"Mohsen"},"score":1,"creation_date":1603572394,"post_id":64517039,"comment_id":114081851,"body_markdown":"an expression returns some value, but a statement doesn&#39;t. for example in java `if` is a statement but in kotlin, it could be used as either a statement or an expression. it can return some value. ******************           \n\n`val max = if (a &gt; b) a else b` you can see that `if` is used as an expression here because it returns a value.\n the same happens for `when`","body":"an expression returns some value, but a statement doesn&#39;t. for example in java <code>if</code> is a statement but in kotlin, it could be used as either a statement or an expression. it can return some value. ******************             <code>val max = if (a &gt; b) a else b</code> you can see that <code>if</code> is used as an expression here because it returns a value.  the same happens for <code>when</code>"},{"owner":{"account_id":7581977,"reputation":1361,"user_id":5752410,"display_name":"Eitanos30"},"score":0,"creation_date":1603572524,"post_id":64517039,"comment_id":114081881,"body_markdown":"@moshen, ok i understand thanks. But lets say all the values (cases) in when, all they do is : println(something). Which object will be returned, so we can add the *.exhaustive(). you need any object but the only things is println(something). who will &quot;run&quot; the exhaustive method?","body":"@moshen, ok i understand thanks. But lets say all the values (cases) in when, all they do is : println(something). Which object will be returned, so we can add the *.exhaustive(). you need any object but the only things is println(something). who will &quot;run&quot; the exhaustive method?"},{"owner":{"account_id":16257521,"reputation":1281,"user_id":11739833,"display_name":"Mohsen"},"score":0,"creation_date":1603573777,"post_id":64517039,"comment_id":114082157,"body_markdown":"in that case exhaustive method runs on the `Unit` object. because a `println()` returns a `Unit`(unit is like void in java, but it&#39;s an actual object here)","body":"in that case exhaustive method runs on the <code>Unit</code> object. because a <code>println()</code> returns a <code>Unit</code>(unit is like void in java, but it&#39;s an actual object here)"},{"owner":{"account_id":7581977,"reputation":1361,"user_id":5752410,"display_name":"Eitanos30"},"score":0,"creation_date":1603573851,"post_id":64517039,"comment_id":114082181,"body_markdown":"@moshen,thanks i also checked it :) thanks a lot!!!!","body":"@moshen,thanks i also checked it :) thanks a lot!!!!"},{"owner":{"account_id":7581977,"reputation":1361,"user_id":5752410,"display_name":"Eitanos30"},"score":0,"creation_date":1603575329,"post_id":64517039,"comment_id":114082499,"body_markdown":"@moshen, can you please elaborate your answer with the explanation  in your answer what do you mean when saying: *here when you use enums you can&#39;t retrieve the data of your result from enums, and you need to get the message or error with some other variable.*","body":"@moshen, can you please elaborate your answer with the explanation  in your answer what do you mean when saying: <i>here when you use enums you can&#39;t retrieve the data of your result from enums, and you need to get the message or error with some other variable.</i>"}],"tags":[],"owner":{"account_id":16257521,"reputation":1281,"user_id":11739833,"display_name":"Mohsen"},"comment_count":8,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1603574176,"creation_date":1603566347,"answer_id":64517039,"question_id":64513791,"body_markdown":"I think what the documentation means by extension, is not actually extending enums, but a tool like enums with more power as it can hold state. lets take a look at your example with enums.\r\n\r\n```\r\nsealed class SealedMessageType\r\nclass MessageSuccess (val msg: String) : SealedMessageType()\r\nclass MessageFailure (val e: Exeception) : SealedMessageType()\r\n\r\nenum class EnumMessageType {\r\n    Success,\r\n    Failure\r\n}\r\n```\r\n\r\nand now if you use enums you have: \r\n```\r\nval enumMessageType: EnumMessageType = callNetwork()\r\n\r\n    when(enumMessageType) {\r\n        EnumMessageType.Success -&gt; { TODO() }\r\n        EnumMessageType.Failure -&gt; { TODO() }\r\n    }\r\n```\r\nhere when you use enums you can&#39;t retrieve the data of your result from enums, and you need to get the message or error with some other variable. the only thing you can get is the type of the result without its state. but with sealed classes:\r\n```\r\nval sealedMessageType: SealedMessageType = callNetwork()\r\n\r\n    when(sealedMessageType) {\r\n        is MessageSuccess -&gt; { println(sealedMessageType.msg) }\r\n        is MessageFailure -&gt; { throw sealedMessageType.e }\r\n    }\r\n```\r\nthe IDE can smart cast your result and you can get the state of your result(if success the message, if failure the exception). this is what the doc means by extension.     \r\n\r\nbut overall you are right, sealed class is about inheritance. in fact, a sealed class is nothing but an abstract class that has a private constructor and can not be instantiated. let&#39;s look at the decopiled java code: \r\n```\r\n@Metadata(\r\n   mv = {1, 4, 0},\r\n   bv = {1, 0, 3},\r\n   k = 1,\r\n   d1 = {&quot;\\u0000\\u0014\\n\\u0002\\u0018\\u0002\\n\\u0002\\u0010\\u0000\\n\\u0000\\n\\u0002\\u0018\\u0002\\n\\u0002\\u0018\\u0002\\n\\u0000\\b6\\u0018\\u00002\\u00020\\u0001B\\u0007\\b\\u0002&#162;\\u0006\\u0002\\u0010\\u0002\\u0082\\u0001\\u0002\\u0003\\u0004&#168;\\u0006\\u0005&quot;},\r\n   d2 = {&quot;Lcom/example/customview/SealedMessageType;&quot;, &quot;&quot;, &quot;()V&quot;, &quot;Lcom/example/customview/MessageSuccess;&quot;, &quot;Lcom/example/customview/MessageFailure;&quot;, &quot;app&quot;}\r\n)\r\npublic abstract class SealedMessageType {\r\n   private SealedMessageType() {\r\n   }\r\n\r\n   // $FF: synthetic method\r\n   public SealedMessageType(DefaultConstructorMarker $constructor_marker) {\r\n      this();\r\n   }\r\n}\r\n```\r\n```\r\n@Metadata(\r\n   mv = {1, 4, 0},\r\n   bv = {1, 0, 3},\r\n   k = 1,\r\n   d1 = {&quot;\\u0000\\u0012\\n\\u0002\\u0018\\u0002\\n\\u0002\\u0018\\u0002\\n\\u0000\\n\\u0002\\u0010\\u000e\\n\\u0002\\b\\u0004\\u0018\\u00002\\u00020\\u0001B\\r\\u0012\\u0006\\u0010\\u0002\\u001a\\u00020\\u0003&#162;\\u0006\\u0002\\u0010\\u0004R\\u0011\\u0010\\u0002\\u001a\\u00020\\u0003&#162;\\u0006\\b\\n\\u0000\\u001a\\u0004\\b\\u0005\\u0010\\u0006&#168;\\u0006\\u0007&quot;},\r\n   d2 = {&quot;Lcom/example/customview/MessageSuccess;&quot;, &quot;Lcom/example/customview/SealedMessageType;&quot;, &quot;msg&quot;, &quot;&quot;, &quot;(Ljava/lang/String;)V&quot;, &quot;getMsg&quot;, &quot;()Ljava/lang/String;&quot;, &quot;app&quot;}\r\n)\r\npublic final class MessageSuccess extends SealedMessageType {\r\n   @NotNull\r\n   private final String msg;\r\n\r\n   @NotNull\r\n   public final String getMsg() {\r\n      return this.msg;\r\n   }\r\n\r\n   public MessageSuccess(@NotNull String msg) {\r\n      Intrinsics.checkNotNullParameter(msg, &quot;msg&quot;);\r\n      super((DefaultConstructorMarker)null);\r\n      this.msg = msg;\r\n   }\r\n}\r\n```\r\n\r\nhere you can see that the `SealedMessageType` is in fact an abstract class. the only difference between an abstract class and a sealed class is that the compiler generates some metadata for sealed classes and can warn you about the missing branches when you use the `when` keyword which can&#39;t be done using abstract classes. you can see in the above code that the `SealedMessageType` class metadata contains both `MessageSuccess` and `MessageFailure` as child classes, and `MessageSuccess` metadata also contains `SealedMessageType` as a parent. there is no such metadata if you use abstract classes. \r\n\r\nif you use this simple trick, the compiler gives you an error if you miss any branches and IDE can help you implement missing branches using `Alt+Enter`. the trick is to define an exhaustive extension function:\r\n```\r\n\r\nfun main() {\r\n    when(callNetwork()) { // error: when&#39; expression must be exhaustive, add necessary &#39;is MessageSuccess&#39;, &#39;is MessageFailure&#39; branches or &#39;else&#39; branch instead\r\n\r\n    }.exhaustive()\r\n}\r\n\r\nfun Any?.exhaustive() = this\r\n\r\n\r\n\r\nfun callNetwork(): SealedMessageType {\r\n    TODO()\r\n}\r\n```\r\n","title":"What is the difference between Sealed class and inheritance principle in Kotlin?","body":"<p>I think what the documentation means by extension, is not actually extending enums, but a tool like enums with more power as it can hold state. lets take a look at your example with enums.</p>\n<pre><code>sealed class SealedMessageType\nclass MessageSuccess (val msg: String) : SealedMessageType()\nclass MessageFailure (val e: Exeception) : SealedMessageType()\n\nenum class EnumMessageType {\n    Success,\n    Failure\n}\n</code></pre>\n<p>and now if you use enums you have:</p>\n<pre><code>val enumMessageType: EnumMessageType = callNetwork()\n\n    when(enumMessageType) {\n        EnumMessageType.Success -&gt; { TODO() }\n        EnumMessageType.Failure -&gt; { TODO() }\n    }\n</code></pre>\n<p>here when you use enums you can't retrieve the data of your result from enums, and you need to get the message or error with some other variable. the only thing you can get is the type of the result without its state. but with sealed classes:</p>\n<pre><code>val sealedMessageType: SealedMessageType = callNetwork()\n\n    when(sealedMessageType) {\n        is MessageSuccess -&gt; { println(sealedMessageType.msg) }\n        is MessageFailure -&gt; { throw sealedMessageType.e }\n    }\n</code></pre>\n<p>the IDE can smart cast your result and you can get the state of your result(if success the message, if failure the exception). this is what the doc means by extension.</p>\n<p>but overall you are right, sealed class is about inheritance. in fact, a sealed class is nothing but an abstract class that has a private constructor and can not be instantiated. let's look at the decopiled java code:</p>\n<pre><code>@Metadata(\n   mv = {1, 4, 0},\n   bv = {1, 0, 3},\n   k = 1,\n   d1 = {&quot;\\u0000\\u0014\\n\\u0002\\u0018\\u0002\\n\\u0002\\u0010\\u0000\\n\\u0000\\n\\u0002\\u0018\\u0002\\n\\u0002\\u0018\\u0002\\n\\u0000\\b6\\u0018\\u00002\\u00020\\u0001B\\u0007\\b\\u0002¢\\u0006\\u0002\\u0010\\u0002\\u0082\\u0001\\u0002\\u0003\\u0004¨\\u0006\\u0005&quot;},\n   d2 = {&quot;Lcom/example/customview/SealedMessageType;&quot;, &quot;&quot;, &quot;()V&quot;, &quot;Lcom/example/customview/MessageSuccess;&quot;, &quot;Lcom/example/customview/MessageFailure;&quot;, &quot;app&quot;}\n)\npublic abstract class SealedMessageType {\n   private SealedMessageType() {\n   }\n\n   // $FF: synthetic method\n   public SealedMessageType(DefaultConstructorMarker $constructor_marker) {\n      this();\n   }\n}\n</code></pre>\n<pre><code>@Metadata(\n   mv = {1, 4, 0},\n   bv = {1, 0, 3},\n   k = 1,\n   d1 = {&quot;\\u0000\\u0012\\n\\u0002\\u0018\\u0002\\n\\u0002\\u0018\\u0002\\n\\u0000\\n\\u0002\\u0010\\u000e\\n\\u0002\\b\\u0004\\u0018\\u00002\\u00020\\u0001B\\r\\u0012\\u0006\\u0010\\u0002\\u001a\\u00020\\u0003¢\\u0006\\u0002\\u0010\\u0004R\\u0011\\u0010\\u0002\\u001a\\u00020\\u0003¢\\u0006\\b\\n\\u0000\\u001a\\u0004\\b\\u0005\\u0010\\u0006¨\\u0006\\u0007&quot;},\n   d2 = {&quot;Lcom/example/customview/MessageSuccess;&quot;, &quot;Lcom/example/customview/SealedMessageType;&quot;, &quot;msg&quot;, &quot;&quot;, &quot;(Ljava/lang/String;)V&quot;, &quot;getMsg&quot;, &quot;()Ljava/lang/String;&quot;, &quot;app&quot;}\n)\npublic final class MessageSuccess extends SealedMessageType {\n   @NotNull\n   private final String msg;\n\n   @NotNull\n   public final String getMsg() {\n      return this.msg;\n   }\n\n   public MessageSuccess(@NotNull String msg) {\n      Intrinsics.checkNotNullParameter(msg, &quot;msg&quot;);\n      super((DefaultConstructorMarker)null);\n      this.msg = msg;\n   }\n}\n</code></pre>\n<p>here you can see that the <code>SealedMessageType</code> is in fact an abstract class. the only difference between an abstract class and a sealed class is that the compiler generates some metadata for sealed classes and can warn you about the missing branches when you use the <code>when</code> keyword which can't be done using abstract classes. you can see in the above code that the <code>SealedMessageType</code> class metadata contains both <code>MessageSuccess</code> and <code>MessageFailure</code> as child classes, and <code>MessageSuccess</code> metadata also contains <code>SealedMessageType</code> as a parent. there is no such metadata if you use abstract classes.</p>\n<p>if you use this simple trick, the compiler gives you an error if you miss any branches and IDE can help you implement missing branches using <code>Alt+Enter</code>. the trick is to define an exhaustive extension function:</p>\n<pre><code>\nfun main() {\n    when(callNetwork()) { // error: when' expression must be exhaustive, add necessary 'is MessageSuccess', 'is MessageFailure' branches or 'else' branch instead\n\n    }.exhaustive()\n}\n\nfun Any?.exhaustive() = this\n\n\n\nfun callNetwork(): SealedMessageType {\n    TODO()\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1112201,"reputation":1406,"user_id":1102468,"accept_rate":35,"display_name":"Tai Tran"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668464368,"creation_date":1668464368,"answer_id":74438506,"question_id":64513791,"body_markdown":"In term of functional programming, **sealed class** is used to make a Category, ","title":"What is the difference between Sealed class and inheritance principle in Kotlin?","body":"<p>In term of functional programming, <strong>sealed class</strong> is used to make a Category,</p>\n"}],"owner":{"account_id":7581977,"reputation":1361,"user_id":5752410,"display_name":"Eitanos30"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7989,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":64517039,"answer_count":2,"score":4,"last_activity_date":1668464368,"creation_date":1603545965,"question_id":64513791,"body_markdown":"I&#39;m new with Kotlin. I&#39;m reading a book and a sealed class is displayed there as an &quot;extension&quot; of Enum. I can&#39;t see the similarity between them. The way I see the things, Sealed class is more related to inheritance, because each class can inherit from it and to add function and properties to it\r\nFor example:\r\n\r\n    sealed class messageType\r\n    class MessageSuccess (var msg: String) : MwssageType()\r\n    class MessageFailure (var msg: String, var e: Exeception) : MwssageType()\r\n\r\nI **don&#39;t see** here *values* like we have in *Enum*, only kink of inheritance.\r\nCan someone explain me what is the imagine between Enum and Sealed that i can&#39;t find?\r\nMaybe the power of it is when using it with **when** expression?","title":"What is the difference between Sealed class and inheritance principle in Kotlin?","body":"<p>I'm new with Kotlin. I'm reading a book and a sealed class is displayed there as an &quot;extension&quot; of Enum. I can't see the similarity between them. The way I see the things, Sealed class is more related to inheritance, because each class can inherit from it and to add function and properties to it\nFor example:</p>\n<pre><code>sealed class messageType\nclass MessageSuccess (var msg: String) : MwssageType()\nclass MessageFailure (var msg: String, var e: Exeception) : MwssageType()\n</code></pre>\n<p>I <strong>don't see</strong> here <em>values</em> like we have in <em>Enum</em>, only kink of inheritance.\nCan someone explain me what is the imagine between Enum and Sealed that i can't find?\nMaybe the power of it is when using it with <strong>when</strong> expression?</p>\n"},{"tags":["java","xml","jdom-2"],"answers":[{"tags":[],"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668415265,"creation_date":1668415265,"answer_id":74428874,"question_id":74424827,"body_markdown":"Your `setElementValue()` method calls `xmlOutput.output(settingsDoc, settingsWriter);` to output the entire document every time there is a change, and that&#39;s exactly what is happening. You need to change it so it only outputs the document once, at the end.","title":"Java: JDOM.XMLOutputter don&#39;t overwrite XML File when looking to make multiple changes in a row","body":"<p>Your <code>setElementValue()</code> method calls <code>xmlOutput.output(settingsDoc, settingsWriter);</code> to output the entire document every time there is a change, and that's exactly what is happening. You need to change it so it only outputs the document once, at the end.</p>\n"},{"tags":[],"owner":{"account_id":24762464,"reputation":93,"user_id":18646685,"display_name":"Cromega08"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668463190,"creation_date":1668463190,"answer_id":74438345,"question_id":74424827,"body_markdown":"# Alredy Solved\r\n\r\nSo, for anyone that find this question, the solution I use was:\r\n\r\n```java\r\npublic class FileHandler {\r\n\r\n\tprivate final Writer settingsWriter;\r\n\tprivate final XMLOutputter xmlOutput;\r\n\tprivate final Document settingsDoc;\r\n\tprivate final Element settingsElement;\r\n\tprivate final FileChannel settingsChannel;\r\n\tprivate final Path settingsPath;\r\n\r\n\r\n\tFileHandler() throws IOException, JDOMException {\r\n\r\n\t\tsettingsPath = Paths.get(&quot;res/settings/settings.xml&quot;);\r\n\t\tFile settingsFile = settingsPath.toFile();\r\n\t\tboolean settingsExist = settingsFile.createNewFile();\r\n\t\tsettingsChannel = FileChannel.open(settingsPath, StandardOpenOption.WRITE);\r\n\t\tsettingsWriter = Channels.newWriter(\r\n\t\t\t\tsettingsChannel,\r\n\t\t\t\tStandardCharsets.UTF_8);\r\n\t\txmlOutput = new XMLOutputter();\r\n\t\txmlOutput.setFormat(Format.getPrettyFormat());\r\n\r\n\t\tif (settingsExist) createSettings();\r\n\r\n\t\tSAXBuilder saxBuilder = new SAXBuilder();\r\n\t\tsettingsDoc = saxBuilder.build(settingsFile);\r\n\t\tsettingsElement = settingsDoc.getRootElement();\r\n\t}\r\n\r\n    /*Irrelevant code for the answer*/\r\n\r\n    public void setElementValues(boolean[] newStart, String[] newTexts) throws IOException, JDOMException {\r\n\r\n\t\tElement timeElement = settingsElement.getChild(&quot;time&quot;),\r\n\t\t\t\tautoStartElement = settingsElement.getChild(&quot;auto-start&quot;);\r\n\t\tList&lt;Element&gt; timeElements = timeElement.getChildren(),\r\n\t\t\t\t\t\tautoStartElements = autoStartElement.getChildren();\r\n\r\n\t\tfor (int index = 0; index &lt; autoStartElements.size(); ++index) {\r\n\t\t\tautoStartElements.get(index).setText(String.valueOf(newStart[index]));\r\n\t\t}\r\n\r\n\t\tfor (int index = 0; index &lt; timeElements.size(); ++index) {\r\n\t\t\ttimeElements.get(index).setText(newTexts[index]);\r\n\t\t}\r\n\r\n\t\tsettingsChannel.truncate(0);\r\n\t\tsettingsWriter.flush();\r\n\t\tsettingsChannel.force(true);\r\n\t\txmlOutput.output(settingsDoc, settingsWriter);\r\n\t\tsettingsWriter.flush();\r\n\t\tsettingsChannel.force(true);\r\n\t}\r\n```\r\n\r\n## Explanation\r\n\r\nBased in the comment of [@Michal Kay](https://stackoverflow.com/users/415448/michael-kay), I made various changes in the structure:\r\n\r\n1. **Change** the method **to require all the values to change** and update all the _XML_.\r\n\r\n2. **Change the global variables** of the class to **make global _FileChannel settingsChannel_** (before was an inline object).\r\n\r\n3. **Every operation**, the entire **content of the file it&#39;s replaced**, with this steps:\r\n\r\n    1. Remove all the content with _.truncate(0)_ (**this set the length of the file to 0**)\r\n\r\n    2. Update the writer instance with _.flush()_ (**If don&#39;t, the data don&#39;t reach the channel**)\r\n\r\n    3. Force the data to reach the disk with _.force(true)_ (**If don&#39;t, the Writer class save the data in the cache**)\r\n\r\n    4. Write the new data in the _XML_ file with the _XMLOutputter_ (**This doesn&#39;t change**)\r\n\r\n    5. **Update all again using the 2 and 3 step**.\r\n\r\nThat it&#39;s how i solved it. ","title":"Java: JDOM.XMLOutputter don&#39;t overwrite XML File when looking to make multiple changes in a row","body":"<h1>Alredy Solved</h1>\n<p>So, for anyone that find this question, the solution I use was:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class FileHandler {\n\n    private final Writer settingsWriter;\n    private final XMLOutputter xmlOutput;\n    private final Document settingsDoc;\n    private final Element settingsElement;\n    private final FileChannel settingsChannel;\n    private final Path settingsPath;\n\n\n    FileHandler() throws IOException, JDOMException {\n\n        settingsPath = Paths.get(&quot;res/settings/settings.xml&quot;);\n        File settingsFile = settingsPath.toFile();\n        boolean settingsExist = settingsFile.createNewFile();\n        settingsChannel = FileChannel.open(settingsPath, StandardOpenOption.WRITE);\n        settingsWriter = Channels.newWriter(\n                settingsChannel,\n                StandardCharsets.UTF_8);\n        xmlOutput = new XMLOutputter();\n        xmlOutput.setFormat(Format.getPrettyFormat());\n\n        if (settingsExist) createSettings();\n\n        SAXBuilder saxBuilder = new SAXBuilder();\n        settingsDoc = saxBuilder.build(settingsFile);\n        settingsElement = settingsDoc.getRootElement();\n    }\n\n    /*Irrelevant code for the answer*/\n\n    public void setElementValues(boolean[] newStart, String[] newTexts) throws IOException, JDOMException {\n\n        Element timeElement = settingsElement.getChild(&quot;time&quot;),\n                autoStartElement = settingsElement.getChild(&quot;auto-start&quot;);\n        List&lt;Element&gt; timeElements = timeElement.getChildren(),\n                        autoStartElements = autoStartElement.getChildren();\n\n        for (int index = 0; index &lt; autoStartElements.size(); ++index) {\n            autoStartElements.get(index).setText(String.valueOf(newStart[index]));\n        }\n\n        for (int index = 0; index &lt; timeElements.size(); ++index) {\n            timeElements.get(index).setText(newTexts[index]);\n        }\n\n        settingsChannel.truncate(0);\n        settingsWriter.flush();\n        settingsChannel.force(true);\n        xmlOutput.output(settingsDoc, settingsWriter);\n        settingsWriter.flush();\n        settingsChannel.force(true);\n    }\n</code></pre>\n<h2>Explanation</h2>\n<p>Based in the comment of <a href=\"https://stackoverflow.com/users/415448/michael-kay\">@Michal Kay</a>, I made various changes in the structure:</p>\n<ol>\n<li><p><strong>Change</strong> the method <strong>to require all the values to change</strong> and update all the <em>XML</em>.</p>\n</li>\n<li><p><strong>Change the global variables</strong> of the class to <strong>make global <em>FileChannel settingsChannel</em></strong> (before was an inline object).</p>\n</li>\n<li><p><strong>Every operation</strong>, the entire <strong>content of the file it's replaced</strong>, with this steps:</p>\n<ol>\n<li><p>Remove all the content with <em>.truncate(0)</em> (<strong>this set the length of the file to 0</strong>)</p>\n</li>\n<li><p>Update the writer instance with <em>.flush()</em> (<strong>If don't, the data don't reach the channel</strong>)</p>\n</li>\n<li><p>Force the data to reach the disk with <em>.force(true)</em> (<strong>If don't, the Writer class save the data in the cache</strong>)</p>\n</li>\n<li><p>Write the new data in the <em>XML</em> file with the <em>XMLOutputter</em> (<strong>This doesn't change</strong>)</p>\n</li>\n<li><p><strong>Update all again using the 2 and 3 step</strong>.</p>\n</li>\n</ol>\n</li>\n</ol>\n<p>That it's how i solved it.</p>\n"}],"owner":{"account_id":24762464,"reputation":93,"user_id":18646685,"display_name":"Cromega08"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74438345,"answer_count":2,"score":0,"last_activity_date":1668463190,"creation_date":1668374077,"question_id":74424827,"body_markdown":"## Explanation\r\n\r\nI&#39;m making **program that use a _XML_ file to save some values to use as settings**, and **only need to read and modify the element values** in the _XML_. The **code is written in _Java_** and I&#39;m **using _[JDOM 2.0.6.1](http://www.jdom.org/downloads/)_** to manage the _XML_ file, followed [this tutorial](https://www.tutorialspoint.com/java_xml/java_jdom_parser.htm).\r\n\r\n**The code works when overwrite any element in the XML, but just 1 time**. If make **multiple operations** to modify any value, the program **start appending a new tree with the changes**, which should not happen and would be the problem.\r\n\r\nThe default XML:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;settings&gt;\r\n  &lt;time&gt;\r\n    &lt;time-work&gt;25&lt;/time-work&gt;\r\n    &lt;time-break&gt;5&lt;/time-break&gt;\r\n    &lt;time-rest&gt;15&lt;/time-rest&gt;\r\n    &lt;time-interval&gt;3&lt;/time-interval&gt;\r\n  &lt;/time&gt;\r\n  &lt;auto-start&gt;\r\n    &lt;start-work&gt;true&lt;/start-work&gt;\r\n    &lt;start-break&gt;true&lt;/start-break&gt;\r\n    &lt;start-rest&gt;true&lt;/start-rest&gt;\r\n  &lt;/auto-start&gt;\r\n&lt;/settings&gt;\r\n```\r\n\r\nThe Java code:\r\n\r\n```java\r\npublic class FileHandler {\r\n\r\n    private final Writer settingsWriter;\r\n    private final XMLOutputter xmlOutput;\r\n    private final Document settingsDoc;\r\n    private final Element settingsElement;\r\n\r\n\r\n    FileHandler() throws IOException, JDOMException {\r\n\r\n        Path settingsPath = Paths.get(&quot;res/settings/settings.xml&quot;);\r\n        File settingsFile = settingsPath.toFile();\r\n        boolean settingsExist = settingsFile.createNewFile();\r\n        settingsWriter = Channels.newWriter(\r\n              FileChannel.open(settingsPath, StandardOpenOption.WRITE),\r\n              StandardCharsets.UTF_8);\r\n        xmlOutput = new XMLOutputter();\r\n        xmlOutput.setFormat(Format.getPrettyFormat());\r\n\r\n        if (settingsExist) createSettings();\r\n\r\n        SAXBuilder saxBuilder = new SAXBuilder();\r\n        settingsDoc = saxBuilder.build(settingsFile);\r\n        settingsElement = settingsDoc.getRootElement();\r\n\r\n        setElementValue(&quot;time-work&quot;, &quot;5&quot;);\r\n        setElementValue(&quot;time-work&quot;, &quot;10&quot;);\r\n        setElementValue(&quot;time-work&quot;, &quot;30&quot;);\r\n    }\r\n\r\n    public void setElementValue(String element, String newValue) throws IOException, JDOMException {\r\n\r\n        Element groupElement = settingsElement.getChild(element.startsWith(&quot;time&quot;)? &quot;time&quot;:&quot;auto-start&quot;),\r\n                toChangeElement = groupElement.getChild(element);\r\n\r\n        toChangeElement.setText(newValue);\r\n        xmlOutput.output(settingsDoc, settingsWriter);\r\n    }\r\n\r\n    /*More code, irrelevant for the post*/\r\n}\r\n```\r\n\r\n## Examples\r\n\r\n### Example 1 (Works)\r\n\r\n```java\r\n    FileHandler() throws IOException, JDOMException {\r\n\r\n        Path settingsPath = Paths.get(&quot;res/settings/settings.xml&quot;);\r\n        File settingsFile = settingsPath.toFile();\r\n        boolean settingsExist = settingsFile.createNewFile();\r\n        settingsWriter = Channels.newWriter(\r\n              FileChannel.open(settingsPath, StandardOpenOption.WRITE),\r\n              StandardCharsets.UTF_8);\r\n        xmlOutput = new XMLOutputter();\r\n        xmlOutput.setFormat(Format.getPrettyFormat());\r\n\r\n        if (settingsExist) createSettings();\r\n\r\n        SAXBuilder saxBuilder = new SAXBuilder();\r\n        settingsDoc = saxBuilder.build(settingsFile);\r\n        settingsElement = settingsDoc.getRootElement();\r\n\r\n        setElementValue(&quot;time-work&quot;, &quot;5&quot;);\r\n    }\r\n```\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;settings&gt;\r\n  &lt;time&gt;\r\n    &lt;time-work&gt;5&lt;/time-work&gt;\r\n    &lt;time-break&gt;5&lt;/time-break&gt;\r\n    &lt;time-rest&gt;15&lt;/time-rest&gt;\r\n    &lt;time-interval&gt;3&lt;/time-interval&gt;\r\n  &lt;/time&gt;\r\n  &lt;auto-start&gt;\r\n    &lt;start-work&gt;true&lt;/start-work&gt;\r\n    &lt;start-break&gt;true&lt;/start-break&gt;\r\n    &lt;start-rest&gt;true&lt;/start-rest&gt;\r\n  &lt;/auto-start&gt;\r\n&lt;/settings&gt;\r\n```\r\n\r\n### Example 2 (Works)\r\n\r\n```java\r\n    FileHandler() throws IOException, JDOMException {\r\n\r\n        Path settingsPath = Paths.get(&quot;res/settings/settings.xml&quot;);\r\n        File settingsFile = settingsPath.toFile();\r\n        boolean settingsExist = settingsFile.createNewFile();\r\n        settingsWriter = Channels.newWriter(\r\n              FileChannel.open(settingsPath, StandardOpenOption.WRITE),\r\n              StandardCharsets.UTF_8);\r\n        xmlOutput = new XMLOutputter();\r\n        xmlOutput.setFormat(Format.getPrettyFormat());\r\n\r\n        if (settingsExist) createSettings();\r\n\r\n        SAXBuilder saxBuilder = new SAXBuilder();\r\n        settingsDoc = saxBuilder.build(settingsFile);\r\n        settingsElement = settingsDoc.getRootElement();\r\n\r\n        setElementValue(&quot;start-rest&quot;, &quot;2&quot;);\r\n    }\r\n```\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;settings&gt;\r\n  &lt;time&gt;\r\n    &lt;time-work&gt;25&lt;/time-work&gt;\r\n    &lt;time-break&gt;5&lt;/time-break&gt;\r\n    &lt;time-rest&gt;15&lt;/time-rest&gt;\r\n    &lt;time-interval&gt;3&lt;/time-interval&gt;\r\n  &lt;/time&gt;\r\n  &lt;auto-start&gt;\r\n    &lt;start-work&gt;true&lt;/start-work&gt;\r\n    &lt;start-break&gt;true&lt;/start-break&gt;\r\n    &lt;start-rest&gt;2&lt;/start-rest&gt;\r\n  &lt;/auto-start&gt;\r\n&lt;/settings&gt;\r\n```\r\n\r\n### Example 3 (Fail)\r\n\r\n```java\r\n    FileHandler() throws IOException, JDOMException {\r\n\r\n        Path settingsPath = Paths.get(&quot;res/settings/settings.xml&quot;);\r\n        File settingsFile = settingsPath.toFile();\r\n        boolean settingsExist = settingsFile.createNewFile();\r\n        settingsWriter = Channels.newWriter(\r\n              FileChannel.open(settingsPath, StandardOpenOption.WRITE),\r\n              StandardCharsets.UTF_8);\r\n        xmlOutput = new XMLOutputter();\r\n        xmlOutput.setFormat(Format.getPrettyFormat());\r\n\r\n        if (settingsExist) createSettings();\r\n\r\n        SAXBuilder saxBuilder = new SAXBuilder();\r\n        settingsDoc = saxBuilder.build(settingsFile);\r\n        settingsElement = settingsDoc.getRootElement();\r\n\r\n        setElementValue(&quot;time-work&quot;, &quot;5&quot;);\r\n        setElementValue(&quot;time-work&quot;, &quot;10&quot;);\r\n        setElementValue(&quot;time-work&quot;, &quot;30&quot;);\r\n    }\r\n```\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;settings&gt;\r\n  &lt;time&gt;\r\n    &lt;time-work&gt;5&lt;/time-work&gt;\r\n    &lt;time-break&gt;5&lt;/time-break&gt;\r\n    &lt;time-rest&gt;15&lt;/time-rest&gt;\r\n    &lt;time-interval&gt;3&lt;/time-interval&gt;\r\n  &lt;/time&gt;\r\n  &lt;auto-start&gt;\r\n    &lt;start-work&gt;true&lt;/start-work&gt;\r\n    &lt;start-break&gt;true&lt;/start-break&gt;\r\n    &lt;start-rest&gt;true&lt;/start-rest&gt;\r\n  &lt;/auto-start&gt;\r\n&lt;/settings&gt;\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;settings&gt;\r\n  &lt;time&gt;\r\n    &lt;time-work&gt;10&lt;/time-work&gt;\r\n    &lt;time-break&gt;5&lt;/time-break&gt;\r\n    &lt;time-rest&gt;15&lt;/time-rest&gt;\r\n    &lt;time-interval&gt;3&lt;/time-interval&gt;\r\n  &lt;/time&gt;\r\n  &lt;auto-start&gt;\r\n    &lt;start-work&gt;true&lt;/start-work&gt;\r\n    &lt;start-break&gt;true&lt;/start-break&gt;\r\n    &lt;start-rest&gt;true&lt;/start-rest&gt;\r\n  &lt;/auto-start&gt;\r\n&lt;/settings&gt;\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;settings&gt;\r\n  &lt;time&gt;\r\n    &lt;time-work&gt;30&lt;/time-work&gt;\r\n    &lt;time-break&gt;5&lt;/time-break&gt;\r\n    &lt;time-rest&gt;15&lt;/time-rest&gt;\r\n    &lt;time-interval&gt;3&lt;/time-interval&gt;\r\n  &lt;/time&gt;\r\n  &lt;auto-start&gt;\r\n    &lt;start-work&gt;true&lt;/start-work&gt;\r\n    &lt;start-break&gt;true&lt;/start-break&gt;\r\n    &lt;start-rest&gt;true&lt;/start-rest&gt;\r\n  &lt;/auto-start&gt;\r\n&lt;/settings&gt;\r\n```\r\n\r\n### Example 4 (Fail)\r\n\r\n```java\r\n    FileHandler() throws IOException, JDOMException {\r\n\r\n        Path settingsPath = Paths.get(&quot;res/settings/settings.xml&quot;);\r\n        File settingsFile = settingsPath.toFile();\r\n        boolean settingsExist = settingsFile.createNewFile();\r\n        settingsWriter = Channels.newWriter(\r\n              FileChannel.open(settingsPath, StandardOpenOption.WRITE),\r\n              StandardCharsets.UTF_8);\r\n        xmlOutput = new XMLOutputter();\r\n        xmlOutput.setFormat(Format.getPrettyFormat());\r\n\r\n        if (settingsExist) createSettings();\r\n\r\n        SAXBuilder saxBuilder = new SAXBuilder();\r\n        settingsDoc = saxBuilder.build(settingsFile);\r\n        settingsElement = settingsDoc.getRootElement();\r\n\r\n        setElementValue(&quot;time-work&quot;, &quot;5&quot;);\r\n        setElementValue(&quot;time-break&quot;, &quot;10&quot;);\r\n        setElementValue(&quot;time-rest&quot;, &quot;30&quot;);\r\n    }\r\n```\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;settings&gt;\r\n  &lt;time&gt;\r\n    &lt;time-work&gt;5&lt;/time-work&gt;\r\n    &lt;time-break&gt;5&lt;/time-break&gt;\r\n    &lt;time-rest&gt;15&lt;/time-rest&gt;\r\n    &lt;time-interval&gt;3&lt;/time-interval&gt;\r\n  &lt;/time&gt;\r\n  &lt;auto-start&gt;\r\n    &lt;start-work&gt;true&lt;/start-work&gt;\r\n    &lt;start-break&gt;true&lt;/start-break&gt;\r\n    &lt;start-rest&gt;true&lt;/start-rest&gt;\r\n  &lt;/auto-start&gt;\r\n&lt;/settings&gt;\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;settings&gt;\r\n  &lt;time&gt;\r\n    &lt;time-work&gt;5&lt;/time-work&gt;\r\n    &lt;time-break&gt;10&lt;/time-break&gt;\r\n    &lt;time-rest&gt;15&lt;/time-rest&gt;\r\n    &lt;time-interval&gt;3&lt;/time-interval&gt;\r\n  &lt;/time&gt;\r\n  &lt;auto-start&gt;\r\n    &lt;start-work&gt;true&lt;/start-work&gt;\r\n    &lt;start-break&gt;true&lt;/start-break&gt;\r\n    &lt;start-rest&gt;true&lt;/start-rest&gt;\r\n  &lt;/auto-start&gt;\r\n&lt;/settings&gt;\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;settings&gt;\r\n  &lt;time&gt;\r\n    &lt;time-work&gt;5&lt;/time-work&gt;\r\n    &lt;time-break&gt;10&lt;/time-break&gt;\r\n    &lt;time-rest&gt;30&lt;/time-rest&gt;\r\n    &lt;time-interval&gt;3&lt;/time-interval&gt;\r\n  &lt;/time&gt;\r\n  &lt;auto-start&gt;\r\n    &lt;start-work&gt;true&lt;/start-work&gt;\r\n    &lt;start-break&gt;true&lt;/start-break&gt;\r\n    &lt;start-rest&gt;true&lt;/start-rest&gt;\r\n  &lt;/auto-start&gt;\r\n&lt;/settings&gt;\r\n```\r\n\r\n### Example 5 (Fail)\r\n\r\n```java\r\n    FileHandler() throws IOException, JDOMException {\r\n\r\n        Path settingsPath = Paths.get(&quot;res/settings/settings.xml&quot;);\r\n        File settingsFile = settingsPath.toFile();\r\n        boolean settingsExist = settingsFile.createNewFile();\r\n        settingsWriter = Channels.newWriter(\r\n              FileChannel.open(settingsPath, StandardOpenOption.WRITE),\r\n              StandardCharsets.UTF_8);\r\n        xmlOutput = new XMLOutputter();\r\n        xmlOutput.setFormat(Format.getPrettyFormat());\r\n\r\n        if (settingsExist) createSettings();\r\n\r\n        SAXBuilder saxBuilder = new SAXBuilder();\r\n        settingsDoc = saxBuilder.build(settingsFile);\r\n        settingsElement = settingsDoc.getRootElement();\r\n\r\n        setElementValue(&quot;time-work&quot;, &quot;5&quot;);\r\n        setElementValue(&quot;start-break&quot;, &quot;false&quot;);\r\n        setElementValue(&quot;time-interval&quot;, &quot;2&quot;);\r\n    }\r\n```\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;settings&gt;\r\n  &lt;time&gt;\r\n    &lt;time-work&gt;5&lt;/time-work&gt;\r\n    &lt;time-break&gt;5&lt;/time-break&gt;\r\n    &lt;time-rest&gt;15&lt;/time-rest&gt;\r\n    &lt;time-interval&gt;3&lt;/time-interval&gt;\r\n  &lt;/time&gt;\r\n  &lt;auto-start&gt;\r\n    &lt;start-work&gt;true&lt;/start-work&gt;\r\n    &lt;start-break&gt;true&lt;/start-break&gt;\r\n    &lt;start-rest&gt;true&lt;/start-rest&gt;\r\n  &lt;/auto-start&gt;\r\n&lt;/settings&gt;\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;settings&gt;\r\n  &lt;time&gt;\r\n    &lt;time-work&gt;5&lt;/time-work&gt;\r\n    &lt;time-break&gt;5&lt;/time-break&gt;\r\n    &lt;time-rest&gt;15&lt;/time-rest&gt;\r\n    &lt;time-interval&gt;3&lt;/time-interval&gt;\r\n  &lt;/time&gt;\r\n  &lt;auto-start&gt;\r\n    &lt;start-work&gt;true&lt;/start-work&gt;\r\n    &lt;start-break&gt;false&lt;/start-break&gt;\r\n    &lt;start-rest&gt;true&lt;/start-rest&gt;\r\n  &lt;/auto-start&gt;\r\n&lt;/settings&gt;\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;settings&gt;\r\n  &lt;time&gt;\r\n    &lt;time-work&gt;5&lt;/time-work&gt;\r\n    &lt;time-break&gt;5&lt;/time-break&gt;\r\n    &lt;time-rest&gt;15&lt;/time-rest&gt;\r\n    &lt;time-interval&gt;2&lt;/time-interval&gt;\r\n  &lt;/time&gt;\r\n  &lt;auto-start&gt;\r\n    &lt;start-work&gt;true&lt;/start-work&gt;\r\n    &lt;start-break&gt;false&lt;/start-break&gt;\r\n    &lt;start-rest&gt;true&lt;/start-rest&gt;\r\n  &lt;/auto-start&gt;\r\n&lt;/settings&gt;\r\n```\r\n## What I tried\r\n\r\nTried to close the writer and use re-building the &quot;_Document **settingsDoc**_&quot; inside the function.\r\n\r\nEverything I tried ended in the same result, appending a new _XML_ tree **after overwriting just 1**.","title":"Java: JDOM.XMLOutputter don&#39;t overwrite XML File when looking to make multiple changes in a row","body":"<h2>Explanation</h2>\n<p>I'm making <strong>program that use a <em>XML</em> file to save some values to use as settings</strong>, and <strong>only need to read and modify the element values</strong> in the <em>XML</em>. The <strong>code is written in <em>Java</em></strong> and I'm <strong>using <em><a href=\"http://www.jdom.org/downloads/\" rel=\"nofollow noreferrer\">JDOM 2.0.6.1</a></em></strong> to manage the <em>XML</em> file, followed <a href=\"https://www.tutorialspoint.com/java_xml/java_jdom_parser.htm\" rel=\"nofollow noreferrer\">this tutorial</a>.</p>\n<p><strong>The code works when overwrite any element in the XML, but just 1 time</strong>. If make <strong>multiple operations</strong> to modify any value, the program <strong>start appending a new tree with the changes</strong>, which should not happen and would be the problem.</p>\n<p>The default XML:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;settings&gt;\n  &lt;time&gt;\n    &lt;time-work&gt;25&lt;/time-work&gt;\n    &lt;time-break&gt;5&lt;/time-break&gt;\n    &lt;time-rest&gt;15&lt;/time-rest&gt;\n    &lt;time-interval&gt;3&lt;/time-interval&gt;\n  &lt;/time&gt;\n  &lt;auto-start&gt;\n    &lt;start-work&gt;true&lt;/start-work&gt;\n    &lt;start-break&gt;true&lt;/start-break&gt;\n    &lt;start-rest&gt;true&lt;/start-rest&gt;\n  &lt;/auto-start&gt;\n&lt;/settings&gt;\n</code></pre>\n<p>The Java code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class FileHandler {\n\n    private final Writer settingsWriter;\n    private final XMLOutputter xmlOutput;\n    private final Document settingsDoc;\n    private final Element settingsElement;\n\n\n    FileHandler() throws IOException, JDOMException {\n\n        Path settingsPath = Paths.get(&quot;res/settings/settings.xml&quot;);\n        File settingsFile = settingsPath.toFile();\n        boolean settingsExist = settingsFile.createNewFile();\n        settingsWriter = Channels.newWriter(\n              FileChannel.open(settingsPath, StandardOpenOption.WRITE),\n              StandardCharsets.UTF_8);\n        xmlOutput = new XMLOutputter();\n        xmlOutput.setFormat(Format.getPrettyFormat());\n\n        if (settingsExist) createSettings();\n\n        SAXBuilder saxBuilder = new SAXBuilder();\n        settingsDoc = saxBuilder.build(settingsFile);\n        settingsElement = settingsDoc.getRootElement();\n\n        setElementValue(&quot;time-work&quot;, &quot;5&quot;);\n        setElementValue(&quot;time-work&quot;, &quot;10&quot;);\n        setElementValue(&quot;time-work&quot;, &quot;30&quot;);\n    }\n\n    public void setElementValue(String element, String newValue) throws IOException, JDOMException {\n\n        Element groupElement = settingsElement.getChild(element.startsWith(&quot;time&quot;)? &quot;time&quot;:&quot;auto-start&quot;),\n                toChangeElement = groupElement.getChild(element);\n\n        toChangeElement.setText(newValue);\n        xmlOutput.output(settingsDoc, settingsWriter);\n    }\n\n    /*More code, irrelevant for the post*/\n}\n</code></pre>\n<h2>Examples</h2>\n<h3>Example 1 (Works)</h3>\n<pre class=\"lang-java prettyprint-override\"><code>    FileHandler() throws IOException, JDOMException {\n\n        Path settingsPath = Paths.get(&quot;res/settings/settings.xml&quot;);\n        File settingsFile = settingsPath.toFile();\n        boolean settingsExist = settingsFile.createNewFile();\n        settingsWriter = Channels.newWriter(\n              FileChannel.open(settingsPath, StandardOpenOption.WRITE),\n              StandardCharsets.UTF_8);\n        xmlOutput = new XMLOutputter();\n        xmlOutput.setFormat(Format.getPrettyFormat());\n\n        if (settingsExist) createSettings();\n\n        SAXBuilder saxBuilder = new SAXBuilder();\n        settingsDoc = saxBuilder.build(settingsFile);\n        settingsElement = settingsDoc.getRootElement();\n\n        setElementValue(&quot;time-work&quot;, &quot;5&quot;);\n    }\n</code></pre>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;settings&gt;\n  &lt;time&gt;\n    &lt;time-work&gt;5&lt;/time-work&gt;\n    &lt;time-break&gt;5&lt;/time-break&gt;\n    &lt;time-rest&gt;15&lt;/time-rest&gt;\n    &lt;time-interval&gt;3&lt;/time-interval&gt;\n  &lt;/time&gt;\n  &lt;auto-start&gt;\n    &lt;start-work&gt;true&lt;/start-work&gt;\n    &lt;start-break&gt;true&lt;/start-break&gt;\n    &lt;start-rest&gt;true&lt;/start-rest&gt;\n  &lt;/auto-start&gt;\n&lt;/settings&gt;\n</code></pre>\n<h3>Example 2 (Works)</h3>\n<pre class=\"lang-java prettyprint-override\"><code>    FileHandler() throws IOException, JDOMException {\n\n        Path settingsPath = Paths.get(&quot;res/settings/settings.xml&quot;);\n        File settingsFile = settingsPath.toFile();\n        boolean settingsExist = settingsFile.createNewFile();\n        settingsWriter = Channels.newWriter(\n              FileChannel.open(settingsPath, StandardOpenOption.WRITE),\n              StandardCharsets.UTF_8);\n        xmlOutput = new XMLOutputter();\n        xmlOutput.setFormat(Format.getPrettyFormat());\n\n        if (settingsExist) createSettings();\n\n        SAXBuilder saxBuilder = new SAXBuilder();\n        settingsDoc = saxBuilder.build(settingsFile);\n        settingsElement = settingsDoc.getRootElement();\n\n        setElementValue(&quot;start-rest&quot;, &quot;2&quot;);\n    }\n</code></pre>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;settings&gt;\n  &lt;time&gt;\n    &lt;time-work&gt;25&lt;/time-work&gt;\n    &lt;time-break&gt;5&lt;/time-break&gt;\n    &lt;time-rest&gt;15&lt;/time-rest&gt;\n    &lt;time-interval&gt;3&lt;/time-interval&gt;\n  &lt;/time&gt;\n  &lt;auto-start&gt;\n    &lt;start-work&gt;true&lt;/start-work&gt;\n    &lt;start-break&gt;true&lt;/start-break&gt;\n    &lt;start-rest&gt;2&lt;/start-rest&gt;\n  &lt;/auto-start&gt;\n&lt;/settings&gt;\n</code></pre>\n<h3>Example 3 (Fail)</h3>\n<pre class=\"lang-java prettyprint-override\"><code>    FileHandler() throws IOException, JDOMException {\n\n        Path settingsPath = Paths.get(&quot;res/settings/settings.xml&quot;);\n        File settingsFile = settingsPath.toFile();\n        boolean settingsExist = settingsFile.createNewFile();\n        settingsWriter = Channels.newWriter(\n              FileChannel.open(settingsPath, StandardOpenOption.WRITE),\n              StandardCharsets.UTF_8);\n        xmlOutput = new XMLOutputter();\n        xmlOutput.setFormat(Format.getPrettyFormat());\n\n        if (settingsExist) createSettings();\n\n        SAXBuilder saxBuilder = new SAXBuilder();\n        settingsDoc = saxBuilder.build(settingsFile);\n        settingsElement = settingsDoc.getRootElement();\n\n        setElementValue(&quot;time-work&quot;, &quot;5&quot;);\n        setElementValue(&quot;time-work&quot;, &quot;10&quot;);\n        setElementValue(&quot;time-work&quot;, &quot;30&quot;);\n    }\n</code></pre>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;settings&gt;\n  &lt;time&gt;\n    &lt;time-work&gt;5&lt;/time-work&gt;\n    &lt;time-break&gt;5&lt;/time-break&gt;\n    &lt;time-rest&gt;15&lt;/time-rest&gt;\n    &lt;time-interval&gt;3&lt;/time-interval&gt;\n  &lt;/time&gt;\n  &lt;auto-start&gt;\n    &lt;start-work&gt;true&lt;/start-work&gt;\n    &lt;start-break&gt;true&lt;/start-break&gt;\n    &lt;start-rest&gt;true&lt;/start-rest&gt;\n  &lt;/auto-start&gt;\n&lt;/settings&gt;\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;settings&gt;\n  &lt;time&gt;\n    &lt;time-work&gt;10&lt;/time-work&gt;\n    &lt;time-break&gt;5&lt;/time-break&gt;\n    &lt;time-rest&gt;15&lt;/time-rest&gt;\n    &lt;time-interval&gt;3&lt;/time-interval&gt;\n  &lt;/time&gt;\n  &lt;auto-start&gt;\n    &lt;start-work&gt;true&lt;/start-work&gt;\n    &lt;start-break&gt;true&lt;/start-break&gt;\n    &lt;start-rest&gt;true&lt;/start-rest&gt;\n  &lt;/auto-start&gt;\n&lt;/settings&gt;\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;settings&gt;\n  &lt;time&gt;\n    &lt;time-work&gt;30&lt;/time-work&gt;\n    &lt;time-break&gt;5&lt;/time-break&gt;\n    &lt;time-rest&gt;15&lt;/time-rest&gt;\n    &lt;time-interval&gt;3&lt;/time-interval&gt;\n  &lt;/time&gt;\n  &lt;auto-start&gt;\n    &lt;start-work&gt;true&lt;/start-work&gt;\n    &lt;start-break&gt;true&lt;/start-break&gt;\n    &lt;start-rest&gt;true&lt;/start-rest&gt;\n  &lt;/auto-start&gt;\n&lt;/settings&gt;\n</code></pre>\n<h3>Example 4 (Fail)</h3>\n<pre class=\"lang-java prettyprint-override\"><code>    FileHandler() throws IOException, JDOMException {\n\n        Path settingsPath = Paths.get(&quot;res/settings/settings.xml&quot;);\n        File settingsFile = settingsPath.toFile();\n        boolean settingsExist = settingsFile.createNewFile();\n        settingsWriter = Channels.newWriter(\n              FileChannel.open(settingsPath, StandardOpenOption.WRITE),\n              StandardCharsets.UTF_8);\n        xmlOutput = new XMLOutputter();\n        xmlOutput.setFormat(Format.getPrettyFormat());\n\n        if (settingsExist) createSettings();\n\n        SAXBuilder saxBuilder = new SAXBuilder();\n        settingsDoc = saxBuilder.build(settingsFile);\n        settingsElement = settingsDoc.getRootElement();\n\n        setElementValue(&quot;time-work&quot;, &quot;5&quot;);\n        setElementValue(&quot;time-break&quot;, &quot;10&quot;);\n        setElementValue(&quot;time-rest&quot;, &quot;30&quot;);\n    }\n</code></pre>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;settings&gt;\n  &lt;time&gt;\n    &lt;time-work&gt;5&lt;/time-work&gt;\n    &lt;time-break&gt;5&lt;/time-break&gt;\n    &lt;time-rest&gt;15&lt;/time-rest&gt;\n    &lt;time-interval&gt;3&lt;/time-interval&gt;\n  &lt;/time&gt;\n  &lt;auto-start&gt;\n    &lt;start-work&gt;true&lt;/start-work&gt;\n    &lt;start-break&gt;true&lt;/start-break&gt;\n    &lt;start-rest&gt;true&lt;/start-rest&gt;\n  &lt;/auto-start&gt;\n&lt;/settings&gt;\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;settings&gt;\n  &lt;time&gt;\n    &lt;time-work&gt;5&lt;/time-work&gt;\n    &lt;time-break&gt;10&lt;/time-break&gt;\n    &lt;time-rest&gt;15&lt;/time-rest&gt;\n    &lt;time-interval&gt;3&lt;/time-interval&gt;\n  &lt;/time&gt;\n  &lt;auto-start&gt;\n    &lt;start-work&gt;true&lt;/start-work&gt;\n    &lt;start-break&gt;true&lt;/start-break&gt;\n    &lt;start-rest&gt;true&lt;/start-rest&gt;\n  &lt;/auto-start&gt;\n&lt;/settings&gt;\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;settings&gt;\n  &lt;time&gt;\n    &lt;time-work&gt;5&lt;/time-work&gt;\n    &lt;time-break&gt;10&lt;/time-break&gt;\n    &lt;time-rest&gt;30&lt;/time-rest&gt;\n    &lt;time-interval&gt;3&lt;/time-interval&gt;\n  &lt;/time&gt;\n  &lt;auto-start&gt;\n    &lt;start-work&gt;true&lt;/start-work&gt;\n    &lt;start-break&gt;true&lt;/start-break&gt;\n    &lt;start-rest&gt;true&lt;/start-rest&gt;\n  &lt;/auto-start&gt;\n&lt;/settings&gt;\n</code></pre>\n<h3>Example 5 (Fail)</h3>\n<pre class=\"lang-java prettyprint-override\"><code>    FileHandler() throws IOException, JDOMException {\n\n        Path settingsPath = Paths.get(&quot;res/settings/settings.xml&quot;);\n        File settingsFile = settingsPath.toFile();\n        boolean settingsExist = settingsFile.createNewFile();\n        settingsWriter = Channels.newWriter(\n              FileChannel.open(settingsPath, StandardOpenOption.WRITE),\n              StandardCharsets.UTF_8);\n        xmlOutput = new XMLOutputter();\n        xmlOutput.setFormat(Format.getPrettyFormat());\n\n        if (settingsExist) createSettings();\n\n        SAXBuilder saxBuilder = new SAXBuilder();\n        settingsDoc = saxBuilder.build(settingsFile);\n        settingsElement = settingsDoc.getRootElement();\n\n        setElementValue(&quot;time-work&quot;, &quot;5&quot;);\n        setElementValue(&quot;start-break&quot;, &quot;false&quot;);\n        setElementValue(&quot;time-interval&quot;, &quot;2&quot;);\n    }\n</code></pre>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;settings&gt;\n  &lt;time&gt;\n    &lt;time-work&gt;5&lt;/time-work&gt;\n    &lt;time-break&gt;5&lt;/time-break&gt;\n    &lt;time-rest&gt;15&lt;/time-rest&gt;\n    &lt;time-interval&gt;3&lt;/time-interval&gt;\n  &lt;/time&gt;\n  &lt;auto-start&gt;\n    &lt;start-work&gt;true&lt;/start-work&gt;\n    &lt;start-break&gt;true&lt;/start-break&gt;\n    &lt;start-rest&gt;true&lt;/start-rest&gt;\n  &lt;/auto-start&gt;\n&lt;/settings&gt;\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;settings&gt;\n  &lt;time&gt;\n    &lt;time-work&gt;5&lt;/time-work&gt;\n    &lt;time-break&gt;5&lt;/time-break&gt;\n    &lt;time-rest&gt;15&lt;/time-rest&gt;\n    &lt;time-interval&gt;3&lt;/time-interval&gt;\n  &lt;/time&gt;\n  &lt;auto-start&gt;\n    &lt;start-work&gt;true&lt;/start-work&gt;\n    &lt;start-break&gt;false&lt;/start-break&gt;\n    &lt;start-rest&gt;true&lt;/start-rest&gt;\n  &lt;/auto-start&gt;\n&lt;/settings&gt;\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;settings&gt;\n  &lt;time&gt;\n    &lt;time-work&gt;5&lt;/time-work&gt;\n    &lt;time-break&gt;5&lt;/time-break&gt;\n    &lt;time-rest&gt;15&lt;/time-rest&gt;\n    &lt;time-interval&gt;2&lt;/time-interval&gt;\n  &lt;/time&gt;\n  &lt;auto-start&gt;\n    &lt;start-work&gt;true&lt;/start-work&gt;\n    &lt;start-break&gt;false&lt;/start-break&gt;\n    &lt;start-rest&gt;true&lt;/start-rest&gt;\n  &lt;/auto-start&gt;\n&lt;/settings&gt;\n</code></pre>\n<h2>What I tried</h2>\n<p>Tried to close the writer and use re-building the &quot;<em>Document <strong>settingsDoc</strong></em>&quot; inside the function.</p>\n<p>Everything I tried ended in the same result, appending a new <em>XML</em> tree <strong>after overwriting just 1</strong>.</p>\n"},{"tags":["java","if-statement"],"comments":[{"owner":{"account_id":9725613,"reputation":53332,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":1,"creation_date":1668463154,"post_id":74438325,"comment_id":131406710,"body_markdown":"in each check the 3 others ?","body":"in each check the 3 others ?"},{"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"score":0,"creation_date":1668463340,"post_id":74438325,"comment_id":131406764,"body_markdown":"A static field that is incremented every time one of the appropriate setters is called, but only if the value passed to the setter is 0 and the value of the static field is less than 3?","body":"A static field that is incremented every time one of the appropriate setters is called, but only if the value passed to the setter is 0 and the value of the static field is less than 3?"},{"owner":{"account_id":1209109,"reputation":7934,"user_id":1178016,"accept_rate":73,"display_name":"xehpuk"},"score":1,"creation_date":1668463920,"post_id":74438325,"comment_id":131406940,"body_markdown":"So your `Marks` instance is in an invalid state after creation? Don&#39;t do this.","body":"So your <code>Marks</code> instance is in an invalid state after creation? Don&#39;t do this."},{"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"score":1,"creation_date":1668464095,"post_id":74438325,"comment_id":131406991,"body_markdown":"Also the design here seems weird to me, but I don&#39;t know if you did what you did due to further restrictions in the problem statement. It makes much more sense for the marks to be an attribute of the person. Because the way you&#39;re doing it now you can set marks for James, Peter, Rayn and Layla, but you&#39;ll need to modify your code if you later on want to be able to set marks for, say, Albert or Joanna.","body":"Also the design here seems weird to me, but I don&#39;t know if you did what you did due to further restrictions in the problem statement. It makes much more sense for the marks to be an attribute of the person. Because the way you&#39;re doing it now you can set marks for James, Peter, Rayn and Layla, but you&#39;ll need to modify your code if you later on want to be able to set marks for, say, Albert or Joanna."}],"owner":{"account_id":26809541,"reputation":25,"user_id":20400359,"display_name":"anyonymousgamer"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668463123,"creation_date":1668463094,"question_id":74438325,"body_markdown":"I&#39;m using 4 setter to allow user to set marks for 4 people as follows - \r\n\r\n```\r\nMarks marks = new Marks();\r\nmarks.setJames(1);\r\nmarks.setPeter(2);\r\nmarks.setRayn(3);\r\nmarks.setLayla(0);\r\n```\r\n\r\n\r\n**Problem Statement -**\r\n\r\n1. I want a scenario where the user can only provide 0 marks only upto 3 people but not 4.\r\n \r\n2. If user is trying to set 4th person with 0 marks after setting up 3 people&#39;s marks = 0 , then we need to throw an error of something like (Can&#39;t set 4 people to have 0 marks). \r\n\r\n3. How can I achieve this? I know this maybe a silly question but I&#39;m noob at java. Thanks in advance!\r\n","title":"How to allow only few setters to set value to zero in java using conditional statements?","body":"<p>I'm using 4 setter to allow user to set marks for 4 people as follows -</p>\n<pre><code>Marks marks = new Marks();\nmarks.setJames(1);\nmarks.setPeter(2);\nmarks.setRayn(3);\nmarks.setLayla(0);\n</code></pre>\n<p><strong>Problem Statement -</strong></p>\n<ol>\n<li><p>I want a scenario where the user can only provide 0 marks only upto 3 people but not 4.</p>\n</li>\n<li><p>If user is trying to set 4th person with 0 marks after setting up 3 people's marks = 0 , then we need to throw an error of something like (Can't set 4 people to have 0 marks).</p>\n</li>\n<li><p>How can I achieve this? I know this maybe a silly question but I'm noob at java. Thanks in advance!</p>\n</li>\n</ol>\n"},{"tags":["java","xml","spring","apache-camel"],"answers":[{"tags":[],"owner":{"account_id":179840,"reputation":22133,"user_id":412763,"accept_rate":91,"display_name":"Petter Nordlander"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1369888853,"creation_date":1369888853,"answer_id":16828062,"question_id":16823594,"body_markdown":"You need to preconfigure a set of SSLContextParameters and then you can add whichever certificate you want to the http endpoint. You can have a choice to route to different endpoints with different certificates.\r\n\r\nIt&#39;s described in the Camel docs [here][1]:\r\n\r\n\r\n  [1]: http://camel.apache.org/http4.html#HTTP4-SettingupSSLforHTTPClient","title":"Apache Camel, Client Certificates","body":"<p>You need to preconfigure a set of SSLContextParameters and then you can add whichever certificate you want to the http endpoint. You can have a choice to route to different endpoints with different certificates.</p>\n\n<p>It's described in the Camel docs <a href=\"http://camel.apache.org/http4.html#HTTP4-SettingupSSLforHTTPClient\" rel=\"nofollow\">here</a>:</p>\n"}],"owner":{"account_id":127394,"reputation":8714,"user_id":324516,"accept_rate":86,"display_name":"Ryan Ternier"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3825,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1668462264,"creation_date":1369860818,"question_id":16823594,"body_markdown":"I&#39;m trying to find an elegant way to attach client certificates through Apache Camel. It can either be in Java or Spring XML.\r\n\r\nThe servers I&#39;m sending to all have server cert&#39;s which would encrypt the traffic, but I need to attach the client public certificate to the message before sending. The server contains 15 or so certificates with their corresponding private keys.\r\n\r\nMy main configuration is written in Spring XML, so I&#39;m not sure how to get that working with adding client certificates.\r\n\r\n(I&#39;m a .NET guy with minimal java and 0 Linux experience)\r\n\r\nSample Spring:\r\n\r\n    &lt;camel:route&gt;          \r\n    \t&lt;camel:from uri=&quot;direct:GetEligibility&quot;/&gt;\r\n    \t&lt;camel:doTry&gt;                   \r\n    \t\t&lt;camel:choice&gt;\r\n    \t\t\t&lt;camel:when&gt;\r\n    \t\t\t\t&lt;camel:xpath&gt;count(//soapenv:Envelope) = &#39;0&#39;&lt;/camel:xpath&gt;\r\n    \t\t\t\t&lt;camel:to uri=&quot;xslt:xslt/WrapSoap.xsl&quot;/&gt;\r\n    \t\t\t&lt;/camel:when&gt;\r\n    \t\t&lt;/camel:choice&gt;   \r\n    \t\t&lt;camel:setHeader headerName=&quot;CamelHttpMethod&quot;&gt;\r\n    \t\t\t&lt;camel:constant&gt;POST&lt;/camel:constant&gt;\r\n    \t\t&lt;/camel:setHeader&gt;\r\n    \t\t\t\t\t\t\r\n    \t\t&lt;camel:setHeader headerName=&quot;Content-Type&quot;&gt;\r\n    \t\t\t&lt;camel:constant&gt;text/xml; charset=utf-8&lt;/camel:constant&gt;\r\n    \t\t&lt;/camel:setHeader&gt;     \r\n    \t\t\t   \r\n    \t\t&lt;camel:to uri=&quot;https://testsite.gov.ca/Services.Secured/FICR_AR022001.asmx&quot;/&gt;        \r\n    \t\t\t\t\t  \r\n    \t\t&lt;camel:doCatch&gt;\r\n    \t\t\t&lt;camel:exception&gt;java.lang.Exception&lt;/camel:exception&gt;\r\n    \t\t\t&lt;camel:bean ref=&quot;log&quot; method=&quot;error&quot;/&gt;\r\n    \t\t&lt;/camel:doCatch&gt;\r\n    \t&lt;/camel:doTry&gt;                \r\n    &lt;/camel:route&gt;    ","title":"Apache Camel, Client Certificates","body":"<p>I'm trying to find an elegant way to attach client certificates through Apache Camel. It can either be in Java or Spring XML.</p>\n\n<p>The servers I'm sending to all have server cert's which would encrypt the traffic, but I need to attach the client public certificate to the message before sending. The server contains 15 or so certificates with their corresponding private keys.</p>\n\n<p>My main configuration is written in Spring XML, so I'm not sure how to get that working with adding client certificates.</p>\n\n<p>(I'm a .NET guy with minimal java and 0 Linux experience)</p>\n\n<p>Sample Spring:</p>\n\n<pre><code>&lt;camel:route&gt;          \n    &lt;camel:from uri=\"direct:GetEligibility\"/&gt;\n    &lt;camel:doTry&gt;                   \n        &lt;camel:choice&gt;\n            &lt;camel:when&gt;\n                &lt;camel:xpath&gt;count(//soapenv:Envelope) = '0'&lt;/camel:xpath&gt;\n                &lt;camel:to uri=\"xslt:xslt/WrapSoap.xsl\"/&gt;\n            &lt;/camel:when&gt;\n        &lt;/camel:choice&gt;   \n        &lt;camel:setHeader headerName=\"CamelHttpMethod\"&gt;\n            &lt;camel:constant&gt;POST&lt;/camel:constant&gt;\n        &lt;/camel:setHeader&gt;\n\n        &lt;camel:setHeader headerName=\"Content-Type\"&gt;\n            &lt;camel:constant&gt;text/xml; charset=utf-8&lt;/camel:constant&gt;\n        &lt;/camel:setHeader&gt;     \n\n        &lt;camel:to uri=\"https://testsite.gov.ca/Services.Secured/FICR_AR022001.asmx\"/&gt;        \n\n        &lt;camel:doCatch&gt;\n            &lt;camel:exception&gt;java.lang.Exception&lt;/camel:exception&gt;\n            &lt;camel:bean ref=\"log\" method=\"error\"/&gt;\n        &lt;/camel:doCatch&gt;\n    &lt;/camel:doTry&gt;                \n&lt;/camel:route&gt;    \n</code></pre>\n"},{"tags":["java","spring-boot","rest"],"comments":[{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1668443485,"post_id":74434841,"comment_id":131400574,"body_markdown":"I think the question should explain a little more what &quot;filter&quot; means, exactly. You should also include the code for the `Provinces` class.","body":"I think the question should explain a little more what &quot;filter&quot; means, exactly. You should also include the code for the <code>Provinces</code> class."},{"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"score":0,"creation_date":1668443490,"post_id":74434841,"comment_id":131400576,"body_markdown":"I don&#39;t understand why you need a list of string to filter it. You can just filter on a list of Provinces as easily...","body":"I don&#39;t understand why you need a list of string to filter it. You can just filter on a list of Provinces as easily..."},{"owner":{"account_id":15650594,"reputation":43,"user_id":11292065,"display_name":"Bernardo Alves"},"score":0,"creation_date":1668443745,"post_id":74434841,"comment_id":131400680,"body_markdown":"@grekier I tried to but can&#39;t make it work and we have a code already working for string list.","body":"@grekier I tried to but can&#39;t make it work and we have a code already working for string list."},{"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"score":0,"creation_date":1668444077,"post_id":74434841,"comment_id":131400816,"body_markdown":"Please reformat and add `ProvincesData` as well. Also specify how you want the filter to work and we&#39;ll be able to provide it.","body":"Please reformat and add <code>ProvincesData</code> as well. Also specify how you want the filter to work and we&#39;ll be able to provide it."},{"owner":{"account_id":15650594,"reputation":43,"user_id":11292065,"display_name":"Bernardo Alves"},"score":0,"creation_date":1668445041,"post_id":74434841,"comment_id":131401158,"body_markdown":"@grekier I tried to be more specific. My filter will serve to print the List without dupes and to change the names that the original API has.","body":"@grekier I tried to be more specific. My filter will serve to print the List without dupes and to change the names that the original API has."}],"answers":[{"tags":[],"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668462244,"creation_date":1668462244,"answer_id":74438205,"question_id":74434841,"body_markdown":"Update your service to something like:\r\n```\r\npublic static Provinces restTemplateProvince(RestTemplate restTemplate) {\r\n  String ProvinceCommunityURL = &quot;https://www.el-tiempo.net/api/json/v2/provincias&quot;;\r\n  Provinces province = restTemplate.getForObject(ProvinceCommunityURL, Provinces.class);\r\n  List&lt;String&gt; included = new ArrayList&lt;&gt;();\r\n  List&lt;ProvincesData&gt; filtered = province.getprovinces()\r\n    .stream().filter(p -&gt; {\r\n      if (included.contains(p.getCodAuton())) {\r\n        return false;\r\n      } else {\r\n        included.add(p.getCodAuton());\r\n        return true;\r\n      }\r\n    })\r\n    .collect(Collectors.toList());\r\n  province.setprovinces(filtered);\r\n  return province;\r\n}\r\n```\r\nCould be done more efficiently but it is probably more readable like this.","title":"Creating a string list from RestTemplate","body":"<p>Update your service to something like:</p>\n<pre><code>public static Provinces restTemplateProvince(RestTemplate restTemplate) {\n  String ProvinceCommunityURL = &quot;https://www.el-tiempo.net/api/json/v2/provincias&quot;;\n  Provinces province = restTemplate.getForObject(ProvinceCommunityURL, Provinces.class);\n  List&lt;String&gt; included = new ArrayList&lt;&gt;();\n  List&lt;ProvincesData&gt; filtered = province.getprovinces()\n    .stream().filter(p -&gt; {\n      if (included.contains(p.getCodAuton())) {\n        return false;\n      } else {\n        included.add(p.getCodAuton());\n        return true;\n      }\n    })\n    .collect(Collectors.toList());\n  province.setprovinces(filtered);\n  return province;\n}\n</code></pre>\n<p>Could be done more efficiently but it is probably more readable like this.</p>\n"}],"owner":{"account_id":15650594,"reputation":43,"user_id":11292065,"display_name":"Bernardo Alves"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74438205,"answer_count":1,"score":0,"last_activity_date":1668462244,"creation_date":1668443264,"question_id":74434841,"body_markdown":"I am using `restTemplate` to retrieve data from a url, and I get it as a List of Objects but I need a List of Strings to be able to filter it (I want to remove duplicates and change some attribute names).\r\n\r\nThis is my Template:\r\n```java\r\npublic static Provinces restTemplateProvince(RestTemplate restTemplate) {\r\n\t\tString ProvinceCommunityURL = &quot;https://www.el-tiempo.net/api/json/v2/provincias&quot;;\r\n\r\n\t\tProvinces province = restTemplate.getForObject(ProvinceCommunityURL, Provinces.class);\r\n\r\n\t\treturn province;\r\n\t}\r\n```\r\nNow I want to filter this data and show it in my own API. I&#39;m able to show it with the following:\r\n\r\n```java\r\nRestController\r\npublic class ShowcaseController {\r\n\r\n\t@Autowired\r\n\tProvinceService provinceService;\r\n\r\n\t@GetMapping(&quot;/provinces&quot;)\r\n    public Provinces getAllProvinces(){\r\n\r\n\t  return provinceService.getAllProvinces(); \r\n\r\n\t}\r\n}\r\n```\r\n\r\n```java\r\n@Service\r\npublic class ProvinceService {\r\n\r\n\t@Autowired\r\n\tRestTemplate restTemplate;\r\n\r\n    public Provinces getAllProvinces(){\r\n        \r\n\t    Provinces listOfProvinces = Templates.restTemplateProvince(searchList);\r\n        return listOfProvinces;\r\n    }\r\n}\r\n```\r\nBut I can&#39;t filter it in this list type. \r\nHow could I do it?\r\n\r\nMy Province class:\r\n\r\n```java\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\npublic class Provinces {\r\n    \r\n    @JsonProperty(&quot;provincial&quot;)\r\n    private List&lt;ProvincesData&gt; provinces;\r\n\r\n    public Provinces(){}\r\n\r\n    public Provinces(List&lt;ProvincesData&gt; provinces) {\r\n\t    this.provinces = provinces;\r\n    }\r\n\r\n    @JsonProperty(&quot;provincial&quot;)\r\n    public List&lt;ProvincesData&gt; getprovinces() {\r\n\t    return provinces;\r\n    }\r\n\r\n    @JsonProperty(&quot;Test&quot;)\r\n    public void setprovinces(List&lt;ProvincesData&gt; provinces) {\r\n\t    this.provinces = provinces;\r\n    }\r\n\r\n}\r\n```\r\nAnd ProvinceData class:\r\n\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\npublic class ProvincesData {\r\n\r\n    @JsonProperty(&quot;CODPROV&quot;)\r\n    private String codProv;\r\n\r\n    @JsonProperty(&quot;NOMBRE_PROVINCIA&quot;)\r\n\tprivate String nomeProvincia;\r\n\r\n    @JsonProperty(&quot;CODAUTON&quot;)\r\n    private String codAuton;\r\n\r\n    @JsonProperty(&quot;COMUNIDAD_CIUDAD_AUTONOMA&quot;)\r\n\tprivate String comunidadeCidadeAutonoma;\r\n\r\n\tpublic ProvincesData(){\r\n\t}\r\n\r\n\tpublic ProvincesData(String codProv, String nomeProvincia, String codAuton, String comunidadeCidadeAutonoma){\r\n\t\t\r\n        this.codProv = codProv;\r\n\t\tthis.nomeProvincia = nomeProvincia;\r\n        this.codAuton = codAuton;\r\n        this.comunidadeCidadeAutonoma = comunidadeCidadeAutonoma; \r\n\t}\r\n \r\n    @JsonProperty(&quot;CODPROV&quot;)\r\n    public String getCodProv() {\r\n        return codProv;\r\n    }\r\n\r\n    @JsonProperty(&quot;Test&quot;)\r\n    public void setCodProv(String codProv) {\r\n        this.codProv = codProv;\r\n    }\r\n\r\n    public String getNomeProvincia() {\r\n        return nomeProvincia;\r\n    }\r\n\r\n    public void setNomeProvincia(String nomeProvincia) {\r\n        this.nomeProvincia = nomeProvincia;\r\n    }\r\n\r\n    public String getCodAuton() {\r\n        return codAuton;\r\n    }\r\n\r\n    public void setCodAuton(String codAuton) {\r\n        this.codAuton = codAuton;\r\n    }\r\n\r\n    public String getComunidadeCidadeAutonoma() {\r\n        return comunidadeCidadeAutonoma;\r\n    }\r\n\r\n    public void setComunidadeCidadeAutonoma(String comunidadeCidadeAutonoma) {\r\n        this.comunidadeCidadeAutonoma = comunidadeCidadeAutonoma;\r\n    }\r\n}\r\n\r\nThe filter to isolate the `codAuton` and `comunidadeCidadeAutonoma` columns without repeating. If possible, build a new list with only the data I want and change de variable name so that I can then show them in my API with different titles and such. \r\n\r\nRegards.\r\n\r\n\r\n\r\n","title":"Creating a string list from RestTemplate","body":"<p>I am using <code>restTemplate</code> to retrieve data from a url, and I get it as a List of Objects but I need a List of Strings to be able to filter it (I want to remove duplicates and change some attribute names).</p>\n<p>This is my Template:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Provinces restTemplateProvince(RestTemplate restTemplate) {\n        String ProvinceCommunityURL = &quot;https://www.el-tiempo.net/api/json/v2/provincias&quot;;\n\n        Provinces province = restTemplate.getForObject(ProvinceCommunityURL, Provinces.class);\n\n        return province;\n    }\n</code></pre>\n<p>Now I want to filter this data and show it in my own API. I'm able to show it with the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>RestController\npublic class ShowcaseController {\n\n    @Autowired\n    ProvinceService provinceService;\n\n    @GetMapping(&quot;/provinces&quot;)\n    public Provinces getAllProvinces(){\n\n      return provinceService.getAllProvinces(); \n\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class ProvinceService {\n\n    @Autowired\n    RestTemplate restTemplate;\n\n    public Provinces getAllProvinces(){\n        \n        Provinces listOfProvinces = Templates.restTemplateProvince(searchList);\n        return listOfProvinces;\n    }\n}\n</code></pre>\n<p>But I can't filter it in this list type.\nHow could I do it?</p>\n<p>My Province class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonIgnoreProperties(ignoreUnknown = true)\npublic class Provinces {\n    \n    @JsonProperty(&quot;provincial&quot;)\n    private List&lt;ProvincesData&gt; provinces;\n\n    public Provinces(){}\n\n    public Provinces(List&lt;ProvincesData&gt; provinces) {\n        this.provinces = provinces;\n    }\n\n    @JsonProperty(&quot;provincial&quot;)\n    public List&lt;ProvincesData&gt; getprovinces() {\n        return provinces;\n    }\n\n    @JsonProperty(&quot;Test&quot;)\n    public void setprovinces(List&lt;ProvincesData&gt; provinces) {\n        this.provinces = provinces;\n    }\n\n}\n</code></pre>\n<p>And ProvinceData class:</p>\n<pre><code>@JsonIgnoreProperties(ignoreUnknown = true)\n</code></pre>\n<p>public class ProvincesData {</p>\n<pre><code>@JsonProperty(&quot;CODPROV&quot;)\nprivate String codProv;\n\n@JsonProperty(&quot;NOMBRE_PROVINCIA&quot;)\nprivate String nomeProvincia;\n\n@JsonProperty(&quot;CODAUTON&quot;)\nprivate String codAuton;\n\n@JsonProperty(&quot;COMUNIDAD_CIUDAD_AUTONOMA&quot;)\nprivate String comunidadeCidadeAutonoma;\n\npublic ProvincesData(){\n}\n\npublic ProvincesData(String codProv, String nomeProvincia, String codAuton, String comunidadeCidadeAutonoma){\n    \n    this.codProv = codProv;\n    this.nomeProvincia = nomeProvincia;\n    this.codAuton = codAuton;\n    this.comunidadeCidadeAutonoma = comunidadeCidadeAutonoma; \n}\n\n@JsonProperty(&quot;CODPROV&quot;)\npublic String getCodProv() {\n    return codProv;\n}\n\n@JsonProperty(&quot;Test&quot;)\npublic void setCodProv(String codProv) {\n    this.codProv = codProv;\n}\n\npublic String getNomeProvincia() {\n    return nomeProvincia;\n}\n\npublic void setNomeProvincia(String nomeProvincia) {\n    this.nomeProvincia = nomeProvincia;\n}\n\npublic String getCodAuton() {\n    return codAuton;\n}\n\npublic void setCodAuton(String codAuton) {\n    this.codAuton = codAuton;\n}\n\npublic String getComunidadeCidadeAutonoma() {\n    return comunidadeCidadeAutonoma;\n}\n\npublic void setComunidadeCidadeAutonoma(String comunidadeCidadeAutonoma) {\n    this.comunidadeCidadeAutonoma = comunidadeCidadeAutonoma;\n}\n</code></pre>\n<p>}</p>\n<p>The filter to isolate the <code>codAuton</code> and <code>comunidadeCidadeAutonoma</code> columns without repeating. If possible, build a new list with only the data I want and change de variable name so that I can then show them in my API with different titles and such.</p>\n<p>Regards.</p>\n"},{"tags":["java","android","surfaceview"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1668462880,"post_id":74438184,"comment_id":131406634,"body_markdown":"I suggest that you edit your question and provide the *entire* stack trace, not just the first line.","body":"I suggest that you edit your question and provide the <i>entire</i> stack trace, not just the first line."},{"owner":{"account_id":26487448,"reputation":206,"user_id":20125791,"display_name":"Android Newbie A"},"score":0,"creation_date":1668476883,"post_id":74438184,"comment_id":131409503,"body_markdown":"I guess life cycle issue. You can&#39;t use the activity context until your activity created. (i.e., There is an instance variable which will use the activity context, which is not yet defined, &quot;MediaController mediaController = new MediaController(this){}&quot;) Also, there are lots of warning in the code so you shall probably take care of it.","body":"I guess life cycle issue. You can&#39;t use the activity context until your activity created. (i.e., There is an instance variable which will use the activity context, which is not yet defined, &quot;MediaController mediaController = new MediaController(this){}&quot;) Also, there are lots of warning in the code so you shall probably take care of it."},{"owner":{"account_id":26487448,"reputation":206,"user_id":20125791,"display_name":"Android Newbie A"},"score":0,"creation_date":1668477174,"post_id":74438184,"comment_id":131409528,"body_markdown":"But for dedicated issue you ask, it shall due to the mediaController there. Either init it in onCreate() method if you need to use in future or remove it if it is not used at all.","body":"But for dedicated issue you ask, it shall due to the mediaController there. Either init it in onCreate() method if you need to use in future or remove it if it is not used at all."},{"owner":{"account_id":18607870,"reputation":1,"user_id":13561069,"display_name":"applicationStarter"},"score":0,"creation_date":1668513169,"post_id":74438184,"comment_id":131418388,"body_markdown":"@CommonsWare Thanks for your comment. I&#39;ll refer your advise and will post with providing entire stack trace :)","body":"@CommonsWare Thanks for your comment. I&#39;ll refer your advise and will post with providing entire stack trace :)"},{"owner":{"account_id":18607870,"reputation":1,"user_id":13561069,"display_name":"applicationStarter"},"score":0,"creation_date":1668513236,"post_id":74438184,"comment_id":131418409,"body_markdown":"@AndroidNewbieA Yes! your mentions make it work!! So much thanks for your kind advise!","body":"@AndroidNewbieA Yes! your mentions make it work!! So much thanks for your kind advise!"}],"owner":{"account_id":18607870,"reputation":1,"user_id":13561069,"display_name":"applicationStarter"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668462153,"creation_date":1668462153,"question_id":74438184,"body_markdown":"I&#39;m trying to make a video player by using surfaceView and mediaplayer, mediacontroller.\r\nI understand the error is in instance in my code, however, don&#39;t know what point to make it fixed.\r\nRelated posts in Stackoverflow were seen though I cannot get the point because of my lack of understanding..\r\n\r\nPlease let me know which point I have to fix.\r\n\r\n\r\n```\r\njava.lang.RuntimeException: Unable to instantiate activity ComponentInfo{com.project.textureviewvideotest/com.project.textureviewvideotest.MainActivity}: java.lang.NullPointerException: Attempt to invoke virtual method &#39;android.content.res.Resources android.content.Context.getResources()&#39; on a null object reference\r\n```\r\n\r\n\r\nactivity_main.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    android:padding=&quot;8dp&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;SurfaceView\r\n        android:id=&quot;@+id/surfaceView&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_gravity=&quot;center&quot;\r\n        android:layout_alignParentTop=&quot;true&quot; /&gt;\r\n\r\n    &lt;FrameLayout\r\n        android:id=&quot;@+id/position_anchor&quot;\r\n        android:layout_width=&quot;2dp&quot;\r\n        android:layout_height=&quot;40dp&quot;\r\n        android:layout_below=&quot;@id/surfaceView&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;&gt;\r\n    &lt;/FrameLayout&gt;\r\n\r\n    &lt;Button\r\n        android:layout_width=&quot;100dp&quot;\r\n        android:layout_height=&quot;40dp&quot;\r\n        android:text=&quot;Play&quot;\r\n        android:id=&quot;@+id/play_btn&quot;\r\n        android:layout_alignBottom=&quot;@+id/position_anchor&quot;\r\n        android:layout_toStartOf=&quot;@+id/position_anchor&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:layout_width=&quot;100dp&quot;\r\n        android:layout_height=&quot;40dp&quot;\r\n        android:text=&quot;Stop&quot;\r\n        android:id=&quot;@+id/stop_btn&quot;\r\n        android:layout_alignBottom=&quot;@+id/position_anchor&quot;\r\n        android:layout_toEndOf=&quot;@+id/position_anchor&quot; /&gt;\r\n\r\n&lt;/RelativeLayout&gt;\r\n```\r\n\r\n\r\nMainActivity.java\r\n\r\n```\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.content.FileProvider;\r\n\r\nimport android.content.Context;\r\nimport android.content.res.AssetFileDescriptor;\r\nimport android.graphics.SurfaceTexture;\r\nimport android.media.AudioManager;\r\nimport android.media.MediaPlayer;\r\nimport android.net.Uri;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.os.Handler;\r\nimport android.util.Log;\r\nimport android.view.MotionEvent;\r\nimport android.view.Surface;\r\nimport android.view.SurfaceHolder;\r\nimport android.view.SurfaceView;\r\nimport android.view.TextureView;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.LinearLayout;\r\nimport android.widget.MediaController;\r\nimport android.widget.Toast;\r\n\r\npublic class MainActivity extends AppCompatActivity implements SurfaceHolder.Callback, MediaPlayer.OnPreparedListener, MediaController.MediaPlayerControl  {\r\n    public final static String TAG = &quot;MainActivity&quot;;\r\n\r\n    LinearLayout container;\r\n\r\n    SurfaceView surfaceView;\r\n    SurfaceHolder surfaceHolder;\r\n    MediaPlayer mediaPlayer;\r\n    Uri video_uri;\r\n    Button playButton;\r\n\r\n    MediaController mcontroller;\r\n    AssetFileDescriptor fileDescriptor;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        Context context;\r\n\r\n        video_uri = Uri.parse(&quot;android.resource://&quot; + getPackageName() + &quot;/&quot; + &quot;/raw/testvideo&quot;);\r\n\r\n\r\n        container = findViewById(R.id.container);\r\n\r\n        try{\r\n            mediaPlayer = new MediaPlayer();\r\n            mediaPlayer.setDataSource(this, video_uri);\r\n            surfaceView = findViewById(R.id.surfaceView);\r\n\r\n            surfaceHolder = surfaceView.getHolder();\r\n            surfaceHolder.addCallback(this);\r\n\r\n            playButton = findViewById(R.id.play_btn);\r\n            playButton.setOnClickListener(clickListener);\r\n\r\n            Button stopButton = findViewById(R.id.stop_btn);\r\n            stopButton.setOnClickListener(clickListener);\r\n        } catch(Exception e) {\r\n            Log.e(TAG, &quot;ERROR&quot;, e);\r\n        }\r\n    }\r\n\r\n    Button.OnClickListener clickListener = new View.OnClickListener() {\r\n        @Override\r\n        public void onClick(View v) {\r\n            if (v.getId() == R.id.play_btn) {\r\n                Log.i(&quot;main&quot;, &quot;play&quot;);\r\n                startOrPause();\r\n            } else if (v.getId() == R.id.stop_btn) {\r\n                stopNprepare();\r\n            }\r\n        }\r\n    };\r\n\r\n    @Override\r\n    public boolean onTouchEvent(MotionEvent event) {\r\n        mcontroller.show();\r\n        return false;\r\n    }\r\n\r\n    @Override\r\n    public void surfaceCreated(SurfaceHolder holder) {\r\n        Toast.makeText(getApplicationContext(),&quot;surfaceCreated&quot;,Toast.LENGTH_LONG).show();\r\n        mediaPlayer.setDisplay(holder);\r\n        try {\r\n\r\n\r\n            mediaPlayer.prepare();\r\n            mediaPlayer.setOnCompletionListener(completionListener);\r\n\r\n            mcontroller = new MediaController(this);\r\n            mediaPlayer.setOnPreparedListener(this);\r\n            mediaPlayer.setScreenOnWhilePlaying(true);\r\n            mediaPlayer.setAudioStreamType(AudioManager.STREAM_MUSIC);\r\n\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        mediaPlayer.start();\r\n    }\r\n\r\n    MediaPlayer.OnCompletionListener completionListener = new MediaPlayer.OnCompletionListener() {\r\n        \r\n        @Override\r\n        public void onCompletion(MediaPlayer mp) {\r\n            playButton.setText(&quot;Play&quot;);\r\n        }\r\n    };\r\n\r\n    @Override\r\n    public void surfaceChanged(SurfaceHolder holder, int format, int width, int height) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void surfaceDestroyed(SurfaceHolder holder) {\r\n        Toast.makeText(getApplicationContext(),&quot;surfaceDestroyed&quot;,Toast.LENGTH_LONG).show();\r\n\r\n    }\r\n\r\n\r\n    private void startOrPause() {\r\n        if (mediaPlayer.isPlaying()) {\r\n            mediaPlayer.pause();\r\n            playButton.setText(&quot;Play&quot;);\r\n        } else {\r\n            mediaPlayer.start();\r\n            playButton.setText(&quot;Pause&quot;);\r\n        }\r\n    }\r\n\r\n    private void stopNprepare() {\r\n        mediaPlayer.stop();\r\n        playButton.setText(&quot;Play&quot;);\r\n\r\n\r\n        try {\r\n            // mediaplayer 재생 준비\r\n            mediaPlayer.prepare();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void onDestroy() {\r\n        super.onDestroy();\r\n        if (mediaPlayer != null) {\r\n            mediaPlayer.release();\r\n        }\r\n    }\r\n\r\n    // Add implement methods to Override\r\n    MediaController mediaController = new MediaController(this){\r\n\r\n    };\r\n\r\n    @Override\r\n    public void start() {\r\n        mediaPlayer.start();\r\n    }\r\n\r\n    @Override\r\n    public void pause() {\r\n        mediaPlayer.pause();\r\n    }\r\n\r\n    @Override\r\n    public int getDuration() {\r\n        return mediaPlayer.getDuration();\r\n    }\r\n\r\n    @Override\r\n    public int getCurrentPosition() {\r\n        return mediaPlayer.getCurrentPosition();\r\n    }\r\n\r\n    @Override\r\n    public void seekTo(int i) {\r\n        mediaPlayer.seekTo(i);\r\n    }\r\n\r\n    @Override\r\n    public boolean isPlaying() {\r\n        return mediaPlayer.isPlaying();\r\n    }\r\n\r\n    @Override\r\n    public int getBufferPercentage() {\r\n        return 0;\r\n    }\r\n\r\n    @Override\r\n    public boolean canPause() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean canSeekBackward() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean canSeekForward() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public int getAudioSessionId() {\r\n        return 0;\r\n    }\r\n\r\n    Handler handler;    // android.os.Handler\r\n    @Override\r\n    public void onPrepared(MediaPlayer mp) {\r\n        mcontroller.setMediaPlayer(this);\r\n        mcontroller.setAnchorView(findViewById(R.id.surfaceView));\r\n        mcontroller.setEnabled(true);\r\n\r\n        handler = new Handler();\r\n        handler.post(new Runnable() {\r\n            public void run() {\r\n                mcontroller.show();\r\n            }\r\n        });\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n","title":"&#39;android.content.res.Resources android.content.Context.getResources()&#39; on a null object reference","body":"<p>I'm trying to make a video player by using surfaceView and mediaplayer, mediacontroller.\nI understand the error is in instance in my code, however, don't know what point to make it fixed.\nRelated posts in Stackoverflow were seen though I cannot get the point because of my lack of understanding..</p>\n<p>Please let me know which point I have to fix.</p>\n<pre><code>java.lang.RuntimeException: Unable to instantiate activity ComponentInfo{com.project.textureviewvideotest/com.project.textureviewvideotest.MainActivity}: java.lang.NullPointerException: Attempt to invoke virtual method 'android.content.res.Resources android.content.Context.getResources()' on a null object reference\n</code></pre>\n<p>activity_main.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot;\n    android:padding=&quot;8dp&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;SurfaceView\n        android:id=&quot;@+id/surfaceView&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_gravity=&quot;center&quot;\n        android:layout_alignParentTop=&quot;true&quot; /&gt;\n\n    &lt;FrameLayout\n        android:id=&quot;@+id/position_anchor&quot;\n        android:layout_width=&quot;2dp&quot;\n        android:layout_height=&quot;40dp&quot;\n        android:layout_below=&quot;@id/surfaceView&quot;\n        android:layout_centerHorizontal=&quot;true&quot;&gt;\n    &lt;/FrameLayout&gt;\n\n    &lt;Button\n        android:layout_width=&quot;100dp&quot;\n        android:layout_height=&quot;40dp&quot;\n        android:text=&quot;Play&quot;\n        android:id=&quot;@+id/play_btn&quot;\n        android:layout_alignBottom=&quot;@+id/position_anchor&quot;\n        android:layout_toStartOf=&quot;@+id/position_anchor&quot; /&gt;\n\n    &lt;Button\n        android:layout_width=&quot;100dp&quot;\n        android:layout_height=&quot;40dp&quot;\n        android:text=&quot;Stop&quot;\n        android:id=&quot;@+id/stop_btn&quot;\n        android:layout_alignBottom=&quot;@+id/position_anchor&quot;\n        android:layout_toEndOf=&quot;@+id/position_anchor&quot; /&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p>MainActivity.java</p>\n<pre><code>import androidx.appcompat.app.AppCompatActivity;\nimport androidx.core.content.FileProvider;\n\nimport android.content.Context;\nimport android.content.res.AssetFileDescriptor;\nimport android.graphics.SurfaceTexture;\nimport android.media.AudioManager;\nimport android.media.MediaPlayer;\nimport android.net.Uri;\nimport android.os.Build;\nimport android.os.Bundle;\nimport android.os.Handler;\nimport android.util.Log;\nimport android.view.MotionEvent;\nimport android.view.Surface;\nimport android.view.SurfaceHolder;\nimport android.view.SurfaceView;\nimport android.view.TextureView;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.LinearLayout;\nimport android.widget.MediaController;\nimport android.widget.Toast;\n\npublic class MainActivity extends AppCompatActivity implements SurfaceHolder.Callback, MediaPlayer.OnPreparedListener, MediaController.MediaPlayerControl  {\n    public final static String TAG = &quot;MainActivity&quot;;\n\n    LinearLayout container;\n\n    SurfaceView surfaceView;\n    SurfaceHolder surfaceHolder;\n    MediaPlayer mediaPlayer;\n    Uri video_uri;\n    Button playButton;\n\n    MediaController mcontroller;\n    AssetFileDescriptor fileDescriptor;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        Context context;\n\n        video_uri = Uri.parse(&quot;android.resource://&quot; + getPackageName() + &quot;/&quot; + &quot;/raw/testvideo&quot;);\n\n\n        container = findViewById(R.id.container);\n\n        try{\n            mediaPlayer = new MediaPlayer();\n            mediaPlayer.setDataSource(this, video_uri);\n            surfaceView = findViewById(R.id.surfaceView);\n\n            surfaceHolder = surfaceView.getHolder();\n            surfaceHolder.addCallback(this);\n\n            playButton = findViewById(R.id.play_btn);\n            playButton.setOnClickListener(clickListener);\n\n            Button stopButton = findViewById(R.id.stop_btn);\n            stopButton.setOnClickListener(clickListener);\n        } catch(Exception e) {\n            Log.e(TAG, &quot;ERROR&quot;, e);\n        }\n    }\n\n    Button.OnClickListener clickListener = new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            if (v.getId() == R.id.play_btn) {\n                Log.i(&quot;main&quot;, &quot;play&quot;);\n                startOrPause();\n            } else if (v.getId() == R.id.stop_btn) {\n                stopNprepare();\n            }\n        }\n    };\n\n    @Override\n    public boolean onTouchEvent(MotionEvent event) {\n        mcontroller.show();\n        return false;\n    }\n\n    @Override\n    public void surfaceCreated(SurfaceHolder holder) {\n        Toast.makeText(getApplicationContext(),&quot;surfaceCreated&quot;,Toast.LENGTH_LONG).show();\n        mediaPlayer.setDisplay(holder);\n        try {\n\n\n            mediaPlayer.prepare();\n            mediaPlayer.setOnCompletionListener(completionListener);\n\n            mcontroller = new MediaController(this);\n            mediaPlayer.setOnPreparedListener(this);\n            mediaPlayer.setScreenOnWhilePlaying(true);\n            mediaPlayer.setAudioStreamType(AudioManager.STREAM_MUSIC);\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n        mediaPlayer.start();\n    }\n\n    MediaPlayer.OnCompletionListener completionListener = new MediaPlayer.OnCompletionListener() {\n        \n        @Override\n        public void onCompletion(MediaPlayer mp) {\n            playButton.setText(&quot;Play&quot;);\n        }\n    };\n\n    @Override\n    public void surfaceChanged(SurfaceHolder holder, int format, int width, int height) {\n\n    }\n\n    @Override\n    public void surfaceDestroyed(SurfaceHolder holder) {\n        Toast.makeText(getApplicationContext(),&quot;surfaceDestroyed&quot;,Toast.LENGTH_LONG).show();\n\n    }\n\n\n    private void startOrPause() {\n        if (mediaPlayer.isPlaying()) {\n            mediaPlayer.pause();\n            playButton.setText(&quot;Play&quot;);\n        } else {\n            mediaPlayer.start();\n            playButton.setText(&quot;Pause&quot;);\n        }\n    }\n\n    private void stopNprepare() {\n        mediaPlayer.stop();\n        playButton.setText(&quot;Play&quot;);\n\n\n        try {\n            // mediaplayer 재생 준비\n            mediaPlayer.prepare();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    @Override\n    protected void onDestroy() {\n        super.onDestroy();\n        if (mediaPlayer != null) {\n            mediaPlayer.release();\n        }\n    }\n\n    // Add implement methods to Override\n    MediaController mediaController = new MediaController(this){\n\n    };\n\n    @Override\n    public void start() {\n        mediaPlayer.start();\n    }\n\n    @Override\n    public void pause() {\n        mediaPlayer.pause();\n    }\n\n    @Override\n    public int getDuration() {\n        return mediaPlayer.getDuration();\n    }\n\n    @Override\n    public int getCurrentPosition() {\n        return mediaPlayer.getCurrentPosition();\n    }\n\n    @Override\n    public void seekTo(int i) {\n        mediaPlayer.seekTo(i);\n    }\n\n    @Override\n    public boolean isPlaying() {\n        return mediaPlayer.isPlaying();\n    }\n\n    @Override\n    public int getBufferPercentage() {\n        return 0;\n    }\n\n    @Override\n    public boolean canPause() {\n        return true;\n    }\n\n    @Override\n    public boolean canSeekBackward() {\n        return true;\n    }\n\n    @Override\n    public boolean canSeekForward() {\n        return true;\n    }\n\n    @Override\n    public int getAudioSessionId() {\n        return 0;\n    }\n\n    Handler handler;    // android.os.Handler\n    @Override\n    public void onPrepared(MediaPlayer mp) {\n        mcontroller.setMediaPlayer(this);\n        mcontroller.setAnchorView(findViewById(R.id.surfaceView));\n        mcontroller.setEnabled(true);\n\n        handler = new Handler();\n        handler.post(new Runnable() {\n            public void run() {\n                mcontroller.show();\n            }\n        });\n    }\n\n}\n\n</code></pre>\n"},{"tags":["java","android","android-studio","kotlin"],"comments":[{"owner":{"account_id":238127,"reputation":86172,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":1,"creation_date":1668452783,"post_id":74436293,"comment_id":131403699,"body_markdown":"Search for &quot;singletons&quot; in android. This topic has been discussed here extensively.","body":"Search for &quot;singletons&quot; in android. This topic has been discussed here extensively."}],"answers":[{"tags":[],"owner":{"account_id":19088824,"reputation":50,"user_id":13939499,"display_name":"Parneet Raghuvanshi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668453616,"creation_date":1668453616,"answer_id":74436783,"question_id":74436293,"body_markdown":"Basically it&#39;s pretty simple.\r\n\r\nStep 1: Create a java class which extends the Application.\r\n\r\n    import android.app.Application;\r\n    \r\n    public class MyApplication extends Application {\r\n    \r\n        public String yourObj;\r\n    \r\n        public String getYourObj() {\r\n            return yourObj;\r\n        }\r\n    \r\n        public void setYourObj(String yourObj) {\r\n            this.yourObj = yourObj;\r\n        }\r\n    }\r\n\r\nStep 2: Define the Application name as your class.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        package=&quot;com.example.someProject&quot;&gt;\r\n\r\n        &lt;application\r\n            android:name=&quot;.MyApplication&quot;\r\n            android:allowBackup=&quot;true&quot;\r\n            android:icon=&quot;@mipmap/ic_launcher&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;&gt;\r\n            ...\r\n        &lt;/application&gt;\r\n    \r\n    &lt;/manifest&gt;\r\n\r\nHere add **android:name=&quot;.MyApplication&quot;** inside **\\&lt;application/&gt;** tag.\r\n\r\nStep 3: Now use this where you want inside your application.\r\n\r\n    ((MyApplication) getApplication()).setYourObj(&quot;...&quot;);\r\n    ((MyApplication) getApplication()).getYourObj();\r\n\r\nThat&#39;s it :)","title":"is possible to keep an object across all the activities/fragment?","body":"<p>Basically it's pretty simple.</p>\n<p>Step 1: Create a java class which extends the Application.</p>\n<pre><code>import android.app.Application;\n\npublic class MyApplication extends Application {\n\n    public String yourObj;\n\n    public String getYourObj() {\n        return yourObj;\n    }\n\n    public void setYourObj(String yourObj) {\n        this.yourObj = yourObj;\n    }\n}\n</code></pre>\n<p>Step 2: Define the Application name as your class.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;com.example.someProject&quot;&gt;\n\n    &lt;application\n        android:name=&quot;.MyApplication&quot;\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;&gt;\n        ...\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p>Here add <strong>android:name=&quot;.MyApplication&quot;</strong> inside <strong>&lt;application/&gt;</strong> tag.</p>\n<p>Step 3: Now use this where you want inside your application.</p>\n<pre><code>((MyApplication) getApplication()).setYourObj(&quot;...&quot;);\n((MyApplication) getApplication()).getYourObj();\n</code></pre>\n<p>That's it :)</p>\n"},{"comments":[{"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"score":0,"creation_date":1668464810,"post_id":74438141,"comment_id":131407177,"body_markdown":"You can just use `object` instead of a companion object inside a class, so `object ApplicationData` or something. `object` is like a class that there&#39;s only one instance of, so it acts as a singleton","body":"You can just use <code>object</code> instead of a companion object inside a class, so <code>object ApplicationData</code> or something. <code>object</code> is like a class that there&#39;s only one instance of, so it acts as a singleton"},{"owner":{"account_id":26177241,"reputation":35,"user_id":19861170,"display_name":"OVO Cuenta"},"score":0,"creation_date":1668524697,"post_id":74438141,"comment_id":131423172,"body_markdown":"oh ! ill search about that , thanks!","body":"oh ! ill search about that , thanks!"}],"tags":[],"owner":{"account_id":26177241,"reputation":35,"user_id":19861170,"display_name":"OVO Cuenta"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1668461933,"creation_date":1668461933,"answer_id":74438141,"question_id":74436293,"body_markdown":"I ended using something similar to an static var, but there is no static var in kotlin, so i used companion objects, it can store a variable perfectly :)\r\n\r\n    class ApplicationData {\r\n       companion object {\r\n          var string:String? =null\r\n       }\r\n     }\r\nand its called from any activity or fragment as follows: \r\nApplicationData.string = &quot;Hi, im a string&quot;","title":"is possible to keep an object across all the activities/fragment?","body":"<p>I ended using something similar to an static var, but there is no static var in kotlin, so i used companion objects, it can store a variable perfectly :)</p>\n<pre><code>class ApplicationData {\n   companion object {\n      var string:String? =null\n   }\n }\n</code></pre>\n<p>and its called from any activity or fragment as follows:\nApplicationData.string = &quot;Hi, im a string&quot;</p>\n"}],"owner":{"account_id":26177241,"reputation":35,"user_id":19861170,"display_name":"OVO Cuenta"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1668461933,"creation_date":1668450731,"question_id":74436293,"body_markdown":"i would like to have a &quot;global&quot; object that persist in the application, even when you start other activity or fragment, its kind of annoying to use a bundle to pass the same elements in the app. Maybe with viewmodels? i dont know too much about that , so it would be handy if you give me an example or some guidance in this subject. Thank you in advance:)","title":"is possible to keep an object across all the activities/fragment?","body":"<p>i would like to have a &quot;global&quot; object that persist in the application, even when you start other activity or fragment, its kind of annoying to use a bundle to pass the same elements in the app. Maybe with viewmodels? i dont know too much about that , so it would be handy if you give me an example or some guidance in this subject. Thank you in advance:)</p>\n"},{"tags":["java","arrays","list","loops"],"comments":[{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1667825733,"post_id":74346858,"comment_id":131252799,"body_markdown":"You are missing the case of equal list sizes. You can change one if() condition to &gt;= and drop the other if() condition (keeping the else). Aside from that, an actual use case would be helpful.","body":"You are missing the case of equal list sizes. You can change one if() condition to &gt;= and drop the other if() condition (keeping the else). Aside from that, an actual use case would be helpful."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1667826334,"post_id":74346858,"comment_id":131253041,"body_markdown":"Without other information, this looks warbled together. When the lists would be sorted, when you do some kind of merging. When the lists actually could have been Sets.","body":"Without other information, this looks warbled together. When the lists would be sorted, when you do some kind of merging. When the lists actually could have been Sets."},{"owner":{"account_id":10290358,"reputation":137,"user_id":7592295,"accept_rate":0,"display_name":"poojay"},"score":1,"creation_date":1667831529,"post_id":74346858,"comment_id":131255032,"body_markdown":"@ChristophDahlen added some description of use cases. hope its clear","body":"@ChristophDahlen added some description of use cases. hope its clear"},{"owner":{"account_id":10759610,"reputation":12648,"user_id":7916438,"display_name":"tevemadar"},"score":0,"creation_date":1667831905,"post_id":74346858,"comment_id":131255198,"body_markdown":"You have nested loops, if one list has 4 entries and the other one has 3, the &quot;do something&quot; part will run 4*3 times. Similarly in the file-listing example: you will go through the entire list of `bscsDirectory` for every element of `brmDirectory`. So far it doesn&#39;t matter which one is the shorter or longer, 3*4 and 4*3 are both 12. Of course there&#39;s a chance that you don&#39;t want that 12, but it&#39;s unclear what you want to achieve here.","body":"You have nested loops, if one list has 4 entries and the other one has 3, the &quot;do something&quot; part will run 4*3 times. Similarly in the file-listing example: you will go through the entire list of <code>bscsDirectory</code> for every element of <code>brmDirectory</code>. So far it doesn&#39;t matter which one is the shorter or longer, 3*4 and 4*3 are both 12. Of course there&#39;s a chance that you don&#39;t want that 12, but it&#39;s unclear what you want to achieve here."},{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1667832383,"post_id":74346858,"comment_id":131255420,"body_markdown":"&quot;if a data is not found in 1 of the list, will still process the 2 lists.&quot; - sound like both lists could be processed independently. Nesting the loops of list A and list B only makes sense, if the consequenting action depends on A *and* B.","body":"&quot;if a data is not found in 1 of the list, will still process the 2 lists.&quot; - sound like both lists could be processed independently. Nesting the loops of list A and list B only makes sense, if the consequenting action depends on A <i>and</i> B."},{"owner":{"account_id":10290358,"reputation":137,"user_id":7592295,"accept_rate":0,"display_name":"poojay"},"score":0,"creation_date":1667833386,"post_id":74346858,"comment_id":131255810,"body_markdown":"@tevemadar I have updated the thread. not sure if im understanding nested loop correctly.","body":"@tevemadar I have updated the thread. not sure if im understanding nested loop correctly."},{"owner":{"account_id":10290358,"reputation":137,"user_id":7592295,"accept_rate":0,"display_name":"poojay"},"score":0,"creation_date":1667833496,"post_id":74346858,"comment_id":131255858,"body_markdown":"@ChristophDahlen yes. my question is either List A or List B will have greater size, but i need to loop them together to check if the records exists in either List or not.","body":"@ChristophDahlen yes. my question is either List A or List B will have greater size, but i need to loop them together to check if the records exists in either List or not."}],"answers":[{"tags":[],"owner":{"account_id":24620294,"reputation":1,"user_id":18520765,"display_name":"StUcK iN a BoOk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668461550,"creation_date":1667826787,"answer_id":74347176,"question_id":74346858,"body_markdown":"Your code is alright, but you could always use a `switch` statement instead of an `if` statement like so:\r\n\r\n```\r\nswitch(listsA.size() &gt; listsB.size){\r\n  //case1 true:\r\n    //do something\r\n  ...   \r\n\r\n}\r\n```","title":"Looping 2 Lists based on greater size","body":"<p>Your code is alright, but you could always use a <code>switch</code> statement instead of an <code>if</code> statement like so:</p>\n<pre><code>switch(listsA.size() &gt; listsB.size){\n  //case1 true:\n    //do something\n  ...   \n\n}\n</code></pre>\n"}],"owner":{"account_id":10290358,"reputation":137,"user_id":7592295,"accept_rate":0,"display_name":"poojay"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1668461550,"creation_date":1667825283,"question_id":74346858,"body_markdown":"Are there any way to loop 2 lists based on greater size ? Reason being some records in either lists might not be exists in the other list, but i still need to insert it into a table\r\n\r\nFor example Lists A size is 6, Lists B size is 10, or vice versa\r\n\r\nmy method is this, but i think is not efficient enough\r\n\r\n    if(listsA.size() &gt; listsB.size) {\r\n    \tfor(int i = 0; i &lt; listsA.size(); i ++) {\r\n    \t\tfor(int j = 0; i &lt; listsB.size(); j ++) {\r\n    \t\t\t//do something\r\n    \t\t}\r\n    \t}\r\n    }else if(listsA.size() &lt; listsB.size) {\r\n    \tfor(int i = 0; i &lt; listsB.size(); i ++) {\r\n    \t\tfor(int j = 0; i &lt; listsA.size(); j ++) {\r\n    \t\t\t//do something\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n\r\nEDITED : use cases would be like comparing 2 files from 2 different folder and generate a report summary. if a file is in folder A, but not in folder B, will still generate report.\r\n\r\n    for(File brmFile:brmDirectory.listFiles()) {\r\n    \tfor(File bscsFile:bscsDirectory.listFiles()) {\r\n    \t\t//do something\r\n    \t}\r\n    }\r\n\r\nor comparing 2 sets of data.  if a data is not found in 1 of the list, will still process the 2 lists.\r\n\r\n\r\n\r\n[UPDATED] : lists example\r\n\r\nList A : [Type : Type A, Amount : 5], [Type : Type B, Amount : 10]\r\n\r\nList B : [Type : Type A, Amount : 5], [Type : Type B, Amount : 10], [Type :  Type C, Amount : 7]\r\n\r\nif my understanding of nested loop is correct, if i do the below code\r\n\r\n    for(int i = 0; i &lt; listsA.size(); i ++) {\r\n        for(int j = 0; i &lt; listsB.size(); j ++) {\r\n            //do something\r\n        }\r\n    }\r\n\r\n\r\n3rd Element of List B will be skipped right ? since List A will loop twice only, and loop List B 3 times to search for List A elements\r\n","title":"Looping 2 Lists based on greater size","body":"<p>Are there any way to loop 2 lists based on greater size ? Reason being some records in either lists might not be exists in the other list, but i still need to insert it into a table</p>\n<p>For example Lists A size is 6, Lists B size is 10, or vice versa</p>\n<p>my method is this, but i think is not efficient enough</p>\n<pre><code>if(listsA.size() &gt; listsB.size) {\n    for(int i = 0; i &lt; listsA.size(); i ++) {\n        for(int j = 0; i &lt; listsB.size(); j ++) {\n            //do something\n        }\n    }\n}else if(listsA.size() &lt; listsB.size) {\n    for(int i = 0; i &lt; listsB.size(); i ++) {\n        for(int j = 0; i &lt; listsA.size(); j ++) {\n            //do something\n        }\n    }\n}\n</code></pre>\n<p>EDITED : use cases would be like comparing 2 files from 2 different folder and generate a report summary. if a file is in folder A, but not in folder B, will still generate report.</p>\n<pre><code>for(File brmFile:brmDirectory.listFiles()) {\n    for(File bscsFile:bscsDirectory.listFiles()) {\n        //do something\n    }\n}\n</code></pre>\n<p>or comparing 2 sets of data.  if a data is not found in 1 of the list, will still process the 2 lists.</p>\n<p>[UPDATED] : lists example</p>\n<p>List A : [Type : Type A, Amount : 5], [Type : Type B, Amount : 10]</p>\n<p>List B : [Type : Type A, Amount : 5], [Type : Type B, Amount : 10], [Type :  Type C, Amount : 7]</p>\n<p>if my understanding of nested loop is correct, if i do the below code</p>\n<pre><code>for(int i = 0; i &lt; listsA.size(); i ++) {\n    for(int j = 0; i &lt; listsB.size(); j ++) {\n        //do something\n    }\n}\n</code></pre>\n<p>3rd Element of List B will be skipped right ? since List A will loop twice only, and loop List B 3 times to search for List A elements</p>\n"},{"tags":["java"],"comments":[{"owner":{"display_name":"user10316640"},"score":0,"creation_date":1668385149,"post_id":74425757,"comment_id":131385730,"body_markdown":"Pattern detection is the key to software development, the other half is identification of problems that the existing solutions fit. Either you have it or you don&#39;t, but, It can be learned with intense study.","body":"Pattern detection is the key to software development, the other half is identification of problems that the existing solutions fit. Either you have it or you don&#39;t, but, It can be learned with intense study."},{"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"score":0,"creation_date":1668458278,"post_id":74425757,"comment_id":131405317,"body_markdown":"The instructions say: &quot;Complete the method drawTriangle by filling in the blank with the missing code. Do not change any other part of the method.&quot; Can we see the original code with the blanks?...or did you write a solution completely from scratch?","body":"The instructions say: &quot;Complete the method drawTriangle by filling in the blank with the missing code. Do not change any other part of the method.&quot; Can we see the original code with the blanks?...or did you write a solution completely from scratch?"}],"answers":[{"tags":[],"owner":{"account_id":26876381,"reputation":86,"user_id":20457576,"display_name":"Dinuka Silva"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668456962,"creation_date":1668456962,"answer_id":74437340,"question_id":74425757,"body_markdown":"I try this . I think this example will help you somehow.\r\n\r\n    public static void drawTriangle(int width) {\r\n        int rows ;\r\n        if(width % 2 == 0){\r\n            rows = width/2;\r\n        }else{\r\n            rows = (width+1)/2;\r\n        }\r\n\r\n        for (int i=rows; i&gt;= 1 ; i--) {\r\n            for (int j = i; j &lt; rows ; j++) {\r\n                System.out.print(&quot;_&quot;);\r\n            }\r\n            for (int k = 1; k &lt;= (2*i -1) ;k++) {\r\n                if( k==1 || i == rows || k==(2*i-1)) {\r\n                    System.out.print(&quot;*&quot;);\r\n                }\r\n                else {\r\n                    System.out.print(&quot;_&quot;);\r\n                }\r\n            }\r\n            for (int y = rows; y &gt; i ; y--) {\r\n                System.out.print(&quot;_&quot;);\r\n            }\r\n            System.out.println(&quot;&quot;);\r\n        }\r\n    }","title":"How to Identify Patterns for Print Loops","body":"<p>I try this . I think this example will help you somehow.</p>\n<pre><code>public static void drawTriangle(int width) {\n    int rows ;\n    if(width % 2 == 0){\n        rows = width/2;\n    }else{\n        rows = (width+1)/2;\n    }\n\n    for (int i=rows; i&gt;= 1 ; i--) {\n        for (int j = i; j &lt; rows ; j++) {\n            System.out.print(&quot;_&quot;);\n        }\n        for (int k = 1; k &lt;= (2*i -1) ;k++) {\n            if( k==1 || i == rows || k==(2*i-1)) {\n                System.out.print(&quot;*&quot;);\n            }\n            else {\n                System.out.print(&quot;_&quot;);\n            }\n        }\n        for (int y = rows; y &gt; i ; y--) {\n            System.out.print(&quot;_&quot;);\n        }\n        System.out.println(&quot;&quot;);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668461494,"creation_date":1668461494,"answer_id":74438070,"question_id":74425757,"body_markdown":"Here&#39;s my version:\r\n\r\n    class Main {\r\n      \r\n      public static void main(String[] args) {\r\n        for(int i=1; i&lt;=8; i++) {\r\n          System.out.println(i + &quot;:&quot;);\r\n          drawTriangle(i);\r\n          System.out.println();\r\n        }\r\n      }\r\n    \r\n      public static void drawTriangle(int width) {\r\n        for(int left=0, right=(width-1); left&lt;=right; left++, right--) {\r\n          for(int col=0; col&lt;width; col++) {\r\n            System.out.print((left==0 || col==left || col==right) ? &quot;*&quot; : &quot;-&quot;);\r\n          }\r\n          System.out.println();\r\n        }\r\n      }\r\n      \r\n    }\r\n\r\nProducing:\r\n\r\n    1:\r\n    *\r\n    \r\n    2:\r\n    **\r\n    \r\n    3:\r\n    ***\r\n    -*-\r\n    \r\n    4:\r\n    ****\r\n    -**-\r\n    \r\n    5:\r\n    *****\r\n    -*-*-\r\n    --*--\r\n    \r\n    6:\r\n    ******\r\n    -*--*-\r\n    --**--\r\n    \r\n    7:\r\n    *******\r\n    -*---*-\r\n    --*-*--\r\n    ---*---\r\n    \r\n    8:\r\n    ********\r\n    -*----*-\r\n    --*--*--\r\n    ---**---","title":"How to Identify Patterns for Print Loops","body":"<p>Here's my version:</p>\n<pre><code>class Main {\n  \n  public static void main(String[] args) {\n    for(int i=1; i&lt;=8; i++) {\n      System.out.println(i + &quot;:&quot;);\n      drawTriangle(i);\n      System.out.println();\n    }\n  }\n\n  public static void drawTriangle(int width) {\n    for(int left=0, right=(width-1); left&lt;=right; left++, right--) {\n      for(int col=0; col&lt;width; col++) {\n        System.out.print((left==0 || col==left || col==right) ? &quot;*&quot; : &quot;-&quot;);\n      }\n      System.out.println();\n    }\n  }\n  \n}\n</code></pre>\n<p>Producing:</p>\n<pre><code>1:\n*\n\n2:\n**\n\n3:\n***\n-*-\n\n4:\n****\n-**-\n\n5:\n*****\n-*-*-\n--*--\n\n6:\n******\n-*--*-\n--**--\n\n7:\n*******\n-*---*-\n--*-*--\n---*---\n\n8:\n********\n-*----*-\n--*--*--\n---**---\n</code></pre>\n"}],"owner":{"display_name":"user20146539"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1668461494,"creation_date":1668384224,"question_id":74425757,"body_markdown":"I am a student and I have a test coming up where I strongly believe that there is going to be at least one question about print loops. I understand the general idea behind them but I have a hard time finding the necessary patterns to solve the problem completely. For example:\r\n\r\n \r\n[![Sorry for bad screen shot not sure why that is happening][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2ipFc.png\r\n\r\n\r\n\r\nto solve this problem I have the following code:\r\n\r\n        public static void drawTriangle(int width)\r\n    {\r\n        for (int r = 1; r &lt;= (width + 1) / 2; r++)\r\n        {\r\n            for (int c = 1; c &lt;= width; c++)\r\n            {\r\n                if (r == 1 || c == r)\r\n                {\r\n                    System.out.println(&quot;*&quot;);\r\n                    } else {\r\n                    System.out.println(&quot;_&quot;);\r\n                }\r\n            }\r\n            System.out.println();\r\n        }\r\n    }\r\n\r\n\r\nThis is what I have so far which is almost correct but I am missing r+c == width + 1. I know that this is the code to form the side of the triangle going up. My problem is that I did not or rather could not recognize that I needed this part in the solution. Is there any tips that anybody has for identifying these patterns?","title":"How to Identify Patterns for Print Loops","body":"<p>I am a student and I have a test coming up where I strongly believe that there is going to be at least one question about print loops. I understand the general idea behind them but I have a hard time finding the necessary patterns to solve the problem completely. For example:</p>\n<p><a href=\"https://i.stack.imgur.com/2ipFc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2ipFc.png\" alt=\"Sorry for bad screen shot not sure why that is happening\" /></a></p>\n<p>to solve this problem I have the following code:</p>\n<pre><code>    public static void drawTriangle(int width)\n{\n    for (int r = 1; r &lt;= (width + 1) / 2; r++)\n    {\n        for (int c = 1; c &lt;= width; c++)\n        {\n            if (r == 1 || c == r)\n            {\n                System.out.println(&quot;*&quot;);\n                } else {\n                System.out.println(&quot;_&quot;);\n            }\n        }\n        System.out.println();\n    }\n}\n</code></pre>\n<p>This is what I have so far which is almost correct but I am missing r+c == width + 1. I know that this is the code to form the side of the triangle going up. My problem is that I did not or rather could not recognize that I needed this part in the solution. Is there any tips that anybody has for identifying these patterns?</p>\n"},{"tags":["java","selenium","selenium-chromedriver"],"answers":[{"comments":[{"owner":{"display_name":"user6340746"},"score":0,"creation_date":1469627425,"post_id":38612347,"comment_id":64615955,"body_markdown":"Unfortunately that doesn&#39;t fit with:\n\n    capabilities.setCapability(ChromeOptions.CAPABILITY, mobileOptions);\n\nAs I need to pass the mobileEmulation value along with the arguments.","body":"Unfortunately that doesn&#39;t fit with:      capabilities.setCapability(ChromeOptions.CAPABILITY, mobileOptions);  As I need to pass the mobileEmulation value along with the arguments."}],"tags":[],"owner":{"account_id":1068022,"reputation":1807,"user_id":1068013,"display_name":"Yan Pak"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1469620811,"creation_date":1469620811,"answer_id":38612347,"question_id":38612157,"body_markdown":"May be you can do it so: \r\n\r\n    capabilities.setCapability(&quot;chrome.switches&quot;, Arrays.asList(&quot;--disable-extensions&quot;));\r\n\r\nHere was a similar answer https://stackoverflow.com/questions/14049151/how-to-disable-chrome-extension-in-selenium","title":"How do I add arguments to ChromeDriver while also using mobile emulation (Java)?","body":"<p>May be you can do it so: </p>\n\n<pre><code>capabilities.setCapability(\"chrome.switches\", Arrays.asList(\"--disable-extensions\"));\n</code></pre>\n\n<p>Here was a similar answer <a href=\"https://stackoverflow.com/questions/14049151/how-to-disable-chrome-extension-in-selenium\">how to disable chrome extension in selenium</a></p>\n"},{"tags":[],"owner":{"display_name":"user6340746"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1470212438,"creation_date":1470212438,"answer_id":38738187,"question_id":38612157,"body_markdown":"Got a solution =)\r\n\r\n(thanks to chromedriver-users google group):\r\n\r\n    DesiredCapabilities capabilities = DesiredCapabilities.chrome();\r\n\r\n    Map&lt;String, String&gt; mobileEmulation = new HashMap&lt;String, String&gt;();\r\n    mobileEmulation.put(&quot;deviceName&quot;, &quot;Apple iPhone 6&quot;);\r\n    Map&lt;String, Object&gt; mobileOptions = new HashMap&lt;String, Object&gt;();\r\n    mobileOptions.put(&quot;mobileEmulation&quot;, mobileEmulation);\r\n\r\n    mobileOptions.put(&quot;args&quot;, Arrays.asList(&quot;disable-extensions&quot;,\r\n    &quot;test-type&quot;, &quot;no-default-browser-check&quot;, &quot;ignore-certificate-errors&quot;));\r\n\r\n    capabilities.setCapability(ChromeOptions.CAPABILITY, mobileOptions);\r\n    driver = new RemoteWebDriver(service.getUrl(), capabilities);","title":"How do I add arguments to ChromeDriver while also using mobile emulation (Java)?","body":"<p>Got a solution =)</p>\n\n<p>(thanks to chromedriver-users google group):</p>\n\n<pre><code>DesiredCapabilities capabilities = DesiredCapabilities.chrome();\n\nMap&lt;String, String&gt; mobileEmulation = new HashMap&lt;String, String&gt;();\nmobileEmulation.put(\"deviceName\", \"Apple iPhone 6\");\nMap&lt;String, Object&gt; mobileOptions = new HashMap&lt;String, Object&gt;();\nmobileOptions.put(\"mobileEmulation\", mobileEmulation);\n\nmobileOptions.put(\"args\", Arrays.asList(\"disable-extensions\",\n\"test-type\", \"no-default-browser-check\", \"ignore-certificate-errors\"));\n\ncapabilities.setCapability(ChromeOptions.CAPABILITY, mobileOptions);\ndriver = new RemoteWebDriver(service.getUrl(), capabilities);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":253214,"reputation":19917,"user_id":531762,"accept_rate":82,"display_name":"Thunderforge"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1494519538,"creation_date":1494519538,"answer_id":43920832,"question_id":38612157,"body_markdown":"Use the setExperimentalOption() method for ChromeOptions\r\n----\r\n\r\nChromeOptions provides an method [setExperimentalOption(String name, Object value)][1]. This allows you to set a number of options, including the `mobileEmulation` parameters you have set.\r\n\r\nPutting your code together, you can use this:\r\n\r\n    DesiredCapabilities capabilities = DesiredCapabilities.chrome();\r\n    ChromeOptions chromeOptions= new ChromeOptions();\r\n\r\n    chromeOptions.addArguments(&quot;start-maximized&quot;, &quot;disable-extensions&quot;,\r\n    &quot;test-type&quot;, &quot;no-default-browser-check&quot;, &quot;ignore-certificate-errors&quot;);\r\n\r\n    Map&lt;String, String&gt; mobileEmulation = new HashMap&lt;String, String&gt;();\r\n    mobileEmulation.put(&quot;deviceName&quot;, &quot;Apple iPhone 6&quot;);\r\n    chromeOptions.setExperimentalOption(&quot;mobileEmulation&quot;, mobileEmulation);\r\n\r\n    capabilities.setCapability(ChromeOptions.CAPABILITY, chromeOptions);\r\n    driver = new RemoteWebDriver(service.getUrl(), capabilities);\r\n\r\n\r\n  [1]: https://seleniumhq.github.io/selenium/docs/api/java/org/openqa/selenium/chrome/ChromeOptions.html#setExperimentalOption-java.lang.String-java.lang.Object-","title":"How do I add arguments to ChromeDriver while also using mobile emulation (Java)?","body":"<h2>Use the setExperimentalOption() method for ChromeOptions</h2>\n\n<p>ChromeOptions provides an method <a href=\"https://seleniumhq.github.io/selenium/docs/api/java/org/openqa/selenium/chrome/ChromeOptions.html#setExperimentalOption-java.lang.String-java.lang.Object-\" rel=\"nofollow noreferrer\">setExperimentalOption(String name, Object value)</a>. This allows you to set a number of options, including the <code>mobileEmulation</code> parameters you have set.</p>\n\n<p>Putting your code together, you can use this:</p>\n\n<pre><code>DesiredCapabilities capabilities = DesiredCapabilities.chrome();\nChromeOptions chromeOptions= new ChromeOptions();\n\nchromeOptions.addArguments(\"start-maximized\", \"disable-extensions\",\n\"test-type\", \"no-default-browser-check\", \"ignore-certificate-errors\");\n\nMap&lt;String, String&gt; mobileEmulation = new HashMap&lt;String, String&gt;();\nmobileEmulation.put(\"deviceName\", \"Apple iPhone 6\");\nchromeOptions.setExperimentalOption(\"mobileEmulation\", mobileEmulation);\n\ncapabilities.setCapability(ChromeOptions.CAPABILITY, chromeOptions);\ndriver = new RemoteWebDriver(service.getUrl(), capabilities);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1668111813,"post_id":74351832,"comment_id":131333657,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/74351832/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":26859731,"reputation":1,"user_id":20443448,"display_name":"kaliiiiiiiii"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668461368,"creation_date":1667848742,"answer_id":74351832,"question_id":38612157,"body_markdown":"## You can use [Selenium_Profiles](https://github.com/kaliiiiiiiiii/Selenium-Profiles)\r\n\r\nThe Repository allows you to create a webdriver with specific device profiles.\r\n\r\n## Profile example:\r\n\r\n```\r\n{\r\n  &quot;device&quot;:{\r\n      &quot;mobile&quot;: false,\r\n      &quot;model&quot;: &quot;modelName&quot;,\r\n      &quot;language&quot;: &quot;de-CH,de;q=0.9&quot;,\r\n      &quot;touch_device&quot;: true,\r\n      &quot;maxtouchpoints&quot;: 5,\r\n      &quot;hardware_accel&quot;: false,\r\n      &quot;emulation&quot;: {&quot;width&quot;: 384, &quot;height&quot;: 700, &quot;deviceScaleFactor&quot;: 10,\r\n        &quot;screenOrientation&quot;: {&quot;type&quot;: &quot;portraitPrimary&quot;, &quot;angle&quot;: 0}},\r\n      &quot;agent_override&quot;: {\r\n                &quot;platform&quot;: &quot;Win32&quot;,\r\n                &quot;userAgent&quot;: &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/107.0.0.0 Safari/537.36&quot;,\r\n                &quot;userAgentMetadata&quot;: {\r\n                    &quot;brands&quot;: [{&quot;brand&quot;:&quot;Google Chrome&quot;,&quot;version&quot;:&quot;107&quot;},\r\n                              {&quot;brand&quot;:&quot;Chromium&quot;,&quot;version&quot;:&quot;107&quot;},\r\n                              {&quot;brand&quot;:&quot;Not=A?Brand&quot;,&quot;version&quot;:&quot;24&quot;}],\r\n                    &quot;fullVersionList&quot;: [{&quot;brand&quot;:&quot;Google Chrome&quot;,&quot;version&quot;:&quot;107.0.5304.88&quot;},\r\n                                        {&quot;brand&quot;:&quot;Chromium&quot;,&quot;version&quot;:&quot;107.0.5304.88&quot;},\r\n                                        {&quot;brand&quot;:&quot;Not=A?Brand&quot;,&quot;version&quot;:&quot;24.0.0.0&quot;}],\r\n                    &quot;fullVersion&quot;: &quot;107.0.5304.88&quot;,\r\n                    &quot;platform&quot;: &quot;Windows&quot;,\r\n                    &quot;platformVersion&quot;:&quot;10.0.0&quot;,\r\n                    &quot;architecture&quot;: &quot;x86&quot;,\r\n                    &quot;model&quot;: &quot;modelName&quot;,\r\n                    &quot;mobile&quot;: true,\r\n                    &quot;bitness&quot;: &quot;64&quot;,\r\n                    &quot;wow64&quot;: false}\r\n    }},\r\n  &quot;browser&quot;: {\r\n      &quot;sandbox&quot;: true, &quot;inkognito&quot;: true,&quot;headless&quot;:false, &quot;proxy&quot;: null, &quot;darkmode&quot;: true,\r\n      &quot;pointer_as_touch&quot;: false, &quot;mobile_view&quot;:  false, &quot;app&quot;: false, &quot;touch_events&quot;: true,\r\n      &quot;window_size&quot;: {&quot;x&quot;: 400, &quot;y&quot;: 400}\r\n    },\r\n  &quot;chromeoptions&quot;: {&quot;arguments&quot;: [&quot;--my-argument=value&quot;, ..], &quot;capabilities&quot;: [[&quot;cap_name&quot;, &quot;cap_value&quot;], ..]},\r\n  &quot;cdp_cmd&quot;: [[&quot;name&quot;, &quot;value&quot;], ..],\r\n  &quot;evaluate_on_new_document&quot;: &quot;my_js_script&quot;,\r\n  &quot;plugins&quot;: {\r\n      &quot;selenium-wire&quot;: false,\r\n      &quot;modheader&quot;:&quot;[{\\&quot;headers\\&quot;:[{\\&quot;enabled\\&quot;:true,\\&quot;name\\&quot;:\\&quot;google\\&quot;,\\&quot;value\\&quot;:\\&quot;\\\\\\&quot;x\\\\\\&quot;\\&quot;}],\\&quot;shortTitle\\&quot;:\\&quot;1\\&quot;,\\&quot;title\\&quot;:\\&quot;Profile 1\\&quot;,\\&quot;version\\&quot;:2}]&quot;,\r\n      &quot;stealth&quot;: false,\r\n      &quot;buster&quot;: false\r\n    }\r\n}\r\n```\r\n\r\nIt&#39;s undetected by Cloudfare, Google..\r\n\r\nChanging or adding headers is also supported.","title":"How do I add arguments to ChromeDriver while also using mobile emulation (Java)?","body":"<h2>You can use <a href=\"https://github.com/kaliiiiiiiiii/Selenium-Profiles\" rel=\"nofollow noreferrer\">Selenium_Profiles</a></h2>\n<p>The Repository allows you to create a webdriver with specific device profiles.</p>\n<h2>Profile example:</h2>\n<pre><code>{\n  &quot;device&quot;:{\n      &quot;mobile&quot;: false,\n      &quot;model&quot;: &quot;modelName&quot;,\n      &quot;language&quot;: &quot;de-CH,de;q=0.9&quot;,\n      &quot;touch_device&quot;: true,\n      &quot;maxtouchpoints&quot;: 5,\n      &quot;hardware_accel&quot;: false,\n      &quot;emulation&quot;: {&quot;width&quot;: 384, &quot;height&quot;: 700, &quot;deviceScaleFactor&quot;: 10,\n        &quot;screenOrientation&quot;: {&quot;type&quot;: &quot;portraitPrimary&quot;, &quot;angle&quot;: 0}},\n      &quot;agent_override&quot;: {\n                &quot;platform&quot;: &quot;Win32&quot;,\n                &quot;userAgent&quot;: &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/107.0.0.0 Safari/537.36&quot;,\n                &quot;userAgentMetadata&quot;: {\n                    &quot;brands&quot;: [{&quot;brand&quot;:&quot;Google Chrome&quot;,&quot;version&quot;:&quot;107&quot;},\n                              {&quot;brand&quot;:&quot;Chromium&quot;,&quot;version&quot;:&quot;107&quot;},\n                              {&quot;brand&quot;:&quot;Not=A?Brand&quot;,&quot;version&quot;:&quot;24&quot;}],\n                    &quot;fullVersionList&quot;: [{&quot;brand&quot;:&quot;Google Chrome&quot;,&quot;version&quot;:&quot;107.0.5304.88&quot;},\n                                        {&quot;brand&quot;:&quot;Chromium&quot;,&quot;version&quot;:&quot;107.0.5304.88&quot;},\n                                        {&quot;brand&quot;:&quot;Not=A?Brand&quot;,&quot;version&quot;:&quot;24.0.0.0&quot;}],\n                    &quot;fullVersion&quot;: &quot;107.0.5304.88&quot;,\n                    &quot;platform&quot;: &quot;Windows&quot;,\n                    &quot;platformVersion&quot;:&quot;10.0.0&quot;,\n                    &quot;architecture&quot;: &quot;x86&quot;,\n                    &quot;model&quot;: &quot;modelName&quot;,\n                    &quot;mobile&quot;: true,\n                    &quot;bitness&quot;: &quot;64&quot;,\n                    &quot;wow64&quot;: false}\n    }},\n  &quot;browser&quot;: {\n      &quot;sandbox&quot;: true, &quot;inkognito&quot;: true,&quot;headless&quot;:false, &quot;proxy&quot;: null, &quot;darkmode&quot;: true,\n      &quot;pointer_as_touch&quot;: false, &quot;mobile_view&quot;:  false, &quot;app&quot;: false, &quot;touch_events&quot;: true,\n      &quot;window_size&quot;: {&quot;x&quot;: 400, &quot;y&quot;: 400}\n    },\n  &quot;chromeoptions&quot;: {&quot;arguments&quot;: [&quot;--my-argument=value&quot;, ..], &quot;capabilities&quot;: [[&quot;cap_name&quot;, &quot;cap_value&quot;], ..]},\n  &quot;cdp_cmd&quot;: [[&quot;name&quot;, &quot;value&quot;], ..],\n  &quot;evaluate_on_new_document&quot;: &quot;my_js_script&quot;,\n  &quot;plugins&quot;: {\n      &quot;selenium-wire&quot;: false,\n      &quot;modheader&quot;:&quot;[{\\&quot;headers\\&quot;:[{\\&quot;enabled\\&quot;:true,\\&quot;name\\&quot;:\\&quot;google\\&quot;,\\&quot;value\\&quot;:\\&quot;\\\\\\&quot;x\\\\\\&quot;\\&quot;}],\\&quot;shortTitle\\&quot;:\\&quot;1\\&quot;,\\&quot;title\\&quot;:\\&quot;Profile 1\\&quot;,\\&quot;version\\&quot;:2}]&quot;,\n      &quot;stealth&quot;: false,\n      &quot;buster&quot;: false\n    }\n}\n</code></pre>\n<p>It's undetected by Cloudfare, Google..</p>\n<p>Changing or adding headers is also supported.</p>\n"}],"owner":{"display_name":"user6340746"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4409,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":38738187,"answer_count":4,"score":3,"last_activity_date":1668461368,"creation_date":1469620231,"question_id":38612157,"body_markdown":"I&#39;m using ChromeDriver with my JUnit/Selenium tests. I have tests for both desktop and mobile.\r\n\r\nFor my *desktop* tests I specify several **Arguments** to ensure test results are consistent, as so:\r\n\r\n    DesiredCapabilities capabilities = DesiredCapabilities.chrome();\r\n    ChromeOptions desktopOptions = new ChromeOptions();\r\n    \r\n    desktopOptions.addArguments(&quot;start-maximized&quot;, &quot;disable-extensions&quot;,\r\n    \t&quot;test-type&quot;, &quot;no-default-browser-check&quot;, &quot;ignore-certificate-errors&quot;);\r\n    \r\n    capabilities.setCapability(ChromeOptions.CAPABILITY, desktopOptions);\r\n    driver = new RemoteWebDriver(service.getUrl(), capabilities);\r\n\r\nFor my *mobile* tests I currently use:\r\n\r\n    Map&lt;String, String&gt; mobileEmulation = new HashMap&lt;String, String&gt;();\r\n    mobileEmulation.put(&quot;deviceName&quot;, &quot;Apple iPhone 6&quot;);\r\n    \r\n    Map&lt;String, Object&gt; mobileOptions = new HashMap&lt;String, Object&gt;();\r\n    mobileOptions.put(&quot;mobileEmulation&quot;, mobileEmulation);\r\n    \r\n    DesiredCapabilities capabilities = DesiredCapabilities.chrome();\r\n    capabilities.setCapability(ChromeOptions.CAPABILITY, mobileOptions);\r\n    driver = new RemoteWebDriver(service.getUrl(), capabilities);\r\n\r\nI can&#39;t see a way of including the **Arguments** (such as &quot;disable-extensions&quot;) for my mobile tests.\r\n\r\nIs there any way I can refactor the mobile method to allow for arguments to be specified?\r\n\r\nEDIT: To be a little clearer - I&#39;d like to do something like the below:\r\n\r\n            Map&lt;String, String&gt; mobileEmulation = new HashMap&lt;String, String&gt;();\r\n            mobileEmulation.put(&quot;deviceName&quot;, deviceType);\r\n\r\n            Map&lt;String, Object&gt; mobileOptions = new HashMap&lt;String, Object&gt;();\r\n            mobileOptions.put(&quot;mobileEmulation&quot;, mobileEmulation);\r\n\r\n            ChromeOptions chromeArgs = new ChromeOptions();\r\n            chromeArgs.addArguments(&quot;disable-extensions&quot;,\r\n                    &quot;test-type&quot;, &quot;no-default-browser-check&quot;, &quot;ignore-certificate-errors&quot;);\r\n\r\n            DesiredCapabilities capabilities = DesiredCapabilities.chrome();\r\n            capabilities.setCapability(ChromeOptions.CAPABILITY, mobileOptions);\r\n            capabilities.setCapability(ChromeOptions.CAPABILITY, chromeArgs);\r\n            driver = new RemoteWebDriver(service.getUrl(), capabilities);\r\n\r\nBut the capabilities overwrite each other.","title":"How do I add arguments to ChromeDriver while also using mobile emulation (Java)?","body":"<p>I'm using ChromeDriver with my JUnit/Selenium tests. I have tests for both desktop and mobile.</p>\n\n<p>For my <em>desktop</em> tests I specify several <strong>Arguments</strong> to ensure test results are consistent, as so:</p>\n\n<pre><code>DesiredCapabilities capabilities = DesiredCapabilities.chrome();\nChromeOptions desktopOptions = new ChromeOptions();\n\ndesktopOptions.addArguments(\"start-maximized\", \"disable-extensions\",\n    \"test-type\", \"no-default-browser-check\", \"ignore-certificate-errors\");\n\ncapabilities.setCapability(ChromeOptions.CAPABILITY, desktopOptions);\ndriver = new RemoteWebDriver(service.getUrl(), capabilities);\n</code></pre>\n\n<p>For my <em>mobile</em> tests I currently use:</p>\n\n<pre><code>Map&lt;String, String&gt; mobileEmulation = new HashMap&lt;String, String&gt;();\nmobileEmulation.put(\"deviceName\", \"Apple iPhone 6\");\n\nMap&lt;String, Object&gt; mobileOptions = new HashMap&lt;String, Object&gt;();\nmobileOptions.put(\"mobileEmulation\", mobileEmulation);\n\nDesiredCapabilities capabilities = DesiredCapabilities.chrome();\ncapabilities.setCapability(ChromeOptions.CAPABILITY, mobileOptions);\ndriver = new RemoteWebDriver(service.getUrl(), capabilities);\n</code></pre>\n\n<p>I can't see a way of including the <strong>Arguments</strong> (such as \"disable-extensions\") for my mobile tests.</p>\n\n<p>Is there any way I can refactor the mobile method to allow for arguments to be specified?</p>\n\n<p>EDIT: To be a little clearer - I'd like to do something like the below:</p>\n\n<pre><code>        Map&lt;String, String&gt; mobileEmulation = new HashMap&lt;String, String&gt;();\n        mobileEmulation.put(\"deviceName\", deviceType);\n\n        Map&lt;String, Object&gt; mobileOptions = new HashMap&lt;String, Object&gt;();\n        mobileOptions.put(\"mobileEmulation\", mobileEmulation);\n\n        ChromeOptions chromeArgs = new ChromeOptions();\n        chromeArgs.addArguments(\"disable-extensions\",\n                \"test-type\", \"no-default-browser-check\", \"ignore-certificate-errors\");\n\n        DesiredCapabilities capabilities = DesiredCapabilities.chrome();\n        capabilities.setCapability(ChromeOptions.CAPABILITY, mobileOptions);\n        capabilities.setCapability(ChromeOptions.CAPABILITY, chromeArgs);\n        driver = new RemoteWebDriver(service.getUrl(), capabilities);\n</code></pre>\n\n<p>But the capabilities overwrite each other.</p>\n"},{"tags":["java","apache-spark","amazon-ec2","salesforce"],"owner":{"account_id":7957268,"reputation":95,"user_id":6006108,"display_name":"Dinesh Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668460743,"creation_date":1668460743,"question_id":74437952,"body_markdown":"I am getting the below error even though I generated the partner.jar correctly.\r\n\r\nI have generated the partner.jar in my windows machine using the below jars.\r\nantlr-runtime-3.5.3.jar,\r\nforce-wsc-56.1.0.jar,\r\njs-1.7R2.jar,\r\npartner.wsdl,\r\nST4-4.3.4.jar,\r\ntools.jar,\r\n\r\n \r\n\r\n    java -classpath tools.jar;force-wsc-56.1.0.jar;ST4-4.3.4.jar;js-1.7R2.jar;antlr-runtime-3.5.3.jar com.sforce.ws.tools.wsdlc partner.wsdl partner.jar\r\n\r\n\r\n\r\nI have set the class path correctly before generating the partner.jar. \r\nAnd I copied this partner.jar to AWS EC2 machine and try executing the below code. But its still failing with the connection error. \r\n \r\n\r\n    df = spark.read.format(&quot;com.springml.spark.salesforce&quot;) \\ .option(&quot;username&quot;, &quot;dinesh123@force.com&quot;) \\\r\n    .option(&quot;password&quot;, &quot;passwordtoken) \\\r\n    .option(&quot;login&quot;, &quot;https://dev-yh.develop.my.salesforce.com/&quot;)\\ .option(&quot;soql&quot;, soql) \\ \r\n     .option(&quot;inferSchema&quot;, True) \\\r\n    .load()\r\n\r\n\r\n\r\n**Error:**\r\n\r\n    py4j.protocol.Py4JJavaError: An error occurred while calling o31.load.\r\n    : java.lang.NoClassDefFoundError: com/sforce/ws/ConnectionException\r\n            at com.springml.salesforce.wave.api.APIFactory.forceAPI(APIFactory.java:49)\r\n            at com.springml.spark.salesforce.DefaultSource.createRelation(DefaultSource.scala:102)\r\n            at com.springml.spark.salesforce.DefaultSource.createRelation(DefaultSource.scala:50)\r\n            at org.apache.spark.sql.execution.datasources.DataSource.resolveRelation(DataSource.scala:350)\r\n            at org.apache.spark.sql.DataFrameReader.loadV1Source(DataFrameReader.scala:274)\r\n            at org.apache.spark.sql.DataFrameReader.$anonfun$load$3(DataFrameReader.scala:245)\r\n            at scala.Option.getOrElse(Option.scala:189)\r\n\r\n","title":"AWS EC2 Spark-Salesforce integration- java.lang.NoClassDefFoundError: com/sforce/ws/ConnectionException","body":"<p>I am getting the below error even though I generated the partner.jar correctly.</p>\n<p>I have generated the partner.jar in my windows machine using the below jars.\nantlr-runtime-3.5.3.jar,\nforce-wsc-56.1.0.jar,\njs-1.7R2.jar,\npartner.wsdl,\nST4-4.3.4.jar,\ntools.jar,</p>\n<pre><code>java -classpath tools.jar;force-wsc-56.1.0.jar;ST4-4.3.4.jar;js-1.7R2.jar;antlr-runtime-3.5.3.jar com.sforce.ws.tools.wsdlc partner.wsdl partner.jar\n</code></pre>\n<p>I have set the class path correctly before generating the partner.jar.\nAnd I copied this partner.jar to AWS EC2 machine and try executing the below code. But its still failing with the connection error.</p>\n<pre><code>df = spark.read.format(&quot;com.springml.spark.salesforce&quot;) \\ .option(&quot;username&quot;, &quot;dinesh123@force.com&quot;) \\\n.option(&quot;password&quot;, &quot;passwordtoken) \\\n.option(&quot;login&quot;, &quot;https://dev-yh.develop.my.salesforce.com/&quot;)\\ .option(&quot;soql&quot;, soql) \\ \n .option(&quot;inferSchema&quot;, True) \\\n.load()\n</code></pre>\n<p><strong>Error:</strong></p>\n<pre><code>py4j.protocol.Py4JJavaError: An error occurred while calling o31.load.\n: java.lang.NoClassDefFoundError: com/sforce/ws/ConnectionException\n        at com.springml.salesforce.wave.api.APIFactory.forceAPI(APIFactory.java:49)\n        at com.springml.spark.salesforce.DefaultSource.createRelation(DefaultSource.scala:102)\n        at com.springml.spark.salesforce.DefaultSource.createRelation(DefaultSource.scala:50)\n        at org.apache.spark.sql.execution.datasources.DataSource.resolveRelation(DataSource.scala:350)\n        at org.apache.spark.sql.DataFrameReader.loadV1Source(DataFrameReader.scala:274)\n        at org.apache.spark.sql.DataFrameReader.$anonfun$load$3(DataFrameReader.scala:245)\n        at scala.Option.getOrElse(Option.scala:189)\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":2,"creation_date":1668456182,"post_id":74437152,"comment_id":131404700,"body_markdown":"`LocalDateTime` is the wrong type to convert to.  Convert to an `Instant`.","body":"<code>LocalDateTime</code> is the wrong type to convert to.  Convert to an <code>Instant</code>."},{"owner":{"account_id":26527947,"reputation":41,"user_id":20160624,"display_name":"Lewis12"},"score":0,"creation_date":1668458516,"post_id":74437152,"comment_id":131405392,"body_markdown":"Can I not use the localdatetime? I want to store this value into an entity and then I am using this value to compare with another datetime value from an entity which has the date time in UTC format.","body":"Can I not use the localdatetime? I want to store this value into an entity and then I am using this value to compare with another datetime value from an entity which has the date time in UTC format."},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1668458764,"post_id":74437152,"comment_id":131405464,"body_markdown":"`LocalDateTime` represents a civil time _without a time zone_, like &quot;January 3, 5:25 pm.&quot;  It could mean many different actual instants in physical time.  A `LocalDateTime` isn&#39;t a thing that even has a timezone like UTC.","body":"<code>LocalDateTime</code> represents a civil time <i>without a time zone</i>, like &quot;January 3, 5:25 pm.&quot;  It could mean many different actual instants in physical time.  A <code>LocalDateTime</code> isn&#39;t a thing that even has a timezone like UTC."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1668459971,"post_id":74437152,"comment_id":131405817,"body_markdown":"@Lewis12 A `LocalDateTime` is inherently ambiguous, and cannot represent a moment. A `LocalDateTime` is nothing but a date and a time-of-day. So a `LocalDateTime` of January 23, 2023 at 12:00 PM does not tell us if you meant noon at Tokyo, Toulouse, or Toledo — which would all be different moments several hours apart on the timeline. Novices at date-time handling often use `LocalDateTime` when they really should be using one of the classes that represent a moment: `Instant`, `OffsetDateTime`, &amp; `ZonedDateTime`.","body":"@Lewis12 A <code>LocalDateTime</code> is inherently ambiguous, and cannot represent a moment. A <code>LocalDateTime</code> is nothing but a date and a time-of-day. So a <code>LocalDateTime</code> of January 23, 2023 at 12:00 PM does not tell us if you meant noon at Tokyo, Toulouse, or Toledo — which would all be different moments several hours apart on the timeline. Novices at date-time handling often use <code>LocalDateTime</code> when they really should be using one of the classes that represent a moment: <code>Instant</code>, <code>OffsetDateTime</code>, &amp; <code>ZonedDateTime</code>."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1668460351,"post_id":74437152,"comment_id":131405922,"body_markdown":"By the way, (a) `EDT` is not a [real time zone](https://en.wikipedia.org/wiki/List_of_tz_database_time_zones). And (b) learn to use standard [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) formats. Search Stack Overflow to learn more as this has been covered *many* times.","body":"By the way, (a) <code>EDT</code> is not a <a href=\"https://en.wikipedia.org/wiki/List_of_tz_database_time_zones\" rel=\"nofollow noreferrer\">real time zone</a>. And (b) learn to use standard <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> formats. Search Stack Overflow to learn more as this has been covered <i>many</i> times."}],"answers":[{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1668459794,"post_id":74437646,"comment_id":131405770,"body_markdown":"Good Answer. I would change `ZonedDateTime zdtUTC` to be `OffsetDateTime odtUTC` since you are adjusting to an offset rather than a time zone. Same result in the end, but the intent would be more clear.","body":"Good Answer. I would change <code>ZonedDateTime zdtUTC</code> to be <code>OffsetDateTime odtUTC</code> since you are adjusting to an offset rather than a time zone. Same result in the end, but the intent would be more clear."},{"owner":{"account_id":26527947,"reputation":41,"user_id":20160624,"display_name":"Lewis12"},"score":0,"creation_date":1668459840,"post_id":74437646,"comment_id":131405781,"body_markdown":"I am not able to access `withZoneSameInstant`. I only see these two, `with(TemporalAdjuster adjuster)` and `with(TemporalField field, long newValue)`. Am I doing something wrong?","body":"I am not able to access <code>withZoneSameInstant</code>. I only see these two, <code>with(TemporalAdjuster adjuster)</code> and <code>with(TemporalField field, long newValue)</code>. Am I doing something wrong?"},{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1668459931,"post_id":74437646,"comment_id":131405808,"body_markdown":"@Lewis12 Check if you have imported `java.time.ZonedDateTime`. This method has been available since Java 8. Also, make sure you are calling this method on an instance of `ZonedDateTime`. It seems you are trying to call it on an object of `LocalDateTime`.","body":"@Lewis12 Check if you have imported <code>java.time.ZonedDateTime</code>. This method has been available since Java 8. Also, make sure you are calling this method on an instance of <code>ZonedDateTime</code>. It seems you are trying to call it on an object of <code>LocalDateTime</code>."},{"owner":{"account_id":26527947,"reputation":41,"user_id":20160624,"display_name":"Lewis12"},"score":0,"creation_date":1668460009,"post_id":74437646,"comment_id":131405829,"body_markdown":"yes I have imported that.","body":"yes I have imported that."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1668460241,"post_id":74437646,"comment_id":131405895,"body_markdown":"@Lewis12 You can see that code, cut-and-paste unchanged, [run live at Ideone.com](https://ideone.com/YIFsWY).","body":"@Lewis12 You can see that code, cut-and-paste unchanged, <a href=\"https://ideone.com/YIFsWY\" rel=\"nofollow noreferrer\">run live at Ideone.com</a>."},{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1668460366,"post_id":74437646,"comment_id":131405926,"body_markdown":"Thanks, @BasilBourque for the valuable suggestion and for editing the answer. I just wanted to avoid a call to `toOffsetDateTime` before applying `OffsetDateTime#withOffsetSameInstant`.","body":"Thanks, @BasilBourque for the valuable suggestion and for editing the answer. I just wanted to avoid a call to <code>toOffsetDateTime</code> before applying <code>OffsetDateTime#withOffsetSameInstant</code>."},{"owner":{"account_id":26527947,"reputation":41,"user_id":20160624,"display_name":"Lewis12"},"score":0,"creation_date":1668460663,"post_id":74437646,"comment_id":131406010,"body_markdown":"nvm, I was accessing that property after converting it to an Instant instead of accessing it directly from ZoneDateTime. This works. Thanks a lot! :D","body":"nvm, I was accessing that property after converting it to an Instant instead of accessing it directly from ZoneDateTime. This works. Thanks a lot! :D"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1668460696,"post_id":74437646,"comment_id":131406020,"body_markdown":"@ArvindKumarAvinash Okay, *now* I see the somewhat clumsy extra steps you were trying to avoid. Still I think using `OffsetDateTime` is best to make clear the intentional use of offset versus zone.","body":"@ArvindKumarAvinash Okay, <i>now</i> I see the somewhat clumsy extra steps you were trying to avoid. Still I think using <code>OffsetDateTime</code> is best to make clear the intentional use of offset versus zone."}],"tags":[],"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":8,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1668460584,"creation_date":1668458806,"answer_id":74437646,"question_id":74437152,"body_markdown":"Parse the given date-time string into a `ZonedDateTime` with the corresponding `DateTimeFormatter` and then convert the resulting `ZonedDateTime` into an [`Instant`](https://docs.oracle.com/javase/8/docs/api/java/time/chrono/ChronoZonedDateTime.html#toInstant--) or another `ZonedDateTime` corresponding to UTC, using [`ZonedDateTime#withZoneSameInstant`](https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html#withZoneSameInstant-java.time.ZoneId-).\r\n\r\n**Demo**:\r\n\r\n    import java.time.Instant;\r\n    import java.time.LocalDateTime;\r\n    import java.time.ZoneId;\r\n    import java.time.ZoneOffset;\r\n    import java.time.ZonedDateTime;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.util.Locale;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            String dateFromUpstream = &quot;11-14-2022 10:41:12 EDT&quot;;\r\n            DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;MM-dd-uuuu HH:mm:ss z&quot;, Locale.ENGLISH);\r\n            ZonedDateTime zdt = ZonedDateTime.parse(dateFromUpstream, dtf);\r\n            Instant instant = zdt.toInstant();\r\n            System.out.println(instant);\r\n    \r\n            // Or get a ZonedDateTime at UTC\r\n            ZonedDateTime zdtUTC = zdt.withZoneSameInstant(ZoneOffset.UTC);\r\n            System.out.println(zdtUTC);\r\n    \r\n            // If you want LocalDateTime\r\n            LocalDateTime ldt = zdtUTC.toLocalDateTime();\r\n            System.out.println(ldt);\r\n        }\r\n    }\r\n\r\nSee this [code run at Ideone.com][1].\r\n\r\n**Output**:\r\n\r\n    2022-11-14T15:41:12Z\r\n    2022-11-14T15:41:12Z\r\n    2022-11-14T15:41:12\r\n\r\nLearn more about the modern Date-Time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.\r\n\r\n---\r\n**Note**: As suggested by [Basil Bourque][2], you can convert the parsed date-time into an `OffsetDateTime` at UTC as shown below:\r\n\r\n    OffsetDateTime odtUTC = zdt.toOffsetDateTime()\r\n                               .withOffsetSameInstant(ZoneOffset.UTC);\r\n\r\n\r\n  [1]: https://ideone.com/YIFsWY\r\n  [2]: https://stackoverflow.com/users/642706/basil-bourque","title":"How to convert date string in EDT to UTC date?","body":"<p>Parse the given date-time string into a <code>ZonedDateTime</code> with the corresponding <code>DateTimeFormatter</code> and then convert the resulting <code>ZonedDateTime</code> into an <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/chrono/ChronoZonedDateTime.html#toInstant--\" rel=\"nofollow noreferrer\"><code>Instant</code></a> or another <code>ZonedDateTime</code> corresponding to UTC, using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html#withZoneSameInstant-java.time.ZoneId-\" rel=\"nofollow noreferrer\"><code>ZonedDateTime#withZoneSameInstant</code></a>.</p>\n<p><strong>Demo</strong>:</p>\n<pre><code>import java.time.Instant;\nimport java.time.LocalDateTime;\nimport java.time.ZoneId;\nimport java.time.ZoneOffset;\nimport java.time.ZonedDateTime;\nimport java.time.format.DateTimeFormatter;\nimport java.util.Locale;\n\npublic class Main {\n    public static void main(String[] args) {\n        String dateFromUpstream = &quot;11-14-2022 10:41:12 EDT&quot;;\n        DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;MM-dd-uuuu HH:mm:ss z&quot;, Locale.ENGLISH);\n        ZonedDateTime zdt = ZonedDateTime.parse(dateFromUpstream, dtf);\n        Instant instant = zdt.toInstant();\n        System.out.println(instant);\n\n        // Or get a ZonedDateTime at UTC\n        ZonedDateTime zdtUTC = zdt.withZoneSameInstant(ZoneOffset.UTC);\n        System.out.println(zdtUTC);\n\n        // If you want LocalDateTime\n        LocalDateTime ldt = zdtUTC.toLocalDateTime();\n        System.out.println(ldt);\n    }\n}\n</code></pre>\n<p>See this <a href=\"https://ideone.com/YIFsWY\" rel=\"nofollow noreferrer\">code run at Ideone.com</a>.</p>\n<p><strong>Output</strong>:</p>\n<pre><code>2022-11-14T15:41:12Z\n2022-11-14T15:41:12Z\n2022-11-14T15:41:12\n</code></pre>\n<p>Learn more about the modern Date-Time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n<hr />\n<p><strong>Note</strong>: As suggested by <a href=\"https://stackoverflow.com/users/642706/basil-bourque\">Basil Bourque</a>, you can convert the parsed date-time into an <code>OffsetDateTime</code> at UTC as shown below:</p>\n<pre><code>OffsetDateTime odtUTC = zdt.toOffsetDateTime()\n                           .withOffsetSameInstant(ZoneOffset.UTC);\n</code></pre>\n"}],"owner":{"account_id":26527947,"reputation":41,"user_id":20160624,"display_name":"Lewis12"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":223,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74437646,"answer_count":1,"score":2,"last_activity_date":1668460584,"creation_date":1668455813,"question_id":74437152,"body_markdown":"I am reading data from upstream system and it returns the date in string format like this,\r\n\r\n    String dateFromUpstream = 11-14-2022 10:41:12 EDT\r\n\r\nNow, I want to convert this string to a date format of UTC timezone and then store it into my entity.\r\n\r\nI tried the following way,\r\n\r\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;MM-dd-yyyy HH:mm:ss z&quot;);\r\n    LocalDateTime date = ZonedDateTime.parse(dateFromUpstream, formatter).toLocalDateTime().atZone(ZoneId.of(&quot;UTC&quot;));\r\n\r\nBut this doesn&#39;t change the date to UTC timezone. It still gives me the same date with UTC instead of EDT at the end of the string.\r\n\r\nAnyone know how I can do this and then store into an entity?","title":"How to convert date string in EDT to UTC date?","body":"<p>I am reading data from upstream system and it returns the date in string format like this,</p>\n<pre><code>String dateFromUpstream = 11-14-2022 10:41:12 EDT\n</code></pre>\n<p>Now, I want to convert this string to a date format of UTC timezone and then store it into my entity.</p>\n<p>I tried the following way,</p>\n<pre><code>DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;MM-dd-yyyy HH:mm:ss z&quot;);\nLocalDateTime date = ZonedDateTime.parse(dateFromUpstream, formatter).toLocalDateTime().atZone(ZoneId.of(&quot;UTC&quot;));\n</code></pre>\n<p>But this doesn't change the date to UTC timezone. It still gives me the same date with UTC instead of EDT at the end of the string.</p>\n<p>Anyone know how I can do this and then store into an entity?</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1668461159,"post_id":74437654,"comment_id":131406165,"body_markdown":"I would suggest to create a maven plugin for your case...","body":"I would suggest to create a maven plugin for your case..."}],"answers":[{"comments":[{"owner":{"account_id":11342171,"reputation":805,"user_id":8315843,"display_name":"Sybuser"},"score":0,"creation_date":1668460941,"post_id":74437905,"comment_id":131406106,"body_markdown":"indeed, I didn&#39;t notice the surefire plugin was configured to override the defaults with only `&lt;include&gt;**/*TestCase.java&lt;/include&gt;` and my tests were named `*Test.java`","body":"indeed, I didn&#39;t notice the surefire plugin was configured to override the defaults with only <code>&lt;include&gt;**&#47;*TestCase.java&lt;&#47;include&gt;</code> and my tests were named <code>*Test.java</code>"}],"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668460457,"creation_date":1668460457,"answer_id":74437905,"question_id":74437654,"body_markdown":"If the class/file names of your generated tests do not match the defaults of the Maven Surefire Plugin, you will have to configure that to include tests by another pattern.\r\n\r\nSee the official plugin documentation for [Inclusions and Exclusions of Tests](https://maven.apache.org/surefire/maven-surefire-plugin/examples/inclusion-exclusion.html):\r\n&gt; By default, the Surefire Plugin will automatically include all test classes with the following wildcard patterns:\r\n&gt;\r\n&gt; * `&quot;**/Test*.java&quot;` - includes all of its subdirectories and all Java filenames that start with &quot;Test&quot;.\r\n&gt; * `&quot;**/*Test.java&quot;` - includes all of its subdirectories and all Java filenames that end with &quot;Test&quot;.\r\n&gt; * `&quot;**/*Tests.java&quot;` - includes all of its subdirectories and all Java filenames that end with &quot;Tests&quot;.\r\n&gt; * `&quot;**/*TestCase.java&quot;` - includes all of its subdirectories and all Java filenames that end with &quot;TestCase&quot;.\r\n\r\nYou can configure different patterns with the `&lt;includes&gt;` or `&lt;excludes&gt;` sections of the plugins configuration. You will find nice examples on how to do that at the documentation page linked above.","title":"How do I get my maven build to run generated unit tests from target\\test-classes?","body":"<p>If the class/file names of your generated tests do not match the defaults of the Maven Surefire Plugin, you will have to configure that to include tests by another pattern.</p>\n<p>See the official plugin documentation for <a href=\"https://maven.apache.org/surefire/maven-surefire-plugin/examples/inclusion-exclusion.html\" rel=\"nofollow noreferrer\">Inclusions and Exclusions of Tests</a>:</p>\n<blockquote>\n<p>By default, the Surefire Plugin will automatically include all test classes with the following wildcard patterns:</p>\n<ul>\n<li><code>&quot;**/Test*.java&quot;</code> - includes all of its subdirectories and all Java filenames that start with &quot;Test&quot;.</li>\n<li><code>&quot;**/*Test.java&quot;</code> - includes all of its subdirectories and all Java filenames that end with &quot;Test&quot;.</li>\n<li><code>&quot;**/*Tests.java&quot;</code> - includes all of its subdirectories and all Java filenames that end with &quot;Tests&quot;.</li>\n<li><code>&quot;**/*TestCase.java&quot;</code> - includes all of its subdirectories and all Java filenames that end with &quot;TestCase&quot;.</li>\n</ul>\n</blockquote>\n<p>You can configure different patterns with the <code>&lt;includes&gt;</code> or <code>&lt;excludes&gt;</code> sections of the plugins configuration. You will find nice examples on how to do that at the documentation page linked above.</p>\n"}],"owner":{"account_id":11342171,"reputation":805,"user_id":8315843,"display_name":"Sybuser"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":220,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74437905,"answer_count":1,"score":0,"last_activity_date":1668460457,"creation_date":1668458862,"question_id":74437654,"body_markdown":"I use a code generator JAVA program to generate unit test sources into `target\\generated-test-sources` that I compile successfully into `target\\test-classes` but they are ignored by the maven build. I launch this build with a `mvn clean test`.\r\n\r\nIn my pom.xml file, I have an exec goal of a main class `com.mypackage.TestCaseGenerator` that I bind to the `generate-test-sources` phase.\r\n\r\n```xml\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n        &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1.0&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n          \t&lt;id&gt;myexec&lt;/id&gt;\r\n          \t&lt;phase&gt;generate-test-sources&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;exec&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n\t        &lt;configuration&gt;\r\n\t          &lt;executable&gt;java&lt;/executable&gt;\r\n\t          &lt;classpathScope&gt;test&lt;/classpathScope&gt;\r\n\t          &lt;arguments&gt;\r\n\t            &lt;argument&gt;-classpath&lt;/argument&gt;\r\n\t            &lt;classpath/&gt;\r\n\t            &lt;argument&gt;com.mypackage.TestCaseGenerator&lt;/argument&gt;\r\n\t            &lt;argument&gt;target/generated-test-sources/somedir&lt;/argument&gt;\r\n\t          &lt;/arguments&gt;\r\n\t        &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n        &lt;artifactId&gt;build-helper-maven-plugin&lt;/artifactId&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;add-test-source&lt;/id&gt;\r\n            &lt;phase&gt;generate-test-sources&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;add-test-source&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n              &lt;sources&gt;\r\n                &lt;source&gt;target/generated-test-sources/somedir&lt;/source&gt;\r\n              &lt;/sources&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n```\r\n\r\nWhen I run the test cases from Eclipse with a `right-click -&gt; run as JUnit Test` on `target/generated-test-sources/somedir`, the tests execute properly.\r\n\r\nAm I missing some maven config ?","title":"How do I get my maven build to run generated unit tests from target\\test-classes?","body":"<p>I use a code generator JAVA program to generate unit test sources into <code>target\\generated-test-sources</code> that I compile successfully into <code>target\\test-classes</code> but they are ignored by the maven build. I launch this build with a <code>mvn clean test</code>.</p>\n<p>In my pom.xml file, I have an exec goal of a main class <code>com.mypackage.TestCaseGenerator</code> that I bind to the <code>generate-test-sources</code> phase.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>      &lt;plugin&gt;\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n        &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;myexec&lt;/id&gt;\n            &lt;phase&gt;generate-test-sources&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;exec&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;executable&gt;java&lt;/executable&gt;\n              &lt;classpathScope&gt;test&lt;/classpathScope&gt;\n              &lt;arguments&gt;\n                &lt;argument&gt;-classpath&lt;/argument&gt;\n                &lt;classpath/&gt;\n                &lt;argument&gt;com.mypackage.TestCaseGenerator&lt;/argument&gt;\n                &lt;argument&gt;target/generated-test-sources/somedir&lt;/argument&gt;\n              &lt;/arguments&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n        &lt;artifactId&gt;build-helper-maven-plugin&lt;/artifactId&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;add-test-source&lt;/id&gt;\n            &lt;phase&gt;generate-test-sources&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;add-test-source&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;sources&gt;\n                &lt;source&gt;target/generated-test-sources/somedir&lt;/source&gt;\n              &lt;/sources&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n</code></pre>\n<p>When I run the test cases from Eclipse with a <code>right-click -&gt; run as JUnit Test</code> on <code>target/generated-test-sources/somedir</code>, the tests execute properly.</p>\n<p>Am I missing some maven config ?</p>\n"},{"tags":["java","arrays","list","arraylist","playwright"],"answers":[{"tags":[],"owner":{"account_id":13920126,"reputation":1489,"user_id":10050775,"display_name":"Jaky Ruby"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668445248,"creation_date":1668445248,"answer_id":74435262,"question_id":74435010,"body_markdown":"Make a `for` loop for the rows and then another one for columns\r\n\r\n    for (int i = 1; i &lt;= 10; i++) {\r\n        System.out.println(&quot;Values for row &quot; + i);\r\n        for (int z = 0; z &lt;= 6; z++) {        \r\n            Locator cell=page.locator(&quot;(//tbody)[1]/tr[i]/td[z]&quot;); \r\n            String text=cell.innerText();\r\n            System.out.println(text.toString());\r\n    }   \r\n\r\n ","title":"Playwright - How to export the output data to Excel sheet (Java)","body":"<p>Make a <code>for</code> loop for the rows and then another one for columns</p>\n<pre><code>for (int i = 1; i &lt;= 10; i++) {\n    System.out.println(&quot;Values for row &quot; + i);\n    for (int z = 0; z &lt;= 6; z++) {        \n        Locator cell=page.locator(&quot;(//tbody)[1]/tr[i]/td[z]&quot;); \n        String text=cell.innerText();\n        System.out.println(text.toString());\n}   \n</code></pre>\n"}],"owner":{"account_id":18006070,"reputation":3,"user_id":13086811,"display_name":"Nemiziz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":553,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668460342,"creation_date":1668444085,"question_id":74435010,"body_markdown":"I tried Exporting the output data to Excel sheet but all the values are storing as a single cell.\r\n\r\n\r\n```java\r\npublic class Test {\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t\tPlaywright playwright = Playwright.create();\r\n\r\n\t\t// select which browser we need to launch and set headless mode\r\n\t\tBrowser browser = playwright.chromium().launch(new BrowserType.LaunchOptions().setHeadless(false));\r\n\t\t\t\t\r\n\t\tPage page = browser.newPage();\r\n\t\tpage.navigate(&quot;https://datatables.net/extensions/select/examples/initialisation/checkbox.html&quot;);\r\n\t\t\t\t\r\n\t\tfor (int i = 1; i &lt;= 10; i++) {\r\n\t\t\tLocator row = page.locator(&quot;table#example tr&quot;).nth(i); //represents entire row\r\n\t\t\tList&lt;String&gt;text = row.allInnerTexts();\r\n\t\t\t\t\r\n\t\t\ttext.removeAll(Arrays.asList(&quot;&quot;, null));\r\n\t\t\tSystem.out.println(text.toString());\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nOutput:\r\n```\r\n[\tAiri Satou\tAccountant\tTokyo\t33\t$162,700]\r\n[\tAngelica Ramos\tChief Executive Officer (CEO)\tLondon\t47\t$1,200,000]\r\n[\tAshton Cox\tJunior Technical Author\tSan Francisco\t66\t$86,000]\r\n[\tBradley Greer\tSoftware Engineer\tLondon\t41\t$132,000]\r\n[\tBrenden Wagner\tSoftware Engineer\tSan Francisco\t28\t$206,850]\r\n[\tBrielle Williamson\tIntegration Specialist\tNew York\t61\t$372,000]\r\n[\tBruno Nash\tSoftware Engineer\tLondon\t38\t$163,500]\r\n[\tCaesar Vance\tPre-Sales Support\tNew York\t21\t$106,450]\r\n[\tCara Stevens\tSales Assistant\tNew York\t46\t$145,600]\r\n[\tCedric Kelly\tSenior Javascript Developer\tEdinburgh\t22\t$433,060]\r\n```\r\n\r\nInstead of storing as a full value in a cell (Airi Satou\tAccountant\tTokyo\t33\t$162,700), I need the values to be assigned to each column.","title":"Playwright - How to export the output data to Excel sheet (Java)","body":"<p>I tried Exporting the output data to Excel sheet but all the values are storing as a single cell.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Test {\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        // TODO Auto-generated method stub\n        \n        Playwright playwright = Playwright.create();\n\n        // select which browser we need to launch and set headless mode\n        Browser browser = playwright.chromium().launch(new BrowserType.LaunchOptions().setHeadless(false));\n                \n        Page page = browser.newPage();\n        page.navigate(&quot;https://datatables.net/extensions/select/examples/initialisation/checkbox.html&quot;);\n                \n        for (int i = 1; i &lt;= 10; i++) {\n            Locator row = page.locator(&quot;table#example tr&quot;).nth(i); //represents entire row\n            List&lt;String&gt;text = row.allInnerTexts();\n                \n            text.removeAll(Arrays.asList(&quot;&quot;, null));\n            System.out.println(text.toString());\n        }\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>[   Airi Satou  Accountant  Tokyo   33  $162,700]\n[   Angelica Ramos  Chief Executive Officer (CEO)   London  47  $1,200,000]\n[   Ashton Cox  Junior Technical Author San Francisco   66  $86,000]\n[   Bradley Greer   Software Engineer   London  41  $132,000]\n[   Brenden Wagner  Software Engineer   San Francisco   28  $206,850]\n[   Brielle Williamson  Integration Specialist  New York    61  $372,000]\n[   Bruno Nash  Software Engineer   London  38  $163,500]\n[   Caesar Vance    Pre-Sales Support   New York    21  $106,450]\n[   Cara Stevens    Sales Assistant New York    46  $145,600]\n[   Cedric Kelly    Senior Javascript Developer Edinburgh   22  $433,060]\n</code></pre>\n<p>Instead of storing as a full value in a cell (Airi Satou    Accountant  Tokyo   33  $162,700), I need the values to be assigned to each column.</p>\n"},{"tags":["java","caching","jvm","command-line-interface","short"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1668460845,"post_id":74437838,"comment_id":131406076,"body_markdown":"checked the source code, you cannot change it (Java 8, Java 19, [github](https://github.com/openjdk/jdk/blob/2f7dc5c4cde32978c46d092d593c5c76df1edc18/src/java.base/share/classes/java/lang/Short.java#L274))  :-|","body":"checked the source code, you cannot change it (Java 8, Java 19, <a href=\"https://github.com/openjdk/jdk/blob/2f7dc5c4cde32978c46d092d593c5c76df1edc18/src/java.base/share/classes/java/lang/Short.java#L274\" rel=\"nofollow noreferrer\">github</a>)  :-|"},{"owner":{"account_id":4210603,"reputation":94386,"user_id":3448419,"display_name":"apangin"},"score":0,"creation_date":1668495257,"post_id":74437838,"comment_id":131412280,"body_markdown":"Use Java agent to redefine `Short.valueOf`","body":"Use Java agent to redefine <code>Short.valueOf</code>"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1668498438,"post_id":74437838,"comment_id":131413141,"body_markdown":"Do you really need `Short` instances? If you just use `Integer` instances consistently, you can skip creating 21000 `Short` instances. The only place where you can not use an `Integer` instead of `Short`, is when invoking a `Method` with `short` parameter, but this can easily circumvented by using a `MethodHandle` instead.","body":"Do you really need <code>Short</code> instances? If you just use <code>Integer</code> instances consistently, you can skip creating 21000 <code>Short</code> instances. The only place where you can not use an <code>Integer</code> instead of <code>Short</code>, is when invoking a <code>Method</code> with <code>short</code> parameter, but this can easily circumvented by using a <code>MethodHandle</code> instead."}],"owner":{"account_id":1208031,"reputation":14071,"user_id":1915854,"accept_rate":63,"display_name":"Serge Rogatch"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668459993,"creation_date":1668459993,"question_id":74437838,"body_markdown":"The following options set the high value for `IntegerCache` in Java:\r\n\r\n    -XX:AutoBoxCacheMax=42000 -Djava.lang.Integer.IntegerCache.high=21000\r\n\r\nBut the following doesn&#39;t seem to work\r\n\r\n    -Djava.lang.Short.ShortCache.high=21000\r\n\r\nI checked it in the memory profiler, and multiple `Short` instances are allocated for the same numeric value.\r\n\r\nSo how to set the high value for `ShortCache` in Java, if it&#39;s possible?\r\n","title":"How to increase ShortCache high value in Java","body":"<p>The following options set the high value for <code>IntegerCache</code> in Java:</p>\n<pre><code>-XX:AutoBoxCacheMax=42000 -Djava.lang.Integer.IntegerCache.high=21000\n</code></pre>\n<p>But the following doesn't seem to work</p>\n<pre><code>-Djava.lang.Short.ShortCache.high=21000\n</code></pre>\n<p>I checked it in the memory profiler, and multiple <code>Short</code> instances are allocated for the same numeric value.</p>\n<p>So how to set the high value for <code>ShortCache</code> in Java, if it's possible?</p>\n"},{"tags":["java","arraylist","iterator"],"comments":[{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1668461180,"post_id":74437828,"comment_id":131406173,"body_markdown":"ListIterator&lt;E&gt; is an interface which you need to implement. The source code is just &quot;void set(E e);&quot; (see https://github.com/openjdk-mirror/jdk7u-jdk/blob/master/src/share/classes/java/util/ListIterator.java)","body":"ListIterator&lt;E&gt; is an interface which you need to implement. The source code is just &quot;void set(E e);&quot; (see <a href=\"https://github.com/openjdk-mirror/jdk7u-jdk/blob/master/src/share/classes/java/util/ListIterator.java\" rel=\"nofollow noreferrer\">github.com/openjdk-mirror/jdk7u-jdk/blob/master/src/share/&hellip;</a>)"},{"owner":{"account_id":25872414,"reputation":17,"user_id":19603065,"display_name":"Lexy Morse"},"score":0,"creation_date":1668463110,"post_id":74437828,"comment_id":131406702,"body_markdown":"Thank you, that makes a lot of sense now. But how does the method work within the Java.util.ListIterator? Is there a way to look at the internals?","body":"Thank you, that makes a lot of sense now. But how does the method work within the Java.util.ListIterator? Is there a way to look at the internals?"},{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1668464204,"post_id":74437828,"comment_id":131407026,"body_markdown":"[OpenJDK 11 ArrayList Source](https://github.com/AdoptOpenJDK/openjdk-jdk11/blob/master/src/java.base/share/classes/java/util/ArrayList.java)","body":"<a href=\"https://github.com/AdoptOpenJDK/openjdk-jdk11/blob/master/src/java.base/share/classes/java/util/ArrayList.java\" rel=\"nofollow noreferrer\">OpenJDK 11 ArrayList Source</a>"}],"owner":{"account_id":25872414,"reputation":17,"user_id":19603065,"display_name":"Lexy Morse"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668459923,"creation_date":1668459923,"question_id":74437828,"body_markdown":"addAll at index, iterator set methods\r\n\r\nBased on the lectures this week, we implemented ArrayList -- an order-dependent collection that grows as more data is added to it. Overall, it was based on an underlying array. However, two methods were left unimplemented: ArrayList.addAll(int index, Collection&lt;? extends E&gt;) and ArrayListIterator.set(E element). In this problem you are to implement those methods. A suite of test cases is provided. Consulting the documentation for List and ListIterator may be helpful.\r\n\r\nYou should not need access to any private fields, but based on the presentation in class, the following data and methods have been made protected instead of private so that you may access them:\r\n\r\n    public class ArrayList&lt;E&gt; extends AbstractList&lt;E&gt; {\r\n        protected static final int DEFAULT_CAPACITY = 10;\r\n        protected E [] data;\r\n        protected int size;\r\n        protected int modCount;\r\n    \r\n        protected void ensureCapacity(int requiredCapacity) {\r\n            // etc.\r\n        }\r\n    \r\n        protected class ArrayListIterator implements ListIterator&lt;E&gt; {\r\n            protected int cursor;\r\n            protected int priorCursor;\r\n            protected int expectedModCount;\r\n    \r\n            protected void checkForComodification() {\r\n                // etc.\r\n            }\r\n            \r\n            protected void updateAndSynchronizeModeCounts() {\r\n                // etc\r\n            }\r\n        }\r\n\r\n**Here is the program:**\r\n\r\n    import java.util.Collection;\r\n    import java.util.List;\r\n    import java.util.Iterator;\r\n    import java.util.ListIterator;\r\n    \r\n    /**\r\n     * Write a description of class W7Problem here.\r\n     *\r\n     * @author (your name)\r\n     * @version (a version number or a date)\r\n     */\r\n    public class W7Problem&lt;E&gt; extends ArrayList&lt;E&gt;\r\n    {\r\n        // Scaffolding for the problem. Don&#39;t touch.\r\n        public W7Problem() {\r\n            super();\r\n        }\r\n    \r\n        // Scaffolding for the problem. Don&#39;t touch.\r\n        public W7Problem(int initialCapacity) {\r\n            super(initialCapacity);\r\n        }\r\n    \r\n        /**\r\n         * Inserts all the elements of &lt;tt&gt;coll&lt;/tt&gt; into this collection at\r\n         * the specified location.  If both this collection and the parameter\r\n         * are the same collection, then the operational behavior is undefined\r\n         * (i.e. bad things can happen).\r\n         * @param index the location at which to insert\r\n         * @param coll the collection from which to draw elements for addition.\r\n         * @return true when this collection is modified as a result.\r\n         * \r\n         * Time complexity: TODO___________\r\n         */\r\n        @Override\r\n        public boolean addAll(int index, Collection&lt;? extends E&gt; coll) {\r\n            // TODO: your code goes here\r\n            //throw new UnsupportedOperationException();\r\n            //checkBoundInclusive(index);\r\n            Iterator&lt;? extends E&gt; itr = coll.iterator();\r\n            int csize = coll.size();\r\n        \r\n            modCount++;\r\n            if (csize + size &gt; data.length){\r\n                ensureCapacity(size + csize);\r\n            }\r\n            int end = index + csize;\r\n            if (size &gt; 0 &amp;&amp; index != size){\r\n                System.arraycopy(data, index, data, end, size - index);\r\n            }\r\n            size += csize;\r\n    \r\n            for ( ; index &lt; end; index++){\r\n                data[index] = itr.next();\r\n            }\r\n            return csize &gt; 0;\r\n    \r\n        }\r\n    \r\n        // Scaffolding for the problem. Don&#39;t touch.\r\n        @Override\r\n        public Iterator&lt;E&gt; iterator() {\r\n            return listIterator();\r\n        }\r\n    \r\n        // Scaffolding for the problem. Don&#39;t touch.\r\n        @Override\r\n        public ListIterator&lt;E&gt; listIterator() {\r\n            return listIterator(0);\r\n        }\r\n    \r\n        // Scaffolding for the problem. Don&#39;t touch.\r\n        @Override\r\n        public ListIterator&lt;E&gt; listIterator(int index) {\r\n            return new W7ProblemIterator(index);\r\n        }\r\n    \r\n        private class W7ProblemIterator extends ArrayList&lt;E&gt;.ArrayListIterator {\r\n            // Scaffolding for the probmem. Don&#39;t touch.\r\n            public W7ProblemIterator(int startIndex) {\r\n                super(startIndex);\r\n            }\r\n    \r\n            /**\r\n             * Replaces the last element returned by either &lt;tt&gt;next&lt;/tt&gt; or\r\n             * &lt;tt&gt;previous&lt;/tt&gt;.  Cannot be called immediately after &lt;tt&gt;add&lt;/tt&gt;\r\n             * or &lt;tt&gt;remove&lt;/tt&gt;.\r\n             * @param obj the object with which to replace the one returned\r\n             * earlier.\r\n             * \r\n             * Time complexity: TODO___________\r\n             */\r\n            @Override\r\n            public void set(E obj) {\r\n                // TODO: Your code goes here\r\n                //throw new UnsupportedOperationException();\r\n                \r\n            //throw new UnsupportedOperationException(&quot;unsupported&quot;);\r\n        }\r\n            \r\n            \r\n        }\r\n    }\r\n\r\nI have completed the addAll() method without any trouble and passed all of the test cases. My problem is with the set() method. No matter what I try, I cannot pass the last 3 test cases.\r\n\r\n**Is there any way to find the ListIterator.set() source code?**\r\n\r\nAny help is appreciated. I&#39;m looking for a point in the right direction in how to write my set() method.\r\n\r\nThank you!\r\n","title":"Is there any way to find the ListIterator.set() source code?","body":"<p>addAll at index, iterator set methods</p>\n<p>Based on the lectures this week, we implemented ArrayList -- an order-dependent collection that grows as more data is added to it. Overall, it was based on an underlying array. However, two methods were left unimplemented: ArrayList.addAll(int index, Collection&lt;? extends E&gt;) and ArrayListIterator.set(E element). In this problem you are to implement those methods. A suite of test cases is provided. Consulting the documentation for List and ListIterator may be helpful.</p>\n<p>You should not need access to any private fields, but based on the presentation in class, the following data and methods have been made protected instead of private so that you may access them:</p>\n<pre><code>public class ArrayList&lt;E&gt; extends AbstractList&lt;E&gt; {\n    protected static final int DEFAULT_CAPACITY = 10;\n    protected E [] data;\n    protected int size;\n    protected int modCount;\n\n    protected void ensureCapacity(int requiredCapacity) {\n        // etc.\n    }\n\n    protected class ArrayListIterator implements ListIterator&lt;E&gt; {\n        protected int cursor;\n        protected int priorCursor;\n        protected int expectedModCount;\n\n        protected void checkForComodification() {\n            // etc.\n        }\n        \n        protected void updateAndSynchronizeModeCounts() {\n            // etc\n        }\n    }\n</code></pre>\n<p><strong>Here is the program:</strong></p>\n<pre><code>import java.util.Collection;\nimport java.util.List;\nimport java.util.Iterator;\nimport java.util.ListIterator;\n\n/**\n * Write a description of class W7Problem here.\n *\n * @author (your name)\n * @version (a version number or a date)\n */\npublic class W7Problem&lt;E&gt; extends ArrayList&lt;E&gt;\n{\n    // Scaffolding for the problem. Don't touch.\n    public W7Problem() {\n        super();\n    }\n\n    // Scaffolding for the problem. Don't touch.\n    public W7Problem(int initialCapacity) {\n        super(initialCapacity);\n    }\n\n    /**\n     * Inserts all the elements of &lt;tt&gt;coll&lt;/tt&gt; into this collection at\n     * the specified location.  If both this collection and the parameter\n     * are the same collection, then the operational behavior is undefined\n     * (i.e. bad things can happen).\n     * @param index the location at which to insert\n     * @param coll the collection from which to draw elements for addition.\n     * @return true when this collection is modified as a result.\n     * \n     * Time complexity: TODO___________\n     */\n    @Override\n    public boolean addAll(int index, Collection&lt;? extends E&gt; coll) {\n        // TODO: your code goes here\n        //throw new UnsupportedOperationException();\n        //checkBoundInclusive(index);\n        Iterator&lt;? extends E&gt; itr = coll.iterator();\n        int csize = coll.size();\n    \n        modCount++;\n        if (csize + size &gt; data.length){\n            ensureCapacity(size + csize);\n        }\n        int end = index + csize;\n        if (size &gt; 0 &amp;&amp; index != size){\n            System.arraycopy(data, index, data, end, size - index);\n        }\n        size += csize;\n\n        for ( ; index &lt; end; index++){\n            data[index] = itr.next();\n        }\n        return csize &gt; 0;\n\n    }\n\n    // Scaffolding for the problem. Don't touch.\n    @Override\n    public Iterator&lt;E&gt; iterator() {\n        return listIterator();\n    }\n\n    // Scaffolding for the problem. Don't touch.\n    @Override\n    public ListIterator&lt;E&gt; listIterator() {\n        return listIterator(0);\n    }\n\n    // Scaffolding for the problem. Don't touch.\n    @Override\n    public ListIterator&lt;E&gt; listIterator(int index) {\n        return new W7ProblemIterator(index);\n    }\n\n    private class W7ProblemIterator extends ArrayList&lt;E&gt;.ArrayListIterator {\n        // Scaffolding for the probmem. Don't touch.\n        public W7ProblemIterator(int startIndex) {\n            super(startIndex);\n        }\n\n        /**\n         * Replaces the last element returned by either &lt;tt&gt;next&lt;/tt&gt; or\n         * &lt;tt&gt;previous&lt;/tt&gt;.  Cannot be called immediately after &lt;tt&gt;add&lt;/tt&gt;\n         * or &lt;tt&gt;remove&lt;/tt&gt;.\n         * @param obj the object with which to replace the one returned\n         * earlier.\n         * \n         * Time complexity: TODO___________\n         */\n        @Override\n        public void set(E obj) {\n            // TODO: Your code goes here\n            //throw new UnsupportedOperationException();\n            \n        //throw new UnsupportedOperationException(&quot;unsupported&quot;);\n    }\n        \n        \n    }\n}\n</code></pre>\n<p>I have completed the addAll() method without any trouble and passed all of the test cases. My problem is with the set() method. No matter what I try, I cannot pass the last 3 test cases.</p>\n<p><strong>Is there any way to find the ListIterator.set() source code?</strong></p>\n<p>Any help is appreciated. I'm looking for a point in the right direction in how to write my set() method.</p>\n<p>Thank you!</p>\n"},{"tags":["java","spring-boot","apache-kafka","kafka-consumer-api"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668459751,"creation_date":1668459751,"answer_id":74437798,"question_id":74436362,"body_markdown":"You could make your listener subscribe to a regex pattern like `service-.*`, then any new topics with prefix `service-` will be consumed by your app. ","title":"dynamic kafka consumer approach, the service should listen kafka topic dynamically","body":"<p>You could make your listener subscribe to a regex pattern like <code>service-.*</code>, then any new topics with prefix <code>service-</code> will be consumed by your app.</p>\n"}],"owner":{"account_id":11380206,"reputation":1,"user_id":8343291,"display_name":"Rajeshwar Tondare"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":331,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668459751,"creation_date":1668451139,"question_id":74436362,"body_markdown":"I have one microservice which is currently listening to one kafka topic and doing required functionality and sending data to another topic.\r\nBut here the problem is what if topic gets changed and added multiple topics in that case wither my service needs to be modified like creating multiple consumer [one listener per topic] or my service will not work..\r\n\r\nIs there any solution that my microservice will listen/consumer multiple topics dynamically.\r\n\r\nAny help will be really helpful and appreciated. \r\n\r\nI tried below approaches, not working. https://medium.com/bliblidotcom-techblog/dynamic-spring-boot-kafka-consumer-af8740f2c703  https://stackoverflow.com/questions/68744775/can-i-add-topics-to-my-kafkalistener-at-runtime/68745230#68745230  \r\n\r\nI would like to listen to multiple topics dynamically and also if some new topic added that also should be able to listen with very minimal changes.","title":"dynamic kafka consumer approach, the service should listen kafka topic dynamically","body":"<p>I have one microservice which is currently listening to one kafka topic and doing required functionality and sending data to another topic.\nBut here the problem is what if topic gets changed and added multiple topics in that case wither my service needs to be modified like creating multiple consumer [one listener per topic] or my service will not work..</p>\n<p>Is there any solution that my microservice will listen/consumer multiple topics dynamically.</p>\n<p>Any help will be really helpful and appreciated.</p>\n<p>I tried below approaches, not working. <a href=\"https://medium.com/bliblidotcom-techblog/dynamic-spring-boot-kafka-consumer-af8740f2c703\" rel=\"nofollow noreferrer\">https://medium.com/bliblidotcom-techblog/dynamic-spring-boot-kafka-consumer-af8740f2c703</a>  <a href=\"https://stackoverflow.com/questions/68744775/can-i-add-topics-to-my-kafkalistener-at-runtime/68745230#68745230\">Can i add topics to my @kafkalistener at runtime</a></p>\n<p>I would like to listen to multiple topics dynamically and also if some new topic added that also should be able to listen with very minimal changes.</p>\n"},{"tags":["java","php","base64"],"comments":[{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1668413776,"post_id":74428024,"comment_id":131390252,"body_markdown":"This part: `imageData.trim().getBytes(&quot;MS949&quot;)` fundamentally doesn&#39;t add up. You&#39;re treating characters as raw image byte data? That&#39;s.. just not possible. Characters aren&#39;t bytes; they are either Base64 or otherwise encoded, or, they are corrupted.","body":"This part: <code>imageData.trim().getBytes(&quot;MS949&quot;)</code> fundamentally doesn&#39;t add up. You&#39;re treating characters as raw image byte data? That&#39;s.. just not possible. Characters aren&#39;t bytes; they are either Base64 or otherwise encoded, or, they are corrupted."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1668415636,"post_id":74428024,"comment_id":131390794,"body_markdown":"If you have image data in an XML file then you should be using a CDATA section. You should be decrypting the file and then using an XML parser to process it.","body":"If you have image data in an XML file then you should be using a CDATA section. You should be decrypting the file and then using an XML parser to process it."}],"answers":[{"comments":[{"owner":{"account_id":26136817,"reputation":1,"user_id":19826713,"display_name":"may"},"score":0,"creation_date":1668471964,"post_id":74437702,"comment_id":131408762,"body_markdown":"Thanks for the solution. But I have to complete the java code without changing the result with the existing php code. And my base64 value is sent in json, not url","body":"Thanks for the solution. But I have to complete the java code without changing the result with the existing php code. And my base64 value is sent in json, not url"},{"owner":{"account_id":1396846,"reputation":8682,"user_id":2645713,"display_name":"Markus Zeller"},"score":0,"creation_date":1668501069,"post_id":74437702,"comment_id":131414003,"body_markdown":"It&#39;s not about URL, it is about base64, but these chars are handled differently between Java and PHP. You will see immediately when using JWT, which are JSON. This is named url, because when using in a GET request, it will break without the replacements. So if you can&#39;t touch the PHP code, do those encoding on the Java side instead.","body":"It&#39;s not about URL, it is about base64, but these chars are handled differently between Java and PHP. You will see immediately when using JWT, which are JSON. This is named url, because when using in a GET request, it will break without the replacements. So if you can&#39;t touch the PHP code, do those encoding on the Java side instead."}],"tags":[],"owner":{"account_id":1396846,"reputation":8682,"user_id":2645713,"display_name":"Markus Zeller"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668459148,"creation_date":1668459148,"answer_id":74437702,"question_id":74428024,"body_markdown":"Java uses a little bit different encoding for base64 than PHP. You may use these helper functions to make them compatible to the Java version.\r\n\r\n```PHP\r\nfunction base64url_encode($data)\r\n{\r\n    return rtrim(strtr(base64_encode($data), &#39;+/&#39;, &#39;-_&#39;), &#39;=&#39;);\r\n}\r\n\r\nfunction base64url_decode($data, $strict = false)\r\n{\r\n    return base64_decode(strtr($data, &#39;-_&#39;, &#39;+/&#39;), $strict);\r\n}\r\n```","title":"My java Base64 results are not the same as php","body":"<p>Java uses a little bit different encoding for base64 than PHP. You may use these helper functions to make them compatible to the Java version.</p>\n<pre><code>function base64url_encode($data)\n{\n    return rtrim(strtr(base64_encode($data), '+/', '-_'), '=');\n}\n\nfunction base64url_decode($data, $strict = false)\n{\n    return base64_decode(strtr($data, '-_', '+/'), $strict);\n}\n</code></pre>\n"}],"owner":{"account_id":26136817,"reputation":1,"user_id":19826713,"display_name":"may"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668459148,"creation_date":1668409899,"question_id":74428024,"body_markdown":"I have previously posted a question related to this work &lt;a href=&quot;https://stackoverflow.com/questions/74356386/is-there-a-way-to-read-files-in-bytes/74357182#74357182&quot;&gt;link&lt;/a&gt; but I am posting a new one because the question is not completely resolved\r\n\r\nI am working on converting the completed code into java with php.\r\nIt is a function that reads encrypted files, decrypts them by 16 bytes, makes them into a single string, and encodes them with base 64.\r\nphp is already on the server and running, and I have to use java to produce the same result.\r\n\r\nIf you decrypt the read file,\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt;\r\n&lt;FileInfo&gt;\r\n\t...\r\n\t&lt;TextData&gt; (text data) &lt;/TextData&gt;\r\n&lt;/FileInfo&gt;\r\n(image data)\r\n```\r\nIt is in the format, and the text data in &lt;FileInfo&gt; shows php and java exactly the same.\r\nI am trying to encode the image data part into base64, but the result is different from php.\r\n\r\n\r\nThis is the part of the php code I have that decrypts and processes the read file\r\n```\r\n\r\n\t\t$fileContentArray = array(16);\r\n\t\t$transContentArray = array(16);\r\n\t\t$fileRead = fread($fp,16);\r\n\r\n\t\tfor($i = 0 ; $i &lt; strlen($fileRead); $i++){\r\n\t\t\t$fileContentArray[$i] = ord($fileRead[$i]);\r\n\t\t}  \r\n\t\t$seed-&gt;SeedDecrypt($fileContentArray,$pdwRoundKey,$transContentArray); \r\n\t\t$transStr =  call_user_func_array(&quot;pack&quot;,array_merge(array(&quot;C16&quot;),$transContentArray));\r\n\t\t\r\n\t\t$mergeStr .=  $transStr; \t\r\n\t}\r\n\t$dataExplode = explode(&quot;&lt;TextData&gt;&quot;,trim($mergeStr) );\r\n\t$dataExplode1 = explode(&quot;&lt;/FileInfo&gt;&quot;,trim($dataExplode[1]) );\r\n\t$dataExplode2 = explode(&quot;&lt;/TextData&gt;&quot;,$dataExplode1[0]);\r\n\t$textData = iconv(&quot;EUC-KR&quot;,&quot;utf-8&quot;,$dataExplode2[0]);\r\n\t$imageData = base64_encode(trim($dataExplode1[1]));\r\n\r\n\r\n```\r\n\r\nAnd this is the same part of the java code I wrote\r\n\r\n```\r\n\t\t\t\t\tbyte[] fileContentArray=new byte[n];\r\n\r\n\t\t\t\t\tfor(int i=0;i&lt;fileContentArray.length;i++){\r\n\t\t\t\t\t\tfileContentArray[i]=mergeArr[nReadCur+i];\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\tseed.SeedDecrypt(fileContentArray, pdwRoundKey, outbuf);\r\n\t\t\t\t\t\r\n\t\t\t\t\tSystem.arraycopy(outbuf, 0, resultArr, nReadCur, outbuf.length);\r\n\t\t\t\t\t\r\n\t\t\t\t\tnReadCur=nReadCur+fileContentArray.length;\r\n\t\t\t\t\tp=p+fileContentArray.length;\r\n\t\t\t\t\tif(p&gt;=nFileSize){\r\n\t\t\t\t\t\tfis.close();\r\n\t\t\t\t\t\tbreak;   \r\n\t\t\t\t\t}\r\n\t\t\t\t}//while\r\n\t\t\t\t\r\n\t\t\t\tmergeStr=new String(resultArr,&quot;MS949&quot;);\r\n\t\t\t\tString[] dataExplode=mergeStr.trim().split(&quot;&lt;TextData&gt;&quot;);\r\n\t\t\t\tString[] dataExplode1=dataExplode[1].trim().split(&quot;&lt;/FileInfo&gt;&quot;);\r\n\t\t\t\tString[] dataExplode2=dataExplode1[0].trim().split(&quot;&lt;/TextData&gt;&quot;);\r\n\r\n\t\t\t\tString textData = &quot;&quot;;\r\n\t\t\t\tString imageData = &quot;&quot;;\r\n\t\t\t\t\r\n\t\t\t\ttextData=dataExplode2[0];\r\n\t\t\t\timageData=dataExplode1[1];\r\n\t\r\n\t\t\t\tEncoder encoder=Base64.getEncoder();\r\n\t\t\t\tDecoder decoder=Base64.getDecoder();\r\n\t\t\t\tbyte[] encArr=encoder.encode(imageData.trim().getBytes(&quot;MS949&quot;));\r\n\t\t\t\timageData=new String(encArr,&quot;MS949&quot;);\r\n\r\n```\r\n\r\n\r\nAs a result of encoding image data into base64\r\n\r\nphp: ```R0lGODlhAwNLBPcAAAAAAAAAMwAAZgAAmQAAzAAA/wArAAArMwArZgArmQArzAAr/wBVAABVMwBVZgBVmQBVzABV/wCAAACAMwCAZgCAmQCAzACA/ ... VzpYirO0le55zF0=```\r\n\r\njava: ```R0lGODlhAwNLBD8AAAAAAAAAMwAAZgAAPwAAPwAAPwArAAArMwArZgArPwArPwArPwBVAABVMwBVZgBVPwBVPwBVPwA/AAA/MwA/ZgA/PwA/PwA/PwA/ ... DAQEAOz9GPz8/IXY=```\r\n\r\nAs you can see, the result values are output differently.\r\nIs there anything I&#39;m missing? What should I do to make the result of java the same as php?\r\n\r\nAlso, MergeStr, who has read the file,\r\n\r\njava: \r\n```\r\nGIF89aK?       3  f  ?  ?  ? +  +3 +f +? +? +? U  U3 Uf U? U? U? ?  ?3 ?f ?? ?? ?? ?  ?3 챖 첌 ぬ ? ?  ?3 ?f ??\r\n...\r\nJ뇽杞H?*]苛⒢쬝쥻쒳뎁諾X...\r\nA?h?~?0a?2$ @삁?d?Dd??e ...\r\n...\r\nWC ;홃?뿿!v\r\n```\r\n\r\nphp:\r\n```\r\nGIF89aK?       3  f  ?  ?   +  +3 +f +? +? + U  U3 Uf U? U? U   3 f ? ?  ?  ? 챖 첌 ぬ ? ?  ? ? ? 螂 ?   3 f ? ? ...\r\nA??~?a?$ @삁?d?Dd?e...\r\n...\r\nWC ;홃??v余퍙W:X뒽킉??\r\n```\r\n\r\nLike this, there is a new line text that I didn&#39;t put in, and there&#39;s a slight difference in result. Is this a simple difference in encoding? And does this affect the base64 conversion?\r\n\r\n\r\n\r\nI tried encoding with UTF-8 and failed again, \r\nand I used this code to load all bytes of the file at once\r\n\r\n```\r\nFileInputStream fis = new FileInputStream(tpf);\r\nfis.read(mergeArr);\r\n```\r\n","title":"My java Base64 results are not the same as php","body":"<p>I have previously posted a question related to this work <a href=\"https://stackoverflow.com/questions/74356386/is-there-a-way-to-read-files-in-bytes/74357182#74357182\">link</a> but I am posting a new one because the question is not completely resolved</p>\n<p>I am working on converting the completed code into java with php.\nIt is a function that reads encrypted files, decrypts them by 16 bytes, makes them into a single string, and encodes them with base 64.\nphp is already on the server and running, and I have to use java to produce the same result.</p>\n<p>If you decrypt the read file,</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt;\n&lt;FileInfo&gt;\n    ...\n    &lt;TextData&gt; (text data) &lt;/TextData&gt;\n&lt;/FileInfo&gt;\n(image data)\n</code></pre>\n<p>It is in the format, and the text data in  shows php and java exactly the same.\nI am trying to encode the image data part into base64, but the result is different from php.</p>\n<p>This is the part of the php code I have that decrypts and processes the read file</p>\n<pre><code>\n        $fileContentArray = array(16);\n        $transContentArray = array(16);\n        $fileRead = fread($fp,16);\n\n        for($i = 0 ; $i &lt; strlen($fileRead); $i++){\n            $fileContentArray[$i] = ord($fileRead[$i]);\n        }  \n        $seed-&gt;SeedDecrypt($fileContentArray,$pdwRoundKey,$transContentArray); \n        $transStr =  call_user_func_array(&quot;pack&quot;,array_merge(array(&quot;C16&quot;),$transContentArray));\n        \n        $mergeStr .=  $transStr;    \n    }\n    $dataExplode = explode(&quot;&lt;TextData&gt;&quot;,trim($mergeStr) );\n    $dataExplode1 = explode(&quot;&lt;/FileInfo&gt;&quot;,trim($dataExplode[1]) );\n    $dataExplode2 = explode(&quot;&lt;/TextData&gt;&quot;,$dataExplode1[0]);\n    $textData = iconv(&quot;EUC-KR&quot;,&quot;utf-8&quot;,$dataExplode2[0]);\n    $imageData = base64_encode(trim($dataExplode1[1]));\n\n\n</code></pre>\n<p>And this is the same part of the java code I wrote</p>\n<pre><code>                    byte[] fileContentArray=new byte[n];\n\n                    for(int i=0;i&lt;fileContentArray.length;i++){\n                        fileContentArray[i]=mergeArr[nReadCur+i];\n                    }\n                    \n                    \n                    seed.SeedDecrypt(fileContentArray, pdwRoundKey, outbuf);\n                    \n                    System.arraycopy(outbuf, 0, resultArr, nReadCur, outbuf.length);\n                    \n                    nReadCur=nReadCur+fileContentArray.length;\n                    p=p+fileContentArray.length;\n                    if(p&gt;=nFileSize){\n                        fis.close();\n                        break;   \n                    }\n                }//while\n                \n                mergeStr=new String(resultArr,&quot;MS949&quot;);\n                String[] dataExplode=mergeStr.trim().split(&quot;&lt;TextData&gt;&quot;);\n                String[] dataExplode1=dataExplode[1].trim().split(&quot;&lt;/FileInfo&gt;&quot;);\n                String[] dataExplode2=dataExplode1[0].trim().split(&quot;&lt;/TextData&gt;&quot;);\n\n                String textData = &quot;&quot;;\n                String imageData = &quot;&quot;;\n                \n                textData=dataExplode2[0];\n                imageData=dataExplode1[1];\n    \n                Encoder encoder=Base64.getEncoder();\n                Decoder decoder=Base64.getDecoder();\n                byte[] encArr=encoder.encode(imageData.trim().getBytes(&quot;MS949&quot;));\n                imageData=new String(encArr,&quot;MS949&quot;);\n\n</code></pre>\n<p>As a result of encoding image data into base64</p>\n<p>php: <code>R0lGODlhAwNLBPcAAAAAAAAAMwAAZgAAmQAAzAAA/wArAAArMwArZgArmQArzAAr/wBVAABVMwBVZgBVmQBVzABV/wCAAACAMwCAZgCAmQCAzACA/ ... VzpYirO0le55zF0=</code></p>\n<p>java: <code>R0lGODlhAwNLBD8AAAAAAAAAMwAAZgAAPwAAPwAAPwArAAArMwArZgArPwArPwArPwBVAABVMwBVZgBVPwBVPwBVPwA/AAA/MwA/ZgA/PwA/PwA/PwA/ ... DAQEAOz9GPz8/IXY=</code></p>\n<p>As you can see, the result values are output differently.\nIs there anything I'm missing? What should I do to make the result of java the same as php?</p>\n<p>Also, MergeStr, who has read the file,</p>\n<p>java:</p>\n<pre><code>GIF89aK?       3  f  ?  ?  ? +  +3 +f +? +? +? U  U3 Uf U? U? U? ?  ?3 ?f ?? ?? ?? ?  ?3 챖 첌 ぬ ? ?  ?3 ?f ??\n...\nJ뇽杞H?*]苛⒢쬝쥻쒳뎁諾X...\nA?h?~?0a?2$ @삁?d?Dd??e ...\n...\nWC ;홃?뿿!v\n</code></pre>\n<p>php:</p>\n<pre><code>GIF89aK?       3  f  ?  ?   +  +3 +f +? +? + U  U3 Uf U? U? U   3 f ? ?  ?  ? 챖 첌 ぬ ? ?  ? ? ? 螂 ?   3 f ? ? ...\nA??~?a?$ @삁?d?Dd?e...\n...\nWC ;홃??v余퍙W:X뒽킉??\n</code></pre>\n<p>Like this, there is a new line text that I didn't put in, and there's a slight difference in result. Is this a simple difference in encoding? And does this affect the base64 conversion?</p>\n<p>I tried encoding with UTF-8 and failed again,\nand I used this code to load all bytes of the file at once</p>\n<pre><code>FileInputStream fis = new FileInputStream(tpf);\nfis.read(mergeArr);\n</code></pre>\n"},{"tags":["java","spring","spring-boot","caching","spring-cache"],"answers":[{"comments":[{"owner":{"account_id":14131235,"reputation":515,"user_id":10209198,"display_name":"Manuel Waltschek"},"score":0,"creation_date":1675781235,"post_id":74437538,"comment_id":132999747,"body_markdown":"great answer, should be accepted","body":"great answer, should be accepted"}],"tags":[],"owner":{"account_id":4133097,"reputation":7506,"user_id":3390417,"display_name":"John Blum"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668459035,"creation_date":1668458191,"answer_id":74437538,"question_id":74411801,"body_markdown":"The short answer to this question is NO.\r\n\r\n\r\nIf I understand your question correctly (and to verify) then you are expecting something like the following scenario:\r\n\r\nGiven a query for `Student` IDs `[ 2, 3, 4, 5, 6 ]` and assuming `Student` IDs `[ 2, 4, 6 ]` are in the Cache, but `Student` IDs `[ 3, 5 ]` are currently only in the Database, then you are looking for something similar to the following:\r\n\r\n```java\r\n// PROBLEM 2\r\n//@Cacheable(&quot;Students&quot;)\r\nList&lt;Student&gt; findByIds(Set&lt;Integer&gt; studentIds) {\r\n\r\n    List&lt;Student&gt; result = new ArrayList&lt;&gt;();\r\n\r\n    // First load Students stored in Cache\r\n    studentIds.stream()\r\n        .map(id -&gt; this.getCache().get(id))  // CACHE CALL - PROBLEM 3\r\n        .filter(Objects::nonNull)\r\n        .map(Cache.ValueWrapper::get)\r\n        .filter(Student.class::isInstance)\r\n        .map(Student.class::cast)\r\n        .forEach(result::add);\r\n\r\n    Set&lt;Integer&gt; idsToQuery = new HashSet&lt;&gt;(studentIds);\r\n\r\n    idsToQuery.removeAll(result.stream()\r\n        .map(Student::getId)\r\n        .collect(Collectors.toSet()));\r\n\r\n    // Assert Student IDs that need to be queried and loaded from the \r\n    // Database vs. Student IDs present in the Cache\r\n    getStudentIdAssertion().accept(idsToQuery);\r\n\r\n    // Run: SELECT * FROM Students WHERE id IN (...)\r\n    getDatabase().query(idsToQuery).stream()\r\n        .map(this::cache) // CACHE DATABASE QUERY RESULTS\r\n        .forEach(result::add);\r\n\r\n    return result;\r\n}\r\n\r\n```\r\n\r\nSee the complete test class [here][1].\r\n\r\n[Spring&#39;s Cache Abstraction][2], which is part of the core Spring Framework, and is only extended by Spring Boot (e.g. with auto-configuration and a few extras), simply decorates or wraps existing and expensive service methods or data access calls (using AOP) with caching behavior. In other words, it is all or nothing.\r\n\r\nIn simple terms, if you have `@Cacheable` service (or repository / DAO) method like so:\r\n\r\n```java\r\n@Cache(&quot;Students&quot;)\r\nList&lt;Student&gt; findById(Set&lt;Integer&gt; ids) {\r\n  // perform other processing as necessary\r\n  return repository.findByIds(ids);\r\n}\r\n```\r\n\r\nThen there are several problems with Spring&#39;s caching arrangement relative to your use case.\r\n\r\nPROBLEM 1:\r\n\r\nFirst, the `findById(..)` service method is all or nothing. Either the KEY (and I say KEY loosely here; see PROBLEM 2) IS IN the cache or IS NOT IN the cache.\r\n\r\nIf the KEY is in the cache, then the entire `findById(..)` service method will NOT even be invoked.\r\n\r\nIf the KEY is not in the cache, then the `findById(..)` service method will be invoked, but then the &quot;Students&quot; `Cache` is no longer involved during the processing of the service method, unless you explicitly involve the cache yourself, as I have demonstrated above (but that is another problem... PROBLEM 3).\r\n\r\n&gt; NOTE: Spring&#39;s caching behavior is roughly equivalent to [`Map.computeIfAbsent(:KEY, :Function&lt;KEY, VALUE&gt;)`][3].\r\n\r\nPROBLEM 2:\r\n\r\nBy default (see [doc][4]), Spring&#39;s Cache Abstraction uses all the method parameters to generate a key. Of course, you can [customize key generation][5], but that will not help you in this case.\r\n\r\nTherefore, what would actually get cached in the &quot;Students&quot; `Cache` with a call to `@Cacheable findByIds(:Set&lt;Integer&gt;):List&lt;Student&gt;` is the following:\r\n\r\n```txt\r\nCACHE KEY    | CACHE VALUE\r\n-------------|--------------\r\nSet&lt;Integer&gt; | List&lt;Student&gt;\r\n```\r\n\r\nThat is, there would be a single cache entry where the entire Set of IDs is the KEY and the value is the entire result set, or List of Students returned.\r\n\r\nRather, you probably want each individual `Student` (object/record) stored in the cache individually, when queried with a Set of IDs (e.g. `[1, 2, 3]`):\r\n\r\n```txt\r\nCACHE KEY    | CACHE VALUE\r\n-------------|--------------\r\n1            | Jon Doe\r\n2            | Jane Doe\r\n3            | Pie Doe\r\n...\r\n```\r\n\r\nSpring does not support this out-of-the-box, but [it is possible to achieve][6].\r\n\r\nPROBLEM 3:\r\n\r\nAs you can see in my generic solution above, Spring&#39;s [`Cache`][7] interface, which is an *Adapter* around existing caching provider&#39;s (actual) cache implementation only allows single key access.\r\n\r\nThis can be a rather expensive call for each and every key depending on 1) the number of keys queries (e.g. 10 vs. 1000 keys could be quite the difference) and 2) the cache topology (local vs. client/server vs. WAN, etc).\r\n\r\nIdeally, you could pass all the keys to the `Cache` GET operation. And, while this is not supported by Spring&#39;s Cache Abstraction in general, it is generally supported by the underlying caching providers cache implementation.\r\n\r\nFor example, in Hazelcast, the `Cache` implementation is a `[Distributed]IMap` (depending on your topology and configuration) and therefore, you could call [`IMap.getAll(:Set&lt;K&gt;)`][8], when acquiring access to the [&quot;native&quot; cache][9].\r\n\r\nHowever, that is also very caching provider specific and dependent, so you have to be careful when coupling your application to the underlying caching provider API like this, particularly if you were ever to change caching providers. But, it does allow you to improve on the general solution I presented above.\r\n\r\nCONCLUSION: \r\n\r\nIn conclusion, and in general, Spring&#39;s Cache Abstraction does not allow you to do what you are asking here, out-of-the-box. But, using a custom AOP Aspect perhaps, or maybe just simply creating a custom DAO wrapping your SD Repository you could achieve a similar effect.\r\n\r\nI&#39;ll leave that as an exercise for you since the mileage in this UC varies greatly based on your application requirements, particularly your performance requirements.\r\n\r\nGood luck!\r\n\r\n\r\n  [1]: https://github.com/jxblum/stackoverflow-questions-answers/blob/master/spring-cache/src/test/java/io/stackoverflow/questions/spring/cache/PartialCachePartialDatabaseQueryResultsIntegrationTests.java\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/reference/html/integration.html#cache\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#computeIfAbsent(K,java.util.function.Function)\r\n  [4]: https://docs.spring.io/spring-framework/docs/current/reference/html/integration.html#cache-annotations-cacheable-default-key\r\n  [5]: https://docs.spring.io/spring-framework/docs/current/reference/html/integration.html#cache-annotations-cacheable-key\r\n  [6]: https://stackoverflow.com/questions/67784020/how-to-cache-a-listobject-in-java-such-that-the-elements-in-list-are-cached-as\r\n  [7]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/cache/Cache.html\r\n  [8]: https://docs.hazelcast.org/docs/latest/javadoc/com/hazelcast/map/IMap.html#getAll-java.util.Set-\r\n  [9]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/cache/Cache.html#getNativeCache--","title":"Can we first validate the existing data in the cache then go for the missing keys in Spring Boot Cache?","body":"<p>The short answer to this question is NO.</p>\n<p>If I understand your question correctly (and to verify) then you are expecting something like the following scenario:</p>\n<p>Given a query for <code>Student</code> IDs <code>[ 2, 3, 4, 5, 6 ]</code> and assuming <code>Student</code> IDs <code>[ 2, 4, 6 ]</code> are in the Cache, but <code>Student</code> IDs <code>[ 3, 5 ]</code> are currently only in the Database, then you are looking for something similar to the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// PROBLEM 2\n//@Cacheable(&quot;Students&quot;)\nList&lt;Student&gt; findByIds(Set&lt;Integer&gt; studentIds) {\n\n    List&lt;Student&gt; result = new ArrayList&lt;&gt;();\n\n    // First load Students stored in Cache\n    studentIds.stream()\n        .map(id -&gt; this.getCache().get(id))  // CACHE CALL - PROBLEM 3\n        .filter(Objects::nonNull)\n        .map(Cache.ValueWrapper::get)\n        .filter(Student.class::isInstance)\n        .map(Student.class::cast)\n        .forEach(result::add);\n\n    Set&lt;Integer&gt; idsToQuery = new HashSet&lt;&gt;(studentIds);\n\n    idsToQuery.removeAll(result.stream()\n        .map(Student::getId)\n        .collect(Collectors.toSet()));\n\n    // Assert Student IDs that need to be queried and loaded from the \n    // Database vs. Student IDs present in the Cache\n    getStudentIdAssertion().accept(idsToQuery);\n\n    // Run: SELECT * FROM Students WHERE id IN (...)\n    getDatabase().query(idsToQuery).stream()\n        .map(this::cache) // CACHE DATABASE QUERY RESULTS\n        .forEach(result::add);\n\n    return result;\n}\n\n</code></pre>\n<p>See the complete test class <a href=\"https://github.com/jxblum/stackoverflow-questions-answers/blob/master/spring-cache/src/test/java/io/stackoverflow/questions/spring/cache/PartialCachePartialDatabaseQueryResultsIntegrationTests.java\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p><a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/integration.html#cache\" rel=\"nofollow noreferrer\">Spring's Cache Abstraction</a>, which is part of the core Spring Framework, and is only extended by Spring Boot (e.g. with auto-configuration and a few extras), simply decorates or wraps existing and expensive service methods or data access calls (using AOP) with caching behavior. In other words, it is all or nothing.</p>\n<p>In simple terms, if you have <code>@Cacheable</code> service (or repository / DAO) method like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Cache(&quot;Students&quot;)\nList&lt;Student&gt; findById(Set&lt;Integer&gt; ids) {\n  // perform other processing as necessary\n  return repository.findByIds(ids);\n}\n</code></pre>\n<p>Then there are several problems with Spring's caching arrangement relative to your use case.</p>\n<p>PROBLEM 1:</p>\n<p>First, the <code>findById(..)</code> service method is all or nothing. Either the KEY (and I say KEY loosely here; see PROBLEM 2) IS IN the cache or IS NOT IN the cache.</p>\n<p>If the KEY is in the cache, then the entire <code>findById(..)</code> service method will NOT even be invoked.</p>\n<p>If the KEY is not in the cache, then the <code>findById(..)</code> service method will be invoked, but then the &quot;Students&quot; <code>Cache</code> is no longer involved during the processing of the service method, unless you explicitly involve the cache yourself, as I have demonstrated above (but that is another problem... PROBLEM 3).</p>\n<blockquote>\n<p>NOTE: Spring's caching behavior is roughly equivalent to <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#computeIfAbsent(K,java.util.function.Function)\" rel=\"nofollow noreferrer\"><code>Map.computeIfAbsent(:KEY, :Function&lt;KEY, VALUE&gt;)</code></a>.</p>\n</blockquote>\n<p>PROBLEM 2:</p>\n<p>By default (see <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/integration.html#cache-annotations-cacheable-default-key\" rel=\"nofollow noreferrer\">doc</a>), Spring's Cache Abstraction uses all the method parameters to generate a key. Of course, you can <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/integration.html#cache-annotations-cacheable-key\" rel=\"nofollow noreferrer\">customize key generation</a>, but that will not help you in this case.</p>\n<p>Therefore, what would actually get cached in the &quot;Students&quot; <code>Cache</code> with a call to <code>@Cacheable findByIds(:Set&lt;Integer&gt;):List&lt;Student&gt;</code> is the following:</p>\n<pre><code>CACHE KEY    | CACHE VALUE\n-------------|--------------\nSet&lt;Integer&gt; | List&lt;Student&gt;\n</code></pre>\n<p>That is, there would be a single cache entry where the entire Set of IDs is the KEY and the value is the entire result set, or List of Students returned.</p>\n<p>Rather, you probably want each individual <code>Student</code> (object/record) stored in the cache individually, when queried with a Set of IDs (e.g. <code>[1, 2, 3]</code>):</p>\n<pre><code>CACHE KEY    | CACHE VALUE\n-------------|--------------\n1            | Jon Doe\n2            | Jane Doe\n3            | Pie Doe\n...\n</code></pre>\n<p>Spring does not support this out-of-the-box, but <a href=\"https://stackoverflow.com/questions/67784020/how-to-cache-a-listobject-in-java-such-that-the-elements-in-list-are-cached-as\">it is possible to achieve</a>.</p>\n<p>PROBLEM 3:</p>\n<p>As you can see in my generic solution above, Spring's <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/cache/Cache.html\" rel=\"nofollow noreferrer\"><code>Cache</code></a> interface, which is an <em>Adapter</em> around existing caching provider's (actual) cache implementation only allows single key access.</p>\n<p>This can be a rather expensive call for each and every key depending on 1) the number of keys queries (e.g. 10 vs. 1000 keys could be quite the difference) and 2) the cache topology (local vs. client/server vs. WAN, etc).</p>\n<p>Ideally, you could pass all the keys to the <code>Cache</code> GET operation. And, while this is not supported by Spring's Cache Abstraction in general, it is generally supported by the underlying caching providers cache implementation.</p>\n<p>For example, in Hazelcast, the <code>Cache</code> implementation is a <code>[Distributed]IMap</code> (depending on your topology and configuration) and therefore, you could call <a href=\"https://docs.hazelcast.org/docs/latest/javadoc/com/hazelcast/map/IMap.html#getAll-java.util.Set-\" rel=\"nofollow noreferrer\"><code>IMap.getAll(:Set&lt;K&gt;)</code></a>, when acquiring access to the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/cache/Cache.html#getNativeCache--\" rel=\"nofollow noreferrer\">&quot;native&quot; cache</a>.</p>\n<p>However, that is also very caching provider specific and dependent, so you have to be careful when coupling your application to the underlying caching provider API like this, particularly if you were ever to change caching providers. But, it does allow you to improve on the general solution I presented above.</p>\n<p>CONCLUSION:</p>\n<p>In conclusion, and in general, Spring's Cache Abstraction does not allow you to do what you are asking here, out-of-the-box. But, using a custom AOP Aspect perhaps, or maybe just simply creating a custom DAO wrapping your SD Repository you could achieve a similar effect.</p>\n<p>I'll leave that as an exercise for you since the mileage in this UC varies greatly based on your application requirements, particularly your performance requirements.</p>\n<p>Good luck!</p>\n"}],"owner":{"account_id":16207232,"reputation":31,"user_id":11702135,"display_name":"Akash Yadagouda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":824,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1668459035,"creation_date":1668245532,"question_id":74411801,"body_markdown":"I want fetch the data from the table .\r\ntable Name : Student\r\n\r\n```\r\nStudent {\r\n  int id;\r\n  String Name;\r\n};\r\n```\r\n\r\nI have query : \r\n```\r\nselect Name from Student where id in (:ids);\r\n```\r\nNeed : \r\nWhen I call the repository student findByIdIn(:ids) then I want to get the students with matching ids and also cache them.\r\nIf again I call with some another set of ids then flow will go like first It will check the cache if any ids data present then take that from the cache then go for the DB call for the ids which we didn&#39;t get in the cache then we will store it in the cache.   \r\n\r\nExpecting spring boot caching related information to achieve the above requirement.  ","title":"Can we first validate the existing data in the cache then go for the missing keys in Spring Boot Cache?","body":"<p>I want fetch the data from the table .\ntable Name : Student</p>\n<pre><code>Student {\n  int id;\n  String Name;\n};\n</code></pre>\n<p>I have query :</p>\n<pre><code>select Name from Student where id in (:ids);\n</code></pre>\n<p>Need :\nWhen I call the repository student findByIdIn(:ids) then I want to get the students with matching ids and also cache them.\nIf again I call with some another set of ids then flow will go like first It will check the cache if any ids data present then take that from the cache then go for the DB call for the ids which we didn't get in the cache then we will store it in the cache.</p>\n<p>Expecting spring boot caching related information to achieve the above requirement.</p>\n"},{"tags":["java","maven","version","hsqldb"],"comments":[{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":0,"creation_date":1649149307,"post_id":71748712,"comment_id":126796598,"body_markdown":"What do you mean by &quot;How can I observe the version&quot;? Is your problem determining correct hsqldb version (compatible with jdk 1.8) or importing that version in maven?","body":"What do you mean by &quot;How can I observe the version&quot;? Is your problem determining correct hsqldb version (compatible with jdk 1.8) or importing that version in maven?"},{"owner":{"account_id":2450346,"reputation":5181,"user_id":2136795,"display_name":"Gyro Gearless"},"score":1,"creation_date":1649149404,"post_id":71748712,"comment_id":126796638,"body_markdown":"&quot;Latest version 2.6.1 works with JDK 8 and above&quot; - what precisely is your problem?","body":"&quot;Latest version 2.6.1 works with JDK 8 and above&quot; - what precisely is your problem?"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1649149466,"post_id":71748712,"comment_id":126796669,"body_markdown":"What does this mean: ` it seems it does not work with Java 1.8.` ?","body":"What does this mean: ` it seems it does not work with Java 1.8.` ?"},{"owner":{"account_id":1461614,"reputation":465,"user_id":1375780,"accept_rate":61,"display_name":"tahasozgen"},"score":0,"creation_date":1649150129,"post_id":71748712,"comment_id":126796893,"body_markdown":"Gyro Gearless, khmarbaise, using 2.6.1 gives me an error, I haven&#39;t written it, but from the definition, I suspect that 2.6.1 does not work well with JDK 1.8.","body":"Gyro Gearless, khmarbaise, using 2.6.1 gives me an error, I haven&#39;t written it, but from the definition, I suspect that 2.6.1 does not work well with JDK 1.8."}],"answers":[{"comments":[{"owner":{"account_id":1680214,"reputation":127,"user_id":1544626,"display_name":"Lynax"},"score":0,"creation_date":1669997782,"post_id":71749045,"comment_id":131777587,"body_markdown":"This answer helped me. See also https://sourceforge.net/p/hsqldb/bugs/1644/ and https://sourceforge.net/p/hsqldb/feature-requests/359/ which point out that you need the &quot;classifier&quot;. It can be used with version 2.7.x, too.","body":"This answer helped me. See also <a href=\"https://sourceforge.net/p/hsqldb/bugs/1644/\" rel=\"nofollow noreferrer\">sourceforge.net/p/hsqldb/bugs/1644</a> and <a href=\"https://sourceforge.net/p/hsqldb/feature-requests/359/\" rel=\"nofollow noreferrer\">sourceforge.net/p/hsqldb/feature-requests/359</a> which point out that you need the &quot;classifier&quot;. It can be used with version 2.7.x, too."}],"tags":[],"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"comment_count":1,"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1649149890,"creation_date":1649149890,"answer_id":71749045,"question_id":71748712,"body_markdown":"First read the [release notes for hsqldb](http://hsqldb.org/doc/2.0/changelist_2_0.txt):\r\n```lang-none\r\n21 March 2021 - version 2.6.0\r\n-- version 2.6.0 jar requires JRE 11 or later - tested up to Java 16 RC\r\n-- version 2.6.0 alternative jar requires JRE 8 or later\r\n```\r\n\r\nThe documentation clearly states that 2.6.0 needs an alternative jar to work with jdk8.\r\n\r\nInpect the [hsqldb maven repo](https://repo1.maven.org/maven2/org/hsqldb/hsqldb/2.6.1/) to verify that there is an alternative jar provided for jdk8: hsqldb-2.6.1-jdk8.jar  \r\n\r\nTo import it with maven, you need to use a **classifier**\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.hsqldb&lt;/groupId&gt;\r\n    &lt;artifactId&gt;hsqldb&lt;/artifactId&gt;\r\n    &lt;version&gt;2.6.1&lt;/version&gt;\r\n    &lt;classifier&gt;jdk8&lt;/classifier&gt;\r\n&lt;/dependency&gt;\r\n```","title":"hsqldb and jdk8 compatibility","body":"<p>First read the <a href=\"http://hsqldb.org/doc/2.0/changelist_2_0.txt\" rel=\"noreferrer\">release notes for hsqldb</a>:</p>\n<pre class=\"lang-none prettyprint-override\"><code>21 March 2021 - version 2.6.0\n-- version 2.6.0 jar requires JRE 11 or later - tested up to Java 16 RC\n-- version 2.6.0 alternative jar requires JRE 8 or later\n</code></pre>\n<p>The documentation clearly states that 2.6.0 needs an alternative jar to work with jdk8.</p>\n<p>Inpect the <a href=\"https://repo1.maven.org/maven2/org/hsqldb/hsqldb/2.6.1/\" rel=\"noreferrer\">hsqldb maven repo</a> to verify that there is an alternative jar provided for jdk8: hsqldb-2.6.1-jdk8.jar</p>\n<p>To import it with maven, you need to use a <strong>classifier</strong></p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.hsqldb&lt;/groupId&gt;\n    &lt;artifactId&gt;hsqldb&lt;/artifactId&gt;\n    &lt;version&gt;2.6.1&lt;/version&gt;\n    &lt;classifier&gt;jdk8&lt;/classifier&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":1461614,"reputation":465,"user_id":1375780,"accept_rate":61,"display_name":"tahasozgen"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1745,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"closed_date":1649174688,"accepted_answer_id":71749045,"answer_count":1,"score":3,"last_activity_date":1668458559,"creation_date":1649148340,"question_id":71748712,"body_markdown":"I try to use org.hsqldb.hsqldb in my Maven project. The requirement of the client is to use Java 8. The current version of org.hsqldb.hsqldb is 2.6.1, which doesn&#39;t seem to work with Java 8. How can I observe the version of HSQLDB that compiles with Java 8?\r\n\r\n","title":"hsqldb and jdk8 compatibility","body":"<p>I try to use org.hsqldb.hsqldb in my Maven project. The requirement of the client is to use Java 8. The current version of org.hsqldb.hsqldb is 2.6.1, which doesn't seem to work with Java 8. How can I observe the version of HSQLDB that compiles with Java 8?</p>\n"},{"tags":["java","android","kotlin","ffmpeg","android-ffmpeg"],"answers":[{"tags":[],"owner":{"account_id":20742778,"reputation":1,"user_id":15231991,"display_name":"Snowman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667976030,"creation_date":1667976030,"answer_id":74370827,"question_id":72751682,"body_markdown":"My suggestion is that you need to write a player-like code that uses opengles to draw videos so you can add your own arbitrary watermark. Or use the cross-compiled ffmepg dynamic library (or static library) to add your own filters.","title":"How to add a watermark to the saved video with CameraX api in saving time","body":"<p>My suggestion is that you need to write a player-like code that uses opengles to draw videos so you can add your own arbitrary watermark. Or use the cross-compiled ffmepg dynamic library (or static library) to add your own filters.</p>\n"},{"tags":[],"owner":{"account_id":20742778,"reputation":1,"user_id":15231991,"display_name":"Snowman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668457341,"creation_date":1667976271,"answer_id":74370873,"question_id":72751682,"body_markdown":"I shared an example of cross-compiled ffmpeg on github. Is to implement a player that can play video. Check it out [here](https://github.com/bboywindy/AndroidExample).\r\n\r\nI hope you got some help.","title":"How to add a watermark to the saved video with CameraX api in saving time","body":"<p>I shared an example of cross-compiled ffmpeg on github. Is to implement a player that can play video. Check it out <a href=\"https://github.com/bboywindy/AndroidExample\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>I hope you got some help.</p>\n"}],"owner":{"account_id":25241488,"reputation":19,"user_id":19328032,"display_name":"Nino Sand"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":317,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1668457341,"creation_date":1656137934,"question_id":72751682,"body_markdown":"I am using the CameraX api approach to record the videos and saving them as explained in the documents: https://developer.android.com/training/camerax/video-capture  \r\nI tried with [ffmpeg-android-java][1] but clearly it needs to process the saved video not adding to the saved frames in real time.  &lt;br /&gt; &lt;br /&gt;\r\nNow, I want to add a watermark to all saved videos in easy and not costly way and without the need to reprocess the video?  \r\nAlso, if there is no way, what the best and fastest approach to process the video to only add a watermark?  \r\n\r\n\r\n  [1]: https://github.com/WritingMinds/ffmpeg-android-java","title":"How to add a watermark to the saved video with CameraX api in saving time","body":"<p>I am using the CameraX api approach to record the videos and saving them as explained in the documents: <a href=\"https://developer.android.com/training/camerax/video-capture\" rel=\"nofollow noreferrer\">https://developer.android.com/training/camerax/video-capture</a><br />\nI tried with <a href=\"https://github.com/WritingMinds/ffmpeg-android-java\" rel=\"nofollow noreferrer\">ffmpeg-android-java</a> but clearly it needs to process the saved video not adding to the saved frames in real time.  <br /> <br />\nNow, I want to add a watermark to all saved videos in easy and not costly way and without the need to reprocess the video?<br />\nAlso, if there is no way, what the best and fastest approach to process the video to only add a watermark?</p>\n"},{"tags":["java","graphql","reactive-programming","quarkus","smallrye"],"answers":[{"comments":[{"owner":{"account_id":19088824,"reputation":50,"user_id":13939499,"display_name":"Parneet Raghuvanshi"},"score":0,"creation_date":1668508589,"post_id":74437243,"comment_id":131416824,"body_markdown":"Thankyou so much, it worked smoothly now. So, basically it&#39;s a security feature to hide the runtime exceptions to throw messages directly.","body":"Thankyou so much, it worked smoothly now. So, basically it&#39;s a security feature to hide the runtime exceptions to throw messages directly."},{"owner":{"account_id":10896593,"reputation":322,"user_id":8010339,"display_name":"Phillip Kr&#252;ger"},"score":0,"creation_date":1668521738,"post_id":74437243,"comment_id":131421832,"body_markdown":"Great. Exactly for security yes","body":"Great. Exactly for security yes"}],"tags":[],"owner":{"account_id":10896593,"reputation":322,"user_id":8010339,"display_name":"Phillip Kr&#252;ger"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1668456354,"creation_date":1668456354,"answer_id":74437243,"question_id":74436375,"body_markdown":"If you are using Runtime exception you need to enable it explicitly and also tell what fields you want to show. See\r\n\r\nhttps://quarkus.io/guides/smallrye-graphql#quarkus-smallrye-graphql_quarkus.smallrye-graphql.show-runtime-exception-message\r\n\r\nAnd \r\n\r\nhttps://quarkus.io/guides/smallrye-graphql#quarkus-smallrye-graphql_quarkus.smallrye-graphql.error-extension-fields","title":"Send a custom error message in smallrye-graphql error (quarkus)","body":"<p>If you are using Runtime exception you need to enable it explicitly and also tell what fields you want to show. See</p>\n<p><a href=\"https://quarkus.io/guides/smallrye-graphql#quarkus-smallrye-graphql_quarkus.smallrye-graphql.show-runtime-exception-message\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/smallrye-graphql#quarkus-smallrye-graphql_quarkus.smallrye-graphql.show-runtime-exception-message</a></p>\n<p>And</p>\n<p><a href=\"https://quarkus.io/guides/smallrye-graphql#quarkus-smallrye-graphql_quarkus.smallrye-graphql.error-extension-fields\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/smallrye-graphql#quarkus-smallrye-graphql_quarkus.smallrye-graphql.error-extension-fields</a></p>\n"}],"owner":{"account_id":19088824,"reputation":50,"user_id":13939499,"display_name":"Parneet Raghuvanshi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":723,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74437243,"answer_count":1,"score":1,"last_activity_date":1668456354,"creation_date":1668451215,"question_id":74436375,"body_markdown":"I am trying to throw a custom exception in graphql but was only able to change extensions of the GraphQlError, and I want to change the error message too.\r\nHave a look,\r\n\r\n```\r\npublic class SomeException extends RuntimeException implements GraphQLError {\r\n\r\n    List&lt;String&gt; someErrors;\r\n    String errorMessage;\r\n\r\n    public SomeException(String message, List&lt;String&gt; someErrors) {             \r\n        this.errorMessage = message;\r\n        this.someErrors = someErrors;\r\n    }\r\n\r\n    @Override\r\n    public String getMessage() {\r\n        return this.errorMessage;\r\n    }\r\n\r\n    @Override\r\n    public ErrorClassification getErrorType() {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public Map&lt;String, Object&gt; getExtensions() {\r\n        return Collections.singletonMap(&quot;someErrors&quot;,someErrors);\r\n    }\r\n\r\n    @Override\r\n    public List&lt;SourceLocation&gt; getLocations() {\r\n        return null;\r\n    }\r\n}\r\n\r\n```\r\n\r\nSo, my getMessage() function actually not overridden as it still shows this...\r\n\r\n```\r\n{\r\n    &quot;errors&quot;: [\r\n        {\r\n            &quot;message&quot;: &quot;System error&quot;,\r\n            &quot;locations&quot;: [\r\n                {\r\n                    &quot;line&quot;: 2,\r\n                    &quot;column&quot;: 3\r\n                }\r\n            ],\r\n            &quot;path&quot;: [\r\n                &quot;something&quot;\r\n            ],\r\n            &quot;extensions&quot;: {\r\n                &quot;someErrors&quot;: [\r\n                    &quot;...&quot;,\r\n                    &quot;...&quot;\r\n                ],\r\n                &quot;classification&quot;: &quot;DataFetchingException&quot;\r\n            }\r\n        }\r\n    ],\r\n    &quot;data&quot;: {\r\n        &quot;saveInstance&quot;: null\r\n    }\r\n}\r\n```\r\nthis is Postman response when I was triggering the exception.\r\nSo, I want a custom message to be inside &quot;message&quot;.\r\n","title":"Send a custom error message in smallrye-graphql error (quarkus)","body":"<p>I am trying to throw a custom exception in graphql but was only able to change extensions of the GraphQlError, and I want to change the error message too.\nHave a look,</p>\n<pre><code>public class SomeException extends RuntimeException implements GraphQLError {\n\n    List&lt;String&gt; someErrors;\n    String errorMessage;\n\n    public SomeException(String message, List&lt;String&gt; someErrors) {             \n        this.errorMessage = message;\n        this.someErrors = someErrors;\n    }\n\n    @Override\n    public String getMessage() {\n        return this.errorMessage;\n    }\n\n    @Override\n    public ErrorClassification getErrorType() {\n        return null;\n    }\n\n    @Override\n    public Map&lt;String, Object&gt; getExtensions() {\n        return Collections.singletonMap(&quot;someErrors&quot;,someErrors);\n    }\n\n    @Override\n    public List&lt;SourceLocation&gt; getLocations() {\n        return null;\n    }\n}\n\n</code></pre>\n<p>So, my getMessage() function actually not overridden as it still shows this...</p>\n<pre><code>{\n    &quot;errors&quot;: [\n        {\n            &quot;message&quot;: &quot;System error&quot;,\n            &quot;locations&quot;: [\n                {\n                    &quot;line&quot;: 2,\n                    &quot;column&quot;: 3\n                }\n            ],\n            &quot;path&quot;: [\n                &quot;something&quot;\n            ],\n            &quot;extensions&quot;: {\n                &quot;someErrors&quot;: [\n                    &quot;...&quot;,\n                    &quot;...&quot;\n                ],\n                &quot;classification&quot;: &quot;DataFetchingException&quot;\n            }\n        }\n    ],\n    &quot;data&quot;: {\n        &quot;saveInstance&quot;: null\n    }\n}\n</code></pre>\n<p>this is Postman response when I was triggering the exception.\nSo, I want a custom message to be inside &quot;message&quot;.</p>\n"},{"tags":["java","arrays"],"answers":[{"comments":[{"owner":{"account_id":26930373,"reputation":1,"user_id":20502904,"display_name":"Heber Goncalves"},"score":0,"creation_date":1668449625,"post_id":74435929,"comment_id":131402749,"body_markdown":"I might be adding the suggestion to the wrong spot. I updated my output with the suggestion given and I get this result:(I entered the value 10 myself) Year 1  result #1 is: 10.0\nYear 1  result #2 is: 10.0\nYear 1  result #3 is: 10.0\nYear 1  result #4 is: 10.0\nYear 1  result #5 is: 10.0\ntest result[D@eafc191","body":"I might be adding the suggestion to the wrong spot. I updated my output with the suggestion given and I get this result:(I entered the value 10 myself) Year 1  result #1 is: 10.0 Year 1  result #2 is: 10.0 Year 1  result #3 is: 10.0 Year 1  result #4 is: 10.0 Year 1  result #5 is: 10.0 test result[D@eafc191"}],"tags":[],"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668450838,"creation_date":1668448566,"answer_id":74435929,"question_id":74435467,"body_markdown":"    var sums = new double[results.length];\r\n    var avgs = new double[results.length];\r\n\r\n    for(var i=0; i &lt; results.length; i++) {\r\n      for(var j=0; j &lt; results[i].length; j++) {\r\n        sums[i] = sums[i] + results[i][j];\r\n       }\r\n       avgs[i] = sums[i] / results[i].length;\r\n    }\r\n\r\nThis should (typed on mobile) should give you sum and average per row. The same way you can iterate over sums and avgs to get the overall values. \r\n\r\nWould be much more elegant to use Java Stream API, but I think that’s beyond scope of this lesson. ","title":"How to sum + average of results from values taken from an array of values given by user","body":"<pre><code>var sums = new double[results.length];\nvar avgs = new double[results.length];\n\nfor(var i=0; i &lt; results.length; i++) {\n  for(var j=0; j &lt; results[i].length; j++) {\n    sums[i] = sums[i] + results[i][j];\n   }\n   avgs[i] = sums[i] / results[i].length;\n}\n</code></pre>\n<p>This should (typed on mobile) should give you sum and average per row. The same way you can iterate over sums and avgs to get the overall values.</p>\n<p>Would be much more elegant to use Java Stream API, but I think that’s beyond scope of this lesson.</p>\n"}],"owner":{"account_id":26930373,"reputation":1,"user_id":20502904,"display_name":"Heber Goncalves"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668456290,"creation_date":1668446212,"question_id":74435467,"body_markdown":"After adding 2 for loops – one to take values from user for rows and columns and another for print – I cannot figure out how to sum and give average after.\r\n\r\nWrite a program that allows a user to enter 5 results for each year of a 4 year course. \r\nThe app should:\r\n\r\nGive an average for each year\r\n\r\nGive a total average\r\n\r\n import javax.swing.JOptionPane;\r\n\r\npublic class YearlyResult {\r\n\r\n    public static void main(String[] args) {\r\n        //declare variables\r\n        String[] year = {&quot;Year 1&quot;,&quot;Year 2&quot;,&quot;Year 3&quot;,&quot;Year 4&quot;};\r\n        int rows = year.length;\r\n        int numLectures = 5;\r\n        int columns = numLectures;\r\n        double sum;\r\n        double[][] results;\r\n        results = new double[rows][columns];\r\n\r\n        //input\r\n        for(int i = 0; i &lt; rows; i++) {\r\n            for(int j = 0; j &lt; columns; j++) {\r\n                results[i][j] = Double.parseDouble(JOptionPane.showInputDialog(null,&quot;Please enter result &quot;+(j+1)+&quot;for&quot;+year[i]));\r\n            }\r\n        }\r\n\r\n        //output\r\n        for(int i = 0; i &lt; rows; i++) {\r\n            for(int j = 0; j &lt; columns; j++) {\r\n                System.out.println(year[i] + &quot;  result #&quot;+(j+1)+&quot; is: &quot; + results[i][j]);\r\n            }\r\n            for(int j = 0; j &lt; columns; j++) {\r\n                sum = results[0][0];\r\n                System.out.println(&quot;Total Yearly result&quot; + sum*numLectures);\r\n            }\r\n            System.out.println(&quot;------------------&quot;);  \r\n        }\r\n    }\r\n}","title":"How to sum + average of results from values taken from an array of values given by user","body":"<p>After adding 2 for loops – one to take values from user for rows and columns and another for print – I cannot figure out how to sum and give average after.</p>\n<p>Write a program that allows a user to enter 5 results for each year of a 4 year course.\nThe app should:</p>\n<p>Give an average for each year</p>\n<p>Give a total average</p>\n<p>import javax.swing.JOptionPane;</p>\n<p>public class YearlyResult {</p>\n<pre><code>public static void main(String[] args) {\n    //declare variables\n    String[] year = {&quot;Year 1&quot;,&quot;Year 2&quot;,&quot;Year 3&quot;,&quot;Year 4&quot;};\n    int rows = year.length;\n    int numLectures = 5;\n    int columns = numLectures;\n    double sum;\n    double[][] results;\n    results = new double[rows][columns];\n\n    //input\n    for(int i = 0; i &lt; rows; i++) {\n        for(int j = 0; j &lt; columns; j++) {\n            results[i][j] = Double.parseDouble(JOptionPane.showInputDialog(null,&quot;Please enter result &quot;+(j+1)+&quot;for&quot;+year[i]));\n        }\n    }\n\n    //output\n    for(int i = 0; i &lt; rows; i++) {\n        for(int j = 0; j &lt; columns; j++) {\n            System.out.println(year[i] + &quot;  result #&quot;+(j+1)+&quot; is: &quot; + results[i][j]);\n        }\n        for(int j = 0; j &lt; columns; j++) {\n            sum = results[0][0];\n            System.out.println(&quot;Total Yearly result&quot; + sum*numLectures);\n        }\n        System.out.println(&quot;------------------&quot;);  \n    }\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","mongodb","morphia"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1668416232,"post_id":74428483,"comment_id":131391028,"body_markdown":"what exactly have you tried? Do you mean you want to filter the content in the DB, or in an existing Java Array or List?","body":"what exactly have you tried? Do you mean you want to filter the content in the DB, or in an existing Java Array or List?"},{"owner":{"account_id":11661677,"reputation":121,"user_id":8539757,"display_name":"Batimonster"},"score":0,"creation_date":1668416397,"post_id":74428483,"comment_id":131391081,"body_markdown":"I wanna filter the content within the query so it doesn&#39;t even get loaded in Java. I figured I can use the $filter aggregation, however I have no idea on how to use that in Morphia.","body":"I wanna filter the content within the query so it doesn&#39;t even get loaded in Java. I figured I can use the $filter aggregation, however I have no idea on how to use that in Morphia."}],"answers":[{"tags":[],"owner":{"account_id":1414206,"reputation":6122,"user_id":1340183,"display_name":"evanchooly"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668456025,"creation_date":1668456025,"answer_id":74437190,"question_id":74428483,"body_markdown":"You can use a project to define an array slice but that only lets you specify how many to return.  You can&#39;t introspect the values and filter out items like that.  So, e.g., you could ask mongo to return the first or last 50 (if they&#39;re already ordered) but you can&#39;t tell it to slice by, say, a date field on the array element&#39;s document.\r\n\r\nhttps://www.mongodb.com/docs/manual/reference/operator/projection/slice/","title":"Filter array in Morphia","body":"<p>You can use a project to define an array slice but that only lets you specify how many to return.  You can't introspect the values and filter out items like that.  So, e.g., you could ask mongo to return the first or last 50 (if they're already ordered) but you can't tell it to slice by, say, a date field on the array element's document.</p>\n<p><a href=\"https://www.mongodb.com/docs/manual/reference/operator/projection/slice/\" rel=\"nofollow noreferrer\">https://www.mongodb.com/docs/manual/reference/operator/projection/slice/</a></p>\n"}],"owner":{"account_id":11661677,"reputation":121,"user_id":8539757,"display_name":"Batimonster"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1668456025,"creation_date":1668412734,"question_id":74428483,"body_markdown":"I have an entity &quot;PlayerStatisticsData&quot; that has a field &quot;transactions&quot; containing another object &quot;PlayerTransaction&quot;, which has a timestamp field. &lt;br&gt;However, since that list can get really big, I only want to query recent objects.&lt;br&gt;\r\nHow can I query PlayerStatisticsData, but with a transactions list that only contains PlayerTransaction objects which&#39;s timestamp are greater than a given value?\r\n\r\nI hope this was clear to understand.&lt;br&gt;&lt;br&gt;\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GGKpT.png","title":"Filter array in Morphia","body":"<p>I have an entity &quot;PlayerStatisticsData&quot; that has a field &quot;transactions&quot; containing another object &quot;PlayerTransaction&quot;, which has a timestamp field. <br>However, since that list can get really big, I only want to query recent objects.<br>\nHow can I query PlayerStatisticsData, but with a transactions list that only contains PlayerTransaction objects which's timestamp are greater than a given value?</p>\n<p>I hope this was clear to understand.<br><br>\n<a href=\"https://i.stack.imgur.com/GGKpT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GGKpT.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","grails","groovy","grails-orm","grails-2.0"],"comments":[{"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"score":5,"creation_date":1395165042,"post_id":22487126,"comment_id":34209629,"body_markdown":"Read about [closures](http://groovy.codehaus.org/Closures)","body":"Read about <a href=\"http://groovy.codehaus.org/Closures\" rel=\"nofollow noreferrer\">closures</a>"}],"answers":[{"comments":[{"owner":{"account_id":3770045,"reputation":610,"user_id":3132528,"accept_rate":67,"display_name":"Rezaul"},"score":1,"creation_date":1395166010,"post_id":22487192,"comment_id":34210231,"body_markdown":"Here def printSum = { a, b -&gt; print a+b } means a,b indicate print a+b  or something else?","body":"Here def printSum = { a, b -&gt; print a+b } means a,b indicate print a+b  or something else?"},{"owner":{"account_id":3770045,"reputation":610,"user_id":3132528,"accept_rate":67,"display_name":"Rezaul"},"score":1,"creation_date":1395166459,"post_id":22487192,"comment_id":34210536,"body_markdown":"oldPublicationsLargerThan { pageCount -&gt;\n           def now = new Date()\n           lt &#39;datePublished&#39;, now - 365\n           gt &#39;numberOfPages&#39;, pageCount\n       } another example but still confused.can you explain about this?.","body":"oldPublicationsLargerThan { pageCount -&gt;            def now = new Date()            lt &#39;datePublished&#39;, now - 365            gt &#39;numberOfPages&#39;, pageCount        } another example but still confused.can you explain about this?."},{"owner":{"account_id":2340572,"reputation":49545,"user_id":2051952,"display_name":"dmahapatro"},"score":0,"creation_date":1395167996,"post_id":22487192,"comment_id":34211486,"body_markdown":"I don&#39;t understand how else can it be made clear. It is like why do we have `){` in a method declaration.","body":"I don&#39;t understand how else can it be made clear. It is like why do we have <code>){</code> in a method declaration."},{"owner":{"account_id":2004152,"reputation":1501,"user_id":1794493,"accept_rate":60,"display_name":"zhaozhi"},"score":0,"creation_date":1528637981,"post_id":22487192,"comment_id":88574989,"body_markdown":"really useless and confuse","body":"really useless and confuse"}],"tags":[],"owner":{"account_id":470281,"reputation":24736,"user_id":877391,"display_name":"Joshua Moore"},"comment_count":4,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1668455954,"creation_date":1395165053,"answer_id":22487192,"question_id":22487126,"body_markdown":"This is the parameter indicator in a Groovy closure. You can find out more about [closures here][1].\r\n\r\n`-&gt;` is a symbol indicating the end of parameters list for a closure in Groovy. \r\n\r\nIn the first example (given in comments) you have a closure called `printSum` and it takes two parameters; `a` and `b`:\r\n\r\n    def printSum = { a, b -&gt; \r\n      print a+b \r\n    }\r\n\r\nIn the second example (given in the comments) you have a named criteria called `oldPublicationsLargerThan` and it takes one parameter called `pageCount`.\r\n\r\n    oldPublicationsLargerThan { pageCount -&gt; \r\n      def now = new Date() \r\n      lt &#39;datePublished&#39;, now - 365 \r\n      gt &#39;numberOfPages&#39;, pageCount \r\n    } \r\n\r\n  [1]: http://groovy-lang.org/closures.html","title":"what does the -&gt; operator means and usages in grails?","body":"<p>This is the parameter indicator in a Groovy closure. You can find out more about <a href=\"http://groovy-lang.org/closures.html\" rel=\"nofollow noreferrer\">closures here</a>.</p>\n<p><code>-&gt;</code> is a symbol indicating the end of parameters list for a closure in Groovy.</p>\n<p>In the first example (given in comments) you have a closure called <code>printSum</code> and it takes two parameters; <code>a</code> and <code>b</code>:</p>\n<pre><code>def printSum = { a, b -&gt; \n  print a+b \n}\n</code></pre>\n<p>In the second example (given in the comments) you have a named criteria called <code>oldPublicationsLargerThan</code> and it takes one parameter called <code>pageCount</code>.</p>\n<pre><code>oldPublicationsLargerThan { pageCount -&gt; \n  def now = new Date() \n  lt 'datePublished', now - 365 \n  gt 'numberOfPages', pageCount \n} \n</code></pre>\n"},{"comments":[{"owner":{"account_id":3610576,"reputation":371,"user_id":3011620,"display_name":"bschipp"},"score":3,"creation_date":1395294422,"post_id":22488424,"comment_id":34274744,"body_markdown":"You can also have a closure without this &quot;thin arrow&quot;, and the first parameter will be automatically named &#39;it&#39; by groovy.","body":"You can also have a closure without this &quot;thin arrow&quot;, and the first parameter will be automatically named &#39;it&#39; by groovy."}],"tags":[],"owner":{"account_id":272677,"reputation":14398,"user_id":563890,"display_name":"Will"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1395168576,"creation_date":1395168576,"answer_id":22488424,"question_id":22487126,"body_markdown":"That thin arrow is a parameter list delimiter. \r\n\r\nThe syntax for a closure parameter list can be roughly translated to the method parameter list.\r\n\r\nThis is the closure:\r\n\r\n    def criteria = { a, b -&gt;\r\n      return a + b\r\n    }\r\n\r\nAnd this is the method version:\r\n\r\n    def criteria(a, b) {\r\n      return a + b\r\n    }\r\n\r\nClosures have more features, though.","title":"what does the -&gt; operator means and usages in grails?","body":"<p>That thin arrow is a parameter list delimiter. </p>\n\n<p>The syntax for a closure parameter list can be roughly translated to the method parameter list.</p>\n\n<p>This is the closure:</p>\n\n<pre><code>def criteria = { a, b -&gt;\n  return a + b\n}\n</code></pre>\n\n<p>And this is the method version:</p>\n\n<pre><code>def criteria(a, b) {\n  return a + b\n}\n</code></pre>\n\n<p>Closures have more features, though.</p>\n"}],"owner":{"account_id":3770045,"reputation":610,"user_id":3132528,"accept_rate":67,"display_name":"Rezaul"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2763,"favorite_count":0,"down_vote_count":2,"up_vote_count":4,"accepted_answer_id":22487192,"answer_count":2,"score":2,"last_activity_date":1668455954,"creation_date":1395164882,"question_id":22487126,"body_markdown":"I am new working with grails application.I am confusing about this -&gt; operator in grails.\r\nCan anyone give me clear concept about this?\r\nor Give me any reference about this that can be easy for me.\r\nI am already reading online documentation and some books but i am still confusing about this operator and usages.","title":"what does the -&gt; operator means and usages in grails?","body":"<p>I am new working with grails application.I am confusing about this -> operator in grails.\nCan anyone give me clear concept about this?\nor Give me any reference about this that can be easy for me.\nI am already reading online documentation and some books but i am still confusing about this operator and usages.</p>\n"},{"tags":["java","jtextarea"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1668341300,"post_id":74419319,"comment_id":131376875,"body_markdown":"Yes more code *is* needed.You really need to provide a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example)","body":"Yes more code <i>is</i> needed.You really need to provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"},{"owner":{"account_id":24225795,"reputation":69,"user_id":18180309,"display_name":"maverickar"},"score":0,"creation_date":1668453791,"post_id":74419319,"comment_id":131404010,"body_markdown":"Just added more code to the original question.","body":"Just added more code to the original question."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1668454558,"post_id":74419319,"comment_id":131404229,"body_markdown":"Better post the code for `QuizCard` too","body":"Better post the code for <code>QuizCard</code> too"},{"owner":{"account_id":1209109,"reputation":7934,"user_id":1178016,"accept_rate":73,"display_name":"xehpuk"},"score":0,"creation_date":1668454969,"post_id":74419319,"comment_id":131404371,"body_markdown":"How do you know `getText()` returns `null`?","body":"How do you know <code>getText()</code> returns <code>null</code>?"},{"owner":{"account_id":24225795,"reputation":69,"user_id":18180309,"display_name":"maverickar"},"score":0,"creation_date":1668455492,"post_id":74419319,"comment_id":131404507,"body_markdown":"Added the code for QuizCard. While debugging it said question = null &amp; answer = null...","body":"Added the code for QuizCard. While debugging it said question = null &amp; answer = null..."}],"answers":[{"tags":[],"owner":{"account_id":1209109,"reputation":7934,"user_id":1178016,"accept_rate":73,"display_name":"xehpuk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668455663,"creation_date":1668455663,"answer_id":74437131,"question_id":74419319,"body_markdown":"Your `QuizCard` constructor assigns in the wrong direction. It assigns the fields to the parameters. Prevent this in the future by declaring the parameters as `final`:\r\n\r\n```\r\npublic QuizCard(final String q, final String a) {\r\n    question = q;\r\n    answer = a;\r\n} \r\n```","title":"JTextArea.getText returning null values","body":"<p>Your <code>QuizCard</code> constructor assigns in the wrong direction. It assigns the fields to the parameters. Prevent this in the future by declaring the parameters as <code>final</code>:</p>\n<pre><code>public QuizCard(final String q, final String a) {\n    question = q;\n    answer = a;\n} \n</code></pre>\n"}],"owner":{"account_id":24225795,"reputation":69,"user_id":18180309,"display_name":"maverickar"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668455663,"creation_date":1668325939,"question_id":74419319,"body_markdown":"I&#39;m doing a flashcards program and I cannot save cards because my .getText method is returning null values and I cannot figure out why:\r\n\r\n    package eFlashcards;\r\n    //lot of imports\r\n\r\n    public class QuizCardBuilder {\r\n    \t\r\n    \tprivate JTextArea question;\r\n    \tprivate JTextArea answer;\r\n    \tprivate ArrayList&lt;QuizCard&gt; cardList;\r\n    \tprivate JFrame frame;\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tQuizCardBuilder builder = new QuizCardBuilder();\r\n    \t\tbuilder.go();\r\n    \t}\r\n    \t\r\n    \tpublic void go() {\r\n    \t\tframe = new JFrame(&quot;Quiz Card Builder&quot;);\r\n    \t\tJPanel mainPanel = new JPanel();\r\n    \t\tFont bigFont = new Font(&quot;sanserif&quot;, Font.BOLD, 24);\r\n    \t\t\r\n    \t\tquestion = new JTextArea(6,20);\r\n    \t\tquestion.setLineWrap(true);\r\n    \t\tquestion.setWrapStyleWord(true);\r\n    \t\tquestion.setFont(bigFont);\r\n    \t\t\r\n    \t\tJScrollPane qScroller = new JScrollPane(question);\r\n    \t\tqScroller.setVerticalScrollBarPolicy(ScrollPaneConstants.VERTICAL_SCROLLBAR_ALWAYS);\r\n    \t\tqScroller.setHorizontalScrollBarPolicy(ScrollPaneConstants.HORIZONTAL_SCROLLBAR_NEVER);\r\n    \t\t\r\n    \t\tanswer = new JTextArea(6,20);\r\n    \t\tanswer.setLineWrap(true);\r\n    \t\tanswer.setWrapStyleWord(true);\r\n    \t\tanswer.setFont(bigFont);\r\n    \t\t\r\n    \t\tJScrollPane aScroller = new JScrollPane(answer);\r\n    \t\taScroller.setVerticalScrollBarPolicy(ScrollPaneConstants.VERTICAL_SCROLLBAR_ALWAYS);\r\n    \t\taScroller.setHorizontalScrollBarPolicy(ScrollPaneConstants.HORIZONTAL_SCROLLBAR_NEVER);\r\n    \t\t\r\n    \t\tJButton nextButton = new JButton(&quot;Next card&quot;);\r\n    \t\tcardList = new ArrayList&lt;QuizCard&gt;();\r\n    \t\tJLabel qLabel = new JLabel(&quot;Question:&quot;);\r\n    \t\tJLabel aLabel = new JLabel(&quot;Answer:&quot;);\r\n    \t\t\r\n    \t\tmainPanel.add(qLabel);\r\n    \t\tmainPanel.add(qScroller);\r\n    \t\tmainPanel.add(aLabel);\r\n    \t\tmainPanel.add(aScroller);\r\n    \t\tmainPanel.add(nextButton);\r\n    \t\tnextButton.addActionListener(new NextCardListener());\r\n    \t\tJMenuBar menuBar = new JMenuBar();\r\n    \t\tJMenu fileMenu = new JMenu(&quot;File&quot;);\r\n    \t\tJMenuItem newMenuItem = new JMenuItem(&quot;New&quot;);\r\n    \t\tJMenuItem saveMenuItem = new JMenuItem(&quot;Save&quot;);\r\n    \t\tnewMenuItem.addActionListener(new NewMenuListener());\r\n    \t\tsaveMenuItem.addActionListener(new SaveMenuListener());\r\n    \t\tfileMenu.add(newMenuItem);\r\n    \t\tfileMenu.add(saveMenuItem);\r\n    \t\tmenuBar.add(fileMenu);\r\n    \t\tframe.setJMenuBar(menuBar);\r\n    \t\tframe.add(BorderLayout.CENTER,mainPanel);\r\n    \t\tframe.setSize(500,600);\r\n    \t\tframe.setVisible(true);\r\n    \t}\r\n    \t\r\n    \tprivate class NextCardListener implements ActionListener {\r\n    \t\tpublic void actionPerformed(ActionEvent ev) {\r\n    \t\t\tQuizCard card = new QuizCard(question.getText(),answer.getText());\r\n    \t\t\tSystem.out.println(question);\r\n    \t\t\tSystem.out.println(answer);\r\n    \t\t\tcardList.add(card);\r\n    \t\t\tclearCard();\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tprivate class SaveMenuListener implements ActionListener {\r\n    \t\tpublic void actionPerformed(ActionEvent ev) {\r\n    \t\t\tQuizCard card = new QuizCard(question.getText(),answer.getText());\r\n    \t\t\tcardList.add(card);\r\n    \t\t\tJFileChooser fileSave = new JFileChooser();\r\n    \t\t\tfileSave.showSaveDialog(frame);\r\n    \t\t\tsaveFile(fileSave.getSelectedFile());\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate class NewMenuListener implements ActionListener {\r\n    \t\tpublic void actionPerformed(ActionEvent ev) {\r\n    \t\t\tcardList.clear();\r\n    \t\t\tclearCard();\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tprivate void saveFile(File file) {\r\n    \t\ttry {\r\n    \t\t\tBufferedWriter writer = new BufferedWriter(new FileWriter(file));\r\n    \t\t\t\r\n    \t\t\tfor(QuizCard card:cardList) {\r\n    \t\t\t\twriter.write(card.getQuestion() + &quot;/&quot;);\r\n    \t\t\t\twriter.write(card.getAnswer() + &quot;\\n&quot;);\r\n    \t\t\t}\r\n    \t\t\twriter.close();\r\n    \t\t} catch(IOException ex) {\r\n    \t\t\tSystem.out.println(&quot;Couldn&#39;t write the cardList out&quot;);\r\n    \t\t\tex.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    \t\t\r\n    \t\t\r\n    \t\r\n    \r\n    \tpublic void clearCard() {\r\n    \t\tquestion.setText(&quot;&quot;);\r\n    \t\tanswer.setText(&quot;&quot;);\r\n    \t\tquestion.requestFocus();\r\n    \t\t\r\n    \t}\r\n    }\r\n\r\n    package eFlashcards;\r\n\r\n\r\n\tpublic class QuizCard {\r\n\tpublic String question;\r\n\tpublic String answer;\r\n\t\r\n\tpublic QuizCard(String q, String a) {\r\n\t\tq = question;\r\n\t\ta = answer;\r\n\t} \r\n\t\r\n\tpublic String getQuestion() {\r\n\t\treturn question;\r\n\t}\r\n\t\r\n\tpublic String getAnswer() {\r\n\t\treturn answer;\r\n\t}\r\n}\r\n\r\n\r\nLet me know if more code is needed to understand the problem.\r\nI tried debugging, turns out the question and answer variables when I create a new QuizCard object are null by the time of saving...\r\n\r\n","title":"JTextArea.getText returning null values","body":"<p>I'm doing a flashcards program and I cannot save cards because my .getText method is returning null values and I cannot figure out why:</p>\n<pre><code>package eFlashcards;\n//lot of imports\n\npublic class QuizCardBuilder {\n    \n    private JTextArea question;\n    private JTextArea answer;\n    private ArrayList&lt;QuizCard&gt; cardList;\n    private JFrame frame;\n    \n    public static void main(String[] args) {\n        QuizCardBuilder builder = new QuizCardBuilder();\n        builder.go();\n    }\n    \n    public void go() {\n        frame = new JFrame(&quot;Quiz Card Builder&quot;);\n        JPanel mainPanel = new JPanel();\n        Font bigFont = new Font(&quot;sanserif&quot;, Font.BOLD, 24);\n        \n        question = new JTextArea(6,20);\n        question.setLineWrap(true);\n        question.setWrapStyleWord(true);\n        question.setFont(bigFont);\n        \n        JScrollPane qScroller = new JScrollPane(question);\n        qScroller.setVerticalScrollBarPolicy(ScrollPaneConstants.VERTICAL_SCROLLBAR_ALWAYS);\n        qScroller.setHorizontalScrollBarPolicy(ScrollPaneConstants.HORIZONTAL_SCROLLBAR_NEVER);\n        \n        answer = new JTextArea(6,20);\n        answer.setLineWrap(true);\n        answer.setWrapStyleWord(true);\n        answer.setFont(bigFont);\n        \n        JScrollPane aScroller = new JScrollPane(answer);\n        aScroller.setVerticalScrollBarPolicy(ScrollPaneConstants.VERTICAL_SCROLLBAR_ALWAYS);\n        aScroller.setHorizontalScrollBarPolicy(ScrollPaneConstants.HORIZONTAL_SCROLLBAR_NEVER);\n        \n        JButton nextButton = new JButton(&quot;Next card&quot;);\n        cardList = new ArrayList&lt;QuizCard&gt;();\n        JLabel qLabel = new JLabel(&quot;Question:&quot;);\n        JLabel aLabel = new JLabel(&quot;Answer:&quot;);\n        \n        mainPanel.add(qLabel);\n        mainPanel.add(qScroller);\n        mainPanel.add(aLabel);\n        mainPanel.add(aScroller);\n        mainPanel.add(nextButton);\n        nextButton.addActionListener(new NextCardListener());\n        JMenuBar menuBar = new JMenuBar();\n        JMenu fileMenu = new JMenu(&quot;File&quot;);\n        JMenuItem newMenuItem = new JMenuItem(&quot;New&quot;);\n        JMenuItem saveMenuItem = new JMenuItem(&quot;Save&quot;);\n        newMenuItem.addActionListener(new NewMenuListener());\n        saveMenuItem.addActionListener(new SaveMenuListener());\n        fileMenu.add(newMenuItem);\n        fileMenu.add(saveMenuItem);\n        menuBar.add(fileMenu);\n        frame.setJMenuBar(menuBar);\n        frame.add(BorderLayout.CENTER,mainPanel);\n        frame.setSize(500,600);\n        frame.setVisible(true);\n    }\n    \n    private class NextCardListener implements ActionListener {\n        public void actionPerformed(ActionEvent ev) {\n            QuizCard card = new QuizCard(question.getText(),answer.getText());\n            System.out.println(question);\n            System.out.println(answer);\n            cardList.add(card);\n            clearCard();\n        }\n    }\n    \n    private class SaveMenuListener implements ActionListener {\n        public void actionPerformed(ActionEvent ev) {\n            QuizCard card = new QuizCard(question.getText(),answer.getText());\n            cardList.add(card);\n            JFileChooser fileSave = new JFileChooser();\n            fileSave.showSaveDialog(frame);\n            saveFile(fileSave.getSelectedFile());\n        }\n    }\n\n    private class NewMenuListener implements ActionListener {\n        public void actionPerformed(ActionEvent ev) {\n            cardList.clear();\n            clearCard();\n        }\n    }\n    \n    private void saveFile(File file) {\n        try {\n            BufferedWriter writer = new BufferedWriter(new FileWriter(file));\n            \n            for(QuizCard card:cardList) {\n                writer.write(card.getQuestion() + &quot;/&quot;);\n                writer.write(card.getAnswer() + &quot;\\n&quot;);\n            }\n            writer.close();\n        } catch(IOException ex) {\n            System.out.println(&quot;Couldn't write the cardList out&quot;);\n            ex.printStackTrace();\n        }\n    }\n        \n        \n    \n\n    public void clearCard() {\n        question.setText(&quot;&quot;);\n        answer.setText(&quot;&quot;);\n        question.requestFocus();\n        \n    }\n}\n\npackage eFlashcards;\n\n\npublic class QuizCard {\npublic String question;\npublic String answer;\n\npublic QuizCard(String q, String a) {\n    q = question;\n    a = answer;\n} \n\npublic String getQuestion() {\n    return question;\n}\n\npublic String getAnswer() {\n    return answer;\n}\n</code></pre>\n<p>}</p>\n<p>Let me know if more code is needed to understand the problem.\nI tried debugging, turns out the question and answer variables when I create a new QuizCard object are null by the time of saving...</p>\n"},{"tags":["java","spring","spring-mvc","spring-boot"],"comments":[{"owner":{"account_id":5961146,"reputation":480,"user_id":4686283,"accept_rate":50,"display_name":"Brian Kates"},"score":0,"creation_date":1455291017,"post_id":35365266,"comment_id":58438507,"body_markdown":"Would @JSONIgnore do the trick?","body":"Would @JSONIgnore do the trick?"}],"answers":[{"comments":[{"owner":{"account_id":5495516,"reputation":519,"user_id":4366779,"display_name":"tplacht"},"score":0,"creation_date":1455295316,"post_id":35366781,"comment_id":58441503,"body_markdown":"This kind of works, meaning the fields not listed inside EXPOSABLE_FIELDS, are removed from the error attributes, but the returned JSON still looks as above","body":"This kind of works, meaning the fields not listed inside EXPOSABLE_FIELDS, are removed from the error attributes, but the returned JSON still looks as above"},{"owner":{"account_id":1477692,"reputation":46661,"user_id":1393484,"accept_rate":100,"display_name":"Ali Dehghani"},"score":0,"creation_date":1455295541,"post_id":35366781,"comment_id":58441647,"body_markdown":"`exception` field is still there?","body":"<code>exception</code> field is still there?"},{"owner":{"account_id":5495516,"reputation":519,"user_id":4366779,"display_name":"tplacht"},"score":0,"creation_date":1455295610,"post_id":35366781,"comment_id":58441699,"body_markdown":"Yes, it is still shown, although errors does not contain the field anymore.","body":"Yes, it is still shown, although errors does not contain the field anymore."},{"owner":{"account_id":5495516,"reputation":519,"user_id":4366779,"display_name":"tplacht"},"score":0,"creation_date":1455295848,"post_id":35366781,"comment_id":58441866,"body_markdown":"I will give it a try in the next few hours, and reply back to you","body":"I will give it a try in the next few hours, and reply back to you"}],"tags":[],"owner":{"account_id":1477692,"reputation":46661,"user_id":1393484,"accept_rate":100,"display_name":"Ali Dehghani"},"comment_count":4,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1455295791,"creation_date":1455292301,"answer_id":35366781,"question_id":35365266,"body_markdown":"You can get the *Error Attributes* in your controller advice and then, only keep the *Exposable Fields*. Something like following:\r\n\r\n    @ControllerAdvice\r\n    public class ExcptionController {\r\n        private static final List&lt;String&gt; EXPOSABLE_FIELDS = asList(&quot;timestamp&quot;, &quot;status&quot;, &quot;error&quot;, &quot;message&quot;, &quot;path&quot;);\r\n\r\n        @Autowired private ErrorAttributes errorAttributes;\r\n    \r\n        @ExceptionHandler(UnsatisfiedServletRequestParameterException.class)\r\n        private ResponseEntity foo(HttpServletRequest request) {\r\n            Map&lt;String, Object&gt; errors = getErrorAttributes(request);\r\n            errors.put(&quot;message&quot;, &quot;Invalid parameter&quot;);\r\n\r\n            return ResponseEntity.badRequest().body(errors);\r\n        }\r\n\r\n        private Map&lt;String, Object&gt; getErrorAttributes(HttpServletRequest request) {\r\n            ServletRequestAttributes requestAttributes = new ServletRequestAttributes(request);\r\n            final boolean WITHOUT_STACK_TRACE = false;\r\n            Map&lt;String, Object&gt; attributes = errorAttributes.getErrorAttributes(requestAttributes, WITHOUT_STACK_TRACE);\r\n\r\n            // log exception before removing it\r\n            attributes.keySet().removeIf(key -&gt; !EXPOSABLE_FIELDS.contains(key));\r\n\r\n            return attributes;\r\n        }\r\n    }","title":"Spring Boot @ExceptionHandler hide Exception Name","body":"<p>You can get the <em>Error Attributes</em> in your controller advice and then, only keep the <em>Exposable Fields</em>. Something like following:</p>\n\n<pre><code>@ControllerAdvice\npublic class ExcptionController {\n    private static final List&lt;String&gt; EXPOSABLE_FIELDS = asList(\"timestamp\", \"status\", \"error\", \"message\", \"path\");\n\n    @Autowired private ErrorAttributes errorAttributes;\n\n    @ExceptionHandler(UnsatisfiedServletRequestParameterException.class)\n    private ResponseEntity foo(HttpServletRequest request) {\n        Map&lt;String, Object&gt; errors = getErrorAttributes(request);\n        errors.put(\"message\", \"Invalid parameter\");\n\n        return ResponseEntity.badRequest().body(errors);\n    }\n\n    private Map&lt;String, Object&gt; getErrorAttributes(HttpServletRequest request) {\n        ServletRequestAttributes requestAttributes = new ServletRequestAttributes(request);\n        final boolean WITHOUT_STACK_TRACE = false;\n        Map&lt;String, Object&gt; attributes = errorAttributes.getErrorAttributes(requestAttributes, WITHOUT_STACK_TRACE);\n\n        // log exception before removing it\n        attributes.keySet().removeIf(key -&gt; !EXPOSABLE_FIELDS.contains(key));\n\n        return attributes;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":475268,"reputation":109,"user_id":885490,"accept_rate":57,"display_name":"Slobodan"},"score":0,"creation_date":1548143209,"post_id":38876117,"comment_id":95426659,"body_markdown":"simple and best solution","body":"simple and best solution"},{"owner":{"account_id":4926620,"reputation":151,"user_id":3967708,"display_name":"MuthuKumar Haridoss"},"score":1,"creation_date":1625812491,"post_id":38876117,"comment_id":120731916,"body_markdown":"Instead, a simple property in application.properties would do the trick: - server.error.include-exception=false","body":"Instead, a simple property in application.properties would do the trick: - server.error.include-exception=false"},{"owner":{"account_id":70642,"reputation":12820,"user_id":204665,"accept_rate":92,"display_name":"Roman Nikitchenko"},"score":0,"creation_date":1626100579,"post_id":38876117,"comment_id":120796286,"body_markdown":"If you do not want to configure anything else and you are OK to have appropriate configuration in all deployments - seems like really better option. But I personally dislike properties configuration for such a fundamental thing.","body":"If you do not want to configure anything else and you are OK to have appropriate configuration in all deployments - seems like really better option. But I personally dislike properties configuration for such a fundamental thing."}],"tags":[],"owner":{"account_id":70642,"reputation":12820,"user_id":204665,"accept_rate":92,"display_name":"Roman Nikitchenko"},"comment_count":3,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1470838953,"creation_date":1470838953,"answer_id":38876117,"question_id":35365266,"body_markdown":"I have solved this bean-style. Adding the following bean definition to REST layer configuration replacing `ErrorAttributes` used solved issue in my case without any runtime code on exception processing.\r\n\r\n    @Bean\r\n    public ErrorAttributes errorAttributes() {\r\n        return new DefaultErrorAttributes() {\r\n\r\n            @Override\r\n            public Map&lt;String, Object&gt; getErrorAttributes(\r\n                    RequestAttributes requestAttributes,\r\n                    boolean includeStackTrace) {\r\n\r\n                Map&lt;String, Object&gt; errorAttributes\r\n                    = super.getErrorAttributes(requestAttributes, includeStackTrace);\r\n                errorAttributes.remove(&quot;exception&quot;);\r\n                return errorAttributes;\r\n            }\r\n\r\n        };\r\n    }\r\n","title":"Spring Boot @ExceptionHandler hide Exception Name","body":"<p>I have solved this bean-style. Adding the following bean definition to REST layer configuration replacing <code>ErrorAttributes</code> used solved issue in my case without any runtime code on exception processing.</p>\n\n<pre><code>@Bean\npublic ErrorAttributes errorAttributes() {\n    return new DefaultErrorAttributes() {\n\n        @Override\n        public Map&lt;String, Object&gt; getErrorAttributes(\n                RequestAttributes requestAttributes,\n                boolean includeStackTrace) {\n\n            Map&lt;String, Object&gt; errorAttributes\n                = super.getErrorAttributes(requestAttributes, includeStackTrace);\n            errorAttributes.remove(\"exception\");\n            return errorAttributes;\n        }\n\n    };\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":339155,"reputation":8863,"user_id":668455,"accept_rate":80,"display_name":"Tristan"},"score":0,"creation_date":1568215458,"post_id":54382285,"comment_id":102206036,"body_markdown":"Yep, this work with Spring Boot 2.1.x and probably with spring 1.x, can you tell us where is the doc about this parameter ? Also from what I can find, &quot;never&quot; is supposed to be the default value, but it&#39;s clearly not.","body":"Yep, this work with Spring Boot 2.1.x and probably with spring 1.x, can you tell us where is the doc about this parameter ? Also from what I can find, &quot;never&quot; is supposed to be the default value, but it&#39;s clearly not."},{"owner":{"account_id":8911912,"reputation":71,"user_id":6651808,"display_name":"Mateusz"},"score":0,"creation_date":1585603532,"post_id":54382285,"comment_id":107814597,"body_markdown":"Very late answer, but I hope it will be useful. Link to [error properties](https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/web/ErrorProperties.IncludeStacktrace.html)","body":"Very late answer, but I hope it will be useful. Link to <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/web/ErrorProperties.IncludeStacktrace.html\" rel=\"nofollow noreferrer\">error properties</a>"}],"tags":[],"owner":{"account_id":8911912,"reputation":71,"user_id":6651808,"display_name":"Mateusz"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1668455631,"creation_date":1548533451,"answer_id":54382285,"question_id":35365266,"body_markdown":"For those who use spring boot 2.x.  \r\nSince version 2.0.0 default implemetation of ErrorAttrubutes is [DefaultErrorAttributes][1].  \r\nWhen possible DefaultErrorAttributes provides  exception stack trace. Deleting this field from the response is possible by setting:\r\n\r\n    server.error.include-stacktrace: never\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/web/servlet/error/DefaultErrorAttributes.html","title":"Spring Boot @ExceptionHandler hide Exception Name","body":"<p>For those who use spring boot 2.x.<br />\nSince version 2.0.0 default implemetation of ErrorAttrubutes is <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/web/servlet/error/DefaultErrorAttributes.html\" rel=\"nofollow noreferrer\">DefaultErrorAttributes</a>.<br />\nWhen possible DefaultErrorAttributes provides  exception stack trace. Deleting this field from the response is possible by setting:</p>\n<pre><code>server.error.include-stacktrace: never\n</code></pre>\n"}],"owner":{"account_id":5495516,"reputation":519,"user_id":4366779,"display_name":"tplacht"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6764,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":35366781,"answer_count":3,"score":8,"last_activity_date":1668455631,"creation_date":1455287986,"question_id":35365266,"body_markdown":"I am using Spring Boot 1.3.X and have the following: \r\n\r\n    @RestController\r\n    @RequestMapping(path = &quot;/foo&quot;)\r\n    public class FooController {\r\n    \r\n        @RequestMapping(method = RequestMethod.GET, params = { &quot;fooBar&quot; })\r\n    \tpublic Collection&lt;Entry&gt; firstFoo() {\r\n    \t\t//Do something\r\n    \t}\r\n    \r\n    \t@RequestMapping(method = RequestMethod.GET, params = { &quot;anotherFooBar&quot; })\r\n    \tpublic Collection&lt;Entry&gt; secondFoo() {\r\n    \t\t//Do something other\r\n    \t}\r\n    \r\n    }\r\n\r\nWhich works as expected. When passing a wrong param, the following exception is raised: \r\n\r\n    {\r\n        &quot;error&quot;: &quot;Bad Request&quot;, \r\n        &quot;exception&quot;: &quot;org.springframework.web.bind.UnsatisfiedServletRequestParameterException&quot;, \r\n        &quot;message&quot;: &quot;Parameter conditions \\&quot;fooBar\\&quot; OR \\&quot;anotherFooBar\\&quot; not met for actual request parameters: elementalFormulae={C11}&quot;, \r\n        &quot;path&quot;: &quot;/foo&quot;, \r\n        &quot;status&quot;: 400, \r\n        &quot;timestamp&quot;: 1455287433961\r\n    }\r\n\r\n\r\nI then created an `ExceptionHandler` as seen below: \r\n\r\n    @ControllerAdvice\r\n    public class ExcptionController {\r\n    \t\r\n    \t@ResponseStatus(value=HttpStatus.BAD_REQUEST, reason=&quot;Invalid parameter&quot;)\r\n        @ExceptionHandler(UnsatisfiedServletRequestParameterException.class)\r\n    \tprivate void foo() {\r\n    \t\t//Log exception\r\n    \t}\r\n    }\r\n\r\nWhich raises the following Exception:\r\n\r\n    {\r\n        &quot;error&quot;: &quot;Bad Request&quot;, \r\n        &quot;exception&quot;: &quot;org.springframework.web.bind.UnsatisfiedServletRequestParameterException&quot;, \r\n        &quot;message&quot;: &quot;Invalid parameter&quot;, \r\n        &quot;path&quot;: &quot;/api/foo&quot;, \r\n        &quot;status&quot;: 400, \r\n        &quot;timestamp&quot;: 1455287904886\r\n    }\r\n\r\nIs it possible to exclude the *exception* field from the `JSON` representation?","title":"Spring Boot @ExceptionHandler hide Exception Name","body":"<p>I am using Spring Boot 1.3.X and have the following: </p>\n\n<pre><code>@RestController\n@RequestMapping(path = \"/foo\")\npublic class FooController {\n\n    @RequestMapping(method = RequestMethod.GET, params = { \"fooBar\" })\n    public Collection&lt;Entry&gt; firstFoo() {\n        //Do something\n    }\n\n    @RequestMapping(method = RequestMethod.GET, params = { \"anotherFooBar\" })\n    public Collection&lt;Entry&gt; secondFoo() {\n        //Do something other\n    }\n\n}\n</code></pre>\n\n<p>Which works as expected. When passing a wrong param, the following exception is raised: </p>\n\n<pre><code>{\n    \"error\": \"Bad Request\", \n    \"exception\": \"org.springframework.web.bind.UnsatisfiedServletRequestParameterException\", \n    \"message\": \"Parameter conditions \\\"fooBar\\\" OR \\\"anotherFooBar\\\" not met for actual request parameters: elementalFormulae={C11}\", \n    \"path\": \"/foo\", \n    \"status\": 400, \n    \"timestamp\": 1455287433961\n}\n</code></pre>\n\n<p>I then created an <code>ExceptionHandler</code> as seen below: </p>\n\n<pre><code>@ControllerAdvice\npublic class ExcptionController {\n\n    @ResponseStatus(value=HttpStatus.BAD_REQUEST, reason=\"Invalid parameter\")\n    @ExceptionHandler(UnsatisfiedServletRequestParameterException.class)\n    private void foo() {\n        //Log exception\n    }\n}\n</code></pre>\n\n<p>Which raises the following Exception:</p>\n\n<pre><code>{\n    \"error\": \"Bad Request\", \n    \"exception\": \"org.springframework.web.bind.UnsatisfiedServletRequestParameterException\", \n    \"message\": \"Invalid parameter\", \n    \"path\": \"/api/foo\", \n    \"status\": 400, \n    \"timestamp\": 1455287904886\n}\n</code></pre>\n\n<p>Is it possible to exclude the <em>exception</em> field from the <code>JSON</code> representation?</p>\n"},{"tags":["java","xml","sum"],"comments":[{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1668457600,"post_id":74437122,"comment_id":131405112,"body_markdown":"I don’t understand the last part of your question, but you should consider xpath to get all the &lt;price /&gt; element‘s content at once.","body":"I don’t understand the last part of your question, but you should consider xpath to get all the &lt;price /&gt; element‘s content at once."},{"owner":{"account_id":26497533,"reputation":19,"user_id":20135002,"display_name":"david9999"},"score":0,"creation_date":1668457853,"post_id":74437122,"comment_id":131405192,"body_markdown":"However, what I am trying to figure out is, is it possible to take the values that represent the &quot;price&quot; values I am already pulling, and find the sum of them?","body":"However, what I am trying to figure out is, is it possible to take the values that represent the &quot;price&quot; values I am already pulling, and find the sum of them?"},{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1668458100,"post_id":74437122,"comment_id":131405268,"body_markdown":"Shouldn’t this be already in `value`?","body":"Shouldn’t this be already in <code>value</code>?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1668461089,"post_id":74437122,"comment_id":131406145,"body_markdown":"You loop for each `home` tag, and only get the first `price` from each `home`.","body":"You loop for each <code>home</code> tag, and only get the first <code>price</code> from each <code>home</code>."},{"owner":{"account_id":26497533,"reputation":19,"user_id":20135002,"display_name":"david9999"},"score":0,"creation_date":1668469451,"post_id":74437122,"comment_id":131408268,"body_markdown":"but how i can do it? i can t have the summing, 150","body":"but how i can do it? i can t have the summing, 150"}],"owner":{"account_id":26497533,"reputation":19,"user_id":20135002,"display_name":"david9999"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1668455626,"creation_date":1668455626,"question_id":74437122,"body_markdown":"```\r\n&lt;home&gt;\r\n    &lt;price&gt; 10 &lt;/price&gt;\r\n    &lt;price&gt; 20 &lt;/price&gt;\r\n    &lt;price&gt; 30 &lt;/price&gt;\r\n    &lt;price&gt; 40 &lt;/price&gt;\r\n    &lt;price&gt; 50 &lt;/price&gt;\r\n&lt;/home&gt;\r\n```\r\nPlease how to sum xml  with a java program\r\n\r\n```\r\nimport org.w3c.dom.Document;\r\nimport org.w3c.dom.Element;\r\nimport org.w3c.dom.Node;\r\nimport org.w3c.dom.NodeList;\r\nimport org.xml.sax.SAXException;\r\n\r\nimport javax.xml.parsers.DocumentBuilder;\r\nimport javax.xml.parsers.DocumentBuilderFactory;\r\nimport javax.xml.parsers.ParserConfigurationException;\r\nimport java.io.IOException;\r\n\r\npublic class HobbyReader {\r\n    public static void main(String[] args) throws ParserConfigurationException, SAXException, IOException {\r\n\r\n            DocumentBuilderFactory factory =\r\n                    DocumentBuilderFactory.newInstance();\r\n            DocumentBuilder parser =\r\n                    factory.newDocumentBuilder();\r\n        Document doc = parser.parse(&quot;transactions.xml&quot;);\r\n            NodeList nList = doc.getElementsByTagName(&quot;home&quot;);\r\n        double value=0.0;\r\n        for (int i = 0; i &lt; nList.getLength(); i++)\r\n        {\r\n            org.w3c.dom.Node nNode = nList.item(i);\r\n\r\n            if (nNode.getNodeType() == Node.ELEMENT_NODE)\r\n            {\r\n                Element eElement = (Element) nNode;\r\n\r\n                String price = eElement.getElementsByTagName(&quot;price&quot;).item(0).getTextContent(); // example String\r\n                value = value  + Double.parseDouble(price);\r\n\r\n            }\r\n        }\r\n\r\n            for (int temp = 0; temp &lt; nList.getLength(); temp++) {\r\n                Node nNode = nList.item(temp);\r\n\r\n                if (nNode.getNodeType() == Node.ELEMENT_NODE) {\r\n                    Element eElement = (Element) nNode;\r\n                    System.out.println(&quot;Price: &quot; + eElement.getElementsByTagName(&quot;price&quot;).item(0).getTextContent());\r\n\r\n                }\r\n            }\r\n        System.out.println(value);\r\n    }\r\n    }\r\n\r\n```\r\ni need to have tue sum. 150\r\nCependant, ce que j&#39;essaie de comprendre, c&#39;est s&#39;il est possible de prendre les valeurs qui repr&#233;sentent les valeurs de &quot;prix&quot; que je tire d&#233;j&#224; et d&#39;en trouver la somme?","title":"Please how to sum xml with a java program","body":"<pre><code>&lt;home&gt;\n    &lt;price&gt; 10 &lt;/price&gt;\n    &lt;price&gt; 20 &lt;/price&gt;\n    &lt;price&gt; 30 &lt;/price&gt;\n    &lt;price&gt; 40 &lt;/price&gt;\n    &lt;price&gt; 50 &lt;/price&gt;\n&lt;/home&gt;\n</code></pre>\n<p>Please how to sum xml  with a java program</p>\n<pre><code>import org.w3c.dom.Document;\nimport org.w3c.dom.Element;\nimport org.w3c.dom.Node;\nimport org.w3c.dom.NodeList;\nimport org.xml.sax.SAXException;\n\nimport javax.xml.parsers.DocumentBuilder;\nimport javax.xml.parsers.DocumentBuilderFactory;\nimport javax.xml.parsers.ParserConfigurationException;\nimport java.io.IOException;\n\npublic class HobbyReader {\n    public static void main(String[] args) throws ParserConfigurationException, SAXException, IOException {\n\n            DocumentBuilderFactory factory =\n                    DocumentBuilderFactory.newInstance();\n            DocumentBuilder parser =\n                    factory.newDocumentBuilder();\n        Document doc = parser.parse(&quot;transactions.xml&quot;);\n            NodeList nList = doc.getElementsByTagName(&quot;home&quot;);\n        double value=0.0;\n        for (int i = 0; i &lt; nList.getLength(); i++)\n        {\n            org.w3c.dom.Node nNode = nList.item(i);\n\n            if (nNode.getNodeType() == Node.ELEMENT_NODE)\n            {\n                Element eElement = (Element) nNode;\n\n                String price = eElement.getElementsByTagName(&quot;price&quot;).item(0).getTextContent(); // example String\n                value = value  + Double.parseDouble(price);\n\n            }\n        }\n\n            for (int temp = 0; temp &lt; nList.getLength(); temp++) {\n                Node nNode = nList.item(temp);\n\n                if (nNode.getNodeType() == Node.ELEMENT_NODE) {\n                    Element eElement = (Element) nNode;\n                    System.out.println(&quot;Price: &quot; + eElement.getElementsByTagName(&quot;price&quot;).item(0).getTextContent());\n\n                }\n            }\n        System.out.println(value);\n    }\n    }\n\n</code></pre>\n<p>i need to have tue sum. 150\nCependant, ce que j'essaie de comprendre, c'est s'il est possible de prendre les valeurs qui représentent les valeurs de &quot;prix&quot; que je tire déjà et d'en trouver la somme?</p>\n"},{"tags":["java","multithreading","threadpool","executorservice"],"answers":[{"comments":[{"owner":{"account_id":51705,"reputation":21173,"user_id":154527,"accept_rate":100,"display_name":"Alain O&#39;Dea"},"score":36,"creation_date":1279327304,"post_id":3269453,"comment_id":3382272,"body_markdown":"shutdown() stops the ExecutorService from accepting new tasks and closes down idle worker threads. It is not specified to wait for the shutdown to complete and the implementation in ThreadPoolExecutor does not wait.","body":"shutdown() stops the ExecutorService from accepting new tasks and closes down idle worker threads. It is not specified to wait for the shutdown to complete and the implementation in ThreadPoolExecutor does not wait."},{"owner":{"account_id":97250,"reputation":22660,"user_id":263895,"accept_rate":100,"display_name":"NG."},"score":1,"creation_date":1279329648,"post_id":3269453,"comment_id":3382389,"body_markdown":"@Alain - thanks.  I should have mentioned awaitTermination.  Fixed.","body":"@Alain - thanks.  I should have mentioned awaitTermination.  Fixed."},{"owner":{"account_id":457589,"reputation":6475,"user_id":857012,"accept_rate":90,"display_name":"Rag"},"score":5,"creation_date":1333508296,"post_id":3269453,"comment_id":12789104,"body_markdown":"What if in order for a task to finish it must schedule further tasks? For example, you could make a multithreaded tree traversal which hands off branches to worker threads. In that case, since the ExecutorService is shut down instantly it fails to accept any recursively scheduled jobs.","body":"What if in order for a task to finish it must schedule further tasks? For example, you could make a multithreaded tree traversal which hands off branches to worker threads. In that case, since the ExecutorService is shut down instantly it fails to accept any recursively scheduled jobs."},{"owner":{"account_id":97250,"reputation":22660,"user_id":263895,"accept_rate":100,"display_name":"NG."},"score":0,"creation_date":1333633465,"post_id":3269453,"comment_id":12827832,"body_markdown":"That becomes an interesting problem.  One solution is you could utilize a separate executor service for child tasks only, and not expose it to users.  That might be inefficient though with the additional threads.  It sounds like you might need some more advanced life time management of the executor to determine when it is safe to call shutdown.","body":"That becomes an interesting problem.  One solution is you could utilize a separate executor service for child tasks only, and not expose it to users.  That might be inefficient though with the additional threads.  It sounds like you might need some more advanced life time management of the executor to determine when it is safe to call shutdown."},{"owner":{"account_id":15387,"reputation":63718,"user_id":32453,"accept_rate":92,"display_name":"rogerdpack"},"score":0,"creation_date":1360278002,"post_id":3269453,"comment_id":20663602,"body_markdown":"unfortunately after using shutdown, you can never schedule any more tasks, so basically have to new up your ExecutorService again, but it may be worth the trade off...if you have a stopping point where you know you won&#39;t be adding any new future threads, that is...","body":"unfortunately after using shutdown, you can never schedule any more tasks, so basically have to new up your ExecutorService again, but it may be worth the trade off...if you have a stopping point where you know you won&#39;t be adding any new future threads, that is..."},{"owner":{"account_id":163842,"reputation":2264,"user_id":1625487,"accept_rate":78,"display_name":"Abs"},"score":2,"creation_date":1364472139,"post_id":3269453,"comment_id":22261660,"body_markdown":"`awaitTermination` requires timeout time as a parameter. While it&#39;s possible to provide a finite time and place a loop around it to wait until all threads have finished, I was wondering if there was a more elegant solution.","body":"<code>awaitTermination</code> requires timeout time as a parameter. While it&#39;s possible to provide a finite time and place a loop around it to wait until all threads have finished, I was wondering if there was a more elegant solution."},{"owner":{"account_id":97250,"reputation":22660,"user_id":263895,"accept_rate":100,"display_name":"NG."},"score":2,"creation_date":1364479209,"post_id":3269453,"comment_id":22266198,"body_markdown":"You are right, but see this answer - http://stackoverflow.com/a/1250655/263895 - you could always give it an incredibly long timeout","body":"You are right, but see this answer - <a href=\"http://stackoverflow.com/a/1250655/263895\">stackoverflow.com/a/1250655/263895</a> - you could always give it an incredibly long timeout"},{"owner":{"account_id":125069,"reputation":6156,"user_id":320594,"accept_rate":77,"display_name":"Jaime Hablutzel"},"score":1,"creation_date":1543262631,"post_id":3269453,"comment_id":93846228,"body_markdown":"@NG., at first sight it seems that the `awaitTermination` API is incomplete because of not providing a way to allow to wait indefinitely.","body":"@NG., at first sight it seems that the <code>awaitTermination</code> API is incomplete because of not providing a way to allow to wait indefinitely."}],"tags":[],"owner":{"account_id":97250,"reputation":22660,"user_id":263895,"accept_rate":100,"display_name":"NG."},"comment_count":8,"down_vote_count":5,"up_vote_count":71,"is_accepted":false,"score":66,"last_activity_date":1473760960,"creation_date":1279322161,"answer_id":3269453,"question_id":3269445,"body_markdown":"If you want to wait for all tasks to complete, use the [`shutdown`][1] method instead of `wait`.  Then follow it with [`awaitTermination`][2].  \r\n\r\nAlso, you can use [`Runtime.availableProcessors`][3] to get the number of hardware threads so you can initialize your threadpool properly.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html#shutdown--\r\n  [2]: http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html#awaitTermination-long-java.util.concurrent.TimeUnit-\r\n  [3]: http://docs.oracle.com/javase/8/docs/api/java/lang/Runtime.html#availableProcessors--","title":"ExecutorService, how to wait for all tasks to finish","body":"<p>If you want to wait for all tasks to complete, use the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html#shutdown--\" rel=\"noreferrer\"><code>shutdown</code></a> method instead of <code>wait</code>.  Then follow it with <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html#awaitTermination-long-java.util.concurrent.TimeUnit-\" rel=\"noreferrer\"><code>awaitTermination</code></a>.  </p>\n\n<p>Also, you can use <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/Runtime.html#availableProcessors--\" rel=\"noreferrer\"><code>Runtime.availableProcessors</code></a> to get the number of hardware threads so you can initialize your threadpool properly.</p>\n"},{"comments":[{"owner":{"account_id":97250,"reputation":22660,"user_id":263895,"accept_rate":100,"display_name":"NG."},"score":0,"creation_date":1279335430,"post_id":3269455,"comment_id":3382736,"body_markdown":"I think it&#39;s awaitTermination.","body":"I think it&#39;s awaitTermination."},{"owner":{"account_id":128551,"reputation":57229,"user_id":326480,"accept_rate":82,"display_name":"mdma"},"score":0,"creation_date":1279365893,"post_id":3269455,"comment_id":3384093,"body_markdown":"@SB - Thanks - I see my memory is fallible! I&#39;ve updated the name and added a link to be sure.","body":"@SB - Thanks - I see my memory is fallible! I&#39;ve updated the name and added a link to be sure."},{"owner":{"account_id":15387,"reputation":63718,"user_id":32453,"accept_rate":92,"display_name":"rogerdpack"},"score":0,"creation_date":1410894169,"post_id":3269455,"comment_id":40494898,"body_markdown":"To wait &quot;forever,&quot; use it like `awaitTermination(Long.MAX_VALUE, TimeUnit.NANOSECONDS);` http://stackoverflow.com/a/1250655/32453","body":"To wait &quot;forever,&quot; use it like <code>awaitTermination(Long.MAX_VALUE, TimeUnit.NANOSECONDS);</code> <a href=\"http://stackoverflow.com/a/1250655/32453\">stackoverflow.com/a/1250655/32453</a>"},{"owner":{"account_id":16900,"reputation":24039,"user_id":37298,"accept_rate":88,"display_name":"Shervin Asgari"},"score":0,"creation_date":1454673641,"post_id":3269455,"comment_id":58161318,"body_markdown":"I think this is the easiest approach","body":"I think this is the easiest approach"},{"owner":{"account_id":125069,"reputation":6156,"user_id":320594,"accept_rate":77,"display_name":"Jaime Hablutzel"},"score":1,"creation_date":1543262775,"post_id":3269455,"comment_id":93846294,"body_markdown":"@MosheElisha, are you sure?. https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html#shutdown-- says _Initiates an orderly shutdown in which previously submitted tasks are executed, but no new tasks will be accepted._","body":"@MosheElisha, are you sure?. <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html#shutdown--\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/concurrent/&hellip;</a> says <i>Initiates an orderly shutdown in which previously submitted tasks are executed, but no new tasks will be accepted.</i>"},{"owner":{"account_id":55404,"reputation":1970,"user_id":165927,"accept_rate":67,"display_name":"MosheElisha"},"score":0,"creation_date":1543415544,"post_id":3269455,"comment_id":93912254,"body_markdown":"@JaimeHablutzel You are correct. I just tested it also and I believe I was wrong. I will delete my comment so it won&#39;t confuse people.","body":"@JaimeHablutzel You are correct. I just tested it also and I believe I was wrong. I will delete my comment so it won&#39;t confuse people."}],"tags":[],"owner":{"account_id":128551,"reputation":57229,"user_id":326480,"accept_rate":82,"display_name":"mdma"},"comment_count":6,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1477986690,"creation_date":1279322200,"answer_id":3269455,"question_id":3269445,"body_markdown":"If you want to wait for the executor service to finish executing, call `shutdown()` and then, [awaitTermination(units, unitType)][1], e.g. `awaitTermination(1, MINUTE)`. The ExecutorService does not block on it&#39;s own monitor, so you can&#39;t use `wait` etc.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html#awaitTermination-long-java.util.concurrent.TimeUnit-","title":"ExecutorService, how to wait for all tasks to finish","body":"<p>If you want to wait for the executor service to finish executing, call <code>shutdown()</code> and then, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html#awaitTermination-long-java.util.concurrent.TimeUnit-\" rel=\"noreferrer\">awaitTermination(units, unitType)</a>, e.g. <code>awaitTermination(1, MINUTE)</code>. The ExecutorService does not block on it's own monitor, so you can't use <code>wait</code> etc.</p>\n"},{"comments":[{"owner":{"account_id":30659,"reputation":22506,"user_id":83695,"accept_rate":86,"display_name":"andersoj"},"score":0,"creation_date":1279858321,"post_id":3269572,"comment_id":3436371,"body_markdown":"This is a good counterpoint to my answer -- I&#39;d say the straightforward answer to the question is invokeAll(); but @seh has it right when submitting groups of jobs to the ES and waiting for them to complete...  --JA","body":"This is a good counterpoint to my answer -- I&#39;d say the straightforward answer to the question is invokeAll(); but @seh has it right when submitting groups of jobs to the ES and waiting for them to complete...  --JA"},{"owner":{"account_id":15188,"reputation":15038,"user_id":31818,"display_name":"seh"},"score":0,"creation_date":1378140971,"post_id":3269572,"comment_id":27336279,"body_markdown":"@om-nom-nom, thank you for updating the links. I am glad to see that the answer is still useful.","body":"@om-nom-nom, thank you for updating the links. I am glad to see that the answer is still useful."},{"owner":{"account_id":282742,"reputation":21634,"user_id":579828,"accept_rate":83,"display_name":"Vic"},"score":1,"creation_date":1429614220,"post_id":3269572,"comment_id":47671233,"body_markdown":"Good answer, I wasn&#39;t aware of `CompletionService`","body":"Good answer, I wasn&#39;t aware of <code>CompletionService</code>"},{"owner":{"account_id":68306,"reputation":19143,"user_id":199364,"accept_rate":83,"display_name":"ToolmakerSteve"},"score":1,"creation_date":1441533315,"post_id":3269572,"comment_id":52709900,"body_markdown":"This is the approach to use, if you don&#39;t want to shutdown an existing ExecutorService, but just want to submit a batch of tasks, and know when they are all finished.","body":"This is the approach to use, if you don&#39;t want to shutdown an existing ExecutorService, but just want to submit a batch of tasks, and know when they are all finished."}],"tags":[],"owner":{"account_id":15188,"reputation":15038,"user_id":31818,"display_name":"seh"},"comment_count":4,"down_vote_count":0,"up_vote_count":52,"is_accepted":false,"score":52,"last_activity_date":1467106110,"creation_date":1279324430,"answer_id":3269572,"question_id":3269445,"body_markdown":"If waiting for all tasks in the `ExecutorService` to finish isn&#39;t precisely your goal, but rather waiting until a *specific batch of tasks* has completed, you can use a [`CompletionService`][1] &amp;mdash; specifically, an [`ExecutorCompletionService`][2].\r\n\r\nThe idea is to create an `ExecutorCompletionService` wrapping your `Executor`, [submit][3] some *known number* of tasks through the `CompletionService`, then draw that *same number* of results from the *completion queue* using either [`take()`][4] (which blocks) or [`poll()`][5] (which does not). Once you&#39;ve drawn all the expected results corresponding to the tasks you submitted, you know they&#39;re all done.\r\n\r\nLet me state this one more time, because it&#39;s not obvious from the interface: You must know how many things you put into the `CompletionService` in order to know how many things to try to draw out. This matters especially with the `take()` method: call it one time too many and it will block your calling thread until some other thread submits another job to the same `CompletionService`.\r\n\r\nThere are [some examples showing how to use `CompletionService`][6] in the book [*Java Concurrency in Practice*][7].\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletionService.html\r\n  [2]: http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorCompletionService.html\r\n  [3]: http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorCompletionService.html#submit(java.util.concurrent.Callable)\r\n  [4]: http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorCompletionService.html#take()\r\n  [5]: http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorCompletionService.html#poll()\r\n  [6]: http://jcip.net.s3-website-us-east-1.amazonaws.com/listings/Renderer.java\r\n  [7]: http://jcip.net/","title":"ExecutorService, how to wait for all tasks to finish","body":"<p>If waiting for all tasks in the <code>ExecutorService</code> to finish isn't precisely your goal, but rather waiting until a <em>specific batch of tasks</em> has completed, you can use a <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletionService.html\" rel=\"noreferrer\"><code>CompletionService</code></a> &mdash; specifically, an <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorCompletionService.html\" rel=\"noreferrer\"><code>ExecutorCompletionService</code></a>.</p>\n\n<p>The idea is to create an <code>ExecutorCompletionService</code> wrapping your <code>Executor</code>, <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorCompletionService.html#submit(java.util.concurrent.Callable)\" rel=\"noreferrer\">submit</a> some <em>known number</em> of tasks through the <code>CompletionService</code>, then draw that <em>same number</em> of results from the <em>completion queue</em> using either <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorCompletionService.html#take()\" rel=\"noreferrer\"><code>take()</code></a> (which blocks) or <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorCompletionService.html#poll()\" rel=\"noreferrer\"><code>poll()</code></a> (which does not). Once you've drawn all the expected results corresponding to the tasks you submitted, you know they're all done.</p>\n\n<p>Let me state this one more time, because it's not obvious from the interface: You must know how many things you put into the <code>CompletionService</code> in order to know how many things to try to draw out. This matters especially with the <code>take()</code> method: call it one time too many and it will block your calling thread until some other thread submits another job to the same <code>CompletionService</code>.</p>\n\n<p>There are <a href=\"http://jcip.net.s3-website-us-east-1.amazonaws.com/listings/Renderer.java\" rel=\"noreferrer\">some examples showing how to use <code>CompletionService</code></a> in the book <a href=\"http://jcip.net/\" rel=\"noreferrer\"><em>Java Concurrency in Practice</em></a>.</p>\n"},{"tags":[],"owner":{"account_id":51705,"reputation":21173,"user_id":154527,"accept_rate":100,"display_name":"Alain O&#39;Dea"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1447781933,"creation_date":1279326813,"answer_id":3269687,"question_id":3269445,"body_markdown":"You could wait jobs to finish on a certain interval:\r\n\r\n    int maxSecondsPerComputeDTask = 20;\r\n    try {\r\n        while (!es.awaitTermination(uniquePhrases.size() * maxSecondsPerComputeDTask, TimeUnit.SECONDS)) {\r\n            // consider giving up with a &#39;break&#39; statement under certain conditions\r\n        }\r\n    } catch (InterruptedException e) {\r\n        throw new RuntimeException(e);    \r\n    }\r\n\r\nOr you could use *ExecutorService*.**submit**(*Runnable*) and collect the *Future* objects that it returns and call **get()** on each in turn to wait for them to finish.\r\n\r\n    ExecutorService es = Executors.newFixedThreadPool(2);\r\n    Collection&lt;Future&lt;?&gt;&gt; futures = new LinkedList&lt;&lt;Future&lt;?&gt;&gt;();\r\n    for (DataTable singleTable : uniquePhrases) {\r\n        futures.add(es.submit(new ComputeDTask(singleTable)));\r\n    }\r\n    for (Future&lt;?&gt; future : futures) {\r\n       try {\r\n           future.get();\r\n       } catch (InterruptedException e) {\r\n           throw new RuntimeException(e);\r\n       } catch (ExecutionException e) {\r\n           throw new RuntimeException(e);\r\n       }\r\n    }\r\n\r\n*InterruptedException* is extremely important to handle properly.  It is what lets you or the users of your library terminate a long process safely.","title":"ExecutorService, how to wait for all tasks to finish","body":"<p>You could wait jobs to finish on a certain interval:</p>\n\n<pre><code>int maxSecondsPerComputeDTask = 20;\ntry {\n    while (!es.awaitTermination(uniquePhrases.size() * maxSecondsPerComputeDTask, TimeUnit.SECONDS)) {\n        // consider giving up with a 'break' statement under certain conditions\n    }\n} catch (InterruptedException e) {\n    throw new RuntimeException(e);    \n}\n</code></pre>\n\n<p>Or you could use <em>ExecutorService</em>.<strong>submit</strong>(<em>Runnable</em>) and collect the <em>Future</em> objects that it returns and call <strong>get()</strong> on each in turn to wait for them to finish.</p>\n\n<pre><code>ExecutorService es = Executors.newFixedThreadPool(2);\nCollection&lt;Future&lt;?&gt;&gt; futures = new LinkedList&lt;&lt;Future&lt;?&gt;&gt;();\nfor (DataTable singleTable : uniquePhrases) {\n    futures.add(es.submit(new ComputeDTask(singleTable)));\n}\nfor (Future&lt;?&gt; future : futures) {\n   try {\n       future.get();\n   } catch (InterruptedException e) {\n       throw new RuntimeException(e);\n   } catch (ExecutionException e) {\n       throw new RuntimeException(e);\n   }\n}\n</code></pre>\n\n<p><em>InterruptedException</em> is extremely important to handle properly.  It is what lets you or the users of your library terminate a long process safely.</p>\n"},{"comments":[{"owner":{"account_id":8641,"reputation":1651,"user_id":2161072,"display_name":"Desty"},"score":11,"creation_date":1379672782,"post_id":3269888,"comment_id":27923125,"body_markdown":"This is perfect if you&#39;re adding all of your jobs in a batch and you hang onto the list of Callables, but it won&#39;t work if you&#39;re calling ExecutorService.submit() in a callback or event-loop situation.","body":"This is perfect if you&#39;re adding all of your jobs in a batch and you hang onto the list of Callables, but it won&#39;t work if you&#39;re calling ExecutorService.submit() in a callback or event-loop situation."},{"owner":{"account_id":2691426,"reputation":3360,"user_id":2324685,"accept_rate":70,"display_name":"John29"},"score":4,"creation_date":1461680376,"post_id":3269888,"comment_id":61302400,"body_markdown":"I think it&#39;s worth mentioning that shutdown() still should be called when the ExecutorService is no longer needed, otherwise the threads will never terminate (except for the cases when corePoolSize=0 or allowCoreThreadTimeOut=true).","body":"I think it&#39;s worth mentioning that shutdown() still should be called when the ExecutorService is no longer needed, otherwise the threads will never terminate (except for the cases when corePoolSize=0 or allowCoreThreadTimeOut=true)."},{"owner":{"account_id":83276,"reputation":6162,"user_id":233598,"accept_rate":76,"display_name":"MohamedSanaulla"},"score":1,"creation_date":1492016000,"post_id":3269888,"comment_id":73813085,"body_markdown":"amazing! Just what I was looking for. Thanks a lot for sharing the answer. Let me try this out.","body":"amazing! Just what I was looking for. Thanks a lot for sharing the answer. Let me try this out."},{"owner":{"account_id":6094220,"reputation":509,"user_id":4755567,"accept_rate":23,"display_name":"TommyQu"},"score":1,"creation_date":1623293083,"post_id":3269888,"comment_id":120039548,"body_markdown":"@Desty In such situation, what will be the best way to implement?","body":"@Desty In such situation, what will be the best way to implement?"}],"tags":[],"owner":{"account_id":30659,"reputation":22506,"user_id":83695,"accept_rate":86,"display_name":"andersoj"},"comment_count":4,"down_vote_count":1,"up_vote_count":261,"is_accepted":false,"score":260,"last_activity_date":1583176985,"creation_date":1279331145,"answer_id":3269888,"question_id":3269445,"body_markdown":"The simplest approach is to use [`ExecutorService.invokeAll()`][1] which does what you want in a one-liner.  In your parlance, you&#39;ll need to modify or wrap `ComputeDTask` to implement `Callable&lt;&gt;`, which can give you quite a bit more flexibility.  Probably in your app there is a meaningful implementation of `Callable.call()`, but here&#39;s a way to wrap it if not using [`Executors.callable()`][2].\r\n\r\n    ExecutorService es = Executors.newFixedThreadPool(2);\r\n    List&lt;Callable&lt;Object&gt;&gt; todo = new ArrayList&lt;Callable&lt;Object&gt;&gt;(singleTable.size());\r\n    \r\n    for (DataTable singleTable: uniquePhrases) { \r\n        todo.add(Executors.callable(new ComputeDTask(singleTable))); \r\n    }\r\n    \r\n    List&lt;Future&lt;Object&gt;&gt; answers = es.invokeAll(todo);\r\n\r\nAs others have pointed out, you could use the timeout version of `invokeAll()` if appropriate.  In this example, `answers` is going to contain a bunch of `Future`s which will return nulls (see definition of `Executors.callable()`.  Probably what you want to do is a slight refactoring so you can get a useful answer back, or a reference to the underlying `ComputeDTask`, but I can&#39;t tell from your example.\r\n\r\nIf it isn&#39;t clear, note that `invokeAll()` will not return until all the tasks are completed.   (i.e., all the `Future`s in your `answers` collection will report `.isDone()` if asked.)  This avoids all the manual shutdown, awaitTermination, etc... and allows you to reuse this `ExecutorService` neatly for multiple cycles, if desired.\r\n\r\nThere are a few related questions on SO:\r\n\r\n- &lt;a href=&quot;https://stackoverflow.com/questions/1250643/java-how-to-wait-for-all-threads-to-finish&quot;&gt;How to wait for all threads to finish&lt;/a&gt;\r\n\r\n- &lt;a href=&quot;https://stackoverflow.com/questions/2314402/return-values-from-java-threads&quot;&gt;Return values from java threads&lt;/a&gt;\r\n\r\n- &lt;a href=&quot;https://stackoverflow.com/questions/370707/invokeall-is-not-willing-to-acept-a-collectioncallablet&quot;&gt;invokeAll() not willing to accept a Collection&amp;lt;Callable&amp;lt;t&amp;gt;&amp;gt;&lt;/a&gt;\r\n\r\n- &lt;a href=&quot;https://stackoverflow.com/questions/1360936/do-i-need-to-synchronize-on-the-result-of-an-invokeall-call&quot;&gt;Do I need to synchronize?&lt;/a&gt;\r\n\r\nNone of these are strictly on-point for your question, but they do provide a bit of color about how folks think `Executor`/`ExecutorService` ought to be used.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html#invokeAll-java.util.Collection-\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Executors.html#callable-java.lang.Runnable-","title":"ExecutorService, how to wait for all tasks to finish","body":"<p>The simplest approach is to use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html#invokeAll-java.util.Collection-\" rel=\"noreferrer\"><code>ExecutorService.invokeAll()</code></a> which does what you want in a one-liner.  In your parlance, you'll need to modify or wrap <code>ComputeDTask</code> to implement <code>Callable&lt;&gt;</code>, which can give you quite a bit more flexibility.  Probably in your app there is a meaningful implementation of <code>Callable.call()</code>, but here's a way to wrap it if not using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Executors.html#callable-java.lang.Runnable-\" rel=\"noreferrer\"><code>Executors.callable()</code></a>.</p>\n\n<pre><code>ExecutorService es = Executors.newFixedThreadPool(2);\nList&lt;Callable&lt;Object&gt;&gt; todo = new ArrayList&lt;Callable&lt;Object&gt;&gt;(singleTable.size());\n\nfor (DataTable singleTable: uniquePhrases) { \n    todo.add(Executors.callable(new ComputeDTask(singleTable))); \n}\n\nList&lt;Future&lt;Object&gt;&gt; answers = es.invokeAll(todo);\n</code></pre>\n\n<p>As others have pointed out, you could use the timeout version of <code>invokeAll()</code> if appropriate.  In this example, <code>answers</code> is going to contain a bunch of <code>Future</code>s which will return nulls (see definition of <code>Executors.callable()</code>.  Probably what you want to do is a slight refactoring so you can get a useful answer back, or a reference to the underlying <code>ComputeDTask</code>, but I can't tell from your example.</p>\n\n<p>If it isn't clear, note that <code>invokeAll()</code> will not return until all the tasks are completed.   (i.e., all the <code>Future</code>s in your <code>answers</code> collection will report <code>.isDone()</code> if asked.)  This avoids all the manual shutdown, awaitTermination, etc... and allows you to reuse this <code>ExecutorService</code> neatly for multiple cycles, if desired.</p>\n\n<p>There are a few related questions on SO:</p>\n\n<ul>\n<li><p><a href=\"https://stackoverflow.com/questions/1250643/java-how-to-wait-for-all-threads-to-finish\">How to wait for all threads to finish</a></p></li>\n<li><p><a href=\"https://stackoverflow.com/questions/2314402/return-values-from-java-threads\">Return values from java threads</a></p></li>\n<li><p><a href=\"https://stackoverflow.com/questions/370707/invokeall-is-not-willing-to-acept-a-collectioncallablet\">invokeAll() not willing to accept a Collection&lt;Callable&lt;t&gt;&gt;</a></p></li>\n<li><p><a href=\"https://stackoverflow.com/questions/1360936/do-i-need-to-synchronize-on-the-result-of-an-invokeall-call\">Do I need to synchronize?</a></p></li>\n</ul>\n\n<p>None of these are strictly on-point for your question, but they do provide a bit of color about how folks think <code>Executor</code>/<code>ExecutorService</code> ought to be used.</p>\n"},{"comments":[{"owner":{"account_id":10697077,"reputation":1565,"user_id":7873768,"display_name":"MDT"},"score":0,"creation_date":1592902600,"post_id":3936058,"comment_id":110583836,"body_markdown":"Doc Link is dead","body":"Doc Link is dead"}],"tags":[],"owner":{"account_id":77251,"reputation":17324,"user_id":220627,"accept_rate":79,"display_name":"Adrian Smith"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1593017623,"creation_date":1287078951,"answer_id":3936058,"question_id":3269445,"body_markdown":"I also have the situation that I have a set of documents to be crawled. I start with an initial &quot;seed&quot; document which should be processed, that document contains links to other documents which should also be processed, and so on.\r\n\r\nIn my main program, I just want to write something like the following, where `Crawler` controls a bunch of threads.\r\n\r\n    Crawler c = new Crawler();\r\n    c.schedule(seedDocument); \r\n    c.waitUntilCompletion()\r\n\r\nThe same situation would happen if I wanted to navigate a tree; i would pop in the root node, the processor for each node would add children to the queue as necessary, and a bunch of threads would process all the nodes in the tree, until there were no more.\r\n\r\nI couldn&#39;t find anything in the JVM which I thought was a bit surprising. So I wrote a class `ThreadPool` which one can either use directly or subclass to add methods suitable for the domain, e.g. `schedule(Document)`. Hope it helps!\r\n\r\n[ThreadPool Javadoc][1] | [Maven][2]\r\n\r\n[1]: https://javadoc.databasesandlife.com/com/databasesandlife/util/ThreadPool.html\r\n[2]: https://mvnrepository.com/artifact/com.databasesandlife/java-common","title":"ExecutorService, how to wait for all tasks to finish","body":"<p>I also have the situation that I have a set of documents to be crawled. I start with an initial &quot;seed&quot; document which should be processed, that document contains links to other documents which should also be processed, and so on.</p>\n<p>In my main program, I just want to write something like the following, where <code>Crawler</code> controls a bunch of threads.</p>\n<pre><code>Crawler c = new Crawler();\nc.schedule(seedDocument); \nc.waitUntilCompletion()\n</code></pre>\n<p>The same situation would happen if I wanted to navigate a tree; i would pop in the root node, the processor for each node would add children to the queue as necessary, and a bunch of threads would process all the nodes in the tree, until there were no more.</p>\n<p>I couldn't find anything in the JVM which I thought was a bit surprising. So I wrote a class <code>ThreadPool</code> which one can either use directly or subclass to add methods suitable for the domain, e.g. <code>schedule(Document)</code>. Hope it helps!</p>\n<p><a href=\"https://javadoc.databasesandlife.com/com/databasesandlife/util/ThreadPool.html\" rel=\"nofollow noreferrer\">ThreadPool Javadoc</a> | <a href=\"https://mvnrepository.com/artifact/com.databasesandlife/java-common\" rel=\"nofollow noreferrer\">Maven</a></p>\n"},{"comments":[{"owner":{"account_id":102164,"reputation":1904,"user_id":274414,"display_name":"David Mann"},"score":4,"creation_date":1382637843,"post_id":11919952,"comment_id":29047784,"body_markdown":"ExecutorServices makes things simpler","body":"ExecutorServices makes things simpler"}],"tags":[],"owner":{"account_id":317145,"reputation":6045,"user_id":633663,"display_name":"Vicky Kapadia"},"comment_count":1,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1344749543,"creation_date":1344749543,"answer_id":11919952,"question_id":3269445,"body_markdown":"A simple alternative to this is to use threads along with join.\r\nRefer : [Joining Threads][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/1908515/java-how-to-use-thread-join","title":"ExecutorService, how to wait for all tasks to finish","body":"<p>A simple alternative to this is to use threads along with join.\nRefer : <a href=\"https://stackoverflow.com/questions/1908515/java-how-to-use-thread-join\">Joining Threads</a></p>\n"},{"tags":[],"owner":{"account_id":209369,"reputation":107,"user_id":460343,"display_name":"punkers"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1392036880,"creation_date":1392036880,"answer_id":21677832,"question_id":3269445,"body_markdown":"I will just wait for the executor to terminate with a specified timeout that you think  it is suitable for the tasks to complete.\r\n\r\n\r\n  \r\n\r\n     try {  \r\n             //do stuff here \r\n             exe.execute(thread);\r\n        } finally {\r\n            exe.shutdown();\r\n        }\r\n        boolean result = exe.awaitTermination(4, TimeUnit.HOURS);\r\n        if (!result)\r\n\r\n        {\r\n            LOGGER.error(&quot;It took more than 4 hour for the executor to stop, this shouldn&#39;t be the normal behaviour.&quot;);\r\n        }\r\n\r\n  \r\n\r\n\r\n","title":"ExecutorService, how to wait for all tasks to finish","body":"<p>I will just wait for the executor to terminate with a specified timeout that you think  it is suitable for the tasks to complete.</p>\n\n<pre><code> try {  \n         //do stuff here \n         exe.execute(thread);\n    } finally {\n        exe.shutdown();\n    }\n    boolean result = exe.awaitTermination(4, TimeUnit.HOURS);\n    if (!result)\n\n    {\n        LOGGER.error(\"It took more than 4 hour for the executor to stop, this shouldn't be the normal behaviour.\");\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3826074,"reputation":449,"user_id":3172885,"display_name":"zgormez"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1402053784,"creation_date":1402053784,"answer_id":24080652,"question_id":3269445,"body_markdown":"Add all threads in collection and submit it using `invokeAll`.\r\nIf you can use `invokeAll` method of `ExecutorService`, JVM won’t proceed to next line until all threads are complete.\r\n\r\nHere there is a good example:\r\n[invokeAll via ExecutorService ][1]\r\n\r\n\r\n  [1]: http://jovialjava.blogspot.com.tr/2011/01/part-7-javautilconcurrent-invokeall-via.html","title":"ExecutorService, how to wait for all tasks to finish","body":"<p>Add all threads in collection and submit it using <code>invokeAll</code>.\nIf you can use <code>invokeAll</code> method of <code>ExecutorService</code>, JVM won’t proceed to next line until all threads are complete.</p>\n\n<p>Here there is a good example:\n<a href=\"http://jovialjava.blogspot.com.tr/2011/01/part-7-javautilconcurrent-invokeall-via.html\" rel=\"nofollow\">invokeAll via ExecutorService </a></p>\n"},{"comments":[{"owner":{"account_id":5100146,"reputation":869,"user_id":4090002,"display_name":"Marcell"},"score":0,"creation_date":1612554903,"post_id":28086315,"comment_id":116812858,"body_markdown":"Don&#39;t forget to catch the InterruptedException while awaiting.","body":"Don&#39;t forget to catch the InterruptedException while awaiting."}],"tags":[],"owner":{"account_id":5665861,"reputation":81,"user_id":4482067,"display_name":"J. Ruhe"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1421922055,"creation_date":1421922055,"answer_id":28086315,"question_id":3269445,"body_markdown":"Just use \r\n\r\n    latch = new CountDownLatch(noThreads)\r\n\r\nIn each thread \r\n\r\n    latch.countDown();\r\n\r\nand as barrier\r\n\r\n    latch.await();","title":"ExecutorService, how to wait for all tasks to finish","body":"<p>Just use </p>\n\n<pre><code>latch = new CountDownLatch(noThreads)\n</code></pre>\n\n<p>In each thread </p>\n\n<pre><code>latch.countDown();\n</code></pre>\n\n<p>and as barrier</p>\n\n<pre><code>latch.await();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":68303,"reputation":8315,"user_id":199360,"accept_rate":68,"display_name":"adib"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1475088925,"creation_date":1429416419,"answer_id":29725666,"question_id":3269445,"body_markdown":"Sounds like you need [`ForkJoinPool`](http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ForkJoinPool.html) and use the global pool to execute tasks.\r\n\r\n    public static void main(String[] args) {\r\n        // the default `commonPool` should be sufficient for many cases.\r\n        ForkJoinPool pool = ForkJoinPool.commonPool(); \r\n        // The root of your task that may spawn other tasks. \r\n        // Make sure it submits the additional tasks to the same executor that it is in.\r\n        Runnable rootTask = new YourTask(pool); \r\n        pool.execute(rootTask);\r\n        pool.awaitQuiescence(...);\r\n        // that&#39;s it.\r\n    }\r\n\r\nThe beauty is in `pool.awaitQuiescence` where the method will block utilize the caller&#39;s thread to execute its tasks and then return when it is _really_ empty.\r\n\r\n","title":"ExecutorService, how to wait for all tasks to finish","body":"<p>Sounds like you need <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ForkJoinPool.html\" rel=\"nofollow\"><code>ForkJoinPool</code></a> and use the global pool to execute tasks.</p>\n\n<pre><code>public static void main(String[] args) {\n    // the default `commonPool` should be sufficient for many cases.\n    ForkJoinPool pool = ForkJoinPool.commonPool(); \n    // The root of your task that may spawn other tasks. \n    // Make sure it submits the additional tasks to the same executor that it is in.\n    Runnable rootTask = new YourTask(pool); \n    pool.execute(rootTask);\n    pool.awaitQuiescence(...);\n    // that's it.\n}\n</code></pre>\n\n<p>The beauty is in <code>pool.awaitQuiescence</code> where the method will block utilize the caller's thread to execute its tasks and then return when it is <em>really</em> empty.</p>\n"},{"tags":[],"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1472808622,"creation_date":1460995742,"answer_id":36699136,"question_id":3269445,"body_markdown":"Root cause for [IllegalMonitorStateException][1]:\r\n\r\n&gt; Thrown to indicate that a thread has attempted to wait on an object&#39;s monitor or to notify other threads waiting on an object&#39;s monitor without owning the specified monitor.\r\n\r\nFrom your code, you have just called wait() on ExecutorService without owning the lock.\r\n\r\nBelow code will fix `IllegalMonitorStateException`\r\n\r\n    try \r\n    {\r\n        synchronized(es){\r\n            es.wait(); // Add some condition before you call wait()\r\n        }\r\n    } \r\n\r\nFollow one of below approaches to wait for completion of all tasks, which have been submitted to `ExecutorService`. \r\n\r\n1. Iterate through all `Future` tasks from `submit` on `ExecutorService` and check the status with blocking call `get()` on `Future` object\r\n\r\n2. Using [invokeAll][2] on `ExecutorService` \r\n\r\n3. Using [CountDownLatch][3]\r\n\r\n4. Using [ForkJoinPool][4] or [newWorkStealingPool][5] of `Executors`(since java 8)\r\n\r\n5. Shutdown the pool as recommended in oracle documentation [page][6]\r\n\r\n        void shutdownAndAwaitTermination(ExecutorService pool) {\r\n           pool.shutdown(); // Disable new tasks from being submitted\r\n           try {\r\n           // Wait a while for existing tasks to terminate\r\n           if (!pool.awaitTermination(60, TimeUnit.SECONDS)) {\r\n               pool.shutdownNow(); // Cancel currently executing tasks\r\n               // Wait a while for tasks to respond to being cancelled\r\n               if (!pool.awaitTermination(60, TimeUnit.SECONDS))\r\n               System.err.println(&quot;Pool did not terminate&quot;);\r\n           }\r\n        } catch (InterruptedException ie) {\r\n             // (Re-)Cancel if current thread also interrupted\r\n             pool.shutdownNow();\r\n             // Preserve interrupt status\r\n             Thread.currentThread().interrupt();\r\n        }\r\n\r\n If you want to gracefully wait for all tasks for completion when you are using option 5 instead of options 1 to 4, change \r\n\r\n        if (!pool.awaitTermination(60, TimeUnit.SECONDS)) {\r\n\r\n to\r\n\r\n a `while(condition)` which checks for every 1 minute.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalMonitorStateException.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html#invokeAll-java.util.Collection-\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CountDownLatch.html\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ForkJoinPool.html\r\n  [5]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Executors.html#newWorkStealingPool--\r\n  [6]: http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html\r\n","title":"ExecutorService, how to wait for all tasks to finish","body":"<p>Root cause for <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalMonitorStateException.html\" rel=\"noreferrer\">IllegalMonitorStateException</a>:</p>\n\n<blockquote>\n  <p>Thrown to indicate that a thread has attempted to wait on an object's monitor or to notify other threads waiting on an object's monitor without owning the specified monitor.</p>\n</blockquote>\n\n<p>From your code, you have just called wait() on ExecutorService without owning the lock.</p>\n\n<p>Below code will fix <code>IllegalMonitorStateException</code></p>\n\n<pre><code>try \n{\n    synchronized(es){\n        es.wait(); // Add some condition before you call wait()\n    }\n} \n</code></pre>\n\n<p>Follow one of below approaches to wait for completion of all tasks, which have been submitted to <code>ExecutorService</code>. </p>\n\n<ol>\n<li><p>Iterate through all <code>Future</code> tasks from <code>submit</code> on <code>ExecutorService</code> and check the status with blocking call <code>get()</code> on <code>Future</code> object</p></li>\n<li><p>Using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html#invokeAll-java.util.Collection-\" rel=\"noreferrer\">invokeAll</a> on <code>ExecutorService</code> </p></li>\n<li><p>Using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CountDownLatch.html\" rel=\"noreferrer\">CountDownLatch</a></p></li>\n<li><p>Using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ForkJoinPool.html\" rel=\"noreferrer\">ForkJoinPool</a> or <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Executors.html#newWorkStealingPool--\" rel=\"noreferrer\">newWorkStealingPool</a> of <code>Executors</code>(since java 8)</p></li>\n<li><p>Shutdown the pool as recommended in oracle documentation <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html\" rel=\"noreferrer\">page</a></p>\n\n<pre><code>void shutdownAndAwaitTermination(ExecutorService pool) {\n   pool.shutdown(); // Disable new tasks from being submitted\n   try {\n   // Wait a while for existing tasks to terminate\n   if (!pool.awaitTermination(60, TimeUnit.SECONDS)) {\n       pool.shutdownNow(); // Cancel currently executing tasks\n       // Wait a while for tasks to respond to being cancelled\n       if (!pool.awaitTermination(60, TimeUnit.SECONDS))\n       System.err.println(\"Pool did not terminate\");\n   }\n} catch (InterruptedException ie) {\n     // (Re-)Cancel if current thread also interrupted\n     pool.shutdownNow();\n     // Preserve interrupt status\n     Thread.currentThread().interrupt();\n}\n</code></pre>\n\n<p>If you want to gracefully wait for all tasks for completion when you are using option 5 instead of options 1 to 4, change </p>\n\n<pre><code>if (!pool.awaitTermination(60, TimeUnit.SECONDS)) {\n</code></pre>\n\n<p>to</p>\n\n<p>a <code>while(condition)</code> which checks for every 1 minute.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":371567,"reputation":1694,"user_id":720163,"accept_rate":73,"display_name":"Matej Tymes"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1471898861,"creation_date":1461925104,"answer_id":36935718,"question_id":3269445,"body_markdown":"Submit your tasks into the **Runner** and then wait calling the method **waitTillDone()** like this:\r\n\r\n    Runner runner = Runner.runner(2);\r\n\r\n    for (DataTable singleTable : uniquePhrases) {\r\n\r\n        runner.run(new ComputeDTask(singleTable));\r\n    }\r\n\r\n    // blocks until all tasks are finished (or failed)\r\n    runner.waitTillDone();\r\n\r\n    runner.shutdown();\r\n\r\nTo use it add this gradle/maven dependency: `&#39;com.github.matejtymes:javafixes:1.0&#39;`\r\n\r\nFor more details look here: https://github.com/MatejTymes/JavaFixes or here: http://matejtymes.blogspot.com/2016/04/executor-that-notifies-you-when-task.html","title":"ExecutorService, how to wait for all tasks to finish","body":"<p>Submit your tasks into the <strong>Runner</strong> and then wait calling the method <strong>waitTillDone()</strong> like this:</p>\n\n<pre><code>Runner runner = Runner.runner(2);\n\nfor (DataTable singleTable : uniquePhrases) {\n\n    runner.run(new ComputeDTask(singleTable));\n}\n\n// blocks until all tasks are finished (or failed)\nrunner.waitTillDone();\n\nrunner.shutdown();\n</code></pre>\n\n<p>To use it add this gradle/maven dependency: <code>'com.github.matejtymes:javafixes:1.0'</code></p>\n\n<p>For more details look here: <a href=\"https://github.com/MatejTymes/JavaFixes\" rel=\"nofollow\">https://github.com/MatejTymes/JavaFixes</a> or here: <a href=\"http://matejtymes.blogspot.com/2016/04/executor-that-notifies-you-when-task.html\" rel=\"nofollow\">http://matejtymes.blogspot.com/2016/04/executor-that-notifies-you-when-task.html</a></p>\n"},{"tags":[],"owner":{"account_id":7460660,"reputation":2741,"user_id":5672261,"accept_rate":72,"display_name":"Nitin"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1523338924,"creation_date":1523338924,"answer_id":49746114,"question_id":3269445,"body_markdown":"You can use `ExecutorService.invokeAll` method, It will execute all task and wait till all threads finished their task.\r\n\r\nHere is complete [javadoc][1]\r\n\r\nYou can also user overloaded version of this method to specify the timeout.\r\n\r\nHere is sample code with `ExecutorService.invokeAll`\r\n\r\n    public class Test {\r\n    \tpublic static void main(String[] args) throws InterruptedException, ExecutionException {\r\n    \t\tExecutorService service = Executors.newFixedThreadPool(3);\r\n    \t\tList&lt;Callable&lt;String&gt;&gt; taskList = new ArrayList&lt;&gt;();\r\n    \t\ttaskList.add(new Task1());\r\n    \t\ttaskList.add(new Task2());\r\n    \t\tList&lt;Future&lt;String&gt;&gt; results = service.invokeAll(taskList);\r\n    \t\tfor (Future&lt;String&gt; f : results) {\r\n    \t\t\tSystem.out.println(f.get());\r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n    \r\n    class Task1 implements Callable&lt;String&gt; {\r\n    \t@Override\r\n    \tpublic String call() throws Exception {\r\n    \t\ttry {\r\n    \t\t\tThread.sleep(2000);\r\n    \t\t\treturn &quot;Task 1 done&quot;;\r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t\treturn &quot; error in task1&quot;;\r\n    \t\t}\r\n    \t}\r\n    }\r\n    \r\n    class Task2 implements Callable&lt;String&gt; {\r\n    \t@Override\r\n    \tpublic String call() throws Exception {\r\n    \t\ttry {\r\n    \t\t\tThread.sleep(3000);\r\n    \t\t\treturn &quot;Task 2 done&quot;;\r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t\treturn &quot; error in task2&quot;;\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutorService.html#invokeAll(java.util.Collection)\r\n","title":"ExecutorService, how to wait for all tasks to finish","body":"<p>You can use <code>ExecutorService.invokeAll</code> method, It will execute all task and wait till all threads finished their task.</p>\n\n<p>Here is complete <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutorService.html#invokeAll(java.util.Collection)\" rel=\"noreferrer\">javadoc</a></p>\n\n<p>You can also user overloaded version of this method to specify the timeout.</p>\n\n<p>Here is sample code with <code>ExecutorService.invokeAll</code></p>\n\n<pre><code>public class Test {\n    public static void main(String[] args) throws InterruptedException, ExecutionException {\n        ExecutorService service = Executors.newFixedThreadPool(3);\n        List&lt;Callable&lt;String&gt;&gt; taskList = new ArrayList&lt;&gt;();\n        taskList.add(new Task1());\n        taskList.add(new Task2());\n        List&lt;Future&lt;String&gt;&gt; results = service.invokeAll(taskList);\n        for (Future&lt;String&gt; f : results) {\n            System.out.println(f.get());\n        }\n    }\n\n}\n\nclass Task1 implements Callable&lt;String&gt; {\n    @Override\n    public String call() throws Exception {\n        try {\n            Thread.sleep(2000);\n            return \"Task 1 done\";\n        } catch (Exception e) {\n            e.printStackTrace();\n            return \" error in task1\";\n        }\n    }\n}\n\nclass Task2 implements Callable&lt;String&gt; {\n    @Override\n    public String call() throws Exception {\n        try {\n            Thread.sleep(3000);\n            return \"Task 2 done\";\n        } catch (Exception e) {\n            e.printStackTrace();\n            return \" error in task2\";\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10175078,"reputation":67,"user_id":7514037,"display_name":"钱宇豪"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597032015,"creation_date":1597032015,"answer_id":63333976,"question_id":3269445,"body_markdown":"how about this?\r\n``` java\r\nObject lock = new Object();\r\nCountDownLatch cdl = new CountDownLatch(threadNum);\r\nfor (int i = 0; i &lt; threadNum; i++) {\r\n\texecutorService.execute(() -&gt; {\r\n\r\n\t\tsynchronized (lock) {\r\n\t\t\tcdl.countDown();\r\n\t\t\ttry {\r\n\t\t\t\tlock.wait();\r\n\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\tThread.currentThread().interrupt();\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n}\r\ncdl.await();\r\nsynchronized (lock) {\r\n\tlock.notifyAll();\r\n}\r\n```\r\n\r\nif you do not add new tasks to ExecutorService , this may wait for all current tasks completed","title":"ExecutorService, how to wait for all tasks to finish","body":"<p>how about this?</p>\n<pre class=\"lang-java prettyprint-override\"><code>Object lock = new Object();\nCountDownLatch cdl = new CountDownLatch(threadNum);\nfor (int i = 0; i &lt; threadNum; i++) {\n    executorService.execute(() -&gt; {\n\n        synchronized (lock) {\n            cdl.countDown();\n            try {\n                lock.wait();\n            } catch (InterruptedException e) {\n                Thread.currentThread().interrupt();\n            }\n        }\n    });\n}\ncdl.await();\nsynchronized (lock) {\n    lock.notifyAll();\n}\n</code></pre>\n<p>if you do not add new tasks to ExecutorService , this may wait for all current tasks completed</p>\n"},{"tags":[],"owner":{"account_id":1449510,"reputation":48192,"user_id":1366871,"accept_rate":100,"display_name":"dreamcrash"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1668455566,"creation_date":1645522714,"answer_id":71218913,"question_id":3269445,"body_markdown":"There are several approaches.\r\n\r\nYou can call first [ExecutorService.shutdown][1] and then [ExecutorService.awaitTermination][2] which returns:\r\n\r\n&gt; `true` if this executor terminated and `false` if the timeout elapsed\r\n&gt; before termination\r\n\r\nSo:\r\n\r\n&gt; There is a function called `awaitTermination` But a timeout has to be\r\n&gt; provided in it. Which is not a guarantee that when this returns all\r\n&gt; the tasks would have been finished. Is there a way to achieve this?\r\n\r\nYou just have to call `awaitTermination` in a loop.\r\n\r\n**Using `awaitTermination`:**\r\n\r\nA full example of this implementation:\r\n\r\n    public class WaitForAllToEnd {\r\n    \r\n        public static void main(String[] args) throws InterruptedException {\r\n            final int total_threads = 4;\r\n            ExecutorService executor = Executors.newFixedThreadPool(total_threads);\r\n            for(int i = 0; i &lt; total_threads; i++){\r\n                executor.execute(parallelWork(100 + i * 100));\r\n            }\r\n    \r\n            int count = 0;\r\n    \r\n            // This is the relevant part\r\n            // Chose the delay most appropriate for your use case\r\n            executor.shutdown();\r\n            while (!executor.awaitTermination(100, TimeUnit.MILLISECONDS)) {\r\n                System.out.println(&quot;Waiting &quot;+ count);\r\n                count++;\r\n            }\r\n        }\r\n    \r\n        private static Runnable parallelWork(long sleepMillis) {\r\n            return () -&gt; {\r\n                try {\r\n                    Thread.sleep(sleepMillis);\r\n                } catch (InterruptedException e) {\r\n                    // Do Something\r\n                }\r\n                System.out.println(&quot;I am Thread : &quot; + Thread.currentThread().getId());\r\n            };\r\n        }\r\n    }\r\n\r\n**Using `CountDownLatch`:**\r\n\r\nAnother option is to create a [CountDownLatch][3] with a `count` equal to the number of parallel tasks. Each thread calls `countDownLatch.countDown();`, while the *main* thread calls `countDownLatch.await();`.\r\n\r\nA full example of this implementation:\r\n\r\n    public class WaitForAllToEnd {\r\n    \r\n        public static void main(String[] args) throws InterruptedException {\r\n            final int total_threads = 4;\r\n            CountDownLatch countDownLatch = new CountDownLatch(total_threads);\r\n            ExecutorService executor = Executors.newFixedThreadPool(total_threads);\r\n            for(int i = 0; i &lt; total_threads; i++){\r\n                executor.execute(parallelWork(100 + i * 100, countDownLatch));\r\n            }\r\n            countDownLatch.await();\r\n            System.out.println(&quot;Exit&quot;);\r\n            executor.shutdown();\r\n        }\r\n    \r\n        private static Runnable parallelWork(long sleepMillis, CountDownLatch countDownLatch) {\r\n            return () -&gt; {\r\n                try {\r\n                    Thread.sleep(sleepMillis);\r\n                } catch (InterruptedException e) {\r\n                    // Do Something\r\n                }\r\n                System.out.println(&quot;I am Thread : &quot; + Thread.currentThread().getId());\r\n                countDownLatch.countDown();\r\n            };\r\n        }\r\n    }\r\n\r\n**Using `CyclicBarrier`:**\r\n\r\nAnother approach is to use a [Cyclic Barrier][4]\r\n\r\n    public class WaitForAllToEnd {\r\n    \r\n        public static void main(String[] args) throws InterruptedException, BrokenBarrierException {\r\n            final int total_threads = 4;\r\n            CyclicBarrier barrier = new CyclicBarrier(total_threads+ 1);\r\n            ExecutorService executor = Executors.newFixedThreadPool(total_threads);\r\n            for(int i = 0; i &lt; total_threads; i++){\r\n                executor.execute(parallelWork(100 + i * 100, barrier));\r\n            }\r\n            barrier.await();\r\n            System.out.println(&quot;Exit&quot;);\r\n            executor.shutdown();\r\n        }\r\n    \r\n        private static Runnable parallelWork(long sleepMillis, CyclicBarrier barrier) {\r\n            return () -&gt; {\r\n                try {\r\n                    Thread.sleep(sleepMillis);\r\n                } catch (InterruptedException e) {\r\n                    // Do Something\r\n                }\r\n                System.out.println(&quot;I am Thread : &quot; + Thread.currentThread().getId());\r\n                try {\r\n                    barrier.await();\r\n                } catch (InterruptedException | BrokenBarrierException e) {\r\n                  // Do something\r\n                }\r\n            };\r\n        }\r\n    }\r\n\r\nThere are other approaches as well but those would require changes to your initial requirements, namely:\r\n\r\n&gt; How to wait for all tasks to be completed when they are submitted\r\n&gt; using  ExecutorService.execute() .\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutorService.html#shutdown()\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutorService.html#awaitTermination(long,%20java.util.concurrent.TimeUnit)\r\n  [3]: https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/CountDownLatch.html\r\n  [4]: https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/CyclicBarrier.html","title":"ExecutorService, how to wait for all tasks to finish","body":"<p>There are several approaches.</p>\n<p>You can call first <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutorService.html#shutdown()\" rel=\"noreferrer\">ExecutorService.shutdown</a> and then <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutorService.html#awaitTermination(long,%20java.util.concurrent.TimeUnit)\" rel=\"noreferrer\">ExecutorService.awaitTermination</a> which returns:</p>\n<blockquote>\n<p><code>true</code> if this executor terminated and <code>false</code> if the timeout elapsed\nbefore termination</p>\n</blockquote>\n<p>So:</p>\n<blockquote>\n<p>There is a function called <code>awaitTermination</code> But a timeout has to be\nprovided in it. Which is not a guarantee that when this returns all\nthe tasks would have been finished. Is there a way to achieve this?</p>\n</blockquote>\n<p>You just have to call <code>awaitTermination</code> in a loop.</p>\n<p><strong>Using <code>awaitTermination</code>:</strong></p>\n<p>A full example of this implementation:</p>\n<pre><code>public class WaitForAllToEnd {\n\n    public static void main(String[] args) throws InterruptedException {\n        final int total_threads = 4;\n        ExecutorService executor = Executors.newFixedThreadPool(total_threads);\n        for(int i = 0; i &lt; total_threads; i++){\n            executor.execute(parallelWork(100 + i * 100));\n        }\n\n        int count = 0;\n\n        // This is the relevant part\n        // Chose the delay most appropriate for your use case\n        executor.shutdown();\n        while (!executor.awaitTermination(100, TimeUnit.MILLISECONDS)) {\n            System.out.println(&quot;Waiting &quot;+ count);\n            count++;\n        }\n    }\n\n    private static Runnable parallelWork(long sleepMillis) {\n        return () -&gt; {\n            try {\n                Thread.sleep(sleepMillis);\n            } catch (InterruptedException e) {\n                // Do Something\n            }\n            System.out.println(&quot;I am Thread : &quot; + Thread.currentThread().getId());\n        };\n    }\n}\n</code></pre>\n<p><strong>Using <code>CountDownLatch</code>:</strong></p>\n<p>Another option is to create a <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/CountDownLatch.html\" rel=\"noreferrer\">CountDownLatch</a> with a <code>count</code> equal to the number of parallel tasks. Each thread calls <code>countDownLatch.countDown();</code>, while the <em>main</em> thread calls <code>countDownLatch.await();</code>.</p>\n<p>A full example of this implementation:</p>\n<pre><code>public class WaitForAllToEnd {\n\n    public static void main(String[] args) throws InterruptedException {\n        final int total_threads = 4;\n        CountDownLatch countDownLatch = new CountDownLatch(total_threads);\n        ExecutorService executor = Executors.newFixedThreadPool(total_threads);\n        for(int i = 0; i &lt; total_threads; i++){\n            executor.execute(parallelWork(100 + i * 100, countDownLatch));\n        }\n        countDownLatch.await();\n        System.out.println(&quot;Exit&quot;);\n        executor.shutdown();\n    }\n\n    private static Runnable parallelWork(long sleepMillis, CountDownLatch countDownLatch) {\n        return () -&gt; {\n            try {\n                Thread.sleep(sleepMillis);\n            } catch (InterruptedException e) {\n                // Do Something\n            }\n            System.out.println(&quot;I am Thread : &quot; + Thread.currentThread().getId());\n            countDownLatch.countDown();\n        };\n    }\n}\n</code></pre>\n<p><strong>Using <code>CyclicBarrier</code>:</strong></p>\n<p>Another approach is to use a <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/CyclicBarrier.html\" rel=\"noreferrer\">Cyclic Barrier</a></p>\n<pre><code>public class WaitForAllToEnd {\n\n    public static void main(String[] args) throws InterruptedException, BrokenBarrierException {\n        final int total_threads = 4;\n        CyclicBarrier barrier = new CyclicBarrier(total_threads+ 1);\n        ExecutorService executor = Executors.newFixedThreadPool(total_threads);\n        for(int i = 0; i &lt; total_threads; i++){\n            executor.execute(parallelWork(100 + i * 100, barrier));\n        }\n        barrier.await();\n        System.out.println(&quot;Exit&quot;);\n        executor.shutdown();\n    }\n\n    private static Runnable parallelWork(long sleepMillis, CyclicBarrier barrier) {\n        return () -&gt; {\n            try {\n                Thread.sleep(sleepMillis);\n            } catch (InterruptedException e) {\n                // Do Something\n            }\n            System.out.println(&quot;I am Thread : &quot; + Thread.currentThread().getId());\n            try {\n                barrier.await();\n            } catch (InterruptedException | BrokenBarrierException e) {\n              // Do something\n            }\n        };\n    }\n}\n</code></pre>\n<p>There are other approaches as well but those would require changes to your initial requirements, namely:</p>\n<blockquote>\n<p>How to wait for all tasks to be completed when they are submitted\nusing  ExecutorService.execute() .</p>\n</blockquote>\n"}],"owner":{"account_id":629667,"reputation":2741,"user_id":377282,"accept_rate":50,"display_name":"george smiley"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":266571,"favorite_count":0,"down_vote_count":0,"up_vote_count":243,"answer_count":16,"score":243,"last_activity_date":1668455566,"creation_date":1279321975,"question_id":3269445,"body_markdown":"What is the simplest way to to wait for all tasks of `ExecutorService` to finish? My task is primarily computational, so I just want to run a large number of jobs - one on each core.  Right now my setup looks like this: \r\n\r\n    ExecutorService es = Executors.newFixedThreadPool(2);\r\n    for (DataTable singleTable : uniquePhrases) {\t\r\n        es.execute(new ComputeDTask(singleTable));\r\n    }\r\n    try{\r\n        es.wait();\r\n    } \r\n    catch (InterruptedException e){\r\n        e.printStackTrace();\r\n    }\r\n\r\n`ComputeDTask` implements runnable.  This appears to execute the tasks correctly, but the code crashes on `wait()` with `IllegalMonitorStateException`.  This is odd, because I played around with some toy examples and it appeared to work.  \r\n\r\n`uniquePhrases` contains several tens of thousands of elements.  Should I be using another method?  I am looking for something as simple as possible","title":"ExecutorService, how to wait for all tasks to finish","body":"<p>What is the simplest way to to wait for all tasks of <code>ExecutorService</code> to finish? My task is primarily computational, so I just want to run a large number of jobs - one on each core.  Right now my setup looks like this: </p>\n\n<pre><code>ExecutorService es = Executors.newFixedThreadPool(2);\nfor (DataTable singleTable : uniquePhrases) {   \n    es.execute(new ComputeDTask(singleTable));\n}\ntry{\n    es.wait();\n} \ncatch (InterruptedException e){\n    e.printStackTrace();\n}\n</code></pre>\n\n<p><code>ComputeDTask</code> implements runnable.  This appears to execute the tasks correctly, but the code crashes on <code>wait()</code> with <code>IllegalMonitorStateException</code>.  This is odd, because I played around with some toy examples and it appeared to work.  </p>\n\n<p><code>uniquePhrases</code> contains several tens of thousands of elements.  Should I be using another method?  I am looking for something as simple as possible</p>\n"},{"tags":["java","testing","assertion","assertj"],"answers":[{"comments":[{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":2,"creation_date":1554561768,"post_id":55550082,"comment_id":97801760,"body_markdown":"or also `.matches(s -&gt; OPTIONS.stream().anyMatch(s::contains));`","body":"or also <code>.matches(s -&gt; OPTIONS.stream().anyMatch(s::contains));</code>"}],"tags":[],"owner":{"account_id":277416,"reputation":681888,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1554561517,"creation_date":1554561018,"answer_id":55550082,"question_id":55550032,"body_markdown":"    .matches(s -&gt; OPTIONS.stream().anyMatch(option -&gt; s.contains(option)));","title":"How to assert that some String contains at least one value from the List &lt;String&gt;?","body":"<pre><code>.matches(s -&gt; OPTIONS.stream().anyMatch(option -&gt; s.contains(option)));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16157110,"reputation":31,"user_id":11664125,"display_name":"Alexei Sosenkov"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1565102564,"creation_date":1565102564,"answer_id":57378624,"question_id":55550032,"body_markdown":"You can also try to use Condition and AssertJ assertions like areAtLeastOne(), areAtLeast(), for instance:\r\n\r\n    assertThat(OPTIONS)\r\n    .areAtLeastOne(new Condition&lt;&gt;(text::contains,\r\n                                    String.format(&quot;Error message &#39;%s&#39;&quot;, args);","title":"How to assert that some String contains at least one value from the List &lt;String&gt;?","body":"<p>You can also try to use Condition and AssertJ assertions like areAtLeastOne(), areAtLeast(), for instance:</p>\n\n<pre><code>assertThat(OPTIONS)\n.areAtLeastOne(new Condition&lt;&gt;(text::contains,\n                                String.format(\"Error message '%s'\", args);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1907716,"reputation":3402,"user_id":1722236,"accept_rate":89,"display_name":"Olivier Tonglet"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1588570951,"creation_date":1588570951,"answer_id":61585819,"question_id":55550032,"body_markdown":"Another option using [AssertJ][1]\r\n\r\n````java\r\nassertThat(text.split(&quot; &quot;)).containsAnyElementsOf(OPTIONS);\r\n````\r\n\r\n[1]: https://joel-costigliola.github.io/assertj/","title":"How to assert that some String contains at least one value from the List &lt;String&gt;?","body":"<p>Another option using <a href=\"https://joel-costigliola.github.io/assertj/\" rel=\"nofollow noreferrer\">AssertJ</a></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>assertThat(text.split(\" \")).containsAnyElementsOf(OPTIONS);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20042404,"reputation":1,"user_id":14692869,"display_name":"K Are"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668455497,"creation_date":1668455497,"answer_id":74437103,"question_id":55550032,"body_markdown":"Another simplified option using AssertJ:\r\n\r\n    .matches(s-&gt; Stream.of(&quot;Foo&quot;, &quot;Bar&quot;, &quot;Baz&quot;).anyMatch(s::contains));","title":"How to assert that some String contains at least one value from the List &lt;String&gt;?","body":"<p>Another simplified option using AssertJ:</p>\n<pre><code>.matches(s-&gt; Stream.of(&quot;Foo&quot;, &quot;Bar&quot;, &quot;Baz&quot;).anyMatch(s::contains));\n</code></pre>\n"}],"owner":{"account_id":15557045,"reputation":85,"user_id":11223162,"display_name":"Vadam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8800,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":55550082,"answer_count":4,"score":7,"last_activity_date":1668455497,"creation_date":1554560714,"question_id":55550032,"body_markdown":"I&#39;m testing some UI functionality with Java and AssertJ.\r\nSo when I receive some massive string from UI, I should verify if that String contains at least one predefined value from ```List&lt;String&gt;```.\r\nIt is easy to do opposite thing - verify if list contains at least once some String value but this is not my case. \r\nI can&#39;t find solution in standard methods.\r\n\r\n\r\n\r\n\r\n\r\n\r\n```java\r\npublic static final List&lt;String&gt; OPTIONS = Arrays.asList(&quot;Foo&quot;, &quot;Bar&quot;, &quot;Baz&quot;);\r\n\r\nString text = &quot;Just some random text with bar&quot;;\r\n```\r\nwhat I need is smth like this :\r\n\r\n```java\r\nAssertions.assertThat(text)\r\n                .as(&quot;Should contain at least one value from OPTIONS &quot;)\r\n                .containsAnyOf(OPTIONS)\r\n```","title":"How to assert that some String contains at least one value from the List &lt;String&gt;?","body":"<p>I'm testing some UI functionality with Java and AssertJ.\nSo when I receive some massive string from UI, I should verify if that String contains at least one predefined value from <code>List&lt;String&gt;</code>.\nIt is easy to do opposite thing - verify if list contains at least once some String value but this is not my case. \nI can't find solution in standard methods.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static final List&lt;String&gt; OPTIONS = Arrays.asList(\"Foo\", \"Bar\", \"Baz\");\n\nString text = \"Just some random text with bar\";\n</code></pre>\n\n<p>what I need is smth like this :</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Assertions.assertThat(text)\n                .as(\"Should contain at least one value from OPTIONS \")\n                .containsAnyOf(OPTIONS)\n</code></pre>\n"},{"tags":["java","arrays","class","user-input"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1668454479,"post_id":74436896,"comment_id":131404204,"body_markdown":"&quot;the code errors&quot; you may want to include the error with the question.","body":"&quot;the code errors&quot; you may want to include the error with the question."},{"owner":{"account_id":20873878,"reputation":13,"user_id":15333167,"display_name":"ATSpiro"},"score":0,"creation_date":1668454935,"post_id":74436896,"comment_id":131404362,"body_markdown":"This is the error: Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index 1 out of bounds for length 1","body":"This is the error: Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index 1 out of bounds for length 1"}],"answers":[{"tags":[],"owner":{"account_id":11287731,"reputation":38,"user_id":8277973,"display_name":"kushaan gulati"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668455073,"creation_date":1668455073,"answer_id":74437033,"question_id":74436896,"body_markdown":"ItemNumber could be larger than the length of quantity. You want to print the last value in quantity (although I&#39;m pretty sure there are more mistakes here). This will fix your IndexOutOfBoundsError. \r\n\r\n    {\r\n        System.out.println(&quot;How many would you like?\\n&quot;);\r\n        ItemQuantity = myObj.nextDouble();\r\n        ItemName = name[ItemNumber - 1];\r\n        quantity = addD(quantity.length, quantity, ItemQuantity);\r\n        System.out.println(&quot;\\nThe customer picks &quot; + Math.round(quantity[quantity.length - 1]) + &quot; &quot; + ItemName + &quot;(s)\\n&quot;);\r\n         break;\r\n    }","title":"Error when selecting items out of order from a catalog","body":"<p>ItemNumber could be larger than the length of quantity. You want to print the last value in quantity (although I'm pretty sure there are more mistakes here). This will fix your IndexOutOfBoundsError.</p>\n<pre><code>{\n    System.out.println(&quot;How many would you like?\\n&quot;);\n    ItemQuantity = myObj.nextDouble();\n    ItemName = name[ItemNumber - 1];\n    quantity = addD(quantity.length, quantity, ItemQuantity);\n    System.out.println(&quot;\\nThe customer picks &quot; + Math.round(quantity[quantity.length - 1]) + &quot; &quot; + ItemName + &quot;(s)\\n&quot;);\n     break;\n}\n</code></pre>\n"}],"owner":{"account_id":20873878,"reputation":13,"user_id":15333167,"display_name":"ATSpiro"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1668455073,"creation_date":1668454240,"question_id":74436896,"body_markdown":"I am creating a program in Java where a customer picks items from a catalog. They can choose items in any order and how many they want, they can even select an item twice and it will add the two quantities and make it one total. The problem I am having is when selecting an item, the code errors when I select them out of order. It only works when I select item 1, then item 2, and so on.\r\n\r\nname is an array that holds the names of the items.\r\n\r\nquantity is an array that holds the amount of a selected item. Preferably, the amount of the item should be in the same position as the name of the item is in the array called name.\r\n\r\n\r\n    public static double[] addD(int n, double arr[], double x) {\r\n       int i;   \r\n\r\n       double newarr[] = new double[n + 1];\r\n\r\n       for (i = 0; i &lt; n; i++)\r\n           newarr[i] = arr[i];\r\n   \r\n       newarr[n] = x;\r\n   \r\n       return newarr;\r\n    }\r\n\r\n   \r\n   \r\n\r\n     do {\r\n        Scanner myObj = new Scanner(System.in);  // Create a Scanner object\r\n        System.out.println(&quot;Select the number of the product you would like and once you are finished enter the number to checkout.\\n&quot;);\r\n        ItemNumber = myObj.nextInt();  // Read user input\r\n        while (ItemNumber &lt;= name.length)\r\n        if (ItemNumber &lt; (name.length + 1))\r\n        {\r\n            System.out.println(&quot;How many would you like?\\n&quot;);\r\n            ItemQuantity = myObj.nextDouble();\r\n            ItemName = name[ItemNumber - 1];\r\n            quantity = addD(quantity.length, quantity, ItemQuantity);\r\n            System.out.println(&quot;\\nThe customer picks &quot; + Math.round(quantity[ItemNumber - 1]) + &quot; &quot; + ItemName + &quot;(s)\\n&quot;);\r\n            break;\r\n        }\r\n    } while (ItemNumber &lt;= name.length);","title":"Error when selecting items out of order from a catalog","body":"<p>I am creating a program in Java where a customer picks items from a catalog. They can choose items in any order and how many they want, they can even select an item twice and it will add the two quantities and make it one total. The problem I am having is when selecting an item, the code errors when I select them out of order. It only works when I select item 1, then item 2, and so on.</p>\n<p>name is an array that holds the names of the items.</p>\n<p>quantity is an array that holds the amount of a selected item. Preferably, the amount of the item should be in the same position as the name of the item is in the array called name.</p>\n<pre><code>public static double[] addD(int n, double arr[], double x) {\n   int i;   \n\n   double newarr[] = new double[n + 1];\n\n   for (i = 0; i &lt; n; i++)\n       newarr[i] = arr[i];\n\n   newarr[n] = x;\n\n   return newarr;\n}\n\n\n\n\n do {\n    Scanner myObj = new Scanner(System.in);  // Create a Scanner object\n    System.out.println(&quot;Select the number of the product you would like and once you are finished enter the number to checkout.\\n&quot;);\n    ItemNumber = myObj.nextInt();  // Read user input\n    while (ItemNumber &lt;= name.length)\n    if (ItemNumber &lt; (name.length + 1))\n    {\n        System.out.println(&quot;How many would you like?\\n&quot;);\n        ItemQuantity = myObj.nextDouble();\n        ItemName = name[ItemNumber - 1];\n        quantity = addD(quantity.length, quantity, ItemQuantity);\n        System.out.println(&quot;\\nThe customer picks &quot; + Math.round(quantity[ItemNumber - 1]) + &quot; &quot; + ItemName + &quot;(s)\\n&quot;);\n        break;\n    }\n} while (ItemNumber &lt;= name.length);\n</code></pre>\n"},{"tags":["java","spring-boot","kotlin","spring-cloud-feign","broken-pipe"],"comments":[{"owner":{"account_id":199942,"reputation":1629,"user_id":445541,"accept_rate":59,"display_name":"thefrugaldev"},"score":1,"creation_date":1639506659,"post_id":70352737,"comment_id":124364479,"body_markdown":"Have you tried making the request to external server using any rest client or simply by using curl command? If you face the same issue, then it doesn&#39;t look to be the issue of your app.","body":"Have you tried making the request to external server using any rest client or simply by using curl command? If you face the same issue, then it doesn&#39;t look to be the issue of your app."}],"answers":[{"tags":[],"owner":{"account_id":8500747,"reputation":35,"user_id":6796805,"display_name":"kmiiloberrio-dev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668454782,"creation_date":1668454782,"answer_id":74436988,"question_id":70352737,"body_markdown":"I also came across this type of error, my solution was to change the jdk I was using and the exception disappeared! So I don&#39;t really know the root of the problem, but changing jdk works for me. You can try using the JDKs provided by intellij. This article can be of great help. https://www.jetbrains.com/help/idea/sdk.html#jdk","title":"feign.RetryableException: Connection reset executing POST","body":"<p>I also came across this type of error, my solution was to change the jdk I was using and the exception disappeared! So I don't really know the root of the problem, but changing jdk works for me. You can try using the JDKs provided by intellij. This article can be of great help. <a href=\"https://www.jetbrains.com/help/idea/sdk.html#jdk\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/help/idea/sdk.html#jdk</a></p>\n"}],"owner":{"account_id":13847690,"reputation":1,"user_id":9996454,"display_name":"gdurazzo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3983,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668454782,"creation_date":1639501219,"question_id":70352737,"body_markdown":"I&#39;m calling a url from an external server and in 5% of cases I get this problem.\r\ni get java.net.SocketException: Broken pipe, \r\nmy doubt is if the problem is in my application or the external service that for some reason is canceling the request\r\n\r\ni`m using kotlin + spring boot + feign client\r\n```\r\nfeign.RetryableException: Connection reset executing POST https://xpto.com/test // real url omitted\r\n\tat feign.FeignException.errorExecuting(FeignException.java:249)\r\n\tat feign.SynchronousMethodHandler.executeAndDecode(SynchronousMethodHandler.java:129)\r\n\tat feign.SynchronousMethodHandler.invoke(SynchronousMethodHandler.java:89)\r\n\tat feign.ReflectiveFeign$FeignInvocationHandler.invoke(ReflectiveFeign.java:100)\r\n\tat com.sun.proxy.$Proxy228.create(Unknown Source)\r\n\tat com.creditas.b2bapi.infrastructure.adapter.BcrediAdapter.createLead(BcrediAdapter.kt:22)\r\n\tat com.creditas.b2bapi.service.LeadBcrediService.createBcrediLead(LeadBcrediService.kt:44)\r\n\tat com.creditas.b2bapi.service.LeadBcrediService$$FastClassBySpringCGLIB$$a7c46a37.invoke(&lt;generated&gt;)\r\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:687)\r\n\t... 142 common frames omitted\r\n\tSuppressed: java.net.SocketException: Broken pipe\r\n\t\tat java.base/sun.nio.ch.NioSocketImpl.implWrite(NioSocketImpl.java:421)\r\n\t\tat java.base/sun.nio.ch.NioSocketImpl.write(NioSocketImpl.java:441)\r\n\t\tat java.base/sun.nio.ch.NioSocketImpl$2.write(NioSocketImpl.java:825)\r\n\t\tat java.base/java.net.Socket$SocketOutputStream.write(Socket.java:1007)\r\n\t\tat java.base/sun.security.ssl.SSLSocketOutputRecord.encodeAlert(SSLSocketOutputRecord.java:82)\r\n\t\tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:355)\r\n\t\t... 166 common frames omitted\r\nCaused by: java.net.SocketException: Connection reset\r\n\tat java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:324)\r\n\tat java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:351)\r\n\tat java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:802)\r\n\tat java.base/java.net.Socket$SocketInputStream.read(Socket.java:937)\r\n\tat java.base/sun.security.ssl.SSLSocketInputRecord.read(SSLSocketInputRecord.java:450)\r\n\tat java.base/sun.security.ssl.SSLSocketInputRecord.bytesInCompletePacket(SSLSocketInputRecord.java:68)\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.readApplicationRecord(SSLSocketImpl.java:1409)\r\n\tat java.base/sun.security.ssl.SSLSocketImpl$AppInputStream.read(SSLSocketImpl.java:1022)\r\n\t... 162 common frames omitted\r\n```","title":"feign.RetryableException: Connection reset executing POST","body":"<p>I'm calling a url from an external server and in 5% of cases I get this problem.\ni get java.net.SocketException: Broken pipe,\nmy doubt is if the problem is in my application or the external service that for some reason is canceling the request</p>\n<p>i`m using kotlin + spring boot + feign client</p>\n<pre><code>feign.RetryableException: Connection reset executing POST https://xpto.com/test // real url omitted\n    at feign.FeignException.errorExecuting(FeignException.java:249)\n    at feign.SynchronousMethodHandler.executeAndDecode(SynchronousMethodHandler.java:129)\n    at feign.SynchronousMethodHandler.invoke(SynchronousMethodHandler.java:89)\n    at feign.ReflectiveFeign$FeignInvocationHandler.invoke(ReflectiveFeign.java:100)\n    at com.sun.proxy.$Proxy228.create(Unknown Source)\n    at com.creditas.b2bapi.infrastructure.adapter.BcrediAdapter.createLead(BcrediAdapter.kt:22)\n    at com.creditas.b2bapi.service.LeadBcrediService.createBcrediLead(LeadBcrediService.kt:44)\n    at com.creditas.b2bapi.service.LeadBcrediService$$FastClassBySpringCGLIB$$a7c46a37.invoke(&lt;generated&gt;)\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:687)\n    ... 142 common frames omitted\n    Suppressed: java.net.SocketException: Broken pipe\n        at java.base/sun.nio.ch.NioSocketImpl.implWrite(NioSocketImpl.java:421)\n        at java.base/sun.nio.ch.NioSocketImpl.write(NioSocketImpl.java:441)\n        at java.base/sun.nio.ch.NioSocketImpl$2.write(NioSocketImpl.java:825)\n        at java.base/java.net.Socket$SocketOutputStream.write(Socket.java:1007)\n        at java.base/sun.security.ssl.SSLSocketOutputRecord.encodeAlert(SSLSocketOutputRecord.java:82)\n        at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:355)\n        ... 166 common frames omitted\nCaused by: java.net.SocketException: Connection reset\n    at java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:324)\n    at java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:351)\n    at java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:802)\n    at java.base/java.net.Socket$SocketInputStream.read(Socket.java:937)\n    at java.base/sun.security.ssl.SSLSocketInputRecord.read(SSLSocketInputRecord.java:450)\n    at java.base/sun.security.ssl.SSLSocketInputRecord.bytesInCompletePacket(SSLSocketInputRecord.java:68)\n    at java.base/sun.security.ssl.SSLSocketImpl.readApplicationRecord(SSLSocketImpl.java:1409)\n    at java.base/sun.security.ssl.SSLSocketImpl$AppInputStream.read(SSLSocketImpl.java:1022)\n    ... 162 common frames omitted\n</code></pre>\n"},{"tags":["java","eclipse","jsp","websphere","websphere-8"],"comments":[{"owner":{"account_id":1189417,"reputation":30924,"user_id":1162620,"accept_rate":70,"display_name":"Ravi"},"score":0,"creation_date":1545668241,"post_id":53915010,"comment_id":94674302,"body_markdown":"probably, code is not same on server and IDE","body":"probably, code is not same on server and IDE"},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1545668806,"post_id":53915010,"comment_id":94674434,"body_markdown":"Which server and Java Runtime are you using? Some don&#39;t actually support debugging. Do you also have automatic builds enabled? It&#39;s used to automatically deploy and redeploy files.","body":"Which server and Java Runtime are you using? Some don&#39;t actually support debugging. Do you also have automatic builds enabled? It&#39;s used to automatically deploy and redeploy files."},{"owner":{"account_id":1374097,"reputation":564,"user_id":1308453,"accept_rate":100,"display_name":"Philip Rego"},"score":0,"creation_date":1545668928,"post_id":53915010,"comment_id":94674465,"body_markdown":"The &quot;aaaaa&quot; was a different text before and I&#39;m able to update it. I&#39;m having no issue making changes. &quot;Build Automatically&quot; is enabled. I&#39;m using WebSphere 8.5 Full","body":"The &quot;aaaaa&quot; was a different text before and I&#39;m able to update it. I&#39;m having no issue making changes. &quot;Build Automatically&quot; is enabled. I&#39;m using WebSphere 8.5 Full"},{"owner":{"account_id":9269503,"reputation":419,"user_id":6883957,"accept_rate":88,"display_name":"Keka Bron"},"score":0,"creation_date":1545672060,"post_id":53915010,"comment_id":94675181,"body_markdown":"Thats weird, if both your project and your server are running in debug mode, shouldnt skip breakpoints... re-check your server is also running in debug mode.","body":"Thats weird, if both your project and your server are running in debug mode, shouldnt skip breakpoints... re-check your server is also running in debug mode."},{"owner":{"account_id":1374097,"reputation":564,"user_id":1308453,"accept_rate":100,"display_name":"Philip Rego"},"score":0,"creation_date":1545853755,"post_id":53915010,"comment_id":94713020,"body_markdown":"Breakpoints hit on Java files. So i think they&#39;re both in debug mode. I&#39;m still having this issue.","body":"Breakpoints hit on Java files. So i think they&#39;re both in debug mode. I&#39;m still having this issue."}],"answers":[{"comments":[{"owner":{"account_id":1374097,"reputation":564,"user_id":1308453,"accept_rate":100,"display_name":"Philip Rego"},"score":1,"creation_date":1546279472,"post_id":53989090,"comment_id":94818017,"body_markdown":"There is no Server perspective in Eclipse (4.6.2).","body":"There is no Server perspective in Eclipse (4.6.2)."}],"tags":[],"owner":{"account_id":6417711,"reputation":84,"user_id":4975364,"display_name":"Evan"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1546270576,"creation_date":1546270576,"answer_id":53989090,"question_id":53915010,"body_markdown":"To get debug on a JSP you might need an additional step:\r\n\r\nOpen the appropriate server in the Servers view of the Server Perspective (Window &gt; Open Perspective &gt; Server), and ensure that the Generate debug information when compiling JSPs (debug mode only) check box is selected.  Close the server editor.\r\n\r\nThis is described in this doc:  [Debugging JSP files][1] \r\n\r\n\r\n  [1]: https://www.ibm.com/support/knowledgecenter/en/SSHR6W/com.ibm.websphere.wdt.doc/topics/tdbgjsp.html","title":"Breakpoints not working on JSP pages in Eclipse","body":"<p>To get debug on a JSP you might need an additional step:</p>\n\n<p>Open the appropriate server in the Servers view of the Server Perspective (Window > Open Perspective > Server), and ensure that the Generate debug information when compiling JSPs (debug mode only) check box is selected.  Close the server editor.</p>\n\n<p>This is described in this doc:  <a href=\"https://www.ibm.com/support/knowledgecenter/en/SSHR6W/com.ibm.websphere.wdt.doc/topics/tdbgjsp.html\" rel=\"nofollow noreferrer\">Debugging JSP files</a> </p>\n"},{"tags":[],"owner":{"account_id":1374097,"reputation":564,"user_id":1308453,"accept_rate":100,"display_name":"Philip Rego"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1546882978,"creation_date":1546709223,"answer_id":54054404,"question_id":53915010,"body_markdown":"Found a workaround. In the JSP, import a Java class and call one of it&#39;s methods. Put a breakpoint at the end of that method and step through it (F5) into the JSP.","title":"Breakpoints not working on JSP pages in Eclipse","body":"<p>Found a workaround. In the JSP, import a Java class and call one of it's methods. Put a breakpoint at the end of that method and step through it (F5) into the JSP.</p>\n"},{"tags":[],"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668454674,"creation_date":1668454674,"answer_id":74436970,"question_id":53915010,"body_markdown":"It&#39;s very related. When Eclipse itself launches the actual Java command that runs the server, it is includes JVM arguments to setup debug communication with the Java process and installs all if the set breakpoints. If it did not, it basically attaches to the server process as a generic Java application--which does not attempt to install all of the breakpoints in the workspace. Instead, you need to create (or enable) breakpoints after having connected to the process for them to be installed properly.","title":"Breakpoints not working on JSP pages in Eclipse","body":"<p>It's very related. When Eclipse itself launches the actual Java command that runs the server, it is includes JVM arguments to setup debug communication with the Java process and installs all if the set breakpoints. If it did not, it basically attaches to the server process as a generic Java application--which does not attempt to install all of the breakpoints in the workspace. Instead, you need to create (or enable) breakpoints after having connected to the process for them to be installed properly.</p>\n"}],"owner":{"account_id":1374097,"reputation":564,"user_id":1308453,"accept_rate":100,"display_name":"Philip Rego"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5156,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":54054404,"answer_count":3,"score":2,"last_activity_date":1668454674,"creation_date":1545663810,"question_id":53915010,"body_markdown":"Breakpoints are being hit in the Java code, the project is being run as Debug, &quot;Skip All Breakpoints&quot; is disabled, line breakpoints (blue dots) are on lines in my JSP pages.\r\n\r\n[![JSP page with breakpoint][1]][1]\r\n\r\nThe result in the web browser debug, so I know it&#39;s hitting the right page:\r\n[![Web browser][2]][2]\r\n\r\nWhy are my breakpoints on JSP pages not being hit? I&#39;m having no issue making changes and seeing them reflected in the browser. Eclipse 4.6.2. WebSphere 8.5 \r\n\r\n**Edit**: I&#39;m not sure if this is related. When I try to start my server in Eclipse it says \r\n\r\n&gt; Cannot connect to the server process. Make sure the server is already started.\r\n\r\nto get it to start in Eclipse I have to double click the server and uncheck: \r\n&gt;  Start a server with a generated script\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/E7V2s.png\r\n  [2]: https://i.stack.imgur.com/Ey80k.png","title":"Breakpoints not working on JSP pages in Eclipse","body":"<p>Breakpoints are being hit in the Java code, the project is being run as Debug, \"Skip All Breakpoints\" is disabled, line breakpoints (blue dots) are on lines in my JSP pages.</p>\n\n<p><a href=\"https://i.stack.imgur.com/E7V2s.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/E7V2s.png\" alt=\"JSP page with breakpoint\"></a></p>\n\n<p>The result in the web browser debug, so I know it's hitting the right page:\n<a href=\"https://i.stack.imgur.com/Ey80k.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ey80k.png\" alt=\"Web browser\"></a></p>\n\n<p>Why are my breakpoints on JSP pages not being hit? I'm having no issue making changes and seeing them reflected in the browser. Eclipse 4.6.2. WebSphere 8.5 </p>\n\n<p><strong>Edit</strong>: I'm not sure if this is related. When I try to start my server in Eclipse it says </p>\n\n<blockquote>\n  <p>Cannot connect to the server process. Make sure the server is already started.</p>\n</blockquote>\n\n<p>to get it to start in Eclipse I have to double click the server and uncheck: </p>\n\n<blockquote>\n  <p>Start a server with a generated script</p>\n</blockquote>\n"},{"tags":["java","powershell","remote-desktop"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1668454988,"post_id":74436720,"comment_id":131404377,"body_markdown":"I&#39;ll let the Windows people deal with this, but my first thought: if it&#39;s a reasonably recent OS - enable Ssh server and invoke Powershell through that","body":"I&#39;ll let the Windows people deal with this, but my first thought: if it&#39;s a reasonably recent OS - enable Ssh server and invoke Powershell through that"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1668456345,"post_id":74436720,"comment_id":131404744,"body_markdown":"You can combine that with a Java SSH API such as Jsch","body":"You can combine that with a Java SSH API such as Jsch"},{"owner":{"account_id":20318457,"reputation":4566,"user_id":14903754,"display_name":"Abraham Zinala"},"score":0,"creation_date":1668456705,"post_id":74436720,"comment_id":131404842,"body_markdown":"Assuming proper permissions, with correct remoting configs on both systems, you could either use `Invoke-Command` or, pass a cim session to `Get-ScheduleTaskInfo`.","body":"Assuming proper permissions, with correct remoting configs on both systems, you could either use <code>Invoke-Command</code> or, pass a cim session to <code>Get-ScheduleTaskInfo</code>."}],"owner":{"account_id":16584480,"reputation":121,"user_id":11984272,"display_name":"Rahul"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668453255,"creation_date":1668453255,"question_id":74436720,"body_markdown":"Actually in remote desktop machine, multiple tasks are scheduled in Task Scheduler.\r\n\r\nI have to get task information from task scheduler. Below one is powershell command and return task info.\r\n\r\n**Get-ScheduledTask -TaskName &quot;updateDate&quot; | Get-ScheduledTaskInfo**\r\n\r\n**I want to execute it using java in remote desktop from my local.\r\nRemote desktop is my client&#39;s desktop so i can&#39;t install java on it. \r\nThat&#39;s why I am trying it from my local desktop.**\r\n\r\nI am trying multiple options since many days but unable to do it.\r\n\r\nI have remote desktop name, username and password everything.\r\n\r\n**Please help.**","title":"How to run powershell command in remote desktop from local machine using Java?","body":"<p>Actually in remote desktop machine, multiple tasks are scheduled in Task Scheduler.</p>\n<p>I have to get task information from task scheduler. Below one is powershell command and return task info.</p>\n<p><strong>Get-ScheduledTask -TaskName &quot;updateDate&quot; | Get-ScheduledTaskInfo</strong></p>\n<p><strong>I want to execute it using java in remote desktop from my local.\nRemote desktop is my client's desktop so i can't install java on it.\nThat's why I am trying it from my local desktop.</strong></p>\n<p>I am trying multiple options since many days but unable to do it.</p>\n<p>I have remote desktop name, username and password everything.</p>\n<p><strong>Please help.</strong></p>\n"},{"tags":["java","spring-boot","jwt","apple-sign-in"],"answers":[{"comments":[{"owner":{"account_id":744529,"reputation":409,"user_id":899178,"accept_rate":80,"display_name":"Irina"},"score":0,"creation_date":1578528422,"post_id":58252090,"comment_id":105471947,"body_markdown":"I followed your tutorial and got &quot;invalid_credit&quot;. Have you experienced that issue?","body":"I followed your tutorial and got &quot;invalid_credit&quot;. Have you experienced that issue?"},{"owner":{"account_id":3469352,"reputation":856,"user_id":2904163,"accept_rate":83,"display_name":"&#199;ağdaş Tunca"},"score":0,"creation_date":1578573866,"post_id":58252090,"comment_id":105487397,"body_markdown":"Hi, I&#39;m using almost exact code in prod right now and everything working fine. I would go developer.apple.com/account and appstoreconnect to check if anything wrong about my account or app.","body":"Hi, I&#39;m using almost exact code in prod right now and everything working fine. I would go developer.apple.com/account and appstoreconnect to check if anything wrong about my account or app."},{"owner":{"account_id":265528,"reputation":126,"user_id":552562,"display_name":"krvss"},"score":0,"creation_date":1580159344,"post_id":58252090,"comment_id":105999171,"body_markdown":"Thanks! The whole flow worked for me once I&#39;ve set CLIENT_ID to Service id from Apple development console. Otherwise, I got &quot;Invalid redirect_uri&quot;. More details here: https://forums.developer.apple.com/thread/122536","body":"Thanks! The whole flow worked for me once I&#39;ve set CLIENT_ID to Service id from Apple development console. Otherwise, I got &quot;Invalid redirect_uri&quot;. More details here: <a href=\"https://forums.developer.apple.com/thread/122536\" rel=\"nofollow noreferrer\">forums.developer.apple.com/thread/122536</a>"},{"owner":{"account_id":4367754,"reputation":2952,"user_id":3562927,"accept_rate":33,"display_name":"Stevey"},"score":0,"creation_date":1595196072,"post_id":58252090,"comment_id":111383226,"body_markdown":"@krvss Is this for an iOS app?  Or are you using Sign in with Apple for a web app?  It&#39;s not clear to me from your forum thread.","body":"@krvss Is this for an iOS app?  Or are you using Sign in with Apple for a web app?  It&#39;s not clear to me from your forum thread."},{"owner":{"account_id":3469352,"reputation":856,"user_id":2904163,"accept_rate":83,"display_name":"&#199;ağdaş Tunca"},"score":0,"creation_date":1595230041,"post_id":58252090,"comment_id":111390825,"body_markdown":"@user3562927 hi, this is for validating user in your backend from token you get from your ios or web app.","body":"@user3562927 hi, this is for validating user in your backend from token you get from your ios or web app."},{"owner":{"account_id":333191,"reputation":921,"user_id":658913,"accept_rate":25,"display_name":"CR Sardar"},"score":0,"creation_date":1658975404,"post_id":58252090,"comment_id":129187396,"body_markdown":"What is authorizationCode? How to get it?\nIs it same JWT which is received during Sign In With Apple?","body":"What is authorizationCode? How to get it? Is it same JWT which is received during Sign In With Apple?"},{"owner":{"account_id":3469352,"reputation":856,"user_id":2904163,"accept_rate":83,"display_name":"&#199;ağdaş Tunca"},"score":0,"creation_date":1659033689,"post_id":58252090,"comment_id":129205524,"body_markdown":"After your web or mobile client complete sign in with apple flow you should receive a code. Then you send it to this flow.","body":"After your web or mobile client complete sign in with apple flow you should receive a code. Then you send it to this flow."},{"owner":{"account_id":10947190,"reputation":183,"user_id":8628988,"display_name":"Denys Bondarenko"},"score":0,"creation_date":1669215063,"post_id":58252090,"comment_id":131594415,"body_markdown":"@&#199;ağdaşTunca How can we provide it by SecretKey instead of PrivateKey? Is it will be enough just get key and transform it to array of bytes?","body":"@&#199;ağdaşTunca How can we provide it by SecretKey instead of PrivateKey? Is it will be enough just get key and transform it to array of bytes?"}],"tags":[],"owner":{"account_id":3469352,"reputation":856,"user_id":2904163,"accept_rate":83,"display_name":"&#199;ağdaş Tunca"},"comment_count":8,"down_vote_count":0,"up_vote_count":30,"is_accepted":true,"score":30,"last_activity_date":1668452884,"creation_date":1570307407,"answer_id":58252090,"question_id":58252089,"body_markdown":"First go developer.apple.com -&gt; Certificates, Identifiers &amp; Profiles -&gt; Keys. Generate a key for Apple Sign in and download this key. You can not download this key again so keep it in a safe place and don&#39;t share with others. Also your Key ID shown here note this, you&#39;ll need this later. You&#39;ll also need team id. If you don&#39;t know it, it&#39;s written top right of the page like YOURNAME - XX0XX00XXX.\r\n\r\nYou will basicly follow these steps.\r\n\r\n1.Generate JWT from your key\r\n\r\n2.Send auth code with your token\r\n\r\n3.Decode response\r\n\r\n***UPDATE for using both web and mobile*** \r\n\r\nIf you would like to use apple login for web there are few more steps you need to follow.\r\n\r\n*4. Add new Identifier for web*\r\n \r\nGo developer.apple.com -&gt; Certificates, Identifiers &amp; Profiles -&gt; Identifiers. Register a new identifier with clicking plus button. Select Service IDs and continue. Provide a description and identifier. Identifier must be unique and different from your bundle id. (For example you can use com.your.bundle.id.web). Click continue click register. Then you need to configure this service id. Select Service IDs (It&#39;s placed at top right near search icon) your newly created services id listed below click it and enable Sign In with Apple tick box. Then you need to configure your domain. Provide your domain and return url. \r\n\r\nSome important points for web you can get ***invalid_grant*** error if you forgot to pass a ***valid* redirect_url** or try to use same ***authorization_code* more than once**.\r\n\r\n----\r\n```\r\npublic class AppleLoginUtil {\r\n    private static String APPLE_AUTH_URL = &quot;https://appleid.apple.com/auth/token&quot;;\r\n\r\n    private static String KEY_ID = &quot;**********&quot;;\r\n    private static String TEAM_ID = &quot;**********&quot;;\r\n    private static String CLIENT_ID = &quot;com.your.bundle.id&quot;;\r\n    private static String WEB_CLIENT_ID = &quot;com.your.bundle.id.web&quot;;\r\n    private static String WEB_REDIRECT_URL = &quot;https://bundle.your.com/&quot;;\r\n\r\n    private static PrivateKey pKey;\r\n\r\n    private static PrivateKey getPrivateKey() throws Exception {\r\n    //read your key\r\n        String path = new ClassPathResource(&quot;apple/AuthKey.p8&quot;).getFile().getAbsolutePath();\r\n\r\n        final PEMParser pemParser = new PEMParser(new FileReader(path));\r\n        final JcaPEMKeyConverter converter = new JcaPEMKeyConverter();\r\n        final PrivateKeyInfo object = (PrivateKeyInfo) pemParser.readObject();\r\n        final PrivateKey pKey = converter.getPrivateKey(object);\r\n\r\n        return pKey;\r\n    }\r\n\r\n    private static String generateJWT() throws Exception {\r\n        if (pKey == null) {\r\n            pKey = getPrivateKey();\r\n        }\r\n\r\n        String token = Jwts.builder()\r\n                .setHeaderParam(JwsHeader.KEY_ID, KEY_ID)\r\n                .setIssuer(TEAM_ID)\r\n                .setAudience(&quot;https://appleid.apple.com&quot;)\r\n                .setSubject(CLIENT_ID)\r\n                .setExpiration(new Date(System.currentTimeMillis() + (1000 * 60 * 5)))\r\n                .setIssuedAt(new Date(System.currentTimeMillis()))\r\n                .signWith(pKey, SignatureAlgorithm.ES256)\r\n                .compact();\r\n\r\n        return token;\r\n    }\r\n\r\n    private static String generateWebJWT() throws Exception {\r\n        String token = Jwts.builder()\r\n                .setHeaderParam(JwsHeader.KEY_ID, KEY_ID)\r\n                .setIssuer(TEAM_ID)\r\n                .setAudience(&quot;https://appleid.apple.com&quot;)\r\n                .setSubject(WEB_CLIENT_ID)\r\n                .setExpiration(new Date(System.currentTimeMillis() + (1000 * 60 * 5)))\r\n                .setIssuedAt(new Date(System.currentTimeMillis()))\r\n                .signWith(getPrivateKey(), SignatureAlgorithm.ES256)\r\n                .compact();\r\n\r\n        return token;\r\n    }\r\n\r\n\r\n    /*\r\n    * Returns unique user id from apple\r\n    * */\r\n    public static String appleAuth(String authorizationCode, boolean forWeb) throws Exception {\r\n        HttpResponse&lt;String&gt; response = Unirest.post(APPLE_AUTH_URL)\r\n                .header(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;)\r\n                .field(&quot;client_id&quot;, forWeb ? WEB_CLIENT_ID : CLIENT_ID)\r\n                .field(&quot;client_secret&quot;, forWeb ? generateWebJWT() : generateJWT())\r\n                .field(&quot;grant_type&quot;, &quot;authorization_code&quot;)\r\n                .field(&quot;code&quot;, authorizationCode)\r\n                .field(&quot;redirect_uri&quot;, forWeb ? WEB_REDIRECT_URL : null)\r\n                .asString();\r\n\r\n\r\n        TokenResponse tokenResponse=new Gson().fromJson(response.getBody(),TokenResponse.class);\r\n        String idToken = tokenResponse.getId_token();\r\n        String payload = idToken.split(&quot;\\\\.&quot;)[1];//0 is header we ignore it for now\r\n        String decoded = new String(Decoders.BASE64.decode(payload));\r\n\r\n        IdTokenPayload idTokenPayload = new Gson().fromJson(decoded,IdTokenPayload.class);\r\n\r\n       return idTokenPayload.getSub();\r\n    }\r\n\r\n}\r\n```\r\n\r\nI&#39;ve used BouncyCastle jjwt for generating token. And also unirest and gson for rest calls.\r\n\r\n     &lt;!-- https://mvnrepository.com/artifact/org.bouncycastle/bcpkix-jdk15on --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\r\n            &lt;artifactId&gt;bcpkix-jdk15on&lt;/artifactId&gt;\r\n            &lt;version&gt;1.63&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;!--JJWT--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\r\n            &lt;version&gt;0.10.7&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\r\n            &lt;version&gt;0.10.7&lt;/version&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt;\r\n            &lt;version&gt;0.10.7&lt;/version&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;!--UNIREST--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.mashape.unirest&lt;/groupId&gt;\r\n            &lt;artifactId&gt;unirest-java&lt;/artifactId&gt;\r\n            &lt;version&gt;1.4.9&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n            &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n            &lt;version&gt;4.3.6&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n            &lt;artifactId&gt;httpasyncclient&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n            &lt;artifactId&gt;httpmime&lt;/artifactId&gt;\r\n            &lt;version&gt;4.3.6&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n            &lt;version&gt;20140107&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n \r\nI&#39;ve also parsed the responses to these classes if you wanted to know.\r\n\r\n```\r\npublic class TokenResponse {\r\n\r\n    private String access_token;\r\n    private String token_type;\r\n    private Long expires_in;\r\n    private String refresh_token;\r\n    private String id_token;\r\n\r\n    ..getters and setters\r\n}\r\n\r\n\r\npublic class IdTokenPayload {\r\n\r\n    private String iss;\r\n    private String aud;\r\n    private Long exp;\r\n    private Long iat;\r\n    private String sub;//users unique id\r\n    private String at_hash;\r\n    private Long auth_time;\r\n    private Boolean nonce_supported;\r\n    private Boolean email_verified;\r\n    private String email;\r\n\r\n    ..getters and setters\r\n}\r\n```\r\n","title":"Sign in with Apple Java User Verification","body":"<p>First go developer.apple.com -&gt; Certificates, Identifiers &amp; Profiles -&gt; Keys. Generate a key for Apple Sign in and download this key. You can not download this key again so keep it in a safe place and don't share with others. Also your Key ID shown here note this, you'll need this later. You'll also need team id. If you don't know it, it's written top right of the page like YOURNAME - XX0XX00XXX.</p>\n<p>You will basicly follow these steps.</p>\n<p>1.Generate JWT from your key</p>\n<p>2.Send auth code with your token</p>\n<p>3.Decode response</p>\n<p><em><strong>UPDATE for using both web and mobile</strong></em></p>\n<p>If you would like to use apple login for web there are few more steps you need to follow.</p>\n<p><em>4. Add new Identifier for web</em></p>\n<p>Go developer.apple.com -&gt; Certificates, Identifiers &amp; Profiles -&gt; Identifiers. Register a new identifier with clicking plus button. Select Service IDs and continue. Provide a description and identifier. Identifier must be unique and different from your bundle id. (For example you can use com.your.bundle.id.web). Click continue click register. Then you need to configure this service id. Select Service IDs (It's placed at top right near search icon) your newly created services id listed below click it and enable Sign In with Apple tick box. Then you need to configure your domain. Provide your domain and return url.</p>\n<p>Some important points for web you can get <em><strong>invalid_grant</strong></em> error if you forgot to pass a <strong><em>valid</em> redirect_url</strong> or try to use same <strong><em>authorization_code</em> more than once</strong>.</p>\n<hr />\n<pre><code>public class AppleLoginUtil {\n    private static String APPLE_AUTH_URL = &quot;https://appleid.apple.com/auth/token&quot;;\n\n    private static String KEY_ID = &quot;**********&quot;;\n    private static String TEAM_ID = &quot;**********&quot;;\n    private static String CLIENT_ID = &quot;com.your.bundle.id&quot;;\n    private static String WEB_CLIENT_ID = &quot;com.your.bundle.id.web&quot;;\n    private static String WEB_REDIRECT_URL = &quot;https://bundle.your.com/&quot;;\n\n    private static PrivateKey pKey;\n\n    private static PrivateKey getPrivateKey() throws Exception {\n    //read your key\n        String path = new ClassPathResource(&quot;apple/AuthKey.p8&quot;).getFile().getAbsolutePath();\n\n        final PEMParser pemParser = new PEMParser(new FileReader(path));\n        final JcaPEMKeyConverter converter = new JcaPEMKeyConverter();\n        final PrivateKeyInfo object = (PrivateKeyInfo) pemParser.readObject();\n        final PrivateKey pKey = converter.getPrivateKey(object);\n\n        return pKey;\n    }\n\n    private static String generateJWT() throws Exception {\n        if (pKey == null) {\n            pKey = getPrivateKey();\n        }\n\n        String token = Jwts.builder()\n                .setHeaderParam(JwsHeader.KEY_ID, KEY_ID)\n                .setIssuer(TEAM_ID)\n                .setAudience(&quot;https://appleid.apple.com&quot;)\n                .setSubject(CLIENT_ID)\n                .setExpiration(new Date(System.currentTimeMillis() + (1000 * 60 * 5)))\n                .setIssuedAt(new Date(System.currentTimeMillis()))\n                .signWith(pKey, SignatureAlgorithm.ES256)\n                .compact();\n\n        return token;\n    }\n\n    private static String generateWebJWT() throws Exception {\n        String token = Jwts.builder()\n                .setHeaderParam(JwsHeader.KEY_ID, KEY_ID)\n                .setIssuer(TEAM_ID)\n                .setAudience(&quot;https://appleid.apple.com&quot;)\n                .setSubject(WEB_CLIENT_ID)\n                .setExpiration(new Date(System.currentTimeMillis() + (1000 * 60 * 5)))\n                .setIssuedAt(new Date(System.currentTimeMillis()))\n                .signWith(getPrivateKey(), SignatureAlgorithm.ES256)\n                .compact();\n\n        return token;\n    }\n\n\n    /*\n    * Returns unique user id from apple\n    * */\n    public static String appleAuth(String authorizationCode, boolean forWeb) throws Exception {\n        HttpResponse&lt;String&gt; response = Unirest.post(APPLE_AUTH_URL)\n                .header(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;)\n                .field(&quot;client_id&quot;, forWeb ? WEB_CLIENT_ID : CLIENT_ID)\n                .field(&quot;client_secret&quot;, forWeb ? generateWebJWT() : generateJWT())\n                .field(&quot;grant_type&quot;, &quot;authorization_code&quot;)\n                .field(&quot;code&quot;, authorizationCode)\n                .field(&quot;redirect_uri&quot;, forWeb ? WEB_REDIRECT_URL : null)\n                .asString();\n\n\n        TokenResponse tokenResponse=new Gson().fromJson(response.getBody(),TokenResponse.class);\n        String idToken = tokenResponse.getId_token();\n        String payload = idToken.split(&quot;\\\\.&quot;)[1];//0 is header we ignore it for now\n        String decoded = new String(Decoders.BASE64.decode(payload));\n\n        IdTokenPayload idTokenPayload = new Gson().fromJson(decoded,IdTokenPayload.class);\n\n       return idTokenPayload.getSub();\n    }\n\n}\n</code></pre>\n<p>I've used BouncyCastle jjwt for generating token. And also unirest and gson for rest calls.</p>\n<pre><code> &lt;!-- https://mvnrepository.com/artifact/org.bouncycastle/bcpkix-jdk15on --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\n        &lt;artifactId&gt;bcpkix-jdk15on&lt;/artifactId&gt;\n        &lt;version&gt;1.63&lt;/version&gt;\n    &lt;/dependency&gt;\n\n&lt;!--JJWT--&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n        &lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\n        &lt;version&gt;0.10.7&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n        &lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\n        &lt;version&gt;0.10.7&lt;/version&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n        &lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt;\n        &lt;version&gt;0.10.7&lt;/version&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n&lt;!--UNIREST--&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.mashape.unirest&lt;/groupId&gt;\n        &lt;artifactId&gt;unirest-java&lt;/artifactId&gt;\n        &lt;version&gt;1.4.9&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n        &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n        &lt;version&gt;4.3.6&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n        &lt;artifactId&gt;httpasyncclient&lt;/artifactId&gt;\n        &lt;version&gt;4.0.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n        &lt;artifactId&gt;httpmime&lt;/artifactId&gt;\n        &lt;version&gt;4.3.6&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.json&lt;/groupId&gt;\n        &lt;artifactId&gt;json&lt;/artifactId&gt;\n        &lt;version&gt;20140107&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>I've also parsed the responses to these classes if you wanted to know.</p>\n<pre><code>public class TokenResponse {\n\n    private String access_token;\n    private String token_type;\n    private Long expires_in;\n    private String refresh_token;\n    private String id_token;\n\n    ..getters and setters\n}\n\n\npublic class IdTokenPayload {\n\n    private String iss;\n    private String aud;\n    private Long exp;\n    private Long iat;\n    private String sub;//users unique id\n    private String at_hash;\n    private Long auth_time;\n    private Boolean nonce_supported;\n    private Boolean email_verified;\n    private String email;\n\n    ..getters and setters\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2292799,"reputation":1050,"user_id":2015095,"display_name":"Big Zak"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1579052466,"creation_date":1579052466,"answer_id":59744100,"question_id":58252089,"body_markdown":"I had an error too but after some tweaks, its working, find my tweak below, note, its in kotlin \r\n\r\n       private suspend fun getPrivateKey(): Status {\r\n\r\n        return awaitBlocking {\r\n            val authKeyFile = appleConfig.getString(&quot;auth_private_key_file&quot;, &quot;&quot;)\r\n\r\n            val authTokenFilePath = getDataDir()!!.resolve(authKeyFile).absolutePath\r\n\r\n            val pemParser = PEMParser(FileReader(authTokenFilePath))\r\n            val converter = JcaPEMKeyConverter()\r\n            val obj = pemParser.readObject() as PrivateKeyInfo\r\n\r\n            val privateKey = converter.getPrivateKey(obj)\r\n\r\n            successStatus(data = privateKey)\r\n        }\r\n    }\r\n\r\n\r\n     /**\r\n     * generateSecretKey\r\n     */\r\n    suspend fun generateSecretKey() : Status{\r\n\r\n        val getAuthPrivateKey = getPrivateKey()\r\n\r\n        if(getAuthPrivateKey.isError()){\r\n            logger.fatal(getAuthPrivateKey.message)\r\n            return errorStatus(&quot;system_busy&quot;)\r\n        }\r\n\r\n        val privateKeyData =  getAuthPrivateKey.getData&lt;PrivateKey&gt;()\r\n\r\n        val clientId = &quot;com.company.app&quot;\r\n        \r\n        //team id found in apple developer portal\r\n        val teamId = appleConfig.getString(&quot;team_id&quot;,&quot;&quot;)\r\n\r\n        //apple sign in key ID found in app developer portal\r\n        val authKeyId = appleConfig.getString(&quot;auth_key_id&quot;,&quot;&quot;)\r\n\r\n\r\n        val header = mutableMapOf&lt;String,Any&gt;(\r\n                &quot;alg&quot; to &quot;E256&quot;,\r\n                &quot;kid&quot; to authKeyId\r\n        )\r\n\r\n        val now = Instant.now().epochSecond\r\n\r\n        val claims = mutableMapOf&lt;String,Any&gt;(\r\n                &quot;iss&quot;   to teamId,\r\n                &quot;iat&quot;  to now,\r\n                &quot;exp&quot;  to now + 86400*180,\r\n                &quot;aud&quot;  to &quot;https://appleid.apple.com&quot;,\r\n                &quot;sub&quot; to clientId\r\n        )\r\n\r\n        println(&quot;header - $header&quot;)\r\n        println(&quot;claims - $claims&quot;)\r\n\r\n       val token = Jwts.builder()\r\n                    .setHeader(header)\r\n                    .setClaims(claims)\r\n                    .signWith(privateKeyData,SignatureAlgorithm.ES256)\r\n                    .compact();\r\n\r\n\r\n        return successStatus(data = token)\r\n    } //end fun\r\n    \r\n   \r\n\r\n \r\n\r\n        /**\r\n         * fetchApplePublicKeys\r\n         */\r\n    private suspend fun fetchAccessToken(authInfo: JsonObject): Status {\r\n        return  try{\r\n\r\n            val authCode = authInfo.getString(&quot;auth_code&quot;)\r\n            val clientIdToken = authInfo.getString(&quot;id_token&quot;)\r\n\r\n            val accessTokenEndpoint = \r\n    appleConfig.getString(&quot;access_token_endpoint&quot;)\r\n\r\n            val secretKeyTokenStatus = generateSecretKey()\r\n\r\n            if(secretKeyTokenStatus.isError()){\r\n                logger.fatal(secretKeyTokenStatus.message)\r\n                return errorStatus(&quot;system_busy&quot;)\r\n            }\r\n\r\n            val clientSecret = secretKeyTokenStatus.getData&lt;String&gt;()\r\n\r\n            val redirectUrl = &quot;&quot;\r\n\r\n            val clientId = appleConfig.getString(&quot;client_id&quot;)\r\n\r\n\r\n            val formData = MultiMap.caseInsensitiveMultiMap()\r\n\r\n            formData.add(&quot;client_secret&quot;,clientSecret)\r\n                    .add(&quot;client_id&quot;,clientId)\r\n                    .add(&quot;redirect_uri&quot;,redirectUrl)\r\n                    .add(&quot;grant_type&quot;,&quot;authorization_code&quot;)\r\n                    .add(&quot;code&quot;,authCode)\r\n\r\n            println(&quot;accessTokenEndpoint - $accessTokenEndpoint&quot;)\r\n            println(&quot;formData - $formData&quot;)\r\n\r\n            val responseData  = httpClient(this::class)\r\n                    .postAbs(accessTokenEndpoint)\r\n                    .putHeader(&quot;Content-Type&quot;,&quot;application/x-www-form-urlencoded&quot;)\r\n                    .sendFormAwait(formData)\r\n                    .bodyAsJsonObject()\r\n\r\n            println(&quot;responseData - ${responseData}&quot;)\r\n\r\n            if(responseData.containsKey(&quot;error&quot;)){\r\n                logger.fatal(responseData.getString(&quot;error&quot;))\r\n                return errorStatus(&quot;social_auth_failed&quot;)\r\n            }\r\n\r\n            //val responseIdToken = responseData.getString(&quot;id_token&quot;,&quot;&quot;)\r\n\r\n           return successStatus(data = responseData)\r\n        } catch (e: Exception){\r\n            logger.fatal(e.message,e)\r\n            errorStatus(&quot;system_busy&quot;)\r\n        }\r\n    }\r\n","title":"Sign in with Apple Java User Verification","body":"<p>I had an error too but after some tweaks, its working, find my tweak below, note, its in kotlin </p>\n\n<pre><code>   private suspend fun getPrivateKey(): Status {\n\n    return awaitBlocking {\n        val authKeyFile = appleConfig.getString(\"auth_private_key_file\", \"\")\n\n        val authTokenFilePath = getDataDir()!!.resolve(authKeyFile).absolutePath\n\n        val pemParser = PEMParser(FileReader(authTokenFilePath))\n        val converter = JcaPEMKeyConverter()\n        val obj = pemParser.readObject() as PrivateKeyInfo\n\n        val privateKey = converter.getPrivateKey(obj)\n\n        successStatus(data = privateKey)\n    }\n}\n\n\n /**\n * generateSecretKey\n */\nsuspend fun generateSecretKey() : Status{\n\n    val getAuthPrivateKey = getPrivateKey()\n\n    if(getAuthPrivateKey.isError()){\n        logger.fatal(getAuthPrivateKey.message)\n        return errorStatus(\"system_busy\")\n    }\n\n    val privateKeyData =  getAuthPrivateKey.getData&lt;PrivateKey&gt;()\n\n    val clientId = \"com.company.app\"\n\n    //team id found in apple developer portal\n    val teamId = appleConfig.getString(\"team_id\",\"\")\n\n    //apple sign in key ID found in app developer portal\n    val authKeyId = appleConfig.getString(\"auth_key_id\",\"\")\n\n\n    val header = mutableMapOf&lt;String,Any&gt;(\n            \"alg\" to \"E256\",\n            \"kid\" to authKeyId\n    )\n\n    val now = Instant.now().epochSecond\n\n    val claims = mutableMapOf&lt;String,Any&gt;(\n            \"iss\"   to teamId,\n            \"iat\"  to now,\n            \"exp\"  to now + 86400*180,\n            \"aud\"  to \"https://appleid.apple.com\",\n            \"sub\" to clientId\n    )\n\n    println(\"header - $header\")\n    println(\"claims - $claims\")\n\n   val token = Jwts.builder()\n                .setHeader(header)\n                .setClaims(claims)\n                .signWith(privateKeyData,SignatureAlgorithm.ES256)\n                .compact();\n\n\n    return successStatus(data = token)\n} //end fun\n\n\n\n\n\n    /**\n     * fetchApplePublicKeys\n     */\nprivate suspend fun fetchAccessToken(authInfo: JsonObject): Status {\n    return  try{\n\n        val authCode = authInfo.getString(\"auth_code\")\n        val clientIdToken = authInfo.getString(\"id_token\")\n\n        val accessTokenEndpoint = \nappleConfig.getString(\"access_token_endpoint\")\n\n        val secretKeyTokenStatus = generateSecretKey()\n\n        if(secretKeyTokenStatus.isError()){\n            logger.fatal(secretKeyTokenStatus.message)\n            return errorStatus(\"system_busy\")\n        }\n\n        val clientSecret = secretKeyTokenStatus.getData&lt;String&gt;()\n\n        val redirectUrl = \"\"\n\n        val clientId = appleConfig.getString(\"client_id\")\n\n\n        val formData = MultiMap.caseInsensitiveMultiMap()\n\n        formData.add(\"client_secret\",clientSecret)\n                .add(\"client_id\",clientId)\n                .add(\"redirect_uri\",redirectUrl)\n                .add(\"grant_type\",\"authorization_code\")\n                .add(\"code\",authCode)\n\n        println(\"accessTokenEndpoint - $accessTokenEndpoint\")\n        println(\"formData - $formData\")\n\n        val responseData  = httpClient(this::class)\n                .postAbs(accessTokenEndpoint)\n                .putHeader(\"Content-Type\",\"application/x-www-form-urlencoded\")\n                .sendFormAwait(formData)\n                .bodyAsJsonObject()\n\n        println(\"responseData - ${responseData}\")\n\n        if(responseData.containsKey(\"error\")){\n            logger.fatal(responseData.getString(\"error\"))\n            return errorStatus(\"social_auth_failed\")\n        }\n\n        //val responseIdToken = responseData.getString(\"id_token\",\"\")\n\n       return successStatus(data = responseData)\n    } catch (e: Exception){\n        logger.fatal(e.message,e)\n        errorStatus(\"system_busy\")\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3469352,"reputation":856,"user_id":2904163,"accept_rate":83,"display_name":"&#199;ağdaş Tunca"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14256,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":58252090,"answer_count":2,"score":17,"last_activity_date":1668452884,"creation_date":1570307407,"question_id":58252089,"body_markdown":"I&#39;ve implemented the app side of the new apple feature &quot;Sign in with Apple&quot; but i&#39;m unable to verificate with authorizationCode in my backend. My backend is written in java and i&#39;m unable to generate JWT and communicate with Apple servers.\r\n ","title":"Sign in with Apple Java User Verification","body":"<p>I've implemented the app side of the new apple feature \"Sign in with Apple\" but i'm unable to verificate with authorizationCode in my backend. My backend is written in java and i'm unable to generate JWT and communicate with Apple servers.</p>\n"},{"tags":["java","android","firebase-realtime-database","firebase-storage"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1668425196,"post_id":74429819,"comment_id":131393975,"body_markdown":"What exactly in this code doesn&#39;t work the way you expect?\nTell us what is wrong with shared code. Do you have any errors? If you have an error, what is the message that you get?","body":"What exactly in this code doesn&#39;t work the way you expect? Tell us what is wrong with shared code. Do you have any errors? If you have an error, what is the message that you get?"},{"owner":{"account_id":17727800,"reputation":37,"user_id":12871110,"display_name":"saretta2"},"score":0,"creation_date":1668435250,"post_id":74429819,"comment_id":131397372,"body_markdown":"@AlexMamo I have no mistake, only that in the itinerary table, on firebase, I have an id code that I would like to be shown also in the gallery table ... but this is not done","body":"@AlexMamo I have no mistake, only that in the itinerary table, on firebase, I have an id code that I would like to be shown also in the gallery table ... but this is not done"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1668436436,"post_id":74429819,"comment_id":131397806,"body_markdown":"I&#39;m not sure I understand &quot;in the itinerary table, on firebase, I have an id code that I would like to be shown also in the gallery table&quot;. What do you mean by that?","body":"I&#39;m not sure I understand &quot;in the itinerary table, on firebase, I have an id code that I would like to be shown also in the gallery table&quot;. What do you mean by that?"},{"owner":{"account_id":17727800,"reputation":37,"user_id":12871110,"display_name":"saretta2"},"score":0,"creation_date":1668452542,"post_id":74429819,"comment_id":131403619,"body_markdown":"@AlexMamo I would like to do this(photo), how do I do it?","body":"@AlexMamo I would like to do this(photo), how do I do it?"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1668453223,"post_id":74429819,"comment_id":131403846,"body_markdown":"So you want to copy a field from a location to another?","body":"So you want to copy a field from a location to another?"},{"owner":{"account_id":17727800,"reputation":37,"user_id":12871110,"display_name":"saretta2"},"score":0,"creation_date":1668456154,"post_id":74429819,"comment_id":131404696,"body_markdown":"@AlexMamo  yes I already have the class that creates the table with the various attributes, I am missing the link in the method indicated above –","body":"@AlexMamo  yes I already have the class that creates the table with the various attributes, I am missing the link in the method indicated above –"},{"owner":{"account_id":17727800,"reputation":37,"user_id":12871110,"display_name":"saretta2"},"score":0,"creation_date":1668499188,"post_id":74429819,"comment_id":131413365,"body_markdown":"@AlexMamo so it creates a new one: &quot; \n                                DatabaseReference ref = FirebaseDatabase.getInstance().getReference(&quot;Itinerary&quot;);\n                                String itineraryId = ref.push().getKey();\n                                HashMap&lt;String, Object&gt; map = new HashMap&lt;&gt;();\n                                map.put(&quot;image&quot;, uri.toString());\n                                map.put(&quot;userId&quot;, uid);\n                                map.put(&quot;photoId&quot;, galleryId);\n                                map.put(&quot;itineraryId&quot;, itineraryId);","body":"@AlexMamo so it creates a new one: &quot;                                  DatabaseReference ref = FirebaseDatabase.getInstance().getReference(&quot;Itinerary&quot;);                                 String itineraryId = ref.push().getKey();                                 HashMap&lt;String, Object&gt; map = new HashMap&lt;&gt;();                                 map.put(&quot;image&quot;, uri.toString());                                 map.put(&quot;userId&quot;, uid);                                 map.put(&quot;photoId&quot;, galleryId);                                 map.put(&quot;itineraryId&quot;, itineraryId);"},{"owner":{"account_id":17727800,"reputation":37,"user_id":12871110,"display_name":"saretta2"},"score":0,"creation_date":1668499280,"post_id":74429819,"comment_id":131413391,"body_markdown":"@AlexMamo how can I do?","body":"@AlexMamo how can I do?"}],"owner":{"account_id":17727800,"reputation":37,"user_id":12871110,"display_name":"saretta2"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668452488,"creation_date":1668419950,"question_id":74429819,"body_markdown":"have a problem, I&#39;m working on a university project, I have two tables in firebase, the gallery table that contains the photos of the itinerary and the itinerary table that contains the various itineraries of the users now I have to make sure that the id of the itinerary and the ID of the image so as to have a photo corresponding to each itinerary &#236;, also created by the same user. I did so:\r\n\r\n```\r\npublic void addImageItinerary() {\r\n    storageReference = FirebaseStorage.getInstance().getReference();\r\n    referenceDb = FirebaseDatabase.getInstance().getReference();\r\n    firestore =  FirebaseFirestore.getInstance();\r\n    auth = FirebaseAuth.getInstance();\r\n    if (images != null) {\r\n        StorageReference itineraryRef = storageReference.child(&quot;itinerary_image/&quot; + FirebaseAuth.getInstance().getCurrentUser().getUid() + &quot;.jpg&quot;);\r\n        itineraryRef.putFile(images).addOnCompleteListener(new OnCompleteListener&lt;UploadTask.TaskSnapshot&gt;() {\r\n            @Override\r\n            public void onComplete(@NonNull Task&lt;UploadTask.TaskSnapshot&gt; task) {\r\n                if (task.isSuccessful()) {\r\n                    itineraryRef.getDownloadUrl().addOnSuccessListener(new OnSuccessListener&lt;Uri&gt;() {\r\n                        @Override\r\n                        public void onSuccess(Uri uri) {\r\n\r\n                            String itineraryId = referenceDb.child(&quot;Itinerary&quot;).push().getKey();\r\n                            Log.i(&quot;itineraryId&quot;, itineraryId);\r\n\r\n                            HashMap&lt;String, Object&gt; map = new HashMap&lt;&gt;();\r\n                            map.put(&quot;image&quot;, uri.toString());\r\n\r\n                            referenceDb.child(&quot;Gallery&quot;).child(FirebaseAuth.getInstance().getCurrentUser().getUid()+ &quot;/&quot; + itineraryId).setValue(map).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n                                @Override\r\n                                public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n                                    if (task.isSuccessful()) {\r\n\r\n                                        // APRO SCHERMATA MAPPA\r\n                                        // openMapFragment();\r\n                                        Toast.makeText(insertImage_fragment.getActivity(), &quot;ok&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n                                    } else {\r\n\r\n                                        //ERRORE\r\n                                        Toast.makeText(insertImage_fragment.getActivity(), &quot;Operation failed. Please try again&quot;, Toast.LENGTH_SHORT).show();\r\n                                    }\r\n                                }\r\n                            });\r\n                        }\r\n                    });\r\n                } else {\r\n                    Toast.makeText(insertImage_fragment.getActivity(), task.getException().toString(), Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n        });\r\n    } else{\r\n        Toast.makeText(insertImage_fragment.getActivity(),&quot;Please add image&quot;, Toast.LENGTH_SHORT).show();\r\n    }\r\n}\r\n```\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HjP1I.png\r\n","title":"Link two tables in firebase using Id in android studio using Java","body":"<p>have a problem, I'm working on a university project, I have two tables in firebase, the gallery table that contains the photos of the itinerary and the itinerary table that contains the various itineraries of the users now I have to make sure that the id of the itinerary and the ID of the image so as to have a photo corresponding to each itinerary ì, also created by the same user. I did so:</p>\n<pre><code>public void addImageItinerary() {\n    storageReference = FirebaseStorage.getInstance().getReference();\n    referenceDb = FirebaseDatabase.getInstance().getReference();\n    firestore =  FirebaseFirestore.getInstance();\n    auth = FirebaseAuth.getInstance();\n    if (images != null) {\n        StorageReference itineraryRef = storageReference.child(&quot;itinerary_image/&quot; + FirebaseAuth.getInstance().getCurrentUser().getUid() + &quot;.jpg&quot;);\n        itineraryRef.putFile(images).addOnCompleteListener(new OnCompleteListener&lt;UploadTask.TaskSnapshot&gt;() {\n            @Override\n            public void onComplete(@NonNull Task&lt;UploadTask.TaskSnapshot&gt; task) {\n                if (task.isSuccessful()) {\n                    itineraryRef.getDownloadUrl().addOnSuccessListener(new OnSuccessListener&lt;Uri&gt;() {\n                        @Override\n                        public void onSuccess(Uri uri) {\n\n                            String itineraryId = referenceDb.child(&quot;Itinerary&quot;).push().getKey();\n                            Log.i(&quot;itineraryId&quot;, itineraryId);\n\n                            HashMap&lt;String, Object&gt; map = new HashMap&lt;&gt;();\n                            map.put(&quot;image&quot;, uri.toString());\n\n                            referenceDb.child(&quot;Gallery&quot;).child(FirebaseAuth.getInstance().getCurrentUser().getUid()+ &quot;/&quot; + itineraryId).setValue(map).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n                                @Override\n                                public void onComplete(@NonNull Task&lt;Void&gt; task) {\n                                    if (task.isSuccessful()) {\n\n                                        // APRO SCHERMATA MAPPA\n                                        // openMapFragment();\n                                        Toast.makeText(insertImage_fragment.getActivity(), &quot;ok&quot;, Toast.LENGTH_SHORT).show();\n\n                                    } else {\n\n                                        //ERRORE\n                                        Toast.makeText(insertImage_fragment.getActivity(), &quot;Operation failed. Please try again&quot;, Toast.LENGTH_SHORT).show();\n                                    }\n                                }\n                            });\n                        }\n                    });\n                } else {\n                    Toast.makeText(insertImage_fragment.getActivity(), task.getException().toString(), Toast.LENGTH_SHORT).show();\n                }\n            }\n        });\n    } else{\n        Toast.makeText(insertImage_fragment.getActivity(),&quot;Please add image&quot;, Toast.LENGTH_SHORT).show();\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/HjP1I.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","sql","spring-boot","eclipse","hibernate"],"comments":[{"owner":{"account_id":24597681,"reputation":125,"user_id":18500877,"display_name":"lavantho0508"},"score":0,"creation_date":1668495869,"post_id":74436585,"comment_id":131412442,"body_markdown":"Show me the file application.properities","body":"Show me the file application.properities"},{"owner":{"account_id":18040137,"reputation":91,"user_id":13112601,"display_name":"M&#225;rquez"},"score":0,"creation_date":1668573054,"post_id":74436585,"comment_id":131435909,"body_markdown":"Sure @lavantho0508_java_dev\n\n\nserver.port=8090\nspring.datasource.url=jdbc\\:postgresql\\://localhost\\:5432/ejemplo\nspring.datasource.username=postgres\nspring.datasource.password=1234\nspring.datasource.driver-class-name=org.postgresql.Driver\nspring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect\nspring.jpa.hibernate.ddl-auto=create-drop\nlogging.level.org.hibernate.SQL=debug","body":"Sure @lavantho0508_java_dev   server.port=8090 spring.datasource.url=jdbc\\:postgresql\\://localhost\\:5432/ej&zwnj;&#8203;emplo spring.datasource.username=postgres spring.datasource.password=1234 spring.datasource.driver-class-name=org.postgresql.Driver spring.jpa.database-platform=org.hibernate.dialect.PostgreSQ&zwnj;&#8203;LDialect spring.jpa.hibernate.ddl-auto=create-drop logging.level.org.hibernate.SQL=debug"},{"owner":{"account_id":24597681,"reputation":125,"user_id":18500877,"display_name":"lavantho0508"},"score":0,"creation_date":1668573231,"post_id":74436585,"comment_id":131435935,"body_markdown":"move : spring.datasource.url=jdbc\\:postgresql\\://localhost\\:5432/ejemplo \nto     : spring.datasource.url=jdbc:postgresql://localhost:5432/ejemplo","body":"move : spring.datasource.url=jdbc\\:postgresql\\://localhost\\:5432/ej&zwnj;&#8203;emplo  to     : spring.datasource.url=jdbc:postgresql://localhost:5432/ejemp&zwnj;&#8203;lo"},{"owner":{"account_id":18040137,"reputation":91,"user_id":13112601,"display_name":"M&#225;rquez"},"score":0,"creation_date":1668574271,"post_id":74436585,"comment_id":131436097,"body_markdown":"I get the same errors\n\n@lavantho0508_java_dev","body":"I get the same errors  @lavantho0508_java_dev"}],"owner":{"account_id":18040137,"reputation":91,"user_id":13112601,"display_name":"M&#225;rquez"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668452463,"creation_date":1668452463,"question_id":74436585,"body_markdown":"I am doing a project with Hibernate and Spring. It seems that everything is going well, because it does map the classes to tables that I want, which are Product, User and Rent (A sales web page). I know that it maps them and adds objects because I can consult them in my local database.\r\n\r\nHowever, the eclipse terminal throws me an error that I don&#39;t understand why\r\n\r\norg.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;alter table rent drop constraint FK39o7ymwe055dxo8vjt4d9py0e&quot; via JDBC Statement\r\n\r\n...\r\n\r\nCaused by: org.postgresql.util.PSQLException: ERROR: relationship &quot;rent&quot; does not exist\r\n\r\nWhich makes sense up to this point because the tables have not been created. Then it does create the corresponding tables with the data I indicated.\r\n\r\nBut it is just that at no time do I alter drop or anything like that, in my import.sql file there are only the INSER TO for my database, hence I did add it.\r\n\r\nSo... What is this error due to? Thanks Does it really affect? Thank you!\r\n\r\nMy srpring version is v2.7.5","title":"Java Spring boot error in terminal but I never command to call alter table","body":"<p>I am doing a project with Hibernate and Spring. It seems that everything is going well, because it does map the classes to tables that I want, which are Product, User and Rent (A sales web page). I know that it maps them and adds objects because I can consult them in my local database.</p>\n<p>However, the eclipse terminal throws me an error that I don't understand why</p>\n<p>org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;alter table rent drop constraint FK39o7ymwe055dxo8vjt4d9py0e&quot; via JDBC Statement</p>\n<p>...</p>\n<p>Caused by: org.postgresql.util.PSQLException: ERROR: relationship &quot;rent&quot; does not exist</p>\n<p>Which makes sense up to this point because the tables have not been created. Then it does create the corresponding tables with the data I indicated.</p>\n<p>But it is just that at no time do I alter drop or anything like that, in my import.sql file there are only the INSER TO for my database, hence I did add it.</p>\n<p>So... What is this error due to? Thanks Does it really affect? Thank you!</p>\n<p>My srpring version is v2.7.5</p>\n"},{"tags":["java","google-cloud-platform","google-cloud-dataflow","gcs"],"answers":[{"tags":[],"owner":{"account_id":1874246,"reputation":1390,"user_id":1695821,"display_name":"Bruno Volpato"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668452115,"creation_date":1668449622,"answer_id":74436102,"question_id":74435679,"body_markdown":"You&#39;re right, [TextIO.write](https://beam.apache.org/releases/javadoc/current/org/apache/beam/sdk/io/TextIO.html#write--) is really targeted at writing strings.  You probably want to use [FileIO.write](https://beam.apache.org/releases/javadoc/current/org/apache/beam/sdk/io/FileIO.html#write--) and use a custom sink that allows you to write a byte array.\r\n\r\n\r\nAnother relevant question: https://stackoverflow.com/questions/56725569/how-to-use-apache-beam-fileio-writedynamic-to-output-audio-files-from-byte-array","title":"Java: How to windowed compressed byte-writes to Google cloud storage with dataflow?","body":"<p>You're right, <a href=\"https://beam.apache.org/releases/javadoc/current/org/apache/beam/sdk/io/TextIO.html#write--\" rel=\"nofollow noreferrer\">TextIO.write</a> is really targeted at writing strings.  You probably want to use <a href=\"https://beam.apache.org/releases/javadoc/current/org/apache/beam/sdk/io/FileIO.html#write--\" rel=\"nofollow noreferrer\">FileIO.write</a> and use a custom sink that allows you to write a byte array.</p>\n<p>Another relevant question: <a href=\"https://stackoverflow.com/questions/56725569/how-to-use-apache-beam-fileio-writedynamic-to-output-audio-files-from-byte-array\">How to use Apache Beam FileIO writeDynamic to output audio files from byte arrays?</a></p>\n"}],"owner":{"account_id":22839439,"reputation":401,"user_id":16986712,"display_name":"sg_rs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668452115,"creation_date":1668447164,"question_id":74435679,"body_markdown":"I am trying to do a dataflow job that collectes incomming bute arrays and writes them windowed and compressed to GCS. \r\nBasically the same as https://cloud.google.com/pubsub/docs/samples/pubsub-to-gcs\r\nBut instead of Strings in the class WriteOneFilePerWindow I want to write byte[].\r\n\r\nJust swapping the types introduces problems. Because the used TextIO.write()... is sutable only for Strings. ","title":"Java: How to windowed compressed byte-writes to Google cloud storage with dataflow?","body":"<p>I am trying to do a dataflow job that collectes incomming bute arrays and writes them windowed and compressed to GCS.\nBasically the same as <a href=\"https://cloud.google.com/pubsub/docs/samples/pubsub-to-gcs\" rel=\"nofollow noreferrer\">https://cloud.google.com/pubsub/docs/samples/pubsub-to-gcs</a>\nBut instead of Strings in the class WriteOneFilePerWindow I want to write byte[].</p>\n<p>Just swapping the types introduces problems. Because the used TextIO.write()... is sutable only for Strings.</p>\n"},{"tags":["java","spring","rest","controller"],"answers":[{"tags":[],"owner":{"account_id":6952532,"reputation":27,"user_id":5334706,"display_name":"J. Dufresne"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668452058,"creation_date":1667920373,"answer_id":74363022,"question_id":74353159,"body_markdown":"\r\nApparently, every time I&#39;ve used VSCode&#39;s autocompletion to import `@RequestBody`, it has decided to import `io.swagger.v3.oas.annotations.parameters.RequestBody` instead of \r\n`org.springframework.web.bind.annotation.RequestBody`.\r\n\r\nImporting the correct `RequestBody` class fixed the issue for me.","title":"Can Spring set the values of a @RequestBody in a generic controller?","body":"<p>Apparently, every time I've used VSCode's autocompletion to import <code>@RequestBody</code>, it has decided to import <code>io.swagger.v3.oas.annotations.parameters.RequestBody</code> instead of\n<code>org.springframework.web.bind.annotation.RequestBody</code>.</p>\n<p>Importing the correct <code>RequestBody</code> class fixed the issue for me.</p>\n"}],"owner":{"account_id":6952532,"reputation":27,"user_id":5334706,"display_name":"J. Dufresne"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":471,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668452058,"creation_date":1667856610,"question_id":74353159,"body_markdown":"I have a generic controller with a create() method mapping POST requests using some generic classes. I have created a subclass of that controller which provides the specific service and DTO types. \r\n\r\nIn theory, the subclass controller should not need to implement its own create() method. I have found, however, that if I don&#39;t implement a create() method in the subclass, the @RequestBody parameter is not getting properly set when I make requests. \r\n\r\n**Superclass**\r\n\r\n```\r\npublic abstract class GenericController&lt;InputDtoClass, ModelClass&gt; {\r\n    @PostMapping\r\n    public @ResponseBody ModelClass create(@Valid @RequestBody InputDtoClass input) {\r\n        return service.create(input);\r\n    }\r\n}\r\n\r\n```\r\n\r\n**Subclass**\r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/my/api/path&quot;)\r\npublic class SpecificController extends GenericController&lt;SpecificInputDto, SpecificModel&gt; {\r\n\r\n}\r\n```\r\n\r\nWhat I expect is that when I call POST /my/api/path with some data, then my program should call the create() method of the superclass, populate a SpecificInputDto object, then validate it. \r\n\r\nThe program is correctly calling the create() method of the superclass, and it&#39;s correctly trying to validate the input object according to the annotated fields within the SpecificInputDto class. But the input object itself is not getting any of those values set. (To clarify, if I remove the @Valid tag, I can see that an object of the correct type gets passed, with all fields null). This is especially weird given that the program seems to handle generically-typed query parameter classes just fine. It&#39;s just the field annotated with @RequestBody that&#39;s not getting populated, even though Spring *appears* to know what specific type it&#39;s supposed to be.\r\n\r\n**EDIT**: If I change the generic controller to use the specific InputDto type, it also fails to populate. But the same exact method, copied into the subclass, works correctly.","title":"Can Spring set the values of a @RequestBody in a generic controller?","body":"<p>I have a generic controller with a create() method mapping POST requests using some generic classes. I have created a subclass of that controller which provides the specific service and DTO types.</p>\n<p>In theory, the subclass controller should not need to implement its own create() method. I have found, however, that if I don't implement a create() method in the subclass, the @RequestBody parameter is not getting properly set when I make requests.</p>\n<p><strong>Superclass</strong></p>\n<pre><code>public abstract class GenericController&lt;InputDtoClass, ModelClass&gt; {\n    @PostMapping\n    public @ResponseBody ModelClass create(@Valid @RequestBody InputDtoClass input) {\n        return service.create(input);\n    }\n}\n\n</code></pre>\n<p><strong>Subclass</strong></p>\n<pre><code>@RestController\n@RequestMapping(&quot;/my/api/path&quot;)\npublic class SpecificController extends GenericController&lt;SpecificInputDto, SpecificModel&gt; {\n\n}\n</code></pre>\n<p>What I expect is that when I call POST /my/api/path with some data, then my program should call the create() method of the superclass, populate a SpecificInputDto object, then validate it.</p>\n<p>The program is correctly calling the create() method of the superclass, and it's correctly trying to validate the input object according to the annotated fields within the SpecificInputDto class. But the input object itself is not getting any of those values set. (To clarify, if I remove the @Valid tag, I can see that an object of the correct type gets passed, with all fields null). This is especially weird given that the program seems to handle generically-typed query parameter classes just fine. It's just the field annotated with @RequestBody that's not getting populated, even though Spring <em>appears</em> to know what specific type it's supposed to be.</p>\n<p><strong>EDIT</strong>: If I change the generic controller to use the specific InputDto type, it also fails to populate. But the same exact method, copied into the subclass, works correctly.</p>\n"},{"tags":["java","android","jakarta-mail","multipart"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1589543800,"post_id":61818554,"comment_id":109342844,"body_markdown":"&quot;It&#39;s only returning text content and omitting HTML tags&quot; -- that is what `Jsoup.parse(html).text()` does. If you want the tags, try using `html` directly.","body":"&quot;It&#39;s only returning text content and omitting HTML tags&quot; -- that is what <code>Jsoup.parse(html).text()</code> does. If you want the tags, try using <code>html</code> directly."},{"owner":{"account_id":18239461,"reputation":15,"user_id":13276765,"display_name":"Santanu"},"score":0,"creation_date":1589610444,"post_id":61818554,"comment_id":109366714,"body_markdown":"But how to get the raw html content?","body":"But how to get the raw html content?"}],"answers":[{"tags":[],"owner":{"account_id":89018,"reputation":5520,"user_id":245858,"accept_rate":55,"display_name":"Pradyut Bhattacharya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668451971,"creation_date":1668451971,"answer_id":74436498,"question_id":61818554,"body_markdown":"the **break** is culprit for you. I saw the comment that result gets repeated and got the hint.\r\n\r\nthis will work for you -\r\n\r\n    public String getTextFromMimeMultipart(\r\n    MimeMultipart mimeMultipart)  throws MessagingException, IOException{\r\n    String result = &quot;&quot;;\r\n      int count = mimeMultipart.getCount();\r\n      for (int i = 0; i &lt; count; i++) {\r\n        BodyPart bodyPart = mimeMultipart.getBodyPart(i);\r\n         if (bodyPart.isMimeType(&quot;text/plain&quot;)) {\r\n        /*\r\n        result = result + &quot;\\n&quot; + bodyPart.getContent();\r\n        break; \r\n        */ \r\n         // without break same text appears twice in my tests\r\n    } else if (bodyPart.isMimeType(&quot;text/html&quot;)) {\r\n        String html = (String) bodyPart.getContent();\r\n        //html has all the html tags for you\r\n        result = result + &quot;\\n&quot; + html; //org.jsoup.Jsoup.parse(html).text();\r\n    } else if (bodyPart.getContent() instanceof MimeMultipart){\r\n        result = result + getTextFromMimeMultipart((MimeMultipart)bodyPart.getContent());\r\n        \r\n      }\r\n    }\r\n    return result;\r\n       }","title":"How to read HTML text inside body of mail using Javax.mail","body":"<p>the <strong>break</strong> is culprit for you. I saw the comment that result gets repeated and got the hint.</p>\n<p>this will work for you -</p>\n<pre><code>public String getTextFromMimeMultipart(\nMimeMultipart mimeMultipart)  throws MessagingException, IOException{\nString result = &quot;&quot;;\n  int count = mimeMultipart.getCount();\n  for (int i = 0; i &lt; count; i++) {\n    BodyPart bodyPart = mimeMultipart.getBodyPart(i);\n     if (bodyPart.isMimeType(&quot;text/plain&quot;)) {\n    /*\n    result = result + &quot;\\n&quot; + bodyPart.getContent();\n    break; \n    */ \n     // without break same text appears twice in my tests\n} else if (bodyPart.isMimeType(&quot;text/html&quot;)) {\n    String html = (String) bodyPart.getContent();\n    //html has all the html tags for you\n    result = result + &quot;\\n&quot; + html; //org.jsoup.Jsoup.parse(html).text();\n} else if (bodyPart.getContent() instanceof MimeMultipart){\n    result = result + getTextFromMimeMultipart((MimeMultipart)bodyPart.getContent());\n    \n  }\n}\nreturn result;\n   }\n</code></pre>\n"}],"owner":{"account_id":18239461,"reputation":15,"user_id":13276765,"display_name":"Santanu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":536,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1668451971,"creation_date":1589543524,"question_id":61818554,"body_markdown":"I have written following code to read text  from body of a mail\r\n\r\n    private String getTextFromMimeMultipart(MimeMultipart mimeMultipart)  throws MessagingException, IOException {\r\n        String result = &quot;&quot;;\r\n        int count = mimeMultipart.getCount();\r\n        for (int i = 0; i &lt; count; i++) {\r\n            BodyPart bodyPart = mimeMultipart.getBodyPart(i);\r\n            if (bodyPart.isMimeType(&quot;text/plain&quot;)) {\r\n                result = result + &quot;\\n&quot; + bodyPart.getContent();\r\n                break; // without break same text appears twice in my tests\r\n            } else if (bodyPart.isMimeType(&quot;text/html&quot;)) {\r\n                String html = (String) bodyPart.getContent();\r\n                result = result + &quot;\\n&quot; + Jsoup.parse(html).text();//html;// + org.Jsoup.parse(html).text();\r\n            } else if (bodyPart.getContent() instanceof MimeMultipart){\r\n                result = result + getTextFromMimeMultipart((MimeMultipart)bodyPart.getContent());\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\nProblem I am facing to retrieve HTML content. It&#39;s only returning text content and omitting HTML tags. ","title":"How to read HTML text inside body of mail using Javax.mail","body":"<p>I have written following code to read text  from body of a mail</p>\n\n<pre><code>private String getTextFromMimeMultipart(MimeMultipart mimeMultipart)  throws MessagingException, IOException {\n    String result = \"\";\n    int count = mimeMultipart.getCount();\n    for (int i = 0; i &lt; count; i++) {\n        BodyPart bodyPart = mimeMultipart.getBodyPart(i);\n        if (bodyPart.isMimeType(\"text/plain\")) {\n            result = result + \"\\n\" + bodyPart.getContent();\n            break; // without break same text appears twice in my tests\n        } else if (bodyPart.isMimeType(\"text/html\")) {\n            String html = (String) bodyPart.getContent();\n            result = result + \"\\n\" + Jsoup.parse(html).text();//html;// + org.Jsoup.parse(html).text();\n        } else if (bodyPart.getContent() instanceof MimeMultipart){\n            result = result + getTextFromMimeMultipart((MimeMultipart)bodyPart.getContent());\n        }\n    }\n    return result;\n}\n</code></pre>\n\n<p>Problem I am facing to retrieve HTML content. It's only returning text content and omitting HTML tags. </p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1668423558,"post_id":74430485,"comment_id":131393465,"body_markdown":"You can use the reflection API https://docs.oracle.com/javase/tutorial/reflect/ However, there might be a better design such as having a method `setClassficationdesc` that takes `i` as a parameter.","body":"You can use the reflection API <a href=\"https://docs.oracle.com/javase/tutorial/reflect/\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/reflect</a> However, there might be a better design such as having a method <code>setClassficationdesc</code> that takes <code>i</code> as a parameter."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1668423834,"post_id":74430485,"comment_id":131393575,"body_markdown":"Only resort to reflection if you *absolutely have to*.","body":"Only resort to reflection if you <i>absolutely have to</i>."}],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668423557,"creation_date":1668423557,"answer_id":74430576,"question_id":74430485,"body_markdown":"Well you _could_ call the method from a string variable using reflection.  But instead, I suggest the following workflow:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    String i = &quot;One&quot;;\r\n\r\n    switch (i) {\r\n        case &quot;One&quot;:\r\n            // call setClassficationdescOne(...)\r\n            break;\r\n\r\n        case &quot;Two&quot;:\r\n            // call setClassficationdescTwo(...)\r\n            break;\r\n\r\n        // ...\r\n    }","title":"Invoke SET method in Java by given a String","body":"<p>Well you <em>could</em> call the method from a string variable using reflection.  But instead, I suggest the following workflow:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String i = &quot;One&quot;;\n\nswitch (i) {\n    case &quot;One&quot;:\n        // call setClassficationdescOne(...)\n        break;\n\n    case &quot;Two&quot;:\n        // call setClassficationdescTwo(...)\n        break;\n\n    // ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668423703,"creation_date":1668423703,"answer_id":74430603,"question_id":74430485,"body_markdown":"It is possible. Please search and read the topic &quot;Reflection in Java&quot;. In particular look at class [Class][1] and in it look at method `getMethod`. so you can do:\r\n\r\n    Method method = this.getClass().getMethod(...);\r\n\r\nOnce you get the method you can invoke it. (See Javadoc for class `Method`)\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html","title":"Invoke SET method in Java by given a String","body":"<p>It is possible. Please search and read the topic &quot;Reflection in Java&quot;. In particular look at class <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html\" rel=\"nofollow noreferrer\">Class</a> and in it look at method <code>getMethod</code>. so you can do:</p>\n<pre><code>Method method = this.getClass().getMethod(...);\n</code></pre>\n<p>Once you get the method you can invoke it. (See Javadoc for class <code>Method</code>)</p>\n"},{"comments":[{"owner":{"account_id":7560659,"reputation":137,"user_id":5738388,"display_name":"RoyalUp"},"score":0,"creation_date":1668424386,"post_id":74430641,"comment_id":131393731,"body_markdown":"That&#39;s not why im looking for, im trying to reduce complexity","body":"That&#39;s not why im looking for, im trying to reduce complexity"},{"owner":{"account_id":9850021,"reputation":411,"user_id":7296372,"display_name":"mrkachariker"},"score":0,"creation_date":1668424637,"post_id":74430641,"comment_id":131393804,"body_markdown":"Could you update your question with a more realistic scenario?","body":"Could you update your question with a more realistic scenario?"},{"owner":{"account_id":9850021,"reputation":411,"user_id":7296372,"display_name":"mrkachariker"},"score":0,"creation_date":1668508210,"post_id":74430641,"comment_id":131416680,"body_markdown":"Hey @RoyalUp any more doubts about this? If my answer resolved or helped you resolve your question please mark it as correct!","body":"Hey @RoyalUp any more doubts about this? If my answer resolved or helped you resolve your question please mark it as correct!"}],"tags":[],"owner":{"account_id":9850021,"reputation":411,"user_id":7296372,"display_name":"mrkachariker"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668426927,"creation_date":1668423869,"answer_id":74430641,"question_id":74430485,"body_markdown":"In that case you would use reflection by doing something like the following: \r\n\r\n```java\r\nString nameSetClassifiedMethod= &quot;setClassficationdesc&quot; + i;\r\nMethod method = Operations.class.getDeclaredMethod(&quot;nameSetClassifiedMethod&quot;, String.class); //here you should adapt it to your method&#39;s signature\r\nmethod.setAccessible(true);\r\n// and then\r\nClassWhichHoldsReflectedMethod instance = new ClassWhichHoldsReflectedMethod(); \r\nmethod.invoke(instance, params...);\r\n```\r\nCheck [this](https://www.baeldung.com/java-method-reflection) out for more.","title":"Invoke SET method in Java by given a String","body":"<p>In that case you would use reflection by doing something like the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String nameSetClassifiedMethod= &quot;setClassficationdesc&quot; + i;\nMethod method = Operations.class.getDeclaredMethod(&quot;nameSetClassifiedMethod&quot;, String.class); //here you should adapt it to your method's signature\nmethod.setAccessible(true);\n// and then\nClassWhichHoldsReflectedMethod instance = new ClassWhichHoldsReflectedMethod(); \nmethod.invoke(instance, params...);\n</code></pre>\n<p>Check <a href=\"https://www.baeldung.com/java-method-reflection\" rel=\"nofollow noreferrer\">this</a> out for more.</p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668451864,"creation_date":1668427108,"answer_id":74431281,"question_id":74430485,"body_markdown":"Maybe you&#39;re looking for Java 14 [*Switch Expressions*][switch]:\r\n\r\n```\r\nint i = // initializing the variable\r\n    \r\nswitch (i) {\r\n    case 0 -&gt; this.setClassficationdesc0(..); // perform a side-effect\r\n    case 1 -&gt; this.setClassficationdesc1(..); // perform a side-effect\r\n    case 2 -&gt; this.setClassficationdesc2(..); // perform a side-effect\r\n}\r\n```\r\n\r\n   [switch]: https://docs.oracle.com/en/java/javase/14/language/switch-expressions.html","title":"Invoke SET method in Java by given a String","body":"<p>Maybe you're looking for Java 14 <a href=\"https://docs.oracle.com/en/java/javase/14/language/switch-expressions.html\" rel=\"nofollow noreferrer\"><em>Switch Expressions</em></a>:</p>\n<pre><code>int i = // initializing the variable\n    \nswitch (i) {\n    case 0 -&gt; this.setClassficationdesc0(..); // perform a side-effect\n    case 1 -&gt; this.setClassficationdesc1(..); // perform a side-effect\n    case 2 -&gt; this.setClassficationdesc2(..); // perform a side-effect\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668428070,"creation_date":1668428070,"answer_id":74431485,"question_id":74430485,"body_markdown":"If you have a limited number of `setClassificationdesc#()` methods and you know them upfront, try something like this:\r\n\r\n```Java\r\npublic class YourClass\r\n{\r\n    @FunctionalInterface\r\n    private interface ClassificationdescSetter\r\n    {\r\n        public void set( … );\r\n    }\r\n\r\n    private final ClassificationdescSetter [] m_CDSetters;\r\n    public YourClass( … )\r\n    {\r\n        …\r\n        m_CDSetters = new ClassificationdescSetters [] {this::setClassificationdesc1, this::setClassificationdesc2, this::setClassificationdesc3, … };\r\n        …\r\n    }\r\n\r\n    public final void doSomething( final int i )\r\n    {\r\n        m_CDSetters [i - 1].set( … );\r\n    }\r\n}\r\n```\r\nOf course, all error handling is missing here!\r\n\r\nThe interface is obsolete (at least redundant) if the signature for `setClassificationdesc#()` matches an already existing functional interface. In that case, use the existing interface as the type for `m_CDSetters`; you may have to use another method as `set()`, too.","title":"Invoke SET method in Java by given a String","body":"<p>If you have a limited number of <code>setClassificationdesc#()</code> methods and you know them upfront, try something like this:</p>\n<pre><code>public class YourClass\n{\n    @FunctionalInterface\n    private interface ClassificationdescSetter\n    {\n        public void set( … );\n    }\n\n    private final ClassificationdescSetter [] m_CDSetters;\n    public YourClass( … )\n    {\n        …\n        m_CDSetters = new ClassificationdescSetters [] {this::setClassificationdesc1, this::setClassificationdesc2, this::setClassificationdesc3, … };\n        …\n    }\n\n    public final void doSomething( final int i )\n    {\n        m_CDSetters [i - 1].set( … );\n    }\n}\n</code></pre>\n<p>Of course, all error handling is missing here!</p>\n<p>The interface is obsolete (at least redundant) if the signature for <code>setClassificationdesc#()</code> matches an already existing functional interface. In that case, use the existing interface as the type for <code>m_CDSetters</code>; you may have to use another method as <code>set()</code>, too.</p>\n"},{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668432118,"creation_date":1668432118,"answer_id":74432339,"question_id":74430485,"body_markdown":"You could use [method handles](https://www.baeldung.com/java-method-handles).\r\n```java\r\nimport java.lang.invoke.MethodHandle;\r\nimport java.lang.invoke.MethodHandles;\r\nimport java.lang.invoke.MethodType;\r\n\r\npublic class MthdHndl {\r\n\r\n    public static void main(String[] args) {\r\n        MethodHandles.Lookup lookup = MethodHandles.lookup();\r\n        int index = 0;\r\n        String name = &quot;setClassficationdesc&quot;;\r\n        MethodType type = MethodType.methodType(String.class, int.class);\r\n        try {\r\n            MethodHandle mh = lookup.findVirtual(George.class, name + index, type);\r\n            int parameter = 2;\r\n            String result = (String) mh.invoke(new George(), parameter);\r\n            System.out.println(result);\r\n        }\r\n        catch (Throwable x) {\r\n            x.printStackTrace();\r\n        }\r\n    }\r\n}\r\n\r\nclass George {\r\n    private static final String[] FORTUNE = new String[]{&quot;Long live the revolution!&quot;,\r\n                                                         &quot;Have a nice day.&quot;,\r\n                                                         &quot;Behind every argument is someone&#39;s ignorance.&quot;};\r\n\r\n    public String setClassficationdesc0(int i) {\r\n        return FORTUNE[i];\r\n    }\r\n}\r\n```\r\nNote that since the method being invoked (via `MethodHandle`) is an instance method, the first parameter to method `invoke` is the instance on which to invoke the method.\r\n","title":"Invoke SET method in Java by given a String","body":"<p>You could use <a href=\"https://www.baeldung.com/java-method-handles\" rel=\"nofollow noreferrer\">method handles</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.lang.invoke.MethodHandle;\nimport java.lang.invoke.MethodHandles;\nimport java.lang.invoke.MethodType;\n\npublic class MthdHndl {\n\n    public static void main(String[] args) {\n        MethodHandles.Lookup lookup = MethodHandles.lookup();\n        int index = 0;\n        String name = &quot;setClassficationdesc&quot;;\n        MethodType type = MethodType.methodType(String.class, int.class);\n        try {\n            MethodHandle mh = lookup.findVirtual(George.class, name + index, type);\n            int parameter = 2;\n            String result = (String) mh.invoke(new George(), parameter);\n            System.out.println(result);\n        }\n        catch (Throwable x) {\n            x.printStackTrace();\n        }\n    }\n}\n\nclass George {\n    private static final String[] FORTUNE = new String[]{&quot;Long live the revolution!&quot;,\n                                                         &quot;Have a nice day.&quot;,\n                                                         &quot;Behind every argument is someone's ignorance.&quot;};\n\n    public String setClassficationdesc0(int i) {\n        return FORTUNE[i];\n    }\n}\n</code></pre>\n<p>Note that since the method being invoked (via <code>MethodHandle</code>) is an instance method, the first parameter to method <code>invoke</code> is the instance on which to invoke the method.</p>\n"}],"owner":{"account_id":7560659,"reputation":137,"user_id":5738388,"display_name":"RoyalUp"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":6,"score":0,"last_activity_date":1668451864,"creation_date":1668423117,"question_id":74430485,"body_markdown":"I have a string variable which dependes on &quot;i&quot; variable, i want to call this string, like his method:\r\n\r\n    String nameSetClassifiedMethod= &quot;setClassficationdesc&quot; + i;\r\n\r\nand i wanted something like this:\r\n\r\n    this.nameSetClassifiedMethod( some parametersIn);\r\n\r\nI know this is not possible, because i can&#39;t invoke a method with a string like im doing, but i don&#39;t know any solutions for this. \r\n\r\nI have some code that&#39;s whic is not mine, which is doing something like:\r\n\r\n    if (i == 0) {this.setClassficationdesc0(..)}\r\n    if (i == 1) {this.setClassficationdesc1(..)}\r\n    if (i == 2) {this.setClassficationdesc2(..)}\r\n\r\nSo i&#39;m trying to invoke the method by string to reduce complexity","title":"Invoke SET method in Java by given a String","body":"<p>I have a string variable which dependes on &quot;i&quot; variable, i want to call this string, like his method:</p>\n<pre><code>String nameSetClassifiedMethod= &quot;setClassficationdesc&quot; + i;\n</code></pre>\n<p>and i wanted something like this:</p>\n<pre><code>this.nameSetClassifiedMethod( some parametersIn);\n</code></pre>\n<p>I know this is not possible, because i can't invoke a method with a string like im doing, but i don't know any solutions for this.</p>\n<p>I have some code that's whic is not mine, which is doing something like:</p>\n<pre><code>if (i == 0) {this.setClassficationdesc0(..)}\nif (i == 1) {this.setClassficationdesc1(..)}\nif (i == 2) {this.setClassficationdesc2(..)}\n</code></pre>\n<p>So i'm trying to invoke the method by string to reduce complexity</p>\n"},{"tags":["java","google-bigquery","gcloud-java"],"comments":[{"owner":{"account_id":3433659,"reputation":14473,"user_id":2877278,"accept_rate":88,"display_name":"Graham Polley"},"score":0,"creation_date":1595943041,"post_id":63131722,"comment_id":111643878,"body_markdown":"Looks like a firewall blocking your egress traffic. Can you SSH onto the VM and check outbound connectivity e.g. using cURL or something?","body":"Looks like a firewall blocking your egress traffic. Can you SSH onto the VM and check outbound connectivity e.g. using cURL or something?"},{"owner":{"account_id":7684430,"reputation":120,"user_id":5822717,"display_name":"Pritbh"},"score":0,"creation_date":1595945967,"post_id":63131722,"comment_id":111645748,"body_markdown":"Hi @GrahamPolley I have updated the question thanks","body":"Hi @GrahamPolley I have updated the question thanks"},{"owner":{"account_id":3433659,"reputation":14473,"user_id":2877278,"accept_rate":88,"display_name":"Graham Polley"},"score":0,"creation_date":1595983416,"post_id":63131722,"comment_id":111660995,"body_markdown":"So, cURL directly from the VM worked?","body":"So, cURL directly from the VM worked?"},{"owner":{"account_id":7684430,"reputation":120,"user_id":5822717,"display_name":"Pritbh"},"score":0,"creation_date":1596015417,"post_id":63131722,"comment_id":111670941,"body_markdown":"yup it does but it goes via proxy .. so I am wondering if there is something getting dropped around proxy @GrahamPolley","body":"yup it does but it goes via proxy .. so I am wondering if there is something getting dropped around proxy @GrahamPolley"},{"owner":{"account_id":7684430,"reputation":120,"user_id":5822717,"display_name":"Pritbh"},"score":0,"creation_date":1596018906,"post_id":63131722,"comment_id":111672725,"body_markdown":"I am wondering if there is a way that can check if the proxy is actually being used by Google client ?? .. I know in java that can be InetSocketAddress addr = (InetSocketAddress) proxy.address() and I have done it it does print out proxy hostname and port correctly","body":"I am wondering if there is a way that can check if the proxy is actually being used by Google client ?? .. I know in java that can be InetSocketAddress addr = (InetSocketAddress) proxy.address() and I have done it it does print out proxy hostname and port correctly"},{"owner":{"account_id":16956217,"reputation":21,"user_id":12264542,"display_name":"Dattu Pragnu Nellutla"},"score":0,"creation_date":1596658322,"post_id":63131722,"comment_id":111885498,"body_markdown":"Based on the provided information, it looks like you are trying to access Bigquery from an external to GCP source. However, I don&#39;t see any sign of the service account credentials which are required to access Bigquery. Additionally, as per GCP documentation[1], would you mind also confirming if you have created a service account using your credentials and passed them along to your Java code (based on this doc[1]) so that you can access bigquery.","body":"Based on the provided information, it looks like you are trying to access Bigquery from an external to GCP source. However, I don&#39;t see any sign of the service account credentials which are required to access Bigquery. Additionally, as per GCP documentation[1], would you mind also confirming if you have created a service account using your credentials and passed them along to your Java code (based on this doc[1]) so that you can access bigquery."},{"owner":{"account_id":1374632,"reputation":3768,"user_id":1308883,"display_name":"Jofre"},"score":0,"creation_date":1597908515,"post_id":63131722,"comment_id":112286875,"body_markdown":"@GrahamPolley Note that the curl test was run against `https://console.cloud.google.com/bigquery`, but the code in the Java library calls `https://bigquery.googleapis.com/bigquery/v2/`.","body":"@GrahamPolley Note that the curl test was run against <code>https:&#47;&#47;console.cloud.google.com&#47;bigquery</code>, but the code in the Java library calls <code>https:&#47;&#47;bigquery.googleapis.com&#47;bigquery&#47;v2&#47;</code>."},{"owner":{"account_id":1374632,"reputation":3768,"user_id":1308883,"display_name":"Jofre"},"score":0,"creation_date":1597909157,"post_id":63131722,"comment_id":112287175,"body_markdown":"Also, permission errors return a 403, not a connection timeout, so I don&#39;t think this is related to IAM permissions as @Dattu suggested. This still looks a lot like a network configuration error.","body":"Also, permission errors return a 403, not a connection timeout, so I don&#39;t think this is related to IAM permissions as @Dattu suggested. This still looks a lot like a network configuration error."},{"owner":{"account_id":3203261,"reputation":277,"user_id":2704903,"accept_rate":88,"display_name":"Susanta Adhikary"},"score":0,"creation_date":1625480366,"post_id":63131722,"comment_id":120630021,"body_markdown":"@pritbh I have got hit with the same problem, any suggestion??","body":"@pritbh I have got hit with the same problem, any suggestion??"}],"answers":[{"comments":[{"owner":{"account_id":3203261,"reputation":277,"user_id":2704903,"accept_rate":88,"display_name":"Susanta Adhikary"},"score":0,"creation_date":1626333101,"post_id":68265085,"comment_id":120865729,"body_markdown":"I was doing this to test the functionality locally with my own GCP account from my company k8s pod. Ideally in production scenario any internet connection should be disallowed and one should you dedicated interconnect","body":"I was doing this to test the functionality locally with my own GCP account from my company k8s pod. Ideally in production scenario any internet connection should be disallowed and one should you dedicated interconnect"}],"tags":[],"owner":{"account_id":3203261,"reputation":277,"user_id":2704903,"accept_rate":88,"display_name":"Susanta Adhikary"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625688202,"creation_date":1625549816,"answer_id":68265085,"question_id":63131722,"body_markdown":"You have to override the ApacheHttpTransport() method to set custom header(proxy setting). I could solve the issue by doing the below step. \r\n\r\nI was using it for querying bigquery service:\r\n\r\n```\r\nHttpHost proxy = new HttpHost(&quot;proxy--host//IP&quot;,proxy--port);\r\n\r\nDefaultHttpClient httpClient = new DefaultHttpClient();\r\n\r\nhttpClient.getParams().setParameter(ConnRoutePNames.DEFAULT_PROXY, proxy);\r\n\r\n    httpClient.addRequestInterceptor(new HttpRequestInterceptor(){\r\n                @Override\r\n                public void process(org.apache.http.HttpRequest request, HttpContext context) throws HttpException, IOException {\r\n                    if (request.getRequestLine().getMethod().equals(&quot;CONNECT&quot;))\r\n                        request.addHeader(new BasicHeader(&quot;Proxy-Authorization&quot;,&quot;Basic dXNlcjE6dXNlcjE=&quot;));\r\n                }\r\n            });\r\n\r\nApacheHttpTransport mHttpTransport = new ApacheHttpTransport(httpClient);\r\n\r\n     HttpTransportFactory hf = new HttpTransportFactory(){\r\n                @Override\r\n                public HttpTransport create() {\r\n                    return mHttpTransport;\r\n                }\r\n            };\r\n\r\nFileInputStream serviceAccountStream = new FileInputStream(credentialsPath);\r\ncredentials= ServiceAccountCredentials.fromStream(serviceAccountStream,hf);\r\nTransportOptions options = HttpTransportOptions.newBuilder().setHttpTransportFactory(hf).build();\r\n\r\nif (credentials.createScopedRequired()) {\r\n                Collection&lt;String&gt; bigqueryScopes = BigqueryScopes.all();\r\n                credentials = credentials.createScoped(bigqueryScopes);\r\n            }\r\n\r\nBigQuery bigquery = BigQueryOptions\r\n                    .newBuilder()\r\n                    .setCredentials(credentials)\r\n                    .setProjectId(projectId)\r\n                    .setTransportOptions(options)\r\n                    .build()\r\n                    .getService();\r\n\r\n\r\nQueryJobConfiguration queryConfig =\r\n                    QueryJobConfiguration.newBuilder(query)\r\n                            .setUseLegacySql(false)\r\n                            .build();\r\n\r\nString jobName = &quot;jobId_&quot; + UUID.randomUUID().toString();\r\nJobId jobId = JobId.newBuilder().setJob(jobName).build();\r\nqueryJob = bigquery.create(JobInfo.newBuilder(queryConfig).setJobId(jobId).build());\r\nqueryJob = queryJob.waitFor();","title":"Google BigQuery Proxy settings in JAVA SDK","body":"<p>You have to override the ApacheHttpTransport() method to set custom header(proxy setting). I could solve the issue by doing the below step.</p>\n<p>I was using it for querying bigquery service:</p>\n<pre><code>HttpHost proxy = new HttpHost(&quot;proxy--host//IP&quot;,proxy--port);\n\nDefaultHttpClient httpClient = new DefaultHttpClient();\n\nhttpClient.getParams().setParameter(ConnRoutePNames.DEFAULT_PROXY, proxy);\n\n    httpClient.addRequestInterceptor(new HttpRequestInterceptor(){\n                @Override\n                public void process(org.apache.http.HttpRequest request, HttpContext context) throws HttpException, IOException {\n                    if (request.getRequestLine().getMethod().equals(&quot;CONNECT&quot;))\n                        request.addHeader(new BasicHeader(&quot;Proxy-Authorization&quot;,&quot;Basic dXNlcjE6dXNlcjE=&quot;));\n                }\n            });\n\nApacheHttpTransport mHttpTransport = new ApacheHttpTransport(httpClient);\n\n     HttpTransportFactory hf = new HttpTransportFactory(){\n                @Override\n                public HttpTransport create() {\n                    return mHttpTransport;\n                }\n            };\n\nFileInputStream serviceAccountStream = new FileInputStream(credentialsPath);\ncredentials= ServiceAccountCredentials.fromStream(serviceAccountStream,hf);\nTransportOptions options = HttpTransportOptions.newBuilder().setHttpTransportFactory(hf).build();\n\nif (credentials.createScopedRequired()) {\n                Collection&lt;String&gt; bigqueryScopes = BigqueryScopes.all();\n                credentials = credentials.createScoped(bigqueryScopes);\n            }\n\nBigQuery bigquery = BigQueryOptions\n                    .newBuilder()\n                    .setCredentials(credentials)\n                    .setProjectId(projectId)\n                    .setTransportOptions(options)\n                    .build()\n                    .getService();\n\n\nQueryJobConfiguration queryConfig =\n                    QueryJobConfiguration.newBuilder(query)\n                            .setUseLegacySql(false)\n                            .build();\n\nString jobName = &quot;jobId_&quot; + UUID.randomUUID().toString();\nJobId jobId = JobId.newBuilder().setJob(jobName).build();\nqueryJob = bigquery.create(JobInfo.newBuilder(queryConfig).setJobId(jobId).build());\nqueryJob = queryJob.waitFor();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13268947,"reputation":9,"user_id":9580660,"display_name":"Garrampa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668451719,"creation_date":1668451719,"answer_id":74436463,"question_id":63131722,"body_markdown":"I think you can use the same way as Google explains in their [Github API repositories][1]:\r\n\r\n    import java.io.IOException;\r\n    \r\n    public class ProxyExample {\r\n      public GoogleCredentials getCredentials() throws IOException {\r\n        HttpTransportFactory httpTransportFactory = getHttpTransportFactory(\r\n            &quot;some-host&quot;, 8080, &quot;some-username&quot;, &quot;some-password&quot;\r\n        );\r\n    \r\n        return GoogleCredentials.getApplicationDefault(httpTransportFactory);\r\n      }\r\n    \r\n      public HttpTransportFactory getHttpTransportFactory(String proxyHost, int proxyPort, String proxyUsername, String proxyPassword) {\r\n        HttpHost proxyHostDetails = new HttpHost(proxyHost, proxyPort);\r\n        HttpRoutePlanner httpRoutePlanner = new DefaultProxyRoutePlanner(proxyHostDetails);\r\n    \r\n        CredentialsProvider credentialsProvider = new BasicCredentialsProvider();\r\n        credentialsProvider.setCredentials(\r\n            new AuthScope(proxyHostDetails.getHostName(), proxyHostDetails.getPort()),\r\n            new UsernamePasswordCredentials(proxyUsername, proxyPassword)\r\n        );\r\n    \r\n        HttpClient httpClient = ApacheHttpTransport.newDefaultHttpClientBuilder()\r\n            .setRoutePlanner(httpRoutePlanner)\r\n            .setProxyAuthenticationStrategy(ProxyAuthenticationStrategy.INSTANCE)\r\n            .setDefaultCredentialsProvider(credentialsProvider)\r\n            .build();\r\n    \r\n        final HttpTransport httpTransport = new ApacheHttpTransport(httpClient);\r\n        return new HttpTransportFactory() {\r\n          @Override\r\n          public HttpTransport create() {\r\n            return httpTransport;\r\n          }\r\n        };\r\n      }\r\n    }\r\n\r\n  [1]: https://github.com/googleapis/google-auth-library-java/blob/main/README.md#configuring-a-proxy","title":"Google BigQuery Proxy settings in JAVA SDK","body":"<p>I think you can use the same way as Google explains in their <a href=\"https://github.com/googleapis/google-auth-library-java/blob/main/README.md#configuring-a-proxy\" rel=\"nofollow noreferrer\">Github API repositories</a>:</p>\n<pre><code>import java.io.IOException;\n\npublic class ProxyExample {\n  public GoogleCredentials getCredentials() throws IOException {\n    HttpTransportFactory httpTransportFactory = getHttpTransportFactory(\n        &quot;some-host&quot;, 8080, &quot;some-username&quot;, &quot;some-password&quot;\n    );\n\n    return GoogleCredentials.getApplicationDefault(httpTransportFactory);\n  }\n\n  public HttpTransportFactory getHttpTransportFactory(String proxyHost, int proxyPort, String proxyUsername, String proxyPassword) {\n    HttpHost proxyHostDetails = new HttpHost(proxyHost, proxyPort);\n    HttpRoutePlanner httpRoutePlanner = new DefaultProxyRoutePlanner(proxyHostDetails);\n\n    CredentialsProvider credentialsProvider = new BasicCredentialsProvider();\n    credentialsProvider.setCredentials(\n        new AuthScope(proxyHostDetails.getHostName(), proxyHostDetails.getPort()),\n        new UsernamePasswordCredentials(proxyUsername, proxyPassword)\n    );\n\n    HttpClient httpClient = ApacheHttpTransport.newDefaultHttpClientBuilder()\n        .setRoutePlanner(httpRoutePlanner)\n        .setProxyAuthenticationStrategy(ProxyAuthenticationStrategy.INSTANCE)\n        .setDefaultCredentialsProvider(credentialsProvider)\n        .build();\n\n    final HttpTransport httpTransport = new ApacheHttpTransport(httpClient);\n    return new HttpTransportFactory() {\n      @Override\n      public HttpTransport create() {\n        return httpTransport;\n      }\n    };\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":7684430,"reputation":120,"user_id":5822717,"display_name":"Pritbh"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1668451719,"creation_date":1595930989,"question_id":63131722,"body_markdown":"I am trying to use Google BigQuery SDK to do a query. It works fine on my local but in a VM it gets timed out all the time. My best guess is the proxy settings I have tried following way to set it but SDK client doesn&#39;t seem to pick it up \r\n\r\n        System.setProperty(&quot;java.net.useSystemProxies&quot;, &quot;true&quot;);\r\n        System.setProperty(&quot;http.proxyHost&quot;, &quot;http://xxxxx&quot;);\r\n        System.setProperty(&quot;http.proxyPort&quot;, &quot;3128&quot;);\r\n        System.setProperty(&quot;https.proxyHost&quot;, &quot;http://xxxxx&quot;);\r\n        System.setProperty(&quot;https.proxyPort&quot;, &quot;3128&quot;);\r\n    \r\nAlso via application.properties \r\n    \r\n       https.proxyHost=http://xxxxx\r\n       https.proxyPort=3128 \r\n    \r\nHere is my code . Is there any other way to set it or if I can debug it more . I have  printed the Job and compared it local and VM both looks the same\r\n    \r\n    ```public List&lt;Data&gt; getData() {\r\n        System.setProperty(&quot;java.net.useSystemProxies&quot;, &quot;true&quot;);\r\n        System.setProperty(&quot;http.proxyHost&quot;, &quot;http://xxxx&quot;);\r\n        System.setProperty(&quot;http.proxyPort&quot;, &quot;3128&quot;);\r\n        System.setProperty(&quot;https.proxyHost&quot;, &quot;http://xxxxxx&quot;);\r\n        System.setProperty(&quot;https.proxyPort&quot;, &quot;3128&quot;);\r\n        String query = &quot;SELECT * FROM user&quot;;\r\n        log.info(&quot;query --  &quot; + query);\r\n        double i = 0;\r\n        try {\r\n            File file = new File(FILE_PATH);\r\n            if (!file.exists()) {\r\n              throw new FileNotFoundException(&quot;Google credentials file not found &quot;);\r\n            }\r\n         \r\n            Credentials credentials = GoogleCredentials\r\n                .fromStream(new FileInputStream(FILE_PATH)).toBuilder().build();\r\n                  BigQuery bigquery =\r\n                BigQueryOptions.newBuilder()\r\n                    .setCredentials(credentials).build().getService();\r\n            QueryJobConfiguration queryConfig =\r\n                QueryJobConfiguration.newBuilder(\r\n                    query)\r\n                    // Use standard SQL syntax for queries.clea\r\n                    // See: https://cloud.google.com/bigquery/sql-reference/\r\n                    .setUseLegacySql(false)\r\n                    .build();\r\n            // Create a job ID so that we can safely retry.\r\n            JobId jobId = JobId.of(UUID.randomUUID().toString());\r\n            Job queryJob =\r\n                bigquery.create(JobInfo.newBuilder(queryConfig).setJobId(jobId).build());\r\n            // Wait for the query to complete.\r\n            queryJob = queryJob.waitFor();\r\n    \r\n            // Check for errors\r\n            if (queryJob == null) {\r\n              throw new RuntimeException(&quot;Job no longer exists&quot;);\r\n            } else if (queryJob.getStatus().getError() != null) {\r\n              // You can also look at queryJob.getStatus().getExecutionErrors() for all\r\n              // errors, not just the latest one.\r\n              throw new RuntimeException(queryJob.getStatus().getError().toString());\r\n            }\r\n            // Get the results.\r\n            TableResult result = queryJob.getQueryResults();\r\n            // Print all pages of the results.\r\n            for (FieldValueList row : result.iterateAll()) {\r\n              i++;\r\n              System.out.println(row)\r\n        \r\n            }\r\n          } catch (Exception e) {\r\n            e.printStackTrace();\r\n          }\r\n          log.info(&quot; data received ==&quot; + i + &quot; == &quot;);\r\n          return arrayList;\r\n        }```\r\n    \r\n    \r\nAnd the error log \r\n    \r\n    \r\n  ``` com.google.cloud.bigquery.BigQueryException: Error getting access token for service account: connect timed out\r\n    \tat com.google.cloud.bigquery.spi.v2.HttpBigQueryRpc.translate(HttpBigQueryRpc.java:106)\r\n    \tat com.google.cloud.bigquery.spi.v2.HttpBigQueryRpc.create(HttpBigQueryRpc.java:206)\r\n    \tat com.google.cloud.bigquery.BigQueryImpl$5.call(BigQueryImpl.java:324)\r\n    \tat com.google.cloud.bigquery.BigQueryImpl$5.call(BigQueryImpl.java:321)\r\n    \tat com.google.api.gax.retrying.DirectRetryingExecutor.submit(DirectRetryingExecutor.java:105)\r\n    \tat com.google.cloud.RetryHelper.run(RetryHelper.java:76)\r\n    \tat com.google.cloud.RetryHelper.runWithRetries(RetryHelper.java:50)\r\n    \tat com.google.cloud.bigquery.BigQueryImpl.create(BigQueryImpl.java:320)\r\n    \tat com.google.cloud.bigquery.BigQueryImpl.create(BigQueryImpl.java:295)\r\n    \tat uk.ac.ebi.usage.portal.tscusage.cloud.GoogleCloud.FetchData.getData(FetchData.java:138)\r\n    \tat uk.ac.ebi.usage.portal.tscusage.cloud.GoogleCloud.GoogleCloudService.execute(GoogleCloudService.java:39)\r\n    \tat uk.ac.ebi.usage.portal.tscusage.TscUsageApplication.lambda$commandLineRunnerAllService$0(TscUsageApplication.java:162)\r\n    \tat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:732)\r\n    \tat org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:716)\r\n    \tat org.springframework.boot.SpringApplication.afterRefresh(SpringApplication.java:703)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:304)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1118)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1107)\r\n    \tat uk.ac.ebi.usage.portal.tscusage.TscUsageApplication.main(TscUsageApplication.java:89)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48)\r\n    \tat org.springframework.boot.loader.Launcher.launch(Launcher.java:87)\r\n    \tat org.springframework.boot.loader.Launcher.launch(Launcher.java:50)\r\n    \tat org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51)\r\n    Caused by: java.io.IOException: Error getting access token for service account: connect timed out\r\n    \tat com.google.auth.oauth2.ServiceAccountCredentials.refreshAccessToken(ServiceAccountCredentials.java:444)\r\n    \tat com.google.auth.oauth2.OAuth2Credentials.refresh(OAuth2Credentials.java:157)\r\n    \tat com.google.auth.oauth2.OAuth2Credentials.getRequestMetadata(OAuth2Credentials.java:145)\r\n    \tat com.google.auth.oauth2.ServiceAccountCredentials.getRequestMetadata(ServiceAccountCredentials.java:603)\r\n    \tat com.google.auth.http.HttpCredentialsAdapter.initialize(HttpCredentialsAdapter.java:91)\r\n    \tat com.google.cloud.http.HttpTransportOptions$1.initialize(HttpTransportOptions.java:159)\r\n    \tat com.google.api.client.http.HttpRequestFactory.buildRequest(HttpRequestFactory.java:88)\r\n    \tat com.google.api.client.googleapis.services.AbstractGoogleClientRequest.buildHttpRequest(AbstractGoogleClientRequest.java:422)\r\n    \tat com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:541)\r\n    \tat com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:474)\r\n    \tat com.google.api.client.googleapis.services.AbstractGoogleClientRequest.execute(AbstractGoogleClientRequest.java:591)\r\n    \tat com.google.cloud.bigquery.spi.v2.HttpBigQueryRpc.create(HttpBigQueryRpc.java:204)\r\n    \t... 25 more\r\n    Caused by: java.net.SocketTimeoutException: connect timed out\r\n    \tat java.net.PlainSocketImpl.socketConnect(Native Method)\r\n    \tat java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)\r\n    \tat java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)\r\n    \tat java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)\r\n    \tat java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\r\n    \tat java.net.Socket.connect(Socket.java:589)\r\n    \tat sun.security.ssl.SSLSocketImpl.connect(SSLSocketImpl.java:668)\r\n    \tat sun.net.NetworkClient.doConnect(NetworkClient.java:175)\r\n    \tat sun.net.www.http.HttpClient.openServer(HttpClient.java:432)\r\n    \tat sun.net.www.http.HttpClient.openServer(HttpClient.java:527)\r\n    \tat sun.net.www.protocol.https.HttpsClient.&lt;init&gt;(HttpsClient.java:264)\r\n    \tat sun.net.www.protocol.https.HttpsClient.New(HttpsClient.java:367)\r\n    \tat sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.getNewHttpClient(AbstractDelegateHttpsURLConnection.java:200)\r\n    \tat sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1124)\r\n    \tat sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:999)\r\n    \tat sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:177)\r\n    \tat sun.net.www.protocol.http.HttpURLConnection.getOutputStream0(HttpURLConnection.java:1283)\r\n    \tat sun.net.www.protocol.http.HttpURLConnection.getOutputStream(HttpURLConnection.java:1258)\r\n    \tat sun.net.www.protocol.https.HttpsURLConnectionImpl.getOutputStream(HttpsURLConnectionImpl.java:250)\r\n    \tat com.google.api.client.http.javanet.NetHttpRequest.execute(NetHttpRequest.java:113)\r\n    \tat com.google.api.client.http.javanet.NetHttpRequest.execute(NetHttpRequest.java:84)\r\n    \tat com.google.api.client.http.HttpRequest.execute(HttpRequest.java:1012)\r\n    \tat com.google.auth.oauth2.ServiceAccountCredentials.refreshAccessToken(ServiceAccountCredentials.java:441)\r\n    \t... 36 more\r\n```\r\nI have tried with cURL its able to connect \r\n\r\n        curl -v &quot;https://console.cloud.google.com/bigquery?project=xxxxxx&amp;page=queryresults&quot;\r\n    \r\n        About to connect() to proxy xxxproxyxxxx port 3128 (#0)\r\n        Trying 10.7.48.45... connected\r\n        Connected to xxxproxyxxxx (10.7.48.45) port 3128 (#0)\r\n        Establish HTTP proxy tunnel to console.cloud.google.com:443\r\n        CONNECT console.cloud.google.com:443 HTTP/1.1\r\n        Host: console.cloud.google.com:443\r\n        User-Agent: curl/7.19.7 (x86_64-redhat-linux-gnu) libcurl/7.19.7 \r\n        NSS/3.27.1 zlib/1.2.3 libidn/1.18 libssh2/1.4.2\r\n        Proxy-Connection: Keep-Alive\r\n        HTTP/1.1 200 Connection established\r\n        Proxy replied OK to CONNECT request\r\n        Initializing NSS with certpath: sql:/etc/pki/nssdb\r\n        CAfile: /etc/pki/tls/certs/ca-bundle.crt\r\n        CApath: none\r\n        SSL connection using TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256\r\n        Server certificate:\r\n        subject: CN=*.googlecode.com,O=Google LLC,L=Mountain \r\n        View,ST=California,C=US\r\n        start date: Jul 07 08:08:04 2020 GMT\r\n        expire date: Sep 29 08:08:04 2020 GMT\r\n        common name: *.googlecode.com\r\n        issuer: CN=GTS CA 1O1,O=Google Trust Services,C=US\r\n        GET /bigquery?project=xxxxxx&amp;page=queryresults HTTP/1.1\r\n        User-Agent: curl/7.19.7 (x86_64-redhat-linux-gnu) libcurl/7.19.7 \r\n       NSS/3.27.1 zlib/1.2.3 libidn/1.18 libssh2/1.4.2\r\n       Host: console.cloud.google.com\r\n       Accept: */*\r\n       HTTP/1.1 302 Found\r\n       Content-Type: application/binary\r\n       X-Frame-Options: DENY\r\n      Location: https://accounts.google.com/ServiceLogin? \r\n     service=cloudconsole&amp;passive=1209600&amp;osid=1&amp;continue=https://console.cloud.google.com/bigquery?project%3Dxxxx%3Dqueryresults&amp;followup=https://console.cloud.google.com/bigquery?project%3Dxxxx%26j%3Dbq:EU:bquxjob_1207bd95_1736ccef796%26page%3Dqueryresults\r\n      x-debug-tracking-id: 1864997233354316760;o=0\r\n       P3P: CP=&quot;This is not a P3P policy! See g.co/p3phelp for more info.&quot;\r\n      Strict-Transport-Security: max-age=31536000\r\n    &lt; Date: Thu, 23 Jul 2020 13:32:26 GMT\r\n    &lt; Server: ESF\r\n    &lt; Content-Length: 0\r\n    &lt; X-XSS-Protection: 0\r\n    &lt; X-Content-Type-Options: nosniff\r\n    &lt; Set-Cookie: NID=204=fzP-6QVkBMPOJ5GhTaskE4leuqZr0UHIUrAUNd1dx4VUQV-eIEMNHrtjt1QCJezFtivTAzPOiY2Fmd3Kegm2KMaWj-hLoIJsG37XgAQXEsghxWZ_aJnZblf6Ro__v9kn0jTxxfIr0PffUMvpCLV01gj9eWwyOUKGupGvqx6_OpA; expires=Fri, 22-Jan-2021 13:32:26 GMT; path=/; domain=.google.com; HttpOnly\r\n      Alt-Svc: h3-29=&quot;:443&quot;; ma=2592000,h3-27=&quot;:443&quot;; ma=2592000,h3-T050=&quot;:443&quot;; ma=2592000,h3-Q050=&quot;:443&quot;; ma=2592000,h3-Q046=&quot;:443&quot;; ma=2592000,h3-Q043=&quot;:443&quot;; ma=2592000,quic=&quot;:443&quot;; ma=2592000; v=&quot;46,43&quot;\r\n      \r\n      Connection #0 to host xxxproxyxxxx left intact\r\n      Closing connection #0\r\n    \r\nThanks for the HELP","title":"Google BigQuery Proxy settings in JAVA SDK","body":"<p>I am trying to use Google BigQuery SDK to do a query. It works fine on my local but in a VM it gets timed out all the time. My best guess is the proxy settings I have tried following way to set it but SDK client doesn't seem to pick it up</p>\n<pre><code>    System.setProperty(&quot;java.net.useSystemProxies&quot;, &quot;true&quot;);\n    System.setProperty(&quot;http.proxyHost&quot;, &quot;http://xxxxx&quot;);\n    System.setProperty(&quot;http.proxyPort&quot;, &quot;3128&quot;);\n    System.setProperty(&quot;https.proxyHost&quot;, &quot;http://xxxxx&quot;);\n    System.setProperty(&quot;https.proxyPort&quot;, &quot;3128&quot;);\n</code></pre>\n<p>Also via application.properties</p>\n<pre><code>   https.proxyHost=http://xxxxx\n   https.proxyPort=3128 \n</code></pre>\n<p>Here is my code . Is there any other way to set it or if I can debug it more . I have  printed the Job and compared it local and VM both looks the same</p>\n<pre><code>```public List&lt;Data&gt; getData() {\n    System.setProperty(&quot;java.net.useSystemProxies&quot;, &quot;true&quot;);\n    System.setProperty(&quot;http.proxyHost&quot;, &quot;http://xxxx&quot;);\n    System.setProperty(&quot;http.proxyPort&quot;, &quot;3128&quot;);\n    System.setProperty(&quot;https.proxyHost&quot;, &quot;http://xxxxxx&quot;);\n    System.setProperty(&quot;https.proxyPort&quot;, &quot;3128&quot;);\n    String query = &quot;SELECT * FROM user&quot;;\n    log.info(&quot;query --  &quot; + query);\n    double i = 0;\n    try {\n        File file = new File(FILE_PATH);\n        if (!file.exists()) {\n          throw new FileNotFoundException(&quot;Google credentials file not found &quot;);\n        }\n     \n        Credentials credentials = GoogleCredentials\n            .fromStream(new FileInputStream(FILE_PATH)).toBuilder().build();\n              BigQuery bigquery =\n            BigQueryOptions.newBuilder()\n                .setCredentials(credentials).build().getService();\n        QueryJobConfiguration queryConfig =\n            QueryJobConfiguration.newBuilder(\n                query)\n                // Use standard SQL syntax for queries.clea\n                // See: https://cloud.google.com/bigquery/sql-reference/\n                .setUseLegacySql(false)\n                .build();\n        // Create a job ID so that we can safely retry.\n        JobId jobId = JobId.of(UUID.randomUUID().toString());\n        Job queryJob =\n            bigquery.create(JobInfo.newBuilder(queryConfig).setJobId(jobId).build());\n        // Wait for the query to complete.\n        queryJob = queryJob.waitFor();\n\n        // Check for errors\n        if (queryJob == null) {\n          throw new RuntimeException(&quot;Job no longer exists&quot;);\n        } else if (queryJob.getStatus().getError() != null) {\n          // You can also look at queryJob.getStatus().getExecutionErrors() for all\n          // errors, not just the latest one.\n          throw new RuntimeException(queryJob.getStatus().getError().toString());\n        }\n        // Get the results.\n        TableResult result = queryJob.getQueryResults();\n        // Print all pages of the results.\n        for (FieldValueList row : result.iterateAll()) {\n          i++;\n          System.out.println(row)\n    \n        }\n      } catch (Exception e) {\n        e.printStackTrace();\n      }\n      log.info(&quot; data received ==&quot; + i + &quot; == &quot;);\n      return arrayList;\n    }```\n</code></pre>\n<p>And the error log</p>\n<pre><code>      at com.google.cloud.bigquery.spi.v2.HttpBigQueryRpc.translate(HttpBigQueryRpc.java:106)\n      at com.google.cloud.bigquery.spi.v2.HttpBigQueryRpc.create(HttpBigQueryRpc.java:206)\n      at com.google.cloud.bigquery.BigQueryImpl$5.call(BigQueryImpl.java:324)\n      at com.google.cloud.bigquery.BigQueryImpl$5.call(BigQueryImpl.java:321)\n      at com.google.api.gax.retrying.DirectRetryingExecutor.submit(DirectRetryingExecutor.java:105)\n      at com.google.cloud.RetryHelper.run(RetryHelper.java:76)\n      at com.google.cloud.RetryHelper.runWithRetries(RetryHelper.java:50)\n      at com.google.cloud.bigquery.BigQueryImpl.create(BigQueryImpl.java:320)\n      at com.google.cloud.bigquery.BigQueryImpl.create(BigQueryImpl.java:295)\n      at uk.ac.ebi.usage.portal.tscusage.cloud.GoogleCloud.FetchData.getData(FetchData.java:138)\n      at uk.ac.ebi.usage.portal.tscusage.cloud.GoogleCloud.GoogleCloudService.execute(GoogleCloudService.java:39)\n      at uk.ac.ebi.usage.portal.tscusage.TscUsageApplication.lambda$commandLineRunnerAllService$0(TscUsageApplication.java:162)\n      at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:732)\n      at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:716)\n      at org.springframework.boot.SpringApplication.afterRefresh(SpringApplication.java:703)\n      at org.springframework.boot.SpringApplication.run(SpringApplication.java:304)\n      at org.springframework.boot.SpringApplication.run(SpringApplication.java:1118)\n      at org.springframework.boot.SpringApplication.run(SpringApplication.java:1107)\n      at uk.ac.ebi.usage.portal.tscusage.TscUsageApplication.main(TscUsageApplication.java:89)\n      at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n      at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n      at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n      at java.lang.reflect.Method.invoke(Method.java:498)\n      at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48)\n      at org.springframework.boot.loader.Launcher.launch(Launcher.java:87)\n      at org.springframework.boot.loader.Launcher.launch(Launcher.java:50)\n      at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51)\n  Caused by: java.io.IOException: Error getting access token for service account: connect timed out\n      at com.google.auth.oauth2.ServiceAccountCredentials.refreshAccessToken(ServiceAccountCredentials.java:444)\n      at com.google.auth.oauth2.OAuth2Credentials.refresh(OAuth2Credentials.java:157)\n      at com.google.auth.oauth2.OAuth2Credentials.getRequestMetadata(OAuth2Credentials.java:145)\n      at com.google.auth.oauth2.ServiceAccountCredentials.getRequestMetadata(ServiceAccountCredentials.java:603)\n      at com.google.auth.http.HttpCredentialsAdapter.initialize(HttpCredentialsAdapter.java:91)\n      at com.google.cloud.http.HttpTransportOptions$1.initialize(HttpTransportOptions.java:159)\n      at com.google.api.client.http.HttpRequestFactory.buildRequest(HttpRequestFactory.java:88)\n      at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.buildHttpRequest(AbstractGoogleClientRequest.java:422)\n      at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:541)\n      at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:474)\n      at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.execute(AbstractGoogleClientRequest.java:591)\n      at com.google.cloud.bigquery.spi.v2.HttpBigQueryRpc.create(HttpBigQueryRpc.java:204)\n      ... 25 more\n  Caused by: java.net.SocketTimeoutException: connect timed out\n      at java.net.PlainSocketImpl.socketConnect(Native Method)\n      at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)\n      at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)\n      at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)\n      at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\n      at java.net.Socket.connect(Socket.java:589)\n      at sun.security.ssl.SSLSocketImpl.connect(SSLSocketImpl.java:668)\n      at sun.net.NetworkClient.doConnect(NetworkClient.java:175)\n      at sun.net.www.http.HttpClient.openServer(HttpClient.java:432)\n      at sun.net.www.http.HttpClient.openServer(HttpClient.java:527)\n      at sun.net.www.protocol.https.HttpsClient.&lt;init&gt;(HttpsClient.java:264)\n      at sun.net.www.protocol.https.HttpsClient.New(HttpsClient.java:367)\n      at sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.getNewHttpClient(AbstractDelegateHttpsURLConnection.java:200)\n      at sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1124)\n      at sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:999)\n      at sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:177)\n      at sun.net.www.protocol.http.HttpURLConnection.getOutputStream0(HttpURLConnection.java:1283)\n      at sun.net.www.protocol.http.HttpURLConnection.getOutputStream(HttpURLConnection.java:1258)\n      at sun.net.www.protocol.https.HttpsURLConnectionImpl.getOutputStream(HttpsURLConnectionImpl.java:250)\n      at com.google.api.client.http.javanet.NetHttpRequest.execute(NetHttpRequest.java:113)\n      at com.google.api.client.http.javanet.NetHttpRequest.execute(NetHttpRequest.java:84)\n      at com.google.api.client.http.HttpRequest.execute(HttpRequest.java:1012)\n      at com.google.auth.oauth2.ServiceAccountCredentials.refreshAccessToken(ServiceAccountCredentials.java:441)\n      ... 36 more\n</code></pre>\n<p>I have tried with cURL its able to connect</p>\n<pre><code>    curl -v &quot;https://console.cloud.google.com/bigquery?project=xxxxxx&amp;page=queryresults&quot;\n\n    About to connect() to proxy xxxproxyxxxx port 3128 (#0)\n    Trying 10.7.48.45... connected\n    Connected to xxxproxyxxxx (10.7.48.45) port 3128 (#0)\n    Establish HTTP proxy tunnel to console.cloud.google.com:443\n    CONNECT console.cloud.google.com:443 HTTP/1.1\n    Host: console.cloud.google.com:443\n    User-Agent: curl/7.19.7 (x86_64-redhat-linux-gnu) libcurl/7.19.7 \n    NSS/3.27.1 zlib/1.2.3 libidn/1.18 libssh2/1.4.2\n    Proxy-Connection: Keep-Alive\n    HTTP/1.1 200 Connection established\n    Proxy replied OK to CONNECT request\n    Initializing NSS with certpath: sql:/etc/pki/nssdb\n    CAfile: /etc/pki/tls/certs/ca-bundle.crt\n    CApath: none\n    SSL connection using TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256\n    Server certificate:\n    subject: CN=*.googlecode.com,O=Google LLC,L=Mountain \n    View,ST=California,C=US\n    start date: Jul 07 08:08:04 2020 GMT\n    expire date: Sep 29 08:08:04 2020 GMT\n    common name: *.googlecode.com\n    issuer: CN=GTS CA 1O1,O=Google Trust Services,C=US\n    GET /bigquery?project=xxxxxx&amp;page=queryresults HTTP/1.1\n    User-Agent: curl/7.19.7 (x86_64-redhat-linux-gnu) libcurl/7.19.7 \n   NSS/3.27.1 zlib/1.2.3 libidn/1.18 libssh2/1.4.2\n   Host: console.cloud.google.com\n   Accept: */*\n   HTTP/1.1 302 Found\n   Content-Type: application/binary\n   X-Frame-Options: DENY\n  Location: https://accounts.google.com/ServiceLogin? \n service=cloudconsole&amp;passive=1209600&amp;osid=1&amp;continue=https://console.cloud.google.com/bigquery?project%3Dxxxx%3Dqueryresults&amp;followup=https://console.cloud.google.com/bigquery?project%3Dxxxx%26j%3Dbq:EU:bquxjob_1207bd95_1736ccef796%26page%3Dqueryresults\n  x-debug-tracking-id: 1864997233354316760;o=0\n   P3P: CP=&quot;This is not a P3P policy! See g.co/p3phelp for more info.&quot;\n  Strict-Transport-Security: max-age=31536000\n&lt; Date: Thu, 23 Jul 2020 13:32:26 GMT\n&lt; Server: ESF\n&lt; Content-Length: 0\n&lt; X-XSS-Protection: 0\n&lt; X-Content-Type-Options: nosniff\n&lt; Set-Cookie: NID=204=fzP-6QVkBMPOJ5GhTaskE4leuqZr0UHIUrAUNd1dx4VUQV-eIEMNHrtjt1QCJezFtivTAzPOiY2Fmd3Kegm2KMaWj-hLoIJsG37XgAQXEsghxWZ_aJnZblf6Ro__v9kn0jTxxfIr0PffUMvpCLV01gj9eWwyOUKGupGvqx6_OpA; expires=Fri, 22-Jan-2021 13:32:26 GMT; path=/; domain=.google.com; HttpOnly\n  Alt-Svc: h3-29=&quot;:443&quot;; ma=2592000,h3-27=&quot;:443&quot;; ma=2592000,h3-T050=&quot;:443&quot;; ma=2592000,h3-Q050=&quot;:443&quot;; ma=2592000,h3-Q046=&quot;:443&quot;; ma=2592000,h3-Q043=&quot;:443&quot;; ma=2592000,quic=&quot;:443&quot;; ma=2592000; v=&quot;46,43&quot;\n  \n  Connection #0 to host xxxproxyxxxx left intact\n  Closing connection #0\n</code></pre>\n<p>Thanks for the HELP</p>\n"},{"tags":["java","mysql","prepared-statement","jcombobox"],"comments":[{"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"score":0,"creation_date":1392290297,"post_id":21752628,"comment_id":32902340,"body_markdown":"Did you set an action command for this button (using `setActionCommand(&quot;Predict&quot;)`)?. Otherwise did you try `if(e.getSource() == yourButton)`?","body":"Did you set an action command for this button (using <code>setActionCommand(&quot;Predict&quot;)</code>)?. Otherwise did you try <code>if(e.getSource() == yourButton)</code>?"},{"owner":{"account_id":3779968,"reputation":7,"user_id":3139748,"accept_rate":50,"display_name":"user3139748"},"score":0,"creation_date":1392290788,"post_id":21752628,"comment_id":32902608,"body_markdown":"Yes, I have as this; predict.addActionListener(this);\n        predict.setActionCommand(&quot;Predict&quot;);","body":"Yes, I have as this; predict.addActionListener(this);         predict.setActionCommand(&quot;Predict&quot;);"},{"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"score":0,"creation_date":1392290987,"post_id":21752628,"comment_id":32902714,"body_markdown":"Could you show the code for you GUI? (the relevant parts)","body":"Could you show the code for you GUI? (the relevant parts)"},{"owner":{"account_id":3779968,"reputation":7,"user_id":3139748,"accept_rate":50,"display_name":"user3139748"},"score":0,"creation_date":1392291278,"post_id":21752628,"comment_id":32902899,"body_markdown":"Do you mean the code for the jbutton?  private JButton predict = new JButton(&quot;Predict&quot;);","body":"Do you mean the code for the jbutton?  private JButton predict = new JButton(&quot;Predict&quot;);"},{"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"score":0,"creation_date":1392291334,"post_id":21752628,"comment_id":32902943,"body_markdown":"Did you set the action listener for the button? If yes, please post your code, because we can&#39;t say anything with what you provided, just suppositions.","body":"Did you set the action listener for the button? If yes, please post your code, because we can&#39;t say anything with what you provided, just suppositions."},{"owner":{"account_id":3779968,"reputation":7,"user_id":3139748,"accept_rate":50,"display_name":"user3139748"},"score":0,"creation_date":1392291402,"post_id":21752628,"comment_id":32902981,"body_markdown":"Yeah, I used the code I posted 9 mins ago.","body":"Yeah, I used the code I posted 9 mins ago."}],"owner":{"account_id":3779968,"reputation":7,"user_id":3139748,"accept_rate":50,"display_name":"user3139748"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":619,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668451638,"creation_date":1392290161,"question_id":21752628,"body_markdown":"What I want to do is to print out information from a mysql table by using a jcombobox to select the information.\r\n\r\nHere is the code for the jcombobox\r\n\r\n    private static String[] homeTeam = { &quot;Arsenal&quot;, &quot;Aston Villa&quot;, &quot;Cardiff&quot;, &quot;Chelsea&quot;};                                            \r\n    private static JComboBox box1 = new JComboBox(homeTeam);\r\n    private static String[] awayTeam = { &quot;Arsenal&quot;, &quot;Aston Villa&quot;, &quot;Cardiff&quot;, &quot;Chelsea&quot;};                                                             \r\n    private static JComboBox box2 = new JComboBox(awayTeam);\r\n    \r\nAnd this is the code for the preparedstatement\r\n\r\n    try \r\n        {\r\n            //Sets up the connedtion to the database and installs drivers which are required.\r\n\r\n            Class.forName(&quot;com.mysql.jdbc.Driver&quot;);                                                                        \r\n\r\n            con = DriverManager.getConnection(&quot;jdbc:mysql://localhost&quot;, &quot;username&quot;, &quot;password&quot;);        \r\n              \r\n            \r\n            String BoxSelectedItem1 = box1.getSelectedItem().toString();\r\n            String BoxSelectedItem2 = box2.getSelectedItem().toString();\r\n        \r\n            String SQL = &quot;SELECT * FROM PreviousSeasons WHERE HomeTeam=? and AwayTeam=?&quot;;\r\n            PreparedStatement prepst;            \r\n                      \r\n            prepst =  con.prepareStatement(SQL);\r\n            prepst.setString(1,BoxSelectedItem1);\r\n            prepst.setString(2,BoxSelectedItem2);\r\n            rs = prepst.executeQuery();\r\n            \r\n            while (rs.next()) \r\n            {\r\n\r\n                hometeam = rs.getString(&quot;HomeTeam&quot;);\r\n                awayteam = rs.getString(&quot;AwayTeam&quot;);                    \r\n                result = rs.getString(&quot;Result&quot;);                    \r\n                                          \r\n                                 \r\n                custs = (hometeam + &quot;,&quot; + awayteam + &quot;,&quot; + result);     \r\n                SeasonResults add = SeasonResults.add(hometeam, awayteam, result);\r\n            }\r\n            \r\n        }\r\n        \r\n        catch (Exception e) \r\n        {\r\n            System.out.println(&quot;Error &quot; +e);                                                                               \r\n        }\r\n        \r\n        \r\nAnd this is the code for the jbutton where I try to print out the result\r\n\r\n    public void actionPerformed(ActionEvent e)\r\n    {           \r\n            if(&quot;Predict&quot;.equals(e.getActionCommand())) {\r\n            \r\n            JOptionPane.showMessageDialog(null,result);\r\n                //System.out.println(result);\r\n        \r\n    }\r\n    }\r\n\r\n&quot;Predict&quot; is the name of the jbutton. I have another jbutton which resets the jcombobox and that works so I know there isn&#39;t any problems with actionlisteners for the jbuttons.\r\n\r\nWhen I press the button I don&#39;t get a response. Anyone know what the problem is?\r\n    \r\n\r\n    ","title":"Taking input from a JComboBox and putting it into a preparedstatement","body":"<p>What I want to do is to print out information from a mysql table by using a jcombobox to select the information.</p>\n\n<p>Here is the code for the jcombobox</p>\n\n<pre><code>private static String[] homeTeam = { \"Arsenal\", \"Aston Villa\", \"Cardiff\", \"Chelsea\"};                                            \nprivate static JComboBox box1 = new JComboBox(homeTeam);\nprivate static String[] awayTeam = { \"Arsenal\", \"Aston Villa\", \"Cardiff\", \"Chelsea\"};                                                             \nprivate static JComboBox box2 = new JComboBox(awayTeam);\n</code></pre>\n\n<p>And this is the code for the preparedstatement</p>\n\n<pre><code>try \n    {\n        //Sets up the connedtion to the database and installs drivers which are required.\n\n        Class.forName(\"com.mysql.jdbc.Driver\");                                                                        \n\n        con = DriverManager.getConnection(\"jdbc:mysql://localhost\", \"username\", \"password\");        \n\n\n        String BoxSelectedItem1 = box1.getSelectedItem().toString();\n        String BoxSelectedItem2 = box2.getSelectedItem().toString();\n\n        String SQL = \"SELECT * FROM PreviousSeasons WHERE HomeTeam=? and AwayTeam=?\";\n        PreparedStatement prepst;            \n\n        prepst =  con.prepareStatement(SQL);\n        prepst.setString(1,BoxSelectedItem1);\n        prepst.setString(2,BoxSelectedItem2);\n        rs = prepst.executeQuery();\n\n        while (rs.next()) \n        {\n\n            hometeam = rs.getString(\"HomeTeam\");\n            awayteam = rs.getString(\"AwayTeam\");                    \n            result = rs.getString(\"Result\");                    \n\n\n            custs = (hometeam + \",\" + awayteam + \",\" + result);     \n            SeasonResults add = SeasonResults.add(hometeam, awayteam, result);\n        }\n\n    }\n\n    catch (Exception e) \n    {\n        System.out.println(\"Error \" +e);                                                                               \n    }\n</code></pre>\n\n<p>And this is the code for the jbutton where I try to print out the result</p>\n\n<pre><code>public void actionPerformed(ActionEvent e)\n{           \n        if(\"Predict\".equals(e.getActionCommand())) {\n\n        JOptionPane.showMessageDialog(null,result);\n            //System.out.println(result);\n\n}\n}\n</code></pre>\n\n<p>\"Predict\" is the name of the jbutton. I have another jbutton which resets the jcombobox and that works so I know there isn't any problems with actionlisteners for the jbuttons.</p>\n\n<p>When I press the button I don't get a response. Anyone know what the problem is?</p>\n"},{"tags":["java","spring","rest","spring-boot"],"comments":[{"owner":{"account_id":2690358,"reputation":1621,"user_id":2323833,"display_name":"Maxim Tulupov"},"score":1,"creation_date":1494575466,"post_id":43932163,"comment_id":74896883,"body_markdown":"Try this @ResponseBody\npublic FileSystemResource download(Object fileObject) { String name = (String) ((LinkedHashMap) fileObject).get(&quot;path&quot;); \n    return new FileSystemResource(name); \n}","body":"Try this @ResponseBody public FileSystemResource download(Object fileObject) { String name = (String) ((LinkedHashMap) fileObject).get(&quot;path&quot;);      return new FileSystemResource(name);  }"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1494576435,"post_id":43932163,"comment_id":74897494,"body_markdown":"It isn&#39;t a spring controller it is a jersey endpoint... Those are different beasts.","body":"It isn&#39;t a spring controller it is a jersey endpoint... Those are different beasts."},{"owner":{"account_id":76906,"reputation":4579,"user_id":219865,"accept_rate":73,"display_name":"Ashish Pancholi"},"score":0,"creation_date":1494580979,"post_id":43932163,"comment_id":74900315,"body_markdown":"@MaximTulupov Thank you. I am trying your solution and will get back to you.","body":"@MaximTulupov Thank you. I am trying your solution and will get back to you."}],"answers":[{"comments":[{"owner":{"account_id":76906,"reputation":4579,"user_id":219865,"accept_rate":73,"display_name":"Ashish Pancholi"},"score":0,"creation_date":1494581084,"post_id":43933659,"comment_id":74900389,"body_markdown":"Thanks. Will give that try and let you know.","body":"Thanks. Will give that try and let you know."}],"tags":[],"owner":{"account_id":4032983,"reputation":2269,"user_id":4165604,"display_name":"P&#228;r Nilsson"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1494584824,"creation_date":1494579895,"answer_id":43933659,"question_id":43932163,"body_markdown":"Give this a try. Did I understand what you were trying to do?\r\n\r\n    @SpringBootApplication\r\n    @RestController\r\n    public class FiledownloadApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(FiledownloadApplication.class, args);\r\n    \t}\r\n    \r\n    \r\n    \t@PostMapping(&quot;/downloadFile&quot;)\r\n    \tpublic ResponseEntity&lt;FileSystemResource&gt; download(@RequestBody FileDownload fileDownload) throws IOException {\r\n    \t\tString path = fileDownload.getPath();\r\n    \t\tFileSystemResource fileSystemResource = new FileSystemResource(path);\r\n    \t\treturn new ResponseEntity&lt;&gt;(fileSystemResource, HttpStatus.OK);\r\n    \t}\r\n    \r\n    \tclass FileDownload {\r\n    \r\n    \t\tString path;\r\n    \r\n    \t\tpublic FileDownload() {\r\n    \t\t}\r\n    \r\n    \t\tpublic String getPath() {\r\n    \t\t\treturn path;\r\n    \t\t}\r\n    \r\n    \t\tpublic void setPath(String path) {\r\n    \t\t\tthis.path = path;\r\n    \t\t}\r\n    \t}\r\n    }","title":"How to get the HttpServletResponse response into Spring Boot’s REST controllers?","body":"<p>Give this a try. Did I understand what you were trying to do?</p>\n\n<pre><code>@SpringBootApplication\n@RestController\npublic class FiledownloadApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(FiledownloadApplication.class, args);\n    }\n\n\n    @PostMapping(\"/downloadFile\")\n    public ResponseEntity&lt;FileSystemResource&gt; download(@RequestBody FileDownload fileDownload) throws IOException {\n        String path = fileDownload.getPath();\n        FileSystemResource fileSystemResource = new FileSystemResource(path);\n        return new ResponseEntity&lt;&gt;(fileSystemResource, HttpStatus.OK);\n    }\n\n    class FileDownload {\n\n        String path;\n\n        public FileDownload() {\n        }\n\n        public String getPath() {\n            return path;\n        }\n\n        public void setPath(String path) {\n            this.path = path;\n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8791249,"reputation":71,"user_id":6570989,"display_name":"Ravi Soni"},"score":0,"creation_date":1592806459,"post_id":45858904,"comment_id":110544863,"body_markdown":"Hi , I have a question here , How do we  use this HttpServletResponse object in a class which is calling this controller?","body":"Hi , I have a question here , How do we  use this HttpServletResponse object in a class which is calling this controller?"}],"tags":[],"owner":{"account_id":10675102,"reputation":61,"user_id":7858888,"display_name":"SeRGiOJoKeR11"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1503569559,"creation_date":1503569559,"answer_id":45858904,"question_id":43932163,"body_markdown":"I believe that it should be like this.\r\n\r\n    public ResponseEntity&lt;FileSystemResource&gt; download(@RequestBody FileDownload fileDownload, HttpServletResponse response) throws IOException { ... }\r\n\r\nAnd Spring will set the response object for you. What you were trying to do is to inject the bean &quot;HttpServletResponse&quot; which does not make much sense as it is not a bean.","title":"How to get the HttpServletResponse response into Spring Boot’s REST controllers?","body":"<p>I believe that it should be like this.</p>\n\n<pre><code>public ResponseEntity&lt;FileSystemResource&gt; download(@RequestBody FileDownload fileDownload, HttpServletResponse response) throws IOException { ... }\n</code></pre>\n\n<p>And Spring will set the response object for you. What you were trying to do is to inject the bean \"HttpServletResponse\" which does not make much sense as it is not a bean.</p>\n"},{"tags":[],"owner":{"account_id":898283,"reputation":1283,"user_id":935079,"accept_rate":100,"display_name":"jambriz"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1613403798,"creation_date":1613403798,"answer_id":66211018,"question_id":43932163,"body_markdown":"According to this documentation [https://docs.spring.io/spring-framework/docs/3.0.0.RC2/reference/html/ch15s03.html#mvc-ann-requestmapping-arguments][1]\r\n\r\nyou can simply declare `HttpServletResponse` as an argument of your download method in arbitrary order, i.e.\r\n\r\n    public void download(Object fileObject, HttpServletResponse response)  {\r\n\r\nor for your specific needs you can directly reference `OutputStream` i.e.\r\n\r\n    public void download(Object fileObject, OutputStream out)  {\r\n\r\nWhen using either of these you should use `void` as return type of your method\r\n\r\nOr another alternative worth a look would be to use \r\n[StreamingResponseBody][2]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/3.0.0.RC2/reference/html/ch15s03.html#mvc-ann-requestmapping-arguments\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/mvc/method/annotation/StreamingResponseBody.html","title":"How to get the HttpServletResponse response into Spring Boot’s REST controllers?","body":"<p>According to this documentation <a href=\"https://docs.spring.io/spring-framework/docs/3.0.0.RC2/reference/html/ch15s03.html#mvc-ann-requestmapping-arguments\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/3.0.0.RC2/reference/html/ch15s03.html#mvc-ann-requestmapping-arguments</a></p>\n<p>you can simply declare <code>HttpServletResponse</code> as an argument of your download method in arbitrary order, i.e.</p>\n<pre><code>public void download(Object fileObject, HttpServletResponse response)  {\n</code></pre>\n<p>or for your specific needs you can directly reference <code>OutputStream</code> i.e.</p>\n<pre><code>public void download(Object fileObject, OutputStream out)  {\n</code></pre>\n<p>When using either of these you should use <code>void</code> as return type of your method</p>\n<p>Or another alternative worth a look would be to use\n<a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/mvc/method/annotation/StreamingResponseBody.html\" rel=\"nofollow noreferrer\">StreamingResponseBody</a></p>\n"}],"owner":{"account_id":76906,"reputation":4579,"user_id":219865,"accept_rate":73,"display_name":"Ashish Pancholi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12695,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1668450873,"creation_date":1494575092,"question_id":43932163,"body_markdown":"I am struggling to get `HttpServletResponse response` into Spring Boot’s REST controller. The purpose behind is that I would like to return a file stream from a REST controller. \r\n\r\nHere is the code.\r\n\r\n    @Component\r\n    @Api(value = &quot;/api/1/download&quot;, description = &quot;act upon selected file.&quot;)\r\n    @Path(&quot;/api/1/download&quot;)\r\n    @Consumes(MediaType.APPLICATION_JSON)\r\n    @RestController\r\n    public class DownloadResource {\r\n        private final Logger log = LoggerFactory.getLogger(DownloadResource.class);\r\n        \r\n        @Autowired\r\n        HttpServletResponse response;\r\n    \r\n        @ApiOperation(value = &quot;Download a selected file&quot;, notes = &quot;allows to download a selected file&quot;)\r\n        @Path(&quot;/downloadFile&quot;)\r\n        @POST\r\n        @Autowired\r\n        public void download(Object fileObject)  {\r\n            String name = (String) ((LinkedHashMap) fileObject).get(&quot;path&quot;);\r\n            response.setContentType(&quot;text/plain&quot;);\r\n            response.addHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=abcd.txt&quot;);\r\n            try\r\n            {\r\n                Files.copy(Paths.get(name), response.getOutputStream());\r\n                response.getOutputStream().flush();\r\n            } catch (IOException e) {\r\n                log.error(e.getMessage(), e);\r\n            }\r\n    \r\n        }\r\n    \r\n    }\r\n\r\nNeither File is download nor it throwing an error. Please help suggest. Thank you. ","title":"How to get the HttpServletResponse response into Spring Boot’s REST controllers?","body":"<p>I am struggling to get <code>HttpServletResponse response</code> into Spring Boot’s REST controller. The purpose behind is that I would like to return a file stream from a REST controller. </p>\n\n<p>Here is the code.</p>\n\n<pre><code>@Component\n@Api(value = \"/api/1/download\", description = \"act upon selected file.\")\n@Path(\"/api/1/download\")\n@Consumes(MediaType.APPLICATION_JSON)\n@RestController\npublic class DownloadResource {\n    private final Logger log = LoggerFactory.getLogger(DownloadResource.class);\n\n    @Autowired\n    HttpServletResponse response;\n\n    @ApiOperation(value = \"Download a selected file\", notes = \"allows to download a selected file\")\n    @Path(\"/downloadFile\")\n    @POST\n    @Autowired\n    public void download(Object fileObject)  {\n        String name = (String) ((LinkedHashMap) fileObject).get(\"path\");\n        response.setContentType(\"text/plain\");\n        response.addHeader(\"Content-Disposition\", \"attachment; filename=abcd.txt\");\n        try\n        {\n            Files.copy(Paths.get(name), response.getOutputStream());\n            response.getOutputStream().flush();\n        } catch (IOException e) {\n            log.error(e.getMessage(), e);\n        }\n\n    }\n\n}\n</code></pre>\n\n<p>Neither File is download nor it throwing an error. Please help suggest. Thank you. </p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"score":0,"creation_date":1668392789,"post_id":74425265,"comment_id":131386713,"body_markdown":"Does it have to be a regex?  Other ways are likely simpler.","body":"Does it have to be a regex?  Other ways are likely simpler."},{"owner":{"account_id":2703953,"reputation":43,"user_id":3326166,"display_name":"Gordon Pham-Nguyen"},"score":0,"creation_date":1668393813,"post_id":74425265,"comment_id":131386860,"body_markdown":"@accessviolation, I&#39;m curious to hear what the alternatives are!","body":"@accessviolation, I&#39;m curious to hear what the alternatives are!"}],"answers":[{"comments":[{"owner":{"account_id":2703953,"reputation":43,"user_id":3326166,"display_name":"Gordon Pham-Nguyen"},"score":1,"creation_date":1668393778,"post_id":74425310,"comment_id":131386854,"body_markdown":"I ended up going with your solution, thanks for informing of negative lookaheads!","body":"I ended up going with your solution, thanks for informing of negative lookaheads!"}],"tags":[],"owner":{"account_id":10275035,"reputation":100058,"user_id":7582247,"display_name":"Ted Lyngmo"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668378949,"creation_date":1668378949,"answer_id":74425310,"question_id":74425265,"body_markdown":"You could use a negative lookahead:\r\n```regex\r\n^(?!\\s*$)[^:*]+$\r\n```\r\n* `^` - start of string anchor\r\n* `(?!\\s*$)` negative lookahead rejecting whitespace-only strings\r\n* `[^:*]+` - one or more of any character except `:` and `*`\r\n* `$` - end of string anchor\r\n\r\n[Demo](https://regex101.com/r/QXvgLH/1)","title":"Regex: string can contain spaces, but not only spaces. It cannot contain `*` nor `:` characters either","body":"<p>You could use a negative lookahead:</p>\n<pre><code>^(?!\\s*$)[^:*]+$\n</code></pre>\n<ul>\n<li><code>^</code> - start of string anchor</li>\n<li><code>(?!\\s*$)</code> negative lookahead rejecting whitespace-only strings</li>\n<li><code>[^:*]+</code> - one or more of any character except <code>:</code> and <code>*</code></li>\n<li><code>$</code> - end of string anchor</li>\n</ul>\n<p><a href=\"https://regex101.com/r/QXvgLH/1\" rel=\"nofollow noreferrer\">Demo</a></p>\n"},{"comments":[{"owner":{"account_id":2703953,"reputation":43,"user_id":3326166,"display_name":"Gordon Pham-Nguyen"},"score":0,"creation_date":1668393735,"post_id":74425872,"comment_id":131386847,"body_markdown":"Thank you for showing me how to combine the two patterns I had!","body":"Thank you for showing me how to combine the two patterns I had!"}],"tags":[],"owner":{"account_id":1706574,"reputation":13314,"user_id":1565512,"display_name":"MikeM"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1668385847,"creation_date":1668385847,"answer_id":74425872,"question_id":74425265,"body_markdown":"An example of how you could combine your two patterns for use with the `matches` method: \r\n\r\n```java\r\n&quot;[^:*]*[^:*\\\\s][^:*]*&quot;\r\n```\r\n\r\n`[^\\s]` is equivalent to `\\S`.","title":"Regex: string can contain spaces, but not only spaces. It cannot contain `*` nor `:` characters either","body":"<p>An example of how you could combine your two patterns for use with the <code>matches</code> method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>&quot;[^:*]*[^:*\\\\s][^:*]*&quot;\n</code></pre>\n<p><code>[^\\s]</code> is equivalent to <code>\\S</code>.</p>\n"},{"comments":[{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":1,"creation_date":1668454679,"post_id":74429796,"comment_id":131404273,"body_markdown":"Nice! I think your second pattern meets the requirement precisely as he required the whitespace (just whitespace) to be rejected.","body":"Nice! I think your second pattern meets the requirement precisely as he required the whitespace (just whitespace) to be rejected."}],"tags":[],"owner":{"account_id":7089168,"reputation":157141,"user_id":5424988,"display_name":"The fourth bird"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668450751,"creation_date":1668419860,"answer_id":74429796,"question_id":74425265,"body_markdown":"You can use `matches` to match the whole string with the doubled backslash:\r\n\r\n    \\\\s*[^\\\\s:*][^:*]*\r\n\r\n**Explanation**\r\n\r\n- `\\s*` Match optional whitespace chars\r\n- `[^\\s:*]` Match a non whitespace char other than `:` and `*`\r\n- `[^:*]*` Match optional chars other than `:` and `*`\r\n\r\nSee a [regex demo](https://regex101.com/r/eXl1hl/1).\r\n\r\nAs `\\s` can also match a newline, if you don&#39;t want to cross matching newlines:\r\n\r\n    \\\\h*[^\\\\s:*][^\\\\r\\\\n:*]*\r\n\r\n**Explanation**\r\n\r\n- `\\h*` Match optional horizontal whitespace chars\r\n- `[^\\s:*]` Match a non whitespace char other than `:` and `*`\r\n- `[^\\\\r\\\\n:*]*` Match optional chars other than `:` and `*` or newlines\r\n\r\nSee another [regex demo](https://regex101.com/r/D6HmOm/1).","title":"Regex: string can contain spaces, but not only spaces. It cannot contain `*` nor `:` characters either","body":"<p>You can use <code>matches</code> to match the whole string with the doubled backslash:</p>\n<pre><code>\\\\s*[^\\\\s:*][^:*]*\n</code></pre>\n<p><strong>Explanation</strong></p>\n<ul>\n<li><code>\\s*</code> Match optional whitespace chars</li>\n<li><code>[^\\s:*]</code> Match a non whitespace char other than <code>:</code> and <code>*</code></li>\n<li><code>[^:*]*</code> Match optional chars other than <code>:</code> and <code>*</code></li>\n</ul>\n<p>See a <a href=\"https://regex101.com/r/eXl1hl/1\" rel=\"nofollow noreferrer\">regex demo</a>.</p>\n<p>As <code>\\s</code> can also match a newline, if you don't want to cross matching newlines:</p>\n<pre><code>\\\\h*[^\\\\s:*][^\\\\r\\\\n:*]*\n</code></pre>\n<p><strong>Explanation</strong></p>\n<ul>\n<li><code>\\h*</code> Match optional horizontal whitespace chars</li>\n<li><code>[^\\s:*]</code> Match a non whitespace char other than <code>:</code> and <code>*</code></li>\n<li><code>[^\\\\r\\\\n:*]*</code> Match optional chars other than <code>:</code> and <code>*</code> or newlines</li>\n</ul>\n<p>See another <a href=\"https://regex101.com/r/D6HmOm/1\" rel=\"nofollow noreferrer\">regex demo</a>.</p>\n"}],"owner":{"account_id":2703953,"reputation":43,"user_id":3326166,"display_name":"Gordon Pham-Nguyen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":74425872,"answer_count":3,"score":3,"last_activity_date":1668450751,"creation_date":1668378416,"question_id":74425265,"body_markdown":"I need help finding a regex that will allow most strings, except:\r\n\r\n* if the string only contains whitespaces\r\n* if the string contains `:` or `*`\r\n\r\nI want to reject the following strings:\r\n\r\n* `&quot;hello:world&quot;`\r\n* `&quot;hello*world&quot;`\r\n* `&quot; &quot;` (just a whitespace)\r\n\r\nBut the following strings will pass:\r\n\r\n* `&quot;hello world&quot;`\r\n* `&quot;hello&quot;`\r\n\r\nSo far, I can accomplish what I want... in two patterns.\r\n\r\n* `[^:*]*` rejects the 2 special characters\r\n* `.*\\S.*` rejects any string with only whitespaces\r\n\r\nI&#39;m not sure how to combine these two patterns into one...\r\n\r\nI&#39;ll be using the regex pattern along with Java.","title":"Regex: string can contain spaces, but not only spaces. It cannot contain `*` nor `:` characters either","body":"<p>I need help finding a regex that will allow most strings, except:</p>\n<ul>\n<li>if the string only contains whitespaces</li>\n<li>if the string contains <code>:</code> or <code>*</code></li>\n</ul>\n<p>I want to reject the following strings:</p>\n<ul>\n<li><code>&quot;hello:world&quot;</code></li>\n<li><code>&quot;hello*world&quot;</code></li>\n<li><code>&quot; &quot;</code> (just a whitespace)</li>\n</ul>\n<p>But the following strings will pass:</p>\n<ul>\n<li><code>&quot;hello world&quot;</code></li>\n<li><code>&quot;hello&quot;</code></li>\n</ul>\n<p>So far, I can accomplish what I want... in two patterns.</p>\n<ul>\n<li><code>[^:*]*</code> rejects the 2 special characters</li>\n<li><code>.*\\S.*</code> rejects any string with only whitespaces</li>\n</ul>\n<p>I'm not sure how to combine these two patterns into one...</p>\n<p>I'll be using the regex pattern along with Java.</p>\n"},{"tags":["java","keycloak","idp","identity-management"],"answers":[{"tags":[],"owner":{"account_id":26506001,"reputation":2574,"user_id":20142156,"display_name":"Dhaval Gajjar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668446438,"creation_date":1668446438,"answer_id":74435523,"question_id":74435136,"body_markdown":"Its not recommended to do without redirect. But you can still achieve with `Direct Grant Flow`.\r\n\r\nhttps://developers.redhat.com/blog/2020/01/29/api-login-and-jwt-token-generation-using-keycloak?sc_cid=7013a00000313tHAAQ#test_your_new_client\r\n\r\nhttps://stackoverflow.com/a/48255625","title":"Integrate Keycloak login for authentication when getting a REST request without login page","body":"<p>Its not recommended to do without redirect. But you can still achieve with <code>Direct Grant Flow</code>.</p>\n<p><a href=\"https://developers.redhat.com/blog/2020/01/29/api-login-and-jwt-token-generation-using-keycloak?sc_cid=7013a00000313tHAAQ#test_your_new_client\" rel=\"nofollow noreferrer\">https://developers.redhat.com/blog/2020/01/29/api-login-and-jwt-token-generation-using-keycloak?sc_cid=7013a00000313tHAAQ#test_your_new_client</a></p>\n<p><a href=\"https://stackoverflow.com/a/48255625\">https://stackoverflow.com/a/48255625</a></p>\n"},{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1668450713,"creation_date":1668450713,"answer_id":74436289,"question_id":74435136,"body_markdown":"I would go further than Dhaval and say that it is recommanded not go that way. \r\n\r\nUsers should not authenticate against your API but against authorization-server (Keycloak) directly. Neither clients (UI) nor resource-servers (REST APIs) should access users secrets.\r\n\r\nJust configure your client (UI) to redirect users to Keycloak to get access-token and send this token as Bearer Authorization header when issuing requests to resource-servers (REST APIs). Use an OAuth2 client library for that (eventually labeled with OpenID / OIDC).\r\n\r\nSee those tutorials for minimal Keycloak setup and Spring resource-servers security configuration: https://github.com/ch4mpy/spring-addons/blob/master/samples/tutorials","title":"Integrate Keycloak login for authentication when getting a REST request without login page","body":"<p>I would go further than Dhaval and say that it is recommanded not go that way.</p>\n<p>Users should not authenticate against your API but against authorization-server (Keycloak) directly. Neither clients (UI) nor resource-servers (REST APIs) should access users secrets.</p>\n<p>Just configure your client (UI) to redirect users to Keycloak to get access-token and send this token as Bearer Authorization header when issuing requests to resource-servers (REST APIs). Use an OAuth2 client library for that (eventually labeled with OpenID / OIDC).</p>\n<p>See those tutorials for minimal Keycloak setup and Spring resource-servers security configuration: <a href=\"https://github.com/ch4mpy/spring-addons/blob/master/samples/tutorials\" rel=\"nofollow noreferrer\">https://github.com/ch4mpy/spring-addons/blob/master/samples/tutorials</a></p>\n"}],"owner":{"account_id":7753338,"reputation":1218,"user_id":5985343,"display_name":"jmizv"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2413,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74436289,"answer_count":2,"score":0,"last_activity_date":1668450713,"creation_date":1668444686,"question_id":74435136,"body_markdown":"I have an Java web application which had an internal identity and access management. It was now suspended with the integration of Keycloak.\r\n\r\nNext to its web interface, my application has also a REST endpoint like `/api/authentication/login` (among others but this is the starting point) which could be called previously to get a token via: `curl -X POST http://localhost:8080/api/authentication/login -H &#39;Authorization: admin:admin&#39;`.\r\n\r\nWith the integration of Keycloak here, I cannot any longer login via that REST endpoint. I always get redirected to the login page of Keycloak which might makes sense in the way that it protects my app. But here I want to bypass the Keycloak login page and directly check the credentials and return a token if they match.\r\n\r\nWhat are my options to achieve this?\r\n\r\nBtw: the app does **not** use Spring Boot.\r\n\r\nI&#39;ve tried to add a new Keycloak OpenID Client which would cover the `/api` Home URL and I also set the option &quot;Client Authentication&quot; to `false` but with no effect, i.e. I still get redirected to the Keycloak login page.","title":"Integrate Keycloak login for authentication when getting a REST request without login page","body":"<p>I have an Java web application which had an internal identity and access management. It was now suspended with the integration of Keycloak.</p>\n<p>Next to its web interface, my application has also a REST endpoint like <code>/api/authentication/login</code> (among others but this is the starting point) which could be called previously to get a token via: <code>curl -X POST http://localhost:8080/api/authentication/login -H 'Authorization: admin:admin'</code>.</p>\n<p>With the integration of Keycloak here, I cannot any longer login via that REST endpoint. I always get redirected to the login page of Keycloak which might makes sense in the way that it protects my app. But here I want to bypass the Keycloak login page and directly check the credentials and return a token if they match.</p>\n<p>What are my options to achieve this?</p>\n<p>Btw: the app does <strong>not</strong> use Spring Boot.</p>\n<p>I've tried to add a new Keycloak OpenID Client which would cover the <code>/api</code> Home URL and I also set the option &quot;Client Authentication&quot; to <code>false</code> but with no effect, i.e. I still get redirected to the Keycloak login page.</p>\n"},{"tags":["java","android","android-fragments","android-navigation-graph"],"answers":[{"comments":[{"owner":{"account_id":25353346,"reputation":13,"user_id":19169874,"display_name":"Mordechay"},"score":0,"creation_date":1668021215,"post_id":74367637,"comment_id":131309124,"body_markdown":"It did work. But I still couldn&#39;t get a fragment object, how did you manage to get a feagment object?\n\nI wrote it, but fragment is still null.\n\n\n    if (navDestination.getId() == R.id.nav_explorer) {\n            fragment = getSupportFragmentManager().findFragmentById(R.id.nav_explorer);\n            }","body":"It did work. But I still couldn&#39;t get a fragment object, how did you manage to get a feagment object?  I wrote it, but fragment is still null.       if (navDestination.getId() == R.id.nav_explorer) {             fragment = getSupportFragmentManager().findFragmentById(R.id.nav_explor&zwnj;&#8203;er);             }"},{"owner":{"account_id":25353346,"reputation":13,"user_id":19169874,"display_name":"Mordechay"},"score":0,"creation_date":1668025935,"post_id":74367637,"comment_id":131310559,"body_markdown":"I need this to implement this:\nhttps://stackoverflow.com/a/46425415/19169874","body":"I need this to implement this: <a href=\"https://stackoverflow.com/a/46425415/19169874\">stackoverflow.com/a/46425415/19169874</a>"},{"owner":{"account_id":17894989,"reputation":306,"user_id":13000604,"display_name":"Sasa Arsenovic"},"score":1,"creation_date":1668094860,"post_id":74367637,"comment_id":131328150,"body_markdown":"Ok. You can find fragment instance with something like this:\n\n   \n fun findFragmentInstance() {\n        val fragmentHost = supportFragmentManager.findFragmentById(R.id.nav_host_fragment)\n        val fragmentInstance = fragmentHost?.childFragmentManager?.fragments?.last()\n        if (fragmentInstance is YourFragment) {\n            // Do whatever you want with fragment\n        }\n        }","body":"Ok. You can find fragment instance with something like this:       fun findFragmentInstance() {         val fragmentHost = supportFragmentManager.findFragmentById(R.id.nav_host_fragme&zwnj;&#8203;nt)         val fragmentInstance = fragmentHost?.childFragmentManager?.fragments?.last()         if (fragmentInstance is YourFragment) {             // Do whatever you want with fragment         }         }"},{"owner":{"account_id":25353346,"reputation":13,"user_id":19169874,"display_name":"Mordechay"},"score":0,"creation_date":1668373495,"post_id":74367637,"comment_id":131383846,"body_markdown":"How is it in Java?","body":"How is it in Java?"},{"owner":{"account_id":17894989,"reputation":306,"user_id":13000604,"display_name":"Sasa Arsenovic"},"score":1,"creation_date":1668441257,"post_id":74367637,"comment_id":131399700,"body_markdown":"void findFragmentInstance() {\n        Fragment fragmentHost = getSupportFragmentManager().findFragmentById(R.id.nav_host_fragment);\n        List&lt;Fragment&gt; fragmentList = fragmentHost.getChildFragmentManager().getFragments();\n        Fragment fr = fragmentList.get(fragmentList.size() - 1);\n        if (fr instanceof YourFragment) {\n            // Do whatever you want with fragment\n        }\n    }\n\n// Be careful, fragmentHost, childFragmentManager and fragmentsList might be null. You need to check it to avoid NullPointerException. Hope this helps.","body":"void findFragmentInstance() {         Fragment fragmentHost = getSupportFragmentManager().findFragmentById(R.id.nav_host_f&zwnj;&#8203;ragment);         List&lt;Fragment&gt; fragmentList = fragmentHost.getChildFragmentManager().getFragments();         Fragment fr = fragmentList.get(fragmentList.size() - 1);         if (fr instanceof YourFragment) {             // Do whatever you want with fragment         }     }  // Be careful, fragmentHost, childFragmentManager and fragmentsList might be null. You need to check it to avoid NullPointerException. Hope this helps."}],"tags":[],"owner":{"account_id":17894989,"reputation":306,"user_id":13000604,"display_name":"Sasa Arsenovic"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667944854,"creation_date":1667944854,"answer_id":74367637,"question_id":74367041,"body_markdown":"You&#39;ve already set your id&#39;s =&gt; android:id=&quot;@+id/nav_home&quot; and android:id=&quot;@+id/nav_explorer&quot;.\r\n\r\nAt first, you need to declare your navigation controller.\r\n\r\n    val navigationController = findNavController(R.id.nvgv_fragment)\r\n\r\nthen you can check destination fragment with listener \r\n\r\n    navigationController.addOnDestinationChangedListener { _, destination, _ -&gt;\r\n        if (destination.id == R.id.nav_explorer) {\r\n            // whatever you want to do\r\n        }\r\n    }\r\n\r\nBut, if you only need an instance of displayed fragment, you can find the answer here:\r\n[Current fragment instance][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/51732378/13000604","title":"How do one set an ID for a fragment displayed by a NavController and creating a Fragment object?","body":"<p>You've already set your id's =&gt; android:id=&quot;@+id/nav_home&quot; and android:id=&quot;@+id/nav_explorer&quot;.</p>\n<p>At first, you need to declare your navigation controller.</p>\n<pre><code>val navigationController = findNavController(R.id.nvgv_fragment)\n</code></pre>\n<p>then you can check destination fragment with listener</p>\n<pre><code>navigationController.addOnDestinationChangedListener { _, destination, _ -&gt;\n    if (destination.id == R.id.nav_explorer) {\n        // whatever you want to do\n    }\n}\n</code></pre>\n<p>But, if you only need an instance of displayed fragment, you can find the answer here:\n<a href=\"https://stackoverflow.com/a/51732378/13000604\">Current fragment instance</a></p>\n"}],"owner":{"account_id":25353346,"reputation":13,"user_id":19169874,"display_name":"Mordechay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":330,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74367637,"answer_count":1,"score":0,"last_activity_date":1668450444,"creation_date":1667940831,"question_id":74367041,"body_markdown":"I created a navigation bar and ,I didn&#39;t understand how to create an ID for each fragment in grph.\r\n\r\n\r\nnavigation graph:\r\n```\r\n&lt;navigation xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/nav_graph&quot;\r\n    app:startDestination=&quot;@id/nav_home&quot;&gt;\r\n    &lt;fragment\r\n        android:id=&quot;@+id/nav_home&quot;\r\n        android:name=&quot;com.mordechay.yemotapp.HomeFragment&quot;\r\n        android:label=&quot;fragment_home&quot;\r\n        tools:layout=&quot;@layout/fragment_home&quot; &gt;\r\n    &lt;/fragment&gt;\r\n    &lt;fragment\r\n        android:id=&quot;@id/nav_explorer&quot;\r\n        android:name=&quot;com.mordechay.yemotapp.filseExplorerFragment&quot;\r\n        android:label=&quot;fragment_filse_explorer&quot;\r\n        tools:layout=&quot;@layout/fragment_filse_explorer&quot; /&gt;\r\n&lt;/navigation&gt;\r\n```\r\n\r\nin the activity:\r\n\r\n```\r\n&lt;fragment\r\n    android:id=&quot;@+id/nvgv_fragment&quot;\r\n    android:name=&quot;androidx.navigation.fragment.NavHostFragment&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    app:layout_constraintTop_toBottomOf=&quot;parent&quot;\r\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n    app:defaultNavHost=&quot;true&quot;\r\n    app:navGraph=&quot;@navigation/nav_graph&quot;\r\n    /&gt;\r\n\r\n```\r\n\r\n\r\nAnd I wrote in the activity:\r\n\r\n```\r\nFragment fragment = getSupportFragmentManager().findFragmentById(R.id.nav_explorer);\r\n```\r\nIt comes out null, what do I need to write to get the fragment?\r\n\r\n\r\n\r\nI tried to get the fragment by writing the ID of the fragment found in the navigation graph.\r\nBut I get null.","title":"How do one set an ID for a fragment displayed by a NavController and creating a Fragment object?","body":"<p>I created a navigation bar and ,I didn't understand how to create an ID for each fragment in grph.</p>\n<p>navigation graph:</p>\n<pre><code>&lt;navigation xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/nav_graph&quot;\n    app:startDestination=&quot;@id/nav_home&quot;&gt;\n    &lt;fragment\n        android:id=&quot;@+id/nav_home&quot;\n        android:name=&quot;com.mordechay.yemotapp.HomeFragment&quot;\n        android:label=&quot;fragment_home&quot;\n        tools:layout=&quot;@layout/fragment_home&quot; &gt;\n    &lt;/fragment&gt;\n    &lt;fragment\n        android:id=&quot;@id/nav_explorer&quot;\n        android:name=&quot;com.mordechay.yemotapp.filseExplorerFragment&quot;\n        android:label=&quot;fragment_filse_explorer&quot;\n        tools:layout=&quot;@layout/fragment_filse_explorer&quot; /&gt;\n&lt;/navigation&gt;\n</code></pre>\n<p>in the activity:</p>\n<pre><code>&lt;fragment\n    android:id=&quot;@+id/nvgv_fragment&quot;\n    android:name=&quot;androidx.navigation.fragment.NavHostFragment&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    app:layout_constraintTop_toBottomOf=&quot;parent&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n    app:defaultNavHost=&quot;true&quot;\n    app:navGraph=&quot;@navigation/nav_graph&quot;\n    /&gt;\n\n</code></pre>\n<p>And I wrote in the activity:</p>\n<pre><code>Fragment fragment = getSupportFragmentManager().findFragmentById(R.id.nav_explorer);\n</code></pre>\n<p>It comes out null, what do I need to write to get the fragment?</p>\n<p>I tried to get the fragment by writing the ID of the fragment found in the navigation graph.\nBut I get null.</p>\n"},{"tags":["java","listview","javafx"],"comments":[{"owner":{"account_id":411710,"reputation":4423,"user_id":784345,"accept_rate":64,"display_name":"Dejwi"},"score":5,"creation_date":1475357003,"post_id":39810814,"comment_id":66914496,"body_markdown":"I do not want to hide the horizontal scrollbar. I want to eliminate possibility, that it will be needed.","body":"I do not want to hide the horizontal scrollbar. I want to eliminate possibility, that it will be needed."},{"owner":{"account_id":5371305,"reputation":59,"user_id":4279745,"accept_rate":8,"display_name":"Door D Uthpala"},"score":1,"creation_date":1606245717,"post_id":39810814,"comment_id":114904276,"body_markdown":"i simply use \n\n   row.prefWidthProperty().bind(listviwe.widthProperty().divide(1.1));\n   row.setMaxWidth(Control.USE_PREF_SIZE);","body":"i simply use      row.prefWidthProperty().bind(listviwe.widthProperty().divide&zwnj;&#8203;(1.1));    row.setMaxWidth(Control.USE_PREF_SIZE);"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1668432588,"post_id":39810814,"comment_id":131396367,"body_markdown":"_avoid horizontal scrolling in ListView_ why exactly? _The ListView instance holds list of HBox items_ that&#39;s wrong, never-ever keep Nodes as data in a virtualized control: while we often get away with it (except in ComboBox), problems are looming due to cell re-use.","body":"<i>avoid horizontal scrolling in ListView</i> why exactly? <i>The ListView instance holds list of HBox items</i> that&#39;s wrong, never-ever keep Nodes as data in a virtualized control: while we often get away with it (except in ComboBox), problems are looming due to cell re-use."}],"answers":[{"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1668253094,"post_id":74411089,"comment_id":131363454,"body_markdown":"some comments: a) don&#39;t keep a reference to a looked-up node: they are under the control of the skin and might change during the life-time - actually, better not do any lookup if you can get along without: here you would implement a custom skin - which in current versions has api to access the scrollbars -  to do the work b) don&#39;t create nodes in updateItem, doing so defeats the whole point of having re-usable cells at all","body":"some comments: a) don&#39;t keep a reference to a looked-up node: they are under the control of the skin and might change during the life-time - actually, better not do any lookup if you can get along without: here you would implement a custom skin - which in current versions has api to access the scrollbars -  to do the work b) don&#39;t create nodes in updateItem, doing so defeats the whole point of having re-usable cells at all"},{"owner":{"account_id":23941953,"reputation":369,"user_id":17934914,"display_name":"AtomicUs5000"},"score":0,"creation_date":1668362299,"post_id":74411089,"comment_id":131381381,"body_markdown":"Good points. I&#39;ve updated so that HBox creation is at the time of ListCell creation. I&#39;m going to leave out the custom skin implementation since this question was asked over 6 years ago. It would definitely be cleaner for an application, but I think this more clearly demonstrates what the problem is and sufficiently answers this ancient question.","body":"Good points. I&#39;ve updated so that HBox creation is at the time of ListCell creation. I&#39;m going to leave out the custom skin implementation since this question was asked over 6 years ago. It would definitely be cleaner for an application, but I think this more clearly demonstrates what the problem is and sufficiently answers this ancient question."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1668380902,"post_id":74411089,"comment_id":131385078,"body_markdown":"wrong direction - data != node","body":"wrong direction - data != node"},{"owner":{"account_id":23941953,"reputation":369,"user_id":17934914,"display_name":"AtomicUs5000"},"score":0,"creation_date":1668382311,"post_id":74411089,"comment_id":131385297,"body_markdown":"Please clarify. &quot;The ListView instance holds a list of HBox items&quot; in the question.","body":"Please clarify. &quot;The ListView instance holds a list of HBox items&quot; in the question."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1668432287,"post_id":74411089,"comment_id":131396259,"body_markdown":"it&#39;s wrong to hold nodes as items in the list - and wrong to replicate such an error in an answer. And no need to so for solving the no-horizontal-sb problem.","body":"it&#39;s wrong to hold nodes as items in the list - and wrong to replicate such an error in an answer. And no need to so for solving the no-horizontal-sb problem."},{"owner":{"account_id":23941953,"reputation":369,"user_id":17934914,"display_name":"AtomicUs5000"},"score":0,"creation_date":1668442770,"post_id":74411089,"comment_id":131400274,"body_markdown":"Heard and understood.","body":"Heard and understood."}],"tags":[],"owner":{"account_id":23941953,"reputation":369,"user_id":17934914,"display_name":"AtomicUs5000"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668450435,"creation_date":1668237767,"answer_id":74411089,"question_id":39810814,"body_markdown":"There is a lot at play here that make customizing ListView horizontal scrollbar behavior difficult to deal with. In addition to that, common misunderstandings on how ListView works can cause other problems.\r\n\r\nThe main issue to address is that the width of the ListCells will not automatically adapt when the vertical scrollbar becomes visible. Therefore, the moment it is, suddenly the contents are too wide to fit between the left edge of the ListView and the left edge of the vertical scrollbar, triggering a horizontal scrollbar. There is also the default padding of a ListCell as well as the border widths of the ListView itself to consider when determining the proper binding to set.\r\n\r\nThe following class that extends ListView:\r\n```\r\n    public class WidthBoundList extends ListView {\r\n        private final BooleanProperty vbarVisibleProperty = new SimpleBooleanProperty(false);\r\n        private final boolean bindPrefWidth;\r\n        private final double scrollbarThickness;\r\n        private final double sumBorderSides;\r\n        \r\n        public WidthBoundList(double scrollbarThickness, double sumBorderSides, boolean bindPrefWidth) {\r\n            this.scrollbarThickness = scrollbarThickness;\r\n            this.sumBorderSides = sumBorderSides;\r\n            this.bindPrefWidth = bindPrefWidth;\r\n            Platform.runLater(()-&gt;{\r\n                findScroller();\r\n            });\r\n        }\r\n        \r\n        private void findScroller() {\r\n            if (!this.getChildren().isEmpty()) {\r\n                VirtualFlow flow = (VirtualFlow)this.getChildren().get(0);\r\n                if (flow != null) {\r\n                    List&lt;Node&gt; flowChildren = flow.getChildrenUnmodifiable();\r\n                    int len = flowChildren .size();\r\n                    for (int i = 0; i &lt; len; i++) {\r\n                        Node n = flowChildren .get(i);\r\n                        if (n.getClass().equals(VirtualScrollBar.class)) {\r\n                            final ScrollBar bar = (ScrollBar) n;\r\n                            if (bar.getOrientation().equals(Orientation.VERTICAL)) {\r\n                                vbarVisibleProperty.bind(bar.visibleProperty());\r\n                                bar.setPrefWidth(scrollbarThickness);\r\n                                bar.setMinWidth(scrollbarThickness);\r\n                                bar.setMaxWidth(scrollbarThickness);\r\n                            } else if (bar.getOrientation().equals(Orientation.HORIZONTAL)) {\r\n                                bar.setPrefHeight(scrollbarThickness);\r\n                                bar.setMinHeight(scrollbarThickness);\r\n                                bar.setMaxHeight(scrollbarThickness);\r\n                            }\r\n                        }\r\n                    }\r\n                } else {\r\n                    Platform.runLater(()-&gt;{\r\n                        findScroller();\r\n                    });\r\n                }\r\n            } else {\r\n                Platform.runLater(()-&gt;{\r\n                    findScroller();\r\n                });\r\n            }\r\n        }\r\n        \r\n        public void bindWidthScrollCondition(Region node) {\r\n            node.maxWidthProperty().unbind();\r\n            node.prefWidthProperty().unbind();\r\n            node.maxWidthProperty().bind(\r\n                Bindings.when(vbarVisibleProperty)\r\n                        .then(this.widthProperty().subtract(scrollbarThickness).subtract(sumBorderSides))\r\n                        .otherwise(this.widthProperty().subtract(sumBorderSides))\r\n            );\r\n            if (bindPrefWidth) { \r\n                node.prefWidthProperty().bind(node.maxWidthProperty());\r\n            }\r\n        }\r\n    }\r\n```\r\n \r\nRegarding your code, your bindings could cause problems. A ListCell&#39;s `updateItem()` method is not only called when the ListCell is created. A ListView can contain a pretty large list of data, so to improve the performance only the ListCells scrolled into view (and possibly a few before and after) need their graphic rendered. The `updateItem()` method handles this. In your code, a Region is being created over and over again and each and every one of them is being bound to the width of your ListView. Instead, the ListCell itself should be bound.\r\n\r\nThe following class extends ListCell and the method to bind the HBox is called in the constructor:\r\n\r\n```\r\n    public class BoundListCell extends ListCell&lt;String&gt; {\r\n        private final HBox  hbox;\r\n        private final Label label;\r\n        \r\n        public BoundListCell(WidthBoundList widthBoundList) {\r\n            this.setPadding(Insets.EMPTY);\r\n            hbox = new HBox();\r\n            label = new Label();\r\n            hbox.setPadding(new Insets(2, 4, 2, 4));\r\n            hbox.getChildren().add(label);\r\n            widthBoundList.bindWidthScrollCondition(this);\r\n        }\r\n        \r\n        @Override\r\n        public void updateItem(String data, boolean empty) {\r\n            super.updateItem(data, empty);\r\n            if (empty || data == null) {\r\n                label.setText(&quot;&quot;);\r\n                setGraphic(null);\r\n                setText(null);\r\n            } else {\r\n                label.setText(data);\r\n                setGraphic(hbox);\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\nThe `scrollbarThickness` parameter of WidthBoundList constructor has been set to 12. The `sumBorderSides` parameter has been set to 2 because my WidthBoundList has a one pixel border on the right and left. The `bindPrefWidth` parameter has been set to true to prevent the horizontal scroller from showing at all (labels have ellipses, any non-text nodes that you might add to the hbox will simply be clipped). Set `bindPrefWidth` to false to allow a horizontal scrollbar, and with these proper bindings it should only show when needed. An implementation:\r\n\r\n```\r\n    private final WidthBoundList myListView = new WidthBoundList(12, 2, true);\r\n    \r\n    public static void main(final String... a) {\r\n        Application.launch(a);\r\n    }\r\n    \r\n    @Override\r\n    public void start(final Stage primaryStage) throws Exception {\r\n        myListView.setCellFactory(c -&gt; new BoundListCell(myListView));\r\n        \r\n        VBox vBox = new VBox();\r\n        vBox.setFillWidth(true);\r\n        vBox.setAlignment(Pos.CENTER);\r\n        vBox.setSpacing(5);\r\n\r\n        Button button = new Button(&quot;APPEND&quot;);\r\n        button.setOnAction((e)-&gt;{\r\n            myListView.getItems().add(&quot;THIS IS LIST ITEM NUMBER &quot; + myListView.getItems().size());\r\n        });\r\n        \r\n        vBox.getChildren().addAll(myListView, button);\r\n        \r\n        myListView.maxWidthProperty().bind(vBox.widthProperty().subtract(20));\r\n        myListView.prefHeightProperty().bind(vBox.heightProperty().subtract(20));\r\n        \r\n        primaryStage.setScene(new Scene(vBox, 200, 400));\r\n        primaryStage.show();\r\n    }\r\n```\r\n\r\n\r\n","title":"Javafx listview disable horizontal scrolling","body":"<p>There is a lot at play here that make customizing ListView horizontal scrollbar behavior difficult to deal with. In addition to that, common misunderstandings on how ListView works can cause other problems.</p>\n<p>The main issue to address is that the width of the ListCells will not automatically adapt when the vertical scrollbar becomes visible. Therefore, the moment it is, suddenly the contents are too wide to fit between the left edge of the ListView and the left edge of the vertical scrollbar, triggering a horizontal scrollbar. There is also the default padding of a ListCell as well as the border widths of the ListView itself to consider when determining the proper binding to set.</p>\n<p>The following class that extends ListView:</p>\n<pre><code>    public class WidthBoundList extends ListView {\n        private final BooleanProperty vbarVisibleProperty = new SimpleBooleanProperty(false);\n        private final boolean bindPrefWidth;\n        private final double scrollbarThickness;\n        private final double sumBorderSides;\n        \n        public WidthBoundList(double scrollbarThickness, double sumBorderSides, boolean bindPrefWidth) {\n            this.scrollbarThickness = scrollbarThickness;\n            this.sumBorderSides = sumBorderSides;\n            this.bindPrefWidth = bindPrefWidth;\n            Platform.runLater(()-&gt;{\n                findScroller();\n            });\n        }\n        \n        private void findScroller() {\n            if (!this.getChildren().isEmpty()) {\n                VirtualFlow flow = (VirtualFlow)this.getChildren().get(0);\n                if (flow != null) {\n                    List&lt;Node&gt; flowChildren = flow.getChildrenUnmodifiable();\n                    int len = flowChildren .size();\n                    for (int i = 0; i &lt; len; i++) {\n                        Node n = flowChildren .get(i);\n                        if (n.getClass().equals(VirtualScrollBar.class)) {\n                            final ScrollBar bar = (ScrollBar) n;\n                            if (bar.getOrientation().equals(Orientation.VERTICAL)) {\n                                vbarVisibleProperty.bind(bar.visibleProperty());\n                                bar.setPrefWidth(scrollbarThickness);\n                                bar.setMinWidth(scrollbarThickness);\n                                bar.setMaxWidth(scrollbarThickness);\n                            } else if (bar.getOrientation().equals(Orientation.HORIZONTAL)) {\n                                bar.setPrefHeight(scrollbarThickness);\n                                bar.setMinHeight(scrollbarThickness);\n                                bar.setMaxHeight(scrollbarThickness);\n                            }\n                        }\n                    }\n                } else {\n                    Platform.runLater(()-&gt;{\n                        findScroller();\n                    });\n                }\n            } else {\n                Platform.runLater(()-&gt;{\n                    findScroller();\n                });\n            }\n        }\n        \n        public void bindWidthScrollCondition(Region node) {\n            node.maxWidthProperty().unbind();\n            node.prefWidthProperty().unbind();\n            node.maxWidthProperty().bind(\n                Bindings.when(vbarVisibleProperty)\n                        .then(this.widthProperty().subtract(scrollbarThickness).subtract(sumBorderSides))\n                        .otherwise(this.widthProperty().subtract(sumBorderSides))\n            );\n            if (bindPrefWidth) { \n                node.prefWidthProperty().bind(node.maxWidthProperty());\n            }\n        }\n    }\n</code></pre>\n<p>Regarding your code, your bindings could cause problems. A ListCell's <code>updateItem()</code> method is not only called when the ListCell is created. A ListView can contain a pretty large list of data, so to improve the performance only the ListCells scrolled into view (and possibly a few before and after) need their graphic rendered. The <code>updateItem()</code> method handles this. In your code, a Region is being created over and over again and each and every one of them is being bound to the width of your ListView. Instead, the ListCell itself should be bound.</p>\n<p>The following class extends ListCell and the method to bind the HBox is called in the constructor:</p>\n<pre><code>    public class BoundListCell extends ListCell&lt;String&gt; {\n        private final HBox  hbox;\n        private final Label label;\n        \n        public BoundListCell(WidthBoundList widthBoundList) {\n            this.setPadding(Insets.EMPTY);\n            hbox = new HBox();\n            label = new Label();\n            hbox.setPadding(new Insets(2, 4, 2, 4));\n            hbox.getChildren().add(label);\n            widthBoundList.bindWidthScrollCondition(this);\n        }\n        \n        @Override\n        public void updateItem(String data, boolean empty) {\n            super.updateItem(data, empty);\n            if (empty || data == null) {\n                label.setText(&quot;&quot;);\n                setGraphic(null);\n                setText(null);\n            } else {\n                label.setText(data);\n                setGraphic(hbox);\n            }\n        }\n    }\n</code></pre>\n<p>The <code>scrollbarThickness</code> parameter of WidthBoundList constructor has been set to 12. The <code>sumBorderSides</code> parameter has been set to 2 because my WidthBoundList has a one pixel border on the right and left. The <code>bindPrefWidth</code> parameter has been set to true to prevent the horizontal scroller from showing at all (labels have ellipses, any non-text nodes that you might add to the hbox will simply be clipped). Set <code>bindPrefWidth</code> to false to allow a horizontal scrollbar, and with these proper bindings it should only show when needed. An implementation:</p>\n<pre><code>    private final WidthBoundList myListView = new WidthBoundList(12, 2, true);\n    \n    public static void main(final String... a) {\n        Application.launch(a);\n    }\n    \n    @Override\n    public void start(final Stage primaryStage) throws Exception {\n        myListView.setCellFactory(c -&gt; new BoundListCell(myListView));\n        \n        VBox vBox = new VBox();\n        vBox.setFillWidth(true);\n        vBox.setAlignment(Pos.CENTER);\n        vBox.setSpacing(5);\n\n        Button button = new Button(&quot;APPEND&quot;);\n        button.setOnAction((e)-&gt;{\n            myListView.getItems().add(&quot;THIS IS LIST ITEM NUMBER &quot; + myListView.getItems().size());\n        });\n        \n        vBox.getChildren().addAll(myListView, button);\n        \n        myListView.maxWidthProperty().bind(vBox.widthProperty().subtract(20));\n        myListView.prefHeightProperty().bind(vBox.heightProperty().subtract(20));\n        \n        primaryStage.setScene(new Scene(vBox, 200, 400));\n        primaryStage.show();\n    }\n</code></pre>\n"}],"owner":{"account_id":411710,"reputation":4423,"user_id":784345,"accept_rate":64,"display_name":"Dejwi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2946,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"answer_count":1,"score":6,"last_activity_date":1668450435,"creation_date":1475351239,"question_id":39810814,"body_markdown":"I&#39;m trying to avoid horizontal scrolling in ListView. The ListView instance holds list of HBox items, each item has a different width.\r\n\r\nSo far I&#39;m using such a cell factory:\r\n\r\n    public class ListViewCell extends ListCell&lt;Data&gt;\r\n    {\r\n        @Override\r\n        public void updateItem(Data data, boolean empty)\r\n        {\r\n            super.updateItem(data, empty);\r\n            if(empty || data == null){\r\n                setGraphic(null);\r\n                setText(null);\r\n            }\r\n            if(data != null)\r\n            {\r\n                Region region = createRow(data);\r\n                region.prefWidthProperty().bind(mListView.widthProperty().subtract(20));\r\n                region.maxWidthProperty().bind(mListView.widthProperty().subtract(20));\r\n                setGraphic(region);\r\n            }\r\n        }\r\n    }\r\n\r\nUnfortunately it is not enough. Usually after adding several items ListView&#39;s horizontal scrollbar appears. Even if it seems to be unnecessary.\r\n\r\nHow can I assure, that ListViewCell will not exceed it&#39;s parent width and horizontal scrollbar will not appear?","title":"Javafx listview disable horizontal scrolling","body":"<p>I'm trying to avoid horizontal scrolling in ListView. The ListView instance holds list of HBox items, each item has a different width.</p>\n\n<p>So far I'm using such a cell factory:</p>\n\n<pre><code>public class ListViewCell extends ListCell&lt;Data&gt;\n{\n    @Override\n    public void updateItem(Data data, boolean empty)\n    {\n        super.updateItem(data, empty);\n        if(empty || data == null){\n            setGraphic(null);\n            setText(null);\n        }\n        if(data != null)\n        {\n            Region region = createRow(data);\n            region.prefWidthProperty().bind(mListView.widthProperty().subtract(20));\n            region.maxWidthProperty().bind(mListView.widthProperty().subtract(20));\n            setGraphic(region);\n        }\n    }\n}\n</code></pre>\n\n<p>Unfortunately it is not enough. Usually after adding several items ListView's horizontal scrollbar appears. Even if it seems to be unnecessary.</p>\n\n<p>How can I assure, that ListViewCell will not exceed it's parent width and horizontal scrollbar will not appear?</p>\n"},{"tags":["java","xml","spring","spring-boot"],"comments":[{"owner":{"account_id":3023214,"reputation":20361,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":0,"creation_date":1668343201,"post_id":74420925,"comment_id":131377194,"body_markdown":"&quot;getters, setters and constructor&quot; =&gt; Actually, you left out the interesting (and important) part. ;-)","body":"&quot;getters, setters and constructor&quot; =&gt; Actually, you left out the interesting (and important) part. ;-)"},{"owner":{"account_id":10028568,"reputation":23,"user_id":7415987,"display_name":"Skully1"},"score":0,"creation_date":1668343426,"post_id":74420925,"comment_id":131377251,"body_markdown":"As your wish but hardly will something to change","body":"As your wish but hardly will something to change"}],"answers":[{"comments":[{"owner":{"account_id":10028568,"reputation":23,"user_id":7415987,"display_name":"Skully1"},"score":0,"creation_date":1668620532,"post_id":74436185,"comment_id":131451901,"body_markdown":"Thanks it work great and no crashes when deserializing","body":"Thanks it work great and no crashes when deserializing"}],"tags":[],"owner":{"account_id":6713019,"reputation":106,"user_id":5175771,"display_name":"Pieter Vandeperre - ACA Group"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668450104,"creation_date":1668450104,"answer_id":74436185,"question_id":74420925,"body_markdown":"You&#39;re just missing an `@JacksonXmlElementWrapper(useWrapping = false)` to on both the `ArrayList&lt;FxRate&gt;` and `List&lt;CcyAmt&gt;` or wrap it in an additional XML element.\r\n\r\nThe other annotations are also not required for it to work as expected.","title":"Cannot construct instance. Deserializing Xml in Java (Spring Boot)","body":"<p>You're just missing an <code>@JacksonXmlElementWrapper(useWrapping = false)</code> to on both the <code>ArrayList&lt;FxRate&gt;</code> and <code>List&lt;CcyAmt&gt;</code> or wrap it in an additional XML element.</p>\n<p>The other annotations are also not required for it to work as expected.</p>\n"}],"owner":{"account_id":10028568,"reputation":23,"user_id":7415987,"display_name":"Skully1"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":288,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668450104,"creation_date":1668342508,"question_id":74420925,"body_markdown":"Hello I have issue while deserializing Xml output into desriable object. I get \r\ncom.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot construct instance of `com.example.demo.models.responses.FxRate` (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value (&#39;EU&#39;).\r\nI tried to use JacksonXml or JsonPropery annotations but no avail.\r\n\r\nController\r\n```\r\npackage com.example.demo.controllers;\r\n\r\nimport com.example.demo.models.responses.FxRates;\r\nimport com.fasterxml.jackson.dataformat.xml.XmlMapper;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport java.io.IOException;\r\nimport java.net.URI;\r\nimport java.net.http.HttpClient;\r\nimport java.net.http.HttpRequest;\r\nimport java.net.http.HttpResponse;\r\n\r\n@RestController\r\npublic class TestController {\r\n    @GetMapping(&quot;/currency&quot;)\r\n    public FxRates GetCurrency() throws IOException, InterruptedException {\r\n        HttpRequest request =  HttpRequest.newBuilder()\r\n                .uri(URI.create(&quot;http://www.lb.lt/webservices/FxRates/FxRates.asmx/getFxRates?tp=eu&amp;dt=2017-12-25&quot;))\r\n                .header(&quot;Content-Type&quot;, &quot;text/xml&quot;)\r\n                .GET()\r\n                .build();\r\n\r\n        HttpResponse&lt;String&gt; response = HttpClient.newHttpClient()\r\n                .send(request, HttpResponse.BodyHandlers.ofString());\r\n\r\n\r\n        var test = response.body();\r\n\r\n        XmlMapper xmlMapper = new XmlMapper();\r\n        FxRates value = xmlMapper.readValue(response.body(), FxRates.class);\r\n\r\n        return value;\r\n    }\r\n}\r\n```\r\nDeserialized classes \r\n```\r\npackage com.example.demo.models.responses;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\nimport com.fasterxml.jackson.annotation.JsonPropertyOrder;\r\nimport com.fasterxml.jackson.dataformat.xml.annotation.JacksonXmlProperty;\r\n\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\n@JsonPropertyOrder({&quot;FxRate&quot;, &quot;xlmns&quot;})\r\npublic class FxRates {\r\n    //@JacksonXmlProperty(localName = &quot;FxRate&quot;)\r\n    @JsonProperty(&quot;FxRate&quot;)\r\n    public ArrayList&lt;com.example.demo.models.responses.FxRate&gt; FxRate;\r\n    @JsonProperty(&quot;xlmns&quot;)\r\n    public String xmlns;\r\n    \r\n        public FxRates()\r\n    {\r\n\r\n    }\r\n    public FxRates(ArrayList&lt;com.example.demo.models.responses.FxRate&gt; fxRate, String xmlns)  {\r\n        FxRate = fxRate;\r\n        this.xmlns = xmlns;\r\n        //this.text = text;\r\n    }\r\n\r\n    public ArrayList&lt;com.example.demo.models.responses.FxRate&gt; getFxRate() {\r\n        return FxRate;\r\n    }\r\n\r\n    public void setFxRate(ArrayList&lt;com.example.demo.models.responses.FxRate&gt; fxRate) {\r\n        FxRate = fxRate;\r\n    }\r\n\r\n    public String getXmlns() {\r\n        return xmlns;\r\n    }\r\n\r\n    public void setXmlns(String xmlns) {\r\n        this.xmlns = xmlns;\r\n    }\r\n}\r\n\r\npackage com.example.demo.models.responses;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\nimport java.util.List;\r\n\r\npublic class FxRate {\r\n    @JsonProperty(&quot;Tp&quot;)\r\n    public String Tp;\r\n    public String Dt;\r\n    public List&lt;CcyAmt&gt; CcyAmt;\r\n\r\n      public String getTp() {\r\n        return Tp;\r\n    }\r\n\r\n    public void setTp(String tp) {\r\n        Tp = tp;\r\n    }\r\n\r\n    public String getDt() {\r\n        return Dt;\r\n    }\r\n\r\n    public void setDt(String dt) {\r\n        Dt = dt;\r\n    }\r\n\r\n    public List&lt;com.example.demo.models.responses.CcyAmt&gt; getCcyAmt() {\r\n        return CcyAmt;\r\n    }\r\n\r\n    public void setCcyAmt(List&lt;com.example.demo.models.responses.CcyAmt&gt; ccyAmt) {\r\n        CcyAmt = ccyAmt;\r\n    }\r\n\r\n    public FxRate()\r\n    {\r\n\r\n    }\r\n    public FxRate(String tp, String dt, List&lt;com.example.demo.models.responses.CcyAmt&gt; ccyAmt) {\r\n        Tp = tp;\r\n        Dt = dt;\r\n        CcyAmt = ccyAmt;\r\n    }\r\n}\r\n\r\npackage com.example.demo.models.responses;\r\n\r\npublic class CcyAmt {\r\n    public String Ccy;\r\n    public String Amt;\r\n\r\n     public String getCcy() {\r\n        return Ccy;\r\n    }\r\n\r\n    public void setCcy(String ccy) {\r\n        Ccy = ccy;\r\n    }\r\n\r\n    public String getAmt() {\r\n        return Amt;\r\n    }\r\n\r\n    public void setAmt(String amt) {\r\n        Amt = amt;\r\n    }\r\n\r\n    public CcyAmt()\r\n    {\r\n\r\n    }\r\n    public CcyAmt(String ccy, String amt) {\r\n        Ccy = ccy;\r\n        Amt = amt;\r\n    }\r\n```\r\nExample Response\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;FxRates xmlns=&quot;http://www.lb.lt/WebServices/FxRates&quot;&gt;\r\n  &lt;FxRate&gt;\r\n    &lt;Tp&gt;EU&lt;/Tp&gt;\r\n    &lt;Dt&gt;2017-12-22&lt;/Dt&gt;\r\n    &lt;CcyAmt&gt;\r\n      &lt;Ccy&gt;EUR&lt;/Ccy&gt;\r\n      &lt;Amt&gt;1&lt;/Amt&gt;\r\n    &lt;/CcyAmt&gt;\r\n    &lt;CcyAmt&gt;\r\n      &lt;Ccy&gt;AUD&lt;/Ccy&gt;\r\n      &lt;Amt&gt;1.5358&lt;/Amt&gt;\r\n    &lt;/CcyAmt&gt;\r\n  &lt;/FxRate&gt;\r\n&lt;/FxRates&gt;\r\n```","title":"Cannot construct instance. Deserializing Xml in Java (Spring Boot)","body":"<p>Hello I have issue while deserializing Xml output into desriable object. I get\ncom.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot construct instance of <code>com.example.demo.models.responses.FxRate</code> (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value ('EU').\nI tried to use JacksonXml or JsonPropery annotations but no avail.</p>\n<p>Controller</p>\n<pre><code>package com.example.demo.controllers;\n\nimport com.example.demo.models.responses.FxRates;\nimport com.fasterxml.jackson.dataformat.xml.XmlMapper;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport java.io.IOException;\nimport java.net.URI;\nimport java.net.http.HttpClient;\nimport java.net.http.HttpRequest;\nimport java.net.http.HttpResponse;\n\n@RestController\npublic class TestController {\n    @GetMapping(&quot;/currency&quot;)\n    public FxRates GetCurrency() throws IOException, InterruptedException {\n        HttpRequest request =  HttpRequest.newBuilder()\n                .uri(URI.create(&quot;http://www.lb.lt/webservices/FxRates/FxRates.asmx/getFxRates?tp=eu&amp;dt=2017-12-25&quot;))\n                .header(&quot;Content-Type&quot;, &quot;text/xml&quot;)\n                .GET()\n                .build();\n\n        HttpResponse&lt;String&gt; response = HttpClient.newHttpClient()\n                .send(request, HttpResponse.BodyHandlers.ofString());\n\n\n        var test = response.body();\n\n        XmlMapper xmlMapper = new XmlMapper();\n        FxRates value = xmlMapper.readValue(response.body(), FxRates.class);\n\n        return value;\n    }\n}\n</code></pre>\n<p>Deserialized classes</p>\n<pre><code>package com.example.demo.models.responses;\n\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport com.fasterxml.jackson.annotation.JsonPropertyOrder;\nimport com.fasterxml.jackson.dataformat.xml.annotation.JacksonXmlProperty;\n\n\nimport java.util.ArrayList;\nimport java.util.List;\n\n@JsonPropertyOrder({&quot;FxRate&quot;, &quot;xlmns&quot;})\npublic class FxRates {\n    //@JacksonXmlProperty(localName = &quot;FxRate&quot;)\n    @JsonProperty(&quot;FxRate&quot;)\n    public ArrayList&lt;com.example.demo.models.responses.FxRate&gt; FxRate;\n    @JsonProperty(&quot;xlmns&quot;)\n    public String xmlns;\n    \n        public FxRates()\n    {\n\n    }\n    public FxRates(ArrayList&lt;com.example.demo.models.responses.FxRate&gt; fxRate, String xmlns)  {\n        FxRate = fxRate;\n        this.xmlns = xmlns;\n        //this.text = text;\n    }\n\n    public ArrayList&lt;com.example.demo.models.responses.FxRate&gt; getFxRate() {\n        return FxRate;\n    }\n\n    public void setFxRate(ArrayList&lt;com.example.demo.models.responses.FxRate&gt; fxRate) {\n        FxRate = fxRate;\n    }\n\n    public String getXmlns() {\n        return xmlns;\n    }\n\n    public void setXmlns(String xmlns) {\n        this.xmlns = xmlns;\n    }\n}\n\npackage com.example.demo.models.responses;\n\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport java.util.List;\n\npublic class FxRate {\n    @JsonProperty(&quot;Tp&quot;)\n    public String Tp;\n    public String Dt;\n    public List&lt;CcyAmt&gt; CcyAmt;\n\n      public String getTp() {\n        return Tp;\n    }\n\n    public void setTp(String tp) {\n        Tp = tp;\n    }\n\n    public String getDt() {\n        return Dt;\n    }\n\n    public void setDt(String dt) {\n        Dt = dt;\n    }\n\n    public List&lt;com.example.demo.models.responses.CcyAmt&gt; getCcyAmt() {\n        return CcyAmt;\n    }\n\n    public void setCcyAmt(List&lt;com.example.demo.models.responses.CcyAmt&gt; ccyAmt) {\n        CcyAmt = ccyAmt;\n    }\n\n    public FxRate()\n    {\n\n    }\n    public FxRate(String tp, String dt, List&lt;com.example.demo.models.responses.CcyAmt&gt; ccyAmt) {\n        Tp = tp;\n        Dt = dt;\n        CcyAmt = ccyAmt;\n    }\n}\n\npackage com.example.demo.models.responses;\n\npublic class CcyAmt {\n    public String Ccy;\n    public String Amt;\n\n     public String getCcy() {\n        return Ccy;\n    }\n\n    public void setCcy(String ccy) {\n        Ccy = ccy;\n    }\n\n    public String getAmt() {\n        return Amt;\n    }\n\n    public void setAmt(String amt) {\n        Amt = amt;\n    }\n\n    public CcyAmt()\n    {\n\n    }\n    public CcyAmt(String ccy, String amt) {\n        Ccy = ccy;\n        Amt = amt;\n    }\n</code></pre>\n<p>Example Response</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;FxRates xmlns=&quot;http://www.lb.lt/WebServices/FxRates&quot;&gt;\n  &lt;FxRate&gt;\n    &lt;Tp&gt;EU&lt;/Tp&gt;\n    &lt;Dt&gt;2017-12-22&lt;/Dt&gt;\n    &lt;CcyAmt&gt;\n      &lt;Ccy&gt;EUR&lt;/Ccy&gt;\n      &lt;Amt&gt;1&lt;/Amt&gt;\n    &lt;/CcyAmt&gt;\n    &lt;CcyAmt&gt;\n      &lt;Ccy&gt;AUD&lt;/Ccy&gt;\n      &lt;Amt&gt;1.5358&lt;/Amt&gt;\n    &lt;/CcyAmt&gt;\n  &lt;/FxRate&gt;\n&lt;/FxRates&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","junit","jwt","spring-cloud"],"comments":[{"owner":{"account_id":7712763,"reputation":628,"user_id":5841551,"accept_rate":50,"display_name":"kladderradatsch"},"score":0,"creation_date":1668380953,"post_id":74425320,"comment_id":131385087,"body_markdown":"Then instead of `.with(jwt().authorities(new SimpleGrantedAuthority(&quot;ADMIN&quot;)))` use `.header(&quot;Authorization&quot;, &quot;Bearer &quot;)`","body":"Then instead of <code>.with(jwt().authorities(new SimpleGrantedAuthority(&quot;ADMIN&quot;)))</code> use <code>.header(&quot;Authorization&quot;, &quot;Bearer &quot;)</code>"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1668381623,"post_id":74425320,"comment_id":131385195,"body_markdown":"@kladderradatsch There are different kinds of roles like ROLE_ADMIN and ROLE_USER for authority in the controller. Can you look through only order service?","body":"@kladderradatsch There are different kinds of roles like ROLE_ADMIN and ROLE_USER for authority in the controller. Can you look through only order service?"},{"owner":{"account_id":7712763,"reputation":628,"user_id":5841551,"accept_rate":50,"display_name":"kladderradatsch"},"score":0,"creation_date":1668382977,"post_id":74425320,"comment_id":131385394,"body_markdown":"@S.N However, I assume a 403 can be provoked when the access token is missed at all or invalid.","body":"@S.N However, I assume a 403 can be provoked when the access token is missed at all or invalid."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1668383170,"post_id":74425320,"comment_id":131385418,"body_markdown":"@kladderradatsch How can I get bearer token from auth service and use it in this test method? I also add spring-security-oauth2-jose but it didn&#39;t help me? What kind of dependencies should I use in order service?","body":"@kladderradatsch How can I get bearer token from auth service and use it in this test method? I also add spring-security-oauth2-jose but it didn&#39;t help me? What kind of dependencies should I use in order service?"},{"owner":{"account_id":7712763,"reputation":628,"user_id":5841551,"accept_rate":50,"display_name":"kladderradatsch"},"score":0,"creation_date":1668384023,"post_id":74425320,"comment_id":131385558,"body_markdown":"Could you please check [this](https://github.com/spring-projects/spring-security/issues/6209) here?","body":"Could you please check <a href=\"https://github.com/spring-projects/spring-security/issues/6209\" rel=\"nofollow noreferrer\">this</a> here?"},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1668396147,"post_id":74425320,"comment_id":131387143,"body_markdown":"Do not set security headers with MockMvc. Use MockMvc post processors (like you do) or use test annotations to set Authentication instance in test security-context directly.","body":"Do not set security headers with MockMvc. Use MockMvc post processors (like you do) or use test annotations to set Authentication instance in test security-context directly."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1668436611,"post_id":74425320,"comment_id":131397880,"body_markdown":"@kladderradatsch I already looked through the link before but my issue is different.","body":"@kladderradatsch I already looked through the link before but my issue is different."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1668635339,"post_id":74425320,"comment_id":131456778,"body_markdown":"@kladderradatsch  I think there is a problem in security configs in order service and api gateway. Even if I tried to revised these files, I still get 403 forbidden issue. How can I fix it?","body":"@kladderradatsch  I think there is a problem in security configs in order service and api gateway. Even if I tried to revised these files, I still get 403 forbidden issue. How can I fix it?"},{"owner":{"account_id":7712763,"reputation":628,"user_id":5841551,"accept_rate":50,"display_name":"kladderradatsch"},"score":0,"creation_date":1668685811,"post_id":74425320,"comment_id":131468789,"body_markdown":"I would read meticulously [how to test JWT authentication via spring-security-test](https://docs.spring.io/spring-security/site/docs/5.2.x/reference/html/test.html#testing-bearer-authentication) and furthermore the tutorial of ch4mp because he seems to be a Spring developer.","body":"I would read meticulously <a href=\"https://docs.spring.io/spring-security/site/docs/5.2.x/reference/html/test.html#testing-bearer-authentication\" rel=\"nofollow noreferrer\">how to test JWT authentication via spring-security-test</a> and furthermore the tutorial of ch4mp because he seems to be a Spring developer."}],"answers":[{"comments":[{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1668436467,"post_id":74425828,"comment_id":131397821,"body_markdown":"I already defined these dependencies in pom.xml of order service. It didn&#39;t help me.","body":"I already defined these dependencies in pom.xml of order service. It didn&#39;t help me."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1668545500,"post_id":74425828,"comment_id":131430676,"body_markdown":"I changed my vision to use different approach. Here is the question : https://stackoverflow.com/questions/74449956/spring-boot-microservice-junit-test-how-to-write-a-test-method-with-adding-the","body":"I changed my vision to use different approach. Here is the question : <a href=\"https://stackoverflow.com/questions/74449956/spring-boot-microservice-junit-test-how-to-write-a-test-method-with-adding-the\" title=\"spring boot microservice junit test how to write a test method with adding the\">stackoverflow.com/questions/74449956/&hellip;</a>"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1669119530,"post_id":74425828,"comment_id":131566885,"body_markdown":"I still couldn&#39;t fix the issue. Can you help me? How can I revise security option between api gateway and order service?","body":"I still couldn&#39;t fix the issue. Can you help me? How can I revise security option between api gateway and order service?"}],"tags":[],"owner":{"account_id":7712763,"reputation":628,"user_id":5841551,"accept_rate":50,"display_name":"kladderradatsch"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668385170,"creation_date":1668385170,"answer_id":74425828,"question_id":74425320,"body_markdown":"Probably, you only need the dependencies\r\n\r\n```\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n   &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n   &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n   &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\nbut not `spring-security-oauth2-resource-server `","title":"Spring Boot Microservices JUnit Test- Controller Test- JWT JwtGrantedAuthoritiesConverter Issue","body":"<p>Probably, you only need the dependencies</p>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n   &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n   &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n   &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>but not <code>spring-security-oauth2-resource-server </code></p>\n"},{"comments":[{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1668436418,"post_id":74426430,"comment_id":131397797,"body_markdown":"I already used 5.7.3 version. Your view couldn&#39;t help me fix the issue.","body":"I already used 5.7.3 version. Your view couldn&#39;t help me fix the issue."},{"owner":{"account_id":7712763,"reputation":628,"user_id":5841551,"accept_rate":50,"display_name":"kladderradatsch"},"score":0,"creation_date":1668439409,"post_id":74426430,"comment_id":131399012,"body_markdown":"When you  use `spring-security-oauth2-resource-server` in your dependencies you&#39;ll not need **spring-security** explicitly because it is contained there already. This I have from the [Baeldung tutorial](https://www.baeldung.com/spring-security-oauth-resource-server). [You](https://github.com/Rapter1990/microservicecoursedailybuffer/blob/main/orderservice/pom.xml#L112-L115) have Spring Security still in your dependencies.","body":"When you  use <code>spring-security-oauth2-resource-server</code> in your dependencies you&#39;ll not need <b>spring-security</b> explicitly because it is contained there already. This I have from the <a href=\"https://www.baeldung.com/spring-security-oauth-resource-server\" rel=\"nofollow noreferrer\">Baeldung tutorial</a>. <a href=\"https://github.com/Rapter1990/microservicecoursedailybuffer/blob/main/orderservice/pom.xml#L112-L115\" rel=\"nofollow noreferrer\">You</a> have Spring Security still in your dependencies."},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1668445371,"post_id":74426430,"comment_id":131401282,"body_markdown":"Hadn&#39;t seen your complete r&#233;po was linked, will give a try later today","body":"Hadn&#39;t seen your complete r&#233;po was linked, will give a try later today"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1668451489,"post_id":74426430,"comment_id":131403308,"body_markdown":"@ch4mp As I guess I cannot get jwt token from auth service, I get this issue. How can I get it from auth service and use it with its role in order controller test?","body":"@ch4mp As I guess I cannot get jwt token from auth service, I get this issue. How can I get it from auth service and use it with its role in order controller test?"},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1668452807,"post_id":74426430,"comment_id":131403708,"body_markdown":"You don&#39;t get a JWT at all. Test framework populates directly the security context with an Authentication instance built &quot;as if&quot; a JWT was decoded and validated. Clone my repo and debug the samples, you&#39;ll see.","body":"You don&#39;t get a JWT at all. Test framework populates directly the security context with an Authentication instance built &quot;as if&quot; a JWT was decoded and validated. Clone my repo and debug the samples, you&#39;ll see."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1668470177,"post_id":74426430,"comment_id":131408394,"body_markdown":"@ch4mp JWT is coming from auth service and I use JWTFilter in API Gateway. How can I get jwt token from auth service and make a request with the bearer token to each service? This is my issue.","body":"@ch4mp JWT is coming from auth service and I use JWTFilter in API Gateway. How can I get jwt token from auth service and make a request with the bearer token to each service? This is my issue."},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1668471225,"post_id":74426430,"comment_id":131408617,"body_markdown":"This has nothing to do with JUnit tests of a @Controller and is a complete different question. Ask it in a different thread.","body":"This has nothing to do with JUnit tests of a @Controller and is a complete different question. Ask it in a different thread."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1668513351,"post_id":74426430,"comment_id":131418446,"body_markdown":"@ch4mp That&#39;s why I asked it as a new question. Here is the link : https://stackoverflow.com/questions/74445207/spring-boot-microservice-junit-test-how-can-i-get-jwt-token-from-one-service-a","body":"@ch4mp That&#39;s why I asked it as a new question. Here is the link : <a href=\"https://stackoverflow.com/questions/74445207/spring-boot-microservice-junit-test-how-can-i-get-jwt-token-from-one-service-a\" title=\"spring boot microservice junit test how can i get jwt token from one service a\">stackoverflow.com/questions/74445207/&hellip;</a>"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1668545512,"post_id":74426430,"comment_id":131430681,"body_markdown":"@ch4mp I changed my vision to use different approach. Here is the question : https://stackoverflow.com/questions/74449956/spring-boot-microservice-junit-test-how-to-write-a-test-method-with-adding-the","body":"@ch4mp I changed my vision to use different approach. Here is the question : <a href=\"https://stackoverflow.com/questions/74449956/spring-boot-microservice-junit-test-how-to-write-a-test-method-with-adding-the\" title=\"spring boot microservice junit test how to write a test method with adding the\">stackoverflow.com/questions/74449956/&hellip;</a>"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1668635358,"post_id":74426430,"comment_id":131456784,"body_markdown":"@ch4mp  I think there is a problem in security configs in order service and api gateway. Even if I tried to revised these files, I still get 403 forbidden issue. How can I fix it?","body":"@ch4mp  I think there is a problem in security configs in order service and api gateway. Even if I tried to revised these files, I still get 403 forbidden issue. How can I fix it?"},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1668635790,"post_id":74426430,"comment_id":131456930,"body_markdown":"Easy: stop believing I have not understood your problems (as mentioned in my answer, I have cloned your repo and manipulated your code and know they are quite a few different problems) or that I don&#39;t know what I&#39;m talking about, and just follow (carefully) the tutorials I pointed you to, 3 times already. You&#39;ll get a chance to understand how to configure and test a resource-server (micro-service or not)","body":"Easy: stop believing I have not understood your problems (as mentioned in my answer, I have cloned your repo and manipulated your code and know they are quite a few different problems) or that I don&#39;t know what I&#39;m talking about, and just follow (carefully) the tutorials I pointed you to, 3 times already. You&#39;ll get a chance to understand how to configure and test a resource-server (micro-service or not)"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1669119569,"post_id":74426430,"comment_id":131566902,"body_markdown":"@ch4mp I still couldn&#39;t fix the issue. Can you help me? How can I revise security option between api gateway and order service?","body":"@ch4mp I still couldn&#39;t fix the issue. Can you help me? How can I revise security option between api gateway and order service?"},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1669122892,"post_id":74426430,"comment_id":131568091,"body_markdown":"No, I can&#39;t help you: you don&#39;t explain you problems clearly enough and don&#39;t read the answers","body":"No, I can&#39;t help you: you don&#39;t explain you problems clearly enough and don&#39;t read the answers"}],"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"comment_count":13,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668449740,"creation_date":1668393808,"answer_id":74426430,"question_id":74425320,"body_markdown":"Double check that `spring-security-oauth2-resource-server` dependency is correctly declared: scope **`compile`** (must be there at `runtime` and `test`) and version **5.2 or above** (`JwtGrantedAuthoritiesConverter` was not there before). You might pull it as transitive dependency of `spring-boot-starter-oauth2-resource-server`. So basically, check that:\r\n- `spring-boot-starter-oauth2-resource-server` is declared dependency for each resource-server module\r\n- security-configuration is there for each resource-server module\r\n- JwtDecoder is mocked for each unit-test (`@WebMvcTest`) and integration test with mocked authentication (`@SpringBootTest` with `@AutoConfigureMockMvc`)\r\n\r\nSorry to tell you that, but your code is a mess:\r\n- no parent pom to manage modules versions (had to manually `mvn install` modules in the right order.\r\n- you test security rules in modules with no security configuration\r\n- some resource-servers do not pull `spring-boot-starter-oauth2-resource-server` (products service for instance)\r\n- you write integration tests (`@SpringBootTest`) to unit test controllers (should be `@WebMvcTest` with `@MockBean` dependencies)\r\n- have to run configuration server for test to run (you should configure unit-tests to run in isolation from the rest of the world, starting with external services like cloud-config)\r\n- ...\r\n\r\nCleanup your mess before asking us to look into your code.\r\n\r\nFor now, all I can tell you is to follow [those tutorials][1]. It covers in details resource-servers security configuration and testing. It also demoes how to use annotations in place of `jwt()` MockMvc post-processor. Annotations are more readable to me and also enable to setup security context when **testing secured services**:\r\n```java\r\n    @WithMockJwtAuth(&quot;ROLE_USER&quot;)\r\n    @Test\r\n    public void test_WhenPlaceOrder_DoPayment_Success() throws Exception {\r\n        OrderRequest orderRequest = getMockOrderRequest();\r\n        MvcResult mvcResult\r\n                = mockMvc.perform(MockMvcRequestBuilders.post(&quot;/order/placeOrder&quot;)\r\n                        .contentType(MediaType.APPLICATION_JSON_VALUE)\r\n                        .content(objectMapper.writeValueAsString(orderRequest))\r\n                ).andExpect(MockMvcResultMatchers.status().isOk())\r\n                .andReturn();\r\n\r\n        ...\r\n\r\n    }\r\n```\r\n\r\n\r\n  [1]: https://github.com/ch4mpy/spring-addons/blob/master/samples/tutorials","title":"Spring Boot Microservices JUnit Test- Controller Test- JWT JwtGrantedAuthoritiesConverter Issue","body":"<p>Double check that <code>spring-security-oauth2-resource-server</code> dependency is correctly declared: scope <strong><code>compile</code></strong> (must be there at <code>runtime</code> and <code>test</code>) and version <strong>5.2 or above</strong> (<code>JwtGrantedAuthoritiesConverter</code> was not there before). You might pull it as transitive dependency of <code>spring-boot-starter-oauth2-resource-server</code>. So basically, check that:</p>\n<ul>\n<li><code>spring-boot-starter-oauth2-resource-server</code> is declared dependency for each resource-server module</li>\n<li>security-configuration is there for each resource-server module</li>\n<li>JwtDecoder is mocked for each unit-test (<code>@WebMvcTest</code>) and integration test with mocked authentication (<code>@SpringBootTest</code> with <code>@AutoConfigureMockMvc</code>)</li>\n</ul>\n<p>Sorry to tell you that, but your code is a mess:</p>\n<ul>\n<li>no parent pom to manage modules versions (had to manually <code>mvn install</code> modules in the right order.</li>\n<li>you test security rules in modules with no security configuration</li>\n<li>some resource-servers do not pull <code>spring-boot-starter-oauth2-resource-server</code> (products service for instance)</li>\n<li>you write integration tests (<code>@SpringBootTest</code>) to unit test controllers (should be <code>@WebMvcTest</code> with <code>@MockBean</code> dependencies)</li>\n<li>have to run configuration server for test to run (you should configure unit-tests to run in isolation from the rest of the world, starting with external services like cloud-config)</li>\n<li>...</li>\n</ul>\n<p>Cleanup your mess before asking us to look into your code.</p>\n<p>For now, all I can tell you is to follow <a href=\"https://github.com/ch4mpy/spring-addons/blob/master/samples/tutorials\" rel=\"nofollow noreferrer\">those tutorials</a>. It covers in details resource-servers security configuration and testing. It also demoes how to use annotations in place of <code>jwt()</code> MockMvc post-processor. Annotations are more readable to me and also enable to setup security context when <strong>testing secured services</strong>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @WithMockJwtAuth(&quot;ROLE_USER&quot;)\n    @Test\n    public void test_WhenPlaceOrder_DoPayment_Success() throws Exception {\n        OrderRequest orderRequest = getMockOrderRequest();\n        MvcResult mvcResult\n                = mockMvc.perform(MockMvcRequestBuilders.post(&quot;/order/placeOrder&quot;)\n                        .contentType(MediaType.APPLICATION_JSON_VALUE)\n                        .content(objectMapper.writeValueAsString(orderRequest))\n                ).andExpect(MockMvcResultMatchers.status().isOk())\n                .andReturn();\n\n        ...\n\n    }\n</code></pre>\n"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":707,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1668449740,"creation_date":1668379068,"question_id":74425320,"body_markdown":"I tried to implement some controller test with the usage of jwt in Spring Boot Microservices.\r\n\r\nWhen I run the test method shown below, I got this error\r\n\r\n    java.lang.NoClassDefFoundError: org/springframework/security/oauth2/server/resource/authentication/JwtGrantedAuthoritiesConverter\r\n    \r\n    Caused by: java.lang.ClassNotFoundException: org.springframework.security.oauth2.server.resource.authentication.JwtGrantedAuthoritiesConverter\r\n\r\nHere is the code snippets shown below.\r\n\r\n    @Test\r\n        public void test_WhenPlaceOrderWithWrongAccess_thenThrow403() throws Exception {\r\n            OrderRequest orderRequest = getMockOrderRequest();\r\n            MvcResult mvcResult\r\n                    = mockMvc.perform(MockMvcRequestBuilders.post(&quot;/order/placeOrder&quot;)\r\n                            .with(jwt().authorities(new SimpleGrantedAuthority(&quot;ADMIN&quot;)))  // HERE IS THE ERROR LINE\r\n                            .contentType(MediaType.APPLICATION_JSON_VALUE)\r\n                            .content(objectMapper.writeValueAsString(orderRequest))\r\n                    ).andExpect(MockMvcResultMatchers.status().isForbidden())\r\n                    .andReturn();\r\n        }\r\n\r\n\r\nEven if I added `spring-security-oauth2-resource-server` dependency in pom.xml of order service, It didn&#39;t help me fix the issue.\r\n\r\nHere are the issue shown below after adding `spring-security-oauth2-resource-server` dependency in pom.xml of order service.\r\n\r\n    java.lang.NoClassDefFoundError: org/springframework/security/oauth2/jwt/Jwt$Builder\r\n    \r\n    Caused by: java.lang.ClassNotFoundException: org.springframework.security.oauth2.jwt.Jwt$Builder\r\n\r\n\r\nHow can I fix the issue?\r\n\r\nHere is the link of example : [Link][1]\r\n\r\n\r\n  [1]: https://github.com/Rapter1990/microservicecoursedailybuffer","title":"Spring Boot Microservices JUnit Test- Controller Test- JWT JwtGrantedAuthoritiesConverter Issue","body":"<p>I tried to implement some controller test with the usage of jwt in Spring Boot Microservices.</p>\n<p>When I run the test method shown below, I got this error</p>\n<pre><code>java.lang.NoClassDefFoundError: org/springframework/security/oauth2/server/resource/authentication/JwtGrantedAuthoritiesConverter\n\nCaused by: java.lang.ClassNotFoundException: org.springframework.security.oauth2.server.resource.authentication.JwtGrantedAuthoritiesConverter\n</code></pre>\n<p>Here is the code snippets shown below.</p>\n<pre><code>@Test\n    public void test_WhenPlaceOrderWithWrongAccess_thenThrow403() throws Exception {\n        OrderRequest orderRequest = getMockOrderRequest();\n        MvcResult mvcResult\n                = mockMvc.perform(MockMvcRequestBuilders.post(&quot;/order/placeOrder&quot;)\n                        .with(jwt().authorities(new SimpleGrantedAuthority(&quot;ADMIN&quot;)))  // HERE IS THE ERROR LINE\n                        .contentType(MediaType.APPLICATION_JSON_VALUE)\n                        .content(objectMapper.writeValueAsString(orderRequest))\n                ).andExpect(MockMvcResultMatchers.status().isForbidden())\n                .andReturn();\n    }\n</code></pre>\n<p>Even if I added <code>spring-security-oauth2-resource-server</code> dependency in pom.xml of order service, It didn't help me fix the issue.</p>\n<p>Here are the issue shown below after adding <code>spring-security-oauth2-resource-server</code> dependency in pom.xml of order service.</p>\n<pre><code>java.lang.NoClassDefFoundError: org/springframework/security/oauth2/jwt/Jwt$Builder\n\nCaused by: java.lang.ClassNotFoundException: org.springframework.security.oauth2.jwt.Jwt$Builder\n</code></pre>\n<p>How can I fix the issue?</p>\n<p>Here is the link of example : <a href=\"https://github.com/Rapter1990/microservicecoursedailybuffer\" rel=\"nofollow noreferrer\">Link</a></p>\n"},{"tags":["java","spring-boot","snowflake-cloud-data-platform"],"comments":[{"owner":{"account_id":6806243,"reputation":125,"user_id":5237868,"display_name":"Nid"},"score":0,"creation_date":1668449267,"post_id":74434096,"comment_id":131402654,"body_markdown":"Tried to create connection as mentioned in Snowflake document , it works but not sure why i cant use jdbc template","body":"Tried to create connection as mentioned in Snowflake document , it works but not sure why i cant use jdbc template"}],"answers":[{"comments":[{"owner":{"account_id":6806243,"reputation":125,"user_id":5237868,"display_name":"Nid"},"score":0,"creation_date":1668441660,"post_id":74434288,"comment_id":131399861,"body_markdown":"Table does exist and query is working fine with same role etc since With the same code base by just changing the dependency of snowflake driver to 3.6.8 it is working.","body":"Table does exist and query is working fine with same role etc since With the same code base by just changing the dependency of snowflake driver to 3.6.8 it is working."},{"owner":{"account_id":17326670,"reputation":9493,"user_id":12550965,"display_name":"Gokhan Atil"},"score":0,"creation_date":1668442161,"post_id":74434288,"comment_id":131400041,"body_markdown":"What do you see in the query history? Do they see any difference? I suspect that the  schema/db or role properties are not passed correct (maybe because of driver version)?","body":"What do you see in the query history? Do they see any difference? I suspect that the  schema/db or role properties are not passed correct (maybe because of driver version)?"},{"owner":{"account_id":6806243,"reputation":125,"user_id":5237868,"display_name":"Nid"},"score":0,"creation_date":1668442201,"post_id":74434288,"comment_id":131400056,"body_markdown":"Query shows up in history table only if I run by using 3.6.8 version else query doesn&#39;t not populate in History.","body":"Query shows up in history table only if I run by using 3.6.8 version else query doesn&#39;t not populate in History."},{"owner":{"account_id":6806243,"reputation":125,"user_id":5237868,"display_name":"Nid"},"score":0,"creation_date":1668442295,"post_id":74434288,"comment_id":131400092,"body_markdown":"I posted application.properties as well. I used the same configuration of key value pair. Is there any change in syntax  to be used for higher version?","body":"I posted application.properties as well. I used the same configuration of key value pair. Is there any change in syntax  to be used for higher version?"},{"owner":{"account_id":17326670,"reputation":9493,"user_id":12550965,"display_name":"Gokhan Atil"},"score":0,"creation_date":1668443506,"post_id":74434288,"comment_id":131400579,"body_markdown":"The error message you shared (SQL compilation error: Object &#39;my_table_name&#39; does not exist or not authorized) comes from Snowflake. So the query should be visible in the query history.","body":"The error message you shared (SQL compilation error: Object &#39;my_table_name&#39; does not exist or not authorized) comes from Snowflake. So the query should be visible in the query history."},{"owner":{"account_id":6591578,"reputation":1535,"user_id":5600153,"display_name":"Alexander Klimenko"},"score":0,"creation_date":1668447046,"post_id":74434288,"comment_id":131401892,"body_markdown":"If in your history, you can see only the queries from 3.6.8, I can assume that in 3.8.x connection, the role/user configuration is different/or not applied. Are you able to use the accountadmin role in your UI and check if you see the problematic queries? If yes, than you should be see what role and other session parameters were applied with 3.8 and above.","body":"If in your history, you can see only the queries from 3.6.8, I can assume that in 3.8.x connection, the role/user configuration is different/or not applied. Are you able to use the accountadmin role in your UI and check if you see the problematic queries? If yes, than you should be see what role and other session parameters were applied with 3.8 and above."},{"owner":{"account_id":6806243,"reputation":125,"user_id":5237868,"display_name":"Nid"},"score":0,"creation_date":1668449204,"post_id":74434288,"comment_id":131402638,"body_markdown":"yes, i am using admin role only in my configuration and UI. I tried one more approach (added in my question at last section) where if  i am not using springframework provided jdbctemplate and instead creating my own connection to execute query works fine.","body":"yes, i am using admin role only in my configuration and UI. I tried one more approach (added in my question at last section) where if  i am not using springframework provided jdbctemplate and instead creating my own connection to execute query works fine."}],"tags":[],"owner":{"account_id":17326670,"reputation":9493,"user_id":12550965,"display_name":"Gokhan Atil"},"comment_count":7,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668440604,"creation_date":1668440604,"answer_id":74434288,"question_id":74434096,"body_markdown":"As the error says, you probably have no access to the my_table_name table or the table does exist.\r\n\r\n1) Check the history page and find the failed query. Verify the role name, database name and schema are correct.\r\n\r\nhttps://docs.snowflake.com/en/user-guide/ui-history.html\r\n\r\n2) Try to run the same query through UI. Make sure you use the same role.","title":"net.snowflake.client.jdbc.SnowflakeSQLException: SQL compilation error: Object &#39;my_table_name&#39; does not exist or not authorized","body":"<p>As the error says, you probably have no access to the my_table_name table or the table does exist.</p>\n<ol>\n<li>Check the history page and find the failed query. Verify the role name, database name and schema are correct.</li>\n</ol>\n<p><a href=\"https://docs.snowflake.com/en/user-guide/ui-history.html\" rel=\"nofollow noreferrer\">https://docs.snowflake.com/en/user-guide/ui-history.html</a></p>\n<ol start=\"2\">\n<li>Try to run the same query through UI. Make sure you use the same role.</li>\n</ol>\n"}],"owner":{"account_id":6806243,"reputation":125,"user_id":5237868,"display_name":"Nid"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1334,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668449464,"creation_date":1668439849,"question_id":74434096,"body_markdown":"I have Spring boot application with Snowflake driver to fetch data from snowflake database and display in front end application. I am using JdbcTemplate of springframework to query and map result to POJO with the help of RowMapper. \r\nThis works fine if I use snowflake-jdbc driver version of 3.6.8 or 3.7.2 but don&#39;t work for the same code base if I change driver version to 3.8.x/3.9.x/3.10.x/3.12.x/3.13.24\r\n\r\npom.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.5&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;demo&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t&lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;tomcat-jdbc&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n            &lt;groupId&gt;net.snowflake&lt;/groupId&gt;\r\n            &lt;artifactId&gt;snowflake-jdbc&lt;/artifactId&gt;\r\n            &lt;version&gt;3.13.24&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\t\t\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\napplication.properties\r\n```\r\nspring.datasource.driver-class-name=net.snowflake.client.jdbc.SnowflakeDriver\r\nspring.datasource.url=jdbc:snowflake://&lt;accountname&gt;.snowflakecomputing.com:443/?CLIENT_SESSION_KEEP_ALIVE=true&amp;user=xxx&amp;password=xxx&amp;warehouse=xxx&amp;role=xxx&amp;db=xxx&amp;schema=xxx\r\nspring.datasource.username=xxx\r\nspring.datasource.password=xxx\r\nspring.jpa.database=default\r\nspring.jpa.properties.hibernate.dialect=com.example.demo.SnowflakeDialect\r\n```\r\n\r\nDAO : here pojo class contains only one field with getter setter\r\n```\r\n//exception on below line\r\nList&lt;my_pojo_class&gt; data=jdbcTemplate.query(&quot;select column1 FROM  my_table_name LIMIT 2&quot;,\r\n            new RowMapper&lt;my_pojo_class&gt;(){  \r\n                @Override  \r\n                public my_pojo_class mapRow(ResultSet rs, int rownumber) throws SQLException {  \r\n                my_pojo_class layer = new my_pojo_class();\r\n                layer.setColumn1(rs.getString(1));\r\n                return layer; \r\n            }  \r\n            });\r\n```\r\n\r\nPlease guide me where i am going wrong here\r\n\r\nTried to create connection as mentioned in Snowflake document https://docs.snowflake.com/en/user-guide/jdbc-configure.html , it works but not sure why i cant use jdbc template\r\n```\r\n String url = &quot;jdbc:snowflake://&lt;account_identifier&gt;.snowflakecomputing.com&quot;;\r\n    Properties prop = new Properties();\r\n    prop.put(&quot;user&quot;, &quot;&lt;user&gt;&quot;);\r\n    prop.put(&quot;password&quot;, &quot;&lt;password&gt;&quot;);\r\n    prop.put(&quot;db&quot;, &quot;&lt;database_name&gt;&quot;);\r\n    prop.put(&quot;schema&quot;, &quot;&lt;schema_name&gt;&quot;);\r\n    prop.put(&quot;warehouse&quot;, &quot;&lt;warehouse_name&gt;&quot;);\r\n    prop.put(&quot;role&quot;, &quot;&lt;role_name&gt;&quot;);\r\n\r\n    Connection conn = DriverManager.getConnection(url, prop);\r\n```","title":"net.snowflake.client.jdbc.SnowflakeSQLException: SQL compilation error: Object &#39;my_table_name&#39; does not exist or not authorized","body":"<p>I have Spring boot application with Snowflake driver to fetch data from snowflake database and display in front end application. I am using JdbcTemplate of springframework to query and map result to POJO with the help of RowMapper.\nThis works fine if I use snowflake-jdbc driver version of 3.6.8 or 3.7.2 but don't work for the same code base if I change driver version to 3.8.x/3.9.x/3.10.x/3.12.x/3.13.24</p>\n<p>pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.5&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n    &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\n                    &lt;artifactId&gt;tomcat-jdbc&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.snowflake&lt;/groupId&gt;\n            &lt;artifactId&gt;snowflake-jdbc&lt;/artifactId&gt;\n            &lt;version&gt;3.13.24&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>application.properties</p>\n<pre><code>spring.datasource.driver-class-name=net.snowflake.client.jdbc.SnowflakeDriver\nspring.datasource.url=jdbc:snowflake://&lt;accountname&gt;.snowflakecomputing.com:443/?CLIENT_SESSION_KEEP_ALIVE=true&amp;user=xxx&amp;password=xxx&amp;warehouse=xxx&amp;role=xxx&amp;db=xxx&amp;schema=xxx\nspring.datasource.username=xxx\nspring.datasource.password=xxx\nspring.jpa.database=default\nspring.jpa.properties.hibernate.dialect=com.example.demo.SnowflakeDialect\n</code></pre>\n<p>DAO : here pojo class contains only one field with getter setter</p>\n<pre><code>//exception on below line\nList&lt;my_pojo_class&gt; data=jdbcTemplate.query(&quot;select column1 FROM  my_table_name LIMIT 2&quot;,\n            new RowMapper&lt;my_pojo_class&gt;(){  \n                @Override  \n                public my_pojo_class mapRow(ResultSet rs, int rownumber) throws SQLException {  \n                my_pojo_class layer = new my_pojo_class();\n                layer.setColumn1(rs.getString(1));\n                return layer; \n            }  \n            });\n</code></pre>\n<p>Please guide me where i am going wrong here</p>\n<p>Tried to create connection as mentioned in Snowflake document <a href=\"https://docs.snowflake.com/en/user-guide/jdbc-configure.html\" rel=\"nofollow noreferrer\">https://docs.snowflake.com/en/user-guide/jdbc-configure.html</a> , it works but not sure why i cant use jdbc template</p>\n<pre><code> String url = &quot;jdbc:snowflake://&lt;account_identifier&gt;.snowflakecomputing.com&quot;;\n    Properties prop = new Properties();\n    prop.put(&quot;user&quot;, &quot;&lt;user&gt;&quot;);\n    prop.put(&quot;password&quot;, &quot;&lt;password&gt;&quot;);\n    prop.put(&quot;db&quot;, &quot;&lt;database_name&gt;&quot;);\n    prop.put(&quot;schema&quot;, &quot;&lt;schema_name&gt;&quot;);\n    prop.put(&quot;warehouse&quot;, &quot;&lt;warehouse_name&gt;&quot;);\n    prop.put(&quot;role&quot;, &quot;&lt;role_name&gt;&quot;);\n\n    Connection conn = DriverManager.getConnection(url, prop);\n</code></pre>\n"},{"tags":["java","xml","jackson"],"comments":[{"owner":{"account_id":7712763,"reputation":628,"user_id":5841551,"accept_rate":50,"display_name":"kladderradatsch"},"score":0,"creation_date":1668375490,"post_id":74424656,"comment_id":131384186,"body_markdown":"You can read the very issue by this: `no String-argument constructor/factory method to deserialize from String value (&#39;10&#39;)`. It means that `@NoArgsConstructor` for class `FINSTA03Bean` is not enough in combination with setters and getters - a constructor is needed here which sets all the attributes as soon as an instance is created.","body":"You can read the very issue by this: <code>no String-argument constructor&#47;factory method to deserialize from String value (&#39;10&#39;)</code>. It means that <code>@NoArgsConstructor</code> for class <code>FINSTA03Bean</code> is not enough in combination with setters and getters - a constructor is needed here which sets all the attributes as soon as an instance is created."},{"owner":{"account_id":1801257,"reputation":8969,"user_id":1639556,"accept_rate":79,"display_name":"Leos Literak"},"score":0,"creation_date":1668409969,"post_id":74424656,"comment_id":131389244,"body_markdown":"I have added AllArgsConstructor but it failed with the same error. If it was related, why would it fail on gthe first property and not after the last property?","body":"I have added AllArgsConstructor but it failed with the same error. If it was related, why would it fail on gthe first property and not after the last property?"}],"answers":[{"comments":[{"owner":{"account_id":1801257,"reputation":8969,"user_id":1639556,"accept_rate":79,"display_name":"Leos Literak"},"score":0,"creation_date":1668453536,"post_id":74436063,"comment_id":131403952,"body_markdown":"Hmm, I tried to post the same finding in the morning, but it&#39;s gone. So I accept yours.","body":"Hmm, I tried to post the same finding in the morning, but it&#39;s gone. So I accept yours."},{"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"score":0,"creation_date":1668459451,"post_id":74436063,"comment_id":131405673,"body_markdown":"@LeosLiterak Glad to have helped.","body":"@LeosLiterak Glad to have helped."}],"tags":[],"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1668449418,"creation_date":1668449418,"answer_id":74436063,"question_id":74424656,"body_markdown":"The main problem here is about the `FINSTA03BeanList` list because you are not annotating it with the specific [`JacksonXmlElementWrapper`](http://fasterxml.github.io/jackson-dataformat-xml/javadoc/2.12/com/fasterxml/jackson/dataformat/xml/annotation/JacksonXmlElementWrapper.html) annotation causing the error due to the fact that jackson library misinterpretes your list as a single property. You can also use the xml specific [`JacksonXmlProperty`](http://fasterxml.github.io/jackson-dataformat-xml/javadoc/2.2.0/com/fasterxml/jackson/dataformat/xml/annotation/JacksonXmlProperty.html) annotation instead of `JsonProperty` for properties:\r\n\r\n~~~\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\npublic class FINSTABean {\r\n    @JacksonXmlProperty\r\n    String STA_VER;\r\n    @JacksonXmlProperty(localName = &quot;FINSTA03&quot;)\r\n    @JacksonXmlElementWrapper(useWrapping = false)\r\n    List&lt;FINSTA03Bean&gt; FINSTA03BeanList;\r\n}\r\n\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\npublic class FINSTA03Bean {\r\n    @JacksonXmlProperty\r\n    String S28_CISLO_VYPISU;\r\n}\r\n~~~\r\n\r\n","title":"Jackson XML deserialization fails on no String-argument constructor/factory method to deserialize from String","body":"<p>The main problem here is about the <code>FINSTA03BeanList</code> list because you are not annotating it with the specific <a href=\"http://fasterxml.github.io/jackson-dataformat-xml/javadoc/2.12/com/fasterxml/jackson/dataformat/xml/annotation/JacksonXmlElementWrapper.html\" rel=\"nofollow noreferrer\"><code>JacksonXmlElementWrapper</code></a> annotation causing the error due to the fact that jackson library misinterpretes your list as a single property. You can also use the xml specific <a href=\"http://fasterxml.github.io/jackson-dataformat-xml/javadoc/2.2.0/com/fasterxml/jackson/dataformat/xml/annotation/JacksonXmlProperty.html\" rel=\"nofollow noreferrer\"><code>JacksonXmlProperty</code></a> annotation instead of <code>JsonProperty</code> for properties:</p>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\npublic class FINSTABean {\n    @JacksonXmlProperty\n    String STA_VER;\n    @JacksonXmlProperty(localName = &quot;FINSTA03&quot;)\n    @JacksonXmlElementWrapper(useWrapping = false)\n    List&lt;FINSTA03Bean&gt; FINSTA03BeanList;\n}\n\n@Getter\n@Setter\n@NoArgsConstructor\npublic class FINSTA03Bean {\n    @JacksonXmlProperty\n    String S28_CISLO_VYPISU;\n}\n</code></pre>\n"}],"owner":{"account_id":1801257,"reputation":8969,"user_id":1639556,"accept_rate":79,"display_name":"Leos Literak"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2406,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74436063,"answer_count":1,"score":2,"last_activity_date":1668449418,"creation_date":1668372586,"question_id":74424656,"body_markdown":"I try to parse XML with Jackson. I have generated java DTO from XSD, so no camel case is used and the naming convention would not make sense there.\r\n\r\nBeans:\r\n\r\n    FINSTABean bean = xmlMapper.readValue(file, FINSTABean.class);\r\n\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    @Getter @Setter @NoArgsConstructor\r\n    public class FINSTABean {\r\n        @JsonProperty(&quot;STA_VER&quot;)\r\n        String STA_VER;\r\n        @JsonProperty(&quot;FINSTA03&quot;)\r\n        List&lt;FINSTA03Bean&gt; FINSTA03BeanList;\r\n    }\r\n\r\n\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    @Getter @Setter @NoArgsConstructor\r\n    public class FINSTA03Bean {\r\n        @JsonProperty(&quot;S28_CISLO_VYPISU&quot;)\r\n        String S28_CISLO_VYPISU;\r\n        String S25_CISLO_UCTU;\r\n\r\nXML:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;windows-1250&quot;?&gt;\r\n    &lt;FINSTA&gt;\r\n        &lt;STA_VER&gt;01.0000&lt;/STA_VER&gt;\r\n        &lt;FINSTA03&gt;\r\n            &lt;S28_CISLO_VYPISU&gt;10&lt;/S28_CISLO_VYPISU&gt;\r\n\r\nError:\r\n\r\n    Caused by: com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot construct instance of `com.lelifin.alfa.parsers.csob_xml.FINSTA03Bean` (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value (&#39;10&#39;)\r\n     at [Source: (File); line: 5, column: 29] (through reference chain: com.lelifin.alfa.parsers.csob_xml.FINSTABean[&quot;FINSTA03&quot;]-&gt;java.util.ArrayList[0])\r\n    \tat com.fasterxml.jackson.databind.exc.MismatchedInputException.from(MismatchedInputException.java:63) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\r\n    \tat com.fasterxml.jackson.databind.DeserializationContext.reportInputMismatch(DeserializationContext.java:1728) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\r\n    \tat com.fasterxml.jackson.databind.DeserializationContext.handleMissingInstantiator(DeserializationContext.java:1353) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\r\n    \tat com.fasterxml.jackson.databind.deser.std.StdDeserializer._deserializeFromString(StdDeserializer.java:311) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\r\n    \tat com.fasterxml.jackson.databind.deser.BeanDeserializerBase.deserializeFromString(BeanDeserializerBase.java:1495) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\r\n    \tat com.fasterxml.jackson.databind.deser.BeanDeserializer._deserializeOther(BeanDeserializer.java:197) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\r\n    \tat com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:187) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\r\n    \tat com.fasterxml.jackson.databind.deser.std.CollectionDeserializer._deserializeFromArray(CollectionDeserializer.java:355) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\r\n    \tat com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:244) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\r\n    \tat com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:28) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\r\n    \tat com.fasterxml.jackson.databind.deser.impl.MethodProperty.deserializeAndSet(MethodProperty.java:129) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\r\n    \tat com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:314) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\r\n    \tat com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:177) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\r\n    \tat com.fasterxml.jackson.dataformat.xml.deser.XmlDeserializationContext.readRootValue(XmlDeserializationContext.java:91) ~[jackson-dataformat-xml-2.14.0.jar:2.14.0]\r\n\r\nWhy does it says that it cannot deserialize &quot;10&quot;? Is it some Lombok setter or constructor incompatibility?\r\n\r\nIf I remove `&lt;FINSTA03&gt;` sub element, I am able to properly load that `FINSTABean`.","title":"Jackson XML deserialization fails on no String-argument constructor/factory method to deserialize from String","body":"<p>I try to parse XML with Jackson. I have generated java DTO from XSD, so no camel case is used and the naming convention would not make sense there.</p>\n<p>Beans:</p>\n<pre><code>FINSTABean bean = xmlMapper.readValue(file, FINSTABean.class);\n\n@JsonIgnoreProperties(ignoreUnknown = true)\n@Getter @Setter @NoArgsConstructor\npublic class FINSTABean {\n    @JsonProperty(&quot;STA_VER&quot;)\n    String STA_VER;\n    @JsonProperty(&quot;FINSTA03&quot;)\n    List&lt;FINSTA03Bean&gt; FINSTA03BeanList;\n}\n\n\n@JsonIgnoreProperties(ignoreUnknown = true)\n@Getter @Setter @NoArgsConstructor\npublic class FINSTA03Bean {\n    @JsonProperty(&quot;S28_CISLO_VYPISU&quot;)\n    String S28_CISLO_VYPISU;\n    String S25_CISLO_UCTU;\n</code></pre>\n<p>XML:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;windows-1250&quot;?&gt;\n&lt;FINSTA&gt;\n    &lt;STA_VER&gt;01.0000&lt;/STA_VER&gt;\n    &lt;FINSTA03&gt;\n        &lt;S28_CISLO_VYPISU&gt;10&lt;/S28_CISLO_VYPISU&gt;\n</code></pre>\n<p>Error:</p>\n<pre><code>Caused by: com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot construct instance of `com.lelifin.alfa.parsers.csob_xml.FINSTA03Bean` (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value ('10')\n at [Source: (File); line: 5, column: 29] (through reference chain: com.lelifin.alfa.parsers.csob_xml.FINSTABean[&quot;FINSTA03&quot;]-&gt;java.util.ArrayList[0])\n    at com.fasterxml.jackson.databind.exc.MismatchedInputException.from(MismatchedInputException.java:63) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\n    at com.fasterxml.jackson.databind.DeserializationContext.reportInputMismatch(DeserializationContext.java:1728) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\n    at com.fasterxml.jackson.databind.DeserializationContext.handleMissingInstantiator(DeserializationContext.java:1353) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\n    at com.fasterxml.jackson.databind.deser.std.StdDeserializer._deserializeFromString(StdDeserializer.java:311) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\n    at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.deserializeFromString(BeanDeserializerBase.java:1495) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\n    at com.fasterxml.jackson.databind.deser.BeanDeserializer._deserializeOther(BeanDeserializer.java:197) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\n    at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:187) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\n    at com.fasterxml.jackson.databind.deser.std.CollectionDeserializer._deserializeFromArray(CollectionDeserializer.java:355) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\n    at com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:244) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\n    at com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:28) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\n    at com.fasterxml.jackson.databind.deser.impl.MethodProperty.deserializeAndSet(MethodProperty.java:129) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\n    at com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:314) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\n    at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:177) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\n    at com.fasterxml.jackson.dataformat.xml.deser.XmlDeserializationContext.readRootValue(XmlDeserializationContext.java:91) ~[jackson-dataformat-xml-2.14.0.jar:2.14.0]\n</code></pre>\n<p>Why does it says that it cannot deserialize &quot;10&quot;? Is it some Lombok setter or constructor incompatibility?</p>\n<p>If I remove <code>&lt;FINSTA03&gt;</code> sub element, I am able to properly load that <code>FINSTABean</code>.</p>\n"},{"tags":["java","spring","web"],"comments":[{"owner":{"account_id":25121309,"reputation":1105,"user_id":18969611,"display_name":"void void"},"score":0,"creation_date":1668449129,"post_id":74435955,"comment_id":131402621,"body_markdown":"What is &quot;issues when hitting the screen&quot;?","body":"What is &quot;issues when hitting the screen&quot;?"},{"owner":{"account_id":8922233,"reputation":475,"user_id":6658290,"accept_rate":78,"display_name":"Polyphase29"},"score":0,"creation_date":1668449208,"post_id":74435955,"comment_id":131402641,"body_markdown":"Sorry - should have elaborated, it seems the issue is that if I log out and log back in, the &amp; will cut off the second parameter so I will only get myId, not myRequest as well, which will cause an error. So I wanted a way to escape the &quot;&amp;&quot; if possible.","body":"Sorry - should have elaborated, it seems the issue is that if I log out and log back in, the &amp; will cut off the second parameter so I will only get myId, not myRequest as well, which will cause an error. So I wanted a way to escape the &quot;&amp;&quot; if possible."},{"owner":{"account_id":25121309,"reputation":1105,"user_id":18969611,"display_name":"void void"},"score":0,"creation_date":1668449409,"post_id":74435955,"comment_id":131402693,"body_markdown":"I don&#39;t think that problem has anything to do with default url parameter formatting.","body":"I don&#39;t think that problem has anything to do with default url parameter formatting."},{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1668449462,"post_id":74435955,"comment_id":131402709,"body_markdown":"The way to escape the &amp; in an URL is to  use `%26` instead,  otherwise it‘s considered a separator for query-params","body":"The way to escape the &amp; in an URL is to  use <code>%26</code> instead,  otherwise it‘s considered a separator for query-params"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1668449490,"post_id":74435955,"comment_id":131402713,"body_markdown":"Why could you not keep the parameters as-is? That&#39;s a pretty standard approach for these types of values, you&#39;d just have a third parameter: `?type=search&amp;myId=154...&amp;myRequest=&#39;RT&#39;`. If you&#39;re truly wanting to pass data as a query parameter _value_, you&#39;d have to be sure to URL-encode it, via `URLEncoder#encode`.","body":"Why could you not keep the parameters as-is? That&#39;s a pretty standard approach for these types of values, you&#39;d just have a third parameter: <code>?type=search&amp;myId=154...&amp;myRequest=&#39;RT&#39;</code>. If you&#39;re truly wanting to pass data as a query parameter <i>value</i>, you&#39;d have to be sure to URL-encode it, via <code>URLEncoder#encode</code>."},{"owner":{"account_id":8922233,"reputation":475,"user_id":6658290,"accept_rate":78,"display_name":"Polyphase29"},"score":0,"creation_date":1668451610,"post_id":74435955,"comment_id":131403338,"body_markdown":"I think my issue is that I need the URL to look the way it does in the second one above (search=myid=&lt;id&gt;&amp;myRequest=&lt;&gt;). But since I&#39;m trying to assign them all to a search param it is mixing them up? Is there a way I can assign to a hash map the values of search, one key being myId and the other being myRequest?","body":"I think my issue is that I need the URL to look the way it does in the second one above (search=myid=&lt;id&gt;&amp;myRequest=&lt;&gt;). But since I&#39;m trying to assign them all to a search param it is mixing them up? Is there a way I can assign to a hash map the values of search, one key being myId and the other being myRequest?"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1668451738,"post_id":74435955,"comment_id":131403385,"body_markdown":"My point is you could map them the exact same way, putting all of the parameters into a `Map`, by introducing `search` as a third parameter instead (e.g. to determine what method to use). If you go the route of URL encoding the values you&#39;re passing, then you&#39;ll end up with a single `String` of that data, which you&#39;ll need to URL decode, parse yourself, and _then_ put in a Map.","body":"My point is you could map them the exact same way, putting all of the parameters into a <code>Map</code>, by introducing <code>search</code> as a third parameter instead (e.g. to determine what method to use). If you go the route of URL encoding the values you&#39;re passing, then you&#39;ll end up with a single <code>String</code> of that data, which you&#39;ll need to URL decode, parse yourself, and <i>then</i> put in a Map."}],"owner":{"account_id":8922233,"reputation":475,"user_id":6658290,"accept_rate":78,"display_name":"Polyphase29"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668448704,"creation_date":1668448704,"question_id":74435955,"body_markdown":"I&#39;m a bit new to Spring and trying to replace my parameters to pass as key:value pairs and also replace an ampersand with a literal &quot;and&quot; to avoid issues when hitting the screen. Example:\r\n\r\nI want to go from: `mySite/myPage.html?myId=154933680&amp;myRequest=&#39;QT&#39;`\r\n\r\nto have a separate method/entrypoint that will work like this:\r\n`myPage?search=myId=154735535 and myRequest=&quot;RT&quot;`\r\n\r\nNow, my current header looks like this: \r\n\r\n    @RequestMapping(value = &quot;myPage.html&quot;, method = RequestMethod.GET) public ModelAndView getSite(HttpServletRequest request, @RequestParam String myId, @RequestParam String myRequest)\r\n\r\nI&#39;m trying to do something like this instead, but its not working:\r\n\r\n      @RequestMapping(value = &quot;myPage?search=&quot;, method = RequestMethod.GET) public ModelAndView mySearch(HttpServletRequest request, @RequestParam String myId, @RequestParam String myRequest) {\r\n\r\n\r\nBut I would like to pass in them as key:value params rather than straight Strings as well. I&#39;m a little all over the place here, I guess my main question would be with what I have above, how do I swap my URL to not string the parameters together with a &quot;&amp;&quot; but to use &quot;and&quot; instead? ","title":"Replace ampersand in URL with &quot;and&quot;","body":"<p>I'm a bit new to Spring and trying to replace my parameters to pass as key:value pairs and also replace an ampersand with a literal &quot;and&quot; to avoid issues when hitting the screen. Example:</p>\n<p>I want to go from: <code>mySite/myPage.html?myId=154933680&amp;myRequest='QT'</code></p>\n<p>to have a separate method/entrypoint that will work like this:\n<code>myPage?search=myId=154735535 and myRequest=&quot;RT&quot;</code></p>\n<p>Now, my current header looks like this:</p>\n<pre><code>@RequestMapping(value = &quot;myPage.html&quot;, method = RequestMethod.GET) public ModelAndView getSite(HttpServletRequest request, @RequestParam String myId, @RequestParam String myRequest)\n</code></pre>\n<p>I'm trying to do something like this instead, but its not working:</p>\n<pre><code>  @RequestMapping(value = &quot;myPage?search=&quot;, method = RequestMethod.GET) public ModelAndView mySearch(HttpServletRequest request, @RequestParam String myId, @RequestParam String myRequest) {\n</code></pre>\n<p>But I would like to pass in them as key:value params rather than straight Strings as well. I'm a little all over the place here, I guess my main question would be with what I have above, how do I swap my URL to not string the parameters together with a &quot;&amp;&quot; but to use &quot;and&quot; instead?</p>\n"},{"tags":["java","junit","mockito"],"answers":[{"comments":[{"owner":{"account_id":1600176,"reputation":870,"user_id":1481358,"accept_rate":75,"display_name":"ChaoSXDemon"},"score":0,"creation_date":1653965867,"post_id":72441455,"comment_id":127973119,"body_markdown":"Tried doing that but same result. It still runs the original method `getInstance()` :(","body":"Tried doing that but same result. It still runs the original method <code>getInstance()</code> :("}],"tags":[],"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653961546,"creation_date":1653961546,"answer_id":72441455,"question_id":72441316,"body_markdown":"You&#39;re using the wrong syntax for stubbing the static method.  You want something like\r\n\r\n    mySomeClass.when(\r\n        ()-&gt;SomeClass.getInstance(any(), anyString()))\r\n        .thenReturn(mMockedObjectInQuestion);\r\n\r\nMore information [available here](https://www.baeldung.com/mockito-mock-static-methods)","title":"Java MockedStatic method is still called","body":"<p>You're using the wrong syntax for stubbing the static method.  You want something like</p>\n<pre><code>mySomeClass.when(\n    ()-&gt;SomeClass.getInstance(any(), anyString()))\n    .thenReturn(mMockedObjectInQuestion);\n</code></pre>\n<p>More information <a href=\"https://www.baeldung.com/mockito-mock-static-methods\" rel=\"nofollow noreferrer\">available here</a></p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1668664255,"post_id":74435946,"comment_id":131461827,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/74435946/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":23006432,"reputation":1,"user_id":17129638,"display_name":"Vasile Paraschiv"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668448663,"creation_date":1668448663,"answer_id":74435946,"question_id":72441316,"body_markdown":"Assuming `MockedStatic&lt;SomeClass&gt; mySomeClass;` is actually `MockedStatic&lt;ObjectInQuestion&gt; mySomeClass;`, I would try to simplify the setup using a classic `try` block.\r\n\r\nIn any case, sharing the actual test method might be able to shine some light. ;)","title":"Java MockedStatic method is still called","body":"<p>Assuming <code>MockedStatic&lt;SomeClass&gt; mySomeClass;</code> is actually <code>MockedStatic&lt;ObjectInQuestion&gt; mySomeClass;</code>, I would try to simplify the setup using a classic <code>try</code> block.</p>\n<p>In any case, sharing the actual test method might be able to shine some light. ;)</p>\n"}],"owner":{"account_id":1600176,"reputation":870,"user_id":1481358,"accept_rate":75,"display_name":"ChaoSXDemon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":275,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1668448663,"creation_date":1653959809,"question_id":72441316,"body_markdown":"So I&#39;m using `MockedStatic&lt;&gt;` to mock a static method but it seems like the item inside is still getting called? If this is the case, what&#39;s the point of mocking it? I have the following setup:\r\n\r\nObject being tested:\r\n```\r\npublic class ObjectBeingTested {\r\n  public void methodBeingTested() {\r\n    Object obj = ObjectInQuestion.getInstance(new Object(), &quot;abc&quot;);\r\n    // do stuff with obj\r\n  }\r\n}\r\n```\r\n\r\nThe object with static method:\r\n```\r\npublic class ObjectInQuestion {\r\n  public static ObjectInQuestion getInstance(Object obj, String blah) {\r\n     someLocalVar = new FileRequiredObject();\r\n     // we get NullPointerException here cuz in test env, no files found\r\n  }\r\n  \r\n  private ObjectInQuestion() {\r\n    // private constructor to make people use getInstance\r\n  }\r\n  \r\n}\r\n```\r\n\r\nTest code:\r\n```\r\npublic class MyTestClass {\r\n\r\n  MockedStatic&lt;SomeClass&gt; mySomeClass;\r\n\r\n  @Mock ObjectInQuestion mMockedObjectInQuestion;\r\n\r\n  @Before\r\n  public void setup() {\r\n    MockitoAnnotations.initMocks(this);\r\n\r\n    mySomeClass = mockStatic(SomeClass.class);\r\n    when(SomeClass.getInstance(any(), anyString()).thenReturn(mMockedObjectInQuestion);\r\n  }\r\n\r\n  @After\r\n  public void tearDown() {\r\n    mySomeClass.close();\r\n  }\r\n\r\n}\r\n```\r\n\r\nMy questions are the following:\r\n1. Why calling `ObjectInQuestion.getInstance()` in the test class, it&#39;s totally fine but when it&#39;s being called from `ObjectBeingTested`, it runs the real construction? \r\n2. I tried to use `mockConstruction` on `FileRequiredObject`, it still actually construct the object ... why? ","title":"Java MockedStatic method is still called","body":"<p>So I'm using <code>MockedStatic&lt;&gt;</code> to mock a static method but it seems like the item inside is still getting called? If this is the case, what's the point of mocking it? I have the following setup:</p>\n<p>Object being tested:</p>\n<pre><code>public class ObjectBeingTested {\n  public void methodBeingTested() {\n    Object obj = ObjectInQuestion.getInstance(new Object(), &quot;abc&quot;);\n    // do stuff with obj\n  }\n}\n</code></pre>\n<p>The object with static method:</p>\n<pre><code>public class ObjectInQuestion {\n  public static ObjectInQuestion getInstance(Object obj, String blah) {\n     someLocalVar = new FileRequiredObject();\n     // we get NullPointerException here cuz in test env, no files found\n  }\n  \n  private ObjectInQuestion() {\n    // private constructor to make people use getInstance\n  }\n  \n}\n</code></pre>\n<p>Test code:</p>\n<pre><code>public class MyTestClass {\n\n  MockedStatic&lt;SomeClass&gt; mySomeClass;\n\n  @Mock ObjectInQuestion mMockedObjectInQuestion;\n\n  @Before\n  public void setup() {\n    MockitoAnnotations.initMocks(this);\n\n    mySomeClass = mockStatic(SomeClass.class);\n    when(SomeClass.getInstance(any(), anyString()).thenReturn(mMockedObjectInQuestion);\n  }\n\n  @After\n  public void tearDown() {\n    mySomeClass.close();\n  }\n\n}\n</code></pre>\n<p>My questions are the following:</p>\n<ol>\n<li>Why calling <code>ObjectInQuestion.getInstance()</code> in the test class, it's totally fine but when it's being called from <code>ObjectBeingTested</code>, it runs the real construction?</li>\n<li>I tried to use <code>mockConstruction</code> on <code>FileRequiredObject</code>, it still actually construct the object ... why?</li>\n</ol>\n"},{"tags":["java","postgresql","amazon-web-services","jdbc","database-connection"],"comments":[{"owner":{"account_id":5154639,"reputation":803,"user_id":4128181,"display_name":"Vicctor"},"score":0,"creation_date":1668356298,"post_id":74422557,"comment_id":131380025,"body_markdown":"Looks like  url = &quot;jdbc:postgresql://###remoteHost&quot;; - should simply point to localhost not remoteHost - jdbc:postgresql://localhost:8080/ulp?ssl=true","body":"Looks like  url = &quot;jdbc:postgresql://###remoteHost&quot;; - should simply point to localhost not remoteHost - jdbc:postgresql://localhost:8080/ulp?ssl=true"},{"owner":{"account_id":26918921,"reputation":1,"user_id":20493285,"display_name":"Nerdy"},"score":0,"creation_date":1668357344,"post_id":74422557,"comment_id":131380283,"body_markdown":"Thank you so much!! It worked!! localhost was the change to be made....","body":"Thank you so much!! It worked!! localhost was the change to be made...."}],"answers":[{"tags":[],"owner":{"account_id":26918921,"reputation":1,"user_id":20493285,"display_name":"Nerdy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668448651,"creation_date":1668448651,"answer_id":74435944,"question_id":74422557,"body_markdown":"Looks like url = &quot;jdbc:postgresql://###remoteHost&quot;; - should simply point to localhost not remoteHost - jdbc:postgresql://localhost:8080/ulp?ssl=true – \r\nVicctor\r\nThis worked for me ......\r\n","title":"Connect to aws remote Postgres from Java jdbc with ssh tunnel, Facing connection timeout, while JsCH session.connect() ran successful","body":"<p>Looks like url = &quot;jdbc:postgresql://###remoteHost&quot;; - should simply point to localhost not remoteHost - jdbc:postgresql://localhost:8080/ulp?ssl=true –\nVicctor\nThis worked for me ......</p>\n"}],"owner":{"account_id":26918921,"reputation":1,"user_id":20493285,"display_name":"Nerdy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":445,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668448651,"creation_date":1668355428,"question_id":74422557,"body_markdown":"`Hi Guys,\r\n\r\nI am facing Connection Timeout at DriverManager.getConnection() while connecting to aws remote postgresql database. It involves SSH too, i am facing issue while connecting through java, as DBeaver is able to connect successfully.\r\n\r\n\r\nTried below code while expecting connection successful.\r\n\r\n```\r\nString url = &quot;jdbc:postgresql://###remoteHost&quot;;\r\n\t\tString userName = &quot;userName&quot;;\r\n\t\tString password = &quot;pwd&quot;;\r\n\t\tProperties props = new Properties();\r\n\t\tprops.put(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\n      \r\n\t\t\r\n\t\tConnection conn = null;\r\n        try {\r\n        \tString jumpserverHost = &quot;sshHost&quot;;\r\n        \tString jumpserverUsername = &quot;sshUsername&quot;;\r\n        \tJSch jsch = new JSch();\r\n        \tjsch.addIdentity(&quot;FileContainingKey&quot;);\r\n        \t\r\n\r\n        \tSession session = jsch.getSession(jumpserverUsername, jumpserverHost, 22);\r\n        \tsession.setConfig(props);\r\n        \tsession.connect();\r\n\r\n        \t// Forward randomly chosen local port through the SSH channel to database host/port\r\n        \tint forwardedPort = session.setPortForwardingL(8080, &quot;remoteHost&quot;, 5432);\r\n        \tSystem.out.println(forwardedPort);// 8080 \r\n        \tClass.forName(&quot;org.postgresql.Driver&quot;);\r\n        \tconn = DriverManager.getConnection(url+&quot;:&quot;+forwardedPort+&quot;/ulp?ssl=true&quot;, userName, password);\r\n            \r\n            System.out.println(&quot;Connected to the PostgreSQL server successfully.&quot;);\r\n            conn.setAutoCommit(false);\r\n        } catch (Exception e) {\r\n          }\r\n```\r\n  \r\nBut getting connection timeout error as below:-\r\n\r\n```\r\norg.postgresql.util.PSQLException: The connection attempt failed.\r\n\tat org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:315)\r\n\tat org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:51)\r\n\tat org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:225)\r\n\tat org.postgresql.Driver.makeConnection(Driver.java:465)\r\n\tat org.postgresql.Driver.connect(Driver.java:264)\r\n\tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)\r\n\tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)\r\n\tat application.DBTesting.connectionSetup(DBTesting.java:193)\r\n\tat util.MainFrameClass.main(MainFrameClass.java:25)\r\nCaused by: java.net.SocketTimeoutException: Connect timed out\r\n\tat java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:546)\r\n\tat java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)\r\n\tat java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:333)\r\n\tat java.base/java.net.Socket.connect(Socket.java:645)\r\n\tat org.postgresql.core.PGStream.createSocket(PGStream.java:231)\r\n\tat org.postgresql.core.PGStream.&lt;init&gt;(PGStream.java:95)\r\n\tat org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:98)\r\n\tat org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:213)\r\n\t... 8 more\r\n```\r\n`","title":"Connect to aws remote Postgres from Java jdbc with ssh tunnel, Facing connection timeout, while JsCH session.connect() ran successful","body":"<p>`Hi Guys,</p>\n<p>I am facing Connection Timeout at DriverManager.getConnection() while connecting to aws remote postgresql database. It involves SSH too, i am facing issue while connecting through java, as DBeaver is able to connect successfully.</p>\n<p>Tried below code while expecting connection successful.</p>\n<pre><code>String url = &quot;jdbc:postgresql://###remoteHost&quot;;\n        String userName = &quot;userName&quot;;\n        String password = &quot;pwd&quot;;\n        Properties props = new Properties();\n        props.put(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\n      \n        \n        Connection conn = null;\n        try {\n            String jumpserverHost = &quot;sshHost&quot;;\n            String jumpserverUsername = &quot;sshUsername&quot;;\n            JSch jsch = new JSch();\n            jsch.addIdentity(&quot;FileContainingKey&quot;);\n            \n\n            Session session = jsch.getSession(jumpserverUsername, jumpserverHost, 22);\n            session.setConfig(props);\n            session.connect();\n\n            // Forward randomly chosen local port through the SSH channel to database host/port\n            int forwardedPort = session.setPortForwardingL(8080, &quot;remoteHost&quot;, 5432);\n            System.out.println(forwardedPort);// 8080 \n            Class.forName(&quot;org.postgresql.Driver&quot;);\n            conn = DriverManager.getConnection(url+&quot;:&quot;+forwardedPort+&quot;/ulp?ssl=true&quot;, userName, password);\n            \n            System.out.println(&quot;Connected to the PostgreSQL server successfully.&quot;);\n            conn.setAutoCommit(false);\n        } catch (Exception e) {\n          }\n</code></pre>\n<p>But getting connection timeout error as below:-</p>\n<pre><code>org.postgresql.util.PSQLException: The connection attempt failed.\n    at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:315)\n    at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:51)\n    at org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:225)\n    at org.postgresql.Driver.makeConnection(Driver.java:465)\n    at org.postgresql.Driver.connect(Driver.java:264)\n    at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)\n    at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)\n    at application.DBTesting.connectionSetup(DBTesting.java:193)\n    at util.MainFrameClass.main(MainFrameClass.java:25)\nCaused by: java.net.SocketTimeoutException: Connect timed out\n    at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:546)\n    at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)\n    at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:333)\n    at java.base/java.net.Socket.connect(Socket.java:645)\n    at org.postgresql.core.PGStream.createSocket(PGStream.java:231)\n    at org.postgresql.core.PGStream.&lt;init&gt;(PGStream.java:95)\n    at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:98)\n    at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:213)\n    ... 8 more\n</code></pre>\n<p>`</p>\n"},{"tags":["java","android","kotlin","image-processing","colors"],"comments":[{"owner":{"display_name":"user684934"},"score":7,"creation_date":1347546135,"post_id":12408431,"comment_id":16676001,"body_markdown":"Sounds pretty straightforward... what have you tried?","body":"Sounds pretty straightforward... what have you tried?"},{"owner":{"account_id":123953,"reputation":16498,"user_id":318749,"accept_rate":82,"display_name":"Randy"},"score":1,"creation_date":1347546160,"post_id":12408431,"comment_id":16676018,"body_markdown":"loop on all the colors - and store the average... not too bad","body":"loop on all the colors - and store the average... not too bad"},{"owner":{"account_id":346793,"reputation":6021,"user_id":680519,"accept_rate":75,"display_name":"harism"},"score":0,"creation_date":1347546170,"post_id":12408431,"comment_id":16676024,"body_markdown":"Unless you&#39;re into taking the NDK or RenderScript route, out of which latter made this task rather easy and fast, ``Bitmap.getPixel`` and ``Bitmap.getPixels`` are your friends.","body":"Unless you&#39;re into taking the NDK or RenderScript route, out of which latter made this task rather easy and fast, <code>Bitmap.getPixel</code> and <code>Bitmap.getPixels</code> are your friends."},{"owner":{"account_id":246829,"reputation":21647,"user_id":521180,"accept_rate":56,"display_name":"124697"},"score":0,"creation_date":1347546301,"post_id":12408431,"comment_id":16676117,"body_markdown":"@bdares I don&#39;t know where to start. do i need some image processing library or can I do it in android platform straight away?","body":"@bdares I don&#39;t know where to start. do i need some image processing library or can I do it in android platform straight away?"},{"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"score":0,"creation_date":1347547471,"post_id":12408431,"comment_id":16676806,"body_markdown":"@randy : only problem with it is to use a smart average method, as on big image sum(pixels value) may exceed MAX_INT","body":"@randy : only problem with it is to use a smart average method, as on big image sum(pixels value) may exceed MAX_INT"},{"owner":{"account_id":178361,"reputation":1833,"user_id":410293,"accept_rate":50,"display_name":"Rafael Sanches"},"score":0,"creation_date":1380455395,"post_id":12408431,"comment_id":28200631,"body_markdown":"Read this: http://stackoverflow.com/questions/5823854/how-can-i-generate-a-palette-of-prominent-colors-from-an-image","body":"Read this: <a href=\"http://stackoverflow.com/questions/5823854/how-can-i-generate-a-palette-of-prominent-colors-from-an-image\" title=\"how can i generate a palette of prominent colors from an image\">stackoverflow.com/questions/5823854/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1611764,"reputation":3327,"user_id":1490482,"accept_rate":75,"display_name":"Tobias Ritzau"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1347546496,"creation_date":1347546496,"answer_id":12408592,"question_id":12408431,"body_markdown":"Use the `Bitmap.getPixels()` method to get the color values. Then to calculate the average you have to decide what you mean by that. In a grayscale image it is simple, but with colors there are no such thing as an average. You can separate into components (for example RGBA), and take the average of each component. An alternative is to search for the most commonly used color, and there are several other options I&#39;m sure. Play with it :) ","title":"How can I get the average color of an image?","body":"<p>Use the <code>Bitmap.getPixels()</code> method to get the color values. Then to calculate the average you have to decide what you mean by that. In a grayscale image it is simple, but with colors there are no such thing as an average. You can separate into components (for example RGBA), and take the average of each component. An alternative is to search for the most commonly used color, and there are several other options I'm sure. Play with it :) </p>\n"},{"comments":[{"owner":{"account_id":1646908,"reputation":211,"user_id":1518287,"accept_rate":57,"display_name":"Islam Mustafa"},"score":3,"creation_date":1429106651,"post_id":12408605,"comment_id":47444581,"body_markdown":"The second solution get the most common color not the average.","body":"The second solution get the most common color not the average."},{"owner":{"account_id":8732760,"reputation":144,"user_id":6532268,"accept_rate":60,"display_name":"Arjun"},"score":0,"creation_date":1495300725,"post_id":12408605,"comment_id":75199277,"body_markdown":"I was just thinking about second scaling method because other are not working fast!!","body":"I was just thinking about second scaling method because other are not working fast!!"},{"owner":{"account_id":4393361,"reputation":2351,"user_id":3581148,"accept_rate":65,"display_name":"Usman"},"score":1,"creation_date":1504266077,"post_id":12408605,"comment_id":78959033,"body_markdown":"I have found that the second solution of 1x1 px gives 100% accurate results. Even more accurate than the Palette library.","body":"I have found that the second solution of 1x1 px gives 100% accurate results. Even more accurate than the Palette library."}],"tags":[],"owner":{"account_id":1387004,"reputation":6562,"user_id":1318795,"accept_rate":81,"display_name":"Stephane Mathis"},"comment_count":3,"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1658829215,"creation_date":1347546547,"answer_id":12408605,"question_id":12408431,"body_markdown":"I think you will have to do that yourself.\r\n\r\nJust create an int array with all the colors:\r\n\r\n    Bitmap bmp = BitmapFactory.decodeResource(getResources(), R.drawable.icon);  \r\n    bmp = bmp.copy(Bitmap.Config.ARGB_8888, true);    \r\n    int intArray[] = new int[bmp.getWidth()*bmp.getHeight()];  \r\n    bmp.getPixels(intArray, 0, bmp.getWidth(), 0, 0, bmp.getWidth(), bmp.getHeight());\r\n\r\nThen you can get the color with intArray[0], the value could be 0xFFFF0000 for red (last 6 numbers are the RGB color value).\r\n  \r\nHere is another easy solution:\r\n\r\n - Get you full-size image in a bitmap.\r\n   \r\n - Create a scaled bitmap of 1*1px.\r\n   \r\n - Get this bitmap color.\r\n\r\n","title":"How can I get the average color of an image?","body":"<p>I think you will have to do that yourself.</p>\n<p>Just create an int array with all the colors:</p>\n<pre><code>Bitmap bmp = BitmapFactory.decodeResource(getResources(), R.drawable.icon);  \nbmp = bmp.copy(Bitmap.Config.ARGB_8888, true);    \nint intArray[] = new int[bmp.getWidth()*bmp.getHeight()];  \nbmp.getPixels(intArray, 0, bmp.getWidth(), 0, 0, bmp.getWidth(), bmp.getHeight());\n</code></pre>\n<p>Then you can get the color with intArray[0], the value could be 0xFFFF0000 for red (last 6 numbers are the RGB color value).</p>\n<p>Here is another easy solution:</p>\n<ul>\n<li><p>Get you full-size image in a bitmap.</p>\n</li>\n<li><p>Create a scaled bitmap of 1*1px.</p>\n</li>\n<li><p>Get this bitmap color.</p>\n</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":355304,"reputation":20155,"user_id":694184,"accept_rate":88,"display_name":"slayton"},"score":6,"creation_date":1347548061,"post_id":12408627,"comment_id":16677185,"body_markdown":"Getting each pixel individually with `getPixel` inside your loop is wasteful and slow. You should get all of the pixels with a single call to `getPixels` before the for loops.","body":"Getting each pixel individually with <code>getPixel</code> inside your loop is wasteful and slow. You should get all of the pixels with a single call to <code>getPixels</code> before the for loops."},{"owner":{"account_id":318443,"reputation":6040,"user_id":635678,"accept_rate":70,"display_name":"Dan O"},"score":2,"creation_date":1347548343,"post_id":12408627,"comment_id":16677334,"body_markdown":"Slow?  probably, yes.  Wasteful?  Maybe, depends on the size of the bitmap and how much memory is available (I believe `getPixels()` creates a copy of the bitmap data).","body":"Slow?  probably, yes.  Wasteful?  Maybe, depends on the size of the bitmap and how much memory is available (I believe <code>getPixels()</code> creates a copy of the bitmap data)."},{"owner":{"account_id":6626596,"reputation":1009,"user_id":5116614,"accept_rate":70,"display_name":"Stardust"},"score":3,"creation_date":1498067704,"post_id":12408627,"comment_id":76350230,"body_markdown":"`Color c = bitmap.getPixel()` should be `int c = bitmap.getPixel()` because `getPixel()` returns an int, not a Color","body":"<code>Color c = bitmap.getPixel()</code> should be <code>int c = bitmap.getPixel()</code> because <code>getPixel()</code> returns an int, not a Color"},{"owner":{"account_id":5421347,"reputation":409,"user_id":4314872,"accept_rate":75,"display_name":"Zack Matthews"},"score":0,"creation_date":1499263710,"post_id":12408627,"comment_id":76832582,"body_markdown":"@Stardust is correct. This function will not return a Color object, but an int. Otherwise this works pretty well. To improve the speed on larger images try scaling the bitmap down. CIF (352x240) works pretty well for me.","body":"@Stardust is correct. This function will not return a Color object, but an int. Otherwise this works pretty well. To improve the speed on larger images try scaling the bitmap down. CIF (352x240) works pretty well for me."},{"owner":{"account_id":2012138,"reputation":1420,"user_id":1800333,"accept_rate":71,"display_name":"Sujith S Manjavana"},"score":0,"creation_date":1574361128,"post_id":12408627,"comment_id":104215820,"body_markdown":"Color.rgb(redBucket / pixelCount,\n                                greenBucket / pixelCount,\n                                blueBucket / pixelCount);  call requires api 26","body":"Color.rgb(redBucket / pixelCount,                                 greenBucket / pixelCount,                                 blueBucket / pixelCount);  call requires api 26"},{"owner":{"account_id":26678646,"reputation":135,"user_id":20288923,"display_name":"Mahan"},"score":0,"creation_date":1691157177,"post_id":12408627,"comment_id":135457872,"body_markdown":"Why not using ScanLine for fast result?","body":"Why not using ScanLine for fast result?"},{"owner":{"account_id":8835635,"reputation":1014,"user_id":6600056,"display_name":"Rob "},"score":0,"creation_date":1691399186,"post_id":12408627,"comment_id":135481028,"body_markdown":"pixelCount = bitmap.getHeight() * bitmap.getWidth() -  there is no reason to increment variable pixelCount every time","body":"pixelCount = bitmap.getHeight() * bitmap.getWidth() -  there is no reason to increment variable pixelCount every time"}],"tags":[],"owner":{"account_id":318443,"reputation":6040,"user_id":635678,"accept_rate":70,"display_name":"Dan O"},"comment_count":7,"down_vote_count":2,"up_vote_count":56,"is_accepted":true,"score":54,"last_activity_date":1347546606,"creation_date":1347546606,"answer_id":12408627,"question_id":12408431,"body_markdown":"    Bitmap bitmap = someFunctionReturningABitmap();\r\n    long redBucket = 0;\r\n    long greenBucket = 0;\r\n    long blueBucket = 0;\r\n    long pixelCount = 0;\r\n    \r\n    for (int y = 0; y &lt; bitmap.getHeight(); y++)\r\n    {\r\n        for (int x = 0; x &lt; bitmap.getWidth(); x++)\r\n        {\r\n            Color c = bitmap.getPixel(x, y);\r\n            \r\n            pixelCount++;\r\n            redBucket += Color.red(c);\r\n            greenBucket += Color.green(c);\r\n            blueBucket += Color.blue(c);\r\n            // does alpha matter?\r\n        }\r\n    }\r\n    \r\n    Color averageColor = Color.rgb(redBucket / pixelCount,\r\n                                    greenBucket / pixelCount,\r\n                                    blueBucket / pixelCount);","title":"How can I get the average color of an image?","body":"<pre><code>Bitmap bitmap = someFunctionReturningABitmap();\nlong redBucket = 0;\nlong greenBucket = 0;\nlong blueBucket = 0;\nlong pixelCount = 0;\n\nfor (int y = 0; y &lt; bitmap.getHeight(); y++)\n{\n    for (int x = 0; x &lt; bitmap.getWidth(); x++)\n    {\n        Color c = bitmap.getPixel(x, y);\n\n        pixelCount++;\n        redBucket += Color.red(c);\n        greenBucket += Color.green(c);\n        blueBucket += Color.blue(c);\n        // does alpha matter?\n    }\n}\n\nColor averageColor = Color.rgb(redBucket / pixelCount,\n                                greenBucket / pixelCount,\n                                blueBucket / pixelCount);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4181181,"reputation":1746,"user_id":3426166,"display_name":"Gumbo"},"score":2,"creation_date":1408126038,"post_id":25071613,"comment_id":39491208,"body_markdown":"funny that you calculate the number of pixels in an 8 _megapixel_ image wich has as the name states 8 million pixels. But thanks for the solution.","body":"funny that you calculate the number of pixels in an 8 <i>megapixel</i> image wich has as the name states 8 million pixels. But thanks for the solution."},{"owner":{"account_id":117315,"reputation":3877,"user_id":307295,"display_name":"mvmn"},"score":4,"creation_date":1475666927,"post_id":25071613,"comment_id":67032087,"body_markdown":"8 megapixel is not precise, 7,962,624 pixels is precise.","body":"8 megapixel is not precise, 7,962,624 pixels is precise."}],"tags":[],"owner":{"account_id":49924,"reputation":6997,"user_id":148824,"accept_rate":80,"display_name":"Tom"},"comment_count":2,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1406857306,"creation_date":1406857306,"answer_id":25071613,"question_id":12408431,"body_markdown":"Building off Dan O&#39;s solution, here&#39;s a method that automatically takes into account the alpha channel and makes the optimization/ tradeoff of `getPixels` vs `getPixel`.\r\n\r\nThe cost is memory but the benefit is performance, invocation of a virtual method in a loop that could possibly be run several million times [i.e. an 8MP image has 3,456x2,304 = 7,962,624 pixels]). I&#39;ve even taken things one step further by removing the looped `android.graphics.Color` method calls.\r\n\r\n    public static int getDominantColor(Bitmap bitmap) {\r\n       if (null == bitmap) return Color.TRANSPARENT;\r\n\r\n       int redBucket = 0;\r\n       int greenBucket = 0;\r\n       int blueBucket = 0;\r\n       int alphaBucket = 0;\r\n\r\n       boolean hasAlpha = bitmap.hasAlpha();\r\n       int pixelCount = bitmap.getWidth() * bitmap.getHeight();\r\n       int[] pixels = new int[pixelCount];\r\n       bitmap.getPixels(pixels, 0, bitmap.getWidth(), 0, 0, bitmap.getWidth(), bitmap.getHeight());\r\n\r\n       for (int y = 0, h = bitmap.getHeight(); y &lt; h; y++)\r\n       {\r\n           for (int x = 0, w = bitmap.getWidth(); x &lt; w; x++)\r\n           {\r\n               int color = pixels[x + y * w]; // x + y * width\r\n               redBucket += (color &gt;&gt; 16) &amp; 0xFF; // Color.red\r\n               greenBucket += (color &gt;&gt; 8) &amp; 0xFF; // Color.greed\r\n               blueBucket += (color &amp; 0xFF); // Color.blue\r\n               if (hasAlpha) alphaBucket += (color &gt;&gt;&gt; 24); // Color.alpha\r\n           }\r\n       }\r\n\r\n       return Color.argb(\r\n               (hasAlpha) ? (alphaBucket / pixelCount) : 255,\r\n               redBucket / pixelCount,\r\n               greenBucket / pixelCount,\r\n               blueBucket / pixelCount);\r\n    }","title":"How can I get the average color of an image?","body":"<p>Building off Dan O's solution, here's a method that automatically takes into account the alpha channel and makes the optimization/ tradeoff of <code>getPixels</code> vs <code>getPixel</code>.</p>\n\n<p>The cost is memory but the benefit is performance, invocation of a virtual method in a loop that could possibly be run several million times [i.e. an 8MP image has 3,456x2,304 = 7,962,624 pixels]). I've even taken things one step further by removing the looped <code>android.graphics.Color</code> method calls.</p>\n\n<pre><code>public static int getDominantColor(Bitmap bitmap) {\n   if (null == bitmap) return Color.TRANSPARENT;\n\n   int redBucket = 0;\n   int greenBucket = 0;\n   int blueBucket = 0;\n   int alphaBucket = 0;\n\n   boolean hasAlpha = bitmap.hasAlpha();\n   int pixelCount = bitmap.getWidth() * bitmap.getHeight();\n   int[] pixels = new int[pixelCount];\n   bitmap.getPixels(pixels, 0, bitmap.getWidth(), 0, 0, bitmap.getWidth(), bitmap.getHeight());\n\n   for (int y = 0, h = bitmap.getHeight(); y &lt; h; y++)\n   {\n       for (int x = 0, w = bitmap.getWidth(); x &lt; w; x++)\n       {\n           int color = pixels[x + y * w]; // x + y * width\n           redBucket += (color &gt;&gt; 16) &amp; 0xFF; // Color.red\n           greenBucket += (color &gt;&gt; 8) &amp; 0xFF; // Color.greed\n           blueBucket += (color &amp; 0xFF); // Color.blue\n           if (hasAlpha) alphaBucket += (color &gt;&gt;&gt; 24); // Color.alpha\n       }\n   }\n\n   return Color.argb(\n           (hasAlpha) ? (alphaBucket / pixelCount) : 255,\n           redBucket / pixelCount,\n           greenBucket / pixelCount,\n           blueBucket / pixelCount);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":272685,"reputation":12778,"user_id":563904,"accept_rate":100,"display_name":"Entreco"},"score":0,"creation_date":1546893531,"post_id":27292488,"comment_id":94996322,"body_markdown":"Hmmm, very recent yes ;) Just a friendly reminder this class is also available in androidx. https://developer.android.com/reference/androidx/palette/graphics/Palette","body":"Hmmm, very recent yes ;) Just a friendly reminder this class is also available in androidx. <a href=\"https://developer.android.com/reference/androidx/palette/graphics/Palette\" rel=\"nofollow noreferrer\">developer.android.com/reference/androidx/palette/graphics/&hellip;</a>"}],"tags":[],"owner":{"account_id":424466,"reputation":2499,"user_id":804479,"accept_rate":50,"display_name":"aleb"},"comment_count":1,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1547066023,"creation_date":1417691325,"answer_id":27292488,"question_id":12408431,"body_markdown":"You can use `Palete` class from [AndroidX][1], or from the the [v7-support library][2].\r\n\r\nIt provides additional methods to extract colours from a Bitmap, such as getting:\r\n\r\n- Most Dominant color\r\n- Vibrant colors\r\n- Muted color\r\n- much more\r\n\r\n\r\n  [1]: https://developer.android.com/reference/androidx/palette/graphics/Palette\r\n  [2]: https://developer.android.com/tools/support-library/features.html#v7-palette","title":"How can I get the average color of an image?","body":"<p>You can use <code>Palete</code> class from <a href=\"https://developer.android.com/reference/androidx/palette/graphics/Palette\" rel=\"noreferrer\">AndroidX</a>, or from the the <a href=\"https://developer.android.com/tools/support-library/features.html#v7-palette\" rel=\"noreferrer\">v7-support library</a>.</p>\n\n<p>It provides additional methods to extract colours from a Bitmap, such as getting:</p>\n\n<ul>\n<li>Most Dominant color</li>\n<li>Vibrant colors</li>\n<li>Muted color</li>\n<li>much more</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":960901,"reputation":479,"user_id":985273,"display_name":"NathofGod"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1422789472,"creation_date":1422789472,"answer_id":28262090,"question_id":12408431,"body_markdown":"There is also a library that can do this for you.\r\n\r\nhttp://www.michaelevans.org/blog/2013/12/12/colorart-a-library-to-do-itunes-11-style-color-matching-for-android/\r\n","title":"How can I get the average color of an image?","body":"<p>There is also a library that can do this for you.</p>\n\n<p><a href=\"http://www.michaelevans.org/blog/2013/12/12/colorart-a-library-to-do-itunes-11-style-color-matching-for-android/\" rel=\"nofollow\">http://www.michaelevans.org/blog/2013/12/12/colorart-a-library-to-do-itunes-11-style-color-matching-for-android/</a></p>\n"},{"tags":[],"owner":{"account_id":5378624,"reputation":8469,"user_id":4284627,"accept_rate":81,"display_name":"Donald Duck"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1658998738,"creation_date":1658998738,"answer_id":73149995,"question_id":12408431,"body_markdown":"Expanding on the second idea from [Stephane Mathis&#39; answer][1], you can resize the image to 1x1 and get the color of that image:\r\n\r\n```java\r\nBitmap originalBitmap = /*your original image*/;\r\nBitmap scaledBitmap = Bitmap.createScaledBitmap(originalBitmap, 1, 1, false);    //Resize the bitmap to 1x1\r\n@ColorInt int averageColor = scaledBitmap.getPixel(0, 0);    //Get the color of the only pixel of the 1x1 bitmap\r\n```\r\n\r\nIf your original image is not a `Bitmap` object, you can convert it to a `Bitmap` using one of the methods described [here][2].\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/12408605/4284627\r\n  [2]: https://stackoverflow.com/a/48576175/4284627","title":"How can I get the average color of an image?","body":"<p>Expanding on the second idea from <a href=\"https://stackoverflow.com/a/12408605/4284627\">Stephane Mathis' answer</a>, you can resize the image to 1x1 and get the color of that image:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Bitmap originalBitmap = /*your original image*/;\nBitmap scaledBitmap = Bitmap.createScaledBitmap(originalBitmap, 1, 1, false);    //Resize the bitmap to 1x1\n@ColorInt int averageColor = scaledBitmap.getPixel(0, 0);    //Get the color of the only pixel of the 1x1 bitmap\n</code></pre>\n<p>If your original image is not a <code>Bitmap</code> object, you can convert it to a <code>Bitmap</code> using one of the methods described <a href=\"https://stackoverflow.com/a/48576175/4284627\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":11726648,"reputation":19553,"user_id":8583692,"display_name":"Mahozad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668448552,"creation_date":1668448060,"answer_id":74435848,"question_id":12408431,"body_markdown":"Here is a way to get the **dominant** (NOT average) colors of an image using [Material color utilities library](https://github.com/material-foundation/material-color-utilities) which is currently available for Java/Kotlin, C++, Dart, TypeScript.\r\n\r\nThe colors may not necessarily be the most recurring colors; the library extracts dominant colors appropriate for [Material 3 design system](https://m3.material.io/styles/color/dynamic-color/overview) and appropriate to be used on light or dark themes in apps.\r\n\r\nThe library is primarily used on apps for Android 12 and above and also on the [Material Design website][1] itself but I tested it for myself and got good results.\r\n\r\nTo use the library, copy-paste the code on the [Material color utilities repository](https://github.com/material-foundation/material-color-utilities) for your desired language to your project and then you can extract dominant colors and color schemes.\r\n\r\nHere is an example for Java and Kotlin:\r\n\r\nJava:\r\n\r\n```java\r\nvar MAX_DESIRED_COLOR_COUNT = 128;\r\nvar file = new File(&quot;my-image.jpg&quot;);\r\nvar image = ImageIO.read(file);\r\nvar pixels = image.getRGB(0, 0, image.getWidth(), image.getHeight(), null, 0, image.getWidth());\r\nvar colorFrequency = QuantizerCelebi.quantize(pixels, MAX_DESIRED_COLOR_COUNT);\r\nvar decentColors = Score.score(colorFrequency);\r\nvar desiredColor = decentColors.get(0);\r\n// You can take the desiredColor or any other decentColors and forget the rest of code below\r\n\r\n\r\n// Could also use Scheme.dark(desiredColor); to get colors suitable for dark themes\r\nvar colorScheme = Scheme.light(desiredColor);\r\nSystem.out.println(&quot;Decent colors: &quot; + decentColors);\r\nSystem.out.println(&quot;Primary color (light theme): &quot; + colorScheme.getPrimary());\r\n```\r\n\r\nKotlin:\r\n\r\n```kotlin\r\nval MAX_DESIRED_COLOR_COUNT = 128\r\nval file = File(&quot;my-image.jpg&quot;)\r\nval image = ImageIO.read(file)\r\nval pixels = image.getRGB(0, 0, image.width, image.height, null, 0, image.width)\r\nval colorFrequency = QuantizerCelebi.quantize(pixels, MAX_DESIRED_COLOR_COUNT)\r\nval decentColors = Score.score(colorFrequency)\r\nval desiredColor = decentColors.first()\r\n// You can take the desiredColor or any other decentColors and forget the rest of code below\r\n\r\n\r\n// Could also use Scheme.dark(desiredColor) to get colors suitable for dark themes\r\nval colorScheme = Scheme.light(desiredColor)\r\nprintln(&quot;Decent colors: ${decentColors.joinToString { it.toHexString() }}&quot;)\r\nprintln(&quot;Primary color (light theme): ${colorScheme.primary.toHexString()}&quot;)\r\n\r\nfun Int.toHexString() = &quot;#%06X&quot;.format(this and 0xFFFFFF)\r\n```\r\n\r\nLearn more about [Material Design color system and color roles here](https://m3.material.io/styles/color/the-color-system/key-colors-tones) (like `colorScheme.primary` used in the above code snippets).\r\n\r\n  [1]: https://m3.material.io/","title":"How can I get the average color of an image?","body":"<p>Here is a way to get the <strong>dominant</strong> (NOT average) colors of an image using <a href=\"https://github.com/material-foundation/material-color-utilities\" rel=\"nofollow noreferrer\">Material color utilities library</a> which is currently available for Java/Kotlin, C++, Dart, TypeScript.</p>\n<p>The colors may not necessarily be the most recurring colors; the library extracts dominant colors appropriate for <a href=\"https://m3.material.io/styles/color/dynamic-color/overview\" rel=\"nofollow noreferrer\">Material 3 design system</a> and appropriate to be used on light or dark themes in apps.</p>\n<p>The library is primarily used on apps for Android 12 and above and also on the <a href=\"https://m3.material.io/\" rel=\"nofollow noreferrer\">Material Design website</a> itself but I tested it for myself and got good results.</p>\n<p>To use the library, copy-paste the code on the <a href=\"https://github.com/material-foundation/material-color-utilities\" rel=\"nofollow noreferrer\">Material color utilities repository</a> for your desired language to your project and then you can extract dominant colors and color schemes.</p>\n<p>Here is an example for Java and Kotlin:</p>\n<p>Java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var MAX_DESIRED_COLOR_COUNT = 128;\nvar file = new File(&quot;my-image.jpg&quot;);\nvar image = ImageIO.read(file);\nvar pixels = image.getRGB(0, 0, image.getWidth(), image.getHeight(), null, 0, image.getWidth());\nvar colorFrequency = QuantizerCelebi.quantize(pixels, MAX_DESIRED_COLOR_COUNT);\nvar decentColors = Score.score(colorFrequency);\nvar desiredColor = decentColors.get(0);\n// You can take the desiredColor or any other decentColors and forget the rest of code below\n\n\n// Could also use Scheme.dark(desiredColor); to get colors suitable for dark themes\nvar colorScheme = Scheme.light(desiredColor);\nSystem.out.println(&quot;Decent colors: &quot; + decentColors);\nSystem.out.println(&quot;Primary color (light theme): &quot; + colorScheme.getPrimary());\n</code></pre>\n<p>Kotlin:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val MAX_DESIRED_COLOR_COUNT = 128\nval file = File(&quot;my-image.jpg&quot;)\nval image = ImageIO.read(file)\nval pixels = image.getRGB(0, 0, image.width, image.height, null, 0, image.width)\nval colorFrequency = QuantizerCelebi.quantize(pixels, MAX_DESIRED_COLOR_COUNT)\nval decentColors = Score.score(colorFrequency)\nval desiredColor = decentColors.first()\n// You can take the desiredColor or any other decentColors and forget the rest of code below\n\n\n// Could also use Scheme.dark(desiredColor) to get colors suitable for dark themes\nval colorScheme = Scheme.light(desiredColor)\nprintln(&quot;Decent colors: ${decentColors.joinToString { it.toHexString() }}&quot;)\nprintln(&quot;Primary color (light theme): ${colorScheme.primary.toHexString()}&quot;)\n\nfun Int.toHexString() = &quot;#%06X&quot;.format(this and 0xFFFFFF)\n</code></pre>\n<p>Learn more about <a href=\"https://m3.material.io/styles/color/the-color-system/key-colors-tones\" rel=\"nofollow noreferrer\">Material Design color system and color roles here</a> (like <code>colorScheme.primary</code> used in the above code snippets).</p>\n"}],"owner":{"account_id":246829,"reputation":21647,"user_id":521180,"accept_rate":56,"display_name":"124697"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44975,"favorite_count":0,"down_vote_count":1,"up_vote_count":46,"accepted_answer_id":12408627,"answer_count":8,"score":45,"last_activity_date":1668448552,"creation_date":1347545991,"question_id":12408431,"body_markdown":"I want to be able to take an image and find out what is its average color, meaning if the image is half black and half white, I would get something in-between... some shade of gray. It could be the most frequent single color  or median. Any average will do.\r\n\r\nHow can I do this in Android?","title":"How can I get the average color of an image?","body":"<p>I want to be able to take an image and find out what is its average color, meaning if the image is half black and half white, I would get something in-between... some shade of gray. It could be the most frequent single color  or median. Any average will do.</p>\n<p>How can I do this in Android?</p>\n"},{"tags":["java","spring-boot","spring-data-jpa","postman"],"comments":[{"owner":{"account_id":5506151,"reputation":3498,"user_id":4373948,"accept_rate":88,"display_name":"Abder KRIMA"},"score":0,"creation_date":1667940184,"post_id":74366759,"comment_id":131287135,"body_markdown":"in your logs you don&#39;t see any error ?","body":"in your logs you don&#39;t see any error ?"},{"owner":{"account_id":26871209,"reputation":1,"user_id":20453187,"display_name":"Carlos Hernandez"},"score":0,"creation_date":1667941111,"post_id":74366759,"comment_id":131287430,"body_markdown":"In the IDE? Nope. Just what you see the about the dispatcherServlet. Before i try a request, that&#39;s not there. So something is going through.","body":"In the IDE? Nope. Just what you see the about the dispatcherServlet. Before i try a request, that&#39;s not there. So something is going through."}],"answers":[{"comments":[{"owner":{"account_id":26871209,"reputation":1,"user_id":20453187,"display_name":"Carlos Hernandez"},"score":0,"creation_date":1668010620,"post_id":74367345,"comment_id":131305467,"body_markdown":"Unfortunately, that did not do anything.","body":"Unfortunately, that did not do anything."}],"tags":[],"owner":{"account_id":17947811,"reputation":76,"user_id":13041661,"display_name":"pete_bc"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667942697,"creation_date":1667942697,"answer_id":74367345,"question_id":74366759,"body_markdown":"Try declaring that your SpringBootApplication implementation extends SpringBootServletInitializer.\r\n\r\n    @EntityScan(&quot;com.cg.POJOs&quot;)\r\n    @EnableJpaRepositories(&quot;com.cg.repositories&quot;)\r\n    @SpringBootApplication\r\n    public class TestProjectApplication extends \r\n    org.springframework.boot.web.servlet.support.SpringBootServletInitializer{\r\n\r\n        public static void main(String[] args) {\r\n            SpringApplication.run(TestProjectApplication.class, args);\r\n        }\r\n    }\r\n[This sort of explains why that works][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/39567434/spring-boot-application-gives-404-when-deployed-to-tomcat-but-works-with-embedde","title":"Spring Data JPA App With MySQL DB Postman Returns 404 On Any Request","body":"<p>Try declaring that your SpringBootApplication implementation extends SpringBootServletInitializer.</p>\n<pre><code>@EntityScan(&quot;com.cg.POJOs&quot;)\n@EnableJpaRepositories(&quot;com.cg.repositories&quot;)\n@SpringBootApplication\npublic class TestProjectApplication extends \norg.springframework.boot.web.servlet.support.SpringBootServletInitializer{\n\n    public static void main(String[] args) {\n        SpringApplication.run(TestProjectApplication.class, args);\n    }\n}\n</code></pre>\n<p><a href=\"https://stackoverflow.com/questions/39567434/spring-boot-application-gives-404-when-deployed-to-tomcat-but-works-with-embedde\">This sort of explains why that works</a></p>\n"},{"tags":[],"owner":{"account_id":26871209,"reputation":1,"user_id":20453187,"display_name":"Carlos Hernandez"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668448434,"creation_date":1668448434,"answer_id":74435909,"question_id":74366759,"body_markdown":"My issue ended up being my file structure. My main class was located under com.x.a, meanwhile my other classes were in their own packages (com.x.b, com.x.c, etc.). The issue stemmed from the main class not being in the parent package. Unfortunately, the *only* thing I didn’t share in my post was my file structure, so the question was ultimately incomplete as my code ended up being ok.","title":"Spring Data JPA App With MySQL DB Postman Returns 404 On Any Request","body":"<p>My issue ended up being my file structure. My main class was located under com.x.a, meanwhile my other classes were in their own packages (com.x.b, com.x.c, etc.). The issue stemmed from the main class not being in the parent package. Unfortunately, the <em>only</em> thing I didn’t share in my post was my file structure, so the question was ultimately incomplete as my code ended up being ok.</p>\n"}],"owner":{"account_id":26871209,"reputation":1,"user_id":20453187,"display_name":"Carlos Hernandez"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":290,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1668448434,"creation_date":1667939114,"question_id":74366759,"body_markdown":"I am trying to build a Spring Boot API using Spring Data JPA, Spring Web, and MySQL. I&#39;ve done everything I am supposed to, it connects to the database, but Postman ALWAYS returns 404, &quot;Not Found&quot; error, no matter what I try. Spring Boot initializes succcesfully:\r\n\r\n```\r\n\r\n[0;39m [36mc.cg.TestProject.TestProjectApplication [0;39m [2m:[0;39m Starting TestProjectApplication using Java 17.0.3 on LNAR-5CG1514NF9 with PID 21336 (C:\\Users\\********\\OneDrive - *********\\Desktop\\Orientation\\TestProject\\target\\classes started by ******** in C:\\Users\\********\\OneDrive - *********\\Desktop\\Orientation\\TestProject)\r\n[0;39m [36mc.cg.TestProject.TestProjectApplication [0;39m [2m:[0;39m No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n[0;39m [36m.s.d.r.c.RepositoryConfigurationDelegate[0;39m [2m:[0;39m Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n[0;39m [36m.s.d.r.c.RepositoryConfigurationDelegate[0;39m [2m:[0;39m Finished Spring Data repository scanning in 80 ms. Found 1 JPA repository interfaces.\r\n[0;39m [36mo.s.b.w.embedded.tomcat.TomcatWebServer [0;39m [2m:[0;39m Tomcat initialized with port(s): 1111 (http)\r\n[0;39m [36mo.apache.catalina.core.StandardService  [0;39m [2m:[0;39m Starting service [Tomcat]\r\n[0;39m [36morg.apache.catalina.core.StandardEngine [0;39m [2m:[0;39m Starting Servlet engine: [Apache Tomcat/9.0.68]\r\n[0;39m [36mo.a.c.c.C.[Tomcat].[localhost].[/]      [0;39m [2m:[0;39m Initializing Spring embedded WebApplicationContext\r\n[0;39m [36mw.s.c.ServletWebServerApplicationContext[0;39m [2m:[0;39m Root WebApplicationContext: initialization completed in 974 ms\r\n[0;39m [36mo.hibernate.jpa.internal.util.LogHelper [0;39m [2m:[0;39m HHH000204: Processing PersistenceUnitInfo [name: default]\r\n[0;39m [36morg.hibernate.Version                   [0;39m [2m:[0;39m HHH000412: Hibernate ORM core version 5.6.12.Final\r\n[0;39m [36mo.hibernate.annotations.common.Version  [0;39m [2m:[0;39m HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\r\n[0;39m [36mcom.zaxxer.hikari.HikariDataSource      [0;39m [2m:[0;39m HikariPool-1 - Starting...\r\n[0;39m [36mcom.zaxxer.hikari.HikariDataSource      [0;39m [2m:[0;39m HikariPool-1 - Start completed.\r\n[0;39m [36morg.hibernate.dialect.Dialect           [0;39m [2m:[0;39m HHH000400: Using dialect: org.hibernate.dialect.MySQL5InnoDBDialect\r\n[0;39m [36mo.h.e.t.j.p.i.JtaPlatformInitiator      [0;39m [2m:[0;39m HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n[0;39m [36mj.LocalContainerEntityManagerFactoryBean[0;39m [2m:[0;39m Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n[0;39m [36mJpaBaseConfiguration$JpaWebConfiguration[0;39m [2m:[0;39m spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\r\n[0;39m [36mo.s.b.w.embedded.tomcat.TomcatWebServer [0;39m [2m:[0;39m Tomcat started on port(s): 1111 (http) with context path &#39;&#39;\r\n[0;39m [36mc.cg.TestProject.TestProjectApplication [0;39m [2m:[0;39m Started TestProjectApplication in 2.839 seconds (JVM running for 3.873)\r\n[0;39m [36mo.a.c.c.C.[Tomcat].[localhost].[/]      [0;39m [2m:[0;39m Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\r\n[0;39m [36mo.s.web.servlet.DispatcherServlet       [0;39m [2m:[0;39m Initializing Servlet &#39;dispatcherServlet&#39;\r\n[0;39m [36mo.s.web.servlet.DispatcherServlet       [0;39m [2m:[0;39m Completed initialization in 1 ms\r\n```\r\n\r\nMy project is divided into 5 packages: main class package(TestProject), POJOs, controllers, services, and repositories. I currently one have one, simple table I&#39;m working with that stores a user&#39;s name, and &quot;password&quot;  This is my main class called TestProjectApplication:\r\n\r\n```\r\n@EntityScan(&quot;com.cg.POJOs&quot;)\r\n@EnableJpaRepositories(&quot;com.cg.repositories&quot;)\r\n@SpringBootApplication\r\npublic class TestProjectApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(TestProjectApplication.class, args);\r\n\t}\r\n```\r\nMy User POJO, and the UserRepo repository:\r\n\r\n\r\n\r\n```\r\nimport javax.persistence.*;\r\n@Entity\r\npublic class User {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private int id;\r\n    private String name;\r\n    private String password;\r\n    public User() {}\r\n    public User(int id, String name, String password)\r\n    {\r\n    \tsuper(); //OPTIONAL?\r\n        this.id = id;\r\n        this.name = name;\r\n        this.password = password;\r\n    }\r\n...Getters, Setters, toString\r\n```\r\n\r\n```\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.stereotype.Repository;\r\n@Repository\r\npublic interface UserRepo extends JpaRepository&lt;User,Integer&gt; {\r\n   \r\n}\r\n```\r\nThese have been largely unchanged, as they are pretty standard. Where it gets a little more confusing, and I have tried every type of and combination of Spring Boot annotations to no avail, is my UserServices interface, the UserServicesImpl implementation, and the UserController.\r\n\r\nUserServices and UserServicesImpl:\r\n\r\n```\r\n#UserServices:\r\nimport java.util.List;\r\npublic interface UserServices {\r\n\t\r\n    // Save operation\r\n    User saveUser(User user);\r\n  \r\n    // Read operation\r\n    List&lt;User&gt; fetchUserList();\r\n  \r\n    // Update operation\r\n    User updateUser(User user, int userId);\r\n  \r\n    // Delete operation\r\n    void deleteUserById(int userId);\r\n}\r\n\r\n#userServicesImpl:\r\nimport java.util.List;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.annotation.ComponentScan;\r\nimport org.springframework.stereotype.Service;\r\n\r\n@Service\r\npublic class UserServicesImpl implements UserServices{\r\n\t@Autowired\r\n\tprivate UserRepo userRepo;\r\n\r\n\t@Override\r\n\tpublic User saveUser(User user) {\r\n        return userRepo.save(user);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic List&lt;User&gt; fetchUserList() {\r\n        return (List&lt;User&gt;)userRepo.findAll();\r\n\t}\r\n\r\n...updateUser(User user), deleteUserById(int id) are implemented.\r\n\r\n```\r\nAnd finally my controller class with a few test operations:\r\n\r\n```\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.annotation.ComponentScan;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\n@RestController\r\npublic class UserController {\r\n    @Autowired \r\n    private UserServices userServices;\r\n\r\n    // Save operation\r\n    @PostMapping(&quot;/users&quot;)\r\n    public User saveUser(@RequestBody User department)\r\n    {\r\n        return userServices.saveUser(department);\r\n    }\r\n  \r\n    // Read operation\r\n    @GetMapping(&quot;/users&quot;)\r\n    public List&lt;User&gt; fetchUserList()\r\n    {\r\n        return userServices.fetchUserList();\r\n    }\r\n    \r\n    // Read operation\r\n    @GetMapping(&quot;/test&quot;)\r\n    public List&lt;User&gt; fetchUsers()\r\n    {\r\n        return Arrays.asList(\r\n                new User(12, &quot;Carlos&quot;,&quot;123123&quot;),\r\n                new User(2, &quot;donald&quot;,&quot;123456&quot;)\r\n        );\r\n    }\r\n  \r\n```\r\n\r\nALL requests I make, simply return a 404 &quot;Not Found&quot; error. An example request would be &quot;GET http://localhost:1111/test&quot;. The last bit of information I could possibly show that might show my mistake, is my application.properties file.\r\n\r\n\r\n```\r\nspring.datasource.url=jdbc:mysql://localhost:3306/test\r\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\nspring.jpa.show-sql: true\r\nspring.datasource.username=root\r\nspring.datasource.password=123456\r\nspring.jpa.hibernate.ddl-auto=update\r\nserver.port = 1111\r\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL5InnoDBDialect\r\n```\r\n\r\nAny ideas as to why it&#39;s not working would be greatly appreciated! Using Spring Boot 2.7.5 with Java 11 on the Spring Tool Suite IDE.","title":"Spring Data JPA App With MySQL DB Postman Returns 404 On Any Request","body":"<p>I am trying to build a Spring Boot API using Spring Data JPA, Spring Web, and MySQL. I've done everything I am supposed to, it connects to the database, but Postman ALWAYS returns 404, &quot;Not Found&quot; error, no matter what I try. Spring Boot initializes succcesfully:</p>\n<pre><code>\n[0;39m [36mc.cg.TestProject.TestProjectApplication [0;39m [2m:[0;39m Starting TestProjectApplication using Java 17.0.3 on LNAR-5CG1514NF9 with PID 21336 (C:\\Users\\********\\OneDrive - *********\\Desktop\\Orientation\\TestProject\\target\\classes started by ******** in C:\\Users\\********\\OneDrive - *********\\Desktop\\Orientation\\TestProject)\n[0;39m [36mc.cg.TestProject.TestProjectApplication [0;39m [2m:[0;39m No active profile set, falling back to 1 default profile: &quot;default&quot;\n[0;39m [36m.s.d.r.c.RepositoryConfigurationDelegate[0;39m [2m:[0;39m Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n[0;39m [36m.s.d.r.c.RepositoryConfigurationDelegate[0;39m [2m:[0;39m Finished Spring Data repository scanning in 80 ms. Found 1 JPA repository interfaces.\n[0;39m [36mo.s.b.w.embedded.tomcat.TomcatWebServer [0;39m [2m:[0;39m Tomcat initialized with port(s): 1111 (http)\n[0;39m [36mo.apache.catalina.core.StandardService  [0;39m [2m:[0;39m Starting service [Tomcat]\n[0;39m [36morg.apache.catalina.core.StandardEngine [0;39m [2m:[0;39m Starting Servlet engine: [Apache Tomcat/9.0.68]\n[0;39m [36mo.a.c.c.C.[Tomcat].[localhost].[/]      [0;39m [2m:[0;39m Initializing Spring embedded WebApplicationContext\n[0;39m [36mw.s.c.ServletWebServerApplicationContext[0;39m [2m:[0;39m Root WebApplicationContext: initialization completed in 974 ms\n[0;39m [36mo.hibernate.jpa.internal.util.LogHelper [0;39m [2m:[0;39m HHH000204: Processing PersistenceUnitInfo [name: default]\n[0;39m [36morg.hibernate.Version                   [0;39m [2m:[0;39m HHH000412: Hibernate ORM core version 5.6.12.Final\n[0;39m [36mo.hibernate.annotations.common.Version  [0;39m [2m:[0;39m HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\n[0;39m [36mcom.zaxxer.hikari.HikariDataSource      [0;39m [2m:[0;39m HikariPool-1 - Starting...\n[0;39m [36mcom.zaxxer.hikari.HikariDataSource      [0;39m [2m:[0;39m HikariPool-1 - Start completed.\n[0;39m [36morg.hibernate.dialect.Dialect           [0;39m [2m:[0;39m HHH000400: Using dialect: org.hibernate.dialect.MySQL5InnoDBDialect\n[0;39m [36mo.h.e.t.j.p.i.JtaPlatformInitiator      [0;39m [2m:[0;39m HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n[0;39m [36mj.LocalContainerEntityManagerFactoryBean[0;39m [2m:[0;39m Initialized JPA EntityManagerFactory for persistence unit 'default'\n[0;39m [36mJpaBaseConfiguration$JpaWebConfiguration[0;39m [2m:[0;39m spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\n[0;39m [36mo.s.b.w.embedded.tomcat.TomcatWebServer [0;39m [2m:[0;39m Tomcat started on port(s): 1111 (http) with context path ''\n[0;39m [36mc.cg.TestProject.TestProjectApplication [0;39m [2m:[0;39m Started TestProjectApplication in 2.839 seconds (JVM running for 3.873)\n[0;39m [36mo.a.c.c.C.[Tomcat].[localhost].[/]      [0;39m [2m:[0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'\n[0;39m [36mo.s.web.servlet.DispatcherServlet       [0;39m [2m:[0;39m Initializing Servlet 'dispatcherServlet'\n[0;39m [36mo.s.web.servlet.DispatcherServlet       [0;39m [2m:[0;39m Completed initialization in 1 ms\n</code></pre>\n<p>My project is divided into 5 packages: main class package(TestProject), POJOs, controllers, services, and repositories. I currently one have one, simple table I'm working with that stores a user's name, and &quot;password&quot;  This is my main class called TestProjectApplication:</p>\n<pre><code>@EntityScan(&quot;com.cg.POJOs&quot;)\n@EnableJpaRepositories(&quot;com.cg.repositories&quot;)\n@SpringBootApplication\npublic class TestProjectApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(TestProjectApplication.class, args);\n    }\n</code></pre>\n<p>My User POJO, and the UserRepo repository:</p>\n<pre><code>import javax.persistence.*;\n@Entity\npublic class User {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private int id;\n    private String name;\n    private String password;\n    public User() {}\n    public User(int id, String name, String password)\n    {\n        super(); //OPTIONAL?\n        this.id = id;\n        this.name = name;\n        this.password = password;\n    }\n...Getters, Setters, toString\n</code></pre>\n<pre><code>import org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n@Repository\npublic interface UserRepo extends JpaRepository&lt;User,Integer&gt; {\n   \n}\n</code></pre>\n<p>These have been largely unchanged, as they are pretty standard. Where it gets a little more confusing, and I have tried every type of and combination of Spring Boot annotations to no avail, is my UserServices interface, the UserServicesImpl implementation, and the UserController.</p>\n<p>UserServices and UserServicesImpl:</p>\n<pre><code>#UserServices:\nimport java.util.List;\npublic interface UserServices {\n    \n    // Save operation\n    User saveUser(User user);\n  \n    // Read operation\n    List&lt;User&gt; fetchUserList();\n  \n    // Update operation\n    User updateUser(User user, int userId);\n  \n    // Delete operation\n    void deleteUserById(int userId);\n}\n\n#userServicesImpl:\nimport java.util.List;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.stereotype.Service;\n\n@Service\npublic class UserServicesImpl implements UserServices{\n    @Autowired\n    private UserRepo userRepo;\n\n    @Override\n    public User saveUser(User user) {\n        return userRepo.save(user);\n    }\n\n    @Override\n    public List&lt;User&gt; fetchUserList() {\n        return (List&lt;User&gt;)userRepo.findAll();\n    }\n\n...updateUser(User user), deleteUserById(int id) are implemented.\n\n</code></pre>\n<p>And finally my controller class with a few test operations:</p>\n<pre><code>import org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.web.bind.annotation.*;\n\n@RestController\npublic class UserController {\n    @Autowired \n    private UserServices userServices;\n\n    // Save operation\n    @PostMapping(&quot;/users&quot;)\n    public User saveUser(@RequestBody User department)\n    {\n        return userServices.saveUser(department);\n    }\n  \n    // Read operation\n    @GetMapping(&quot;/users&quot;)\n    public List&lt;User&gt; fetchUserList()\n    {\n        return userServices.fetchUserList();\n    }\n    \n    // Read operation\n    @GetMapping(&quot;/test&quot;)\n    public List&lt;User&gt; fetchUsers()\n    {\n        return Arrays.asList(\n                new User(12, &quot;Carlos&quot;,&quot;123123&quot;),\n                new User(2, &quot;donald&quot;,&quot;123456&quot;)\n        );\n    }\n  \n</code></pre>\n<p>ALL requests I make, simply return a 404 &quot;Not Found&quot; error. An example request would be &quot;GET http://localhost:1111/test&quot;. The last bit of information I could possibly show that might show my mistake, is my application.properties file.</p>\n<pre><code>spring.datasource.url=jdbc:mysql://localhost:3306/test\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\nspring.jpa.show-sql: true\nspring.datasource.username=root\nspring.datasource.password=123456\nspring.jpa.hibernate.ddl-auto=update\nserver.port = 1111\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL5InnoDBDialect\n</code></pre>\n<p>Any ideas as to why it's not working would be greatly appreciated! Using Spring Boot 2.7.5 with Java 11 on the Spring Tool Suite IDE.</p>\n"},{"tags":["java","google-cloud-platform","google-cloud-storage"],"answers":[{"comments":[{"owner":{"account_id":1189122,"reputation":15753,"user_id":1162409,"accept_rate":40,"display_name":"San Jaisy"},"score":0,"creation_date":1615446867,"post_id":66577883,"comment_id":117694421,"body_markdown":"How can set dynamically. The file may be PNG or JPG or JPEG","body":"How can set dynamically. The file may be PNG or JPG or JPEG"},{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1615447933,"post_id":66577883,"comment_id":117694735,"body_markdown":"If else?  It depends on how you define what is a PNG, what is a JPEG?","body":"If else?  It depends on how you define what is a PNG, what is a JPEG?"},{"owner":{"account_id":1189122,"reputation":15753,"user_id":1162409,"accept_rate":40,"display_name":"San Jaisy"},"score":0,"creation_date":1615448085,"post_id":66577883,"comment_id":117694794,"body_markdown":"Thanks, can you please help me with this https://stackoverflow.com/questions/66577896/uploaded-object-public-url-is-download-link-after-uploading-the-object-to-gcp-us","body":"Thanks, can you please help me with this <a href=\"https://stackoverflow.com/questions/66577896/uploaded-object-public-url-is-download-link-after-uploading-the-object-to-gcp-us\" title=\"uploaded object public url is download link after uploading the object to gcp us\">stackoverflow.com/questions/66577896/&hellip;</a>"}],"tags":[],"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"comment_count":3,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1668448383,"creation_date":1615446568,"answer_id":66577883,"question_id":66577825,"body_markdown":"`BlobInfo` has a `Builder` which has a lot of options including `setContentType`.\r\n\r\nhttps://googleapis.dev/java/google-cloud-storage/latest/com/google/cloud/storage/BlobInfo.Builder.html\r\n\r\nIf you always see builder/newBuilder, you need to investigate the documentation further to see if there are other (setters).\r\n\r\n    BlobInfo blobInfo = BlobInfo.newBuilder(blobId).setContentType(&quot;image/jpeg&quot;).build();\r\n\r\n=== Edited ===\r\n\r\n    public String determineContentType(File inputFile){\r\n    \r\n       String contentType =  // Your logic of determining type of file format\r\n    \r\n      return contentType;\r\n    \r\n    }\r\n    \r\n        BlobInfo blobInfo = BlobInfo.newBuilder(blobId).setContentType(determineContentType(yourFile)).build();","title":"Set type of object while uploading to google cloud storage using java library","body":"<p><code>BlobInfo</code> has a <code>Builder</code> which has a lot of options including <code>setContentType</code>.</p>\n<p><a href=\"https://googleapis.dev/java/google-cloud-storage/latest/com/google/cloud/storage/BlobInfo.Builder.html\" rel=\"nofollow noreferrer\">https://googleapis.dev/java/google-cloud-storage/latest/com/google/cloud/storage/BlobInfo.Builder.html</a></p>\n<p>If you always see builder/newBuilder, you need to investigate the documentation further to see if there are other (setters).</p>\n<pre><code>BlobInfo blobInfo = BlobInfo.newBuilder(blobId).setContentType(&quot;image/jpeg&quot;).build();\n</code></pre>\n<p>=== Edited ===</p>\n<pre><code>public String determineContentType(File inputFile){\n\n   String contentType =  // Your logic of determining type of file format\n\n  return contentType;\n\n}\n\n    BlobInfo blobInfo = BlobInfo.newBuilder(blobId).setContentType(determineContentType(yourFile)).build();\n</code></pre>\n"}],"owner":{"account_id":1189122,"reputation":15753,"user_id":1162409,"accept_rate":40,"display_name":"San Jaisy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":867,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":66577883,"answer_count":1,"score":0,"last_activity_date":1668448383,"creation_date":1615446220,"question_id":66577825,"body_markdown":"Using Java library to uploading the object to GCP https://cloud.google.com/storage/docs/uploading-objects#storage-upload-object-code-sample with the below code \r\n\r\n    public static void uploadObject(\r\n          String projectId, String bucketName, String objectName, String filePath) throws IOException {\r\n        \r\n        Storage storage = StorageOptions.newBuilder().setProjectId(projectId).build().getService();\r\n        BlobId blobId = BlobId.of(bucketName, objectName);\r\n        BlobInfo blobInfo = BlobInfo.newBuilder(blobId).build();\r\n        storage.create(blobInfo, Files.readAllBytes(Paths.get(filePath)));\r\n    \r\n        System.out.println(\r\n            &quot;File &quot; + filePath + &quot; uploaded to bucket &quot; + bucketName + &quot; as &quot; + objectName);\r\n      }\r\n\r\nThe above code works well, but the content type of the image is `application/octet-stream`\r\nHow do I set to `image/jpg` or `image/png`. How can I set the meta-data before uploading","title":"Set type of object while uploading to google cloud storage using java library","body":"<p>Using Java library to uploading the object to GCP <a href=\"https://cloud.google.com/storage/docs/uploading-objects#storage-upload-object-code-sample\" rel=\"nofollow noreferrer\">https://cloud.google.com/storage/docs/uploading-objects#storage-upload-object-code-sample</a> with the below code</p>\n<pre><code>public static void uploadObject(\n      String projectId, String bucketName, String objectName, String filePath) throws IOException {\n    \n    Storage storage = StorageOptions.newBuilder().setProjectId(projectId).build().getService();\n    BlobId blobId = BlobId.of(bucketName, objectName);\n    BlobInfo blobInfo = BlobInfo.newBuilder(blobId).build();\n    storage.create(blobInfo, Files.readAllBytes(Paths.get(filePath)));\n\n    System.out.println(\n        &quot;File &quot; + filePath + &quot; uploaded to bucket &quot; + bucketName + &quot; as &quot; + objectName);\n  }\n</code></pre>\n<p>The above code works well, but the content type of the image is <code>application/octet-stream</code>\nHow do I set to <code>image/jpg</code> or <code>image/png</code>. How can I set the meta-data before uploading</p>\n"},{"tags":["java","arrays","java.util.scanner"],"comments":[{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1668443475,"post_id":74434824,"comment_id":131400565,"body_markdown":"You made mistakes by not doing some earlier steps, eG: &quot;Initialize the short array pos of size n and read the corresponding number of values (from console) into the array&quot; &lt;- You never fill your array with anything. You just initialize it, but never fill pos with any data. In the loop itself you also incorrectly print alphabet[n]. n Is the size of your pos array not its contents and will never change in your loop. But since already mentioned you never fill your array you should fix that first and then worry about printing its content.","body":"You made mistakes by not doing some earlier steps, eG: &quot;Initialize the short array pos of size n and read the corresponding number of values (from console) into the array&quot; &lt;- You never fill your array with anything. You just initialize it, but never fill pos with any data. In the loop itself you also incorrectly print alphabet[n]. n Is the size of your pos array not its contents and will never change in your loop. But since already mentioned you never fill your array you should fix that first and then worry about printing its content."}],"answers":[{"tags":[],"owner":{"account_id":15051837,"reputation":16,"user_id":20470902,"display_name":"franklysiva"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668447847,"creation_date":1668445873,"answer_id":74435397,"question_id":74434824,"body_markdown":"You need to fill your array with values and traverse through the array and print the corresponding alphabets of the position.\r\n```java\r\nfor (int i = 0; i &lt; pos.length; i++) {\r\n        \t\r\n    pos[i] = in.nextShort();\r\n\r\n    for (int i: pos)   \r\n        System.out.print(alphabet[i]);\r\n}\r\n```","title":"Print certain values (given by scanner) of an array in java","body":"<p>You need to fill your array with values and traverse through the array and print the corresponding alphabets of the position.</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (int i = 0; i &lt; pos.length; i++) {\n            \n    pos[i] = in.nextShort();\n\n    for (int i: pos)   \n        System.out.print(alphabet[i]);\n}\n</code></pre>\n"}],"owner":{"account_id":26891805,"reputation":13,"user_id":20470440,"display_name":"Samuele "},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74435397,"answer_count":1,"score":0,"last_activity_date":1668447847,"creation_date":1668443211,"question_id":74434824,"body_markdown":"I&#39;ll leave the exercise description because it is pretty clear. \r\n\r\n&quot;The given code reads the non-negative integer n. Initialize the short array pos of size n and read the corresponding number of values (from console) into the array.\r\nFurther initialize the char array alphabet and fill it in a loop with the upper case letters from &#39;A&#39; - &#39;Z&#39;.\r\nFinally, loop through the array pos and output the character from the alphabet array that is in the position specified by the current value in pos. For example, if pos[i] contains the value 3, alphabet[3] should be output.&quot;\r\n\r\nThere is also a table [I link here](https://i.stack.imgur.com/3VNx8.png) of the expected outputs.\r\n\r\n\r\n```\r\n\r\nimport&#160;java.util.Scanner;\r\npublic&#160;class&#160;Exercise {\r\n&#160; &#160; public&#160;static&#160;void&#160;main(String[]&#160;args)&#160;{\r\n        Scanner&#160;in&#160;=&#160;new&#160;Scanner(System.in);\r\n&#160; &#160; &#160; &#160; int&#160;n&#160;=&#160;in.nextInt();\r\n&#160; &#160; &#160; &#160; short[]&#160;pos;\r\n&#160; &#160; &#160; &#160; char[]&#160;alphabet;\r\n        pos = new short[n];\r\nalphabet = new char[]{&#39;A&#39;,&#39;B&#39;,&#39;C&#39;,&#39;D&#39;,&#39;E&#39;,&#39;F&#39;,&#39;G&#39;,&#39;H&#39;,&#39;I&#39;,&#39;J&#39;,&#39;K&#39;,&#39;L&#39;,&#39;M&#39;,&#39;N&#39;,&#39;O&#39;,&#39;P&#39;,&#39;Q&#39;,&#39;R&#39;,&#39;S&#39;,&#39;T&#39;,&#39;U&#39;,&#39;V&#39;,&#39;W&#39;,&#39;X&#39;,&#39;Y&#39;,&#39;Z&#39;};\r\n\r\nfor (int i = 0; i &lt; pos.length; i++) System.out.print(alphabet[n]);\r\n      }\r\n}\r\n```\r\nThis code outputs the correct length of the word, but if the input is e.g. 2, it outputs &quot;CC&quot;, which means that it only takes the first input and not the other ones. \r\n","title":"Print certain values (given by scanner) of an array in java","body":"<p>I'll leave the exercise description because it is pretty clear.</p>\n<p>&quot;The given code reads the non-negative integer n. Initialize the short array pos of size n and read the corresponding number of values (from console) into the array.\nFurther initialize the char array alphabet and fill it in a loop with the upper case letters from 'A' - 'Z'.\nFinally, loop through the array pos and output the character from the alphabet array that is in the position specified by the current value in pos. For example, if pos[i] contains the value 3, alphabet[3] should be output.&quot;</p>\n<p>There is also a table <a href=\"https://i.stack.imgur.com/3VNx8.png\" rel=\"nofollow noreferrer\">I link here</a> of the expected outputs.</p>\n<pre><code>\nimport java.util.Scanner;\npublic class Exercise {\n    public static void main(String[] args) {\n        Scanner in = new Scanner(System.in);\n        int n = in.nextInt();\n        short[] pos;\n        char[] alphabet;\n        pos = new short[n];\nalphabet = new char[]{'A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R','S','T','U','V','W','X','Y','Z'};\n\nfor (int i = 0; i &lt; pos.length; i++) System.out.print(alphabet[n]);\n      }\n}\n</code></pre>\n<p>This code outputs the correct length of the word, but if the input is e.g. 2, it outputs &quot;CC&quot;, which means that it only takes the first input and not the other ones.</p>\n"},{"tags":["java","networking","tcp"],"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":1,"creation_date":1667243804,"post_id":74268043,"comment_id":131119902,"body_markdown":"&quot;_The problem is that I want to run this server on multiple computers on the local network, and their local addresses can change._&quot; - This could also happen in your local server. That&#39;s why DNS was created. And if you are going to rely on IP addresses, they should be static and configured the same in your LANs.","body":"&quot;<i>The problem is that I want to run this server on multiple computers on the local network, and their local addresses can change.</i>&quot; - This could also happen in your local server. That&#39;s why DNS was created. And if you are going to rely on IP addresses, they should be static and configured the same in your LANs."},{"owner":{"account_id":13328605,"reputation":68,"user_id":9620766,"display_name":"random coder dude"},"score":1,"creation_date":1667244032,"post_id":74268043,"comment_id":131119969,"body_markdown":"By the sound of it, looks like you might be trying to [load balance](https://www.nginx.com/resources/glossary/load-balancing/).","body":"By the sound of it, looks like you might be trying to <a href=\"https://www.nginx.com/resources/glossary/load-balancing/\" rel=\"nofollow noreferrer\">load balance</a>."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1667248849,"post_id":74268043,"comment_id":131121151,"body_markdown":"Makes me think of [Zero-configuration networking](https://en.wikipedia.org/wiki/Zero-configuration_networking), and [*Bonjour*](https://en.wikipedia.org/wiki/Bonjour_(software)) (Apple). I do not know about whether Java implementations exist.","body":"Makes me think of <a href=\"https://en.wikipedia.org/wiki/Zero-configuration_networking\" rel=\"nofollow noreferrer\">Zero-configuration networking</a>, and <a href=\"https://en.wikipedia.org/wiki/Bonjour_(software)\" rel=\"nofollow noreferrer\"><i>Bonjour</i></a> (Apple). I do not know about whether Java implementations exist."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1667249284,"post_id":74268043,"comment_id":131121236,"body_markdown":"https://github.com/jmdns/jmdns","body":"<a href=\"https://github.com/jmdns/jmdns\" rel=\"nofollow noreferrer\">github.com/jmdns/jmdns</a>"},{"owner":{"account_id":17876096,"reputation":51,"user_id":12986118,"display_name":"imworse"},"score":0,"creation_date":1668162996,"post_id":74268043,"comment_id":131344149,"body_markdown":"@hfontanez I am trying to make a remote PC application. This will not work on the global internet. Only local network. Thanks for your answer!","body":"@hfontanez I am trying to make a remote PC application. This will not work on the global internet. Only local network. Thanks for your answer!"}],"answers":[{"tags":[],"owner":{"account_id":17876096,"reputation":51,"user_id":12986118,"display_name":"imworse"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668447628,"creation_date":1668427531,"answer_id":74431377,"question_id":74268043,"body_markdown":"I solve it by use `DatagramSocket` to UDP broadcast to 192.168.1.255.","title":"Java. How to get a list of exactly my servers in the local network?","body":"<p>I solve it by use <code>DatagramSocket</code> to UDP broadcast to 192.168.1.255.</p>\n"}],"owner":{"account_id":17876096,"reputation":51,"user_id":12986118,"display_name":"imworse"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74431377,"answer_count":1,"score":0,"last_activity_date":1668447628,"creation_date":1667243013,"question_id":74268043,"body_markdown":"Using tcp sockets, I wrote a server, launched it on a computer. Wrote a client for android. Being in the same local network, I successfully connect from my smartphone knowing the local ip address of the computer and the server port.\r\n\r\nThe problem is that I want to run this server on multiple computers on the local network, and their local addresses can change.\r\n\r\nNeed to somehow scan and select an available server in the application.\r\n\r\nHow is it implemented? What is the special protocol for scanning? Or just try to connect by sorting through all possible addresses and ports?\r\n\r\nIs UDP broadcast a bad solution?\r\n\r\nSorry for google-translator!\r\n\r\nUPD: I am trying to make a remote PC application. This will not work on the global internet. only local network. Thanks for the answer","title":"Java. How to get a list of exactly my servers in the local network?","body":"<p>Using tcp sockets, I wrote a server, launched it on a computer. Wrote a client for android. Being in the same local network, I successfully connect from my smartphone knowing the local ip address of the computer and the server port.</p>\n<p>The problem is that I want to run this server on multiple computers on the local network, and their local addresses can change.</p>\n<p>Need to somehow scan and select an available server in the application.</p>\n<p>How is it implemented? What is the special protocol for scanning? Or just try to connect by sorting through all possible addresses and ports?</p>\n<p>Is UDP broadcast a bad solution?</p>\n<p>Sorry for google-translator!</p>\n<p>UPD: I am trying to make a remote PC application. This will not work on the global internet. only local network. Thanks for the answer</p>\n"},{"tags":["java","mockito","powermock"],"comments":[{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":1,"creation_date":1665590173,"post_id":74035922,"comment_id":130738048,"body_markdown":"You don&#39;t even call `ClassA.methodA` in your test","body":"You don&#39;t even call <code>ClassA.methodA</code> in your test"}],"answers":[{"tags":[],"owner":{"account_id":23006432,"reputation":1,"user_id":17129638,"display_name":"Vasile Paraschiv"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668447428,"creation_date":1668447428,"answer_id":74435724,"question_id":74035922,"body_markdown":"Please note that you must use (JUnit 4):\r\n - `@RunWith(MockitoJUnitRunner.class)` class decoration, or \r\n - call `Mockito.initMocks(this)` in your setup method, to initialize these mocks and inject them.\r\n\r\nWith JUnit 5, you must use: \r\n - `@ExtendWith(MockitoExtension.class)` class decoration.","title":"Is there a way for MockedStatic to return a mocked class?","body":"<p>Please note that you must use (JUnit 4):</p>\n<ul>\n<li><code>@RunWith(MockitoJUnitRunner.class)</code> class decoration, or</li>\n<li>call <code>Mockito.initMocks(this)</code> in your setup method, to initialize these mocks and inject them.</li>\n</ul>\n<p>With JUnit 5, you must use:</p>\n<ul>\n<li><code>@ExtendWith(MockitoExtension.class)</code> class decoration.</li>\n</ul>\n"}],"owner":{"account_id":20295517,"reputation":59,"user_id":14886142,"display_name":"iAmHereForHelp"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668447428,"creation_date":1665542317,"question_id":74035922,"body_markdown":"I am trying using Junit&#39;s MockedStatic function for Hadoop FileSystem class static method &quot;get()&quot; and want to return a mocked Hadoop FileSystem which then I will use Mockito for its other methods such as &quot;exists()&quot;. However, when I tried debugging it, the MockedStatic didnt return a mocked FileSystem class but an actual one.\r\n\r\n```\r\npublic class ClassA{\r\n     public void methodA (String input){\r\n          //some code\r\n          FileSystem fileSystem = FileSystem.get(URI.create(pathName), configuration);\r\n          boolean fileExists = fileSystem.exists(new Path(fileName));\r\n          //some code\r\n     }\r\n}\r\n\r\nclass ClassATest{\r\n\r\n@Mock\r\nFileSystem fileSystem;\r\n@InjectMocks\r\nClassA classA;\r\n\r\n@BeforeEach\r\nvoid setUp(){\r\n    MockitoAnnotations.openMocks(this);\r\n}\r\n\r\n@Test\r\nvoid methodA {\r\n    try (MockedStatic&lt;FileSystem&gt; mockedStatic = Mockito.mockStatic(FileSystem.class)){\r\n            mockedStatic.when(()-&gt; \r\n    FileSystem.get(URI.create(&quot;/resources/&quot;),configuration)).thenReturn(fileSystem);\r\n        }\r\n    when(fileSystem.exists(any())).thenReturn(true);\r\n}\r\n```\r\n\r\n","title":"Is there a way for MockedStatic to return a mocked class?","body":"<p>I am trying using Junit's MockedStatic function for Hadoop FileSystem class static method &quot;get()&quot; and want to return a mocked Hadoop FileSystem which then I will use Mockito for its other methods such as &quot;exists()&quot;. However, when I tried debugging it, the MockedStatic didnt return a mocked FileSystem class but an actual one.</p>\n<pre><code>public class ClassA{\n     public void methodA (String input){\n          //some code\n          FileSystem fileSystem = FileSystem.get(URI.create(pathName), configuration);\n          boolean fileExists = fileSystem.exists(new Path(fileName));\n          //some code\n     }\n}\n\nclass ClassATest{\n\n@Mock\nFileSystem fileSystem;\n@InjectMocks\nClassA classA;\n\n@BeforeEach\nvoid setUp(){\n    MockitoAnnotations.openMocks(this);\n}\n\n@Test\nvoid methodA {\n    try (MockedStatic&lt;FileSystem&gt; mockedStatic = Mockito.mockStatic(FileSystem.class)){\n            mockedStatic.when(()-&gt; \n    FileSystem.get(URI.create(&quot;/resources/&quot;),configuration)).thenReturn(fileSystem);\n        }\n    when(fileSystem.exists(any())).thenReturn(true);\n}\n</code></pre>\n"},{"tags":["java","selenium","selenium-webdriver"],"comments":[{"owner":{"account_id":1233142,"reputation":5617,"user_id":1197313,"accept_rate":25,"display_name":"Santoshsarma"},"score":0,"creation_date":1423573713,"post_id":28432306,"comment_id":45195011,"body_markdown":"What is the purpose of waiting without any proper condition (Which is same Static wait) ? btw, if you want to do something like that, Write a method to wait for an element which is not present in DOM and handle the exception properly.","body":"What is the purpose of waiting without any proper condition (Which is same Static wait) ? btw, if you want to do something like that, Write a method to wait for an element which is not present in DOM and handle the exception properly."},{"owner":{"account_id":1661507,"reputation":9914,"user_id":1529709,"accept_rate":100,"display_name":"zb226"},"score":0,"creation_date":1423573848,"post_id":28432306,"comment_id":45195098,"body_markdown":"As I said in my question, it is helpful for example when setting things up. What do you mean by &quot;Which is same Static wait&quot;? Waiting for a knowingly non-existent element would be a possibility, albeit not a completely portable one (I can&#39;t choose a non-existent element for *every* webpage).","body":"As I said in my question, it is helpful for example when setting things up. What do you mean by &quot;Which is same Static wait&quot;? Waiting for a knowingly non-existent element would be a possibility, albeit not a completely portable one (I can&#39;t choose a non-existent element for <i>every</i> webpage)."},{"owner":{"account_id":2050353,"reputation":4625,"user_id":1829500,"accept_rate":57,"display_name":"Mrunal Gosar"},"score":1,"creation_date":1423574858,"post_id":28432306,"comment_id":45195758,"body_markdown":"what is stopping you from Thread.sleep(), and who said that it&#39;s dirty solution.","body":"what is stopping you from Thread.sleep(), and who said that it&#39;s dirty solution."},{"owner":{"account_id":3059383,"reputation":1059,"user_id":2592387,"display_name":"Steve Weaver Crawford"},"score":0,"creation_date":1423575110,"post_id":28432306,"comment_id":45195902,"body_markdown":"This is also called an &#39;explicit&#39; wait, and in general is not a good practice, as you know. There are ways that you can do more advanced waits using JavascriptExecutor, I have successfully used this method to wait for CSS3 animations to finish for example, I can dig it up if you think it may help","body":"This is also called an &#39;explicit&#39; wait, and in general is not a good practice, as you know. There are ways that you can do more advanced waits using JavascriptExecutor, I have successfully used this method to wait for CSS3 animations to finish for example, I can dig it up if you think it may help"},{"owner":{"account_id":4725054,"reputation":16161,"user_id":3821981,"accept_rate":62,"display_name":"Saifur"},"score":3,"creation_date":1423575198,"post_id":28432306,"comment_id":45195958,"body_markdown":"Just by reading your question I guess `Thread.sleep()` is the best thing you can do. No need to do anymore coding","body":"Just by reading your question I guess <code>Thread.sleep()</code> is the best thing you can do. No need to do anymore coding"},{"owner":{"account_id":1661507,"reputation":9914,"user_id":1529709,"accept_rate":100,"display_name":"zb226"},"score":0,"creation_date":1423575937,"post_id":28432306,"comment_id":45196487,"body_markdown":"@MrunalGosar: I&#39;ve read this more than once - and thought that it is because running Selenium tests is multi-threaded. I have no further rationale to back that claim up.","body":"@MrunalGosar: I&#39;ve read this more than once - and thought that it is because running Selenium tests is multi-threaded. I have no further rationale to back that claim up."},{"owner":{"account_id":1661507,"reputation":9914,"user_id":1529709,"accept_rate":100,"display_name":"zb226"},"score":0,"creation_date":1423576132,"post_id":28432306,"comment_id":45196642,"body_markdown":"@SteveCrawford: This sounds interesting, even though it&#39;s a conditional wait. If you&#39;ve got the time, I&#39;d be grateful if you&#39;d share it!","body":"@SteveCrawford: This sounds interesting, even though it&#39;s a conditional wait. If you&#39;ve got the time, I&#39;d be grateful if you&#39;d share it!"}],"answers":[{"comments":[{"owner":{"account_id":1661507,"reputation":9914,"user_id":1529709,"accept_rate":100,"display_name":"zb226"},"score":0,"creation_date":1436833601,"post_id":28433028,"comment_id":50767336,"body_markdown":"Again, sorry for the delay... Thanks for answering! I know what you&#39;re getting at. It&#39;s not as bad as  [dont-parse-html-with-regex](http://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags/1732454#1732454), but this *is* sort of a religious issue :)","body":"Again, sorry for the delay... Thanks for answering! I know what you&#39;re getting at. It&#39;s not as bad as  <a href=\"http://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags/1732454#1732454\">dont-parse-html-with-regex</a>, but this <i>is</i> sort of a religious issue :)"},{"owner":{"account_id":84511,"reputation":12504,"user_id":236195,"accept_rate":86,"display_name":"frnhr"},"score":0,"creation_date":1586729802,"post_id":28433028,"comment_id":108229588,"body_markdown":"What is this `Sleep`?","body":"What is this <code>Sleep</code>?"},{"owner":{"account_id":942854,"reputation":29672,"user_id":985454,"accept_rate":84,"display_name":"Qwerty"},"score":0,"creation_date":1586953602,"post_id":28433028,"comment_id":108317463,"body_markdown":"@frnhr Depends on what testing tool you are using. It&#39;s any in-built mechanism that pauses the execution for a set time. Selenium itself doesn&#39;t have such a keyword as it&#39;s just a library that allows you to control the browser. in OP&#39;s context, the `Sleep` would be `Thread.sleep()`.","body":"@frnhr Depends on what testing tool you are using. It&#39;s any in-built mechanism that pauses the execution for a set time. Selenium itself doesn&#39;t have such a keyword as it&#39;s just a library that allows you to control the browser. in OP&#39;s context, the <code>Sleep</code> would be <code>Thread.sleep()</code>."}],"tags":[],"owner":{"account_id":942854,"reputation":29672,"user_id":985454,"accept_rate":84,"display_name":"Qwerty"},"comment_count":3,"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1423575806,"creation_date":1423575327,"answer_id":28433028,"question_id":28432306,"body_markdown":"If you just need to wait, then `Sleep` is fine.\r\n\r\n\r\nThe point of not using `Sleep` is not in the sleep itself, but in the _just waiting_ as you described it. _Just waiting_ is what you should not. Try changing your thinking, find some event you can attach the wait to. Make it conditional.\r\n\r\n\r\n\r\nIn web testing, you don&#39;t usually need to _just wait_. You wait until page loads, until animation finishes, until form sends, element is clickable, user logs in, script executes, data are processed... That&#39;s why `Sleep` is discouraged, but if you really **don&#39;t** have a single event you are waiting for and simply need to **just wait**, then using the `Sleep` is perfectly OK.","title":"Selenium: Explicit / Unconditional wait, i.e. &quot;just wait&quot;","body":"<p>If you just need to wait, then <code>Sleep</code> is fine.</p>\n\n<p>The point of not using <code>Sleep</code> is not in the sleep itself, but in the <em>just waiting</em> as you described it. <em>Just waiting</em> is what you should not. Try changing your thinking, find some event you can attach the wait to. Make it conditional.</p>\n\n<p>In web testing, you don't usually need to <em>just wait</em>. You wait until page loads, until animation finishes, until form sends, element is clickable, user logs in, script executes, data are processed... That's why <code>Sleep</code> is discouraged, but if you really <strong>don't</strong> have a single event you are waiting for and simply need to <strong>just wait</strong>, then using the <code>Sleep</code> is perfectly OK.</p>\n"},{"comments":[{"owner":{"account_id":1661507,"reputation":9914,"user_id":1529709,"accept_rate":100,"display_name":"zb226"},"score":0,"creation_date":1436833746,"post_id":28438709,"comment_id":50767380,"body_markdown":"Sorry for the delay - Totally forgot about this question... This was precisely what I was looking for. Works as advertised, in my case w/Java!","body":"Sorry for the delay - Totally forgot about this question... This was precisely what I was looking for. Works as advertised, in my case w/Java!"}],"tags":[],"owner":{"account_id":2078887,"reputation":147889,"user_id":1906307,"accept_rate":67,"display_name":"Louis"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1423591646,"creation_date":1423591646,"answer_id":28438709,"question_id":28432306,"body_markdown":"[Qwerty&#39;s answer](https://stackoverflow.com/a/28433028/1906307) is correct insofar as the principle is, to paraphrase: \r\n\r\n&gt; Do not &quot;just wait&quot; if you can actually wait for something significant to happen in the browser. In other words, you be waiting for a specific event rather than &quot;just waiting&quot;.\r\n\r\nOk, but let&#39;s assume, for the sake of argument, that you&#39;re in a situation where there is absolutely positively no event you can wait for. I have large test suites that use Selenium and I&#39;ve never been in this situation, but I&#39;m not omniscient. There could be situations I&#39;m not foreseeing. It is possible that `Thread.sleep()` is going to give you want you want, however:\r\n\r\n1. If you are running your browser on a remote provisioning service like Sauce Labs or Browser Stack, they may decide that your script is dead and shut down the browser. (Sauce Labs definitely does this. I&#39;ve never used Browser Stack but I would expect the same.)\r\n\r\n2. If a network issue happens while you are waiting and it is such as to cause a test failure, you won&#39;t know it until you `Thread.sleep()` call is done. This, again, can happen if you use services like those I&#39;ve mentioned above. It happens to my test suites once in a while.\r\n\r\n3. Or if you are testing locally: the browser crashes or enters an infinite loop. I&#39;ve not experienced crashes but I&#39;ve experienced infinite loops. Again, if you use `Thread.sleep()` you won&#39;t know about the issue until you are done waiting.\r\n\r\nOf course, the longer you want to wait, the more of an issue it is. If you just want to wait for a second... then you should be fine with `Thread.sleep()`. Otherwise, if I were backed against the wall and *had* to &quot;just wait&quot; I&#39;d *still* use Selenium&#39;s waiting facilities, I&#39;d do something like:\r\n\r\n    try: \r\n        WebDriverWait(driver, timeout).until(\r\n            lambda driver: driver.execute_script(&quot;return false&quot;))\r\n    except TimeoutException:\r\n        pass # Do nothing\r\n\r\nThis is Python code but the principle is the same in any language that Selenium supports: just wait for something that cannot ever occur. **It is important that the wait executes a test that happens on the browser side because the whole point of doing this instead of using something like `Thread.sleep()` is so that the browser is contacted and we find issues as early as possible.** The way `WebDriverWait` works, it will poll the browser every so often (every 0.5 seconds is the default in the Python implementation). The test could be a `find_element` method that searches for an element that cannot exist. I&#39;ve used an `execute_script` that returns `false`. Since it is never going to return a `true` value, the wait will timeout. (Executing an empty script would also work, as it would return `undefined` which translates to a falsy value but `return false` looks deliberate whereas an empty script looks like a mistake.) Then you just need to ignore the exception raised due to timing out. If you do this often you can even wrap the whole thing in a utility function.","title":"Selenium: Explicit / Unconditional wait, i.e. &quot;just wait&quot;","body":"<p><a href=\"https://stackoverflow.com/a/28433028/1906307\">Qwerty's answer</a> is correct insofar as the principle is, to paraphrase: </p>\n\n<blockquote>\n  <p>Do not \"just wait\" if you can actually wait for something significant to happen in the browser. In other words, you be waiting for a specific event rather than \"just waiting\".</p>\n</blockquote>\n\n<p>Ok, but let's assume, for the sake of argument, that you're in a situation where there is absolutely positively no event you can wait for. I have large test suites that use Selenium and I've never been in this situation, but I'm not omniscient. There could be situations I'm not foreseeing. It is possible that <code>Thread.sleep()</code> is going to give you want you want, however:</p>\n\n<ol>\n<li><p>If you are running your browser on a remote provisioning service like Sauce Labs or Browser Stack, they may decide that your script is dead and shut down the browser. (Sauce Labs definitely does this. I've never used Browser Stack but I would expect the same.)</p></li>\n<li><p>If a network issue happens while you are waiting and it is such as to cause a test failure, you won't know it until you <code>Thread.sleep()</code> call is done. This, again, can happen if you use services like those I've mentioned above. It happens to my test suites once in a while.</p></li>\n<li><p>Or if you are testing locally: the browser crashes or enters an infinite loop. I've not experienced crashes but I've experienced infinite loops. Again, if you use <code>Thread.sleep()</code> you won't know about the issue until you are done waiting.</p></li>\n</ol>\n\n<p>Of course, the longer you want to wait, the more of an issue it is. If you just want to wait for a second... then you should be fine with <code>Thread.sleep()</code>. Otherwise, if I were backed against the wall and <em>had</em> to \"just wait\" I'd <em>still</em> use Selenium's waiting facilities, I'd do something like:</p>\n\n<pre><code>try: \n    WebDriverWait(driver, timeout).until(\n        lambda driver: driver.execute_script(\"return false\"))\nexcept TimeoutException:\n    pass # Do nothing\n</code></pre>\n\n<p>This is Python code but the principle is the same in any language that Selenium supports: just wait for something that cannot ever occur. <strong>It is important that the wait executes a test that happens on the browser side because the whole point of doing this instead of using something like <code>Thread.sleep()</code> is so that the browser is contacted and we find issues as early as possible.</strong> The way <code>WebDriverWait</code> works, it will poll the browser every so often (every 0.5 seconds is the default in the Python implementation). The test could be a <code>find_element</code> method that searches for an element that cannot exist. I've used an <code>execute_script</code> that returns <code>false</code>. Since it is never going to return a <code>true</code> value, the wait will timeout. (Executing an empty script would also work, as it would return <code>undefined</code> which translates to a falsy value but <code>return false</code> looks deliberate whereas an empty script looks like a mistake.) Then you just need to ignore the exception raised due to timing out. If you do this often you can even wrap the whole thing in a utility function.</p>\n"},{"tags":[],"owner":{"account_id":49078,"reputation":44646,"user_id":145989,"accept_rate":59,"display_name":"Ondra Žižka"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668447367,"creation_date":1668447367,"answer_id":74435710,"question_id":28432306,"body_markdown":"If you want to stay Selenium-integral, you may use:\r\n\r\n    Sleeper.SYSTEM_SLEEPER.sleep(Duration.ofSeconds(3))\r\n\r\nI can see a use case for that when you want to slow down the things a bit to see what is happening in the browser. So I make it conditional:\r\n\r\n    Sleeper.SYSTEM_SLEEPER.sleep(Duration.ofMillis(slowDownFactor * 100))\r\n\r\n`slowDownFactor` 0 by default, or more when in a development profile (in my case, a Spring profile, through:\r\n\r\n    @Value(&quot;${debug.slowDownFactor:0}&quot;) private int slowDownFactor;","title":"Selenium: Explicit / Unconditional wait, i.e. &quot;just wait&quot;","body":"<p>If you want to stay Selenium-integral, you may use:</p>\n<pre><code>Sleeper.SYSTEM_SLEEPER.sleep(Duration.ofSeconds(3))\n</code></pre>\n<p>I can see a use case for that when you want to slow down the things a bit to see what is happening in the browser. So I make it conditional:</p>\n<pre><code>Sleeper.SYSTEM_SLEEPER.sleep(Duration.ofMillis(slowDownFactor * 100))\n</code></pre>\n<p><code>slowDownFactor</code> 0 by default, or more when in a development profile (in my case, a Spring profile, through:</p>\n<pre><code>@Value(&quot;${debug.slowDownFactor:0}&quot;) private int slowDownFactor;\n</code></pre>\n"}],"owner":{"account_id":1661507,"reputation":9914,"user_id":1529709,"accept_rate":100,"display_name":"zb226"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2330,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":28438709,"answer_count":3,"score":1,"last_activity_date":1668447401,"creation_date":1423573135,"question_id":28432306,"body_markdown":"As it turns out, the `WebDriverWait` class does not allow for an &quot;unconditional wait&quot;: you always have to specify a certain condition to wait for. However, for example when setting up a project and developing first tests, waiting unconditionally is a helpful feature. The usage of `Thread.sleep()` is often discouraged. Are there better solutions for the &quot;just wait&quot;-problem?\r\n\r\nI&#39;m using the latest Selenium/WebDriver release as of now - `2.44.0`.","title":"Selenium: Explicit / Unconditional wait, i.e. &quot;just wait&quot;","body":"<p>As it turns out, the <code>WebDriverWait</code> class does not allow for an \"unconditional wait\": you always have to specify a certain condition to wait for. However, for example when setting up a project and developing first tests, waiting unconditionally is a helpful feature. The usage of <code>Thread.sleep()</code> is often discouraged. Are there better solutions for the \"just wait\"-problem?</p>\n\n<p>I'm using the latest Selenium/WebDriver release as of now - <code>2.44.0</code>.</p>\n"},{"tags":["java","xml","postgresql","marklogic"],"comments":[{"owner":{"account_id":3883533,"reputation":7620,"user_id":3215485,"display_name":"David Ennis  -CleverLlamas.com"},"score":0,"creation_date":1668459075,"post_id":74435526,"comment_id":131405559,"body_markdown":"Marklogic documentation is clear.. start is a positive int defaulting to (1) and pageLenght is number of records.   So start: 1 and pageLenght:10 will return records 1-10...  Start 23 and pageLenght 7 will return 23-29.. pageLenght 0 returns no results","body":"Marklogic documentation is clear.. start is a positive int defaulting to (1) and pageLenght is number of records.   So start: 1 and pageLenght:10 will return records 1-10...  Start 23 and pageLenght 7 will return 23-29.. pageLenght 0 returns no results"},{"owner":{"account_id":24811112,"reputation":61,"user_id":18692547,"display_name":"Suprita S B"},"score":0,"creation_date":1668693165,"post_id":74435526,"comment_id":131471697,"body_markdown":"@DavidEnnis__17llamas__ Thank you for the response. So the below Postgresql                select * from table  WHERE column=&#39;somevalue&#39; OFFSET 1 ROWS Limit 5                            is equivalent to above marklogic.","body":"@DavidEnnis__17llamas__ Thank you for the response. So the below Postgresql                select * from table  WHERE column=&#39;somevalue&#39; OFFSET 1 ROWS Limit 5                            is equivalent to above marklogic."}],"owner":{"account_id":24811112,"reputation":61,"user_id":18692547,"display_name":"Suprita S B"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668446453,"creation_date":1668446453,"question_id":74435526,"body_markdown":"Please can some one tell clarify me on the start and page_length in marklogic function,\r\n   search:resolve(\r\n           $xml-query, $options, $from_row, $num_fetch  \r\n       )\r\nIf I convert above to Postgresql query,\r\nthen here &quot;from_row&quot;  is nothing but starting from this row say 10th row and &quot;num_fetch&quot; is nothing but fetch 20 rows data starting from 10th rown in Postgresql ?.\r\n\r\nThanks !!!","title":"Convert Marklogic query to Postgresql query","body":"<p>Please can some one tell clarify me on the start and page_length in marklogic function,\nsearch:resolve(\n$xml-query, $options, $from_row, $num_fetch<br />\n)\nIf I convert above to Postgresql query,\nthen here &quot;from_row&quot;  is nothing but starting from this row say 10th row and &quot;num_fetch&quot; is nothing but fetch 20 rows data starting from 10th rown in Postgresql ?.</p>\n<p>Thanks !!!</p>\n"},{"tags":["java","spring","file"],"answers":[{"comments":[{"owner":{"account_id":20434987,"reputation":15,"user_id":14993069,"display_name":"Dimitar"},"score":0,"creation_date":1668428448,"post_id":74431451,"comment_id":131394927,"body_markdown":"this happened when i parsed the code in stackoverflow","body":"this happened when i parsed the code in stackoverflow"},{"owner":{"account_id":16795084,"reputation":232,"user_id":12141701,"display_name":"lukwas"},"score":0,"creation_date":1668428839,"post_id":74431451,"comment_id":131395066,"body_markdown":"it might be encoding problem, https://stackoverflow.com/questions/3030903/content-is-not-allowed-in-prolog-when-parsing-perfectly-valid-xml-on-gae , maybe it has encoding `UTF-8 BOM`","body":"it might be encoding problem, <a href=\"https://stackoverflow.com/questions/3030903/content-is-not-allowed-in-prolog-when-parsing-perfectly-valid-xml-on-gae\" title=\"content is not allowed in prolog when parsing perfectly valid xml on gae\">stackoverflow.com/questions/3030903/&hellip;</a> , maybe it has encoding <code>UTF-8 BOM</code>"},{"owner":{"account_id":20434987,"reputation":15,"user_id":14993069,"display_name":"Dimitar"},"score":0,"creation_date":1668429611,"post_id":74431451,"comment_id":131395315,"body_markdown":"i tried with the different encodings but the best one i got was with UTF-16 which got me ERROR in ch.qos.logback.classic.pattern.LoggerConverter@558bdf1f - failed to parse integer string [1.] java.lang.NumberFormatException: For input string: &quot;1.&quot; which is the same situation Im in right now","body":"i tried with the different encodings but the best one i got was with UTF-16 which got me ERROR in ch.qos.logback.classic.pattern.LoggerConverter@558bdf1f - failed to parse integer string [1.] java.lang.NumberFormatException: For input string: &quot;1.&quot; which is the same situation Im in right now"},{"owner":{"account_id":16795084,"reputation":232,"user_id":12141701,"display_name":"lukwas"},"score":0,"creation_date":1668429743,"post_id":74431451,"comment_id":131395369,"body_markdown":"If You are changing encoding check if file encoding is equal to encoding specified in first line","body":"If You are changing encoding check if file encoding is equal to encoding specified in first line"},{"owner":{"account_id":16795084,"reputation":232,"user_id":12141701,"display_name":"lukwas"},"score":0,"creation_date":1668429896,"post_id":74431451,"comment_id":131395430,"body_markdown":"also see here https://stackoverflow.com/questions/5138696/org-xml-sax-saxparseexception-content-is-not-allowed-in-prolog","body":"also see here <a href=\"https://stackoverflow.com/questions/5138696/org-xml-sax-saxparseexception-content-is-not-allowed-in-prolog\" title=\"org xml sax saxparseexception content is not allowed in prolog\">stackoverflow.com/questions/5138696/&hellip;</a>"}],"tags":[],"owner":{"account_id":16795084,"reputation":232,"user_id":12141701,"display_name":"lukwas"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668427874,"creation_date":1668427874,"answer_id":74431451,"question_id":74431217,"body_markdown":"It looks You have space at start of logback.xml\r\nerror: `lineNumber: 1; columnNumber: 39; Content is not allowed in prolog.`\r\nremove it\r\n\r\nI added space in my config and inteliJ highlighted it as error\r\n[![inteliJ error hint][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZFh2x.png\r\n\r\n, also running app returns similar problem as Yours\r\n","title":"Logging system failed to initialize using configuration from &#39;null&#39;","body":"<p>It looks You have space at start of logback.xml\nerror: <code>lineNumber: 1; columnNumber: 39; Content is not allowed in prolog.</code>\nremove it</p>\n<p>I added space in my config and inteliJ highlighted it as error\n<a href=\"https://i.stack.imgur.com/ZFh2x.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZFh2x.png\" alt=\"inteliJ error hint\" /></a></p>\n<p>, also running app returns similar problem as Yours</p>\n"},{"tags":[],"owner":{"account_id":20434987,"reputation":15,"user_id":14993069,"display_name":"Dimitar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668446221,"creation_date":1668446221,"answer_id":74435469,"question_id":74431217,"body_markdown":"I fixed it by deleting the whole xml version and encoding","title":"Logging system failed to initialize using configuration from &#39;null&#39;","body":"<p>I fixed it by deleting the whole xml version and encoding</p>\n"}],"owner":{"account_id":20434987,"reputation":15,"user_id":14993069,"display_name":"Dimitar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4172,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74435469,"answer_count":2,"score":0,"last_activity_date":1668446221,"creation_date":1668426828,"question_id":74431217,"body_markdown":"Hi Im making a big MVC project and now I&#39;m trying to implement a logging functionallity through .xml file. I&#39;ve triple checked the heading for typos and tried using differend encodings but nothing worked. I&#39;ve added appenders for RollingFile and ConsoleAppender.I want to make a log containing name,date and level.I think thats all \r\n   \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;configuration&gt;\r\n        &lt;include resource=&quot;org/springframework/boot/logging/logback/defaults.xml&quot;/&gt;\r\n        &lt;property name=&quot;LOG_FILE&quot; value=&quot;logs/app.log&quot;/&gt;\r\n    \r\n        &lt;appender name=&quot;FILE-ROLLING&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n            &lt;file&gt;${LOG_FILE}&lt;/file&gt;\r\n    \r\n            &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy&quot;&gt;\r\n                &lt;fileNamePattern&gt;logs/archived/app.%d{yyyy-MM-dd}.%i.log&lt;/fileNamePattern&gt;\r\n                &lt;!-- each archived file, size max 5KB --&gt;\r\n                &lt;maxFileSize&gt;5KB&lt;/maxFileSize&gt;\r\n                &lt;!-- total size of all archive files, if total size &gt; 20KB,\r\n    \t\t\t\tit will delete old archived file --&gt;\r\n                &lt;totalSizeCap&gt;20KB&lt;/totalSizeCap&gt;\r\n                &lt;!-- 60 days to keep --&gt;\r\n                &lt;maxHistory&gt;60&lt;/maxHistory&gt;\r\n            &lt;/rollingPolicy&gt;\r\n    \r\n            &lt;encoder&gt;\r\n                &lt;pattern&gt;%d %p %c{1.} [%t] %m%n&lt;/pattern&gt;\r\n            &lt;/encoder&gt;\r\n        &lt;/appender&gt;\r\n    \r\n        &lt;appender name=&quot;CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n            &lt;layout class=&quot;ch.qos.logback.classic.PatternLayout&quot;&gt;\r\n                &lt;Pattern&gt;\r\n                    %d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n\r\n                &lt;/Pattern&gt;\r\n            &lt;/layout&gt;\r\n        &lt;/appender&gt;\r\n    \r\n    \r\n    \r\n    \r\n        &lt;logger name=&quot;com.dailycodebuffer&quot; level=&quot;error&quot; additivity=&quot;false&quot;&gt;\r\n            &lt;appender-ref ref=&quot;EMAIL&quot;/&gt;\r\n        &lt;/logger&gt;\r\n    \r\n        &lt;logger name=&quot;com.dailycodebuffer&quot; level=&quot;trace&quot; additivity=&quot;false&quot;&gt;\r\n            &lt;appender-ref ref=&quot;FILE-ROLLING&quot;/&gt;\r\n        &lt;/logger&gt;\r\n    \r\n        &lt;root level=&quot;error&quot;&gt;\r\n            &lt;appender-ref ref=&quot;FILE-ROLLING&quot;/&gt;\r\n        &lt;/root&gt;\r\n    \r\n        &lt;logger name=&quot;com.dailycodebuffer&quot; level=&quot;debug&quot; additivity=&quot;false&quot;&gt;\r\n            &lt;appender-ref ref=&quot;CONSOLE&quot;/&gt;\r\n        &lt;/logger&gt;\r\n        &lt;root level=&quot;error&quot;&gt;\r\n            &lt;appender-ref ref=&quot;CONSOLE&quot;/&gt;\r\n        &lt;/root&gt;\r\n    \r\n    &lt;/configuration&gt;\r\n\r\nthe error im getting\r\n\r\n   \r\n\r\n     Logging system failed to initialize using configuration from &#39;null&#39;\r\n    java.lang.IllegalStateException: Could not initialize Logback logging from classpath:logback.xml\r\n    \tat org.springframework.boot.logging.logback.LogbackLoggingSystem.loadConfiguration(LogbackLoggingSystem.java:240)\r\n    \tat org.springframework.boot.logging.logback.LogbackLoggingSystem.reinitialize(LogbackLoggingSystem.java:307)\r\n    \tat org.springframework.boot.logging.AbstractLoggingSystem.initializeWithConventions(AbstractLoggingSystem.java:73)\r\n    \tat org.springframework.boot.logging.AbstractLoggingSystem.initialize(AbstractLoggingSystem.java:60)\r\n    \tat org.springframework.boot.logging.logback.LogbackLoggingSystem.initialize(LogbackLoggingSystem.java:186)\r\n    \tat org.springframework.boot.context.logging.LoggingApplicationListener.initializeSystem(LoggingApplicationListener.java:332)\r\n    \tat org.springframework.boot.context.logging.LoggingApplicationListener.initialize(LoggingApplicationListener.java:298)\r\n    \tat org.springframework.boot.context.logging.LoggingApplicationListener.onApplicationEnvironmentPreparedEvent(LoggingApplicationListener.java:246)\r\n    \tat org.springframework.boot.context.logging.LoggingApplicationListener.onApplicationEvent(LoggingApplicationListener.java:223)\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176)\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169)\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131)\r\n    \tat org.springframework.boot.context.event.EventPublishingRunListener.multicastInitialEvent(EventPublishingRunListener.java:136)\r\n    \tat org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:81)\r\n    \tat org.springframework.boot.SpringApplicationRunListeners.lambda$environmentPrepared$2(SpringApplicationRunListeners.java:64)\r\n    \tat java.base/java.lang.Iterable.forEach(Iterable.java:75)\r\n    \tat org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:118)\r\n    \tat org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:112)\r\n    \tat org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:63)\r\n    \tat org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:352)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:303)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)\r\n    \tat com.myfirm.CarDealer.CarDealerApplication.main(CarDealerApplication.java:10)\r\n    Caused by: ch.qos.logback.core.joran.spi.JoranException: Problem parsing XML document. See previously reported errors.\r\n    \tat ch.qos.logback.core.joran.event.SaxEventRecorder.recordEvents(SaxEventRecorder.java:71)\r\n    \tat ch.qos.logback.core.joran.GenericXMLConfigurator.populateSaxEventRecorder(GenericXMLConfigurator.java:178)\r\n    \tat ch.qos.logback.core.joran.GenericXMLConfigurator.doConfigure(GenericXMLConfigurator.java:159)\r\n    \tat ch.qos.logback.core.joran.GenericXMLConfigurator.doConfigure(GenericXMLConfigurator.java:122)\r\n    \tat ch.qos.logback.core.joran.GenericXMLConfigurator.doConfigure(GenericXMLConfigurator.java:65)\r\n    \tat org.springframework.boot.logging.logback.LogbackLoggingSystem.configureByResourceUrl(LogbackLoggingSystem.java:260)\r\n    \tat org.springframework.boot.logging.logback.LogbackLoggingSystem.loadConfiguration(LogbackLoggingSystem.java:237)\r\n    \t... 24 more\r\n    Caused by: org.xml.sax.SAXParseException; systemId: file:/C:/gitlabProjects/project1/car_dealer/cardealer/target/classes/logback.xml; lineNumber: 1; columnNumber: 39; Content is not allowed in prolog.\r\n    \tat java.xml/com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1251)\r\n    \tat java.xml/com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:637)\r\n    \tat java.xml/com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl.parse(SAXParserImpl.java:326)\r\n    \tat ch.qos.logback.core.joran.event.SaxEventRecorder.recordEvents(SaxEventRecorder.java:64)\r\n    \t... 30 more\r\n\r\n\r\n","title":"Logging system failed to initialize using configuration from &#39;null&#39;","body":"<p>Hi Im making a big MVC project and now I'm trying to implement a logging functionallity through .xml file. I've triple checked the heading for typos and tried using differend encodings but nothing worked. I've added appenders for RollingFile and ConsoleAppender.I want to make a log containing name,date and level.I think thats all</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;configuration&gt;\n    &lt;include resource=&quot;org/springframework/boot/logging/logback/defaults.xml&quot;/&gt;\n    &lt;property name=&quot;LOG_FILE&quot; value=&quot;logs/app.log&quot;/&gt;\n\n    &lt;appender name=&quot;FILE-ROLLING&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\n        &lt;file&gt;${LOG_FILE}&lt;/file&gt;\n\n        &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy&quot;&gt;\n            &lt;fileNamePattern&gt;logs/archived/app.%d{yyyy-MM-dd}.%i.log&lt;/fileNamePattern&gt;\n            &lt;!-- each archived file, size max 5KB --&gt;\n            &lt;maxFileSize&gt;5KB&lt;/maxFileSize&gt;\n            &lt;!-- total size of all archive files, if total size &gt; 20KB,\n                it will delete old archived file --&gt;\n            &lt;totalSizeCap&gt;20KB&lt;/totalSizeCap&gt;\n            &lt;!-- 60 days to keep --&gt;\n            &lt;maxHistory&gt;60&lt;/maxHistory&gt;\n        &lt;/rollingPolicy&gt;\n\n        &lt;encoder&gt;\n            &lt;pattern&gt;%d %p %c{1.} [%t] %m%n&lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n\n    &lt;appender name=&quot;CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;layout class=&quot;ch.qos.logback.classic.PatternLayout&quot;&gt;\n            &lt;Pattern&gt;\n                %d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n\n            &lt;/Pattern&gt;\n        &lt;/layout&gt;\n    &lt;/appender&gt;\n\n\n\n\n    &lt;logger name=&quot;com.dailycodebuffer&quot; level=&quot;error&quot; additivity=&quot;false&quot;&gt;\n        &lt;appender-ref ref=&quot;EMAIL&quot;/&gt;\n    &lt;/logger&gt;\n\n    &lt;logger name=&quot;com.dailycodebuffer&quot; level=&quot;trace&quot; additivity=&quot;false&quot;&gt;\n        &lt;appender-ref ref=&quot;FILE-ROLLING&quot;/&gt;\n    &lt;/logger&gt;\n\n    &lt;root level=&quot;error&quot;&gt;\n        &lt;appender-ref ref=&quot;FILE-ROLLING&quot;/&gt;\n    &lt;/root&gt;\n\n    &lt;logger name=&quot;com.dailycodebuffer&quot; level=&quot;debug&quot; additivity=&quot;false&quot;&gt;\n        &lt;appender-ref ref=&quot;CONSOLE&quot;/&gt;\n    &lt;/logger&gt;\n    &lt;root level=&quot;error&quot;&gt;\n        &lt;appender-ref ref=&quot;CONSOLE&quot;/&gt;\n    &lt;/root&gt;\n\n&lt;/configuration&gt;\n</code></pre>\n<p>the error im getting</p>\n<pre><code> Logging system failed to initialize using configuration from 'null'\njava.lang.IllegalStateException: Could not initialize Logback logging from classpath:logback.xml\n    at org.springframework.boot.logging.logback.LogbackLoggingSystem.loadConfiguration(LogbackLoggingSystem.java:240)\n    at org.springframework.boot.logging.logback.LogbackLoggingSystem.reinitialize(LogbackLoggingSystem.java:307)\n    at org.springframework.boot.logging.AbstractLoggingSystem.initializeWithConventions(AbstractLoggingSystem.java:73)\n    at org.springframework.boot.logging.AbstractLoggingSystem.initialize(AbstractLoggingSystem.java:60)\n    at org.springframework.boot.logging.logback.LogbackLoggingSystem.initialize(LogbackLoggingSystem.java:186)\n    at org.springframework.boot.context.logging.LoggingApplicationListener.initializeSystem(LoggingApplicationListener.java:332)\n    at org.springframework.boot.context.logging.LoggingApplicationListener.initialize(LoggingApplicationListener.java:298)\n    at org.springframework.boot.context.logging.LoggingApplicationListener.onApplicationEnvironmentPreparedEvent(LoggingApplicationListener.java:246)\n    at org.springframework.boot.context.logging.LoggingApplicationListener.onApplicationEvent(LoggingApplicationListener.java:223)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131)\n    at org.springframework.boot.context.event.EventPublishingRunListener.multicastInitialEvent(EventPublishingRunListener.java:136)\n    at org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:81)\n    at org.springframework.boot.SpringApplicationRunListeners.lambda$environmentPrepared$2(SpringApplicationRunListeners.java:64)\n    at java.base/java.lang.Iterable.forEach(Iterable.java:75)\n    at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:118)\n    at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:112)\n    at org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:63)\n    at org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:352)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:303)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)\n    at com.myfirm.CarDealer.CarDealerApplication.main(CarDealerApplication.java:10)\nCaused by: ch.qos.logback.core.joran.spi.JoranException: Problem parsing XML document. See previously reported errors.\n    at ch.qos.logback.core.joran.event.SaxEventRecorder.recordEvents(SaxEventRecorder.java:71)\n    at ch.qos.logback.core.joran.GenericXMLConfigurator.populateSaxEventRecorder(GenericXMLConfigurator.java:178)\n    at ch.qos.logback.core.joran.GenericXMLConfigurator.doConfigure(GenericXMLConfigurator.java:159)\n    at ch.qos.logback.core.joran.GenericXMLConfigurator.doConfigure(GenericXMLConfigurator.java:122)\n    at ch.qos.logback.core.joran.GenericXMLConfigurator.doConfigure(GenericXMLConfigurator.java:65)\n    at org.springframework.boot.logging.logback.LogbackLoggingSystem.configureByResourceUrl(LogbackLoggingSystem.java:260)\n    at org.springframework.boot.logging.logback.LogbackLoggingSystem.loadConfiguration(LogbackLoggingSystem.java:237)\n    ... 24 more\nCaused by: org.xml.sax.SAXParseException; systemId: file:/C:/gitlabProjects/project1/car_dealer/cardealer/target/classes/logback.xml; lineNumber: 1; columnNumber: 39; Content is not allowed in prolog.\n    at java.xml/com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1251)\n    at java.xml/com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:637)\n    at java.xml/com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl.parse(SAXParserImpl.java:326)\n    at ch.qos.logback.core.joran.event.SaxEventRecorder.recordEvents(SaxEventRecorder.java:64)\n    ... 30 more\n</code></pre>\n"},{"tags":["java","android","firebase","google-cloud-platform"],"comments":[{"owner":{"account_id":26351131,"reputation":79,"user_id":20397293,"display_name":"Puru Chaudhary"},"score":0,"creation_date":1668403876,"post_id":74423727,"comment_id":131388164,"body_markdown":"harsh brother i tried some methods but all turned irrevelants","body":"harsh brother i tried some methods but all turned irrevelants"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1668423696,"post_id":74423727,"comment_id":131393523,"body_markdown":"I&#39;m having a hard time understanding what the problem is.\nWhat exactly in this code doesn&#39;t work the way you expect?\nTell us what is wrong with shared code. Do you have any errors?","body":"I&#39;m having a hard time understanding what the problem is. What exactly in this code doesn&#39;t work the way you expect? Tell us what is wrong with shared code. Do you have any errors?"},{"owner":{"account_id":26351131,"reputation":79,"user_id":20397293,"display_name":"Puru Chaudhary"},"score":0,"creation_date":1668424732,"post_id":74423727,"comment_id":131393835,"body_markdown":"I am working on an chat app and this is the code to get the recent chats with whom i have interacted so while sending the messages i have saved the users ids in the recent chats in keys and now i m getting the keys and then i m querying the key to get the users details","body":"I am working on an chat app and this is the code to get the recent chats with whom i have interacted so while sending the messages i have saved the users ids in the recent chats in keys and now i m getting the keys and then i m querying the key to get the users details"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1668425489,"post_id":74423727,"comment_id":131394072,"body_markdown":"Ok, then  what is wrong with shared code?","body":"Ok, then  what is wrong with shared code?"},{"owner":{"account_id":26351131,"reputation":79,"user_id":20397293,"display_name":"Puru Chaudhary"},"score":0,"creation_date":1668426025,"post_id":74423727,"comment_id":131394241,"body_markdown":"so as you can see that in the firestore query code i have added the data in the arraylist to show in the recyclerview and which is showing but i want to show some data from the collection &quot;recent_chats&quot; collection as well in the same arraylist how can i do that","body":"so as you can see that in the firestore query code i have added the data in the arraylist to show in the recyclerview and which is showing but i want to show some data from the collection &quot;recent_chats&quot; collection as well in the same arraylist how can i do that"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1668427012,"post_id":74423727,"comment_id":131394472,"body_markdown":"It&#39;s hard for me to understand what you&#39;re looking for. Please edit your question and add your database structure as a screenshot and indicate the exact data you want to get.","body":"It&#39;s hard for me to understand what you&#39;re looking for. Please edit your question and add your database structure as a screenshot and indicate the exact data you want to get."},{"owner":{"account_id":26351131,"reputation":79,"user_id":20397293,"display_name":"Puru Chaudhary"},"score":0,"creation_date":1668427750,"post_id":74423727,"comment_id":131394691,"body_markdown":"Sir please check i have added","body":"Sir please check i have added"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1668428435,"post_id":74423727,"comment_id":131394921,"body_markdown":"Do you need to get everything under `Recent_Chats`? Or what exists under a specific UID?","body":"Do you need to get everything under <code>Recent_Chats</code>? Or what exists under a specific UID?"},{"owner":{"account_id":26351131,"reputation":79,"user_id":20397293,"display_name":"Puru Chaudhary"},"score":0,"creation_date":1668439301,"post_id":74423727,"comment_id":131398967,"body_markdown":"by specific UID&#39;s Sir","body":"by specific UID&#39;s Sir"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1668441959,"post_id":74423727,"comment_id":131399976,"body_markdown":"Please edit your question and also add the content of your  `Recent_Chat_User` class.","body":"Please edit your question and also add the content of your  <code>Recent_Chat_User</code> class."},{"owner":{"account_id":26351131,"reputation":79,"user_id":20397293,"display_name":"Puru Chaudhary"},"score":0,"creation_date":1668442197,"post_id":74423727,"comment_id":131400054,"body_markdown":"sir as i have added the image of datase in databse there are three things and i need two out of them one is time to show the last message time of message and second is message","body":"sir as i have added the image of datase in databse there are three things and i need two out of them one is time to show the last message time of message and second is message"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1668442475,"post_id":74423727,"comment_id":131400156,"body_markdown":"So are you willing to show us the `Recent_Chat_User` class?","body":"So are you willing to show us the <code>Recent_Chat_User</code> class?"},{"owner":{"account_id":26351131,"reputation":79,"user_id":20397293,"display_name":"Puru Chaudhary"},"score":0,"creation_date":1668442660,"post_id":74423727,"comment_id":131400229,"body_markdown":"yes sir i want to add this class data in the  arraylist called &quot;userarraylist&quot;","body":"yes sir i want to add this class data in the  arraylist called &quot;userarraylist&quot;"},{"owner":{"account_id":26351131,"reputation":79,"user_id":20397293,"display_name":"Puru Chaudhary"},"score":0,"creation_date":1668442687,"post_id":74423727,"comment_id":131400239,"body_markdown":"simaltaneously adding data from the firestore","body":"simaltaneously adding data from the firestore"}],"owner":{"account_id":26351131,"reputation":79,"user_id":20397293,"display_name":"Puru Chaudhary"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668446019,"creation_date":1668364904,"question_id":74423727,"body_markdown":"Hey I am working on an application. So I am getting the user ids from a collection called &quot;Recent Chats&quot; where I have added the users ids in keys. Now I am doing a query using that key (i got from Recent Chats) in the collection called &quot;Users&quot; to get that Particular Users data and then adding the data in the arraylist &quot;usersarraylist&quot;. But  also want data inside the Recent Chats in that arraylist. How can i get that?\r\n\r\n`\r\n```\r\n\r\nString recentUserId;\r\n\r\nfirebaseDatabase.getReference().child(&quot;Recent_Chats&quot;).child(auth.getUid()).get().addOnSuccessListener(new OnSuccessListener&lt;DataSnapshot&gt;() {\r\n    @Override\r\n    public void onSuccess(DataSnapshot dataSnapshot) {\r\n\r\n        for (DataSnapshot snapshot1 : dataSnapshot.getChildren()) {\r\n\r\n             recentUserId = snapshot1.getKey();\r\n\r\n//           want to add data from here to the same arralist &quot;userArrayList&quot;\r\n             Recent_Chat_User recentChatUser = snapshot1.getValue(Recent_Chat_User.class);\r\n\r\n//          Code to query on firestore \r\n\r\n            Query query = firebaseFirestore.collection(&quot;Users&quot;).whereEqualTo(&quot;uid&quot;, recentUserId);\r\n            query.get().addOnSuccessListener(new OnSuccessListener&lt;QuerySnapshot&gt;() {\r\n                @Override\r\n                public void onSuccess(QuerySnapshot queryDocumentSnapshots) {\r\n\r\n\r\n                    List&lt;DocumentSnapshot&gt; list = queryDocumentSnapshots.getDocuments();\r\n                    for (DocumentSnapshot d : list)\r\n                    {\r\n                        Recent_Chat_User obj = d.toObject(Recent_Chat_User.class);\r\n                        userArrayList.add(obj);\r\n\r\n                    }\r\n\r\n                    adapter.notifyDataSetChanged();\r\n\r\n\r\n                    if (userArrayList.isEmpty())\r\n                    {\r\n                        binding.imageView19.setVisibility(View.VISIBLE);\r\n                        binding.noChat.setVisibility(View.VISIBLE);\r\n                    }else\r\n                    {\r\n\r\n                        binding.imageView19.setVisibility(View.GONE);\r\n                        binding.noChat.setVisibility(View.GONE);\r\n                    }\r\n\r\n                }\r\n            });\r\n\r\n\r\n        }\r\n\r\n    }\r\n```\r\n`\r\n\r\n\r\nSo i want to get the collection &quot;recent_chats&quot; data in arraylist &quot;userArrayList&quot;\r\n\r\n[Check the Image Here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/E3YrW.png","title":"adding firebase data in arraylist android is not working?","body":"<p>Hey I am working on an application. So I am getting the user ids from a collection called &quot;Recent Chats&quot; where I have added the users ids in keys. Now I am doing a query using that key (i got from Recent Chats) in the collection called &quot;Users&quot; to get that Particular Users data and then adding the data in the arraylist &quot;usersarraylist&quot;. But  also want data inside the Recent Chats in that arraylist. How can i get that?</p>\n<p>`</p>\n<pre><code>\nString recentUserId;\n\nfirebaseDatabase.getReference().child(&quot;Recent_Chats&quot;).child(auth.getUid()).get().addOnSuccessListener(new OnSuccessListener&lt;DataSnapshot&gt;() {\n    @Override\n    public void onSuccess(DataSnapshot dataSnapshot) {\n\n        for (DataSnapshot snapshot1 : dataSnapshot.getChildren()) {\n\n             recentUserId = snapshot1.getKey();\n\n//           want to add data from here to the same arralist &quot;userArrayList&quot;\n             Recent_Chat_User recentChatUser = snapshot1.getValue(Recent_Chat_User.class);\n\n//          Code to query on firestore \n\n            Query query = firebaseFirestore.collection(&quot;Users&quot;).whereEqualTo(&quot;uid&quot;, recentUserId);\n            query.get().addOnSuccessListener(new OnSuccessListener&lt;QuerySnapshot&gt;() {\n                @Override\n                public void onSuccess(QuerySnapshot queryDocumentSnapshots) {\n\n\n                    List&lt;DocumentSnapshot&gt; list = queryDocumentSnapshots.getDocuments();\n                    for (DocumentSnapshot d : list)\n                    {\n                        Recent_Chat_User obj = d.toObject(Recent_Chat_User.class);\n                        userArrayList.add(obj);\n\n                    }\n\n                    adapter.notifyDataSetChanged();\n\n\n                    if (userArrayList.isEmpty())\n                    {\n                        binding.imageView19.setVisibility(View.VISIBLE);\n                        binding.noChat.setVisibility(View.VISIBLE);\n                    }else\n                    {\n\n                        binding.imageView19.setVisibility(View.GONE);\n                        binding.noChat.setVisibility(View.GONE);\n                    }\n\n                }\n            });\n\n\n        }\n\n    }\n</code></pre>\n<p>`</p>\n<p>So i want to get the collection &quot;recent_chats&quot; data in arraylist &quot;userArrayList&quot;</p>\n<p><a href=\"https://i.stack.imgur.com/E3YrW.png\" rel=\"nofollow noreferrer\">Check the Image Here</a></p>\n"},{"tags":["java","linux","nio"],"answers":[{"comments":[{"owner":{"account_id":86953,"reputation":16978,"user_id":241453,"accept_rate":71,"display_name":"mstrap"},"score":0,"creation_date":1668702143,"post_id":74433815,"comment_id":131475514,"body_markdown":"In which package is your `UnixFileAttributes` class located? On Windows, `UnixFileAttributes` doesn&#39;t seem to be present (Java 11). Hence, my attempt with reflection.","body":"In which package is your <code>UnixFileAttributes</code> class located? On Windows, <code>UnixFileAttributes</code> doesn&#39;t seem to be present (Java 11). Hence, my attempt with reflection."},{"owner":{"account_id":1047596,"reputation":9325,"user_id":1052284,"accept_rate":44,"display_name":"Mark Jeronimus"},"score":0,"creation_date":1668949162,"post_id":74433815,"comment_id":131525354,"body_markdown":"As you seen in my code, in `sun.nio.fs.UnixFileAttributes`. This *is* a proprietary package so it indeed may differ for you. (the &#39;no guarantee&#39; I talked about)","body":"As you seen in my code, in <code>sun.nio.fs.UnixFileAttributes</code>. This <i>is</i> a proprietary package so it indeed may differ for you. (the &#39;no guarantee&#39; I talked about)"}],"tags":[],"owner":{"account_id":1047596,"reputation":9325,"user_id":1052284,"accept_rate":44,"display_name":"Mark Jeronimus"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668445932,"creation_date":1668438544,"answer_id":74433815,"question_id":45377544,"body_markdown":"In my Java, there&#39;s a package-private method just to unwrap the wrapped attributes. No guarantee that any Java will contain this method. For now this works for me and I hope it does for you too.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI can call this method with the following code.\r\n\r\nYou came very close with your attempt at https://stackoverflow.com/q/46676279/1052284. I simplified it a bit for this question.\r\n\r\n\ttry {\r\n\t\tClass&lt;?&gt; basicFileAttributesClass = Class.forName(&quot;java.nio.file.attribute.BasicFileAttributes&quot;);\r\n\t\tClass&lt;?&gt; unixFileAttributesClass  = Class.forName(&quot;sun.nio.fs.UnixFileAttributes&quot;);\r\n\r\n\t\tMethod toUnixFileAttributesMethod =\r\n\t\t\t\tunixFileAttributesClass.getDeclaredMethod(&quot;toUnixFileAttributes&quot;, basicFileAttributesClass);\r\n\t\ttoUnixFileAttributesMethod.setAccessible(true);\r\n\r\n\t\tattrs = (BasicFileAttributes)toUnixFileAttributesMethod.invoke(unixFileAttributesClass, attrs);\r\n\t} catch (ReflectiveOperationException ex) {\r\n\t\tthrow new RuntimeException(ex);\r\n\t}\r\n\r\nFor Java 9 and up, the `setAccessible()` checks module permissions, which your module doesn&#39;t have. This can be unlocked with the VM option `--add-opens java.base/sun.nio.fs=ALL-UNNAMED`.\r\n\r\n  [1]: https://i.stack.imgur.com/XVm6h.png\r\n","title":"How to retrieve Java NIO PosixFilePermission during a Files.walkFileTree?","body":"<p>In my Java, there's a package-private method just to unwrap the wrapped attributes. No guarantee that any Java will contain this method. For now this works for me and I hope it does for you too.</p>\n<p><a href=\"https://i.stack.imgur.com/XVm6h.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XVm6h.png\" alt=\"enter image description here\" /></a></p>\n<p>I can call this method with the following code.</p>\n<p>You came very close with your attempt at <a href=\"https://stackoverflow.com/q/46676279/1052284\">Java 9: How to retrieve the ctime in FileVisitor.visitFile()?</a>. I simplified it a bit for this question.</p>\n<pre><code>try {\n    Class&lt;?&gt; basicFileAttributesClass = Class.forName(&quot;java.nio.file.attribute.BasicFileAttributes&quot;);\n    Class&lt;?&gt; unixFileAttributesClass  = Class.forName(&quot;sun.nio.fs.UnixFileAttributes&quot;);\n\n    Method toUnixFileAttributesMethod =\n            unixFileAttributesClass.getDeclaredMethod(&quot;toUnixFileAttributes&quot;, basicFileAttributesClass);\n    toUnixFileAttributesMethod.setAccessible(true);\n\n    attrs = (BasicFileAttributes)toUnixFileAttributesMethod.invoke(unixFileAttributesClass, attrs);\n} catch (ReflectiveOperationException ex) {\n    throw new RuntimeException(ex);\n}\n</code></pre>\n<p>For Java 9 and up, the <code>setAccessible()</code> checks module permissions, which your module doesn't have. This can be unlocked with the VM option <code>--add-opens java.base/sun.nio.fs=ALL-UNNAMED</code>.</p>\n"}],"owner":{"account_id":86953,"reputation":16978,"user_id":241453,"accept_rate":71,"display_name":"mstrap"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1668445932,"creation_date":1501256643,"question_id":45377544,"body_markdown":"On Unix, `Files.walkFileTree` will callback `FileVisitor.visitFile` with `BasicFileAttributes` which are actually `sun.nio.fs.UnixFileAttributes$UnixAsBasicFileAttributes`. As the debugger shows, the wrapped `UnixFileAttributes` already contain permission information (`st_mode` field is populated). Is there a (graceful) way to _unwrap_ the `UnixFileAttributes$UnixAsBasicFileAttributes` in order to get at least `PosixFileAttributes` so the permissions will be accessible? Reflection does not work for me, but results in an `IllegalAccessError` when trying to invoke `UnixFileAttributes$UnixAsBasicFileAttributes.unwrap`.\r\n\r\nAlso, I want to avoid to explicitly call `Files.getPosixFilePermissions(file)` for every reported file as this gives roughly 10% overhead for my test cases.","title":"How to retrieve Java NIO PosixFilePermission during a Files.walkFileTree?","body":"<p>On Unix, <code>Files.walkFileTree</code> will callback <code>FileVisitor.visitFile</code> with <code>BasicFileAttributes</code> which are actually <code>sun.nio.fs.UnixFileAttributes$UnixAsBasicFileAttributes</code>. As the debugger shows, the wrapped <code>UnixFileAttributes</code> already contain permission information (<code>st_mode</code> field is populated). Is there a (graceful) way to <em>unwrap</em> the <code>UnixFileAttributes$UnixAsBasicFileAttributes</code> in order to get at least <code>PosixFileAttributes</code> so the permissions will be accessible? Reflection does not work for me, but results in an <code>IllegalAccessError</code> when trying to invoke <code>UnixFileAttributes$UnixAsBasicFileAttributes.unwrap</code>.</p>\n\n<p>Also, I want to avoid to explicitly call <code>Files.getPosixFilePermissions(file)</code> for every reported file as this gives roughly 10% overhead for my test cases.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":10907310,"reputation":2214,"user_id":8017666,"display_name":"SRJ"},"score":0,"creation_date":1668176119,"post_id":74403715,"comment_id":131348741,"body_markdown":"Can you add more details about the problem ? please share some code as well if possible.","body":"Can you add more details about the problem ? please share some code as well if possible."},{"owner":{"account_id":9941523,"reputation":1018,"user_id":7357959,"display_name":"Tsvetoslav Tsvetkov"},"score":0,"creation_date":1668176228,"post_id":74403715,"comment_id":131348790,"body_markdown":"Did you try this annoation @JsonPropertyOrder({ &quot;key&quot;, &quot;value&quot;})","body":"Did you try this annoation @JsonPropertyOrder({ &quot;key&quot;, &quot;value&quot;})"},{"owner":{"account_id":383332,"reputation":1147,"user_id":739115,"accept_rate":54,"display_name":"user739115"},"score":1,"creation_date":1668176477,"post_id":74403715,"comment_id":131348896,"body_markdown":"simply we are getting the request ,and adding some items to list to the final response and showing to the user.","body":"simply we are getting the request ,and adding some items to list to the final response and showing to the user."},{"owner":{"account_id":10907310,"reputation":2214,"user_id":8017666,"display_name":"SRJ"},"score":0,"creation_date":1668176968,"post_id":74403715,"comment_id":131349129,"body_markdown":"it may help https://stackoverflow.com/questions/33559459/preserving-order-in-java-object-to-json-with-spring-framework","body":"it may help <a href=\"https://stackoverflow.com/questions/33559459/preserving-order-in-java-object-to-json-with-spring-framework\" title=\"preserving order in java object to json with spring framework\">stackoverflow.com/questions/33559459/&hellip;</a>"},{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1668176989,"post_id":74403715,"comment_id":131349136,"body_markdown":"The array is in its exact input order, the order of the keys of the object per array item differ, but that is of no importance.","body":"The array is in its exact input order, the order of the keys of the object per array item differ, but that is of no importance."},{"owner":{"account_id":383332,"reputation":1147,"user_id":739115,"accept_rate":54,"display_name":"user739115"},"score":0,"creation_date":1668178453,"post_id":74403715,"comment_id":131349714,"body_markdown":"in my case request and response classes will be automatically generated based upon on the json definition so cannot use @JsonPropertyOrder.","body":"in my case request and response classes will be automatically generated based upon on the json definition so cannot use @JsonPropertyOrder."},{"owner":{"account_id":1464652,"reputation":12323,"user_id":1377895,"accept_rate":100,"display_name":"Roman Vottner"},"score":0,"creation_date":1668185265,"post_id":74403715,"comment_id":131352079,"body_markdown":"[`JSON parsing libraries have been observed to differ as to whether or not they make the ordering of object members visible to calling software. Implementations whose behavior does not depend on member ordering will be interoperable in the sense that they will not be affected by these differences.`](https://datatracker.ietf.org/doc/html/rfc8259#section-4)","body":"<a href=\"https://datatracker.ietf.org/doc/html/rfc8259#section-4\" rel=\"nofollow noreferrer\"><code>JSON parsing libraries have been observed to differ as to whether or not they make the ordering of object members visible to calling software. Implementations whose behavior does not depend on member ordering will be interoperable in the sense that they will not be affected by these differences.</code></a>"}],"owner":{"account_id":383332,"reputation":1147,"user_id":739115,"accept_rate":54,"display_name":"user739115"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668445906,"creation_date":1668175760,"question_id":74403715,"body_markdown":"\r\nhow to preserve the json array order in the response value which came up in request body. \r\n\r\nhow to preserve the identifiers order in the response as well?\r\n\r\n    request\r\n       \r\n    \r\n         --------  \r\n              {\r\n                \t&quot;income&quot;: &quot;xyz&quot;,\r\n                \t&quot;test&quot;: &quot;1234&quot;,\r\n                \t&quot;identifiers&quot;: [{\r\n                \t\t\t&quot;key&quot;: &quot;test&quot;,\r\n                \t\t\t&quot;value&quot;: 5678\r\n                \t\t},\r\n                \t\t{\r\n                \t\t\t&quot;key&quot;: &quot;test1&quot;,\r\n                \t\t\t&quot;value&quot;: 1235\r\n                \t\t}\r\n                \t]\r\n                \r\n                }\r\n        \r\n    response\r\n    --------  \r\n  \r\n\r\n    {\r\n        \t&quot;income&quot;: &quot;xyz&quot;,\r\n        \t&quot;test&quot;: &quot;1234&quot;,\r\n        \t&quot;identifiers&quot;: [{\r\n                    &quot;value&quot;: 5678,\r\n        \t\t\t&quot;key&quot;: &quot;test&quot;\r\n        \t\t\t\r\n        \t\t},\r\n        \t\t{\r\n                   &quot;value&quot;: 1235,\r\n        \t\t\t&quot;key&quot;: &quot;test1&quot;\r\n        \t\t\t\r\n        \t\t}\r\n        \t]\r\n        \r\n        }\r\n\r\n","title":"how to preserve the json array order in the response in REST API","body":"<p>how to preserve the json array order in the response value which came up in request body.</p>\n<p>how to preserve the identifiers order in the response as well?</p>\n<pre><code>request\n   \n\n     --------  \n          {\n                &quot;income&quot;: &quot;xyz&quot;,\n                &quot;test&quot;: &quot;1234&quot;,\n                &quot;identifiers&quot;: [{\n                        &quot;key&quot;: &quot;test&quot;,\n                        &quot;value&quot;: 5678\n                    },\n                    {\n                        &quot;key&quot;: &quot;test1&quot;,\n                        &quot;value&quot;: 1235\n                    }\n                ]\n            \n            }\n    \nresponse\n--------  \n\n\n{\n        &quot;income&quot;: &quot;xyz&quot;,\n        &quot;test&quot;: &quot;1234&quot;,\n        &quot;identifiers&quot;: [{\n                &quot;value&quot;: 5678,\n                &quot;key&quot;: &quot;test&quot;\n                \n            },\n            {\n               &quot;value&quot;: 1235,\n                &quot;key&quot;: &quot;test1&quot;\n                \n            }\n        ]\n    \n    }\n</code></pre>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":9382894,"reputation":101,"user_id":8315708,"display_name":"Taras Shpek"},"score":0,"creation_date":1669585637,"post_id":7421474,"comment_id":131669521,"body_markdown":"How to dynamically ignore fields during the serialization: https://stackoverflow.com/a/74594018/8315708","body":"How to dynamically ignore fields during the serialization: <a href=\"https://stackoverflow.com/a/74594018/8315708\">stackoverflow.com/a/74594018/8315708</a>"}],"answers":[{"comments":[{"owner":{"account_id":29567,"reputation":59708,"user_id":80002,"accept_rate":64,"display_name":"mark"},"score":1,"creation_date":1363795989,"post_id":7422285,"comment_id":21997425,"body_markdown":"And if the property is machine generated and has unsupported characters in its name? Like &#39;@&#39;? JVM allows it, but Java compiler does not. Does Jackson have solution for this?","body":"And if the property is machine generated and has unsupported characters in its name? Like &#39;@&#39;? JVM allows it, but Java compiler does not. Does Jackson have solution for this?"},{"owner":{"account_id":1380055,"reputation":17338,"user_id":1313268,"accept_rate":88,"display_name":"CorayThan"},"score":5,"creation_date":1456306274,"post_id":7422285,"comment_id":58881198,"body_markdown":"And in jackson 2.2 it&#39;s `objectMapper.addMixInAnnotations(Class&lt;?&gt; target, Class&lt;?&gt; mixinSource);`","body":"And in jackson 2.2 it&#39;s <code>objectMapper.addMixInAnnotations(Class&lt;?&gt; target, Class&lt;?&gt; mixinSource);</code>"},{"owner":{"account_id":3841568,"reputation":4593,"user_id":3184475,"accept_rate":80,"display_name":"Erran Morad"},"score":0,"creation_date":1573352581,"post_id":7422285,"comment_id":103853591,"body_markdown":"How do I ignore by specifying the property name instead of getter ?","body":"How do I ignore by specifying the property name instead of getter ?"},{"owner":{"account_id":8460659,"reputation":2301,"user_id":6346531,"display_name":"aksh1618"},"score":0,"creation_date":1600087522,"post_id":7422285,"comment_id":112968502,"body_markdown":"Also works for property defined in mixin class: `@JsonIgnore private HttpClient httpClient;`","body":"Also works for property defined in mixin class: <code>@JsonIgnore private HttpClient httpClient;</code>"},{"owner":{"account_id":198567,"reputation":706,"user_id":443309,"accept_rate":25,"display_name":"gkns"},"score":0,"creation_date":1652162064,"post_id":7422285,"comment_id":127532535,"body_markdown":"Just make sure to remove `mapper.disable(MapperFeature.USE_ANNOTATIONS);` If it is configured earlier, otherwise this Mixin annotations won&#39;t have any effect.","body":"Just make sure to remove <code>mapper.disable(MapperFeature.USE_ANNOTATIONS);</code> If it is configured earlier, otherwise this Mixin annotations won&#39;t have any effect."}],"tags":[],"owner":{"account_id":183607,"reputation":33842,"user_id":419075,"accept_rate":96,"display_name":"Amir Raminfar"},"comment_count":5,"down_vote_count":1,"up_vote_count":212,"is_accepted":true,"score":211,"last_activity_date":1555081366,"creation_date":1316030471,"answer_id":7422285,"question_id":7421474,"body_markdown":"You can use [Jackson Mixins][1]. For example:\r\n\r\n    class YourClass {\r\n      public int ignoreThis() { return 0; }    \r\n    }\r\n\r\nWith this Mixin\r\n\r\n    abstract class MixIn {\r\n      @JsonIgnore abstract int ignoreThis(); // we don&#39;t need it!  \r\n    }\r\n\r\nWith this:\r\n\r\n    objectMapper.getSerializationConfig().addMixInAnnotations(YourClass.class, MixIn.class);\r\n\r\nEdit:\r\n\r\nThanks to the comments, with Jackson 2.5+, the API has changed and should be called with `objectMapper.addMixIn(Class&lt;?&gt; target, Class&lt;?&gt; mixinSource)`\r\n\r\n\r\n  [1]: https://github.com/FasterXML/jackson-docs/wiki/JacksonMixInAnnotations","title":"How can I tell jackson to ignore a property for which I don&#39;t have control over the source code?","body":"<p>You can use <a href=\"https://github.com/FasterXML/jackson-docs/wiki/JacksonMixInAnnotations\" rel=\"noreferrer\">Jackson Mixins</a>. For example:</p>\n\n<pre><code>class YourClass {\n  public int ignoreThis() { return 0; }    \n}\n</code></pre>\n\n<p>With this Mixin</p>\n\n<pre><code>abstract class MixIn {\n  @JsonIgnore abstract int ignoreThis(); // we don't need it!  \n}\n</code></pre>\n\n<p>With this:</p>\n\n<pre><code>objectMapper.getSerializationConfig().addMixInAnnotations(YourClass.class, MixIn.class);\n</code></pre>\n\n<p>Edit:</p>\n\n<p>Thanks to the comments, with Jackson 2.5+, the API has changed and should be called with <code>objectMapper.addMixIn(Class&lt;?&gt; target, Class&lt;?&gt; mixinSource)</code></p>\n"},{"tags":[],"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1316107410,"creation_date":1316107410,"answer_id":7434966,"question_id":7421474,"body_markdown":"Mix-in annotations work pretty well here as already mentioned. Another possibility beyond per-property @JsonIgnore is to use @JsonIgnoreType if you have a type that should never be included (i.e. if all instances of GeometryCollection properties should be ignored). You can then either add it directly (if you control the type), or using mix-in, like:\r\n\r\n    @JsonIgnoreType abstract class MixIn { }\r\n    // and then register mix-in, either via SerializationConfig, or by using SimpleModule\r\n\r\nThis can be more convenient if you have lots of classes that all have a single &#39;IgnoredType getContext()&#39; accessor or so (which is the case for many frameworks)","title":"How can I tell jackson to ignore a property for which I don&#39;t have control over the source code?","body":"<p>Mix-in annotations work pretty well here as already mentioned. Another possibility beyond per-property @JsonIgnore is to use @JsonIgnoreType if you have a type that should never be included (i.e. if all instances of GeometryCollection properties should be ignored). You can then either add it directly (if you control the type), or using mix-in, like:</p>\n\n<pre><code>@JsonIgnoreType abstract class MixIn { }\n// and then register mix-in, either via SerializationConfig, or by using SimpleModule\n</code></pre>\n\n<p>This can be more convenient if you have lots of classes that all have a single 'IgnoredType getContext()' accessor or so (which is the case for many frameworks)</p>\n"},{"comments":[{"owner":{"account_id":1877077,"reputation":1544,"user_id":2152016,"accept_rate":42,"display_name":"ms_27"},"score":7,"creation_date":1471933430,"post_id":18850479,"comment_id":65534541,"body_markdown":"It would be great if we could configure the objectMapper to ignore specifc properties only. i.e. report the exception for all new/unknown fields except lets say &#39;myfield&#39;. Something like `mapper.configure(DeserializationFeature.failOnUnknownPropertiesExcep(new String[] {&quot;myField&quot;}));`","body":"It would be great if we could configure the objectMapper to ignore specifc properties only. i.e. report the exception for all new/unknown fields except lets say &#39;myfield&#39;. Something like <code>mapper.configure(DeserializationFeature.failOnUnknownPropert&zwnj;&#8203;iesExcep(new String[] {&quot;myField&quot;}));</code>"},{"owner":{"account_id":9399,"reputation":17347,"user_id":17339,"accept_rate":87,"display_name":"Drew Stephens"},"score":1,"creation_date":1507056628,"post_id":18850479,"comment_id":80057255,"body_markdown":"Note that this can also be configured on a reader using `without()` as in: `mapper.reader().without(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES)`","body":"Note that this can also be configured on a reader using <code>without()</code> as in: <code>mapper.reader().without(DeserializationFeature.FAIL_ON_UNKNO&zwnj;&#8203;WN_PROPERTIES)</code>"},{"owner":{"account_id":80581,"reputation":3955,"user_id":227779,"accept_rate":38,"display_name":"Per Lundberg"},"score":0,"creation_date":1578918700,"post_id":18850479,"comment_id":105584125,"body_markdown":"I would strongly advise against using this mechanism. The &quot;strict&quot; mindset in Jackson, causing errors to be raised on unknown/unhandled fields is one of its strengths and matches the statically typed/compile-time-analyzed nature of Java well. It&#39;s much better to opt out from handling a given set of ignored fields instead.","body":"I would strongly advise against using this mechanism. The &quot;strict&quot; mindset in Jackson, causing errors to be raised on unknown/unhandled fields is one of its strengths and matches the statically typed/compile-time-analyzed nature of Java well. It&#39;s much better to opt out from handling a given set of ignored fields instead."}],"tags":[],"owner":{"account_id":3315140,"reputation":1249,"user_id":2787699,"accept_rate":25,"display_name":"laloumen"},"comment_count":3,"down_vote_count":0,"up_vote_count":81,"is_accepted":false,"score":81,"last_activity_date":1379423442,"creation_date":1379422507,"answer_id":18850479,"question_id":7421474,"body_markdown":"One other possibility is, if you want to ignore all unknown properties, you can configure the mapper as follows:\r\n\r\n    mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n\r\n","title":"How can I tell jackson to ignore a property for which I don&#39;t have control over the source code?","body":"<p>One other possibility is, if you want to ignore all unknown properties, you can configure the mapper as follows:</p>\n\n<pre><code>mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2409035,"reputation":1992,"user_id":2104638,"accept_rate":47,"display_name":"Pasupathi Rajamanickam"},"score":0,"creation_date":1550010632,"post_id":30831572,"comment_id":96110782,"body_markdown":"What is import for `Match.match()`?","body":"What is import for <code>Match.match()</code>?"}],"tags":[],"owner":{"account_id":224671,"reputation":4300,"user_id":484661,"accept_rate":68,"display_name":"monitorjbl"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1434297975,"creation_date":1434297975,"answer_id":30831572,"question_id":7421474,"body_markdown":"I had a similar issue, but it was related to Hibernate&#39;s bi-directional relationships. I wanted to show one side of the relationship and programmatically ignore the other, depending on what view I was dealing with. If you can&#39;t do that, you end up with nasty `StackOverflowException`s. For instance, if I had these objects\r\n\r\n    public class A{\r\n      Long id;\r\n      String name;\r\n      List&lt;B&gt; children;\r\n    }\r\n\r\n    public class B{\r\n      Long id;\r\n      A parent;\r\n    }\r\n\r\nI would want to programmatically ignore the `parent` field in B if I were looking at A, and ignore the `children` field in A if I were looking at B.\r\n\r\nI started off using mixins to do this, but that very quickly becomes horrible; you have so many useless classes laying around that exist solely to format data. I ended up writing my own serializer to handle this in a cleaner way: https://github.com/monitorjbl/json-view. \r\n\r\nIt allows you programmatically specify what fields to ignore:\r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    SimpleModule module = new SimpleModule();\r\n    module.addSerializer(JsonView.class, new JsonViewSerializer());\r\n    mapper.registerModule(module);\r\n\r\n    List&lt;A&gt; list = getListOfA();\r\n    String json = mapper.writeValueAsString(JsonView.with(list)\r\n        .onClass(B.class, match()\r\n            .exclude(&quot;parent&quot;)));\r\n\r\nIt also lets you easily specify very simplified views through wildcard matchers:\r\n\r\n    String json = mapper.writeValueAsString(JsonView.with(list)\r\n        .onClass(A.class, match()\r\n            .exclude(&quot;*&quot;)\r\n             .include(&quot;id&quot;, &quot;name&quot;)));\r\n\r\nIn my original case, the need for simple views like this was to show the bare minimum about the parent/child, but it also became useful for our role-based security. Less privileged views of objects needed to return less information about the object.\r\n\r\nAll of this comes from the serializer, but I was using Spring MVC in my app. To get it to properly handle these cases, I wrote an integration that you can drop in to existing Spring controller classes:\r\n\r\n    @Controller\r\n    public class JsonController {\r\n      private JsonResult json = JsonResult.instance();\r\n      @Autowired\r\n      private TestObjectService service;\r\n\r\n      @RequestMapping(method = RequestMethod.GET, value = &quot;/bean&quot;)\r\n      @ResponseBody\r\n      public List&lt;TestObject&gt; getTestObject() {\r\n        List&lt;TestObject&gt; list = service.list();\r\n\r\n        return json.use(JsonView.with(list)\r\n            .onClass(TestObject.class, Match.match()\r\n                .exclude(&quot;int1&quot;)\r\n                .include(&quot;ignoredDirect&quot;)))\r\n            .returnValue();\r\n      }\r\n    }\r\n\r\nBoth are available on Maven Central. I hope it helps someone else out there, this is a particularly ugly problem with Jackson that didn&#39;t have a good solution for my case.","title":"How can I tell jackson to ignore a property for which I don&#39;t have control over the source code?","body":"<p>I had a similar issue, but it was related to Hibernate's bi-directional relationships. I wanted to show one side of the relationship and programmatically ignore the other, depending on what view I was dealing with. If you can't do that, you end up with nasty <code>StackOverflowException</code>s. For instance, if I had these objects</p>\n\n<pre><code>public class A{\n  Long id;\n  String name;\n  List&lt;B&gt; children;\n}\n\npublic class B{\n  Long id;\n  A parent;\n}\n</code></pre>\n\n<p>I would want to programmatically ignore the <code>parent</code> field in B if I were looking at A, and ignore the <code>children</code> field in A if I were looking at B.</p>\n\n<p>I started off using mixins to do this, but that very quickly becomes horrible; you have so many useless classes laying around that exist solely to format data. I ended up writing my own serializer to handle this in a cleaner way: <a href=\"https://github.com/monitorjbl/json-view\" rel=\"noreferrer\">https://github.com/monitorjbl/json-view</a>. </p>\n\n<p>It allows you programmatically specify what fields to ignore:</p>\n\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nSimpleModule module = new SimpleModule();\nmodule.addSerializer(JsonView.class, new JsonViewSerializer());\nmapper.registerModule(module);\n\nList&lt;A&gt; list = getListOfA();\nString json = mapper.writeValueAsString(JsonView.with(list)\n    .onClass(B.class, match()\n        .exclude(\"parent\")));\n</code></pre>\n\n<p>It also lets you easily specify very simplified views through wildcard matchers:</p>\n\n<pre><code>String json = mapper.writeValueAsString(JsonView.with(list)\n    .onClass(A.class, match()\n        .exclude(\"*\")\n         .include(\"id\", \"name\")));\n</code></pre>\n\n<p>In my original case, the need for simple views like this was to show the bare minimum about the parent/child, but it also became useful for our role-based security. Less privileged views of objects needed to return less information about the object.</p>\n\n<p>All of this comes from the serializer, but I was using Spring MVC in my app. To get it to properly handle these cases, I wrote an integration that you can drop in to existing Spring controller classes:</p>\n\n<pre><code>@Controller\npublic class JsonController {\n  private JsonResult json = JsonResult.instance();\n  @Autowired\n  private TestObjectService service;\n\n  @RequestMapping(method = RequestMethod.GET, value = \"/bean\")\n  @ResponseBody\n  public List&lt;TestObject&gt; getTestObject() {\n    List&lt;TestObject&gt; list = service.list();\n\n    return json.use(JsonView.with(list)\n        .onClass(TestObject.class, Match.match()\n            .exclude(\"int1\")\n            .include(\"ignoredDirect\")))\n        .returnValue();\n  }\n}\n</code></pre>\n\n<p>Both are available on Maven Central. I hope it helps someone else out there, this is a particularly ugly problem with Jackson that didn't have a good solution for my case.</p>\n"},{"tags":[],"owner":{"account_id":2348323,"reputation":13158,"user_id":2057902,"accept_rate":80,"display_name":"Sireesh Yarlagadda"},"comment_count":0,"down_vote_count":0,"up_vote_count":47,"is_accepted":false,"score":47,"last_activity_date":1504624441,"creation_date":1437667045,"answer_id":31592452,"question_id":7421474,"body_markdown":"**Using Java Class**\r\n\r\n    new ObjectMapper().configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false)\r\n\r\n**Using Annotation**\r\n\r\n    @JsonIgnoreProperties(ignoreUnknown=true)","title":"How can I tell jackson to ignore a property for which I don&#39;t have control over the source code?","body":"<p><strong>Using Java Class</strong></p>\n\n<pre><code>new ObjectMapper().configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false)\n</code></pre>\n\n<p><strong>Using Annotation</strong></p>\n\n<pre><code>@JsonIgnoreProperties(ignoreUnknown=true)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3195718,"reputation":506,"user_id":2698939,"accept_rate":33,"display_name":"Vladimir Filipchenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668445844,"creation_date":1441112650,"answer_id":32332455,"question_id":7421474,"body_markdown":"One more good point here is to use `@JsonFilter`. \r\nSome details here [Feature: JSON Filter][1]\r\n\r\n\r\n  [1]: https://web.archive.org/web/20170810222415/http://wiki.fasterxml.com:80/JacksonFeatureJsonFilter","title":"How can I tell jackson to ignore a property for which I don&#39;t have control over the source code?","body":"<p>One more good point here is to use <code>@JsonFilter</code>.\nSome details here <a href=\"https://web.archive.org/web/20170810222415/http://wiki.fasterxml.com:80/JacksonFeatureJsonFilter\" rel=\"nofollow noreferrer\">Feature: JSON Filter</a></p>\n"},{"comments":[{"owner":{"account_id":3841568,"reputation":4593,"user_id":3184475,"accept_rate":80,"display_name":"Erran Morad"},"score":16,"creation_date":1573352419,"post_id":43168061,"comment_id":103853578,"body_markdown":"This approach does not work for me, but the mixin one does. I still get the ignored properties after serialization. Why do we have mixins when we have withoutAttribute() ?","body":"This approach does not work for me, but the mixin one does. I still get the ignored properties after serialization. Why do we have mixins when we have withoutAttribute() ?"},{"owner":{"account_id":3215161,"reputation":386,"user_id":3105386,"accept_rate":57,"display_name":"Vipul Jain"},"score":1,"creation_date":1602954049,"post_id":43168061,"comment_id":113885249,"body_markdown":"&quot;Why do we have mixins when we have withoutAttribute() ?&quot; - \nMixins cannot be set dynamically. https://stackoverflow.com/a/11849523/3105386, while we can do that with &quot;withoutAttributes&quot;. That might be one of the reason.","body":"&quot;Why do we have mixins when we have withoutAttribute() ?&quot; -  Mixins cannot be set dynamically. <a href=\"https://stackoverflow.com/a/11849523/3105386\">stackoverflow.com/a/11849523/3105386</a>, while we can do that with &quot;withoutAttributes&quot;. That might be one of the reason."},{"owner":{"account_id":3215161,"reputation":386,"user_id":3105386,"accept_rate":57,"display_name":"Vipul Jain"},"score":1,"creation_date":1602954402,"post_id":43168061,"comment_id":113885361,"body_markdown":"Secondly, &quot;withoutAttribute&quot; is used when you want to ignore a field with certain name and don&#39;t care about the class. Mixin helps you define that with much more granularity with specific classes in which those fields needs to be ignored.","body":"Secondly, &quot;withoutAttribute&quot; is used when you want to ignore a field with certain name and don&#39;t care about the class. Mixin helps you define that with much more granularity with specific classes in which those fields needs to be ignored."},{"owner":{"account_id":8668087,"reputation":1085,"user_id":6487831,"accept_rate":86,"display_name":"Saurabh Shrivastava"},"score":1,"creation_date":1604681912,"post_id":43168061,"comment_id":114430613,"body_markdown":"@ErranMorad Did you ever figure out why withoutAttribute() wasn&#39;t working?","body":"@ErranMorad Did you ever figure out why withoutAttribute() wasn&#39;t working?"},{"owner":{"account_id":3841568,"reputation":4593,"user_id":3184475,"accept_rate":80,"display_name":"Erran Morad"},"score":0,"creation_date":1605982910,"post_id":43168061,"comment_id":114822766,"body_markdown":"@SaurabhShrivastava - no. I used something else. I don&#39;t remember anymore.","body":"@SaurabhShrivastava - no. I used something else. I don&#39;t remember anymore."},{"owner":{"account_id":2613670,"reputation":499,"user_id":2263251,"display_name":"Srki Rakic"},"score":0,"creation_date":1628302231,"post_id":43168061,"comment_id":121391033,"body_markdown":"This was exactly what I needed - to exclude specific fields at runtime.","body":"This was exactly what I needed - to exclude specific fields at runtime."},{"owner":{"account_id":5258546,"reputation":630,"user_id":4200722,"display_name":"omahdi"},"score":3,"creation_date":1630177526,"post_id":43168061,"comment_id":121887121,"body_markdown":"`ObjectWriter.withoutAttribute` does not work as suggested in the answer. The _attribute_ does not refer to property names of input data and are never referenced in such a context, as pointed in [this comment](https://github.com/FasterXML/jackson-core/issues/700#issuecomment-849182602), for example. This method seems to be geared towards internal use, as can be seen [here](https://github.com/FasterXML/jackson-databind/blob/2.13/src/main/java/com/fasterxml/jackson/databind/ser/std/StdSerializer.java#L364).","body":"<code>ObjectWriter.withoutAttribute</code> does not work as suggested in the answer. The <i>attribute</i> does not refer to property names of input data and are never referenced in such a context, as pointed in <a href=\"https://github.com/FasterXML/jackson-core/issues/700#issuecomment-849182602\" rel=\"nofollow noreferrer\">this comment</a>, for example. This method seems to be geared towards internal use, as can be seen <a href=\"https://github.com/FasterXML/jackson-databind/blob/2.13/src/main/java/com/fasterxml/jackson/databind/ser/std/StdSerializer.java#L364\" rel=\"nofollow noreferrer\">here</a>."}],"tags":[],"owner":{"account_id":53471,"reputation":5683,"user_id":159837,"accept_rate":75,"display_name":"Fırat K&#252;&#231;&#252;k"},"comment_count":7,"down_vote_count":2,"up_vote_count":28,"is_accepted":false,"score":26,"last_activity_date":1491134400,"creation_date":1491134400,"answer_id":43168061,"question_id":7421474,"body_markdown":"Annotation based approach is better. But sometimes manual operation is needed. For this purpose you can use **without** method of **ObjectWriter**.\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    ObjectMapper mapper   = new ObjectMapper().configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false)\r\n    ObjectWriter writer   = mapper.writer().withoutAttribute(&quot;property1&quot;).withoutAttribute(&quot;property2&quot;);\r\n    String       jsonText = writer.writeValueAsString(sourceObject);","title":"How can I tell jackson to ignore a property for which I don&#39;t have control over the source code?","body":"<p>Annotation based approach is better. But sometimes manual operation is needed. For this purpose you can use <strong>without</strong> method of <strong>ObjectWriter</strong>.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>ObjectMapper mapper   = new ObjectMapper().configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false)\nObjectWriter writer   = mapper.writer().withoutAttribute(\"property1\").withoutAttribute(\"property2\");\nString       jsonText = writer.writeValueAsString(sourceObject);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":35502,"reputation":28362,"user_id":100565,"accept_rate":59,"display_name":"MeBigFatGuy"},"score":0,"creation_date":1632604249,"post_id":53716767,"comment_id":122539301,"body_markdown":"only thing  that worked for me, thanks!","body":"only thing  that worked for me, thanks!"}],"tags":[],"owner":{"account_id":10953953,"reputation":389,"user_id":8049404,"display_name":"fifman"},"comment_count":1,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1544497606,"creation_date":1544497606,"answer_id":53716767,"question_id":7421474,"body_markdown":"If you want to ALWAYS exclude certain properties for any class, you could use `setMixInResolver` method:\r\n\r\n        @JsonIgnoreProperties({&quot;id&quot;, &quot;index&quot;, &quot;version&quot;})\r\n        abstract class MixIn {\r\n        }\r\n\r\n        mapper.setMixInResolver(new ClassIntrospector.MixInResolver(){\r\n            @Override\r\n            public Class&lt;?&gt; findMixInClassFor(Class&lt;?&gt; cls) {\r\n                return MixIn.class;  \r\n            }\r\n\r\n            @Override\r\n            public ClassIntrospector.MixInResolver copy() {\r\n                return this;\r\n            }\r\n        });\r\n","title":"How can I tell jackson to ignore a property for which I don&#39;t have control over the source code?","body":"<p>If you want to ALWAYS exclude certain properties for any class, you could use <code>setMixInResolver</code> method:</p>\n\n<pre><code>    @JsonIgnoreProperties({\"id\", \"index\", \"version\"})\n    abstract class MixIn {\n    }\n\n    mapper.setMixInResolver(new ClassIntrospector.MixInResolver(){\n        @Override\n        public Class&lt;?&gt; findMixInClassFor(Class&lt;?&gt; cls) {\n            return MixIn.class;  \n        }\n\n        @Override\n        public ClassIntrospector.MixInResolver copy() {\n            return this;\n        }\n    });\n</code></pre>\n"}],"owner":{"account_id":138951,"reputation":2225,"user_id":344220,"accept_rate":78,"display_name":"maverick"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":284440,"favorite_count":0,"down_vote_count":1,"up_vote_count":164,"accepted_answer_id":7422285,"answer_count":8,"score":163,"last_activity_date":1668445844,"creation_date":1316026330,"question_id":7421474,"body_markdown":"Long story short, one of my entities has a [GeometryCollection](http://www.vividsolutions.com/jts/javadoc/com/vividsolutions/jts/geom/GeometryCollection.html) that throws an exception when you call &quot;getBoundary&quot; (the why of this is another book, for now let&#39;s say this is the way it works). \r\n\r\nIs there a way I can tell Jackson not to include that specific getter? I know I can use @JacksonIgnore when I do own/control the code. But this is not case, jackson ends reaching this point through continuous serialization of the parent objects. I saw a filtering option in jackson documentation. Is that a plausible solution?\r\n\r\nThanks!\r\n\r\n","title":"How can I tell jackson to ignore a property for which I don&#39;t have control over the source code?","body":"<p>Long story short, one of my entities has a <a href=\"http://www.vividsolutions.com/jts/javadoc/com/vividsolutions/jts/geom/GeometryCollection.html\" rel=\"noreferrer\">GeometryCollection</a> that throws an exception when you call \"getBoundary\" (the why of this is another book, for now let's say this is the way it works). </p>\n\n<p>Is there a way I can tell Jackson not to include that specific getter? I know I can use @JacksonIgnore when I do own/control the code. But this is not case, jackson ends reaching this point through continuous serialization of the parent objects. I saw a filtering option in jackson documentation. Is that a plausible solution?</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","testing","mockito","quarkus"],"answers":[{"comments":[{"owner":{"account_id":26929970,"reputation":1,"user_id":20502592,"display_name":"wilt868"},"score":0,"creation_date":1668447851,"post_id":74435383,"comment_id":131402166,"body_markdown":"Thank you, that actually worked, but the problem was that when the static method was called, it did not get mocked, I made it return true when get called, but it did not.","body":"Thank you, that actually worked, but the problem was that when the static method was called, it did not get mocked, I made it return true when get called, but it did not."}],"tags":[],"owner":{"account_id":1580843,"reputation":13479,"user_id":1466267,"accept_rate":91,"display_name":"SpaceTrucker"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668445796,"creation_date":1668445796,"answer_id":74435383,"question_id":74435011,"body_markdown":"`AuthorizationHelper.checkJwt` is a static method invocation. Mocking this works differently in mockito. As per [mockito documentation][1]:\r\n\r\n```\r\nassertEquals(&quot;foo&quot;, Foo.method());\r\ntry (MockedStatic mocked = mockStatic(Foo.class)) {\r\n    mocked.when(Foo::method).thenReturn(&quot;bar&quot;);\r\n    assertEquals(&quot;bar&quot;, Foo.method());\r\n    mocked.verify(Foo::method);\r\n}\r\nassertEquals(&quot;foo&quot;, Foo.method());\r\n```\r\n\r\nIn your case you need to take care of the arguments and do something like this (haven&#39;t tested):\r\n```\r\n    mocked.when(() -&gt; AuthorizationHelper.checkJwt(Mockito.any(JsonWebToken.class))).thenReturn(true);\r\n```\r\n\r\n  [1]: https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#48","title":"How do I mock a jwt with Mockito","body":"<p><code>AuthorizationHelper.checkJwt</code> is a static method invocation. Mocking this works differently in mockito. As per <a href=\"https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#48\" rel=\"nofollow noreferrer\">mockito documentation</a>:</p>\n<pre><code>assertEquals(&quot;foo&quot;, Foo.method());\ntry (MockedStatic mocked = mockStatic(Foo.class)) {\n    mocked.when(Foo::method).thenReturn(&quot;bar&quot;);\n    assertEquals(&quot;bar&quot;, Foo.method());\n    mocked.verify(Foo::method);\n}\nassertEquals(&quot;foo&quot;, Foo.method());\n</code></pre>\n<p>In your case you need to take care of the arguments and do something like this (haven't tested):</p>\n<pre><code>    mocked.when(() -&gt; AuthorizationHelper.checkJwt(Mockito.any(JsonWebToken.class))).thenReturn(true);\n</code></pre>\n"}],"owner":{"account_id":26929970,"reputation":1,"user_id":20502592,"display_name":"wilt868"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":275,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668445796,"creation_date":1668444088,"question_id":74435011,"body_markdown":"I have this code snippet in a controller to test in quarkus:\r\n\r\n```\r\n@Context \r\nprivate SecurityContext securityContext;\r\n....\r\nJsonWebToken jsonWebToken = (JsonWebToken) securityContext.getUserPrincipal();\r\nif(!AuthorizationHelper.checkJwt(jsonWebToken)) {\r\n    return Response.status(Response.Status.UNAUTHORIZED).build();\r\n}\r\n```\r\n\r\nAuthorizationHelper is a class with @Singleton annotation, checkJwt() method looks like this:\r\n\r\n```\r\npublic static boolean checkJwt(JsonWebToken jsonWebToken) {\r\n    return jsonWebToken!=null&amp;&amp;jsonWebToken.getName()!=null;\r\n} \r\n```\r\n\r\nAnd this is what I wrote:\r\n\r\n```\r\n@Test\r\npublic void testGetUsers() {\r\n    Mockito.when(AuthorizationHelper.checkJwt(Mockito.any(JsonWebToken.class))).thenReturn(true);\r\n    given()\r\n            .when().get(&quot;/api/v1/users&quot;)\r\n            .then()\r\n            .statusCode(200);\r\n}\r\n```\r\nIt complains that &quot;You cannot use argument matchers outside of verification or stubbing.&quot;\r\n\r\n\r\n\r\nI did try mock SecurityContext class, and make it return a jwt I created, though I initialized that jwt, it will return null when it came securityContext.getPrincipal().","title":"How do I mock a jwt with Mockito","body":"<p>I have this code snippet in a controller to test in quarkus:</p>\n<pre><code>@Context \nprivate SecurityContext securityContext;\n....\nJsonWebToken jsonWebToken = (JsonWebToken) securityContext.getUserPrincipal();\nif(!AuthorizationHelper.checkJwt(jsonWebToken)) {\n    return Response.status(Response.Status.UNAUTHORIZED).build();\n}\n</code></pre>\n<p>AuthorizationHelper is a class with @Singleton annotation, checkJwt() method looks like this:</p>\n<pre><code>public static boolean checkJwt(JsonWebToken jsonWebToken) {\n    return jsonWebToken!=null&amp;&amp;jsonWebToken.getName()!=null;\n} \n</code></pre>\n<p>And this is what I wrote:</p>\n<pre><code>@Test\npublic void testGetUsers() {\n    Mockito.when(AuthorizationHelper.checkJwt(Mockito.any(JsonWebToken.class))).thenReturn(true);\n    given()\n            .when().get(&quot;/api/v1/users&quot;)\n            .then()\n            .statusCode(200);\n}\n</code></pre>\n<p>It complains that &quot;You cannot use argument matchers outside of verification or stubbing.&quot;</p>\n<p>I did try mock SecurityContext class, and make it return a jwt I created, though I initialized that jwt, it will return null when it came securityContext.getPrincipal().</p>\n"},{"tags":["java","lambda"],"answers":[{"comments":[{"owner":{"account_id":7845873,"reputation":9,"user_id":10216363,"display_name":"rob-DEV"},"score":0,"creation_date":1668445920,"post_id":74435364,"comment_id":131401465,"body_markdown":"The code was called via an optional method. ifPresentOrElse and seemed to work the same regardless?","body":"The code was called via an optional method. ifPresentOrElse and seemed to work the same regardless?"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1668446067,"post_id":74435364,"comment_id":131401516,"body_markdown":"@rob-DEV Probably by &quot;mistake&quot;. If you did `Runnable r = persist(theData); theData.setComparisonTime(SOME_OTHER_VALUE); r.run();`, then I would expect the behavior of the first approach to change. That would (or should) have no effect on the second approach, because it sets the &quot;comparison time&quot; as part of the runnable implementation.","body":"@rob-DEV Probably by &quot;mistake&quot;. If you did <code>Runnable r = persist(theData); theData.setComparisonTime(SOME_OTHER_VALUE); r.run();</code>, then I would expect the behavior of the first approach to change. That would (or should) have no effect on the second approach, because it sets the &quot;comparison time&quot; as part of the runnable implementation."}],"tags":[],"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1668445693,"creation_date":1668445693,"answer_id":74435364,"question_id":74435340,"body_markdown":"It matters for when the `data.setComparisonTime` is run. You have a function that returns a function; in the first case, the `setComparisonTime` will be run when the `persist` method is run. In the latter, it will not be run until the returned lambda is run.","title":"Java statement before lambda","body":"<p>It matters for when the <code>data.setComparisonTime</code> is run. You have a function that returns a function; in the first case, the <code>setComparisonTime</code> will be run when the <code>persist</code> method is run. In the latter, it will not be run until the returned lambda is run.</p>\n"}],"owner":{"account_id":7845873,"reputation":9,"user_id":10216363,"display_name":"rob-DEV"},"comment_count":0,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1668455195,"accepted_answer_id":74435364,"answer_count":1,"score":-2,"last_activity_date":1668445762,"creation_date":1668445546,"question_id":74435340,"body_markdown":"I had this code previously which worked \r\n\r\n```\r\nprivate Runnable persist(Data data) {\r\n    data.setComparisonTime(NO_COMPARISON_PERFORMED);\r\n    return () -&gt; {\r\n        ...\r\n    };\r\n}\r\n```\r\nLater I refactored the code as I&#39;d missed this before.\r\n```\r\nprivate Runnable persist(Data data) { \r\n    return () -&gt; {\r\n        data.setComparisonTime(NO_COMPARISON_PERFORMED);\r\n        ...\r\n    };\r\n}\r\n```\r\nWhat is the difference between these two statements?","title":"Java statement before lambda","body":"<p>I had this code previously which worked</p>\n<pre><code>private Runnable persist(Data data) {\n    data.setComparisonTime(NO_COMPARISON_PERFORMED);\n    return () -&gt; {\n        ...\n    };\n}\n</code></pre>\n<p>Later I refactored the code as I'd missed this before.</p>\n<pre><code>private Runnable persist(Data data) { \n    return () -&gt; {\n        data.setComparisonTime(NO_COMPARISON_PERFORMED);\n        ...\n    };\n}\n</code></pre>\n<p>What is the difference between these two statements?</p>\n"},{"tags":["java","arrays"],"answers":[{"comments":[{"owner":{"account_id":21834347,"reputation":33,"user_id":16128864,"display_name":"Sam"},"score":0,"creation_date":1668456907,"post_id":74435337,"comment_id":131404901,"body_markdown":"I think I don&#39;t know how to do this in terms of code, but I understand how it should work.","body":"I think I don&#39;t know how to do this in terms of code, but I understand how it should work."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1668503768,"post_id":74435337,"comment_id":131415017,"body_markdown":"Hint: you don&#39;t always have to use `i++` as the update in the for loop.","body":"Hint: you don&#39;t always have to use <code>i++</code> as the update in the for loop."},{"owner":{"account_id":21834347,"reputation":33,"user_id":16128864,"display_name":"Sam"},"score":0,"creation_date":1668546396,"post_id":74435337,"comment_id":131430941,"body_markdown":"```public void insertAtRank(int r, Object o) {\n        if (arrayVetor[r] != null) {\n            for (int i = r + 1; i &gt;= r; i--) {\n                arrayVetor[i+1] = arrayVetor[i];\n            }\n        }\n        this.arrayVetor[r] = o;\n    }```","body":"<code>public void insertAtRank(int r, Object o) {         if (arrayVetor[r] != null) {             for (int i = r + 1; i &gt;= r; i--) {                 arrayVetor[i+1] = arrayVetor[i];             }         }         this.arrayVetor[r] = o;     }</code>"},{"owner":{"account_id":21834347,"reputation":33,"user_id":16128864,"display_name":"Sam"},"score":0,"creation_date":1668546478,"post_id":74435337,"comment_id":131430965,"body_markdown":"I created this code, following your instructions, but for example, when I have an array of size 10 and I place a element at index &quot;7&quot; and another at index &quot;9&quot;:\n`[null, null, null, null, null, null, null, 7, null, 9]`\nwhen I do an &quot;arrayVetor.insertAtRank(7, &quot;7.5&quot;);&quot;\nits supposed to happen:\n`[null, null, null, null, null, null, null, 7.5, 7, 9]`\nbut what is happening is:\n`[null, null, null, null, null, null, null, 7.5, 7, null]`","body":"I created this code, following your instructions, but for example, when I have an array of size 10 and I place a element at index &quot;7&quot; and another at index &quot;9&quot;: <code>[null, null, null, null, null, null, null, 7, null, 9]</code> when I do an &quot;arrayVetor.insertAtRank(7, &quot;7.5&quot;);&quot; its supposed to happen: <code>[null, null, null, null, null, null, null, 7.5, 7, 9]</code> but what is happening is: <code>[null, null, null, null, null, null, null, 7.5, 7, null]</code>"}],"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668445527,"creation_date":1668445527,"answer_id":74435337,"question_id":74435137,"body_markdown":"Think about what happens in that loop for, say, `r == 0`:\r\n\r\n* The element at `arrayVetor[0]` is copied to `arrayVetor[1]`\r\n* The element at `arrayVetor[1]` is copied to `arrayVetor[2]`\r\n* The element at `arrayVetor[2]` is copied to `arrayVetor[3]`\r\n* ...\r\n* The element at `arrayVetor[8]` is copied to `arrayVetor[9]`.\r\n\r\nSo you end up copying (well, assigning) the value at `arrayVetor[0]` to all elements in the array.\r\n\r\nWhat you actually want to be doing is:\r\n\r\n* Copying the element at `arrayVetor[8]` to `arrayVetor[9]`\r\n* Copying the element at `arrayVetor[7]` to `arrayVetor[8]`\r\n* Copying the element at `arrayVetor[6]` to `arrayVetor[7]`\r\n* ...\r\n* Copying the element at `arrayVetor[0]` to `arrayVetor[1]`\r\n\r\nAnd then assigning the new value to `arrayVetor[0]`.","title":"Shift elements to right in a array to add a new element in java","body":"<p>Think about what happens in that loop for, say, <code>r == 0</code>:</p>\n<ul>\n<li>The element at <code>arrayVetor[0]</code> is copied to <code>arrayVetor[1]</code></li>\n<li>The element at <code>arrayVetor[1]</code> is copied to <code>arrayVetor[2]</code></li>\n<li>The element at <code>arrayVetor[2]</code> is copied to <code>arrayVetor[3]</code></li>\n<li>...</li>\n<li>The element at <code>arrayVetor[8]</code> is copied to <code>arrayVetor[9]</code>.</li>\n</ul>\n<p>So you end up copying (well, assigning) the value at <code>arrayVetor[0]</code> to all elements in the array.</p>\n<p>What you actually want to be doing is:</p>\n<ul>\n<li>Copying the element at <code>arrayVetor[8]</code> to <code>arrayVetor[9]</code></li>\n<li>Copying the element at <code>arrayVetor[7]</code> to <code>arrayVetor[8]</code></li>\n<li>Copying the element at <code>arrayVetor[6]</code> to <code>arrayVetor[7]</code></li>\n<li>...</li>\n<li>Copying the element at <code>arrayVetor[0]</code> to <code>arrayVetor[1]</code></li>\n</ul>\n<p>And then assigning the new value to <code>arrayVetor[0]</code>.</p>\n"}],"owner":{"account_id":21834347,"reputation":33,"user_id":16128864,"display_name":"Sam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668445527,"creation_date":1668444688,"question_id":74435137,"body_markdown":"Im trying to shift some elements of the array to get space for a new element in the index chosen, but my array is cloning the element after the index till the end of the array\r\n\r\n```\r\npublic void insertAtRank(int r, Object o) {\r\n    for(int i = r+1 ; i &lt; arrayVetor.length; i++ ){\r\n        arrayVetor[i] = arrayVetor[i-1];\r\n    }\r\n    this.arrayVetor[r] = o;\r\n}\r\n```\r\n\r\n```\r\narrayVetor.insertAtRank(0, &quot;1&quot;);\r\narrayVetor.insertAtRank(1, &quot;2&quot;);\r\narrayVetor.insertAtRank(2, &quot;3&quot;);\r\narrayVetor.insertAtRank(3, &quot;4&quot;);\r\narrayVetor.insertAtRank(2, &quot;5&quot;);\r\n\r\n```\r\n\r\nthe output:\r\n`[1, 2, 5, 3, 3, 3, 3, 3, 3, 3]`\r\n\r\nwhat i want:\r\n`[1, 2, 5, 3, 4, null, null, null, null, null]`\r\n\r\n\r\n","title":"Shift elements to right in a array to add a new element in java","body":"<p>Im trying to shift some elements of the array to get space for a new element in the index chosen, but my array is cloning the element after the index till the end of the array</p>\n<pre><code>public void insertAtRank(int r, Object o) {\n    for(int i = r+1 ; i &lt; arrayVetor.length; i++ ){\n        arrayVetor[i] = arrayVetor[i-1];\n    }\n    this.arrayVetor[r] = o;\n}\n</code></pre>\n<pre><code>arrayVetor.insertAtRank(0, &quot;1&quot;);\narrayVetor.insertAtRank(1, &quot;2&quot;);\narrayVetor.insertAtRank(2, &quot;3&quot;);\narrayVetor.insertAtRank(3, &quot;4&quot;);\narrayVetor.insertAtRank(2, &quot;5&quot;);\n\n</code></pre>\n<p>the output:\n<code>[1, 2, 5, 3, 3, 3, 3, 3, 3, 3]</code></p>\n<p>what i want:\n<code>[1, 2, 5, 3, 4, null, null, null, null, null]</code></p>\n"},{"tags":["java","spring","jpa","spring-data-jpa","spring-data"],"answers":[{"comments":[{"owner":{"account_id":14162458,"reputation":3910,"user_id":10231374,"display_name":"Toni"},"score":0,"creation_date":1668449914,"post_id":74435308,"comment_id":131402830,"body_markdown":"For reference: [Spring Data JPA - Query Creation](https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.query-creation)","body":"For reference: <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.query-creation\" rel=\"nofollow noreferrer\">Spring Data JPA - Query Creation</a>"}],"tags":[],"owner":{"account_id":26506001,"reputation":2574,"user_id":20142156,"display_name":"Dhaval Gajjar"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668445446,"creation_date":1668445446,"answer_id":74435308,"question_id":74435222,"body_markdown":"Use `findByParentGuidIn` instead of `findByGroupParentGuidIn`. After findBy it will use the property name you want to filter. In your case, you added class as well.\r\n\r\n```\r\nList&lt;Group&gt; findByParentGuidIn(List&lt;String&gt; guids);\r\n```","title":"Spring CrudRepository select all groups with a parent from the list","body":"<p>Use <code>findByParentGuidIn</code> instead of <code>findByGroupParentGuidIn</code>. After findBy it will use the property name you want to filter. In your case, you added class as well.</p>\n<pre><code>List&lt;Group&gt; findByParentGuidIn(List&lt;String&gt; guids);\n</code></pre>\n"}],"owner":{"account_id":3600664,"reputation":2545,"user_id":3004041,"accept_rate":34,"display_name":"covfefe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668445446,"creation_date":1668445059,"question_id":74435222,"body_markdown":"I have an entity defined as follows:\r\n\r\n    @Entity\r\n    public class Group extends Auditable&lt;String&gt; {\r\n    \r\n      private static final long serialVersionUID = 1L;\r\n    \r\n      private Long id;\r\n    \r\n      private String parentGuid;\r\n    \r\n      // other fields\r\n      // getters/setters\r\n    \r\n    }\r\n\r\nWith the repository defined as follows:\r\n\r\n    @Repository\r\n    @Transactional\r\n    public interface GroupRepository extends CrudRepository&lt;Group, String&gt; {\r\n    \r\n      Group findById(String id);\r\n    \r\n    }\r\n\r\n\r\nI&#39;m trying to get all groups that have a parentGuid equal to any one of a list of guids. So if I have a list like so - `List&lt;String&gt; listGuid = [&#39;parent1&#39;, &#39;parent2&#39;, &#39;parent3&#39;]`, I want my sql query to be like this:\r\n\r\n    select * from groups where parentGuid=&#39;parent1&#39; or parentGuid=&#39;parent2&#39; or parentGuid=&#39;parent3&#39;;\r\n\r\n\r\nSo in the repository class, I want to have a method like this which automatically constructs that query using the list of guids passed in:\r\n\r\n    List&lt;Group&gt; findByGroupParentGuidIn(List&lt;String&gt; guids);\r\n\r\n\r\nBut I get a warning saying &#39;Cannot resolve property GroupParentGuid&#39; and I don&#39;t think is the right way to construct that query. Would appreciate any help!","title":"Spring CrudRepository select all groups with a parent from the list","body":"<p>I have an entity defined as follows:</p>\n<pre><code>@Entity\npublic class Group extends Auditable&lt;String&gt; {\n\n  private static final long serialVersionUID = 1L;\n\n  private Long id;\n\n  private String parentGuid;\n\n  // other fields\n  // getters/setters\n\n}\n</code></pre>\n<p>With the repository defined as follows:</p>\n<pre><code>@Repository\n@Transactional\npublic interface GroupRepository extends CrudRepository&lt;Group, String&gt; {\n\n  Group findById(String id);\n\n}\n</code></pre>\n<p>I'm trying to get all groups that have a parentGuid equal to any one of a list of guids. So if I have a list like so - <code>List&lt;String&gt; listGuid = ['parent1', 'parent2', 'parent3']</code>, I want my sql query to be like this:</p>\n<pre><code>select * from groups where parentGuid='parent1' or parentGuid='parent2' or parentGuid='parent3';\n</code></pre>\n<p>So in the repository class, I want to have a method like this which automatically constructs that query using the list of guids passed in:</p>\n<pre><code>List&lt;Group&gt; findByGroupParentGuidIn(List&lt;String&gt; guids);\n</code></pre>\n<p>But I get a warning saying 'Cannot resolve property GroupParentGuid' and I don't think is the right way to construct that query. Would appreciate any help!</p>\n"},{"tags":["java","recursion"],"comments":[{"owner":{"account_id":4338431,"reputation":1014,"user_id":3542351,"display_name":"terpinmd"},"score":0,"creation_date":1668179677,"post_id":74404398,"comment_id":131350104,"body_markdown":"Might be missing just the base case, google recursion base case to see if that helps","body":"Might be missing just the base case, google recursion base case to see if that helps"},{"owner":{"account_id":26819783,"reputation":124,"user_id":20409306,"display_name":"Jared Renzullo"},"score":0,"creation_date":1668198621,"post_id":74404398,"comment_id":131355809,"body_markdown":"Your requirements aren&#39;t clear. The way I read it, you are given [1, 5, 16] and a sum of 22 and the answer would be yes that you can make the sum of 22 given the three coins. It looks like a simple iteration and sum. What are the actual requirements?","body":"Your requirements aren&#39;t clear. The way I read it, you are given [1, 5, 16] and a sum of 22 and the answer would be yes that you can make the sum of 22 given the three coins. It looks like a simple iteration and sum. What are the actual requirements?"},{"owner":{"account_id":24419106,"reputation":13,"user_id":18345621,"display_name":"I_Hate_ReLU"},"score":0,"creation_date":1668255866,"post_id":74404398,"comment_id":131363950,"body_markdown":"For example, if you are given [1, 5 ,16], you could definitely get 22, right? What if you were give [12,4,120,240,32] and asked if you could get 36? You would need to return true. If you were given, for example, [1,2, 5, 60,12, 452] and asked if you could get 4, you would have to return false; Iteration would just add these sums together\n@JaredRenzullo","body":"For example, if you are given [1, 5 ,16], you could definitely get 22, right? What if you were give [12,4,120,240,32] and asked if you could get 36? You would need to return true. If you were given, for example, [1,2, 5, 60,12, 452] and asked if you could get 4, you would have to return false; Iteration would just add these sums together @JaredRenzullo"},{"owner":{"account_id":24419106,"reputation":13,"user_id":18345621,"display_name":"I_Hate_ReLU"},"score":0,"creation_date":1668396941,"post_id":74404398,"comment_id":131387247,"body_markdown":"@terpinmd I looked into it, but wouldn&#39;t the return inside the for statement serve to be a base case?","body":"@terpinmd I looked into it, but wouldn&#39;t the return inside the for statement serve to be a base case?"}],"answers":[{"comments":[{"owner":{"account_id":24419106,"reputation":13,"user_id":18345621,"display_name":"I_Hate_ReLU"},"score":0,"creation_date":1668445157,"post_id":74434195,"comment_id":131401194,"body_markdown":"Thanks so much! I understand most of what you did, just by checking the first denomination each time. The time-complexity solution you mentioned is so much more cleaner than my code haha","body":"Thanks so much! I understand most of what you did, just by checking the first denomination each time. The time-complexity solution you mentioned is so much more cleaner than my code haha"},{"owner":{"account_id":8414320,"reputation":4785,"user_id":6315242,"display_name":"Per Huss"},"score":0,"creation_date":1668445387,"post_id":74434195,"comment_id":131401288,"body_markdown":"... and if the problem changes to infinite coins of each denomination, you will probably need to revert to that Dynamic programming to get it performant... Good luck!","body":"... and if the problem changes to infinite coins of each denomination, you will probably need to revert to that Dynamic programming to get it performant... Good luck!"}],"tags":[],"owner":{"account_id":8414320,"reputation":4785,"user_id":6315242,"display_name":"Per Huss"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1668445212,"creation_date":1668440261,"answer_id":74434195,"question_id":74404398,"body_markdown":"The bug is in your copying of the coins array: `red[it] = coins[i]` should really be `red[it] = coins[x]`...\r\n\r\nFor time complexity, you don&#39;t really have to do a loop inside the method. Each denomination is either part of the sum or not, so you can always remove the first denomination and test with and without it:\r\n\r\n    boolean go(int[] coins, int goal)  {\r\n        if(goal == 0)\r\n            return true;\r\n        else if(coins.length == 0 || goal &lt; 0)\r\n            return false;\r\n        else {\r\n            int[] tailOfCoins = Arrays.copyOfRange(coins, 1, coins.length);\r\n            return go(tailOfCoins, goal) || go(tailOfCoins, goal - coins[0]);\r\n        }\r\n    }\r\n","title":"Finite Coins - using recursion","body":"<p>The bug is in your copying of the coins array: <code>red[it] = coins[i]</code> should really be <code>red[it] = coins[x]</code>...</p>\n<p>For time complexity, you don't really have to do a loop inside the method. Each denomination is either part of the sum or not, so you can always remove the first denomination and test with and without it:</p>\n<pre><code>boolean go(int[] coins, int goal)  {\n    if(goal == 0)\n        return true;\n    else if(coins.length == 0 || goal &lt; 0)\n        return false;\n    else {\n        int[] tailOfCoins = Arrays.copyOfRange(coins, 1, coins.length);\n        return go(tailOfCoins, goal) || go(tailOfCoins, goal - coins[0]);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24419106,"reputation":13,"user_id":18345621,"display_name":"I_Hate_ReLU"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74434195,"answer_count":1,"score":0,"last_activity_date":1668445212,"creation_date":1668178914,"question_id":74404398,"body_markdown":"Given 1 coin from multiple denominations (E.G. a 1 coin, 5 coin, 16 coin), and a sum, return true or false determining if the sum can be made.\r\n\r\n```\r\nboolean go(int[] coins, int goal) \r\n{\r\n  //Will set each time, but shouldn&#39;t matter as toggle is at bottom\r\n  boolean ans = false;\r\n   \r\n  //loop running in recursion till founds ans\r\n   \r\n  //Really bad time complexity lol\r\n  for (int i = 0; i &lt; coins.length &amp;&amp; (!ans); i++) {\r\n    if ((goal - coins[i] == 0) || goal == 0) {\r\n      return true;\r\n    }\r\n     \r\n    if (goal &gt; coins[i]) {\r\n      int[] red = new int[coins.length - 1];\r\n      //it necessary because making list with one less\r\n      int it = 0;\r\n      //Setting new list to avoid runtime\r\n      for(int x = 0; x &lt; coins.length; x++){\r\n        if(!(i == x)){\r\n          red[it] = coins[i];\r\n          it += 1;\r\n        }\r\n      }\r\n      //Run with new list\r\n      ans = go(red, goal - coins[i]);\r\n    }\r\n  }\r\n  return ans;\r\n}\r\n```\r\nThis is my code so far. I have made it recursive, yet one of the test cases returns true when it should not. The test case in particular is [111, 1, 2, 3, 9, 11, 20, 30], with the goal doing 8; This should return false (as it cannot add up to 8), but in this case, returns true.\r\n\r\nOther test cases work fine, so I believe my code has some sort of an exception.\r\n\r\n\r\nI have tried to move the base case upward, and make a reverse variation...\r\n```\r\nboolean go(int[] coins, int goal) \r\n{\r\n  boolean ans = false;\r\n  if(goal == 0){\r\n    return true;\r\n  }else if(goal &lt; 0){\r\n    return false;\r\n  }\r\n  for (int i = 0; i &lt; coins.length &amp;&amp; (!ans); i++) {\r\n    if (goal &gt;= coins[i]) {\r\n      int[] red = new int[coins.length - 1];\r\n      int it = 0;\r\n      for(int x = 0; x &lt; coins.length; x++){\r\n        if(!(i == x)){\r\n          red[it] = coins[i];\r\n          it += 1;\r\n        }\r\n      }\r\n      ans = go(red, goal - coins[i]);\r\n    }\r\n  }\r\n  return ans;\r\n}\r\n``` \r\nis what I&#39;ve tried, but the base case doesn&#39;t seem to affect anything","title":"Finite Coins - using recursion","body":"<p>Given 1 coin from multiple denominations (E.G. a 1 coin, 5 coin, 16 coin), and a sum, return true or false determining if the sum can be made.</p>\n<pre><code>boolean go(int[] coins, int goal) \n{\n  //Will set each time, but shouldn't matter as toggle is at bottom\n  boolean ans = false;\n   \n  //loop running in recursion till founds ans\n   \n  //Really bad time complexity lol\n  for (int i = 0; i &lt; coins.length &amp;&amp; (!ans); i++) {\n    if ((goal - coins[i] == 0) || goal == 0) {\n      return true;\n    }\n     \n    if (goal &gt; coins[i]) {\n      int[] red = new int[coins.length - 1];\n      //it necessary because making list with one less\n      int it = 0;\n      //Setting new list to avoid runtime\n      for(int x = 0; x &lt; coins.length; x++){\n        if(!(i == x)){\n          red[it] = coins[i];\n          it += 1;\n        }\n      }\n      //Run with new list\n      ans = go(red, goal - coins[i]);\n    }\n  }\n  return ans;\n}\n</code></pre>\n<p>This is my code so far. I have made it recursive, yet one of the test cases returns true when it should not. The test case in particular is [111, 1, 2, 3, 9, 11, 20, 30], with the goal doing 8; This should return false (as it cannot add up to 8), but in this case, returns true.</p>\n<p>Other test cases work fine, so I believe my code has some sort of an exception.</p>\n<p>I have tried to move the base case upward, and make a reverse variation...</p>\n<pre><code>boolean go(int[] coins, int goal) \n{\n  boolean ans = false;\n  if(goal == 0){\n    return true;\n  }else if(goal &lt; 0){\n    return false;\n  }\n  for (int i = 0; i &lt; coins.length &amp;&amp; (!ans); i++) {\n    if (goal &gt;= coins[i]) {\n      int[] red = new int[coins.length - 1];\n      int it = 0;\n      for(int x = 0; x &lt; coins.length; x++){\n        if(!(i == x)){\n          red[it] = coins[i];\n          it += 1;\n        }\n      }\n      ans = go(red, goal - coins[i]);\n    }\n  }\n  return ans;\n}\n</code></pre>\n<p>is what I've tried, but the base case doesn't seem to affect anything</p>\n"},{"tags":["java","amazon-web-services","amazon-s3","aws-cli"],"comments":[{"owner":{"account_id":6220603,"reputation":6013,"user_id":4840338,"display_name":"omuthu"},"score":0,"creation_date":1668446223,"post_id":74435205,"comment_id":131401571,"body_markdown":"where are you running this from? if locally executed, check your AWS creds have enough permissions to access the bucket. If other services like EC2 or Lambda, check the respective roles have permissions to S3 buckets","body":"where are you running this from? if locally executed, check your AWS creds have enough permissions to access the bucket. If other services like EC2 or Lambda, check the respective roles have permissions to S3 buckets"},{"owner":{"account_id":22592236,"reputation":5,"user_id":16775174,"display_name":"Guga Gamer"},"score":0,"creation_date":1668448947,"post_id":74435205,"comment_id":131402564,"body_markdown":"It is running locally. Is there any way to set permissions locally?","body":"It is running locally. Is there any way to set permissions locally?"},{"owner":{"account_id":6220603,"reputation":6013,"user_id":4840338,"display_name":"omuthu"},"score":0,"creation_date":1668450180,"post_id":74435205,"comment_id":131402899,"body_markdown":"you need to reach out to your AWS account administrator to add permissions to the user/role you are using locally","body":"you need to reach out to your AWS account administrator to add permissions to the user/role you are using locally"},{"owner":{"account_id":16160118,"reputation":831,"user_id":11666461,"display_name":"user11666461"},"score":1,"creation_date":1668489085,"post_id":74435205,"comment_id":131411175,"body_markdown":"In your code you are not initialising `destBucketName`. May be the snippet here is missing it. In any case, a 404 being returned means that the bucket doesn&#39;t exist. If it was a permission issue a 403 would have been returned. Can you figure out if it is the `sourceBucket` or `destBucketName` that is throwing the error? Also if `destBucketName` is not created by you, log the it&#39;s value to confirm that any prefix is not there in that.","body":"In your code you are not initialising <code>destBucketName</code>. May be the snippet here is missing it. In any case, a 404 being returned means that the bucket doesn&#39;t exist. If it was a permission issue a 403 would have been returned. Can you figure out if it is the <code>sourceBucket</code> or <code>destBucketName</code> that is throwing the error? Also if <code>destBucketName</code> is not created by you, log the it&#39;s value to confirm that any prefix is not there in that."},{"owner":{"account_id":22592236,"reputation":5,"user_id":16775174,"display_name":"Guga Gamer"},"score":0,"creation_date":1668514046,"post_id":74435205,"comment_id":131418677,"body_markdown":"the source and the destBucket name are the same. I tried hardcoding them, and the same problem happens.","body":"the source and the destBucket name are the same. I tried hardcoding them, and the same problem happens."}],"owner":{"account_id":22592236,"reputation":5,"user_id":16775174,"display_name":"Guga Gamer"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":571,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668444979,"creation_date":1668444979,"question_id":74435205,"body_markdown":"I have this piece of code in java, using  the aws library:\r\n\r\n```\r\n\t\tAmazonS3URI uri = new AmazonS3URI(&quot;s3://test&quot;);\r\n\r\n\t\tString sourceKey = &quot;test.xml&quot;;\r\n\t\tString sourceBucket = uri.getBucket();\r\n\t\tString destKey = fileName;\r\n\r\n\t\tif(s3Client.doesBucketExistV2(destBucketName)) {\r\n\t\t\tlog.info(&quot;enters&quot;);\r\n\t\t}\r\n\r\n\t\tif(s3Client.doesBucketExistV2(uri.getBucket()) &amp;&amp; s3Client.doesBucketExistV2(destBucketName)) {\r\n\t\t\tlog.info(&quot;Source bucket: &quot; + uri.getBucket() + &quot; Destiny bucket: &quot; + destBucketName);\r\n\t\t\tCopyObjectRequest copyObjRequest = new CopyObjectRequest(sourceBucket, sourceKey, destBucketName, destKey);\r\n\t\t\ts3Client.copyObject(copyObjRequest);\r\n\t\t} else {\r\n\t\t\tlog.info(&quot;Bucket does not exist: &quot; + uri.getBucket());\r\n\t\t}\r\n\r\n\t}\r\n```\r\n\r\nWhen I run this code, on the copyObject command, it is returned that the bucket does not exists (The specified bucket does not exist (Service: Amazon S3; Status Code: 404; Error Code: NoSuchBucket; Request ID: null; S3 Extended Request ID: null)), but it does, because I&#39;m literally making a condition there. What can the problem be?","title":"The specified bucket does not exist AWS CLI locally","body":"<p>I have this piece of code in java, using  the aws library:</p>\n<pre><code>        AmazonS3URI uri = new AmazonS3URI(&quot;s3://test&quot;);\n\n        String sourceKey = &quot;test.xml&quot;;\n        String sourceBucket = uri.getBucket();\n        String destKey = fileName;\n\n        if(s3Client.doesBucketExistV2(destBucketName)) {\n            log.info(&quot;enters&quot;);\n        }\n\n        if(s3Client.doesBucketExistV2(uri.getBucket()) &amp;&amp; s3Client.doesBucketExistV2(destBucketName)) {\n            log.info(&quot;Source bucket: &quot; + uri.getBucket() + &quot; Destiny bucket: &quot; + destBucketName);\n            CopyObjectRequest copyObjRequest = new CopyObjectRequest(sourceBucket, sourceKey, destBucketName, destKey);\n            s3Client.copyObject(copyObjRequest);\n        } else {\n            log.info(&quot;Bucket does not exist: &quot; + uri.getBucket());\n        }\n\n    }\n</code></pre>\n<p>When I run this code, on the copyObject command, it is returned that the bucket does not exists (The specified bucket does not exist (Service: Amazon S3; Status Code: 404; Error Code: NoSuchBucket; Request ID: null; S3 Extended Request ID: null)), but it does, because I'm literally making a condition there. What can the problem be?</p>\n"},{"tags":["java","loops","nested-loops"],"comments":[{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1668442501,"post_id":74434592,"comment_id":131400163,"body_markdown":"The best way to solve this is to imagine that the pyramids are in a &quot;frame&quot; and fill up all the characters. I.e. you either print a space or an asterisk *for each position* in the frame. Currently you are not printing the *trailing* spaces of the first pyramid.","body":"The best way to solve this is to imagine that the pyramids are in a &quot;frame&quot; and fill up all the characters. I.e. you either print a space or an asterisk <i>for each position</i> in the frame. Currently you are not printing the <i>trailing</i> spaces of the first pyramid."},{"owner":{"account_id":3980402,"reputation":12987,"user_id":3282436,"accept_rate":79,"display_name":"0x5453"},"score":1,"creation_date":1668442536,"post_id":74434592,"comment_id":131400177,"body_markdown":"Your loops add whitespace to the left side of each pyramid, but not to the right side.  This works for the rightmost pyramid, because nothing comes &quot;after&quot; it on each line, but padding in the left pyramid is critical for the alignment of the right pyramid.","body":"Your loops add whitespace to the left side of each pyramid, but not to the right side.  This works for the rightmost pyramid, because nothing comes &quot;after&quot; it on each line, but padding in the left pyramid is critical for the alignment of the right pyramid."}],"answers":[{"tags":[],"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668443962,"creation_date":1668442841,"answer_id":74434750,"question_id":74434592,"body_markdown":"The best way to solve this is to imagine that the pyramids are in a &quot;frame&quot; and fill up all the characters. I.e. you either print a space or an asterisk *for each position* in the frame. Currently you are not printing the *trailing* spaces of the first pyramid, which means that each following pyramid will be increasingly lopsided.\r\n\r\nThe way I would write it is to have a double `for` loop for the X and a Y coordinates, and then have a function to tell me if the current X and Y fall within a specific pyramid (one call for each pyramid). This also allows for other patterns to be printed. See it as a simple form of ray tracing.\r\n\r\n```\r\nfor (int y = 0; y &lt; 22; y++) {\r\n    for (int x = 0; x &lt; 7; x++) {\r\n        if (inPyramid(0, 0, x, y) || inPyramid(10, 0, x, y)) {\r\n            System.out.print(&quot;*&quot;);\r\n        else {\r\n            System.out.print(&quot; &quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nwith the following method:\r\n\r\n```\r\npublic boolean inPyramid(int pyramidOffsetX, int pyramidOffsetY, int x, int y) {\r\n    // TODO fill in the tricky part :)\r\n}\r\n``` \r\n\r\nThis seems a bit harder, but it will easily allow overlap of shapes and such, and it is a much more structured approach.\r\n","title":"How can I print these reversed pyramid next to each other?","body":"<p>The best way to solve this is to imagine that the pyramids are in a &quot;frame&quot; and fill up all the characters. I.e. you either print a space or an asterisk <em>for each position</em> in the frame. Currently you are not printing the <em>trailing</em> spaces of the first pyramid, which means that each following pyramid will be increasingly lopsided.</p>\n<p>The way I would write it is to have a double <code>for</code> loop for the X and a Y coordinates, and then have a function to tell me if the current X and Y fall within a specific pyramid (one call for each pyramid). This also allows for other patterns to be printed. See it as a simple form of ray tracing.</p>\n<pre><code>for (int y = 0; y &lt; 22; y++) {\n    for (int x = 0; x &lt; 7; x++) {\n        if (inPyramid(0, 0, x, y) || inPyramid(10, 0, x, y)) {\n            System.out.print(&quot;*&quot;);\n        else {\n            System.out.print(&quot; &quot;);\n        }\n    }\n}\n</code></pre>\n<p>with the following method:</p>\n<pre><code>public boolean inPyramid(int pyramidOffsetX, int pyramidOffsetY, int x, int y) {\n    // TODO fill in the tricky part :)\n}\n</code></pre>\n<p>This seems a bit harder, but it will easily allow overlap of shapes and such, and it is a much more structured approach.</p>\n"},{"comments":[{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1668443666,"post_id":74434874,"comment_id":131400641,"body_markdown":"This seems an OK approach but 1. you don&#39;t explain it at all, 2. you&#39;re using a different languages without telling and 3. you&#39;ve solved the entire problem instead of showing how it can be done. Could you edit the answer and fix at least 1 &amp; 2?","body":"This seems an OK approach but 1. you don&#39;t explain it at all, 2. you&#39;re using a different languages without telling and 3. you&#39;ve solved the entire problem instead of showing how it can be done. Could you edit the answer and fix at least 1 &amp; 2?"},{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":0,"creation_date":1668444298,"post_id":74434874,"comment_id":131400894,"body_markdown":"@MaartenBodewes oops, thought I was browsing the JS tag...","body":"@MaartenBodewes oops, thought I was browsing the JS tag..."}],"tags":[],"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1668444773,"creation_date":1668443404,"answer_id":74434874,"question_id":74434592,"body_markdown":"In order to draw upside-down pyramids next to each other, you will need to know the amount of pyramids and the size of the pyramid.\r\n\r\nThis is an O(n&#179;) complexity algorithm (triple-nested loop).\r\n\r\n```java\r\npublic class Pyramids {\r\n    public static void main(String[] args) {\r\n        System.out.println(render(2, 9)); // 2 pyramids with a base of 9\r\n        System.out.println(render(4, 5)); // 4 pyramids with a base of 5\r\n    }\r\n    \r\n    public static String render(int count, int size) {\r\n        StringBuffer buffer = new StringBuffer();\r\n        int rows = (int) Math.floor(size / 2) + 1;\r\n        for (int row = 0; row &lt; rows; row++) {\r\n            for (int pyramid = 0; pyramid &lt; count; pyramid++) {\r\n                int indentSize = pyramid == 0 ? row : row * 2;\r\n                for (int indent = 0; indent &lt; indentSize; indent++) {\r\n                    buffer.append(&quot; &quot;); // indent\r\n                }\r\n                int starCount = size - (row * 2);\r\n                for (int star = 0; star &lt; starCount; star++) {\r\n                    buffer.append(&quot;*&quot;); // star\r\n                }\r\n                buffer.append(&quot;  &quot;);;  // separator\r\n            }\r\n            buffer.append(System.lineSeparator());  // new-line\r\n        }\r\n        return buffer.toString();\r\n    }\r\n}\r\n```\r\n\r\n## Output\r\n\r\n```\r\n*********  *********  \r\n *******    *******  \r\n  *****      *****  \r\n   ***        ***  \r\n    *          *  \r\n*****  *****  *****  *****  \r\n ***    ***    ***    ***  \r\n  *      *      *      *  \r\n```\r\n\r\n---\r\n\r\nHere is a JavaScript version of the Java code above.\r\n\r\n&lt;!-- begin snippet: js hide: true console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    const renderPyramids = (count, size) =&gt; {\r\n      let str = &#39;&#39;;\r\n      const rows = Math.floor(size / 2) + 1;\r\n      for (let row = 0; row &lt; rows; row++) {\r\n        for (let pyramid = 0; pyramid &lt; count; pyramid++) {\r\n          const indentSize = pyramid === 0 ? row : row * 2;\r\n          for (let indent = 0; indent &lt; indentSize; indent++) {\r\n            str += &#39; &#39;; // indent\r\n          }\r\n          const starCount = size - (row * 2);\r\n          for (let star = 0; star &lt; starCount; star++) {\r\n            str += &#39;*&#39;; // star\r\n          }\r\n          str += &#39;  &#39;;  // separator\r\n        }\r\n        str += &#39;\\n&#39;;  // new-line\r\n      }\r\n      return str;\r\n    };\r\n\r\n    console.log(renderPyramids(2, 9));\r\n    console.log(renderPyramids(4, 5));\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"How can I print these reversed pyramid next to each other?","body":"<p>In order to draw upside-down pyramids next to each other, you will need to know the amount of pyramids and the size of the pyramid.</p>\n<p>This is an O(n³) complexity algorithm (triple-nested loop).</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Pyramids {\n    public static void main(String[] args) {\n        System.out.println(render(2, 9)); // 2 pyramids with a base of 9\n        System.out.println(render(4, 5)); // 4 pyramids with a base of 5\n    }\n    \n    public static String render(int count, int size) {\n        StringBuffer buffer = new StringBuffer();\n        int rows = (int) Math.floor(size / 2) + 1;\n        for (int row = 0; row &lt; rows; row++) {\n            for (int pyramid = 0; pyramid &lt; count; pyramid++) {\n                int indentSize = pyramid == 0 ? row : row * 2;\n                for (int indent = 0; indent &lt; indentSize; indent++) {\n                    buffer.append(&quot; &quot;); // indent\n                }\n                int starCount = size - (row * 2);\n                for (int star = 0; star &lt; starCount; star++) {\n                    buffer.append(&quot;*&quot;); // star\n                }\n                buffer.append(&quot;  &quot;);;  // separator\n            }\n            buffer.append(System.lineSeparator());  // new-line\n        }\n        return buffer.toString();\n    }\n}\n</code></pre>\n<h2>Output</h2>\n<pre><code>*********  *********  \n *******    *******  \n  *****      *****  \n   ***        ***  \n    *          *  \n*****  *****  *****  *****  \n ***    ***    ***    ***  \n  *      *      *      *  \n</code></pre>\n<hr />\n<p>Here is a JavaScript version of the Java code above.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const renderPyramids = (count, size) =&gt; {\n  let str = '';\n  const rows = Math.floor(size / 2) + 1;\n  for (let row = 0; row &lt; rows; row++) {\n    for (let pyramid = 0; pyramid &lt; count; pyramid++) {\n      const indentSize = pyramid === 0 ? row : row * 2;\n      for (let indent = 0; indent &lt; indentSize; indent++) {\n        str += ' '; // indent\n      }\n      const starCount = size - (row * 2);\n      for (let star = 0; star &lt; starCount; star++) {\n        str += '*'; // star\n      }\n      str += '  ';  // separator\n    }\n    str += '\\n';  // new-line\n  }\n  return str;\n};\n\nconsole.log(renderPyramids(2, 9));\nconsole.log(renderPyramids(4, 5));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1668444340,"creation_date":1668444340,"answer_id":74435060,"question_id":74434592,"body_markdown":"[`String#repeat`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#repeat(int))\r\n--\r\n\r\nYou can do it using a single loop using [`String#repeat`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#repeat(int)).\r\n\r\n**Demo**:\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            final int ROWS = 5;\r\n            for (int i = 1; i &lt;= ROWS; i++) {\r\n                String stars = &quot;*&quot;.repeat((ROWS + 1) * 2 - 2 * i - 1);\r\n                System.out.println(&quot; &quot;.repeat(i - 1) + stars + &quot; &quot;.repeat(i * 2 - 1) + stars);\r\n            }\r\n        }\r\n    }\r\n\r\n**Output**:\r\n\r\n    ********* *********\r\n     *******   *******\r\n      *****     *****\r\n       ***       ***\r\n        *         *","title":"How can I print these reversed pyramid next to each other?","body":"<h2><a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#repeat(int)\" rel=\"nofollow noreferrer\"><code>String#repeat</code></a></h2>\n<p>You can do it using a single loop using <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#repeat(int)\" rel=\"nofollow noreferrer\"><code>String#repeat</code></a>.</p>\n<p><strong>Demo</strong>:</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        final int ROWS = 5;\n        for (int i = 1; i &lt;= ROWS; i++) {\n            String stars = &quot;*&quot;.repeat((ROWS + 1) * 2 - 2 * i - 1);\n            System.out.println(&quot; &quot;.repeat(i - 1) + stars + &quot; &quot;.repeat(i * 2 - 1) + stars);\n        }\n    }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>********* *********\n *******   *******\n  *****     *****\n   ***       ***\n    *         *\n</code></pre>\n"}],"owner":{"account_id":26835448,"reputation":11,"user_id":20422766,"display_name":"jay bee"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1668444773,"creation_date":1668442067,"question_id":74434592,"body_markdown":"I want to to display this reversed pyramid next to each other but the problem is the right side of my pyramid is different in the left side of my pyramid. How can I fix this? ![Here is the lopsided image][1] and \r\n![this is what it should look like][2].\r\n\r\n```\r\npackage proj;\r\n\r\npublic class Looping {\r\n\r\n\tpublic static void main(String[]args) {\r\n\t\tfor (int r=5; r&gt;0; r--) {\r\n\t\t\t\r\n\t\t\tfor (int s=5-r; s&gt;0; s--) {\r\n\t\t\t\tSystem.out.print(&quot; &quot;);\r\n\t\t\t}\r\n\t\t\tfor (int k=2*r-1; k&gt;0; k--) {\r\n\t\t\t\tSystem.out.print(&quot;*&quot;);\r\n\t\t\t}\r\n\r\n\t\t\tfor (int s=5-r; s&gt;0; s--) {\r\n\t\t\t\tSystem.out.print(&quot; &quot;);\r\n\t\t\t}\r\n\t\t\tfor (int k=2*r-1; k&gt;0; k--) {\r\n\t\t\t\tSystem.out.print(&quot;*&quot;);\r\n\t\t\t}\r\n\t\t\tSystem.out.println();\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n}\r\n```\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jmakq.png\r\n  [2]: https://i.stack.imgur.com/A2iJd.png","title":"How can I print these reversed pyramid next to each other?","body":"<p>I want to to display this reversed pyramid next to each other but the problem is the right side of my pyramid is different in the left side of my pyramid. How can I fix this? <img src=\"https://i.stack.imgur.com/jmakq.png\" alt=\"Here is the lopsided image\" /> and\n<img src=\"https://i.stack.imgur.com/A2iJd.png\" alt=\"this is what it should look like\" />.</p>\n<pre><code>package proj;\n\npublic class Looping {\n\n    public static void main(String[]args) {\n        for (int r=5; r&gt;0; r--) {\n            \n            for (int s=5-r; s&gt;0; s--) {\n                System.out.print(&quot; &quot;);\n            }\n            for (int k=2*r-1; k&gt;0; k--) {\n                System.out.print(&quot;*&quot;);\n            }\n\n            for (int s=5-r; s&gt;0; s--) {\n                System.out.print(&quot; &quot;);\n            }\n            for (int k=2*r-1; k&gt;0; k--) {\n                System.out.print(&quot;*&quot;);\n            }\n            System.out.println();\n        }\n        \n    }\n\n}\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9338,"page":885,"page_size":100}
