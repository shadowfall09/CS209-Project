{"items":[{"tags":["java","parsing","powerpoint","apache-tika","tika-server"],"comments":[{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1684911228,"post_id":76320729,"comment_id":134584673,"body_markdown":"Have you tried `Apache` `POI`? https://poi.apache.org/components/slideshow/ and https://poi.apache.org/components/document/","body":"Have you tried <code>Apache</code> <code>POI</code>? <a href=\"https://poi.apache.org/components/slideshow/\" rel=\"nofollow noreferrer\">poi.apache.org/components/slideshow</a> and <a href=\"https://poi.apache.org/components/document/\" rel=\"nofollow noreferrer\">poi.apache.org/components/document</a>"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":2,"creation_date":1684911388,"post_id":76320729,"comment_id":134584710,"body_markdown":"Also, this will be closed as `Needs more focus` if you don&#39;t add an example app that shows what you are doing.","body":"Also, this will be closed as <code>Needs more focus</code> if you don&#39;t add an example app that shows what you are doing."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1684911430,"post_id":76320729,"comment_id":134584716,"body_markdown":"I guess `Tika` uses `POI`. We need to see what you did.","body":"I guess <code>Tika</code> uses <code>POI</code>. We need to see what you did."},{"owner":{"account_id":8363906,"reputation":615,"user_id":6281268,"display_name":"Tim Allison"},"score":1,"creation_date":1684946708,"post_id":76320729,"comment_id":134593053,"body_markdown":"Tika does include embedded image names in the extracted text, if that&#39;s what you&#39;re seeing.  I agree with @SedJ601, we need more info to help.  How are you running Tika, how is it saying &quot;embedded image in file&quot;?","body":"Tika does include embedded image names in the extracted text, if that&#39;s what you&#39;re seeing.  I agree with @SedJ601, we need more info to help.  How are you running Tika, how is it saying &quot;embedded image in file&quot;?"},{"owner":{"account_id":9063580,"reputation":42,"user_id":6749289,"display_name":"DeadPool"},"score":0,"creation_date":1684999200,"post_id":76320729,"comment_id":134600119,"body_markdown":"@TimAllison SedJ601\n I am using a generic code for docx, pptx and other extensions which is like this. AutoDetect Parser to parse the content and before that overriding EmbeddedDocumentExtractor method shouldParseEmbedded to check if embedded image is there or not. Parser parser  = new AutoDetectParser() override Boolean shouldParseEmbedded(Metadata metadata ) and checking mimeType is of image content type or not. This is working fine for all other docs, but for pptx, this mimeType is showing image/jpeg even for a simple hi text. Any suggestions?","body":"@TimAllison SedJ601  I am using a generic code for docx, pptx and other extensions which is like this. AutoDetect Parser to parse the content and before that overriding EmbeddedDocumentExtractor method shouldParseEmbedded to check if embedded image is there or not. Parser parser  = new AutoDetectParser() override Boolean shouldParseEmbedded(Metadata metadata ) and checking mimeType is of image content type or not. This is working fine for all other docs, but for pptx, this mimeType is showing image/jpeg even for a simple hi text. Any suggestions?"},{"owner":{"account_id":9063580,"reputation":42,"user_id":6749289,"display_name":"DeadPool"},"score":0,"creation_date":1685000717,"post_id":76320729,"comment_id":134600426,"body_markdown":"One thing i found, its taking thumbnail here whose type is jpeg during parsing , i checked in metadata its saying &quot;docProps/thumbnail.jpeg&quot;. Hopefully there should be some configuration in OfficeParserConfig to turn off this or something like this...","body":"One thing i found, its taking thumbnail here whose type is jpeg during parsing , i checked in metadata its saying &quot;docProps/thumbnail.jpeg&quot;. Hopefully there should be some configuration in OfficeParserConfig to turn off this or something like this..."},{"owner":{"account_id":8363906,"reputation":615,"user_id":6281268,"display_name":"Tim Allison"},"score":0,"creation_date":1685124073,"post_id":76320729,"comment_id":134622708,"body_markdown":"Ah, that explains it. Y, we can add a &quot;skipThumbnails&quot; or similar? Please open an issue on our JIRA: https://issues.apache.org/jira/projects/TIKA When you request an account, please reference this SO link.","body":"Ah, that explains it. Y, we can add a &quot;skipThumbnails&quot; or similar? Please open an issue on our JIRA: <a href=\"https://issues.apache.org/jira/projects/TIKA\" rel=\"nofollow noreferrer\">issues.apache.org/jira/projects/TIKA</a> When you request an account, please reference this SO link."},{"owner":{"account_id":9063580,"reputation":42,"user_id":6749289,"display_name":"DeadPool"},"score":0,"creation_date":1685177485,"post_id":76320729,"comment_id":134627509,"body_markdown":"sure, yea we can add a property to validate key named &quot;dc:title&quot; in metadata and its value as &quot;/docProps/thumbnail.jpeg&quot; to skip thumbnails. I will raise a JIRA, thanks.","body":"sure, yea we can add a property to validate key named &quot;dc:title&quot; in metadata and its value as &quot;/docProps/thumbnail.jpeg&quot; to skip thumbnails. I will raise a JIRA, thanks."}],"owner":{"account_id":9063580,"reputation":42,"user_id":6749289,"display_name":"DeadPool"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684910485,"creation_date":1684910485,"question_id":76320729,"body_markdown":"I am using tika parser to validate the content of various file types like .docx, .txt, .pptx and many more others. It seems that even for a normal text content pptx file, when running tika parser on it, its responding saying embedded image in file. Same Autodetect parser is working fine with .docx and other file extensions. Any special changes needs to be done for pptx file here? Thanks","title":"Tika Parser is treating .pptx text content as embedded image","body":"<p>I am using tika parser to validate the content of various file types like .docx, .txt, .pptx and many more others. It seems that even for a normal text content pptx file, when running tika parser on it, its responding saying embedded image in file. Same Autodetect parser is working fine with .docx and other file extensions. Any special changes needs to be done for pptx file here? Thanks</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1684905331,"post_id":76319918,"comment_id":134583801,"body_markdown":"Because `b++` is a post-increment, not a pre-increment.","body":"Because <code>b++</code> is a post-increment, not a pre-increment."},{"owner":{"account_id":248321,"reputation":62668,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":1,"creation_date":1684905680,"post_id":76319918,"comment_id":134583837,"body_markdown":"Does this answer your question? [preincrement / postincrement in java](https://stackoverflow.com/questions/11629136/preincrement-postincrement-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/11629136/preincrement-postincrement-in-java\">preincrement / postincrement in java</a>"}],"answers":[{"tags":[],"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1684905495,"creation_date":1684899248,"answer_id":76319937,"question_id":76319918,"body_markdown":"When you say `b++`, you are not saying &#39;add 1 to `b`, and then use `b`&#39;s new value&#39;. You are saying &#39;use `b`&#39;s current value for this expression, and then once you are done, add 1 to `b`&#39;.\r\n\r\nSo in your example, `int c = a + b++`, the current expression is `a + b`. So, for the `a + b`, `b` will give the expression `3`, then increment itself to `4`.\r\n\r\nIf you want to avoid this issue, you could do `++b` instead of `b++`. `++b` will do exactly what you expect: increment `b`, then use its new value in the expression.","title":"Java confusion: Why is the value of c 8 instead of 9?","body":"<p>When you say <code>b++</code>, you are not saying 'add 1 to <code>b</code>, and then use <code>b</code>'s new value'. You are saying 'use <code>b</code>'s current value for this expression, and then once you are done, add 1 to <code>b</code>'.</p>\n<p>So in your example, <code>int c = a + b++</code>, the current expression is <code>a + b</code>. So, for the <code>a + b</code>, <code>b</code> will give the expression <code>3</code>, then increment itself to <code>4</code>.</p>\n<p>If you want to avoid this issue, you could do <code>++b</code> instead of <code>b++</code>. <code>++b</code> will do exactly what you expect: increment <code>b</code>, then use its new value in the expression.</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1684899770,"creation_date":1684899770,"answer_id":76319961,"question_id":76319918,"body_markdown":"Post-increment `(b++)` or decrement `(b--)` means read the value first then modify.  Pre-increment`(++b)` or decrement `(--b)`means modify the value then read.","title":"Java confusion: Why is the value of c 8 instead of 9?","body":"<p>Post-increment <code>(b++)</code> or decrement <code>(b--)</code> means read the value first then modify.  Pre-increment<code>(++b)</code> or decrement <code>(--b)</code>means modify the value then read.</p>\n"},{"tags":[],"owner":{"account_id":16914955,"reputation":1,"user_id":12233180,"display_name":"Tarun Choudhary"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684906371,"creation_date":1684906371,"answer_id":76320327,"question_id":76319918,"body_markdown":"There are two types of increment Operators : \r\n1. Post increment : (b++), which states that it will use the value first and then increment.\r\n2. Pre Increment : (++b), which states that it will first increment the value and then use it.\r\n\r\nIn your case you are using `b++` hence, it first use the value of b, i.e. 3, and then updates 3 -&gt; 4, and again you are using `b++`, again it update the value to 4 -&gt; 5. Hence its new value is 5 and in c it used the previous value not updated.","title":"Java confusion: Why is the value of c 8 instead of 9?","body":"<p>There are two types of increment Operators :</p>\n<ol>\n<li>Post increment : (b++), which states that it will use the value first and then increment.</li>\n<li>Pre Increment : (++b), which states that it will first increment the value and then use it.</li>\n</ol>\n<p>In your case you are using <code>b++</code> hence, it first use the value of b, i.e. 3, and then updates 3 -&gt; 4, and again you are using <code>b++</code>, again it update the value to 4 -&gt; 5. Hence its new value is 5 and in c it used the previous value not updated.</p>\n"},{"comments":[{"owner":{"account_id":25889665,"reputation":60,"user_id":19617261,"display_name":"Peter Mulm"},"score":0,"creation_date":1684930216,"post_id":76320728,"comment_id":134588907,"body_markdown":"That&#39;s a good explanation!","body":"That&#39;s a good explanation!"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1685963337,"post_id":76320728,"comment_id":134729384,"body_markdown":"“after the statement” is misleading at best. Compare with `int c = a + b++ + b++;`…","body":"“after the statement” is misleading at best. Compare with <code>int c = a + b++ + b++;</code>…"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1685983583,"post_id":76320728,"comment_id":134734141,"body_markdown":"@Holger, I&#39;m not sure I understand, can you provide an answer?","body":"@Holger, I&#39;m not sure I understand, can you provide an answer?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1685987069,"post_id":76320728,"comment_id":134734728,"body_markdown":"When you try something like `int c = a + b++ + b++;` you’ll notice that the second `b` will evaluate to the updated value of the first `b++`. In other words, the `b` is not updated “after the statement” as other parts of the expression can see the already updated value. You should rather consider an expression like `b++` to be similar to calling `set(index, value)` on a `List` which will change the list immediately but return the old value.","body":"When you try something like <code>int c = a + b++ + b++;</code> you’ll notice that the second <code>b</code> will evaluate to the updated value of the first <code>b++</code>. In other words, the <code>b</code> is not updated “after the statement” as other parts of the expression can see the already updated value. You should rather consider an expression like <code>b++</code> to be similar to calling <code>set(index, value)</code> on a <code>List</code> which will change the list immediately but return the old value."}],"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684910475,"creation_date":1684910475,"answer_id":76320728,"question_id":76319918,"body_markdown":"The assignment of `b` is taking place after the statement.\r\n\r\n```java\r\nint c = a + b++;\r\n```\r\n\r\nThis is the same as saying\r\n\r\n```java\r\nint c = a + b;\r\nb = b + 1;\r\n```\r\n\r\nIf you wanted `c` to equal `9`, you can use the prefix unary operator.\r\n\r\n\r\n```java\r\nint c = a + ++b;\r\n```\r\n\r\nWhich is the same as saying\r\n\r\n```java\r\nb = b + 1;\r\nint c = a + b;\r\n```\r\n\r\n[Assignment, Arithmetic, and Unary Operators (The Java&amp;trade; Tutorials &amp;gt; Learning the Java Language &amp;gt; Language Basics)](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/op1.html)","title":"Java confusion: Why is the value of c 8 instead of 9?","body":"<p>The assignment of <code>b</code> is taking place after the statement.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int c = a + b++;\n</code></pre>\n<p>This is the same as saying</p>\n<pre class=\"lang-java prettyprint-override\"><code>int c = a + b;\nb = b + 1;\n</code></pre>\n<p>If you wanted <code>c</code> to equal <code>9</code>, you can use the prefix unary operator.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int c = a + ++b;\n</code></pre>\n<p>Which is the same as saying</p>\n<pre class=\"lang-java prettyprint-override\"><code>b = b + 1;\nint c = a + b;\n</code></pre>\n<p><a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/op1.html\" rel=\"nofollow noreferrer\">Assignment, Arithmetic, and Unary Operators (The Java™ Tutorials &gt; Learning the Java Language &gt; Language Basics)</a></p>\n"}],"owner":{"account_id":28666986,"reputation":17,"user_id":21950782,"display_name":"user21950782"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":4,"score":0,"last_activity_date":1684910475,"creation_date":1684898893,"question_id":76319918,"body_markdown":"I am confused as to why c = 8 and not 9 in the code below. \r\n\r\n    int a = 5, b = 3;\r\n    System.out.println(a + b);\r\n\tint c = a + b++; //\r\n\tb++;\r\n\tSystem.out.println(a + b);\r\n\tSystem.out.format(&quot;a=%d, b=%d, c=%d %n&quot;, a,b,c);\r\n\t\t\r\n\t\t","title":"Java confusion: Why is the value of c 8 instead of 9?","body":"<p>I am confused as to why c = 8 and not 9 in the code below.</p>\n<pre><code>int a = 5, b = 3;\nSystem.out.println(a + b);\nint c = a + b++; //\nb++;\nSystem.out.println(a + b);\nSystem.out.format(&quot;a=%d, b=%d, c=%d %n&quot;, a,b,c);\n    \n    \n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":7121054,"reputation":5814,"user_id":5445670,"display_name":"Solomon Ucko"},"score":0,"creation_date":1684901537,"post_id":76320010,"comment_id":134583456,"body_markdown":"This might be related: https://stackoverflow.com/questions/25120546/trick-behind-jvms-compressed-oops","body":"This might be related: <a href=\"https://stackoverflow.com/questions/25120546/trick-behind-jvms-compressed-oops\" title=\"trick behind jvms compressed oops\">stackoverflow.com/questions/25120546/&hellip;</a>"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":2,"creation_date":1684903206,"post_id":76320010,"comment_id":134583583,"body_markdown":"I&#39;m not sure if that&#39;s even possible.  The hexadecimal value within the printed address, `18b4aac2`, is a hash-code, it&#39;s not an address.","body":"I&#39;m not sure if that&#39;s even possible.  The hexadecimal value within the printed address, <code>18b4aac2</code>, is a hash-code, it&#39;s not an address."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1684912340,"post_id":76320010,"comment_id":134584891,"body_markdown":"What&#39;s not right about your second method? First `System.out.println` is not going to &quot;get an address&quot; . Which version of java are you targeting. `Unsafe` is removed at some point but in java 8 it should do what you want. (As your answer has done, but we don&#39;t know what is wrong with the code.","body":"What&#39;s not right about your second method? First <code>System.out.println</code> is not going to &quot;get an address&quot; . Which version of java are you targeting. <code>Unsafe</code> is removed at some point but in java 8 it should do what you want. (As your answer has done, but we don&#39;t know what is wrong with the code."}],"owner":{"account_id":28577819,"reputation":11,"user_id":21879180,"display_name":"fei HuFer hu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684910468,"creation_date":1684900758,"question_id":76320010,"body_markdown":"I want to analyze the String object reference difference between heap reference and constant pool reference,using jmap to dump a java Program binary file,a Object address in bin  \r\n[![enter image description here](https://i.stack.imgur.com/CQRkW.jpg)](https://i.stack.imgur.com/CQRkW.jpg)\r\n\r\ntrying to use `System.out.println` to get a real address ,and i can use it to find it binary form,but this method to println`[Ljava.lang.String;@18b4aac2`,not a real address ,may like is virtual memory address.\r\n\r\nso change method like is:\r\n```\r\npublic class Main {\r\n    public static void main(String[] args) throws ClassNotFoundException, NoSuchFieldException, IllegalAccessException {\r\n\r\n        String[] key = {&quot;qwerty&quot;};\r\n        String obj = &quot;qwerty&quot;;\r\n        Unsafe unsafe = getUnsafe();\r\n        System.out.println(getAddressOf(key,unsafe));\r\n        System.out.println(getAddressOf(key[0],unsafe));\r\n        System.out.println(getAddressOf(args,unsafe));\r\n        System.out.println(getAddressOf(args[0],unsafe));\r\n        System.out.println(getAddressOf(obj,unsafe));\r\n    }\r\n\r\n    private static Unsafe getUnsafe() throws NoSuchFieldException, IllegalAccessException {\r\n        Field unsafeField = Unsafe.class.getDeclaredField(&quot;theUnsafe&quot;);\r\n        unsafeField.setAccessible(true);\r\n        return (Unsafe) unsafeField.get(null);\r\n    }\r\n\r\n    private static &lt;T&gt; String getAddressOf(T object, Unsafe unsafe) throws NoSuchFieldException {\r\n        Object[] array = {object};\r\n        long baseOffset = unsafe.arrayBaseOffset(Object[].class);\r\n        int addressSize = unsafe.addressSize();\r\n        long objectAddress;\r\n        switch (addressSize) {\r\n            case 4:\r\n                objectAddress = unsafe.getInt(array, baseOffset);\r\n                break;\r\n            case 8:\r\n                objectAddress = unsafe.getLong(array, baseOffset);\r\n                break;\r\n            default:\r\n                throw new Error(&quot;unsupported address size: &quot; + addressSize);\r\n        }\r\n        return Long.toHexString(objectAddress);\r\n    }\r\n}\r\n```\r\n\r\nbut its still not right\r\n\r\n\r\nhow to get a real address or Why can&#39;t I get the true answer when using the methods mentioned above?\r\n\r\n","title":"how can i to get a real address of java object","body":"<p>I want to analyze the String object reference difference between heap reference and constant pool reference,using jmap to dump a java Program binary file,a Object address in bin<br />\n<a href=\"https://i.stack.imgur.com/CQRkW.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CQRkW.jpg\" alt=\"enter image description here\" /></a></p>\n<p>trying to use <code>System.out.println</code> to get a real address ,and i can use it to find it binary form,but this method to println<code>[Ljava.lang.String;@18b4aac2</code>,not a real address ,may like is virtual memory address.</p>\n<p>so change method like is:</p>\n<pre><code>public class Main {\n    public static void main(String[] args) throws ClassNotFoundException, NoSuchFieldException, IllegalAccessException {\n\n        String[] key = {&quot;qwerty&quot;};\n        String obj = &quot;qwerty&quot;;\n        Unsafe unsafe = getUnsafe();\n        System.out.println(getAddressOf(key,unsafe));\n        System.out.println(getAddressOf(key[0],unsafe));\n        System.out.println(getAddressOf(args,unsafe));\n        System.out.println(getAddressOf(args[0],unsafe));\n        System.out.println(getAddressOf(obj,unsafe));\n    }\n\n    private static Unsafe getUnsafe() throws NoSuchFieldException, IllegalAccessException {\n        Field unsafeField = Unsafe.class.getDeclaredField(&quot;theUnsafe&quot;);\n        unsafeField.setAccessible(true);\n        return (Unsafe) unsafeField.get(null);\n    }\n\n    private static &lt;T&gt; String getAddressOf(T object, Unsafe unsafe) throws NoSuchFieldException {\n        Object[] array = {object};\n        long baseOffset = unsafe.arrayBaseOffset(Object[].class);\n        int addressSize = unsafe.addressSize();\n        long objectAddress;\n        switch (addressSize) {\n            case 4:\n                objectAddress = unsafe.getInt(array, baseOffset);\n                break;\n            case 8:\n                objectAddress = unsafe.getLong(array, baseOffset);\n                break;\n            default:\n                throw new Error(&quot;unsupported address size: &quot; + addressSize);\n        }\n        return Long.toHexString(objectAddress);\n    }\n}\n</code></pre>\n<p>but its still not right</p>\n<p>how to get a real address or Why can't I get the true answer when using the methods mentioned above?</p>\n"},{"tags":["java","spring-boot","jpa","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1684910331,"post_id":76318817,"comment_id":134584507,"body_markdown":"Is there any reason using `quoteMasterRepository.findByQuoteMasterId` instead of built-in `quoteMasterRepository.findById`? please check https://stackoverflow.com/a/74884096/3426309","body":"Is there any reason using <code>quoteMasterRepository.findByQuoteMasterId</code> instead of built-in <code>quoteMasterRepository.findById</code>? please check <a href=\"https://stackoverflow.com/a/74884096/3426309\">stackoverflow.com/a/74884096/3426309</a>"},{"owner":{"account_id":10642398,"reputation":6164,"user_id":7836976,"accept_rate":95,"display_name":"runnerpaul"},"score":0,"creation_date":1684910593,"post_id":76318817,"comment_id":134584550,"body_markdown":"I updated that to use `findById()`: `QuoteMaster quoteMaster = quoteMasterRepository.findByQuoteMasterId(quoteMaster).get();`","body":"I updated that to use <code>findById()</code>: <code>QuoteMaster quoteMaster = quoteMasterRepository.findByQuoteMasterId(quoteMaster).get()&zwnj;&#8203;;</code>"}],"owner":{"account_id":10642398,"reputation":6164,"user_id":7836976,"accept_rate":95,"display_name":"runnerpaul"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684909711,"creation_date":1684878008,"question_id":76318817,"body_markdown":"I have a Spring Boot rest API where I use JPA to write the request &amp; response messages for several dependency applications to a Postgresql database:\r\n\r\nEntities are structured as follows:\r\n\r\n```Java\r\n@Builder\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Entity\r\n@Table(name = &quot;quote_master&quot;)\r\n@Getter\r\n@Setter\r\npublic class QuoteMaster {\r\n\r\n  @Id\r\n  @SequenceGenerator(\r\n          name = &quot;quote_master_sequence&quot;,\r\n          sequenceName = &quot;quote_master_sequence&quot;)\r\n  @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;quote_master_sequence&quot;)\r\n  @Column(name = &quot;quote_master_id&quot;)\r\n  private Long quoteMasterId;\r\n\r\n  @Column(name = &quot;quote_reference&quot;)\r\n  private String quoteReference;\r\n\r\n  @Column(name = &quot;transaction_id&quot;)\r\n  private String transactionId;\r\n\r\n  @Column(name = &quot;quote_status&quot;)\r\n  private String quoteStatus;\r\n\r\n  @Column(name = &quot;quote_type&quot;)\r\n  private String quoteType;\r\n\r\n  @Column(name = &quot;payment_type&quot;)\r\n  private String paymentType;\r\n\r\n  @Column(name = &quot;transaction_timestamp&quot;)\r\n  @CreationTimestamp\r\n  private LocalDateTime transactionTimestamp;\r\n\r\n  @Column(name = &quot;client_source&quot;)\r\n  private String clientSource;\r\n\r\n  @OneToMany(mappedBy = &quot;quoteMaster&quot;, cascade = CascadeType.ALL, fetch = FetchType.EAGER)\r\n  private List&lt;DependencyMessage&gt; dependencyMessages;\r\n\r\n  public void addDependencyMessage(DependencyMessage theDependencyMessage) {\r\n    if (dependencyMessages == null) {\r\n      dependencyMessages = new ArrayList&lt;&gt;();\r\n    }\r\n    dependencyMessages.add(theDependencyMessage);\r\n    theDependencyMessage.setQuoteMaster(this);\r\n  }\r\n\r\n}\r\n```\r\n\r\n```Java\r\n@Data\r\n@Builder\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Entity\r\n@SelectBeforeUpdate\r\n@Table(name = &quot;dependency_messages&quot;)\r\n@Getter\r\n@Setter\r\npublic class DependencyMessage {\r\n\r\n  @Id\r\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n  @Column(name = &quot;id&quot;, nullable = false)\r\n  private Long id;\r\n\r\n  @Enumerated(EnumType.STRING)\r\n  @Column(name = &quot;call_type&quot;)\r\n  private RequestOrResponse requestOrResponse;\r\n\r\n  @Enumerated(EnumType.STRING)\r\n  @Column(name = &quot;message_type&quot;)\r\n  private MessageType messageType;\r\n\r\n  @Enumerated(EnumType.STRING)\r\n  @Column(name = &quot;service&quot;)\r\n  private DependencyApplication dependencyApplication;\r\n\r\n  @Column(name = &quot;class_name&quot;)\r\n  private String className;\r\n\r\n  @Column(name = &quot;date_created&quot;)\r\n  @CreationTimestamp\r\n  private Date dateCreated;\r\n  @Column(name = &quot;message&quot;, columnDefinition = &quot;TEXT&quot;)\r\n  private String message;\r\n\r\n  @ManyToOne(cascade = CascadeType.ALL)\r\n  @JoinColumn(name = &quot;quote_master_id&quot;)\r\n  private QuoteMaster quoteMAster;\r\n}\r\n```\r\n\r\nIn my quote service, where the first message is found, I have this:\r\n\r\n```Java\r\nDependencyMessage dependencyMessage =\r\n    DependencyMessage.builder()\r\n        .requestOrResponse(RequestOrResponse.REQUEST)\r\n        .messageType(MessageType.JSON)\r\n        .dependencyApplication(DependencyApplication.APP1)\r\n        .className(&quot;QuoteService&quot;)\r\n        .message(quoteRequest.toString())\r\n        .build();\r\n    QuoteMaster quoteMaster =\r\n        QuoteMaster.builder()\r\n            .quoteReference(quoteRequest.getQuoteReference())\r\n            .transactionId(quoteRequest.getTransactionId())\r\n            .clientSource(quoteRequest.getSourceSystems().getOrigin().sourceSystem)\r\n            .build();\r\n    quoteMaster.addDependencyMessage(dependencyMessage);\r\n\r\n    quoteMasterRepository.save(quoteMaster);\r\n      Long quoteMasterId = quoteMaster.getQuoteMasterId();\r\n```\r\n\r\n`quoteMasterId` is then passed to any subsequent methods that send or receive a message where it is used to look up the relevant quote and do any update:\r\n\r\n```Java\r\nDependencyMessage dependencyMessage =\r\n    DependencyMessage.builder()\r\n        .requestOrResponse(RequestOrResponse.REQUEST)\r\n        .messageType(MessageType.XML)\r\n        .dependencyApplication(DependencyApplication.APP2)\r\n        .className(&quot;RatingService&quot;)\r\n        .message(requestXML)\r\n        .build();\r\nQuoteMaster quoteMaster = quoteMasterRepository.findByQuoteMasterId(quoteMaster);\r\nquoteMaster.addDependencyMessage(dependencyMessage);\r\nquoteMasterRepository.save(quoteMaster);\r\n```\r\n\r\nThe result of this is a lot of `findByQuoteMasterId()` and `save()` interactions with the database. I&#39;m worried about a performance hit so was wondering is there a way to build some sort of global object on which I could do just one save at the end of the process?","title":"Build single object for save with JPA instead of multiple saves and updates","body":"<p>I have a Spring Boot rest API where I use JPA to write the request &amp; response messages for several dependency applications to a Postgresql database:</p>\n<p>Entities are structured as follows:</p>\n<pre><code>@Builder\n@NoArgsConstructor\n@AllArgsConstructor\n@Entity\n@Table(name = &quot;quote_master&quot;)\n@Getter\n@Setter\npublic class QuoteMaster {\n\n  @Id\n  @SequenceGenerator(\n          name = &quot;quote_master_sequence&quot;,\n          sequenceName = &quot;quote_master_sequence&quot;)\n  @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;quote_master_sequence&quot;)\n  @Column(name = &quot;quote_master_id&quot;)\n  private Long quoteMasterId;\n\n  @Column(name = &quot;quote_reference&quot;)\n  private String quoteReference;\n\n  @Column(name = &quot;transaction_id&quot;)\n  private String transactionId;\n\n  @Column(name = &quot;quote_status&quot;)\n  private String quoteStatus;\n\n  @Column(name = &quot;quote_type&quot;)\n  private String quoteType;\n\n  @Column(name = &quot;payment_type&quot;)\n  private String paymentType;\n\n  @Column(name = &quot;transaction_timestamp&quot;)\n  @CreationTimestamp\n  private LocalDateTime transactionTimestamp;\n\n  @Column(name = &quot;client_source&quot;)\n  private String clientSource;\n\n  @OneToMany(mappedBy = &quot;quoteMaster&quot;, cascade = CascadeType.ALL, fetch = FetchType.EAGER)\n  private List&lt;DependencyMessage&gt; dependencyMessages;\n\n  public void addDependencyMessage(DependencyMessage theDependencyMessage) {\n    if (dependencyMessages == null) {\n      dependencyMessages = new ArrayList&lt;&gt;();\n    }\n    dependencyMessages.add(theDependencyMessage);\n    theDependencyMessage.setQuoteMaster(this);\n  }\n\n}\n</code></pre>\n<pre><code>@Data\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\n@Entity\n@SelectBeforeUpdate\n@Table(name = &quot;dependency_messages&quot;)\n@Getter\n@Setter\npublic class DependencyMessage {\n\n  @Id\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n  @Column(name = &quot;id&quot;, nullable = false)\n  private Long id;\n\n  @Enumerated(EnumType.STRING)\n  @Column(name = &quot;call_type&quot;)\n  private RequestOrResponse requestOrResponse;\n\n  @Enumerated(EnumType.STRING)\n  @Column(name = &quot;message_type&quot;)\n  private MessageType messageType;\n\n  @Enumerated(EnumType.STRING)\n  @Column(name = &quot;service&quot;)\n  private DependencyApplication dependencyApplication;\n\n  @Column(name = &quot;class_name&quot;)\n  private String className;\n\n  @Column(name = &quot;date_created&quot;)\n  @CreationTimestamp\n  private Date dateCreated;\n  @Column(name = &quot;message&quot;, columnDefinition = &quot;TEXT&quot;)\n  private String message;\n\n  @ManyToOne(cascade = CascadeType.ALL)\n  @JoinColumn(name = &quot;quote_master_id&quot;)\n  private QuoteMaster quoteMAster;\n}\n</code></pre>\n<p>In my quote service, where the first message is found, I have this:</p>\n<pre><code>DependencyMessage dependencyMessage =\n    DependencyMessage.builder()\n        .requestOrResponse(RequestOrResponse.REQUEST)\n        .messageType(MessageType.JSON)\n        .dependencyApplication(DependencyApplication.APP1)\n        .className(&quot;QuoteService&quot;)\n        .message(quoteRequest.toString())\n        .build();\n    QuoteMaster quoteMaster =\n        QuoteMaster.builder()\n            .quoteReference(quoteRequest.getQuoteReference())\n            .transactionId(quoteRequest.getTransactionId())\n            .clientSource(quoteRequest.getSourceSystems().getOrigin().sourceSystem)\n            .build();\n    quoteMaster.addDependencyMessage(dependencyMessage);\n\n    quoteMasterRepository.save(quoteMaster);\n      Long quoteMasterId = quoteMaster.getQuoteMasterId();\n</code></pre>\n<p><code>quoteMasterId</code> is then passed to any subsequent methods that send or receive a message where it is used to look up the relevant quote and do any update:</p>\n<pre><code>DependencyMessage dependencyMessage =\n    DependencyMessage.builder()\n        .requestOrResponse(RequestOrResponse.REQUEST)\n        .messageType(MessageType.XML)\n        .dependencyApplication(DependencyApplication.APP2)\n        .className(&quot;RatingService&quot;)\n        .message(requestXML)\n        .build();\nQuoteMaster quoteMaster = quoteMasterRepository.findByQuoteMasterId(quoteMaster);\nquoteMaster.addDependencyMessage(dependencyMessage);\nquoteMasterRepository.save(quoteMaster);\n</code></pre>\n<p>The result of this is a lot of <code>findByQuoteMasterId()</code> and <code>save()</code> interactions with the database. I'm worried about a performance hit so was wondering is there a way to build some sort of global object on which I could do just one save at the end of the process?</p>\n"},{"tags":["java","mockito"],"answers":[{"tags":[],"owner":{"account_id":15718721,"reputation":988,"user_id":11342225,"display_name":"alea"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684909632,"creation_date":1682943232,"answer_id":76146839,"question_id":76146552,"body_markdown":"With `Mockito.mock` you are creating a dummy object with no logic in any of the methods and no real method calls. \r\n\r\nWith this line, you are telling you mock object, that it should return `true` when the method `checkUsername` with the parameter test is called.\r\n\r\n    when(mockedManager.checkUsername(&quot;test&quot;)).thenReturn(true);\r\n\r\nAny other calls of `checkUsername` with any other parameter like `&quot;foo&quot;` or so, will result in returning the default value, that is specified by the mock. Since this method will return `boolean`, `false` should be returned.\r\n\r\nFor your method `addUser(String, String)` you have not told mockito what to do with this method. That means that there will not be any calls to this method body. You can also find this out, by placing some `System.out.println` in the first line of your method. These calls will not appear in any log.\r\n\r\nIf you want mockito to call your real method you have two options:\r\n\r\n1. Telling mockito to call the real method. This can be done by any of the two forms.\r\n  \r\n       when(mockedManager.addUser(&quot;test&quot;, &quot;test&quot;)).thenCallRealMethod();\r\n     \r\n       doCallRealMethod().when(mockedManager).addUser(&quot;test&quot;, &quot;test&quot;);\r\n\r\n   You just need one of the forms. This will result that every time you call the method `addUser` with the parameters `&quot;test&quot;, &quot;test&quot;`, it will call the real method. On any other cases, it will do the default behavior and not calling the real method.\r\n\r\n2. Using `Mockito.spy(Object.class)`. With this, you do not need to specify calling the real method, because this is the default behavior. You will either need in your class a no-arguments constructor or create the mock object with an other constructor. Also you need to use the `doXX` methods for mockito, that means your mocked call will look like this.\r\n\r\n       doReturn(true).when(mockedManager).checkUsername(&quot;test&quot;);\r\n","title":"Problem with Mockito, invoking stubbed methods","body":"<p>With <code>Mockito.mock</code> you are creating a dummy object with no logic in any of the methods and no real method calls.</p>\n<p>With this line, you are telling you mock object, that it should return <code>true</code> when the method <code>checkUsername</code> with the parameter test is called.</p>\n<pre><code>when(mockedManager.checkUsername(&quot;test&quot;)).thenReturn(true);\n</code></pre>\n<p>Any other calls of <code>checkUsername</code> with any other parameter like <code>&quot;foo&quot;</code> or so, will result in returning the default value, that is specified by the mock. Since this method will return <code>boolean</code>, <code>false</code> should be returned.</p>\n<p>For your method <code>addUser(String, String)</code> you have not told mockito what to do with this method. That means that there will not be any calls to this method body. You can also find this out, by placing some <code>System.out.println</code> in the first line of your method. These calls will not appear in any log.</p>\n<p>If you want mockito to call your real method you have two options:</p>\n<ol>\n<li><p>Telling mockito to call the real method. This can be done by any of the two forms.</p>\n<pre><code>when(mockedManager.addUser(&quot;test&quot;, &quot;test&quot;)).thenCallRealMethod();\n\ndoCallRealMethod().when(mockedManager).addUser(&quot;test&quot;, &quot;test&quot;);\n</code></pre>\n<p>You just need one of the forms. This will result that every time you call the method <code>addUser</code> with the parameters <code>&quot;test&quot;, &quot;test&quot;</code>, it will call the real method. On any other cases, it will do the default behavior and not calling the real method.</p>\n</li>\n<li><p>Using <code>Mockito.spy(Object.class)</code>. With this, you do not need to specify calling the real method, because this is the default behavior. You will either need in your class a no-arguments constructor or create the mock object with an other constructor. Also you need to use the <code>doXX</code> methods for mockito, that means your mocked call will look like this.</p>\n<pre><code>doReturn(true).when(mockedManager).checkUsername(&quot;test&quot;);\n</code></pre>\n</li>\n</ol>\n"}],"owner":{"account_id":28471366,"reputation":13,"user_id":21786634,"display_name":"Cristian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76146839,"answer_count":1,"score":1,"last_activity_date":1684909632,"creation_date":1682940522,"question_id":76146552,"body_markdown":"I am creating a test class, and when I stub certain methods of the mocked object to return true, when calling another method that checks the one that was stubbed, its result is ignored.\r\n\r\nThis is the test method:\r\n\r\n```\r\n    @Test\r\n    public void AddExistingUser(){\r\n        //Mocking\r\n        mockedManager = mock(UserManager.class);\r\n\r\n        //Stubbing\r\n        when(mockedManager.checkUsername(&quot;test&quot;)).thenReturn(true);\r\n        \r\n        assertThrows(IllegalArgumentException.class, () -&gt; {\r\n            mockedManager.addUser(&quot;test&quot;, &quot;test&quot;);\r\n        });\r\n    }\r\n```\r\n\r\nAnd this is UserManager.addUser:\r\n\r\n```\r\n    public void addUser(String username, String password) {\r\n        //Check if the user already exists.\r\n        if (checkUsername(username)) {\r\n            throw new IllegalArgumentException(&quot;User already exists.&quot;);\r\n        }\r\n        usersData.put(username, hashPassword(password));\r\n        file.writeString(json.toJson(usersData), false);\r\n    }\r\n```\r\n\r\nThis is UserManager.checkUsername in case it is needed:\r\n\r\n```\r\n    public boolean checkUsername(String username) {\r\n        return usersData.containsKey(username);\r\n    }\r\n```\r\n(Where usersData is an ObjectMap&lt;String, String&gt;)\r\n\r\nI would expect the test to success since it should return an IllegalArgumentException, however I get &quot;org.opentest4j.AssertionFailedError: Expected java.lang.IllegalArgumentException to be thrown, but nothing was thrown.&quot;\r\n","title":"Problem with Mockito, invoking stubbed methods","body":"<p>I am creating a test class, and when I stub certain methods of the mocked object to return true, when calling another method that checks the one that was stubbed, its result is ignored.</p>\n<p>This is the test method:</p>\n<pre><code>    @Test\n    public void AddExistingUser(){\n        //Mocking\n        mockedManager = mock(UserManager.class);\n\n        //Stubbing\n        when(mockedManager.checkUsername(&quot;test&quot;)).thenReturn(true);\n        \n        assertThrows(IllegalArgumentException.class, () -&gt; {\n            mockedManager.addUser(&quot;test&quot;, &quot;test&quot;);\n        });\n    }\n</code></pre>\n<p>And this is UserManager.addUser:</p>\n<pre><code>    public void addUser(String username, String password) {\n        //Check if the user already exists.\n        if (checkUsername(username)) {\n            throw new IllegalArgumentException(&quot;User already exists.&quot;);\n        }\n        usersData.put(username, hashPassword(password));\n        file.writeString(json.toJson(usersData), false);\n    }\n</code></pre>\n<p>This is UserManager.checkUsername in case it is needed:</p>\n<pre><code>    public boolean checkUsername(String username) {\n        return usersData.containsKey(username);\n    }\n</code></pre>\n<p>(Where usersData is an ObjectMap&lt;String, String&gt;)</p>\n<p>I would expect the test to success since it should return an IllegalArgumentException, however I get &quot;org.opentest4j.AssertionFailedError: Expected java.lang.IllegalArgumentException to be thrown, but nothing was thrown.&quot;</p>\n"},{"tags":["java","concurrency"],"answers":[{"comments":[{"owner":{"account_id":11846,"reputation":3374,"user_id":23051,"accept_rate":100,"display_name":"Julien Grenier"},"score":16,"creation_date":1226466064,"post_id":281163,"comment_id":133684,"body_markdown":"And the longer answer would be ?","body":"And the longer answer would be ?"},{"owner":{"account_id":15307,"reputation":17620,"user_id":32174,"accept_rate":71,"display_name":"Julien Chastang"},"score":0,"creation_date":1233334628,"post_id":281163,"comment_id":311957,"body_markdown":"Agreed. We at least need a link.","body":"Agreed. We at least need a link."},{"owner":{"account_id":58694,"reputation":833,"user_id":175701,"accept_rate":50,"display_name":"Alex Siman"},"score":2,"creation_date":1257205205,"post_id":281163,"comment_id":1537226,"body_markdown":"The link to longer answer: \nhttp://java.sun.com/j2se/1.5.0/docs/api/java/util/concurrent/atomic/package-summary.html","body":"The link to longer answer:  <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/util/concurrent/atomic/package-summary.html\" rel=\"nofollow noreferrer\">java.sun.com/j2se/1.5.0/docs/api/java/util/concurrent/atomic&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":1967474,"reputation":3342,"user_id":1767316,"accept_rate":42,"display_name":"user1767316"},"score":0,"creation_date":1633439928,"post_id":281163,"comment_id":122756024,"body_markdown":"So what is writing a volatile without beeing Atomic like getAndSet() ?","body":"So what is writing a volatile without beeing Atomic like getAndSet() ?"}],"tags":[],"owner":{"account_id":7340,"reputation":12654,"user_id":12719,"display_name":"pgras"},"comment_count":4,"down_vote_count":1,"up_vote_count":127,"is_accepted":true,"score":126,"last_activity_date":1575264765,"creation_date":1226416625,"answer_id":281163,"question_id":281132,"body_markdown":"Short answer is: No.\r\n\r\nFrom the [`java.util.concurrent.atomic`][1] package documentation. To quote:\r\n\r\n&gt;The memory effects for accesses and updates of atomics generally follow the rules for volatiles:\r\n\r\n&gt;- `get` has the memory effects of reading a `volatile` variable.\r\n- `set` has the memory effects of writing (assigning) a `volatile` variable.\r\n\r\nBy the way, that documentation is very good and everything is explained.\r\n\r\n___\r\n\r\n[`AtomicReference::lazySet`][2] is a newer (Java 6+) operation introduced that has semantics unachievable through `volatile` variables. See [this post][3] for more information.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/atomic/package-summary.html\r\n  [2]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/atomic/AtomicReference.html#lazySet(V)\r\n  [3]: https://stackoverflow.com/a/1468020/591495)","title":"Java volatile reference vs. AtomicReference","body":"<p>Short answer is: No.</p>\n\n<p>From the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/atomic/package-summary.html\" rel=\"noreferrer\"><code>java.util.concurrent.atomic</code></a> package documentation. To quote:</p>\n\n<blockquote>\n  <p>The memory effects for accesses and updates of atomics generally follow the rules for volatiles:</p>\n  \n  <ul>\n  <li><code>get</code> has the memory effects of reading a <code>volatile</code> variable.</li>\n  <li><code>set</code> has the memory effects of writing (assigning) a <code>volatile</code> variable.</li>\n  </ul>\n</blockquote>\n\n<p>By the way, that documentation is very good and everything is explained.</p>\n\n<hr>\n\n<p><a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/atomic/AtomicReference.html#lazySet(V)\" rel=\"noreferrer\"><code>AtomicReference::lazySet</code></a> is a newer (Java 6+) operation introduced that has semantics unachievable through <code>volatile</code> variables. See <a href=\"https://stackoverflow.com/a/1468020/591495)\">this post</a> for more information.</p>\n"},{"tags":[],"owner":{"account_id":1207,"reputation":19992,"user_id":1605,"accept_rate":100,"display_name":"Avi"},"comment_count":0,"down_vote_count":0,"up_vote_count":53,"is_accepted":false,"score":53,"last_activity_date":1226416833,"creation_date":1226416833,"answer_id":281171,"question_id":281132,"body_markdown":"No, there is not.\r\n\r\nThe additional power provided by AtomicReference is the compareAndSet() method and friends. If you do not need those methods, a volatile reference provides the same semantics as AtomicReference.set() and .get().","title":"Java volatile reference vs. AtomicReference","body":"<p>No, there is not.</p>\n\n<p>The additional power provided by AtomicReference is the compareAndSet() method and friends. If you do not need those methods, a volatile reference provides the same semantics as AtomicReference.set() and .get().</p>\n"},{"comments":[{"owner":{"account_id":42063,"reputation":58411,"user_id":122422,"accept_rate":56,"display_name":"B T"},"score":0,"creation_date":1328562468,"post_id":497150,"comment_id":11530902,"body_markdown":"So the difference, then, is in their performance. If there was no difference, you wouldn&#39;t ever suggest using one over the other.","body":"So the difference, then, is in their performance. If there was no difference, you wouldn&#39;t ever suggest using one over the other."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1328562550,"post_id":497150,"comment_id":11530929,"body_markdown":"The performance is much the same. An AtomicRefrence adds complexity and memory usage.","body":"The performance is much the same. An AtomicRefrence adds complexity and memory usage."},{"owner":{"account_id":107532,"reputation":36152,"user_id":285873,"accept_rate":91,"display_name":"David Harkness"},"score":0,"creation_date":1409765141,"post_id":497150,"comment_id":40080055,"body_markdown":"@BT A `volatile` field can be used like any regular field whereas accessing the value in an `AtomicReference` requires going through `get` and `set` methods.","body":"@BT A <code>volatile</code> field can be used like any regular field whereas accessing the value in an <code>AtomicReference</code> requires going through <code>get</code> and <code>set</code> methods."}],"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":3,"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1576477551,"creation_date":1233347739,"answer_id":497150,"question_id":281132,"body_markdown":"[`AtomicReference`][1] provides additional functionality which a plain volatile variable does not provide.  As you have read the API Javadoc you will know this, but it also provides a lock which can be useful for some operations.\r\n\r\nHowever, unless you need this additional functionality I suggest you use a plain `volatile` field.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/atomic/AtomicReference.html","title":"Java volatile reference vs. AtomicReference","body":"<p><a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/atomic/AtomicReference.html\" rel=\"nofollow noreferrer\"><code>AtomicReference</code></a> provides additional functionality which a plain volatile variable does not provide.  As you have read the API Javadoc you will know this, but it also provides a lock which can be useful for some operations.</p>\n\n<p>However, unless you need this additional functionality I suggest you use a plain <code>volatile</code> field.</p>\n"},{"comments":[{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":17,"creation_date":1359910758,"post_id":14674019,"comment_id":20514104,"body_markdown":"*&quot;JDK source code is one of the best ways to answers confusions like this&quot;* =&gt; I don&#39;t necessarily agree - the javadoc (which is the contract of the class) is the best way. What you find in the code answers the question for a specific implementation but code can change.","body":"<i>&quot;JDK source code is one of the best ways to answers confusions like this&quot;</i> =&gt; I don&#39;t necessarily agree - the javadoc (which is the contract of the class) is the best way. What you find in the code answers the question for a specific implementation but code can change."},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":4,"creation_date":1359910854,"post_id":14674019,"comment_id":20514126,"body_markdown":"For example [this variable](http://stackoverflow.com/a/14363501/829571) in hashmap was volatile in JDK 6 but is not volatile any longer in Java 7. Has you based your code on the fact that the variable was volatile, it would have broken when ugrading your JDK... Admittedly the example is different but you get the point.","body":"For example <a href=\"http://stackoverflow.com/a/14363501/829571\">this variable</a> in hashmap was volatile in JDK 6 but is not volatile any longer in Java 7. Has you based your code on the fact that the variable was volatile, it would have broken when ugrading your JDK... Admittedly the example is different but you get the point."},{"owner":{"account_id":2109967,"reputation":6673,"user_id":1875434,"accept_rate":67,"display_name":"abbas"},"score":0,"creation_date":1565346753,"post_id":14674019,"comment_id":101334393,"body_markdown":"Is that CAS some standard abbreviation?","body":"Is that CAS some standard abbreviation?"},{"owner":{"account_id":1446782,"reputation":3366,"user_id":1364959,"accept_rate":29,"display_name":"endless"},"score":1,"creation_date":1565888628,"post_id":14674019,"comment_id":101494881,"body_markdown":"Compare and Swap =)","body":"Compare and Swap =)"}],"tags":[],"owner":{"account_id":1446782,"reputation":3366,"user_id":1364959,"accept_rate":29,"display_name":"endless"},"comment_count":4,"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1394754939,"creation_date":1359905081,"answer_id":14674019,"question_id":281132,"body_markdown":"[JDK source code](http://download.java.net/openjdk/jdk7/) is one of the best ways to answers confusions like this. If you look at the code in AtomicReference, it uses a volatie variable for object storage. \r\n\r\n    private volatile V value;\r\n\r\nSo, obviously if you are going to just use get() and set() on AtomicReference it is like using a volatile variable. But as other readers commented, AtomicReference provides additional CAS semantics. So, first decide if you want CAS semantics or not, and if you do only then use AtomicReference.","title":"Java volatile reference vs. AtomicReference","body":"<p><a href=\"http://download.java.net/openjdk/jdk7/\" rel=\"noreferrer\">JDK source code</a> is one of the best ways to answers confusions like this. If you look at the code in AtomicReference, it uses a volatie variable for object storage. </p>\n\n<pre><code>private volatile V value;\n</code></pre>\n\n<p>So, obviously if you are going to just use get() and set() on AtomicReference it is like using a volatile variable. But as other readers commented, AtomicReference provides additional CAS semantics. So, first decide if you want CAS semantics or not, and if you do only then use AtomicReference.</p>\n"},{"tags":[],"owner":{"account_id":1041776,"reputation":2850,"user_id":1047667,"accept_rate":100,"display_name":"Nitsan Wakart"},"comment_count":0,"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1684909585,"creation_date":1500459038,"answer_id":45187442,"question_id":281132,"body_markdown":"There are several differences and tradeoffs:\r\n\r\n1. Using an `AtomicReference` get/set has the same **JMM semantics** as a volatile field(as the javadoc states), but the `AtomicReference` is a wrapper around a reference, so **any access to the field involves a further pointer chase**.\r\n\r\n2. The **memory footprint is multiplied** (assuming a compressed OOPs environment, which is true for most VMs):\r\n\r\n - volatile ref = 4b\r\n - `AtomicReference` = 4b + 16b (12b object header + 4b ref field)\r\n\r\n\r\n3. `AtomicReference` offers a richer API than a volatile reference. You can regain the API for the volatile reference by using an `AtomicFieldUpdater`, or with Java 9 a `VarHandle`. You can also reach straight for `sun.misc.Unsafe` if you like running with scissors. `AtomicReference` itself is implemented using `Unsafe`.\r\n\r\n\r\nSo, when is it good to choose one over the other:\r\n\r\n - Only need get/set? Stick with a volatile field, simplest solution and lowest overhead.\r\n - Need the extra functionality? If this is a performance(speed/memory overhead) sensitive part of your code make a choice between `AtomicReference`/`AtomicFieldUpdater`/`Unsafe` where you tend to pay in readability and risk for your performance gain. If this is not a sensitive area just go for `AtomicReference`. Library writers typically use a mix of these methods depending on targeted JDKs, expected API restrictions, memory constraints and so on.\r\n","title":"Java volatile reference vs. AtomicReference","body":"<p>There are several differences and tradeoffs:</p>\n<ol>\n<li><p>Using an <code>AtomicReference</code> get/set has the same <strong>JMM semantics</strong> as a volatile field(as the javadoc states), but the <code>AtomicReference</code> is a wrapper around a reference, so <strong>any access to the field involves a further pointer chase</strong>.</p>\n</li>\n<li><p>The <strong>memory footprint is multiplied</strong> (assuming a compressed OOPs environment, which is true for most VMs):</p>\n</li>\n</ol>\n<ul>\n<li>volatile ref = 4b</li>\n<li><code>AtomicReference</code> = 4b + 16b (12b object header + 4b ref field)</li>\n</ul>\n<ol start=\"3\">\n<li><code>AtomicReference</code> offers a richer API than a volatile reference. You can regain the API for the volatile reference by using an <code>AtomicFieldUpdater</code>, or with Java 9 a <code>VarHandle</code>. You can also reach straight for <code>sun.misc.Unsafe</code> if you like running with scissors. <code>AtomicReference</code> itself is implemented using <code>Unsafe</code>.</li>\n</ol>\n<p>So, when is it good to choose one over the other:</p>\n<ul>\n<li>Only need get/set? Stick with a volatile field, simplest solution and lowest overhead.</li>\n<li>Need the extra functionality? If this is a performance(speed/memory overhead) sensitive part of your code make a choice between <code>AtomicReference</code>/<code>AtomicFieldUpdater</code>/<code>Unsafe</code> where you tend to pay in readability and risk for your performance gain. If this is not a sensitive area just go for <code>AtomicReference</code>. Library writers typically use a mix of these methods depending on targeted JDKs, expected API restrictions, memory constraints and so on.</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":29802,"reputation":11140,"user_id":80779,"accept_rate":90,"display_name":"LordOfThePigs"},"score":0,"creation_date":1679921473,"post_id":62212388,"comment_id":133802157,"body_markdown":"Not sure why this was voted down. It does show a valid example where the value of `status` could change between the `if` test and its use in the `println` statement. I&#39;m not sure which of the two versions is more likely to be removed during cleanup though.","body":"Not sure why this was voted down. It does show a valid example where the value of <code>status</code> could change between the <code>if</code> test and its use in the <code>println</code> statement. I&#39;m not sure which of the two versions is more likely to be removed during cleanup though."}],"tags":[],"owner":{"account_id":1441465,"reputation":667,"user_id":1361495,"accept_rate":67,"display_name":"nme"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1680112816,"creation_date":1591350041,"answer_id":62212388,"question_id":281132,"body_markdown":"Sometimes even if you only use gets and sets, AtomicReference might be a good choice:\r\n\r\nExample with volatile:\r\n```java\r\nprivate volatile Status status;\r\n...\r\npublic setNewStatus(Status newStatus){\r\n  status = newStatus;\r\n}\r\n\r\npublic void doSomethingConditionally() {\r\n  if(status.isOk()){\r\n    System.out.println(&quot;Status is ok: &quot; + status); // here status might not be OK anymore because in the meantime someone called setNewStatus(). setNewStatus should be synchronized\r\n  }\r\n}\r\n```\r\n\r\nWith AtomicReference it would be:\r\n```java\r\nprivate AtomicReference&lt;Status&gt; statusWrapper;\r\n...\r\n\r\npublic void doSomethingConditionally() {\r\n  Status status = statusWrapper.get();\r\n  if(status.isOk()){\r\n    System.out.println(&quot;Status is ok: &quot; + status); // here even if in the meantime some called setNewStatus() we&#39;re still referring to the old one\r\n  }\r\n}\r\n```\r\n\r\nOne might say that you could still have a proper copy if you substituted:\r\n```java\r\nStatus status = statusWrapper.get();\r\n```\r\nwith:\r\n```java\r\nStatus statusCopy = status;\r\n```\r\nHowever I guess the second one is more likely to be removed by someone accidentally in the future during &quot;code cleaning&quot;.","title":"Java volatile reference vs. AtomicReference","body":"<p>Sometimes even if you only use gets and sets, AtomicReference might be a good choice:</p>\n<p>Example with volatile:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private volatile Status status;\n...\npublic setNewStatus(Status newStatus){\n  status = newStatus;\n}\n\npublic void doSomethingConditionally() {\n  if(status.isOk()){\n    System.out.println(&quot;Status is ok: &quot; + status); // here status might not be OK anymore because in the meantime someone called setNewStatus(). setNewStatus should be synchronized\n  }\n}\n</code></pre>\n<p>With AtomicReference it would be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private AtomicReference&lt;Status&gt; statusWrapper;\n...\n\npublic void doSomethingConditionally() {\n  Status status = statusWrapper.get();\n  if(status.isOk()){\n    System.out.println(&quot;Status is ok: &quot; + status); // here even if in the meantime some called setNewStatus() we're still referring to the old one\n  }\n}\n</code></pre>\n<p>One might say that you could still have a proper copy if you substituted:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Status status = statusWrapper.get();\n</code></pre>\n<p>with:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Status statusCopy = status;\n</code></pre>\n<p>However I guess the second one is more likely to be removed by someone accidentally in the future during &quot;code cleaning&quot;.</p>\n"}],"owner":{"account_id":2901,"reputation":13207,"user_id":4110,"accept_rate":31,"display_name":"auramo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49673,"favorite_count":0,"down_vote_count":1,"up_vote_count":152,"accepted_answer_id":281163,"answer_count":6,"score":151,"last_activity_date":1684909585,"creation_date":1226415866,"question_id":281132,"body_markdown":"Is there any difference between a `volatile` Object reference and `AtomicReference` in case I would just use `get()` and `set()`-methods from `AtomicReference`?","title":"Java volatile reference vs. AtomicReference","body":"<p>Is there any difference between a <code>volatile</code> Object reference and <code>AtomicReference</code> in case I would just use <code>get()</code> and <code>set()</code>-methods from <code>AtomicReference</code>?</p>\n"},{"tags":["java","rabbitmq","vert.x"],"comments":[{"owner":{"account_id":27553187,"reputation":78,"user_id":21027876,"display_name":"Yaseen"},"score":0,"creation_date":1684911214,"post_id":76320574,"comment_id":134584669,"body_markdown":"Ensure that the management plugin is enabled in your RabbitMQ installation. This plugin provides an HTTP API for accessing metrics and management features.","body":"Ensure that the management plugin is enabled in your RabbitMQ installation. This plugin provides an HTTP API for accessing metrics and management features."},{"owner":{"account_id":27418729,"reputation":1,"user_id":20917525,"display_name":"Shreelakshmi Joshi"},"score":0,"creation_date":1684921262,"post_id":76320574,"comment_id":134586930,"body_markdown":"The management plugin tells the memory / number of bytes in the queue but it&#39;s short lived... It is said that `It only stores recent data (think hours, not days or months)`","body":"The management plugin tells the memory / number of bytes in the queue but it&#39;s short lived... It is said that <code>It only stores recent data (think hours, not days or months)</code>"},{"owner":{"account_id":27553187,"reputation":78,"user_id":21027876,"display_name":"Yaseen"},"score":0,"creation_date":1684924424,"post_id":76320574,"comment_id":134587602,"body_markdown":"Enable RabbitMQ Event Exchange: RabbitMQ has an event exchange that allows you to record a variety of events such as queue creation, message publishing, and message consuming. To capture these events and store them externally for analysis and historical reference, you can build a separate queue tied to the event exchange.","body":"Enable RabbitMQ Event Exchange: RabbitMQ has an event exchange that allows you to record a variety of events such as queue creation, message publishing, and message consuming. To capture these events and store them externally for analysis and historical reference, you can build a separate queue tied to the event exchange."}],"owner":{"account_id":27418729,"reputation":1,"user_id":20917525,"display_name":"Shreelakshmi Joshi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":204,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684909210,"creation_date":1684909210,"question_id":76320574,"body_markdown":"We want to restrict the data consumers consume daily while they&#39;re consuming messages from the queue. RabbitMQ monitoring has something to do with the number of messages from the queue and is not based on the consumption of the consumer Ex: prefetch count. Monitoring frameworks like Prometheus would take whatever data RabbitMQ supplies or takes up generic metrics. Is there any way in which we could form a specific metric so as to know the consumption of that user or are there any tools online that help us to do that?\r\n\r\nI tried looking at the information about consumer utilization here: https://www.datadoghq.com/blog/rabbitmq-monitoring/#metric-to-alert-on-consumer-utilization","title":"How to get the data consumed by the consumer in RabbitMQ Queues","body":"<p>We want to restrict the data consumers consume daily while they're consuming messages from the queue. RabbitMQ monitoring has something to do with the number of messages from the queue and is not based on the consumption of the consumer Ex: prefetch count. Monitoring frameworks like Prometheus would take whatever data RabbitMQ supplies or takes up generic metrics. Is there any way in which we could form a specific metric so as to know the consumption of that user or are there any tools online that help us to do that?</p>\n<p>I tried looking at the information about consumer utilization here: <a href=\"https://www.datadoghq.com/blog/rabbitmq-monitoring/#metric-to-alert-on-consumer-utilization\" rel=\"nofollow noreferrer\">https://www.datadoghq.com/blog/rabbitmq-monitoring/#metric-to-alert-on-consumer-utilization</a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":3,"creation_date":1684896431,"post_id":76319782,"comment_id":134583114,"body_markdown":"Please don&#39;t post images of code, please copy the code and paste it directly into the question.","body":"Please don&#39;t post images of code, please copy the code and paste it directly into the question."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":2,"creation_date":1684897231,"post_id":76319782,"comment_id":134583174,"body_markdown":"Can you add the actual code to your question?  Also, what is the specific error you&#39;re encountering.  Your code appears to be correct for reading lines of a file.","body":"Can you add the actual code to your question?  Also, what is the specific error you&#39;re encountering.  Your code appears to be correct for reading lines of a file."},{"owner":{"account_id":28119817,"reputation":11,"user_id":21486232,"display_name":"黃祥瑋"},"score":1,"creation_date":1684897496,"post_id":76319782,"comment_id":134583193,"body_markdown":"the command line didnt tell me what wrong with the code, it finish the compile, but not thing happen, it just finish with nothing","body":"the command line didnt tell me what wrong with the code, it finish the compile, but not thing happen, it just finish with nothing"},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1684898839,"post_id":76319782,"comment_id":134583280,"body_markdown":"Is your ChinaAirline.csv empty?","body":"Is your ChinaAirline.csv empty?"},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1684898883,"post_id":76319782,"comment_id":134583282,"body_markdown":"And is the file right next to the `Flight.class` file? If it is not in the same folder, it may be grabbing the wrong ChinaAirline.csv","body":"And is the file right next to the <code>Flight.class</code> file? If it is not in the same folder, it may be grabbing the wrong ChinaAirline.csv"},{"owner":{"account_id":28119817,"reputation":11,"user_id":21486232,"display_name":"黃祥瑋"},"score":0,"creation_date":1684901271,"post_id":76319782,"comment_id":134583435,"body_markdown":"no, it have some thing in it, and the file is in the same folder","body":"no, it have some thing in it, and the file is in the same folder"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1684942277,"post_id":76319782,"comment_id":134592094,"body_markdown":"What is a ”bds file”?","body":"What is a ”bds file”?"}],"answers":[{"comments":[{"owner":{"account_id":28119817,"reputation":11,"user_id":21486232,"display_name":"黃祥瑋"},"score":0,"creation_date":1684939140,"post_id":76320311,"comment_id":134591289,"body_markdown":"i have a question, is that a hashset method?","body":"i have a question, is that a hashset method?"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1684941991,"post_id":76320311,"comment_id":134592016,"body_markdown":"@黃祥瑋 No `Set` involved in this Answer.","body":"@黃祥瑋 No <code>Set</code> involved in this Answer."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684909176,"creation_date":1684906224,"answer_id":76320311,"question_id":76319782,"body_markdown":"In modern Java, use the [NIO.2][1] classes rather than the legacy file-system classes. \r\n\r\n    Path path = Paths.get(&quot;/Users/basil_dot_work/IdeaProjects/Ex20/src/main/java/work/basil/example/parsing/airlines.csv&quot; );\r\n\r\nPut some example data in that file. We store the name of an airline, and the year of its founding.\r\n\r\n```none\r\nAir Canada,1937\r\nAir France,1933\r\nAir New Zealand,1940\r\n```\r\n\r\nYou could verify the [file’s existence][2]. \r\n\r\n    boolean exists = Files.exists( path ) ;\r\n      \r\nPass that path to the constructor of `Scanner`, along with an explicit character encoding.\r\n\r\n    Scanner scanner = new Scanner ( path , StandardCharsets.UTF_8 ) ;\r\n\r\nA `Scanner` is a resource that should be closed when no longer needed. As a habit, use the [try-with-resources][3] syntax to automatically close. And catch any `IOException`. \r\n\r\nWithin our try-with-resources, parse the file.\r\n\r\nSpecify the delimiter. For our needs that means a newline, to parse each line. \r\n\r\n    scanner.useDelimiter ( &quot;\\n&quot; );\r\n\r\nFor each line, split the string into our two parts. \r\n\r\n    String[] parts = line.split ( &quot;,&quot; );\r\n\r\nWe use each part to instantiate an object our of our class `Airline` which we defined as a [record][4]. \r\n\r\n    record Airline( String name , Year founded ) { }\r\n\r\nWe add each new `Airline` object to a list. And finally dump that list to the console.\r\n\r\nWe loop the lines by leveraging the fact that a [`Scanner`][5] is an [`Iterator`][6]. An `Iterator` has a [`forEachRemaining`][7] method to make the looping neat. We pass a lambda to handle each line. If you are not comfortable with lambdas yet, you can replace the `forEachRemaining` with a conventional loop.\r\n\r\n## Entire example code\r\n\r\n```java\r\npackage work.basil.example.parsing;\r\n\r\nimport java.io.IOException;\r\nimport java.nio.charset.StandardCharsets;\r\nimport java.nio.file.Path;\r\nimport java.nio.file.Paths;\r\nimport java.time.Year;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Scanner;\r\n\r\npublic class AirlineParsing\r\n{\r\n    public static void main ( String[] args )\r\n    {\r\n        Path path = Paths.get ( &quot;/Users/basil_dot_work/IdeaProjects/Ex20/src/main/java/work/basil/example/parsing/airlines.csv&quot; );\r\n        try\r\n                (\r\n                        Scanner scanner = new Scanner ( path , StandardCharsets.UTF_8 ) ;\r\n                )\r\n        {\r\n            scanner.useDelimiter ( &quot;\\n&quot; );\r\n            record Airline( String name , Year founded ) { }\r\n            List &lt; Airline &gt; airlines = new ArrayList &lt;&gt; ( 3 );\r\n            scanner.forEachRemaining ( ( String line ) -&gt;\r\n            {\r\n                String[] parts = line.split ( &quot;,&quot; );\r\n                Airline airline = new Airline ( parts[ 0 ] , Year.parse ( parts[ 1 ] ) );\r\n                airlines.add ( airline );\r\n            } );\r\n            System.out.println ( &quot;airlines = &quot; + airlines );\r\n        }\r\n        catch ( IOException e ) { throw new RuntimeException ( e ); }\r\n    }\r\n}\r\n```\r\n\r\nWhen run.\r\n\r\n&gt;airlines = [Airline[name=Air Canada, founded=1937], Airline[name=Air France, founded=1933], Airline[name=Air New Zealand, founded=1940]]\r\n\r\n\r\n----------\r\n\r\nThe above code is well and good as a learning exercise. But you should know that in real work we would use one of the multiple fine CSV parsing libraries available in the Java ecosystem. For example, [*Apache Commons CSV*][8]. \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Non-blocking_I/O_(Java)\r\n  [2]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/file/Files.html#exists(java.nio.file.Path,java.nio.file.LinkOption...)\r\n  [3]: https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\r\n  [4]: https://openjdk.org/jeps/395\r\n  [5]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Scanner.html\r\n  [6]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Iterator.html\r\n  [7]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Iterator.html#forEachRemaining(java.util.function.Consumer)\r\n  [8]: https://commons.apache.org/proper/commons-csv/","title":"JAVA read csv file with scanner, didn&#39;t work","body":"<p>In modern Java, use the <a href=\"https://en.wikipedia.org/wiki/Non-blocking_I/O_(Java)\" rel=\"nofollow noreferrer\">NIO.2</a> classes rather than the legacy file-system classes.</p>\n<pre><code>Path path = Paths.get(&quot;/Users/basil_dot_work/IdeaProjects/Ex20/src/main/java/work/basil/example/parsing/airlines.csv&quot; );\n</code></pre>\n<p>Put some example data in that file. We store the name of an airline, and the year of its founding.</p>\n<pre class=\"lang-none prettyprint-override\"><code>Air Canada,1937\nAir France,1933\nAir New Zealand,1940\n</code></pre>\n<p>You could verify the <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/file/Files.html#exists(java.nio.file.Path,java.nio.file.LinkOption...)\" rel=\"nofollow noreferrer\">file’s existence</a>.</p>\n<pre><code>boolean exists = Files.exists( path ) ;\n  \n</code></pre>\n<p>Pass that path to the constructor of <code>Scanner</code>, along with an explicit character encoding.</p>\n<pre><code>Scanner scanner = new Scanner ( path , StandardCharsets.UTF_8 ) ;\n</code></pre>\n<p>A <code>Scanner</code> is a resource that should be closed when no longer needed. As a habit, use the <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">try-with-resources</a> syntax to automatically close. And catch any <code>IOException</code>.</p>\n<p>Within our try-with-resources, parse the file.</p>\n<p>Specify the delimiter. For our needs that means a newline, to parse each line.</p>\n<pre><code>scanner.useDelimiter ( &quot;\\n&quot; );\n</code></pre>\n<p>For each line, split the string into our two parts.</p>\n<pre><code>String[] parts = line.split ( &quot;,&quot; );\n</code></pre>\n<p>We use each part to instantiate an object our of our class <code>Airline</code> which we defined as a <a href=\"https://openjdk.org/jeps/395\" rel=\"nofollow noreferrer\">record</a>.</p>\n<pre><code>record Airline( String name , Year founded ) { }\n</code></pre>\n<p>We add each new <code>Airline</code> object to a list. And finally dump that list to the console.</p>\n<p>We loop the lines by leveraging the fact that a <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Scanner.html\" rel=\"nofollow noreferrer\"><code>Scanner</code></a> is an <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Iterator.html\" rel=\"nofollow noreferrer\"><code>Iterator</code></a>. An <code>Iterator</code> has a <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Iterator.html#forEachRemaining(java.util.function.Consumer)\" rel=\"nofollow noreferrer\"><code>forEachRemaining</code></a> method to make the looping neat. We pass a lambda to handle each line. If you are not comfortable with lambdas yet, you can replace the <code>forEachRemaining</code> with a conventional loop.</p>\n<h2>Entire example code</h2>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.parsing;\n\nimport java.io.IOException;\nimport java.nio.charset.StandardCharsets;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.time.Year;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Scanner;\n\npublic class AirlineParsing\n{\n    public static void main ( String[] args )\n    {\n        Path path = Paths.get ( &quot;/Users/basil_dot_work/IdeaProjects/Ex20/src/main/java/work/basil/example/parsing/airlines.csv&quot; );\n        try\n                (\n                        Scanner scanner = new Scanner ( path , StandardCharsets.UTF_8 ) ;\n                )\n        {\n            scanner.useDelimiter ( &quot;\\n&quot; );\n            record Airline( String name , Year founded ) { }\n            List &lt; Airline &gt; airlines = new ArrayList &lt;&gt; ( 3 );\n            scanner.forEachRemaining ( ( String line ) -&gt;\n            {\n                String[] parts = line.split ( &quot;,&quot; );\n                Airline airline = new Airline ( parts[ 0 ] , Year.parse ( parts[ 1 ] ) );\n                airlines.add ( airline );\n            } );\n            System.out.println ( &quot;airlines = &quot; + airlines );\n        }\n        catch ( IOException e ) { throw new RuntimeException ( e ); }\n    }\n}\n</code></pre>\n<p>When run.</p>\n<blockquote>\n<p>airlines = [Airline[name=Air Canada, founded=1937], Airline[name=Air France, founded=1933], Airline[name=Air New Zealand, founded=1940]]</p>\n</blockquote>\n<hr />\n<p>The above code is well and good as a learning exercise. But you should know that in real work we would use one of the multiple fine CSV parsing libraries available in the Java ecosystem. For example, <a href=\"https://commons.apache.org/proper/commons-csv/\" rel=\"nofollow noreferrer\"><em>Apache Commons CSV</em></a>.</p>\n"}],"owner":{"account_id":28119817,"reputation":11,"user_id":21486232,"display_name":"黃祥瑋"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1684909176,"creation_date":1684896101,"question_id":76319782,"body_markdown":"    import java.util.*;\r\n    import java.io.File;\r\n    import java.io.FileNotFoundException;\r\n    \r\n    class Flight {\r\n        public static void main(String[] args) throws Exception {\r\n            Flight x = new Flight();\r\n            x.data();\r\n        }\r\n    \r\n        public void data() throws Exception {\r\n    \r\n            File fn = new File(&quot;ChinaAirLine.csv&quot;);\r\n            Scanner obj = new Scanner(fn);\r\n            while (obj.hasNextLine()) {\r\n                System.out.println(obj.nextLine());\r\n            }\r\n            obj.close();\r\n        }\r\n    }\r\n\r\nI use scanner to read the csv file, but it can&#39;t work, and there is no exception throw out\r\n\r\nI want to know how to fix it, it really confuse me, when i read bds file, it work, but csv didn&#39;t!!!","title":"JAVA read csv file with scanner, didn&#39;t work","body":"<pre><code>import java.util.*;\nimport java.io.File;\nimport java.io.FileNotFoundException;\n\nclass Flight {\n    public static void main(String[] args) throws Exception {\n        Flight x = new Flight();\n        x.data();\n    }\n\n    public void data() throws Exception {\n\n        File fn = new File(&quot;ChinaAirLine.csv&quot;);\n        Scanner obj = new Scanner(fn);\n        while (obj.hasNextLine()) {\n            System.out.println(obj.nextLine());\n        }\n        obj.close();\n    }\n}\n</code></pre>\n<p>I use scanner to read the csv file, but it can't work, and there is no exception throw out</p>\n<p>I want to know how to fix it, it really confuse me, when i read bds file, it work, but csv didn't!!!</p>\n"},{"tags":["java","spring","spring-boot","serialization","redis"],"answers":[{"tags":[],"owner":{"account_id":4273336,"reputation":9,"user_id":3494644,"display_name":"sunil subramanya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684908993,"creation_date":1684908993,"answer_id":76320559,"question_id":74157440,"body_markdown":"Have you create rediscache configuration bean in configuration. if you&#39;re not created, please create it. don&#39;t add @Cachable on controller if you&#39;re using Responseentity. just add on service method. then add this configuration\r\n","title":"Error integrating with Redis: DefaultSerializer requires a Serializable payload but received an object of type [reactor.core.publisher.FluxIterable]","body":"<p>Have you create rediscache configuration bean in configuration. if you're not created, please create it. don't add @Cachable on controller if you're using Responseentity. just add on service method. then add this configuration</p>\n"}],"owner":{"account_id":8912535,"reputation":179,"user_id":6652173,"accept_rate":80,"display_name":"Bryton Beesley"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2900,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1684908993,"creation_date":1666374364,"question_id":74157440,"body_markdown":"My colleague shared a working java seed project with me (I&#39;m a newcomer to java) that is caching the result of a Spring Boot service into a Redis in-memory store.  The service, which returned only one entity result, was based on a class of type ```Mono```; but for my use case I need it to return a list, so I&#39;ve been using a ```Flux``` type instead.\r\n\r\nThe service aspect of the code (including the use of the ```Flux``` type) was working until I attempted to cache the result to Redis running on my localhost.  Now I&#39;m getting the following error and can&#39;t seem to understand how to fix it after a full day of Googling and troubleshooting.\r\n\r\n```\r\nThere was an unexpected error (type=Internal Server Error, status=500).\r\nCannot serialize; nested exception is org.springframework.core.serializer.support.SerializationFailedException: Failed to serialize object using DefaultSerializer; nested exception is java.lang.IllegalArgumentException: DefaultSerializer requires a Serializable payload but received an object of type [reactor.core.publisher.FluxIterable]\r\norg.springframework.data.redis.serializer.SerializationException: Cannot serialize; nested exception is org.springframework.core.serializer.support.SerializationFailedException: Failed to serialize object using DefaultSerializer; nested exception is java.lang.IllegalArgumentException: DefaultSerializer requires a Serializable payload but received an object of type [reactor.core.publisher.FluxIterable]\r\n\tat org.springframework.data.redis.serializer.JdkSerializationRedisSerializer.serialize(JdkSerializationRedisSerializer.java:96)\r\n\tSuppressed: The stacktrace has been enhanced by Reactor, refer to additional information below: \r\nError has been observed at the following site(s):\r\n\t*__checkpoint ⇢ HTTP GET &quot;/v1/walletcharges&quot; [ExceptionHandlingWebHandler]\r\nOriginal Stack Trace:\r\n\t\tat org.springframework.data.redis.serializer.JdkSerializationRedisSerializer.serialize(JdkSerializationRedisSerializer.java:96)\r\n\t\t...\r\nCaused by: org.springframework.core.serializer.support.SerializationFailedException: Failed to serialize object using DefaultSerializer; nested exception is java.lang.IllegalArgumentException: DefaultSerializer requires a Serializable payload but received an object of type [reactor.core.publisher.FluxIterable]\r\n\tat org.springframework.core.serializer.support.SerializingConverter.convert(SerializingConverter.java:64)\r\n\t...\r\nCaused by: java.lang.IllegalArgumentException: DefaultSerializer requires a Serializable payload but received an object of type [reactor.core.publisher.FluxIterable]\r\n\tat org.springframework.core.serializer.DefaultSerializer.serialize(DefaultSerializer.java:43)\r\n\t...\r\n```\r\n\r\nI understand the error well enough to guess (though I&#39;m not certain) that the issue is coming from the two places where I&#39;ve made a ```Flux``` from the iterable ```walletCharges``` ```Flux.fromIterable(walletCharges)```.  But I don&#39;t know what to replace it with because converting it to a ```Flux``` was the only way I found to get rid of compilation errors caused by the mismatch of expected and returned types.\r\n\r\nFollowing is my code.  My apologies for the length!  I&#39;ve omitted the import statements for brevity, but because I don&#39;t know for sure where the issue is coming from, I felt nervous omitting anything else that might be relevant.\r\n\r\nPlease help me if you can!\r\n\r\n**Main Application CitReconServiceApplication.java**\r\n```\r\n@EnableCaching\r\n@SpringBootApplication\r\npublic class CitReconServiceApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(CitReconServiceApplication.class, args);\r\n\t}\r\n\r\n}\r\n```\r\n\r\n**Controller WalletChargesController.java**\r\n```\r\n@Cacheable(value = &quot;allWalletChargesCache&quot;, key = &quot;#root.methodName&quot;)\r\n@CrossOrigin(origins = {&quot;https://localhost:3000&quot;, &quot;http://localhost:3000&quot;} )\r\n@RestController\r\n@RequestMapping(&quot;v1/walletcharges&quot;)\r\npublic class WalletChargesController {\r\n\r\n    private WalletChargesService _walletChargesService;\r\n\r\n    @Autowired\r\n    public WalletChargesController(WalletChargesService _walletChargesService) {\r\n        this._walletChargesService = _walletChargesService;\r\n    }\r\n    \r\n    @GetMapping\r\n    public Flux&lt;WalletCharges&gt; getWalletCharges() {\r\n        return _walletChargesService.getWalletCharges();\r\n    };\r\n    \r\n}\r\n```\r\n\r\n**Entity Model WalletCharges.java**\r\n```\r\n@Data\r\n@Entity\r\npublic class WalletCharges implements Serializable {\r\n\r\n    @Id\r\n    @JsonProperty(TRANSACTION_ID)\r\n    private Integer transactionId;\r\n    \r\n    @JsonProperty(TYPE)\r\n    private String type;\r\n    \r\n    // Other columns removed for brevity\r\n}\r\n```\r\n\r\n**Redis Repository RedisWalletChargesRepository.java**\r\n```\r\n@Repository\r\npublic class RedisWalletChargesRepository implements Serializable {\r\n    \r\n  private final ReactiveRedisOperations&lt;String, String&gt; operations;\r\n\r\n  public RedisWalletChargesRepository(ReactiveRedisOperations&lt;String, String&gt; operations) {\r\n    this.operations = operations;\r\n  }\r\n\r\n  public Flux&lt;WalletCharges&gt; save(String allWalletCharges, List&lt;WalletCharges&gt; walletCharges) {\r\n    try {\r\n      String walletChargesString = ObjectMapperUtils.convertToString(walletCharges);\r\n      return operations.opsForValue()\r\n          .set(allWalletCharges, walletChargesString)\r\n          .flatMapMany(__ -&gt; Flux.fromIterable(walletCharges));\r\n    } catch (JsonProcessingException e) {\r\n      e.printStackTrace();\r\n      return null;\r\n    }\r\n  }\r\n\r\n  public Flux&lt;WalletCharges&gt; findByKey(String key) {\r\n    return operations.opsForValue()\r\n        .get(key)\r\n        .flatMapMany(result -&gt;  {\r\n          try {\r\n            List&lt;WalletCharges&gt; walletCharges = ObjectMapperUtils.convertToObject(result);\r\n            return Flux.fromIterable(walletCharges);\r\n          } catch (JsonProcessingException e) {\r\n            e.printStackTrace();\r\n            return null;\r\n          }\r\n        });\r\n  }\r\n}\r\n```\r\n\r\n**Data Access Object WalletChargesRepository.java**\r\n```\r\n@Repository\r\npublic interface WalletChargesRepository extends JpaRepository&lt;WalletCharges, Serializable&gt; {\r\n\r\n    @Query(value = GET_WALLET_CHARGES_SQL_LONGFORM, nativeQuery = true)\r\n    List&lt;WalletCharges&gt; findAll();\r\n}\r\n```\r\n\r\n**Service Implementation WalletChargesServiceImpl.javaa**\r\n```\r\n@Service\r\npublic class WalletChargesServiceImpl implements WalletChargesService {\r\n\r\n    private WalletChargesRepository _repository;\r\n    private RedisWalletChargesRepository _redisWalletChargesRepository;\r\n\r\n    @Autowired\r\n    public WalletChargesServiceImpl(WalletChargesRepository _repository, RedisWalletChargesRepository _redisWalletChargesRepository) {\r\n        this._repository = _repository;\r\n        this._redisWalletChargesRepository = _redisWalletChargesRepository;\r\n    }\r\n\r\n    @Override\r\n    public Flux&lt;WalletCharges&gt; getWalletCharges() {\r\n        return _redisWalletChargesRepository\r\n        .findByKey(&quot;allWalletCharges&quot;)\r\n        .switchIfEmpty(Flux.defer(() -&gt; getWalletChargesFromDBAndCache()));\r\n        \r\n    }\r\n\r\n    @Override\r\n    public Flux&lt;WalletCharges&gt; getWalletChargesFromDBAndCache(){\r\n        System.out.println(&quot;The getWalletChargesFromDBAndCache method was invoked&quot;);\r\n        List&lt;WalletCharges&gt; walletCharges = _repository.findAll();\r\n        _redisWalletChargesRepository.save(&quot;allWalletCharges&quot;, walletCharges);\r\n        return Flux.fromIterable(walletCharges);\r\n\r\n    }\r\n}\r\n```\r\n\r\n**Object Mapper/Serializer ObjectMapperUtils.java**\r\n```\r\n@UtilityClass\r\npublic class ObjectMapperUtils {\r\n\r\n    private final ObjectMapper mapper = createObjectMapper();\r\n\r\n    private ObjectMapper createObjectMapper() {\r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n        objectMapper.setSerializationInclusion(JsonInclude.Include.NON_EMPTY);\r\n        return objectMapper;\r\n    }\r\n\r\n    public &lt;T&gt; T convertValue(Object obj, Class&lt;T&gt; contentClass){\r\n        return mapper.convertValue(obj, contentClass);\r\n    }\r\n\r\n    public String convertToString(Object obj) throws JsonProcessingException {\r\n        return mapper.writeValueAsString(obj);\r\n    }\r\n\r\n    public List&lt;WalletCharges&gt; convertToObject(String str) throws JsonProcessingException {\r\n        return mapper.readValue(str, mapper.getTypeFactory().constructCollectionType(List.class, WalletCharges.class));\r\n    }\r\n\r\n}\r\n```","title":"Error integrating with Redis: DefaultSerializer requires a Serializable payload but received an object of type [reactor.core.publisher.FluxIterable]","body":"<p>My colleague shared a working java seed project with me (I'm a newcomer to java) that is caching the result of a Spring Boot service into a Redis in-memory store.  The service, which returned only one entity result, was based on a class of type <code>Mono</code>; but for my use case I need it to return a list, so I've been using a <code>Flux</code> type instead.</p>\n<p>The service aspect of the code (including the use of the <code>Flux</code> type) was working until I attempted to cache the result to Redis running on my localhost.  Now I'm getting the following error and can't seem to understand how to fix it after a full day of Googling and troubleshooting.</p>\n<pre><code>There was an unexpected error (type=Internal Server Error, status=500).\nCannot serialize; nested exception is org.springframework.core.serializer.support.SerializationFailedException: Failed to serialize object using DefaultSerializer; nested exception is java.lang.IllegalArgumentException: DefaultSerializer requires a Serializable payload but received an object of type [reactor.core.publisher.FluxIterable]\norg.springframework.data.redis.serializer.SerializationException: Cannot serialize; nested exception is org.springframework.core.serializer.support.SerializationFailedException: Failed to serialize object using DefaultSerializer; nested exception is java.lang.IllegalArgumentException: DefaultSerializer requires a Serializable payload but received an object of type [reactor.core.publisher.FluxIterable]\n    at org.springframework.data.redis.serializer.JdkSerializationRedisSerializer.serialize(JdkSerializationRedisSerializer.java:96)\n    Suppressed: The stacktrace has been enhanced by Reactor, refer to additional information below: \nError has been observed at the following site(s):\n    *__checkpoint ⇢ HTTP GET &quot;/v1/walletcharges&quot; [ExceptionHandlingWebHandler]\nOriginal Stack Trace:\n        at org.springframework.data.redis.serializer.JdkSerializationRedisSerializer.serialize(JdkSerializationRedisSerializer.java:96)\n        ...\nCaused by: org.springframework.core.serializer.support.SerializationFailedException: Failed to serialize object using DefaultSerializer; nested exception is java.lang.IllegalArgumentException: DefaultSerializer requires a Serializable payload but received an object of type [reactor.core.publisher.FluxIterable]\n    at org.springframework.core.serializer.support.SerializingConverter.convert(SerializingConverter.java:64)\n    ...\nCaused by: java.lang.IllegalArgumentException: DefaultSerializer requires a Serializable payload but received an object of type [reactor.core.publisher.FluxIterable]\n    at org.springframework.core.serializer.DefaultSerializer.serialize(DefaultSerializer.java:43)\n    ...\n</code></pre>\n<p>I understand the error well enough to guess (though I'm not certain) that the issue is coming from the two places where I've made a <code>Flux</code> from the iterable <code>walletCharges</code> <code>Flux.fromIterable(walletCharges)</code>.  But I don't know what to replace it with because converting it to a <code>Flux</code> was the only way I found to get rid of compilation errors caused by the mismatch of expected and returned types.</p>\n<p>Following is my code.  My apologies for the length!  I've omitted the import statements for brevity, but because I don't know for sure where the issue is coming from, I felt nervous omitting anything else that might be relevant.</p>\n<p>Please help me if you can!</p>\n<p><strong>Main Application CitReconServiceApplication.java</strong></p>\n<pre><code>@EnableCaching\n@SpringBootApplication\npublic class CitReconServiceApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(CitReconServiceApplication.class, args);\n    }\n\n}\n</code></pre>\n<p><strong>Controller WalletChargesController.java</strong></p>\n<pre><code>@Cacheable(value = &quot;allWalletChargesCache&quot;, key = &quot;#root.methodName&quot;)\n@CrossOrigin(origins = {&quot;https://localhost:3000&quot;, &quot;http://localhost:3000&quot;} )\n@RestController\n@RequestMapping(&quot;v1/walletcharges&quot;)\npublic class WalletChargesController {\n\n    private WalletChargesService _walletChargesService;\n\n    @Autowired\n    public WalletChargesController(WalletChargesService _walletChargesService) {\n        this._walletChargesService = _walletChargesService;\n    }\n    \n    @GetMapping\n    public Flux&lt;WalletCharges&gt; getWalletCharges() {\n        return _walletChargesService.getWalletCharges();\n    };\n    \n}\n</code></pre>\n<p><strong>Entity Model WalletCharges.java</strong></p>\n<pre><code>@Data\n@Entity\npublic class WalletCharges implements Serializable {\n\n    @Id\n    @JsonProperty(TRANSACTION_ID)\n    private Integer transactionId;\n    \n    @JsonProperty(TYPE)\n    private String type;\n    \n    // Other columns removed for brevity\n}\n</code></pre>\n<p><strong>Redis Repository RedisWalletChargesRepository.java</strong></p>\n<pre><code>@Repository\npublic class RedisWalletChargesRepository implements Serializable {\n    \n  private final ReactiveRedisOperations&lt;String, String&gt; operations;\n\n  public RedisWalletChargesRepository(ReactiveRedisOperations&lt;String, String&gt; operations) {\n    this.operations = operations;\n  }\n\n  public Flux&lt;WalletCharges&gt; save(String allWalletCharges, List&lt;WalletCharges&gt; walletCharges) {\n    try {\n      String walletChargesString = ObjectMapperUtils.convertToString(walletCharges);\n      return operations.opsForValue()\n          .set(allWalletCharges, walletChargesString)\n          .flatMapMany(__ -&gt; Flux.fromIterable(walletCharges));\n    } catch (JsonProcessingException e) {\n      e.printStackTrace();\n      return null;\n    }\n  }\n\n  public Flux&lt;WalletCharges&gt; findByKey(String key) {\n    return operations.opsForValue()\n        .get(key)\n        .flatMapMany(result -&gt;  {\n          try {\n            List&lt;WalletCharges&gt; walletCharges = ObjectMapperUtils.convertToObject(result);\n            return Flux.fromIterable(walletCharges);\n          } catch (JsonProcessingException e) {\n            e.printStackTrace();\n            return null;\n          }\n        });\n  }\n}\n</code></pre>\n<p><strong>Data Access Object WalletChargesRepository.java</strong></p>\n<pre><code>@Repository\npublic interface WalletChargesRepository extends JpaRepository&lt;WalletCharges, Serializable&gt; {\n\n    @Query(value = GET_WALLET_CHARGES_SQL_LONGFORM, nativeQuery = true)\n    List&lt;WalletCharges&gt; findAll();\n}\n</code></pre>\n<p><strong>Service Implementation WalletChargesServiceImpl.javaa</strong></p>\n<pre><code>@Service\npublic class WalletChargesServiceImpl implements WalletChargesService {\n\n    private WalletChargesRepository _repository;\n    private RedisWalletChargesRepository _redisWalletChargesRepository;\n\n    @Autowired\n    public WalletChargesServiceImpl(WalletChargesRepository _repository, RedisWalletChargesRepository _redisWalletChargesRepository) {\n        this._repository = _repository;\n        this._redisWalletChargesRepository = _redisWalletChargesRepository;\n    }\n\n    @Override\n    public Flux&lt;WalletCharges&gt; getWalletCharges() {\n        return _redisWalletChargesRepository\n        .findByKey(&quot;allWalletCharges&quot;)\n        .switchIfEmpty(Flux.defer(() -&gt; getWalletChargesFromDBAndCache()));\n        \n    }\n\n    @Override\n    public Flux&lt;WalletCharges&gt; getWalletChargesFromDBAndCache(){\n        System.out.println(&quot;The getWalletChargesFromDBAndCache method was invoked&quot;);\n        List&lt;WalletCharges&gt; walletCharges = _repository.findAll();\n        _redisWalletChargesRepository.save(&quot;allWalletCharges&quot;, walletCharges);\n        return Flux.fromIterable(walletCharges);\n\n    }\n}\n</code></pre>\n<p><strong>Object Mapper/Serializer ObjectMapperUtils.java</strong></p>\n<pre><code>@UtilityClass\npublic class ObjectMapperUtils {\n\n    private final ObjectMapper mapper = createObjectMapper();\n\n    private ObjectMapper createObjectMapper() {\n        ObjectMapper objectMapper = new ObjectMapper();\n        objectMapper.setSerializationInclusion(JsonInclude.Include.NON_EMPTY);\n        return objectMapper;\n    }\n\n    public &lt;T&gt; T convertValue(Object obj, Class&lt;T&gt; contentClass){\n        return mapper.convertValue(obj, contentClass);\n    }\n\n    public String convertToString(Object obj) throws JsonProcessingException {\n        return mapper.writeValueAsString(obj);\n    }\n\n    public List&lt;WalletCharges&gt; convertToObject(String str) throws JsonProcessingException {\n        return mapper.readValue(str, mapper.getTypeFactory().constructCollectionType(List.class, WalletCharges.class));\n    }\n\n}\n</code></pre>\n"},{"tags":["java","events","keycloak"],"answers":[{"tags":[],"owner":{"account_id":9427779,"reputation":336,"user_id":7012221,"display_name":"Abhishek"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684857401,"creation_date":1684857401,"answer_id":76316639,"question_id":76314452,"body_markdown":"You can use Events located in Keycloak.\r\n\r\nAfter successfully logging into your selected realm (by default Master Realm), you will be able to locate the Events in the Left Hand Side Menu bar.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nAfter navigating to the Events Menu, you can see Login Events, Admin Events  and Config tabs.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nBy default “Save Events” is set to OFF.\r\n\r\n**Login Events Settings**\r\n\r\nAfter enabling “Save Events”, you will see lots of event categories from which you can select.\r\n\r\nselect the events which you looking for and after doing the above steps, click on “Save” to persist our settings in Keycloak. Next, logout of the Admin Console and then try login again. Go to Events Menu on the Left Hand Side and you will be landed on Login Events\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ia5EU.png\r\n  [2]: https://i.stack.imgur.com/oPtb3.png","title":"Login info from keycloak event","body":"<p>You can use Events located in Keycloak.</p>\n<p>After successfully logging into your selected realm (by default Master Realm), you will be able to locate the Events in the Left Hand Side Menu bar.</p>\n<p><a href=\"https://i.stack.imgur.com/ia5EU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ia5EU.png\" alt=\"enter image description here\" /></a></p>\n<p>After navigating to the Events Menu, you can see Login Events, Admin Events  and Config tabs.</p>\n<p><a href=\"https://i.stack.imgur.com/oPtb3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oPtb3.png\" alt=\"enter image description here\" /></a></p>\n<p>By default “Save Events” is set to OFF.</p>\n<p><strong>Login Events Settings</strong></p>\n<p>After enabling “Save Events”, you will see lots of event categories from which you can select.</p>\n<p>select the events which you looking for and after doing the above steps, click on “Save” to persist our settings in Keycloak. Next, logout of the Admin Console and then try login again. Go to Events Menu on the Left Hand Side and you will be landed on Login Events</p>\n"}],"owner":{"account_id":27089847,"reputation":17,"user_id":20637812,"display_name":"pawello12"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":253,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1684908416,"creation_date":1684842803,"question_id":76314452,"body_markdown":"Is it possible to receive an *event* from `keycloak` regarding the login/logout of a user in java code? if so, how can I do this? which classes or interfaces are responsible for this?","title":"Login info from keycloak event","body":"<p>Is it possible to receive an <em>event</em> from <code>keycloak</code> regarding the login/logout of a user in java code? if so, how can I do this? which classes or interfaces are responsible for this?</p>\n"},{"tags":["java","file-manager"],"comments":[{"owner":{"account_id":6063640,"reputation":8874,"user_id":4734725,"accept_rate":50,"display_name":"reos"},"score":0,"creation_date":1447161238,"post_id":33630577,"comment_id":55034908,"body_markdown":"What is the problem ? you can change the name ? is there something in your log ?","body":"What is the problem ? you can change the name ? is there something in your log ?"},{"owner":{"account_id":552891,"reputation":3634,"user_id":878519,"accept_rate":90,"display_name":"Reinard"},"score":0,"creation_date":1447161483,"post_id":33630577,"comment_id":55035065,"body_markdown":"Have you tried http://stackoverflow.com/questions/1000183/reliable-file-renameto-alternative-on-windows ?","body":"Have you tried <a href=\"http://stackoverflow.com/questions/1000183/reliable-file-renameto-alternative-on-windows\" title=\"reliable file renameto alternative on windows\">stackoverflow.com/questions/1000183/&hellip;</a> ?"},{"owner":{"account_id":4767709,"reputation":1245,"user_id":3853405,"accept_rate":25,"display_name":"Jaspreet Jolly"},"score":0,"creation_date":1447162563,"post_id":33630577,"comment_id":55035725,"body_markdown":"Yes i have tried it but does not found working for me","body":"Yes i have tried it but does not found working for me"},{"owner":{"account_id":4767709,"reputation":1245,"user_id":3853405,"accept_rate":25,"display_name":"Jaspreet Jolly"},"score":0,"creation_date":1447162612,"post_id":33630577,"comment_id":55035754,"body_markdown":"reos sir the name is not changing","body":"reos sir the name is not changing"}],"answers":[{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1447171239,"creation_date":1447171239,"answer_id":33634244,"question_id":33630577,"body_markdown":"The problem is this line:\r\n\r\n    file.renameTo(file2);\r\n\r\nYou aren&#39;t looking at the return value, so if it fails, your code just acts like it succeeded.\r\n\r\njava.io.File is obsolete.  It is a holdover from Java 1.0, which had a handful of less than ideal design decisions.  Among these was the decision to have many methods of the File class return a value, like C libraries do, instead of throwing an exception on failure.\r\n\r\nChange that line of code to this:\r\n\r\n    Files.move(file.toPath(), file2.toPath());\r\n\r\nThe compiler will tell you that you have to catch IOException.  That&#39;s a *good thing.*  Do not write an empty `catch` block—that exception will tell you exactly why your attempt to rename the file is failing.  At the very least, a catch block should call `printStackTrace()` on the caught exception.\r\n","title":"How to Rename files and folder in java file manager application?","body":"<p>The problem is this line:</p>\n\n<pre><code>file.renameTo(file2);\n</code></pre>\n\n<p>You aren't looking at the return value, so if it fails, your code just acts like it succeeded.</p>\n\n<p>java.io.File is obsolete.  It is a holdover from Java 1.0, which had a handful of less than ideal design decisions.  Among these was the decision to have many methods of the File class return a value, like C libraries do, instead of throwing an exception on failure.</p>\n\n<p>Change that line of code to this:</p>\n\n<pre><code>Files.move(file.toPath(), file2.toPath());\n</code></pre>\n\n<p>The compiler will tell you that you have to catch IOException.  That's a <em>good thing.</em>  Do not write an empty <code>catch</code> block—that exception will tell you exactly why your attempt to rename the file is failing.  At the very least, a catch block should call <code>printStackTrace()</code> on the caught exception.</p>\n"},{"tags":[],"owner":{"account_id":21954229,"reputation":31,"user_id":16233040,"display_name":"Nithin karthick"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684906693,"creation_date":1684906693,"answer_id":76320360,"question_id":33630577,"body_markdown":"\r\n\t\t\t\tString oldPath= finalPDFPath;  // old path\r\n\r\n\t\t\t\tFile oldFile= new File(oldPath);\r\n\r\n\t\t\t\tString newPath= newPDFPath;  // new path\r\n\t\t\t\t\r\n\t\t\t\tFile changeToNewPath = new File(newPath);\r\n\t\t\t\t\r\n\t\t\t\tif(!oldFile.exists()) {\r\n\t\t\t\t\tSystem.out.println(&quot;no folder&quot;);\r\n\t\t\t\t}else {\r\n\t\t\t\t\t\r\n\t\t\t\t\tpassportFolder.renameTo(changeToNewPath ); // rename old to new path\r\n\t\t\t\t\t\r\n\t\t\t\t\tSystem.out.println(&quot;name changed&quot;);\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\r\n\r\nThis code working fine for me.","title":"How to Rename files and folder in java file manager application?","body":"<pre><code>            String oldPath= finalPDFPath;  // old path\n\n            File oldFile= new File(oldPath);\n\n            String newPath= newPDFPath;  // new path\n            \n            File changeToNewPath = new File(newPath);\n            \n            if(!oldFile.exists()) {\n                System.out.println(&quot;no folder&quot;);\n            }else {\n                \n                passportFolder.renameTo(changeToNewPath ); // rename old to new path\n                \n                System.out.println(&quot;name changed&quot;);\n                \n            }\n</code></pre>\n<p>This code working fine for me.</p>\n"}],"owner":{"account_id":4767709,"reputation":1245,"user_id":3853405,"accept_rate":25,"display_name":"Jaspreet Jolly"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2797,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1684906693,"creation_date":1447160284,"question_id":33630577,"body_markdown":"I am creating a file manager in java.I have a problem when I am trying to rename the files and folders.I am taking the new filename from user input then I am trying to rename the file.\r\n\r\n    popupMenu.rename.addActionListener(new ActionListener()\r\n    {\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n    \t\t\t\tlist.getSelectedValue().toString();\r\n    \t\t\t\tJFrame frame = new JFrame(&quot;Rename&quot;);\r\n    \t\t\t\tfinal JTextField textField=new JTextField();\r\n    \t\t\t\t String s = null;\r\n    \t\t\t\t File file2 = new File(&quot;newname&quot;);\r\n    \t\t\t\ttextField.addActionListener(new ActionListener(){\r\n    \t\t\t\t\t   public void actionPerformed(ActionEvent ae){\r\n    \t\t\t\t\t   s = textField.getText();\r\n    \t\t\t\t\t   }\r\n    \t\t\t\t\t});\r\n    \t\t\t\tObject o = list.getModel().getElementAt(list.getSelectedIndex());\r\n    \t\t\t\tFile file = new File(o.toString());\r\n    \t\t\t\t//FileUtils.moveFile(file, newFile);\r\n    \t\t\t\t  file.renameTo(file2);\r\n    \t\t\t\t  //Files.move(file.toPath(),file.toPath().resolveSibling(textField.getText()));\r\n    \t\t\t\r\n    \t\t\t\tframe.add(textField);\r\n    \t\t\t\tframe.setLocationRelativeTo(frame);\r\n    \t\t\t\tframe.setSize(200,60);\r\n    \t\t        frame.setVisible(true);\r\n    \t\t\t}\r\n    \t\t});\r\n\r\nPlease suggest anything mistakes I made. \r\n\r\nAlso, is there a way I could rename the file similiar to windows by clicking on text.I am displaying the files and folders name by setText(fileName);.Here is my project screenshot\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/1G0J3.png","title":"How to Rename files and folder in java file manager application?","body":"<p>I am creating a file manager in java.I have a problem when I am trying to rename the files and folders.I am taking the new filename from user input then I am trying to rename the file.</p>\n\n<pre><code>popupMenu.rename.addActionListener(new ActionListener()\n{           public void actionPerformed(ActionEvent e) {\n                list.getSelectedValue().toString();\n                JFrame frame = new JFrame(\"Rename\");\n                final JTextField textField=new JTextField();\n                 String s = null;\n                 File file2 = new File(\"newname\");\n                textField.addActionListener(new ActionListener(){\n                       public void actionPerformed(ActionEvent ae){\n                       s = textField.getText();\n                       }\n                    });\n                Object o = list.getModel().getElementAt(list.getSelectedIndex());\n                File file = new File(o.toString());\n                //FileUtils.moveFile(file, newFile);\n                  file.renameTo(file2);\n                  //Files.move(file.toPath(),file.toPath().resolveSibling(textField.getText()));\n\n                frame.add(textField);\n                frame.setLocationRelativeTo(frame);\n                frame.setSize(200,60);\n                frame.setVisible(true);\n            }\n        });\n</code></pre>\n\n<p>Please suggest anything mistakes I made. </p>\n\n<p>Also, is there a way I could rename the file similiar to windows by clicking on text.I am displaying the files and folders name by setText(fileName);.Here is my project screenshot</p>\n\n<p><a href=\"https://i.stack.imgur.com/1G0J3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1G0J3.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","macos"],"comments":[{"owner":{"account_id":1076842,"reputation":5068,"user_id":1074799,"accept_rate":76,"display_name":"S.M.Mousavi"},"score":2,"creation_date":1458576026,"post_id":6141180,"comment_id":59910206,"body_markdown":"run `which java` to recognising which version you are currently used. then run `/usr/libexec/java_home -version &lt;what version you like such as 1.8&gt;`. It will print out related java home folder.","body":"run <code>which java</code> to recognising which version you are currently used. then run <code>&#47;usr&#47;libexec&#47;java_home -version &lt;what version you like such as 1.8&gt;</code>. It will print out related java home folder."}],"answers":[{"comments":[{"owner":{"account_id":350414,"reputation":868,"user_id":686263,"display_name":"reddyvaribabu"},"score":0,"creation_date":1306425097,"post_id":6141277,"comment_id":7129936,"body_markdown":"I see what you are saying. I looked at Java Preferences and it looks like I have just one version Java SE 6. So if I had multiple versions, if I just enable one of them, my CurrentJDK gets pointed to the selected version? I actually needed to use both java 5 and 1.6. Since I already have 6, is it still possible to install version 5 also without screwing the existing 6 version?","body":"I see what you are saying. I looked at Java Preferences and it looks like I have just one version Java SE 6. So if I had multiple versions, if I just enable one of them, my CurrentJDK gets pointed to the selected version? I actually needed to use both java 5 and 1.6. Since I already have 6, is it still possible to install version 5 also without screwing the existing 6 version?"},{"owner":{"account_id":376123,"reputation":5564,"user_id":727371,"display_name":"Karl-Bj&#248;rnar &#216;ie"},"score":0,"creation_date":1306425350,"post_id":6141277,"comment_id":7130006,"body_markdown":"Yes you can have both 1.5 and 1.6. And for programs launched from the command line you can still set JAVA_HOME to point to the desired jdk. The jdk set by &#39;Java Preferences&#39; is the jdk used by the system, and when programs is opened by clicking icons.","body":"Yes you can have both 1.5 and 1.6. And for programs launched from the command line you can still set JAVA_HOME to point to the desired jdk. The jdk set by &#39;Java Preferences&#39; is the jdk used by the system, and when programs is opened by clicking icons."},{"owner":{"account_id":350414,"reputation":868,"user_id":686263,"display_name":"reddyvaribabu"},"score":0,"creation_date":1306425435,"post_id":6141277,"comment_id":7130028,"body_markdown":"Right now I see my JAVA_HOME is empty. Does it mean setting JAVA_HOME is not mandatory and just enabling in java preferences utility is enough to point required version to CurrentJDK?","body":"Right now I see my JAVA_HOME is empty. Does it mean setting JAVA_HOME is not mandatory and just enabling in java preferences utility is enough to point required version to CurrentJDK?"},{"owner":{"account_id":376123,"reputation":5564,"user_id":727371,"display_name":"Karl-Bj&#248;rnar &#216;ie"},"score":0,"creation_date":1306425528,"post_id":6141277,"comment_id":7130061,"body_markdown":"yes, JAVA_HOME is not mandatory, but if you  install jdk-1.5 you still want to have jdk-1.6 being used by the system, so then setting JAVA_HOME would enable you to use any jdk, while the system uses the official jdk-1.6","body":"yes, JAVA_HOME is not mandatory, but if you  install jdk-1.5 you still want to have jdk-1.6 being used by the system, so then setting JAVA_HOME would enable you to use any jdk, while the system uses the official jdk-1.6"},{"owner":{"account_id":350414,"reputation":868,"user_id":686263,"display_name":"reddyvaribabu"},"score":0,"creation_date":1306425692,"post_id":6141277,"comment_id":7130125,"body_markdown":"One final question, so if I set the JAVA_HOME to required version, does it take care of CurrentJDK link as well? Or should I set the link along with JAVA_HOME?","body":"One final question, so if I set the JAVA_HOME to required version, does it take care of CurrentJDK link as well? Or should I set the link along with JAVA_HOME?"},{"owner":{"account_id":376123,"reputation":5564,"user_id":727371,"display_name":"Karl-Bj&#248;rnar &#216;ie"},"score":0,"creation_date":1306436336,"post_id":6141277,"comment_id":7133141,"body_markdown":"No, the &#39;Java Preferences&#39; program takes care of the CurrentJDK link","body":"No, the &#39;Java Preferences&#39; program takes care of the CurrentJDK link"},{"owner":{"account_id":376149,"reputation":1274,"user_id":727411,"display_name":"Matt Ray"},"score":4,"creation_date":1358429403,"post_id":6141277,"comment_id":20000292,"body_markdown":"Quick update: The Java settings/preference application is now located in System Preferences -&gt; Other - Java and not in  /Application/Utilities","body":"Quick update: The Java settings/preference application is now located in System Preferences -&gt; Other - Java and not in  /Application/Utilities"},{"owner":{"account_id":176790,"reputation":2069,"user_id":407700,"accept_rate":58,"display_name":"Oscar"},"score":0,"creation_date":1548646251,"post_id":6141277,"comment_id":95601800,"body_markdown":"Not anymore. There&#39;s nothing in System Preferences in Mojave. Under Mojave, I found the JDK here: /Library/Java/JavaVirtualMachines/jdk-11.0.2.jdk","body":"Not anymore. There&#39;s nothing in System Preferences in Mojave. Under Mojave, I found the JDK here: /Library/Java/JavaVirtualMachines/jdk-11.0.2.jdk"}],"tags":[],"owner":{"account_id":376123,"reputation":5564,"user_id":727371,"display_name":"Karl-Bj&#248;rnar &#216;ie"},"comment_count":8,"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1491859569,"creation_date":1306424564,"answer_id":6141277,"question_id":6141180,"body_markdown":"Most possibly you only have one jdk installed, thus all the soft links points to the same jdk. If you however did have multiple jdks installed you would need to choose which one to use with the &#39;Java Preferences&#39; app in your /Application/Utilities.\r\n\r\nSoft links are by the way created with the `ln -s` command from Terminal.","title":"Mac OS X 10.6.7 Java Path Current JDK confusing","body":"<p>Most possibly you only have one jdk installed, thus all the soft links points to the same jdk. If you however did have multiple jdks installed you would need to choose which one to use with the 'Java Preferences' app in your /Application/Utilities.</p>\n\n<p>Soft links are by the way created with the <code>ln -s</code> command from Terminal.</p>\n"},{"tags":[],"owner":{"account_id":207717,"reputation":1,"user_id":3802981,"display_name":"Ch&#226;u Hồng Lĩnh"},"comment_count":0,"down_vote_count":0,"up_vote_count":67,"is_accepted":false,"score":67,"last_activity_date":1405954459,"creation_date":1405551613,"answer_id":24792251,"question_id":6141180,"body_markdown":"For different types of JDKs or installations, you will have different paths.\r\n\r\nOn Mac OS X Mavericks, the path I found as following:\r\n\r\n1) Built-in JRE default:\r\n\r\n     /Library/Internet\\ Plug-Ins/JavaAppletPlugin.plugin/Contents/Home\r\n\r\n2) JDKs downloaded from Apple:\r\n\r\n     /System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Home/\r\n\r\n3) JDKs downloaded from Oracle:\r\n\r\n    /Library/Java/JavaVirtualMachines/jdk1.8.0_11.jdk/Contents/Home","title":"Mac OS X 10.6.7 Java Path Current JDK confusing","body":"<p>For different types of JDKs or installations, you will have different paths.</p>\n\n<p>On Mac OS X Mavericks, the path I found as following:</p>\n\n<p>1) Built-in JRE default:</p>\n\n<pre><code> /Library/Internet\\ Plug-Ins/JavaAppletPlugin.plugin/Contents/Home\n</code></pre>\n\n<p>2) JDKs downloaded from Apple:</p>\n\n<pre><code> /System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Home/\n</code></pre>\n\n<p>3) JDKs downloaded from Oracle:</p>\n\n<pre><code>/Library/Java/JavaVirtualMachines/jdk1.8.0_11.jdk/Contents/Home\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2511374,"reputation":401,"user_id":2183788,"accept_rate":62,"display_name":"raja777m"},"score":0,"creation_date":1448337004,"post_id":31273320,"comment_id":55534353,"body_markdown":"Rajas-MacBook-Pro:/$ $ brew update\n-bash: $: command not found\nRajas-MacBook-Pro:/$ $ brew install jenv\n-bash: $: command not found\nRajas-MacBook-Pro:/$ $ echo &#39;export PATH=&quot;$HOME/.jenv/bin:$PATH&quot;&#39; &gt;&gt; ~/.bash_profile\n-bash: $: command not found\nRajas-MacBook-Pro:/$ $ echo &#39;eval &quot;$(jenv init -)&quot;&#39; &gt;&gt; ~/.bash_profile\n-bash: $: command not found\nRajas-MacBook-Pro:/$ $jenv add /Library/Java/JavaVirtualMachines/jdk1.7.0_79.jdk/Contents/Home\n-bash: add: command not found","body":"Rajas-MacBook-Pro:/$ $ brew update -bash: $: command not found Rajas-MacBook-Pro:/$ $ brew install jenv -bash: $: command not found Rajas-MacBook-Pro:/$ $ echo &#39;export PATH=&quot;$HOME/.jenv/bin:$PATH&quot;&#39; &gt;&gt; ~/.bash_profile -bash: $: command not found Rajas-MacBook-Pro:/$ $ echo &#39;eval &quot;$(jenv init -)&quot;&#39; &gt;&gt; ~/.bash_profile -bash: $: command not found Rajas-MacBook-Pro:/$ $jenv add /Library/Java/JavaVirtualMachines/jdk1.7.0_79.jdk/Contents/H&zwnj;&#8203;ome -bash: add: command not found"},{"owner":{"account_id":301337,"reputation":12985,"user_id":608991,"accept_rate":84,"display_name":"Tommie C."},"score":0,"creation_date":1458998237,"post_id":31273320,"comment_id":60101973,"body_markdown":"@raja777m ~ No need to include the leading &#39;$&#39; in your command execution on the terminal. Leave that out and all should work.","body":"@raja777m ~ No need to include the leading &#39;$&#39; in your command execution on the terminal. Leave that out and all should work."}],"tags":[],"owner":{"account_id":5709390,"reputation":71,"user_id":4511928,"display_name":"Wanlu Wang"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1436283799,"creation_date":1436283799,"answer_id":31273320,"question_id":6141180,"body_markdown":"Just run following commands:\r\n\r\n    $ brew update\r\n    $ brew install jenv\r\n    $ echo &#39;export PATH=&quot;$HOME/.jenv/bin:$PATH&quot;&#39; &gt;&gt; ~/.bash_profile\r\n    $ echo &#39;eval &quot;$(jenv init -)&quot;&#39; &gt;&gt; ~/.bash_profile\r\n    $ source ~/.bash_profile\r\n\r\n    $ jenv add /Library/Java/JavaVirtualMachines/jdk1.8.0_45.jdk/Contents/Home/\r\n      oracle64-1.8.0.45 added\r\n      1.8.0.45 added\r\n      1.8 added\r\n\r\n    $ jenv add /Library/Java/JavaVirtualMachines/jdk1.7.0_79.jdk/Contents/Home\r\n      oracle64-1.7.0.79 added\r\n      1.7.0.79 added\r\n      1.7 added\r\n\r\n    $ jenv versions\r\n    * system (set by /Users/wanluwang/.jenv/version)\r\n      1.7\r\n      1.7.0.79\r\n      1.8\r\n      1.8.0.45\r\n      oracle64-1.7.0.79\r\n      oracle64-1.8.0.45\r\n\r\n    $ java -version\r\n      java version &quot;1.8.0_45&quot;\r\n      Java(TM) SE Runtime Environment (build 1.8.0_45-b14)\r\n      Java HotSpot(TM) 64-Bit Server VM (build 25.45-b02, mixed mode)\r\n\r\n    $ jenv global oracle64-1.7.0.79\r\n\r\n    $ java -version\r\n      java version &quot;1.7.0_79&quot;\r\n      Java(TM) SE Runtime Environment (build 1.7.0_79-b15)\r\n      Java HotSpot(TM) 64-Bit Server VM (build 24.79-b02, mixed mode)","title":"Mac OS X 10.6.7 Java Path Current JDK confusing","body":"<p>Just run following commands:</p>\n\n<pre><code>$ brew update\n$ brew install jenv\n$ echo 'export PATH=\"$HOME/.jenv/bin:$PATH\"' &gt;&gt; ~/.bash_profile\n$ echo 'eval \"$(jenv init -)\"' &gt;&gt; ~/.bash_profile\n$ source ~/.bash_profile\n\n$ jenv add /Library/Java/JavaVirtualMachines/jdk1.8.0_45.jdk/Contents/Home/\n  oracle64-1.8.0.45 added\n  1.8.0.45 added\n  1.8 added\n\n$ jenv add /Library/Java/JavaVirtualMachines/jdk1.7.0_79.jdk/Contents/Home\n  oracle64-1.7.0.79 added\n  1.7.0.79 added\n  1.7 added\n\n$ jenv versions\n* system (set by /Users/wanluwang/.jenv/version)\n  1.7\n  1.7.0.79\n  1.8\n  1.8.0.45\n  oracle64-1.7.0.79\n  oracle64-1.8.0.45\n\n$ java -version\n  java version \"1.8.0_45\"\n  Java(TM) SE Runtime Environment (build 1.8.0_45-b14)\n  Java HotSpot(TM) 64-Bit Server VM (build 25.45-b02, mixed mode)\n\n$ jenv global oracle64-1.7.0.79\n\n$ java -version\n  java version \"1.7.0_79\"\n  Java(TM) SE Runtime Environment (build 1.7.0_79-b15)\n  Java HotSpot(TM) 64-Bit Server VM (build 24.79-b02, mixed mode)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1975787,"reputation":1779,"user_id":1773599,"display_name":"george"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1458053581,"creation_date":1458053581,"answer_id":36014685,"question_id":6141180,"body_markdown":"From Apple Technical Q&amp;A Java Questions:\r\n\r\n\r\nUser Preferences\r\n\r\nOn Mac OS X, the Java runtime provides the java.util.prefs API which is backed by the standard Mac OS X Preferences API and directories. Simply using this pure Java API reads and stores your application&#39;s preferences in ~/Library/Preferences in a Mac OS X property list file. For applications that may already have their own preferences format, these preferences should be stored in the ~/Library/Preferences directory as well. This directory can be reached from Java code by creating a file with the path of System.getProperty(&quot;user.home&quot;) + &quot;/Library/Preferences/&quot; + &quot;com.example.your.Application&quot;. An application that should have global preferences across all users could instead reside in /Library/Preferences, however this directory is not writable by non-admin users.\r\n","title":"Mac OS X 10.6.7 Java Path Current JDK confusing","body":"<p>From Apple Technical Q&amp;A Java Questions:</p>\n\n<p>User Preferences</p>\n\n<p>On Mac OS X, the Java runtime provides the java.util.prefs API which is backed by the standard Mac OS X Preferences API and directories. Simply using this pure Java API reads and stores your application's preferences in ~/Library/Preferences in a Mac OS X property list file. For applications that may already have their own preferences format, these preferences should be stored in the ~/Library/Preferences directory as well. This directory can be reached from Java code by creating a file with the path of System.getProperty(\"user.home\") + \"/Library/Preferences/\" + \"com.example.your.Application\". An application that should have global preferences across all users could instead reside in /Library/Preferences, however this directory is not writable by non-admin users.</p>\n"},{"tags":[],"owner":{"account_id":6784310,"reputation":3081,"user_id":5223615,"display_name":"Ashish Yadav"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1478340123,"creation_date":1478340123,"answer_id":40436901,"question_id":6141180,"body_markdown":"set $JAVA_HOME=$(/usr/libexec/java_home)\r\nin your .bash_profile\r\n\r\nor export JAVA_HOME=$(/usr/libexec/java_home);\r\n\r\necho $JAVA_HOME","title":"Mac OS X 10.6.7 Java Path Current JDK confusing","body":"<p>set $JAVA_HOME=$(/usr/libexec/java_home)\nin your .bash_profile</p>\n\n<p>or export JAVA_HOME=$(/usr/libexec/java_home);</p>\n\n<p>echo $JAVA_HOME</p>\n"},{"tags":[],"owner":{"account_id":12232652,"reputation":4002,"user_id":8930395,"display_name":"LOrD_ARaGOrN"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684905849,"creation_date":1684905849,"answer_id":76320291,"question_id":6141180,"body_markdown":"On Mac Ventura, \r\n  JDK downloaded from Oracle\r\n\r\n    /Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home","title":"Mac OS X 10.6.7 Java Path Current JDK confusing","body":"<p>On Mac Ventura,\nJDK downloaded from Oracle</p>\n<pre><code>/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home\n</code></pre>\n"}],"owner":{"account_id":350414,"reputation":868,"user_id":686263,"display_name":"reddyvaribabu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65608,"favorite_count":0,"down_vote_count":0,"up_vote_count":58,"accepted_answer_id":6141277,"answer_count":6,"score":58,"last_activity_date":1684905849,"creation_date":1306424116,"question_id":6141180,"body_markdown":"I have trouble understanding (actual paths vs links) for multiple java versions on my Mac OSX. Normally in windows if I have multiple versions installed in my machine, I can just take the path of which ever version I want and use it. But in MAC OS X I undertand that there is something called links that is being pointed to CurrentJDK, and if I want to use a different version I will need to change the link to CurrentJdk right? But what is confusing for me is that as you can see below all my versions are pointing to the same CurrentJDK which means all versions point to current version? I was expecting only one of them would be pointing to CurrentJDK and I could just change it to which ever one I need which is not the case here. All I need to know is how to find the bin(Commands) folder path for each version, so that I can just use it to point to CurrentJDK? Also tell me how to change the link to CurrentJDK.\r\n\r\n\r\n    $ java -version\r\n    \r\n    java version &quot;1.6.0_24&quot;\r\n    Java(TM) SE Runtime Environment (build 1.6.0_24-b07-334-10M3326)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 19.1-b02-334, mixed mode)\r\n    \r\n    $ pwd\r\n    \r\n    /System/Library/Frameworks/JavaVM.framework/Versions\r\n    \r\n    \r\n    $ ls -l\r\n    \r\n    lrwxr-xr-x   1 root  wheel    5 Mar 20 11:12 1.3 -&gt; 1.3.1\r\n    drwxr-xr-x   3 root  wheel  102 Dec  2  2009 1.3.1\r\n    lrwxr-xr-x   1 root  wheel   10 Mar 20 11:12 1.4 -&gt; CurrentJDK\r\n    lrwxr-xr-x   1 root  wheel   10 Mar 20 11:12 1.4.2 -&gt; CurrentJDK\r\n    lrwxr-xr-x   1 root  wheel   10 Mar 20 11:12 1.5 -&gt; CurrentJDK\r\n    lrwxr-xr-x   1 root  wheel   10 Mar 20 11:12 1.5.0 -&gt; CurrentJDK\r\n    lrwxr-xr-x   1 root  wheel   10 Mar 20 11:12 1.6 -&gt; CurrentJDK\r\n    lrwxr-xr-x   1 root  wheel   10 Mar 20 11:12 1.6.0 -&gt; CurrentJDK\r\n    drwxr-xr-x  10 root  wheel  340 Mar 20 11:13 A\r\n    lrwxr-xr-x   1 root  wheel    1 Mar 20 11:12 Current -&gt; A\r\n    lrwxr-xr-x   1 root  wheel   59 Mar 20 11:12 CurrentJDK -&gt; /System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents\r\n\r\n","title":"Mac OS X 10.6.7 Java Path Current JDK confusing","body":"<p>I have trouble understanding (actual paths vs links) for multiple java versions on my Mac OSX. Normally in windows if I have multiple versions installed in my machine, I can just take the path of which ever version I want and use it. But in MAC OS X I undertand that there is something called links that is being pointed to CurrentJDK, and if I want to use a different version I will need to change the link to CurrentJdk right? But what is confusing for me is that as you can see below all my versions are pointing to the same CurrentJDK which means all versions point to current version? I was expecting only one of them would be pointing to CurrentJDK and I could just change it to which ever one I need which is not the case here. All I need to know is how to find the bin(Commands) folder path for each version, so that I can just use it to point to CurrentJDK? Also tell me how to change the link to CurrentJDK.</p>\n\n<pre><code>$ java -version\n\njava version \"1.6.0_24\"\nJava(TM) SE Runtime Environment (build 1.6.0_24-b07-334-10M3326)\nJava HotSpot(TM) 64-Bit Server VM (build 19.1-b02-334, mixed mode)\n\n$ pwd\n\n/System/Library/Frameworks/JavaVM.framework/Versions\n\n\n$ ls -l\n\nlrwxr-xr-x   1 root  wheel    5 Mar 20 11:12 1.3 -&gt; 1.3.1\ndrwxr-xr-x   3 root  wheel  102 Dec  2  2009 1.3.1\nlrwxr-xr-x   1 root  wheel   10 Mar 20 11:12 1.4 -&gt; CurrentJDK\nlrwxr-xr-x   1 root  wheel   10 Mar 20 11:12 1.4.2 -&gt; CurrentJDK\nlrwxr-xr-x   1 root  wheel   10 Mar 20 11:12 1.5 -&gt; CurrentJDK\nlrwxr-xr-x   1 root  wheel   10 Mar 20 11:12 1.5.0 -&gt; CurrentJDK\nlrwxr-xr-x   1 root  wheel   10 Mar 20 11:12 1.6 -&gt; CurrentJDK\nlrwxr-xr-x   1 root  wheel   10 Mar 20 11:12 1.6.0 -&gt; CurrentJDK\ndrwxr-xr-x  10 root  wheel  340 Mar 20 11:13 A\nlrwxr-xr-x   1 root  wheel    1 Mar 20 11:12 Current -&gt; A\nlrwxr-xr-x   1 root  wheel   59 Mar 20 11:12 CurrentJDK -&gt; /System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents\n</code></pre>\n"},{"tags":["java","authentication","http","header","guacamole"],"owner":{"account_id":5036973,"reputation":21,"user_id":4045473,"display_name":"johnoathome"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":187,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1684904967,"creation_date":1684904967,"question_id":76320227,"body_markdown":"I&#39;m looking to implement HTTP header authentication with Apache Guacamole 1.5 but I&#39;m struggling to figure out how to make it secure.\r\n\r\nFrom the doco: &quot;All external requests must be properly sanitized if this extension is used. The chosen HTTP header must be stripped from untrusted requests, such that the authentication service is the only possible source of that header. If such sanitization is not performed, it will be trivial for malicious users to add this header manually, and thus gain unrestricted access.&quot;\r\n\r\nScenario is Server A running Apache2/PHP and Server B running Tomcat9/Guacamole\r\n\r\nAs I understand it, a user authenticates to server A, their username is passed in the header to server B and they are logged into Guacamole. So far so good. But unless there are some security checks anyone can pass a username in the header and get logged in.\r\n\r\nI reckon I could do this pretty easily with PHP using a shared key and checking it exists in requests to server B. \r\n\r\nBut I&#39;m not much with Java and really not sure how to do this.\r\n\r\nI&#39;d appreciate any insights.","title":"Securing Guacamole HTTP header authentication","body":"<p>I'm looking to implement HTTP header authentication with Apache Guacamole 1.5 but I'm struggling to figure out how to make it secure.</p>\n<p>From the doco: &quot;All external requests must be properly sanitized if this extension is used. The chosen HTTP header must be stripped from untrusted requests, such that the authentication service is the only possible source of that header. If such sanitization is not performed, it will be trivial for malicious users to add this header manually, and thus gain unrestricted access.&quot;</p>\n<p>Scenario is Server A running Apache2/PHP and Server B running Tomcat9/Guacamole</p>\n<p>As I understand it, a user authenticates to server A, their username is passed in the header to server B and they are logged into Guacamole. So far so good. But unless there are some security checks anyone can pass a username in the header and get logged in.</p>\n<p>I reckon I could do this pretty easily with PHP using a shared key and checking it exists in requests to server B.</p>\n<p>But I'm not much with Java and really not sure how to do this.</p>\n<p>I'd appreciate any insights.</p>\n"},{"tags":["java","jdbc","oracle11g"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1608078383,"post_id":65315608,"comment_id":115471732,"body_markdown":"What is the current exception? Not to your question, but you should be closing the `Connection`, `Statement` and `ResultSet` in a `finally` block (or using a `try-with-resources`).","body":"What is the current exception? Not to your question, but you should be closing the <code>Connection</code>, <code>Statement</code> and <code>ResultSet</code> in a <code>finally</code> block (or using a <code>try-with-resources</code>)."},{"owner":{"account_id":16266234,"reputation":1914,"user_id":11746212,"display_name":"IronMan"},"score":0,"creation_date":1608078430,"post_id":65315608,"comment_id":115471738,"body_markdown":"Perhaps try `getLong` or `getBigDecimal`","body":"Perhaps try <code>getLong</code> or <code>getBigDecimal</code>"},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1608079270,"post_id":65315608,"comment_id":115471913,"body_markdown":"[Isn&#39;t bigint just a `long`?](https://docs.oracle.com/javadb/10.8.3.0/ref/rrefsqlj30435.html)","body":"<a href=\"https://docs.oracle.com/javadb/10.8.3.0/ref/rrefsqlj30435.html\" rel=\"nofollow noreferrer\">Isn&#39;t bigint just a <code>long</code>?</a>"}],"answers":[{"comments":[{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1608078693,"post_id":65315649,"comment_id":115471791,"body_markdown":"&#39;safer&#39;? This will probably end up silently returning garbage for numbers that are too large. You&#39;d think if someone asks about BigInteger they have a big integer.","body":"&#39;safer&#39;? This will probably end up silently returning garbage for numbers that are too large. You&#39;d think if someone asks about BigInteger they have a big integer."},{"owner":{"account_id":5632657,"reputation":391,"user_id":4459143,"accept_rate":100,"display_name":"Chris Knoll"},"score":0,"creation_date":1659076634,"post_id":65315649,"comment_id":129213542,"body_markdown":"what value of rs.getLong() will return a value too large for BigInteger.valueOf()?","body":"what value of rs.getLong() will return a value too large for BigInteger.valueOf()?"}],"tags":[],"owner":{"account_id":7122714,"reputation":11,"user_id":5446739,"display_name":"Kerolos Atallah"},"comment_count":2,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1608078655,"creation_date":1608078655,"answer_id":65315649,"question_id":65315608,"body_markdown":"Use `BigInteger.valueOf(rs.getLong(&quot;emp_mob&quot;))`\r\nAnd this way is safer.","title":"Get a BigInt value from a resultset (Oracle db) in Java","body":"<p>Use <code>BigInteger.valueOf(rs.getLong(&quot;emp_mob&quot;))</code>\nAnd this way is safer.</p>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1608078667,"creation_date":1608078667,"answer_id":65315652,"question_id":65315608,"body_markdown":"The proper way is `.getObject(colIdx, BigInteger.class);`, but whether that&#39;ll actually work depends on your JDBC driver. It probably won&#39;t, but you should try it: If it does, there you go. Simple, efficient, no issues there.\r\n\r\nIf it doesn&#39;t, you should probably use `.getBigDecimal()`. This is another way that a JDBC driver might not actually support, so try it out.\r\n\r\nIf that&#39;s a failure too, your last real resort is `.getString`, and then pass that to BigInteger to reparse into a number. This is rather inefficient. What is the type of the column/expression in your SQL? It&#39;d help to know, and that&#39;s a good place to search the docs.\r\n","title":"Get a BigInt value from a resultset (Oracle db) in Java","body":"<p>The proper way is <code>.getObject(colIdx, BigInteger.class);</code>, but whether that'll actually work depends on your JDBC driver. It probably won't, but you should try it: If it does, there you go. Simple, efficient, no issues there.</p>\n<p>If it doesn't, you should probably use <code>.getBigDecimal()</code>. This is another way that a JDBC driver might not actually support, so try it out.</p>\n<p>If that's a failure too, your last real resort is <code>.getString</code>, and then pass that to BigInteger to reparse into a number. This is rather inefficient. What is the type of the column/expression in your SQL? It'd help to know, and that's a good place to search the docs.</p>\n"},{"tags":[],"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1608079398,"creation_date":1608079398,"answer_id":65315756,"question_id":65315608,"body_markdown":"The `BIGINT` data type is an *8-byte binary number*, which means that the matching Java type is a **`long`**, so use [`getLong()`][1]:\r\n\r\n```lang-java\r\nlong mob = rs.getLong(&quot;emp_mob&quot;);\r\n```\r\n\r\nIf the column is `NULL`-able, use Java type **`Long`**, and call [`wasNull()`][2] after calling `getLong()`:\r\n\r\n```lang-java\r\nLong mob = rs.getLong(&quot;emp_mob&quot;);\r\nif (rs.wasNull())\r\n    mob = null;\r\n```\r\n\r\nAlternatively, if you want a Java [**`BigInteger`**][3], call [`getBigDecimal()`][4] and convert it:\r\n\r\n```lang-java\r\nBigDecimal decimal = rs.getBigDecimal(&quot;emp_mob&quot;);\r\nBigInteger mob = (decimal == null ? null : decimal.toBigInteger());\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/sql/ResultSet.html#getLong-java.lang.String-\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/sql/ResultSet.html#wasNull--\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/math/BigInteger.html\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/java/sql/ResultSet.html#getBigDecimal-java.lang.String-","title":"Get a BigInt value from a resultset (Oracle db) in Java","body":"<p>The <code>BIGINT</code> data type is an <em>8-byte binary number</em>, which means that the matching Java type is a <strong><code>long</code></strong>, so use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/sql/ResultSet.html#getLong-java.lang.String-\" rel=\"noreferrer\"><code>getLong()</code></a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>long mob = rs.getLong(&quot;emp_mob&quot;);\n</code></pre>\n<p>If the column is <code>NULL</code>-able, use Java type <strong><code>Long</code></strong>, and call <a href=\"https://docs.oracle.com/javase/8/docs/api/java/sql/ResultSet.html#wasNull--\" rel=\"noreferrer\"><code>wasNull()</code></a> after calling <code>getLong()</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Long mob = rs.getLong(&quot;emp_mob&quot;);\nif (rs.wasNull())\n    mob = null;\n</code></pre>\n<p>Alternatively, if you want a Java <a href=\"https://docs.oracle.com/javase/8/docs/api/java/math/BigInteger.html\" rel=\"noreferrer\"><strong><code>BigInteger</code></strong></a>, call <a href=\"https://docs.oracle.com/javase/8/docs/api/java/sql/ResultSet.html#getBigDecimal-java.lang.String-\" rel=\"noreferrer\"><code>getBigDecimal()</code></a> and convert it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>BigDecimal decimal = rs.getBigDecimal(&quot;emp_mob&quot;);\nBigInteger mob = (decimal == null ? null : decimal.toBigInteger());\n</code></pre>\n"}],"owner":{"account_id":17858336,"reputation":57,"user_id":12972432,"display_name":"davis_john"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6716,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":3,"score":3,"last_activity_date":1684904619,"creation_date":1608078272,"question_id":65315608,"body_markdown":"I want to get a `BIGINT` value from Oracle database using JDBC.  \r\n`getBigInt()` or `getBigInteger()` does not work like `getInt()`.\r\n\r\nHere is the code snippet:\r\n\r\n```\r\npublic List&lt;Employee&gt; getAllEmployees()\r\n{\r\n    List&lt;Employee&gt; employeeList = new ArrayList&lt;Employee&gt;();\r\n    try\r\n    {\r\n        //typical jdbc coding\r\n        Connection conn = DBUtil.getConnection();\r\n        Statement st = conn.createStatement();\r\n        ResultSet rs = st.executeQuery(&quot;SELECT * FROM employee1&quot;);\r\n        while(rs.next())\r\n        {\r\n            Employee employee = new Employee(rs.getString(&quot;emp_id&quot;), rs.getString(&quot;name&quot;), rs.getBigInt(&quot;emp_mob&quot;));\r\n            employeeList.add(employee);\r\n        }\r\n        DBUtil.closeConnection(conn);  //close connection\r\n    }\r\n    catch(Exception e)\r\n    {\r\n        e.printStackTrace();\r\n    }\r\n    \r\n    return employeeList;\r\n}\r\n```\r\n\r\n&gt; **emp_mob column in the table contains big integer values.**\r\n","title":"Get a BigInt value from a resultset (Oracle db) in Java","body":"<p>I want to get a <code>BIGINT</code> value from Oracle database using JDBC.<br />\n<code>getBigInt()</code> or <code>getBigInteger()</code> does not work like <code>getInt()</code>.</p>\n<p>Here is the code snippet:</p>\n<pre><code>public List&lt;Employee&gt; getAllEmployees()\n{\n    List&lt;Employee&gt; employeeList = new ArrayList&lt;Employee&gt;();\n    try\n    {\n        //typical jdbc coding\n        Connection conn = DBUtil.getConnection();\n        Statement st = conn.createStatement();\n        ResultSet rs = st.executeQuery(&quot;SELECT * FROM employee1&quot;);\n        while(rs.next())\n        {\n            Employee employee = new Employee(rs.getString(&quot;emp_id&quot;), rs.getString(&quot;name&quot;), rs.getBigInt(&quot;emp_mob&quot;));\n            employeeList.add(employee);\n        }\n        DBUtil.closeConnection(conn);  //close connection\n    }\n    catch(Exception e)\n    {\n        e.printStackTrace();\n    }\n    \n    return employeeList;\n}\n</code></pre>\n<blockquote>\n<p><strong>emp_mob column in the table contains big integer values.</strong></p>\n</blockquote>\n"},{"tags":["java","sql","bigint"],"comments":[{"owner":{"account_id":3943896,"reputation":2232,"user_id":3257288,"accept_rate":83,"display_name":"Alpha2k"},"score":0,"creation_date":1438010502,"post_id":31656929,"comment_id":51258868,"body_markdown":"http://stackoverflow.com/questions/15240049/inserting-unsigned-64-bit-number-into-bigint-mysql-column-using-java-and-jdbc","body":"<a href=\"http://stackoverflow.com/questions/15240049/inserting-unsigned-64-bit-number-into-bigint-mysql-column-using-java-and-jdbc\" title=\"inserting unsigned 64 bit number into bigint mysql column using java and jdbc\">stackoverflow.com/questions/15240049/&hellip;</a>"},{"owner":{"account_id":4922508,"reputation":1801,"user_id":3964723,"display_name":"austin wernli"},"score":0,"creation_date":1438010570,"post_id":31656929,"comment_id":51258917,"body_markdown":"18,446,744,073,709,551,615 bigint(20) max value. 9,223,372,036,854,775,807 long max value.","body":"18,446,744,073,709,551,615 bigint(20) max value. 9,223,372,036,854,775,807 long max value."},{"owner":{"account_id":1078945,"reputation":7426,"user_id":1076480,"accept_rate":57,"display_name":"David Ehrmann"},"score":1,"creation_date":1438011298,"post_id":31656929,"comment_id":51259406,"body_markdown":"MySQL has both signed and unsigned bigints(20). That answer is the unsigned one.","body":"MySQL has both signed and unsigned bigints(20). That answer is the unsigned one."}],"answers":[{"tags":[],"owner":{"account_id":2779202,"reputation":3606,"user_id":2392087,"display_name":"yxre"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1438015238,"creation_date":1438010614,"answer_id":31657026,"question_id":31656929,"body_markdown":"It depends on the database server. A Java `long` is always implemented as 8 bytes since it is part of the standard.\r\n\r\nOn MSSQL, the `bigint` type is 8 bytes, so it is a perfect match.","title":"Can Java&#39;s Long hold an SQL BIGINT(20) value?","body":"<p>It depends on the database server. A Java <code>long</code> is always implemented as 8 bytes since it is part of the standard.</p>\n\n<p>On MSSQL, the <code>bigint</code> type is 8 bytes, so it is a perfect match.</p>\n"},{"tags":[],"owner":{"account_id":6650799,"reputation":60,"user_id":5132996,"display_name":"Rishabh Kashyap"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1438010750,"creation_date":1438010750,"answer_id":31657085,"question_id":31656929,"body_markdown":"Long is perfect  mapping for big Int of database","title":"Can Java&#39;s Long hold an SQL BIGINT(20) value?","body":"<p>Long is perfect  mapping for big Int of database</p>\n"},{"comments":[{"owner":{"account_id":2971110,"reputation":14744,"user_id":2523147,"accept_rate":38,"display_name":"prime"},"score":0,"creation_date":1438057104,"post_id":31658073,"comment_id":51278387,"body_markdown":"So what if we want to store an actual BigInteger in the db table ? then what type should we use. btw thank you for your answer.","body":"So what if we want to store an actual BigInteger in the db table ? then what type should we use. btw thank you for your answer."}],"tags":[],"owner":{"account_id":6623,"reputation":3788,"user_id":11215,"display_name":"Jan de Vos"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1438013374,"creation_date":1438013374,"answer_id":31658073,"question_id":31656929,"body_markdown":"The BIGINT type is not part of the SQL standard, so there is no guarantee that it will work the same in all databases. However, at least MSSQL, MySQL, Oracle, Postgresql, and IBM DB2 agree that it uses 8 bytes (where most are signed, but in DB2 it&#39;s an unsigned 63-bit value ).\r\n\r\nSince a Java Long is also 64 bits, it should work fine. Since longs are a lot faster than BigIntegers, so you should almost certainly use a long.","title":"Can Java&#39;s Long hold an SQL BIGINT(20) value?","body":"<p>The BIGINT type is not part of the SQL standard, so there is no guarantee that it will work the same in all databases. However, at least MSSQL, MySQL, Oracle, Postgresql, and IBM DB2 agree that it uses 8 bytes (where most are signed, but in DB2 it's an unsigned 63-bit value ).</p>\n\n<p>Since a Java Long is also 64 bits, it should work fine. Since longs are a lot faster than BigIntegers, so you should almost certainly use a long.</p>\n"},{"tags":[],"owner":{"account_id":16980421,"reputation":515,"user_id":12282542,"display_name":"Kirill Parfenov"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1615621584,"creation_date":1615621584,"answer_id":66611185,"question_id":31656929,"body_markdown":"MySQL BIGINT: min value (-2^63), max value (2^63-1). Maximum unsigned value (2^64-1).\r\n*https://dev.mysql.com/doc/refman/8.0/en/integer-types.html*\r\n\r\nJava Long: min value (-2^63), max value (2^63-1). Maximum unsigned value (2^64-1).\r\n*https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html*\r\n\r\n**So, these two types are the same size :)**\r\n","title":"Can Java&#39;s Long hold an SQL BIGINT(20) value?","body":"<p>MySQL BIGINT: min value (-2^63), max value (2^63-1). Maximum unsigned value (2^64-1).\n<em><a href=\"https://dev.mysql.com/doc/refman/8.0/en/integer-types.html\" rel=\"noreferrer\">https://dev.mysql.com/doc/refman/8.0/en/integer-types.html</a></em></p>\n<p>Java Long: min value (-2^63), max value (2^63-1). Maximum unsigned value (2^64-1).\n<em><a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html\" rel=\"noreferrer\">https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html</a></em></p>\n<p><strong>So, these two types are the same size :)</strong></p>\n"}],"owner":{"account_id":2971110,"reputation":14744,"user_id":2523147,"accept_rate":38,"display_name":"prime"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18546,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":4,"score":14,"last_activity_date":1684904341,"creation_date":1438010356,"question_id":31656929,"body_markdown":"I have a table in an SQL database where the values&#39; data type is `BIGINT(20)`, and I need to get those data to my logic in Java for processing.\r\n\r\n**What should be the appropriate *data type* in Java to store the `BIGINT(20)` value returned ?**\r\n \r\nI thought of using `Long`, but there is `BigInteger` also, can&#39;t figure out what is good or suitable.","title":"Can Java&#39;s Long hold an SQL BIGINT(20) value?","body":"<p>I have a table in an SQL database where the values' data type is <code>BIGINT(20)</code>, and I need to get those data to my logic in Java for processing.</p>\n<p><strong>What should be the appropriate <em>data type</em> in Java to store the <code>BIGINT(20)</code> value returned ?</strong></p>\n<p>I thought of using <code>Long</code>, but there is <code>BigInteger</code> also, can't figure out what is good or suitable.</p>\n"},{"tags":["java","mysql","types"],"answers":[{"comments":[{"owner":{"account_id":170019,"reputation":84110,"user_id":396458,"accept_rate":84,"display_name":"NullUserException"},"score":23,"creation_date":1285265130,"post_id":3781240,"comment_id":4004500,"body_markdown":"Note that in MySQL all `INT` types are signed by default.","body":"Note that in MySQL all <code>INT</code> types are signed by default."}],"tags":[],"owner":{"account_id":92109,"reputation":44036,"user_id":252591,"accept_rate":64,"display_name":"Crozin"},"comment_count":1,"down_vote_count":0,"up_vote_count":84,"is_accepted":true,"score":84,"last_activity_date":1285264999,"creation_date":1285264999,"answer_id":3781240,"question_id":3781218,"body_markdown":"[`SIGNED BIGINT`](http://dev.mysql.com/doc/refman/5.0/en/numeric-types.html) is a 8-bytes long integer just like Java&#39;s `long`.","title":"Java long to MySQL","body":"<p><a href=\"http://dev.mysql.com/doc/refman/5.0/en/numeric-types.html\" rel=\"noreferrer\"><code>SIGNED BIGINT</code></a> is a 8-bytes long integer just like Java's <code>long</code>.</p>\n"},{"tags":[],"owner":{"account_id":53471,"reputation":5683,"user_id":159837,"accept_rate":75,"display_name":"Fırat K&#252;&#231;&#252;k"},"comment_count":0,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1524164473,"creation_date":1524164473,"answer_id":49928406,"question_id":3781218,"body_markdown":"Java long max value is positive: `9,223,372,036,854,775,807`\r\n\r\nThis means for positive only unsigned numbers `UNSIGNED BIGINT(19)` should be enough or you can just use `UNSIGNED BIGINT` which is equal to `UNSIGNED BIGINT(20)`\r\n\r\nIf you are going to use negative numbers as well `BIGINT(19)` will be enough.","title":"Java long to MySQL","body":"<p>Java long max value is positive: <code>9,223,372,036,854,775,807</code></p>\n\n<p>This means for positive only unsigned numbers <code>UNSIGNED BIGINT(19)</code> should be enough or you can just use <code>UNSIGNED BIGINT</code> which is equal to <code>UNSIGNED BIGINT(20)</code></p>\n\n<p>If you are going to use negative numbers as well <code>BIGINT(19)</code> will be enough.</p>\n"}],"owner":{"account_id":116538,"reputation":10992,"user_id":305555,"accept_rate":53,"display_name":"syker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75407,"favorite_count":0,"down_vote_count":0,"up_vote_count":66,"accepted_answer_id":3781240,"answer_count":2,"score":66,"last_activity_date":1684904048,"creation_date":1285264834,"question_id":3781218,"body_markdown":"What is the equivalent of Java `long` in the context of MySQL *data types*?","title":"Java long to MySQL","body":"<p>What is the equivalent of Java <code>long</code> in the context of MySQL <em>data types</em>?</p>\n"},{"tags":["java","java-8","hashmap","synchronization","java.util.concurrent"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1684844366,"post_id":76314439,"comment_id":134573819,"body_markdown":"1. Did you check [the documentation](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/LinkedList.html#:~:text=The%20iterators%20returned,will%20throw%20a%20ConcurrentModificationException.)? 2. Why do you keep iterating after you removed the one element you were looking for? 3. What do you mean with “by-pass this exception”? According to your own statement at the end, putting the enhanced for loop inside a synchronized block had no effect at all. Which is expected.","body":"1. Did you check <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/LinkedList.html#:~:text=The%20iterators%20returned,will%20throw%20a%20ConcurrentModificationException.\" rel=\"nofollow noreferrer\">the documentation</a>? 2. Why do you keep iterating after you removed the one element you were looking for? 3. What do you mean with “by-pass this exception”? According to your own statement at the end, putting the enhanced for loop inside a synchronized block had no effect at all. Which is expected."},{"owner":{"account_id":12473811,"reputation":139,"user_id":9080948,"display_name":"alamshahbaz16497"},"score":0,"creation_date":1684867836,"post_id":76314439,"comment_id":134579363,"body_markdown":"I was trying to use the synchronized block to see if I could get rid of java.util.ConcurrentModificationException  which occurs mainly when any object of Collections class is being modified by a thread while other thread tries to read it.","body":"I was trying to use the synchronized block to see if I could get rid of java.util.ConcurrentModificationException  which occurs mainly when any object of Collections class is being modified by a thread while other thread tries to read it."},{"owner":{"account_id":12473811,"reputation":139,"user_id":9080948,"display_name":"alamshahbaz16497"},"score":0,"creation_date":1684868170,"post_id":76314439,"comment_id":134579427,"body_markdown":"I checked the documentation and as mentioned it kind of explains (as @hunter also explained below) why the iterator would fail. But why does the enhanced loop fails while the indexed loop works fine?","body":"I checked the documentation and as mentioned it kind of explains (as @hunter also explained below) why the iterator would fail. But why does the enhanced loop fails while the indexed loop works fine?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1684910785,"post_id":76314439,"comment_id":134584585,"body_markdown":"The enhanced for loop uses an `Iterator`. It’s a simplified syntax for a common use case, but doesn’t differ from an `Iterator` based loop in the compiled code (except for arrays).","body":"The enhanced for loop uses an <code>Iterator</code>. It’s a simplified syntax for a common use case, but doesn’t differ from an <code>Iterator</code> based loop in the compiled code (except for arrays)."}],"answers":[{"comments":[{"owner":{"account_id":12473811,"reputation":139,"user_id":9080948,"display_name":"alamshahbaz16497"},"score":0,"creation_date":1684868227,"post_id":76314737,"comment_id":134579438,"body_markdown":"Yes, I checked the documentation. But where is it specified that why and how would the indexed loop works while the enhanced loop fails?","body":"Yes, I checked the documentation. But where is it specified that why and how would the indexed loop works while the enhanced loop fails?"}],"tags":[],"owner":{"account_id":27267586,"reputation":59,"user_id":20789350,"display_name":"carter"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1684844686,"creation_date":1684844686,"answer_id":76314737,"question_id":76314439,"body_markdown":"According to the docs for ConcurrentModificationException,\r\n\r\n&gt; [I]f a thread modifies a collection directly while it is iterating\r\n&gt; over the collection with a fail-fast iterator, the iterator will throw\r\n&gt; this exception.\r\n\r\nI&#39;m sure you can answer all 3 of your questions by just reading the docs yourself: https://docs.oracle.com/javase/8/docs/api/?java/util/ConcurrentModificationException.html\r\n\r\n","title":"Iterating over a list of user defined class using Iterator class of enhanced for loop gives java.util.ConcurrentModificationException","body":"<p>According to the docs for ConcurrentModificationException,</p>\n<blockquote>\n<p>[I]f a thread modifies a collection directly while it is iterating\nover the collection with a fail-fast iterator, the iterator will throw\nthis exception.</p>\n</blockquote>\n<p>I'm sure you can answer all 3 of your questions by just reading the docs yourself: <a href=\"https://docs.oracle.com/javase/8/docs/api/?java/util/ConcurrentModificationException.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/?java/util/ConcurrentModificationException.html</a></p>\n"},{"comments":[{"owner":{"account_id":12473811,"reputation":139,"user_id":9080948,"display_name":"alamshahbaz16497"},"score":0,"creation_date":1684867945,"post_id":76314935,"comment_id":134579383,"body_markdown":"Yes, I figured this ConcurrentModificationException exception has nothing to do with concurrent execution in my case. But still I couldn&#39;t figure why the enhanced loop fails while the indexed loop is working fine","body":"Yes, I figured this ConcurrentModificationException exception has nothing to do with concurrent execution in my case. But still I couldn&#39;t figure why the enhanced loop fails while the indexed loop is working fine"},{"owner":{"account_id":6715571,"reputation":4013,"user_id":5177506,"display_name":"hunter"},"score":0,"creation_date":1684903735,"post_id":76314935,"comment_id":134583629,"body_markdown":"@alamshahbaz16497  - answer was edited and i tried to explain that part as well","body":"@alamshahbaz16497  - answer was edited and i tried to explain that part as well"}],"tags":[],"owner":{"account_id":6715571,"reputation":4013,"user_id":5177506,"display_name":"hunter"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1684903625,"creation_date":1684846107,"answer_id":76314935,"question_id":76314439,"body_markdown":"even though the exception name is `ConcurrentModificationException` , it is has nothing to do with concurrent executions in your case.\r\n\r\nthe code you posted will never throw this `ConcurrentModificationException` exception. instead of indexed for loop in the &quot;remove&quot; method, if you use enhanced for loop, it will throw this exception.\r\n\r\nonce iterator is created , you can not modify the list , if it happens iterator `modcount` and list `modcount` will differ, so in next usage of the iterator will throw this exception.\r\n\r\nEx:  this kind of code will throw this exception\r\n\r\n    for (Object o : list) \r\n    {\r\n      list.remove(o);\r\n    }\r\n\r\nWhy indexed loop works?\r\n\r\n    for (int i = 0; i &lt; list.size(); i++) \r\n    {\r\n       list.remove(i);\r\n    }\r\n\r\nit doesn&#39;t use iterator. &quot;for loop&quot; and list has no real connection, it just evaluate list.size() for each turn in the loop and list is accessed using the index.\r\nbut above code ends up with completely incorrect result. when first iteration of the loop remove the 0th index, element in the 1st index become the 0th index element. so loop will never hit on the first indexed item which is now the 0th index item.\r\nafter completed the for loop, there will be still items in the list(half size).    \r\n","title":"Iterating over a list of user defined class using Iterator class of enhanced for loop gives java.util.ConcurrentModificationException","body":"<p>even though the exception name is <code>ConcurrentModificationException</code> , it is has nothing to do with concurrent executions in your case.</p>\n<p>the code you posted will never throw this <code>ConcurrentModificationException</code> exception. instead of indexed for loop in the &quot;remove&quot; method, if you use enhanced for loop, it will throw this exception.</p>\n<p>once iterator is created , you can not modify the list , if it happens iterator <code>modcount</code> and list <code>modcount</code> will differ, so in next usage of the iterator will throw this exception.</p>\n<p>Ex:  this kind of code will throw this exception</p>\n<pre><code>for (Object o : list) \n{\n  list.remove(o);\n}\n</code></pre>\n<p>Why indexed loop works?</p>\n<pre><code>for (int i = 0; i &lt; list.size(); i++) \n{\n   list.remove(i);\n}\n</code></pre>\n<p>it doesn't use iterator. &quot;for loop&quot; and list has no real connection, it just evaluate list.size() for each turn in the loop and list is accessed using the index.\nbut above code ends up with completely incorrect result. when first iteration of the loop remove the 0th index, element in the 1st index become the 0th index element. so loop will never hit on the first indexed item which is now the 0th index item.\nafter completed the for loop, there will be still items in the list(half size).</p>\n"}],"owner":{"account_id":12473811,"reputation":139,"user_id":9080948,"display_name":"alamshahbaz16497"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1684903625,"creation_date":1684842677,"question_id":76314439,"body_markdown":"Iterating over a list of user defined class using Iterator class of enhanced for loop gives **java.util.ConcurrentModificationException exception** but when using the traditional for loop it runs just fine.\r\n\r\nActually I am trying to implement my own hashmap using Java.\r\nBelow is the perfectly fine working code when I am using indexed for loop:\r\n```\r\nclass MyHashMap {\r\n    public final int MAX_VALUE = 1009; // any big prime number\r\n    LinkedList&lt;Node&gt; buckets[];\r\n    public MyHashMap() {\r\n        buckets = new LinkedList[MAX_VALUE];\r\n        for (int i = 0;i&lt;buckets.length;i++)\r\n            buckets[i] = new LinkedList&lt;Node&gt;();\r\n    }\r\n    \r\n    public void put(int key, int value) {\r\n        int index = key % MAX_VALUE;\r\n        LinkedList&lt;Node&gt; list = buckets[index];\r\n        if (get(key) != -1) remove(key);   // if the key is available then remove it // same as update\r\n        Node entry = new Node(key, value); //otherwise\r\n        list.add(entry);  \r\n        \r\n    }\r\n    \r\n    public int get(int key) {\r\n        int index = key % MAX_VALUE;\r\n        List&lt;Node&gt; list = buckets[index];\r\n        if(list==null)return -1;\r\n        for(Node n : list){\r\n            if(n.key == key)return n.val;\r\n        }\r\n        return -1;\r\n    }\r\n    \r\n    public void remove(int key) {\r\n        int index = key % MAX_VALUE;\r\n        LinkedList&lt;Node&gt; list = buckets[index];\r\n        if(list == null)return;\r\n       ** //synchronized(this){\r\n        for(int i=0;i&lt;list.size();i++){\r\n            Node n = list.get(i);\r\n            if(n.key == key){\r\n                list.remove(n);\r\n                break;\r\n            }**\r\n        }\r\n    //}\r\n    }\r\n}\r\nclass Node{\r\n    public int key;\r\n    public int val;\r\n    public Node(int key, int val){\r\n        this.key=key;\r\n        this.val=val;\r\n    }\r\n}\r\n/**\r\n * Your MyHashMap object will be instantiated and called as such:\r\n * MyHashMap obj = new MyHashMap();\r\n * obj.put(key,value);\r\n * int param_2 = obj.get(key);\r\n * obj.remove(key);\r\n */\r\n```\r\nI also tried using the enhanced loop inside a synchronized block to no avail.\r\n\r\nI have 3 questions for this behaviour:\r\n1) Why does the traditional loop works and enhanced loop and iterator does&#39;nt?\r\n2) What exactly does the java.util.ConcurrentModificationException exception signify?\r\n3) Why does using the enhanced for loop inside the synchronized block (to ensure the loop iteration is locked for a single thread at a time) not help with this java.util.ConcurrentModificationException exception?\r\n\r\n\r\n\r\n\r\n- I am trying to implement my own hashmap using Java.\r\n- I tried using iterator in place of enhanced for loop but it does&#39;nt works.\r\n- I also tried putting the enhanced for loop inside a synchronized block as you can see in the code but still no luck.","title":"Iterating over a list of user defined class using Iterator class of enhanced for loop gives java.util.ConcurrentModificationException","body":"<p>Iterating over a list of user defined class using Iterator class of enhanced for loop gives <strong>java.util.ConcurrentModificationException exception</strong> but when using the traditional for loop it runs just fine.</p>\n<p>Actually I am trying to implement my own hashmap using Java.\nBelow is the perfectly fine working code when I am using indexed for loop:</p>\n<pre><code>class MyHashMap {\n    public final int MAX_VALUE = 1009; // any big prime number\n    LinkedList&lt;Node&gt; buckets[];\n    public MyHashMap() {\n        buckets = new LinkedList[MAX_VALUE];\n        for (int i = 0;i&lt;buckets.length;i++)\n            buckets[i] = new LinkedList&lt;Node&gt;();\n    }\n    \n    public void put(int key, int value) {\n        int index = key % MAX_VALUE;\n        LinkedList&lt;Node&gt; list = buckets[index];\n        if (get(key) != -1) remove(key);   // if the key is available then remove it // same as update\n        Node entry = new Node(key, value); //otherwise\n        list.add(entry);  \n        \n    }\n    \n    public int get(int key) {\n        int index = key % MAX_VALUE;\n        List&lt;Node&gt; list = buckets[index];\n        if(list==null)return -1;\n        for(Node n : list){\n            if(n.key == key)return n.val;\n        }\n        return -1;\n    }\n    \n    public void remove(int key) {\n        int index = key % MAX_VALUE;\n        LinkedList&lt;Node&gt; list = buckets[index];\n        if(list == null)return;\n       ** //synchronized(this){\n        for(int i=0;i&lt;list.size();i++){\n            Node n = list.get(i);\n            if(n.key == key){\n                list.remove(n);\n                break;\n            }**\n        }\n    //}\n    }\n}\nclass Node{\n    public int key;\n    public int val;\n    public Node(int key, int val){\n        this.key=key;\n        this.val=val;\n    }\n}\n/**\n * Your MyHashMap object will be instantiated and called as such:\n * MyHashMap obj = new MyHashMap();\n * obj.put(key,value);\n * int param_2 = obj.get(key);\n * obj.remove(key);\n */\n</code></pre>\n<p>I also tried using the enhanced loop inside a synchronized block to no avail.</p>\n<p>I have 3 questions for this behaviour:</p>\n<ol>\n<li>Why does the traditional loop works and enhanced loop and iterator does'nt?</li>\n<li>What exactly does the java.util.ConcurrentModificationException exception signify?</li>\n<li>Why does using the enhanced for loop inside the synchronized block (to ensure the loop iteration is locked for a single thread at a time) not help with this java.util.ConcurrentModificationException exception?</li>\n</ol>\n<ul>\n<li>I am trying to implement my own hashmap using Java.</li>\n<li>I tried using iterator in place of enhanced for loop but it does'nt works.</li>\n<li>I also tried putting the enhanced for loop inside a synchronized block as you can see in the code but still no luck.</li>\n</ul>\n"},{"tags":["java","android","kotlin","toolbar"],"answers":[{"comments":[{"owner":{"account_id":15482174,"reputation":73,"user_id":11169088,"display_name":"Tesmond H"},"score":0,"creation_date":1648922244,"post_id":71714250,"comment_id":126747492,"body_markdown":"The theme I&#39;m using is has the parent theme **Theme.AppCompat.Light.NoActionBar** and is calling `&lt;item name=&quot;windowActionBar&quot;&gt;false&lt;/item&gt;` already","body":"The theme I&#39;m using is has the parent theme <b>Theme.AppCompat.Light.NoActionBar</b> and is calling <code>&lt;item name=&quot;windowActionBar&quot;&gt;false&lt;&#47;item&gt;</code> already"},{"owner":{"account_id":7510184,"reputation":3451,"user_id":5705408,"display_name":"Lenoarod"},"score":0,"creation_date":1649840787,"post_id":71714250,"comment_id":126975386,"body_markdown":"@TesmondH， you can check if set the `Window.FEATURE_SUPPORT_ACTION_BAR` flag","body":"@TesmondH， you can check if set the <code>Window.FEATURE_SUPPORT_ACTION_BAR</code> flag"}],"tags":[],"owner":{"account_id":7510184,"reputation":3451,"user_id":5705408,"display_name":"Lenoarod"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1648863799,"creation_date":1648863799,"answer_id":71714250,"question_id":71713816,"body_markdown":"I read your code and source code, the reason why it reports IllegalStateException is that it already has a actionBar.\r\n\r\n```\r\nfinal ActionBar ab = getSupportActionBar();\r\n if (ab instanceof WindowDecorActionBar) {\r\n       throw new IllegalStateException(&quot;This Activity already has an action bar supplied &quot; +\r\n       &quot;by the window decor. Do not request Window.FEATURE_SUPPORT_ACTION_BAR and set &quot; +\r\n    &quot;windowActionBar to false in your theme to use a Toolbar instead.&quot;);\r\n  }\r\n\r\n``` \r\nAs for some devices reporting the error, it may the default theme is not same.\r\nyou can try to set the `windowActionBar` false in your theme\r\n\r\n```\r\n &lt;style name=&quot;AppTheme&quot; parent=&quot;Theme.AppCompat.Light.NoActionBar&quot;&gt;\r\n        &lt;!-- Customize your theme here. --&gt;\r\n        &lt;item name=&quot;android:windowActionBar&quot;&gt;false&lt;/item&gt;\r\n  &lt;/style&gt;\r\n\r\n```","title":"Getting java.lang.IllegalStateException during onCreate of MainActivity.kt","body":"<p>I read your code and source code, the reason why it reports IllegalStateException is that it already has a actionBar.</p>\n<pre><code>final ActionBar ab = getSupportActionBar();\n if (ab instanceof WindowDecorActionBar) {\n       throw new IllegalStateException(&quot;This Activity already has an action bar supplied &quot; +\n       &quot;by the window decor. Do not request Window.FEATURE_SUPPORT_ACTION_BAR and set &quot; +\n    &quot;windowActionBar to false in your theme to use a Toolbar instead.&quot;);\n  }\n\n</code></pre>\n<p>As for some devices reporting the error, it may the default theme is not same.\nyou can try to set the <code>windowActionBar</code> false in your theme</p>\n<pre><code> &lt;style name=&quot;AppTheme&quot; parent=&quot;Theme.AppCompat.Light.NoActionBar&quot;&gt;\n        &lt;!-- Customize your theme here. --&gt;\n        &lt;item name=&quot;android:windowActionBar&quot;&gt;false&lt;/item&gt;\n  &lt;/style&gt;\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28667199,"reputation":1,"user_id":21950958,"display_name":"antonio L&#243;pez"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684902571,"creation_date":1684901986,"answer_id":76320073,"question_id":71713816,"body_markdown":"    class MainActivity : AppCompatActivity() {\r\n    \r\n        private lateinit var photoFile: File\r\n    \r\n        override fun onCreate(savedInstanceState: Bundle?) {\r\n            super.onCreate(savedInstanceState)\r\n            setContentView(R.layout.activity_main)\r\n    \r\n            // Configurar el click listener del bot&#243;n de captura\r\n            captureButton.setOnClickListener {\r\n                dispatchTakePictureIntent()\r\n            }\r\n        }\r\n    \r\n        private fun dispatchTakePictureIntent() {\r\n            val takePictureIntent = Intent(MediaStore.ACTION_IMAGE_CAPTURE)\r\n            try {\r\n                photoFile = createImageFile()\r\n            } catch (ex: IOException) {\r\n                // Manejar el error al crear el archivo de imagen\r\n            }\r\n            takePictureIntent.putExtra(MediaStore.EXTRA_OUTPUT, photoFile)\r\n            startActivityForResult(takePictureIntent, REQUEST_IMAGE_CAPTURE)\r\n        }\r\n    \r\n        @Throws(IOException::class)\r\n        private fun createImageFile(): File {\r\n            val timeStamp: String = SimpleDateFormat(&quot;yyyyMMdd_HHmmss&quot;).format(Date())\r\n            val storageDir: File? = getExternalFilesDir(Environment.DIRECTORY_PICTURES)\r\n            return File.createTempFile(\r\n                &quot;JPEG_${timeStamp}_&quot;,\r\n                &quot;.jpg&quot;,\r\n                storageDir\r\n            ).apply {\r\n                // Guardar la ruta del archivo para su uso posterior\r\n                currentPhotoPath = absolutePath\r\n            }\r\n        }\r\n    \r\n        override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\r\n            super.onActivityResult(requestCode, resultCode, data)\r\n            if (requestCode == REQUEST_IMAGE_CAPTURE &amp;&amp; resultCode == RESULT_OK) {\r\n                // Mostrar la imagen capturada en la vista de imagen\r\n                imageView.setImageURI(Uri.fromFile(photoFile))\r\n    \r\n                // Procesar y resolver la tarea a partir de la foto capturada\r\n                resolverTarea(photoFile)\r\n            }\r\n        }\r\n    \r\n        // Funci&#243;n para procesar y resolver la tarea\r\n        private fun resolverTarea(photoFile: File) {\r\n            // Implementa el c&#243;digo necesario para resolver la tarea a partir de la foto capturada\r\n            // Puedes utilizar bibliotecas como OpenCV o TensorFlow para el procesamiento de im&#225;genes\r\n            // y an&#225;lisis seg&#250;n tus necesidades espec&#237;ficas.\r\n        }\r\n    \r\n        companion object {\r\n            private const val REQUEST_IMAGE_CAPTURE = 1\r\n        }\r\n    }","title":"Getting java.lang.IllegalStateException during onCreate of MainActivity.kt","body":"<pre><code>class MainActivity : AppCompatActivity() {\n\n    private lateinit var photoFile: File\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        // Configurar el click listener del botón de captura\n        captureButton.setOnClickListener {\n            dispatchTakePictureIntent()\n        }\n    }\n\n    private fun dispatchTakePictureIntent() {\n        val takePictureIntent = Intent(MediaStore.ACTION_IMAGE_CAPTURE)\n        try {\n            photoFile = createImageFile()\n        } catch (ex: IOException) {\n            // Manejar el error al crear el archivo de imagen\n        }\n        takePictureIntent.putExtra(MediaStore.EXTRA_OUTPUT, photoFile)\n        startActivityForResult(takePictureIntent, REQUEST_IMAGE_CAPTURE)\n    }\n\n    @Throws(IOException::class)\n    private fun createImageFile(): File {\n        val timeStamp: String = SimpleDateFormat(&quot;yyyyMMdd_HHmmss&quot;).format(Date())\n        val storageDir: File? = getExternalFilesDir(Environment.DIRECTORY_PICTURES)\n        return File.createTempFile(\n            &quot;JPEG_${timeStamp}_&quot;,\n            &quot;.jpg&quot;,\n            storageDir\n        ).apply {\n            // Guardar la ruta del archivo para su uso posterior\n            currentPhotoPath = absolutePath\n        }\n    }\n\n    override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n        super.onActivityResult(requestCode, resultCode, data)\n        if (requestCode == REQUEST_IMAGE_CAPTURE &amp;&amp; resultCode == RESULT_OK) {\n            // Mostrar la imagen capturada en la vista de imagen\n            imageView.setImageURI(Uri.fromFile(photoFile))\n\n            // Procesar y resolver la tarea a partir de la foto capturada\n            resolverTarea(photoFile)\n        }\n    }\n\n    // Función para procesar y resolver la tarea\n    private fun resolverTarea(photoFile: File) {\n        // Implementa el código necesario para resolver la tarea a partir de la foto capturada\n        // Puedes utilizar bibliotecas como OpenCV o TensorFlow para el procesamiento de imágenes\n        // y análisis según tus necesidades específicas.\n    }\n\n    companion object {\n        private const val REQUEST_IMAGE_CAPTURE = 1\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":15482174,"reputation":73,"user_id":11169088,"display_name":"Tesmond H"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":967,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71714250,"answer_count":2,"score":1,"last_activity_date":1684902571,"creation_date":1648857460,"question_id":71713816,"body_markdown":"I am unable to reproduce the error below myself, but in Google Play there are over 400 occurrences for this issue (I&#39;ve tried on various Samsung and Pixel devices and still can&#39;t reproduce with SDK 30, 31, &amp; 32):\r\n\r\n```\r\njava.lang.RuntimeException: \r\n  at android.app.ActivityThread.performLaunchActivity (ActivityThread.java:4035)\r\n  at android.app.ActivityThread.handleLaunchActivity (ActivityThread.java:4201)\r\n  at android.app.servertransaction.LaunchActivityItem.execute (LaunchActivityItem.java:103)\r\n  at android.app.servertransaction.TransactionExecutor.executeCallbacks (TransactionExecutor.java:135)\r\n  at android.app.servertransaction.TransactionExecutor.execute (TransactionExecutor.java:95)\r\n  at android.app.ActivityThread$H.handleMessage (ActivityThread.java:2438)\r\n  at android.os.Handler.dispatchMessage (Handler.java:106)\r\n  at android.os.Looper.loopOnce (Looper.java:226)\r\n  at android.os.Looper.loop (Looper.java:313)\r\n  at android.app.ActivityThread.main (ActivityThread.java:8663)\r\n  at java.lang.reflect.Method.invoke (Native Method)\r\n  at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run (RuntimeInit.java:567)\r\n  at com.android.internal.os.ZygoteInit.main (ZygoteInit.java:1135)\r\nCaused by: java.lang.IllegalStateException: \r\n  at androidx.appcompat.app.AppCompatDelegateImpl.setSupportActionBar (AppCompatDelegateImpl.java:581)\r\n  at androidx.appcompat.app.AppCompatActivity.setSupportActionBar (AppCompatActivity.java:183)\r\n  at org.fwac.fireweatheravalanche.MainActivity.onCreate (MainActivity.kt:319)\r\n  at android.app.Activity.performCreate (Activity.java:8290)\r\n  at android.app.Activity.performCreate (Activity.java:8270)\r\n  at android.app.Instrumentation.callActivityOnCreate (Instrumentation.java:1329)\r\n  at android.app.ActivityThread.performLaunchActivity (ActivityThread.java:4009)\r\n```\r\n\r\nHere is the Kotlin code for MainActivity.kt **(line 319 is the setSupportActionBar() function)**:\r\n```\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        binding = ActivityMainBinding.inflate(layoutInflater)\r\n        setContentView(binding.root)\r\n\r\n        val toolbar: Toolbar = findViewById(R.id.toolbar)\r\n        setSupportActionBar(toolbar)\r\n```\r\n\r\nThis is the layout file for MainActivity.kt\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.coordinatorlayout.widget.CoordinatorLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;com.google.android.material.appbar.AppBarLayout\r\n        android:id=&quot;@+id/toolbarContainer&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:theme=&quot;@style/Theme.FireWeatherAvalancheCenter.AppBarOverlay&quot;&gt;\r\n\r\n        &lt;androidx.appcompat.widget.Toolbar\r\n            android:id=&quot;@+id/toolbar&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;?attr/actionBarSize&quot;\r\n            android:background=&quot;?attr/colorPrimary&quot;\r\n            app:popupTheme=&quot;@style/Theme.FireWeatherAvalancheCenter.PopupOverlay&quot; /&gt;\r\n\r\n    &lt;/com.google.android.material.appbar.AppBarLayout&gt;\r\n\r\n    &lt;include layout=&quot;@layout/content_main&quot; /&gt;\r\n\r\n&lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\r\n```\r\nI&#39;ve been searching all over the internet for a solution, but can&#39;t find one. Like I said, can&#39;t reproduce this issue so I&#39;m left unable to make any changes. Would really appreciate any help!!!","title":"Getting java.lang.IllegalStateException during onCreate of MainActivity.kt","body":"<p>I am unable to reproduce the error below myself, but in Google Play there are over 400 occurrences for this issue (I've tried on various Samsung and Pixel devices and still can't reproduce with SDK 30, 31, &amp; 32):</p>\n<pre><code>java.lang.RuntimeException: \n  at android.app.ActivityThread.performLaunchActivity (ActivityThread.java:4035)\n  at android.app.ActivityThread.handleLaunchActivity (ActivityThread.java:4201)\n  at android.app.servertransaction.LaunchActivityItem.execute (LaunchActivityItem.java:103)\n  at android.app.servertransaction.TransactionExecutor.executeCallbacks (TransactionExecutor.java:135)\n  at android.app.servertransaction.TransactionExecutor.execute (TransactionExecutor.java:95)\n  at android.app.ActivityThread$H.handleMessage (ActivityThread.java:2438)\n  at android.os.Handler.dispatchMessage (Handler.java:106)\n  at android.os.Looper.loopOnce (Looper.java:226)\n  at android.os.Looper.loop (Looper.java:313)\n  at android.app.ActivityThread.main (ActivityThread.java:8663)\n  at java.lang.reflect.Method.invoke (Native Method)\n  at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run (RuntimeInit.java:567)\n  at com.android.internal.os.ZygoteInit.main (ZygoteInit.java:1135)\nCaused by: java.lang.IllegalStateException: \n  at androidx.appcompat.app.AppCompatDelegateImpl.setSupportActionBar (AppCompatDelegateImpl.java:581)\n  at androidx.appcompat.app.AppCompatActivity.setSupportActionBar (AppCompatActivity.java:183)\n  at org.fwac.fireweatheravalanche.MainActivity.onCreate (MainActivity.kt:319)\n  at android.app.Activity.performCreate (Activity.java:8290)\n  at android.app.Activity.performCreate (Activity.java:8270)\n  at android.app.Instrumentation.callActivityOnCreate (Instrumentation.java:1329)\n  at android.app.ActivityThread.performLaunchActivity (ActivityThread.java:4009)\n</code></pre>\n<p>Here is the Kotlin code for MainActivity.kt <strong>(line 319 is the setSupportActionBar() function)</strong>:</p>\n<pre><code>    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        binding = ActivityMainBinding.inflate(layoutInflater)\n        setContentView(binding.root)\n\n        val toolbar: Toolbar = findViewById(R.id.toolbar)\n        setSupportActionBar(toolbar)\n</code></pre>\n<p>This is the layout file for MainActivity.kt</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.coordinatorlayout.widget.CoordinatorLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;com.google.android.material.appbar.AppBarLayout\n        android:id=&quot;@+id/toolbarContainer&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:theme=&quot;@style/Theme.FireWeatherAvalancheCenter.AppBarOverlay&quot;&gt;\n\n        &lt;androidx.appcompat.widget.Toolbar\n            android:id=&quot;@+id/toolbar&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;?attr/actionBarSize&quot;\n            android:background=&quot;?attr/colorPrimary&quot;\n            app:popupTheme=&quot;@style/Theme.FireWeatherAvalancheCenter.PopupOverlay&quot; /&gt;\n\n    &lt;/com.google.android.material.appbar.AppBarLayout&gt;\n\n    &lt;include layout=&quot;@layout/content_main&quot; /&gt;\n\n&lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\n</code></pre>\n<p>I've been searching all over the internet for a solution, but can't find one. Like I said, can't reproduce this issue so I'm left unable to make any changes. Would really appreciate any help!!!</p>\n"},{"tags":["java","spring","spring-boot","cassandra","datastax-java-driver"],"answers":[{"comments":[{"owner":{"account_id":16507750,"reputation":171,"user_id":11927366,"display_name":"alia"},"score":0,"creation_date":1684920153,"post_id":76319931,"comment_id":134586673,"body_markdown":"So what is the docker image that I must use for an astra database instance please?","body":"So what is the docker image that I must use for an astra database instance please?"},{"owner":{"account_id":5357170,"reputation":14233,"user_id":4269535,"display_name":"Erick Ramirez"},"score":0,"creation_date":1684965072,"post_id":76319931,"comment_id":134596402,"body_markdown":"Astra DB is a fully-managed Cassandra-as-a-service so by definition, there isn&#39;t a Docker image for it. Cheers!","body":"Astra DB is a fully-managed Cassandra-as-a-service so by definition, there isn&#39;t a Docker image for it. Cheers!"}],"tags":[],"owner":{"account_id":5357170,"reputation":14233,"user_id":4269535,"display_name":"Erick Ramirez"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684899085,"creation_date":1684899085,"answer_id":76319931,"question_id":76317331,"body_markdown":"It looks like you are running a [DataStax Enterprise (DSE)][1] instance:\r\n\r\n```\r\ncassandra-service:\r\n    image: datastax/dse-server:6.8.3\r\n```\r\n\r\nbut you are passing credentials for an [Astra database][2] instance:\r\n\r\n```\r\n    - DS_SECURE_CONNECT_BUNDLE=/secrets/secure-connect-db.zip\r\n```\r\n\r\nAstra credentials are not compatible with DSE and you cannot use an Astra secure-connect bundle with DSE.\r\n\r\nIn any case, the Cassandra Java driver reported the warning because you supplied a username and password but the cluster/instance you&#39;re connecting to doesn&#39;t have authentication enabled.\r\n\r\nThis is expected behaviour from the Java driver to warn you in case you have connected to the wrong cluster. Cheers!\r\n\r\n\r\n  [1]: https://www.datastax.com/products/datastax-enterprise\r\n  [2]: https://www.datastax.com/products/datastax-astra","title":"Connecting spring boot app to datastax/dse-server container, getting &quot;cassandra-service did not send an authentication challenge&quot;","body":"<p>It looks like you are running a <a href=\"https://www.datastax.com/products/datastax-enterprise\" rel=\"nofollow noreferrer\">DataStax Enterprise (DSE)</a> instance:</p>\n<pre><code>cassandra-service:\n    image: datastax/dse-server:6.8.3\n</code></pre>\n<p>but you are passing credentials for an <a href=\"https://www.datastax.com/products/datastax-astra\" rel=\"nofollow noreferrer\">Astra database</a> instance:</p>\n<pre><code>    - DS_SECURE_CONNECT_BUNDLE=/secrets/secure-connect-db.zip\n</code></pre>\n<p>Astra credentials are not compatible with DSE and you cannot use an Astra secure-connect bundle with DSE.</p>\n<p>In any case, the Cassandra Java driver reported the warning because you supplied a username and password but the cluster/instance you're connecting to doesn't have authentication enabled.</p>\n<p>This is expected behaviour from the Java driver to warn you in case you have connected to the wrong cluster. Cheers!</p>\n"}],"owner":{"account_id":16507750,"reputation":171,"user_id":11927366,"display_name":"alia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684899085,"creation_date":1684863214,"question_id":76317331,"body_markdown":"I&#39;m trying to connect my java spring boot application to the datastax/dse-server container with docker-compose, but I got this error: Invalid keyspace. And my cassandra service returns : cassandra-service/172.22.0.2:9042 did not send an authentication challenge; This is suspicious because the driver expects authentication.\r\nThis is a part of my application.properties:\r\n```\r\n#configure Cassandra database  \r\nspring.data.cassandra.contact-points=cassandra-service\r\nspring.data.cassandra.cluster=***-cluster\r\nspring.data.cassandra.keyspace-name=***\r\nspring.data.cassandra.port=9042\r\nspring.data.cassandra.schema-action=CREATE_IF_NOT_EXISTS\r\nspring.data.cassandra.local-datacenter=dc1\r\nspring.data.cassandra.rackid=rack1\r\nspring.data.cassandra.username=***@gmail.com\r\nspring.data.cassandra.password=*****\r\n\r\n# Credentials to Astra DB\r\nastra.client-id= ******\r\nastra.client-secret= ******\r\nastra.api.application-token=*******\r\n\r\n# Select an Astra instance\r\nastra.api.database-region= europe-west1\r\nastra.api.database-id= *****\r\nastra.api.keyspace= *****\r\nastra.api.grpc.enabled=true\r\nastra.cql.enabled=true\r\nastra.cql.driver-config.basic.session-keyspace=****\r\n# Astra DB secure connection bundle: place in resources folder\r\ndatastax.astra.auth-provider.class = PlainTextAuthProvider\r\ndatastax.astra.auth-provider.username = ***@gmail.com\r\ndatastax.astra.auth-provider.password = *****\r\n\r\ndatastax.astra.secure-connect-bundle=secure-connect-db.zip\r\n```\r\nThis is a part of my docker-compose.yml:\r\n```\r\ncassandra-service:\r\n    image: datastax/dse-server:6.8.3\r\n    container_name: cassandra-container\r\n    hostname: cassandra-service\r\n    ports:\r\n    - 9042:9042\r\n    networks:\r\n    - ***-network\r\n    restart: always\r\n    volumes:\r\n    - ./secure-connect-clicknrate.zip:/secrets/secure-connect-clicknrate.zip\r\n    environment:\r\n    - DS_LICENSE=accept\r\n    - DS_PUBLIC=1\r\n    - DS_USERNAME=***@gmail.com\r\n    - DS_PASSWORD=*******\r\n    - DS_KEYSPACE=***\r\n    - DS_SECURE_CONNECT_BUNDLE=/secrets/secure-connect-db.zip\r\n    - CASSANDRA_CONTACT_POINTS=cassandra-service\r\n    - CASSANDRA_KEYSPACE=****\r\n    - CASSANDRA_PORT=9042\r\n    - CASSANDRA_SCHEMA_ACTION=CREATE_IF_NOT_EXISTS\r\n    - CASSANDRA_DATACENTER=dc1\r\n    - astra.cql.driver-config.basic.session-keyspace=****\r\n```\r\nAnd this is a part of my pom.xml:\r\n```\r\n&lt;!-- Cassandra Database Library --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.datastax.oss&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;java-driver-core&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-data-cassandra&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n```","title":"Connecting spring boot app to datastax/dse-server container, getting &quot;cassandra-service did not send an authentication challenge&quot;","body":"<p>I'm trying to connect my java spring boot application to the datastax/dse-server container with docker-compose, but I got this error: Invalid keyspace. And my cassandra service returns : cassandra-service/172.22.0.2:9042 did not send an authentication challenge; This is suspicious because the driver expects authentication.\nThis is a part of my application.properties:</p>\n<pre><code>#configure Cassandra database  \nspring.data.cassandra.contact-points=cassandra-service\nspring.data.cassandra.cluster=***-cluster\nspring.data.cassandra.keyspace-name=***\nspring.data.cassandra.port=9042\nspring.data.cassandra.schema-action=CREATE_IF_NOT_EXISTS\nspring.data.cassandra.local-datacenter=dc1\nspring.data.cassandra.rackid=rack1\nspring.data.cassandra.username=***@gmail.com\nspring.data.cassandra.password=*****\n\n# Credentials to Astra DB\nastra.client-id= ******\nastra.client-secret= ******\nastra.api.application-token=*******\n\n# Select an Astra instance\nastra.api.database-region= europe-west1\nastra.api.database-id= *****\nastra.api.keyspace= *****\nastra.api.grpc.enabled=true\nastra.cql.enabled=true\nastra.cql.driver-config.basic.session-keyspace=****\n# Astra DB secure connection bundle: place in resources folder\ndatastax.astra.auth-provider.class = PlainTextAuthProvider\ndatastax.astra.auth-provider.username = ***@gmail.com\ndatastax.astra.auth-provider.password = *****\n\ndatastax.astra.secure-connect-bundle=secure-connect-db.zip\n</code></pre>\n<p>This is a part of my docker-compose.yml:</p>\n<pre><code>cassandra-service:\n    image: datastax/dse-server:6.8.3\n    container_name: cassandra-container\n    hostname: cassandra-service\n    ports:\n    - 9042:9042\n    networks:\n    - ***-network\n    restart: always\n    volumes:\n    - ./secure-connect-clicknrate.zip:/secrets/secure-connect-clicknrate.zip\n    environment:\n    - DS_LICENSE=accept\n    - DS_PUBLIC=1\n    - DS_USERNAME=***@gmail.com\n    - DS_PASSWORD=*******\n    - DS_KEYSPACE=***\n    - DS_SECURE_CONNECT_BUNDLE=/secrets/secure-connect-db.zip\n    - CASSANDRA_CONTACT_POINTS=cassandra-service\n    - CASSANDRA_KEYSPACE=****\n    - CASSANDRA_PORT=9042\n    - CASSANDRA_SCHEMA_ACTION=CREATE_IF_NOT_EXISTS\n    - CASSANDRA_DATACENTER=dc1\n    - astra.cql.driver-config.basic.session-keyspace=****\n</code></pre>\n<p>And this is a part of my pom.xml:</p>\n<pre><code>&lt;!-- Cassandra Database Library --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.datastax.oss&lt;/groupId&gt;\n            &lt;artifactId&gt;java-driver-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-cassandra&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","algorithm","vba","interpolation","triangulation"],"answers":[{"comments":[{"owner":{"account_id":209815,"reputation":1598,"user_id":461077,"accept_rate":80,"display_name":"nulvinge"},"score":0,"creation_date":1315837262,"post_id":7389296,"comment_id":8923289,"body_markdown":"D(s,n) &lt; D(s,c) where s is searched point, n is the new point, c is the current point and D is the distance function.","body":"D(s,n) &lt; D(s,c) where s is searched point, n is the new point, c is the current point and D is the distance function."},{"owner":{"account_id":289676,"reputation":18494,"user_id":590790,"accept_rate":70,"display_name":"Steven Jeuris"},"score":3,"creation_date":1315839468,"post_id":7389296,"comment_id":8924037,"body_markdown":"Worthy mention: _&quot;This procedure is\nguaranteed to terminate only in Delaunay triangulations. For arbitrary triangulations it may go into an\ninﬁnite loop&quot;_ .... _&quot;However, the inﬁnite loop can be broken, for all practical purposes,\nby introducing randomness when selecting which neighboring simplex to visit next&quot;_","body":"Worthy mention: <i>&quot;This procedure is guaranteed to terminate only in Delaunay triangulations. For arbitrary triangulations it may go into an inﬁnite loop&quot;</i> .... <i>&quot;However, the inﬁnite loop can be broken, for all practical purposes, by introducing randomness when selecting which neighboring simplex to visit next&quot;</i>"},{"owner":{"account_id":425210,"reputation":9222,"user_id":805681,"accept_rate":80,"display_name":"Jiri Kriz"},"score":0,"creation_date":1315840195,"post_id":7389296,"comment_id":8924302,"body_markdown":"@Steven: good comment. Fortunately the walk always terminates in Delanay triangulations and we do not need to bother about any randomness.","body":"@Steven: good comment. Fortunately the walk always terminates in Delanay triangulations and we do not need to bother about any randomness."}],"tags":[],"owner":{"account_id":425210,"reputation":9222,"user_id":805681,"accept_rate":80,"display_name":"Jiri Kriz"},"comment_count":3,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1315837636,"creation_date":1315836913,"answer_id":7389296,"question_id":7389119,"body_markdown":"You can find the target triangle by [walking through the triangulation][1] towards the searched point. This assumes that you can access neighboring triangles in constant time, which is the case if the triangulation is stored in doubly connected edge list or similar structures. The implementation is straightforward because you do not need any additional data structures. \r\n\r\n**Added details:** Let P be the searched point. Take any triangle T0 and a point P0 in T0. If P is in T0 you are finished. Else find the edge E0 of T0 that is crossed by the line P0-P. Go to the neighbor triangle T1 of T over the edge E0 and take a point P1 in T1. Now repeat until the triangle Tn contains P. \r\n\r\n  [1]: http://www.cs.ucdavis.edu/~amenta/w07/jump.and.walk.pdf","title":"Locate triangle containing arbitrary point in Delaunay-triangulated surface","body":"<p>You can find the target triangle by <a href=\"http://www.cs.ucdavis.edu/~amenta/w07/jump.and.walk.pdf\">walking through the triangulation</a> towards the searched point. This assumes that you can access neighboring triangles in constant time, which is the case if the triangulation is stored in doubly connected edge list or similar structures. The implementation is straightforward because you do not need any additional data structures. </p>\n\n<p><strong>Added details:</strong> Let P be the searched point. Take any triangle T0 and a point P0 in T0. If P is in T0 you are finished. Else find the edge E0 of T0 that is crossed by the line P0-P. Go to the neighbor triangle T1 of T over the edge E0 and take a point P1 in T1. Now repeat until the triangle Tn contains P. </p>\n"},{"comments":[{"owner":{"account_id":289676,"reputation":18494,"user_id":590790,"accept_rate":70,"display_name":"Steven Jeuris"},"score":0,"creation_date":1315838386,"post_id":7389315,"comment_id":8923665,"body_markdown":"Another relevant keyword: [Planar point location](http://dl.acm.org/citation.cfm?id=6151)","body":"Another relevant keyword: <a href=\"http://dl.acm.org/citation.cfm?id=6151\" rel=\"nofollow noreferrer\">Planar point location</a>"}],"tags":[],"owner":{"account_id":289676,"reputation":18494,"user_id":590790,"accept_rate":70,"display_name":"Steven Jeuris"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1315837851,"creation_date":1315836986,"answer_id":7389315,"question_id":7389119,"body_markdown":"My algorithms knowledge is a bit rusty. Instead of my prior answer, you are probably better of using a [Voronoi Diagram][1].\r\n\r\n&gt; A point location data structure can be built on top of the Voronoi\r\n&gt; diagram in order to answer nearest neighbor queries, where one wants\r\n&gt; to find the object that is closest to a given query point. Nearest\r\n&gt; neighbor queries have numerous applications. For example, one might\r\n&gt; want to find the nearest hospital, or the most similar object in a\r\n&gt; database.\r\n\r\nI can&#39;t help you with the specifics of this, but hopefully this can point you in the right direction.\r\n\r\n----------\r\n\r\nI&#39;m guessing you could also use an [R-tree][2] in which you link to your triangles.\r\n\r\nA quick search on google with &#39;java r-tree&#39; should help you out to find existing libraries.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Voronoi_diagram\r\n  [2]: http://en.wikipedia.org/wiki/R-tree","title":"Locate triangle containing arbitrary point in Delaunay-triangulated surface","body":"<p>My algorithms knowledge is a bit rusty. Instead of my prior answer, you are probably better of using a <a href=\"http://en.wikipedia.org/wiki/Voronoi_diagram\" rel=\"nofollow\">Voronoi Diagram</a>.</p>\n\n<blockquote>\n  <p>A point location data structure can be built on top of the Voronoi\n  diagram in order to answer nearest neighbor queries, where one wants\n  to find the object that is closest to a given query point. Nearest\n  neighbor queries have numerous applications. For example, one might\n  want to find the nearest hospital, or the most similar object in a\n  database.</p>\n</blockquote>\n\n<p>I can't help you with the specifics of this, but hopefully this can point you in the right direction.</p>\n\n<hr>\n\n<p>I'm guessing you could also use an <a href=\"http://en.wikipedia.org/wiki/R-tree\" rel=\"nofollow\">R-tree</a> in which you link to your triangles.</p>\n\n<p>A quick search on google with 'java r-tree' should help you out to find existing libraries.</p>\n"},{"comments":[{"owner":{"account_id":425210,"reputation":9222,"user_id":805681,"accept_rate":80,"display_name":"Jiri Kriz"},"score":0,"creation_date":1315839838,"post_id":7389517,"comment_id":8924183,"body_markdown":"No information about vertices is needed for the walk. The only information needed are the neighbor triangles at the opposite side of each edge. And this is usually available. e.g. if the triangulation is stored in DCEL.","body":"No information about vertices is needed for the walk. The only information needed are the neighbor triangles at the opposite side of each edge. And this is usually available. e.g. if the triangulation is stored in DCEL."},{"owner":{"account_id":10258,"reputation":26470,"user_id":19276,"accept_rate":81,"display_name":"DJClayworth"},"score":0,"creation_date":1315840083,"post_id":7389517,"comment_id":8924264,"body_markdown":"Yes, technically you;re right. But the information about the neighbour triangles is as large and as complicated as the vertex-&gt;triangle map, so the argument is precisely the same.","body":"Yes, technically you;re right. But the information about the neighbour triangles is as large and as complicated as the vertex-&gt;triangle map, so the argument is precisely the same."}],"tags":[],"owner":{"account_id":10258,"reputation":26470,"user_id":19276,"accept_rate":81,"display_name":"DJClayworth"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1315840123,"creation_date":1315837959,"answer_id":7389517,"question_id":7389119,"body_markdown":"This is not an easy question to answer, and it depends on what performance you require from your lookup, and how much memory you are prepared to trade to get that performance.\r\n\r\nIf this is a very rare operation, or your number of triangles is small, then you can always iterate through all the triangles. Testing for a triangle containing a point isn&#39;t very expensive. You should probably code this first and see if it gives acceptable performance.\r\n\r\nIf it isn&#39;t acceptable, your can try [walking through the triangulation][1] - essentially start with a triangle and then find the next one nearest the point you are looking for. This does assume that you have some extra information over a simple list of triangles - specifically that you can find the triangles that use a given vertex (or find a triangle from its neighbouring triangle, which is roughly equivalent in complexity). If you don&#39;t have this computed then it is nearly as expensive as finding a point.\r\n\r\nIf that isn&#39;t fast enough, you need to set up some kind of [R-Tree][2].  This allows you to find triangles from their locations very quickly, but does need a lot of pre-processing and a substantial amount of memory for the tree. \r\n\r\nYou may find that the time to compute the pre-processing for each of the second and third methods is more than the time to find the triangles by exhaustive search, if you don&#39;t do it often.\r\n\r\n\r\n  [1]: http://www.cs.ucdavis.edu/~amenta/w07/jump.and.walk.pdf\r\n  [2]: http://en.wikipedia.org/wiki/R-tree","title":"Locate triangle containing arbitrary point in Delaunay-triangulated surface","body":"<p>This is not an easy question to answer, and it depends on what performance you require from your lookup, and how much memory you are prepared to trade to get that performance.</p>\n\n<p>If this is a very rare operation, or your number of triangles is small, then you can always iterate through all the triangles. Testing for a triangle containing a point isn't very expensive. You should probably code this first and see if it gives acceptable performance.</p>\n\n<p>If it isn't acceptable, your can try <a href=\"http://www.cs.ucdavis.edu/~amenta/w07/jump.and.walk.pdf\" rel=\"nofollow\">walking through the triangulation</a> - essentially start with a triangle and then find the next one nearest the point you are looking for. This does assume that you have some extra information over a simple list of triangles - specifically that you can find the triangles that use a given vertex (or find a triangle from its neighbouring triangle, which is roughly equivalent in complexity). If you don't have this computed then it is nearly as expensive as finding a point.</p>\n\n<p>If that isn't fast enough, you need to set up some kind of <a href=\"http://en.wikipedia.org/wiki/R-tree\" rel=\"nofollow\">R-Tree</a>.  This allows you to find triangles from their locations very quickly, but does need a lot of pre-processing and a substantial amount of memory for the tree. </p>\n\n<p>You may find that the time to compute the pre-processing for each of the second and third methods is more than the time to find the triangles by exhaustive search, if you don't do it often.</p>\n"},{"tags":[],"owner":{"account_id":41230,"reputation":37700,"user_id":119775,"accept_rate":76,"display_name":"Jean-Fran&#231;ois Corbett"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1317985142,"creation_date":1317985142,"answer_id":7686307,"question_id":7389119,"body_markdown":"I found a working implementation here: http://www.cs.bgu.ac.il/~benmoshe/DT/\r\n\r\nThe [`find` method][1] finds the triangle that contains a given point, and the [`z` method][2] does the planar interpolation. \r\n\r\nUnfortunately it&#39;s a compiled JAR, so I don&#39;t know what the algorithm is, but I sense that it &quot;walks through the triangulation&quot; as suggested by @Jiri and @DJClayworth. \r\n\r\nAlso unfortunate is the rather unconventional nomenclature used in this JAR. I may end up writing a wrapper class with nicer nomenclature. \r\n\r\n\r\n  [1]: http://www.cs.bgu.ac.il/~benmoshe/DT/doc/delaunay_triangulation/Delaunay_Triangulation.html#find%28delaunay_triangulation.Point_dt%29\r\n  [2]: http://www.cs.bgu.ac.il/~benmoshe/DT/doc/delaunay_triangulation/Delaunay_Triangulation.html#z%28double,%20double%29","title":"Locate triangle containing arbitrary point in Delaunay-triangulated surface","body":"<p>I found a working implementation here: <a href=\"http://www.cs.bgu.ac.il/~benmoshe/DT/\" rel=\"nofollow\">http://www.cs.bgu.ac.il/~benmoshe/DT/</a></p>\n\n<p>The <a href=\"http://www.cs.bgu.ac.il/~benmoshe/DT/doc/delaunay_triangulation/Delaunay_Triangulation.html#find%28delaunay_triangulation.Point_dt%29\" rel=\"nofollow\"><code>find</code> method</a> finds the triangle that contains a given point, and the <a href=\"http://www.cs.bgu.ac.il/~benmoshe/DT/doc/delaunay_triangulation/Delaunay_Triangulation.html#z%28double,%20double%29\" rel=\"nofollow\"><code>z</code> method</a> does the planar interpolation. </p>\n\n<p>Unfortunately it's a compiled JAR, so I don't know what the algorithm is, but I sense that it \"walks through the triangulation\" as suggested by @Jiri and @DJClayworth. </p>\n\n<p>Also unfortunate is the rather unconventional nomenclature used in this JAR. I may end up writing a wrapper class with nicer nomenclature. </p>\n"},{"tags":[],"owner":{"account_id":2135286,"reputation":1142,"user_id":1895240,"display_name":"Andreas Fabri"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1362412633,"creation_date":1362412633,"answer_id":15205608,"question_id":7389119,"body_markdown":"You might use a Delaunay Hierarchy http://hal.inria.fr/inria-00166711\r\nThe idea is to take a subset of the points, triangulate it, and have links between vertices between the two layers. The &quot;walk&quot; is then performed in the small triangulation, then one jumps from one layer to the next one, then one continues the walk.  This is implemented in the triangulations of CGAL: http://www.cgal.org/Manual/latest/doc_html/cgal_manual/Triangulation_2/Chapter_main.html#Section_37.10","title":"Locate triangle containing arbitrary point in Delaunay-triangulated surface","body":"<p>You might use a Delaunay Hierarchy <a href=\"http://hal.inria.fr/inria-00166711\" rel=\"nofollow\">http://hal.inria.fr/inria-00166711</a>\nThe idea is to take a subset of the points, triangulate it, and have links between vertices between the two layers. The \"walk\" is then performed in the small triangulation, then one jumps from one layer to the next one, then one continues the walk.  This is implemented in the triangulations of CGAL: <a href=\"http://www.cgal.org/Manual/latest/doc_html/cgal_manual/Triangulation_2/Chapter_main.html#Section_37.10\" rel=\"nofollow\">http://www.cgal.org/Manual/latest/doc_html/cgal_manual/Triangulation_2/Chapter_main.html#Section_37.10</a></p>\n"},{"tags":[],"owner":{"account_id":247685,"reputation":163,"user_id":522572,"display_name":"Dave"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684899074,"creation_date":1684899074,"answer_id":76319930,"question_id":7389119,"body_markdown":"I am new to this but if you were able to reference each 2d triangle, using a hash map where the key is a unique number could you encode that key as say a color in an image. Then draw the triangles with that solid color. \r\n\r\nTo find the triangle you retrieve the key by decoding the color at the requested position.\r\n\r\nThere would be a cost when drawing the triangle but the lookup should be fast.\r\n\r\nI think the idea could be abstracted to meshes in 3d.","title":"Locate triangle containing arbitrary point in Delaunay-triangulated surface","body":"<p>I am new to this but if you were able to reference each 2d triangle, using a hash map where the key is a unique number could you encode that key as say a color in an image. Then draw the triangles with that solid color.</p>\n<p>To find the triangle you retrieve the key by decoding the color at the requested position.</p>\n<p>There would be a cost when drawing the triangle but the lookup should be fast.</p>\n<p>I think the idea could be abstracted to meshes in 3d.</p>\n"}],"owner":{"account_id":41230,"reputation":37700,"user_id":119775,"accept_rate":76,"display_name":"Jean-Fran&#231;ois Corbett"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5312,"favorite_count":0,"down_vote_count":1,"up_vote_count":18,"answer_count":6,"score":17,"last_activity_date":1684899074,"creation_date":1315836070,"question_id":7389119,"body_markdown":"I&#39;m looking to do a linear interpolation of a irregularly sampled function `z(x,y)` based on a Delaunay triangulation. Say I have a hill for which I have obtained a Delaunay triangulation: \r\n\r\n![Delaunay-triangulated hill][1]\r\n\r\nI know the altitude `z` at each of the triangle vertices (samples). I want the altitude `z` at an arbitrary point `(x,y)`. \r\n\r\n - How do I tell which triangle contains point `(x,y)`? Once I know this, I guess it&#39;s fairly straightforward to interpolate between the triangle&#39;s three vertices. \r\n\r\n - Do you know of a ready-made implementation of this? Perhaps with the interpolation bit included as well? I&#39;m sure there must be an open source implementation of this somewhere out there. I&#39;m especially interested in Java (source or JAR), but any flavour of VB or some other language could be useful as well. \r\n\r\n\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/UoCUs.gif","title":"Locate triangle containing arbitrary point in Delaunay-triangulated surface","body":"<p>I'm looking to do a linear interpolation of a irregularly sampled function <code>z(x,y)</code> based on a Delaunay triangulation. Say I have a hill for which I have obtained a Delaunay triangulation: </p>\n\n<p><img src=\"https://i.stack.imgur.com/UoCUs.gif\" alt=\"Delaunay-triangulated hill\"></p>\n\n<p>I know the altitude <code>z</code> at each of the triangle vertices (samples). I want the altitude <code>z</code> at an arbitrary point <code>(x,y)</code>. </p>\n\n<ul>\n<li><p>How do I tell which triangle contains point <code>(x,y)</code>? Once I know this, I guess it's fairly straightforward to interpolate between the triangle's three vertices. </p></li>\n<li><p>Do you know of a ready-made implementation of this? Perhaps with the interpolation bit included as well? I'm sure there must be an open source implementation of this somewhere out there. I'm especially interested in Java (source or JAR), but any flavour of VB or some other language could be useful as well. </p></li>\n</ul>\n"},{"tags":["java","eclipse","nullpointerexception"],"comments":[{"owner":{"account_id":3346968,"reputation":1224,"user_id":2811956,"accept_rate":80,"display_name":"W I Z A R D"},"score":0,"creation_date":1397019833,"post_id":22953084,"comment_id":35043913,"body_markdown":"I think it may work try this, Go to C:\\Users\\YourcomputerName In that .android folder will be there u delete that folder and restart the eclipse.","body":"I think it may work try this, Go to C:\\Users\\YourcomputerName In that .android folder will be there u delete that folder and restart the eclipse."}],"answers":[{"comments":[{"owner":{"account_id":3009030,"reputation":299,"user_id":2552916,"accept_rate":50,"display_name":"King_Dark"},"score":2,"creation_date":1397024574,"post_id":22953119,"comment_id":35045857,"body_markdown":"YES!!! i will try to restart eclipse.After a restart all works already fine thank you.","body":"YES!!! i will try to restart eclipse.After a restart all works already fine thank you."},{"owner":{"account_id":344474,"reputation":87,"user_id":1038060,"display_name":"ferreirabraga"},"score":2,"creation_date":1492019222,"post_id":22953119,"comment_id":73814802,"body_markdown":"A simple restart from menu File-&gt; Restart solved my problem. Tks!","body":"A simple restart from menu File-&gt; Restart solved my problem. Tks!"}],"tags":[],"owner":{"account_id":1284871,"reputation":8125,"user_id":1238164,"accept_rate":76,"display_name":"Niko"},"comment_count":2,"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1397019529,"creation_date":1397019529,"answer_id":22953119,"question_id":22953084,"body_markdown":"There is a bug filed for `Eclipse`:\r\n\r\nhttps://bugs.eclipse.org/bugs/show_bug.cgi?id=385680\r\n\r\nYou could try restarting `Eclipse`, it helped the original poster of the issue there.","title":"NullPointerException in eclipse in Eclipse itself at PartServiceImpl.internalFixContext","body":"<p>There is a bug filed for <code>Eclipse</code>:</p>\n\n<p><a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=385680\">https://bugs.eclipse.org/bugs/show_bug.cgi?id=385680</a></p>\n\n<p>You could try restarting <code>Eclipse</code>, it helped the original poster of the issue there.</p>\n"},{"tags":[],"owner":{"account_id":2981052,"reputation":2273,"user_id":2530989,"display_name":"Jameer Mulani"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1402468412,"creation_date":1402468412,"answer_id":24156079,"question_id":22953084,"body_markdown":"Better you update your eclipse by clicking it on *help &gt;&gt; check for updates*, also you can start eclipse by entering command in  command prompt *eclipse -clean*.\r\n&lt;br&gt;Hope this will help you.","title":"NullPointerException in eclipse in Eclipse itself at PartServiceImpl.internalFixContext","body":"<p>Better you update your eclipse by clicking it on <em>help >> check for updates</em>, also you can start eclipse by entering command in  command prompt <em>eclipse -clean</em>.\n<br>Hope this will help you.</p>\n"},{"tags":[],"owner":{"account_id":1133595,"reputation":171,"user_id":1119119,"display_name":"chinacheng"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1439967177,"creation_date":1439967177,"answer_id":32088408,"question_id":22953084,"body_markdown":"hi，that maybe the project&#39;s problem,\r\n\r\nchose the project and setting you eclipse:\r\n\r\n    project -&gt; clean... \r\n\r\n ","title":"NullPointerException in eclipse in Eclipse itself at PartServiceImpl.internalFixContext","body":"<p>hi，that maybe the project's problem,</p>\n\n<p>chose the project and setting you eclipse:</p>\n\n<pre><code>project -&gt; clean... \n</code></pre>\n"},{"comments":[{"owner":{"account_id":3320215,"reputation":137,"user_id":2791580,"display_name":"Massimo"},"score":0,"creation_date":1644569191,"post_id":33580757,"comment_id":125646110,"body_markdown":"Thanks! This solution has worked for me!","body":"Thanks! This solution has worked for me!"}],"tags":[],"owner":{"account_id":2726668,"reputation":4982,"user_id":2351527,"accept_rate":67,"display_name":"codeX"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1446884908,"creation_date":1446884908,"answer_id":33580757,"question_id":22953084,"body_markdown":"I have also encountered this error . Just i opened the new window ie Window -&gt; New Window in eclipse .Then , I closed my old window. This solved my problem.","title":"NullPointerException in eclipse in Eclipse itself at PartServiceImpl.internalFixContext","body":"<p>I have also encountered this error . Just i opened the new window ie Window -> New Window in eclipse .Then , I closed my old window. This solved my problem.</p>\n"},{"tags":[],"owner":{"account_id":2750864,"reputation":162,"user_id":2370297,"display_name":"Amitabh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1480220101,"creation_date":1480220101,"answer_id":40825695,"question_id":22953084,"body_markdown":"After exiting eclipse I moved .eclipse (found in the user&#39;s home directory) to .eclipse.old (just in case I may have had to undo). The error does not show up any more and my projects are working fine after restarting eclipse.\r\n\r\nCaution: I have a simple setup and this may not be the best for environments with advanced settings.\r\n\r\nI am posting this as a separate answer as previously listed methods did not work for me.","title":"NullPointerException in eclipse in Eclipse itself at PartServiceImpl.internalFixContext","body":"<p>After exiting eclipse I moved .eclipse (found in the user's home directory) to .eclipse.old (just in case I may have had to undo). The error does not show up any more and my projects are working fine after restarting eclipse.</p>\n\n<p>Caution: I have a simple setup and this may not be the best for environments with advanced settings.</p>\n\n<p>I am posting this as a separate answer as previously listed methods did not work for me.</p>\n"},{"tags":[],"owner":{"account_id":8069526,"reputation":11,"user_id":9349716,"display_name":"snipersap"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1572968767,"creation_date":1572968767,"answer_id":58714848,"question_id":22953084,"body_markdown":"I faced the same error, but only with files cloned from git that were assigned to a proprietary plugin. \r\nI realized that even after cloning the files from git, I needed to create a new project or import a project in eclipse and this resolved the error.\r\n\r\n","title":"NullPointerException in eclipse in Eclipse itself at PartServiceImpl.internalFixContext","body":"<p>I faced the same error, but only with files cloned from git that were assigned to a proprietary plugin. \nI realized that even after cloning the files from git, I needed to create a new project or import a project in eclipse and this resolved the error.</p>\n"},{"tags":[],"owner":{"account_id":5247488,"reputation":235,"user_id":4192690,"accept_rate":0,"display_name":"rajkumar chilukuri"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684897460,"creation_date":1684897460,"answer_id":76319850,"question_id":22953084,"body_markdown":"**This solution also works fine!!**\r\nI also faced this problem for some files only in eclipse not for all the files.\r\n\r\nWhen below solutions doesn&#39;t works\r\n\r\n 1. After Doing eclipse restart\r\n 2. After cleaning\r\n 3. After opening new window \r\n\r\n\r\n**Solution:-**\r\n\r\n 1. Please take the back up of your file from your eclipse workspace\r\n 2. Delete the file from your workspace\r\n 3. Create the file with the same name and save the code from the backup file\r\n 4. Then it started working fine!!\r\n\r\nThis is working fine!!. You may try this as well.","title":"NullPointerException in eclipse in Eclipse itself at PartServiceImpl.internalFixContext","body":"<p><strong>This solution also works fine!!</strong>\nI also faced this problem for some files only in eclipse not for all the files.</p>\n<p>When below solutions doesn't works</p>\n<ol>\n<li>After Doing eclipse restart</li>\n<li>After cleaning</li>\n<li>After opening new window</li>\n</ol>\n<p><strong>Solution:-</strong></p>\n<ol>\n<li>Please take the back up of your file from your eclipse workspace</li>\n<li>Delete the file from your workspace</li>\n<li>Create the file with the same name and save the code from the backup file</li>\n<li>Then it started working fine!!</li>\n</ol>\n<p>This is working fine!!. You may try this as well.</p>\n"}],"owner":{"account_id":3009030,"reputation":299,"user_id":2552916,"accept_rate":50,"display_name":"King_Dark"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":144814,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"accepted_answer_id":22953119,"answer_count":7,"score":23,"last_activity_date":1684897460,"creation_date":1397019358,"question_id":22953084,"body_markdown":"I have a problem about eclipse IDE, I can&#39;t open any file in my work space; if I try to open file, eclipse will alert the following error dialog \r\n\r\n    &quot;An error has occurred. See error log for more details. java.lang.NullPointerException&quot;\r\n\r\nI go to see .log file in .meta at workspace and I see a paragraph in the file like this:\r\n\r\n\r\n    !ENTRY org.eclipse.jface 4 2 2557-04-09 11:40:49.422\r\n    !MESSAGE Problems occurred when invoking code from plug-in: &quot;org.eclipse.jface&quot;.\r\n    !STACK 0\r\n    java.lang.NullPointerException\r\n    \tat org.eclipse.e4.ui.internal.workbench.PartServiceImpl.internalFixContext(PartServiceImpl.java:380)\r\n    \tat org.eclipse.e4.ui.internal.workbench.PartServiceImpl.bringToTop(PartServiceImpl.java:341)\r\n    \tat org.eclipse.e4.ui.internal.workbench.PartServiceImpl.showPart(PartServiceImpl.java:1029)\r\n    \tat org.eclipse.ui.internal.WorkbenchPage.busyOpenEditor(WorkbenchPage.java:3047)\r\n    \tat org.eclipse.ui.internal.WorkbenchPage.access$22(WorkbenchPage.java:2969)\r\n    \tat org.eclipse.ui.internal.WorkbenchPage$8.run(WorkbenchPage.java:2951)\r\n    \tat org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:70)\r\n    \tat org.eclipse.ui.internal.WorkbenchPage.openEditor(WorkbenchPage.java:2947)\r\n    \tat org.eclipse.ui.internal.WorkbenchPage.openEditor(WorkbenchPage.java:2911)\r\n    \tat org.eclipse.ui.internal.WorkbenchPage.openEditor(WorkbenchPage.java:2902)\r\n    \tat org.eclipse.ui.ide.IDE.openEditor(IDE.java:655)\r\n    \tat org.eclipse.ui.ide.IDE.openEditor(IDE.java:614)\r\n    \tat org.eclipse.jdt.internal.ui.javaeditor.EditorUtility.openInEditor(EditorUtility.java:360)\r\n    \tat org.eclipse.jdt.internal.ui.javaeditor.EditorUtility.openInEditor(EditorUtility.java:167)\r\n    \tat org.eclipse.jdt.ui.actions.OpenAction.run(OpenAction.java:249)\r\n    \tat org.eclipse.jdt.ui.actions.OpenAction.run(OpenAction.java:228)\r\n    \tat org.eclipse.jdt.ui.actions.SelectionDispatchAction.dispatchRun(SelectionDispatchAction.java:275)\r\n    \tat org.eclipse.jdt.ui.actions.SelectionDispatchAction.run(SelectionDispatchAction.java:251)\r\n    \tat org.eclipse.jdt.internal.ui.packageview.PackageExplorerActionGroup.handleOpen(PackageExplorerActionGroup.java:376)\r\n    \tat org.eclipse.jdt.internal.ui.packageview.PackageExplorerPart$4.open(PackageExplorerPart.java:538)\r\n    \tat org.eclipse.ui.OpenAndLinkWithEditorHelper$InternalListener.open(OpenAndLinkWithEditorHelper.java:48)\r\n    \tat org.eclipse.jface.viewers.StructuredViewer$2.run(StructuredViewer.java:866)\r\n    \tat org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:42)\r\n    \tat org.eclipse.ui.internal.JFaceUtil$1.run(JFaceUtil.java:49)\r\n    \tat org.eclipse.jface.util.SafeRunnable.run(SafeRunnable.java:175)\r\n    \tat org.eclipse.jface.viewers.StructuredViewer.fireOpen(StructuredViewer.java:864)\r\n    \tat org.eclipse.jface.viewers.StructuredViewer.handleOpen(StructuredViewer.java:1152)\r\n    \tat org.eclipse.jface.viewers.StructuredViewer$6.handleOpen(StructuredViewer.java:1256)\r\n    \tat org.eclipse.jface.util.OpenStrategy.fireOpenEvent(OpenStrategy.java:275)\r\n    \tat org.eclipse.jface.util.OpenStrategy.access$2(OpenStrategy.java:269)\r\n    \tat org.eclipse.jface.util.OpenStrategy$1.handleEvent(OpenStrategy.java:309)\r\n    \tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84)\r\n    \tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1053)\r\n    \tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:4169)\r\n    \tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3758)\r\n    \tat org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$9.run(PartRenderingEngine.java:1053)\r\n    \tat org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332)\r\n    \tat org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(PartRenderingEngine.java:942)\r\n    \tat org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(E4Workbench.java:86)\r\n    \tat org.eclipse.ui.internal.Workbench$5.run(Workbench.java:588)\r\n    \tat org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332)\r\n    \tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:543)\r\n    \tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)\r\n    \tat org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:124)\r\n    \tat org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:196)\r\n    \tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110)\r\n    \tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79)\r\n    \tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:353)\r\n    \tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:180)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat java.lang.reflect.Method.invoke(Unknown Source)\r\n    \tat org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:629)\r\n    \tat org.eclipse.equinox.launcher.Main.basicRun(Main.java:584)\r\n    \tat org.eclipse.equinox.launcher.Main.run(Main.java:1438)\r\n    \tat org.eclipse.equinox.launcher.Main.main(Main.java:1414)\r\n\r\n\r\nHow can I solve this problem - any idea?","title":"NullPointerException in eclipse in Eclipse itself at PartServiceImpl.internalFixContext","body":"<p>I have a problem about eclipse IDE, I can't open any file in my work space; if I try to open file, eclipse will alert the following error dialog </p>\n\n<pre><code>\"An error has occurred. See error log for more details. java.lang.NullPointerException\"\n</code></pre>\n\n<p>I go to see .log file in .meta at workspace and I see a paragraph in the file like this:</p>\n\n<pre><code>!ENTRY org.eclipse.jface 4 2 2557-04-09 11:40:49.422\n!MESSAGE Problems occurred when invoking code from plug-in: \"org.eclipse.jface\".\n!STACK 0\njava.lang.NullPointerException\n    at org.eclipse.e4.ui.internal.workbench.PartServiceImpl.internalFixContext(PartServiceImpl.java:380)\n    at org.eclipse.e4.ui.internal.workbench.PartServiceImpl.bringToTop(PartServiceImpl.java:341)\n    at org.eclipse.e4.ui.internal.workbench.PartServiceImpl.showPart(PartServiceImpl.java:1029)\n    at org.eclipse.ui.internal.WorkbenchPage.busyOpenEditor(WorkbenchPage.java:3047)\n    at org.eclipse.ui.internal.WorkbenchPage.access$22(WorkbenchPage.java:2969)\n    at org.eclipse.ui.internal.WorkbenchPage$8.run(WorkbenchPage.java:2951)\n    at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:70)\n    at org.eclipse.ui.internal.WorkbenchPage.openEditor(WorkbenchPage.java:2947)\n    at org.eclipse.ui.internal.WorkbenchPage.openEditor(WorkbenchPage.java:2911)\n    at org.eclipse.ui.internal.WorkbenchPage.openEditor(WorkbenchPage.java:2902)\n    at org.eclipse.ui.ide.IDE.openEditor(IDE.java:655)\n    at org.eclipse.ui.ide.IDE.openEditor(IDE.java:614)\n    at org.eclipse.jdt.internal.ui.javaeditor.EditorUtility.openInEditor(EditorUtility.java:360)\n    at org.eclipse.jdt.internal.ui.javaeditor.EditorUtility.openInEditor(EditorUtility.java:167)\n    at org.eclipse.jdt.ui.actions.OpenAction.run(OpenAction.java:249)\n    at org.eclipse.jdt.ui.actions.OpenAction.run(OpenAction.java:228)\n    at org.eclipse.jdt.ui.actions.SelectionDispatchAction.dispatchRun(SelectionDispatchAction.java:275)\n    at org.eclipse.jdt.ui.actions.SelectionDispatchAction.run(SelectionDispatchAction.java:251)\n    at org.eclipse.jdt.internal.ui.packageview.PackageExplorerActionGroup.handleOpen(PackageExplorerActionGroup.java:376)\n    at org.eclipse.jdt.internal.ui.packageview.PackageExplorerPart$4.open(PackageExplorerPart.java:538)\n    at org.eclipse.ui.OpenAndLinkWithEditorHelper$InternalListener.open(OpenAndLinkWithEditorHelper.java:48)\n    at org.eclipse.jface.viewers.StructuredViewer$2.run(StructuredViewer.java:866)\n    at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:42)\n    at org.eclipse.ui.internal.JFaceUtil$1.run(JFaceUtil.java:49)\n    at org.eclipse.jface.util.SafeRunnable.run(SafeRunnable.java:175)\n    at org.eclipse.jface.viewers.StructuredViewer.fireOpen(StructuredViewer.java:864)\n    at org.eclipse.jface.viewers.StructuredViewer.handleOpen(StructuredViewer.java:1152)\n    at org.eclipse.jface.viewers.StructuredViewer$6.handleOpen(StructuredViewer.java:1256)\n    at org.eclipse.jface.util.OpenStrategy.fireOpenEvent(OpenStrategy.java:275)\n    at org.eclipse.jface.util.OpenStrategy.access$2(OpenStrategy.java:269)\n    at org.eclipse.jface.util.OpenStrategy$1.handleEvent(OpenStrategy.java:309)\n    at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84)\n    at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1053)\n    at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:4169)\n    at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3758)\n    at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$9.run(PartRenderingEngine.java:1053)\n    at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332)\n    at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(PartRenderingEngine.java:942)\n    at org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(E4Workbench.java:86)\n    at org.eclipse.ui.internal.Workbench$5.run(Workbench.java:588)\n    at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332)\n    at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:543)\n    at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)\n    at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:124)\n    at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:196)\n    at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110)\n    at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79)\n    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:353)\n    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:180)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.lang.reflect.Method.invoke(Unknown Source)\n    at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:629)\n    at org.eclipse.equinox.launcher.Main.basicRun(Main.java:584)\n    at org.eclipse.equinox.launcher.Main.run(Main.java:1438)\n    at org.eclipse.equinox.launcher.Main.main(Main.java:1414)\n</code></pre>\n\n<p>How can I solve this problem - any idea?</p>\n"},{"tags":["java","android","kotlin","lib","android-app-bundle"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1684923806,"post_id":76319801,"comment_id":134587480,"body_markdown":"`/vendor` is a path that is not writable by users, so you can not install your library there and thus not load it fromm that path,","body":"<code>&#47;vendor</code> is a path that is not writable by users, so you can not install your library there and thus not load it fromm that path,"}],"owner":{"account_id":20369824,"reputation":11,"user_id":14942248,"display_name":"ganggang"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1684896691,"creation_date":1684896493,"question_id":76319801,"body_markdown":"I always hit below error\r\n\r\n&gt; java.lang.UnsatisfiedLinkError: dlopen failed: library\r\n&gt; &quot;/vendor/lib64/libname.so&quot; not found\r\n\r\nthe lib create by myself with NDK build\r\n\r\nI add below code in MainActivity.kt\r\n```kotlin   \r\ninit {\r\n    val libPath = &quot;/vendor/lib64/libname.so&quot;\r\n\r\n    System.load(libPath)\r\n}\r\n```","title":"Android app how to load /vendor/lib64/libname.so","body":"<p>I always hit below error</p>\n<blockquote>\n<p>java.lang.UnsatisfiedLinkError: dlopen failed: library\n&quot;/vendor/lib64/libname.so&quot; not found</p>\n</blockquote>\n<p>the lib create by myself with NDK build</p>\n<p>I add below code in MainActivity.kt</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>init {\n    val libPath = &quot;/vendor/lib64/libname.so&quot;\n\n    System.load(libPath)\n}\n</code></pre>\n"},{"tags":["java","youtube","youtube-dl"],"comments":[{"owner":{"account_id":18991005,"reputation":1312,"user_id":13860286,"display_name":"Shila Mosammami"},"score":0,"creation_date":1684945278,"post_id":73980336,"comment_id":134592742,"body_markdown":"write the code you have tried so far?","body":"write the code you have tried so far?"}],"answers":[{"tags":[],"owner":{"account_id":27051861,"reputation":1,"user_id":20605098,"display_name":"Nguyễn Đức Tuấn Minh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684895559,"creation_date":1684895559,"answer_id":76319755,"question_id":73980336,"body_markdown":"I build my own library to extract Youtube Stream Link [kotlin-youtubeExtractor][1]. \r\n\r\nYou need to use Kotlin Coroutines with my library:\r\n\r\n    scope.launch {\r\n                val ytFiles = YTExtractor(context).getYtFile(videoId)\r\n                var streamUrl = ytFiles[251].url\r\n            }\r\n\r\nMore information in [kotlin-youtubeExtractor][1]\r\n\r\n\r\n  [1]: https://github.com/maxrave-dev/kotlin-youtubeExtractor","title":"How get direct download link for a video from YouTube in java?","body":"<p>I build my own library to extract Youtube Stream Link <a href=\"https://github.com/maxrave-dev/kotlin-youtubeExtractor\" rel=\"nofollow noreferrer\">kotlin-youtubeExtractor</a>.</p>\n<p>You need to use Kotlin Coroutines with my library:</p>\n<pre><code>scope.launch {\n            val ytFiles = YTExtractor(context).getYtFile(videoId)\n            var streamUrl = ytFiles[251].url\n        }\n</code></pre>\n<p>More information in <a href=\"https://github.com/maxrave-dev/kotlin-youtubeExtractor\" rel=\"nofollow noreferrer\">kotlin-youtubeExtractor</a></p>\n"}],"owner":{"account_id":21242837,"reputation":1,"user_id":15625997,"display_name":"Ahmed Ahmed"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684895559,"creation_date":1665092933,"question_id":73980336,"body_markdown":"I have tried the codes libraries and APIs and most of them did not work or are very old. I need a way to get a direct download link for a video from YouTube in java (android studio) and it is a permanent method and not a temporary method.  Thanks ","title":"How get direct download link for a video from YouTube in java?","body":"<p>I have tried the codes libraries and APIs and most of them did not work or are very old. I need a way to get a direct download link for a video from YouTube in java (android studio) and it is a permanent method and not a temporary method.  Thanks</p>\n"},{"tags":["java","json","spring-boot","struts2"],"comments":[{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1684949064,"post_id":76317411,"comment_id":134593566,"body_markdown":"What deserializer did you use?","body":"What deserializer did you use?"}],"answers":[{"comments":[{"owner":{"account_id":8135649,"reputation":276,"user_id":6127373,"accept_rate":31,"display_name":"Kona Laxman Deepak"},"score":0,"creation_date":1684932609,"post_id":76319733,"comment_id":134589523,"body_markdown":"Giving nulls for the dynamic keys as It is unable to parse the inner objects","body":"Giving nulls for the dynamic keys as It is unable to parse the inner objects"}],"tags":[],"owner":{"account_id":9013968,"reputation":275,"user_id":6717524,"display_name":"Lonie"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684895199,"creation_date":1684895199,"answer_id":76319733,"question_id":76317411,"body_markdown":"\r\n1. maybe you can create POJO with some JSONObject Field like this\r\n\r\n```java \r\nclass XXXPojo{\r\n    String id;\r\n    String userId;\r\n    ...\r\n    JSONObject parents;\r\n    JSONObject childs;\r\n    JSONObject fills;\r\n\r\n}\r\n\r\n```\r\n\r\n2. Use a POJO with all filed that can appear in ```parents```,```childs```,```fills```\r\n\r\n\r\n3. why dynamic key? maybe you can solve this problem if you solve dynamic key\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"What is the best way to create nested POJO classes for a dynamic JSON key in a Nested JSON?","body":"<ol>\n<li>maybe you can create POJO with some JSONObject Field like this</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>class XXXPojo{\n    String id;\n    String userId;\n    ...\n    JSONObject parents;\n    JSONObject childs;\n    JSONObject fills;\n\n}\n\n</code></pre>\n<ol start=\"2\">\n<li><p>Use a POJO with all filed that can appear in <code>parents</code>,<code>childs</code>,<code>fills</code></p>\n</li>\n<li><p>why dynamic key? maybe you can solve this problem if you solve dynamic key</p>\n</li>\n</ol>\n"}],"owner":{"account_id":8135649,"reputation":276,"user_id":6127373,"accept_rate":31,"display_name":"Kona Laxman Deepak"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1684895199,"creation_date":1684864032,"question_id":76317411,"body_markdown":"I am calling the rest service with a body as JSON. It is necessary to create a POJO class in Java, but I am unsure of how to do so for a dynamic JOSN key within a nested JSON object.\r\n\r\nThe keys are dynamic under parents, childs and fills. It would be great if someone suggests how to create nested POJO to do the same\r\n\r\n**JSON**\r\n```json\r\n{\r\n  &quot;Id&quot;: &quot;msft&quot;,\r\n  &quot;userId&quot;: &quot;john&quot;,\r\n  &quot;timezone&quot;: &quot;EST&quot;,\r\n  &quot;parents&quot;: {\r\n    &quot;symbol&quot;: {\r\n      &quot;displayName&quot;: &quot;symbol&quot;,\r\n      &quot;dataType&quot;: &quot;string&quot;,\r\n      &quot;aggregateType&quot;: &quot;sum&quot;,\r\n      &quot;isFrozen&quot;: true,\r\n      &quot;isDisplayed&quot;: true,\r\n      &quot;isJsonColumn&quot;: false,\r\n      &quot;rank&quot;: 1\r\n    },\r\n    &quot;date&quot;: {\r\n      &quot;displayName&quot;: &quot;date&quot;,\r\n      &quot;dataType&quot;: &quot;date&quot;,\r\n      &quot;aggregateType&quot;: &quot;sum&quot;,\r\n      &quot;isFrozen&quot;: true,\r\n      &quot;isDisplayed&quot;: true,\r\n      &quot;isJsonColumn&quot;: false,\r\n      &quot;rank&quot;: 2\r\n    }\r\n  },\r\n  &quot;childs&quot;: {\r\n    &quot;qty&quot;: {\r\n      &quot;displayName&quot;: &quot;qty&quot;,\r\n      &quot;dataType&quot;: &quot;string&quot;,\r\n      &quot;aggregateType&quot;: &quot;sum&quot;,\r\n      &quot;isFrozen&quot;: true,\r\n      &quot;isDisplayed&quot;: true,\r\n      &quot;isJsonColumn&quot;: false,\r\n      &quot;rank&quot;: 1\r\n    },\r\n    &quot;price&quot;: {\r\n      &quot;displayName&quot;: &quot;price&quot;,\r\n      &quot;dataType&quot;: &quot;date&quot;,\r\n      &quot;aggregateType&quot;: &quot;sum&quot;,\r\n      &quot;isFrozen&quot;: true,\r\n      &quot;isDisplayed&quot;: true,\r\n      &quot;isJsonColumn&quot;: false,\r\n      &quot;rank&quot;: 2\r\n    }\r\n  },\r\n  &quot;fills&quot;: {\r\n    &quot;account&quot;: {\r\n      &quot;displayName&quot;: &quot;account&quot;,\r\n      &quot;dataType&quot;: &quot;string&quot;,\r\n      &quot;aggregateType&quot;: &quot;sum&quot;,\r\n      &quot;isFrozen&quot;: true,\r\n      &quot;isDisplayed&quot;: true,\r\n      &quot;isJsonColumn&quot;: false,\r\n      &quot;rank&quot;: 1\r\n    },\r\n    &quot;name&quot;: {\r\n      &quot;displayName&quot;: &quot;name&quot;,\r\n      &quot;dataType&quot;: &quot;date&quot;,\r\n      &quot;aggregateType&quot;: &quot;sum&quot;,\r\n      &quot;isFrozen&quot;: true,\r\n      &quot;isDisplayed&quot;: true,\r\n      &quot;isJsonColumn&quot;: false,\r\n      &quot;rank&quot;: 2\r\n    }\r\n  }\r\n}\r\n```\r\n**POJO**\r\n\r\n**UserConfig**\r\n\r\n    public class UserConfig {\r\n    \tString Id;\r\n    \tString userId;\r\n    \tString timezone;\r\n    \tMap&lt;String,ColumnConfig&gt; parents;\r\n    \tMap&lt;String,ColumnConfig&gt; childs;\r\n    \tMap&lt;String,ColumnConfig&gt; fills;\r\n        // getters and setters\r\n    }\r\n\r\n**ColumnConfig**\r\n\r\n    public class ColumnConfig {\r\n    \tString displayName;\r\n    \tString dataType;\r\n    \tString aggregateTyep;\r\n    \tboolean isFrozen;\r\n    \tboolean isDisplayed;\r\n    \tboolean isJsonColumn;\r\n    \tint rank;\r\n        // getters and setters\r\n    }","title":"What is the best way to create nested POJO classes for a dynamic JSON key in a Nested JSON?","body":"<p>I am calling the rest service with a body as JSON. It is necessary to create a POJO class in Java, but I am unsure of how to do so for a dynamic JOSN key within a nested JSON object.</p>\n<p>The keys are dynamic under parents, childs and fills. It would be great if someone suggests how to create nested POJO to do the same</p>\n<p><strong>JSON</strong></p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;Id&quot;: &quot;msft&quot;,\n  &quot;userId&quot;: &quot;john&quot;,\n  &quot;timezone&quot;: &quot;EST&quot;,\n  &quot;parents&quot;: {\n    &quot;symbol&quot;: {\n      &quot;displayName&quot;: &quot;symbol&quot;,\n      &quot;dataType&quot;: &quot;string&quot;,\n      &quot;aggregateType&quot;: &quot;sum&quot;,\n      &quot;isFrozen&quot;: true,\n      &quot;isDisplayed&quot;: true,\n      &quot;isJsonColumn&quot;: false,\n      &quot;rank&quot;: 1\n    },\n    &quot;date&quot;: {\n      &quot;displayName&quot;: &quot;date&quot;,\n      &quot;dataType&quot;: &quot;date&quot;,\n      &quot;aggregateType&quot;: &quot;sum&quot;,\n      &quot;isFrozen&quot;: true,\n      &quot;isDisplayed&quot;: true,\n      &quot;isJsonColumn&quot;: false,\n      &quot;rank&quot;: 2\n    }\n  },\n  &quot;childs&quot;: {\n    &quot;qty&quot;: {\n      &quot;displayName&quot;: &quot;qty&quot;,\n      &quot;dataType&quot;: &quot;string&quot;,\n      &quot;aggregateType&quot;: &quot;sum&quot;,\n      &quot;isFrozen&quot;: true,\n      &quot;isDisplayed&quot;: true,\n      &quot;isJsonColumn&quot;: false,\n      &quot;rank&quot;: 1\n    },\n    &quot;price&quot;: {\n      &quot;displayName&quot;: &quot;price&quot;,\n      &quot;dataType&quot;: &quot;date&quot;,\n      &quot;aggregateType&quot;: &quot;sum&quot;,\n      &quot;isFrozen&quot;: true,\n      &quot;isDisplayed&quot;: true,\n      &quot;isJsonColumn&quot;: false,\n      &quot;rank&quot;: 2\n    }\n  },\n  &quot;fills&quot;: {\n    &quot;account&quot;: {\n      &quot;displayName&quot;: &quot;account&quot;,\n      &quot;dataType&quot;: &quot;string&quot;,\n      &quot;aggregateType&quot;: &quot;sum&quot;,\n      &quot;isFrozen&quot;: true,\n      &quot;isDisplayed&quot;: true,\n      &quot;isJsonColumn&quot;: false,\n      &quot;rank&quot;: 1\n    },\n    &quot;name&quot;: {\n      &quot;displayName&quot;: &quot;name&quot;,\n      &quot;dataType&quot;: &quot;date&quot;,\n      &quot;aggregateType&quot;: &quot;sum&quot;,\n      &quot;isFrozen&quot;: true,\n      &quot;isDisplayed&quot;: true,\n      &quot;isJsonColumn&quot;: false,\n      &quot;rank&quot;: 2\n    }\n  }\n}\n</code></pre>\n<p><strong>POJO</strong></p>\n<p><strong>UserConfig</strong></p>\n<pre><code>public class UserConfig {\n    String Id;\n    String userId;\n    String timezone;\n    Map&lt;String,ColumnConfig&gt; parents;\n    Map&lt;String,ColumnConfig&gt; childs;\n    Map&lt;String,ColumnConfig&gt; fills;\n    // getters and setters\n}\n</code></pre>\n<p><strong>ColumnConfig</strong></p>\n<pre><code>public class ColumnConfig {\n    String displayName;\n    String dataType;\n    String aggregateTyep;\n    boolean isFrozen;\n    boolean isDisplayed;\n    boolean isJsonColumn;\n    int rank;\n    // getters and setters\n}\n</code></pre>\n"},{"tags":["java","rot13"],"comments":[{"owner":{"account_id":50535,"reputation":35297,"user_id":150771,"accept_rate":83,"display_name":"Chris Thompson"},"score":0,"creation_date":1327371972,"post_id":8981296,"comment_id":11252926,"body_markdown":"@BNL I personally prefer rot104.  Requires a dedicated coprocessor though","body":"@BNL I personally prefer rot104.  Requires a dedicated coprocessor though"},{"owner":{"account_id":280520,"reputation":10492,"user_id":576267,"accept_rate":95,"display_name":"Regex Rookie"},"score":0,"creation_date":1327372359,"post_id":8981296,"comment_id":11252970,"body_markdown":"@BNL LOL who said it&#39;s for security purposes? See [this](http://stackoverflow.com/questions/3928903/what-are-some-practical-applications-of-the-rot13-algorithm)","body":"@BNL LOL who said it&#39;s for security purposes? See <a href=\"http://stackoverflow.com/questions/3928903/what-are-some-practical-applications-of-the-rot13-algorithm\">this</a>"},{"owner":{"account_id":6164,"reputation":126835,"user_id":10263,"accept_rate":100,"display_name":"Brian Rogers"},"score":14,"creation_date":1327388707,"post_id":8981296,"comment_id":11255513,"body_markdown":"By the way, rot13 is its own inverse, so you don&#39;t actually need an &quot;unrot13&quot; method.","body":"By the way, rot13 is its own inverse, so you don&#39;t actually need an &quot;unrot13&quot; method."}],"answers":[{"tags":[],"owner":{"account_id":50535,"reputation":35297,"user_id":150771,"accept_rate":83,"display_name":"Chris Thompson"},"comment_count":0,"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1392131690,"creation_date":1327371549,"answer_id":8981312,"question_id":8981296,"body_markdown":"I don&#39;t think it&#39;s part of Java by default, but here&#39;s an example of how you can implement it;\r\n\r\n    public class Rot13 { \r\n    \r\n        public static void main(String[] args) {\r\n            String s = args[0];\r\n            for (int i = 0; i &lt; s.length(); i++) {\r\n                char c = s.charAt(i);\r\n                if       (c &gt;= &#39;a&#39; &amp;&amp; c &lt;= &#39;m&#39;) c += 13;\r\n                else if  (c &gt;= &#39;A&#39; &amp;&amp; c &lt;= &#39;M&#39;) c += 13;\r\n                else if  (c &gt;= &#39;n&#39; &amp;&amp; c &lt;= &#39;z&#39;) c -= 13;\r\n                else if  (c &gt;= &#39;N&#39; &amp;&amp; c &lt;= &#39;Z&#39;) c -= 13;\r\n                System.out.print(c);\r\n            }\r\n            System.out.println();\r\n        }\r\n    \r\n    }\r\n\r\nSource: http://introcs.cs.princeton.edu/java/31datatype/Rot13.java.html\r\n","title":"ROT-13 function in java?","body":"<p>I don't think it's part of Java by default, but here's an example of how you can implement it;</p>\n\n<pre><code>public class Rot13 { \n\n    public static void main(String[] args) {\n        String s = args[0];\n        for (int i = 0; i &lt; s.length(); i++) {\n            char c = s.charAt(i);\n            if       (c &gt;= 'a' &amp;&amp; c &lt;= 'm') c += 13;\n            else if  (c &gt;= 'A' &amp;&amp; c &lt;= 'M') c += 13;\n            else if  (c &gt;= 'n' &amp;&amp; c &lt;= 'z') c -= 13;\n            else if  (c &gt;= 'N' &amp;&amp; c &lt;= 'Z') c -= 13;\n            System.out.print(c);\n        }\n        System.out.println();\n    }\n\n}\n</code></pre>\n\n<p>Source: <a href=\"http://introcs.cs.princeton.edu/java/31datatype/Rot13.java.html\">http://introcs.cs.princeton.edu/java/31datatype/Rot13.java.html</a></p>\n"},{"comments":[{"owner":{"account_id":285796,"reputation":13049,"user_id":584674,"accept_rate":86,"display_name":"james.garriss"},"score":0,"creation_date":1450372184,"post_id":17396786,"comment_id":56422132,"body_markdown":"Thanks for taking the time to put this into a method.","body":"Thanks for taking the time to put this into a method."},{"owner":{"account_id":83010,"reputation":27402,"user_id":233014,"display_name":"Christoffer Hammarstr&#246;m"},"score":3,"creation_date":1450372411,"post_id":17396786,"comment_id":56422278,"body_markdown":"Did you also copy http://introcs.cs.princeton.edu/java/31datatype/Rot13.java.html ?","body":"Did you also copy <a href=\"http://introcs.cs.princeton.edu/java/31datatype/Rot13.java.html\" rel=\"nofollow noreferrer\">introcs.cs.princeton.edu/java/31datatype/Rot13.java.html</a> ?"},{"owner":{"account_id":18435778,"reputation":49,"user_id":13429664,"display_name":"Hamid Habibi"},"score":0,"creation_date":1655270916,"post_id":17396786,"comment_id":128289787,"body_markdown":"how can I add numbers to this function? 0-9 i want to rotate a-zA-Z0-9, kind of a caseSensitive rot18","body":"how can I add numbers to this function? 0-9 i want to rotate a-zA-Z0-9, kind of a caseSensitive rot18"}],"tags":[],"owner":{"account_id":213874,"reputation":22213,"user_id":467509,"accept_rate":33,"display_name":"georgiecasey"},"comment_count":3,"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1372646571,"creation_date":1372646571,"answer_id":17396786,"question_id":8981296,"body_markdown":"Might as well contribute my function to save other developers the valuable seconds\r\n\r\n    public static String rot13(String input) {\r\n\t   StringBuilder sb = new StringBuilder();\r\n\t   for (int i = 0; i &lt; input.length(); i++) {\r\n\t\t   char c = input.charAt(i);\r\n\t\t   if       (c &gt;= &#39;a&#39; &amp;&amp; c &lt;= &#39;m&#39;) c += 13;\r\n\t\t   else if  (c &gt;= &#39;A&#39; &amp;&amp; c &lt;= &#39;M&#39;) c += 13;\r\n\t\t   else if  (c &gt;= &#39;n&#39; &amp;&amp; c &lt;= &#39;z&#39;) c -= 13;\r\n\t\t   else if  (c &gt;= &#39;N&#39; &amp;&amp; c &lt;= &#39;Z&#39;) c -= 13;\r\n\t\t   sb.append(c);\r\n\t   }\r\n\t   return sb.toString();\r\n    }\r\n","title":"ROT-13 function in java?","body":"<p>Might as well contribute my function to save other developers the valuable seconds</p>\n\n<pre><code>public static String rot13(String input) {\n   StringBuilder sb = new StringBuilder();\n   for (int i = 0; i &lt; input.length(); i++) {\n       char c = input.charAt(i);\n       if       (c &gt;= 'a' &amp;&amp; c &lt;= 'm') c += 13;\n       else if  (c &gt;= 'A' &amp;&amp; c &lt;= 'M') c += 13;\n       else if  (c &gt;= 'n' &amp;&amp; c &lt;= 'z') c -= 13;\n       else if  (c &gt;= 'N' &amp;&amp; c &lt;= 'Z') c -= 13;\n       sb.append(c);\n   }\n   return sb.toString();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":18420551,"reputation":404,"user_id":13418296,"display_name":"Generous Badger"},"score":0,"creation_date":1629967188,"post_id":68935139,"comment_id":121828709,"body_markdown":"Why copy the accepted message and make it worse by breaking the formatting and deleting some characters? What&#39;s the point of that?","body":"Why copy the accepted message and make it worse by breaking the formatting and deleting some characters? What&#39;s the point of that?"}],"tags":[],"owner":{"account_id":22571336,"reputation":1,"user_id":16757461,"display_name":"Mr Good"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1629966713,"creation_date":1629966713,"answer_id":68935139,"question_id":8981296,"body_markdown":"you be doing like dis:\r\n\r\npblic class Rot13 { \r\n\r\n    pblic static void main(Strng[] args) {\r\n        String s = args[0];\r\n        for (int i = 0; i &lt; s.length(); i++) {\r\n            char c = s.chrAt(i);\r\n            if       (c &gt;= &#39;a&#39; &amp; c &lt;= &#39;m&#39;) c += 13;\r\n            els if  (c &gt;= &#39;A&#39; &amp; c &lt;= &#39;M&#39;) c += 13;\r\n            els if  (c &gt;= &#39;n&#39; &amp; c &lt;= &#39;z&#39;) c -= 13;\r\n            els if  (c &gt;= &#39;N&#39; &amp; c &lt;= &#39;Z&#39;) c -= 13;\r\n            System.out.print(c);\r\n        }\r\n        System.out.println();\r\n    }\r\n","title":"ROT-13 function in java?","body":"<p>you be doing like dis:</p>\n<p>pblic class Rot13 {</p>\n<pre><code>pblic static void main(Strng[] args) {\n    String s = args[0];\n    for (int i = 0; i &lt; s.length(); i++) {\n        char c = s.chrAt(i);\n        if       (c &gt;= 'a' &amp; c &lt;= 'm') c += 13;\n        els if  (c &gt;= 'A' &amp; c &lt;= 'M') c += 13;\n        els if  (c &gt;= 'n' &amp; c &lt;= 'z') c -= 13;\n        els if  (c &gt;= 'N' &amp; c &lt;= 'Z') c -= 13;\n        System.out.print(c);\n    }\n    System.out.println();\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user16123931"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632389679,"creation_date":1632389679,"answer_id":69297524,"question_id":8981296,"body_markdown":"    private final static List&lt;String&gt; upperAlphabets = Arrays.asList(\r\n            &quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;E&quot;, &quot;F&quot;, &quot;G&quot;,\r\n            &quot;H&quot;, &quot;I&quot;, &quot;J&quot;, &quot;K&quot;, &quot;L&quot;, &quot;M&quot;, &quot;N&quot;,\r\n            &quot;O&quot;, &quot;P&quot;, &quot;Q&quot;, &quot;R&quot;, &quot;S&quot;, &quot;T&quot;, &quot;U&quot;,\r\n            &quot;V&quot;, &quot;W&quot;, &quot;X&quot;, &quot;Y&quot;, &quot;Z&quot;);\r\n    private final static List&lt;String&gt; lowerAlphabets = Arrays.asList(\r\n            &quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;, &quot;f&quot;, &quot;g&quot;,\r\n            &quot;h&quot;, &quot;i&quot;, &quot;j&quot;, &quot;k&quot;, &quot;l&quot;, &quot;m&quot;, &quot;n&quot;,\r\n            &quot;o&quot;, &quot;p&quot;, &quot;q&quot;, &quot;r&quot;, &quot;s&quot;, &quot;t&quot;, &quot;u&quot;,\r\n            &quot;v&quot;, &quot;w&quot;, &quot;x&quot;, &quot;y&quot;, &quot;z&quot;);\r\n\r\n     private static void rot(int toSkip, String value) {\r\n            StringBuilder sb = new StringBuilder();\r\n            int pos = 0, newPos = 0;\r\n            boolean upper;\r\n            for (char c : value.toCharArray()) {\r\n                pos = upperAlphabets.indexOf(String.valueOf(c));\r\n                if (pos == -1) {\r\n                    pos = lowerAlphabets.indexOf(String.valueOf(c));\r\n                    upper = false;\r\n                } else {\r\n                    upper = true;\r\n                }\r\n    \r\n                if (pos + toSkip &gt; 25) {\r\n                    newPos = (pos + toSkip) % 26;\r\n                } else {\r\n                    newPos = pos + toSkip;\r\n                }\r\n    \r\n                if (upper) {\r\n                    sb.append(upperAlphabets.get(newPos));\r\n                } else {\r\n                    sb.append(lowerAlphabets.get(newPos));\r\n                }\r\n            }\r\n            System.out.println(sb);\r\n        }\r\n\r\nThis is not only about rot13, this can do rot100 or rot1213 anything depending upon what value you are passing and the most important thing is that both list of upper case and lower case alphabets are must.","title":"ROT-13 function in java?","body":"<pre><code>private final static List&lt;String&gt; upperAlphabets = Arrays.asList(\n        &quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;E&quot;, &quot;F&quot;, &quot;G&quot;,\n        &quot;H&quot;, &quot;I&quot;, &quot;J&quot;, &quot;K&quot;, &quot;L&quot;, &quot;M&quot;, &quot;N&quot;,\n        &quot;O&quot;, &quot;P&quot;, &quot;Q&quot;, &quot;R&quot;, &quot;S&quot;, &quot;T&quot;, &quot;U&quot;,\n        &quot;V&quot;, &quot;W&quot;, &quot;X&quot;, &quot;Y&quot;, &quot;Z&quot;);\nprivate final static List&lt;String&gt; lowerAlphabets = Arrays.asList(\n        &quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;, &quot;f&quot;, &quot;g&quot;,\n        &quot;h&quot;, &quot;i&quot;, &quot;j&quot;, &quot;k&quot;, &quot;l&quot;, &quot;m&quot;, &quot;n&quot;,\n        &quot;o&quot;, &quot;p&quot;, &quot;q&quot;, &quot;r&quot;, &quot;s&quot;, &quot;t&quot;, &quot;u&quot;,\n        &quot;v&quot;, &quot;w&quot;, &quot;x&quot;, &quot;y&quot;, &quot;z&quot;);\n\n private static void rot(int toSkip, String value) {\n        StringBuilder sb = new StringBuilder();\n        int pos = 0, newPos = 0;\n        boolean upper;\n        for (char c : value.toCharArray()) {\n            pos = upperAlphabets.indexOf(String.valueOf(c));\n            if (pos == -1) {\n                pos = lowerAlphabets.indexOf(String.valueOf(c));\n                upper = false;\n            } else {\n                upper = true;\n            }\n\n            if (pos + toSkip &gt; 25) {\n                newPos = (pos + toSkip) % 26;\n            } else {\n                newPos = pos + toSkip;\n            }\n\n            if (upper) {\n                sb.append(upperAlphabets.get(newPos));\n            } else {\n                sb.append(lowerAlphabets.get(newPos));\n            }\n        }\n        System.out.println(sb);\n    }\n</code></pre>\n<p>This is not only about rot13, this can do rot100 or rot1213 anything depending upon what value you are passing and the most important thing is that both list of upper case and lower case alphabets are must.</p>\n"},{"tags":[],"owner":{"account_id":12526775,"reputation":163,"user_id":9116291,"display_name":"gokul656"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684894969,"creation_date":1684894969,"answer_id":76319719,"question_id":8981296,"body_markdown":"Sometimes inputs might have special characters, so it&#39;s better to include them.\r\n\r\n        String input = &quot;Do you have any cat pictures?&quot;;\r\n        StringBuilder op = new StringBuilder();\r\n\r\n        for (int i = 0; i &lt; input.length(); i++) {\r\n            char c = input.charAt(i);\r\n\r\n            if (c == &#39; &#39;) {\r\n                op.append(&quot; &quot;);\r\n            } else if (c &gt;= &#39;a&#39; &amp;&amp; c &lt;= &#39;z&#39;) {\r\n                if (c &gt; &#39;m&#39;) c -= 13;\r\n                else c += 13;\r\n                op.append(c);\r\n            } else if (c &gt;= &#39;A&#39; &amp;&amp; c &lt;= &#39;Z&#39;) {\r\n                if (c &gt; &#39;M&#39;) c -= 13;\r\n                else c += 13;\r\n                op.append(c);\r\n            } else {\r\n                op.append(c);\r\n            }\r\n        }","title":"ROT-13 function in java?","body":"<p>Sometimes inputs might have special characters, so it's better to include them.</p>\n<pre><code>    String input = &quot;Do you have any cat pictures?&quot;;\n    StringBuilder op = new StringBuilder();\n\n    for (int i = 0; i &lt; input.length(); i++) {\n        char c = input.charAt(i);\n\n        if (c == ' ') {\n            op.append(&quot; &quot;);\n        } else if (c &gt;= 'a' &amp;&amp; c &lt;= 'z') {\n            if (c &gt; 'm') c -= 13;\n            else c += 13;\n            op.append(c);\n        } else if (c &gt;= 'A' &amp;&amp; c &lt;= 'Z') {\n            if (c &gt; 'M') c -= 13;\n            else c += 13;\n            op.append(c);\n        } else {\n            op.append(c);\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":280520,"reputation":10492,"user_id":576267,"accept_rate":95,"display_name":"Regex Rookie"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30845,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":8981312,"answer_count":5,"score":20,"last_activity_date":1684894969,"creation_date":1327371419,"question_id":8981296,"body_markdown":"Is there already a `rot13()` and `unrot13()` implementation as part of one of the standard Java libraries?  Or do I have to write it myself and &quot;reinvent the wheel&quot;?\r\n\r\nIt might look something like this:\r\n\r\n    int rot13 ( int c ) { \r\n      if ( (c &gt;= &#39;A&#39;) &amp;&amp; (c &lt;= &#39;Z&#39;) ) \r\n        c=(((c-&#39;A&#39;)+13)%26)+&#39;A&#39;;\r\n    \r\n      if ( (c &gt;= &#39;a&#39;) &amp;&amp; (c &lt;= &#39;z&#39;) )\r\n        c=(((c-&#39;a&#39;)+13)%26)+&#39;a&#39;;\r\n     \r\n      return c; \r\n    }\r\n\r\n","title":"ROT-13 function in java?","body":"<p>Is there already a <code>rot13()</code> and <code>unrot13()</code> implementation as part of one of the standard Java libraries?  Or do I have to write it myself and \"reinvent the wheel\"?</p>\n\n<p>It might look something like this:</p>\n\n<pre><code>int rot13 ( int c ) { \n  if ( (c &gt;= 'A') &amp;&amp; (c &lt;= 'Z') ) \n    c=(((c-'A')+13)%26)+'A';\n\n  if ( (c &gt;= 'a') &amp;&amp; (c &lt;= 'z') )\n    c=(((c-'a')+13)%26)+'a';\n\n  return c; \n}\n</code></pre>\n"},{"tags":["java","maven","jenkins"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":2,"creation_date":1684808540,"post_id":76310846,"comment_id":134567445,"body_markdown":"Do not use images for textual information like logs and configurations in Stackoverlow.","body":"Do not use images for textual information like logs and configurations in Stackoverlow."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1684829305,"post_id":76310846,"comment_id":134570294,"body_markdown":"First using this: `org.apache.maven.plugins:maven-resources-plugin:2.6:resources (default-resources) on project ruoyi-admin: /BOOT-INF/lib/cesiumlanguagewriter-2.20.1.jar`. on a spring boot project looks completely wrong... I don&#39;t know what you are trying to do here? Packaging of the jar in spring boot the spring-boot-maven-plugin is intended to handle that apart from that you use using an very old version of Maven. Furthermore using `-f ` option in Jenkins build looks a bit strange to be honest... why do you need that? The project can be built from root location...via configuration...","body":"First using this: <code>org.apache.maven.plugins:maven-resources-plugin:2.6:resource&zwnj;&#8203;s (default-resources) on project ruoyi-admin: &#47;BOOT-INF&#47;lib&#47;cesiumlanguagewriter-2.20.1.jar</code>. on a spring boot project looks completely wrong... I don&#39;t know what you are trying to do here? Packaging of the jar in spring boot the spring-boot-maven-plugin is intended to handle that apart from that you use using an very old version of Maven. Furthermore using <code>-f </code> option in Jenkins build looks a bit strange to be honest... why do you need that? The project can be built from root location...via configuration..."},{"owner":{"account_id":8675801,"reputation":203,"user_id":6493251,"display_name":"xubeiyan"},"score":0,"creation_date":1684894753,"post_id":76310846,"comment_id":134582969,"body_markdown":"@khmarbaise first question, cause `cesiumlanguagewriter-2.20.1.jar` is a local jar we build, we can not find it on the public maven repo. The second quesition, the Jenkins use of `-f` was not defined by us, it&#39;s the default by Jenkins. I think your opinion is right, it may cause by the folder Jenkins choose to run maven was wrong, so it can&#39;t find the external jar file.","body":"@khmarbaise first question, cause <code>cesiumlanguagewriter-2.20.1.jar</code> is a local jar we build, we can not find it on the public maven repo. The second quesition, the Jenkins use of <code>-f</code> was not defined by us, it&#39;s the default by Jenkins. I think your opinion is right, it may cause by the folder Jenkins choose to run maven was wrong, so it can&#39;t find the external jar file."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1684911021,"post_id":76310846,"comment_id":134584623,"body_markdown":"Start using a repository manager / Proxy and deploy your own artifacts there...","body":"Start using a repository manager / Proxy and deploy your own artifacts there..."}],"answers":[{"comments":[{"owner":{"account_id":8675801,"reputation":203,"user_id":6493251,"display_name":"xubeiyan"},"score":0,"creation_date":1684809307,"post_id":76310939,"comment_id":134567514,"body_markdown":"that `cesiumlanguagewriter-2.20.1.jar` jar is built before maven start building, I try to install it in the maven local path","body":"that <code>cesiumlanguagewriter-2.20.1.jar</code> jar is built before maven start building, I try to install it in the maven local path"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1684810125,"post_id":76310939,"comment_id":134567579,"body_markdown":"You should publish it to a Maven repository, the local one or a remote one. Don&#39;t treat a library as a resource.","body":"You should publish it to a Maven repository, the local one or a remote one. Don&#39;t treat a library as a resource."}],"tags":[],"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684808889,"creation_date":1684808500,"answer_id":76310939,"question_id":76310846,"body_markdown":"You are not building that jar. You are telling Maven that it is to be found at a given directory relative to the project directory. It seems that in the Jenkins build that directory is set to a path where that jar is not there:\r\n```\r\n/BOOT-INF/lib/cesiumlangua\r\ngewriter-2.20.1.jar (No such file or directory)\r\n```\r\nYou didn&#39;t share enough information to find more but if you are using a Maven plugin to copy the jar file it maybe filtering a jar file because it is not supposed to do that.","title":"Jenkins fails to build Java project if local jar file included in pom.xml","body":"<p>You are not building that jar. You are telling Maven that it is to be found at a given directory relative to the project directory. It seems that in the Jenkins build that directory is set to a path where that jar is not there:</p>\n<pre><code>/BOOT-INF/lib/cesiumlangua\ngewriter-2.20.1.jar (No such file or directory)\n</code></pre>\n<p>You didn't share enough information to find more but if you are using a Maven plugin to copy the jar file it maybe filtering a jar file because it is not supposed to do that.</p>\n"},{"tags":[],"owner":{"account_id":8675801,"reputation":203,"user_id":6493251,"display_name":"xubeiyan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684894908,"creation_date":1684812838,"answer_id":76311140,"question_id":76310846,"body_markdown":"after a long time struggle, I found a solution: Edit `ruoyi-admin\\pom.xml`,\r\n\r\nremove all the resource part in `&lt;build&gt;`\r\n```xml\r\n&lt;!-- REMOVE IT --&gt;\r\n&lt;resources&gt;\r\n  &lt;resource&gt;\r\n     &lt;directory&gt;lib&lt;/directory&gt;\r\n     &lt;targetPath&gt;/BOOT-INF/lib/&lt;/targetPath&gt;\r\n     &lt;includes&gt;\r\n        &lt;include&gt;**/*.jar&lt;/include&gt;\r\n     &lt;/includes&gt;\r\n  &lt;/resource&gt;\r\n&lt;/resources&gt;\r\n```\r\n\r\nadd one line here: \r\n```xml\r\n&lt;plugin&gt;\r\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n  &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n  &lt;version&gt;2.1.1.RELEASE&lt;/version&gt;\r\n  &lt;configuration&gt;\r\n    &lt;includeSystemScope&gt;true&lt;/includeSystemScope&gt; &lt;!-- HERE --&gt;\r\n    &lt;fork&gt;true&lt;/fork&gt; \r\n  &lt;/configuration&gt;\r\n  &lt;executions&gt;\r\n    &lt;execution&gt;\r\n      &lt;goals&gt;\r\n        &lt;goal&gt;repackage&lt;/goal&gt;\r\n      &lt;/goals&gt;\r\n    &lt;/execution&gt;\r\n  &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nsorry I just a newbie in Java and Maven, so why it can happen, I don&#39;t know\r\n\r\n**EDIT:** \r\n\r\nit may cause by the folder run maven bu Jenkins, I think if I change `&lt;targetPath&gt;/BOOT-INF/lib/&lt;/targetPath&gt;` to `&lt;targetPath&gt;BOOT-INF/lib/&lt;/targetPath&gt;`, it will work.","title":"Jenkins fails to build Java project if local jar file included in pom.xml","body":"<p>after a long time struggle, I found a solution: Edit <code>ruoyi-admin\\pom.xml</code>,</p>\n<p>remove all the resource part in <code>&lt;build&gt;</code></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!-- REMOVE IT --&gt;\n&lt;resources&gt;\n  &lt;resource&gt;\n     &lt;directory&gt;lib&lt;/directory&gt;\n     &lt;targetPath&gt;/BOOT-INF/lib/&lt;/targetPath&gt;\n     &lt;includes&gt;\n        &lt;include&gt;**/*.jar&lt;/include&gt;\n     &lt;/includes&gt;\n  &lt;/resource&gt;\n&lt;/resources&gt;\n</code></pre>\n<p>add one line here:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n  &lt;version&gt;2.1.1.RELEASE&lt;/version&gt;\n  &lt;configuration&gt;\n    &lt;includeSystemScope&gt;true&lt;/includeSystemScope&gt; &lt;!-- HERE --&gt;\n    &lt;fork&gt;true&lt;/fork&gt; \n  &lt;/configuration&gt;\n  &lt;executions&gt;\n    &lt;execution&gt;\n      &lt;goals&gt;\n        &lt;goal&gt;repackage&lt;/goal&gt;\n      &lt;/goals&gt;\n    &lt;/execution&gt;\n  &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>sorry I just a newbie in Java and Maven, so why it can happen, I don't know</p>\n<p><strong>EDIT:</strong></p>\n<p>it may cause by the folder run maven bu Jenkins, I think if I change <code>&lt;targetPath&gt;/BOOT-INF/lib/&lt;/targetPath&gt;</code> to <code>&lt;targetPath&gt;BOOT-INF/lib/&lt;/targetPath&gt;</code>, it will work.</p>\n"}],"owner":{"account_id":8675801,"reputation":203,"user_id":6493251,"display_name":"xubeiyan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":287,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1684894908,"creation_date":1684806790,"question_id":76310846,"body_markdown":"This time we use `Jenkins` to help us to build Java, it used to work well, but if we add a local jar file, it failed. \r\n```\r\n...\r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-resources-plugin:2.6:resources (default-resources) on project ruoyi-admin: /BOOT-INF/lib/cesiumlanguagewriter-2.20.1.jar (No such file or directory) -&gt; [Help 1]\r\n[ERROR] \r\n[JENKINS] Archiving /var/lib/jenkins/workspace/qrd_back/ruoyi-system/pom.xml to com.ruoyi/ruoyi-system/3.8.5/ruoyi-system-3.8.5.pom\r\n[JENKINS] Archiving /var/lib/jenkins/workspace/qrd_back/ruoyi-system/target/ruoyi-system-3.8.5.jar to com.ruoyi/ruoyi-system/3.8.5/ruoyi-system-3.8.5.jar\r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR] \r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n[ERROR] \r\n[ERROR] After correcting the problems, you can resume the build with the command\r\n[ERROR]   mvn &lt;goals&gt; -rf :ruoyi-admin\r\n...\r\n```\r\n\r\nthis jar file `cesiumlanguagewriter-2.20.1.jar` is our local jar file, we include it in `ruoyi-admin\\pom.xml` file\r\n\r\n```java\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;parent&gt;\r\n        &lt;artifactId&gt;ruoyi&lt;/artifactId&gt;\r\n        &lt;groupId&gt;com.ruoyi&lt;/groupId&gt;\r\n        &lt;version&gt;3.8.5&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    &lt;artifactId&gt;ruoyi-admin&lt;/artifactId&gt;\r\n\r\n    &lt;dependencies&gt;\r\n\r\n        ......\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;cesiumlanguagewriter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cesiumlanguagewriter&lt;/artifactId&gt;\r\n            &lt;version&gt;2.20.1&lt;/version&gt;\r\n            &lt;scope&gt;system&lt;/scope&gt;\r\n            &lt;systemPath&gt;${project.basedir}/lib/cesiumlanguagewriter-2.20.1.jar&lt;/systemPath&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;resources&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;lib&lt;/directory&gt;\r\n                &lt;targetPath&gt;/BOOT-INF/lib/&lt;/targetPath&gt;\r\n                &lt;includes&gt;\r\n                    &lt;include&gt;**/*.jar&lt;/include&gt;\r\n                &lt;/includes&gt;\r\n            &lt;/resource&gt;\r\n        &lt;/resources&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                ...\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;   \r\n                ...\r\n           &lt;/plugin&gt;   \r\n        &lt;/plugins&gt;\r\n        &lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nit looks fine, and exactly, it can build with command `mvn clean package` in our local **Windows environment**, and in our local **Ubuntu environment**, but not enable to build in Jenkins, what are the difference between the Ubuntu environment and Jenkins? \r\n\r\nUbuntu and Jenkins use the same `Maven`, the difference between them may be the `settings.xml`, but because I am newbie in Java, so I can not find the difference between them\r\n\r\nthe mavn version on the Ubuntu(it can build success):\r\n```\r\njenkins@sakuramoyu:~/workspace/ruoyi_qrd$ mvn --version\r\nApache Maven 3.6.3\r\nMaven home: /usr/share/maven\r\nJava version: 11.0.19, vendor: Ubuntu, runtime: /usr/lib/jvm/java-11-openjdk-amd64\r\nDefault locale: en_US, platform encoding: UTF-8\r\nOS name: &quot;linux&quot;, version: &quot;5.15.0-71-generic&quot;, arch: &quot;amd64&quot;, family: &quot;unix&quot;\r\n```\r\n\r\n**Edit**\r\n\r\nThe command Jenkins use is `mvn -B -f /var/lib/jenkins/workspace/qrd_back/pom.xml clean package`, I think it will cause the problem, what are the difference between `mvn clean package`\r\n\r\n\r\n**Edit2**\r\n\r\nIf I run build with `mvn -B -f /var/lib/jenkins/workspace/qrd_back/pom.xml clean package -X`, it tells me \r\n\r\n```\r\n...\r\n[DEBUG] ignoreDelta true\r\n[INFO] Copying 1 resource to /BOOT-INF/lib/\r\n[DEBUG] file cesiumlanguagewriter-2.20.1.jar has a filtered file extension\r\n[DEBUG] copy /var/lib/jenkins/workspace/qrd_back/ruoyi-admin/lib/cesiumlanguagewriter-2.20.1.jar to /BOOT-INF/lib/cesiumlanguagewriter-2.20.1.jar\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Reactor Summary for ruoyi 3.8.5:\r\n[INFO]\r\n[INFO] ruoyi .............................................. SUCCESS [  0.186 s]\r\n[INFO] ruoyi-common ....................................... SUCCESS [  8.158 s]\r\n[INFO] ruoyi-system ....................................... SUCCESS [  2.043 s]\r\n[INFO] ruoyi-framework .................................... SUCCESS [  1.785 s]\r\n[INFO] ruoyi-quartz ....................................... SUCCESS [  1.148 s]\r\n[INFO] ruoyi-generator .................................... SUCCESS [  1.174 s]\r\n[INFO] ruoyi-admin ........................................ FAILURE [  0.701 s]\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  15.679 s\r\n[INFO] Finished at: 2023-05-23T09:40:23+08:00\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-resources-plugin:2.6:resources (default-resources) on project ruoyi-admin: /BOOT-INF/lib/cesiumlanguagewriter-2.20.1.jar (No such file or directory)\r\n-&gt; [Help 1]\r\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-resources-plugin:2.6:resources (default-resources) on project ruoyi-admin: /BOOT-INF/lib/cesiumlangua\r\ngewriter-2.20.1.jar (No such file or directory)\r\n...\r\n```\r\n\r\nit means the local jar file is filtered? so it can not find it?\r\n","title":"Jenkins fails to build Java project if local jar file included in pom.xml","body":"<p>This time we use <code>Jenkins</code> to help us to build Java, it used to work well, but if we add a local jar file, it failed.</p>\n<pre><code>...\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-resources-plugin:2.6:resources (default-resources) on project ruoyi-admin: /BOOT-INF/lib/cesiumlanguagewriter-2.20.1.jar (No such file or directory) -&gt; [Help 1]\n[ERROR] \n[JENKINS] Archiving /var/lib/jenkins/workspace/qrd_back/ruoyi-system/pom.xml to com.ruoyi/ruoyi-system/3.8.5/ruoyi-system-3.8.5.pom\n[JENKINS] Archiving /var/lib/jenkins/workspace/qrd_back/ruoyi-system/target/ruoyi-system-3.8.5.jar to com.ruoyi/ruoyi-system/3.8.5/ruoyi-system-3.8.5.jar\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n[ERROR] \n[ERROR] After correcting the problems, you can resume the build with the command\n[ERROR]   mvn &lt;goals&gt; -rf :ruoyi-admin\n...\n</code></pre>\n<p>this jar file <code>cesiumlanguagewriter-2.20.1.jar</code> is our local jar file, we include it in <code>ruoyi-admin\\pom.xml</code> file</p>\n<pre class=\"lang-java prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;parent&gt;\n        &lt;artifactId&gt;ruoyi&lt;/artifactId&gt;\n        &lt;groupId&gt;com.ruoyi&lt;/groupId&gt;\n        &lt;version&gt;3.8.5&lt;/version&gt;\n    &lt;/parent&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;artifactId&gt;ruoyi-admin&lt;/artifactId&gt;\n\n    &lt;dependencies&gt;\n\n        ......\n        &lt;dependency&gt;\n            &lt;groupId&gt;cesiumlanguagewriter&lt;/groupId&gt;\n            &lt;artifactId&gt;cesiumlanguagewriter&lt;/artifactId&gt;\n            &lt;version&gt;2.20.1&lt;/version&gt;\n            &lt;scope&gt;system&lt;/scope&gt;\n            &lt;systemPath&gt;${project.basedir}/lib/cesiumlanguagewriter-2.20.1.jar&lt;/systemPath&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;resources&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;lib&lt;/directory&gt;\n                &lt;targetPath&gt;/BOOT-INF/lib/&lt;/targetPath&gt;\n                &lt;includes&gt;\n                    &lt;include&gt;**/*.jar&lt;/include&gt;\n                &lt;/includes&gt;\n            &lt;/resource&gt;\n        &lt;/resources&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                ...\n            &lt;/plugin&gt;\n            &lt;plugin&gt;   \n                ...\n           &lt;/plugin&gt;   \n        &lt;/plugins&gt;\n        &lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>it looks fine, and exactly, it can build with command <code>mvn clean package</code> in our local <strong>Windows environment</strong>, and in our local <strong>Ubuntu environment</strong>, but not enable to build in Jenkins, what are the difference between the Ubuntu environment and Jenkins?</p>\n<p>Ubuntu and Jenkins use the same <code>Maven</code>, the difference between them may be the <code>settings.xml</code>, but because I am newbie in Java, so I can not find the difference between them</p>\n<p>the mavn version on the Ubuntu(it can build success):</p>\n<pre><code>jenkins@sakuramoyu:~/workspace/ruoyi_qrd$ mvn --version\nApache Maven 3.6.3\nMaven home: /usr/share/maven\nJava version: 11.0.19, vendor: Ubuntu, runtime: /usr/lib/jvm/java-11-openjdk-amd64\nDefault locale: en_US, platform encoding: UTF-8\nOS name: &quot;linux&quot;, version: &quot;5.15.0-71-generic&quot;, arch: &quot;amd64&quot;, family: &quot;unix&quot;\n</code></pre>\n<p><strong>Edit</strong></p>\n<p>The command Jenkins use is <code>mvn -B -f /var/lib/jenkins/workspace/qrd_back/pom.xml clean package</code>, I think it will cause the problem, what are the difference between <code>mvn clean package</code></p>\n<p><strong>Edit2</strong></p>\n<p>If I run build with <code>mvn -B -f /var/lib/jenkins/workspace/qrd_back/pom.xml clean package -X</code>, it tells me</p>\n<pre><code>...\n[DEBUG] ignoreDelta true\n[INFO] Copying 1 resource to /BOOT-INF/lib/\n[DEBUG] file cesiumlanguagewriter-2.20.1.jar has a filtered file extension\n[DEBUG] copy /var/lib/jenkins/workspace/qrd_back/ruoyi-admin/lib/cesiumlanguagewriter-2.20.1.jar to /BOOT-INF/lib/cesiumlanguagewriter-2.20.1.jar\n[INFO] ------------------------------------------------------------------------\n[INFO] Reactor Summary for ruoyi 3.8.5:\n[INFO]\n[INFO] ruoyi .............................................. SUCCESS [  0.186 s]\n[INFO] ruoyi-common ....................................... SUCCESS [  8.158 s]\n[INFO] ruoyi-system ....................................... SUCCESS [  2.043 s]\n[INFO] ruoyi-framework .................................... SUCCESS [  1.785 s]\n[INFO] ruoyi-quartz ....................................... SUCCESS [  1.148 s]\n[INFO] ruoyi-generator .................................... SUCCESS [  1.174 s]\n[INFO] ruoyi-admin ........................................ FAILURE [  0.701 s]\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  15.679 s\n[INFO] Finished at: 2023-05-23T09:40:23+08:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-resources-plugin:2.6:resources (default-resources) on project ruoyi-admin: /BOOT-INF/lib/cesiumlanguagewriter-2.20.1.jar (No such file or directory)\n-&gt; [Help 1]\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-resources-plugin:2.6:resources (default-resources) on project ruoyi-admin: /BOOT-INF/lib/cesiumlangua\ngewriter-2.20.1.jar (No such file or directory)\n...\n</code></pre>\n<p>it means the local jar file is filtered? so it can not find it?</p>\n"},{"tags":["java","elasticsearch","lucene"],"answers":[{"comments":[{"owner":{"account_id":10764224,"reputation":530,"user_id":7919756,"accept_rate":35,"display_name":"Alexandre S."},"score":0,"creation_date":1496148654,"post_id":44262614,"comment_id":75533504,"body_markdown":"Im on the IDE netbeans. I already add the `lucene-core-3.6.0.jar` librairie on my project. But It still didn&#39;t work, I got this error now :  `Exception in thread &quot;main&quot; java.lang.NoSuchFieldError: LUCENE_3_6`","body":"Im on the IDE netbeans. I already add the <code>lucene-core-3.6.0.jar</code> librairie on my project. But It still didn&#39;t work, I got this error now :  <code>Exception in thread &quot;main&quot; java.lang.NoSuchFieldError: LUCENE_3_6</code>"}],"tags":[],"owner":{"account_id":7253324,"reputation":2255,"user_id":5532829,"display_name":"RoshanKumar Mutha"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1684893561,"creation_date":1496148134,"answer_id":44262614,"question_id":44262487,"body_markdown":"As mentioned by [Mocky](https://stackoverflow.com/users/3211/mocky) in [this answer](https://stackoverflow.com/questions/34413/why-am-i-getting-a-noclassdeffounderror-in-java/34419#34419):\r\n\r\n&gt; This is caused when there is a class file that your code depends on\r\n&gt; and it is present at compile time but not found at runtime. Look for\r\n&gt; differences in your build time and runtime classpaths.\r\n\r\nSo, if using maven then add,\r\n\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;org.apache.lucene&lt;/groupId&gt;\r\n       &lt;artifactId&gt;lucene-core&lt;/artifactId&gt;\r\n       &lt;version&gt;3.6.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nif using gradle,\r\n\r\n// https://mvnrepository.com/artifact/org.apache.lucene/lucene-core\r\n\r\n    compile group: &#39;org.apache.lucene&#39;, name: &#39;lucene-core&#39;, version: &#39;3.6.0&#39;","title":"NoClassDefFoundError using elasticsearch in Java","body":"<p>As mentioned by <a href=\"https://stackoverflow.com/users/3211/mocky\">Mocky</a> in <a href=\"https://stackoverflow.com/questions/34413/why-am-i-getting-a-noclassdeffounderror-in-java/34419#34419\">this answer</a>:</p>\n<blockquote>\n<p>This is caused when there is a class file that your code depends on\nand it is present at compile time but not found at runtime. Look for\ndifferences in your build time and runtime classpaths.</p>\n</blockquote>\n<p>So, if using maven then add,</p>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.apache.lucene&lt;/groupId&gt;\n   &lt;artifactId&gt;lucene-core&lt;/artifactId&gt;\n   &lt;version&gt;3.6.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>if using gradle,</p>\n<p>// <a href=\"https://mvnrepository.com/artifact/org.apache.lucene/lucene-core\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.apache.lucene/lucene-core</a></p>\n<pre><code>compile group: 'org.apache.lucene', name: 'lucene-core', version: '3.6.0'\n</code></pre>\n"}],"owner":{"account_id":10764224,"reputation":530,"user_id":7919756,"accept_rate":35,"display_name":"Alexandre S."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1680,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1684893561,"creation_date":1496147793,"question_id":44262487,"body_markdown":"I want to use elasticsearch in my java application but when I try to connect to my Node, i had the following error \r\n\r\n`Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/lucene/util/Version`\r\n\r\nSo I install the lucene librairie (version 6.5.1) And I still the error.\r\nI&#39;m a beginner with elasticsearch so please tell me if I forgot a step","title":"NoClassDefFoundError using elasticsearch in Java","body":"<p>I want to use elasticsearch in my java application but when I try to connect to my Node, i had the following error </p>\n\n<p><code>Exception in thread \"main\" java.lang.NoClassDefFoundError: org/apache/lucene/util/Version</code></p>\n\n<p>So I install the lucene librairie (version 6.5.1) And I still the error.\nI'm a beginner with elasticsearch so please tell me if I forgot a step</p>\n"},{"tags":["java","ethereum","web3-java"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1512161031,"post_id":47601052,"comment_id":82161053,"body_markdown":"Please show your code instead of trying to describe it.","body":"Please show your code instead of trying to describe it."},{"owner":{"account_id":989772,"reputation":41,"user_id":1007404,"display_name":"Clement Pellerin"},"score":0,"creation_date":1512162412,"post_id":47601052,"comment_id":82161639,"body_markdown":"I rewrote my question.","body":"I rewrote my question."},{"owner":{"account_id":969568,"reputation":1150,"user_id":992366,"accept_rate":78,"display_name":"K.Niemczyk"},"score":0,"creation_date":1624046116,"post_id":47601052,"comment_id":120260044,"body_markdown":"Did you ever come up with a solution for this? I&#39;d also be curious how you generated that List&lt;Type&gt;.","body":"Did you ever come up with a solution for this? I&#39;d also be curious how you generated that List&lt;Type&gt;."}],"answers":[{"tags":[],"owner":{"account_id":12708274,"reputation":11,"user_id":9232753,"display_name":"zen"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639284694,"creation_date":1639284694,"answer_id":70321024,"question_id":47601052,"body_markdown":"uniswapV2 router   \r\n\r\nfunction getAmountsOut(uint amountIn, address[] calldata path) external view returns (uint[] memory amounts)\r\n\r\n    package com.test;\r\n    \r\n    import org.web3j.abi.FunctionEncoder;\r\n    import org.web3j.abi.FunctionReturnDecoder;\r\n    import org.web3j.abi.TypeReference;\r\n    import org.web3j.abi.datatypes.Address;\r\n    import org.web3j.abi.datatypes.DynamicArray;\r\n    import org.web3j.abi.datatypes.Function;\r\n    import org.web3j.abi.datatypes.Type;\r\n    import org.web3j.abi.datatypes.generated.Uint256;\r\n    import org.web3j.protocol.Web3j;\r\n    import org.web3j.protocol.core.DefaultBlockParameterName;\r\n    import org.web3j.protocol.core.methods.request.Transaction;\r\n    import org.web3j.protocol.core.methods.response.EthCall;\r\n    import org.web3j.protocol.http.HttpService;\r\n    \r\n    import java.io.IOException;\r\n    import java.math.BigInteger;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class main {\r\n        private static String EMPTY_ADDRESS = &quot;0x0000000000000000000000000000000000000000&quot;;\r\n        static Web3j web3j;\r\n        static String usdt = &quot;0x55d398326f99059fF775485246999027B3197955&quot;;\r\n        static String weth = &quot;0xbb4CdB9CBd36B01bD1cBaEBF2De08d9173bc095c&quot;;\r\n        static String pancakeRouter = &quot;0x10ed43c718714eb63d5aa57b78b54704e256024e&quot;;\r\n    \r\n        public static void main(String[] args) throws IOException {\r\n            web3j = Web3j.build(new HttpService(&quot;https://bsc-dataseed.binance.org/&quot;));\r\n            String s = web3j.netVersion().send().getNetVersion();\r\n            System.out.println(s);\r\n            List&lt;BigInteger&gt; list1 = getAmountsOut(usdt, weth);\r\n            System.out.println(&quot;result::: &quot;);\r\n            for (BigInteger a : list1) {\r\n                System.out.println(a);\r\n            }\r\n        }\r\n    \r\n        public static List&lt;BigInteger&gt; getAmountsOut(String tokenInAddr, String tokenOutAddr) {\r\n            String methodName = &quot;getAmountsOut&quot;;\r\n            String fromAddr = EMPTY_ADDRESS;\r\n            List&lt;Type&gt; inputParameters = new ArrayList&lt;Type&gt;();\r\n            Uint256 inAmount = new Uint256(new BigInteger(&quot;1000000000000000000&quot;));\r\n            Address inAddr = new Address(tokenInAddr);\r\n            Address outAddr = new Address(tokenOutAddr);\r\n            DynamicArray&lt;Address&gt; addrArr = new DynamicArray&lt;Address&gt;(inAddr, outAddr);\r\n    \r\n            inputParameters.add(inAmount);\r\n            inputParameters.add(addrArr);\r\n    \r\n            List&lt;TypeReference&lt;?&gt;&gt; outputParameters = new ArrayList&lt;TypeReference&lt;?&gt;&gt;();\r\n            TypeReference&lt;DynamicArray&lt;Uint256&gt;&gt; oa = new TypeReference&lt;DynamicArray&lt;Uint256&gt;&gt;() {\r\n            };\r\n            outputParameters.add(oa);\r\n    \r\n            Function function = new Function(methodName, inputParameters, outputParameters);\r\n            String data = FunctionEncoder.encode(function);\r\n            Transaction transaction = Transaction.createEthCallTransaction(fromAddr, pancakeRouter, data);\r\n    \r\n            EthCall ethCall;\r\n            try {\r\n                ethCall = web3j.ethCall(transaction, DefaultBlockParameterName.LATEST).sendAsync().get();\r\n                List&lt;Type&gt; results = FunctionReturnDecoder.decode(ethCall.getValue(), function.getOutputParameters());\r\n                System.out.println(results);\r\n                List&lt;BigInteger&gt; resultArr = new ArrayList&lt;&gt;();\r\n                if (results.size() &gt; 0) {\r\n                    for (Type tt : results) {\r\n                        DynamicArray&lt;Uint256&gt; da = (DynamicArray&lt;Uint256&gt;) tt;\r\n                        List&lt;Uint256&gt; lu = da.getValue();\r\n                        if (lu.size() &gt; 0) {\r\n                            for (Uint256 n : lu) {\r\n                                resultArr.add((BigInteger) n.getValue());\r\n                            }\r\n                        }\r\n                    }\r\n                    return resultArr;\r\n                }\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n            return null;\r\n        }\r\n    }\r\n\r\n\r\n","title":"In web3j, how do you create a TypeReference for array types discovered at runtime?","body":"<p>uniswapV2 router</p>\n<p>function getAmountsOut(uint amountIn, address[] calldata path) external view returns (uint[] memory amounts)</p>\n<pre><code>package com.test;\n\nimport org.web3j.abi.FunctionEncoder;\nimport org.web3j.abi.FunctionReturnDecoder;\nimport org.web3j.abi.TypeReference;\nimport org.web3j.abi.datatypes.Address;\nimport org.web3j.abi.datatypes.DynamicArray;\nimport org.web3j.abi.datatypes.Function;\nimport org.web3j.abi.datatypes.Type;\nimport org.web3j.abi.datatypes.generated.Uint256;\nimport org.web3j.protocol.Web3j;\nimport org.web3j.protocol.core.DefaultBlockParameterName;\nimport org.web3j.protocol.core.methods.request.Transaction;\nimport org.web3j.protocol.core.methods.response.EthCall;\nimport org.web3j.protocol.http.HttpService;\n\nimport java.io.IOException;\nimport java.math.BigInteger;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class main {\n    private static String EMPTY_ADDRESS = &quot;0x0000000000000000000000000000000000000000&quot;;\n    static Web3j web3j;\n    static String usdt = &quot;0x55d398326f99059fF775485246999027B3197955&quot;;\n    static String weth = &quot;0xbb4CdB9CBd36B01bD1cBaEBF2De08d9173bc095c&quot;;\n    static String pancakeRouter = &quot;0x10ed43c718714eb63d5aa57b78b54704e256024e&quot;;\n\n    public static void main(String[] args) throws IOException {\n        web3j = Web3j.build(new HttpService(&quot;https://bsc-dataseed.binance.org/&quot;));\n        String s = web3j.netVersion().send().getNetVersion();\n        System.out.println(s);\n        List&lt;BigInteger&gt; list1 = getAmountsOut(usdt, weth);\n        System.out.println(&quot;result::: &quot;);\n        for (BigInteger a : list1) {\n            System.out.println(a);\n        }\n    }\n\n    public static List&lt;BigInteger&gt; getAmountsOut(String tokenInAddr, String tokenOutAddr) {\n        String methodName = &quot;getAmountsOut&quot;;\n        String fromAddr = EMPTY_ADDRESS;\n        List&lt;Type&gt; inputParameters = new ArrayList&lt;Type&gt;();\n        Uint256 inAmount = new Uint256(new BigInteger(&quot;1000000000000000000&quot;));\n        Address inAddr = new Address(tokenInAddr);\n        Address outAddr = new Address(tokenOutAddr);\n        DynamicArray&lt;Address&gt; addrArr = new DynamicArray&lt;Address&gt;(inAddr, outAddr);\n\n        inputParameters.add(inAmount);\n        inputParameters.add(addrArr);\n\n        List&lt;TypeReference&lt;?&gt;&gt; outputParameters = new ArrayList&lt;TypeReference&lt;?&gt;&gt;();\n        TypeReference&lt;DynamicArray&lt;Uint256&gt;&gt; oa = new TypeReference&lt;DynamicArray&lt;Uint256&gt;&gt;() {\n        };\n        outputParameters.add(oa);\n\n        Function function = new Function(methodName, inputParameters, outputParameters);\n        String data = FunctionEncoder.encode(function);\n        Transaction transaction = Transaction.createEthCallTransaction(fromAddr, pancakeRouter, data);\n\n        EthCall ethCall;\n        try {\n            ethCall = web3j.ethCall(transaction, DefaultBlockParameterName.LATEST).sendAsync().get();\n            List&lt;Type&gt; results = FunctionReturnDecoder.decode(ethCall.getValue(), function.getOutputParameters());\n            System.out.println(results);\n            List&lt;BigInteger&gt; resultArr = new ArrayList&lt;&gt;();\n            if (results.size() &gt; 0) {\n                for (Type tt : results) {\n                    DynamicArray&lt;Uint256&gt; da = (DynamicArray&lt;Uint256&gt;) tt;\n                    List&lt;Uint256&gt; lu = da.getValue();\n                    if (lu.size() &gt; 0) {\n                        for (Uint256 n : lu) {\n                            resultArr.add((BigInteger) n.getValue());\n                        }\n                    }\n                }\n                return resultArr;\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        return null;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13019942,"reputation":1,"user_id":21950292,"display_name":"Lucas Ambrosi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684893223,"creation_date":1684893223,"answer_id":76319618,"question_id":47601052,"body_markdown":"You should use `makeTypeReference` static method. It lets you create references like `create`, but it also accepts arrays.\r\n\r\nThe input parameter is the solidity type, the same used in the smart contract.\r\n\r\nExample:\r\n**uint256** for a single item; **uint256[]** for *n* items from uint256.\r\n\r\nUsage:\r\n\r\n    TypeReference&lt;?&gt; typeReference = TypeReference.makeTypeReference(&quot;uint256[]&quot;);","title":"In web3j, how do you create a TypeReference for array types discovered at runtime?","body":"<p>You should use <code>makeTypeReference</code> static method. It lets you create references like <code>create</code>, but it also accepts arrays.</p>\n<p>The input parameter is the solidity type, the same used in the smart contract.</p>\n<p>Example:\n<strong>uint256</strong> for a single item; <strong>uint256[]</strong> for <em>n</em> items from uint256.</p>\n<p>Usage:</p>\n<pre><code>TypeReference&lt;?&gt; typeReference = TypeReference.makeTypeReference(&quot;uint256[]&quot;);\n</code></pre>\n"}],"owner":{"account_id":989772,"reputation":41,"user_id":1007404,"display_name":"Clement Pellerin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1809,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1684893223,"creation_date":1512160222,"question_id":47601052,"body_markdown":"I&#39;m trying to write a Java application with web3j that can read an arbitrary abi file, show the list of AbiDefinitions to the user and let him make a call to a constant function of his choice. How do I compute the outTypes below?\r\n\r\n    AbiDefinition functionDef = ...; // found at runtime  \r\n    List&lt;Type&gt; args = ...; // I know how to do this  \r\n    List&lt;NamedType&gt; outputs = functionDef.getOutputs(); // list of output parameters  \r\n    List&lt;TypeReference&lt;?&gt;&gt; outTypes = ????;  \r\n    Function function = new Function(functionDef.getName(), args, outTypes);  \r\n\r\nThe TypeReference class uses tricks with generic types that work when the generic type is hardcoded in the source code like this:  \r\n\r\n    new TypeReference.StaticArrayTypeReference&lt; StaticArray&lt; Int256&gt;&gt;(2){}  \r\n\r\nThis is what the generated contract wrapper would do.\r\n  \r\nFor simple types, I can do this:  \r\n\r\n    Class&lt;Type&gt; type = (Class&lt;Type&gt;)AbiTypes.getType(typeName);\r\n    TypeReference&lt;?&gt; typeRef = TypeReference.create(type);\r\n\r\nFor array types like &quot;int256[2]&quot;, what should I do?\r\n","title":"In web3j, how do you create a TypeReference for array types discovered at runtime?","body":"<p>I'm trying to write a Java application with web3j that can read an arbitrary abi file, show the list of AbiDefinitions to the user and let him make a call to a constant function of his choice. How do I compute the outTypes below?</p>\n\n<pre><code>AbiDefinition functionDef = ...; // found at runtime  \nList&lt;Type&gt; args = ...; // I know how to do this  \nList&lt;NamedType&gt; outputs = functionDef.getOutputs(); // list of output parameters  \nList&lt;TypeReference&lt;?&gt;&gt; outTypes = ????;  \nFunction function = new Function(functionDef.getName(), args, outTypes);  \n</code></pre>\n\n<p>The TypeReference class uses tricks with generic types that work when the generic type is hardcoded in the source code like this:  </p>\n\n<pre><code>new TypeReference.StaticArrayTypeReference&lt; StaticArray&lt; Int256&gt;&gt;(2){}  \n</code></pre>\n\n<p>This is what the generated contract wrapper would do.</p>\n\n<p>For simple types, I can do this:  </p>\n\n<pre><code>Class&lt;Type&gt; type = (Class&lt;Type&gt;)AbiTypes.getType(typeName);\nTypeReference&lt;?&gt; typeRef = TypeReference.create(type);\n</code></pre>\n\n<p>For array types like \"int256[2]\", what should I do?</p>\n"},{"tags":["java","android","webview"],"answers":[{"tags":[],"owner":{"account_id":908844,"reputation":11,"user_id":6225333,"display_name":"rnbrough"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1605868217,"creation_date":1605868217,"answer_id":64927830,"question_id":64875967,"body_markdown":"The URL_UNKOWN_SCHEME is because it&#39;s not recognising the scheme part of your URI (the bit up to :), are your URIs simply starting with &quot;intent:&quot; ?  \r\n\r\nTo open a map at a location, try switching to the geo scheme, so a URI something like &quot;geo:0.01,0.01?q=London&quot; (along ofc with changing your url.contains check to look for that).   You could also insert a mapIntent.setPackage(&quot;com.google.android.apps.maps&quot;) before the call to startActivity(mapIntent) if you want Google maps to take priority over any other map application the user may have installed.\r\n\r\nIf however you want navigation, use a URI starting with google.navigation such as &quot;google.navigation:London&quot; or &quot;google.navigation:0.01,0.01&quot;, equally for street view you can use a URI starting with google.streetview\r\n\r\n\r\n\r\n\r\n","title":"Google Maps link not opening from webView on Android App","body":"<p>The URL_UNKOWN_SCHEME is because it's not recognising the scheme part of your URI (the bit up to :), are your URIs simply starting with &quot;intent:&quot; ?</p>\n<p>To open a map at a location, try switching to the geo scheme, so a URI something like &quot;geo:0.01,0.01?q=London&quot; (along ofc with changing your url.contains check to look for that).   You could also insert a mapIntent.setPackage(&quot;com.google.android.apps.maps&quot;) before the call to startActivity(mapIntent) if you want Google maps to take priority over any other map application the user may have installed.</p>\n<p>If however you want navigation, use a URI starting with google.navigation such as &quot;google.navigation:London&quot; or &quot;google.navigation:0.01,0.01&quot;, equally for street view you can use a URI starting with google.streetview</p>\n"},{"tags":[],"owner":{"account_id":1490668,"reputation":3679,"user_id":1397821,"accept_rate":50,"display_name":"M. Usman Khan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684892994,"creation_date":1684892994,"answer_id":76319606,"question_id":64875967,"body_markdown":"You need to handle the non-html links specially, like I am doing here to open Maps activity for Navigation:\r\n\r\n    webView.webViewClient = object : WebViewClient(){\r\n                override fun shouldOverrideUrlLoading(view: WebView?, request: WebResourceRequest?): Boolean {\r\n                    val url = request?.url.toString()\r\n                    if (url.startsWith(&quot;intent://maps&quot;)) {\r\n                            if (lat != null &amp;&amp; lon != null)\r\n                                UtilFunctions.showDirectionsOnGoogleMap(requireActivity(), lat, lon)\r\n                        return true\r\n                    }\r\n    \r\n                    return super.shouldOverrideUrlLoading(view, request)\r\n                }\r\n    \r\n            }","title":"Google Maps link not opening from webView on Android App","body":"<p>You need to handle the non-html links specially, like I am doing here to open Maps activity for Navigation:</p>\n<pre><code>webView.webViewClient = object : WebViewClient(){\n            override fun shouldOverrideUrlLoading(view: WebView?, request: WebResourceRequest?): Boolean {\n                val url = request?.url.toString()\n                if (url.startsWith(&quot;intent://maps&quot;)) {\n                        if (lat != null &amp;&amp; lon != null)\n                            UtilFunctions.showDirectionsOnGoogleMap(requireActivity(), lat, lon)\n                    return true\n                }\n\n                return super.shouldOverrideUrlLoading(view, request)\n            }\n\n        }\n</code></pre>\n"}],"owner":{"account_id":19911114,"reputation":3,"user_id":14589105,"display_name":"FunkyRabbiteroo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":246,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1684892994,"creation_date":1605618837,"question_id":64875967,"body_markdown":"I am loading a webView in my app that displays some buttons, each button starts a route that is generated using google maps.\r\n\r\nThe problem is that when I click &quot;Navigate in app&quot; nothing happens.\r\n\r\nI was having the `URL_UNKOWN_SCHEME` error but solved it by adding and `@override`\r\n\r\nMy code looks like this:\r\n```\r\npackage com.example.listarehtgps2;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.Intent;\r\nimport android.net.Uri;\r\nimport android.os.Bundle;\r\nimport android.view.KeyEvent;\r\nimport android.view.Window;\r\nimport android.webkit.WebResourceRequest;\r\nimport android.webkit.WebSettings;\r\nimport android.webkit.WebView;\r\nimport android.webkit.WebViewClient;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    WebView web;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        web = findViewById(R.id.webview);\r\n\r\n        WebSettings webSettings = web.getSettings();\r\n        webSettings.setJavaScriptEnabled(true);\r\n\r\n        web.loadUrl(&quot;webViewURL replaced for privacy reasons&quot;);\r\n\r\n        web.setWebViewClient(new WebViewClient() {\r\n                 @Override\r\n                 public boolean shouldOverrideUrlLoading(WebView view, String url) {\r\n                     // When user clicks a hyperlink, load in the existing WebView\r\n                     if(url.contains(&quot;intent:&quot;)) {\r\n                         Uri gmmIntentUri = Uri.parse(url);\r\n                         Intent mapIntent = new Intent(Intent.ACTION_VIEW, gmmIntentUri);\r\n                         startActivity(mapIntent);\r\n                         return true;\r\n                     }\r\n                     view.loadUrl(url);\r\n                     return true;\r\n                 }\r\n             }\r\n            );\r\n\r\n        }\r\n    }\r\n\r\n\r\n```\r\n\r\nI can not find any solution to open the link in the `google maps` app.\r\nI managed to solve the UNKWN_URL_SCHEME but this is frustrating now.\r\n\r\nThanks in advance!","title":"Google Maps link not opening from webView on Android App","body":"<p>I am loading a webView in my app that displays some buttons, each button starts a route that is generated using google maps.</p>\n<p>The problem is that when I click &quot;Navigate in app&quot; nothing happens.</p>\n<p>I was having the <code>URL_UNKOWN_SCHEME</code> error but solved it by adding and <code>@override</code></p>\n<p>My code looks like this:</p>\n<pre><code>package com.example.listarehtgps2;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Intent;\nimport android.net.Uri;\nimport android.os.Bundle;\nimport android.view.KeyEvent;\nimport android.view.Window;\nimport android.webkit.WebResourceRequest;\nimport android.webkit.WebSettings;\nimport android.webkit.WebView;\nimport android.webkit.WebViewClient;\n\npublic class MainActivity extends AppCompatActivity {\n\n    WebView web;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        web = findViewById(R.id.webview);\n\n        WebSettings webSettings = web.getSettings();\n        webSettings.setJavaScriptEnabled(true);\n\n        web.loadUrl(&quot;webViewURL replaced for privacy reasons&quot;);\n\n        web.setWebViewClient(new WebViewClient() {\n                 @Override\n                 public boolean shouldOverrideUrlLoading(WebView view, String url) {\n                     // When user clicks a hyperlink, load in the existing WebView\n                     if(url.contains(&quot;intent:&quot;)) {\n                         Uri gmmIntentUri = Uri.parse(url);\n                         Intent mapIntent = new Intent(Intent.ACTION_VIEW, gmmIntentUri);\n                         startActivity(mapIntent);\n                         return true;\n                     }\n                     view.loadUrl(url);\n                     return true;\n                 }\n             }\n            );\n\n        }\n    }\n\n\n</code></pre>\n<p>I can not find any solution to open the link in the <code>google maps</code> app.\nI managed to solve the UNKWN_URL_SCHEME but this is frustrating now.</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","android","gps"],"comments":[{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1684890761,"post_id":76319420,"comment_id":134582586,"body_markdown":"The documentation for `Location.distanceBetween` says &quot;[c]omputes the approximate distance in meters between two locations ...&quot;.  So, `if (distanceResults[0] &lt; 10)`.","body":"The documentation for <code>Location.distanceBetween</code> says &quot;[c]omputes the approximate distance in meters between two locations ...&quot;.  So, <code>if (distanceResults[0] &lt; 10)</code>."}],"answers":[{"comments":[{"owner":{"account_id":28176136,"reputation":3,"user_id":21533894,"display_name":"sagar raval"},"score":0,"creation_date":1684908129,"post_id":76319553,"comment_id":134584143,"body_markdown":"is this correct ,\n\n`float[] distanceResults = new float[3];\n                    Location.distanceBetween(latitude, longitude, targetLatitude, targetLongitude, distanceResults);\n\n                    if (distanceResults[0] &lt;= 10) {\n                      \n                    }`","body":"is this correct ,  <code>float[] distanceResults = new float[3];                     Location.distanceBetween(latitude, longitude, targetLatitude, targetLongitude, distanceResults);                      if (distanceResults[0] &lt;= 10) {                                            }</code>"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1684908845,"post_id":76319553,"comment_id":134584261,"body_markdown":"@sagarraval, that appears correct, yes.","body":"@sagarraval, that appears correct, yes."},{"owner":{"account_id":28176136,"reputation":3,"user_id":21533894,"display_name":"sagar raval"},"score":0,"creation_date":1684909319,"post_id":76319553,"comment_id":134584326,"body_markdown":"it is going in else condition, i have tried this too , \n`float[] distanceResults = new float[3];\n                    Location.distanceBetween(latitude, longitude, targetLatitude, targetLongitude, distanceResults);\n                    float distanceInMeter = distanceResults[0] / 1000;\ndistanceInMeter &lt;= 0.01`, even if im at the exact cordinates","body":"it is going in else condition, i have tried this too ,  <code>float[] distanceResults = new float[3];                     Location.distanceBetween(latitude, longitude, targetLatitude, targetLongitude, distanceResults);                     float distanceInMeter = distanceResults[0] &#47; 1000; distanceInMeter &lt;= 0.01</code>, even if im at the exact cordinates"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1684909751,"post_id":76319553,"comment_id":134584405,"body_markdown":"@sagarraval, try debugging the value at index 0.  Additionally, try using [this calculator](https://www.nhc.noaa.gov/gccalc.shtml) from the NWS, with your two coordinates, maybe the distance is actually greater than 10 meters.","body":"@sagarraval, try debugging the value at index 0.  Additionally, try using <a href=\"https://www.nhc.noaa.gov/gccalc.shtml\" rel=\"nofollow noreferrer\">this calculator</a> from the NWS, with your two coordinates, maybe the distance is actually greater than 10 meters."},{"owner":{"account_id":28176136,"reputation":3,"user_id":21533894,"display_name":"sagar raval"},"score":0,"creation_date":1684910148,"post_id":76319553,"comment_id":134584475,"body_markdown":"The distance between [my latitude, my longitude] and [19.2185561, 72.86228096] is:\n0.0120 km or 0.0075 mile","body":"The distance between [my latitude, my longitude] and [19.2185561, 72.86228096] is: 0.0120 km or 0.0075 mile"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1684935965,"post_id":76319553,"comment_id":134590489,"body_markdown":"@sagarraval, so, 0.012 / 1000, is 12 meters.  That&#39;s why it&#39;s not matching the condition.","body":"@sagarraval, so, 0.012 / 1000, is 12 meters.  That&#39;s why it&#39;s not matching the condition."}],"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684891913,"creation_date":1684891588,"answer_id":76319553,"question_id":76319420,"body_markdown":"The Android Documentation for [Location#distanceBetween](https://developer.android.com/reference/android/location/Location#distanceBetween(double,%20double,%20double,%20double,%20float[])) \r\nstates the following.\r\n\r\n&gt; _Computes the approximate distance in meters between two locations ..._\r\n\r\nIf you view the source for [Location#distanceBetween](https://android.googlesource.com/platform/frameworks/base/+/refs/heads/master/location/java/android/location/Location.java#1239) you&#39;ll find it utilizes a private method called [computeDistanceAndBearing](https://android.googlesource.com/platform/frameworks/base/+/refs/heads/master/location/java/android/location/Location.java#1239).\r\n\r\nIn which, the first two lines are the following developer comments.\r\n\r\n&gt; // Based on http://www.ngs.noaa.gov/PUBS_LIB/inverse.pdf  \r\n&gt; // using the &quot;Inverse Formula&quot; (section 4)\r\n\r\nIt appears to be a complex formula; I imagine it is returning logical results.\r\n\r\nThis being said, you mentioned the following.\r\n\r\n&gt; ... _&quot;It seems to only check if the coordinates are within 1 kilometer&quot;_ ...\r\n\r\nNot according to the documentation, which states it&#39;s within meters.\r\n\r\nChecking your `distanceResults` at index `0` should yield a number in meters.\r\n\r\n```java\r\nif (distanceResults[0] &lt; 10) {\r\n    /* within 10 meter radius */\r\n}\r\n```\r\n\r\nAn additional note, the Android Documentation also states the following.\r\n\r\n&gt; _... The computed distance is stored in results[0]. If results has length 2 or greater, the initial bearing is stored in results[1]. If results has length 3 or greater, the final bearing is stored in results[2]._\r\n\r\nYou&#39;re `distanceResults` is assigned to `new float[1]`.  \r\nYou should increase the size to `3`, to accommodate for these additional values.\r\n\r\n```java\r\nfloat[] distanceResults = new float[3];\r\n```","title":"Check if the current location is within a 10-meter radius of the target coordinates?","body":"<p>The Android Documentation for <a href=\"https://developer.android.com/reference/android/location/Location#distanceBetween(double,%20double,%20double,%20double,%20float%5B%5D)\" rel=\"nofollow noreferrer\">Location#distanceBetween</a>\nstates the following.</p>\n<blockquote>\n<p><em>Computes the approximate distance in meters between two locations ...</em></p>\n</blockquote>\n<p>If you view the source for <a href=\"https://android.googlesource.com/platform/frameworks/base/+/refs/heads/master/location/java/android/location/Location.java#1239\" rel=\"nofollow noreferrer\">Location#distanceBetween</a> you'll find it utilizes a private method called <a href=\"https://android.googlesource.com/platform/frameworks/base/+/refs/heads/master/location/java/android/location/Location.java#1239\" rel=\"nofollow noreferrer\">computeDistanceAndBearing</a>.</p>\n<p>In which, the first two lines are the following developer comments.</p>\n<blockquote>\n<p>// Based on <a href=\"http://www.ngs.noaa.gov/PUBS_LIB/inverse.pdf\" rel=\"nofollow noreferrer\">http://www.ngs.noaa.gov/PUBS_LIB/inverse.pdf</a><br />\n// using the &quot;Inverse Formula&quot; (section 4)</p>\n</blockquote>\n<p>It appears to be a complex formula; I imagine it is returning logical results.</p>\n<p>This being said, you mentioned the following.</p>\n<blockquote>\n<p>... <em>&quot;It seems to only check if the coordinates are within 1 kilometer&quot;</em> ...</p>\n</blockquote>\n<p>Not according to the documentation, which states it's within meters.</p>\n<p>Checking your <code>distanceResults</code> at index <code>0</code> should yield a number in meters.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (distanceResults[0] &lt; 10) {\n    /* within 10 meter radius */\n}\n</code></pre>\n<p>An additional note, the Android Documentation also states the following.</p>\n<blockquote>\n<p><em>... The computed distance is stored in results[0]. If results has length 2 or greater, the initial bearing is stored in results[1]. If results has length 3 or greater, the final bearing is stored in results[2].</em></p>\n</blockquote>\n<p>You're <code>distanceResults</code> is assigned to <code>new float[1]</code>.<br />\nYou should increase the size to <code>3</code>, to accommodate for these additional values.</p>\n<pre class=\"lang-java prettyprint-override\"><code>float[] distanceResults = new float[3];\n</code></pre>\n"}],"owner":{"account_id":28176136,"reputation":3,"user_id":21533894,"display_name":"sagar raval"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684891913,"creation_date":1684888876,"question_id":76319420,"body_markdown":"I&#39;m trying to check if the current coordinates are within a 10-meter radius of the target coordinates. I&#39;ve tried implementing a method, but I&#39;m not sure how reliable it is. It seems to only check if the coordinates are within 1 kilometer, that&#39;s what I&#39;m thinking, but I&#39;m not sure if it actually creates a radius of the given number or something else entirely.\r\n\r\n\r\n     punchin.setOnClickListener(new View.OnClickListener() {\r\n    \r\n                @Override\r\n                public void onClick(View view) {\r\n                    punchout.setVisibility(View.VISIBLE);\r\n                    punchin.setVisibility(View.INVISIBLE);\r\n                    curLocation.setText(&quot;&quot;);\r\n                    tarLocation.setText(&quot;&quot;);\r\n                    String androidID = getIMEINumber();\r\n    \r\n                    if (androidID != null) {\r\n                        getCurrentLocation();\r\n                        // Execute the Api&#39;s\r\n    \r\n                        double targetLatitude = 19.2185561;// Specify the latitude of the target location\r\n                        double targetLongitude = 72.86228096;// Specify the longitude of the target location\r\n    \r\n                        float[] distanceResults = new float[1];\r\n                        Location.distanceBetween(latitude, longitude, targetLatitude, targetLongitude, distanceResults);\r\n                        float distanceInKm = distanceResults[0] / 1000;\r\n    \r\n                        String currentLocationStr = &quot;Current :-&quot; + latitude + &quot; : &quot; + longitude;\r\n                        String targetLocationStr = &quot;Target :-&quot; + targetLatitude + &quot; : &quot; + targetLongitude;\r\n    \r\n                        if (distanceInKm &lt; 1) {\r\n                            curLocation.setText(currentLocationStr);\r\n                            tarLocation.setText(targetLocationStr);\r\n                            Toast.makeText(requireContext(), &quot;You are under office premises &quot;, Toast.LENGTH_LONG).show();\r\n                        } else {\r\n                            curLocation.setText(currentLocationStr);\r\n                            tarLocation.setText(targetLocationStr);\r\n                            Toast.makeText(requireContext(), &quot;You are not under office premises &quot;, Toast.LENGTH_LONG).show();\r\n                        }\r\n    \r\n    \r\n                    } else {\r\n                        Toast.makeText(getContext(), &quot;No Data&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n    \r\n                }\r\n            });\r\n    \r\n    \r\n     private void getCurrentLocation() {\r\n            FusedLocationProviderClient fusedLocationClient = LocationServices.getFusedLocationProviderClient(requireContext());\r\n    \r\n            if (ActivityCompat.checkSelfPermission(requireContext(), Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED\r\n                    &amp;&amp; ActivityCompat.checkSelfPermission(requireContext(), Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\r\n                // Request location permissions if not already granted\r\n                ActivityCompat.requestPermissions((Activity) requireContext(), new String[]{Manifest.permission.ACCESS_FINE_LOCATION, Manifest.permission.ACCESS_COARSE_LOCATION}, 101);\r\n            } else {\r\n                // Permissions already granted, request current location\r\n                fusedLocationClient.getLastLocation()\r\n                        .addOnSuccessListener(location -&gt; {\r\n                            if (location != null) {\r\n                                latitude = location.getLatitude();\r\n                                longitude = location.getLongitude();\r\n    \r\n                                // Use the obtained latitude and longitude values for further processing\r\n                                // You can compare these values with your desired geolocation\r\n                            }\r\n                        })\r\n                        .addOnFailureListener(e -&gt; {\r\n                            // Handle any errors that occurred while getting the location\r\n                        });\r\n            }\r\n        }","title":"Check if the current location is within a 10-meter radius of the target coordinates?","body":"<p>I'm trying to check if the current coordinates are within a 10-meter radius of the target coordinates. I've tried implementing a method, but I'm not sure how reliable it is. It seems to only check if the coordinates are within 1 kilometer, that's what I'm thinking, but I'm not sure if it actually creates a radius of the given number or something else entirely.</p>\n<pre><code> punchin.setOnClickListener(new View.OnClickListener() {\n\n            @Override\n            public void onClick(View view) {\n                punchout.setVisibility(View.VISIBLE);\n                punchin.setVisibility(View.INVISIBLE);\n                curLocation.setText(&quot;&quot;);\n                tarLocation.setText(&quot;&quot;);\n                String androidID = getIMEINumber();\n\n                if (androidID != null) {\n                    getCurrentLocation();\n                    // Execute the Api's\n\n                    double targetLatitude = 19.2185561;// Specify the latitude of the target location\n                    double targetLongitude = 72.86228096;// Specify the longitude of the target location\n\n                    float[] distanceResults = new float[1];\n                    Location.distanceBetween(latitude, longitude, targetLatitude, targetLongitude, distanceResults);\n                    float distanceInKm = distanceResults[0] / 1000;\n\n                    String currentLocationStr = &quot;Current :-&quot; + latitude + &quot; : &quot; + longitude;\n                    String targetLocationStr = &quot;Target :-&quot; + targetLatitude + &quot; : &quot; + targetLongitude;\n\n                    if (distanceInKm &lt; 1) {\n                        curLocation.setText(currentLocationStr);\n                        tarLocation.setText(targetLocationStr);\n                        Toast.makeText(requireContext(), &quot;You are under office premises &quot;, Toast.LENGTH_LONG).show();\n                    } else {\n                        curLocation.setText(currentLocationStr);\n                        tarLocation.setText(targetLocationStr);\n                        Toast.makeText(requireContext(), &quot;You are not under office premises &quot;, Toast.LENGTH_LONG).show();\n                    }\n\n\n                } else {\n                    Toast.makeText(getContext(), &quot;No Data&quot;, Toast.LENGTH_SHORT).show();\n                }\n\n            }\n        });\n\n\n private void getCurrentLocation() {\n        FusedLocationProviderClient fusedLocationClient = LocationServices.getFusedLocationProviderClient(requireContext());\n\n        if (ActivityCompat.checkSelfPermission(requireContext(), Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED\n                &amp;&amp; ActivityCompat.checkSelfPermission(requireContext(), Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\n            // Request location permissions if not already granted\n            ActivityCompat.requestPermissions((Activity) requireContext(), new String[]{Manifest.permission.ACCESS_FINE_LOCATION, Manifest.permission.ACCESS_COARSE_LOCATION}, 101);\n        } else {\n            // Permissions already granted, request current location\n            fusedLocationClient.getLastLocation()\n                    .addOnSuccessListener(location -&gt; {\n                        if (location != null) {\n                            latitude = location.getLatitude();\n                            longitude = location.getLongitude();\n\n                            // Use the obtained latitude and longitude values for further processing\n                            // You can compare these values with your desired geolocation\n                        }\n                    })\n                    .addOnFailureListener(e -&gt; {\n                        // Handle any errors that occurred while getting the location\n                    });\n        }\n    }\n</code></pre>\n"},{"tags":["java","while-loop","iterator","java.util.scanner"],"comments":[{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":2,"creation_date":1393274549,"post_id":21998543,"comment_id":33341076,"body_markdown":"**What** error are you getting? Where you define and initialize `scan`?","body":"<b>What</b> error are you getting? Where you define and initialize <code>scan</code>?"},{"owner":{"account_id":2106700,"reputation":161,"user_id":1872886,"accept_rate":46,"display_name":"Oxtis"},"score":0,"creation_date":1393274633,"post_id":21998543,"comment_id":33341130,"body_markdown":"initialized it outside the while loop","body":"initialized it outside the while loop"},{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":1,"creation_date":1393274720,"post_id":21998543,"comment_id":33341193,"body_markdown":"Can we see that code? Also post the entire error/exception that you are getting.","body":"Can we see that code? Also post the entire error/exception that you are getting."}],"answers":[{"tags":[],"owner":{"account_id":1163145,"reputation":4252,"user_id":1142253,"display_name":"Kakarot"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1393274595,"creation_date":1393274595,"answer_id":21998569,"question_id":21998543,"body_markdown":"Always check if the nextInt is available before asking for it : \r\n\r\n    if(scan.hasNextInt())\r\n    {\r\n     int userInput = scan.nextInt();\r\n     // do something\r\n    }","title":"nextInt() having issues in a while loop","body":"<p>Always check if the nextInt is available before asking for it : </p>\n\n<pre><code>if(scan.hasNextInt())\n{\n int userInput = scan.nextInt();\n // do something\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1661874,"reputation":5462,"user_id":1530004,"accept_rate":93,"display_name":"Cole9350"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1393274782,"creation_date":1393274782,"answer_id":21998625,"question_id":21998543,"body_markdown":"You need to define scan\r\n\r\n`Scanner scan = new Scanner(System.in);`","title":"nextInt() having issues in a while loop","body":"<p>You need to define scan</p>\n\n<p><code>Scanner scan = new Scanner(System.in);</code></p>\n"}],"owner":{"account_id":2106700,"reputation":161,"user_id":1872886,"accept_rate":46,"display_name":"Oxtis"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1122,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":21998569,"answer_count":2,"score":-2,"last_activity_date":1684891032,"creation_date":1393274491,"question_id":21998543,"body_markdown":"\r\n\r\n\r\nBasically I need this while loop to perform 4 times\r\n\r\nIt will ask user for input then use that input in the nested if statements. (repeat 4 times)\r\n\r\nThe first prompt will show up and I am able to type an input.\r\n\r\nbut after that it just gives me an error.\r\n\r\nand keeps pointing the error to &quot;int userInput = scan.nextInt();&quot;\r\n\r\nI have no idea whats wrong with it. Can someone guide me? thanks\r\n\r\n\r\n        int count = 0;\r\n\t\t\r\n\t\twhile (count &lt; 4 ) {\r\n\t\r\n\t\t\tSystem.out.println(prompt1);\r\n\t\t\tint userInput = scan.nextInt();\r\n\r\n            (some nested if statements here to do my task, they all have\r\n             count++ at the end)\r\n\r\n        }","title":"nextInt() having issues in a while loop","body":"<p>Basically I need this while loop to perform 4 times</p>\n\n<p>It will ask user for input then use that input in the nested if statements. (repeat 4 times)</p>\n\n<p>The first prompt will show up and I am able to type an input.</p>\n\n<p>but after that it just gives me an error.</p>\n\n<p>and keeps pointing the error to \"int userInput = scan.nextInt();\"</p>\n\n<p>I have no idea whats wrong with it. Can someone guide me? thanks</p>\n\n<pre><code>    int count = 0;\n\n    while (count &lt; 4 ) {\n\n        System.out.println(prompt1);\n        int userInput = scan.nextInt();\n\n        (some nested if statements here to do my task, they all have\n         count++ at the end)\n\n    }\n</code></pre>\n"},{"tags":["java","jsp","button","pagination","jstl"],"answers":[{"comments":[{"owner":{"account_id":4425897,"reputation":11,"user_id":3604388,"accept_rate":25,"display_name":"user3604388"},"score":0,"creation_date":1401712865,"post_id":23994316,"comment_id":36976790,"body_markdown":"Sorry, but I dont have any idea about Ajax technologie, where can I place this code?","body":"Sorry, but I dont have any idea about Ajax technologie, where can I place this code?"},{"owner":{"account_id":4425897,"reputation":11,"user_id":3604388,"accept_rate":25,"display_name":"user3604388"},"score":0,"creation_date":1401719041,"post_id":23994316,"comment_id":36980922,"body_markdown":"What about the var &quot;data&quot;, can I use this variable for any type (for exemple userClass)","body":"What about the var &quot;data&quot;, can I use this variable for any type (for exemple userClass)"},{"owner":{"account_id":4425897,"reputation":11,"user_id":3604388,"accept_rate":25,"display_name":"user3604388"},"score":0,"creation_date":1401722404,"post_id":23994316,"comment_id":36983098,"body_markdown":"Yes, in fact, I work with stuts2 in this application","body":"Yes, in fact, I work with stuts2 in this application"}],"tags":[],"owner":{"account_id":3456301,"reputation":1630,"user_id":2894742,"accept_rate":63,"display_name":"Selva"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1401711204,"creation_date":1401711204,"answer_id":23994316,"question_id":23993942,"body_markdown":"use ajax for this.For example if you place two button in your jsp page.i.e)prev and next.\r\nwhen you click prev you call ajax and load the result dynamically and replace already existing content with new results.\r\nif you have your content in div tag for example\r\n           \r\n\r\n     &lt;div id=&quot;result&quot;&gt;\r\n    some thing\r\n    &lt;/div&gt;\r\n\r\n&lt;button id=&quot;prev&quot;&gt;Prev&lt;/button&gt;\r\n&lt;button id=&quot;Next&quot;&gt;Next&lt;/button&gt;\r\nyou call ajax when user clicks the button\r\n\r\n    $(&quot;#prev&quot;).click(function(){\r\n                           $.ajax({\r\n                            type:&#39;post&#39;,\r\n                             url:&#39;ActionName?totalval=page,\r\n                            success :function(data){\r\n                                \r\n                                $(&quot;#result&quot;).empty();\r\n                               \r\n                                $(&quot;#result&quot;).html(data);\r\n                            },\r\n                            error :function(){\r\n                              alert(&quot;error&quot;);  \r\n                            }\r\n                            \r\n                        }); \r\n\r\n    });\r\nIn the hibernate you can set the setFirstResult and setMaxResult function as per user clicking.","title":"Next and previous buttons in a jsp page","body":"<p>use ajax for this.For example if you place two button in your jsp page.i.e)prev and next.\nwhen you click prev you call ajax and load the result dynamically and replace already existing content with new results.\nif you have your content in div tag for example</p>\n\n<pre><code> &lt;div id=\"result\"&gt;\nsome thing\n&lt;/div&gt;\n</code></pre>\n\n<p>Prev\nNext\nyou call ajax when user clicks the button</p>\n\n<pre><code>$(\"#prev\").click(function(){\n                       $.ajax({\n                        type:'post',\n                         url:'ActionName?totalval=page,\n                        success :function(data){\n\n                            $(\"#result\").empty();\n\n                            $(\"#result\").html(data);\n                        },\n                        error :function(){\n                          alert(\"error\");  \n                        }\n\n                    }); \n\n});\n</code></pre>\n\n<p>In the hibernate you can set the setFirstResult and setMaxResult function as per user clicking.</p>\n"},{"tags":[],"owner":{"account_id":3456301,"reputation":1630,"user_id":2894742,"accept_rate":63,"display_name":"Selva"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1401725199,"creation_date":1401725199,"answer_id":23998793,"question_id":23993942,"body_markdown":"add the below code in your\r\n  \r\n\r\n    &lt;html&gt;\r\n        &lt;head&gt;\r\n        &lt;script&gt;\r\n         $(&quot;#prev,#next&quot;).click(function(){\r\n                      \r\n               \r\n                            $.ajax({\r\n                                type:&#39;post&#39;,\r\n                                 url:&#39;actionName&#39;,\r\n                                success :function(data){\r\n                                    \r\n                                    $(&quot;#result&quot;).empty();\r\n                                   \r\n                                    $(&quot;#result&quot;).html(data);\r\n                                },\r\n                                error :function(){\r\n                                  alert(&quot;error&quot;);  \r\n                                }\r\n                                \r\n                            }); \r\n                    });\r\n                   \r\n        &lt;/script&gt;\r\n        &lt;/head&gt;\r\n        &lt;body&gt;\r\n        &lt;div id=&quot;result&quot;&gt;\r\n        &lt;s:iterator value=&quot;something&quot;&gt;\r\n        &lt;/s:iterator&gt;\r\n        &lt;button id=&quot;prev&quot;&gt;Prev&lt;/button&gt;\r\n        &lt;button id=&quot;next&quot;&gt;Next&lt;/button&gt;\r\n        &lt;/div&gt;\r\n        &lt;/body&gt;\r\n        &lt;/html&gt;\r\n\r\nIn Your Struts.xml\r\n\r\n    &lt;action name=&quot;actionname&quot; class=&quot;controller.actionname&quot;&gt;\r\n                &lt;result name=&quot;success&quot;&gt;div_ajax_result.jsp&lt;/result&gt;\r\n            &lt;/action&gt;\r\n\r\ndiv_ajax_result.jsp\r\n\r\n    &lt;div id=&quot;result&quot;&gt;\r\n    &lt;s:iterator value=&quot;something&quot;&gt;\r\n    &lt;/s:iterator&gt;\r\n    &lt;button id=&quot;prev&quot;&gt;Prev&lt;/button&gt;\r\n    &lt;button id=&quot;next&quot;&gt;Next&lt;/button&gt;\r\n    &lt;/div&gt;\r\n\r\nin each time ajax calling you need to load different result in list.\r\n\r\nI hope now you have get a basic idea in ajax.","title":"Next and previous buttons in a jsp page","body":"<p>add the below code in your</p>\n\n<pre><code>&lt;html&gt;\n    &lt;head&gt;\n    &lt;script&gt;\n     $(\"#prev,#next\").click(function(){\n\n\n                        $.ajax({\n                            type:'post',\n                             url:'actionName',\n                            success :function(data){\n\n                                $(\"#result\").empty();\n\n                                $(\"#result\").html(data);\n                            },\n                            error :function(){\n                              alert(\"error\");  \n                            }\n\n                        }); \n                });\n\n    &lt;/script&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n    &lt;div id=\"result\"&gt;\n    &lt;s:iterator value=\"something\"&gt;\n    &lt;/s:iterator&gt;\n    &lt;button id=\"prev\"&gt;Prev&lt;/button&gt;\n    &lt;button id=\"next\"&gt;Next&lt;/button&gt;\n    &lt;/div&gt;\n    &lt;/body&gt;\n    &lt;/html&gt;\n</code></pre>\n\n<p>In Your Struts.xml</p>\n\n<pre><code>&lt;action name=\"actionname\" class=\"controller.actionname\"&gt;\n            &lt;result name=\"success\"&gt;div_ajax_result.jsp&lt;/result&gt;\n        &lt;/action&gt;\n</code></pre>\n\n<p>div_ajax_result.jsp</p>\n\n<pre><code>&lt;div id=\"result\"&gt;\n&lt;s:iterator value=\"something\"&gt;\n&lt;/s:iterator&gt;\n&lt;button id=\"prev\"&gt;Prev&lt;/button&gt;\n&lt;button id=\"next\"&gt;Next&lt;/button&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>in each time ajax calling you need to load different result in list.</p>\n\n<p>I hope now you have get a basic idea in ajax.</p>\n"}],"owner":{"account_id":4425897,"reputation":11,"user_id":3604388,"accept_rate":25,"display_name":"user3604388"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2294,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1684891003,"creation_date":1401710092,"question_id":23993942,"body_markdown":"I am working on an application with stuts2, spring, spring security , and hibernate.\r\nI want to add NEXT and PREVIOUS buttons in a jsp page, I am using JSTL tags.\r\nI have a list of fistName and lastName.\r\n\r\n    ${sessionScope.ListeOfNames}\r\nMy page jsp must display :\r\n\r\n fistName : fistName 1\r\n\r\n lastName : lastName 1\r\n\r\nand by clicking on NEXT Button, my jsp have to display :\r\n\r\n fistName : fistName 2\r\n\r\n lastName : lastName 2\r\n\r\nSame thing, with PREVIOUS Button:\r\n\r\n fistName : fistName 1 (n-1)\r\n\r\n lastName : lastName 1 (n-1)\r\n\r\nAny help is appreciated\r\n","title":"Next and previous buttons in a jsp page","body":"<p>I am working on an application with stuts2, spring, spring security , and hibernate.\nI want to add NEXT and PREVIOUS buttons in a jsp page, I am using JSTL tags.\nI have a list of fistName and lastName.</p>\n\n<pre><code>${sessionScope.ListeOfNames}\n</code></pre>\n\n<p>My page jsp must display :</p>\n\n<p>fistName : fistName 1</p>\n\n<p>lastName : lastName 1</p>\n\n<p>and by clicking on NEXT Button, my jsp have to display :</p>\n\n<p>fistName : fistName 2</p>\n\n<p>lastName : lastName 2</p>\n\n<p>Same thing, with PREVIOUS Button:</p>\n\n<p>fistName : fistName 1 (n-1)</p>\n\n<p>lastName : lastName 1 (n-1)</p>\n\n<p>Any help is appreciated</p>\n"},{"tags":["java","iterator","java.util.scanner"],"comments":[{"owner":{"account_id":2866317,"reputation":6243,"user_id":3136246,"display_name":"Avinash Babu"},"score":1,"creation_date":1406260551,"post_id":24947751,"comment_id":38772613,"body_markdown":"http://stackoverflow.com/questions/5032356/using-scanner-nextline","body":"<a href=\"http://stackoverflow.com/questions/5032356/using-scanner-nextline\" title=\"using scanner nextline\">stackoverflow.com/questions/5032356/using-scanner-nextline</a>"},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":2,"creation_date":1406260679,"post_id":24947751,"comment_id":38772651,"body_markdown":"Why are `last_name` and `setLast` static?","body":"Why are <code>last_name</code> and <code>setLast</code> static?"}],"answers":[{"tags":[],"owner":{"account_id":3288129,"reputation":761,"user_id":2767029,"display_name":"mikebolt"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1406261282,"creation_date":1406261282,"answer_id":24947883,"question_id":24947751,"body_markdown":"The problem is right here:\r\n\r\n    in.next();\r\n    last = in.nextLine();\r\n    entry.setLast(last);\r\n\r\nThe `in.next();` line will read the first available token (sequence of nonwhitespace characters) and just discard it from the input.\r\n\r\nThe `last = in.nextLine();` saves the rest of the current line of input into the String last, but the last name that you want was already discarded, so there is nothing left in the line. The first character in the input that in.nextLine() sees will be a newline, so it just returns an empty string as if there were nothing in the line.\r\n\r\nYou want to save the String returned by in.next(), not in.nextLine() like so:\r\n\r\n    last = in.next();\r\n    in.nextLine();\r\n    entry.setLast(last);","title":"nextLine() and next() giving blanks when naming object","body":"<p>The problem is right here:</p>\n\n<pre><code>in.next();\nlast = in.nextLine();\nentry.setLast(last);\n</code></pre>\n\n<p>The <code>in.next();</code> line will read the first available token (sequence of nonwhitespace characters) and just discard it from the input.</p>\n\n<p>The <code>last = in.nextLine();</code> saves the rest of the current line of input into the String last, but the last name that you want was already discarded, so there is nothing left in the line. The first character in the input that in.nextLine() sees will be a newline, so it just returns an empty string as if there were nothing in the line.</p>\n\n<p>You want to save the String returned by in.next(), not in.nextLine() like so:</p>\n\n<pre><code>last = in.next();\nin.nextLine();\nentry.setLast(last);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2212639,"reputation":817,"user_id":1954034,"accept_rate":50,"display_name":"Nikhil Joshi"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1406261308,"creation_date":1406261308,"answer_id":24947888,"question_id":24947751,"body_markdown":"    package stackoverflow.q_24947751;\r\n    \r\n    import java.util.Scanner;\r\n    \r\n    public class UserInput {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tScanner sc = new Scanner(System.in);\r\n    \t\tSystem.out.println(&quot;To exit please type &#39;Quit&#39;&quot;);\r\n    \t\twhile (sc.hasNext()) {\r\n    \t\t\tString input = sc.nextLine();\r\n    \t\t\tif(!input.equalsIgnoreCase(&quot;Quit&quot;)) {\r\n    \t\t\t    System.out.println(&quot;Enter first name&quot;);\r\n    \t\t\t    String name = sc.nextLine();\r\n    \t\t\t    System.out.println(&quot;Enter surname&quot;);\r\n    \t\t\t    String surname = sc.nextLine();\r\n    \t\t\t    System.out.println(&quot;Enter number&quot;);\r\n    \t\t\t    try {\r\n    \t\t\t        Integer.parseInt(sc.nextLine());\r\n    \t\t\t    } catch (IllegalArgumentException e) {\r\n    \t\t\t        e.printStackTrace();\r\n    \t\t\t    }\r\n    \t\t\t} else {\r\n    \t\t\t\tbreak;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n    //Output:\r\n    //To exit please type &#39;Quit&#39;\r\n    //Proceed\r\n    //Enter first name\r\n    //Nikhil\r\n    //Enter surname\r\n    //Joshi\r\n    //Enter number\r\n    //22\r\n\r\n","title":"nextLine() and next() giving blanks when naming object","body":"<pre><code>package stackoverflow.q_24947751;\n\nimport java.util.Scanner;\n\npublic class UserInput {\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        System.out.println(\"To exit please type 'Quit'\");\n        while (sc.hasNext()) {\n            String input = sc.nextLine();\n            if(!input.equalsIgnoreCase(\"Quit\")) {\n                System.out.println(\"Enter first name\");\n                String name = sc.nextLine();\n                System.out.println(\"Enter surname\");\n                String surname = sc.nextLine();\n                System.out.println(\"Enter number\");\n                try {\n                    Integer.parseInt(sc.nextLine());\n                } catch (IllegalArgumentException e) {\n                    e.printStackTrace();\n                }\n            } else {\n                break;\n            }\n        }\n    }\n}\n\n//Output:\n//To exit please type 'Quit'\n//Proceed\n//Enter first name\n//Nikhil\n//Enter surname\n//Joshi\n//Enter number\n//22\n</code></pre>\n"}],"owner":{"account_id":4798081,"reputation":1,"user_id":3875396,"display_name":"zatchmaster"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":210,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":24947883,"answer_count":2,"score":-1,"last_activity_date":1684890953,"creation_date":1406260310,"question_id":24947751,"body_markdown":"After using next() to skip the extra line after a user entry I try and get nextLine() to pick up the variable name that the user is currently entering. My program is using a text based menu and this is the only way I have been able to make the menu flow smoothly (along with a do-while loop and what have you but I digress) My problem is this: while I know that the object that I am trying to name is receiving data from my main method, it is not giving it the proper name, just giving it a blank character. I know this because it renames the object, but it does not rename the object correctly, it just gives in a space (i give the name variable for the object a &quot;N/A&quot; in the constructor method). How can I combat this problem now and in the future?\r\n\r\n\r\nMain method snippit\r\n        \r\n            String last;        \r\n            selector = in.nextInt();\r\n            if (selector == 1)\r\n            {\r\n               System.out.print(&quot;Please enter Last Name: &quot;);\r\n               in.next();\r\n               last = in.nextLine();\r\n               entry.setLast(last);\r\n               terminator = true;\r\n            }\r\n\r\nObject naming method\r\n\r\n       private static String last_name;\r\n       public static String setLast(String a)\r\n       {\r\n          last_name = a;\r\n          return last_name;\r\n       }\r\n\r\nthis seems like a simple problem but I need some outside perspective! I do not think that im focusing on the true issue here. Thank you\r\n\r\n    \r\n   \r\n\r\n\r\n    ","title":"nextLine() and next() giving blanks when naming object","body":"<p>After using next() to skip the extra line after a user entry I try and get nextLine() to pick up the variable name that the user is currently entering. My program is using a text based menu and this is the only way I have been able to make the menu flow smoothly (along with a do-while loop and what have you but I digress) My problem is this: while I know that the object that I am trying to name is receiving data from my main method, it is not giving it the proper name, just giving it a blank character. I know this because it renames the object, but it does not rename the object correctly, it just gives in a space (i give the name variable for the object a \"N/A\" in the constructor method). How can I combat this problem now and in the future?</p>\n\n<p>Main method snippit</p>\n\n<pre><code>        String last;        \n        selector = in.nextInt();\n        if (selector == 1)\n        {\n           System.out.print(\"Please enter Last Name: \");\n           in.next();\n           last = in.nextLine();\n           entry.setLast(last);\n           terminator = true;\n        }\n</code></pre>\n\n<p>Object naming method</p>\n\n<pre><code>   private static String last_name;\n   public static String setLast(String a)\n   {\n      last_name = a;\n      return last_name;\n   }\n</code></pre>\n\n<p>this seems like a simple problem but I need some outside perspective! I do not think that im focusing on the true issue here. Thank you</p>\n"},{"tags":["java","iterator","java.util.scanner"],"comments":[{"owner":{"account_id":11653484,"reputation":12724,"user_id":8534008,"display_name":"GBlodgett"},"score":0,"creation_date":1552019453,"post_id":27309800,"comment_id":96862358,"body_markdown":"Possible duplicate of [Scanner is skipping nextLine() after using next() or nextFoo()?](https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo\">Scanner is skipping nextLine() after using next() or nextFoo()?</a>"}],"answers":[{"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1417759615,"creation_date":1417759615,"answer_id":27309822,"question_id":27309800,"body_markdown":"Add a `nextLine()` after `next()`, to consume the end of the line that contained the token you got by calling `next()`. Otherwise, the end of the line is consumed when you call `String s = input.nextLine();`, which leaves `s` empty.\r\n\r\n    char c = input.next().charAt(0);\r\n    input.nextLine(); // add this\r\n    System.out.println ( &quot;Enter a string&quot;);\r\n    \r\n    String s = input.nextLine();","title":"nextLine() not working after next() method","body":"<p>Add a <code>nextLine()</code> after <code>next()</code>, to consume the end of the line that contained the token you got by calling <code>next()</code>. Otherwise, the end of the line is consumed when you call <code>String s = input.nextLine();</code>, which leaves <code>s</code> empty.</p>\n\n<pre><code>char c = input.next().charAt(0);\ninput.nextLine(); // add this\nSystem.out.println ( \"Enter a string\");\n\nString s = input.nextLine();\n</code></pre>\n"}],"owner":{"account_id":4815152,"reputation":205,"user_id":3887466,"accept_rate":88,"display_name":"arpansen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":654,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":27309822,"answer_count":1,"score":0,"last_activity_date":1684890876,"creation_date":1417759528,"question_id":27309800,"body_markdown":"    package new_package;\r\n\r\n    import java.util.Scanner;\r\n\r\n    public class Test {\r\n\t\r\n    public static void main ( String args[])\r\n\t\r\n    {\r\n    Scanner input = new Scanner(System.in);\r\n\t\r\n    System.out.println(&quot;Enter a character&quot;);\r\n\t\r\n    char c = input.next().charAt(0);\r\n\t\r\n    System.out.println ( &quot;Enter a string&quot;);\r\n\t\r\n    String s = input.nextLine();\r\n\t\r\n    System.out.println (c);\r\n    System.out.println (s);\t\r\n\t\r\n    }\r\n\r\n    }\r\n\r\nThe output of this program after first execution is :\r\n\r\nEnter a character\r\n\r\nAnd after i enter the character c in the output looks like:\r\n\r\nEnter a character\r\n\r\nc\r\n\r\nEnter a string\r\n\r\nc\r\n\r\n\r\nThe problem with this program is i am not allowed to input the string which is supposed to be input with the help of the next line commend .\r\n\r\nThe program automatically takes the value &quot;&quot; for the string and prints the vacant string.\r\n\r\nWhy?\r\n","title":"nextLine() not working after next() method","body":"<pre><code>package new_package;\n\nimport java.util.Scanner;\n\npublic class Test {\n\npublic static void main ( String args[])\n\n{\nScanner input = new Scanner(System.in);\n\nSystem.out.println(\"Enter a character\");\n\nchar c = input.next().charAt(0);\n\nSystem.out.println ( \"Enter a string\");\n\nString s = input.nextLine();\n\nSystem.out.println (c);\nSystem.out.println (s); \n\n}\n\n}\n</code></pre>\n\n<p>The output of this program after first execution is :</p>\n\n<p>Enter a character</p>\n\n<p>And after i enter the character c in the output looks like:</p>\n\n<p>Enter a character</p>\n\n<p>c</p>\n\n<p>Enter a string</p>\n\n<p>c</p>\n\n<p>The problem with this program is i am not allowed to input the string which is supposed to be input with the help of the next line commend .</p>\n\n<p>The program automatically takes the value \"\" for the string and prints the vacant string.</p>\n\n<p>Why?</p>\n"},{"tags":["java","java.util.scanner"],"comments":[{"owner":{"account_id":2532720,"reputation":8397,"user_id":2200659,"accept_rate":79,"display_name":"Anders"},"score":2,"creation_date":1437999641,"post_id":31652856,"comment_id":51250983,"body_markdown":"You need to replace `Q == &quot;UPDATE&quot;` with `Q.equals(&quot;UPDATE&quot;)`, and the same thing for all other string comparisons.","body":"You need to replace <code>Q == &quot;UPDATE&quot;</code> with <code>Q.equals(&quot;UPDATE&quot;)</code>, and the same thing for all other string comparisons."}],"answers":[{"tags":[],"owner":{"account_id":5066537,"reputation":710,"user_id":4066507,"accept_rate":23,"display_name":"Ace"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1437999604,"creation_date":1437999604,"answer_id":31652937,"question_id":31652856,"body_markdown":"you should use equals to compare the strings here.\r\n\r\n    if(Q.equals(&quot;UPDATE&quot;)){\r\n\r\n    if(Q.equals(&quot;QUERY&quot;)){","title":"scanner next() Inputmismatch exception ..used nextLine() after nextInt()","body":"<p>you should use equals to compare the strings here.</p>\n\n<pre><code>if(Q.equals(\"UPDATE\")){\n\nif(Q.equals(\"QUERY\")){\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6012934,"reputation":632,"user_id":4722804,"accept_rate":45,"display_name":"Krismorte"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1437999613,"creation_date":1437999613,"answer_id":31652939,"question_id":31652856,"body_markdown":"String comparisons in java are made with .equals\r\n\r\nreplace you code for\r\n\r\n    if(Q.equals(&quot;UPDATE&quot;)){","title":"scanner next() Inputmismatch exception ..used nextLine() after nextInt()","body":"<p>String comparisons in java are made with .equals</p>\n\n<p>replace you code for</p>\n\n<pre><code>if(Q.equals(\"UPDATE\")){\n</code></pre>\n"}],"owner":{"account_id":6413941,"reputation":1051,"user_id":4972717,"accept_rate":77,"display_name":"Charan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":401,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1437999622,"accepted_answer_id":31652939,"answer_count":2,"score":0,"last_activity_date":1684890815,"creation_date":1437999324,"question_id":31652856,"body_markdown":"I couldn&#39;t find the bug. I used `nextLine()` after reading `nextInt()` but still `next()` is not reading the word(&quot;UPDATE&quot;). What am I missing?\r\n\r\n**Input to read:** \r\n \r\n\r\n        2\r\n        4 5\r\n        UPDATE 2 2 2 4\r\n        QUERY 1 1 1 3 3 3\r\n        UPDATE 1 1 1 23\r\n        QUERY 2 2 2 4 4 4\r\n        QUERY 1 1 1 3 3 3\r\n        2 4\r\n        UPDATE 2 2 2 1\r\n        QUERY 1 1 1 1 1 1\r\n        QUERY 1 1 1 2 2 2\r\n        QUERY 2 2 2 2 2 2\r\n\r\n**My code:**\r\n\r\n       Scanner sc = new Scanner(System.in);\r\n            int t = sc.nextInt();\r\n            for(int i=0 ; i&lt;t ; i++){\r\n                int n = sc.nextInt();\r\n                int m = sc.nextInt();\r\n                sc. nextLine ();\r\n                System.out.println(n+ &quot; &quot; + m);\r\n                for(int j=0 ; j&lt;m ; j++){\r\n                    String Q = sc.next(); // tried (String)sc.next(); also\r\n                    \r\n                    if(Q == &quot;UPDATE&quot;){\r\n                        int x = sc.nextInt();\r\n                        int y = sc.nextInt();\r\n                        int z = sc.nextInt();\r\n                        int val = sc.nextInt();\r\n                        sc.nextLine();\r\n                        System.out.println(x+ &quot; &quot; + y + &quot; &quot;+ z + &quot; &quot;+ val);\r\n                    }\r\n                    else if(Q == &quot;QUERY&quot;){\r\n                        int x1 = sc.nextInt()-1;\r\n                        int y1 = sc.nextInt()-1;\r\n                        int z1 = sc.nextInt()-1;\r\n                        \r\n                        int x2 = sc.nextInt();\r\n                        int y2 = sc.nextInt();\r\n                        int z2 = sc.nextInt();\r\n                        sc.nextLine();\r\n                       \r\n                      System.out.println(x1+ &quot; &quot; + y1 + &quot; &quot;+ z1 + &quot; &quot;+ x2+ &quot; &quot; + y2 + &quot; &quot;+ z2);\r\n                    }\r\n                \r\n                \r\n                }\r\n            }","title":"scanner next() Inputmismatch exception ..used nextLine() after nextInt()","body":"<p>I couldn't find the bug. I used <code>nextLine()</code> after reading <code>nextInt()</code> but still <code>next()</code> is not reading the word(\"UPDATE\"). What am I missing?</p>\n\n<p><strong>Input to read:</strong> </p>\n\n<pre><code>    2\n    4 5\n    UPDATE 2 2 2 4\n    QUERY 1 1 1 3 3 3\n    UPDATE 1 1 1 23\n    QUERY 2 2 2 4 4 4\n    QUERY 1 1 1 3 3 3\n    2 4\n    UPDATE 2 2 2 1\n    QUERY 1 1 1 1 1 1\n    QUERY 1 1 1 2 2 2\n    QUERY 2 2 2 2 2 2\n</code></pre>\n\n<p><strong>My code:</strong></p>\n\n<pre><code>   Scanner sc = new Scanner(System.in);\n        int t = sc.nextInt();\n        for(int i=0 ; i&lt;t ; i++){\n            int n = sc.nextInt();\n            int m = sc.nextInt();\n            sc. nextLine ();\n            System.out.println(n+ \" \" + m);\n            for(int j=0 ; j&lt;m ; j++){\n                String Q = sc.next(); // tried (String)sc.next(); also\n\n                if(Q == \"UPDATE\"){\n                    int x = sc.nextInt();\n                    int y = sc.nextInt();\n                    int z = sc.nextInt();\n                    int val = sc.nextInt();\n                    sc.nextLine();\n                    System.out.println(x+ \" \" + y + \" \"+ z + \" \"+ val);\n                }\n                else if(Q == \"QUERY\"){\n                    int x1 = sc.nextInt()-1;\n                    int y1 = sc.nextInt()-1;\n                    int z1 = sc.nextInt()-1;\n\n                    int x2 = sc.nextInt();\n                    int y2 = sc.nextInt();\n                    int z2 = sc.nextInt();\n                    sc.nextLine();\n\n                  System.out.println(x1+ \" \" + y1 + \" \"+ z1 + \" \"+ x2+ \" \" + y2 + \" \"+ z2);\n                }\n\n\n            }\n        }\n</code></pre>\n"},{"tags":["java","java.util.scanner","user-input"],"answers":[{"tags":[],"owner":{"account_id":951533,"reputation":4754,"user_id":977593,"accept_rate":75,"display_name":"slackmart"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1452481001,"creation_date":1452480923,"answer_id":34713513,"question_id":34713495,"body_markdown":"In your code, you are asking for two words to be inserted. Just remove one of them.\r\n\r\nUse it this way:\r\n\r\n    String choice = console.next();\r\n    if (choince.equals(&#39;done&#39;)) break;\r\n    strings.add(choice);\r\n","title":"Scanner is requiring me to type inputs twice just for one to register","body":"<p>In your code, you are asking for two words to be inserted. Just remove one of them.</p>\n\n<p>Use it this way:</p>\n\n<pre><code>String choice = console.next();\nif (choince.equals('done')) break;\nstrings.add(choice);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3534276,"reputation":295,"user_id":2952979,"accept_rate":50,"display_name":"Mananpreet Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1452488040,"creation_date":1452487722,"answer_id":34714339,"question_id":34713495,"body_markdown":"Problem with your code is that you are doing console.next() two times. \r\n*1st Inside if condition and \r\n2nd while adding to **ArrayList**.*\r\n Correct Code : \r\n    \r\n    public class TestClass{\r\n    public static void main(String[] args) {\r\n      AddStrings();\r\n    }\r\n\r\n    public static void AddStrings() {\r\n    Scanner console = new Scanner(System.in);\r\n\r\n    ArrayList&lt;String&gt; strings = new ArrayList&lt;String&gt;(); //this arraylist will hold the inputs the user types in in the while loop below\r\n\r\n    while(true) {\r\n        System.out.println(&quot;Input file name (no spaces) (type done to finish): &quot;);\r\n        String input = console.next();\r\n        if(input.equals(&quot;done&quot;)) break;\r\n        strings.add(input);\r\n\r\n        System.out.println(strings);\r\n    }\r\n    System.out.println(strings); //for testing purposes\r\n\r\n    console.close();\r\n    }\r\n    }","title":"Scanner is requiring me to type inputs twice just for one to register","body":"<p>Problem with your code is that you are doing console.next() two times. \n<em>1st Inside if condition and \n2nd while adding to <strong>ArrayList</strong>.</em>\n Correct Code : </p>\n\n<pre><code>public class TestClass{\npublic static void main(String[] args) {\n  AddStrings();\n}\n\npublic static void AddStrings() {\nScanner console = new Scanner(System.in);\n\nArrayList&lt;String&gt; strings = new ArrayList&lt;String&gt;(); //this arraylist will hold the inputs the user types in in the while loop below\n\nwhile(true) {\n    System.out.println(\"Input file name (no spaces) (type done to finish): \");\n    String input = console.next();\n    if(input.equals(\"done\")) break;\n    strings.add(input);\n\n    System.out.println(strings);\n}\nSystem.out.println(strings); //for testing purposes\n\nconsole.close();\n}\n}\n</code></pre>\n"}],"owner":{"account_id":4769211,"reputation":1,"user_id":3854501,"display_name":"GandalfTheBlue"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":344,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1684890792,"creation_date":1452480715,"question_id":34713495,"body_markdown":"I&#39;ve been doing a ton of research on this for the past few hours, with no luck. I am pretty sure this is a problem with .next() or .nextLine() (according to my searches). However, nothing has helped me solve my problem.\r\n\r\nWhen I run the code below, I have to type in input twice, and only one of the inputs is subsequently added to the arrayList (which can be seen when you print the contents of the arrayList).\r\n\r\n    import java.io.File;\r\n    import java.util.ArrayList;\r\n    import java.util.Scanner;\r\n\r\n    public class Tester{\r\n\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tAddStrings();\r\n\t}\r\n\r\n\tpublic static void AddStrings() {\r\n\t\tScanner console = new Scanner(System.in);\r\n\r\n\t\tArrayList&lt;String&gt; strings = new ArrayList&lt;String&gt;(); //this arraylist will hold the inputs the user types in in the while loop below\r\n\r\n\t\twhile(true) {\r\n\t\t\tSystem.out.println(&quot;Input file name (no spaces) (type done to finish): &quot;);\r\n\t\t\tif(console.next().equals(&quot;done&quot;)) break;\r\n\r\n\t\t\t//console.nextLine(); /*according to my observations, with every use of .next() or .nextLine(), I am required to type in the same input one more time\r\n\t\t\t//* however, all my google/stackoverflow/ reddit searches said to include \r\n\t\t\t//* a .nextLine() */\r\n\t\t\t//String inputs = console.next(); //.next makes me type input twice, .nextLine only makes me do it once, but doesn&#39;t add anything to arrayList\r\n\t\t\tstrings.add(console.next());\r\n\r\n\r\n\t\t}\r\n\t\tSystem.out.println(strings); //for testing purposes\r\n\r\n\t\tconsole.close();\r\n\t}\r\n    }\r\n\r\n","title":"Scanner is requiring me to type inputs twice just for one to register","body":"<p>I've been doing a ton of research on this for the past few hours, with no luck. I am pretty sure this is a problem with .next() or .nextLine() (according to my searches). However, nothing has helped me solve my problem.</p>\n\n<p>When I run the code below, I have to type in input twice, and only one of the inputs is subsequently added to the arrayList (which can be seen when you print the contents of the arrayList).</p>\n\n<pre><code>import java.io.File;\nimport java.util.ArrayList;\nimport java.util.Scanner;\n\npublic class Tester{\n\n\npublic static void main(String[] args) {\n    AddStrings();\n}\n\npublic static void AddStrings() {\n    Scanner console = new Scanner(System.in);\n\n    ArrayList&lt;String&gt; strings = new ArrayList&lt;String&gt;(); //this arraylist will hold the inputs the user types in in the while loop below\n\n    while(true) {\n        System.out.println(\"Input file name (no spaces) (type done to finish): \");\n        if(console.next().equals(\"done\")) break;\n\n        //console.nextLine(); /*according to my observations, with every use of .next() or .nextLine(), I am required to type in the same input one more time\n        //* however, all my google/stackoverflow/ reddit searches said to include \n        //* a .nextLine() */\n        //String inputs = console.next(); //.next makes me type input twice, .nextLine only makes me do it once, but doesn't add anything to arrayList\n        strings.add(console.next());\n\n\n    }\n    System.out.println(strings); //for testing purposes\n\n    console.close();\n}\n}\n</code></pre>\n"},{"tags":["java","java.util.scanner"],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1461416735,"creation_date":1461416735,"answer_id":36811225,"question_id":36811212,"body_markdown":"Your loop is waiting for lines with one scanner, but reading lines from another `Scanner` (thus an infinite loop). This\r\n\r\n    while (lineScan.hasNext()) {\r\n        inter= scan.next();\r\n\r\nshould be something like\r\n\r\n    while (lineScan.hasNext()) {\r\n        inter= lineScan.next();","title":"How to properly scan for user input using java.util.Scanner?","body":"<p>Your loop is waiting for lines with one scanner, but reading lines from another <code>Scanner</code> (thus an infinite loop). This</p>\n\n<pre><code>while (lineScan.hasNext()) {\n    inter= scan.next();\n</code></pre>\n\n<p>should be something like</p>\n\n<pre><code>while (lineScan.hasNext()) {\n    inter= lineScan.next();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3963224,"reputation":9906,"user_id":3269852,"display_name":"Sanjeev"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1461417144,"creation_date":1461417144,"answer_id":36811288,"question_id":36811212,"body_markdown":"You do not need **two** Scanner Objects to achieve the output this shall work for you\r\n\r\n    scan= new Scanner(System.in); //scan from the keyboard\r\n    System.out.println(&quot;Enter a line of text: &quot;);\r\n    input=scan.nextLine(); //scan the line of text\r\n\r\n   \r\n    System.out.println(input.toLowerCase());\r\n    scan.close();\r\n","title":"How to properly scan for user input using java.util.Scanner?","body":"<p>You do not need <strong>two</strong> Scanner Objects to achieve the output this shall work for you</p>\n\n<pre><code>scan= new Scanner(System.in); //scan from the keyboard\nSystem.out.println(\"Enter a line of text: \");\ninput=scan.nextLine(); //scan the line of text\n\n\nSystem.out.println(input.toLowerCase());\nscan.close();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8302646,"reputation":379,"user_id":6240822,"display_name":"Donat Pants"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1461417347,"creation_date":1461417347,"answer_id":36811324,"question_id":36811212,"body_markdown":"I recommend a different method:\r\n\r\n    import java.util.*;\r\n    public class something\r\n      {\r\n          static Scanner reader=new Scanner(System.in);\r\n          public static void main(String[] args)\r\n          {\r\n              System.out.println(&quot;type something (string)&quot;);\r\n              String text = reader.next();  // whatever the user typed is stored as a string here\r\n              System.out.println(text);\r\n\r\n              System.out.println(&quot;type something (int)&quot;);\r\n              int num = reader.nextInt();  // whatever the user typed is stored as an int here\r\n              System.out.println(num);\r\n\r\n              System.out.println(&quot;type something (double)&quot;);\r\n              double doub = reader.nextDouble(); // whatever the user typed is stored as double here\r\n              System.out.println(doub);\r\n            }\r\n        }\r\n\r\nthis is some example code for how I get user input.","title":"How to properly scan for user input using java.util.Scanner?","body":"<p>I recommend a different method:</p>\n\n<pre><code>import java.util.*;\npublic class something\n  {\n      static Scanner reader=new Scanner(System.in);\n      public static void main(String[] args)\n      {\n          System.out.println(\"type something (string)\");\n          String text = reader.next();  // whatever the user typed is stored as a string here\n          System.out.println(text);\n\n          System.out.println(\"type something (int)\");\n          int num = reader.nextInt();  // whatever the user typed is stored as an int here\n          System.out.println(num);\n\n          System.out.println(\"type something (double)\");\n          double doub = reader.nextDouble(); // whatever the user typed is stored as double here\n          System.out.println(doub);\n        }\n    }\n</code></pre>\n\n<p>this is some example code for how I get user input.</p>\n"}],"owner":{"account_id":8308266,"reputation":37,"user_id":6244457,"display_name":"Jane"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":482,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":36811225,"answer_count":3,"score":2,"last_activity_date":1684890755,"creation_date":1461416629,"question_id":36811212,"body_markdown":"I&#39;ve implemented the following code to print a phrase in lower case characters:\r\n\r\n    import java.util.Scanner;\r\n\r\n    public class LowerCase{ \r\n        public static void main (String[] args) {\r\n            String input, output = &quot;&quot;, inter;\r\n            Scanner scan, lineScan;\r\n            scan = new Scanner(System.in); // Scan from the keyboard\r\n            System.out.println(&quot;Enter a line of text: &quot;);\r\n            input = scan.nextLine(); // Scan the line of text\r\n\r\n            lineScan = new Scanner(input);\r\n            while (lineScan.hasNext()) {\r\n                inter = scan.next();\r\n                output += inter.toLowerCase() + &quot; &quot;;\r\n\t        }\r\n            System.out.println(output);\r\n        }\r\n    }\r\n\r\nI don&#39;t know what is wrong with my implementation! It compiles normally but when I run the code and type the input phrase, it freezes.","title":"How to properly scan for user input using java.util.Scanner?","body":"<p>I've implemented the following code to print a phrase in lower case characters:</p>\n\n<pre><code>import java.util.Scanner;\n\npublic class LowerCase{ \n    public static void main (String[] args) {\n        String input, output = \"\", inter;\n        Scanner scan, lineScan;\n        scan = new Scanner(System.in); // Scan from the keyboard\n        System.out.println(\"Enter a line of text: \");\n        input = scan.nextLine(); // Scan the line of text\n\n        lineScan = new Scanner(input);\n        while (lineScan.hasNext()) {\n            inter = scan.next();\n            output += inter.toLowerCase() + \" \";\n        }\n        System.out.println(output);\n    }\n}\n</code></pre>\n\n<p>I don't know what is wrong with my implementation! It compiles normally but when I run the code and type the input phrase, it freezes.</p>\n"},{"tags":["java","arraylist","iterator"],"answers":[{"comments":[{"owner":{"account_id":9312529,"reputation":23,"user_id":6913794,"display_name":"Zcyan"},"score":0,"creation_date":1475661338,"post_id":39870745,"comment_id":67028443,"body_markdown":"I get it now =) Thank you for your prompt response!","body":"I get it now =) Thank you for your prompt response!"}],"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1475661352,"creation_date":1475661027,"answer_id":39870745,"question_id":39870706,"body_markdown":"For each click you create a new `ArrayList`, add 3 elements to it, create an iterator and obtain the first element from the list via the iterator.\r\nTherefore you always get the same output.\r\n\r\nIn order to get a different element on each click, you should keep your `ArrayList` and your iterator as members of your class.\r\n\r\nFor example :\r\n\r\n    public class YourClass\r\n    {\r\n        private List&lt;String&gt; numbers;\r\n        private ListIterator&lt;String&gt; litr;\r\n\r\n        public YourClass () {\r\n            numbers = new ArrayList&lt;&gt;();\r\n            numbers.add(&quot;A&quot;);\r\n            numbers.add(&quot;B&quot;);\r\n            numbers.add(&quot;C&quot;);                 \r\n            litr = numbers.listIterator();  \r\n        }\r\n\r\n        ... \r\n        btnNext.addActionListener(new ActionListener() {\r\n            public void actionPerformed(ActionEvent arg0) {              \r\n                if (litr.hasNext()) {                  \r\n                    System.out.print(litr.next());\r\n                }\r\n            }\r\n        });\r\n        ...\r\n    }\r\n\r\nNote that after clicking the button 3 times, it will stop producing output, since the iterator will reach the end of your list.","title":"Displaying elements of Arraylist one by one","body":"<p>For each click you create a new <code>ArrayList</code>, add 3 elements to it, create an iterator and obtain the first element from the list via the iterator.\nTherefore you always get the same output.</p>\n\n<p>In order to get a different element on each click, you should keep your <code>ArrayList</code> and your iterator as members of your class.</p>\n\n<p>For example :</p>\n\n<pre><code>public class YourClass\n{\n    private List&lt;String&gt; numbers;\n    private ListIterator&lt;String&gt; litr;\n\n    public YourClass () {\n        numbers = new ArrayList&lt;&gt;();\n        numbers.add(\"A\");\n        numbers.add(\"B\");\n        numbers.add(\"C\");                 \n        litr = numbers.listIterator();  \n    }\n\n    ... \n    btnNext.addActionListener(new ActionListener() {\n        public void actionPerformed(ActionEvent arg0) {              \n            if (litr.hasNext()) {                  \n                System.out.print(litr.next());\n            }\n        }\n    });\n    ...\n}\n</code></pre>\n\n<p>Note that after clicking the button 3 times, it will stop producing output, since the iterator will reach the end of your list.</p>\n"},{"tags":[],"owner":{"account_id":3583958,"reputation":80987,"user_id":2991525,"display_name":"fabian"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1475662258,"creation_date":1475662258,"answer_id":39871177,"question_id":39870706,"body_markdown":"You recreate the list and the iterator every time the `actionPerformed` method is executed. You have to reuse the same iterator instance however, to achieve the desired result. You could e.g. store the iterator as field in the `ActionListener`:\r\n\r\n    btnNext.addActionListener(new ActionListener() {\r\n\r\n        private final ListIterator litr;\r\n\r\n        {\r\n            ArrayList numbers = new ArrayList();\r\n            numbers.add(&quot;A&quot;);\r\n            numbers.add(&quot;B&quot;);\r\n            numbers.add(&quot;C&quot;);\r\n            this.litr = numbers.listIterator();\r\n        }\r\n\r\n        public void actionPerformed(ActionEvent arg0) {           \r\n            if (litr.hasNext()) {                  \r\n                System.out.print(litr.next());\r\n            }\r\n        }\r\n    });","title":"Displaying elements of Arraylist one by one","body":"<p>You recreate the list and the iterator every time the <code>actionPerformed</code> method is executed. You have to reuse the same iterator instance however, to achieve the desired result. You could e.g. store the iterator as field in the <code>ActionListener</code>:</p>\n\n<pre><code>btnNext.addActionListener(new ActionListener() {\n\n    private final ListIterator litr;\n\n    {\n        ArrayList numbers = new ArrayList();\n        numbers.add(\"A\");\n        numbers.add(\"B\");\n        numbers.add(\"C\");\n        this.litr = numbers.listIterator();\n    }\n\n    public void actionPerformed(ActionEvent arg0) {           \n        if (litr.hasNext()) {                  \n            System.out.print(litr.next());\n        }\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":9312529,"reputation":23,"user_id":6913794,"display_name":"Zcyan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1331,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":39870745,"answer_count":2,"score":0,"last_activity_date":1684890719,"creation_date":1475660905,"question_id":39870706,"body_markdown":"Everytime I clicked next button it should display the next element of my arraylist. It is not what&#39;s happening. It stays at the first element.\r\n\r\n    JButton btnNext = new JButton(&quot;Next&quot;);\r\n\t\tbtnNext.addActionListener(new ActionListener() {\r\n\t\t\tpublic void actionPerformed(ActionEvent arg0) {\r\n\t\t\t\tArrayList numbers = new ArrayList();\r\n\t\t\t\tnumbers.add(&quot;A&quot;);\r\n\t\t\t\tnumbers.add(&quot;B&quot;);\r\n\t\t\t\tnumbers.add(&quot;C&quot;);\t\t\t      \r\n\t\t\t\tListIterator litr = numbers.listIterator();\t\t\t      \r\n\t\t\t      if (litr.hasNext()) {\t\t\t         \r\n\t\t\t         System.out.print(litr.next());\r\n\t\t\t      }\r\n\t\t\t    \r\n\t\t\t   \r\n\t\t\t}\r\n\t\t});\r\n\t\tbtnNext.setBounds(71, 167, 89, 23);\r\n\t\tcontentPane.add(btnNext);\r\n\r\n \r\n\r\nObtain output: AAA\r\nExpected output: ABC (for 3 clicks)","title":"Displaying elements of Arraylist one by one","body":"<p>Everytime I clicked next button it should display the next element of my arraylist. It is not what's happening. It stays at the first element.</p>\n\n<pre><code>JButton btnNext = new JButton(\"Next\");\n    btnNext.addActionListener(new ActionListener() {\n        public void actionPerformed(ActionEvent arg0) {\n            ArrayList numbers = new ArrayList();\n            numbers.add(\"A\");\n            numbers.add(\"B\");\n            numbers.add(\"C\");                 \n            ListIterator litr = numbers.listIterator();               \n              if (litr.hasNext()) {                  \n                 System.out.print(litr.next());\n              }\n\n\n        }\n    });\n    btnNext.setBounds(71, 167, 89, 23);\n    contentPane.add(btnNext);\n</code></pre>\n\n<p>Obtain output: AAA\nExpected output: ABC (for 3 clicks)</p>\n"},{"tags":["java","parameters","java.util.scanner","trim"],"comments":[{"owner":{"account_id":4146553,"reputation":32805,"user_id":5743988,"accept_rate":67,"display_name":"4castle"},"score":0,"creation_date":1476118828,"post_id":39963175,"comment_id":67206192,"body_markdown":"`System.out.print(n);`","body":"<code>System.out.print(n);</code>"},{"owner":{"account_id":9216816,"reputation":635,"user_id":6847657,"display_name":"Dmitry Smorzhok"},"score":0,"creation_date":1476118841,"post_id":39963175,"comment_id":67206195,"body_markdown":"are you looking for `System.out.println(&quot;Any string&quot;);`? That is right from HelloWorld example","body":"are you looking for <code>System.out.println(&quot;Any string&quot;);</code>? That is right from HelloWorld example"},{"owner":{"account_id":7424117,"reputation":56335,"user_id":5647260,"accept_rate":82,"display_name":"Andrew Li"},"score":0,"creation_date":1476118856,"post_id":39963175,"comment_id":67206203,"body_markdown":"Print the call. Also, you never prompt (print the prompt)","body":"Print the call. Also, you never prompt (print the prompt)"}],"answers":[{"tags":[],"owner":{"account_id":1090299,"reputation":1,"user_id":1085071,"display_name":"Tyler Laracuente"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1476223940,"creation_date":1476118964,"answer_id":39963266,"question_id":39963175,"body_markdown":"I think you are over-thinking this thing. Just print it to the console. \r\n\r\n     public static void main(String[]args){\r\n      String result = promptString(&quot;Enter your first name: &quot;); \r\n      System.out.println(result); \r\n     }\r\n\r\n\r\n","title":"Hello, I need help on creating a Star Wars name generator using specific instructions","body":"<p>I think you are over-thinking this thing. Just print it to the console. </p>\n\n<pre><code> public static void main(String[]args){\n  String result = promptString(\"Enter your first name: \"); \n  System.out.println(result); \n }\n</code></pre>\n"}],"owner":{"account_id":9365093,"reputation":117,"user_id":6950269,"display_name":"Johan14th"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":226,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1684890696,"creation_date":1476118587,"question_id":39963175,"body_markdown":"I&#39;m struggling with a specific method which takes in a `String` parameter. The `promptString` method will print its parameter to the user as a prompt, and then return a `String` that is the result of reading the console via the `nextLine()` method. For this program you will use `nextLine()` exclusively.\r\n\r\nI&#39;ve prompted  the user with a question using a parameter, and then used `nextLine` to read the string but after that I am a bit lost. How can I get the method to print to the console?\r\n\r\n  \r\n    import java.util.*;\r\n    public class StarWarsName{\r\n      public static void main (String [] args) {\r\n        promptString(&quot;Enter your first name: &quot;);\r\n      }\r\n      public static String promptString (String n) {\r\n        Scanner console = new Scanner(System.in);\r\n        String first = console.nextline();\r\n        return first.trim();\r\n      }\r\n    }","title":"Hello, I need help on creating a Star Wars name generator using specific instructions","body":"<p>I'm struggling with a specific method which takes in a <code>String</code> parameter. The <code>promptString</code> method will print its parameter to the user as a prompt, and then return a <code>String</code> that is the result of reading the console via the <code>nextLine()</code> method. For this program you will use <code>nextLine()</code> exclusively.</p>\n\n<p>I've prompted  the user with a question using a parameter, and then used <code>nextLine</code> to read the string but after that I am a bit lost. How can I get the method to print to the console?</p>\n\n<pre><code>import java.util.*;\npublic class StarWarsName{\n  public static void main (String [] args) {\n    promptString(\"Enter your first name: \");\n  }\n  public static String promptString (String n) {\n    Scanner console = new Scanner(System.in);\n    String first = console.nextline();\n    return first.trim();\n  }\n}\n</code></pre>\n"},{"tags":["java","if-statement","java.util.scanner"],"comments":[{"owner":{"account_id":4129207,"reputation":75209,"user_id":3395198,"accept_rate":54,"display_name":"IntelliJ Amiya"},"score":0,"creation_date":1496050158,"post_id":44239008,"comment_id":75487343,"body_markdown":"where is `else if`","body":"where is <code>else if</code>"},{"owner":{"account_id":1530592,"reputation":92715,"user_id":1427878,"display_name":"CBroe"},"score":0,"creation_date":1496050171,"post_id":44239008,"comment_id":75487353,"body_markdown":"Replace the second else with an else-if, that check if the entered char was `n` ...","body":"Replace the second else with an else-if, that check if the entered char was <code>n</code> ..."},{"owner":{"account_id":5955901,"reputation":10524,"user_id":4682610,"accept_rate":29,"display_name":"Florian Schaetz"},"score":0,"creation_date":1496050184,"post_id":44239008,"comment_id":75487356,"body_markdown":"I suggest trying break your problem into steps... Step 1: Read the word. Step 2: Check for &quot;c&quot;. Step 3: If not &quot;c&quot;, check for &quot;n&quot;, Step 4: Sysout. You will need to store your read value into a variable, because calling choices.next() two times will lead to funny results.","body":"I suggest trying break your problem into steps... Step 1: Read the word. Step 2: Check for &quot;c&quot;. Step 3: If not &quot;c&quot;, check for &quot;n&quot;, Step 4: Sysout. You will need to store your read value into a variable, because calling choices.next() two times will lead to funny results."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1496050576,"post_id":44239008,"comment_id":75487613,"body_markdown":"Regarding your edit, that&#39;s because you&#39;re prompting them again by calling `choices.next()` again. Store the result in a variable and then you can test it as many times as you need to.","body":"Regarding your edit, that&#39;s because you&#39;re prompting them again by calling <code>choices.next()</code> again. Store the result in a variable and then you can test it as many times as you need to."},{"owner":{"account_id":7009242,"reputation":1636,"user_id":5372723,"accept_rate":100,"display_name":"Turtle"},"score":0,"creation_date":1496064585,"post_id":44239008,"comment_id":75496344,"body_markdown":"@Eustion you replaced an important part of your question by &quot;Problem solved&quot;, so your question and its answer don&#39;t really make sense anymore. You should keep the part where you said that you tried a `else if` and that you were reading two characters, as it was the real problem (calling `next()` twice)","body":"@Eustion you replaced an important part of your question by &quot;Problem solved&quot;, so your question and its answer don&#39;t really make sense anymore. You should keep the part where you said that you tried a <code>else if</code> and that you were reading two characters, as it was the real problem (calling <code>next()</code> twice)"}],"answers":[{"comments":[{"owner":{"account_id":214848,"reputation":10171,"user_id":469080,"accept_rate":100,"display_name":"Michael Dodd"},"score":0,"creation_date":1496050287,"post_id":44239036,"comment_id":75487423,"body_markdown":"You can&#39;t have multiple `else` statements. Middle line needs to be `else if`.","body":"You can&#39;t have multiple <code>else</code> statements. Middle line needs to be <code>else if</code>."},{"owner":{"account_id":5955901,"reputation":10524,"user_id":4682610,"accept_rate":29,"display_name":"Florian Schaetz"},"score":1,"creation_date":1496050296,"post_id":44239036,"comment_id":75487428,"body_markdown":"Guys... He does NOT want to check the FIRST keyword against &quot;c&quot; and then the SECOND against &quot;n&quot;...","body":"Guys... He does NOT want to check the FIRST keyword against &quot;c&quot; and then the SECOND against &quot;n&quot;..."},{"owner":{"account_id":4129207,"reputation":75209,"user_id":3395198,"accept_rate":54,"display_name":"IntelliJ Amiya"},"score":0,"creation_date":1496050569,"post_id":44239036,"comment_id":75487607,"body_markdown":"Now your answer perfect","body":"Now your answer perfect"}],"tags":[],"owner":{"account_id":10860042,"reputation":191,"user_id":7985188,"display_name":"Kaiserbogey"},"comment_count":3,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1496050305,"creation_date":1496050121,"answer_id":44239036,"question_id":44239008,"body_markdown":"The `else` keyword is exactly what you need. What you should use to solve your problem is `else if`. To avoid reading another input between the `if`&#39;s, just store `choices.next()` in a variable and call this variable instead in your `if`s statements.\r\n\r\n    String entry = choices.next();\r\n    if (entry.startsWith(&quot;c&quot;)) {\r\n        cmethod();\r\n    }\r\n    else if (entry.startsWith(&quot;n&quot;)) {\r\n        nmethod();\r\n    }\r\n    else {\r\n        // default behaviour if wrong entry\r\n    }\r\n\r\nThe nmethod() will be called only if the input is not &#39;c&#39; and is &#39;n&#39;, and if none of these conditions are met, it will enter the `else` part.","title":"If user input doesn&#39;t meet conditions, return message","body":"<p>The <code>else</code> keyword is exactly what you need. What you should use to solve your problem is <code>else if</code>. To avoid reading another input between the <code>if</code>'s, just store <code>choices.next()</code> in a variable and call this variable instead in your <code>if</code>s statements.</p>\n\n<pre><code>String entry = choices.next();\nif (entry.startsWith(\"c\")) {\n    cmethod();\n}\nelse if (entry.startsWith(\"n\")) {\n    nmethod();\n}\nelse {\n    // default behaviour if wrong entry\n}\n</code></pre>\n\n<p>The nmethod() will be called only if the input is not 'c' and is 'n', and if none of these conditions are met, it will enter the <code>else</code> part.</p>\n"},{"comments":[{"owner":{"account_id":1786329,"reputation":10939,"user_id":1627730,"accept_rate":75,"display_name":"stealthjong"},"score":2,"creation_date":1496050608,"post_id":44239164,"comment_id":75487629,"body_markdown":"Finally someone who gets it.","body":"Finally someone who gets it."},{"owner":{"account_id":9211502,"reputation":31,"user_id":6844460,"display_name":"Eustion"},"score":0,"creation_date":1496050653,"post_id":44239164,"comment_id":75487663,"body_markdown":"Thanks! Works like a charm.","body":"Thanks! Works like a charm."},{"owner":{"account_id":7009242,"reputation":1636,"user_id":5372723,"accept_rate":100,"display_name":"Turtle"},"score":0,"creation_date":1496051159,"post_id":44239164,"comment_id":75488009,"body_markdown":"A lot of people went mad over the `else if` ^^\nAs a precision, the use of a switch could&#39;ve been more logical, as it falls in the category of &quot;applying different behaviors and getting a fallback case when none works&quot;","body":"A lot of people went mad over the <code>else if</code> ^^ As a precision, the use of a switch could&#39;ve been more logical, as it falls in the category of &quot;applying different behaviors and getting a fallback case when none works&quot;"}],"tags":[],"owner":{"account_id":8664297,"reputation":1117,"user_id":6485457,"accept_rate":80,"display_name":"modsfabio"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1496050549,"creation_date":1496050549,"answer_id":44239164,"question_id":44239008,"body_markdown":"You have to extract `next()` to a variable. If you don&#39;t do it, `next()` will always return the current keyword and move on to the next one.\r\nAdditionally you have to use `else if` if you want to check for another keyword.\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;This program can randomize characters or numbers.&quot;);\r\n        System.out.println(&quot;Please input \\&quot;c\\&quot; for characters, and \\&quot;n\\&quot; for numbers. &quot;);\r\n        Scanner choices = new Scanner(System.in);\r\n\r\n        String keyword = choices.next();\r\n\r\n        if (keyword.startsWith(&quot;c&quot;)) {\r\n            cmethod();\r\n        } else if (keyword.startsWith(&quot;n&quot;)) {\r\n            nmethod();\r\n        } else {\r\n            System.out.println(&quot;Keyword is wrong.&quot;);\r\n        }\r\n    }","title":"If user input doesn&#39;t meet conditions, return message","body":"<p>You have to extract <code>next()</code> to a variable. If you don't do it, <code>next()</code> will always return the current keyword and move on to the next one.\nAdditionally you have to use <code>else if</code> if you want to check for another keyword.</p>\n\n<pre><code>public static void main(String[] args) {\n    System.out.println(\"This program can randomize characters or numbers.\");\n    System.out.println(\"Please input \\\"c\\\" for characters, and \\\"n\\\" for numbers. \");\n    Scanner choices = new Scanner(System.in);\n\n    String keyword = choices.next();\n\n    if (keyword.startsWith(\"c\")) {\n        cmethod();\n    } else if (keyword.startsWith(\"n\")) {\n        nmethod();\n    } else {\n        System.out.println(\"Keyword is wrong.\");\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9211502,"reputation":31,"user_id":6844460,"display_name":"Eustion"},"score":0,"creation_date":1496051221,"post_id":44239289,"comment_id":75488048,"body_markdown":"Was wondering how to do this with `switch` statement. Thanks for the information!","body":"Was wondering how to do this with <code>switch</code> statement. Thanks for the information!"}],"tags":[],"owner":{"account_id":7009242,"reputation":1636,"user_id":5372723,"accept_rate":100,"display_name":"Turtle"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1496050904,"creation_date":1496050904,"answer_id":44239289,"question_id":44239008,"body_markdown":"Even though you have some working solutions provided here, it seems weird that no one spoke about the really easy `switch` statement.\r\n\r\nBasically:\r\n\r\n\tpublic static void main(String[] args) {\r\n\t    System.out.println(&quot;This program can randomize characters or numbers.&quot;);\r\n\t    System.out.println(&quot;Please input \\&quot;c\\&quot; for characters, and \\&quot;n\\&quot; for numbers. &quot;);\r\n\t    Scanner choices = new Scanner(System.in);\r\n\r\n\t    switch(choices.next().charAt(0)) {\r\n\t    \tcase &#39;c&#39;:\r\n\t        \tcmethod();\r\n\t\t\t\tbreak;\r\n\t    \tcase &#39;n&#39;:\r\n\t    \t    nmethod();\r\n\t\t\t\tbreak;\r\n\t    \tdefault:\r\n\t    \t    System.out.println(&quot;Keyword is wrong.&quot;);\r\n\t\t}\r\n\t}\r\n\r\nThis join the other answers on the fact that the `next()` function is only evaluated once.","title":"If user input doesn&#39;t meet conditions, return message","body":"<p>Even though you have some working solutions provided here, it seems weird that no one spoke about the really easy <code>switch</code> statement.</p>\n\n<p>Basically:</p>\n\n<pre><code>public static void main(String[] args) {\n    System.out.println(\"This program can randomize characters or numbers.\");\n    System.out.println(\"Please input \\\"c\\\" for characters, and \\\"n\\\" for numbers. \");\n    Scanner choices = new Scanner(System.in);\n\n    switch(choices.next().charAt(0)) {\n        case 'c':\n            cmethod();\n            break;\n        case 'n':\n            nmethod();\n            break;\n        default:\n            System.out.println(\"Keyword is wrong.\");\n    }\n}\n</code></pre>\n\n<p>This join the other answers on the fact that the <code>next()</code> function is only evaluated once.</p>\n"},{"comments":[{"owner":{"account_id":7253324,"reputation":2255,"user_id":5532829,"display_name":"RoshanKumar Mutha"},"score":0,"creation_date":1496051798,"post_id":44239357,"comment_id":75488407,"body_markdown":"Think about future where you want to run any available method and show error if not found.","body":"Think about future where you want to run any available method and show error if not found."},{"owner":{"account_id":7009242,"reputation":1636,"user_id":5372723,"accept_rate":100,"display_name":"Turtle"},"score":0,"creation_date":1496064349,"post_id":44239357,"comment_id":75496190,"body_markdown":"I believe you didn&#39;t understand his question. He has only two options he must chose from, and has no need to dynamically adapt to the parameters.\nR","body":"I believe you didn&#39;t understand his question. He has only two options he must chose from, and has no need to dynamically adapt to the parameters. R"}],"tags":[],"owner":{"account_id":7253324,"reputation":2255,"user_id":5532829,"display_name":"RoshanKumar Mutha"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1496051120,"creation_date":1496051120,"answer_id":44239357,"question_id":44239008,"body_markdown":"Use reflection where you can pass method name and if method exist then it will be found otherwise it will throw exception where you can display message.\r\n\r\n\r\n    java.lang.reflect.Method method;\r\n    try {\r\n         method = this.getClass().getMethod(methodName, param1.class, \r\n     param2.class, ..);\r\n     } catch (SecurityException e) { ... }\r\n    catch (NoSuchMethodException e) { ... }\r\n\r\nTry sample where put correct and wrong method name in below test example.\r\n\r\n    public class Test {\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tObject obj = new Test();\r\n\r\n\t\tjava.lang.reflect.Method method;\r\n\t\ttry {\r\n\t\t\tmethod = obj.getClass().getMethod(&quot;tryone1&quot;);\r\n\t\t\tSystem.out.println(&quot;Found&quot;);\r\n\t\t} catch (SecurityException e) {\r\n\t\t\tSystem.out.println(&quot; SecurityException Found&quot;);\r\n\t\t} catch (NoSuchMethodException e) {\r\n\t\t\tSystem.out.println(&quot;Not Found&quot;);\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tpublic void tryone() {\r\n\t\t// TODO Auto-generated method stub\r\n\r\n\t}\r\n\r\n\tpublic void trytwo() {\r\n\t\t// TODO Auto-generated method stub\r\n\r\n\t}\r\n\r\n    }\r\n\r\n\r\nDo customize above example as per your need. Such as if c comes as argument then String methodname= arg[0]+&quot;method&quot; and pass as method parameter name in getMethod(&quot;tryone1&quot;) method.","title":"If user input doesn&#39;t meet conditions, return message","body":"<p>Use reflection where you can pass method name and if method exist then it will be found otherwise it will throw exception where you can display message.</p>\n\n<pre><code>java.lang.reflect.Method method;\ntry {\n     method = this.getClass().getMethod(methodName, param1.class, \n param2.class, ..);\n } catch (SecurityException e) { ... }\ncatch (NoSuchMethodException e) { ... }\n</code></pre>\n\n<p>Try sample where put correct and wrong method name in below test example.</p>\n\n<pre><code>public class Test {\n\npublic static void main(String[] args) {\n\n    Object obj = new Test();\n\n    java.lang.reflect.Method method;\n    try {\n        method = obj.getClass().getMethod(\"tryone1\");\n        System.out.println(\"Found\");\n    } catch (SecurityException e) {\n        System.out.println(\" SecurityException Found\");\n    } catch (NoSuchMethodException e) {\n        System.out.println(\"Not Found\");\n    }\n\n}\n\npublic void tryone() {\n    // TODO Auto-generated method stub\n\n}\n\npublic void trytwo() {\n    // TODO Auto-generated method stub\n\n}\n\n}\n</code></pre>\n\n<p>Do customize above example as per your need. Such as if c comes as argument then String methodname= arg[0]+\"method\" and pass as method parameter name in getMethod(\"tryone1\") method.</p>\n"},{"tags":[],"owner":{"account_id":10998865,"reputation":223,"user_id":8080044,"display_name":"fluffy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1496051413,"creation_date":1496051413,"answer_id":44239445,"question_id":44239008,"body_markdown":"Try:\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;This program can randomize characters or numbers.&quot;);\r\n        System.out.println(&quot;Please input \\&quot;c\\&quot; for characters, and \\&quot;n\\&quot; for numbers. &quot;);\r\n        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\r\n        try{\r\n        String s = br.readLine();\r\n        if (s.startsWith(&quot;c&quot;)) {\r\n            System.out.println(&quot;c&quot;);\r\n            System.exit(1);\r\n        }\r\n        if (s.startsWith(&quot;n&quot;)){\r\n            System.out.println(&quot;n&quot;);\r\n            System.exit(1);\r\n        }else {\r\n        System.out.println(&quot;Keyword is wrong.&quot;);\r\n        }\r\n        }catch(Exception e){\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\nWorked For me, hope it does for you.","title":"If user input doesn&#39;t meet conditions, return message","body":"<p>Try:</p>\n\n<pre><code>public static void main(String[] args) {\n    System.out.println(\"This program can randomize characters or numbers.\");\n    System.out.println(\"Please input \\\"c\\\" for characters, and \\\"n\\\" for numbers. \");\n    BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n    try{\n    String s = br.readLine();\n    if (s.startsWith(\"c\")) {\n        System.out.println(\"c\");\n        System.exit(1);\n    }\n    if (s.startsWith(\"n\")){\n        System.out.println(\"n\");\n        System.exit(1);\n    }else {\n    System.out.println(\"Keyword is wrong.\");\n    }\n    }catch(Exception e){\n        e.printStackTrace();\n    }\n}\n</code></pre>\n\n<p>Worked For me, hope it does for you.</p>\n"},{"tags":[],"owner":{"account_id":3877963,"reputation":546,"user_id":5204909,"accept_rate":71,"display_name":"R Dhaval"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1496051587,"creation_date":1496051587,"answer_id":44239510,"question_id":44239008,"body_markdown":"Another approach: Using switch-case \r\n\r\n    String s =choices.next();\r\n    char first = s.charAt(0);\r\n\r\n    switch(first){\r\n      case &#39;c&#39;: cmethod(); break;\r\n      case &#39;n&#39;:nmethod(); break;\r\n      default : System.out.println(&quot;Keyword is wrong.&quot;);\r\n    }","title":"If user input doesn&#39;t meet conditions, return message","body":"<p>Another approach: Using switch-case </p>\n\n<pre><code>String s =choices.next();\nchar first = s.charAt(0);\n\nswitch(first){\n  case 'c': cmethod(); break;\n  case 'n':nmethod(); break;\n  default : System.out.println(\"Keyword is wrong.\");\n}\n</code></pre>\n"}],"owner":{"account_id":9211502,"reputation":31,"user_id":6844460,"display_name":"Eustion"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":388,"favorite_count":0,"down_vote_count":3,"up_vote_count":3,"accepted_answer_id":44239164,"answer_count":6,"score":0,"last_activity_date":1684890640,"creation_date":1496050038,"question_id":44239008,"body_markdown":"So I&#39;m really new to Java, and what I&#39;m trying to do is let the user input a keyword, which will be passed to different conditions. If the keyword starts with &quot;c&quot;, it will execute cmethod. If the keyword starts with &quot;n&quot;, it will execute nmethod. \r\nThe problem is, I also want to display a message if the user inputs neither something that starts with &quot;c&quot; or &quot;n&quot;. Here&#39;s what I&#39;ve been able to think through (I&#39;m aware that this code won&#39;t work though)\r\n\r\n        public static void main(String[] args) {\r\n        System.out.println(&quot;This program can randomize characters or numbers.&quot;);\r\n        System.out.println(&quot;Please input \\&quot;c\\&quot; for characters, and \\&quot;n\\&quot; for numbers. &quot;);\r\n        Scanner choices = new Scanner(System.in);\r\n        \r\n        if (choices.next().startsWith(&quot;c&quot;)) {\r\n            cmethod();\r\n        }\r\n                \r\n        else {\r\n            nmethod();\r\n        }\r\n        \r\n        //how do I execute the code below if none of the conditions are met?\r\n        else {\r\n            System.out.println(&quot;Keyword is wrong.&quot;);\r\n        }\r\n    }\r\n\r\n**EDIT :** Tried to use else if, but then for nmethod() to be executed, the user have to type in &quot;n&quot; twice.\r\n\r\n\r\n","title":"If user input doesn&#39;t meet conditions, return message","body":"<p>So I'm really new to Java, and what I'm trying to do is let the user input a keyword, which will be passed to different conditions. If the keyword starts with \"c\", it will execute cmethod. If the keyword starts with \"n\", it will execute nmethod. \nThe problem is, I also want to display a message if the user inputs neither something that starts with \"c\" or \"n\". Here's what I've been able to think through (I'm aware that this code won't work though)</p>\n\n<pre><code>    public static void main(String[] args) {\n    System.out.println(\"This program can randomize characters or numbers.\");\n    System.out.println(\"Please input \\\"c\\\" for characters, and \\\"n\\\" for numbers. \");\n    Scanner choices = new Scanner(System.in);\n\n    if (choices.next().startsWith(\"c\")) {\n        cmethod();\n    }\n\n    else {\n        nmethod();\n    }\n\n    //how do I execute the code below if none of the conditions are met?\n    else {\n        System.out.println(\"Keyword is wrong.\");\n    }\n}\n</code></pre>\n\n<p><strong>EDIT :</strong> Tried to use else if, but then for nmethod() to be executed, the user have to type in \"n\" twice.</p>\n"},{"tags":["java","iterator","queue","heap"],"answers":[{"comments":[{"owner":{"account_id":14639794,"reputation":422,"user_id":10572727,"display_name":"Adan Vivero"},"score":0,"creation_date":1557598722,"post_id":56092936,"comment_id":98822271,"body_markdown":"Oh thanks, that clears up a lot, and I believe I&#39;m using the iterator since my elementData is just returning null all the time.","body":"Oh thanks, that clears up a lot, and I believe I&#39;m using the iterator since my elementData is just returning null all the time."},{"owner":{"account_id":14639794,"reputation":422,"user_id":10572727,"display_name":"Adan Vivero"},"score":0,"creation_date":1557598739,"post_id":56092936,"comment_id":98822274,"body_markdown":"How would I find it with the iterator, since I don&#39;t have elementData to look at?","body":"How would I find it with the iterator, since I don&#39;t have elementData to look at?"},{"owner":{"account_id":15915815,"reputation":736,"user_id":11484412,"display_name":"Konrad Neitzel"},"score":0,"creation_date":1557599573,"post_id":56092936,"comment_id":98822473,"body_markdown":"You did it as an internal class? An internal class has access to the parent class.\n\nJust quickly did an implementation that you can check. Will post it as another answer (so that you can see the code!)","body":"You did it as an internal class? An internal class has access to the parent class.  Just quickly did an implementation that you can check. Will post it as another answer (so that you can see the code!)"},{"owner":{"account_id":14639794,"reputation":422,"user_id":10572727,"display_name":"Adan Vivero"},"score":0,"creation_date":1557599604,"post_id":56092936,"comment_id":98822482,"body_markdown":"I do have a parent method.","body":"I do have a parent method."},{"owner":{"account_id":15915815,"reputation":736,"user_id":11484412,"display_name":"Konrad Neitzel"},"score":0,"creation_date":1557599682,"post_id":56092936,"comment_id":98822501,"body_markdown":"Not parent method - parent class. We are talking about inner class. And I edited my answer and put the example code there.","body":"Not parent method - parent class. We are talking about inner class. And I edited my answer and put the example code there."},{"owner":{"account_id":14639794,"reputation":422,"user_id":10572727,"display_name":"Adan Vivero"},"score":0,"creation_date":1557599776,"post_id":56092936,"comment_id":98822523,"body_markdown":"However, I can&#39;t set the index to any number because I have tests that validate it, but everything else worked. and I posted the correct hasNext() method up above.","body":"However, I can&#39;t set the index to any number because I have tests that validate it, but everything else worked. and I posted the correct hasNext() method up above."},{"owner":{"account_id":15915815,"reputation":736,"user_id":11484412,"display_name":"Konrad Neitzel"},"score":0,"creation_date":1557600319,"post_id":56092936,"comment_id":98822641,"body_markdown":"Test your code:\n- next is not moving to the next element, so you will get an endless loop.\n- hasNext does not need the check of size==0. Your index will never be negative, so index&lt;size is false for size == 0.","body":"Test your code: - next is not moving to the next element, so you will get an endless loop. - hasNext does not need the check of size==0. Your index will never be negative, so index&lt;size is false for size == 0."},{"owner":{"account_id":14639794,"reputation":422,"user_id":10572727,"display_name":"Adan Vivero"},"score":0,"creation_date":1557617399,"post_id":56092936,"comment_id":98826049,"body_markdown":"You seem very knowledgeable about this, would you mind taking a look at my contains method, is a little different, but it&#39;s primarily still involved with this code. It appears that no one is viewing it and I&#39;m not getting any help on it and I&#39;ve been stuck on it for like hours. Here&#39;s the link to it. https://stackoverflow.com/questions/56093410/how-to-find-if-a-heapqueue-contains-a-value-in-java","body":"You seem very knowledgeable about this, would you mind taking a look at my contains method, is a little different, but it&#39;s primarily still involved with this code. It appears that no one is viewing it and I&#39;m not getting any help on it and I&#39;ve been stuck on it for like hours. Here&#39;s the link to it. <a href=\"https://stackoverflow.com/questions/56093410/how-to-find-if-a-heapqueue-contains-a-value-in-java\" title=\"how to find if a heapqueue contains a value in java\">stackoverflow.com/questions/56093410/&hellip;</a>"}],"tags":[],"owner":{"account_id":15915815,"reputation":736,"user_id":11484412,"display_name":"Konrad Neitzel"},"comment_count":8,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1557599636,"creation_date":1557597393,"answer_id":56092936,"question_id":56092725,"body_markdown":"First of all, my understanding is, that your data is inside elementData and size gives the number of elements stored inside.\r\n\r\niterator() gives you an iterator. Your Iterator implementation has index as a point to the current element.\r\n\r\nWhat do you plan to store inside index? I see 2 possibilities:\r\na) it is giving you the current data location. The first element inside the array is element 0, so to be before that, I would initialize it as -1.\r\nb) It could be visual. So it is initialized as 0 first and then 1 means: first element, which would be the elementData[0].\r\n==&gt; It is just an internal variable so it is completely up to you, what you want to store inside of it.\r\n\r\nNow let us look at your hasNext method. If the sizer is 0, then there cannot be a next element. Ok. But then you check if iterator() is null? iterator always returns a new instance of your inner iterator class. So it will always be non null! So this seems wrong.\r\n\r\nYou have index and size. So you just have to check if the index is already pointing to the last element. So depending on the choice a/b above, you simply have to check if index+1 &lt; size or index&lt;size.\r\n\r\nAnd then the next function:\r\n - It has to validate that there is another element. (=&gt; hasNext)\r\n - you increase index\r\n - you return the element, index is pointing to (elementData[index] or elementData[index-1] (depends again on your decision what to store inside index)\r\n\r\nMy hint is, to play around with it with paper and pen. Just write an instance of your class with e.g. 3 elements (so elementData[0], elementData[1], elementData[2] hs some value, size = 3. You create a new instance of your iterator, index is initialized and then see what must happen.\r\n\r\nA possible class that shows an implementation is:\r\nimport java.util.Iterator;\r\n    \r\n    public class MaxHeapPriorityQueue&lt;E extends Comparable&lt;E&gt;&gt; {\r\n        private E[] elementData;\r\n        private int size;\r\n    \r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        public MaxHeapPriorityQueue() {\r\n            elementData = (E[]) new Comparable[10];\r\n            size = 0;\r\n        }\r\n    \r\n        public void add(E data) {\r\n            if (size == 10) throw new IllegalStateException(&quot;Queue full&quot;);\r\n    \r\n            elementData[size] = data;\r\n            size++;\r\n        }\r\n    \r\n        public Iterator&lt;E&gt; iterator() {\r\n            return new MHPQIterator();\r\n        }\r\n    \r\n        public class MHPQIterator implements java.util.Iterator&lt;E&gt;\r\n        {\r\n            private int index=-1;\r\n    \r\n            public boolean hasNext()\r\n            {\r\n                return (index+1)&lt;size;\r\n            }\r\n    \r\n            public E next()\r\n            {\r\n                index++;\r\n                return elementData[index];\r\n            }\r\n        }\r\n    \r\n        public static void main (String[] args) {\r\n            MaxHeapPriorityQueue&lt;Integer&gt; queue = new MaxHeapPriorityQueue&lt;&gt;();\r\n            Iterator&lt;Integer&gt; iterator = queue.iterator();\r\n    \r\n            System.out.println(&quot;Empty queue:&quot;);\r\n            while (iterator.hasNext())\r\n                System.out.println(iterator.next());\r\n    \r\n            queue.add(1);\r\n    \r\n            System.out.println(&quot;Queue with 1 element (1):&quot;);\r\n            iterator = queue.iterator();\r\n            while (iterator.hasNext())\r\n                System.out.println(iterator.next());\r\n    \r\n            queue.add(2);\r\n            queue.add(3);\r\n            queue.add(4);\r\n    \r\n            System.out.println(&quot;Queue with 4 elementa (1,2,3,4):&quot;);\r\n            iterator = queue.iterator();\r\n            while (iterator.hasNext())\r\n                System.out.println(iterator.next());\r\n        }\r\n    }","title":"How to write a next method with an Iterator and a MaxHeapPriorityQueue in java","body":"<p>First of all, my understanding is, that your data is inside elementData and size gives the number of elements stored inside.</p>\n\n<p>iterator() gives you an iterator. Your Iterator implementation has index as a point to the current element.</p>\n\n<p>What do you plan to store inside index? I see 2 possibilities:\na) it is giving you the current data location. The first element inside the array is element 0, so to be before that, I would initialize it as -1.\nb) It could be visual. So it is initialized as 0 first and then 1 means: first element, which would be the elementData[0].\n==> It is just an internal variable so it is completely up to you, what you want to store inside of it.</p>\n\n<p>Now let us look at your hasNext method. If the sizer is 0, then there cannot be a next element. Ok. But then you check if iterator() is null? iterator always returns a new instance of your inner iterator class. So it will always be non null! So this seems wrong.</p>\n\n<p>You have index and size. So you just have to check if the index is already pointing to the last element. So depending on the choice a/b above, you simply have to check if index+1 &lt; size or index\n\n<p>And then the next function:\n - It has to validate that there is another element. (=> hasNext)\n - you increase index\n - you return the element, index is pointing to (elementData[index] or elementData[index-1] (depends again on your decision what to store inside index)</p>\n\n<p>My hint is, to play around with it with paper and pen. Just write an instance of your class with e.g. 3 elements (so elementData[0], elementData[1], elementData[2] hs some value, size = 3. You create a new instance of your iterator, index is initialized and then see what must happen.</p>\n\n<p>A possible class that shows an implementation is:\nimport java.util.Iterator;</p>\n\n<pre><code>public class MaxHeapPriorityQueue&lt;E extends Comparable&lt;E&gt;&gt; {\n    private E[] elementData;\n    private int size;\n\n    @SuppressWarnings(\"unchecked\")\n    public MaxHeapPriorityQueue() {\n        elementData = (E[]) new Comparable[10];\n        size = 0;\n    }\n\n    public void add(E data) {\n        if (size == 10) throw new IllegalStateException(\"Queue full\");\n\n        elementData[size] = data;\n        size++;\n    }\n\n    public Iterator&lt;E&gt; iterator() {\n        return new MHPQIterator();\n    }\n\n    public class MHPQIterator implements java.util.Iterator&lt;E&gt;\n    {\n        private int index=-1;\n\n        public boolean hasNext()\n        {\n            return (index+1)&lt;size;\n        }\n\n        public E next()\n        {\n            index++;\n            return elementData[index];\n        }\n    }\n\n    public static void main (String[] args) {\n        MaxHeapPriorityQueue&lt;Integer&gt; queue = new MaxHeapPriorityQueue&lt;&gt;();\n        Iterator&lt;Integer&gt; iterator = queue.iterator();\n\n        System.out.println(\"Empty queue:\");\n        while (iterator.hasNext())\n            System.out.println(iterator.next());\n\n        queue.add(1);\n\n        System.out.println(\"Queue with 1 element (1):\");\n        iterator = queue.iterator();\n        while (iterator.hasNext())\n            System.out.println(iterator.next());\n\n        queue.add(2);\n        queue.add(3);\n        queue.add(4);\n\n        System.out.println(\"Queue with 4 elementa (1,2,3,4):\");\n        iterator = queue.iterator();\n        while (iterator.hasNext())\n            System.out.println(iterator.next());\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":14639794,"reputation":422,"user_id":10572727,"display_name":"Adan Vivero"},"score":0,"creation_date":1557598029,"post_id":56093013,"comment_id":98822069,"body_markdown":"No this won&#39;t work, I can&#39;t have the index equal to 0. I have tests that run this.","body":"No this won&#39;t work, I can&#39;t have the index equal to 0. I have tests that run this."},{"owner":{"account_id":14639794,"reputation":422,"user_id":10572727,"display_name":"Adan Vivero"},"score":0,"creation_date":1557598109,"post_id":56093013,"comment_id":98822095,"body_markdown":"And elementData is just returning null too, so I don&#39;t think elementdata should be in there.","body":"And elementData is just returning null too, so I don&#39;t think elementdata should be in there."},{"owner":{"account_id":15915815,"reputation":736,"user_id":11484412,"display_name":"Konrad Neitzel"},"score":0,"creation_date":1557600147,"post_id":56093013,"comment_id":98822607,"body_markdown":"That should work, too. It is even using the index nicer. if i would describe it in words, then I would say, that it is pointing to the next element already. So the initialization is with 0 (not -1 as in my code), check does not need the +1 and then index is increased after returning the element (using index++). \n\nBut the index++ is something that I always try to avoid. (Clean code - avoiding errors.)","body":"That should work, too. It is even using the index nicer. if i would describe it in words, then I would say, that it is pointing to the next element already. So the initialization is with 0 (not -1 as in my code), check does not need the +1 and then index is increased after returning the element (using index++).   But the index++ is something that I always try to avoid. (Clean code - avoiding errors.)"}],"tags":[],"owner":{"account_id":7178634,"reputation":55168,"user_id":5483526,"display_name":"Matt Timmermans"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1557597985,"creation_date":1557597985,"answer_id":56093013,"question_id":56092725,"body_markdown":"Like this:\r\n\r\n    public class MHPQIterator implements java.util.Iterator&lt;E&gt;\r\n    {\r\n        private int index=0;\r\n    \r\n        public boolean hasNext()\r\n        {\r\n            return (index &lt; size);\r\n        }\r\n        public E next()\r\n        {\r\n            return elementData[index++];\r\n        }\r\n    }\r\n\r\n","title":"How to write a next method with an Iterator and a MaxHeapPriorityQueue in java","body":"<p>Like this:</p>\n\n<pre><code>public class MHPQIterator implements java.util.Iterator&lt;E&gt;\n{\n    private int index=0;\n\n    public boolean hasNext()\n    {\n        return (index &lt; size);\n    }\n    public E next()\n    {\n        return elementData[index++];\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14639794,"reputation":422,"user_id":10572727,"display_name":"Adan Vivero"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1557599855,"creation_date":1557599855,"answer_id":56093235,"question_id":56092725,"body_markdown":"Here is what worked for me, however the answer was posted here and I accepted it, but here&#39;s what worked with my code. \r\n\r\n    public class MHPQIterator implements java.util.Iterator&lt;E&gt;\r\n    {\r\n        private int index;\r\n\r\n        public boolean hasNext()\r\n        {\r\n            if(size == 0)\r\n            {\r\n                return false;\r\n            }\r\n            else\r\n            {\r\n                return (index &lt; size);\r\n            }\r\n        }\r\n        public E next()\r\n        {\r\n            index++;\r\n            return elementData[index];\r\n        }\r\n    }","title":"How to write a next method with an Iterator and a MaxHeapPriorityQueue in java","body":"<p>Here is what worked for me, however the answer was posted here and I accepted it, but here's what worked with my code. </p>\n\n<pre><code>public class MHPQIterator implements java.util.Iterator&lt;E&gt;\n{\n    private int index;\n\n    public boolean hasNext()\n    {\n        if(size == 0)\n        {\n            return false;\n        }\n        else\n        {\n            return (index &lt; size);\n        }\n    }\n    public E next()\n    {\n        index++;\n        return elementData[index];\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":14639794,"reputation":422,"user_id":10572727,"display_name":"Adan Vivero"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2152,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":56092936,"answer_count":3,"score":0,"last_activity_date":1684890612,"creation_date":1557595804,"question_id":56092725,"body_markdown":"I need help writing this next() method in this class. I&#39;ve tried several stuff, but I keep getting that I&#39;m not returning the next value, but rather null. \r\n\r\nThe instructions for this class reads: This class should be public, non-static, and should implement java.util.Iterator&lt;E&gt;. It&#39;s index instance variable should be initialized with an appropriate value. It&#39;s hasNext() method should return true if any elements in the queue have yet to be returned by its next() method. It&#39;s next() method should return queue values in the same order as in the underlying array.\r\n\r\nTherefore I&#39;m going to write the code that I have, but will cut it short so only the important elements that are relatable to my problem shows. \r\n\r\n    public class MaxHeapPriorityQueue&lt;E extends Comparable&lt;E&gt;&gt;\r\n    {\r\n    private E[] elementData;\r\n    private int size;\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    public MaxHeapPriorityQueue()\r\n    {\r\n        elementData = (E[]) new Comparable[10];\r\n        size = 0;\r\n    }\r\n    public Iterator&lt;E&gt; iterator()\r\n    {\r\n        return new MHPQIterator();\r\n    }\r\nand the other class takes place here, which has ties with the Iterator method. \r\n\r\n    public class MHPQIterator implements java.util.Iterator&lt;E&gt;\r\n    {\r\n        private int index;\r\n\r\n        public boolean hasNext()\r\n        {\r\n            if(size == 0)\r\n            {\r\n                return false;\r\n            }\r\n            else\r\n            {\r\n                return (index &lt; size);\r\n            }\r\n        }\r\n        public E next()\r\n        {\r\n            return elementData[index];\r\n        }\r\n    }\r\n\r\nI&#39;m not sure if I&#39;m elementData would work, but I don&#39;t know what else I could return with. ","title":"How to write a next method with an Iterator and a MaxHeapPriorityQueue in java","body":"<p>I need help writing this next() method in this class. I've tried several stuff, but I keep getting that I'm not returning the next value, but rather null. </p>\n\n<p>The instructions for this class reads: This class should be public, non-static, and should implement java.util.Iterator. It's index instance variable should be initialized with an appropriate value. It's hasNext() method should return true if any elements in the queue have yet to be returned by its next() method. It's next() method should return queue values in the same order as in the underlying array.</p>\n\n<p>Therefore I'm going to write the code that I have, but will cut it short so only the important elements that are relatable to my problem shows. </p>\n\n<pre><code>public class MaxHeapPriorityQueue&lt;E extends Comparable&lt;E&gt;&gt;\n{\nprivate E[] elementData;\nprivate int size;\n\n@SuppressWarnings(\"unchecked\")\npublic MaxHeapPriorityQueue()\n{\n    elementData = (E[]) new Comparable[10];\n    size = 0;\n}\npublic Iterator&lt;E&gt; iterator()\n{\n    return new MHPQIterator();\n}\n</code></pre>\n\n<p>and the other class takes place here, which has ties with the Iterator method. </p>\n\n<pre><code>public class MHPQIterator implements java.util.Iterator&lt;E&gt;\n{\n    private int index;\n\n    public boolean hasNext()\n    {\n        if(size == 0)\n        {\n            return false;\n        }\n        else\n        {\n            return (index &lt; size);\n        }\n    }\n    public E next()\n    {\n        return elementData[index];\n    }\n}\n</code></pre>\n\n<p>I'm not sure if I'm elementData would work, but I don't know what else I could return with. </p>\n"},{"tags":["java","swing","gridbaglayout"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1684870936,"post_id":76317800,"comment_id":134579944,"body_markdown":"if you want to use `GridBagConstraints` and `Insets`, you must use `GridBagLayout` (here/instead of  `dataInputPanel.setLayout(new GridLayout(1, 2, 10, 0));`)  (and don&#39;t forget to set weights and fill) -- `GridLayout` does not *care* about constraints","body":"if you want to use <code>GridBagConstraints</code> and <code>Insets</code>, you must use <code>GridBagLayout</code> (here/instead of  <code>dataInputPanel.setLayout(new GridLayout(1, 2, 10, 0));</code>)  (and don&#39;t forget to set weights and fill) -- <code>GridLayout</code> does not <i>care</i> about constraints"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1684874095,"post_id":76317800,"comment_id":134580594,"body_markdown":"Don&#39;t call your classes &quot;Window&quot; and &quot;Panel&quot;. There are AWT components with that name so it gets confusing. Class names should be more descriptive. Also 1) All Swing components should be created on the Event Dispatch Thread (EDT). Read the Swing tutorial on [Concurrency](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html) for more information. 2) components should be added to the frame BEFORE the frame is visible.","body":"Don&#39;t call your classes &quot;Window&quot; and &quot;Panel&quot;. There are AWT components with that name so it gets confusing. Class names should be more descriptive. Also 1) All Swing components should be created on the Event Dispatch Thread (EDT). Read the Swing tutorial on <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html\" rel=\"nofollow noreferrer\">Concurrency</a> for more information. 2) components should be added to the frame BEFORE the frame is visible."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1684878446,"post_id":76317800,"comment_id":134581330,"body_markdown":"Use a `EmptyBorder` (on `dataInputPanel`)","body":"Use a <code>EmptyBorder</code> (on <code>dataInputPanel</code>)"},{"owner":{"account_id":23677584,"reputation":89,"user_id":17703613,"display_name":"OrlandoVSilva"},"score":0,"creation_date":1684886935,"post_id":76317800,"comment_id":134582250,"body_markdown":"@camickr Thank you for the feedback. I changed the names. I will also read the article that you posted, however, I made sure to make that &quot;win&quot;, was &quot;setVisible&quot; at the end, but the issue still persists.","body":"@camickr Thank you for the feedback. I changed the names. I will also read the article that you posted, however, I made sure to make that &quot;win&quot;, was &quot;setVisible&quot; at the end, but the issue still persists."},{"owner":{"account_id":23677584,"reputation":89,"user_id":17703613,"display_name":"OrlandoVSilva"},"score":0,"creation_date":1684887148,"post_id":76317800,"comment_id":134582268,"body_markdown":"@MadProgrammer Thank you for the feedback. I mean your solution does work, it&#39;s just a shame that the &quot;win&quot; need to be invisible. If you manage to find a way while making it still visible, please let me know, but thanks anyway.","body":"@MadProgrammer Thank you for the feedback. I mean your solution does work, it&#39;s just a shame that the &quot;win&quot; need to be invisible. If you manage to find a way while making it still visible, please let me know, but thanks anyway."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1684887449,"post_id":76317800,"comment_id":134582297,"body_markdown":"*&quot;it&#39;s just a shame that the &quot;win&quot; need to be invisible&quot;* - I&#39;m sorry, I don&#39;t understand - although, to be frank, extending from `JFrame` is generally considered a bad idea, you&#39;re not actually adding any new functionality to the class and it&#39;s just adding more confusion to the issue","body":"<i>&quot;it&#39;s just a shame that the &quot;win&quot; need to be invisible&quot;</i> - I&#39;m sorry, I don&#39;t understand - although, to be frank, extending from <code>JFrame</code> is generally considered a bad idea, you&#39;re not actually adding any new functionality to the class and it&#39;s just adding more confusion to the issue"},{"owner":{"account_id":23677584,"reputation":89,"user_id":17703613,"display_name":"OrlandoVSilva"},"score":0,"creation_date":1684888335,"post_id":76317800,"comment_id":134582378,"body_markdown":"@MadProgrammer, Well first off, yeah, I tried your suggestion, I created an ```EmptyBorder``` object ```EmptyBorder border1 = new EmptyBorder(0, 10, 0, 10);```, and I set it up on ```dataInputPanel```, and it did add the padding, but it also made it invisible. I would like the same result but to be able to see the border still. Second, I deleted the ```Win```, and ```Pnl``` classes in hopes to remove confusion. Thank you.","body":"@MadProgrammer, Well first off, yeah, I tried your suggestion, I created an <code>EmptyBorder</code> object <code>EmptyBorder border1 = new EmptyBorder(0, 10, 0, 10);</code>, and I set it up on <code>dataInputPanel</code>, and it did add the padding, but it also made it invisible. I would like the same result but to be able to see the border still. Second, I deleted the <code>Win</code>, and <code>Pnl</code> classes in hopes to remove confusion. Thank you."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1684888819,"post_id":76317800,"comment_id":134582420,"body_markdown":"You really need to have a look at [How to use borders](https://docs.oracle.com/javase/tutorial/uiswing/components/border.html) - and focus in `CompoundBorder`","body":"You really need to have a look at <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/border.html\" rel=\"nofollow noreferrer\">How to use borders</a> - and focus in <code>CompoundBorder</code>"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1684890187,"post_id":76317800,"comment_id":134582539,"body_markdown":"*I changed the names* - Those names are not any better. A class name should be descriptive. *but the issue still persists* - You didn&#39;t implement the suggestions in the first comment. Read the tutorial on [How to Use GridBagLayout](https://docs.oracle.com/javase/tutorial/uiswing/layout/gridbag.html) to understand how to use the constraints suggested in the comment. You don&#39;t need to use a Border, that is only one option. Then decide which approach you like. It will give you options in the future.","body":"<i>I changed the names</i> - Those names are not any better. A class name should be descriptive. <i>but the issue still persists</i> - You didn&#39;t implement the suggestions in the first comment. Read the tutorial on <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/gridbag.html\" rel=\"nofollow noreferrer\">How to Use GridBagLayout</a> to understand how to use the constraints suggested in the comment. You don&#39;t need to use a Border, that is only one option. Then decide which approach you like. It will give you options in the future."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1685004583,"post_id":76317800,"comment_id":134601189,"body_markdown":"being more direct: **(i)** change `dataInputPanel.setLayout(new GridLayout(1, 2, 10, 0));` to `dataInputPanel.setLayout(new GridBagLayout());`; **(ii)** add `gbc1.weightx = 1; gbc1.weighty = 1; gbc1.fill = BOTH;`; **(iii)** similar with `gbc2` (and, eventually, **(iv)** change `int paddingSize = 50;` to `int paddingSize = 10;`)","body":"being more direct: <b>(i)</b> change <code>dataInputPanel.setLayout(new GridLayout(1, 2, 10, 0));</code> to <code>dataInputPanel.setLayout(new GridBagLayout());</code>; <b>(ii)</b> add <code>gbc1.weightx = 1; gbc1.weighty = 1; gbc1.fill = BOTH;</code>; <b>(iii)</b> similar with <code>gbc2</code> (and, eventually, <b>(iv)</b> change <code>int paddingSize = 50;</code> to <code>int paddingSize = 10;</code>)"}],"answers":[{"comments":[{"owner":{"account_id":23677584,"reputation":89,"user_id":17703613,"display_name":"OrlandoVSilva"},"score":0,"creation_date":1684891983,"post_id":76319455,"comment_id":134582713,"body_markdown":"That would be it, thank you so much.\nI will read the article provided.","body":"That would be it, thank you so much. I will read the article provided."}],"tags":[],"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684889449,"creation_date":1684889449,"answer_id":76319455,"question_id":76317800,"body_markdown":"You really need to have a look at [How to use borders](https://docs.oracle.com/javase/tutorial/uiswing/components/border.html) - and focus in `CompoundBorder`\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.GridLayout;\r\n    import java.awt.Insets;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.border.CompoundBorder;\r\n    import javax.swing.border.EmptyBorder;\r\n    import javax.swing.border.LineBorder;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new TestPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n            public TestPane() {\r\n                setLayout(new GridLayout(2, 1));\r\n                JPanel dataInputPanel = new JPanel();\r\n                dataInputPanel.setLayout(new GridLayout(1, 2, 50, 0));\r\n                dataInputPanel.setBorder(new CompoundBorder(\r\n                        new LineBorder(Color.RED, 4, true), \r\n                        new EmptyBorder(10, 10, 10, 10)\r\n                ));\r\n                //dataInputPanel.setBackground(Color.RED);\r\n    //            dataInputPanel.setBorder(new LineBorder(Color.RED, 4, true));\r\n\r\n                JPanel battleOutupPanel = new JPanel();\r\n                //battleOutupPanel.setBackground(Color.GREEN);\r\n                battleOutupPanel.setBorder(new LineBorder(Color.GREEN, 4, true));\r\n                //-------------------------------------\r\n\r\n                int paddingSize = 50;\r\n                Insets paddingInsets = new Insets(paddingSize, paddingSize, paddingSize, paddingSize);\r\n\r\n                // Heroes Data Input Panel - dataInputPanel GridBagLayout 1 row, 2 columns\r\n                JPanel heroesDataInputPanel = new JPanel();\r\n                //heroesDataInputPanel.setBackground(Color.YELLOW);\r\n                heroesDataInputPanel.setBorder(new LineBorder(Color.YELLOW, 4, true));\r\n\r\n                dataInputPanel.add(heroesDataInputPanel);\r\n\r\n                // Beasts Data Input Panel - dataInputPanel - GridBagLayout 1 row, 2 columns\r\n                JPanel beastsDataInputPanel = new JPanel();\r\n                //beastsDataInputPanel.setBackground(Color.ORANGE);\r\n                beastsDataInputPanel.setBorder(new LineBorder(Color.ORANGE, 4, true));\r\n\r\n                dataInputPanel.add(beastsDataInputPanel);\r\n                //-------------\r\n\r\n                add(dataInputPanel);\r\n                add(battleOutupPanel);\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(500, 600);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QQ4Ja.png","title":"Cannot add padding to JPanel (GridBagLayout), with 2 other JPanels inside","body":"<p>You really need to have a look at <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/border.html\" rel=\"nofollow noreferrer\">How to use borders</a> - and focus in <code>CompoundBorder</code></p>\n<p><a href=\"https://i.stack.imgur.com/QQ4Ja.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QQ4Ja.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.GridLayout;\nimport java.awt.Insets;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.border.CompoundBorder;\nimport javax.swing.border.EmptyBorder;\nimport javax.swing.border.LineBorder;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n        public TestPane() {\n            setLayout(new GridLayout(2, 1));\n            JPanel dataInputPanel = new JPanel();\n            dataInputPanel.setLayout(new GridLayout(1, 2, 50, 0));\n            dataInputPanel.setBorder(new CompoundBorder(\n                    new LineBorder(Color.RED, 4, true), \n                    new EmptyBorder(10, 10, 10, 10)\n            ));\n            //dataInputPanel.setBackground(Color.RED);\n//            dataInputPanel.setBorder(new LineBorder(Color.RED, 4, true));\n\n            JPanel battleOutupPanel = new JPanel();\n            //battleOutupPanel.setBackground(Color.GREEN);\n            battleOutupPanel.setBorder(new LineBorder(Color.GREEN, 4, true));\n            //-------------------------------------\n\n            int paddingSize = 50;\n            Insets paddingInsets = new Insets(paddingSize, paddingSize, paddingSize, paddingSize);\n\n            // Heroes Data Input Panel - dataInputPanel GridBagLayout 1 row, 2 columns\n            JPanel heroesDataInputPanel = new JPanel();\n            //heroesDataInputPanel.setBackground(Color.YELLOW);\n            heroesDataInputPanel.setBorder(new LineBorder(Color.YELLOW, 4, true));\n\n            dataInputPanel.add(heroesDataInputPanel);\n\n            // Beasts Data Input Panel - dataInputPanel - GridBagLayout 1 row, 2 columns\n            JPanel beastsDataInputPanel = new JPanel();\n            //beastsDataInputPanel.setBackground(Color.ORANGE);\n            beastsDataInputPanel.setBorder(new LineBorder(Color.ORANGE, 4, true));\n\n            dataInputPanel.add(beastsDataInputPanel);\n            //-------------\n\n            add(dataInputPanel);\n            add(battleOutupPanel);\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(500, 600);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23677584,"reputation":89,"user_id":17703613,"display_name":"OrlandoVSilva"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76319455,"answer_count":1,"score":0,"last_activity_date":1684889449,"creation_date":1684867670,"question_id":76317800,"body_markdown":"are you able to help me understand why there is no padding in ```dataInputPanel``` (the red border one)?\r\n\r\nGoal: To have 10 padding on top, right, bottom, left in ```dataInputPanel```\r\n\r\nError: No errors. It&#39;s just not working.\r\n\r\nMain:\r\n```\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        JFrame win = new JFrame();\r\n        win.setTitle(&quot;Lord of the Rings - Battle Simulator&quot;);\r\n        win.setSize(500, 600);\r\n        win.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        win.setLayout(new GridLayout(2, 1));\r\n        win.setResizable(false);\r\n        //-------------\r\n\r\n        JPanel dataInputPanel = new JPanel();\r\n        dataInputPanel.setLayout(new GridLayout(1, 2, 10, 0));\r\n        //dataInputPanel.setBackground(Color.RED);\r\n        dataInputPanel.setBorder(new LineBorder(Color.RED, 4, true));\r\n\r\n        JPanel battleOutupPanel = new JPanel();\r\n        //battleOutupPanel.setBackground(Color.GREEN);\r\n        battleOutupPanel.setBorder(new LineBorder(Color.GREEN, 4, true));\r\n        //-------------------------------------\r\n\r\n        int paddingSize = 50;\r\n        Insets paddingInsets = new Insets(paddingSize, paddingSize, paddingSize, paddingSize);\r\n\r\n        // Heroes Data Input Panel - dataInputPanel GridBagLayout 1 row, 2 columns\r\n        JPanel heroesDataInputPanel = new JPanel();\r\n        //heroesDataInputPanel.setBackground(Color.YELLOW);\r\n        heroesDataInputPanel.setBorder(new LineBorder(Color.YELLOW, 4, true));\r\n\r\n        GridBagConstraints gbc1 = new GridBagConstraints();\r\n        gbc1.gridx = 0;\r\n        gbc1.gridy = 0;\r\n        gbc1.insets = paddingInsets;\r\n        dataInputPanel.add(heroesDataInputPanel, gbc1);\r\n\r\n        // Beasts Data Input Panel - dataInputPanel - GridBagLayout 1 row, 2 columns\r\n        JPanel beastsDataInputPanel = new JPanel();\r\n        //beastsDataInputPanel.setBackground(Color.ORANGE);\r\n        beastsDataInputPanel.setBorder(new LineBorder(Color.ORANGE, 4, true));\r\n\r\n        GridBagConstraints gbc2 = new GridBagConstraints();\r\n        gbc2.gridx = 1;\r\n        gbc2.gridy = 0;\r\n        gbc2.insets = paddingInsets;\r\n        dataInputPanel.add(beastsDataInputPanel, gbc2);\r\n        //-------------\r\n\r\n        win.add(dataInputPanel);\r\n        win.add(battleOutupPanel);\r\n        win.setVisible(true);\r\n    }\r\n}\r\n```\r\n\r\nWin:\r\n```\r\npublic class Win extends JFrame {\r\n}\r\n```\r\n\r\nPnl:\r\n```\r\npublic class Pnl extends JPanel {\r\n}\r\n```\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nThank you!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ezAgx.png","title":"Cannot add padding to JPanel (GridBagLayout), with 2 other JPanels inside","body":"<p>are you able to help me understand why there is no padding in <code>dataInputPanel</code> (the red border one)?</p>\n<p>Goal: To have 10 padding on top, right, bottom, left in <code>dataInputPanel</code></p>\n<p>Error: No errors. It's just not working.</p>\n<p>Main:</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        JFrame win = new JFrame();\n        win.setTitle(&quot;Lord of the Rings - Battle Simulator&quot;);\n        win.setSize(500, 600);\n        win.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        win.setLayout(new GridLayout(2, 1));\n        win.setResizable(false);\n        //-------------\n\n        JPanel dataInputPanel = new JPanel();\n        dataInputPanel.setLayout(new GridLayout(1, 2, 10, 0));\n        //dataInputPanel.setBackground(Color.RED);\n        dataInputPanel.setBorder(new LineBorder(Color.RED, 4, true));\n\n        JPanel battleOutupPanel = new JPanel();\n        //battleOutupPanel.setBackground(Color.GREEN);\n        battleOutupPanel.setBorder(new LineBorder(Color.GREEN, 4, true));\n        //-------------------------------------\n\n        int paddingSize = 50;\n        Insets paddingInsets = new Insets(paddingSize, paddingSize, paddingSize, paddingSize);\n\n        // Heroes Data Input Panel - dataInputPanel GridBagLayout 1 row, 2 columns\n        JPanel heroesDataInputPanel = new JPanel();\n        //heroesDataInputPanel.setBackground(Color.YELLOW);\n        heroesDataInputPanel.setBorder(new LineBorder(Color.YELLOW, 4, true));\n\n        GridBagConstraints gbc1 = new GridBagConstraints();\n        gbc1.gridx = 0;\n        gbc1.gridy = 0;\n        gbc1.insets = paddingInsets;\n        dataInputPanel.add(heroesDataInputPanel, gbc1);\n\n        // Beasts Data Input Panel - dataInputPanel - GridBagLayout 1 row, 2 columns\n        JPanel beastsDataInputPanel = new JPanel();\n        //beastsDataInputPanel.setBackground(Color.ORANGE);\n        beastsDataInputPanel.setBorder(new LineBorder(Color.ORANGE, 4, true));\n\n        GridBagConstraints gbc2 = new GridBagConstraints();\n        gbc2.gridx = 1;\n        gbc2.gridy = 0;\n        gbc2.insets = paddingInsets;\n        dataInputPanel.add(beastsDataInputPanel, gbc2);\n        //-------------\n\n        win.add(dataInputPanel);\n        win.add(battleOutupPanel);\n        win.setVisible(true);\n    }\n}\n</code></pre>\n<p>Win:</p>\n<pre><code>public class Win extends JFrame {\n}\n</code></pre>\n<p>Pnl:</p>\n<pre><code>public class Pnl extends JPanel {\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/ezAgx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ezAgx.png\" alt=\"enter image description here\" /></a></p>\n<p>Thank you!</p>\n"},{"tags":["java","ant","jar"],"answers":[{"comments":[{"owner":{"account_id":251508,"reputation":1356,"user_id":528955,"display_name":"abulka"},"score":0,"creation_date":1684882361,"post_id":5370161,"comment_id":134581835,"body_markdown":"As @Paŭlo mentioned, simply unzipping the jar and moving the class files around does not help - the class files have to be modified internally.","body":"As @Paŭlo mentioned, simply unzipping the jar and moving the class files around does not help - the class files have to be modified internally."}],"tags":[],"owner":{"account_id":65096,"reputation":15647,"user_id":191797,"accept_rate":100,"display_name":"Piyush Mattoo"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1300641967,"creation_date":1300641967,"answer_id":5370161,"question_id":5370058,"body_markdown":"You can unjar/unzip them manually, create the package and jar them back using and IDE or from the command prompt like [this][1]. Also, take a look at the ANT documentation on [Jar][2] and [Unjar][3] which is quite comprehensive.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/tutorial/deployment/jar/build.html\r\n  [2]: http://ant.apache.org/manual/Tasks/jar.html\r\n  [3]: http://ant.apache.org/manual/Tasks/unzip.html","title":"Change the package of a JAR from the default package","body":"<p>You can unjar/unzip them manually, create the package and jar them back using and IDE or from the command prompt like <a href=\"http://download.oracle.com/javase/tutorial/deployment/jar/build.html\" rel=\"nofollow\">this</a>. Also, take a look at the ANT documentation on <a href=\"http://ant.apache.org/manual/Tasks/jar.html\" rel=\"nofollow\">Jar</a> and <a href=\"http://ant.apache.org/manual/Tasks/unzip.html\" rel=\"nofollow\">Unjar</a> which is quite comprehensive.</p>\n"},{"tags":[],"owner":{"account_id":240726,"reputation":2094,"user_id":511125,"accept_rate":100,"display_name":"Deepak"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1300642086,"creation_date":1300642086,"answer_id":5370170,"question_id":5370058,"body_markdown":"As @Piyush Instructed use the below command for creating a Jar file.      \r\n`jar -cvf *.* Example.jar`     \r\n","title":"Change the package of a JAR from the default package","body":"<p>As @Piyush Instructed use the below command for creating a Jar file.<br>\n<code>jar -cvf *.* Example.jar</code>     </p>\n"},{"comments":[{"owner":{"account_id":339114,"reputation":23,"user_id":668396,"display_name":"user668396"},"score":2,"creation_date":1300645057,"post_id":5370323,"comment_id":6069401,"body_markdown":"Yeah, I think I&#39;ve come to the same conclusion. I just don&#39;t understand why they would release anything on the default package. Thanks.","body":"Yeah, I think I&#39;ve come to the same conclusion. I just don&#39;t understand why they would release anything on the default package. Thanks."},{"owner":{"account_id":33924,"reputation":5627,"user_id":95361,"display_name":"Russ Hayward"},"score":0,"creation_date":1300645257,"post_id":5370323,"comment_id":6069430,"body_markdown":"Easy to use Java decompiler if you need it: http://members.fortunecity.com/neshkov/dj.html","body":"Easy to use Java decompiler if you need it: <a href=\"http://members.fortunecity.com/neshkov/dj.html\" rel=\"nofollow noreferrer\">members.fortunecity.com/neshkov/dj.html</a>"},{"owner":{"account_id":295869,"reputation":73614,"user_id":600500,"accept_rate":54,"display_name":"Paŭlo Ebermann"},"score":0,"creation_date":1300645769,"post_id":5370323,"comment_id":6069509,"body_markdown":"@user668396: It either means the jar file is not meant as a library, or your teacher did not understand it. (In older versions of Java, it was still possible to import from the default package.)","body":"@user668396: It either means the jar file is not meant as a library, or your teacher did not understand it. (In older versions of Java, it was still possible to import from the default package.)"}],"tags":[],"owner":{"account_id":295869,"reputation":73614,"user_id":600500,"accept_rate":54,"display_name":"Paŭlo Ebermann"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1300643837,"creation_date":1300643837,"answer_id":5370323,"question_id":5370058,"body_markdown":"You need to change the sources and recompile then to change the package - simply moving the class files inside the jar (or outside) does not help.\r\n\r\nSo ask your teacher to give you the sources (or to put the classes in a suitable package), or use a decompiler to do this yourself.","title":"Change the package of a JAR from the default package","body":"<p>You need to change the sources and recompile then to change the package - simply moving the class files inside the jar (or outside) does not help.</p>\n\n<p>So ask your teacher to give you the sources (or to put the classes in a suitable package), or use a decompiler to do this yourself.</p>\n"},{"comments":[{"owner":{"account_id":339114,"reputation":23,"user_id":668396,"display_name":"user668396"},"score":0,"creation_date":1300661090,"post_id":5370840,"comment_id":6071726,"body_markdown":"Unfortunately I don&#39;t have the source files, just the class ones.","body":"Unfortunately I don&#39;t have the source files, just the class ones."}],"tags":[],"owner":{"account_id":338578,"reputation":391,"user_id":667530,"display_name":"Don"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1300648932,"creation_date":1300648932,"answer_id":5370840,"question_id":5370058,"body_markdown":"If you are using eclipse, just unjar the source files into the source folder of a temporary project.  Then, create a new project (the real project you will be working on), and under the java/src directory, create the package structure you want.  Then it&#39;s just a simple matter of drag-n-dropping the source files from the temporary project into the correct packages in the real project.  Eclipse will take care of changing the package declaration of each class for you.","title":"Change the package of a JAR from the default package","body":"<p>If you are using eclipse, just unjar the source files into the source folder of a temporary project.  Then, create a new project (the real project you will be working on), and under the java/src directory, create the package structure you want.  Then it's just a simple matter of drag-n-dropping the source files from the temporary project into the correct packages in the real project.  Eclipse will take care of changing the package declaration of each class for you.</p>\n"},{"tags":[],"owner":{"account_id":251508,"reputation":1356,"user_id":528955,"display_name":"abulka"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684888403,"creation_date":1684886717,"answer_id":76319317,"question_id":5370058,"body_markdown":"To move classes within a jar from the root (unnamed, default) package into a named package (e.g. `org.example`):\r\n\r\n## 1. Rebuild the Jar from source\r\n\r\nUsing your IDE, move the classes out of the root/unnamed/default package into a proper named package, and build the jar again.\r\n\r\nSimply unzipping the jar and moving the class files around does not help - the class files have to be modified internally, which is what the tools below do.\r\n\r\nIf you don&#39;t have access to the sources, or if you don&#39;t want to mess with the source code - there are a couple of solutions I found inspired from [this][1] related discussion.\r\n\r\n\r\n## 2. Jar Jar Links tool\r\nhttps://github.com/shevek/jarjar\r\n\r\nIts old but still works. Get it from [here][2] as discussed [here][3]. \r\n\r\nThe way I used it\r\n```\r\n# View help\r\njava -jar &quot;bin/jarjar-command-1.0.3.jar&quot; --help\r\n\r\n# Run the command\r\njava -jar &quot;jarjar-command-1.0.3.jar&quot; --mode process --rules &quot;rules.txt&quot; target/my.jar --output target/my_new.jar\r\n\r\n# View contents of resulting jar\r\njar tf target/my_new.jar |less\r\n```\r\n\r\nThe `rules.txt` to match root classes is `*`\r\n```\r\nrule * com.example.@1\r\n```\r\nso the rule moves them into the `com.example` package. The `@1` means the thing that was matched.\r\n\r\nUnfortunately it doesn&#39;t seem to work on classnames involving the `$` character - see [this issue][4].\r\n\r\n## 3. Use the Maven Shade Plugin Tool\r\nhttps://maven.apache.org/plugins/maven-shade-plugin/usage.html\r\n\r\nThis worked better for my case. Add this fragment to your `pom.xml` inside the `&lt;project&gt;/&lt;build&gt;/&lt;plugins&gt;` tag. \r\n\r\n```xml\r\n&lt;plugin&gt;\r\n\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n\t&lt;version&gt;3.4.1&lt;/version&gt;\r\n\t&lt;configuration&gt;\r\n\t\t&lt;relocations&gt;\r\n\t\t&lt;relocation&gt;\r\n\t\t\t&lt;pattern&gt;&lt;/pattern&gt;\r\n\t\t\t&lt;shadedPattern&gt;org.example.&lt;/shadedPattern&gt;\r\n\t\t\t&lt;includes&gt;\r\n\t\t\t&lt;include&gt;TypeScriptParser*&lt;/include&gt;\r\n\t\t\t&lt;include&gt;TypeScriptLexer*&lt;/include&gt;\r\n\t\t\t&lt;/includes&gt;\r\n\t\t&lt;/relocation&gt;\r\n\t\t&lt;/relocations&gt;\r\n\t&lt;/configuration&gt;\r\n\t&lt;executions&gt;\r\n\t&lt;execution&gt;\r\n\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n\t\t&lt;goals&gt;\r\n\t\t&lt;goal&gt;shade&lt;/goal&gt;\r\n\t\t&lt;/goals&gt;\r\n\t&lt;/execution&gt;\r\n\t&lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nTo match the classes in the root of the package, I used `&lt;pattern&gt;&lt;/pattern&gt;` though there may be a better way.\r\n\r\nAlso, for my use all my root classes started with `TypeScriptParser*` or `TypeScriptLexer*` so I included those explicitly. It took a bit of trial and error to get working on the right classes.\r\n\r\nRunning this on my build with `mvn package` did introduce extra classes from my project into the jar that I didn&#39;t need, so I had to delete them manually (by unzipping/zipping using jar)\r\n\r\n## Discussion\r\n\r\nKnowing that java files in named packages cannot access classes in the unnamed root package (whether they be in your project or in a jar) was not obvious to me, but was finally explained to me [here][5]. I wonder how many Java developers get tripped up by this.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/13746737/hand-edit-a-jar-to-change-package-names\r\n  [2]: https://github.com/shevek/jarjar/pull/20\r\n  [3]: https://github.com/shevek/jarjar/issues/3#issuecomment-1558378220\r\n  [4]: https://github.com/shevek/jarjar/issues/29\r\n  [5]: https://stackoverflow.com/questions/76302523/cannot-use-class-in-jars-root-when-my-file-is-part-of-a-package-but-when-my-fil","title":"Change the package of a JAR from the default package","body":"<p>To move classes within a jar from the root (unnamed, default) package into a named package (e.g. <code>org.example</code>):</p>\n<h2>1. Rebuild the Jar from source</h2>\n<p>Using your IDE, move the classes out of the root/unnamed/default package into a proper named package, and build the jar again.</p>\n<p>Simply unzipping the jar and moving the class files around does not help - the class files have to be modified internally, which is what the tools below do.</p>\n<p>If you don't have access to the sources, or if you don't want to mess with the source code - there are a couple of solutions I found inspired from <a href=\"https://stackoverflow.com/questions/13746737/hand-edit-a-jar-to-change-package-names\">this</a> related discussion.</p>\n<h2>2. Jar Jar Links tool</h2>\n<p><a href=\"https://github.com/shevek/jarjar\" rel=\"nofollow noreferrer\">https://github.com/shevek/jarjar</a></p>\n<p>Its old but still works. Get it from <a href=\"https://github.com/shevek/jarjar/pull/20\" rel=\"nofollow noreferrer\">here</a> as discussed <a href=\"https://github.com/shevek/jarjar/issues/3#issuecomment-1558378220\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>The way I used it</p>\n<pre><code># View help\njava -jar &quot;bin/jarjar-command-1.0.3.jar&quot; --help\n\n# Run the command\njava -jar &quot;jarjar-command-1.0.3.jar&quot; --mode process --rules &quot;rules.txt&quot; target/my.jar --output target/my_new.jar\n\n# View contents of resulting jar\njar tf target/my_new.jar |less\n</code></pre>\n<p>The <code>rules.txt</code> to match root classes is <code>*</code></p>\n<pre><code>rule * com.example.@1\n</code></pre>\n<p>so the rule moves them into the <code>com.example</code> package. The <code>@1</code> means the thing that was matched.</p>\n<p>Unfortunately it doesn't seem to work on classnames involving the <code>$</code> character - see <a href=\"https://github.com/shevek/jarjar/issues/29\" rel=\"nofollow noreferrer\">this issue</a>.</p>\n<h2>3. Use the Maven Shade Plugin Tool</h2>\n<p><a href=\"https://maven.apache.org/plugins/maven-shade-plugin/usage.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/plugins/maven-shade-plugin/usage.html</a></p>\n<p>This worked better for my case. Add this fragment to your <code>pom.xml</code> inside the <code>&lt;project&gt;/&lt;build&gt;/&lt;plugins&gt;</code> tag.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.4.1&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;relocations&gt;\n        &lt;relocation&gt;\n            &lt;pattern&gt;&lt;/pattern&gt;\n            &lt;shadedPattern&gt;org.example.&lt;/shadedPattern&gt;\n            &lt;includes&gt;\n            &lt;include&gt;TypeScriptParser*&lt;/include&gt;\n            &lt;include&gt;TypeScriptLexer*&lt;/include&gt;\n            &lt;/includes&gt;\n        &lt;/relocation&gt;\n        &lt;/relocations&gt;\n    &lt;/configuration&gt;\n    &lt;executions&gt;\n    &lt;execution&gt;\n        &lt;phase&gt;package&lt;/phase&gt;\n        &lt;goals&gt;\n        &lt;goal&gt;shade&lt;/goal&gt;\n        &lt;/goals&gt;\n    &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>To match the classes in the root of the package, I used <code>&lt;pattern&gt;&lt;/pattern&gt;</code> though there may be a better way.</p>\n<p>Also, for my use all my root classes started with <code>TypeScriptParser*</code> or <code>TypeScriptLexer*</code> so I included those explicitly. It took a bit of trial and error to get working on the right classes.</p>\n<p>Running this on my build with <code>mvn package</code> did introduce extra classes from my project into the jar that I didn't need, so I had to delete them manually (by unzipping/zipping using jar)</p>\n<h2>Discussion</h2>\n<p>Knowing that java files in named packages cannot access classes in the unnamed root package (whether they be in your project or in a jar) was not obvious to me, but was finally explained to me <a href=\"https://stackoverflow.com/questions/76302523/cannot-use-class-in-jars-root-when-my-file-is-part-of-a-package-but-when-my-fil\">here</a>. I wonder how many Java developers get tripped up by this.</p>\n"}],"owner":{"account_id":339114,"reputation":23,"user_id":668396,"display_name":"user668396"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2656,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":5370323,"answer_count":5,"score":2,"last_activity_date":1684888403,"creation_date":1300641276,"question_id":5370058,"body_markdown":"I&#39;ve downloaded a JAR file from my teacher&#39;s website containing some classes in the default package, and I&#39;m thus unable to access them from inside a defined package.\r\n\r\nI have read that the preferable solution is to repackage the JAR, changing the package name. However I have no idea how to go at it. The solution probably involves using Ant or Jar Jar, but I&#39;ve no experience with either tool. I would love if someone coould point me in the right direction.\r\n\r\nThanks.","title":"Change the package of a JAR from the default package","body":"<p>I've downloaded a JAR file from my teacher's website containing some classes in the default package, and I'm thus unable to access them from inside a defined package.</p>\n\n<p>I have read that the preferable solution is to repackage the JAR, changing the package name. However I have no idea how to go at it. The solution probably involves using Ant or Jar Jar, but I've no experience with either tool. I would love if someone coould point me in the right direction.</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","testing","project","execute"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":3,"creation_date":1684885078,"post_id":76319177,"comment_id":134582083,"body_markdown":"I think you&#39;ll have to be more specific about what you mean (you can [edit] your question). What files are you talking about? What do you mean by &quot;execute&quot;? What does &quot;closed&quot; mean in this context? Can you provide a [mre]?","body":"I think you&#39;ll have to be more specific about what you mean (you can <a href=\"https://stackoverflow.com/posts/76319177/edit\">edit</a> your question). What files are you talking about? What do you mean by &quot;execute&quot;? What does &quot;closed&quot; mean in this context? Can you provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>?"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1684885191,"post_id":76319177,"comment_id":134582100,"body_markdown":"We definitely need code, [mcve] would be best.  The only reason for Java to &quot;execute all files&quot; is because you wrote the code that way.","body":"We definitely need code, <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> would be best.  The only reason for Java to &quot;execute all files&quot; is because you wrote the code that way."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1684886484,"post_id":76319177,"comment_id":134582215,"body_markdown":"Are you using an IDE, or the command line?  What commands and arguments are you using to compile and run your program?","body":"Are you using an IDE, or the command line?  What commands and arguments are you using to compile and run your program?"}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1684886112,"creation_date":1684886112,"answer_id":76319293,"question_id":76319177,"body_markdown":"Somehow I believe you have a project in your IDE, and you want to execute a (java) file. The file/class you think about has a `public void main(String[]) method`, yet instead of this file some other file gets executed?\r\n\r\nVery likely the first file you created with a main method was registered as the entry point in your IDE or project setup, and that is remembered when you trigger the `run project` action.\r\n\r\nInstead you need to find the correct keystroke or menu item to `run file` to get the focused file to execute.\r\n\r\n\r\nIf, however you feel like the file is executed since compilation errors show up - well that is because all files get compiled in the background. You need to reconfigure the IDE to stop it doing that - but why would you want to? It does not harm if the compiler works in the background.","title":"Why does Java execute all files in folder, including closed ones?","body":"<p>Somehow I believe you have a project in your IDE, and you want to execute a (java) file. The file/class you think about has a <code>public void main(String[]) method</code>, yet instead of this file some other file gets executed?</p>\n<p>Very likely the first file you created with a main method was registered as the entry point in your IDE or project setup, and that is remembered when you trigger the <code>run project</code> action.</p>\n<p>Instead you need to find the correct keystroke or menu item to <code>run file</code> to get the focused file to execute.</p>\n<p>If, however you feel like the file is executed since compilation errors show up - well that is because all files get compiled in the background. You need to reconfigure the IDE to stop it doing that - but why would you want to? It does not harm if the compiler works in the background.</p>\n"}],"owner":{"account_id":9250979,"reputation":1,"user_id":21937050,"display_name":"G AGA"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1685697266,"accepted_answer_id":76319293,"answer_count":1,"score":-2,"last_activity_date":1684886112,"creation_date":1684883785,"question_id":76319177,"body_markdown":"I am writing Java code. I was using the if conditions to read the input. When I tried to test the code, it executes all the files in the folder. I am also using IntelliJ idea.\r\n\r\nIt executes my current file and saved java files.  ","title":"Why does Java execute all files in folder, including closed ones?","body":"<p>I am writing Java code. I was using the if conditions to read the input. When I tried to test the code, it executes all the files in the folder. I am also using IntelliJ idea.</p>\n<p>It executes my current file and saved java files.</p>\n"},{"tags":["java","spring","spring-boot","openapi","openapi-generator"],"comments":[{"owner":{"account_id":6494229,"reputation":114,"user_id":5027309,"display_name":"Fran&#231;ois Vanhille"},"score":0,"creation_date":1685386345,"post_id":76319248,"comment_id":134649827,"body_markdown":"If you only want `pageable` parameter, just remove page, size and sort from your definition since you don&#39;t need them anymore. Spring Pageable has support for that.","body":"If you only want <code>pageable</code> parameter, just remove page, size and sort from your definition since you don&#39;t need them anymore. Spring Pageable has support for that."},{"owner":{"account_id":13838923,"reputation":115,"user_id":9989781,"display_name":"Mirza Prangon"},"score":0,"creation_date":1685405293,"post_id":76319248,"comment_id":134651987,"body_markdown":"Then there will be discrepancies between OpenAPI definition the actual api. Meaning there will be no `page`, `size`, `sort` parameter in the definition, but the API will support these.","body":"Then there will be discrepancies between OpenAPI definition the actual api. Meaning there will be no <code>page</code>, <code>size</code>, <code>sort</code> parameter in the definition, but the API will support these."}],"owner":{"account_id":13838923,"reputation":115,"user_id":9989781,"display_name":"Mirza Prangon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":615,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1684885158,"creation_date":1684885158,"question_id":76319248,"body_markdown":"I am trying to generate as much code as possible for application using [OpenAPI generator](https://github.com/OpenAPITools/openapi-generator). Some of the requests are get with support for paging and sorting. Using spring it is easy to create\r\n```java\r\n@GetMapping(&quot;/snakes&quot;)\r\npublic ResponseEntity&lt;List&lt;Snake&gt;&gt; findAll(Pageable pageable)\r\n```\r\n\r\nThis makes the `/snakes` endpoint to support paging and sorting using http query parameter `?page=0&amp;size=1&amp;sort=snake_name,desc`. So, I will write my OpenAPI definition as\r\n\r\n```yaml\r\n  /snakes:\r\n    get:\r\n      summary: Get all snakes. Supports pagination and sorting.\r\n      tags:\r\n        - Snake\r\n      responses:\r\n        &#39;200&#39;:\r\n          description: OK\r\n          content:\r\n            application/json:\r\n              schema:\r\n                type: array\r\n                items:\r\n                  $ref: &#39;#/components/schemas/Snake&#39;\r\n      operationId: getSnakesList\r\n      description: Get all snakes. Supports pagination and sorting.\r\n      parameters:\r\n        - schema:\r\n            type: integer\r\n            default: 0\r\n            example: 1\r\n          in: query\r\n          name: page\r\n          description: The page number of list. Starts from 0.\r\n        - schema:\r\n            type: integer\r\n            default: &#39;20&#39;\r\n            example: &#39;10&#39;\r\n          in: query\r\n          name: size\r\n          description: Number of Snakes in one page.\r\n        - schema:\r\n            type: string\r\n            default: &#39;snake_name,desc&#39;\r\n            example: &#39;snake_name,asc&#39;\r\n          in: query\r\n          name: sort\r\n          description: The sort information.\r\n```\r\n\r\nBut if I generate code using OpenAPI generator the method of API interface will be created with the `page`, `size` and `sort` query parameters like:\r\n```\r\ndefault ResponseEntity&lt;List&lt;Snake&gt;&gt; getSnakesList(\r\n        @Parameter(name = &quot;page&quot;, description = &quot;The page number of list. Starts from 0.&quot;, in = ParameterIn.QUERY) @Valid @RequestParam(value = &quot;page&quot;, required = false, defaultValue = &quot;0&quot;) Integer page,\r\n        @Parameter(name = &quot;size&quot;, description = &quot;Number of snakes in one page.&quot;, in = ParameterIn.QUERY) @Valid @RequestParam(value = &quot;size&quot;, required = false) Integer size,\r\n        @Parameter(name = &quot;sort&quot;, description = &quot;The sort information.&quot;, in = ParameterIn.QUERY) @Valid @RequestParam(value = &quot;sort&quot;, required = false, defaultValue = &quot;snake_name,desc&quot;) String sort\r\n    )\r\n```\r\n\r\nWhich I don&#39;t want. There is a [`x-spring-paginated`](https://github.com/OpenAPITools/openapi-generator/blob/master/docs/generators/spring.md#:~:text=x%2Dspring%2Dpaginated,false) option for spring generator. If set to true, generator ADDs the `Pageable pageable` parameter to method.\r\n```java\r\ndefault ResponseEntity&lt;List&lt;Snake&gt;&gt; getSnakesList(\r\n        @Parameter(name = &quot;page&quot;, description = &quot;The page number of list. Starts from 0.&quot;, in = ParameterIn.QUERY) @Valid @RequestParam(value = &quot;page&quot;, required = false, defaultValue = &quot;0&quot;) Integer page,\r\n        @Parameter(name = &quot;size&quot;, description = &quot;Number of snakes in one page.&quot;, in = ParameterIn.QUERY) @Valid @RequestParam(value = &quot;size&quot;, required = false) Integer size,\r\n        @Parameter(name = &quot;sort&quot;, description = &quot;The sort information.&quot;, in = ParameterIn.QUERY) @Valid @RequestParam(value = &quot;sort&quot;, required = false, defaultValue = &quot;snake_name,desc&quot;) String sort,\r\n        @ParameterObject final Pageable pageable    // &lt;-- This is added if I set x-spring-paginated: true\r\n    )\r\n```\r\n\r\nWhich I don&#39;t want. I can edit the OpenAPI definition to not have the query parameters to generate the code. But this will make the definition to not be same as the API.\r\n\r\nMy question is, how can I generate API interface method with only `Pageable pagable` parameter, from the example openapi definition I provided which have the `page`, `size`, `sort` parameters in yaml?\r\n\r\nNote: There was a similar question without any actual solution - https://stackoverflow.com/questions/61307411/openapi-generator-pageable-with-spring","title":"OpenAPI generator How to generate method with Spring paging and sorting","body":"<p>I am trying to generate as much code as possible for application using <a href=\"https://github.com/OpenAPITools/openapi-generator\" rel=\"nofollow noreferrer\">OpenAPI generator</a>. Some of the requests are get with support for paging and sorting. Using spring it is easy to create</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(&quot;/snakes&quot;)\npublic ResponseEntity&lt;List&lt;Snake&gt;&gt; findAll(Pageable pageable)\n</code></pre>\n<p>This makes the <code>/snakes</code> endpoint to support paging and sorting using http query parameter <code>?page=0&amp;size=1&amp;sort=snake_name,desc</code>. So, I will write my OpenAPI definition as</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>  /snakes:\n    get:\n      summary: Get all snakes. Supports pagination and sorting.\n      tags:\n        - Snake\n      responses:\n        '200':\n          description: OK\n          content:\n            application/json:\n              schema:\n                type: array\n                items:\n                  $ref: '#/components/schemas/Snake'\n      operationId: getSnakesList\n      description: Get all snakes. Supports pagination and sorting.\n      parameters:\n        - schema:\n            type: integer\n            default: 0\n            example: 1\n          in: query\n          name: page\n          description: The page number of list. Starts from 0.\n        - schema:\n            type: integer\n            default: '20'\n            example: '10'\n          in: query\n          name: size\n          description: Number of Snakes in one page.\n        - schema:\n            type: string\n            default: 'snake_name,desc'\n            example: 'snake_name,asc'\n          in: query\n          name: sort\n          description: The sort information.\n</code></pre>\n<p>But if I generate code using OpenAPI generator the method of API interface will be created with the <code>page</code>, <code>size</code> and <code>sort</code> query parameters like:</p>\n<pre><code>default ResponseEntity&lt;List&lt;Snake&gt;&gt; getSnakesList(\n        @Parameter(name = &quot;page&quot;, description = &quot;The page number of list. Starts from 0.&quot;, in = ParameterIn.QUERY) @Valid @RequestParam(value = &quot;page&quot;, required = false, defaultValue = &quot;0&quot;) Integer page,\n        @Parameter(name = &quot;size&quot;, description = &quot;Number of snakes in one page.&quot;, in = ParameterIn.QUERY) @Valid @RequestParam(value = &quot;size&quot;, required = false) Integer size,\n        @Parameter(name = &quot;sort&quot;, description = &quot;The sort information.&quot;, in = ParameterIn.QUERY) @Valid @RequestParam(value = &quot;sort&quot;, required = false, defaultValue = &quot;snake_name,desc&quot;) String sort\n    )\n</code></pre>\n<p>Which I don't want. There is a <a href=\"https://github.com/OpenAPITools/openapi-generator/blob/master/docs/generators/spring.md#:%7E:text=x%2Dspring%2Dpaginated,false\" rel=\"nofollow noreferrer\"><code>x-spring-paginated</code></a> option for spring generator. If set to true, generator ADDs the <code>Pageable pageable</code> parameter to method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>default ResponseEntity&lt;List&lt;Snake&gt;&gt; getSnakesList(\n        @Parameter(name = &quot;page&quot;, description = &quot;The page number of list. Starts from 0.&quot;, in = ParameterIn.QUERY) @Valid @RequestParam(value = &quot;page&quot;, required = false, defaultValue = &quot;0&quot;) Integer page,\n        @Parameter(name = &quot;size&quot;, description = &quot;Number of snakes in one page.&quot;, in = ParameterIn.QUERY) @Valid @RequestParam(value = &quot;size&quot;, required = false) Integer size,\n        @Parameter(name = &quot;sort&quot;, description = &quot;The sort information.&quot;, in = ParameterIn.QUERY) @Valid @RequestParam(value = &quot;sort&quot;, required = false, defaultValue = &quot;snake_name,desc&quot;) String sort,\n        @ParameterObject final Pageable pageable    // &lt;-- This is added if I set x-spring-paginated: true\n    )\n</code></pre>\n<p>Which I don't want. I can edit the OpenAPI definition to not have the query parameters to generate the code. But this will make the definition to not be same as the API.</p>\n<p>My question is, how can I generate API interface method with only <code>Pageable pagable</code> parameter, from the example openapi definition I provided which have the <code>page</code>, <code>size</code>, <code>sort</code> parameters in yaml?</p>\n<p>Note: There was a similar question without any actual solution - <a href=\"https://stackoverflow.com/questions/61307411/openapi-generator-pageable-with-spring\">OpenAPI Generator Pageable with Spring</a></p>\n"},{"tags":["java","android","flutter","java-11"],"comments":[{"owner":{"account_id":7749867,"reputation":311,"user_id":11097456,"display_name":"Bani Akram"},"score":0,"creation_date":1686567812,"post_id":76185083,"comment_id":134811422,"body_markdown":"Did you find any solution? I&#39;m stuck at the same issue","body":"Did you find any solution? I&#39;m stuck at the same issue"}],"answers":[{"tags":[],"owner":{"account_id":13872151,"reputation":71,"user_id":11756851,"display_name":"Jhon Sabowsla"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684884843,"creation_date":1684884843,"answer_id":76319233,"question_id":76185083,"body_markdown":"i was able to change the version that flutter doctor -v shows doing the following, i deleted the android folder from my User location, deleted the android studio i had wich was the flamingo version and installed the Electric eel version from https://developer.android.com/studio/archive then i followed this instructions For the JetBrains Runtime &quot;Android Studio Electric Eel&quot;\r\ncd /Applications/Android\\ Studio.app/Contents/jbr\r\nln -s ../jbr jdk\r\nln -s &quot;/Library/Internet Plug-Ins/JavaAppletPlugin.plugin&quot; jdk\r\nThen go to the Finder and search for Android Studio:\r\n\r\nRight click -&gt; Show Package Contents\r\nOpen the contents folder, then create new folder called jre\r\nCopy the contents of the JetBrainsRuntime folder and paste it into the jre folder from the answer https://stackoverflow.com/questions/51281702/unable-to-find-bundled-java-version-on-flutter and finally my flutter doctor -v shows java version 11 that allowed me to compile the flutter project, hope this helps!","title":"Android Studio JDK version not changing on mac. Why? How can I fix it?","body":"<p>i was able to change the version that flutter doctor -v shows doing the following, i deleted the android folder from my User location, deleted the android studio i had wich was the flamingo version and installed the Electric eel version from <a href=\"https://developer.android.com/studio/archive\" rel=\"nofollow noreferrer\">https://developer.android.com/studio/archive</a> then i followed this instructions For the JetBrains Runtime &quot;Android Studio Electric Eel&quot;\ncd /Applications/Android\\ Studio.app/Contents/jbr\nln -s ../jbr jdk\nln -s &quot;/Library/Internet Plug-Ins/JavaAppletPlugin.plugin&quot; jdk\nThen go to the Finder and search for Android Studio:</p>\n<p>Right click -&gt; Show Package Contents\nOpen the contents folder, then create new folder called jre\nCopy the contents of the JetBrainsRuntime folder and paste it into the jre folder from the answer <a href=\"https://stackoverflow.com/questions/51281702/unable-to-find-bundled-java-version-on-flutter\">Unable to find bundled Java version on Flutter</a> and finally my flutter doctor -v shows java version 11 that allowed me to compile the flutter project, hope this helps!</p>\n"}],"owner":{"account_id":17869880,"reputation":349,"user_id":17479825,"display_name":"Joaqu&#237;n Varela"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":452,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76319233,"answer_count":1,"score":2,"last_activity_date":1684884843,"creation_date":1683312024,"question_id":76185083,"body_markdown":"Hello I am on mac and I changed the sdk version as many tutorials say. If I run `java --version` I get this: \r\n\r\n```json\r\nopenjdk version &quot;11.0.19&quot; 2023-04-18\r\nOpenJDK Runtime Environment Homebrew (build 11.0.19+0)\r\nOpenJDK 64-Bit Server VM Homebrew (build 11.0.19+0, mixed mode)\r\n```\r\n\r\nThe problem is when I run `flutter doctor --verbose` I get this on android studio: \r\n\r\n```bash\r\n[✓] Android Studio (version 2022.2)\r\n    • Android Studio at /Applications/Android Studio.app/Contents\r\n    • Java version OpenJDK Runtime Environment (build 17.0.6+0-17.0.6b802.4-9586694)\r\n```\r\n\r\nThe JDK versions are different. And when I try to run a flutter project I get this error: \r\n\r\n```bash\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:app:processDebugMainManifest&#39;.\r\n&gt; Unable to make field private final java.lang.String java.io.File.path accessible: module java.base does not &quot;opens java.io&quot; to unnamed module @52a71430\r\n```\r\n\r\n**Additional information**: \r\n\r\n - When I open my flutter project by the android folder in android\r\n   studio I can configure `project settings` and select the jdk version.\r\n\r\n - This works only if I run the app inside the android folder in android\r\n   studio. If I run it from the root it throws the same error.\r\n\r\n - The command output of `/usr/libexec/java_home -V` is this: \r\n\r\n```bash\r\nMatching Java Virtual Machines (1):\r\n    11.0.19 (arm64) &quot;Homebrew&quot; - &quot;OpenJDK 11.0.19&quot; /opt/homebrew/Cellar/openjdk@11/11.0.19/libexec/openjdk.jdk/Contents/Home\r\n/opt/homebrew/Cellar/openjdk@11/11.0.19/libexec/openjdk.jdk/Contents/Home\r\n```\r\n\r\n- In my ~/.zshrc I have an export of `export JAVA_HOME=&#39;/opt/homebrew/Cellar/openjdk@11/11.0.19/libexec/openjdk.jdk/Contents/Home&#39;`\r\n \r\n\r\nIs there a way to solve this?","title":"Android Studio JDK version not changing on mac. Why? How can I fix it?","body":"<p>Hello I am on mac and I changed the sdk version as many tutorials say. If I run <code>java --version</code> I get this:</p>\n<pre class=\"lang-json prettyprint-override\"><code>openjdk version &quot;11.0.19&quot; 2023-04-18\nOpenJDK Runtime Environment Homebrew (build 11.0.19+0)\nOpenJDK 64-Bit Server VM Homebrew (build 11.0.19+0, mixed mode)\n</code></pre>\n<p>The problem is when I run <code>flutter doctor --verbose</code> I get this on android studio:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>[✓] Android Studio (version 2022.2)\n    • Android Studio at /Applications/Android Studio.app/Contents\n    • Java version OpenJDK Runtime Environment (build 17.0.6+0-17.0.6b802.4-9586694)\n</code></pre>\n<p>The JDK versions are different. And when I try to run a flutter project I get this error:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>FAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':app:processDebugMainManifest'.\n&gt; Unable to make field private final java.lang.String java.io.File.path accessible: module java.base does not &quot;opens java.io&quot; to unnamed module @52a71430\n</code></pre>\n<p><strong>Additional information</strong>:</p>\n<ul>\n<li><p>When I open my flutter project by the android folder in android\nstudio I can configure <code>project settings</code> and select the jdk version.</p>\n</li>\n<li><p>This works only if I run the app inside the android folder in android\nstudio. If I run it from the root it throws the same error.</p>\n</li>\n<li><p>The command output of <code>/usr/libexec/java_home -V</code> is this:</p>\n</li>\n</ul>\n<pre class=\"lang-bash prettyprint-override\"><code>Matching Java Virtual Machines (1):\n    11.0.19 (arm64) &quot;Homebrew&quot; - &quot;OpenJDK 11.0.19&quot; /opt/homebrew/Cellar/openjdk@11/11.0.19/libexec/openjdk.jdk/Contents/Home\n/opt/homebrew/Cellar/openjdk@11/11.0.19/libexec/openjdk.jdk/Contents/Home\n</code></pre>\n<ul>\n<li>In my ~/.zshrc I have an export of <code>export JAVA_HOME='/opt/homebrew/Cellar/openjdk@11/11.0.19/libexec/openjdk.jdk/Contents/Home'</code></li>\n</ul>\n<p>Is there a way to solve this?</p>\n"},{"tags":["java","hibernate","jpa","entitymanager","hibernate-entitymanager"],"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1684884064,"creation_date":1684875090,"question_id":76318567,"body_markdown":"I&#39;m currently debugging the code that calls the `Hibernate Entity manager` to load the data from the Postgres DB. I do calls for two different ids in DB that corresponds to the almost the same DB entries (no null values, all fields are in accordance with `@Entity` fields and follow the same format) and get so different object details in debugger window.\r\n\r\nThe fist one is `ServiceEntity@32589` that corresponds to the `id=594`:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nPlease note that provider and category fields here has `_$$_jst3f5_` prefix, like it isn&#39;t exactly the same class as just `CategoryEntity` and `PaymentEntity`\r\n\r\nWhile when calling for another `id=595`, I&#39;m getting not `ServiceEntity`, but `ServiceEntity_$$_jst3f5_3e@32572` with all the same fields being null. \r\n\r\n[![enter image description here][2]][2]\r\n\r\nWhat could be the reason? This happens only on specific calls of this method by the overlying method, not at all.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9clN6.png\r\n  [2]: https://i.stack.imgur.com/wNEgS.png\r\n\r\nSo, the method I called in debugger was:\r\n\r\n \r\n\r\n       @Override\r\n            public ServiceEntity getServiceById(int serviceId) {\r\n                List&lt;ServiceEntity&gt; list = em.createQuery(&quot;select s from ServiceEntity s where s.id = :id&quot;, ServiceEntity.class)\r\n                        .setParameter(&quot;id&quot;, serviceId)\r\n                        .getResultList();\r\n        \r\n                return (list.isEmpty() ? null : list.get(0));\r\n            }\r\n\r\nand it is called from the \r\n\r\n     @Transactional(readOnly = true)\r\n        public ProviderService getProviderService(int serviceId) {\r\n            if (serviceProviderCache.get(serviceId) != null) {\r\n                return serviceProviderCache.get(serviceId);\r\n            }\r\n    \r\n            ServiceEntity serviceEntity = pServiceDao.getServiceById(serviceId);\r\n            if (settingService.isEnableGateway() &amp;&amp; (Arrays.stream(GatewayProviderImpl.GATEWAY_PROVIDERS)\r\n                    .anyMatch(p -&gt; serviceEntity.getProviderId().equals(p)))) {\r\n                serviceProviderCache.put(serviceId, providersCache.get(GatewayProviderImpl.PROVIDER_ID));\r\n            } else {\r\n                serviceProviderCache.put(serviceId, providersCache.get(serviceEntity.getProvider().getId()));\r\n            }\r\n    \r\n            return serviceProviderCache.get(serviceId);\r\n        }\r\n\r\nwhere I do have the problem I have described. And it is also called from another `@Transactional` method too (non readonly).\r\n\r\nand here (not `@Transactional`)\r\n\r\n      @Override\r\n        public void enter(ViewChangeListener.ViewChangeEvent event) {\r\n            int serviceId = Integer.parseInt(event.getParameters());\r\n            service = pServiceService.getServiceById(serviceId);\r\n      \r\n\r\nI have not problem with that. Note, that in first method, the called `id=595` is the same as id that was passed as the parameter to the `@Transaction` marked method, while `id=594` isn&#39;t equal to that object. So how `@Transactional` can make this to happen, and only for specific data from the DB? \r\n\r\nWhat `_$$_jst3f5_` stands for?\r\n\r\n\r\n    ServiceEntity:\r\n\r\n\r\n\r\n    @Entity\r\n    @Table(name = &quot;services&quot;)\r\n    public class ServiceEntity {\r\n        @Id\r\n        @SequenceGenerator(name=&quot;service_gen&quot;, sequenceName=&quot;services_id_seq&quot;, allocationSize = 1)\r\n        @GeneratedValue(generator=&quot;service_gen&quot;)\r\n        private Integer id;\r\n        @Column(nullable = false, length = 100)\r\n        private String name;\r\n        @Column(name = &quot;account_caption&quot;)\r\n        private String accountCaption;\r\n        private String code;\r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;category_id&quot;)\r\n        private CategoryEntity category;\r\n        @Column(name = &quot;category_id&quot;, insertable = false, updatable = false)\r\n        private Integer categoryId;\r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;provider_id&quot;)\r\n        private ProviderEntity provider;\r\n        @Column(name = &quot;provider_id&quot;, insertable = false, updatable = false)\r\n        private String providerId;\r\n        @Column(name = &quot;image_path&quot;)\r\n        private String imagePath;\r\n        @Column(name = &quot;is_blocked&quot;)\r\n        private boolean blocked;\r\n        private String mask;\r\n        @Column(name = &quot;terminal_mask&quot;)\r\n        private String terminalMask;\r\n        private boolean base;\r\n        @Column(name = &quot;only_identified&quot;)\r\n        private boolean onlyIdentified;\r\n        @Column(name = &quot;additional_fields&quot;)\r\n        private boolean additionalFields;\r\n        @Column(name = &quot;destination_view_format&quot;)\r\n        private String destinationViewFormat;\r\n        @Column(name = &quot;is_fixed_amount&quot;)\r\n        private boolean fixedAmount;\r\n        @Column(name = &quot;is_user_amount&quot;)\r\n        private boolean userAmount;\r\n        @Column(name = &quot;is_terminal_change&quot;)\r\n        private boolean terminalChange;\r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;currency_id&quot;)\r\n        private CurrencyEntity currency;\r\n        @Column(name = &quot;currency_id&quot;, insertable = false, updatable = false)\r\n        private String currencyId;\r\n        @Column(name = &quot;display_order&quot;)\r\n        private Integer displayOrder;\r\n        @Column(name = &quot;keep_validation_result&quot;)\r\n        private boolean keepValidationResult;\r\n        @Column(name = &quot;is_multi_currency&quot;)\r\n        private boolean multiCurrency;\r\n        @OneToMany(mappedBy = &quot;service&quot;)\r\n        private Collection&lt;AgentServiceAccessEntity&gt; serviceAccesses;\r\n        @OneToMany(mappedBy = &quot;service&quot;)\r\n        private Collection&lt;HotServiceEntity&gt; hotServices;\r\n        @OneToMany(mappedBy = &quot;service&quot;)\r\n        private Collection&lt;ServicePrefixEntity&gt; servicePrefixes;\r\n        @OneToMany(mappedBy = &quot;service&quot;)\r\n        private Collection&lt;ServiceFieldEntity&gt; serviceFields;\r\n        @OneToMany(mappedBy = &quot;service&quot;)\r\n        private Collection&lt;ServiceInfoBlockEntity&gt; infoBlocks;\r\n        @OneToMany(mappedBy = &quot;service&quot;)\r\n        private Collection&lt;ServiceLimitEntity&gt; limits;\r\n        @OneToMany(mappedBy = &quot;service&quot;)\r\n        private Collection&lt;RegistryColumnEntity&gt; registryColumns;\r\n\r\nThe queries, that were actually sent, are:\r\n\r\nselect serviceent0_.id as id1_97_, serviceent0_.account_caption as account_2_97_, serviceent0_.additional_fields as addition3_97_, serviceent0_.base as base4_97_, serviceent0_.is_blocked as is_block5_97_, serviceent0_.category_id as category6_97_, serviceent0_.code as code7_97_, serviceent0_.currency_id as currency8_97_, serviceent0_.destination_view_format as destinat9_97_, serviceent0_.display_order as display10_97_, serviceent0_.is_fixed_amount as is_fixe11_97_, serviceent0_.image_path as image_p12_97_, serviceent0_.keep_validation_result as keep_va13_97_, serviceent0_.mask as mask14_97_, serviceent0_.is_multi_currency as is_mult15_97_, serviceent0_.name as name16_97_, serviceent0_.only_identified as only_id17_97_, serviceent0_.provider_id as provide18_97_, serviceent0_.is_terminal_change as is_term19_97_, serviceent0_.terminal_mask as termina20_97_, serviceent0_.is_user_amount as is_user21_97_ from services serviceent0_ where serviceent0_.id=?\r\n\r\nfor that was called from the app code without debug call, the same is called from Evaluate window of debug mode, while addding to serviceId specific values like 594 and 595. \r\n\r\nSo, looks like Hibernate extracts the same values from the DB, but then looses the retrieved data. \r\n\r\n\r\nUPD. It turns out, that they are called consequentially, both initiated by the Vaadin UI actions.\r\n\r\n1) \r\n\r\n    public void enter(ViewChangeListener.ViewChangeEvent event) {\r\n                int serviceId = Integer.parseInt(event.getParameters());\r\n                service = pServiceService.**getServiceById**(serviceId);\r\n      \r\n2) \r\n\r\n     @Transactional(readOnly = true)\r\n        public ProviderService getProviderService(int serviceId) {\r\n            if (serviceProviderCache.get(serviceId) != null) {\r\n                return serviceProviderCache.get(serviceId);\r\n            }\r\n    \r\n            ServiceEntity serviceEntity = pServiceDao.**getServiceById**(serviceId);\r\n            if (settingService.isEnableGateway() &amp;&amp; (Arrays.stream(GatewayProviderImpl.GATEWAY_PROVIDERS)\r\n                    .anyMatch(p -&gt; serviceEntity.getProviderId().equals(p)))) {\r\n                serviceProviderCache.put(serviceId, providersCache.get(GatewayProviderImpl.PROVIDER_ID));\r\n            } else {\r\n                serviceProviderCache.put(serviceId, providersCache.get(serviceEntity.getProvider().getId()));\r\n            }\r\n    \r\n            return serviceProviderCache.get(serviceId);\r\n        }\r\n\r\nAnd if in the first method serviceId would be =594, the first execution is ok, it returns some data, while on the second execution of **getServiceById**(serviceId) the null-fields data is returned.\r\n\r\nIf I would take the Evaluate tool and explicitly call for \r\n\r\n    **getServiceById**(595)\r\n\r\nat the debug step 2), I would get the non-null data. If now I would do \r\n\r\n    **getServiceById**(594), I&#39;m also getting the null-filled data\r\n\r\nLike execution of point 1) forces entity manager to return something wrong and if it isn&#39;t executed for the specific id, it works properly\r\n\r\nWHat is the root cause of that and how to work it around?\r\n\r\n\r\n","title":"What is the difference in designating two entities in Java debugger where only one has `_$$_jst3f5_` part? Diff results for the same Hibernate query,","body":"<p>I'm currently debugging the code that calls the <code>Hibernate Entity manager</code> to load the data from the Postgres DB. I do calls for two different ids in DB that corresponds to the almost the same DB entries (no null values, all fields are in accordance with <code>@Entity</code> fields and follow the same format) and get so different object details in debugger window.</p>\n<p>The fist one is <code>ServiceEntity@32589</code> that corresponds to the <code>id=594</code>:</p>\n<p><a href=\"https://i.stack.imgur.com/9clN6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9clN6.png\" alt=\"enter image description here\" /></a></p>\n<p>Please note that provider and category fields here has <code>_$$_jst3f5_</code> prefix, like it isn't exactly the same class as just <code>CategoryEntity</code> and <code>PaymentEntity</code></p>\n<p>While when calling for another <code>id=595</code>, I'm getting not <code>ServiceEntity</code>, but <code>ServiceEntity_$$_jst3f5_3e@32572</code> with all the same fields being null.</p>\n<p><a href=\"https://i.stack.imgur.com/wNEgS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wNEgS.png\" alt=\"enter image description here\" /></a></p>\n<p>What could be the reason? This happens only on specific calls of this method by the overlying method, not at all.</p>\n<p>So, the method I called in debugger was:</p>\n<pre><code>   @Override\n        public ServiceEntity getServiceById(int serviceId) {\n            List&lt;ServiceEntity&gt; list = em.createQuery(&quot;select s from ServiceEntity s where s.id = :id&quot;, ServiceEntity.class)\n                    .setParameter(&quot;id&quot;, serviceId)\n                    .getResultList();\n    \n            return (list.isEmpty() ? null : list.get(0));\n        }\n</code></pre>\n<p>and it is called from the</p>\n<pre><code> @Transactional(readOnly = true)\n    public ProviderService getProviderService(int serviceId) {\n        if (serviceProviderCache.get(serviceId) != null) {\n            return serviceProviderCache.get(serviceId);\n        }\n\n        ServiceEntity serviceEntity = pServiceDao.getServiceById(serviceId);\n        if (settingService.isEnableGateway() &amp;&amp; (Arrays.stream(GatewayProviderImpl.GATEWAY_PROVIDERS)\n                .anyMatch(p -&gt; serviceEntity.getProviderId().equals(p)))) {\n            serviceProviderCache.put(serviceId, providersCache.get(GatewayProviderImpl.PROVIDER_ID));\n        } else {\n            serviceProviderCache.put(serviceId, providersCache.get(serviceEntity.getProvider().getId()));\n        }\n\n        return serviceProviderCache.get(serviceId);\n    }\n</code></pre>\n<p>where I do have the problem I have described. And it is also called from another <code>@Transactional</code> method too (non readonly).</p>\n<p>and here (not <code>@Transactional</code>)</p>\n<pre><code>  @Override\n    public void enter(ViewChangeListener.ViewChangeEvent event) {\n        int serviceId = Integer.parseInt(event.getParameters());\n        service = pServiceService.getServiceById(serviceId);\n  \n</code></pre>\n<p>I have not problem with that. Note, that in first method, the called <code>id=595</code> is the same as id that was passed as the parameter to the <code>@Transaction</code> marked method, while <code>id=594</code> isn't equal to that object. So how <code>@Transactional</code> can make this to happen, and only for specific data from the DB?</p>\n<p>What <code>_$$_jst3f5_</code> stands for?</p>\n<pre><code>ServiceEntity:\n\n\n\n@Entity\n@Table(name = &quot;services&quot;)\npublic class ServiceEntity {\n    @Id\n    @SequenceGenerator(name=&quot;service_gen&quot;, sequenceName=&quot;services_id_seq&quot;, allocationSize = 1)\n    @GeneratedValue(generator=&quot;service_gen&quot;)\n    private Integer id;\n    @Column(nullable = false, length = 100)\n    private String name;\n    @Column(name = &quot;account_caption&quot;)\n    private String accountCaption;\n    private String code;\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;category_id&quot;)\n    private CategoryEntity category;\n    @Column(name = &quot;category_id&quot;, insertable = false, updatable = false)\n    private Integer categoryId;\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;provider_id&quot;)\n    private ProviderEntity provider;\n    @Column(name = &quot;provider_id&quot;, insertable = false, updatable = false)\n    private String providerId;\n    @Column(name = &quot;image_path&quot;)\n    private String imagePath;\n    @Column(name = &quot;is_blocked&quot;)\n    private boolean blocked;\n    private String mask;\n    @Column(name = &quot;terminal_mask&quot;)\n    private String terminalMask;\n    private boolean base;\n    @Column(name = &quot;only_identified&quot;)\n    private boolean onlyIdentified;\n    @Column(name = &quot;additional_fields&quot;)\n    private boolean additionalFields;\n    @Column(name = &quot;destination_view_format&quot;)\n    private String destinationViewFormat;\n    @Column(name = &quot;is_fixed_amount&quot;)\n    private boolean fixedAmount;\n    @Column(name = &quot;is_user_amount&quot;)\n    private boolean userAmount;\n    @Column(name = &quot;is_terminal_change&quot;)\n    private boolean terminalChange;\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;currency_id&quot;)\n    private CurrencyEntity currency;\n    @Column(name = &quot;currency_id&quot;, insertable = false, updatable = false)\n    private String currencyId;\n    @Column(name = &quot;display_order&quot;)\n    private Integer displayOrder;\n    @Column(name = &quot;keep_validation_result&quot;)\n    private boolean keepValidationResult;\n    @Column(name = &quot;is_multi_currency&quot;)\n    private boolean multiCurrency;\n    @OneToMany(mappedBy = &quot;service&quot;)\n    private Collection&lt;AgentServiceAccessEntity&gt; serviceAccesses;\n    @OneToMany(mappedBy = &quot;service&quot;)\n    private Collection&lt;HotServiceEntity&gt; hotServices;\n    @OneToMany(mappedBy = &quot;service&quot;)\n    private Collection&lt;ServicePrefixEntity&gt; servicePrefixes;\n    @OneToMany(mappedBy = &quot;service&quot;)\n    private Collection&lt;ServiceFieldEntity&gt; serviceFields;\n    @OneToMany(mappedBy = &quot;service&quot;)\n    private Collection&lt;ServiceInfoBlockEntity&gt; infoBlocks;\n    @OneToMany(mappedBy = &quot;service&quot;)\n    private Collection&lt;ServiceLimitEntity&gt; limits;\n    @OneToMany(mappedBy = &quot;service&quot;)\n    private Collection&lt;RegistryColumnEntity&gt; registryColumns;\n</code></pre>\n<p>The queries, that were actually sent, are:</p>\n<p>select serviceent0_.id as id1_97_, serviceent0_.account_caption as account_2_97_, serviceent0_.additional_fields as addition3_97_, serviceent0_.base as base4_97_, serviceent0_.is_blocked as is_block5_97_, serviceent0_.category_id as category6_97_, serviceent0_.code as code7_97_, serviceent0_.currency_id as currency8_97_, serviceent0_.destination_view_format as destinat9_97_, serviceent0_.display_order as display10_97_, serviceent0_.is_fixed_amount as is_fixe11_97_, serviceent0_.image_path as image_p12_97_, serviceent0_.keep_validation_result as keep_va13_97_, serviceent0_.mask as mask14_97_, serviceent0_.is_multi_currency as is_mult15_97_, serviceent0_.name as name16_97_, serviceent0_.only_identified as only_id17_97_, serviceent0_.provider_id as provide18_97_, serviceent0_.is_terminal_change as is_term19_97_, serviceent0_.terminal_mask as termina20_97_, serviceent0_.is_user_amount as is_user21_97_ from services serviceent0_ where serviceent0_.id=?</p>\n<p>for that was called from the app code without debug call, the same is called from Evaluate window of debug mode, while addding to serviceId specific values like 594 and 595.</p>\n<p>So, looks like Hibernate extracts the same values from the DB, but then looses the retrieved data.</p>\n<p>UPD. It turns out, that they are called consequentially, both initiated by the Vaadin UI actions.</p>\n<p>1)</p>\n<pre><code>public void enter(ViewChangeListener.ViewChangeEvent event) {\n            int serviceId = Integer.parseInt(event.getParameters());\n            service = pServiceService.**getServiceById**(serviceId);\n  \n</code></pre>\n<ol start=\"2\">\n<li><p>@Transactional(readOnly = true)\npublic ProviderService getProviderService(int serviceId) {\nif (serviceProviderCache.get(serviceId) != null) {\nreturn serviceProviderCache.get(serviceId);\n}</p>\n<pre><code>      ServiceEntity serviceEntity = pServiceDao.**getServiceById**(serviceId);\n      if (settingService.isEnableGateway() &amp;&amp; (Arrays.stream(GatewayProviderImpl.GATEWAY_PROVIDERS)\n              .anyMatch(p -&gt; serviceEntity.getProviderId().equals(p)))) {\n          serviceProviderCache.put(serviceId, providersCache.get(GatewayProviderImpl.PROVIDER_ID));\n      } else {\n          serviceProviderCache.put(serviceId, providersCache.get(serviceEntity.getProvider().getId()));\n      }\n\n      return serviceProviderCache.get(serviceId);\n  }\n</code></pre>\n</li>\n</ol>\n<p>And if in the first method serviceId would be =594, the first execution is ok, it returns some data, while on the second execution of <strong>getServiceById</strong>(serviceId) the null-fields data is returned.</p>\n<p>If I would take the Evaluate tool and explicitly call for</p>\n<pre><code>**getServiceById**(595)\n</code></pre>\n<p>at the debug step 2), I would get the non-null data. If now I would do</p>\n<pre><code>**getServiceById**(594), I'm also getting the null-filled data\n</code></pre>\n<p>Like execution of point 1) forces entity manager to return something wrong and if it isn't executed for the specific id, it works properly</p>\n<p>WHat is the root cause of that and how to work it around?</p>\n"},{"tags":["java","docusignapi","docusignconnect"],"answers":[{"comments":[{"owner":{"account_id":1075465,"reputation":167,"user_id":1073733,"accept_rate":75,"display_name":"dermd"},"score":0,"creation_date":1393947279,"post_id":22175911,"comment_id":33658561,"body_markdown":"Thanks Kim, I actually did start off looking at the DS java example but it&#39;s very barebones and doesn&#39;t really do much so I ended up writing my own solution. This seems to work in that I receive the XML from DS and am able to pull some stuff out of it. The only issue is that the deserialized object looks different than the object sent from the server - different properties, etc. Again it looks to be a v similar problem to the question I referenced above but I&#39;m using java rather than WCF.","body":"Thanks Kim, I actually did start off looking at the DS java example but it&#39;s very barebones and doesn&#39;t really do much so I ended up writing my own solution. This seems to work in that I receive the XML from DS and am able to pull some stuff out of it. The only issue is that the deserialized object looks different than the object sent from the server - different properties, etc. Again it looks to be a v similar problem to the question I referenced above but I&#39;m using java rather than WCF."}],"tags":[],"owner":{"account_id":3306930,"reputation":13230,"user_id":2781454,"display_name":"Kim Brandl"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1393946417,"creation_date":1393946417,"answer_id":22175911,"question_id":22162318,"body_markdown":"I&#39;ve never built a Java DocuSign Connect listener application, but I have built one with C#, and I did so by starting with the sample code on GitHub. The Java code is here -- https://github.com/docusign/DocuSign-eSignature-SDK/tree/master/Java/Connect -- if nothing else, perhaps comparing it with what you&#39;ve got may help you identify the issue(s). Or, you might choose to start over by using the GitHub sample app as the basis for building your listener app -- the C# listener app was plug-and-play, I&#39;d expect the Java version to be the same. ","title":"Docusign Connect Java listener deserializing to incorrect object","body":"<p>I've never built a Java DocuSign Connect listener application, but I have built one with C#, and I did so by starting with the sample code on GitHub. The Java code is here -- <a href=\"https://github.com/docusign/DocuSign-eSignature-SDK/tree/master/Java/Connect\" rel=\"nofollow\">https://github.com/docusign/DocuSign-eSignature-SDK/tree/master/Java/Connect</a> -- if nothing else, perhaps comparing it with what you've got may help you identify the issue(s). Or, you might choose to start over by using the GitHub sample app as the basis for building your listener app -- the C# listener app was plug-and-play, I'd expect the Java version to be the same. </p>\n"}],"owner":{"account_id":1075465,"reputation":167,"user_id":1073733,"accept_rate":75,"display_name":"dermd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":464,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684883869,"creation_date":1393903930,"question_id":22162318,"body_markdown":"I have a Java listener for working with Docusign Connect. Checking out the logs for the connect calls I see the XML as I expected with form fields populated. However, for some reason when the object gets deserialized in the form, the data section is null. I think it may be related to the below SO question:\r\n\r\n[https://stackoverflow.com/questions/20686436/why-is-my-wcf-web-service-presenting-this-object-in-a-different-namespace-with-d][1]\r\n\r\nI&#39;m using Apache CXF and Maven to download the API objects from\r\n\r\n[https://www.docusign.net/api/3.0/api.asmx?wsdl][2]\r\n\r\nHowever, the deserialized object looks to be different from the XML sent from Connect. Has anyone come across this before or have gotten a listener working in Java which can access the forms fields?\r\n\r\n  [1]: https://stackoverflow.com/questions/20686436/why-is-my-wcf-web-service-presenting-this-object-in-a-different-namespace-with-d\r\n  [2]: https://www.docusign.net/api/3.0/api.asmx?wsdl","title":"Docusign Connect Java listener deserializing to incorrect object","body":"<p>I have a Java listener for working with Docusign Connect. Checking out the logs for the connect calls I see the XML as I expected with form fields populated. However, for some reason when the object gets deserialized in the form, the data section is null. I think it may be related to the below SO question:</p>\n<p><a href=\"https://stackoverflow.com/questions/20686436/why-is-my-wcf-web-service-presenting-this-object-in-a-different-namespace-with-d\">Why is my WCF web service presenting this object in a different namespace with different field names?</a></p>\n<p>I'm using Apache CXF and Maven to download the API objects from</p>\n<p><a href=\"https://www.docusign.net/api/3.0/api.asmx?wsdl\" rel=\"nofollow noreferrer\">https://www.docusign.net/api/3.0/api.asmx?wsdl</a></p>\n<p>However, the deserialized object looks to be different from the XML sent from Connect. Has anyone come across this before or have gotten a listener working in Java which can access the forms fields?</p>\n"},{"tags":["java","jmx","newrelic"],"answers":[{"comments":[{"owner":{"account_id":3928362,"reputation":473,"user_id":3247895,"accept_rate":50,"display_name":"user3247895"},"score":0,"creation_date":1684910298,"post_id":76319146,"comment_id":134584505,"body_markdown":"Thanks. i could find now. earlier i was unable to find . \nWhen i selected the exact APM in drop down and looked for time slice data, then it showed","body":"Thanks. i could find now. earlier i was unable to find .  When i selected the exact APM in drop down and looked for time slice data, then it showed"}],"tags":[],"owner":{"account_id":91652,"reputation":458,"user_id":251542,"display_name":"Andr&#233; Onuki"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684883223,"creation_date":1684883223,"answer_id":76319146,"question_id":76313589,"body_markdown":"According to the [documentation][1] it will show up in Metrics Explorer.\r\n\r\n[![Metrics explorer][2]][2]\r\n\r\nThe link to Metrics explorer is inside your APM page, at the bottom of the 2nd menu on the left. Then you can filter using `jmx/org` and it should show the metrics.\r\n\r\nBelow is further troubleshooting information, which are not helpful to you since you can see in the logs that the data is being properly collected, but may help others that look into this question in the future.\r\n\r\nIf it does not show there, take a look at your agent logs to see if your extension is loading correctly.\r\n\r\nAn error message would look like:\r\n```\r\ncom.newrelic.agent.extension.ExtensionService ERROR: Unable to parse extension. Check permissions on /path/to/extensions/ext.yml.  {error message}\r\n```\r\n\r\nAlso search for messages for the query and see if there are any matches. These log messages look like:\r\n```\r\ncom.newrelic FINER: JMX Service : MBeans query org.apache.commons.pool2:type=GenericObjectPool,name=*, matches 1\r\n```\r\n\r\nIf there are no matches, there maybe something wrong with the query in your extension. You may need to increase your log level to FINER to see these lines.\r\n\r\n  [1]: https://docs.newrelic.com/docs/apm/agents/java-agent/custom-instrumentation/java-agent-custom-jmx-instrumentation-yaml/#display_metrics\r\n  [2]: https://i.stack.imgur.com/m5WfZ.png","title":"Unable to get JMX monitoring data in new relic","body":"<p>According to the <a href=\"https://docs.newrelic.com/docs/apm/agents/java-agent/custom-instrumentation/java-agent-custom-jmx-instrumentation-yaml/#display_metrics\" rel=\"nofollow noreferrer\">documentation</a> it will show up in Metrics Explorer.</p>\n<p><a href=\"https://i.stack.imgur.com/m5WfZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/m5WfZ.png\" alt=\"Metrics explorer\" /></a></p>\n<p>The link to Metrics explorer is inside your APM page, at the bottom of the 2nd menu on the left. Then you can filter using <code>jmx/org</code> and it should show the metrics.</p>\n<p>Below is further troubleshooting information, which are not helpful to you since you can see in the logs that the data is being properly collected, but may help others that look into this question in the future.</p>\n<p>If it does not show there, take a look at your agent logs to see if your extension is loading correctly.</p>\n<p>An error message would look like:</p>\n<pre><code>com.newrelic.agent.extension.ExtensionService ERROR: Unable to parse extension. Check permissions on /path/to/extensions/ext.yml.  {error message}\n</code></pre>\n<p>Also search for messages for the query and see if there are any matches. These log messages look like:</p>\n<pre><code>com.newrelic FINER: JMX Service : MBeans query org.apache.commons.pool2:type=GenericObjectPool,name=*, matches 1\n</code></pre>\n<p>If there are no matches, there maybe something wrong with the query in your extension. You may need to increase your log level to FINER to see these lines.</p>\n"}],"owner":{"account_id":3928362,"reputation":473,"user_id":3247895,"accept_rate":50,"display_name":"user3247895"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":184,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76319146,"answer_count":1,"score":0,"last_activity_date":1684883223,"creation_date":1684836568,"question_id":76313589,"body_markdown":"We are trying to monitor the idle objects count in JedisPool ( internally uses Apache Generic-Pool API supporting JMX).\r\n\r\nWe added appropriate configuration in extension newrelic file based on https://docs.newrelic.com/docs/apm/agents/java-agent/custom-instrumentation/java-agent-custom-jmx-instrumentation-yaml/ .\r\n\r\nWe are able to get appropriate JMX Metric log in newrelic_agent.log present in our server as follows:\r\n```\r\n2023-05-22T09:09:10,940+0000 [1 1] com.newrelic.agent.extension.ExtensionService FINER: Reading custom extension file /usr/local/tomcat/newrelic/extensions/GenericObjectPool.yml&amp;amp;nbsp;\r\n2023-05-22T09:09:10,943+0000 [1 1] com.newrelic.agent.extension.ExtensionService FINER: Adding extension with name GenericObjectPool and version 1.0 2023-05-22T09:09:10,950+0000 [1 1] com.newrelic FINER: Adding JMX config: object_name: org.apache.commons.pool2:type=GenericObjectPool,name=* attributes: [MinIdle type: simple, MaxIdle type: simple, MaxTotal type: simple, NumActive type: simple, NumIdle type: simple, NumWaiters type: simple]&amp;amp;nbsp;\r\n2023-05-22T09:10:36,982+0000 [1 146] com.newrelic.agent.jmx.JmxService FINER: JMX Service : MBeans query java.lang:type=ClassLoading, matches 1 2023-05-22T09:10:36,987+0000 [1 146] com.newrelic.agent.jmx.JmxService FINER: Recording JMX metric LoadedClassCount : 26,825&amp;amp;nbsp;\r\n2023-05-22T09:10:36,987+0000 [1 146] com.newrelic.agent.jmx.JmxService FINER: Recording JMX metric UnloadedClassCount : 1&amp;amp;nbsp;\r\n2023-05-22T09:10:36,987+0000 [1 146] com.newrelic FINER: JMX Metric: JmxBuiltIn/Classes/Loaded Value: 26,825&amp;amp;nbsp;\r\n2023-05-22T09:10:36,987+0000 [1 146] com.newrelic FINER: JMX Metric: JmxBuiltIn/Classes/Unloaded Value: 1&amp;amp;nbsp;\r\n2023-05-22T09:10:36,987+0000 [1 146] com.newrelic.agent.jmx.JmxService FINER: JMX Service : MBeans query java.lang:type=Threading, matches 1&amp;amp;nbsp;\r\n2023-05-22T09:10:36,988+0000 [1 146] com.newrelic.agent.jmx.JmxService FINER: Recording JMX metric ThreadCount : 95&amp;amp;nbsp;\r\n2023-05-22T09:10:36,988+0000 [1 146] com.newrelic.agent.jmx.JmxService FINER: Recording JMX metric TotalStartedThreadCount : 578&amp;amp;nbsp;\r\n2023-05-22T09:10:36,988+0000 [1 146] com.newrelic FINER: JMX Metric: JmxBuiltIn/Threads/Thread Count Value: 95&amp;amp;nbsp;\r\n2023-05-22T09:10:36,988+0000 [1 146] com.newrelic FINER: JMX Metric: JmxBuiltIn/Threads/TotalStartedCount Value: 578&amp;amp;nbsp;\r\n2023-05-22T09:10:36,989+0000 [1 146] com.newrelic.agent.jmx.JmxService FINER: JMX Service : MBeans query org.apache.commons.pool2:type=GenericObjectPool,name=*, matches 12 2023-05-22T09:10:36,989+0000 [1 146] com.newrelic.agent.jmx.JmxService FINER: Recording JMX metric MaxTotal : 5&amp;amp;nbsp;\r\n2023-05-22T09:10:36,989+0000 [1 146] com.newrelic.agent.jmx.JmxService FINER: Recording JMX metric NumActive : 0&amp;amp;nbsp;\r\n2023-05-22T09:10:36,989+0000 [1 146] com.newrelic.agent.jmx.JmxService FINER: Recording JMX metric NumWaiters : 0&amp;amp;nbsp;\r\n2023-05-22T09:10:36,989+0000 [1 146] com.newrelic.agent.jmx.JmxService FINER: Recording JMX metric NumIdle : 5&amp;amp;nbsp;\r\n2023-05-22T09:10:36,989+0000 [1 146] com.newrelic.agent.jmx.JmxService FINER: Recording JMX metric MinIdle : 5&amp;amp;nbsp;\r\n2023-05-22T09:10:36,989+0000 [1 146] com.newrelic.agent.jmx.JmxService FINER: Recording JMX metric MaxIdle : 5&amp;amp;nbsp;\r\n2023-05-22T09:10:36,989+0000 [1 146] com.newrelic.agent.jmx.JmxService FINER: Recording JMX metric MaxTotal : 5&amp;amp;nbsp;\r\n2023-05-22T09:10:36,989+0000 [1 146] com.newrelic.agent.jmx.JmxService FINER: Recording JMX metric NumActive : 0&amp;amp;nbsp;\r\n2023-05-22T09:10:36,989+0000 [1 146] com.newrelic.agent.jmx.JmxService FINER: Recording JMX metric NumWaiters : 0&amp;amp;nbsp;\r\n2023-05-22T09:10:36,989+0000 [1 146] com.newrelic.agent.jmx.JmxService FINER: Recording JMX metric NumIdle : 5&amp;amp;nbsp;\r\n```\r\n\r\nBut we are unable to find same JMX Metric data anywhere in newrelic dashboard or tables.\r\n\r\nCan you please help in knowing how can we see JMX Metric data in new relic.\r\n\r\nI asked same question at https://forum.newrelic.com/s/hubtopic/aAX8W0000015AasWAE/unable-to-get-jmx-monitoring-data-in-new-relic?t=1684835773973 .\r\n","title":"Unable to get JMX monitoring data in new relic","body":"<p>We are trying to monitor the idle objects count in JedisPool ( internally uses Apache Generic-Pool API supporting JMX).</p>\n<p>We added appropriate configuration in extension newrelic file based on <a href=\"https://docs.newrelic.com/docs/apm/agents/java-agent/custom-instrumentation/java-agent-custom-jmx-instrumentation-yaml/\" rel=\"nofollow noreferrer\">https://docs.newrelic.com/docs/apm/agents/java-agent/custom-instrumentation/java-agent-custom-jmx-instrumentation-yaml/</a> .</p>\n<p>We are able to get appropriate JMX Metric log in newrelic_agent.log present in our server as follows:</p>\n<pre><code>2023-05-22T09:09:10,940+0000 [1 1] com.newrelic.agent.extension.ExtensionService FINER: Reading custom extension file /usr/local/tomcat/newrelic/extensions/GenericObjectPool.yml&amp;amp;nbsp;\n2023-05-22T09:09:10,943+0000 [1 1] com.newrelic.agent.extension.ExtensionService FINER: Adding extension with name GenericObjectPool and version 1.0 2023-05-22T09:09:10,950+0000 [1 1] com.newrelic FINER: Adding JMX config: object_name: org.apache.commons.pool2:type=GenericObjectPool,name=* attributes: [MinIdle type: simple, MaxIdle type: simple, MaxTotal type: simple, NumActive type: simple, NumIdle type: simple, NumWaiters type: simple]&amp;amp;nbsp;\n2023-05-22T09:10:36,982+0000 [1 146] com.newrelic.agent.jmx.JmxService FINER: JMX Service : MBeans query java.lang:type=ClassLoading, matches 1 2023-05-22T09:10:36,987+0000 [1 146] com.newrelic.agent.jmx.JmxService FINER: Recording JMX metric LoadedClassCount : 26,825&amp;amp;nbsp;\n2023-05-22T09:10:36,987+0000 [1 146] com.newrelic.agent.jmx.JmxService FINER: Recording JMX metric UnloadedClassCount : 1&amp;amp;nbsp;\n2023-05-22T09:10:36,987+0000 [1 146] com.newrelic FINER: JMX Metric: JmxBuiltIn/Classes/Loaded Value: 26,825&amp;amp;nbsp;\n2023-05-22T09:10:36,987+0000 [1 146] com.newrelic FINER: JMX Metric: JmxBuiltIn/Classes/Unloaded Value: 1&amp;amp;nbsp;\n2023-05-22T09:10:36,987+0000 [1 146] com.newrelic.agent.jmx.JmxService FINER: JMX Service : MBeans query java.lang:type=Threading, matches 1&amp;amp;nbsp;\n2023-05-22T09:10:36,988+0000 [1 146] com.newrelic.agent.jmx.JmxService FINER: Recording JMX metric ThreadCount : 95&amp;amp;nbsp;\n2023-05-22T09:10:36,988+0000 [1 146] com.newrelic.agent.jmx.JmxService FINER: Recording JMX metric TotalStartedThreadCount : 578&amp;amp;nbsp;\n2023-05-22T09:10:36,988+0000 [1 146] com.newrelic FINER: JMX Metric: JmxBuiltIn/Threads/Thread Count Value: 95&amp;amp;nbsp;\n2023-05-22T09:10:36,988+0000 [1 146] com.newrelic FINER: JMX Metric: JmxBuiltIn/Threads/TotalStartedCount Value: 578&amp;amp;nbsp;\n2023-05-22T09:10:36,989+0000 [1 146] com.newrelic.agent.jmx.JmxService FINER: JMX Service : MBeans query org.apache.commons.pool2:type=GenericObjectPool,name=*, matches 12 2023-05-22T09:10:36,989+0000 [1 146] com.newrelic.agent.jmx.JmxService FINER: Recording JMX metric MaxTotal : 5&amp;amp;nbsp;\n2023-05-22T09:10:36,989+0000 [1 146] com.newrelic.agent.jmx.JmxService FINER: Recording JMX metric NumActive : 0&amp;amp;nbsp;\n2023-05-22T09:10:36,989+0000 [1 146] com.newrelic.agent.jmx.JmxService FINER: Recording JMX metric NumWaiters : 0&amp;amp;nbsp;\n2023-05-22T09:10:36,989+0000 [1 146] com.newrelic.agent.jmx.JmxService FINER: Recording JMX metric NumIdle : 5&amp;amp;nbsp;\n2023-05-22T09:10:36,989+0000 [1 146] com.newrelic.agent.jmx.JmxService FINER: Recording JMX metric MinIdle : 5&amp;amp;nbsp;\n2023-05-22T09:10:36,989+0000 [1 146] com.newrelic.agent.jmx.JmxService FINER: Recording JMX metric MaxIdle : 5&amp;amp;nbsp;\n2023-05-22T09:10:36,989+0000 [1 146] com.newrelic.agent.jmx.JmxService FINER: Recording JMX metric MaxTotal : 5&amp;amp;nbsp;\n2023-05-22T09:10:36,989+0000 [1 146] com.newrelic.agent.jmx.JmxService FINER: Recording JMX metric NumActive : 0&amp;amp;nbsp;\n2023-05-22T09:10:36,989+0000 [1 146] com.newrelic.agent.jmx.JmxService FINER: Recording JMX metric NumWaiters : 0&amp;amp;nbsp;\n2023-05-22T09:10:36,989+0000 [1 146] com.newrelic.agent.jmx.JmxService FINER: Recording JMX metric NumIdle : 5&amp;amp;nbsp;\n</code></pre>\n<p>But we are unable to find same JMX Metric data anywhere in newrelic dashboard or tables.</p>\n<p>Can you please help in knowing how can we see JMX Metric data in new relic.</p>\n<p>I asked same question at <a href=\"https://forum.newrelic.com/s/hubtopic/aAX8W0000015AasWAE/unable-to-get-jmx-monitoring-data-in-new-relic?t=1684835773973\" rel=\"nofollow noreferrer\">https://forum.newrelic.com/s/hubtopic/aAX8W0000015AasWAE/unable-to-get-jmx-monitoring-data-in-new-relic?t=1684835773973</a> .</p>\n"},{"tags":["java","gradle","junit","junit4"],"comments":[{"owner":{"account_id":15144230,"reputation":1347,"user_id":10928439,"display_name":"Simon Jacobs"},"score":0,"creation_date":1676517487,"post_id":75444455,"comment_id":133154215,"body_markdown":"What about ./gradlew integrationTest --tests com.x.y.aTest, or use whatever is your integration test task name? Looks like those aren&#39;t captured under the default &quot;test&quot; task","body":"What about ./gradlew integrationTest --tests com.x.y.aTest, or use whatever is your integration test task name? Looks like those aren&#39;t captured under the default &quot;test&quot; task"}],"owner":{"account_id":7363882,"reputation":163,"user_id":5606268,"display_name":"Kpras"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":275,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1684882198,"creation_date":1676358578,"question_id":75444455,"body_markdown":"I have gradle project with below structure\r\n\r\nParentDirectory\r\n\r\n &gt;component1\r\n\r\n &gt;component2\r\n\r\n &gt;testsuites\r\n\r\n &gt;unittest\r\n\r\nWhen I run command ./gradlew test\r\nIt ran all tests under unittest not integration tests\r\n\r\nI have some integration tests like aTest, bTest etc in testsuites directory, when I run below command it does something like (Configure project...) but I guess its not running integration junit tests as it doesn&#39;t show test details\r\n\r\n    ./gradlew clean test --tests com.x.y.aTest\r\n\r\nHere com.x.y is package location to aTest, what is seen on import in aTest class.\r\n\r\nPlease let me know how can I run single integration test class &amp; multiple integration tests with gradle command in terminal? ","title":"Run integration tests in a specific directory with gradle command","body":"<p>I have gradle project with below structure</p>\n<p>ParentDirectory</p>\n<blockquote>\n<p>component1</p>\n</blockquote>\n<blockquote>\n<p>component2</p>\n</blockquote>\n<blockquote>\n<p>testsuites</p>\n</blockquote>\n<blockquote>\n<p>unittest</p>\n</blockquote>\n<p>When I run command ./gradlew test\nIt ran all tests under unittest not integration tests</p>\n<p>I have some integration tests like aTest, bTest etc in testsuites directory, when I run below command it does something like (Configure project...) but I guess its not running integration junit tests as it doesn't show test details</p>\n<pre><code>./gradlew clean test --tests com.x.y.aTest\n</code></pre>\n<p>Here com.x.y is package location to aTest, what is seen on import in aTest class.</p>\n<p>Please let me know how can I run single integration test class &amp; multiple integration tests with gradle command in terminal?</p>\n"},{"tags":["java","bouncycastle"],"comments":[{"owner":{"account_id":2664783,"reputation":186,"user_id":2303530,"accept_rate":50,"display_name":"markmacw"},"score":3,"creation_date":1684882134,"post_id":76319072,"comment_id":134581812,"body_markdown":"You might want to phrase the title as a question... please see advice on the StackOverflow help article: https://stackoverflow.com/help/how-to-ask\nSpecifically they suggest writing your title last &quot;If you&#39;re having trouble summarizing the problem, write the title last—sometimes, writing the rest of the question first can make it easier to describe the problem.&quot;","body":"You might want to phrase the title as a question... please see advice on the StackOverflow help article: <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a> Specifically they suggest writing your title last &quot;If you&#39;re having trouble summarizing the problem, write the title last—sometimes, writing the rest of the question first can make it easier to describe the problem.&quot;"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1684886478,"post_id":76319072,"comment_id":134582213,"body_markdown":"I&#39;m not familiar with `BouncyCastle`. But, Google found the [class JceKeyTransEnvelopedRecipient API](https://www.bouncycastle.org/docs/pkixdocs1.5on/index.html?org/bouncycastle/cms/jcajce/JceKeyTransEnvelopedRecipient.html). Note that the *only* constructor takes a `java.security.PrivateKey`  Object for an argument. You are trying to pass a PublicKey.","body":"I&#39;m not familiar with <code>BouncyCastle</code>. But, Google found the <a href=\"https://www.bouncycastle.org/docs/pkixdocs1.5on/index.html?org/bouncycastle/cms/jcajce/JceKeyTransEnvelopedRecipient.html\" rel=\"nofollow noreferrer\">class JceKeyTransEnvelopedRecipient API</a>. Note that the <i>only</i> constructor takes a <code>java.security.PrivateKey</code>  Object for an argument. You are trying to pass a PublicKey."}],"owner":{"account_id":28665935,"reputation":1,"user_id":21949945,"display_name":"Pedro Marques"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684881831,"creation_date":1684881831,"question_id":76319072,"body_markdown":"Trying to decrypt a file which for my Cryptografy class, but I cannot pass the correct arguments for the function:\r\n\r\n\r\n```\r\nimport org.bouncycastle.cms.CMSEnvelopedDataParser;\r\nimport org.bouncycastle.cms.RecipientInformation;\r\nimport org.bouncycastle.cms.RecipientInformationStore;\r\nimport org.bouncycastle.cms.jcajce.JceKeyTransEnvelopedRecipient;\r\nimport org.bouncycastle.util.io.Streams;\r\n\r\nimport java.io.FileInputStream;\r\nimport java.io.FileOutputStream;\r\nimport java.io.OutputStream;\r\nimport java.security.cert.CertificateFactory;\r\nimport java.security.cert.X509Certificate;\r\n\r\npublic class BouncyCastleDecrypt {\r\n    public static void main(String[] args) {\r\n        try {\r\n            CertificateFactory certFactory = CertificateFactory.getInstance(&quot;X.509&quot;);\r\n            FileInputStream certFileInputStream = new FileInputStream(&quot;xxxx.crt&quot;);\r\n            X509Certificate cert = (X509Certificate) certFactory.generateCertificate(certFileInputStream);\r\n\r\n            FileInputStream encryptedFileInputStream = new FileInputStream(&quot;xxxx.enc&quot;);\r\n            CMSEnvelopedDataParser parser = new CMSEnvelopedDataParser(encryptedFileInputStream);\r\n\r\n            RecipientInformationStore recipientInfos = parser.getRecipientInfos();\r\n            RecipientInformation recipientInfo = recipientInfos.getRecipients().iterator().next();\r\n\r\n            JceKeyTransEnvelopedRecipient recipient = new JceKeyTransEnvelopedRecipient(cert.getPublicKey());\r\n            byte[] decryptedData = recipientInfo.getContent(recipient);\r\n\r\n            OutputStream decryptedOutputStream = new FileOutputStream(&quot;final_file.pdf&quot;);\r\n            decryptedOutputStream.write(decryptedData);\r\n            decryptedOutputStream.close();\r\n\r\n            System.out.println(&quot;Descriptografia conclu&#237;da com sucesso!&quot;);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\nMultiple variations in order to create the receipient to access the key","title":"Cannot pass this issue: The constructor JceKeyTransEnvelopedRecipient(PublicKey) is undefined","body":"<p>Trying to decrypt a file which for my Cryptografy class, but I cannot pass the correct arguments for the function:</p>\n<pre><code>import org.bouncycastle.cms.CMSEnvelopedDataParser;\nimport org.bouncycastle.cms.RecipientInformation;\nimport org.bouncycastle.cms.RecipientInformationStore;\nimport org.bouncycastle.cms.jcajce.JceKeyTransEnvelopedRecipient;\nimport org.bouncycastle.util.io.Streams;\n\nimport java.io.FileInputStream;\nimport java.io.FileOutputStream;\nimport java.io.OutputStream;\nimport java.security.cert.CertificateFactory;\nimport java.security.cert.X509Certificate;\n\npublic class BouncyCastleDecrypt {\n    public static void main(String[] args) {\n        try {\n            CertificateFactory certFactory = CertificateFactory.getInstance(&quot;X.509&quot;);\n            FileInputStream certFileInputStream = new FileInputStream(&quot;xxxx.crt&quot;);\n            X509Certificate cert = (X509Certificate) certFactory.generateCertificate(certFileInputStream);\n\n            FileInputStream encryptedFileInputStream = new FileInputStream(&quot;xxxx.enc&quot;);\n            CMSEnvelopedDataParser parser = new CMSEnvelopedDataParser(encryptedFileInputStream);\n\n            RecipientInformationStore recipientInfos = parser.getRecipientInfos();\n            RecipientInformation recipientInfo = recipientInfos.getRecipients().iterator().next();\n\n            JceKeyTransEnvelopedRecipient recipient = new JceKeyTransEnvelopedRecipient(cert.getPublicKey());\n            byte[] decryptedData = recipientInfo.getContent(recipient);\n\n            OutputStream decryptedOutputStream = new FileOutputStream(&quot;final_file.pdf&quot;);\n            decryptedOutputStream.write(decryptedData);\n            decryptedOutputStream.close();\n\n            System.out.println(&quot;Descriptografia concluída com sucesso!&quot;);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>Multiple variations in order to create the receipient to access the key</p>\n"},{"tags":["java","https","ssl-certificate","keystore","x509"],"comments":[{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1684973154,"post_id":76319001,"comment_id":134597306,"body_markdown":"I think there may be two different problems. Did you do the `-import[cert]`s, particularly the last one, to the same keystore _and entry/alias_ as you used for `-genkey[pair]`? If not, that would explain the certs not being linked (as a chain) in the keystore, and the keystore not being usable for an SSL/TLS server. However, the KSE Verify operation just seems to be broken, at least in the version I have (5.5.1) -- not onlyl does it say valid Sectigo CA certs &#39;[don&#39;t] chain to an anchor&#39; it also does this for certs in cacerts which are by definition anchors.","body":"I think there may be two different problems. Did you do the <code>-import[cert]</code>s, particularly the last one, to the same keystore <i>and entry/alias</i> as you used for <code>-genkey[pair]</code>? If not, that would explain the certs not being linked (as a chain) in the keystore, and the keystore not being usable for an SSL/TLS server. However, the KSE Verify operation just seems to be broken, at least in the version I have (5.5.1) -- not onlyl does it say valid Sectigo CA certs &#39;[don&#39;t] chain to an anchor&#39; it also does this for certs in cacerts which are by definition anchors."},{"owner":{"account_id":25279,"reputation":35965,"user_id":64895,"accept_rate":60,"display_name":"Jack BeNimble"},"score":0,"creation_date":1685107852,"post_id":76319001,"comment_id":134619407,"body_markdown":"Interesting. I created the certificate request using commodo&#39;s online certificate request creation page. So I don&#39;t believe I used &quot;genkey&quot; at all. Regarding your second suggestion, I will test on the public website.","body":"Interesting. I created the certificate request using commodo&#39;s online certificate request creation page. So I don&#39;t believe I used &quot;genkey&quot; at all. Regarding your second suggestion, I will test on the public website."},{"owner":{"account_id":25279,"reputation":35965,"user_id":64895,"accept_rate":60,"display_name":"Jack BeNimble"},"score":0,"creation_date":1685275201,"post_id":76319001,"comment_id":134636230,"body_markdown":"Thank you! The part about the same alias for the genkey did the trick.","body":"Thank you! The part about the same alias for the genkey did the trick."}],"owner":{"account_id":25279,"reputation":35965,"user_id":64895,"accept_rate":60,"display_name":"Jack BeNimble"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684880757,"creation_date":1684880757,"question_id":76319001,"body_markdown":"I&#39;m trying to add https capability to an Spring Boot app. \r\n\r\nI purchased a certificate from Comodo but am having a lot of difficulty getting it to be trusted. \r\n\r\nI came across [this post](https://stackoverflow.com/questions/51107096/springboot-and-comodo-https-configuration-for-the-web-application) and imported the certificate chain as follows\r\n\r\n\r\n    // The first was arleady trusted under a different alias, added anyway\r\n    \r\n    keytool -import -trustcacerts -alias AAACertificateServices -file AAACertificateServices.crt -keystore domain.keystore\r\n    \r\n    keytool -import -trustcacerts -alias USERTrustRSAAAACA -file  USERTrustRSAAAACA.crt -keystore domain.keystore\r\n    \r\n    keytool -import -trustcacerts -alias SectigoRSADomainValidationSecureServerCA -file  SectigoRSADomainValidationSecureServerCA.crt -keystore domain.keystore\r\n    \r\n    keytool -import -trustcacerts -alias tomcat -file mydoman.crt -keystore domain.keystore\r\n\r\n\r\nHowever, when I verify the certificates in Keystore Explorer, the verification fails, and the certificate chain is not linked. \r\n\r\nAny ideas how I can solve this aggravating problem?","title":"Java keystore - Imported certificate chain is untrusted","body":"<p>I'm trying to add https capability to an Spring Boot app.</p>\n<p>I purchased a certificate from Comodo but am having a lot of difficulty getting it to be trusted.</p>\n<p>I came across <a href=\"https://stackoverflow.com/questions/51107096/springboot-and-comodo-https-configuration-for-the-web-application\">this post</a> and imported the certificate chain as follows</p>\n<pre><code>// The first was arleady trusted under a different alias, added anyway\n\nkeytool -import -trustcacerts -alias AAACertificateServices -file AAACertificateServices.crt -keystore domain.keystore\n\nkeytool -import -trustcacerts -alias USERTrustRSAAAACA -file  USERTrustRSAAAACA.crt -keystore domain.keystore\n\nkeytool -import -trustcacerts -alias SectigoRSADomainValidationSecureServerCA -file  SectigoRSADomainValidationSecureServerCA.crt -keystore domain.keystore\n\nkeytool -import -trustcacerts -alias tomcat -file mydoman.crt -keystore domain.keystore\n</code></pre>\n<p>However, when I verify the certificates in Keystore Explorer, the verification fails, and the certificate chain is not linked.</p>\n<p>Any ideas how I can solve this aggravating problem?</p>\n"},{"tags":["java","arrays","string","performance","time-complexity"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1684867084,"post_id":76317718,"comment_id":134579231,"body_markdown":"O(n^2)??? Please share any resource claiming that. And what is n in your case? See you just asking about appending a string of length n to itself?","body":"O(n^2)??? Please share any resource claiming that. And what is n in your case? See you just asking about appending a string of length n to itself?"},{"owner":{"account_id":1547313,"reputation":82164,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1684867469,"post_id":76317718,"comment_id":134579304,"body_markdown":"&quot;Is it not the case that the compiler can detect the length of the RHS literal and directly assign the new array to be whatever the length of str is + the RHS literal right away&quot; Appending strings requires copying characters, not just calculating the length.","body":"&quot;Is it not the case that the compiler can detect the length of the RHS literal and directly assign the new array to be whatever the length of str is + the RHS literal right away&quot; Appending strings requires copying characters, not just calculating the length."},{"owner":{"account_id":17829609,"reputation":107,"user_id":12949960,"display_name":"Zerenity"},"score":1,"creation_date":1684867605,"post_id":76317718,"comment_id":134579329,"body_markdown":"@luk2302 https://interviews.school/strings https://stackoverflow.com/questions/15400508/string-concatenation-complexity-in-c-and-java https://plainenglish.io/blog/concatenating-strings-efficiently-in-python etc. Sorry, I should change it to O(mn) considering two diff input variables.","body":"@luk2302 <a href=\"https://interviews.school/strings\" rel=\"nofollow noreferrer\">interviews.school/strings</a> <a href=\"https://stackoverflow.com/questions/15400508/string-concatenation-complexity-in-c-and-java\" title=\"string concatenation complexity in c and java\">stackoverflow.com/questions/15400508/&hellip;</a> <a href=\"https://plainenglish.io/blog/concatenating-strings-efficiently-in-python\" rel=\"nofollow noreferrer\">plainenglish.io/blog/&hellip;</a> etc. Sorry, I should change it to O(mn) considering two diff input variables."},{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1684867737,"post_id":76317718,"comment_id":134579348,"body_markdown":"All those are basically intentionally bad, O(n^2) yes. And no, your second snippet obviously is O(n) or O(n+m) but not quadratic.","body":"All those are basically intentionally bad, O(n^2) yes. And no, your second snippet obviously is O(n) or O(n+m) but not quadratic."},{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":2,"creation_date":1684867811,"post_id":76317718,"comment_id":134579357,"body_markdown":"Stop trying to reason about what the compiler can infer or not, that is irrelevant. Adding anything to a string is linear in time, adding things n times therefore is quadratic, end of argument.","body":"Stop trying to reason about what the compiler can infer or not, that is irrelevant. Adding anything to a string is linear in time, adding things n times therefore is quadratic, end of argument."},{"owner":{"account_id":17829609,"reputation":107,"user_id":12949960,"display_name":"Zerenity"},"score":0,"creation_date":1684868067,"post_id":76317718,"comment_id":134579407,"body_markdown":"@Code-Apprentice I know, I&#39;m wondering though whether a new array is created for each step in the RHS literal with copying of prev characters occurring for each new array or if one single array is created by inferring the length of RHS literal and copying of prev characters only occurring once, i.e., is it case 1 that happens (in java specifically) or case 2 for string concatenation?","body":"@Code-Apprentice I know, I&#39;m wondering though whether a new array is created for each step in the RHS literal with copying of prev characters occurring for each new array or if one single array is created by inferring the length of RHS literal and copying of prev characters only occurring once, i.e., is it case 1 that happens (in java specifically) or case 2 for string concatenation?"},{"owner":{"account_id":17829609,"reputation":107,"user_id":12949960,"display_name":"Zerenity"},"score":1,"creation_date":1684868287,"post_id":76317718,"comment_id":134579452,"body_markdown":"@luk2302 Right, that&#39;s what I assumed too, so concatenating two strings in one line outside a loop is O(n+m) (as a new array is only formed once being that java can infer the length of the RHS literal?) while concatenating within a loop in a per iteration basis is O(nm) (as new arrays are formed every iteration?)? Edit: Thanks, your latest comment makes sense.","body":"@luk2302 Right, that&#39;s what I assumed too, so concatenating two strings in one line outside a loop is O(n+m) (as a new array is only formed once being that java can infer the length of the RHS literal?) while concatenating within a loop in a per iteration basis is O(nm) (as new arrays are formed every iteration?)? Edit: Thanks, your latest comment makes sense."},{"owner":{"account_id":7121054,"reputation":5814,"user_id":5445670,"display_name":"Solomon Ucko"},"score":0,"creation_date":1684868543,"post_id":76317718,"comment_id":134579506,"body_markdown":"I think some compilers or JIT interpeters automatically convert repeated string concatenation to use `StringBuilder` in some cases, which amortizes reallocation?","body":"I think some compilers or JIT interpeters automatically convert repeated string concatenation to use <code>StringBuilder</code> in some cases, which amortizes reallocation?"},{"owner":{"account_id":17829609,"reputation":107,"user_id":12949960,"display_name":"Zerenity"},"score":1,"creation_date":1684868773,"post_id":76317718,"comment_id":134579543,"body_markdown":"@SolomonUcko I read something about the StringBuilder automatically being invoked in the following forum discussion https://stackoverflow.com/questions/58309852/why-is-the-complexity-of-simple-string-concatenation-on2","body":"@SolomonUcko I read something about the StringBuilder automatically being invoked in the following forum discussion <a href=\"https://stackoverflow.com/questions/58309852/why-is-the-complexity-of-simple-string-concatenation-on2\" title=\"why is the complexity of simple string concatenation on2\">stackoverflow.com/questions/58309852/&hellip;</a>"},{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":2,"creation_date":1684880524,"post_id":76317718,"comment_id":134581628,"body_markdown":"This (in append2) looks like a bug: `String str += s;`   You&#39;re concatenating &#39;s&#39; onto an uninitialized variable.  It&#39;s probably not even legal syntax; the context is &#39;initialization&#39;, not &#39;assignment&#39;.","body":"This (in append2) looks like a bug: <code>String str += s;</code>   You&#39;re concatenating &#39;s&#39; onto an uninitialized variable.  It&#39;s probably not even legal syntax; the context is &#39;initialization&#39;, not &#39;assignment&#39;."}],"answers":[{"comments":[{"owner":{"account_id":17829609,"reputation":107,"user_id":12949960,"display_name":"Zerenity"},"score":0,"creation_date":1684869449,"post_id":76317797,"comment_id":134579661,"body_markdown":"Thanks, clear now! I do think though that you meant &quot;The first 2 steps are...&quot; right?","body":"Thanks, clear now! I do think though that you meant &quot;The first 2 steps are...&quot; right?"},{"owner":{"account_id":1547313,"reputation":82164,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":1,"creation_date":1684876788,"post_id":76317797,"comment_id":134581071,"body_markdown":"@Zerenity I can&#39;t count.","body":"@Zerenity I can&#39;t count."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1685635877,"post_id":76317797,"comment_id":134691446,"body_markdown":"Note that allocating a new array can be O(n) due to the mandated zero filling, but in case of a `String` construction we can expect the JVM to do the magic of eliminating this step, as the array is definitely filled with content. But even without the optimization, the overall time complexity wouldn’t change. And it’s worth mentioning explicitly that the question’s assumption is correct, the `variant1` has O(n&#178;) time complexity due to performing the concatenation in a loop.","body":"Note that allocating a new array can be O(n) due to the mandated zero filling, but in case of a <code>String</code> construction we can expect the JVM to do the magic of eliminating this step, as the array is definitely filled with content. But even without the optimization, the overall time complexity wouldn’t change. And it’s worth mentioning explicitly that the question’s assumption is correct, the <code>variant1</code> has O(n&#178;) time complexity due to performing the concatenation in a loop."}],"tags":[],"owner":{"account_id":1547313,"reputation":82164,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1684876782,"creation_date":1684867623,"answer_id":76317797,"question_id":76317718,"body_markdown":"Concatenating strings should be `O(n)`. It will be roughly the following algorithm:\r\n\r\n```\r\nget the length of each string and add them together\r\nallocate a new array of this length\r\ncopy each character from the first string into the new array buffer\r\ncopy each character from the second string int the new array buffer making sure to place them after the last character from the first string\r\n```\r\n\r\nThe first 2 steps are &quot;simple&quot; operations and take constant time because they don&#39;t depend on the number of characters. This assumes that the length of each string is already stored somewhere and we don&#39;t have to count the characters on-the-fly.\r\n\r\nThe last two steps will require a single loop, so will be `O(n)`.","title":"Is adding the string e.g. &quot; world&quot; to another string &quot;hello&quot; in one line seen as one or many concatenations?","body":"<p>Concatenating strings should be <code>O(n)</code>. It will be roughly the following algorithm:</p>\n<pre><code>get the length of each string and add them together\nallocate a new array of this length\ncopy each character from the first string into the new array buffer\ncopy each character from the second string int the new array buffer making sure to place them after the last character from the first string\n</code></pre>\n<p>The first 2 steps are &quot;simple&quot; operations and take constant time because they don't depend on the number of characters. This assumes that the length of each string is already stored somewhere and we don't have to count the characters on-the-fly.</p>\n<p>The last two steps will require a single loop, so will be <code>O(n)</code>.</p>\n"}],"owner":{"account_id":17829609,"reputation":107,"user_id":12949960,"display_name":"Zerenity"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":76317797,"answer_count":1,"score":-2,"last_activity_date":1684880706,"creation_date":1684866776,"question_id":76317718,"body_markdown":"I&#39;m exploring the time complexities of string concatenation. I&#39;ve read on many websites that the time complexity of concatenating two strings using the + operator is O(n^2) (or O(mn) to be exact in regards to concatenating two different string variables). I&#39;m wondering if this only occurs for a certain type of concatenation scheme (using the + operator). I&#39;m contemplating whether:\r\n\r\n```\r\nvoid append1 (String s){\r\n  \r\n  //s literal is &quot; world&quot;\r\n\r\n  String str = &quot;hello&quot;;\r\n\r\n  for (int i = 0; i &lt; s.length; i++){\r\n    str += s.charAt(i);\r\n  }\r\n}\r\n```\r\nhas the same time complexity as:\r\n```\r\nvoid append2 (String s){\r\n  \r\n  //s literal is &quot; world&quot;\r\n\r\n  String str = &quot;hello&quot;;\r\n\r\n  str += s;\r\n}\r\n```\r\nWould this be true or false?\r\n\r\nIn append1(String s) I understand that a new concatenation occurs every new iteration, and thus I can see how the time complexity for appending to String str in append1(String s) is O(n^2) i.e. O(mn) in our case (being the old copies are always copied over to a new array that can fit the new additional to-be-added character). However, in append2(String s), is it still the case that a new array, with copying all previous characters into it, is undergone for each character in the RHS literal (which would entail that &quot; world&quot; is not just one concatenation but many for each charAt(x) in &quot; world&quot;?)? For: \r\n\r\n```\r\nstr += &quot; world&quot;\r\n```\r\n\r\nIs it not the case that the compiler can detect the length of the RHS literal and directly assign the new array to be whatever the length of str is + the RHS literal right away, or is it unable to do so and just creates the new arrays whenever a new character is to be appended? If this is the case, doesn&#39;t this entail that creating any type of String is O(n^2) (if not, how can the compiler infer the length of RHS literal for String x = &quot;hello&quot; (which presumably is O(n)) but not x += &quot; world&quot;)? Conclusively, should:\r\n```\r\n str += &quot; world&quot;\r\n```\r\nbe regarded as one or many concatenations? Thanks.","title":"Is adding the string e.g. &quot; world&quot; to another string &quot;hello&quot; in one line seen as one or many concatenations?","body":"<p>I'm exploring the time complexities of string concatenation. I've read on many websites that the time complexity of concatenating two strings using the + operator is O(n^2) (or O(mn) to be exact in regards to concatenating two different string variables). I'm wondering if this only occurs for a certain type of concatenation scheme (using the + operator). I'm contemplating whether:</p>\n<pre><code>void append1 (String s){\n  \n  //s literal is &quot; world&quot;\n\n  String str = &quot;hello&quot;;\n\n  for (int i = 0; i &lt; s.length; i++){\n    str += s.charAt(i);\n  }\n}\n</code></pre>\n<p>has the same time complexity as:</p>\n<pre><code>void append2 (String s){\n  \n  //s literal is &quot; world&quot;\n\n  String str = &quot;hello&quot;;\n\n  str += s;\n}\n</code></pre>\n<p>Would this be true or false?</p>\n<p>In append1(String s) I understand that a new concatenation occurs every new iteration, and thus I can see how the time complexity for appending to String str in append1(String s) is O(n^2) i.e. O(mn) in our case (being the old copies are always copied over to a new array that can fit the new additional to-be-added character). However, in append2(String s), is it still the case that a new array, with copying all previous characters into it, is undergone for each character in the RHS literal (which would entail that &quot; world&quot; is not just one concatenation but many for each charAt(x) in &quot; world&quot;?)? For:</p>\n<pre><code>str += &quot; world&quot;\n</code></pre>\n<p>Is it not the case that the compiler can detect the length of the RHS literal and directly assign the new array to be whatever the length of str is + the RHS literal right away, or is it unable to do so and just creates the new arrays whenever a new character is to be appended? If this is the case, doesn't this entail that creating any type of String is O(n^2) (if not, how can the compiler infer the length of RHS literal for String x = &quot;hello&quot; (which presumably is O(n)) but not x += &quot; world&quot;)? Conclusively, should:</p>\n<pre><code> str += &quot; world&quot;\n</code></pre>\n<p>be regarded as one or many concatenations? Thanks.</p>\n"},{"tags":["java","queue","activemq-artemis","purge"],"comments":[{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1684878150,"post_id":76318785,"comment_id":134581277,"body_markdown":"Out of curiosity, why are you using the core API?","body":"Out of curiosity, why are you using the core API?"},{"owner":{"account_id":17938786,"reputation":7,"user_id":13034566,"display_name":"NewDev_X606"},"score":0,"creation_date":1685116399,"post_id":76318785,"comment_id":134621446,"body_markdown":"For performance and efficiency and compatibility with older versions","body":"For performance and efficiency and compatibility with older versions"},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1685118359,"post_id":76318785,"comment_id":134621817,"body_markdown":"FWIW, the broker maintains backwards compatibility with all the protocols it supports so that older clients should always work with newer brokers.","body":"FWIW, the broker maintains backwards compatibility with all the protocols it supports so that older clients should always work with newer brokers."}],"answers":[{"tags":[],"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1684880154,"creation_date":1684879171,"answer_id":76318906,"question_id":76318785,"body_markdown":"Most messaging APIs and protocols do not provide a way to purge (i.e. clear _all_ messages from) a queue. The two basic operations you normally get are producing and consuming. Such is the case with the &quot;core&quot; API provided by ActiveMQ Artemis.\r\n\r\nThat said, there is a **management** API which provides a way to purge a queue because this is something typically reserved for administrators who may be managing the broker. The management API is based on JMX MBeans so it can be accessed via JMX and a handful of other methods (e.g. web console, HTTP via Jolokia, management &quot;messages&quot;).\r\n\r\nFor Java applications the `jmx` example which ships with ActiveMQ Artemis in the `examples/features/standard/jmx` directory demonstrates exactly what you want to do. It uses the [`removeMessages` method of the `QueueControl`][1] with a `null` filter value to remove all the messages from the queue. Here&#39;s a quick summary:\r\n\r\n```java\r\nimport javax.management.MBeanServerConnection;\r\nimport javax.management.MBeanServerInvocationHandler;\r\nimport javax.management.ObjectName;\r\nimport javax.management.remote.JMXConnector;\r\nimport javax.management.remote.JMXConnectorFactory;\r\nimport javax.management.remote.JMXServiceURL;\r\n\r\nimport org.apache.activemq.artemis.api.core.RoutingType;\r\nimport org.apache.activemq.artemis.api.core.SimpleString;\r\nimport org.apache.activemq.artemis.api.core.management.ObjectNameBuilder;\r\nimport org.apache.activemq.artemis.api.core.management.QueueControl;\r\n\r\n...\r\n\r\nObjectName on = ObjectNameBuilder.DEFAULT.getQueueObjectName(SimpleString.toSimpleString(queueName), SimpleString.toSimpleString(queueName), RoutingType.ANYCAST);\r\nJMXConnector connector = JMXConnectorFactory.connect(new JMXServiceURL(&quot;service:jmx:rmi:///jndi/rmi://localhost:1099/jmxrmi&quot;));\r\nMBeanServerConnection mbsc = connector.getMBeanServerConnection();\r\nQueueControl queueControl = MBeanServerInvocationHandler.newProxyInstance(mbsc, on, QueueControl.class, false);\r\nqueueControl.removeMessages(null);\r\n```\r\n\r\nFor more details on running the examples see the [&quot;Examples&quot; chapter in the documentation][2].\r\n\r\nFor more details on the management API and broker management in general (including configuration changes necessary to enable [remote JMX access][3]) see the [&quot;Management&quot; chapter in the documentation][4].\r\n\r\n\r\n  [1]: https://activemq.apache.org/components/artemis/documentation/javadocs/javadoc-latest/org/apache/activemq/artemis/api/core/management/QueueControl.html#removeMessages(java.lang.String)\r\n  [2]: https://activemq.apache.org/components/artemis/documentation/latest/examples.html\r\n  [3]: https://activemq.apache.org/components/artemis/documentation/latest/management.html#remote-jmx-access\r\n  [4]: https://activemq.apache.org/components/artemis/documentation/latest/management.html","title":"How to purge a queue in ActiveMQ Artemis programmatically using Java?","body":"<p>Most messaging APIs and protocols do not provide a way to purge (i.e. clear <em>all</em> messages from) a queue. The two basic operations you normally get are producing and consuming. Such is the case with the &quot;core&quot; API provided by ActiveMQ Artemis.</p>\n<p>That said, there is a <strong>management</strong> API which provides a way to purge a queue because this is something typically reserved for administrators who may be managing the broker. The management API is based on JMX MBeans so it can be accessed via JMX and a handful of other methods (e.g. web console, HTTP via Jolokia, management &quot;messages&quot;).</p>\n<p>For Java applications the <code>jmx</code> example which ships with ActiveMQ Artemis in the <code>examples/features/standard/jmx</code> directory demonstrates exactly what you want to do. It uses the <a href=\"https://activemq.apache.org/components/artemis/documentation/javadocs/javadoc-latest/org/apache/activemq/artemis/api/core/management/QueueControl.html#removeMessages(java.lang.String)\" rel=\"nofollow noreferrer\"><code>removeMessages</code> method of the <code>QueueControl</code></a> with a <code>null</code> filter value to remove all the messages from the queue. Here's a quick summary:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.management.MBeanServerConnection;\nimport javax.management.MBeanServerInvocationHandler;\nimport javax.management.ObjectName;\nimport javax.management.remote.JMXConnector;\nimport javax.management.remote.JMXConnectorFactory;\nimport javax.management.remote.JMXServiceURL;\n\nimport org.apache.activemq.artemis.api.core.RoutingType;\nimport org.apache.activemq.artemis.api.core.SimpleString;\nimport org.apache.activemq.artemis.api.core.management.ObjectNameBuilder;\nimport org.apache.activemq.artemis.api.core.management.QueueControl;\n\n...\n\nObjectName on = ObjectNameBuilder.DEFAULT.getQueueObjectName(SimpleString.toSimpleString(queueName), SimpleString.toSimpleString(queueName), RoutingType.ANYCAST);\nJMXConnector connector = JMXConnectorFactory.connect(new JMXServiceURL(&quot;service:jmx:rmi:///jndi/rmi://localhost:1099/jmxrmi&quot;));\nMBeanServerConnection mbsc = connector.getMBeanServerConnection();\nQueueControl queueControl = MBeanServerInvocationHandler.newProxyInstance(mbsc, on, QueueControl.class, false);\nqueueControl.removeMessages(null);\n</code></pre>\n<p>For more details on running the examples see the <a href=\"https://activemq.apache.org/components/artemis/documentation/latest/examples.html\" rel=\"nofollow noreferrer\">&quot;Examples&quot; chapter in the documentation</a>.</p>\n<p>For more details on the management API and broker management in general (including configuration changes necessary to enable <a href=\"https://activemq.apache.org/components/artemis/documentation/latest/management.html#remote-jmx-access\" rel=\"nofollow noreferrer\">remote JMX access</a>) see the <a href=\"https://activemq.apache.org/components/artemis/documentation/latest/management.html\" rel=\"nofollow noreferrer\">&quot;Management&quot; chapter in the documentation</a>.</p>\n"}],"owner":{"account_id":17938786,"reputation":7,"user_id":13034566,"display_name":"NewDev_X606"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":194,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76318906,"answer_count":1,"score":0,"last_activity_date":1684880154,"creation_date":1684877477,"question_id":76318785,"body_markdown":"I am new to using ActiveMQ Artemis, and I am trying to purge one queue programmatically. I have searched through the documentation, and online but have not been able to find anything to help with this.\r\n\r\nI would like an example of how to do this given a name if a queue using Java.  \r\n\r\n```java\r\nClientSessionFactory sessionFactory;\r\nClientSession session\r\nClientProducer producer\r\n\r\n//Creating the queue as follows:\r\nsession = sessionFactory.createSession();\r\nproducer = session.createProducer(queueName);\r\nsession.start();\r\n```","title":"How to purge a queue in ActiveMQ Artemis programmatically using Java?","body":"<p>I am new to using ActiveMQ Artemis, and I am trying to purge one queue programmatically. I have searched through the documentation, and online but have not been able to find anything to help with this.</p>\n<p>I would like an example of how to do this given a name if a queue using Java.</p>\n<pre class=\"lang-java prettyprint-override\"><code>ClientSessionFactory sessionFactory;\nClientSession session\nClientProducer producer\n\n//Creating the queue as follows:\nsession = sessionFactory.createSession();\nproducer = session.createProducer(queueName);\nsession.start();\n</code></pre>\n"},{"tags":["java","android","android-studio","user-interface","textview"],"answers":[{"tags":[],"owner":{"account_id":6140624,"reputation":592,"user_id":4788165,"accept_rate":47,"display_name":"Josemafuen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684880146,"creation_date":1684858488,"answer_id":76316777,"question_id":76315207,"body_markdown":"The solution would be to create your own custom View from scratch. \r\n\r\n    public class StrokedTextView extends View {\r\n    private final Paint TEXT_PAINT;\r\n    private final Paint WHITE_BORDER_PAINT;\r\n    private final Paint BROWN_BORDER_PAINT;\r\n\r\n    private String text;\r\n\r\n    private int desiredWidth, desiredHeight;\r\n    private final int bigBorderSize, halfMargin;\r\n\r\n    // constructors\r\n    public StrokedTextView(Context context) {\r\n        this(context, null, 0);\r\n    }\r\n\r\n    public StrokedTextView(Context context, AttributeSet attrs) {\r\n        this(context, attrs, 0);\r\n    }\r\n\r\n    public StrokedTextView(Context context, AttributeSet attrs, int defStyle) {\r\n        super(context, attrs, defStyle);\r\n\r\n        float textSize = 0;\r\n        int textColor = context.getColor(R.color.main_color);\r\n        text = &quot;&quot;;\r\n        if(attrs != null) {\r\n            @SuppressLint(&quot;CustomViewStyleable&quot;) TypedArray a = context.obtainStyledAttributes(attrs,R.styleable.StrokedTextAttrs);\r\n            textSize = a.getDimensionPixelSize(R.styleable.StickerTextAttrs_textSize, 0);\r\n            textColor = a.getColor(R.styleable.StrokedTextAttrs_textColor, textColor);\r\n            text = a.getString(R.styleable.StrokedTextAttrs_text);\r\n            a.recycle();\r\n        }\r\n\r\n        TEXT_PAINT = new Paint();\r\n        TEXT_PAINT.setTextSize(textSize);\r\n        TEXT_PAINT.setStyle(Paint.Style.FILL);\r\n        TEXT_PAINT.setColor(textColor);\r\n\r\n        int smallBorderSize = dpToPx(context, 2);\r\n        bigBorderSize = smallBorderSize * 3;\r\n        halfMargin = bigBorderSize / 2;\r\n\r\n        WHITE_BORDER_PAINT = new Paint();\r\n        WHITE_BORDER_PAINT.setTextSize(textSize);\r\n        WHITE_BORDER_PAINT.setStyle(Paint.Style.STROKE);\r\n        WHITE_BORDER_PAINT.setStrokeWidth(bigBorderSize);\r\n        WHITE_BORDER_PAINT.setColor(context.getColor(R.color.white));\r\n\r\n        BROWN_BORDER_PAINT = new Paint();\r\n        BROWN_BORDER_PAINT.setTextSize(textSize);\r\n        BROWN_BORDER_PAINT.setStyle(Paint.Style.STROKE);\r\n        BROWN_BORDER_PAINT.setStrokeWidth(smallBorderSize);\r\n        BROWN_BORDER_PAINT.setColor(context.getColor(R.color.main_color_dark));\r\n        measure();\r\n    }\r\n\r\n    public void setText(String t){\r\n        text = t;\r\n        measure();\r\n        invalidate();\r\n        requestLayout();\r\n    }\r\n\r\n    private void measure(){\r\n        Rect bounds = new Rect();\r\n        TEXT_PAINT.getTextBounds(text, 0, text.length(), bounds);\r\n        desiredHeight = bounds.height() + bigBorderSize;\r\n        desiredWidth = bounds.width() + bigBorderSize;\r\n    }\r\n\r\n    @Override\r\n    protected void onDraw(Canvas canvas) {\r\n        super.onDraw(canvas);\r\n        int bottom = getHeight() - halfMargin;\r\n        canvas.drawText(text, halfMargin, bottom, WHITE_BORDER_PAINT);\r\n        canvas.drawText(text, halfMargin, bottom, BROWN_BORDER_PAINT);\r\n        canvas.drawText(text, halfMargin, bottom, TEXT_PAINT);\r\n    }\r\n\r\n    public static int dpToPx(Context context, float dp)\r\n    {\r\n        final float scale = context.getResources().getDisplayMetrics().density;\r\n        return (int) (dp * scale + 0.5f);\r\n    }\r\n\r\n    @Override\r\n    protected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) {\r\n        int widthMode = MeasureSpec.getMode(widthMeasureSpec);\r\n        int widthSize = MeasureSpec.getSize(widthMeasureSpec);\r\n        int heightMode = MeasureSpec.getMode(heightMeasureSpec);\r\n        int heightSize = MeasureSpec.getSize(heightMeasureSpec);\r\n\r\n        int width;\r\n        int height;\r\n\r\n        //Measure Width\r\n        if (widthMode == MeasureSpec.EXACTLY) {\r\n            //Must be this size\r\n            width = widthSize;\r\n        } else if (widthMode == MeasureSpec.AT_MOST) {\r\n            //Can&#39;t be bigger than...\r\n            width = Math.min(desiredWidth, widthSize);\r\n        } else {\r\n            //Be whatever you want\r\n            width = desiredWidth;\r\n        }\r\n\r\n        //Measure Height\r\n        if (heightMode == MeasureSpec.EXACTLY) {\r\n            //Must be this size\r\n            height = heightSize;\r\n        } else if (heightMode == MeasureSpec.AT_MOST) {\r\n            //Can&#39;t be bigger than...\r\n            height = Math.min(desiredHeight, heightSize);\r\n        } else {\r\n            //Be whatever you want\r\n            height = desiredHeight;\r\n        }\r\n\r\n        setMeasuredDimension(width, height);\r\n    }\r\n\r\n\r\nand in the `attr.xml`:\r\n\r\n    &lt;declare-styleable name=&quot;StickerTextAttrs&quot;&gt;\r\n        &lt;attr name=&quot;textColor&quot; format=&quot;color&quot;/&gt;\r\n        &lt;attr name=&quot;textSize&quot; format=&quot;dimension&quot;/&gt;\r\n        &lt;attr name=&quot;text&quot; format=&quot;string&quot;/&gt;\r\n    &lt;/declare-styleable&gt;\r\n\r\n","title":"TextView with outline in Android","body":"<p>The solution would be to create your own custom View from scratch.</p>\n<pre><code>public class StrokedTextView extends View {\nprivate final Paint TEXT_PAINT;\nprivate final Paint WHITE_BORDER_PAINT;\nprivate final Paint BROWN_BORDER_PAINT;\n\nprivate String text;\n\nprivate int desiredWidth, desiredHeight;\nprivate final int bigBorderSize, halfMargin;\n\n// constructors\npublic StrokedTextView(Context context) {\n    this(context, null, 0);\n}\n\npublic StrokedTextView(Context context, AttributeSet attrs) {\n    this(context, attrs, 0);\n}\n\npublic StrokedTextView(Context context, AttributeSet attrs, int defStyle) {\n    super(context, attrs, defStyle);\n\n    float textSize = 0;\n    int textColor = context.getColor(R.color.main_color);\n    text = &quot;&quot;;\n    if(attrs != null) {\n        @SuppressLint(&quot;CustomViewStyleable&quot;) TypedArray a = context.obtainStyledAttributes(attrs,R.styleable.StrokedTextAttrs);\n        textSize = a.getDimensionPixelSize(R.styleable.StickerTextAttrs_textSize, 0);\n        textColor = a.getColor(R.styleable.StrokedTextAttrs_textColor, textColor);\n        text = a.getString(R.styleable.StrokedTextAttrs_text);\n        a.recycle();\n    }\n\n    TEXT_PAINT = new Paint();\n    TEXT_PAINT.setTextSize(textSize);\n    TEXT_PAINT.setStyle(Paint.Style.FILL);\n    TEXT_PAINT.setColor(textColor);\n\n    int smallBorderSize = dpToPx(context, 2);\n    bigBorderSize = smallBorderSize * 3;\n    halfMargin = bigBorderSize / 2;\n\n    WHITE_BORDER_PAINT = new Paint();\n    WHITE_BORDER_PAINT.setTextSize(textSize);\n    WHITE_BORDER_PAINT.setStyle(Paint.Style.STROKE);\n    WHITE_BORDER_PAINT.setStrokeWidth(bigBorderSize);\n    WHITE_BORDER_PAINT.setColor(context.getColor(R.color.white));\n\n    BROWN_BORDER_PAINT = new Paint();\n    BROWN_BORDER_PAINT.setTextSize(textSize);\n    BROWN_BORDER_PAINT.setStyle(Paint.Style.STROKE);\n    BROWN_BORDER_PAINT.setStrokeWidth(smallBorderSize);\n    BROWN_BORDER_PAINT.setColor(context.getColor(R.color.main_color_dark));\n    measure();\n}\n\npublic void setText(String t){\n    text = t;\n    measure();\n    invalidate();\n    requestLayout();\n}\n\nprivate void measure(){\n    Rect bounds = new Rect();\n    TEXT_PAINT.getTextBounds(text, 0, text.length(), bounds);\n    desiredHeight = bounds.height() + bigBorderSize;\n    desiredWidth = bounds.width() + bigBorderSize;\n}\n\n@Override\nprotected void onDraw(Canvas canvas) {\n    super.onDraw(canvas);\n    int bottom = getHeight() - halfMargin;\n    canvas.drawText(text, halfMargin, bottom, WHITE_BORDER_PAINT);\n    canvas.drawText(text, halfMargin, bottom, BROWN_BORDER_PAINT);\n    canvas.drawText(text, halfMargin, bottom, TEXT_PAINT);\n}\n\npublic static int dpToPx(Context context, float dp)\n{\n    final float scale = context.getResources().getDisplayMetrics().density;\n    return (int) (dp * scale + 0.5f);\n}\n\n@Override\nprotected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) {\n    int widthMode = MeasureSpec.getMode(widthMeasureSpec);\n    int widthSize = MeasureSpec.getSize(widthMeasureSpec);\n    int heightMode = MeasureSpec.getMode(heightMeasureSpec);\n    int heightSize = MeasureSpec.getSize(heightMeasureSpec);\n\n    int width;\n    int height;\n\n    //Measure Width\n    if (widthMode == MeasureSpec.EXACTLY) {\n        //Must be this size\n        width = widthSize;\n    } else if (widthMode == MeasureSpec.AT_MOST) {\n        //Can't be bigger than...\n        width = Math.min(desiredWidth, widthSize);\n    } else {\n        //Be whatever you want\n        width = desiredWidth;\n    }\n\n    //Measure Height\n    if (heightMode == MeasureSpec.EXACTLY) {\n        //Must be this size\n        height = heightSize;\n    } else if (heightMode == MeasureSpec.AT_MOST) {\n        //Can't be bigger than...\n        height = Math.min(desiredHeight, heightSize);\n    } else {\n        //Be whatever you want\n        height = desiredHeight;\n    }\n\n    setMeasuredDimension(width, height);\n}\n</code></pre>\n<p>and in the <code>attr.xml</code>:</p>\n<pre><code>&lt;declare-styleable name=&quot;StickerTextAttrs&quot;&gt;\n    &lt;attr name=&quot;textColor&quot; format=&quot;color&quot;/&gt;\n    &lt;attr name=&quot;textSize&quot; format=&quot;dimension&quot;/&gt;\n    &lt;attr name=&quot;text&quot; format=&quot;string&quot;/&gt;\n&lt;/declare-styleable&gt;\n</code></pre>\n"}],"owner":{"account_id":6140624,"reputation":592,"user_id":4788165,"accept_rate":47,"display_name":"Josemafuen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76316777,"answer_count":1,"score":0,"last_activity_date":1684880146,"creation_date":1684847669,"question_id":76315207,"body_markdown":"I want to have a textview with a double stroke in Android, which is not natively supported (not even a single stroke). Following https://stackoverflow.com/questions/3182393/android-textview-outline-text/31945164?r=Saves_UserSavesList#31945164 it can be easily achieved.\r\n\r\n    public class StrokedTextView extends androidx.appcompat.widget.AppCompatTextView {\r\n\r\n    // fields\r\n    private int strokeColorW, strokeColorB;\r\n    private float strokeWidthW, strokeWidthB;\r\n\r\n    // constructors\r\n    public StrokedTextView(Context context) {\r\n        this(context, null, 0);\r\n    }\r\n\r\n    public StrokedTextView(Context context, AttributeSet attrs) {\r\n        this(context, attrs, 0);\r\n    }\r\n\r\n    public StrokedTextView(Context context, AttributeSet attrs, int defStyle) {\r\n        super(context, attrs, defStyle);\r\n\r\n        strokeColorW = context.getColor(R.color.white);\r\n        strokeWidthW = dpToPx(context, 2);\r\n        strokeColorB = context.getColor(R.color.main_color_dark);\r\n        strokeWidthB = dpToPx(context, 3);\r\n    }\r\n\r\n    // overridden methods\r\n    @Override\r\n    protected void onDraw(Canvas canvas) {\r\n        //set paint to fill mode\r\n        Paint p = getPaint();\r\n        p.setStyle(Paint.Style.FILL);\r\n        //draw the fill part of text\r\n        super.onDraw(canvas);\r\n        //save the text color\r\n        int currentTextColor = getCurrentTextColor();\r\n        //set paint to stroke mode and specify\r\n        //stroke 1 color and width\r\n        p.setStyle(Paint.Style.STROKE);\r\n        p.setStrokeWidth(strokeWidthB);\r\n        setTextColor(strokeColorB);\r\n        //draw text stroke\r\n        super.onDraw(canvas);\r\n        //set paint to stroke mode and specify\r\n        //stroke 2 color and width\r\n        p.setStyle(Paint.Style.STROKE);\r\n        p.setStrokeWidth(strokeWidthW);\r\n        setTextColor(strokeColorW);\r\n        //draw text stroke\r\n        super.onDraw(canvas);\r\n        //revert the color back to the one\r\n        //initially specified\r\n        setTextColor(currentTextColor);\r\n    }\r\n\r\n    public static int dpToPx(Context context, float dp)\r\n    {\r\n        final float scale= context.getResources().getDisplayMetrics().density;\r\n        return (int) (dp * scale + 0.5f);\r\n    }\r\n}\r\n\r\nThe problem is that `setTextColor` calls invalidate, so this falls into infinite calls of onDraw. As some suggest, I&#39;ve tried to control it with a flag, that indicates whether the invalidate is caused by the setTextColor or not. But it still calls onDraw infinitely\r\n\r\n    private boolean isDrawing = false;\r\n    \r\n    @Override\r\n    public void invalidate() {\r\n        if(isDrawing) return;\r\n        super.invalidate();\r\n    }\r\n    \r\n    @Override\r\n    protected void onDraw(Canvas canvas) {\r\n        isDrawing = true;\r\n\r\n        Paint p = getPaint();\r\n        p.setStyle(Paint.Style.FILL);\r\n        super.onDraw(canvas);\r\n        int currentTextColor = getCurrentTextColor();\r\n\r\n        p.setStyle(Paint.Style.STROKE);\r\n        p.setStrokeWidth(strokeWidthB);\r\n        setTextColor(strokeColorB);\r\n        super.onDraw(canvas);\r\n\r\n        p.setStyle(Paint.Style.STROKE);\r\n        p.setStrokeWidth(strokeWidthW);\r\n        setTextColor(strokeColorW);\r\n        super.onDraw(canvas);\r\n\r\n        setTextColor(currentTextColor);\r\n\r\n        isDrawing = false;\r\n    }\r\n\r\nAs other user states in that question, I&#39;ve also tried using Reflection to access the private field of the TextView and brute-forcely set it:\r\n\r\n    private void setColor(int color){\r\n        Field field = TextView.class.getDeclaredField(&quot;mCurTextColor&quot;);\r\n        field.setAccessible(true);\r\n        field.set(this, color);\r\n    }\r\n\r\nHowever, it states `Reflective access to mCurTextColor will throw an Exception when targeting API 33 and above`\r\n\r\nSo I&#39;m asking if someone sees a way to overcome this issue different from the ones I&#39;ve already tried and failed at.","title":"TextView with outline in Android","body":"<p>I want to have a textview with a double stroke in Android, which is not natively supported (not even a single stroke). Following <a href=\"https://stackoverflow.com/questions/3182393/android-textview-outline-text/31945164?r=Saves_UserSavesList#31945164\">Android textview outline text</a> it can be easily achieved.</p>\n<pre><code>public class StrokedTextView extends androidx.appcompat.widget.AppCompatTextView {\n\n// fields\nprivate int strokeColorW, strokeColorB;\nprivate float strokeWidthW, strokeWidthB;\n\n// constructors\npublic StrokedTextView(Context context) {\n    this(context, null, 0);\n}\n\npublic StrokedTextView(Context context, AttributeSet attrs) {\n    this(context, attrs, 0);\n}\n\npublic StrokedTextView(Context context, AttributeSet attrs, int defStyle) {\n    super(context, attrs, defStyle);\n\n    strokeColorW = context.getColor(R.color.white);\n    strokeWidthW = dpToPx(context, 2);\n    strokeColorB = context.getColor(R.color.main_color_dark);\n    strokeWidthB = dpToPx(context, 3);\n}\n\n// overridden methods\n@Override\nprotected void onDraw(Canvas canvas) {\n    //set paint to fill mode\n    Paint p = getPaint();\n    p.setStyle(Paint.Style.FILL);\n    //draw the fill part of text\n    super.onDraw(canvas);\n    //save the text color\n    int currentTextColor = getCurrentTextColor();\n    //set paint to stroke mode and specify\n    //stroke 1 color and width\n    p.setStyle(Paint.Style.STROKE);\n    p.setStrokeWidth(strokeWidthB);\n    setTextColor(strokeColorB);\n    //draw text stroke\n    super.onDraw(canvas);\n    //set paint to stroke mode and specify\n    //stroke 2 color and width\n    p.setStyle(Paint.Style.STROKE);\n    p.setStrokeWidth(strokeWidthW);\n    setTextColor(strokeColorW);\n    //draw text stroke\n    super.onDraw(canvas);\n    //revert the color back to the one\n    //initially specified\n    setTextColor(currentTextColor);\n}\n\npublic static int dpToPx(Context context, float dp)\n{\n    final float scale= context.getResources().getDisplayMetrics().density;\n    return (int) (dp * scale + 0.5f);\n}\n</code></pre>\n<p>}</p>\n<p>The problem is that <code>setTextColor</code> calls invalidate, so this falls into infinite calls of onDraw. As some suggest, I've tried to control it with a flag, that indicates whether the invalidate is caused by the setTextColor or not. But it still calls onDraw infinitely</p>\n<pre><code>private boolean isDrawing = false;\n\n@Override\npublic void invalidate() {\n    if(isDrawing) return;\n    super.invalidate();\n}\n\n@Override\nprotected void onDraw(Canvas canvas) {\n    isDrawing = true;\n\n    Paint p = getPaint();\n    p.setStyle(Paint.Style.FILL);\n    super.onDraw(canvas);\n    int currentTextColor = getCurrentTextColor();\n\n    p.setStyle(Paint.Style.STROKE);\n    p.setStrokeWidth(strokeWidthB);\n    setTextColor(strokeColorB);\n    super.onDraw(canvas);\n\n    p.setStyle(Paint.Style.STROKE);\n    p.setStrokeWidth(strokeWidthW);\n    setTextColor(strokeColorW);\n    super.onDraw(canvas);\n\n    setTextColor(currentTextColor);\n\n    isDrawing = false;\n}\n</code></pre>\n<p>As other user states in that question, I've also tried using Reflection to access the private field of the TextView and brute-forcely set it:</p>\n<pre><code>private void setColor(int color){\n    Field field = TextView.class.getDeclaredField(&quot;mCurTextColor&quot;);\n    field.setAccessible(true);\n    field.set(this, color);\n}\n</code></pre>\n<p>However, it states <code>Reflective access to mCurTextColor will throw an Exception when targeting API 33 and above</code></p>\n<p>So I'm asking if someone sees a way to overcome this issue different from the ones I've already tried and failed at.</p>\n"},{"tags":["java","pdf","pdfbox","electronic-signature"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":1,"creation_date":1684855864,"post_id":76315490,"comment_id":134576896,"body_markdown":"Please share the file. Did you change the `setMDPPermission` line in the sample code?","body":"Please share the file. Did you change the <code>setMDPPermission</code> line in the sample code?"},{"owner":{"account_id":5704563,"reputation":1278,"user_id":4508555,"accept_rate":80,"display_name":"Joniras"},"score":0,"creation_date":1684864647,"post_id":76315490,"comment_id":134578766,"body_markdown":"Which file? The whole CreateSignature.java or my resulting PDF? Yes i deleted the line because of another answer is saw on SO which suggested that.","body":"Which file? The whole CreateSignature.java or my resulting PDF? Yes i deleted the line because of another answer is saw on SO which suggested that."}],"answers":[{"tags":[],"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684879526,"creation_date":1684879526,"answer_id":76318940,"question_id":76315490,"body_markdown":"&gt; This code adds a digital signature dictionary to the PDF, but it doesn&#39;t seem to create an approval signature that allows for further modifications to the document.\r\n\r\nHere is your fundamental misconception, *an approval signature does **not** allow for further modifications*.\r\n\r\nAdmittedly, the PDF spec does not mention a restriction of allowed changes if there only are approval signatures. Adobe Acrobat, on the other hand, for many years has been imposing restrictions on such documents that are nearly identical to those of documents with a certification signature with a MDP **P** value of 3, cf. [this answer][1]. Furthermore, Adobe Acrobat does enforce this, it does not allow its users to apply changes to a PDF that it would consider disallowed.\r\n\r\nThus,\r\n\r\n&gt; I know that any modification to the pdf breaks the signature but i still want to allow modifications so the client can do modifications and edit text.\r\n\r\nthis is not supported by Adobe Acrobat. Other PDF editors may or may not support disallowed manipulations of signed PDFs.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/16711745/1729265","title":"PDFBox signed Document prevents modification","body":"<blockquote>\n<p>This code adds a digital signature dictionary to the PDF, but it doesn't seem to create an approval signature that allows for further modifications to the document.</p>\n</blockquote>\n<p>Here is your fundamental misconception, <em>an approval signature does <strong>not</strong> allow for further modifications</em>.</p>\n<p>Admittedly, the PDF spec does not mention a restriction of allowed changes if there only are approval signatures. Adobe Acrobat, on the other hand, for many years has been imposing restrictions on such documents that are nearly identical to those of documents with a certification signature with a MDP <strong>P</strong> value of 3, cf. <a href=\"https://stackoverflow.com/a/16711745/1729265\">this answer</a>. Furthermore, Adobe Acrobat does enforce this, it does not allow its users to apply changes to a PDF that it would consider disallowed.</p>\n<p>Thus,</p>\n<blockquote>\n<p>I know that any modification to the pdf breaks the signature but i still want to allow modifications so the client can do modifications and edit text.</p>\n</blockquote>\n<p>this is not supported by Adobe Acrobat. Other PDF editors may or may not support disallowed manipulations of signed PDFs.</p>\n"}],"owner":{"account_id":5704563,"reputation":1278,"user_id":4508555,"accept_rate":80,"display_name":"Joniras"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684879526,"creation_date":1684849465,"question_id":76315490,"body_markdown":"I am (successfully) signing a PDF with a .p12 certificate. \r\n\r\nThe problem is, that **after signing the pdf, the file cannot be modified anymore**. \r\n\r\nI know that any modification to the pdf breaks the signature but i still want to allow modifications so the client can do modifications and edit text.\r\n\r\nHeres my minimal reproduction of my valid signature ( I started with the CreateSignature Example of Apache PDfBox): \r\n```lang-java\r\n\r\n    public void signDetached(PDDocument document, OutputStream output)\r\n            throws IOException {\r\n        PDSignature signature = new PDSignature();\r\n        signature.setFilter(PDSignature.FILTER_ADOBE_PPKLITE);\r\n        signature.setSubFilter(PDSignature.SUBFILTER_ADBE_PKCS7_DETACHED);\r\n        signature.setName(&quot;Testing User&quot;);\r\n        signature.setLocation(&quot;Los Angeles, CA&quot;);\r\n        signature.setReason(&quot;Testing&quot;);\r\n        signature.setSignDate(Calendar.getInstance());\r\n        document.addSignature(signature, this);\r\n        document.saveIncremental(output);\r\n    }\r\n```\r\n\r\nThis code adds a digital signature dictionary to the PDF, but it doesn&#39;t seem to create an approval signature that allows for further modifications to the document.\r\n\r\nWhat am I doing wrong here? Is it possible to create a non-visible approval signature with Apache PDFBox that allows for modifications and becomes invalidated when those modifications occur?\r\n\r\nThank you in advance for any help or insights you can provide!","title":"PDFBox signed Document prevents modification","body":"<p>I am (successfully) signing a PDF with a .p12 certificate.</p>\n<p>The problem is, that <strong>after signing the pdf, the file cannot be modified anymore</strong>.</p>\n<p>I know that any modification to the pdf breaks the signature but i still want to allow modifications so the client can do modifications and edit text.</p>\n<p>Heres my minimal reproduction of my valid signature ( I started with the CreateSignature Example of Apache PDfBox):</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n    public void signDetached(PDDocument document, OutputStream output)\n            throws IOException {\n        PDSignature signature = new PDSignature();\n        signature.setFilter(PDSignature.FILTER_ADOBE_PPKLITE);\n        signature.setSubFilter(PDSignature.SUBFILTER_ADBE_PKCS7_DETACHED);\n        signature.setName(&quot;Testing User&quot;);\n        signature.setLocation(&quot;Los Angeles, CA&quot;);\n        signature.setReason(&quot;Testing&quot;);\n        signature.setSignDate(Calendar.getInstance());\n        document.addSignature(signature, this);\n        document.saveIncremental(output);\n    }\n</code></pre>\n<p>This code adds a digital signature dictionary to the PDF, but it doesn't seem to create an approval signature that allows for further modifications to the document.</p>\n<p>What am I doing wrong here? Is it possible to create a non-visible approval signature with Apache PDFBox that allows for modifications and becomes invalidated when those modifications occur?</p>\n<p>Thank you in advance for any help or insights you can provide!</p>\n"},{"tags":["java","log4j2","slf4j"],"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1684727949,"post_id":76302494,"comment_id":134553726,"body_markdown":"Your code uses Log4j 2.x, while your configuration uses the Log4j 1.x format. Are you sure you are not using (the unsupported) Log4j 1.x as logging backend?","body":"Your code uses Log4j 2.x, while your configuration uses the Log4j 1.x format. Are you sure you are not using (the unsupported) Log4j 1.x as logging backend?"},{"owner":{"account_id":4196227,"reputation":781,"user_id":3437575,"accept_rate":72,"display_name":"asb"},"score":0,"creation_date":1684757649,"post_id":76302494,"comment_id":134558839,"body_markdown":"I tried using &quot;mvn dependency:tree | grep log4j&quot; and i can confirm i am using log4j 2.x. So my problem might be i am using  1.x config as you mentioned. Will try 2.x config.","body":"I tried using &quot;mvn dependency:tree | grep log4j&quot; and i can confirm i am using log4j 2.x. So my problem might be i am using  1.x config as you mentioned. Will try 2.x config."},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1684760950,"post_id":76302494,"comment_id":134559537,"body_markdown":"A Log4j 1.x configuration also works with [`ch.qos.reload4j:reload4j`](https://mvnrepository.com/artifact/ch.qos.reload4j/reload4j) (in which case you are not using Log4j 2.x) and [`org.apache.logging.log4j:log4j-1.2-api`](https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-1.2-api) with `log4j1.compatibility = &quot;true&quot;`.","body":"A Log4j 1.x configuration also works with <a href=\"https://mvnrepository.com/artifact/ch.qos.reload4j/reload4j\" rel=\"nofollow noreferrer\"><code>ch.qos.reload4j:reload4j</code></a> (in which case you are not using Log4j 2.x) and <a href=\"https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-1.2-api\" rel=\"nofollow noreferrer\"><code>org.apache.logging.log4j:log4j-1.2-api</code></a> with <code>log4j1.compatibility = &quot;true&quot;</code>."},{"owner":{"account_id":4196227,"reputation":781,"user_id":3437575,"accept_rate":72,"display_name":"asb"},"score":0,"creation_date":1684794650,"post_id":76302494,"comment_id":134566216,"body_markdown":"I edited the post to update with dependency tree. May be a problem with sl4j? but not sure how to work around it","body":"I edited the post to update with dependency tree. May be a problem with sl4j? but not sure how to work around it"},{"owner":{"account_id":3660498,"reputation":740,"user_id":6291061,"display_name":"william xyz"},"score":0,"creation_date":1684798459,"post_id":76302494,"comment_id":134566543,"body_markdown":"It seems you could trying to convert a string to an hex number with `%X`. Try getting process id this way:\n\n\n`long pid = Long.parseLong(processName.split(&quot;@&quot;)[0]);`","body":"It seems you could trying to convert a string to an hex number with <code>%X</code>. Try getting process id this way:   <code>long pid = Long.parseLong(processName.split(&quot;@&quot;)[0]);</code>"},{"owner":{"account_id":4196227,"reputation":781,"user_id":3437575,"accept_rate":72,"display_name":"asb"},"score":0,"creation_date":1684808927,"post_id":76302494,"comment_id":134567480,"body_markdown":"I tried something like this -&gt; ThreadContext.put(&quot;PID&quot;, rt.getName().split(&quot;@&quot;)[0]); as put expects 2 strings. I checked in the debugger and see that processName.split(&quot;@&quot;)[0] evaluates to 12276 which is the process id. But still doesnt work.","body":"I tried something like this -&gt; ThreadContext.put(&quot;PID&quot;, rt.getName().split(&quot;@&quot;)[0]); as put expects 2 strings. I checked in the debugger and see that processName.split(&quot;@&quot;)[0] evaluates to 12276 which is the process id. But still doesnt work."},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1684812514,"post_id":76302494,"comment_id":134567745,"body_markdown":"The `log4j-1.2-api` module does **not** issue warnings prefixed by `log4j:WARN`. This message comes from `reload4j` or a shaded `log4j` (version 1.2). Remark that `log4j-1.2-api` and `log4j-slf4j-impl` have a &quot;provided&quot; scope in your project and are not deployed with the app.","body":"The <code>log4j-1.2-api</code> module does <b>not</b> issue warnings prefixed by <code>log4j:WARN</code>. This message comes from <code>reload4j</code> or a shaded <code>log4j</code> (version 1.2). Remark that <code>log4j-1.2-api</code> and <code>log4j-slf4j-impl</code> have a &quot;provided&quot; scope in your project and are not deployed with the app."},{"owner":{"account_id":4196227,"reputation":781,"user_id":3437575,"accept_rate":72,"display_name":"asb"},"score":0,"creation_date":1684815905,"post_id":76302494,"comment_id":134568049,"body_markdown":"Sorry, what can i try next? I did try the log4j1.compatibility=true, with 2.x config which didnt work. With the existing 1.x config everything else seems to be in place except it being not able to extract back the PID that i added from code","body":"Sorry, what can i try next? I did try the log4j1.compatibility=true, with 2.x config which didnt work. With the existing 1.x config everything else seems to be in place except it being not able to extract back the PID that i added from code"},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1684907847,"post_id":76302494,"comment_id":134584109,"body_markdown":"First ensure that the Log4j 2 libraries are in the `runtime` or `compile` Maven scope. You can then run your application with both `-Dlog4j.debug=true` and `-Dlog4j2.debug=true` and add the output to your question.","body":"First ensure that the Log4j 2 libraries are in the <code>runtime</code> or <code>compile</code> Maven scope. You can then run your application with both <code>-Dlog4j.debug=true</code> and <code>-Dlog4j2.debug=true</code> and add the output to your question."}],"owner":{"account_id":4196227,"reputation":781,"user_id":3437575,"accept_rate":72,"display_name":"asb"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1684878699,"creation_date":1684716729,"question_id":76302494,"body_markdown":"I am trying to use [this][1] solution to fetch the process id and print it out in the log\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/4622252/how-to-add-the-process-id-to-a-log4j-log-file\r\n\r\n    RuntimeMXBean rt = ManagementFactory.getRuntimeMXBean();\r\n    String pid = rt.getName();\r\n    ThreadContext.put(&quot;PID&quot;, pid);\r\n\r\nEdit : In my logger class I can see we are importing. so I can infer that we are definitely using SL4J facade with most likely log4j2.x  as per dependency tree.\r\n\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n\r\nI could see form the dubugger that the code is correctly fetching the process ID, but the log simple isnt showing it and there is no other errors. My log currently looks like this \r\n\r\n    2023-05-22 10:36:54,487 [] DEBUG beanutils.converters.ArrayConverter  - Setting default value: [Ljava.lang.Short;@7a3a49e5\r\n\r\nIt is not able to fetch the PID still.This is what I have in my log4j config. \r\n\r\n    log4j.appender.consoleAppender.layout.ConversionPattern=%d [%X{PID}] %-5p %c{3} %x - %m%n\r\n\r\nMy dependency tree looks like this. May be Sl4J is interfering?\r\n\r\n    λ mvn dependency:tree |grep log4\r\n    [INFO] +- org.apache.logging.log4j:log4j-api:jar:2.17.2:compile\r\n    [INFO] +- org.apache.logging.log4j:log4j-core:jar:2.17.2:compile\r\n    [INFO] +- org.apache.logging.log4j:log4j-api:jar:2.17.2:compile\r\n    [INFO] +- org.apache.logging.log4j:log4j-core:jar:2.17.2:compile\r\n    [INFO] +- org.apache.logging.log4j:log4j-api:jar:2.17.2:compile\r\n    [INFO] +- org.apache.logging.log4j:log4j-core:jar:2.17.2:compile\r\n    [INFO] |  +- org.apache.logging.log4j:log4j-slf4j-impl:jar:2.17.2:provided\r\n    [INFO] |  +- org.apache.logging.log4j:log4j-1.2-api:jar:2.17.2:provided\r\n    [INFO] +- org.apache.logging.log4j:log4j-api:jar:2.17.2:compile\r\n    [INFO] +- org.apache.logging.log4j:log4j-core:jar:2.17.2:compile\r\n\r\nAny ideas as to what i might be doing wrong or what can i do to debug this further? I tried using log4j2.x config. But it completely stopped logging and gave this warning\r\n\r\n    log4j:WARN Please initialize the log4j system properly.","title":"SL4J with MDC/Thread context unable to read PID","body":"<p>I am trying to use <a href=\"https://stackoverflow.com/questions/4622252/how-to-add-the-process-id-to-a-log4j-log-file\">this</a> solution to fetch the process id and print it out in the log</p>\n<pre><code>RuntimeMXBean rt = ManagementFactory.getRuntimeMXBean();\nString pid = rt.getName();\nThreadContext.put(&quot;PID&quot;, pid);\n</code></pre>\n<p>Edit : In my logger class I can see we are importing. so I can infer that we are definitely using SL4J facade with most likely log4j2.x  as per dependency tree.</p>\n<pre><code>import org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n</code></pre>\n<p>I could see form the dubugger that the code is correctly fetching the process ID, but the log simple isnt showing it and there is no other errors. My log currently looks like this</p>\n<pre><code>2023-05-22 10:36:54,487 [] DEBUG beanutils.converters.ArrayConverter  - Setting default value: [Ljava.lang.Short;@7a3a49e5\n</code></pre>\n<p>It is not able to fetch the PID still.This is what I have in my log4j config.</p>\n<pre><code>log4j.appender.consoleAppender.layout.ConversionPattern=%d [%X{PID}] %-5p %c{3} %x - %m%n\n</code></pre>\n<p>My dependency tree looks like this. May be Sl4J is interfering?</p>\n<pre><code>λ mvn dependency:tree |grep log4\n[INFO] +- org.apache.logging.log4j:log4j-api:jar:2.17.2:compile\n[INFO] +- org.apache.logging.log4j:log4j-core:jar:2.17.2:compile\n[INFO] +- org.apache.logging.log4j:log4j-api:jar:2.17.2:compile\n[INFO] +- org.apache.logging.log4j:log4j-core:jar:2.17.2:compile\n[INFO] +- org.apache.logging.log4j:log4j-api:jar:2.17.2:compile\n[INFO] +- org.apache.logging.log4j:log4j-core:jar:2.17.2:compile\n[INFO] |  +- org.apache.logging.log4j:log4j-slf4j-impl:jar:2.17.2:provided\n[INFO] |  +- org.apache.logging.log4j:log4j-1.2-api:jar:2.17.2:provided\n[INFO] +- org.apache.logging.log4j:log4j-api:jar:2.17.2:compile\n[INFO] +- org.apache.logging.log4j:log4j-core:jar:2.17.2:compile\n</code></pre>\n<p>Any ideas as to what i might be doing wrong or what can i do to debug this further? I tried using log4j2.x config. But it completely stopped logging and gave this warning</p>\n<pre><code>log4j:WARN Please initialize the log4j system properly.\n</code></pre>\n"},{"tags":["java","spring-boot","apache","reverse-proxy","http-status-code-503"],"comments":[{"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"score":1,"creation_date":1684912835,"post_id":76318850,"comment_id":134584992,"body_markdown":"The apache error says it cannot connect to port 8080. Is the Spring Boot App running?","body":"The apache error says it cannot connect to port 8080. Is the Spring Boot App running?"},{"owner":{"account_id":25226706,"reputation":33,"user_id":19062456,"display_name":"Andy Salim Rojas Hinojosa"},"score":0,"creation_date":1684917942,"post_id":76318850,"comment_id":134586148,"body_markdown":"do i need to run springboot app? i thought that already was made by the dominio, in this case how can i run the springboot app of a proyect, is it possible that instead of my springboot project called &quot;repo333&quot;, i can use a jar executable springboot app?","body":"do i need to run springboot app? i thought that already was made by the dominio, in this case how can i run the springboot app of a proyect, is it possible that instead of my springboot project called &quot;repo333&quot;, i can use a jar executable springboot app?"},{"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"score":0,"creation_date":1684918636,"post_id":76318850,"comment_id":134586300,"body_markdown":"Yes. You need to run the app. How would you expect it to work without it running? Source code in an apache folder makes no sense except if you want to show your code on the web. There are multiple way to run the app but easiest is probably to package as jar and run `java -jar &lt;your app&gt;.jar` (that should not be in the apache folder if you do not wish to share the code). The command assume that you have the correct java version installed on the server obviously.","body":"Yes. You need to run the app. How would you expect it to work without it running? Source code in an apache folder makes no sense except if you want to show your code on the web. There are multiple way to run the app but easiest is probably to package as jar and run <code>java -jar &lt;your app&gt;.jar</code> (that should not be in the apache folder if you do not wish to share the code). The command assume that you have the correct java version installed on the server obviously."}],"owner":{"account_id":25226706,"reputation":33,"user_id":19062456,"display_name":"Andy Salim Rojas Hinojosa"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":250,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1684878473,"creation_date":1684878473,"question_id":76318850,"body_markdown":"**Apache conf:**\r\n\r\n**/etc/apache2/sites-available/andyrojaslab08.tk.conf**\r\n\r\n    &lt;VirtualHost *:80&gt;\r\n           ServerName andyrojaslab08.tk\r\n           DocumentRoot /var/www/andyrojaslab08.tk/repo333\r\n\r\n           ProxyPreserveHost on\r\n           ProxyPass  /  http://127.0.0.1:8080/\r\n           ProxyPassReverse  /   http://127.0.0.1:8080/\r\n\r\n           ErrorLog ${APACHE_LOG_DIR}/error.log\r\n           CustomLog ${APACHE_LOG_DIR}/access.log combined\r\n\r\n    &lt;/VirtualHost&gt;\r\n\r\n\r\n\r\n**Error Logs from Apache:**\r\n\r\n     [proxy_http:error] [pid 7970:tid 140567970084416] [client 127.0.0.1:33122] AH01114: HTTP: failed to make connection to backend: 127.0.0.1\r\n\r\n     Connection refused AH00957: http: attempt to connect to 127.0.0.1:8080 (127.0.0.1) failed\r\n\r\n\r\n**etc/hosts:**\r\n\r\n     127.0.0.1       andyrojaslab08.tk\r\n     127.0.1.1       andyrojaslab08.tk\r\n     192.168.139.128    andyrojaslab08.tk\r\n\r\n     ::1     ip6-localhost ip6-loopback\r\n     fe00::0 ip6-localnet\r\n     ff00::0 ip6-mcastprefix\r\n     ff02::1 ip6-allnodes\r\n     ff02::2 ip6-allrouters\r\n\r\n\r\n\r\n**proyect structure:**\r\n\r\n        andy@andy-virtual-machine:/var/www/andyrojaslab08.tk/repo333$ ls\r\n        app.yaml  HELP.md  mvnw  mvnw.cmd  pom.xml  src  target\r\n\r\n\r\n\r\n**proyect path:**\r\n\r\n        andy@andy-virtual-machine:/var/www/andyrojaslab08.tk$ ls\r\n        goodbst.jar  Lab02-Rojas-0.0.1-SNAPSHOT.jar lab08xy.jar  repo333\r\n\r\n\r\n\r\n**app.yaml from proyect:**\r\n\r\n        runtime: java17\r\n        server.port=8080\r\n\r\n**resources from my proyect:**\r\n\r\n        andy@andy-virtual-machine:/var/www/andyrojaslab08.tk/repo333/src/main/resources$ ls\r\n        application.properties  static  templates\r\n\r\n\r\n\r\n**application.properties:**\r\n                                   \r\n        spring.jpa.show-sql = true\r\n        spring.jpa.hibernate.ddl-auto = update\r\n        spring.datasource.url =jdbc:mysql://xxxxxx:3306/xxxxxx\r\n        spring.datasource.username =xxxxx\r\n        spring.datasource.password =xxxxx\r\n        spring.thymeleaf.prefix=classpath:/templates/\r\n        spring.thymeleaf.suffix=.html\r\n        server.port=8080\r\n\r\n\r\n\r\n***Error:***\r\n\r\n        andy@andy-virtual-machine:/$ curl andyrojaslab08.tk\r\n\r\n        &lt;!DOCTYPE HTML PUBLIC &quot;-//IETF//DTD HTML 2.0//EN&quot;&gt;\r\n        &lt;html&gt;&lt;head&gt;\r\n        &lt;title&gt;503 Service Unavailable&lt;/title&gt;\r\n        &lt;/head&gt;&lt;body&gt;\r\n        &lt;h1&gt;Service Unavailable&lt;/h1&gt;\r\n        &lt;p&gt;The server is temporarily unable to service your\r\n        request due to maintenance downtime or capacity problems. Please try again later.&lt;/p&gt;\r\n        &lt;hr&gt;\r\n        &lt;address&gt;Apache/2.4.52 (Ubuntu) Server at andyrojaslab08.tk Port 80&lt;/address&gt;\r\n        &lt;/body&gt;&lt;/html&gt;\r\n\r\n\r\n\r\n***Error on web:***\r\n\r\n[![enter image description here][13]][13]\r\n\r\n\r\n  [13]: https://i.stack.imgur.com/r33F7.png\r\n\r\n\r\n(I am using thymeleaf in html, and my html files are in src/main/resources/templates)\r\n\r\n(I am using mysql database from the cloud, i already verified that the problem does not come from there)\r\n\r\n(My css files are in src/main/resources/static)\r\n\r\n(I am using apache2)\r\n\r\n(i installed maven)\r\n","title":"I want to deploy locally a SpringBoot app on Ubuntu Terminal with Apache Server 2, but it encounters an error","body":"<p><strong>Apache conf:</strong></p>\n<p><strong>/etc/apache2/sites-available/andyrojaslab08.tk.conf</strong></p>\n<pre><code>&lt;VirtualHost *:80&gt;\n       ServerName andyrojaslab08.tk\n       DocumentRoot /var/www/andyrojaslab08.tk/repo333\n\n       ProxyPreserveHost on\n       ProxyPass  /  http://127.0.0.1:8080/\n       ProxyPassReverse  /   http://127.0.0.1:8080/\n\n       ErrorLog ${APACHE_LOG_DIR}/error.log\n       CustomLog ${APACHE_LOG_DIR}/access.log combined\n\n&lt;/VirtualHost&gt;\n</code></pre>\n<p><strong>Error Logs from Apache:</strong></p>\n<pre><code> [proxy_http:error] [pid 7970:tid 140567970084416] [client 127.0.0.1:33122] AH01114: HTTP: failed to make connection to backend: 127.0.0.1\n\n Connection refused AH00957: http: attempt to connect to 127.0.0.1:8080 (127.0.0.1) failed\n</code></pre>\n<p><strong>etc/hosts:</strong></p>\n<pre><code> 127.0.0.1       andyrojaslab08.tk\n 127.0.1.1       andyrojaslab08.tk\n 192.168.139.128    andyrojaslab08.tk\n\n ::1     ip6-localhost ip6-loopback\n fe00::0 ip6-localnet\n ff00::0 ip6-mcastprefix\n ff02::1 ip6-allnodes\n ff02::2 ip6-allrouters\n</code></pre>\n<p><strong>proyect structure:</strong></p>\n<pre><code>    andy@andy-virtual-machine:/var/www/andyrojaslab08.tk/repo333$ ls\n    app.yaml  HELP.md  mvnw  mvnw.cmd  pom.xml  src  target\n</code></pre>\n<p><strong>proyect path:</strong></p>\n<pre><code>    andy@andy-virtual-machine:/var/www/andyrojaslab08.tk$ ls\n    goodbst.jar  Lab02-Rojas-0.0.1-SNAPSHOT.jar lab08xy.jar  repo333\n</code></pre>\n<p><strong>app.yaml from proyect:</strong></p>\n<pre><code>    runtime: java17\n    server.port=8080\n</code></pre>\n<p><strong>resources from my proyect:</strong></p>\n<pre><code>    andy@andy-virtual-machine:/var/www/andyrojaslab08.tk/repo333/src/main/resources$ ls\n    application.properties  static  templates\n</code></pre>\n<p><strong>application.properties:</strong></p>\n<pre><code>    spring.jpa.show-sql = true\n    spring.jpa.hibernate.ddl-auto = update\n    spring.datasource.url =jdbc:mysql://xxxxxx:3306/xxxxxx\n    spring.datasource.username =xxxxx\n    spring.datasource.password =xxxxx\n    spring.thymeleaf.prefix=classpath:/templates/\n    spring.thymeleaf.suffix=.html\n    server.port=8080\n</code></pre>\n<p><em><strong>Error:</strong></em></p>\n<pre><code>    andy@andy-virtual-machine:/$ curl andyrojaslab08.tk\n\n    &lt;!DOCTYPE HTML PUBLIC &quot;-//IETF//DTD HTML 2.0//EN&quot;&gt;\n    &lt;html&gt;&lt;head&gt;\n    &lt;title&gt;503 Service Unavailable&lt;/title&gt;\n    &lt;/head&gt;&lt;body&gt;\n    &lt;h1&gt;Service Unavailable&lt;/h1&gt;\n    &lt;p&gt;The server is temporarily unable to service your\n    request due to maintenance downtime or capacity problems. Please try again later.&lt;/p&gt;\n    &lt;hr&gt;\n    &lt;address&gt;Apache/2.4.52 (Ubuntu) Server at andyrojaslab08.tk Port 80&lt;/address&gt;\n    &lt;/body&gt;&lt;/html&gt;\n</code></pre>\n<p><em><strong>Error on web:</strong></em></p>\n<p><a href=\"https://i.stack.imgur.com/r33F7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/r33F7.png\" alt=\"enter image description here\" /></a></p>\n<p>(I am using thymeleaf in html, and my html files are in src/main/resources/templates)</p>\n<p>(I am using mysql database from the cloud, i already verified that the problem does not come from there)</p>\n<p>(My css files are in src/main/resources/static)</p>\n<p>(I am using apache2)</p>\n<p>(i installed maven)</p>\n"},{"tags":["java","google-cloud-platform","publish-subscribe","google-cloud-pubsub"],"comments":[{"owner":{"account_id":17353400,"reputation":3932,"user_id":12571387,"display_name":"Alexandre Moraes"},"score":0,"creation_date":1593767002,"post_id":62703520,"comment_id":110899938,"body_markdown":"What are you trying to achieve with this code ? Because according to the [documentation](https://googleapis.github.io/google-cloud-dotnet/docs/Google.Cloud.PubSub.V1/api/Google.Cloud.PubSub.V1.TopicName.html), there is a constructor within the class TopicName(), which *Constructs a new instance of a TopicName class from the component parts of pattern*.","body":"What are you trying to achieve with this code ? Because according to the <a href=\"https://googleapis.github.io/google-cloud-dotnet/docs/Google.Cloud.PubSub.V1/api/Google.Cloud.PubSub.V1.TopicName.html\" rel=\"nofollow noreferrer\">documentation</a>, there is a constructor within the class TopicName(), which <i>Constructs a new instance of a TopicName class from the component parts of pattern</i>."},{"owner":{"account_id":13373807,"reputation":156,"user_id":9651249,"display_name":"Soumik Das"},"score":0,"creation_date":1593807778,"post_id":62703520,"comment_id":110917831,"body_markdown":"@AlexandreMoraes: I want to publish a message to pubsub queue. For that I created a topicname in GCP and followed the GCP documentation. However, that &#39;of&#39; method is not coming after &#39;TopicName&#39; class.","body":"@AlexandreMoraes: I want to publish a message to pubsub queue. For that I created a topicname in GCP and followed the GCP documentation. However, that &#39;of&#39; method is not coming after &#39;TopicName&#39; class."},{"owner":{"account_id":17353400,"reputation":3932,"user_id":12571387,"display_name":"Alexandre Moraes"},"score":0,"creation_date":1594278413,"post_id":62703520,"comment_id":111071094,"body_markdown":"have you followed this [documentation](https://stackoverflow.com/questions/62654686/set-a-timeout-for-airflow-kubernetespodoperator-task) in order to create the topic.","body":"have you followed this <a href=\"https://stackoverflow.com/questions/62654686/set-a-timeout-for-airflow-kubernetespodoperator-task\">documentation</a> in order to create the topic."},{"owner":{"account_id":13373807,"reputation":156,"user_id":9651249,"display_name":"Soumik Das"},"score":0,"creation_date":1594290874,"post_id":62703520,"comment_id":111077367,"body_markdown":"No, I was referring this GCP documentation -&gt; https://cloud.google.com/pubsub/docs/publisher","body":"No, I was referring this GCP documentation -&gt; <a href=\"https://cloud.google.com/pubsub/docs/publisher\" rel=\"nofollow noreferrer\">cloud.google.com/pubsub/docs/publisher</a>"},{"owner":{"account_id":17353400,"reputation":3932,"user_id":12571387,"display_name":"Alexandre Moraes"},"score":1,"creation_date":1594381355,"post_id":62703520,"comment_id":111113237,"body_markdown":"Did you follow the [quick start](https://cloud.google.com/pubsub/docs/quickstart-client-libraries) for preparing your environment to use the Java API?","body":"Did you follow the <a href=\"https://cloud.google.com/pubsub/docs/quickstart-client-libraries\" rel=\"nofollow noreferrer\">quick start</a> for preparing your environment to use the Java API?"},{"owner":{"account_id":13373807,"reputation":156,"user_id":9651249,"display_name":"Soumik Das"},"score":1,"creation_date":1594388129,"post_id":62703520,"comment_id":111116982,"body_markdown":"adding libraries-bom in the pom dependency management fixed the issue. Thanks for your help.","body":"adding libraries-bom in the pom dependency management fixed the issue. Thanks for your help."},{"owner":{"account_id":17353400,"reputation":3932,"user_id":12571387,"display_name":"Alexandre Moraes"},"score":0,"creation_date":1594624936,"post_id":62703520,"comment_id":111178939,"body_markdown":"I have summarised our discussion as an answer. Please, consider upvoting and accepting the answer.","body":"I have summarised our discussion as an answer. Please, consider upvoting and accepting the answer."}],"answers":[{"tags":[],"owner":{"account_id":17353400,"reputation":3932,"user_id":12571387,"display_name":"Alexandre Moraes"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1594624880,"creation_date":1594624880,"answer_id":62870998,"question_id":62703520,"body_markdown":"I am summarising our discussion as an answer. \r\n\r\nYou are referring to the [documentation][1], which explains how to publish a message in PubSub using Java and you got an error referent to the `TopicName.of(projectId, topicId)`. Since this method is referenced in the documentation, its execution depends on adding the required Java dependencies. In order to do so, you have to follow the [Quickstart][2] and prepare your environment. Afterwards, you will be able to follow the [Publishing messages to topics][3] tutorial.\r\n\r\n\r\n  [1]: https://cloud.google.com/pubsub/docs/publisher#java\r\n  [2]: https://cloud.google.com/pubsub/docs/quickstart-client-libraries#install\r\n  [3]: https://cloud.google.com/pubsub/docs/publisher","title":"Not getting &#39;of&#39; method for TopicName class using com.google.cloud.pubsub.v1","body":"<p>I am summarising our discussion as an answer.</p>\n<p>You are referring to the <a href=\"https://cloud.google.com/pubsub/docs/publisher#java\" rel=\"nofollow noreferrer\">documentation</a>, which explains how to publish a message in PubSub using Java and you got an error referent to the <code>TopicName.of(projectId, topicId)</code>. Since this method is referenced in the documentation, its execution depends on adding the required Java dependencies. In order to do so, you have to follow the <a href=\"https://cloud.google.com/pubsub/docs/quickstart-client-libraries#install\" rel=\"nofollow noreferrer\">Quickstart</a> and prepare your environment. Afterwards, you will be able to follow the <a href=\"https://cloud.google.com/pubsub/docs/publisher\" rel=\"nofollow noreferrer\">Publishing messages to topics</a> tutorial.</p>\n"},{"tags":[],"owner":{"account_id":904106,"reputation":10873,"user_id":939420,"accept_rate":80,"display_name":"Lisandro"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684876796,"creation_date":1684876796,"answer_id":76318719,"question_id":62703520,"body_markdown":"I wasted more time than Im willing to admit on this same problem, so Im leaving a solution in case anyone else stumbles on the same issue.\r\n\r\nIn short, my project uses JHipster and the dependency conflict comes from the order in which the POMs are imported:\r\n\r\n```\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;!-- THIS DEPENDENCY HAS TO GO BEFORE THE OTHER ONE  --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n                &lt;artifactId&gt;libraries-bom&lt;/artifactId&gt;\r\n                &lt;version&gt;26.15.0&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.github.jhipster&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jhipster-dependencies&lt;/artifactId&gt;\r\n                &lt;version&gt;${jhipster-dependencies.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            \r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n```\r\n\r\nI can imagine this could happen with other dependencies.","title":"Not getting &#39;of&#39; method for TopicName class using com.google.cloud.pubsub.v1","body":"<p>I wasted more time than Im willing to admit on this same problem, so Im leaving a solution in case anyone else stumbles on the same issue.</p>\n<p>In short, my project uses JHipster and the dependency conflict comes from the order in which the POMs are imported:</p>\n<pre><code>    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;!-- THIS DEPENDENCY HAS TO GO BEFORE THE OTHER ONE  --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;libraries-bom&lt;/artifactId&gt;\n                &lt;version&gt;26.15.0&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n\n            &lt;dependency&gt;\n                &lt;groupId&gt;io.github.jhipster&lt;/groupId&gt;\n                &lt;artifactId&gt;jhipster-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${jhipster-dependencies.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n            \n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n</code></pre>\n<p>I can imagine this could happen with other dependencies.</p>\n"}],"owner":{"account_id":13373807,"reputation":156,"user_id":9651249,"display_name":"Soumik Das"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":849,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":62870998,"answer_count":2,"score":1,"last_activity_date":1684876796,"creation_date":1593717287,"question_id":62703520,"body_markdown":"I am using GCP PubSub and using the TopicName class. I want to write the below code:\r\n\r\n    TopicName topicName = TopicName.of(projectId, topicId);\r\n\r\nBut I can&#39;t get the `&#39;of&#39;`method. \r\n\r\nPlease can anyone suggest what I am doing wrong.","title":"Not getting &#39;of&#39; method for TopicName class using com.google.cloud.pubsub.v1","body":"<p>I am using GCP PubSub and using the TopicName class. I want to write the below code:</p>\n<pre><code>TopicName topicName = TopicName.of(projectId, topicId);\n</code></pre>\n<p>But I can't get the <code>'of'</code>method.</p>\n<p>Please can anyone suggest what I am doing wrong.</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1684952867,"post_id":76317396,"comment_id":134594320,"body_markdown":"`Map&lt;aProp, Map&lt;bProp, cProp&gt;&gt;` makes no sense. Your properties have type `String`, so the result would be a `Map&lt;String, Map&lt;String, String&gt;&gt;`. And if you tried `Collectors.groupingBy`, show what you tried.","body":"<code>Map&lt;aProp, Map&lt;bProp, cProp&gt;&gt;</code> makes no sense. Your properties have type <code>String</code>, so the result would be a <code>Map&lt;String, Map&lt;String, String&gt;&gt;</code>. And if you tried <code>Collectors.groupingBy</code>, show what you tried."}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684864791,"creation_date":1684864791,"answer_id":76317491,"question_id":76317396,"body_markdown":"You can create a for-loop on `List&lt;A&gt;`, adding a new map entry for each iteration.\r\n\r\n```java\r\nMap&lt;String, Map&lt;String, String&gt;&gt; map(List&lt;A&gt; aList) {\r\n    Map&lt;String, Map&lt;String, String&gt;&gt; map = new HashMap&lt;&gt;();\r\n    for (A a : aList) map.put(a.aProp, Map.of(a.bProp, a.cProp));\r\n    return map;\r\n}\r\n```\r\n\r\nExample output\r\n\r\n```none\r\n{a={b=c}, d={e=f}, g={h=i}, j={k=l}}\r\n```","title":"How to group a list of objects into a Map of Map based on object&#39;s attributes in Java?","body":"<p>You can create a for-loop on <code>List&lt;A&gt;</code>, adding a new map entry for each iteration.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, Map&lt;String, String&gt;&gt; map(List&lt;A&gt; aList) {\n    Map&lt;String, Map&lt;String, String&gt;&gt; map = new HashMap&lt;&gt;();\n    for (A a : aList) map.put(a.aProp, Map.of(a.bProp, a.cProp));\n    return map;\n}\n</code></pre>\n<p>Example output</p>\n<pre class=\"lang-none prettyprint-override\"><code>{a={b=c}, d={e=f}, g={h=i}, j={k=l}}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684868454,"creation_date":1684868454,"answer_id":76317879,"question_id":76317396,"body_markdown":"Assuming that the `aProp` and `bProp` combinations are unique:\r\n```java\r\nMap&lt;String, Map&lt;String, String&gt;&gt; map = aList.stream()\r\n        .collect(Collectors.groupingBy(\r\n                a -&gt; a.aProp,\r\n                Collectors.toMap(a -&gt; a.bProp, a -&gt; a.cProp)\r\n        ));\r\n// map ==&gt; {1={2=3}, 2={3=4}, 3={4=5}}\r\n```\r\nIf there are instances with the same values for `aProp` and `bProp`, then the `toMap` collector will cause an exception to be thrown. If that&#39;s going to happen you can use one of the other `toMap` methods. For instance, `toMap(a -&gt; a.bProp, a -&gt; a.cProp, (x, y) -&gt; y))` will take the last value (although the order doesn&#39;t guarantee what that &quot;last value&quot; will be).","title":"How to group a list of objects into a Map of Map based on object&#39;s attributes in Java?","body":"<p>Assuming that the <code>aProp</code> and <code>bProp</code> combinations are unique:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, Map&lt;String, String&gt;&gt; map = aList.stream()\n        .collect(Collectors.groupingBy(\n                a -&gt; a.aProp,\n                Collectors.toMap(a -&gt; a.bProp, a -&gt; a.cProp)\n        ));\n// map ==&gt; {1={2=3}, 2={3=4}, 3={4=5}}\n</code></pre>\n<p>If there are instances with the same values for <code>aProp</code> and <code>bProp</code>, then the <code>toMap</code> collector will cause an exception to be thrown. If that's going to happen you can use one of the other <code>toMap</code> methods. For instance, <code>toMap(a -&gt; a.bProp, a -&gt; a.cProp, (x, y) -&gt; y))</code> will take the last value (although the order doesn't guarantee what that &quot;last value&quot; will be).</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684876790,"creation_date":1684876790,"answer_id":76318718,"question_id":76317396,"body_markdown":"```\r\nclass A {\r\n    private String aProp;\r\n    private String bProp;\r\n    private String cProp;\r\n\r\n    public A(String aProp, String bProp, String cProp) {\r\n        this.aProp = aProp;\r\n        this.bProp = bProp;\r\n        this.cProp = cProp;\r\n    }\r\n\r\n    public String getaProp() {\r\n        return aProp;\r\n    }\r\n\r\n    public String getbProp() {\r\n        return bProp;\r\n    }\r\n\r\n    public String getcProp() {\r\n        return cProp;\r\n    }\r\n\r\n}\r\n\r\nList&lt;A&gt; listOfA = List.of(new A(&quot;r&quot;, &quot;b&quot;, &quot;c&quot;), new A(&quot;r&quot;, &quot;b&quot;, &quot;d&quot;),\r\n          new A(&quot;t&quot;, &quot;b&quot;, &quot;e&quot;), new A(&quot;t&quot;, &quot;c&quot;, &quot;f&quot;),\r\n          new A(&quot;r&quot;, &quot;d&quot;, &quot;g&quot;), new A(&quot;w&quot;, &quot;b&quot;, &quot;j&quot;));\r\n```  \r\nHere is what you requested. \r\n```\r\nMap&lt;String, Map&lt;String, String&gt;&gt; map = new HashMap&lt;&gt;();\r\n\r\nfor (A a : listOfA) {\r\n    map.computeIfAbsent(a.getaProp(), v -&gt; new HashMap&lt;&gt;())\r\n    .put(a.getbProp(), a.getcProp());\r\n}\r\n\r\nmap.entrySet().forEach(System.out::println);\r\nSystem.out.println();\r\n```\r\nprints\r\n``` \r\nr={b=d, d=g}\r\nt={b=e, c=f}\r\nw={b=j}\r\n```\r\nNotice that since instances of `A` had duplicate `aProp&#39;s` and `bProp&#39;s` the next one encountered replaced the previous one.\r\nIn the previous example, `b,d for r` replaced `b,c for r`.\r\n\r\nTo prevent this, if required, you can create an `ArrayList&lt;String&gt;` as the value for the inner map.\r\n```\r\nMap&lt;String, Map&lt;String, List&lt;String&gt;&gt;&gt; map2 = new HashMap&lt;&gt;();\r\nfor (A a : listOfA) { \r\n     map2.computeIfAbsent(a.getaProp(), v -&gt; new HashMap&lt;&gt;())\r\n         .computeIfAbsent(a.getbProp(), v -&gt; new ArrayList&lt;&gt;())\r\n             .add(a.getcProp());\r\n}\r\n\r\nmap2.entrySet().forEach(System.out::println);\r\n```\r\nprints\r\n```\r\nr={b=[c, d], d=[g]}\r\nt={b=[e], c=[f]}\r\nw={b=[j]}\r\n```\r\nIn this example, `c` was preserved in the ArrayList.","title":"How to group a list of objects into a Map of Map based on object&#39;s attributes in Java?","body":"<pre><code>class A {\n    private String aProp;\n    private String bProp;\n    private String cProp;\n\n    public A(String aProp, String bProp, String cProp) {\n        this.aProp = aProp;\n        this.bProp = bProp;\n        this.cProp = cProp;\n    }\n\n    public String getaProp() {\n        return aProp;\n    }\n\n    public String getbProp() {\n        return bProp;\n    }\n\n    public String getcProp() {\n        return cProp;\n    }\n\n}\n\nList&lt;A&gt; listOfA = List.of(new A(&quot;r&quot;, &quot;b&quot;, &quot;c&quot;), new A(&quot;r&quot;, &quot;b&quot;, &quot;d&quot;),\n          new A(&quot;t&quot;, &quot;b&quot;, &quot;e&quot;), new A(&quot;t&quot;, &quot;c&quot;, &quot;f&quot;),\n          new A(&quot;r&quot;, &quot;d&quot;, &quot;g&quot;), new A(&quot;w&quot;, &quot;b&quot;, &quot;j&quot;));\n</code></pre>\n<p>Here is what you requested.</p>\n<pre><code>Map&lt;String, Map&lt;String, String&gt;&gt; map = new HashMap&lt;&gt;();\n\nfor (A a : listOfA) {\n    map.computeIfAbsent(a.getaProp(), v -&gt; new HashMap&lt;&gt;())\n    .put(a.getbProp(), a.getcProp());\n}\n\nmap.entrySet().forEach(System.out::println);\nSystem.out.println();\n</code></pre>\n<p>prints</p>\n<pre><code>r={b=d, d=g}\nt={b=e, c=f}\nw={b=j}\n</code></pre>\n<p>Notice that since instances of <code>A</code> had duplicate <code>aProp's</code> and <code>bProp's</code> the next one encountered replaced the previous one.\nIn the previous example, <code>b,d for r</code> replaced <code>b,c for r</code>.</p>\n<p>To prevent this, if required, you can create an <code>ArrayList&lt;String&gt;</code> as the value for the inner map.</p>\n<pre><code>Map&lt;String, Map&lt;String, List&lt;String&gt;&gt;&gt; map2 = new HashMap&lt;&gt;();\nfor (A a : listOfA) { \n     map2.computeIfAbsent(a.getaProp(), v -&gt; new HashMap&lt;&gt;())\n         .computeIfAbsent(a.getbProp(), v -&gt; new ArrayList&lt;&gt;())\n             .add(a.getcProp());\n}\n\nmap2.entrySet().forEach(System.out::println);\n</code></pre>\n<p>prints</p>\n<pre><code>r={b=[c, d], d=[g]}\nt={b=[e], c=[f]}\nw={b=[j]}\n</code></pre>\n<p>In this example, <code>c</code> was preserved in the ArrayList.</p>\n"}],"owner":{"account_id":1810578,"reputation":725,"user_id":1646735,"accept_rate":81,"display_name":"Pratik"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76317879,"answer_count":3,"score":0,"last_activity_date":1684876790,"creation_date":1684863864,"question_id":76317396,"body_markdown":"I have a list of objects that I want to convert to a map of maps.\r\n```\r\nclass A {\r\n  String aProp;\r\n  String bProp;\r\n  String cProp;\r\n}\r\n```\r\nthen I have `List&lt;A&gt; aList`.\r\nand I am trying to convert them into a map - \r\n```\r\nMap&lt;aProp, Map&lt;bProp, cProp&gt;&gt;\r\n```\r\n\r\nhow can I achieve this?\r\nI tried `Collectors.groupingBy` but still not able to achieve what I want.","title":"How to group a list of objects into a Map of Map based on object&#39;s attributes in Java?","body":"<p>I have a list of objects that I want to convert to a map of maps.</p>\n<pre><code>class A {\n  String aProp;\n  String bProp;\n  String cProp;\n}\n</code></pre>\n<p>then I have <code>List&lt;A&gt; aList</code>.\nand I am trying to convert them into a map -</p>\n<pre><code>Map&lt;aProp, Map&lt;bProp, cProp&gt;&gt;\n</code></pre>\n<p>how can I achieve this?\nI tried <code>Collectors.groupingBy</code> but still not able to achieve what I want.</p>\n"},{"tags":["java","gradle","intellij-idea"],"owner":{"account_id":25718726,"reputation":3,"user_id":19476026,"display_name":"Potat.OS1"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684876465,"creation_date":1684876465,"question_id":76318685,"body_markdown":"I have a ray casting light intellij project in javafx with gradle that im trying to add soft shadows to, and i wish to use the GPU to help. I decided to use Aparapi to do so, as i can write code in pure java. the problem im coming up with is that after adding this to my dependencies in my build file:\r\n\r\n```\r\nimplementation &quot;com.aparapi:aparapi:3.0.0&quot;\r\n```\r\n\r\nand this in my module-info file:\r\n\r\n```\r\nrequires static aparapi.jni;\r\nrequires static aparapi;\r\n```\r\n\r\ni get this error stack trace:\r\n\r\n```\r\nException in thread &quot;JavaFX Application Thread&quot; java.lang.IllegalAccessError: superclass access check failed: class com.example.ray_casting.ImageKernel (in module com.example.ray_casting) cannot access class com.aparapi.Kernel (in unnamed module @0x52c51a06) because module com.example.ray_casting does not read unnamed module @0x52c51a06\r\n\tat com.example.ray_casting/com.example.ray_casting.Update.updateShadows(Update.java:84)\r\n\tat com.example.ray_casting/com.example.ray_casting.Update.handle(Update.java:64)\r\n\tat javafx.graphics@19.0.2.1/javafx.animation.AnimationTimer$AnimationTimerReceiver.lambda$handle$0(AnimationTimer.java:58)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat javafx.graphics@19.0.2.1/javafx.animation.AnimationTimer$AnimationTimerReceiver.handle(AnimationTimer.java:57)\r\n\tat javafx.graphics@19.0.2.1/com.sun.scenario.animation.AbstractPrimaryTimer.timePulseImpl(AbstractPrimaryTimer.java:356)\r\n\tat javafx.graphics@19.0.2.1/com.sun.scenario.animation.AbstractPrimaryTimer$MainLoop.run(AbstractPrimaryTimer.java:266)\r\n\tat javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.QuantumToolkit.pulse(QuantumToolkit.java:571)\r\n\tat javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.QuantumToolkit.pulse(QuantumToolkit.java:555)\r\n\tat javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.QuantumToolkit.pulseFromQueue(QuantumToolkit.java:548)\r\n\tat javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.QuantumToolkit.lambda$runToolkit$11(QuantumToolkit.java:352)\r\n\tat javafx.graphics@19.0.2.1/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\r\n\tat javafx.graphics@19.0.2.1/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n\tat javafx.graphics@19.0.2.1/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\r\n```\r\n\r\ni tried doing some googling to figure out why as im not familiar with adding additional libraries/frameworks/whatever-aparapi-is to projects, and from what i understand if im not wrong is that Gradle puts aparapi on the classpath instead of the modulepath, with the classpath then being treated as the module. Am i just stuck or is there a way around this?","title":"unnamed module problem with a library in gradle","body":"<p>I have a ray casting light intellij project in javafx with gradle that im trying to add soft shadows to, and i wish to use the GPU to help. I decided to use Aparapi to do so, as i can write code in pure java. the problem im coming up with is that after adding this to my dependencies in my build file:</p>\n<pre><code>implementation &quot;com.aparapi:aparapi:3.0.0&quot;\n</code></pre>\n<p>and this in my module-info file:</p>\n<pre><code>requires static aparapi.jni;\nrequires static aparapi;\n</code></pre>\n<p>i get this error stack trace:</p>\n<pre><code>Exception in thread &quot;JavaFX Application Thread&quot; java.lang.IllegalAccessError: superclass access check failed: class com.example.ray_casting.ImageKernel (in module com.example.ray_casting) cannot access class com.aparapi.Kernel (in unnamed module @0x52c51a06) because module com.example.ray_casting does not read unnamed module @0x52c51a06\n    at com.example.ray_casting/com.example.ray_casting.Update.updateShadows(Update.java:84)\n    at com.example.ray_casting/com.example.ray_casting.Update.handle(Update.java:64)\n    at javafx.graphics@19.0.2.1/javafx.animation.AnimationTimer$AnimationTimerReceiver.lambda$handle$0(AnimationTimer.java:58)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at javafx.graphics@19.0.2.1/javafx.animation.AnimationTimer$AnimationTimerReceiver.handle(AnimationTimer.java:57)\n    at javafx.graphics@19.0.2.1/com.sun.scenario.animation.AbstractPrimaryTimer.timePulseImpl(AbstractPrimaryTimer.java:356)\n    at javafx.graphics@19.0.2.1/com.sun.scenario.animation.AbstractPrimaryTimer$MainLoop.run(AbstractPrimaryTimer.java:266)\n    at javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.QuantumToolkit.pulse(QuantumToolkit.java:571)\n    at javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.QuantumToolkit.pulse(QuantumToolkit.java:555)\n    at javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.QuantumToolkit.pulseFromQueue(QuantumToolkit.java:548)\n    at javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.QuantumToolkit.lambda$runToolkit$11(QuantumToolkit.java:352)\n    at javafx.graphics@19.0.2.1/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\n    at javafx.graphics@19.0.2.1/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at javafx.graphics@19.0.2.1/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\n</code></pre>\n<p>i tried doing some googling to figure out why as im not familiar with adding additional libraries/frameworks/whatever-aparapi-is to projects, and from what i understand if im not wrong is that Gradle puts aparapi on the classpath instead of the modulepath, with the classpath then being treated as the module. Am i just stuck or is there a way around this?</p>\n"},{"tags":["java","hibernate","maven"],"owner":{"account_id":28665610,"reputation":1,"user_id":21949696,"display_name":"Zvheer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684876421,"creation_date":1684876421,"question_id":76318681,"body_markdown":"i&#39;m trying to use hibernate in a maven project . So i include these dependancies in my projet which are supposed to be enough as i read. I have access to the jakarta package so i successfuly mapped my classes but now i&#39;m trying to insert a row in database to test and understand how it works. But when i try to find a tutorial which explain how i can do they all use a class org.hibernate.cfg.Configuration to read an xml file but i don&#39;t have this class in my project i suppose it was a part of previous versions but now how i can do ?? or am i the one which doesn&#39;t understand ?? \r\n\r\n\r\n\r\n\r\n\r\n\r\n```\r\n&lt;dependency&gt;\r\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n            &lt;version&gt;8.0.33&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n            &lt;version&gt;6.2.2.Final&lt;/version&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n```","title":"Where is hibernate configuration class in hibernate-core","body":"<p>i'm trying to use hibernate in a maven project . So i include these dependancies in my projet which are supposed to be enough as i read. I have access to the jakarta package so i successfuly mapped my classes but now i'm trying to insert a row in database to test and understand how it works. But when i try to find a tutorial which explain how i can do they all use a class org.hibernate.cfg.Configuration to read an xml file but i don't have this class in my project i suppose it was a part of previous versions but now how i can do ?? or am i the one which doesn't understand ??</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.33&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;6.2.2.Final&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","sorting","hashmap","key","key-value"],"comments":[{"owner":{"account_id":7801308,"reputation":462,"user_id":5900660,"accept_rate":100,"display_name":"Conor Egan"},"score":0,"creation_date":1684873041,"post_id":76318343,"comment_id":134580373,"body_markdown":"This might be helpful: https://stackoverflow.com/a/26296947/5900660","body":"This might be helpful: <a href=\"https://stackoverflow.com/a/26296947/5900660\">stackoverflow.com/a/26296947/5900660</a>"},{"owner":{"account_id":7801308,"reputation":462,"user_id":5900660,"accept_rate":100,"display_name":"Conor Egan"},"score":0,"creation_date":1684873355,"post_id":76318343,"comment_id":134580433,"body_markdown":"Additionally, when you call `put()` it is replacing the original value for that key in the hashmap. A better solution would be to map an integer to a list of integers. HashMap&lt;Integer, List&lt;Integer&gt;&gt;.","body":"Additionally, when you call <code>put()</code> it is replacing the original value for that key in the hashmap. A better solution would be to map an integer to a list of integers. HashMap&lt;Integer, List&lt;Integer&gt;&gt;."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1684874349,"post_id":76318343,"comment_id":134580648,"body_markdown":"Where is the difference between the input and the expected output, what am I missing?","body":"Where is the difference between the input and the expected output, what am I missing?"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1684874615,"post_id":76318343,"comment_id":134580709,"body_markdown":"Yes, as @ConorEgan mentioned, since the `Map` keys need to be unique, the second assignment of `11` will over-write the current value.  If you&#39;re looking to store more than one value per key, use a `List&lt;Integer&gt;` as the value.","body":"Yes, as @ConorEgan mentioned, since the <code>Map</code> keys need to be unique, the second assignment of <code>11</code> will over-write the current value.  If you&#39;re looking to store more than one value per key, use a <code>List&lt;Integer&gt;</code> as the value."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1684875809,"post_id":76318343,"comment_id":134580907,"body_markdown":"_ an hashMap that is sorted in descending values._ - that is impossible. HashMaps aren&#39;t ordered. If you put in keys &#39;a&#39;, &#39;b&#39;, &#39;c&#39; - and then immediately iterate, you get an arbitrary order back. You can sort _on keys_ (`TreeMap`). You can&#39;t sort on values.","body":"_ an hashMap that is sorted in descending values._ - that is impossible. HashMaps aren&#39;t ordered. If you put in keys &#39;a&#39;, &#39;b&#39;, &#39;c&#39; - and then immediately iterate, you get an arbitrary order back. You can sort <i>on keys</i> (<code>TreeMap</code>). You can&#39;t sort on values."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1684876075,"post_id":76318343,"comment_id":134580959,"body_markdown":"@rzwitserloot, agreed; at least, not intrinsically, it&#39;s not part of the abstraction.  You&#39;d have to create some sort of iteration on a `LinkedHashMap`, and re-order the keys.","body":"@rzwitserloot, agreed; at least, not intrinsically, it&#39;s not part of the abstraction.  You&#39;d have to create some sort of iteration on a <code>LinkedHashMap</code>, and re-order the keys."}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1684876117,"creation_date":1684875719,"answer_id":76318620,"question_id":76318343,"body_markdown":"Here is a possible solution to your inquiry.\r\n\r\nFirstly, you can use a `Map&lt;Integer, List&lt;Integer&gt;&gt;`, as a way to hold more than one value per key.\r\n\r\nWhen adding a new value, sort the `List` using `Comparator.reverseOrder`.\r\n\r\n```java\r\npublic class Example {\r\n    Map&lt;Integer, List&lt;Integer&gt;&gt; map = new LinkedHashMap&lt;&gt;();\r\n\r\n    void add(int key, int value) {\r\n        if (!map.containsKey(key))\r\n            map.put(key, new ArrayList&lt;&gt;(List.of(value)));\r\n        else {\r\n            map.get(key).add(value);\r\n            map.get(key).sort(Comparator.reverseOrder());\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nHere is an example usage\r\n\r\n```java\r\nExample example = new Example();\r\nexample.add(7, 4);\r\nexample.add(11, 3);\r\nexample.add(18, 3);\r\nexample.add(35, 3);\r\nexample.add(2, 2);\r\nexample.add(5, 1);\r\nexample.add(11, 1);\r\n\r\nSystem.out.println(example.map);\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n{7=[4], 11=[3, 1], 18=[3], 35=[3], 2=[2], 5=[1]}\r\n```","title":"Rearranging Duplicate Values in a Hashmap pairs in ascending Key order","body":"<p>Here is a possible solution to your inquiry.</p>\n<p>Firstly, you can use a <code>Map&lt;Integer, List&lt;Integer&gt;&gt;</code>, as a way to hold more than one value per key.</p>\n<p>When adding a new value, sort the <code>List</code> using <code>Comparator.reverseOrder</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Example {\n    Map&lt;Integer, List&lt;Integer&gt;&gt; map = new LinkedHashMap&lt;&gt;();\n\n    void add(int key, int value) {\n        if (!map.containsKey(key))\n            map.put(key, new ArrayList&lt;&gt;(List.of(value)));\n        else {\n            map.get(key).add(value);\n            map.get(key).sort(Comparator.reverseOrder());\n        }\n    }\n}\n</code></pre>\n<p>Here is an example usage</p>\n<pre class=\"lang-java prettyprint-override\"><code>Example example = new Example();\nexample.add(7, 4);\nexample.add(11, 3);\nexample.add(18, 3);\nexample.add(35, 3);\nexample.add(2, 2);\nexample.add(5, 1);\nexample.add(11, 1);\n\nSystem.out.println(example.map);\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>{7=[4], 11=[3, 1], 18=[3], 35=[3], 2=[2], 5=[1]}\n</code></pre>\n"}],"owner":{"account_id":25338369,"reputation":313,"user_id":19157137,"display_name":"Bosser445"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76318620,"answer_count":1,"score":0,"last_activity_date":1684876117,"creation_date":1684872730,"question_id":76318343,"body_markdown":"I want to write a piece of code in java that takes in an hashMap that is sorted in descending values. It only rearranges the pairs that have more than one duplicate values and order them in ascending key order. So {7=4, 17=2, 5=2} hashMap would result in `{7=4, 5=2, 17=2}`. For another example `{7=4, 11=3 , 18=3 , 35=3, 2=2, 5=1, 11,1}` would equal `{7=4, 11=3 , 18=3 , 35=3, 2=2, 5=1, 11,1}` since all the duplicates are already sorted in ascending keys. The code down below is wrong and does not give the expected value described. Please change the code below for it to perform what its supposed to. The pair `11=3` is also missing in the output.  \r\n\r\n```\r\nInput:{7=4, 11=3 , 18=3 , 35=3, 2=2, 5=1, 11,1}\r\nOutput: {2=2, 18=3, 35=3, 5=1, 7=4, 11=1}\r\nExpected Output: {7=4, 11=3 , 18=3 , 35=3, 2=2, 5=1, 11=1}\r\n```\r\n\r\nCode\r\n```\r\nimport java.util.*;\r\n\r\npublic class HashMapSort {\r\n    public static void main(String[] args) {\r\n        HashMap&lt;Integer, Integer&gt; hashMap = new HashMap&lt;&gt;();\r\n        hashMap.put(7, 4);\r\n        hashMap.put(11, 3);\r\n        hashMap.put(18, 3);\r\n        hashMap.put(35, 3);\r\n        hashMap.put(2, 2);\r\n        hashMap.put(5, 1);\r\n        hashMap.put(11, 1);\r\n        System.out.println(&quot;Before rearranging: &quot; + hashMap);\r\n        HashMap&lt;Integer, Integer&gt; rearrangedHashMap = rearrangeHashMap(hashMap);\r\n        System.out.println(&quot;After rearranging: &quot; + rearrangedHashMap);\r\n    }\r\n\r\n    public static HashMap&lt;Integer, Integer&gt; rearrangeHashMap(HashMap&lt;Integer, Integer&gt; hashMap) {\r\n        HashMap&lt;Integer, Integer&gt; rearrangedHashMap = new HashMap&lt;&gt;();\r\n        // Group the values by count and by whether they have duplicates\r\n       HashMap&lt;Integer, List&lt;Integer&gt;&gt; groupedValues = new HashMap&lt;&gt;();\r\n        for (Map.Entry&lt;Integer, Integer&gt; entry : hashMap.entrySet()) {\r\n            int key = entry.getKey();\r\n            int value = entry.getValue();\r\n            if (value &gt; 1) {\r\n                groupedValues.computeIfAbsent(value, k -&gt; new ArrayList&lt;&gt;()).add(key);\r\n            } else {\r\n                rearrangedHashMap.put(key, value);\r\n            }\r\n        }\r\n        // Rearrange the groups with multiple values\r\n        for (Map.Entry&lt;Integer, List&lt;Integer&gt;&gt; entry : groupedValues.entrySet()) {\r\n            int value = entry.getKey();\r\n            List&lt;Integer&gt; keys = entry.getValue();\r\n            Collections.sort(keys, Collections.reverseOrder());\r\n            for (int key : keys) {\r\n                rearrangedHashMap.put(key, value);\r\n            }\r\n        }\r\n        return rearrangedHashMap;\r\n    }\r\n}\r\n\r\n```","title":"Rearranging Duplicate Values in a Hashmap pairs in ascending Key order","body":"<p>I want to write a piece of code in java that takes in an hashMap that is sorted in descending values. It only rearranges the pairs that have more than one duplicate values and order them in ascending key order. So {7=4, 17=2, 5=2} hashMap would result in <code>{7=4, 5=2, 17=2}</code>. For another example <code>{7=4, 11=3 , 18=3 , 35=3, 2=2, 5=1, 11,1}</code> would equal <code>{7=4, 11=3 , 18=3 , 35=3, 2=2, 5=1, 11,1}</code> since all the duplicates are already sorted in ascending keys. The code down below is wrong and does not give the expected value described. Please change the code below for it to perform what its supposed to. The pair <code>11=3</code> is also missing in the output.</p>\n<pre><code>Input:{7=4, 11=3 , 18=3 , 35=3, 2=2, 5=1, 11,1}\nOutput: {2=2, 18=3, 35=3, 5=1, 7=4, 11=1}\nExpected Output: {7=4, 11=3 , 18=3 , 35=3, 2=2, 5=1, 11=1}\n</code></pre>\n<p>Code</p>\n<pre><code>import java.util.*;\n\npublic class HashMapSort {\n    public static void main(String[] args) {\n        HashMap&lt;Integer, Integer&gt; hashMap = new HashMap&lt;&gt;();\n        hashMap.put(7, 4);\n        hashMap.put(11, 3);\n        hashMap.put(18, 3);\n        hashMap.put(35, 3);\n        hashMap.put(2, 2);\n        hashMap.put(5, 1);\n        hashMap.put(11, 1);\n        System.out.println(&quot;Before rearranging: &quot; + hashMap);\n        HashMap&lt;Integer, Integer&gt; rearrangedHashMap = rearrangeHashMap(hashMap);\n        System.out.println(&quot;After rearranging: &quot; + rearrangedHashMap);\n    }\n\n    public static HashMap&lt;Integer, Integer&gt; rearrangeHashMap(HashMap&lt;Integer, Integer&gt; hashMap) {\n        HashMap&lt;Integer, Integer&gt; rearrangedHashMap = new HashMap&lt;&gt;();\n        // Group the values by count and by whether they have duplicates\n       HashMap&lt;Integer, List&lt;Integer&gt;&gt; groupedValues = new HashMap&lt;&gt;();\n        for (Map.Entry&lt;Integer, Integer&gt; entry : hashMap.entrySet()) {\n            int key = entry.getKey();\n            int value = entry.getValue();\n            if (value &gt; 1) {\n                groupedValues.computeIfAbsent(value, k -&gt; new ArrayList&lt;&gt;()).add(key);\n            } else {\n                rearrangedHashMap.put(key, value);\n            }\n        }\n        // Rearrange the groups with multiple values\n        for (Map.Entry&lt;Integer, List&lt;Integer&gt;&gt; entry : groupedValues.entrySet()) {\n            int value = entry.getKey();\n            List&lt;Integer&gt; keys = entry.getValue();\n            Collections.sort(keys, Collections.reverseOrder());\n            for (int key : keys) {\n                rearrangedHashMap.put(key, value);\n            }\n        }\n        return rearrangedHashMap;\n    }\n}\n\n</code></pre>\n"},{"tags":["java","typecasting-operator"],"comments":[{"owner":{"account_id":52839,"reputation":91119,"user_id":157957,"display_name":"IMSoP"},"score":2,"creation_date":1684862961,"post_id":76317283,"comment_id":134578462,"body_markdown":"Who is &quot;they&quot;? Where does this code come from? Are you sure it&#39;s not just a mistake by whoever wrote that code?","body":"Who is &quot;they&quot;? Where does this code come from? Are you sure it&#39;s not just a mistake by whoever wrote that code?"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":3,"creation_date":1684865193,"post_id":76317283,"comment_id":134578864,"body_markdown":"`ArrayList` has two different `remove` methods: (i) `remove(int)` and (ii) `remove(Object)` - the first use the argument as index of the element to be removed, while the second removes the given Object - since `charAt()` returns a `char`, both method can be called (a `char` is also an integral type), the compiler will call the first one - casting to `Character` forces the second one to be called","body":"<code>ArrayList</code> has two different <code>remove</code> methods: (i) <code>remove(int)</code> and (ii) <code>remove(Object)</code> - the first use the argument as index of the element to be removed, while the second removes the given Object - since <code>charAt()</code> returns a <code>char</code>, both method can be called (a <code>char</code> is also an integral type), the compiler will call the first one - casting to <code>Character</code> forces the second one to be called"},{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":3,"creation_date":1684866230,"post_id":76317283,"comment_id":134579070,"body_markdown":"btw, you&#39;ve stumbled upon some non-obvious code (good on you for noticing that!). The given answers (and @user16320675&#39;s slightly more in-depth explanation) are correct, but if I were you, I would do a favor to the next person who runs across this and add a short comment in the code; something like `// casting to Character so Java uses the remove(T) overload instead of remove(int)`","body":"btw, you&#39;ve stumbled upon some non-obvious code (good on you for noticing that!). The given answers (and @user16320675&#39;s slightly more in-depth explanation) are correct, but if I were you, I would do a favor to the next person who runs across this and add a short comment in the code; something like <code>&#47;&#47; casting to Character so Java uses the remove(T) overload instead of remove(int)</code>"}],"answers":[{"tags":[],"owner":{"account_id":27267586,"reputation":59,"user_id":20789350,"display_name":"carter"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1684865563,"creation_date":1684863157,"answer_id":76317327,"question_id":76317283,"body_markdown":"Removing both chars and ints can lead to logic errors when using the `remove(T e)` because of the overloaded method\r\n`remove(int index)` of the ArrayList class. Casting to their wrapper class avoids this.","title":"Casting char-&gt;Character in ArrayList#remove() - Why?","body":"<p>Removing both chars and ints can lead to logic errors when using the <code>remove(T e)</code> because of the overloaded method\n<code>remove(int index)</code> of the ArrayList class. Casting to their wrapper class avoids this.</p>\n"},{"tags":[],"owner":{"account_id":967624,"reputation":10828,"user_id":990750,"accept_rate":50,"display_name":"Tarik"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1684863278,"creation_date":1684863278,"answer_id":76317337,"question_id":76317283,"body_markdown":"The ArrayList class uses generics to specify that it contains a instances of Character. The casting allows automatic boxing char into a Character instance. See https://www.geeksforgeeks.org/autoboxing-unboxing-java/\r\nThe reason behind this, being that unlike in C#, generics are supported for classes but not intrinsic types such as int, char...","title":"Casting char-&gt;Character in ArrayList#remove() - Why?","body":"<p>The ArrayList class uses generics to specify that it contains a instances of Character. The casting allows automatic boxing char into a Character instance. See <a href=\"https://www.geeksforgeeks.org/autoboxing-unboxing-java/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/autoboxing-unboxing-java/</a>\nThe reason behind this, being that unlike in C#, generics are supported for classes but not intrinsic types such as int, char...</p>\n"}],"owner":{"account_id":28662032,"reputation":41,"user_id":21946775,"display_name":"Hritikesh S Shendre"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":2,"score":2,"last_activity_date":1684875876,"creation_date":1684862826,"question_id":76317283,"body_markdown":"```\r\nimport java.util.*;\r\n\r\npublic class rearrange_palindrome {\r\n\r\n    public static void main(String[] args) {\r\n        Scanner sc=new Scanner(System.in);\r\n        String st=sc.nextLine();\r\n\r\n        ArrayList&lt;Character&gt; ar = new ArrayList&lt;Character&gt;();\r\n\r\n        for (int i=0;i&lt;st.length();i++){\r\n            if (ar.contains(st.charAt(i)))\r\n            ar.remove((Character)st.charAt(i));//why did they use type casting?\r\n            else\r\n            ar.add(st.charAt(i));\r\n        }\r\n        if (st.length()%2==0 &amp;&amp; ar.isEmpty()==true || st.length()%2==1 &amp;&amp; ar.size()==1)\r\n        System.out.println(&quot;Palindrome&quot;);\r\n        else\r\n        System.out.println(&quot;Not a palindrome&quot;);\r\n    }\r\n}\r\n```\r\nplease tell, me the reason why did they use type casting, I&#39;ve commented that line.","title":"Casting char-&gt;Character in ArrayList#remove() - Why?","body":"<pre><code>import java.util.*;\n\npublic class rearrange_palindrome {\n\n    public static void main(String[] args) {\n        Scanner sc=new Scanner(System.in);\n        String st=sc.nextLine();\n\n        ArrayList&lt;Character&gt; ar = new ArrayList&lt;Character&gt;();\n\n        for (int i=0;i&lt;st.length();i++){\n            if (ar.contains(st.charAt(i)))\n            ar.remove((Character)st.charAt(i));//why did they use type casting?\n            else\n            ar.add(st.charAt(i));\n        }\n        if (st.length()%2==0 &amp;&amp; ar.isEmpty()==true || st.length()%2==1 &amp;&amp; ar.size()==1)\n        System.out.println(&quot;Palindrome&quot;);\n        else\n        System.out.println(&quot;Not a palindrome&quot;);\n    }\n}\n</code></pre>\n<p>please tell, me the reason why did they use type casting, I've commented that line.</p>\n"},{"tags":["java","maven","jsonschema2pojo"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1651048635,"post_id":72025422,"comment_id":127266988,"body_markdown":"What is maven and java version?","body":"What is maven and java version?"},{"owner":{"account_id":1900320,"reputation":25,"user_id":1716304,"display_name":"user1716304"},"score":0,"creation_date":1651049667,"post_id":72025422,"comment_id":127267393,"body_markdown":"Apache Maven 3.8.4 and Java version: 17.0.2","body":"Apache Maven 3.8.4 and Java version: 17.0.2"},{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1651050546,"post_id":72025422,"comment_id":127267727,"body_markdown":"Can you update jsonschema2pojo-maven-plugin to version 1.1.1 ? Your current version is from April 2017.","body":"Can you update jsonschema2pojo-maven-plugin to version 1.1.1 ? Your current version is from April 2017."},{"owner":{"account_id":2629084,"reputation":7968,"user_id":2275490,"display_name":"Vickel"},"score":0,"creation_date":1684873015,"post_id":72025422,"comment_id":134580369,"body_markdown":"Please don&#39;t make more work for other people by vandalizing your posts. And YES, deleting the essential code block of your question is called vandalizing. By posting on Stack Overflow, you&#39;ve granted a non-revocable right, under the CC BY-SA 4.0 license for Stack Overflow to distribute that content.","body":"Please don&#39;t make more work for other people by vandalizing your posts. And YES, deleting the essential code block of your question is called vandalizing. By posting on Stack Overflow, you&#39;ve granted a non-revocable right, under the CC BY-SA 4.0 license for Stack Overflow to distribute that content."},{"owner":{"account_id":2629084,"reputation":7968,"user_id":2275490,"display_name":"Vickel"},"score":0,"creation_date":1684873074,"post_id":72025422,"comment_id":134580380,"body_markdown":"You may dissociate a question from your account, instead of vandalizing:\nIf you made a post that you regret posting you can [have the post dissociated from your account](https://meta.stackexchange.com/questions/96732/how-do-i-remove-my-name-from-a-post-in-accordance-with-cc-by-sa)","body":"You may dissociate a question from your account, instead of vandalizing: If you made a post that you regret posting you can <a href=\"https://meta.stackexchange.com/questions/96732/how-do-i-remove-my-name-from-a-post-in-accordance-with-cc-by-sa\">have the post dissociated from your account</a>"}],"answers":[{"tags":[],"owner":{"account_id":204659,"reputation":37559,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684875694,"creation_date":1684875694,"answer_id":76318617,"question_id":72025422,"body_markdown":"Remove the following section from the &quot;Impact&quot; definition:\r\n\r\n    &quot;*&quot;: {\r\n    \t&quot;type&quot;: &quot;object&quot;\r\n    }\r\n\r\nIt appears to be an invalid definition.","title":"how to generate classes out of the json schema","body":"<p>Remove the following section from the &quot;Impact&quot; definition:</p>\n<pre><code>&quot;*&quot;: {\n    &quot;type&quot;: &quot;object&quot;\n}\n</code></pre>\n<p>It appears to be an invalid definition.</p>\n"}],"owner":{"account_id":1900320,"reputation":25,"user_id":1716304,"display_name":"user1716304"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1336,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1684875694,"creation_date":1651047279,"question_id":72025422,"body_markdown":"I have a json schema from which I need to generate java classes\r\n\r\n```\r\n{\r\n    &quot;$schema&quot;: &quot;http://json-schema.org/draft-07/schema#&quot;,\r\n    &quot;$id&quot;: &quot;https://schema.softsense.io/analysis/vulnerabilities/v1alpha1/vulnerabilities.json&quot;,\r\n    &quot;title&quot;: &quot;Vulnerabilities&quot;,\r\n    &quot;description&quot;: &quot;SoftSense Vulnerabilities analysis schema v1alpha3&quot;,\r\n    \r\n    &quot;type&quot;: &quot;object&quot;,\r\n    &quot;allOf&quot;: [ { &quot;$ref&quot;: &quot;https://schema.softsense.io/analysis/v1alpha3/base.json&quot; } ],\r\n    &quot;properties&quot;: {\r\n        &quot;vulnerabilities&quot;: {\r\n            &quot;items&quot;: {\r\n                &quot;$ref&quot;: &quot;#/definitions/Vulnerability&quot;\r\n            },\r\n            &quot;type&quot;: &quot;array&quot;\r\n        }\r\n    },\r\n    &quot;oneOf&quot;: [{ &quot;required&quot;: [&quot;vulnerabilities&quot;] }, { &quot;required&quot;: [&quot;error&quot;] }],\r\n    &quot;definitions&quot;: {\r\n        &quot;Vulnerability&quot;: {\r\n            &quot;required&quot;: [\r\n                &quot;id&quot;,\r\n                &quot;description&quot;,\r\n                &quot;sources&quot;\r\n            ],\r\n            &quot;properties&quot;: {\r\n                &quot;id&quot;: {\r\n                    &quot;description&quot;: &quot;Identifier for the vulnerability, such as a CVE identifier (CVE-2021-12345).&quot;,\r\n                    &quot;type&quot;: &quot;string&quot;\r\n                },\r\n                &quot;published&quot;: {\r\n                    &quot;description&quot;: &quot;UTC time when the vulnerability was published&quot;,\r\n                    &quot;type&quot;: &quot;string&quot;,\r\n                    &quot;format&quot;: &quot;date-time&quot;\r\n                },\r\n                &quot;updated&quot;: {\r\n                    &quot;description&quot;: &quot;UTC time when the vulnerability was updated&quot;,\r\n                    &quot;type&quot;: &quot;string&quot;,\r\n                    &quot;format&quot;: &quot;date-time&quot;\r\n                },\r\n                &quot;description&quot;: {\r\n                    &quot;description&quot;: &quot;Description of the vulnerability&quot;,\r\n                    &quot;type&quot;: &quot;string&quot;\r\n                },\r\n                &quot;sources&quot;: {\r\n                    &quot;description&quot;: &quot;The collection of backing vulnerability sources that listed this vulnerability for the software component&quot;,\r\n                    &quot;items&quot;: {\r\n                        &quot;type&quot;: &quot;string&quot;\r\n                    },\r\n                    &quot;type&quot;: &quot;array&quot;\r\n                },\r\n                &quot;cwes&quot;: {\r\n                    &quot;description&quot;: &quot;The collection of Common Weakness Enumeration (CWE) identifiers that characterize the vulnerability.&quot;,\r\n                    &quot;items&quot;: {\r\n                        &quot;$ref&quot;: &quot;#/definitions/CWE&quot;\r\n                    },\r\n                    &quot;type&quot;: &quot;array&quot;\r\n                },\r\n                &quot;references&quot;: {\r\n                    &quot;description&quot;: &quot;External URLs related to the vulnerability, such as issue trackers, mailing list discussions, commits, or patches.&quot;,\r\n                    &quot;items&quot;: {\r\n                        &quot;$ref&quot;: &quot;#/definitions/Reference&quot;\r\n                    },\r\n                    &quot;type&quot;: &quot;array&quot;\r\n                },\r\n                &quot;impact&quot;: {\r\n                    &quot;description&quot;: &quot;What impact this vulnerability has&quot;,\r\n                    &quot;$ref&quot;: &quot;#/definitions/Impact&quot;\r\n                }\r\n            },\r\n            &quot;type&quot;: &quot;object&quot;\r\n        },\r\n        &quot;Impact&quot;: {\r\n            &quot;properties&quot;: {\r\n                &quot;metricV3&quot;: {\r\n                    &quot;$ref&quot;: &quot;#/definitions/ImpactMetricV3&quot;\r\n                },\r\n                &quot;metricV2&quot;: {\r\n                    &quot;$ref&quot;: &quot;#/definitions/ImpactMetricV2&quot;\r\n                },\r\n                &quot;*&quot;: {\r\n                    &quot;type&quot;: &quot;object&quot;\r\n                }\r\n            },\r\n            &quot;type&quot;: &quot;object&quot;\r\n        },\r\n        &quot;ImpactMetricV3&quot;: {\r\n            &quot;properties&quot;: {\r\n                &quot;cvssV3&quot;: {\r\n                    &quot;$ref&quot;: &quot;#/definitions/CVSSv3&quot;\r\n                },\r\n                &quot;exploitabilityScore&quot;: {\r\n                    &quot;type&quot;: &quot;number&quot;\r\n                },\r\n                &quot;impactScore&quot;: {\r\n                    &quot;type&quot;: &quot;number&quot;\r\n                }\r\n            }\r\n        },\r\n        &quot;CVSSv3&quot;: {\r\n            &quot;required&quot;: [\r\n                &quot;version&quot;,\r\n                &quot;vectorString&quot;,\r\n                &quot;baseScore&quot;,\r\n                &quot;baseSeverity&quot;\r\n            ],\r\n            &quot;properties&quot;: {\r\n                &quot;version&quot;: {\r\n                    &quot;type&quot;: &quot;string&quot;\r\n                },\r\n                &quot;vectorString&quot;: {\r\n                    &quot;type&quot;: &quot;string&quot;\r\n                },\r\n                &quot;attackVector&quot;: {\r\n                    &quot;type&quot;: &quot;string&quot;\r\n                },\r\n                &quot;attackComplexity&quot;: {\r\n                    &quot;type&quot;: &quot;string&quot;\r\n                },\r\n                &quot;privilegesRequired&quot;: {\r\n                    &quot;type&quot;: &quot;string&quot;\r\n                },\r\n                &quot;userInteraction&quot;: {\r\n                    &quot;type&quot;: &quot;string&quot;\r\n                },\r\n                &quot;scope&quot;: {\r\n                    &quot;type&quot;: &quot;string&quot;\r\n                },\r\n                &quot;confidentialityImpact&quot;: {\r\n                    &quot;type&quot;: &quot;string&quot;\r\n                },\r\n                &quot;integrityImpact&quot;: {\r\n                    &quot;type&quot;: &quot;string&quot;\r\n                },\r\n                &quot;availabilityImpact&quot;: {\r\n                    &quot;type&quot;: &quot;string&quot;\r\n                },\r\n                &quot;baseScore&quot;: {\r\n                    &quot;type&quot;: &quot;number&quot;\r\n                },\r\n                &quot;baseSeverity&quot;: {\r\n                    &quot;type&quot;: &quot;string&quot;\r\n                },\r\n                &quot;exploitCodeMaturity&quot;: {\r\n                    &quot;type&quot;: &quot;string&quot;\r\n                },\r\n                &quot;remediationLevel&quot;: {\r\n                    &quot;type&quot;: &quot;string&quot;\r\n                },\r\n                &quot;reportConfidence&quot;: {\r\n                    &quot;type&quot;: &quot;string&quot;\r\n                },\r\n                &quot;temporalScore&quot;: {\r\n                    &quot;type&quot;: &quot;number&quot;\r\n                },\r\n                &quot;temporalSeverity&quot;: {\r\n                    &quot;type&quot;: &quot;string&quot;\r\n                },\r\n                &quot;confidentialityRequirement&quot;: {\r\n                    &quot;type&quot;: &quot;string&quot;\r\n                },\r\n                &quot;integrityRequirement&quot;: {\r\n                    &quot;type&quot;: &quot;string&quot;\r\n                },\r\n                &quot;availabilityRequirement&quot;: {\r\n                    &quot;type&quot;: &quot;string&quot;\r\n                },\r\n                &quot;modifiedAttackVector&quot;: {\r\n                    &quot;type&quot;: &quot;string&quot;\r\n                },\r\n                &quot;modifiedAttackComplexity&quot;: {\r\n                    &quot;type&quot;: &quot;string&quot;\r\n                },\r\n                &quot;modifiedPrivilegesRequired&quot;: {\r\n                    &quot;type&quot;: &quot;string&quot;\r\n                },\r\n                &quot;modifiedUserInteraction&quot;: {\r\n                    &quot;type&quot;: &quot;string&quot;\r\n                },\r\n                &quot;modifiedScope&quot;: {\r\n                    &quot;type&quot;: &quot;string&quot;\r\n                },\r\n                &quot;modifiedConfidentialityImpact&quot;: {\r\n                    &quot;type&quot;: &quot;string&quot;\r\n                },\r\n                &quot;modifiedIntegrityImpact&quot;: {\r\n                    &quot;type&quot;: &quot;string&quot;\r\n                },\r\n                &quot;modifiedAvailabilityImpact&quot;: {\r\n                    &quot;type&quot;: &quot;string&quot;\r\n                },\r\n                &quot;environmentalScore&quot;: {\r\n                    &quot;type&quot;: &quot;number&quot;\r\n                },\r\n                &quot;environmentalSeverity&quot;: {\r\n                    &quot;type&quot;: &quot;string&quot;\r\n                }\r\n            },\r\n            &quot;type&quot;: &quot;object&quot;\r\n        },\r\n        &quot;ImpactMetricV2&quot;: {\r\n            &quot;required&quot;: [\r\n                &quot;cvssV2&quot;,\r\n                &quot;severity&quot;,\r\n                &quot;exploitabilityScore&quot;,\r\n                &quot;impactScore&quot;,\r\n                &quot;obtainAllPrivilege&quot;,\r\n                &quot;obtainUserPrivilege&quot;,\r\n                &quot;obtainOtherPrivilege&quot;,\r\n                &quot;userInteractionRequired&quot;\r\n            ],\r\n            &quot;properties&quot;: {\r\n                &quot;cvssV2&quot;: {\r\n                &quot;$ref&quot;: &quot;#/definitions/CVSSv2&quot;\r\n                },\r\n                &quot;severity&quot;: {\r\n                &quot;type&quot;: &quot;string&quot;\r\n                },\r\n                &quot;exploitabilityScore&quot;: {\r\n                &quot;type&quot;: &quot;number&quot;\r\n                },\r\n                &quot;impactScore&quot;: {\r\n                &quot;type&quot;: &quot;number&quot;\r\n                },\r\n                &quot;acInsufInfo&quot;: {\r\n                &quot;type&quot;: &quot;boolean&quot;\r\n                },\r\n                &quot;obtainAllPrivilege&quot;: {\r\n                &quot;type&quot;: &quot;boolean&quot;\r\n                },\r\n                &quot;obtainUserPrivilege&quot;: {\r\n                &quot;type&quot;: &quot;boolean&quot;\r\n                },\r\n                &quot;obtainOtherPrivilege&quot;: {\r\n                &quot;type&quot;: &quot;boolean&quot;\r\n                },\r\n                &quot;userInteractionRequired&quot;: {\r\n                &quot;type&quot;: &quot;boolean&quot;\r\n                }\r\n            },\r\n            &quot;type&quot;: &quot;object&quot;\r\n        },\r\n        &quot;CVSSv2&quot;: {\r\n            &quot;required&quot;: [\r\n                &quot;version&quot;,\r\n                &quot;vectorString&quot;,\r\n                &quot;baseScore&quot;\r\n            ],\r\n            &quot;properties&quot;: {\r\n                &quot;version&quot;: {\r\n                    &quot;type&quot;: &quot;string&quot;\r\n                },\r\n                &quot;vectorString&quot;: {\r\n                    &quot;type&quot;: &quot;string&quot;\r\n                },\r\n                &quot;accessVector&quot;: {\r\n                    &quot;type&quot;: &quot;string&quot;\r\n                },\r\n                &quot;accessComplexity&quot;: {\r\n                    &quot;type&quot;: &quot;string&quot;\r\n                },\r\n                &quot;authentication&quot;: {\r\n                    &quot;type&quot;: &quot;string&quot;\r\n                },\r\n                &quot;confidentialityImpact&quot;: {\r\n                    &quot;type&quot;: &quot;string&quot;\r\n                },\r\n                &quot;integrityImpact&quot;: {\r\n                    &quot;type&quot;: &quot;string&quot;\r\n                },\r\n                &quot;availabilityImpact&quot;: {\r\n                    &quot;type&quot;: &quot;string&quot;\r\n                },\r\n                &quot;baseScore&quot;: {\r\n                    &quot;type&quot;: &quot;number&quot;\r\n                },\r\n                &quot;exploitability&quot;: {\r\n                    &quot;type&quot;: &quot;string&quot;\r\n                },\r\n                &quot;remediationLevel&quot;: {\r\n                    &quot;type&quot;: &quot;string&quot;\r\n                },\r\n                &quot;reportConfidence&quot;: {\r\n                    &quot;type&quot;: &quot;string&quot;\r\n                },\r\n                &quot;temporalScore&quot;: {\r\n                    &quot;type&quot;: &quot;number&quot;\r\n                },\r\n                &quot;collateralDamagePotential&quot;: {\r\n                    &quot;type&quot;: &quot;string&quot;\r\n                },\r\n                &quot;targetDistribution&quot;: {\r\n                    &quot;type&quot;: &quot;string&quot;\r\n                },\r\n                &quot;confidentialityRequirement&quot;: {\r\n                    &quot;type&quot;: &quot;string&quot;\r\n                },\r\n                &quot;integrityRequirement&quot;: {\r\n                    &quot;type&quot;: &quot;string&quot;\r\n                },\r\n                &quot;availabilityRequirement&quot;: {\r\n                    &quot;type&quot;: &quot;string&quot;\r\n                },\r\n                &quot;environmentalScore&quot;: {\r\n                    &quot;type&quot;: &quot;number&quot;\r\n                }\r\n            },\r\n            &quot;type&quot;: &quot;object&quot;\r\n        },\r\n        &quot;CWE&quot;: {\r\n            &quot;required&quot;: [\r\n                &quot;name&quot;\r\n            ],\r\n            &quot;properties&quot;: {\r\n                &quot;name&quot;: {\r\n                    &quot;type&quot;: &quot;string&quot;\r\n                },\r\n                &quot;description&quot;: {\r\n                    &quot;type&quot;: &quot;string&quot;\r\n                }\r\n            },\r\n            &quot;type&quot;: &quot;object&quot;\r\n        },\r\n        &quot;Reference&quot;: {\r\n            &quot;required&quot;: [\r\n                &quot;url&quot;\r\n            ],\r\n            &quot;properties&quot;: {\r\n                &quot;name&quot;: {\r\n                    &quot;type&quot;: &quot;string&quot;\r\n                },\r\n                &quot;url&quot;: {\r\n                    &quot;type&quot;: &quot;string&quot;\r\n                },\r\n                &quot;tags&quot;: {\r\n                    &quot;items&quot;: {\r\n                        &quot;type&quot;: &quot;string&quot;\r\n                    },\r\n                    &quot;type&quot;: &quot;array&quot;\r\n                }\r\n            },\r\n            &quot;type&quot;: &quot;object&quot;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI am trying to use the jsonschema2pojo as under. \r\n```\r\n   &lt;plugin&gt;\r\n                &lt;groupId&gt;org.jsonschema2pojo&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jsonschema2pojo-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.4.34&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;sourceDirectory&gt;${basedir}/src/main/resources/schema&lt;/sourceDirectory&gt;\r\n                    &lt;targetPackage&gt;com.test.gen&lt;/targetPackage&gt;\r\n                    &lt;useCommonsLang3&gt;true&lt;/useCommonsLang3&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;generate&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n```\r\n\r\nFor some reason I get the following error when i use mvn generate-sources\r\n\r\n[ERROR] Failed to execute goal org.jsonschema2pojo:jsonschema2pojo-maven-plugin:1.1.1:generate (default) on project hsk: Execution default of goal org.jsonschema2pojo:jsonschema2pojo-maven-plugin:1.1.1:generate failed: String index out of range: 0 -&gt; [Help 1]\r\n\r\nAny help is highly appreciated\r\n\r\nRegards,\r\n","title":"how to generate classes out of the json schema","body":"<p>I have a json schema from which I need to generate java classes</p>\n<pre><code>{\n    &quot;$schema&quot;: &quot;http://json-schema.org/draft-07/schema#&quot;,\n    &quot;$id&quot;: &quot;https://schema.softsense.io/analysis/vulnerabilities/v1alpha1/vulnerabilities.json&quot;,\n    &quot;title&quot;: &quot;Vulnerabilities&quot;,\n    &quot;description&quot;: &quot;SoftSense Vulnerabilities analysis schema v1alpha3&quot;,\n    \n    &quot;type&quot;: &quot;object&quot;,\n    &quot;allOf&quot;: [ { &quot;$ref&quot;: &quot;https://schema.softsense.io/analysis/v1alpha3/base.json&quot; } ],\n    &quot;properties&quot;: {\n        &quot;vulnerabilities&quot;: {\n            &quot;items&quot;: {\n                &quot;$ref&quot;: &quot;#/definitions/Vulnerability&quot;\n            },\n            &quot;type&quot;: &quot;array&quot;\n        }\n    },\n    &quot;oneOf&quot;: [{ &quot;required&quot;: [&quot;vulnerabilities&quot;] }, { &quot;required&quot;: [&quot;error&quot;] }],\n    &quot;definitions&quot;: {\n        &quot;Vulnerability&quot;: {\n            &quot;required&quot;: [\n                &quot;id&quot;,\n                &quot;description&quot;,\n                &quot;sources&quot;\n            ],\n            &quot;properties&quot;: {\n                &quot;id&quot;: {\n                    &quot;description&quot;: &quot;Identifier for the vulnerability, such as a CVE identifier (CVE-2021-12345).&quot;,\n                    &quot;type&quot;: &quot;string&quot;\n                },\n                &quot;published&quot;: {\n                    &quot;description&quot;: &quot;UTC time when the vulnerability was published&quot;,\n                    &quot;type&quot;: &quot;string&quot;,\n                    &quot;format&quot;: &quot;date-time&quot;\n                },\n                &quot;updated&quot;: {\n                    &quot;description&quot;: &quot;UTC time when the vulnerability was updated&quot;,\n                    &quot;type&quot;: &quot;string&quot;,\n                    &quot;format&quot;: &quot;date-time&quot;\n                },\n                &quot;description&quot;: {\n                    &quot;description&quot;: &quot;Description of the vulnerability&quot;,\n                    &quot;type&quot;: &quot;string&quot;\n                },\n                &quot;sources&quot;: {\n                    &quot;description&quot;: &quot;The collection of backing vulnerability sources that listed this vulnerability for the software component&quot;,\n                    &quot;items&quot;: {\n                        &quot;type&quot;: &quot;string&quot;\n                    },\n                    &quot;type&quot;: &quot;array&quot;\n                },\n                &quot;cwes&quot;: {\n                    &quot;description&quot;: &quot;The collection of Common Weakness Enumeration (CWE) identifiers that characterize the vulnerability.&quot;,\n                    &quot;items&quot;: {\n                        &quot;$ref&quot;: &quot;#/definitions/CWE&quot;\n                    },\n                    &quot;type&quot;: &quot;array&quot;\n                },\n                &quot;references&quot;: {\n                    &quot;description&quot;: &quot;External URLs related to the vulnerability, such as issue trackers, mailing list discussions, commits, or patches.&quot;,\n                    &quot;items&quot;: {\n                        &quot;$ref&quot;: &quot;#/definitions/Reference&quot;\n                    },\n                    &quot;type&quot;: &quot;array&quot;\n                },\n                &quot;impact&quot;: {\n                    &quot;description&quot;: &quot;What impact this vulnerability has&quot;,\n                    &quot;$ref&quot;: &quot;#/definitions/Impact&quot;\n                }\n            },\n            &quot;type&quot;: &quot;object&quot;\n        },\n        &quot;Impact&quot;: {\n            &quot;properties&quot;: {\n                &quot;metricV3&quot;: {\n                    &quot;$ref&quot;: &quot;#/definitions/ImpactMetricV3&quot;\n                },\n                &quot;metricV2&quot;: {\n                    &quot;$ref&quot;: &quot;#/definitions/ImpactMetricV2&quot;\n                },\n                &quot;*&quot;: {\n                    &quot;type&quot;: &quot;object&quot;\n                }\n            },\n            &quot;type&quot;: &quot;object&quot;\n        },\n        &quot;ImpactMetricV3&quot;: {\n            &quot;properties&quot;: {\n                &quot;cvssV3&quot;: {\n                    &quot;$ref&quot;: &quot;#/definitions/CVSSv3&quot;\n                },\n                &quot;exploitabilityScore&quot;: {\n                    &quot;type&quot;: &quot;number&quot;\n                },\n                &quot;impactScore&quot;: {\n                    &quot;type&quot;: &quot;number&quot;\n                }\n            }\n        },\n        &quot;CVSSv3&quot;: {\n            &quot;required&quot;: [\n                &quot;version&quot;,\n                &quot;vectorString&quot;,\n                &quot;baseScore&quot;,\n                &quot;baseSeverity&quot;\n            ],\n            &quot;properties&quot;: {\n                &quot;version&quot;: {\n                    &quot;type&quot;: &quot;string&quot;\n                },\n                &quot;vectorString&quot;: {\n                    &quot;type&quot;: &quot;string&quot;\n                },\n                &quot;attackVector&quot;: {\n                    &quot;type&quot;: &quot;string&quot;\n                },\n                &quot;attackComplexity&quot;: {\n                    &quot;type&quot;: &quot;string&quot;\n                },\n                &quot;privilegesRequired&quot;: {\n                    &quot;type&quot;: &quot;string&quot;\n                },\n                &quot;userInteraction&quot;: {\n                    &quot;type&quot;: &quot;string&quot;\n                },\n                &quot;scope&quot;: {\n                    &quot;type&quot;: &quot;string&quot;\n                },\n                &quot;confidentialityImpact&quot;: {\n                    &quot;type&quot;: &quot;string&quot;\n                },\n                &quot;integrityImpact&quot;: {\n                    &quot;type&quot;: &quot;string&quot;\n                },\n                &quot;availabilityImpact&quot;: {\n                    &quot;type&quot;: &quot;string&quot;\n                },\n                &quot;baseScore&quot;: {\n                    &quot;type&quot;: &quot;number&quot;\n                },\n                &quot;baseSeverity&quot;: {\n                    &quot;type&quot;: &quot;string&quot;\n                },\n                &quot;exploitCodeMaturity&quot;: {\n                    &quot;type&quot;: &quot;string&quot;\n                },\n                &quot;remediationLevel&quot;: {\n                    &quot;type&quot;: &quot;string&quot;\n                },\n                &quot;reportConfidence&quot;: {\n                    &quot;type&quot;: &quot;string&quot;\n                },\n                &quot;temporalScore&quot;: {\n                    &quot;type&quot;: &quot;number&quot;\n                },\n                &quot;temporalSeverity&quot;: {\n                    &quot;type&quot;: &quot;string&quot;\n                },\n                &quot;confidentialityRequirement&quot;: {\n                    &quot;type&quot;: &quot;string&quot;\n                },\n                &quot;integrityRequirement&quot;: {\n                    &quot;type&quot;: &quot;string&quot;\n                },\n                &quot;availabilityRequirement&quot;: {\n                    &quot;type&quot;: &quot;string&quot;\n                },\n                &quot;modifiedAttackVector&quot;: {\n                    &quot;type&quot;: &quot;string&quot;\n                },\n                &quot;modifiedAttackComplexity&quot;: {\n                    &quot;type&quot;: &quot;string&quot;\n                },\n                &quot;modifiedPrivilegesRequired&quot;: {\n                    &quot;type&quot;: &quot;string&quot;\n                },\n                &quot;modifiedUserInteraction&quot;: {\n                    &quot;type&quot;: &quot;string&quot;\n                },\n                &quot;modifiedScope&quot;: {\n                    &quot;type&quot;: &quot;string&quot;\n                },\n                &quot;modifiedConfidentialityImpact&quot;: {\n                    &quot;type&quot;: &quot;string&quot;\n                },\n                &quot;modifiedIntegrityImpact&quot;: {\n                    &quot;type&quot;: &quot;string&quot;\n                },\n                &quot;modifiedAvailabilityImpact&quot;: {\n                    &quot;type&quot;: &quot;string&quot;\n                },\n                &quot;environmentalScore&quot;: {\n                    &quot;type&quot;: &quot;number&quot;\n                },\n                &quot;environmentalSeverity&quot;: {\n                    &quot;type&quot;: &quot;string&quot;\n                }\n            },\n            &quot;type&quot;: &quot;object&quot;\n        },\n        &quot;ImpactMetricV2&quot;: {\n            &quot;required&quot;: [\n                &quot;cvssV2&quot;,\n                &quot;severity&quot;,\n                &quot;exploitabilityScore&quot;,\n                &quot;impactScore&quot;,\n                &quot;obtainAllPrivilege&quot;,\n                &quot;obtainUserPrivilege&quot;,\n                &quot;obtainOtherPrivilege&quot;,\n                &quot;userInteractionRequired&quot;\n            ],\n            &quot;properties&quot;: {\n                &quot;cvssV2&quot;: {\n                &quot;$ref&quot;: &quot;#/definitions/CVSSv2&quot;\n                },\n                &quot;severity&quot;: {\n                &quot;type&quot;: &quot;string&quot;\n                },\n                &quot;exploitabilityScore&quot;: {\n                &quot;type&quot;: &quot;number&quot;\n                },\n                &quot;impactScore&quot;: {\n                &quot;type&quot;: &quot;number&quot;\n                },\n                &quot;acInsufInfo&quot;: {\n                &quot;type&quot;: &quot;boolean&quot;\n                },\n                &quot;obtainAllPrivilege&quot;: {\n                &quot;type&quot;: &quot;boolean&quot;\n                },\n                &quot;obtainUserPrivilege&quot;: {\n                &quot;type&quot;: &quot;boolean&quot;\n                },\n                &quot;obtainOtherPrivilege&quot;: {\n                &quot;type&quot;: &quot;boolean&quot;\n                },\n                &quot;userInteractionRequired&quot;: {\n                &quot;type&quot;: &quot;boolean&quot;\n                }\n            },\n            &quot;type&quot;: &quot;object&quot;\n        },\n        &quot;CVSSv2&quot;: {\n            &quot;required&quot;: [\n                &quot;version&quot;,\n                &quot;vectorString&quot;,\n                &quot;baseScore&quot;\n            ],\n            &quot;properties&quot;: {\n                &quot;version&quot;: {\n                    &quot;type&quot;: &quot;string&quot;\n                },\n                &quot;vectorString&quot;: {\n                    &quot;type&quot;: &quot;string&quot;\n                },\n                &quot;accessVector&quot;: {\n                    &quot;type&quot;: &quot;string&quot;\n                },\n                &quot;accessComplexity&quot;: {\n                    &quot;type&quot;: &quot;string&quot;\n                },\n                &quot;authentication&quot;: {\n                    &quot;type&quot;: &quot;string&quot;\n                },\n                &quot;confidentialityImpact&quot;: {\n                    &quot;type&quot;: &quot;string&quot;\n                },\n                &quot;integrityImpact&quot;: {\n                    &quot;type&quot;: &quot;string&quot;\n                },\n                &quot;availabilityImpact&quot;: {\n                    &quot;type&quot;: &quot;string&quot;\n                },\n                &quot;baseScore&quot;: {\n                    &quot;type&quot;: &quot;number&quot;\n                },\n                &quot;exploitability&quot;: {\n                    &quot;type&quot;: &quot;string&quot;\n                },\n                &quot;remediationLevel&quot;: {\n                    &quot;type&quot;: &quot;string&quot;\n                },\n                &quot;reportConfidence&quot;: {\n                    &quot;type&quot;: &quot;string&quot;\n                },\n                &quot;temporalScore&quot;: {\n                    &quot;type&quot;: &quot;number&quot;\n                },\n                &quot;collateralDamagePotential&quot;: {\n                    &quot;type&quot;: &quot;string&quot;\n                },\n                &quot;targetDistribution&quot;: {\n                    &quot;type&quot;: &quot;string&quot;\n                },\n                &quot;confidentialityRequirement&quot;: {\n                    &quot;type&quot;: &quot;string&quot;\n                },\n                &quot;integrityRequirement&quot;: {\n                    &quot;type&quot;: &quot;string&quot;\n                },\n                &quot;availabilityRequirement&quot;: {\n                    &quot;type&quot;: &quot;string&quot;\n                },\n                &quot;environmentalScore&quot;: {\n                    &quot;type&quot;: &quot;number&quot;\n                }\n            },\n            &quot;type&quot;: &quot;object&quot;\n        },\n        &quot;CWE&quot;: {\n            &quot;required&quot;: [\n                &quot;name&quot;\n            ],\n            &quot;properties&quot;: {\n                &quot;name&quot;: {\n                    &quot;type&quot;: &quot;string&quot;\n                },\n                &quot;description&quot;: {\n                    &quot;type&quot;: &quot;string&quot;\n                }\n            },\n            &quot;type&quot;: &quot;object&quot;\n        },\n        &quot;Reference&quot;: {\n            &quot;required&quot;: [\n                &quot;url&quot;\n            ],\n            &quot;properties&quot;: {\n                &quot;name&quot;: {\n                    &quot;type&quot;: &quot;string&quot;\n                },\n                &quot;url&quot;: {\n                    &quot;type&quot;: &quot;string&quot;\n                },\n                &quot;tags&quot;: {\n                    &quot;items&quot;: {\n                        &quot;type&quot;: &quot;string&quot;\n                    },\n                    &quot;type&quot;: &quot;array&quot;\n                }\n            },\n            &quot;type&quot;: &quot;object&quot;\n        }\n    }\n}\n</code></pre>\n<p>I am trying to use the jsonschema2pojo as under.</p>\n<pre><code>   &lt;plugin&gt;\n                &lt;groupId&gt;org.jsonschema2pojo&lt;/groupId&gt;\n                &lt;artifactId&gt;jsonschema2pojo-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.4.34&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;sourceDirectory&gt;${basedir}/src/main/resources/schema&lt;/sourceDirectory&gt;\n                    &lt;targetPackage&gt;com.test.gen&lt;/targetPackage&gt;\n                    &lt;useCommonsLang3&gt;true&lt;/useCommonsLang3&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;generate&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>For some reason I get the following error when i use mvn generate-sources</p>\n<p>[ERROR] Failed to execute goal org.jsonschema2pojo:jsonschema2pojo-maven-plugin:1.1.1:generate (default) on project hsk: Execution default of goal org.jsonschema2pojo:jsonschema2pojo-maven-plugin:1.1.1:generate failed: String index out of range: 0 -&gt; [Help 1]</p>\n<p>Any help is highly appreciated</p>\n<p>Regards,</p>\n"},{"tags":["java","spring","scheduled-tasks"],"answers":[{"tags":[],"owner":{"account_id":3084600,"reputation":5860,"user_id":2612030,"display_name":"ewramner"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1552059495,"creation_date":1552059495,"answer_id":55066466,"question_id":55066218,"body_markdown":"If the task is not accepted you should get a [TaskRejectedException][1] that you can handle. If the task is accepted it should eventually run. If you schedule tasks far off in the future and keep adding more tasks or if the system is overloaded and can&#39;t process the tasks fast enough of course you can run out of memory eventually. However, a task is not likely to consume that much memory, so in that case you will probably have other more urgent problems first!\r\n\r\n  [1]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/core/task/TaskRejectedException.html","title":"What happens to failed queued tasks in Spring?","body":"<p>If the task is not accepted you should get a <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/core/task/TaskRejectedException.html\" rel=\"nofollow noreferrer\">TaskRejectedException</a> that you can handle. If the task is accepted it should eventually run. If you schedule tasks far off in the future and keep adding more tasks or if the system is overloaded and can't process the tasks fast enough of course you can run out of memory eventually. However, a task is not likely to consume that much memory, so in that case you will probably have other more urgent problems first!</p>\n"}],"owner":{"account_id":13532298,"reputation":43,"user_id":10474511,"display_name":"Carolina Ponce"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":618,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684874238,"creation_date":1552058511,"question_id":55066218,"body_markdown":"I have a process that when receives a request through REST made by another process it schedules jobs. Each time it&#39;s called, it schedules a new job.\r\n\r\nWhat happens if for some reason a job can&#39;t be executed? The next time it has to be executed, but if it never happens? Could tasks be queued and then make me have a problem with memory?","title":"What happens to failed queued tasks in Spring?","body":"<p>I have a process that when receives a request through REST made by another process it schedules jobs. Each time it's called, it schedules a new job.</p>\n<p>What happens if for some reason a job can't be executed? The next time it has to be executed, but if it never happens? Could tasks be queued and then make me have a problem with memory?</p>\n"},{"tags":["java","enums","constants"],"comments":[{"owner":{"account_id":2734255,"reputation":561,"user_id":2384806,"display_name":"mdoflaz"},"score":0,"creation_date":1656493144,"post_id":72798556,"comment_id":128583756,"body_markdown":"Duplicate of: https://stackoverflow.com/questions/4197988/java-enum-valueof-with-multiple-values \nYou can ref to this answer: https://stackoverflow.com/a/4198066/2384806","body":"Duplicate of: <a href=\"https://stackoverflow.com/questions/4197988/java-enum-valueof-with-multiple-values\" title=\"java enum valueof with multiple values\">stackoverflow.com/questions/4197988/&hellip;</a>  You can ref to this answer: <a href=\"https://stackoverflow.com/a/4198066/2384806\">stackoverflow.com/a/4198066/2384806</a>"},{"owner":{"account_id":25674532,"reputation":1,"user_id":19438198,"display_name":"Bilva"},"score":0,"creation_date":1656493453,"post_id":72798556,"comment_id":128583874,"body_markdown":"Yes, It does answer. Thank you!","body":"Yes, It does answer. Thank you!"}],"owner":{"account_id":25674532,"reputation":1,"user_id":19438198,"display_name":"Bilva"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1656493471,"answer_count":0,"score":0,"last_activity_date":1684873980,"creation_date":1656492958,"question_id":72798556,"body_markdown":"I am struggling to have a proper implementation in java when it is required to have a set of constants values in String and those strings have the values again in integer/String.\r\nfor example, \r\n\r\n 1. small-diesel-car : 142g \r\n 2. small-petrol-car : 154g\r\n 3. small-plugin-hybrid-car : 73g \r\n 4. small-electric-car : 50g\r\n\r\nSo, I have defined those Strings literals in Constants.java like:\r\n\r\n`public static final String SMALL_DIESEL_CAR = &quot;small-diesel-car&quot;;`\r\n\r\nBut now &quot;small-diesel-car&quot; should have a value of 142.\r\n\r\nMy question is: How should I be handling this scenario using constants and enum classes or anything else?\r\n","title":"how to define constants or enum in java when a value has a value to store","body":"<p>I am struggling to have a proper implementation in java when it is required to have a set of constants values in String and those strings have the values again in integer/String.\nfor example,</p>\n<ol>\n<li>small-diesel-car : 142g</li>\n<li>small-petrol-car : 154g</li>\n<li>small-plugin-hybrid-car : 73g</li>\n<li>small-electric-car : 50g</li>\n</ol>\n<p>So, I have defined those Strings literals in Constants.java like:</p>\n<p><code>public static final String SMALL_DIESEL_CAR = &quot;small-diesel-car&quot;;</code></p>\n<p>But now &quot;small-diesel-car&quot; should have a value of 142.</p>\n<p>My question is: How should I be handling this scenario using constants and enum classes or anything else?</p>\n"},{"tags":["java","maven-plugin","maven-surefire-plugin","serenity-bdd","maven-failsafe-plugin"],"comments":[{"owner":{"display_name":"user10639668"},"score":0,"creation_date":1543934610,"post_id":53615326,"comment_id":94091462,"body_markdown":"Can you post the pom.xml?","body":"Can you post the pom.xml?"},{"owner":{"account_id":10271400,"reputation":1,"user_id":7579644,"display_name":"Amit Rai"},"score":0,"creation_date":1543995979,"post_id":53615326,"comment_id":94114626,"body_markdown":"@EugenCovaci Could you please see above in the post ,I have already provided the pom.xml..","body":"@EugenCovaci Could you please see above in the post ,I have already provided the pom.xml.."},{"owner":{"display_name":"user10639668"},"score":0,"creation_date":1543996583,"post_id":53615326,"comment_id":94114908,"body_markdown":"If &quot;cmd.exe is restricted&quot; how can you run any Maven command?","body":"If &quot;cmd.exe is restricted&quot; how can you run any Maven command?"},{"owner":{"account_id":10271400,"reputation":1,"user_id":7579644,"display_name":"Amit Rai"},"score":0,"creation_date":1543998245,"post_id":53615326,"comment_id":94115631,"body_markdown":"@EugenCovaci  we use eclipse and m2e plugin for that..","body":"@EugenCovaci  we use eclipse and m2e plugin for that.."},{"owner":{"account_id":2006972,"reputation":43182,"user_id":1796579,"display_name":"Henry"},"score":0,"creation_date":1543998695,"post_id":53615326,"comment_id":94115861,"body_markdown":"It seems to me you won&#39;t be able to do any serious development work on this machine. (I can&#39;t live without the command line).","body":"It seems to me you won&#39;t be able to do any serious development work on this machine. (I can&#39;t live without the command line)."}],"answers":[{"tags":[],"owner":{"account_id":5351771,"reputation":147,"user_id":4265722,"display_name":"Omprakash Gautam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684873677,"creation_date":1684842186,"answer_id":76314372,"question_id":53615326,"body_markdown":"Try setting the `forkCount` to `0`\r\n","title":"Surefire plugin fails forking as CMD.exe is restrcited in my system","body":"<p>Try setting the <code>forkCount</code> to <code>0</code></p>\n"}],"owner":{"account_id":10271400,"reputation":1,"user_id":7579644,"display_name":"Amit Rai"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":472,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684873677,"creation_date":1543934294,"question_id":53615326,"body_markdown":"I am using maven-fail-safe plugin and maven-surefire-plugin to run my tests.\r\nbut surefire plugin calls cmd.exe for forking command line and fails to execute the goals as cmd.exe is restricted to use in my organization.\r\n## Errors from Eclipse  console ## \r\n### The forked VM terminated without properly saying goodbye. VM crash or System.exit called? ###\r\n\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-failsafe- \r\n    plugin:2.18.1:integration-test (default) on project bdd-test: Execution \r\n    default of goal org.apache.maven.plugins:maven-failsafe- \r\n    plugin:2.18.1:integration-test failed: The forked VM terminated without \r\n    properly saying goodbye. VM crash or System.exit called?\r\n    [ERROR] Command was cmd.exe /X /C &quot;&quot;C:\\Program \r\n    Files\\Java\\jre1.8.0_151\\bin\\java&quot; -Xmx512m -jar C:\\Users\\ar11495\\Serenity- \r\n    workspace\\bdd-test\\target\\surefire\\surefirebooter3944168471238729169.jar \r\n    C:\\Users\\ar11495\\Serenity-workspace\\bdd- \r\n    test\\target\\surefire\\surefire3290184423596544348tmp \r\n    C:\\Users\\ar11495\\Serenity-workspace\\bdd- \r\n    test\\target\\surefire\\surefire_0917807971278197542tmp&quot;\r\n\r\n### below is my pom.xml ###\r\n\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;groupId&gt;firstSerenity&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;bdd-test&lt;/artifactId&gt;\r\n    \t&lt;version&gt;1.0&lt;/version&gt;\r\n    \t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n    \t&lt;name&gt;Sample Serenity project using JBehave and WebDriver&lt;/name&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;serenity.version&gt;1.8.21&lt;/serenity.version&gt;\r\n    \t\t&lt;serenity.jbehave.version&gt;1.34.0&lt;/serenity.jbehave.version&gt;\r\n    \t\t&lt;webdriver.driver&gt;firefox&lt;/webdriver.driver&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;repositories&gt;\r\n    \t\t&lt;repository&gt;\r\n    \t\t\t&lt;snapshots&gt;\r\n    \t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n    \t\t\t&lt;/snapshots&gt;\r\n    \t\t\t&lt;id&gt;central&lt;/id&gt;\r\n    \t\t\t&lt;name&gt;bintray&lt;/name&gt;\r\n    \t\t\t&lt;url&gt;http://jcenter.bintray.com&lt;/url&gt;\r\n    \t\t&lt;/repository&gt;\r\n    \t&lt;/repositories&gt;\r\n    \t&lt;pluginRepositories&gt;\r\n    \t\t&lt;pluginRepository&gt;\r\n    \t\t\t&lt;snapshots&gt;\r\n    \t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n    \t\t\t&lt;/snapshots&gt;\r\n    \t\t\t&lt;id&gt;central&lt;/id&gt;\r\n    \t\t\t&lt;name&gt;bintray-plugins&lt;/name&gt;\r\n    \t\t\t&lt;url&gt;http://jcenter.bintray.com&lt;/url&gt;\r\n    \t\t&lt;/pluginRepository&gt;\r\n    \t&lt;/pluginRepositories&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\r\n    \t\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n        &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n        &lt;version&gt;2.53.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \t\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;serenity-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${serenity.version}&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;serenity-jbehave&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${serenity.jbehave.version}&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.7.7&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\r\n    \t\t\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n        &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n        &lt;version&gt;3.17&lt;/version&gt;\r\n    &lt;/dependency&gt; \r\n    \t\t\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.12&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t&lt;/dependencies&gt;\r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;2.22.0&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;skip&gt;true&lt;/skip&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;2.22.0&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\r\n    \t\t\t\t\t&lt;includes&gt;\r\n    \t\t\t\t\t\t&lt;include&gt;**/*Test.java&lt;/include&gt;\r\n    \t\t\t\t\t\t&lt;include&gt;**/*TestSuite.java&lt;/include&gt;\r\n    \t\t\t\t\t\t&lt;include&gt;**/Test*.java&lt;/include&gt;\r\n    \t\t\t\t\t\t&lt;include&gt;**/When*.java&lt;/include&gt;\r\n    \t\t\t\t\t&lt;/includes&gt;\r\n    \t\t\t\t\t&lt;argLine&gt;-Xmx512m&lt;/argLine&gt;\r\n    \t\t\t\t\t&lt;systemPropertyVariables&gt;\r\n    \t\t\t\t\t\t&lt;webdriver.driver&gt;${webdriver.driver}&lt;/webdriver.driver&gt;\r\n    \t\t\t\t\t&lt;/systemPropertyVariables&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;integration-test&lt;/goal&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;verify&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;3.2&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;source&gt;1.8&lt;/source&gt;\r\n    \t\t\t\t\t&lt;target&gt;1.8&lt;/target&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;net.serenity-bdd.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;serenity-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;1.8.21&lt;/version&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;id&gt;serenity-reports&lt;/id&gt;\r\n    \t\t\t\t\t\t&lt;phase&gt;post-integration-test&lt;/phase&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;aggregate&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    &lt;/project&gt;\r\n    \r\n\r\n\r\n\r\n\r\n","title":"Surefire plugin fails forking as CMD.exe is restrcited in my system","body":"<p>I am using maven-fail-safe plugin and maven-surefire-plugin to run my tests.\nbut surefire plugin calls cmd.exe for forking command line and fails to execute the goals as cmd.exe is restricted to use in my organization.</p>\n\n<h2>Errors from Eclipse  console ##</h2>\n\n<h3>The forked VM terminated without properly saying goodbye. VM crash or System.exit called?</h3>\n\n<pre><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-failsafe- \nplugin:2.18.1:integration-test (default) on project bdd-test: Execution \ndefault of goal org.apache.maven.plugins:maven-failsafe- \nplugin:2.18.1:integration-test failed: The forked VM terminated without \nproperly saying goodbye. VM crash or System.exit called?\n[ERROR] Command was cmd.exe /X /C \"\"C:\\Program \nFiles\\Java\\jre1.8.0_151\\bin\\java\" -Xmx512m -jar C:\\Users\\ar11495\\Serenity- \nworkspace\\bdd-test\\target\\surefire\\surefirebooter3944168471238729169.jar \nC:\\Users\\ar11495\\Serenity-workspace\\bdd- \ntest\\target\\surefire\\surefire3290184423596544348tmp \nC:\\Users\\ar11495\\Serenity-workspace\\bdd- \ntest\\target\\surefire\\surefire_0917807971278197542tmp\"\n</code></pre>\n\n<h3>below is my pom.xml</h3>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;firstSerenity&lt;/groupId&gt;\n    &lt;artifactId&gt;bdd-test&lt;/artifactId&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;Sample Serenity project using JBehave and WebDriver&lt;/name&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;serenity.version&gt;1.8.21&lt;/serenity.version&gt;\n        &lt;serenity.jbehave.version&gt;1.34.0&lt;/serenity.jbehave.version&gt;\n        &lt;webdriver.driver&gt;firefox&lt;/webdriver.driver&gt;\n    &lt;/properties&gt;\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n            &lt;id&gt;central&lt;/id&gt;\n            &lt;name&gt;bintray&lt;/name&gt;\n            &lt;url&gt;http://jcenter.bintray.com&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n    &lt;pluginRepositories&gt;\n        &lt;pluginRepository&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n            &lt;id&gt;central&lt;/id&gt;\n            &lt;name&gt;bintray-plugins&lt;/name&gt;\n            &lt;url&gt;http://jcenter.bintray.com&lt;/url&gt;\n        &lt;/pluginRepository&gt;\n    &lt;/pluginRepositories&gt;\n\n    &lt;dependencies&gt;\n\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n    &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n    &lt;version&gt;2.53.1&lt;/version&gt;\n&lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\n            &lt;artifactId&gt;serenity-core&lt;/artifactId&gt;\n            &lt;version&gt;${serenity.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\n            &lt;artifactId&gt;serenity-jbehave&lt;/artifactId&gt;\n            &lt;version&gt;${serenity.jbehave.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n            &lt;version&gt;1.7.7&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n    &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n    &lt;version&gt;3.17&lt;/version&gt;\n&lt;/dependency&gt; \n\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.12&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.22.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;skip&gt;true&lt;/skip&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.22.0&lt;/version&gt;\n                &lt;configuration&gt;\n\n                    &lt;includes&gt;\n                        &lt;include&gt;**/*Test.java&lt;/include&gt;\n                        &lt;include&gt;**/*TestSuite.java&lt;/include&gt;\n                        &lt;include&gt;**/Test*.java&lt;/include&gt;\n                        &lt;include&gt;**/When*.java&lt;/include&gt;\n                    &lt;/includes&gt;\n                    &lt;argLine&gt;-Xmx512m&lt;/argLine&gt;\n                    &lt;systemPropertyVariables&gt;\n                        &lt;webdriver.driver&gt;${webdriver.driver}&lt;/webdriver.driver&gt;\n                    &lt;/systemPropertyVariables&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;integration-test&lt;/goal&gt;\n                            &lt;goal&gt;verify&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;net.serenity-bdd.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;serenity-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.8.21&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;serenity-reports&lt;/id&gt;\n                        &lt;phase&gt;post-integration-test&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;aggregate&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","android","arraylist","stop-words"],"comments":[{"owner":{"account_id":1853886,"reputation":210617,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":1,"creation_date":1429116427,"post_id":29656071,"comment_id":47451809,"body_markdown":"Kindly take a look onto this post: http://stackoverflow.com/q/223918/1679863","body":"Kindly take a look onto this post: <a href=\"http://stackoverflow.com/q/223918/1679863\">stackoverflow.com/q/223918/1679863</a>"},{"owner":{"account_id":2674098,"reputation":49601,"user_id":2310866,"display_name":"Xaver Kapeller"},"score":0,"creation_date":1429116774,"post_id":29656071,"comment_id":47452012,"body_markdown":"Use `Iterator` to remove elements while looping.","body":"Use <code>Iterator</code> to remove elements while looping."}],"answers":[{"tags":[],"owner":{"account_id":12404,"reputation":62016,"user_id":24396,"accept_rate":74,"display_name":"Steve Kuo"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1429162664,"creation_date":1429116436,"answer_id":29656110,"question_id":29656071,"body_markdown":"Use `Iterator.remove()` to remove elements while iterating.\r\n\r\n    for (Iterator&lt;String&gt; iter = myarraylist.iterator(); iter.hasNext(); ) {\r\n      String element = iter.next();\r\n      if (element meets some criteria) {\r\n        iter.remove();\r\n      }\r\n    }\r\n\r\nOr use Google Guava&#39;s [filter][1] which returns a filtered view and leaves the original list unchanged.\r\n\r\n    Iterable&lt;String&gt; filtered = Iterables.filter(myarraylist, new Predicate&lt;String&gt;() {\r\n      public boolean apply(String element) {\r\n        return true of false based on criteria\r\n      }\r\n    });\r\n\r\n\r\n  [1]: http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/collect/Iterables.html#filter(java.lang.Iterable,%20com.google.common.base.Predicate)","title":"Java Arraylist remove multiple element by index","body":"<p>Use <code>Iterator.remove()</code> to remove elements while iterating.</p>\n\n<pre><code>for (Iterator&lt;String&gt; iter = myarraylist.iterator(); iter.hasNext(); ) {\n  String element = iter.next();\n  if (element meets some criteria) {\n    iter.remove();\n  }\n}\n</code></pre>\n\n<p>Or use Google Guava's <a href=\"http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/collect/Iterables.html#filter(java.lang.Iterable,%20com.google.common.base.Predicate)\" rel=\"noreferrer\">filter</a> which returns a filtered view and leaves the original list unchanged.</p>\n\n<pre><code>Iterable&lt;String&gt; filtered = Iterables.filter(myarraylist, new Predicate&lt;String&gt;() {\n  public boolean apply(String element) {\n    return true of false based on criteria\n  }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3280120,"reputation":13508,"user_id":2760919,"display_name":"bonnyz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1429116479,"creation_date":1429116479,"answer_id":29656122,"question_id":29656071,"body_markdown":"Not sure about why you want to do this by index, but you can try this (untested):\r\n\r\n    int dynamicSize = myarraylist.size();\r\n    for (int i = 0; i &lt; dynamicSize; i++) {\r\n            for (int j = 0; j &lt; stopwords.size(); j++) {\r\n                if (stopwords.get(j).equals(myarraylist.get(i))) {\r\n                    myarraylist.remove(i);\r\n                    id.remove(i);\r\n                    i--; // to look at the same index again!\r\n                    dynamicSize--;\r\n                }\r\n            }\r\n        }","title":"Java Arraylist remove multiple element by index","body":"<p>Not sure about why you want to do this by index, but you can try this (untested):</p>\n\n<pre><code>int dynamicSize = myarraylist.size();\nfor (int i = 0; i &lt; dynamicSize; i++) {\n        for (int j = 0; j &lt; stopwords.size(); j++) {\n            if (stopwords.get(j).equals(myarraylist.get(i))) {\n                myarraylist.remove(i);\n                id.remove(i);\n                i--; // to look at the same index again!\n                dynamicSize--;\n            }\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2781278,"reputation":3728,"user_id":2393786,"display_name":"Stranger in the Q"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1429116894,"creation_date":1429116894,"answer_id":29656243,"question_id":29656071,"body_markdown":"looks like as you want to remove one collection from another.. You should use \r\njava.util.Collection#removeAll method instead","title":"Java Arraylist remove multiple element by index","body":"<p>looks like as you want to remove one collection from another.. You should use \njava.util.Collection#removeAll method instead</p>\n"},{"tags":[],"owner":{"account_id":4443039,"reputation":3322,"user_id":3617127,"accept_rate":100,"display_name":"Panther"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1429117040,"creation_date":1429117040,"answer_id":29656283,"question_id":29656071,"body_markdown":"while iterating list and you are removing the object use iterator.\r\n\r\n\r\n    Iterator myListItr = myarraylist.iterator();\r\n\t//Iterate on list \r\n    \twhile(myListItr .hasNext()) {\r\n       \t//if stop words is list of string then contains will work as it is. If its your custom object then override equals method.\r\n         \tif(stopwords.contains( myListItr.next())){\r\n\t\tmyListItr.remove();\r\n\t}\r\n\t}","title":"Java Arraylist remove multiple element by index","body":"<p>while iterating list and you are removing the object use iterator.</p>\n\n<pre><code>Iterator myListItr = myarraylist.iterator();\n//Iterate on list \n    while(myListItr .hasNext()) {\n    //if stop words is list of string then contains will work as it is. If its your custom object then override equals method.\n        if(stopwords.contains( myListItr.next())){\n    myListItr.remove();\n}\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4307921,"reputation":1393,"user_id":3519829,"accept_rate":90,"display_name":"Ungeheuer"},"score":1,"creation_date":1429401508,"post_id":29656309,"comment_id":47582704,"body_markdown":"@SteveKuo, why? should `x` be `x = arrayList.size() - 1`. I did not actually think about checking that, I just wanted to show the OP the practice for removing elements from an array list.","body":"@SteveKuo, why? should <code>x</code> be <code>x = arrayList.size() - 1</code>. I did not actually think about checking that, I just wanted to show the OP the practice for removing elements from an array list."},{"owner":{"account_id":12404,"reputation":62016,"user_id":24396,"accept_rate":74,"display_name":"Steve Kuo"},"score":0,"creation_date":1429548345,"post_id":29656309,"comment_id":47639395,"body_markdown":"You are correct, you&#39;re off by one. In general it&#39;s far better to use Iterator&#39;s remove rather than relying on reverse order index based looping.","body":"You are correct, you&#39;re off by one. In general it&#39;s far better to use Iterator&#39;s remove rather than relying on reverse order index based looping."},{"owner":{"account_id":4307921,"reputation":1393,"user_id":3519829,"accept_rate":90,"display_name":"Ungeheuer"},"score":0,"creation_date":1429552577,"post_id":29656309,"comment_id":47642144,"body_markdown":"@SteveKuo thanks for the spotting mate, changed it. Never heard of iterator, guess it&#39;s time to look into it.","body":"@SteveKuo thanks for the spotting mate, changed it. Never heard of iterator, guess it&#39;s time to look into it."},{"owner":{"account_id":6113679,"reputation":379,"user_id":4769384,"display_name":"Vinayak Mestri"},"score":0,"creation_date":1601745064,"post_id":29656309,"comment_id":113503589,"body_markdown":"This is not a good solution considering performance.\n\narrayList.remove(index)\n\n remove() method will shift other subsequent elements.","body":"This is not a good solution considering performance.  arrayList.remove(index)   remove() method will shift other subsequent elements."},{"owner":{"account_id":6113679,"reputation":379,"user_id":4769384,"display_name":"Vinayak Mestri"},"score":0,"creation_date":1601745332,"post_id":29656309,"comment_id":113503654,"body_markdown":"This solution fails on following data.\n\ndata = [5,2,7,3,9,34,63,23,85,23,94,7]\n\nint index[] = [5,2,7,9] // indexes to remove","body":"This solution fails on following data.  data = [5,2,7,3,9,34,63,23,85,23,94,7]  int index[] = [5,2,7,9] // indexes to remove"}],"tags":[],"owner":{"account_id":4307921,"reputation":1393,"user_id":3519829,"accept_rate":90,"display_name":"Ungeheuer"},"comment_count":5,"down_vote_count":0,"up_vote_count":25,"is_accepted":true,"score":25,"last_activity_date":1429552536,"creation_date":1429117123,"answer_id":29656309,"question_id":29656071,"body_markdown":"One thing you need to keep in mind is that when you use `ArrayLists` that they are meant to be versatile, moreso than `Arrays`. You can shorten an array by removing an entire index, add an index to it, and do wonderfulness with `ArrayLists`. \r\n\r\nThis is a common problem with people who do not realize, or remember, that when you remove a value, the `ArrayList` indexes (or whatever the correct plural is) readjust and the `ArrayList` shortens.\r\n\r\nWhen attempting to remove elements from an `ArrayList`, you should always start at the end of the `ArrayList`. \r\n\r\n    for(int x = arrayList.size() - 1; x &gt; 0; x--)\r\n    {\r\n        arrayList.remove(x);\r\n    }\r\n\r\nThis should provide you with the function that you are looking for. Take a look at the [ArrayList API][1] for other methods that may help you.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/ArrayList.html","title":"Java Arraylist remove multiple element by index","body":"<p>One thing you need to keep in mind is that when you use <code>ArrayLists</code> that they are meant to be versatile, moreso than <code>Arrays</code>. You can shorten an array by removing an entire index, add an index to it, and do wonderfulness with <code>ArrayLists</code>. </p>\n\n<p>This is a common problem with people who do not realize, or remember, that when you remove a value, the <code>ArrayList</code> indexes (or whatever the correct plural is) readjust and the <code>ArrayList</code> shortens.</p>\n\n<p>When attempting to remove elements from an <code>ArrayList</code>, you should always start at the end of the <code>ArrayList</code>. </p>\n\n<pre><code>for(int x = arrayList.size() - 1; x &gt; 0; x--)\n{\n    arrayList.remove(x);\n}\n</code></pre>\n\n<p>This should provide you with the function that you are looking for. Take a look at the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/ArrayList.html\" rel=\"noreferrer\">ArrayList API</a> for other methods that may help you.</p>\n"},{"tags":[],"owner":{"account_id":6575754,"reputation":9298,"user_id":5081877,"accept_rate":92,"display_name":"Yash"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1441370725,"creation_date":1441370725,"answer_id":32398444,"question_id":29656071,"body_markdown":"**Using [ListIterator][1]**\r\n\r\n    ArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n    \t  // List : [&quot;java&quot;, &quot;.net&quot;, &quot;javascript&quot;, &quot;html&quot;, &quot;css&quot;, &quot;selenium&quot;, &quot;image&quot;, &quot;Spring&quot;]\r\n    \t\t\r\n    \tArrayList&lt;Integer&gt; indexes = new ArrayList&lt;Integer&gt;();\r\n    \t                                  // indexes : [5, 3, 2, 5, 0]\r\n    \t// Sort the Indexes in Order to remove from back words. and make Unique\r\n    \tTreeSet&lt;Integer&gt; uniqueSorted = new TreeSet&lt;Integer&gt;();\r\n    \t\tuniqueSorted.addAll(indexes);\r\n    \t\r\n    \t// To remove all elements from the ArrayList and make its size = 0\t\r\n    \t\tindexes.clear(); \r\n    \t    indexes.addAll(uniqueSorted);\r\n    \t\r\n    \t// Iterate form back, so that if size decreases also no problem.\r\n    \tListIterator&lt;Integer&gt; li = indexes.listIterator(indexes.size());\r\n    \r\n       // we can traverse a List in both the directions (forward and Backward).\r\n    \t\twhile(li.hasPrevious()) {\r\n    \t\t\tint position = li.previous();\r\n    \t\t    list.remove(position);\r\n    \t\t}\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/ListIterator.html","title":"Java Arraylist remove multiple element by index","body":"<p><strong>Using <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/ListIterator.html\" rel=\"nofollow\">ListIterator</a></strong></p>\n\n<pre><code>ArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;();\n      // List : [\"java\", \".net\", \"javascript\", \"html\", \"css\", \"selenium\", \"image\", \"Spring\"]\n\n    ArrayList&lt;Integer&gt; indexes = new ArrayList&lt;Integer&gt;();\n                                      // indexes : [5, 3, 2, 5, 0]\n    // Sort the Indexes in Order to remove from back words. and make Unique\n    TreeSet&lt;Integer&gt; uniqueSorted = new TreeSet&lt;Integer&gt;();\n        uniqueSorted.addAll(indexes);\n\n    // To remove all elements from the ArrayList and make its size = 0  \n        indexes.clear(); \n        indexes.addAll(uniqueSorted);\n\n    // Iterate form back, so that if size decreases also no problem.\n    ListIterator&lt;Integer&gt; li = indexes.listIterator(indexes.size());\n\n   // we can traverse a List in both the directions (forward and Backward).\n        while(li.hasPrevious()) {\n            int position = li.previous();\n            list.remove(position);\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6113679,"reputation":379,"user_id":4769384,"display_name":"Vinayak Mestri"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1563172797,"creation_date":1563172797,"answer_id":57034391,"question_id":29656071,"body_markdown":"Ok this is very good problem to solve.\r\nLets start with an exmaple\r\n\r\nWe have `data = [5,2,7,3,9,34,63,23,85,23,94,7]`\r\n\r\nindexes to remove \r\n\r\n    int index[] = [5,2,7,9]\r\n\r\n**Note** : As you remove single item from array other elements get shifted by 1.\r\n\r\nIf we use ArrayList to remove elements of indexes then first you need to sort the indexes in descending.\r\n\r\ni.e indexes = [9,7,5,2]\r\nthen remove the element from index\r\n\r\n\r\n     \r\n    ArrayList&lt;Integer&gt; data = Arrays.asList(new Integer[] {5,2,7,3,9,34,63,23,85,23,94,7});\r\n    \r\n    for(int i=0;i&lt;index.length;i++){\r\n        data.remove(index[i]);\r\n        }\r\n      ","title":"Java Arraylist remove multiple element by index","body":"<p>Ok this is very good problem to solve.\nLets start with an exmaple</p>\n\n<p>We have <code>data = [5,2,7,3,9,34,63,23,85,23,94,7]</code></p>\n\n<p>indexes to remove </p>\n\n<pre><code>int index[] = [5,2,7,9]\n</code></pre>\n\n<p><strong>Note</strong> : As you remove single item from array other elements get shifted by 1.</p>\n\n<p>If we use ArrayList to remove elements of indexes then first you need to sort the indexes in descending.</p>\n\n<p>i.e indexes = [9,7,5,2]\nthen remove the element from index</p>\n\n<pre><code>ArrayList&lt;Integer&gt; data = Arrays.asList(new Integer[] {5,2,7,3,9,34,63,23,85,23,94,7});\n\nfor(int i=0;i&lt;index.length;i++){\n    data.remove(index[i]);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10037707,"reputation":649,"user_id":7421700,"display_name":"Evan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1601551913,"creation_date":1601551913,"answer_id":64154514,"question_id":29656071,"body_markdown":"Here is short benchmark that roughly compares various methods to remove elements from array list. Removal by index is really a bad idea since array list shrinks its internal array on every operation. There will be no real difference for small arrays but if you have large chunk of indices to remove it will cost much.\r\n\r\n    Benchmark                                    Mode  Cnt   Score   Error  Units\r\n    CollectionsTest.filterToNewListViaLoop       avgt    2   4.425          ms/op\r\n    CollectionsTest.filterToNewListViaStream     avgt    2   5.410          ms/op\r\n    CollectionsTest.removeByIndexInReverseOrder  avgt    2  69.234          ms/op\r\n    CollectionsTest.removeByIterator             avgt    2   4.311          ms/op\r\n    CollectionsTest.removeViaRemoveAllMethod     avgt    2   4.145          ms/op\r\n\r\n**CODE:**\r\n\r\n    @BenchmarkMode(Mode.AverageTime)\r\n    @OutputTimeUnit(MILLISECONDS)\r\n    @State(Scope.Benchmark)\r\n    @Warmup(iterations = 2)\r\n    @Measurement(iterations = 2)\r\n    public class CollectionsTest {\r\n    \r\n        private static final Random RANDOM = new Random();\r\n        private static final int CONTAINER_SIZE = 100_000;\r\n        private static final int REMOVE_COUNT = 10_000;\r\n    \r\n        private List&lt;Foo&gt; _container;\r\n        private TreeSet&lt;Integer&gt; _indicesToRemove;\r\n        private HashSet&lt;Foo&gt; _elementsToRemove;\r\n    \r\n        public static void main(String[] args) throws RunnerException {\r\n            Options opt = new OptionsBuilder()\r\n                    .include(CollectionsTest.class.getSimpleName())\r\n                    .forks(1)\r\n                    .build();\r\n            new Runner(opt).run();\r\n        }\r\n    \r\n        @Setup(Level.Invocation)\r\n        public void setup() {\r\n            _container = generateContainerData(CONTAINER_SIZE);\r\n            _indicesToRemove = generateIndicesToRemove(REMOVE_COUNT, CONTAINER_SIZE);\r\n    \r\n            _elementsToRemove = new HashSet&lt;&gt;();\r\n            _indicesToRemove.stream().map(Foo::new).forEach(_elementsToRemove::add);\r\n        }\r\n    \r\n        @Benchmark\r\n        public void removeByIndexInReverseOrder() {\r\n            int iterations = 0;\r\n            for (int arrayIndex : _indicesToRemove.descendingSet()) {\r\n                _container.remove(arrayIndex);\r\n            }\r\n        }\r\n    \r\n        @Benchmark\r\n        public void removeByIterator() {\r\n            _container.removeIf(foo -&gt; _elementsToRemove.contains(foo));\r\n        }\r\n    \r\n        @Benchmark\r\n        public void filterToNewListViaStream() {\r\n            List&lt;Foo&gt; elementsToKeep = _container.stream()\r\n                    .filter(foo -&gt; !_indicesToRemove.contains(foo.id))\r\n                    .collect(Collectors.toList());\r\n        }\r\n    \r\n        @Benchmark\r\n        public void filterToNewListViaLoop() {\r\n            List&lt;Foo&gt; elementsToKeep = new ArrayList&lt;&gt;(CONTAINER_SIZE - REMOVE_COUNT);\r\n            for (Foo foo : _container) {\r\n                if (!_indicesToRemove.contains(foo.id)) elementsToKeep.add(foo);\r\n            }\r\n        }\r\n    \r\n        @Benchmark\r\n        public void removeViaRemoveAllMethod() {\r\n            _container.removeAll(_elementsToRemove);\r\n        }\r\n    \r\n        private List&lt;Foo&gt; generateContainerData(int size) {\r\n            List&lt;Foo&gt; data = new ArrayList&lt;&gt;();\r\n            for (int idx = 0; idx &lt; size; idx++) {\r\n                data.add(new Foo(idx));\r\n            }\r\n            return data;\r\n        }\r\n    \r\n        private TreeSet&lt;Integer&gt; generateIndicesToRemove(int count, int containerSize) {\r\n            TreeSet&lt;Integer&gt; data = new TreeSet&lt;&gt;();\r\n            ThreadLocalRandom.current().ints(0, containerSize)\r\n                    .distinct()\r\n                    .limit(count)\r\n                    .forEach(data::add);\r\n            return data;\r\n        }\r\n    \r\n        public static class Foo implements Comparable&lt;Foo&gt; {\r\n            private static final Comparator&lt;Foo&gt; COMPARATOR = Comparator.comparing(foo -&gt; foo.id);\r\n    \r\n            public int id;\r\n    \r\n            public Foo(int id) {\r\n                this.id = id;\r\n            }\r\n    \r\n            @Override\r\n            public int compareTo(Foo that) {\r\n                return COMPARATOR.compare(this, that);\r\n            }\r\n    \r\n            @Override\r\n            public String toString() {\r\n                final StringBuilder sb = new StringBuilder(&quot;Foo{&quot;);\r\n                sb.append(&quot;id=&quot;).append(id);\r\n                sb.append(&#39;}&#39;);\r\n                return sb.toString();\r\n            }\r\n        }\r\n    }","title":"Java Arraylist remove multiple element by index","body":"<p>Here is short benchmark that roughly compares various methods to remove elements from array list. Removal by index is really a bad idea since array list shrinks its internal array on every operation. There will be no real difference for small arrays but if you have large chunk of indices to remove it will cost much.</p>\n<pre><code>Benchmark                                    Mode  Cnt   Score   Error  Units\nCollectionsTest.filterToNewListViaLoop       avgt    2   4.425          ms/op\nCollectionsTest.filterToNewListViaStream     avgt    2   5.410          ms/op\nCollectionsTest.removeByIndexInReverseOrder  avgt    2  69.234          ms/op\nCollectionsTest.removeByIterator             avgt    2   4.311          ms/op\nCollectionsTest.removeViaRemoveAllMethod     avgt    2   4.145          ms/op\n</code></pre>\n<p><strong>CODE:</strong></p>\n<pre><code>@BenchmarkMode(Mode.AverageTime)\n@OutputTimeUnit(MILLISECONDS)\n@State(Scope.Benchmark)\n@Warmup(iterations = 2)\n@Measurement(iterations = 2)\npublic class CollectionsTest {\n\n    private static final Random RANDOM = new Random();\n    private static final int CONTAINER_SIZE = 100_000;\n    private static final int REMOVE_COUNT = 10_000;\n\n    private List&lt;Foo&gt; _container;\n    private TreeSet&lt;Integer&gt; _indicesToRemove;\n    private HashSet&lt;Foo&gt; _elementsToRemove;\n\n    public static void main(String[] args) throws RunnerException {\n        Options opt = new OptionsBuilder()\n                .include(CollectionsTest.class.getSimpleName())\n                .forks(1)\n                .build();\n        new Runner(opt).run();\n    }\n\n    @Setup(Level.Invocation)\n    public void setup() {\n        _container = generateContainerData(CONTAINER_SIZE);\n        _indicesToRemove = generateIndicesToRemove(REMOVE_COUNT, CONTAINER_SIZE);\n\n        _elementsToRemove = new HashSet&lt;&gt;();\n        _indicesToRemove.stream().map(Foo::new).forEach(_elementsToRemove::add);\n    }\n\n    @Benchmark\n    public void removeByIndexInReverseOrder() {\n        int iterations = 0;\n        for (int arrayIndex : _indicesToRemove.descendingSet()) {\n            _container.remove(arrayIndex);\n        }\n    }\n\n    @Benchmark\n    public void removeByIterator() {\n        _container.removeIf(foo -&gt; _elementsToRemove.contains(foo));\n    }\n\n    @Benchmark\n    public void filterToNewListViaStream() {\n        List&lt;Foo&gt; elementsToKeep = _container.stream()\n                .filter(foo -&gt; !_indicesToRemove.contains(foo.id))\n                .collect(Collectors.toList());\n    }\n\n    @Benchmark\n    public void filterToNewListViaLoop() {\n        List&lt;Foo&gt; elementsToKeep = new ArrayList&lt;&gt;(CONTAINER_SIZE - REMOVE_COUNT);\n        for (Foo foo : _container) {\n            if (!_indicesToRemove.contains(foo.id)) elementsToKeep.add(foo);\n        }\n    }\n\n    @Benchmark\n    public void removeViaRemoveAllMethod() {\n        _container.removeAll(_elementsToRemove);\n    }\n\n    private List&lt;Foo&gt; generateContainerData(int size) {\n        List&lt;Foo&gt; data = new ArrayList&lt;&gt;();\n        for (int idx = 0; idx &lt; size; idx++) {\n            data.add(new Foo(idx));\n        }\n        return data;\n    }\n\n    private TreeSet&lt;Integer&gt; generateIndicesToRemove(int count, int containerSize) {\n        TreeSet&lt;Integer&gt; data = new TreeSet&lt;&gt;();\n        ThreadLocalRandom.current().ints(0, containerSize)\n                .distinct()\n                .limit(count)\n                .forEach(data::add);\n        return data;\n    }\n\n    public static class Foo implements Comparable&lt;Foo&gt; {\n        private static final Comparator&lt;Foo&gt; COMPARATOR = Comparator.comparing(foo -&gt; foo.id);\n\n        public int id;\n\n        public Foo(int id) {\n            this.id = id;\n        }\n\n        @Override\n        public int compareTo(Foo that) {\n            return COMPARATOR.compare(this, that);\n        }\n\n        @Override\n        public String toString() {\n            final StringBuilder sb = new StringBuilder(&quot;Foo{&quot;);\n            sb.append(&quot;id=&quot;).append(id);\n            sb.append('}');\n            return sb.toString();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28664603,"reputation":1,"user_id":21948881,"display_name":"180254"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684873488,"creation_date":1684865435,"answer_id":76317564,"question_id":29656071,"body_markdown":"Assume you have the input as an `ArrayList` and a list of indices to be deleted. If the input `ArrayList` list does not contain nulls, then you can do it this way:\r\n\r\n    List&lt;?&gt; newList = new ArrayList&lt;&gt;(oldList);\r\n    for (int i : indicesToRemove) {\r\n      newList.set(i, null);\r\n    }\r\n    newList.removeIf(Objects::isNull);\r\n\r\nThis way does not require sorting the indexes to be removed and takes advantage of the fact that `ArrayList` has its own optimal `removeIf` implementation.","title":"Java Arraylist remove multiple element by index","body":"<p>Assume you have the input as an <code>ArrayList</code> and a list of indices to be deleted. If the input <code>ArrayList</code> list does not contain nulls, then you can do it this way:</p>\n<pre><code>List&lt;?&gt; newList = new ArrayList&lt;&gt;(oldList);\nfor (int i : indicesToRemove) {\n  newList.set(i, null);\n}\nnewList.removeIf(Objects::isNull);\n</code></pre>\n<p>This way does not require sorting the indexes to be removed and takes advantage of the fact that <code>ArrayList</code> has its own optimal <code>removeIf</code> implementation.</p>\n"}],"owner":{"account_id":6013754,"reputation":175,"user_id":4723326,"accept_rate":100,"display_name":"Lita"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35050,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":29656309,"answer_count":9,"score":11,"last_activity_date":1684873488,"creation_date":1429116331,"question_id":29656071,"body_markdown":"Here is my code:\r\n\r\n    for (int i = 0; i &lt; myarraylist.size(); i++) {\r\n\t\t    for (int j = 0; j &lt; stopwords.size(); j++) {\r\n\t\t        if (stopwords.get(j).equals(myarraylist.get(i))) {\r\n\t\t        \tmyarraylist.remove(i);\r\n\t\t        \tid.remove(i);\r\n\t\t            i--; // to look at the same index again!\r\n\t\t        }\r\n\t\t    }\r\n\t\t}\r\n\r\nI have problem.. after element removed, all index always changed, the loop above so messy.\r\n\r\nTo illustrate: \r\nI have 54 data, but loop above become messy after element removed.. so only 50 data that checked.\r\n\r\nIs there another way or fix my code to **remove multiple element by index**??\r\nelement index is so important to me, to remove another arraylist that have the same index.","title":"Java Arraylist remove multiple element by index","body":"<p>Here is my code:</p>\n\n<pre><code>for (int i = 0; i &lt; myarraylist.size(); i++) {\n        for (int j = 0; j &lt; stopwords.size(); j++) {\n            if (stopwords.get(j).equals(myarraylist.get(i))) {\n                myarraylist.remove(i);\n                id.remove(i);\n                i--; // to look at the same index again!\n            }\n        }\n    }\n</code></pre>\n\n<p>I have problem.. after element removed, all index always changed, the loop above so messy.</p>\n\n<p>To illustrate: \nI have 54 data, but loop above become messy after element removed.. so only 50 data that checked.</p>\n\n<p>Is there another way or fix my code to <strong>remove multiple element by index</strong>??\nelement index is so important to me, to remove another arraylist that have the same index.</p>\n"},{"tags":["java","xml","unit-testing","powermock"],"answers":[{"comments":[{"owner":{"account_id":4602769,"reputation":27,"user_id":3733050,"display_name":"Melih"},"score":1,"creation_date":1684993821,"post_id":76318284,"comment_id":134599201,"body_markdown":"I acknowledge the concerns raised regarding the excessive use of static access and tight coupling in the codebase. It&#39;s true that such a design can create challenges in writing effective unit tests and can introduce unnecessary complexity.","body":"I acknowledge the concerns raised regarding the excessive use of static access and tight coupling in the codebase. It&#39;s true that such a design can create challenges in writing effective unit tests and can introduce unnecessary complexity."},{"owner":{"account_id":4602769,"reputation":27,"user_id":3733050,"display_name":"Melih"},"score":1,"creation_date":1684994117,"post_id":76318284,"comment_id":134599244,"body_markdown":"In conclusion, I generally agree with the principles you&#39;ve outlined for enhancing code design and testability. By separating dependencies, adopting dependency injection (DI), and leveraging mocking frameworks, it is possible to achieve loose coupling and improve testability. In this particular scenario, I chose not to use PowerMock. Instead, whenever I encountered difficulties in writing unit tests, I opted to change private methods to the public and then proceeded to write the necessary unit test code. I appreciate the insights shared and thank you for your contribution.","body":"In conclusion, I generally agree with the principles you&#39;ve outlined for enhancing code design and testability. By separating dependencies, adopting dependency injection (DI), and leveraging mocking frameworks, it is possible to achieve loose coupling and improve testability. In this particular scenario, I chose not to use PowerMock. Instead, whenever I encountered difficulties in writing unit tests, I opted to change private methods to the public and then proceeded to write the necessary unit test code. I appreciate the insights shared and thank you for your contribution."}],"tags":[],"owner":{"account_id":9443335,"reputation":15252,"user_id":7023245,"accept_rate":25,"display_name":"Timothy Truckle"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684872258,"creation_date":1684872258,"answer_id":76318284,"question_id":76271199,"body_markdown":"Your code havily enploys *static access* and thus has *tight coupling* with various classes from the java runtime and 3rd party libs. Your difficulties to create mocks is a clear sign of that bad design and the use of PowerMock is a surrender to it. \r\n\r\nIf you disagree stop reading here.\r\n\r\n----\r\n\r\nThe way to go would be to separate the *instantiation of dependencies* - the objects you want to mock - from your business logic and **inject** them into your *code under test* (cut). The easiest approach is to wrap the static assess in *factory classes*. This classes will be *too simple to fail* so they don&#39;t need unittests of their own.\r\n\r\nIn case the static method called does not have parameters calculatest within your cut you can directly mock its outcome using any other mocking framework beside PowerMock.\r\n\r\nIn case the static method called does have parameters calculated within your cut  you need to create an mock for this factory and inject it. Of cause you need to configure the factory mock to return a mock of the final dependency...\r\n\r\n","title":"Unit Test in Java, using Powermock, how to mock/spy xml parser class private method","body":"<p>Your code havily enploys <em>static access</em> and thus has <em>tight coupling</em> with various classes from the java runtime and 3rd party libs. Your difficulties to create mocks is a clear sign of that bad design and the use of PowerMock is a surrender to it.</p>\n<p>If you disagree stop reading here.</p>\n<hr />\n<p>The way to go would be to separate the <em>instantiation of dependencies</em> - the objects you want to mock - from your business logic and <strong>inject</strong> them into your <em>code under test</em> (cut). The easiest approach is to wrap the static assess in <em>factory classes</em>. This classes will be <em>too simple to fail</em> so they don't need unittests of their own.</p>\n<p>In case the static method called does not have parameters calculatest within your cut you can directly mock its outcome using any other mocking framework beside PowerMock.</p>\n<p>In case the static method called does have parameters calculated within your cut  you need to create an mock for this factory and inject it. Of cause you need to configure the factory mock to return a mock of the final dependency...</p>\n"}],"owner":{"account_id":4602769,"reputation":27,"user_id":3733050,"display_name":"Melih"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684872258,"creation_date":1684320013,"question_id":76271199,"body_markdown":"I would like to write unit test a function that calls another private function. This private function is responsible for reading an XML file from disk. However, I want to avoid dependencies on a real file during the unit test. Instead, I would like to use XML content stored in a String variable.\r\n\r\nDespite successfully mocking the ScenarioParser, I am encountering an error due to the inner variables DocumentBuilder and DocumentFactory. Therefore, I was considering extending and modifying the unit test accordingly to address this issue.\r\n\r\nI am using PowerMockito &amp; JUnit4.\r\n\r\nClass which is being tested:\r\n\r\n\r\n```public class ScenarioParser {\r\n\r\n    private static final Logger LOGGER = LoggerFactory.getLogger(ScenarioParser.class);\r\n    \r\n    private final String scenarioFile;\r\n    \r\n    /**\r\n     * Constructs a ScenarioParser with the specified scenario file path.\r\n     *\r\n     * @param scenarioFile the path to the scenario XML file\r\n     */\r\n    public ScenarioParser(String scenarioFile) {\r\n        LOGGER.debug(&quot;ScenarioParser Ctor&quot;);\r\n        this.scenarioFile = scenarioFile;\r\n    }\r\n    \r\n    /**\r\n     * Parses the scenario XML file and returns a list of Scenario objects.\r\n     *\r\n     * @return the list of parsed Scenario objects\r\n     */\r\n    public List&lt;Scenario&gt; parse() {\r\n        List&lt;Scenario&gt; scenarios = new ArrayList&lt;&gt;();\r\n    \r\n        try(InputStream inputStream = getResourceAsStream(scenarioFile))  \r\n        {\r\n            LOGGER.trace(&quot;getResourceAsStream is working for {0}&quot;, scenarioFile);\r\n            if (inputStream != null) {\r\n                Document document = parseDocument(inputStream);\r\n                if (document != null) {\r\n                    scenarios = parseScenarios(document);\r\n                }\r\n            } else {\r\n                LOGGER.error(&quot;Scenario XML file {} is not found&quot;, scenarioFile);\r\n            }\r\n        } catch (IOException e) {\r\n            LOGGER.error(&quot;Failed to read the scenario XML file: {}&quot;, e.getMessage());\r\n        }\r\n    \r\n        return scenarios;\r\n    }\r\n    \r\n    /**\r\n     * Retrieves the input stream for the scenario XML file.\r\n     *\r\n     * @param scenarioFile the path to the scenario XML file\r\n     * @return the input stream for the scenario XML file\r\n     */\r\n    private InputStream getResourceAsStream(String resourcePath) {\r\n        return Thread.currentThread().getContextClassLoader().getResourceAsStream(resourcePath);\r\n    }\r\n    \r\n    /**\r\n     * Parses the XML document from the input stream.\r\n     *\r\n     * @param inputStream the input stream of the XML file\r\n     * @return the parsed Document object\r\n     */\r\n    private Document parseDocument(InputStream inputStream) {\r\n        DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\r\n        try {\r\n            DocumentBuilder builder = factory.newDocumentBuilder();\r\n            return builder.parse(inputStream);\r\n        } catch (ParserConfigurationException | SAXException | IOException e) {\r\n            LOGGER.error(&quot;Failed to parse the scenario XML file: {}&quot;, e.getMessage());\r\n        }\r\n        return null;\r\n    }\r\n    \r\n    /**\r\n     * Parses the Document and returns a list of Scenario objects.\r\n     *\r\n     * @param document the scenario element\r\n     * @return the list of parsed Scenario objects\r\n     */\r\n    private List&lt;Scenario&gt; parseScenarios(Document document) {\r\n        List&lt;Scenario&gt; scenarios = new ArrayList&lt;&gt;();\r\n        Element rootElement = document.getDocumentElement();\r\n        NodeList scenarioNodes = rootElement.getElementsByTagName(&quot;scenario&quot;);\r\n    \r\n        for (int i = 0; i &lt; scenarioNodes.getLength(); i++) {\r\n            Node scenarioNode = scenarioNodes.item(i);\r\n            if (scenarioNode.getNodeType() == Node.ELEMENT_NODE) {\r\n                Element scenarioElement = (Element) scenarioNode;\r\n                String name = scenarioElement.getAttribute(&quot;name&quot;);\r\n                //...\r\n            }\r\n        }\r\n    \r\n        return scenarios;\r\n    }\r\n    \r\n    /**\r\n     * Parses the step elements within a scenario element and creates ScenarioStep\r\n     * objects.\r\n     *\r\n     * @param scenarioElement the scenario element\r\n     * @return the list of parsed ScenarioStep objects\r\n     */\r\n    private List&lt;ScenarioStep&gt; parseScenarioSteps(Element scenarioElement) {\r\n        List&lt;ScenarioStep&gt; steps = new ArrayList&lt;&gt;();\r\n        NodeList stepNodes = scenarioElement.getElementsByTagName(&quot;step&quot;);\r\n    \r\n        for (int j = 0; j &lt; stepNodes.getLength(); j++) {\r\n            Node stepNode = stepNodes.item(j);\r\n    \r\n            if (stepNode.getNodeType() == Node.ELEMENT_NODE) {\r\n                Element stepElement = (Element) stepNode;\r\n                //..\r\n                steps.add(step);\r\n            }\r\n        }\r\n    \r\n        return steps;\r\n    }\r\n    \r\n    /**\r\n     * Parses the parameter elements within a step element and creates a map of\r\n     * parameter key-value pairs.\r\n     *\r\n     * @param stepElement the step element\r\n     * @return the map of parsed parameter key-value pairs\r\n     */\r\n    private Map&lt;String, String&gt; parseStepParameters(Element stepElement) {\r\n        Map&lt;String, String&gt; parameters = new HashMap&lt;&gt;();\r\n        NodeList parameterNodes = stepElement.getElementsByTagName(&quot;parameter&quot;);\r\n    \r\n        for (int k = 0; k &lt; parameterNodes.getLength(); k++) {\r\n            Node parameterNode = parameterNodes.item(k);\r\n    \r\n            if (parameterNode.getNodeType() == Node.ELEMENT_NODE) {\r\n                Element parameterElement = (Element) parameterNode;\r\n                String key = parameterElement.getAttribute(&quot;key&quot;);\r\n                String value = parameterElement.getAttribute(&quot;value&quot;);\r\n                parameters.put(key, value);\r\n            }\r\n        }\r\n    \r\n        return parameters;\r\n     } \r\n}\r\n```\r\n\r\nFollowing is my test class:\r\n\r\n```\r\n@RunWith(PowerMockRunner.class)\r\n@PowerMockIgnore({ &quot;com.sun.org.apache.xerces.&quot;, &quot;javax.xml.&quot;, &quot;org.xml.&quot;,   &quot;javax.management.&quot;})@PrepareForTest({ ScenarioParser.class, DocumentBuilderFactory.class, DocumentBuilder.class })public class ScenarioParserTest {\r\n\r\n    @Mock\r\n    private InputStream mockInputStream;\r\n    \r\n    @Spy\r\n    private ScenarioParser scenarioParser = new ScenarioParser(&quot;sample.xml&quot;); \r\n    \r\n    @Before\r\n    public void setup() throws Exception {\r\n        MockitoAnnotations.initMocks(this);\r\n       \r\n    }\r\n    \r\n    @Test\r\n    public void testParse_ValidInput_ReturnsScenarios() throws Exception {\r\n        // Mock the input stream with a sample XML content\r\n        String xmlContent = &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;\\n&quot; +\r\n                &quot;&lt;scenarios&gt;\\n&quot; +\r\n                &quot;     &lt;scenario name=\\&quot;Scenario 1\\&quot; duration=\\&quot;10\\&quot; interval=\\&quot;2\\&quot;&gt;\\n&quot; +\r\n                &quot;       &lt;step action=\\&quot;Action 1\\&quot;&gt;\\n&quot; +\r\n                &quot;            &lt;parameter key=\\&quot;Param1\\&quot; value=\\&quot;Value1\\&quot; /&gt;\\n&quot; +\r\n                &quot;            &lt;parameter key=\\&quot;Param2\\&quot; value=\\&quot;Value2\\&quot; /&gt;\\n&quot; +\r\n                &quot;        &lt;/step&gt;\\n&quot; +\r\n                &quot;        &lt;step action=\\&quot;Action 2\\&quot;&gt;\\n&quot; +\r\n                &quot;            &lt;parameter key=\\&quot;Param3\\&quot; value=\\&quot;Value3\\&quot; /&gt;\\n&quot; +\r\n                &quot;        &lt;/step&gt;\\n&quot; +\r\n                &quot;    &lt;/scenario&gt;\\n&quot; +\r\n                &quot;    &lt;scenario name=\\&quot;Scenario 2\\&quot; duration=\\&quot;20\\&quot; interval=\\&quot;3\\&quot;&gt;\\n&quot; +\r\n                &quot;        &lt;step action=\\&quot;Action 3\\&quot;&gt;\\n&quot; +\r\n                &quot;            &lt;parameter key=\\&quot;Param4\\&quot; value=\\&quot;Value4\\&quot; /&gt;\\n&quot; +\r\n                &quot;            &lt;parameter key=\\&quot;Param5\\&quot; value=\\&quot;Value5\\&quot; /&gt;\\n&quot; +\r\n                &quot;            &lt;parameter key=\\&quot;Param6\\&quot; value=\\&quot;Value6\\&quot; /&gt;\\n&quot; +\r\n                &quot;        &lt;/step&gt;\\n&quot; +\r\n                &quot;        &lt;step action=\\&quot;Action 4\\&quot; /&gt;\\n&quot; +\r\n                &quot;    &lt;/scenario&gt;\\n&quot; +\r\n                &quot;    &lt;scenario name=\\&quot;Scenario 3\\&quot; duration=\\&quot;30\\&quot; interval=\\&quot;4\\&quot;&gt;\\n&quot; +\r\n                &quot;        &lt;step action=\\&quot;Action 5\\&quot;&gt;\\n&quot; +\r\n                &quot;            &lt;parameter key=\\&quot;Param7\\&quot; value=\\&quot;Value7\\&quot; /&gt;\\n&quot; +\r\n                &quot;        &lt;/step&gt;\\n&quot; +\r\n                &quot;    &lt;/scenario&gt;\\n&quot; +\r\n                &quot;&lt;/scenarios&gt;&quot;;\r\n    \r\n        // Mock DocumentBuilderFactory and DocumentBuilder\r\n        //DocumentBuilderFactory documentBuilderFactoryMock =    \r\n        PowerMockito.mock(DocumentBuilderFactory.class);\r\n        //DocumentBuilder documentBuilderMock = PowerMockito.mock(DocumentBuilder.class); \r\n       \r\n        //PowerMockito.whenNew(\r\n        //DocumentBuilderFactory.class).withNoArguments().thenReturn(documentBuilderF\r\n        //actoryMock);\r\n    \r\n        //PowerMockito.when(\r\n        //documentBuilderFactoryMock.newDocumentBuilder()).thenReturn(documentBuilderMock);\r\n    \r\n        // Mock Document\r\n        //Document documentMock = PowerMockito.mock(Document.class);\r\n        //PowerMockito.\r\n        //when(documentBuilderMock.parse(Mockito.any(InputStream.class))).\r\n        //thenReturn(documentMock);\r\n        // Mock the scenarioElement, scenarioNode, and other necessary objects for testing\r\n    \r\n        // Mock DocumentBuilderFactory and DocumentBuilder\r\n        when(mockInputStream.read(Mockito.any(byte[].class), Mockito.anyInt(), Mockito.anyInt()))\r\n                .thenAnswer(invocation -&gt; {\r\n                    byte[] buffer = invocation.getArgument(0);\r\n                    byte[] contentBytes = xmlContent.getBytes();\r\n                    int len = Math.min(buffer.length, contentBytes.length);\r\n                    System.arraycopy(contentBytes, 0, buffer, 0, len);\r\n                    return len;\r\n                });\r\n    \r\n        // Create the scenario parser and parse the scenarios\r\n        PowerMockito.when(scenarioParser, PowerMockito.method(ScenarioParser.class,     \r\n        &quot;getResourceAsStream&quot;, String.class)).withArguments(Mockito.anyString())\r\n                .thenReturn(mockInputStream);\r\n    \r\n                \r\n        //when(scenarioParser, &quot;getResourceAsStream&quot;,    \r\n        ArgumentMatchers.anyString()).thenReturn(mockInputStream);\r\n        List&lt;Scenario&gt; scenarios = scenarioParser.parse();\r\n    \r\n        // Verify the parsed scenarios\r\n        assertEquals(2, scenarios.size());\r\n    \r\n        Scenario scenario1 = scenarios.get(0);\r\n        assertEquals(&quot;Scenario 1&quot;, scenario1.getName());\r\n        assertEquals(10, scenario1.getDuration());\r\n        assertEquals(2, scenario1.getInterval());\r\n    \r\n        List&lt;ScenarioStep&gt; steps1 = scenario1.getSteps();\r\n        assertEquals(2, steps1.size());\r\n        assertEquals(&quot;Action 1&quot;, steps1.get(0).getAction());\r\n        assertEquals(&quot;Value1&quot;, steps1.get(1).getParameter(&quot;Param1&quot;));\r\n    \r\n        Scenario scenario2 = scenarios.get(1);\r\n        assertEquals(&quot;Scenario 2&quot;, scenario2.getName());\r\n        assertEquals(20, scenario2.getDuration());\r\n        assertEquals(3, scenario2.getInterval());\r\n    \r\n        List&lt;ScenarioStep&gt; steps2 = scenario2.getSteps();\r\n        assertEquals(3, steps2.size());\r\n        assertEquals(&quot;Action 3&quot;, steps2.get(0).getAction());\r\n        assertEquals(&quot;Value4&quot;, steps2.get(1).getParameter(&quot;Param4&quot;));\r\n        assertEquals(&quot;Value5&quot;, steps2.get(2).getParameter(&quot;Param5&quot;));\r\n    }\r\n\r\n}\r\n```\r\n\r\nand this is the pom.xml file partial\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;...&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;&lt;version&gt;2.22.1&lt;/version&gt;&lt;configuration&gt;&lt;argLine&gt;--illegal-access=permit--add-opens java.base/java.lang=ALL-UNNAMED--add-opens java.base/java.util=ALL-UNNAMED--add-opens jdk.management/com.sun.management.internal=ALL-UNNAMED -Dillegal-access=permit\r\n        --add-exports org.junit.platform.commons/org.junit.platform.commons.util=ALL-UNNAMED\r\n        --add-exports org.junit.platform.commons/org.junit.platform.commons.logging=ALL-UNNAMED\r\n        &lt;/argLine&gt;\r\n      &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n    ...\r\n```\r\n\r\n\r\nWhen executing the test without or with the Maven goal `-Dmaven.surefire.debug test`, I encounter the following error:\r\n\r\n&gt; java.lang.VerifyError:Bad type on operand stackException\r\n&gt; Details:Location:javax/xml/parsers/DocumentBuilderFactory.newDefaultNSInstance()Ljavax/xml/parsers/DocumentBuilderFactory;\r\n&gt; @119: invokestaticReason:Type\r\n&gt; &#39;com/sun/org/apache/xerces/internal/jaxp/DocumentBuilderFactoryImpl&#39;\r\n&gt; (current frame, stack[0]) is not assignable to\r\n&gt; &#39;javax/xml/parsers/DocumentBuilderFactory&#39;...\r\n\r\n\r\nHow to fix this issue!","title":"Unit Test in Java, using Powermock, how to mock/spy xml parser class private method","body":"<p>I would like to write unit test a function that calls another private function. This private function is responsible for reading an XML file from disk. However, I want to avoid dependencies on a real file during the unit test. Instead, I would like to use XML content stored in a String variable.</p>\n<p>Despite successfully mocking the ScenarioParser, I am encountering an error due to the inner variables DocumentBuilder and DocumentFactory. Therefore, I was considering extending and modifying the unit test accordingly to address this issue.</p>\n<p>I am using PowerMockito &amp; JUnit4.</p>\n<p>Class which is being tested:</p>\n<pre><code>\n    private static final Logger LOGGER = LoggerFactory.getLogger(ScenarioParser.class);\n    \n    private final String scenarioFile;\n    \n    /**\n     * Constructs a ScenarioParser with the specified scenario file path.\n     *\n     * @param scenarioFile the path to the scenario XML file\n     */\n    public ScenarioParser(String scenarioFile) {\n        LOGGER.debug(&quot;ScenarioParser Ctor&quot;);\n        this.scenarioFile = scenarioFile;\n    }\n    \n    /**\n     * Parses the scenario XML file and returns a list of Scenario objects.\n     *\n     * @return the list of parsed Scenario objects\n     */\n    public List&lt;Scenario&gt; parse() {\n        List&lt;Scenario&gt; scenarios = new ArrayList&lt;&gt;();\n    \n        try(InputStream inputStream = getResourceAsStream(scenarioFile))  \n        {\n            LOGGER.trace(&quot;getResourceAsStream is working for {0}&quot;, scenarioFile);\n            if (inputStream != null) {\n                Document document = parseDocument(inputStream);\n                if (document != null) {\n                    scenarios = parseScenarios(document);\n                }\n            } else {\n                LOGGER.error(&quot;Scenario XML file {} is not found&quot;, scenarioFile);\n            }\n        } catch (IOException e) {\n            LOGGER.error(&quot;Failed to read the scenario XML file: {}&quot;, e.getMessage());\n        }\n    \n        return scenarios;\n    }\n    \n    /**\n     * Retrieves the input stream for the scenario XML file.\n     *\n     * @param scenarioFile the path to the scenario XML file\n     * @return the input stream for the scenario XML file\n     */\n    private InputStream getResourceAsStream(String resourcePath) {\n        return Thread.currentThread().getContextClassLoader().getResourceAsStream(resourcePath);\n    }\n    \n    /**\n     * Parses the XML document from the input stream.\n     *\n     * @param inputStream the input stream of the XML file\n     * @return the parsed Document object\n     */\n    private Document parseDocument(InputStream inputStream) {\n        DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\n        try {\n            DocumentBuilder builder = factory.newDocumentBuilder();\n            return builder.parse(inputStream);\n        } catch (ParserConfigurationException | SAXException | IOException e) {\n            LOGGER.error(&quot;Failed to parse the scenario XML file: {}&quot;, e.getMessage());\n        }\n        return null;\n    }\n    \n    /**\n     * Parses the Document and returns a list of Scenario objects.\n     *\n     * @param document the scenario element\n     * @return the list of parsed Scenario objects\n     */\n    private List&lt;Scenario&gt; parseScenarios(Document document) {\n        List&lt;Scenario&gt; scenarios = new ArrayList&lt;&gt;();\n        Element rootElement = document.getDocumentElement();\n        NodeList scenarioNodes = rootElement.getElementsByTagName(&quot;scenario&quot;);\n    \n        for (int i = 0; i &lt; scenarioNodes.getLength(); i++) {\n            Node scenarioNode = scenarioNodes.item(i);\n            if (scenarioNode.getNodeType() == Node.ELEMENT_NODE) {\n                Element scenarioElement = (Element) scenarioNode;\n                String name = scenarioElement.getAttribute(&quot;name&quot;);\n                //...\n            }\n        }\n    \n        return scenarios;\n    }\n    \n    /**\n     * Parses the step elements within a scenario element and creates ScenarioStep\n     * objects.\n     *\n     * @param scenarioElement the scenario element\n     * @return the list of parsed ScenarioStep objects\n     */\n    private List&lt;ScenarioStep&gt; parseScenarioSteps(Element scenarioElement) {\n        List&lt;ScenarioStep&gt; steps = new ArrayList&lt;&gt;();\n        NodeList stepNodes = scenarioElement.getElementsByTagName(&quot;step&quot;);\n    \n        for (int j = 0; j &lt; stepNodes.getLength(); j++) {\n            Node stepNode = stepNodes.item(j);\n    \n            if (stepNode.getNodeType() == Node.ELEMENT_NODE) {\n                Element stepElement = (Element) stepNode;\n                //..\n                steps.add(step);\n            }\n        }\n    \n        return steps;\n    }\n    \n    /**\n     * Parses the parameter elements within a step element and creates a map of\n     * parameter key-value pairs.\n     *\n     * @param stepElement the step element\n     * @return the map of parsed parameter key-value pairs\n     */\n    private Map&lt;String, String&gt; parseStepParameters(Element stepElement) {\n        Map&lt;String, String&gt; parameters = new HashMap&lt;&gt;();\n        NodeList parameterNodes = stepElement.getElementsByTagName(&quot;parameter&quot;);\n    \n        for (int k = 0; k &lt; parameterNodes.getLength(); k++) {\n            Node parameterNode = parameterNodes.item(k);\n    \n            if (parameterNode.getNodeType() == Node.ELEMENT_NODE) {\n                Element parameterElement = (Element) parameterNode;\n                String key = parameterElement.getAttribute(&quot;key&quot;);\n                String value = parameterElement.getAttribute(&quot;value&quot;);\n                parameters.put(key, value);\n            }\n        }\n    \n        return parameters;\n     } \n}\n</code></pre>\n<p>Following is my test class:</p>\n<pre><code>@RunWith(PowerMockRunner.class)\n@PowerMockIgnore({ &quot;com.sun.org.apache.xerces.&quot;, &quot;javax.xml.&quot;, &quot;org.xml.&quot;,   &quot;javax.management.&quot;})@PrepareForTest({ ScenarioParser.class, DocumentBuilderFactory.class, DocumentBuilder.class })public class ScenarioParserTest {\n\n    @Mock\n    private InputStream mockInputStream;\n    \n    @Spy\n    private ScenarioParser scenarioParser = new ScenarioParser(&quot;sample.xml&quot;); \n    \n    @Before\n    public void setup() throws Exception {\n        MockitoAnnotations.initMocks(this);\n       \n    }\n    \n    @Test\n    public void testParse_ValidInput_ReturnsScenarios() throws Exception {\n        // Mock the input stream with a sample XML content\n        String xmlContent = &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;\\n&quot; +\n                &quot;&lt;scenarios&gt;\\n&quot; +\n                &quot;     &lt;scenario name=\\&quot;Scenario 1\\&quot; duration=\\&quot;10\\&quot; interval=\\&quot;2\\&quot;&gt;\\n&quot; +\n                &quot;       &lt;step action=\\&quot;Action 1\\&quot;&gt;\\n&quot; +\n                &quot;            &lt;parameter key=\\&quot;Param1\\&quot; value=\\&quot;Value1\\&quot; /&gt;\\n&quot; +\n                &quot;            &lt;parameter key=\\&quot;Param2\\&quot; value=\\&quot;Value2\\&quot; /&gt;\\n&quot; +\n                &quot;        &lt;/step&gt;\\n&quot; +\n                &quot;        &lt;step action=\\&quot;Action 2\\&quot;&gt;\\n&quot; +\n                &quot;            &lt;parameter key=\\&quot;Param3\\&quot; value=\\&quot;Value3\\&quot; /&gt;\\n&quot; +\n                &quot;        &lt;/step&gt;\\n&quot; +\n                &quot;    &lt;/scenario&gt;\\n&quot; +\n                &quot;    &lt;scenario name=\\&quot;Scenario 2\\&quot; duration=\\&quot;20\\&quot; interval=\\&quot;3\\&quot;&gt;\\n&quot; +\n                &quot;        &lt;step action=\\&quot;Action 3\\&quot;&gt;\\n&quot; +\n                &quot;            &lt;parameter key=\\&quot;Param4\\&quot; value=\\&quot;Value4\\&quot; /&gt;\\n&quot; +\n                &quot;            &lt;parameter key=\\&quot;Param5\\&quot; value=\\&quot;Value5\\&quot; /&gt;\\n&quot; +\n                &quot;            &lt;parameter key=\\&quot;Param6\\&quot; value=\\&quot;Value6\\&quot; /&gt;\\n&quot; +\n                &quot;        &lt;/step&gt;\\n&quot; +\n                &quot;        &lt;step action=\\&quot;Action 4\\&quot; /&gt;\\n&quot; +\n                &quot;    &lt;/scenario&gt;\\n&quot; +\n                &quot;    &lt;scenario name=\\&quot;Scenario 3\\&quot; duration=\\&quot;30\\&quot; interval=\\&quot;4\\&quot;&gt;\\n&quot; +\n                &quot;        &lt;step action=\\&quot;Action 5\\&quot;&gt;\\n&quot; +\n                &quot;            &lt;parameter key=\\&quot;Param7\\&quot; value=\\&quot;Value7\\&quot; /&gt;\\n&quot; +\n                &quot;        &lt;/step&gt;\\n&quot; +\n                &quot;    &lt;/scenario&gt;\\n&quot; +\n                &quot;&lt;/scenarios&gt;&quot;;\n    \n        // Mock DocumentBuilderFactory and DocumentBuilder\n        //DocumentBuilderFactory documentBuilderFactoryMock =    \n        PowerMockito.mock(DocumentBuilderFactory.class);\n        //DocumentBuilder documentBuilderMock = PowerMockito.mock(DocumentBuilder.class); \n       \n        //PowerMockito.whenNew(\n        //DocumentBuilderFactory.class).withNoArguments().thenReturn(documentBuilderF\n        //actoryMock);\n    \n        //PowerMockito.when(\n        //documentBuilderFactoryMock.newDocumentBuilder()).thenReturn(documentBuilderMock);\n    \n        // Mock Document\n        //Document documentMock = PowerMockito.mock(Document.class);\n        //PowerMockito.\n        //when(documentBuilderMock.parse(Mockito.any(InputStream.class))).\n        //thenReturn(documentMock);\n        // Mock the scenarioElement, scenarioNode, and other necessary objects for testing\n    \n        // Mock DocumentBuilderFactory and DocumentBuilder\n        when(mockInputStream.read(Mockito.any(byte[].class), Mockito.anyInt(), Mockito.anyInt()))\n                .thenAnswer(invocation -&gt; {\n                    byte[] buffer = invocation.getArgument(0);\n                    byte[] contentBytes = xmlContent.getBytes();\n                    int len = Math.min(buffer.length, contentBytes.length);\n                    System.arraycopy(contentBytes, 0, buffer, 0, len);\n                    return len;\n                });\n    \n        // Create the scenario parser and parse the scenarios\n        PowerMockito.when(scenarioParser, PowerMockito.method(ScenarioParser.class,     \n        &quot;getResourceAsStream&quot;, String.class)).withArguments(Mockito.anyString())\n                .thenReturn(mockInputStream);\n    \n                \n        //when(scenarioParser, &quot;getResourceAsStream&quot;,    \n        ArgumentMatchers.anyString()).thenReturn(mockInputStream);\n        List&lt;Scenario&gt; scenarios = scenarioParser.parse();\n    \n        // Verify the parsed scenarios\n        assertEquals(2, scenarios.size());\n    \n        Scenario scenario1 = scenarios.get(0);\n        assertEquals(&quot;Scenario 1&quot;, scenario1.getName());\n        assertEquals(10, scenario1.getDuration());\n        assertEquals(2, scenario1.getInterval());\n    \n        List&lt;ScenarioStep&gt; steps1 = scenario1.getSteps();\n        assertEquals(2, steps1.size());\n        assertEquals(&quot;Action 1&quot;, steps1.get(0).getAction());\n        assertEquals(&quot;Value1&quot;, steps1.get(1).getParameter(&quot;Param1&quot;));\n    \n        Scenario scenario2 = scenarios.get(1);\n        assertEquals(&quot;Scenario 2&quot;, scenario2.getName());\n        assertEquals(20, scenario2.getDuration());\n        assertEquals(3, scenario2.getInterval());\n    \n        List&lt;ScenarioStep&gt; steps2 = scenario2.getSteps();\n        assertEquals(3, steps2.size());\n        assertEquals(&quot;Action 3&quot;, steps2.get(0).getAction());\n        assertEquals(&quot;Value4&quot;, steps2.get(1).getParameter(&quot;Param4&quot;));\n        assertEquals(&quot;Value5&quot;, steps2.get(2).getParameter(&quot;Param5&quot;));\n    }\n\n}\n</code></pre>\n<p>and this is the pom.xml file partial</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;...&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;&lt;version&gt;2.22.1&lt;/version&gt;&lt;configuration&gt;&lt;argLine&gt;--illegal-access=permit--add-opens java.base/java.lang=ALL-UNNAMED--add-opens java.base/java.util=ALL-UNNAMED--add-opens jdk.management/com.sun.management.internal=ALL-UNNAMED -Dillegal-access=permit\n        --add-exports org.junit.platform.commons/org.junit.platform.commons.util=ALL-UNNAMED\n        --add-exports org.junit.platform.commons/org.junit.platform.commons.logging=ALL-UNNAMED\n        &lt;/argLine&gt;\n      &lt;/configuration&gt;\n    &lt;/plugin&gt;\n    ...\n</code></pre>\n<p>When executing the test without or with the Maven goal <code>-Dmaven.surefire.debug test</code>, I encounter the following error:</p>\n<blockquote>\n<p>java.lang.VerifyError:Bad type on operand stackException\nDetails:Location:javax/xml/parsers/DocumentBuilderFactory.newDefaultNSInstance()Ljavax/xml/parsers/DocumentBuilderFactory;\n@119: invokestaticReason:Type\n'com/sun/org/apache/xerces/internal/jaxp/DocumentBuilderFactoryImpl'\n(current frame, stack[0]) is not assignable to\n'javax/xml/parsers/DocumentBuilderFactory'...</p>\n</blockquote>\n<p>How to fix this issue!</p>\n"},{"tags":["java","mockito"],"answers":[{"comments":[{"owner":{"account_id":1900320,"reputation":25,"user_id":1716304,"display_name":"user1716304"},"score":0,"creation_date":1549881782,"post_id":54628694,"comment_id":96049740,"body_markdown":"i removed the initialization as you said, but still the same :(","body":"i removed the initialization as you said, but still the same :("},{"owner":{"account_id":1900320,"reputation":25,"user_id":1716304,"display_name":"user1716304"},"score":0,"creation_date":1549883893,"post_id":54628694,"comment_id":96050987,"body_markdown":"So now here is what I have done with no luck. I moved the instantiation to the constructor\n\n    public BatTrafficManagerStatsHelper(Date date) {\n        this.date = new Date(date.getTime());\n        this.mtsConfFactoryWrapper = new MtsConfFactoryWrapper();\n    }\n\nAlso, removed the object creating from within the method. \n\nin the test class\n\n    @-Mock\n    private MtsConfFactoryWrapper mtsConfFactoryWrapper;\n    final Date date = Mockito.mock(Date.class);\n    @-InjectMocks\n    BatTrafficManagerStatsHelper btmStatsHelper = new BatTrafficManagerStatsHelper(date);","body":"So now here is what I have done with no luck. I moved the instantiation to the constructor      public BatTrafficManagerStatsHelper(Date date) {         this.date = new Date(date.getTime());         this.mtsConfFactoryWrapper = new MtsConfFactoryWrapper();     }  Also, removed the object creating from within the method.   in the test class      @-Mock     private MtsConfFactoryWrapper mtsConfFactoryWrapper;     final Date date = Mockito.mock(Date.class);     @-InjectMocks     BatTrafficManagerStatsHelper btmStatsHelper = new BatTrafficManagerStatsHelper(date);"},{"owner":{"account_id":14722005,"reputation":3527,"user_id":10632291,"display_name":"Sandeepa"},"score":0,"creation_date":1549884009,"post_id":54628694,"comment_id":96051050,"body_markdown":"I think you have misunderstood what I said. You need to inject the `MtsConfFactoryWrapper`. I have updated my answer again","body":"I think you have misunderstood what I said. You need to inject the <code>MtsConfFactoryWrapper</code>. I have updated my answer again"},{"owner":{"account_id":346350,"reputation":14221,"user_id":679824,"accept_rate":40,"display_name":"Krishnan Mahadevan"},"score":0,"creation_date":1549884771,"post_id":54628694,"comment_id":96051449,"body_markdown":"@user1716304 - Please accept the answer so that the question gets closed.","body":"@user1716304 - Please accept the answer so that the question gets closed."}],"tags":[],"owner":{"account_id":14722005,"reputation":3527,"user_id":10632291,"display_name":"Sandeepa"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1549896717,"creation_date":1549881650,"answer_id":54628694,"question_id":54628527,"body_markdown":"Use this in your test class,\r\n\r\n    @Mock\r\n    private MtsConfFactoryWrapper mtsConfFactoryWrapper;\r\n\r\ninstead of\r\n\r\n    @Mock\r\n    private MtsConfFactoryWrapper mtsConfFactoryWrapper = new MtsConfFactoryWrapper();\r\n\r\nYou shouldn&#39;t assigned a new object to `mtsConfFactoryWrapper` variable. A mock object will be assigned to `mtsConfFactoryWrapper` variable when `MockitoAnnotations.initMocks(this);` get called.\r\n\r\nIn your method you are always creating a new object like below,\r\n\r\n`MtsConfFactoryWrapper mtsConfFactoryWrapper = new MtsConfFactoryWrapper();`\r\n\r\nSo even you mocked the object in your test, when the method get called, it will again create a new object. Try to inject that to the class instead of creating a new instance inside your method.\r\n\r\nYour class should look like this,\r\n\r\n    public class BatTrafficManagerStatsHelper {\r\n    \r\n        private MtsConfFactoryWrapper mtsConfFactoryWrapper;\r\n        \r\n        public BatTrafficManagerStatsHelper(MtsConfFactoryWrapper mtsConfFactoryWrapper) {\r\n            this.mtsConfFactoryWrapper = mtsConfFactoryWrapper;\r\n        }\r\n        \r\n        // other stuffs\r\n    }\r\n\r\nIn your test class when you create the object of `BatTrafficManagerStatsHelper`, pass your mock object to the constructor as below,\r\n\r\n    public class BatTrafficManagerStatsHelperTest {\r\n        @Test\r\n        public void testGetBtmString() throws Exception {\r\n            //your code\r\n    \r\n            BatTrafficManagerStatsHelper btmStatsHelper = new BatTrafficManagerStatsHelper(passYourMockedObjectHere);\r\n        }\r\n    }","title":"mocked method not being invoked","body":"<p>Use this in your test class,</p>\n\n<pre><code>@Mock\nprivate MtsConfFactoryWrapper mtsConfFactoryWrapper;\n</code></pre>\n\n<p>instead of</p>\n\n<pre><code>@Mock\nprivate MtsConfFactoryWrapper mtsConfFactoryWrapper = new MtsConfFactoryWrapper();\n</code></pre>\n\n<p>You shouldn't assigned a new object to <code>mtsConfFactoryWrapper</code> variable. A mock object will be assigned to <code>mtsConfFactoryWrapper</code> variable when <code>MockitoAnnotations.initMocks(this);</code> get called.</p>\n\n<p>In your method you are always creating a new object like below,</p>\n\n<p><code>MtsConfFactoryWrapper mtsConfFactoryWrapper = new MtsConfFactoryWrapper();</code></p>\n\n<p>So even you mocked the object in your test, when the method get called, it will again create a new object. Try to inject that to the class instead of creating a new instance inside your method.</p>\n\n<p>Your class should look like this,</p>\n\n<pre><code>public class BatTrafficManagerStatsHelper {\n\n    private MtsConfFactoryWrapper mtsConfFactoryWrapper;\n\n    public BatTrafficManagerStatsHelper(MtsConfFactoryWrapper mtsConfFactoryWrapper) {\n        this.mtsConfFactoryWrapper = mtsConfFactoryWrapper;\n    }\n\n    // other stuffs\n}\n</code></pre>\n\n<p>In your test class when you create the object of <code>BatTrafficManagerStatsHelper</code>, pass your mock object to the constructor as below,</p>\n\n<pre><code>public class BatTrafficManagerStatsHelperTest {\n    @Test\n    public void testGetBtmString() throws Exception {\n        //your code\n\n        BatTrafficManagerStatsHelper btmStatsHelper = new BatTrafficManagerStatsHelper(passYourMockedObjectHere);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1900320,"reputation":25,"user_id":1716304,"display_name":"user1716304"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1156,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":54628694,"answer_count":1,"score":1,"last_activity_date":1684872222,"creation_date":1549881117,"question_id":54628527,"body_markdown":"I am using testng with Mockito and due to a restriction I cannot use PowerMock. When i try to run my test, for some reason the real method is called instead of the mock! I have added a wrapper class around the class which has static methods. I know from the documentation that Mockito does not support static methods. So, as a way over it, I have written a simple wrapper which just calls the static method in that class.\r\n    \r\n    public class BatTrafficManagerStatsHelperTest {\r\n    \r\n        @Mock\r\n        private MtsConfFactoryWrapper mtsConfFactoryWrapper = new MtsConfFactoryWrapper();\r\n    \r\n        private static final String EXPECTED_JSON_STR = &quot;{&quot;\r\n                + &quot;         \\&quot;duration\\&quot;: 100,&quot;\r\n                + &quot;         \\&quot;timestamp\\&quot;: \\&quot;1970-01-01T00:00:00\\&quot;,&quot;\r\n                + &quot;         \\&quot;cellMetrics\\&quot;: {&quot;\r\n                + &quot;           \\&quot;enb1_cell1\\&quot;: {&quot;\r\n                + &quot;             \\&quot;handoverAttempts\\&quot;: 2,&quot;\r\n                + &quot;             \\&quot;rrcConnectionAttempts\\&quot;: 1&quot;\r\n                + &quot;           }&quot;\r\n                + &quot;         },&quot;\r\n                + &quot;         \\&quot;trafficProfileMetrics\\&quot;: {&quot;\r\n                + &quot;           \\&quot;voipSpeech_2PDN\\&quot;: {&quot;\r\n                + &quot;             \\&quot;srMtSuccess\\&quot;: 4,&quot;\r\n                + &quot;             \\&quot;numberOfUEs\\&quot;: 100,&quot;\r\n                + &quot;             \\&quot;srMoSuccess\\&quot;: 3,&quot;\r\n                + &quot;             \\&quot;attachSuccess\\&quot;: 5,&quot;\r\n                + &quot;             \\&quot;rrcConnectionAttempts\\&quot;: 1&quot;\r\n                + &quot;           }&quot;\r\n                + &quot;         },&quot;\r\n                + &quot;         \\&quot;ueGroupMetrics\\&quot;: {&quot;\r\n                + &quot;           \\&quot;ueGroup1\\&quot;: {&quot;\r\n                + &quot;             \\&quot;handoverAttempts\\&quot;: 2,&quot;\r\n                + &quot;             \\&quot;numberOfUEs\\&quot;: 100,&quot;\r\n                + &quot;             \\&quot;rrcConnectionAttempts\\&quot;: 1&quot;\r\n                + &quot;           }&quot;\r\n                + &quot;         }&quot;\r\n                + &quot;       }&quot;;\r\n    \r\n        @BeforeMethod\r\n        public void setUp() {\r\n            MockitoAnnotations.initMocks(this);\r\n        }\r\n    \r\n        /**\r\n         * getBstmString()\r\n         * Setup mock, tests getBstmString() and verify result\r\n         *\r\n         * @throws Exception\r\n         */\r\n        @Test\r\n        public void testGetBtmString() throws Exception {\r\n            final Date date = Mockito.mock(Date.class);\r\n            Mockito.when(date.getTime()).thenReturn(0L);\r\n    \r\n            final Map&lt;OptimizedRoute, List&lt;StatsQueue&gt;&gt; ueStatsTrackerMock = getUeStatsTrackerMock();\r\n            final Map&lt;Enb, List&lt;OptimizedCellStatsQueue&gt;&gt; cellStatsTrackerMock = getCellStatsTrackerMock();\r\n            final MtsConfBuilder confBuilderMock = Mockito.mock(MtsConfBuilder.class);\r\n            final Tracker trackerMock = Mockito.mock(Tracker.class);\r\n    \r\n            Mockito.when(mtsConfFactoryWrapper.getConfBuilderr()).thenReturn(confBuilderMock);\r\n            Mockito.when(confBuilderMock.getTracker()).thenReturn(trackerMock);\r\n            Mockito.when(trackerMock.getUeStatsTracker()).thenReturn(\r\n                    ueStatsTrackerMock);\r\n            Mockito.when(trackerMock.getCellStatsTracker()).thenReturn(\r\n                    cellStatsTrackerMock);\r\n            Mockito.when(trackerMock.getConfiguredTrafficProfiles())\r\n                    .thenReturn(\r\n                            getFakeTrafficProfilesList());\r\n    \r\n            BatTrafficManagerStatsHelper btmStatsHelper = new BatTrafficManagerStatsHelper(date);\r\n            String result = btmStatsHelper.getBtmString(TIME).replace(&quot;JsonDataForBatTrafficManagerRegex:&quot;, &quot;&quot;);\r\n    \r\n            JsonParser parser = new JsonParser();\r\n            assertEquals(parser.parse(result), parser.parse(EXPECTED_JSON_STR));\r\n        }\r\n    \r\n    }\r\n\r\n    \r\nThe orginal class under test looks like this \r\n    \r\n    public class BatTrafficManagerStatsHelper {\r\n    \r\n        private final Date date;\r\n    \r\n        /*\r\n         * Constants for BAT Traffic Manager log parsing\r\n         */\r\n        private static final ImmutableMap&lt;String, String&gt; AHL_STATS_CONSTANTS_TO_BTM_CONSTANTS = ImmutableMap.of(\r\n                BatAeroflexHLStatsConstants.RRC_CONNECTION_REQUEST_ATTEMPTS, &quot;rrcConnectionAttempts&quot;,\r\n                BatAeroflexHLStatsConstants.HANDOVER_ATTEMPTS, &quot;handoverAttempts&quot;,\r\n                BatAeroflexHLStatsConstants.SERVICE_REQ_MO_SUCCESS, &quot;srMoSuccess&quot;,\r\n                BatAeroflexHLStatsConstants.SERVICE_REQ_MT_SUCCESS, &quot;srMtSuccess&quot;,\r\n                BatAeroflexHLStatsConstants.ATTACH_SUCCESS, &quot;attachSuccess&quot;);\r\n        private static final String NUMBER_OF_UES = &quot;numberOfUEs&quot;;\r\n    \r\n        /**\r\n         * Constructor\r\n         *\r\n         * @param date\r\n         */\r\n        public BatTrafficManagerStatsHelper(Date date) {\r\n            this.date = new Date(date.getTime());\r\n        }\r\n    \r\n        /**\r\n         * Extracts log data and returns it in a format suited\r\n         * for parsing in {@literal BAT Traffic Manager}.\r\n         *\r\n         * @param elapsedTime\r\n         * @return log data for BAT Traffic Manager\r\n         */\r\n        public String getBtmString(long elapsedTime) {\r\n            MtsConfFactoryWrapper mtsConfFactoryWrapper = new MtsConfFactoryWrapper();\r\n            Map&lt;OptimizedRoute, List&lt;StatsQueue&gt;&gt; ueGroupTracker = mtsConfFactoryWrapper.getConfBuilderr().getTracker()\r\n                    .getUeStatsTracker();\r\n            Map&lt;Enb, List&lt;OptimizedCellStatsQueue&gt;&gt; cellTracker = mtsConfFactoryWrapper.getConfBuilderr().getTracker()\r\n                    .getCellStatsTracker();\r\n    \r\n            BatTrafficManagerStatsHelperJson json = new BatTrafficManagerStatsHelperJsonBuilder()\r\n                    .setDuration(elapsedTime)\r\n                    .setTimestamp(getTimeStamp())\r\n                    .setCellMetrics(getCellMetrics(cellTracker))\r\n                    .setTrafficProfileMetrics(getTrafficProfileMetrics(ueGroupTracker))\r\n                    .setUeGroupMetrics(getUeGroupMetrics(ueGroupTracker))\r\n                    .build();\r\n    \r\n            return &quot;JsonDataForBatTrafficManagerRegex:&quot; + getJsonString(json);\r\n        }\r\n    \r\n    }\r\n\r\n    public class MtsConfFactoryWrapper  {\r\n        public MtsConfFactoryWrapper() {}\r\n   \r\n        public MtsConfBuilder getConfBuilderr() {\r\n            return MtsConfFactory.getConfBuilder();\r\n        }\r\n    }\r\n","title":"mocked method not being invoked","body":"<p>I am using testng with Mockito and due to a restriction I cannot use PowerMock. When i try to run my test, for some reason the real method is called instead of the mock! I have added a wrapper class around the class which has static methods. I know from the documentation that Mockito does not support static methods. So, as a way over it, I have written a simple wrapper which just calls the static method in that class.</p>\n<pre><code>public class BatTrafficManagerStatsHelperTest {\n\n    @Mock\n    private MtsConfFactoryWrapper mtsConfFactoryWrapper = new MtsConfFactoryWrapper();\n\n    private static final String EXPECTED_JSON_STR = &quot;{&quot;\n            + &quot;         \\&quot;duration\\&quot;: 100,&quot;\n            + &quot;         \\&quot;timestamp\\&quot;: \\&quot;1970-01-01T00:00:00\\&quot;,&quot;\n            + &quot;         \\&quot;cellMetrics\\&quot;: {&quot;\n            + &quot;           \\&quot;enb1_cell1\\&quot;: {&quot;\n            + &quot;             \\&quot;handoverAttempts\\&quot;: 2,&quot;\n            + &quot;             \\&quot;rrcConnectionAttempts\\&quot;: 1&quot;\n            + &quot;           }&quot;\n            + &quot;         },&quot;\n            + &quot;         \\&quot;trafficProfileMetrics\\&quot;: {&quot;\n            + &quot;           \\&quot;voipSpeech_2PDN\\&quot;: {&quot;\n            + &quot;             \\&quot;srMtSuccess\\&quot;: 4,&quot;\n            + &quot;             \\&quot;numberOfUEs\\&quot;: 100,&quot;\n            + &quot;             \\&quot;srMoSuccess\\&quot;: 3,&quot;\n            + &quot;             \\&quot;attachSuccess\\&quot;: 5,&quot;\n            + &quot;             \\&quot;rrcConnectionAttempts\\&quot;: 1&quot;\n            + &quot;           }&quot;\n            + &quot;         },&quot;\n            + &quot;         \\&quot;ueGroupMetrics\\&quot;: {&quot;\n            + &quot;           \\&quot;ueGroup1\\&quot;: {&quot;\n            + &quot;             \\&quot;handoverAttempts\\&quot;: 2,&quot;\n            + &quot;             \\&quot;numberOfUEs\\&quot;: 100,&quot;\n            + &quot;             \\&quot;rrcConnectionAttempts\\&quot;: 1&quot;\n            + &quot;           }&quot;\n            + &quot;         }&quot;\n            + &quot;       }&quot;;\n\n    @BeforeMethod\n    public void setUp() {\n        MockitoAnnotations.initMocks(this);\n    }\n\n    /**\n     * getBstmString()\n     * Setup mock, tests getBstmString() and verify result\n     *\n     * @throws Exception\n     */\n    @Test\n    public void testGetBtmString() throws Exception {\n        final Date date = Mockito.mock(Date.class);\n        Mockito.when(date.getTime()).thenReturn(0L);\n\n        final Map&lt;OptimizedRoute, List&lt;StatsQueue&gt;&gt; ueStatsTrackerMock = getUeStatsTrackerMock();\n        final Map&lt;Enb, List&lt;OptimizedCellStatsQueue&gt;&gt; cellStatsTrackerMock = getCellStatsTrackerMock();\n        final MtsConfBuilder confBuilderMock = Mockito.mock(MtsConfBuilder.class);\n        final Tracker trackerMock = Mockito.mock(Tracker.class);\n\n        Mockito.when(mtsConfFactoryWrapper.getConfBuilderr()).thenReturn(confBuilderMock);\n        Mockito.when(confBuilderMock.getTracker()).thenReturn(trackerMock);\n        Mockito.when(trackerMock.getUeStatsTracker()).thenReturn(\n                ueStatsTrackerMock);\n        Mockito.when(trackerMock.getCellStatsTracker()).thenReturn(\n                cellStatsTrackerMock);\n        Mockito.when(trackerMock.getConfiguredTrafficProfiles())\n                .thenReturn(\n                        getFakeTrafficProfilesList());\n\n        BatTrafficManagerStatsHelper btmStatsHelper = new BatTrafficManagerStatsHelper(date);\n        String result = btmStatsHelper.getBtmString(TIME).replace(&quot;JsonDataForBatTrafficManagerRegex:&quot;, &quot;&quot;);\n\n        JsonParser parser = new JsonParser();\n        assertEquals(parser.parse(result), parser.parse(EXPECTED_JSON_STR));\n    }\n\n}\n</code></pre>\n<p>The orginal class under test looks like this</p>\n<pre><code>public class BatTrafficManagerStatsHelper {\n\n    private final Date date;\n\n    /*\n     * Constants for BAT Traffic Manager log parsing\n     */\n    private static final ImmutableMap&lt;String, String&gt; AHL_STATS_CONSTANTS_TO_BTM_CONSTANTS = ImmutableMap.of(\n            BatAeroflexHLStatsConstants.RRC_CONNECTION_REQUEST_ATTEMPTS, &quot;rrcConnectionAttempts&quot;,\n            BatAeroflexHLStatsConstants.HANDOVER_ATTEMPTS, &quot;handoverAttempts&quot;,\n            BatAeroflexHLStatsConstants.SERVICE_REQ_MO_SUCCESS, &quot;srMoSuccess&quot;,\n            BatAeroflexHLStatsConstants.SERVICE_REQ_MT_SUCCESS, &quot;srMtSuccess&quot;,\n            BatAeroflexHLStatsConstants.ATTACH_SUCCESS, &quot;attachSuccess&quot;);\n    private static final String NUMBER_OF_UES = &quot;numberOfUEs&quot;;\n\n    /**\n     * Constructor\n     *\n     * @param date\n     */\n    public BatTrafficManagerStatsHelper(Date date) {\n        this.date = new Date(date.getTime());\n    }\n\n    /**\n     * Extracts log data and returns it in a format suited\n     * for parsing in {@literal BAT Traffic Manager}.\n     *\n     * @param elapsedTime\n     * @return log data for BAT Traffic Manager\n     */\n    public String getBtmString(long elapsedTime) {\n        MtsConfFactoryWrapper mtsConfFactoryWrapper = new MtsConfFactoryWrapper();\n        Map&lt;OptimizedRoute, List&lt;StatsQueue&gt;&gt; ueGroupTracker = mtsConfFactoryWrapper.getConfBuilderr().getTracker()\n                .getUeStatsTracker();\n        Map&lt;Enb, List&lt;OptimizedCellStatsQueue&gt;&gt; cellTracker = mtsConfFactoryWrapper.getConfBuilderr().getTracker()\n                .getCellStatsTracker();\n\n        BatTrafficManagerStatsHelperJson json = new BatTrafficManagerStatsHelperJsonBuilder()\n                .setDuration(elapsedTime)\n                .setTimestamp(getTimeStamp())\n                .setCellMetrics(getCellMetrics(cellTracker))\n                .setTrafficProfileMetrics(getTrafficProfileMetrics(ueGroupTracker))\n                .setUeGroupMetrics(getUeGroupMetrics(ueGroupTracker))\n                .build();\n\n        return &quot;JsonDataForBatTrafficManagerRegex:&quot; + getJsonString(json);\n    }\n\n}\n\npublic class MtsConfFactoryWrapper  {\n    public MtsConfFactoryWrapper() {}\n\n    public MtsConfBuilder getConfBuilderr() {\n        return MtsConfFactory.getConfBuilder();\n    }\n}\n</code></pre>\n"},{"tags":["java"],"owner":{"account_id":10455199,"reputation":11,"user_id":7707553,"display_name":"Wenbo Qin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684871732,"creation_date":1684826328,"question_id":76312172,"body_markdown":"Test skill error, error message as follows\r\n\r\n```java\r\nExpected state to include: {&quot;thermostatTemperatureSetpoint&quot;:20}, actual state: {}: expected false to be true\r\nThe data returned by action.devices.EXECUTE is \r\n\r\n{\r\n  &quot;payload&quot;: {\r\n    &quot;commands&quot;: [\r\n      {\r\n        &quot;ids&quot;: [\r\n          &quot;2-3ff7c353d55cfa6fa6d5a8e8facad017-32dcfe7c1&quot;\r\n        ],\r\n        &quot;status&quot;: &quot;SUCCESS&quot;,\r\n        &quot;states&quot;: {\r\n          &quot;online&quot;: true,\r\n          &quot;thermostatMode&quot;: &quot;on&quot;\r\n        }\r\n      }\r\n    ]\r\n  },\r\n  &quot;requestId&quot;: &quot;17484325286169092632&quot;\r\n}\r\n```\r\nAttempts to modify the return structure did not work","title":"How can I fix the &#39;Expected state to include&#39; error when using action.devices.EXECUTE with a thermostat device on Google Home?","body":"<p>Test skill error, error message as follows</p>\n<pre class=\"lang-java prettyprint-override\"><code>Expected state to include: {&quot;thermostatTemperatureSetpoint&quot;:20}, actual state: {}: expected false to be true\nThe data returned by action.devices.EXECUTE is \n\n{\n  &quot;payload&quot;: {\n    &quot;commands&quot;: [\n      {\n        &quot;ids&quot;: [\n          &quot;2-3ff7c353d55cfa6fa6d5a8e8facad017-32dcfe7c1&quot;\n        ],\n        &quot;status&quot;: &quot;SUCCESS&quot;,\n        &quot;states&quot;: {\n          &quot;online&quot;: true,\n          &quot;thermostatMode&quot;: &quot;on&quot;\n        }\n      }\n    ]\n  },\n  &quot;requestId&quot;: &quot;17484325286169092632&quot;\n}\n</code></pre>\n<p>Attempts to modify the return structure did not work</p>\n"},{"tags":["java","amazon-web-services","amazon-s3","download","large-files"],"comments":[{"owner":{"account_id":100740,"reputation":73227,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":3,"creation_date":1684875182,"post_id":76318227,"comment_id":134580802,"body_markdown":"You want to [copy an object from one bucket to another](https://stackoverflow.com/questions/56670285/aws-java-sdk-2-s3-copy-object)?","body":"You want to <a href=\"https://stackoverflow.com/questions/56670285/aws-java-sdk-2-s3-copy-object\">copy an object from one bucket to another</a>?"}],"owner":{"account_id":17228592,"reputation":11,"user_id":12473678,"display_name":"Rajat Dobriyal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684871714,"creation_date":1684871714,"question_id":76318227,"body_markdown":"S3 object read function does not read byte according to the buffer declared.\r\n\r\nI want to read a file from a bucket and upload that file into another bucket.\r\nBut as file can be huge I want to read and upload the file in chunks.\r\n\r\nFor reading I am using s3Object.read(buffer) and for uploading I am using CompletedMultipartUpload.\r\n\r\n```\r\npackage com.dnd.adx.injector;\r\n\r\nimport java.io.IOException;\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\n\r\nimport software.amazon.awssdk.auth.credentials.AwsCredentialsProvider;\r\nimport software.amazon.awssdk.auth.credentials.DefaultCredentialsProvider;\r\nimport software.amazon.awssdk.core.ResponseInputStream;\r\nimport software.amazon.awssdk.core.SdkBytes;\r\nimport software.amazon.awssdk.core.sync.RequestBody;\r\nimport software.amazon.awssdk.regions.Region;\r\nimport software.amazon.awssdk.services.s3.S3Client;\r\nimport software.amazon.awssdk.services.s3.model.CompleteMultipartUploadRequest;\r\nimport software.amazon.awssdk.services.s3.model.CompletedMultipartUpload;\r\nimport software.amazon.awssdk.services.s3.model.CompletedPart;\r\nimport software.amazon.awssdk.services.s3.model.CreateMultipartUploadRequest;\r\nimport software.amazon.awssdk.services.s3.model.CreateMultipartUploadResponse;\r\nimport software.amazon.awssdk.services.s3.model.GetObjectRequest;\r\nimport software.amazon.awssdk.services.s3.model.GetObjectResponse;\r\nimport software.amazon.awssdk.services.s3.model.UploadPartRequest;\r\n\r\npublic class Test {\r\n\tpublic static void main(String[] args) throws IOException {\r\n\t\tAwsCredentialsProvider awsCredentialsProvider = DefaultCredentialsProvider.builder().build();\r\n\t\tS3Client s3Client = S3Client.builder().region(Region.of(Region.CA_CENTRAL_1.toString()))\r\n\t\t\t\t.credentialsProvider(awsCredentialsProvider).build();\r\n\t\tGetObjectRequest getObjectRequest = GetObjectRequest.builder().bucket(&quot;dev-dnd-crushftp-client-bucket&quot;)\r\n\t\t\t\t.key(&quot;CrushFTP.log_20230223_235929.log&quot;).build();\r\n\t\tResponseInputStream&lt;GetObjectResponse&gt; s3Object = s3Client.getObject(getObjectRequest);\r\n\t\tbyte[] buffer = new byte[5000];\r\n\t\tint noOfByteRead = 0;\r\n\t\tint counter = 1;\r\n\t\tCreateMultipartUploadRequest createMultipartUploadRequest = CreateMultipartUploadRequest.builder()\r\n\t\t\t\t.bucket(&quot;dev-dnd-crushftp-encrypt-decrypt-file&quot;).key(&quot;CrushFTP2.log&quot;).build();\r\n\t\tCreateMultipartUploadResponse response = s3Client.createMultipartUpload(createMultipartUploadRequest);\r\n\t\tString uploadId = response.uploadId();\r\n\t\tList&lt;CompletedPart&gt; completePartList = new ArrayList&lt;&gt;();\r\n\t\twhile ((noOfByteRead = s3Object.read(buffer)) != -1) {\r\n\t\t\tbyte[] copyBuffer = Arrays.copyOf(buffer, noOfByteRead);\r\n\t\t\tSystem.out.println(noOfByteRead);\r\n//\t\t\tSystem.out.println(new String(copyBuffer));\r\n\t\t\tSdkBytes sdkBytes = SdkBytes.fromByteArray(copyBuffer);\r\n\t\t\tCompletedPart part = writeToS3Object(s3Client, counter, sdkBytes, uploadId);\r\n\t\t\tcompletePartList.add(part);\r\n\t\t\tcounter++;\r\n\t\t}\r\n\t\tCompletedMultipartUpload completedMultipartUpload = CompletedMultipartUpload.builder().parts(completePartList)\r\n\t\t\t\t.build();\r\n\t\tCompleteMultipartUploadRequest completeMultipartUploadRequest = CompleteMultipartUploadRequest.builder()\r\n\t\t\t\t.bucket(&quot;dev-dnd-crushftp-encrypt-decrypt-file&quot;).key(&quot;CrushFTP2.log&quot;)\r\n\t\t\t\t.multipartUpload(completedMultipartUpload).uploadId(uploadId).build();\r\n\t\ts3Client.completeMultipartUpload(completeMultipartUploadRequest);\r\n\r\n\t}\r\n\r\n\tpublic static CompletedPart writeToS3Object(S3Client s3Client, int counter, SdkBytes bufferBytes, String uploadId) {\r\n\t\tSystem.out.println(uploadId);\r\n\t\tUploadPartRequest uploadPartRequest = UploadPartRequest.builder()\r\n\t\t\t\t.bucket(&quot;dev-dnd-crushftp-encrypt-decrypt-file&quot;).key(&quot;CrushFTP2.log&quot;).uploadId(uploadId)\r\n\t\t\t\t.partNumber(counter).build();\r\n\t\tString etag = s3Client.uploadPart(uploadPartRequest, RequestBody.fromByteBuffer(bufferBytes.asByteBuffer()))\r\n\t\t\t\t.eTag();\r\n\t\tCompletedPart completedPart = CompletedPart.builder().partNumber(counter).eTag(etag).build();\r\n\t\treturn completedPart;\r\n\r\n\t}\r\n\r\n}\r\n```\r\n\r\nThe no of bytes read by the program from s3Object even when I have given buffer of 5 mb : \r\n\r\n```\r\n18:49:25,372 |-INFO in ch.qos.logback.classic.joran.JoranConfigurator@dd8ba08 - Registering current configuration as safe fallback point\r\n\r\n7585\r\n16384\r\n1024\r\n16384\r\n1024\r\n10992\r\n9000\r\n8408\r\n16384\r\n1024\r\n16384\r\n1024\r\n16384\r\n1024\r\n16384\r\n1024\r\n16384\r\n1024\r\n16384\r\n```","title":"How can I efficiently read and upload large files in Amazon S3 using AWS SDKV2 java?","body":"<p>S3 object read function does not read byte according to the buffer declared.</p>\n<p>I want to read a file from a bucket and upload that file into another bucket.\nBut as file can be huge I want to read and upload the file in chunks.</p>\n<p>For reading I am using s3Object.read(buffer) and for uploading I am using CompletedMultipartUpload.</p>\n<pre><code>package com.dnd.adx.injector;\n\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\n\nimport software.amazon.awssdk.auth.credentials.AwsCredentialsProvider;\nimport software.amazon.awssdk.auth.credentials.DefaultCredentialsProvider;\nimport software.amazon.awssdk.core.ResponseInputStream;\nimport software.amazon.awssdk.core.SdkBytes;\nimport software.amazon.awssdk.core.sync.RequestBody;\nimport software.amazon.awssdk.regions.Region;\nimport software.amazon.awssdk.services.s3.S3Client;\nimport software.amazon.awssdk.services.s3.model.CompleteMultipartUploadRequest;\nimport software.amazon.awssdk.services.s3.model.CompletedMultipartUpload;\nimport software.amazon.awssdk.services.s3.model.CompletedPart;\nimport software.amazon.awssdk.services.s3.model.CreateMultipartUploadRequest;\nimport software.amazon.awssdk.services.s3.model.CreateMultipartUploadResponse;\nimport software.amazon.awssdk.services.s3.model.GetObjectRequest;\nimport software.amazon.awssdk.services.s3.model.GetObjectResponse;\nimport software.amazon.awssdk.services.s3.model.UploadPartRequest;\n\npublic class Test {\n    public static void main(String[] args) throws IOException {\n        AwsCredentialsProvider awsCredentialsProvider = DefaultCredentialsProvider.builder().build();\n        S3Client s3Client = S3Client.builder().region(Region.of(Region.CA_CENTRAL_1.toString()))\n                .credentialsProvider(awsCredentialsProvider).build();\n        GetObjectRequest getObjectRequest = GetObjectRequest.builder().bucket(&quot;dev-dnd-crushftp-client-bucket&quot;)\n                .key(&quot;CrushFTP.log_20230223_235929.log&quot;).build();\n        ResponseInputStream&lt;GetObjectResponse&gt; s3Object = s3Client.getObject(getObjectRequest);\n        byte[] buffer = new byte[5000];\n        int noOfByteRead = 0;\n        int counter = 1;\n        CreateMultipartUploadRequest createMultipartUploadRequest = CreateMultipartUploadRequest.builder()\n                .bucket(&quot;dev-dnd-crushftp-encrypt-decrypt-file&quot;).key(&quot;CrushFTP2.log&quot;).build();\n        CreateMultipartUploadResponse response = s3Client.createMultipartUpload(createMultipartUploadRequest);\n        String uploadId = response.uploadId();\n        List&lt;CompletedPart&gt; completePartList = new ArrayList&lt;&gt;();\n        while ((noOfByteRead = s3Object.read(buffer)) != -1) {\n            byte[] copyBuffer = Arrays.copyOf(buffer, noOfByteRead);\n            System.out.println(noOfByteRead);\n//          System.out.println(new String(copyBuffer));\n            SdkBytes sdkBytes = SdkBytes.fromByteArray(copyBuffer);\n            CompletedPart part = writeToS3Object(s3Client, counter, sdkBytes, uploadId);\n            completePartList.add(part);\n            counter++;\n        }\n        CompletedMultipartUpload completedMultipartUpload = CompletedMultipartUpload.builder().parts(completePartList)\n                .build();\n        CompleteMultipartUploadRequest completeMultipartUploadRequest = CompleteMultipartUploadRequest.builder()\n                .bucket(&quot;dev-dnd-crushftp-encrypt-decrypt-file&quot;).key(&quot;CrushFTP2.log&quot;)\n                .multipartUpload(completedMultipartUpload).uploadId(uploadId).build();\n        s3Client.completeMultipartUpload(completeMultipartUploadRequest);\n\n    }\n\n    public static CompletedPart writeToS3Object(S3Client s3Client, int counter, SdkBytes bufferBytes, String uploadId) {\n        System.out.println(uploadId);\n        UploadPartRequest uploadPartRequest = UploadPartRequest.builder()\n                .bucket(&quot;dev-dnd-crushftp-encrypt-decrypt-file&quot;).key(&quot;CrushFTP2.log&quot;).uploadId(uploadId)\n                .partNumber(counter).build();\n        String etag = s3Client.uploadPart(uploadPartRequest, RequestBody.fromByteBuffer(bufferBytes.asByteBuffer()))\n                .eTag();\n        CompletedPart completedPart = CompletedPart.builder().partNumber(counter).eTag(etag).build();\n        return completedPart;\n\n    }\n\n}\n</code></pre>\n<p>The no of bytes read by the program from s3Object even when I have given buffer of 5 mb :</p>\n<pre><code>18:49:25,372 |-INFO in ch.qos.logback.classic.joran.JoranConfigurator@dd8ba08 - Registering current configuration as safe fallback point\n\n7585\n16384\n1024\n16384\n1024\n10992\n9000\n8408\n16384\n1024\n16384\n1024\n16384\n1024\n16384\n1024\n16384\n1024\n16384\n</code></pre>\n"},{"tags":["java","apache-spark"],"owner":{"account_id":235021,"reputation":1856,"user_id":501560,"accept_rate":94,"display_name":"ofirbt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684871594,"creation_date":1684868622,"question_id":76317888,"body_markdown":"I have a simplified DataFrame Row that contains a json string.\r\nThis json string contains nested elements.\r\nI read this json string column using Spark&#39;s from_json(...) method, providing it a schema of the json string.\r\n\r\nLet&#39;s say that this json string looks like this:\r\n\r\n    {\r\n    &quot;key1_1&quot;: {\r\n        &quot;key2_1&quot;: &quot;value2_1&quot;,\r\n        &quot;key2_2&quot;: &quot;value2_2&quot;\r\n    }}\r\n\r\nAnd that the schema is declared as follows:\r\n\r\n    StructType schema = new StructType();\r\n        schema = schema.add(&quot;key1_1&quot;, new StructType()\r\n                .add(&quot;key2_1&quot;, DataTypes.StringType)\r\n                .add(&quot;key2_2&quot;, new MapType(DataTypes.StringType, DataTypes.StringType, true))\r\n        );\r\n\r\nThe json string data fits the schema&#39;s &quot;key1_1&quot;, and &quot;key2_1&quot;, but not &quot;key2_2&quot; because in the data the value of this key is of type string, and in the schema it&#39;s declared as a map.\r\n\r\nI would like to get the values of &quot;key1_1&quot; and &quot;key2_1&quot;, as they fit the schema, instead of getting null for the whole record, because of the nested &quot;key2_2&quot; value.\r\nIs there a way I can get that result?\r\n\r\nI thought of dividing the schema to separate small ones, but I wonder if I can achieve it with only 1 schema, as the schema I&#39;m working on is pretty big and complex.\r\n\r\n===============================================\r\n\r\n\r\nHere&#39;s the whole code snippet:\r\n\r\n```\r\npackage com.example.sparkproject;\r\n\r\nimport org.apache.spark.sql.Dataset;\r\nimport org.apache.spark.sql.Row;\r\nimport org.apache.spark.sql.SparkSession;\r\nimport org.apache.spark.sql.functions;\r\nimport org.apache.spark.sql.types.DataTypes;\r\nimport org.apache.spark.sql.types.MapType;\r\nimport org.apache.spark.sql.types.StructType;\r\n\r\nimport java.util.List;\r\n\r\npublic class Main {\r\n\r\n    public static class RowData {\r\n        private int id;\r\n        private String jsonString;\r\n\r\n        public int getId() {\r\n            return id;\r\n        }\r\n\r\n        public void setId(int id) {\r\n            this.id = id;\r\n        }\r\n\r\n        public String getJsonString() {\r\n            return jsonString;\r\n        }\r\n\r\n        public void setJsonString(String jsonString) {\r\n            this.jsonString = jsonString;\r\n        }\r\n\r\n        public RowData(int id, String jsonString) {\r\n            this.id = id;\r\n            this.jsonString = jsonString;\r\n        }\r\n    }\r\n\r\n    public static void main(String[] argh) {\r\n\r\n        StructType schema = new StructType();\r\n        schema = schema.add(&quot;key1_1&quot;, new StructType()\r\n                .add(&quot;key2_1&quot;, DataTypes.StringType)\r\n                .add(&quot;key2_2&quot;, new MapType(DataTypes.StringType, DataTypes.StringType, true))\r\n        );\r\n\r\n        SparkSession spark = SparkSession.builder()\r\n                .master(&quot;local[1]&quot;)\r\n                .appName(&quot;MyApp&quot;)\r\n                .config(&quot;spark.driver.bindAddress&quot;, &quot;127.0.0.1&quot;)\r\n                .getOrCreate();\r\n\r\n        List&lt;RowData&gt; list = List.of(new RowData(1, &quot;{&quot; +\r\n                        &quot;\\&quot;key1_1\\&quot;: {&quot; +\r\n                        &quot;\\&quot;key2_1\\&quot;:\\&quot;value2_1\\&quot;,&quot; +\r\n                        &quot;\\&quot;key2_2\\&quot;:\\&quot;value2_2\\&quot;&quot; +\r\n                        &quot;}&quot; +\r\n                        &quot;}&quot;));\r\n\r\n        Dataset&lt;Row&gt; df = spark.createDataFrame(list, RowData.class);\r\n\r\n        df.select(functions.from_json(functions.col(&quot;jsonString&quot;), schema)).show(false);\r\n        df.select(functions.from_json(functions.col(&quot;jsonString&quot;), schema)).printSchema();\r\n\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nAnd the output of the code snippet above is:\r\n```\r\n+---------------------+\r\n|from_json(jsonString)|\r\n+---------------------+\r\n|[]                   |\r\n+---------------------+\r\n\r\nroot\r\n |-- from_json(jsonString): struct (nullable = true)\r\n |    |-- key1_1: struct (nullable = true)\r\n |    |    |-- key2_1: string (nullable = true)\r\n |    |    |-- key2_2: map (nullable = true)\r\n |    |    |    |-- key: string\r\n |    |    |    |-- value: string (valueContainsNull = true)\r\n```\r\n","title":"Spark&#39;s from_json returns null even if only 1 of the nested elements doesn&#39;t fit the schema","body":"<p>I have a simplified DataFrame Row that contains a json string.\nThis json string contains nested elements.\nI read this json string column using Spark's from_json(...) method, providing it a schema of the json string.</p>\n<p>Let's say that this json string looks like this:</p>\n<pre><code>{\n&quot;key1_1&quot;: {\n    &quot;key2_1&quot;: &quot;value2_1&quot;,\n    &quot;key2_2&quot;: &quot;value2_2&quot;\n}}\n</code></pre>\n<p>And that the schema is declared as follows:</p>\n<pre><code>StructType schema = new StructType();\n    schema = schema.add(&quot;key1_1&quot;, new StructType()\n            .add(&quot;key2_1&quot;, DataTypes.StringType)\n            .add(&quot;key2_2&quot;, new MapType(DataTypes.StringType, DataTypes.StringType, true))\n    );\n</code></pre>\n<p>The json string data fits the schema's &quot;key1_1&quot;, and &quot;key2_1&quot;, but not &quot;key2_2&quot; because in the data the value of this key is of type string, and in the schema it's declared as a map.</p>\n<p>I would like to get the values of &quot;key1_1&quot; and &quot;key2_1&quot;, as they fit the schema, instead of getting null for the whole record, because of the nested &quot;key2_2&quot; value.\nIs there a way I can get that result?</p>\n<p>I thought of dividing the schema to separate small ones, but I wonder if I can achieve it with only 1 schema, as the schema I'm working on is pretty big and complex.</p>\n<p>===============================================</p>\n<p>Here's the whole code snippet:</p>\n<pre><code>package com.example.sparkproject;\n\nimport org.apache.spark.sql.Dataset;\nimport org.apache.spark.sql.Row;\nimport org.apache.spark.sql.SparkSession;\nimport org.apache.spark.sql.functions;\nimport org.apache.spark.sql.types.DataTypes;\nimport org.apache.spark.sql.types.MapType;\nimport org.apache.spark.sql.types.StructType;\n\nimport java.util.List;\n\npublic class Main {\n\n    public static class RowData {\n        private int id;\n        private String jsonString;\n\n        public int getId() {\n            return id;\n        }\n\n        public void setId(int id) {\n            this.id = id;\n        }\n\n        public String getJsonString() {\n            return jsonString;\n        }\n\n        public void setJsonString(String jsonString) {\n            this.jsonString = jsonString;\n        }\n\n        public RowData(int id, String jsonString) {\n            this.id = id;\n            this.jsonString = jsonString;\n        }\n    }\n\n    public static void main(String[] argh) {\n\n        StructType schema = new StructType();\n        schema = schema.add(&quot;key1_1&quot;, new StructType()\n                .add(&quot;key2_1&quot;, DataTypes.StringType)\n                .add(&quot;key2_2&quot;, new MapType(DataTypes.StringType, DataTypes.StringType, true))\n        );\n\n        SparkSession spark = SparkSession.builder()\n                .master(&quot;local[1]&quot;)\n                .appName(&quot;MyApp&quot;)\n                .config(&quot;spark.driver.bindAddress&quot;, &quot;127.0.0.1&quot;)\n                .getOrCreate();\n\n        List&lt;RowData&gt; list = List.of(new RowData(1, &quot;{&quot; +\n                        &quot;\\&quot;key1_1\\&quot;: {&quot; +\n                        &quot;\\&quot;key2_1\\&quot;:\\&quot;value2_1\\&quot;,&quot; +\n                        &quot;\\&quot;key2_2\\&quot;:\\&quot;value2_2\\&quot;&quot; +\n                        &quot;}&quot; +\n                        &quot;}&quot;));\n\n        Dataset&lt;Row&gt; df = spark.createDataFrame(list, RowData.class);\n\n        df.select(functions.from_json(functions.col(&quot;jsonString&quot;), schema)).show(false);\n        df.select(functions.from_json(functions.col(&quot;jsonString&quot;), schema)).printSchema();\n\n    }\n\n}\n\n</code></pre>\n<p>And the output of the code snippet above is:</p>\n<pre><code>+---------------------+\n|from_json(jsonString)|\n+---------------------+\n|[]                   |\n+---------------------+\n\nroot\n |-- from_json(jsonString): struct (nullable = true)\n |    |-- key1_1: struct (nullable = true)\n |    |    |-- key2_1: string (nullable = true)\n |    |    |-- key2_2: map (nullable = true)\n |    |    |    |-- key: string\n |    |    |    |-- value: string (valueContainsNull = true)\n</code></pre>\n"},{"tags":["java","spring-boot","google-cloud-pubsub","testcontainers","google-cloud-pubsub-emulator"],"comments":[{"owner":{"account_id":2537085,"reputation":6205,"user_id":2203890,"display_name":"Edd&#250; Mel&#233;ndez"},"score":0,"creation_date":1684333709,"post_id":76272943,"comment_id":134503390,"body_markdown":"I think you can, I haven&#39;t done it before but can help. Not sure if you are using spring cloud functions or another one but somehow there should be a connection string where you can set the emulator endpoint. Look at this example https://github.com/saturnism/testcontainers-gcloud-examples/blob/main/springboot/pubsub-example/src/test/java/com/example/springboot/pubsub/PubSubIntegrationTests.java#L141","body":"I think you can, I haven&#39;t done it before but can help. Not sure if you are using spring cloud functions or another one but somehow there should be a connection string where you can set the emulator endpoint. Look at this example <a href=\"https://github.com/saturnism/testcontainers-gcloud-examples/blob/main/springboot/pubsub-example/src/test/java/com/example/springboot/pubsub/PubSubIntegrationTests.java#L141\" rel=\"nofollow noreferrer\">github.com/saturnism/testcontainers-gcloud-examples/blob/mai&zwnj;&#8203;n/&hellip;</a>"},{"owner":{"account_id":1096964,"reputation":3884,"user_id":1090360,"accept_rate":84,"display_name":"JackTheKnife"},"score":0,"creation_date":1684340819,"post_id":76272943,"comment_id":134505277,"body_markdown":"@Edd&#250;Mel&#233;ndez I saw that example and the problem is that it fails with the current version of PubSub testcontainer","body":"@Edd&#250;Mel&#233;ndez I saw that example and the problem is that it fails with the current version of PubSub testcontainer"},{"owner":{"account_id":2537085,"reputation":6205,"user_id":2203890,"display_name":"Edd&#250; Mel&#233;ndez"},"score":0,"creation_date":1684365565,"post_id":76272943,"comment_id":134509741,"body_markdown":"It fails because of testcontainers or the image itself? Can you update the question with your logs, please?","body":"It fails because of testcontainers or the image itself? Can you update the question with your logs, please?"},{"owner":{"account_id":1096964,"reputation":3884,"user_id":1090360,"accept_rate":84,"display_name":"JackTheKnife"},"score":0,"creation_date":1684528501,"post_id":76272943,"comment_id":134535742,"body_markdown":"@Edd&#250;Mel&#233;ndez I have added errors when it fails","body":"@Edd&#250;Mel&#233;ndez I have added errors when it fails"},{"owner":{"account_id":2537085,"reputation":6205,"user_id":2203890,"display_name":"Edd&#250; Mel&#233;ndez"},"score":0,"creation_date":1684540364,"post_id":76272943,"comment_id":134537103,"body_markdown":"well, the PubSubEmulatorContainer doesn&#39;t provide a topic, so, this should be manually created. After that, subscription for that topic should be created too. Then you should submit the message","body":"well, the PubSubEmulatorContainer doesn&#39;t provide a topic, so, this should be manually created. After that, subscription for that topic should be created too. Then you should submit the message"},{"owner":{"account_id":1096964,"reputation":3884,"user_id":1090360,"accept_rate":84,"display_name":"JackTheKnife"},"score":0,"creation_date":1684765224,"post_id":76272943,"comment_id":134560567,"body_markdown":"@Edd&#250;Mel&#233;ndez so the GitHub example is incomplete?","body":"@Edd&#250;Mel&#233;ndez so the GitHub example is incomplete?"},{"owner":{"account_id":2537085,"reputation":6205,"user_id":2203890,"display_name":"Edd&#250; Mel&#233;ndez"},"score":0,"creation_date":1684768380,"post_id":76272943,"comment_id":134561349,"body_markdown":"The github example does everything through code. What you want to do is different and I want to do that too but also have some issues with it due to the message is received but null","body":"The github example does everything through code. What you want to do is different and I want to do that too but also have some issues with it due to the message is received but null"},{"owner":{"account_id":1096964,"reputation":3884,"user_id":1090360,"accept_rate":84,"display_name":"JackTheKnife"},"score":0,"creation_date":1684770039,"post_id":76272943,"comment_id":134561724,"body_markdown":"@Edd&#250;Mel&#233;ndez Interesting because when I try to run the GitHub example it throws the same errors for me as I will use it with my code so not sure if the testcontainers changed anything since that code was released.","body":"@Edd&#250;Mel&#233;ndez Interesting because when I try to run the GitHub example it throws the same errors for me as I will use it with my code so not sure if the testcontainers changed anything since that code was released."},{"owner":{"account_id":2537085,"reputation":6205,"user_id":2203890,"display_name":"Edd&#250; Mel&#233;ndez"},"score":0,"creation_date":1684774307,"post_id":76272943,"comment_id":134562671,"body_markdown":"To be clear, the error I talked about is receiving the message from pubsub but a null message when arriving to the function. However, your error is related to missing topic/subscription which you actually need to send the message and be processed by the function.","body":"To be clear, the error I talked about is receiving the message from pubsub but a null message when arriving to the function. However, your error is related to missing topic/subscription which you actually need to send the message and be processed by the function."},{"owner":{"account_id":1096964,"reputation":3884,"user_id":1090360,"accept_rate":84,"display_name":"JackTheKnife"},"score":0,"creation_date":1684777075,"post_id":76272943,"comment_id":134563239,"body_markdown":"@Edd&#250;Mel&#233;ndez Based on the GitHub example, in my case, it should be done in the `setup()` method lines #102 and #103","body":"@Edd&#250;Mel&#233;ndez Based on the GitHub example, in my case, it should be done in the <code>setup()</code> method lines #102 and #103"},{"owner":{"account_id":2537085,"reputation":6205,"user_id":2203890,"display_name":"Edd&#250; Mel&#233;ndez"},"score":0,"creation_date":1684777496,"post_id":76272943,"comment_id":134563317,"body_markdown":"I&#39;m just trying to help with the shared information but I think I can not continue due to lack of context. I just can say it can be an initialization issue, I do not have that issue but can not say what is missing in you case unless you can share a repository to take a look.","body":"I&#39;m just trying to help with the shared information but I think I can not continue due to lack of context. I just can say it can be an initialization issue, I do not have that issue but can not say what is missing in you case unless you can share a repository to take a look."},{"owner":{"account_id":1096964,"reputation":3884,"user_id":1090360,"accept_rate":84,"display_name":"JackTheKnife"},"score":0,"creation_date":1684778429,"post_id":76272943,"comment_id":134563508,"body_markdown":"@Edd&#250;Mel&#233;ndez Yeah I know you are trying to help and I&#39;m happy about that. I&#39;m just trying to point out that the GitHub example doesn&#39;t even work. I have copied that test example with the necessary dependencies and then run `testSend()` - it will fail on line #128  as `PubSubIntegrationTests.testSend() throws java.util.concurrent.ExecutionException,java.lang.InterruptedException` because `test-subscription` doesn&#39;t exist. My point is that example may be obsolete to what testcontainers repo offers now for SpringBoot","body":"@Edd&#250;Mel&#233;ndez Yeah I know you are trying to help and I&#39;m happy about that. I&#39;m just trying to point out that the GitHub example doesn&#39;t even work. I have copied that test example with the necessary dependencies and then run <code>testSend()</code> - it will fail on line #128  as <code>PubSubIntegrationTests.testSend() throws java.util.concurrent.ExecutionException,java.lang.Interrupte&zwnj;&#8203;dException</code> because <code>test-subscription</code> doesn&#39;t exist. My point is that example may be obsolete to what testcontainers repo offers now for SpringBoot"},{"owner":{"account_id":2537085,"reputation":6205,"user_id":2203890,"display_name":"Edd&#250; Mel&#233;ndez"},"score":1,"creation_date":1684782959,"post_id":76272943,"comment_id":134564436,"body_markdown":"Oh, ok. my fault so the example is not working. I know those are not updates. Can you check on this repo https://github.com/ddobrin/testcontainers-gcloud-examples ?","body":"Oh, ok. my fault so the example is not working. I know those are not updates. Can you check on this repo <a href=\"https://github.com/ddobrin/testcontainers-gcloud-examples\" rel=\"nofollow noreferrer\">github.com/ddobrin/testcontainers-gcloud-examples</a> ?"},{"owner":{"account_id":1096964,"reputation":3884,"user_id":1090360,"accept_rate":84,"display_name":"JackTheKnife"},"score":0,"creation_date":1684787486,"post_id":76272943,"comment_id":134565239,"body_markdown":"@Edd&#250;Mel&#233;ndez Not sure what is different but that one example works for me. Now can take a look further. Thanks!","body":"@Edd&#250;Mel&#233;ndez Not sure what is different but that one example works for me. Now can take a look further. Thanks!"},{"owner":{"account_id":1096964,"reputation":3884,"user_id":1090360,"accept_rate":84,"display_name":"JackTheKnife"},"score":0,"creation_date":1684866577,"post_id":76272943,"comment_id":134579134,"body_markdown":"@Edd&#250;Mel&#233;ndez it came up that test will work fine with the service implementation which uses `PubSubPublisherTemplate` but not for `Publisher`. Will error out that resource for the topic not found.","body":"@Edd&#250;Mel&#233;ndez it came up that test will work fine with the service implementation which uses <code>PubSubPublisherTemplate</code> but not for <code>Publisher</code>. Will error out that resource for the topic not found."},{"owner":{"account_id":1096964,"reputation":3884,"user_id":1090360,"accept_rate":84,"display_name":"JackTheKnife"},"score":0,"creation_date":1684870520,"post_id":76272943,"comment_id":134579865,"body_markdown":"@Edd&#250;Mel&#233;ndez I have an open new SO question regarding that issue above https://stackoverflow.com/questions/76318081/testing-gcp-pubsub-with-testcontainer-pubsub-emulator but at least I got my function triggered by that PubSub test mentioned in that new post.","body":"@Edd&#250;Mel&#233;ndez I have an open new SO question regarding that issue above <a href=\"https://stackoverflow.com/questions/76318081/testing-gcp-pubsub-with-testcontainer-pubsub-emulator\" title=\"testing gcp pubsub with testcontainer pubsub emulator\">stackoverflow.com/questions/76318081/&hellip;</a> but at least I got my function triggered by that PubSub test mentioned in that new post."}],"answers":[{"tags":[],"owner":{"account_id":13185554,"reputation":534,"user_id":12022900,"display_name":"Joevanie"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684871513,"creation_date":1684871513,"answer_id":76318198,"question_id":76272943,"body_markdown":"&lt;p style=&quot;margin: 0;&quot;&gt;There is a way to do integration tests for the Cloud Function using PubSubEmulatorContainer. You can follow this &lt;a href=&quot;https://cloud.google.com/functions/docs/samples/functions-pubsub-integration-test#functions_pubsub_integration_test-java&quot;&gt;documentation&lt;/a&gt;.&lt;/p&gt;","title":"Testing GCP Cloud Function trigger with PubSub testcontainer","body":"There is a way to do integration tests for the Cloud Function using PubSubEmulatorContainer. You can follow this <a href=\"https://cloud.google.com/functions/docs/samples/functions-pubsub-integration-test#functions_pubsub_integration_test-java\" rel=\"nofollow noreferrer\">documentation</a>.</p>\n"}],"owner":{"account_id":1096964,"reputation":3884,"user_id":1090360,"accept_rate":84,"display_name":"JackTheKnife"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":294,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684871513,"creation_date":1684331922,"question_id":76272943,"body_markdown":"Is there any way to do integration tests for the Cloud Function using `PubSubEmulatorContainer`?\r\n\r\nMy Cloud Function is triggered by the message in the PubSub topic as follows\r\n\r\n```\r\n@Component\r\n@RequiredArgsConstructor\r\npublic class MessageIngest implements Consumer&lt;PubSubMessage&gt; {\r\n\r\n    private final MessageResource msgResource;\r\n    private final ObjectMapper objectMapper;\r\n\r\n\r\n    @Override\r\n    public void accept(PubSubMessage pubSubMessage) {\r\n        var message = new String(Base64.getDecoder().decode(pubSubMessage.getData()), UTF_8);\r\n        msgResource.ingest(objectMapper.readValue(message, Message.class));\r\n    }\r\n}\r\n``` \r\n\r\nSo far what I found about using `PubSubEmulatorContainer` for the integration testing is to publish there or subscribe from nothing about how to listen to the topic and trigger the test on publishing to the topic. My assumption is that I need to do that within the `contextLoads()` test.\r\n\r\nFor the live code trigger is provided during the deployment as an argument\r\n\r\n```\r\ngcloud functions deploy myCloudFunction --trigger-topic=$TOPIC_TO_LISTEN\r\n```\r\n\r\nPS.\r\nProvided example from the comments fails for me on testconainers version 1.18.0\r\n\r\n`testSend()` errors out as\r\n\r\n```\r\n[ault-executor-0] c.g.c.s.p.c.p.PubSubPublisherTemplate    : Publishing to test-topic topic failed.\r\ncom.google.api.gax.rpc.NotFoundException: io.grpc.StatusRuntimeException: NOT_FOUND: Topic not found\r\ncom.google.api.gax.rpc.NotFoundException: io.grpc.StatusRuntimeException: NOT_FOUND: Subscription does not exist\r\n```\r\n\r\nand `testWorker()` as\r\n\r\n```\r\n[ault-executor-0] c.g.c.s.p.c.p.PubSubPublisherTemplate    : Publishing to test-topic topic failed.\r\ncom.google.api.gax.rpc.NotFoundException: io.grpc.StatusRuntimeException: NOT_FOUND: Topic not found\r\ncom.google.api.gax.rpc.NotFoundException: com.google.api.gax.rpc.NotFoundException: io.grpc.StatusRuntimeException: NOT_FOUND: Subscription does not exist (resource=test-subscription)\r\n```","title":"Testing GCP Cloud Function trigger with PubSub testcontainer","body":"<p>Is there any way to do integration tests for the Cloud Function using <code>PubSubEmulatorContainer</code>?</p>\n<p>My Cloud Function is triggered by the message in the PubSub topic as follows</p>\n<pre><code>@Component\n@RequiredArgsConstructor\npublic class MessageIngest implements Consumer&lt;PubSubMessage&gt; {\n\n    private final MessageResource msgResource;\n    private final ObjectMapper objectMapper;\n\n\n    @Override\n    public void accept(PubSubMessage pubSubMessage) {\n        var message = new String(Base64.getDecoder().decode(pubSubMessage.getData()), UTF_8);\n        msgResource.ingest(objectMapper.readValue(message, Message.class));\n    }\n}\n</code></pre>\n<p>So far what I found about using <code>PubSubEmulatorContainer</code> for the integration testing is to publish there or subscribe from nothing about how to listen to the topic and trigger the test on publishing to the topic. My assumption is that I need to do that within the <code>contextLoads()</code> test.</p>\n<p>For the live code trigger is provided during the deployment as an argument</p>\n<pre><code>gcloud functions deploy myCloudFunction --trigger-topic=$TOPIC_TO_LISTEN\n</code></pre>\n<p>PS.\nProvided example from the comments fails for me on testconainers version 1.18.0</p>\n<p><code>testSend()</code> errors out as</p>\n<pre><code>[ault-executor-0] c.g.c.s.p.c.p.PubSubPublisherTemplate    : Publishing to test-topic topic failed.\ncom.google.api.gax.rpc.NotFoundException: io.grpc.StatusRuntimeException: NOT_FOUND: Topic not found\ncom.google.api.gax.rpc.NotFoundException: io.grpc.StatusRuntimeException: NOT_FOUND: Subscription does not exist\n</code></pre>\n<p>and <code>testWorker()</code> as</p>\n<pre><code>[ault-executor-0] c.g.c.s.p.c.p.PubSubPublisherTemplate    : Publishing to test-topic topic failed.\ncom.google.api.gax.rpc.NotFoundException: io.grpc.StatusRuntimeException: NOT_FOUND: Topic not found\ncom.google.api.gax.rpc.NotFoundException: com.google.api.gax.rpc.NotFoundException: io.grpc.StatusRuntimeException: NOT_FOUND: Subscription does not exist (resource=test-subscription)\n</code></pre>\n"},{"tags":["java","spring-boot","spring-batch","xstream"],"comments":[{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1684915281,"post_id":76315977,"comment_id":134585545,"body_markdown":"You are using XStream, and you should first configure XStream to unmarshall fragments as Strings. This is actually an XStream unmarshalling issue, not a Spring Batch issue per se, as the reader from Spring Batch just delegates to XStream to unmarshall items (and more precisely, to `XStreamMarshaller` from Spring OXM).","body":"You are using XStream, and you should first configure XStream to unmarshall fragments as Strings. This is actually an XStream unmarshalling issue, not a Spring Batch issue per se, as the reader from Spring Batch just delegates to XStream to unmarshall items (and more precisely, to <code>XStreamMarshaller</code> from Spring OXM)."},{"owner":{"account_id":427236,"reputation":2709,"user_id":808891,"accept_rate":97,"display_name":"Somebody"},"score":0,"creation_date":1684929504,"post_id":76315977,"comment_id":134588729,"body_markdown":"Any suggestion on how to configure XStream to unmarshall fragments as Strings?","body":"Any suggestion on how to configure XStream to unmarshall fragments as Strings?"},{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":1,"creation_date":1684931625,"post_id":76315977,"comment_id":134589270,"body_markdown":"I checked their docs before commenting here, and unfortunately I could not find anything related to that case.","body":"I checked their docs before commenting here, and unfortunately I could not find anything related to that case."}],"answers":[{"comments":[{"owner":{"account_id":427236,"reputation":2709,"user_id":808891,"accept_rate":97,"display_name":"Somebody"},"score":0,"creation_date":1684854657,"post_id":76316152,"comment_id":134576565,"body_markdown":"this is not what I want, I&#39;ve explained at the beginning that I needed to String bc it will be processed later in the itemProcessor using dom4j, as the actual XML is more complex than the one in this example","body":"this is not what I want, I&#39;ve explained at the beginning that I needed to String bc it will be processed later in the itemProcessor using dom4j, as the actual XML is more complex than the one in this example"},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1684911345,"post_id":76316152,"comment_id":134584704,"body_markdown":"I think I got your point - you want to unmarshal the fragment yourself using DOM4J parse or read method. I&#39;m afraid you need to implement a unmarshaller yourself. You can parse the &#39;contact&#39; fragment inside of the unmarshal method and return an org.dom4j.Document object. Hope it helps.","body":"I think I got your point - you want to unmarshal the fragment yourself using DOM4J parse or read method. I&#39;m afraid you need to implement a unmarshaller yourself. You can parse the &#39;contact&#39; fragment inside of the unmarshal method and return an org.dom4j.Document object. Hope it helps."}],"tags":[],"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684854043,"creation_date":1684854043,"answer_id":76316152,"question_id":76315977,"body_markdown":"If you want to unmarshal to Contact class you should define the alias as follows:\r\n\r\n    aliases.put(&quot;contact&quot;, Contact.class);","title":"Unable to unmarshal xml elements into string - Spring Batch","body":"<p>If you want to unmarshal to Contact class you should define the alias as follows:</p>\n<pre><code>aliases.put(&quot;contact&quot;, Contact.class);\n</code></pre>\n"}],"owner":{"account_id":427236,"reputation":2709,"user_id":808891,"accept_rate":97,"display_name":"Somebody"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684871265,"creation_date":1684852867,"question_id":76315977,"body_markdown":"I have below sample XML that I need to read each `contact` element as String for later in the processor using dom4j for a simpler processing, the actual XML is way more complex than the one below, this is just for reproducing the issue I&#39;m having:\r\n\r\n    &lt;query&gt;\r\n    \t&lt;contact&gt;\r\n    \t\t&lt;full_name&gt;\r\n    \t\t\t&lt;first_name&gt;John&lt;/first_name&gt;\r\n    \t\t\t&lt;last_name&gt;Doe&lt;/last_name&gt;\r\n    \t\t&lt;/full_name&gt;\r\n    \t\t&lt;street&gt;111 Main St&lt;/street&gt;\r\n    \t\t&lt;city&gt;Chicago&lt;/city&gt;\r\n    \t\t&lt;state&gt;IL&lt;/state&gt;\r\n    \t\t&lt;zip&gt;60610&lt;/zip&gt;\r\n    \t&lt;/contact&gt;\r\n    \t&lt;contact&gt;\r\n    \t\t&lt;full_name&gt;\r\n    \t\t\t&lt;first_name&gt;Jane&lt;/first_name&gt;\r\n    \t\t\t&lt;last_name&gt;Smith&lt;/last_name&gt;\r\n    \t\t&lt;/full_name&gt;\r\n    \t\t&lt;street&gt;222 Main St&lt;/street&gt;\r\n    \t\t&lt;city&gt;Miami&lt;/city&gt;\r\n    \t\t&lt;state&gt;FL&lt;/state&gt;\r\n    \t&lt;/contact&gt;\r\n    &lt;/query&gt;\r\n\r\n**BatchConfiguration.java**\r\n\r\n    @Configuration\r\n    @EnableBatchProcessing\r\n    @Slf4j\r\n    public class BatchConfiguration {\r\n    \t\r\n    \t@Autowired\r\n        public JobBuilderFactory jobBuilderFactory;\r\n    \r\n        @Autowired\r\n        public StepBuilderFactory stepBuilderFactory;\r\n        \r\n        @Autowired\r\n        public ContactItemProcessor contactItemProcessor;\r\n        \r\n        @Bean\r\n        public StaxEventItemReader&lt;String&gt; reader() {\r\n        \t\r\n        \tStaxEventItemReader&lt;String&gt; reader = new StaxEventItemReader&lt;&gt;();\r\n    \t\t\r\n    \t\ttry {\r\n    \t\t\tMap&lt;String, Class&lt;?&gt;&gt; aliases = new HashMap&lt;&gt;();\r\n    \t        aliases.put(&quot;contact&quot;, String.class);\r\n    \t        \r\n    \t\t\tXStreamMarshaller unmarshaller = new XStreamMarshaller();\r\n    \t    \tunmarshaller.setAliases(aliases);\t\t\t\r\n    \t\t\t\r\n    \t\t\treader.setName(&quot;itemReader&quot;);\r\n    \t\t\treader.setResource(new FileSystemResource(&quot;contact-list.xml&quot;));\r\n    \t\t\treader.setFragmentRootElementName(&quot;contact&quot;);\r\n    \t\t\treader.setUnmarshaller(unmarshaller);\r\n    \t\t} catch (Exception e) {\r\n    \t\t\tlog.error(&quot;ERROR in StaxEventItemReader :: Error while reading: {}&quot;, e.getMessage());\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn reader;\r\n        }\r\n        \r\n        @Bean\r\n        public FlatFileItemWriter&lt;Contact&gt; writer() {\r\n        \t\r\n        \tFlatFileItemWriter&lt;Contact&gt; writer = new FlatFileItemWriter&lt;&gt;();\r\n        \twriter.setResource(new FileSystemResource(&quot;contact-out.dat&quot;));\r\n        \twriter.setLineAggregator(new DelimitedLineAggregator&lt;Contact&gt;() {\r\n        \t\t{\r\n        \t\t\tsetDelimiter(&quot;,&quot;);\r\n        \t\t\tsetFieldExtractor(new BeanWrapperFieldExtractor&lt;Contact&gt;() {\r\n        \t\t\t\t{\r\n        \t\t\t\t\tsetNames(new String[] { &quot;firstName&quot;, &quot;lastName&quot;, &quot;street&quot;, &quot;city&quot;, &quot;state&quot;, &quot;zip&quot; });\r\n        \t\t\t\t}    \t\t\t\t\r\n        \t\t\t});\r\n        \t\t}\r\n        \t});\r\n        \t\r\n        \treturn writer;\r\n        }\r\n            \r\n        @Bean(&quot;InputJob&quot;)\r\n    \t@Scope(value = ConfigurableBeanFactory.SCOPE_PROTOTYPE)\r\n        public Job importUserJob(Step step) {\r\n            return jobBuilderFactory.get(&quot;importUserJob&quot;)\r\n              .incrementer(new RunIdIncrementer())          \r\n              .flow(step)\r\n              .end()\r\n              .build();\r\n        }\r\n    \r\n        @Bean\r\n        public Step step(FlatFileItemWriter&lt;Contact&gt; writer) {    \t\r\n            return stepBuilderFactory.get(&quot;step&quot;)\r\n              .&lt;String, Contact&gt; chunk(10)\r\n              .reader(reader())          \r\n              .processor(contactItemProcessor)\r\n              .writer(writer)          \r\n              .build();\r\n        }\r\n    \r\n    }\r\n**ContactItemProcessor.java**\r\n\r\n    @Component\r\n    public class ContactItemProcessor implements ItemProcessor&lt;String, Contact&gt; {\r\n    \r\n    \t@Override\r\n    \tpublic Contact process(String item) throws Exception {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\treturn null;\r\n    \t}\r\n    \r\n    }\r\nIn above `ContactItemProcessor` class the item string value that is coming from the reader is: `\\n\\t\\t`, is not bringing the actual `contact` element, not sure why.","title":"Unable to unmarshal xml elements into string - Spring Batch","body":"<p>I have below sample XML that I need to read each <code>contact</code> element as String for later in the processor using dom4j for a simpler processing, the actual XML is way more complex than the one below, this is just for reproducing the issue I'm having:</p>\n<pre><code>&lt;query&gt;\n    &lt;contact&gt;\n        &lt;full_name&gt;\n            &lt;first_name&gt;John&lt;/first_name&gt;\n            &lt;last_name&gt;Doe&lt;/last_name&gt;\n        &lt;/full_name&gt;\n        &lt;street&gt;111 Main St&lt;/street&gt;\n        &lt;city&gt;Chicago&lt;/city&gt;\n        &lt;state&gt;IL&lt;/state&gt;\n        &lt;zip&gt;60610&lt;/zip&gt;\n    &lt;/contact&gt;\n    &lt;contact&gt;\n        &lt;full_name&gt;\n            &lt;first_name&gt;Jane&lt;/first_name&gt;\n            &lt;last_name&gt;Smith&lt;/last_name&gt;\n        &lt;/full_name&gt;\n        &lt;street&gt;222 Main St&lt;/street&gt;\n        &lt;city&gt;Miami&lt;/city&gt;\n        &lt;state&gt;FL&lt;/state&gt;\n    &lt;/contact&gt;\n&lt;/query&gt;\n</code></pre>\n<p><strong>BatchConfiguration.java</strong></p>\n<pre><code>@Configuration\n@EnableBatchProcessing\n@Slf4j\npublic class BatchConfiguration {\n    \n    @Autowired\n    public JobBuilderFactory jobBuilderFactory;\n\n    @Autowired\n    public StepBuilderFactory stepBuilderFactory;\n    \n    @Autowired\n    public ContactItemProcessor contactItemProcessor;\n    \n    @Bean\n    public StaxEventItemReader&lt;String&gt; reader() {\n        \n        StaxEventItemReader&lt;String&gt; reader = new StaxEventItemReader&lt;&gt;();\n        \n        try {\n            Map&lt;String, Class&lt;?&gt;&gt; aliases = new HashMap&lt;&gt;();\n            aliases.put(&quot;contact&quot;, String.class);\n            \n            XStreamMarshaller unmarshaller = new XStreamMarshaller();\n            unmarshaller.setAliases(aliases);           \n            \n            reader.setName(&quot;itemReader&quot;);\n            reader.setResource(new FileSystemResource(&quot;contact-list.xml&quot;));\n            reader.setFragmentRootElementName(&quot;contact&quot;);\n            reader.setUnmarshaller(unmarshaller);\n        } catch (Exception e) {\n            log.error(&quot;ERROR in StaxEventItemReader :: Error while reading: {}&quot;, e.getMessage());\n        }\n        \n        return reader;\n    }\n    \n    @Bean\n    public FlatFileItemWriter&lt;Contact&gt; writer() {\n        \n        FlatFileItemWriter&lt;Contact&gt; writer = new FlatFileItemWriter&lt;&gt;();\n        writer.setResource(new FileSystemResource(&quot;contact-out.dat&quot;));\n        writer.setLineAggregator(new DelimitedLineAggregator&lt;Contact&gt;() {\n            {\n                setDelimiter(&quot;,&quot;);\n                setFieldExtractor(new BeanWrapperFieldExtractor&lt;Contact&gt;() {\n                    {\n                        setNames(new String[] { &quot;firstName&quot;, &quot;lastName&quot;, &quot;street&quot;, &quot;city&quot;, &quot;state&quot;, &quot;zip&quot; });\n                    }                   \n                });\n            }\n        });\n        \n        return writer;\n    }\n        \n    @Bean(&quot;InputJob&quot;)\n    @Scope(value = ConfigurableBeanFactory.SCOPE_PROTOTYPE)\n    public Job importUserJob(Step step) {\n        return jobBuilderFactory.get(&quot;importUserJob&quot;)\n          .incrementer(new RunIdIncrementer())          \n          .flow(step)\n          .end()\n          .build();\n    }\n\n    @Bean\n    public Step step(FlatFileItemWriter&lt;Contact&gt; writer) {      \n        return stepBuilderFactory.get(&quot;step&quot;)\n          .&lt;String, Contact&gt; chunk(10)\n          .reader(reader())          \n          .processor(contactItemProcessor)\n          .writer(writer)          \n          .build();\n    }\n\n}\n</code></pre>\n<p><strong>ContactItemProcessor.java</strong></p>\n<pre><code>@Component\npublic class ContactItemProcessor implements ItemProcessor&lt;String, Contact&gt; {\n\n    @Override\n    public Contact process(String item) throws Exception {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n}\n</code></pre>\n<p>In above <code>ContactItemProcessor</code> class the item string value that is coming from the reader is: <code>\\n\\t\\t</code>, is not bringing the actual <code>contact</code> element, not sure why.</p>\n"},{"tags":["java","unit-testing","jvm","junit4","java-11"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1684558481,"post_id":76293532,"comment_id":134538035,"body_markdown":"Some unit test frameworks might be able to do this.  However I usually avoid making things private that I need to test, so I&#39;m not really sure which ones to use specifically in this case.  Look around!","body":"Some unit test frameworks might be able to do this.  However I usually avoid making things private that I need to test, so I&#39;m not really sure which ones to use specifically in this case.  Look around!"},{"owner":{"account_id":27097454,"reputation":797,"user_id":20644506,"display_name":"Peng"},"score":0,"creation_date":1684558632,"post_id":76293532,"comment_id":134538041,"body_markdown":"If  it is just a test ,you can  modify ```Class2```  be a inner static class temporary ,so that you can instantiate class2 and test your method. In general , wo often use some test framework like junit , here is [doc](https://junit.org/junit5/)","body":"If  it is just a test ,you can  modify <code>Class2</code>  be a inner static class temporary ,so that you can instantiate class2 and test your method. In general , wo often use some test framework like junit , here is <a href=\"https://junit.org/junit5/\" rel=\"nofollow noreferrer\">doc</a>"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":5,"creation_date":1684567581,"post_id":76293532,"comment_id":134538631,"body_markdown":"You shouldn&#39;t test private methods or classes directly; test them through observable behaviour of package private (or higher) classes and methods.","body":"You shouldn&#39;t test private methods or classes directly; test them through observable behaviour of package private (or higher) classes and methods."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1684568235,"post_id":76293532,"comment_id":134538689,"body_markdown":"There must be some code in `Class1` that calls that method in `Class2`.  That&#39;s the code that you should be testing.","body":"There must be some code in <code>Class1</code> that calls that method in <code>Class2</code>.  That&#39;s the code that you should be testing."},{"owner":{"account_id":24057171,"reputation":73,"user_id":18034851,"display_name":"GlidingSwords997"},"score":0,"creation_date":1684611661,"post_id":76293532,"comment_id":134543621,"body_markdown":"Yes, there&#39;s a code in Class1 which calls methods of Class2, but somehow that couldn&#39;t be tested.","body":"Yes, there&#39;s a code in Class1 which calls methods of Class2, but somehow that couldn&#39;t be tested."}],"answers":[{"comments":[{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1684561343,"post_id":76293589,"comment_id":134538197,"body_markdown":"&#39;should be moved into another class to promote reusability.&#39; is some weird verbiage. The essence of it is: &quot;If you want to test a private method, then that&#39;s a very strong indication that method should not be private&quot;. Same applies to private classes, of course. OP: You can have package private, too. Test code has no issues accessing those.","body":"&#39;should be moved into another class to promote reusability.&#39; is some weird verbiage. The essence of it is: &quot;If you want to test a private method, then that&#39;s a very strong indication that method should not be private&quot;. Same applies to private classes, of course. OP: You can have package private, too. Test code has no issues accessing those."},{"owner":{"account_id":24057171,"reputation":73,"user_id":18034851,"display_name":"GlidingSwords997"},"score":0,"creation_date":1684611742,"post_id":76293589,"comment_id":134543627,"body_markdown":"Here, the issue is for private classes, not private methods. Of course, there should be rarely some private class within another class, but since it is there, we can&#39;t change it for now, and think of a way to solve the issue","body":"Here, the issue is for private classes, not private methods. Of course, there should be rarely some private class within another class, but since it is there, we can&#39;t change it for now, and think of a way to solve the issue"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1684612850,"post_id":76293589,"comment_id":134543734,"body_markdown":"@GlidingSwords997 I think that&#39;s what the documentation is inferring.  If you have a situation where this is occurring, then it&#39;s more logical to re-evaluate the structure.","body":"@GlidingSwords997 I think that&#39;s what the documentation is inferring.  If you have a situation where this is occurring, then it&#39;s more logical to re-evaluate the structure."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":1,"creation_date":1684614045,"post_id":76293589,"comment_id":134543856,"body_markdown":"@GlidingSwords997, I&#39;ve provided an abstraction using reflection, if you&#39;d like to take a look.","body":"@GlidingSwords997, I&#39;ve provided an abstraction using reflection, if you&#39;d like to take a look."}],"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1684701104,"creation_date":1684559010,"answer_id":76293589,"question_id":76293532,"body_markdown":"You could use reflection, I was able to get the following to work.\r\n\r\nConsider the following, `Class1`, and `Class2`.\r\n\r\n```java\r\npublic class Class1 {\r\n    private class Class2 {\r\n        int a1;\r\n        void method() {\r\n            System.out.println(&quot;value&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThe following method will return an instance of `Class2`.\r\n\r\n```java\r\nClass1.Class2 instance() throws ReflectiveOperationException {\r\n    Class1 class1 = new Class1();\r\n    Class&lt;?&gt; object = Class1.class.getDeclaredClasses()[0];\r\n    Constructor&lt;?&gt; constructor = object.getDeclaredConstructors()[0];\r\n    constructor.setAccessible(true);\r\n    return (Class1.Class2) constructor.newInstance(class1);\r\n}\r\n```\r\n\r\nAdditionally, from the JUnit4 Frequently Asked Questions.\r\n\r\n[JUnit4 - How do I test private methods?](https://junit.org/junit4/faq.html#atests_11)\r\n\r\n&gt; Testing private methods may be an indication that those methods should be moved into another class to promote reusability.\r\n&gt; \r\n&gt; But if you must...\r\n&gt; \r\n&gt; If you are using JDK 1.3 or higher, you can use reflection to subvert the access control mechanism with the aid of the [PrivilegedAccessor](http://sourceforge.net/projects/privaccessor/). For details on how to use it, read [this article](http://www.onjava.com/pub/a/onjava/2003/11/12/reflection.html).\r\n&gt; \r\n&gt; If you are using JDK 1.6 or higher and you annotate your tests with @Test, you can use Dp4j to inject reflection in your test methods. For details on how to use it, see [this test script](http://dp4j.com/testscript).","title":"Writing test cases for private classes","body":"<p>You could use reflection, I was able to get the following to work.</p>\n<p>Consider the following, <code>Class1</code>, and <code>Class2</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Class1 {\n    private class Class2 {\n        int a1;\n        void method() {\n            System.out.println(&quot;value&quot;);\n        }\n    }\n}\n</code></pre>\n<p>The following method will return an instance of <code>Class2</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Class1.Class2 instance() throws ReflectiveOperationException {\n    Class1 class1 = new Class1();\n    Class&lt;?&gt; object = Class1.class.getDeclaredClasses()[0];\n    Constructor&lt;?&gt; constructor = object.getDeclaredConstructors()[0];\n    constructor.setAccessible(true);\n    return (Class1.Class2) constructor.newInstance(class1);\n}\n</code></pre>\n<p>Additionally, from the JUnit4 Frequently Asked Questions.</p>\n<p><a href=\"https://junit.org/junit4/faq.html#atests_11\" rel=\"nofollow noreferrer\">JUnit4 - How do I test private methods?</a></p>\n<blockquote>\n<p>Testing private methods may be an indication that those methods should be moved into another class to promote reusability.</p>\n<p>But if you must...</p>\n<p>If you are using JDK 1.3 or higher, you can use reflection to subvert the access control mechanism with the aid of the <a href=\"http://sourceforge.net/projects/privaccessor/\" rel=\"nofollow noreferrer\">PrivilegedAccessor</a>. For details on how to use it, read <a href=\"http://www.onjava.com/pub/a/onjava/2003/11/12/reflection.html\" rel=\"nofollow noreferrer\">this article</a>.</p>\n<p>If you are using JDK 1.6 or higher and you annotate your tests with @Test, you can use Dp4j to inject reflection in your test methods. For details on how to use it, see <a href=\"http://dp4j.com/testscript\" rel=\"nofollow noreferrer\">this test script</a>.</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":24057171,"reputation":73,"user_id":18034851,"display_name":"GlidingSwords997"},"score":0,"creation_date":1684611797,"post_id":76293604,"comment_id":134543631,"body_markdown":"Since its a code written by someone else, we can&#39;t change the source code. Had it been protected or static, there would be no issue","body":"Since its a code written by someone else, we can&#39;t change the source code. Had it been protected or static, there would be no issue"},{"owner":{"account_id":12660821,"reputation":1,"user_id":10421995,"display_name":"WILFREDO ALARCON GUEVARA"},"score":0,"creation_date":1684958621,"post_id":76293604,"comment_id":134595357,"body_markdown":"you could go the messy way of hacking it out to get what you want","body":"you could go the messy way of hacking it out to get what you want"}],"tags":[],"owner":{"account_id":12660821,"reputation":1,"user_id":10421995,"display_name":"WILFREDO ALARCON GUEVARA"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684561152,"creation_date":1684559353,"answer_id":76293604,"question_id":76293532,"body_markdown":"If the access modifier of the embedded class were combined with a public getter, then it&#39;d be more feasible and reliable. Also, it would force you to have a new instance every time `retrieveClass()` is called.\r\n\r\nSay...\r\n\r\n    public class Class1 { \r\n      private class Class2 { \r\n       int a1; \r\n       void method ();\r\n      }\r\n       public Class2 retrieveClass() { \r\n         return new Class2();\r\n     }  \r\n    } \r\n\r\n\r\nEven if you had reflection handle it behind the scenes with a sort of mocking type of behavior, It may work but also I would not rely on that wonky code. Since you need it testable. \r\n\r\nAlternatively, these may be the undesired workarounds to go by:\r\n\r\n       Method method = TargetClass.getDeclaredMethod(methodName, argClasses);\r\n       method.setAccessible(true);\r\n       return method.invoke(targetObject, argObjects);\r\n\r\n\r\n       Class obj = test.getClass(); // create an object of the class named Class\r\n    \r\n       Field field = obj.getDeclaredField(&quot;fieldname&quot;); // access the private variable\r\n    \r\n       field.setAccessible(true); // make private field accessible\r\n\r\n       field.set(test,&quot;value&quot;); // setting a field value","title":"Writing test cases for private classes","body":"<p>If the access modifier of the embedded class were combined with a public getter, then it'd be more feasible and reliable. Also, it would force you to have a new instance every time <code>retrieveClass()</code> is called.</p>\n<p>Say...</p>\n<pre><code>public class Class1 { \n  private class Class2 { \n   int a1; \n   void method ();\n  }\n   public Class2 retrieveClass() { \n     return new Class2();\n }  \n} \n</code></pre>\n<p>Even if you had reflection handle it behind the scenes with a sort of mocking type of behavior, It may work but also I would not rely on that wonky code. Since you need it testable.</p>\n<p>Alternatively, these may be the undesired workarounds to go by:</p>\n<pre><code>   Method method = TargetClass.getDeclaredMethod(methodName, argClasses);\n   method.setAccessible(true);\n   return method.invoke(targetObject, argObjects);\n\n\n   Class obj = test.getClass(); // create an object of the class named Class\n\n   Field field = obj.getDeclaredField(&quot;fieldname&quot;); // access the private variable\n\n   field.setAccessible(true); // make private field accessible\n\n   field.set(test,&quot;value&quot;); // setting a field value\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9443335,"reputation":15252,"user_id":7023245,"accept_rate":25,"display_name":"Timothy Truckle"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684870904,"creation_date":1684870904,"answer_id":76318136,"question_id":76293532,"body_markdown":"UnitTest do not *test code*, they verify the *pubic observable behavior* of the code under test. That is *return values* and *communication with dependencies* according to the parameters passed in.\r\n\r\nYour private class is an *implementation detail*, your current decision how your unit realizes its *desired behavior*. You may later change your mind and omit this class in favor of some different approach resulting in the same behavior. This is known as refactoring. In that case all your unittests &quot;testing&quot; this class would become useless and the safety net, that unittests  build for detecting unwanted changes in the units behaviors, will get a big hole. When doing unittests correctly you can change *implementation details* without changing the unittest and the latter will guarantee that the units behavior did not change unexpectedly.\r\n\r\nIn Consequence you should **not** test the private class *explicitly*. That means you should create testcases against the public class, that use this private class *implicitly*.","title":"Writing test cases for private classes","body":"<p>UnitTest do not <em>test code</em>, they verify the <em>pubic observable behavior</em> of the code under test. That is <em>return values</em> and <em>communication with dependencies</em> according to the parameters passed in.</p>\n<p>Your private class is an <em>implementation detail</em>, your current decision how your unit realizes its <em>desired behavior</em>. You may later change your mind and omit this class in favor of some different approach resulting in the same behavior. This is known as refactoring. In that case all your unittests &quot;testing&quot; this class would become useless and the safety net, that unittests  build for detecting unwanted changes in the units behaviors, will get a big hole. When doing unittests correctly you can change <em>implementation details</em> without changing the unittest and the latter will guarantee that the units behavior did not change unexpectedly.</p>\n<p>In Consequence you should <strong>not</strong> test the private class <em>explicitly</em>. That means you should create testcases against the public class, that use this private class <em>implicitly</em>.</p>\n"}],"owner":{"account_id":24057171,"reputation":73,"user_id":18034851,"display_name":"GlidingSwords997"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1684870904,"creation_date":1684557054,"question_id":76293532,"body_markdown":"There is a public class in which a private class has been written with some properties and methods. Now, we want to write test cases for this private class but since it&#39;s a private class, we can&#39;t create an instance of that class. I tried using reflection utils, but that can help only for private methods of public classes.\r\n\r\n```java\r\npublic class Class1{\r\n    private class Class2{\r\n        int a1;\r\n        void method () { }\r\n    }\r\n}\r\n```","title":"Writing test cases for private classes","body":"<p>There is a public class in which a private class has been written with some properties and methods. Now, we want to write test cases for this private class but since it's a private class, we can't create an instance of that class. I tried using reflection utils, but that can help only for private methods of public classes.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Class1{\n    private class Class2{\n        int a1;\n        void method () { }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":49543,"reputation":19032,"user_id":147530,"accept_rate":63,"display_name":"morpheus"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684870594,"creation_date":1675144750,"answer_id":75293200,"question_id":75292960,"body_markdown":"Debugged this for many hours. The error is not because it cannot find `com.teradata.jdbc:terajdbc4:jar`, its because the `application.properties` was not making it through. We thought it was reading `application.properties` but it wasn&#39;t. In our case we were building the fatjar using the shade plugin as mentioned in the question. It turns out the fatjar should be built using the _`spring-boot-maven-plugin`_ as explained [here](https://www.baeldung.com/spring-boot-repackage-vs-mvn-package). Specifically you have to be careful to use:\r\n\r\n```\r\nmvn clean package spring-boot:repackage\r\n```\r\n\r\nIn the first case (using the `shade` plugin), the `application.properties` is under the root directory of the jar file. In the second case (using `spring-boot-maven-plugin`), the root directory contains\r\n\r\n```\r\n % ls                                                                                                                                                                                                                                         temp/td-atr-api2 SIJAIN2-M-89PB\r\nBOOT-INF META-INF org\r\n```\r\n\r\nand application.properties is under `BOOT-INF/classes/application.properties`. the organization is very different.","title":"o.s.b.a.jdbc.DataSourceProperties$DataSourceBeanCreationException: Failed to determine a suitable driver class","body":"<p>Debugged this for many hours. The error is not because it cannot find <code>com.teradata.jdbc:terajdbc4:jar</code>, its because the <code>application.properties</code> was not making it through. We thought it was reading <code>application.properties</code> but it wasn't. In our case we were building the fatjar using the shade plugin as mentioned in the question. It turns out the fatjar should be built using the <em><code>spring-boot-maven-plugin</code></em> as explained <a href=\"https://www.baeldung.com/spring-boot-repackage-vs-mvn-package\" rel=\"nofollow noreferrer\">here</a>. Specifically you have to be careful to use:</p>\n<pre><code>mvn clean package spring-boot:repackage\n</code></pre>\n<p>In the first case (using the <code>shade</code> plugin), the <code>application.properties</code> is under the root directory of the jar file. In the second case (using <code>spring-boot-maven-plugin</code>), the root directory contains</p>\n<pre><code> % ls                                                                                                                                                                                                                                         temp/td-atr-api2 SIJAIN2-M-89PB\nBOOT-INF META-INF org\n</code></pre>\n<p>and application.properties is under <code>BOOT-INF/classes/application.properties</code>. the organization is very different.</p>\n"}],"owner":{"account_id":49543,"reputation":19032,"user_id":147530,"accept_rate":63,"display_name":"morpheus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":224,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75293200,"answer_count":1,"score":0,"last_activity_date":1684870594,"creation_date":1675142188,"question_id":75292960,"body_markdown":"We have a spring boot 2.7.3 app. It runs fine when invoked from Maven like this:\r\n\r\n```\r\nmvn spring-boot:run\r\n```\r\n\r\nBut when we build a fatjar using the shade plugin and try to invoke the application using `java`, we get this error (showing the innermost exception):\r\n\r\n```\r\nCaused by: org.springframework.boot.autoconfigure.jdbc.DataSourceProperties$DataSourceBeanCreationException: Failed to determine a suitable driver class\r\n\tat org.springframework.boot.autoconfigure.jdbc.DataSourceProperties.determineDriverClassName(DataSourceProperties.java:182)\r\n\tat org.springframework.boot.autoconfigure.jdbc.DataSourceProperties.initializeDataSourceBuilder(DataSourceProperties.java:123)\r\n\tat org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration.createDataSource(DataSourceConfiguration.java:48)\r\n\tat org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari.dataSource(DataSourceConfiguration.java:90)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\r\n\t... 42 common frames omitted\r\n```\r\n\r\nOur `application.properties` is like this:\r\n\r\n```\r\nspring.datasource.driver-class-name=com.teradata.jdbc.TeraDriver\r\nspring.jpa.hibernate.ddl-auto=none\r\nspring.jpa.open-in-view=false\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.TeradataDialect\r\nspring.datasource.username=\r\nspring.datasource.url=jdbc:teradata://TD1/TMODE=ANSI,CHARSET=UTF8\r\nspring.datasource.password=\r\n```\r\n\r\nand in our `pom.xml` we have:\r\n\r\n```\r\n&lt;dependency&gt;\r\n      &lt;groupId&gt;com.teradata.jdbc&lt;/groupId&gt;\r\n      &lt;artifactId&gt;terajdbc4&lt;/artifactId&gt;\r\n      &lt;version&gt;17.20.00.12&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n```\r\n\r\n_We also unpacked the fatjar and verified `com.teradata.jdbc.TeraDriver` is contained in it_. When we built the fatjar we could see below in Maven output:\r\n\r\n```\r\n[INFO] Including com.teradata.jdbc:terajdbc4:jar:17.20.00.12 in the shaded jar.\r\n```\r\n\r\nWhy is it then saying Failed to determine a suitable driver class? How can we fix this problem?","title":"o.s.b.a.jdbc.DataSourceProperties$DataSourceBeanCreationException: Failed to determine a suitable driver class","body":"<p>We have a spring boot 2.7.3 app. It runs fine when invoked from Maven like this:</p>\n<pre><code>mvn spring-boot:run\n</code></pre>\n<p>But when we build a fatjar using the shade plugin and try to invoke the application using <code>java</code>, we get this error (showing the innermost exception):</p>\n<pre><code>Caused by: org.springframework.boot.autoconfigure.jdbc.DataSourceProperties$DataSourceBeanCreationException: Failed to determine a suitable driver class\n    at org.springframework.boot.autoconfigure.jdbc.DataSourceProperties.determineDriverClassName(DataSourceProperties.java:182)\n    at org.springframework.boot.autoconfigure.jdbc.DataSourceProperties.initializeDataSourceBuilder(DataSourceProperties.java:123)\n    at org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration.createDataSource(DataSourceConfiguration.java:48)\n    at org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari.dataSource(DataSourceConfiguration.java:90)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\n    ... 42 common frames omitted\n</code></pre>\n<p>Our <code>application.properties</code> is like this:</p>\n<pre><code>spring.datasource.driver-class-name=com.teradata.jdbc.TeraDriver\nspring.jpa.hibernate.ddl-auto=none\nspring.jpa.open-in-view=false\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.TeradataDialect\nspring.datasource.username=\nspring.datasource.url=jdbc:teradata://TD1/TMODE=ANSI,CHARSET=UTF8\nspring.datasource.password=\n</code></pre>\n<p>and in our <code>pom.xml</code> we have:</p>\n<pre><code>&lt;dependency&gt;\n      &lt;groupId&gt;com.teradata.jdbc&lt;/groupId&gt;\n      &lt;artifactId&gt;terajdbc4&lt;/artifactId&gt;\n      &lt;version&gt;17.20.00.12&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p><em>We also unpacked the fatjar and verified <code>com.teradata.jdbc.TeraDriver</code> is contained in it</em>. When we built the fatjar we could see below in Maven output:</p>\n<pre><code>[INFO] Including com.teradata.jdbc:terajdbc4:jar:17.20.00.12 in the shaded jar.\n</code></pre>\n<p>Why is it then saying Failed to determine a suitable driver class? How can we fix this problem?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1679396119,"post_id":75800209,"comment_id":133710413,"body_markdown":"Did you have a look at the plugin&#39;s [usage page](http://www.mojohaus.org/properties-maven-plugin/usage.html) and try one of the first 2 options which include `&lt;phase&gt;initialize&lt;/phase&gt;` and `&lt;goal&gt;read-project-properties&lt;/goal&gt;`?","body":"Did you have a look at the plugin&#39;s <a href=\"http://www.mojohaus.org/properties-maven-plugin/usage.html\" rel=\"nofollow noreferrer\">usage page</a> and try one of the first 2 options which include <code>&lt;phase&gt;initialize&lt;&#47;phase&gt;</code> and <code>&lt;goal&gt;read-project-properties&lt;&#47;goal&gt;</code>?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1679396500,"post_id":75800209,"comment_id":133710515,"body_markdown":"Why is the `jacoco-maven-plugin` even a dependency, isn&#39;t that weird? Also you defined a property named `version` and reference `example-library.version` as a property, that doesn&#39;t match.","body":"Why is the <code>jacoco-maven-plugin</code> even a dependency, isn&#39;t that weird? Also you defined a property named <code>version</code> and reference <code>example-library.version</code> as a property, that doesn&#39;t match."}],"answers":[{"tags":[],"owner":{"account_id":22604872,"reputation":2005,"user_id":16785907,"display_name":"Mikhail2048"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684870468,"creation_date":1684868090,"answer_id":76317839,"question_id":75800209,"body_markdown":"There a a couple of things to point out \r\n\r\n 1. If you intend to use maven properties plugin (either a new or an old one, see below), this will not help you. Becuase when maven parses the POM it needs to know the versions already, **it happens before any build**. So by the time of build you should already know the versions of dependencies, not by the time of some build phase. So the plugin you are trying to use is not going to solve this problem. \r\n\r\n 2. To solve your problem, you can try to pass properties into maven form command line, like `-Dsome.version=1.6.3` for instance. This way, you will provide the property value at the parsing time so the maven will be able to recognize and substitute the variable.\r\n\r\nAs a side note, talking about `properties-maven-plugin`, there are 2 options, as far as I can tell...\r\n\r\n* There is maven properties plugin: https://github.com/mojohaus/properties-maven-plugin. I do not think a lot of people use it since this plugin is no more under active development.\r\n\r\n* Or you can use this plugin: https://github.com/Mikhail2048/properties-maven-plugin/tree/v1.0.0. This plugin is a fork of maven plugin but is under active development and is more feature reach. \r\n\r\nI only can tell about the later since I myself is one of the contributors to the project - there is a `README.md` file that shows multiple examples of how you can use the plugin. There is an example specifically for your case as well. So check this out.","title":"how can I dynamically add version of any dependency in pom.xml without profiling","body":"<p>There a a couple of things to point out</p>\n<ol>\n<li><p>If you intend to use maven properties plugin (either a new or an old one, see below), this will not help you. Becuase when maven parses the POM it needs to know the versions already, <strong>it happens before any build</strong>. So by the time of build you should already know the versions of dependencies, not by the time of some build phase. So the plugin you are trying to use is not going to solve this problem.</p>\n</li>\n<li><p>To solve your problem, you can try to pass properties into maven form command line, like <code>-Dsome.version=1.6.3</code> for instance. This way, you will provide the property value at the parsing time so the maven will be able to recognize and substitute the variable.</p>\n</li>\n</ol>\n<p>As a side note, talking about <code>properties-maven-plugin</code>, there are 2 options, as far as I can tell...</p>\n<ul>\n<li><p>There is maven properties plugin: <a href=\"https://github.com/mojohaus/properties-maven-plugin\" rel=\"nofollow noreferrer\">https://github.com/mojohaus/properties-maven-plugin</a>. I do not think a lot of people use it since this plugin is no more under active development.</p>\n</li>\n<li><p>Or you can use this plugin: <a href=\"https://github.com/Mikhail2048/properties-maven-plugin/tree/v1.0.0\" rel=\"nofollow noreferrer\">https://github.com/Mikhail2048/properties-maven-plugin/tree/v1.0.0</a>. This plugin is a fork of maven plugin but is under active development and is more feature reach.</p>\n</li>\n</ul>\n<p>I only can tell about the later since I myself is one of the contributors to the project - there is a <code>README.md</code> file that shows multiple examples of how you can use the plugin. There is an example specifically for your case as well. So check this out.</p>\n"}],"owner":{"account_id":10278174,"reputation":11,"user_id":19296413,"display_name":"Praduman Yadav"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":359,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1684870468,"creation_date":1679395708,"question_id":75800209,"body_markdown":"I want to dynamically add the version of the dependency using `${variable_name}`, I added that variable in another pom.properties file parallel to the pom. I am getting the &quot;not able to resolve dependencies&quot; error. I am using `properties-maven-plugin`.\r\n\r\nI expected that if I used this plugin the plugin would read me the variable that i have defined in pom.properties and I will be able to use that variable in version tag in dependency.\r\nI have used `org.jacoco.jacoco-maven-plugin` to find the solution of this problem.\r\n\r\nI have added my `pom.xml` below.\r\n\r\n\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.9&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;project&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;project&lt;/name&gt;\r\n\t&lt;description&gt;Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t  &lt;plugin&gt;\r\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                &lt;artifactId&gt;properties-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;1.0.0&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;set-property&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                       \r\n                        &lt;configuration&gt;\r\n                            &lt;files&gt;\r\n                                \r\n                                &lt;file&gt;C:\\Users\\praduman.yadav\\eclipse\\learning-workspace\\springboot project\\project\\example-library.properties&lt;/file&gt;\r\n                            &lt;/files&gt;\r\n                         \r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n    \r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;${example-library.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\n\r\n\r\nI have added the below version variable in my pom.properties below\r\n\r\n\r\n```\r\nversion=0.8.8\r\n```\r\n\r\n\r\n\r\n\r\n\r\n","title":"how can I dynamically add version of any dependency in pom.xml without profiling","body":"<p>I want to dynamically add the version of the dependency using <code>${variable_name}</code>, I added that variable in another pom.properties file parallel to the pom. I am getting the &quot;not able to resolve dependencies&quot; error. I am using <code>properties-maven-plugin</code>.</p>\n<p>I expected that if I used this plugin the plugin would read me the variable that i have defined in pom.properties and I will be able to use that variable in version tag in dependency.\nI have used <code>org.jacoco.jacoco-maven-plugin</code> to find the solution of this problem.</p>\n<p>I have added my <code>pom.xml</code> below.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.9&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;project&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;project&lt;/name&gt;\n    &lt;description&gt;Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n          &lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;artifactId&gt;properties-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.0.0&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;set-property&lt;/goal&gt;\n                        &lt;/goals&gt;\n                       \n                        &lt;configuration&gt;\n                            &lt;files&gt;\n                                \n                                &lt;file&gt;C:\\Users\\praduman.yadav\\eclipse\\learning-workspace\\springboot project\\project\\example-library.properties&lt;/file&gt;\n                            &lt;/files&gt;\n                         \n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n    \n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n            &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${example-library.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>I have added the below version variable in my pom.properties below</p>\n<pre><code>version=0.8.8\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":14182472,"reputation":198,"user_id":10245558,"display_name":"Roland"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675241024,"creation_date":1675241024,"answer_id":75307514,"question_id":75291817,"body_markdown":"Adjust your `application.yml/properties` to the following\r\n\r\n``` \r\nspring:\r\n  application:\r\n    name: service-name\r\n\r\n  profiles:\r\n    active: ${PROFILE:local}\r\n\r\n```\r\n\r\nand run the following command\r\n\r\n`java -jar td-api-1.0-SNAPSHOT.jar --PROFILE=environement`\r\n\r\nthe advantage of the above is you can default your profile to a fallback profile if the environment was not provided.\r\n\r\n*The command above takes into consideration that you are inside of the /target dir*","title":"SPRING_PROFILES_ACTIVE does not work. How to fix?","body":"<p>Adjust your <code>application.yml/properties</code> to the following</p>\n<pre><code>spring:\n  application:\n    name: service-name\n\n  profiles:\n    active: ${PROFILE:local}\n\n</code></pre>\n<p>and run the following command</p>\n<p><code>java -jar td-api-1.0-SNAPSHOT.jar --PROFILE=environement</code></p>\n<p>the advantage of the above is you can default your profile to a fallback profile if the environment was not provided.</p>\n<p><em>The command above takes into consideration that you are inside of the /target dir</em></p>\n"},{"tags":[],"owner":{"account_id":49543,"reputation":19032,"user_id":147530,"accept_rate":63,"display_name":"morpheus"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684870368,"creation_date":1684870368,"answer_id":76318076,"question_id":75291817,"body_markdown":"As best as I can remember the problem in our case was a misconfigured `pom.xml` due to which the `.properties` file was not making it to the fat jar. There was no issue with the `.properties` file or with Spring. _The solution was to use the [`spring-boot-maven-plugin`][1] to package the application instead of the `shade` plugin_. `pom.xml` looks like:\r\n\r\n```\r\n&lt;build&gt;\r\n    &lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.2&lt;/version&gt;        \r\n        &lt;/plugin&gt;       \r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n```\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/","title":"SPRING_PROFILES_ACTIVE does not work. How to fix?","body":"<p>As best as I can remember the problem in our case was a misconfigured <code>pom.xml</code> due to which the <code>.properties</code> file was not making it to the fat jar. There was no issue with the <code>.properties</code> file or with Spring. <em>The solution was to use the <a href=\"https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/\" rel=\"nofollow noreferrer\"><code>spring-boot-maven-plugin</code></a> to package the application instead of the <code>shade</code> plugin</em>. <code>pom.xml</code> looks like:</p>\n<pre><code>&lt;build&gt;\n    &lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\n        &lt;plugins&gt;\n        &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.0.2&lt;/version&gt;        \n        &lt;/plugin&gt;       \n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n"}],"owner":{"account_id":49543,"reputation":19032,"user_id":147530,"accept_rate":63,"display_name":"morpheus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":903,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76318076,"answer_count":2,"score":0,"last_activity_date":1684870368,"creation_date":1675128095,"question_id":75291817,"body_markdown":"According to [this](https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.properties-and-configuration) (and also [this](https://stackoverflow.com/a/46050490/147530)):\r\n\r\n&gt; The Spring Environment has an API for this, but you would normally set a System property (spring.profiles.active) or an OS environment variable (SPRING_PROFILES_ACTIVE).\r\n\r\nI am using version 2.7.3 of Spring Boot:\r\n\r\n```\r\n&lt;dependency&gt;\r\n        &lt;!-- Import dependency management from Spring Boot --&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.3&lt;/version&gt;\r\n        &lt;type&gt;pom&lt;/type&gt;\r\n        &lt;scope&gt;import&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n```\r\n\r\nWe have a `src/main/resources/application.properties` file like this:\r\n\r\n```\r\nspring.datasource.driver-class-name=com.teradata.jdbc.TeraDriver\r\nspring.jpa.hibernate.ddl-auto=none\r\nspring.jpa.open-in-view=false\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.TeradataDialect\r\n#---\r\nspring.config.activate.on-profile=local\r\nspring.datasource.username=\r\nspring.datasource.url=jdbc:teradata://TDTEST/TMODE=ANSI,CHARSET=UTF8\r\nspring.datasource.password=\r\n#---\r\nspring.config.activate.on-profile=prod\r\nspring.datasource.username=\r\nspring.datasource.url=\r\n```\r\n\r\nWe built a fatjar using the maven shade plugin. But when we try to run it like this:\r\n\r\n```\r\nSPRING_PROFILES_ACTIVE=local java -ea -jar target/td-api-1.0-SNAPSHOT.jar\r\n```\r\n\r\nWe get this message:\r\n\r\n```\r\n17:09:42.663 [main] INFO cdao.dpde.app.App - No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n```\r\n\r\nWhy? How can I fix this?","title":"SPRING_PROFILES_ACTIVE does not work. How to fix?","body":"<p>According to <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.properties-and-configuration\" rel=\"nofollow noreferrer\">this</a> (and also <a href=\"https://stackoverflow.com/a/46050490/147530\">this</a>):</p>\n<blockquote>\n<p>The Spring Environment has an API for this, but you would normally set a System property (spring.profiles.active) or an OS environment variable (SPRING_PROFILES_ACTIVE).</p>\n</blockquote>\n<p>I am using version 2.7.3 of Spring Boot:</p>\n<pre><code>&lt;dependency&gt;\n        &lt;!-- Import dependency management from Spring Boot --&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\n        &lt;version&gt;2.7.3&lt;/version&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n        &lt;scope&gt;import&lt;/scope&gt;\n      &lt;/dependency&gt;\n</code></pre>\n<p>We have a <code>src/main/resources/application.properties</code> file like this:</p>\n<pre><code>spring.datasource.driver-class-name=com.teradata.jdbc.TeraDriver\nspring.jpa.hibernate.ddl-auto=none\nspring.jpa.open-in-view=false\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.TeradataDialect\n#---\nspring.config.activate.on-profile=local\nspring.datasource.username=\nspring.datasource.url=jdbc:teradata://TDTEST/TMODE=ANSI,CHARSET=UTF8\nspring.datasource.password=\n#---\nspring.config.activate.on-profile=prod\nspring.datasource.username=\nspring.datasource.url=\n</code></pre>\n<p>We built a fatjar using the maven shade plugin. But when we try to run it like this:</p>\n<pre><code>SPRING_PROFILES_ACTIVE=local java -ea -jar target/td-api-1.0-SNAPSHOT.jar\n</code></pre>\n<p>We get this message:</p>\n<pre><code>17:09:42.663 [main] INFO cdao.dpde.app.App - No active profile set, falling back to 1 default profile: &quot;default&quot;\n</code></pre>\n<p>Why? How can I fix this?</p>\n"},{"tags":["java","gson"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1684868326,"post_id":76317852,"comment_id":134579464,"body_markdown":"Sounds like `#getListObject` is returning a `List&lt;Object&gt;` which your `PetList` (naming conventions!) does not accept. That function should really be `public &lt;T&gt; ArrayList&lt;T&gt; getListObject(String key, Class&lt;T&gt; mClass) { ... }` in order to return the correct type.","body":"Sounds like <code>#getListObject</code> is returning a <code>List&lt;Object&gt;</code> which your <code>PetList</code> (naming conventions!) does not accept. That function should really be <code>public &lt;T&gt; ArrayList&lt;T&gt; getListObject(String key, Class&lt;T&gt; mClass) { ... }</code> in order to return the correct type."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1684868610,"post_id":76317852,"comment_id":134579519,"body_markdown":"gson can already parse and return a list. Dont use a for loop","body":"gson can already parse and return a list. Dont use a for loop"}],"answers":[{"comments":[{"owner":{"account_id":22556897,"reputation":5,"user_id":18053287,"display_name":"yogurtik"},"score":0,"creation_date":1684868860,"post_id":76317885,"comment_id":134579552,"body_markdown":"thank you, I&#39;m make the same thing after you comment. But In line // change 2, need to change for:\n```ArrayList&lt;T&gt; objects =  new ArrayList&lt;T&gt;();```","body":"thank you, I&#39;m make the same thing after you comment. But In line // change 2, need to change for: <code>ArrayList&lt;T&gt; objects =  new ArrayList&lt;T&gt;();</code>"},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1684868935,"post_id":76317885,"comment_id":134579563,"body_markdown":"Diamond operator `ArrayList&lt;T&gt; objects =  new ArrayList&lt;&gt;(); //change 2`","body":"Diamond operator <code>ArrayList&lt;T&gt; objects =  new ArrayList&lt;&gt;(); &#47;&#47;change 2</code>"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1684868943,"post_id":76317885,"comment_id":134579564,"body_markdown":"You can use the diamond operator: `new ArrayList&lt;&gt;()`. I missed it since re-declaring the types hasn&#39;t been necessary since Java 6.","body":"You can use the diamond operator: <code>new ArrayList&lt;&gt;()</code>. I missed it since re-declaring the types hasn&#39;t been necessary since Java 6."}],"tags":[],"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684869003,"creation_date":1684868600,"answer_id":76317885,"question_id":76317852,"body_markdown":"Without any improvements to the code beyond what is necessary, you should utilize the type provided by your `Class` parameter:\r\n\r\n    public &lt;T&gt; ArrayList&lt;T&gt; getListObject(String key, Class&lt;T&gt; mClass){ //change 1\r\n        Gson gson = new Gson();\r\n    \r\n        ArrayList&lt;String&gt; objStrings = getListString(key);\r\n        ArrayList&lt;T&gt; objects =  new ArrayList&lt;&gt;(); //change 2\r\n    \r\n        for(String jObjString : objStrings){\r\n            T value  = gson.fromJson(jObjString,  mClass); //change 3\r\n            objects.add(value);\r\n        }\r\n        return objects;\r\n    }\r\n\r\nRegarding the changes above:\r\n\r\n \r\n\r\n 1. Introducing `&lt;T&gt;` is declaring a generic type parameter _on the method_. When we then declare `mClass` as a `Class&lt;T&gt;`, we say that `T` is an instance of the class type you passed. By returning `ArrayList&lt;T&gt;`, we&#39;re returning a list of objects that have the type you provided.\r\n 2. Our returned value is changed accordingly, so that we truly return a `List&lt;T&gt;`. The second `Object` is dropped in favor of the diamond operator `new ArrayList&lt;&gt;()`, as re-declaring the type is not necessary in Java 7+\r\n 3. We utilize the generic return value from `Gson#fromJson` which does a similar approach to what we&#39;ve done above. This allows us to get a `T` value instead of just an `Object`, which we add to our result list.\r\n\r\nAs noted in the comments, there are means of retrieving list values from gson (e.g. a `TypeAdapter` or even type tokens), but the solution above is to demonstrate fixing the problem with raw types and invariant types for generics (`List&lt;String&gt; != List&lt;Number&gt;` for most contexts).","title":"In Java I&#39;m was doing an ArrayList with my class, but when I&#39;m trying to use a function from side library, I get an error about Provided type","body":"<p>Without any improvements to the code beyond what is necessary, you should utilize the type provided by your <code>Class</code> parameter:</p>\n<pre><code>public &lt;T&gt; ArrayList&lt;T&gt; getListObject(String key, Class&lt;T&gt; mClass){ //change 1\n    Gson gson = new Gson();\n\n    ArrayList&lt;String&gt; objStrings = getListString(key);\n    ArrayList&lt;T&gt; objects =  new ArrayList&lt;&gt;(); //change 2\n\n    for(String jObjString : objStrings){\n        T value  = gson.fromJson(jObjString,  mClass); //change 3\n        objects.add(value);\n    }\n    return objects;\n}\n</code></pre>\n<p>Regarding the changes above:</p>\n<ol>\n<li>Introducing <code>&lt;T&gt;</code> is declaring a generic type parameter <em>on the method</em>. When we then declare <code>mClass</code> as a <code>Class&lt;T&gt;</code>, we say that <code>T</code> is an instance of the class type you passed. By returning <code>ArrayList&lt;T&gt;</code>, we're returning a list of objects that have the type you provided.</li>\n<li>Our returned value is changed accordingly, so that we truly return a <code>List&lt;T&gt;</code>. The second <code>Object</code> is dropped in favor of the diamond operator <code>new ArrayList&lt;&gt;()</code>, as re-declaring the type is not necessary in Java 7+</li>\n<li>We utilize the generic return value from <code>Gson#fromJson</code> which does a similar approach to what we've done above. This allows us to get a <code>T</code> value instead of just an <code>Object</code>, which we add to our result list.</li>\n</ol>\n<p>As noted in the comments, there are means of retrieving list values from gson (e.g. a <code>TypeAdapter</code> or even type tokens), but the solution above is to demonstrate fixing the problem with raw types and invariant types for generics (<code>List&lt;String&gt; != List&lt;Number&gt;</code> for most contexts).</p>\n"}],"owner":{"account_id":22556897,"reputation":5,"user_id":18053287,"display_name":"yogurtik"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76317885,"answer_count":1,"score":0,"last_activity_date":1684869003,"creation_date":1684868224,"question_id":76317852,"body_markdown":"I am creating an ArrayList with my own Pet class, but when I try to use a function from a side library, I get an error message. This is a necessary piece of code:\r\n```\r\nArrayList&lt;Pet&gt; PetList = new ArrayList&lt;Pet&gt;();\r\nTinyDB tinydb = new TinyDB(getContext());\r\nPetList = tinydb.getListObject(&quot;PETS&quot;, Pet.class);\r\n```\r\nMessage error:\r\n```\r\nRequired type:\r\nArrayList&lt;Pet&gt;\r\nProvided:\r\nArrayList&lt;Object&gt;\r\n```\r\nThere&#39;s a Pet class:\r\n\r\n```\r\nimport android.graphics.Bitmap;\r\n\r\npublic class Pet {\r\n    public String name;\r\n    public String birthday;\r\n    public Animal type;\r\n    public Bitmap photo;\r\n\r\n    public Pet() {\r\n    }\r\n}\r\n```\r\nThere&#39;s a function&#39;s code:\r\n```\r\npublic ArrayList&lt;Object&gt; getListObject(String key, Class&lt;?&gt; mClass){\r\n    Gson gson = new Gson();\r\n\r\n    ArrayList&lt;String&gt; objStrings = getListString(key);\r\n    ArrayList&lt;Object&gt; objects =  new ArrayList&lt;Object&gt;();\r\n\r\n    for(String jObjString : objStrings){\r\n    \tObject value  = gson.fromJson(jObjString,  mClass);\r\n    \tobjects.add(value);\r\n    }\r\n    return objects;\r\n}\r\n```","title":"In Java I&#39;m was doing an ArrayList with my class, but when I&#39;m trying to use a function from side library, I get an error about Provided type","body":"<p>I am creating an ArrayList with my own Pet class, but when I try to use a function from a side library, I get an error message. This is a necessary piece of code:</p>\n<pre><code>ArrayList&lt;Pet&gt; PetList = new ArrayList&lt;Pet&gt;();\nTinyDB tinydb = new TinyDB(getContext());\nPetList = tinydb.getListObject(&quot;PETS&quot;, Pet.class);\n</code></pre>\n<p>Message error:</p>\n<pre><code>Required type:\nArrayList&lt;Pet&gt;\nProvided:\nArrayList&lt;Object&gt;\n</code></pre>\n<p>There's a Pet class:</p>\n<pre><code>import android.graphics.Bitmap;\n\npublic class Pet {\n    public String name;\n    public String birthday;\n    public Animal type;\n    public Bitmap photo;\n\n    public Pet() {\n    }\n}\n</code></pre>\n<p>There's a function's code:</p>\n<pre><code>public ArrayList&lt;Object&gt; getListObject(String key, Class&lt;?&gt; mClass){\n    Gson gson = new Gson();\n\n    ArrayList&lt;String&gt; objStrings = getListString(key);\n    ArrayList&lt;Object&gt; objects =  new ArrayList&lt;Object&gt;();\n\n    for(String jObjString : objStrings){\n        Object value  = gson.fromJson(jObjString,  mClass);\n        objects.add(value);\n    }\n    return objects;\n}\n</code></pre>\n"},{"tags":["java","maven","multi-module","properties-file"],"answers":[{"tags":[],"owner":{"account_id":226545,"reputation":9656,"user_id":487649,"accept_rate":67,"display_name":"Nikola Yovchev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1389274430,"creation_date":1389274430,"answer_id":21021721,"question_id":21020755,"body_markdown":"In a production ready application you wouldn&#39;t want your properties to be bundled in your app, but rather be outside of it, so you can change just them rather than having to rebuild the whole app, so I would advise you to make your application production-ready and not have the properties included in the first place.","title":"Maven Properties Plugin","body":"<p>In a production ready application you wouldn't want your properties to be bundled in your app, but rather be outside of it, so you can change just them rather than having to rebuild the whole app, so I would advise you to make your application production-ready and not have the properties included in the first place.</p>\n"},{"tags":[],"owner":{"account_id":304772,"reputation":11223,"user_id":614482,"accept_rate":80,"display_name":"Emerson Farrugia"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1389275767,"creation_date":1389275767,"answer_id":21022203,"question_id":21020755,"body_markdown":"Put the properties file at the parent project level, then tell the Properties Maven plugin to reference it from there.\r\n\r\n      &lt;configuration&gt;\r\n         &lt;files&gt;\r\n            &lt;file&gt;${myPropertyFile}/file&gt;\r\n         &lt;/files&gt;\r\n      &lt;/configuration&gt;\r\n\r\nIn the parent project,\r\n\r\n       &lt;properties&gt;\r\n          &lt;myPropertyFile&gt;${project.basedir}/foo.properties&lt;/myPropertyFile&gt;\r\n       &lt;/properties&gt;\r\n\r\nIn the child projects,\r\n\r\n       &lt;properties&gt;\r\n          &lt;myPropertyFile&gt;${project.parent.basedir}/foo.properties&lt;/myPropertyFile&gt;\r\n       &lt;/properties&gt;\r\n\r\nDepending on your project, you might be able to just put the latter &quot;.parent.&quot; version in the parent project and be done with it, since the child projects would inherit it.","title":"Maven Properties Plugin","body":"<p>Put the properties file at the parent project level, then tell the Properties Maven plugin to reference it from there.</p>\n\n<pre><code>  &lt;configuration&gt;\n     &lt;files&gt;\n        &lt;file&gt;${myPropertyFile}/file&gt;\n     &lt;/files&gt;\n  &lt;/configuration&gt;\n</code></pre>\n\n<p>In the parent project,</p>\n\n<pre><code>   &lt;properties&gt;\n      &lt;myPropertyFile&gt;${project.basedir}/foo.properties&lt;/myPropertyFile&gt;\n   &lt;/properties&gt;\n</code></pre>\n\n<p>In the child projects,</p>\n\n<pre><code>   &lt;properties&gt;\n      &lt;myPropertyFile&gt;${project.parent.basedir}/foo.properties&lt;/myPropertyFile&gt;\n   &lt;/properties&gt;\n</code></pre>\n\n<p>Depending on your project, you might be able to just put the latter \".parent.\" version in the parent project and be done with it, since the child projects would inherit it.</p>\n"},{"tags":[],"owner":{"account_id":22604872,"reputation":2005,"user_id":16785907,"display_name":"Mikhail2048"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684868892,"creation_date":1684868892,"answer_id":76317918,"question_id":21020755,"body_markdown":"In general, you seem to just want to access the properties loaded in parent module in child modules as well. \r\n\r\nIf this is case, there will be no point to declare plugin in each child - you&#39;ll just be able to reference properties with `${}` in child modules.\r\n\r\nThere is a feature request actually in original repository: https://github.com/mojohaus/properties-maven-plugin/issues/32\r\n\r\n**But Apache maven-properties-plugin is no longer in active development.**\r\n\r\nThere is a more modern fork, with more features and under active development:\r\n\r\nhttps://github.com/Mikhail2048/properties-maven-plugin\r\n\r\nI am one of the contributors to this project as well. We have also an issue to implement this behavior: https://github.com/Mikhail2048/properties-maven-plugin/issues/8\r\n\r\nI guess it should be available at `1.1.0` version. I will update this post for future developers who will be interested in it.","title":"Maven Properties Plugin","body":"<p>In general, you seem to just want to access the properties loaded in parent module in child modules as well.</p>\n<p>If this is case, there will be no point to declare plugin in each child - you'll just be able to reference properties with <code>${}</code> in child modules.</p>\n<p>There is a feature request actually in original repository: <a href=\"https://github.com/mojohaus/properties-maven-plugin/issues/32\" rel=\"nofollow noreferrer\">https://github.com/mojohaus/properties-maven-plugin/issues/32</a></p>\n<p><strong>But Apache maven-properties-plugin is no longer in active development.</strong></p>\n<p>There is a more modern fork, with more features and under active development:</p>\n<p><a href=\"https://github.com/Mikhail2048/properties-maven-plugin\" rel=\"nofollow noreferrer\">https://github.com/Mikhail2048/properties-maven-plugin</a></p>\n<p>I am one of the contributors to this project as well. We have also an issue to implement this behavior: <a href=\"https://github.com/Mikhail2048/properties-maven-plugin/issues/8\" rel=\"nofollow noreferrer\">https://github.com/Mikhail2048/properties-maven-plugin/issues/8</a></p>\n<p>I guess it should be available at <code>1.1.0</code> version. I will update this post for future developers who will be interested in it.</p>\n"}],"owner":{"account_id":3320172,"reputation":199,"user_id":2791546,"display_name":"user2791546"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":914,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1684868892,"creation_date":1389271720,"question_id":21020755,"body_markdown":"I am using Maven Properties plugin to load the properties from a properties file. My Project is a multi module project with EAR and EJB modules with there respective pom files. And there is a parent pom. \r\nI am getting an error if I dont keep the properties file at all three locations (i.e. one in parent module and one each in EAR and EJB modules). It throws a FileNotFoundException if the Properties file isnt there even in one location. \r\nI dont want to keep the same file at three different locations.\r\nPlease suggest how can I work around with this.","title":"Maven Properties Plugin","body":"<p>I am using Maven Properties plugin to load the properties from a properties file. My Project is a multi module project with EAR and EJB modules with there respective pom files. And there is a parent pom. \nI am getting an error if I dont keep the properties file at all three locations (i.e. one in parent module and one each in EAR and EJB modules). It throws a FileNotFoundException if the Properties file isnt there even in one location. \nI dont want to keep the same file at three different locations.\nPlease suggest how can I work around with this.</p>\n"},{"tags":["java","android","android-studio","activitynotfoundexception"],"comments":[{"owner":{"account_id":1849514,"reputation":193878,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":1,"creation_date":1684731209,"post_id":76302794,"comment_id":134554019,"body_markdown":"Your error says you spelled `image` wrong - it says you spelled it `iamge`. Do you still get the same error when you spell the mime type correctly?","body":"Your error says you spelled <code>image</code> wrong - it says you spelled it <code>iamge</code>. Do you still get the same error when you spell the mime type correctly?"},{"owner":{"account_id":28650697,"reputation":1,"user_id":21937717,"display_name":"QiaoHW"},"score":0,"creation_date":1684734346,"post_id":76302794,"comment_id":134554335,"body_markdown":"I checked code ,You are right ,I did make a spelling mistake in one place and missed it","body":"I checked code ,You are right ,I did make a spelling mistake in one place and missed it"}],"answers":[{"comments":[{"owner":{"account_id":28650697,"reputation":1,"user_id":21937717,"display_name":"QiaoHW"},"score":0,"creation_date":1684734878,"post_id":76302853,"comment_id":134554390,"body_markdown":"With the help of others, I understand the cause of this problem,It&#39;s my problem,,I have a spelling mistake in one place and missed it,Thanks for you help","body":"With the help of others, I understand the cause of this problem,It&#39;s my problem,,I have a spelling mistake in one place and missed it,Thanks for you help"},{"owner":{"account_id":25693839,"reputation":34,"user_id":19454844,"display_name":"Sachithra Prasad"},"score":0,"creation_date":1684737172,"post_id":76302853,"comment_id":134554769,"body_markdown":"good to know about that!!","body":"good to know about that!!"}],"tags":[],"owner":{"account_id":25693839,"reputation":34,"user_id":19454844,"display_name":"Sachithra Prasad"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684725930,"creation_date":1684725631,"answer_id":76302853,"question_id":76302794,"body_markdown":"Put your code into a `try-catch` block like below,\r\n\r\n     try {\r\n           Intent intent = new Intent();\r\n           if (Build.VERSION.SDK_INT &gt; Build.VERSION_CODES.S_V2) {\r\n               intent.setAction(MediaStore.ACTION_PICK_IMAGES);\r\n           } else {\r\n               intent.setAction(Intent.ACTION_PICK);\r\n           }\r\n           intent.setDataAndType(MediaStore.Images.Media.EXTERNAL_CONTENT_URI, &quot;image/*&quot;);\r\n           activity.startActivityForResult(intent, requestCode);\r\n       } catch (ActivityNotFoundException ex) {\r\n           e.printStackTrace();\r\n       }\r\n\r\nIf this not work try to use `Intent` code as a below,\r\n\r\n    Intent intent = new Intent(this, class);","title":"No Activity found to handle Intent act=android.provider.action.PICK_IMAGES","body":"<p>Put your code into a <code>try-catch</code> block like below,</p>\n<pre><code> try {\n       Intent intent = new Intent();\n       if (Build.VERSION.SDK_INT &gt; Build.VERSION_CODES.S_V2) {\n           intent.setAction(MediaStore.ACTION_PICK_IMAGES);\n       } else {\n           intent.setAction(Intent.ACTION_PICK);\n       }\n       intent.setDataAndType(MediaStore.Images.Media.EXTERNAL_CONTENT_URI, &quot;image/*&quot;);\n       activity.startActivityForResult(intent, requestCode);\n   } catch (ActivityNotFoundException ex) {\n       e.printStackTrace();\n   }\n</code></pre>\n<p>If this not work try to use <code>Intent</code> code as a below,</p>\n<pre><code>Intent intent = new Intent(this, class);\n</code></pre>\n"}],"owner":{"account_id":28650697,"reputation":1,"user_id":21937717,"display_name":"QiaoHW"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":343,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684868496,"creation_date":1684724181,"question_id":76302794,"body_markdown":"I am making an Android app. I updated the target version from 28 to 33. I need to use the picture selector. I made it such that if the Build.VERSION.SDK_INT is higher than S_V2, then action MediaStore.ACTION_PICK_IMAGES is used. Otherwise Intent.ACTION_PICK used.\r\nI extracted it into a tool. However, when I use it elsewhere in the project, sometimes it works, but sometimes I get an exception. The exception that I get:\r\n~~~\r\nandroid.content.ActivityNotFoundException: No Activity found to handle Intent { act=android.provider.action.PICK_IMAGES cat=\\[android.intent.category.DEFAULT\\] dat=content://media/... typ=iamge/\\* }\r\n~~~\r\n\r\nI don&#39;t understand why this exception is thrown.\r\nMy code:\r\n```\r\nIntent intent = new Intent();\r\nif (Build.VERSION.SDK_INT &gt; Build.VERSION_CODES.S_V2){\r\nintent.setAction(MediaStore.ACTION_PICK_IMAGES);\r\n} else {\r\nintent.setAction(Intent.ACTION_PICK);\r\n}\r\nintent.setDataAndType(MediaStore.Images.Media.EXTERNAL_CONTENT_URI, &quot;image/*&quot;);\r\nactivity.startActivityForResult(intent, requestCode);\r\n```\r\n\r\nWhat should I do to solve the exception? Any help is appreciated.","title":"No Activity found to handle Intent act=android.provider.action.PICK_IMAGES","body":"<p>I am making an Android app. I updated the target version from 28 to 33. I need to use the picture selector. I made it such that if the Build.VERSION.SDK_INT is higher than S_V2, then action MediaStore.ACTION_PICK_IMAGES is used. Otherwise Intent.ACTION_PICK used.\nI extracted it into a tool. However, when I use it elsewhere in the project, sometimes it works, but sometimes I get an exception. The exception that I get:</p>\n<pre><code>android.content.ActivityNotFoundException: No Activity found to handle Intent { act=android.provider.action.PICK_IMAGES cat=\\[android.intent.category.DEFAULT\\] dat=content://media/... typ=iamge/\\* }\n</code></pre>\n<p>I don't understand why this exception is thrown.\nMy code:</p>\n<pre><code>Intent intent = new Intent();\nif (Build.VERSION.SDK_INT &gt; Build.VERSION_CODES.S_V2){\nintent.setAction(MediaStore.ACTION_PICK_IMAGES);\n} else {\nintent.setAction(Intent.ACTION_PICK);\n}\nintent.setDataAndType(MediaStore.Images.Media.EXTERNAL_CONTENT_URI, &quot;image/*&quot;);\nactivity.startActivityForResult(intent, requestCode);\n</code></pre>\n<p>What should I do to solve the exception? Any help is appreciated.</p>\n"},{"tags":["java","spring","mongodb","aggregation-framework","spring-mongodb"],"owner":{"account_id":28664671,"reputation":1,"user_id":21948944,"display_name":"KWilson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684867303,"creation_date":1684867303,"question_id":76317765,"body_markdown":"I&#39;d like to be able to return a subset of documents from an array field, without having to include fields of the parent document. Specifically, I have a parent document which has an array field containing objects. That array may be very large, and I want to provide a paged API to let clients access subsets of the array. I was able to accomplish this using a projection of the array, and the $slice array operator, but that still results in an object of the parent type being returned. It seems like I should be able to query and slice the contents of the array field directly but I have not found a way.\r\n\r\n(This is not working code but is hopefully enough to convey my intent)\r\nGiven a document structured as:\r\n\r\n```\r\n@Document\r\npublic class Parent {\r\n  @Id\r\n  String id;\r\n  String sessionId;\r\n  List&lt;Child&gt; children;\r\n}\r\n\r\npublic class Child {\r\n  String sessionId;\r\n  String field1;\r\n  Integer field2;\r\n}\r\n```\r\n\r\nand the following Spring Data MongoDB repository definition:\r\n\r\n```\r\npublic interface ParentRepository extends MongoRepository&lt;Parent, String&gt; {\r\n\r\n  @Query(\r\n      value = &quot;{&#39;sessionId&#39;: ?#{ #id } }&quot;,\r\n      fields = &quot;{ &#39;sessionId&#39;: 1, &#39;children&#39; :  { $slice: [ ?#{ #request.page * #request.size }, ?#{ #request.size } ] } }&quot;\r\n  )\r\n  Optional&lt;Parent&gt; getChildSliceBySessionId(@Param(&quot;id&quot;) String sessionId, @Param(&quot;request&quot;) PageInfo pageRequest);\r\n}\r\n```\r\n\r\nThe above query definition works for getting the desired slice, but wouldn&#39;t use the sort field in PageInfo, and does not leverage any automatic support for paging in the Spring Data MongoDB API.\r\n\r\nThe [Spring MongoDB documentation](https://docs.spring.io/spring-data/mongodb/docs/current/reference/html/#mongodb.repositories.queries.json-based) says there is support for paging inherent with the resolution of an Aggregation pipeline, but that appears to only apply to results derived from the parent document.\r\n\r\n```\r\n @Aggregation(&quot;{ $group: { _id : $lastname, names : { $addToSet : ?0 } } }&quot;)\r\n  Slice&lt;PersonAggregate&gt; groupByLastnameAnd(String property, Pageable page); \r\n```\r\n\r\nI tried various aggregation pipelines, to try to access the child array in a way that the Spring code would page the elements of the array, but nothing I tried worked. Both unwinding the array, and the below @Aggregation resulted in a stack overflow. I also didn&#39;t didn&#39;t find a way to extract a subset of the array field without using a projection and slice, as above, in an aggregation pipeline.\r\n\r\n```\r\n  @Aggregation(pipeline = {\r\n      &quot;{ $match : { &#39;sessionId&#39; : ?#{ #id} } }&quot;,\r\n      &quot;{ $project:  { &#39;children&#39;: $children} }&quot;,\r\n      &quot;{ $merge :  {&#39;children&#39;} }&quot;\r\n  })\r\nSlice&lt;Child&gt; childSliceBySessionId(@Param(&quot;id&quot;) String sessionId, @Param(&quot;request&quot;) PageInfo pageRequest) ;\r\n```\r\n\r\nIs there a way in Spring MongoDb (and straight MongoDB I guess) to simply query and return elements of an array of embedded documents? This is a pretty fundamental use case, I would think, for a NoSQL DB and document model that may contain many arrays of other objects or documents.","title":"Spring MongoDB: Querying and slicing contents of an array field directly","body":"<p>I'd like to be able to return a subset of documents from an array field, without having to include fields of the parent document. Specifically, I have a parent document which has an array field containing objects. That array may be very large, and I want to provide a paged API to let clients access subsets of the array. I was able to accomplish this using a projection of the array, and the $slice array operator, but that still results in an object of the parent type being returned. It seems like I should be able to query and slice the contents of the array field directly but I have not found a way.</p>\n<p>(This is not working code but is hopefully enough to convey my intent)\nGiven a document structured as:</p>\n<pre><code>@Document\npublic class Parent {\n  @Id\n  String id;\n  String sessionId;\n  List&lt;Child&gt; children;\n}\n\npublic class Child {\n  String sessionId;\n  String field1;\n  Integer field2;\n}\n</code></pre>\n<p>and the following Spring Data MongoDB repository definition:</p>\n<pre><code>public interface ParentRepository extends MongoRepository&lt;Parent, String&gt; {\n\n  @Query(\n      value = &quot;{'sessionId': ?#{ #id } }&quot;,\n      fields = &quot;{ 'sessionId': 1, 'children' :  { $slice: [ ?#{ #request.page * #request.size }, ?#{ #request.size } ] } }&quot;\n  )\n  Optional&lt;Parent&gt; getChildSliceBySessionId(@Param(&quot;id&quot;) String sessionId, @Param(&quot;request&quot;) PageInfo pageRequest);\n}\n</code></pre>\n<p>The above query definition works for getting the desired slice, but wouldn't use the sort field in PageInfo, and does not leverage any automatic support for paging in the Spring Data MongoDB API.</p>\n<p>The <a href=\"https://docs.spring.io/spring-data/mongodb/docs/current/reference/html/#mongodb.repositories.queries.json-based\" rel=\"nofollow noreferrer\">Spring MongoDB documentation</a> says there is support for paging inherent with the resolution of an Aggregation pipeline, but that appears to only apply to results derived from the parent document.</p>\n<pre><code> @Aggregation(&quot;{ $group: { _id : $lastname, names : { $addToSet : ?0 } } }&quot;)\n  Slice&lt;PersonAggregate&gt; groupByLastnameAnd(String property, Pageable page); \n</code></pre>\n<p>I tried various aggregation pipelines, to try to access the child array in a way that the Spring code would page the elements of the array, but nothing I tried worked. Both unwinding the array, and the below @Aggregation resulted in a stack overflow. I also didn't didn't find a way to extract a subset of the array field without using a projection and slice, as above, in an aggregation pipeline.</p>\n<pre><code>  @Aggregation(pipeline = {\n      &quot;{ $match : { 'sessionId' : ?#{ #id} } }&quot;,\n      &quot;{ $project:  { 'children': $children} }&quot;,\n      &quot;{ $merge :  {'children'} }&quot;\n  })\nSlice&lt;Child&gt; childSliceBySessionId(@Param(&quot;id&quot;) String sessionId, @Param(&quot;request&quot;) PageInfo pageRequest) ;\n</code></pre>\n<p>Is there a way in Spring MongoDb (and straight MongoDB I guess) to simply query and return elements of an array of embedded documents? This is a pretty fundamental use case, I would think, for a NoSQL DB and document model that may contain many arrays of other objects or documents.</p>\n"},{"tags":["java","list","arraylist","collections","user-input"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":1,"creation_date":1684863443,"post_id":76317195,"comment_id":134578547,"body_markdown":"Read the entire line, split the string by comma (or whatever delimiter  you need), iterate the resulting array, parse each element to int and add to the list. You can also research how to do it with Stream API.","body":"Read the entire line, split the string by comma (or whatever delimiter  you need), iterate the resulting array, parse each element to int and add to the list. You can also research how to do it with Stream API."}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684866912,"creation_date":1684866912,"answer_id":76317732,"question_id":76317195,"body_markdown":"To allow for the user to input a list of integers, comma separated, you can use the following.\r\n\r\n```java\r\nString[] values = input.nextLine().split(&quot;, *&quot;);\r\nfor (String value : values)\r\n    al.add(Integer.parseInt(value));\r\n```\r\n\r\nThis will capture the entire line, then use the `String.split` method to create an array of strings, using the comma and optional space as the delimiter.\r\n\r\nThen, we can iterate through each `String` value and use the `Integer.parseInt` method to parse the value to an `int`.\r\n\r\nInput\r\n\r\n```none\r\n12,2,1,5,10\r\n```\r\n\r\nOutput\r\n```none\r\nEntered array elements are:\r\n12\r\n2\r\n1\r\n5\r\n10\r\nArray elemets :[12, 2, 1, 5, 10]\r\nSorted array: [1, 2, 5, 10, 12]\r\n```","title":"Taking User Input in one line and store in the ArrayList in multiple variables","body":"<p>To allow for the user to input a list of integers, comma separated, you can use the following.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[] values = input.nextLine().split(&quot;, *&quot;);\nfor (String value : values)\n    al.add(Integer.parseInt(value));\n</code></pre>\n<p>This will capture the entire line, then use the <code>String.split</code> method to create an array of strings, using the comma and optional space as the delimiter.</p>\n<p>Then, we can iterate through each <code>String</code> value and use the <code>Integer.parseInt</code> method to parse the value to an <code>int</code>.</p>\n<p>Input</p>\n<pre class=\"lang-none prettyprint-override\"><code>12,2,1,5,10\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>Entered array elements are:\n12\n2\n1\n5\n10\nArray elemets :[12, 2, 1, 5, 10]\nSorted array: [1, 2, 5, 10, 12]\n</code></pre>\n"}],"owner":{"account_id":23448076,"reputation":37,"user_id":17504599,"display_name":"Jeevan Jitu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1684945816,"accepted_answer_id":76317732,"answer_count":1,"score":1,"last_activity_date":1684866912,"creation_date":1684861953,"question_id":76317195,"body_markdown":"I am trying to take User Input in one line and store in Array List. For Example I want to take User Input to sort the maximum and Minimum values of the given input. I am looking for some code suggestions on how an Array List can take input in one Line.\r\n\r\nBelow is the Code that I am using. Please review and provide better inputs and suggestions\r\n\r\n   \r\n\r\n        public static void main(String[] args) {\r\n      //1.take input from user\r\n      Scanner input = new Scanner(System.in);\r\n      //2.store them in an arraylist\r\n      ArrayList&lt;Integer&gt; al = new ArrayList&lt;Integer&gt;();\r\n       \r\n        \r\n        while(true){\r\n        System.out.println(&quot;Enter the Array elements :&quot;);\r\n        int in = input.nextInt();\r\n        al.add(in);\r\n            System.out.println(&quot;Are array elements entered ? Type \\&quot;yes\\&quot; if finished or else enter no&quot;);\r\n            String answer = input.next();\r\n            if(answer.equalsIgnoreCase(&quot;yes&quot;)){\r\n                break;\r\n            }\r\n        }\r\n        System.out.println(&quot;Entered array elements are:&quot;);\r\n        //we can simply print here or to retrieve them we have to iterate elemets\r\n        \r\n        for(Integer a:al){\r\n            System.out.println(a);\r\n        }\r\n        System.out.println(&quot;Array elemets :&quot;+al);\r\n        Collections.sort(al);\r\n        System.out.println(&quot;Sorted array: &quot;+ al);\r\n      \r\n    }\r\n\r\nHere if I give User Input seperated by comma(,) it throws InputMismatchException . I cannot give here User Input as 12,2,1,5,10 .The above code doesn&#39;t read all the values in one line and store . I have to give one input at a time and then have to give yes if Array List input is completed else no to continue to give user input. I am beginner in Java. Looking for some better code and suggestions. Any Kind help is appreciated. ","title":"Taking User Input in one line and store in the ArrayList in multiple variables","body":"<p>I am trying to take User Input in one line and store in Array List. For Example I want to take User Input to sort the maximum and Minimum values of the given input. I am looking for some code suggestions on how an Array List can take input in one Line.</p>\n<p>Below is the Code that I am using. Please review and provide better inputs and suggestions</p>\n<pre><code>    public static void main(String[] args) {\n  //1.take input from user\n  Scanner input = new Scanner(System.in);\n  //2.store them in an arraylist\n  ArrayList&lt;Integer&gt; al = new ArrayList&lt;Integer&gt;();\n   \n    \n    while(true){\n    System.out.println(&quot;Enter the Array elements :&quot;);\n    int in = input.nextInt();\n    al.add(in);\n        System.out.println(&quot;Are array elements entered ? Type \\&quot;yes\\&quot; if finished or else enter no&quot;);\n        String answer = input.next();\n        if(answer.equalsIgnoreCase(&quot;yes&quot;)){\n            break;\n        }\n    }\n    System.out.println(&quot;Entered array elements are:&quot;);\n    //we can simply print here or to retrieve them we have to iterate elemets\n    \n    for(Integer a:al){\n        System.out.println(a);\n    }\n    System.out.println(&quot;Array elemets :&quot;+al);\n    Collections.sort(al);\n    System.out.println(&quot;Sorted array: &quot;+ al);\n  \n}\n</code></pre>\n<p>Here if I give User Input seperated by comma(,) it throws InputMismatchException . I cannot give here User Input as 12,2,1,5,10 .The above code doesn't read all the values in one line and store . I have to give one input at a time and then have to give yes if Array List input is completed else no to continue to give user input. I am beginner in Java. Looking for some better code and suggestions. Any Kind help is appreciated.</p>\n"},{"tags":["java","android","android-studio","android-dark-theme"],"answers":[{"tags":[],"owner":{"account_id":11181020,"reputation":4038,"user_id":8205099,"accept_rate":62,"display_name":"Wahdat Jan"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1613112771,"creation_date":1613112771,"answer_id":66167490,"question_id":66167450,"body_markdown":"Add this in your App theme\r\n\r\n    &lt;item name=&quot;android:forceDarkAllowed&quot;&gt;false&lt;/item&gt;","title":"How can I disable Night Mode in Android 11?","body":"<p>Add this in your App theme</p>\n<pre><code>&lt;item name=&quot;android:forceDarkAllowed&quot;&gt;false&lt;/item&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":17080845,"reputation":233,"user_id":12359279,"display_name":"Faizan"},"score":1,"creation_date":1617887364,"post_id":66175416,"comment_id":118438467,"body_markdown":"Still Not Working","body":"Still Not Working"},{"owner":{"account_id":13882612,"reputation":1495,"user_id":10022587,"display_name":"Hamdy Abd El Fattah"},"score":1,"creation_date":1641342115,"post_id":66175416,"comment_id":124779367,"body_markdown":"@Faizan It does not work on Xiaomi devices \nu should add this code to your them\n\n\n&lt;item name=&quot;android:forceDarkAllowed&quot; tools:targetApi=&quot;q&quot;&gt;false&lt;/item&gt;","body":"@Faizan It does not work on Xiaomi devices  u should add this code to your them   &lt;item name=&quot;android:forceDarkAllowed&quot; tools:targetApi=&quot;q&quot;&gt;false&lt;/item&gt;"}],"tags":[],"owner":{"account_id":20589482,"reputation":72,"user_id":15113533,"display_name":"RaphaWOW"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1613147045,"creation_date":1613147045,"answer_id":66175416,"question_id":66167450,"body_markdown":"In the declaration of your style, try changing the parent directly to `Light` as follows : \r\n\r\n    &lt;style name=&quot;Theme.app&quot; parent=&quot;Theme.AppCompat.Light.NoActionBar&quot;&gt;","title":"How can I disable Night Mode in Android 11?","body":"<p>In the declaration of your style, try changing the parent directly to <code>Light</code> as follows :</p>\n<pre><code>&lt;style name=&quot;Theme.app&quot; parent=&quot;Theme.AppCompat.Light.NoActionBar&quot;&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17080845,"reputation":233,"user_id":12359279,"display_name":"Faizan"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1624971231,"creation_date":1624971231,"answer_id":68179069,"question_id":66167450,"body_markdown":"Just change both theme files with\r\n\r\n    &lt;style name=&quot;Theme&quot; parent=&quot;Theme.MaterialComponents.Light.NoActionBar&quot;&gt;","title":"How can I disable Night Mode in Android 11?","body":"<p>Just change both theme files with</p>\n<pre><code>&lt;style name=&quot;Theme&quot; parent=&quot;Theme.MaterialComponents.Light.NoActionBar&quot;&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2098534,"reputation":523,"user_id":1866772,"display_name":"Mahdi Safarmohammadloo"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1684866538,"creation_date":1628046128,"answer_id":68644870,"question_id":66167450,"body_markdown":"(Both above answers ! and it works in jetpack compose)\r\n\r\nChange both theme files with\r\n\r\n    &lt;style name=&quot;Theme.PathFinder&quot; parent=&quot;Theme.MaterialComponents.Light.NoActionBar&quot;&gt;\r\n\r\nAnd add this in both theme files\r\n\r\n    &lt;item name=&quot;android:forceDarkAllowed&quot; tools:targetApi=&quot;q&quot;&gt;false&lt;/item&gt;","title":"How can I disable Night Mode in Android 11?","body":"<p>(Both above answers ! and it works in jetpack compose)</p>\n<p>Change both theme files with</p>\n<pre><code>&lt;style name=&quot;Theme.PathFinder&quot; parent=&quot;Theme.MaterialComponents.Light.NoActionBar&quot;&gt;\n</code></pre>\n<p>And add this in both theme files</p>\n<pre><code>&lt;item name=&quot;android:forceDarkAllowed&quot; tools:targetApi=&quot;q&quot;&gt;false&lt;/item&gt;\n</code></pre>\n"}],"owner":{"account_id":17080845,"reputation":233,"user_id":12359279,"display_name":"Faizan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4996,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":68179069,"answer_count":4,"score":6,"last_activity_date":1684866538,"creation_date":1613112465,"question_id":66167450,"body_markdown":"I tried to delete night `theme.xml`, and I tried to make color changes in night theme. I also tried\r\n\r\n```\r\nAppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_NO);\r\n```\r\n\r\nBut none of these worked.\r\n\r\nThis is my `theme.xml`:\r\n\r\n```\r\n&lt;resources xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n    &lt;!-- Base application theme. --&gt;\r\n    &lt;style name=&quot;Theme.app&quot; parent=&quot;Theme.AppCompat.DayNight.NoActionBar&quot;&gt;\r\n        &lt;!-- Primary brand color. --&gt;\r\n        &lt;item name=&quot;colorPrimary&quot;&gt;@color/light_blue&lt;/item&gt;\r\n        &lt;item name=&quot;colorPrimaryVariant&quot;&gt;@color/light_blue&lt;/item&gt;\r\n        &lt;item name=&quot;colorOnPrimary&quot;&gt;@color/white&lt;/item&gt;\r\n        &lt;!-- Secondary brand color. --&gt;\r\n        &lt;item name=&quot;colorSecondary&quot;&gt;@color/teal_200&lt;/item&gt;\r\n        &lt;item name=&quot;colorSecondaryVariant&quot;&gt;@color/teal_700&lt;/item&gt;\r\n        &lt;item name=&quot;colorOnSecondary&quot;&gt;@color/black&lt;/item&gt;\r\n        &lt;!-- Status bar color. --&gt;\r\n        &lt;item name=&quot;android:statusBarColor&quot; tools:targetApi=&quot;l&quot;&gt;?attr/colorPrimaryVariant&lt;/item&gt;\r\n        &lt;!-- Customize your theme here. --&gt;\r\n    &lt;/style&gt;\r\n\r\n&lt;/resources&gt;\r\n```\r\n\r\nHow can I do it?","title":"How can I disable Night Mode in Android 11?","body":"<p>I tried to delete night <code>theme.xml</code>, and I tried to make color changes in night theme. I also tried</p>\n<pre><code>AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_NO);\n</code></pre>\n<p>But none of these worked.</p>\n<p>This is my <code>theme.xml</code>:</p>\n<pre><code>&lt;resources xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n    &lt;!-- Base application theme. --&gt;\n    &lt;style name=&quot;Theme.app&quot; parent=&quot;Theme.AppCompat.DayNight.NoActionBar&quot;&gt;\n        &lt;!-- Primary brand color. --&gt;\n        &lt;item name=&quot;colorPrimary&quot;&gt;@color/light_blue&lt;/item&gt;\n        &lt;item name=&quot;colorPrimaryVariant&quot;&gt;@color/light_blue&lt;/item&gt;\n        &lt;item name=&quot;colorOnPrimary&quot;&gt;@color/white&lt;/item&gt;\n        &lt;!-- Secondary brand color. --&gt;\n        &lt;item name=&quot;colorSecondary&quot;&gt;@color/teal_200&lt;/item&gt;\n        &lt;item name=&quot;colorSecondaryVariant&quot;&gt;@color/teal_700&lt;/item&gt;\n        &lt;item name=&quot;colorOnSecondary&quot;&gt;@color/black&lt;/item&gt;\n        &lt;!-- Status bar color. --&gt;\n        &lt;item name=&quot;android:statusBarColor&quot; tools:targetApi=&quot;l&quot;&gt;?attr/colorPrimaryVariant&lt;/item&gt;\n        &lt;!-- Customize your theme here. --&gt;\n    &lt;/style&gt;\n\n&lt;/resources&gt;\n</code></pre>\n<p>How can I do it?</p>\n"},{"tags":["java","visibility","volatile","java-memory-model","happens-before"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1684822933,"post_id":76311736,"comment_id":134568944,"body_markdown":"The last snippet does not use refresh in any meaningful way. Nothing in the code depends on its value. It behaves exactly as the sniper before it.","body":"The last snippet does not use refresh in any meaningful way. Nothing in the code depends on its value. It behaves exactly as the sniper before it."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1684823505,"post_id":76311736,"comment_id":134569072,"body_markdown":"The 4th version is equivalent to the 2nd one.  The HB relation involving `finish` is the same.  (The `flush` variable doesn&#39;t alter the HB relation for `finish`.  It is just redundant.)   And you can make a similar argument to say that the 4th version is equivalent to the 3rd version.","body":"The 4th version is equivalent to the 2nd one.  The HB relation involving <code>finish</code> is the same.  (The <code>flush</code> variable doesn&#39;t alter the HB relation for <code>finish</code>.  It is just redundant.)   And you can make a similar argument to say that the 4th version is equivalent to the 3rd version."},{"owner":{"account_id":24742089,"reputation":1,"user_id":18628791,"display_name":"dibo"},"score":0,"creation_date":1684824118,"post_id":76311736,"comment_id":134569171,"body_markdown":"clearification: the reason for the instruction &quot;boolean dummy = refresh;&quot; is solely to refresh the cache of the thread. And my question is &quot;Is it really refreshed&quot;? If i replace the statement with &quot;boolean dummy = flush;&quot; the refresh is guaranteed!","body":"clearification: the reason for the instruction &quot;boolean dummy = refresh;&quot; is solely to refresh the cache of the thread. And my question is &quot;Is it really refreshed&quot;? If i replace the statement with &quot;boolean dummy = flush;&quot; the refresh is guaranteed!"},{"owner":{"account_id":24742089,"reputation":1,"user_id":18628791,"display_name":"dibo"},"score":0,"creation_date":1684828467,"post_id":76311736,"comment_id":134570105,"body_markdown":"Stephen: In the 3rd and 4th version finish ist not declared as volatile!","body":"Stephen: In the 3rd and 4th version finish ist not declared as volatile!"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1684832845,"post_id":76311736,"comment_id":134571081,"body_markdown":"[4.5. Wishful Thinking: Unobserved Volatiles Have Memory Effects](https://shipilev.net/blog/2016/close-encounters-of-jmm-kind/#wishful-unobserved-volatiles) • [4.6. Wishful Thinking: Mismatched Ops Are Okay](https://shipilev.net/blog/2016/close-encounters-of-jmm-kind/#wishful-mismatched)","body":"<a href=\"https://shipilev.net/blog/2016/close-encounters-of-jmm-kind/#wishful-unobserved-volatiles\" rel=\"nofollow noreferrer\">4.5. Wishful Thinking: Unobserved Volatiles Have Memory Effects</a> • <a href=\"https://shipilev.net/blog/2016/close-encounters-of-jmm-kind/#wishful-mismatched\" rel=\"nofollow noreferrer\">4.6. Wishful Thinking: Mismatched Ops Are Okay</a>"},{"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"score":1,"creation_date":1685535991,"post_id":76311736,"comment_id":134673412,"body_markdown":"If a volatile read sees a particular volatile write then there is a happens-before relation between that write and that read.\n\nThis makes it clear that it implies the same variable and this also makes clear that there is only a happens-before relation if that read sees that  write. This also removes &#39;time&#39; from the definition. Time can be very confusing with the JMM.","body":"If a volatile read sees a particular volatile write then there is a happens-before relation between that write and that read.  This makes it clear that it implies the same variable and this also makes clear that there is only a happens-before relation if that read sees that  write. This also removes &#39;time&#39; from the definition. Time can be very confusing with the JMM."},{"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"score":0,"creation_date":1685536620,"post_id":76311736,"comment_id":134673582,"body_markdown":"A correctly synchronized program in Java can only have sequential consistent executions. The real-time order doesn&#39;t need to be respected for sequential consistency. And this often leads to very hard-to-understand wording that gives the impression that the real-time order needs to be respected (especially when you see things like subsequent).","body":"A correctly synchronized program in Java can only have sequential consistent executions. The real-time order doesn&#39;t need to be respected for sequential consistency. And this often leads to very hard-to-understand wording that gives the impression that the real-time order needs to be respected (especially when you see things like subsequent)."}],"answers":[{"tags":[],"owner":{"account_id":3862105,"reputation":29203,"user_id":3199595,"accept_rate":84,"display_name":"Malt"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684866308,"creation_date":1684866308,"answer_id":76317665,"question_id":76311736,"body_markdown":"&gt; What happens if I write a volatile field in the main thread and read another volatile field in the other thread\r\n\r\nThere are no guarantees in this case. Writing to a volatile field doesn&#39;t guarantee anything about any other variables. You get guarantees only by reading the same variable from a different thread.\r\n\r\n\r\nIn the fourth version of the code, the only thing tying the two threads together is `finish`, which is non-volatile and provides no guarantees.","title":"Writing to a volatile field and reading another volatile field: Is the happens-before-rule valid?","body":"<blockquote>\n<p>What happens if I write a volatile field in the main thread and read another volatile field in the other thread</p>\n</blockquote>\n<p>There are no guarantees in this case. Writing to a volatile field doesn't guarantee anything about any other variables. You get guarantees only by reading the same variable from a different thread.</p>\n<p>In the fourth version of the code, the only thing tying the two threads together is <code>finish</code>, which is non-volatile and provides no guarantees.</p>\n"}],"owner":{"account_id":24742089,"reputation":1,"user_id":18628791,"display_name":"dibo"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684866308,"creation_date":1684822453,"question_id":76311736,"body_markdown":"Question: Is this statement true: „A write to a volatile field happens-before every subsequent read of that **or another volatile** field.“\r\n\r\nOn https://stackoverflow.com/questions/11970428/how-to-understand-happens-before-consistent I found the following statements:\r\n\r\nHappens-before: „Two actions can be ordered by a happens-before relationship. If one action happens-before another, then the first is visible to and ordered before the second.“\r\n\r\nVolatile: „A write to a volatile field happens-before every subsequent read of that field.“\r\n\r\nVisibility: „When Thread A changes/writes a volatile variable it also pushes all previous changes into RAM - Main Memory as a result all not volatile variable will be up to date and visible for another threads“.\r\n\r\nIn the following program, according to the java memory model, it is **not guaranteed** that the output &quot;thread end&quot; will appear on the console:\r\n\r\n    public class VolatileQuestion {\r\n\r\n\tstatic boolean finish = false;\r\n\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\tnew Thread(() -&gt; {\r\n\t\t\twhile (!finish);\r\n\t\t\tSystem.out.println(&quot;thread end&quot;);\r\n\t\t}).start();\r\n\t\tThread.sleep(2000);\r\n\t\tfinish = true;\r\n\t\tSystem.out.println(&quot;main end&quot;);\r\n\t}\r\n    }\r\n\r\n\r\nDeclaring field „finish&quot; as volatile it **is guaranteed** that the output &quot;thread end&quot; will appear on the console:\r\n\r\n    public class VolatileQuestion {\r\n\r\n\tstatic volatile boolean finish = false;\r\n\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\tnew Thread(() -&gt; {\r\n\t\t\twhile (!finish);\r\n\t\t\tSystem.out.println(&quot;thread end&quot;);\r\n\t\t}).start();\r\n\t\tThread.sleep(2000);\r\n\t\tfinish = true;\r\n\t\tSystem.out.println(&quot;main end&quot;);\r\n\t}\r\n    }\r\n\r\nIn the third program, I don&#39;t declare field finish as volatile, but I introduce another field declared as volatile, which the main thread writes and the other thread reads. Therefore, according to the java memory model, the output of &quot;thread end&quot; **is guaranteed**:\r\n\r\n    public class VolatileQuestion {\r\n\r\n\tstatic boolean finish = false;\r\n\tstatic volatile boolean flush = false;\r\n\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\tnew Thread(() -&gt; {\r\n\t\t\twhile (!finish) {\r\n\t\t\t\tboolean dummy = flush;\r\n\t\t\t}\r\n\t\t\tSystem.out.println(&quot;thread end&quot;);\r\n\t\t}).start();\r\n\t\tThread.sleep(2000);\r\n\t\tfinish = true;\r\n\t\tflush = true;\r\n\t\tSystem.out.println(&quot;main end&quot;);\r\n\t}\r\n    }\r\n\r\nAnd now my question: What happens if I write a volatile field in the main thread and read another volatile field in the other thread: Is the output of &quot;thread end&quot; guaranteed in that case too?\r\n\r\n    public class VolatileQuestion {\r\n\r\n\tstatic boolean finish = false;\r\n\tstatic volatile boolean flush = false;\r\n\tstatic volatile boolean refresh = false;\r\n\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\tnew Thread(() -&gt; {\r\n\t\t\twhile (!finish) {\r\n\t\t\t\tboolean dummy = refresh;\r\n\t\t\t}\r\n\t\t\tSystem.out.println(&quot;thread end&quot;);\r\n\t\t}).start();\r\n\t\tThread.sleep(2000);\r\n\t\tfinish = true;\r\n\t\tflush = true;\r\n\t\tSystem.out.println(&quot;main end&quot;);\r\n\t}\r\n    }\r\n\r\n","title":"Writing to a volatile field and reading another volatile field: Is the happens-before-rule valid?","body":"<p>Question: Is this statement true: „A write to a volatile field happens-before every subsequent read of that <strong>or another volatile</strong> field.“</p>\n<p>On <a href=\"https://stackoverflow.com/questions/11970428/how-to-understand-happens-before-consistent\">How to understand happens-before consistent</a> I found the following statements:</p>\n<p>Happens-before: „Two actions can be ordered by a happens-before relationship. If one action happens-before another, then the first is visible to and ordered before the second.“</p>\n<p>Volatile: „A write to a volatile field happens-before every subsequent read of that field.“</p>\n<p>Visibility: „When Thread A changes/writes a volatile variable it also pushes all previous changes into RAM - Main Memory as a result all not volatile variable will be up to date and visible for another threads“.</p>\n<p>In the following program, according to the java memory model, it is <strong>not guaranteed</strong> that the output &quot;thread end&quot; will appear on the console:</p>\n<pre><code>public class VolatileQuestion {\n\nstatic boolean finish = false;\n\npublic static void main(String[] args) throws Exception {\n    new Thread(() -&gt; {\n        while (!finish);\n        System.out.println(&quot;thread end&quot;);\n    }).start();\n    Thread.sleep(2000);\n    finish = true;\n    System.out.println(&quot;main end&quot;);\n}\n}\n</code></pre>\n<p>Declaring field „finish&quot; as volatile it <strong>is guaranteed</strong> that the output &quot;thread end&quot; will appear on the console:</p>\n<pre><code>public class VolatileQuestion {\n\nstatic volatile boolean finish = false;\n\npublic static void main(String[] args) throws Exception {\n    new Thread(() -&gt; {\n        while (!finish);\n        System.out.println(&quot;thread end&quot;);\n    }).start();\n    Thread.sleep(2000);\n    finish = true;\n    System.out.println(&quot;main end&quot;);\n}\n}\n</code></pre>\n<p>In the third program, I don't declare field finish as volatile, but I introduce another field declared as volatile, which the main thread writes and the other thread reads. Therefore, according to the java memory model, the output of &quot;thread end&quot; <strong>is guaranteed</strong>:</p>\n<pre><code>public class VolatileQuestion {\n\nstatic boolean finish = false;\nstatic volatile boolean flush = false;\n\npublic static void main(String[] args) throws Exception {\n    new Thread(() -&gt; {\n        while (!finish) {\n            boolean dummy = flush;\n        }\n        System.out.println(&quot;thread end&quot;);\n    }).start();\n    Thread.sleep(2000);\n    finish = true;\n    flush = true;\n    System.out.println(&quot;main end&quot;);\n}\n}\n</code></pre>\n<p>And now my question: What happens if I write a volatile field in the main thread and read another volatile field in the other thread: Is the output of &quot;thread end&quot; guaranteed in that case too?</p>\n<pre><code>public class VolatileQuestion {\n\nstatic boolean finish = false;\nstatic volatile boolean flush = false;\nstatic volatile boolean refresh = false;\n\npublic static void main(String[] args) throws Exception {\n    new Thread(() -&gt; {\n        while (!finish) {\n            boolean dummy = refresh;\n        }\n        System.out.println(&quot;thread end&quot;);\n    }).start();\n    Thread.sleep(2000);\n    finish = true;\n    flush = true;\n    System.out.println(&quot;main end&quot;);\n}\n}\n</code></pre>\n"},{"tags":["java","tomcat"],"answers":[{"tags":[],"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684866274,"creation_date":1684857555,"answer_id":76316661,"question_id":76316489,"body_markdown":"I guess the first is the output of  `ps` and tomcat* is the user name of the process.\r\n\r\n`tomcat_+` is the abbreviated name of the real user name (ps prints first 7 chars). Look for the full name by getting the UID:\r\n\r\n    ps -l 1604\r\n    grep &lt;UID&gt; /etc/password\r\n\r\nI guess you have 5 tomcats running, one started from the parent process id 1603. Look what is PID 1603.\r\n\r\nAnyway, in ps you see the starting configuration for minimal and maximal heap. That is not the current effective usage of heap in each process.\r\n\r\nWhat is the correct ? Depends on the heap usage of your application.\r\n","title":"Correct memory allocation for tomcat server?","body":"<p>I guess the first is the output of  <code>ps</code> and tomcat* is the user name of the process.</p>\n<p><code>tomcat_+</code> is the abbreviated name of the real user name (ps prints first 7 chars). Look for the full name by getting the UID:</p>\n<pre><code>ps -l 1604\ngrep &lt;UID&gt; /etc/password\n</code></pre>\n<p>I guess you have 5 tomcats running, one started from the parent process id 1603. Look what is PID 1603.</p>\n<p>Anyway, in ps you see the starting configuration for minimal and maximal heap. That is not the current effective usage of heap in each process.</p>\n<p>What is the correct ? Depends on the heap usage of your application.</p>\n"}],"owner":{"account_id":8869050,"reputation":1842,"user_id":6623265,"display_name":"Jyoti Prakash Mallick"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684866274,"creation_date":1684856268,"question_id":76316489,"body_markdown":"My current set has 4 instance of tomcat running on 4 different ports, I am trying to understand the memory allocation for them, it seems the value is confusing me. I need help before that let me put the configuration details here \r\n\r\n    tomcat_+  1604  1603  0 May22 ?        00:03:20 /home/tomcat_mat/jre-9.0.4/bin/java -Djava.util.logging.config.file=/usr/tomcat_mat/conf/logging.properties -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager -Djdk.tls.ephemeralDHKeySize=2048 -Djava.protocol.handler.pkgs=org.apache.catalina.webresources -Dorg.apache.catalina.security.SecurityListener.UMASK=0027 -Xms2048m -Xmx2048m -Djava.library.path=/usr/tomcat_mat/webapps/imagemeta/WEB-INF/classes -Dignore.endorsed.dirs= -classpath /usr/tomcat_mat//bin/bootstrap.jar:/usr/tomcat_mat/bin/tomcat-juli.jar -Dcatalina.base=/usr/tomcat_mat -Dcatalina.home=/usr/tomcat_mat/ -Djava.io.tmpdir=/usr/tomcat_mat/temp org.apache.catalina.startup.Bootstrap start\r\n    \r\n    tomcat1  22245     1  2 May22 ?        00:50:33 /usr/java/latest/bin/java -Djava.util.logging.config.file=/usr/tomcat.1/conf/logging.properties -Xms256M -Xmx4000M -Xss256k -XX:MaxPermSize=4000M -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager -Djava.awt.headless=true -Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.port=8099 -Dcom.sun.management.jmxremote.ssl=false -Dcom.sun.management.jmxremote.authenticate=false -Djava.endorsed.dirs=/usr/tomcat.1/common/endorsed -classpath /usr/tomcat/bin/bootstrap.jar:/usr/tomcat/bin/tomcat-juli.jar -Dcatalina.base=/usr/tomcat.1 -Dcatalina.home=/usr/tomcat -Djava.io.tmpdir=/usr/tomcat.1/temp org.apache.catalina.startup.Bootstrap start\r\n    \r\n    tomcat2   4329     1  1 08:03 ?        00:02:32 /usr/java/latest/bin/java -Djava.util.logging.config.file=/usr/tomcat.2/conf/logging.properties -Xms256M -Xmx512M -Xss256k -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager -Djava.awt.headless=true -Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.port=9099 -Dcom.sun.management.jmxremote.ssl=false -Dcom.sun.management.jmxremote.authenticate=false -Djava.endorsed.dirs=/usr/tomcat.2/common/endorsed -classpath /usr/tomcat/bin/bootstrap.jar:/usr/tomcat/bin/tomcat-juli.jar -Dcatalina.base=/usr/tomcat.2 -Dcatalina.home=/usr/tomcat -Djava.io.tmpdir=/usr/tomcat.2/temp org.apache.catalina.startup.Bootstrap start\r\n    \r\n    tomcat3   8799     1  0 08:16 ?        00:00:13 /usr/java/latest/bin/java -Djava.util.logging.config.file=/usr/tomcat.3/conf/logging.properties -Xms256M -Xmx512M -Xss256k -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager -Djava.awt.headless=true -Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.port=10099 -Dcom.sun.management.jmxremote.ssl=false -Dcom.sun.management.jmxremote.authenticate=false -Djava.endorsed.dirs=/usr/tomcat.3/common/endorsed -classpath /usr/tomcat/bin/bootstrap.jar:/usr/tomcat/bin/tomcat-juli.jar -Dcatalina.base=/usr/tomcat.3 -Dcatalina.home=/usr/tomcat -Djava.io.tmpdir=/usr/tomcat.3/temp org.apache.catalina.startup.Bootstrap start\r\n    \r\n    tomcat4   9514     1  1 08:17 ?        00:03:09 /usr/java/latest/bin/java -Djava.util.logging.config.file=/usr/tomcat.4/conf/logging.properties -Xms256M -Xmx512M -Xss256k -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager -Djava.awt.headless=true -Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.port=11099 -Dcom.sun.management.jmxremote.ssl=false -Dcom.sun.management.jmxremote.authenticate=false -Djava.endorsed.dirs=/usr/tomcat.4/common/endorsed -classpath /usr/tomcat/bin/bootstrap.jar:/usr/tomcat/bin/tomcat-juli.jar -Dcatalina.base=/usr/tomcat.4 -Dcatalina.home=/usr/tomcat -Djava.io.tmpdir=/usr/tomcat.4/temp org.apache.catalina.startup.Bootstrap start\r\n\r\nin-short current allocation tell me \r\n\r\n    tomcat_+ -&gt; -Xms2048m -Xmx2048m\r\n    tomcat1  -&gt; -Xms256M -Xmx4000M\r\n    tomcat2  -&gt; -Xms256M -Xmx512M \r\n    tomcat3  -&gt; -Xms256M -Xmx512M \r\n    tomcat4  -&gt; -Xms256M -Xmx512M \r\n\r\nWhat is this `tomcat_+`, so as per math what is the correct memory allocation for tomcat server is it 2GB or 4GB ?","title":"Correct memory allocation for tomcat server?","body":"<p>My current set has 4 instance of tomcat running on 4 different ports, I am trying to understand the memory allocation for them, it seems the value is confusing me. I need help before that let me put the configuration details here</p>\n<pre><code>tomcat_+  1604  1603  0 May22 ?        00:03:20 /home/tomcat_mat/jre-9.0.4/bin/java -Djava.util.logging.config.file=/usr/tomcat_mat/conf/logging.properties -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager -Djdk.tls.ephemeralDHKeySize=2048 -Djava.protocol.handler.pkgs=org.apache.catalina.webresources -Dorg.apache.catalina.security.SecurityListener.UMASK=0027 -Xms2048m -Xmx2048m -Djava.library.path=/usr/tomcat_mat/webapps/imagemeta/WEB-INF/classes -Dignore.endorsed.dirs= -classpath /usr/tomcat_mat//bin/bootstrap.jar:/usr/tomcat_mat/bin/tomcat-juli.jar -Dcatalina.base=/usr/tomcat_mat -Dcatalina.home=/usr/tomcat_mat/ -Djava.io.tmpdir=/usr/tomcat_mat/temp org.apache.catalina.startup.Bootstrap start\n\ntomcat1  22245     1  2 May22 ?        00:50:33 /usr/java/latest/bin/java -Djava.util.logging.config.file=/usr/tomcat.1/conf/logging.properties -Xms256M -Xmx4000M -Xss256k -XX:MaxPermSize=4000M -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager -Djava.awt.headless=true -Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.port=8099 -Dcom.sun.management.jmxremote.ssl=false -Dcom.sun.management.jmxremote.authenticate=false -Djava.endorsed.dirs=/usr/tomcat.1/common/endorsed -classpath /usr/tomcat/bin/bootstrap.jar:/usr/tomcat/bin/tomcat-juli.jar -Dcatalina.base=/usr/tomcat.1 -Dcatalina.home=/usr/tomcat -Djava.io.tmpdir=/usr/tomcat.1/temp org.apache.catalina.startup.Bootstrap start\n\ntomcat2   4329     1  1 08:03 ?        00:02:32 /usr/java/latest/bin/java -Djava.util.logging.config.file=/usr/tomcat.2/conf/logging.properties -Xms256M -Xmx512M -Xss256k -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager -Djava.awt.headless=true -Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.port=9099 -Dcom.sun.management.jmxremote.ssl=false -Dcom.sun.management.jmxremote.authenticate=false -Djava.endorsed.dirs=/usr/tomcat.2/common/endorsed -classpath /usr/tomcat/bin/bootstrap.jar:/usr/tomcat/bin/tomcat-juli.jar -Dcatalina.base=/usr/tomcat.2 -Dcatalina.home=/usr/tomcat -Djava.io.tmpdir=/usr/tomcat.2/temp org.apache.catalina.startup.Bootstrap start\n\ntomcat3   8799     1  0 08:16 ?        00:00:13 /usr/java/latest/bin/java -Djava.util.logging.config.file=/usr/tomcat.3/conf/logging.properties -Xms256M -Xmx512M -Xss256k -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager -Djava.awt.headless=true -Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.port=10099 -Dcom.sun.management.jmxremote.ssl=false -Dcom.sun.management.jmxremote.authenticate=false -Djava.endorsed.dirs=/usr/tomcat.3/common/endorsed -classpath /usr/tomcat/bin/bootstrap.jar:/usr/tomcat/bin/tomcat-juli.jar -Dcatalina.base=/usr/tomcat.3 -Dcatalina.home=/usr/tomcat -Djava.io.tmpdir=/usr/tomcat.3/temp org.apache.catalina.startup.Bootstrap start\n\ntomcat4   9514     1  1 08:17 ?        00:03:09 /usr/java/latest/bin/java -Djava.util.logging.config.file=/usr/tomcat.4/conf/logging.properties -Xms256M -Xmx512M -Xss256k -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager -Djava.awt.headless=true -Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.port=11099 -Dcom.sun.management.jmxremote.ssl=false -Dcom.sun.management.jmxremote.authenticate=false -Djava.endorsed.dirs=/usr/tomcat.4/common/endorsed -classpath /usr/tomcat/bin/bootstrap.jar:/usr/tomcat/bin/tomcat-juli.jar -Dcatalina.base=/usr/tomcat.4 -Dcatalina.home=/usr/tomcat -Djava.io.tmpdir=/usr/tomcat.4/temp org.apache.catalina.startup.Bootstrap start\n</code></pre>\n<p>in-short current allocation tell me</p>\n<pre><code>tomcat_+ -&gt; -Xms2048m -Xmx2048m\ntomcat1  -&gt; -Xms256M -Xmx4000M\ntomcat2  -&gt; -Xms256M -Xmx512M \ntomcat3  -&gt; -Xms256M -Xmx512M \ntomcat4  -&gt; -Xms256M -Xmx512M \n</code></pre>\n<p>What is this <code>tomcat_+</code>, so as per math what is the correct memory allocation for tomcat server is it 2GB or 4GB ?</p>\n"},{"tags":["java","amazon-dynamodb"],"answers":[{"comments":[{"owner":{"account_id":4310584,"reputation":865,"user_id":3555136,"accept_rate":64,"display_name":"enitihas"},"score":0,"creation_date":1501571000,"post_id":45430172,"comment_id":77822941,"body_markdown":"Thanks. Also which one does allow more query flexibility? Like instead of retrieving the entire attribute, retrieve only one key or retrieve only n elements from the list.","body":"Thanks. Also which one does allow more query flexibility? Like instead of retrieving the entire attribute, retrieve only one key or retrieve only n elements from the list."},{"owner":{"account_id":220153,"reputation":8157,"user_id":1112503,"accept_rate":100,"display_name":"Ivan Mushketyk"},"score":2,"creation_date":1501571119,"post_id":45430172,"comment_id":77823016,"body_markdown":"The second approach provides more query flexibility. First of all you can specify query expressions that will use fields in you maps/lists. Second you will be able to project attributes from DynamoDB data structures: http://docs.aws.amazon.com/amazondynamodb/latest/developerguide/Expressions.ProjectionExpressions.html","body":"The second approach provides more query flexibility. First of all you can specify query expressions that will use fields in you maps/lists. Second you will be able to project attributes from DynamoDB data structures: <a href=\"http://docs.aws.amazon.com/amazondynamodb/latest/developerguide/Expressions.ProjectionExpressions.html\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/amazondynamodb/latest/developerguide/&hellip;</a>"},{"owner":{"account_id":220153,"reputation":8157,"user_id":1112503,"accept_rate":100,"display_name":"Ivan Mushketyk"},"score":1,"creation_date":1501571157,"post_id":45430172,"comment_id":77823044,"body_markdown":"I don&#39;t think DynamoDB supports getting just keys, or returning N elements from a list. But in any case second approach will give you much more flexibility.","body":"I don&#39;t think DynamoDB supports getting just keys, or returning N elements from a list. But in any case second approach will give you much more flexibility."},{"owner":{"account_id":4310584,"reputation":865,"user_id":3555136,"accept_rate":64,"display_name":"enitihas"},"score":0,"creation_date":1501571191,"post_id":45430172,"comment_id":77823064,"body_markdown":"OK. And does the JSON approach offer anything similar?","body":"OK. And does the JSON approach offer anything similar?"},{"owner":{"account_id":220153,"reputation":8157,"user_id":1112503,"accept_rate":100,"display_name":"Ivan Mushketyk"},"score":1,"creation_date":1501571239,"post_id":45430172,"comment_id":77823098,"body_markdown":"No. It will be just a string or a binary blob for DynamoDB and it won&#39;t understand it structure.","body":"No. It will be just a string or a binary blob for DynamoDB and it won&#39;t understand it structure."},{"owner":{"account_id":4310584,"reputation":865,"user_id":3555136,"accept_rate":64,"display_name":"enitihas"},"score":0,"creation_date":1501571382,"post_id":45430172,"comment_id":77823179,"body_markdown":"Thanks. Then I will go with the second approach.","body":"Thanks. Then I will go with the second approach."}],"tags":[],"owner":{"account_id":220153,"reputation":8157,"user_id":1112503,"accept_rate":100,"display_name":"Ivan Mushketyk"},"comment_count":6,"down_vote_count":0,"up_vote_count":40,"is_accepted":true,"score":40,"last_activity_date":1619764520,"creation_date":1501567972,"answer_id":45430172,"question_id":45429490,"body_markdown":"**First approach**\r\n\r\nThe benefit here is that you can store arbitrary data and should not care if DynamoDB supports it. You don&#39;t even need to care if this is a valid JSON. If you are storing DynamoDB List/Maps all attributes should be of types that DynamoDB supports.\r\n\r\nYou can push this approach even further and use compression and your item will occupy less space and save you some RCUs/WCUs in the process.\r\n\r\nThe first drawback is that it is harder to work with code like this. Simply because you need to convert data back and forth and this will make your code and operations more complicated.\r\n\r\nThe second drawback, DynamoDB won&#39;t know anything about your data and won&#39;t be able to access it. For example you will not be able to use [document paths][1] feature.\r\n\r\n**Second approach**\r\n\r\nI think this is a preferred approach unless you have a good reason to stick to the first one (e.g. unusual data or size constraints).\r\n\r\nThe benefit here is that it is easier to work with, you can access all DynamoDB features and if you are using [DynamoDBMapper][2] it is [really easy to implement][3].\r\n\r\n\r\n  [1]: http://docs.aws.amazon.com/amazondynamodb/latest/developerguide/Expressions.Attributes.html#Expressions.Attributes.NestedElements.DocumentPathExamples\r\n  [2]: http://docs.aws.amazon.com/amazondynamodb/latest/developerguide/DynamoDBMapper.html\r\n  [3]: http://docs.aws.amazon.com/amazondynamodb/latest/developerguide/DynamoDBMapper.Annotations.html#DynamoDBMapper.Annotations.DynamoDBDocument","title":"Storing JSON as string in DynamoDB vs List/Map types","body":"<p><strong>First approach</strong></p>\n<p>The benefit here is that you can store arbitrary data and should not care if DynamoDB supports it. You don't even need to care if this is a valid JSON. If you are storing DynamoDB List/Maps all attributes should be of types that DynamoDB supports.</p>\n<p>You can push this approach even further and use compression and your item will occupy less space and save you some RCUs/WCUs in the process.</p>\n<p>The first drawback is that it is harder to work with code like this. Simply because you need to convert data back and forth and this will make your code and operations more complicated.</p>\n<p>The second drawback, DynamoDB won't know anything about your data and won't be able to access it. For example you will not be able to use <a href=\"http://docs.aws.amazon.com/amazondynamodb/latest/developerguide/Expressions.Attributes.html#Expressions.Attributes.NestedElements.DocumentPathExamples\" rel=\"noreferrer\">document paths</a> feature.</p>\n<p><strong>Second approach</strong></p>\n<p>I think this is a preferred approach unless you have a good reason to stick to the first one (e.g. unusual data or size constraints).</p>\n<p>The benefit here is that it is easier to work with, you can access all DynamoDB features and if you are using <a href=\"http://docs.aws.amazon.com/amazondynamodb/latest/developerguide/DynamoDBMapper.html\" rel=\"noreferrer\">DynamoDBMapper</a> it is <a href=\"http://docs.aws.amazon.com/amazondynamodb/latest/developerguide/DynamoDBMapper.Annotations.html#DynamoDBMapper.Annotations.DynamoDBDocument\" rel=\"noreferrer\">really easy to implement</a>.</p>\n"},{"tags":[],"owner":{"account_id":5744140,"reputation":15,"user_id":4535818,"display_name":"Junaid Rahman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684864528,"creation_date":1684864528,"answer_id":76317464,"question_id":45429490,"body_markdown":"DynamoDB provides more query flexibility. First of all you can specify query expressions that will use fields in you maps/lists. Second you will be able to project attributes from DynamoDB data structures","title":"Storing JSON as string in DynamoDB vs List/Map types","body":"<p>DynamoDB provides more query flexibility. First of all you can specify query expressions that will use fields in you maps/lists. Second you will be able to project attributes from DynamoDB data structures</p>\n"}],"owner":{"account_id":4310584,"reputation":865,"user_id":3555136,"accept_rate":64,"display_name":"enitihas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47972,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"accepted_answer_id":45430172,"answer_count":2,"score":30,"last_activity_date":1684864528,"creation_date":1501564806,"question_id":45429490,"body_markdown":"I am using DynamoDB for storage. I need to store a Java object in one attribute within a table. I see two approaches:\r\n\r\n1. One to convert the object to JSON using Jackson on the client side, and then store the JSON string in the attribute.\r\n2. Another way is to use DynamoDB List/Map types to store my object.\r\n\r\nWhat are the pros and cons of each (In terms of item size, flexibility in Dynamo DB queries)?","title":"Storing JSON as string in DynamoDB vs List/Map types","body":"<p>I am using DynamoDB for storage. I need to store a Java object in one attribute within a table. I see two approaches:</p>\n<ol>\n<li>One to convert the object to JSON using Jackson on the client side, and then store the JSON string in the attribute.</li>\n<li>Another way is to use DynamoDB List/Map types to store my object.</li>\n</ol>\n<p>What are the pros and cons of each (In terms of item size, flexibility in Dynamo DB queries)?</p>\n"},{"tags":["java","arraylist","java-8","java-stream"],"comments":[{"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"score":0,"creation_date":1684853460,"post_id":76315777,"comment_id":134576215,"body_markdown":"So is it working but you are looking for a different solution (better? faster? clearer? more maintainable?, cleverer? ) What is the problem you want to solve? If anything I would make it easier to read and maintain (granted performance doesn&#39;t deteriorate) and then work on something else.","body":"So is it working but you are looking for a different solution (better? faster? clearer? more maintainable?, cleverer? ) What is the problem you want to solve? If anything I would make it easier to read and maintain (granted performance doesn&#39;t deteriorate) and then work on something else."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1684854184,"post_id":76315777,"comment_id":134576432,"body_markdown":"If you find yourself nesting collections, 9/10 times it&#39;s a sign that you really want a class to represent that data. E.g. a `Map&lt;String, Category&gt;` for sorting into `&quot;Product&quot;` vs `&quot;Project&quot;`, and then `Category` in turn may hold a `Map&lt;String, Definition&gt;` for describing ID/class of various things under a `Category`.","body":"If you find yourself nesting collections, 9/10 times it&#39;s a sign that you really want a class to represent that data. E.g. a <code>Map&lt;String, Category&gt;</code> for sorting into <code>&quot;Product&quot;</code> vs <code>&quot;Project&quot;</code>, and then <code>Category</code> in turn may hold a <code>Map&lt;String, Definition&gt;</code> for describing ID/class of various things under a <code>Category</code>."},{"owner":{"account_id":26879624,"reputation":386,"user_id":20460294,"display_name":"Anon"},"score":1,"creation_date":1684860110,"post_id":76315777,"comment_id":134577911,"body_markdown":"`Map&lt;String, Map&lt;String, Definition&gt;&gt; definitionByName = definitionList.stream()\n                .collect(Collectors.groupingBy(Definition::getDefName, Collectors.toMap(Definition::getDefDesc,Function.identity())));`","body":"<code>Map&lt;String, Map&lt;String, Definition&gt;&gt; definitionByName = definitionList.stream()                 .collect(Collectors.groupingBy(Definition::getDefName, Collectors.toMap(Definition::getDefDesc,Function.identity())&zwnj;&#8203;));</code>"},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1685396050,"post_id":76315777,"comment_id":134651129,"body_markdown":"Please edit your code to show the list in a compilable form. Not something that looks like toString() output.","body":"Please edit your code to show the list in a compilable form. Not something that looks like toString() output."}],"answers":[{"comments":[{"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"score":0,"creation_date":1684855762,"post_id":76316180,"comment_id":134576868,"body_markdown":"There is a difference between the @iCode&#39;s output and this one. From this below code only a single Project is coming under Project key `Project={Project 3=Definition [defName=Project, defDesc=Project 3, defID=ewrwu123, defClass=class3]}` but from the @iCode&#39;s code the output is like `Project={Project 3=Definition [defName=Project, defDesc=Project 3, defID=ewrwu123, defClass=class3], Project 1=Definition [defName=Project, defDesc=Project 1, defID=abcd123, defClass=class1], Project 2=Definition [defName=Project, defDesc=Project 2, defID=asdoihw1345, defClass=class2]}`","body":"There is a difference between the @iCode&#39;s output and this one. From this below code only a single Project is coming under Project key <code>Project={Project 3=Definition [defName=Project, defDesc=Project 3, defID=ewrwu123, defClass=class3]}</code> but from the @iCode&#39;s code the output is like <code>Project={Project 3=Definition [defName=Project, defDesc=Project 3, defID=ewrwu123, defClass=class3], Project 1=Definition [defName=Project, defDesc=Project 1, defID=abcd123, defClass=class1], Project 2=Definition [defName=Project, defDesc=Project 2, defID=asdoihw1345, defClass=class2]}</code>"},{"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"score":0,"creation_date":1684857566,"post_id":76316180,"comment_id":134577327,"body_markdown":"That&#39;s what I don&#39;t quite understand:  _&quot;It is confirmed that `defDesc` will be unique for specific `defName`&quot;_ I thought that meant 1:1 relationship between name and description, but it seems more of a collection of 1:M where 1 name can appear in multiple descriptions. Thank you for point it out @ArunSudhakaran","body":"That&#39;s what I don&#39;t quite understand:  <i>&quot;It is confirmed that <code>defDesc</code> will be unique for specific <code>defName</code>&quot;</i> I thought that meant 1:1 relationship between name and description, but it seems more of a collection of 1:M where 1 name can appear in multiple descriptions. Thank you for point it out @ArunSudhakaran"},{"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"score":1,"creation_date":1684863933,"post_id":76316180,"comment_id":134578635,"body_markdown":"@ArunSudhakaran updated based on your comment.","body":"@ArunSudhakaran updated based on your comment."}],"tags":[],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684863919,"creation_date":1684854232,"answer_id":76316180,"question_id":76315777,"body_markdown":"You can compute all the items for a given definition name in a single loop, because you&#39;re using maps after all. \r\n\r\nIf the entry exits you add a new map with the description. If it doesn&#39;t you create a new map and add it. \r\n\r\nYou can even leverage `Map.computeIfAbsent(k, func)` to have it in one expression:\r\n\r\n(If you really want it in one line)\r\n\r\n    definitions.forEach( d -&gt; map.computeIfAbsent( d.name(), k -&gt; new HashMap&lt;String,Definition&gt;()).put(d.desc(), d));\r\n\r\nHere&#39;s a full example with output (Java 17)\r\n\r\n\r\n```\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.HashMap;\r\n\r\nclass Main {\r\n  public static void main(String ... args) {\r\n    var definitions = List.of(\r\n          new Definition(&quot;project&quot;, &quot;project 1&quot;, &quot;id1&quot;, &quot;class1&quot;),\r\n          new Definition(&quot;project&quot;, &quot;project 2&quot;, &quot;id2&quot;, &quot;class2&quot;),\r\n          new Definition(&quot;project&quot;, &quot;project 3&quot;, &quot;id3&quot;, &quot;class3&quot;),\r\n          new Definition(&quot;product&quot;, &quot;product 1&quot;, &quot;id4&quot;, &quot;class1&quot;),\r\n          new Definition(&quot;product&quot;, &quot;product 2&quot;, &quot;id5&quot;, &quot;class2&quot;),\r\n          new Definition(&quot;product&quot;, &quot;product 3&quot;, &quot;id6&quot;, &quot;class3&quot;)\r\n        );\r\n    var map = new HashMap&lt;String,Map&lt;String,Definition&gt;&gt;();\r\n    \r\n    // Properly formatted \r\n    definitions.forEach( d -&gt; \r\n        map.computeIfAbsent(\r\n          d.name(), k -&gt; new HashMap&lt;String,Definition&gt;()\r\n        )\r\n        .put(d.desc(), d)\r\n    );\r\n\r\n    System.out.println(map);\r\n  }\r\n}\r\n\r\nrecord Definition(String name, String desc, String id, String type){}\r\n\r\n\r\n/*\r\n \r\nOutput (formatted): \r\n\r\n{\r\n  product={\r\n    product 3=Definition[name=product, desc=product 3, id=id6, type=class3], \r\n    product 1=Definition[name=product, desc=product 1, id=id4, type=class1], \r\n    product 2=Definition[name=product, desc=product 2, id=id5, type=class2]\r\n   }, \r\n   project={\r\n      project 2=Definition[name=project, desc=project 2, id=id2, type=class2], \r\n      project 1=Definition[name=project, desc=project 1, id=id1, type=class1], \r\n      project 3=Definition[name=project, desc=project 3, id=id3, type=class3]\r\n   }\r\n}\r\n\r\n*/\r\n```\r\n","title":"Convert List to Map of Map","body":"<p>You can compute all the items for a given definition name in a single loop, because you're using maps after all.</p>\n<p>If the entry exits you add a new map with the description. If it doesn't you create a new map and add it.</p>\n<p>You can even leverage <code>Map.computeIfAbsent(k, func)</code> to have it in one expression:</p>\n<p>(If you really want it in one line)</p>\n<pre><code>definitions.forEach( d -&gt; map.computeIfAbsent( d.name(), k -&gt; new HashMap&lt;String,Definition&gt;()).put(d.desc(), d));\n</code></pre>\n<p>Here's a full example with output (Java 17)</p>\n<pre><code>import java.util.List;\nimport java.util.Map;\nimport java.util.HashMap;\n\nclass Main {\n  public static void main(String ... args) {\n    var definitions = List.of(\n          new Definition(&quot;project&quot;, &quot;project 1&quot;, &quot;id1&quot;, &quot;class1&quot;),\n          new Definition(&quot;project&quot;, &quot;project 2&quot;, &quot;id2&quot;, &quot;class2&quot;),\n          new Definition(&quot;project&quot;, &quot;project 3&quot;, &quot;id3&quot;, &quot;class3&quot;),\n          new Definition(&quot;product&quot;, &quot;product 1&quot;, &quot;id4&quot;, &quot;class1&quot;),\n          new Definition(&quot;product&quot;, &quot;product 2&quot;, &quot;id5&quot;, &quot;class2&quot;),\n          new Definition(&quot;product&quot;, &quot;product 3&quot;, &quot;id6&quot;, &quot;class3&quot;)\n        );\n    var map = new HashMap&lt;String,Map&lt;String,Definition&gt;&gt;();\n    \n    // Properly formatted \n    definitions.forEach( d -&gt; \n        map.computeIfAbsent(\n          d.name(), k -&gt; new HashMap&lt;String,Definition&gt;()\n        )\n        .put(d.desc(), d)\n    );\n\n    System.out.println(map);\n  }\n}\n\nrecord Definition(String name, String desc, String id, String type){}\n\n\n/*\n \nOutput (formatted): \n\n{\n  product={\n    product 3=Definition[name=product, desc=product 3, id=id6, type=class3], \n    product 1=Definition[name=product, desc=product 1, id=id4, type=class1], \n    product 2=Definition[name=product, desc=product 2, id=id5, type=class2]\n   }, \n   project={\n      project 2=Definition[name=project, desc=project 2, id=id2, type=class2], \n      project 1=Definition[name=project, desc=project 1, id=id1, type=class1], \n      project 3=Definition[name=project, desc=project 3, id=id3, type=class3]\n   }\n}\n\n*/\n</code></pre>\n"}],"owner":{"account_id":2518869,"reputation":8932,"user_id":2189617,"accept_rate":68,"display_name":"iCode"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1684863919,"creation_date":1684851479,"question_id":76315777,"body_markdown":"I have an object array like below. \r\n\r\n    [\r\n    \t{\r\n    \t\t&quot;defName&quot;: &quot;Project&quot;,\r\n    \t\t&quot;defDesc&quot;: &quot;Project 1&quot;,\r\n    \t\t&quot;defID&quot;: &quot;abcd123&quot;,\r\n    \t\t&quot;defClass&quot;: &quot;class1&quot;\r\n    \t},\r\n    \t{\r\n    \t\t&quot;defName&quot;: &quot;Project&quot;,\r\n    \t\t&quot;defDesc&quot;: &quot;Project 2&quot;,\r\n    \t\t&quot;defID&quot;: &quot;asdoihw1345&quot;,\r\n    \t\t&quot;defClass&quot;: &quot;class2&quot;\r\n    \t},\r\n    \t{\r\n    \t\t&quot;defName&quot;: &quot;Project&quot;,\r\n    \t\t&quot;defDesc&quot;: &quot;Project 3&quot;,\r\n    \t\t&quot;defID&quot;: &quot;ewrwu123&quot;,\r\n    \t\t&quot;defClass&quot;: &quot;class3&quot;\r\n    \t},\r\n    \t{\r\n    \t\t&quot;defName&quot;: &quot;Product&quot;,\r\n    \t\t&quot;defDesc&quot;: &quot;Product 1&quot;,\r\n    \t\t&quot;defID&quot;: &quot;pgkorejgoi1234&quot;,\r\n    \t\t&quot;defClass&quot;: &quot;class1&quot;\r\n    \t},\r\n    \t{\r\n    \t\t&quot;defName&quot;: &quot;Product&quot;,\r\n    \t\t&quot;defDesc&quot;: &quot;Product 2&quot;,\r\n    \t\t&quot;defID&quot;: &quot;asadsad2343&quot;,\r\n    \t\t&quot;defClass&quot;: &quot;class2&quot;\r\n    \t},\r\n    \t{\r\n    \t\t&quot;defName&quot;: &quot;Product&quot;,\r\n    \t\t&quot;defDesc&quot;: &quot;Product 3&quot;,\r\n    \t\t&quot;defID&quot;: &quot;4dgaksld&quot;,\r\n    \t\t&quot;defClass&quot;: &quot;class3&quot;\r\n    \t}\r\n    ]\r\n\r\nI have converted into a `List&lt;Defintion&gt;`. Now I&#39;m trying to convert to into a `Map&lt;String, Map&lt;String, Defintion&gt;` where the first map key is the `defName` and the second map key will be the `defDesc`. It is confirmed that `defDesc` will be unique for specific `defName`.\r\n\r\nCurrently I&#39;m doing in the following way. \r\n\r\n    List&lt;Definition&gt; definitions = // Got from JSON\r\n    Map&lt;String, List&lt;Definition&gt;&gt; definitionByName = definitions.stream().collect(Collectors.groupingBy(Definition::getDefName));\r\n    Map&lt;String, Map&lt;String, Definition&gt;&gt; definitionMap = new HashMap&lt;&gt;();\r\n    definitionByName.forEach((name, definitionList) -&gt; {\r\n    \tMap&lt;String, Definition&gt; definitionDescMap = definitionList.stream()\r\n    \t\t\t.collect(Collectors.toMap(def -&gt; def.getDefDesc(), Function.identity()));\r\n    \tdefinitionMap.put(name, definitionDescMap);\r\n    });\r\n\r\nCan we do it in Single statement? I&#39;m using Java 8 now. Java 8 and new versions solutions are welcome for future references. ","title":"Convert List to Map of Map","body":"<p>I have an object array like below.</p>\n<pre><code>[\n    {\n        &quot;defName&quot;: &quot;Project&quot;,\n        &quot;defDesc&quot;: &quot;Project 1&quot;,\n        &quot;defID&quot;: &quot;abcd123&quot;,\n        &quot;defClass&quot;: &quot;class1&quot;\n    },\n    {\n        &quot;defName&quot;: &quot;Project&quot;,\n        &quot;defDesc&quot;: &quot;Project 2&quot;,\n        &quot;defID&quot;: &quot;asdoihw1345&quot;,\n        &quot;defClass&quot;: &quot;class2&quot;\n    },\n    {\n        &quot;defName&quot;: &quot;Project&quot;,\n        &quot;defDesc&quot;: &quot;Project 3&quot;,\n        &quot;defID&quot;: &quot;ewrwu123&quot;,\n        &quot;defClass&quot;: &quot;class3&quot;\n    },\n    {\n        &quot;defName&quot;: &quot;Product&quot;,\n        &quot;defDesc&quot;: &quot;Product 1&quot;,\n        &quot;defID&quot;: &quot;pgkorejgoi1234&quot;,\n        &quot;defClass&quot;: &quot;class1&quot;\n    },\n    {\n        &quot;defName&quot;: &quot;Product&quot;,\n        &quot;defDesc&quot;: &quot;Product 2&quot;,\n        &quot;defID&quot;: &quot;asadsad2343&quot;,\n        &quot;defClass&quot;: &quot;class2&quot;\n    },\n    {\n        &quot;defName&quot;: &quot;Product&quot;,\n        &quot;defDesc&quot;: &quot;Product 3&quot;,\n        &quot;defID&quot;: &quot;4dgaksld&quot;,\n        &quot;defClass&quot;: &quot;class3&quot;\n    }\n]\n</code></pre>\n<p>I have converted into a <code>List&lt;Defintion&gt;</code>. Now I'm trying to convert to into a <code>Map&lt;String, Map&lt;String, Defintion&gt;</code> where the first map key is the <code>defName</code> and the second map key will be the <code>defDesc</code>. It is confirmed that <code>defDesc</code> will be unique for specific <code>defName</code>.</p>\n<p>Currently I'm doing in the following way.</p>\n<pre><code>List&lt;Definition&gt; definitions = // Got from JSON\nMap&lt;String, List&lt;Definition&gt;&gt; definitionByName = definitions.stream().collect(Collectors.groupingBy(Definition::getDefName));\nMap&lt;String, Map&lt;String, Definition&gt;&gt; definitionMap = new HashMap&lt;&gt;();\ndefinitionByName.forEach((name, definitionList) -&gt; {\n    Map&lt;String, Definition&gt; definitionDescMap = definitionList.stream()\n            .collect(Collectors.toMap(def -&gt; def.getDefDesc(), Function.identity()));\n    definitionMap.put(name, definitionDescMap);\n});\n</code></pre>\n<p>Can we do it in Single statement? I'm using Java 8 now. Java 8 and new versions solutions are welcome for future references.</p>\n"},{"tags":["java","stripe-payments"],"answers":[{"comments":[{"owner":{"account_id":2855790,"reputation":591,"user_id":2452093,"accept_rate":100,"display_name":"Ciaran George"},"score":1,"creation_date":1659997855,"post_id":73283146,"comment_id":129424444,"body_markdown":"Thanks Pompey, I should have been using default_price. It&#39;s a subscription based product so only needs to return one price for each project and seems to be eagerly loading it now.","body":"Thanks Pompey, I should have been using default_price. It&#39;s a subscription based product so only needs to return one price for each project and seems to be eagerly loading it now."}],"tags":[],"owner":{"account_id":22220966,"reputation":1063,"user_id":16458642,"display_name":"Pompey"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1659987317,"creation_date":1659987317,"answer_id":73283146,"question_id":73279833,"body_markdown":"Unfortunately you can&#39;t list all of a product&#39;s prices from the list products call. To get a full list of prices by product, you will need to make a List Prices call for each product ID that you want the prices for.[1]\r\n\r\nThe reason that you are getting an error is that Stripe&#39;s Product objects do not have a `prices` field to expand. This call will work if you specify an expandable field that products do have such as `default_price`.\r\n\r\n[1] https://site-admin.stripe.com/docs/api/prices/list#list_prices-product\r\n\r\n[2] https://site-admin.stripe.com/docs/api/products/object","title":"Stripe - expand Product data with Prices","body":"<p>Unfortunately you can't list all of a product's prices from the list products call. To get a full list of prices by product, you will need to make a List Prices call for each product ID that you want the prices for.[1]</p>\n<p>The reason that you are getting an error is that Stripe's Product objects do not have a <code>prices</code> field to expand. This call will work if you specify an expandable field that products do have such as <code>default_price</code>.</p>\n<p>[1] <a href=\"https://site-admin.stripe.com/docs/api/prices/list#list_prices-product\" rel=\"noreferrer\">https://site-admin.stripe.com/docs/api/prices/list#list_prices-product</a></p>\n<p>[2] <a href=\"https://site-admin.stripe.com/docs/api/products/object\" rel=\"noreferrer\">https://site-admin.stripe.com/docs/api/products/object</a></p>\n"},{"tags":[],"owner":{"account_id":8639572,"reputation":620,"user_id":6468641,"display_name":"Deepak Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684862648,"creation_date":1684862648,"answer_id":76317264,"question_id":73279833,"body_markdown":"As mentioned in the accepted answer unfortunately you can&#39;t list all of a product&#39;s prices from the list products call.\r\n\r\nHowever, you can use the [search api][1] of stripe and get the data. This would require you to make two calls one to fetch your products and the other to fetch prices for all the retrieved products.\r\n\r\nSample calls:\r\n\r\nFetch the products:\r\n\r\n    curl https://api.stripe.com/v1/products/search \\\r\n      -u sk_test_xxxxx: \\\r\n      --data-urlencode query=&quot;active:&#39;true&#39;&quot; \\\r\n      -G\r\n\r\nFetch the prices of the retrieved products:\r\n\r\n    curl https://api.stripe.com/v1/prices/search \\\r\n      -u sk_test_xxxxx: \\\r\n      --data-urlencode query=&quot;product:&#39;prod_xxxx&#39; OR product:&#39;prod_yyy&#39;&quot; \\\r\n      -G\r\n\r\n\r\n  [1]: https://stripe.com/docs/api/products/search","title":"Stripe - expand Product data with Prices","body":"<p>As mentioned in the accepted answer unfortunately you can't list all of a product's prices from the list products call.</p>\n<p>However, you can use the <a href=\"https://stripe.com/docs/api/products/search\" rel=\"nofollow noreferrer\">search api</a> of stripe and get the data. This would require you to make two calls one to fetch your products and the other to fetch prices for all the retrieved products.</p>\n<p>Sample calls:</p>\n<p>Fetch the products:</p>\n<pre><code>curl https://api.stripe.com/v1/products/search \\\n  -u sk_test_xxxxx: \\\n  --data-urlencode query=&quot;active:'true'&quot; \\\n  -G\n</code></pre>\n<p>Fetch the prices of the retrieved products:</p>\n<pre><code>curl https://api.stripe.com/v1/prices/search \\\n  -u sk_test_xxxxx: \\\n  --data-urlencode query=&quot;product:'prod_xxxx' OR product:'prod_yyy'&quot; \\\n  -G\n</code></pre>\n"}],"owner":{"account_id":2855790,"reputation":591,"user_id":2452093,"accept_rate":100,"display_name":"Ciaran George"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1714,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73283146,"answer_count":2,"score":1,"last_activity_date":1684862648,"creation_date":1659970254,"question_id":73279833,"body_markdown":"Basically I&#39;m just trying to expand the product call in stripe with prices, so I don&#39;t have to make another API for each product that&#39;s retrieved.\r\n\r\n```\r\nProduct.list(ProductListParams.builder()\r\n                    .setActive(true)\r\n                    .addExpand(&quot;data.prices&quot;)\r\n                    .build());\r\n```\r\n\r\nI&#39;ve tried both data.prices and data.price but the Product Collection response -&gt; defaultPrice is still just returning the prices id with a null expandable object. \r\n\r\nI&#39;ve also tried data.defaultPrice, but the call fails completely in this case.\r\n\r\nThanks all.","title":"Stripe - expand Product data with Prices","body":"<p>Basically I'm just trying to expand the product call in stripe with prices, so I don't have to make another API for each product that's retrieved.</p>\n<pre><code>Product.list(ProductListParams.builder()\n                    .setActive(true)\n                    .addExpand(&quot;data.prices&quot;)\n                    .build());\n</code></pre>\n<p>I've tried both data.prices and data.price but the Product Collection response -&gt; defaultPrice is still just returning the prices id with a null expandable object.</p>\n<p>I've also tried data.defaultPrice, but the call fails completely in this case.</p>\n<p>Thanks all.</p>\n"},{"tags":["java","dictionary"],"comments":[{"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"score":3,"creation_date":1400854946,"post_id":23831713,"comment_id":36668362,"body_markdown":"Read into the usage of &quot;generics&quot; and all should become clear.","body":"Read into the usage of &quot;generics&quot; and all should become clear."},{"owner":{"account_id":198018,"reputation":8276,"user_id":442451,"accept_rate":100,"display_name":"GriffeyDog"},"score":2,"creation_date":1400855710,"post_id":23831713,"comment_id":36668834,"body_markdown":"http://docs.oracle.com/javase/tutorial/java/generics/","body":"<a href=\"http://docs.oracle.com/javase/tutorial/java/generics/\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/generics</a>"},{"owner":{"account_id":2781492,"reputation":1091,"user_id":2393954,"accept_rate":100,"display_name":"gcalex5"},"score":0,"creation_date":1400856497,"post_id":23831713,"comment_id":36669419,"body_markdown":"@GriffeyDog thanks for the link read through some of it and it cleared up a few of my questions","body":"@GriffeyDog thanks for the link read through some of it and it cleared up a few of my questions"}],"answers":[{"tags":[],"owner":{"account_id":4277762,"reputation":328,"user_id":3497985,"display_name":"dharr"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1400855084,"creation_date":1400855084,"answer_id":23831774,"question_id":23831713,"body_markdown":" Specify the type for key and value:\r\n\r\n       Map&lt;String, String&gt; aMethod(aType type);","title":"Map is a raw type. References to generic type Map&lt;K,V&gt; should be parameterized","body":"<p>Specify the type for key and value:</p>\n\n<pre><code>   Map&lt;String, String&gt; aMethod(aType type);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3740782,"reputation":2146,"user_id":3110608,"display_name":"Jurgen"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1400856519,"creation_date":1400856519,"answer_id":23832282,"question_id":23831713,"body_markdown":"Whenever possible one should specify what Type of values a collection will hold. There are two benefits to doing this:\r\n\r\n 1. The first is that the compiler can check that you do not mistakenly put an incorrect Type of value into the collection.\r\n\r\n 2. The second is that you don&#39;t have to cast from Object to whatever Type of value it is when you retrieve the value/object from the collection.\r\n\r\nIn the case of a Map you need to specify two Types: `Map&lt;K,V&gt;`\r\n\r\nReplace K with the Type of the keys in the Map, and V with the Type of values being held in the Map.","title":"Map is a raw type. References to generic type Map&lt;K,V&gt; should be parameterized","body":"<p>Whenever possible one should specify what Type of values a collection will hold. There are two benefits to doing this:</p>\n\n<ol>\n<li><p>The first is that the compiler can check that you do not mistakenly put an incorrect Type of value into the collection.</p></li>\n<li><p>The second is that you don't have to cast from Object to whatever Type of value it is when you retrieve the value/object from the collection.</p></li>\n</ol>\n\n<p>In the case of a Map you need to specify two Types: <code>Map&lt;K,V&gt;</code></p>\n\n<p>Replace K with the Type of the keys in the Map, and V with the Type of values being held in the Map.</p>\n"}],"owner":{"account_id":2781492,"reputation":1091,"user_id":2393954,"accept_rate":100,"display_name":"gcalex5"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":23832282,"answer_count":2,"score":0,"last_activity_date":1684862458,"creation_date":1400854901,"question_id":23831713,"body_markdown":"Whenever I declare a map object I always get the below warning on the declartion, getter, and setter.\r\n\r\n    Map is a raw type. References to generic type Map&lt;K,V&gt; should be parameterized\t\r\n\r\nMy declarations are:\r\n\r\n    import java.util.Map;\r\n    private Map pricingInfo;\r\n    pricingInfo = getCurrentSession();\r\nThe map is grabbing the current session information I stored in the previous Struts2 Action\r\nand passing them into a generic Java Object. The code I use to store it is included below to give a little more context on what I&#39;m doing.\r\n\r\n    ServletActionContext.getRequest().getSession().putValue(&quot;pricing&quot;, this);\r\n\r\n\r\n\r\nHowever I get all the expected values and have yet to run into a runtime error.\r\n\r\nSo the question is should I just use annotations to make these warnings go away or is there a &#39;correct&#39; way to go about instantiating and using these variables?","title":"Map is a raw type. References to generic type Map&lt;K,V&gt; should be parameterized","body":"<p>Whenever I declare a map object I always get the below warning on the declartion, getter, and setter.</p>\n\n<pre><code>Map is a raw type. References to generic type Map&lt;K,V&gt; should be parameterized  \n</code></pre>\n\n<p>My declarations are:</p>\n\n<pre><code>import java.util.Map;\nprivate Map pricingInfo;\npricingInfo = getCurrentSession();\n</code></pre>\n\n<p>The map is grabbing the current session information I stored in the previous Struts2 Action\nand passing them into a generic Java Object. The code I use to store it is included below to give a little more context on what I'm doing.</p>\n\n<pre><code>ServletActionContext.getRequest().getSession().putValue(\"pricing\", this);\n</code></pre>\n\n<p>However I get all the expected values and have yet to run into a runtime error.</p>\n\n<p>So the question is should I just use annotations to make these warnings go away or is there a 'correct' way to go about instantiating and using these variables?</p>\n"},{"tags":["java","selenium","maven","javafx","intellij-14"],"comments":[{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1671739748,"post_id":74892632,"comment_id":132168143,"body_markdown":"Offtopic: The current version of the `javafx-maven-plugin` is `0.0.8`.  The current non-early access (no `-ea` in the version) of JavaFX is `19`.","body":"Offtopic: The current version of the <code>javafx-maven-plugin</code> is <code>0.0.8</code>.  The current non-early access (no <code>-ea</code> in the version) of JavaFX is <code>19</code>."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1671739925,"post_id":74892632,"comment_id":132168184,"body_markdown":"If you have a `module-info.java` then you can delete it and run the application non-modular, see [openjfx.io getting started](https://openjfx.io/openjfx-docs/).  If you want a modular project, require all of the correct modules in your `module-info.java`, see [understanding modules](https://www.oracle.com/corporate/features/understanding-java-9-modules.html), and provide the fully qualified (by module) name when specifying the `mainClass` to the javafx-maven-plugin.","body":"If you have a <code>module-info.java</code> then you can delete it and run the application non-modular, see <a href=\"https://openjfx.io/openjfx-docs/\" rel=\"nofollow noreferrer\">openjfx.io getting started</a>.  If you want a modular project, require all of the correct modules in your <code>module-info.java</code>, see <a href=\"https://www.oracle.com/corporate/features/understanding-java-9-modules.html\" rel=\"nofollow noreferrer\">understanding modules</a>, and provide the fully qualified (by module) name when specifying the <code>mainClass</code> to the javafx-maven-plugin."},{"owner":{"account_id":7722502,"reputation":39,"user_id":5848294,"display_name":"Fernando Afonso"},"score":0,"creation_date":1671740310,"post_id":74892632,"comment_id":132168285,"body_markdown":"@jewelsea what you mean by that? What version should i use? Sorry i don&#39;t understand","body":"@jewelsea what you mean by that? What version should i use? Sorry i don&#39;t understand"},{"owner":{"account_id":7722502,"reputation":39,"user_id":5848294,"display_name":"Fernando Afonso"},"score":0,"creation_date":1671740365,"post_id":74892632,"comment_id":132168306,"body_markdown":"@jewelsea i tried to run without this module-info and it shows another error: Error: JavaFX runtime components are missing, and are required to run this application. But the maven are importing javafx this makes no sense","body":"@jewelsea i tried to run without this module-info and it shows another error: Error: JavaFX runtime components are missing, and are required to run this application. But the maven are importing javafx this makes no sense"},{"owner":{"account_id":7722502,"reputation":39,"user_id":5848294,"display_name":"Fernando Afonso"},"score":0,"creation_date":1671740532,"post_id":74892632,"comment_id":132168346,"body_markdown":"@jewelsea i will read this understanding modules to try to understand. The getting started of openjfx.io i have readed already and tryied many different aproaches, none have worked. Tryied creating with archetype from beggining ant nothing too.","body":"@jewelsea i will read this understanding modules to try to understand. The getting started of openjfx.io i have readed already and tryied many different aproaches, none have worked. Tryied creating with archetype from beggining ant nothing too."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1671740559,"post_id":74892632,"comment_id":132168351,"body_markdown":"*&quot;What version should i use?&quot;* -&gt; You should use the versions suggested in the comment, `javafx-maven-plugin` `0.0.8`, instead of what you have (which is `0.0.8).  Similarly, JavaFX versions should be `19`, not `20-ea+11`.  That is not the root cause of your problem.","body":"<i>&quot;What version should i use?&quot;</i> -&gt; You should use the versions suggested in the comment, <code>javafx-maven-plugin</code> <code>0.0.8</code>, instead of what you have (which is <code>0.0.8).  Similarly, JavaFX versions should be </code>19<code>, not </code>20-ea+11`.  That is not the root cause of your problem."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1671740677,"post_id":74892632,"comment_id":132168378,"body_markdown":"Provide a [mcve]. I created a new project using the Idea new JavaFX project, which is what you did. And added the dependencies to `webdrivermanager` and `selenium-java` as you have and the resultant application ran fine.  So the error is in something that you are not showing.","body":"Provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. I created a new project using the Idea new JavaFX project, which is what you did. And added the dependencies to <code>webdrivermanager</code> and <code>selenium-java</code> as you have and the resultant application ran fine.  So the error is in something that you are not showing."},{"owner":{"account_id":7722502,"reputation":39,"user_id":5848294,"display_name":"Fernando Afonso"},"score":0,"creation_date":1671741729,"post_id":74892632,"comment_id":132168695,"body_markdown":"@jewelsea maybe the problem is the archetype from intellij. In this new version of intellij the way to create a project from archetype is a bit different from the openjfx.io doc - And my intellij is not saving the archetype on any of the catalog (internal or default local). Maybe is a problem with my intellij? When it create a project from this archetype showed on the openjfx it is being created empty and basic, no classes and no source code. Maybe i should create another question for that error.","body":"@jewelsea maybe the problem is the archetype from intellij. In this new version of intellij the way to create a project from archetype is a bit different from the openjfx.io doc - And my intellij is not saving the archetype on any of the catalog (internal or default local). Maybe is a problem with my intellij? When it create a project from this archetype showed on the openjfx it is being created empty and basic, no classes and no source code. Maybe i should create another question for that error."}],"answers":[{"comments":[{"owner":{"account_id":7722502,"reputation":39,"user_id":5848294,"display_name":"Fernando Afonso"},"score":0,"creation_date":1671759641,"post_id":74894978,"comment_id":132171767,"body_markdown":"The solution still not worked for me. If you try the hello world from selenium mixed with the hello world of javafx or the model that they provide, i think will still not work. When i try to use the JavaFX library it keeps on the error with the libericaJDK too. Maybe the LibericaJDK does not have the same JavaFX i don&#39;t know. I will try the second option. The error now is that the javaFX Runtime Enviroment components was not found, when i not use the module-info.java making the app non-modular. But the code at least compiles wich is good. But this error is at runtime now.","body":"The solution still not worked for me. If you try the hello world from selenium mixed with the hello world of javafx or the model that they provide, i think will still not work. When i try to use the JavaFX library it keeps on the error with the libericaJDK too. Maybe the LibericaJDK does not have the same JavaFX i don&#39;t know. I will try the second option. The error now is that the javaFX Runtime Enviroment components was not found, when i not use the module-info.java making the app non-modular. But the code at least compiles wich is good. But this error is at runtime now."},{"owner":{"account_id":7722502,"reputation":39,"user_id":5848294,"display_name":"Fernando Afonso"},"score":0,"creation_date":1671762884,"post_id":74894978,"comment_id":132172116,"body_markdown":"Actually i have no clue how to do that 2 - Add VM options to set the module path and add the JavaFX modules at compile and execution time (as specified at openjfx.io). I setted the enviroment variable on windows, downloaded the JAVAFX lib, put the VM Option &#39;javac --module-path %PATH_TO_FX% --add-modulesjavafx.controls,javafx.fxml Main.java&#39; and still not worked. Now i got the error &#39;Error: Could not find or load main class javac\nCaused by: java.lang.ClassNotFoundException: javac&#39;","body":"Actually i have no clue how to do that 2 - Add VM options to set the module path and add the JavaFX modules at compile and execution time (as specified at openjfx.io). I setted the enviroment variable on windows, downloaded the JAVAFX lib, put the VM Option &#39;javac --module-path %PATH_TO_FX% --add-modulesjavafx.controls,javafx.fxml Main.java&#39; and still not worked. Now i got the error &#39;Error: Could not find or load main class javac Caused by: java.lang.ClassNotFoundException: javac&#39;"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1671763037,"post_id":74894978,"comment_id":132172138,"body_markdown":"You probably did not select the &quot;Full JDK&quot; when you downloaded liberica. On the download page I linked, where it says &quot;package&quot;, select &quot;Full JDK&quot;, not the default &quot;Standard JDK&quot;.","body":"You probably did not select the &quot;Full JDK&quot; when you downloaded liberica. On the download page I linked, where it says &quot;package&quot;, select &quot;Full JDK&quot;, not the default &quot;Standard JDK&quot;."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1671763523,"post_id":74894978,"comment_id":132172188,"body_markdown":"If you set VM options instead you need a space between --add-modules and the modules you add.  But you could run it through maven instead without setting the VM options as the plugin will handle that for you.  See openjfx.io section &quot;Getting started -&gt; JavaFX and IntelliJ -&gt; Non-modular with Maven -&gt; 3. Run the project&quot;, don&#39;t worry about stuff in the earlier sections they already work for you.  Then follow instructions.","body":"If you set VM options instead you need a space between --add-modules and the modules you add.  But you could run it through maven instead without setting the VM options as the plugin will handle that for you.  See openjfx.io section &quot;Getting started -&gt; JavaFX and IntelliJ -&gt; Non-modular with Maven -&gt; 3. Run the project&quot;, don&#39;t worry about stuff in the earlier sections they already work for you.  Then follow instructions."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1671763528,"post_id":74894978,"comment_id":132172189,"body_markdown":"&quot;Open the Maven Projects window (View -&gt; Tool Windows -&gt; Maven) and click on HelloFX -&gt; Plugins -&gt; compiler -&gt; compiler:compile to compile the project, and click on HelloFX -&gt; Plugins -&gt; javafx -&gt; javafx:run to execute the project.&quot;","body":"&quot;Open the Maven Projects window (View -&gt; Tool Windows -&gt; Maven) and click on HelloFX -&gt; Plugins -&gt; compiler -&gt; compiler:compile to compile the project, and click on HelloFX -&gt; Plugins -&gt; javafx -&gt; javafx:run to execute the project.&quot;"},{"owner":{"account_id":7722502,"reputation":39,"user_id":5848294,"display_name":"Fernando Afonso"},"score":0,"creation_date":1671765671,"post_id":74894978,"comment_id":132172437,"body_markdown":"thank you for the perfect explanation! You have perfect understanding of the problem while i was lost. Actually the way i solved was using your second option! I used this tutorial found here : [link](https://ashley-tharp.medium.com/solved-error-javafx-runtime-components-are-missing-and-are-required-to-run-this-application-ec4779eb796d)","body":"thank you for the perfect explanation! You have perfect understanding of the problem while i was lost. Actually the way i solved was using your second option! I used this tutorial found here : <a href=\"https://ashley-tharp.medium.com/solved-error-javafx-runtime-components-are-missing-and-are-required-to-run-this-application-ec4779eb796d\" rel=\"nofollow noreferrer\">link</a>"}],"tags":[],"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"comment_count":6,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1671754244,"creation_date":1671753853,"answer_id":74894978,"question_id":74892632,"body_markdown":"This occurs because the Java Platform Module definitions used for the `4.7.1` version of Selenium software that you are using appear (to me) to be broken.\r\n\r\nI&#39;m working with the pom.xml you have in your application updated for:\r\n\r\n&gt; * The current version of the javafx-maven-plugin is 0.0.8. \r\n&gt; * The current non-early access (no -ea in the version) of JavaFX is 19.\r\n\r\nAnd the [hello world program from the selenium documentation][1].\r\n\r\n    package dev.selenium.hello;\r\n    \r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    \r\n    public class HelloSelenium {\r\n        public static void main(String[] args) {\r\n            WebDriver driver = new ChromeDriver();\r\n    \r\n            driver.get(&quot;https://selenium.dev&quot;);\r\n    \r\n            driver.quit();\r\n        }\r\n    }\r\n\r\n\r\nAs far as I can tell (and I can&#39;t really find documentation on this), so maybe this isn&#39;t even supported at the moment, to use Selenium in a modular application, you need the following modules in your `module-info.java`.  These were suggested by my IDE when I tried to compile the above program.\r\n\r\n    requires org.seleniumhq.selenium.api;\r\n    requires org.seleniumhq.selenium.chrome_driver;\r\n\r\nOnce that was done, a subsequent `mvn:compile` gives the errors from the question:\r\n\r\n    [INFO] -------------------------------------------------------------\r\n    [ERROR] COMPILATION ERROR : \r\n    [INFO] -------------------------------------------------------------\r\n    [ERROR] module not found: processed.jcommander\r\n    [ERROR] module not found: processed.async.http.client\r\n\r\nThese modules are not in the transitive dependencies for selenium, so the selenium modules are broken.  There are maven dependencies on the artifacts, so you can see jcommander and async-http-client jars in the library dependencies that Maven brings in, however those jars do not provide any module information, so their module names should be derived from the jar file names as &quot;automatic modules&quot;.  This means they would be referenced from a `module-info.java` as:\r\n\r\n    requires jcommander;\r\n    requires async.http.client;\r\n\r\nBut they are not referenced using these names.\r\n\r\nThe selenium-chrome-driver jar has: \r\n\r\n    module org.seleniumhq.selenium.chrome_driver {\r\n        ...\r\n        requires org.seleniumhq.selenium.remote_driver;\r\n        ...\r\n    }\r\n\r\nThe selenium-remote-driver jar, has:\r\n\r\n    module org.seleniumhq.selenium.remote_driver {\r\n        ...\r\n        requires processed.async.http.client;\r\n        requires processed.jcommander;\r\n        ...\r\n    }\r\n\r\nSo those are the wrong names, the modules with the `processed.` prefix do not exist, so the simple `HelloSelenium` application is not usable if you define `module-info.java`.\r\n\r\nThe only workaround I can advise for now is to make your application non-modular by ***not*** defining a `module-info.java` (i.e. delete the `module-info.java` file if you have one in your project.).  \r\n\r\nHowever, because JavaFX needs to be on the module path, you then also need to either:\r\n\r\n 1. Use a JDK which includes JavaFX (e.g. [&quot;Full JDK&quot; from liberica][2]), (*this is the option I recommend*) OR \r\n 2. Add VM options to set the module path and add the JavaFX modules at compile and execution time (as specified at [openjfx.io][2]).\r\n\r\nI also advise [filing a bug][3] for the selenium project to fix their broken module definitions in the selenium-remote-driver jar. \r\n\r\n * Note: I don&#39;t know how the selenium project bug reporting process works, so I guessed the issue link, it might be something else for this error, but my recommendation is to try that.\r\n * In filing a bug report you can link back to this post.\r\n * If you file a bug report post a link to it here either by editing this answer or posting a comment.\r\n\r\n  [1]: https://www.selenium.dev/documentation/\r\n  [2]: https://bell-sw.com/pages/downloads/#/java-19-current\r\n  [3]: https://github.com/SeleniumHQ/selenium/issues","title":"Compilation Error with Maven on Intellij: Module not found: processed.jcommander","body":"<p>This occurs because the Java Platform Module definitions used for the <code>4.7.1</code> version of Selenium software that you are using appear (to me) to be broken.</p>\n<p>I'm working with the pom.xml you have in your application updated for:</p>\n<blockquote>\n<ul>\n<li>The current version of the javafx-maven-plugin is 0.0.8.</li>\n<li>The current non-early access (no -ea in the version) of JavaFX is 19.</li>\n</ul>\n</blockquote>\n<p>And the <a href=\"https://www.selenium.dev/documentation/\" rel=\"nofollow noreferrer\">hello world program from the selenium documentation</a>.</p>\n<pre><code>package dev.selenium.hello;\n\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\n\npublic class HelloSelenium {\n    public static void main(String[] args) {\n        WebDriver driver = new ChromeDriver();\n\n        driver.get(&quot;https://selenium.dev&quot;);\n\n        driver.quit();\n    }\n}\n</code></pre>\n<p>As far as I can tell (and I can't really find documentation on this), so maybe this isn't even supported at the moment, to use Selenium in a modular application, you need the following modules in your <code>module-info.java</code>.  These were suggested by my IDE when I tried to compile the above program.</p>\n<pre><code>requires org.seleniumhq.selenium.api;\nrequires org.seleniumhq.selenium.chrome_driver;\n</code></pre>\n<p>Once that was done, a subsequent <code>mvn:compile</code> gives the errors from the question:</p>\n<pre><code>[INFO] -------------------------------------------------------------\n[ERROR] COMPILATION ERROR : \n[INFO] -------------------------------------------------------------\n[ERROR] module not found: processed.jcommander\n[ERROR] module not found: processed.async.http.client\n</code></pre>\n<p>These modules are not in the transitive dependencies for selenium, so the selenium modules are broken.  There are maven dependencies on the artifacts, so you can see jcommander and async-http-client jars in the library dependencies that Maven brings in, however those jars do not provide any module information, so their module names should be derived from the jar file names as &quot;automatic modules&quot;.  This means they would be referenced from a <code>module-info.java</code> as:</p>\n<pre><code>requires jcommander;\nrequires async.http.client;\n</code></pre>\n<p>But they are not referenced using these names.</p>\n<p>The selenium-chrome-driver jar has:</p>\n<pre><code>module org.seleniumhq.selenium.chrome_driver {\n    ...\n    requires org.seleniumhq.selenium.remote_driver;\n    ...\n}\n</code></pre>\n<p>The selenium-remote-driver jar, has:</p>\n<pre><code>module org.seleniumhq.selenium.remote_driver {\n    ...\n    requires processed.async.http.client;\n    requires processed.jcommander;\n    ...\n}\n</code></pre>\n<p>So those are the wrong names, the modules with the <code>processed.</code> prefix do not exist, so the simple <code>HelloSelenium</code> application is not usable if you define <code>module-info.java</code>.</p>\n<p>The only workaround I can advise for now is to make your application non-modular by <em><strong>not</strong></em> defining a <code>module-info.java</code> (i.e. delete the <code>module-info.java</code> file if you have one in your project.).</p>\n<p>However, because JavaFX needs to be on the module path, you then also need to either:</p>\n<ol>\n<li>Use a JDK which includes JavaFX (e.g. <a href=\"https://bell-sw.com/pages/downloads/#/java-19-current\" rel=\"nofollow noreferrer\">&quot;Full JDK&quot; from liberica</a>), (<em>this is the option I recommend</em>) OR</li>\n<li>Add VM options to set the module path and add the JavaFX modules at compile and execution time (as specified at <a href=\"https://bell-sw.com/pages/downloads/#/java-19-current\" rel=\"nofollow noreferrer\">openjfx.io</a>).</li>\n</ol>\n<p>I also advise <a href=\"https://github.com/SeleniumHQ/selenium/issues\" rel=\"nofollow noreferrer\">filing a bug</a> for the selenium project to fix their broken module definitions in the selenium-remote-driver jar.</p>\n<ul>\n<li>Note: I don't know how the selenium project bug reporting process works, so I guessed the issue link, it might be something else for this error, but my recommendation is to try that.</li>\n<li>In filing a bug report you can link back to this post.</li>\n<li>If you file a bug report post a link to it here either by editing this answer or posting a comment.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2719548,"reputation":2231,"user_id":2346131,"display_name":"Lavish Kothari"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673714282,"creation_date":1673714282,"answer_id":75119544,"question_id":74892632,"body_markdown":"As other answers didn&#39;t mention this, I wanted to put this out over here that 4.6.0 version is working fine and not giving a similar error.\r\nIn case you don&#39;t require specific enhancements/bug-fixes introduced from 4.7.x, you can use 4.6.0.\r\nI was also using 4.7.2 earlier but rolled back to 4.6.0 and it worked like a charm.","title":"Compilation Error with Maven on Intellij: Module not found: processed.jcommander","body":"<p>As other answers didn't mention this, I wanted to put this out over here that 4.6.0 version is working fine and not giving a similar error.\nIn case you don't require specific enhancements/bug-fixes introduced from 4.7.x, you can use 4.6.0.\nI was also using 4.7.2 earlier but rolled back to 4.6.0 and it worked like a charm.</p>\n"}],"owner":{"account_id":7722502,"reputation":39,"user_id":5848294,"display_name":"Fernando Afonso"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1328,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74894978,"answer_count":2,"score":0,"last_activity_date":1684862046,"creation_date":1671734243,"question_id":74892632,"body_markdown":"I was developing some small program using selenium and javaFX. everything was going fine, when i tried my code on selenium on a project and on a JavaFX project separatedly. When i put the code together and imported all dependecies to maven, and tried to run, it keep showing this error:\r\n\r\n```\r\n[ERROR] COMPILATION ERROR :[INFO] -------------------------------------------------------------[ERROR] module not found: processed.jcommander[ERROR] module not found: processed.async.http.client\r\n```\r\n\r\nI don&#39;t know what are those modules, they were not dependecies and are not used in the code. What those modules are and why compilation error?\r\n\r\nHere is my POM.xml:\r\n\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;DedoDoDida&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.source&gt;19&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;19&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\r\n            &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\r\n            &lt;version&gt;5.3.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n            &lt;version&gt;4.7.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n&lt;!--        &lt;dependency&gt;--&gt;\r\n&lt;!--            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;--&gt;\r\n&lt;!--            &lt;artifactId&gt;lombok&lt;/artifactId&gt;--&gt;\r\n&lt;!--            &lt;version&gt;1.18.6&lt;/version&gt;--&gt;\r\n&lt;!--        &lt;/dependency&gt;--&gt;\r\n&lt;!--        &lt;dependency&gt;--&gt;\r\n&lt;!--            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;--&gt;\r\n&lt;!--            &lt;artifactId&gt;gson&lt;/artifactId&gt;--&gt;\r\n&lt;!--            &lt;version&gt;2.10&lt;/version&gt;--&gt;\r\n&lt;!--        &lt;/dependency&gt;--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n            &lt;version&gt;20-ea+11&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n            &lt;version&gt;20-ea+11&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;release&gt;19&lt;/release&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.0.6&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;!-- Default configuration for running --&gt;\r\n                        &lt;!-- Usage: mvn clean javafx:run --&gt;\r\n                        &lt;id&gt;default-cli&lt;/id&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;mainClass&gt;org.example.App&lt;/mainClass&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nI tried already searching on internet and i am stuck on this problem for 2 days already, i was giving up this project but i decided to try stackoverflow. Probably some easy thing to solve that i am not being able to solve.","title":"Compilation Error with Maven on Intellij: Module not found: processed.jcommander","body":"<p>I was developing some small program using selenium and javaFX. everything was going fine, when i tried my code on selenium on a project and on a JavaFX project separatedly. When i put the code together and imported all dependecies to maven, and tried to run, it keep showing this error:</p>\n<pre><code>[ERROR] COMPILATION ERROR :[INFO] -------------------------------------------------------------[ERROR] module not found: processed.jcommander[ERROR] module not found: processed.async.http.client\n</code></pre>\n<p>I don't know what are those modules, they were not dependecies and are not used in the code. What those modules are and why compilation error?</p>\n<p>Here is my POM.xml:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;DedoDoDida&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;19&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;19&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\n            &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\n            &lt;version&gt;5.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n            &lt;version&gt;4.7.1&lt;/version&gt;\n        &lt;/dependency&gt;\n&lt;!--        &lt;dependency&gt;--&gt;\n&lt;!--            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;--&gt;\n&lt;!--            &lt;artifactId&gt;lombok&lt;/artifactId&gt;--&gt;\n&lt;!--            &lt;version&gt;1.18.6&lt;/version&gt;--&gt;\n&lt;!--        &lt;/dependency&gt;--&gt;\n&lt;!--        &lt;dependency&gt;--&gt;\n&lt;!--            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;--&gt;\n&lt;!--            &lt;artifactId&gt;gson&lt;/artifactId&gt;--&gt;\n&lt;!--            &lt;version&gt;2.10&lt;/version&gt;--&gt;\n&lt;!--        &lt;/dependency&gt;--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n            &lt;version&gt;20-ea+11&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n            &lt;version&gt;20-ea+11&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;release&gt;19&lt;/release&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.0.6&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;!-- Default configuration for running --&gt;\n                        &lt;!-- Usage: mvn clean javafx:run --&gt;\n                        &lt;id&gt;default-cli&lt;/id&gt;\n                        &lt;configuration&gt;\n                            &lt;mainClass&gt;org.example.App&lt;/mainClass&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>I tried already searching on internet and i am stuck on this problem for 2 days already, i was giving up this project but i decided to try stackoverflow. Probably some easy thing to solve that i am not being able to solve.</p>\n"},{"tags":["java","apache-poi","noclassdeffounderror","docx"],"answers":[{"comments":[{"owner":{"account_id":326393,"reputation":22554,"user_id":648138,"accept_rate":68,"display_name":"Suhail Gupta"},"score":0,"creation_date":1396623663,"post_id":22866221,"comment_id":34886578,"body_markdown":"What `jars` are required to read and write a `docx` file ? It is very confusing. I lack in its terminology","body":"What <code>jars</code> are required to read and write a <code>docx</code> file ? It is very confusing. I lack in its terminology"},{"owner":{"account_id":996144,"reputation":1722,"user_id":1012022,"display_name":"robermann"},"score":1,"creation_date":1396623796,"post_id":22866221,"comment_id":34886673,"body_markdown":"Added a link. All POI&#39;s stuff is really intricate, I&#39;d suggest you of using **Maven** for dependencies handling.","body":"Added a link. All POI&#39;s stuff is really intricate, I&#39;d suggest you of using <b>Maven</b> for dependencies handling."}],"tags":[],"owner":{"account_id":996144,"reputation":1722,"user_id":1012022,"display_name":"robermann"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1396624230,"creation_date":1396623453,"answer_id":22866221,"question_id":22866089,"body_markdown":"Your classpath is missing a library, [xmlbeans][1]. Check the POI&#39;s [*Component Map*][2] page.\r\n\r\nReassuming:\r\n\r\n  1. you need [`poi-ooxml`][3]\r\n  2. `poi-ooxml` depends on [`poi-ooxml-schemas`][4] (see the `dependencies` tag)\r\n  3. `poi-ooxml-schemas` depends on [`xmlbeans`][5]\r\n\r\nSo you have to add the [xmlbeans jar] [6].\r\n\r\n\r\n  [1]: http://xmlbeans.apache.org/\r\n  [2]: http://poi.apache.org/overview.html\r\n  [3]: http://search.maven.org/#artifactdetails%7Corg.apache.poi%7Cpoi-ooxml%7C3.10-FINAL%7Cjar\r\n  [4]: http://search.maven.org/#artifactdetails%7Corg.apache.poi%7Cpoi-ooxml-schemas%7C3.10-FINAL%7Cjar\r\n  [5]: http://search.maven.org/#artifactdetails%7Corg.apache.xmlbeans%7Cxmlbeans%7C2.6.0%7Cjar\r\n  [6]: http://search.maven.org/remotecontent?filepath=org/apache/xmlbeans/xmlbeans/2.6.0/xmlbeans-2.6.0.jar","title":"Why am I getting exception as I try to read .DOCX file?","body":"<p>Your classpath is missing a library, <a href=\"http://xmlbeans.apache.org/\" rel=\"nofollow\">xmlbeans</a>. Check the POI's <a href=\"http://poi.apache.org/overview.html\" rel=\"nofollow\"><em>Component Map</em></a> page.</p>\n\n<p>Reassuming:</p>\n\n<ol>\n<li>you need <a href=\"http://search.maven.org/#artifactdetails%7Corg.apache.poi%7Cpoi-ooxml%7C3.10-FINAL%7Cjar\" rel=\"nofollow\"><code>poi-ooxml</code></a></li>\n<li><code>poi-ooxml</code> depends on <a href=\"http://search.maven.org/#artifactdetails%7Corg.apache.poi%7Cpoi-ooxml-schemas%7C3.10-FINAL%7Cjar\" rel=\"nofollow\"><code>poi-ooxml-schemas</code></a> (see the <code>dependencies</code> tag)</li>\n<li><code>poi-ooxml-schemas</code> depends on <a href=\"http://search.maven.org/#artifactdetails%7Corg.apache.xmlbeans%7Cxmlbeans%7C2.6.0%7Cjar\" rel=\"nofollow\"><code>xmlbeans</code></a></li>\n</ol>\n\n<p>So you have to add the <a href=\"http://search.maven.org/remotecontent?filepath=org/apache/xmlbeans/xmlbeans/2.6.0/xmlbeans-2.6.0.jar\" rel=\"nofollow\">xmlbeans jar</a>.</p>\n"},{"tags":[],"owner":{"account_id":4277762,"reputation":328,"user_id":3497985,"display_name":"dharr"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684861844,"creation_date":1396623532,"answer_id":22866253,"question_id":22866089,"body_markdown":"Add  [xmlbeans][1] on your classpath.\r\n\r\n[NoClassDefFoundError][2] explanation:\r\n\r\n&gt; Thrown if the Java Virtual Machine or a ClassLoader instance tries to\r\n&gt; load in the definition of a class (as part of a normal method call or\r\n&gt; as part of creating a new instance using the new expression) and no\r\n&gt; definition of the class could be found.\r\n&gt; \r\n&gt; The searched-for class definition existed when the currently executing\r\n&gt; class was compiled, but the definition can no longer be found.\r\n\r\n\r\n  [1]: http://xmlbeans.apache.org/\r\n  [2]: http://docs.oracle.com/javase/6/docs/api/java/lang/NoClassDefFoundError.html","title":"Why am I getting exception as I try to read .DOCX file?","body":"<p>Add  <a href=\"http://xmlbeans.apache.org/\" rel=\"nofollow noreferrer\">xmlbeans</a> on your classpath.</p>\n<p><a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/NoClassDefFoundError.html\" rel=\"nofollow noreferrer\">NoClassDefFoundError</a> explanation:</p>\n<blockquote>\n<p>Thrown if the Java Virtual Machine or a ClassLoader instance tries to\nload in the definition of a class (as part of a normal method call or\nas part of creating a new instance using the new expression) and no\ndefinition of the class could be found.</p>\n<p>The searched-for class definition existed when the currently executing\nclass was compiled, but the definition can no longer be found.</p>\n</blockquote>\n"}],"owner":{"account_id":326393,"reputation":22554,"user_id":648138,"accept_rate":68,"display_name":"Suhail Gupta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":189,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":22866221,"answer_count":2,"score":-1,"last_activity_date":1684861844,"creation_date":1396623135,"question_id":22866089,"body_markdown":"While trying to read `.docx` file using the following snippet :\r\n\r\n    public void parseDocxFile(String textEntered) {\r\n        try {\r\n            XWPFDocument doc = new XWPFDocument(new FileInputStream(new File(SContainer.getFilePath())));\r\n            XWPFWordExtractor extractor = new XWPFWordExtractor(doc);\r\n            System.out.println(&quot;DOCX File : &quot; + extractor.getText());\r\n        }catch(Exception exc) {exc.printStackTrace();}\r\n    }\r\n\r\nI get an exception, which says :\r\n\r\n    Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NoClassDefFoundError: org/apache\r\n    /xmlbeans/XmlException\r\n\tat org.suhail.gui.Main.parseDocxFile(Main.java:246)\r\n\tat org.suhail.gui.Main.jButton1ActionPerformed(Main.java:167)\r\n\tat org.suhail.gui.Main.access$000(Main.java:22)\r\n\tat org.suhail.gui.Main$1.actionPerformed(Main.java:71)\r\n\tat javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:1995)\r\n\tat javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2318)\r\n\tat javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:387)\r\n\tat javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:242)\r\n\tat javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:236)\r\n\tat java.awt.Component.processMouseEvent(Component.java:6038)\r\n\tat javax.swing.JComponent.processMouseEvent(JComponent.java:3260)\r\n\tat java.awt.Component.processEvent(Component.java:5803)\r\n\tat java.awt.Container.processEvent(Container.java:2058)\r\n\tat java.awt.Component.dispatchEventImpl(Component.java:4410)\r\n\tat java.awt.Container.dispatchEventImpl(Container.java:2116)\r\n\tat java.awt.Component.dispatchEvent(Component.java:4240)\r\n\tat java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4322)\r\n\tat java.awt.LightweightDispatcher.processMouseEvent(Container.java:3986)\r\n\tat java.awt.LightweightDispatcher.dispatchEvent(Container.java:3916)\r\n\tat java.awt.Container.dispatchEventImpl(Container.java:2102)\r\n\tat java.awt.Window.dispatchEventImpl(Window.java:2429)\r\n\tat java.awt.Component.dispatchEvent(Component.java:4240)\r\n\tat java.awt.EventQueue.dispatchEvent(EventQueue.java:599)\r\n\tat java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:273)\r\n\tat java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:183)\r\n\tat java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:173)\r\n\tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:168)\r\n\tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:160)\r\n\tat java.awt.EventDispatchThread.run(EventDispatchThread.java:121)\r\n\r\nWhat does it mean ? Why does it occur ?","title":"Why am I getting exception as I try to read .DOCX file?","body":"<p>While trying to read <code>.docx</code> file using the following snippet :</p>\n\n<pre><code>public void parseDocxFile(String textEntered) {\n    try {\n        XWPFDocument doc = new XWPFDocument(new FileInputStream(new File(SContainer.getFilePath())));\n        XWPFWordExtractor extractor = new XWPFWordExtractor(doc);\n        System.out.println(\"DOCX File : \" + extractor.getText());\n    }catch(Exception exc) {exc.printStackTrace();}\n}\n</code></pre>\n\n<p>I get an exception, which says :</p>\n\n<pre><code>Exception in thread \"AWT-EventQueue-0\" java.lang.NoClassDefFoundError: org/apache\n/xmlbeans/XmlException\nat org.suhail.gui.Main.parseDocxFile(Main.java:246)\nat org.suhail.gui.Main.jButton1ActionPerformed(Main.java:167)\nat org.suhail.gui.Main.access$000(Main.java:22)\nat org.suhail.gui.Main$1.actionPerformed(Main.java:71)\nat javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:1995)\nat javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2318)\nat javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:387)\nat javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:242)\nat javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:236)\nat java.awt.Component.processMouseEvent(Component.java:6038)\nat javax.swing.JComponent.processMouseEvent(JComponent.java:3260)\nat java.awt.Component.processEvent(Component.java:5803)\nat java.awt.Container.processEvent(Container.java:2058)\nat java.awt.Component.dispatchEventImpl(Component.java:4410)\nat java.awt.Container.dispatchEventImpl(Container.java:2116)\nat java.awt.Component.dispatchEvent(Component.java:4240)\nat java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4322)\nat java.awt.LightweightDispatcher.processMouseEvent(Container.java:3986)\nat java.awt.LightweightDispatcher.dispatchEvent(Container.java:3916)\nat java.awt.Container.dispatchEventImpl(Container.java:2102)\nat java.awt.Window.dispatchEventImpl(Window.java:2429)\nat java.awt.Component.dispatchEvent(Component.java:4240)\nat java.awt.EventQueue.dispatchEvent(EventQueue.java:599)\nat java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:273)\nat java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:183)\nat java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:173)\nat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:168)\nat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:160)\nat java.awt.EventDispatchThread.run(EventDispatchThread.java:121)\n</code></pre>\n\n<p>What does it mean ? Why does it occur ?</p>\n"},{"tags":["java","spring-boot","selenium-webdriver"],"comments":[{"owner":{"account_id":4034639,"reputation":985,"user_id":3319557,"accept_rate":100,"display_name":"mlecz"},"score":0,"creation_date":1684861876,"post_id":76308329,"comment_id":134578270,"body_markdown":"it might be due to headless mode for application servers. I suggest to put this before spring context is started and check if it works         System.setProperty(&quot;java.awt.headless&quot;, &quot;false&quot;);","body":"it might be due to headless mode for application servers. I suggest to put this before spring context is started and check if it works         System.setProperty(&quot;java.awt.headless&quot;, &quot;false&quot;);"}],"owner":{"account_id":27480367,"reputation":35,"user_id":20967571,"display_name":"sera"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1684861508,"creation_date":1684773880,"question_id":76308329,"body_markdown":"Selenium doesn&#39;t open browser\r\nautomatically.\r\nBesides this, I ran other example code and it didn&#39;t work.\r\n\r\nThis code may be wrong because it&#39;s my first time doing a spring boot. However, copying other successful examples did not work the same.\r\n\r\nI searched for Stack Overflow solutions but it doesn&#39;t run.\r\nI&#39;d really appreciate your help.\r\n\r\n    package com.ptuproject.ptuproject.Controller;\r\n\r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.WebElement;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    import org.springframework.stereotype.Component;\r\n\r\n    import java.io.IOException;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n\r\n    @Component\r\n    public class SeleniumController {\r\n        private WebDriver driver;\r\n\r\n        public void process() {\r\n            System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\chromedriver.exe&quot;);\r\n\r\n            driver = new ChromeDriver();\r\n\r\n            driver.get(&quot;https://www.google.co.kr/&quot;);\r\n\r\n        }\r\n\r\n    }\r\n\r\n**Output**\r\n\r\n[![enter image description here][1]][1]\r\n\r\nbuild.gradle\r\n\r\n```java\r\ndependencies {\r\n\timplementation &#39;org.seleniumhq.selenium:selenium-java:4.1.2&#39;\r\n    }\r\n```\r\n    \r\n\r\n\r\n  \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/d8Krc.png","title":"Selenium doesn&#39;t open browser. springboot","body":"<p>Selenium doesn't open browser\nautomatically.\nBesides this, I ran other example code and it didn't work.</p>\n<p>This code may be wrong because it's my first time doing a spring boot. However, copying other successful examples did not work the same.</p>\n<p>I searched for Stack Overflow solutions but it doesn't run.\nI'd really appreciate your help.</p>\n<pre><code>package com.ptuproject.ptuproject.Controller;\n\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.springframework.stereotype.Component;\n\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.List;\n\n@Component\npublic class SeleniumController {\n    private WebDriver driver;\n\n    public void process() {\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\chromedriver.exe&quot;);\n\n        driver = new ChromeDriver();\n\n        driver.get(&quot;https://www.google.co.kr/&quot;);\n\n    }\n\n}\n</code></pre>\n<p><strong>Output</strong></p>\n<p><a href=\"https://i.stack.imgur.com/d8Krc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/d8Krc.png\" alt=\"enter image description here\" /></a></p>\n<p>build.gradle</p>\n<pre class=\"lang-java prettyprint-override\"><code>dependencies {\n    implementation 'org.seleniumhq.selenium:selenium-java:4.1.2'\n    }\n</code></pre>\n"},{"tags":["java","asyncresttemplate"],"comments":[{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":0,"creation_date":1684853710,"post_id":76316037,"comment_id":134576282,"body_markdown":"From the looks of this, you&#39;re using Spring.  You can simply autowire that into your component class with `@Value(&quot;${messageapi}&quot;)`","body":"From the looks of this, you&#39;re using Spring.  You can simply autowire that into your component class with <code>@Value(&quot;${messageapi}&quot;)</code>"},{"owner":{"account_id":4144906,"reputation":1342,"user_id":3795691,"accept_rate":53,"display_name":"Mattia Righetti"},"score":0,"creation_date":1684853731,"post_id":76316037,"comment_id":134576292,"body_markdown":"[Provide a Minimal, Reproducible Example](https://stackoverflow.com/help/minimal-reproducible-example)","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">Provide a Minimal, Reproducible Example</a>"},{"owner":{"account_id":20678167,"reputation":43,"user_id":15182329,"display_name":"Aquaman"},"score":0,"creation_date":1684856479,"post_id":76316037,"comment_id":134577048,"body_markdown":"@lane.maxwell I am accessing the api through @Value(&quot;${messageapi}&quot;), but i need to access value of {{userid}} in exchange() method","body":"@lane.maxwell I am accessing the api through @Value(&quot;${messageapi}&quot;), but i need to access value of {{userid}} in exchange() method"}],"answers":[{"tags":[],"owner":{"account_id":875271,"reputation":2505,"user_id":925040,"accept_rate":75,"display_name":"Alexius DIAKOGIANNIS"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684856762,"creation_date":1684856762,"answer_id":76316549,"question_id":76316037,"body_markdown":"This how i would approach it. I would plase a string placeholder, get it with @Value and then I would use String.format. So here it goes: \r\n\r\n - Step 1 use this format in your `application.properties` file entry `messageapi=http://localhost:8080/uxt/get/%s/messages/notification` \r\n - Step 2 in your class use the \r\n      \r\n       @Value(&quot;${messageapi}&quot;)\r\n       String messageapi;\r\n\r\nand store the value\r\n - Step 3 use the following to replace the **userId** `String.format(messageapi,&quot;userId &quot;));` and in your case somthing like\r\n\r\n       asycTemp.exchange(String.format(messageapi,&quot;userId &quot;)), method, requestEntity, responseType);\r\n\r\nI hope I helped","title":"get external url from application.properties with pathvariable","body":"<p>This how i would approach it. I would plase a string placeholder, get it with @Value and then I would use String.format. So here it goes:</p>\n<ul>\n<li><p>Step 1 use this format in your <code>application.properties</code> file entry <code>messageapi=http://localhost:8080/uxt/get/%s/messages/notification</code></p>\n</li>\n<li><p>Step 2 in your class use the</p>\n<pre><code>@Value(&quot;${messageapi}&quot;)\nString messageapi;\n</code></pre>\n</li>\n</ul>\n<p>and store the value</p>\n<ul>\n<li><p>Step 3 use the following to replace the <strong>userId</strong> <code>String.format(messageapi,&quot;userId &quot;));</code> and in your case somthing like</p>\n<pre><code>asycTemp.exchange(String.format(messageapi,&quot;userId &quot;)), method, requestEntity, responseType);\n</code></pre>\n</li>\n</ul>\n<p>I hope I helped</p>\n"},{"tags":[],"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684861386,"creation_date":1684861386,"answer_id":76317136,"question_id":76316037,"body_markdown":"To add to the already accepted answer, you can do this with a combination of the `@Value` annotation, `SpEL`, and request scoped beans.\r\n\r\nConsider this implementation\r\n\r\n\t@Value(&quot;#{T(java.lang.String).format(&#39;${messageapi}&#39;, T(org.springframework.security.core.context.SecurityContextHolder).getContext().authentication.name)}&quot; )\r\n\tprivate String messageApiURL;\r\n\r\nAdd that to a service that&#39;s scoped with request, that&#39;s called from another request scoped bean.  This pulls the user from the active security context, but you could put any method here that you can reach, you can even call methods from other beans that are not request scoped, like this:\r\n\r\n\t@Value(&quot;#{T(java.lang.String).format(&#39;${messageapi}&#39;, {userService.getUser()})}&quot; )\r\n\tprivate String prop;\r\n\r\nThis would call the `getUser()` method on a bean named `userService`, passing it as an arg to the String format.","title":"get external url from application.properties with pathvariable","body":"<p>To add to the already accepted answer, you can do this with a combination of the <code>@Value</code> annotation, <code>SpEL</code>, and request scoped beans.</p>\n<p>Consider this implementation</p>\n<pre><code>@Value(&quot;#{T(java.lang.String).format('${messageapi}', T(org.springframework.security.core.context.SecurityContextHolder).getContext().authentication.name)}&quot; )\nprivate String messageApiURL;\n</code></pre>\n<p>Add that to a service that's scoped with request, that's called from another request scoped bean.  This pulls the user from the active security context, but you could put any method here that you can reach, you can even call methods from other beans that are not request scoped, like this:</p>\n<pre><code>@Value(&quot;#{T(java.lang.String).format('${messageapi}', {userService.getUser()})}&quot; )\nprivate String prop;\n</code></pre>\n<p>This would call the <code>getUser()</code> method on a bean named <code>userService</code>, passing it as an arg to the String format.</p>\n"}],"owner":{"account_id":20678167,"reputation":43,"user_id":15182329,"display_name":"Aquaman"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76316549,"answer_count":2,"score":0,"last_activity_date":1684861386,"creation_date":1684853330,"question_id":76316037,"body_markdown":"I have a situation were i need to  call an external endpoint. I am using spring boot. I have placed the endpoint in the `application.properties` file and used a placeholder for the parameter I need to change like so: `messageapi=http://localhost:8080/uxt/get/{{userId}}/messages/notification`\r\n    \r\nwhere userid is a dynamic value generated in code.\r\n\r\nwhat is the most efficient way for me to to access this value in asyncRestTemplate.exchange() method and replace the variable?","title":"get external url from application.properties with pathvariable","body":"<p>I have a situation were i need to  call an external endpoint. I am using spring boot. I have placed the endpoint in the <code>application.properties</code> file and used a placeholder for the parameter I need to change like so: <code>messageapi=http://localhost:8080/uxt/get/{{userId}}/messages/notification</code></p>\n<p>where userid is a dynamic value generated in code.</p>\n<p>what is the most efficient way for me to to access this value in asyncRestTemplate.exchange() method and replace the variable?</p>\n"},{"tags":["java","spring","amazon-web-services","tomcat","amazon-elb"],"comments":[{"owner":{"account_id":7501,"reputation":187982,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":0,"creation_date":1485957906,"post_id":41977414,"comment_id":71141130,"body_markdown":"How are the listeners on your ELB configured exactly? Are you doing SSL termination at the ELB or in Tomcat?","body":"How are the listeners on your ELB configured exactly? Are you doing SSL termination at the ELB or in Tomcat?"},{"owner":{"account_id":5077631,"reputation":31,"user_id":4074595,"display_name":"ymansour"},"score":0,"creation_date":1485961542,"post_id":41977414,"comment_id":71143660,"body_markdown":"@MarkB : listeners are configured this way ELB Protocol: HTTP / ELB Port : 80 / Instance Protocol : HTTP / Instance Port 8080 and ELB Protocol: HTTPS / ELB Port : 443 / Instance Protocol : HTTP / Instance Port 8080","body":"@MarkB : listeners are configured this way ELB Protocol: HTTP / ELB Port : 80 / Instance Protocol : HTTP / Instance Port 8080 and ELB Protocol: HTTPS / ELB Port : 443 / Instance Protocol : HTTP / Instance Port 8080"},{"owner":{"account_id":5077631,"reputation":31,"user_id":4074595,"display_name":"ymansour"},"score":0,"creation_date":1485961697,"post_id":41977414,"comment_id":71143789,"body_markdown":"The termination is done at the ELB","body":"The termination is done at the ELB"},{"owner":{"account_id":7501,"reputation":187982,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":0,"creation_date":1485962934,"post_id":41977414,"comment_id":71144713,"body_markdown":"Are you sure the requests with the null x-forwarded-for header aren&#39;t simply the ELB health check requests? Also, you are accepting both HTTP and HTTPS requests from the ELB, and you should only expect the HTTPS requests to result in `isSecure == true`.","body":"Are you sure the requests with the null x-forwarded-for header aren&#39;t simply the ELB health check requests? Also, you are accepting both HTTP and HTTPS requests from the ELB, and you should only expect the HTTPS requests to result in <code>isSecure == true</code>."},{"owner":{"account_id":5077631,"reputation":31,"user_id":4074595,"display_name":"ymansour"},"score":0,"creation_date":1485967309,"post_id":41977414,"comment_id":71147855,"body_markdown":"Yes I&#39;m sure it&#39;s not ELB health check. About HTTP and HTTPS, for my tests, I only make requests using HTTPS.","body":"Yes I&#39;m sure it&#39;s not ELB health check. About HTTP and HTTPS, for my tests, I only make requests using HTTPS."},{"owner":{"account_id":7501,"reputation":187982,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":0,"creation_date":1485967625,"post_id":41977414,"comment_id":71148034,"body_markdown":"Did you configure the ELB health checks to use HTTPS?","body":"Did you configure the ELB health checks to use HTTPS?"},{"owner":{"account_id":7501,"reputation":187982,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":0,"creation_date":1485972526,"post_id":41977414,"comment_id":71151038,"body_markdown":"I was looking at the documentation for `RemoteIpValve` and it states: &quot;x-forwarded-by header is null because only internal proxies as been traversed by the request. x-forwarded-by is null because all the proxies are trusted or internal.&quot; You might want to look into how the internal proxies setting causes values to be nulled out. It looks like x-forwarded-for will be nulled out and the IP address will be in `request.remoteAddr`","body":"I was looking at the documentation for <code>RemoteIpValve</code> and it states: &quot;x-forwarded-by header is null because only internal proxies as been traversed by the request. x-forwarded-by is null because all the proxies are trusted or internal.&quot; You might want to look into how the internal proxies setting causes values to be nulled out. It looks like x-forwarded-for will be nulled out and the IP address will be in <code>request.remoteAddr</code>"}],"answers":[{"tags":[],"owner":{"account_id":24300729,"reputation":11,"user_id":18244272,"display_name":"spring-developer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684860630,"creation_date":1684860630,"answer_id":76317049,"question_id":41977414,"body_markdown":"you can use request.getRemoteAddr() in spring-boot 3.0+\r\n\r\nwhen you pass x-forwarded-for header, its transferred into remoteAddress field of HttpServletRequest.","title":"Tomcat - RemoteIpValve - x-forwarded-for header is null","body":"<p>you can use request.getRemoteAddr() in spring-boot 3.0+</p>\n<p>when you pass x-forwarded-for header, its transferred into remoteAddress field of HttpServletRequest.</p>\n"}],"owner":{"account_id":5077631,"reputation":31,"user_id":4074595,"display_name":"ymansour"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1337,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1684860630,"creation_date":1485945059,"question_id":41977414,"body_markdown":"I have an application (JVM 1.8.0_31-b13, Spring MVC 4.2.4, Security 4.0.3) deployed on Tomcat 7 (7.0.68) and I&#39;m using an AWS ELB to handle requests from client.\r\nIn my application, I try to get the client ip address using the X-forwarded-for header. If I don&#39;t find it, then I use the method getRemoteAddr of the HttpServletRequest class.\r\nAnd I have noticed several things when I log informations in the application:\r\n\r\nFirst:\r\nThe header x-forwarded-for is always null\r\n\r\nSecond:\r\nThe remote address is sometimes the same as the elb ip and sometimes it&#39;s the same as client ip address.\r\nI have noticed that: \r\n\r\n - when the remote address is the same as the client ip address then the request is considered as secured and the scheme is https (method isSecure and getScheme)\r\n - when the remote address is the same as the elb address ip then the request is not considered as secured and the scheme is http (method isSecure and getScheme)\r\n\r\nHere&#39;s the valve configuration in server.xml:\r\n\r\n    &lt;Valve className=&quot;org.apache.catalina.valves.RemoteIpValve&quot; protocolHeader=&quot;X-Forwarded-Proto&quot; internalProxies=&quot;172\\.(1[6-9]|2\\d|3[0-1])\\.\\d{1,3}\\.\\d{1,3}|10\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}|192\\.168\\.\\d{1,3}\\.\\d{1,3}&quot; /&gt;\r\n\r\nHere&#39;s an example of elb address ip: 172.31.xxx.xxx \r\n\r\nI don&#39;t understand:\r\n\r\n - Why the x-forwarded-for header is always null.\r\n - And why some requests are considered as secured and some are not.","title":"Tomcat - RemoteIpValve - x-forwarded-for header is null","body":"<p>I have an application (JVM 1.8.0_31-b13, Spring MVC 4.2.4, Security 4.0.3) deployed on Tomcat 7 (7.0.68) and I'm using an AWS ELB to handle requests from client.\nIn my application, I try to get the client ip address using the X-forwarded-for header. If I don't find it, then I use the method getRemoteAddr of the HttpServletRequest class.\nAnd I have noticed several things when I log informations in the application:</p>\n<p>First:\nThe header x-forwarded-for is always null</p>\n<p>Second:\nThe remote address is sometimes the same as the elb ip and sometimes it's the same as client ip address.\nI have noticed that:</p>\n<ul>\n<li>when the remote address is the same as the client ip address then the request is considered as secured and the scheme is https (method isSecure and getScheme)</li>\n<li>when the remote address is the same as the elb address ip then the request is not considered as secured and the scheme is http (method isSecure and getScheme)</li>\n</ul>\n<p>Here's the valve configuration in server.xml:</p>\n<pre><code>&lt;Valve className=&quot;org.apache.catalina.valves.RemoteIpValve&quot; protocolHeader=&quot;X-Forwarded-Proto&quot; internalProxies=&quot;172\\.(1[6-9]|2\\d|3[0-1])\\.\\d{1,3}\\.\\d{1,3}|10\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}|192\\.168\\.\\d{1,3}\\.\\d{1,3}&quot; /&gt;\n</code></pre>\n<p>Here's an example of elb address ip: 172.31.xxx.xxx</p>\n<p>I don't understand:</p>\n<ul>\n<li>Why the x-forwarded-for header is always null.</li>\n<li>And why some requests are considered as secured and some are not.</li>\n</ul>\n"},{"tags":["java","spring-boot","http","httpresponse","spring-restcontroller"],"comments":[{"owner":{"account_id":28662696,"reputation":15,"user_id":21947320,"display_name":"TesUser476797"},"score":0,"creation_date":1684855194,"post_id":76316096,"comment_id":134576719,"body_markdown":"If anyone has any idea please comment it out","body":"If anyone has any idea please comment it out"}],"answers":[{"comments":[{"owner":{"account_id":28662696,"reputation":15,"user_id":21947320,"display_name":"TesUser476797"},"score":0,"creation_date":1684863202,"post_id":76317029,"comment_id":134578498,"body_markdown":"I&#39;m trying to return my ReportHolder dataobject in Stringified XML format, but my need is to return them as Data Object in the HTTP Response. Will Http Message Converters work?","body":"I&#39;m trying to return my ReportHolder dataobject in Stringified XML format, but my need is to return them as Data Object in the HTTP Response. Will Http Message Converters work?"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1684864027,"post_id":76317029,"comment_id":134578651,"body_markdown":"What is a Data Object here?","body":"What is a Data Object here?"},{"owner":{"account_id":28662696,"reputation":15,"user_id":21947320,"display_name":"TesUser476797"},"score":0,"creation_date":1684868641,"post_id":76317029,"comment_id":134579525,"body_markdown":"I just want to return them (HTTP Response) as a POJO (ReportHolder class with interfaces) instead of stringified XML data. Will it be possible ?","body":"I just want to return them (HTTP Response) as a POJO (ReportHolder class with interfaces) instead of stringified XML data. Will it be possible ?"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1684869240,"post_id":76317029,"comment_id":134579616,"body_markdown":"It is technically possible to serialize them but it causes lots of issues, will break when anyone changes the Java version and potentially can cause security vulnerabilities.","body":"It is technically possible to serialize them but it causes lots of issues, will break when anyone changes the Java version and potentially can cause security vulnerabilities."},{"owner":{"account_id":28662696,"reputation":15,"user_id":21947320,"display_name":"TesUser476797"},"score":0,"creation_date":1684870262,"post_id":76317029,"comment_id":134579802,"body_markdown":"I&#39;m fine with security as we are not handling any sensitive data can you give me some leads on how to serialize","body":"I&#39;m fine with security as we are not handling any sensitive data can you give me some leads on how to serialize"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1684876612,"post_id":76317029,"comment_id":134581045,"body_markdown":"I don&#39;t believe it makes sense to serialize Java objects for this but if you have to do it you should learn about Java serialization first https://data-flair.training/blogs/serialization-and-deserialization-in-java/, https://brightsec.com/blog/deserialization-in-java/, then read a tutorial. About security even if the data is not critical an attacker can get access to any other information of the server or may the server itself.","body":"I don&#39;t believe it makes sense to serialize Java objects for this but if you have to do it you should learn about Java serialization first <a href=\"https://data-flair.training/blogs/serialization-and-deserialization-in-java/\" rel=\"nofollow noreferrer\">data-flair.training/blogs/&hellip;</a>, <a href=\"https://brightsec.com/blog/deserialization-in-java/\" rel=\"nofollow noreferrer\">brightsec.com/blog/deserialization-in-java</a>, then read a tutorial. About security even if the data is not critical an attacker can get access to any other information of the server or may the server itself."}],"tags":[],"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684860493,"creation_date":1684860493,"answer_id":76317029,"question_id":76316096,"body_markdown":"Java objects only exists in the memory. There is no way to transfer them outside the memory over an HTTP request, or any other kind of request. \r\n\r\nWhat you could do is serialize the request in a way that can be understood and parsed from the client to reconstruct a similar object. Traditional Java serialization is very fragile and not really helpful and would be a bad idea for this use case. \r\n\r\nThe traditional way of solving it for REST APIs/HTTP requests this is to translate the Java object into a JSON document. You could use XML or some other standard format if you prefer.","title":"Returning complex data objects from Spring Boot Controllers","body":"<p>Java objects only exists in the memory. There is no way to transfer them outside the memory over an HTTP request, or any other kind of request.</p>\n<p>What you could do is serialize the request in a way that can be understood and parsed from the client to reconstruct a similar object. Traditional Java serialization is very fragile and not really helpful and would be a bad idea for this use case.</p>\n<p>The traditional way of solving it for REST APIs/HTTP requests this is to translate the Java object into a JSON document. You could use XML or some other standard format if you prefer.</p>\n"}],"owner":{"account_id":28662696,"reputation":15,"user_id":21947320,"display_name":"TesUser476797"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684860493,"creation_date":1684853756,"question_id":76316096,"body_markdown":"I&#39;m trying to return a complex data object which has interface aggregated in it as shown below,\r\n\r\n\r\n```\r\npublic class ReportHolder extends AbstractDataObject implements Serializable {\r\n\r\n\tprivate static final long serialVersionUID = 51617699878708757349465L;\r\n\tstatic {\r\n\t\tcom.scmn.gjow.util.XMLConverter.registerDataObjectClass(com.scmn.gjow.dto.ReportHolder.class);\r\n\t}\r\n\r\n\tprivate List productKeys;\r\n\t**private ReportHeader reportHeader;**\r\n\tprivate BlackedOutDestination[] blackedOutDestinations;\r\n\tprivate TabOccurrences tabsOccurrencesData;\r\n\t\r\n\tpublic ReportHolder(ReportHeader reportHeader, List productKeys)\r\n    {\r\n        this.reportHeader = reportHeader;\r\n        this.productKeys = productKeys;\r\n    }\r\n\t\r\n\tpublic ReportHeader getReportHeader()\r\n    {\r\n        return reportHeader;\r\n    }\r\n\r\n\tpublic ReportHolder(List productKeys) {\r\n\t\tthis.productKeys = productKeys;\r\n\t}\r\n\r\n\tpublic List getProductKeys() {\r\n\t\treturn productKeys;\r\n\t}\r\n\r\n\tpublic void setProductKeys(List productKeys) {\r\n\t\tthis.productKeys = productKeys;\r\n\t}\r\n\r\n\tpublic BlackedOutDestination[] getBlackedOutDestinations() {\r\n\t\treturn blackedOutDestinations;\r\n\t}\r\n\r\n\tpublic void setBlackedOutDestinations(BlackedOutDestination[] blackedOutDestinations) {\r\n\t\tthis.blackedOutDestinations = blackedOutDestinations;\r\n\t}\r\n\r\n\tpublic TabOccurrences getTabsOccurrencesData() {\r\n\t\treturn tabsOccurrencesData;\r\n\t}\r\n\r\n\tpublic void setTabsOccurrencesData(TabOccurrences tabsOccurrencesData) {\r\n\t\tthis.tabsOccurrencesData = tabsOccurrencesData;\r\n\t}\r\n}\r\n\r\n```\r\nAnd the Report Header sub class is an interface as below,\r\n\r\n\r\n```\r\n\r\npublic interface ReportHeader extends DataObjectWithChangeLog,Validatable,SensitiveLogSupported, Cloneable\r\n{\r\n   \r\n    public static final String LOA_FIELD                           = &quot;loaExist&quot;;\r\n    public static final String INCIDENT_NUM_FIELD                  = &quot;incidentNum&quot;;\r\n\r\n    void validate(Validator validator);\r\n\r\n    void update(ReportHeader report);\r\n    \r\n    String getSourceText1();\r\n\r\n    void setSourceText1(String sourceText);\r\n\r\n    String getSourceText2();\r\n\r\n    void setSourceText2(String sourceText);\r\n\r\n    T1AIndicator getT1AIndicator();\r\n\r\n    void setT1AIndicator(T1AIndicator indicator);\r\n\r\n    ReportSource getRptSource();\r\n\r\n    void setRptSource(ReportSource rptSource);\r\n   \r\n}\r\n```\r\nWhen I remove the ReportHeader object from this ReportHolder I don&#39;t get any exception. But I need it to be returned from my controller.\r\nWhen I try to return this **Report Holder **object from controller with this Report Header I get \r\nthe below exception:\r\n\r\n\r\n```\r\nFailure while trying to resolve exception [org.springframework.http.converter.HttpMessageNotWritableException]\r\n\r\njava.lang.IllegalStateException: Cannot call sendError() after the response has been committed\r\n\tat org.apache.catalina.connector.ResponseFacade.checkCommitted(ResponseFacade.java:530) ~[tomcat-embed-core-9.0.73.jar:9.0.73]\r\n\tat org.apache.catalina.connector.ResponseFacade.sendError(ResponseFacade.java:363) ~[tomcat-embed-core-9.0.73.jar:9.0.73]\r\n\tat org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver.sendServerError(DefaultHandlerExceptionResolver.java:552) ~[spring-webmvc-5.3.26.jar:5.3.26]\r\n\tat org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver.handleHttpMessageNotWritable(DefaultHandlerExceptionResolver.java:442) ~[spring-webmvc-5.3.26.jar:5.3.26]\r\n\tat org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver.doResolveException(DefaultHandlerExceptionResolver.java:209) ~[spring-webmvc-5.3.26.jar:5.3.26]\r\n\tat org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver.resolveException(AbstractHandlerExceptionResolver.java:142) [spring-webmvc-5.3.26.jar:5.3.26]\r\n\tat org.springframework.web.servlet.handler.HandlerExceptionResolverComposite.resolveException(HandlerExceptionResolverComposite.java:80) [spring-webmvc-5.3.26.jar:5.3.26]\r\n\tat org.springframework.web.servlet.DispatcherServlet.processHandlerException(DispatcherServlet.java:1332) [spring-webmvc-5.3.26.jar:5.3.26]\r\n\tat org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1143) [spring-webmvc-5.3.26.jar:5.3.26]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) [spring-webmvc-5.3.26.jar:5.3.26]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965) [spring-webmvc-5.3.26.jar:5.3.26]\r\n```\r\n\r\n\r\nDo I need to add HttpMessageConverters or is there any way to return this kind of Data Object.\r\nHow to resolve this exception.","title":"Returning complex data objects from Spring Boot Controllers","body":"<p>I'm trying to return a complex data object which has interface aggregated in it as shown below,</p>\n<pre><code>public class ReportHolder extends AbstractDataObject implements Serializable {\n\n    private static final long serialVersionUID = 51617699878708757349465L;\n    static {\n        com.scmn.gjow.util.XMLConverter.registerDataObjectClass(com.scmn.gjow.dto.ReportHolder.class);\n    }\n\n    private List productKeys;\n    **private ReportHeader reportHeader;**\n    private BlackedOutDestination[] blackedOutDestinations;\n    private TabOccurrences tabsOccurrencesData;\n    \n    public ReportHolder(ReportHeader reportHeader, List productKeys)\n    {\n        this.reportHeader = reportHeader;\n        this.productKeys = productKeys;\n    }\n    \n    public ReportHeader getReportHeader()\n    {\n        return reportHeader;\n    }\n\n    public ReportHolder(List productKeys) {\n        this.productKeys = productKeys;\n    }\n\n    public List getProductKeys() {\n        return productKeys;\n    }\n\n    public void setProductKeys(List productKeys) {\n        this.productKeys = productKeys;\n    }\n\n    public BlackedOutDestination[] getBlackedOutDestinations() {\n        return blackedOutDestinations;\n    }\n\n    public void setBlackedOutDestinations(BlackedOutDestination[] blackedOutDestinations) {\n        this.blackedOutDestinations = blackedOutDestinations;\n    }\n\n    public TabOccurrences getTabsOccurrencesData() {\n        return tabsOccurrencesData;\n    }\n\n    public void setTabsOccurrencesData(TabOccurrences tabsOccurrencesData) {\n        this.tabsOccurrencesData = tabsOccurrencesData;\n    }\n}\n\n</code></pre>\n<p>And the Report Header sub class is an interface as below,</p>\n<pre><code>\npublic interface ReportHeader extends DataObjectWithChangeLog,Validatable,SensitiveLogSupported, Cloneable\n{\n   \n    public static final String LOA_FIELD                           = &quot;loaExist&quot;;\n    public static final String INCIDENT_NUM_FIELD                  = &quot;incidentNum&quot;;\n\n    void validate(Validator validator);\n\n    void update(ReportHeader report);\n    \n    String getSourceText1();\n\n    void setSourceText1(String sourceText);\n\n    String getSourceText2();\n\n    void setSourceText2(String sourceText);\n\n    T1AIndicator getT1AIndicator();\n\n    void setT1AIndicator(T1AIndicator indicator);\n\n    ReportSource getRptSource();\n\n    void setRptSource(ReportSource rptSource);\n   \n}\n</code></pre>\n<p>When I remove the ReportHeader object from this ReportHolder I don't get any exception. But I need it to be returned from my controller.\nWhen I try to return this **Report Holder **object from controller with this Report Header I get\nthe below exception:</p>\n<pre><code>Failure while trying to resolve exception [org.springframework.http.converter.HttpMessageNotWritableException]\n\njava.lang.IllegalStateException: Cannot call sendError() after the response has been committed\n    at org.apache.catalina.connector.ResponseFacade.checkCommitted(ResponseFacade.java:530) ~[tomcat-embed-core-9.0.73.jar:9.0.73]\n    at org.apache.catalina.connector.ResponseFacade.sendError(ResponseFacade.java:363) ~[tomcat-embed-core-9.0.73.jar:9.0.73]\n    at org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver.sendServerError(DefaultHandlerExceptionResolver.java:552) ~[spring-webmvc-5.3.26.jar:5.3.26]\n    at org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver.handleHttpMessageNotWritable(DefaultHandlerExceptionResolver.java:442) ~[spring-webmvc-5.3.26.jar:5.3.26]\n    at org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver.doResolveException(DefaultHandlerExceptionResolver.java:209) ~[spring-webmvc-5.3.26.jar:5.3.26]\n    at org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver.resolveException(AbstractHandlerExceptionResolver.java:142) [spring-webmvc-5.3.26.jar:5.3.26]\n    at org.springframework.web.servlet.handler.HandlerExceptionResolverComposite.resolveException(HandlerExceptionResolverComposite.java:80) [spring-webmvc-5.3.26.jar:5.3.26]\n    at org.springframework.web.servlet.DispatcherServlet.processHandlerException(DispatcherServlet.java:1332) [spring-webmvc-5.3.26.jar:5.3.26]\n    at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1143) [spring-webmvc-5.3.26.jar:5.3.26]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) [spring-webmvc-5.3.26.jar:5.3.26]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965) [spring-webmvc-5.3.26.jar:5.3.26]\n</code></pre>\n<p>Do I need to add HttpMessageConverters or is there any way to return this kind of Data Object.\nHow to resolve this exception.</p>\n"},{"tags":["java","spring-boot","apache-spark"],"owner":{"account_id":25926402,"reputation":55,"user_id":19648218,"display_name":"Kiolimandars"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":207,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684860325,"creation_date":1684860325,"question_id":76317013,"body_markdown":"I am encountering the following error when I try to read a csv file with spark in my springboot app: `java.lang.reflect.InaccessibleObjectException: Unable to make field private transient java.lang.String java.net.URI.scheme accessible: module java.base does not &quot;opens java.net&quot; to unnamed module @7d3a22a9`\r\n\r\nThis is the code I am trying to run\r\n\r\n```\r\nDataset&lt;Row&gt; csvDatas = spark.read()\r\n                                .format(&quot;csv&quot;)\r\n                                .option(&quot;header&quot;, &quot;true&quot;) // Assuming the CSV file has a header\r\n                                .load(filePath);\r\n\r\n                        // Show the DataFrame\r\n                        csvDatas.show();\r\n```\r\n\r\nthis is my pom.xml file:\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.5&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;dbtest&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;dbtest&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!--&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.annotation&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.3.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;--&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;!--&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;--&gt;\r\n\t\t\t\t&lt;!-- Add more exclusions if needed --&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.codehaus.janino&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-compiler&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.8&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.codehaus.janino&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;janino&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.8&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spark-core_2.11&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.4.6&lt;/version&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;log4j&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.codehaus.janino&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;commons-compiler&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.codehaus.janino&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;janino&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.ws.rs-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hadoop-client&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.3.3&lt;/version&gt;\r\n\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.antlr&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;antlr4-runtime&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hadoop-yarn-client&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.3.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spark-sql_2.11&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.4.6&lt;/version&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;log4j&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.codehaus.janino&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;commons-compiler&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.codehaus.janino&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;janino&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;7.0.2.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spark-streaming_2.12&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.4.6&lt;/version&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;slf4j-reload4j&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.7.32&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.antlr&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;antlr4&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.7&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.antlr&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;antlr4-runtime&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.7&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.pdfbox&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;pdfbox&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.26&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2.6&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jersey-container-servlet-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.34&lt;/version&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;argLine&gt;\r\n\t\t\t\t\t\t--add-opens=java.base/java.net=ALL-UNNAMED\r\n\t\t\t\t\t\t--add-opens=java.base/java.lang.ref=ALL-UNNAMED\r\n\t\t\t\t\t\t--add-opens=java.base/java.lang=ALL-UNNAMED\r\n\t\t\t\t\t\t--add-opens=java.base/java.security=ALL-UNNAMED\r\n\t\t\t\t\t\t--add-opens=java.base/java.util=ALL-UNNAMED\r\n\t\t\t\t\t\t--add-opens=java.desktop/javax.swing.plaf.basic=ALL-UNNAMED\r\n\t\t\t\t\t\t--add-opens=java.desktop/javax.swing.text=ALL-UNNAMED\r\n\t\t\t\t\t\t--add-opens=java.desktop/javax.swing=ALL-UNNAMED\r\n\t\t\t\t\t\t--add-opens=java.desktop/java.awt=ALL-UNNAMED\r\n\t\t\t\t\t\t--add-opens=java.desktop/java.awt.event=ALL-UNNAMED\r\n\t\t\t\t\t\t--add-opens=java.prefs/java.util.prefs=ALL-UNNAMED\r\n\t\t\t\t\t\t--add-opens=jdk.jshell/jdk.jshell=ALL-UNNAMED\r\n\t\t\t\t\t\t--add-modules=jdk.jshell\r\n\t\t\t\t\t\t--add-exports=java.desktop/sun.awt=ALL-UNNAMED\r\n\t\t\t\t\t\t--add-exports=java.desktop/java.awt.peer=ALL-UNNAMED\r\n\t\t\t\t\t\t--add-exports=java.desktop/com.sun.beans.editors=ALL-UNNAMED\r\n\t\t\t\t\t\t--add-exports=java.desktop/sun.swing=ALL-UNNAMED\r\n\t\t\t\t\t\t--add-exports=java.desktop/sun.awt.im=ALL-UNNAMED\r\n\t\t\t\t\t\t--add-exports=java.desktop/com.sun.java.swing.plaf.motif=ALL-UNNAMED\r\n\t\t\t\t\t\t--add-exports=jdk.internal.jvmstat/sun.jvmstat.monitor=ALL-UNNAMED\r\n\t\t\t\t\t\t--add-exports=java.management/sun.management=ALL-UNNAMED\r\n\t\t\t\t\t\t--add-exports=java.base/sun.reflect.annotation=ALL-UNNAMED\r\n\t\t\t\t\t\t--add-exports=jdk.compiler/com.sun.tools.javac.api=ALL-UNNAMED\r\n\t\t\t\t\t\t--add-exports=jdk.compiler/com.sun.tools.javac.code=ALL-UNNAMED\r\n\t\t\t\t\t\t--add-exports=jdk.compiler/com.sun.tools.javac.comp=ALL-UNNAMED\r\n\t\t\t\t\t\t--add-exports=jdk.compiler/com.sun.tools.javac.file=ALL-UNNAMED\r\n\t\t\t\t\t\t--add-exports=jdk.compiler/com.sun.tools.javac.jvm=ALL-UNNAMED\r\n\t\t\t\t\t\t--add-exports=jdk.compiler/com.sun.tools.javac.main=ALL-UNNAMED\r\n\t\t\t\t\t\t--add-exports=jdk.compiler/com.sun.tools.javac.model=ALL-UNNAMED\r\n\t\t\t\t\t\t--add-exports=jdk.compiler/com.sun.tools.javac.parser=ALL-UNNAMED\r\n\t\t\t\t\t\t--add-exports=jdk.compiler/com.sun.tools.javac.processing=ALL-UNNAMED\r\n\t\t\t\t\t\t--add-exports=jdk.compiler/com.sun.tools.javac.tree=ALL-UNNAMED\r\n\t\t\t\t\t\t--add-exports=jdk.compiler/com.sun.tools.javac.util=ALL-UNNAMED\r\n\t\t\t\t\t\t--add-opens=jdk.compiler/com.sun.tools.javac.api=ALL-UNNAMED\r\n\t\t\t\t\t\t--add-opens=jdk.compiler/com.sun.tools.javac.code=ALL-UNNAMED\r\n\t\t\t\t\t\t--add-opens=jdk.compiler/com.sun.tools.javac.comp=ALL-UNNAMED\r\n\t\t\t\t\t\t--add-opens=jdk.compiler/com.sun.tools.javac.file=ALL-UNNAMED\r\n\t\t\t\t\t\t--add-opens=jdk.compiler/com.sun.tools.javac.jvm=ALL-UNNAMED\r\n\t\t\t\t\t\t--add-opens=jdk.compiler/com.sun.tools.javac.main=ALL-UNNAMED\r\n\t\t\t\t\t\t--add-opens=jdk.compiler/com.sun.tools.javac.model=ALL-UNNAMED\r\n\t\t\t\t\t\t--add-opens=jdk.compiler/com.sun.tools.javac.parser=ALL-UNNAMED\r\n\t\t\t\t\t\t--add-opens=jdk.compiler/com.sun.tools.javac.processing=ALL-UNNAMED\r\n\t\t\t\t\t\t--add-opens=jdk.compiler/com.sun.tools.javac.tree=ALL-UNNAMED\r\n\t\t\t\t\t\t--add-opens=jdk.compiler/com.sun.tools.javac.util=ALL-UNNAMED\r\n\t\t\t\t\t\t--add-exports=jdk.jdeps/com.sun.tools.classfile=ALL-UNNAMED\r\n\t\t\t\t\t\t--add-exports=jdk.jdeps/com.sun.tools.javap=ALL-UNNAMED\r\n\t\t\t\t\t\t--add-opens=java.desktop/sun.awt.X11=ALL-UNNAMED\r\n\t\t\t\t\t\t--add-opens=java.desktop/javax.swing.plaf.synth=ALL-UNNAMED\r\n\t\t\t\t\t\t--add-opens=java.desktop/com.sun.java.swing.plaf.gtk=ALL-UNNAMED\r\n\t\t\t\t\t\t--add-opens=java.desktop/sun.awt.shell=ALL-UNNAMED\r\n\t\t\t\t\t\t--add-opens=java.desktop/sun.awt.im=ALL-UNNAMED\r\n\t\t\t\t\t\t--add-opens=java.base/java.nio=ALL-UNNAMED\r\n\t\t\t\t\t&lt;/argLine&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n\r\nAs you see in the pom.xml file I tried to make java version and spark versions compatible and I tried adding plugins to solv the issue but it didn&#39;t work","title":"java.lang.reflect.InaccessibleObjectException error when trying to read a csv file with spark in springboot","body":"<p>I am encountering the following error when I try to read a csv file with spark in my springboot app: <code>java.lang.reflect.InaccessibleObjectException: Unable to make field private transient java.lang.String java.net.URI.scheme accessible: module java.base does not &quot;opens java.net&quot; to unnamed module @7d3a22a9</code></p>\n<p>This is the code I am trying to run</p>\n<pre><code>Dataset&lt;Row&gt; csvDatas = spark.read()\n                                .format(&quot;csv&quot;)\n                                .option(&quot;header&quot;, &quot;true&quot;) // Assuming the CSV file has a header\n                                .load(filePath);\n\n                        // Show the DataFrame\n                        csvDatas.show();\n</code></pre>\n<p>this is my pom.xml file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.5&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;dbtest&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;dbtest&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!--&lt;dependency&gt;\n            &lt;groupId&gt;javax.annotation&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\n            &lt;version&gt;1.3.2&lt;/version&gt;\n        &lt;/dependency&gt;--&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n\n            &lt;exclusions&gt;\n                &lt;!--&lt;exclusion&gt;\n                    &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\n                    &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\n                &lt;/exclusion&gt;--&gt;\n                &lt;!-- Add more exclusions if needed --&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.codehaus.janino&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-compiler&lt;/artifactId&gt;\n            &lt;version&gt;3.0.8&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.codehaus.janino&lt;/groupId&gt;\n            &lt;artifactId&gt;janino&lt;/artifactId&gt;\n            &lt;version&gt;3.0.8&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n            &lt;artifactId&gt;spark-core_2.11&lt;/artifactId&gt;\n            &lt;version&gt;2.4.6&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n                    &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;log4j&lt;/groupId&gt;\n                    &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.codehaus.janino&lt;/groupId&gt;\n                    &lt;artifactId&gt;commons-compiler&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.codehaus.janino&lt;/groupId&gt;\n                    &lt;artifactId&gt;janino&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.ws.rs-api&lt;/artifactId&gt;\n            &lt;version&gt;2.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n            &lt;artifactId&gt;hadoop-client&lt;/artifactId&gt;\n            &lt;version&gt;3.3.3&lt;/version&gt;\n\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.antlr&lt;/groupId&gt;\n                    &lt;artifactId&gt;antlr4-runtime&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n            &lt;artifactId&gt;hadoop-yarn-client&lt;/artifactId&gt;\n            &lt;version&gt;3.3.3&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n            &lt;artifactId&gt;spark-sql_2.11&lt;/artifactId&gt;\n            &lt;version&gt;2.4.6&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n                    &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;log4j&lt;/groupId&gt;\n                    &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.codehaus.janino&lt;/groupId&gt;\n                    &lt;artifactId&gt;commons-compiler&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.codehaus.janino&lt;/groupId&gt;\n                    &lt;artifactId&gt;janino&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n            &lt;version&gt;7.0.2.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n            &lt;artifactId&gt;spark-streaming_2.12&lt;/artifactId&gt;\n            &lt;version&gt;2.4.6&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n                    &lt;artifactId&gt;slf4j-reload4j&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n            &lt;version&gt;1.7.32&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.antlr&lt;/groupId&gt;\n            &lt;artifactId&gt;antlr4&lt;/artifactId&gt;\n            &lt;version&gt;4.7&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.antlr&lt;/groupId&gt;\n            &lt;artifactId&gt;antlr4-runtime&lt;/artifactId&gt;\n            &lt;version&gt;4.7&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.pdfbox&lt;/groupId&gt;\n            &lt;artifactId&gt;pdfbox&lt;/artifactId&gt;\n            &lt;version&gt;2.0.26&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n            &lt;version&gt;1.2.6&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-container-servlet-core&lt;/artifactId&gt;\n            &lt;version&gt;2.34&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n                    &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n\n    &lt;/dependencies&gt;\n\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;argLine&gt;\n                        --add-opens=java.base/java.net=ALL-UNNAMED\n                        --add-opens=java.base/java.lang.ref=ALL-UNNAMED\n                        --add-opens=java.base/java.lang=ALL-UNNAMED\n                        --add-opens=java.base/java.security=ALL-UNNAMED\n                        --add-opens=java.base/java.util=ALL-UNNAMED\n                        --add-opens=java.desktop/javax.swing.plaf.basic=ALL-UNNAMED\n                        --add-opens=java.desktop/javax.swing.text=ALL-UNNAMED\n                        --add-opens=java.desktop/javax.swing=ALL-UNNAMED\n                        --add-opens=java.desktop/java.awt=ALL-UNNAMED\n                        --add-opens=java.desktop/java.awt.event=ALL-UNNAMED\n                        --add-opens=java.prefs/java.util.prefs=ALL-UNNAMED\n                        --add-opens=jdk.jshell/jdk.jshell=ALL-UNNAMED\n                        --add-modules=jdk.jshell\n                        --add-exports=java.desktop/sun.awt=ALL-UNNAMED\n                        --add-exports=java.desktop/java.awt.peer=ALL-UNNAMED\n                        --add-exports=java.desktop/com.sun.beans.editors=ALL-UNNAMED\n                        --add-exports=java.desktop/sun.swing=ALL-UNNAMED\n                        --add-exports=java.desktop/sun.awt.im=ALL-UNNAMED\n                        --add-exports=java.desktop/com.sun.java.swing.plaf.motif=ALL-UNNAMED\n                        --add-exports=jdk.internal.jvmstat/sun.jvmstat.monitor=ALL-UNNAMED\n                        --add-exports=java.management/sun.management=ALL-UNNAMED\n                        --add-exports=java.base/sun.reflect.annotation=ALL-UNNAMED\n                        --add-exports=jdk.compiler/com.sun.tools.javac.api=ALL-UNNAMED\n                        --add-exports=jdk.compiler/com.sun.tools.javac.code=ALL-UNNAMED\n                        --add-exports=jdk.compiler/com.sun.tools.javac.comp=ALL-UNNAMED\n                        --add-exports=jdk.compiler/com.sun.tools.javac.file=ALL-UNNAMED\n                        --add-exports=jdk.compiler/com.sun.tools.javac.jvm=ALL-UNNAMED\n                        --add-exports=jdk.compiler/com.sun.tools.javac.main=ALL-UNNAMED\n                        --add-exports=jdk.compiler/com.sun.tools.javac.model=ALL-UNNAMED\n                        --add-exports=jdk.compiler/com.sun.tools.javac.parser=ALL-UNNAMED\n                        --add-exports=jdk.compiler/com.sun.tools.javac.processing=ALL-UNNAMED\n                        --add-exports=jdk.compiler/com.sun.tools.javac.tree=ALL-UNNAMED\n                        --add-exports=jdk.compiler/com.sun.tools.javac.util=ALL-UNNAMED\n                        --add-opens=jdk.compiler/com.sun.tools.javac.api=ALL-UNNAMED\n                        --add-opens=jdk.compiler/com.sun.tools.javac.code=ALL-UNNAMED\n                        --add-opens=jdk.compiler/com.sun.tools.javac.comp=ALL-UNNAMED\n                        --add-opens=jdk.compiler/com.sun.tools.javac.file=ALL-UNNAMED\n                        --add-opens=jdk.compiler/com.sun.tools.javac.jvm=ALL-UNNAMED\n                        --add-opens=jdk.compiler/com.sun.tools.javac.main=ALL-UNNAMED\n                        --add-opens=jdk.compiler/com.sun.tools.javac.model=ALL-UNNAMED\n                        --add-opens=jdk.compiler/com.sun.tools.javac.parser=ALL-UNNAMED\n                        --add-opens=jdk.compiler/com.sun.tools.javac.processing=ALL-UNNAMED\n                        --add-opens=jdk.compiler/com.sun.tools.javac.tree=ALL-UNNAMED\n                        --add-opens=jdk.compiler/com.sun.tools.javac.util=ALL-UNNAMED\n                        --add-exports=jdk.jdeps/com.sun.tools.classfile=ALL-UNNAMED\n                        --add-exports=jdk.jdeps/com.sun.tools.javap=ALL-UNNAMED\n                        --add-opens=java.desktop/sun.awt.X11=ALL-UNNAMED\n                        --add-opens=java.desktop/javax.swing.plaf.synth=ALL-UNNAMED\n                        --add-opens=java.desktop/com.sun.java.swing.plaf.gtk=ALL-UNNAMED\n                        --add-opens=java.desktop/sun.awt.shell=ALL-UNNAMED\n                        --add-opens=java.desktop/sun.awt.im=ALL-UNNAMED\n                        --add-opens=java.base/java.nio=ALL-UNNAMED\n                    &lt;/argLine&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>As you see in the pom.xml file I tried to make java version and spark versions compatible and I tried adding plugins to solv the issue but it didn't work</p>\n"},{"tags":["java","spring-mvc","spring-boot","swagger","springfox"],"answers":[{"tags":[],"owner":{"account_id":345047,"reputation":10337,"user_id":677735,"display_name":"William Cheng"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1489582417,"creation_date":1453709440,"answer_id":34987818,"question_id":34984820,"body_markdown":"You can try &quot;HTML&quot; or &quot;Dynamic HTML&quot; under the &quot;Generate Client&quot; menu in https://editor.swagger.io. For any issue/feedback with the static doc, please report in the [Swagger Codegen](https://github.com/swagger-api/swagger-codegen/) Github repo.\r\n\r\neditor.swagger.io leverages https://generator.swagger.io to generate code and generator.swagger.io (Swagger Generator) is part of the Swagger Codegen project.","title":"How to generate offline Swagger API docs?","body":"<p>You can try \"HTML\" or \"Dynamic HTML\" under the \"Generate Client\" menu in <a href=\"https://editor.swagger.io\" rel=\"nofollow noreferrer\">https://editor.swagger.io</a>. For any issue/feedback with the static doc, please report in the <a href=\"https://github.com/swagger-api/swagger-codegen/\" rel=\"nofollow noreferrer\">Swagger Codegen</a> Github repo.</p>\n\n<p>editor.swagger.io leverages <a href=\"https://generator.swagger.io\" rel=\"nofollow noreferrer\">https://generator.swagger.io</a> to generate code and generator.swagger.io (Swagger Generator) is part of the Swagger Codegen project.</p>\n"},{"comments":[{"owner":{"account_id":375342,"reputation":879,"user_id":726113,"display_name":"Pavlonator"},"score":0,"creation_date":1612202523,"post_id":34993377,"comment_id":116687664,"body_markdown":"neither of those two options help with original case when contracts are defined and need to generate swagger yml or swagger.html","body":"neither of those two options help with original case when contracts are defined and need to generate swagger yml or swagger.html"}],"tags":[],"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"comment_count":1,"down_vote_count":1,"up_vote_count":10,"is_accepted":true,"score":9,"last_activity_date":1453727141,"creation_date":1453727141,"answer_id":34993377,"question_id":34984820,"body_markdown":"Springfox allows you to easily create a Swagger tester/API docs based on your Spring annotations.\r\n\r\nSwagger itself has some tools to allow you to generate offline/static documentation:\r\n\r\n- The [Swagger Editor][1] has several ways of generating documentation listed in the **Generate Client** menu\r\n- The [Swagger Codegen][2] module allows you to generate a static and dynamic HTML document\r\n\r\nBoth of them require a Swagger YAML or JSON file. In case you don&#39;t have a Swagger definition in YAML/JSON because you&#39;re using Springfox, you can use the generated file used for Swagger UI (`/v2/api-docs?group=&lt;group name&gt;`).\r\n\r\n\r\n  [1]: http://editor.swagger.io/#/\r\n  [2]: https://github.com/swagger-api/swagger-codegen#generating-dynamic-html-api-documentation","title":"How to generate offline Swagger API docs?","body":"<p>Springfox allows you to easily create a Swagger tester/API docs based on your Spring annotations.</p>\n\n<p>Swagger itself has some tools to allow you to generate offline/static documentation:</p>\n\n<ul>\n<li>The <a href=\"http://editor.swagger.io/#/\" rel=\"noreferrer\">Swagger Editor</a> has several ways of generating documentation listed in the <strong>Generate Client</strong> menu</li>\n<li>The <a href=\"https://github.com/swagger-api/swagger-codegen#generating-dynamic-html-api-documentation\" rel=\"noreferrer\">Swagger Codegen</a> module allows you to generate a static and dynamic HTML document</li>\n</ul>\n\n<p>Both of them require a Swagger YAML or JSON file. In case you don't have a Swagger definition in YAML/JSON because you're using Springfox, you can use the generated file used for Swagger UI (<code>/v2/api-docs?group=&lt;group name&gt;</code>).</p>\n"},{"tags":[],"owner":{"account_id":5584988,"reputation":1615,"user_id":4425676,"accept_rate":29,"display_name":"Jerrod Horton"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1453762933,"creation_date":1453762933,"answer_id":35004134,"question_id":34984820,"body_markdown":"You might take a look at https://www.DynamicApis.com.  You can create an API portal and upload your swagger JSON documents.  This site takes the Swagger document and generates a much nicer user interface for your API along with some pretty cool tooling.\r\n\r\n[Here][1] is an example of a portal API that has documentation on one of their APIs.\r\n\r\n\r\n  [1]: https://www.dynamicapis.com/dapi/apis/0b971e55-c61f-4428-a65f-ca905bd52762","title":"How to generate offline Swagger API docs?","body":"<p>You might take a look at <a href=\"https://www.DynamicApis.com\" rel=\"nofollow\">https://www.DynamicApis.com</a>.  You can create an API portal and upload your swagger JSON documents.  This site takes the Swagger document and generates a much nicer user interface for your API along with some pretty cool tooling.</p>\n\n<p><a href=\"https://www.dynamicapis.com/dapi/apis/0b971e55-c61f-4428-a65f-ca905bd52762\" rel=\"nofollow\">Here</a> is an example of a portal API that has documentation on one of their APIs.</p>\n"},{"tags":[],"owner":{"account_id":6233895,"reputation":1955,"user_id":4849766,"display_name":"Sahar Menashe"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1453834248,"creation_date":1453833930,"answer_id":35021432,"question_id":34984820,"body_markdown":"Swagger has tool for generating offline docs.\r\n\r\nThe tool is &quot;[Swagger2Markup][1]&quot; which is located @ Github.\r\n\r\n\r\nThe output of &quot;Swagger2Markup&quot; can be used as an alternative to swagger-ui and can be served as static content.\r\n\r\n\r\n\r\n[Here is an Example][2]\r\n\r\nGood luck! :)\r\n\r\n\r\n  [1]: https://github.com/Swagger2Markup/swagger2markup\r\n  [2]: https://i.stack.imgur.com/02lc5.jpg","title":"How to generate offline Swagger API docs?","body":"<p>Swagger has tool for generating offline docs.</p>\n\n<p>The tool is \"<a href=\"https://github.com/Swagger2Markup/swagger2markup\" rel=\"noreferrer\">Swagger2Markup</a>\" which is located @ Github.</p>\n\n<p>The output of \"Swagger2Markup\" can be used as an alternative to swagger-ui and can be served as static content.</p>\n\n<p><a href=\"https://i.stack.imgur.com/02lc5.jpg\" rel=\"noreferrer\">Here is an Example</a></p>\n\n<p>Good luck! :)</p>\n"},{"tags":[],"owner":{"account_id":6666991,"reputation":71,"user_id":5144371,"display_name":"Tobi"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1490547992,"creation_date":1490547992,"answer_id":43031853,"question_id":34984820,"body_markdown":"Pretty-swag is a UI for Swagger Specification V2 capable of generating static HTML an other formats. It is inspired by Swagger Editor.\r\n\r\ncheckout https://github.com/twskj/pretty-swag","title":"How to generate offline Swagger API docs?","body":"<p>Pretty-swag is a UI for Swagger Specification V2 capable of generating static HTML an other formats. It is inspired by Swagger Editor.</p>\n\n<p>checkout <a href=\"https://github.com/twskj/pretty-swag\" rel=\"nofollow noreferrer\">https://github.com/twskj/pretty-swag</a></p>\n"},{"tags":[],"owner":{"account_id":14095827,"reputation":65,"user_id":10182640,"display_name":"Goutham "},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1548067628,"creation_date":1548067628,"answer_id":54288277,"question_id":34984820,"body_markdown":"Open the live swagger HTML. click on expanding all the operations. Then save the HTML as PDF.\r\n\r\nThis should give you a decent PDF API documentation with all the details in it.\r\n\r\n","title":"How to generate offline Swagger API docs?","body":"<p>Open the live swagger HTML. click on expanding all the operations. Then save the HTML as PDF.</p>\n\n<p>This should give you a decent PDF API documentation with all the details in it.</p>\n"}],"owner":{"account_id":1568778,"reputation":5404,"user_id":1456962,"accept_rate":73,"display_name":"code"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41401,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":34993377,"answer_count":6,"score":18,"last_activity_date":1684860100,"creation_date":1453694116,"question_id":34984820,"body_markdown":"I have a spring boot MVC java Web app. I&#39;ve been able to integrate Springfox for API documentation. I can visually see all of the APIs when server is up and running. \n\nHow can I generate OFFLINE swagger API documentation? Note: I would not like to use asciidoc or markdown documentation, but I&#39;d like the same swagger API user interface in html files. I&#39;d like so that the links are relative to local directory instead of local host server links. Thanks","title":"How to generate offline Swagger API docs?","body":"<p>I have a spring boot MVC java Web app. I've been able to integrate Springfox for API documentation. I can visually see all of the APIs when server is up and running. </p>\n\n<p>How can I generate OFFLINE swagger API documentation? Note: I would not like to use asciidoc or markdown documentation, but I'd like the same swagger API user interface in html files. I'd like so that the links are relative to local directory instead of local host server links. Thanks</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9809,"page":416,"page_size":100}
