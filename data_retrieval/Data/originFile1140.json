{"items":[{"tags":["java","lambda","sonarlint","anonymous-inner-class"],"answers":[{"tags":[],"owner":{"account_id":2016713,"reputation":26480,"user_id":1803853,"accept_rate":71,"display_name":"Davide Lorenzo MARINO"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659438435,"creation_date":1659436817,"answer_id":73206133,"question_id":73206047,"body_markdown":"An anonymous inner class having just a single method can be converted in a lambda expression.\r\n\r\nIn particular this code:\r\n\r\n    return new KeyGenerator() {\r\n        @Override\r\n        public Object generate(Object object, Method method, Object... objects) {\r\n        String username = null;\r\n        try {\r\n            username = objectStorageService.getAuthDetail().getUsername();\r\n            StringBuilder customisedkey = generateKey(object, method, objects);\r\n            customisedkey.append(username);\r\n            return customisedkey.toString();\r\n        } catch (BaseException e) {\r\n           LOGGER.error(&quot;Operation failed while generating Key&quot;, e);\r\n           return null;\r\n        }\r\n    }\r\n    };\r\n\r\nis equivalent to:\r\n\r\n    return (object, method, objects) -&gt; {\r\n        String username = null;\r\n        try {\r\n            username = objectStorageService.getAuthDetail().getUsername();\r\n            StringBuilder customisedkey = generateKey(object, method, objects);\r\n            customisedkey.append(username);\r\n            return customisedkey.toString();\r\n        } catch (BaseException e) {\r\n           LOGGER.error(&quot;Operation failed while generating Key&quot;, e);\r\n           return null;\r\n        }\r\n    };\r\n\r\nMore in general a code similar to this one:\r\n\r\n    new MyClass() {\r\n       public ReturnType myUniqueMethod(ParameterType p) {\r\n           // body\r\n       }\r\n    }\r\n\r\ncan be replaced with\r\n\r\n    (p) -&gt; {\r\n       // body\r\n    }\r\n\r\nThis operation can be generally executed automatically by modern IDE with a refactoring operation.","title":"What is the right lambda for this inner class.SonarLint suggest me to &quot;Make this anonymous inner class a lambda&quot;","body":"<p>An anonymous inner class having just a single method can be converted in a lambda expression.</p>\n<p>In particular this code:</p>\n<pre><code>return new KeyGenerator() {\n    @Override\n    public Object generate(Object object, Method method, Object... objects) {\n    String username = null;\n    try {\n        username = objectStorageService.getAuthDetail().getUsername();\n        StringBuilder customisedkey = generateKey(object, method, objects);\n        customisedkey.append(username);\n        return customisedkey.toString();\n    } catch (BaseException e) {\n       LOGGER.error(&quot;Operation failed while generating Key&quot;, e);\n       return null;\n    }\n}\n};\n</code></pre>\n<p>is equivalent to:</p>\n<pre><code>return (object, method, objects) -&gt; {\n    String username = null;\n    try {\n        username = objectStorageService.getAuthDetail().getUsername();\n        StringBuilder customisedkey = generateKey(object, method, objects);\n        customisedkey.append(username);\n        return customisedkey.toString();\n    } catch (BaseException e) {\n       LOGGER.error(&quot;Operation failed while generating Key&quot;, e);\n       return null;\n    }\n};\n</code></pre>\n<p>More in general a code similar to this one:</p>\n<pre><code>new MyClass() {\n   public ReturnType myUniqueMethod(ParameterType p) {\n       // body\n   }\n}\n</code></pre>\n<p>can be replaced with</p>\n<pre><code>(p) -&gt; {\n   // body\n}\n</code></pre>\n<p>This operation can be generally executed automatically by modern IDE with a refactoring operation.</p>\n"}],"owner":{"account_id":25956326,"reputation":13,"user_id":19673627,"display_name":"Akash Yadav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73206133,"answer_count":1,"score":1,"last_activity_date":1659438435,"creation_date":1659436396,"question_id":73206047,"body_markdown":"    return new KeyGenerator() {\r\n        @Override\r\n\t    public Object generate(Object object, Method method, Object... objects) {\r\n        String username = null;\r\n\t    try {\r\n\t        username = objectStorageService.getAuthDetail().getUsername();\r\n\t        StringBuilder customisedkey = generateKey(object, method, objects);\r\n\t        customisedkey.append(username);\r\n\t        return customisedkey.toString();\r\n\t    } catch (BaseException e) {\r\n           LOGGER.error(&quot;Operation failed while generating Key&quot;, e);\r\n\t       return null;\r\n\t    }\r\n\t}\r\n    };\r\n\r\nSonarLint suggest me to &quot;Make this anonymous inner class a lambda&quot;. \r\nbut wasn&#39;t able to find a solution for this specific case","title":"What is the right lambda for this inner class.SonarLint suggest me to &quot;Make this anonymous inner class a lambda&quot;","body":"<pre><code>return new KeyGenerator() {\n    @Override\n    public Object generate(Object object, Method method, Object... objects) {\n    String username = null;\n    try {\n        username = objectStorageService.getAuthDetail().getUsername();\n        StringBuilder customisedkey = generateKey(object, method, objects);\n        customisedkey.append(username);\n        return customisedkey.toString();\n    } catch (BaseException e) {\n       LOGGER.error(&quot;Operation failed while generating Key&quot;, e);\n       return null;\n    }\n}\n};\n</code></pre>\n<p>SonarLint suggest me to &quot;Make this anonymous inner class a lambda&quot;.\nbut wasn't able to find a solution for this specific case</p>\n"},{"tags":["java","jdbc","db2"],"answers":[{"tags":[],"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1388841768,"creation_date":1388833549,"answer_id":20920135,"question_id":20919298,"body_markdown":"The error [SQLERROR -204, SQLSTATE 42704][1] is a missing/unknown objectname and it is most likely caused by a missing space in:\r\n\r\n    rs = stmt.executeQuery(&quot;select *from TestTable&quot;);\r\n\r\nWhich should be:\r\n\r\n    rs = stmt.executeQuery(&quot;select * from TestTable&quot;);\r\n\r\n\r\n  [1]: http://www.sqlerror.de/db2_sql_error_-204_sqlstate_42704.html","title":"DB2 SQL Error: SQLCODE=-204, SQLSTATE=42704","body":"<p>The error <a href=\"http://www.sqlerror.de/db2_sql_error_-204_sqlstate_42704.html\" rel=\"nofollow\">SQLERROR -204, SQLSTATE 42704</a> is a missing/unknown objectname and it is most likely caused by a missing space in:</p>\n\n<pre><code>rs = stmt.executeQuery(\"select *from TestTable\");\n</code></pre>\n\n<p>Which should be:</p>\n\n<pre><code>rs = stmt.executeQuery(\"select * from TestTable\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":208177,"reputation":15182,"user_id":458501,"display_name":"bhamby"},"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1388865119,"creation_date":1388865119,"answer_id":20925956,"question_id":20919298,"body_markdown":"As @Mark Rotteveel said, the `-204` error is from a missing object, but it&#39;s missing for a reason other than what he said.\r\n\r\nIt&#39;s not found because you did not prefix it with the schema name. You said above that it&#39;s in schema `yasmin`, but you&#39;re connecting with `db2admin`, so it&#39;s trying to look for `db2admin.TestTable`.\r\n\r\n    SELECT * FROM yasmin.TestTable\r\n\r\nshould be what you&#39;re looking for. \r\n\r\nBy default, the search path for schemas is the name of the currently connecting user. You can see what it is using\r\n\r\n    SELECT CURRENT SCHEMA FROM SYSIBM.SYSDUMMY1\r\n\r\nIf you want to change it, you can use the [SET SCHEMA][1] command to change the search path, but usually it&#39;s easier just to include the schema name in your query.\r\n\r\n\r\n  [1]: http://publib.boulder.ibm.com/infocenter/db2luw/v9r7/topic/com.ibm.db2.luw.sql.ref.doc/doc/r0001016.html","title":"DB2 SQL Error: SQLCODE=-204, SQLSTATE=42704","body":"<p>As @Mark Rotteveel said, the <code>-204</code> error is from a missing object, but it's missing for a reason other than what he said.</p>\n\n<p>It's not found because you did not prefix it with the schema name. You said above that it's in schema <code>yasmin</code>, but you're connecting with <code>db2admin</code>, so it's trying to look for <code>db2admin.TestTable</code>.</p>\n\n<pre><code>SELECT * FROM yasmin.TestTable\n</code></pre>\n\n<p>should be what you're looking for. </p>\n\n<p>By default, the search path for schemas is the name of the currently connecting user. You can see what it is using</p>\n\n<pre><code>SELECT CURRENT SCHEMA FROM SYSIBM.SYSDUMMY1\n</code></pre>\n\n<p>If you want to change it, you can use the <a href=\"http://publib.boulder.ibm.com/infocenter/db2luw/v9r7/topic/com.ibm.db2.luw.sql.ref.doc/doc/r0001016.html\">SET SCHEMA</a> command to change the search path, but usually it's easier just to include the schema name in your query.</p>\n"},{"tags":[],"owner":{"account_id":2875717,"reputation":183,"user_id":2467837,"accept_rate":40,"display_name":"Yasmin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1389087435,"creation_date":1388953787,"answer_id":20938766,"question_id":20919298,"body_markdown":"The problem was The table I created in db2 has schema name `&quot;yasmin&quot;` &lt;br/&gt;\r\nI used username and password `&quot;db2admin/db2admin&quot;` In JDBC connection  \r\nso it search for the table in this schema &quot;db2admin&quot;&lt;br/&gt;\r\nso I need to set the schema to be `&quot;yasmin&quot;` &lt;br/&gt;\r\nso I added the following lines of code after creating\r\nthe connection\r\n\r\n\r\n                String schemaName=&quot;yasmin&quot;;\r\n\t\t        if (schemaName != null &amp;&amp; schemaName.length() != 0) {\r\n\t           \r\n\t            try {\r\n\t                statement = connection.createStatement();\r\n\t                statement.executeUpdate(&quot;set current sqlid = &quot; + schemaName);\r\n\t                System.out.println(&quot;The schema is set successfully.&quot;);\r\n\t            } catch (SQLException exception) {\r\n\t            \texception.printStackTrace();\r\n\t                \r\n\t            }\r\n\r\nand grant db2admin all privilages on this table in db2\r\n\r\n1-Right click on the table choose privilages&lt;br/&gt;\r\n2-Click on &quot;Add user&quot; button&lt;br/&gt;\r\n3-then write the username &quot;db2admin&quot; and click &quot;apply&quot; button&lt;br/&gt;\r\n4-Then select the user you just add and click &quot;gtant all&quot; button\r\n\r\nNow he can see the table.&lt;br/&gt;\r\n\r\nMany Thanks @Mark Rotteveel and @bhamby for your help.","title":"DB2 SQL Error: SQLCODE=-204, SQLSTATE=42704","body":"<p>The problem was The table I created in db2 has schema name <code>\"yasmin\"</code> <br/>\nI used username and password <code>\"db2admin/db2admin\"</code> In JDBC connection<br>\nso it search for the table in this schema \"db2admin\"<br/>\nso I need to set the schema to be <code>\"yasmin\"</code> <br/>\nso I added the following lines of code after creating\nthe connection</p>\n\n<pre><code>            String schemaName=\"yasmin\";\n            if (schemaName != null &amp;&amp; schemaName.length() != 0) {\n\n            try {\n                statement = connection.createStatement();\n                statement.executeUpdate(\"set current sqlid = \" + schemaName);\n                System.out.println(\"The schema is set successfully.\");\n            } catch (SQLException exception) {\n                exception.printStackTrace();\n\n            }\n</code></pre>\n\n<p>and grant db2admin all privilages on this table in db2</p>\n\n<p>1-Right click on the table choose privilages<br/>\n2-Click on \"Add user\" button<br/>\n3-then write the username \"db2admin\" and click \"apply\" button<br/>\n4-Then select the user you just add and click \"gtant all\" button</p>\n\n<p>Now he can see the table.<br/></p>\n\n<p>Many Thanks @Mark Rotteveel and @bhamby for your help.</p>\n"},{"tags":[],"owner":{"account_id":1200644,"reputation":83,"user_id":1171383,"display_name":"punkck"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1427197853,"creation_date":1427197853,"answer_id":29231945,"question_id":20919298,"body_markdown":"If you are connecting in Spring using Hibernate use following in the property line\r\n\r\n    &lt;property name=&quot;url&quot; value=&quot;jdbc:db2://&lt;ip&gt;:&lt;port&gt;/&lt;database&gt;:currentSchema=&lt;currentSchema&gt;;&quot; /&gt;","title":"DB2 SQL Error: SQLCODE=-204, SQLSTATE=42704","body":"<p>If you are connecting in Spring using Hibernate use following in the property line</p>\n\n<pre><code>&lt;property name=\"url\" value=\"jdbc:db2://&lt;ip&gt;:&lt;port&gt;/&lt;database&gt;:currentSchema=&lt;currentSchema&gt;;\" /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3326595,"reputation":1,"user_id":2796538,"display_name":"Thang Vinh Tran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659438263,"creation_date":1448519495,"answer_id":33931951,"question_id":20919298,"body_markdown":"Other way is just create an ALIAS, likes this:\r\n```sql\r\nCREATE ALIAS USER1.YOURTABLE FOR TABLE USER2.YOURTABLE;\r\n```","title":"DB2 SQL Error: SQLCODE=-204, SQLSTATE=42704","body":"<p>Other way is just create an ALIAS, likes this:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE ALIAS USER1.YOURTABLE FOR TABLE USER2.YOURTABLE;\n</code></pre>\n"}],"owner":{"account_id":2875717,"reputation":183,"user_id":2467837,"accept_rate":40,"display_name":"Yasmin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122448,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":5,"score":12,"last_activity_date":1659438263,"creation_date":1388828339,"question_id":20919298,"body_markdown":"I created local database in DB2 called &quot;`TestDB`&quot; then I created table called &quot;`TestTable`&quot;.  \r\nI found that the table is put under schema name is &quot;`yasmin`&quot;.  \r\nI am trying to connect to the `DB2` database using `JDBC` but I got this exception\r\n\r\n \r\n\r\n        R SQLException information\r\n    [1/4/14 11:32:59:289 EST] 0000004d SystemErr     R Error msg: DB2 SQL Error: SQLCODE=-204, SQLSTATE=42704, SQLERRMC=DB2ADMIN.TESTTABLE, DRIVER=3.61.86\r\n    [1/4/14 11:32:59:290 EST] 0000004d SystemErr     R SQLSTATE: 42704\r\n    [1/4/14 11:32:59:290 EST] 0000004d SystemErr     R Error code: -204\r\n    [1/4/14 11:32:59:290 EST] 0000004d SystemErr     R com.ibm.db2.jcc.am.SqlSyntaxErrorException: DB2 SQL Error: SQLCODE=-204, SQLSTATE=42704, SQLERRMC=DB2ADMIN.TESTTABLE, DRIVER=3.61.86\r\n\r\n\r\nI tried many solutions on the internet Like set schema but unfortunately doesn&#39;t work.\r\n\r\nThis is the JDBC code I used\r\n\r\n     String urlPrefix = &quot;jdbc:db2:&quot;;\r\n\t\t    String url;\r\n\t\t    String user;\r\n\t\t    String password;\r\n\t\t    String empNo;                                                              \r\n\t\t    Connection con;\r\n\t\t    Statement stmt;\r\n\t\t    ResultSet rs;\r\n\t\t   \r\n\t\t    url = urlPrefix + &quot;//127.0.0.1:50000/TestDB&quot;;\r\n\t\t    user = &quot;db2admin&quot;;\r\n\t\t    password = &quot;db2admin&quot;;\r\n\t\t    try \r\n\t\t    {                                                                        \r\n\t\t      // Load the driver\r\n\t\t      Class.forName(&quot;com.ibm.db2.jcc.DB2Driver&quot;);                              \r\n\t\t      System.out.println(&quot;**** Loaded the JDBC driver&quot;);\r\n\r\n\t\t      // Create the connection using the IBM Data Server Driver for JDBC and SQLJ\r\n\t\t      con = DriverManager.getConnection (url, user, password);                 \r\n\t\t      // Commit changes manually\r\n\t\t      \r\n\t\t      con.setAutoCommit(false);\r\n\t\t      System.out.println(&quot;**** Created a JDBC connection to the data source&quot;);\r\n\t\t      stmt = con.createStatement();   con.createStatement();                                         \r\n\t\t      System.out.println(&quot;**** Created JDBC Statement object&quot;);\r\n\t\t      // Execute a query and generate a ResultSet instance\r\n\t\t     \r\n\t\t      rs = stmt.executeQuery(&quot;select *from TestTable&quot;);                   \r\n\t\t      System.out.println(&quot;**** Created JDBC ResultSet object&quot;);\r\n\t\t    }\r\n\t\t    \r\n\t\t    catch (ClassNotFoundException e)\r\n\t\t    {\r\n\t\t      System.err.println(&quot;Could not load JDBC driver&quot;);\r\n\t\t      System.out.println(&quot;Exception: &quot; + e);\r\n\t\t      e.printStackTrace();\r\n\t\t    }\r\n\r\n\t\t    catch(SQLException ex)                                                      \r\n\t\t    {\r\n\t\t      System.err.println(&quot;SQLException information&quot;);\r\n\t\t      while(ex!=null) {\r\n\t\t        System.err.println (&quot;Error msg: &quot; + ex.getMessage());\r\n\t\t        System.err.println (&quot;SQLSTATE: &quot; + ex.getSQLState());\r\n\t\t        System.err.println (&quot;Error code: &quot; + ex.getErrorCode());\r\n\t\t        ex.printStackTrace();\r\n\t\t        ex = ex.getNextException(); // For drivers that support chained exceptions\r\n\t\t      }\r\n\t\t    }\r\n\r\n\r\n  ","title":"DB2 SQL Error: SQLCODE=-204, SQLSTATE=42704","body":"<p>I created local database in DB2 called \"<code>TestDB</code>\" then I created table called \"<code>TestTable</code>\".<br>\nI found that the table is put under schema name is \"<code>yasmin</code>\".<br>\nI am trying to connect to the <code>DB2</code> database using <code>JDBC</code> but I got this exception</p>\n\n<pre><code>    R SQLException information\n[1/4/14 11:32:59:289 EST] 0000004d SystemErr     R Error msg: DB2 SQL Error: SQLCODE=-204, SQLSTATE=42704, SQLERRMC=DB2ADMIN.TESTTABLE, DRIVER=3.61.86\n[1/4/14 11:32:59:290 EST] 0000004d SystemErr     R SQLSTATE: 42704\n[1/4/14 11:32:59:290 EST] 0000004d SystemErr     R Error code: -204\n[1/4/14 11:32:59:290 EST] 0000004d SystemErr     R com.ibm.db2.jcc.am.SqlSyntaxErrorException: DB2 SQL Error: SQLCODE=-204, SQLSTATE=42704, SQLERRMC=DB2ADMIN.TESTTABLE, DRIVER=3.61.86\n</code></pre>\n\n<p>I tried many solutions on the internet Like set schema but unfortunately doesn't work.</p>\n\n<p>This is the JDBC code I used</p>\n\n<pre><code> String urlPrefix = \"jdbc:db2:\";\n        String url;\n        String user;\n        String password;\n        String empNo;                                                              \n        Connection con;\n        Statement stmt;\n        ResultSet rs;\n\n        url = urlPrefix + \"//127.0.0.1:50000/TestDB\";\n        user = \"db2admin\";\n        password = \"db2admin\";\n        try \n        {                                                                        \n          // Load the driver\n          Class.forName(\"com.ibm.db2.jcc.DB2Driver\");                              \n          System.out.println(\"**** Loaded the JDBC driver\");\n\n          // Create the connection using the IBM Data Server Driver for JDBC and SQLJ\n          con = DriverManager.getConnection (url, user, password);                 \n          // Commit changes manually\n\n          con.setAutoCommit(false);\n          System.out.println(\"**** Created a JDBC connection to the data source\");\n          stmt = con.createStatement();   con.createStatement();                                         \n          System.out.println(\"**** Created JDBC Statement object\");\n          // Execute a query and generate a ResultSet instance\n\n          rs = stmt.executeQuery(\"select *from TestTable\");                   \n          System.out.println(\"**** Created JDBC ResultSet object\");\n        }\n\n        catch (ClassNotFoundException e)\n        {\n          System.err.println(\"Could not load JDBC driver\");\n          System.out.println(\"Exception: \" + e);\n          e.printStackTrace();\n        }\n\n        catch(SQLException ex)                                                      \n        {\n          System.err.println(\"SQLException information\");\n          while(ex!=null) {\n            System.err.println (\"Error msg: \" + ex.getMessage());\n            System.err.println (\"SQLSTATE: \" + ex.getSQLState());\n            System.err.println (\"Error code: \" + ex.getErrorCode());\n            ex.printStackTrace();\n            ex = ex.getNextException(); // For drivers that support chained exceptions\n          }\n        }\n</code></pre>\n"},{"tags":["java","android","android-studio","file-upload","startactivityforresult"],"answers":[{"tags":[],"owner":{"account_id":16904606,"reputation":561,"user_id":12225165,"display_name":"Jaydeep parmar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659429757,"creation_date":1659429757,"answer_id":73204493,"question_id":73204157,"body_markdown":"You need to **register for activity result** outside of `onCreate` using below `Kotlin` code\r\n \r\n\r\n       val getContent = registerForActivityResult(ActivityResultContracts.GetContent()) { uri: Uri? -&gt;\r\n    \r\n                    // Callback after selecting image\r\n                    // Do whatever you want to do with uri\r\n    \r\n                }\r\n            }\r\n        }\r\n\r\nNow instead of `startActivityForResult(..)`  call below method when you want to open **gallery to pick image**\r\n\r\n     getContent.launch(&quot;image/*&quot;)","title":"how to replace the startActivityForResult because its now deprecated this is the last piece i need to finish up my project","body":"<p>You need to <strong>register for activity result</strong> outside of <code>onCreate</code> using below <code>Kotlin</code> code</p>\n<pre><code>   val getContent = registerForActivityResult(ActivityResultContracts.GetContent()) { uri: Uri? -&gt;\n\n                // Callback after selecting image\n                // Do whatever you want to do with uri\n\n            }\n        }\n    }\n</code></pre>\n<p>Now instead of <code>startActivityForResult(..)</code>  call below method when you want to open <strong>gallery to pick image</strong></p>\n<pre><code> getContent.launch(&quot;image/*&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25906822,"reputation":66,"user_id":19631789,"display_name":"Jon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659438000,"creation_date":1659436971,"answer_id":73206172,"question_id":73204157,"body_markdown":"    SelectImageGallery.setOnClickListener(new View.OnClickListener() {\r\n        @Override\r\n        public void onClick(View view) {\r\n\r\n            Intent intent = new Intent(Intent.ACTION_OPEN_DOCUMENT);\r\n            intent.addCategory(Intent.CATEGORY_OPENABLE)\r\n            intent.setType(&quot;image/*&quot;);\r\n\r\n            intent.setAction(Intent.ACTION_GET_CONTENT);\r\n\r\n            result.launch(Intent.createChooser(intent, &quot;Select Image From Gallery&quot;));\r\n\r\n        }\r\n    });\r\n\r\nINSIDE SAME METHOD AS LISTENER:\r\n\r\n        ActivityResultLauncher&lt;String&gt; result = registerForActivityResult(\r\n            new ActivityResultContracts.GetContent(),\r\n            new ActivityResultCallback&lt;Uri&gt;() {\r\n                @Override\r\n                public void onActivityResult(Uri result) {\r\n                    //DO whatever with received image content scheme Uri\r\n                }\r\n            });\r\n\r\n","title":"how to replace the startActivityForResult because its now deprecated this is the last piece i need to finish up my project","body":"<pre><code>SelectImageGallery.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View view) {\n\n        Intent intent = new Intent(Intent.ACTION_OPEN_DOCUMENT);\n        intent.addCategory(Intent.CATEGORY_OPENABLE)\n        intent.setType(&quot;image/*&quot;);\n\n        intent.setAction(Intent.ACTION_GET_CONTENT);\n\n        result.launch(Intent.createChooser(intent, &quot;Select Image From Gallery&quot;));\n\n    }\n});\n</code></pre>\n<p>INSIDE SAME METHOD AS LISTENER:</p>\n<pre><code>    ActivityResultLauncher&lt;String&gt; result = registerForActivityResult(\n        new ActivityResultContracts.GetContent(),\n        new ActivityResultCallback&lt;Uri&gt;() {\n            @Override\n            public void onActivityResult(Uri result) {\n                //DO whatever with received image content scheme Uri\n            }\n        });\n</code></pre>\n"}],"owner":{"account_id":25955263,"reputation":13,"user_id":19672698,"display_name":"8xers6"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":465,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1659438000,"creation_date":1659428365,"question_id":73204157,"body_markdown":"how to replace it with ActivityResultLauncher.\r\nsorry guys i am just new to coding and programming.\r\n\r\n    SelectImageGallery.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n\r\n                Intent intent = new Intent();\r\n\r\n                intent.setType(&quot;image/*&quot;);\r\n\r\n                intent.setAction(Intent.ACTION_GET_CONTENT);\r\n\r\n                startActivityForResult(Intent.createChooser(intent, &quot;Select Image From Gallery&quot;), 1);\r\n\r\n            }\r\n        });","title":"how to replace the startActivityForResult because its now deprecated this is the last piece i need to finish up my project","body":"<p>how to replace it with ActivityResultLauncher.\nsorry guys i am just new to coding and programming.</p>\n<pre><code>SelectImageGallery.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n\n            Intent intent = new Intent();\n\n            intent.setType(&quot;image/*&quot;);\n\n            intent.setAction(Intent.ACTION_GET_CONTENT);\n\n            startActivityForResult(Intent.createChooser(intent, &quot;Select Image From Gallery&quot;), 1);\n\n        }\n    });\n</code></pre>\n"},{"tags":["java","eclipse","eclipse-scout"],"answers":[{"tags":[],"owner":{"account_id":9690036,"reputation":61,"user_id":7188380,"display_name":"bsh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1655890546,"creation_date":1655890546,"answer_id":72713041,"question_id":71773311,"body_markdown":"Are you running some kind of ad-blocker or privacy plugin in your browser? This would explain the reported CSP error. By default, the CSP rules block inline JavaScript code (e.g. `&lt;script&gt;...&lt;/script&gt;`). Scout itself does not use inline code. It is therefore likely that a browser plugin has injected code into the page. The reported &quot;source-file&quot; (&quot;moz-extension&quot;) also hints to that.\r\n\r\nThe access denied error is probably not caused by the CSP rules. According to the log file, the click was successfully dispatched to the corresponding Menu instance on the UI server. That code calls a backend service (`IPersonService`) over the service tunnel, which fails with an exception. There are a lot of things that could have gone wrong here:\r\n\r\n- Backend not running.\r\n- Backend running, but not in a valid state.\r\n- [Auth keys][1] of UI server and backend server don&#39;t match, so the service tunnel cannot be established securely. Check the values of the config properties `scout.auth.privateKey` and `scout.auth.publicKey`. If necessary, use the SecurityUtility to create a new pair.\r\n- User does not have the necessary permissions. For every call to the backend over the service tunnel, `RemoteServiceAccessPermission` is required. And for most services, a specific permission is required, e.g. `ReadPersonPermission`.\r\n- User doesn&#39;t exist.\r\n\r\nTo analyze these kinds of errors, first check the logs of both the UI server and the backend server. If this does not help, set some breakpoints and step through the code. Here are some classes that make a good starting point: `ServerServletFilter`, `ServiceTunnelServlet`, `AccessControlService`.\r\n\r\n[1]: https://eclipsescout.github.io/22.0/technical-guide.html#sec-app.configProperties","title":"CSP Error in Eclipse Scout (One Day Tutorial)?","body":"<p>Are you running some kind of ad-blocker or privacy plugin in your browser? This would explain the reported CSP error. By default, the CSP rules block inline JavaScript code (e.g. <code>&lt;script&gt;...&lt;/script&gt;</code>). Scout itself does not use inline code. It is therefore likely that a browser plugin has injected code into the page. The reported &quot;source-file&quot; (&quot;moz-extension&quot;) also hints to that.</p>\n<p>The access denied error is probably not caused by the CSP rules. According to the log file, the click was successfully dispatched to the corresponding Menu instance on the UI server. That code calls a backend service (<code>IPersonService</code>) over the service tunnel, which fails with an exception. There are a lot of things that could have gone wrong here:</p>\n<ul>\n<li>Backend not running.</li>\n<li>Backend running, but not in a valid state.</li>\n<li><a href=\"https://eclipsescout.github.io/22.0/technical-guide.html#sec-app.configProperties\" rel=\"nofollow noreferrer\">Auth keys</a> of UI server and backend server don't match, so the service tunnel cannot be established securely. Check the values of the config properties <code>scout.auth.privateKey</code> and <code>scout.auth.publicKey</code>. If necessary, use the SecurityUtility to create a new pair.</li>\n<li>User does not have the necessary permissions. For every call to the backend over the service tunnel, <code>RemoteServiceAccessPermission</code> is required. And for most services, a specific permission is required, e.g. <code>ReadPersonPermission</code>.</li>\n<li>User doesn't exist.</li>\n</ul>\n<p>To analyze these kinds of errors, first check the logs of both the UI server and the backend server. If this does not help, set some breakpoints and step through the code. Here are some classes that make a good starting point: <code>ServerServletFilter</code>, <code>ServiceTunnelServlet</code>, <code>AccessControlService</code>.</p>\n"},{"tags":[],"owner":{"account_id":5344149,"reputation":29,"user_id":8562990,"display_name":"marknovemg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659437868,"creation_date":1658820910,"answer_id":73119398,"question_id":71773311,"body_markdown":"If your are running Java 17 version, then you need to update the `private` &amp; `public` keys which can be found on `config.properties` file.","title":"CSP Error in Eclipse Scout (One Day Tutorial)?","body":"<p>If your are running Java 17 version, then you need to update the <code>private</code> &amp; <code>public</code> keys which can be found on <code>config.properties</code> file.</p>\n"}],"owner":{"account_id":18615581,"reputation":916,"user_id":13566967,"display_name":"DevelJoe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":229,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72713041,"answer_count":2,"score":0,"last_activity_date":1659437868,"creation_date":1649277351,"question_id":71773311,"body_markdown":"I&#39;m currently on the [one day tutorial](https://eclipsescout.github.io/11.0/one-day-tutorial.html) of the Eclipse Scout Framework, and I&#39;m stuck at exactly [this](https://eclipsescout.github.io/11.0/one-day-tutorial.html#sec-contacts_forms_summary) part. I don&#39;t think that my question is Tutorial-specific, which is why I&#39;m asking my question here: Suddenly, when I try to open a menu in my scout localhost environment; I get an &quot;access denied&quot; message in my browser, and the java console gives back the following log:\r\n\r\n```\r\n2022-04-06 22:27:06,597 WARN  [qtp1600667055-41] org.eclipse.scout.rt.server.commons.authentication.DevelopmentAccessController.handle(DevelopmentAccessController.java:66) - \r\n+++ Development access control with user xxx.yyy - MDC[]\r\n2022-04-06 22:27:06,875 INFO  [qtp1600667055-33] org.eclipse.scout.rt.ui.html.csp.ContentSecurityPolicyReportHandler.log(ContentSecurityPolicyReportHandler.java:80) - CSP-REPORT: {\r\n  &quot;csp-report&quot;: {\r\n    &quot;blocked-uri&quot;: &quot;inline&quot;,\r\n    &quot;column-number&quot;: 797897,\r\n    &quot;document-uri&quot;: &quot;http:\\/\\/localhost:8082\\/&quot;,\r\n    &quot;line-number&quot;: 71,\r\n    &quot;original-policy&quot;: &quot;img-src &#39;self&#39;; style-src &#39;self&#39; &#39;unsafe-inline&#39;; child-src *; default-src &#39;self&#39;; report-uri http:\\/\\/localhost:8082\\/csp-report; script-src &#39;self&#39;&quot;,\r\n    &quot;referrer&quot;: &quot;&quot;,\r\n    &quot;source-file&quot;: &quot;moz-extension&quot;,\r\n    &quot;violated-directive&quot;: &quot;script-src&quot;\r\n  }\r\n} - MDC[principal=xxx.yyy, \r\nhttpUri=/csp-report, \r\ncid=d3e5c2b5-19b8-4f62-b512-56bbd82eb685]\r\n2022-04-06 22:27:07,\r\n575 INFO  [scout-model-thread-4 Starting ClientSession [sessionId=v6r80rs8kch0k2pohlnc4u4n2917m8ohb0smftl2jbf4a62i7ah]] org.eclipse.scout.rt.client.AbstractClientSession.start(AbstractClientSession.java:294) - Client session started [session=org.eclipse.scout.contacts.client.ClientSession@49956588[id = v6r80rs8kch0k2pohlnc4u4n2917m8ohb0smftl2jbf4a62i7ah], user=xxx.yyy] - MDC[principal=xxx.yyy, httpUri=/json, jobName=Starting ClientSession [sessionId=v6r80rs8kch0k2pohlnc4u4n2917m8ohb0smftl2jbf4a62i7ah], cid=Sq8Jw6Nn9Gq/1]\r\n2022-04-06 22:27:07,575 INFO  [qtp1600667055-45] org.eclipse.scout.rt.ui.html.UiSession.getOrCreateClientSession(UiSession.java:303) - Created new client session [clientSessionId=v6r80rs8kch0k2pohlnc4u4n2917m8ohb0smftl2jbf4a62i7ah, userAgent=HTML|DESKTOP|FIREFOX|WINDOWS|Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:99.0) Gecko/20100101 Firefox/99.0] - MDC[principal=xxx.yyy, httpUri=/json, cid=Sq8Jw6Nn9Gq/1]\r\n2022-04-06 22:27:07,575 INFO  [qtp1600667055-45] org.eclipse.scout.rt.ui.html.UiThemeHelper.getConfiguredTheme(UiThemeHelper.java:59) - UI theme configured in config.properties: default - MDC[principal=xxx.yyy, httpUri=/json, cid=Sq8Jw6Nn9Gq/1]\r\n2022-04-06 22:27:07,591 INFO  [scout-model-thread-10 Starting JsonClientSession] org.eclipse.scout.rt.ui.html.json.MainJsonObjectFactory.getFactories(MainJsonObjectFactory.java:36) - Using following object factories: [org.eclipse.scout.rt.ui.html.JsonObjectFactory@7646906d] - MDC[principal=xxx.yyy, httpUri=/json, scoutSession=v6r80rs8kch0k2pohlnc4u4n2917m8ohb0smftl2jbf4a62i7ah, jobName=Starting JsonClientSession, cid=Sq8Jw6Nn9Gq/1]\r\n2022-04-06 22:27:07,701 INFO  [qtp1600667055-45] org.eclipse.scout.rt.ui.html.UiSession.init(UiSession.java:264) - UiSession with ID 1:gsk4adjmlv49n219mb0v7ono8bfv2g3bo4kdiimvse5duppfdl4 initialized - MDC[principal=xxx.yyy, httpUri=/json, cid=Sq8Jw6Nn9Gq/1]\r\n2022-04-06 22:27:07,717 INFO  [qtp1600667055-45] org.eclipse.scout.rt.ui.html.json.JsonMessageRequestHandler.createUiSession(JsonMessageRequestHandler.java:362) - Created new UI session with ID 1:gsk4adjmlv49n219mb0v7ono8bfv2g3bo4kdiimvse5duppfdl4 in 558.412900 ms [maxIdleTime=14400s, httpSession.maxInactiveInterval=3600s] - MDC[principal=xxx.yyy, httpUri=/json, cid=Sq8Jw6Nn9Gq/1]\r\n2022-04-06 22:27:11,793 INFO  [scout-model-thread-18 Processing JSON request] org.eclipse.scout.rt.platform.exception.ExceptionHandler.handlePlatformException(ExceptionHandler.java:125) - VetoException: Zugriff verweigert [severity=ERROR, user=xxx.yyy, remote-service.name=org.eclipse.scout.contacts.shared.person.IPersonService, remote-service.operation=prepareCreate, form=org.eclipse.scout.contacts.client.person.PersonForm, ui.event=action, ui.adapter=Menu[id=5, modelClass=org.eclipse.scout.contacts.client.Desktop$QuickAccessMenu$NewPersonMenu, parentId=4]] - MDC[principal=xxx.yyy, httpUri=/json, uiSession=1:gsk4adjmlv49n219mb0v7ono8bfv2g3bo4kdiimvse5duppfdl4, scoutSession=v6r80rs8kch0k2pohlnc4u4n2917m8ohb0smftl2jbf4a62i7ah, jobName=Processing JSON request, cid=Bp3cD7ar8Gp/4]\r\n```\r\n\r\nTo me it seems that there&#39;s a Content Security Policy issue somewhere, but no clue if that&#39;s the case, and if so how to fix that, even after researching the issue for quite some time now.\r\n\r\nHelp?","title":"CSP Error in Eclipse Scout (One Day Tutorial)?","body":"<p>I'm currently on the <a href=\"https://eclipsescout.github.io/11.0/one-day-tutorial.html\" rel=\"nofollow noreferrer\">one day tutorial</a> of the Eclipse Scout Framework, and I'm stuck at exactly <a href=\"https://eclipsescout.github.io/11.0/one-day-tutorial.html#sec-contacts_forms_summary\" rel=\"nofollow noreferrer\">this</a> part. I don't think that my question is Tutorial-specific, which is why I'm asking my question here: Suddenly, when I try to open a menu in my scout localhost environment; I get an &quot;access denied&quot; message in my browser, and the java console gives back the following log:</p>\n<pre><code>2022-04-06 22:27:06,597 WARN  [qtp1600667055-41] org.eclipse.scout.rt.server.commons.authentication.DevelopmentAccessController.handle(DevelopmentAccessController.java:66) - \n+++ Development access control with user xxx.yyy - MDC[]\n2022-04-06 22:27:06,875 INFO  [qtp1600667055-33] org.eclipse.scout.rt.ui.html.csp.ContentSecurityPolicyReportHandler.log(ContentSecurityPolicyReportHandler.java:80) - CSP-REPORT: {\n  &quot;csp-report&quot;: {\n    &quot;blocked-uri&quot;: &quot;inline&quot;,\n    &quot;column-number&quot;: 797897,\n    &quot;document-uri&quot;: &quot;http:\\/\\/localhost:8082\\/&quot;,\n    &quot;line-number&quot;: 71,\n    &quot;original-policy&quot;: &quot;img-src 'self'; style-src 'self' 'unsafe-inline'; child-src *; default-src 'self'; report-uri http:\\/\\/localhost:8082\\/csp-report; script-src 'self'&quot;,\n    &quot;referrer&quot;: &quot;&quot;,\n    &quot;source-file&quot;: &quot;moz-extension&quot;,\n    &quot;violated-directive&quot;: &quot;script-src&quot;\n  }\n} - MDC[principal=xxx.yyy, \nhttpUri=/csp-report, \ncid=d3e5c2b5-19b8-4f62-b512-56bbd82eb685]\n2022-04-06 22:27:07,\n575 INFO  [scout-model-thread-4 Starting ClientSession [sessionId=v6r80rs8kch0k2pohlnc4u4n2917m8ohb0smftl2jbf4a62i7ah]] org.eclipse.scout.rt.client.AbstractClientSession.start(AbstractClientSession.java:294) - Client session started [session=org.eclipse.scout.contacts.client.ClientSession@49956588[id = v6r80rs8kch0k2pohlnc4u4n2917m8ohb0smftl2jbf4a62i7ah], user=xxx.yyy] - MDC[principal=xxx.yyy, httpUri=/json, jobName=Starting ClientSession [sessionId=v6r80rs8kch0k2pohlnc4u4n2917m8ohb0smftl2jbf4a62i7ah], cid=Sq8Jw6Nn9Gq/1]\n2022-04-06 22:27:07,575 INFO  [qtp1600667055-45] org.eclipse.scout.rt.ui.html.UiSession.getOrCreateClientSession(UiSession.java:303) - Created new client session [clientSessionId=v6r80rs8kch0k2pohlnc4u4n2917m8ohb0smftl2jbf4a62i7ah, userAgent=HTML|DESKTOP|FIREFOX|WINDOWS|Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:99.0) Gecko/20100101 Firefox/99.0] - MDC[principal=xxx.yyy, httpUri=/json, cid=Sq8Jw6Nn9Gq/1]\n2022-04-06 22:27:07,575 INFO  [qtp1600667055-45] org.eclipse.scout.rt.ui.html.UiThemeHelper.getConfiguredTheme(UiThemeHelper.java:59) - UI theme configured in config.properties: default - MDC[principal=xxx.yyy, httpUri=/json, cid=Sq8Jw6Nn9Gq/1]\n2022-04-06 22:27:07,591 INFO  [scout-model-thread-10 Starting JsonClientSession] org.eclipse.scout.rt.ui.html.json.MainJsonObjectFactory.getFactories(MainJsonObjectFactory.java:36) - Using following object factories: [org.eclipse.scout.rt.ui.html.JsonObjectFactory@7646906d] - MDC[principal=xxx.yyy, httpUri=/json, scoutSession=v6r80rs8kch0k2pohlnc4u4n2917m8ohb0smftl2jbf4a62i7ah, jobName=Starting JsonClientSession, cid=Sq8Jw6Nn9Gq/1]\n2022-04-06 22:27:07,701 INFO  [qtp1600667055-45] org.eclipse.scout.rt.ui.html.UiSession.init(UiSession.java:264) - UiSession with ID 1:gsk4adjmlv49n219mb0v7ono8bfv2g3bo4kdiimvse5duppfdl4 initialized - MDC[principal=xxx.yyy, httpUri=/json, cid=Sq8Jw6Nn9Gq/1]\n2022-04-06 22:27:07,717 INFO  [qtp1600667055-45] org.eclipse.scout.rt.ui.html.json.JsonMessageRequestHandler.createUiSession(JsonMessageRequestHandler.java:362) - Created new UI session with ID 1:gsk4adjmlv49n219mb0v7ono8bfv2g3bo4kdiimvse5duppfdl4 in 558.412900 ms [maxIdleTime=14400s, httpSession.maxInactiveInterval=3600s] - MDC[principal=xxx.yyy, httpUri=/json, cid=Sq8Jw6Nn9Gq/1]\n2022-04-06 22:27:11,793 INFO  [scout-model-thread-18 Processing JSON request] org.eclipse.scout.rt.platform.exception.ExceptionHandler.handlePlatformException(ExceptionHandler.java:125) - VetoException: Zugriff verweigert [severity=ERROR, user=xxx.yyy, remote-service.name=org.eclipse.scout.contacts.shared.person.IPersonService, remote-service.operation=prepareCreate, form=org.eclipse.scout.contacts.client.person.PersonForm, ui.event=action, ui.adapter=Menu[id=5, modelClass=org.eclipse.scout.contacts.client.Desktop$QuickAccessMenu$NewPersonMenu, parentId=4]] - MDC[principal=xxx.yyy, httpUri=/json, uiSession=1:gsk4adjmlv49n219mb0v7ono8bfv2g3bo4kdiimvse5duppfdl4, scoutSession=v6r80rs8kch0k2pohlnc4u4n2917m8ohb0smftl2jbf4a62i7ah, jobName=Processing JSON request, cid=Bp3cD7ar8Gp/4]\n</code></pre>\n<p>To me it seems that there's a Content Security Policy issue somewhere, but no clue if that's the case, and if so how to fix that, even after researching the issue for quite some time now.</p>\n<p>Help?</p>\n"},{"tags":["java","sql","hibernate","scalar"],"answers":[{"tags":[],"owner":{"account_id":1941613,"reputation":5357,"user_id":1747706,"accept_rate":100,"display_name":"Zutty"},"down_vote_count":0,"up_vote_count":36,"is_accepted":true,"score":36,"last_activity_date":1363182044,"creation_date":1363182044,"answer_id":15387002,"question_id":15386571,"body_markdown":"This is declaring that you want the result of the query to return objects for individual named columns, rather than entities. For instance\r\n\r\n    createSQLQuery(&quot;SELECT COUNT(*) AS c FROM Users&quot;).addScalar(&quot;c&quot;).uniqueResult()\r\n\r\nWill return a single `Long`. If you specify multiple scalars, the result will come back as an array of `Object`. Its similar to `executeScalar` except that it works on named columns, and can return a composite result.","title":"What does addScalar do?","body":"<p>This is declaring that you want the result of the query to return objects for individual named columns, rather than entities. For instance</p>\n\n<pre><code>createSQLQuery(\"SELECT COUNT(*) AS c FROM Users\").addScalar(\"c\").uniqueResult()\n</code></pre>\n\n<p>Will return a single <code>Long</code>. If you specify multiple scalars, the result will come back as an array of <code>Object</code>. Its similar to <code>executeScalar</code> except that it works on named columns, and can return a composite result.</p>\n"},{"tags":[],"owner":{"account_id":535038,"reputation":567,"user_id":904735,"accept_rate":64,"display_name":"Grigor Nazaryan"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1443430216,"creation_date":1363187651,"answer_id":15389184,"question_id":15386571,"body_markdown":"`addScalar` is an information of returnType for a given key in SQL query.\r\n\r\nExample:\r\n\r\n    Query a = new SqlQuery(&quot;Select username as un from users where ...&quot;);\r\n    a.addScalar(&quot;un&quot;, String);\r\n\r\nIf you query for result, the result will be String or other types if you specify.","title":"What does addScalar do?","body":"<p><code>addScalar</code> is an information of returnType for a given key in SQL query.</p>\n\n<p>Example:</p>\n\n<pre><code>Query a = new SqlQuery(\"Select username as un from users where ...\");\na.addScalar(\"un\", String);\n</code></pre>\n\n<p>If you query for result, the result will be String or other types if you specify.</p>\n"},{"tags":[],"owner":{"account_id":4211075,"reputation":191,"user_id":3448749,"display_name":"Evan"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1395459075,"creation_date":1395459075,"answer_id":22573096,"question_id":15386571,"body_markdown":"To avoid the overhead of using ResultSetMetadata, or simply to be more explicit in what is returned, one can use addScalar():\r\n\r\n    session.createSQLQuery(&quot;SELECT * FROM CATS&quot;)\r\n    .addScalar(&quot;ID&quot;, Hibernate.LONG)\r\n    .addScalar(&quot;NAME&quot;, Hibernate.STRING)\r\n    .addScalar(&quot;BIRTHDATE&quot;, Hibernate.DATE)\r\n\r\nThis query specified:\r\n\r\n    the SQL query string\r\n    the columns and types to return\r\n\r\nThis will return Object arrays, but now it will not use ResultSetMetadata but will instead explicitly get the ID, NAME and BIRTHDATE column as respectively a Long, String and a Short from the underlying resultset. This also means that only these three columns will be returned, even though the query is using * and could return more than the three listed columns.\r\n\r\nIt is possible to leave out the type information for all or some of the scalars.\r\n\r\n    session.createSQLQuery(&quot;SELECT * FROM CATS&quot;)\r\n    .addScalar(&quot;ID&quot;, Hibernate.LONG)\r\n    .addScalar(&quot;NAME&quot;)\r\n    .addScalar(&quot;BIRTHDATE&quot;)\r\n\r\nThis is essentially the same query as before, but now ResultSetMetaData is used to determine the type of NAME and BIRTHDATE, where as the type of ID is explicitly specified.\r\n\r\ncopied from [this][1].\r\n\r\n\r\n  [1]: https://docs.jboss.org/hibernate/orm/3.3/reference/en/html/querysql.html#d0e13646","title":"What does addScalar do?","body":"<p>To avoid the overhead of using ResultSetMetadata, or simply to be more explicit in what is returned, one can use addScalar():</p>\n\n<pre><code>session.createSQLQuery(\"SELECT * FROM CATS\")\n.addScalar(\"ID\", Hibernate.LONG)\n.addScalar(\"NAME\", Hibernate.STRING)\n.addScalar(\"BIRTHDATE\", Hibernate.DATE)\n</code></pre>\n\n<p>This query specified:</p>\n\n<pre><code>the SQL query string\nthe columns and types to return\n</code></pre>\n\n<p>This will return Object arrays, but now it will not use ResultSetMetadata but will instead explicitly get the ID, NAME and BIRTHDATE column as respectively a Long, String and a Short from the underlying resultset. This also means that only these three columns will be returned, even though the query is using * and could return more than the three listed columns.</p>\n\n<p>It is possible to leave out the type information for all or some of the scalars.</p>\n\n<pre><code>session.createSQLQuery(\"SELECT * FROM CATS\")\n.addScalar(\"ID\", Hibernate.LONG)\n.addScalar(\"NAME\")\n.addScalar(\"BIRTHDATE\")\n</code></pre>\n\n<p>This is essentially the same query as before, but now ResultSetMetaData is used to determine the type of NAME and BIRTHDATE, where as the type of ID is explicitly specified.</p>\n\n<p>copied from <a href=\"https://docs.jboss.org/hibernate/orm/3.3/reference/en/html/querysql.html#d0e13646\">this</a>.</p>\n"},{"tags":[],"owner":{"account_id":10742487,"reputation":11,"user_id":7905061,"display_name":"Pravin J."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1552375242,"creation_date":1552375242,"answer_id":55116048,"question_id":15386571,"body_markdown":"This is used when your bean has multiple fields with diff types and you want to get these fields in same type from mysql.\r\neg.\r\n\r\n    public class Example { Long id; String name; }\r\n\r\nyou can use add scalar as follows\r\n\r\n    session.createSQLQuery(&quot;SELECT * FROM tableName&quot;)\r\n    .addScalar(&quot;id&quot;, Hibernate.LONG)\r\n    .addScalar(&quot;name&quot;, Hibernate.STRING);\r\n\r\n","title":"What does addScalar do?","body":"<p>This is used when your bean has multiple fields with diff types and you want to get these fields in same type from mysql.\neg.</p>\n\n<pre><code>public class Example { Long id; String name; }\n</code></pre>\n\n<p>you can use add scalar as follows</p>\n\n<pre><code>session.createSQLQuery(\"SELECT * FROM tableName\")\n.addScalar(\"id\", Hibernate.LONG)\n.addScalar(\"name\", Hibernate.STRING);\n</code></pre>\n"}],"owner":{"account_id":426815,"reputation":8635,"user_id":808244,"accept_rate":90,"display_name":"superM"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80088,"favorite_count":0,"down_vote_count":0,"up_vote_count":35,"accepted_answer_id":15387002,"answer_count":4,"score":35,"last_activity_date":1659437727,"creation_date":1363180931,"question_id":15386571,"body_markdown":"The JavaDoc says:\r\n\r\n    SQLQuery org.hibernate.SQLQuery.addScalar(String columnAlias, Type type)\r\n\r\n    Declare a scalar query result\r\n\r\nI know what `executeScalar` is in C#, but this scalar and C# scalar seem to be absolutely different. ","title":"What does addScalar do?","body":"<p>The JavaDoc says:</p>\n\n<pre><code>SQLQuery org.hibernate.SQLQuery.addScalar(String columnAlias, Type type)\n\nDeclare a scalar query result\n</code></pre>\n\n<p>I know what <code>executeScalar</code> is in C#, but this scalar and C# scalar seem to be absolutely different. </p>\n"},{"tags":["java","math"],"comments":[{"owner":{"account_id":69533,"reputation":32924,"user_id":202229,"accept_rate":74,"display_name":"smci"},"score":7,"creation_date":1377900249,"post_id":7187877,"comment_id":27273474,"body_markdown":"Please post reproducible code showing how you got Math.ceil(23.46) = 23 ?","body":"Please post reproducible code showing how you got Math.ceil(23.46) = 23 ?"},{"owner":{"account_id":78172,"reputation":5832,"user_id":222651,"accept_rate":50,"display_name":"Deep"},"score":1,"creation_date":1491940445,"post_id":7187877,"comment_id":73773243,"body_markdown":"somewhat related to this question, ceil and floor can print same value if double was loosing precision, for example \n\nSystem.out.println(&quot;ceil: &quot; + Math.ceil((1000000000000000000L - 1) / 2.0));\n        \nSystem.out.println(&quot;floor:&quot; + Math.floor((1000000000000000000L - 1) / 2.0));\n\nboth will get you 5.0E17.","body":"somewhat related to this question, ceil and floor can print same value if double was loosing precision, for example   System.out.println(&quot;ceil: &quot; + Math.ceil((1000000000000000000L - 1) / 2.0));          System.out.println(&quot;floor:&quot; + Math.floor((1000000000000000000L - 1) / 2.0));  both will get you 5.0E17."}],"answers":[{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1314264129,"creation_date":1314264129,"answer_id":7187918,"question_id":7187877,"body_markdown":"When I run\r\n\r\n    System.out.println(Math.ceil(23.46));\r\n    System.out.println(Math.ceil(15.01));\r\n\r\nI get\r\n\r\n    24.0\r\n    16.0\r\n\r\nIsn&#39;t that what you want?\r\n\r\n","title":"Math.ceil and Math.floor returning same value","body":"<p>When I run</p>\n\n<pre><code>System.out.println(Math.ceil(23.46));\nSystem.out.println(Math.ceil(15.01));\n</code></pre>\n\n<p>I get</p>\n\n<pre><code>24.0\n16.0\n</code></pre>\n\n<p>Isn't that what you want?</p>\n"},{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":1,"up_vote_count":53,"is_accepted":true,"score":52,"last_activity_date":1314264141,"creation_date":1314264141,"answer_id":7187922,"question_id":7187877,"body_markdown":"Unable to reproduce:\r\n\r\n    public class Test\r\n    {\r\n        public static void main(String[] args)\r\n        {\r\n            System.out.println(Math.ceil(23.46)); // Prints 24\r\n            System.out.println(Math.floor(23.46)); // Prints 23\r\n        }\r\n    }\r\n\r\nI suspect that *either* you haven&#39;t got the input data you think you have *or* you&#39;re not writing out the output data you think you are. `Math.floor`/`ceil` themselves work fine. The only time they will return the same value is when the input is already an integer. You talk about *parsing* your double... my guess is that the error lies there. Please show us a short but complete program which demonstrates the problem.\r\n\r\n(There may be other scenarios around very large values where the exact target integer can&#39;t be represented exactly as a `double` - I haven&#39;t checked - but that&#39;s certainly not the case here.)","title":"Math.ceil and Math.floor returning same value","body":"<p>Unable to reproduce:</p>\n\n<pre><code>public class Test\n{\n    public static void main(String[] args)\n    {\n        System.out.println(Math.ceil(23.46)); // Prints 24\n        System.out.println(Math.floor(23.46)); // Prints 23\n    }\n}\n</code></pre>\n\n<p>I suspect that <em>either</em> you haven't got the input data you think you have <em>or</em> you're not writing out the output data you think you are. <code>Math.floor</code>/<code>ceil</code> themselves work fine. The only time they will return the same value is when the input is already an integer. You talk about <em>parsing</em> your double... my guess is that the error lies there. Please show us a short but complete program which demonstrates the problem.</p>\n\n<p>(There may be other scenarios around very large values where the exact target integer can't be represented exactly as a <code>double</code> - I haven't checked - but that's certainly not the case here.)</p>\n"},{"tags":[],"owner":{"account_id":148476,"reputation":2154,"user_id":360274,"accept_rate":95,"display_name":"martin"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1314264225,"creation_date":1314264225,"answer_id":7187942,"question_id":7187877,"body_markdown":"The code\r\n\r\n    System.out.println(Math.ceil(23.46));\r\n    System.out.println(Math.floor(23.46));\r\n\r\ngives me the following output:\r\n\r\n    24.0\r\n    23.0\r\n\r\nSo it works as expected.\r\n","title":"Math.ceil and Math.floor returning same value","body":"<p>The code</p>\n\n<pre><code>System.out.println(Math.ceil(23.46));\nSystem.out.println(Math.floor(23.46));\n</code></pre>\n\n<p>gives me the following output:</p>\n\n<pre><code>24.0\n23.0\n</code></pre>\n\n<p>So it works as expected.</p>\n"},{"tags":[],"owner":{"account_id":170728,"reputation":2001,"user_id":397661,"accept_rate":96,"display_name":"ACEG"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1314264642,"creation_date":1314264305,"answer_id":7187958,"question_id":7187877,"body_markdown":"How do you do the actual invocation? I cannot replicate your result, using either the double object or the primitive type.\r\n\r\nThis code:\r\n\r\n    \tDouble d_object = new Double(23.46);\r\n\t    double d_simple = 23.46;\r\n\t\t\r\n\t\tSystem.out.println(&quot;Ceiling simple: &quot; + Math.ceil(d_simple));\r\n\t\tSystem.out.println(&quot;Floor simple: &quot; + Math.floor(d_simple));\r\n\r\n\t\tSystem.out.println(&quot;Ceiling object: &quot; + Math.ceil(d_object));\r\n\t\tSystem.out.println(&quot;Floor object: &quot; + Math.floor(d_object));\r\n\r\n\r\n\r\ngives me:\r\n\r\n    Ceiling simple: 24.0\r\n    Floor simple: 23.0\r\n    Ceiling object: 24.0\r\n    Floor object: 23.0\r\n\r\n","title":"Math.ceil and Math.floor returning same value","body":"<p>How do you do the actual invocation? I cannot replicate your result, using either the double object or the primitive type.</p>\n\n<p>This code:</p>\n\n<pre><code>    Double d_object = new Double(23.46);\n    double d_simple = 23.46;\n\n    System.out.println(\"Ceiling simple: \" + Math.ceil(d_simple));\n    System.out.println(\"Floor simple: \" + Math.floor(d_simple));\n\n    System.out.println(\"Ceiling object: \" + Math.ceil(d_object));\n    System.out.println(\"Floor object: \" + Math.floor(d_object));\n</code></pre>\n\n<p>gives me:</p>\n\n<pre><code>Ceiling simple: 24.0\nFloor simple: 23.0\nCeiling object: 24.0\nFloor object: 23.0\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2759776,"reputation":959,"user_id":2376893,"display_name":"Chris J"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1378373648,"creation_date":1378373648,"answer_id":18632729,"question_id":7187877,"body_markdown":"    float x = ((float)2346/100);  // You should type cast. Otherwise results 23\r\n    Math.ceil(x);                 // So Math.ceil(23) is 23 !!!\r\n                                  // Here I type cast to float.\r\n                                  // So I get the result 24","title":"Math.ceil and Math.floor returning same value","body":"<pre><code>float x = ((float)2346/100);  // You should type cast. Otherwise results 23\nMath.ceil(x);                 // So Math.ceil(23) is 23 !!!\n                              // Here I type cast to float.\n                              // So I get the result 24\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14492953,"reputation":191,"user_id":10468540,"display_name":"Ahmed Ramadan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632673719,"creation_date":1632656569,"answer_id":69334560,"question_id":7187877,"body_markdown":"    int num1 ,num2;\r\n    Scanner scan = new Scanner(System.in);\r\n              \r\n    num1 = scan.nextInt();\r\n    num2 = scan.nextInt();\r\n    \r\n    int result = num1 / num2;\r\n               \r\n    System.out.println(&quot;floor &quot;+num1+&quot; / &quot;+num2+&quot; = &quot;+Math.floor(result));\r\n    System.out.println(&quot;ceil &quot;+num1+&quot; / &quot;+num2+&quot; = &quot;+Math.ceil(result));\r\n    System.out.println(&quot;round &quot;+num1+&quot; / &quot;+num2+&quot; = &quot;+Math.round(result));","title":"Math.ceil and Math.floor returning same value","body":"<pre><code>int num1 ,num2;\nScanner scan = new Scanner(System.in);\n          \nnum1 = scan.nextInt();\nnum2 = scan.nextInt();\n\nint result = num1 / num2;\n           \nSystem.out.println(&quot;floor &quot;+num1+&quot; / &quot;+num2+&quot; = &quot;+Math.floor(result));\nSystem.out.println(&quot;ceil &quot;+num1+&quot; / &quot;+num2+&quot; = &quot;+Math.ceil(result));\nSystem.out.println(&quot;round &quot;+num1+&quot; / &quot;+num2+&quot; = &quot;+Math.round(result));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8588111,"reputation":131,"user_id":6433492,"display_name":"Archit Agarwal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659437630,"creation_date":1659437630,"answer_id":73206316,"question_id":7187877,"body_markdown":"In my case I was dividing int and then applying ceil which was returning weird results like above.\r\n\r\nEg \r\n\r\n    Math.ceil(5/2)  // gives 2\r\n    Math.floor(5/2) // gives 2\r\n\r\nSolve is to use double while dividing , always try casting to double/float in divisions \r\n\r\n    Math.ceil(5/(double)2)  // gives 3\r\n    Math.floor(5/(double)2) // gives 2\r\n\r\n","title":"Math.ceil and Math.floor returning same value","body":"<p>In my case I was dividing int and then applying ceil which was returning weird results like above.</p>\n<p>Eg</p>\n<pre><code>Math.ceil(5/2)  // gives 2\nMath.floor(5/2) // gives 2\n</code></pre>\n<p>Solve is to use double while dividing , always try casting to double/float in divisions</p>\n<pre><code>Math.ceil(5/(double)2)  // gives 3\nMath.floor(5/(double)2) // gives 2\n</code></pre>\n"}],"owner":{"display_name":"user818700"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91893,"favorite_count":0,"down_vote_count":1,"up_vote_count":23,"accepted_answer_id":7187922,"answer_count":7,"score":22,"last_activity_date":1659437630,"creation_date":1314263929,"question_id":7187877,"body_markdown":"I have a double (23.46)\r\n\r\nAnd using the methods Math.ceil and Math.floor and parsing my double to these methods, I get the same value returned to me, which is 23...\r\n\r\nI want it to be rounded off to 24.. In otherwords, if I have a double that&#39;s 15.01, it should still be rounded off to 16... How do I do this?","title":"Math.ceil and Math.floor returning same value","body":"<p>I have a double (23.46)</p>\n\n<p>And using the methods Math.ceil and Math.floor and parsing my double to these methods, I get the same value returned to me, which is 23...</p>\n\n<p>I want it to be rounded off to 24.. In otherwords, if I have a double that's 15.01, it should still be rounded off to 16... How do I do this?</p>\n"},{"tags":["java","amazon-web-services","jce","sunpkcs11","amazon-cloudhsm"],"answers":[{"tags":[],"owner":{"account_id":9257373,"reputation":31,"user_id":6875773,"display_name":"Mudit Porwal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656660770,"creation_date":1656660770,"answer_id":72825812,"question_id":61816689,"body_markdown":"I am currently working on AWS CloudHSM and I realized that SunPKCS is not fully compatible with the AWS CloudHSM PKCS11 Lib.\r\n\r\nI tested using keytool with configuration create a RSA KeyPair and I was not able to query back. \r\n\r\n[![SunPKCS11 List Keystore][1]][1]\r\n\r\nAnd when I test the same with Cavium the supported JCE Provider.\r\n\r\n[![Cavium List Keystore][2]][2]\r\n\r\nAnd on discussing with some folks from AWS it seems that intermediate JCE&#39;s like SunPKCS11 are not supported.\r\n\r\n  [1]: https://i.stack.imgur.com/ndZkl.png\r\n  [2]: https://i.stack.imgur.com/1BmUl.png","title":"Is the Sunpkcs11 provider compatible with the AWS CloudHSM?","body":"<p>I am currently working on AWS CloudHSM and I realized that SunPKCS is not fully compatible with the AWS CloudHSM PKCS11 Lib.</p>\n<p>I tested using keytool with configuration create a RSA KeyPair and I was not able to query back.</p>\n<p><a href=\"https://i.stack.imgur.com/ndZkl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ndZkl.png\" alt=\"SunPKCS11 List Keystore\" /></a></p>\n<p>And when I test the same with Cavium the supported JCE Provider.</p>\n<p><a href=\"https://i.stack.imgur.com/1BmUl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1BmUl.png\" alt=\"Cavium List Keystore\" /></a></p>\n<p>And on discussing with some folks from AWS it seems that intermediate JCE's like SunPKCS11 are not supported.</p>\n"},{"tags":[],"owner":{"account_id":25956632,"reputation":11,"user_id":19673878,"display_name":"user19673878"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659437232,"creation_date":1659437232,"answer_id":73206220,"question_id":61816689,"body_markdown":"Looking all that different HSM offings including Azure KeyVault, etc. you anyway should go with Utimaco. \r\nHaving done 1000s of tests with all of them I can tell Utimaco&#39;s offers the most reliable product.","title":"Is the Sunpkcs11 provider compatible with the AWS CloudHSM?","body":"<p>Looking all that different HSM offings including Azure KeyVault, etc. you anyway should go with Utimaco.\nHaving done 1000s of tests with all of them I can tell Utimaco's offers the most reliable product.</p>\n"}],"owner":{"account_id":14737186,"reputation":23,"user_id":10642853,"display_name":"Ooooof"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":463,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1659437232,"creation_date":1589537094,"question_id":61816689,"body_markdown":"I am trying to work with an HSM (hardware security module) to store keys and to do cryptographic operations. I want to operate the HSM inside a java application. For this I need to use a compatible java JCE provider as a mapping layer between the application and the standardized PKCS#11 interface of the HSM. I have played around with the Utimaco Cryptoserver Simulator in combination with the Sunpkcs11 provider in order to get a first understanding. It worked out fine!\r\n\r\nBut now I&#39;d like to replace the Utimaco Cryptoserver Simulator with the AWS CloudHSM, but I&#39;m a little confused about that. The FAQs states that the AWS CloudHSM provides a JCE (com.cavium.provider.caviumprovider). But I would like to use Sunpkcs11 provider for this.\r\n\r\n 1. Is it possible to use the Sunpkcs11 provider in combination with the AWS CloudHSM or am I limited to the Cavium provider in this regard?\r\n 2. Are there any disadvantages compared to the Cavium provider if the Sunpkcs11 provider is used?","title":"Is the Sunpkcs11 provider compatible with the AWS CloudHSM?","body":"<p>I am trying to work with an HSM (hardware security module) to store keys and to do cryptographic operations. I want to operate the HSM inside a java application. For this I need to use a compatible java JCE provider as a mapping layer between the application and the standardized PKCS#11 interface of the HSM. I have played around with the Utimaco Cryptoserver Simulator in combination with the Sunpkcs11 provider in order to get a first understanding. It worked out fine!</p>\n\n<p>But now I'd like to replace the Utimaco Cryptoserver Simulator with the AWS CloudHSM, but I'm a little confused about that. The FAQs states that the AWS CloudHSM provides a JCE (com.cavium.provider.caviumprovider). But I would like to use Sunpkcs11 provider for this.</p>\n\n<ol>\n<li>Is it possible to use the Sunpkcs11 provider in combination with the AWS CloudHSM or am I limited to the Cavium provider in this regard?</li>\n<li>Are there any disadvantages compared to the Cavium provider if the Sunpkcs11 provider is used?</li>\n</ol>\n"},{"tags":["java","hibernate","jdbc","jpql"],"comments":[{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1659435509,"post_id":73204939,"comment_id":129288901,"body_markdown":"What do you mean with &quot;number of buckets&quot;?","body":"What do you mean with &quot;number of buckets&quot;?"},{"owner":{"account_id":25033717,"reputation":35,"user_id":18891287,"display_name":"Mary"},"score":0,"creation_date":1659436275,"post_id":73204939,"comment_id":129289190,"body_markdown":"Sorry, I corrected the question","body":"Sorry, I corrected the question"}],"answers":[{"tags":[],"owner":{"account_id":25956555,"reputation":1,"user_id":19673811,"display_name":"BnD"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659437159,"creation_date":1659437159,"answer_id":73206209,"question_id":73204939,"body_markdown":"if you have session object access in java code you use \r\n\r\n - session.getJdbcBatchSize()\r\n\r\n to get batch size.","title":"Hibernate: number of batches","body":"<p>if you have session object access in java code you use</p>\n<ul>\n<li>session.getJdbcBatchSize()</li>\n</ul>\n<p>to get batch size.</p>\n"}],"owner":{"account_id":25033717,"reputation":35,"user_id":18891287,"display_name":"Mary"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659437159,"creation_date":1659431813,"question_id":73204939,"body_markdown":"The maximum number of packages is specified in the settings.\r\n\r\n    hibernate.jdbc.batch_size\r\n\r\n*Is it possible to find out how many batches (and what size) were used for any database operation while the program was running?*\r\n\r\nIn particular, I am interested in JPQL.\r\n\r\nIs it possible to find out?","title":"Hibernate: number of batches","body":"<p>The maximum number of packages is specified in the settings.</p>\n<pre><code>hibernate.jdbc.batch_size\n</code></pre>\n<p><em>Is it possible to find out how many batches (and what size) were used for any database operation while the program was running?</em></p>\n<p>In particular, I am interested in JPQL.</p>\n<p>Is it possible to find out?</p>\n"},{"tags":["java","roguelike"],"comments":[{"owner":{"account_id":1114067,"reputation":196781,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":4,"creation_date":1340964780,"post_id":11259904,"comment_id":14800937,"body_markdown":"Write a Swing GUI application instead of a text-mode one. It&#39;s going to prove much easier, and with a prettier result.","body":"Write a Swing GUI application instead of a text-mode one. It&#39;s going to prove much easier, and with a prettier result."},{"owner":{"account_id":894040,"reputation":7530,"user_id":931721,"accept_rate":91,"display_name":"Jakob Weisblat"},"score":2,"creation_date":1340964840,"post_id":11259904,"comment_id":14800953,"body_markdown":"Java uses Unicode, not ASCII. be careful.","body":"Java uses Unicode, not ASCII. be careful."},{"owner":{"account_id":1158643,"reputation":7398,"user_id":1138620,"accept_rate":77,"display_name":"Adam K Dean"},"score":0,"creation_date":1340966599,"post_id":11259904,"comment_id":14801566,"body_markdown":"Thanks, I&#39;m looking into swing now. Is there any Swing Window Editor that works with Eclipse? All the ones I find seem to be ancient","body":"Thanks, I&#39;m looking into swing now. Is there any Swing Window Editor that works with Eclipse? All the ones I find seem to be ancient"},{"owner":{"account_id":249882,"reputation":834,"user_id":526251,"accept_rate":67,"display_name":"thalador"},"score":0,"creation_date":1340971630,"post_id":11259904,"comment_id":14803440,"body_markdown":"I would override a JPanel and draw bitmaps on it. One Bitmap for the background and one for the foreground with the charactor on it. It&#39;s fast and easy!","body":"I would override a JPanel and draw bitmaps on it. One Bitmap for the background and one for the foreground with the charactor on it. It&#39;s fast and easy!"}],"answers":[{"tags":[],"owner":{"account_id":143651,"reputation":19969,"user_id":352131,"accept_rate":77,"display_name":"Durandal"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1340971112,"creation_date":1340970327,"answer_id":11261184,"question_id":11259904,"body_markdown":"There is no such (simple) component in the JDK - if you don&#39;t need color, a JTextArea can be used to display ASCII-Art (after setting a fixed-width font). You will need to take care not to run into characterset issues (if you don&#39;t stick to US-ASCII 7-bit).\r\nWriting a component that handles color display (and maybe escape sequences, in essence emulates a console window) wouldn&#39;t be too hard, but if you just started with Java it may prove to be an unwelcome challenge.\r\n\r\nYou could also just write your game in Java and leave displaying the ASCII to the system console (your game would simple output to stdout).\r\n\r\nEdit: Color ASCII could be acieved by converting your internal format to (simple) HTML and that HTML could be displayed using a JLabel. Its probably not the most elegant method, but it should be reasonably simple to implement (and with nowadays hardware speed should not be an issue with this approach either). This approach builds on the capability that you can just use JLabel.setText() and pass a string that starts with a HTML tag. The JLabel then interprets the whole text as HTML.\r\n\r\n","title":"What is the best way to display ASCII in a grid with panels using Java?","body":"<p>There is no such (simple) component in the JDK - if you don't need color, a JTextArea can be used to display ASCII-Art (after setting a fixed-width font). You will need to take care not to run into characterset issues (if you don't stick to US-ASCII 7-bit).\nWriting a component that handles color display (and maybe escape sequences, in essence emulates a console window) wouldn't be too hard, but if you just started with Java it may prove to be an unwelcome challenge.</p>\n\n<p>You could also just write your game in Java and leave displaying the ASCII to the system console (your game would simple output to stdout).</p>\n\n<p>Edit: Color ASCII could be acieved by converting your internal format to (simple) HTML and that HTML could be displayed using a JLabel. Its probably not the most elegant method, but it should be reasonably simple to implement (and with nowadays hardware speed should not be an issue with this approach either). This approach builds on the capability that you can just use JLabel.setText() and pass a string that starts with a HTML tag. The JLabel then interprets the whole text as HTML.</p>\n"},{"tags":[],"owner":{"account_id":2529002,"reputation":13456,"user_id":2197700,"accept_rate":80,"display_name":"Anubian Noob"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1382452880,"creation_date":1382452880,"answer_id":19521005,"question_id":11259904,"body_markdown":"Check out Trystan&#39;s [Ascii Panel][1], and his blog and tutorial on making a roguelike [here][2].\r\n\r\n\r\n  [1]: https://github.com/trystan/AsciiPanel\r\n  [2]: http://trystans.blogspot.com/2011/08/roguelike-tutorial-01-java-eclipse.html","title":"What is the best way to display ASCII in a grid with panels using Java?","body":"<p>Check out Trystan's <a href=\"https://github.com/trystan/AsciiPanel\" rel=\"nofollow\">Ascii Panel</a>, and his blog and tutorial on making a roguelike <a href=\"http://trystans.blogspot.com/2011/08/roguelike-tutorial-01-java-eclipse.html\" rel=\"nofollow\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":6182992,"reputation":328,"user_id":4817868,"display_name":"Viking"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659436670,"creation_date":1659436670,"answer_id":73206102,"question_id":11259904,"body_markdown":"Better late than never, right? You may want to check [Zircon Project][1].\r\n\r\n\r\n  [1]: https://hexworks.org/projects/zircon/","title":"What is the best way to display ASCII in a grid with panels using Java?","body":"<p>Better late than never, right? You may want to check <a href=\"https://hexworks.org/projects/zircon/\" rel=\"nofollow noreferrer\">Zircon Project</a>.</p>\n"}],"owner":{"account_id":1158643,"reputation":7398,"user_id":1138620,"accept_rate":77,"display_name":"Adam K Dean"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7043,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":73206102,"answer_count":3,"score":6,"last_activity_date":1659436670,"creation_date":1340964621,"question_id":11259904,"body_markdown":"I don&#39;t have much experience in Java, but I am attempt to write a simple rogue-like game to familiarize myself with it, and I am just wondering how I would go about creating an interface like this: \r\n\r\n![A screen from JADE by Thomas Biskup][1]\r\n[1]: http://i.stack.imgur.com/sETi9.jpg\r\n\r\nAre there any obvious ways that you would go about something like this? Being new to Java, I really have no idea what the best method would be.\r\n\r\nSorry to be vague!\r\n\r\nThanks","title":"What is the best way to display ASCII in a grid with panels using Java?","body":"<p>I don't have much experience in Java, but I am attempt to write a simple rogue-like game to familiarize myself with it, and I am just wondering how I would go about creating an interface like this: </p>\n\n<p><img src=\"https://i.stack.imgur.com/sETi9.jpg\" alt=\"A screen from JADE by Thomas Biskup\">\nAre there any obvious ways that you would go about something like this? Being new to Java, I really have no idea what the best method would be.</p>\n\n<p>Sorry to be vague!</p>\n\n<p>Thanks</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4398511,"reputation":2653,"user_id":3584881,"display_name":"Bhaumik Pandhi"},"score":4,"creation_date":1659420000,"post_id":73202605,"comment_id":129283862,"body_markdown":"Are you working on JAVA of PHP!? your title says JAVA and you have added a PHP tag.","body":"Are you working on JAVA of PHP!? your title says JAVA and you have added a PHP tag."},{"owner":{"account_id":25688002,"reputation":121,"user_id":19449793,"display_name":"Jagadish S"},"score":1,"creation_date":1659420105,"post_id":73202605,"comment_id":129283885,"body_markdown":"Use ArrayList for these kind task, it will be more efficient.","body":"Use ArrayList for these kind task, it will be more efficient."},{"owner":{"account_id":22771580,"reputation":33,"user_id":16928923,"display_name":"LIM WENG NI"},"score":0,"creation_date":1659420131,"post_id":73202605,"comment_id":129283893,"body_markdown":"@BhaumikPandhi, hi sorry I put the wrong tag, I worked on Java","body":"@BhaumikPandhi, hi sorry I put the wrong tag, I worked on Java"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1659420795,"post_id":73202605,"comment_id":129284033,"body_markdown":"part of the problem (missing name) is handled by the following question: [Scanner is skipping nextLine() after using next() or nextFoo()?](https://stackoverflow.com/q/13102045/16320675) || another part (missing first entry) is also common on StackOverflow, but I am too lazy to search it: code is creating just one instance for all entries (`new CarRegistrationListing`), before the loop - so, inside the loop, the same instance is changed (like changing the plate, color, owner of the car, but not *producing* a new car) - there is no second (3rd, ...) instance to hold the data of all cars","body":"part of the problem (missing name) is handled by the following question: <a href=\"https://stackoverflow.com/q/13102045/16320675\">Scanner is skipping nextLine() after using next() or nextFoo()?</a> || another part (missing first entry) is also common on StackOverflow, but I am too lazy to search it: code is creating just one instance for all entries (<code>new CarRegistrationListing</code>), before the loop - so, inside the loop, the same instance is changed (like changing the plate, color, owner of the car, but not <i>producing</i> a new car) - there is no second (3rd, ...) instance to hold the data of all cars"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1660431048,"post_id":73202605,"comment_id":129532249,"body_markdown":"By the way, a tip: [records](https://openjdk.org/jeps/395).  `public record CarRegistrationListing( int regNo, String name, int icNo, String plateNo, String color, int year, String make, String model, double capacity ) {}` can be your *entire* class declaration if you don&#39;t need setters.","body":"By the way, a tip: <a href=\"https://openjdk.org/jeps/395\" rel=\"nofollow noreferrer\">records</a>.  <code>public record CarRegistrationListing( int regNo, String name, int icNo, String plateNo, String color, int year, String make, String model, double capacity ) {}</code> can be your <i>entire</i> class declaration if you don&#39;t need setters."}],"answers":[{"tags":[],"owner":{"account_id":25945550,"reputation":506,"user_id":19664304,"display_name":"charmian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659436454,"creation_date":1659429606,"answer_id":73204455,"question_id":73202605,"body_markdown":"&gt;the variables for first person were disappeared\r\n\r\nIt is because the variable `car` is overwritten inside the for loop every time when you enter a new entry. \r\nTo show the values for first person, you can create an `ArrayList` before the data-entry for loop\r\n\r\n```\r\nList&lt;CarRegistrationListing&gt; carList = new ArrayList&lt;CarRegistrationListing&gt;();\r\n```\r\nAnd store the values into the ArrayList at the end of for loop\r\n```\r\ncarList.add(car);\r\n```\r\nAt last, you may print the values from ArrayList as below.\r\n```\r\nSystem.out.println(&quot;Reg No.\\tName\\t\\tIC No.\\tPlate No.\\tColor\\tYear\\tMake\\tModel\\tCapacity&quot;);\r\nfor (CarRegistrationListing car : carList) {\r\n    System.out.println(car.getRegNo() + &quot;\\t&quot; + car.getName() + &quot;\\t\\t&quot; + car.getIcNo() + &quot;\\t&quot; + car.getPlateNo() + &quot;\\t\\t&quot; + car.getColor() + &quot;\\t&quot; + car.getYear() + &quot;\\t&quot; + car.getMake() + &quot;\\t&quot; + car.getModel() + &quot;\\t&quot; + car.getCapacity());\r\n}\r\n```\r\n\r\n&gt;The name can&#39;t be printed\r\n\r\nIt is because the newline character is not consumed by `nextInt()` causing input not properly read, you can add `scan.nextLine()` before reading the name from input.\r\n\r\nYou may find more information from [here](https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo), as mentioned by *@user16320675* in the comments\r\n```\r\nscan.nextLine();\r\nString name = scan.nextLine();\r\n```\r\nI also noticed you would like to have autoincrement for `RegNo`.\r\n\r\nInstead of adding `regNo++` in getter function, I will suggest to create a static member for generating unique `regNo` inside Constructor\r\n\r\nMore information at: &lt;https://stackoverflow.com/questions/35461651/java-create-a-unique-id-for-each-instantiated-object-using-instance-methods-inst?rq=1&gt;\r\n```\r\nstatic int globalRegNo = 1000;\r\n\r\npublic CarRegistrationListing(int regNo, String name, int icNo, String plateNo, String color, int year, String make, String model, double capacity) {\r\n    this.regNo = globalRegNo++;\r\n    this.name = name;\r\n    this.icNo = icNo;\r\n    this.plateNo = plateNo;\r\n    this.color = color;\r\n    this.year = year;\r\n    this.make = make;\r\n    this.model = model;\r\n    this.capacity = capacity;\r\n}\r\n```\r\n","title":"How to print car registration in a list in Java?","body":"<blockquote>\n<p>the variables for first person were disappeared</p>\n</blockquote>\n<p>It is because the variable <code>car</code> is overwritten inside the for loop every time when you enter a new entry.\nTo show the values for first person, you can create an <code>ArrayList</code> before the data-entry for loop</p>\n<pre><code>List&lt;CarRegistrationListing&gt; carList = new ArrayList&lt;CarRegistrationListing&gt;();\n</code></pre>\n<p>And store the values into the ArrayList at the end of for loop</p>\n<pre><code>carList.add(car);\n</code></pre>\n<p>At last, you may print the values from ArrayList as below.</p>\n<pre><code>System.out.println(&quot;Reg No.\\tName\\t\\tIC No.\\tPlate No.\\tColor\\tYear\\tMake\\tModel\\tCapacity&quot;);\nfor (CarRegistrationListing car : carList) {\n    System.out.println(car.getRegNo() + &quot;\\t&quot; + car.getName() + &quot;\\t\\t&quot; + car.getIcNo() + &quot;\\t&quot; + car.getPlateNo() + &quot;\\t\\t&quot; + car.getColor() + &quot;\\t&quot; + car.getYear() + &quot;\\t&quot; + car.getMake() + &quot;\\t&quot; + car.getModel() + &quot;\\t&quot; + car.getCapacity());\n}\n</code></pre>\n<blockquote>\n<p>The name can't be printed</p>\n</blockquote>\n<p>It is because the newline character is not consumed by <code>nextInt()</code> causing input not properly read, you can add <code>scan.nextLine()</code> before reading the name from input.</p>\n<p>You may find more information from <a href=\"https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo\">here</a>, as mentioned by <em>@user16320675</em> in the comments</p>\n<pre><code>scan.nextLine();\nString name = scan.nextLine();\n</code></pre>\n<p>I also noticed you would like to have autoincrement for <code>RegNo</code>.</p>\n<p>Instead of adding <code>regNo++</code> in getter function, I will suggest to create a static member for generating unique <code>regNo</code> inside Constructor</p>\n<p>More information at: <a href=\"https://stackoverflow.com/questions/35461651/java-create-a-unique-id-for-each-instantiated-object-using-instance-methods-inst?rq=1\">Java create a unique ID for each instantiated object using instance methods instead of class/static methods</a></p>\n<pre><code>static int globalRegNo = 1000;\n\npublic CarRegistrationListing(int regNo, String name, int icNo, String plateNo, String color, int year, String make, String model, double capacity) {\n    this.regNo = globalRegNo++;\n    this.name = name;\n    this.icNo = icNo;\n    this.plateNo = plateNo;\n    this.color = color;\n    this.year = year;\n    this.make = make;\n    this.model = model;\n    this.capacity = capacity;\n}\n</code></pre>\n"}],"owner":{"account_id":22771580,"reputation":33,"user_id":16928923,"display_name":"LIM WENG NI"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":488,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1659436454,"creation_date":1659419930,"question_id":73202605,"body_markdown":"Hi I&#39;m working on a java program that allows user to input their information such as name, car model, capacity etc, later they can see their information in a list:\r\n\r\nCar Registration Listing\r\n\r\nReg No. Name IC No. Plate No. Color Year Make Model Capacity\r\n\r\n1001 John Wayne 111111111 ABC123 Blue 2010 Toyota Vios 1.5\r\n \r\n1002 Bea Arthur 222222222 WEA888 Red 2010 Nissan Teana 2.0 \r\n\r\n1003 Meg Ryan   333333333 PBL168 Black 2011 Honda City 1.6 \r\n\r\n1004 Jane Doe 444444444 BBB777 White  2011 Nissan Teana 2.0 \r\n\r\n1005 Al Johnson 555555555 CAT118 Green 2012 Toyota Vios 1.5\r\n\r\n1006 Ned Beatty 666666666 TV798 Blue 2012 Toyota Vios 1.5\r\n\r\nBelow is the code:\r\n\r\n    public class CarRegistrationListing {\r\n        \r\n            int regNo;\r\n            String name;\r\n            int icNo;\r\n            String plateNo;\r\n            String color;\r\n            int year;\r\n            String make;\r\n            String model;\r\n            double capacity;\r\n        \r\n            public CarRegistrationListing(int regNo, String name, int icNo, String plateNo, String color, int year, String make, String model, double capacity) {\r\n                this.regNo = regNo;\r\n                this.name = name;\r\n                this.icNo = icNo;\r\n                this.plateNo = plateNo;\r\n                this.color = color;\r\n                this.year = year;\r\n                this.make = make;\r\n                this.model = model;\r\n                this.capacity = capacity;\r\n            }\r\n        \r\n            public int getRegNo() {\r\n                regNo++;\r\n                return regNo;\r\n            }\r\n            \r\n            public String getName(){\r\n                return name;\r\n            }\r\n            \r\n            public int getIcNo(){\r\n                return icNo;\r\n            }\r\n            \r\n            public String getPlateNo(){\r\n                return plateNo;\r\n            }\r\n            \r\n            public String getColor(){\r\n                return color;\r\n            }\r\n            \r\n            public int getYear(){\r\n                return year;\r\n            }\r\n            \r\n            public String getMake(){\r\n                return make;\r\n            }\r\n            \r\n            public String getModel(){\r\n                return model;\r\n            }\r\n            \r\n            public double getCapacity(){\r\n                return capacity;\r\n            }\r\n            \r\n            public void setName(String name){\r\n                this.name = name;\r\n            }\r\n            \r\n            public void setIcNo(int icNo){\r\n                this.icNo = icNo;\r\n            }\r\n            \r\n            public void setPlateNo(String plateNo){\r\n                this.plateNo = plateNo;\r\n            }\r\n            \r\n            public void setColor(String color){\r\n                this.color = color;\r\n            }\r\n            \r\n            public void setYear(int year){\r\n                this.year = year;\r\n            }\r\n            \r\n            public void setMake(String make){\r\n                this.make = make;\r\n            }\r\n            \r\n            public void setModel(String model){\r\n                this.model = model;\r\n            }\r\n            \r\n            public void setCapacity(double capacity){\r\n                this.capacity = capacity;\r\n            }\r\n        \r\n            @Override\r\n            public String toString() {\r\n                return &quot;CarRegistrationListing{&quot; + &quot;regNo=&quot; + regNo + &quot;, name=&quot; + name + &quot;, icNo=&quot; + icNo + &quot;, plateNo=&quot; + plateNo + &quot;, color=&quot; + color + &quot;, year=&quot; + year + &quot;, make=&quot; + make + &quot;, model=&quot; + model + &quot;, capacity=&quot; + capacity + &#39;}&#39;;\r\n            }\r\n        \r\n        }\r\n\r\n\r\nThis is for test run:\r\n\r\nimport java.util.Scanner;\r\n\r\npublic class TestCarReg {\r\n\r\n    public static void main(String[] args) {\r\n        Scanner scan = new Scanner(System.in);\r\n        System.out.print(&quot;How many records do you want to register: &quot;);\r\n        int record = scan.nextInt();\r\n\r\n        CarRegistrationListing car = new CarRegistrationListing(1000, &quot;&quot;, 0, &quot;&quot;, &quot;&quot;, 0, &quot;&quot;, &quot;&quot;, 0.0);\r\n\r\n        for (int i = 0; i &lt; record; i++) {\r\n            String[] carType = {&quot;Toyota Vios&quot;, &quot;Nissan Teana&quot;, &quot;Honda City&quot;};\r\n            System.out.println(&quot;Car Type:&quot;);\r\n            for (String carType1 : carType) {\r\n                System.out.println(carType1);\r\n            }\r\n\r\n            System.out.print(&quot;Choose your car type(1 to 3): &quot;);\r\n            int type = scan.nextInt();\r\n            String make;\r\n            String model;\r\n            switch (type) {\r\n                case 1:\r\n                    make = &quot;Toyota&quot;;\r\n                    model = &quot;Vios&quot;;\r\n                    break;\r\n\r\n                case 2:\r\n                    make = &quot;Nissan&quot;;\r\n                    model = &quot;Teana&quot;;\r\n                    break;\r\n\r\n                default:\r\n                    make = &quot;Honda&quot;;\r\n                    model = &quot;City&quot;;\r\n                    break;\r\n\r\n            }\r\n\r\n            System.out.print(&quot;Enter name: &quot;);\r\n            String name = scan.nextLine();\r\n            car.setName(name);\r\n            scan.nextLine();\r\n            System.out.print(&quot;Enter IC number: &quot;);\r\n            int icNo = scan.nextInt();\r\n            car.setIcNo(icNo);\r\n            System.out.print(&quot;Enter plate number: &quot;);\r\n            String plateNo = scan.next();\r\n            car.setPlateNo(plateNo);\r\n            System.out.print(&quot;Enter color: &quot;);\r\n            String color = scan.next();\r\n            car.setColor(color);\r\n            System.out.print(&quot;Enter year: &quot;);\r\n            int year = scan.nextInt();\r\n            car.setYear(year);\r\n            car.setMake(make);\r\n            car.setModel(model);\r\n            System.out.print(&quot;Enter capacity: &quot;);\r\n            double capacity = scan.nextDouble();\r\n            car.setCapacity(capacity);\r\n        }\r\n\r\n        System.out.println(&quot;Car Registration Listing&quot;);\r\n        for (int i = 0; i &lt; record; i++) {\r\n            System.out.println(&quot;Reg No.\\tName\\t\\tIC No.\\tPlate No.\\tColor\\tYear\\tMake\\tModel\\tCapacity&quot;);\r\n            System.out.println(car.getRegNo() + &quot;\\t&quot; + car.getName() + &quot;\\t\\t&quot; + car.getIcNo() + &quot;\\t&quot; + car.getPlateNo() + &quot;\\t\\t&quot; + car.getColor() + &quot;\\t&quot; + car.getYear() + &quot;\\t&quot; + car.getMake() + &quot;\\t&quot; + car.getModel() + &quot;\\t&quot; + car.getCapacity());\r\n        }\r\n\r\n    }\r\n}\r\n\r\n\r\nI tried printing the output according to the sample shown above, but I got this in my output:\r\n\r\n&gt; &gt; debug: How many records do you want to register: 2 \r\n&gt; \r\n&gt; &gt;Car Type: Toyota Vios Nissan Teana Honda City\r\n&gt; &gt; \r\n&gt; &gt;Choose your car type(1 to 3): 1 \r\n&gt; &gt;\r\n&gt; &gt;Enter name: william Sebastian \r\n&gt; &gt;\r\n&gt; &gt;Enter IC number: 1111 \r\n&gt; &gt;\r\n&gt; &gt;Enter plate number:AC1212 \r\n&gt; &gt;\r\n&gt; &gt;Enter color: Red \r\n&gt; &gt;\r\n&gt; &gt;Enter year: 2010 \r\n&gt; &gt;\r\n&gt; &gt;Enter capacity: 1.0\r\n&gt; &gt; \r\n&gt; &gt; Car Type: Toyota Vios Nissan Teana Honda City\r\n&gt; &gt; \r\n&gt; &gt;Choose your car type(1 to 3): 1 \r\n&gt; &gt;\r\n&gt; &gt; Enter name: wong ang soon \r\n&gt; &gt;\r\n&gt; &gt; Enter IC number: 2222 \r\n&gt; &gt;\r\n&gt; &gt;Enter plate number: AR1234 \r\n&gt; &gt;\r\n&gt; &gt;Enter color: White \r\n&gt; &gt;\r\n&gt; &gt;Enter year: 2013 \r\n&gt; &gt;\r\n&gt; &gt;Enter capacity: 2.0\r\n&gt; &gt; \r\n&gt; &gt; Reg No.\tName\t\tIC No.\tPlate No. Color\tYear\tMake\tModel\tCapacity\r\n&gt; &gt;\r\n&gt; &gt; 1001\t\t\t2222\tAR1234\t\tWhite\t2013\tHonda\tCity\t2.0 \r\n&gt; &gt;\r\n&gt; &gt;Reg No.\tName\t\tIC No.\tPlate No.\tColor\tYear\tMake\tModel\tCapacity\r\n&gt; &gt;\r\n&gt; &gt; 1002\t\t\t2222\tAR1234\t\tWhite\t2013\tHonda\tCity\t2.0\r\n\r\nThe name can&#39;t be printed and the variables for first person were disappeared, I tried to use array for CarRegistrationListing but it caused error.\r\nI would appreciate if someone can point out my mistakes.\r\nThank you so much!","title":"How to print car registration in a list in Java?","body":"<p>Hi I'm working on a java program that allows user to input their information such as name, car model, capacity etc, later they can see their information in a list:</p>\n<p>Car Registration Listing</p>\n<p>Reg No. Name IC No. Plate No. Color Year Make Model Capacity</p>\n<p>1001 John Wayne 111111111 ABC123 Blue 2010 Toyota Vios 1.5</p>\n<p>1002 Bea Arthur 222222222 WEA888 Red 2010 Nissan Teana 2.0</p>\n<p>1003 Meg Ryan   333333333 PBL168 Black 2011 Honda City 1.6</p>\n<p>1004 Jane Doe 444444444 BBB777 White  2011 Nissan Teana 2.0</p>\n<p>1005 Al Johnson 555555555 CAT118 Green 2012 Toyota Vios 1.5</p>\n<p>1006 Ned Beatty 666666666 TV798 Blue 2012 Toyota Vios 1.5</p>\n<p>Below is the code:</p>\n<pre><code>public class CarRegistrationListing {\n    \n        int regNo;\n        String name;\n        int icNo;\n        String plateNo;\n        String color;\n        int year;\n        String make;\n        String model;\n        double capacity;\n    \n        public CarRegistrationListing(int regNo, String name, int icNo, String plateNo, String color, int year, String make, String model, double capacity) {\n            this.regNo = regNo;\n            this.name = name;\n            this.icNo = icNo;\n            this.plateNo = plateNo;\n            this.color = color;\n            this.year = year;\n            this.make = make;\n            this.model = model;\n            this.capacity = capacity;\n        }\n    \n        public int getRegNo() {\n            regNo++;\n            return regNo;\n        }\n        \n        public String getName(){\n            return name;\n        }\n        \n        public int getIcNo(){\n            return icNo;\n        }\n        \n        public String getPlateNo(){\n            return plateNo;\n        }\n        \n        public String getColor(){\n            return color;\n        }\n        \n        public int getYear(){\n            return year;\n        }\n        \n        public String getMake(){\n            return make;\n        }\n        \n        public String getModel(){\n            return model;\n        }\n        \n        public double getCapacity(){\n            return capacity;\n        }\n        \n        public void setName(String name){\n            this.name = name;\n        }\n        \n        public void setIcNo(int icNo){\n            this.icNo = icNo;\n        }\n        \n        public void setPlateNo(String plateNo){\n            this.plateNo = plateNo;\n        }\n        \n        public void setColor(String color){\n            this.color = color;\n        }\n        \n        public void setYear(int year){\n            this.year = year;\n        }\n        \n        public void setMake(String make){\n            this.make = make;\n        }\n        \n        public void setModel(String model){\n            this.model = model;\n        }\n        \n        public void setCapacity(double capacity){\n            this.capacity = capacity;\n        }\n    \n        @Override\n        public String toString() {\n            return &quot;CarRegistrationListing{&quot; + &quot;regNo=&quot; + regNo + &quot;, name=&quot; + name + &quot;, icNo=&quot; + icNo + &quot;, plateNo=&quot; + plateNo + &quot;, color=&quot; + color + &quot;, year=&quot; + year + &quot;, make=&quot; + make + &quot;, model=&quot; + model + &quot;, capacity=&quot; + capacity + '}';\n        }\n    \n    }\n</code></pre>\n<p>This is for test run:</p>\n<p>import java.util.Scanner;</p>\n<p>public class TestCarReg {</p>\n<pre><code>public static void main(String[] args) {\n    Scanner scan = new Scanner(System.in);\n    System.out.print(&quot;How many records do you want to register: &quot;);\n    int record = scan.nextInt();\n\n    CarRegistrationListing car = new CarRegistrationListing(1000, &quot;&quot;, 0, &quot;&quot;, &quot;&quot;, 0, &quot;&quot;, &quot;&quot;, 0.0);\n\n    for (int i = 0; i &lt; record; i++) {\n        String[] carType = {&quot;Toyota Vios&quot;, &quot;Nissan Teana&quot;, &quot;Honda City&quot;};\n        System.out.println(&quot;Car Type:&quot;);\n        for (String carType1 : carType) {\n            System.out.println(carType1);\n        }\n\n        System.out.print(&quot;Choose your car type(1 to 3): &quot;);\n        int type = scan.nextInt();\n        String make;\n        String model;\n        switch (type) {\n            case 1:\n                make = &quot;Toyota&quot;;\n                model = &quot;Vios&quot;;\n                break;\n\n            case 2:\n                make = &quot;Nissan&quot;;\n                model = &quot;Teana&quot;;\n                break;\n\n            default:\n                make = &quot;Honda&quot;;\n                model = &quot;City&quot;;\n                break;\n\n        }\n\n        System.out.print(&quot;Enter name: &quot;);\n        String name = scan.nextLine();\n        car.setName(name);\n        scan.nextLine();\n        System.out.print(&quot;Enter IC number: &quot;);\n        int icNo = scan.nextInt();\n        car.setIcNo(icNo);\n        System.out.print(&quot;Enter plate number: &quot;);\n        String plateNo = scan.next();\n        car.setPlateNo(plateNo);\n        System.out.print(&quot;Enter color: &quot;);\n        String color = scan.next();\n        car.setColor(color);\n        System.out.print(&quot;Enter year: &quot;);\n        int year = scan.nextInt();\n        car.setYear(year);\n        car.setMake(make);\n        car.setModel(model);\n        System.out.print(&quot;Enter capacity: &quot;);\n        double capacity = scan.nextDouble();\n        car.setCapacity(capacity);\n    }\n\n    System.out.println(&quot;Car Registration Listing&quot;);\n    for (int i = 0; i &lt; record; i++) {\n        System.out.println(&quot;Reg No.\\tName\\t\\tIC No.\\tPlate No.\\tColor\\tYear\\tMake\\tModel\\tCapacity&quot;);\n        System.out.println(car.getRegNo() + &quot;\\t&quot; + car.getName() + &quot;\\t\\t&quot; + car.getIcNo() + &quot;\\t&quot; + car.getPlateNo() + &quot;\\t\\t&quot; + car.getColor() + &quot;\\t&quot; + car.getYear() + &quot;\\t&quot; + car.getMake() + &quot;\\t&quot; + car.getModel() + &quot;\\t&quot; + car.getCapacity());\n    }\n\n}\n</code></pre>\n<p>}</p>\n<p>I tried printing the output according to the sample shown above, but I got this in my output:</p>\n<blockquote>\n<blockquote>\n<p>debug: How many records do you want to register: 2</p>\n</blockquote>\n<blockquote>\n<p>Car Type: Toyota Vios Nissan Teana Honda City</p>\n<p>Choose your car type(1 to 3): 1</p>\n<p>Enter name: william Sebastian</p>\n<p>Enter IC number: 1111</p>\n<p>Enter plate number:AC1212</p>\n<p>Enter color: Red</p>\n<p>Enter year: 2010</p>\n<p>Enter capacity: 1.0</p>\n<p>Car Type: Toyota Vios Nissan Teana Honda City</p>\n<p>Choose your car type(1 to 3): 1</p>\n<p>Enter name: wong ang soon</p>\n<p>Enter IC number: 2222</p>\n<p>Enter plate number: AR1234</p>\n<p>Enter color: White</p>\n<p>Enter year: 2013</p>\n<p>Enter capacity: 2.0</p>\n<p>Reg No. Name        IC No.  Plate No. Color Year    Make    Model   Capacity</p>\n<p>1001            2222    AR1234      White   2013    Honda   City    2.0</p>\n<p>Reg No.  Name        IC No.  Plate No.   Color   Year    Make    Model   Capacity</p>\n<p>1002            2222    AR1234      White   2013    Honda   City    2.0</p>\n</blockquote>\n</blockquote>\n<p>The name can't be printed and the variables for first person were disappeared, I tried to use array for CarRegistrationListing but it caused error.\nI would appreciate if someone can point out my mistakes.\nThank you so much!</p>\n"},{"tags":["java","sql","oracle","jdbc","resultset"],"comments":[{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1549458226,"post_id":54553339,"comment_id":95908329,"body_markdown":"Have you verified if it was actually created as sensitive? Drivers can downgrade if necessary (and the combination of TYPE_SCROLL_SENSITIVE with CONCUR_UPDATABLE is more likely to be not supported). Also try with auto-commit disabled (default is auto-commit enabled).","body":"Have you verified if it was actually created as sensitive? Drivers can downgrade if necessary (and the combination of TYPE_SCROLL_SENSITIVE with CONCUR_UPDATABLE is more likely to be not supported). Also try with auto-commit disabled (default is auto-commit enabled)."},{"owner":{"account_id":3986640,"reputation":583,"user_id":3287010,"accept_rate":91,"display_name":"Nizam"},"score":0,"creation_date":1549460685,"post_id":54553339,"comment_id":95909813,"body_markdown":"@MarkRotteveel I verified with different combination also such as (TYPE_SCROLL_SENSITIVE, CONCUR_READ_ONLY) but no luck. Also tried auto commit false. Can you explain what it means &#39;Drivers can downgrade if necessary &#39;.","body":"@MarkRotteveel I verified with different combination also such as (TYPE_SCROLL_SENSITIVE, CONCUR_READ_ONLY) but no luck. Also tried auto commit false. Can you explain what it means &#39;Drivers can downgrade if necessary &#39;."},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1549462167,"post_id":54553339,"comment_id":95910720,"body_markdown":"I mean verify by checking the actual runtime sensitivity using `ResultSet.getType()`. JDBC drivers are allowed to downgrade the concurrency or type if they can&#39;t satisfy the requested concurrency and/or type.","body":"I mean verify by checking the actual runtime sensitivity using <code>ResultSet.getType()</code>. JDBC drivers are allowed to downgrade the concurrency or type if they can&#39;t satisfy the requested concurrency and/or type."},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1549462424,"post_id":54553339,"comment_id":95910899,"body_markdown":"Also make sure to inspect the relevant `DatabaseMetaData` methods for the actual offered sensitivity guarantees.","body":"Also make sure to inspect the relevant <code>DatabaseMetaData</code> methods for the actual offered sensitivity guarantees."},{"owner":{"account_id":3986640,"reputation":583,"user_id":3287010,"accept_rate":91,"display_name":"Nizam"},"score":0,"creation_date":1549566775,"post_id":54553339,"comment_id":95958416,"body_markdown":"@MarkRotteveel I checked the support through DatabaseMetaData and edited my post. You can check the result it showing true. Any further suggestion.","body":"@MarkRotteveel I checked the support through DatabaseMetaData and edited my post. You can check the result it showing true. Any further suggestion."},{"owner":{"account_id":3986640,"reputation":583,"user_id":3287010,"accept_rate":91,"display_name":"Nizam"},"score":0,"creation_date":1549566862,"post_id":54553339,"comment_id":95958458,"body_markdown":"@MarmiteBomber As you go through my post, I said at LINE 39 when sleep occurs I manually update it from backend to check the sensitivity.","body":"@MarmiteBomber As you go through my post, I said at LINE 39 when sleep occurs I manually update it from backend to check the sensitivity."}],"answers":[{"tags":[],"owner":{"account_id":6169361,"reputation":20329,"user_id":4808122,"accept_rate":89,"display_name":"Marmite Bomber"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659436058,"creation_date":1549752311,"answer_id":54611564,"question_id":54553339,"body_markdown":"As with other features that *doesn&#39;t work* you must read the [documentation][1] before using them.\r\n\r\n\r\n\r\nThe important thing is the notion of the window\r\n\r\n&gt; The Oracle implementation of scroll-sensitive result sets involves the concept of a window, with a window size that is based on the fetch size. The window size affects how often rows are updated in the result set.\r\n\r\nSo to observe the change of every single row, you must set the *fetch size* to 1.\r\n\r\nNote that it is not enought to set the fetch size for the *resultSet*, because the default fetch size is 10 and the change is valid only for the 11th and the subsequent rows.\r\n\r\nTherefore the fetch size must be set on the `prepareStatement`:\r\n\r\n\r\n     def stmt = con.prepareStatement(&quot;&quot;&quot;select id, val from test\r\n     where  id between ? and ?  order by id&quot;&quot;&quot;, ResultSet.TYPE_SCROLL_SENSITIVE, ResultSet.CONCUR_UPDATABLE)\r\n     stmt.setFetchSize(1)\r\n     // set bind variables and execute statement\r\n     \r\nNow on each call of `rs.next()` a new window is opened, which leads to an internal call of [`refreshRow`][2]\r\n\r\n\r\n\r\nwhich gets the current values from the database. \r\n\r\nNote that this bahaviour is performed ony for `TYPE_SCROLL_SENSITIVE` for `TYPE_SCROLL_INSENSITIVE` no  `refreshRow` is called, so you see the constant data\r\nas of the initial query even is you switch the window. You may call `refreshRow` explicitely to see the same effect.\r\n\r\nTechnically the functionality is implemented using two cursors. The first one corresponds to the used query, only adding the ROWID column.\r\n\r\n     select rowid as &quot;__Oracle_JDBC_internal_ROWID__&quot;, id, val from test\r\n     where  id between :1  and :2   order by id\r\n     \r\nThe second cursor called on each window switch (i.e. for fetch size = 1 for each row fetched) simple outer joins the saved `rowid` with the query from the first cursor to refetch the current data. \r\n\r\n\r\n    WITH &quot;__JDBC_ROWIDS__&quot; AS (SELECT COLUMN_VALUE ID, ROWNUM NUM FROM TABLE(:1 ))\r\n    SELECT &quot;__JDBC_ORIGINAL__&quot;.*\r\n    FROM (select rowid as &quot;__Oracle_JDBC_internal_ROWID__&quot;, id, val from test\r\n    where  id between :2  and :3   order by id) &quot;__JDBC_ORIGINAL__&quot;, &quot;__JDBC_ROWIDS__&quot;\r\n    WHERE &quot;__JDBC_ORIGINAL__&quot;.&quot;__Oracle_JDBC_internal_ROWID__&quot;(+) = &quot;__JDBC_ROWIDS__&quot;.ID\r\n    ORDER BY &quot;__JDBC_ROWIDS__&quot;.NUM \r\n\r\n        \r\n\r\n\r\nThere are similar question out there, but none of them realy explains the problem, so I do not mark this question as duplicated:\r\n\r\nhttps://stackoverflow.com/questions/2091659/behaviour-of-resultset-type-scroll-sensitive/25585046\r\n\r\nhttps://stackoverflow.com/questions/19659268/jdbc-resultset-type-scroll-sensitive\r\n\r\nhttps://stackoverflow.com/questions/42622929/jdbc-result-set-type-scroll-sensitive/42626408#42626408\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/database/oracle/oracle-database/18/jjdbc/resultset.html#GUID-8360DD85-DBCE-485A-9E22-F7B7A5904D63\r\n  [2]: https://docs.oracle.com/en/database/oracle/oracle-database/18/jjdbc/resultset.html#GUID-264DC004-D0F0-4BD4-935C-438FD46DB412\r\n\r\nThe *short answer* is that the **default fetch size you used is to high to observe an update of a single row**.\r\n\r\n\r\nThe test were done on\r\n`Oracle Database 12c Enterprise Edition Release 12.2.0.1.0`\r\n`DriverVersion 12.2.0.1.0`","title":"JDBC Type Scroll Insensitive and Sensitive","body":"<p>As with other features that <em>doesn't work</em> you must read the <a href=\"https://docs.oracle.com/en/database/oracle/oracle-database/18/jjdbc/resultset.html#GUID-8360DD85-DBCE-485A-9E22-F7B7A5904D63\" rel=\"nofollow noreferrer\">documentation</a> before using them.</p>\n<p>The important thing is the notion of the window</p>\n<blockquote>\n<p>The Oracle implementation of scroll-sensitive result sets involves the concept of a window, with a window size that is based on the fetch size. The window size affects how often rows are updated in the result set.</p>\n</blockquote>\n<p>So to observe the change of every single row, you must set the <em>fetch size</em> to 1.</p>\n<p>Note that it is not enought to set the fetch size for the <em>resultSet</em>, because the default fetch size is 10 and the change is valid only for the 11th and the subsequent rows.</p>\n<p>Therefore the fetch size must be set on the <code>prepareStatement</code>:</p>\n<pre><code> def stmt = con.prepareStatement(&quot;&quot;&quot;select id, val from test\n where  id between ? and ?  order by id&quot;&quot;&quot;, ResultSet.TYPE_SCROLL_SENSITIVE, ResultSet.CONCUR_UPDATABLE)\n stmt.setFetchSize(1)\n // set bind variables and execute statement\n \n</code></pre>\n<p>Now on each call of <code>rs.next()</code> a new window is opened, which leads to an internal call of <a href=\"https://docs.oracle.com/en/database/oracle/oracle-database/18/jjdbc/resultset.html#GUID-264DC004-D0F0-4BD4-935C-438FD46DB412\" rel=\"nofollow noreferrer\"><code>refreshRow</code></a></p>\n<p>which gets the current values from the database.</p>\n<p>Note that this bahaviour is performed ony for <code>TYPE_SCROLL_SENSITIVE</code> for <code>TYPE_SCROLL_INSENSITIVE</code> no  <code>refreshRow</code> is called, so you see the constant data\nas of the initial query even is you switch the window. You may call <code>refreshRow</code> explicitely to see the same effect.</p>\n<p>Technically the functionality is implemented using two cursors. The first one corresponds to the used query, only adding the ROWID column.</p>\n<pre><code> select rowid as &quot;__Oracle_JDBC_internal_ROWID__&quot;, id, val from test\n where  id between :1  and :2   order by id\n \n</code></pre>\n<p>The second cursor called on each window switch (i.e. for fetch size = 1 for each row fetched) simple outer joins the saved <code>rowid</code> with the query from the first cursor to refetch the current data.</p>\n<pre><code>WITH &quot;__JDBC_ROWIDS__&quot; AS (SELECT COLUMN_VALUE ID, ROWNUM NUM FROM TABLE(:1 ))\nSELECT &quot;__JDBC_ORIGINAL__&quot;.*\nFROM (select rowid as &quot;__Oracle_JDBC_internal_ROWID__&quot;, id, val from test\nwhere  id between :2  and :3   order by id) &quot;__JDBC_ORIGINAL__&quot;, &quot;__JDBC_ROWIDS__&quot;\nWHERE &quot;__JDBC_ORIGINAL__&quot;.&quot;__Oracle_JDBC_internal_ROWID__&quot;(+) = &quot;__JDBC_ROWIDS__&quot;.ID\nORDER BY &quot;__JDBC_ROWIDS__&quot;.NUM \n\n    \n</code></pre>\n<p>There are similar question out there, but none of them realy explains the problem, so I do not mark this question as duplicated:</p>\n<p><a href=\"https://stackoverflow.com/questions/2091659/behaviour-of-resultset-type-scroll-sensitive/25585046\">Behaviour of ResultSet.TYPE_SCROLL_SENSITIVE</a></p>\n<p><a href=\"https://stackoverflow.com/questions/19659268/jdbc-resultset-type-scroll-sensitive\">JDBC ResultSet Type_Scroll_Sensitive</a></p>\n<p><a href=\"https://stackoverflow.com/questions/42622929/jdbc-result-set-type-scroll-sensitive/42626408#42626408\">JDBC result set type scroll sensitive</a></p>\n<p>The <em>short answer</em> is that the <strong>default fetch size you used is to high to observe an update of a single row</strong>.</p>\n<p>The test were done on\n<code>Oracle Database 12c Enterprise Edition Release 12.2.0.1.0</code>\n<code>DriverVersion 12.2.0.1.0</code></p>\n"}],"owner":{"account_id":3986640,"reputation":583,"user_id":3287010,"accept_rate":91,"display_name":"Nizam"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1667,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":54611564,"answer_count":1,"score":2,"last_activity_date":1659436058,"creation_date":1549454972,"question_id":54553339,"body_markdown":"When going through Java JDBC ResultSet Types, there is two scroll type TYPE_SCROLL_SENSITIVE and TYPE_SCROLL_INSENSITIVE, which I understood. But when I go to practical implementation, I didn&#39;t see the effect. Below is the code :\r\n\r\n    package com.jdbc.resultsettypeandconcurrency;\r\n    \r\n    import java.sql.Connection;\r\n    import java.sql.DatabaseMetaData;\r\n    import java.sql.DriverManager;\r\n    import java.sql.ResultSet;\r\n    import java.sql.SQLException;\r\n    import java.sql.Statement;\r\n    \r\n    public class TypeInSensitiveConcurUpdate {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tConnection con = null;\r\n    \t\tStatement stmt = null;\r\n    \t\t\r\n    \t\ttry {\r\n    \t\t\tSystem.out.println(&quot;loading the driver.....&quot;);\r\n    \t\t\tClass.forName(&quot;oracle.jdbc.driver.OracleDriver&quot;);\r\n    \t\t\tSystem.out.println(&quot;Driver loaded&quot;);\r\n    \t\t\tcon = DriverManager.getConnection(&quot;jdbc:oracle:thin:@localhost:1521:orcl&quot;, &quot;user&quot;, &quot;pass&quot;);\r\n    \t\t\tif(con!=null) {\r\n    \t\t\t\tSystem.out.println(&quot;Connected to database&quot;);\r\n    \t\t\t    \r\n    \t\t\t} else {\r\n    \t\t\t\tSystem.out.println(&quot;Could not Get Connection&quot;);\r\n    \t\t\t}\r\n                        \r\n    \t\t\tstmt = con.createStatement(ResultSet.TYPE_SCROLL_SENSITIVE, ResultSet.CONCUR_UPDATABLE);\r\n    \t\t\tString query = &quot;select COF_NAME, SUP_ID, PRICE, SALES, TOTAL from COFFEES&quot;;\r\n    \t\t\tResultSet rs = stmt.executeQuery(query);\r\n    \t\t\tSystem.out.println();\r\n    \t\t\tint cnt = 1;\r\n    \t\t\twhile(rs.next()) {\r\n    \t\t\t\tSystem.out.print(rs.getString(&quot;COF_NAME&quot;)+&quot;, &quot;);\r\n    \t\t\t\tSystem.out.print(rs.getInt(&quot;SUP_ID&quot;)+&quot;, &quot;);\r\n    \t\t\t\tSystem.out.print(rs.getFloat(&quot;PRICE&quot;)+&quot;, &quot;);\r\n    \t\t\t\tSystem.out.print(rs.getInt(&quot;SALES&quot;)+&quot;, &quot;);\r\n    \t\t\t\tSystem.out.print(rs.getInt(&quot;TOTAL&quot;)+&quot;\\n&quot;);\r\n    \t\t\t\tif(cnt == 2){\r\n    \t\t\t\t\ttry {\r\n    \t\t\t\t\t\tThread.sleep(20 * 1000);/**LINE:39*/\r\n    \t\t\t\t\t} catch (InterruptedException e) {\r\n    \t\t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t\tcnt++;\r\n    \t\t\t}\r\n    \t\t\tSystem.out.println();\r\n    \t\t\t\r\n    \t\t} catch(ClassNotFoundException e) {\r\n    \t\t\tSystem.out.println(&quot;ClassNotFoundException : Driver Class not found&quot;);\r\n    \t\t\tSystem.out.println(e.getMessage());\r\n    \t\t\t\r\n    \t\t} catch(SQLException e) {\r\n    \t\t\tSystem.out.println(&quot;SQL Error &quot;+e.getMessage());\r\n    \t\t\tSystem.out.println(e.getErrorCode());\r\n    \t\t\t\r\n    \t\t} finally {\r\n    \t\t\tif(stmt!=null) {\r\n    \t\t\t   stmt.close();\r\n    \t\t\t}\r\n    \t\t\tif(con!=null) {\r\n    \t\t\t   con.close();\r\n    \t\t\t}\r\n    \t\t\tSystem.out.println(&quot;All Connection closed&quot;);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nWhen program reaches at LINE 39, I update the DB from backend for a record. For TYPE_SCROLL_INSENSITIVE it does not show the updated record which it should do but for TYPE_SCROLL_SENSITIVE does not doing the desired behavior. It must show the updated record but not showing. Can anyone tell why is it so ?\r\n\r\nI read somewhere when googled(not Java doc or JLS) that ODBC thin driver, OCI driver support INSENSITIVE ResultSet object and not sensitive. Is it so? If yes why and which driver supports both? If no then where I am going wrong.\r\n\r\nI went through the [link][1], but didn&#39;t point to my question. Any Suggestion will be appreciated. \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/40026644/which-jdbc-drivers-support-scroll-sensitive-insensitive-properly\r\n\r\nEDIT: Added these lines to check the support\r\n\r\n    DatabaseMetaData meta = con.getMetaData();\r\n    System.out.println(&quot;{TYPE_SCROLL_INSENSITIVE, CONCUR_UPDATABLE} -&gt; &quot;+\r\n    \t\t\t    meta.supportsResultSetConcurrency(ResultSet.TYPE_SCROLL_INSENSITIVE, ResultSet.CONCUR_UPDATABLE));\r\n    System.out.println(&quot;{TYPE_SCROLL_SENSITIVE, CONCUR_UPDATABLE} -&gt; &quot;+\r\n    \t\t\t    \tmeta.supportsResultSetConcurrency(ResultSet.TYPE_SCROLL_SENSITIVE, ResultSet.CONCUR_UPDATABLE));\r\n    System.out.println(&quot;{TYPE_SCROLL_SENSITIVE, CONCUR_READ_ONLY} -&gt; &quot;+\r\n    \t\t\t    \tmeta.supportsResultSetConcurrency(ResultSet.TYPE_SCROLL_SENSITIVE, ResultSet.CONCUR_READ_ONLY));\r\n\t\t\t    \r\nBelow is the result I got:\r\n\r\n{TYPE_SCROLL_INSENSITIVE, CONCUR_UPDATABLE} -&gt; true\r\n\r\n{TYPE_SCROLL_SENSITIVE, CONCUR_UPDATABLE} -&gt; true\r\n\r\n{TYPE_SCROLL_SENSITIVE, CONCUR_READ_ONLY} -&gt; true\r\n","title":"JDBC Type Scroll Insensitive and Sensitive","body":"<p>When going through Java JDBC ResultSet Types, there is two scroll type TYPE_SCROLL_SENSITIVE and TYPE_SCROLL_INSENSITIVE, which I understood. But when I go to practical implementation, I didn't see the effect. Below is the code :</p>\n\n<pre><code>package com.jdbc.resultsettypeandconcurrency;\n\nimport java.sql.Connection;\nimport java.sql.DatabaseMetaData;\nimport java.sql.DriverManager;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.sql.Statement;\n\npublic class TypeInSensitiveConcurUpdate {\n\n    public static void main(String[] args) {\n        Connection con = null;\n        Statement stmt = null;\n\n        try {\n            System.out.println(\"loading the driver.....\");\n            Class.forName(\"oracle.jdbc.driver.OracleDriver\");\n            System.out.println(\"Driver loaded\");\n            con = DriverManager.getConnection(\"jdbc:oracle:thin:@localhost:1521:orcl\", \"user\", \"pass\");\n            if(con!=null) {\n                System.out.println(\"Connected to database\");\n\n            } else {\n                System.out.println(\"Could not Get Connection\");\n            }\n\n            stmt = con.createStatement(ResultSet.TYPE_SCROLL_SENSITIVE, ResultSet.CONCUR_UPDATABLE);\n            String query = \"select COF_NAME, SUP_ID, PRICE, SALES, TOTAL from COFFEES\";\n            ResultSet rs = stmt.executeQuery(query);\n            System.out.println();\n            int cnt = 1;\n            while(rs.next()) {\n                System.out.print(rs.getString(\"COF_NAME\")+\", \");\n                System.out.print(rs.getInt(\"SUP_ID\")+\", \");\n                System.out.print(rs.getFloat(\"PRICE\")+\", \");\n                System.out.print(rs.getInt(\"SALES\")+\", \");\n                System.out.print(rs.getInt(\"TOTAL\")+\"\\n\");\n                if(cnt == 2){\n                    try {\n                        Thread.sleep(20 * 1000);/**LINE:39*/\n                    } catch (InterruptedException e) {\n                        e.printStackTrace();\n                    }\n                }\n                cnt++;\n            }\n            System.out.println();\n\n        } catch(ClassNotFoundException e) {\n            System.out.println(\"ClassNotFoundException : Driver Class not found\");\n            System.out.println(e.getMessage());\n\n        } catch(SQLException e) {\n            System.out.println(\"SQL Error \"+e.getMessage());\n            System.out.println(e.getErrorCode());\n\n        } finally {\n            if(stmt!=null) {\n               stmt.close();\n            }\n            if(con!=null) {\n               con.close();\n            }\n            System.out.println(\"All Connection closed\");\n        }\n    }\n}\n</code></pre>\n\n<p>When program reaches at LINE 39, I update the DB from backend for a record. For TYPE_SCROLL_INSENSITIVE it does not show the updated record which it should do but for TYPE_SCROLL_SENSITIVE does not doing the desired behavior. It must show the updated record but not showing. Can anyone tell why is it so ?</p>\n\n<p>I read somewhere when googled(not Java doc or JLS) that ODBC thin driver, OCI driver support INSENSITIVE ResultSet object and not sensitive. Is it so? If yes why and which driver supports both? If no then where I am going wrong.</p>\n\n<p>I went through the <a href=\"https://stackoverflow.com/questions/40026644/which-jdbc-drivers-support-scroll-sensitive-insensitive-properly\">link</a>, but didn't point to my question. Any Suggestion will be appreciated. </p>\n\n<p>EDIT: Added these lines to check the support</p>\n\n<pre><code>DatabaseMetaData meta = con.getMetaData();\nSystem.out.println(\"{TYPE_SCROLL_INSENSITIVE, CONCUR_UPDATABLE} -&gt; \"+\n                meta.supportsResultSetConcurrency(ResultSet.TYPE_SCROLL_INSENSITIVE, ResultSet.CONCUR_UPDATABLE));\nSystem.out.println(\"{TYPE_SCROLL_SENSITIVE, CONCUR_UPDATABLE} -&gt; \"+\n                    meta.supportsResultSetConcurrency(ResultSet.TYPE_SCROLL_SENSITIVE, ResultSet.CONCUR_UPDATABLE));\nSystem.out.println(\"{TYPE_SCROLL_SENSITIVE, CONCUR_READ_ONLY} -&gt; \"+\n                    meta.supportsResultSetConcurrency(ResultSet.TYPE_SCROLL_SENSITIVE, ResultSet.CONCUR_READ_ONLY));\n</code></pre>\n\n<p>Below is the result I got:</p>\n\n<p>{TYPE_SCROLL_INSENSITIVE, CONCUR_UPDATABLE} -> true</p>\n\n<p>{TYPE_SCROLL_SENSITIVE, CONCUR_UPDATABLE} -> true</p>\n\n<p>{TYPE_SCROLL_SENSITIVE, CONCUR_READ_ONLY} -> true</p>\n"},{"tags":["java","rounding"],"comments":[{"owner":{"account_id":28674,"reputation":1682,"user_id":76813,"accept_rate":91,"display_name":"Plumenator"},"score":0,"creation_date":1312525044,"post_id":269721,"comment_id":8287931,"body_markdown":"A really concise description of various rounding methods: http://mathforum.org/library/drmath/view/71202.html","body":"A really concise description of various rounding methods: <a href=\"http://mathforum.org/library/drmath/view/71202.html\" rel=\"nofollow noreferrer\">mathforum.org/library/drmath/view/71202.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":3393,"reputation":60796,"user_id":4893,"accept_rate":64,"display_name":"sblundy"},"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1225995697,"creation_date":1225995697,"answer_id":269735,"question_id":269721,"body_markdown":"According to the [javadoc][1]\r\n\r\n&gt; Returns the closest long to the\r\n&gt; argument. The result is rounded to an\r\n&gt; integer by adding 1/2, taking the\r\n&gt; floor of the result, and casting the\r\n&gt; result to type long. In other words,\r\n&gt; the result is equal to the value of\r\n&gt; the expression:\r\n&gt; \r\n&gt; `(long)Math.floor(a + 0.5d)`\r\n\r\nConceptually, you round **up**. In other words, to the next integer **greater** than the value and -3 is greater than -3.5, while -4 is less.\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/lang/Math.html#round(double)","title":"Rounding negative numbers in Java","body":"<p>According to the <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/Math.html#round(double)\" rel=\"noreferrer\">javadoc</a></p>\n\n<blockquote>\n  <p>Returns the closest long to the\n  argument. The result is rounded to an\n  integer by adding 1/2, taking the\n  floor of the result, and casting the\n  result to type long. In other words,\n  the result is equal to the value of\n  the expression:</p>\n  \n  <p><code>(long)Math.floor(a + 0.5d)</code></p>\n</blockquote>\n\n<p>Conceptually, you round <strong>up</strong>. In other words, to the next integer <strong>greater</strong> than the value and -3 is greater than -3.5, while -4 is less.</p>\n"},{"tags":[],"owner":{"account_id":4394,"reputation":47462,"user_id":6568,"display_name":"Dave Costa"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1225996722,"creation_date":1225995799,"answer_id":269740,"question_id":269721,"body_markdown":"There are a variety of methods of rounding; the one you are looking at is called Symmetrical Arithmetic Rounding (as it states).  The section you are referring to states:  &quot;This method occurs commonly used in mathematical applications, for example in accounting. It is the one generally taught in elementary mathematics classes.&quot;  This seems to acknowledge that it is not a rule that is globally agreed upon, just the one that is most common.\r\n\r\nPersonally, I don&#39;t recall ever being taught that rule in school.  My understanding of rounding has always been that .5 is rounded up, regardless of the sign of the number.  Apparently the authors of Java have the same understanding.  This is Asymmetrical Arithmetic Rounding.\r\n\r\nDifferent tools and languages potentially use different rounding schemes.  Excel apparently uses the symmetric method.\r\n\r\n(Overall, I would advise that if you find a conflict between Wikipedia and experience, you look for information elsewhere.  Wikipedia is not perfect.)","title":"Rounding negative numbers in Java","body":"<p>There are a variety of methods of rounding; the one you are looking at is called Symmetrical Arithmetic Rounding (as it states).  The section you are referring to states:  \"This method occurs commonly used in mathematical applications, for example in accounting. It is the one generally taught in elementary mathematics classes.\"  This seems to acknowledge that it is not a rule that is globally agreed upon, just the one that is most common.</p>\n\n<p>Personally, I don't recall ever being taught that rule in school.  My understanding of rounding has always been that .5 is rounded up, regardless of the sign of the number.  Apparently the authors of Java have the same understanding.  This is Asymmetrical Arithmetic Rounding.</p>\n\n<p>Different tools and languages potentially use different rounding schemes.  Excel apparently uses the symmetric method.</p>\n\n<p>(Overall, I would advise that if you find a conflict between Wikipedia and experience, you look for information elsewhere.  Wikipedia is not perfect.)</p>\n"},{"tags":[],"owner":{"account_id":15832,"reputation":7189,"user_id":33857,"accept_rate":84,"display_name":"Paulo Guedes"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1225995867,"creation_date":1225995867,"answer_id":269746,"question_id":269721,"body_markdown":"According to Javadocs:\r\n\r\nReturns the closest &lt;code&gt;long&lt;/code&gt; to the argument. The result is rounded to an integer by adding 1/2, taking the floor of the result, and casting the result to type &lt;code&gt;long&lt;/code&gt;. In other words, the result is equal to the value of the expression:\r\n     &lt;p&gt;&lt;pre&gt;(long)Math.floor(a + 0.5d)&lt;/pre&gt;","title":"Rounding negative numbers in Java","body":"<p>According to Javadocs:</p>\n\n<p>Returns the closest <code>long</code> to the argument. The result is rounded to an integer by adding 1/2, taking the floor of the result, and casting the result to type <code>long</code>. In other words, the result is equal to the value of the expression:\n     <p><pre>(long)Math.floor(a + 0.5d)</pre></p>\n"},{"tags":[],"owner":{"account_id":11936,"reputation":13753,"user_id":23249,"accept_rate":85,"display_name":"Elie"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1225996172,"creation_date":1225996172,"answer_id":269768,"question_id":269721,"body_markdown":"Turns out the convention is to round up. I guess Wikipedia is fallible. Turns out Microsoft got it wrong, though, as they round it to -4 as well, which is not convention (I checked with someone who has a PhD in math).","title":"Rounding negative numbers in Java","body":"<p>Turns out the convention is to round up. I guess Wikipedia is fallible. Turns out Microsoft got it wrong, though, as they round it to -4 as well, which is not convention (I checked with someone who has a PhD in math).</p>\n"},{"tags":[],"owner":{"account_id":7335,"reputation":334951,"user_id":12711,"accept_rate":75,"display_name":"Michael Burr"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1225996272,"creation_date":1225996272,"answer_id":269777,"question_id":269721,"body_markdown":"The Wikipedia article you cite does not say that&#39;s the only way to round, just the common way to round.  Also mentioned in that article are several alternatives (unfortunately none of which describe Java&#39;s rounding method - even though they call it out as &quot;Asymmetric Arithmetic Rounding&quot; when indicating what JavaScript does).\r\n\r\nYou need to decide how you *want* your numbers rounded, then use that method.  If Java&#39;s implementation matches that, then great.  otherwise you&#39;ll need to implement it on your own.","title":"Rounding negative numbers in Java","body":"<p>The Wikipedia article you cite does not say that's the only way to round, just the common way to round.  Also mentioned in that article are several alternatives (unfortunately none of which describe Java's rounding method - even though they call it out as \"Asymmetric Arithmetic Rounding\" when indicating what JavaScript does).</p>\n\n<p>You need to decide how you <em>want</em> your numbers rounded, then use that method.  If Java's implementation matches that, then great.  otherwise you'll need to implement it on your own.</p>\n"},{"tags":[],"owner":{"display_name":"Adam Jaskiewicz"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1226000105,"creation_date":1226000105,"answer_id":269971,"question_id":269721,"body_markdown":"For what it&#39;s worth, &lt;code&gt;[java.math.BigDecimal][1]&lt;/code&gt; has selectable rounding modes if you need more control over that sort of thing.\r\n\r\n\r\n  [1]: http://java.sun.com/j2se/1.5.0/docs/api/java/math/BigDecimal.html &quot;java.math.BigDecimal Javadoc&quot;","title":"Rounding negative numbers in Java","body":"<p>For what it's worth, <code><a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/math/BigDecimal.html\" rel=\"noreferrer\" title=\"java.math.BigDecimal Javadoc\">java.math.BigDecimal</a></code> has selectable rounding modes if you need more control over that sort of thing.</p>\n"},{"tags":[],"owner":{"account_id":25814692,"reputation":1,"user_id":19554834,"display_name":"Ankit Panday"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659435816,"creation_date":1659435816,"answer_id":73205914,"question_id":269721,"body_markdown":"    //for Example dividing an Int A with 200 ; \r\n    public class Solution {\r\n        public int solve(int A) {\r\n           double B = (double) A /200;\r\n           \r\n           \r\n           if (B&lt;0){\r\n               B= (int) Math.round(Math.abs(B));\r\n               return (int) B * -1 ;\r\n           }\r\n           else{\r\n               B= (int) Math.round(B);\r\n               return (int) B ;\r\n           }\r\n         \r\n        \r\n          \r\n           }\r\n        }","title":"Rounding negative numbers in Java","body":"<pre><code>//for Example dividing an Int A with 200 ; \npublic class Solution {\n    public int solve(int A) {\n       double B = (double) A /200;\n       \n       \n       if (B&lt;0){\n           B= (int) Math.round(Math.abs(B));\n           return (int) B * -1 ;\n       }\n       else{\n           B= (int) Math.round(B);\n           return (int) B ;\n       }\n     \n    \n      \n       }\n    }\n</code></pre>\n"}],"owner":{"account_id":11936,"reputation":13753,"user_id":23249,"accept_rate":85,"display_name":"Elie"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25957,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":269735,"answer_count":7,"score":20,"last_activity_date":1659435816,"creation_date":1225995512,"question_id":269721,"body_markdown":"According to &lt;a href=&quot;http://en.wikipedia.org/wiki/Rounding&quot;&gt;Wikipedia&lt;/a&gt; when rounding a negative number, you round the absolute number. So by that reasoning, -3.5 would be rounded to -4. But when I use java.lang.Math.round(-3.5) returns -3. Can someone please explain this?","title":"Rounding negative numbers in Java","body":"<p>According to <a href=\"http://en.wikipedia.org/wiki/Rounding\" rel=\"noreferrer\">Wikipedia</a> when rounding a negative number, you round the absolute number. So by that reasoning, -3.5 would be rounded to -4. But when I use java.lang.Math.round(-3.5) returns -3. Can someone please explain this?</p>\n"},{"tags":["java","servlets","apache-commons"],"answers":[{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1264533730,"creation_date":1264533730,"answer_id":2141963,"question_id":2141829,"body_markdown":"- &lt;a href=&quot;http://kickjava.com/src/ByteArrayDataSource.java.htm&quot;&gt;This&lt;/a&gt; is the code of commons-email `ByteArrayDataSource`\r\n- it sounds odd to try to replace apache commons - don&#39;t, unless you have a really good reason\r\n- you _can_ get absolute paths in a servlet. You can call `getServletContext().getRealPath(&quot;/&quot;)` which will return the absolute path of your application, and then you can get files relative to it.","title":"Constructing a DataSource from an InputStream or Byte array","body":"<ul>\n<li><a href=\"http://kickjava.com/src/ByteArrayDataSource.java.htm\" rel=\"nofollow noreferrer\">This</a> is the code of commons-email <code>ByteArrayDataSource</code></li>\n<li>it sounds odd to try to replace apache commons - don't, unless you have a really good reason</li>\n<li>you <em>can</em> get absolute paths in a servlet. You can call <code>getServletContext().getRealPath(\"/\")</code> which will return the absolute path of your application, and then you can get files relative to it.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":49496,"reputation":12158,"user_id":147373,"accept_rate":80,"display_name":"Casey"},"down_vote_count":1,"up_vote_count":6,"is_accepted":true,"score":5,"last_activity_date":1264534291,"creation_date":1264534291,"answer_id":2142004,"question_id":2141829,"body_markdown":"This was rather simple actually, I just copied over the bytes from the InputStream to the DataSource:\r\n\r\n    FileItem f = files.get(0);\r\n\r\n    // there is a problem here where the file being created is empty, since we only have a\r\n    // partial path:\r\n    DataSource source = new FileDataSource(new File(f.getName()));\r\n            \r\n    // because of the above problem, we are going to copy over the data ourselves:\r\n    byte[] sourceBytes = f.get();\r\n    OutputStream sourceOS = source.getOutputStream();\r\n    sourceOS.write(sourceBytes);","title":"Constructing a DataSource from an InputStream or Byte array","body":"<p>This was rather simple actually, I just copied over the bytes from the InputStream to the DataSource:</p>\n\n<pre><code>FileItem f = files.get(0);\n\n// there is a problem here where the file being created is empty, since we only have a\n// partial path:\nDataSource source = new FileDataSource(new File(f.getName()));\n\n// because of the above problem, we are going to copy over the data ourselves:\nbyte[] sourceBytes = f.get();\nOutputStream sourceOS = source.getOutputStream();\nsourceOS.write(sourceBytes);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2985164,"reputation":5188,"user_id":2534191,"accept_rate":25,"display_name":"Yuriy N."},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1455208804,"creation_date":1455207665,"answer_id":35344612,"question_id":2141829,"body_markdown":"In our application there are objects that have properties InputStream and Name. We are using next class to construct DataSource with those properties. \r\n\r\n    public class InputStreamDataSource implements DataSource {\r\n\r\n\t    ByteArrayOutputStream buffer = new ByteArrayOutputStream();\r\n\t    private final String name;\r\n\r\n\t    public InputStreamDataSource(InputStream inputStream, String name) {\r\n\t        this.name = name;\r\n\t        try {\r\n\t\t\t\tint nRead;\r\n\t\t        byte[] data = new byte[16384];\r\n\t\t        while ((nRead = inputStream.read(data, 0, data.length)) != -1) {\r\n\t\t          buffer.write(data, 0, nRead);\r\n\t\t        }\r\n                inputStream.close();\r\n\t\t        buffer.flush();\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t        \r\n\t    }\r\n\r\n\t    @Override\r\n\t    public String getContentType() {\t    \t\r\n\t    \treturn new MimetypesFileTypeMap().getContentType(name);\r\n\t    }\r\n\r\n\t    @Override\r\n\t    public InputStream getInputStream() throws IOException {\r\n\t    \t\treturn new ByteArrayInputStream(buffer.toByteArray());\r\n\t    }\r\n\r\n\t    @Override\r\n\t    public String getName() {\r\n\t       return name;\r\n\t    }\r\n\r\n\t    @Override\r\n\t    public OutputStream getOutputStream() throws IOException {\r\n\t        throw new IOException(&quot;Read-only data&quot;);\r\n\t    }\r\n\r\n\t}","title":"Constructing a DataSource from an InputStream or Byte array","body":"<p>In our application there are objects that have properties InputStream and Name. We are using next class to construct DataSource with those properties. </p>\n\n<pre><code>public class InputStreamDataSource implements DataSource {\n\n    ByteArrayOutputStream buffer = new ByteArrayOutputStream();\n    private final String name;\n\n    public InputStreamDataSource(InputStream inputStream, String name) {\n        this.name = name;\n        try {\n            int nRead;\n            byte[] data = new byte[16384];\n            while ((nRead = inputStream.read(data, 0, data.length)) != -1) {\n              buffer.write(data, 0, nRead);\n            }\n            inputStream.close();\n            buffer.flush();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n    }\n\n    @Override\n    public String getContentType() {            \n        return new MimetypesFileTypeMap().getContentType(name);\n    }\n\n    @Override\n    public InputStream getInputStream() throws IOException {\n            return new ByteArrayInputStream(buffer.toByteArray());\n    }\n\n    @Override\n    public String getName() {\n       return name;\n    }\n\n    @Override\n    public OutputStream getOutputStream() throws IOException {\n        throw new IOException(\"Read-only data\");\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5421563,"reputation":5502,"user_id":4315049,"accept_rate":57,"display_name":"robjwilkins"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659435776,"creation_date":1659435776,"answer_id":73205904,"question_id":2141829,"body_markdown":"Most of the solutions shown here require that the InpustStream be closed (read into memory). It is possible to wrap the InputStream in a DataSource object without closing the InputStream though:\r\n\r\n```java\r\n\r\n\r\n  private record PipedDataSource(InputStream in, String contentType, String encoding) \r\n    implements DataSource, EncodingAware {\r\n\r\n    public String getContentType() {\r\n      return contentType;\r\n    }\r\n\r\n    public InputStream getInputStream() {\r\n      return in;\r\n    }\r\n\r\n    public String getName() {\r\n      return &quot;PipedDataSource&quot;;\r\n    }\r\n\r\n    public OutputStream getOutputStream() throws IOException {\r\n      throw new IOException(&quot;No OutputStream&quot;);\r\n    }\r\n\r\n    @Override\r\n    public String getEncoding() {\r\n      return encoding;\r\n    }\r\n  }\r\n```\r\n\r\nThe example above also implements `EncodingAware`. This can prevent the InputStream from being closed by third part libraries (for example `java.mail.internet.MimeUtility`) when they get the data source encoding.","title":"Constructing a DataSource from an InputStream or Byte array","body":"<p>Most of the solutions shown here require that the InpustStream be closed (read into memory). It is possible to wrap the InputStream in a DataSource object without closing the InputStream though:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n\n  private record PipedDataSource(InputStream in, String contentType, String encoding) \n    implements DataSource, EncodingAware {\n\n    public String getContentType() {\n      return contentType;\n    }\n\n    public InputStream getInputStream() {\n      return in;\n    }\n\n    public String getName() {\n      return &quot;PipedDataSource&quot;;\n    }\n\n    public OutputStream getOutputStream() throws IOException {\n      throw new IOException(&quot;No OutputStream&quot;);\n    }\n\n    @Override\n    public String getEncoding() {\n      return encoding;\n    }\n  }\n</code></pre>\n<p>The example above also implements <code>EncodingAware</code>. This can prevent the InputStream from being closed by third part libraries (for example <code>java.mail.internet.MimeUtility</code>) when they get the data source encoding.</p>\n"}],"owner":{"account_id":49496,"reputation":12158,"user_id":147373,"accept_rate":80,"display_name":"Casey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40840,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":2142004,"answer_count":4,"score":8,"last_activity_date":1659435776,"creation_date":1264532392,"question_id":2141829,"body_markdown":"I am writing a small file upload utility thing as part of a larger project. Originally I was handling this from a servlet using the Apache commons File utility classes. Here is a snippet from a quick test client I wrote for the service:\r\n\r\n    public static void main(String[] args) {\r\n\r\n      JaxWsProxyFactoryBean factory = new JaxWsProxyFactoryBean();\r\n\r\n     factory.getInInterceptors().add(new LoggingInInterceptor());\r\n     factory.getOutInterceptors().add(new LoggingOutInterceptor());\r\n     factory.setServiceClass(FileUploadService.class);\r\n     factory.setAddress(&quot;http://localhost:8080/FileUploadService/FileUploadService&quot;);\r\n     FileUploadService client = (FileUploadService) factory.create();\r\n\r\n     FileType file = new FileType();\r\n     file.setName(&quot;statemo_1256144312279&quot;);\r\n     file.setType(&quot;xls&quot;);\r\n     \r\n     DataSource source = new FileDataSource(new File(&quot;c:/development/statemo_1256144312279.xls&quot;));\r\n     file.setHandler(new DataHandler(source));\r\n     Boolean ret = client.uploadFile(file);\r\n     System.out.println (ret);\r\n     System.exit(0);\r\n }\r\n\r\nThis works absolutely fine. Now the problem comes when I am trying to replace the Apache commons utilities. In the above code I am creating a DataSource from a File with an absolute path name. In my servlet, I can&#39;t get an absolute path name however and the file I am sending over the wire is empty. \r\n\r\nHere is the servlet code:\r\n\r\n     @SuppressWarnings(&quot;unchecked&quot;)\r\n        protected void doPost (final HttpServletRequest request, final HttpServletResponse response) \r\n            throws ServletException, IOException {\r\n        \r\n        // form should have enctype=&quot;multipart/form-data&quot; as an attribute\r\n     if (!ServletFileUpload.isMultipartContent (request)) {\r\n      LOG.info(&quot;Invalid form attribute&quot;);\r\n      return;\r\n     }\r\n     \r\n     //DataInputStream in = new DataInputStream(request.getInputStream());\r\n     \r\n     final DiskFileItemFactory factory = new DiskFileItemFactory ();\r\n     factory.setSizeThreshold(FILE_THRESHOLD_SIZE);\r\n    \r\n     final ServletFileUpload sfu = new ServletFileUpload (factory);\r\n     sfu.setSizeMax(MAX_FILE_SIZE);\r\n     \r\n     final HttpSession session = request.getSession();\r\n    \r\n     final List&lt;FileItem&gt; files = new ArrayList&lt;FileItem&gt;();\r\n         \r\n     final List&lt;String&gt; filesToProcess = new ArrayList&lt;String&gt;();\r\n     \r\n     try {\r\n            final List&lt;FileItem&gt; items = sfu.parseRequest(request);\r\n            \r\n            for (final FileItem f : items) {\r\n                if (!f.isFormField())\r\n                    files.add(f);\r\n            }\r\n        \r\n            /*for (final FileItem f : files) {\r\n             final String absoluteFileName = UPLOAD_DESTINATION + FilenameUtils.getName(f.getName());\r\n             \r\n                //f.write(new File (absoluteFileName));\r\n                filesToProcess.add(absoluteFileName);\r\n            }*/\r\n            \r\n            FileItem f = files.get(0);\r\n           \r\n            LOG.info(&quot;File: &quot; + FilenameUtils.getName(f.getName()));\r\n            LOG.info(&quot;FileBaseName: &quot; + FilenameUtils.getBaseName(f.getName()));\r\n            LOG.info(&quot;FileExtension: &quot; + FilenameUtils.getExtension(f.getName()));\r\n            \r\n            FileUploadServiceClient client = new FileUploadServiceClient();\r\n            \r\n            DataSource source = new FileDataSource(new File(f.getName()));\r\n         \r\n            FileType file = new FileType();\r\n            file.setHandler(new DataHandler(source));\r\n            file.setName(FilenameUtils.getBaseName(f.getName()));\r\n            file.setType(FilenameUtils.getExtension(f.getName()));\r\n           \r\n            Boolean ret = client.uploadFile(file);\r\n            \r\n            LOG.info(&quot;File uploaded - &quot; + ret);\r\n            \r\n            filesToProcess.add(UPLOAD_DESTINATION + FilenameUtils.getName(f.getName()));\r\n            session.setAttribute(&quot;filesToProcess&quot;, filesToProcess);\r\n       \r\n      final RequestDispatcher dispatcher = request.getRequestDispatcher(&quot;Validate&quot;);\r\n            if (null != dispatcher) {\r\n             dispatcher.forward(request, response);\r\n            }\r\n        } catch (FileUploadException e) {\r\n            LOG.info(&quot;Exception &quot; + e.getMessage());\r\n            e.printStackTrace();\r\n        } catch (Exception e) {\r\n            LOG.info(&quot;Exception &quot; + e.getMessage());\r\n            e.printStackTrace();\r\n        }\r\n }\r\n\r\nI&#39;ve been working on this for the better part of this morning and am not getting anywhere. Even if I get rid of the Apache commons file stuff completely and handle the parsing of the request myself, I still can&#39;t construct the DataSource appropriately.\r\n\r\nThanks!","title":"Constructing a DataSource from an InputStream or Byte array","body":"<p>I am writing a small file upload utility thing as part of a larger project. Originally I was handling this from a servlet using the Apache commons File utility classes. Here is a snippet from a quick test client I wrote for the service:</p>\n\n<pre><code>public static void main(String[] args) {\n\n  JaxWsProxyFactoryBean factory = new JaxWsProxyFactoryBean();\n\n factory.getInInterceptors().add(new LoggingInInterceptor());\n factory.getOutInterceptors().add(new LoggingOutInterceptor());\n factory.setServiceClass(FileUploadService.class);\n factory.setAddress(\"http://localhost:8080/FileUploadService/FileUploadService\");\n FileUploadService client = (FileUploadService) factory.create();\n\n FileType file = new FileType();\n file.setName(\"statemo_1256144312279\");\n file.setType(\"xls\");\n\n DataSource source = new FileDataSource(new File(\"c:/development/statemo_1256144312279.xls\"));\n file.setHandler(new DataHandler(source));\n Boolean ret = client.uploadFile(file);\n System.out.println (ret);\n System.exit(0);\n</code></pre>\n\n<p>}</p>\n\n<p>This works absolutely fine. Now the problem comes when I am trying to replace the Apache commons utilities. In the above code I am creating a DataSource from a File with an absolute path name. In my servlet, I can't get an absolute path name however and the file I am sending over the wire is empty. </p>\n\n<p>Here is the servlet code:</p>\n\n<pre><code> @SuppressWarnings(\"unchecked\")\n    protected void doPost (final HttpServletRequest request, final HttpServletResponse response) \n        throws ServletException, IOException {\n\n    // form should have enctype=\"multipart/form-data\" as an attribute\n if (!ServletFileUpload.isMultipartContent (request)) {\n  LOG.info(\"Invalid form attribute\");\n  return;\n }\n\n //DataInputStream in = new DataInputStream(request.getInputStream());\n\n final DiskFileItemFactory factory = new DiskFileItemFactory ();\n factory.setSizeThreshold(FILE_THRESHOLD_SIZE);\n\n final ServletFileUpload sfu = new ServletFileUpload (factory);\n sfu.setSizeMax(MAX_FILE_SIZE);\n\n final HttpSession session = request.getSession();\n\n final List&lt;FileItem&gt; files = new ArrayList&lt;FileItem&gt;();\n\n final List&lt;String&gt; filesToProcess = new ArrayList&lt;String&gt;();\n\n try {\n        final List&lt;FileItem&gt; items = sfu.parseRequest(request);\n\n        for (final FileItem f : items) {\n            if (!f.isFormField())\n                files.add(f);\n        }\n\n        /*for (final FileItem f : files) {\n         final String absoluteFileName = UPLOAD_DESTINATION + FilenameUtils.getName(f.getName());\n\n            //f.write(new File (absoluteFileName));\n            filesToProcess.add(absoluteFileName);\n        }*/\n\n        FileItem f = files.get(0);\n\n        LOG.info(\"File: \" + FilenameUtils.getName(f.getName()));\n        LOG.info(\"FileBaseName: \" + FilenameUtils.getBaseName(f.getName()));\n        LOG.info(\"FileExtension: \" + FilenameUtils.getExtension(f.getName()));\n\n        FileUploadServiceClient client = new FileUploadServiceClient();\n\n        DataSource source = new FileDataSource(new File(f.getName()));\n\n        FileType file = new FileType();\n        file.setHandler(new DataHandler(source));\n        file.setName(FilenameUtils.getBaseName(f.getName()));\n        file.setType(FilenameUtils.getExtension(f.getName()));\n\n        Boolean ret = client.uploadFile(file);\n\n        LOG.info(\"File uploaded - \" + ret);\n\n        filesToProcess.add(UPLOAD_DESTINATION + FilenameUtils.getName(f.getName()));\n        session.setAttribute(\"filesToProcess\", filesToProcess);\n\n  final RequestDispatcher dispatcher = request.getRequestDispatcher(\"Validate\");\n        if (null != dispatcher) {\n         dispatcher.forward(request, response);\n        }\n    } catch (FileUploadException e) {\n        LOG.info(\"Exception \" + e.getMessage());\n        e.printStackTrace();\n    } catch (Exception e) {\n        LOG.info(\"Exception \" + e.getMessage());\n        e.printStackTrace();\n    }\n</code></pre>\n\n<p>}</p>\n\n<p>I've been working on this for the better part of this morning and am not getting anywhere. Even if I get rid of the Apache commons file stuff completely and handle the parsing of the request myself, I still can't construct the DataSource appropriately.</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","mongodb","java-8","replicaset"],"comments":[{"owner":{"account_id":5951494,"reputation":12969,"user_id":4679320,"accept_rate":67,"display_name":"prasad_"},"score":0,"creation_date":1581575677,"post_id":60201467,"comment_id":106482661,"body_markdown":"Can you connect to the replica-set from the Mongo Shell?","body":"Can you connect to the replica-set from the Mongo Shell?"},{"owner":{"account_id":17752260,"reputation":3,"user_id":12890068,"display_name":"Gautam kapoor"},"score":0,"creation_date":1581584955,"post_id":60201467,"comment_id":106486853,"body_markdown":"Yes, I am able to connect to replica-set from Mongo Shell. Also, I am using morphia as ORM in my system, org.mongodb.morphia-1.2.1","body":"Yes, I am able to connect to replica-set from Mongo Shell. Also, I am using morphia as ORM in my system, org.mongodb.morphia-1.2.1"},{"owner":{"account_id":5951494,"reputation":12969,"user_id":4679320,"accept_rate":67,"display_name":"prasad_"},"score":0,"creation_date":1581586237,"post_id":60201467,"comment_id":106487536,"body_markdown":"Please post the code for creating the connection.","body":"Please post the code for creating the connection."},{"owner":{"account_id":17752260,"reputation":3,"user_id":12890068,"display_name":"Gautam kapoor"},"score":0,"creation_date":1581593945,"post_id":60201467,"comment_id":106492110,"body_markdown":"The issue is resolved now but as morphia/mongo was expecting Indexing in Ascending order {_id:1} and I was providing indexing in Descending order {_id:-1}. Still don&#39;t understand why is that so.","body":"The issue is resolved now but as morphia/mongo was expecting Indexing in Ascending order {_id:1} and I was providing indexing in Descending order {_id:-1}. Still don&#39;t understand why is that so."}],"answers":[{"tags":[],"owner":{"account_id":348818,"reputation":12356,"user_id":683735,"accept_rate":100,"display_name":"Konstantin Pribluda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659435699,"creation_date":1659435699,"answer_id":73205887,"question_id":60201467,"body_markdown":"Maybe late,   but I discovered that Spring data generated queries against  fields marked as @Id with automatic index creation are no go.\r\n\r\nSay if you have field \r\n\r\n    @Id String foo;\r\n\r\nDo not use finder \r\n\r\n    findByFoo(String);\r\n\r\nin you repository interface.    Use\r\n\r\n     findById()\r\n\r\ninstead -  which will do the same thing.   \r\n\r\nSpring data attempt to create index and fails on unique constraint. \r\n\r\n \r\n\r\n\r\n","title":"Getting MongoCommandException while connecting to the MongoDB | Java","body":"<p>Maybe late,   but I discovered that Spring data generated queries against  fields marked as @Id with automatic index creation are no go.</p>\n<p>Say if you have field</p>\n<pre><code>@Id String foo;\n</code></pre>\n<p>Do not use finder</p>\n<pre><code>findByFoo(String);\n</code></pre>\n<p>in you repository interface.    Use</p>\n<pre><code> findById()\n</code></pre>\n<p>instead -  which will do the same thing.</p>\n<p>Spring data attempt to create index and fails on unique constraint.</p>\n"}],"owner":{"account_id":17752260,"reputation":3,"user_id":12890068,"display_name":"Gautam kapoor"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659435699,"creation_date":1581574320,"question_id":60201467,"body_markdown":"I have created following mongoDB replicaSet:\r\n\r\n    set: rs0,\r\n    primary: localhost:27018,\r\n    secondry: localhost: 27019\r\n    MongoDB version: 4.2.3\r\n\r\nWhen I am trying to connect to the replSet(I have tried connecting to both) using mongodb-java-driver-3.12, I am getting following Error:\r\n\r\n\r\n    com.mongodb.MongoCommandException: Command failed with error 2 (BadValue): &#39;The field &#39;key&#39; for an _id index must be {_id: 1}, but got { _id: -1 }&#39; on server localhost:27019. The full response is {&quot;operationTime&quot;: {&quot;$timestamp&quot;: {&quot;t&quot;: 1581572046, &quot;i&quot;: 1}}, &quot;ok&quot;: 0.0, &quot;errmsg&quot;: &quot;The field &#39;key&#39; for an _id index must be {_id: 1}, but got { _id: -1 }&quot;, &quot;code&quot;: 2, &quot;codeName&quot;: &quot;BadValue&quot;, &quot;$clusterTime&quot;: {&quot;clusterTime&quot;: {&quot;$timestamp&quot;: {&quot;t&quot;: 1581572046, &quot;i&quot;: 1}}, &quot;signature&quot;: {&quot;hash&quot;: {&quot;$binary&quot;: &quot;AAAAAAAAAAAAAAAAAAAAAAAAAAA=&quot;, &quot;$type&quot;: &quot;00&quot;}, &quot;keyId&quot;: {&quot;$numberLong&quot;: &quot;0&quot;}}}}\r\n    \tat com.mongodb.internal.connection.ProtocolHelper.getCommandFailureException(ProtocolHelper.java:175)\r\n    \tat com.mongodb.internal.connection.InternalStreamConnection.receiveCommandMessageResponse(InternalStreamConnection.java:303)\r\n    \tat com.mongodb.internal.connection.InternalStreamConnection.sendAndReceive(InternalStreamConnection.java:259)\r\n    \tat com.mongodb.internal.connection.UsageTrackingInternalConnection.sendAndReceive(UsageTrackingInternalConnection.java:99)\r\n    \tat com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.sendAndReceive(DefaultConnectionPool.java:450)\r\n    \tat com.mongodb.internal.connection.CommandProtocolImpl.execute(CommandProtocolImpl.java:72)\r\n    \tat com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.execute(DefaultServer.java:226)\r\n    \tat com.mongodb.internal.connection.DefaultServerConnection.executeProtocol(DefaultServerConnection.java:269)\r\n    \tat com.mongodb.internal.connection.DefaultServerConnection.command(DefaultServerConnection.java:131)\r\n    \tat com.mongodb.internal.connection.DefaultServerConnection.command(DefaultServerConnection.java:123)\r\n    \tat com.mongodb.operation.CommandOperationHelper.executeWriteCommand(CommandOperationHelper.java:369)\r\n    \tat com.mongodb.operation.CommandOperationHelper.executeWriteCommand(CommandOperationHelper.java:360)\r\n    \tat com.mongodb.operation.CommandOperationHelper.executeCommand(CommandOperationHelper.java:284)\r\n    \tat com.mongodb.operation.CommandOperationHelper.executeCommand(CommandOperationHelper.java:277)\r\n    \tat com.mongodb.operation.CreateIndexesOperation$1.call(CreateIndexesOperation.java:177)\r\n    \tat com.mongodb.operation.CreateIndexesOperation$1.call(CreateIndexesOperation.java:172)\r\n    \tat com.mongodb.operation.OperationHelper.withConnectionSource(OperationHelper.java:530)\r\n    \tat com.mongodb.operation.OperationHelper.withConnection(OperationHelper.java:492)\r\n    \tat com.mongodb.operation.CreateIndexesOperation.execute(CreateIndexesOperation.java:172)\r\n    \tat com.mongodb.operation.CreateIndexesOperation.execute(CreateIndexesOperation.java:72)\r\n    \tat com.mongodb.client.internal.MongoClientDelegate$DelegateOperationExecutor.execute(MongoClientDelegate.java:213)\r\n    \tat com.mongodb.client.internal.MongoClientDelegate$DelegateOperationExecutor.execute(MongoClientDelegate.java:182)\r\n    \tat com.mongodb.DBCollection.createIndex(DBCollection.java:1698)\r\n    \tat org.mongodb.morphia.DatastoreImpl.ensureIndex(DatastoreImpl.java:1110)\r\n    \tat org.mongodb.morphia.DatastoreImpl.processEmbeddedAnnotations(DatastoreImpl.java:1524)\r\n    \tat org.mongodb.morphia.DatastoreImpl.ensureIndexes(DatastoreImpl.java:1185)\r\n    \tat org.mongodb.morphia.DatastoreImpl.ensureIndexes(DatastoreImpl.java:1167)\r\n    \tat org.mongodb.morphia.DatastoreImpl.ensureIndexes(DatastoreImpl.java:1189)\r\n    \tat org.mongodb.morphia.DatastoreImpl.ensureIndexes(DatastoreImpl.java:286)\r\n    \tat org.mongodb.morphia.DatastoreImpl.ensureIndexes(DatastoreImpl.java:280)\r\n    \tat org.mongodb.morphia.dao.BasicDAO.ensureIndexes(BasicDAO.java:132)\r\n    \tat com.linkscreens.persistence.dao.generic.GenericMongoDao.&lt;init&gt;(GenericMongoDao.java:46)\r\n    \tat com.linkscreens.broadcasting.dao.BroadcastHistoryDaoImpl.&lt;init&gt;(BroadcastHistoryDaoImpl.java:29)\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    \tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n    \tat org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:142)\r\n    \t... 71 common frames omitted\r\n    ```\r\n\r\n","title":"Getting MongoCommandException while connecting to the MongoDB | Java","body":"<p>I have created following mongoDB replicaSet:</p>\n\n<pre><code>set: rs0,\nprimary: localhost:27018,\nsecondry: localhost: 27019\nMongoDB version: 4.2.3\n</code></pre>\n\n<p>When I am trying to connect to the replSet(I have tried connecting to both) using mongodb-java-driver-3.12, I am getting following Error:</p>\n\n<pre><code>com.mongodb.MongoCommandException: Command failed with error 2 (BadValue): 'The field 'key' for an _id index must be {_id: 1}, but got { _id: -1 }' on server localhost:27019. The full response is {\"operationTime\": {\"$timestamp\": {\"t\": 1581572046, \"i\": 1}}, \"ok\": 0.0, \"errmsg\": \"The field 'key' for an _id index must be {_id: 1}, but got { _id: -1 }\", \"code\": 2, \"codeName\": \"BadValue\", \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1581572046, \"i\": 1}}, \"signature\": {\"hash\": {\"$binary\": \"AAAAAAAAAAAAAAAAAAAAAAAAAAA=\", \"$type\": \"00\"}, \"keyId\": {\"$numberLong\": \"0\"}}}}\n    at com.mongodb.internal.connection.ProtocolHelper.getCommandFailureException(ProtocolHelper.java:175)\n    at com.mongodb.internal.connection.InternalStreamConnection.receiveCommandMessageResponse(InternalStreamConnection.java:303)\n    at com.mongodb.internal.connection.InternalStreamConnection.sendAndReceive(InternalStreamConnection.java:259)\n    at com.mongodb.internal.connection.UsageTrackingInternalConnection.sendAndReceive(UsageTrackingInternalConnection.java:99)\n    at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.sendAndReceive(DefaultConnectionPool.java:450)\n    at com.mongodb.internal.connection.CommandProtocolImpl.execute(CommandProtocolImpl.java:72)\n    at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.execute(DefaultServer.java:226)\n    at com.mongodb.internal.connection.DefaultServerConnection.executeProtocol(DefaultServerConnection.java:269)\n    at com.mongodb.internal.connection.DefaultServerConnection.command(DefaultServerConnection.java:131)\n    at com.mongodb.internal.connection.DefaultServerConnection.command(DefaultServerConnection.java:123)\n    at com.mongodb.operation.CommandOperationHelper.executeWriteCommand(CommandOperationHelper.java:369)\n    at com.mongodb.operation.CommandOperationHelper.executeWriteCommand(CommandOperationHelper.java:360)\n    at com.mongodb.operation.CommandOperationHelper.executeCommand(CommandOperationHelper.java:284)\n    at com.mongodb.operation.CommandOperationHelper.executeCommand(CommandOperationHelper.java:277)\n    at com.mongodb.operation.CreateIndexesOperation$1.call(CreateIndexesOperation.java:177)\n    at com.mongodb.operation.CreateIndexesOperation$1.call(CreateIndexesOperation.java:172)\n    at com.mongodb.operation.OperationHelper.withConnectionSource(OperationHelper.java:530)\n    at com.mongodb.operation.OperationHelper.withConnection(OperationHelper.java:492)\n    at com.mongodb.operation.CreateIndexesOperation.execute(CreateIndexesOperation.java:172)\n    at com.mongodb.operation.CreateIndexesOperation.execute(CreateIndexesOperation.java:72)\n    at com.mongodb.client.internal.MongoClientDelegate$DelegateOperationExecutor.execute(MongoClientDelegate.java:213)\n    at com.mongodb.client.internal.MongoClientDelegate$DelegateOperationExecutor.execute(MongoClientDelegate.java:182)\n    at com.mongodb.DBCollection.createIndex(DBCollection.java:1698)\n    at org.mongodb.morphia.DatastoreImpl.ensureIndex(DatastoreImpl.java:1110)\n    at org.mongodb.morphia.DatastoreImpl.processEmbeddedAnnotations(DatastoreImpl.java:1524)\n    at org.mongodb.morphia.DatastoreImpl.ensureIndexes(DatastoreImpl.java:1185)\n    at org.mongodb.morphia.DatastoreImpl.ensureIndexes(DatastoreImpl.java:1167)\n    at org.mongodb.morphia.DatastoreImpl.ensureIndexes(DatastoreImpl.java:1189)\n    at org.mongodb.morphia.DatastoreImpl.ensureIndexes(DatastoreImpl.java:286)\n    at org.mongodb.morphia.DatastoreImpl.ensureIndexes(DatastoreImpl.java:280)\n    at org.mongodb.morphia.dao.BasicDAO.ensureIndexes(BasicDAO.java:132)\n    at com.linkscreens.persistence.dao.generic.GenericMongoDao.&lt;init&gt;(GenericMongoDao.java:46)\n    at com.linkscreens.broadcasting.dao.BroadcastHistoryDaoImpl.&lt;init&gt;(BroadcastHistoryDaoImpl.java:29)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n    at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:142)\n    ... 71 common frames omitted\n```\n</code></pre>\n"},{"tags":["java","android","firebase","google-cloud-platform","google-cloud-firestore"],"answers":[{"tags":[],"owner":{"account_id":4896710,"reputation":1488,"user_id":3946096,"accept_rate":71,"display_name":"Alexander N."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659390948,"creation_date":1659387490,"answer_id":73199546,"question_id":73199211,"body_markdown":"Firestore has built in caching that is enabled by default for [reading from a database on Apple and Android devices.][1] If you want to disable being able to read the cached data, you can do something like this:\r\n\r\n    FirebaseFirestoreSettings settings = new FirebaseFirestoreSettings.Builder()\r\n        .setPersistenceEnabled(false)\r\n        .build();\r\n    db.setFirestoreSettings(settings);\r\n\r\nI think what you may want to do instead is [listen to network events in Android][2] which would allow you to update the user if they try to perform an action while there is no network available.\r\n\r\nThis might be a bug. I have logged the tracking info [here on GitHub][3]\r\n\r\n\r\n  [1]: https://firebase.google.com/docs/firestore/manage-data/enable-offline#listen_to_offline_data\r\n  [2]: https://developer.android.com/training/basics/network-ops/reading-network-state#listening-events\r\n  [3]: https://github.com/firebase/firebase-android-sdk/issues/3958","title":"Android Cloud Firestore task&#39;s return successfully when there is no internet connection. How?","body":"<p>Firestore has built in caching that is enabled by default for <a href=\"https://firebase.google.com/docs/firestore/manage-data/enable-offline#listen_to_offline_data\" rel=\"nofollow noreferrer\">reading from a database on Apple and Android devices.</a> If you want to disable being able to read the cached data, you can do something like this:</p>\n<pre><code>FirebaseFirestoreSettings settings = new FirebaseFirestoreSettings.Builder()\n    .setPersistenceEnabled(false)\n    .build();\ndb.setFirestoreSettings(settings);\n</code></pre>\n<p>I think what you may want to do instead is <a href=\"https://developer.android.com/training/basics/network-ops/reading-network-state#listening-events\" rel=\"nofollow noreferrer\">listen to network events in Android</a> which would allow you to update the user if they try to perform an action while there is no network available.</p>\n<p>This might be a bug. I have logged the tracking info <a href=\"https://github.com/firebase/firebase-android-sdk/issues/3958\" rel=\"nofollow noreferrer\">here on GitHub</a></p>\n"},{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1659435660,"creation_date":1659425212,"answer_id":73203547,"question_id":73199211,"body_markdown":"&gt; I would like to simply get a callback when reading from DB fails, so I can show a dialog to the user about whether he has no internet connection.\r\n\r\nThe Firestore SDK [doesn&#39;t throw an error when there is no internet connection][1], and it makes sense since Firestore is designed to work offline. Behind the scenes, Firestore SDK tries to reconnect until the devices regain connectivity.  So not having an internet connection cannot be considered a failure. If you want to check for internet connectivity, the following answer might help:\r\n\r\n* https://stackoverflow.com/questions/52279144/how-to-verify-if-user-has-network-access-and-show-a-pop-up-alert-when-there-isn\r\n\r\nPlease notice that Firestore has a built-in mechanism that can help know when an error occurs. So the failure callback occurs when Firestore servers reject the request due to a security rule issue.\r\n\r\nThere is a solution in which you can force the retrieval of data only from the cache or from the server. Here is the official documentation regarding source options:\r\n\r\n* https://firebase.google.com/docs/firestore/query-data/get-data#source_options\r\n\r\n  [1]: https://stackoverflow.com/questions/61139056/what-happens-if-firestore-fails-to-save-data","title":"Android Cloud Firestore task&#39;s return successfully when there is no internet connection. How?","body":"<blockquote>\n<p>I would like to simply get a callback when reading from DB fails, so I can show a dialog to the user about whether he has no internet connection.</p>\n</blockquote>\n<p>The Firestore SDK <a href=\"https://stackoverflow.com/questions/61139056/what-happens-if-firestore-fails-to-save-data\">doesn't throw an error when there is no internet connection</a>, and it makes sense since Firestore is designed to work offline. Behind the scenes, Firestore SDK tries to reconnect until the devices regain connectivity.  So not having an internet connection cannot be considered a failure. If you want to check for internet connectivity, the following answer might help:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/52279144/how-to-verify-if-user-has-network-access-and-show-a-pop-up-alert-when-there-isn\">How to verify if user has network access and show a pop-up alert when there isn&#39;t</a></li>\n</ul>\n<p>Please notice that Firestore has a built-in mechanism that can help know when an error occurs. So the failure callback occurs when Firestore servers reject the request due to a security rule issue.</p>\n<p>There is a solution in which you can force the retrieval of data only from the cache or from the server. Here is the official documentation regarding source options:</p>\n<ul>\n<li><a href=\"https://firebase.google.com/docs/firestore/query-data/get-data#source_options\" rel=\"nofollow noreferrer\">https://firebase.google.com/docs/firestore/query-data/get-data#source_options</a></li>\n</ul>\n"}],"owner":{"account_id":952605,"reputation":11497,"user_id":978461,"accept_rate":73,"display_name":"Adam Varhegyi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":541,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73203547,"answer_count":2,"score":1,"last_activity_date":1659435660,"creation_date":1659385351,"question_id":73199211,"body_markdown":"I&#39;m messing around with **Cloud Firestore**.\r\n\r\n**I would like to simply get a callback when reading from DB fails**, so I can show a dialog to the user about he has **no internet connection**. Of course, this would need sophisticated exception handling, but first things first, I would like to just simply get a callback when the app cannot reach the server.\r\n\r\n**HOWEVER**, whenever I test my application with an emulator which has no internet connection, I still get successful callbacks.\r\n\r\nThis is the log:\r\n\r\n    Logging_: onSuccess\r\n    Logging_: onComplete\r\n    Logging_: Task was successful without an internet connection, how?\r\n\r\nHow is it possible? Am I thinking right that Cloud Firestore is simply not available for this use case since it was built to provide cached data and aggressive syncing in order to provide a seamless user experience even when there is no internet connection?\r\n\r\n**I would just need a way to just KNOW whether the DB is reachable. (a.k.a - Is there an internet connection problem?)**\r\n\r\n\r\n----------\r\n\r\n\r\nCode is really simple, it just tries to reach for the current account&#39;s characters.\r\n\r\n\r\n      db.collection(&quot;users&quot;)\r\n                    .document(accountId)\r\n                    .collection(&quot;characters&quot;)\r\n                    .get()\r\n                    .addOnCanceledListener(new OnCanceledListener() {\r\n                        @Override\r\n                        public void onCanceled() {\r\n                            Log.i(&quot;Logging_&quot;, &quot;onCanceled&quot;);\r\n                        }\r\n                    })\r\n                    .addOnFailureListener(new OnFailureListener() {\r\n                        @Override\r\n                        public void onFailure(@NonNull Exception e) {\r\n                            Log.i(&quot;Logging_&quot;, &quot;onFailure&quot;);\r\n                        }\r\n                    })\r\n                    .addOnSuccessListener(new OnSuccessListener&lt;QuerySnapshot&gt;() {\r\n                        @Override\r\n                        public void onSuccess(QuerySnapshot queryDocumentSnapshots) {\r\n                            Log.i(&quot;Logging_&quot;, &quot;onSuccess&quot;);\r\n                        }\r\n                    })\r\n                    .addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\r\n                        @Override\r\n                        public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\r\n    \r\n                            Log.i(&quot;Logging_&quot;, &quot;onComplete&quot;);\r\n    \r\n                            if (task.isSuccessful()) {\r\n                                Log.i(&quot;Logging_&quot;, &quot;Task was successful without internet connection, how?&quot;);\r\n                            } else {\r\n                                Log.i(&quot;Logging_&quot;, &quot;Task wasn&#39;t successful.&quot;);\r\n                            }\r\n                        }\r\n                    });","title":"Android Cloud Firestore task&#39;s return successfully when there is no internet connection. How?","body":"<p>I'm messing around with <strong>Cloud Firestore</strong>.</p>\n<p><strong>I would like to simply get a callback when reading from DB fails</strong>, so I can show a dialog to the user about he has <strong>no internet connection</strong>. Of course, this would need sophisticated exception handling, but first things first, I would like to just simply get a callback when the app cannot reach the server.</p>\n<p><strong>HOWEVER</strong>, whenever I test my application with an emulator which has no internet connection, I still get successful callbacks.</p>\n<p>This is the log:</p>\n<pre><code>Logging_: onSuccess\nLogging_: onComplete\nLogging_: Task was successful without an internet connection, how?\n</code></pre>\n<p>How is it possible? Am I thinking right that Cloud Firestore is simply not available for this use case since it was built to provide cached data and aggressive syncing in order to provide a seamless user experience even when there is no internet connection?</p>\n<p><strong>I would just need a way to just KNOW whether the DB is reachable. (a.k.a - Is there an internet connection problem?)</strong></p>\n<hr />\n<p>Code is really simple, it just tries to reach for the current account's characters.</p>\n<pre><code>  db.collection(&quot;users&quot;)\n                .document(accountId)\n                .collection(&quot;characters&quot;)\n                .get()\n                .addOnCanceledListener(new OnCanceledListener() {\n                    @Override\n                    public void onCanceled() {\n                        Log.i(&quot;Logging_&quot;, &quot;onCanceled&quot;);\n                    }\n                })\n                .addOnFailureListener(new OnFailureListener() {\n                    @Override\n                    public void onFailure(@NonNull Exception e) {\n                        Log.i(&quot;Logging_&quot;, &quot;onFailure&quot;);\n                    }\n                })\n                .addOnSuccessListener(new OnSuccessListener&lt;QuerySnapshot&gt;() {\n                    @Override\n                    public void onSuccess(QuerySnapshot queryDocumentSnapshots) {\n                        Log.i(&quot;Logging_&quot;, &quot;onSuccess&quot;);\n                    }\n                })\n                .addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\n                    @Override\n                    public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\n\n                        Log.i(&quot;Logging_&quot;, &quot;onComplete&quot;);\n\n                        if (task.isSuccessful()) {\n                            Log.i(&quot;Logging_&quot;, &quot;Task was successful without internet connection, how?&quot;);\n                        } else {\n                            Log.i(&quot;Logging_&quot;, &quot;Task wasn't successful.&quot;);\n                        }\n                    }\n                });\n</code></pre>\n"},{"tags":["java","guava"],"answers":[{"tags":[],"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1659435648,"creation_date":1659435648,"answer_id":73205873,"question_id":73205622,"body_markdown":"[From the docs][1]\r\n\r\n&gt; Throwing an exception from this method is equivalent to returning a\r\n&gt; failing Future.\r\n\r\nThey are functionally equivalent, so it&#39;s only a matter of opinion which is &quot;better&quot;. One is clearly more concise than the other.\r\n\r\n  [1]: https://guava.dev/releases/20.0/api/docs/com/google/common/util/concurrent/AsyncFunction.html","title":"Should I use Futures.immediateFailedFuture or throw an Exception directly?","body":"<p><a href=\"https://guava.dev/releases/20.0/api/docs/com/google/common/util/concurrent/AsyncFunction.html\" rel=\"nofollow noreferrer\">From the docs</a></p>\n<blockquote>\n<p>Throwing an exception from this method is equivalent to returning a\nfailing Future.</p>\n</blockquote>\n<p>They are functionally equivalent, so it's only a matter of opinion which is &quot;better&quot;. One is clearly more concise than the other.</p>\n"}],"owner":{"account_id":25956155,"reputation":1,"user_id":19673477,"display_name":"Xiaofeng Zheng"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":227,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659435648,"creation_date":1659434544,"question_id":73205622,"body_markdown":"I need to throw an exception in a `AsyncFunction`. Guava provides `Futures.immediateFailedFuture` to do that, but I want to know which is better compared with throwing an exception directly?\r\n``` java\r\nListenableFuture&lt;Void&gt; someFuture;\r\nListenableFuture&lt;Void&gt; next = Futures.transformAsync(\r\n  someFuture,\r\n  r -&gt; {\r\n    // opt 1\r\n    throw new Exception();\r\n    \r\n    // opt 2\r\n    return Futures.immediateFailedFuture(new Exception());\r\n  }\r\n);\r\n```","title":"Should I use Futures.immediateFailedFuture or throw an Exception directly?","body":"<p>I need to throw an exception in a <code>AsyncFunction</code>. Guava provides <code>Futures.immediateFailedFuture</code> to do that, but I want to know which is better compared with throwing an exception directly?</p>\n<pre class=\"lang-java prettyprint-override\"><code>ListenableFuture&lt;Void&gt; someFuture;\nListenableFuture&lt;Void&gt; next = Futures.transformAsync(\n  someFuture,\n  r -&gt; {\n    // opt 1\n    throw new Exception();\n    \n    // opt 2\n    return Futures.immediateFailedFuture(new Exception());\n  }\n);\n</code></pre>\n"},{"tags":["java","amazon-s3","connection","minio"],"owner":{"account_id":23171530,"reputation":71,"user_id":17270714,"display_name":"raaeusagvc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":745,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1659435209,"creation_date":1637172978,"question_id":70009576,"body_markdown":"I am trying to get the list of objects from minio using\r\n\r\n    private final AmazonS3 amazonS3Client;\r\n    amazonS3Client\r\n\t\t.listObjects(&quot;bucketname&quot;, &quot;[path]&quot;).getObjectSummaries()).flatMap(....)\r\n\r\n\r\n\r\nBean\r\n\r\n    @Bean\r\n\tpublic AmazonS3 s3Client() {\r\n\r\n\t\treturn AmazonS3ClientBuilder.standard()\r\n\t\t\t\t.withCredentials(new AWSStaticCredentialsProvider(\r\n\t\t\t\t\t\tnew BasicAWSCredentials(minioConfig().getKey(), minioConfig().getSecret())))\r\n\t\t\t\t.withClientConfiguration(new ClientConfiguration()).withPathStyleAccessEnabled(true)\r\n\t\t\t\t.withEndpointConfiguration(\r\n\t\t\t\t\t\tnew AwsClientBuilder.EndpointConfiguration(minioConfig().getUrl(), &quot;us-west-2&quot;))\r\n\t\t\t\t.build();\r\n\t}\r\n\r\nError\r\n\r\n    com.amazonaws.SdkClientException: Unable to execute HTTP request: Connect to 10.177.11.21:443 [/10.177.11.21] failed: connect timed out\r\n            at com.amazonaws.http.AmazonHttpClient$RequestExecutor.handleRetryableException(AmazonHttpClient.java:1207)\r\n            at com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeHelper(AmazonHttpClient.java:1153)\r\n            at com.amazonaws.http.AmazonHttpClient$RequestExecutor.doExecute(AmazonHttpClient.java:802)\r\n            at com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeWithTimer(AmazonHttpClient.java:770)\r\n            at com.amazonaws.http.AmazonHttpClient$RequestExecutor.execute(AmazonHttpClient.java:744)\r\n            at com.amazonaws.http.AmazonHttpClient$RequestExecutor.access$500(AmazonHttpClient.java:704)\r\n            at com.amazonaws.http.AmazonHttpClient$RequestExecutionBuilderImpl.execute(AmazonHttpClient.java:686)\r\n            at com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:550)\r\n            at com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:530)\r\n            at com.amazonaws.services.s3.AmazonS3Client.invoke(AmazonS3Client.java:5062)\r\n            at com.amazonaws.services.s3.AmazonS3Client.invoke(AmazonS3Client.java:5008)\r\n            at com.amazonaws.services.s3.AmazonS3Client.invoke(AmazonS3Client.java:5002)\r\n            at com.amazonaws.services.s3.AmazonS3Client.listObjects(AmazonS3Client.java:898)\r\n            at com.amazonaws.services.s3.AmazonS3Client.listObjects(AmazonS3Client.java:872)\r\n            at com.localThread.lambda$startPolling$7ebfd9fe$1(WorkerThread.java:75)\r\n            at io.vavr.control.Try.of(Try.java:75)\r\n            at java.util.function.Predicate.lambda$negate$1(Predicate.java:80)\r\n            at io.vavr.collection.List.takeWhile(List.java:1588)\r\n            at io.vavr.collection.List.takeUntil(List.java:1581)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n            at java.lang.reflect.Method.invoke(Method.java:498)\r\n            at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)\r\n            at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)\r\n            at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n            at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115)\r\n            at java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n            at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n            at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n            at java.lang.Thread.run(Thread.java:748)\r\n    Caused by: org.apache.http.conn.ConnectTimeoutException: Connect to 10.177.11.21:443 [/10.177.11.21] failed: connect timed out\r\n            at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:151)\r\n            at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n            at java.lang.reflect.Method.invoke(Method.java:498)\r\n            at com.amazonaws.http.conn.ClientConnectionManagerFactory$Handler.invoke(ClientConnectionManagerFactory.java:76)\r\n            at com.amazonaws.http.conn.$Proxy149.connect(Unknown Source)\r\n            at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)\r\n            at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)\r\n            at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)\r\n            at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)\r\n            at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)\r\n            at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)\r\n            at com.amazonaws.http.apache.client.impl.SdkHttpClient.execute(SdkHttpClient.java:72)\r\n            at com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeOneRequest(AmazonHttpClient.java:1330)\r\n            at com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeHelper(AmazonHttpClient.java:1145)\r\n            ... 32 common frames omitted\r\n    Caused by: java.net.SocketTimeoutException: connect timed out\r\n            at java.net.PlainSocketImpl.socketConnect(Native Method)\r\n            at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)\r\n            at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)\r\n            at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)\r\n            at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\r\n            at java.net.Socket.connect(Socket.java:607)\r\n            at org.apache.http.conn.ssl.SSLConnectionSocketFactory.connectSocket(SSLConnectionSocketFactory.java:368)\r\n            at com.amazonaws.http.conn.ssl.SdkTLSSocketFactory.connectSocket(SdkTLSSocketFactory.java:142)\r\n            at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)\r\n            ... 48 common frames omitted\r\n\r\nBut when I generate presigned url, it works fine\r\n\r\n    amazonS3Client\r\n\t\t.generatePresignedUrl(new GeneratePresignedUrlRequest(&quot;bucketName&quot;, &quot;[path]&quot;).withMethod(HttpMethod.PUT).withExpiration(new Date(System.currentTimeMillis() + 3600000))).toString()\r\n\r\nThis code generates the presigned url fine but listObjects fails with connection timeout. This works fine in local, but when I put it in pod in kubernetes, it fails.\r\n\r\nI cannot find out what is the issue?","title":"AmazonS3 Unable to execute HTTP request listObjects minio","body":"<p>I am trying to get the list of objects from minio using</p>\n<pre><code>private final AmazonS3 amazonS3Client;\namazonS3Client\n    .listObjects(&quot;bucketname&quot;, &quot;[path]&quot;).getObjectSummaries()).flatMap(....)\n</code></pre>\n<p>Bean</p>\n<pre><code>@Bean\npublic AmazonS3 s3Client() {\n\n    return AmazonS3ClientBuilder.standard()\n            .withCredentials(new AWSStaticCredentialsProvider(\n                    new BasicAWSCredentials(minioConfig().getKey(), minioConfig().getSecret())))\n            .withClientConfiguration(new ClientConfiguration()).withPathStyleAccessEnabled(true)\n            .withEndpointConfiguration(\n                    new AwsClientBuilder.EndpointConfiguration(minioConfig().getUrl(), &quot;us-west-2&quot;))\n            .build();\n}\n</code></pre>\n<p>Error</p>\n<pre><code>com.amazonaws.SdkClientException: Unable to execute HTTP request: Connect to 10.177.11.21:443 [/10.177.11.21] failed: connect timed out\n        at com.amazonaws.http.AmazonHttpClient$RequestExecutor.handleRetryableException(AmazonHttpClient.java:1207)\n        at com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeHelper(AmazonHttpClient.java:1153)\n        at com.amazonaws.http.AmazonHttpClient$RequestExecutor.doExecute(AmazonHttpClient.java:802)\n        at com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeWithTimer(AmazonHttpClient.java:770)\n        at com.amazonaws.http.AmazonHttpClient$RequestExecutor.execute(AmazonHttpClient.java:744)\n        at com.amazonaws.http.AmazonHttpClient$RequestExecutor.access$500(AmazonHttpClient.java:704)\n        at com.amazonaws.http.AmazonHttpClient$RequestExecutionBuilderImpl.execute(AmazonHttpClient.java:686)\n        at com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:550)\n        at com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:530)\n        at com.amazonaws.services.s3.AmazonS3Client.invoke(AmazonS3Client.java:5062)\n        at com.amazonaws.services.s3.AmazonS3Client.invoke(AmazonS3Client.java:5008)\n        at com.amazonaws.services.s3.AmazonS3Client.invoke(AmazonS3Client.java:5002)\n        at com.amazonaws.services.s3.AmazonS3Client.listObjects(AmazonS3Client.java:898)\n        at com.amazonaws.services.s3.AmazonS3Client.listObjects(AmazonS3Client.java:872)\n        at com.localThread.lambda$startPolling$7ebfd9fe$1(WorkerThread.java:75)\n        at io.vavr.control.Try.of(Try.java:75)\n        at java.util.function.Predicate.lambda$negate$1(Predicate.java:80)\n        at io.vavr.collection.List.takeWhile(List.java:1588)\n        at io.vavr.collection.List.takeUntil(List.java:1581)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n        at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115)\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n        at java.lang.Thread.run(Thread.java:748)\nCaused by: org.apache.http.conn.ConnectTimeoutException: Connect to 10.177.11.21:443 [/10.177.11.21] failed: connect timed out\n        at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:151)\n        at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at com.amazonaws.http.conn.ClientConnectionManagerFactory$Handler.invoke(ClientConnectionManagerFactory.java:76)\n        at com.amazonaws.http.conn.$Proxy149.connect(Unknown Source)\n        at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)\n        at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)\n        at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)\n        at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)\n        at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)\n        at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)\n        at com.amazonaws.http.apache.client.impl.SdkHttpClient.execute(SdkHttpClient.java:72)\n        at com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeOneRequest(AmazonHttpClient.java:1330)\n        at com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeHelper(AmazonHttpClient.java:1145)\n        ... 32 common frames omitted\nCaused by: java.net.SocketTimeoutException: connect timed out\n        at java.net.PlainSocketImpl.socketConnect(Native Method)\n        at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)\n        at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)\n        at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)\n        at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\n        at java.net.Socket.connect(Socket.java:607)\n        at org.apache.http.conn.ssl.SSLConnectionSocketFactory.connectSocket(SSLConnectionSocketFactory.java:368)\n        at com.amazonaws.http.conn.ssl.SdkTLSSocketFactory.connectSocket(SdkTLSSocketFactory.java:142)\n        at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)\n        ... 48 common frames omitted\n</code></pre>\n<p>But when I generate presigned url, it works fine</p>\n<pre><code>amazonS3Client\n    .generatePresignedUrl(new GeneratePresignedUrlRequest(&quot;bucketName&quot;, &quot;[path]&quot;).withMethod(HttpMethod.PUT).withExpiration(new Date(System.currentTimeMillis() + 3600000))).toString()\n</code></pre>\n<p>This code generates the presigned url fine but listObjects fails with connection timeout. This works fine in local, but when I put it in pod in kubernetes, it fails.</p>\n<p>I cannot find out what is the issue?</p>\n"},{"tags":["java","ssl","postman","rest-assured"],"answers":[{"tags":[],"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659435153,"creation_date":1659434776,"answer_id":73205680,"question_id":73203320,"body_markdown":"I think this could be caused by that you&#39;re configuring only a keystore, but not a truststore.\r\n\r\nKey stores are typically used for keeping the keys or certs to provide to a third party. But for validating the provided certificates trust stores are used.\r\n\r\nTry to do something like:\r\n\r\n```java\r\nRestAssured.config = RestAssured.config().sslConfig(new SSLConfig()\r\n.keyStore(&quot;src/test/resources/testdata/sslCerts/keystore.p12&quot;, &quot;PASSWORD&quot;)\r\n.trustStore(&quot;src/test/resources/testdata/sslCerts/keystore.p12&quot;, &quot;PASSWORD&quot;));\r\n```\r\n\r\nYour trust store has to contain the certificate that is returned by your service or the certificate chain that was used to sign service certificate. ","title":"Rest Assured, Java - using TLS/SSL certificate in post request","body":"<p>I think this could be caused by that you're configuring only a keystore, but not a truststore.</p>\n<p>Key stores are typically used for keeping the keys or certs to provide to a third party. But for validating the provided certificates trust stores are used.</p>\n<p>Try to do something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>RestAssured.config = RestAssured.config().sslConfig(new SSLConfig()\n.keyStore(&quot;src/test/resources/testdata/sslCerts/keystore.p12&quot;, &quot;PASSWORD&quot;)\n.trustStore(&quot;src/test/resources/testdata/sslCerts/keystore.p12&quot;, &quot;PASSWORD&quot;));\n</code></pre>\n<p>Your trust store has to contain the certificate that is returned by your service or the certificate chain that was used to sign service certificate.</p>\n"}],"owner":{"account_id":25954538,"reputation":13,"user_id":19672058,"display_name":"Grzegorz Mosiniak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1256,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73205680,"answer_count":1,"score":1,"last_activity_date":1659435153,"creation_date":1659424113,"question_id":73203320,"body_markdown":"I red probably all answers regarding using the TLS certificate in Rest Assured, unfortunately with all of them I get an error message:\r\n\r\n&gt; javax.net.ssl.SSLHandshakeException:\r\n&gt; sun.security.validator.ValidatorException: PKIX path building failed:\r\n&gt; sun.security.provider.certpath.SunCertPathBuilderException: unable to\r\n&gt; find valid certification path to requested target\r\n\r\nBut let&#39;s start from the beginning:\r\nI got from the service which I try to reach file .crt(certificate file is 2 way certificate - [two way certificate][1]) and RSA private key (.key). Once I merged them to the one PKCS12 file with  openssl:\r\n\r\n    openssl pkcs12 -export -out keystore.p12 -inkey MY_KEY.key -in MY_FILE.crt \r\nand imported to the POSTMAN with configuration [postman setting-1][2], [postman setting-2][3]. I get correct response.\r\n\r\nOnce I try to use it in the Java code:\r\n\r\n    RestAssured.config = RestAssured.config().sslConfig(new SSLConfig()\r\n    .keyStore(&quot;src/test/resources/testdata/sslCerts/keystore.p12&quot;, &quot;PASSWORD&quot;));\r\nor\r\n\r\n    .given()\r\n            .spec(new RequestSpecBuilder()\r\n                .setAuth(RestAssured\r\n                    .certificate(&quot;src/test/resources/testdata/sslCerts/keystore.p12&quot;,&quot;PASSWORD&quot;,\r\n                        CertificateAuthSettings\r\n                            .certAuthSettings()\r\n                            .keyStoreType(&quot;pkcs12&quot;)\r\n                            )).build())\r\n\r\nI get the error from above.\r\nWhen I try to use for example relaxed HTTPs/allow all host names or disable SSL verification I get response:\r\n\r\n    RestAssured.config = RestAssured.config().sslConfig(new SSLConfig()\r\n            .allowAllHostnames()\r\n            .relaxedHTTPSValidation());\r\n\r\nI get the response from the server:\r\n\r\n&gt; &lt;body&gt;496 - Client TLS certificate missing - please provide a valid\r\n&gt; TLS client certificate to access this service&lt;/body&gt;\r\n\r\nDo you have any info how can I use provided certificate as a server and client site validation certificate and get correct response from server?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6GJPR.png\r\n  [2]: https://i.stack.imgur.com/NRgnf.png\r\n  [3]: https://i.stack.imgur.com/HVKCA.png","title":"Rest Assured, Java - using TLS/SSL certificate in post request","body":"<p>I red probably all answers regarding using the TLS certificate in Rest Assured, unfortunately with all of them I get an error message:</p>\n<blockquote>\n<p>javax.net.ssl.SSLHandshakeException:\nsun.security.validator.ValidatorException: PKIX path building failed:\nsun.security.provider.certpath.SunCertPathBuilderException: unable to\nfind valid certification path to requested target</p>\n</blockquote>\n<p>But let's start from the beginning:\nI got from the service which I try to reach file .crt(certificate file is 2 way certificate - <a href=\"https://i.stack.imgur.com/6GJPR.png\" rel=\"nofollow noreferrer\">two way certificate</a>) and RSA private key (.key). Once I merged them to the one PKCS12 file with  openssl:</p>\n<pre><code>openssl pkcs12 -export -out keystore.p12 -inkey MY_KEY.key -in MY_FILE.crt \n</code></pre>\n<p>and imported to the POSTMAN with configuration <a href=\"https://i.stack.imgur.com/NRgnf.png\" rel=\"nofollow noreferrer\">postman setting-1</a>, <a href=\"https://i.stack.imgur.com/HVKCA.png\" rel=\"nofollow noreferrer\">postman setting-2</a>. I get correct response.</p>\n<p>Once I try to use it in the Java code:</p>\n<pre><code>RestAssured.config = RestAssured.config().sslConfig(new SSLConfig()\n.keyStore(&quot;src/test/resources/testdata/sslCerts/keystore.p12&quot;, &quot;PASSWORD&quot;));\n</code></pre>\n<p>or</p>\n<pre><code>.given()\n        .spec(new RequestSpecBuilder()\n            .setAuth(RestAssured\n                .certificate(&quot;src/test/resources/testdata/sslCerts/keystore.p12&quot;,&quot;PASSWORD&quot;,\n                    CertificateAuthSettings\n                        .certAuthSettings()\n                        .keyStoreType(&quot;pkcs12&quot;)\n                        )).build())\n</code></pre>\n<p>I get the error from above.\nWhen I try to use for example relaxed HTTPs/allow all host names or disable SSL verification I get response:</p>\n<pre><code>RestAssured.config = RestAssured.config().sslConfig(new SSLConfig()\n        .allowAllHostnames()\n        .relaxedHTTPSValidation());\n</code></pre>\n<p>I get the response from the server:</p>\n<blockquote>\n496 - Client TLS certificate missing - please provide a valid\nTLS client certificate to access this service\n</blockquote>\n<p>Do you have any info how can I use provided certificate as a server and client site validation certificate and get correct response from server?</p>\n"},{"tags":["java","apache-kafka","confluent-schema-registry"],"comments":[{"owner":{"account_id":142729,"reputation":30927,"user_id":350613,"display_name":"Robin Moffatt"},"score":1,"creation_date":1612201269,"post_id":65996052,"comment_id":116687124,"body_markdown":"`Unauthorized; error code: 401` is pretty clear cut. Have you checked the Schema Registry credentials directly using something like like `curl` ?","body":"<code>Unauthorized; error code: 401</code> is pretty clear cut. Have you checked the Schema Registry credentials directly using something like like <code>curl</code> ?"},{"owner":{"account_id":171320,"reputation":1015,"user_id":6519926,"accept_rate":17,"display_name":"Akshata"},"score":0,"creation_date":1612252395,"post_id":65996052,"comment_id":116701458,"body_markdown":"curl -s -u &lt;registry_key:secret&gt; GET https://&lt;host_name&gt;.confluent.cloud/subjects returns a valid response.","body":"curl -s -u &lt;registry_key:secret&gt; GET https://&lt;host_name&gt;.confluent.cloud/subjects returns a valid response."},{"owner":{"account_id":204168,"reputation":7140,"user_id":452210,"accept_rate":75,"display_name":"javabrett"},"score":0,"creation_date":1612312035,"post_id":65996052,"comment_id":116726205,"body_markdown":"Have you imported `ConfluentSchemaRegistryDeserializerProvider` from Apache Beam, and did you mean to do that?","body":"Have you imported <code>ConfluentSchemaRegistryDeserializerProvider</code> from Apache Beam, and did you mean to do that?"},{"owner":{"account_id":171320,"reputation":1015,"user_id":6519926,"accept_rate":17,"display_name":"Akshata"},"score":0,"creation_date":1612340130,"post_id":65996052,"comment_id":116732768,"body_markdown":"Yes exactly. I have imported org.apache.beam.sdk.io.kafka.ConfluentSchemaRegistryDeserializerProvider;","body":"Yes exactly. I have imported org.apache.beam.sdk.io.kafka.ConfluentSchemaRegistryDeserial&zwnj;&#8203;izerProvider;"},{"owner":{"account_id":352865,"reputation":11642,"user_id":690204,"accept_rate":70,"display_name":"alonisser"},"score":0,"creation_date":1634398800,"post_id":65996052,"comment_id":123016178,"body_markdown":"Have you find a solution for that?","body":"Have you find a solution for that?"}],"answers":[{"tags":[],"owner":{"account_id":4359487,"reputation":326,"user_id":8255027,"display_name":"Gerard Klijs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612474956,"creation_date":1612474956,"answer_id":66054248,"question_id":65996052,"body_markdown":"Seems like you should add the specific schema registry key and secret as \r\n```\r\nprops.put(&quot;schema.registry.basic.auth.user.info&quot;, &quot;&lt;SCHEMA_REGISTRY_API_KEY&gt;:&lt;SCHEMA_REGISTRY_API_SECRET&gt;&quot;);\r\n```\r\nto the properties. (from https://docs.confluent.io/cloud/current/cp-component/streams-cloud-config.html)","title":"Kafka schema registry RestClientException: Unauthorized; error code: 401","body":"<p>Seems like you should add the specific schema registry key and secret as</p>\n<pre><code>props.put(&quot;schema.registry.basic.auth.user.info&quot;, &quot;&lt;SCHEMA_REGISTRY_API_KEY&gt;:&lt;SCHEMA_REGISTRY_API_SECRET&gt;&quot;);\n</code></pre>\n<p>to the properties. (from <a href=\"https://docs.confluent.io/cloud/current/cp-component/streams-cloud-config.html\" rel=\"nofollow noreferrer\">https://docs.confluent.io/cloud/current/cp-component/streams-cloud-config.html</a>)</p>\n"},{"tags":[],"owner":{"account_id":3733465,"reputation":485,"user_id":3105078,"accept_rate":25,"display_name":"Konstantin B."},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1629793675,"creation_date":1629793675,"answer_id":68904186,"question_id":65996052,"body_markdown":"I used to have the same issue with libraries `5.3.0`.\r\nI resolved it updating to\r\n\r\n    &#39;org.apache.avro:avro:1.10.2&#39;\r\n    &#39;io.confluent:kafka-schema-registry-client:6.2.0&#39;\r\n\r\nI am using the following props to connect Schema Registry:\r\n\r\n    &quot;schema.registry.url&quot;: &quot;&lt;URL&gt;&quot;\r\n    &quot;schema.registry.basic.auth.credentials.source&quot;: &quot;USER_INFO&quot;\r\n    &quot;schema.registry.basic.auth.user.info&quot;: &quot;&lt;API_KEY&gt;:&lt;API_SECRET&gt;&quot;","title":"Kafka schema registry RestClientException: Unauthorized; error code: 401","body":"<p>I used to have the same issue with libraries <code>5.3.0</code>.\nI resolved it updating to</p>\n<pre><code>'org.apache.avro:avro:1.10.2'\n'io.confluent:kafka-schema-registry-client:6.2.0'\n</code></pre>\n<p>I am using the following props to connect Schema Registry:</p>\n<pre><code>&quot;schema.registry.url&quot;: &quot;&lt;URL&gt;&quot;\n&quot;schema.registry.basic.auth.credentials.source&quot;: &quot;USER_INFO&quot;\n&quot;schema.registry.basic.auth.user.info&quot;: &quot;&lt;API_KEY&gt;:&lt;API_SECRET&gt;&quot;\n</code></pre>\n"}],"owner":{"account_id":171320,"reputation":1015,"user_id":6519926,"accept_rate":17,"display_name":"Akshata"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12540,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1659434856,"creation_date":1612195626,"question_id":65996052,"body_markdown":"\r\nI am trying to read data from a kafka avro topic using the avro schema from the confluent client registry. I am using `io.confluent` library version `5.4.1`.\r\nThis is the entry in the gradle file\r\n```\r\n    compile (group: &#39;io.confluent&#39;, name: &#39;kafka-avro-serializer&#39;, version: &#39;5.4.1&#39;) {\r\n        exclude group: &#39;org.apache.avro&#39;, module: &#39;avro&#39;\r\n    }\r\n```\r\n\r\nI receive the following error.\r\n\r\n\r\n```\r\nCaused by: io.confluent.kafka.schemaregistry.client.rest.exceptions.RestClientException: Unauthorized; error code: 401\r\n```\r\n\r\n```\r\npublic PCollection&lt;KV&lt;String, GenericRecord&gt;&gt; apply(Pipeline p) {\r\n       ConfluentSchemaRegistryDeserializerProvider&lt;GenericRecord&gt; valDeserializerProvider =\r\n                ConfluentSchemaRegistryDeserializerProvider.of(params.schemaUrl, &quot;topic-value&quot;);\r\n\r\n        PCollection&lt;KafkaRecord&lt;String, GenericRecord&gt;&gt; records = p.apply(&quot;GetDataFromKafka&quot;, KafkaIO.&lt;String, GenericRecord&gt;read()\r\n                .withBootstrapServers(params.apiHost)\r\n                .withTopics(&quot;topic&quot;)\r\n                .withConsumerConfigUpdates(params.getConsumerProps())\r\n                .withKeyDeserializer(StringDeserializer.class)\r\n                .withValueDeserializer(valDeserializerProvider)\r\n                .commitOffsetsInFinalize());\r\n\r\n        return records.apply(&quot;TopicAndDataInput&quot;, MapElements.via(new SimpleFunction&lt;KafkaRecord&lt;String, GenericRecord&gt;, KV&lt;String, GenericRecord&gt;&gt;() {\r\n            @Override\r\n            public KV&lt;String, GenericRecord&gt; apply(KafkaRecord&lt;String, GenericRecord&gt; input) {\r\n                String topic = input.getTopic();\r\n                GenericRecord data = input.getKV().getValue();\r\n                return KV.of(topic, data);\r\n            }\r\n        }));\r\n    }\r\n```\r\n\r\nWhat am I missing here? Could someone point me in the right direction. \r\nThanks in advance.\r\n\r\nThis is the function to get consumer properties\r\n```\r\n    public Map&lt;String, Object&gt; getConsumerProps() {\r\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt; ();\r\n\r\n        props.put(&quot;group.id&quot;, groupId);\r\n        props.put(&quot;auto.offset.reset&quot;, &quot;earliest&quot;);\r\n        props.put(&quot;retry.backoff.ms&quot;,500);\r\n        props.put(&quot;max.partition.fetch.bytes&quot;, 8388608);\r\n        props.put(&quot;basic.auth.credentials.source&quot;, &quot;USER_INFO&quot;);\r\n        props.put(&quot;basic.auth.user.info&quot;, &quot;registry_key:secret&quot;);\r\n        props.put(&quot;ssl.endpoint.identification.algorithm&quot;,&quot;https&quot;);\r\n        props.put(&quot;security.protocol&quot;,&quot;SASL_SSL&quot;);\r\n            \r\n        props.put(&quot;sasl.jaas.config&quot;,&quot;org.apache.kafka.common.security.plain.PlainLoginModule required username=&#39;&quot;+ apiKey +&quot;&#39; password=&#39;&quot; + apiSecret +&quot;&#39;;&quot;);\r\n        props.put(&quot;sasl.mechanism&quot;,&quot;PLAIN&quot;);\r\n        return props;\r\n    }\r\n```\r\n\r\nTried also with the following props and still get the same unauthorized error. \r\n```\r\nprops.put(&quot;basic.auth.credentials.source&quot;, &quot;USER_INFO&quot;);\r\nprops.put(&quot;schema.registry.basic.auth.user.info&quot;, &quot;&lt;registry key&gt;:&lt;value&gt;&quot;);\r\nprops.put(&quot;schema.registry.url&quot;, schemaUrl);\r\n```","title":"Kafka schema registry RestClientException: Unauthorized; error code: 401","body":"<p>I am trying to read data from a kafka avro topic using the avro schema from the confluent client registry. I am using <code>io.confluent</code> library version <code>5.4.1</code>.\nThis is the entry in the gradle file</p>\n<pre><code>    compile (group: 'io.confluent', name: 'kafka-avro-serializer', version: '5.4.1') {\n        exclude group: 'org.apache.avro', module: 'avro'\n    }\n</code></pre>\n<p>I receive the following error.</p>\n<pre><code>Caused by: io.confluent.kafka.schemaregistry.client.rest.exceptions.RestClientException: Unauthorized; error code: 401\n</code></pre>\n<pre><code>public PCollection&lt;KV&lt;String, GenericRecord&gt;&gt; apply(Pipeline p) {\n       ConfluentSchemaRegistryDeserializerProvider&lt;GenericRecord&gt; valDeserializerProvider =\n                ConfluentSchemaRegistryDeserializerProvider.of(params.schemaUrl, &quot;topic-value&quot;);\n\n        PCollection&lt;KafkaRecord&lt;String, GenericRecord&gt;&gt; records = p.apply(&quot;GetDataFromKafka&quot;, KafkaIO.&lt;String, GenericRecord&gt;read()\n                .withBootstrapServers(params.apiHost)\n                .withTopics(&quot;topic&quot;)\n                .withConsumerConfigUpdates(params.getConsumerProps())\n                .withKeyDeserializer(StringDeserializer.class)\n                .withValueDeserializer(valDeserializerProvider)\n                .commitOffsetsInFinalize());\n\n        return records.apply(&quot;TopicAndDataInput&quot;, MapElements.via(new SimpleFunction&lt;KafkaRecord&lt;String, GenericRecord&gt;, KV&lt;String, GenericRecord&gt;&gt;() {\n            @Override\n            public KV&lt;String, GenericRecord&gt; apply(KafkaRecord&lt;String, GenericRecord&gt; input) {\n                String topic = input.getTopic();\n                GenericRecord data = input.getKV().getValue();\n                return KV.of(topic, data);\n            }\n        }));\n    }\n</code></pre>\n<p>What am I missing here? Could someone point me in the right direction.\nThanks in advance.</p>\n<p>This is the function to get consumer properties</p>\n<pre><code>    public Map&lt;String, Object&gt; getConsumerProps() {\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt; ();\n\n        props.put(&quot;group.id&quot;, groupId);\n        props.put(&quot;auto.offset.reset&quot;, &quot;earliest&quot;);\n        props.put(&quot;retry.backoff.ms&quot;,500);\n        props.put(&quot;max.partition.fetch.bytes&quot;, 8388608);\n        props.put(&quot;basic.auth.credentials.source&quot;, &quot;USER_INFO&quot;);\n        props.put(&quot;basic.auth.user.info&quot;, &quot;registry_key:secret&quot;);\n        props.put(&quot;ssl.endpoint.identification.algorithm&quot;,&quot;https&quot;);\n        props.put(&quot;security.protocol&quot;,&quot;SASL_SSL&quot;);\n            \n        props.put(&quot;sasl.jaas.config&quot;,&quot;org.apache.kafka.common.security.plain.PlainLoginModule required username='&quot;+ apiKey +&quot;' password='&quot; + apiSecret +&quot;';&quot;);\n        props.put(&quot;sasl.mechanism&quot;,&quot;PLAIN&quot;);\n        return props;\n    }\n</code></pre>\n<p>Tried also with the following props and still get the same unauthorized error.</p>\n<pre><code>props.put(&quot;basic.auth.credentials.source&quot;, &quot;USER_INFO&quot;);\nprops.put(&quot;schema.registry.basic.auth.user.info&quot;, &quot;&lt;registry key&gt;:&lt;value&gt;&quot;);\nprops.put(&quot;schema.registry.url&quot;, schemaUrl);\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":139856,"reputation":77164,"user_id":345717,"accept_rate":81,"display_name":"EboMike"},"score":0,"creation_date":1291078794,"post_id":4309628,"comment_id":4679747,"body_markdown":"Please format your code by selecting it and pressing CTRL+K.","body":"Please format your code by selecting it and pressing CTRL+K."},{"owner":{"account_id":139856,"reputation":77164,"user_id":345717,"accept_rate":81,"display_name":"EboMike"},"score":0,"creation_date":1291078835,"post_id":4309628,"comment_id":4679752,"body_markdown":"Btw, what is your question? You&#39;re saying you&#39;re not sure how to print the values, but you&#39;re calling `System.out.println`. So what&#39;s happening? Are they not printed out?","body":"Btw, what is your question? You&#39;re saying you&#39;re not sure how to print the values, but you&#39;re calling <code>System.out.println</code>. So what&#39;s happening? Are they not printed out?"}],"answers":[{"tags":[],"owner":{"account_id":36759,"reputation":38034,"user_id":104950,"accept_rate":93,"display_name":"Amir Afghani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1291079295,"creation_date":1291078959,"answer_id":4309642,"question_id":4309628,"body_markdown":"Your print statements are inside of your if case.  Have you considered that `s != 1 or s != 2` ?\r\n\r\n    package javaapplication1;\r\n    import java.util.Random;\r\n    import java.math.*;\r\n    \r\n    public class DH {\r\n        public static void main(String [] arg) {\r\n    \r\n            int s, q;\r\n            double sk1, sk2, pk1 = 0, pk2 = 0;\r\n            Random generator = new Random();\r\n            s = generator.nextInt(50000);\r\n            q = generator.nextInt(50000);\r\n    \r\n            sk1 = generator.nextInt();\r\n            sk2 = generator.nextInt();\r\n    \r\n            if(s==1 || s==2) {\r\n                for(int i = 2; i&lt; (int)(s/2); i++) {\r\n                    if(s/i != (int)(s/i)) {\r\n                        double a= Math.pow(q,sk1);\r\n                        pk1 = a%s;\r\n                        double b= Math.pow(q, sk2);\r\n                        pk2 = b%s;\r\n    \r\n                        if(pk1==pk2) {\r\n                            System.out.println(&quot;true&quot;);\r\n                        }\r\n                    }\r\n                } \r\n            }\r\n            System.out.println(s);\r\n            System.out.println(q);\r\n            System.out.println(sk1);\r\n            System.out.println(sk2);\r\n            System.out.println(pk1);\r\n            System.out.println(pk2);        \r\n        }\r\n    }","title":"Printing debug values in a cryptographic exchange","body":"<p>Your print statements are inside of your if case.  Have you considered that <code>s != 1 or s != 2</code> ?</p>\n\n<pre><code>package javaapplication1;\nimport java.util.Random;\nimport java.math.*;\n\npublic class DH {\n    public static void main(String [] arg) {\n\n        int s, q;\n        double sk1, sk2, pk1 = 0, pk2 = 0;\n        Random generator = new Random();\n        s = generator.nextInt(50000);\n        q = generator.nextInt(50000);\n\n        sk1 = generator.nextInt();\n        sk2 = generator.nextInt();\n\n        if(s==1 || s==2) {\n            for(int i = 2; i&lt; (int)(s/2); i++) {\n                if(s/i != (int)(s/i)) {\n                    double a= Math.pow(q,sk1);\n                    pk1 = a%s;\n                    double b= Math.pow(q, sk2);\n                    pk2 = b%s;\n\n                    if(pk1==pk2) {\n                        System.out.println(\"true\");\n                    }\n                }\n            } \n        }\n        System.out.println(s);\n        System.out.println(q);\n        System.out.println(sk1);\n        System.out.println(sk2);\n        System.out.println(pk1);\n        System.out.println(pk2);        \n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":139856,"reputation":77164,"user_id":345717,"accept_rate":81,"display_name":"EboMike"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1291079120,"creation_date":1291079120,"answer_id":4309657,"question_id":4309628,"body_markdown":"You&#39;re only ever doing anything if  `if(s/i != (int)(s/i))`. Since both `s` and `i` are integers, it&#39;s unlikely that this condition will ever be true.\r\n\r\n(To clarify: With &quot;unlikely&quot;, I mean that this condition couldn&#39;t possibly be true. `s/i` returns an integer, and `(int)(s/i)` will return the exact same integer.)","title":"Printing debug values in a cryptographic exchange","body":"<p>You're only ever doing anything if  <code>if(s/i != (int)(s/i))</code>. Since both <code>s</code> and <code>i</code> are integers, it's unlikely that this condition will ever be true.</p>\n\n<p>(To clarify: With \"unlikely\", I mean that this condition couldn't possibly be true. <code>s/i</code> returns an integer, and <code>(int)(s/i)</code> will return the exact same integer.)</p>\n"},{"tags":[],"owner":{"account_id":79673,"reputation":40911,"user_id":225757,"accept_rate":72,"display_name":"Roland Illig"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1291080183,"creation_date":1291079148,"answer_id":4309659,"question_id":4309628,"body_markdown":"Don&#39;t ever use floating point arithmetics for cryptography. Especially for exponentiation you need results with more precision than a `double` can give you. Use `BigInteger` instead.\r\n\r\nWhile you are testing, you should not use &quot;new&quot; random numbers each time. Use `new Random(0)` instead so that you can reproduce your computations the next time you start the debugger.\r\n\r\nHow do you guarantee that `s` is a prime number? I cannot see it from the code.\r\n\r\nPlease indent your code properly and consistently. &lt;strike&gt;Since you are using Eclipse, all you need to do is to press Ctrl-Shift-F once.&lt;/strike&gt;","title":"Printing debug values in a cryptographic exchange","body":"<p>Don't ever use floating point arithmetics for cryptography. Especially for exponentiation you need results with more precision than a <code>double</code> can give you. Use <code>BigInteger</code> instead.</p>\n\n<p>While you are testing, you should not use \"new\" random numbers each time. Use <code>new Random(0)</code> instead so that you can reproduce your computations the next time you start the debugger.</p>\n\n<p>How do you guarantee that <code>s</code> is a prime number? I cannot see it from the code.</p>\n\n<p>Please indent your code properly and consistently. <strike>Since you are using Eclipse, all you need to do is to press Ctrl-Shift-F once.</strike></p>\n"},{"tags":[],"owner":{"account_id":17180,"reputation":27171,"user_id":38207,"accept_rate":83,"display_name":"James Anderson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1291079821,"creation_date":1291079821,"answer_id":4309717,"question_id":4309628,"body_markdown":"As s an intger generated by:\r\n\r\n    s = generator.nextInt(50000);  \r\n\r\nThere is a 25,000 to 1 chance that :\r\n\r\n    if(s==1 || s==2) { \r\n\r\nwill ever be true.\r\nPerhaps yo umeant if s &gt; 2?\r\n\r\n","title":"Printing debug values in a cryptographic exchange","body":"<p>As s an intger generated by:</p>\n\n<pre><code>s = generator.nextInt(50000);  \n</code></pre>\n\n<p>There is a 25,000 to 1 chance that :</p>\n\n<pre><code>if(s==1 || s==2) { \n</code></pre>\n\n<p>will ever be true.\nPerhaps yo umeant if s > 2?</p>\n"}],"owner":{"account_id":248885,"reputation":1,"user_id":524547,"display_name":"Hash"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1659434708,"creation_date":1291078673,"question_id":4309628,"body_markdown":"I have created this basic program to implement the Diffie-Hellman algorithm. I want `s` to be a randomly generated prime number, and `q` to be a randomly generated integer. `sk1` and `sk2` are shared keys which are also generated randomly. `pk1` and `pk2` are modulus calculated values which I have to prove are equal to each other. I think my formula is correct but I am not sure how to print the values of `s`, `q`, `sk1`, `sk2`, `pk1` and `pk2` to verify my requirements. My code is pasted below and I would really appreciate if anyone could help me with the print statements.\r\n\r\n\r\n```java    \r\npackage javaapplication1;\r\nimport java.util.Random;\r\nimport java.math.*;\r\n\r\npublic class DH {\r\n    public static void main(String [] arg) {\r\n         \r\n        int s, q;\r\n        double sk1, sk2, pk1 = 0, pk2 = 0;\r\n        Random generator = new Random();\r\n        s = generator.nextInt(50000);\r\n        q = generator.nextInt(50000);\r\n    \r\n        sk1 = generator.nextInt();\r\n        sk2 = generator.nextInt();\r\n    \r\n        if(s==1 || s==2) {\r\n            for(int i = 2; i&lt; (int)(s/2); i++) {\r\n                if(s/i != (int)(s/i)) {\r\n                    double a= Math.pow(q,sk1);\r\n                    pk1 = a%s;\r\n    \r\n                    double b= Math.pow(q, sk2);\r\n                    pk2 = b%s;\r\n    \r\n                    if(pk1==pk2) {\r\n                        System.out.println(&quot;true&quot;);\r\n                    }\r\n    \r\n                    System.out.println(s);\r\n                    System.out.println(q);\r\n                    System.out.println(sk1);\r\n                    System.out.println(sk2);\r\n                    System.out.println(pk1);\r\n                    System.out.println(pk2);\r\n                }\r\n            } \r\n        }\r\n    }\r\n}\r\n```\r\n","title":"Printing debug values in a cryptographic exchange","body":"<p>I have created this basic program to implement the Diffie-Hellman algorithm. I want <code>s</code> to be a randomly generated prime number, and <code>q</code> to be a randomly generated integer. <code>sk1</code> and <code>sk2</code> are shared keys which are also generated randomly. <code>pk1</code> and <code>pk2</code> are modulus calculated values which I have to prove are equal to each other. I think my formula is correct but I am not sure how to print the values of <code>s</code>, <code>q</code>, <code>sk1</code>, <code>sk2</code>, <code>pk1</code> and <code>pk2</code> to verify my requirements. My code is pasted below and I would really appreciate if anyone could help me with the print statements.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package javaapplication1;\nimport java.util.Random;\nimport java.math.*;\n\npublic class DH {\n    public static void main(String [] arg) {\n         \n        int s, q;\n        double sk1, sk2, pk1 = 0, pk2 = 0;\n        Random generator = new Random();\n        s = generator.nextInt(50000);\n        q = generator.nextInt(50000);\n    \n        sk1 = generator.nextInt();\n        sk2 = generator.nextInt();\n    \n        if(s==1 || s==2) {\n            for(int i = 2; i&lt; (int)(s/2); i++) {\n                if(s/i != (int)(s/i)) {\n                    double a= Math.pow(q,sk1);\n                    pk1 = a%s;\n    \n                    double b= Math.pow(q, sk2);\n                    pk2 = b%s;\n    \n                    if(pk1==pk2) {\n                        System.out.println(&quot;true&quot;);\n                    }\n    \n                    System.out.println(s);\n                    System.out.println(q);\n                    System.out.println(sk1);\n                    System.out.println(sk2);\n                    System.out.println(pk1);\n                    System.out.println(pk2);\n                }\n            } \n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","gradle","hibernate-validator"],"comments":[{"owner":{"account_id":10245097,"reputation":7918,"user_id":7561129,"accept_rate":67,"display_name":"Zeusox"},"score":0,"creation_date":1545066300,"post_id":53597864,"comment_id":94488249,"body_markdown":"Post your error stack trace ?","body":"Post your error stack trace ?"}],"answers":[{"tags":[],"owner":{"account_id":10245097,"reputation":7918,"user_id":7561129,"accept_rate":67,"display_name":"Zeusox"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1543855586,"creation_date":1543855586,"answer_id":53598165,"question_id":53597864,"body_markdown":"You need to add Hibernate validator. Add one of the following:\r\n\r\nFor Gradle, add:\r\n\r\n    compile group: &#39;org.hibernate&#39;, name: &#39;hibernate-validator&#39;, version: &#39;6.0.13.Final&#39;\r\n\r\nFor Maven, add:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n        &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n        &lt;version&gt;6.0.13.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nYou can adjust the version based on other dependencies versions&#39;\r\n\r\n","title":"Getting NoProviderFoundException When try to implement &quot;Hibernate Validator&quot;","body":"<p>You need to add Hibernate validator. Add one of the following:</p>\n\n<p>For Gradle, add:</p>\n\n<pre><code>compile group: 'org.hibernate', name: 'hibernate-validator', version: '6.0.13.Final'\n</code></pre>\n\n<p>For Maven, add:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n    &lt;version&gt;6.0.13.Final&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>You can adjust the version based on other dependencies versions'</p>\n"},{"tags":[],"owner":{"account_id":17327435,"reputation":151,"user_id":12551369,"display_name":"Paul EDANGE"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659434671,"creation_date":1659434671,"answer_id":73205656,"question_id":53597864,"body_markdown":"If you are using SpringBoot, you can add the following library : \r\n```xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n  &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Getting NoProviderFoundException When try to implement &quot;Hibernate Validator&quot;","body":"<p>If you are using SpringBoot, you can add the following library :</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":14872726,"reputation":81,"user_id":10739800,"display_name":"Vahram Davoyan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11322,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":2,"score":8,"last_activity_date":1659434671,"creation_date":1543854383,"question_id":53597864,"body_markdown":"I am getting &quot;Unable to create a Configuration, because no Bean Validation provider could be found. Add a provider like Hibernate Validator (RI) to your classpath.&quot; this error when try to implement the Validation for my Entity (ProductInstance)\r\n\r\nHere is the Usage\r\n\r\n    try {\r\n            Validator validator = Validation.buildDefaultValidatorFactory().getValidator();\r\n            for (ConstraintViolation&lt;ProductInstance&gt; violation : validator.validate(product)) {\r\n                genActResponse.addErrorMessage(violation.getMessage());\r\n                genActResponse.addFailure();\r\n                return genActResponse;\r\n            }\r\n        } catch (Exception e) {\r\n            throw e;\r\n        }\r\n\r\n\r\nHere is the **Dependency** in gradle.build\r\n\r\n    dependencies {\r\n    compile group: &#39;org.hibernate&#39;, name: &#39;hibernate-validator-annotation-processor&#39;, version: &#39;6.0.2.Final&#39;\r\n\r\nAnd here is the error I am getting\r\n\r\n    2018-12-03 20:22:12,420 WebErrorHandler                     ERROR - General exception\r\n    javax.validation.NoProviderFoundException: Unable to create a Configuration, because no Bean Validation provider could be found. Add a provider like Hibernate Validator (RI) to your classpath.\r\n        at javax.validation.Validation$GenericBootstrapImpl.configure(Validation.java:291)\r\n        at javax.validation.Validation.buildDefaultValidatorFactory(Validation.java:103)\r\n        at com.helpsystems.incn.access.service.DefaultProductInstanceService.updateProduct(DefaultProductInstanceService.java:200)\r\n        at com.helpsystems.incn.server.ProductInstanceController.updateProduct(ProductInstanceController.java:95)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:498)","title":"Getting NoProviderFoundException When try to implement &quot;Hibernate Validator&quot;","body":"<p>I am getting \"Unable to create a Configuration, because no Bean Validation provider could be found. Add a provider like Hibernate Validator (RI) to your classpath.\" this error when try to implement the Validation for my Entity (ProductInstance)</p>\n\n<p>Here is the Usage</p>\n\n<pre><code>try {\n        Validator validator = Validation.buildDefaultValidatorFactory().getValidator();\n        for (ConstraintViolation&lt;ProductInstance&gt; violation : validator.validate(product)) {\n            genActResponse.addErrorMessage(violation.getMessage());\n            genActResponse.addFailure();\n            return genActResponse;\n        }\n    } catch (Exception e) {\n        throw e;\n    }\n</code></pre>\n\n<p>Here is the <strong>Dependency</strong> in gradle.build</p>\n\n<pre><code>dependencies {\ncompile group: 'org.hibernate', name: 'hibernate-validator-annotation-processor', version: '6.0.2.Final'\n</code></pre>\n\n<p>And here is the error I am getting</p>\n\n<pre><code>2018-12-03 20:22:12,420 WebErrorHandler                     ERROR - General exception\njavax.validation.NoProviderFoundException: Unable to create a Configuration, because no Bean Validation provider could be found. Add a provider like Hibernate Validator (RI) to your classpath.\n    at javax.validation.Validation$GenericBootstrapImpl.configure(Validation.java:291)\n    at javax.validation.Validation.buildDefaultValidatorFactory(Validation.java:103)\n    at com.helpsystems.incn.access.service.DefaultProductInstanceService.updateProduct(DefaultProductInstanceService.java:200)\n    at com.helpsystems.incn.server.ProductInstanceController.updateProduct(ProductInstanceController.java:95)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n</code></pre>\n"},{"tags":["java","kotlin","java-platform-module-system","serviceloader","javalin"],"answers":[{"tags":[],"owner":{"account_id":5818768,"reputation":2005,"user_id":4587483,"accept_rate":56,"display_name":"baumgarb"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659434471,"creation_date":1659434471,"answer_id":73205598,"question_id":73123077,"body_markdown":"I&#39;ve created a Javalin [GitHub issue][1] describing the same issue. It&#39;s solved by now, but for convenience reasons I&#39;ll drop the solution here on Stackoverflow as well. \r\n\r\nAdding the following line to the module descriptor (`module-info.java`) of the `api` project solves the issue:\r\n\r\n```\r\n    requires io.javalin;\r\n    requires com.fasterxml.jackson.databind;\r\n    requires org.slf4j.simple;\r\n    requires kotlin.stdlib;                        &lt;-- simply add this line here\r\n\r\n    uses org.example.services.api.PersonReader;\r\n```\r\n\r\nThe root cause seems to be that Javalin is not modularized yet. If you look closer into the module resolution (pass `--show-module-resolution` arg to java) you will see that Javalin is treated as an automatic module and the auto-generated requires statements for this automatic module do not include `kotlin.stdlib`.\r\n\r\nIf Javalin ever becomes modularized this should no longer be an issue. Until then, this is a viable solution which can also be applied to other not-yet-modularized projects. \r\n\r\n  [1]: https://github.com/javalin/javalin/issues/1624","title":"Javalin with JPMS and ServiceLoader results in NoClassDefFoundError: kotlin/NoWhenBranchMatchedException","body":"<p>I've created a Javalin <a href=\"https://github.com/javalin/javalin/issues/1624\" rel=\"nofollow noreferrer\">GitHub issue</a> describing the same issue. It's solved by now, but for convenience reasons I'll drop the solution here on Stackoverflow as well.</p>\n<p>Adding the following line to the module descriptor (<code>module-info.java</code>) of the <code>api</code> project solves the issue:</p>\n<pre><code>    requires io.javalin;\n    requires com.fasterxml.jackson.databind;\n    requires org.slf4j.simple;\n    requires kotlin.stdlib;                        &lt;-- simply add this line here\n\n    uses org.example.services.api.PersonReader;\n</code></pre>\n<p>The root cause seems to be that Javalin is not modularized yet. If you look closer into the module resolution (pass <code>--show-module-resolution</code> arg to java) you will see that Javalin is treated as an automatic module and the auto-generated requires statements for this automatic module do not include <code>kotlin.stdlib</code>.</p>\n<p>If Javalin ever becomes modularized this should no longer be an issue. Until then, this is a viable solution which can also be applied to other not-yet-modularized projects.</p>\n"}],"owner":{"account_id":5818768,"reputation":2005,"user_id":4587483,"accept_rate":56,"display_name":"baumgarb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":424,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73205598,"answer_count":1,"score":1,"last_activity_date":1659434471,"creation_date":1658837032,"question_id":73123077,"body_markdown":"Running Javalin with JPMS and ServiceLoader leads to a `NoClassDefFoundError: kotlin/NoWhenBranchMatchedException`. The same code following two other approaches works fine, though (see at the end of this post for details):\r\n\r\n - No JPMS and ServiceLoader: if I run the very same Javalin application not as a JPMS module and without the ServiceLoader to resolve dependencies, then everything works just fine.\r\n\r\n - Console app: I can also run a console application which is a real JPMS module and uses the ServiceLoader to resolve dependencies.\r\n \r\n\r\nSteps to reproduce the issue\r\n----------------------------\r\n\r\n**(1)** Clone [main][1] branch\r\n\r\n**(2)** Try to run API in root folder of project\r\n\r\n    # Windows\r\n    .\\gradlew.bat :api:run\r\n\r\n    # Linux\r\n    ./gradlew :api:run\r\n\r\n\r\nYou should see the following error:\r\n\r\n    &gt; Task :api:run FAILED\r\n    [main] INFO org.example.api.WebAPI - Hello World from WebAPI, yay :-)\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: kotlin/NoWhenBranchMatchedException\r\n            at io.javalin@4.6.4/io.javalin.core.JavalinConfig$Inner.&lt;init&gt;(JavalinConfig.java:77)\r\n            at io.javalin@4.6.4/io.javalin.core.JavalinConfig.&lt;init&gt;(JavalinConfig.java:67)\r\n            at io.javalin@4.6.4/io.javalin.Javalin.&lt;init&gt;(Javalin.java:54)\r\n            at io.javalin@4.6.4/io.javalin.Javalin.create(Javalin.java:91)\r\n            at io.javalin@4.6.4/io.javalin.Javalin.create(Javalin.java:78)\r\n            at org.example.api/org.example.api.WebAPI.main(WebAPI.java:24)\r\n    Caused by: java.lang.ClassNotFoundException: kotlin.NoWhenBranchMatchedException\r\n            at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n            at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n            at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n            ... 6 more\r\n    FAILURE: Build failed with an exception.\r\n\r\n\r\n----------\r\n\r\nThe following two approaches work fine, though:\r\n-----------------------------------------------\r\n\r\n**(3)** No JPMS and ServiceLoader: change to branch [no-jpms-and-serviceloader][2] and then you can successfully run the API via\r\n\r\n    # Windows\r\n    .\\gradlew.bat :api:run\r\n\r\n    # Linux\r\n    ./gradlew :api:run\r\n\r\n**(4)** Console app: run it as a console application in either of the branches\r\n\r\n    # Windows\r\n    .\\gradlew.bat :client:run\r\n\r\n    # Linux\r\n    ./gradlew :client:run\r\n\r\n  [1]: https://github.com/baumgarb/javalin-with-jpms/tree/main\r\n  [2]: https://github.com/baumgarb/javalin-with-jpms/tree/no-jpms-and-serviceloader","title":"Javalin with JPMS and ServiceLoader results in NoClassDefFoundError: kotlin/NoWhenBranchMatchedException","body":"<p>Running Javalin with JPMS and ServiceLoader leads to a <code>NoClassDefFoundError: kotlin/NoWhenBranchMatchedException</code>. The same code following two other approaches works fine, though (see at the end of this post for details):</p>\n<ul>\n<li><p>No JPMS and ServiceLoader: if I run the very same Javalin application not as a JPMS module and without the ServiceLoader to resolve dependencies, then everything works just fine.</p>\n</li>\n<li><p>Console app: I can also run a console application which is a real JPMS module and uses the ServiceLoader to resolve dependencies.</p>\n</li>\n</ul>\n<h2>Steps to reproduce the issue</h2>\n<p><strong>(1)</strong> Clone <a href=\"https://github.com/baumgarb/javalin-with-jpms/tree/main\" rel=\"nofollow noreferrer\">main</a> branch</p>\n<p><strong>(2)</strong> Try to run API in root folder of project</p>\n<pre><code># Windows\n.\\gradlew.bat :api:run\n\n# Linux\n./gradlew :api:run\n</code></pre>\n<p>You should see the following error:</p>\n<pre><code>&gt; Task :api:run FAILED\n[main] INFO org.example.api.WebAPI - Hello World from WebAPI, yay :-)\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: kotlin/NoWhenBranchMatchedException\n        at io.javalin@4.6.4/io.javalin.core.JavalinConfig$Inner.&lt;init&gt;(JavalinConfig.java:77)\n        at io.javalin@4.6.4/io.javalin.core.JavalinConfig.&lt;init&gt;(JavalinConfig.java:67)\n        at io.javalin@4.6.4/io.javalin.Javalin.&lt;init&gt;(Javalin.java:54)\n        at io.javalin@4.6.4/io.javalin.Javalin.create(Javalin.java:91)\n        at io.javalin@4.6.4/io.javalin.Javalin.create(Javalin.java:78)\n        at org.example.api/org.example.api.WebAPI.main(WebAPI.java:24)\nCaused by: java.lang.ClassNotFoundException: kotlin.NoWhenBranchMatchedException\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n        ... 6 more\nFAILURE: Build failed with an exception.\n</code></pre>\n<hr />\n<h2>The following two approaches work fine, though:</h2>\n<p><strong>(3)</strong> No JPMS and ServiceLoader: change to branch <a href=\"https://github.com/baumgarb/javalin-with-jpms/tree/no-jpms-and-serviceloader\" rel=\"nofollow noreferrer\">no-jpms-and-serviceloader</a> and then you can successfully run the API via</p>\n<pre><code># Windows\n.\\gradlew.bat :api:run\n\n# Linux\n./gradlew :api:run\n</code></pre>\n<p><strong>(4)</strong> Console app: run it as a console application in either of the branches</p>\n<pre><code># Windows\n.\\gradlew.bat :client:run\n\n# Linux\n./gradlew :client:run\n</code></pre>\n"},{"tags":["java","ssl","ssl-certificate"],"comments":[{"owner":{"account_id":155770,"reputation":120153,"user_id":372643,"accept_rate":88,"display_name":"Bruno"},"score":0,"creation_date":1337796764,"post_id":10724789,"comment_id":13931186,"body_markdown":"Why `new KeyManager[0]` and not `null`? (Which DH bug are you referring to, btw?)","body":"Why <code>new KeyManager[0]</code> and not <code>null</code>? (Which DH bug are you referring to, btw?)"},{"owner":{"account_id":137942,"reputation":14900,"user_id":342518,"accept_rate":89,"display_name":"TheLQ"},"score":0,"creation_date":1337797018,"post_id":10724789,"comment_id":13931281,"body_markdown":"@Bruno To be honest, I copied this from somewhere, made sure it worked, and then was done with it. I&#39;ve never been able to fully understand the underlying SSL Java code so I try not to deal with it when I can","body":"@Bruno To be honest, I copied this from somewhere, made sure it worked, and then was done with it. I&#39;ve never been able to fully understand the underlying SSL Java code so I try not to deal with it when I can"},{"owner":{"account_id":155770,"reputation":120153,"user_id":372643,"accept_rate":88,"display_name":"Bruno"},"score":1,"creation_date":1337797130,"post_id":10724789,"comment_id":13931321,"body_markdown":"If you don&#39;t fully understand the underlying SSL code, do you realise why it&#39;s a bad idea to trust all certificates?","body":"If you don&#39;t fully understand the underlying SSL code, do you realise why it&#39;s a bad idea to trust all certificates?"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1337809878,"post_id":10724789,"comment_id":13936031,"body_markdown":"Due to *what* &#39;JDK bug&#39;? Do you realize this is rsdically insecure? If you don&#39;t want it secure why are you using SSL at all?","body":"Due to <i>what</i> &#39;JDK bug&#39;? Do you realize this is rsdically insecure? If you don&#39;t want it secure why are you using SSL at all?"},{"owner":{"account_id":137942,"reputation":14900,"user_id":342518,"accept_rate":89,"display_name":"TheLQ"},"score":0,"creation_date":1337816872,"post_id":10724789,"comment_id":13937603,"body_markdown":"@Bruno I&#39;m writing a framework. Some users want to connect to servers using SSL, so I provide support. For those who want to, they can disable checking certificates and diffie hellman. This is simply a utility class for them. And yes, there is a warning saying that this is insecure. Its simply for convenience","body":"@Bruno I&#39;m writing a framework. Some users want to connect to servers using SSL, so I provide support. For those who want to, they can disable checking certificates and diffie hellman. This is simply a utility class for them. And yes, there is a warning saying that this is insecure. Its simply for convenience"},{"owner":{"account_id":137942,"reputation":14900,"user_id":342518,"accept_rate":89,"display_name":"TheLQ"},"score":0,"creation_date":1337816990,"post_id":10724789,"comment_id":13937622,"body_markdown":"@EJP JDK bug #6521495. Java throws an Exception when prime sizes are above 1024 bits. See http://stackoverflow.com/questions/6851461/java-why-does-ssl-handshake-give-could-not-generate-dh-keypair-exception","body":"@EJP JDK bug #6521495. Java throws an Exception when prime sizes are above 1024 bits. See <a href=\"http://stackoverflow.com/questions/6851461/java-why-does-ssl-handshake-give-could-not-generate-dh-keypair-exception\" title=\"java why does ssl handshake give could not generate dh keypair exception\">stackoverflow.com/questions/6851461/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":162919,"reputation":53273,"user_id":384706,"accept_rate":64,"display_name":"Cratylus"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1337794331,"creation_date":1337793844,"answer_id":10724896,"question_id":10724789,"body_markdown":"&gt; an arbitrary SSLSocketFactory to trust all certificates without\r\n&gt; replacing it  \r\n\r\nNo. You *have* to set your own custom &quot;Trust All Certificates&quot; manager, otherwise the default one is being used which &quot;consults&quot; the java&#39;s default truststore which is `cacerts` in your JDK installation.  \r\n\r\nBut from a security perspective if you are going to have no server authentication you might as well go with plain TCP and avoid the SSL overhead since you don&#39;t actually have any security at all the way you are following.","title":"Tell arbitrary SSLSocketFactories to trust all certificates?","body":"<blockquote>\n  <p>an arbitrary SSLSocketFactory to trust all certificates without\n  replacing it  </p>\n</blockquote>\n\n<p>No. You <em>have</em> to set your own custom \"Trust All Certificates\" manager, otherwise the default one is being used which \"consults\" the java's default truststore which is <code>cacerts</code> in your JDK installation.  </p>\n\n<p>But from a security perspective if you are going to have no server authentication you might as well go with plain TCP and avoid the SSL overhead since you don't actually have any security at all the way you are following.</p>\n"},{"tags":[],"owner":{"account_id":1355206,"reputation":33312,"user_id":1293744,"accept_rate":44,"display_name":"Kumar Vivek Mitra"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1337795491,"creation_date":1337795491,"answer_id":10725268,"question_id":10724789,"body_markdown":"Try this code....Its a working code, use this class in your code like this \r\n\r\n    HttpClient client = MySSLSocketFactory.getNewHttpClient();\r\n\r\n  \r\n\r\nHere is the code\r\n\r\n\r\n    import java.io.IOException;\r\n    import java.net.Socket;\r\n    import java.net.UnknownHostException;\r\n    import java.security.KeyManagementException;\r\n    import java.security.KeyStore;\r\n    import java.security.KeyStoreException;\r\n    import java.security.NoSuchAlgorithmException;\r\n    import java.security.UnrecoverableKeyException;\r\n    import java.security.cert.CertificateException;\r\n    import java.security.cert.X509Certificate;\r\n    \r\n    import javax.net.ssl.SSLContext;\r\n    import javax.net.ssl.TrustManager;\r\n    import javax.net.ssl.X509TrustManager;\r\n    \r\n    import org.apache.http.HttpVersion;\r\n    import org.apache.http.client.HttpClient;\r\n    import org.apache.http.conn.ClientConnectionManager;\r\n    import org.apache.http.conn.scheme.PlainSocketFactory;\r\n    import org.apache.http.conn.scheme.Scheme;\r\n    import org.apache.http.conn.scheme.SchemeRegistry;\r\n    import org.apache.http.conn.ssl.SSLSocketFactory;\r\n    import org.apache.http.impl.client.DefaultHttpClient;\r\n    import org.apache.http.impl.conn.tsccm.ThreadSafeClientConnManager;\r\n    import org.apache.http.params.BasicHttpParams;\r\n    import org.apache.http.params.HttpParams;\r\n    import org.apache.http.params.HttpProtocolParams;\r\n    import org.apache.http.protocol.HTTP;\r\n    \r\n    public class MySSLSocketFactory extends SSLSocketFactory {\r\n        SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\r\n    \r\n        public MySSLSocketFactory(KeyStore truststore) throws NoSuchAlgorithmException, KeyManagementException, KeyStoreException, UnrecoverableKeyException {\r\n           super(truststore);\r\n    \r\n           TrustManager tm = new X509TrustManager() {\r\n               public void checkClientTrusted(X509Certificate[] chain, String authType) throws CertificateException {\r\n               }\r\n    \r\n               public void checkServerTrusted(X509Certificate[] chain, String authType) throws CertificateException {\r\n               }\r\n    \r\n               public X509Certificate[] getAcceptedIssuers() {\r\n                   return null;\r\n               }\r\n           };\r\n    \r\n           sslContext.init(null, new TrustManager[] { tm }, null);\r\n        }\r\n    \r\n        @Override\r\n        public Socket createSocket(Socket socket, String host, int port, boolean autoClose) throws IOException, UnknownHostException {\r\n           return sslContext.getSocketFactory().createSocket(socket, host, port, autoClose);\r\n        }\r\n    \r\n        @Override\r\n        public Socket createSocket() throws IOException {\r\n           return sslContext.getSocketFactory().createSocket();\r\n        }\r\n    \r\n    \r\n    public static HttpClient getNewHttpClient() {\r\n        try {\r\n           KeyStore trustStore = KeyStore.getInstance(KeyStore.getDefaultType());\r\n           trustStore.load(null, null);\r\n    \r\n           SSLSocketFactory sf = new MySSLSocketFactory(trustStore);\r\n           sf.setHostnameVerifier(SSLSocketFactory.ALLOW_ALL_HOSTNAME_VERIFIER);\r\n    \r\n           HttpParams params = new BasicHttpParams();\r\n           HttpProtocolParams.setVersion(params, HttpVersion.HTTP_1_1);\r\n           HttpProtocolParams.setContentCharset(params, HTTP.UTF_8);\r\n    \r\n           SchemeRegistry registry = new SchemeRegistry();\r\n           registry.register(new Scheme(&quot;http&quot;, PlainSocketFactory.getSocketFactory(), 80));\r\n           registry.register(new Scheme(&quot;https&quot;, sf, 443));\r\n    \r\n           ClientConnectionManager ccm = new ThreadSafeClientConnManager(params, registry);\r\n    \r\n           return new DefaultHttpClient(ccm, params);\r\n        } catch (Exception e) {\r\n           return new DefaultHttpClient();\r\n        }\r\n    }\r\n    \r\n    }\r\n\r\n","title":"Tell arbitrary SSLSocketFactories to trust all certificates?","body":"<p>Try this code....Its a working code, use this class in your code like this </p>\n\n<pre><code>HttpClient client = MySSLSocketFactory.getNewHttpClient();\n</code></pre>\n\n<p>Here is the code</p>\n\n<pre><code>import java.io.IOException;\nimport java.net.Socket;\nimport java.net.UnknownHostException;\nimport java.security.KeyManagementException;\nimport java.security.KeyStore;\nimport java.security.KeyStoreException;\nimport java.security.NoSuchAlgorithmException;\nimport java.security.UnrecoverableKeyException;\nimport java.security.cert.CertificateException;\nimport java.security.cert.X509Certificate;\n\nimport javax.net.ssl.SSLContext;\nimport javax.net.ssl.TrustManager;\nimport javax.net.ssl.X509TrustManager;\n\nimport org.apache.http.HttpVersion;\nimport org.apache.http.client.HttpClient;\nimport org.apache.http.conn.ClientConnectionManager;\nimport org.apache.http.conn.scheme.PlainSocketFactory;\nimport org.apache.http.conn.scheme.Scheme;\nimport org.apache.http.conn.scheme.SchemeRegistry;\nimport org.apache.http.conn.ssl.SSLSocketFactory;\nimport org.apache.http.impl.client.DefaultHttpClient;\nimport org.apache.http.impl.conn.tsccm.ThreadSafeClientConnManager;\nimport org.apache.http.params.BasicHttpParams;\nimport org.apache.http.params.HttpParams;\nimport org.apache.http.params.HttpProtocolParams;\nimport org.apache.http.protocol.HTTP;\n\npublic class MySSLSocketFactory extends SSLSocketFactory {\n    SSLContext sslContext = SSLContext.getInstance(\"TLS\");\n\n    public MySSLSocketFactory(KeyStore truststore) throws NoSuchAlgorithmException, KeyManagementException, KeyStoreException, UnrecoverableKeyException {\n       super(truststore);\n\n       TrustManager tm = new X509TrustManager() {\n           public void checkClientTrusted(X509Certificate[] chain, String authType) throws CertificateException {\n           }\n\n           public void checkServerTrusted(X509Certificate[] chain, String authType) throws CertificateException {\n           }\n\n           public X509Certificate[] getAcceptedIssuers() {\n               return null;\n           }\n       };\n\n       sslContext.init(null, new TrustManager[] { tm }, null);\n    }\n\n    @Override\n    public Socket createSocket(Socket socket, String host, int port, boolean autoClose) throws IOException, UnknownHostException {\n       return sslContext.getSocketFactory().createSocket(socket, host, port, autoClose);\n    }\n\n    @Override\n    public Socket createSocket() throws IOException {\n       return sslContext.getSocketFactory().createSocket();\n    }\n\n\npublic static HttpClient getNewHttpClient() {\n    try {\n       KeyStore trustStore = KeyStore.getInstance(KeyStore.getDefaultType());\n       trustStore.load(null, null);\n\n       SSLSocketFactory sf = new MySSLSocketFactory(trustStore);\n       sf.setHostnameVerifier(SSLSocketFactory.ALLOW_ALL_HOSTNAME_VERIFIER);\n\n       HttpParams params = new BasicHttpParams();\n       HttpProtocolParams.setVersion(params, HttpVersion.HTTP_1_1);\n       HttpProtocolParams.setContentCharset(params, HTTP.UTF_8);\n\n       SchemeRegistry registry = new SchemeRegistry();\n       registry.register(new Scheme(\"http\", PlainSocketFactory.getSocketFactory(), 80));\n       registry.register(new Scheme(\"https\", sf, 443));\n\n       ClientConnectionManager ccm = new ThreadSafeClientConnManager(params, registry);\n\n       return new DefaultHttpClient(ccm, params);\n    } catch (Exception e) {\n       return new DefaultHttpClient();\n    }\n}\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":155770,"reputation":120153,"user_id":372643,"accept_rate":88,"display_name":"Bruno"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1337797498,"creation_date":1337797498,"answer_id":10725707,"question_id":10724789,"body_markdown":"Besides the fact that trusting all certificates blindly is generally a bad idea (if you want SSL/TLS to be used to secure the communication), the pattern you&#39;re using seems quite odd.\r\n\r\n`SSLContext` is a factory for `SSLSocketFactory`, which is in turn a factory for `SSLSocket`.\r\n\r\nIf needed, you can set the default `SSLContext` (from Java 6 onwards) with `SSLContext.setDefault(...)`: this will affect the default `SSLSocketFactory`, but perhaps not more specific ones.\r\n\r\nYou can&#39;t change the `SSLContext` used by an existing `SSLSocketFactory` instance.\r\n\r\nUnless your existing `SSLSocketFactory` differs from the default implementation with specific settings (e.g. something you would tweak on the created socket before returning it), what you&#39;re trying to do doesn&#39;t seem to fit the intended design patterns here.","title":"Tell arbitrary SSLSocketFactories to trust all certificates?","body":"<p>Besides the fact that trusting all certificates blindly is generally a bad idea (if you want SSL/TLS to be used to secure the communication), the pattern you're using seems quite odd.</p>\n\n<p><code>SSLContext</code> is a factory for <code>SSLSocketFactory</code>, which is in turn a factory for <code>SSLSocket</code>.</p>\n\n<p>If needed, you can set the default <code>SSLContext</code> (from Java 6 onwards) with <code>SSLContext.setDefault(...)</code>: this will affect the default <code>SSLSocketFactory</code>, but perhaps not more specific ones.</p>\n\n<p>You can't change the <code>SSLContext</code> used by an existing <code>SSLSocketFactory</code> instance.</p>\n\n<p>Unless your existing <code>SSLSocketFactory</code> differs from the default implementation with specific settings (e.g. something you would tweak on the created socket before returning it), what you're trying to do doesn't seem to fit the intended design patterns here.</p>\n"}],"owner":{"account_id":137942,"reputation":14900,"user_id":342518,"accept_rate":89,"display_name":"TheLQ"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7313,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":10725707,"answer_count":3,"score":0,"last_activity_date":1659434269,"creation_date":1337793369,"question_id":10724789,"body_markdown":"I have a utility SSLSocketFactory class that essentially allows you to toggle if you want to trust all certificates and/or turn of Diffie-Hellman due to a JDK bug. I&#39;ve recently added the option of providing your own SSLSocketFactory but seem to of forgotten something\r\n\r\nDisabling Diffie-Hellman is easy enough to do on a factory by simply adding some code when you create the socket. However to trust all certificates I replace the factory with a different one\r\n\r\n```java\r\npublic UtilSSLSocketFactory trustAllCertificates() {\r\n    if (trustingAllCertificates)\r\n    //Already doing this, no need to do it again\r\n        return this;\r\n    trustingAllCertificates = true;\r\n    try {\r\n        TrustManager[] tm = new TrustManager[] {new TrustingX509TrustManager()};\r\n        SSLContext context = SSLContext.getInstance(&quot;SSL&quot;);\r\n        context.init(new KeyManager[0], tm, new SecureRandom());\r\n        wrappedFactory = (SSLSocketFactory) context.getSocketFactory();\r\n    } catch (Exception e) {\r\n        throw new RuntimeException(&quot;Can&#39;t recreate socket factory that trusts all certificates&quot;, e);\r\n    }\r\n    return this;\r\n}\r\n```\r\n\r\nIs there any way to tell an arbitrary SSLSocketFactory to trust all certificates without replacing it?","title":"Tell arbitrary SSLSocketFactories to trust all certificates?","body":"<p>I have a utility SSLSocketFactory class that essentially allows you to toggle if you want to trust all certificates and/or turn of Diffie-Hellman due to a JDK bug. I've recently added the option of providing your own SSLSocketFactory but seem to of forgotten something</p>\n<p>Disabling Diffie-Hellman is easy enough to do on a factory by simply adding some code when you create the socket. However to trust all certificates I replace the factory with a different one</p>\n<pre class=\"lang-java prettyprint-override\"><code>public UtilSSLSocketFactory trustAllCertificates() {\n    if (trustingAllCertificates)\n    //Already doing this, no need to do it again\n        return this;\n    trustingAllCertificates = true;\n    try {\n        TrustManager[] tm = new TrustManager[] {new TrustingX509TrustManager()};\n        SSLContext context = SSLContext.getInstance(&quot;SSL&quot;);\n        context.init(new KeyManager[0], tm, new SecureRandom());\n        wrappedFactory = (SSLSocketFactory) context.getSocketFactory();\n    } catch (Exception e) {\n        throw new RuntimeException(&quot;Can't recreate socket factory that trusts all certificates&quot;, e);\n    }\n    return this;\n}\n</code></pre>\n<p>Is there any way to tell an arbitrary SSLSocketFactory to trust all certificates without replacing it?</p>\n"},{"tags":["java","android","concurrency"],"answers":[{"tags":[],"owner":{"account_id":22755735,"reputation":555,"user_id":16915219,"display_name":"JumperBot_"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659433923,"creation_date":1659433923,"answer_id":73205471,"question_id":73204071,"body_markdown":"One answer came from the [documentation you linked](https://developer.android.com/topic/performance/threads#references) itself:\r\n\r\n&gt; By design, Android View objects are not thread-safe. An app is expected to create, use, and destroy UI objects, all on the main thread. If you try to modify or even reference a UI object in a thread other than the main thread, the result can be exceptions, silent failures, crashes, and other undefined misbehavior.\r\n\r\nIn other words, DO NOT mess with anything that interacts with the main thread almost all of the time.\r\n\r\nAnother answer would be is to make sure that the documentation tell you that an Object is [thread-safe](https://www.geeksforgeeks.org/thread-safety-and-how-to-achieve-it-in-java/).\r\n\r\nSomething like a StringBuilder is not thread-safe, but it&#39;s brother the StringBuffer is.\r\n\r\nThread safe means that just the one thread is modifying the data alone, one thread at a time.\r\n\r\n---\r\n\r\nAn example of a thread safe method is a method that returns a `final` variable.\r\n\r\nSomething like this:\r\n\r\n```java\r\nprivate final String location=&quot;Somewhere in the world?&quot;;\r\npublic String getLocation(){\r\n  return location;\r\n}\r\n```\r\n\r\nYou can also make some situations that are not thread-safe the opposite using `synchronization`.\r\n\r\nSynchronizing makes only one thread can access an object at a time.\r\n\r\nThe `volatile` keyword acts like the `synchronized` keyword.\r\n\r\nAll it does is make every thread know that a value has been changed, hence all objects pointing to the modified data is updated.\r\n\r\n---\r\n\r\n**TL;DR**\r\n\r\nFind attributes that makes you think that a method is thread-safe.","title":"How do I know when a method can be called safely from a background thread?","body":"<p>One answer came from the <a href=\"https://developer.android.com/topic/performance/threads#references\" rel=\"nofollow noreferrer\">documentation you linked</a> itself:</p>\n<blockquote>\n<p>By design, Android View objects are not thread-safe. An app is expected to create, use, and destroy UI objects, all on the main thread. If you try to modify or even reference a UI object in a thread other than the main thread, the result can be exceptions, silent failures, crashes, and other undefined misbehavior.</p>\n</blockquote>\n<p>In other words, DO NOT mess with anything that interacts with the main thread almost all of the time.</p>\n<p>Another answer would be is to make sure that the documentation tell you that an Object is <a href=\"https://www.geeksforgeeks.org/thread-safety-and-how-to-achieve-it-in-java/\" rel=\"nofollow noreferrer\">thread-safe</a>.</p>\n<p>Something like a StringBuilder is not thread-safe, but it's brother the StringBuffer is.</p>\n<p>Thread safe means that just the one thread is modifying the data alone, one thread at a time.</p>\n<hr />\n<p>An example of a thread safe method is a method that returns a <code>final</code> variable.</p>\n<p>Something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private final String location=&quot;Somewhere in the world?&quot;;\npublic String getLocation(){\n  return location;\n}\n</code></pre>\n<p>You can also make some situations that are not thread-safe the opposite using <code>synchronization</code>.</p>\n<p>Synchronizing makes only one thread can access an object at a time.</p>\n<p>The <code>volatile</code> keyword acts like the <code>synchronized</code> keyword.</p>\n<p>All it does is make every thread know that a value has been changed, hence all objects pointing to the modified data is updated.</p>\n<hr />\n<p><strong>TL;DR</strong></p>\n<p>Find attributes that makes you think that a method is thread-safe.</p>\n"}],"owner":{"account_id":6566978,"reputation":1113,"user_id":5076225,"accept_rate":50,"display_name":"gauge"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659433923,"creation_date":1659427970,"question_id":73204071,"body_markdown":"I understand that many Android SDK methods must be called on the main thread. This is usually documented in places like https://developer.android.com/topic/performance/threads#references. Is there a way to tell for sure that a method can be safely called from a background thread in a generic manner? Some libraries do not document this, and it&#39;s not trivial to know the answer when deciding to offload work from the main thread to another thread.","title":"How do I know when a method can be called safely from a background thread?","body":"<p>I understand that many Android SDK methods must be called on the main thread. This is usually documented in places like <a href=\"https://developer.android.com/topic/performance/threads#references\" rel=\"nofollow noreferrer\">https://developer.android.com/topic/performance/threads#references</a>. Is there a way to tell for sure that a method can be safely called from a background thread in a generic manner? Some libraries do not document this, and it's not trivial to know the answer when deciding to offload work from the main thread to another thread.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":3,"creation_date":1659431782,"post_id":73204806,"comment_id":129287592,"body_markdown":"`public static &lt;R, C, V&gt; RowColumnMap&lt;R, C, V&gt; of(...) { ... }`","body":"<code>public static &lt;R, C, V&gt; RowColumnMap&lt;R, C, V&gt; of(...) { ... }</code>"},{"owner":{"account_id":4826640,"reputation":25377,"user_id":3895960,"accept_rate":97,"display_name":"Dici"},"score":2,"creation_date":1659432049,"post_id":73204806,"comment_id":129287695,"body_markdown":"Just curious, why removing Guava? It&#39;s a great library, and you&#39;re unlikely to do better if you try. Sometimes it&#39;s good to be frugal in terms of dependencies, but once it&#39;s already in your dependency graph I&#39;d say Guava is something you can make good use.","body":"Just curious, why removing Guava? It&#39;s a great library, and you&#39;re unlikely to do better if you try. Sometimes it&#39;s good to be frugal in terms of dependencies, but once it&#39;s already in your dependency graph I&#39;d say Guava is something you can make good use."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1659432912,"post_id":73204806,"comment_id":129287983,"body_markdown":"Note that `get` returns the field `linkedHashMap`, which is mutable. Someone calling `rowColumnMap.get()` and then modifying the hashmap also causes the contents of `rowColumnMap` to be changed! You are better off making `RowColumnMap` [*immutable*](https://en.wikipedia.org/wiki/Immutable_object). A solution may be to change `get()` to return a [*defensive copy*](https://java-journal.blogspot.com/2011/01/defensive-copy-part-1-problem-and.html) instead.","body":"Note that <code>get</code> returns the field <code>linkedHashMap</code>, which is mutable. Someone calling <code>rowColumnMap.get()</code> and then modifying the hashmap also causes the contents of <code>rowColumnMap</code> to be changed! You are better off making <code>RowColumnMap</code> <a href=\"https://en.wikipedia.org/wiki/Immutable_object\" rel=\"nofollow noreferrer\"><i>immutable</i></a>. A solution may be to change <code>get()</code> to return a <a href=\"https://java-journal.blogspot.com/2011/01/defensive-copy-part-1-problem-and.html\" rel=\"nofollow noreferrer\"><i>defensive copy</i></a> instead."},{"owner":{"display_name":"user17953271"},"score":0,"creation_date":1659435823,"post_id":73204806,"comment_id":129289009,"body_markdown":"@Dici We would get regular warnings that most of our used Guava classes and methods can be replaced with Java internals. You might be wondering why I made a new class then. Well, I wanted some help visualising how to replace Table.rowMap() and Table.cellSet(). But I didn&#39;t really need to make a separate class.","body":"@Dici We would get regular warnings that most of our used Guava classes and methods can be replaced with Java internals. You might be wondering why I made a new class then. Well, I wanted some help visualising how to replace Table.rowMap() and Table.cellSet(). But I didn&#39;t really need to make a separate class."},{"owner":{"account_id":4826640,"reputation":25377,"user_id":3895960,"accept_rate":97,"display_name":"Dici"},"score":0,"creation_date":1659443004,"post_id":73204806,"comment_id":129291520,"body_markdown":"Yeah the problem is that Java guys didn&#39;t go far enough... in my opinion they should just have copied Guava collections, but they didn&#39;t include immutable builders and their immutable collections are not ordered like Guava&#39;s. That&#39;s a shame ^^ Thanks for explaining your reasons","body":"Yeah the problem is that Java guys didn&#39;t go far enough... in my opinion they should just have copied Guava collections, but they didn&#39;t include immutable builders and their immutable collections are not ordered like Guava&#39;s. That&#39;s a shame ^^ Thanks for explaining your reasons"}],"answers":[{"tags":[],"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659432515,"creation_date":1659432515,"answer_id":73205125,"question_id":73204806,"body_markdown":"You can provide a *method* with type parameters:\r\n\r\n```java\r\npublic static &lt;R, C, V&gt; RowColumnMap&lt;R, C, V&gt; of(R rowKey, C columnKey, V value) {\r\n    return new RowColumnMap&lt;&gt;(Map.of(rowKey, Map.of(columnKey, value)));\r\n}\r\n```\r\n\r\nThe type parameters for the method are written right in front of the return type.","title":"How to Implement this Static Method in a Class with Generics","body":"<p>You can provide a <em>method</em> with type parameters:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static &lt;R, C, V&gt; RowColumnMap&lt;R, C, V&gt; of(R rowKey, C columnKey, V value) {\n    return new RowColumnMap&lt;&gt;(Map.of(rowKey, Map.of(columnKey, value)));\n}\n</code></pre>\n<p>The type parameters for the method are written right in front of the return type.</p>\n"},{"tags":[],"owner":{"account_id":45934,"reputation":203659,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659433912,"creation_date":1659433262,"answer_id":73205308,"question_id":73204806,"body_markdown":"Static methods do not have access to the type parameters of the class they are in. So if you write:\r\n\r\n    public class RowColumnMap&lt;R, C, V&gt; { ... }\r\n\r\nthen the type parameters `R`, `C` and `V` are not accessible to any static methods in the class. This means that if you write this:\r\n\r\n    public static RowColumnMap&lt;R, C, V&gt; of(R rowKey, C columnKey, V value)\r\n\r\nthen `R`, `C` and `V` do **not** refer to the type parameters of the class - instead, Java is going to look for concrete types with these names, and will complain that they are not found.\r\n\r\nYou can give the static method its own type parameters:\r\n\r\n    public static &lt;R, C, V&gt; RowColumnMap&lt;R, C, V&gt; of(R rowKey, C columnKey, V value)\r\n\r\nNote that the type parameters of the static method are *not* the same ones as the type parameters of the class. In this case we&#39;ve given them the same names `R`, `C` and `V` but they are separate from the type parameters on the class. We could just as well have given them other names, to make this clear:\r\n\r\n    public class RowColumnMap&lt;R, C, V&gt; {\r\n        // ...\r\n\r\n        public static &lt;X, Y, Z&gt; RowColumnMap&lt;X, Y, Z&gt; of(X rowKey, Y columnKey, Z value) {\r\n            return new RowColumnMap&lt;&gt;(Map.of(rowKey, Map.of(columnKey, value)));\r\n        }\r\n    }\r\n","title":"How to Implement this Static Method in a Class with Generics","body":"<p>Static methods do not have access to the type parameters of the class they are in. So if you write:</p>\n<pre><code>public class RowColumnMap&lt;R, C, V&gt; { ... }\n</code></pre>\n<p>then the type parameters <code>R</code>, <code>C</code> and <code>V</code> are not accessible to any static methods in the class. This means that if you write this:</p>\n<pre><code>public static RowColumnMap&lt;R, C, V&gt; of(R rowKey, C columnKey, V value)\n</code></pre>\n<p>then <code>R</code>, <code>C</code> and <code>V</code> do <strong>not</strong> refer to the type parameters of the class - instead, Java is going to look for concrete types with these names, and will complain that they are not found.</p>\n<p>You can give the static method its own type parameters:</p>\n<pre><code>public static &lt;R, C, V&gt; RowColumnMap&lt;R, C, V&gt; of(R rowKey, C columnKey, V value)\n</code></pre>\n<p>Note that the type parameters of the static method are <em>not</em> the same ones as the type parameters of the class. In this case we've given them the same names <code>R</code>, <code>C</code> and <code>V</code> but they are separate from the type parameters on the class. We could just as well have given them other names, to make this clear:</p>\n<pre><code>public class RowColumnMap&lt;R, C, V&gt; {\n    // ...\n\n    public static &lt;X, Y, Z&gt; RowColumnMap&lt;X, Y, Z&gt; of(X rowKey, Y columnKey, Z value) {\n        return new RowColumnMap&lt;&gt;(Map.of(rowKey, Map.of(columnKey, value)));\n    }\n}\n</code></pre>\n"}],"owner":{"display_name":"user17953271"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1659433912,"creation_date":1659431166,"question_id":73204806,"body_markdown":"In my team, we are trying to remove the Guava library and we want to implement a helper class to perform some functions of the Guava Table class. I came up with the Class below. My mentor wants me to make this class generic and he expects a static &#39;.of()&#39; method the same way that a Map has a static &#39;of()&#39; method. \r\n\r\nIs this possible? how can I implement it? Or should I tell him I cannot have both a generic class and a static method.\r\n\r\nIn the of() method I get the compilation error &#39;.this cannot be referenced from a static context&#39;.\r\n\r\n    import java.util.HashSet;\r\n    import java.util.LinkedHashMap;\r\n    import java.util.Map;\r\n    import java.util.Set;\r\n    \r\n    public class RowColumnMap&lt;R, C, V&gt; {\r\n\r\n        private final LinkedHashMap&lt;R, Map&lt;C, V&gt;&gt; linkedHashMap = new LinkedHashMap&lt;&gt;();\r\n    \r\n        public RowColumnMap(Map&lt;R, Map&lt;C, V&gt;&gt; original) {\r\n            this.linkedHashMap.putAll(original);\r\n        }\r\n    \r\n        public RowColumnMap() {}\r\n    \r\n        public Map&lt;R, Map&lt;C, V&gt;&gt; get() {\r\n            return linkedHashMap;\r\n        }\r\n    \r\n        public static RowColumnMap&lt;R, C, V&gt; of(R rowKey, C columnKey, V value) {\r\n            return new RowColumnMap&lt;&gt;(Map.of(rowKey, Map.of(columnKey, value)));\r\n        }\r\n","title":"How to Implement this Static Method in a Class with Generics","body":"<p>In my team, we are trying to remove the Guava library and we want to implement a helper class to perform some functions of the Guava Table class. I came up with the Class below. My mentor wants me to make this class generic and he expects a static '.of()' method the same way that a Map has a static 'of()' method.</p>\n<p>Is this possible? how can I implement it? Or should I tell him I cannot have both a generic class and a static method.</p>\n<p>In the of() method I get the compilation error '.this cannot be referenced from a static context'.</p>\n<pre><code>import java.util.HashSet;\nimport java.util.LinkedHashMap;\nimport java.util.Map;\nimport java.util.Set;\n\npublic class RowColumnMap&lt;R, C, V&gt; {\n\n    private final LinkedHashMap&lt;R, Map&lt;C, V&gt;&gt; linkedHashMap = new LinkedHashMap&lt;&gt;();\n\n    public RowColumnMap(Map&lt;R, Map&lt;C, V&gt;&gt; original) {\n        this.linkedHashMap.putAll(original);\n    }\n\n    public RowColumnMap() {}\n\n    public Map&lt;R, Map&lt;C, V&gt;&gt; get() {\n        return linkedHashMap;\n    }\n\n    public static RowColumnMap&lt;R, C, V&gt; of(R rowKey, C columnKey, V value) {\n        return new RowColumnMap&lt;&gt;(Map.of(rowKey, Map.of(columnKey, value)));\n    }\n</code></pre>\n"},{"tags":["java","gwt","gxt"],"answers":[{"tags":[],"owner":{"account_id":15206782,"reputation":61,"user_id":10972954,"display_name":"clorzs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659117435,"creation_date":1659117435,"answer_id":73169326,"question_id":73168263,"body_markdown":"After searching I found that the `com.extjs.gxt.ui.client.core.El` class has two constructors, so I may be using this method:\r\n\r\n    El el = new El(gridView().gerRow(model).getString))\r\n\r\nis it reliable?","title":"Element in com.google.gwt.user.client has been deprecated","body":"<p>After searching I found that the <code>com.extjs.gxt.ui.client.core.El</code> class has two constructors, so I may be using this method:</p>\n<pre><code>El el = new El(gridView().gerRow(model).getString))\n</code></pre>\n<p>is it reliable?</p>\n"},{"tags":[],"owner":{"account_id":1466941,"reputation":1440,"user_id":1379528,"display_name":"Norbert"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1659433821,"creation_date":1659433821,"answer_id":73205443,"question_id":73168263,"body_markdown":"The deprecated `Element` extends the not-deprecated `Element`, so the code is still working, but you have many warnings in your files. ","title":"Element in com.google.gwt.user.client has been deprecated","body":"<p>The deprecated <code>Element</code> extends the not-deprecated <code>Element</code>, so the code is still working, but you have many warnings in your files.</p>\n"}],"owner":{"account_id":15206782,"reputation":61,"user_id":10972954,"display_name":"clorzs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1659433821,"creation_date":1659111568,"question_id":73168263,"body_markdown":"I migrated to gwt 2.8.1 and I am using gxt 2.2.5\r\n\r\nI have this line of code that is causing the wanrning mentionned on the title\r\n\r\n    El el = new El((Element) grid.getView().getRow(Model))\r\n\r\ngetRow() return type is `com.google.gwt.dom.client.Element`\r\n\r\nEl is  `com.extjs.gxt.ui.client.core.EL` and parameter type is `com.google.gwt.user.client.Element`.\r\n\r\n\r\nThe issue is that `com.google.gwt.user.client.Element` was deprecated and replaced by `com.google.gwt.dom.client.Element`. \r\n\r\nWill the code will still be working?\r\n\r\nIs there a workaround to get rid of this warning?\r\n\r\n","title":"Element in com.google.gwt.user.client has been deprecated","body":"<p>I migrated to gwt 2.8.1 and I am using gxt 2.2.5</p>\n<p>I have this line of code that is causing the wanrning mentionned on the title</p>\n<pre><code>El el = new El((Element) grid.getView().getRow(Model))\n</code></pre>\n<p>getRow() return type is <code>com.google.gwt.dom.client.Element</code></p>\n<p>El is  <code>com.extjs.gxt.ui.client.core.EL</code> and parameter type is <code>com.google.gwt.user.client.Element</code>.</p>\n<p>The issue is that <code>com.google.gwt.user.client.Element</code> was deprecated and replaced by <code>com.google.gwt.dom.client.Element</code>.</p>\n<p>Will the code will still be working?</p>\n<p>Is there a workaround to get rid of this warning?</p>\n"},{"tags":["java","android","pytorch","tensor","image-classification"],"owner":{"account_id":24771696,"reputation":91,"user_id":18655382,"display_name":"priyank apps"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":434,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1659433587,"creation_date":1659433587,"question_id":73205390,"body_markdown":"So basically we are developing a script for android devices to normalise bitmap and our external team already developed image normalisation stuff in python.\r\n \r\nWe are using an android PyTorch library(version 1.10.0) to apply normalisation to bitmap image via tensor as shown in the below code\r\n\r\n    public static float[] TORCHVISION_NORM_MEAN_RGB = new float[] {0.485f, 0.456f, 0.406f};\r\n      public static float[] TORCHVISION_NORM_STD_RGB = new float[] {0.229f, 0.224f, 0.225f};\r\n\r\n    Tensor inputTensor = TensorImageUtils.bitmapToFloat32Tensor(bmp,\r\n               TORCHVISION_NORM_MEAN_RGB, TORCHVISION_NORM_STD_RGB);\r\n\r\nHere we are getting the same image as an original image from tensor array to bitmap. So we think that the normalisation of a tensor is not properly applied.\r\nHere we are looking for some bluish effect images which have been generated by python. For ex., we are expecting output like the below bluish image.\r\n[bluish python image][1]\r\n\r\n\r\nBut we are getting the same image after normalisation as the original one. for ex., this\r\n[android image][2]\r\n \r\nand we are using the below code for converting tensor(inputTensor) to bitmap.\r\n\r\n \r\n\r\n    final float[] scoreInput = inputTensor.getDataAsFloatArray();\r\n    Bitmap outBitmap = TensorToBitmap.floatArrayToBitmap(scoreInput, 300, 300);\r\n    \r\n    fun floatArrayToBitmap(floatArray: FloatArray, width: Int, height: Int): Bitmap {\r\n    \r\n                // Create empty bitmap in ARGB format\r\n                val bmp: Bitmap = Bitmap.createBitmap(width, height, Bitmap.Config.ARGB_8888)\r\n                val pixels = IntArray(width * height * 4)\r\n    \r\n                // mapping smallest value to 0 and largest value to 255\r\n                val maxValue = floatArray.maxOrNull() ?: 1.0f\r\n                val minValue = floatArray.minOrNull() ?: -1.0f\r\n                val delta = maxValue - minValue\r\n    \r\n                // Define if float min..max will be mapped to 0..255 or 255..0\r\n                val conversion = { v: Float -&gt; ((v - minValue) / delta * 255.0f).roundToInt() }\r\n    \r\n                // copy each value from float array to RGB channels\r\n                for (i in 0 until width * height) {\r\n                    val r = conversion(floatArray[i])\r\n                    val g = conversion(floatArray[i + width * height])\r\n                    val b = conversion(floatArray[i + 2 * width * height])\r\n                    pixels[i] = rgb(r, g, b) // you might need to import for rgb()\r\n                }\r\n                bmp.setPixels(pixels, 0, width, 0, 0, width, height)\r\n    \r\n                return bmp\r\n            }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BNVoO.jpg\r\n  [2]: https://i.stack.imgur.com/qJkmz.jpg\r\n\r\nAnyone can help to generate a bluish normalise image via android PyTorch?","title":"Android Java PyTorch generate normalise image from TensorImageUtils.bitmapToFloat32Tensor","body":"<p>So basically we are developing a script for android devices to normalise bitmap and our external team already developed image normalisation stuff in python.</p>\n<p>We are using an android PyTorch library(version 1.10.0) to apply normalisation to bitmap image via tensor as shown in the below code</p>\n<pre><code>public static float[] TORCHVISION_NORM_MEAN_RGB = new float[] {0.485f, 0.456f, 0.406f};\n  public static float[] TORCHVISION_NORM_STD_RGB = new float[] {0.229f, 0.224f, 0.225f};\n\nTensor inputTensor = TensorImageUtils.bitmapToFloat32Tensor(bmp,\n           TORCHVISION_NORM_MEAN_RGB, TORCHVISION_NORM_STD_RGB);\n</code></pre>\n<p>Here we are getting the same image as an original image from tensor array to bitmap. So we think that the normalisation of a tensor is not properly applied.\nHere we are looking for some bluish effect images which have been generated by python. For ex., we are expecting output like the below bluish image.\n<a href=\"https://i.stack.imgur.com/BNVoO.jpg\" rel=\"nofollow noreferrer\">bluish python image</a></p>\n<p>But we are getting the same image after normalisation as the original one. for ex., this\n<a href=\"https://i.stack.imgur.com/qJkmz.jpg\" rel=\"nofollow noreferrer\">android image</a></p>\n<p>and we are using the below code for converting tensor(inputTensor) to bitmap.</p>\n<pre><code>final float[] scoreInput = inputTensor.getDataAsFloatArray();\nBitmap outBitmap = TensorToBitmap.floatArrayToBitmap(scoreInput, 300, 300);\n\nfun floatArrayToBitmap(floatArray: FloatArray, width: Int, height: Int): Bitmap {\n\n            // Create empty bitmap in ARGB format\n            val bmp: Bitmap = Bitmap.createBitmap(width, height, Bitmap.Config.ARGB_8888)\n            val pixels = IntArray(width * height * 4)\n\n            // mapping smallest value to 0 and largest value to 255\n            val maxValue = floatArray.maxOrNull() ?: 1.0f\n            val minValue = floatArray.minOrNull() ?: -1.0f\n            val delta = maxValue - minValue\n\n            // Define if float min..max will be mapped to 0..255 or 255..0\n            val conversion = { v: Float -&gt; ((v - minValue) / delta * 255.0f).roundToInt() }\n\n            // copy each value from float array to RGB channels\n            for (i in 0 until width * height) {\n                val r = conversion(floatArray[i])\n                val g = conversion(floatArray[i + width * height])\n                val b = conversion(floatArray[i + 2 * width * height])\n                pixels[i] = rgb(r, g, b) // you might need to import for rgb()\n            }\n            bmp.setPixels(pixels, 0, width, 0, 0, width, height)\n\n            return bmp\n        }\n</code></pre>\n<p>Anyone can help to generate a bluish normalise image via android PyTorch?</p>\n"},{"tags":["java","unit-testing","mocking","mockito"],"comments":[{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":1,"creation_date":1438111300,"post_id":31685267,"comment_id":51312260,"body_markdown":"Have you rebuilt the project?  As in, completely razed your class files and attempted to reconstruct it?","body":"Have you rebuilt the project?  As in, completely razed your class files and attempted to reconstruct it?"},{"owner":{"account_id":1672028,"reputation":2585,"user_id":1538324,"accept_rate":53,"display_name":"apil.tamang"},"score":0,"creation_date":1438111993,"post_id":31685267,"comment_id":51312635,"body_markdown":"I did a couple times. Anyways, this time right after I posted this issue, I removed the testCompile for the powermockito library, rebuilt the configutations, then the build, and it worked... except for I&#39;m getting another cryptic error.. Mockito complains of a MissingMethoException for &#39;getClassA()&#39; although it really is defined for ClassB. Any thoughts?","body":"I did a couple times. Anyways, this time right after I posted this issue, I removed the testCompile for the powermockito library, rebuilt the configutations, then the build, and it worked... except for I&#39;m getting another cryptic error.. Mockito complains of a MissingMethoException for &#39;getClassA()&#39; although it really is defined for ClassB. Any thoughts?"},{"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"score":0,"creation_date":1438116592,"post_id":31685267,"comment_id":51315405,"body_markdown":"I don&#39;t think there&#39;s enough information in your follow-up comment to go on. I would post a separate question with the full trace, and link to this one.","body":"I don&#39;t think there&#39;s enough information in your follow-up comment to go on. I would post a separate question with the full trace, and link to this one."},{"owner":{"account_id":2176810,"reputation":1464,"user_id":1927303,"display_name":"Arundev"},"score":0,"creation_date":1559661160,"post_id":31685267,"comment_id":99486881,"body_markdown":"I removed the dependency for power-mockito from my pom and everything worked.","body":"I removed the dependency for power-mockito from my pom and everything worked."}],"answers":[{"tags":[],"owner":{"account_id":2954650,"reputation":413,"user_id":3501872,"accept_rate":62,"display_name":"armen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1438122668,"creation_date":1438122668,"answer_id":31688241,"question_id":31685267,"body_markdown":"Not sure if that is what you are trying to do. But if you are trying to return null whenever getClassA is called, then you should mock object of type ClassB! (since getClassA is a method of that class).","title":"error initializing mockito, everytime and for any test cases","body":"<p>Not sure if that is what you are trying to do. But if you are trying to return null whenever getClassA is called, then you should mock object of type ClassB! (since getClassA is a method of that class).</p>\n"},{"tags":[],"owner":{"account_id":1284143,"reputation":43090,"user_id":1237575,"accept_rate":96,"display_name":"Rafael Winterhalter"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1442841068,"creation_date":1442841068,"answer_id":32696152,"question_id":31685267,"body_markdown":"It is possible for third-party plugins to register custom `MockMaker` implementations that create classes differently to the default behavior via Mockito&#39;s SPI. As a part of the specified behavior, since Mockito 2.0, a `MockMaker` can decide if a class is mockable, such as `final` classes in the case of PowerMock. In order to integrate such a custom behavior, PowerMock registers a custom `MockMaker` that is then used by Mockito.\r\n\r\nIn Mockito 2.0, the API for a custom `MockMaker` had to be extended but `PowerMock` does not yet adapt the API extensions. Therefore, this new method is not yet implemented by the PowerMock `MockMaker` what results in an `AbstractMethodError`.","title":"error initializing mockito, everytime and for any test cases","body":"<p>It is possible for third-party plugins to register custom <code>MockMaker</code> implementations that create classes differently to the default behavior via Mockito's SPI. As a part of the specified behavior, since Mockito 2.0, a <code>MockMaker</code> can decide if a class is mockable, such as <code>final</code> classes in the case of PowerMock. In order to integrate such a custom behavior, PowerMock registers a custom <code>MockMaker</code> that is then used by Mockito.</p>\n\n<p>In Mockito 2.0, the API for a custom <code>MockMaker</code> had to be extended but <code>PowerMock</code> does not yet adapt the API extensions. Therefore, this new method is not yet implemented by the PowerMock <code>MockMaker</code> what results in an <code>AbstractMethodError</code>.</p>\n"},{"tags":[],"owner":{"account_id":3029981,"reputation":892,"user_id":2569211,"accept_rate":92,"display_name":"Dornathal"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1447232543,"creation_date":1447232543,"answer_id":33647189,"question_id":31685267,"body_markdown":"I ran into the same Error. For me it helped to include \r\n\r\n    import static org.powermock.api.mockito.PowerMockito.mock;\r\n    import static org.powermock.api.mockito.PowerMockito.spy;\r\n\r\ninstead of Mockitos `mock()` and `spy()` methods. `@Mock` remained the same.\r\n\r\n","title":"error initializing mockito, everytime and for any test cases","body":"<p>I ran into the same Error. For me it helped to include </p>\n\n<pre><code>import static org.powermock.api.mockito.PowerMockito.mock;\nimport static org.powermock.api.mockito.PowerMockito.spy;\n</code></pre>\n\n<p>instead of Mockitos <code>mock()</code> and <code>spy()</code> methods. <code>@Mock</code> remained the same.</p>\n"},{"tags":[],"owner":{"account_id":1373152,"reputation":7553,"user_id":1307690,"accept_rate":62,"display_name":"Roman Nazarevych"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1497469105,"creation_date":1497469105,"answer_id":44553345,"question_id":31685267,"body_markdown":"The correct answer was given by *Raphael Winterhalter*. But currently **PowerMockito** team is working on bringing support of Mockito2+\r\nLatest stable version for now is RC4\r\n\r\n    testCompile &#39;org.powermock:powermock-api-mockito2:1.7.0RC4&#39;\r\n\r\nIt compiles but there are still a lot of issues\r\n\r\nHere is Wiki page about Mockito 2 support\r\nhttps://github.com/powermock/powermock/wiki/Mockito-2-(Maven)","title":"error initializing mockito, everytime and for any test cases","body":"<p>The correct answer was given by <em>Raphael Winterhalter</em>. But currently <strong>PowerMockito</strong> team is working on bringing support of Mockito2+\nLatest stable version for now is RC4</p>\n\n<pre><code>testCompile 'org.powermock:powermock-api-mockito2:1.7.0RC4'\n</code></pre>\n\n<p>It compiles but there are still a lot of issues</p>\n\n<p>Here is Wiki page about Mockito 2 support\n<a href=\"https://github.com/powermock/powermock/wiki/Mockito-2-(Maven)\" rel=\"nofollow noreferrer\">https://github.com/powermock/powermock/wiki/Mockito-2-(Maven)</a></p>\n"},{"tags":[],"owner":{"account_id":6900762,"reputation":177,"user_id":5300498,"display_name":"Kaushik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1547153280,"creation_date":1547153280,"answer_id":54136658,"question_id":31685267,"body_markdown":"I had the same issue when working with mockito-core:jar:2.18.3 and powermock-api-mockito:1.6.3.\r\nIt worked for me when I downgraded to mockito-core:jar:2.0.5-beta.","title":"error initializing mockito, everytime and for any test cases","body":"<p>I had the same issue when working with mockito-core:jar:2.18.3 and powermock-api-mockito:1.6.3.\nIt worked for me when I downgraded to mockito-core:jar:2.0.5-beta.</p>\n"},{"tags":[],"owner":{"account_id":1245802,"reputation":460,"user_id":1207297,"display_name":"Abderrahmen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659433191,"creation_date":1659431016,"answer_id":73204775,"question_id":31685267,"body_markdown":"There are version incompatibility: with the following versions in the pom everything works:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n        &lt;version&gt;2.10.0&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n        &lt;artifactId&gt;powermock-api-mockito2&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0.2&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n        &lt;artifactId&gt;powermock-module-junit4&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0.2&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;","title":"error initializing mockito, everytime and for any test cases","body":"<p>There are version incompatibility: with the following versions in the pom everything works:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n    &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n    &lt;version&gt;2.10.0&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n    &lt;artifactId&gt;powermock-api-mockito2&lt;/artifactId&gt;\n    &lt;version&gt;2.0.2&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n    &lt;artifactId&gt;powermock-module-junit4&lt;/artifactId&gt;\n    &lt;version&gt;2.0.2&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":1672028,"reputation":2585,"user_id":1538324,"accept_rate":53,"display_name":"apil.tamang"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18828,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"answer_count":6,"score":20,"last_activity_date":1659433191,"creation_date":1438111160,"question_id":31685267,"body_markdown":"Pretty much spent the entire day fighting this. It doesn&#39;t matter what kind of tests/class/interface I use, I get pretty much the same exception. Here&#39;s the stackerror:\r\n\r\n    java.lang.AbstractMethodError: org.powermock.api.mockito.internal.mockmaker.PowerMockMaker.isTypeMockable(Ljava/lang/Class;)Lorg/mockito/plugins/MockMaker$TypeMockability;\r\n    \tat org.mockito.internal.util.MockUtil.typeMockabilityOf(MockUtil.java:26)\r\n    \tat org.mockito.internal.util.MockCreationValidator.validateType(MockCreationValidator.java:21)\r\n    \tat org.mockito.internal.creation.MockSettingsImpl.validatedSettings(MockSettingsImpl.java:167)\r\n    \tat org.mockito.internal.creation.MockSettingsImpl.confirm(MockSettingsImpl.java:161)\r\n    \tat org.mockito.internal.MockitoCore.mock(MockitoCore.java:58)\r\n    \tat org.mockito.Mockito.mock(Mockito.java:1410)\r\n    \tat org.mockito.internal.configuration.MockAnnotationProcessor.process(MockAnnotationProcessor.java:33)\r\n    \tat org.mockito.internal.configuration.MockAnnotationProcessor.process(MockAnnotationProcessor.java:16)\r\n    \tat org.mockito.internal.configuration.DefaultAnnotationEngine.createMockFor(DefaultAnnotationEngine.java:43)\r\n    \tat org.mockito.internal.configuration.DefaultAnnotationEngine.process(DefaultAnnotationEngine.java:66)\r\n    \tat org.mockito.internal.configuration.InjectingAnnotationEngine.processIndependentAnnotations(InjectingAnnotationEngine.java:71)\r\n    \tat org.mockito.internal.configuration.InjectingAnnotationEngine.process(InjectingAnnotationEngine.java:55)\r\n    \tat org.mockito.MockitoAnnotations.initMocks(MockitoAnnotations.java:108)\r\n    \tat org.mockito.internal.runners.JUnit45AndHigherRunnerImpl$1.withBefores(JUnit45AndHigherRunnerImpl.java:27)\r\n    \tat org.junit.runners.BlockJUnit4ClassRunner.methodBlock(BlockJUnit4ClassRunner.java:246)\r\n    \tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:68)\r\n    \tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:47)\r\n    \tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)\r\n    \tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)\r\n    \tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)\r\n    \tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)\r\n    \tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)\r\n    \tat org.junit.runners.ParentRunner.run(ParentRunner.java:300)\r\n    \tat org.mockito.internal.runners.JUnit45AndHigherRunnerImpl.run(JUnit45AndHigherRunnerImpl.java:37)\r\n    \tat org.mockito.runners.MockitoJUnitRunner.run(MockitoJUnitRunner.java:62)\r\n    \tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecuter.runTestClass(JUnitTestClassExecuter.java:86)\r\n    \tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecuter.execute(JUnitTestClassExecuter.java:49)\r\n    \tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassProcessor.processTestClass(JUnitTestClassProcessor.java:69)\r\n    \tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.processTestClass(SuiteTestClassProcessor.java:50)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:606)\r\n    \tat org.gradle.messaging.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)\r\n    \tat org.gradle.messaging.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n    \tat org.gradle.messaging.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:32)\r\n    \tat org.gradle.messaging.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:93)\r\n    \tat com.sun.proxy.$Proxy2.processTestClass(Unknown Source)\r\n    \tat org.gradle.api.internal.tasks.testing.worker.TestWorker.processTestClass(TestWorker.java:105)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:606)\r\n    \tat org.gradle.messaging.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)\r\n    \tat org.gradle.messaging.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n    \tat org.gradle.messaging.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:355)\r\n    \tat org.gradle.internal.concurrent.DefaultExecutorFactory$StoppableExecutorImpl$1.run(DefaultExecutorFactory.java:64)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\r\n    \tat java.lang.Thread.run(Thread.java:745)\r\n\r\nInfact, I don&#39;t even understand why the powermock library is involved. It does get compiled as I was trying to mock some final classes, but that was hours ago!\r\n\r\nHere&#39;s an actual set of files I&#39;m trying to utilize:\r\n\r\n    public class ClassA {\r\n    \r\n        private String message;\r\n    \r\n        public String getMessage(){\r\n    \r\n            message=&quot;classA&quot;;\r\n            return message;\r\n    \r\n        }\r\n    }\r\n\r\n    public class ClassB {\r\n    \r\n        private ClassA myClass;\r\n    \r\n        public ClassB(ClassA aClass){\r\n            this.myClass=aClass;\r\n        }\r\n    \r\n        public ClassA getClassA(){\r\n            return myClass;\r\n        }\r\n    }\r\n\r\nand the testing class:\r\n\r\n    package com.icidigital.services\r\n    \r\n    import com.icidigital.users.ClassA\r\n    import com.icidigital.users.ClassB\r\n    import org.junit.Before\r\n    import org.junit.Test\r\n    import org.junit.runner.RunWith\r\n    import org.mockito.Mock\r\n    import org.mockito.Mockito\r\n    import org.mockito.runners.MockitoJUnitRunner\r\n    /**\r\n     * Created by apil.tamang on 7/28/15.\r\n     */\r\n    @RunWith(MockitoJUnitRunner.class)\r\n    class TestSimplestMock {\r\n    \r\n        ClassB classB;\r\n    \r\n        @Mock\r\n        ClassA mockA;\r\n    \r\n        @Before\r\n        public void setup(){\r\n    \r\n    \r\n            classB=new ClassB(mockA);\r\n    \r\n            Mockito.when(classB.getClassA()).thenReturn(null);\r\n    \r\n        }\r\n    \r\n        @Test\r\n        public void testA(){\r\n    \r\n            ClassA obj=classB.getClassA();\r\n    \r\n            assert(obj==null);\r\n    \r\n        }\r\n    }\r\n\r\n\r\n","title":"error initializing mockito, everytime and for any test cases","body":"<p>Pretty much spent the entire day fighting this. It doesn't matter what kind of tests/class/interface I use, I get pretty much the same exception. Here's the stackerror:</p>\n\n<pre><code>java.lang.AbstractMethodError: org.powermock.api.mockito.internal.mockmaker.PowerMockMaker.isTypeMockable(Ljava/lang/Class;)Lorg/mockito/plugins/MockMaker$TypeMockability;\n    at org.mockito.internal.util.MockUtil.typeMockabilityOf(MockUtil.java:26)\n    at org.mockito.internal.util.MockCreationValidator.validateType(MockCreationValidator.java:21)\n    at org.mockito.internal.creation.MockSettingsImpl.validatedSettings(MockSettingsImpl.java:167)\n    at org.mockito.internal.creation.MockSettingsImpl.confirm(MockSettingsImpl.java:161)\n    at org.mockito.internal.MockitoCore.mock(MockitoCore.java:58)\n    at org.mockito.Mockito.mock(Mockito.java:1410)\n    at org.mockito.internal.configuration.MockAnnotationProcessor.process(MockAnnotationProcessor.java:33)\n    at org.mockito.internal.configuration.MockAnnotationProcessor.process(MockAnnotationProcessor.java:16)\n    at org.mockito.internal.configuration.DefaultAnnotationEngine.createMockFor(DefaultAnnotationEngine.java:43)\n    at org.mockito.internal.configuration.DefaultAnnotationEngine.process(DefaultAnnotationEngine.java:66)\n    at org.mockito.internal.configuration.InjectingAnnotationEngine.processIndependentAnnotations(InjectingAnnotationEngine.java:71)\n    at org.mockito.internal.configuration.InjectingAnnotationEngine.process(InjectingAnnotationEngine.java:55)\n    at org.mockito.MockitoAnnotations.initMocks(MockitoAnnotations.java:108)\n    at org.mockito.internal.runners.JUnit45AndHigherRunnerImpl$1.withBefores(JUnit45AndHigherRunnerImpl.java:27)\n    at org.junit.runners.BlockJUnit4ClassRunner.methodBlock(BlockJUnit4ClassRunner.java:246)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:68)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:47)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:300)\n    at org.mockito.internal.runners.JUnit45AndHigherRunnerImpl.run(JUnit45AndHigherRunnerImpl.java:37)\n    at org.mockito.runners.MockitoJUnitRunner.run(MockitoJUnitRunner.java:62)\n    at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecuter.runTestClass(JUnitTestClassExecuter.java:86)\n    at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecuter.execute(JUnitTestClassExecuter.java:49)\n    at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassProcessor.processTestClass(JUnitTestClassProcessor.java:69)\n    at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.processTestClass(SuiteTestClassProcessor.java:50)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:606)\n    at org.gradle.messaging.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)\n    at org.gradle.messaging.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.messaging.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:32)\n    at org.gradle.messaging.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:93)\n    at com.sun.proxy.$Proxy2.processTestClass(Unknown Source)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.processTestClass(TestWorker.java:105)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:606)\n    at org.gradle.messaging.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)\n    at org.gradle.messaging.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.messaging.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:355)\n    at org.gradle.internal.concurrent.DefaultExecutorFactory$StoppableExecutorImpl$1.run(DefaultExecutorFactory.java:64)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n    at java.lang.Thread.run(Thread.java:745)\n</code></pre>\n\n<p>Infact, I don't even understand why the powermock library is involved. It does get compiled as I was trying to mock some final classes, but that was hours ago!</p>\n\n<p>Here's an actual set of files I'm trying to utilize:</p>\n\n<pre><code>public class ClassA {\n\n    private String message;\n\n    public String getMessage(){\n\n        message=\"classA\";\n        return message;\n\n    }\n}\n\npublic class ClassB {\n\n    private ClassA myClass;\n\n    public ClassB(ClassA aClass){\n        this.myClass=aClass;\n    }\n\n    public ClassA getClassA(){\n        return myClass;\n    }\n}\n</code></pre>\n\n<p>and the testing class:</p>\n\n<pre><code>package com.icidigital.services\n\nimport com.icidigital.users.ClassA\nimport com.icidigital.users.ClassB\nimport org.junit.Before\nimport org.junit.Test\nimport org.junit.runner.RunWith\nimport org.mockito.Mock\nimport org.mockito.Mockito\nimport org.mockito.runners.MockitoJUnitRunner\n/**\n * Created by apil.tamang on 7/28/15.\n */\n@RunWith(MockitoJUnitRunner.class)\nclass TestSimplestMock {\n\n    ClassB classB;\n\n    @Mock\n    ClassA mockA;\n\n    @Before\n    public void setup(){\n\n\n        classB=new ClassB(mockA);\n\n        Mockito.when(classB.getClassA()).thenReturn(null);\n\n    }\n\n    @Test\n    public void testA(){\n\n        ClassA obj=classB.getClassA();\n\n        assert(obj==null);\n\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","junit","mockito"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1659428792,"post_id":73203832,"comment_id":129286454,"body_markdown":"`ClassA` instance is a mock, so no dependencies are injected hence a `NullPointerException`. You should create in instance of `ClassA` and inject the dependencies and next create a Spy instead of a mock to do what you want to achieve. Also the code you posted with the mocking doesn&#39;t make sense, `methodZ` is `void` so returning something won&#39;t work.","body":"<code>ClassA</code> instance is a mock, so no dependencies are injected hence a <code>NullPointerException</code>. You should create in instance of <code>ClassA</code> and inject the dependencies and next create a Spy instead of a mock to do what you want to achieve. Also the code you posted with the mocking doesn&#39;t make sense, <code>methodZ</code> is <code>void</code> so returning something won&#39;t work."},{"owner":{"account_id":16677947,"reputation":61,"user_id":12053873,"display_name":"cksylr"},"score":0,"creation_date":1659432973,"post_id":73203832,"comment_id":129288009,"body_markdown":"Actually methodZ returns something in my problem so i missed this relevance between real problem and this example. I will edit my question. Also i will try your answer. Thank you for your answer.","body":"Actually methodZ returns something in my problem so i missed this relevance between real problem and this example. I will edit my question. Also i will try your answer. Thank you for your answer."}],"owner":{"account_id":16677947,"reputation":61,"user_id":12053873,"display_name":"cksylr"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":553,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659433007,"creation_date":1659426651,"question_id":73203832,"body_markdown":"I have a class with two methods and i want to test one of them but it uses the other method. Therefore, i have to use Mock annotation to mock all methods and use thenCallRealMethod to test my method. I applied this approach and it worked. But, i faced an another problem. The problem is caused by my testing method which wrapped by thenCallRealMethod. It didn&#39;t use Mocked classes and invoked real classes. So, it caused null pointer error. Thanks for any comments.\r\n\r\n**Test**\r\n\r\n    ...\r\n\r\n    @Mock\r\n    ClassA a;\r\n    \r\n    @Mock\r\n    ClassB b;\r\n    \r\n    @Test\r\n    public void testing() {\r\n\r\n    Mockito.when(ClassB.methodX()).thenReturn(x);\r\n    Mockito.when(ClassA.methodZ()).thenReturn(Mockito.Any());\r\n    Mockito.when(ClassA.methodY()).thenCallRealMethod();\r\n    ClassA.methodY();\r\n    \r\n    }\r\n\r\n    ...\r\n\r\n**ClassA**\r\n\r\n    ...\r\n    @Autowired\r\n    ClassB b;\r\n    public byte[] methodZ(){\r\n    ...\r\n    }\r\n    public void methodY(){\r\n    b.methodX();\r\n    methodZ();\r\n    }\r\n    ...","title":"Mockito thenCallRealMethod method calls other mocked class as real","body":"<p>I have a class with two methods and i want to test one of them but it uses the other method. Therefore, i have to use Mock annotation to mock all methods and use thenCallRealMethod to test my method. I applied this approach and it worked. But, i faced an another problem. The problem is caused by my testing method which wrapped by thenCallRealMethod. It didn't use Mocked classes and invoked real classes. So, it caused null pointer error. Thanks for any comments.</p>\n<p><strong>Test</strong></p>\n<pre><code>...\n\n@Mock\nClassA a;\n\n@Mock\nClassB b;\n\n@Test\npublic void testing() {\n\nMockito.when(ClassB.methodX()).thenReturn(x);\nMockito.when(ClassA.methodZ()).thenReturn(Mockito.Any());\nMockito.when(ClassA.methodY()).thenCallRealMethod();\nClassA.methodY();\n\n}\n\n...\n</code></pre>\n<p><strong>ClassA</strong></p>\n<pre><code>...\n@Autowired\nClassB b;\npublic byte[] methodZ(){\n...\n}\npublic void methodY(){\nb.methodX();\nmethodZ();\n}\n...\n</code></pre>\n"},{"tags":["java","selenium","selenide"],"owner":{"account_id":22197827,"reputation":11,"user_id":16438961,"display_name":"Donbs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":543,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1659432570,"creation_date":1659432570,"question_id":73205140,"body_markdown":"I want to add logging to methods that I have in page objects in Selenide(written in Java).\r\n\r\nThe elements are defined first in each class like so:\r\n\r\n    public SelenideElement reviewEditRiskResultButton = $(byText(&quot;Review/edit Risk Results&quot;));\r\n\r\nUsed later in methods below:\r\n\r\n    public CaseManagement reviewRiskAssessment() {\r\n        // if the risk case has already been locked and the review risk button is available, click and continue\r\n        if(reviewEditRiskResultButton.exists()){\r\n            highlight(reviewEditRiskResultButton).shouldBe(visible).click();\r\n            return this;\r\n        }\r\n        //if the risk case has been locked for the first time, click on the more options button first\r\n        else {\r\n            highlight(moreOptionsButton).shouldBe(visible, Duration.ofSeconds(50)).click();\r\n            sleep(5000);\r\n            highlight(reviewEditRiskResultButton).shouldBe(visible).click();\r\n        }\r\n        return this;\r\n    }\r\nIs there a way to have a generic logic for each method that will log name of the Selenide element wrapped by highlight(), the name of the page, the name of the method and which line the code is on?\r\n\r\nThe second question is if it will be possible to cast logging up one level. The tests are executed through ReadyAPI, which has its own logging where the GUI test step name is included, but would it be possible to include logs from Selenide there as well?\r\n\r\n","title":"Logging Steps in Selenide","body":"<p>I want to add logging to methods that I have in page objects in Selenide(written in Java).</p>\n<p>The elements are defined first in each class like so:</p>\n<pre><code>public SelenideElement reviewEditRiskResultButton = $(byText(&quot;Review/edit Risk Results&quot;));\n</code></pre>\n<p>Used later in methods below:</p>\n<pre><code>public CaseManagement reviewRiskAssessment() {\n    // if the risk case has already been locked and the review risk button is available, click and continue\n    if(reviewEditRiskResultButton.exists()){\n        highlight(reviewEditRiskResultButton).shouldBe(visible).click();\n        return this;\n    }\n    //if the risk case has been locked for the first time, click on the more options button first\n    else {\n        highlight(moreOptionsButton).shouldBe(visible, Duration.ofSeconds(50)).click();\n        sleep(5000);\n        highlight(reviewEditRiskResultButton).shouldBe(visible).click();\n    }\n    return this;\n}\n</code></pre>\n<p>Is there a way to have a generic logic for each method that will log name of the Selenide element wrapped by highlight(), the name of the page, the name of the method and which line the code is on?</p>\n<p>The second question is if it will be possible to cast logging up one level. The tests are executed through ReadyAPI, which has its own logging where the GUI test step name is included, but would it be possible to include logs from Selenide there as well?</p>\n"},{"tags":["java","cryptography"],"comments":[{"owner":{"account_id":36137,"reputation":178789,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":0,"creation_date":1659381238,"post_id":73198471,"comment_id":129276677,"body_markdown":"Does this answer your question? [How can I concatenate two arrays in Java?](https://stackoverflow.com/questions/80476/how-can-i-concatenate-two-arrays-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/80476/how-can-i-concatenate-two-arrays-in-java\">How can I concatenate two arrays in Java?</a>"},{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1659381392,"post_id":73198471,"comment_id":129276731,"body_markdown":"Create a new byte array `byte[] temp = new byte[1 + digest.length]` and use `System.arraycopy(digest, 0, temp, 1, digest.length)`","body":"Create a new byte array <code>byte[] temp = new byte[1 + digest.length]</code> and use <code>System.arraycopy(digest, 0, temp, 1, digest.length)</code>"}],"answers":[{"tags":[],"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1659386662,"creation_date":1659382891,"answer_id":73198805,"question_id":73198471,"body_markdown":"When computing the digest, you can provide an output array via an overloaded form of [`digest()`][1]. You can allocate an extra byte, and store whatever you like in the extra space at the beginning.\r\n\r\n```java\r\nint len = md.getDigestLength();\r\nbyte[] digest = new byte[len + 1];\r\nmd.digest(digest, 1, len);\r\n```\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/security/MessageDigest.html#digest-byte:A-int-int-","title":"Adding a zero byte to the start of a binary hash?","body":"<p>When computing the digest, you can provide an output array via an overloaded form of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/security/MessageDigest.html#digest-byte:A-int-int-\" rel=\"nofollow noreferrer\"><code>digest()</code></a>. You can allocate an extra byte, and store whatever you like in the extra space at the beginning.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int len = md.getDigestLength();\nbyte[] digest = new byte[len + 1];\nmd.digest(digest, 1, len);\n</code></pre>\n"}],"owner":{"account_id":23411929,"reputation":1,"user_id":17473471,"display_name":"FergalOC"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659432384,"creation_date":1659380886,"question_id":73198471,"body_markdown":"For this question I am asked to:\r\n\r\n1. convert text to hash, \r\n\r\n2. then put it into a byte array,\r\n\r\n3. construct a new byte array 0b, with a zero byte at index 0 then b.\r\n\r\n I am able to get the hash of the message `c84291b88e8367ef3448899117f8b497f58ac7d43689239783f708ea0092c39b` with my code:\r\n\r\n    MessageDigest md = MessageDigest.getInstance(&quot;SHA-256&quot;);\r\n    \t\r\n    \t//Convert Message to hash\r\n    md.update(message1.getBytes());\r\n    byte[] digest = md.digest();\r\n    String Hash = hexaToString(digest);\r\n    System.out.println( &quot;Message 1 in hash is = &quot; + Hash);\t\r\n\r\nAnd I am able to convert it into a byte array but I am not sure how to add the zerobyte to the start of the byte array?\r\n  ","title":"Adding a zero byte to the start of a binary hash?","body":"<p>For this question I am asked to:</p>\n<ol>\n<li><p>convert text to hash,</p>\n</li>\n<li><p>then put it into a byte array,</p>\n</li>\n<li><p>construct a new byte array 0b, with a zero byte at index 0 then b.</p>\n</li>\n</ol>\n<p>I am able to get the hash of the message <code>c84291b88e8367ef3448899117f8b497f58ac7d43689239783f708ea0092c39b</code> with my code:</p>\n<pre><code>MessageDigest md = MessageDigest.getInstance(&quot;SHA-256&quot;);\n    \n    //Convert Message to hash\nmd.update(message1.getBytes());\nbyte[] digest = md.digest();\nString Hash = hexaToString(digest);\nSystem.out.println( &quot;Message 1 in hash is = &quot; + Hash);  \n</code></pre>\n<p>And I am able to convert it into a byte array but I am not sure how to add the zerobyte to the start of the byte array?</p>\n"},{"tags":["java","spring-boot","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659432363,"creation_date":1659432363,"answer_id":73205081,"question_id":73193122,"body_markdown":"This exception is expected if the row/object was changed in the meantime. Using a native query would simply skip the optimistic lock check.\r\n\r\nBut you have to ask yourself, is it legal to delete the row/object even if it was changed in the meantime? Maybe you have logic in your code that only allows deletion if the object is unused, which might now be violated.\r\n\r\nRead a bit into optimistic locking to understand what the purpose of this mechanism is: https://www.baeldung.com/jpa-optimistic-locking","title":"JPA @Version Soft delete does not work when attempting to a deleted entity","body":"<p>This exception is expected if the row/object was changed in the meantime. Using a native query would simply skip the optimistic lock check.</p>\n<p>But you have to ask yourself, is it legal to delete the row/object even if it was changed in the meantime? Maybe you have logic in your code that only allows deletion if the object is unused, which might now be violated.</p>\n<p>Read a bit into optimistic locking to understand what the purpose of this mechanism is: <a href=\"https://www.baeldung.com/jpa-optimistic-locking\" rel=\"nofollow noreferrer\">https://www.baeldung.com/jpa-optimistic-locking</a></p>\n"}],"owner":{"account_id":1580764,"reputation":593,"user_id":1466201,"accept_rate":0,"display_name":"Fortran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":275,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659432363,"creation_date":1659354190,"question_id":73193122,"body_markdown":"I have a problem with optimistic locking. I have a class which has an @Version annotated field + soft delete\r\n\r\n    @Entity\r\n    @Table(name = &quot;units_locks&quot;)\r\n    @SQLDelete(sql = &quot;UPDATE units_locks SET active=false WHERE id=?&quot;)\r\n    @Builder\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Getter\r\n    @Setter\r\n    @Audited\r\n    public class LockDbEntity {\r\n      @Id\r\n      @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n      @Column(unique = true, nullable = false)\r\n      protected Long id;\r\n    \r\n      @Version\r\n      @Column(name = &quot;entity_version&quot;)\r\n      private long entityVersion;\r\n    \r\n      @Column(nullable = false)\r\n      private Boolean active;\r\n    }\r\n\r\nWhen I try delete the Entity, the Hibernite throws the following exception:\r\n\r\n\r\n    lockDbRepository.deleteAll(unitLockDbEntities);\r\n\r\n&gt;  optimistic locking failed; nested exception is\r\n&gt; org.hibernate.StaleObjectStateException: Row was updated or deleted by\r\n&gt; another transaction.\r\n\r\n\r\nThe interesting thing is that if I use a native query the mechanism works,\r\n\r\n      @Modifying\r\n      @Query(value = &quot;UPDATE units_locks SET active=false WHERE unit_id IN (:ids)&quot;, nativeQuery = true)\r\n      void deleteAllNativeQuery(@Param(&quot;ids&quot;) List&lt;Long&gt; ids);\r\n\r\n\r\n\r\n But it will force me to change my code quite a bit and that&#39;s why I want to solve the above problem.\r\n\r\nI am using Hibernate  5.6.2 version\r\n","title":"JPA @Version Soft delete does not work when attempting to a deleted entity","body":"<p>I have a problem with optimistic locking. I have a class which has an @Version annotated field + soft delete</p>\n<pre><code>@Entity\n@Table(name = &quot;units_locks&quot;)\n@SQLDelete(sql = &quot;UPDATE units_locks SET active=false WHERE id=?&quot;)\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\n@Getter\n@Setter\n@Audited\npublic class LockDbEntity {\n  @Id\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n  @Column(unique = true, nullable = false)\n  protected Long id;\n\n  @Version\n  @Column(name = &quot;entity_version&quot;)\n  private long entityVersion;\n\n  @Column(nullable = false)\n  private Boolean active;\n}\n</code></pre>\n<p>When I try delete the Entity, the Hibernite throws the following exception:</p>\n<pre><code>lockDbRepository.deleteAll(unitLockDbEntities);\n</code></pre>\n<blockquote>\n<p>optimistic locking failed; nested exception is\norg.hibernate.StaleObjectStateException: Row was updated or deleted by\nanother transaction.</p>\n</blockquote>\n<p>The interesting thing is that if I use a native query the mechanism works,</p>\n<pre><code>  @Modifying\n  @Query(value = &quot;UPDATE units_locks SET active=false WHERE unit_id IN (:ids)&quot;, nativeQuery = true)\n  void deleteAllNativeQuery(@Param(&quot;ids&quot;) List&lt;Long&gt; ids);\n</code></pre>\n<p>But it will force me to change my code quite a bit and that's why I want to solve the above problem.</p>\n<p>I am using Hibernate  5.6.2 version</p>\n"},{"tags":["java","eclipse","websphere-liberty","open-liberty","microprofile"],"answers":[{"tags":[],"owner":{"account_id":3515370,"reputation":211,"user_id":2938941,"display_name":"Erin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1586865925,"creation_date":1586865925,"answer_id":61207256,"question_id":61197358,"body_markdown":"The localConnector-1.0 feature is required by the tools in order to connect to the server. If it is not there you will get that error message about the JMX connection failure and the tools will keep trying to add it back to the server.xml. Are you using a minimized server with only a specific subset of features? You could install the localConnector-1.0 feature using the installUtility that comes with Liberty. It is found in the bin directory:\r\n\r\n    bin/installUtility install localConnector-1.0\r\n\r\nYou can also install features using the tools. Open the Runtime Explorer view, right click on the Liberty runtime and select **Install Additional Content**. Use the search field to search for local connector, click **Install** for the feature and then finish the wizard, accepting any licenses.","title":"Open Liberty inside Eclipse: publishing results in an JMX connection error","body":"<p>The localConnector-1.0 feature is required by the tools in order to connect to the server. If it is not there you will get that error message about the JMX connection failure and the tools will keep trying to add it back to the server.xml. Are you using a minimized server with only a specific subset of features? You could install the localConnector-1.0 feature using the installUtility that comes with Liberty. It is found in the bin directory:</p>\n\n<pre><code>bin/installUtility install localConnector-1.0\n</code></pre>\n\n<p>You can also install features using the tools. Open the Runtime Explorer view, right click on the Liberty runtime and select <strong>Install Additional Content</strong>. Use the search field to search for local connector, click <strong>Install</strong> for the feature and then finish the wizard, accepting any licenses.</p>\n"}],"owner":{"account_id":3585166,"reputation":40,"user_id":2992516,"display_name":"sintexx"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1559,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":61207256,"answer_count":1,"score":0,"last_activity_date":1659432060,"creation_date":1586814450,"question_id":61197358,"body_markdown":"I configured the Open Liberty server inside Eclipse 2020-03 using the Eclipse Developer Tools from https://openliberty.io/downloads/#eclipse_developer_tools.\r\n\r\nI can add my .war project and start the server without problem, but publishing on the running server results in an Error:\r\n[![enter image description here][1]][1]\r\n\r\nAlso at startup there is an error in the server console:\r\n\r\n    [ERROR   ] CWWKF0001E: A feature definition could not be found for localconnector-1.0\r\n\r\nthat could match this (resolved) discussion on the open-liberty github: https://github.com/OpenLiberty/open-liberty/issues/6533.\r\n\r\nInside the server.xml Eclipse displays an warning, that the localConnector-1.0 feature is not recognized, but when I try to remove it, it reapears again after saving.\r\n\r\nI tried switching between the AdoptJDK 8, 11 and 14 but the behavior does not change.\r\n\r\n  [1]: https://i.stack.imgur.com/oXY3f.png","title":"Open Liberty inside Eclipse: publishing results in an JMX connection error","body":"<p>I configured the Open Liberty server inside Eclipse 2020-03 using the Eclipse Developer Tools from <a href=\"https://openliberty.io/downloads/#eclipse_developer_tools\" rel=\"nofollow noreferrer\">https://openliberty.io/downloads/#eclipse_developer_tools</a>.</p>\n\n<p>I can add my .war project and start the server without problem, but publishing on the running server results in an Error:\n<a href=\"https://i.stack.imgur.com/oXY3f.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oXY3f.png\" alt=\"enter image description here\"></a></p>\n\n<p>Also at startup there is an error in the server console:</p>\n\n<pre><code>[ERROR   ] CWWKF0001E: A feature definition could not be found for localconnector-1.0\n</code></pre>\n\n<p>that could match this (resolved) discussion on the open-liberty github: <a href=\"https://github.com/OpenLiberty/open-liberty/issues/6533\" rel=\"nofollow noreferrer\">https://github.com/OpenLiberty/open-liberty/issues/6533</a>.</p>\n\n<p>Inside the server.xml Eclipse displays an warning, that the localConnector-1.0 feature is not recognized, but when I try to remove it, it reapears again after saving.</p>\n\n<p>I tried switching between the AdoptJDK 8, 11 and 14 but the behavior does not change.</p>\n"},{"tags":["java","spring-boot","maven","maven-3"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":3,"creation_date":1658741988,"post_id":73107052,"comment_id":129117771,"body_markdown":"Exactly what output do you get when you run `mvn package`? Please copy and paste it instead of typing it by hand.","body":"Exactly what output do you get when you run <code>mvn package</code>? Please copy and paste it instead of typing it by hand."},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1658742473,"post_id":73107052,"comment_id":129117987,"body_markdown":"IntelliJ Idea probably performs workspace resolution instead of actually downloading the dependency","body":"IntelliJ Idea probably performs workspace resolution instead of actually downloading the dependency"},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1658746982,"post_id":73107052,"comment_id":129119771,"body_markdown":"what is `local maven dependency jfrog`? Is it jfrog artifactory installed somewhere in enterprise and you have a dedicated space there to deploy your release artifacts? In that case you need to setup `virtual repository` (not sure about jfrog terminology) which include both &quot;maven central proxy&quot; and &quot;your dedicated space&quot; and setup that repository as `mirror` in your `~/.m2/settings.xml`","body":"what is <code>local maven dependency jfrog</code>? Is it jfrog artifactory installed somewhere in enterprise and you have a dedicated space there to deploy your release artifacts? In that case you need to setup <code>virtual repository</code> (not sure about jfrog terminology) which include both &quot;maven central proxy&quot; and &quot;your dedicated space&quot; and setup that repository as <code>mirror</code> in your <code>~&#47;.m2&#47;settings.xml</code>"}],"answers":[{"tags":[],"owner":{"account_id":8839788,"reputation":2921,"user_id":6602599,"accept_rate":15,"display_name":"Navigator"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659431548,"creation_date":1659431548,"answer_id":73204887,"question_id":73107052,"body_markdown":"Found problem.\r\n\r\nThe package `(utils-starter)` I created had this plugin \r\n\r\n    &lt;plugin&gt;\r\n       &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n       &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    &lt;/plugin&gt;\r\n\r\nSo removing it solved the problem\r\n\r\n","title":"Maven Packaging","body":"<p>Found problem.</p>\n<p>The package <code>(utils-starter)</code> I created had this plugin</p>\n<pre><code>&lt;plugin&gt;\n   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n   &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>So removing it solved the problem</p>\n"}],"owner":{"account_id":8839788,"reputation":2921,"user_id":6602599,"accept_rate":15,"display_name":"Navigator"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73204887,"answer_count":1,"score":0,"last_activity_date":1659431548,"creation_date":1658741844,"question_id":73107052,"body_markdown":"I have a spring boot app version 2.7.0 and java version 17.\r\n\r\nI have made a shared dependency and push to local maven dependency jfrog.\r\n\r\nThen I have included this dependency to my app\r\n \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.microservice&lt;/groupId&gt;\r\n        &lt;artifactId&gt;utils-starter&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nWhenver I run `mvn clean package` I get \r\n\r\n&gt; Package does not exits\r\n\r\nIt seems mvn does not see the package but IntelliJ Idea does.\r\n\r\nBut when I run with Intellij Idea, it runs well but `mvn package` fails\r\n\r\nCan someone help?","title":"Maven Packaging","body":"<p>I have a spring boot app version 2.7.0 and java version 17.</p>\n<p>I have made a shared dependency and push to local maven dependency jfrog.</p>\n<p>Then I have included this dependency to my app</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.microservice&lt;/groupId&gt;\n    &lt;artifactId&gt;utils-starter&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Whenver I run <code>mvn clean package</code> I get</p>\n<blockquote>\n<p>Package does not exits</p>\n</blockquote>\n<p>It seems mvn does not see the package but IntelliJ Idea does.</p>\n<p>But when I run with Intellij Idea, it runs well but <code>mvn package</code> fails</p>\n<p>Can someone help?</p>\n"},{"tags":["java","spring","spring-boot","spring-data","spring-data-jdbc"],"answers":[{"tags":[],"owner":{"account_id":76475,"reputation":646,"user_id":218901,"accept_rate":69,"display_name":"Claudio Mezzasalma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659431541,"creation_date":1659431541,"answer_id":73204886,"question_id":73183605,"body_markdown":"My issue was that I had multiple Repository candidates (because I also had `spring-boot-starter-redis` as a dependency). Removing it, or annotating with `@Table` my entity fixed the issue.","title":"UnsatisfiedDependencyException when referencing Repository from another module","body":"<p>My issue was that I had multiple Repository candidates (because I also had <code>spring-boot-starter-redis</code> as a dependency). Removing it, or annotating with <code>@Table</code> my entity fixed the issue.</p>\n"}],"owner":{"account_id":76475,"reputation":646,"user_id":218901,"accept_rate":69,"display_name":"Claudio Mezzasalma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659431541,"creation_date":1659273228,"question_id":73183605,"body_markdown":"I have a Kotlin Spring Boot application (`com.myapp.webapp.Application`) which uses a Repository bean defined in an external library (`com.myapp.engine.MyRepository`). Such repository is not a `JpaRepository` because I want to avoid JPA in this stage of the project, and only resorting to straight SQL queries, so I&#39;m using `Repository` / `@EnableJdbcRepositories`:\r\n\r\n```kotlin\r\npackage com.myapp.webapp\r\n\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication\r\nimport org.springframework.boot.runApplication\r\nimport org.springframework.data.jdbc.repository.config.EnableJdbcRepositories\r\n\r\n@SpringBootApplication(scanBasePackages = [\r\n    &quot;com.myapp.webapp&quot;,\r\n    &quot;com.myapp.engine&quot;,\r\n])\r\n@EnableJdbcRepositories(basePackages = [&quot;com.myapp.engine&quot;])\r\nclass MyApplication\r\n\r\nfun main(args: Array&lt;String&gt;) {\r\n    runApplication&lt;MyApplication&gt;(*args)\r\n}\r\n\r\n```\r\n\r\n```kotlin\r\npackage com.myapp.engine.repository\r\n\r\nimport com.myapp.engine.MyType\r\nimport org.springframework.data.jdbc.repository.Query\r\nimport org.springframework.data.repository.Repository\r\nimport java.util.*\r\n\r\ninterface MyRepository: Repository&lt;MyType, Int&gt; {\r\n\r\n    @Query(&quot;select * from my_type&quot;, nativeQuery=true)\r\n    fun findAll(): List&lt;MyType&gt;\r\n\r\n}\r\n```\r\n\r\nSuch service is then `@Autowire`d in `com.myapp.engine.service.MyService`, but autowiring fails because no beans for `MyRepository` are found:\r\n\r\n```plaintext\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nParameter 0 of constructor in com.myapp.engine.service.MyService required a bean of type &#39;com.myapp.engine.repository.MyRepository&#39; that could not be found.\r\n\r\nThe injection point has the following annotations:\r\n\t- @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;com.webapp.engine.repository.MyRepository&#39; in your configuration.\r\n\r\n\r\nProcess finished with exit code 1\r\n```\r\n\r\nReading Spring Data JDBC [reference](https://docs.spring.io/spring-data/jdbc/docs/current/reference/html/#repositories.definition) it looks like this approach should be valid. What am I doing wrong?","title":"UnsatisfiedDependencyException when referencing Repository from another module","body":"<p>I have a Kotlin Spring Boot application (<code>com.myapp.webapp.Application</code>) which uses a Repository bean defined in an external library (<code>com.myapp.engine.MyRepository</code>). Such repository is not a <code>JpaRepository</code> because I want to avoid JPA in this stage of the project, and only resorting to straight SQL queries, so I'm using <code>Repository</code> / <code>@EnableJdbcRepositories</code>:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>package com.myapp.webapp\n\nimport org.springframework.boot.autoconfigure.SpringBootApplication\nimport org.springframework.boot.runApplication\nimport org.springframework.data.jdbc.repository.config.EnableJdbcRepositories\n\n@SpringBootApplication(scanBasePackages = [\n    &quot;com.myapp.webapp&quot;,\n    &quot;com.myapp.engine&quot;,\n])\n@EnableJdbcRepositories(basePackages = [&quot;com.myapp.engine&quot;])\nclass MyApplication\n\nfun main(args: Array&lt;String&gt;) {\n    runApplication&lt;MyApplication&gt;(*args)\n}\n\n</code></pre>\n<pre class=\"lang-kotlin prettyprint-override\"><code>package com.myapp.engine.repository\n\nimport com.myapp.engine.MyType\nimport org.springframework.data.jdbc.repository.Query\nimport org.springframework.data.repository.Repository\nimport java.util.*\n\ninterface MyRepository: Repository&lt;MyType, Int&gt; {\n\n    @Query(&quot;select * from my_type&quot;, nativeQuery=true)\n    fun findAll(): List&lt;MyType&gt;\n\n}\n</code></pre>\n<p>Such service is then <code>@Autowire</code>d in <code>com.myapp.engine.service.MyService</code>, but autowiring fails because no beans for <code>MyRepository</code> are found:</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nParameter 0 of constructor in com.myapp.engine.service.MyService required a bean of type 'com.myapp.engine.repository.MyRepository' that could not be found.\n\nThe injection point has the following annotations:\n    - @org.springframework.beans.factory.annotation.Autowired(required=true)\n\n\nAction:\n\nConsider defining a bean of type 'com.webapp.engine.repository.MyRepository' in your configuration.\n\n\nProcess finished with exit code 1\n</code></pre>\n<p>Reading Spring Data JDBC <a href=\"https://docs.spring.io/spring-data/jdbc/docs/current/reference/html/#repositories.definition\" rel=\"nofollow noreferrer\">reference</a> it looks like this approach should be valid. What am I doing wrong?</p>\n"},{"tags":["java","arrays","move"],"comments":[{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":2,"creation_date":1659431264,"post_id":73204473,"comment_id":129287437,"body_markdown":"Related: [Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?](https://stackoverflow.com/questions/40480/is-java-pass-by-reference-or-pass-by-value)","body":"Related: <a href=\"https://stackoverflow.com/questions/40480/is-java-pass-by-reference-or-pass-by-value\">Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?</a>"}],"answers":[{"tags":[],"owner":{"account_id":5130631,"reputation":38,"user_id":4110967,"display_name":"BlackSheep"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659430270,"creation_date":1659430270,"answer_id":73204609,"question_id":73204473,"body_markdown":"on your swap method, you are not swapping the actual values of the objects you&#39;ve passed, you are swapping between the values passed to the method but there is no result returned so nothing happens. you need to either do the swap  on the actual objects - not in a method, or use another way for this. I would recommend googling &quot;pass by value&quot; and &quot;pass by reference&quot;. I would also recommend adding a unit test or at least debug the program so you can validate your code is doing what you want.","title":"Why this below code is not returning the desired output ? it should return 1,3,2,2,0,0,0 while its returning same array","body":"<p>on your swap method, you are not swapping the actual values of the objects you've passed, you are swapping between the values passed to the method but there is no result returned so nothing happens. you need to either do the swap  on the actual objects - not in a method, or use another way for this. I would recommend googling &quot;pass by value&quot; and &quot;pass by reference&quot;. I would also recommend adding a unit test or at least debug the program so you can validate your code is doing what you want.</p>\n"},{"tags":[],"owner":{"account_id":21616679,"reputation":106,"user_id":15942375,"display_name":"Guy Lawrence-Downs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659430714,"creation_date":1659430714,"answer_id":73204695,"question_id":73204473,"body_markdown":"Your swap method doesn&#39;t return any values, nor does it change the values in the reference of the objects passed. To fix this you can either return two values from your swap method (a and b) or you could do it not in a method, that way it would directly affect the objects. \r\nJust for a little more explanation, the variables a and b in your swap method are local to the swap method, changing these would not affect any other variables, even if they were also named the same, and as your method is a void it can&#39;t return anything.\r\nHope this helps :)","title":"Why this below code is not returning the desired output ? it should return 1,3,2,2,0,0,0 while its returning same array","body":"<p>Your swap method doesn't return any values, nor does it change the values in the reference of the objects passed. To fix this you can either return two values from your swap method (a and b) or you could do it not in a method, that way it would directly affect the objects.\nJust for a little more explanation, the variables a and b in your swap method are local to the swap method, changing these would not affect any other variables, even if they were also named the same, and as your method is a void it can't return anything.\nHope this helps :)</p>\n"},{"tags":[],"owner":{"account_id":19038874,"reputation":66,"user_id":13899433,"display_name":"Meenal Garg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659430929,"creation_date":1659430929,"answer_id":73204748,"question_id":73204473,"body_markdown":"Your swap() method isn&#39;t performing any operation on your array, you are just passing two values a and b and swapping them but no operation is being performed on your array.\r\n\r\nInstead of passing these two values to your swap() method you can directly swap them inside your for loop as below:\r\n\r\n    for(int i=0;i&lt;arr.length;i++){\r\n            if(arr[i]!=0){\r\n            \tint temp = arr[i];\r\n            \tarr[i] = arr[count];\r\n            \tarr[count] = temp;\r\n                count++;\r\n            }\r\n        }","title":"Why this below code is not returning the desired output ? it should return 1,3,2,2,0,0,0 while its returning same array","body":"<p>Your swap() method isn't performing any operation on your array, you are just passing two values a and b and swapping them but no operation is being performed on your array.</p>\n<p>Instead of passing these two values to your swap() method you can directly swap them inside your for loop as below:</p>\n<pre><code>for(int i=0;i&lt;arr.length;i++){\n        if(arr[i]!=0){\n            int temp = arr[i];\n            arr[i] = arr[count];\n            arr[count] = temp;\n            count++;\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":25828516,"reputation":1,"user_id":19566154,"display_name":"Raju"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1659431468,"creation_date":1659429668,"question_id":73204473,"body_markdown":"When I run the below code it&#39;s returning same array as output. Can anyone tell me where I am wrong?\r\n        \r\n```java\r\npublic class MoveZeroToend {\r\n    public static void main(String[] args) {\r\n        int[] arr = { 1, 3, 0, 2, 0, 2, 0 };\r\n        Move0Toend(arr);\r\n    }\r\n\r\n    static void Move0Toend(int[] arr) { // Code to move zeroes to end\r\n        int count = 0;\r\n        for (int i = 0; i &lt; arr.length; i++) {\r\n            if (arr[i] != 0) {\r\n                swap(arr[i], arr[count]);\r\n                count++;\r\n            }\r\n        }\r\n        for (int i = 0; i &lt; arr.length; i++) {\r\n            System.out.print(arr[i] + &quot; &quot;); // Print the array\r\n        } \r\n    }\r\n\r\n    static void swap(int a, int b) { // To swap\r\n        a = a + b;\r\n        b = a - b;\r\n        a = a - b;\r\n    }\r\n}\r\n```","title":"Why this below code is not returning the desired output ? it should return 1,3,2,2,0,0,0 while its returning same array","body":"<p>When I run the below code it's returning same array as output. Can anyone tell me where I am wrong?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MoveZeroToend {\n    public static void main(String[] args) {\n        int[] arr = { 1, 3, 0, 2, 0, 2, 0 };\n        Move0Toend(arr);\n    }\n\n    static void Move0Toend(int[] arr) { // Code to move zeroes to end\n        int count = 0;\n        for (int i = 0; i &lt; arr.length; i++) {\n            if (arr[i] != 0) {\n                swap(arr[i], arr[count]);\n                count++;\n            }\n        }\n        for (int i = 0; i &lt; arr.length; i++) {\n            System.out.print(arr[i] + &quot; &quot;); // Print the array\n        } \n    }\n\n    static void swap(int a, int b) { // To swap\n        a = a + b;\n        b = a - b;\n        a = a - b;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-mvc","swagger","swagger-ui","springfox"],"comments":[{"owner":{"account_id":7523407,"reputation":103,"user_id":5714534,"accept_rate":75,"display_name":"Michiel"},"score":0,"creation_date":1673005408,"post_id":73203151,"comment_id":132405573,"body_markdown":"Were you able to get this working?","body":"Were you able to get this working?"}],"owner":{"account_id":24353111,"reputation":21,"user_id":18288690,"display_name":"Ganesh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":268,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1659431445,"creation_date":1659423160,"question_id":73203151,"body_markdown":"We are getting the unable to infer base url when we tried to access the swagger url\r\n\r\n[![Swagger UI Issue][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ztofw.png\r\n\r\nWe use Spring 5.3.18 and we don&#39;t use spring security.\r\n\r\nWe are using the Spring fox 3.0.0 version, and below is the Swagger Config and Web Config code.\r\n\r\n```\r\n@Profile(&quot;swagger&quot;)\r\n@Configuration\r\n@EnableSwagger2\r\n@Import(SpringDataRestConfiguration.class)\r\npublic class SwaggerConfig {\r\n\r\n  private static final String DEFAULT = &quot;1. Default&quot;;\r\n\r\n  @Bean\r\n  public Docket apiDocket() {\r\n    return new Docket(DocumentationType.SWAGGER_2).select()\r\n        .apis(RequestHandlerSelectors.basePackage(&quot;basepackage.rest.controller&quot;))\r\n        .paths(PathSelectors.any()).build();\r\n  }\r\n}\r\n```\r\n\r\n```\r\n@EnableWebMvc\r\n@Configuration\r\n@Profile(&quot;swagger&quot;)\r\npublic class WebConfig implements WebMvcConfigurer {\r\n\r\n  @Override\r\n  public void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n    registry.addResourceHandler(&quot;swagger-ui.html&quot;)\r\n        .addResourceLocations(&quot;classpath:/META-INF/resources/&quot;);\r\n\r\n    registry.addResourceHandler(&quot;/webjars/**&quot;)\r\n        .addResourceLocations(&quot;classpath:/META-INF/resources/webjars/&quot;);\r\n  }\r\n}\r\n```","title":"Swagger UI: Unable to infer baseurl, No Spring Security","body":"<p>We are getting the unable to infer base url when we tried to access the swagger url</p>\n<p><a href=\"https://i.stack.imgur.com/ztofw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ztofw.png\" alt=\"Swagger UI Issue\" /></a></p>\n<p>We use Spring 5.3.18 and we don't use spring security.</p>\n<p>We are using the Spring fox 3.0.0 version, and below is the Swagger Config and Web Config code.</p>\n<pre><code>@Profile(&quot;swagger&quot;)\n@Configuration\n@EnableSwagger2\n@Import(SpringDataRestConfiguration.class)\npublic class SwaggerConfig {\n\n  private static final String DEFAULT = &quot;1. Default&quot;;\n\n  @Bean\n  public Docket apiDocket() {\n    return new Docket(DocumentationType.SWAGGER_2).select()\n        .apis(RequestHandlerSelectors.basePackage(&quot;basepackage.rest.controller&quot;))\n        .paths(PathSelectors.any()).build();\n  }\n}\n</code></pre>\n<pre><code>@EnableWebMvc\n@Configuration\n@Profile(&quot;swagger&quot;)\npublic class WebConfig implements WebMvcConfigurer {\n\n  @Override\n  public void addResourceHandlers(ResourceHandlerRegistry registry) {\n    registry.addResourceHandler(&quot;swagger-ui.html&quot;)\n        .addResourceLocations(&quot;classpath:/META-INF/resources/&quot;);\n\n    registry.addResourceHandler(&quot;/webjars/**&quot;)\n        .addResourceLocations(&quot;classpath:/META-INF/resources/webjars/&quot;);\n  }\n}\n</code></pre>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1659431365,"post_id":73204813,"comment_id":129287474,"body_markdown":"If it doesn&#39;t cleanup you actually do have a memory leak or some weird constructs that prevents GC from kicking in. Nonetheless your question contains too little information to pinpoint you into the direction.","body":"If it doesn&#39;t cleanup you actually do have a memory leak or some weird constructs that prevents GC from kicking in. Nonetheless your question contains too little information to pinpoint you into the direction."},{"owner":{"account_id":5647797,"reputation":69,"user_id":4469322,"display_name":"Pierpaolo Pierpaoli"},"score":0,"creation_date":1659433062,"post_id":73204813,"comment_id":129288058,"body_markdown":"I have a singleton entitymanager, injected by @PersistenceContext, that probably is caching many entities. But i manually evict all these entities and i&#39;m pretty sure i don&#39;t have macroscopic memory leaks. And if i had sone leaks manually calling garbage collector woudn&#39;t resolve anything, because a memory leak is some object that is still referred by someone and can&#39;t be destroyed.","body":"I have a singleton entitymanager, injected by @PersistenceContext, that probably is caching many entities. But i manually evict all these entities and i&#39;m pretty sure i don&#39;t have macroscopic memory leaks. And if i had sone leaks manually calling garbage collector woudn&#39;t resolve anything, because a memory leak is some object that is still referred by someone and can&#39;t be destroyed."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1659433295,"post_id":73204813,"comment_id":129288151,"body_markdown":"I know what a memory leak is, but it can be that the analyzer cannot detect, for some weird reason, that something is still holding on and doesn&#39;t do a GC. But as stated without seeing more of your application this is simply impossible to answer. What you need to do is attach a profiler to your application and see where the memory is being held and fix that.","body":"I know what a memory leak is, but it can be that the analyzer cannot detect, for some weird reason, that something is still holding on and doesn&#39;t do a GC. But as stated without seeing more of your application this is simply impossible to answer. What you need to do is attach a profiler to your application and see where the memory is being held and fix that."}],"owner":{"account_id":5647797,"reputation":69,"user_id":4469322,"display_name":"Pierpaolo Pierpaoli"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":214,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1659431194,"creation_date":1659431194,"question_id":73204813,"body_markdown":"I have a spring boot 2.6 application server with java 11. Even if i don&#39;t have memory leaks, my application never frees memory, and after some days it consumes many gigabytes and freeze the server. I solved this problem calling manually `System.gc()`. \r\nThis frees all the memory and prevent server freezing. But I do not like this solution at all and still i can&#39;t understand: why system never calls garbage collector? Why do i need to call it manually? Please help.","title":"Spring boot application never calling garbage collector","body":"<p>I have a spring boot 2.6 application server with java 11. Even if i don't have memory leaks, my application never frees memory, and after some days it consumes many gigabytes and freeze the server. I solved this problem calling manually <code>System.gc()</code>.\nThis frees all the memory and prevent server freezing. But I do not like this solution at all and still i can't understand: why system never calls garbage collector? Why do i need to call it manually? Please help.</p>\n"},{"tags":["java","matlab","nio"],"comments":[{"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"score":1,"creation_date":1658911502,"post_id":73130085,"comment_id":129166875,"body_markdown":"Not used Java calls from Matlab but the third move argument is an array of `CopyOption` . Perhaps try that param as `optArr`  set with `optArr = javaArray(&#39;java.nio.file.CopyOption&#39;,1)` and assigned contents `optArr(1) = java.nio.file.StandardCopyOption.COPY_ATTRIBUTES` .","body":"Not used Java calls from Matlab but the third move argument is an array of <code>CopyOption</code> . Perhaps try that param as <code>optArr</code>  set with <code>optArr = javaArray(&#39;java.nio.file.CopyOption&#39;,1)</code> and assigned contents <code>optArr(1) = java.nio.file.StandardCopyOption.COPY_ATTRIBUTES</code> ."},{"owner":{"account_id":3592511,"reputation":8761,"user_id":3181104,"accept_rate":71,"display_name":"Argyll"},"score":0,"creation_date":1659427180,"post_id":73130085,"comment_id":129285965,"body_markdown":"@DuncG: That solved the problem for me. Would you like to write an answer and we accept answer for the question?","body":"@DuncG: That solved the problem for me. Would you like to write an answer and we accept answer for the question?"}],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659430852,"creation_date":1659430852,"answer_id":73204729,"question_id":73130085,"body_markdown":"The third parameter to [Files.move][1] is an array of `java.nio.file.CopyOption`, so you&#39;d need to set up an array of `CopyOption` initialised with one entry for the value of the implementing class `java.nio.file.StandardCopyOption.COPY_ATTRIBUTES`: \r\n\r\n    optArr = javaArray(&#39;java.nio.file.CopyOption&#39;,1);\r\n    optArr(1) = java.nio.file.StandardCopyOption.COPY_ATTRIBUTES;\r\n    java.nio.file.Files.move(path1, path2, optArr);\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/nio/file/Files.html#move(java.nio.file.Path,java.nio.file.Path,java.nio.file.CopyOption...)\r\n\r\n","title":"How to use Java nio&#39;s Files.move in Matlab","body":"<p>The third parameter to <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/nio/file/Files.html#move(java.nio.file.Path,java.nio.file.Path,java.nio.file.CopyOption...)\" rel=\"nofollow noreferrer\">Files.move</a> is an array of <code>java.nio.file.CopyOption</code>, so you'd need to set up an array of <code>CopyOption</code> initialised with one entry for the value of the implementing class <code>java.nio.file.StandardCopyOption.COPY_ATTRIBUTES</code>:</p>\n<pre><code>optArr = javaArray('java.nio.file.CopyOption',1);\noptArr(1) = java.nio.file.StandardCopyOption.COPY_ATTRIBUTES;\njava.nio.file.Files.move(path1, path2, optArr);\n</code></pre>\n"}],"owner":{"account_id":3592511,"reputation":8761,"user_id":3181104,"accept_rate":71,"display_name":"Argyll"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73204729,"answer_count":1,"score":1,"last_activity_date":1659430852,"creation_date":1658872010,"question_id":73130085,"body_markdown":"I want to use the [`java.nio.file.Files.move()`](https://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html) method in Matlab.\r\n\r\nAlthough I only need the default behavior, Matlab requires all 3 inputs or would throw the `No method ... with matching signature found.` error. Passing `[]` (which I think gets converted to `null` though not [documented](https://www.mathworks.com/help/matlab/matlab_external/passing-data-to-java-methods.html)) gets the `java.lang.NullPointerException` error.\r\n\r\nHow do I make an `CopyOption` object in Matlab?\r\n\r\n----------\r\n\r\nExample:\r\n\r\n```lang-matlab\r\n&gt;&gt; version -java\r\nans =\r\n    &#39;Java 1.8.0_202-b08 with Oracle Corporation Java HotSpot(TM) 64-Bit Server VM mixed mode\r\n\r\nzipFilePath=java.nio.file.Paths.get(&#39;test.zip&#39;,javaArray(&#39;java.lang.String&#39;, 0));\r\nzipFileSystem=java.nio.file.FileSystems.newFileSystem(zipFilePath,[]);\r\n\r\npath1=zipFileSystem.getPath(&#39;/test.txt&#39;,javaArray(&#39;java.lang.String&#39;, 0));\r\npath2=zipFileSystem.getPath(&#39;/test_changed.txt&#39;,javaArray(&#39;java.lang.String&#39;, 0));\r\n\r\n% java.nio.file.Files.move(path1,path2,???); % what should ??? be..\r\n\r\njava.nio.file.Files.move(path1,path2,java.nio.file.StandardCopyOption.COPY_ATTRIBUTES)\r\nNo method &#39;java.nio.file.Files.move&#39; with matching signature found. \r\n\r\nzipFileSystem.close();\r\n\r\n```\r\n\r\n(I am also attaching my particular use of `.move()` in case there is something else that matters but I don&#39;t know.)","title":"How to use Java nio&#39;s Files.move in Matlab","body":"<p>I want to use the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html\" rel=\"nofollow noreferrer\"><code>java.nio.file.Files.move()</code></a> method in Matlab.</p>\n<p>Although I only need the default behavior, Matlab requires all 3 inputs or would throw the <code>No method ... with matching signature found.</code> error. Passing <code>[]</code> (which I think gets converted to <code>null</code> though not <a href=\"https://www.mathworks.com/help/matlab/matlab_external/passing-data-to-java-methods.html\" rel=\"nofollow noreferrer\">documented</a>) gets the <code>java.lang.NullPointerException</code> error.</p>\n<p>How do I make an <code>CopyOption</code> object in Matlab?</p>\n<hr />\n<p>Example:</p>\n<pre class=\"lang-matlab prettyprint-override\"><code>&gt;&gt; version -java\nans =\n    'Java 1.8.0_202-b08 with Oracle Corporation Java HotSpot(TM) 64-Bit Server VM mixed mode\n\nzipFilePath=java.nio.file.Paths.get('test.zip',javaArray('java.lang.String', 0));\nzipFileSystem=java.nio.file.FileSystems.newFileSystem(zipFilePath,[]);\n\npath1=zipFileSystem.getPath('/test.txt',javaArray('java.lang.String', 0));\npath2=zipFileSystem.getPath('/test_changed.txt',javaArray('java.lang.String', 0));\n\n% java.nio.file.Files.move(path1,path2,???); % what should ??? be..\n\njava.nio.file.Files.move(path1,path2,java.nio.file.StandardCopyOption.COPY_ATTRIBUTES)\nNo method 'java.nio.file.Files.move' with matching signature found. \n\nzipFileSystem.close();\n\n</code></pre>\n<p>(I am also attaching my particular use of <code>.move()</code> in case there is something else that matters but I don't know.)</p>\n"},{"tags":["java","multithreading","browser","jar","process"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1659345282,"post_id":73191308,"comment_id":129264385,"body_markdown":"This is more of an OS-dependent question - whether (and how) it is possible to get the processes started by another process. See https://superuser.com/questions/883081/how-to-find-out-who-what-process-is-starting-another-process and https://serverfault.com/questions/232762/linux-how-to-know-where-a-process-was-started-and-how-it-was-started - you would probably either have to call those commands or look for a library that does it for you.","body":"This is more of an OS-dependent question - whether (and how) it is possible to get the processes started by another process. See <a href=\"https://superuser.com/questions/883081/how-to-find-out-who-what-process-is-starting-another-process\" title=\"how to find out who what process is starting another process\">superuser.com/questions/883081/&hellip;</a> and <a href=\"https://serverfault.com/questions/232762/linux-how-to-know-where-a-process-was-started-and-how-it-was-started\" title=\"linux how to know where a process was started and how it was started\">serverfault.com/questions/232762/&hellip;</a> - you would probably either have to call those commands or look for a library that does it for you."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1659345595,"post_id":73191308,"comment_id":129264521,"body_markdown":"Does `ProcessHandle#descendants()` / `#children()` not provide what you&#39;re looking for?","body":"Does <code>ProcessHandle#descendants()</code> / <code>#children()</code> not provide what you&#39;re looking for?"}],"answers":[{"tags":[],"owner":{"account_id":25945972,"reputation":1,"user_id":19664696,"display_name":"jack"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659430640,"creation_date":1659351348,"answer_id":73192678,"question_id":73191308,"body_markdown":"thank you [Slaw][1] found solution \r\n\r\n```\r\nprocessHandle.children().forEach(proc -&gt; proc.children().forEach(child -&gt; System.out.println(&quot;PID: [ &quot; + child.pid() + &quot; ], Cmd: [ &quot; + child.info().command() + &quot; ]&quot;)));\r\n```\r\n```                     \r\nStream&lt;ProcessHandle&gt; descendants = ProcessHandle.current().descendants();\r\n                        descendants.filter(ProcessHandle::isAlive)\r\n                          .forEach(ph -&gt; destroychildproc(ph.pid()));\r\n```\r\n```\r\n    private static void destroychildproc(long pid){\r\n        String cmd = &quot;taskkill /F /PID &quot; + pid;\r\n        try {\r\n            Runtime.getRuntime().exec(cmd);\r\n        } catch (Exception ex) {}\r\n    }\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/6395627/slaw","title":"java how get all processes launched by jar","body":"<p>thank you <a href=\"https://stackoverflow.com/users/6395627/slaw\">Slaw</a> found solution</p>\n<pre><code>processHandle.children().forEach(proc -&gt; proc.children().forEach(child -&gt; System.out.println(&quot;PID: [ &quot; + child.pid() + &quot; ], Cmd: [ &quot; + child.info().command() + &quot; ]&quot;)));\n</code></pre>\n<pre><code>Stream&lt;ProcessHandle&gt; descendants = ProcessHandle.current().descendants();\n                        descendants.filter(ProcessHandle::isAlive)\n                          .forEach(ph -&gt; destroychildproc(ph.pid()));\n</code></pre>\n<pre><code>    private static void destroychildproc(long pid){\n        String cmd = &quot;taskkill /F /PID &quot; + pid;\n        try {\n            Runtime.getRuntime().exec(cmd);\n        } catch (Exception ex) {}\n    }\n</code></pre>\n"}],"owner":{"account_id":25945972,"reputation":1,"user_id":19664696,"display_name":"jack"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659430640,"creation_date":1659344574,"question_id":73191308,"body_markdown":"In java I need to get processes launched by another jar. \r\n\r\nA.jar -&gt; B.jar -&gt;some app(get Ids)\r\n\r\nI have A.jar which launching B.jar, then B.jar launching some app (for example browser) I need get process id (PID) of this browser in A.jar and destroy this PID.\r\n\r\nA.jar\r\n```\r\npublic class A {\r\n    public static void main(String[] args) {\r\n        ProcessBuilder builder;\r\n        Process process = null;\r\n        try{\r\n\t\t\tList&lt;String&gt; command = new ArrayList&lt;String&gt;();\r\n\t\t    \r\n                        command.add(&quot;java&quot;);\r\n                        command.add(&quot;-jar&quot;);\r\n                        command.add(&quot;B.jar&quot;);\r\n\r\n                        builder = new ProcessBuilder(command);\t\t    \r\n                        process = builder.start();\r\n\r\n                        ProcessHandle processHandle = process.toHandle();\r\n                        destroyProcess(processHandle);\r\n                        //System.exit(0);\r\n                    }catch(Exception e){\r\n\t\t\te.printStackTrace();\t\t\t\r\n         }\r\n..\r\n..\r\nprivate static void destroyProcess(ProcessHandle processHandle){\r\n// destroy app of B.jar\r\n}\r\n```\r\n\r\nB.jar\r\n\r\n```\r\npublic class B{\r\npublic static void main(String[] args){\r\n  // launch browser\r\n  ChromeDriver driver = new ChromeDriver(options);\r\n}\r\n}\r\n```","title":"java how get all processes launched by jar","body":"<p>In java I need to get processes launched by another jar.</p>\n<p>A.jar -&gt; B.jar -&gt;some app(get Ids)</p>\n<p>I have A.jar which launching B.jar, then B.jar launching some app (for example browser) I need get process id (PID) of this browser in A.jar and destroy this PID.</p>\n<p>A.jar</p>\n<pre><code>public class A {\n    public static void main(String[] args) {\n        ProcessBuilder builder;\n        Process process = null;\n        try{\n            List&lt;String&gt; command = new ArrayList&lt;String&gt;();\n            \n                        command.add(&quot;java&quot;);\n                        command.add(&quot;-jar&quot;);\n                        command.add(&quot;B.jar&quot;);\n\n                        builder = new ProcessBuilder(command);          \n                        process = builder.start();\n\n                        ProcessHandle processHandle = process.toHandle();\n                        destroyProcess(processHandle);\n                        //System.exit(0);\n                    }catch(Exception e){\n            e.printStackTrace();            \n         }\n..\n..\nprivate static void destroyProcess(ProcessHandle processHandle){\n// destroy app of B.jar\n}\n</code></pre>\n<p>B.jar</p>\n<pre><code>public class B{\npublic static void main(String[] args){\n  // launch browser\n  ChromeDriver driver = new ChromeDriver(options);\n}\n}\n</code></pre>\n"},{"tags":["java","oracle","java-stored-procedures"],"comments":[{"owner":{"account_id":325607,"reputation":33143,"user_id":646887,"accept_rate":100,"display_name":"Klas Lindb&#228;ck"},"score":0,"creation_date":1318857174,"post_id":7794197,"comment_id":9493997,"body_markdown":"Does it happen when content is null or an empty string?","body":"Does it happen when content is null or an empty string?"},{"owner":{"account_id":98352,"reputation":4166,"user_id":266284,"accept_rate":87,"display_name":"medium"},"score":0,"creation_date":1318858233,"post_id":7794197,"comment_id":9494303,"body_markdown":"no, if I comment out the 4th param then everything works great.","body":"no, if I comment out the 4th param then everything works great."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1318858267,"post_id":7794197,"comment_id":9494312,"body_markdown":"Deleted my answer now that the question has been corrected... is `data` non-null?","body":"Deleted my answer now that the question has been corrected... is <code>data</code> non-null?"},{"owner":{"account_id":325607,"reputation":33143,"user_id":646887,"accept_rate":100,"display_name":"Klas Lindb&#228;ck"},"score":0,"creation_date":1318858335,"post_id":7794197,"comment_id":9494336,"body_markdown":"I meant: Does it happen when `data` is null or an empty string?","body":"I meant: Does it happen when <code>data</code> is null or an empty string?"},{"owner":{"account_id":98352,"reputation":4166,"user_id":266284,"accept_rate":87,"display_name":"medium"},"score":0,"creation_date":1318859643,"post_id":7794197,"comment_id":9494728,"body_markdown":"no it will not happen if data is null, it only happens when there is content in the byte[] array","body":"no it will not happen if data is null, it only happens when there is content in the byte[] array"},{"owner":{"account_id":254603,"reputation":15157,"user_id":534120,"display_name":"tbone"},"score":0,"creation_date":1318859827,"post_id":7794197,"comment_id":9494787,"body_markdown":"Maybe see this thread: http://stackoverflow.com/questions/862355/overcomplicated-oracle-jdbc-blob-handling","body":"Maybe see this thread: <a href=\"http://stackoverflow.com/questions/862355/overcomplicated-oracle-jdbc-blob-handling\" title=\"overcomplicated oracle jdbc blob handling\">stackoverflow.com/questions/862355/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":67639,"reputation":16346,"user_id":197831,"accept_rate":89,"display_name":"M.J."},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1318873514,"creation_date":1318873514,"answer_id":7797493,"question_id":7794197,"body_markdown":"try with the below code, this should work for you :-\r\n\r\n    Blob blobValue = new SerialBlob(data);\r\n    pstmt.setBlob(4, blobValue);","title":"Inserting byte[] array as blob in Oracle Database getting ORA-01460: unimplemented or unreasonable conversion requested","body":"<p>try with the below code, this should work for you :-</p>\n\n<pre><code>Blob blobValue = new SerialBlob(data);\npstmt.setBlob(4, blobValue);\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user330315"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1659430415,"creation_date":1377511705,"answer_id":18441601,"question_id":7794197,"body_markdown":"If I recall correctly the Oracle JDBC drivers (at least in the older ones - you didn&#39;t tell us which version you are using) don&#39;t support `setBytes()` (or `getBytes()`).\r\n\r\nIn my experience, using `setBinaryStream()` is much more reliable and stable:\r\n\r\n    InputStream in = new ByteArrayInputStream(data);\r\n    pstmt.setBinaryStream(4, in, data.length);\r\n\r\n","title":"Inserting byte[] array as blob in Oracle Database getting ORA-01460: unimplemented or unreasonable conversion requested","body":"<p>If I recall correctly the Oracle JDBC drivers (at least in the older ones - you didn't tell us which version you are using) don't support <code>setBytes()</code> (or <code>getBytes()</code>).</p>\n<p>In my experience, using <code>setBinaryStream()</code> is much more reliable and stable:</p>\n<pre><code>InputStream in = new ByteArrayInputStream(data);\npstmt.setBinaryStream(4, in, data.length);\n</code></pre>\n"}],"owner":{"account_id":98352,"reputation":4166,"user_id":266284,"accept_rate":87,"display_name":"medium"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23367,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1659430415,"creation_date":1318856857,"question_id":7794197,"body_markdown":"I have a java stored procedure that I am trying to insert a byte[] array into an oracle blob field in a table. \r\n\r\nI create a prepared statement as follows but it will randomly fail when I execute the prepared statement. I have narrowed down that the issue is coming from the pstmt.setBytes(4,content). The error I get is:\r\n\r\n&gt; ORA-01460: unimplemented or unreasonable conversion requested. \r\n\r\n    private static void insertFile(Connection connOracle, int zipFileId, byte[] data, String filepath, String filename ) throws SQLException {\r\n\t\t\r\n    try {\r\n        String QUERY = &quot;INSERT INTO files(file_id, zip_file_id, filename, file_path, content) VALUES(SEQ_FILE_ID.nextval,?,?,?,?)&quot;;\r\n   \r\n        PreparedStatement pstmt = connOracle.prepareStatement(QUERY);\r\n\t\t\t\r\n        pstmt.setInt(1,zipFileId);\r\n        pstmt.setString(2, filename);\r\n        pstmt.setString(3, filepath);\r\n        pstmt.setBytes(4, data);\r\n\t\t\t\r\n        System.out.println(&quot;INSERTING file_id &quot; + filepath + &quot;, &quot; + filename + &quot; INTO DATABASE&quot;);\r\n\t\t\t\r\n        pstmt.execute();\r\n        pstmt.close();\r\n    }\r\n    catch (SQLException e) {\r\n        throw new SQLException(e.getMessage());  \r\n    }\r\n\r\n","title":"Inserting byte[] array as blob in Oracle Database getting ORA-01460: unimplemented or unreasonable conversion requested","body":"<p>I have a java stored procedure that I am trying to insert a byte[] array into an oracle blob field in a table. </p>\n\n<p>I create a prepared statement as follows but it will randomly fail when I execute the prepared statement. I have narrowed down that the issue is coming from the pstmt.setBytes(4,content). The error I get is:</p>\n\n<blockquote>\n  <p>ORA-01460: unimplemented or unreasonable conversion requested. </p>\n</blockquote>\n\n<pre><code>private static void insertFile(Connection connOracle, int zipFileId, byte[] data, String filepath, String filename ) throws SQLException {\n\ntry {\n    String QUERY = \"INSERT INTO files(file_id, zip_file_id, filename, file_path, content) VALUES(SEQ_FILE_ID.nextval,?,?,?,?)\";\n\n    PreparedStatement pstmt = connOracle.prepareStatement(QUERY);\n\n    pstmt.setInt(1,zipFileId);\n    pstmt.setString(2, filename);\n    pstmt.setString(3, filepath);\n    pstmt.setBytes(4, data);\n\n    System.out.println(\"INSERTING file_id \" + filepath + \", \" + filename + \" INTO DATABASE\");\n\n    pstmt.execute();\n    pstmt.close();\n}\ncatch (SQLException e) {\n    throw new SQLException(e.getMessage());  \n}\n</code></pre>\n"},{"tags":["java","javafx","drag-and-drop","outlook","javafx-8"],"answers":[{"tags":[],"owner":{"account_id":131793,"reputation":64005,"user_id":332059,"accept_rate":57,"display_name":"Dmitry Streblechenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1424181987,"creation_date":1424181987,"answer_id":28563267,"question_id":28562885,"body_markdown":"It is a private format as the name suggests. But you will get CF_FILEDESCRIPTOR and CF_FILECONTENTS formats.","title":"JavaFX - Outlook attachments - DnD","body":"<p>It is a private format as the name suggests. But you will get CF_FILEDESCRIPTOR and CF_FILECONTENTS formats.</p>\n"},{"tags":[],"owner":{"account_id":5676673,"reputation":191,"user_id":4489577,"display_name":"Dean Wookey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659430371,"creation_date":1659098192,"answer_id":73166861,"question_id":28562885,"body_markdown":"Edit: This only works for the system clipboard. Still unable to get the dragboard to work with outlook attachments.\r\n\r\nYou can take a look at this answer: https://stackoverflow.com/a/73166666/4489577\r\n\r\nEssentially if you know you have something with message/external-body;access-type=clipboard, you can use:\r\n\r\n```java\r\nDataFormat df = DataFormat.lookupMimeType(&quot;message/external-body&quot;);\r\nif (df == null) {\r\n  df = new DataFormat(&quot;message/external-body&quot;);\r\n}\r\nObject inMemoryFile = clipboard.getContent(df);\r\n```\r\n\r\nto access it. Using the full mime type gives null when you use getContent().\r\n\r\nThen you can just cast it to ByteBuffer and do whatever you want with the file&#39;s bytes.","title":"JavaFX - Outlook attachments - DnD","body":"<p>Edit: This only works for the system clipboard. Still unable to get the dragboard to work with outlook attachments.</p>\n<p>You can take a look at this answer: <a href=\"https://stackoverflow.com/a/73166666/4489577\">https://stackoverflow.com/a/73166666/4489577</a></p>\n<p>Essentially if you know you have something with message/external-body;access-type=clipboard, you can use:</p>\n<pre class=\"lang-java prettyprint-override\"><code>DataFormat df = DataFormat.lookupMimeType(&quot;message/external-body&quot;);\nif (df == null) {\n  df = new DataFormat(&quot;message/external-body&quot;);\n}\nObject inMemoryFile = clipboard.getContent(df);\n</code></pre>\n<p>to access it. Using the full mime type gives null when you use getContent().</p>\n<p>Then you can just cast it to ByteBuffer and do whatever you want with the file's bytes.</p>\n"}],"owner":{"account_id":5684580,"reputation":31,"user_id":4494546,"display_name":"reiga"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1008,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1659430371,"creation_date":1424180580,"question_id":28562885,"body_markdown":"Hello i need a DnD Solution to Drag Outlook Mail Attachments to a Stackpane.\r\n\r\nJavaFX / Outlook 2010\r\n\r\n        \r\n        stackpaneDragAndDropZone.setOnDragOver((DragEvent event) -&gt; {\r\n            Dragboard db = event.getDragboard();\r\n            System.out.println(db.getContentTypes());\r\n        });\r\n\r\nHas this Output:\r\n\r\n    [[message/external-body;access-type=clipboard;index=0;name=&quot;faxdoc-150217-1300-+49-206581978.pdf&quot;], [RenPrivateItem]]\r\n\r\nHow can i use this RenPrivateItem?\r\n\r\nOn regular Java i got a file with this code:\r\n\r\n        dropTarget.addDropTargetListener(new DropTargetAdapter() {\r\n            public void drop(DropTargetDropEvent dtde) {\r\n                Transferable t = dtde.getTransferable();\r\n\r\n                try {\r\n                    DataFlavor[] dataFlavors = t.getTransferDataFlavors();\r\n\r\n                    dtde.acceptDrop(DnDConstants.ACTION_COPY);\r\n\r\n                    //create a temp file\r\n                    File temp = File.createTempFile(&quot;temp-file-name&quot;, &quot;.tmp&quot;);\r\n\r\n                    for (int i = 0; i &lt; dataFlavors.length; i++) {\r\n                        File file = new File(t.getTransferData(dataFlavors[i]).toString().replace(&quot;[&quot;, &quot;&quot;).replace(&quot;]&quot;, &quot;&quot;));\r\n                        Desktop.getDesktop().open(new File(file.getCanonicalPath()));\r\n                    }\r\n\r\n                    dtde.dropComplete(true);\r\n\r\n                } catch (Exception ex) {\r\n\r\n                    ex.printStackTrace();\r\n\r\n                }\r\n\r\n            }\r\n\r\n        });","title":"JavaFX - Outlook attachments - DnD","body":"<p>Hello i need a DnD Solution to Drag Outlook Mail Attachments to a Stackpane.</p>\n\n<p>JavaFX / Outlook 2010</p>\n\n<pre><code>    stackpaneDragAndDropZone.setOnDragOver((DragEvent event) -&gt; {\n        Dragboard db = event.getDragboard();\n        System.out.println(db.getContentTypes());\n    });\n</code></pre>\n\n<p>Has this Output:</p>\n\n<pre><code>[[message/external-body;access-type=clipboard;index=0;name=\"faxdoc-150217-1300-+49-206581978.pdf\"], [RenPrivateItem]]\n</code></pre>\n\n<p>How can i use this RenPrivateItem?</p>\n\n<p>On regular Java i got a file with this code:</p>\n\n<pre><code>    dropTarget.addDropTargetListener(new DropTargetAdapter() {\n        public void drop(DropTargetDropEvent dtde) {\n            Transferable t = dtde.getTransferable();\n\n            try {\n                DataFlavor[] dataFlavors = t.getTransferDataFlavors();\n\n                dtde.acceptDrop(DnDConstants.ACTION_COPY);\n\n                //create a temp file\n                File temp = File.createTempFile(\"temp-file-name\", \".tmp\");\n\n                for (int i = 0; i &lt; dataFlavors.length; i++) {\n                    File file = new File(t.getTransferData(dataFlavors[i]).toString().replace(\"[\", \"\").replace(\"]\", \"\"));\n                    Desktop.getDesktop().open(new File(file.getCanonicalPath()));\n                }\n\n                dtde.dropComplete(true);\n\n            } catch (Exception ex) {\n\n                ex.printStackTrace();\n\n            }\n\n        }\n\n    });\n</code></pre>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":421818,"reputation":1616,"user_id":800242,"accept_rate":86,"display_name":"Kevin Qiu"},"score":0,"creation_date":1436890827,"post_id":31411989,"comment_id":50797299,"body_markdown":"Are you using Java 8? I believe they removed PermGen in that version. Try removing the PermSize argument.","body":"Are you using Java 8? I believe they removed PermGen in that version. Try removing the PermSize argument."},{"owner":{"account_id":5867354,"reputation":539,"user_id":4620853,"accept_rate":71,"display_name":"Caesium95"},"score":0,"creation_date":1436891190,"post_id":31411989,"comment_id":50797529,"body_markdown":"@KevinQiu Yes Kevin. My JDK version is 1.8.0_45. Can you teach me how to remove the PermSize argument? Sorry, android newbie here.","body":"@KevinQiu Yes Kevin. My JDK version is 1.8.0_45. Can you teach me how to remove the PermSize argument? Sorry, android newbie here."},{"owner":{"account_id":421818,"reputation":1616,"user_id":800242,"accept_rate":86,"display_name":"Kevin Qiu"},"score":1,"creation_date":1436891577,"post_id":31411989,"comment_id":50797792,"body_markdown":"You could try grepping through your project directory to see where vm arguments are being set.","body":"You could try grepping through your project directory to see where vm arguments are being set."},{"owner":{"account_id":224004,"reputation":4938,"user_id":483588,"accept_rate":71,"display_name":"Ujjwal Singh"},"score":0,"creation_date":1457651566,"post_id":31411989,"comment_id":59516870,"body_markdown":"Remove `~\\.gradle` directory (@home) and restart `AS`. see: http://stackoverflow.com/a/27516679/483588","body":"Remove <code>~\\.gradle</code> directory (@home) and restart <code>AS</code>. see: <a href=\"http://stackoverflow.com/a/27516679/483588\">stackoverflow.com/a/27516679/483588</a>"},{"owner":{"account_id":110909,"reputation":45713,"user_id":293280,"accept_rate":77,"display_name":"Joshua Pinter"},"score":0,"creation_date":1625079227,"post_id":31411989,"comment_id":120535057,"body_markdown":"Just a quick note that I had this (for some reason) in my `gradle.properties` file under the `org.gradle.jvmargs` key. Worth checking that. If not, it may also be worth checking if it&#39;s somewhere in your project with `grep -r MaxPermSize .`.","body":"Just a quick note that I had this (for some reason) in my <code>gradle.properties</code> file under the <code>org.gradle.jvmargs</code> key. Worth checking that. If not, it may also be worth checking if it&#39;s somewhere in your project with <code>grep -r MaxPermSize .</code>."}],"answers":[{"tags":[],"owner":{"account_id":1174445,"reputation":3883,"user_id":1150795,"display_name":"Piotr Wittchen"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1441465409,"creation_date":1436899584,"answer_id":31414868,"question_id":31411989,"body_markdown":"As it was already said in this thread, [Permanent Generation was removed in Java 8][1], which is used in your case. I think, the easiest solution is to remove parameters associated with Permanent Generation during program execution.\r\n\r\nGo to the directory where you have Android Studio. Then go to the `bin/` subdirectory. Locate the following files, which contains Java Virtual Machine options:\r\n\r\n* `studio.vmoptions`\r\n* `studio64.vmoptions`\r\n\r\nOpen these files and locate line with `MaxPerSize` parameter. It should look as follows:\r\n\r\n`XX:MaxPermSize=256m`\r\n\r\nRemove this line in both files. I don&#39;t know if you are using 32-bit or 64-bit operating system, so you can update both files just in case.\r\n\r\nI&#39;m not sure if it will solve your problem, but I would try it in such situation. In my case, with this option and Java 8, I just get the warning, but Android Studio starts anyway. After removing this parameter, Android Studio still starts, but without warning. I&#39;m using Ubuntu 14.04 LTS.\r\n\r\n**EDIT**:\r\n\r\nThere is another solution for this problem described here: https://stackoverflow.com/a/27913562/1150795. \r\n\r\nGo to **File &gt; Other Settings &gt; Default Project Structure &gt; JDK location** and check the path.\r\n\r\nIn case of Ubuntu Linux, we can set `/usr/lib/jvm/java-7-oracle` as default JDK if we are using Oracle JVM. JDK 7 is the safest option for Android.\r\n\r\n  [1]: http://openjdk.java.net/jeps/122","title":"Android Studio - Unrecognized VM option &#39;MaxPermSize=256m&#39;","body":"<p>As it was already said in this thread, <a href=\"http://openjdk.java.net/jeps/122\" rel=\"noreferrer\">Permanent Generation was removed in Java 8</a>, which is used in your case. I think, the easiest solution is to remove parameters associated with Permanent Generation during program execution.</p>\n\n<p>Go to the directory where you have Android Studio. Then go to the <code>bin/</code> subdirectory. Locate the following files, which contains Java Virtual Machine options:</p>\n\n<ul>\n<li><code>studio.vmoptions</code></li>\n<li><code>studio64.vmoptions</code></li>\n</ul>\n\n<p>Open these files and locate line with <code>MaxPerSize</code> parameter. It should look as follows:</p>\n\n<p><code>XX:MaxPermSize=256m</code></p>\n\n<p>Remove this line in both files. I don't know if you are using 32-bit or 64-bit operating system, so you can update both files just in case.</p>\n\n<p>I'm not sure if it will solve your problem, but I would try it in such situation. In my case, with this option and Java 8, I just get the warning, but Android Studio starts anyway. After removing this parameter, Android Studio still starts, but without warning. I'm using Ubuntu 14.04 LTS.</p>\n\n<p><strong>EDIT</strong>:</p>\n\n<p>There is another solution for this problem described here: <a href=\"https://stackoverflow.com/a/27913562/1150795\">https://stackoverflow.com/a/27913562/1150795</a>. </p>\n\n<p>Go to <strong>File > Other Settings > Default Project Structure > JDK location</strong> and check the path.</p>\n\n<p>In case of Ubuntu Linux, we can set <code>/usr/lib/jvm/java-7-oracle</code> as default JDK if we are using Oracle JVM. JDK 7 is the safest option for Android.</p>\n"},{"tags":[],"owner":{"account_id":6964437,"reputation":29,"user_id":5364239,"display_name":"Li Hao"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1442938124,"creation_date":1442938124,"answer_id":32721707,"question_id":31411989,"body_markdown":"Oh I&#39;ve solved this problem, I install Oracle JDK 9 when android studio runs on JDK 6 or JDK 7 (if I&#39;m not mistaken).\r\nso I uninstalled Oracle JDK 9, then download and install the JDK 7.","title":"Android Studio - Unrecognized VM option &#39;MaxPermSize=256m&#39;","body":"<p>Oh I've solved this problem, I install Oracle JDK 9 when android studio runs on JDK 6 or JDK 7 (if I'm not mistaken).\nso I uninstalled Oracle JDK 9, then download and install the JDK 7.</p>\n"},{"tags":[],"owner":{"account_id":3977983,"reputation":574,"user_id":3613216,"display_name":"foo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1501781701,"creation_date":1501781701,"answer_id":45491065,"question_id":31411989,"body_markdown":"In my case opening `$ANDROID_HOME/tools/lib/monitor-x86_64/monitor.ini` and removing\r\n\r\n`XX:MaxPermSize=256m`\r\n\r\nfrom it did the job.","title":"Android Studio - Unrecognized VM option &#39;MaxPermSize=256m&#39;","body":"<p>In my case opening <code>$ANDROID_HOME/tools/lib/monitor-x86_64/monitor.ini</code> and removing</p>\n\n<p><code>XX:MaxPermSize=256m</code></p>\n\n<p>from it did the job.</p>\n"},{"tags":[],"owner":{"account_id":65347,"reputation":56309,"user_id":192373,"accept_rate":74,"display_name":"Alex Cohn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1519644797,"creation_date":1519644797,"answer_id":48987551,"question_id":31411989,"body_markdown":"On MacOS the following clause in **./gradlew** injects this option:\r\n\r\n    # For Darwin, add options to specify how the application appears in the dock\r\n    if $darwin; then\r\n      GRADLE_OPTS=&quot;$GRADLE_OPTS \\&quot;-Xdock:name=$APP_NAME\\&quot; \\&quot;-Xdock:icon=$APP_HOME/media/gradle.icns\\&quot; \\&quot;-Xmx1024m\\&quot; \\&quot;-Xms256m\\&quot; \\&quot;-XX:MaxPermSize=1024m\\&quot;&quot;\r\n    fi\r\n\r\nThis file can be edited by hand after the project has been generated.","title":"Android Studio - Unrecognized VM option &#39;MaxPermSize=256m&#39;","body":"<p>On MacOS the following clause in <strong>./gradlew</strong> injects this option:</p>\n\n<pre><code># For Darwin, add options to specify how the application appears in the dock\nif $darwin; then\n  GRADLE_OPTS=\"$GRADLE_OPTS \\\"-Xdock:name=$APP_NAME\\\" \\\"-Xdock:icon=$APP_HOME/media/gradle.icns\\\" \\\"-Xmx1024m\\\" \\\"-Xms256m\\\" \\\"-XX:MaxPermSize=1024m\\\"\"\nfi\n</code></pre>\n\n<p>This file can be edited by hand after the project has been generated.</p>\n"},{"tags":[],"owner":{"account_id":5920746,"reputation":1601,"user_id":4658157,"accept_rate":79,"display_name":"Phate P"},"down_vote_count":2,"up_vote_count":42,"is_accepted":false,"score":40,"last_activity_date":1634646070,"creation_date":1634646070,"answer_id":69630720,"question_id":31411989,"body_markdown":"In my case I had a line\r\n\r\n    org.gradle.jvmargs=-Xmx6408m -XX:MaxPermSize=6408m -XX:+HeapDumpOnOutOfMemoryError\r\n\r\nin my `gradle.properties` file in the project structure. \r\n\r\nremoving `-XX:MaxPermSize=6408m` from that file fixed an issue","title":"Android Studio - Unrecognized VM option &#39;MaxPermSize=256m&#39;","body":"<p>In my case I had a line</p>\n<pre><code>org.gradle.jvmargs=-Xmx6408m -XX:MaxPermSize=6408m -XX:+HeapDumpOnOutOfMemoryError\n</code></pre>\n<p>in my <code>gradle.properties</code> file in the project structure.</p>\n<p>removing <code>-XX:MaxPermSize=6408m</code> from that file fixed an issue</p>\n"},{"tags":[],"owner":{"account_id":18674266,"reputation":9,"user_id":13612291,"display_name":"Ari Prasath Anandan"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1648209187,"creation_date":1648209187,"answer_id":71616556,"question_id":31411989,"body_markdown":"i had the same issue and i was able to solve it by adding this directly in the terminal\r\n\r\nexport JAVA_VERSION=1.8\r\n\r\nand then try the \r\n","title":"Android Studio - Unrecognized VM option &#39;MaxPermSize=256m&#39;","body":"<p>i had the same issue and i was able to solve it by adding this directly in the terminal</p>\n<p>export JAVA_VERSION=1.8</p>\n<p>and then try the</p>\n"},{"tags":[],"owner":{"account_id":4288197,"reputation":588,"user_id":3505241,"display_name":"RedSIght"},"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1659429929,"creation_date":1659429929,"answer_id":73204533,"question_id":31411989,"body_markdown":"`-XX:MaxPermSize` was deprecated in JDK 8, marked as obsolete in JDK 16, and removed in JDK 17. It was superseded by the `-XX:MaxMetaspaceSize` option. \r\n\r\nChange `-XX:MaxPermSize` to `-XX:MaxMetaspaceSize` solve my problem.\r\n\r\n\r\nref:\r\n1. https://github.com/expo/expo-cli/issues/4196#issuecomment-1035850918\r\n2. https://docs.oracle.com/en/java/javase/17/docs/specs/man/java.html#removed-java-options","title":"Android Studio - Unrecognized VM option &#39;MaxPermSize=256m&#39;","body":"<p><code>-XX:MaxPermSize</code> was deprecated in JDK 8, marked as obsolete in JDK 16, and removed in JDK 17. It was superseded by the <code>-XX:MaxMetaspaceSize</code> option.</p>\n<p>Change <code>-XX:MaxPermSize</code> to <code>-XX:MaxMetaspaceSize</code> solve my problem.</p>\n<p>ref:</p>\n<ol>\n<li><a href=\"https://github.com/expo/expo-cli/issues/4196#issuecomment-1035850918\" rel=\"noreferrer\">https://github.com/expo/expo-cli/issues/4196#issuecomment-1035850918</a></li>\n<li><a href=\"https://docs.oracle.com/en/java/javase/17/docs/specs/man/java.html#removed-java-options\" rel=\"noreferrer\">https://docs.oracle.com/en/java/javase/17/docs/specs/man/java.html#removed-java-options</a></li>\n</ol>\n"}],"owner":{"account_id":5867354,"reputation":539,"user_id":4620853,"accept_rate":71,"display_name":"Caesium95"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63960,"favorite_count":0,"down_vote_count":0,"up_vote_count":33,"answer_count":7,"score":33,"last_activity_date":1659429929,"creation_date":1436890455,"question_id":31411989,"body_markdown":"I just installed Android Studio on Elementary OS 0.3 Freya and run it using the terminal. On my first start-up, however, there&#39;s an error message shown:\r\n\r\n&gt; Gradle &#39;Test&#39; project refresh failed\r\n&gt; \r\n&gt; Unable to start the daemon process. This problem might be caused by\r\n&gt; incorrect configuration of the daemon. For example, an unrecognized\r\n&gt; jvm option is used. Please refer to the user guide chapter on the\r\n&gt; daemon at http://gradle.org/docs/2.2.1/userguide/gradle_daemon.html\r\n&gt; Please read the following process output to find out more:\r\n&gt; \r\n&gt; Unrecognized VM option &#39;MaxPermSize=256m&#39; Error: Could not create the\r\n&gt; Java Virtual Machine. Error: A fatal exception has occurred. Program\r\n&gt; will exit.\r\n\r\nI read [this][1] and tried all the ways to solve it but to no avail. I did notice that his error was somewhat different from mine and thought that might be why I couldn&#39;t solve my problem using the ways suggested. \r\n\r\nAs I executed the .sh file on my terminal, it printed:\r\n\r\n&gt; Java HotSpot(TM) Server VM warning: ignoring option MaxPermSize=250m;\r\n&gt; support was removed in 8.0\r\n&gt; \r\n&gt; (java:5094): Gtk-WARNING **: Unable to locate theme engine in\r\n&gt; module_path: &quot;pixmap&quot;\r\n&gt; \r\n&gt; Gtk-Message: Failed to load module &quot;canberra-gtk-module&quot;\r\n\r\nI&#39;m not sure whether it&#39;s related to the error or not. Please help.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/27704587/gradle-project-sync-failed-basic-functionalitye-g-editing-debugging-will-not","title":"Android Studio - Unrecognized VM option &#39;MaxPermSize=256m&#39;","body":"<p>I just installed Android Studio on Elementary OS 0.3 Freya and run it using the terminal. On my first start-up, however, there's an error message shown:</p>\n\n<blockquote>\n  <p>Gradle 'Test' project refresh failed</p>\n  \n  <p>Unable to start the daemon process. This problem might be caused by\n  incorrect configuration of the daemon. For example, an unrecognized\n  jvm option is used. Please refer to the user guide chapter on the\n  daemon at <a href=\"http://gradle.org/docs/2.2.1/userguide/gradle_daemon.html\" rel=\"noreferrer\">http://gradle.org/docs/2.2.1/userguide/gradle_daemon.html</a>\n  Please read the following process output to find out more:</p>\n  \n  <p>Unrecognized VM option 'MaxPermSize=256m' Error: Could not create the\n  Java Virtual Machine. Error: A fatal exception has occurred. Program\n  will exit.</p>\n</blockquote>\n\n<p>I read <a href=\"https://stackoverflow.com/questions/27704587/gradle-project-sync-failed-basic-functionalitye-g-editing-debugging-will-not\">this</a> and tried all the ways to solve it but to no avail. I did notice that his error was somewhat different from mine and thought that might be why I couldn't solve my problem using the ways suggested. </p>\n\n<p>As I executed the .sh file on my terminal, it printed:</p>\n\n<blockquote>\n  <p>Java HotSpot(TM) Server VM warning: ignoring option MaxPermSize=250m;\n  support was removed in 8.0</p>\n  \n  <p>(java:5094): Gtk-WARNING **: Unable to locate theme engine in\n  module_path: \"pixmap\"</p>\n  \n  <p>Gtk-Message: Failed to load module \"canberra-gtk-module\"</p>\n</blockquote>\n\n<p>I'm not sure whether it's related to the error or not. Please help.</p>\n"},{"tags":["java","spring-boot","email"],"comments":[{"owner":{"account_id":10171463,"reputation":71,"user_id":7511632,"display_name":"kkid"},"score":0,"creation_date":1659430423,"post_id":73204489,"comment_id":129287135,"body_markdown":"Have a look at this: https://stackoverflow.com/questions/73034101/resolved-spring-boot-starter-mail-failed-to-access-class-com-sun-activation","body":"Have a look at this: <a href=\"https://stackoverflow.com/questions/73034101/resolved-spring-boot-starter-mail-failed-to-access-class-com-sun-activation\" title=\"resolved spring boot starter mail failed to access class com sun activation\">stackoverflow.com/questions/73034101/&hellip;</a>"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1659430684,"post_id":73204489,"comment_id":129287248,"body_markdown":"Your XML dependencies aren&#39;t compatible remove those as well as the activation one. That being said, instead of manually sending a mail use the Spring `JavaMailSender` and put the configuration in your application.properties.","body":"Your XML dependencies aren&#39;t compatible remove those as well as the activation one. That being said, instead of manually sending a mail use the Spring <code>JavaMailSender</code> and put the configuration in your application.properties."}],"owner":{"account_id":23299634,"reputation":1,"user_id":17380495,"display_name":"H22A5"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2715,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659429818,"creation_date":1659429739,"question_id":73204489,"body_markdown":"I am implementing a service for sending emails. My company provided me only the SMTP host. When I am trying to send the MimeMessage I am facing an exception: \r\n\r\n    Handler dispatch failed; nested exception is java.lang.IllegalAccessError: failed to access class com.sun.activation.registries.LogSupport from class javax.activation.MailcapCommandMap (com.sun.activation.registries.LogSupport and javax.activation.MailcapCommandMap are in unnamed module of loader &#39;app&#39;)\r\n\r\nGradle implementations:\r\n\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-amqp&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-log4j2&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-validation&#39;\r\n    implementation &#39;com.google.code.gson:gson:2.9.0&#39;\r\n    implementation &#39;jakarta.xml.bind:jakarta.xml.bind-api:4.0.0&#39;\r\n    implementation &#39;jakarta.activation:jakarta.activation-api:2.1.0&#39;\r\n    implementation &#39;com.sun.xml.bind:jaxb-impl:4.0.0&#39;\r\n    implementation &#39;org.hudsonci.libs:hudson-jaxb:2.2.0&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-mail&#39;\r\n\r\nCode:\r\n\r\n      @Async\r\n      @SneakyThrows\r\n      public void sendMail(MailDTO mailDTO) {\r\n        log.info(&quot;Sending mail to {}&quot;, mailDTO.to());\r\n        MimeMessage message= new MimeMessage(Session.getDefaultInstance(System.getProperties()));\r\n        message.addRecipient(Message.RecipientType.TO, new InternetAddress(mailDTO.to()));\r\n        message.setFrom(new InternetAddress(&quot;test@test.com&quot;));\r\n        message.setSubject(mailDTO.subject());\r\n        message.setContent(mailDTO.content(), &quot;text/plain&quot;);\r\n        Transport.send(message);\r\n        log.info(&quot;Email sent to {}&quot;, mailDTO.to());\r\n      }\r\n\r\nIn application.properties I am able to have only **mail.smtp.host**.","title":"SpringBootStarterMail-IllegalAccessError:failed to access class com.sun.activation.registries.LogSupport from class javax.activation.MailcapCommandMap","body":"<p>I am implementing a service for sending emails. My company provided me only the SMTP host. When I am trying to send the MimeMessage I am facing an exception:</p>\n<pre><code>Handler dispatch failed; nested exception is java.lang.IllegalAccessError: failed to access class com.sun.activation.registries.LogSupport from class javax.activation.MailcapCommandMap (com.sun.activation.registries.LogSupport and javax.activation.MailcapCommandMap are in unnamed module of loader 'app')\n</code></pre>\n<p>Gradle implementations:</p>\n<pre><code>implementation 'org.springframework.boot:spring-boot-starter-amqp'\nimplementation 'org.springframework.boot:spring-boot-starter-web'\nimplementation 'org.springframework.boot:spring-boot-starter-log4j2'\nimplementation 'org.springframework.boot:spring-boot-starter-data-jpa'\nimplementation 'org.springframework.boot:spring-boot-starter-validation'\nimplementation 'com.google.code.gson:gson:2.9.0'\nimplementation 'jakarta.xml.bind:jakarta.xml.bind-api:4.0.0'\nimplementation 'jakarta.activation:jakarta.activation-api:2.1.0'\nimplementation 'com.sun.xml.bind:jaxb-impl:4.0.0'\nimplementation 'org.hudsonci.libs:hudson-jaxb:2.2.0'\nimplementation 'org.springframework.boot:spring-boot-starter-mail'\n</code></pre>\n<p>Code:</p>\n<pre><code>  @Async\n  @SneakyThrows\n  public void sendMail(MailDTO mailDTO) {\n    log.info(&quot;Sending mail to {}&quot;, mailDTO.to());\n    MimeMessage message= new MimeMessage(Session.getDefaultInstance(System.getProperties()));\n    message.addRecipient(Message.RecipientType.TO, new InternetAddress(mailDTO.to()));\n    message.setFrom(new InternetAddress(&quot;test@test.com&quot;));\n    message.setSubject(mailDTO.subject());\n    message.setContent(mailDTO.content(), &quot;text/plain&quot;);\n    Transport.send(message);\n    log.info(&quot;Email sent to {}&quot;, mailDTO.to());\n  }\n</code></pre>\n<p>In application.properties I am able to have only <strong>mail.smtp.host</strong>.</p>\n"},{"tags":["java","macos","jar","native"],"answers":[{"tags":[],"owner":{"account_id":5130631,"reputation":38,"user_id":4110967,"display_name":"BlackSheep"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659429342,"creation_date":1659429342,"answer_id":73204380,"question_id":73204180,"body_markdown":"The most simple way would be to either open a terminal and manually running the binary, like so:\r\n\r\n    ./&lt;name-of-file&gt;\r\nThis would only work if you are running the file in a user who has execution privileges on that file. if you run into trouble with priviliges, that&#39;s where I would use chmod.\r\nIf you need any more specific help, I would recommend posting the link to that GitHub repo for us to look at, and telling us what is it that it should do.\r\n\r\n ","title":"Unable to execute native binaries file in MacOS?","body":"<p>The most simple way would be to either open a terminal and manually running the binary, like so:</p>\n<pre><code>./&lt;name-of-file&gt;\n</code></pre>\n<p>This would only work if you are running the file in a user who has execution privileges on that file. if you run into trouble with priviliges, that's where I would use chmod.\nIf you need any more specific help, I would recommend posting the link to that GitHub repo for us to look at, and telling us what is it that it should do.</p>\n"}],"owner":{"account_id":10278040,"reputation":2869,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1659495371,"accepted_answer_id":73204380,"answer_count":1,"score":-1,"last_activity_date":1659429342,"creation_date":1659428500,"question_id":73204180,"body_markdown":"I have found a Java application repository on GitHub which provides the application in JAR format and in the native binary format for different operating systems such as MacOS, Windows, Linux.\r\n\r\nI am able to execute the JAR file using the `java -jar` command but I would like to run the native binary file so users can execute it without installing the Java in their system.\r\n\r\nCan someone please inform me how can I run the binary file on Macos? I tried to search and found the command `chmod +x name-of-binary` but this command does not do anything.\r\n\r\n\r\nI am really new to this and do not have much idea about this so any suggestion would be really helpful.","title":"Unable to execute native binaries file in MacOS?","body":"<p>I have found a Java application repository on GitHub which provides the application in JAR format and in the native binary format for different operating systems such as MacOS, Windows, Linux.</p>\n<p>I am able to execute the JAR file using the <code>java -jar</code> command but I would like to run the native binary file so users can execute it without installing the Java in their system.</p>\n<p>Can someone please inform me how can I run the binary file on Macos? I tried to search and found the command <code>chmod +x name-of-binary</code> but this command does not do anything.</p>\n<p>I am really new to this and do not have much idea about this so any suggestion would be really helpful.</p>\n"},{"tags":["java","selenium"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1659430022,"post_id":73204342,"comment_id":129286963,"body_markdown":"Note you are passing an object, not a field. An object can be referenced by any number of fields, and those fields can belong to any number of classes. It could even be referenced by zero fields if you only assign the object to local variables. So, even if this were possible given your current setup, how would you guarantee that you return the &quot;correct&quot; class?","body":"Note you are passing an object, not a field. An object can be referenced by any number of fields, and those fields can belong to any number of classes. It could even be referenced by zero fields if you only assign the object to local variables. So, even if this were possible given your current setup, how would you guarantee that you return the &quot;correct&quot; class?"},{"owner":{"account_id":25955013,"reputation":1,"user_id":19672481,"display_name":"jekson_07"},"score":0,"creation_date":1659430307,"post_id":73204342,"comment_id":129287080,"body_markdown":"Understand you. Thx for help","body":"Understand you. Thx for help"},{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1659432726,"post_id":73204342,"comment_id":129287923,"body_markdown":"What exactly would you like to get? Since you&#39;re passing `By` to the method then the class would be extensions of `By`. Can you explain what would that returned class then be used for?","body":"What exactly would you like to get? Since you&#39;re passing <code>By</code> to the method then the class would be extensions of <code>By</code>. Can you explain what would that returned class then be used for?"}],"owner":{"account_id":25955013,"reputation":1,"user_id":19672481,"display_name":"jekson_07"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659429182,"creation_date":1659429182,"question_id":73204342,"body_markdown":" How can I get class where argument is from?\r\n\r\n I need to return Page.class from Utils.getClass.\r\n\r\nIs it possible?\r\n\r\n    public class Main {\r\n      public static void main(String[] args) {\r\n        Class classOfField = Utils.getClassOfField(Page.LOCATOR);\r\n      }\r\n    }\r\n    \r\n    public class Page {\r\n      public static final By LOCATOR = By.xpath(&quot;foo&quot;);\r\n    \r\n    }\r\n    \r\n    public class Utils {\r\n    \r\n      public static Class getClassOfField(By locator) {\r\n        // I need to return Page.class\r\n      }\r\n    }","title":"How can I get class where argument from?","body":"<p>How can I get class where argument is from?</p>\n<p>I need to return Page.class from Utils.getClass.</p>\n<p>Is it possible?</p>\n<pre><code>public class Main {\n  public static void main(String[] args) {\n    Class classOfField = Utils.getClassOfField(Page.LOCATOR);\n  }\n}\n\npublic class Page {\n  public static final By LOCATOR = By.xpath(&quot;foo&quot;);\n\n}\n\npublic class Utils {\n\n  public static Class getClassOfField(By locator) {\n    // I need to return Page.class\n  }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-security-oauth2"],"answers":[{"tags":[],"owner":{"account_id":10619935,"reputation":31,"user_id":7821362,"display_name":"Steve P"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650910745,"creation_date":1650910745,"answer_id":72004033,"question_id":71996838,"body_markdown":"This post brought me the idea that it might not be committed into DB:\r\nhttps://stackoverflow.com/questions/40568464/when-sharing-a-jdbc-connection-pool-between-spring-data-jpa-and-spring-security\r\n\r\nUsing this logging technique I could see the INSERT-statement was sent to DB\r\nhttps://vladmihalcea.com/the-best-way-to-log-jdbc-statements/\r\nbut no final log statement\r\n```\r\no.s.jdbc.core.JdbcTemplate               : SQL update affected 1 rows\r\n```\r\n\r\nI adopted my WebSecurityConfiguration like this:\r\n\r\n```java\r\n    @Bean\r\n    public OAuth2AuthorizedClientService oAuth2AuthorizedClientService() {\r\n        return new TransactionalJdbcOAuth2AuthorizedClientService(jdbcTemplate, repo);\r\n    }\r\n```\r\n\r\nand added:\r\n\r\n```java\r\n@Transactional(propagation = Propagation.REQUIRES_NEW)\r\npublic class TransactionalJdbcOAuth2AuthorizedClientService extends JdbcOAuth2AuthorizedClientService {\r\n\r\n    public TransactionalJdbcOAuth2AuthorizedClientService(final JdbcOperations jdbcOperations, final ClientRegistrationRepository clientRegistrationRepository) {\r\n        super(jdbcOperations, clientRegistrationRepository);\r\n    }\r\n    \r\n    @Override\r\n    public &lt;T extends OAuth2AuthorizedClient&gt; T loadAuthorizedClient(final String clientRegistrationId, final String principalName) {\r\n        return super.loadAuthorizedClient(clientRegistrationId, principalName);\r\n    }\r\n    \r\n    @Override\r\n    public void saveAuthorizedClient(final OAuth2AuthorizedClient authorizedClient, final Authentication principal) {\r\n        super.saveAuthorizedClient(authorizedClient, principal);\r\n    }\r\n\t\r\n    @Override\r\n    public void removeAuthorizedClient( final String clientRegistrationId, final String principalName) {\r\n        super.removeAuthorizedClient(clientRegistrationId, principalName);\r\n    }\r\n}\r\n```\r\n\r\nNow it is persisted! I asked myself: Am I the first person using Spring&#39;s JdbcOAuth2AuthorizedClientService? No hint in the JavaDoc or in any Spring documentation. Anyway, hopefully this hint will help someone else.\r\n","title":"Spring Boot oauth2 social login: Cannot login after session timeout","body":"<p>This post brought me the idea that it might not be committed into DB:\n<a href=\"https://stackoverflow.com/questions/40568464/when-sharing-a-jdbc-connection-pool-between-spring-data-jpa-and-spring-security\">When sharing a Jdbc connection pool between spring-data-jpa and spring-security-oauth&#39;s JdbcTokenStore, how to handle transactions?</a></p>\n<p>Using this logging technique I could see the INSERT-statement was sent to DB\n<a href=\"https://vladmihalcea.com/the-best-way-to-log-jdbc-statements/\" rel=\"nofollow noreferrer\">https://vladmihalcea.com/the-best-way-to-log-jdbc-statements/</a>\nbut no final log statement</p>\n<pre><code>o.s.jdbc.core.JdbcTemplate               : SQL update affected 1 rows\n</code></pre>\n<p>I adopted my WebSecurityConfiguration like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Bean\n    public OAuth2AuthorizedClientService oAuth2AuthorizedClientService() {\n        return new TransactionalJdbcOAuth2AuthorizedClientService(jdbcTemplate, repo);\n    }\n</code></pre>\n<p>and added:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Transactional(propagation = Propagation.REQUIRES_NEW)\npublic class TransactionalJdbcOAuth2AuthorizedClientService extends JdbcOAuth2AuthorizedClientService {\n\n    public TransactionalJdbcOAuth2AuthorizedClientService(final JdbcOperations jdbcOperations, final ClientRegistrationRepository clientRegistrationRepository) {\n        super(jdbcOperations, clientRegistrationRepository);\n    }\n    \n    @Override\n    public &lt;T extends OAuth2AuthorizedClient&gt; T loadAuthorizedClient(final String clientRegistrationId, final String principalName) {\n        return super.loadAuthorizedClient(clientRegistrationId, principalName);\n    }\n    \n    @Override\n    public void saveAuthorizedClient(final OAuth2AuthorizedClient authorizedClient, final Authentication principal) {\n        super.saveAuthorizedClient(authorizedClient, principal);\n    }\n    \n    @Override\n    public void removeAuthorizedClient( final String clientRegistrationId, final String principalName) {\n        super.removeAuthorizedClient(clientRegistrationId, principalName);\n    }\n}\n</code></pre>\n<p>Now it is persisted! I asked myself: Am I the first person using Spring's JdbcOAuth2AuthorizedClientService? No hint in the JavaDoc or in any Spring documentation. Anyway, hopefully this hint will help someone else.</p>\n"}],"owner":{"account_id":10619935,"reputation":31,"user_id":7821362,"display_name":"Steve P"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":462,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1659429025,"creation_date":1650876892,"question_id":71996838,"body_markdown":"I use social login in a spring boot container. This works fine, but when I keep the browser open over night, the next morning I cannot login any more. I need to restart the container and refresh the website, after this it works again.\r\n\r\nI hope to get this work by storing the authentication token also in the database by adding `JdbcOAuth2AuthorizedClientService`. Now, and this is the actual problem, the token is NOT PERSITED although I get these lines in the log:\r\n\r\n```\r\no.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query\r\no.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT client_registration_id, principal_name, access_token_type, access_token_value, access_token_issued_at, access_token_expires_at, access_token_scopes, refresh_token_value, refresh_token_issued_at FROM oauth2_authorized_client WHERE client_registration_id = ? AND principal_name = ?]\r\no.s.jdbc.datasource.DataSourceUtils      : Fetching JDBC Connection from DataSource\r\no.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 1, parameter value [google], value class [java.lang.String], SQL type 12\r\no.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 2, parameter value [XXXXXX], value class [java.lang.String], SQL type 12\r\no.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update\r\no.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [INSERT INTO oauth2_authorized_client (client_registration_id, principal_name, access_token_type, access_token_value, access_token_issued_at, access_token_expires_at, access_token_scopes, refresh_token_value, refresh_token_issued_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)]\r\no.s.jdbc.datasource.DataSourceUtils      : Fetching JDBC Connection from DataSource\r\no.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 1, parameter value [google], value class [java.lang.String], SQL type 12\r\no.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 2, parameter value [XXXXXX], value class [java.lang.String], SQL type 12\r\no.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 3, parameter value [Bearer], value class [java.lang.String], SQL type 12\r\no.s.jdbc.support.lob.DefaultLobHandler   : Set bytes for BLOB with length 165\r\no.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 5, parameter value [2022-04-25 09:56:57.137607903], value class [java.sql.Timestamp], SQL type 93\r\no.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 6, parameter value [2022-04-25 10:56:56.137607903], value class [java.sql.Timestamp], SQL type 93\r\no.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 7, parameter value [https://www.googleapis.com/auth/userinfo.profile,https://www.googleapis.com/auth/userinfo.email,openid], value class [java.lang.String], SQL type 12\r\no.s.jdbc.support.lob.DefaultLobHandler   : Set BLOB to null\r\no.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 9, parameter value [null], value class [null], SQL type 93\r\no.s.jdbc.core.JdbcTemplate               : SQL update affected 1 rows\r\n```\r\n\r\nThe table keeps empty. I tried with H2 and also PostgreSQL but no difference. The application itself is able to write records to tables using Spring data. No problem at all.\r\n\r\nHas anyone an idea? I appriciate for every hint  :-)\r\n\r\nThx,\r\nSteveP\r\n\r\nThis is my security configuration:\r\n\r\n```java\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class WebSecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n    @Autowired final MyAppMemberService memberService;\r\n    @Autowired private MyAppProperties properties;\r\n    @Resource private ClientRegistrationRepository repo;\r\n    @Resource private DataSource dataSource;\r\n    \r\n\t@Override\r\n    protected void configure(final HttpSecurity http) throws Exception {\r\n\t\tfinal RequestMatcher[] unprotectedGuiApi = new RequestMatcher[] {\r\n                new AntPathRequestMatcher(&quot;/api/v*/gui/currentUser&quot;),\r\n                new AntPathRequestMatcher(&quot;/api/v*/gui/oauth2-clients&quot;),\r\n\t\t};\r\n\t\tfinal RequestMatcher[] administrationApi = new RequestMatcher[] {\r\n\t\t        new AntPathRequestMatcher(&quot;/api/v*/administration/**&quot;)\r\n\t\t};\r\n        final RequestMatcher[] guiApi = new RequestMatcher[] {\r\n                new AntPathRequestMatcher(&quot;/api/v*/**&quot;),\r\n                new AntPathRequestMatcher(&quot;/logout&quot;),\r\n                new AntPathRequestMatcher(&quot;/**/oauth2/**&quot;),\r\n\t\t};\r\n\t\thttp\r\n                .requestMatchers()\r\n                    .requestMatchers(guiApi)\r\n                    .and()\r\n                .csrf()\r\n    \t\t\t\t.disable()\r\n    \t\t\t\t.cors()\r\n    \t\t\t\t.configurationSource(httpRequest -&gt; properties.getCors())\r\n    \t\t\t\t.and()\r\n    \t\t\t.headers()\r\n    \t\t\t\t.contentTypeOptions().disable()\r\n    \t\t        .frameOptions().disable()\r\n    \t\t        .and()\r\n                .sessionManagement()\r\n    \t            .sessionCreationPolicy(SessionCreationPolicy.IF_REQUIRED)\r\n    \t\t        .and()\r\n    \t\t\t.authorizeRequests()\r\n    \t            .antMatchers(HttpMethod.OPTIONS, &quot;/**&quot;).permitAll()\r\n                    .antMatchers(&quot;**/websocket/**&quot;).permitAll()\r\n                    .requestMatchers(unprotectedGuiApi).permitAll()\r\n                    .requestMatchers(administrationApi).hasRole(Role.ADMIN.name())\r\n                    .anyRequest().authenticated()\r\n    \t\t\t\t.and()\r\n    \t\t\t.logout()\r\n    \t\t\t\t.permitAll()\r\n    \t\t\t\t.logoutSuccessUrl(properties.getGatewayUrl()) // SPA endpoint\r\n    \t\t\t\t.and()\r\n                .oauth2Login()\r\n                    .loginPage(properties.getGatewayUrl() + &quot;/login&quot;)\r\n                    .authorizedClientService(oAuth2AuthorizedClientService())\r\n                    .userInfoEndpoint()\r\n                        .userService(oauth2UserService())\r\n                        .and()\r\n                    .successHandler(authenticationSuccessHandler());\r\n\t}\r\n\r\n    @Bean\r\n    public AuthenticationSuccessHandler authenticationSuccessHandler() {\r\n\t    // just registers new users on successful auth\r\n        return new MyAppAuthenticationSuccessHandler(properties, memberService);\r\n    }\r\n\r\n    @Bean\r\n    public OAuth2UserService oauth2UserService() {\r\n\t    // load member and roles from database\r\n        return new MyAppOAuth2UserService(memberService);\r\n\r\n    }\r\n\r\n    @Bean\r\n    public OAuth2AuthorizedClientService oAuth2AuthorizedClientService() {\r\n        return new JdbcOAuth2AuthorizedClientService(new JdbcTemplate(dataSource), repo);\r\n    }\r\n}\r\n```\r\n","title":"Spring Boot oauth2 social login: Cannot login after session timeout","body":"<p>I use social login in a spring boot container. This works fine, but when I keep the browser open over night, the next morning I cannot login any more. I need to restart the container and refresh the website, after this it works again.</p>\n<p>I hope to get this work by storing the authentication token also in the database by adding <code>JdbcOAuth2AuthorizedClientService</code>. Now, and this is the actual problem, the token is NOT PERSITED although I get these lines in the log:</p>\n<pre><code>o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query\no.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT client_registration_id, principal_name, access_token_type, access_token_value, access_token_issued_at, access_token_expires_at, access_token_scopes, refresh_token_value, refresh_token_issued_at FROM oauth2_authorized_client WHERE client_registration_id = ? AND principal_name = ?]\no.s.jdbc.datasource.DataSourceUtils      : Fetching JDBC Connection from DataSource\no.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 1, parameter value [google], value class [java.lang.String], SQL type 12\no.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 2, parameter value [XXXXXX], value class [java.lang.String], SQL type 12\no.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update\no.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [INSERT INTO oauth2_authorized_client (client_registration_id, principal_name, access_token_type, access_token_value, access_token_issued_at, access_token_expires_at, access_token_scopes, refresh_token_value, refresh_token_issued_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)]\no.s.jdbc.datasource.DataSourceUtils      : Fetching JDBC Connection from DataSource\no.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 1, parameter value [google], value class [java.lang.String], SQL type 12\no.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 2, parameter value [XXXXXX], value class [java.lang.String], SQL type 12\no.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 3, parameter value [Bearer], value class [java.lang.String], SQL type 12\no.s.jdbc.support.lob.DefaultLobHandler   : Set bytes for BLOB with length 165\no.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 5, parameter value [2022-04-25 09:56:57.137607903], value class [java.sql.Timestamp], SQL type 93\no.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 6, parameter value [2022-04-25 10:56:56.137607903], value class [java.sql.Timestamp], SQL type 93\no.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 7, parameter value [https://www.googleapis.com/auth/userinfo.profile,https://www.googleapis.com/auth/userinfo.email,openid], value class [java.lang.String], SQL type 12\no.s.jdbc.support.lob.DefaultLobHandler   : Set BLOB to null\no.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 9, parameter value [null], value class [null], SQL type 93\no.s.jdbc.core.JdbcTemplate               : SQL update affected 1 rows\n</code></pre>\n<p>The table keeps empty. I tried with H2 and also PostgreSQL but no difference. The application itself is able to write records to tables using Spring data. No problem at all.</p>\n<p>Has anyone an idea? I appriciate for every hint  :-)</p>\n<p>Thx,\nSteveP</p>\n<p>This is my security configuration:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfiguration extends WebSecurityConfigurerAdapter {\n    @Autowired final MyAppMemberService memberService;\n    @Autowired private MyAppProperties properties;\n    @Resource private ClientRegistrationRepository repo;\n    @Resource private DataSource dataSource;\n    \n    @Override\n    protected void configure(final HttpSecurity http) throws Exception {\n        final RequestMatcher[] unprotectedGuiApi = new RequestMatcher[] {\n                new AntPathRequestMatcher(&quot;/api/v*/gui/currentUser&quot;),\n                new AntPathRequestMatcher(&quot;/api/v*/gui/oauth2-clients&quot;),\n        };\n        final RequestMatcher[] administrationApi = new RequestMatcher[] {\n                new AntPathRequestMatcher(&quot;/api/v*/administration/**&quot;)\n        };\n        final RequestMatcher[] guiApi = new RequestMatcher[] {\n                new AntPathRequestMatcher(&quot;/api/v*/**&quot;),\n                new AntPathRequestMatcher(&quot;/logout&quot;),\n                new AntPathRequestMatcher(&quot;/**/oauth2/**&quot;),\n        };\n        http\n                .requestMatchers()\n                    .requestMatchers(guiApi)\n                    .and()\n                .csrf()\n                    .disable()\n                    .cors()\n                    .configurationSource(httpRequest -&gt; properties.getCors())\n                    .and()\n                .headers()\n                    .contentTypeOptions().disable()\n                    .frameOptions().disable()\n                    .and()\n                .sessionManagement()\n                    .sessionCreationPolicy(SessionCreationPolicy.IF_REQUIRED)\n                    .and()\n                .authorizeRequests()\n                    .antMatchers(HttpMethod.OPTIONS, &quot;/**&quot;).permitAll()\n                    .antMatchers(&quot;**/websocket/**&quot;).permitAll()\n                    .requestMatchers(unprotectedGuiApi).permitAll()\n                    .requestMatchers(administrationApi).hasRole(Role.ADMIN.name())\n                    .anyRequest().authenticated()\n                    .and()\n                .logout()\n                    .permitAll()\n                    .logoutSuccessUrl(properties.getGatewayUrl()) // SPA endpoint\n                    .and()\n                .oauth2Login()\n                    .loginPage(properties.getGatewayUrl() + &quot;/login&quot;)\n                    .authorizedClientService(oAuth2AuthorizedClientService())\n                    .userInfoEndpoint()\n                        .userService(oauth2UserService())\n                        .and()\n                    .successHandler(authenticationSuccessHandler());\n    }\n\n    @Bean\n    public AuthenticationSuccessHandler authenticationSuccessHandler() {\n        // just registers new users on successful auth\n        return new MyAppAuthenticationSuccessHandler(properties, memberService);\n    }\n\n    @Bean\n    public OAuth2UserService oauth2UserService() {\n        // load member and roles from database\n        return new MyAppOAuth2UserService(memberService);\n\n    }\n\n    @Bean\n    public OAuth2AuthorizedClientService oAuth2AuthorizedClientService() {\n        return new JdbcOAuth2AuthorizedClientService(new JdbcTemplate(dataSource), repo);\n    }\n}\n</code></pre>\n"},{"tags":["java","swing","styleddocument"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1659429700,"post_id":73204300,"comment_id":129286850,"body_markdown":"[How to Use Editor Panes and Text Panes](https://docs.oracle.com/javase/tutorial/uiswing/components/editorpane.html)","body":"<a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/editorpane.html\" rel=\"nofollow noreferrer\">How to Use Editor Panes and Text Panes</a>"},{"owner":{"account_id":25516140,"reputation":1,"user_id":19306969,"display_name":"Ashaley"},"score":0,"creation_date":1659430074,"post_id":73204300,"comment_id":129286987,"body_markdown":"@Abra The fact is that I loaded the styles and it is displayed normally, only when I let&#39;s change the size of the style, the already existing text in the panel remains the same","body":"@Abra The fact is that I loaded the styles and it is displayed normally, only when I let&#39;s change the size of the style, the already existing text in the panel remains the same"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1659430077,"post_id":73204300,"comment_id":129286990,"body_markdown":"Consider posting a [mcve] where you create a `JTextPane` and add it to a `JFrame` along with a `JButton` that, when you click it, makes the style changes described in your question..","body":"Consider posting a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> where you create a <code>JTextPane</code> and add it to a <code>JFrame</code> along with a <code>JButton</code> that, when you click it, makes the style changes described in your question.."}],"owner":{"account_id":25516140,"reputation":1,"user_id":19306969,"display_name":"Ashaley"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659429000,"creation_date":1659429000,"question_id":73204300,"body_markdown":"I have a JTextPane, I have created some styles:\r\n```java\r\nStyle assistant = addStyle(&quot;assistant&quot;, null);\r\nStyleConstants.setForeground(assistant, Color.decode(&quot;#01AF07&quot;));\r\nStyle user = addStyle(&quot;user&quot;, null);\r\nStyleConstants.setForeground(user, Color.decode(&quot;#237D03&quot;));\r\naddStyle(&quot;text&quot;, null);\r\n```\r\nThe format of the panel is:\r\n```\r\nAssistant&gt; Text\r\nUser&gt; Text\r\n```\r\nWhere &quot;Assistant&gt;&quot; and &quot;User&gt;&quot; have styles &quot;assistant&quot; and &quot;user&quot; respectively. And &quot;Text&quot; has the style &quot;text&quot;\r\n\r\nI have already made settings for my application where the user can change the font, I configured it and attached it to the method:\r\n```java\r\npublic void applyFont(Font generalFont) {\r\n    StyleConstants.setFontSize(getStyle(&quot;assistant&quot;), generalFont.getSize());\r\n    StyleConstants.setFontSize(getStyle(&quot;text&quot;), generalFont.getSize());\r\n    StyleConstants.setFontSize(getStyle(&quot;user&quot;), generalFont.getSize());\r\n\r\n    StyleConstants.setFontFamily(getStyle(&quot;assistant&quot;), generalFont.getFamily());\r\n    StyleConstants.setFontFamily(getStyle(&quot;text&quot;), generalFont.getFamily());\r\n    StyleConstants.setFontFamily(getStyle(&quot;user&quot;), generalFont.getFamily());\r\n\r\n    StyleConstants.setItalic(getStyle(&quot;assistant&quot;), generalFont.isItalic());\r\n    StyleConstants.setItalic(getStyle(&quot;text&quot;), generalFont.isItalic());\r\n    StyleConstants.setItalic(getStyle(&quot;user&quot;), generalFont.isItalic());\r\n\r\n    StyleConstants.setBold(getStyle(&quot;assistant&quot;), generalFont.isBold());\r\n    StyleConstants.setBold(getStyle(&quot;text&quot;), generalFont.isBold());\r\n    StyleConstants.setBold(getStyle(&quot;user&quot;), generalFont.isBold());\r\n}\r\n```\r\n\r\nBut my problem is that in the panel the style does not change, according to the new styles, only the text that was written after the change is changed. Tell me how to update according to style changes?","title":"Update StyledDocument according to changed styles","body":"<p>I have a JTextPane, I have created some styles:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Style assistant = addStyle(&quot;assistant&quot;, null);\nStyleConstants.setForeground(assistant, Color.decode(&quot;#01AF07&quot;));\nStyle user = addStyle(&quot;user&quot;, null);\nStyleConstants.setForeground(user, Color.decode(&quot;#237D03&quot;));\naddStyle(&quot;text&quot;, null);\n</code></pre>\n<p>The format of the panel is:</p>\n<pre><code>Assistant&gt; Text\nUser&gt; Text\n</code></pre>\n<p>Where &quot;Assistant&gt;&quot; and &quot;User&gt;&quot; have styles &quot;assistant&quot; and &quot;user&quot; respectively. And &quot;Text&quot; has the style &quot;text&quot;</p>\n<p>I have already made settings for my application where the user can change the font, I configured it and attached it to the method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void applyFont(Font generalFont) {\n    StyleConstants.setFontSize(getStyle(&quot;assistant&quot;), generalFont.getSize());\n    StyleConstants.setFontSize(getStyle(&quot;text&quot;), generalFont.getSize());\n    StyleConstants.setFontSize(getStyle(&quot;user&quot;), generalFont.getSize());\n\n    StyleConstants.setFontFamily(getStyle(&quot;assistant&quot;), generalFont.getFamily());\n    StyleConstants.setFontFamily(getStyle(&quot;text&quot;), generalFont.getFamily());\n    StyleConstants.setFontFamily(getStyle(&quot;user&quot;), generalFont.getFamily());\n\n    StyleConstants.setItalic(getStyle(&quot;assistant&quot;), generalFont.isItalic());\n    StyleConstants.setItalic(getStyle(&quot;text&quot;), generalFont.isItalic());\n    StyleConstants.setItalic(getStyle(&quot;user&quot;), generalFont.isItalic());\n\n    StyleConstants.setBold(getStyle(&quot;assistant&quot;), generalFont.isBold());\n    StyleConstants.setBold(getStyle(&quot;text&quot;), generalFont.isBold());\n    StyleConstants.setBold(getStyle(&quot;user&quot;), generalFont.isBold());\n}\n</code></pre>\n<p>But my problem is that in the panel the style does not change, according to the new styles, only the text that was written after the change is changed. Tell me how to update according to style changes?</p>\n"},{"tags":["java","netbeans-8"],"comments":[{"owner":{"account_id":6306175,"reputation":6201,"user_id":4899193,"display_name":"Usagi Miyamoto"},"score":0,"creation_date":1507133926,"post_id":46569215,"comment_id":80092979,"body_markdown":"Take a look at the project&quot;s ANT script...","body":"Take a look at the project&quot;s ANT script..."},{"owner":{"account_id":11917771,"reputation":91,"user_id":8721266,"display_name":"dummyhead"},"score":0,"creation_date":1507195051,"post_id":46569215,"comment_id":80116676,"body_markdown":"Thanks for comment. But I don&#39;t understand it. Do you mean the build.xml? placing something like; &lt;env key=&quot;${ld.preload.name}&quot; file=&quot;${libjsig}&quot;/&gt; ?","body":"Thanks for comment. But I don&#39;t understand it. Do you mean the build.xml? placing something like; &lt;env key=&quot;${ld.preload.name}&quot; file=&quot;${libjsig}&quot;/&gt; ?"}],"owner":{"account_id":11917771,"reputation":91,"user_id":8721266,"display_name":"dummyhead"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":225,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659428977,"creation_date":1507132516,"question_id":46569215,"body_markdown":"Is there any way to set LD_PRELOAD (or similar) in NetBeans 8?\n\nI&#39;m developing an application with java &amp; PLCIO (via JNI)\nIt works fine when I launch it from a script in the following way:\n\n&gt;export LD_PRELOAD=&quot;/PathToMyLibs/libplc.so /PathToMyLibs/libplccip.so&quot;\n&gt;\n&gt;java -Djava.library.path=&quot;/PathToMyLibs/&quot; -classpath /PathToMyJars/ myApp.Main \n\nI can even attach a debugger to  NetBeans. Cool.\n\nBut... I&#39;d really need to run the application from inside the IDE to run my JUNit cases and have more control over the debugger\n\nAny tip?\n\n\n","title":"LD_PRELOAD in NetBeans","body":"<p>Is there any way to set LD_PRELOAD (or similar) in NetBeans 8?</p>\n<p>I'm developing an application with java &amp; PLCIO (via JNI)\nIt works fine when I launch it from a script in the following way:</p>\n<blockquote>\n<p>export LD_PRELOAD=&quot;/PathToMyLibs/libplc.so /PathToMyLibs/libplccip.so&quot;</p>\n<p>java -Djava.library.path=&quot;/PathToMyLibs/&quot; -classpath /PathToMyJars/ myApp.Main</p>\n</blockquote>\n<p>I can even attach a debugger to  NetBeans. Cool.</p>\n<p>But... I'd really need to run the application from inside the IDE to run my JUNit cases and have more control over the debugger</p>\n<p>Any tip?</p>\n"},{"tags":["java","spring","spring-boot","jdbc"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1659423082,"post_id":73203075,"comment_id":129284628,"body_markdown":"You can definitely make it work. Especially when splitting it up. If its a good decision to do so, depends on what exactly you need to do and why you need JDBC for that","body":"You can definitely make it work. Especially when splitting it up. If its a good decision to do so, depends on what exactly you need to do and why you need JDBC for that"},{"owner":{"account_id":25954610,"reputation":1,"user_id":19672116,"display_name":"Biswadeb Mukhopadhyay"},"score":0,"creation_date":1659423116,"post_id":73203075,"comment_id":129284635,"body_markdown":"Please check with that response- https://stackoverflow.com/a/64681823/19672116","body":"Please check with that response- <a href=\"https://stackoverflow.com/a/64681823/19672116\">stackoverflow.com/a/64681823/19672116</a>"}],"owner":{"account_id":16921011,"reputation":2463,"user_id":12237837,"display_name":"Aditya Rewari"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1376,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659428798,"creation_date":1659422753,"question_id":73203075,"body_markdown":"I have 1 table `FEE` and created a `FeeRepository` for database operations on this table.\r\n\r\nAlso, I need some data from another table &#39;PAYMENTS&#39;.\r\n\r\n&#39;FEE&#39; and &#39;PAYMENTS&#39; are in the same DB schema.\r\n\r\nI plan to query PAYMENTS table using JDBC now.\r\n\r\n**Intention is for better code readability.**\r\n\r\n&gt; Fee Queries will be at FeeRepository.java\r\n\r\n&gt; Payments Query will be at PaymentsDao.java    \r\n\r\nWould it be a good decision to use Spring JPA and JDBC together in same project ? ","title":"Can we use Spring Data JPA and JDBC together in same Spring Boot project?","body":"<p>I have 1 table <code>FEE</code> and created a <code>FeeRepository</code> for database operations on this table.</p>\n<p>Also, I need some data from another table 'PAYMENTS'.</p>\n<p>'FEE' and 'PAYMENTS' are in the same DB schema.</p>\n<p>I plan to query PAYMENTS table using JDBC now.</p>\n<p><strong>Intention is for better code readability.</strong></p>\n<blockquote>\n<p>Fee Queries will be at FeeRepository.java</p>\n</blockquote>\n<blockquote>\n<p>Payments Query will be at PaymentsDao.java</p>\n</blockquote>\n<p>Would it be a good decision to use Spring JPA and JDBC together in same project ?</p>\n"},{"tags":["java","java-8"],"comments":[{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":4,"creation_date":1557921232,"post_id":56148724,"comment_id":98926708,"body_markdown":"@Adrian *checks on all the lists I&#39;m getting from foo*... seems like _before_, not _after_ `flatMap`","body":"@Adrian <i>checks on all the lists I&#39;m getting from foo</i>... seems like <i>before</i>, not <i>after</i> <code>flatMap</code>"}],"answers":[{"tags":[],"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1557924559,"creation_date":1557921182,"answer_id":56148757,"question_id":56148724,"body_markdown":"     Stream\r\n        .of(foo.getList1(), foo.getList2(), foo.getList3())\r\n        .filter(Objects::nonNull)\r\n        ....\r\n\r\nOr as pointed by Holger and specified in the `flatMap` java-doc:\r\n\r\n&gt; If a mapped stream is null an empty stream is used, instead.\r\n\r\nthus, you could do:\r\n\r\n     Stream\r\n        .of(foo.getList1(), foo.getList2(), foo.getList3())\r\n        .flatMap(x -&gt; x == null? null : x.stream())","title":"How to merge multiple list using flat map with null and empty check in java 8?","body":"<pre><code> Stream\n    .of(foo.getList1(), foo.getList2(), foo.getList3())\n    .filter(Objects::nonNull)\n    ....\n</code></pre>\n\n<p>Or as pointed by Holger and specified in the <code>flatMap</code> java-doc:</p>\n\n<blockquote>\n  <p>If a mapped stream is null an empty stream is used, instead.</p>\n</blockquote>\n\n<p>thus, you could do:</p>\n\n<pre><code> Stream\n    .of(foo.getList1(), foo.getList2(), foo.getList3())\n    .flatMap(x -&gt; x == null? null : x.stream())\n</code></pre>\n"}],"owner":{"account_id":2266684,"reputation":1068,"user_id":1995161,"accept_rate":50,"display_name":"AshwinK"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9073,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":56148757,"answer_count":1,"score":6,"last_activity_date":1659428623,"creation_date":1557921107,"question_id":56148724,"body_markdown":"I&#39;m merging multiple list using `Stream.of(..)` &amp; then performing `flatMap` on the same to collect the combined list as below:\r\n\r\n\r\n```\r\nclass Foo{\r\n\r\n    List&lt;Entity&gt; list1;\r\n    List&lt;Entity&gt; list2;\r\n    List&lt;Entity&gt; list3;\r\n\r\n    //getters &amp; setters\r\n\r\n}\r\n```\r\n\r\n```\r\nFoo foo = getFoo();\r\nPredicate&lt;Entity&gt; isExist = //various conditions on foo ;\r\nList&lt;Bar&gt; bars = Stream\r\n        .of(foo.getList1(), foo.getList2(), foo.getList3())\r\n        .flatMap(Collection::stream)\r\n        .filter(isExist)\r\n        .map(entity -&gt; getBar(entity))\r\n        .collect(Collectors.toList());\r\n```\r\n\r\n**First question**:\r\n\r\nDoes `Stream.of(..)` checks  `nonNull` &amp; `notEmpty`?\r\nIf ans is **No** then,\r\n\r\n**Second Question**:\r\n\r\nHow can I perform the `nonNull` &amp; `notEmpty` checks on all the `lists` I&#39;m getting from `foo` in the above code ?So that whenever merge of all these three list happens, it will basically ignore the `null` &amp; `empty` `list` to avoid `NullPointerException` ?\r\n\r\n\r\n\r\n","title":"How to merge multiple list using flat map with null and empty check in java 8?","body":"<p>I'm merging multiple list using <code>Stream.of(..)</code> &amp; then performing <code>flatMap</code> on the same to collect the combined list as below:</p>\n\n<pre><code>class Foo{\n\n    List&lt;Entity&gt; list1;\n    List&lt;Entity&gt; list2;\n    List&lt;Entity&gt; list3;\n\n    //getters &amp; setters\n\n}\n</code></pre>\n\n<pre><code>Foo foo = getFoo();\nPredicate&lt;Entity&gt; isExist = //various conditions on foo ;\nList&lt;Bar&gt; bars = Stream\n        .of(foo.getList1(), foo.getList2(), foo.getList3())\n        .flatMap(Collection::stream)\n        .filter(isExist)\n        .map(entity -&gt; getBar(entity))\n        .collect(Collectors.toList());\n</code></pre>\n\n<p><strong>First question</strong>:</p>\n\n<p>Does <code>Stream.of(..)</code> checks  <code>nonNull</code> &amp; <code>notEmpty</code>?\nIf ans is <strong>No</strong> then,</p>\n\n<p><strong>Second Question</strong>:</p>\n\n<p>How can I perform the <code>nonNull</code> &amp; <code>notEmpty</code> checks on all the <code>lists</code> I'm getting from <code>foo</code> in the above code ?So that whenever merge of all these three list happens, it will basically ignore the <code>null</code> &amp; <code>empty</code> <code>list</code> to avoid <code>NullPointerException</code> ?</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1659075786,"post_id":73162343,"comment_id":129213327,"body_markdown":"I don&#39;t use IntelliJ but in NetBeans you can right click a file and select Run file.  See if IntelliJ has that option.  Otherwise, one quick way is to simply run them from the command line.","body":"I don&#39;t use IntelliJ but in NetBeans you can right click a file and select Run file.  See if IntelliJ has that option.  Otherwise, one quick way is to simply run them from the command line."},{"owner":{"display_name":"user17364069"},"score":0,"creation_date":1659076292,"post_id":73162343,"comment_id":129213458,"body_markdown":"Yes I can individually run each class by right clicking them but I saw multiple people run both at the same time and I thought that might be nice for quick debugging. The problem is I dont know how to run both at the same time.","body":"Yes I can individually run each class by right clicking them but I saw multiple people run both at the same time and I thought that might be nice for quick debugging. The problem is I dont know how to run both at the same time."}],"answers":[{"tags":[],"owner":{"account_id":9549974,"reputation":70,"user_id":7094459,"display_name":"Asraar Wani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659076318,"creation_date":1659076318,"answer_id":73162470,"question_id":73162343,"body_markdown":"I don&#39;t think you can run both main methods in same window of IntelliJ. If your application is like Client and Server, what I suggest is you can put client code in one application and server code in another and then open them in two different windows.","title":"Run multiple main methods in Java with Intellij","body":"<p>I don't think you can run both main methods in same window of IntelliJ. If your application is like Client and Server, what I suggest is you can put client code in one application and server code in another and then open them in two different windows.</p>\n"},{"tags":[],"owner":{"display_name":"user17364069"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659428309,"creation_date":1659077333,"answer_id":73162623,"question_id":73162343,"body_markdown":"Ok I figured it out: \r\n\r\nAnyways after you make both main methods you can edit configuration files then after setting the path and the main class for both of your applications click &#39;Apply&#39; and &#39;Ok&#39;. \r\n\r\nThen right click that box again (its labeled &#39;Client&#39; and is in the top right hand corner in my original picture) and click &#39;Save Configuration&#39;. \r\n\r\nIf you don&#39;t have that setting then your probably good as long as on of your applications are not translucent. \r\n\r\nThe last step is to then right click one of them and click run then right click the other one and click run. It works with a max of 5 (without changing your IntelliJ settings)","title":"Run multiple main methods in Java with Intellij","body":"<p>Ok I figured it out:</p>\n<p>Anyways after you make both main methods you can edit configuration files then after setting the path and the main class for both of your applications click 'Apply' and 'Ok'.</p>\n<p>Then right click that box again (its labeled 'Client' and is in the top right hand corner in my original picture) and click 'Save Configuration'.</p>\n<p>If you don't have that setting then your probably good as long as on of your applications are not translucent.</p>\n<p>The last step is to then right click one of them and click run then right click the other one and click run. It works with a max of 5 (without changing your IntelliJ settings)</p>\n"}],"owner":{"display_name":"user17364069"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":484,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73162623,"answer_count":2,"score":0,"last_activity_date":1659428577,"creation_date":1659075484,"question_id":73162343,"body_markdown":"How do I run multiple main methods so that I can get both consoles loaded up inside of the run? My project only has 2 classes and both already has the static main function which you can tell by the green triangle in both of my class icons (the icons are top left of the image). Anyways I can toggle between both the client and the server clicking on one of the applications but for some reason I cant run both. Also keep in mind the reason client has a red &quot;x&quot; next to it is because I slightly changed the path to not dox my self but with the correct path I can only choose which one to run. \r\n\r\n[My screen][1]\r\n\r\n  [1]: https://i.stack.imgur.com/Hlkhy.png","title":"Run multiple main methods in Java with Intellij","body":"<p>How do I run multiple main methods so that I can get both consoles loaded up inside of the run? My project only has 2 classes and both already has the static main function which you can tell by the green triangle in both of my class icons (the icons are top left of the image). Anyways I can toggle between both the client and the server clicking on one of the applications but for some reason I cant run both. Also keep in mind the reason client has a red &quot;x&quot; next to it is because I slightly changed the path to not dox my self but with the correct path I can only choose which one to run.</p>\n<p><a href=\"https://i.stack.imgur.com/Hlkhy.png\" rel=\"nofollow noreferrer\">My screen</a></p>\n"},{"tags":["java","logging","log4j"],"comments":[{"owner":{"account_id":24946458,"reputation":502,"user_id":18811731,"display_name":"Gicu Aftene"},"score":0,"creation_date":1659428100,"post_id":73203959,"comment_id":129286237,"body_markdown":"Try looking for the log4j2 references into your IDE&#39;s settings. Or try [THIS](https://stackoverflow.com/questions/58209205/elasticsearch-error-statuslogger-log4j2-could-not-find-a-logging-implementation?rq=1)","body":"Try looking for the log4j2 references into your IDE&#39;s settings. Or try <a href=\"https://stackoverflow.com/questions/58209205/elasticsearch-error-statuslogger-log4j2-could-not-find-a-logging-implementation?rq=1\">THIS</a>"},{"owner":{"account_id":21088223,"reputation":103,"user_id":19013678,"display_name":"user19013678"},"score":0,"creation_date":1659428514,"post_id":73203959,"comment_id":129286366,"body_markdown":"How can i look for the log4j2 references? Im on intelliJ","body":"How can i look for the log4j2 references? Im on intelliJ"},{"owner":{"account_id":24946458,"reputation":502,"user_id":18811731,"display_name":"Gicu Aftene"},"score":0,"creation_date":1659429008,"post_id":73203959,"comment_id":129286537,"body_markdown":"Try in Run configuration if there&#39;s something about log4j2/JUnit setted","body":"Try in Run configuration if there&#39;s something about log4j2/JUnit setted"}],"owner":{"account_id":21088223,"reputation":103,"user_id":19013678,"display_name":"user19013678"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":402,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659428568,"creation_date":1659427374,"question_id":73203959,"body_markdown":"When I run my project I get this error : \r\n\r\n&gt; ERROR StatusLogger Log4j2 could not find a logging implementation.\r\n&gt; Please add log4j-core to the classpath. Using SimpleLogger to log to\r\n&gt; the console...\r\n\r\nThe thing is I am not using Log4j anywhere in my project. I don&#39;t have it in my pom.xml, I don&#39;t use it or import it in any of my class, so why do I have this error message? \r\n\r\nHere is a screen of what i get when i search for &quot;log&quot; in my whole project : \r\n\r\n[![enter image description here][1]][1]\r\n\r\nAs you can see, no use of any logger. \r\n\r\nI don&#39;t know what other information I can provide so feel free to ask. \r\n\r\n\r\nEDIT : I&#39;ve already tried [this][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TVk2r.png\r\n  [2]: https://stackoverflow.com/questions/47881821/error-statuslogger-log4j2-could-not-find-a-logging-implementation","title":"ERROR StatusLogger Log4j2 could not find a logging implementation. But i am not using any logger","body":"<p>When I run my project I get this error :</p>\n<blockquote>\n<p>ERROR StatusLogger Log4j2 could not find a logging implementation.\nPlease add log4j-core to the classpath. Using SimpleLogger to log to\nthe console...</p>\n</blockquote>\n<p>The thing is I am not using Log4j anywhere in my project. I don't have it in my pom.xml, I don't use it or import it in any of my class, so why do I have this error message?</p>\n<p>Here is a screen of what i get when i search for &quot;log&quot; in my whole project :</p>\n<p><a href=\"https://i.stack.imgur.com/TVk2r.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TVk2r.png\" alt=\"enter image description here\" /></a></p>\n<p>As you can see, no use of any logger.</p>\n<p>I don't know what other information I can provide so feel free to ask.</p>\n<p>EDIT : I've already tried <a href=\"https://stackoverflow.com/questions/47881821/error-statuslogger-log4j2-could-not-find-a-logging-implementation\">this</a></p>\n"},{"tags":["java","okhttp"],"comments":[{"owner":{"account_id":11089842,"reputation":313,"user_id":8142131,"display_name":"funky"},"score":0,"creation_date":1659429779,"post_id":73203954,"comment_id":129286877,"body_markdown":"My guess is that you are having problems with dependencies and incompatible versions. Fiddle around with your classpath for libraries and/or try other/older versions of okhttp.","body":"My guess is that you are having problems with dependencies and incompatible versions. Fiddle around with your classpath for libraries and/or try other/older versions of okhttp."},{"owner":{"account_id":25955176,"reputation":1,"user_id":19672620,"display_name":"Subhadip Dutta"},"score":0,"creation_date":1659432233,"post_id":73203954,"comment_id":129287766,"body_markdown":"I will go by your suggestions.","body":"I will go by your suggestions."},{"owner":{"account_id":25955176,"reputation":1,"user_id":19672620,"display_name":"Subhadip Dutta"},"score":0,"creation_date":1659432751,"post_id":73203954,"comment_id":129287933,"body_markdown":"Thanks for your suggestions. I was using &quot;okhttp-4.0.1.jar&quot; then I have used this - &quot;okhttp-4.0.1.jar&quot;, but it didn&#39;t work... But after your suggestion when I use the older version ( &quot;okhttp-3.11.0.jar&quot; ), it works properly...","body":"Thanks for your suggestions. I was using &quot;okhttp-4.0.1.jar&quot; then I have used this - &quot;okhttp-4.0.1.jar&quot;, but it didn&#39;t work... But after your suggestion when I use the older version ( &quot;okhttp-3.11.0.jar&quot; ), it works properly..."},{"owner":{"account_id":10966292,"reputation":364,"user_id":8057925,"display_name":"Indrapal Singh"},"score":0,"creation_date":1668661422,"post_id":73203954,"comment_id":131461384,"body_markdown":"The issue was resolved for me after adding &quot;com.squareup.okhttp3&quot; version 4.10.0 dependency in pom.xml","body":"The issue was resolved for me after adding &quot;com.squareup.okhttp3&quot; version 4.10.0 dependency in pom.xml"}],"owner":{"account_id":25955176,"reputation":1,"user_id":19672620,"display_name":"Subhadip Dutta"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2213,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659428218,"creation_date":1659427341,"question_id":73203954,"body_markdown":"    import com.azure.identity.UsernamePasswordCredential;\r\n    import com.azure.identity.UsernamePasswordCredentialBuilder;\r\n    import com.microsoft.graph.authentication.TokenCredentialAuthProvider;\r\n    import com.microsoft.graph.requests.GraphServiceClient;\r\n    import com.microsoft.graph.requests.UserCollectionPage;\r\n    \r\n    import java.util.Arrays;\r\n    \r\n    public class TestConnectionAzureAD {\r\n        public static void main(String[] args) {\r\n            UsernamePasswordCredential usernamePasswordCredential = new UsernamePasswordCredentialBuilder()\r\n                    .clientId(&quot;Client_Id&quot;)\r\n                    .username(&quot;User_Name&quot;)\r\n                    .password(&quot;Password&quot;)\r\n                    .build();\r\n    \r\n            final TokenCredentialAuthProvider tokenCredentialAuthProvider = new TokenCredentialAuthProvider(Arrays.asList(&quot;https://graph.microsoft.com/.default&quot;), usernamePasswordCredential);\r\n    \r\n            final GraphServiceClient graphClient = GraphServiceClient\r\n                    .builder()\r\n                    .authenticationProvider(tokenCredentialAuthProvider)\r\n                    .buildClient();\r\n    \r\n            UserCollectionPage userCollectionpage = graphClient.users().buildRequest().get();\r\n    \r\n            System.out.println(&quot;--&quot;);\r\n        }\r\n    }\r\n\r\n\r\nI am using -\r\n   kotlin-stdlib-1.6.20.jar, microsoft-graph-5.31.0.jar, microsoft-graph-core-2.0.13.jar, okhttp-4.0.1.jar -- these jars...\r\n\r\nI am getting this error - \r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoSuchFieldError: Companion\r\n    \tat okhttp3.internal.Util.&lt;clinit&gt;(Util.kt:69)\r\n    \tat okhttp3.internal.connection.RealConnectionPool.&lt;clinit&gt;(RealConnectionPool.kt:261)\r\n    \tat okhttp3.ConnectionPool.&lt;init&gt;(ConnectionPool.kt:37)\r\n    \tat okhttp3.ConnectionPool.&lt;init&gt;(ConnectionPool.kt:39)\r\n    \tat okhttp3.OkHttpClient$Builder.&lt;init&gt;(OkHttpClient.kt:430)\r\n    \tat com.microsoft.graph.httpcore.HttpClients.custom(HttpClients.java:28)\r\n    \tat com.microsoft.graph.httpcore.HttpClients.createDefault(HttpClients.java:44)\r\n    \tat com.microsoft.graph.core.BaseClient$Builder.getHttpClient(BaseClient.java:180)\r\n    \tat com.microsoft.graph.core.BaseClient$Builder.getHttpProvider(BaseClient.java:188)\r\n    \tat com.microsoft.graph.core.BaseClient$Builder.buildClient(BaseClient.java:276)\r\n    \tat com.microsoft.graph.requests.GraphServiceClient$Builder.buildClient(GraphServiceClient.java:258)\r\n\r\nsolution ?                                                ","title":"Exception in thread &quot;main&quot; java.lang.NoSuchFieldError: Companion","body":"<pre><code>import com.azure.identity.UsernamePasswordCredential;\nimport com.azure.identity.UsernamePasswordCredentialBuilder;\nimport com.microsoft.graph.authentication.TokenCredentialAuthProvider;\nimport com.microsoft.graph.requests.GraphServiceClient;\nimport com.microsoft.graph.requests.UserCollectionPage;\n\nimport java.util.Arrays;\n\npublic class TestConnectionAzureAD {\n    public static void main(String[] args) {\n        UsernamePasswordCredential usernamePasswordCredential = new UsernamePasswordCredentialBuilder()\n                .clientId(&quot;Client_Id&quot;)\n                .username(&quot;User_Name&quot;)\n                .password(&quot;Password&quot;)\n                .build();\n\n        final TokenCredentialAuthProvider tokenCredentialAuthProvider = new TokenCredentialAuthProvider(Arrays.asList(&quot;https://graph.microsoft.com/.default&quot;), usernamePasswordCredential);\n\n        final GraphServiceClient graphClient = GraphServiceClient\n                .builder()\n                .authenticationProvider(tokenCredentialAuthProvider)\n                .buildClient();\n\n        UserCollectionPage userCollectionpage = graphClient.users().buildRequest().get();\n\n        System.out.println(&quot;--&quot;);\n    }\n}\n</code></pre>\n<p>I am using -\nkotlin-stdlib-1.6.20.jar, microsoft-graph-5.31.0.jar, microsoft-graph-core-2.0.13.jar, okhttp-4.0.1.jar -- these jars...</p>\n<p>I am getting this error -</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoSuchFieldError: Companion\n    at okhttp3.internal.Util.&lt;clinit&gt;(Util.kt:69)\n    at okhttp3.internal.connection.RealConnectionPool.&lt;clinit&gt;(RealConnectionPool.kt:261)\n    at okhttp3.ConnectionPool.&lt;init&gt;(ConnectionPool.kt:37)\n    at okhttp3.ConnectionPool.&lt;init&gt;(ConnectionPool.kt:39)\n    at okhttp3.OkHttpClient$Builder.&lt;init&gt;(OkHttpClient.kt:430)\n    at com.microsoft.graph.httpcore.HttpClients.custom(HttpClients.java:28)\n    at com.microsoft.graph.httpcore.HttpClients.createDefault(HttpClients.java:44)\n    at com.microsoft.graph.core.BaseClient$Builder.getHttpClient(BaseClient.java:180)\n    at com.microsoft.graph.core.BaseClient$Builder.getHttpProvider(BaseClient.java:188)\n    at com.microsoft.graph.core.BaseClient$Builder.buildClient(BaseClient.java:276)\n    at com.microsoft.graph.requests.GraphServiceClient$Builder.buildClient(GraphServiceClient.java:258)\n</code></pre>\n<p>solution ?</p>\n"},{"tags":["java","maven","pom.xml"],"comments":[{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":1,"creation_date":1659435482,"post_id":73204112,"comment_id":129288892,"body_markdown":"Not cleaning may save you some time, it should incrementally compile in most cases. Then try to go only to the module that has actually changed and do `mvn install -DskipTests`. It should build and install that project only. Finally, you may skip the actual .exe bundling, it should not be necessary for development. Putting the relevant configuration in a profile might be an option. All the above depend on the details of your setup of course.","body":"Not cleaning may save you some time, it should incrementally compile in most cases. Then try to go only to the module that has actually changed and do <code>mvn install -DskipTests</code>. It should build and install that project only. Finally, you may skip the actual .exe bundling, it should not be necessary for development. Putting the relevant configuration in a profile might be an option. All the above depend on the details of your setup of course."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1659516087,"post_id":73204112,"comment_id":129310891,"body_markdown":"A good IDE should only recompile the bits that have actually changed when developing.  What do you currently use?","body":"A good IDE should only recompile the bits that have actually changed when developing.  What do you currently use?"},{"owner":{"account_id":18070365,"reputation":321,"user_id":13135178,"display_name":"dev_101"},"score":0,"creation_date":1659524063,"post_id":73204112,"comment_id":129313939,"body_markdown":"@Thorbj&#248;rnRavnAndersen I use eclipse (4.20.0)","body":"@Thorbj&#248;rnRavnAndersen I use eclipse (4.20.0)"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1659535796,"post_id":73204112,"comment_id":129318114,"body_markdown":"It has been a while since I switched to IntelliJ so I cannot help you set up Eclipse properly for you to benefit from what it can help you with.  I would suggest opening a new question where you describe your project in more detail and ask for advice on how to set Eclipse up correctly.   I assume you have imported your current sources as a Maven project into your workspace?","body":"It has been a while since I switched to IntelliJ so I cannot help you set up Eclipse properly for you to benefit from what it can help you with.  I would suggest opening a new question where you describe your project in more detail and ask for advice on how to set Eclipse up correctly.   I assume you have imported your current sources as a Maven project into your workspace?"}],"owner":{"account_id":18070365,"reputation":321,"user_id":13135178,"display_name":"dev_101"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659428167,"creation_date":1659428167,"question_id":73204112,"body_markdown":"I am developing a .exe application which has muti modules. Everytime there is a small change I run `mvn clean install -DskipTests` in the parent module which takes a long time to build which includes web module, commons module, database module etc and gives the revised .exe in the target folder of one of the modules (winexe module). \r\n\r\n  Many modules are interdependent on each other hence if I exclude any module from the pom my changes are not reflected. Is there any other command or way for this to be done for local development because it takes a long time during development even if there are small changes.","title":"Maven install a multi module project","body":"<p>I am developing a .exe application which has muti modules. Everytime there is a small change I run <code>mvn clean install -DskipTests</code> in the parent module which takes a long time to build which includes web module, commons module, database module etc and gives the revised .exe in the target folder of one of the modules (winexe module).</p>\n<p>Many modules are interdependent on each other hence if I exclude any module from the pom my changes are not reflected. Is there any other command or way for this to be done for local development because it takes a long time during development even if there are small changes.</p>\n"},{"tags":["java","html","file","http","post"],"comments":[{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1647371660,"post_id":71487680,"comment_id":126353231,"body_markdown":"What do you do if there is a 404? Depending on the implementation of the API, a 404 can mean more than the general &quot;not found&quot;? Maybe there is some information in the response that can help you debug.","body":"What do you do if there is a 404? Depending on the implementation of the API, a 404 can mean more than the general &quot;not found&quot;? Maybe there is some information in the response that can help you debug."},{"owner":{"account_id":23072807,"reputation":53,"user_id":17186197,"display_name":"NewBond007"},"score":0,"creation_date":1647371707,"post_id":71487680,"comment_id":126353254,"body_markdown":"No, it works fine if I execute the curl command, I get a JSON response back.","body":"No, it works fine if I execute the curl command, I get a JSON response back."}],"owner":{"account_id":23072807,"reputation":53,"user_id":17186197,"display_name":"NewBond007"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":943,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659427977,"creation_date":1647371199,"question_id":71487680,"body_markdown":"I have a curl command:\r\n\r\n    curl -X POST &quot;https:example.com/upload&quot; -H &quot;accept: application/json&quot; -H &quot;Authorization: token&quot; -H\r\n    &quot;Content-Type: text/plain&quot; --data-binary @&quot;filename.txt&quot;\r\n\r\nthis is the code so far:\r\n\r\n    SSLSocketFactory sslsocketfactory = (SSLSocketFactory) SSLSocketFactory.getDefault();\r\n    \t\t\tURL url = new URL(&quot;https://example.com/upload&quot;);\r\n    \t\t\tHttpsURLConnection conn = (HttpsURLConnection) url.openConnection();\r\n    \t\t\tconn.setDoOutput(true);\r\n    \t\t\tconn.setSSLSocketFactory(sslsocketfactory);\r\n    \t\t\tconn.setRequestMethod(&quot;POST&quot;);\r\n    \t\t\tconn.setRequestProperty(&quot;accept&quot;, &quot;application/json&quot;);\r\n    \t\t\tconn.setRequestProperty(&quot;Authorization&quot;, encodedValue);\r\n    \t\t\tconn.setRequestProperty(&quot;Content-Type&quot;, &quot;text/plain&quot;);\r\n    \t\t\tOutputStream os = new BufferedOutputStream(conn.getOutputStream());\r\n    \t\t\tbyte[] bytes = Files.readAllBytes(Paths.get(filePath));\r\n    \t\t\t \r\n    \t\t\tos.write(bytes);\r\n    \t\t\tos.flush();\r\n    \t\t\t\r\n    \t\t\tint respCode = conn.getResponseCode();\r\n    \t\t\tSystem.out.println(respCode);\r\n    \r\n    \t\t\tif (conn.getResponseCode() != 404) {\r\n    \t\t\t\tInputStream inputstream = conn.getInputStream();\r\n    \t\t\t\tInputStreamReader inputstreamreader = new InputStreamReader(inputstream);\r\n    \t\t\t\tBufferedReader bufferedreader = new BufferedReader(inputstreamreader);\r\n    while ((client = bufferedreader.readLine()) != null) {\r\n    \t\t\t\t\tresponse.getWriter().println(client);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n\r\nI am getting a 404 response. \r\n\r\ncan someone help me what am I doing wrong here? Please and thanks.","title":"send file as a data binary to http post spring boot","body":"<p>I have a curl command:</p>\n<pre><code>curl -X POST &quot;https:example.com/upload&quot; -H &quot;accept: application/json&quot; -H &quot;Authorization: token&quot; -H\n&quot;Content-Type: text/plain&quot; --data-binary @&quot;filename.txt&quot;\n</code></pre>\n<p>this is the code so far:</p>\n<pre><code>SSLSocketFactory sslsocketfactory = (SSLSocketFactory) SSLSocketFactory.getDefault();\n            URL url = new URL(&quot;https://example.com/upload&quot;);\n            HttpsURLConnection conn = (HttpsURLConnection) url.openConnection();\n            conn.setDoOutput(true);\n            conn.setSSLSocketFactory(sslsocketfactory);\n            conn.setRequestMethod(&quot;POST&quot;);\n            conn.setRequestProperty(&quot;accept&quot;, &quot;application/json&quot;);\n            conn.setRequestProperty(&quot;Authorization&quot;, encodedValue);\n            conn.setRequestProperty(&quot;Content-Type&quot;, &quot;text/plain&quot;);\n            OutputStream os = new BufferedOutputStream(conn.getOutputStream());\n            byte[] bytes = Files.readAllBytes(Paths.get(filePath));\n             \n            os.write(bytes);\n            os.flush();\n            \n            int respCode = conn.getResponseCode();\n            System.out.println(respCode);\n\n            if (conn.getResponseCode() != 404) {\n                InputStream inputstream = conn.getInputStream();\n                InputStreamReader inputstreamreader = new InputStreamReader(inputstream);\n                BufferedReader bufferedreader = new BufferedReader(inputstreamreader);\nwhile ((client = bufferedreader.readLine()) != null) {\n                    response.getWriter().println(client);\n                }\n            }\n</code></pre>\n<p>I am getting a 404 response.</p>\n<p>can someone help me what am I doing wrong here? Please and thanks.</p>\n"},{"tags":["java","android","textview","android-runonuithread"],"comments":[{"owner":{"account_id":3657916,"reputation":1263,"user_id":3048424,"accept_rate":60,"display_name":"Milad Yarmohammadi"},"score":1,"creation_date":1559042661,"post_id":56341089,"comment_id":99287380,"body_markdown":"Use Handler instead","body":"Use Handler instead"},{"owner":{"account_id":7638953,"reputation":675,"user_id":5791681,"display_name":"Ricardo A."},"score":0,"creation_date":1559042758,"post_id":56341089,"comment_id":99287428,"body_markdown":"What is the code doing in the current state?","body":"What is the code doing in the current state?"},{"owner":{"account_id":10476904,"reputation":213,"user_id":7723145,"accept_rate":50,"display_name":"Adam"},"score":1,"creation_date":1559042902,"post_id":56341089,"comment_id":99287508,"body_markdown":"@RicardoA. so `onCreate` it sets `layoutDate.setText(firstNumber)` and thereafter after 5 seconds it sets `layoutDate.setText(secondNumber)`. The issue is it doesn&#39;t revert back to the first number regardless of where I add `layoutDate.setText(firstNumber)` within the Thread","body":"@RicardoA. so <code>onCreate</code> it sets <code>layoutDate.setText(firstNumber)</code> and thereafter after 5 seconds it sets <code>layoutDate.setText(secondNumber)</code>. The issue is it doesn&#39;t revert back to the first number regardless of where I add <code>layoutDate.setText(firstNumber)</code> within the Thread"},{"owner":{"account_id":7638953,"reputation":675,"user_id":5791681,"display_name":"Ricardo A."},"score":0,"creation_date":1559043194,"post_id":56341089,"comment_id":99287656,"body_markdown":"Didn&#39;t get it. It creates it an sets the initial value, after 5 seconds sets the second value. When you want it to revert to the first? After 5 more seconds?","body":"Didn&#39;t get it. It creates it an sets the initial value, after 5 seconds sets the second value. When you want it to revert to the first? After 5 more seconds?"},{"owner":{"account_id":10476904,"reputation":213,"user_id":7723145,"accept_rate":50,"display_name":"Adam"},"score":1,"creation_date":1559043524,"post_id":56341089,"comment_id":99287841,"body_markdown":"@RicardoA. Yup - that&#39;s exactly it.\n\n1. onCreate set firstValue\n2. Wait 5 seconds\n3. Set secondValue\n4. Wait 5 seconds\n5. setFirstValue","body":"@RicardoA. Yup - that&#39;s exactly it.  1. onCreate set firstValue 2. Wait 5 seconds 3. Set secondValue 4. Wait 5 seconds 5. setFirstValue"}],"answers":[{"tags":[],"owner":{"account_id":7638953,"reputation":675,"user_id":5791681,"display_name":"Ricardo A."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559044192,"creation_date":1559044192,"answer_id":56341618,"question_id":56341089,"body_markdown":"Verify the current number that is in the field and change to the other, you can do this through getting the value `layoutDate.getText().toString()` or using a new variable to store the value.\r\n\r\n\r\n\tlayoutDate.setText(firstNumber);\r\n\r\n\t\tThread numberSwitch = new Thread() {\r\n\t\t@Override\r\n\t\tpublic void run() {\r\n\t\t\twhile(!isInterrupted()) {\r\n\t\t\t\ttry {\r\n\r\n\t\t\t\t\tThread.sleep(5000);\r\n\r\n\t\t\t\t\trunOnUiThread(new Runnable () {\r\n\t\t\t\t\t\t@Override\r\n\t\t\t\t\t\tpublic void run() {\r\n\r\n\t\t\t\t\t\t\tif(currentNumber == firstNumber){\r\n\t\t\t\t\t\t\t\tcurrentNumber = secondNumber;\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\tcurrentNumber = firstNumber;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tlayoutDate.setText(currentNumber);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t}       \r\n\t\t}\r\n\t};\r\n\r\n\tnumberSwitch.start();\r\n\r\nOr\r\n\r\n    if(layoutDate.getText().toString().equals(firstNumber+&quot;&quot;)){\r\n        layoutDate.set(secondNumber);\r\n    }else{\r\n        layoutDate.set(firstNumber);\r\n    }","title":"How to switch TextView between values every 5 seconds","body":"<p>Verify the current number that is in the field and change to the other, you can do this through getting the value <code>layoutDate.getText().toString()</code> or using a new variable to store the value.</p>\n\n<pre><code>layoutDate.setText(firstNumber);\n\n    Thread numberSwitch = new Thread() {\n    @Override\n    public void run() {\n        while(!isInterrupted()) {\n            try {\n\n                Thread.sleep(5000);\n\n                runOnUiThread(new Runnable () {\n                    @Override\n                    public void run() {\n\n                        if(currentNumber == firstNumber){\n                            currentNumber = secondNumber;\n                        }else{\n                            currentNumber = firstNumber;\n                        }\n                        layoutDate.setText(currentNumber);\n                    }\n                });\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }       \n    }\n};\n\nnumberSwitch.start();\n</code></pre>\n\n<p>Or</p>\n\n<pre><code>if(layoutDate.getText().toString().equals(firstNumber+\"\")){\n    layoutDate.set(secondNumber);\n}else{\n    layoutDate.set(firstNumber);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7239221,"reputation":321,"user_id":5523312,"display_name":"Arun"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1559044282,"creation_date":1559044282,"answer_id":56341645,"question_id":56341089,"body_markdown":"You can use Handler with a runnable.\r\n\r\n    private TextView textView;\r\n    private Handler handler;\r\n\r\nin your `onCreate()`\r\n\r\n    textView = findViewById(R.id.tv_bt_msg);\r\n    textView.setText(&quot;secondNumber&quot;);\r\n    \r\n    handler = new Handler();\r\n    //Change the textview after 5 seconds\r\n    handler.postDelayed(runnable, 5000);\r\n\r\nRunnable to change text every 5 seconds\r\n\r\n    private Runnable runnable = new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                String currentString = textView.getText().toString();\r\n                if(currentString.equals(&quot;secondNumber&quot;)){\r\n                    currentString = &quot;firstNumber&quot;;\r\n                }else{\r\n                    currentString = &quot;secondNumber&quot;;\r\n                }\r\n                final String tempString = currentString;\r\n                runOnUiThread(new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n                        textView.setText(tempString);\r\n                    }\r\n                });\r\n                //Change the textview again after 5 seconds\r\n                handler.postDelayed(runnable, 5000);\r\n            }\r\n        };\r\n\r\nUse this to removeCallbacks\r\n\r\n    handler.removeCallbacks(runnable);","title":"How to switch TextView between values every 5 seconds","body":"<p>You can use Handler with a runnable.</p>\n\n<pre><code>private TextView textView;\nprivate Handler handler;\n</code></pre>\n\n<p>in your <code>onCreate()</code></p>\n\n<pre><code>textView = findViewById(R.id.tv_bt_msg);\ntextView.setText(\"secondNumber\");\n\nhandler = new Handler();\n//Change the textview after 5 seconds\nhandler.postDelayed(runnable, 5000);\n</code></pre>\n\n<p>Runnable to change text every 5 seconds</p>\n\n<pre><code>private Runnable runnable = new Runnable() {\n        @Override\n        public void run() {\n            String currentString = textView.getText().toString();\n            if(currentString.equals(\"secondNumber\")){\n                currentString = \"firstNumber\";\n            }else{\n                currentString = \"secondNumber\";\n            }\n            final String tempString = currentString;\n            runOnUiThread(new Runnable() {\n                @Override\n                public void run() {\n                    textView.setText(tempString);\n                }\n            });\n            //Change the textview again after 5 seconds\n            handler.postDelayed(runnable, 5000);\n        }\n    };\n</code></pre>\n\n<p>Use this to removeCallbacks</p>\n\n<pre><code>handler.removeCallbacks(runnable);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22683635,"reputation":11,"user_id":16853654,"display_name":"Mr.Janardan Borada"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659427952,"creation_date":1659420851,"answer_id":73202750,"question_id":56341089,"body_markdown":"There is code for XML files\r\n\r\n        &lt;com.google.android.material.textview.MaterialTextView\r\n        android:id=&quot;@+id/tx_demo&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Hello World!&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\nThere is code for Java files\r\n\r\n      private var txDemo: MaterialTextView? = null\r\n      int count = 0;\r\n    private void initView() {\r\n        String[] stringArray = {&quot;Text:-1&quot;, &quot;Text:-2&quot;, &quot;Text:-3&quot;, &quot;Text:-4&quot;, &quot;Text:-5&quot;};\r\n        txDemo = findViewById(R.id.tx_demo);\r\n        new Handler().postDelayed(() -&gt; {\r\n            txDemo.setText(stringArray[0]);\r\n            count++;\r\n            if (count == stringArray.length)\r\n                count = 0;\r\n\r\n        }, 5000);\r\n    }\r\nor \r\nkotlin Code\r\n\r\n      var count = 0\r\n    private fun initView() {\r\n        val stringArray = arrayOf(&quot;Text:-1&quot;, &quot;Text:-2&quot;, &quot;Text:-3&quot;, &quot;Text:-4&quot;, &quot;Text:-5&quot;)\r\n        txDemo = findViewById(R.id.tx_demo)\r\n        Handler().postDelayed({\r\n            txDemo!!.text = stringArray[0]\r\n            count++\r\n            if (count == stringArray.size) count = 0\r\n        }, 5000)\r\n    }","title":"How to switch TextView between values every 5 seconds","body":"<p>There is code for XML files</p>\n<pre><code>    &lt;com.google.android.material.textview.MaterialTextView\n    android:id=&quot;@+id/tx_demo&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:text=&quot;Hello World!&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n</code></pre>\n<p>There is code for Java files</p>\n<pre><code>  private var txDemo: MaterialTextView? = null\n  int count = 0;\nprivate void initView() {\n    String[] stringArray = {&quot;Text:-1&quot;, &quot;Text:-2&quot;, &quot;Text:-3&quot;, &quot;Text:-4&quot;, &quot;Text:-5&quot;};\n    txDemo = findViewById(R.id.tx_demo);\n    new Handler().postDelayed(() -&gt; {\n        txDemo.setText(stringArray[0]);\n        count++;\n        if (count == stringArray.length)\n            count = 0;\n\n    }, 5000);\n}\n</code></pre>\n<p>or\nkotlin Code</p>\n<pre><code>  var count = 0\nprivate fun initView() {\n    val stringArray = arrayOf(&quot;Text:-1&quot;, &quot;Text:-2&quot;, &quot;Text:-3&quot;, &quot;Text:-4&quot;, &quot;Text:-5&quot;)\n    txDemo = findViewById(R.id.tx_demo)\n    Handler().postDelayed({\n        txDemo!!.text = stringArray[0]\n        count++\n        if (count == stringArray.size) count = 0\n    }, 5000)\n}\n</code></pre>\n"}],"owner":{"account_id":10476904,"reputation":213,"user_id":7723145,"accept_rate":50,"display_name":"Adam"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":338,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":56341645,"answer_count":3,"score":2,"last_activity_date":1659427952,"creation_date":1559042555,"question_id":56341089,"body_markdown":"I don&#39;t know if using **Threads** is the practice for what I am trying to achieve so please feel free to amend the code where you wish.\r\n\r\nI am trying to implement a feature in my app where a `TextView` switches to 1 value and thereafter reverts back to the initial value every 5 seconds. I have implemented the following using on a thread:\r\n\r\n        layoutDate.setText(firstNumber);\r\n\r\n        Thread numberSwitch = new Thread() {\r\n\t    @Override\r\n\t    public void run() {\r\n\t\t    while(!isInterrupted()) {\r\n\t\t\t    try {\r\n\t\t\t\t\r\n\t\t\t\t    Thread.sleep(5000);\r\n\t\t\t\t\r\n\t\t\t\t    runOnUiThread(new Runnable () {\r\n\t\t\t\t\t    @Override\r\n\t\t\t\t\t    public void run() {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t    \tlayoutDate.setText(secondNumber);\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t    \t}\r\n\t\t\t    \t});\r\n\t\t    \t} catch (InterruptedException e) {\r\n\t\t\t    \te.printStackTrace();\r\n\t\t\t    }\r\n\t\t    }\t\t\r\n\t    }\r\n    };\r\n\r\n    numberSwitch.start();\r\n\r\n I have tried adding `layoutDate.setText(firstNumber)` just after the `runUiOnThread` and also after the nested `run` but it still doesn&#39;t work as I want it to.\r\n\r\nI want to achieve something like the following:\r\n\r\n[![Example][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pmss2.gif","title":"How to switch TextView between values every 5 seconds","body":"<p>I don't know if using <strong>Threads</strong> is the practice for what I am trying to achieve so please feel free to amend the code where you wish.</p>\n\n<p>I am trying to implement a feature in my app where a <code>TextView</code> switches to 1 value and thereafter reverts back to the initial value every 5 seconds. I have implemented the following using on a thread:</p>\n\n<pre><code>    layoutDate.setText(firstNumber);\n\n    Thread numberSwitch = new Thread() {\n    @Override\n    public void run() {\n        while(!isInterrupted()) {\n            try {\n\n                Thread.sleep(5000);\n\n                runOnUiThread(new Runnable () {\n                    @Override\n                    public void run() {\n\n                        layoutDate.setText(secondNumber);                   \n\n                    }\n                });\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }       \n    }\n};\n\nnumberSwitch.start();\n</code></pre>\n\n<p>I have tried adding <code>layoutDate.setText(firstNumber)</code> just after the <code>runUiOnThread</code> and also after the nested <code>run</code> but it still doesn't work as I want it to.</p>\n\n<p>I want to achieve something like the following:</p>\n\n<p><a href=\"https://i.stack.imgur.com/pmss2.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pmss2.gif\" alt=\"Example\"></a></p>\n"},{"tags":["java","cucumber","testng","cucumber-java"],"answers":[{"tags":[],"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658882543,"creation_date":1658882543,"answer_id":73131123,"question_id":73113323,"body_markdown":"You can not. Scenarios are intended to be executed independently from each other. Depending on what you are testing, you could turn all scenarios in a feature file into a single scenario.\r\n\r\nHowever you should consider rewriting your scenarios such that they do not depend on the actions in previous scenarios.\r\n\r\nTypically this means writing scenarios like:\r\n\r\n```\r\nScenario: Do a thing\r\n  Given a thing\r\n  When a thing is used\r\n  Then something happens\r\n\r\nScenario: Do another thing next\r\n  Given a thing that was used\r\n  When a thing is used again\r\n  Then something else happens\r\n```\r\n\r\nTo implement `a thing that was used` you can reuse the methods you&#39;ve already written to implement the steps of the first scenario.","title":"How to Run cucumber Feature files in parallel","body":"<p>You can not. Scenarios are intended to be executed independently from each other. Depending on what you are testing, you could turn all scenarios in a feature file into a single scenario.</p>\n<p>However you should consider rewriting your scenarios such that they do not depend on the actions in previous scenarios.</p>\n<p>Typically this means writing scenarios like:</p>\n<pre><code>Scenario: Do a thing\n  Given a thing\n  When a thing is used\n  Then something happens\n\nScenario: Do another thing next\n  Given a thing that was used\n  When a thing is used again\n  Then something else happens\n</code></pre>\n<p>To implement <code>a thing that was used</code> you can reuse the methods you've already written to implement the steps of the first scenario.</p>\n"},{"tags":[],"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659427370,"creation_date":1659427370,"answer_id":73203958,"question_id":73113323,"body_markdown":"You cannot achive that with `TestNg`. **But.** You can achieve that with `JUnit4`. Basically That is how parallelisation works for `JUnit 4` according to [Cucumber specification][1].\r\n\r\n&gt; Cucumber can be executed in parallel using JUnit and Maven test execution plugins. **In JUnit the feature files are run in parallel rather than scenarios, which means all the scenarios in a feature file will be executed by the same thread.** You can use either Maven Surefire or Failsafe plugin to execute the runners.\r\n\r\n\r\n  [1]: https://cucumber.io/docs/guides/parallel-execution/?lang=java","title":"How to Run cucumber Feature files in parallel","body":"<p>You cannot achive that with <code>TestNg</code>. <strong>But.</strong> You can achieve that with <code>JUnit4</code>. Basically That is how parallelisation works for <code>JUnit 4</code> according to <a href=\"https://cucumber.io/docs/guides/parallel-execution/?lang=java\" rel=\"nofollow noreferrer\">Cucumber specification</a>.</p>\n<blockquote>\n<p>Cucumber can be executed in parallel using JUnit and Maven test execution plugins. <strong>In JUnit the feature files are run in parallel rather than scenarios, which means all the scenarios in a feature file will be executed by the same thread.</strong> You can use either Maven Surefire or Failsafe plugin to execute the runners.</p>\n</blockquote>\n"}],"owner":{"account_id":25892258,"reputation":3,"user_id":19619472,"display_name":"Santanu Ghatak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1432,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73203958,"answer_count":2,"score":0,"last_activity_date":1659427370,"creation_date":1658771060,"question_id":73113323,"body_markdown":"I want to run Features files (not scenario) to run in Parallel.\r\n\r\nFirst Feature:\r\n\r\n    Feature: Refund item for Jeff\r\n    \r\n      Scenario: 01 Collect Details\r\n        Given Collect Jeff details\r\n        And Collect receipts for purchase\r\n      \r\n      Scenario: 02 Refund\r\n        When Jeff returns the microwave\r\n        Then Jeff should be refunded $100\r\n\r\nSecond Feature:\r\n\r\n    Feature: Refund item for Dave\r\n    \r\n      Scenario: 01 Collect Details\r\n        Given Collect Dave details\r\n        And Collect receipts for purchase\r\n      \r\n      Scenario: 02 Refund\r\n        When Dave returns the microwave\r\n        Then Dave should be refunded $100\r\n\r\n\r\nI am using Cucumber-java with testng. I am able to run the scenarios in parallel. But I really want to run the Features in Parallel.\r\nI already implemented below code for parallel scenario.\r\n\r\n\r\n    public class RunCucumberTest extends AbstractTestNGCucumberTests {\r\n    \r\n        @Override\r\n        @DataProvider(parallel = true)\r\n        public Object[][] scenarios() {\r\n            return super.scenarios();\r\n        }\r\n    }\r\n\r\n","title":"How to Run cucumber Feature files in parallel","body":"<p>I want to run Features files (not scenario) to run in Parallel.</p>\n<p>First Feature:</p>\n<pre><code>Feature: Refund item for Jeff\n\n  Scenario: 01 Collect Details\n    Given Collect Jeff details\n    And Collect receipts for purchase\n  \n  Scenario: 02 Refund\n    When Jeff returns the microwave\n    Then Jeff should be refunded $100\n</code></pre>\n<p>Second Feature:</p>\n<pre><code>Feature: Refund item for Dave\n\n  Scenario: 01 Collect Details\n    Given Collect Dave details\n    And Collect receipts for purchase\n  \n  Scenario: 02 Refund\n    When Dave returns the microwave\n    Then Dave should be refunded $100\n</code></pre>\n<p>I am using Cucumber-java with testng. I am able to run the scenarios in parallel. But I really want to run the Features in Parallel.\nI already implemented below code for parallel scenario.</p>\n<pre><code>public class RunCucumberTest extends AbstractTestNGCucumberTests {\n\n    @Override\n    @DataProvider(parallel = true)\n    public Object[][] scenarios() {\n        return super.scenarios();\n    }\n}\n</code></pre>\n"},{"tags":["java","firebird","firebird-3.0","jaybird"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1659287099,"post_id":73185221,"comment_id":129253759,"body_markdown":"Maybe the user in the database onl yhas uppercase letters? You will have to create a new user or rename the existing one to lower case.","body":"Maybe the user in the database onl yhas uppercase letters? You will have to create a new user or rename the existing one to lower case."},{"owner":{"account_id":13994147,"reputation":31,"user_id":10107403,"display_name":" "},"score":0,"creation_date":1659287667,"post_id":73185221,"comment_id":129253865,"body_markdown":"No. I can have as many users as I want. But it is not possible to connect with small letters in the login. I thought maybe the translation to uppercase was done before me. As FireBird 2 the register was not important. But I have a new driver and just a few lines of code","body":"No. I can have as many users as I want. But it is not possible to connect with small letters in the login. I thought maybe the translation to uppercase was done before me. As FireBird 2 the register was not important. But I have a new driver and just a few lines of code"},{"owner":{"account_id":950066,"reputation":15857,"user_id":976391,"accept_rate":75,"display_name":"Arioch &#39;The"},"score":0,"creation_date":1659293071,"post_id":73185221,"comment_id":129255083,"body_markdown":"FB 3 has two &quot;authentication plugins&quot;, LEGACY and SRP.  LEGACY is extracted FB1/2 code, and SRP is &quot;new, proper&quot; one. Try reading about it and maybe change the FB config to only allow legacy and not any other. If then the case sensitivity would be back to FB2 case, then perhaps that is where the diffference comes from.  // You might try community at https://sqlru.net  or maybe try old articles of sql.ru from on web.archive.org","body":"FB 3 has two &quot;authentication plugins&quot;, LEGACY and SRP.  LEGACY is extracted FB1/2 code, and SRP is &quot;new, proper&quot; one. Try reading about it and maybe change the FB config to only allow legacy and not any other. If then the case sensitivity would be back to FB2 case, then perhaps that is where the diffference comes from.  // You might try community at <a href=\"https://sqlru.net\" rel=\"nofollow noreferrer\">sqlru.net</a>  or maybe try old articles of sql.ru from on web.archive.org"},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1659336703,"post_id":73185221,"comment_id":129261695,"body_markdown":"Please show the output (using SYSDBA or another admin user) for `select sec$user_name, sec$active, sec$plugin from sec$users;`","body":"Please show the output (using SYSDBA or another admin user) for <code>select sec$user_name, sec$active, sec$plugin from sec$users;</code>"},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1659336848,"post_id":73185221,"comment_id":129261726,"body_markdown":"@knittl All-uppercase usernames are case-insensitive in Firebird. But using unquoted usernames results in them being converted to uppercase (so authenticating with `smoll2` authenticates against user `SMOLL2`). The problem is either that the user was created case-sensitively (in which case the OP needs to authenticate as `&quot;smoll2&quot;` (i.e. string literal `&quot;\\&quot;smoll2\\&quot;&quot;`), or that the user was created with the Legacy_UserManager, and Jaybird 4 and higher do not try Legacy_Auth by default.","body":"@knittl All-uppercase usernames are case-insensitive in Firebird. But using unquoted usernames results in them being converted to uppercase (so authenticating with <code>smoll2</code> authenticates against user <code>SMOLL2</code>). The problem is either that the user was created case-sensitively (in which case the OP needs to authenticate as <code>&quot;smoll2&quot;</code> (i.e. string literal <code>&quot;\\&quot;smoll2\\&quot;&quot;</code>), or that the user was created with the Legacy_UserManager, and Jaybird 4 and higher do not try Legacy_Auth by default."}],"answers":[{"tags":[],"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1659340492,"creation_date":1659338151,"answer_id":73190032,"question_id":73185221,"body_markdown":"There are basically four situations where this authentication error will happen:\r\n\r\n1. The user does not exist or has the wrong password\r\n2. You created the user with a case-sensitive username, e.g. using `CREATE USER &quot;smoll2&quot; ...`.\r\n3. You created the user with the Legacy_UserManager, and are using Jaybird 4, which by default [no longer authenticates with Legacy_Auth][1]\r\n4. The user is marked inactive\r\n\r\nI assume case 1 doesn&#39;t apply here, but otherwise you need to create the user or change its password.\r\n\r\nFor case 2, it is important to realise that - since Firebird 3.0 - usernames are identifiers, and follow the same rules as identifiers. Which means unquoted names are stored in uppercase, and match case-insensitively (by means of uppercasing), while quoted names are stored exactly and are compared as is. If you created the user case-sensitively (`CREATE USER &quot;smoll2&quot; ...`), then you need to authenticate with a quoted user name:\r\n\r\n```java\r\nproperties.setProperty(&quot;user&quot;, &quot;\\&quot;smoll2\\&quot;&quot;);\r\n```\r\n\r\nIf you don&#39;t do this, you are actually authenticating against the user SMOLL2 (which doesn&#39;t exist).\r\n\r\nFor case 3, since Firebird 3.0, Firebird provides multiple authentication plugins with accompanying user managers. Users exist per user manager. Since Jaybird 4, Jaybird by default only authenticates with plugins Srp256 and Srp (which share the Srp user manager). If you created your user with the Legacy_UserManager (either because it is the first configured in `UserManager` in firebird.conf, or because you used the `using plugin Legacy_UserManager` clause when creating the user), you cannot authenticate with the default settings of Jaybird, because it doesn&#39;t try the Legacy_Auth user plugin.\r\n\r\nThere are two solutions for this case:\r\n1. Drop the user with the Legacy_UserManager and create it with the Srp user manager\r\n2. Configure Jaybird to also try Legacy_Auth:\r\n\r\n   ```java\r\n   properties.setProperty(&quot;authPlugins&quot;, &quot;Srp256,Srp,Legacy_Auth&quot;);\r\n   ```\r\n\r\n   If you only want to try Legacy_Auth, you can remove Srp256 and Srp from the list.\r\n\r\nAs a variation of case 3, this can also occur if you have a custom user manager and authentication plugin which is not supported by Jaybird.\r\n\r\nFinally case 4, a user can be inactive (either because it was created with the `INACTIVE` clause, or altered to inactive). An inactive user is not allowed to authenticate. The inactive state is ignored for Legacy_UserManager/Legacy_Auth. If a user is inactive, you can activate it again with:\r\n\r\n   ```sql\r\n   alter user smoll2 set active\r\n   ```\r\n\r\nBe aware that it could also be a combination of 2 and 3 (using a case-sensitive username **and** Legacy_UserManager). You can verify which user you have, if it is active, and for which user manager, by executing the following query as SYSDBA or a user with RDB$ADMIN role in the current database and the security database:\r\n\r\n```sql\r\nselect sec$user_name, sec$active, sec$plugin from sec$users;\r\n```\r\n\r\nFor Legacy_UserManager, the `SEC$ACTIVE` column is NULL, as it doesn&#39;t support the active/inactive state.\r\n\r\n  [1]: https://www.firebirdsql.org/file/documentation/drivers_documentation/java/4.0.x/release_notes.html#default-authentication-plugins","title":"Can&#39;t connect to Firebird 3.0 with user with small letters in login with Java","body":"<p>There are basically four situations where this authentication error will happen:</p>\n<ol>\n<li>The user does not exist or has the wrong password</li>\n<li>You created the user with a case-sensitive username, e.g. using <code>CREATE USER &quot;smoll2&quot; ...</code>.</li>\n<li>You created the user with the Legacy_UserManager, and are using Jaybird 4, which by default <a href=\"https://www.firebirdsql.org/file/documentation/drivers_documentation/java/4.0.x/release_notes.html#default-authentication-plugins\" rel=\"nofollow noreferrer\">no longer authenticates with Legacy_Auth</a></li>\n<li>The user is marked inactive</li>\n</ol>\n<p>I assume case 1 doesn't apply here, but otherwise you need to create the user or change its password.</p>\n<p>For case 2, it is important to realise that - since Firebird 3.0 - usernames are identifiers, and follow the same rules as identifiers. Which means unquoted names are stored in uppercase, and match case-insensitively (by means of uppercasing), while quoted names are stored exactly and are compared as is. If you created the user case-sensitively (<code>CREATE USER &quot;smoll2&quot; ...</code>), then you need to authenticate with a quoted user name:</p>\n<pre class=\"lang-java prettyprint-override\"><code>properties.setProperty(&quot;user&quot;, &quot;\\&quot;smoll2\\&quot;&quot;);\n</code></pre>\n<p>If you don't do this, you are actually authenticating against the user SMOLL2 (which doesn't exist).</p>\n<p>For case 3, since Firebird 3.0, Firebird provides multiple authentication plugins with accompanying user managers. Users exist per user manager. Since Jaybird 4, Jaybird by default only authenticates with plugins Srp256 and Srp (which share the Srp user manager). If you created your user with the Legacy_UserManager (either because it is the first configured in <code>UserManager</code> in firebird.conf, or because you used the <code>using plugin Legacy_UserManager</code> clause when creating the user), you cannot authenticate with the default settings of Jaybird, because it doesn't try the Legacy_Auth user plugin.</p>\n<p>There are two solutions for this case:</p>\n<ol>\n<li><p>Drop the user with the Legacy_UserManager and create it with the Srp user manager</p>\n</li>\n<li><p>Configure Jaybird to also try Legacy_Auth:</p>\n<pre class=\"lang-java prettyprint-override\"><code>properties.setProperty(&quot;authPlugins&quot;, &quot;Srp256,Srp,Legacy_Auth&quot;);\n</code></pre>\n<p>If you only want to try Legacy_Auth, you can remove Srp256 and Srp from the list.</p>\n</li>\n</ol>\n<p>As a variation of case 3, this can also occur if you have a custom user manager and authentication plugin which is not supported by Jaybird.</p>\n<p>Finally case 4, a user can be inactive (either because it was created with the <code>INACTIVE</code> clause, or altered to inactive). An inactive user is not allowed to authenticate. The inactive state is ignored for Legacy_UserManager/Legacy_Auth. If a user is inactive, you can activate it again with:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>alter user smoll2 set active\n</code></pre>\n<p>Be aware that it could also be a combination of 2 and 3 (using a case-sensitive username <strong>and</strong> Legacy_UserManager). You can verify which user you have, if it is active, and for which user manager, by executing the following query as SYSDBA or a user with RDB$ADMIN role in the current database and the security database:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>select sec$user_name, sec$active, sec$plugin from sec$users;\n</code></pre>\n<p>For Legacy_UserManager, the <code>SEC$ACTIVE</code> column is NULL, as it doesn't support the active/inactive state.</p>\n"}],"owner":{"account_id":13994147,"reputation":31,"user_id":10107403,"display_name":" "},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":417,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":73190032,"answer_count":1,"score":1,"last_activity_date":1659427315,"creation_date":1659286414,"question_id":73185221,"body_markdown":"I connect with names in capital letters, but it does not want to connect with small letters in the login.\r\n\r\nHere is a small test\r\n```\r\nString ENCODING = &quot;WIN1251&quot;;\r\nString CONNECTION_URL = &quot;jdbc:firebirdsql:localhost:C:/ProgramData/test.FDB&quot;;\r\nProperties properties = new Properties();\r\nproperties.setProperty(&quot;encoding&quot;, ENCODING);\r\nproperties.setProperty(&quot;roleName&quot;, &quot;GUEST&quot;);\r\nproperties.setProperty(&quot;user&quot;, &quot;smoll2&quot;);\r\nproperties.setProperty(&quot;password&quot;, &quot;1234567a&quot;);\r\nDriverManager.getConnection(CONNECTION_URL, properties);\r\n```\r\n\r\n```none\r\njava.sql.SQLInvalidAuthorizationSpecException: Your user name and password are not defined. Ask your database administrator to set up a Firebird login. [SQLState:28000, ISC error code:335544472]\r\n\tat org.firebirdsql.gds.ng.FbExceptionBuilder$Type$4.createSQLException(FbExceptionBuilder.java:572)\r\n\tat org.firebirdsql.gds.ng.FbExceptionBuilder.toFlatSQLException(FbExceptionBuilder.java:302)\r\n\tat org.firebirdsql.gds.ng.wire.AbstractWireOperations.readStatusVector(AbstractWireOperations.java:138)\r\n\tat org.firebirdsql.gds.ng.wire.AbstractWireOperations.processOperation(AbstractWireOperations.java:202)\r\n\tat org.firebirdsql.gds.ng.wire.AbstractWireOperations.readOperationResponse(AbstractWireOperations.java:161)\r\n\tat org.firebirdsql.gds.ng.wire.version13.V13WireOperations.authReceiveResponse(V13WireOperations.java:122)\r\n\tat org.firebirdsql.gds.ng.wire.version10.V10Database.authReceiveResponse(V10Database.java:569)\r\n\tat org.firebirdsql.gds.ng.wire.WireConnection.identify(WireConnection.java:309)\r\n\tat org.firebirdsql.gds.ng.wire.FbWireDatabaseFactory.performConnect(FbWireDatabaseFactory.java:51)\r\n\tat org.firebirdsql.gds.ng.wire.FbWireDatabaseFactory.connect(FbWireDatabaseFactory.java:39)\r\n\tat org.firebirdsql.gds.ng.wire.FbWireDatabaseFactory.connect(FbWireDatabaseFactory.java:32)\r\n\tat org.firebirdsql.jca.FBManagedConnection.&lt;init&gt;(FBManagedConnection.java:141)\r\n\tat org.firebirdsql.jca.FBManagedConnectionFactory.createManagedConnection(FBManagedConnectionFactory.java:550)\r\n\tat org.firebirdsql.jca.FBStandAloneConnectionManager.allocateConnection(FBStandAloneConnectionManager.java:65)\r\n\tat org.firebirdsql.jdbc.FBDataSource.getConnection(FBDataSource.java:124)\r\n\tat org.firebirdsql.jdbc.FBDriver.connect(FBDriver.java:137)\r\n\tat java.sql.DriverManager.getConnection(DriverManager.java:664)\r\n\tat java.sql.DriverManager.getConnection(DriverManager.java:208)\r\n```","title":"Can&#39;t connect to Firebird 3.0 with user with small letters in login with Java","body":"<p>I connect with names in capital letters, but it does not want to connect with small letters in the login.</p>\n<p>Here is a small test</p>\n<pre><code>String ENCODING = &quot;WIN1251&quot;;\nString CONNECTION_URL = &quot;jdbc:firebirdsql:localhost:C:/ProgramData/test.FDB&quot;;\nProperties properties = new Properties();\nproperties.setProperty(&quot;encoding&quot;, ENCODING);\nproperties.setProperty(&quot;roleName&quot;, &quot;GUEST&quot;);\nproperties.setProperty(&quot;user&quot;, &quot;smoll2&quot;);\nproperties.setProperty(&quot;password&quot;, &quot;1234567a&quot;);\nDriverManager.getConnection(CONNECTION_URL, properties);\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>java.sql.SQLInvalidAuthorizationSpecException: Your user name and password are not defined. Ask your database administrator to set up a Firebird login. [SQLState:28000, ISC error code:335544472]\n    at org.firebirdsql.gds.ng.FbExceptionBuilder$Type$4.createSQLException(FbExceptionBuilder.java:572)\n    at org.firebirdsql.gds.ng.FbExceptionBuilder.toFlatSQLException(FbExceptionBuilder.java:302)\n    at org.firebirdsql.gds.ng.wire.AbstractWireOperations.readStatusVector(AbstractWireOperations.java:138)\n    at org.firebirdsql.gds.ng.wire.AbstractWireOperations.processOperation(AbstractWireOperations.java:202)\n    at org.firebirdsql.gds.ng.wire.AbstractWireOperations.readOperationResponse(AbstractWireOperations.java:161)\n    at org.firebirdsql.gds.ng.wire.version13.V13WireOperations.authReceiveResponse(V13WireOperations.java:122)\n    at org.firebirdsql.gds.ng.wire.version10.V10Database.authReceiveResponse(V10Database.java:569)\n    at org.firebirdsql.gds.ng.wire.WireConnection.identify(WireConnection.java:309)\n    at org.firebirdsql.gds.ng.wire.FbWireDatabaseFactory.performConnect(FbWireDatabaseFactory.java:51)\n    at org.firebirdsql.gds.ng.wire.FbWireDatabaseFactory.connect(FbWireDatabaseFactory.java:39)\n    at org.firebirdsql.gds.ng.wire.FbWireDatabaseFactory.connect(FbWireDatabaseFactory.java:32)\n    at org.firebirdsql.jca.FBManagedConnection.&lt;init&gt;(FBManagedConnection.java:141)\n    at org.firebirdsql.jca.FBManagedConnectionFactory.createManagedConnection(FBManagedConnectionFactory.java:550)\n    at org.firebirdsql.jca.FBStandAloneConnectionManager.allocateConnection(FBStandAloneConnectionManager.java:65)\n    at org.firebirdsql.jdbc.FBDataSource.getConnection(FBDataSource.java:124)\n    at org.firebirdsql.jdbc.FBDriver.connect(FBDriver.java:137)\n    at java.sql.DriverManager.getConnection(DriverManager.java:664)\n    at java.sql.DriverManager.getConnection(DriverManager.java:208)\n</code></pre>\n"},{"tags":["java","android","android-intent"],"comments":[{"owner":{"account_id":9172301,"reputation":4168,"user_id":6819340,"accept_rate":39,"display_name":"darshan"},"score":0,"creation_date":1659426594,"post_id":73203774,"comment_id":129285795,"body_markdown":"Maybe post some code?","body":"Maybe post some code?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1659426668,"post_id":73203774,"comment_id":129285818,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":25955011,"reputation":9,"user_id":19672479,"display_name":"andreea"},"score":0,"creation_date":1659427158,"post_id":73203774,"comment_id":129285956,"body_markdown":"@DarShan sure :)","body":"@DarShan sure :)"},{"owner":{"account_id":12893114,"reputation":606,"user_id":9324427,"display_name":"Mustufa Ansari"},"score":0,"creation_date":1659427743,"post_id":73203774,"comment_id":129286155,"body_markdown":"Possible duplicate [https://stackoverflow.com/questions/7145606/how-do-you-save-store-objects-in-sharedpreferences-on-android]","body":"Possible duplicate [<a href=\"https://stackoverflow.com/questions/7145606/how-do-you-save-store-objects-in-sharedpreferences-on-android]\" title=\"how do you save store objects in sharedpreferences on android%5d\">stackoverflow.com/questions/7145606/&hellip;</a>"},{"owner":{"account_id":25955011,"reputation":9,"user_id":19672479,"display_name":"andreea"},"score":0,"creation_date":1659429262,"post_id":73203774,"comment_id":129286640,"body_markdown":"@MustufaAnsari my problem is that i get data loss using Gson to retrieve the intent object from shared pref. it works just fine with any other object type, but there is a problem with intent, and i&#39;ve also seen other people complaining about this.","body":"@MustufaAnsari my problem is that i get data loss using Gson to retrieve the intent object from shared pref. it works just fine with any other object type, but there is a problem with intent, and i&#39;ve also seen other people complaining about this."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1659443371,"post_id":73203774,"comment_id":129291688,"body_markdown":"`String uriString = data.toUri(0);` You want a string and toUri() will deliver an uri. So what is it hat you get? You should save Uri.toString() to be clear. Please post complete onActivityResult.","body":"<code>String uriString = data.toUri(0);</code> You want a string and toUri() will deliver an uri. So what is it hat you get? You should save Uri.toString() to be clear. Please post complete onActivityResult."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1659443475,"post_id":73203774,"comment_id":129291737,"body_markdown":"`This is what I&#39;ve tried for storing it as uri:` No you are not savin an Uri instance. You are saving a String. Which is ok..","body":"<code>This is what I&#39;ve tried for storing it as uri:</code> No you are not savin an Uri instance. You are saving a String. Which is ok.."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1659443585,"post_id":73203774,"comment_id":129291787,"body_markdown":"`data = Intent.parseUri(intentData, 0);` ???? Better: `Uri uri = Uri.parse(intentData);`","body":"<code>data = Intent.parseUri(intentData, 0);</code> ???? Better: <code>Uri uri = Uri.parse(intentData);</code>"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1659443715,"post_id":73203774,"comment_id":129291841,"body_markdown":"`editor.putString(&quot;SavedIntentData&quot;, uriString);` Change to `editor.putString(&quot;uristring&quot;, uriString);` to make your code readable.","body":"<code>editor.putString(&quot;SavedIntentData&quot;, uriString);</code> Change to <code>editor.putString(&quot;uristring&quot;, uriString);</code> to make your code readable."}],"owner":{"account_id":25955011,"reputation":9,"user_id":19672479,"display_name":"andreea"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1659427065,"creation_date":1659426333,"question_id":73203774,"body_markdown":"I&#39;m trying to save an Intent object to SharedPreferences and the result code from onActivityResult() so I can use it later. I have already tired to store it as a json using Gson, but there is data loss. I have also tried to save it as uri, but the Intent.toURi() method returns empty string or a string that is not complete. Is there any other way to save it than as a string ? The intent has extras and I need to save all of its data, not just some parts of it.\r\n\r\nThis is what I&#39;ve tried for storing it as uri:\r\n\r\n    SharedPreferences settings = getSharedPreferences(PREFERENCES, 0);\r\n    SharedPreferences.Editor editor = settings.edit();\r\n    String uriString = data.toUri(0);\r\n    editor.putString(&quot;SavedIntentData&quot;, uriString);\r\n    editor.putInt(&quot;SavedResultCode&quot;, resultCode);\r\n    editor.apply();\r\n\r\nand for restoring it:\r\n\r\n    SharedPreferences settings = getSharedPreferences(PREFERENCES, 0);\r\n    String intentData = settings.getString(&quot;SavedIntentData&quot;, null);\r\n    int resultCode = settings.getInt(&quot;SavedResultCode&quot;, 0);\r\n    if(resultCode !=0 &amp;&amp; intentData != null) {\r\n        data = Intent.parseUri(intentData, 0);\r\n    }\r\n\r\nAnd for json:\r\n\r\n    String intentData = new Gson().toJson(data);\r\n\r\nto restore it:\r\n\r\n    data= new Gson().fromJson(intentData, Intent.class);","title":"Storing Intent object to SharedPreferences","body":"<p>I'm trying to save an Intent object to SharedPreferences and the result code from onActivityResult() so I can use it later. I have already tired to store it as a json using Gson, but there is data loss. I have also tried to save it as uri, but the Intent.toURi() method returns empty string or a string that is not complete. Is there any other way to save it than as a string ? The intent has extras and I need to save all of its data, not just some parts of it.</p>\n<p>This is what I've tried for storing it as uri:</p>\n<pre><code>SharedPreferences settings = getSharedPreferences(PREFERENCES, 0);\nSharedPreferences.Editor editor = settings.edit();\nString uriString = data.toUri(0);\neditor.putString(&quot;SavedIntentData&quot;, uriString);\neditor.putInt(&quot;SavedResultCode&quot;, resultCode);\neditor.apply();\n</code></pre>\n<p>and for restoring it:</p>\n<pre><code>SharedPreferences settings = getSharedPreferences(PREFERENCES, 0);\nString intentData = settings.getString(&quot;SavedIntentData&quot;, null);\nint resultCode = settings.getInt(&quot;SavedResultCode&quot;, 0);\nif(resultCode !=0 &amp;&amp; intentData != null) {\n    data = Intent.parseUri(intentData, 0);\n}\n</code></pre>\n<p>And for json:</p>\n<pre><code>String intentData = new Gson().toJson(data);\n</code></pre>\n<p>to restore it:</p>\n<pre><code>data= new Gson().fromJson(intentData, Intent.class);\n</code></pre>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":15372843,"reputation":103,"user_id":15431883,"display_name":"polyackov_ot"},"score":0,"creation_date":1659422840,"post_id":73203030,"comment_id":129284574,"body_markdown":"Check your select request. \nMaybe you need use &#39;select count(*) from Polica&#39;","body":"Check your select request.  Maybe you need use &#39;select count(*) from Polica&#39;"},{"owner":{"account_id":25256338,"reputation":3,"user_id":19088007,"display_name":"ankharrr"},"score":0,"creation_date":1659423074,"post_id":73203030,"comment_id":129284626,"body_markdown":"Tried it and it sadly doesn&#39;t work.","body":"Tried it and it sadly doesn&#39;t work."},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1659425823,"post_id":73203030,"comment_id":129285550,"body_markdown":"`cfg.configure()` uses the XML file for configuration. I think it could overwrite whatever was configured before. So `addAnnotatedClass(Polica.class)` is ignored. I am not sure about XML configuration, but from what I read, you need to define mapping in there as well.","body":"<code>cfg.configure()</code> uses the XML file for configuration. I think it could overwrite whatever was configured before. So <code>addAnnotatedClass(Polica.class)</code> is ignored. I am not sure about XML configuration, but from what I read, you need to define mapping in there as well."}],"owner":{"account_id":25256338,"reputation":3,"user_id":19088007,"display_name":"ankharrr"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659426771,"creation_date":1659422586,"question_id":73203030,"body_markdown":"Hey i am new to hibernate and java and im getting this exception i tried multiple solutions i found on google and nothing seems to work. Would appreciate any help. I am trying to return number of rows from table in database.\r\n\r\nI am using mapping in xml file and im using addAnnotatedClass yet it is still throwing exception.\r\n\r\nHere is my code:\r\n\r\nMain.java\r\n\r\n    package springfoxdemo.java.swagger;\r\n    \r\n    import java.util.Iterator;\r\n    import java.util.List;\r\n    \r\n    \r\n    import org.hibernate.Query;\r\n    import org.hibernate.Session;\r\n    import org.hibernate.SessionFactory;\r\n    import org.hibernate.cfg.Configuration;\r\n    import org.hibernate.service.ServiceRegistry;\r\n    import org.hibernate.service.ServiceRegistryBuilder;\r\n    \r\n    public class Main {\r\n    \r\n    private static SessionFactory sessionFactory;\r\n    private static ServiceRegistry serviceRegistry;\r\n    \r\n    public static void main(String args[]) {\r\n    \t\r\n    \tSession session = null;\r\n    \ttry\r\n    \t{\r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\tConfiguration cfg= new Configuration().addAnnotatedClass(Polica.class);\r\n    \t\t\tcfg.configure();\r\n    \t\t\tserviceRegistry = new ServiceRegistryBuilder().applySettings(cfg.getProperties()).buildServiceRegistry();\r\n    \t\t\tsessionFactory = cfg.buildSessionFactory(serviceRegistry);\r\n    \t\t}\r\n    \t\tcatch(Throwable th)\r\n    \t\t{\r\n    \t\t\tSystem.err.println(&quot;Failed to create sessionFactory object.&quot;\r\n    \t\t\t+ th);\r\n    \t\t\tthrow new ExceptionInInitializerError(th);\r\n    \t\t}\r\n    \t\tsession = sessionFactory.openSession();\r\n    \t\t\r\n    \t\tQuery query = session.createQuery(&quot;select count(p) from Polica p&quot;);\r\n    \t\tIterator count = query.iterate();\r\n    \t\tSystem.out.println(&quot;No. of rows : &quot;+ count.next()); \r\n    \t}\r\n    \tcatch(Exception e)\r\n    \t{\r\n    \t\tSystem.out.println(e.getMessage());\r\n    \t}\r\n    \tfinally\r\n    \t{\r\n    \t\tsession.close();\r\n    \t}\r\n    \t}\r\n    }\r\n\r\nhibernate.cfg.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!DOCTYPE hibernate-configuration PUBLIC\r\n    \t\t&quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;\r\n    \t\t&quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\r\n    &lt;hibernate-configuration&gt;\r\n        &lt;session-factory&gt;\r\n            &lt;property name=&quot;hibernate.connection.driver_class&quot;&gt;com.mysql.cj.jdbc.Driver&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.connection.password&quot;&gt;PASS&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.connection.url&quot;&gt;DBCONNECTION&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.connection.username&quot;&gt;USERNAME&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\r\n            \r\n            &lt;mapping class=&quot;springfoxdemo.java.swagger.Polica&quot;/&gt;\r\n        &lt;/session-factory&gt;\r\n        \r\n        \r\n    &lt;/hibernate-configuration&gt;\r\n\r\nPolica.java\r\n\r\n    package springfoxdemo.java.swagger;\r\n    \r\n    import jakarta.persistence.Column;\r\n    import jakarta.persistence.Entity;\r\n    import jakarta.persistence.GeneratedValue;\r\n    import jakarta.persistence.Id;\r\n    import jakarta.persistence.Table;\r\n    \r\n    @Entity\r\n    public class Polica {\r\n    \t@Id\r\n    \t@GeneratedValue\r\n    \t@Column(name=&quot;id&quot;)\r\n    \tprivate int id;\r\n    \t@Column(name=&quot;ime_pol&quot;)\r\n    \tprivate String ime_pol;\r\n    \t\r\n    \tpublic Polica() {\r\n    \t\tsuper();\r\n    \t}\r\n    \t\r\n    \tpublic Polica(int id, String ime_pol) {\r\n    \t\tthis.id = id;\r\n    \t\tthis.ime_pol = ime_pol;\r\n    \t}\r\n    \t\r\n    \tpublic int getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \tpublic void setId(int id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \tpublic String getIme_pol() {\r\n    \t\treturn ime_pol;\r\n    \t}\r\n    \tpublic void setIme_pol(String ime_pol) {\r\n    \t\tthis.ime_pol = ime_pol;\r\n    \t}\r\n    \t\r\n    }\r\n\r\nException:\r\n\r\n    Polica is not mapped [select count(p) from Polica p]","title":"Hibernate exception class is not mapped","body":"<p>Hey i am new to hibernate and java and im getting this exception i tried multiple solutions i found on google and nothing seems to work. Would appreciate any help. I am trying to return number of rows from table in database.</p>\n<p>I am using mapping in xml file and im using addAnnotatedClass yet it is still throwing exception.</p>\n<p>Here is my code:</p>\n<p>Main.java</p>\n<pre><code>package springfoxdemo.java.swagger;\n\nimport java.util.Iterator;\nimport java.util.List;\n\n\nimport org.hibernate.Query;\nimport org.hibernate.Session;\nimport org.hibernate.SessionFactory;\nimport org.hibernate.cfg.Configuration;\nimport org.hibernate.service.ServiceRegistry;\nimport org.hibernate.service.ServiceRegistryBuilder;\n\npublic class Main {\n\nprivate static SessionFactory sessionFactory;\nprivate static ServiceRegistry serviceRegistry;\n\npublic static void main(String args[]) {\n    \n    Session session = null;\n    try\n    {\n        try\n        {\n            Configuration cfg= new Configuration().addAnnotatedClass(Polica.class);\n            cfg.configure();\n            serviceRegistry = new ServiceRegistryBuilder().applySettings(cfg.getProperties()).buildServiceRegistry();\n            sessionFactory = cfg.buildSessionFactory(serviceRegistry);\n        }\n        catch(Throwable th)\n        {\n            System.err.println(&quot;Failed to create sessionFactory object.&quot;\n            + th);\n            throw new ExceptionInInitializerError(th);\n        }\n        session = sessionFactory.openSession();\n        \n        Query query = session.createQuery(&quot;select count(p) from Polica p&quot;);\n        Iterator count = query.iterate();\n        System.out.println(&quot;No. of rows : &quot;+ count.next()); \n    }\n    catch(Exception e)\n    {\n        System.out.println(e.getMessage());\n    }\n    finally\n    {\n        session.close();\n    }\n    }\n}\n</code></pre>\n<p>hibernate.cfg.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE hibernate-configuration PUBLIC\n        &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;\n        &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\n&lt;hibernate-configuration&gt;\n    &lt;session-factory&gt;\n        &lt;property name=&quot;hibernate.connection.driver_class&quot;&gt;com.mysql.cj.jdbc.Driver&lt;/property&gt;\n        &lt;property name=&quot;hibernate.connection.password&quot;&gt;PASS&lt;/property&gt;\n        &lt;property name=&quot;hibernate.connection.url&quot;&gt;DBCONNECTION&lt;/property&gt;\n        &lt;property name=&quot;hibernate.connection.username&quot;&gt;USERNAME&lt;/property&gt;\n        &lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\n        \n        &lt;mapping class=&quot;springfoxdemo.java.swagger.Polica&quot;/&gt;\n    &lt;/session-factory&gt;\n    \n    \n&lt;/hibernate-configuration&gt;\n</code></pre>\n<p>Polica.java</p>\n<pre><code>package springfoxdemo.java.swagger;\n\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.Table;\n\n@Entity\npublic class Polica {\n    @Id\n    @GeneratedValue\n    @Column(name=&quot;id&quot;)\n    private int id;\n    @Column(name=&quot;ime_pol&quot;)\n    private String ime_pol;\n    \n    public Polica() {\n        super();\n    }\n    \n    public Polica(int id, String ime_pol) {\n        this.id = id;\n        this.ime_pol = ime_pol;\n    }\n    \n    public int getId() {\n        return id;\n    }\n    public void setId(int id) {\n        this.id = id;\n    }\n    public String getIme_pol() {\n        return ime_pol;\n    }\n    public void setIme_pol(String ime_pol) {\n        this.ime_pol = ime_pol;\n    }\n    \n}\n</code></pre>\n<p>Exception:</p>\n<pre><code>Polica is not mapped [select count(p) from Polica p]\n</code></pre>\n"},{"tags":["java","hibernate","jdbc","glassfish"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1659294083,"post_id":73185921,"comment_id":129255290,"body_markdown":"looks like it gets dead connection from connection pool: hbn tries to disable autocommit before starting transaction and fails.","body":"looks like it gets dead connection from connection pool: hbn tries to disable autocommit before starting transaction and fails."},{"owner":{"account_id":24852597,"reputation":1,"user_id":18729332,"display_name":"Kareem Alaa"},"score":0,"creation_date":1659297321,"post_id":73185921,"comment_id":129255948,"body_markdown":"HI didn&#39;t try as I don&#39;t have the code but I had this reason in mind.. Thank you very much for your answer","body":"HI didn&#39;t try as I don&#39;t have the code but I had this reason in mind.. Thank you very much for your answer"}],"owner":{"account_id":24852597,"reputation":1,"user_id":18729332,"display_name":"Kareem Alaa"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659426519,"creation_date":1659291956,"question_id":73185921,"body_markdown":"I get some errors concerning the JDBC to begin transaction which fails at random times and recovers at a random time. We&#39;re using Java EE and GlassFish server to run a bank wallet-related service which should be running efficiently but unfortunately, it fails. I restart the server but it&#39;s not the once-in-a-lifetime solution that I&#39;m seeking. I suppose that all functions are well written (The project is not mine and I don&#39;t have the code at the moment)\r\n\r\nHere&#39;s the error:\r\n```none\r\n[#|2022-07-27T07:49:40.068+0200|SEVERE|glassfish 4.0||_ThreadID=22;_ThreadName=T\r\nhread-4;_TimeMillis=1658900980068;_LevelValue=1000;|\r\n  org.hibernate.TransactionException: JDBC begins transaction failed:\r\n        at org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction.doBegi\r\nn(JdbcTransaction.java:76)\r\n        at org.hibernate.engine.transaction.spi.AbstractTransactionImpl.begin(Ab\r\nstractTransactionImpl.java:162)\r\n        at org.hibernate.internal.SessionImpl.beginTransaction(SessionImpl.java:\r\n1471)\r\n        at com.fawryis.ebpp.NewWebServiceFromWSDL.saveTransaction(NewWebServiceF\r\nromWSDL.java:455)\r\n        at com.fawryis.ebpp.NewWebServiceFromWSDL.setDataReq(NewWebServiceFromWS\r\nDL.java:436)\r\n        at com.fawryis.ebpp.NewWebServiceFromWSDL.debitAddReq(NewWebServiceFromW\r\nSDL.java:210)\r\n        at com.fawryis.ebpp.NewWebServiceFromWSDL.process(NewWebServiceFromWSDL.\r\njava:98)\r\n        at sun.reflect.GeneratedMethodAccessor61.invoke(Unknown Source)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAcces\r\nsorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:601)\r\n        at org.glassfish.webservices.InstanceResolverImpl$1.invoke(InstanceResol\r\nverImpl.java:143)\r\n        at com.sun.xml.ws.server.InvokerTube$2.invoke(InvokerTube.java:149)\r\n        at com.sun.xml.ws.server.sei.SEIInvokerTube.processRequest(SEIInvokerTub\r\ne.java:88)\r\n        at com.sun.xml.ws.api.pipe.Fiber.__doRun(Fiber.java:1136)\r\n        at com.sun.xml.ws.api.pipe.Fiber._doRun(Fiber.java:1050)\r\n        at com.sun.xml.ws.api.pipe.Fiber.doRun(Fiber.java:1019)\r\n        at com.sun.xml.ws.api.pipe.Fiber.runSync(Fiber.java:877)\r\n        at com.sun.xml.ws.api.pipe.helper.AbstractTubeImpl.process(AbstractTubeI\r\nmpl.java:136)\r\n        at org.glassfish.webservices.MonitoringPipe.process(MonitoringPipe.java:\r\n142)\r\n        at com.sun.xml.ws.api.pipe.helper.PipeAdapter.processRequest(PipeAdapter\r\n.java:119)\r\n        at com.sun.xml.ws.api.pipe.Fiber.__doRun(Fiber.java:1136)\r\n        at com.sun.xml.ws.api.pipe.Fiber._doRun(Fiber.java:1050)\r\n        at com.sun.xml.ws.api.pipe.Fiber.doRun(Fiber.java:1019)\r\n        at com.sun.xml.ws.api.pipe.Fiber.runSync(Fiber.java:877)\r\n        at com.sun.xml.ws.api.pipe.helper.AbstractTubeImpl.process(AbstractTubeI\r\nmpl.java:136)\r\n        at com.sun.enterprise.security.webservices.CommonServerSecurityPipe.proc\r\nessRequest(CommonServerSecurityPipe.java:210)\r\n        at com.sun.enterprise.security.webservices.CommonServerSecurityPipe.proc\r\ness(CommonServerSecurityPipe.java:142)\r\n        at com.sun.xml.ws.api.pipe.helper.PipeAdapter.processRequest(PipeAdapter\r\n.java:119)\r\n        at com.sun.xml.ws.api.pipe.Fiber.__doRun(Fiber.java:1136)\r\n        at com.sun.xml.ws.api.pipe.Fiber._doRun(Fiber.java:1050)\r\n        at com.sun.xml.ws.api.pipe.Fiber.doRun(Fiber.java:1019)\r\n        at com.sun.xml.ws.api.pipe.Fiber.runSync(Fiber.java:877)\r\n        at com.sun.xml.ws.server.WSEndpointImpl$2.process(WSEndpointImpl.java:42\r\n0)\r\n        at com.sun.xml.ws.transport.http.HttpAdapter$HttpToolkit.handle(HttpAdap\r\nter.java:687)\r\n        at com.sun.xml.ws.transport.http.HttpAdapter.handle(HttpAdapter.java:266\r\n)\r\n        at com.sun.xml.ws.transport.http.servlet.ServletAdapter.handle(ServletAd\r\napter.java:169)\r\n        at org.glassfish.webservices.JAXWSServlet.doPost(JAXWSServlet.java:169)\r\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:707)\r\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:790)\r\n        at org.apache.catalina.core.StandardWrapper.service(StandardWrapper.java\r\n:1682)\r\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperV\r\nalve.java:318)\r\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextV\r\nalve.java:160)\r\n        at org.apache.catalina.core.StandardPipeline.doInvoke(StandardPipeline.j\r\nava:734)\r\n        at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.jav\r\na:673)\r\n        at com.sun.enterprise.web.WebPipeline.invoke(WebPipeline.java:99)\r\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.j\r\nava:174)\r\n        at org.apache.catalina.connector.CoyoteAdapter.doService(CoyoteAdapter.j\r\nava:357)\r\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.jav\r\na:260)\r\n        at com.sun.enterprise.v3.services.impl.ContainerMapper.service(Container\r\nMapper.java:188)\r\n        at org.glassfish.grizzly.http.server.HttpHandler.runService(HttpHandler.\r\njava:191)\r\n        at org.glassfish.grizzly.http.server.HttpHandler.doHandle(HttpHandler.ja\r\nva:168)\r\n        at org.glassfish.grizzly.http.server.HttpServerFilter.handleRead(HttpSer\r\nverFilter.java:189)\r\n        at org.glassfish.grizzly.filterchain.ExecutorResolver$9.execute(Executor\r\nResolver.java:119)\r\n        at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeFilter(De\r\nfaultFilterChain.java:288)\r\n        at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeChainPart\r\n(DefaultFilterChain.java:206)\r\n        at org.glassfish.grizzly.filterchain.DefaultFilterChain.execute(DefaultF\r\nilterChain.java:136)\r\n        at org.glassfish.grizzly.filterchain.DefaultFilterChain.process(DefaultF\r\nilterChain.java:114)\r\n        at org.glassfish.grizzly.ProcessorExecutor.execute(ProcessorExecutor.jav\r\na:77)\r\n        at org.glassfish.grizzly.nio.transport.TCPNIOTransport.fireIOEvent(TCPNI\r\nOTransport.java:838)\r\n        at org.glassfish.grizzly.strategies.AbstractIOStrategy.fireIOEvent(Abstr\r\nactIOStrategy.java:113)\r\n        at org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.run0(WorkerTh\r\nreadIOStrategy.java:115)\r\n        at org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.access$100(Wo\r\nrkerThreadIOStrategy.java:55)\r\n        at org.glassfish.grizzly.strategies.WorkerThreadIOStrategy$WorkerThreadR\r\nunnable.run(WorkerThreadIOStrategy.java:135)\r\n        at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(Abs\r\ntractThreadPool.java:564)\r\n        at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(Abstra\r\nctThreadPool.java:544)\r\n        at java.lang.Thread.run(Thread.java:722)\r\nCaused by: java.sql.SQLRecoverableException: Closed Connection\r\n        at oracle.jdbc.driver.PhysicalConnection.getAutoCommit(PhysicalConnectio\r\nn.java:4337)\r\n        at org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction.doBegi\r\nn(JdbcTransaction.java:68)\r\n        ... 65 more|#]\r\n```\r\nHere is the full log:\r\n\r\n```none\r\n[#|2022-07-27T07:49:40.006+0200|INFO|glassfish 4.0||_ThreadID=22;_ThreadName=Thr\r\nead-3;_TimeMillis=1658900980006;_LevelValue=800;|\r\n  ***Start Debit Add Request *******|#]\r\n\r\n[#|2022-07-27T07:49:40.006+0200|INFO|glassfish 4.0||_ThreadID=22;_ThreadName=Thr\r\nead-3;_TimeMillis=1658900980006;_LevelValue=800;|\r\n  accountId::  Zq6FEXkQ7KzHhY9rxeNMTw==|#]\r\n\r\n[#|2022-07-27T07:49:40.006+0200|INFO|glassfish 4.0||_ThreadID=22;_ThreadName=Thr\r\nead-3;_TimeMillis=1658900980006;_LevelValue=800;|\r\n  decryptedAccNo:::  0050000015557|#]\r\n\r\n[#|2022-07-27T07:49:40.006+0200|INFO|glassfish 4.0||_ThreadID=22;_ThreadName=Thr\r\nead-3;_TimeMillis=1658900980006;_LevelValue=800;|\r\n  transactionAmt:::  50.0|#]\r\n\r\n[#|2022-07-27T07:49:40.006+0200|INFO|glassfish 4.0||_ThreadID=22;_ThreadName=Thr\r\nead-3;_TimeMillis=1658900980006;_LevelValue=800;|\r\n  *********Starting check account amount Validation*******|#]\r\n\r\n[#|2022-07-27T07:49:40.006+0200|INFO|glassfish 4.0||_ThreadID=22;_ThreadName=Thr\r\nead-3;_TimeMillis=1658900980006;_LevelValue=800;|\r\n  accountNo:::  0050000015557|#]\r\n\r\n[#|2022-07-27T07:49:40.006+0200|INFO|glassfish 4.0||_ThreadID=22;_ThreadName=Thr\r\nead-3;_TimeMillis=1658900980006;_LevelValue=800;|\r\n  amount:::  50.0|#]\r\n\r\n[#|2022-07-27T07:49:40.068+0200|INFO|glassfish 4.0||_ThreadID=22;_ThreadName=Thr\r\nead-3;_TimeMillis=1658900980068;_LevelValue=800;|\r\n  amount in account&gt;&gt;&gt;:::  185675.54**true|#]\r\n\r\n[#|2022-07-27T07:49:40.068+0200|INFO|glassfish 4.0||_ThreadID=22;_ThreadName=Thr\r\nead-3;_TimeMillis=1658900980068;_LevelValue=800;|\r\n  Employee|#]\r\n\r\n[#|2022-07-27T07:49:40.068+0200|INFO|glassfish 4.0||_ThreadID=22;_ThreadName=Thr\r\nead-3;_TimeMillis=1658900980068;_LevelValue=800;|\r\n  ****Account amount status****true*****Account status**true--Results--OK-AC-AMT\r\n|#]\r\n\r\n[#|2022-07-27T07:49:40.068+0200|INFO|glassfish 4.0||_ThreadID=22;_ThreadName=Thr\r\nead-3;_TimeMillis=1658900980068;_LevelValue=800;|\r\n  *******setDataReq***********|#]\r\n\r\n[#|2022-07-27T07:49:40.068+0200|INFO|glassfish 4.0||_ThreadID=22;_ThreadName=Thr\r\nead-3;_TimeMillis=1658900980068;_LevelValue=800;|\r\n  *******TypeId***********1|#]\r\n\r\n[#|2022-07-27T07:49:40.068+0200|INFO|glassfish 4.0||_ThreadID=22;_ThreadName=Thr\r\nead-3;_TimeMillis=1658900980068;_LevelValue=800;|\r\n  *******WalletSyncId***********c95d29ff-de52-4b2b-8a3f-59771e4a7bc7|#]\r\n\r\n[#|2022-07-27T07:49:40.068+0200|INFO|glassfish 4.0||_ThreadID=22;_ThreadName=Thr\r\nead-3;_TimeMillis=1658900980068;_LevelValue=800;|\r\n  *******dataReqId***********com.hdb.wallet.HdbWalletDataReqId@9bbaa6c|#]\r\n\r\n[#|2022-07-27T07:49:40.068+0200|INFO|glassfish 4.0||_ThreadID=22;_ThreadName=Thr\r\nead-3;_TimeMillis=1658900980068;_LevelValue=800;|\r\n  *******RqUID***********05bd5a17-3ad9-401d-b11e-37b8167e8dca|#]\r\n\r\n[#|2022-07-27T07:49:40.068+0200|INFO|glassfish 4.0||_ThreadID=22;_ThreadName=Thr\r\nead-3;_TimeMillis=1658900980068;_LevelValue=800;|\r\n  *******transactionAmt***********50.0|#]\r\n\r\n[#|2022-07-27T07:49:40.068+0200|INFO|glassfish 4.0||_ThreadID=22;_ThreadName=Thr\r\nead-3;_TimeMillis=1658900980068;_LevelValue=800;|\r\n  *******decryptedAcc***********0050000015557|#]\r\n\r\n[#|2022-07-27T07:49:40.068+0200|INFO|glassfish 4.0||_ThreadID=22;_ThreadName=Thr\r\nead-3;_TimeMillis=1658900980068;_LevelValue=800;|\r\n  *******debitCur***********EGP|#]\r\n\r\n[#|2022-07-27T07:49:40.068+0200|SEVERE|glassfish 4.0||_ThreadID=22;_ThreadName=T\r\nhread-4;_TimeMillis=1658900980068;_LevelValue=1000;|\r\n  org.hibernate.TransactionException: JDBC begins transaction failed:\r\n        at org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction.doBegi\r\nn(JdbcTransaction.java:76)\r\n        at org.hibernate.engine.transaction.spi.AbstractTransactionImpl.begin(Ab\r\nstractTransactionImpl.java:162)\r\n        at org.hibernate.internal.SessionImpl.beginTransaction(SessionImpl.java:\r\n1471)\r\n        at com.fawryis.ebpp.NewWebServiceFromWSDL.saveTransaction(NewWebServiceF\r\nromWSDL.java:455)\r\n        at com.fawryis.ebpp.NewWebServiceFromWSDL.setDataReq(NewWebServiceFromWS\r\nDL.java:436)\r\n        at com.fawryis.ebpp.NewWebServiceFromWSDL.debitAddReq(NewWebServiceFromW\r\nSDL.java:210)\r\n        at com.fawryis.ebpp.NewWebServiceFromWSDL.process(NewWebServiceFromWSDL.\r\njava:98)\r\n        at sun.reflect.GeneratedMethodAccessor61.invoke(Unknown Source)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAcces\r\nsorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:601)\r\n        at org.glassfish.webservices.InstanceResolverImpl$1.invoke(InstanceResol\r\nverImpl.java:143)\r\n        at com.sun.xml.ws.server.InvokerTube$2.invoke(InvokerTube.java:149)\r\n        at com.sun.xml.ws.server.sei.SEIInvokerTube.processRequest(SEIInvokerTub\r\ne.java:88)\r\n        at com.sun.xml.ws.api.pipe.Fiber.__doRun(Fiber.java:1136)\r\n        at com.sun.xml.ws.api.pipe.Fiber._doRun(Fiber.java:1050)\r\n        at com.sun.xml.ws.api.pipe.Fiber.doRun(Fiber.java:1019)\r\n        at com.sun.xml.ws.api.pipe.Fiber.runSync(Fiber.java:877)\r\n        at com.sun.xml.ws.api.pipe.helper.AbstractTubeImpl.process(AbstractTubeI\r\nmpl.java:136)\r\n        at org.glassfish.webservices.MonitoringPipe.process(MonitoringPipe.java:\r\n142)\r\n        at com.sun.xml.ws.api.pipe.helper.PipeAdapter.processRequest(PipeAdapter\r\n.java:119)\r\n        at com.sun.xml.ws.api.pipe.Fiber.__doRun(Fiber.java:1136)\r\n        at com.sun.xml.ws.api.pipe.Fiber._doRun(Fiber.java:1050)\r\n        at com.sun.xml.ws.api.pipe.Fiber.doRun(Fiber.java:1019)\r\n        at com.sun.xml.ws.api.pipe.Fiber.runSync(Fiber.java:877)\r\n        at com.sun.xml.ws.api.pipe.helper.AbstractTubeImpl.process(AbstractTubeI\r\nmpl.java:136)\r\n        at com.sun.enterprise.security.webservices.CommonServerSecurityPipe.proc\r\nessRequest(CommonServerSecurityPipe.java:210)\r\n        at com.sun.enterprise.security.webservices.CommonServerSecurityPipe.proc\r\ness(CommonServerSecurityPipe.java:142)\r\n        at com.sun.xml.ws.api.pipe.helper.PipeAdapter.processRequest(PipeAdapter\r\n.java:119)\r\n        at com.sun.xml.ws.api.pipe.Fiber.__doRun(Fiber.java:1136)\r\n        at com.sun.xml.ws.api.pipe.Fiber._doRun(Fiber.java:1050)\r\n        at com.sun.xml.ws.api.pipe.Fiber.doRun(Fiber.java:1019)\r\n        at com.sun.xml.ws.api.pipe.Fiber.runSync(Fiber.java:877)\r\n        at com.sun.xml.ws.server.WSEndpointImpl$2.process(WSEndpointImpl.java:42\r\n0)\r\n        at com.sun.xml.ws.transport.http.HttpAdapter$HttpToolkit.handle(HttpAdap\r\nter.java:687)\r\n        at com.sun.xml.ws.transport.http.HttpAdapter.handle(HttpAdapter.java:266\r\n)\r\n        at com.sun.xml.ws.transport.http.servlet.ServletAdapter.handle(ServletAd\r\napter.java:169)\r\n        at org.glassfish.webservices.JAXWSServlet.doPost(JAXWSServlet.java:169)\r\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:707)\r\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:790)\r\n        at org.apache.catalina.core.StandardWrapper.service(StandardWrapper.java\r\n:1682)\r\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperV\r\nalve.java:318)\r\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextV\r\nalve.java:160)\r\n        at org.apache.catalina.core.StandardPipeline.doInvoke(StandardPipeline.j\r\nava:734)\r\n        at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.jav\r\na:673)\r\n        at com.sun.enterprise.web.WebPipeline.invoke(WebPipeline.java:99)\r\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.j\r\nava:174)\r\n        at org.apache.catalina.connector.CoyoteAdapter.doService(CoyoteAdapter.j\r\nava:357)\r\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.jav\r\na:260)\r\n        at com.sun.enterprise.v3.services.impl.ContainerMapper.service(Container\r\nMapper.java:188)\r\n        at org.glassfish.grizzly.http.server.HttpHandler.runService(HttpHandler.\r\njava:191)\r\n        at org.glassfish.grizzly.http.server.HttpHandler.doHandle(HttpHandler.ja\r\nva:168)\r\n        at org.glassfish.grizzly.http.server.HttpServerFilter.handleRead(HttpSer\r\nverFilter.java:189)\r\n        at org.glassfish.grizzly.filterchain.ExecutorResolver$9.execute(Executor\r\nResolver.java:119)\r\n        at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeFilter(De\r\nfaultFilterChain.java:288)\r\n        at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeChainPart\r\n(DefaultFilterChain.java:206)\r\n        at org.glassfish.grizzly.filterchain.DefaultFilterChain.execute(DefaultF\r\nilterChain.java:136)\r\n        at org.glassfish.grizzly.filterchain.DefaultFilterChain.process(DefaultF\r\nilterChain.java:114)\r\n        at org.glassfish.grizzly.ProcessorExecutor.execute(ProcessorExecutor.jav\r\na:77)\r\n        at org.glassfish.grizzly.nio.transport.TCPNIOTransport.fireIOEvent(TCPNI\r\nOTransport.java:838)\r\n        at org.glassfish.grizzly.strategies.AbstractIOStrategy.fireIOEvent(Abstr\r\nactIOStrategy.java:113)\r\n        at org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.run0(WorkerTh\r\nreadIOStrategy.java:115)\r\n        at org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.access$100(Wo\r\nrkerThreadIOStrategy.java:55)\r\n        at org.glassfish.grizzly.strategies.WorkerThreadIOStrategy$WorkerThreadR\r\nunnable.run(WorkerThreadIOStrategy.java:135)\r\n        at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(Abs\r\ntractThreadPool.java:564)\r\n        at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(Abstra\r\nctThreadPool.java:544)\r\n        at java.lang.Thread.run(Thread.java:722)\r\nCaused by: java.sql.SQLRecoverableException: Closed Connection\r\n        at oracle.jdbc.driver.PhysicalConnection.getAutoCommit(PhysicalConnectio\r\nn.java:4337)\r\n        at org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction.doBegi\r\nn(JdbcTransaction.java:68)\r\n        ... 65 more|#]\r\n```\r\n\r\nNote: I looked into some questions posted here but I&#39;m not sure If they&#39;re suitable for my case as they&#39;re using Spring.\r\n\r\n","title":"JDBC Begin transaction fails usually and recovers automatically","body":"<p>I get some errors concerning the JDBC to begin transaction which fails at random times and recovers at a random time. We're using Java EE and GlassFish server to run a bank wallet-related service which should be running efficiently but unfortunately, it fails. I restart the server but it's not the once-in-a-lifetime solution that I'm seeking. I suppose that all functions are well written (The project is not mine and I don't have the code at the moment)</p>\n<p>Here's the error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>[#|2022-07-27T07:49:40.068+0200|SEVERE|glassfish 4.0||_ThreadID=22;_ThreadName=T\nhread-4;_TimeMillis=1658900980068;_LevelValue=1000;|\n  org.hibernate.TransactionException: JDBC begins transaction failed:\n        at org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction.doBegi\nn(JdbcTransaction.java:76)\n        at org.hibernate.engine.transaction.spi.AbstractTransactionImpl.begin(Ab\nstractTransactionImpl.java:162)\n        at org.hibernate.internal.SessionImpl.beginTransaction(SessionImpl.java:\n1471)\n        at com.fawryis.ebpp.NewWebServiceFromWSDL.saveTransaction(NewWebServiceF\nromWSDL.java:455)\n        at com.fawryis.ebpp.NewWebServiceFromWSDL.setDataReq(NewWebServiceFromWS\nDL.java:436)\n        at com.fawryis.ebpp.NewWebServiceFromWSDL.debitAddReq(NewWebServiceFromW\nSDL.java:210)\n        at com.fawryis.ebpp.NewWebServiceFromWSDL.process(NewWebServiceFromWSDL.\njava:98)\n        at sun.reflect.GeneratedMethodAccessor61.invoke(Unknown Source)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAcces\nsorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:601)\n        at org.glassfish.webservices.InstanceResolverImpl$1.invoke(InstanceResol\nverImpl.java:143)\n        at com.sun.xml.ws.server.InvokerTube$2.invoke(InvokerTube.java:149)\n        at com.sun.xml.ws.server.sei.SEIInvokerTube.processRequest(SEIInvokerTub\ne.java:88)\n        at com.sun.xml.ws.api.pipe.Fiber.__doRun(Fiber.java:1136)\n        at com.sun.xml.ws.api.pipe.Fiber._doRun(Fiber.java:1050)\n        at com.sun.xml.ws.api.pipe.Fiber.doRun(Fiber.java:1019)\n        at com.sun.xml.ws.api.pipe.Fiber.runSync(Fiber.java:877)\n        at com.sun.xml.ws.api.pipe.helper.AbstractTubeImpl.process(AbstractTubeI\nmpl.java:136)\n        at org.glassfish.webservices.MonitoringPipe.process(MonitoringPipe.java:\n142)\n        at com.sun.xml.ws.api.pipe.helper.PipeAdapter.processRequest(PipeAdapter\n.java:119)\n        at com.sun.xml.ws.api.pipe.Fiber.__doRun(Fiber.java:1136)\n        at com.sun.xml.ws.api.pipe.Fiber._doRun(Fiber.java:1050)\n        at com.sun.xml.ws.api.pipe.Fiber.doRun(Fiber.java:1019)\n        at com.sun.xml.ws.api.pipe.Fiber.runSync(Fiber.java:877)\n        at com.sun.xml.ws.api.pipe.helper.AbstractTubeImpl.process(AbstractTubeI\nmpl.java:136)\n        at com.sun.enterprise.security.webservices.CommonServerSecurityPipe.proc\nessRequest(CommonServerSecurityPipe.java:210)\n        at com.sun.enterprise.security.webservices.CommonServerSecurityPipe.proc\ness(CommonServerSecurityPipe.java:142)\n        at com.sun.xml.ws.api.pipe.helper.PipeAdapter.processRequest(PipeAdapter\n.java:119)\n        at com.sun.xml.ws.api.pipe.Fiber.__doRun(Fiber.java:1136)\n        at com.sun.xml.ws.api.pipe.Fiber._doRun(Fiber.java:1050)\n        at com.sun.xml.ws.api.pipe.Fiber.doRun(Fiber.java:1019)\n        at com.sun.xml.ws.api.pipe.Fiber.runSync(Fiber.java:877)\n        at com.sun.xml.ws.server.WSEndpointImpl$2.process(WSEndpointImpl.java:42\n0)\n        at com.sun.xml.ws.transport.http.HttpAdapter$HttpToolkit.handle(HttpAdap\nter.java:687)\n        at com.sun.xml.ws.transport.http.HttpAdapter.handle(HttpAdapter.java:266\n)\n        at com.sun.xml.ws.transport.http.servlet.ServletAdapter.handle(ServletAd\napter.java:169)\n        at org.glassfish.webservices.JAXWSServlet.doPost(JAXWSServlet.java:169)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:707)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:790)\n        at org.apache.catalina.core.StandardWrapper.service(StandardWrapper.java\n:1682)\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperV\nalve.java:318)\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextV\nalve.java:160)\n        at org.apache.catalina.core.StandardPipeline.doInvoke(StandardPipeline.j\nava:734)\n        at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.jav\na:673)\n        at com.sun.enterprise.web.WebPipeline.invoke(WebPipeline.java:99)\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.j\nava:174)\n        at org.apache.catalina.connector.CoyoteAdapter.doService(CoyoteAdapter.j\nava:357)\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.jav\na:260)\n        at com.sun.enterprise.v3.services.impl.ContainerMapper.service(Container\nMapper.java:188)\n        at org.glassfish.grizzly.http.server.HttpHandler.runService(HttpHandler.\njava:191)\n        at org.glassfish.grizzly.http.server.HttpHandler.doHandle(HttpHandler.ja\nva:168)\n        at org.glassfish.grizzly.http.server.HttpServerFilter.handleRead(HttpSer\nverFilter.java:189)\n        at org.glassfish.grizzly.filterchain.ExecutorResolver$9.execute(Executor\nResolver.java:119)\n        at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeFilter(De\nfaultFilterChain.java:288)\n        at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeChainPart\n(DefaultFilterChain.java:206)\n        at org.glassfish.grizzly.filterchain.DefaultFilterChain.execute(DefaultF\nilterChain.java:136)\n        at org.glassfish.grizzly.filterchain.DefaultFilterChain.process(DefaultF\nilterChain.java:114)\n        at org.glassfish.grizzly.ProcessorExecutor.execute(ProcessorExecutor.jav\na:77)\n        at org.glassfish.grizzly.nio.transport.TCPNIOTransport.fireIOEvent(TCPNI\nOTransport.java:838)\n        at org.glassfish.grizzly.strategies.AbstractIOStrategy.fireIOEvent(Abstr\nactIOStrategy.java:113)\n        at org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.run0(WorkerTh\nreadIOStrategy.java:115)\n        at org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.access$100(Wo\nrkerThreadIOStrategy.java:55)\n        at org.glassfish.grizzly.strategies.WorkerThreadIOStrategy$WorkerThreadR\nunnable.run(WorkerThreadIOStrategy.java:135)\n        at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(Abs\ntractThreadPool.java:564)\n        at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(Abstra\nctThreadPool.java:544)\n        at java.lang.Thread.run(Thread.java:722)\nCaused by: java.sql.SQLRecoverableException: Closed Connection\n        at oracle.jdbc.driver.PhysicalConnection.getAutoCommit(PhysicalConnectio\nn.java:4337)\n        at org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction.doBegi\nn(JdbcTransaction.java:68)\n        ... 65 more|#]\n</code></pre>\n<p>Here is the full log:</p>\n<pre class=\"lang-none prettyprint-override\"><code>[#|2022-07-27T07:49:40.006+0200|INFO|glassfish 4.0||_ThreadID=22;_ThreadName=Thr\nead-3;_TimeMillis=1658900980006;_LevelValue=800;|\n  ***Start Debit Add Request *******|#]\n\n[#|2022-07-27T07:49:40.006+0200|INFO|glassfish 4.0||_ThreadID=22;_ThreadName=Thr\nead-3;_TimeMillis=1658900980006;_LevelValue=800;|\n  accountId::  Zq6FEXkQ7KzHhY9rxeNMTw==|#]\n\n[#|2022-07-27T07:49:40.006+0200|INFO|glassfish 4.0||_ThreadID=22;_ThreadName=Thr\nead-3;_TimeMillis=1658900980006;_LevelValue=800;|\n  decryptedAccNo:::  0050000015557|#]\n\n[#|2022-07-27T07:49:40.006+0200|INFO|glassfish 4.0||_ThreadID=22;_ThreadName=Thr\nead-3;_TimeMillis=1658900980006;_LevelValue=800;|\n  transactionAmt:::  50.0|#]\n\n[#|2022-07-27T07:49:40.006+0200|INFO|glassfish 4.0||_ThreadID=22;_ThreadName=Thr\nead-3;_TimeMillis=1658900980006;_LevelValue=800;|\n  *********Starting check account amount Validation*******|#]\n\n[#|2022-07-27T07:49:40.006+0200|INFO|glassfish 4.0||_ThreadID=22;_ThreadName=Thr\nead-3;_TimeMillis=1658900980006;_LevelValue=800;|\n  accountNo:::  0050000015557|#]\n\n[#|2022-07-27T07:49:40.006+0200|INFO|glassfish 4.0||_ThreadID=22;_ThreadName=Thr\nead-3;_TimeMillis=1658900980006;_LevelValue=800;|\n  amount:::  50.0|#]\n\n[#|2022-07-27T07:49:40.068+0200|INFO|glassfish 4.0||_ThreadID=22;_ThreadName=Thr\nead-3;_TimeMillis=1658900980068;_LevelValue=800;|\n  amount in account&gt;&gt;&gt;:::  185675.54**true|#]\n\n[#|2022-07-27T07:49:40.068+0200|INFO|glassfish 4.0||_ThreadID=22;_ThreadName=Thr\nead-3;_TimeMillis=1658900980068;_LevelValue=800;|\n  Employee|#]\n\n[#|2022-07-27T07:49:40.068+0200|INFO|glassfish 4.0||_ThreadID=22;_ThreadName=Thr\nead-3;_TimeMillis=1658900980068;_LevelValue=800;|\n  ****Account amount status****true*****Account status**true--Results--OK-AC-AMT\n|#]\n\n[#|2022-07-27T07:49:40.068+0200|INFO|glassfish 4.0||_ThreadID=22;_ThreadName=Thr\nead-3;_TimeMillis=1658900980068;_LevelValue=800;|\n  *******setDataReq***********|#]\n\n[#|2022-07-27T07:49:40.068+0200|INFO|glassfish 4.0||_ThreadID=22;_ThreadName=Thr\nead-3;_TimeMillis=1658900980068;_LevelValue=800;|\n  *******TypeId***********1|#]\n\n[#|2022-07-27T07:49:40.068+0200|INFO|glassfish 4.0||_ThreadID=22;_ThreadName=Thr\nead-3;_TimeMillis=1658900980068;_LevelValue=800;|\n  *******WalletSyncId***********c95d29ff-de52-4b2b-8a3f-59771e4a7bc7|#]\n\n[#|2022-07-27T07:49:40.068+0200|INFO|glassfish 4.0||_ThreadID=22;_ThreadName=Thr\nead-3;_TimeMillis=1658900980068;_LevelValue=800;|\n  *******dataReqId***********com.hdb.wallet.HdbWalletDataReqId@9bbaa6c|#]\n\n[#|2022-07-27T07:49:40.068+0200|INFO|glassfish 4.0||_ThreadID=22;_ThreadName=Thr\nead-3;_TimeMillis=1658900980068;_LevelValue=800;|\n  *******RqUID***********05bd5a17-3ad9-401d-b11e-37b8167e8dca|#]\n\n[#|2022-07-27T07:49:40.068+0200|INFO|glassfish 4.0||_ThreadID=22;_ThreadName=Thr\nead-3;_TimeMillis=1658900980068;_LevelValue=800;|\n  *******transactionAmt***********50.0|#]\n\n[#|2022-07-27T07:49:40.068+0200|INFO|glassfish 4.0||_ThreadID=22;_ThreadName=Thr\nead-3;_TimeMillis=1658900980068;_LevelValue=800;|\n  *******decryptedAcc***********0050000015557|#]\n\n[#|2022-07-27T07:49:40.068+0200|INFO|glassfish 4.0||_ThreadID=22;_ThreadName=Thr\nead-3;_TimeMillis=1658900980068;_LevelValue=800;|\n  *******debitCur***********EGP|#]\n\n[#|2022-07-27T07:49:40.068+0200|SEVERE|glassfish 4.0||_ThreadID=22;_ThreadName=T\nhread-4;_TimeMillis=1658900980068;_LevelValue=1000;|\n  org.hibernate.TransactionException: JDBC begins transaction failed:\n        at org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction.doBegi\nn(JdbcTransaction.java:76)\n        at org.hibernate.engine.transaction.spi.AbstractTransactionImpl.begin(Ab\nstractTransactionImpl.java:162)\n        at org.hibernate.internal.SessionImpl.beginTransaction(SessionImpl.java:\n1471)\n        at com.fawryis.ebpp.NewWebServiceFromWSDL.saveTransaction(NewWebServiceF\nromWSDL.java:455)\n        at com.fawryis.ebpp.NewWebServiceFromWSDL.setDataReq(NewWebServiceFromWS\nDL.java:436)\n        at com.fawryis.ebpp.NewWebServiceFromWSDL.debitAddReq(NewWebServiceFromW\nSDL.java:210)\n        at com.fawryis.ebpp.NewWebServiceFromWSDL.process(NewWebServiceFromWSDL.\njava:98)\n        at sun.reflect.GeneratedMethodAccessor61.invoke(Unknown Source)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAcces\nsorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:601)\n        at org.glassfish.webservices.InstanceResolverImpl$1.invoke(InstanceResol\nverImpl.java:143)\n        at com.sun.xml.ws.server.InvokerTube$2.invoke(InvokerTube.java:149)\n        at com.sun.xml.ws.server.sei.SEIInvokerTube.processRequest(SEIInvokerTub\ne.java:88)\n        at com.sun.xml.ws.api.pipe.Fiber.__doRun(Fiber.java:1136)\n        at com.sun.xml.ws.api.pipe.Fiber._doRun(Fiber.java:1050)\n        at com.sun.xml.ws.api.pipe.Fiber.doRun(Fiber.java:1019)\n        at com.sun.xml.ws.api.pipe.Fiber.runSync(Fiber.java:877)\n        at com.sun.xml.ws.api.pipe.helper.AbstractTubeImpl.process(AbstractTubeI\nmpl.java:136)\n        at org.glassfish.webservices.MonitoringPipe.process(MonitoringPipe.java:\n142)\n        at com.sun.xml.ws.api.pipe.helper.PipeAdapter.processRequest(PipeAdapter\n.java:119)\n        at com.sun.xml.ws.api.pipe.Fiber.__doRun(Fiber.java:1136)\n        at com.sun.xml.ws.api.pipe.Fiber._doRun(Fiber.java:1050)\n        at com.sun.xml.ws.api.pipe.Fiber.doRun(Fiber.java:1019)\n        at com.sun.xml.ws.api.pipe.Fiber.runSync(Fiber.java:877)\n        at com.sun.xml.ws.api.pipe.helper.AbstractTubeImpl.process(AbstractTubeI\nmpl.java:136)\n        at com.sun.enterprise.security.webservices.CommonServerSecurityPipe.proc\nessRequest(CommonServerSecurityPipe.java:210)\n        at com.sun.enterprise.security.webservices.CommonServerSecurityPipe.proc\ness(CommonServerSecurityPipe.java:142)\n        at com.sun.xml.ws.api.pipe.helper.PipeAdapter.processRequest(PipeAdapter\n.java:119)\n        at com.sun.xml.ws.api.pipe.Fiber.__doRun(Fiber.java:1136)\n        at com.sun.xml.ws.api.pipe.Fiber._doRun(Fiber.java:1050)\n        at com.sun.xml.ws.api.pipe.Fiber.doRun(Fiber.java:1019)\n        at com.sun.xml.ws.api.pipe.Fiber.runSync(Fiber.java:877)\n        at com.sun.xml.ws.server.WSEndpointImpl$2.process(WSEndpointImpl.java:42\n0)\n        at com.sun.xml.ws.transport.http.HttpAdapter$HttpToolkit.handle(HttpAdap\nter.java:687)\n        at com.sun.xml.ws.transport.http.HttpAdapter.handle(HttpAdapter.java:266\n)\n        at com.sun.xml.ws.transport.http.servlet.ServletAdapter.handle(ServletAd\napter.java:169)\n        at org.glassfish.webservices.JAXWSServlet.doPost(JAXWSServlet.java:169)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:707)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:790)\n        at org.apache.catalina.core.StandardWrapper.service(StandardWrapper.java\n:1682)\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperV\nalve.java:318)\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextV\nalve.java:160)\n        at org.apache.catalina.core.StandardPipeline.doInvoke(StandardPipeline.j\nava:734)\n        at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.jav\na:673)\n        at com.sun.enterprise.web.WebPipeline.invoke(WebPipeline.java:99)\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.j\nava:174)\n        at org.apache.catalina.connector.CoyoteAdapter.doService(CoyoteAdapter.j\nava:357)\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.jav\na:260)\n        at com.sun.enterprise.v3.services.impl.ContainerMapper.service(Container\nMapper.java:188)\n        at org.glassfish.grizzly.http.server.HttpHandler.runService(HttpHandler.\njava:191)\n        at org.glassfish.grizzly.http.server.HttpHandler.doHandle(HttpHandler.ja\nva:168)\n        at org.glassfish.grizzly.http.server.HttpServerFilter.handleRead(HttpSer\nverFilter.java:189)\n        at org.glassfish.grizzly.filterchain.ExecutorResolver$9.execute(Executor\nResolver.java:119)\n        at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeFilter(De\nfaultFilterChain.java:288)\n        at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeChainPart\n(DefaultFilterChain.java:206)\n        at org.glassfish.grizzly.filterchain.DefaultFilterChain.execute(DefaultF\nilterChain.java:136)\n        at org.glassfish.grizzly.filterchain.DefaultFilterChain.process(DefaultF\nilterChain.java:114)\n        at org.glassfish.grizzly.ProcessorExecutor.execute(ProcessorExecutor.jav\na:77)\n        at org.glassfish.grizzly.nio.transport.TCPNIOTransport.fireIOEvent(TCPNI\nOTransport.java:838)\n        at org.glassfish.grizzly.strategies.AbstractIOStrategy.fireIOEvent(Abstr\nactIOStrategy.java:113)\n        at org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.run0(WorkerTh\nreadIOStrategy.java:115)\n        at org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.access$100(Wo\nrkerThreadIOStrategy.java:55)\n        at org.glassfish.grizzly.strategies.WorkerThreadIOStrategy$WorkerThreadR\nunnable.run(WorkerThreadIOStrategy.java:135)\n        at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(Abs\ntractThreadPool.java:564)\n        at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(Abstra\nctThreadPool.java:544)\n        at java.lang.Thread.run(Thread.java:722)\nCaused by: java.sql.SQLRecoverableException: Closed Connection\n        at oracle.jdbc.driver.PhysicalConnection.getAutoCommit(PhysicalConnectio\nn.java:4337)\n        at org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction.doBegi\nn(JdbcTransaction.java:68)\n        ... 65 more|#]\n</code></pre>\n<p>Note: I looked into some questions posted here but I'm not sure If they're suitable for my case as they're using Spring.</p>\n"},{"tags":["java","spring","h2"],"comments":[{"owner":{"account_id":20013102,"reputation":641,"user_id":14669745,"display_name":"Pawan.Java"},"score":0,"creation_date":1659422830,"post_id":73203020,"comment_id":129284572,"body_markdown":"are you executing the scheme.sql to create your table instead of letting hibernate create them for you?","body":"are you executing the scheme.sql to create your table instead of letting hibernate create them for you?"},{"owner":{"account_id":20013102,"reputation":641,"user_id":14669745,"display_name":"Pawan.Java"},"score":0,"creation_date":1659423071,"post_id":73203020,"comment_id":129284625,"body_markdown":"[this](https://www.baeldung.com/spring-boot-data-sql-and-schema-sql#:~:text=3.%20The%C2%A0schema.sql%C2%A0File) is what you are looking for.","body":"<a href=\"https://www.baeldung.com/spring-boot-data-sql-and-schema-sql#:~:text=3.%20The%C2%A0schema.sql%C2%A0File\" rel=\"nofollow noreferrer\">this</a> is what you are looking for."},{"owner":{"account_id":25832825,"reputation":23,"user_id":19569687,"display_name":"Ryuzu"},"score":0,"creation_date":1659423886,"post_id":73203020,"comment_id":129284875,"body_markdown":"now i create the table with hibernate it still fails,but if i chage the GenerationType.IDENTITY to GenerationType.AUTO it works,why is this","body":"now i create the table with hibernate it still fails,but if i chage the GenerationType.IDENTITY to GenerationType.AUTO it works,why is this"},{"owner":{"account_id":16247179,"reputation":7205,"user_id":11731987,"display_name":"Evgenij Ryazanov"},"score":0,"creation_date":1659424199,"post_id":73203020,"comment_id":129284990,"body_markdown":"What is your version of Hibernate ORM (`hibernate-core`)? This issue was fixed in recent 5.6.* releases.","body":"What is your version of Hibernate ORM (<code>hibernate-core</code>)? This issue was fixed in recent 5.6.* releases."},{"owner":{"account_id":25832825,"reputation":23,"user_id":19569687,"display_name":"Ryuzu"},"score":0,"creation_date":1659425399,"post_id":73203020,"comment_id":129285398,"body_markdown":"the `hibernate-core` version is 5.4.12","body":"the <code>hibernate-core</code> version is 5.4.12"},{"owner":{"account_id":16247179,"reputation":7205,"user_id":11731987,"display_name":"Evgenij Ryazanov"},"score":0,"creation_date":1659428115,"post_id":73203020,"comment_id":129286243,"body_markdown":"These old versions don&#39;t work well with new versions of H2, you need to use some recent version, such as 5.6.10.Final or 6.1.1.Final.","body":"These old versions don&#39;t work well with new versions of H2, you need to use some recent version, such as 5.6.10.Final or 6.1.1.Final."}],"owner":{"account_id":25832825,"reputation":23,"user_id":19569687,"display_name":"Ryuzu"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":885,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1659425550,"creation_date":1659422505,"question_id":73203020,"body_markdown":"I&#39;m leaning the h2 database with spring data jpa, when i use the query it works\r\n\r\nbut when i insert the object,it doesn&#39;t work\r\n\r\nerror:\r\n```\r\norg.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: NULL not allowed for column &quot;ID&quot;; SQL statement:\r\ninsert into t_user (id, password, username) values (null, ?, ?)\r\n```\r\nuser entity\r\n```\r\n@Entity\r\n@Table(name = &quot;t_user&quot;)\r\npublic class User {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Integer id;\r\n\r\n    @Column(name = &quot;username&quot;)\r\n    private String username;\r\n\r\n    @Column(name = &quot;password&quot;)\r\n    private String password;\r\n\r\n```\r\n\r\napplication.yaml\r\n\r\n```\r\nspring:\r\n  h2:\r\n    console:\r\n      path: /h2-console\r\n      settings:\r\n        web-allow-others: true\r\n      enabled: true\r\n  datasource:\r\n    driver-class-name: org.h2.Driver\r\n    url: jdbc:h2:file:./src/main/resources/db/testDB\r\n    username: root\r\n    password: 123456\r\n    platform: h2\r\n    schema: classpath:schema.sql\r\n    data: classpath:data.sql\r\n  jpa:\r\n    hibernate:\r\n      ddl-auto: update\r\n    show-sql: true\r\n    open-in-view: false\r\n    database: h2\r\n```\r\nmy UserController:\r\n```\r\n@GetMapping(&quot;/save&quot;)\r\n    public List&lt;User&gt; saveUser(){\r\n        User user  = new User();\r\n        user.setUsername(&quot;json&quot;);\r\n        user.setPassword(&quot;123&quot;);\r\n        userRepository.save(user);\r\n        return userRepository.findAll();\r\n    }\r\n```\r\nscheme.sql\r\n```\r\ndrop table if exists t_user;\r\ncreate table t_user\r\n(\r\n    `id`       int primary key auto_increment,\r\n    `username` varchar(255) not null,\r\n    `password` varchar(255) not null\r\n);\r\n```\r\nplease give me some suggests.\r\n\r\nI solve the problem \r\ni need to change the `@GeneratedValue(strategy = GenerationType.IDENTITY)` to `@GeneratedValue(strategy = Gen\r\nerationType.IDENTITY, generator = &quot;increment&quot;)` \r\n\r\nand now it works","title":"Spring Data Jpa save() can not isnert value with id auto_increment","body":"<p>I'm leaning the h2 database with spring data jpa, when i use the query it works</p>\n<p>but when i insert the object,it doesn't work</p>\n<p>error:</p>\n<pre><code>org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: NULL not allowed for column &quot;ID&quot;; SQL statement:\ninsert into t_user (id, password, username) values (null, ?, ?)\n</code></pre>\n<p>user entity</p>\n<pre><code>@Entity\n@Table(name = &quot;t_user&quot;)\npublic class User {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n\n    @Column(name = &quot;username&quot;)\n    private String username;\n\n    @Column(name = &quot;password&quot;)\n    private String password;\n\n</code></pre>\n<p>application.yaml</p>\n<pre><code>spring:\n  h2:\n    console:\n      path: /h2-console\n      settings:\n        web-allow-others: true\n      enabled: true\n  datasource:\n    driver-class-name: org.h2.Driver\n    url: jdbc:h2:file:./src/main/resources/db/testDB\n    username: root\n    password: 123456\n    platform: h2\n    schema: classpath:schema.sql\n    data: classpath:data.sql\n  jpa:\n    hibernate:\n      ddl-auto: update\n    show-sql: true\n    open-in-view: false\n    database: h2\n</code></pre>\n<p>my UserController:</p>\n<pre><code>@GetMapping(&quot;/save&quot;)\n    public List&lt;User&gt; saveUser(){\n        User user  = new User();\n        user.setUsername(&quot;json&quot;);\n        user.setPassword(&quot;123&quot;);\n        userRepository.save(user);\n        return userRepository.findAll();\n    }\n</code></pre>\n<p>scheme.sql</p>\n<pre><code>drop table if exists t_user;\ncreate table t_user\n(\n    `id`       int primary key auto_increment,\n    `username` varchar(255) not null,\n    `password` varchar(255) not null\n);\n</code></pre>\n<p>please give me some suggests.</p>\n<p>I solve the problem\ni need to change the <code>@GeneratedValue(strategy = GenerationType.IDENTITY)</code> to <code>@GeneratedValue(strategy = Gen erationType.IDENTITY, generator = &quot;increment&quot;)</code></p>\n<p>and now it works</p>\n"},{"tags":["java","spring-boot","gradle","md5"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1659020652,"post_id":73149114,"comment_id":129201072,"body_markdown":"Did you try to empty you gradle cache? Maybe some hickup of the locally cached data.","body":"Did you try to empty you gradle cache? Maybe some hickup of the locally cached data."},{"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1659171467,"post_id":73149114,"comment_id":129233574,"body_markdown":"What&#39;s the stack trace (run Gradle with `--stacktrace`) of the failure?","body":"What&#39;s the stack trace (run Gradle with <code>--stacktrace</code>) of the failure?"},{"owner":{"account_id":2141833,"reputation":5558,"user_id":1900290,"accept_rate":59,"display_name":"Rpj"},"score":0,"creation_date":1659360839,"post_id":73149114,"comment_id":129269624,"body_markdown":"@AndyWilkinson I have attached the stacktrace as well","body":"@AndyWilkinson I have attached the stacktrace as well"},{"owner":{"account_id":2141833,"reputation":5558,"user_id":1900290,"accept_rate":59,"display_name":"Rpj"},"score":0,"creation_date":1659360860,"post_id":73149114,"comment_id":129269635,"body_markdown":"@cyberbrain did empty cache, but didn&#39;t help. stopped working all of a sudden","body":"@cyberbrain did empty cache, but didn&#39;t help. stopped working all of a sudden"},{"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":1,"creation_date":1659369701,"post_id":73149114,"comment_id":129273155,"body_markdown":"@Rpj On the face of it, that looks like a Gradle bug. I would consider opening a Gradle issue, particularly if you can provide them with a way of reproducing the problem.","body":"@Rpj On the face of it, that looks like a Gradle bug. I would consider opening a Gradle issue, particularly if you can provide them with a way of reproducing the problem."},{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":0,"creation_date":1659865616,"post_id":73149114,"comment_id":129392278,"body_markdown":"when you say `all of sudden`, does that mean it worked before with same setup? Also, can you please check if there is any changes recently in your filesystem e.g. permission changes .","body":"when you say <code>all of sudden</code>, does that mean it worked before with same setup? Also, can you please check if there is any changes recently in your filesystem e.g. permission changes ."},{"owner":{"account_id":2141833,"reputation":5558,"user_id":1900290,"accept_rate":59,"display_name":"Rpj"},"score":0,"creation_date":1659880134,"post_id":73149114,"comment_id":129395118,"body_markdown":"Yes it was working earlier without any changes","body":"Yes it was working earlier without any changes"}],"answers":[{"tags":[],"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659425196,"creation_date":1659425196,"answer_id":73203540,"question_id":73149114,"body_markdown":"The &quot;Input/output error&quot; message typically indicates a hardware failure. You may have an issue on your hard disk and a file is not readable anymore.\r\n\r\nIt would explain why &quot;it started failing all of a sudden&quot;.","title":"org.springframework.boot MD5 hash fails while compiling","body":"<p>The &quot;Input/output error&quot; message typically indicates a hardware failure. You may have an issue on your hard disk and a file is not readable anymore.</p>\n<p>It would explain why &quot;it started failing all of a sudden&quot;.</p>\n"}],"owner":{"account_id":2141833,"reputation":5558,"user_id":1900290,"accept_rate":59,"display_name":"Rpj"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":173,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659425196,"creation_date":1658994627,"question_id":73149114,"body_markdown":"build.gradle contains the following plugin, but it started failing all of a sudden with gradle 7.4. what could be the issue here?\r\n\r\n    plugins {\r\n        id &#39;org.springframework.boot&#39; version &#39;2.7.2&#39;\r\n    ...\r\n    }\r\n\r\n    ./gradlew test\r\n    \r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * Where:\r\n    Build file &#39;/Users/bar/foo/build.gradle&#39; line: 11\r\n    \r\n    * What went wrong:\r\n    An exception occurred applying plugin request [id: &#39;org.springframework.boot&#39;, version: &#39;2.7.2&#39;]\r\n    &gt; Failed to create MD5 hash for file content.\r\n\r\nWith --stacktrace\r\n\r\n    * Exception is:\r\n    org.gradle.api.plugins.InvalidPluginException: An exception occurred applying plugin request [id: &#39;org.springframework.boot&#39;, version: &#39;2.6.7&#39;]\r\n            at org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.exceptionOccurred(DefaultPluginRequestApplicator.java:228)\r\n            at org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.applyPlugin(DefaultPluginRequestApplicator.java:210)\r\n            at org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.applyLegacyPlugin(DefaultPluginRequestApplicator.java:159)\r\n            at org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.access$300(DefaultPluginRequestApplicator.java:62)\r\n            at org.gradle.plugin.use.internal.DefaultPluginRequestApplicator$1$1.lambda$addLegacy$0(DefaultPluginRequestApplicator.java:115)\r\n            at org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.lambda$applyPlugins$0(DefaultPluginRequestApplicator.java:144)\r\n            at org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.applyPlugins(DefaultPluginRequestApplicator.java:144)\r\n            at org.gradle.configuration.DefaultScriptPluginFactory$ScriptPluginImpl.apply(DefaultScriptPluginFactory.java:117)\r\n            at org.gradle.configuration.BuildOperationScriptPlugin$1.run(BuildOperationScriptPlugin.java:65)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\r\n            at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\r\n            at org.gradle.configuration.BuildOperationScriptPlugin.lambda$apply$0(BuildOperationScriptPlugin.java:62)\r\n            at org.gradle.configuration.internal.DefaultUserCodeApplicationContext.apply(DefaultUserCodeApplicationContext.java:44)\r\n            at org.gradle.configuration.BuildOperationScriptPlugin.apply(BuildOperationScriptPlugin.java:62)\r\n            at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$applyToMutableState$0(DefaultProjectStateRegistry.java:360)\r\n            at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.fromMutableState(DefaultProjectStateRegistry.java:378)\r\n            at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.applyToMutableState(DefaultProjectStateRegistry.java:359)\r\n            at org.gradle.configuration.project.BuildScriptProcessor.execute(BuildScriptProcessor.java:42)\r\n            at org.gradle.configuration.project.BuildScriptProcessor.execute(BuildScriptProcessor.java:26)\r\n            at org.gradle.configuration.project.ConfigureActionsProjectEvaluator.evaluate(ConfigureActionsProjectEvaluator.java:35)\r\n            at org.gradle.configuration.project.LifecycleProjectEvaluator$EvaluateProject.lambda$run$0(LifecycleProjectEvaluator.java:109)\r\n            at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$applyToMutableState$0(DefaultProjectStateRegistry.java:360)\r\n            at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$withProjectLock$2(DefaultProjectStateRegistry.java:408)\r\n            at org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:270)\r\n            at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.withProjectLock(DefaultProjectStateRegistry.java:408)\r\n            at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.fromMutableState(DefaultProjectStateRegistry.java:389)\r\n            at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.applyToMutableState(DefaultProjectStateRegistry.java:359)\r\n            at org.gradle.configuration.project.LifecycleProjectEvaluator$EvaluateProject.run(LifecycleProjectEvaluator.java:100)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\r\n            at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\r\n            at org.gradle.configuration.project.LifecycleProjectEvaluator.evaluate(LifecycleProjectEvaluator.java:72)\r\n            at org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:760)\r\n            at org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:151)\r\n            at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.ensureConfigured(DefaultProjectStateRegistry.java:328)\r\n            at org.gradle.execution.TaskPathProjectEvaluator.configure(TaskPathProjectEvaluator.java:33)\r\n            at org.gradle.execution.TaskPathProjectEvaluator.configureHierarchy(TaskPathProjectEvaluator.java:47)\r\n            at org.gradle.configuration.DefaultProjectsPreparer.prepareProjects(DefaultProjectsPreparer.java:50)\r\n            at org.gradle.configuration.BuildTreePreparingProjectsPreparer.prepareProjects(BuildTreePreparingProjectsPreparer.java:64)\r\n            at org.gradle.configuration.BuildOperationFiringProjectsPreparer$ConfigureBuild.run(BuildOperationFiringProjectsPreparer.java:52)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\r\n            at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\r\n            at org.gradle.configuration.BuildOperationFiringProjectsPreparer.prepareProjects(BuildOperationFiringProjectsPreparer.java:40)\r\n            at org.gradle.initialization.VintageBuildModelController.lambda$prepareProjects$3(VintageBuildModelController.java:89)\r\n            at org.gradle.internal.model.StateTransitionController.lambda$doTransition$12(StateTransitionController.java:227)\r\n            at org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:238)\r\n            at org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:226)\r\n            at org.gradle.internal.model.StateTransitionController.lambda$transitionIfNotPreviously$10(StateTransitionController.java:201)\r\n            at org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:34)\r\n            at org.gradle.internal.model.StateTransitionController.transitionIfNotPreviously(StateTransitionController.java:197)\r\n            at org.gradle.initialization.VintageBuildModelController.prepareProjects(VintageBuildModelController.java:89)\r\n            at org.gradle.initialization.VintageBuildModelController.prepareToScheduleTasks(VintageBuildModelController.java:71)\r\n            at org.gradle.internal.build.DefaultBuildLifecycleController.lambda$prepareToScheduleTasks$2(DefaultBuildLifecycleController.java:134)\r\n            at org.gradle.internal.model.StateTransitionController.lambda$doTransition$12(StateTransitionController.java:227)\r\n            at org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:238)\r\n            at org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:226)\r\n            at org.gradle.internal.model.StateTransitionController.lambda$maybeTransition$9(StateTransitionController.java:187)\r\n            at org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:34)\r\n            at org.gradle.internal.model.StateTransitionController.maybeTransition(StateTransitionController.java:183)\r\n            at org.gradle.internal.build.DefaultBuildLifecycleController.prepareToScheduleTasks(DefaultBuildLifecycleController.java:132)\r\n            at org.gradle.internal.buildtree.DefaultBuildTreeWorkPreparer.scheduleRequestedTasks(DefaultBuildTreeWorkPreparer.java:33)\r\n            at org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.lambda$doScheduleAndRunTasks$2(DefaultBuildTreeLifecycleController.java:89)\r\n            at org.gradle.composite.internal.DefaultIncludedBuildTaskGraph.withNewWorkGraph(DefaultIncludedBuildTaskGraph.java:75)\r\n            at org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.doScheduleAndRunTasks(DefaultBuildTreeLifecycleController.java:88)\r\n            at org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.lambda$runBuild$4(DefaultBuildTreeLifecycleController.java:106)\r\n            at org.gradle.internal.model.StateTransitionController.lambda$transition$6(StateTransitionController.java:166)\r\n            at org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:238)\r\n            at org.gradle.internal.model.StateTransitionController.lambda$transition$7(StateTransitionController.java:166)\r\n            at org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:44)\r\n            at org.gradle.internal.model.StateTransitionController.transition(StateTransitionController.java:166)\r\n            at org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.runBuild(DefaultBuildTreeLifecycleController.java:103)\r\n            at org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.scheduleAndRunTasks(DefaultBuildTreeLifecycleController.java:69\r\n            at org.gradle.tooling.internal.provider.ExecuteBuildActionRunner.run(ExecuteBuildActionRunner.java:31)\r\n            at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\r\n            at org.gradle.internal.buildtree.ProblemReportingBuildActionRunner.run(ProblemReportingBuildActionRunner.java:49)\r\n            at org.gradle.launcher.exec.BuildOutcomeReportingBuildActionRunner.run(BuildOutcomeReportingBuildActionRunner.java:69)\r\n            at org.gradle.tooling.internal.provider.FileSystemWatchingBuildActionRunner.run(FileSystemWatchingBuildActionRunner.java:119)\r\n            at org.gradle.launcher.exec.BuildCompletionNotifyingBuildActionRunner.run(BuildCompletionNotifyingBuildActionRunner.java:41)\r\n            at org.gradle.launcher.exec.RootBuildLifecycleBuildActionExecutor.lambda$execute$0(RootBuildLifecycleBuildActionExecutor.java:40)\r\n            at org.gradle.composite.internal.DefaultRootBuildState.run(DefaultRootBuildState.java:128)\r\n            at org.gradle.launcher.exec.RootBuildLifecycleBuildActionExecutor.execute(RootBuildLifecycleBuildActionExecutor.java:40)\r\n            at org.gradle.internal.buildtree.DefaultBuildTreeContext.execute(DefaultBuildTreeContext.java:40)\r\n            at org.gradle.launcher.exec.BuildTreeLifecycleBuildActionExecutor.lambda$execute$0(BuildTreeLifecycleBuildActionExecutor.java:65)\r\n            at org.gradle.internal.buildtree.BuildTreeState.run(BuildTreeState.java:53)\r\n            at org.gradle.launcher.exec.BuildTreeLifecycleBuildActionExecutor.execute(BuildTreeLifecycleBuildActionExecutor.java:65)\r\n            at org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor$3.call(RunAsBuildOperationBuildActionExecutor.java:61)\r\n            at org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor$3.call(RunAsBuildOperationBuildActionExecutor.java:57)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n            at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n            at org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor.execute(RunAsBuildOperationBuildActionExecutor.java:57)\r\n            at org.gradle.launcher.exec.RunAsWorkerThreadBuildActionExecutor.lambda$execute$0(RunAsWorkerThreadBuildActionExecutor.java:36)\r\n            at org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:270)\r\n            at org.gradle.internal.work.DefaultWorkerLeaseService.runAsWorkerThread(DefaultWorkerLeaseService.java:119)\r\n            at org.gradle.launcher.exec.RunAsWorkerThreadBuildActionExecutor.execute(RunAsWorkerThreadBuildActionExecutor.java:36)\r\n            at org.gradle.tooling.internal.provider.ContinuousBuildActionExecutor.execute(ContinuousBuildActionExecutor.java:103)\r\n            at org.gradle.tooling.internal.provider.SubscribableBuildActionExecutor.execute(SubscribableBuildActionExecutor.java:64)\r\n            at org.gradle.internal.session.DefaultBuildSessionContext.execute(DefaultBuildSessionContext.java:46)\r\n            at org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter$ActionImpl.apply(BuildSessionLifecycleBuildActionExecuter.java:100)\r\n            at org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter$ActionImpl.apply(BuildSessionLifecycleBuildActionExecuter.java:88)\r\n            at org.gradle.internal.session.BuildSessionState.run(BuildSessionState.java:69)\r\n            at org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.execute(BuildSessionLifecycleBuildActionExecuter.java:62)\r\n            at org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.execute(BuildSessionLifecycleBuildActionExecuter.java:41)\r\n            at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:63)\r\n            at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:31)\r\n            at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:58)\r\n            at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:42)\r\n            at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:47)\r\n            at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:31)\r\n            at org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:65)\r\n            at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n            at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n            at org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:39)\r\n            at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n            at org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:29)\r\n            at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n            at org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:35)\r\n            at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n            at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:78)\r\n            at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:75)\r\n            at org.gradle.util.internal.Swapper.swap(Swapper.java:38)\r\n            at org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:75)\r\n            at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n            at org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\r\n            at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n            at org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:63)\r\n            at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n            at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n            at org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:84)\r\n            at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n            at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n            at org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:52)\r\n            at org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:297)\r\n            at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n            at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n    Caused by: java.io.UncheckedIOException: Failed to create MD5 hash for file content.\r\n            at org.gradle.internal.hash.DefaultStreamHasher.hash(DefaultStreamHasher.java:37)\r\n            at org.gradle.internal.hash.DefaultFileHasher.hash(DefaultFileHasher.java:41)\r\n            at org.gradle.api.internal.changedetection.state.CachingFileHasher.snapshot(CachingFileHasher.java:94)\r\n            at org.gradle.api.internal.changedetection.state.CachingFileHasher.hash(CachingFileHasher.java:76)\r\n            at org.gradle.internal.vfs.impl.DefaultFileSystemAccess.snapshot(DefaultFileSystemAccess.java:150)\r\n            at org.gradle.internal.vfs.impl.DefaultFileSystemAccess.lambda$readLocation$6(DefaultFileSystemAccess.java:171)\r\n            at org.gradle.internal.vfs.impl.DefaultFileSystemAccess.lambda$readSnapshotFromLocation$7(DefaultFileSystemAccess.java:196)\r\n            at org.gradle.internal.vfs.impl.DefaultFileSystemAccess$StripedProducerGuard.guardByKey(DefaultFileSystemAccess.java:219)\r\n            at org.gradle.internal.vfs.impl.DefaultFileSystemAccess.lambda$readSnapshotFromLocation$8(DefaultFileSystemAccess.java:193)\r\n            at org.gradle.internal.vfs.impl.DefaultFileSystemAccess.readSnapshotFromLocation(DefaultFileSystemAccess.java:193)\r\n            at org.gradle.internal.vfs.impl.DefaultFileSystemAccess.readSnapshotFromLocation(DefaultFileSystemAccess.java:178)\r\n            at org.gradle.internal.vfs.impl.DefaultFileSystemAccess.readLocation(DefaultFileSystemAccess.java:171)\r\n            at org.gradle.internal.vfs.impl.DefaultFileSystemAccess.read(DefaultFileSystemAccess.java:83)\r\n            at org.gradle.internal.fingerprint.impl.DefaultFileCollectionSnapshotter$SnapshottingVisitor.visitCollection(DefaultFileCollectionSnapshotter.java:81)\r\n            at org.gradle.api.internal.file.AbstractOpaqueFileCollection.visitContents(AbstractOpaqueFileCollection.java:55)\r\n            at org.gradle.api.internal.file.AbstractFileCollection.visitStructure(AbstractFileCollection.java:351)\r\n            at org.gradle.internal.fingerprint.impl.DefaultFileCollectionSnapshotter.snapshot(DefaultFileCollectionSnapshotter.java:51)\r\n            at org.gradle.internal.fingerprint.impl.AbstractFileCollectionFingerprinter.fingerprint(AbstractFileCollectionFingerprinter.java:47)\r\n            at org.gradle.api.internal.initialization.loadercache.DefaultClasspathHasher.hash(DefaultClasspathHasher.java:38)\r\n            at org.gradle.api.internal.initialization.loadercache.DefaultClassLoaderCache.doGet(DefaultClassLoaderCache.java:74)\r\n            at org.gradle.api.internal.initialization.loadercache.DefaultClassLoaderCache.get(DefaultClassLoaderCache.java:64)\r\n            at org.gradle.api.internal.initialization.loadercache.DefaultClassLoaderCache.get(DefaultClassLoaderCache.java:59)\r\n            at org.gradle.api.internal.initialization.DefaultClassLoaderScope.loader(DefaultClassLoaderScope.java:158)\r\n            at org.gradle.api.internal.initialization.DefaultClassLoaderScope.loader(DefaultClassLoaderScope.java:59)\r\n            at org.gradle.api.internal.initialization.DefaultClassLoaderScope.buildEffectiveLoaders(DefaultClassLoaderScope.java:101)\r\n            at org.gradle.api.internal.initialization.DefaultClassLoaderScope.getLocalClassLoader(DefaultClassLoaderScope.java:133)\r\n            at org.gradle.api.internal.plugins.DefaultPluginRegistry.lookup(DefaultPluginRegistry.java:167)\r\n            at org.gradle.api.internal.plugins.DefaultPluginManager.apply(DefaultPluginManager.java:142)\r\n            at org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.lambda$applyLegacyPlugin$2(DefaultPluginRequestApplicator.java:161)\r\n            at org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.applyPlugin(DefaultPluginRequestApplicator.java:206)\r\n            ... 155 more\r\n    Caused by: java.io.IOException: Input/output error\r\n            at org.gradle.internal.hash.DefaultStreamHasher.doHash(DefaultStreamHasher.java:52)\r\n            at org.gradle.internal.hash.DefaultStreamHasher.hash(DefaultStreamHasher.java:35)\r\n            ... 184 more\r\n\r\n","title":"org.springframework.boot MD5 hash fails while compiling","body":"<p>build.gradle contains the following plugin, but it started failing all of a sudden with gradle 7.4. what could be the issue here?</p>\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.7.2'\n...\n}\n\n./gradlew test\n\nFAILURE: Build failed with an exception.\n\n* Where:\nBuild file '/Users/bar/foo/build.gradle' line: 11\n\n* What went wrong:\nAn exception occurred applying plugin request [id: 'org.springframework.boot', version: '2.7.2']\n&gt; Failed to create MD5 hash for file content.\n</code></pre>\n<p>With --stacktrace</p>\n<pre><code>* Exception is:\norg.gradle.api.plugins.InvalidPluginException: An exception occurred applying plugin request [id: 'org.springframework.boot', version: '2.6.7']\n        at org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.exceptionOccurred(DefaultPluginRequestApplicator.java:228)\n        at org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.applyPlugin(DefaultPluginRequestApplicator.java:210)\n        at org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.applyLegacyPlugin(DefaultPluginRequestApplicator.java:159)\n        at org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.access$300(DefaultPluginRequestApplicator.java:62)\n        at org.gradle.plugin.use.internal.DefaultPluginRequestApplicator$1$1.lambda$addLegacy$0(DefaultPluginRequestApplicator.java:115)\n        at org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.lambda$applyPlugins$0(DefaultPluginRequestApplicator.java:144)\n        at org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.applyPlugins(DefaultPluginRequestApplicator.java:144)\n        at org.gradle.configuration.DefaultScriptPluginFactory$ScriptPluginImpl.apply(DefaultScriptPluginFactory.java:117)\n        at org.gradle.configuration.BuildOperationScriptPlugin$1.run(BuildOperationScriptPlugin.java:65)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\n        at org.gradle.configuration.BuildOperationScriptPlugin.lambda$apply$0(BuildOperationScriptPlugin.java:62)\n        at org.gradle.configuration.internal.DefaultUserCodeApplicationContext.apply(DefaultUserCodeApplicationContext.java:44)\n        at org.gradle.configuration.BuildOperationScriptPlugin.apply(BuildOperationScriptPlugin.java:62)\n        at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$applyToMutableState$0(DefaultProjectStateRegistry.java:360)\n        at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.fromMutableState(DefaultProjectStateRegistry.java:378)\n        at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.applyToMutableState(DefaultProjectStateRegistry.java:359)\n        at org.gradle.configuration.project.BuildScriptProcessor.execute(BuildScriptProcessor.java:42)\n        at org.gradle.configuration.project.BuildScriptProcessor.execute(BuildScriptProcessor.java:26)\n        at org.gradle.configuration.project.ConfigureActionsProjectEvaluator.evaluate(ConfigureActionsProjectEvaluator.java:35)\n        at org.gradle.configuration.project.LifecycleProjectEvaluator$EvaluateProject.lambda$run$0(LifecycleProjectEvaluator.java:109)\n        at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$applyToMutableState$0(DefaultProjectStateRegistry.java:360)\n        at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$withProjectLock$2(DefaultProjectStateRegistry.java:408)\n        at org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:270)\n        at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.withProjectLock(DefaultProjectStateRegistry.java:408)\n        at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.fromMutableState(DefaultProjectStateRegistry.java:389)\n        at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.applyToMutableState(DefaultProjectStateRegistry.java:359)\n        at org.gradle.configuration.project.LifecycleProjectEvaluator$EvaluateProject.run(LifecycleProjectEvaluator.java:100)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\n        at org.gradle.configuration.project.LifecycleProjectEvaluator.evaluate(LifecycleProjectEvaluator.java:72)\n        at org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:760)\n        at org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:151)\n        at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.ensureConfigured(DefaultProjectStateRegistry.java:328)\n        at org.gradle.execution.TaskPathProjectEvaluator.configure(TaskPathProjectEvaluator.java:33)\n        at org.gradle.execution.TaskPathProjectEvaluator.configureHierarchy(TaskPathProjectEvaluator.java:47)\n        at org.gradle.configuration.DefaultProjectsPreparer.prepareProjects(DefaultProjectsPreparer.java:50)\n        at org.gradle.configuration.BuildTreePreparingProjectsPreparer.prepareProjects(BuildTreePreparingProjectsPreparer.java:64)\n        at org.gradle.configuration.BuildOperationFiringProjectsPreparer$ConfigureBuild.run(BuildOperationFiringProjectsPreparer.java:52)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\n        at org.gradle.configuration.BuildOperationFiringProjectsPreparer.prepareProjects(BuildOperationFiringProjectsPreparer.java:40)\n        at org.gradle.initialization.VintageBuildModelController.lambda$prepareProjects$3(VintageBuildModelController.java:89)\n        at org.gradle.internal.model.StateTransitionController.lambda$doTransition$12(StateTransitionController.java:227)\n        at org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:238)\n        at org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:226)\n        at org.gradle.internal.model.StateTransitionController.lambda$transitionIfNotPreviously$10(StateTransitionController.java:201)\n        at org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:34)\n        at org.gradle.internal.model.StateTransitionController.transitionIfNotPreviously(StateTransitionController.java:197)\n        at org.gradle.initialization.VintageBuildModelController.prepareProjects(VintageBuildModelController.java:89)\n        at org.gradle.initialization.VintageBuildModelController.prepareToScheduleTasks(VintageBuildModelController.java:71)\n        at org.gradle.internal.build.DefaultBuildLifecycleController.lambda$prepareToScheduleTasks$2(DefaultBuildLifecycleController.java:134)\n        at org.gradle.internal.model.StateTransitionController.lambda$doTransition$12(StateTransitionController.java:227)\n        at org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:238)\n        at org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:226)\n        at org.gradle.internal.model.StateTransitionController.lambda$maybeTransition$9(StateTransitionController.java:187)\n        at org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:34)\n        at org.gradle.internal.model.StateTransitionController.maybeTransition(StateTransitionController.java:183)\n        at org.gradle.internal.build.DefaultBuildLifecycleController.prepareToScheduleTasks(DefaultBuildLifecycleController.java:132)\n        at org.gradle.internal.buildtree.DefaultBuildTreeWorkPreparer.scheduleRequestedTasks(DefaultBuildTreeWorkPreparer.java:33)\n        at org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.lambda$doScheduleAndRunTasks$2(DefaultBuildTreeLifecycleController.java:89)\n        at org.gradle.composite.internal.DefaultIncludedBuildTaskGraph.withNewWorkGraph(DefaultIncludedBuildTaskGraph.java:75)\n        at org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.doScheduleAndRunTasks(DefaultBuildTreeLifecycleController.java:88)\n        at org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.lambda$runBuild$4(DefaultBuildTreeLifecycleController.java:106)\n        at org.gradle.internal.model.StateTransitionController.lambda$transition$6(StateTransitionController.java:166)\n        at org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:238)\n        at org.gradle.internal.model.StateTransitionController.lambda$transition$7(StateTransitionController.java:166)\n        at org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:44)\n        at org.gradle.internal.model.StateTransitionController.transition(StateTransitionController.java:166)\n        at org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.runBuild(DefaultBuildTreeLifecycleController.java:103)\n        at org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.scheduleAndRunTasks(DefaultBuildTreeLifecycleController.java:69\n        at org.gradle.tooling.internal.provider.ExecuteBuildActionRunner.run(ExecuteBuildActionRunner.java:31)\n        at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\n        at org.gradle.internal.buildtree.ProblemReportingBuildActionRunner.run(ProblemReportingBuildActionRunner.java:49)\n        at org.gradle.launcher.exec.BuildOutcomeReportingBuildActionRunner.run(BuildOutcomeReportingBuildActionRunner.java:69)\n        at org.gradle.tooling.internal.provider.FileSystemWatchingBuildActionRunner.run(FileSystemWatchingBuildActionRunner.java:119)\n        at org.gradle.launcher.exec.BuildCompletionNotifyingBuildActionRunner.run(BuildCompletionNotifyingBuildActionRunner.java:41)\n        at org.gradle.launcher.exec.RootBuildLifecycleBuildActionExecutor.lambda$execute$0(RootBuildLifecycleBuildActionExecutor.java:40)\n        at org.gradle.composite.internal.DefaultRootBuildState.run(DefaultRootBuildState.java:128)\n        at org.gradle.launcher.exec.RootBuildLifecycleBuildActionExecutor.execute(RootBuildLifecycleBuildActionExecutor.java:40)\n        at org.gradle.internal.buildtree.DefaultBuildTreeContext.execute(DefaultBuildTreeContext.java:40)\n        at org.gradle.launcher.exec.BuildTreeLifecycleBuildActionExecutor.lambda$execute$0(BuildTreeLifecycleBuildActionExecutor.java:65)\n        at org.gradle.internal.buildtree.BuildTreeState.run(BuildTreeState.java:53)\n        at org.gradle.launcher.exec.BuildTreeLifecycleBuildActionExecutor.execute(BuildTreeLifecycleBuildActionExecutor.java:65)\n        at org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor$3.call(RunAsBuildOperationBuildActionExecutor.java:61)\n        at org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor$3.call(RunAsBuildOperationBuildActionExecutor.java:57)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\n        at org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor.execute(RunAsBuildOperationBuildActionExecutor.java:57)\n        at org.gradle.launcher.exec.RunAsWorkerThreadBuildActionExecutor.lambda$execute$0(RunAsWorkerThreadBuildActionExecutor.java:36)\n        at org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:270)\n        at org.gradle.internal.work.DefaultWorkerLeaseService.runAsWorkerThread(DefaultWorkerLeaseService.java:119)\n        at org.gradle.launcher.exec.RunAsWorkerThreadBuildActionExecutor.execute(RunAsWorkerThreadBuildActionExecutor.java:36)\n        at org.gradle.tooling.internal.provider.ContinuousBuildActionExecutor.execute(ContinuousBuildActionExecutor.java:103)\n        at org.gradle.tooling.internal.provider.SubscribableBuildActionExecutor.execute(SubscribableBuildActionExecutor.java:64)\n        at org.gradle.internal.session.DefaultBuildSessionContext.execute(DefaultBuildSessionContext.java:46)\n        at org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter$ActionImpl.apply(BuildSessionLifecycleBuildActionExecuter.java:100)\n        at org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter$ActionImpl.apply(BuildSessionLifecycleBuildActionExecuter.java:88)\n        at org.gradle.internal.session.BuildSessionState.run(BuildSessionState.java:69)\n        at org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.execute(BuildSessionLifecycleBuildActionExecuter.java:62)\n        at org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.execute(BuildSessionLifecycleBuildActionExecuter.java:41)\n        at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:63)\n        at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:31)\n        at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:58)\n        at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:42)\n        at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:47)\n        at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:31)\n        at org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:65)\n        at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n        at org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:39)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n        at org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:29)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n        at org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:35)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n        at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:78)\n        at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:75)\n        at org.gradle.util.internal.Swapper.swap(Swapper.java:38)\n        at org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:75)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n        at org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n        at org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:63)\n        at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n        at org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:84)\n        at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n        at org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:52)\n        at org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:297)\n        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n        at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\nCaused by: java.io.UncheckedIOException: Failed to create MD5 hash for file content.\n        at org.gradle.internal.hash.DefaultStreamHasher.hash(DefaultStreamHasher.java:37)\n        at org.gradle.internal.hash.DefaultFileHasher.hash(DefaultFileHasher.java:41)\n        at org.gradle.api.internal.changedetection.state.CachingFileHasher.snapshot(CachingFileHasher.java:94)\n        at org.gradle.api.internal.changedetection.state.CachingFileHasher.hash(CachingFileHasher.java:76)\n        at org.gradle.internal.vfs.impl.DefaultFileSystemAccess.snapshot(DefaultFileSystemAccess.java:150)\n        at org.gradle.internal.vfs.impl.DefaultFileSystemAccess.lambda$readLocation$6(DefaultFileSystemAccess.java:171)\n        at org.gradle.internal.vfs.impl.DefaultFileSystemAccess.lambda$readSnapshotFromLocation$7(DefaultFileSystemAccess.java:196)\n        at org.gradle.internal.vfs.impl.DefaultFileSystemAccess$StripedProducerGuard.guardByKey(DefaultFileSystemAccess.java:219)\n        at org.gradle.internal.vfs.impl.DefaultFileSystemAccess.lambda$readSnapshotFromLocation$8(DefaultFileSystemAccess.java:193)\n        at org.gradle.internal.vfs.impl.DefaultFileSystemAccess.readSnapshotFromLocation(DefaultFileSystemAccess.java:193)\n        at org.gradle.internal.vfs.impl.DefaultFileSystemAccess.readSnapshotFromLocation(DefaultFileSystemAccess.java:178)\n        at org.gradle.internal.vfs.impl.DefaultFileSystemAccess.readLocation(DefaultFileSystemAccess.java:171)\n        at org.gradle.internal.vfs.impl.DefaultFileSystemAccess.read(DefaultFileSystemAccess.java:83)\n        at org.gradle.internal.fingerprint.impl.DefaultFileCollectionSnapshotter$SnapshottingVisitor.visitCollection(DefaultFileCollectionSnapshotter.java:81)\n        at org.gradle.api.internal.file.AbstractOpaqueFileCollection.visitContents(AbstractOpaqueFileCollection.java:55)\n        at org.gradle.api.internal.file.AbstractFileCollection.visitStructure(AbstractFileCollection.java:351)\n        at org.gradle.internal.fingerprint.impl.DefaultFileCollectionSnapshotter.snapshot(DefaultFileCollectionSnapshotter.java:51)\n        at org.gradle.internal.fingerprint.impl.AbstractFileCollectionFingerprinter.fingerprint(AbstractFileCollectionFingerprinter.java:47)\n        at org.gradle.api.internal.initialization.loadercache.DefaultClasspathHasher.hash(DefaultClasspathHasher.java:38)\n        at org.gradle.api.internal.initialization.loadercache.DefaultClassLoaderCache.doGet(DefaultClassLoaderCache.java:74)\n        at org.gradle.api.internal.initialization.loadercache.DefaultClassLoaderCache.get(DefaultClassLoaderCache.java:64)\n        at org.gradle.api.internal.initialization.loadercache.DefaultClassLoaderCache.get(DefaultClassLoaderCache.java:59)\n        at org.gradle.api.internal.initialization.DefaultClassLoaderScope.loader(DefaultClassLoaderScope.java:158)\n        at org.gradle.api.internal.initialization.DefaultClassLoaderScope.loader(DefaultClassLoaderScope.java:59)\n        at org.gradle.api.internal.initialization.DefaultClassLoaderScope.buildEffectiveLoaders(DefaultClassLoaderScope.java:101)\n        at org.gradle.api.internal.initialization.DefaultClassLoaderScope.getLocalClassLoader(DefaultClassLoaderScope.java:133)\n        at org.gradle.api.internal.plugins.DefaultPluginRegistry.lookup(DefaultPluginRegistry.java:167)\n        at org.gradle.api.internal.plugins.DefaultPluginManager.apply(DefaultPluginManager.java:142)\n        at org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.lambda$applyLegacyPlugin$2(DefaultPluginRequestApplicator.java:161)\n        at org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.applyPlugin(DefaultPluginRequestApplicator.java:206)\n        ... 155 more\nCaused by: java.io.IOException: Input/output error\n        at org.gradle.internal.hash.DefaultStreamHasher.doHash(DefaultStreamHasher.java:52)\n        at org.gradle.internal.hash.DefaultStreamHasher.hash(DefaultStreamHasher.java:35)\n        ... 184 more\n</code></pre>\n"},{"tags":["java","kotlin","visual-studio-code"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1659191211,"post_id":73176376,"comment_id":129237469,"body_markdown":"I don&#39;t use Kotlin nor VS, but maybe this will be helpful: [VSCode &#39;java&#39; is not recognized as an internal or external command, operable program or batch file](https://stackoverflow.com/q/64445297)","body":"I don&#39;t use Kotlin nor VS, but maybe this will be helpful: <a href=\"https://stackoverflow.com/q/64445297\">VSCode &#39;java&#39; is not recognized as an internal or external command, operable program or batch file</a>"},{"owner":{"account_id":13722742,"reputation":16978,"user_id":10134209,"display_name":"gidds"},"score":4,"creation_date":1659219993,"post_id":73176376,"comment_id":129243441,"body_markdown":"[Please do not upload images of code/data/errors (whether correctly linked or not!) when asking a question.](//meta.stackoverflow.com/q/285551)","body":"<a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/data/errors (whether correctly linked or not!) when asking a question.</a>"}],"answers":[{"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659335781,"creation_date":1659335781,"answer_id":73189646,"question_id":73176376,"body_markdown":"**This error occurs because you have not installed the `Java JDK`.**\r\n\r\n### How to use Kotlin in VS code\r\n\r\nFirst you need to install the following programs on your machine\r\n\r\n- Install **Java JDK** on the computer system\r\n- Install **Kotlin** on your computer system\r\n- VS code install plugin **Kotlin Language**\r\n- VS code install plugin **Code Runner**\r\n\r\n**installation steps:**\r\n\r\n1. Please install **Java JDK** according to [this document][1]\r\n\r\n   [![enter image description here][2]][2]\r\n\r\n   *After the installation is complete, you can run the `java -version` command in the **cmd** window to check whether the installation is successful*\r\n\r\n   [![enter image description here][3]][3]\r\n\r\n2. Download the **kotlin** compiler [here][4]\r\n\r\n   [![enter image description here][5]][5]\r\n\r\n   After unzipping, add the **bin** folder path to the system environment variables\r\n\r\n   [![enter image description here][6]][6]\r\n\r\n   *After the installation is complete, you can run the `kotlinc -version` command in the **cmd** window to check whether the installation is successful*\r\n\r\n   [![enter image description here][7]][7]\r\n\r\n3. Install plugins in VS code: **[Kotlin Language][8]** and **[Code Runner][9]**\r\n\r\n**It is now possible to use Kotlin in VS code.**\r\n\r\n*Use the play button in the upper right corner or right-click to select **Run Code** to run the code*\r\n\r\n[![enter image description here][10]][10]\r\n\r\nIf you want the result to be output in the **TERMINAL** panel, please add the following configuration in **settings.json**\r\n\r\n```json\r\n    &quot;code-runner.runInTerminal&quot;: true,\r\n```\r\n\r\n[![enter image description here][11]][11]\r\n\r\n\r\n  [1]: https://code.visualstudio.com/docs/java/java-tutorial\r\n  [2]: https://i.stack.imgur.com/SfWeF.png\r\n  [3]: https://i.stack.imgur.com/NWCIc.png\r\n  [4]: https://github.com/JetBrains/kotlin/releases/tag/v1.3.31\r\n  [5]: https://i.stack.imgur.com/GbAz9.png\r\n  [6]: https://i.stack.imgur.com/bTeTT.png\r\n  [7]: https://i.stack.imgur.com/dM5HP.png\r\n  [8]: https://marketplace.visualstudio.com/items?itemName=mathiasfrohlich.Kotlin\r\n  [9]: https://marketplace.visualstudio.com/items?itemName=formulahendry.code-runner\r\n  [10]: https://i.stack.imgur.com/1Wrg9.png\r\n  [11]: https://i.stack.imgur.com/vdUsq.png","title":"&quot;Java is not recognised as an internal or external command&quot; in vs code even though I am trying to use kotlin. I properly set the path also","body":"<p><strong>This error occurs because you have not installed the <code>Java JDK</code>.</strong></p>\n<h3>How to use Kotlin in VS code</h3>\n<p>First you need to install the following programs on your machine</p>\n<ul>\n<li>Install <strong>Java JDK</strong> on the computer system</li>\n<li>Install <strong>Kotlin</strong> on your computer system</li>\n<li>VS code install plugin <strong>Kotlin Language</strong></li>\n<li>VS code install plugin <strong>Code Runner</strong></li>\n</ul>\n<p><strong>installation steps:</strong></p>\n<ol>\n<li><p>Please install <strong>Java JDK</strong> according to <a href=\"https://code.visualstudio.com/docs/java/java-tutorial\" rel=\"nofollow noreferrer\">this document</a></p>\n<p><a href=\"https://i.stack.imgur.com/SfWeF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SfWeF.png\" alt=\"enter image description here\" /></a></p>\n<p><em>After the installation is complete, you can run the <code>java -version</code> command in the <strong>cmd</strong> window to check whether the installation is successful</em></p>\n<p><a href=\"https://i.stack.imgur.com/NWCIc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NWCIc.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>Download the <strong>kotlin</strong> compiler <a href=\"https://github.com/JetBrains/kotlin/releases/tag/v1.3.31\" rel=\"nofollow noreferrer\">here</a></p>\n<p><a href=\"https://i.stack.imgur.com/GbAz9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GbAz9.png\" alt=\"enter image description here\" /></a></p>\n<p>After unzipping, add the <strong>bin</strong> folder path to the system environment variables</p>\n<p><a href=\"https://i.stack.imgur.com/bTeTT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bTeTT.png\" alt=\"enter image description here\" /></a></p>\n<p><em>After the installation is complete, you can run the <code>kotlinc -version</code> command in the <strong>cmd</strong> window to check whether the installation is successful</em></p>\n<p><a href=\"https://i.stack.imgur.com/dM5HP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dM5HP.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>Install plugins in VS code: <strong><a href=\"https://marketplace.visualstudio.com/items?itemName=mathiasfrohlich.Kotlin\" rel=\"nofollow noreferrer\">Kotlin Language</a></strong> and <strong><a href=\"https://marketplace.visualstudio.com/items?itemName=formulahendry.code-runner\" rel=\"nofollow noreferrer\">Code Runner</a></strong></p>\n</li>\n</ol>\n<p><strong>It is now possible to use Kotlin in VS code.</strong></p>\n<p><em>Use the play button in the upper right corner or right-click to select <strong>Run Code</strong> to run the code</em></p>\n<p><a href=\"https://i.stack.imgur.com/1Wrg9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1Wrg9.png\" alt=\"enter image description here\" /></a></p>\n<p>If you want the result to be output in the <strong>TERMINAL</strong> panel, please add the following configuration in <strong>settings.json</strong></p>\n<pre class=\"lang-json prettyprint-override\"><code>    &quot;code-runner.runInTerminal&quot;: true,\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/vdUsq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vdUsq.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":25662464,"reputation":3,"user_id":19428040,"display_name":"Shubham Kandpal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":705,"favorite_count":0,"down_vote_count":6,"up_vote_count":0,"accepted_answer_id":73189646,"answer_count":1,"score":-6,"last_activity_date":1659425080,"creation_date":1659190863,"question_id":73176376,"body_markdown":"I am downloading vs code for the first time.\r\n\r\n[![][1]][1]\r\n\r\n\r\n[![][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Yra9D.png\r\n  [2]: https://i.stack.imgur.com/GyJGq.png","title":"&quot;Java is not recognised as an internal or external command&quot; in vs code even though I am trying to use kotlin. I properly set the path also","body":"<p>I am downloading vs code for the first time.</p>\n<p><a href=\"https://i.stack.imgur.com/Yra9D.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Yra9D.png\" alt=\"\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/GyJGq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GyJGq.png\" alt=\"\" /></a></p>\n"},{"tags":["java","android","android-studio","gradle","android-gradle-plugin"],"comments":[{"owner":{"account_id":327994,"reputation":2650,"user_id":650700,"accept_rate":78,"display_name":"Adelino"},"score":1,"creation_date":1652105213,"post_id":72172348,"comment_id":127518784,"body_markdown":"I have the same issue, this is ridiculous from a company like Google... Just use the 7.2.0-rc02","body":"I have the same issue, this is ridiculous from a company like Google... Just use the 7.2.0-rc02"},{"owner":{"account_id":4088992,"reputation":133,"user_id":3357537,"accept_rate":100,"display_name":"noushad_chullian"},"score":0,"creation_date":1653737653,"post_id":72172348,"comment_id":127926939,"body_markdown":"i have the same issue facing when upgrading gradle. but the above mentioned solution is not working for me..","body":"i have the same issue facing when upgrading gradle. but the above mentioned solution is not working for me.."}],"answers":[{"tags":[],"owner":{"account_id":25111641,"reputation":108,"user_id":18961213,"display_name":"hj-core"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1652104382,"creation_date":1652104382,"answer_id":72173116,"question_id":72172348,"body_markdown":"I guess AGP7.2.0 hasn&#39;t been uploaded to Maven yet? [Maven page of Android Application Gradle Plugin][1]\r\n\r\nI solved this problem temporarily by setting the Android Gralde plugin version to 7.2.0-rc02 in the Android Studio/Project Structure/Project.\r\n\r\n  [1]: https://mvnrepository.com/artifact/com.android.application/com.android.application.gradle.plugin","title":"After upgrading android studio to Android Studio Chipmunk | 2021.2.1 getting this gradle issue","body":"<p>I guess AGP7.2.0 hasn't been uploaded to Maven yet? <a href=\"https://mvnrepository.com/artifact/com.android.application/com.android.application.gradle.plugin\" rel=\"noreferrer\">Maven page of Android Application Gradle Plugin</a></p>\n<p>I solved this problem temporarily by setting the Android Gralde plugin version to 7.2.0-rc02 in the Android Studio/Project Structure/Project.</p>\n"},{"tags":[],"owner":{"account_id":14662231,"reputation":21,"user_id":10589060,"display_name":"Debayan Chowdhury"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1652196348,"creation_date":1652196348,"answer_id":72189063,"question_id":72172348,"body_markdown":"Android Gradle plugin version 7.2.0 has been uploaded to Maven. Now we can use id &#39;com.android.library&#39; version &#39;7.2.0&#39; apply false","title":"After upgrading android studio to Android Studio Chipmunk | 2021.2.1 getting this gradle issue","body":"<p>Android Gradle plugin version 7.2.0 has been uploaded to Maven. Now we can use id 'com.android.library' version '7.2.0' apply false</p>\n"},{"tags":[],"owner":{"account_id":24419785,"reputation":51,"user_id":18346212,"display_name":"M.Shaker Nayyal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655455702,"creation_date":1655455648,"answer_id":72656659,"question_id":72172348,"body_markdown":"you should update android gradle plugin version to 7.2.1 , and gradle version to 7.3.3\r\n\r\nyou can edit versions by \r\n\r\n&gt; file-&gt;projectstructure-&gt;project\r\nand make changes\r\n","title":"After upgrading android studio to Android Studio Chipmunk | 2021.2.1 getting this gradle issue","body":"<p>you should update android gradle plugin version to 7.2.1 , and gradle version to 7.3.3</p>\n<p>you can edit versions by</p>\n<blockquote>\n<p>file-&gt;projectstructure-&gt;project\nand make changes</p>\n</blockquote>\n"}],"owner":{"account_id":13455154,"reputation":723,"user_id":9708904,"display_name":"Danial clarc"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8064,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":72173116,"answer_count":3,"score":5,"last_activity_date":1659424800,"creation_date":1652100824,"question_id":72172348,"body_markdown":"Plugin [id: &#39;com.android.library&#39;, version: &#39;7.2.0&#39;, apply: false] was not found in any of the following sources:\r\n\r\n* Try:\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Exception is:\r\norg.gradle.api.plugins.UnknownPluginException: Plugin [id: &#39;com.android.library&#39;, version: &#39;7.2.0&#39;, apply: false] was not found in any of the following sources:\r\n\r\n- Gradle Core Plugins (plugin is not in &#39;org.gradle&#39; namespace)\r\n- Plugin Repositories (could not resolve plugin artifact &#39;com.android.library:com.android.library.gradle.plugin:7.2.0&#39;)\r\n  Searched in the following repositories:\r\n    Gradle Central Plugin Repository\r\n    Google\r\n    MavenRepo\r\n\tat \r\n\r\norg.gradle.plugin.use.internal.DefaultPluginRequestApplicator.resolveToFoundResult(DefaultPluginRequestApplicator.java:221)\r\n\t\r\nat org.jetbrains.plugins.gradle.model.ProjectImportAction.execute(ProjectImportAction.java:42) \r\n\r\n\r\nIf someone has resolved this, please let me know, Thanks in advance ","title":"After upgrading android studio to Android Studio Chipmunk | 2021.2.1 getting this gradle issue","body":"<p>Plugin [id: 'com.android.library', version: '7.2.0', apply: false] was not found in any of the following sources:</p>\n<ul>\n<li>Try:</li>\n</ul>\n<blockquote>\n<p>Run with --info or --debug option to get more log output.\nRun with --scan to get full insights.</p>\n</blockquote>\n<ul>\n<li>Exception is:\norg.gradle.api.plugins.UnknownPluginException: Plugin [id: 'com.android.library', version: '7.2.0', apply: false] was not found in any of the following sources:</li>\n</ul>\n<ul>\n<li>Gradle Core Plugins (plugin is not in 'org.gradle' namespace)</li>\n<li>Plugin Repositories (could not resolve plugin artifact 'com.android.library:com.android.library.gradle.plugin:7.2.0')\nSearched in the following repositories:\nGradle Central Plugin Repository\nGoogle\nMavenRepo\nat</li>\n</ul>\n<p>org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.resolveToFoundResult(DefaultPluginRequestApplicator.java:221)</p>\n<p>at org.jetbrains.plugins.gradle.model.ProjectImportAction.execute(ProjectImportAction.java:42)</p>\n<p>If someone has resolved this, please let me know, Thanks in advance</p>\n"},{"tags":["java","json","selenium","automation","rest-assured"],"comments":[{"owner":{"account_id":17075096,"reputation":10246,"user_id":12354911,"display_name":"Eldar"},"score":0,"creation_date":1659425161,"post_id":73203229,"comment_id":129285330,"body_markdown":"There are some `CLI` applications that you can run on your local computer. So you may not need all of this.","body":"There are some <code>CLI</code> applications that you can run on your local computer. So you may not need all of this."},{"owner":{"account_id":13449420,"reputation":3,"user_id":9704593,"display_name":"Mert &#231;evik"},"score":0,"creation_date":1659427267,"post_id":73203229,"comment_id":129285994,"body_markdown":"@Eldar Yes but while doing this I want to improve my knowledge of both selenium and bash script or automation","body":"@Eldar Yes but while doing this I want to improve my knowledge of both selenium and bash script or automation"}],"owner":{"account_id":13449420,"reputation":3,"user_id":9704593,"display_name":"Mert &#231;evik"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659424618,"creation_date":1659423624,"question_id":73203229,"body_markdown":"I have a lot of json files waiting to be converted json schemas. So I just want to write my files in json format and then automatically converted and save. In short this auyomation will copy json file and will paste to the example.com website and than save the response on my local file\r\n\r\nHere is my steps :\r\n\r\n\r\nI want to copy a content written in notepad on my desktop and paste it into a website. How can I do that ? I it possible with selenium ?\r\n\r\nSteps :\r\n\r\n 1. Copy inside C:\\Users\\mc\\Desktop\\usages.json\r\n 2. Go to example.com (this is an example site)\r\n 3. I will paste the content I copied after I find the correct\r\n    elements(xpath or css selector)\r\n 4. In this website have copy button so i will click this button\r\n 5. And i will save the copied content into my local new text file like\r\n    usagescopy.json","title":"How to Automated copy from local file to website and save to local file","body":"<p>I have a lot of json files waiting to be converted json schemas. So I just want to write my files in json format and then automatically converted and save. In short this auyomation will copy json file and will paste to the example.com website and than save the response on my local file</p>\n<p>Here is my steps :</p>\n<p>I want to copy a content written in notepad on my desktop and paste it into a website. How can I do that ? I it possible with selenium ?</p>\n<p>Steps :</p>\n<ol>\n<li>Copy inside C:\\Users\\mc\\Desktop\\usages.json</li>\n<li>Go to example.com (this is an example site)</li>\n<li>I will paste the content I copied after I find the correct\nelements(xpath or css selector)</li>\n<li>In this website have copy button so i will click this button</li>\n<li>And i will save the copied content into my local new text file like\nusagescopy.json</li>\n</ol>\n"},{"tags":["java","spring","csv","elasticsearch","spring-data"],"comments":[{"owner":{"account_id":8803777,"reputation":2946,"user_id":6579116,"accept_rate":27,"display_name":"Pirate"},"score":0,"creation_date":1659426365,"post_id":73203355,"comment_id":129285716,"body_markdown":"try to run your application with G1GC and see if it is still freezing.","body":"try to run your application with G1GC and see if it is still freezing."},{"owner":{"account_id":985857,"reputation":2864,"user_id":1004374,"accept_rate":57,"display_name":"Dmitrii Borovoi"},"score":0,"creation_date":1659430388,"post_id":73203355,"comment_id":129287116,"body_markdown":"@Pirate nope the same. \nCMD java  -XX:+UseG1GC -Xmx2048m\nI believe frozen not java app but response from ES","body":"@Pirate nope the same.  CMD java  -XX:+UseG1GC -Xmx2048m I believe frozen not java app but response from ES"},{"owner":{"account_id":12382,"reputation":5758,"user_id":1215136,"display_name":"ilvar"},"score":0,"creation_date":1659553397,"post_id":73203355,"comment_id":129324271,"body_markdown":"ES indexing is async (unless you refresh on every bulk, which makes it very slow). SO when you fire many bulk requests at once, they get into a queue, and when the queue fills up it doesn&#39;t accept any more indexing unless it&#39;s processed. It shouldn&#39;t take minutes and hours though. Try to run it on a larger machine with more RAM and larger heap?","body":"ES indexing is async (unless you refresh on every bulk, which makes it very slow). SO when you fire many bulk requests at once, they get into a queue, and when the queue fills up it doesn&#39;t accept any more indexing unless it&#39;s processed. It shouldn&#39;t take minutes and hours though. Try to run it on a larger machine with more RAM and larger heap?"}],"owner":{"account_id":985857,"reputation":2864,"user_id":1004374,"accept_rate":57,"display_name":"Dmitrii Borovoi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659424336,"creation_date":1659424336,"question_id":73203355,"body_markdown":"I&#39;m trying to insert huge (~5GB, 600k records) csv file into ES. I&#39;m doing it using spring-data and elasticsearchtemplate via batchInsert. After around every 100k inserts ES got frozen to undefined amount of time and wake up after around 5-10 minutes, it inserts next 100k records suspends again and so on. And every time waiting time became higher and higher and can reach hours. \r\nI suspect that ES is reindexing just inserted records and I tried to disable auto-refresh but result is the same. I realize that reindexing is must but can I pause it and reindex after I insert all records?\r\n\r\n    version: &#39;3.8&#39;\r\n    \r\n    services:          \r\n      elasticsearch:\r\n        image: docker.elastic.co/elasticsearch/elasticsearch:7.4.0\r\n        container_name: elasticsearch\r\n        environment:\r\n          - xpack.security.enabled=false\r\n          - discovery.type=single-node\r\n        ulimits:\r\n          memlock:\r\n            soft: -1\r\n            hard: -1\r\n          nofile:\r\n            soft: 65536\r\n            hard: 65536\r\n        cap_add:\r\n          - IPC_LOCK\r\n        ports:\r\n          - 9200:9200\r\n          - 9300:9300\r\n\r\n\r\nThe entity I&#39;m trying to save:\r\n\r\n    @Setter\r\n    @Getter\r\n    @ToString\r\n    @EqualsAndHashCode(onlyExplicitlyIncluded = true)\r\n    @Document(indexName = &quot;index-name&quot;)\r\n    public class DataDocument {\r\n    \r\n        @Id\r\n        @ToString.Include\r\n        private Long uid;\r\n        @Field(type = FieldType.Text, storeNullValue = true, index = true)\r\n        private String indexField1;\r\n        @Field(type = FieldType.Text, storeNullValue = true, index = true)\r\n        private String indexField2;\r\n        @Field(type = FieldType.Text, storeNullValue = true, index = true)\r\n        private String indexField3;\r\n        @Field(type = FieldType.Text, storeNullValue = true, index = true)\r\n        private String indexField4;\r\n        @Field(type = FieldType.Text, storeNullValue = true, index = true)\r\n        private String indexField5;\r\n        @Field(type = FieldType.Text, storeNullValue = true, index = false)\r\n        private String notIndexField1;\r\n        @Field(type = FieldType.Text, storeNullValue = true, index = false)\r\n        private String notIndexField2\r\n        @Field(type = FieldType.Text, storeNullValue = true, index = false)\r\n        private String notIndexField3;\r\n    //more 30 nonindexfields\r\n    \r\n    }\r\n\r\n\r\n\r\nAnd this is how I&#39;m trying to save it:\r\n       \r\n    //option 1: using respository public interface DataRepository extends ElasticsearchRepository&lt;DataDocument, Long&gt;\r\n            public long saveInBatch(Iterable&lt;DataCsv&gt; list) {\r\n                long batchSize = Iterables.size(list);\r\n                log.info(&quot;Received insert-batch of size={}&quot;, batchSize);\r\n                final var documentList = mapper.mapAsIterable(list);\r\n                repository.saveAll(documentList);\r\n                return batchSize;\r\n            }\r\n    \r\n    //option 2: using ElasticsearchRestTemplate\r\n            public long bulkSave(List&lt;DataCsv&gt; list) {\r\n                log.info(&quot;Received bulk-insert of size={}&quot;, list.size());\r\n                final var queryList = list.stream()\r\n                        .map(mapper::map)\r\n                        .map(e -&gt; new IndexQueryBuilder().withObject(e).build())\r\n                        .collect(Collectors.toList());\r\n        //looks like withRefreshPolicy is not affecting anything\r\n                final var result = elasticsearchRestTemplate\r\n                        .bulkIndex(queryList, BulkOptions.builder().withRefreshPolicy(WriteRequest.RefreshPolicy.NONE).build(), IndexCoordinates.of(&quot;index-name&quot;));\r\n                return result.size();\r\n            }\r\n\r\nI tried different batch sizes: 100, 1000, 10000 - difference is neglectable\r\n\r\nHere is example of log:\r\n\r\n    2022-08-02 03:41:17.744  INFO 10840 --- [nio-5000-exec-1] c.o.h.p.service.DataService      : Received insert-batch of size=10000\r\n    2022-08-02 03:41:20.313  INFO 10840 --- [nio-5000-exec-1] c.o.h.p.service.DataService      : Received insert-batch of size=10000\r\n    2022-08-02 03:41:22.887  INFO 10840 --- [nio-5000-exec-1] c.o.h.p.service.DataService      : Received insert-batch of size=10000\r\n    2022-08-02 04:23:47.785  INFO 10840 --- [nio-5000-exec-1] c.o.h.p.service.DataService      : Received insert-batch of size=10000\r\n    2022-08-02 04:23:56.669  INFO 10840 --- [nio-5000-exec-1] c.o.h.p.service.DataService      : Received insert-batch of size=10000\r\n    2022-08-02 04:23:59.304  INFO 10840 --- [nio-5000-exec-1] c.o.h.p.service.DataService      : Received insert-batch of size=10000\r\n    2022-08-02 04:24:01.913  INFO 10840 --- [nio-5000-exec-1] c.o.h.p.service.DataService      : Received insert-batch of size=10000\r\n    2022-08-02 04:24:04.360  INFO 10840 --- [nio-5000-exec-1] c.o.h.p.service.DataService      : Received insert-batch of size=10000\r\n    2022-08-02 04:24:07.109  INFO 10840 --- [nio-5000-exec-1] c.o.h.p.service.DataService      : Received insert-batch of size=10000\r\n    2022-08-02 04:24:09.619  INFO 10840 --- [nio-5000-exec-1] c.o.h.p.service.DataService      : Received insert-batch of size=10000\r\n    2022-08-02 04:24:12.023  INFO 10840 --- [nio-5000-exec-1] c.o.h.p.service.DataService      : Received insert-batch of size=10000\r\n    2022-08-02 04:24:14.528  INFO 10840 --- [nio-5000-exec-1] c.o.h.p.service.DataService      : Received insert-batch of size=10000\r\n    2022-08-02 04:24:17.118  INFO 10840 --- [nio-5000-exec-1] c.o.h.p.service.DataService      : Received insert-batch of size=10000\r\n    2022-08-02 09:16:20.208  INFO 10840 --- [nio-5000-exec-1] c.o.h.p.service.DataService      : Received insert-batch of size=10000\r\n\r\n\r\nSo my questions are:\r\n\r\n 1. How can I make work RefreshPolicy? \r\n 2. How can I boost batch insert,maybe there are other options besides RefreshPolicy?\r\n 3. Is it ok to have such pauses during saving?\r\n\r\n\r\n\r\n","title":"Batch insert into Elasticsearch is getting frozen after several thousands of inserts","body":"<p>I'm trying to insert huge (~5GB, 600k records) csv file into ES. I'm doing it using spring-data and elasticsearchtemplate via batchInsert. After around every 100k inserts ES got frozen to undefined amount of time and wake up after around 5-10 minutes, it inserts next 100k records suspends again and so on. And every time waiting time became higher and higher and can reach hours.\nI suspect that ES is reindexing just inserted records and I tried to disable auto-refresh but result is the same. I realize that reindexing is must but can I pause it and reindex after I insert all records?</p>\n<pre><code>version: '3.8'\n\nservices:          \n  elasticsearch:\n    image: docker.elastic.co/elasticsearch/elasticsearch:7.4.0\n    container_name: elasticsearch\n    environment:\n      - xpack.security.enabled=false\n      - discovery.type=single-node\n    ulimits:\n      memlock:\n        soft: -1\n        hard: -1\n      nofile:\n        soft: 65536\n        hard: 65536\n    cap_add:\n      - IPC_LOCK\n    ports:\n      - 9200:9200\n      - 9300:9300\n</code></pre>\n<p>The entity I'm trying to save:</p>\n<pre><code>@Setter\n@Getter\n@ToString\n@EqualsAndHashCode(onlyExplicitlyIncluded = true)\n@Document(indexName = &quot;index-name&quot;)\npublic class DataDocument {\n\n    @Id\n    @ToString.Include\n    private Long uid;\n    @Field(type = FieldType.Text, storeNullValue = true, index = true)\n    private String indexField1;\n    @Field(type = FieldType.Text, storeNullValue = true, index = true)\n    private String indexField2;\n    @Field(type = FieldType.Text, storeNullValue = true, index = true)\n    private String indexField3;\n    @Field(type = FieldType.Text, storeNullValue = true, index = true)\n    private String indexField4;\n    @Field(type = FieldType.Text, storeNullValue = true, index = true)\n    private String indexField5;\n    @Field(type = FieldType.Text, storeNullValue = true, index = false)\n    private String notIndexField1;\n    @Field(type = FieldType.Text, storeNullValue = true, index = false)\n    private String notIndexField2\n    @Field(type = FieldType.Text, storeNullValue = true, index = false)\n    private String notIndexField3;\n//more 30 nonindexfields\n\n}\n</code></pre>\n<p>And this is how I'm trying to save it:</p>\n<pre><code>//option 1: using respository public interface DataRepository extends ElasticsearchRepository&lt;DataDocument, Long&gt;\n        public long saveInBatch(Iterable&lt;DataCsv&gt; list) {\n            long batchSize = Iterables.size(list);\n            log.info(&quot;Received insert-batch of size={}&quot;, batchSize);\n            final var documentList = mapper.mapAsIterable(list);\n            repository.saveAll(documentList);\n            return batchSize;\n        }\n\n//option 2: using ElasticsearchRestTemplate\n        public long bulkSave(List&lt;DataCsv&gt; list) {\n            log.info(&quot;Received bulk-insert of size={}&quot;, list.size());\n            final var queryList = list.stream()\n                    .map(mapper::map)\n                    .map(e -&gt; new IndexQueryBuilder().withObject(e).build())\n                    .collect(Collectors.toList());\n    //looks like withRefreshPolicy is not affecting anything\n            final var result = elasticsearchRestTemplate\n                    .bulkIndex(queryList, BulkOptions.builder().withRefreshPolicy(WriteRequest.RefreshPolicy.NONE).build(), IndexCoordinates.of(&quot;index-name&quot;));\n            return result.size();\n        }\n</code></pre>\n<p>I tried different batch sizes: 100, 1000, 10000 - difference is neglectable</p>\n<p>Here is example of log:</p>\n<pre><code>2022-08-02 03:41:17.744  INFO 10840 --- [nio-5000-exec-1] c.o.h.p.service.DataService      : Received insert-batch of size=10000\n2022-08-02 03:41:20.313  INFO 10840 --- [nio-5000-exec-1] c.o.h.p.service.DataService      : Received insert-batch of size=10000\n2022-08-02 03:41:22.887  INFO 10840 --- [nio-5000-exec-1] c.o.h.p.service.DataService      : Received insert-batch of size=10000\n2022-08-02 04:23:47.785  INFO 10840 --- [nio-5000-exec-1] c.o.h.p.service.DataService      : Received insert-batch of size=10000\n2022-08-02 04:23:56.669  INFO 10840 --- [nio-5000-exec-1] c.o.h.p.service.DataService      : Received insert-batch of size=10000\n2022-08-02 04:23:59.304  INFO 10840 --- [nio-5000-exec-1] c.o.h.p.service.DataService      : Received insert-batch of size=10000\n2022-08-02 04:24:01.913  INFO 10840 --- [nio-5000-exec-1] c.o.h.p.service.DataService      : Received insert-batch of size=10000\n2022-08-02 04:24:04.360  INFO 10840 --- [nio-5000-exec-1] c.o.h.p.service.DataService      : Received insert-batch of size=10000\n2022-08-02 04:24:07.109  INFO 10840 --- [nio-5000-exec-1] c.o.h.p.service.DataService      : Received insert-batch of size=10000\n2022-08-02 04:24:09.619  INFO 10840 --- [nio-5000-exec-1] c.o.h.p.service.DataService      : Received insert-batch of size=10000\n2022-08-02 04:24:12.023  INFO 10840 --- [nio-5000-exec-1] c.o.h.p.service.DataService      : Received insert-batch of size=10000\n2022-08-02 04:24:14.528  INFO 10840 --- [nio-5000-exec-1] c.o.h.p.service.DataService      : Received insert-batch of size=10000\n2022-08-02 04:24:17.118  INFO 10840 --- [nio-5000-exec-1] c.o.h.p.service.DataService      : Received insert-batch of size=10000\n2022-08-02 09:16:20.208  INFO 10840 --- [nio-5000-exec-1] c.o.h.p.service.DataService      : Received insert-batch of size=10000\n</code></pre>\n<p>So my questions are:</p>\n<ol>\n<li>How can I make work RefreshPolicy?</li>\n<li>How can I boost batch insert,maybe there are other options besides RefreshPolicy?</li>\n<li>Is it ok to have such pauses during saving?</li>\n</ol>\n"},{"tags":["java","postgresql","hibernate","orm","hibernate-envers"],"answers":[{"tags":[],"owner":{"account_id":1012936,"reputation":145168,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1639482189,"creation_date":1639482189,"answer_id":70348293,"question_id":69961082,"body_markdown":"I checked it out, and here&#39;s what I found:\r\n\r\n- Chris, who&#39;s been doing most of Envers fixes during my time as a Hibernate dev, wrote [this reply](https://stackoverflow.com/a/54078998/1025118) telling that there&#39;s no workaround at the moment\r\n- there&#39;s the [HHH-14664](https://hibernate.atlassian.net/browse/HHH-14664) issue created for this problem, but no one provided a fix for it.\r\n\r\nSo, until someone fixes [HHH-14664], the only option would be to provide a `CustomValidityAuditStrategy` that extends the `ValidityAuditStrategy` and fixes the issue.","title":"How can I batch the audit table inserts using the Hibernate Envers ValidityAuditStrategy","body":"<p>I checked it out, and here's what I found:</p>\n<ul>\n<li>Chris, who's been doing most of Envers fixes during my time as a Hibernate dev, wrote <a href=\"https://stackoverflow.com/a/54078998/1025118\">this reply</a> telling that there's no workaround at the moment</li>\n<li>there's the <a href=\"https://hibernate.atlassian.net/browse/HHH-14664\" rel=\"nofollow noreferrer\">HHH-14664</a> issue created for this problem, but no one provided a fix for it.</li>\n</ul>\n<p>So, until someone fixes [HHH-14664], the only option would be to provide a <code>CustomValidityAuditStrategy</code> that extends the <code>ValidityAuditStrategy</code> and fixes the issue.</p>\n"}],"owner":{"account_id":11375577,"reputation":111,"user_id":8339989,"accept_rate":0,"display_name":"Ploni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":621,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70348293,"answer_count":1,"score":1,"last_activity_date":1659424336,"creation_date":1636874577,"question_id":69961082,"body_markdown":"I&#39;m using Hibernate envers for auditing, and most of my tables are performing batch inserts just fine. However, on one of my entities I have an audited collection, which seems like it doesnt want to batch. \r\n\r\nMyEntity:\r\n\r\n    @Entity\r\n    @DynamicUpdate\r\n    @Indexed(index = &quot;aj&quot;)\r\n    @JsonInclude(JsonInclude.Include.NON_NULL)\r\n    public class ElementGroup {\r\n      ...      \r\n    @ManyToMany(fetch = FetchType.LAZY, cascade = { CascadeType.PERSIST, CascadeType.DETACH, CascadeType.MERGE })\r\n        @BatchSize(size = 30)\r\n        @OrderBy(&quot;id ASC&quot;)\r\n        @JoinTable(\r\n                name = &quot;element_groups&quot;,\r\n                joinColumns = @JoinColumn(name = &quot;group_id&quot;),\r\n                inverseJoinColumns = @JoinColumn(name = &quot;member_id&quot;)\r\n        )\r\n        @Audited\r\n        protected List&lt;Element&gt; members = new LinkedList&lt;Element&gt;();\r\n\r\n(Not sure if this is important, Im using postgresql). In the logs I see 1000s of these statements in a loop\r\n\r\n    DEBUG 2021-11-07 15:28:56,673 [applicationInterfcePublishTaskExecuter-4::o.h.SQL.logStatement] [user:system] \r\n    insert \r\n    into\r\n        nst_netobj_groups_aud\r\n        (revtype, revend, rev, group_id, member_id) \r\n    values\r\n        (?, ?, ?, ?, ?)\r\n    DEBUG 2021-11-07 15:28:56,677 [applicationInterfcePublishTaskExecuter-4::o.h.SQL.logStatement] [user:system] \r\n        select\r\n            nst_netobj0_.rev as rev1_137_,\r\n            nst_netobj0_.group_id as group_id2_137_,\r\n            nst_netobj0_.member_id as member_i3_137_,\r\n            nst_netobj0_.revtype as revtype4_137_,\r\n            nst_netobj0_.revend as revend5_137_ \r\n        from\r\n            nst_netobj_groups_aud nst_netobj0_ \r\n        where\r\n            nst_netobj0_.group_id=? \r\n            and nst_netobj0_.member_id=? \r\n            and (\r\n                nst_netobj0_.revend is null\r\n            ) for update\r\n                of nst_netobj0_\r\n\r\nDoing some debugging, I&#39;ve understood that the select for update statement is causing the flush of the previous insert, not allowing them to batch.\r\nThis line seems to be the reason:\r\n\r\n    \t\tfinal List&lt;Object&gt; l = qb.toQuery( session ).setLockOptions( LockOptions.UPGRADE ).list();\r\n\r\n    hibernate-envers-5.4.27.Final-sources.jar!/org/hibernate/envers/strategy/internal/ValidityAuditStrategy.java:328\r\n\r\nI see that setting flush mode to Manual/Commit doesnt seem to help.\r\nAny suggestions?\r\n\r\nFull stack trace:\r\n\r\n        logStatement:125, SqlStatementLogger (org.hibernate.engine.jdbc.spi)\r\n    prepareStatement:170, StatementPreparerImpl$StatementPreparationTemplate (org.hibernate.engine.jdbc.internal)\r\n    prepareQueryStatement:151, StatementPreparerImpl (org.hibernate.engine.jdbc.internal)\r\n    prepareQueryStatement:2104, Loader (org.hibernate.loader)\r\n    executeQueryStatement:2041, Loader (org.hibernate.loader)\r\n    executeQueryStatement:2019, Loader (org.hibernate.loader)\r\n    doQuery:948, Loader (org.hibernate.loader)\r\n    doQueryAndInitializeNonLazyCollections:349, Loader (org.hibernate.loader)\r\n    doList:2850, Loader (org.hibernate.loader)\r\n    doList:2832, Loader (org.hibernate.loader)\r\n    listIgnoreQueryCache:2664, Loader (org.hibernate.loader)\r\n    list:2659, Loader (org.hibernate.loader)\r\n    list:506, QueryLoader (org.hibernate.loader.hql)\r\n    list:400, QueryTranslatorImpl (org.hibernate.hql.internal.ast)\r\n    performList:219, HQLQueryPlan (org.hibernate.engine.query.spi)\r\n    list:1414, SessionImpl (org.hibernate.internal)\r\n    doList:1625, AbstractProducedQuery (org.hibernate.query.internal)\r\n    list:1593, AbstractProducedQuery (org.hibernate.query.internal)\r\n    performCollectionChange:328, ValidityAuditStrategy (org.hibernate.envers.strategy.internal)\r\n    performCollectionChange:76, AuditStrategy (org.hibernate.envers.strategy)\r\n    perform:87, PersistentCollectionChangeWorkUnit (org.hibernate.envers.internal.synchronization.work)\r\n    executeInSession:125, AuditProcess (org.hibernate.envers.internal.synchronization)\r\n    doBeforeTransactionCompletion:164, AuditProcess (org.hibernate.envers.internal.synchronization)\r\n    doBeforeTransactionCompletion:47, AuditProcessManager$1 (org.hibernate.envers.internal.synchronization)\r\n    beforeTransactionCompletion:954, ActionQueue$BeforeTransactionCompletionProcessQueue (org.hibernate.engine.spi)\r\n    beforeTransactionCompletion:525, ActionQueue (org.hibernate.engine.spi)\r\n    beforeTransactionCompletion:2381, SessionImpl (org.hibernate.internal)\r\n    beforeTransactionCompletion:447, JdbcCoordinatorImpl (org.hibernate.engine.jdbc.internal)\r\n    beforeCompletionCallback:183, JdbcResourceLocalTransactionCoordinatorImpl (org.hibernate.resource.transaction.backend.jdbc.internal)\r\n    access$300:40, JdbcResourceLocalTransactionCoordinatorImpl (org.hibernate.resource.transaction.backend.jdbc.internal)\r\n    commit:281, JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl (org.hibernate.resource.transaction.backend.jdbc.internal)\r\n    commit:101, TransactionImpl (org.hibernate.engine.transaction.internal)\r\n    doCommit:562, JpaTransactionManager (org.springframework.orm.jpa)\r\n    processCommit:743, AbstractPlatformTransactionManager (org.springframework.transaction.support)\r\n    commit:711, AbstractPlatformTransactionManager (org.springframework.transaction.support)\r\n    execute:152, TransactionTemplate (org.springframework.transaction.support)\r\n    lambda$publishApplicationInterfaceAsync$0:298, ApplicationInterfaceService (com.tufin.secureapp.service.interfaces)\r\n    run:-1, 16579879 (com.tufin.secureapp.service.interfaces.ApplicationInterfaceService$$Lambda$669)\r\n    runWorker:1149, ThreadPoolExecutor (java.util.concurrent)\r\n    run:624, ThreadPoolExecutor$Worker (java.util.concurrent)\r\n    run:748, Thread (java.lang)\r\n\r\n","title":"How can I batch the audit table inserts using the Hibernate Envers ValidityAuditStrategy","body":"<p>I'm using Hibernate envers for auditing, and most of my tables are performing batch inserts just fine. However, on one of my entities I have an audited collection, which seems like it doesnt want to batch.</p>\n<p>MyEntity:</p>\n<pre><code>@Entity\n@DynamicUpdate\n@Indexed(index = &quot;aj&quot;)\n@JsonInclude(JsonInclude.Include.NON_NULL)\npublic class ElementGroup {\n  ...      \n@ManyToMany(fetch = FetchType.LAZY, cascade = { CascadeType.PERSIST, CascadeType.DETACH, CascadeType.MERGE })\n    @BatchSize(size = 30)\n    @OrderBy(&quot;id ASC&quot;)\n    @JoinTable(\n            name = &quot;element_groups&quot;,\n            joinColumns = @JoinColumn(name = &quot;group_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;member_id&quot;)\n    )\n    @Audited\n    protected List&lt;Element&gt; members = new LinkedList&lt;Element&gt;();\n</code></pre>\n<p>(Not sure if this is important, Im using postgresql). In the logs I see 1000s of these statements in a loop</p>\n<pre><code>DEBUG 2021-11-07 15:28:56,673 [applicationInterfcePublishTaskExecuter-4::o.h.SQL.logStatement] [user:system] \ninsert \ninto\n    nst_netobj_groups_aud\n    (revtype, revend, rev, group_id, member_id) \nvalues\n    (?, ?, ?, ?, ?)\nDEBUG 2021-11-07 15:28:56,677 [applicationInterfcePublishTaskExecuter-4::o.h.SQL.logStatement] [user:system] \n    select\n        nst_netobj0_.rev as rev1_137_,\n        nst_netobj0_.group_id as group_id2_137_,\n        nst_netobj0_.member_id as member_i3_137_,\n        nst_netobj0_.revtype as revtype4_137_,\n        nst_netobj0_.revend as revend5_137_ \n    from\n        nst_netobj_groups_aud nst_netobj0_ \n    where\n        nst_netobj0_.group_id=? \n        and nst_netobj0_.member_id=? \n        and (\n            nst_netobj0_.revend is null\n        ) for update\n            of nst_netobj0_\n</code></pre>\n<p>Doing some debugging, I've understood that the select for update statement is causing the flush of the previous insert, not allowing them to batch.\nThis line seems to be the reason:</p>\n<pre><code>        final List&lt;Object&gt; l = qb.toQuery( session ).setLockOptions( LockOptions.UPGRADE ).list();\n\nhibernate-envers-5.4.27.Final-sources.jar!/org/hibernate/envers/strategy/internal/ValidityAuditStrategy.java:328\n</code></pre>\n<p>I see that setting flush mode to Manual/Commit doesnt seem to help.\nAny suggestions?</p>\n<p>Full stack trace:</p>\n<pre><code>    logStatement:125, SqlStatementLogger (org.hibernate.engine.jdbc.spi)\nprepareStatement:170, StatementPreparerImpl$StatementPreparationTemplate (org.hibernate.engine.jdbc.internal)\nprepareQueryStatement:151, StatementPreparerImpl (org.hibernate.engine.jdbc.internal)\nprepareQueryStatement:2104, Loader (org.hibernate.loader)\nexecuteQueryStatement:2041, Loader (org.hibernate.loader)\nexecuteQueryStatement:2019, Loader (org.hibernate.loader)\ndoQuery:948, Loader (org.hibernate.loader)\ndoQueryAndInitializeNonLazyCollections:349, Loader (org.hibernate.loader)\ndoList:2850, Loader (org.hibernate.loader)\ndoList:2832, Loader (org.hibernate.loader)\nlistIgnoreQueryCache:2664, Loader (org.hibernate.loader)\nlist:2659, Loader (org.hibernate.loader)\nlist:506, QueryLoader (org.hibernate.loader.hql)\nlist:400, QueryTranslatorImpl (org.hibernate.hql.internal.ast)\nperformList:219, HQLQueryPlan (org.hibernate.engine.query.spi)\nlist:1414, SessionImpl (org.hibernate.internal)\ndoList:1625, AbstractProducedQuery (org.hibernate.query.internal)\nlist:1593, AbstractProducedQuery (org.hibernate.query.internal)\nperformCollectionChange:328, ValidityAuditStrategy (org.hibernate.envers.strategy.internal)\nperformCollectionChange:76, AuditStrategy (org.hibernate.envers.strategy)\nperform:87, PersistentCollectionChangeWorkUnit (org.hibernate.envers.internal.synchronization.work)\nexecuteInSession:125, AuditProcess (org.hibernate.envers.internal.synchronization)\ndoBeforeTransactionCompletion:164, AuditProcess (org.hibernate.envers.internal.synchronization)\ndoBeforeTransactionCompletion:47, AuditProcessManager$1 (org.hibernate.envers.internal.synchronization)\nbeforeTransactionCompletion:954, ActionQueue$BeforeTransactionCompletionProcessQueue (org.hibernate.engine.spi)\nbeforeTransactionCompletion:525, ActionQueue (org.hibernate.engine.spi)\nbeforeTransactionCompletion:2381, SessionImpl (org.hibernate.internal)\nbeforeTransactionCompletion:447, JdbcCoordinatorImpl (org.hibernate.engine.jdbc.internal)\nbeforeCompletionCallback:183, JdbcResourceLocalTransactionCoordinatorImpl (org.hibernate.resource.transaction.backend.jdbc.internal)\naccess$300:40, JdbcResourceLocalTransactionCoordinatorImpl (org.hibernate.resource.transaction.backend.jdbc.internal)\ncommit:281, JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl (org.hibernate.resource.transaction.backend.jdbc.internal)\ncommit:101, TransactionImpl (org.hibernate.engine.transaction.internal)\ndoCommit:562, JpaTransactionManager (org.springframework.orm.jpa)\nprocessCommit:743, AbstractPlatformTransactionManager (org.springframework.transaction.support)\ncommit:711, AbstractPlatformTransactionManager (org.springframework.transaction.support)\nexecute:152, TransactionTemplate (org.springframework.transaction.support)\nlambda$publishApplicationInterfaceAsync$0:298, ApplicationInterfaceService (com.tufin.secureapp.service.interfaces)\nrun:-1, 16579879 (com.tufin.secureapp.service.interfaces.ApplicationInterfaceService$$Lambda$669)\nrunWorker:1149, ThreadPoolExecutor (java.util.concurrent)\nrun:624, ThreadPoolExecutor$Worker (java.util.concurrent)\nrun:748, Thread (java.lang)\n</code></pre>\n"},{"tags":["java","string","stringbuilder"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1659423961,"post_id":73203284,"comment_id":129284906,"body_markdown":"You forgot to ask a question.","body":"You forgot to ask a question."},{"owner":{"account_id":2853776,"reputation":1477,"user_id":2450403,"accept_rate":94,"display_name":"Simmant"},"score":0,"creation_date":1659424002,"post_id":73203284,"comment_id":129284922,"body_markdown":"What is your output? and what is your question?","body":"What is your output? and what is your question?"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1659424090,"post_id":73203284,"comment_id":129284957,"body_markdown":"`StringBuilder.reverse()` returns itself, so `str2=str1; str2=str2.reverse();` is equivalent to `str1.reverse(); str2=str1;`, so the equality check will always evaluate to true. And if they weren&#39;t the same instance, it would always be false because `==` does reference comparison, and so does `StringBuilder.equals()` for that matter.","body":"<code>StringBuilder.reverse()</code> returns itself, so <code>str2=str1; str2=str2.reverse();</code> is equivalent to <code>str1.reverse(); str2=str1;</code>, so the equality check will always evaluate to true. And if they weren&#39;t the same instance, it would always be false because <code>==</code> does reference comparison, and so does <code>StringBuilder.equals()</code> for that matter."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1659424137,"post_id":73203284,"comment_id":129284972,"body_markdown":"`str2=str1;` sets str2 to the same object as str1. `str2.append(str1);`","body":"<code>str2=str1;</code> sets str2 to the same object as str1. <code>str2.append(str1);</code>"},{"owner":{"account_id":16904098,"reputation":627,"user_id":12224743,"display_name":"Umeshwaran"},"score":0,"creation_date":1659424328,"post_id":73203284,"comment_id":129285041,"body_markdown":"Give ``` str2=new String(str1);``` . This way , the value of str1 gets copied to str2 and you won&#39;t get the issue . ```str2=str1``` means that both str1 and str2 points to single String object and when a change is made for str1 or str2 , it gets reflected in both","body":"Give ``` str2=new String(str1);``` . This way , the value of str1 gets copied to str2 and you won&#39;t get the issue . <code>str2=str1</code> means that both str1 and str2 points to single String object and when a change is made for str1 or str2 , it gets reflected in both"}],"owner":{"account_id":25884169,"reputation":1,"user_id":19612640,"display_name":"Shreyansh Sharma"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1659424520,"answer_count":0,"score":0,"last_activity_date":1659423910,"creation_date":1659423910,"question_id":73203284,"body_markdown":"Program to check whether string is pallindrome or not. I typed the below code in that when i reverse my string both str1 and str2 gets reversed.\r\n\r\npackage com.shrey;\r\n\r\nimport java.util.*;\r\n\r\npublic class basics {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tScanner sc = new Scanner(System.in);\r\n\t\tStringBuilder str1 = new StringBuilder();\r\n\t\tStringBuilder str2 = new StringBuilder();\r\n\t\tSystem.out.println(&quot;Enter String: &quot;);\r\n\t\tString str = sc.nextLine();\r\n\t\tstr1.append(str);\r\n\t\tstr2=str1;\r\n\t\tstr2=str2.reverse();\r\n\t\tif(str1==str2)\r\n\t\t\tSystem.out.println(&quot;Strings are PALLINDROME!&quot;);\r\n\t\telse\r\n\t\t\tSystem.out.println(&quot;Strings are not pallindrome&quot;);\r\n\t\tsc.close();\r\n\t}\r\n\r\n}\r\n","title":"Program to check whether string is pallindrome or not. I typed the below code in that when i reverse my string both str1 and str2 gets reversed","body":"<p>Program to check whether string is pallindrome or not. I typed the below code in that when i reverse my string both str1 and str2 gets reversed.</p>\n<p>package com.shrey;</p>\n<p>import java.util.*;</p>\n<p>public class basics {</p>\n<pre><code>public static void main(String[] args) {\n    Scanner sc = new Scanner(System.in);\n    StringBuilder str1 = new StringBuilder();\n    StringBuilder str2 = new StringBuilder();\n    System.out.println(&quot;Enter String: &quot;);\n    String str = sc.nextLine();\n    str1.append(str);\n    str2=str1;\n    str2=str2.reverse();\n    if(str1==str2)\n        System.out.println(&quot;Strings are PALLINDROME!&quot;);\n    else\n        System.out.println(&quot;Strings are not pallindrome&quot;);\n    sc.close();\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","string","char","return","reverse"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":2,"creation_date":1659419506,"post_id":73202473,"comment_id":129283744,"body_markdown":"`inputString = String.valueOf(letters);` - you are overwriting the value of `inputString` in every iteration of the loop.  Create a new variable `String [] returnValues` to store the reversed Strings.  You want to return `String[]` not `String`","body":"<code>inputString = String.valueOf(letters);</code> - you are overwriting the value of <code>inputString</code> in every iteration of the loop.  Create a new variable <code>String [] returnValues</code> to store the reversed Strings.  You want to return <code>String[]</code> not <code>String</code>"},{"owner":{"account_id":10428850,"reputation":175,"user_id":7689280,"display_name":"Mio"},"score":0,"creation_date":1659419901,"post_id":73202473,"comment_id":129283831,"body_markdown":"since your String is overwritten, you can create a list at the beginning of your method - `List&lt;String&gt; list = new ArrayList&lt;&gt;();`\nthen add elements to it, and finally return `list.toString();`","body":"since your String is overwritten, you can create a list at the beginning of your method - <code>List&lt;String&gt; list = new ArrayList&lt;&gt;();</code> then add elements to it, and finally return <code>list.toString();</code>"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1659421867,"post_id":73202473,"comment_id":129284308,"body_markdown":"`String result = &quot;&quot;;` and at end of loop `result += String.valueOf(letters) + &quot; &quot;;` (basic idea, can/should be improved - e.g. reversing directly into the result)","body":"<code>String result = &quot;&quot;;</code> and at end of loop <code>result += String.valueOf(letters) + &quot; &quot;;</code> (basic idea, can/should be improved - e.g. reversing directly into the result)"}],"answers":[{"tags":[],"owner":{"account_id":22880973,"reputation":698,"user_id":17022570,"display_name":"Arsh Coder"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1659422468,"creation_date":1659421866,"answer_id":73202914,"question_id":73202473,"body_markdown":"I think you are trying to reverse a String. So to reverse a String there is a built in method in Java. You can use the `reverse()` method of `StringBuilder` class.\r\nFor example:-\r\n\r\n    public String reverse(String input){  \r\n    \r\n        String words[]=input.split(&quot; &quot;);\r\n    \r\n        String output=&quot;&quot;;  \r\n    \r\n        for(String str:words){  \r\n    \r\n            StringBuilder sb=new StringBuilder(str);  \r\n            sb.reverse();  \r\n            output += sb.toString()+&quot; &quot;;  \r\n        }  \r\n        return output.trim(); // removes whitespace at the end\r\n    }  ","title":"Convert char array and return as a String","body":"<p>I think you are trying to reverse a String. So to reverse a String there is a built in method in Java. You can use the <code>reverse()</code> method of <code>StringBuilder</code> class.\nFor example:-</p>\n<pre><code>public String reverse(String input){  \n\n    String words[]=input.split(&quot; &quot;);\n\n    String output=&quot;&quot;;  \n\n    for(String str:words){  \n\n        StringBuilder sb=new StringBuilder(str);  \n        sb.reverse();  \n        output += sb.toString()+&quot; &quot;;  \n    }  \n    return output.trim(); // removes whitespace at the end\n}  \n</code></pre>\n"}],"owner":{"account_id":25954119,"reputation":1,"user_id":19671704,"display_name":"Berder"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1659422468,"creation_date":1659419008,"question_id":73202473,"body_markdown":"I try to create a method, which get as parameter a String. This String will be splitted and every word will be reversed(without special characters).\r\n\r\nI need to make this method returnable and when I tried to realize it, I got just last word of string which I gave as input parameter. \r\n\r\nWould you have any ideas, how could I solve this problem?\r\n\r\n\r\n    public String reverse(String inputString) {\r\n        for(String word : inputString.split(&quot; &quot;)){\r\n            char[] letters = word.toCharArray();\r\n            int leftIndex = 0;\r\n            int rightIndex = letters.length - 1;\r\n\r\n            while(leftIndex &lt; rightIndex){\r\n                if (!Character.isAlphabetic(letters[leftIndex]))\r\n                    leftIndex++;\r\n                else if(!Character.isAlphabetic(letters[rightIndex]))\r\n                    rightIndex--;\r\n                else\r\n                {\r\n                    char temp = letters[leftIndex];\r\n                    letters[leftIndex] = letters[rightIndex];\r\n                    letters[rightIndex] = temp;\r\n                    leftIndex++;\r\n                    rightIndex--;\r\n                }\r\n            }\r\n            inputString = String.valueOf(letters);\r\n        }\r\n        return inputString;\r\n    }","title":"Convert char array and return as a String","body":"<p>I try to create a method, which get as parameter a String. This String will be splitted and every word will be reversed(without special characters).</p>\n<p>I need to make this method returnable and when I tried to realize it, I got just last word of string which I gave as input parameter.</p>\n<p>Would you have any ideas, how could I solve this problem?</p>\n<pre><code>public String reverse(String inputString) {\n    for(String word : inputString.split(&quot; &quot;)){\n        char[] letters = word.toCharArray();\n        int leftIndex = 0;\n        int rightIndex = letters.length - 1;\n\n        while(leftIndex &lt; rightIndex){\n            if (!Character.isAlphabetic(letters[leftIndex]))\n                leftIndex++;\n            else if(!Character.isAlphabetic(letters[rightIndex]))\n                rightIndex--;\n            else\n            {\n                char temp = letters[leftIndex];\n                letters[leftIndex] = letters[rightIndex];\n                letters[rightIndex] = temp;\n                leftIndex++;\n                rightIndex--;\n            }\n        }\n        inputString = String.valueOf(letters);\n    }\n    return inputString;\n}\n</code></pre>\n"},{"tags":["java","hibernate","jpa","criteria"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1659367816,"post_id":71320879,"comment_id":129272402,"body_markdown":"Check if this helps: https://vladmihalcea.com/how-to-join-unrelated-entities-with-jpa-and-hibernate/","body":"Check if this helps: <a href=\"https://vladmihalcea.com/how-to-join-unrelated-entities-with-jpa-and-hibernate/\" rel=\"nofollow noreferrer\">vladmihalcea.com/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2975918,"reputation":755,"user_id":2526969,"display_name":"frascu"},"down_vote_count":4,"up_vote_count":2,"is_accepted":false,"score":-2,"last_activity_date":1646217556,"creation_date":1646217556,"answer_id":71321256,"question_id":71320879,"body_markdown":"I suggest you change the classes in order to have a relationship that logically already exists.\r\n```java\r\nclass Car {\r\n    \r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;color_uuid&quot;, referencedColumnName = &quot;uuid&quot;)\r\n    private Color color;\r\n}\r\n\r\nclass Color {\r\n    private String uuid;\r\n    private String name;\r\n\r\n    @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;color&quot;)\r\n    private List&lt;Car&gt; cars;\r\n}\r\n```\r\nThen you can build the left join using criteria:\r\n```java\r\nCriteriaQuery&lt;Car&gt; criteriaQuery = criteriaBuilder.createQuery(Car.class);\r\nRoot&lt;Car&gt; root = criteriaQuery.from(Car.class);\r\nroot.join(&quot;color&quot;, JoinType.LEFT);\r\nList&lt;Car&gt; cars = em.createQuery(criteriaQuery).getResultList();\r\n```","title":"Left outer join of unrelated entities with Criteria","body":"<p>I suggest you change the classes in order to have a relationship that logically already exists.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Car {\n    \n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;color_uuid&quot;, referencedColumnName = &quot;uuid&quot;)\n    private Color color;\n}\n\nclass Color {\n    private String uuid;\n    private String name;\n\n    @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;color&quot;)\n    private List&lt;Car&gt; cars;\n}\n</code></pre>\n<p>Then you can build the left join using criteria:</p>\n<pre class=\"lang-java prettyprint-override\"><code>CriteriaQuery&lt;Car&gt; criteriaQuery = criteriaBuilder.createQuery(Car.class);\nRoot&lt;Car&gt; root = criteriaQuery.from(Car.class);\nroot.join(&quot;color&quot;, JoinType.LEFT);\nList&lt;Car&gt; cars = em.createQuery(criteriaQuery).getResultList();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5279068,"reputation":895,"user_id":4215032,"display_name":"Pp88"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1659422431,"creation_date":1659381159,"answer_id":73198509,"question_id":71320879,"body_markdown":"You cant do this with criteria api without making the entities in relation, Ive faced the same problem as you. Also a cross join cant help. What I can suggest is: \r\n1) make a view with the left outer join on the database and then map the view as an entity\r\n2) make a jpql query\r\n3) make a native query\r\n","title":"Left outer join of unrelated entities with Criteria","body":"<p>You cant do this with criteria api without making the entities in relation, Ive faced the same problem as you. Also a cross join cant help. What I can suggest is:</p>\n<ol>\n<li>make a view with the left outer join on the database and then map the view as an entity</li>\n<li>make a jpql query</li>\n<li>make a native query</li>\n</ol>\n"}],"owner":{"account_id":410510,"reputation":2319,"user_id":782392,"accept_rate":67,"display_name":"T3rm1"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2031,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1659422431,"creation_date":1646215842,"question_id":71320879,"body_markdown":"Is it somehow possible to create a criteria query that performs an outer join on another entity if that entity is not mapped?\r\n\r\nI know that an *inner* join is possible when you do a cross join and add the join condition manually. It would look like this:\r\n\r\n```\r\nCriteriaBuilder cb = getCriteriaBuilder();\r\nCriteriaQuery&lt;Tuple&gt; cq = cb.createTupleQuery();\r\n\r\nRoot&lt;Car&gt; car = cq.from(Car.class);\r\nRoot&lt;Color&gt; color = cq.from(Ccolor.class);\r\n\r\ncq.where(cb.equal(car.get(&quot;colorUuid&quot;), color.get(&quot;uuid&quot;)));\r\n```\r\n\r\nHowever I need the behaviour of an **outer join** in my case.\r\n\r\nSo let&#39;s say I have these entities:\r\n\r\n```java\r\nclass Car {\r\n  @Column(name=&quot;color_uuid&quot;)\r\n  private String colorUuid;\r\n}\r\n\r\nclass Color {\r\n  private String uuid;\r\n  private String name;\r\n}\r\n```\r\n\r\nLets say Color is optional and that&#39;s why I need an outer join. The SQL would look like\r\n\r\n```sql\r\nSELECT * from car LEFT OUTER JOIN color ON car.color_uuid = color.uuid;\r\n```\r\n\r\nCan I do this with Criteria?","title":"Left outer join of unrelated entities with Criteria","body":"<p>Is it somehow possible to create a criteria query that performs an outer join on another entity if that entity is not mapped?</p>\n<p>I know that an <em>inner</em> join is possible when you do a cross join and add the join condition manually. It would look like this:</p>\n<pre><code>CriteriaBuilder cb = getCriteriaBuilder();\nCriteriaQuery&lt;Tuple&gt; cq = cb.createTupleQuery();\n\nRoot&lt;Car&gt; car = cq.from(Car.class);\nRoot&lt;Color&gt; color = cq.from(Ccolor.class);\n\ncq.where(cb.equal(car.get(&quot;colorUuid&quot;), color.get(&quot;uuid&quot;)));\n</code></pre>\n<p>However I need the behaviour of an <strong>outer join</strong> in my case.</p>\n<p>So let's say I have these entities:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Car {\n  @Column(name=&quot;color_uuid&quot;)\n  private String colorUuid;\n}\n\nclass Color {\n  private String uuid;\n  private String name;\n}\n</code></pre>\n<p>Lets say Color is optional and that's why I need an outer join. The SQL would look like</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT * from car LEFT OUTER JOIN color ON car.color_uuid = color.uuid;\n</code></pre>\n<p>Can I do this with Criteria?</p>\n"},{"tags":["java","gmail","jakarta-mail","google-oauth"],"comments":[{"owner":{"account_id":1491409,"reputation":6134,"user_id":1398418,"display_name":"Oleg"},"score":1,"creation_date":1502125300,"post_id":45550385,"comment_id":78063993,"body_markdown":"Did you try to regenerate the token?","body":"Did you try to regenerate the token?"},{"owner":{"account_id":1032936,"reputation":29659,"user_id":1040885,"display_name":"Bill Shannon"},"score":0,"creation_date":1502129138,"post_id":45550385,"comment_id":78066041,"body_markdown":"You&#39;re passing the access token, not the refresh token, to the JavaMail API as the password, right?  And you&#39;re not encoding the token in any way before passing it, right?  The token should be less than 80 characters and look something like &quot;ya29.3QEMCT...&quot;.  You might want to set the `mail.debug.auth` property to true so that you can see the details of the authentication exchange in the debug output, in case the server is providing more details of the error that are suppressed in the normal debug output.  Can you configure Thunderbird to use OAUTH2 with your account?","body":"You&#39;re passing the access token, not the refresh token, to the JavaMail API as the password, right?  And you&#39;re not encoding the token in any way before passing it, right?  The token should be less than 80 characters and look something like &quot;ya29.3QEMCT...&quot;.  You might want to set the <code>mail.debug.auth</code> property to true so that you can see the details of the authentication exchange in the debug output, in case the server is providing more details of the error that are suppressed in the normal debug output.  Can you configure Thunderbird to use OAUTH2 with your account?"},{"owner":{"account_id":2274293,"reputation":193,"user_id":2000974,"accept_rate":20,"display_name":"user2000974"},"score":0,"creation_date":1502160065,"post_id":45550385,"comment_id":78076596,"body_markdown":"Yes, tried using auth token as originally generated, and tried refreshing it. I do have mail.debug.auth enabled. Didn&#39;t see any more output from that.","body":"Yes, tried using auth token as originally generated, and tried refreshing it. I do have mail.debug.auth enabled. Didn&#39;t see any more output from that."},{"owner":{"account_id":2274293,"reputation":193,"user_id":2000974,"accept_rate":20,"display_name":"user2000974"},"score":0,"creation_date":1502160473,"post_id":45550385,"comment_id":78076665,"body_markdown":"Ah! My access token starts with &quot;ya29.GlugBAd...&quot; but is 132 char long, and it looks like different instances have slightly different lengths. I&#39;m using the String that comes out of the GoogleResponse directly with no other encoding: `String at=response.getAccessToken();`","body":"Ah! My access token starts with &quot;ya29.GlugBAd...&quot; but is 132 char long, and it looks like different instances have slightly different lengths. I&#39;m using the String that comes out of the GoogleResponse directly with no other encoding: <code>String at=response.getAccessToken();</code>"},{"owner":{"account_id":2274293,"reputation":193,"user_id":2000974,"accept_rate":20,"display_name":"user2000974"},"score":0,"creation_date":1502204068,"post_id":45550385,"comment_id":78102706,"body_markdown":"...but I also ran that token through the googleapis tokeninfo method, as noted above, and it parsed the token to report that the scope is for gmail.send, it expires in the future, and it is an &quot;offline&quot; token.","body":"...but I also ran that token through the googleapis tokeninfo method, as noted above, and it parsed the token to report that the scope is for gmail.send, it expires in the future, and it is an &quot;offline&quot; token."},{"owner":{"account_id":2274293,"reputation":193,"user_id":2000974,"accept_rate":20,"display_name":"user2000974"},"score":0,"creation_date":1502215460,"post_id":45550385,"comment_id":78109808,"body_markdown":"I also just ran a test using thunderbird, and it was able to send mail through my gmail account. I noticed that it&#39;s oauth authorization included more scopes than I did in my code. I only requested the GMAIL.SEND scope.","body":"I also just ran a test using thunderbird, and it was able to send mail through my gmail account. I noticed that it&#39;s oauth authorization included more scopes than I did in my code. I only requested the GMAIL.SEND scope."}],"answers":[{"tags":[],"owner":{"account_id":2274293,"reputation":193,"user_id":2000974,"accept_rate":20,"display_name":"user2000974"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1502250793,"creation_date":1502250793,"answer_id":45581415,"question_id":45550385,"body_markdown":"I tried playing with the requested scopes, and finally got it to work by requesting full access to the gmail account (scope = &quot;https://mail.google.com/&quot;). The limited [documentation of the scopes][1] suggests that the specific scope for sending mail SHOULD work, but apparently it doesn&#39;t. Requesting full access to the account works, but seems to defeat the purpose of having limited scopes.  It&#39;s starting to sound like the SMTP server just isn&#39;t respecting the limited scope.\r\n\r\n\r\n  [1]: https://developers.google.com/gmail/api/auth/scopes","title":"Javamail gmail and OAuth2","body":"<p>I tried playing with the requested scopes, and finally got it to work by requesting full access to the gmail account (scope = \"<a href=\"https://mail.google.com/\" rel=\"nofollow noreferrer\">https://mail.google.com/</a>\"). The limited <a href=\"https://developers.google.com/gmail/api/auth/scopes\" rel=\"nofollow noreferrer\">documentation of the scopes</a> suggests that the specific scope for sending mail SHOULD work, but apparently it doesn't. Requesting full access to the account works, but seems to defeat the purpose of having limited scopes.  It's starting to sound like the SMTP server just isn't respecting the limited scope.</p>\n"},{"tags":[],"owner":{"account_id":4975335,"reputation":286,"user_id":4001862,"display_name":"Kilian"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1502270199,"creation_date":1502270199,"answer_id":45586446,"question_id":45550385,"body_markdown":"This is an addition to the answer of user2000974. The documentation of Google about using OAuth to authenticate to an IMAP or SMTP server [Gmail &gt; IMAP &gt; OAuth 2.0 Mechanism][1] clearly states the following\r\n\r\n&gt; This document defines the SASL XOAUTH2 mechanism for use with the IMAP AUTHENTICATE and SMTP AUTH commands. This mechanism allows the use of OAuth 2.0 Access Tokens to authenticate to a user&#39;s Gmail account.\r\n\r\n&gt; **The scope for IMAP and SMTP access is https://mail.google.com/.**\r\n\r\nI hope this will direct people that stumble upon this question in the future to the right documentation page.\r\n\r\n\r\n  [1]: https://developers.google.com/gmail/imap/xoauth2-protocol","title":"Javamail gmail and OAuth2","body":"<p>This is an addition to the answer of user2000974. The documentation of Google about using OAuth to authenticate to an IMAP or SMTP server <a href=\"https://developers.google.com/gmail/imap/xoauth2-protocol\" rel=\"noreferrer\">Gmail > IMAP > OAuth 2.0 Mechanism</a> clearly states the following</p>\n\n<blockquote>\n  <p>This document defines the SASL XOAUTH2 mechanism for use with the IMAP AUTHENTICATE and SMTP AUTH commands. This mechanism allows the use of OAuth 2.0 Access Tokens to authenticate to a user's Gmail account.</p>\n  \n  <p><strong>The scope for IMAP and SMTP access is <a href=\"https://mail.google.com/\" rel=\"noreferrer\">https://mail.google.com/</a>.</strong></p>\n</blockquote>\n\n<p>I hope this will direct people that stumble upon this question in the future to the right documentation page.</p>\n"},{"tags":[],"owner":{"account_id":5465081,"reputation":400,"user_id":4346115,"display_name":"Rigoberto Pe&#241;a"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659421762,"creation_date":1659421762,"answer_id":73202894,"question_id":45550385,"body_markdown":"Something important, beware from Gmail API and Gmail IMAP, because they&#39;re not the same when this problem occurs. Gmail API allows multiple and granular scopes to specific task, but when using Gmail IMAP it will require always the full scope.","title":"Javamail gmail and OAuth2","body":"<p>Something important, beware from Gmail API and Gmail IMAP, because they're not the same when this problem occurs. Gmail API allows multiple and granular scopes to specific task, but when using Gmail IMAP it will require always the full scope.</p>\n"}],"owner":{"account_id":2274293,"reputation":193,"user_id":2000974,"accept_rate":20,"display_name":"user2000974"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16294,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":45586446,"answer_count":3,"score":8,"last_activity_date":1659421762,"creation_date":1502119036,"question_id":45550385,"body_markdown":"I&#39;m trying to use the latest javamail 1.6.0 api in a web app (java 1.8/tomcat8) to send email on behalf of client users of the app. Some clients use gmail.\r\nI don&#39;t want to ask them to enable access to insecure apps in their google accounts as suggested by the [javamail FAQ][1], and I&#39;m willing to implement oauth2 if that&#39;s what it takes.\r\n\r\nTo do that, I did the following on [google developer console][2]:\r\n\r\n - created an app \r\n - created oauth2 credentials for the app (clientid,\r\n   clientsecret) \r\n - granted the app access to gmail api\r\n\r\nThen, I implemented the oauth2 flow in my app using the [google oauth client][3]\r\n\r\nThe authorization redirect is constructed:\r\n\r\n    String url = \r\n\t\t\tnew GoogleAuthorizationCodeRequestUrl(clientId, \r\n\t\t\t\tredirectUrl, \r\n\t\t\t\tCollections.singleton(GmailScopes.GMAIL_SEND)\r\n\t\t\t\t).setAccessType(&quot;offline&quot;).build();\r\n\r\nThat successfully redirects to the google site where I can authenticate and authorize my app to send mail on my behalf.  It successfully redirects back to my app after I authorize, and the app processes the authorization code:\r\n\r\n    GoogleTokenResponse response =\r\n\t\t\t\t\tnew GoogleAuthorizationCodeTokenRequest(\r\n\t\t\t\t\t\t\tnew NetHttpTransport(), \r\n\t\t\t\t\t\t\tnew JacksonFactory(),\r\n\t\t\t              clientId, \r\n\t\t\t              clientSecret,\r\n\t\t\t              code, \r\n\t\t\t              redirectUrl)\r\n\t\t\t\t\t.execute();\r\n\r\n(where code is the returned authorization code)\r\nThis seems to work, and returns an access token and refresh token.\r\n(I can also go back to my google account settings and see that I have authorized the app to send email.\r\n\r\nSo now I want to try to use the access token to send mail through the javamail api using my gmail username (the one I logged in as to authorize the app), the access token, and the following settings:\r\n\r\n    host = &quot;smtp.gmail.com&quot;;\r\n    port = 587;\r\n    props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n    props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n    props.put(&quot;mail.smtp.auth.mechanisms&quot;, &quot;XOAUTH2&quot;);\r\n\r\nThe javamail code works fine for other smtp servers.\r\nI also turned on debug to trace the smtp flow\r\n\r\n    DEBUG: JavaMail version 1.6.0\r\n    DEBUG: successfully loaded resource: /META-INF/javamail.default.providers\r\n    DEBUG: Tables of loaded providers\r\n    DEBUG: Providers Listed By Class Name: {com.sun.mail.smtp.SMTPSSLTransport=javax.mail.Provider[TRANSPORT,smtps,com.sun.mail.smtp.SMTPSSLTransport,Oracle], com.sun.mail.smtp.SMTPTransport=javax.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Oracle], com.sun.mail.imap.IMAPSSLStore=javax.mail.Provider[STORE,imaps,com.sun.mail.imap.IMAPSSLStore,Oracle], com.sun.mail.pop3.POP3SSLStore=javax.mail.Provider[STORE,pop3s,com.sun.mail.pop3.POP3SSLStore,Oracle], com.sun.mail.imap.IMAPStore=javax.mail.Provider[STORE,imap,com.sun.mail.imap.IMAPStore,Oracle], com.sun.mail.pop3.POP3Store=javax.mail.Provider[STORE,pop3,com.sun.mail.pop3.POP3Store,Oracle]}\r\n    DEBUG: Providers Listed By Protocol: {imaps=javax.mail.Provider[STORE,imaps,com.sun.mail.imap.IMAPSSLStore,Oracle], imap=javax.mail.Provider[STORE,imap,com.sun.mail.imap.IMAPStore,Oracle], smtps=javax.mail.Provider[TRANSPORT,smtps,com.sun.mail.smtp.SMTPSSLTransport,Oracle], pop3=javax.mail.Provider[STORE,pop3,com.sun.mail.pop3.POP3Store,Oracle], pop3s=javax.mail.Provider[STORE,pop3s,com.sun.mail.pop3.POP3SSLStore,Oracle], smtp=javax.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Oracle]}\r\n    DEBUG: successfully loaded resource: /META-INF/javamail.default.address.map\r\n    DEBUG: getProvider() returning javax.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Oracle]\r\n    DEBUG SMTP: useEhlo true, useAuth true\r\n    DEBUG SMTP: trying to connect to host &quot;smtp.gmail.com&quot;, port 587, isSSL false\r\n    220 smtp.gmail.com ESMTP c7sm3632131pfg.29 - gsmtp\r\n    DEBUG SMTP: connected to host &quot;smtp.gmail.com&quot;, port: 587\r\n    \r\n    EHLO 10.0.0.5\r\n    250-smtp.gmail.com at your service, [216.165.225.194]\r\n    250-SIZE 35882577\r\n    250-8BITMIME\r\n    250-STARTTLS\r\n    250-ENHANCEDSTATUSCODES\r\n    250-PIPELINING\r\n    250-CHUNKING\r\n    250 SMTPUTF8\r\n    DEBUG SMTP: Found extension &quot;SIZE&quot;, arg &quot;35882577&quot;\r\n    DEBUG SMTP: Found extension &quot;8BITMIME&quot;, arg &quot;&quot;\r\n    DEBUG SMTP: Found extension &quot;STARTTLS&quot;, arg &quot;&quot;\r\n    DEBUG SMTP: Found extension &quot;ENHANCEDSTATUSCODES&quot;, arg &quot;&quot;\r\n    DEBUG SMTP: Found extension &quot;PIPELINING&quot;, arg &quot;&quot;\r\n    DEBUG SMTP: Found extension &quot;CHUNKING&quot;, arg &quot;&quot;\r\n    DEBUG SMTP: Found extension &quot;SMTPUTF8&quot;, arg &quot;&quot;\r\n    STARTTLS\r\n    220 2.0.0 Ready to start TLS\r\n    EHLO 10.0.0.5\r\n    250-smtp.gmail.com at your service, [216.165.225.194]\r\n    250-SIZE 35882577\r\n    250-8BITMIME\r\n    250-AUTH LOGIN PLAIN XOAUTH2 PLAIN-CLIENTTOKEN OAUTHBEARER XOAUTH\r\n    250-ENHANCEDSTATUSCODES\r\n    250-PIPELINING\r\n    250-CHUNKING\r\n    250 SMTPUTF8\r\n    DEBUG SMTP: Found extension &quot;SIZE&quot;, arg &quot;35882577&quot;\r\n    DEBUG SMTP: Found extension &quot;8BITMIME&quot;, arg &quot;&quot;\r\n    DEBUG SMTP: Found extension &quot;AUTH&quot;, arg &quot;LOGIN PLAIN XOAUTH2 PLAIN-CLIENTTOKEN OAUTHBEARER XOAUTH&quot;\r\n    DEBUG SMTP: Found extension &quot;ENHANCEDSTATUSCODES&quot;, arg &quot;&quot;\r\n    DEBUG SMTP: Found extension &quot;PIPELINING&quot;, arg &quot;&quot;\r\n    DEBUG SMTP: Found extension &quot;CHUNKING&quot;, arg &quot;&quot;\r\n    DEBUG SMTP: Found extension &quot;SMTPUTF8&quot;, arg &quot;&quot;\r\n    DEBUG SMTP: protocolConnect login, host=smtp.gmail.com, user=&lt;myemail@gmail.com&gt;, password=&lt;non-null&gt;\r\n    DEBUG SMTP: Attempt to authenticate using mechanisms: XOAUTH2\r\n    DEBUG SMTP: Using mechanism XOAUTH2\r\n    DEBUG SMTP: AUTH XOAUTH2 command trace suppressed\r\n    DEBUG SMTP: AUTH XOAUTH2 failed, THROW: \r\n   \r\n\r\n     javax.mail.AuthenticationFailedException: OAUTH2 asked for more\r\n    ...\r\n    DEBUG SMTP: AUTH XOAUTH2 failed\r\n    ERROR 2017-08-06 18:39:57,443  - send: 334 eyJzdGF0dXMiOiI0MDAiLCJzY2hlbWVzIjoiQmVhcmVyIiwic2NvcGUiOiJodHRwczovL21haWwuZ29vZ2xlLmNvbS8ifQ==\r\n\r\ndecoding that last line I see that the error is a 400 status, that I interpret to mean that the token is not valid.\r\n\r\nI also verified that the token is good using the google rest api:\r\n\r\n    https://www.googleapis.com/oauth2/v1/tokeninfo?access_token=&lt;token&gt;\r\n\r\nI also tried using port 465 with ssl enabled, but got the same error.\r\n \r\nwhat am I doing wrong here?\r\n\r\n\r\n\r\n  [1]: https://javaee.github.io/javamail/FAQ#gmail\r\n  [2]: https://console.developers.google.com\r\n  [3]: https://developers.google.com/api-client-library/java/apis/oauth2/v1","title":"Javamail gmail and OAuth2","body":"<p>I'm trying to use the latest javamail 1.6.0 api in a web app (java 1.8/tomcat8) to send email on behalf of client users of the app. Some clients use gmail.\nI don't want to ask them to enable access to insecure apps in their google accounts as suggested by the <a href=\"https://javaee.github.io/javamail/FAQ#gmail\" rel=\"noreferrer\">javamail FAQ</a>, and I'm willing to implement oauth2 if that's what it takes.</p>\n\n<p>To do that, I did the following on <a href=\"https://console.developers.google.com\" rel=\"noreferrer\">google developer console</a>:</p>\n\n<ul>\n<li>created an app </li>\n<li>created oauth2 credentials for the app (clientid,\nclientsecret) </li>\n<li>granted the app access to gmail api</li>\n</ul>\n\n<p>Then, I implemented the oauth2 flow in my app using the <a href=\"https://developers.google.com/api-client-library/java/apis/oauth2/v1\" rel=\"noreferrer\">google oauth client</a></p>\n\n<p>The authorization redirect is constructed:</p>\n\n<pre><code>String url = \n        new GoogleAuthorizationCodeRequestUrl(clientId, \n            redirectUrl, \n            Collections.singleton(GmailScopes.GMAIL_SEND)\n            ).setAccessType(\"offline\").build();\n</code></pre>\n\n<p>That successfully redirects to the google site where I can authenticate and authorize my app to send mail on my behalf.  It successfully redirects back to my app after I authorize, and the app processes the authorization code:</p>\n\n<pre><code>GoogleTokenResponse response =\n                new GoogleAuthorizationCodeTokenRequest(\n                        new NetHttpTransport(), \n                        new JacksonFactory(),\n                      clientId, \n                      clientSecret,\n                      code, \n                      redirectUrl)\n                .execute();\n</code></pre>\n\n<p>(where code is the returned authorization code)\nThis seems to work, and returns an access token and refresh token.\n(I can also go back to my google account settings and see that I have authorized the app to send email.</p>\n\n<p>So now I want to try to use the access token to send mail through the javamail api using my gmail username (the one I logged in as to authorize the app), the access token, and the following settings:</p>\n\n<pre><code>host = \"smtp.gmail.com\";\nport = 587;\nprops.put(\"mail.smtp.auth\", \"true\");\nprops.put(\"mail.smtp.starttls.enable\", \"true\");\nprops.put(\"mail.smtp.auth.mechanisms\", \"XOAUTH2\");\n</code></pre>\n\n<p>The javamail code works fine for other smtp servers.\nI also turned on debug to trace the smtp flow</p>\n\n<pre><code>DEBUG: JavaMail version 1.6.0\nDEBUG: successfully loaded resource: /META-INF/javamail.default.providers\nDEBUG: Tables of loaded providers\nDEBUG: Providers Listed By Class Name: {com.sun.mail.smtp.SMTPSSLTransport=javax.mail.Provider[TRANSPORT,smtps,com.sun.mail.smtp.SMTPSSLTransport,Oracle], com.sun.mail.smtp.SMTPTransport=javax.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Oracle], com.sun.mail.imap.IMAPSSLStore=javax.mail.Provider[STORE,imaps,com.sun.mail.imap.IMAPSSLStore,Oracle], com.sun.mail.pop3.POP3SSLStore=javax.mail.Provider[STORE,pop3s,com.sun.mail.pop3.POP3SSLStore,Oracle], com.sun.mail.imap.IMAPStore=javax.mail.Provider[STORE,imap,com.sun.mail.imap.IMAPStore,Oracle], com.sun.mail.pop3.POP3Store=javax.mail.Provider[STORE,pop3,com.sun.mail.pop3.POP3Store,Oracle]}\nDEBUG: Providers Listed By Protocol: {imaps=javax.mail.Provider[STORE,imaps,com.sun.mail.imap.IMAPSSLStore,Oracle], imap=javax.mail.Provider[STORE,imap,com.sun.mail.imap.IMAPStore,Oracle], smtps=javax.mail.Provider[TRANSPORT,smtps,com.sun.mail.smtp.SMTPSSLTransport,Oracle], pop3=javax.mail.Provider[STORE,pop3,com.sun.mail.pop3.POP3Store,Oracle], pop3s=javax.mail.Provider[STORE,pop3s,com.sun.mail.pop3.POP3SSLStore,Oracle], smtp=javax.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Oracle]}\nDEBUG: successfully loaded resource: /META-INF/javamail.default.address.map\nDEBUG: getProvider() returning javax.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Oracle]\nDEBUG SMTP: useEhlo true, useAuth true\nDEBUG SMTP: trying to connect to host \"smtp.gmail.com\", port 587, isSSL false\n220 smtp.gmail.com ESMTP c7sm3632131pfg.29 - gsmtp\nDEBUG SMTP: connected to host \"smtp.gmail.com\", port: 587\n\nEHLO 10.0.0.5\n250-smtp.gmail.com at your service, [216.165.225.194]\n250-SIZE 35882577\n250-8BITMIME\n250-STARTTLS\n250-ENHANCEDSTATUSCODES\n250-PIPELINING\n250-CHUNKING\n250 SMTPUTF8\nDEBUG SMTP: Found extension \"SIZE\", arg \"35882577\"\nDEBUG SMTP: Found extension \"8BITMIME\", arg \"\"\nDEBUG SMTP: Found extension \"STARTTLS\", arg \"\"\nDEBUG SMTP: Found extension \"ENHANCEDSTATUSCODES\", arg \"\"\nDEBUG SMTP: Found extension \"PIPELINING\", arg \"\"\nDEBUG SMTP: Found extension \"CHUNKING\", arg \"\"\nDEBUG SMTP: Found extension \"SMTPUTF8\", arg \"\"\nSTARTTLS\n220 2.0.0 Ready to start TLS\nEHLO 10.0.0.5\n250-smtp.gmail.com at your service, [216.165.225.194]\n250-SIZE 35882577\n250-8BITMIME\n250-AUTH LOGIN PLAIN XOAUTH2 PLAIN-CLIENTTOKEN OAUTHBEARER XOAUTH\n250-ENHANCEDSTATUSCODES\n250-PIPELINING\n250-CHUNKING\n250 SMTPUTF8\nDEBUG SMTP: Found extension \"SIZE\", arg \"35882577\"\nDEBUG SMTP: Found extension \"8BITMIME\", arg \"\"\nDEBUG SMTP: Found extension \"AUTH\", arg \"LOGIN PLAIN XOAUTH2 PLAIN-CLIENTTOKEN OAUTHBEARER XOAUTH\"\nDEBUG SMTP: Found extension \"ENHANCEDSTATUSCODES\", arg \"\"\nDEBUG SMTP: Found extension \"PIPELINING\", arg \"\"\nDEBUG SMTP: Found extension \"CHUNKING\", arg \"\"\nDEBUG SMTP: Found extension \"SMTPUTF8\", arg \"\"\nDEBUG SMTP: protocolConnect login, host=smtp.gmail.com, user=&lt;myemail@gmail.com&gt;, password=&lt;non-null&gt;\nDEBUG SMTP: Attempt to authenticate using mechanisms: XOAUTH2\nDEBUG SMTP: Using mechanism XOAUTH2\nDEBUG SMTP: AUTH XOAUTH2 command trace suppressed\nDEBUG SMTP: AUTH XOAUTH2 failed, THROW: \n\n\n javax.mail.AuthenticationFailedException: OAUTH2 asked for more\n...\nDEBUG SMTP: AUTH XOAUTH2 failed\nERROR 2017-08-06 18:39:57,443  - send: 334 eyJzdGF0dXMiOiI0MDAiLCJzY2hlbWVzIjoiQmVhcmVyIiwic2NvcGUiOiJodHRwczovL21haWwuZ29vZ2xlLmNvbS8ifQ==\n</code></pre>\n\n<p>decoding that last line I see that the error is a 400 status, that I interpret to mean that the token is not valid.</p>\n\n<p>I also verified that the token is good using the google rest api:</p>\n\n<pre><code>https://www.googleapis.com/oauth2/v1/tokeninfo?access_token=&lt;token&gt;\n</code></pre>\n\n<p>I also tried using port 465 with ssl enabled, but got the same error.</p>\n\n<p>what am I doing wrong here?</p>\n"},{"tags":["java","generics","monads","type-systems","higher-order-types"],"comments":[{"owner":{"account_id":1416522,"reputation":91354,"user_id":3553087,"display_name":"Brian Goetz"},"score":0,"creation_date":1457801837,"post_id":35951818,"comment_id":59576306,"body_markdown":"Higher *kinded* types.","body":"Higher <i>kinded</i> types."},{"owner":{"account_id":32093,"reputation":650733,"user_id":88656,"display_name":"Eric Lippert"},"score":0,"creation_date":1457803048,"post_id":35951818,"comment_id":59576719,"body_markdown":"@BrianGoetz: Good morning Brian, thanks for commenting. Do feel free to correct any errors I&#39;ve made about Java generics and whatnot!","body":"@BrianGoetz: Good morning Brian, thanks for commenting. Do feel free to correct any errors I&#39;ve made about Java generics and whatnot!"}],"answers":[{"tags":[],"owner":{"account_id":61473,"reputation":14696,"user_id":183203,"accept_rate":75,"display_name":"antlersoft"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1457743014,"creation_date":1457741681,"answer_id":35952121,"question_id":35951818,"body_markdown":"If you look at what the [AspectJ][1] project is doing, it is similar to applying monads to Java.  The way they do it is to post-process the byte code of the classes to add the additional functionality-- and the reason they have to do that is because there is no way *within the language without the AspectJ extensions* to do what they need to do; the language is not expressive enough.\r\n\r\nA concrete example: say you start with class A.  You have a monad M such that M(A) is a class that works just like A, but all method entrances and exits get traced to log4j.  AspectJ can do this, but there is no facility within the Java language itself that would let you.\r\n\r\n[This paper describes how Aspect-Oriented Programming as in AspectJ might be formalized as monads][2]\r\n\r\nIn particular, there is no way within the Java language to specify a type programmatically (short of byte-code manipulation *a la* AspectJ).  All types are pre-defined when the program starts.\r\n\r\n\r\n  [1]: https://eclipse.org/aspectj/\r\n  [2]: http://citeseerx.ist.psu.edu/viewdoc/summary?doi=10.1.1.25.8262","title":"Why can the Monad interface not be declared in Java?","body":"<p>If you look at what the <a href=\"https://eclipse.org/aspectj/\" rel=\"nofollow\">AspectJ</a> project is doing, it is similar to applying monads to Java.  The way they do it is to post-process the byte code of the classes to add the additional functionality-- and the reason they have to do that is because there is no way <em>within the language without the AspectJ extensions</em> to do what they need to do; the language is not expressive enough.</p>\n\n<p>A concrete example: say you start with class A.  You have a monad M such that M(A) is a class that works just like A, but all method entrances and exits get traced to log4j.  AspectJ can do this, but there is no facility within the Java language itself that would let you.</p>\n\n<p><a href=\"http://citeseerx.ist.psu.edu/viewdoc/summary?doi=10.1.1.25.8262\" rel=\"nofollow\">This paper describes how Aspect-Oriented Programming as in AspectJ might be formalized as monads</a></p>\n\n<p>In particular, there is no way within the Java language to specify a type programmatically (short of byte-code manipulation <em>a la</em> AspectJ).  All types are pre-defined when the program starts.</p>\n"},{"tags":[],"owner":{"account_id":32093,"reputation":650733,"user_id":88656,"display_name":"Eric Lippert"},"down_vote_count":0,"up_vote_count":44,"is_accepted":true,"score":44,"last_activity_date":1472592254,"creation_date":1457798277,"answer_id":35959910,"question_id":35951818,"body_markdown":"&gt; What is the feature that is missing in the Java type system?  How do these other languages declare the Monad type?\r\n\r\nGood question!\r\n\r\n&gt; Eric Lippert refers to this as higher types, but I can&#39;t get my head around them.\r\n\r\nYou are not alone. But they are actually not as crazy as they sound.\r\n\r\nLet&#39;s answer both of your questions by looking at how Haskell declares the monad &quot;type&quot; -- you&#39;ll see why the quotes in a minute. I have simplified it somewhat; the standard monad pattern also has a couple other operations in Haskell:\r\n  \r\n    class Monad m where\r\n      (&gt;&gt;=) :: m a -&gt; (a -&gt; m b) -&gt; m b\r\n      return :: a -&gt; m a\r\n\r\nBoy, that looks both incredibly simple and completely opaque at the same time, doesn&#39;t it?\r\n\r\nHere, let me simplify that a bit more. Haskell lets you declare your own infix operator for bind, but we&#39;ll just call it bind:\r\n\r\n    class Monad m where\r\n      bind :: m a -&gt; (a -&gt; m b) -&gt; m b\r\n      return :: a -&gt; m a\r\n\r\nAll right, now at least we can see that there are the two monad operations in there. What does the rest of this mean?\r\n\r\nThe first thing to get your head around, as you note, is &quot;higher kinded types&quot;. (As Brian points out, I somewhat simplified this jargon in my original answer. Also quite amusing that your question attracted the attention of Brian!)  \r\n\r\nIn Java, a &quot;class&quot; is a *kind* of &quot;type&quot;, and a class may be generic. So in Java we&#39;ve got `int` and `IFrob` and `List&lt;IBar&gt;` and they&#39;re all types. \r\n\r\nFrom this point on throw away any intuition you have about Giraffe being a class that is a subclass of Animal, and so on; we won&#39;t need that. Think about a world with no inheritance; it will not come into this discussion again.\r\n\r\nWhat are classes in Java?  Well, the easiest way to think of a class is that it is a *name* for a *set of values that have something in common*, such that any one of those values can be used when an instance of the class is required. You have a class `Point`, lets say, and if you have a variable of type `Point`, you can assign any instance of `Point` to it.  The `Point` class is in some sense just a way to describe *the set of all `Point` instances*. Classes are a thing that is *higher than instances*.\r\n\r\nIn Haskell there are also generic and non-generic types. A class in Haskell is **not** a kind of type. In Java, a class describes a set of *values*; any time you need an instance of the class, you can use a value of that type. In Haskell a class describes a set of *types*. That is the key feature that the Java type system is missing. In Haskell *a class is higher than a type, which is higher than an instance.* Java only has two levels of hierarchy; Haskell has three. In Haskell you can express the idea &quot;any time I need a type that has certain operations, I can use a member of this class&quot;.\r\n\r\n(ASIDE: I want to point out here that I am making a bit of an oversimplification . Consider in Java for example `List&lt;int&gt;` and `List&lt;String&gt;`. These are two &quot;types&quot;, but Java considers them to be one &quot;class&quot;, so in a sense Java also has classes which are &quot;higher&quot; than types. But then again, you could say the same in Haskell, that `list x` and `list y` are types, and that `list` is a thing that is higher than a type; it&#39;s a thing that can produce a type. So it would in fact be more accurate to say that Java has *three* levels, and Haskell has *four*. The point remains though: Haskell has a concept of describing the operations available on a type that is simply more powerful than Java has. We&#39;ll look at this in more detail below.) \r\n\r\nSo how is this different than interfaces?  This sounds like interfaces in Java -- you need a type that has certain operations, you define an interface that describes those operations.  We&#39;ll see what is missing from Java interfaces.\r\n\r\nNow we can start making sense of this Haskell:\r\n\r\n    class Monad m where\r\n\r\nSo, what is `Monad`? It&#39;s a class. What is a class? It&#39;s a set of types that have something in common, such that whenever you need a type that has certain operations, you can use a `Monad` type.  \r\n\r\nSuppose we have a type that is a member of this class; call it `m`.  What are the operations that must be on this type in order for that type to be a member of the class `Monad`?\r\n\r\n      bind :: m a -&gt; (a -&gt; m b) -&gt; m b\r\n      return :: a -&gt; m a\r\n\r\nThe name of the operation comes to the left of the `::`, and the signature comes to the right.  So to be a `Monad`, a type `m` must have two operations: `bind` and `return`. What are the signatures of those operations?  Let&#39;s look at `return` first.\r\n\r\n      a -&gt; m a\r\n\r\n`m a` is Haskell for what in Java would be `M&lt;A&gt;`.  That is, this means `m` is a generic type, `a` is a type, `m a` is `m` parametrized with `a`.\r\n\r\n`x -&gt; y` in Haskell is the syntax for &quot;a function which takes type `x` and returns type `y`&quot;. It&#39;s `Function&lt;X, Y&gt;`.\r\n\r\nPut it together, and we have `return` is a function that takes an argument of type `a` and returns a value of type `m a`. Or in Java\r\n\r\n    static &lt;A&gt;  M&lt;A&gt; Return(A a);\r\n\r\n`bind` is a little bit harder. I think the OP well understands this signature, but for readers who are unfamiliar with the terse Haskell syntax, let me expand on this a bit.\r\n\r\nIn Haskell, functions only take one argument. If you want a function of two arguments, you make a function that takes one argument and returns *another function of one argument*.  So if you have\r\n\r\n    a -&gt; b -&gt; c\r\n\r\nThen what have you got? A function that takes an `a` and returns a `b -&gt; c`.  So suppose you wanted to make a function that took two numbers and returned their sum.  You would make a function that takes the first number, and returns a function that takes a second number and adds it to the first number. \r\n\r\nIn Java you&#39;d say\r\n\r\n    static &lt;A, B, C&gt;  Function&lt;B, C&gt; F(A a)\r\n\r\nSo if you wanted a C and you had and A and a B, you could say\r\n\r\n    F(a)(b)\r\n\r\nMake sense?\r\n\r\nAll right, so \r\n\r\n      bind :: m a -&gt; (a -&gt; m b) -&gt; m b\r\n  \r\nis effectively a function that takes two things: an `m a`, and a `a -&gt; m b` and it returns an `m b`. Or, in Java, it is directly:\r\n\r\n    static &lt;A, B&gt; Function&lt;Function&lt;A, M&lt;B&gt;&gt;, M&lt;B&gt;&gt; Bind(M&lt;A&gt;)\r\n\r\nOr, more idiomatically in Java:\r\n\r\n    static &lt;A, B&gt; M&lt;B&gt; Bind(M&lt;A&gt;, Function&lt;A, M&lt;B&gt;&gt;) \r\n\r\nSo now you see why Java cannot represent the monad type directly. It does not have the ability to say &quot;I have a class of types that have this pattern in common&quot;.\r\n\r\nNow, you can make all the monadic types you want in Java.  The thing you can&#39;t do is make an interface that represents the idea &quot;this type is a monad type&quot;. What you would need to do is something like:\r\n\r\n    typeinterface Monad&lt;M&gt;\r\n    {\r\n      static &lt;A&gt;    M&lt;A&gt; Return(A a);\r\n      static &lt;A, B&gt; M&lt;B&gt; Bind(M&lt;A&gt; m, Function&lt;A, M&lt;B&gt;&gt; f);\r\n    }\r\n\r\nSee how the type interface talks about the generic type itself? A monadic type is any type `M` that is generic with one type parameter *and* has these two **static** methods. But you can&#39;t do that in the Java or C# type systems. `Bind` of course could be an instance method that takes an `M&lt;A&gt;` as `this`. But there is no way to make `Return` anything but static. Java gives you no ability to (1) parameterize an interface by an *unconstructed* generic type, and (2) no ability to specify that static members are part of the interface contract. \r\n  \r\n&gt; Since there are languages which work with monads, these languages have to somehow declare the Monad type.\r\n\r\nWell you&#39;d think so but actually not. First off, of course any language with a sufficient type system can define monadic types; you can define all the monadic types you want in C# or Java, you just can&#39;t say what they all have in common in the type system. You can&#39;t make a generic class that can only be parameterized by monadic types, for instance.\r\n\r\nSecond, you can embed the monad pattern in the language in other ways.  C# has no way to say &quot;this type matches the monad pattern&quot;, but C# has query comprehensions (LINQ) built into the language. Query comprehensions work on any monadic type!  It&#39;s just that the bind operation has to be called `SelectMany`, which is a little weird. But if you look at the signature of `SelectMany`, you&#39;ll see that it is just `bind`:\r\n\r\n      static IEnumerable&lt;R&gt; SelectMany&lt;S, R&gt;(\r\n        IEnumerable&lt;S&gt; source,\r\n        Func&lt;S,IEnumerable&lt;R&gt;&gt; selector)\r\n\r\nThat&#39;s the implementation of `SelectMany` for the sequence monad, `IEnumerable&lt;T&gt;`, but in C# if you write\r\n\r\n    from x in a from y in b select z\r\n\r\nthen `a`&#39;s type can be of **any** monadic type, not just `IEnumerable&lt;T&gt;`. What is required is that `a` is `M&lt;A&gt;`, that `b` is `M&lt;B&gt;`, and that there is a suitable  `SelectMany` that follows the monad pattern. So that&#39;s another way of embedding a &quot;monad recognizer&quot; in the language, without representing it directly in the type system.\r\n\r\n(The previous paragraph is actually a lie of oversimplification; the binding pattern used by this query is slightly different than the standard monadic bind for performance reasons. *Conceptually* this recognizes the monad pattern; in actuality the details differ slightly. Read about them here http://ericlippert.com/2013/04/02/monads-part-twelve/ if you&#39;re interested.)\r\n\r\nA few more small points:\r\n\r\n&gt; I was not able to find a commonly used name for the third operation, so I will just call it the unbox function.\r\n\r\nGood choice; it is usually called the &quot;extract&quot; operation. A *monad* need not have an extract operation exposed, but of course somehow `bind` needs to be able to get the `A` out of the `M&lt;A&gt;` in order to call the `Function&lt;A, M&lt;B&gt;&gt;` on it, so logically some sort of extraction operation usually exists. \r\n\r\nA *comonad* -- a backwards monad, in a sense -- requires an `extract` operation to be exposed; `extract` is essentially `return` backwards. A comonad as well requires an `extend` operation that is sort of `bind` turned backwards. It has the signature `static M&lt;B&gt; Extend(M&lt;A&gt; m, Func&lt;M&lt;A&gt;, B&gt; f)`\r\n\r\n","title":"Why can the Monad interface not be declared in Java?","body":"<blockquote>\n  <p>What is the feature that is missing in the Java type system?  How do these other languages declare the Monad type?</p>\n</blockquote>\n\n<p>Good question!</p>\n\n<blockquote>\n  <p>Eric Lippert refers to this as higher types, but I can't get my head around them.</p>\n</blockquote>\n\n<p>You are not alone. But they are actually not as crazy as they sound.</p>\n\n<p>Let's answer both of your questions by looking at how Haskell declares the monad \"type\" -- you'll see why the quotes in a minute. I have simplified it somewhat; the standard monad pattern also has a couple other operations in Haskell:</p>\n\n<pre><code>class Monad m where\n  (&gt;&gt;=) :: m a -&gt; (a -&gt; m b) -&gt; m b\n  return :: a -&gt; m a\n</code></pre>\n\n<p>Boy, that looks both incredibly simple and completely opaque at the same time, doesn't it?</p>\n\n<p>Here, let me simplify that a bit more. Haskell lets you declare your own infix operator for bind, but we'll just call it bind:</p>\n\n<pre><code>class Monad m where\n  bind :: m a -&gt; (a -&gt; m b) -&gt; m b\n  return :: a -&gt; m a\n</code></pre>\n\n<p>All right, now at least we can see that there are the two monad operations in there. What does the rest of this mean?</p>\n\n<p>The first thing to get your head around, as you note, is \"higher kinded types\". (As Brian points out, I somewhat simplified this jargon in my original answer. Also quite amusing that your question attracted the attention of Brian!)  </p>\n\n<p>In Java, a \"class\" is a <em>kind</em> of \"type\", and a class may be generic. So in Java we've got <code>int</code> and <code>IFrob</code> and <code>List&lt;IBar&gt;</code> and they're all types. </p>\n\n<p>From this point on throw away any intuition you have about Giraffe being a class that is a subclass of Animal, and so on; we won't need that. Think about a world with no inheritance; it will not come into this discussion again.</p>\n\n<p>What are classes in Java?  Well, the easiest way to think of a class is that it is a <em>name</em> for a <em>set of values that have something in common</em>, such that any one of those values can be used when an instance of the class is required. You have a class <code>Point</code>, lets say, and if you have a variable of type <code>Point</code>, you can assign any instance of <code>Point</code> to it.  The <code>Point</code> class is in some sense just a way to describe <em>the set of all <code>Point</code> instances</em>. Classes are a thing that is <em>higher than instances</em>.</p>\n\n<p>In Haskell there are also generic and non-generic types. A class in Haskell is <strong>not</strong> a kind of type. In Java, a class describes a set of <em>values</em>; any time you need an instance of the class, you can use a value of that type. In Haskell a class describes a set of <em>types</em>. That is the key feature that the Java type system is missing. In Haskell <em>a class is higher than a type, which is higher than an instance.</em> Java only has two levels of hierarchy; Haskell has three. In Haskell you can express the idea \"any time I need a type that has certain operations, I can use a member of this class\".</p>\n\n<p>(ASIDE: I want to point out here that I am making a bit of an oversimplification . Consider in Java for example <code>List&lt;int&gt;</code> and <code>List&lt;String&gt;</code>. These are two \"types\", but Java considers them to be one \"class\", so in a sense Java also has classes which are \"higher\" than types. But then again, you could say the same in Haskell, that <code>list x</code> and <code>list y</code> are types, and that <code>list</code> is a thing that is higher than a type; it's a thing that can produce a type. So it would in fact be more accurate to say that Java has <em>three</em> levels, and Haskell has <em>four</em>. The point remains though: Haskell has a concept of describing the operations available on a type that is simply more powerful than Java has. We'll look at this in more detail below.) </p>\n\n<p>So how is this different than interfaces?  This sounds like interfaces in Java -- you need a type that has certain operations, you define an interface that describes those operations.  We'll see what is missing from Java interfaces.</p>\n\n<p>Now we can start making sense of this Haskell:</p>\n\n<pre><code>class Monad m where\n</code></pre>\n\n<p>So, what is <code>Monad</code>? It's a class. What is a class? It's a set of types that have something in common, such that whenever you need a type that has certain operations, you can use a <code>Monad</code> type.  </p>\n\n<p>Suppose we have a type that is a member of this class; call it <code>m</code>.  What are the operations that must be on this type in order for that type to be a member of the class <code>Monad</code>?</p>\n\n<pre><code>  bind :: m a -&gt; (a -&gt; m b) -&gt; m b\n  return :: a -&gt; m a\n</code></pre>\n\n<p>The name of the operation comes to the left of the <code>::</code>, and the signature comes to the right.  So to be a <code>Monad</code>, a type <code>m</code> must have two operations: <code>bind</code> and <code>return</code>. What are the signatures of those operations?  Let's look at <code>return</code> first.</p>\n\n<pre><code>  a -&gt; m a\n</code></pre>\n\n<p><code>m a</code> is Haskell for what in Java would be <code>M&lt;A&gt;</code>.  That is, this means <code>m</code> is a generic type, <code>a</code> is a type, <code>m a</code> is <code>m</code> parametrized with <code>a</code>.</p>\n\n<p><code>x -&gt; y</code> in Haskell is the syntax for \"a function which takes type <code>x</code> and returns type <code>y</code>\". It's <code>Function&lt;X, Y&gt;</code>.</p>\n\n<p>Put it together, and we have <code>return</code> is a function that takes an argument of type <code>a</code> and returns a value of type <code>m a</code>. Or in Java</p>\n\n<pre><code>static &lt;A&gt;  M&lt;A&gt; Return(A a);\n</code></pre>\n\n<p><code>bind</code> is a little bit harder. I think the OP well understands this signature, but for readers who are unfamiliar with the terse Haskell syntax, let me expand on this a bit.</p>\n\n<p>In Haskell, functions only take one argument. If you want a function of two arguments, you make a function that takes one argument and returns <em>another function of one argument</em>.  So if you have</p>\n\n<pre><code>a -&gt; b -&gt; c\n</code></pre>\n\n<p>Then what have you got? A function that takes an <code>a</code> and returns a <code>b -&gt; c</code>.  So suppose you wanted to make a function that took two numbers and returned their sum.  You would make a function that takes the first number, and returns a function that takes a second number and adds it to the first number. </p>\n\n<p>In Java you'd say</p>\n\n<pre><code>static &lt;A, B, C&gt;  Function&lt;B, C&gt; F(A a)\n</code></pre>\n\n<p>So if you wanted a C and you had and A and a B, you could say</p>\n\n<pre><code>F(a)(b)\n</code></pre>\n\n<p>Make sense?</p>\n\n<p>All right, so </p>\n\n<pre><code>  bind :: m a -&gt; (a -&gt; m b) -&gt; m b\n</code></pre>\n\n<p>is effectively a function that takes two things: an <code>m a</code>, and a <code>a -&gt; m b</code> and it returns an <code>m b</code>. Or, in Java, it is directly:</p>\n\n<pre><code>static &lt;A, B&gt; Function&lt;Function&lt;A, M&lt;B&gt;&gt;, M&lt;B&gt;&gt; Bind(M&lt;A&gt;)\n</code></pre>\n\n<p>Or, more idiomatically in Java:</p>\n\n<pre><code>static &lt;A, B&gt; M&lt;B&gt; Bind(M&lt;A&gt;, Function&lt;A, M&lt;B&gt;&gt;) \n</code></pre>\n\n<p>So now you see why Java cannot represent the monad type directly. It does not have the ability to say \"I have a class of types that have this pattern in common\".</p>\n\n<p>Now, you can make all the monadic types you want in Java.  The thing you can't do is make an interface that represents the idea \"this type is a monad type\". What you would need to do is something like:</p>\n\n<pre><code>typeinterface Monad&lt;M&gt;\n{\n  static &lt;A&gt;    M&lt;A&gt; Return(A a);\n  static &lt;A, B&gt; M&lt;B&gt; Bind(M&lt;A&gt; m, Function&lt;A, M&lt;B&gt;&gt; f);\n}\n</code></pre>\n\n<p>See how the type interface talks about the generic type itself? A monadic type is any type <code>M</code> that is generic with one type parameter <em>and</em> has these two <strong>static</strong> methods. But you can't do that in the Java or C# type systems. <code>Bind</code> of course could be an instance method that takes an <code>M&lt;A&gt;</code> as <code>this</code>. But there is no way to make <code>Return</code> anything but static. Java gives you no ability to (1) parameterize an interface by an <em>unconstructed</em> generic type, and (2) no ability to specify that static members are part of the interface contract. </p>\n\n<blockquote>\n  <p>Since there are languages which work with monads, these languages have to somehow declare the Monad type.</p>\n</blockquote>\n\n<p>Well you'd think so but actually not. First off, of course any language with a sufficient type system can define monadic types; you can define all the monadic types you want in C# or Java, you just can't say what they all have in common in the type system. You can't make a generic class that can only be parameterized by monadic types, for instance.</p>\n\n<p>Second, you can embed the monad pattern in the language in other ways.  C# has no way to say \"this type matches the monad pattern\", but C# has query comprehensions (LINQ) built into the language. Query comprehensions work on any monadic type!  It's just that the bind operation has to be called <code>SelectMany</code>, which is a little weird. But if you look at the signature of <code>SelectMany</code>, you'll see that it is just <code>bind</code>:</p>\n\n<pre><code>  static IEnumerable&lt;R&gt; SelectMany&lt;S, R&gt;(\n    IEnumerable&lt;S&gt; source,\n    Func&lt;S,IEnumerable&lt;R&gt;&gt; selector)\n</code></pre>\n\n<p>That's the implementation of <code>SelectMany</code> for the sequence monad, <code>IEnumerable&lt;T&gt;</code>, but in C# if you write</p>\n\n<pre><code>from x in a from y in b select z\n</code></pre>\n\n<p>then <code>a</code>'s type can be of <strong>any</strong> monadic type, not just <code>IEnumerable&lt;T&gt;</code>. What is required is that <code>a</code> is <code>M&lt;A&gt;</code>, that <code>b</code> is <code>M&lt;B&gt;</code>, and that there is a suitable  <code>SelectMany</code> that follows the monad pattern. So that's another way of embedding a \"monad recognizer\" in the language, without representing it directly in the type system.</p>\n\n<p>(The previous paragraph is actually a lie of oversimplification; the binding pattern used by this query is slightly different than the standard monadic bind for performance reasons. <em>Conceptually</em> this recognizes the monad pattern; in actuality the details differ slightly. Read about them here <a href=\"http://ericlippert.com/2013/04/02/monads-part-twelve/\" rel=\"noreferrer\">http://ericlippert.com/2013/04/02/monads-part-twelve/</a> if you're interested.)</p>\n\n<p>A few more small points:</p>\n\n<blockquote>\n  <p>I was not able to find a commonly used name for the third operation, so I will just call it the unbox function.</p>\n</blockquote>\n\n<p>Good choice; it is usually called the \"extract\" operation. A <em>monad</em> need not have an extract operation exposed, but of course somehow <code>bind</code> needs to be able to get the <code>A</code> out of the <code>M&lt;A&gt;</code> in order to call the <code>Function&lt;A, M&lt;B&gt;&gt;</code> on it, so logically some sort of extraction operation usually exists. </p>\n\n<p>A <em>comonad</em> -- a backwards monad, in a sense -- requires an <code>extract</code> operation to be exposed; <code>extract</code> is essentially <code>return</code> backwards. A comonad as well requires an <code>extend</code> operation that is sort of <code>bind</code> turned backwards. It has the signature <code>static M&lt;B&gt; Extend(M&lt;A&gt; m, Func&lt;M&lt;A&gt;, B&gt; f)</code></p>\n"},{"tags":[],"owner":{"account_id":2184058,"reputation":1185,"user_id":1932890,"accept_rate":67,"display_name":"raner"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1565054243,"creation_date":1565054243,"answer_id":57367742,"question_id":35951818,"body_markdown":"Good question indeed! :-)\r\n\r\nAs @EricLippert pointed out, the type of polymorphism that is known as &quot;type classes&quot; in Haskell is beyond the grasp of Java&#39;s type system. However, at least since the introduction of the [Frege][1] programming language it has been shown that a Haskell-like type system can indeed be implemented on top of the JVM.\r\n\r\nIf you want to use higher-kinded types in the Java language itself you have to resort to libraries like [highJ][2] or [Cyclops][3]. Both libraries do provide a monad type class in the Haskell sense (see [here][4] and [here][5], respectively, for the sources of the monad type class). In both cases, be prepared for some **major** syntactic inconveniences; this code will not look pretty at all and carries a lot of overhead to shoehorn this functionality into Java&#39;s type system. Both libraries use a &quot;type witness&quot; to capture the core type separately from the data type, as John McClean explains in his [excellent introduction][6]. However, in neither implementation you will find anything as simple and straightforward as `Maybe extends Monad` or `List extends Monad`.\r\n\r\nThe secondary problem of specifying constructors or static methods with Java interfaces can be easily overcome by introducing a factory (or &quot;companion&quot;) interface that declares the static method as a non-static one. Personally, I always try to avoid anything static and use injected singletons instead.\r\n\r\nLong story short, yes, it is possible to represent HKTs in Java but at this point it is very inconvenient and not very user friendly.\r\n\r\n  [1]: https://github.com/Frege/frege\r\n  [2]: https://github.com/highj/highj\r\n  [3]: https://github.com/aol/cyclops\r\n  [4]: https://github.com/highj/highj/blob/master/src/main/java/org/highj/typeclass1/monad/Monad.java\r\n  [5]: https://github.com/aol/cyclops/blob/master/cyclops-pure/src/main/java/cyclops/typeclasses/monad/Monad.java\r\n  [6]: https://medium.com/@johnmcclean/simulating-higher-kinded-types-in-java-b52a18b72c74","title":"Why can the Monad interface not be declared in Java?","body":"<p>Good question indeed! :-)</p>\n\n<p>As @EricLippert pointed out, the type of polymorphism that is known as \"type classes\" in Haskell is beyond the grasp of Java's type system. However, at least since the introduction of the <a href=\"https://github.com/Frege/frege\" rel=\"nofollow noreferrer\">Frege</a> programming language it has been shown that a Haskell-like type system can indeed be implemented on top of the JVM.</p>\n\n<p>If you want to use higher-kinded types in the Java language itself you have to resort to libraries like <a href=\"https://github.com/highj/highj\" rel=\"nofollow noreferrer\">highJ</a> or <a href=\"https://github.com/aol/cyclops\" rel=\"nofollow noreferrer\">Cyclops</a>. Both libraries do provide a monad type class in the Haskell sense (see <a href=\"https://github.com/highj/highj/blob/master/src/main/java/org/highj/typeclass1/monad/Monad.java\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://github.com/aol/cyclops/blob/master/cyclops-pure/src/main/java/cyclops/typeclasses/monad/Monad.java\" rel=\"nofollow noreferrer\">here</a>, respectively, for the sources of the monad type class). In both cases, be prepared for some <strong>major</strong> syntactic inconveniences; this code will not look pretty at all and carries a lot of overhead to shoehorn this functionality into Java's type system. Both libraries use a \"type witness\" to capture the core type separately from the data type, as John McClean explains in his <a href=\"https://medium.com/@johnmcclean/simulating-higher-kinded-types-in-java-b52a18b72c74\" rel=\"nofollow noreferrer\">excellent introduction</a>. However, in neither implementation you will find anything as simple and straightforward as <code>Maybe extends Monad</code> or <code>List extends Monad</code>.</p>\n\n<p>The secondary problem of specifying constructors or static methods with Java interfaces can be easily overcome by introducing a factory (or \"companion\") interface that declares the static method as a non-static one. Personally, I always try to avoid anything static and use injected singletons instead.</p>\n\n<p>Long story short, yes, it is possible to represent HKTs in Java but at this point it is very inconvenient and not very user friendly.</p>\n"},{"tags":[],"owner":{"account_id":21549696,"reputation":401,"user_id":15886008,"display_name":"ianfun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659421668,"creation_date":1659421668,"answer_id":73202883,"question_id":35951818,"body_markdown":"Yes, we cannot override static method in class, and we cannot write constructor in interface.\r\n\r\n* use **abstract class** to simulate Monad *type class* in Haskell\r\n\r\n```java\r\nimport java.util.function.Function;\r\n\r\npublic abstract class Monad&lt;T&gt; {\r\n    public static &lt;T&gt; Monad&lt;T&gt; Unit(T a){\r\n        throw new UnsupportedOperationException(&quot;Call Unit in abstract class: Monad&quot;);\r\n    }\r\n    public &lt;R&gt; Monad&lt;R&gt; OUnit(R a){\r\n        throw new UnsupportedOperationException(&quot;Call OUnit in abstract class: Monad&quot;);\r\n    }\r\n    public &lt;B&gt; Monad&lt;B&gt; bind(Function&lt;T, Monad&lt;B&gt;&gt; func){\r\n        throw new UnsupportedOperationException(&quot;Call bind in abstract class: Monad&quot;);\r\n    }\r\n    public &lt;B&gt; Monad&lt;B&gt; combine(Monad&lt;B&gt; b){\r\n        return this.bind(unused -&gt; b);\r\n    }\r\n}\r\npublic class Maybe&lt;T&gt; extends Monad&lt;T&gt; {\r\n    public boolean has;\r\n    public T val;\r\n    public Maybe(T value) {\r\n        this.has = true;\r\n        this.val = value;\r\n    }\r\n    public Maybe(){\r\n        has = false;\r\n    }\r\n    public static &lt;T&gt; Maybe&lt;T&gt; Unit(T a) {\r\n        return new Maybe&lt;T&gt;(a);\r\n    }\r\n    public static &lt;T&gt; Maybe&lt;T&gt; Unit() {\r\n        return new Maybe&lt;T&gt;();\r\n    }\r\n    @Override\r\n    public &lt;R&gt; Maybe&lt;R&gt; OUnit(R a) {\r\n        return new Maybe&lt;R&gt;(a);\r\n    }\r\n    public &lt;T&gt; Maybe&lt;T&gt; OUnit() {\r\n        return new Maybe&lt;T&gt;();\r\n    }\r\n    @Override\r\n    public &lt;B&gt; Monad&lt;B&gt; bind(Function&lt;T, Monad&lt;B&gt;&gt; func){\r\n        if (this.has){\r\n            return func.apply(this.val);\r\n        }\r\n        return new Maybe&lt;B&gt;();\r\n    }\r\n    @Override\r\n    public String toString(){\r\n        if (this.has){\r\n            return &quot;Maybe &quot; + val.toString();\r\n        }\r\n        return &quot;Nothing&quot;;\r\n    }\r\n}\r\npublic class Main {\r\n/*\r\nexample :: (Monad m, Show (m n), Num n) =&gt; m n -&gt; m n -&gt; IO ()\r\nexample a b = do\r\n  print $ a &gt;&gt; b\r\n  print $ b &gt;&gt; a\r\n  print $ a &gt;&gt;= (\\x -&gt; return $ x+x)\r\n  print $ b &gt;&gt;= (\\x -&gt; return $ x+x)\r\n\r\nmain = do\r\n  example (Just 10) (Just 5)\r\n  example (Right 10) (Left 5)\r\n*/\r\n    public static void example(Monad&lt;Integer&gt; a, Monad&lt;Integer&gt; b){\r\n        System.out.println(a.bind(x -&gt; b));\r\n        System.out.println(b.bind(x -&gt; b));\r\n\r\n        System.out.println(a.bind(x -&gt; a.OUnit(x*2)));\r\n        System.out.println(b.bind(x -&gt; b.OUnit(x*2)));\r\n\r\n        System.out.println(a.combine(a));\r\n        System.out.println(a.combine(b));\r\n        System.out.println(b.combine(a));\r\n        System.out.println(b.combine(b));\r\n    }\r\n    // Monad can also used in any Objects\r\n    public static void example2(Monad&lt;Object&gt; a, Monad&lt;Object&gt; b){\r\n        System.out.println(a.bind(x -&gt; b));\r\n        System.out.println(b.bind(x -&gt; b));\r\n\r\n        System.out.println(a.combine(a));\r\n        System.out.println(a.combine(b));\r\n        System.out.println(b.combine(a));\r\n        System.out.println(b.combine(b));\r\n    }\r\n    public static void main(String[] args){\r\n        System.out.println(&quot;Example 1:&quot;);\r\n        example(Maybe.&lt;Integer&gt;Unit(10), Maybe.&lt;Integer&gt;Unit());\r\n        System.out.println(&quot;\\n\\nExample 2:&quot;);\r\n        example(Maybe.&lt;Integer&gt;Unit(1), Maybe.&lt;Integer&gt;Unit(3));\r\n        System.out.println(&quot;\\n\\nExample 3:&quot;);\r\n        example2(Maybe.&lt;Object&gt;Unit(10), Maybe.&lt;Object&gt;Unit());\r\n    }\r\n}\r\n```\r\n\r\n* use **interface** to simulate Monad *type class* in Haskell\r\n\r\n```java\r\nimport java.util.function.Function;\r\n\r\npublic interface Monad&lt;T&gt; {\r\n    public static &lt;T&gt; Monad&lt;T&gt; Unit(T a){\r\n    \tthrow new UnsupportedOperationException(&quot;call Unit in Monad interface&quot;);\r\n    }\r\n    public &lt;R&gt; Monad&lt;R&gt; OUnit(R a);\r\n    public &lt;B&gt; Monad&lt;B&gt; bind(Function&lt;T, Monad&lt;B&gt;&gt; func);\r\n    default public &lt;B&gt; Monad&lt;B&gt; combine(Monad&lt;B&gt; b){\r\n    \treturn bind(x-&gt; b);\r\n    };\r\n}\r\n// in class Maybe, replace extends with implements\r\n// in class Main, unchanged\r\n```\r\n\r\nand the output is the same","title":"Why can the Monad interface not be declared in Java?","body":"<p>Yes, we cannot override static method in class, and we cannot write constructor in interface.</p>\n<ul>\n<li>use <strong>abstract class</strong> to simulate Monad <em>type class</em> in Haskell</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.function.Function;\n\npublic abstract class Monad&lt;T&gt; {\n    public static &lt;T&gt; Monad&lt;T&gt; Unit(T a){\n        throw new UnsupportedOperationException(&quot;Call Unit in abstract class: Monad&quot;);\n    }\n    public &lt;R&gt; Monad&lt;R&gt; OUnit(R a){\n        throw new UnsupportedOperationException(&quot;Call OUnit in abstract class: Monad&quot;);\n    }\n    public &lt;B&gt; Monad&lt;B&gt; bind(Function&lt;T, Monad&lt;B&gt;&gt; func){\n        throw new UnsupportedOperationException(&quot;Call bind in abstract class: Monad&quot;);\n    }\n    public &lt;B&gt; Monad&lt;B&gt; combine(Monad&lt;B&gt; b){\n        return this.bind(unused -&gt; b);\n    }\n}\npublic class Maybe&lt;T&gt; extends Monad&lt;T&gt; {\n    public boolean has;\n    public T val;\n    public Maybe(T value) {\n        this.has = true;\n        this.val = value;\n    }\n    public Maybe(){\n        has = false;\n    }\n    public static &lt;T&gt; Maybe&lt;T&gt; Unit(T a) {\n        return new Maybe&lt;T&gt;(a);\n    }\n    public static &lt;T&gt; Maybe&lt;T&gt; Unit() {\n        return new Maybe&lt;T&gt;();\n    }\n    @Override\n    public &lt;R&gt; Maybe&lt;R&gt; OUnit(R a) {\n        return new Maybe&lt;R&gt;(a);\n    }\n    public &lt;T&gt; Maybe&lt;T&gt; OUnit() {\n        return new Maybe&lt;T&gt;();\n    }\n    @Override\n    public &lt;B&gt; Monad&lt;B&gt; bind(Function&lt;T, Monad&lt;B&gt;&gt; func){\n        if (this.has){\n            return func.apply(this.val);\n        }\n        return new Maybe&lt;B&gt;();\n    }\n    @Override\n    public String toString(){\n        if (this.has){\n            return &quot;Maybe &quot; + val.toString();\n        }\n        return &quot;Nothing&quot;;\n    }\n}\npublic class Main {\n/*\nexample :: (Monad m, Show (m n), Num n) =&gt; m n -&gt; m n -&gt; IO ()\nexample a b = do\n  print $ a &gt;&gt; b\n  print $ b &gt;&gt; a\n  print $ a &gt;&gt;= (\\x -&gt; return $ x+x)\n  print $ b &gt;&gt;= (\\x -&gt; return $ x+x)\n\nmain = do\n  example (Just 10) (Just 5)\n  example (Right 10) (Left 5)\n*/\n    public static void example(Monad&lt;Integer&gt; a, Monad&lt;Integer&gt; b){\n        System.out.println(a.bind(x -&gt; b));\n        System.out.println(b.bind(x -&gt; b));\n\n        System.out.println(a.bind(x -&gt; a.OUnit(x*2)));\n        System.out.println(b.bind(x -&gt; b.OUnit(x*2)));\n\n        System.out.println(a.combine(a));\n        System.out.println(a.combine(b));\n        System.out.println(b.combine(a));\n        System.out.println(b.combine(b));\n    }\n    // Monad can also used in any Objects\n    public static void example2(Monad&lt;Object&gt; a, Monad&lt;Object&gt; b){\n        System.out.println(a.bind(x -&gt; b));\n        System.out.println(b.bind(x -&gt; b));\n\n        System.out.println(a.combine(a));\n        System.out.println(a.combine(b));\n        System.out.println(b.combine(a));\n        System.out.println(b.combine(b));\n    }\n    public static void main(String[] args){\n        System.out.println(&quot;Example 1:&quot;);\n        example(Maybe.&lt;Integer&gt;Unit(10), Maybe.&lt;Integer&gt;Unit());\n        System.out.println(&quot;\\n\\nExample 2:&quot;);\n        example(Maybe.&lt;Integer&gt;Unit(1), Maybe.&lt;Integer&gt;Unit(3));\n        System.out.println(&quot;\\n\\nExample 3:&quot;);\n        example2(Maybe.&lt;Object&gt;Unit(10), Maybe.&lt;Object&gt;Unit());\n    }\n}\n</code></pre>\n<ul>\n<li>use <strong>interface</strong> to simulate Monad <em>type class</em> in Haskell</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.function.Function;\n\npublic interface Monad&lt;T&gt; {\n    public static &lt;T&gt; Monad&lt;T&gt; Unit(T a){\n        throw new UnsupportedOperationException(&quot;call Unit in Monad interface&quot;);\n    }\n    public &lt;R&gt; Monad&lt;R&gt; OUnit(R a);\n    public &lt;B&gt; Monad&lt;B&gt; bind(Function&lt;T, Monad&lt;B&gt;&gt; func);\n    default public &lt;B&gt; Monad&lt;B&gt; combine(Monad&lt;B&gt; b){\n        return bind(x-&gt; b);\n    };\n}\n// in class Maybe, replace extends with implements\n// in class Main, unchanged\n</code></pre>\n<p>and the output is the same</p>\n"}],"owner":{"account_id":4816487,"reputation":4550,"user_id":3888450,"accept_rate":89,"display_name":"Stefan Dollase"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3694,"favorite_count":0,"down_vote_count":0,"up_vote_count":38,"accepted_answer_id":35959910,"answer_count":4,"score":38,"last_activity_date":1659421668,"creation_date":1457739408,"question_id":35951818,"body_markdown":"Before you start reading: This question is not about understanding monads, but it is about identifying the limitations of the Java type system which prevents the declaration of a `Monad` interface.\r\n\r\n---\r\n\r\nIn my effort to understand monads I read [this](https://stackoverflow.com/a/2704795/3888450) SO-answer by Eric Lippert on a question which asks about a simple explanation of monads. There, he also lists the operations which can be executed on a monad:\r\n\r\n&gt; 1. That there is a way to take a value of an unamplified type and turn it into a value of the amplified type.\r\n&gt; 2. That there is a way to transform operations on the unamplified type into operations on the amplified type that obeys the rules of functional composition mentioned before\r\n&gt; 3. That there is usually a way to get the unamplified type back out of the amplified type. (This last point isn&#39;t strictly necessary for a monad but it is frequently the case that such an operation exists.)\r\n\r\nAfter reading more about monads, I identified the first operation as the `return` function and the second operation as the `bind` function. I was not able to find a commonly used name for the third operation, so I will just call it the `unbox` function.\r\n\r\nTo better understand monads, I went ahead and tried to declare a generic `Monad` interface in Java. For this, I first looked at the signatures of the three functions above. For the Monad `M`, it looks like this:\r\n\r\n    return :: T1 -&gt; M&lt;T1&gt;\r\n    bind   :: M&lt;T1&gt; -&gt; (T1 -&gt; M&lt;T2&gt;) -&gt; M&lt;T2&gt;\r\n    unbox  :: M&lt;T1&gt; -&gt; T1\r\n\r\nThe `return` function is not executed on an instance of `M`, so it does not belong into the `Monad` interface. Instead, it will be implemented as a constructor or factory method.\r\n\r\nAlso for now, I omit the `unbox` function from the interface declaration, since it is not required. There will be different implementations of this function for the different implementations of the interface.\r\n\r\nThus, the `Monad` interface only contains the `bind` function.\r\n\r\nLet&#39;s try to declare the interface:\r\n\r\n\tpublic interface Monad {\r\n\t\tMonad bind();\r\n\t}\r\n\r\nThere are two flaws:\r\n\r\n* The `bind` function should return the concrete implementation, however it does only return the interface type. This is a problem, since we have the unbox operations declared on the concrete subtypes. I will refer to this as **problem 1**.\r\n* The `bind` function should retrieve a function as a parameter. We will address this later.\r\n\r\n# Using the concrete type in the interface declaration\r\n\r\nThis addresses problem 1: If my understanding of monads is correct, then the `bind` function always returns a new monad of the same concrete type as the monad where it was called on. So, if I have an implementation of the `Monad` interface called `M`, then `M.bind` will return another `M` but not a `Monad`. I can implement this using generics:\r\n\r\n\tpublic interface Monad&lt;M extends Monad&lt;M&gt;&gt; {\r\n\t\tM bind();\r\n\t}\r\n\r\n\tpublic class MonadImpl&lt;M extends MonadImpl&lt;M&gt;&gt; implements Monad&lt;M&gt; {\r\n\t\t@Override\r\n\t\tpublic M bind() { /* do stuff and return an instance of M */ }\r\n\t}\r\n\r\nAt first, this seems to work, however there are at least two flaws with this:\r\n\r\n* This breaks down as soon as an implementing class does not provide itself but another implementation of the `Monad` interface as the type parameter `M`, because then the `bind` method will return the wrong type. For example the \r\n\r\n        public class FaultyMonad&lt;M extends MonadImpl&lt;M&gt;&gt; implements Monad&lt;M&gt; { ... }\r\n\r\n    will return an instance of `MonadImpl` where it should return an instance of `FaultyMonad`. However, we can specify this restriction in the documentation and consider such an implementation as a programmer error.\r\n\r\n* The second flaw is more difficult to resolve. I will call it **problem 2**: When I try to instantiate the class `MonadImpl` I need to provide the type of `M`. Lets try this:\r\n\r\n        new MonadImpl&lt;MonadImpl&lt;MonadImpl&lt;MonadImpl&lt;MonadImpl&lt; ... &gt;&gt;&gt;&gt;&gt;()\r\n\r\n    To get a valid type declaration, this has to go on infinitely. Here is another attempt:\r\n\r\n\t\tpublic static &lt;M extends MonadImpl&lt;M&gt;&gt; MonadImpl&lt;M&gt; create() {\r\n\t\t\treturn new MonadImpl&lt;M&gt;();\r\n\t\t}\r\n\r\n    While this seems to work, we just defered the problem to the called. Here is the only usage of that function that works for me:\r\n\t\r\n\t\tpublic void createAndUseMonad() {\r\n\t\t\tMonadImpl&lt;?&gt; monad = create();\r\n            // use monad\r\n\t\t}\r\n\r\n    which essentially boils down to \r\n\r\n\t\tMonadImpl&lt;?&gt; monad = new MonadImpl&lt;&gt;();\r\n\r\n    but this is clearly not what we want.\r\n    \r\n# Using a type in its own declaration with shifted type parameters\r\n\r\nNow, let&#39;s add the function parameter to the `bind` function: As described above, the signature of the `bind` function looks like this: `T1 -&gt; M&lt;T2&gt;`. In Java, this is the type `Function&lt;T1, M&lt;T2&gt;&gt;`. Here is the first attempt to declare the interface with the parameter:\r\n\r\n\tpublic interface Monad&lt;T1, M extends Monad&lt;?, ?&gt;&gt; {\r\n\t\tM bind(Function&lt;T1, M&gt; function);\r\n\t}\r\n\r\nWe have to add the type `T1` as generic type parameter to the interface declaration, so we can use it in the function signature. The first `?` is the `T1` of the returned monad of type `M`. To replace it with `T2`, we have to add `T2` itself as a generic type parameter:\r\n\r\n\tpublic interface Monad&lt;T1, M extends Monad&lt;T2, ?, ?&gt;,\r\n                           T2&gt; {\r\n\t\tM bind(Function&lt;T1, M&gt; function);\r\n\t}\r\n\r\nNow, we get another problem. We added a third type parameter to the `Monad` interface, so we had to add a new `?` to the usage of it. We will ignore the new `?` for now to investigate the now first `?`. It is the `M` of the returned monad of type `M`. Let&#39;s try to remove this `?` by renaming `M` to `M1` and by introducing another `M2`:\r\n\r\n\tpublic interface Monad&lt;T1, M1 extends Monad&lt;T2, M2, ?, ?&gt;,\r\n                           T2, M2 extends Monad&lt; ?,  ?, ?, ?&gt;&gt; {\r\n\t\tM1 bind(Function&lt;T1, M1&gt; function);\r\n\t}\r\n\r\nIntroducing another `T3` results in:\r\n\r\n\tpublic interface Monad&lt;T1, M1 extends Monad&lt;T2, M2, T3, ?, ?&gt;,\r\n\t                       T2, M2 extends Monad&lt;T3,  ?,  ?, ?, ?&gt;,\r\n\t                       T3&gt; {\r\n\t\tM1 bind(Function&lt;T1, M1&gt; function);\r\n\t}\r\n\r\nand introducing another `M3` results in:\r\n\r\n\tpublic interface Monad&lt;T1, M1 extends Monad&lt;T2, M2, T3, M3, ?, ?&gt;,\r\n\t                       T2, M2 extends Monad&lt;T3, M3,  ?,  ?, ?, ?&gt;,\r\n\t                       T3, M3 extends Monad&lt; ?,  ?,  ?,  ?, ?, ?&gt;&gt; {\r\n\t\tM1 bind(Function&lt;T1, M1&gt; function);\r\n\t}\r\n\r\nWe see that this will go on forever if we try to resolve all `?`. This is **problem 3**.\r\n\r\n# Summing it all up\r\n\r\nWe identified three problems:\r\n\r\n1. Using the concrete type in the declaration of the abstract type.\r\n2. Instantiating a type which receives itself as generic type parameter.\r\n3. Declaring a type which uses itself in its declaration with shifted type parameters.\r\n\r\nThe question is: What is the feature that is missing in the Java type system? Since there are languages which work with monads, these languages have to somehow declare the `Monad` type. How do these other languages declare the `Monad` type? I was not able to find information about this. I only find information about the declaration of concrete monads, like the `Maybe` monad.\r\n\r\nDid I miss anything? Can I properly solve one of these problems with the Java type system? If I cannot solve problem 2 with the Java type system, is there a reason why Java does not warn me about the not instantiable type declaration?\r\n\r\n---\r\n\r\nAs already stated, this question is **not** about understanding monads. If my understanding of monads is wrong, you might give a hint about it, but don&#39;t attempt to give an explanation. If my understanding of monads is wrong the described problems remain.\r\n\r\nThis question is also not about whether it is possible to declare the `Monad` interface in Java. This question already received an answer by Eric Lippert in his SO-answer linked above: It is not. This question is about what exactly is the limitation that prevents me from doing this. Eric Lippert refers to this as higher types, but I can&#39;t get my head around them.\r\n\r\n&gt; Most OOP languages do not have a rich enough type system to represent the monad pattern itself directly; you need a type system that supports types that are higher types than generic types. So I wouldn&#39;t try to do that. Rather, I would implement generic types that represent each monad, and implement methods that represent the three operations you need: turning a value into an amplified value, turning an amplified value into a value, and transforming a function on unamplified values into a function on amplified values.","title":"Why can the Monad interface not be declared in Java?","body":"<p>Before you start reading: This question is not about understanding monads, but it is about identifying the limitations of the Java type system which prevents the declaration of a <code>Monad</code> interface.</p>\n\n<hr>\n\n<p>In my effort to understand monads I read <a href=\"https://stackoverflow.com/a/2704795/3888450\">this</a> SO-answer by Eric Lippert on a question which asks about a simple explanation of monads. There, he also lists the operations which can be executed on a monad:</p>\n\n<blockquote>\n  <ol>\n  <li>That there is a way to take a value of an unamplified type and turn it into a value of the amplified type.</li>\n  <li>That there is a way to transform operations on the unamplified type into operations on the amplified type that obeys the rules of functional composition mentioned before</li>\n  <li>That there is usually a way to get the unamplified type back out of the amplified type. (This last point isn't strictly necessary for a monad but it is frequently the case that such an operation exists.)</li>\n  </ol>\n</blockquote>\n\n<p>After reading more about monads, I identified the first operation as the <code>return</code> function and the second operation as the <code>bind</code> function. I was not able to find a commonly used name for the third operation, so I will just call it the <code>unbox</code> function.</p>\n\n<p>To better understand monads, I went ahead and tried to declare a generic <code>Monad</code> interface in Java. For this, I first looked at the signatures of the three functions above. For the Monad <code>M</code>, it looks like this:</p>\n\n<pre><code>return :: T1 -&gt; M&lt;T1&gt;\nbind   :: M&lt;T1&gt; -&gt; (T1 -&gt; M&lt;T2&gt;) -&gt; M&lt;T2&gt;\nunbox  :: M&lt;T1&gt; -&gt; T1\n</code></pre>\n\n<p>The <code>return</code> function is not executed on an instance of <code>M</code>, so it does not belong into the <code>Monad</code> interface. Instead, it will be implemented as a constructor or factory method.</p>\n\n<p>Also for now, I omit the <code>unbox</code> function from the interface declaration, since it is not required. There will be different implementations of this function for the different implementations of the interface.</p>\n\n<p>Thus, the <code>Monad</code> interface only contains the <code>bind</code> function.</p>\n\n<p>Let's try to declare the interface:</p>\n\n<pre><code>public interface Monad {\n    Monad bind();\n}\n</code></pre>\n\n<p>There are two flaws:</p>\n\n<ul>\n<li>The <code>bind</code> function should return the concrete implementation, however it does only return the interface type. This is a problem, since we have the unbox operations declared on the concrete subtypes. I will refer to this as <strong>problem 1</strong>.</li>\n<li>The <code>bind</code> function should retrieve a function as a parameter. We will address this later.</li>\n</ul>\n\n<h1>Using the concrete type in the interface declaration</h1>\n\n<p>This addresses problem 1: If my understanding of monads is correct, then the <code>bind</code> function always returns a new monad of the same concrete type as the monad where it was called on. So, if I have an implementation of the <code>Monad</code> interface called <code>M</code>, then <code>M.bind</code> will return another <code>M</code> but not a <code>Monad</code>. I can implement this using generics:</p>\n\n<pre><code>public interface Monad&lt;M extends Monad&lt;M&gt;&gt; {\n    M bind();\n}\n\npublic class MonadImpl&lt;M extends MonadImpl&lt;M&gt;&gt; implements Monad&lt;M&gt; {\n    @Override\n    public M bind() { /* do stuff and return an instance of M */ }\n}\n</code></pre>\n\n<p>At first, this seems to work, however there are at least two flaws with this:</p>\n\n<ul>\n<li><p>This breaks down as soon as an implementing class does not provide itself but another implementation of the <code>Monad</code> interface as the type parameter <code>M</code>, because then the <code>bind</code> method will return the wrong type. For example the </p>\n\n<pre><code>public class FaultyMonad&lt;M extends MonadImpl&lt;M&gt;&gt; implements Monad&lt;M&gt; { ... }\n</code></pre>\n\n<p>will return an instance of <code>MonadImpl</code> where it should return an instance of <code>FaultyMonad</code>. However, we can specify this restriction in the documentation and consider such an implementation as a programmer error.</p></li>\n<li><p>The second flaw is more difficult to resolve. I will call it <strong>problem 2</strong>: When I try to instantiate the class <code>MonadImpl</code> I need to provide the type of <code>M</code>. Lets try this:</p>\n\n<pre><code>new MonadImpl&lt;MonadImpl&lt;MonadImpl&lt;MonadImpl&lt;MonadImpl&lt; ... &gt;&gt;&gt;&gt;&gt;()\n</code></pre>\n\n<p>To get a valid type declaration, this has to go on infinitely. Here is another attempt:</p>\n\n<pre><code>public static &lt;M extends MonadImpl&lt;M&gt;&gt; MonadImpl&lt;M&gt; create() {\n    return new MonadImpl&lt;M&gt;();\n}\n</code></pre>\n\n<p>While this seems to work, we just defered the problem to the called. Here is the only usage of that function that works for me:</p>\n\n<pre><code>public void createAndUseMonad() {\n    MonadImpl&lt;?&gt; monad = create();\n    // use monad\n}\n</code></pre>\n\n<p>which essentially boils down to </p>\n\n<pre><code>MonadImpl&lt;?&gt; monad = new MonadImpl&lt;&gt;();\n</code></pre>\n\n<p>but this is clearly not what we want.</p></li>\n</ul>\n\n<h1>Using a type in its own declaration with shifted type parameters</h1>\n\n<p>Now, let's add the function parameter to the <code>bind</code> function: As described above, the signature of the <code>bind</code> function looks like this: <code>T1 -&gt; M&lt;T2&gt;</code>. In Java, this is the type <code>Function&lt;T1, M&lt;T2&gt;&gt;</code>. Here is the first attempt to declare the interface with the parameter:</p>\n\n<pre><code>public interface Monad&lt;T1, M extends Monad&lt;?, ?&gt;&gt; {\n    M bind(Function&lt;T1, M&gt; function);\n}\n</code></pre>\n\n<p>We have to add the type <code>T1</code> as generic type parameter to the interface declaration, so we can use it in the function signature. The first <code>?</code> is the <code>T1</code> of the returned monad of type <code>M</code>. To replace it with <code>T2</code>, we have to add <code>T2</code> itself as a generic type parameter:</p>\n\n<pre><code>public interface Monad&lt;T1, M extends Monad&lt;T2, ?, ?&gt;,\n                       T2&gt; {\n    M bind(Function&lt;T1, M&gt; function);\n}\n</code></pre>\n\n<p>Now, we get another problem. We added a third type parameter to the <code>Monad</code> interface, so we had to add a new <code>?</code> to the usage of it. We will ignore the new <code>?</code> for now to investigate the now first <code>?</code>. It is the <code>M</code> of the returned monad of type <code>M</code>. Let's try to remove this <code>?</code> by renaming <code>M</code> to <code>M1</code> and by introducing another <code>M2</code>:</p>\n\n<pre><code>public interface Monad&lt;T1, M1 extends Monad&lt;T2, M2, ?, ?&gt;,\n                       T2, M2 extends Monad&lt; ?,  ?, ?, ?&gt;&gt; {\n    M1 bind(Function&lt;T1, M1&gt; function);\n}\n</code></pre>\n\n<p>Introducing another <code>T3</code> results in:</p>\n\n<pre><code>public interface Monad&lt;T1, M1 extends Monad&lt;T2, M2, T3, ?, ?&gt;,\n                       T2, M2 extends Monad&lt;T3,  ?,  ?, ?, ?&gt;,\n                       T3&gt; {\n    M1 bind(Function&lt;T1, M1&gt; function);\n}\n</code></pre>\n\n<p>and introducing another <code>M3</code> results in:</p>\n\n<pre><code>public interface Monad&lt;T1, M1 extends Monad&lt;T2, M2, T3, M3, ?, ?&gt;,\n                       T2, M2 extends Monad&lt;T3, M3,  ?,  ?, ?, ?&gt;,\n                       T3, M3 extends Monad&lt; ?,  ?,  ?,  ?, ?, ?&gt;&gt; {\n    M1 bind(Function&lt;T1, M1&gt; function);\n}\n</code></pre>\n\n<p>We see that this will go on forever if we try to resolve all <code>?</code>. This is <strong>problem 3</strong>.</p>\n\n<h1>Summing it all up</h1>\n\n<p>We identified three problems:</p>\n\n<ol>\n<li>Using the concrete type in the declaration of the abstract type.</li>\n<li>Instantiating a type which receives itself as generic type parameter.</li>\n<li>Declaring a type which uses itself in its declaration with shifted type parameters.</li>\n</ol>\n\n<p>The question is: What is the feature that is missing in the Java type system? Since there are languages which work with monads, these languages have to somehow declare the <code>Monad</code> type. How do these other languages declare the <code>Monad</code> type? I was not able to find information about this. I only find information about the declaration of concrete monads, like the <code>Maybe</code> monad.</p>\n\n<p>Did I miss anything? Can I properly solve one of these problems with the Java type system? If I cannot solve problem 2 with the Java type system, is there a reason why Java does not warn me about the not instantiable type declaration?</p>\n\n<hr>\n\n<p>As already stated, this question is <strong>not</strong> about understanding monads. If my understanding of monads is wrong, you might give a hint about it, but don't attempt to give an explanation. If my understanding of monads is wrong the described problems remain.</p>\n\n<p>This question is also not about whether it is possible to declare the <code>Monad</code> interface in Java. This question already received an answer by Eric Lippert in his SO-answer linked above: It is not. This question is about what exactly is the limitation that prevents me from doing this. Eric Lippert refers to this as higher types, but I can't get my head around them.</p>\n\n<blockquote>\n  <p>Most OOP languages do not have a rich enough type system to represent the monad pattern itself directly; you need a type system that supports types that are higher types than generic types. So I wouldn't try to do that. Rather, I would implement generic types that represent each monad, and implement methods that represent the three operations you need: turning a value into an amplified value, turning an amplified value into a value, and transforming a function on unamplified values into a function on amplified values.</p>\n</blockquote>\n"},{"tags":["java","spring-mvc","multipartform-data","spring-rest"],"owner":{"account_id":9904386,"reputation":1316,"user_id":7333386,"accept_rate":51,"display_name":"deadend"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":287,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1659421655,"creation_date":1659420746,"question_id":73202736,"body_markdown":"I am attempting to call from Service Consumer (Project 1) to Service Provider (Project 2) with Multipart data using spring REST service, but I am receiving 400 bad request error. Both the services are running in my machine. Below is my code snippet. I cannot able to service provide code since this is using by third party system.\r\n\r\n**Service Consumer:**\r\n\r\n        @Override\r\n    \tpublic void callFileAPI(byte[] pdf) {\r\n    \t    String response = null;\r\n    \t    HttpStatus httpStatus = null;\r\n    \t    try {\r\n    \t    \tMultiValueMap&lt;String, Object&gt; map = new LinkedMultiValueMap&lt;&gt;();\r\n    \t        map.add(&quot;file&quot;, new ByteArrayResource(pdf));\r\n    \t        //map.add(&quot;request&quot;, &quot;&quot;);\r\n    \t        \r\n    \t        HttpHeaders headers = new HttpHeaders();\r\n    \t        headers.setContentType(MediaType.MULTIPART_FORM_DATA);\r\n    \r\n    \t        String url = &quot;http://xxxx/api/mpFile&quot;;\r\n    \r\n    \t        final RestTemplate restTemplate = new RestTemplate();\r\n    \t        \r\n    \t        HttpEntity&lt;MultiValueMap&lt;String, Object&gt;&gt; requestEntity = new HttpEntity&lt;&gt;(map, headers);\r\n    \t        response = restTemplate.postForObject(url, requestEntity, String.class);\r\n    \t        //response = restTemplate.postForObject(url, map, String.class);\r\n    \t    } catch (HttpStatusCodeException e) {\r\n    \t    \te.printStackTrace();\r\n    \t    } catch (Exception e) {\r\n    \t    \te.printStackTrace();\r\n    \t    }\r\n    \t}\r\n\r\n**Service Provider:**\r\n\r\n        @RequestMapping(value = &quot;/mpFile&quot;, method = RequestMethod.POST)\r\n    \tpublic @ResponseBody String mpFile(@RequestPart MultipartFile file) {\r\n    \t\tString respStr = &quot;OK&quot;;\r\n    \t\ttry {\r\n    \t\t\tSystem.out.println(&quot;File obj : &quot;+file);\r\n    \t\t} catch(Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\treturn respStr;\r\n    \t}\r\n\r\n**Error:**\r\n\r\n    org.springframework.web.client.HttpClientErrorException: 400 Bad Request\r\n    \tat org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:86)\r\n    \tat org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:708)\r\n    \tat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:661)\r\n    \tat org.springframework.web.client.RestTemplate.execute(RestTemplate.java:621)\r\n    \tat org.springframework.web.client.RestTemplate.postForObject(RestTemplate.java:388)\r\n\t","title":"Spring 400 Bad Request When Sending Multipart Request","body":"<p>I am attempting to call from Service Consumer (Project 1) to Service Provider (Project 2) with Multipart data using spring REST service, but I am receiving 400 bad request error. Both the services are running in my machine. Below is my code snippet. I cannot able to service provide code since this is using by third party system.</p>\n<p><strong>Service Consumer:</strong></p>\n<pre><code>    @Override\n    public void callFileAPI(byte[] pdf) {\n        String response = null;\n        HttpStatus httpStatus = null;\n        try {\n            MultiValueMap&lt;String, Object&gt; map = new LinkedMultiValueMap&lt;&gt;();\n            map.add(&quot;file&quot;, new ByteArrayResource(pdf));\n            //map.add(&quot;request&quot;, &quot;&quot;);\n            \n            HttpHeaders headers = new HttpHeaders();\n            headers.setContentType(MediaType.MULTIPART_FORM_DATA);\n\n            String url = &quot;http://xxxx/api/mpFile&quot;;\n\n            final RestTemplate restTemplate = new RestTemplate();\n            \n            HttpEntity&lt;MultiValueMap&lt;String, Object&gt;&gt; requestEntity = new HttpEntity&lt;&gt;(map, headers);\n            response = restTemplate.postForObject(url, requestEntity, String.class);\n            //response = restTemplate.postForObject(url, map, String.class);\n        } catch (HttpStatusCodeException e) {\n            e.printStackTrace();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p><strong>Service Provider:</strong></p>\n<pre><code>    @RequestMapping(value = &quot;/mpFile&quot;, method = RequestMethod.POST)\n    public @ResponseBody String mpFile(@RequestPart MultipartFile file) {\n        String respStr = &quot;OK&quot;;\n        try {\n            System.out.println(&quot;File obj : &quot;+file);\n        } catch(Exception e) {\n            e.printStackTrace();\n        }\n        return respStr;\n    }\n</code></pre>\n<p><strong>Error:</strong></p>\n<pre><code>org.springframework.web.client.HttpClientErrorException: 400 Bad Request\n    at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:86)\n    at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:708)\n    at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:661)\n    at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:621)\n    at org.springframework.web.client.RestTemplate.postForObject(RestTemplate.java:388)\n</code></pre>\n"},{"tags":["java","node.js","hash","sha"],"comments":[{"owner":{"account_id":4809624,"reputation":3467,"user_id":3883475,"accept_rate":85,"display_name":"Ironluca"},"score":0,"creation_date":1659429866,"post_id":73202879,"comment_id":129286905,"body_markdown":"First, I know next to nothing about NodeJS. Second, why are you using Key Derivation Function to calculate hash? Shiro implementation of SimpleHash (https://github.com/apache/shiro/blob/main/crypto/hash/src/main/java/org/apache/shiro/crypto/hash/SimpleHash.java) [refer protected byte[] hash(byte[] bytes, byte[] salt, int hashIterations) method] does (salt+clearText) --&gt; Hash once --&gt; Hash (iteration-1 times). Do same thinh in Node, may be this would be useful (https://www.geeksforgeeks.org/node-js-hash-digest-method/)","body":"First, I know next to nothing about NodeJS. Second, why are you using Key Derivation Function to calculate hash? Shiro implementation of SimpleHash (<a href=\"https://github.com/apache/shiro/blob/main/crypto/hash/src/main/java/org/apache/shiro/crypto/hash/SimpleHash.java\" rel=\"nofollow noreferrer\">github.com/apache/shiro/blob/main/crypto/hash/src/main/java&zwnj;&#8203;/org/&hellip;</a>) [refer protected byte[] hash(byte[] bytes, byte[] salt, int hashIterations) method] does (salt+clearText) --&gt; Hash once --&gt; Hash (iteration-1 times). Do same thinh in Node, may be this would be useful (<a href=\"https://www.geeksforgeeks.org/node-js-hash-digest-method/\" rel=\"nofollow noreferrer\">geeksforgeeks.org/node-js-hash-digest-method</a>)"},{"owner":{"account_id":10620786,"reputation":2124,"user_id":7821979,"display_name":"5ar"},"score":0,"creation_date":1659436201,"post_id":73202879,"comment_id":129289164,"body_markdown":"If you are using strings, make sure they are encoded consistently in both implementations [as warned by the docs](https://nodejs.org/api/crypto.html#using-strings-as-inputs-to-cryptographic-apis)","body":"If you are using strings, make sure they are encoded consistently in both implementations <a href=\"https://nodejs.org/api/crypto.html#using-strings-as-inputs-to-cryptographic-apis\" rel=\"nofollow noreferrer\">as warned by the docs</a>"}],"owner":{"account_id":12855419,"reputation":2712,"user_id":9298910,"display_name":"Lehks"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1659421642,"creation_date":1659421642,"question_id":73202879,"body_markdown":"In my Company, we used to hash passwords like this in Java, using Shiro&#39;s `SimpleHash` class:\r\n\r\n```java\r\nnew SimpleHash(&quot;SHA-512&quot;, password, salt, 1024).toBase64()\r\n```\r\n\r\nNow, we need to migrate these hashes to NodeJS, i.e. I need to be able to hash passwords in the exact same way to compare them.\r\n\r\nSo far, I have tried this using the `pbldf2` function from NodeJS&#39;s `crypto` module:\r\n\r\n```javascript\r\n// the key length of 64 was determined by looking at the output of SimpleHash, these are 64 bytes long\r\npbkdf2Sync(password, salt, 1024, 64, &#39;sha512&#39;).toString(&#39;base64&#39;)\r\n```\r\n\r\nHowever, the produced hashes are not the same. I have also tried using `crypto`&#39;s `createHmac` function, but the hashes produced by it did not match either. Notably, I was unable to tell `createHmac` how many iterations should be used.","title":"Migrating Java Shiro Simple Hashes to NodeJS","body":"<p>In my Company, we used to hash passwords like this in Java, using Shiro's <code>SimpleHash</code> class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>new SimpleHash(&quot;SHA-512&quot;, password, salt, 1024).toBase64()\n</code></pre>\n<p>Now, we need to migrate these hashes to NodeJS, i.e. I need to be able to hash passwords in the exact same way to compare them.</p>\n<p>So far, I have tried this using the <code>pbldf2</code> function from NodeJS's <code>crypto</code> module:</p>\n<pre class=\"lang-js prettyprint-override\"><code>// the key length of 64 was determined by looking at the output of SimpleHash, these are 64 bytes long\npbkdf2Sync(password, salt, 1024, 64, 'sha512').toString('base64')\n</code></pre>\n<p>However, the produced hashes are not the same. I have also tried using <code>crypto</code>'s <code>createHmac</code> function, but the hashes produced by it did not match either. Notably, I was unable to tell <code>createHmac</code> how many iterations should be used.</p>\n"},{"tags":["java","python","intellij-idea","pycharm","ide"],"comments":[{"owner":{"account_id":1724698,"reputation":1194,"user_id":1579667,"accept_rate":96,"display_name":"Benj"},"score":0,"creation_date":1466171923,"post_id":28949290,"comment_id":63221675,"body_markdown":"https://www.jetbrains.com/help/idea/2016.1/saving-and-reverting-changes.html","body":"<a href=\"https://www.jetbrains.com/help/idea/2016.1/saving-and-reverting-changes.html\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/2016.1/&hellip;</a>"},{"owner":{"account_id":2042753,"reputation":1366,"user_id":1823536,"accept_rate":58,"display_name":"Cpt. Senkfuss"},"score":0,"creation_date":1616063894,"post_id":28949290,"comment_id":117888273,"body_markdown":"https://www.jetbrains.com/help/idea/2020.3/working-with-source-code.html#auto_save","body":"<a href=\"https://www.jetbrains.com/help/idea/2020.3/working-with-source-code.html#auto_save\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/2020.3/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1424961,"reputation":30720,"user_id":1348743,"display_name":"Javaru"},"down_vote_count":0,"up_vote_count":94,"is_accepted":false,"score":94,"last_activity_date":1560272726,"creation_date":1425930186,"answer_id":28950477,"question_id":28949290,"body_markdown":"It cannot be totally disabled. It is core to the functionality of the IDE and heavily integrated into its operation, including its Open API (for plugins). Turning it off would cause problems with a lot of features.\r\n\r\nYou can disable both `Save files on frame deactivation` and `Save files automatically if idle for x seconds` settings (via *File &gt; Settings &gt; Appearance &amp; Behavior &gt; System Settings*):\r\n\r\n![Screenshot of synchronization settings][1]\r\n\r\n**With those settings disabled, IDEA only auto-saves on a major event such as building, running make, running a test or application, etc.** *&amp;lt;EDIT&gt;It should also be noted that plugin authors have access to the [FileDocumentManager.saveAllDocuments()][2] method that invokes the auto-save. This is also one more reason why removing this functionality would be problematic.&amp;lt;/EDIT&gt;* Scrolling up in a file should not be an event to trigger auto save (unless a third party plugin is doing such). I waited a good 15 minutes to verify - no auto-save. If you are seeing different behavior, I would recommend you open up a bug report (https://youtrack.jetbrains.com). You&#39;ll want to provide as much detail as possible since IDEA 14.0.2 has been out for quite some time and there are no reports of an issue with auto-save.\r\n\r\nNote that I have the *Settings &gt; Editor &gt; General &gt; Editor Tab &gt;* `Mark Modified tabs with asterisk` turned on to verify the file is not being auto-saved. (i.e. the asterisk remains even after a long idle period and when I reactivate the IDEA frame.) **Have you turned that on?** It may be something else besides auto-save that is causing the other tools to see a file change. Enabling the asterisk option would help determine that. \r\n\r\nWhy you really don&#39;t need manually saving\r\n=========================================\r\nIt should also be noted, that you always have access to [Local History][3]. Local History constantly tracks (and records) all changes made to a project. And it allows you to easily revert a file, or an entire directory, back to a previous state (even unsaved ones). So any perceived loss of functionality by not being in full control of when a file is saved is made up for with this functionality. When I first started using IntelliJ IDEA in 2003, I found the auto save functional strange and felt that I lost some control as to determine when I wanted files included in a recompile. But as I used IntelliJ IDEA, I quickly (within a week or two) came to realize that this was a false feeling of control. Between local history, changelists, and the ability to shelf changes, I ultimately had a lot more control while at the same time didn&#39;t waste time trying to figure out why my recent change was not working, only to realize I forgot to save one of the files I changed. I switch from disliking the feature to absolutely loving it. I&#39;d encourage people that see the auto save as a &quot;limitation&quot; or even a &quot;deal breaker&quot; to just try it for a while and see. It will require some changes to your personal workflow, I think in the end you will have a better workflow. I have not missed it in the past 16+ years I&#39;ve been using IDEA.\r\n\r\n**EDIT**\r\n\r\nAre you launching Tomcat via an IntelliJ IDEA run/debug configuration? If so, do you have the &quot;on frame deactivation&quot; option in that Run/Debug configuration set to one of the &quot;Update&quot; options? That would cause the files to change.\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/ha8Im.png\r\n  [2]: https://github.com/JetBrains/intellij-community/blob/master/platform/core-api/src/com/intellij/openapi/fileEditor/FileDocumentManager.java#L75\r\n  [3]: https://www.jetbrains.com/help/idea/local-history.html","title":"Turning off IntelliJ Auto-save","body":"<p>It cannot be totally disabled. It is core to the functionality of the IDE and heavily integrated into its operation, including its Open API (for plugins). Turning it off would cause problems with a lot of features.</p>\n\n<p>You can disable both <code>Save files on frame deactivation</code> and <code>Save files automatically if idle for x seconds</code> settings (via <em>File > Settings > Appearance &amp; Behavior > System Settings</em>):</p>\n\n<p><img src=\"https://i.stack.imgur.com/ha8Im.png\" alt=\"Screenshot of synchronization settings\"></p>\n\n<p><strong>With those settings disabled, IDEA only auto-saves on a major event such as building, running make, running a test or application, etc.</strong> <em>&lt;EDIT>It should also be noted that plugin authors have access to the <a href=\"https://github.com/JetBrains/intellij-community/blob/master/platform/core-api/src/com/intellij/openapi/fileEditor/FileDocumentManager.java#L75\" rel=\"noreferrer\">FileDocumentManager.saveAllDocuments()</a> method that invokes the auto-save. This is also one more reason why removing this functionality would be problematic.&lt;/EDIT></em> Scrolling up in a file should not be an event to trigger auto save (unless a third party plugin is doing such). I waited a good 15 minutes to verify - no auto-save. If you are seeing different behavior, I would recommend you open up a bug report (<a href=\"https://youtrack.jetbrains.com\" rel=\"noreferrer\">https://youtrack.jetbrains.com</a>). You'll want to provide as much detail as possible since IDEA 14.0.2 has been out for quite some time and there are no reports of an issue with auto-save.</p>\n\n<p>Note that I have the <em>Settings > Editor > General > Editor Tab ></em> <code>Mark Modified tabs with asterisk</code> turned on to verify the file is not being auto-saved. (i.e. the asterisk remains even after a long idle period and when I reactivate the IDEA frame.) <strong>Have you turned that on?</strong> It may be something else besides auto-save that is causing the other tools to see a file change. Enabling the asterisk option would help determine that. </p>\n\n<h1>Why you really don't need manually saving</h1>\n\n<p>It should also be noted, that you always have access to <a href=\"https://www.jetbrains.com/help/idea/local-history.html\" rel=\"noreferrer\">Local History</a>. Local History constantly tracks (and records) all changes made to a project. And it allows you to easily revert a file, or an entire directory, back to a previous state (even unsaved ones). So any perceived loss of functionality by not being in full control of when a file is saved is made up for with this functionality. When I first started using IntelliJ IDEA in 2003, I found the auto save functional strange and felt that I lost some control as to determine when I wanted files included in a recompile. But as I used IntelliJ IDEA, I quickly (within a week or two) came to realize that this was a false feeling of control. Between local history, changelists, and the ability to shelf changes, I ultimately had a lot more control while at the same time didn't waste time trying to figure out why my recent change was not working, only to realize I forgot to save one of the files I changed. I switch from disliking the feature to absolutely loving it. I'd encourage people that see the auto save as a \"limitation\" or even a \"deal breaker\" to just try it for a while and see. It will require some changes to your personal workflow, I think in the end you will have a better workflow. I have not missed it in the past 16+ years I've been using IDEA.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>Are you launching Tomcat via an IntelliJ IDEA run/debug configuration? If so, do you have the \"on frame deactivation\" option in that Run/Debug configuration set to one of the \"Update\" options? That would cause the files to change.</p>\n"},{"tags":[],"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1425930560,"creation_date":1425930560,"answer_id":28950590,"question_id":28949290,"body_markdown":"You can disable the recompilation by [enabling Power Save Mode](https://www.jetbrains.com/idea/help/status-bar.html).\r\n\r\n &gt; When Power Save Mode is on, IntelliJ IDEA reduces its functionality to the one of a text editor, by not executing expensive background activities that drain laptop battery. These activities include error highlighting and on-the-fly inspections, autopopup code completion , and **automatic incremental background compilation**.\r\n\r\nAlternatively, or if you think this is a bit too extreme, change the update action for your Tomcat to &quot;Do Nothing&quot;.","title":"Turning off IntelliJ Auto-save","body":"<p>You can disable the recompilation by <a href=\"https://www.jetbrains.com/idea/help/status-bar.html\" rel=\"noreferrer\">enabling Power Save Mode</a>.</p>\n\n<blockquote>\n  <p>When Power Save Mode is on, IntelliJ IDEA reduces its functionality to the one of a text editor, by not executing expensive background activities that drain laptop battery. These activities include error highlighting and on-the-fly inspections, autopopup code completion , and <strong>automatic incremental background compilation</strong>.</p>\n</blockquote>\n\n<p>Alternatively, or if you think this is a bit too extreme, change the update action for your Tomcat to \"Do Nothing\".</p>\n"},{"tags":[],"owner":{"account_id":4094046,"reputation":1930,"user_id":3361335,"accept_rate":15,"display_name":"fresko"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1456821151,"creation_date":1456819739,"answer_id":35717648,"question_id":28949290,"body_markdown":"**The bad new** is: it&#39;s not possible to disable autosaving for intellij &amp; Co. (JetBrains Webstorm and so on). I lost some work because i pressed CTRL-Z few time to take some older code, for mistake i pressed &quot;z&quot; and i couldn&#39;t do anymore CTRL-Y. I cannot keep the file open in other programs because it changes all the time and the other program asks me to refresh hundred times per day...\r\n\r\n**The good new:** there are some workarounds. Just see the following (the references in square brakets point to the bottom of my comment):\r\n\r\nFrom the official intellij support website[1]:\r\n\r\n*&#171;Tuning the autosave behavior*\r\n\r\n*The following options are available for tuning the autosave behavior (File | Settings | Appearance and Behavior | System Settings):*\r\n\r\n*Save files on frame deactivation (i.e. on switching from IntelliJ IDEA to a different application)*\r\n\r\n*Save files automatically if application is idle for N seconds*\r\n\r\n**Note that those are optional autosave triggers, and you cannot turn off autosave completely**.&#187;\r\n\r\nPlease also check the website [2] (bottom of my comment) where you can find other workarounds and more details, as the following:\r\n\r\n*&#171;In Settings  IDE Settings  General*\r\n\r\n*uncheck &quot;Synchronize files on frame activation&quot;  uncheck &quot;Save files on frame deactivation&quot;*\r\n\r\n*if you can, uncheck &quot;Save files if application is idle for&quot;. If it&#39;s greyed out, set it to 6442450 seconds (about 74 days)...&#187;*\r\n\r\nThe last is to install eclipse and choose a dark skin for it. Nothing is perfect but...\r\n\r\n\r\nEDIT: the option described in [2] about setting a big number it&#39;s not necessary, unless something is greyed and you cannot disable the autosaving... I need to test that.\r\n\r\nAh... the next problem will be to find the &quot;save&quot; button/command. In intelliJ Ctrl+S is &quot;Save all&quot; ...\r\n\r\n[1] https://www.jetbrains.com/idea/help/saving-and-reverting-changes.html#d1542336e137\r\n\r\n[2] https://intellij-support.jetbrains.com/hc/en-us/community/posts/207054215-Disabling-autosave\r\n","title":"Turning off IntelliJ Auto-save","body":"<p><strong>The bad new</strong> is: it's not possible to disable autosaving for intellij &amp; Co. (JetBrains Webstorm and so on). I lost some work because i pressed CTRL-Z few time to take some older code, for mistake i pressed \"z\" and i couldn't do anymore CTRL-Y. I cannot keep the file open in other programs because it changes all the time and the other program asks me to refresh hundred times per day...</p>\n\n<p><strong>The good new:</strong> there are some workarounds. Just see the following (the references in square brakets point to the bottom of my comment):</p>\n\n<p>From the official intellij support website[1]:</p>\n\n<p><em>Tuning the autosave behavior</em></p>\n\n<p><em>The following options are available for tuning the autosave behavior (File | Settings | Appearance and Behavior | System Settings):</em></p>\n\n<p><em>Save files on frame deactivation (i.e. on switching from IntelliJ IDEA to a different application)</em></p>\n\n<p><em>Save files automatically if application is idle for N seconds</em></p>\n\n<p><strong>Note that those are optional autosave triggers, and you cannot turn off autosave completely</strong>.</p>\n\n<p>Please also check the website [2] (bottom of my comment) where you can find other workarounds and more details, as the following:</p>\n\n<p><em>In Settings  IDE Settings  General</em></p>\n\n<p><em>uncheck \"Synchronize files on frame activation\"  uncheck \"Save files on frame deactivation\"</em></p>\n\n<p><em>if you can, uncheck \"Save files if application is idle for\". If it's greyed out, set it to 6442450 seconds (about 74 days)...</em></p>\n\n<p>The last is to install eclipse and choose a dark skin for it. Nothing is perfect but...</p>\n\n<p>EDIT: the option described in [2] about setting a big number it's not necessary, unless something is greyed and you cannot disable the autosaving... I need to test that.</p>\n\n<p>Ah... the next problem will be to find the \"save\" button/command. In intelliJ Ctrl+S is \"Save all\" ...</p>\n\n<p>[1] <a href=\"https://www.jetbrains.com/idea/help/saving-and-reverting-changes.html#d1542336e137\" rel=\"noreferrer\">https://www.jetbrains.com/idea/help/saving-and-reverting-changes.html#d1542336e137</a></p>\n\n<p>[2] <a href=\"https://intellij-support.jetbrains.com/hc/en-us/community/posts/207054215-Disabling-autosave\" rel=\"noreferrer\">https://intellij-support.jetbrains.com/hc/en-us/community/posts/207054215-Disabling-autosave</a></p>\n"},{"tags":[],"owner":{"account_id":5283175,"reputation":232,"user_id":4217908,"display_name":"Stefan H&#252;ttemann"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1465910374,"creation_date":1465910374,"answer_id":37813276,"question_id":28949290,"body_markdown":"I think the correct answer was given as a comment from ryanlutgen above: \r\n\r\nThe beaviour of &quot;auto-saving&quot; your file is **not** due to the auto-save options mentioned.\r\n\r\nIJ saves all changes to your *build sources* to automatically *build* the target.\r\n\r\nThis can be turned of in: \r\n\r\n`Preferences -&gt; Build,Execution,Deployment -&gt; Compiler -&gt; Make project automatically`.\r\n\r\n_Note_: now have to initiate the project build manually (e.g. by using an appropriate key-shortcut)\r\n\r\n(All other &quot;auto-save&quot; options just fine-tune the build in auto-save behaviour.)\r\n\r\n ","title":"Turning off IntelliJ Auto-save","body":"<p>I think the correct answer was given as a comment from ryanlutgen above: </p>\n\n<p>The beaviour of \"auto-saving\" your file is <strong>not</strong> due to the auto-save options mentioned.</p>\n\n<p>IJ saves all changes to your <em>build sources</em> to automatically <em>build</em> the target.</p>\n\n<p>This can be turned of in: </p>\n\n<p><code>Preferences -&gt; Build,Execution,Deployment -&gt; Compiler -&gt; Make project automatically</code>.</p>\n\n<p><em>Note</em>: now have to initiate the project build manually (e.g. by using an appropriate key-shortcut)</p>\n\n<p>(All other \"auto-save\" options just fine-tune the build in auto-save behaviour.)</p>\n"},{"tags":[],"owner":{"account_id":5795427,"reputation":116,"user_id":4571380,"display_name":"Niels Boogaard"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1557233968,"creation_date":1557233968,"answer_id":56023212,"question_id":28949290,"body_markdown":"I stumbled upon this as well. Besides all the answers already given, there could be another cause: In my case it was due to the SonarLint plugin I&#39;ve installed. That plugin does automatic analysis of each touched file and will do an auto-safe under the hood.\r\n\r\nWhen I disabled certain file types (for example TypeScript/JavaScript files) for automatic analysis, finally those files weren&#39;t auto saved any more in IntelliJ.\r\n\r\n[![SonarLint settings window to exclude file (types)][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NanPo.png","title":"Turning off IntelliJ Auto-save","body":"<p>I stumbled upon this as well. Besides all the answers already given, there could be another cause: In my case it was due to the SonarLint plugin I've installed. That plugin does automatic analysis of each touched file and will do an auto-safe under the hood.</p>\n\n<p>When I disabled certain file types (for example TypeScript/JavaScript files) for automatic analysis, finally those files weren't auto saved any more in IntelliJ.</p>\n\n<p><a href=\"https://i.stack.imgur.com/NanPo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NanPo.png\" alt=\"SonarLint settings window to exclude file (types)\"></a></p>\n"},{"tags":[],"owner":{"account_id":2093262,"reputation":9483,"user_id":1862590,"display_name":"Sathiamoorthy"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1643294059,"creation_date":1599110735,"answer_id":63717367,"question_id":28949290,"body_markdown":"In the latest **intellij** or **pycharm** ide use the below option for disabling autosave.\r\n\r\nFile -&gt; Settings -&gt; Appearance &amp; Behavior -&gt; System Settings -&gt; Save files when switching to a different application(**Uncheck**)\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KeYjj.png","title":"Turning off IntelliJ Auto-save","body":"<p>In the latest <strong>intellij</strong> or <strong>pycharm</strong> ide use the below option for disabling autosave.</p>\n<p>File -&gt; Settings -&gt; Appearance &amp; Behavior -&gt; System Settings -&gt; Save files when switching to a different application(<strong>Uncheck</strong>)</p>\n<p><a href=\"https://i.stack.imgur.com/KeYjj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KeYjj.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":5833449,"reputation":21,"user_id":15219708,"display_name":"Gaeel Bradshaw"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1613470576,"creation_date":1613470576,"answer_id":66222468,"question_id":28949290,"body_markdown":"If there are any file watchers active (*Preferences&gt;Tools&gt;File Watchers*), make sure to check their *Advanced Options*. Disable any *Auto-save files to trigger the watcher* toggles.\r\n\r\nThis option supersedes the *Autosave* options from *Preferences&gt;Appearance &amp; Behaviour&gt;System Settings*.","title":"Turning off IntelliJ Auto-save","body":"<p>If there are any file watchers active (<em>Preferences&gt;Tools&gt;File Watchers</em>), make sure to check their <em>Advanced Options</em>. Disable any <em>Auto-save files to trigger the watcher</em> toggles.</p>\n<p>This option supersedes the <em>Autosave</em> options from <em>Preferences&gt;Appearance &amp; Behaviour&gt;System Settings</em>.</p>\n"},{"tags":[],"owner":{"account_id":329982,"reputation":915,"user_id":653822,"display_name":"Maxime Peloquin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634925507,"creation_date":1634925507,"answer_id":69681263,"question_id":28949290,"body_markdown":"If you are using flow, you should also disable the auto save there.\r\n\r\nPreferences -&gt; Languages &amp; Frameworks -&gt; Javascript\r\n\r\n[![disable flow autosave][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9euSC.png","title":"Turning off IntelliJ Auto-save","body":"<p>If you are using flow, you should also disable the auto save there.</p>\n<p>Preferences -&gt; Languages &amp; Frameworks -&gt; Javascript</p>\n<p><a href=\"https://i.stack.imgur.com/9euSC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9euSC.png\" alt=\"disable flow autosave\" /></a></p>\n"},{"tags":[],"owner":{"account_id":7760694,"reputation":844,"user_id":5873570,"display_name":"Sof&#237;a"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659421437,"creation_date":1659420663,"answer_id":73202717,"question_id":28949290,"body_markdown":"What worked for me was unchecking the box to save files when switching to a different application or a built-in terminal. Preferences  System Settings \r\n\r\nAccording to the [documentation][1], it does not stop auto-saving all together. But it stops it from doing it all the time - which is at times annoying and unnecessary \r\n\r\n[![IntelliJ Settings][2]][2]\r\n\r\n\r\n  [1]: https://www.jetbrains.com/help/idea/2021.3/saving-and-reverting-changes.html?utm_source=product&amp;utm_medium=link&amp;utm_campaign=IU&amp;utm_content=2021.3\r\n  [2]: https://i.stack.imgur.com/M7goH.png","title":"Turning off IntelliJ Auto-save","body":"<p>What worked for me was unchecking the box to save files when switching to a different application or a built-in terminal. Preferences  System Settings</p>\n<p>According to the <a href=\"https://www.jetbrains.com/help/idea/2021.3/saving-and-reverting-changes.html?utm_source=product&amp;utm_medium=link&amp;utm_campaign=IU&amp;utm_content=2021.3\" rel=\"nofollow noreferrer\">documentation</a>, it does not stop auto-saving all together. But it stops it from doing it all the time - which is at times annoying and unnecessary</p>\n<p><a href=\"https://i.stack.imgur.com/M7goH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/M7goH.png\" alt=\"IntelliJ Settings\" /></a></p>\n"}],"owner":{"account_id":3059600,"reputation":2961,"user_id":2592585,"accept_rate":67,"display_name":"ryanlutgen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69379,"favorite_count":0,"down_vote_count":0,"up_vote_count":86,"accepted_answer_id":28950590,"answer_count":9,"score":86,"last_activity_date":1659421437,"creation_date":1425925862,"question_id":28949290,"body_markdown":"I have done a fair amount of googling about this question and most of the threads I&#39;ve found are 2+ years old, so I am wondering if anything has changed, or if there is a new method to solve the issue pertaining to this topic.\r\n\r\nAs you might know when using IntelliJ (I use 14.0.2), it often autosaves files. For me, when making a change in Java or JavaScript files, its about 2 seconds before the changes are saved.  There are options that one would think should have an effect on this, such as Settings &gt; Appearance &amp; Behavior &gt; System Settings &gt; Synchronization &gt; Save files automatically if application is idle for X sec.  These settings seem to have no effect for me though, and IntelliJ still autosaves, for example if I need to scroll up to remember how a method I am referencing does something.\r\n\r\nThis is really frustrating when I have auto-makes, which mess up TomCat, or watches on files via Grunt, Karma, etc when doing JS development.  Is there a magic setting that they&#39;ve put in recently?  Has anyone figured out how to turn off auto-save, or *actually* delay it?  ","title":"Turning off IntelliJ Auto-save","body":"<p>I have done a fair amount of googling about this question and most of the threads I've found are 2+ years old, so I am wondering if anything has changed, or if there is a new method to solve the issue pertaining to this topic.</p>\n\n<p>As you might know when using IntelliJ (I use 14.0.2), it often autosaves files. For me, when making a change in Java or JavaScript files, its about 2 seconds before the changes are saved.  There are options that one would think should have an effect on this, such as Settings > Appearance &amp; Behavior > System Settings > Synchronization > Save files automatically if application is idle for X sec.  These settings seem to have no effect for me though, and IntelliJ still autosaves, for example if I need to scroll up to remember how a method I am referencing does something.</p>\n\n<p>This is really frustrating when I have auto-makes, which mess up TomCat, or watches on files via Grunt, Karma, etc when doing JS development.  Is there a magic setting that they've put in recently?  Has anyone figured out how to turn off auto-save, or <em>actually</em> delay it?  </p>\n"},{"tags":["java","selenium","automated-tests","testng","line-breaks"],"comments":[{"owner":{"account_id":1833629,"reputation":3580,"user_id":1664430,"accept_rate":42,"display_name":"Ashishkumar Singh"},"score":1,"creation_date":1659421616,"post_id":73202839,"comment_id":129284224,"body_markdown":"Did you try using `\\n` between content of two line or having two `System.out.println()` each having output of one line","body":"Did you try using <code>\\n</code> between content of two line or having two <code>System.out.println()</code> each having output of one line"},{"owner":{"account_id":25872845,"reputation":23,"user_id":19603435,"display_name":"Arunprashath"},"score":0,"creation_date":1659422325,"post_id":73202839,"comment_id":129284428,"body_markdown":"Hi @Ashishkumar Singh, Yes I have two `System.out.println()` - Need a break line between these two lines.","body":"Hi @Ashishkumar Singh, Yes I have two <code>System.out.println()</code> - Need a break line between these two lines."},{"owner":{"account_id":1833629,"reputation":3580,"user_id":1664430,"accept_rate":42,"display_name":"Ashishkumar Singh"},"score":1,"creation_date":1659423622,"post_id":73202839,"comment_id":129284799,"body_markdown":"You can either combine different lines and provide a break line by using `\\n` or you can add one more System.out.println between existing two System.out you have","body":"You can either combine different lines and provide a break line by using <code>\\n</code> or you can add one more System.out.println between existing two System.out you have"}],"owner":{"account_id":25872845,"reputation":23,"user_id":19603435,"display_name":"Arunprashath"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659421374,"creation_date":1659421374,"question_id":73202839,"body_markdown":"I have to print below line in testNG window. I need a break line on 1st row and below text should print on second row.  \r\n\r\n    System.out.println(&quot;Actual : &quot;+actualdropdownvalues.get(i)+&quot; || Expected : &quot;+expecteddropdownvalues.get(i));\r\n\r\nOutput should be like this:\r\n1. //This is first row\r\n2. Actual : || Expected :\r\n\r\n\r\nCan anyone help on this Issue?","title":"Breakline in java","body":"<p>I have to print below line in testNG window. I need a break line on 1st row and below text should print on second row.</p>\n<pre><code>System.out.println(&quot;Actual : &quot;+actualdropdownvalues.get(i)+&quot; || Expected : &quot;+expecteddropdownvalues.get(i));\n</code></pre>\n<p>Output should be like this:</p>\n<ol>\n<li>//This is first row</li>\n<li>Actual : || Expected :</li>\n</ol>\n<p>Can anyone help on this Issue?</p>\n"},{"tags":["java",".net","asp.net-mvc","solr","solrnet"],"owner":{"account_id":1441119,"reputation":420,"user_id":1361256,"display_name":"Sandeepkumar Gupta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1659420513,"creation_date":1659420513,"question_id":73202694,"body_markdown":"I am using Solr 8.2.2.\r\n\r\nGiven the documents in the Solr index. If we have a coordinate_rpt where coordinates are stored and if we pass the below query in the Raw Query Parameters of Solr query dashboard then it sorts the result based on the distance.\r\n\r\nsfield=coordinate_rpt&amp;pt=39.768403,-86.15806&amp;sort=geodist() asc\r\n\r\nsfield=coordinate_rpt =&gt; coordinate_rpt stores a single coordinate in an index and this field as per this query is considered to evaluate the distance\r\n\r\npt=39.768403,-86.15806 =&gt; pt value is the current location coordinates\r\n\r\nsort=geodist() asc =&gt; geodist() is SOLR function query. This function must be using sfield and pt values to evaluate the distance for the corresponding document and sort accordingly.\r\n\r\nRequirement:\r\ne.g.\r\nConsider manager and location entities, so I have documents for locations and managers.\r\nOne manager can have multiple locations so I have multiple locations&#39; coordinates for any given Manager document.\r\nNow I want to sort the managers&#39; list based on the nearest locations.\r\n\r\nIf a manager had only one location then an inbuilt geodist() is enough. No customization is needed here.\r\n\r\nOne way I can fetch all the managers in memory of server-side application (be it asp.net MVC), fetch all the locations, evaluate the distance for each location of a manager and set up the lowest distance at the manager level, then sort the manager list by distance. Moreover, I have paginations so have to slice the result based on the page number requested.\r\nBut all this happens in memory and hits the performance.\r\n\r\nHope I explained the issue. If any queries please comment.\r\nIf any suggestions or workaround or solutions feel free to comment or answer.\r\nThanks in advance.\r\n","title":"Solr documents having multiple coordinates. How to sort such documents based on current location coordinate i.e. distance?","body":"<p>I am using Solr 8.2.2.</p>\n<p>Given the documents in the Solr index. If we have a coordinate_rpt where coordinates are stored and if we pass the below query in the Raw Query Parameters of Solr query dashboard then it sorts the result based on the distance.</p>\n<p>sfield=coordinate_rpt&amp;pt=39.768403,-86.15806&amp;sort=geodist() asc</p>\n<p>sfield=coordinate_rpt =&gt; coordinate_rpt stores a single coordinate in an index and this field as per this query is considered to evaluate the distance</p>\n<p>pt=39.768403,-86.15806 =&gt; pt value is the current location coordinates</p>\n<p>sort=geodist() asc =&gt; geodist() is SOLR function query. This function must be using sfield and pt values to evaluate the distance for the corresponding document and sort accordingly.</p>\n<p>Requirement:\ne.g.\nConsider manager and location entities, so I have documents for locations and managers.\nOne manager can have multiple locations so I have multiple locations' coordinates for any given Manager document.\nNow I want to sort the managers' list based on the nearest locations.</p>\n<p>If a manager had only one location then an inbuilt geodist() is enough. No customization is needed here.</p>\n<p>One way I can fetch all the managers in memory of server-side application (be it asp.net MVC), fetch all the locations, evaluate the distance for each location of a manager and set up the lowest distance at the manager level, then sort the manager list by distance. Moreover, I have paginations so have to slice the result based on the page number requested.\nBut all this happens in memory and hits the performance.</p>\n<p>Hope I explained the issue. If any queries please comment.\nIf any suggestions or workaround or solutions feel free to comment or answer.\nThanks in advance.</p>\n"},{"tags":["java","arraylist","final"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1659066913,"post_id":73161460,"comment_id":129211873,"body_markdown":"Because the `prefix` array reference isn&#39;t changed. Just the contents of the array. Not that you should write code like this. `List&lt;String&gt; flagList = list.stream().map(param -&gt; String.format(&quot;%s_%s_%s&quot;, &quot;NoPrefix&quot;, param, suffix)).collect(Collectors.toList());`","body":"Because the <code>prefix</code> array reference isn&#39;t changed. Just the contents of the array. Not that you should write code like this. <code>List&lt;String&gt; flagList = list.stream().map(param -&gt; String.format(&quot;%s_%s_%s&quot;, &quot;NoPrefix&quot;, param, suffix)).collect(Collectors.toList());</code>"}],"answers":[{"tags":[],"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1659068402,"creation_date":1659067632,"answer_id":73161539,"question_id":73161460,"body_markdown":"&gt; _why can a variable of final array type be modified?_\r\n\r\nIt can&#39;t, even though it looks like it can.\r\n\r\nThe declaration is below, which defines &quot;prefix&quot; as an array:\r\n```\r\nfinal String[] prefix\r\n```\r\n\r\nFirst, edit the code to include two println() calls right after the declaration, like this:\r\n```\r\nfinal String[] prefix = {&quot;prefix_&quot;};\r\nSystem.out.println(&quot;prefix: &quot; + prefix);\r\nSystem.out.println(prefix[0]);\r\n```\r\nAnd at the end, add a second println() next to the one you already had, like this:\r\n```\r\nSystem.out.println(&quot;prefix: &quot; + prefix);\r\nSystem.out.println(prefix[0]);\r\n```\r\n\r\nIf you run that code, you&#39;ll see that the object [hashCode](https://docs.oracle.com/javase/8/docs/api/java/util/Objects.html#hashCode-java.lang.Object-) when printing `prefix` will be the same object each time. The thing that _changes_ then is not what &quot;prefix&quot; references  that remains the same, it&#39;s the same array as before. Instead, what you&#39;re doing is changing something _inside_ the array, which is different from the array itself.\r\n\r\nHere are the relevant lines from a local run showing that the object reference remains the same, but the value for &quot;prefix[0]&quot; changes:\r\n```\r\nprefix: [Ljava.lang.String;@5ca881b5\r\nprefix_\r\nprefix: [Ljava.lang.String;@5ca881b5\r\nNoPrefix_\r\n```\r\n\r\nIf we try to assign an entirely new array to &quot;prefix&quot;, then the compiler will show an error &#160;it knows &quot;prefix&quot; was defined as final.\r\n```\r\nprefix = new String[]{&quot;new&quot;};\r\n\r\ncannot assign a value to final variable prefix\r\n```\r\n\r\n---\r\n\r\nIf you&#39;re looking for a way to prevent changes to the data, and if it&#39;s possible to use a List (instead of an array), you could use\r\n[Collections.unmodifiableList()](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collections.html#unmodifiableList(java.util.List)):\r\n\r\n&gt; _Returns an unmodifiable view of the specified list. Query operations on the returned list &quot;read through&quot; to the specified list, and attempts to modify the returned list, whether direct or via its iterator, result in an UnsupportedOperationException._\r\n","title":"Why can Java final array variable be modified","body":"<blockquote>\n<p><em>why can a variable of final array type be modified?</em></p>\n</blockquote>\n<p>It can't, even though it looks like it can.</p>\n<p>The declaration is below, which defines &quot;prefix&quot; as an array:</p>\n<pre><code>final String[] prefix\n</code></pre>\n<p>First, edit the code to include two println() calls right after the declaration, like this:</p>\n<pre><code>final String[] prefix = {&quot;prefix_&quot;};\nSystem.out.println(&quot;prefix: &quot; + prefix);\nSystem.out.println(prefix[0]);\n</code></pre>\n<p>And at the end, add a second println() next to the one you already had, like this:</p>\n<pre><code>System.out.println(&quot;prefix: &quot; + prefix);\nSystem.out.println(prefix[0]);\n</code></pre>\n<p>If you run that code, you'll see that the object <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Objects.html#hashCode-java.lang.Object-\" rel=\"nofollow noreferrer\">hashCode</a> when printing <code>prefix</code> will be the same object each time. The thing that <em>changes</em> then is not what &quot;prefix&quot; references  that remains the same, it's the same array as before. Instead, what you're doing is changing something <em>inside</em> the array, which is different from the array itself.</p>\n<p>Here are the relevant lines from a local run showing that the object reference remains the same, but the value for &quot;prefix[0]&quot; changes:</p>\n<pre><code>prefix: [Ljava.lang.String;@5ca881b5\nprefix_\nprefix: [Ljava.lang.String;@5ca881b5\nNoPrefix_\n</code></pre>\n<p>If we try to assign an entirely new array to &quot;prefix&quot;, then the compiler will show an error it knows &quot;prefix&quot; was defined as final.</p>\n<pre><code>prefix = new String[]{&quot;new&quot;};\n\ncannot assign a value to final variable prefix\n</code></pre>\n<hr />\n<p>If you're looking for a way to prevent changes to the data, and if it's possible to use a List (instead of an array), you could use\n<a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collections.html#unmodifiableList(java.util.List)\" rel=\"nofollow noreferrer\">Collections.unmodifiableList()</a>:</p>\n<blockquote>\n<p><em>Returns an unmodifiable view of the specified list. Query operations on the returned list &quot;read through&quot; to the specified list, and attempts to modify the returned list, whether direct or via its iterator, result in an UnsupportedOperationException.</em></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3898802,"reputation":46,"user_id":3227135,"display_name":"Vinit Vyas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1659068797,"creation_date":1659068797,"answer_id":73161640,"question_id":73161460,"body_markdown":"So a final array means that the array variable which is actually a reference to an object, cannot be changed to refer to anything else, but the members of the array can be modified\r\n\r\nrefer below link for more information.\r\nhttps://www.geeksforgeeks.org/final-arrays-in-java/\r\n\r\nAs per description\r\nfor example\r\n\r\n    final String[] arr = new String[10];\r\n    list.stream().map(ele -&gt; {\r\n    \r\n        arr[0] = ele.getName(); // this will work as you are updating member of array\r\n        arr = new String[5]; // this will not work as you are changing whole array object instead of changing member of array object.\r\n    \r\n    }).collect(Collectors.toList());\r\n\r\n\r\nthe same thing happen when you use any final collection there.","title":"Why can Java final array variable be modified","body":"<p>So a final array means that the array variable which is actually a reference to an object, cannot be changed to refer to anything else, but the members of the array can be modified</p>\n<p>refer below link for more information.\n<a href=\"https://www.geeksforgeeks.org/final-arrays-in-java/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/final-arrays-in-java/</a></p>\n<p>As per description\nfor example</p>\n<pre><code>final String[] arr = new String[10];\nlist.stream().map(ele -&gt; {\n\n    arr[0] = ele.getName(); // this will work as you are updating member of array\n    arr = new String[5]; // this will not work as you are changing whole array object instead of changing member of array object.\n\n}).collect(Collectors.toList());\n</code></pre>\n<p>the same thing happen when you use any final collection there.</p>\n"}],"owner":{"account_id":19724411,"reputation":33,"user_id":14441286,"display_name":" 9am"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73161640,"answer_count":2,"score":0,"last_activity_date":1659419893,"creation_date":1659066796,"question_id":73161460,"body_markdown":"I know that writing a lambda in Java 8 to use a variable requires final type, but why can a variable of final array type be modified?\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n        final String[] prefix = {&quot;prefix_&quot;};\r\n        String suffix = &quot;_suffix&quot;;\r\n\r\n        List&lt;Integer&gt; list = Arrays.asList(1005, 1006, 1007, 1009);\r\n        List&lt;String&gt; flagList = list.stream().map(param -&gt; {\r\n            prefix[0] = &quot;NoPrefix_&quot;;\r\n            String flag = prefix[0] + param + suffix;\r\n            return flag;\r\n        }).collect(Collectors.toList());\r\n\r\n        System.out.println(flagList);\r\n\r\n        System.out.println(prefix[0]);\r\n    }\r\n    \r\n```\r\n\r\nresult:\r\n```bash\r\n[NoPrefix_1005_suffix, NoPrefix_1006_suffix, NoPrefix_1007_suffix, NoPrefix_1009_suffix]\r\nNoPrefix_\r\n\r\n```","title":"Why can Java final array variable be modified","body":"<p>I know that writing a lambda in Java 8 to use a variable requires final type, but why can a variable of final array type be modified?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n        final String[] prefix = {&quot;prefix_&quot;};\n        String suffix = &quot;_suffix&quot;;\n\n        List&lt;Integer&gt; list = Arrays.asList(1005, 1006, 1007, 1009);\n        List&lt;String&gt; flagList = list.stream().map(param -&gt; {\n            prefix[0] = &quot;NoPrefix_&quot;;\n            String flag = prefix[0] + param + suffix;\n            return flag;\n        }).collect(Collectors.toList());\n\n        System.out.println(flagList);\n\n        System.out.println(prefix[0]);\n    }\n    \n</code></pre>\n<p>result:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>[NoPrefix_1005_suffix, NoPrefix_1006_suffix, NoPrefix_1007_suffix, NoPrefix_1009_suffix]\nNoPrefix_\n\n</code></pre>\n"},{"tags":["java","jar","classpath","classloader"],"answers":[{"tags":[],"owner":{"account_id":371054,"reputation":24474,"user_id":719363,"accept_rate":75,"display_name":"Alex Gitelman"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1306204934,"creation_date":1306204934,"answer_id":6105180,"question_id":6105124,"body_markdown":"Classloader will load classes from the jar that happened to be in the classpath first.\r\nNormally, incompatible versions of library will have difference in packages,\r\nBut in unlikely case they really incompatible and can&#39;t be replaced with one - try jarjar.","title":"Java, Classpath, Classloading =&gt; Multiple Versions of the same jar/project","body":"<p>Classloader will load classes from the jar that happened to be in the classpath first.\nNormally, incompatible versions of library will have difference in packages,\nBut in unlikely case they really incompatible and can't be replaced with one - try jarjar.</p>\n"},{"tags":[],"owner":{"account_id":2785,"reputation":76174,"user_id":3916,"accept_rate":100,"display_name":"Vineet Reynolds"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1306206823,"creation_date":1306206823,"answer_id":6105323,"question_id":6105124,"body_markdown":"Classloaders load class on demand. This means that the class required first by your application and related libraries would be loaded before other classes; the request to load the dependent classes is typically issued during the loading and linking process of a depending class.\r\n\r\nYou are likely to encounter `LinkageError`s stating that duplicate class definitions have been encountered for classloaders typically do not attempt to determine which class should be loaded first (if there are two or more classes of the same name present in the classpath of the loader). Sometimes, the classloader will load the first class occurring in the classpath and ignore the duplicate classes, but this depends on the implementation of the loader.\r\n\r\nThe recommended practice to resolve such kind of errors is to utilize a separate classloader for each set of libraries that have conflicting dependencies. That way, if a classloader attempts to load classes from a library, the dependent classes would be loaded by the same classloader that does not have access to the other libraries and dependencies.","title":"Java, Classpath, Classloading =&gt; Multiple Versions of the same jar/project","body":"<p>Classloaders load class on demand. This means that the class required first by your application and related libraries would be loaded before other classes; the request to load the dependent classes is typically issued during the loading and linking process of a depending class.</p>\n\n<p>You are likely to encounter <code>LinkageError</code>s stating that duplicate class definitions have been encountered for classloaders typically do not attempt to determine which class should be loaded first (if there are two or more classes of the same name present in the classpath of the loader). Sometimes, the classloader will load the first class occurring in the classpath and ignore the duplicate classes, but this depends on the implementation of the loader.</p>\n\n<p>The recommended practice to resolve such kind of errors is to utilize a separate classloader for each set of libraries that have conflicting dependencies. That way, if a classloader attempts to load classes from a library, the dependent classes would be loaded by the same classloader that does not have access to the other libraries and dependencies.</p>\n"},{"tags":[],"owner":{"account_id":262720,"reputation":10054,"user_id":547779,"accept_rate":83,"display_name":"Tarlog"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1306224917,"creation_date":1306224917,"answer_id":6107529,"question_id":6105124,"body_markdown":"Each classload picks exactly one class. Usually the first one found.\r\n\r\n[OSGi][1] aims to solve the problem of multiple versions of the same jar. [Equinox][2] and [Apache Felix][3] are the common open-source implementations for OSGi. \r\n\r\n\r\n  [1]: http://www.osgi.org/\r\n  [2]: http://www.eclipse.org/equinox/\r\n  [3]: http://felix.apache.org/","title":"Java, Classpath, Classloading =&gt; Multiple Versions of the same jar/project","body":"<p>Each classload picks exactly one class. Usually the first one found.</p>\n\n<p><a href=\"http://www.osgi.org/\" rel=\"noreferrer\">OSGi</a> aims to solve the problem of multiple versions of the same jar. <a href=\"http://www.eclipse.org/equinox/\" rel=\"noreferrer\">Equinox</a> and <a href=\"http://felix.apache.org/\" rel=\"noreferrer\">Apache Felix</a> are the common open-source implementations for OSGi. </p>\n"},{"tags":[],"owner":{"account_id":393766,"reputation":1438,"user_id":755798,"display_name":"Luca Putzu"},"down_vote_count":0,"up_vote_count":61,"is_accepted":true,"score":61,"last_activity_date":1333043193,"creation_date":1306228057,"answer_id":6108133,"question_id":6105124,"body_markdown":"Classloader related problems are a quite complex matter.\r\nYou should in any case keep in mind some facts:\r\n\r\n* Classloaders in an application are usually more than a single one. The bootstrap class loader delegates to the appropriate. When you instantiate a new class the more specific classloader is invoked. If it does not find a reference to the class you are trying to load, it delegates to its parent, and so on, until you get to the bootstrap class loader. If none of them find a reference to the class you are trying to load you get a ClassNotFoundException.\r\n\r\n* If you have two classes with the same binary name, searchable by the same classloader, and you want to know which one of them you are loading, you can only inspect the way that specific classloader tries to resolve a class name.\r\n\r\n* According to the java language specification, there is not a uniqueness constraint for a class binary name, but as far as I can see, it should be unique for each classloader.\r\n\r\nI can figure out a way to load two classes with the same binary name, and it involves to have them loaded (and all their dependencies) by two different classloaders overriding default behaviour.\r\nA rough example:\r\n\r\n\r\n        ClassLoader loaderA = new MyClassLoader(libPathOne);\r\n        ClassLoader loaderB = new MyClassLoader(libPathTwo);\r\n        Object1 obj1 = loaderA.loadClass(&quot;first.class.binary.name&quot;, true)\r\n        Object2 obj2 = loaderB.loadClass(&quot;second.class.binary.name&quot;, true);\r\n\r\nI always found classloader customization a tricky task. I&#39;d rather suggest to avoid multiple\r\nincompatible dependencies if possible.\r\n","title":"Java, Classpath, Classloading =&gt; Multiple Versions of the same jar/project","body":"<p>Classloader related problems are a quite complex matter.\nYou should in any case keep in mind some facts:</p>\n\n<ul>\n<li><p>Classloaders in an application are usually more than a single one. The bootstrap class loader delegates to the appropriate. When you instantiate a new class the more specific classloader is invoked. If it does not find a reference to the class you are trying to load, it delegates to its parent, and so on, until you get to the bootstrap class loader. If none of them find a reference to the class you are trying to load you get a ClassNotFoundException.</p></li>\n<li><p>If you have two classes with the same binary name, searchable by the same classloader, and you want to know which one of them you are loading, you can only inspect the way that specific classloader tries to resolve a class name.</p></li>\n<li><p>According to the java language specification, there is not a uniqueness constraint for a class binary name, but as far as I can see, it should be unique for each classloader.</p></li>\n</ul>\n\n<p>I can figure out a way to load two classes with the same binary name, and it involves to have them loaded (and all their dependencies) by two different classloaders overriding default behaviour.\nA rough example:</p>\n\n<pre><code>    ClassLoader loaderA = new MyClassLoader(libPathOne);\n    ClassLoader loaderB = new MyClassLoader(libPathTwo);\n    Object1 obj1 = loaderA.loadClass(\"first.class.binary.name\", true)\n    Object2 obj2 = loaderB.loadClass(\"second.class.binary.name\", true);\n</code></pre>\n\n<p>I always found classloader customization a tricky task. I'd rather suggest to avoid multiple\nincompatible dependencies if possible.</p>\n"},{"tags":[],"owner":{"account_id":3707462,"reputation":71,"user_id":3085580,"display_name":"Pankaj Kalra"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1556132183,"creation_date":1556126462,"answer_id":55835452,"question_id":6105124,"body_markdown":"You can use the `URLClassLoader` for require to load the classes from a diff-2 version of jars:\r\n\r\n    URLClassLoader loader1 = new URLClassLoader(new URL[] {new File(&quot;httpclient-v1.jar&quot;).toURL()}, Thread.currentThread().getContextClassLoader());\r\n    URLClassLoader loader2 = new URLClassLoader(new URL[] {new File(&quot;httpclient-v2.jar&quot;).toURL()}, Thread.currentThread().getContextClassLoader());\r\n    \r\n    Class&lt;?&gt; c1 = loader1.loadClass(&quot;com.abc.Hello&quot;);\r\n    \r\n    Class&lt;?&gt; c2 = loader2.loadClass(&quot;com.abc.Hello&quot;);\r\n    \r\n    BaseInterface i1 = (BaseInterface) c1.newInstance();\r\n    \r\n    BaseInterface i2 = (BaseInterface) c2.newInstance();","title":"Java, Classpath, Classloading =&gt; Multiple Versions of the same jar/project","body":"<p>You can use the <code>URLClassLoader</code> for require to load the classes from a diff-2 version of jars:</p>\n\n<pre><code>URLClassLoader loader1 = new URLClassLoader(new URL[] {new File(\"httpclient-v1.jar\").toURL()}, Thread.currentThread().getContextClassLoader());\nURLClassLoader loader2 = new URLClassLoader(new URL[] {new File(\"httpclient-v2.jar\").toURL()}, Thread.currentThread().getContextClassLoader());\n\nClass&lt;?&gt; c1 = loader1.loadClass(\"com.abc.Hello\");\n\nClass&lt;?&gt; c2 = loader2.loadClass(\"com.abc.Hello\");\n\nBaseInterface i1 = (BaseInterface) c1.newInstance();\n\nBaseInterface i2 = (BaseInterface) c2.newInstance();\n</code></pre>\n"}],"owner":{"account_id":806209,"reputation":2339,"user_id":564907,"accept_rate":80,"display_name":"jens"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99465,"favorite_count":0,"down_vote_count":0,"up_vote_count":135,"accepted_answer_id":6108133,"answer_count":5,"score":135,"last_activity_date":1659419557,"creation_date":1306204122,"question_id":6105124,"body_markdown":"I know this may be a silly question for experienced coders. But I have a library (an http client) that some of the other frameworks/jars used in my project require. But all of them require different major versions like:\r\n\r\n    httpclient-v1.jar =&gt; Required by cralwer.jar\r\n    httpclient-v2.jar =&gt; Required by restapi.jar\r\n    httpclient-v3.jar =&gt; required by foobar.jar\r\n\r\nIs the classloader intelligent enough to seperate them somehow? Most likely not? How does the Classloader handle this, in case a Class is the same in all three jars. Which one is loaded and why? \r\n\r\nDoes the Classloader only pickup exactly one jar or does it mix classes arbitrarily? So for example if a class is loaded from Version-1.jar, all other classes loaded from the same classloader will all go into the same jar? \r\n\r\nHow do you handle this problem?\r\n\r\nIs there some trick to somehow &quot;incorporate&quot; the jars into the &quot;required.jar&quot; so that the are seen as &quot;one unit/package&quot; by the `Classloader`, or somehow linked?\r\n","title":"Java, Classpath, Classloading =&gt; Multiple Versions of the same jar/project","body":"<p>I know this may be a silly question for experienced coders. But I have a library (an http client) that some of the other frameworks/jars used in my project require. But all of them require different major versions like:</p>\n\n<pre><code>httpclient-v1.jar =&gt; Required by cralwer.jar\nhttpclient-v2.jar =&gt; Required by restapi.jar\nhttpclient-v3.jar =&gt; required by foobar.jar\n</code></pre>\n\n<p>Is the classloader intelligent enough to seperate them somehow? Most likely not? How does the Classloader handle this, in case a Class is the same in all three jars. Which one is loaded and why? </p>\n\n<p>Does the Classloader only pickup exactly one jar or does it mix classes arbitrarily? So for example if a class is loaded from Version-1.jar, all other classes loaded from the same classloader will all go into the same jar? </p>\n\n<p>How do you handle this problem?</p>\n\n<p>Is there some trick to somehow \"incorporate\" the jars into the \"required.jar\" so that the are seen as \"one unit/package\" by the <code>Classloader</code>, or somehow linked?</p>\n"},{"tags":["java","json","jackson","jackson-databind"],"comments":[{"owner":{"account_id":4809624,"reputation":3467,"user_id":3883475,"accept_rate":85,"display_name":"Ironluca"},"score":0,"creation_date":1659428695,"post_id":73202491,"comment_id":129286422,"body_markdown":"I assume you have access to the Method object of the above method, you could try https://docs.oracle.com/javase/8/docs/api/java/lang/reflect/Method.html#getGenericParameterTypes--  to get the parameter type through reflection. For a somewhat similar example, refer https://github.com/FasterXML/jackson-core/blob/2.14/src/main/java/com/fasterxml/jackson/core/type/TypeReference.java","body":"I assume you have access to the Method object of the above method, you could try <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/reflect/Method.html#getGenericParameterTypes--\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/lang/reflect/&hellip;</a>  to get the parameter type through reflection. For a somewhat similar example, refer <a href=\"https://github.com/FasterXML/jackson-core/blob/2.14/src/main/java/com/fasterxml/jackson/core/type/TypeReference.java\" rel=\"nofollow noreferrer\">github.com/FasterXML/jackson-core/blob/2.14/src/main/java/co&zwnj;&#8203;m/&hellip;</a>"},{"owner":{"account_id":25954079,"reputation":33,"user_id":19671668,"display_name":"Bishal Ghosh"},"score":0,"creation_date":1659506837,"post_id":73202491,"comment_id":129307921,"body_markdown":"I already referred to these documents. I didn&#39;t find any solutions.","body":"I already referred to these documents. I didn&#39;t find any solutions."},{"owner":{"account_id":4809624,"reputation":3467,"user_id":3883475,"accept_rate":85,"display_name":"Ironluca"},"score":0,"creation_date":1659538713,"post_id":73202491,"comment_id":129319268,"body_markdown":"From the method getGenericParameterTypes. Extend TypeReference and return the Type obtained from the method from getType, you could try and check","body":"From the method getGenericParameterTypes. Extend TypeReference and return the Type obtained from the method from getType, you could try and check"}],"owner":{"account_id":25954079,"reputation":33,"user_id":19671668,"display_name":"Bishal Ghosh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":161,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1659419116,"creation_date":1659419116,"question_id":73202491,"body_markdown":"Class:\r\n```java\r\n@Data\r\npublic class Dummy {\r\n   private Integer id;\r\n   private String name;\r\n}\r\n```\r\nMethod:\r\n```java\r\npublic void m(List&lt;List&lt;Dummy&gt;&gt; object) {\r\n\r\n}\r\n```\r\nJSON:\r\n```\r\n[\r\n    [\r\n        {\r\n            &quot;id&quot; : 1,\r\n            &quot;name&quot;: &quot;John&quot;\r\n        }\r\n    ],\r\n    [\r\n        {\r\n            &quot;id&quot; : 2,\r\n            &quot;name&quot;: &quot;Bryan&quot;\r\n        }\r\n    ]\r\n]\r\n```\r\n\r\nNow, my question is -\r\n\r\nI am currently building a framework. So, I get this method at runtime.\r\n\r\nI am currently parsing the JSON using Jackson Library through `new ObjectMapper().readValue(json, new TypeReference&lt;List&lt;List&lt;Dummy&gt;&gt;&gt;(){})`. It is possible because I am giving the generic type to `TypeReference` beforehand, which will not be the case because I would not be knowing the Type before. It will come to me in the runtime.\r\n\r\nHow to fetch the type from the method and then pass it into the generics of the  `TypeReference` in runtime using reflection?\r\n\r\nI tried something like this - \r\n```java\r\nprivate &lt;T&gt; T testObject(T object, String json) throws JsonProcessingException {\r\n     return (T) new ObjectMapper().readValue(json, new TypeReference&lt;T&gt;(){});\r\n}\r\n\r\n\r\nList&lt;List&lt;Dummy&gt;&gt; obj = (List&lt;List&lt;Dummy&gt;&gt;) testObject((ParameterizedType)methodParam[i].getParameterizedType(), json)\r\n```\r\n\r\nBut still I am getting as List&lt;List&lt;LinkedHashmap&lt;String, String&gt;&gt;&gt; something like this.\r\n\r\nCan someone help me out on this?","title":"How can I fetch a Type from Method Parameter and then pass it into the Generic Class in java?","body":"<p>Class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\npublic class Dummy {\n   private Integer id;\n   private String name;\n}\n</code></pre>\n<p>Method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void m(List&lt;List&lt;Dummy&gt;&gt; object) {\n\n}\n</code></pre>\n<p>JSON:</p>\n<pre><code>[\n    [\n        {\n            &quot;id&quot; : 1,\n            &quot;name&quot;: &quot;John&quot;\n        }\n    ],\n    [\n        {\n            &quot;id&quot; : 2,\n            &quot;name&quot;: &quot;Bryan&quot;\n        }\n    ]\n]\n</code></pre>\n<p>Now, my question is -</p>\n<p>I am currently building a framework. So, I get this method at runtime.</p>\n<p>I am currently parsing the JSON using Jackson Library through <code>new ObjectMapper().readValue(json, new TypeReference&lt;List&lt;List&lt;Dummy&gt;&gt;&gt;(){})</code>. It is possible because I am giving the generic type to <code>TypeReference</code> beforehand, which will not be the case because I would not be knowing the Type before. It will come to me in the runtime.</p>\n<p>How to fetch the type from the method and then pass it into the generics of the  <code>TypeReference</code> in runtime using reflection?</p>\n<p>I tried something like this -</p>\n<pre class=\"lang-java prettyprint-override\"><code>private &lt;T&gt; T testObject(T object, String json) throws JsonProcessingException {\n     return (T) new ObjectMapper().readValue(json, new TypeReference&lt;T&gt;(){});\n}\n\n\nList&lt;List&lt;Dummy&gt;&gt; obj = (List&lt;List&lt;Dummy&gt;&gt;) testObject((ParameterizedType)methodParam[i].getParameterizedType(), json)\n</code></pre>\n<p>But still I am getting as List&lt;List&lt;LinkedHashmap&lt;String, String&gt;&gt;&gt; something like this.</p>\n<p>Can someone help me out on this?</p>\n"},{"tags":["java","spring-boot","google-cloud-storage"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1659256055,"post_id":73180928,"comment_id":129247362,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":15760814,"reputation":68963,"user_id":11372593,"display_name":"guillaume blaquiere"},"score":0,"creation_date":1659299213,"post_id":73180928,"comment_id":129256284,"body_markdown":"WHat&#39;s your authentication mode? Did you change something?","body":"WHat&#39;s your authentication mode? Did you change something?"},{"owner":{"account_id":22314163,"reputation":1,"user_id":16537763,"display_name":"Aravinth kumar"},"score":0,"creation_date":1659419331,"post_id":73180928,"comment_id":129283707,"body_markdown":"I have changed the project and bucket name in the existing code that i have used before","body":"I have changed the project and bucket name in the existing code that i have used before"}],"owner":{"account_id":22314163,"reputation":1,"user_id":16537763,"display_name":"Aravinth kumar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":186,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659418999,"creation_date":1659245867,"question_id":73180928,"body_markdown":"am getting the below error when i try to upload with rest api especially with spring boot\r\n, i have used the code earlier i created to do the same with rest api but now its shows like this as well as i have enabled billing for the storage account. I can upload objects with other rest api services with express and python flask \r\n\r\n\r\ncom.google.api.client.googleapis.json.GoogleJsonResponseException: 403 Forbidden\r\nPOST https://storage.googleapis.com/upload/storage/v1/b/pdf-split-ingestion/o?projection=full&amp;uploadType=multipart\r\n\r\n{\r\n  &quot;code&quot; : 403,\r\n  &quot;errors&quot; : [ {\r\n    &quot;domain&quot; : &quot;global&quot;,\r\n    &quot;location&quot; : &quot;Authorization&quot;,\r\n    &quot;locationType&quot; : &quot;header&quot;,\r\n    &quot;message&quot; : &quot;The account for bucket \\&quot;pdf-split-ingestion\\&quot; has not enabled billing.&quot;,\r\n    &quot;reason&quot; : &quot;accountDisabled&quot;\r\n  } ],\r\n  &quot;message&quot; : &quot;The account for bucket \\&quot;pdf-split-ingestion\\&quot; has not enabled billing.&quot;\r\n}\r\nCode:\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;&quot;)\r\n    public class Controller {\r\n\r\n    @Autowired\r\n    private Repo repo;\r\n\r\n    String projectId = &quot;spring-b-357511&quot;;\r\n    String bucketName = &quot;pdf-split-ingestion&quot;;\r\n    Storage storage = StorageOptions.newBuilder().setProjectId(projectId).build().getService();\r\n    @PostMapping(&quot;/upload-file&quot;)\r\n    public ResponseEntity&lt;String&gt; uploadFile1(@RequestParam(&quot;file&quot;)MultipartFile file){\r\n        String Name = file.getOriginalFilename();\r\n        if (file.isEmpty()){\r\n            return ResponseEntity.status(HttpStatus.BAD_REQUEST).body(&quot;File is missing in request&quot;);\r\n        }\r\n\r\n        try{\r\n            InputStream is = file.getInputStream();\r\n            byte data[] = new byte[is.available()];\r\n            is.read(data);\r\n            BlobId blobId = BlobId.of(bucketName, file.getOriginalFilename());\r\n            BlobInfo blobInfo = BlobInfo.newBuilder(blobId).build();\r\n            storage.create(blobInfo,data);\r\n\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        Model response = new Model();\r\n        repo.save(response);\r\n        return ResponseEntity.ok(&quot;File uploaded Successfully&quot;);\r\n   }\r\n\r\n\r\n}\r\n","title":"Unable to upload object to GCP storage via spring boot rest api","body":"<p>am getting the below error when i try to upload with rest api especially with spring boot\n, i have used the code earlier i created to do the same with rest api but now its shows like this as well as i have enabled billing for the storage account. I can upload objects with other rest api services with express and python flask</p>\n<p>com.google.api.client.googleapis.json.GoogleJsonResponseException: 403 Forbidden\nPOST <a href=\"https://storage.googleapis.com/upload/storage/v1/b/pdf-split-ingestion/o?projection=full&amp;uploadType=multipart\" rel=\"nofollow noreferrer\">https://storage.googleapis.com/upload/storage/v1/b/pdf-split-ingestion/o?projection=full&amp;uploadType=multipart</a></p>\n<p>{\n&quot;code&quot; : 403,\n&quot;errors&quot; : [ {\n&quot;domain&quot; : &quot;global&quot;,\n&quot;location&quot; : &quot;Authorization&quot;,\n&quot;locationType&quot; : &quot;header&quot;,\n&quot;message&quot; : &quot;The account for bucket &quot;pdf-split-ingestion&quot; has not enabled billing.&quot;,\n&quot;reason&quot; : &quot;accountDisabled&quot;\n} ],\n&quot;message&quot; : &quot;The account for bucket &quot;pdf-split-ingestion&quot; has not enabled billing.&quot;\n}\nCode:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;&quot;)\npublic class Controller {\n\n@Autowired\nprivate Repo repo;\n\nString projectId = &quot;spring-b-357511&quot;;\nString bucketName = &quot;pdf-split-ingestion&quot;;\nStorage storage = StorageOptions.newBuilder().setProjectId(projectId).build().getService();\n@PostMapping(&quot;/upload-file&quot;)\npublic ResponseEntity&lt;String&gt; uploadFile1(@RequestParam(&quot;file&quot;)MultipartFile file){\n    String Name = file.getOriginalFilename();\n    if (file.isEmpty()){\n        return ResponseEntity.status(HttpStatus.BAD_REQUEST).body(&quot;File is missing in request&quot;);\n    }\n\n    try{\n        InputStream is = file.getInputStream();\n        byte data[] = new byte[is.available()];\n        is.read(data);\n        BlobId blobId = BlobId.of(bucketName, file.getOriginalFilename());\n        BlobInfo blobInfo = BlobInfo.newBuilder(blobId).build();\n        storage.create(blobInfo,data);\n\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n    Model response = new Model();\n    repo.save(response);\n    return ResponseEntity.ok(&quot;File uploaded Successfully&quot;);\n</code></pre>\n<p>}</p>\n<p>}</p>\n"},{"tags":["java","log4j","weblogic","log4j2","weblogic12c"],"comments":[{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1659344632,"post_id":73189307,"comment_id":129264138,"body_markdown":"That is done to not flood the console. If you want the details, check the log files. However, I think &quot;why&quot; is not actually the question you wanted to ask. Please rephrase your question so it is clear what you actually want to achieve.","body":"That is done to not flood the console. If you want the details, check the log files. However, I think &quot;why&quot; is not actually the question you wanted to ask. Please rephrase your question so it is clear what you actually want to achieve."}],"answers":[{"tags":[],"owner":{"account_id":8415430,"reputation":2566,"user_id":6316044,"display_name":"Emmanuel Collin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659341737,"creation_date":1659341737,"answer_id":73190716,"question_id":73189307,"body_markdown":"By default, the stack trace depth is set to 5 lines, only for stdout.\r\nYou can update this parameter in the admin console for instance : Servers/&lt;server name&gt;/logging/Advanced, parameter &quot;stdout Stack Trace Depth&quot;  \r\nSet it to -1 to see complete stack traces.","title":"Logs are getting truncated and showing this &quot; Truncated. see log file for complete stacktrace&quot; in weblogic console?","body":"<p>By default, the stack trace depth is set to 5 lines, only for stdout.\nYou can update this parameter in the admin console for instance : Servers//logging/Advanced, parameter &quot;stdout Stack Trace Depth&quot;<br />\nSet it to -1 to see complete stack traces.</p>\n"}],"owner":{"account_id":21805359,"reputation":1,"user_id":16103631,"display_name":"nallim"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1249,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1659418985,"creation_date":1659333182,"question_id":73189307,"body_markdown":"I am using WebLogic Console to see logs but my logs are truncated and showing this message \r\n\r\n&gt; Truncated. see log file for complete stacktrace\r\n\r\nHow to show logs for exception stacktrace without truncating. For logs, I am using log4j2.xml file configuration.\r\n\r\nPlease refer the below screenshot and Code.\r\nAnyone please give me a solution or suggestion.\r\n\r\n    public void printStackTrace(int level, Throwable e) {\r\n        ByteArrayOutputStream ops = new ByteArrayOutputStream();\r\n        PrintStream ps = new PrintStream(ops);\r\n        e.printStackTrace(ps);\r\n        logger.error(e);\r\n    }\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wIFbF.png","title":"Logs are getting truncated and showing this &quot; Truncated. see log file for complete stacktrace&quot; in weblogic console?","body":"<p>I am using WebLogic Console to see logs but my logs are truncated and showing this message</p>\n<blockquote>\n<p>Truncated. see log file for complete stacktrace</p>\n</blockquote>\n<p>How to show logs for exception stacktrace without truncating. For logs, I am using log4j2.xml file configuration.</p>\n<p>Please refer the below screenshot and Code.\nAnyone please give me a solution or suggestion.</p>\n<pre><code>public void printStackTrace(int level, Throwable e) {\n    ByteArrayOutputStream ops = new ByteArrayOutputStream();\n    PrintStream ps = new PrintStream(ops);\n    e.printStackTrace(ps);\n    logger.error(e);\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/wIFbF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wIFbF.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","transactions"],"comments":[{"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1659418749,"post_id":73202368,"comment_id":129283581,"body_markdown":"Adding `@Transactional` at the method level will, AFAIK, cause all code inside that method to execute within a single logical transaction.  This would make sense if, for example, you wanted your get and update upsert logic to behave atomically.","body":"Adding <code>@Transactional</code> at the method level will, AFAIK, cause all code inside that method to execute within a single logical transaction.  This would make sense if, for example, you wanted your get and update upsert logic to behave atomically."},{"owner":{"account_id":2300341,"reputation":186,"user_id":2020744,"display_name":"TT77"},"score":0,"creation_date":1659421374,"post_id":73202368,"comment_id":129284165,"body_markdown":"@TimBiegeleisen As I understand, with the OptimisticLockType.ALL , the update would fail if the row was updated between the get &amp; update. Is there any advantage of adding the transaction attribute in this case ?","body":"@TimBiegeleisen As I understand, with the OptimisticLockType.ALL , the update would fail if the row was updated between the get &amp; update. Is there any advantage of adding the transaction attribute in this case ?"},{"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1659421514,"post_id":73202368,"comment_id":129284197,"body_markdown":"Not sure...but maybe `@Transactional` would prevent that other process/thread from even being able to do an update.","body":"Not sure...but maybe <code>@Transactional</code> would prevent that other process/thread from even being able to do an update."}],"owner":{"account_id":2300341,"reputation":186,"user_id":2020744,"display_name":"TT77"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659418176,"creation_date":1659418176,"question_id":73202368,"body_markdown":"If my method does a get and then update, is it a good practice to add the @Transactional attribute to the method as the database engine (PostgreSQL) will treat the update as an implicit transaction ? Any overhead of adding the transactional attribute ? I am already using OptimisticLockType.ALL to avoid losing data between the read &amp; update.","title":"With Java Spring is there an advantage to use @Transactional attribute for a single statement","body":"<p>If my method does a get and then update, is it a good practice to add the @Transactional attribute to the method as the database engine (PostgreSQL) will treat the update as an implicit transaction ? Any overhead of adding the transactional attribute ? I am already using OptimisticLockType.ALL to avoid losing data between the read &amp; update.</p>\n"},{"tags":["java","javac"],"comments":[{"owner":{"account_id":13854547,"reputation":5082,"user_id":10001688,"display_name":"Michael Bianconi"},"score":0,"creation_date":1564079639,"post_id":57208189,"comment_id":100922959,"body_markdown":"Can you post the contents of ```Test.java```?","body":"Can you post the contents of <code>Test.java</code>?"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1564079773,"post_id":57208189,"comment_id":100923027,"body_markdown":"Note also that if you&#39;re using an IDE to create the code, the `.class` file is made by default.","body":"Note also that if you&#39;re using an IDE to create the code, the <code>.class</code> file is made by default."},{"owner":{"account_id":14243478,"reputation":458,"user_id":10289212,"display_name":"prakasht"},"score":0,"creation_date":1564079937,"post_id":57208189,"comment_id":100923099,"body_markdown":"@HovercraftFullOfEels If you want I can add the terminal results, I also didn&#39;t expect to directly run a java file.","body":"@HovercraftFullOfEels If you want I can add the terminal results, I also didn&#39;t expect to directly run a java file."},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":2,"creation_date":1564080449,"post_id":57208189,"comment_id":100923309,"body_markdown":"@prakasht When you create a class `Test` in the package `Learning` you have to execute the `java` command with `java Learning.Test` as this is the fully qualified name of the class you wrote (and compiled).","body":"@prakasht When you create a class <code>Test</code> in the package <code>Learning</code> you have to execute the <code>java</code> command with <code>java Learning.Test</code> as this is the fully qualified name of the class you wrote (and compiled)."},{"owner":{"account_id":14243478,"reputation":458,"user_id":10289212,"display_name":"prakasht"},"score":0,"creation_date":1564080673,"post_id":57208189,"comment_id":100923415,"body_markdown":"@Progman Thanks! I&#39;ve learned a new thing today.","body":"@Progman Thanks! I&#39;ve learned a new thing today."}],"answers":[{"tags":[],"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1564143263,"creation_date":1564082051,"answer_id":57208790,"question_id":57208189,"body_markdown":"What you experience here is a new feature, added for Java 11: \r\n\r\n&gt; In Java SE 11, you get the option to launch a single source code file directly, without intermediate compilation. Just for your convenience, so that newbies like you don&#39;t have to run javac + java (of course, leaving them confused why that is).\r\n\r\nQuoted from [here][1]. For more details, see the corresponding JEP [330][2].\r\n\r\nSo: if you have a **single** self-contained .java file ... then the *java* binary recognizes that, compiles it, and directly runs it (when using Java 11 or newer).\r\n\r\n\r\n\r\nBut keep in mind: it is just that, a way to quickly run a single class. It isn&#39;t meant to replace the &quot;real&quot; way of doing things.\r\n\r\nIn general, you still use `javac` first, and then `java`. Or, more real world: you use a built system where you describe *what to build*, and then the build system invokes `javac` for you behind the covers.\r\n\r\n\r\n  [1]: https://www.infoq.com/articles/single-file-execution-java11/\r\n  [2]: https://openjdk.java.net/jeps/330","title":"What is the mechanism of java and javac?","body":"<p>What you experience here is a new feature, added for Java 11: </p>\n\n<blockquote>\n  <p>In Java SE 11, you get the option to launch a single source code file directly, without intermediate compilation. Just for your convenience, so that newbies like you don't have to run javac + java (of course, leaving them confused why that is).</p>\n</blockquote>\n\n<p>Quoted from <a href=\"https://www.infoq.com/articles/single-file-execution-java11/\" rel=\"nofollow noreferrer\">here</a>. For more details, see the corresponding JEP <a href=\"https://openjdk.java.net/jeps/330\" rel=\"nofollow noreferrer\">330</a>.</p>\n\n<p>So: if you have a <strong>single</strong> self-contained .java file ... then the <em>java</em> binary recognizes that, compiles it, and directly runs it (when using Java 11 or newer).</p>\n\n<p>But keep in mind: it is just that, a way to quickly run a single class. It isn't meant to replace the \"real\" way of doing things.</p>\n\n<p>In general, you still use <code>javac</code> first, and then <code>java</code>. Or, more real world: you use a built system where you describe <em>what to build</em>, and then the build system invokes <code>javac</code> for you behind the covers.</p>\n"},{"tags":[],"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659418107,"creation_date":1659418107,"answer_id":73202361,"question_id":57208189,"body_markdown":"GhostCat&#39;s answer is good, but here are a few additions taken from [a longer post about this same behavior](https://stackoverflow.com/a/58086598/11374957).\r\n\r\n-----\r\n\r\n&gt; _Can someone please explain to me what&#39;s happening in the background of these commands?_\r\n\r\nWhat you ran into  where you can use &quot;java&quot; (not &quot;javac&quot;) to\r\ncompile and run a program in one command  [JEP 330: Launch Single-File Source-Code Programs](https://openjdk.org/jeps/330) \r\nwas designed to make it easier for _&quot;early stages of learning Java, and when writing small utility programs&quot;_.\r\n\r\nIt&#39;s definitely\r\nnot meant to _replace_ anything  use it if convenient, but nothing changes with the normal steps of &quot;compile to .class file&quot; and &quot;run JVM using .class files or JARs&quot;.\r\n\r\nThere&#39;s some good info in the JEP 330 link, but also in the [`java`](https://docs.oracle.com/en/java/javase/18/docs/specs/man/java.html) command itself, namely that one option (among four total) is to provide a single filename (which is what you did)\r\n\r\n```\r\nTo launch a single source-file program:\r\njava [options] source-file [args ...]\r\n```\r\n\r\nFurther, there&#39;s a nice summary in [Using Source-File Mode to Launch Single-File Source-Code Programs](https://docs.oracle.com/en/java/javase/18/docs/specs/man/java.html#using-source-file-mode-to-launch-single-file-source-code-programs):\r\n\r\n&gt; _In source-file mode, the effect is as though the source file is compiled into memory, and the first class found in the source file is executed. Any arguments placed after the name of the source file in the original command line are passed to the compiled class when it is executed._\r\n\r\n","title":"What is the mechanism of java and javac?","body":"<p>GhostCat's answer is good, but here are a few additions taken from <a href=\"https://stackoverflow.com/a/58086598/11374957\">a longer post about this same behavior</a>.</p>\n<hr />\n<blockquote>\n<p><em>Can someone please explain to me what's happening in the background of these commands?</em></p>\n</blockquote>\n<p>What you ran into  where you can use &quot;java&quot; (not &quot;javac&quot;) to\ncompile and run a program in one command  <a href=\"https://openjdk.org/jeps/330\" rel=\"nofollow noreferrer\">JEP 330: Launch Single-File Source-Code Programs</a> \nwas designed to make it easier for <em>&quot;early stages of learning Java, and when writing small utility programs&quot;</em>.</p>\n<p>It's definitely\nnot meant to <em>replace</em> anything  use it if convenient, but nothing changes with the normal steps of &quot;compile to .class file&quot; and &quot;run JVM using .class files or JARs&quot;.</p>\n<p>There's some good info in the JEP 330 link, but also in the <a href=\"https://docs.oracle.com/en/java/javase/18/docs/specs/man/java.html\" rel=\"nofollow noreferrer\"><code>java</code></a> command itself, namely that one option (among four total) is to provide a single filename (which is what you did)</p>\n<pre><code>To launch a single source-file program:\njava [options] source-file [args ...]\n</code></pre>\n<p>Further, there's a nice summary in <a href=\"https://docs.oracle.com/en/java/javase/18/docs/specs/man/java.html#using-source-file-mode-to-launch-single-file-source-code-programs\" rel=\"nofollow noreferrer\">Using Source-File Mode to Launch Single-File Source-Code Programs</a>:</p>\n<blockquote>\n<p><em>In source-file mode, the effect is as though the source file is compiled into memory, and the first class found in the source file is executed. Any arguments placed after the name of the source file in the original command line are passed to the compiled class when it is executed.</em></p>\n</blockquote>\n"}],"owner":{"account_id":14243478,"reputation":458,"user_id":10289212,"display_name":"prakasht"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":972,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":57208790,"answer_count":2,"score":1,"last_activity_date":1659418107,"creation_date":1564079380,"question_id":57208189,"body_markdown":"I just picked up my Ubuntu machine after a long time for some java related work and found that I have **java already installed but not javac**.  \r\n\r\n\r\nI made a **Test.java** file with a *main* method and a simple print statement. I wrote this in my terminal:  \r\n```\r\njava Test.java\r\n```\r\nI expected that without **javac** this shouldn&#39;t compile and run but it printed the output on my console. I then installed a **JDK** to enable the **javac** and ran this:  \r\n\r\n    javac Test.java  \r\n\r\nThis created a **Test.class** file. Still to run the Test class I need to type `java Test.java` and on typing `java Test` it throws **java.lang.NoClassDefFoundError**.  \r\n\r\nCan someone please explain to me what&#39;s happening in the background of these commands?\r\nEdit:\r\nHere are the contents of my Test.java:\r\n```\r\npackage Learning;\r\n\r\npublic class Test {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tSystem.out.println(&quot;Hello World!&quot;);\r\n\t}\r\n\r\n}\r\n```","title":"What is the mechanism of java and javac?","body":"<p>I just picked up my Ubuntu machine after a long time for some java related work and found that I have <strong>java already installed but not javac</strong>.  </p>\n\n<p>I made a <strong>Test.java</strong> file with a <em>main</em> method and a simple print statement. I wrote this in my terminal:  </p>\n\n<pre><code>java Test.java\n</code></pre>\n\n<p>I expected that without <strong>javac</strong> this shouldn't compile and run but it printed the output on my console. I then installed a <strong>JDK</strong> to enable the <strong>javac</strong> and ran this:  </p>\n\n<pre><code>javac Test.java  \n</code></pre>\n\n<p>This created a <strong>Test.class</strong> file. Still to run the Test class I need to type <code>java Test.java</code> and on typing <code>java Test</code> it throws <strong>java.lang.NoClassDefFoundError</strong>.  </p>\n\n<p>Can someone please explain to me what's happening in the background of these commands?\nEdit:\nHere are the contents of my Test.java:</p>\n\n<pre><code>package Learning;\n\npublic class Test {\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        System.out.println(\"Hello World!\");\n    }\n\n}\n</code></pre>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":174155,"reputation":498,"user_id":403342,"display_name":"Marius K"},"score":0,"creation_date":1340357075,"post_id":4662452,"comment_id":14624650,"body_markdown":"Interesting question. I feel that when using &quot;make&quot; for c/c++ applications it is not often a clean is required as it handles dependencies between source files. I guess it handles the case of deletion/renames too.","body":"Interesting question. I feel that when using &quot;make&quot; for c/c++ applications it is not often a clean is required as it handles dependencies between source files. I guess it handles the case of deletion/renames too."},{"owner":{"account_id":4667026,"reputation":10199,"user_id":3779853,"accept_rate":85,"display_name":"phil294"},"score":0,"creation_date":1526793116,"post_id":4662452,"comment_id":87878039,"body_markdown":"Especially useful when checking out and running a previous commit or after bulk copying files.","body":"Especially useful when checking out and running a previous commit or after bulk copying files."}],"answers":[{"tags":[],"owner":{"account_id":15075,"reputation":27761,"user_id":31480,"accept_rate":71,"display_name":"Gareth Davis"},"down_vote_count":0,"up_vote_count":54,"is_accepted":false,"score":54,"last_activity_date":1294780274,"creation_date":1294779267,"answer_id":4662536,"question_id":4662452,"body_markdown":"For example: If you rename a class, the previous compiled version will remain in `target/classes` until you run `clean`. This maybe completely harmless, but it could cause issues if it is autodetected by classpath scanning and the like.","title":"In Maven, Why Run &#39;mvn clean&#39;?","body":"<p>For example: If you rename a class, the previous compiled version will remain in <code>target/classes</code> until you run <code>clean</code>. This maybe completely harmless, but it could cause issues if it is autodetected by classpath scanning and the like.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":42,"is_accepted":true,"score":42,"last_activity_date":1659417427,"creation_date":1294779269,"answer_id":4662537,"question_id":4662452,"body_markdown":"As noted in Gareth&#39;s [answer][1], when you rename or remove a source class, Maven doesn&#39;t have sufficient information to know to remove the corresponding compiled file from the previous build.  The presence of the stale file can cause unexpected runtime problems.   A `clean` is required to get rid of the stale files so that they doesn&#39;t get accidentally included in WARs, JARs and so on.\r\n\r\nIn addition, certain plugins require a `clean` in order to work properly.  For example (at least in Maven 2), the `maven-war-plugin` explodes each dependent WAR into an existing directory tree.  A `clean` is required to get rid of stale files left over from previous versions of the dependent WARs.\r\n\r\n&gt; I can assume &quot;mvn compile&quot; will regenerate files if it&#39;s necessary, right?\r\n\r\nFor mainstream plugins, that is a fair assumption.  However, if you are using a plugin to generate source code components, I&#39;d look carefully at the documentation, and at where you put the generated source code.  For instance, there are a couple of unsupported plugins whose purpose is to drive the Eclipse EMF code generator.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/4662536/139985","title":"In Maven, Why Run &#39;mvn clean&#39;?","body":"<p>As noted in Gareth's <a href=\"https://stackoverflow.com/a/4662536/139985\">answer</a>, when you rename or remove a source class, Maven doesn't have sufficient information to know to remove the corresponding compiled file from the previous build.  The presence of the stale file can cause unexpected runtime problems.   A <code>clean</code> is required to get rid of the stale files so that they doesn't get accidentally included in WARs, JARs and so on.</p>\n<p>In addition, certain plugins require a <code>clean</code> in order to work properly.  For example (at least in Maven 2), the <code>maven-war-plugin</code> explodes each dependent WAR into an existing directory tree.  A <code>clean</code> is required to get rid of stale files left over from previous versions of the dependent WARs.</p>\n<blockquote>\n<p>I can assume &quot;mvn compile&quot; will regenerate files if it's necessary, right?</p>\n</blockquote>\n<p>For mainstream plugins, that is a fair assumption.  However, if you are using a plugin to generate source code components, I'd look carefully at the documentation, and at where you put the generated source code.  For instance, there are a couple of unsupported plugins whose purpose is to drive the Eclipse EMF code generator.</p>\n"},{"tags":[],"owner":{"account_id":10737218,"reputation":151,"user_id":7901526,"display_name":"Fai Hasan"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1626338448,"creation_date":1497022983,"answer_id":44461854,"question_id":4662452,"body_markdown":"On Maven, each time you want to compile, the best practice is to run `mvn clean`. It clears out the existing classes that you compiled from last compile. If you don&#39;t want to run 3 lines, just do &quot;mvn test&quot; after `mvn clean`. You don&#39;t have to always do `mvn compile`.","title":"In Maven, Why Run &#39;mvn clean&#39;?","body":"<p>On Maven, each time you want to compile, the best practice is to run <code>mvn clean</code>. It clears out the existing classes that you compiled from last compile. If you don't want to run 3 lines, just do &quot;mvn test&quot; after <code>mvn clean</code>. You don't have to always do <code>mvn compile</code>.</p>\n"},{"tags":[],"owner":{"account_id":1558549,"reputation":167,"user_id":1448980,"accept_rate":0,"display_name":"ashah"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1510811030,"creation_date":1510811030,"answer_id":47322444,"question_id":4662452,"body_markdown":"If you don&#39;t do clean compile then it means you are still allowing to work with some obsolete classes. If your module suppose to migrate to new class then even you missed that, there won&#39;t be any compilation error due to old class exist in target/classes. This will remain unnoticed till same module is built at some other place/machine with clean compile goal.","title":"In Maven, Why Run &#39;mvn clean&#39;?","body":"<p>If you don't do clean compile then it means you are still allowing to work with some obsolete classes. If your module suppose to migrate to new class then even you missed that, there won't be any compilation error due to old class exist in target/classes. This will remain unnoticed till same module is built at some other place/machine with clean compile goal.</p>\n"}],"owner":{"account_id":208511,"reputation":5002,"user_id":459041,"accept_rate":57,"display_name":"Kevin Dolan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71494,"favorite_count":0,"down_vote_count":1,"up_vote_count":79,"accepted_answer_id":4662537,"answer_count":4,"score":78,"last_activity_date":1659417427,"creation_date":1294778848,"question_id":4662452,"body_markdown":"I am wondering what the major difference between running `mvn compile` and `mvn clean compile` are, in practicality.\r\n\r\nI understand what the actual difference is, that `mvn clean compile` deletes all the generated files and starts again from scratch, but why would we want to do this? I can assume `mvn compile` will regenerate files if it&#39;s necessary, right?\r\n\r\nOne thing I noticed in my project was that if you had deleted a source file, without running `clean`, the compiled file remains, which usually wouldn&#39;t be a problem, but could be I suppose.","title":"In Maven, Why Run &#39;mvn clean&#39;?","body":"<p>I am wondering what the major difference between running <code>mvn compile</code> and <code>mvn clean compile</code> are, in practicality.</p>\n\n<p>I understand what the actual difference is, that <code>mvn clean compile</code> deletes all the generated files and starts again from scratch, but why would we want to do this? I can assume <code>mvn compile</code> will regenerate files if it's necessary, right?</p>\n\n<p>One thing I noticed in my project was that if you had deleted a source file, without running <code>clean</code>, the compiled file remains, which usually wouldn't be a problem, but could be I suppose.</p>\n"},{"tags":["java","spring","spring-cloud-gateway"],"answers":[{"tags":[],"owner":{"account_id":5555148,"reputation":386,"user_id":4406806,"display_name":"Tony Puthenveettil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659416859,"creation_date":1659416859,"answer_id":73202232,"question_id":69545830,"body_markdown":"I was also trying to achieve this. I didn&#39;t get a clean solution. I managed this with URL rewrite, as given below. Hope it helps.\r\n\r\nURI uri = URI.create(route.getUri() + exchange.getRequest().getURI().getPath()+ &quot;?&quot;+ encodedString);\r\n\r\nServerHttpRequest request = exchange.getRequest().mutate().uri(uri).build();\r\n\r\nexchange.getAttributes().put(ServerWebExchangeUtils.GATEWAY_REQUEST_URL_ATTR, request.getURI());\r\n\r\nreturn chain.filter(exchange.mutate().request(request).build());","title":"How to modify query string parameter before making downstream in Spring cloud gateway","body":"<p>I was also trying to achieve this. I didn't get a clean solution. I managed this with URL rewrite, as given below. Hope it helps.</p>\n<p>URI uri = URI.create(route.getUri() + exchange.getRequest().getURI().getPath()+ &quot;?&quot;+ encodedString);</p>\n<p>ServerHttpRequest request = exchange.getRequest().mutate().uri(uri).build();</p>\n<p>exchange.getAttributes().put(ServerWebExchangeUtils.GATEWAY_REQUEST_URL_ATTR, request.getURI());</p>\n<p>return chain.filter(exchange.mutate().request(request).build());</p>\n"}],"owner":{"account_id":2573908,"reputation":4246,"user_id":2232045,"accept_rate":79,"display_name":"webduvet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":293,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659416859,"creation_date":1634065842,"question_id":69545830,"body_markdown":"How do I modify the query string in Spring Cloud Gateway before downstream to another service.\r\n\r\ne.g.\r\n```\r\ngateway/api/foo?query=one|two|three&amp;param=1\r\n\r\n//to\r\n\r\nservice/api/foo?query=one%20two%20three&amp;param=1\r\n```\r\n\r\nIs it possible in `application.yml` config file?","title":"How to modify query string parameter before making downstream in Spring cloud gateway","body":"<p>How do I modify the query string in Spring Cloud Gateway before downstream to another service.</p>\n<p>e.g.</p>\n<pre><code>gateway/api/foo?query=one|two|three&amp;param=1\n\n//to\n\nservice/api/foo?query=one%20two%20three&amp;param=1\n</code></pre>\n<p>Is it possible in <code>application.yml</code> config file?</p>\n"},{"tags":["java","javac"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1572132812,"post_id":58575494,"comment_id":103466980,"body_markdown":"`filename*java` matches all files starting with `filename` and ending with `java`.","body":"<code>filename*java</code> matches all files starting with <code>filename</code> and ending with <code>java</code>."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":4,"creation_date":1572152706,"post_id":58575494,"comment_id":103469111,"body_markdown":"This question is really a question about how the command shell works.  It would be better asked / answered on https://superuser.com/ or https://unix.stackexchange.com/ or https://askubuntu.com/","body":"This question is really a question about how the command shell works.  It would be better asked / answered on <a href=\"https://superuser.com/\">superuser.com</a> or <a href=\"https://unix.stackexchange.com/\">unix.stackexchange.com</a> or <a href=\"https://askubuntu.com/\">askubuntu.com</a>"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1572158427,"post_id":58575494,"comment_id":103469697,"body_markdown":"What Stephen C said.  javac doesnt implement wildcard pattern matching;  the command shell expands wildcard patterns, and javac ends up receiving an explicit list of files.","body":"What Stephen C said.  javac doesnt implement wildcard pattern matching;  the command shell expands wildcard patterns, and javac ends up receiving an explicit list of files."}],"answers":[{"tags":[],"owner":{"account_id":5526868,"reputation":300,"user_id":4388103,"display_name":"Abs"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1572133908,"creation_date":1572133908,"answer_id":58575594,"question_id":58575494,"body_markdown":"**_javac file.java_** will compile a single file &quot;file.java&quot;\r\n\r\n**_javac file\\*java_** will try to compile all files which name starts with _file_ and ends with _java_.\r\n\r\nIn you case **_javac WCount\\*java_** will compile all your 3 files and is equivalent to **_javac WCount.java WCountMap.java WCountReduce.java_**\r\n\r\nHowever, be careful as Java file should end with &quot;.java&quot;. Doing _javac filename*java_ may try to compile files like filenamejava or filenameXXXjava (without the .) which will raise an error.\r\nTherefore better to use .java in the pattern: **_javac file*.java_**\r\n\r\nCheers!","title":"what&#39;s the Difference between javac file.java and javac file*java in terminal?","body":"<p><strong><em>javac file.java</em></strong> will compile a single file \"file.java\"</p>\n\n<p><strong><em>javac file*java</em></strong> will try to compile all files which name starts with <em>file</em> and ends with <em>java</em>.</p>\n\n<p>In you case <strong><em>javac WCount*java</em></strong> will compile all your 3 files and is equivalent to <strong><em>javac WCount.java WCountMap.java WCountReduce.java</em></strong></p>\n\n<p>However, be careful as Java file should end with \".java\". Doing <em>javac filename*java</em> may try to compile files like filenamejava or filenameXXXjava (without the .) which will raise an error.\nTherefore better to use .java in the pattern: <strong><em>javac file*.java</em></strong></p>\n\n<p>Cheers!</p>\n"}],"owner":{"account_id":16423766,"reputation":25,"user_id":11864334,"display_name":"Mouhssine Miftah"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":425,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1659416802,"creation_date":1572132569,"question_id":58575494,"body_markdown":"I want to know the difference between the command `javac filename.java` and `javac filename*java`\r\n\r\nthis is for running a mapreduce job\r\n\r\nmy terminal is opened in the code directory with 3 files: WCount.java, WCountMap.java WCountReduce.java","title":"what&#39;s the Difference between javac file.java and javac file*java in terminal?","body":"<p>I want to know the difference between the command <code>javac filename.java</code> and <code>javac filename*java</code></p>\n<p>this is for running a mapreduce job</p>\n<p>my terminal is opened in the code directory with 3 files: WCount.java, WCountMap.java WCountReduce.java</p>\n"},{"tags":["java","selenium","selenium-webdriver","webdriver"],"comments":[{"owner":{"account_id":5516910,"reputation":5424,"user_id":4381330,"accept_rate":92,"display_name":"Mincong Huang"},"score":0,"creation_date":1522914611,"post_id":49664982,"comment_id":86343638,"body_markdown":"Do you want to scroll down arbitrarily or scroll into a target web-element?","body":"Do you want to scroll down arbitrarily or scroll into a target web-element?"},{"owner":{"account_id":13012771,"reputation":3985,"user_id":9405154,"display_name":"Ishita Shah"},"score":0,"creation_date":1522923168,"post_id":49664982,"comment_id":86349357,"body_markdown":"Please add more details, why you wants to scroll page ? For which reason ? Any thing can be target on web page by selenium web driver.","body":"Please add more details, why you wants to scroll page ? For which reason ? Any thing can be target on web page by selenium web driver."}],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1522908251,"creation_date":1522908251,"answer_id":49665177,"question_id":49664982,"body_markdown":"Scrolling down a web page is not a valid _usecase_ which can be validated perhaps you want to scroll down to bring a _WebElement_ within the [Viewport][1] to interact with it. To achieve that you can use the `executeScript()` method as follows :\r\n\r\n\t((JavascriptExecutor)driver).executeScript(&quot;arguments[0].scrollIntoView();&quot;, element);\r\n\r\n\r\n  [1]: https://www.w3schools.com/css/css_rwd_viewport.asp","title":"How to press Page Down key in Selenium to scroll down a webpage through Java?","body":"<p>Scrolling down a web page is not a valid <em>usecase</em> which can be validated perhaps you want to scroll down to bring a <em>WebElement</em> within the <a href=\"https://www.w3schools.com/css/css_rwd_viewport.asp\" rel=\"nofollow noreferrer\">Viewport</a> to interact with it. To achieve that you can use the <code>executeScript()</code> method as follows :</p>\n\n<pre><code>((JavascriptExecutor)driver).executeScript(\"arguments[0].scrollIntoView();\", element);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12952827,"reputation":50,"user_id":9364579,"display_name":"Farheen Khanum"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1522915633,"creation_date":1522915633,"answer_id":49667227,"question_id":49664982,"body_markdown":"Use the below code and try,\r\n \r\n\r\n            JavascriptExecutor js = (JavascriptExecutor) driver;\r\n    \r\n            // Launch the application\t\t\r\n            driver.get(&quot;http://demo.guru99.com/test/guru99home/&quot;);\r\n    \r\n            //This will scroll the web page till end.\t\t\r\n            js.executeScript(&quot;window.scrollTo(0, document.body.scrollHeight)&quot;);","title":"How to press Page Down key in Selenium to scroll down a webpage through Java?","body":"<p>Use the below code and try,</p>\n\n<pre><code>        JavascriptExecutor js = (JavascriptExecutor) driver;\n\n        // Launch the application       \n        driver.get(\"http://demo.guru99.com/test/guru99home/\");\n\n        //This will scroll the web page till end.       \n        js.executeScript(\"window.scrollTo(0, document.body.scrollHeight)\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14323049,"reputation":1,"user_id":10345865,"display_name":"Narayanan.pk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1537510234,"creation_date":1537510234,"answer_id":52437609,"question_id":49664982,"body_markdown":"Please refer the code below :\r\n\r\n1) Using Action class****\r\n\r\n    WebDriver driver = new ChromeDriver();\r\n                //Creating an object &#39;action&#39; \r\n    Actions action = new Actions(driver);\r\n                //open SoftwareTestingMaterial.com\r\n    driver.get(Site URL);   // Give site URL as name of the web page\r\n                //sleep for 3secs to load the page\r\n    Thread.sleep(3000);\r\n                //SCROLL DOWN\r\n    action.sendKeys(Keys.PAGE_DOWN).build().perform();\r\n    Thread.sleep(3000);\r\n                //SCROLL UP\r\n    action.sendKeys(Keys.PAGE_UP).build().perform();\r\n\r\n","title":"How to press Page Down key in Selenium to scroll down a webpage through Java?","body":"<p>Please refer the code below :</p>\n\n<p>1) Using Action class****</p>\n\n<pre><code>WebDriver driver = new ChromeDriver();\n            //Creating an object 'action' \nActions action = new Actions(driver);\n            //open SoftwareTestingMaterial.com\ndriver.get(Site URL);   // Give site URL as name of the web page\n            //sleep for 3secs to load the page\nThread.sleep(3000);\n            //SCROLL DOWN\naction.sendKeys(Keys.PAGE_DOWN).build().perform();\nThread.sleep(3000);\n            //SCROLL UP\naction.sendKeys(Keys.PAGE_UP).build().perform();\n</code></pre>\n"}],"owner":{"account_id":8383551,"reputation":21,"user_id":6294676,"display_name":"arushi3112"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14975,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":3,"score":1,"last_activity_date":1659416445,"creation_date":1522907257,"question_id":49664982,"body_markdown":"I want to scroll down my web page. What Java command should I use in Selenium?","title":"How to press Page Down key in Selenium to scroll down a webpage through Java?","body":"<p>I want to scroll down my web page. What Java command should I use in Selenium?</p>\n"},{"tags":["java","operators"],"comments":[{"owner":{"account_id":2397,"reputation":179869,"user_id":3333,"accept_rate":80,"display_name":"Paul Tomblin"},"score":0,"creation_date":1287793251,"post_id":4001813,"comment_id":4286600,"body_markdown":"Where are you seeing this?  I don&#39;t see it in the current API documents.","body":"Where are you seeing this?  I don&#39;t see it in the current API documents."},{"owner":{"account_id":25300,"reputation":13294,"user_id":64967,"accept_rate":75,"display_name":"Dilum Ranatunga"},"score":0,"creation_date":1287793357,"post_id":4001813,"comment_id":4286604,"body_markdown":"Can you post a reference to the doc to which you refer?","body":"Can you post a reference to the doc to which you refer?"},{"owner":{"account_id":193213,"reputation":596,"user_id":434793,"display_name":"Ferid G&#252;rb&#252;z"},"score":0,"creation_date":1287793570,"post_id":4001813,"comment_id":4286619,"body_markdown":"Its almost everywere in the class java.lang.Character, Character.isDefined(),Character.isLetter()...","body":"Its almost everywere in the class java.lang.Character, Character.isDefined(),Character.isLetter()..."}],"answers":[{"tags":[],"owner":{"account_id":198822,"reputation":16528,"user_id":443716,"accept_rate":92,"display_name":"Isaac"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1287793297,"creation_date":1287793297,"answer_id":4001823,"question_id":4001813,"body_markdown":"Bitwise operators: http://download.oracle.com/javase/tutorial/java/nutsandbolts/op3.html","title":"&quot;&lt;&lt;&quot; operator in java","body":"<p>Bitwise operators: <a href=\"http://download.oracle.com/javase/tutorial/java/nutsandbolts/op3.html\" rel=\"nofollow\">http://download.oracle.com/javase/tutorial/java/nutsandbolts/op3.html</a></p>\n"},{"tags":[],"owner":{"account_id":6040,"reputation":181950,"user_id":9990,"accept_rate":79,"display_name":"Marcelo Cantos"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1287795841,"creation_date":1287793344,"answer_id":4001824,"question_id":4001813,"body_markdown":"They are bit-shift operators. `&lt;&lt;` shifts the bits &quot;left&quot; (towards the most-significant bit), and vice-versa for `&gt;&gt;`. Shifting left or right by *n* bits is pretty much the same as multiplying or dividing, respectively, by 2&lt;sup&gt;*n*&lt;/sup&gt;.\r\n\r\nSee @axtavt&#39;s comment for an explanation of how these operators are being used in this context.","title":"&quot;&lt;&lt;&quot; operator in java","body":"<p>They are bit-shift operators. <code>&lt;&lt;</code> shifts the bits \"left\" (towards the most-significant bit), and vice-versa for <code>&gt;&gt;</code>. Shifting left or right by <em>n</em> bits is pretty much the same as multiplying or dividing, respectively, by 2<sup><em>n</em></sup>.</p>\n\n<p>See @axtavt's comment for an explanation of how these operators are being used in this context.</p>\n"},{"tags":[],"owner":{"account_id":178990,"reputation":4205,"user_id":411316,"accept_rate":100,"display_name":"Leo Izen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1393184039,"creation_date":1287793477,"answer_id":4001832,"question_id":4001813,"body_markdown":"&lt;code&gt;&lt;&lt;&lt;/code&gt; is the left shift operator: It shifts the binary number stored in the computer left. For example, 9 in binary is 1001. &lt;code&gt;9 &lt;&lt; 2&lt;/code&gt; makes 100100 in binary (36), because it shifts it left and adds 0s at the end. &lt;code&gt;1 &lt;&lt; n&lt;/code&gt; is the same thing as &lt;code&gt;Math.pow(2, n)&lt;/code&gt; except it is way faster and better in general, as well as returning &lt;code&gt;int&lt;/code&gt;, not &lt;code&gt;double&lt;/code&gt;.\r\n\r\n&lt;code&gt;&amp;gt;&gt;&lt;/code&gt; is right shift. It shifts it right, and discards empty bits. 13 is 1101 in binary, so &lt;code&gt;13 &gt;&gt; 1&lt;/code&gt; is 110 in binary, or 6 normally.\r\n","title":"&quot;&lt;&lt;&quot; operator in java","body":"<p><code>&lt;&lt;</code> is the left shift operator: It shifts the binary number stored in the computer left. For example, 9 in binary is 1001. <code>9 &lt;&lt; 2</code> makes 100100 in binary (36), because it shifts it left and adds 0s at the end. <code>1 &lt;&lt; n</code> is the same thing as <code>Math.pow(2, n)</code> except it is way faster and better in general, as well as returning <code>int</code>, not <code>double</code>.</p>\n\n<p><code>&gt;></code> is right shift. It shifts it right, and discards empty bits. 13 is 1101 in binary, so <code>13 >> 1</code> is 110 in binary, or 6 normally.</p>\n"},{"tags":[],"owner":{"account_id":105749,"reputation":9443,"user_id":282024,"display_name":"steinar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1287793696,"creation_date":1287793696,"answer_id":4001844,"question_id":4001813,"body_markdown":"These are the [bitwise shift][1] operators.\r\n\r\nIf you *left shift* the following byte:\r\n\r\n    00000001\r\n\r\nyou would get:\r\n\r\n    00000010\r\n\r\nI.e. the pattern has &quot;shifted&quot; to the left and zeros fill in on the right. So if you apply the right shift operator `&gt;&gt;` on that result, you&#39;ll get the original byte again.\r\n\r\nYou&#39;ll notice that the decimal values of these numbers are 1 and 2. If you shift left once again you&#39;ll get:\r\n\r\n    00000100 = 4\r\n\r\nSo you see that shifting to the left multiplies the number by two (given that it doesn&#39;t overflow), while right shifting divides by two. This happens very efficiently in most computers. So that&#39;s one example of how you might use these operators in a practical way.\r\n\r\n  [1]: http://download.oracle.com/javase/tutorial/java/nutsandbolts/op3.html","title":"&quot;&lt;&lt;&quot; operator in java","body":"<p>These are the <a href=\"http://download.oracle.com/javase/tutorial/java/nutsandbolts/op3.html\" rel=\"nofollow\">bitwise shift</a> operators.</p>\n\n<p>If you <em>left shift</em> the following byte:</p>\n\n<pre><code>00000001\n</code></pre>\n\n<p>you would get:</p>\n\n<pre><code>00000010\n</code></pre>\n\n<p>I.e. the pattern has \"shifted\" to the left and zeros fill in on the right. So if you apply the right shift operator <code>&gt;&gt;</code> on that result, you'll get the original byte again.</p>\n\n<p>You'll notice that the decimal values of these numbers are 1 and 2. If you shift left once again you'll get:</p>\n\n<pre><code>00000100 = 4\n</code></pre>\n\n<p>So you see that shifting to the left multiplies the number by two (given that it doesn't overflow), while right shifting divides by two. This happens very efficiently in most computers. So that's one example of how you might use these operators in a practical way.</p>\n"},{"tags":[],"owner":{"account_id":4317517,"reputation":216,"user_id":3526891,"display_name":"Singh123"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659415902,"creation_date":1405507543,"answer_id":24778824,"question_id":4001813,"body_markdown":" It works as a highly optimized multiple comparison. The signed left shift operator &quot;&lt;&lt;&quot; shifts a bit pattern to the left, and the signed right shift operator &quot;&gt;&gt;&quot; shifts a bit pattern to the right. The bit pattern is given by the left-hand operand, and the number of positions to shift by the right-hand operand. The unsigned right shift operator &quot;&gt;&gt;&gt;&quot; shifts a zero into the leftmost position, while the leftmost position after &quot;&gt;&gt;&quot; depends on sign extension.\r\n\r\nfor more detail,You can visit below link .\r\n&lt;http://docs.oracle.com/javase/tutorial/java/nutsandbolts/op3.html&gt;","title":"&quot;&lt;&lt;&quot; operator in java","body":"<p>It works as a highly optimized multiple comparison. The signed left shift operator &quot;&lt;&lt;&quot; shifts a bit pattern to the left, and the signed right shift operator &quot;&gt;&gt;&quot; shifts a bit pattern to the right. The bit pattern is given by the left-hand operand, and the number of positions to shift by the right-hand operand. The unsigned right shift operator &quot;&gt;&gt;&gt;&quot; shifts a zero into the leftmost position, while the leftmost position after &quot;&gt;&gt;&quot; depends on sign extension.</p>\n<p>for more detail,You can visit below link .\n<a href=\"http://docs.oracle.com/javase/tutorial/java/nutsandbolts/op3.html\" rel=\"nofollow noreferrer\">http://docs.oracle.com/javase/tutorial/java/nutsandbolts/op3.html</a></p>\n"}],"owner":{"account_id":193213,"reputation":596,"user_id":434793,"display_name":"Ferid G&#252;rb&#252;z"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3077,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":4001824,"answer_count":5,"score":2,"last_activity_date":1659415902,"creation_date":1287793153,"question_id":4001813,"body_markdown":"Fallowing statement is from Character class of java:\r\n\r\n\r\n    (1 &lt;&lt; Character.PARAGRAPH_SEPARATOR)) &gt;&gt; type\r\n\r\n\r\n`PARAGRAPH_SEPARATOR` is a byte and `type` is an integer.\r\n    \r\n\r\n\r\nThe operators in this sentence, what do they do? how and where I can use those operators?\r\n\r\nHere is the oracles [java.lang.Character][1] doc. Nearly all the methods in the class uses those operators.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Character.html","title":"&quot;&lt;&lt;&quot; operator in java","body":"<p>Fallowing statement is from Character class of java:</p>\n\n<pre><code>(1 &lt;&lt; Character.PARAGRAPH_SEPARATOR)) &gt;&gt; type\n</code></pre>\n\n<p><code>PARAGRAPH_SEPARATOR</code> is a byte and <code>type</code> is an integer.</p>\n\n<p>The operators in this sentence, what do they do? how and where I can use those operators?</p>\n\n<p>Here is the oracles <a href=\"http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Character.html\" rel=\"nofollow\">java.lang.Character</a> doc. Nearly all the methods in the class uses those operators.</p>\n"},{"tags":["java","hibernate","spring-mvc","file-upload","cloudinary"],"answers":[{"tags":[],"owner":{"account_id":19166175,"reputation":61,"user_id":14000844,"display_name":"Pogitos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659415358,"creation_date":1659415358,"answer_id":73202066,"question_id":73194391,"body_markdown":"The Cloudinary SDKs only accept one file at a time for upload. In your case, you have to call the upload method thrice to obtain three different URLs.\r\n\r\nSample code:\r\n\r\n    public class RoomServiceImpl implements RoomService {\r\n    @Autowired\r\n    private RoomRepository roomRepository;\r\n    @Autowired\r\n    private Cloudinary cloudinary;\r\n\r\n        @Override\r\n        public boolean addRoom(Room room) {\r\n            try {\r\n                room.setRoomUrl1((String) upload(room).get(&quot;secure_url&quot;));\r\n                room.setRoomUrl2((String) upload(room).get(&quot;secure_url&quot;));\r\n                room.setRoomUrl3((String) upload(room).get(&quot;secure_url&quot;));\r\n                room.setRent(false);\r\n                return this.roomRepository.addRoom(room);\r\n            } catch (IOException e) {\r\n                System.err.println(&quot;add image&quot; + e.getMessage());\r\n            }\r\n        return false;\r\n        }\r\n        \r\n        private Map upload(Room room){\r\n            Map r = this.cloudinary.uploader().upload(room.getFile().getBytes(),\r\n                    ObjectUtils.asMap(&quot;resource_type&quot;, &quot;auto&quot;));\r\n            return r;\r\n        }\r\n\r\n    }","title":"How to upload multiple image to cloudinary by Spring?","body":"<p>The Cloudinary SDKs only accept one file at a time for upload. In your case, you have to call the upload method thrice to obtain three different URLs.</p>\n<p>Sample code:</p>\n<pre><code>public class RoomServiceImpl implements RoomService {\n@Autowired\nprivate RoomRepository roomRepository;\n@Autowired\nprivate Cloudinary cloudinary;\n\n    @Override\n    public boolean addRoom(Room room) {\n        try {\n            room.setRoomUrl1((String) upload(room).get(&quot;secure_url&quot;));\n            room.setRoomUrl2((String) upload(room).get(&quot;secure_url&quot;));\n            room.setRoomUrl3((String) upload(room).get(&quot;secure_url&quot;));\n            room.setRent(false);\n            return this.roomRepository.addRoom(room);\n        } catch (IOException e) {\n            System.err.println(&quot;add image&quot; + e.getMessage());\n        }\n    return false;\n    }\n    \n    private Map upload(Room room){\n        Map r = this.cloudinary.uploader().upload(room.getFile().getBytes(),\n                ObjectUtils.asMap(&quot;resource_type&quot;, &quot;auto&quot;));\n        return r;\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":25444005,"reputation":3,"user_id":19246452,"display_name":"Nguyen Anh Tuan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1011,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73202066,"answer_count":1,"score":0,"last_activity_date":1659415358,"creation_date":1659360262,"question_id":73194391,"body_markdown":"I&#39;m trying to upload 3 image to Cloudinary and insert their link in SQL Server, but my code still add 1 link because I set same link. So my question is what solution to set each image link for each image file. My code below.\r\n\r\n     &lt;body&gt;\r\n\t&lt;form:form  action=&quot;addR&quot; method=&quot;post&quot;  enctype=&quot;multipart/form-data&quot; modelAttribute=&quot;room&quot;&gt;\r\n\t\t&lt;div&gt;\r\n\t\t\t&lt;form:label path=&quot;roomTypeID&quot;&gt;Room type :&lt;/form:label&gt; &lt;select style=&quot;width:100px; height: 30px;&quot;&gt;\r\n\t\t\t\t&lt;c:forEach items=&quot;${dataRT}&quot; var=&quot;rt&quot;&gt;\r\n\t\t\t\t\t&lt;option value=&quot;${rt.idRoomType}&quot;&gt;${rt.nameRoomType}&lt;/option&gt;\r\n\t\t\t\t&lt;/c:forEach&gt;\r\n\t\t\t&lt;/select&gt;\r\n\t\t&lt;/div&gt;\r\n\t\t&lt;table&gt;\r\n        &lt;tr&gt;\r\n            &lt;td&gt;&lt;form:label path=&quot;roomName&quot;&gt;Room Name: &lt;/form:label&gt;&lt;/td&gt;\r\n            &lt;td&gt;&lt;form:input path=&quot;roomName&quot;/&gt;&lt;/td&gt;\r\n        &lt;/tr&gt;\r\n         &lt;tr&gt;\r\n            &lt;td&gt;&lt;form:label path=&quot;price&quot;&gt;Price&lt;/form:label&gt;&lt;/td&gt;\r\n            &lt;td&gt;&lt;form:input path=&quot;price&quot;/&gt;&lt;/td&gt;\r\n        &lt;/tr&gt;\r\n         &lt;tr&gt;\r\n            &lt;td&gt;&lt;form:label path=&quot;description&quot;&gt;Description&lt;/form:label&gt;&lt;/td&gt;\r\n            &lt;td&gt;&lt;form:input path=&quot;description&quot;/&gt;&lt;/td&gt;\r\n        &lt;/tr&gt;\r\n         &lt;tr&gt;\r\n            &lt;td&gt;&lt;form:label path=&quot;benefits&quot;&gt;Benefits&lt;/form:label&gt;&lt;/td&gt;\r\n            &lt;td&gt;&lt;form:input path=&quot;benefits&quot;/&gt;&lt;/td&gt;\r\n        &lt;/tr&gt;\r\n         &lt;tr&gt;\r\n            &lt;td&gt;&lt;form:label path=&quot;area&quot;&gt;Area&lt;/form:label&gt;&lt;/td&gt;\r\n            &lt;td&gt;&lt;form:input path=&quot;area&quot;/&gt;&lt;/td&gt;\r\n        &lt;/tr&gt;\r\n         &lt;tr&gt;\r\n            &lt;td&gt;&lt;form:label path=&quot;bed&quot;&gt;Beds&lt;/form:label&gt;&lt;/td&gt;\r\n            &lt;td&gt;&lt;form:input path=&quot;bed&quot;/&gt;&lt;/td&gt;\r\n        &lt;/tr&gt;\r\n         &lt;tr&gt;\r\n            &lt;td&gt;&lt;form:label path=&quot;adults&quot;&gt;Adults&lt;/form:label&gt;&lt;/td&gt;\r\n            &lt;td&gt;&lt;form:input path=&quot;adults&quot;/&gt;&lt;/td&gt;\r\n        &lt;/tr&gt;\r\n         &lt;tr&gt;\r\n            &lt;td&gt;&lt;form:label path=&quot;children&quot;&gt;Children&lt;/form:label&gt;&lt;/td&gt;\r\n            &lt;td&gt;&lt;form:input path=&quot;children&quot;/&gt;&lt;/td&gt;\r\n        &lt;/tr&gt;\r\n         &lt;tr&gt;\r\n            &lt;td&gt;&lt;form:label path=&quot;roomUrl1&quot;&gt;Image 1&lt;/form:label&gt;&lt;/td&gt;\r\n            &lt;td&gt;&lt;form:input type=&quot;file&quot; path=&quot;file&quot;/&gt;&lt;/td&gt;\r\n        &lt;/tr&gt;\r\n         &lt;tr&gt;\r\n            &lt;td&gt;&lt;form:label path=&quot;roomUrl2&quot;&gt;Image 2&lt;/form:label&gt;&lt;/td&gt;\r\n            &lt;td&gt;&lt;form:input type=&quot;file&quot;  path=&quot;file&quot;/&gt;&lt;/td&gt;\r\n        &lt;/tr&gt;\r\n         &lt;tr&gt;\r\n            &lt;td&gt;&lt;form:label path=&quot;roomUrl3&quot;&gt;Image 3&lt;/form:label&gt;&lt;/td&gt;\r\n            &lt;td&gt;&lt;form:input type=&quot;file&quot; path=&quot;file&quot;/&gt;&lt;/td&gt;\r\n        &lt;/tr&gt;\r\n     \t\r\n    &lt;/table&gt;\r\n\t\t&lt;div&gt;\r\n\t\t\t&lt;form:button type=&quot;submit&quot;&gt;Add&lt;/form:button&gt;\r\n\t\t&lt;/div&gt;\r\n\t&lt;/form:form&gt;\r\n&lt;/body&gt;\r\n\r\n\r\n\r\n@Table(name = &quot;Room&quot;)\r\n\r\n@Entity(name = &quot;RoomEntity&quot;)\r\n\r\n@NoArgsConstructor\r\n\r\n@Getter\r\n\r\n@Setter\r\n\r\n@AllArgsConstructor\r\n\r\n\r\npublic class Room implements Serializable {\r\n\r\n\t@Id\r\n\r\n\t@GeneratedValue(generator = &quot;my_generator2&quot;)\r\n\r\n\t@GenericGenerator(name = &quot;my_generator2&quot;, strategy = &quot;Finalproject.spring.mvc.MyGenerator.GenerationRID&quot;)\r\n\r\n\t@Column(name = &quot;RoomID&quot;, columnDefinition = &quot;varchar(10)&quot;)\r\n\tprivate String id;\r\n\r\n\t@Column(name = &quot;RoomTypeID&quot;, columnDefinition = &quot;varchar(10)&quot;)\r\n\tprivate String roomTypeID;\r\n\r\n\t@Column(name = &quot;RoomName&quot;, columnDefinition = &quot;nvarchar(50)&quot;, unique = true, nullable = false)\r\n\tprivate String roomName;\r\n\r\n\t@Column(name = &quot;Price&quot;, columnDefinition = &quot;float&quot;)\r\n\tprivate float price;\r\n\r\n\t@Column(name = &quot;Description&quot;, columnDefinition = &quot;nvarchar(max)&quot;)\r\n\tprivate String description;\r\n\r\n\t@Column(name = &quot;Benefits&quot;, columnDefinition = &quot;nvarchar(max)&quot;)\r\n\tprivate String benefits;\r\n\r\n\t@Column(name = &quot;Area&quot;, columnDefinition = &quot;float&quot;)\r\n\tprivate float area;\r\n\r\n\t@Column(name = &quot;Bed&quot;, columnDefinition = &quot;int&quot;)\r\n\tprivate int bed;\r\n\r\n\t@Column(name = &quot;Adults&quot;, columnDefinition = &quot;int&quot;)\r\n\tprivate int adults;\r\n\r\n\t@Column(name = &quot;Children&quot;, columnDefinition = &quot;int&quot;)\r\n\tprivate int children;\r\n\t\r\n\t@Column(name = &quot;RoomUrl&quot;, columnDefinition = &quot;nvarchar(max)&quot;)\r\n\tprivate String roomUrl1;\r\n\t\r\n\t@Column(name = &quot;RoomUr2&quot;, columnDefinition = &quot;nvarchar(max)&quot;)\r\n\tprivate String roomUrl2;\r\n\t\r\n\t@Column(name = &quot;RoomUr3&quot;, columnDefinition = &quot;nvarchar(max)&quot;)\r\n\tprivate String roomUrl3;\r\n\t\r\n\t@Column(name = &quot;IsRent&quot;, columnDefinition = &quot;bit&quot;)\r\n\tprivate boolean isRent;\r\n\r\n\t@ManyToOne()\r\n\t@JoinColumn(name = &quot;RoomTypeID&quot;/* , referencedColumnName = &quot;&quot; */, insertable = false, updatable = false)\r\n\tprivate RoomType roomTypeId;\r\n\t@Transient\r\n\tprivate MultipartFile file;\r\n\r\n}\r\n\r\n    public class RoomServiceImpl implements RoomService {\r\n\t@Autowired\r\n\tprivate RoomRepository roomRepository;\r\n\t@Autowired\r\n\tprivate Cloudinary cloudinary;\r\n\r\n\t@Override\r\n\tpublic boolean addRoom(Room room) {\r\n\t\ttry {\r\n\t\t\tMap r = this.cloudinary.uploader().upload(room.getFile().getBytes(),\r\n\t\t\t\t\tObjectUtils.asMap(&quot;resource_type&quot;, &quot;auto&quot;));\r\n\t\t\troom.setRoomUrl1((String) r.get(&quot;secure_url&quot;));\r\n\t\t\troom.setRoomUrl2((String) r.get(&quot;secure_url&quot;));\r\n\t\t\troom.setRoomUrl3((String) r.get(&quot;secure_url&quot;));\r\n\t\t\troom.setRent(false);\r\n\t\t\treturn this.roomRepository.addRoom(room);\r\n\t\t} catch (IOException e) {\r\n\t\t\tSystem.err.println(&quot;add image&quot; + e.getMessage());\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n","title":"How to upload multiple image to cloudinary by Spring?","body":"<p>I'm trying to upload 3 image to Cloudinary and insert their link in SQL Server, but my code still add 1 link because I set same link. So my question is what solution to set each image link for each image file. My code below.</p>\n<pre><code> &lt;body&gt;\n&lt;form:form  action=&quot;addR&quot; method=&quot;post&quot;  enctype=&quot;multipart/form-data&quot; modelAttribute=&quot;room&quot;&gt;\n    &lt;div&gt;\n        &lt;form:label path=&quot;roomTypeID&quot;&gt;Room type :&lt;/form:label&gt; &lt;select style=&quot;width:100px; height: 30px;&quot;&gt;\n            &lt;c:forEach items=&quot;${dataRT}&quot; var=&quot;rt&quot;&gt;\n                &lt;option value=&quot;${rt.idRoomType}&quot;&gt;${rt.nameRoomType}&lt;/option&gt;\n            &lt;/c:forEach&gt;\n        &lt;/select&gt;\n    &lt;/div&gt;\n    &lt;table&gt;\n    &lt;tr&gt;\n        &lt;td&gt;&lt;form:label path=&quot;roomName&quot;&gt;Room Name: &lt;/form:label&gt;&lt;/td&gt;\n        &lt;td&gt;&lt;form:input path=&quot;roomName&quot;/&gt;&lt;/td&gt;\n    &lt;/tr&gt;\n     &lt;tr&gt;\n        &lt;td&gt;&lt;form:label path=&quot;price&quot;&gt;Price&lt;/form:label&gt;&lt;/td&gt;\n        &lt;td&gt;&lt;form:input path=&quot;price&quot;/&gt;&lt;/td&gt;\n    &lt;/tr&gt;\n     &lt;tr&gt;\n        &lt;td&gt;&lt;form:label path=&quot;description&quot;&gt;Description&lt;/form:label&gt;&lt;/td&gt;\n        &lt;td&gt;&lt;form:input path=&quot;description&quot;/&gt;&lt;/td&gt;\n    &lt;/tr&gt;\n     &lt;tr&gt;\n        &lt;td&gt;&lt;form:label path=&quot;benefits&quot;&gt;Benefits&lt;/form:label&gt;&lt;/td&gt;\n        &lt;td&gt;&lt;form:input path=&quot;benefits&quot;/&gt;&lt;/td&gt;\n    &lt;/tr&gt;\n     &lt;tr&gt;\n        &lt;td&gt;&lt;form:label path=&quot;area&quot;&gt;Area&lt;/form:label&gt;&lt;/td&gt;\n        &lt;td&gt;&lt;form:input path=&quot;area&quot;/&gt;&lt;/td&gt;\n    &lt;/tr&gt;\n     &lt;tr&gt;\n        &lt;td&gt;&lt;form:label path=&quot;bed&quot;&gt;Beds&lt;/form:label&gt;&lt;/td&gt;\n        &lt;td&gt;&lt;form:input path=&quot;bed&quot;/&gt;&lt;/td&gt;\n    &lt;/tr&gt;\n     &lt;tr&gt;\n        &lt;td&gt;&lt;form:label path=&quot;adults&quot;&gt;Adults&lt;/form:label&gt;&lt;/td&gt;\n        &lt;td&gt;&lt;form:input path=&quot;adults&quot;/&gt;&lt;/td&gt;\n    &lt;/tr&gt;\n     &lt;tr&gt;\n        &lt;td&gt;&lt;form:label path=&quot;children&quot;&gt;Children&lt;/form:label&gt;&lt;/td&gt;\n        &lt;td&gt;&lt;form:input path=&quot;children&quot;/&gt;&lt;/td&gt;\n    &lt;/tr&gt;\n     &lt;tr&gt;\n        &lt;td&gt;&lt;form:label path=&quot;roomUrl1&quot;&gt;Image 1&lt;/form:label&gt;&lt;/td&gt;\n        &lt;td&gt;&lt;form:input type=&quot;file&quot; path=&quot;file&quot;/&gt;&lt;/td&gt;\n    &lt;/tr&gt;\n     &lt;tr&gt;\n        &lt;td&gt;&lt;form:label path=&quot;roomUrl2&quot;&gt;Image 2&lt;/form:label&gt;&lt;/td&gt;\n        &lt;td&gt;&lt;form:input type=&quot;file&quot;  path=&quot;file&quot;/&gt;&lt;/td&gt;\n    &lt;/tr&gt;\n     &lt;tr&gt;\n        &lt;td&gt;&lt;form:label path=&quot;roomUrl3&quot;&gt;Image 3&lt;/form:label&gt;&lt;/td&gt;\n        &lt;td&gt;&lt;form:input type=&quot;file&quot; path=&quot;file&quot;/&gt;&lt;/td&gt;\n    &lt;/tr&gt;\n    \n&lt;/table&gt;\n    &lt;div&gt;\n        &lt;form:button type=&quot;submit&quot;&gt;Add&lt;/form:button&gt;\n    &lt;/div&gt;\n&lt;/form:form&gt;\n</code></pre>\n\n<p>@Table(name = &quot;Room&quot;)</p>\n<p>@Entity(name = &quot;RoomEntity&quot;)</p>\n<p>@NoArgsConstructor</p>\n<p>@Getter</p>\n<p>@Setter</p>\n<p>@AllArgsConstructor</p>\n<p>public class Room implements Serializable {</p>\n<pre><code>@Id\n\n@GeneratedValue(generator = &quot;my_generator2&quot;)\n\n@GenericGenerator(name = &quot;my_generator2&quot;, strategy = &quot;Finalproject.spring.mvc.MyGenerator.GenerationRID&quot;)\n\n@Column(name = &quot;RoomID&quot;, columnDefinition = &quot;varchar(10)&quot;)\nprivate String id;\n\n@Column(name = &quot;RoomTypeID&quot;, columnDefinition = &quot;varchar(10)&quot;)\nprivate String roomTypeID;\n\n@Column(name = &quot;RoomName&quot;, columnDefinition = &quot;nvarchar(50)&quot;, unique = true, nullable = false)\nprivate String roomName;\n\n@Column(name = &quot;Price&quot;, columnDefinition = &quot;float&quot;)\nprivate float price;\n\n@Column(name = &quot;Description&quot;, columnDefinition = &quot;nvarchar(max)&quot;)\nprivate String description;\n\n@Column(name = &quot;Benefits&quot;, columnDefinition = &quot;nvarchar(max)&quot;)\nprivate String benefits;\n\n@Column(name = &quot;Area&quot;, columnDefinition = &quot;float&quot;)\nprivate float area;\n\n@Column(name = &quot;Bed&quot;, columnDefinition = &quot;int&quot;)\nprivate int bed;\n\n@Column(name = &quot;Adults&quot;, columnDefinition = &quot;int&quot;)\nprivate int adults;\n\n@Column(name = &quot;Children&quot;, columnDefinition = &quot;int&quot;)\nprivate int children;\n\n@Column(name = &quot;RoomUrl&quot;, columnDefinition = &quot;nvarchar(max)&quot;)\nprivate String roomUrl1;\n\n@Column(name = &quot;RoomUr2&quot;, columnDefinition = &quot;nvarchar(max)&quot;)\nprivate String roomUrl2;\n\n@Column(name = &quot;RoomUr3&quot;, columnDefinition = &quot;nvarchar(max)&quot;)\nprivate String roomUrl3;\n\n@Column(name = &quot;IsRent&quot;, columnDefinition = &quot;bit&quot;)\nprivate boolean isRent;\n\n@ManyToOne()\n@JoinColumn(name = &quot;RoomTypeID&quot;/* , referencedColumnName = &quot;&quot; */, insertable = false, updatable = false)\nprivate RoomType roomTypeId;\n@Transient\nprivate MultipartFile file;\n</code></pre>\n<p>}</p>\n<pre><code>public class RoomServiceImpl implements RoomService {\n@Autowired\nprivate RoomRepository roomRepository;\n@Autowired\nprivate Cloudinary cloudinary;\n\n@Override\npublic boolean addRoom(Room room) {\n    try {\n        Map r = this.cloudinary.uploader().upload(room.getFile().getBytes(),\n                ObjectUtils.asMap(&quot;resource_type&quot;, &quot;auto&quot;));\n        room.setRoomUrl1((String) r.get(&quot;secure_url&quot;));\n        room.setRoomUrl2((String) r.get(&quot;secure_url&quot;));\n        room.setRoomUrl3((String) r.get(&quot;secure_url&quot;));\n        room.setRent(false);\n        return this.roomRepository.addRoom(room);\n    } catch (IOException e) {\n        System.err.println(&quot;add image&quot; + e.getMessage());\n    }\n    return false;\n}\n</code></pre>\n"},{"tags":["javascript","java","ajax","openid-connect","pac4j"],"owner":{"account_id":1736824,"reputation":5410,"user_id":1589188,"accept_rate":66,"display_name":"user1589188"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1659415295,"creation_date":1659415295,"question_id":73202063,"body_markdown":"Hi I am using Pac4j to do login logout. It has this class called `OidcLogoutActionBuilder`, where inside it checks specifically if the request is an Ajax request (e.g. from SPA), it will reply with 403. I wonder why is it?\r\n\r\nWould it be just some functional limitation (e.g. client does not do redirect from Ajax response) or is there some security concern?","title":"Pac4j OIDC logout does not allow Ajax call?","body":"<p>Hi I am using Pac4j to do login logout. It has this class called <code>OidcLogoutActionBuilder</code>, where inside it checks specifically if the request is an Ajax request (e.g. from SPA), it will reply with 403. I wonder why is it?</p>\n<p>Would it be just some functional limitation (e.g. client does not do redirect from Ajax response) or is there some security concern?</p>\n"},{"tags":["java","cmd","javac"],"comments":[{"owner":{"display_name":"user12431753"},"score":4,"creation_date":1590680045,"post_id":62068544,"comment_id":109777547,"body_markdown":"Step 4 undoes step 3.","body":"Step 4 undoes step 3."},{"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"score":3,"creation_date":1590680222,"post_id":62068544,"comment_id":109777643,"body_markdown":"In step 4, use `cd` command to get to the directory where your java file is located.","body":"In step 4, use <code>cd</code> command to get to the directory where your java file is located."},{"owner":{"account_id":7720636,"reputation":1532,"user_id":5846981,"accept_rate":100,"display_name":"Som"},"score":0,"creation_date":1590681092,"post_id":62068544,"comment_id":109778159,"body_markdown":"In Step 4 : Don;t set the PATH again. Simply do a cd &lt;your-java-file-path&gt; and execute step 5","body":"In Step 4 : Don;t set the PATH again. Simply do a cd &lt;your-java-file-path&gt; and execute step 5"},{"owner":{"account_id":2151509,"reputation":2370,"user_id":1907765,"accept_rate":41,"display_name":"Lou"},"score":0,"creation_date":1590684612,"post_id":62068544,"comment_id":109780276,"body_markdown":"Thanks @AlexRudenko and Som, in addition to the accepted answer I&#39;ve succeeded in running the program from CMD due to your comments.","body":"Thanks @AlexRudenko and Som, in addition to the accepted answer I&#39;ve succeeded in running the program from CMD due to your comments."}],"answers":[{"tags":[],"owner":{"account_id":12918035,"reputation":1641,"user_id":9341540,"accept_rate":100,"display_name":"Klaus"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1590681185,"creation_date":1590681185,"answer_id":62069012,"question_id":62068544,"body_markdown":"Steps\r\n\r\n 1. Setup the environment variables properly. In the `Path` System variable, you should add the path to bin directory. Something like `C:\\Program Files\\Java\\jdk-11.0.5\\bin` and then, you need to define a new system variable with name `JAVA_HOME` and point it to the java installation directory, not the bin directory. Something like `C:\\Program Files\\Java\\jdk-11.0.5`\r\n 2. You need NOT use the `Set` command, as of now environment variables are set. Open up a new powershell or command prompt and type `java -version`. If this prints the java version, then you are good to go with the next steps.\r\n 3. Go to your directory where your java class resides. Open up a powershell window there, with `shift + right click` and `open Powershell window here` option. Then type `javac HelloWorld.java` \r\n 4. To run programme, `java HelloWorld`\r\n\r\n","title":"Can&#39;t run a java file using javac","body":"<p>Steps</p>\n\n<ol>\n<li>Setup the environment variables properly. In the <code>Path</code> System variable, you should add the path to bin directory. Something like <code>C:\\Program Files\\Java\\jdk-11.0.5\\bin</code> and then, you need to define a new system variable with name <code>JAVA_HOME</code> and point it to the java installation directory, not the bin directory. Something like <code>C:\\Program Files\\Java\\jdk-11.0.5</code></li>\n<li>You need NOT use the <code>Set</code> command, as of now environment variables are set. Open up a new powershell or command prompt and type <code>java -version</code>. If this prints the java version, then you are good to go with the next steps.</li>\n<li>Go to your directory where your java class resides. Open up a powershell window there, with <code>shift + right click</code> and <code>open Powershell window here</code> option. Then type <code>javac HelloWorld.java</code> </li>\n<li>To run programme, <code>java HelloWorld</code></li>\n</ol>\n"}],"owner":{"account_id":2151509,"reputation":2370,"user_id":1907765,"accept_rate":41,"display_name":"Lou"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":819,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":62069012,"answer_count":1,"score":0,"last_activity_date":1659415202,"creation_date":1590679871,"question_id":62068544,"body_markdown":"I&#39;ve got the same problem as the user who posted [this question][1]. I am trying to run a Java file on a Windows machine using Command Prompt, but I&#39;m having no success using any of the information I&#39;ve gleaned from the linked question, nor from [WikiHow][2], nor from [this user on another site][3] with the same problem.\r\n\r\nHere are the steps I&#39;ve taken.\r\n\r\n1. I&#39;ve created a Java file using Notepad, called `HelloWorld.java`, and saved it in a folder called &quot;Java&quot;. The file directory is `C:\\Users\\[myname]\\Google Drive\\Java`. The code in the file is a simple Hello World as below:\r\n\t```\r\n\tclass HelloWorld {\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tSystem.out.println(&quot;Hello World!&quot;);\r\n\t\t}\r\n\t}\r\n\t```\r\n\r\n2. I&#39;ve downloaded Java version 8, and the latest version of the Java JDK (14.0.1) from the website. I previously had the JDK 12.x.x installed, so I uninstalled that.\r\n\r\n3. I&#39;ve opened System Properties &gt; Advanced &gt; Environment Variables, gone to the &quot;Path&quot; variable in &quot;System variables&quot;, clicked &quot;Edit&quot; and added a new environment variable, which was the path to the JDK bin: `C:\\Program Files\\Java\\jdk-14.0.1\\bin`. I then clicked &quot;Move Up&quot; until this variable was at the top.\r\n\r\n4. After clicking OK and closing this window, I&#39;ve opened Command Prompt, typed `set path=C:\\Users\\[myname]\\Google Drive\\Java` in order to (I imagine) set the path to where my `HelloWorld.java` file is. I&#39;ve typed in `path` to confirm that this has worked.\r\n\r\n5. I&#39;ve typed in Command Prompt `javac HelloWorld.java`. When I hit Enter, I get the output:\r\n\t```\r\n\t&#39;javac&#39; is not recognized as an internal or external command,\r\n\toperable program or batch file.\r\n\t```\r\n\r\nI&#39;m honestly not sure what steps are left to take. Is there a simple fix to get this file to run?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/44844006/cant-compile-java-file-using-javac-on-cmd\r\n  [2]: https://www.wikihow.com/Install-the-Java-Software-Development-Kit#/Image:Install-the-Java-Software-Development-Kit-Step-28-Version-2.jpg\r\n  [3]: https://www.edureka.co/community/4800/unable-resolve-error-recognized-internal-external-command\r\n","title":"Can&#39;t run a java file using javac","body":"<p>I've got the same problem as the user who posted <a href=\"https://stackoverflow.com/questions/44844006/cant-compile-java-file-using-javac-on-cmd\">this question</a>. I am trying to run a Java file on a Windows machine using Command Prompt, but I'm having no success using any of the information I've gleaned from the linked question, nor from <a href=\"https://www.wikihow.com/Install-the-Java-Software-Development-Kit#/Image:Install-the-Java-Software-Development-Kit-Step-28-Version-2.jpg\" rel=\"nofollow noreferrer\">WikiHow</a>, nor from <a href=\"https://www.edureka.co/community/4800/unable-resolve-error-recognized-internal-external-command\" rel=\"nofollow noreferrer\">this user on another site</a> with the same problem.</p>\n<p>Here are the steps I've taken.</p>\n<ol>\n<li><p>I've created a Java file using Notepad, called <code>HelloWorld.java</code>, and saved it in a folder called &quot;Java&quot;. The file directory is <code>C:\\Users\\[myname]\\Google Drive\\Java</code>. The code in the file is a simple Hello World as below:</p>\n<pre><code>class HelloWorld {\n    public static void main(String[] args) {\n        System.out.println(&quot;Hello World!&quot;);\n    }\n}\n</code></pre>\n</li>\n<li><p>I've downloaded Java version 8, and the latest version of the Java JDK (14.0.1) from the website. I previously had the JDK 12.x.x installed, so I uninstalled that.</p>\n</li>\n<li><p>I've opened System Properties &gt; Advanced &gt; Environment Variables, gone to the &quot;Path&quot; variable in &quot;System variables&quot;, clicked &quot;Edit&quot; and added a new environment variable, which was the path to the JDK bin: <code>C:\\Program Files\\Java\\jdk-14.0.1\\bin</code>. I then clicked &quot;Move Up&quot; until this variable was at the top.</p>\n</li>\n<li><p>After clicking OK and closing this window, I've opened Command Prompt, typed <code>set path=C:\\Users\\[myname]\\Google Drive\\Java</code> in order to (I imagine) set the path to where my <code>HelloWorld.java</code> file is. I've typed in <code>path</code> to confirm that this has worked.</p>\n</li>\n<li><p>I've typed in Command Prompt <code>javac HelloWorld.java</code>. When I hit Enter, I get the output:</p>\n<pre><code>'javac' is not recognized as an internal or external command,\noperable program or batch file.\n</code></pre>\n</li>\n</ol>\n<p>I'm honestly not sure what steps are left to take. Is there a simple fix to get this file to run?</p>\n"},{"tags":["java","java-8","javac"],"answers":[{"tags":[],"owner":{"account_id":19153506,"reputation":19,"user_id":13990883,"display_name":"KRIT Sami"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1595625235,"creation_date":1595625235,"answer_id":63081540,"question_id":63081466,"body_markdown":"When you compile a java file as: javac File.java(enter) then .class file is generated which is java byte code, which is the instruction set of the Java virtual machine (JVM) to interpret your code.","title":"Files left in directory after running javac for JDK1.8","body":"<p>When you compile a java file as: javac File.java(enter) then .class file is generated which is java byte code, which is the instruction set of the Java virtual machine (JVM) to interpret your code.</p>\n"},{"tags":[],"owner":{"account_id":19153506,"reputation":19,"user_id":13990883,"display_name":"KRIT Sami"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1595626923,"creation_date":1595626583,"answer_id":63081783,"question_id":63081466,"body_markdown":"I found this on the chineese version of the web site as it says,You may have placed these files in the usual temporary directories of the development system.\n\r\nThe search for a few symbols in the &quot;readable&quot; line seems to point to the hsperfdata artifact. See this hsperfdata Github parsing project. After exiting, it is possible to safely delete them. Java\r\n\r\nNote: If these are hsperfdata components, the numbers are process identifiers. You may have placed these files in the usual temporary directories of the development system.\r\n\r\n(The initial assumption is that the remaining files may be class file artifacts extracted from deleted JAR files.)","title":"Files left in directory after running javac for JDK1.8","body":"<p>I found this on the chineese version of the web site as it says,You may have placed these files in the usual temporary directories of the development system.</p>\n<p>The search for a few symbols in the &quot;readable&quot; line seems to point to the hsperfdata artifact. See this hsperfdata Github parsing project. After exiting, it is possible to safely delete them. Java</p>\n<p>Note: If these are hsperfdata components, the numbers are process identifiers. You may have placed these files in the usual temporary directories of the development system.</p>\n<p>(The initial assumption is that the remaining files may be class file artifacts extracted from deleted JAR files.)</p>\n"}],"owner":{"account_id":3551626,"reputation":352,"user_id":2966366,"accept_rate":11,"display_name":"Dave Brunkow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1659414825,"creation_date":1595624815,"question_id":63081466,"body_markdown":"If I run \r\n\r\n```\r\njavac File.java\r\n```\r\nand run `ls`, what&#39;s left is \r\n```\r\n129161 File.class File.java\r\n```\r\n```\r\nfile 129161\r\n129161: data\r\n```\r\n\r\n```\r\nls -l\r\n32768 Jul 24 20:41 129161\r\n 1493 Jul 24 20:53 File.class\r\n 1018 Jul 23 16:08 File.java\r\n```\r\nThe files obviously a binary, but the first couple of lines include:\r\n```\r\n@J8sun.rt._sync_EmptyNotifications8J0sun.rt._sync_NotificationsJ8sun.rt._sync_ContendedLockAttempts8J0sun.rt._sync_FutileWakeups0J(sun.rt._sync_Parks\r\n                                                               8J0sun.rt._sync_SlowEnter8J0sun.rt._sync_SlowExit8J0sun.rt._sync_SlowNotify8J0sun.rt._sync_SlowNotifyAll8J0sun.rt._sync_FailedS\r\n```\r\n\r\nCan anyone explain or reference documentation of exactly why the strangely number files are created in this directory every time I run javac. \r\n\r\nFor the record, I only see this with versions of oracle JDK 1.8.","title":"Files left in directory after running javac for JDK1.8","body":"<p>If I run</p>\n<pre><code>javac File.java\n</code></pre>\n<p>and run <code>ls</code>, what's left is</p>\n<pre><code>129161 File.class File.java\n</code></pre>\n<pre><code>file 129161\n129161: data\n</code></pre>\n<pre><code>ls -l\n32768 Jul 24 20:41 129161\n 1493 Jul 24 20:53 File.class\n 1018 Jul 23 16:08 File.java\n</code></pre>\n<p>The files obviously a binary, but the first couple of lines include:</p>\n<pre><code>@J8sun.rt._sync_EmptyNotifications8J0sun.rt._sync_NotificationsJ8sun.rt._sync_ContendedLockAttempts8J0sun.rt._sync_FutileWakeups0J(sun.rt._sync_Parks\n                                                               8J0sun.rt._sync_SlowEnter8J0sun.rt._sync_SlowExit8J0sun.rt._sync_SlowNotify8J0sun.rt._sync_SlowNotifyAll8J0sun.rt._sync_FailedS\n</code></pre>\n<p>Can anyone explain or reference documentation of exactly why the strangely number files are created in this directory every time I run javac.</p>\n<p>For the record, I only see this with versions of oracle JDK 1.8.</p>\n"},{"tags":["java","sublimetext3","sublimetext","javac"],"answers":[{"tags":[],"owner":{"account_id":15709966,"reputation":26,"user_id":11335708,"display_name":"Shivelight"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1603408066,"creation_date":1598014290,"answer_id":63523271,"question_id":63522477,"body_markdown":"I see that you are using Manjaro, which is Arch derivative; instead of setting the `JAVA_HOME` variable, you should use `archlinux-java` to set the default JDK version.\r\n`archlinux-java` is part of `java-runtime-common` package.\r\n\r\n---\r\n\r\nWhen something is wrong, Sublime will print your current path variable ([example][1]). Make sure the paths are set correctly.\r\n\r\n  [1]: https://i.stack.imgur.com/mewFX.png\r\n\r\nI tried your build system on my Arch machine, and it is working correctly, I also tried setting the `JAVA_HOME` variable, and it is still working.\r\n\r\nUsing Sublime Text 3 Build 3211","title":"(Sublime Text 3) bash: javac: command not found","body":"<p>I see that you are using Manjaro, which is Arch derivative; instead of setting the <code>JAVA_HOME</code> variable, you should use <code>archlinux-java</code> to set the default JDK version.\n<code>archlinux-java</code> is part of <code>java-runtime-common</code> package.</p>\n<hr />\n<p>When something is wrong, Sublime will print your current path variable (<a href=\"https://i.stack.imgur.com/mewFX.png\" rel=\"nofollow noreferrer\">example</a>). Make sure the paths are set correctly.</p>\n<p>I tried your build system on my Arch machine, and it is working correctly, I also tried setting the <code>JAVA_HOME</code> variable, and it is still working.</p>\n<p>Using Sublime Text 3 Build 3211</p>\n"},{"tags":[],"owner":{"account_id":19344080,"reputation":25,"user_id":14143008,"display_name":"CyberJelly"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1598018137,"creation_date":1598018137,"answer_id":63524215,"question_id":63522477,"body_markdown":"For future users with the same issue, I solved it by specifying the path variable in my build system by adding:\r\n\r\n    &quot;path&quot;:&quot;your/directory/here&quot;\r\nThe whole thing where I added the line to .bashrc turned out to be completely unnecessary, as this fixed it.","title":"(Sublime Text 3) bash: javac: command not found","body":"<p>For future users with the same issue, I solved it by specifying the path variable in my build system by adding:</p>\n<pre><code>&quot;path&quot;:&quot;your/directory/here&quot;\n</code></pre>\n<p>The whole thing where I added the line to .bashrc turned out to be completely unnecessary, as this fixed it.</p>\n"}],"owner":{"account_id":19344080,"reputation":25,"user_id":14143008,"display_name":"CyberJelly"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":503,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":63523271,"answer_count":2,"score":1,"last_activity_date":1659414490,"creation_date":1598010930,"question_id":63522477,"body_markdown":"I&#39;m trying to get a working build system for Java on Sublime Text 3, but whenever I try to run anything, i just get `bash: javac: command not found.`\r\n\r\nThe strangest thing about this is that I can run the javac command from a terminal, as I have added the line\r\n\r\n```\r\nexport JAVA_HOME=/usr/lib/jvm/java-14-openjdk &amp;&amp; export PATH=$JAVA_HOME/bin:$PATH\r\n```\r\n\r\nto the .bashrc file in my home directory.\r\n\r\nSo I have no idea why I can run Java files using javac and java from the terminal, however Sublime Text cannot.\r\n\r\nHere is what I have for my build system:\r\n```\r\n{\r\n   &quot;shell_cmd&quot;: &quot;javac \\&quot;$file_name\\&quot; &amp;&amp; java \\&quot;$file_base_name\\&quot;&quot;,\r\n   &quot;file_regex&quot;: &quot;^(...*?):([0-9]*):?([0-9]*)&quot;,\r\n   &quot;selector&quot;: &quot;source.java&quot;,\r\n}\r\n```\r\n\r\nI am using Manjaro 20.\r\n","title":"(Sublime Text 3) bash: javac: command not found","body":"<p>I'm trying to get a working build system for Java on Sublime Text 3, but whenever I try to run anything, i just get <code>bash: javac: command not found.</code></p>\n<p>The strangest thing about this is that I can run the javac command from a terminal, as I have added the line</p>\n<pre><code>export JAVA_HOME=/usr/lib/jvm/java-14-openjdk &amp;&amp; export PATH=$JAVA_HOME/bin:$PATH\n</code></pre>\n<p>to the .bashrc file in my home directory.</p>\n<p>So I have no idea why I can run Java files using javac and java from the terminal, however Sublime Text cannot.</p>\n<p>Here is what I have for my build system:</p>\n<pre><code>{\n   &quot;shell_cmd&quot;: &quot;javac \\&quot;$file_name\\&quot; &amp;&amp; java \\&quot;$file_base_name\\&quot;&quot;,\n   &quot;file_regex&quot;: &quot;^(...*?):([0-9]*):?([0-9]*)&quot;,\n   &quot;selector&quot;: &quot;source.java&quot;,\n}\n</code></pre>\n<p>I am using Manjaro 20.</p>\n"},{"tags":["java","javac","java-runtime-compiler"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1598543188,"creation_date":1598543188,"answer_id":63619683,"question_id":63619568,"body_markdown":"1. Fully qualified class names are of the form: `com.foo.Bar`, where `com.foo` is the package (e.g. the file defining the Bar class starts with the line `package com.foo;`), and Bar is the name (e.g. the file contains the line `public class Bar {`).\r\n2. When running `java` and specifying classpath+classname, you pass a class name. Not a file name. So to run this file you&#39;d write `java -cp /path/to/base com.foo.Bar`.\r\n3. fully qualified names must match directory structure both at runtime (class files) and compile time (java files). So, here you should have say `/Users/Foghunt/projects/myproj/src/com/foo/Bar.java` and after compilation you should have e.g. `/Users/Foghunt/projects/myproj/build/com/foo/Bar.class`\r\n4. The &#39;base dir&#39; is the one that contains the first package directory. So, the base dir for the source file is `/Users/Foghunt/projects/myproj/src` and for the compiled result is `/Users/Foghunt/projects/myproj/build`.\r\n5. The base dir needs to be in the classpath. Classpath entries are file paths. So, to run this thing you&#39;d write `java -cp /Users/Foghunt/projects/myproj/build com.foo.Bar`.\r\n6. `javac` doesn&#39;t mind if you don&#39;t go through the trouble of properly defining things (e.g. running `javac *.java` in `/Users/Foghunt/projects/myproj/src/com/foo` does work), but it gets complicated quickly if you have multiple packages.\r\n7. In general you should be using build systems. If you&#39;ve inherited this project, check for a file named `build.xml` or `pom.xml` or `build.gradle` in the root of the project. If it is there, use a web search engine (`build.xml` -&gt; search for `java ant`, `pom.xml` -&gt; `java maven`, `build.gradle` -&gt; `java gradle`), and use that to build the project, don&#39;t run `javac` yourself.\r\n\r\nThere you go. Armed with that knowledge you can now analyse, build, and run any java project.\r\n","title":"Error caused on runtime of java class file","body":"<ol>\n<li>Fully qualified class names are of the form: <code>com.foo.Bar</code>, where <code>com.foo</code> is the package (e.g. the file defining the Bar class starts with the line <code>package com.foo;</code>), and Bar is the name (e.g. the file contains the line <code>public class Bar {</code>).</li>\n<li>When running <code>java</code> and specifying classpath+classname, you pass a class name. Not a file name. So to run this file you'd write <code>java -cp /path/to/base com.foo.Bar</code>.</li>\n<li>fully qualified names must match directory structure both at runtime (class files) and compile time (java files). So, here you should have say <code>/Users/Foghunt/projects/myproj/src/com/foo/Bar.java</code> and after compilation you should have e.g. <code>/Users/Foghunt/projects/myproj/build/com/foo/Bar.class</code></li>\n<li>The 'base dir' is the one that contains the first package directory. So, the base dir for the source file is <code>/Users/Foghunt/projects/myproj/src</code> and for the compiled result is <code>/Users/Foghunt/projects/myproj/build</code>.</li>\n<li>The base dir needs to be in the classpath. Classpath entries are file paths. So, to run this thing you'd write <code>java -cp /Users/Foghunt/projects/myproj/build com.foo.Bar</code>.</li>\n<li><code>javac</code> doesn't mind if you don't go through the trouble of properly defining things (e.g. running <code>javac *.java</code> in <code>/Users/Foghunt/projects/myproj/src/com/foo</code> does work), but it gets complicated quickly if you have multiple packages.</li>\n<li>In general you should be using build systems. If you've inherited this project, check for a file named <code>build.xml</code> or <code>pom.xml</code> or <code>build.gradle</code> in the root of the project. If it is there, use a web search engine (<code>build.xml</code> -&gt; search for <code>java ant</code>, <code>pom.xml</code> -&gt; <code>java maven</code>, <code>build.gradle</code> -&gt; <code>java gradle</code>), and use that to build the project, don't run <code>javac</code> yourself.</li>\n</ol>\n<p>There you go. Armed with that knowledge you can now analyse, build, and run any java project.</p>\n"}],"owner":{"display_name":"user4896245"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":186,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1659414363,"creation_date":1598542848,"question_id":63619568,"body_markdown":"How do I compile and run java files if you don&#39;t know the specific package used by the developer... \r\n\r\n\r\nI got a folder of java files written by someone else, and I&#39;m trying to compile and run the java files, I can compile the files by running `javac *.java`, but if I try to run the main class by calling `java MainClass`, I get an error like so: `Error could not find or load main class MainClass, Caused by: java.lang.NoClassDefFoundError: SomePackageName/MainClass (wrong name: MainClass)`\r\n\r\nI have no idea whats the SomePackageName its defined by the developer and I have no control over that.\r\n\r\nso the question is how do I compile and run the java files if all I know is which is the main class?","title":"Error caused on runtime of java class file","body":"<p>How do I compile and run java files if you don't know the specific package used by the developer...</p>\n<p>I got a folder of java files written by someone else, and I'm trying to compile and run the java files, I can compile the files by running <code>javac *.java</code>, but if I try to run the main class by calling <code>java MainClass</code>, I get an error like so: <code>Error could not find or load main class MainClass, Caused by: java.lang.NoClassDefFoundError: SomePackageName/MainClass (wrong name: MainClass)</code></p>\n<p>I have no idea whats the SomePackageName its defined by the developer and I have no control over that.</p>\n<p>so the question is how do I compile and run the java files if all I know is which is the main class?</p>\n"},{"tags":["java","jmap"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1659406038,"post_id":73201268,"comment_id":129281672,"body_markdown":"Just to check the obvious, is the PID correct (How are you getting it), and do you have sufficient privilege to attach that process, do you get prompted to enter credentials, or have you done this already before running the command, for example `% su adminUsername`? Please provide details","body":"Just to check the obvious, is the PID correct (How are you getting it), and do you have sufficient privilege to attach that process, do you get prompted to enter credentials, or have you done this already before running the command, for example <code>% su adminUsername</code>? Please provide details"},{"owner":{"account_id":4311404,"reputation":571,"user_id":3522338,"accept_rate":55,"display_name":"MMMMMCCLXXVII"},"score":0,"creation_date":1659414084,"post_id":73201268,"comment_id":129282844,"body_markdown":"yes sir. I got PID from jps command. And also,the java process is still live when i run sudo jhsdb.","body":"yes sir. I got PID from jps command. And also,the java process is still live when i run sudo jhsdb."},{"owner":{"account_id":4311404,"reputation":571,"user_id":3522338,"accept_rate":55,"display_name":"MMMMMCCLXXVII"},"score":0,"creation_date":1659416317,"post_id":73201268,"comment_id":129283162,"body_markdown":"@sorifiend Speak of privilege, I thought that&#39;s the key problem, since I already use sudo, I hope it works which didn&#39;t.","body":"@sorifiend Speak of privilege, I thought that&#39;s the key problem, since I already use sudo, I hope it works which didn&#39;t."}],"owner":{"account_id":4311404,"reputation":571,"user_id":3522338,"accept_rate":55,"display_name":"MMMMMCCLXXVII"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":436,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1659414244,"creation_date":1659405824,"question_id":73201268,"body_markdown":"macOS Monterey version is 12.5\r\nand jdk version is 11\r\n\r\nI was going with `sudo jhsdb jmap --heap --pid xxxx` to analyze java process. Then I got the error followed\r\n\r\n    Password:\r\n    Attaching to process ID 47413, please wait...\r\n    ERROR: attach: task_for_pid(47413) failed: &#39;(os/kern) failure&#39; (5)\r\n    Error attaching to process: sun.jvm.hotspot.debugger.DebuggerException: Can&#39;t attach to the process. Could be caused by an incorrect pid or lack of privileges.\r\n    sun.jvm.hotspot.debugger.DebuggerException: sun.jvm.hotspot.debugger.DebuggerException: Can&#39;t attach to the process. Could be caused by an incorrect pid or lack of privileges.\r\n    \tat jdk.hotspot.agent/sun.jvm.hotspot.debugger.bsd.BsdDebuggerLocal$BsdDebuggerLocalWorkerThread.execute(BsdDebuggerLocal.java:169)\r\n    \tat jdk.hotspot.agent/sun.jvm.hotspot.debugger.bsd.BsdDebuggerLocal.attach(BsdDebuggerLocal.java:283)\r\n    \tat jdk.hotspot.agent/sun.jvm.hotspot.HotSpotAgent.attachDebugger(HotSpotAgent.java:672)\r\n    \tat jdk.hotspot.agent/sun.jvm.hotspot.HotSpotAgent.setupDebuggerDarwin(HotSpotAgent.java:660)\r\n    \tat jdk.hotspot.agent/sun.jvm.hotspot.HotSpotAgent.setupDebugger(HotSpotAgent.java:342)\r\n    \tat jdk.hotspot.agent/sun.jvm.hotspot.HotSpotAgent.go(HotSpotAgent.java:305)\r\n    \tat jdk.hotspot.agent/sun.jvm.hotspot.HotSpotAgent.attach(HotSpotAgent.java:141)\r\n    \tat jdk.hotspot.agent/sun.jvm.hotspot.tools.Tool.start(Tool.java:185)\r\n    \tat jdk.hotspot.agent/sun.jvm.hotspot.tools.Tool.execute(Tool.java:118)\r\n    \tat jdk.hotspot.agent/sun.jvm.hotspot.tools.JMap.main(JMap.java:176)\r\n    \tat jdk.hotspot.agent/sun.jvm.hotspot.SALauncher.runJMAP(SALauncher.java:369)\r\n    \tat jdk.hotspot.agent/sun.jvm.hotspot.SALauncher.main(SALauncher.java:538)\r\n    Caused by: sun.jvm.hotspot.debugger.DebuggerException: Can&#39;t attach to the process. Could be caused by an incorrect pid or lack of privileges.\r\n    \tat jdk.hotspot.agent/sun.jvm.hotspot.debugger.bsd.BsdDebuggerLocal.attach0(Native Method)\r\n    \tat jdk.hotspot.agent/sun.jvm.hotspot.debugger.bsd.BsdDebuggerLocal$1AttachTask.doit(BsdDebuggerLocal.java:274)\r\n    \tat jdk.hotspot.agent/sun.jvm.hotspot.debugger.bsd.BsdDebuggerLocal$BsdDebuggerLocalWorkerThread.run(BsdDebuggerLocal.java:144)\r\n\r\n**I&#39;v tried use jdk14,18,and didn&#39;t work out for me.**\r\n\r\nso any solution?\r\n\r\n","title":"jhsdb can&#39;t attach the java process in MacOS Monterey","body":"<p>macOS Monterey version is 12.5\nand jdk version is 11</p>\n<p>I was going with <code>sudo jhsdb jmap --heap --pid xxxx</code> to analyze java process. Then I got the error followed</p>\n<pre><code>Password:\nAttaching to process ID 47413, please wait...\nERROR: attach: task_for_pid(47413) failed: '(os/kern) failure' (5)\nError attaching to process: sun.jvm.hotspot.debugger.DebuggerException: Can't attach to the process. Could be caused by an incorrect pid or lack of privileges.\nsun.jvm.hotspot.debugger.DebuggerException: sun.jvm.hotspot.debugger.DebuggerException: Can't attach to the process. Could be caused by an incorrect pid or lack of privileges.\n    at jdk.hotspot.agent/sun.jvm.hotspot.debugger.bsd.BsdDebuggerLocal$BsdDebuggerLocalWorkerThread.execute(BsdDebuggerLocal.java:169)\n    at jdk.hotspot.agent/sun.jvm.hotspot.debugger.bsd.BsdDebuggerLocal.attach(BsdDebuggerLocal.java:283)\n    at jdk.hotspot.agent/sun.jvm.hotspot.HotSpotAgent.attachDebugger(HotSpotAgent.java:672)\n    at jdk.hotspot.agent/sun.jvm.hotspot.HotSpotAgent.setupDebuggerDarwin(HotSpotAgent.java:660)\n    at jdk.hotspot.agent/sun.jvm.hotspot.HotSpotAgent.setupDebugger(HotSpotAgent.java:342)\n    at jdk.hotspot.agent/sun.jvm.hotspot.HotSpotAgent.go(HotSpotAgent.java:305)\n    at jdk.hotspot.agent/sun.jvm.hotspot.HotSpotAgent.attach(HotSpotAgent.java:141)\n    at jdk.hotspot.agent/sun.jvm.hotspot.tools.Tool.start(Tool.java:185)\n    at jdk.hotspot.agent/sun.jvm.hotspot.tools.Tool.execute(Tool.java:118)\n    at jdk.hotspot.agent/sun.jvm.hotspot.tools.JMap.main(JMap.java:176)\n    at jdk.hotspot.agent/sun.jvm.hotspot.SALauncher.runJMAP(SALauncher.java:369)\n    at jdk.hotspot.agent/sun.jvm.hotspot.SALauncher.main(SALauncher.java:538)\nCaused by: sun.jvm.hotspot.debugger.DebuggerException: Can't attach to the process. Could be caused by an incorrect pid or lack of privileges.\n    at jdk.hotspot.agent/sun.jvm.hotspot.debugger.bsd.BsdDebuggerLocal.attach0(Native Method)\n    at jdk.hotspot.agent/sun.jvm.hotspot.debugger.bsd.BsdDebuggerLocal$1AttachTask.doit(BsdDebuggerLocal.java:274)\n    at jdk.hotspot.agent/sun.jvm.hotspot.debugger.bsd.BsdDebuggerLocal$BsdDebuggerLocalWorkerThread.run(BsdDebuggerLocal.java:144)\n</code></pre>\n<p><strong>I'v tried use jdk14,18,and didn't work out for me.</strong></p>\n<p>so any solution?</p>\n"},{"tags":["java","java-native-interface","javac","javah"],"comments":[{"owner":{"account_id":19054692,"reputation":3493,"user_id":13912132,"display_name":"JCWasmx86"},"score":0,"creation_date":1602435039,"post_id":64299349,"comment_id":113712967,"body_markdown":"I think it&#39;s a legacy from the NMI (The JNI of JDK 1.0.2) or LLNI (Something similar). The code for generating the LLNI headers is [this]  (http://www.docjar.com/html/api/com/sun/tools/javah/LLNI.java.html) and shows, that a structure is created","body":"I think it&#39;s a legacy from the NMI (The JNI of JDK 1.0.2) or LLNI (Something similar). The code for generating the LLNI headers is [this]  (<a href=\"http://www.docjar.com/html/api/com/sun/tools/javah/LLNI.java.html\" rel=\"nofollow noreferrer\">docjar.com/html/api/com/sun/tools/javah/LLNI.java.html</a>) and shows, that a structure is created"},{"owner":{"account_id":19054692,"reputation":3493,"user_id":13912132,"display_name":"JCWasmx86"},"score":0,"creation_date":1602435229,"post_id":64299349,"comment_id":113713030,"body_markdown":"Look here, https://github.com/JetBrains/jdk8u_langtools/blob/06b2a96e80a08ba77dacf797596f0679bbd7bafd/src/share/classes/com/sun/tools/javah/JavahTask.java#L223 Try running with `-Xllni`. It *should* generate a header with a structure.","body":"Look here, <a href=\"https://github.com/JetBrains/jdk8u_langtools/blob/06b2a96e80a08ba77dacf797596f0679bbd7bafd/src/share/classes/com/sun/tools/javah/JavahTask.java#L223\" rel=\"nofollow noreferrer\">github.com/JetBrains/jdk8u_langtools/blob/&hellip;</a> Try running with <code>-Xllni</code>. It <i>should</i> generate a header with a structure."},{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":1,"creation_date":1602445605,"post_id":64299349,"comment_id":113716181,"body_markdown":"What are you actually planning to do with it, though? You cannot (directly) use these generated structs to access fields Java objects.","body":"What are you actually planning to do with it, though? You cannot (directly) use these generated structs to access fields Java objects."}],"answers":[{"tags":[],"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659413662,"creation_date":1659413662,"answer_id":73201913,"question_id":64299349,"body_markdown":"### Question\r\n\r\nWhat steps can be used to generate a JNI header file for the Java class below?\r\n```\r\npublic class Position {\r\n    float x;\r\n    float y;\r\n    public static native long instance();\r\n    public static native float getX(long ptr);\r\n    public static native float getY(long ptr);\r\n    public static native long delete(long ptr);\r\n}\r\n```\r\n\r\n### Steps to follow\r\n\r\n1. Verify using JDK 11  you mentioned trying versions 8 and 11, so I&#39;m showing 11\r\n\t```\r\n\t% javac -version\r\n\tjavac 11.0.14\r\n\t```\r\n1. Run [`javac`](https://docs.oracle.com/en/java/javase/11/tools/javac.html#GUID-AEEC9F07-CB49-4E96-8BC7-BCC2C7F725C9) using `-h` option and &quot;.&quot; to write generated files to current directory\r\n\t```\r\n\t% javac -h . Position.java \r\n\t```\r\n1. Verify contents of generated header file\r\n\t```\r\n\t% cat Position.h\r\n\t/* DO NOT EDIT THIS FILE - it is machine generated */\r\n\t#include &lt;jni.h&gt;\r\n\t/* Header for class Position */\r\n\r\n\t#ifndef _Included_Position\r\n\t#define _Included_Position\r\n\t#ifdef __cplusplus\r\n\textern &quot;C&quot; {\r\n\t#endif\r\n\t/*\r\n\t * Class:     Position\r\n\t * Method:    instance\r\n\t * Signature: ()J\r\n\t */\r\n\tJNIEXPORT jlong JNICALL Java_Position_instance\r\n\t  (JNIEnv *, jclass);\r\n\r\n\t/*\r\n\t * Class:     Position\r\n\t * Method:    getX\r\n\t * Signature: (J)F\r\n\t */\r\n\tJNIEXPORT jfloat JNICALL Java_Position_getX\r\n\t  (JNIEnv *, jclass, jlong);\r\n\r\n\t/*\r\n\t * Class:     Position\r\n\t * Method:    getY\r\n\t * Signature: (J)F\r\n\t */\r\n\tJNIEXPORT jfloat JNICALL Java_Position_getY\r\n\t  (JNIEnv *, jclass, jlong);\r\n\r\n\t/*\r\n\t * Class:     Position\r\n\t * Method:    delete\r\n\t * Signature: (J)J\r\n\t */\r\n\tJNIEXPORT jlong JNICALL Java_Position_delete\r\n\t  (JNIEnv *, jclass, jlong);\r\n\r\n\t#ifdef __cplusplus\r\n\t}\r\n\t#endif\r\n\t#endif\r\n\t```","title":"How to generate struct definition in the JNI header file with the javac or javah commands?","body":"<h3>Question</h3>\n<p>What steps can be used to generate a JNI header file for the Java class below?</p>\n<pre><code>public class Position {\n    float x;\n    float y;\n    public static native long instance();\n    public static native float getX(long ptr);\n    public static native float getY(long ptr);\n    public static native long delete(long ptr);\n}\n</code></pre>\n<h3>Steps to follow</h3>\n<ol>\n<li>Verify using JDK 11  you mentioned trying versions 8 and 11, so I'm showing 11\n<pre><code>% javac -version\njavac 11.0.14\n</code></pre>\n</li>\n<li>Run <a href=\"https://docs.oracle.com/en/java/javase/11/tools/javac.html#GUID-AEEC9F07-CB49-4E96-8BC7-BCC2C7F725C9\" rel=\"nofollow noreferrer\"><code>javac</code></a> using <code>-h</code> option and &quot;.&quot; to write generated files to current directory\n<pre><code>% javac -h . Position.java \n</code></pre>\n</li>\n<li>Verify contents of generated header file\n<pre><code>% cat Position.h\n/* DO NOT EDIT THIS FILE - it is machine generated */\n#include &lt;jni.h&gt;\n/* Header for class Position */\n\n#ifndef _Included_Position\n#define _Included_Position\n#ifdef __cplusplus\nextern &quot;C&quot; {\n#endif\n/*\n * Class:     Position\n * Method:    instance\n * Signature: ()J\n */\nJNIEXPORT jlong JNICALL Java_Position_instance\n  (JNIEnv *, jclass);\n\n/*\n * Class:     Position\n * Method:    getX\n * Signature: (J)F\n */\nJNIEXPORT jfloat JNICALL Java_Position_getX\n  (JNIEnv *, jclass, jlong);\n\n/*\n * Class:     Position\n * Method:    getY\n * Signature: (J)F\n */\nJNIEXPORT jfloat JNICALL Java_Position_getY\n  (JNIEnv *, jclass, jlong);\n\n/*\n * Class:     Position\n * Method:    delete\n * Signature: (J)J\n */\nJNIEXPORT jlong JNICALL Java_Position_delete\n  (JNIEnv *, jclass, jlong);\n\n#ifdef __cplusplus\n}\n#endif\n#endif\n</code></pre>\n</li>\n</ol>\n"}],"owner":{"account_id":19706500,"reputation":1,"user_id":14428060,"display_name":"Vlad Radu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":206,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659413662,"creation_date":1602373414,"question_id":64299349,"body_markdown":"Given a class such as:\r\n\r\n    class Position {\r\n       float   x;\r\n       float   y;\r\n\r\n       public static native long instance();\r\n       public static native float getX(long ptr);\r\n       public static native float getY(long ptr);\r\n       public static native long delete(long ptr);\r\n    }\r\n\r\nwhen generating the native header file, I would like the struct definition corresponding to the fields of the class to be included in the headers. Something like:\r\n\r\n    struct Position {\r\n       float x;\r\n       float y;\r\n    }\r\n\r\nRunning the command \r\n\r\n    javac -classpath bin -d . -h jni src/Position.java\r\n\r\nwith Java 11 or the command\r\n    \r\n    javah src/Position\r\n\r\nwith Java 8 doesn&#39;t generate the struct.\r\n\r\nI found the desired behaviour described in [docs][1] for javah (not sure how valid they are currently) stating `The .h file contains a struct definition whose layout parallels the layout of the corresponding class.`\r\n\r\nI would like to know if it&#39;s possible to achieve what I described above with `javac -h`. If not was it ever possible and if so, what were the reasons for the change? Moreover what alternatives do I have?\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/technotes/tools/windows/javah.html","title":"How to generate struct definition in the JNI header file with the javac or javah commands?","body":"<p>Given a class such as:</p>\n<pre><code>class Position {\n   float   x;\n   float   y;\n\n   public static native long instance();\n   public static native float getX(long ptr);\n   public static native float getY(long ptr);\n   public static native long delete(long ptr);\n}\n</code></pre>\n<p>when generating the native header file, I would like the struct definition corresponding to the fields of the class to be included in the headers. Something like:</p>\n<pre><code>struct Position {\n   float x;\n   float y;\n}\n</code></pre>\n<p>Running the command</p>\n<pre><code>javac -classpath bin -d . -h jni src/Position.java\n</code></pre>\n<p>with Java 11 or the command</p>\n<pre><code>javah src/Position\n</code></pre>\n<p>with Java 8 doesn't generate the struct.</p>\n<p>I found the desired behaviour described in <a href=\"https://docs.oracle.com/javase/7/docs/technotes/tools/windows/javah.html\" rel=\"nofollow noreferrer\">docs</a> for javah (not sure how valid they are currently) stating <code>The .h file contains a struct definition whose layout parallels the layout of the corresponding class.</code></p>\n<p>I would like to know if it's possible to achieve what I described above with <code>javac -h</code>. If not was it ever possible and if so, what were the reasons for the change? Moreover what alternatives do I have?</p>\n"},{"tags":["java","javac"],"comments":[{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1617035526,"post_id":66857977,"comment_id":118182951,"body_markdown":"Yes, just use https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Scanner.html#%3Cinit%3E(java.io.File)","body":"Yes, just use <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Scanner.html#%3Cinit%3E(java.io.File)\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/11/docs/api/java.base/java/ut&zwnj;&#8203;il/&hellip;</a>"},{"owner":{"account_id":10954410,"reputation":112,"user_id":8049704,"display_name":"cMcNerlin"},"score":0,"creation_date":1617035684,"post_id":66857977,"comment_id":118183027,"body_markdown":"If you&#39;re using this just to test your code, you can just hard-code the input into the program itself rather than taking interactive input for the time being.","body":"If you&#39;re using this just to test your code, you can just hard-code the input into the program itself rather than taking interactive input for the time being."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1617036747,"post_id":66857977,"comment_id":118183533,"body_markdown":"So you want your code to contain: `Scanner s = new Scanner(System.in);` but for `s.nextLine()` you want the value to come from a text file rather than the standard input. Is that correct?","body":"So you want your code to contain: <code>Scanner s = new Scanner(System.in);</code> but for <code>s.nextLine()</code> you want the value to come from a text file rather than the standard input. Is that correct?"},{"owner":{"account_id":17068728,"reputation":45,"user_id":12756431,"display_name":"huzaifa imran"},"score":0,"creation_date":1617038691,"post_id":66857977,"comment_id":118184330,"body_markdown":"@k314159 I read it but I could not understand how can I use text file can you please help me in understanding&gt;?","body":"@k314159 I read it but I could not understand how can I use text file can you please help me in understanding&gt;?"},{"owner":{"account_id":17068728,"reputation":45,"user_id":12756431,"display_name":"huzaifa imran"},"score":0,"creation_date":1617038766,"post_id":66857977,"comment_id":118184360,"body_markdown":"@cMcNerlin I used to do that But code consists of three classes I can&#39;t really hardcore all that stuff with all different possibilities to be evaluated Like number of inputs sentinel values e.t.c. \nAfter it i&#39;d have to replace everything as well!","body":"@cMcNerlin I used to do that But code consists of three classes I can&#39;t really hardcore all that stuff with all different possibilities to be evaluated Like number of inputs sentinel values e.t.c.  After it i&#39;d have to replace everything as well!"},{"owner":{"account_id":17068728,"reputation":45,"user_id":12756431,"display_name":"huzaifa imran"},"score":0,"creation_date":1617038806,"post_id":66857977,"comment_id":118184389,"body_markdown":"@Abra Precisely, Like I dont have to enter it time and again but instead it automatically fetches from text file!","body":"@Abra Precisely, Like I dont have to enter it time and again but instead it automatically fetches from text file!"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1617038815,"post_id":66857977,"comment_id":118184393,"body_markdown":"`Scanner in = new Scanner(new File(&quot;input.txt&quot;));`","body":"<code>Scanner in = new Scanner(new File(&quot;input.txt&quot;));</code>"},{"owner":{"account_id":17068728,"reputation":45,"user_id":12756431,"display_name":"huzaifa imran"},"score":0,"creation_date":1617038961,"post_id":66857977,"comment_id":118184466,"body_markdown":"@k314159 Got it, Thanks \nSo as far as I am getting, File is a class whose object&#39;s constructor takes the filename \nDoes that mean .txt file has to be in same folder as .java file?","body":"@k314159 Got it, Thanks  So as far as I am getting, File is a class whose object&#39;s constructor takes the filename  Does that mean .txt file has to be in same folder as .java file?"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1617039113,"post_id":66857977,"comment_id":118184538,"body_markdown":"It should be in the directory from which you run your program. Which directory that is, depends on a lot of things. You&#39;ll need to read documentation of your IDE, if you&#39;re using one, or just by trial and error.","body":"It should be in the directory from which you run your program. Which directory that is, depends on a lot of things. You&#39;ll need to read documentation of your IDE, if you&#39;re using one, or just by trial and error."},{"owner":{"account_id":17068728,"reputation":45,"user_id":12756431,"display_name":"huzaifa imran"},"score":0,"creation_date":1617090245,"post_id":66857977,"comment_id":118198469,"body_markdown":"Got it, So that means without changing the Scanner class its impossible to provide the input by a .txt file by using some javac command unlike gcc?","body":"Got it, So that means without changing the Scanner class its impossible to provide the input by a .txt file by using some javac command unlike gcc?"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1617091540,"post_id":66857977,"comment_id":118199066,"body_markdown":"You can redirect stdin with java just like with any other command. `java MyApp &lt; input.txt`.","body":"You can redirect stdin with java just like with any other command. <code>java MyApp &lt; input.txt</code>."}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1617091260,"creation_date":1617091260,"answer_id":66866922,"question_id":66857977,"body_markdown":"If you want to be able to run the same code, unchanged, for either getting user input via standard input or via a file, I suggest defining a &quot;system&quot; property as a flag to determine where user input comes from, depending on whether the property is defined or not.\r\n```java\r\nimport java.io.IOException;\r\nimport java.nio.file.Paths;\r\nimport java.util.Scanner;\r\n\r\npublic class Testings {\r\n    public static void main(String[] args) throws IOException {\r\n        String redirect = System.getProperty(&quot;REDIRECT&quot;);\r\n        Scanner scanner;\r\n        if (redirect != null) {\r\n            scanner = new Scanner(Paths.get(&quot;&quot;, args));\r\n        }\r\n        else {\r\n            scanner = new Scanner(System.in);\r\n        }\r\n        if (scanner.hasNextLine()) {\r\n            System.out.println(scanner.nextLine());\r\n        }\r\n        if (redirect != null) {\r\n            scanner.close();\r\n        }\r\n    }\r\n}\r\n```\r\nIf you want input from a file, rather than from standard input, use the following command to run the code.\r\n```none\r\njava -DREDIRECT Testings path/to/file.txt\r\n```\r\nIf you want input from the user, via the keyboard then remove `-DREDIRECT`, i.e.\r\n```none\r\njava Testings\r\n```\r\nSince you are not getting input from the file, no need to provide a path.\r\n\r\nNote that if you are using an IDE, then it should provide the ability to define a &quot;system&quot; property as above. Also note that the property name can be *anything*. I simply (and arbitrarily) chose REDIRECT. Remember though, that it is case sensitive.\r\n\r\nAlternatively, you can redirect `System.in`.\r\n```java\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Path;\r\nimport java.nio.file.Paths;\r\nimport java.util.Scanner;\r\n\r\npublic class Testings {\r\n    private static void redirect(String[] args) throws IOException {\r\n        Path path = Paths.get(&quot;&quot;, args);\r\n        InputStream is = Files.newInputStream(path);\r\n        System.setIn(is);\r\n    }\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        String redirect = System.getProperty(&quot;REDIRECT&quot;);\r\n        Scanner scanner;\r\n        if (redirect != null) {\r\n            redirect(args);\r\n        }\r\n        scanner = new Scanner(System.in);\r\n        if (scanner.hasNextLine()) {\r\n            System.out.println(scanner.nextLine());\r\n        }\r\n    }\r\n}\r\n```\r\nRegarding the file that you use for input, the path to the file can be either relative or absolute. If it is relative, then it is relative to the current working directory which is the value returned by the following code:\r\n```java\r\nSystem.getProperty(&quot;user.dir&quot;);\r\n```\r\nAlternatively, you could make the file a [resource][1] which would mean that the path is relative to the CLASSPATH.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/technotes/guides/lang/resources.html","title":"How to provide the input data for Scanner class from a text file instead of keyboard in java?","body":"<p>If you want to be able to run the same code, unchanged, for either getting user input via standard input or via a file, I suggest defining a &quot;system&quot; property as a flag to determine where user input comes from, depending on whether the property is defined or not.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.IOException;\nimport java.nio.file.Paths;\nimport java.util.Scanner;\n\npublic class Testings {\n    public static void main(String[] args) throws IOException {\n        String redirect = System.getProperty(&quot;REDIRECT&quot;);\n        Scanner scanner;\n        if (redirect != null) {\n            scanner = new Scanner(Paths.get(&quot;&quot;, args));\n        }\n        else {\n            scanner = new Scanner(System.in);\n        }\n        if (scanner.hasNextLine()) {\n            System.out.println(scanner.nextLine());\n        }\n        if (redirect != null) {\n            scanner.close();\n        }\n    }\n}\n</code></pre>\n<p>If you want input from a file, rather than from standard input, use the following command to run the code.</p>\n<pre class=\"lang-none prettyprint-override\"><code>java -DREDIRECT Testings path/to/file.txt\n</code></pre>\n<p>If you want input from the user, via the keyboard then remove <code>-DREDIRECT</code>, i.e.</p>\n<pre class=\"lang-none prettyprint-override\"><code>java Testings\n</code></pre>\n<p>Since you are not getting input from the file, no need to provide a path.</p>\n<p>Note that if you are using an IDE, then it should provide the ability to define a &quot;system&quot; property as above. Also note that the property name can be <em>anything</em>. I simply (and arbitrarily) chose REDIRECT. Remember though, that it is case sensitive.</p>\n<p>Alternatively, you can redirect <code>System.in</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.IOException;\nimport java.io.InputStream;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.util.Scanner;\n\npublic class Testings {\n    private static void redirect(String[] args) throws IOException {\n        Path path = Paths.get(&quot;&quot;, args);\n        InputStream is = Files.newInputStream(path);\n        System.setIn(is);\n    }\n\n    public static void main(String[] args) throws IOException {\n        String redirect = System.getProperty(&quot;REDIRECT&quot;);\n        Scanner scanner;\n        if (redirect != null) {\n            redirect(args);\n        }\n        scanner = new Scanner(System.in);\n        if (scanner.hasNextLine()) {\n            System.out.println(scanner.nextLine());\n        }\n    }\n}\n</code></pre>\n<p>Regarding the file that you use for input, the path to the file can be either relative or absolute. If it is relative, then it is relative to the current working directory which is the value returned by the following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.getProperty(&quot;user.dir&quot;);\n</code></pre>\n<p>Alternatively, you could make the file a <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/lang/resources.html\" rel=\"nofollow noreferrer\">resource</a> which would mean that the path is relative to the CLASSPATH.</p>\n"},{"tags":[],"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659412113,"creation_date":1659412113,"answer_id":73201782,"question_id":66857977,"body_markdown":"Once you&#39;ve created a new Scanner using `System.in`, you can send data to that program in at least three ways.\r\n\r\n### Example code\r\n\r\nHere&#39;s an example bit of code. It reads three lines of text from `System.in`, then prints all three lines.\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class SystemInExample {\r\n    public static void main(String[] args) throws Exception {\r\n        Scanner scanner = new Scanner(System.in);\r\n\r\n        String one = scanner.nextLine();\r\n        String two = scanner.nextLine();\r\n        String three = scanner.nextLine();\r\n\r\n        System.out.println(&quot;one: &quot; + one);\r\n        System.out.println(&quot;two: &quot; + two);\r\n        System.out.println(&quot;three: &quot; + three);\r\n    }\r\n}\r\n```\r\n\r\n### Providing input in three ways\r\n\r\n1. Here&#39;s a sample run where I typed in three lines of text, then it parroted the lines back out.\r\n\t```\r\n\taaaaaaa\r\n\tbbbbbbb\r\n\tccccccc\r\n\tone: aaaaaaa\r\n\ttwo: bbbbbbb\r\n\tthree: ccccccc\r\n\t```\r\n1. Here&#39;s a variation using a pipe:\r\n\t* use a text file (&quot;input.txt&quot;) which has three lines of text\r\n\t\t```\r\n\t\t% cat input.txt \r\n\t\tone one one\r\n\t\ttwo two two\r\n\t\tthree three three\r\n\t\t```\r\n\t* use `cat` to send the contents of that file to a pipe\r\n\t* the piped output goes to the Java program, which I ran using [&quot;java&quot; to compile+run in one step](https://stackoverflow.com/a/58086598/11374957)  no &quot;javac&quot;\r\n\t\t```\r\n\t\t% cat input.txt | java SystemInExample.java\r\n\t\tone: one one one\r\n\t\ttwo: two two two\r\n\t\tthree: three three three\r\n\t\t```\r\n1. Here&#39;s another variation using a redirect:\r\n\t* use the same text file\r\n\t* run the program (again, JEP 330-style)\r\n\t* use `&lt;` to direct the file contents to `stdin` for the program\r\n\t\t```\r\n\t\t% java SystemInExample.java &lt; input.txt \r\n\t\tone: one one one\r\n\t\ttwo: two two two\r\n\t\tthree: three three three\r\n\t\t```\r\n\r\n----\r\n\r\nThe above variations should work fine on mac/unix/linux. If you&#39;re using Windows, this probably wouldn&#39;t work without modifications.\r\n","title":"How to provide the input data for Scanner class from a text file instead of keyboard in java?","body":"<p>Once you've created a new Scanner using <code>System.in</code>, you can send data to that program in at least three ways.</p>\n<h3>Example code</h3>\n<p>Here's an example bit of code. It reads three lines of text from <code>System.in</code>, then prints all three lines.</p>\n<pre><code>import java.util.Scanner;\n\npublic class SystemInExample {\n    public static void main(String[] args) throws Exception {\n        Scanner scanner = new Scanner(System.in);\n\n        String one = scanner.nextLine();\n        String two = scanner.nextLine();\n        String three = scanner.nextLine();\n\n        System.out.println(&quot;one: &quot; + one);\n        System.out.println(&quot;two: &quot; + two);\n        System.out.println(&quot;three: &quot; + three);\n    }\n}\n</code></pre>\n<h3>Providing input in three ways</h3>\n<ol>\n<li>Here's a sample run where I typed in three lines of text, then it parroted the lines back out.\n<pre><code>aaaaaaa\nbbbbbbb\nccccccc\none: aaaaaaa\ntwo: bbbbbbb\nthree: ccccccc\n</code></pre>\n</li>\n<li>Here's a variation using a pipe:\n<ul>\n<li>use a text file (&quot;input.txt&quot;) which has three lines of text\n<pre><code>% cat input.txt \none one one\ntwo two two\nthree three three\n</code></pre>\n</li>\n<li>use <code>cat</code> to send the contents of that file to a pipe</li>\n<li>the piped output goes to the Java program, which I ran using <a href=\"https://stackoverflow.com/a/58086598/11374957\">&quot;java&quot; to compile+run in one step</a>  no &quot;javac&quot;\n<pre><code>% cat input.txt | java SystemInExample.java\none: one one one\ntwo: two two two\nthree: three three three\n</code></pre>\n</li>\n</ul>\n</li>\n<li>Here's another variation using a redirect:\n<ul>\n<li>use the same text file</li>\n<li>run the program (again, JEP 330-style)</li>\n<li>use <code>&lt;</code> to direct the file contents to <code>stdin</code> for the program\n<pre><code>% java SystemInExample.java &lt; input.txt \none: one one one\ntwo: two two two\nthree: three three three\n</code></pre>\n</li>\n</ul>\n</li>\n</ol>\n<hr />\n<p>The above variations should work fine on mac/unix/linux. If you're using Windows, this probably wouldn't work without modifications.</p>\n"}],"owner":{"account_id":17068728,"reputation":45,"user_id":12756431,"display_name":"huzaifa imran"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":688,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":66866922,"answer_count":2,"score":1,"last_activity_date":1659412113,"creation_date":1617035345,"question_id":66857977,"body_markdown":"I want to provide the series of inputs of my program from a text file so that I do not have to give input time and again, how can I do this using &quot;javac&quot;?\r\n\r\nI used to do this in C/C++ Programs and it looked like as far as I remember gcc &lt;sample.txt&gt; filname.exe and it was called batch processing as told by my professor.\r\n\r\nIs there any way to do the same with javac or by using some tweak in VS Code so that I do not have to give input from keyboard every time I run the program?\r\n\r\nThank You!","title":"How to provide the input data for Scanner class from a text file instead of keyboard in java?","body":"<p>I want to provide the series of inputs of my program from a text file so that I do not have to give input time and again, how can I do this using &quot;javac&quot;?</p>\n<p>I used to do this in C/C++ Programs and it looked like as far as I remember gcc &lt;sample.txt&gt; filname.exe and it was called batch processing as told by my professor.</p>\n<p>Is there any way to do the same with javac or by using some tweak in VS Code so that I do not have to give input from keyboard every time I run the program?</p>\n<p>Thank You!</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8852,"page":1140,"page_size":100}
