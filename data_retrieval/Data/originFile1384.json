{"items":[{"tags":["java","microsoft-graph-api","microsoft-graph-teams"],"comments":[{"owner":{"account_id":5914573,"reputation":528,"user_id":4653764,"accept_rate":25,"display_name":"Pawan Tiwari"},"score":1,"creation_date":1654252221,"post_id":69586951,"comment_id":128052018,"body_markdown":"Did you find any solution?","body":"Did you find any solution?"}],"owner":{"account_id":4780478,"reputation":31,"user_id":8038114,"display_name":"Matthew Hong"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":580,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1651468765,"creation_date":1634310884,"question_id":69586951,"body_markdown":"We are having problem uploading large Office files (Word, Excel) to Teams using MS Graph SDK for Java. Just wondering if anyone experienced the similar issue.\r\n\r\nHere are some interesting points:\r\n1. The problem happens constantly when the file size is over 200M. I don&#39;t see problem with file smaller than 100M.\r\n2. The problem only happens for MS Office files(Word, Excel for example), we have no problem uploading text files or zip files up to 800M;\r\n3. Most of the time, the exception happens at the end of uploading, and, the file actually was uploaded to MS Teams. Although the exception was thrown, we can see files in Teams and files can be opened without problem. \r\n4. We did see the exception happened in the middle of uploading, then the file was not uploaded to Teams.\r\n\r\n**Here is the code:**\r\n\r\n    public static void main(String[] args) {\r\n    \t\tList&lt;String&gt; scopes = Arrays.asList(&quot;https://graph.microsoft.com/.default&quot;);\r\n    \r\n    \r\n    \t\tString fileName = &quot;270MBwith_video.docx&quot;;\r\n    \t\tString localFilePath = &quot;C:\\\\temp\\\\testfiles\\\\&quot;+fileName;\r\n    \t\t// Get an input stream for the file\r\n    \t\tFile file = new File(localFilePath);\r\n    \t\tInputStream fileStream = null;\r\n    \t\ttry {\r\n    \t\t\tfileStream = new FileInputStream(file);\r\n    \r\n    \t\t\tlong streamSize = file.length();\r\n    \r\n    \t\t\t// Create a callback used by the upload provider\r\n    \t\t\tIProgressCallback callback = new IProgressCallback() {\r\n    \t\t\t\t@Override\r\n    \t\t\t\t// Called after each slice of the file is uploaded\r\n    \t\t\t\tpublic void progress(final long current, final long max) {\r\n    \t\t\t\t\tSystem.out.println(String.format(&quot;Uploaded %d bytes of %d total bytes&quot;, current, max));\r\n    \t\t\t\t}\r\n    \t\t\t};\r\n    \r\n    \t\t\tDriveItemCreateUploadSessionParameterSet uploadParams = DriveItemCreateUploadSessionParameterSet\r\n    \t\t\t\t\t.newBuilder().withItem(new DriveItemUploadableProperties()).build();\r\n    \r\n    \t\t\tTokenCredential clientSecretCredential = new ClientSecretCredentialBuilder()\r\n    \t\t\t\t\t.clientId(&quot;61117459-d25c-4a98-a8bb-**********&quot;).clientSecret(&quot;0lyT.5zoqn*********&quot;)\r\n    \t\t\t\t\t.tenantId(&quot;******.onmicrosoft.com&quot;).build();\r\n    \r\n    \t\t\tTokenCredentialAuthProvider tokenCredentialAuthProvider = new TokenCredentialAuthProvider(scopes,\r\n    \t\t\t\t\tclientSecretCredential);\r\n    \r\n    \t\t\tGraphServiceClient&lt;Request&gt; graphClient = GraphServiceClient.builder()\r\n    \t\t\t\t\t.authenticationProvider(tokenCredentialAuthProvider).buildClient();\r\n    \r\n    \t\t\t// Create an upload session\r\n    \t\t\tUploadSession uploadSession = graphClient\r\n    \t\t\t\t\t.drives(&quot;b!Mca1ElNvN0C6oM-T4Tln0L0SJAZimN9Dkdbe****&quot;)\r\n    \t\t\t\t\t.items(&quot;017N4JGSDWBUSNV4CPWZDJMLJZJFQZZS6X&quot;).itemWithPath(fileName).createUploadSession(null)\r\n    \t\t\t\t\t.buildRequest().post();\r\n    \r\n    \t\t\tLargeFileUploadTask&lt;DriveItem&gt; largeFileUploadTask = new LargeFileUploadTask&lt;DriveItem&gt;(uploadSession,\r\n    \t\t\t\t\tgraphClient, fileStream, streamSize, DriveItem.class);\r\n    \r\n    \t\t\t// Do the upload\r\n    \t\t\tLargeFileUploadResult&lt;DriveItem&gt; item = largeFileUploadTask.upload(10 * 320 * 1024, null, callback);\r\n    \t\t\tSystem.out.println(&quot;Uploaded to: &quot; + item.responseBody.webUrl);\r\n    \t\t\t\r\n    \t\t} catch (Exception ex) {\r\n    \t\t\tex.printStackTrace();\r\n    \t\t}\r\n    \r\n    \t}\r\n\r\n**Here is the exception:**\r\n\r\n    Uploaded 271974400 bytes of 278847403 total bytes\r\n    Uploaded 275251200 bytes of 278847403 total bytes\r\n    com.microsoft.graph.core.ClientException: Request failed with error, retry if necessary.\r\n    \tat com.microsoft.graph.tasks.LargeFileUploadRequest.upload(LargeFileUploadRequest.java:100)\r\n    \tat com.microsoft.graph.tasks.LargeFileUploadTask.uploadAsync(LargeFileUploadTask.java:165)\r\n    \tat com.microsoft.graph.tasks.LargeFileUploadTask.upload(LargeFileUploadTask.java:253)\r\n    \tat testGraphSDK.largeFileUpload.main(largeFileUpload.java:72)\r\n    Caused by: com.microsoft.graph.core.ClientException: Error executing the request\r\n    \tat com.microsoft.graph.http.CoreHttpProvider.sendRequestInternal(CoreHttpProvider.java:406)\r\n    \tat com.microsoft.graph.http.CoreHttpProvider.send(CoreHttpProvider.java:222)\r\n    \tat com.microsoft.graph.tasks.LargeFileUploadRequest.upload(LargeFileUploadRequest.java:98)\r\n    \t... 3 more\r\n    Caused by: java.net.SocketTimeoutException: Read timed out\r\n    \tat java.base/java.net.SocketInputStream.socketRead0(Native Method)\r\n    \tat java.base/java.net.SocketInputStream.socketRead(SocketInputStream.java:115)\r\n    \tat java.base/java.net.SocketInputStream.read(SocketInputStream.java:168)\r\n    \tat java.base/java.net.SocketInputStream.read(SocketInputStream.java:140)\r\n    \tat java.base/sun.security.ssl.SSLSocketInputRecord.read(SSLSocketInputRecord.java:448)\r\n    \tat java.base/sun.security.ssl.SSLSocketInputRecord.bytesInCompletePacket(SSLSocketInputRecord.java:68)\r\n    \tat java.base/sun.security.ssl.SSLSocketImpl.readApplicationRecord(SSLSocketImpl.java:1103)\r\n    \tat java.base/sun.security.ssl.SSLSocketImpl$AppInputStream.read(SSLSocketImpl.java:823)\r\n    \tat okio.Okio$2.read(Okio.java:140)\r\n    \tat okio.AsyncTimeout$2.read(AsyncTimeout.java:237)\r\n    \tat okio.RealBufferedSource.indexOf(RealBufferedSource.java:358)\r\n    \tat okio.RealBufferedSource.readUtf8LineStrict(RealBufferedSource.java:230)\r\n    \tat okhttp3.internal.http1.Http1ExchangeCodec.readHeaderLine(Http1ExchangeCodec.java:242)\r\n    \tat okhttp3.internal.http1.Http1ExchangeCodec.readResponseHeaders(Http1ExchangeCodec.java:213)\r\n    \tat okhttp3.internal.connection.Exchange.readResponseHeaders(Exchange.java:115)\r\n    \tat okhttp3.internal.http.CallServerInterceptor.intercept(CallServerInterceptor.java:94)\r\n    \tat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:142)\r\n    \tat okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.java:43)\r\n    \tat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:142)\r\n    \tat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:117)\r\n    \tat okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.java:94)\r\n    \tat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:142)\r\n    \tat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:117)\r\n    \tat okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.java:93)\r\n    \tat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:142)\r\n    \tat okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.java:88)\r\n    \tat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:142)\r\n    \tat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:117)\r\n    \tat com.microsoft.graph.httpcore.RedirectHandler.intercept(RedirectHandler.java:137)\r\n    \tat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:142)\r\n    \tat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:117)\r\n    \tat com.microsoft.graph.httpcore.RetryHandler.intercept(RetryHandler.java:176)\r\n    \tat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:142)\r\n    \tat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:117)\r\n    \tat com.microsoft.graph.httpcore.AuthenticationHandler.intercept(AuthenticationHandler.java:57)\r\n    \tat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:142)\r\n    \tat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:117)\r\n    \tat com.microsoft.graph.httpcore.TelemetryHandler.intercept(TelemetryHandler.java:68)\r\n    \tat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:142)\r\n    \tat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:117)\r\n    \tat okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:229)\r\n    \tat okhttp3.RealCall.execute(RealCall.java:81)\r\n    \tat com.microsoft.graph.http.CoreHttpProvider.sendRequestInternal(CoreHttpProvider.java:403)\r\n    \t... 5 more\r\n\r\n","title":"MS Graph SDK for Java failed to upload large Word files","body":"<p>We are having problem uploading large Office files (Word, Excel) to Teams using MS Graph SDK for Java. Just wondering if anyone experienced the similar issue.</p>\n<p>Here are some interesting points:</p>\n<ol>\n<li>The problem happens constantly when the file size is over 200M. I don't see problem with file smaller than 100M.</li>\n<li>The problem only happens for MS Office files(Word, Excel for example), we have no problem uploading text files or zip files up to 800M;</li>\n<li>Most of the time, the exception happens at the end of uploading, and, the file actually was uploaded to MS Teams. Although the exception was thrown, we can see files in Teams and files can be opened without problem.</li>\n<li>We did see the exception happened in the middle of uploading, then the file was not uploaded to Teams.</li>\n</ol>\n<p><strong>Here is the code:</strong></p>\n<pre><code>public static void main(String[] args) {\n        List&lt;String&gt; scopes = Arrays.asList(&quot;https://graph.microsoft.com/.default&quot;);\n\n\n        String fileName = &quot;270MBwith_video.docx&quot;;\n        String localFilePath = &quot;C:\\\\temp\\\\testfiles\\\\&quot;+fileName;\n        // Get an input stream for the file\n        File file = new File(localFilePath);\n        InputStream fileStream = null;\n        try {\n            fileStream = new FileInputStream(file);\n\n            long streamSize = file.length();\n\n            // Create a callback used by the upload provider\n            IProgressCallback callback = new IProgressCallback() {\n                @Override\n                // Called after each slice of the file is uploaded\n                public void progress(final long current, final long max) {\n                    System.out.println(String.format(&quot;Uploaded %d bytes of %d total bytes&quot;, current, max));\n                }\n            };\n\n            DriveItemCreateUploadSessionParameterSet uploadParams = DriveItemCreateUploadSessionParameterSet\n                    .newBuilder().withItem(new DriveItemUploadableProperties()).build();\n\n            TokenCredential clientSecretCredential = new ClientSecretCredentialBuilder()\n                    .clientId(&quot;61117459-d25c-4a98-a8bb-**********&quot;).clientSecret(&quot;0lyT.5zoqn*********&quot;)\n                    .tenantId(&quot;******.onmicrosoft.com&quot;).build();\n\n            TokenCredentialAuthProvider tokenCredentialAuthProvider = new TokenCredentialAuthProvider(scopes,\n                    clientSecretCredential);\n\n            GraphServiceClient&lt;Request&gt; graphClient = GraphServiceClient.builder()\n                    .authenticationProvider(tokenCredentialAuthProvider).buildClient();\n\n            // Create an upload session\n            UploadSession uploadSession = graphClient\n                    .drives(&quot;b!Mca1ElNvN0C6oM-T4Tln0L0SJAZimN9Dkdbe****&quot;)\n                    .items(&quot;017N4JGSDWBUSNV4CPWZDJMLJZJFQZZS6X&quot;).itemWithPath(fileName).createUploadSession(null)\n                    .buildRequest().post();\n\n            LargeFileUploadTask&lt;DriveItem&gt; largeFileUploadTask = new LargeFileUploadTask&lt;DriveItem&gt;(uploadSession,\n                    graphClient, fileStream, streamSize, DriveItem.class);\n\n            // Do the upload\n            LargeFileUploadResult&lt;DriveItem&gt; item = largeFileUploadTask.upload(10 * 320 * 1024, null, callback);\n            System.out.println(&quot;Uploaded to: &quot; + item.responseBody.webUrl);\n            \n        } catch (Exception ex) {\n            ex.printStackTrace();\n        }\n\n    }\n</code></pre>\n<p><strong>Here is the exception:</strong></p>\n<pre><code>Uploaded 271974400 bytes of 278847403 total bytes\nUploaded 275251200 bytes of 278847403 total bytes\ncom.microsoft.graph.core.ClientException: Request failed with error, retry if necessary.\n    at com.microsoft.graph.tasks.LargeFileUploadRequest.upload(LargeFileUploadRequest.java:100)\n    at com.microsoft.graph.tasks.LargeFileUploadTask.uploadAsync(LargeFileUploadTask.java:165)\n    at com.microsoft.graph.tasks.LargeFileUploadTask.upload(LargeFileUploadTask.java:253)\n    at testGraphSDK.largeFileUpload.main(largeFileUpload.java:72)\nCaused by: com.microsoft.graph.core.ClientException: Error executing the request\n    at com.microsoft.graph.http.CoreHttpProvider.sendRequestInternal(CoreHttpProvider.java:406)\n    at com.microsoft.graph.http.CoreHttpProvider.send(CoreHttpProvider.java:222)\n    at com.microsoft.graph.tasks.LargeFileUploadRequest.upload(LargeFileUploadRequest.java:98)\n    ... 3 more\nCaused by: java.net.SocketTimeoutException: Read timed out\n    at java.base/java.net.SocketInputStream.socketRead0(Native Method)\n    at java.base/java.net.SocketInputStream.socketRead(SocketInputStream.java:115)\n    at java.base/java.net.SocketInputStream.read(SocketInputStream.java:168)\n    at java.base/java.net.SocketInputStream.read(SocketInputStream.java:140)\n    at java.base/sun.security.ssl.SSLSocketInputRecord.read(SSLSocketInputRecord.java:448)\n    at java.base/sun.security.ssl.SSLSocketInputRecord.bytesInCompletePacket(SSLSocketInputRecord.java:68)\n    at java.base/sun.security.ssl.SSLSocketImpl.readApplicationRecord(SSLSocketImpl.java:1103)\n    at java.base/sun.security.ssl.SSLSocketImpl$AppInputStream.read(SSLSocketImpl.java:823)\n    at okio.Okio$2.read(Okio.java:140)\n    at okio.AsyncTimeout$2.read(AsyncTimeout.java:237)\n    at okio.RealBufferedSource.indexOf(RealBufferedSource.java:358)\n    at okio.RealBufferedSource.readUtf8LineStrict(RealBufferedSource.java:230)\n    at okhttp3.internal.http1.Http1ExchangeCodec.readHeaderLine(Http1ExchangeCodec.java:242)\n    at okhttp3.internal.http1.Http1ExchangeCodec.readResponseHeaders(Http1ExchangeCodec.java:213)\n    at okhttp3.internal.connection.Exchange.readResponseHeaders(Exchange.java:115)\n    at okhttp3.internal.http.CallServerInterceptor.intercept(CallServerInterceptor.java:94)\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:142)\n    at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.java:43)\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:142)\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:117)\n    at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.java:94)\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:142)\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:117)\n    at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.java:93)\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:142)\n    at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.java:88)\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:142)\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:117)\n    at com.microsoft.graph.httpcore.RedirectHandler.intercept(RedirectHandler.java:137)\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:142)\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:117)\n    at com.microsoft.graph.httpcore.RetryHandler.intercept(RetryHandler.java:176)\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:142)\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:117)\n    at com.microsoft.graph.httpcore.AuthenticationHandler.intercept(AuthenticationHandler.java:57)\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:142)\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:117)\n    at com.microsoft.graph.httpcore.TelemetryHandler.intercept(TelemetryHandler.java:68)\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:142)\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:117)\n    at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:229)\n    at okhttp3.RealCall.execute(RealCall.java:81)\n    at com.microsoft.graph.http.CoreHttpProvider.sendRequestInternal(CoreHttpProvider.java:403)\n    ... 5 more\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":3,"creation_date":1651416900,"post_id":72077765,"comment_id":127355281,"body_markdown":"You looked at the API docs to see what `nextLine()` returns?","body":"You looked at the API docs to see what <code>nextLine()</code> returns?"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":4,"creation_date":1651417176,"post_id":72077765,"comment_id":127355343,"body_markdown":"Can you please define what is *not* a string?","body":"Can you please define what is <i>not</i> a string?"},{"owner":{"account_id":20780824,"reputation":29180,"user_id":15261315,"display_name":"Chris"},"score":0,"creation_date":1651418240,"post_id":72077765,"comment_id":127355591,"body_markdown":"Note as well that there is no need for `c`. You can loop with `while (true) { ... }` and use &#39;break&#39; to exit the loop.","body":"Note as well that there is no need for <code>c</code>. You can loop with <code>while (true) { ... }</code> and use &#39;break&#39; to exit the loop."}],"answers":[{"tags":[],"owner":{"display_name":"user14687465"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1651417570,"creation_date":1651417570,"answer_id":72077894,"question_id":72077765,"body_markdown":"Return type of `nextline()` is **String**. It means whatever is entered by user, it will be treated as a String(even if user enters a number, it will still be taken as a String). So there is no need in Exception handling in this case.","title":"How to check if input is string with Try Catch?","body":"<p>Return type of <code>nextline()</code> is <strong>String</strong>. It means whatever is entered by user, it will be treated as a String(even if user enters a number, it will still be taken as a String). So there is no need in Exception handling in this case.</p>\n"},{"tags":[],"owner":{"account_id":25152289,"reputation":11,"user_id":18997493,"display_name":"Jason Barbour"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651417864,"creation_date":1651417864,"answer_id":72077935,"question_id":72077765,"body_markdown":"Any input will be a String. If what you want is to check if there are any numbers or special characters inside instead of letters then u can loop through the String and use the Character.isAlphabetic() that will return false if any character is not alphabetic. ","title":"How to check if input is string with Try Catch?","body":"<p>Any input will be a String. If what you want is to check if there are any numbers or special characters inside instead of letters then u can loop through the String and use the Character.isAlphabetic() that will return false if any character is not alphabetic.</p>\n"},{"tags":[],"owner":{"account_id":17360629,"reputation":1309,"user_id":12576990,"display_name":"Rafael"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651468577,"creation_date":1651418275,"answer_id":72077987,"question_id":72077765,"body_markdown":"I think this approach would work for you:\r\n\r\n```java\r\n    public static void main(String args[]){\r\n        String name = &quot;&quot;;\r\n        Scanner myObj = new Scanner(System.in);\r\n\r\n        final String correctExpectedName = &quot;Nick&quot;;\r\n        while(name.length() == 0) {\r\n            System.out.print(&quot;Enter name: &quot;);\r\n            String tempInput = myObj.nextLine();\r\n            if (correctExpectedName.equals(tempInput)) {\r\n                name = tempInput; // here you can also use name = correctExpectedName;\r\n            } else {\r\n                System.out.println(&quot;Name is not correct. Please try again ...&quot;);\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\nPlease don&#39;t use exceptions to control your application logic flow. Exceptions have different purpose.","title":"How to check if input is string with Try Catch?","body":"<p>I think this approach would work for you:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static void main(String args[]){\n        String name = &quot;&quot;;\n        Scanner myObj = new Scanner(System.in);\n\n        final String correctExpectedName = &quot;Nick&quot;;\n        while(name.length() == 0) {\n            System.out.print(&quot;Enter name: &quot;);\n            String tempInput = myObj.nextLine();\n            if (correctExpectedName.equals(tempInput)) {\n                name = tempInput; // here you can also use name = correctExpectedName;\n            } else {\n                System.out.println(&quot;Name is not correct. Please try again ...&quot;);\n            }\n        }\n    }\n</code></pre>\n<p>Please don't use exceptions to control your application logic flow. Exceptions have different purpose.</p>\n"}],"owner":{"account_id":6960493,"reputation":46,"user_id":5340108,"display_name":"Elijah.Lnd"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":828,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1651487916,"accepted_answer_id":72077894,"answer_count":3,"score":0,"last_activity_date":1651468577,"creation_date":1651416728,"question_id":72077765,"body_markdown":"I have the following code with a try .. catch operation that checks whether or not it is a String. However , no matter the input it will not throw an exception . What I want it to do is check whether or not the input is text for example &quot;Nick&quot; and if its not to them throw an exception and prompt the user to try again.\r\n\r\n```java\r\npublic static void main(String args[]) {\r\n\tint c = 1\r\n\tString temp, name=&quot;&quot; ;\r\n\tScanner myObj = new Scanner(System.in);  // Create a Scanner object\r\n\tSystem.out.println(&quot;Enter name&quot;);\r\n\r\n\twhile (c == 1) {\r\n\t\ttry {\r\n\t\t\ttemp = myObj.nextLine();\r\n\t\t\tname = temp;\r\n\t\t\tc = 2;\r\n\t\t} catch (InputMismatchException e) {\r\n\t\t\tSystem.out.println(&quot;Name is not a string. Try again.&quot;);\r\n\t\t}\r\n\t}\r\n}\r\n```","title":"How to check if input is string with Try Catch?","body":"<p>I have the following code with a try .. catch operation that checks whether or not it is a String. However , no matter the input it will not throw an exception . What I want it to do is check whether or not the input is text for example &quot;Nick&quot; and if its not to them throw an exception and prompt the user to try again.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String args[]) {\n    int c = 1\n    String temp, name=&quot;&quot; ;\n    Scanner myObj = new Scanner(System.in);  // Create a Scanner object\n    System.out.println(&quot;Enter name&quot;);\n\n    while (c == 1) {\n        try {\n            temp = myObj.nextLine();\n            name = temp;\n            c = 2;\n        } catch (InputMismatchException e) {\n            System.out.println(&quot;Name is not a string. Try again.&quot;);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","sqlitejdbc"],"comments":[{"owner":{"account_id":4475864,"reputation":457,"user_id":3641003,"accept_rate":83,"display_name":"Roe hit"},"score":1,"creation_date":1651152592,"post_id":72044459,"comment_id":127299437,"body_markdown":"What&#39;s the error you&#39;re getting ? Can you please provide more info?","body":"What&#39;s the error you&#39;re getting ? Can you please provide more info?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1651159562,"post_id":72044459,"comment_id":127302538,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":21116530,"reputation":11,"user_id":15523523,"display_name":"APK3065620"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1651468163,"creation_date":1651152154,"question_id":72044459,"body_markdown":"My program throws an error when I try to execute truncate query using JDBC java with sqlite.\r\n```\r\nimport java.sql.*;\r\npublic class sqlTruncate {\r\n\tpublic static void main( String args[] ) {\r\n\t\ttry{\r\n\t\t\tConnection c = null;\r\n\t\t\tStatement stmt = null;\r\n\t\t\tClass.forName(&quot;org.sqlite.JDBC&quot;);\r\n\t\t\tc = DriverManager.getConnection(&quot;jdbc:sqlite:Mail.db&quot;);\r\n\t\t\tstmt = c.createStatement();\r\n\t\t\tString sql = &quot;TRUNCATE TABLE login&quot;;\r\n\t\t\tstmt.executeUpdate(sql);\r\n\t\t\tc.setAutoCommit(true);\r\n\t\t\tstmt.close();\r\n\t\t\tc.close();\r\n\t\t} catch ( Exception e ) {\r\n\t\t\tSystem.err.println( e.getClass().getName() + &quot;: &quot; + e.getMessage() );\r\n\t\t\tSystem.exit(0);\r\n\t\t}\t\r\n\t}\r\n}\r\n```","title":"Why is JDBC SQLITE TRUNCATE operation throwing an error?","body":"<p>My program throws an error when I try to execute truncate query using JDBC java with sqlite.</p>\n<pre><code>import java.sql.*;\npublic class sqlTruncate {\n    public static void main( String args[] ) {\n        try{\n            Connection c = null;\n            Statement stmt = null;\n            Class.forName(&quot;org.sqlite.JDBC&quot;);\n            c = DriverManager.getConnection(&quot;jdbc:sqlite:Mail.db&quot;);\n            stmt = c.createStatement();\n            String sql = &quot;TRUNCATE TABLE login&quot;;\n            stmt.executeUpdate(sql);\n            c.setAutoCommit(true);\n            stmt.close();\n            c.close();\n        } catch ( Exception e ) {\n            System.err.println( e.getClass().getName() + &quot;: &quot; + e.getMessage() );\n            System.exit(0);\n        }   \n    }\n}\n</code></pre>\n"},{"tags":["java","android","contacts","calllog","xiaomi"],"owner":{"account_id":8302554,"reputation":65,"user_id":7035817,"display_name":"6uzm4n"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1651467893,"creation_date":1649257867,"question_id":71769298,"body_markdown":"I need to get the contact URI given the Call Log in order to be able to open the native &quot;Contacts&quot; app to show the info of the Contact that made a call, if any. In order to do this, CallLog.Calls have the property CACHED_LOOKUP_URI so you can access the contact that made the call. However, this is not working on Xiaomi devices.\r\n\r\nThis is a simplified version of the code I&#39;m using:\r\n\r\n```\r\nUri queryUri = CallLog.Calls.CONTENT_URI;\r\n\r\nString[] projection = new String[]{\r\n        CallLog.Calls._ID,\r\n        CallLog.Calls.CACHED_NAME,\r\n        CallLog.Calls.CACHED_LOOKUP_URI,\r\n};\r\n\r\nString sortOrder = CallLog.Calls.DATE + &quot; DESC&quot;;\r\n\r\nCursor cursor = context.getContentResolver().query(queryUri, projection, null, null, sortOrder);\r\n\r\nint nameIndex = cursor.getColumnIndex(CallLog.Calls.CACHED_NAME);\r\nint uriIndex = cursor.getColumnIndex(CallLog.Calls.CACHED_LOOKUP_URI);\r\n\r\n\r\nwhile (cursor.moveToNext()) {\r\n    String callerName = cursor.getString(nameIndex); // -&gt; Contact name String on every device I tested this on\r\n    String uri = cursor.getString(uriIndex); // -&gt; null on Xiaomi devices, correct URI String on every other device\r\n}\r\n```\r\n\r\nAs stated, this seems to only happen on Xiaomi devices. I know there are workaraunds by getting the number and doing another query in the Contacts database, but this is cumbersome at best, even more so when there is a native property that would allow me to do this by default.","title":"CallLog.Calls.CACHED_LOOKUP_URI not working on Xiaomi/MIUI devices","body":"<p>I need to get the contact URI given the Call Log in order to be able to open the native &quot;Contacts&quot; app to show the info of the Contact that made a call, if any. In order to do this, CallLog.Calls have the property CACHED_LOOKUP_URI so you can access the contact that made the call. However, this is not working on Xiaomi devices.</p>\n<p>This is a simplified version of the code I'm using:</p>\n<pre><code>Uri queryUri = CallLog.Calls.CONTENT_URI;\n\nString[] projection = new String[]{\n        CallLog.Calls._ID,\n        CallLog.Calls.CACHED_NAME,\n        CallLog.Calls.CACHED_LOOKUP_URI,\n};\n\nString sortOrder = CallLog.Calls.DATE + &quot; DESC&quot;;\n\nCursor cursor = context.getContentResolver().query(queryUri, projection, null, null, sortOrder);\n\nint nameIndex = cursor.getColumnIndex(CallLog.Calls.CACHED_NAME);\nint uriIndex = cursor.getColumnIndex(CallLog.Calls.CACHED_LOOKUP_URI);\n\n\nwhile (cursor.moveToNext()) {\n    String callerName = cursor.getString(nameIndex); // -&gt; Contact name String on every device I tested this on\n    String uri = cursor.getString(uriIndex); // -&gt; null on Xiaomi devices, correct URI String on every other device\n}\n</code></pre>\n<p>As stated, this seems to only happen on Xiaomi devices. I know there are workaraunds by getting the number and doing another query in the Contacts database, but this is cumbersome at best, even more so when there is a native property that would allow me to do this by default.</p>\n"},{"tags":["java","memory","chess","bitboard"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1651406806,"post_id":72076510,"comment_id":127353045,"body_markdown":"&quot;I feel like I&#39;m missing something here&quot; what do you think you&#39;re missing here? The reasoning seems correct.","body":"&quot;I feel like I&#39;m missing something here&quot; what do you think you&#39;re missing here? The reasoning seems correct."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1651406829,"post_id":72076510,"comment_id":127353055,"body_markdown":"The answer to this question is most probably out of scope for Stack Overflow. This is the hardest part of a chess engine. If we take a look at, for example, [Stockfish](https://github.com/official-stockfish/Stockfish), we get a feeling that this gets really complicate really fast.","body":"The answer to this question is most probably out of scope for Stack Overflow. This is the hardest part of a chess engine. If we take a look at, for example, <a href=\"https://github.com/official-stockfish/Stockfish\" rel=\"nofollow noreferrer\">Stockfish</a>, we get a feeling that this gets really complicate really fast."},{"owner":{"account_id":15986089,"reputation":3,"user_id":11536513,"display_name":"Kaleab_G"},"score":0,"creation_date":1651408100,"post_id":72076510,"comment_id":127353327,"body_markdown":"@Federico klez Culloca\n How does Stockfish calculate 80 moves ahead on average ([source](https://www.chessjournal.com/how-many-moves-ahead-does-a-chess-computer-think/#:~:text=Stockfish%20is%20one%20of%20the,tree%20to%20find%20good%20moves)) if its so computationally expensive to consider even just 4","body":"@Federico klez Culloca  How does Stockfish calculate 80 moves ahead on average (<a href=\"https://www.chessjournal.com/how-many-moves-ahead-does-a-chess-computer-think/#:~:text=Stockfish%20is%20one%20of%20the,tree%20to%20find%20good%20moves\" rel=\"nofollow noreferrer\">source</a>) if its so computationally expensive to consider even just 4"}],"answers":[{"tags":[],"owner":{"account_id":16676893,"reputation":1695,"user_id":12053079,"display_name":"eligolf"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651467683,"creation_date":1651467683,"answer_id":72082493,"question_id":72076510,"body_markdown":"First, you don&#39;t want to create a new instance of the board state each move. If you are using e.g. Minimax then you make the move, make recursive call, then unmake the move. This way you always just have one board state which it considers. \r\n\r\nThen to minimize the number of moves you need to consider you want to make enhancements to the algorithm. The most common to start with is alpha-beta pruning which you can read more about here: https://www.chessprogramming.org/Alpha-Beta. Alpha beta pruning will always yield the same result as a minimax, but you consider less positions since you don&#39;t search the hopeless ones. \r\n\r\nThen there are tons of other pruning techniques that you can do to reduce the search tree. Most of these will not yield the same result since you &quot;manually&quot; choose to cut off certain positions that you &quot;think&quot; is going to be bad. This could be things like the assumption that there is always better to do something than nothing (null move pruning). \r\n\r\nOther easy things you can do to speed up algorithm is to look at move ordering. To make Minimax most efficient you always want to look at the best move first in each position. That way you will get more cutoffs and not search as many moves. Everything you need to know about chess programming you can find at https://www.chessprogramming.org/. ","title":"How to increase total positions considered for a chess engine","body":"<p>First, you don't want to create a new instance of the board state each move. If you are using e.g. Minimax then you make the move, make recursive call, then unmake the move. This way you always just have one board state which it considers.</p>\n<p>Then to minimize the number of moves you need to consider you want to make enhancements to the algorithm. The most common to start with is alpha-beta pruning which you can read more about here: <a href=\"https://www.chessprogramming.org/Alpha-Beta\" rel=\"nofollow noreferrer\">https://www.chessprogramming.org/Alpha-Beta</a>. Alpha beta pruning will always yield the same result as a minimax, but you consider less positions since you don't search the hopeless ones.</p>\n<p>Then there are tons of other pruning techniques that you can do to reduce the search tree. Most of these will not yield the same result since you &quot;manually&quot; choose to cut off certain positions that you &quot;think&quot; is going to be bad. This could be things like the assumption that there is always better to do something than nothing (null move pruning).</p>\n<p>Other easy things you can do to speed up algorithm is to look at move ordering. To make Minimax most efficient you always want to look at the best move first in each position. That way you will get more cutoffs and not search as many moves. Everything you need to know about chess programming you can find at <a href=\"https://www.chessprogramming.org/\" rel=\"nofollow noreferrer\">https://www.chessprogramming.org/</a>.</p>\n"}],"owner":{"account_id":15986089,"reputation":3,"user_id":11536513,"display_name":"Kaleab_G"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72082493,"answer_count":1,"score":0,"last_activity_date":1651467683,"creation_date":1651406605,"question_id":72076510,"body_markdown":"I&#39;m writing a chess engine in Java and using bitboards to represent the board (12 64-bit numbers). The size of an instance of this class(its retained size) is 152Bytes according to IntelliJ debugger. \r\nWhen trying to see a few moves a head, for each move I consider I create a new instance to represent the new Board state. Below is what the Board class looks like approximately.\r\n\r\n    public long WP=0L, WN=0L, WB=0L, WR=0L, WQ=0L, WK=0L, BP=0L, BN=0L, BB=0L, BR=0L, BQ=0L, BK=0L;\r\n    long NOT_WHITE_PIECES;\r\n    long WHITE_PIECES;\r\n    long BLACK_PIECES;\r\n    long OCCUPIED;\r\n    long EMPTY;\r\n\r\n    public void updateBitboards() {}\r\n    public void updateMailbox() {}\r\n    public void movePiece(Move move) {}\r\n    public void drawBitboard() {}\r\n\r\nOther fields and methods are static so I don&#39;t think they affect the size of an instance.\r\nThe problem is, even if I want to consider only the first 4 moves in chess, there&#39;s ~8,000,000 possible combination of moves. So I&#39;m going to end up storing a total of 8,000,000*152B = 1,216,000,000B... which is 1.2GB.\r\n\r\nI feel like I&#39;m missing something here. How can I increase the number of positions I consider at a time?","title":"How to increase total positions considered for a chess engine","body":"<p>I'm writing a chess engine in Java and using bitboards to represent the board (12 64-bit numbers). The size of an instance of this class(its retained size) is 152Bytes according to IntelliJ debugger.\nWhen trying to see a few moves a head, for each move I consider I create a new instance to represent the new Board state. Below is what the Board class looks like approximately.</p>\n<pre><code>public long WP=0L, WN=0L, WB=0L, WR=0L, WQ=0L, WK=0L, BP=0L, BN=0L, BB=0L, BR=0L, BQ=0L, BK=0L;\nlong NOT_WHITE_PIECES;\nlong WHITE_PIECES;\nlong BLACK_PIECES;\nlong OCCUPIED;\nlong EMPTY;\n\npublic void updateBitboards() {}\npublic void updateMailbox() {}\npublic void movePiece(Move move) {}\npublic void drawBitboard() {}\n</code></pre>\n<p>Other fields and methods are static so I don't think they affect the size of an instance.\nThe problem is, even if I want to consider only the first 4 moves in chess, there's ~8,000,000 possible combination of moves. So I'm going to end up storing a total of 8,000,000*152B = 1,216,000,000B... which is 1.2GB.</p>\n<p>I feel like I'm missing something here. How can I increase the number of positions I consider at a time?</p>\n"},{"tags":["java","user-interface","javafx"],"answers":[{"tags":[],"owner":{"account_id":7717111,"reputation":8764,"user_id":5844477,"display_name":"Sai Dandem"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1651453494,"creation_date":1651453494,"answer_id":72081494,"question_id":72081384,"body_markdown":"It is because you are not resetting the sumMdg &amp; sumSdg variables. You need to reset these on the call of isMagicSquare().\r\n\r\n    public boolean isMagicSquare(int[][] myArray) {\r\n        sumMdg= 0;\r\n        sumSdg = 0;\r\n        for (int i = 0; i &lt; myArray.length; i++) {\r\n           ...\r\n           ...\r\n           ...\r\n        }\r\n        return (sumMdg == correctSum) &amp;&amp; (sumSdg == correctSum);\r\n    }\r\n\r\n","title":"Javafx text fields values worked only for the first user attempt","body":"<p>It is because you are not resetting the sumMdg &amp; sumSdg variables. You need to reset these on the call of isMagicSquare().</p>\n<pre><code>public boolean isMagicSquare(int[][] myArray) {\n    sumMdg= 0;\n    sumSdg = 0;\n    for (int i = 0; i &lt; myArray.length; i++) {\n       ...\n       ...\n       ...\n    }\n    return (sumMdg == correctSum) &amp;&amp; (sumSdg == correctSum);\n}\n</code></pre>\n"}],"owner":{"account_id":25168193,"reputation":11,"user_id":19011392,"display_name":"ADM"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651467267,"creation_date":1651451820,"question_id":72081384,"body_markdown":"Summary:\r\nI am designing a JavaFX program that tests a matrix if it is a magic square or not. I have two buttons (submit and reset) with 2 handlers for each one. When the user entered the values and submitted them for the first time the program worked fine. However, in the second attempt, the program&#39;s results are always (&quot; it is not a magic square&quot;).\r\n\r\nHere is the code\r\n\r\n    package com.example.team9project;\r\n    \r\n    import javafx.animation.KeyFrame;\r\n    import javafx.animation.Timeline;\r\n    import javafx.application.Application;\r\n    import javafx.event.ActionEvent;\r\n    import javafx.event.EventHandler;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.geometry.Insets;\r\n    import javafx.geometry.Pos;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Button;\r\n    import javafx.scene.control.ComboBox;\r\n    import javafx.scene.control.TextField;\r\n    import javafx.scene.layout.GridPane;\r\n    import javafx.scene.layout.HBox;\r\n    import javafx.stage.Stage;\r\n    import javafx.util.Duration;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    public class MagicSquare extends Application {\r\n        // text entries for the matrix\r\n         TextField [][] fields = new TextField[3][3];\r\n    \r\n    \r\n         // the appropriate pane for a matrix\r\n        GridPane gridPane = new GridPane();\r\n        // helpfull variable for isMagicSquare method\r\n        final int correctSum=15;\r\n        int sumRow=0, sumColumn=0, sumMdg=0, sumSdg=0;\r\n    \r\n    \r\n        public void start(Stage primaryStage)\r\n        {\r\n            // creating buttons\r\n            Button submit = new Button(&quot;Submit&quot;);\r\n            Button reset = new Button(&quot;Reset&quot;);\r\n            // designing the pane\r\n            gridPane.setAlignment(Pos.CENTER);\r\n            gridPane.setPadding(new Insets(0,0,0,0));\r\n            // adding elements to the pane\r\n            gridPane.add(submit,1,3,2,1);\r\n            gridPane.add(reset,2,3,2,1);\r\n            for(int i=0; i&lt;3; i++){\r\n                for (int j=0;j&lt;3; j++){\r\n                    fields[i][j]= new TextField();\r\n                    gridPane.add( fields[i][j],i,j);\r\n                }\r\n            }\r\n            // add the choices to the combo box\r\n            //for(int i=1; i&lt;=9; i++){\r\n                //choices.getItems().add(i);\r\n           // }\r\n            // display combo box for\r\n            //choices.setOnAction(e -&gt;\r\n                    //setCell(choices.getValue())\r\n            //);\r\n    \r\n            reset.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\r\n                                  @Override\r\n                                  public void handle(ActionEvent actionEvent) {\r\n                                      for (int i = 0; i &lt; 3; i++) {\r\n                                          for(int j=0; j&lt;3; j++){\r\n                                              fields[i][j].setText(&quot;&quot;);\r\n                                          }\r\n                                      }\r\n                                  }\r\n                              }\r\n            );\r\n    \r\n    \r\n            //submit.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\r\n                //@Override\r\n                //public void handle(ActionEvent actionEvent) {\r\n    \r\n                //}\r\n           // });\r\n            SubmitHandler handler1= new SubmitHandler();\r\n            submit.setOnAction(handler1);\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n            Scene scene = new Scene(gridPane, 450, 100);\r\n            primaryStage.setScene(scene);\r\n            primaryStage.setTitle(&quot;Magic Square&quot;);\r\n            primaryStage.show();\r\n    \r\n        }\r\n        //public void setCell(Integer element){\r\n    \r\n            //choices.getItems().remove(element);\r\n    \r\n        //}\r\n    \r\n        // return true if the array represents a square matrix and false otherwise\r\n        public  boolean isMagicSquare(int[][] myArray){\r\n    \r\n            for( int i = 0 ; i &lt; myArray.length  ; i ++) {\r\n    \r\n                sumRow = sumColumn = 0;\r\n    \r\n                sumMdg = sumMdg + myArray[i][i];\r\n    \r\n                sumSdg = sumSdg + myArray[i][myArray.length - 1 - i];\r\n    \r\n    \r\n    \r\n                for (int j = 0; j &lt; myArray.length ; j++) {\r\n    \r\n                    sumRow = sumRow + myArray[i][j];\r\n    \r\n                    sumColumn = sumColumn + myArray[j][i];\r\n    \r\n                }\r\n    \r\n    \r\n    \r\n                if (sumColumn != correctSum || sumRow != correctSum)\r\n    \r\n                    return false;\r\n    \r\n            }\r\n    \r\n    \r\n    \r\n            return (sumMdg == correctSum ) &amp;&amp; ( sumSdg == correctSum );\r\n    \r\n        }\r\n    \r\n    \r\n    public static void main(String[] args)\r\n    {\r\n        launch();\r\n    }\r\n    \r\n    class SubmitHandler implements EventHandler&lt;ActionEvent&gt;{\r\n    \r\n            @Override\r\n            public void handle(ActionEvent event){\r\n                int[][] values= new int[3][3];\r\n                for(int i=0; i&lt;3; i++){\r\n                    for(int j=0; j&lt;3; j++){\r\n                        // check if  the fields are empty\r\n                        if(fields[i][j].getText().compareTo(&quot;&quot;)==0){\r\n                            fields[i][j].setText(&quot;0&quot;);\r\n                        }\r\n                        // convert the text fields values&#39; to integers\r\n                        values[i][j]=Integer.parseInt(fields[i][j].getText());\r\n                    }\r\n                }\r\n                if(isMagicSquare(values)){\r\n                    System.out.println(&quot;The matrix is magic square&quot;);\r\n                }\r\n                else{\r\n                    System.out.println(&quot;The matrix is not a magic square&quot;);\r\n                }\r\n            }\r\n    \r\n    \r\n    }}\r\n\r\n","title":"Javafx text fields values worked only for the first user attempt","body":"<p>Summary:\nI am designing a JavaFX program that tests a matrix if it is a magic square or not. I have two buttons (submit and reset) with 2 handlers for each one. When the user entered the values and submitted them for the first time the program worked fine. However, in the second attempt, the program's results are always (&quot; it is not a magic square&quot;).</p>\n<p>Here is the code</p>\n<pre><code>package com.example.team9project;\n\nimport javafx.animation.KeyFrame;\nimport javafx.animation.Timeline;\nimport javafx.application.Application;\nimport javafx.event.ActionEvent;\nimport javafx.event.EventHandler;\nimport javafx.fxml.FXMLLoader;\nimport javafx.geometry.Insets;\nimport javafx.geometry.Pos;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.ComboBox;\nimport javafx.scene.control.TextField;\nimport javafx.scene.layout.GridPane;\nimport javafx.scene.layout.HBox;\nimport javafx.stage.Stage;\nimport javafx.util.Duration;\n\nimport java.io.IOException;\n\npublic class MagicSquare extends Application {\n    // text entries for the matrix\n     TextField [][] fields = new TextField[3][3];\n\n\n     // the appropriate pane for a matrix\n    GridPane gridPane = new GridPane();\n    // helpfull variable for isMagicSquare method\n    final int correctSum=15;\n    int sumRow=0, sumColumn=0, sumMdg=0, sumSdg=0;\n\n\n    public void start(Stage primaryStage)\n    {\n        // creating buttons\n        Button submit = new Button(&quot;Submit&quot;);\n        Button reset = new Button(&quot;Reset&quot;);\n        // designing the pane\n        gridPane.setAlignment(Pos.CENTER);\n        gridPane.setPadding(new Insets(0,0,0,0));\n        // adding elements to the pane\n        gridPane.add(submit,1,3,2,1);\n        gridPane.add(reset,2,3,2,1);\n        for(int i=0; i&lt;3; i++){\n            for (int j=0;j&lt;3; j++){\n                fields[i][j]= new TextField();\n                gridPane.add( fields[i][j],i,j);\n            }\n        }\n        // add the choices to the combo box\n        //for(int i=1; i&lt;=9; i++){\n            //choices.getItems().add(i);\n       // }\n        // display combo box for\n        //choices.setOnAction(e -&gt;\n                //setCell(choices.getValue())\n        //);\n\n        reset.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\n                              @Override\n                              public void handle(ActionEvent actionEvent) {\n                                  for (int i = 0; i &lt; 3; i++) {\n                                      for(int j=0; j&lt;3; j++){\n                                          fields[i][j].setText(&quot;&quot;);\n                                      }\n                                  }\n                              }\n                          }\n        );\n\n\n        //submit.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\n            //@Override\n            //public void handle(ActionEvent actionEvent) {\n\n            //}\n       // });\n        SubmitHandler handler1= new SubmitHandler();\n        submit.setOnAction(handler1);\n\n\n\n\n\n\n\n        Scene scene = new Scene(gridPane, 450, 100);\n        primaryStage.setScene(scene);\n        primaryStage.setTitle(&quot;Magic Square&quot;);\n        primaryStage.show();\n\n    }\n    //public void setCell(Integer element){\n\n        //choices.getItems().remove(element);\n\n    //}\n\n    // return true if the array represents a square matrix and false otherwise\n    public  boolean isMagicSquare(int[][] myArray){\n\n        for( int i = 0 ; i &lt; myArray.length  ; i ++) {\n\n            sumRow = sumColumn = 0;\n\n            sumMdg = sumMdg + myArray[i][i];\n\n            sumSdg = sumSdg + myArray[i][myArray.length - 1 - i];\n\n\n\n            for (int j = 0; j &lt; myArray.length ; j++) {\n\n                sumRow = sumRow + myArray[i][j];\n\n                sumColumn = sumColumn + myArray[j][i];\n\n            }\n\n\n\n            if (sumColumn != correctSum || sumRow != correctSum)\n\n                return false;\n\n        }\n\n\n\n        return (sumMdg == correctSum ) &amp;&amp; ( sumSdg == correctSum );\n\n    }\n\n\npublic static void main(String[] args)\n{\n    launch();\n}\n\nclass SubmitHandler implements EventHandler&lt;ActionEvent&gt;{\n\n        @Override\n        public void handle(ActionEvent event){\n            int[][] values= new int[3][3];\n            for(int i=0; i&lt;3; i++){\n                for(int j=0; j&lt;3; j++){\n                    // check if  the fields are empty\n                    if(fields[i][j].getText().compareTo(&quot;&quot;)==0){\n                        fields[i][j].setText(&quot;0&quot;);\n                    }\n                    // convert the text fields values' to integers\n                    values[i][j]=Integer.parseInt(fields[i][j].getText());\n                }\n            }\n            if(isMagicSquare(values)){\n                System.out.println(&quot;The matrix is magic square&quot;);\n            }\n            else{\n                System.out.println(&quot;The matrix is not a magic square&quot;);\n            }\n        }\n\n\n}}\n</code></pre>\n"},{"tags":["java","maven","jetty","maven-jetty-plugin"],"comments":[{"owner":{"account_id":30211,"reputation":2545,"user_id":82230,"accept_rate":86,"display_name":"slim"},"score":0,"creation_date":1435156260,"post_id":24644114,"comment_id":50083384,"body_markdown":"Changing the jetty.port setting inside jetty-http.xml worked for me. Maybe you have another application using port 9999?","body":"Changing the jetty.port setting inside jetty-http.xml worked for me. Maybe you have another application using port 9999?"},{"owner":{"account_id":2534270,"reputation":878,"user_id":2201814,"accept_rate":44,"display_name":"MHSaffari"},"score":0,"creation_date":1651467155,"post_id":24644114,"comment_id":127363710,"body_markdown":"For changing ssl default port: https://stackoverflow.com/a/72082416","body":"For changing ssl default port: <a href=\"https://stackoverflow.com/a/72082416\">stackoverflow.com/a/72082416</a>"}],"answers":[{"tags":[],"owner":{"account_id":22344,"reputation":941,"user_id":54997,"accept_rate":70,"display_name":"Magnus Lassi"},"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1404872290,"creation_date":1404871035,"answer_id":24644277,"question_id":24644114,"body_markdown":"does it work if you set the port when you start it from the command line like this:\r\n\r\n    java -jar start.jar -Djetty.port=9999\r\n","title":"Change Jetty default port","body":"<p>does it work if you set the port when you start it from the command line like this:</p>\n\n<pre><code>java -jar start.jar -Djetty.port=9999\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2752407,"reputation":21,"user_id":2371492,"display_name":"Danilo Silveira"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1417111048,"creation_date":1417111048,"answer_id":27176588,"question_id":24644114,"body_markdown":"Just for completeness on jetty 7 you can use this:\r\n\r\n    java -jar start.jar --module=http jetty.port=9080","title":"Change Jetty default port","body":"<p>Just for completeness on jetty 7 you can use this:</p>\n\n<pre><code>java -jar start.jar --module=http jetty.port=9080\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6456093,"reputation":41,"user_id":5001433,"display_name":"Haidong Zhang"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1434527245,"creation_date":1434524603,"answer_id":30884462,"question_id":24644114,"body_markdown":"I changed the port successfully, you can try to edit `jetty.port` in the file located at `$Jetty_home/start.d/http.ini`.\r\n","title":"Change Jetty default port","body":"<p>I changed the port successfully, you can try to edit <code>jetty.port</code> in the file located at <code>$Jetty_home/start.d/http.ini</code>.</p>\n"},{"tags":[],"owner":{"account_id":1498730,"reputation":81,"user_id":1404056,"display_name":"sja"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1443104972,"creation_date":1443104972,"answer_id":32764014,"question_id":24644114,"body_markdown":"You need to change the http port in the start.ini file because it will over-right jetty-http.xml config.Or just comment the line in start.ini and keep your config from jetty-http.xml.\r\nIn [jetty home]/start.ini \r\n\r\n    ## HTTP port to listen on\r\n    #jetty.port=8080","title":"Change Jetty default port","body":"<p>You need to change the http port in the start.ini file because it will over-right jetty-http.xml config.Or just comment the line in start.ini and keep your config from jetty-http.xml.\nIn [jetty home]/start.ini </p>\n\n<pre><code>## HTTP port to listen on\n#jetty.port=8080\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4076942,"reputation":111,"user_id":3348367,"display_name":"user3348367"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1589303339,"creation_date":1449861716,"answer_id":34231022,"question_id":24644114,"body_markdown":"I did this in Jetty 9.x version. \r\nYou need to go to `$JETTY_HOME/start.ini` file and edit this setting     **jetty.port**. \r\n\r\nLets say that you want to run jetty at 9090 port: \r\nPlease change `jetty.port` setting in `$JETTY_HOME/start.ini` from \r\n\r\n    jetty.port=8080\r\n\r\nto\r\n   \r\n\r\n     jetty.port=9090\r\n\r\nThen start jetty using `java -jar start.jar` option.\r\nThen jetty will be running at 9090 port than default 8080 port.\r\nThen do `curl -i -XGET &quot;http://localhost:9090&quot;`. That should give you 200 http status. \r\n\r\nThats it.\r\n","title":"Change Jetty default port","body":"<p>I did this in Jetty 9.x version. \nYou need to go to <code>$JETTY_HOME/start.ini</code> file and edit this setting     <strong>jetty.port</strong>. </p>\n\n<p>Lets say that you want to run jetty at 9090 port: \nPlease change <code>jetty.port</code> setting in <code>$JETTY_HOME/start.ini</code> from </p>\n\n<pre><code>jetty.port=8080\n</code></pre>\n\n<p>to</p>\n\n<pre><code> jetty.port=9090\n</code></pre>\n\n<p>Then start jetty using <code>java -jar start.jar</code> option.\nThen jetty will be running at 9090 port than default 8080 port.\nThen do <code>curl -i -XGET \"http://localhost:9090\"</code>. That should give you 200 http status. </p>\n\n<p>Thats it.</p>\n"},{"tags":[],"owner":{"account_id":3993734,"reputation":542,"user_id":3291846,"accept_rate":67,"display_name":"amey91"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1458075460,"creation_date":1458075460,"answer_id":36021975,"question_id":24644114,"body_markdown":"Update:\r\n\r\nOn Jetty 9.x, `jetty.port` has been deprecated and you can use `jetty.http.port` instead, as shown below:\r\n\r\n    $&gt; cd $JETTY_HOME &amp;&amp; java -jar start.jar -Djetty.http.port=8080\r\n","title":"Change Jetty default port","body":"<p>Update:</p>\n\n<p>On Jetty 9.x, <code>jetty.port</code> has been deprecated and you can use <code>jetty.http.port</code> instead, as shown below:</p>\n\n<pre><code>$&gt; cd $JETTY_HOME &amp;&amp; java -jar start.jar -Djetty.http.port=8080\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2642218,"reputation":7263,"user_id":2285631,"accept_rate":67,"display_name":"sytolk"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1469203468,"creation_date":1469195472,"answer_id":38528200,"question_id":24644114,"body_markdown":"On jetty 9.2.3.v20140905 it\\`s need to write in `/etc/default/jetty` \r\n\r\n    # JETTY_ARGS\r\n    #   The default arguments to pass to jetty.\r\n    #   For example\r\n    JETTY_ARGS=&quot;jetty.port=8080 jetty.spdy.port=8443 jetty.secure.port=443&quot;\r\n\r\nbut this change only http port. To change https port in jetty 9.2 create ini file `$JETTY_HOME/start.d/https.ini`\r\n    \r\n    # Initialize module https\r\n    #\r\n    --module=https\r\n    ## HTTPS Configuration\r\n    # HTTP port to listen on\r\n    https.port=8443\r\n    # HTTPS idle timeout in milliseconds\r\n    https.timeout=30000\r\n    # HTTPS Socket.soLingerTime in seconds. (-1 to disable)\r\n    # https.soLingerTime=-1\r\n\r\n\r\njetty [9.3][1] in `/etc/default/jetty`\r\n\r\n    # JETTY_ARGS\r\n    # The default arguments to pass to jetty.\r\n    # For example\r\n    JETTY_ARGS=&quot;jetty.http.port=8080 jetty.ssl.port=443&quot;\r\n\r\nor command line parameters `-Djetty.http.port=8080 -Djetty.ssl.port=443`\r\n\r\n  [1]: http://fossies.org/linux/www/jetty-distribution-9.3.10.v20160621.tar.gz/jetty-distribution-9.3.10.v20160621/bin/jetty.sh","title":"Change Jetty default port","body":"<p>On jetty 9.2.3.v20140905 it`s need to write in <code>/etc/default/jetty</code> </p>\n\n<pre><code># JETTY_ARGS\n#   The default arguments to pass to jetty.\n#   For example\nJETTY_ARGS=\"jetty.port=8080 jetty.spdy.port=8443 jetty.secure.port=443\"\n</code></pre>\n\n<p>but this change only http port. To change https port in jetty 9.2 create ini file <code>$JETTY_HOME/start.d/https.ini</code></p>\n\n<pre><code># Initialize module https\n#\n--module=https\n## HTTPS Configuration\n# HTTP port to listen on\nhttps.port=8443\n# HTTPS idle timeout in milliseconds\nhttps.timeout=30000\n# HTTPS Socket.soLingerTime in seconds. (-1 to disable)\n# https.soLingerTime=-1\n</code></pre>\n\n<p>jetty <a href=\"http://fossies.org/linux/www/jetty-distribution-9.3.10.v20160621.tar.gz/jetty-distribution-9.3.10.v20160621/bin/jetty.sh\" rel=\"noreferrer\">9.3</a> in <code>/etc/default/jetty</code></p>\n\n<pre><code># JETTY_ARGS\n# The default arguments to pass to jetty.\n# For example\nJETTY_ARGS=\"jetty.http.port=8080 jetty.ssl.port=443\"\n</code></pre>\n\n<p>or command line parameters <code>-Djetty.http.port=8080 -Djetty.ssl.port=443</code></p>\n"},{"tags":[],"owner":{"account_id":10994044,"reputation":21,"user_id":8076900,"display_name":"Haseeb Ahmad"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1537029423,"creation_date":1537027737,"answer_id":52346471,"question_id":24644114,"body_markdown":"If you are using **eclipse** you need to set the run configurations. When you install **jetty** in eclipse, the default port for jetty is **8080**.\r\n\r\nSo you need to change it into an XML file. If the problem remains, you need to change it in eclipse run configurations.\r\n\r\nI hope it works, as it worked for me.","title":"Change Jetty default port","body":"<p>If you are using <strong>eclipse</strong> you need to set the run configurations. When you install <strong>jetty</strong> in eclipse, the default port for jetty is <strong>8080</strong>.</p>\n\n<p>So you need to change it into an XML file. If the problem remains, you need to change it in eclipse run configurations.</p>\n\n<p>I hope it works, as it worked for me.</p>\n"},{"tags":[],"owner":{"account_id":13504859,"reputation":449,"user_id":9743294,"display_name":"Matthias B&#246;"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1571843288,"creation_date":1571843288,"answer_id":58525938,"question_id":24644114,"body_markdown":"For IntelliJ, this can be done similar to Magnus Lassi&#39;s command-line answer.\r\n\r\nRun --&gt; Edit Configurations --&gt; Add &quot;-Djetty.port=XXXX&quot;, e.g.:\r\n\r\n    jetty:run-war -Djetty.port=9999\r\n","title":"Change Jetty default port","body":"<p>For IntelliJ, this can be done similar to Magnus Lassi's command-line answer.</p>\n\n<p>Run --> Edit Configurations --> Add \"-Djetty.port=XXXX\", e.g.:</p>\n\n<pre><code>jetty:run-war -Djetty.port=9999\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15172046,"reputation":580,"user_id":10947794,"display_name":"Milton BO"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1577223330,"creation_date":1577223330,"answer_id":59473568,"question_id":24644114,"body_markdown":"For SSL port you can pass the param:\r\n\r\n    -Dssl.port=8445\r\n\r\nIt worked for me.","title":"Change Jetty default port","body":"<p>For SSL port you can pass the param:</p>\n\n<pre><code>-Dssl.port=8445\n</code></pre>\n\n<p>It worked for me.</p>\n"},{"tags":[],"owner":{"account_id":21577838,"reputation":1,"user_id":15909631,"display_name":"COLLINSba4"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642085301,"creation_date":1642066082,"answer_id":70694163,"question_id":24644114,"body_markdown":"For a spring boot application, inside your application.properties file \r\nadd  \r\n`server.port = preferred port number eg. 8082`\r\n\r\n[IMAGE OF PORT CONFIGURATION][1]\r\n\r\n[1]: https://i.stack.imgur.com/jMiyM.jpg","title":"Change Jetty default port","body":"<p>For a spring boot application, inside your application.properties file\nadd<br />\n<code>server.port = preferred port number eg. 8082</code></p>\n<p><a href=\"https://i.stack.imgur.com/jMiyM.jpg\" rel=\"nofollow noreferrer\">IMAGE OF PORT CONFIGURATION</a></p>\n"},{"tags":[],"owner":{"account_id":2347679,"reputation":2849,"user_id":2057463,"display_name":"Wendel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649848323,"creation_date":1649848323,"answer_id":71856525,"question_id":24644114,"body_markdown":"I changed the `jetty.http.port` property in `jetty/start.ini` and it worked for me! ","title":"Change Jetty default port","body":"<p>I changed the <code>jetty.http.port</code> property in <code>jetty/start.ini</code> and it worked for me!</p>\n"},{"tags":[],"owner":{"account_id":2534270,"reputation":878,"user_id":2201814,"accept_rate":44,"display_name":"MHSaffari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651466858,"creation_date":1651466858,"answer_id":72082416,"question_id":24644114,"body_markdown":"For changing `SSL` port, you need to change `jetty.ssl.port` property in below directory:\r\n\r\n* &#128193;`$JETTY_HOME/etc`\r\n    * &#128196; `jetty-ssl.xml`\r\n\r\n```xml\r\n&lt;Configure id=&quot;Server&quot; class=&quot;org.eclipse.jetty.server.Server&quot;&gt;\r\n...\r\n  &lt;Call  name=&quot;addConnector&quot;&gt;\r\n    &lt;Arg&gt;\r\n      &lt;New id=&quot;sslConnector&quot; class=&quot;org.eclipse.jetty.server.ServerConnector&quot;&gt;\r\n      ...\r\n        &lt;Set name=&quot;port&quot;&gt;&lt;Property name=&quot;jetty.ssl.port&quot; deprecated=&quot;ssl.port&quot; default=&quot;8443&quot; /&gt;&lt;/Set&gt;\r\n      ...\r\n      &lt;/New&gt;\r\n    &lt;/Arg&gt;\r\n  &lt;/Call&gt;\r\n...\r\n&lt;/Configure&gt;\r\n```","title":"Change Jetty default port","body":"<p>For changing <code>SSL</code> port, you need to change <code>jetty.ssl.port</code> property in below directory:</p>\n<ul>\n<li>📁<code>$JETTY_HOME/etc</code>\n<ul>\n<li>📄 <code>jetty-ssl.xml</code></li>\n</ul>\n</li>\n</ul>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;Configure id=&quot;Server&quot; class=&quot;org.eclipse.jetty.server.Server&quot;&gt;\n...\n  &lt;Call  name=&quot;addConnector&quot;&gt;\n    &lt;Arg&gt;\n      &lt;New id=&quot;sslConnector&quot; class=&quot;org.eclipse.jetty.server.ServerConnector&quot;&gt;\n      ...\n        &lt;Set name=&quot;port&quot;&gt;&lt;Property name=&quot;jetty.ssl.port&quot; deprecated=&quot;ssl.port&quot; default=&quot;8443&quot; /&gt;&lt;/Set&gt;\n      ...\n      &lt;/New&gt;\n    &lt;/Arg&gt;\n  &lt;/Call&gt;\n...\n&lt;/Configure&gt;\n</code></pre>\n"}],"owner":{"account_id":3718554,"reputation":1018,"user_id":3094097,"accept_rate":44,"display_name":"wag0325"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100360,"favorite_count":0,"down_vote_count":0,"up_vote_count":29,"answer_count":13,"score":29,"last_activity_date":1651466858,"creation_date":1404869727,"question_id":24644114,"body_markdown":"Jetty default port is 8080, but I want to change to default port to some other port (9999). \r\n\r\nI read a few tutorials and they said almost all of configuration information is by default maintained in file `jetty.xml`, this file is located under `$JETTY_HOME/etc/`. Then, change property `jetty.port` to 9999. However, when I opened up that file, I couldn&#39;t find jetty.port property inside the `jetty.xml`. I&#39;m currently using Jetty-9.2.1 and the port is at 8080. \r\n\r\nI found jetty.port property under jetty-http.xml file. Even though I changed the port to 8090 in the jetty-http.xml file, jetty is still running at port 8080. \r\n\r\n**jetty.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot;?&gt;\r\n    &lt;!DOCTYPE Configure PUBLIC &quot;-//Jetty//Configure//EN&quot; &quot;http://www.eclipse.org/jetty/configure_9_0.dtd&quot;&gt;\r\n    \r\n    &lt;!-- =============================================================== --&gt;\r\n    &lt;!-- Documentation of this file format can be found at:              --&gt;\r\n    &lt;!-- http://wiki.eclipse.org/Jetty/Reference/jetty.xml_syntax        --&gt;\r\n    &lt;!--                                                                 --&gt;\r\n    &lt;!-- Additional configuration files are available in $JETTY_HOME/etc --&gt;\r\n    &lt;!-- and can be mixed in. See start.ini file for the default         --&gt;\r\n    &lt;!-- configuration files.                                            --&gt;\r\n    &lt;!--                                                                 --&gt;\r\n    &lt;!-- For a description of the configuration mechanism, see the       --&gt;\r\n    &lt;!-- output of:                                                      --&gt;\r\n    &lt;!--   java -jar start.jar -?                                        --&gt;\r\n    &lt;!-- =============================================================== --&gt;\r\n    \r\n    &lt;!-- =============================================================== --&gt;\r\n    &lt;!-- Configure a Jetty Server instance with an ID &quot;Server&quot;           --&gt;\r\n    &lt;!-- Other configuration files may also configure the &quot;Server&quot;       --&gt;\r\n    &lt;!-- ID, in which case they are adding configuration to the same     --&gt;\r\n    &lt;!-- instance.  If other configuration have a different ID, they     --&gt;\r\n    &lt;!-- will create and configure another instance of Jetty.            --&gt;\r\n    &lt;!-- Consult the javadoc of o.e.j.server.Server for all              --&gt;\r\n    &lt;!-- configuration that may be set here.                             --&gt;\r\n    &lt;!-- =============================================================== --&gt;\r\n    &lt;Configure id=&quot;Server&quot; class=&quot;org.eclipse.jetty.server.Server&quot;&gt;\r\n    \r\n        &lt;!-- =========================================================== --&gt;\r\n        &lt;!-- Configure the Server Thread Pool.                           --&gt;\r\n        &lt;!-- The server holds a common thread pool which is used by      --&gt;\r\n        &lt;!-- default as the executor used by all connectors and servlet  --&gt;\r\n        &lt;!-- dispatches.                                                 --&gt;\r\n        &lt;!--                                                             --&gt;\r\n        &lt;!-- Configuring a fixed thread pool is vital to controlling the --&gt;\r\n        &lt;!-- maximal memory footprint of the server and is a key tuning  --&gt;\r\n        &lt;!-- parameter for tuning.  In an application that rarely blocks --&gt;\r\n        &lt;!-- then maximal threads may be close to the number of 5*CPUs.  --&gt;\r\n        &lt;!-- In an application that frequently blocks, then maximal      --&gt;\r\n        &lt;!-- threads should be set as high as possible given the memory  --&gt;\r\n        &lt;!-- available.                                                  --&gt;\r\n        &lt;!--                                                             --&gt;\r\n        &lt;!-- Consult the javadoc of o.e.j.util.thread.QueuedThreadPool   --&gt;\r\n        &lt;!-- for all configuration that may be set here.                 --&gt;\r\n        &lt;!-- =========================================================== --&gt;\r\n        &lt;!-- uncomment to change type of threadpool\r\n        &lt;Arg name=&quot;threadpool&quot;&gt;&lt;New id=&quot;threadpool&quot; class=&quot;org.eclipse.jetty.util.thread.QueuedThreadPool&quot;/&gt;&lt;/Arg&gt;\r\n        --&gt;\r\n        &lt;Get name=&quot;ThreadPool&quot;&gt;\r\n          &lt;Set name=&quot;minThreads&quot; type=&quot;int&quot;&gt;&lt;Property name=&quot;threads.min&quot; default=&quot;10&quot;/&gt;&lt;/Set&gt;\r\n          &lt;Set name=&quot;maxThreads&quot; type=&quot;int&quot;&gt;&lt;Property name=&quot;threads.max&quot; default=&quot;200&quot;/&gt;&lt;/Set&gt;\r\n          &lt;Set name=&quot;idleTimeout&quot; type=&quot;int&quot;&gt;&lt;Property name=&quot;threads.timeout&quot; default=&quot;60000&quot;/&gt;&lt;/Set&gt;\r\n          &lt;Set name=&quot;detailedDump&quot;&gt;false&lt;/Set&gt;\r\n        &lt;/Get&gt;\r\n    \r\n        &lt;!-- =========================================================== --&gt;\r\n        &lt;!-- Add shared Scheduler instance                               --&gt;\r\n        &lt;!-- =========================================================== --&gt;\r\n        &lt;Call name=&quot;addBean&quot;&gt;\r\n          &lt;Arg&gt;\r\n            &lt;New class=&quot;org.eclipse.jetty.util.thread.ScheduledExecutorScheduler&quot;/&gt;\r\n          &lt;/Arg&gt;\r\n        &lt;/Call&gt;\r\n    \r\n        &lt;!-- =========================================================== --&gt;\r\n        &lt;!-- Http Configuration.                                         --&gt;\r\n        &lt;!-- This is a common configuration instance used by all         --&gt;\r\n        &lt;!-- connectors that can carry HTTP semantics (HTTP, HTTPS, SPDY)--&gt;\r\n        &lt;!-- It configures the non wire protocol aspects of the HTTP     --&gt;\r\n        &lt;!-- semantic.                                                   --&gt;\r\n        &lt;!--                                                             --&gt;\r\n        &lt;!-- This configuration is only defined here and is used by      --&gt;\r\n        &lt;!-- reference from the jetty-http.xml, jetty-https.xml and      --&gt;\r\n        &lt;!-- jetty-spdy.xml configuration files which instantiate the    --&gt;\r\n        &lt;!-- connectors.                                                 --&gt;\r\n        &lt;!--                                                             --&gt;\r\n        &lt;!-- Consult the javadoc of o.e.j.server.HttpConfiguration       --&gt;\r\n        &lt;!-- for all configuration that may be set here.                 --&gt;\r\n        &lt;!-- =========================================================== --&gt;\r\n        &lt;New id=&quot;httpConfig&quot; class=&quot;org.eclipse.jetty.server.HttpConfiguration&quot;&gt;\r\n          &lt;Set name=&quot;secureScheme&quot;&gt;https&lt;/Set&gt;\r\n          &lt;Set name=&quot;securePort&quot;&gt;&lt;Property name=&quot;jetty.secure.port&quot; default=&quot;8443&quot; /&gt;&lt;/Set&gt;\r\n          &lt;Set name=&quot;outputBufferSize&quot;&gt;&lt;Property name=&quot;jetty.output.buffer.size&quot; default=&quot;32768&quot; /&gt;&lt;/Set&gt;\r\n          &lt;Set name=&quot;requestHeaderSize&quot;&gt;&lt;Property name=&quot;jetty.request.header.size&quot; default=&quot;8192&quot; /&gt;&lt;/Set&gt;\r\n          &lt;Set name=&quot;responseHeaderSize&quot;&gt;&lt;Property name=&quot;jetty.response.header.size&quot; default=&quot;8192&quot; /&gt;&lt;/Set&gt;\r\n          &lt;Set name=&quot;sendServerVersion&quot;&gt;&lt;Property name=&quot;jetty.send.server.version&quot; default=&quot;true&quot; /&gt;&lt;/Set&gt;\r\n          &lt;Set name=&quot;sendDateHeader&quot;&gt;&lt;Property name=&quot;jetty.send.date.header&quot; default=&quot;false&quot; /&gt;&lt;/Set&gt;\r\n          &lt;Set name=&quot;headerCacheSize&quot;&gt;512&lt;/Set&gt;\r\n          &lt;!-- Uncomment to enable handling of X-Forwarded- style headers\r\n          &lt;Call name=&quot;addCustomizer&quot;&gt;\r\n            &lt;Arg&gt;&lt;New class=&quot;org.eclipse.jetty.server.ForwardedRequestCustomizer&quot;/&gt;&lt;/Arg&gt;\r\n          &lt;/Call&gt;\r\n          --&gt;\r\n        &lt;/New&gt;\r\n    \r\n    \r\n        &lt;!-- =========================================================== --&gt;\r\n        &lt;!-- Set the default handler structure for the Server            --&gt;\r\n        &lt;!-- A handler collection is used to pass received requests to   --&gt;\r\n        &lt;!-- both the ContextHandlerCollection, which selects the next   --&gt;\r\n        &lt;!-- handler by context path and virtual host, and the           --&gt;\r\n        &lt;!-- DefaultHandler, which handles any requests not handled by   --&gt;\r\n        &lt;!-- the context handlers.                                       --&gt;\r\n        &lt;!-- Other handlers may be added to the &quot;Handlers&quot; collection,   --&gt;\r\n        &lt;!-- for example the jetty-requestlog.xml file adds the          --&gt;\r\n        &lt;!-- RequestLogHandler after the default handler                 --&gt;\r\n        &lt;!-- =========================================================== --&gt;\r\n        &lt;Set name=&quot;handler&quot;&gt;\r\n          &lt;New id=&quot;Handlers&quot; class=&quot;org.eclipse.jetty.server.handler.HandlerCollection&quot;&gt;\r\n            &lt;Set name=&quot;handlers&quot;&gt;\r\n             &lt;Array type=&quot;org.eclipse.jetty.server.Handler&quot;&gt;\r\n               &lt;Item&gt;\r\n                 &lt;New id=&quot;Contexts&quot; class=&quot;org.eclipse.jetty.server.handler.ContextHandlerCollection&quot;/&gt;\r\n               &lt;/Item&gt;\r\n               &lt;Item&gt;\r\n                 &lt;New id=&quot;DefaultHandler&quot; class=&quot;org.eclipse.jetty.server.handler.DefaultHandler&quot;/&gt;\r\n               &lt;/Item&gt;\r\n             &lt;/Array&gt;\r\n            &lt;/Set&gt;\r\n          &lt;/New&gt;\r\n        &lt;/Set&gt;\r\n    \r\n        &lt;!-- =========================================================== --&gt;\r\n        &lt;!-- extra server options                                        --&gt;\r\n        &lt;!-- =========================================================== --&gt;\r\n        &lt;Set name=&quot;stopAtShutdown&quot;&gt;true&lt;/Set&gt;\r\n        &lt;Set name=&quot;stopTimeout&quot;&gt;5000&lt;/Set&gt;\r\n        &lt;Set name=&quot;dumpAfterStart&quot;&gt;&lt;Property name=&quot;jetty.dump.start&quot; default=&quot;false&quot;/&gt;&lt;/Set&gt;\r\n        &lt;Set name=&quot;dumpBeforeStop&quot;&gt;&lt;Property name=&quot;jetty.dump.stop&quot; default=&quot;false&quot;/&gt;&lt;/Set&gt;\r\n    \r\n    &lt;/Configure&gt;\r\n\r\n**jetty-http.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot;?&gt;\r\n    &lt;!DOCTYPE Configure PUBLIC &quot;-//Jetty//Configure//EN&quot; &quot;http://www.eclipse.org/jetty/configure_9_0.dtd&quot;&gt;\r\n    \r\n    &lt;!-- ============================================================= --&gt;\r\n    &lt;!-- Configure the Jetty Server instance with an ID &quot;Server&quot;       --&gt;\r\n    &lt;!-- by adding a HTTP connector.                                   --&gt;\r\n    &lt;!-- This configuration must be used in conjunction with jetty.xml --&gt;\r\n    &lt;!-- ============================================================= --&gt;\r\n    &lt;Configure id=&quot;Server&quot; class=&quot;org.eclipse.jetty.server.Server&quot;&gt;\r\n    \r\n      &lt;!-- =========================================================== --&gt;\r\n      &lt;!-- Add a HTTP Connector.                                       --&gt;\r\n      &lt;!-- Configure an o.e.j.server.ServerConnector with a single     --&gt;\r\n      &lt;!-- HttpConnectionFactory instance using the common httpConfig  --&gt;\r\n      &lt;!-- instance defined in jetty.xml                               --&gt;\r\n      &lt;!--                                                             --&gt;\r\n      &lt;!-- Consult the javadoc of o.e.j.server.ServerConnector and     --&gt;\r\n      &lt;!-- o.e.j.server.HttpConnectionFactory for all configuration    --&gt;\r\n      &lt;!-- that may be set here.                                       --&gt;\r\n      &lt;!-- =========================================================== --&gt;\r\n      &lt;Call name=&quot;addConnector&quot;&gt;\r\n        &lt;Arg&gt;\r\n          &lt;New class=&quot;org.eclipse.jetty.server.ServerConnector&quot;&gt;\r\n            &lt;Arg name=&quot;server&quot;&gt;&lt;Ref refid=&quot;Server&quot; /&gt;&lt;/Arg&gt;\r\n            &lt;Arg name=&quot;factories&quot;&gt;\r\n              &lt;Array type=&quot;org.eclipse.jetty.server.ConnectionFactory&quot;&gt;\r\n                &lt;Item&gt;\r\n                  &lt;New class=&quot;org.eclipse.jetty.server.HttpConnectionFactory&quot;&gt;\r\n                    &lt;Arg name=&quot;config&quot;&gt;&lt;Ref refid=&quot;httpConfig&quot; /&gt;&lt;/Arg&gt;\r\n                  &lt;/New&gt;\r\n                &lt;/Item&gt;\r\n              &lt;/Array&gt;\r\n            &lt;/Arg&gt;\r\n            &lt;Set name=&quot;host&quot;&gt;&lt;Property name=&quot;jetty.host&quot; /&gt;&lt;/Set&gt;\r\n            &lt;Set name=&quot;port&quot;&gt;&lt;Property name=&quot;jetty.port&quot; default=&quot;8090&quot; /&gt;&lt;/Set&gt;\r\n            &lt;Set name=&quot;idleTimeout&quot;&gt;&lt;Property name=&quot;http.timeout&quot; default=&quot;30000&quot;/&gt;&lt;/Set&gt;\r\n            &lt;Set name=&quot;soLingerTime&quot;&gt;&lt;Property name=&quot;http.soLingerTime&quot; default=&quot;-1&quot;/&gt;&lt;/Set&gt;\r\n          &lt;/New&gt;\r\n        &lt;/Arg&gt;\r\n      &lt;/Call&gt;\r\n    \r\n    &lt;/Configure&gt;\r\n\r\nI was also advised to use an integration test to configure Jetty to use other port. There&#39;s a `integration-tests.properties` file inside the project. Maybe a solution is to set jetty.port to 9999 inside this file? \r\n\r\n**integration-tests.properties:**\r\n\r\n    host = localhost\r\n    port = 9999\r\n\r\n","title":"Change Jetty default port","body":"<p>Jetty default port is 8080, but I want to change to default port to some other port (9999). </p>\n\n<p>I read a few tutorials and they said almost all of configuration information is by default maintained in file <code>jetty.xml</code>, this file is located under <code>$JETTY_HOME/etc/</code>. Then, change property <code>jetty.port</code> to 9999. However, when I opened up that file, I couldn't find jetty.port property inside the <code>jetty.xml</code>. I'm currently using Jetty-9.2.1 and the port is at 8080. </p>\n\n<p>I found jetty.port property under jetty-http.xml file. Even though I changed the port to 8090 in the jetty-http.xml file, jetty is still running at port 8080. </p>\n\n<p><strong>jetty.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;!DOCTYPE Configure PUBLIC \"-//Jetty//Configure//EN\" \"http://www.eclipse.org/jetty/configure_9_0.dtd\"&gt;\n\n&lt;!-- =============================================================== --&gt;\n&lt;!-- Documentation of this file format can be found at:              --&gt;\n&lt;!-- http://wiki.eclipse.org/Jetty/Reference/jetty.xml_syntax        --&gt;\n&lt;!--                                                                 --&gt;\n&lt;!-- Additional configuration files are available in $JETTY_HOME/etc --&gt;\n&lt;!-- and can be mixed in. See start.ini file for the default         --&gt;\n&lt;!-- configuration files.                                            --&gt;\n&lt;!--                                                                 --&gt;\n&lt;!-- For a description of the configuration mechanism, see the       --&gt;\n&lt;!-- output of:                                                      --&gt;\n&lt;!--   java -jar start.jar -?                                        --&gt;\n&lt;!-- =============================================================== --&gt;\n\n&lt;!-- =============================================================== --&gt;\n&lt;!-- Configure a Jetty Server instance with an ID \"Server\"           --&gt;\n&lt;!-- Other configuration files may also configure the \"Server\"       --&gt;\n&lt;!-- ID, in which case they are adding configuration to the same     --&gt;\n&lt;!-- instance.  If other configuration have a different ID, they     --&gt;\n&lt;!-- will create and configure another instance of Jetty.            --&gt;\n&lt;!-- Consult the javadoc of o.e.j.server.Server for all              --&gt;\n&lt;!-- configuration that may be set here.                             --&gt;\n&lt;!-- =============================================================== --&gt;\n&lt;Configure id=\"Server\" class=\"org.eclipse.jetty.server.Server\"&gt;\n\n    &lt;!-- =========================================================== --&gt;\n    &lt;!-- Configure the Server Thread Pool.                           --&gt;\n    &lt;!-- The server holds a common thread pool which is used by      --&gt;\n    &lt;!-- default as the executor used by all connectors and servlet  --&gt;\n    &lt;!-- dispatches.                                                 --&gt;\n    &lt;!--                                                             --&gt;\n    &lt;!-- Configuring a fixed thread pool is vital to controlling the --&gt;\n    &lt;!-- maximal memory footprint of the server and is a key tuning  --&gt;\n    &lt;!-- parameter for tuning.  In an application that rarely blocks --&gt;\n    &lt;!-- then maximal threads may be close to the number of 5*CPUs.  --&gt;\n    &lt;!-- In an application that frequently blocks, then maximal      --&gt;\n    &lt;!-- threads should be set as high as possible given the memory  --&gt;\n    &lt;!-- available.                                                  --&gt;\n    &lt;!--                                                             --&gt;\n    &lt;!-- Consult the javadoc of o.e.j.util.thread.QueuedThreadPool   --&gt;\n    &lt;!-- for all configuration that may be set here.                 --&gt;\n    &lt;!-- =========================================================== --&gt;\n    &lt;!-- uncomment to change type of threadpool\n    &lt;Arg name=\"threadpool\"&gt;&lt;New id=\"threadpool\" class=\"org.eclipse.jetty.util.thread.QueuedThreadPool\"/&gt;&lt;/Arg&gt;\n    --&gt;\n    &lt;Get name=\"ThreadPool\"&gt;\n      &lt;Set name=\"minThreads\" type=\"int\"&gt;&lt;Property name=\"threads.min\" default=\"10\"/&gt;&lt;/Set&gt;\n      &lt;Set name=\"maxThreads\" type=\"int\"&gt;&lt;Property name=\"threads.max\" default=\"200\"/&gt;&lt;/Set&gt;\n      &lt;Set name=\"idleTimeout\" type=\"int\"&gt;&lt;Property name=\"threads.timeout\" default=\"60000\"/&gt;&lt;/Set&gt;\n      &lt;Set name=\"detailedDump\"&gt;false&lt;/Set&gt;\n    &lt;/Get&gt;\n\n    &lt;!-- =========================================================== --&gt;\n    &lt;!-- Add shared Scheduler instance                               --&gt;\n    &lt;!-- =========================================================== --&gt;\n    &lt;Call name=\"addBean\"&gt;\n      &lt;Arg&gt;\n        &lt;New class=\"org.eclipse.jetty.util.thread.ScheduledExecutorScheduler\"/&gt;\n      &lt;/Arg&gt;\n    &lt;/Call&gt;\n\n    &lt;!-- =========================================================== --&gt;\n    &lt;!-- Http Configuration.                                         --&gt;\n    &lt;!-- This is a common configuration instance used by all         --&gt;\n    &lt;!-- connectors that can carry HTTP semantics (HTTP, HTTPS, SPDY)--&gt;\n    &lt;!-- It configures the non wire protocol aspects of the HTTP     --&gt;\n    &lt;!-- semantic.                                                   --&gt;\n    &lt;!--                                                             --&gt;\n    &lt;!-- This configuration is only defined here and is used by      --&gt;\n    &lt;!-- reference from the jetty-http.xml, jetty-https.xml and      --&gt;\n    &lt;!-- jetty-spdy.xml configuration files which instantiate the    --&gt;\n    &lt;!-- connectors.                                                 --&gt;\n    &lt;!--                                                             --&gt;\n    &lt;!-- Consult the javadoc of o.e.j.server.HttpConfiguration       --&gt;\n    &lt;!-- for all configuration that may be set here.                 --&gt;\n    &lt;!-- =========================================================== --&gt;\n    &lt;New id=\"httpConfig\" class=\"org.eclipse.jetty.server.HttpConfiguration\"&gt;\n      &lt;Set name=\"secureScheme\"&gt;https&lt;/Set&gt;\n      &lt;Set name=\"securePort\"&gt;&lt;Property name=\"jetty.secure.port\" default=\"8443\" /&gt;&lt;/Set&gt;\n      &lt;Set name=\"outputBufferSize\"&gt;&lt;Property name=\"jetty.output.buffer.size\" default=\"32768\" /&gt;&lt;/Set&gt;\n      &lt;Set name=\"requestHeaderSize\"&gt;&lt;Property name=\"jetty.request.header.size\" default=\"8192\" /&gt;&lt;/Set&gt;\n      &lt;Set name=\"responseHeaderSize\"&gt;&lt;Property name=\"jetty.response.header.size\" default=\"8192\" /&gt;&lt;/Set&gt;\n      &lt;Set name=\"sendServerVersion\"&gt;&lt;Property name=\"jetty.send.server.version\" default=\"true\" /&gt;&lt;/Set&gt;\n      &lt;Set name=\"sendDateHeader\"&gt;&lt;Property name=\"jetty.send.date.header\" default=\"false\" /&gt;&lt;/Set&gt;\n      &lt;Set name=\"headerCacheSize\"&gt;512&lt;/Set&gt;\n      &lt;!-- Uncomment to enable handling of X-Forwarded- style headers\n      &lt;Call name=\"addCustomizer\"&gt;\n        &lt;Arg&gt;&lt;New class=\"org.eclipse.jetty.server.ForwardedRequestCustomizer\"/&gt;&lt;/Arg&gt;\n      &lt;/Call&gt;\n      --&gt;\n    &lt;/New&gt;\n\n\n    &lt;!-- =========================================================== --&gt;\n    &lt;!-- Set the default handler structure for the Server            --&gt;\n    &lt;!-- A handler collection is used to pass received requests to   --&gt;\n    &lt;!-- both the ContextHandlerCollection, which selects the next   --&gt;\n    &lt;!-- handler by context path and virtual host, and the           --&gt;\n    &lt;!-- DefaultHandler, which handles any requests not handled by   --&gt;\n    &lt;!-- the context handlers.                                       --&gt;\n    &lt;!-- Other handlers may be added to the \"Handlers\" collection,   --&gt;\n    &lt;!-- for example the jetty-requestlog.xml file adds the          --&gt;\n    &lt;!-- RequestLogHandler after the default handler                 --&gt;\n    &lt;!-- =========================================================== --&gt;\n    &lt;Set name=\"handler\"&gt;\n      &lt;New id=\"Handlers\" class=\"org.eclipse.jetty.server.handler.HandlerCollection\"&gt;\n        &lt;Set name=\"handlers\"&gt;\n         &lt;Array type=\"org.eclipse.jetty.server.Handler\"&gt;\n           &lt;Item&gt;\n             &lt;New id=\"Contexts\" class=\"org.eclipse.jetty.server.handler.ContextHandlerCollection\"/&gt;\n           &lt;/Item&gt;\n           &lt;Item&gt;\n             &lt;New id=\"DefaultHandler\" class=\"org.eclipse.jetty.server.handler.DefaultHandler\"/&gt;\n           &lt;/Item&gt;\n         &lt;/Array&gt;\n        &lt;/Set&gt;\n      &lt;/New&gt;\n    &lt;/Set&gt;\n\n    &lt;!-- =========================================================== --&gt;\n    &lt;!-- extra server options                                        --&gt;\n    &lt;!-- =========================================================== --&gt;\n    &lt;Set name=\"stopAtShutdown\"&gt;true&lt;/Set&gt;\n    &lt;Set name=\"stopTimeout\"&gt;5000&lt;/Set&gt;\n    &lt;Set name=\"dumpAfterStart\"&gt;&lt;Property name=\"jetty.dump.start\" default=\"false\"/&gt;&lt;/Set&gt;\n    &lt;Set name=\"dumpBeforeStop\"&gt;&lt;Property name=\"jetty.dump.stop\" default=\"false\"/&gt;&lt;/Set&gt;\n\n&lt;/Configure&gt;\n</code></pre>\n\n<p><strong>jetty-http.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;!DOCTYPE Configure PUBLIC \"-//Jetty//Configure//EN\" \"http://www.eclipse.org/jetty/configure_9_0.dtd\"&gt;\n\n&lt;!-- ============================================================= --&gt;\n&lt;!-- Configure the Jetty Server instance with an ID \"Server\"       --&gt;\n&lt;!-- by adding a HTTP connector.                                   --&gt;\n&lt;!-- This configuration must be used in conjunction with jetty.xml --&gt;\n&lt;!-- ============================================================= --&gt;\n&lt;Configure id=\"Server\" class=\"org.eclipse.jetty.server.Server\"&gt;\n\n  &lt;!-- =========================================================== --&gt;\n  &lt;!-- Add a HTTP Connector.                                       --&gt;\n  &lt;!-- Configure an o.e.j.server.ServerConnector with a single     --&gt;\n  &lt;!-- HttpConnectionFactory instance using the common httpConfig  --&gt;\n  &lt;!-- instance defined in jetty.xml                               --&gt;\n  &lt;!--                                                             --&gt;\n  &lt;!-- Consult the javadoc of o.e.j.server.ServerConnector and     --&gt;\n  &lt;!-- o.e.j.server.HttpConnectionFactory for all configuration    --&gt;\n  &lt;!-- that may be set here.                                       --&gt;\n  &lt;!-- =========================================================== --&gt;\n  &lt;Call name=\"addConnector\"&gt;\n    &lt;Arg&gt;\n      &lt;New class=\"org.eclipse.jetty.server.ServerConnector\"&gt;\n        &lt;Arg name=\"server\"&gt;&lt;Ref refid=\"Server\" /&gt;&lt;/Arg&gt;\n        &lt;Arg name=\"factories\"&gt;\n          &lt;Array type=\"org.eclipse.jetty.server.ConnectionFactory\"&gt;\n            &lt;Item&gt;\n              &lt;New class=\"org.eclipse.jetty.server.HttpConnectionFactory\"&gt;\n                &lt;Arg name=\"config\"&gt;&lt;Ref refid=\"httpConfig\" /&gt;&lt;/Arg&gt;\n              &lt;/New&gt;\n            &lt;/Item&gt;\n          &lt;/Array&gt;\n        &lt;/Arg&gt;\n        &lt;Set name=\"host\"&gt;&lt;Property name=\"jetty.host\" /&gt;&lt;/Set&gt;\n        &lt;Set name=\"port\"&gt;&lt;Property name=\"jetty.port\" default=\"8090\" /&gt;&lt;/Set&gt;\n        &lt;Set name=\"idleTimeout\"&gt;&lt;Property name=\"http.timeout\" default=\"30000\"/&gt;&lt;/Set&gt;\n        &lt;Set name=\"soLingerTime\"&gt;&lt;Property name=\"http.soLingerTime\" default=\"-1\"/&gt;&lt;/Set&gt;\n      &lt;/New&gt;\n    &lt;/Arg&gt;\n  &lt;/Call&gt;\n\n&lt;/Configure&gt;\n</code></pre>\n\n<p>I was also advised to use an integration test to configure Jetty to use other port. There's a <code>integration-tests.properties</code> file inside the project. Maybe a solution is to set jetty.port to 9999 inside this file? </p>\n\n<p><strong>integration-tests.properties:</strong></p>\n\n<pre><code>host = localhost\nport = 9999\n</code></pre>\n"},{"tags":["java","spring-boot","azure","azure-servicebus-topics","jms-topic"],"comments":[{"owner":{"account_id":20410134,"reputation":2766,"user_id":14973743,"display_name":"Anand Sowmithiran"},"score":2,"creation_date":1650551883,"post_id":71953804,"comment_id":127149583,"body_markdown":"From your network, AMQP port (TCP 5671 ) may have been blocked, hence the connection to the Az SB is failing.","body":"From your network, AMQP port (TCP 5671 ) may have been blocked, hence the connection to the Az SB is failing."}],"answers":[{"tags":[],"owner":{"account_id":10725921,"reputation":1866,"user_id":9303470,"display_name":"Ecstasy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1651466578,"creation_date":1651466578,"answer_id":72082397,"question_id":71953804,"body_markdown":"&gt;ERROR 43904 --- [ntContainer#0-1] org.apache.qpid.jms.JmsConnection        : Failed to connect to remote at: amqps://test-dt.servicebus.windows.net:-1\r\n\r\nTo resolve above error, try as suggested by [Anand Sowmithiran](https://stackoverflow.com/users/14973743/anand-sowmithiran):\r\n\r\nCheck if port `5671` is blocked:\r\n```\r\ntelnet &lt;yournamespacename&gt;.servicebus.windows.net 5671\r\n```\r\n\r\n**Note:** Clients that use AMQP connections over TCP require ports `5671` and `5672` to be opened in the firewall. Along with these ports, it might be necessary to open additional ports if the [`EnableLinkRedirect`](https://learn.microsoft.com/en-us/dotnet/api/microsoft.servicebus.messaging.amqp.amqptransportsettings.enablelinkredirect) feature is enabled. \r\n\r\nYou can refer to [Troubleshooting guide for Azure Service Bus](https://learn.microsoft.com/en-us/azure/service-bus-messaging/service-bus-troubleshooting-guide), [AMQP outbound port requirements](https://learn.microsoft.com/en-us/azure/service-bus-messaging/service-bus-amqp-protocol-guide) and [Port 5671 Blocked :(. What are other options?\r\n](https://github.com/Azure/azure-sdk-for-js/issues/2554)\r\n","title":"Failed to connect Azure servicebus topic using JMS - Java","body":"<blockquote>\n<p>ERROR 43904 --- [ntContainer#0-1] org.apache.qpid.jms.JmsConnection        : Failed to connect to remote at: amqps://test-dt.servicebus.windows.net:-1</p>\n</blockquote>\n<p>To resolve above error, try as suggested by <a href=\"https://stackoverflow.com/users/14973743/anand-sowmithiran\">Anand Sowmithiran</a>:</p>\n<p>Check if port <code>5671</code> is blocked:</p>\n<pre><code>telnet &lt;yournamespacename&gt;.servicebus.windows.net 5671\n</code></pre>\n<p><strong>Note:</strong> Clients that use AMQP connections over TCP require ports <code>5671</code> and <code>5672</code> to be opened in the firewall. Along with these ports, it might be necessary to open additional ports if the <a href=\"https://learn.microsoft.com/en-us/dotnet/api/microsoft.servicebus.messaging.amqp.amqptransportsettings.enablelinkredirect\" rel=\"nofollow noreferrer\"><code>EnableLinkRedirect</code></a> feature is enabled.</p>\n<p>You can refer to <a href=\"https://learn.microsoft.com/en-us/azure/service-bus-messaging/service-bus-troubleshooting-guide\" rel=\"nofollow noreferrer\">Troubleshooting guide for Azure Service Bus</a>, <a href=\"https://learn.microsoft.com/en-us/azure/service-bus-messaging/service-bus-amqp-protocol-guide\" rel=\"nofollow noreferrer\">AMQP outbound port requirements</a> and <a href=\"https://github.com/Azure/azure-sdk-for-js/issues/2554\" rel=\"nofollow noreferrer\">Port 5671 Blocked :(. What are other options?\n</a></p>\n"}],"owner":{"account_id":6180465,"reputation":101,"user_id":4816131,"display_name":"Wafa Saba"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1598,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72082397,"answer_count":1,"score":2,"last_activity_date":1651466578,"creation_date":1650541023,"question_id":71953804,"body_markdown":"I followed steps as mentioned in [Azure ServiceBus JMS Sample][1] with below properties\r\n```\r\nspring.jms.servicebus.connection-string=Endpoint=sb://test-dt.servicebus.windows.net/;SharedAccessKeyName=RootManageSharedAccessKey;SharedAccessKey=key\r\nspring.jms.servicebus.topic-client-id=12345\r\nspring.jms.servicebus.idle-timeout=18000\r\nspring.jms.servicebus.pricing-tier=Standard\r\n\r\n```\r\nhowever I get below error\r\n\r\n```\r\nERROR 43904 --- [ntContainer#0-1] org.apache.qpid.jms.JmsConnection        : Failed to connect to remote at: amqps://test-dt.servicebus.windows.net:-1\r\nERROR 43904 --- [ntContainer#0-1] o.s.j.l.DefaultMessageListenerContainer  : Could not refresh JMS Connection for destination &#39;test-topic&#39; - retrying using FixedBackOff{interval=5000, currentAttempts=6, maxAttempts=unlimited}. Cause: handshake timed out after 10000ms\r\n```\r\n\r\nOn the other hand, I followed steps as mentioned in [ServiceBus without JMS][2] and added transportType as AmqpTransportType.AMQP_WEB_SOCKETS then I am able to connect.\r\n\r\nWe want to implement using spring boot starter and listener method, instead of calling from (public static void main) method.\r\n\r\nPlease guide on what am I missing when following first link\r\n\r\n\r\n  [1]: https://github.com/Azure-Samples/spring-jms-service-bus/tree/master/spring-jms-service-bus-topic-sample\r\n  [2]: https://learn.microsoft.com/en-us/azure/service-bus-messaging/service-bus-java-how-to-use-topics-subscriptions","title":"Failed to connect Azure servicebus topic using JMS - Java","body":"<p>I followed steps as mentioned in <a href=\"https://github.com/Azure-Samples/spring-jms-service-bus/tree/master/spring-jms-service-bus-topic-sample\" rel=\"nofollow noreferrer\">Azure ServiceBus JMS Sample</a> with below properties</p>\n<pre><code>spring.jms.servicebus.connection-string=Endpoint=sb://test-dt.servicebus.windows.net/;SharedAccessKeyName=RootManageSharedAccessKey;SharedAccessKey=key\nspring.jms.servicebus.topic-client-id=12345\nspring.jms.servicebus.idle-timeout=18000\nspring.jms.servicebus.pricing-tier=Standard\n\n</code></pre>\n<p>however I get below error</p>\n<pre><code>ERROR 43904 --- [ntContainer#0-1] org.apache.qpid.jms.JmsConnection        : Failed to connect to remote at: amqps://test-dt.servicebus.windows.net:-1\nERROR 43904 --- [ntContainer#0-1] o.s.j.l.DefaultMessageListenerContainer  : Could not refresh JMS Connection for destination 'test-topic' - retrying using FixedBackOff{interval=5000, currentAttempts=6, maxAttempts=unlimited}. Cause: handshake timed out after 10000ms\n</code></pre>\n<p>On the other hand, I followed steps as mentioned in <a href=\"https://learn.microsoft.com/en-us/azure/service-bus-messaging/service-bus-java-how-to-use-topics-subscriptions\" rel=\"nofollow noreferrer\">ServiceBus without JMS</a> and added transportType as AmqpTransportType.AMQP_WEB_SOCKETS then I am able to connect.</p>\n<p>We want to implement using spring boot starter and listener method, instead of calling from (public static void main) method.</p>\n<p>Please guide on what am I missing when following first link</p>\n"},{"tags":["java","android","xml","android-studio","webview"],"answers":[{"tags":[],"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651466182,"creation_date":1651466182,"answer_id":72082363,"question_id":72079700,"body_markdown":"You should return `false` in your `shouldOverrideUrlLoading` when u want to handle links in the browser itself. Try this:\r\n```java\r\n@Override\r\npublic boolean shouldOverrideUrlLoading(WebView view,String url){\r\n   view.loadUrl(url);\r\n   return false;\r\n}\r\n```","title":"How to open another link in a Webview Android Application?","body":"<p>You should return <code>false</code> in your <code>shouldOverrideUrlLoading</code> when u want to handle links in the browser itself. Try this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic boolean shouldOverrideUrlLoading(WebView view,String url){\n   view.loadUrl(url);\n   return false;\n}\n</code></pre>\n"}],"owner":{"account_id":11893505,"reputation":1,"user_id":8703625,"display_name":"Tanuj Kapoor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":969,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651466182,"creation_date":1651432422,"question_id":72079700,"body_markdown":"My website is having one external link which directs to *api.whatsapp.com* once you click on the chat with us floating button on my website. \r\n\r\nI have created a `Webview` Android application that opens my website in it. But when I click on the *Chat With Us* button then it gives me the error as there is no functionality to open it up. \r\n\r\nCan anyone please tell me the code to fix this issue?\r\n\r\n\r\n    package com.GadgetGlaze.GadgetGlaze;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    import android.graphics.Bitmap;\r\n    import android.os.Bundle;\r\n    import android.webkit.WebSettings;\r\n    import android.webkit.WebView;\r\n    import android.webkit.WebViewClient;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n        private WebView mywebView;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            mywebView=(WebView) findViewById(R.id.webview);\r\n            mywebView.setWebViewClient(new WebViewClient());\r\n            mywebView.loadUrl(&quot;https://www.gadgetglaze.com/&quot;);\r\n            WebSettings webSettings=mywebView.getSettings();\r\n            webSettings.setJavaScriptEnabled(true);\r\n        }\r\n        public class mywebClient extends WebViewClient{\r\n            @Override\r\n            public void onPageStarted(WebView view, String url, Bitmap favicon){\r\n                super.onPageStarted(view,url,favicon);\r\n            }\r\n            @Override\r\n            public boolean shouldOverrideUrlLoading(WebView view,String url){\r\n                view.loadUrl(url);\r\n                return true;\r\n            }\r\n        }\r\n        @Override\r\n        public void onBackPressed(){\r\n            if(mywebView.canGoBack()) {\r\n                mywebView.goBack();\r\n            }\r\n            else{\r\n                super.onBackPressed();\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"How to open another link in a Webview Android Application?","body":"<p>My website is having one external link which directs to <em>api.whatsapp.com</em> once you click on the chat with us floating button on my website.</p>\n<p>I have created a <code>Webview</code> Android application that opens my website in it. But when I click on the <em>Chat With Us</em> button then it gives me the error as there is no functionality to open it up.</p>\n<p>Can anyone please tell me the code to fix this issue?</p>\n<pre><code>package com.GadgetGlaze.GadgetGlaze;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.graphics.Bitmap;\nimport android.os.Bundle;\nimport android.webkit.WebSettings;\nimport android.webkit.WebView;\nimport android.webkit.WebViewClient;\n\npublic class MainActivity extends AppCompatActivity {\n    private WebView mywebView;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        mywebView=(WebView) findViewById(R.id.webview);\n        mywebView.setWebViewClient(new WebViewClient());\n        mywebView.loadUrl(&quot;https://www.gadgetglaze.com/&quot;);\n        WebSettings webSettings=mywebView.getSettings();\n        webSettings.setJavaScriptEnabled(true);\n    }\n    public class mywebClient extends WebViewClient{\n        @Override\n        public void onPageStarted(WebView view, String url, Bitmap favicon){\n            super.onPageStarted(view,url,favicon);\n        }\n        @Override\n        public boolean shouldOverrideUrlLoading(WebView view,String url){\n            view.loadUrl(url);\n            return true;\n        }\n    }\n    @Override\n    public void onBackPressed(){\n        if(mywebView.canGoBack()) {\n            mywebView.goBack();\n        }\n        else{\n            super.onBackPressed();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","hibernate","null","zero"],"answers":[{"tags":[],"owner":{"account_id":64344,"reputation":8352,"user_id":189992,"accept_rate":95,"display_name":"ssedano"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1320763589,"creation_date":1320681049,"answer_id":8038867,"question_id":8038737,"body_markdown":"You can map it to `java.lang.Long` which default value is null. Or you can use a `@PostLoad` and null it if `0`. You can also use a `@Formula` and ignore `0`.\r\n\r\nThe `@Formula` as written in their [documentation](http://docs.jboss.org/hibernate/core/3.3/reference/en/html/mapping.html#mapping-column) can be used to `join conditions`.\r\n\r\nSince I don&#39;t know your data model providing a valid example is tricky. Try with:\r\n\r\n    id_fk is not null or id_fk &lt;&gt; 0\r\n\r\nblock.\r\n\r\nIf it does not suit your needs you can write you own [Query loader](http://docs.jboss.org/hibernate/stable/core/reference/en-US/html/querysql.html#querysql-load)\r\n\r\nIf you are using some sort of logging enable the `show_sql` property. And add to your config the `org.hibernate.sql` `DEBUG`.\r\n","title":"Hibernate handle long 0 value instead of NULL in ManyToOne relations","body":"<p>You can map it to <code>java.lang.Long</code> which default value is null. Or you can use a <code>@PostLoad</code> and null it if <code>0</code>. You can also use a <code>@Formula</code> and ignore <code>0</code>.</p>\n\n<p>The <code>@Formula</code> as written in their <a href=\"http://docs.jboss.org/hibernate/core/3.3/reference/en/html/mapping.html#mapping-column\" rel=\"nofollow\">documentation</a> can be used to <code>join conditions</code>.</p>\n\n<p>Since I don't know your data model providing a valid example is tricky. Try with:</p>\n\n<pre><code>id_fk is not null or id_fk &lt;&gt; 0\n</code></pre>\n\n<p>block.</p>\n\n<p>If it does not suit your needs you can write you own <a href=\"http://docs.jboss.org/hibernate/stable/core/reference/en-US/html/querysql.html#querysql-load\" rel=\"nofollow\">Query loader</a></p>\n\n<p>If you are using some sort of logging enable the <code>show_sql</code> property. And add to your config the <code>org.hibernate.sql</code> <code>DEBUG</code>.</p>\n"},{"tags":[],"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1320682191,"creation_date":1320682191,"answer_id":8039146,"question_id":8038737,"body_markdown":"Use the [`NotFound`][1] annotation:\r\n\r\n    @NotFound(action = NotFoundAction.IGNORE)\r\n\r\nSee http://docs.jboss.org/hibernate/core/3.6/reference/en-US/html_single/#mapping-declaration-manytoone\r\n\r\n\r\n  [1]: http://docs.jboss.org/hibernate/core/3.6/javadocs/org/hibernate/annotations/NotFound.html","title":"Hibernate handle long 0 value instead of NULL in ManyToOne relations","body":"<p>Use the <a href=\"http://docs.jboss.org/hibernate/core/3.6/javadocs/org/hibernate/annotations/NotFound.html\" rel=\"noreferrer\"><code>NotFound</code></a> annotation:</p>\n\n<pre><code>@NotFound(action = NotFoundAction.IGNORE)\n</code></pre>\n\n<p>See <a href=\"http://docs.jboss.org/hibernate/core/3.6/reference/en-US/html_single/#mapping-declaration-manytoone\" rel=\"noreferrer\">http://docs.jboss.org/hibernate/core/3.6/reference/en-US/html_single/#mapping-declaration-manytoone</a></p>\n"},{"tags":[],"owner":{"account_id":114756,"reputation":57127,"user_id":301607,"accept_rate":100,"display_name":"StanislavL"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1651465769,"creation_date":1430907007,"answer_id":30073698,"question_id":8038737,"body_markdown":"Instead of the `@JoinColumn` could be used `@JoinFormula`. Like this\r\n\r\n    @JoinFormula(value=&quot;CASE the0isNullColumn&quot;\r\n                 + &quot; WHEN 0&quot;\r\n                 + &quot; THEN NULL&quot;\r\n                 + &quot; ELSE the0isNullColumn&quot;\r\n                 + &quot; END&quot;)\r\n\r\nThe expression means we check the column and if it&#39;s 0 return NULL. Then hibernate doesn&#39;t search for the related entity.","title":"Hibernate handle long 0 value instead of NULL in ManyToOne relations","body":"<p>Instead of the <code>@JoinColumn</code> could be used <code>@JoinFormula</code>. Like this</p>\n<pre><code>@JoinFormula(value=&quot;CASE the0isNullColumn&quot;\n             + &quot; WHEN 0&quot;\n             + &quot; THEN NULL&quot;\n             + &quot; ELSE the0isNullColumn&quot;\n             + &quot; END&quot;)\n</code></pre>\n<p>The expression means we check the column and if it's 0 return NULL. Then hibernate doesn't search for the related entity.</p>\n"}],"owner":{"account_id":743607,"reputation":447,"user_id":725072,"accept_rate":18,"display_name":"Vladimir"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7350,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":8039146,"answer_count":3,"score":8,"last_activity_date":1651466032,"creation_date":1320680443,"question_id":8038737,"body_markdown":"I use Hibernate to access to a legacy DB. For some tables the parent-child reference integrity is not enforced, and the `long` 0 value is used instead of NULL for some &quot;parent&quot; columns in child tables to denote &quot;no parent&quot;.\r\n\r\nI still want to use these relations in `@ManyToOne` and `@OneToMany` fields, but get `EntityNotFound` error since the 0 value does not correspond to any record in master table.\r\n\r\nWhat are my options?","title":"Hibernate handle long 0 value instead of NULL in ManyToOne relations","body":"<p>I use Hibernate to access to a legacy DB. For some tables the parent-child reference integrity is not enforced, and the <code>long</code> 0 value is used instead of NULL for some \"parent\" columns in child tables to denote \"no parent\".</p>\n\n<p>I still want to use these relations in <code>@ManyToOne</code> and <code>@OneToMany</code> fields, but get <code>EntityNotFound</code> error since the 0 value does not correspond to any record in master table.</p>\n\n<p>What are my options?</p>\n"},{"tags":["java","android","android-intent","galaxy","in-app"],"answers":[{"tags":[],"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651465789,"creation_date":1651465789,"answer_id":72082318,"question_id":72082026,"body_markdown":"You should add the data as a String not as a package or whatever we say it.\r\nTry to set the data this way:\r\n```java\r\nintent.setData(Uri.parse(&quot;samsungapps://AppRating/com.protecgames.htmleditor&quot;));  \r\n```","title":"Error while performing in-app Review for Galaxy Store","body":"<p>You should add the data as a String not as a package or whatever we say it.\nTry to set the data this way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>intent.setData(Uri.parse(&quot;samsungapps://AppRating/com.protecgames.htmleditor&quot;));  \n</code></pre>\n"}],"owner":{"account_id":23108859,"reputation":70,"user_id":17217071,"display_name":"Prakhar Doneria"},"comment_count":0,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":206,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1652024971,"accepted_answer_id":72082318,"answer_count":1,"score":-1,"last_activity_date":1651465789,"creation_date":1651461402,"question_id":72082026,"body_markdown":" I am trying in-app pop up review for my Galaxy Store app for first time. As per the documents provided by Galaxy Developer (https://developer.samsung.com/galaxy-store/customer-review/galaxy-store-review-broadcast.html) I followed each step and got this error while exciting the project.\r\n\r\nHere is the code I implement inside MainActivity.java:\r\n``` \r\nApplicationInfo ai = \r\n   getPackageManager().getApplicationInfo(&quot;com.sec.android.app.samsungapps&quot;,\r\n   PackageManager.GET_META_DATA);\r\nint inappReviewVersion = ai.metaData.getInt(&quot;com.sec.android.app.samsungapps.review.inappReview&quot;, 0);\r\nif (inappReviewVersion &gt; 0){\r\n\t   // if inappReviewVersion is larger than zero, Galaxy Store supports in-app review function\r\n} else {\r\n\t   // else, Galaxy Store does not support in-app review function\r\n}\r\n\r\n// 1. Check your review authority by Galaxy Store package\r\nIntent intent = new Intent(&quot;com.sec.android.app.samsungapps.REQUEST_INAPP_REVIEW_AUTHORITY&quot;);\r\nintent.setPackage(&quot;com.sec.android.app.samsungapps&quot;);\r\nintent.putExtra(&quot;callerPackage&quot;, com.protecgames.htmleditor);  // targetPacakge : your package name\r\nsendBroadcast(intent);\r\n\r\nIntent intent = new Intent();\r\nintent.setData(Uri.parse(samsungapps://AppRating/com.protecgames.htmleditor));    // deeplinkUri, included in response intent\r\nintent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP | Intent.FLAG_INCLUDE_STOPPED_PACKAGES);\r\nstartActivity(intent);\r\n\r\n```\r\n\r\nHere is the error I got:\r\n\r\n``` ----------\r\n1. ERROR in /storage/emulated/0/.sketchware/mysc/603/app/src/main/java/com/protecgames/htmleditor/MainActivity.java (at line 184)\r\n\tintent.setData(Uri.parse(samsungapps://AppRating/com.protecgames.htmleditor));    // deeplinkUri, included in response intent\r\n\t                        ^\r\nSyntax error, insert &quot;)&quot; to complete MethodInvocation\r\n----------\r\n2. ERROR in /storage/emulated/0/.sketchware/mysc/603/app/src/main/java/com/protecgames/htmleditor/MainActivity.java (at line 184)\r\n\tintent.setData(Uri.parse(samsungapps://AppRating/com.protecgames.htmleditor));    // deeplinkUri, included in response intent\r\n\t                        ^\r\nSyntax error, insert &quot;)&quot; to complete MethodInvocation\r\n----------\r\n3. ERROR in /storage/emulated/0/.sketchware/mysc/603/app/src/main/java/com/protecgames/htmleditor/MainActivity.java (at line 184)\r\n\tintent.setData(Uri.parse(samsungapps://AppRating/com.protecgames.htmleditor));    // deeplinkUri, included in response intent\r\n\t                        ^\r\nSyntax error, insert &quot;;&quot; to complete Statement\r\n----------\r\n3 problems (3 errors)\r\n\r\n```\r\n\r\nLanguage I am using is Java","title":"Error while performing in-app Review for Galaxy Store","body":"<p>I am trying in-app pop up review for my Galaxy Store app for first time. As per the documents provided by Galaxy Developer (<a href=\"https://developer.samsung.com/galaxy-store/customer-review/galaxy-store-review-broadcast.html\" rel=\"nofollow noreferrer\">https://developer.samsung.com/galaxy-store/customer-review/galaxy-store-review-broadcast.html</a>) I followed each step and got this error while exciting the project.</p>\n<p>Here is the code I implement inside MainActivity.java:</p>\n<pre><code>ApplicationInfo ai = \n   getPackageManager().getApplicationInfo(&quot;com.sec.android.app.samsungapps&quot;,\n   PackageManager.GET_META_DATA);\nint inappReviewVersion = ai.metaData.getInt(&quot;com.sec.android.app.samsungapps.review.inappReview&quot;, 0);\nif (inappReviewVersion &gt; 0){\n       // if inappReviewVersion is larger than zero, Galaxy Store supports in-app review function\n} else {\n       // else, Galaxy Store does not support in-app review function\n}\n\n// 1. Check your review authority by Galaxy Store package\nIntent intent = new Intent(&quot;com.sec.android.app.samsungapps.REQUEST_INAPP_REVIEW_AUTHORITY&quot;);\nintent.setPackage(&quot;com.sec.android.app.samsungapps&quot;);\nintent.putExtra(&quot;callerPackage&quot;, com.protecgames.htmleditor);  // targetPacakge : your package name\nsendBroadcast(intent);\n\nIntent intent = new Intent();\nintent.setData(Uri.parse(samsungapps://AppRating/com.protecgames.htmleditor));    // deeplinkUri, included in response intent\nintent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP | Intent.FLAG_INCLUDE_STOPPED_PACKAGES);\nstartActivity(intent);\n\n</code></pre>\n<p>Here is the error I got:</p>\n<pre><code>1. ERROR in /storage/emulated/0/.sketchware/mysc/603/app/src/main/java/com/protecgames/htmleditor/MainActivity.java (at line 184)\n    intent.setData(Uri.parse(samsungapps://AppRating/com.protecgames.htmleditor));    // deeplinkUri, included in response intent\n                            ^\nSyntax error, insert &quot;)&quot; to complete MethodInvocation\n----------\n2. ERROR in /storage/emulated/0/.sketchware/mysc/603/app/src/main/java/com/protecgames/htmleditor/MainActivity.java (at line 184)\n    intent.setData(Uri.parse(samsungapps://AppRating/com.protecgames.htmleditor));    // deeplinkUri, included in response intent\n                            ^\nSyntax error, insert &quot;)&quot; to complete MethodInvocation\n----------\n3. ERROR in /storage/emulated/0/.sketchware/mysc/603/app/src/main/java/com/protecgames/htmleditor/MainActivity.java (at line 184)\n    intent.setData(Uri.parse(samsungapps://AppRating/com.protecgames.htmleditor));    // deeplinkUri, included in response intent\n                            ^\nSyntax error, insert &quot;;&quot; to complete Statement\n----------\n3 problems (3 errors)\n\n</code></pre>\n<p>Language I am using is Java</p>\n"},{"tags":["java","android","android-permissions","android-bluetooth"],"answers":[{"tags":[],"owner":{"account_id":9453265,"reputation":89,"user_id":10711264,"display_name":"Ashok Mutyala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651465596,"creation_date":1651465596,"answer_id":72082301,"question_id":72055547,"body_markdown":"Seems, you missed BLUETOOTH_ADMIN Permission.\r\n\r\nhttps://developer.android.com/guide/topics/connectivity/bluetooth/permissions","title":"Finding Error in android studio java.lang.SecurityException: Need android.permission.BLUETOOTH_CONNECT","body":"<p>Seems, you missed BLUETOOTH_ADMIN Permission.</p>\n<p><a href=\"https://developer.android.com/guide/topics/connectivity/bluetooth/permissions\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/topics/connectivity/bluetooth/permissions</a></p>\n"}],"owner":{"account_id":24943999,"reputation":11,"user_id":18809524,"display_name":"Jagadish B"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3315,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651465596,"creation_date":1651223528,"question_id":72055547,"body_markdown":"I am new to Android studio. I am trying to connect to brother label printer QL-820NMB with the new  Android APK (SDK 31) with  android version 12 and the device is also android 12 itself. I tried pairing the device it gets paired. But when I tried to access the paired devices in the code finding the error in the line\r\n\r\n`Set&lt;BluetoothDevice&gt; pairedDevices = BluetoothAdapter.getBondedDevices();`\r\n\r\nAnd Exception is...\r\n\r\n`System.err: java.lang.SecurityException: Need android.permission.BLUETOOTH_CONNECT permission for AttributionSource { uid = 0000, packageName = com.xyz.xyz, attributionTag = null, token = android.os.xyz, next = null }: AdapterService getBondedDevices`\r\n\r\nI have provided all the manifest for permissions .\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_ADVERTISE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_SCAN&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_CONNECT&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot;/&gt;\r\nand also updated the mobile updates recommended and also updated the BrotherPrintLibrary jar to aar as recommended file.\r\n\r\nBut still unable to access the Bluetooth and getting the same Security Exception as above is there  any solution or can I know am I missing any configuration issue in the mobile or the code. \r\n\r\nI forgot to mention the same APK is working fine in Android 7 device but not in Android 12.","title":"Finding Error in android studio java.lang.SecurityException: Need android.permission.BLUETOOTH_CONNECT","body":"<p>I am new to Android studio. I am trying to connect to brother label printer QL-820NMB with the new  Android APK (SDK 31) with  android version 12 and the device is also android 12 itself. I tried pairing the device it gets paired. But when I tried to access the paired devices in the code finding the error in the line</p>\n<p><code>Set&lt;BluetoothDevice&gt; pairedDevices = BluetoothAdapter.getBondedDevices();</code></p>\n<p>And Exception is...</p>\n<p><code>System.err: java.lang.SecurityException: Need android.permission.BLUETOOTH_CONNECT permission for AttributionSource { uid = 0000, packageName = com.xyz.xyz, attributionTag = null, token = android.os.xyz, next = null }: AdapterService getBondedDevices</code></p>\n<p>I have provided all the manifest for permissions .</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_ADVERTISE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_SCAN&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_CONNECT&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot;/&gt;\n</code></pre>\n<p>and also updated the mobile updates recommended and also updated the BrotherPrintLibrary jar to aar as recommended file.</p>\n<p>But still unable to access the Bluetooth and getting the same Security Exception as above is there  any solution or can I know am I missing any configuration issue in the mobile or the code.</p>\n<p>I forgot to mention the same APK is working fine in Android 7 device but not in Android 12.</p>\n"},{"tags":["java","datetime","comparison"],"comments":[{"owner":{"account_id":1716961,"reputation":9711,"user_id":1573835,"accept_rate":49,"display_name":"Zaw Than oo"},"score":0,"creation_date":1406187844,"post_id":24927701,"comment_id":38734464,"body_markdown":"Reference SimpleDateFormat http://stackoverflow.com/questions/3056703/simpledateformat","body":"Reference SimpleDateFormat <a href=\"http://stackoverflow.com/questions/3056703/simpledateformat\">stackoverflow.com/questions/3056703/simpledateformat</a>"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1406187935,"post_id":24927701,"comment_id":38734518,"body_markdown":"Do you want a range for &quot;now&quot;? eg at &quot;12:34.999&quot;, 12:34 is a match, but 1 millisecond later it isn&#39;t - is that what you want?","body":"Do you want a range for &quot;now&quot;? eg at &quot;12:34.999&quot;, 12:34 is a match, but 1 millisecond later it isn&#39;t - is that what you want?"},{"owner":{"account_id":4474105,"reputation":63,"user_id":3639614,"accept_rate":62,"display_name":"mayank sharma"},"score":0,"creation_date":1406201302,"post_id":24927701,"comment_id":38742841,"body_markdown":"I just want to compare if the current time is greater than the time string or not.","body":"I just want to compare if the current time is greater than the time string or not."},{"owner":{"account_id":4474105,"reputation":63,"user_id":3639614,"accept_rate":62,"display_name":"mayank sharma"},"score":0,"creation_date":1408354999,"post_id":24927701,"comment_id":39542029,"body_markdown":"This is my time string which i want to compare.\nString time1End  = Integer.toString(calendar.get(Calendar.HOUR_OF_DAY)) + &quot;:15&quot;;\ni converted that into below format.\njava.util.Date endTime1 = new SimpleDateFormat(&quot;HH:mm&quot;).parse(time1End);\nnow convert sstemdate into the above time format.\njava.util.Date systemdate = new java.util.Date();\t            \nSimpleDateFormat parser\t= new SimpleDateFormat(&quot;HH:mm&quot;);\nString systemTime = parser.format(systemdate);\njava.util.Date currentTime  = new SimpleDateFormat(&quot;HH:mm&quot;).parse(systemTime);\n\nThen we can compare like that.\nif (currentTime.after(endTime1))","body":"This is my time string which i want to compare. String time1End  = Integer.toString(calendar.get(Calendar.HOUR_OF_DAY)) + &quot;:15&quot;; i converted that into below format. java.util.Date endTime1 = new SimpleDateFormat(&quot;HH:mm&quot;).parse(time1End); now convert sstemdate into the above time format. java.util.Date systemdate = new java.util.Date();\t             SimpleDateFormat parser\t= new SimpleDateFormat(&quot;HH:mm&quot;); String systemTime = parser.format(systemdate); java.util.Date currentTime  = new SimpleDateFormat(&quot;HH:mm&quot;).parse(systemTime);  Then we can compare like that. if (currentTime.after(endTime1))"}],"answers":[{"tags":[],"owner":{"account_id":4686595,"reputation":5802,"user_id":3793867,"accept_rate":29,"display_name":"Darshan Lila"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1406187521,"creation_date":1406187521,"answer_id":24927738,"question_id":24927701,"body_markdown":"Following would get the time. You can than use it to compare\r\n\r\n    String currentTime=new SimpleDateFormat(&quot;HH:mm&quot;).format(new Date());","title":"How to compare time string with current time in java?","body":"<p>Following would get the time. You can than use it to compare</p>\n\n<pre><code>String currentTime=new SimpleDateFormat(\"HH:mm\").format(new Date());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4386606,"reputation":338,"user_id":3576559,"accept_rate":100,"display_name":"James"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1406188207,"creation_date":1406187744,"answer_id":24927824,"question_id":24927701,"body_markdown":"Just compare the strings as normal like so:\r\n\r\n    String currentTime = new SimpleDateFormat(&quot;HH:mm&quot;).format(new Date());\r\n\tString timeToCompare = &quot;15:30&quot;;\r\n    boolean x = currentTime.equals(timeToCompare);\r\n\r\nIf the times are the same x will be `true` if they are not x will be `false`","title":"How to compare time string with current time in java?","body":"<p>Just compare the strings as normal like so:</p>\n\n<pre><code>String currentTime = new SimpleDateFormat(\"HH:mm\").format(new Date());\nString timeToCompare = \"15:30\";\nboolean x = currentTime.equals(timeToCompare);\n</code></pre>\n\n<p>If the times are the same x will be <code>true</code> if they are not x will be <code>false</code></p>\n"},{"tags":[],"owner":{"account_id":1160697,"reputation":1580,"user_id":1140250,"accept_rate":62,"display_name":"Ramzan Zafar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1406187792,"creation_date":1406187792,"answer_id":24927836,"question_id":24927701,"body_markdown":"Try this\r\n\r\n    public static String compareTime(String d) {\r\n    \t\tif (null == d)\r\n    \t\t\treturn &quot;&quot;;\r\n    \t\t\r\n    \t\ttry {\r\n    \t\t\t\r\n    \t\t\tSimpleDateFormat sdf= new SimpleDateFormat(&quot;HH:mm&quot;);\r\n    \t\t\td = sdf.format(new Date());\r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t\t\r\n    \t\t}\r\n    \r\n    \t\treturn d;\r\n    \r\n    \t}\r\n\r\nthen you can compare with your string","title":"How to compare time string with current time in java?","body":"<p>Try this</p>\n\n<pre><code>public static String compareTime(String d) {\n        if (null == d)\n            return \"\";\n\n        try {\n\n            SimpleDateFormat sdf= new SimpleDateFormat(\"HH:mm\");\n            d = sdf.format(new Date());\n        } catch (Exception e) {\n            e.printStackTrace();\n\n        }\n\n        return d;\n\n    }\n</code></pre>\n\n<p>then you can compare with your string</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1651464249,"creation_date":1406188665,"answer_id":24928109,"question_id":24927701,"body_markdown":"# tl;dr\r\n\r\n    LocalTime\r\n        .now()\r\n        .isAfter( \r\n            LocalTime.parse( &quot;15:30&quot; ) \r\n        )\r\n\r\n\r\n# Details\r\n\r\nYou should be thinking the other way around: *How to get that string turned into a time value*. You would not attempt math by turning your numbers into strings. So too with date-time values.\r\n\r\nAvoid the old bundled classes, java.util.Date and .Calendar as they are notoriously troublesome, flawed both in design and implementation. They are supplanted by the new [java.time package][1] in [Java 8][2]. And java.time was inspired by [Joda-Time][3].\r\n\r\nBoth [java.time][4] and [Joda-Time][5] offer a class to capture a time-of-day without any date to time zone: `LocalTime`.\r\n\r\n# java.time\r\n\r\nUsing the java.time classes built into Java, specifically [`LocalTime`][6]. Get the current time-of-day in your local time zone. Construct a time-of-day per your input string. Compare with the `isBefore`, `isAfter`, or `isEqual` methods.\r\n\r\n    LocalTime now = LocalTime.now();\r\n    LocalTime limit = LocalTime.parse( &quot;15:30&quot; );\r\n    Boolean isLate = now.isAfter( limit );\r\n\r\nBetter to specify your desired/expected time zone rather than rely implicitly on the JVM’s current default time zone.\r\n\r\n    ZoneId z = ZoneId.of( &quot;Pacific/Auckland&quot; ) ;\r\n    LocalTime now = LocalTime.now( z );  // Explicitly specify the desired/expected time zone.\r\n    LocalTime limit = LocalTime.parse( &quot;15:30&quot; );\r\n    Boolean isLate = now.isAfter( limit );\r\n\r\n# Joda-Time\r\n\r\nThe code in this case using the Joda-Time library  happens to be nearly the same as the code seen above for java.time. \r\n\r\nBeware that the [Joda-Time](http://www.joda.org/joda-time/) project is now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), with the team advising migration to the [java.time](http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html) classes.\r\n\r\n----------\r\n\r\n# About java.time\r\n\r\nThe [java.time](http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the troublesome old [legacy](https://en.wikipedia.org/wiki/Legacy_system) date-time classes such as [`java.util.Date`](https://docs.oracle.com/javase/8/docs/api/java/util/Date.html), [`Calendar`](https://docs.oracle.com/javase/8/docs/api/java/util/Calendar.html), &amp; [`SimpleDateFormat`](http://docs.oracle.com/javase/8/docs/api/java/text/SimpleDateFormat.html).\r\n\r\nThe [Joda-Time](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to the [java.time](http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html) classes.\r\n\r\nTo learn more, see the [Oracle Tutorial](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations. Specification is [JSR 310](https://jcp.org/en/jsr/detail?id=310).\r\n\r\nWhere to obtain the java.time classes? \r\n\r\n - [**Java SE 8**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8), [**Java SE 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9), and later\r\n  - Built-in. \r\n  - Part of the standard Java API with a bundled implementation.\r\n  - Java 9 adds some minor features and fixes.\r\n - [**Java SE 6**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6) and [**Java SE 7**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7)\r\n  - Much of the java.time functionality is back-ported to Java 6 &amp; 7 in [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/).\r\n - [**Android**](https://en.wikipedia.org/wiki/Android_(operating_system))\r\n  - The [***ThreeTenABP***](https://github.com/JakeWharton/ThreeTenABP) project adapts *ThreeTen-Backport* (mentioned above) for Android specifically.\r\n  - See [*How to use ThreeTenABP…*](http://stackoverflow.com/q/38922754/642706).\r\n\r\nThe [**ThreeTen-Extra**](http://www.threeten.org/threeten-extra/) project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as [`Interval`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html), [`YearWeek`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html), [`YearQuarter`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html), and [more](http://www.threeten.org/threeten-extra/apidocs/index.html).\r\n    \r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\r\n  [2]: http://en.wikipedia.org/wiki/Java_version_history#Java_SE_8_.28March_18.2C_2014.29\r\n  [3]: http://www.joda.org/joda-time/\r\n  [4]: http://docs.oracle.com/javase/8/docs/api/java/time/LocalTime.html\r\n  [5]: http://www.joda.org/joda-time/apidocs/org/joda/time/LocalTime.html\r\n  [6]: https://docs.oracle.com/javase/8/docs/api/java/time/LocalTime.html","title":"How to compare time string with current time in java?","body":"<h1>tl;dr</h1>\n<pre><code>LocalTime\n    .now()\n    .isAfter( \n        LocalTime.parse( &quot;15:30&quot; ) \n    )\n</code></pre>\n<h1>Details</h1>\n<p>You should be thinking the other way around: <em>How to get that string turned into a time value</em>. You would not attempt math by turning your numbers into strings. So too with date-time values.</p>\n<p>Avoid the old bundled classes, java.util.Date and .Calendar as they are notoriously troublesome, flawed both in design and implementation. They are supplanted by the new <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time package</a> in <a href=\"http://en.wikipedia.org/wiki/Java_version_history#Java_SE_8_.28March_18.2C_2014.29\" rel=\"nofollow noreferrer\">Java 8</a>. And java.time was inspired by <a href=\"http://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\">Joda-Time</a>.</p>\n<p>Both <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/LocalTime.html\" rel=\"nofollow noreferrer\">java.time</a> and <a href=\"http://www.joda.org/joda-time/apidocs/org/joda/time/LocalTime.html\" rel=\"nofollow noreferrer\">Joda-Time</a> offer a class to capture a time-of-day without any date to time zone: <code>LocalTime</code>.</p>\n<h1>java.time</h1>\n<p>Using the java.time classes built into Java, specifically <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalTime.html\" rel=\"nofollow noreferrer\"><code>LocalTime</code></a>. Get the current time-of-day in your local time zone. Construct a time-of-day per your input string. Compare with the <code>isBefore</code>, <code>isAfter</code>, or <code>isEqual</code> methods.</p>\n<pre><code>LocalTime now = LocalTime.now();\nLocalTime limit = LocalTime.parse( &quot;15:30&quot; );\nBoolean isLate = now.isAfter( limit );\n</code></pre>\n<p>Better to specify your desired/expected time zone rather than rely implicitly on the JVM’s current default time zone.</p>\n<pre><code>ZoneId z = ZoneId.of( &quot;Pacific/Auckland&quot; ) ;\nLocalTime now = LocalTime.now( z );  // Explicitly specify the desired/expected time zone.\nLocalTime limit = LocalTime.parse( &quot;15:30&quot; );\nBoolean isLate = now.isAfter( limit );\n</code></pre>\n<h1>Joda-Time</h1>\n<p>The code in this case using the Joda-Time library  happens to be nearly the same as the code seen above for java.time.</p>\n<p>Beware that the <a href=\"http://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\">Joda-Time</a> project is now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"nofollow noreferrer\">maintenance mode</a>, with the team advising migration to the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> classes.</p>\n<hr />\n<h1>About java.time</h1>\n<p>The <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> framework is built into Java 8 and later. These classes supplant the troublesome old <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"nofollow noreferrer\">legacy</a> date-time classes such as <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Date.html\" rel=\"nofollow noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Calendar.html\" rel=\"nofollow noreferrer\"><code>Calendar</code></a>, &amp; <a href=\"http://docs.oracle.com/javase/8/docs/api/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\"><code>SimpleDateFormat</code></a>.</p>\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\">Joda-Time</a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"nofollow noreferrer\">maintenance mode</a>, advises migration to the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> classes.</p>\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\">Oracle Tutorial</a>. And search Stack Overflow for many examples and explanations. Specification is <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"nofollow noreferrer\">JSR 310</a>.</p>\n<p>Where to obtain the java.time classes?</p>\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"nofollow noreferrer\"><strong>Java SE 8</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"nofollow noreferrer\"><strong>Java SE 9</strong></a>, and later</li>\n<li>Built-in.</li>\n<li>Part of the standard Java API with a bundled implementation.</li>\n<li>Java 9 adds some minor features and fixes.</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6\" rel=\"nofollow noreferrer\"><strong>Java SE 6</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7\" rel=\"nofollow noreferrer\"><strong>Java SE 7</strong></a></li>\n<li>Much of the java.time functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a>.</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"nofollow noreferrer\"><strong>Android</strong></a></li>\n<li>The <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\"><em><strong>ThreeTenABP</strong></em></a> project adapts <em>ThreeTen-Backport</em> (mentioned above) for Android specifically.</li>\n<li>See <a href=\"http://stackoverflow.com/q/38922754/642706\"><em>How to use ThreeTenABP…</em></a>.</li>\n</ul>\n<p>The <a href=\"http://www.threeten.org/threeten-extra/\" rel=\"nofollow noreferrer\"><strong>ThreeTen-Extra</strong></a> project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html\" rel=\"nofollow noreferrer\"><code>Interval</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html\" rel=\"nofollow noreferrer\"><code>YearWeek</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html\" rel=\"nofollow noreferrer\"><code>YearQuarter</code></a>, and <a href=\"http://www.threeten.org/threeten-extra/apidocs/index.html\" rel=\"nofollow noreferrer\">more</a>.</p>\n"},{"tags":[],"owner":{"account_id":2599844,"reputation":8426,"user_id":2252572,"accept_rate":63,"display_name":"Bacteria"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1440411110,"creation_date":1440411110,"answer_id":32179732,"question_id":24927701,"body_markdown":"I have a similar situation where I need to compare time string like &quot;15:30&quot; with the current time. \r\nI am using **Java 7** so I can not use Basil Bourque&#39;s solution.\r\nSo I have implemented one method which takes one string like &quot;15:30&quot; and \r\ncheck with current time and returns **true if current time is after input time**.\r\n\r\n    public static boolean checkSlaMissedOrNot(String sla) throws ParseException {\r\n    \t\tboolean slaMissedOrnot = false;\r\n    \t\tCalendar cal = Calendar.getInstance();\r\n    \t\tcal.set(Calendar.HOUR_OF_DAY, Integer.parseInt(sla.substring(0, 2)));\r\n    \t\tcal.set(Calendar.MINUTE, Integer.parseInt(sla.substring(3)));\r\n    \t\tcal.set(Calendar.SECOND, 0);\r\n    \t\tcal.set(Calendar.MILLISECOND, 0);\r\n    \t\tif (Calendar.getInstance().after(cal)) {\r\n    \t\t\tSystem.out.println(&quot;it&#39;s SLA missed&quot;);\r\n    \t\t\tslaMissedOrnot = true;\r\n    \t\t} else {\r\n    \t\t\tSystem.out.println(&quot;it&#39;s fine &amp; not SLA missed&quot;);\r\n    \t\t}\r\n    \t\treturn slaMissedOrnot;\r\n    \t}\r\n\r\n\r\nCalendar has other use full methods like `after(Object when)` \r\n\r\n&gt;Returns whether this Calendar represents a time after the time represented by the specified Object.\r\nYou can use this method also to compare time string with the current time.\r\n\r\n","title":"How to compare time string with current time in java?","body":"<p>I have a similar situation where I need to compare time string like \"15:30\" with the current time. \nI am using <strong>Java 7</strong> so I can not use Basil Bourque's solution.\nSo I have implemented one method which takes one string like \"15:30\" and \ncheck with current time and returns <strong>true if current time is after input time</strong>.</p>\n\n<pre><code>public static boolean checkSlaMissedOrNot(String sla) throws ParseException {\n        boolean slaMissedOrnot = false;\n        Calendar cal = Calendar.getInstance();\n        cal.set(Calendar.HOUR_OF_DAY, Integer.parseInt(sla.substring(0, 2)));\n        cal.set(Calendar.MINUTE, Integer.parseInt(sla.substring(3)));\n        cal.set(Calendar.SECOND, 0);\n        cal.set(Calendar.MILLISECOND, 0);\n        if (Calendar.getInstance().after(cal)) {\n            System.out.println(\"it's SLA missed\");\n            slaMissedOrnot = true;\n        } else {\n            System.out.println(\"it's fine &amp; not SLA missed\");\n        }\n        return slaMissedOrnot;\n    }\n</code></pre>\n\n<p>Calendar has other use full methods like <code>after(Object when)</code> </p>\n\n<blockquote>\n  <p>Returns whether this Calendar represents a time after the time represented by the specified Object.\n  You can use this method also to compare time string with the current time.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3952887,"reputation":11,"user_id":5070310,"display_name":"Dato&#39; Sapik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1482824470,"creation_date":1482824470,"answer_id":41341053,"question_id":24927701,"body_markdown":"Here is my example to compare before and after current time :\r\n\r\nMainActivity.java\r\n\r\n    Button search = (Button) findViewById(R.id.searchBus);\r\n            SimpleDateFormat sdfDate = new SimpleDateFormat(&quot;HH:mm&quot;);\r\n    \r\n            String limit = &quot;23:00&quot;;\r\n            Date limitBus=null;\r\n            try {\r\n                limitBus = sdfDate.parse(limit);\r\n            } catch (ParseException e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            String start = &quot;07:15&quot;;\r\n            Date startBus=null;\r\n            try {\r\n                startBus = sdfDate.parse(start);\r\n            } catch (ParseException e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            String user_time = getCurrentTimeStamp();\r\n            Date now = null;\r\n            try {\r\n                now = sdfDate.parse(user_time);\r\n            } catch (ParseException e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            if (now.after(limitBus)||now.before(startBus)){\r\n                Toast.makeText(this, &quot;Bus Operation Hours : 7:15AM - 11.00PM&quot;, Toast.LENGTH_LONG).show();\r\n                search.setEnabled(false);\r\n            }\r\n    \r\n            else\r\n            {\r\n                search.setEnabled(true);\r\n            }\r\n\r\n  \r\n\r\n    //get current time method\r\n     public static String getCurrentTimeStamp() {\r\n            SimpleDateFormat sdfDate = new SimpleDateFormat(&quot;HH:mm&quot;);//dd/MM/yyyy\r\n            Date now = new Date();\r\n            String strDate = sdfDate.format(now);\r\n            return strDate;\r\n        }","title":"How to compare time string with current time in java?","body":"<p>Here is my example to compare before and after current time :</p>\n\n<p>MainActivity.java</p>\n\n<pre><code>Button search = (Button) findViewById(R.id.searchBus);\n        SimpleDateFormat sdfDate = new SimpleDateFormat(\"HH:mm\");\n\n        String limit = \"23:00\";\n        Date limitBus=null;\n        try {\n            limitBus = sdfDate.parse(limit);\n        } catch (ParseException e) {\n            e.printStackTrace();\n        }\n\n        String start = \"07:15\";\n        Date startBus=null;\n        try {\n            startBus = sdfDate.parse(start);\n        } catch (ParseException e) {\n            e.printStackTrace();\n        }\n\n        String user_time = getCurrentTimeStamp();\n        Date now = null;\n        try {\n            now = sdfDate.parse(user_time);\n        } catch (ParseException e) {\n            e.printStackTrace();\n        }\n\n        if (now.after(limitBus)||now.before(startBus)){\n            Toast.makeText(this, \"Bus Operation Hours : 7:15AM - 11.00PM\", Toast.LENGTH_LONG).show();\n            search.setEnabled(false);\n        }\n\n        else\n        {\n            search.setEnabled(true);\n        }\n\n\n\n//get current time method\n public static String getCurrentTimeStamp() {\n        SimpleDateFormat sdfDate = new SimpleDateFormat(\"HH:mm\");//dd/MM/yyyy\n        Date now = new Date();\n        String strDate = sdfDate.format(now);\n        return strDate;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10477435,"reputation":33,"user_id":7723522,"display_name":"Sc001010tt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1520931627,"creation_date":1520931627,"answer_id":49251984,"question_id":24927701,"body_markdown":"So my Solution is a little bit different, Its starts with creating an clock with the current time, and testing the hour agaisnt a user defined int.\r\n\r\n\r\n\r\n\r\n\r\n        public void TextClockWindow() {\r\n\r\n        this.pack();\r\n\r\n        javax.swing.Timer t = new javax.swing.Timer(1000, (ActionEvent e) -&gt; {\r\n            Calendar calendar = new GregorianCalendar();\r\n            String am_pm;\r\n            calendar.setTimeZone(TimeZone.getDefault());\r\n\r\n            Calendar now = Calendar.getInstance();\r\n            int h = now.get(Calendar.HOUR_OF_DAY);\r\n            int m = now.get(Calendar.MINUTE);\r\n            int s = now.get(Calendar.SECOND);\r\n\r\n            if (calendar.get(Calendar.AM_PM) == 0) {\r\n                am_pm = &quot;AM&quot;;\r\n\r\n            } else {\r\n                am_pm = &quot;PM&quot;;\r\n\r\n            }   // Code to Determine whether the time is AM or PM\r\n\r\n            Clock.setText(&quot;&quot; + h + &quot;:&quot; + m + &quot; &quot; + am_pm);\r\n            \r\n            if(h &lt; 5) { //int here which tests agaisnt the hour evwery second\r\n            System.out.println(&quot;Success&quot;);\r\n            } else {\r\n            System.out.println(&quot;Failure&quot;); \r\n            }\r\n        });\r\n        t.start();\r\n    }","title":"How to compare time string with current time in java?","body":"<p>So my Solution is a little bit different, Its starts with creating an clock with the current time, and testing the hour agaisnt a user defined int.</p>\n\n<pre><code>    public void TextClockWindow() {\n\n    this.pack();\n\n    javax.swing.Timer t = new javax.swing.Timer(1000, (ActionEvent e) -&gt; {\n        Calendar calendar = new GregorianCalendar();\n        String am_pm;\n        calendar.setTimeZone(TimeZone.getDefault());\n\n        Calendar now = Calendar.getInstance();\n        int h = now.get(Calendar.HOUR_OF_DAY);\n        int m = now.get(Calendar.MINUTE);\n        int s = now.get(Calendar.SECOND);\n\n        if (calendar.get(Calendar.AM_PM) == 0) {\n            am_pm = \"AM\";\n\n        } else {\n            am_pm = \"PM\";\n\n        }   // Code to Determine whether the time is AM or PM\n\n        Clock.setText(\"\" + h + \":\" + m + \" \" + am_pm);\n\n        if(h &lt; 5) { //int here which tests agaisnt the hour evwery second\n        System.out.println(\"Success\");\n        } else {\n        System.out.println(\"Failure\"); \n        }\n    });\n    t.start();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12989716,"reputation":3034,"user_id":9389293,"display_name":"Abhishek Sengupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1543585638,"creation_date":1543585638,"answer_id":53558795,"question_id":24927701,"body_markdown":"This code will check *User Inputted time* with *current system time* and will **return time difference** in long value.\r\n\r\n\r\n \r\n \r\n\r\n    public long getTimeDifferenceInMillis (String dateTime) {\r\n     \r\n            SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n       \r\n            long currentTime = new Date().getTime();\r\n            long endTime = 0;\r\n            \r\n            try {\r\n                //Parsing the user Inputed time (&quot;yyyy-MM-dd HH:mm:ss&quot;)\r\n                endTime = dateFormat.parse(dateTime).getTime(); \r\n            } catch (ParseException e) {\r\n                e.printStackTrace();\r\n                return 0;\r\n            }\r\n            \r\n            if (endTime &gt; currentTime)\r\n                return endTime - currentTime;\r\n            else\r\n                return 0;\r\n        }\r\n\r\nThe user should pass the time in **&quot;yyyy-MM-dd HH:mm:ss&quot;** format.","title":"How to compare time string with current time in java?","body":"<p>This code will check <em>User Inputted time</em> with <em>current system time</em> and will <strong>return time difference</strong> in long value.</p>\n\n<pre><code>public long getTimeDifferenceInMillis (String dateTime) {\n\n        SimpleDateFormat dateFormat = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss\");\n\n        long currentTime = new Date().getTime();\n        long endTime = 0;\n\n        try {\n            //Parsing the user Inputed time (\"yyyy-MM-dd HH:mm:ss\")\n            endTime = dateFormat.parse(dateTime).getTime(); \n        } catch (ParseException e) {\n            e.printStackTrace();\n            return 0;\n        }\n\n        if (endTime &gt; currentTime)\n            return endTime - currentTime;\n        else\n            return 0;\n    }\n</code></pre>\n\n<p>The user should pass the time in <strong>\"yyyy-MM-dd HH:mm:ss\"</strong> format.</p>\n"}],"owner":{"account_id":4474105,"reputation":63,"user_id":3639614,"accept_rate":62,"display_name":"mayank sharma"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47552,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":24928109,"answer_count":8,"score":6,"last_activity_date":1651464249,"creation_date":1406187420,"question_id":24927701,"body_markdown":"I have a time string like &quot;15:30&quot; i want to compare that string with the current time.\r\nPlease suggest something easy.\r\nAnd how to get the current time in hour minute format(&quot;HH:mm&quot;)","title":"How to compare time string with current time in java?","body":"<p>I have a time string like \"15:30\" i want to compare that string with the current time.\nPlease suggest something easy.\nAnd how to get the current time in hour minute format(\"HH:mm\")</p>\n"},{"tags":["java","spring-mvc","spring-websocket","stomp","sockjs"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1450385984,"creation_date":1450385984,"answer_id":34344137,"question_id":34343235,"body_markdown":"Consider `&lt;websocket:transport message-size=&quot;&quot;/&gt;` option for the `&lt;websocket:message-broker&gt;` definition:\r\n\r\n&gt; Configure the maximum size for an incoming sub-protocol message.\r\n\tFor example a STOMP message may be received as multiple WebSocket messages\r\n\tor multiple HTTP POST requests when SockJS fallback options are in use.\r\n\r\nThe same can be achieved in annotation configuration using `WebSocketMessageBrokerConfigurer.configureWebSocketTransport(WebSocketTransportRegistration)` implementation and with the `setMessageSizeLimit()` on the matter.","title":"STOMP Spring WebSocket message exceeds size limit","body":"<p>Consider <code>&lt;websocket:transport message-size=\"\"/&gt;</code> option for the <code>&lt;websocket:message-broker&gt;</code> definition:</p>\n\n<blockquote>\n  <p>Configure the maximum size for an incoming sub-protocol message.\n      For example a STOMP message may be received as multiple WebSocket messages\n      or multiple HTTP POST requests when SockJS fallback options are in use.</p>\n</blockquote>\n\n<p>The same can be achieved in annotation configuration using <code>WebSocketMessageBrokerConfigurer.configureWebSocketTransport(WebSocketTransportRegistration)</code> implementation and with the <code>setMessageSizeLimit()</code> on the matter.</p>\n"},{"tags":[],"owner":{"account_id":6937186,"reputation":1164,"user_id":5324721,"display_name":"Kumar Ashutosh"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1530421835,"creation_date":1530421835,"answer_id":51120587,"question_id":34343235,"body_markdown":"I was getting similar javascript errorr when the default value of 65kb was set.. then i set it to some random and again got some error like the \r\n\r\n&gt; connection was interrupted\r\n\r\n. So tried increasing the time limit and that worked for me. Actually when the limit exceeds, the messages are sent into packets/or frames, and while it was receiving the response from server, it timed out.\r\n\r\nYou can use tweak it as below\r\n\r\n    @EnableWebSocketMessageBroker\r\n    public class AppWebSocketConfig extends AbstractWebSocketMessageBrokerConfigurer {\r\n    ----\r\n    ---\r\n        @Override\r\n        \tpublic void configureWebSocketTransport(WebSocketTransportRegistration registration) {\r\n        \t\tregistration.setMessageSizeLimit(200000); // default : 64 * 1024\r\n        \t\tregistration.setSendTimeLimit(20 * 10000); // default : 10 * 10000\r\n        \t\tregistration.setSendBufferSizeLimit(3* 512 * 1024); // default : 512 * 1024\r\n        \t\t\r\n        \t}\r\n    ---\r\n    }","title":"STOMP Spring WebSocket message exceeds size limit","body":"<p>I was getting similar javascript errorr when the default value of 65kb was set.. then i set it to some random and again got some error like the </p>\n\n<blockquote>\n  <p>connection was interrupted</p>\n</blockquote>\n\n<p>. So tried increasing the time limit and that worked for me. Actually when the limit exceeds, the messages are sent into packets/or frames, and while it was receiving the response from server, it timed out.</p>\n\n<p>You can use tweak it as below</p>\n\n<pre><code>@EnableWebSocketMessageBroker\npublic class AppWebSocketConfig extends AbstractWebSocketMessageBrokerConfigurer {\n----\n---\n    @Override\n        public void configureWebSocketTransport(WebSocketTransportRegistration registration) {\n            registration.setMessageSizeLimit(200000); // default : 64 * 1024\n            registration.setSendTimeLimit(20 * 10000); // default : 10 * 10000\n            registration.setSendBufferSizeLimit(3* 512 * 1024); // default : 512 * 1024\n\n        }\n---\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7746434,"reputation":537,"user_id":5864025,"display_name":"Anthony Vinay"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1586407774,"creation_date":1586407774,"answer_id":61114193,"question_id":34343235,"body_markdown":"            List&lt;Transport&gt; transports = new ArrayList&lt;Transport&gt;();\r\n    \t\tWebSocketContainer container = ContainerProvider.getWebSocketContainer();\r\n    \t\tcontainer.setDefaultMaxTextMessageBufferSize(512*1024);  //FIX\r\n    \t\tWebSocketClient wsClient = new StandardWebSocketClient(container);\r\n    \t\ttransports.add(new WebSocketTransport(wsClient));\r\n    //\t\ttransports.add(new RestTemplateXhrTransport());\r\n    \t\t\r\n    \t\tSockJsClient sockJsClient = new SockJsClient(transports);\r\n    \t\tWebSocketStompClient stompClient = new WebSocketStompClient(sockJsClient);\r\n    \t\tstompClient.setMessageConverter(new SimpleMessageConverter());\r\n    \t\tstompClient.setInboundMessageSizeLimit(512 * 1024);      //FIX\r\n\r\n&lt;hr/&gt;\r\nLines commented as FIX resolved the issue for me.\r\n&lt;hr/&gt;","title":"STOMP Spring WebSocket message exceeds size limit","body":"<pre><code>        List&lt;Transport&gt; transports = new ArrayList&lt;Transport&gt;();\n        WebSocketContainer container = ContainerProvider.getWebSocketContainer();\n        container.setDefaultMaxTextMessageBufferSize(512*1024);  //FIX\n        WebSocketClient wsClient = new StandardWebSocketClient(container);\n        transports.add(new WebSocketTransport(wsClient));\n//      transports.add(new RestTemplateXhrTransport());\n\n        SockJsClient sockJsClient = new SockJsClient(transports);\n        WebSocketStompClient stompClient = new WebSocketStompClient(sockJsClient);\n        stompClient.setMessageConverter(new SimpleMessageConverter());\n        stompClient.setInboundMessageSizeLimit(512 * 1024);      //FIX\n</code></pre>\n\n<p><hr/>\nLines commented as FIX resolved the issue for me.</p>\n\n<hr/>\n"},{"tags":[],"owner":{"account_id":17570849,"reputation":1,"user_id":12746595,"display_name":"Stirbei Octavian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1613593780,"creation_date":1613591105,"answer_id":66248942,"question_id":34343235,"body_markdown":"Consider `&lt;websocket:transport message-size=&quot;&quot;/&gt;` option for the `&lt;websocket:message-broker&gt;` definition:\r\n\r\nConfigure the maximum size for an incoming sub-protocol message. For example a STOMP message may be received as multiple WebSocket messages or multiple HTTP POST requests when SockJS fallback options are in use.\r\n\r\nThe same can be achieved in annotation configuration using \r\n\r\n    WebSocketMessageBrokerConfigurer.configureWebSocketTransport(WebSocketTransportRegistration) \r\n\r\nimplementation and with the `setMessageSizeLimit()` on the matter.\r\n\r\n\r\n\r\nThis is right but... If you are using Spring WebSocket then the stomp message is\r\n\r\n    StompSubProtocolHandler\r\n\r\nand \r\n\r\n    @Override\r\n    \tpublic void afterSessionStarted(WebSocketSession session, MessageChannel outputChannel) {\r\n    \t\tif (session.getTextMessageSizeLimit() &lt; MINIMUM_WEBSOCKET_MESSAGE_SIZE) {\r\n    \t\t\tsession.setTextMessageSizeLimit(MINIMUM_WEBSOCKET_MESSAGE_SIZE);\r\n    \t\t}\r\n    \t\tthis.decoders.put(session.getId(), new BufferingStompDecoder(this.stompDecoder, getMessageSizeLimit()));\r\n    \t}\r\n\r\nso here is the spring bug message size is set as websocket:transport message-size but the WebSocketSession is not ... is 8KB and this method will double it. No as the message that we want to send.\r\n\r\n\r\nI do not know how to fix that; You need to set WebSocketSession `TextMessageSizeLimit`. Maybe someone how know better spring boot factory knows a spring way to change the WebSocketSession `textMessageSizeLimit`.\r\nAnyway I did with Aop `DelegatingIntroductionInterceptor` \r\n\r\nin the `WebSocketMessageBrokerConfigurer`\r\n\r\n   \r\n\r\n     @Override\r\n        public void configureWebSocketTransport(WebSocketTransportRegistration registry) {\r\n            registry.setMessageSizeLimit(50 * 1024 * 1024); //this not work todo\r\n            registry.setSendBufferSizeLimit(50 * 1024 * 1024);\r\n            registry.setDecoratorFactories(agentWebSocketHandlerDecoratorFactory());\r\n        }\r\n    \r\n      @Bean\r\n            public  AgentWebSocketHandlerDecoratorFactory agentWebSocketHandlerDecoratorFactory() {\r\n            return new AgentWebSocketHandlerDecoratorFactory();\r\n        }\r\n\r\nthe `AgentWebSocketHandlerDecoratorFactory` will proxy the `WebSocketHandler` to a custom `DelegatingIntroductionInterceptor`\r\n\r\n    import org.springframework.aop.framework.ProxyFactory;\r\n    import org.springframework.aop.support.AopUtils;\r\n    import org.springframework.aop.support.DefaultIntroductionAdvisor;\r\n    import org.springframework.aop.target.SingletonTargetSource;\r\n    import org.springframework.web.socket.WebSocketHandler;\r\n    import org.springframework.web.socket.handler.WebSocketHandlerDecoratorFactory;\r\n    \r\n    public class AgentWebSocketHandlerDecoratorFactory implements WebSocketHandlerDecoratorFactory {\r\n    \r\n    \r\n        @Override\r\n        public WebSocketHandler decorate(WebSocketHandler handler) {\r\n            ProxyFactory proxyFactory = new ProxyFactory();\r\n            proxyFactory.setTargetClass(AopUtils.getTargetClass(handler));\r\n            proxyFactory.setTargetSource(new SingletonTargetSource(handler));\r\n            proxyFactory.addAdvisor(new DefaultIntroductionAdvisor(new SubProtocolWebSocketHandlerInterceptor()));\r\n            proxyFactory.setOptimize(true);\r\n            proxyFactory.setExposeProxy(true);\r\n            return (WebSocketHandler) proxyFactory.getProxy();\r\n    \r\n        }\r\n    \r\n    }\r\n\r\nand the custom `DefaultIntroductionAdvisor` will intercept the WebSocketHandler `afterConnectionEstablished` and set WebSocketSession `textMessageSizeLimit` \r\n\r\n    import org.aopalliance.intercept.MethodInvocation;\r\n    import org.springframework.aop.support.DelegatingIntroductionInterceptor;\r\n    import org.springframework.web.socket.WebSocketSession;\r\n    \r\n    public class SubProtocolWebSocketHandlerInterceptor extends DelegatingIntroductionInterceptor {\r\n    \r\n        @Override\r\n        protected Object doProceed(MethodInvocation mi) throws Throwable {\r\n            if(mi.getMethod().getName().equals(&quot;afterConnectionEstablished&quot;) ) {\r\n                WebSocketSession session = (WebSocketSession) mi.getArguments()[0];\r\n                session.setTextMessageSizeLimit(50*1024*1024);\r\n            }\r\n            return super.doProceed(mi);\r\n        }\r\n    }\r\n\r\n\r\nThis is tested and will accept message biger the 16KB\r\nin the presented case message limit size is 50 * 1024 * 1024\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"STOMP Spring WebSocket message exceeds size limit","body":"<p>Consider <code>&lt;websocket:transport message-size=&quot;&quot;/&gt;</code> option for the <code>&lt;websocket:message-broker&gt;</code> definition:</p>\n<p>Configure the maximum size for an incoming sub-protocol message. For example a STOMP message may be received as multiple WebSocket messages or multiple HTTP POST requests when SockJS fallback options are in use.</p>\n<p>The same can be achieved in annotation configuration using</p>\n<pre><code>WebSocketMessageBrokerConfigurer.configureWebSocketTransport(WebSocketTransportRegistration) \n</code></pre>\n<p>implementation and with the <code>setMessageSizeLimit()</code> on the matter.</p>\n<p>This is right but... If you are using Spring WebSocket then the stomp message is</p>\n<pre><code>StompSubProtocolHandler\n</code></pre>\n<p>and</p>\n<pre><code>@Override\n    public void afterSessionStarted(WebSocketSession session, MessageChannel outputChannel) {\n        if (session.getTextMessageSizeLimit() &lt; MINIMUM_WEBSOCKET_MESSAGE_SIZE) {\n            session.setTextMessageSizeLimit(MINIMUM_WEBSOCKET_MESSAGE_SIZE);\n        }\n        this.decoders.put(session.getId(), new BufferingStompDecoder(this.stompDecoder, getMessageSizeLimit()));\n    }\n</code></pre>\n<p>so here is the spring bug message size is set as websocket:transport message-size but the WebSocketSession is not ... is 8KB and this method will double it. No as the message that we want to send.</p>\n<p>I do not know how to fix that; You need to set WebSocketSession <code>TextMessageSizeLimit</code>. Maybe someone how know better spring boot factory knows a spring way to change the WebSocketSession <code>textMessageSizeLimit</code>.\nAnyway I did with Aop <code>DelegatingIntroductionInterceptor</code></p>\n<p>in the <code>WebSocketMessageBrokerConfigurer</code></p>\n<pre><code> @Override\n    public void configureWebSocketTransport(WebSocketTransportRegistration registry) {\n        registry.setMessageSizeLimit(50 * 1024 * 1024); //this not work todo\n        registry.setSendBufferSizeLimit(50 * 1024 * 1024);\n        registry.setDecoratorFactories(agentWebSocketHandlerDecoratorFactory());\n    }\n\n  @Bean\n        public  AgentWebSocketHandlerDecoratorFactory agentWebSocketHandlerDecoratorFactory() {\n        return new AgentWebSocketHandlerDecoratorFactory();\n    }\n</code></pre>\n<p>the <code>AgentWebSocketHandlerDecoratorFactory</code> will proxy the <code>WebSocketHandler</code> to a custom <code>DelegatingIntroductionInterceptor</code></p>\n<pre><code>import org.springframework.aop.framework.ProxyFactory;\nimport org.springframework.aop.support.AopUtils;\nimport org.springframework.aop.support.DefaultIntroductionAdvisor;\nimport org.springframework.aop.target.SingletonTargetSource;\nimport org.springframework.web.socket.WebSocketHandler;\nimport org.springframework.web.socket.handler.WebSocketHandlerDecoratorFactory;\n\npublic class AgentWebSocketHandlerDecoratorFactory implements WebSocketHandlerDecoratorFactory {\n\n\n    @Override\n    public WebSocketHandler decorate(WebSocketHandler handler) {\n        ProxyFactory proxyFactory = new ProxyFactory();\n        proxyFactory.setTargetClass(AopUtils.getTargetClass(handler));\n        proxyFactory.setTargetSource(new SingletonTargetSource(handler));\n        proxyFactory.addAdvisor(new DefaultIntroductionAdvisor(new SubProtocolWebSocketHandlerInterceptor()));\n        proxyFactory.setOptimize(true);\n        proxyFactory.setExposeProxy(true);\n        return (WebSocketHandler) proxyFactory.getProxy();\n\n    }\n\n}\n</code></pre>\n<p>and the custom <code>DefaultIntroductionAdvisor</code> will intercept the WebSocketHandler <code>afterConnectionEstablished</code> and set WebSocketSession <code>textMessageSizeLimit</code></p>\n<pre><code>import org.aopalliance.intercept.MethodInvocation;\nimport org.springframework.aop.support.DelegatingIntroductionInterceptor;\nimport org.springframework.web.socket.WebSocketSession;\n\npublic class SubProtocolWebSocketHandlerInterceptor extends DelegatingIntroductionInterceptor {\n\n    @Override\n    protected Object doProceed(MethodInvocation mi) throws Throwable {\n        if(mi.getMethod().getName().equals(&quot;afterConnectionEstablished&quot;) ) {\n            WebSocketSession session = (WebSocketSession) mi.getArguments()[0];\n            session.setTextMessageSizeLimit(50*1024*1024);\n        }\n        return super.doProceed(mi);\n    }\n}\n</code></pre>\n<p>This is tested and will accept message biger the 16KB\nin the presented case message limit size is 50 * 1024 * 1024</p>\n"},{"tags":[],"owner":{"account_id":24913447,"reputation":11,"user_id":18782705,"display_name":"Sudhakar Venkatraman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651463821,"creation_date":1649765555,"answer_id":71842493,"question_id":34343235,"body_markdown":"I&#39;ve faced the same issue and solved by configuring WebSocketTransportRegistration and ServletServerContainerFactoryBean.\r\n\r\n```\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.web.socket.config.annotation.AbstractWebSocketMessageBrokerConfigurer;\r\nimport org.springframework.web.socket.config.annotation.EnableWebSocketMessageBroker;\r\nimport org.springframework.web.socket.config.annotation.StompEndpointRegistry;\r\nimport org.springframework.web.socket.config.annotation.WebSocketTransportRegistration;\r\nimport org.springframework.web.socket.server.standard.ServletServerContainerFactoryBean;\r\n\r\n@Configuration\r\n@EnableWebSocketMessageBroker\r\npublic class WebSocketConfig extends AbstractWebSocketMessageBrokerConfigurer {\r\n\r\n    @Override\r\n    public void registerStompEndpoints(StompEndpointRegistry registry) {\r\n        registry.addEndpoint(&quot;/echo&quot;).setAllowedOrigins(&quot;*&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void configureWebSocketTransport(WebSocketTransportRegistration registration) {\r\n        registration.setMessageSizeLimit(2048 * 2048);\r\n        registration.setSendBufferSizeLimit(2048 * 2048);\r\n        registration.setSendTimeLimit(2048 * 2048);\r\n    }\r\n\r\n    @Bean\r\n    public ServletServerContainerFactoryBean createServletServerContainerFactoryBean() {\r\n        ServletServerContainerFactoryBean factoryBean = new ServletServerContainerFactoryBean();\r\n        factoryBean.setMaxTextMessageBufferSize(2048 * 2048);\r\n        factoryBean.setMaxBinaryMessageBufferSize(2048 * 2048);\r\n        factoryBean.setMaxSessionIdleTimeout(2048L * 2048L);\r\n        factoryBean.setAsyncSendTimeout(2048L * 2048L);\r\n        return factoryBean;\r\n    }\r\n}\r\n```","title":"STOMP Spring WebSocket message exceeds size limit","body":"<p>I've faced the same issue and solved by configuring WebSocketTransportRegistration and ServletServerContainerFactoryBean.</p>\n<pre><code>import org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.web.socket.config.annotation.AbstractWebSocketMessageBrokerConfigurer;\nimport org.springframework.web.socket.config.annotation.EnableWebSocketMessageBroker;\nimport org.springframework.web.socket.config.annotation.StompEndpointRegistry;\nimport org.springframework.web.socket.config.annotation.WebSocketTransportRegistration;\nimport org.springframework.web.socket.server.standard.ServletServerContainerFactoryBean;\n\n@Configuration\n@EnableWebSocketMessageBroker\npublic class WebSocketConfig extends AbstractWebSocketMessageBrokerConfigurer {\n\n    @Override\n    public void registerStompEndpoints(StompEndpointRegistry registry) {\n        registry.addEndpoint(&quot;/echo&quot;).setAllowedOrigins(&quot;*&quot;);\n    }\n\n    @Override\n    public void configureWebSocketTransport(WebSocketTransportRegistration registration) {\n        registration.setMessageSizeLimit(2048 * 2048);\n        registration.setSendBufferSizeLimit(2048 * 2048);\n        registration.setSendTimeLimit(2048 * 2048);\n    }\n\n    @Bean\n    public ServletServerContainerFactoryBean createServletServerContainerFactoryBean() {\n        ServletServerContainerFactoryBean factoryBean = new ServletServerContainerFactoryBean();\n        factoryBean.setMaxTextMessageBufferSize(2048 * 2048);\n        factoryBean.setMaxBinaryMessageBufferSize(2048 * 2048);\n        factoryBean.setMaxSessionIdleTimeout(2048L * 2048L);\n        factoryBean.setAsyncSendTimeout(2048L * 2048L);\n        return factoryBean;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1888409,"reputation":1893,"user_id":1707141,"accept_rate":48,"display_name":"Nikhil Das Nomula"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20358,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":34344137,"answer_count":5,"score":9,"last_activity_date":1651463821,"creation_date":1450382373,"question_id":34343235,"body_markdown":"I am implementing Spring WebSocket into our Spring MVC web application. However I am running into message over size limits when I am trying to send a really big message to an endpoint. \r\n\r\nI am getting the following error:\r\n\r\n    message:The &#39;content-length&#39; header 68718  exceeds the configured message buffer size limit 65536\r\n\r\n    14:49:11,506 ERROR [org.springframework.web.socket.messaging.StompSubProtocolHandler] (http-localhost/127.0.0.1:8080-4) Failed to parse TextMessage payload=[13684590},..], byteCount=16384, last=true] in session vlsxdeol. Sending STOMP ERROR to client.: org.springframework.messaging.simp.stomp.StompConversionException: The &#39;content-length&#39; header 68718  exceeds the configured message buffer size limit 65536\r\n\tat org.springframework.messaging.simp.stomp.BufferingStompDecoder.checkBufferLimits(BufferingStompDecoder.java:148) [spring-messaging-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n\tat org.springframework.messaging.simp.stomp.BufferingStompDecoder.decode(BufferingStompDecoder.java:124) [spring-messaging-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n\r\nHere is my configuration:\r\n\r\n    @MessageMapping(&quot;/user/sockettest&quot; )\r\n    @SendTo(&quot;/topic/sockettestresult&quot;)\r\n    public String sockAdd(ListId[] listIds) {\r\n    ..\r\n    SecurityContextHolder.getContext().getAuthentication().getPrincipal();\r\n\r\n    return stringRet;\r\n    }\r\n\r\nThe xml config looks like the following:\r\n\r\n    &lt;websocket:stomp-endpoint path=&quot;/user/sockettest&quot;&gt;\r\n    &lt;websocket:sockjs/&gt;\r\n    &lt;/websocket:stomp-endpoint&gt;\r\n\r\n    &lt;websocket:simple-broker prefix=&quot;/topic&quot;/&gt;\r\n\r\n    &lt;websocket:message-converters register-defaults=&quot;false&quot;&gt;\r\n        &lt;bean id=&quot;mappingJackson2MessageConverter&quot; class=&quot;org.springframework.messaging.converter.MappingJackson2MessageConverter&quot;&gt;\r\n            &lt;property name=&quot;objectMapper&quot; ref=&quot;objectMapper&quot;&gt;&lt;/property&gt;\r\n        &lt;/bean&gt;\r\n    &lt;/websocket:message-converters&gt;\r\n    &lt;/websocket:message-broker&gt;\r\n\r\nThe client side code looks like this:\r\n\r\n    function versionFiles() {\r\n\t\t\tstompClient.send(&quot;/testbrkr/user/sockettest&quot;, {}, JSON.stringify(listIds));\r\n\t    }\r\n\r\nCan you let me know what would be a good work-around?\r\n\r\n**Answer**: If you know what would be the maximum size limit\r\n\r\n     &lt;websocket:transport message-size=&quot;75536&quot; send-buffer-size=&quot;75536&quot;&gt;&lt;/websocket:transport&gt;\r\n\r\nI am looking on how to do partial messaging, will post it here as soon as I find out and get it working","title":"STOMP Spring WebSocket message exceeds size limit","body":"<p>I am implementing Spring WebSocket into our Spring MVC web application. However I am running into message over size limits when I am trying to send a really big message to an endpoint. </p>\n\n<p>I am getting the following error:</p>\n\n<pre><code>message:The 'content-length' header 68718  exceeds the configured message buffer size limit 65536\n\n14:49:11,506 ERROR [org.springframework.web.socket.messaging.StompSubProtocolHandler] (http-localhost/127.0.0.1:8080-4) Failed to parse TextMessage payload=[13684590},..], byteCount=16384, last=true] in session vlsxdeol. Sending STOMP ERROR to client.: org.springframework.messaging.simp.stomp.StompConversionException: The 'content-length' header 68718  exceeds the configured message buffer size limit 65536\nat org.springframework.messaging.simp.stomp.BufferingStompDecoder.checkBufferLimits(BufferingStompDecoder.java:148) [spring-messaging-4.1.6.RELEASE.jar:4.1.6.RELEASE]\nat org.springframework.messaging.simp.stomp.BufferingStompDecoder.decode(BufferingStompDecoder.java:124) [spring-messaging-4.1.6.RELEASE.jar:4.1.6.RELEASE]\n</code></pre>\n\n<p>Here is my configuration:</p>\n\n<pre><code>@MessageMapping(\"/user/sockettest\" )\n@SendTo(\"/topic/sockettestresult\")\npublic String sockAdd(ListId[] listIds) {\n..\nSecurityContextHolder.getContext().getAuthentication().getPrincipal();\n\nreturn stringRet;\n}\n</code></pre>\n\n<p>The xml config looks like the following:</p>\n\n<pre><code>&lt;websocket:stomp-endpoint path=\"/user/sockettest\"&gt;\n&lt;websocket:sockjs/&gt;\n&lt;/websocket:stomp-endpoint&gt;\n\n&lt;websocket:simple-broker prefix=\"/topic\"/&gt;\n\n&lt;websocket:message-converters register-defaults=\"false\"&gt;\n    &lt;bean id=\"mappingJackson2MessageConverter\" class=\"org.springframework.messaging.converter.MappingJackson2MessageConverter\"&gt;\n        &lt;property name=\"objectMapper\" ref=\"objectMapper\"&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n&lt;/websocket:message-converters&gt;\n&lt;/websocket:message-broker&gt;\n</code></pre>\n\n<p>The client side code looks like this:</p>\n\n<pre><code>function versionFiles() {\n        stompClient.send(\"/testbrkr/user/sockettest\", {}, JSON.stringify(listIds));\n    }\n</code></pre>\n\n<p>Can you let me know what would be a good work-around?</p>\n\n<p><strong>Answer</strong>: If you know what would be the maximum size limit</p>\n\n<pre><code> &lt;websocket:transport message-size=\"75536\" send-buffer-size=\"75536\"&gt;&lt;/websocket:transport&gt;\n</code></pre>\n\n<p>I am looking on how to do partial messaging, will post it here as soon as I find out and get it working</p>\n"},{"tags":["java","kettle"],"comments":[{"owner":{"account_id":6514367,"reputation":1462,"user_id":5040684,"display_name":"Ana GH"},"score":0,"creation_date":1651574596,"post_id":72082069,"comment_id":127390540,"body_markdown":"What is your java version? Kettle works with java 8.","body":"What is your java version? Kettle works with java 8."},{"owner":{"account_id":25169073,"reputation":1,"user_id":19012138,"display_name":"kenneth"},"score":0,"creation_date":1652500336,"post_id":72082069,"comment_id":127627016,"body_markdown":"My java version is jdk1.8.0_331,it&#39;s work with Kettle. Now i find the ansewer,because the ktr filename contain the space","body":"My java version is jdk1.8.0_331,it&#39;s work with Kettle. Now i find the ansewer,because the ktr filename contain the space"}],"owner":{"account_id":25169073,"reputation":1,"user_id":19012138,"display_name":"kenneth"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651462008,"creation_date":1651462008,"question_id":72082069,"body_markdown":"I run a kettle.bat,but having not output\r\n\r\nkettle.bat \r\n\r\n    cd /d E:\\pdi-ce-9.2.0.0-290\\data-integration\r\n    pan /file=E:\\ETL\\Hello World.ktr /level=Detailed /logfile=E:\\1.log0\r\n\r\nHow can I slove the log error\r\n\r\n    2022/05/02 11:17:33 - Pan - ERROR (version 9.2.0.0-290, build 9.2.0.0-290 from 2021-06-02 06.36.08 by buildguy) : Error setting output step for Build Model\r\n    2022/05/02 11:17:33 - Pan - ERROR (version 9.2.0.0-290, build 9.2.0.0-290 from 2021-06-02 06.36.08 by buildguy) : java.lang.NullPointerException\r\n    2022/05/02 11:17:33 - Pan - \tat org.pentaho.di.core.refinery.extension.DataRefineryTransFinishListener.callExtensionPoint(DataRefineryTransFinishListener.java:57)\r\n    2022/05/02 11:17:33 - Pan - \tat org.pentaho.di.core.extension.ExtensionPointMap.callExtensionPoint(ExtensionPointMap.java:151)\r\n    2022/05/02 11:17:33 - Pan - \tat org.pentaho.di.core.extension.ExtensionPointHandler.callExtensionPoint(ExtensionPointHandler.java:45)\r\n    2022/05/02 11:17:33 - Pan - \tat org.pentaho.di.pan.PanCommandExecutor.exitWithStatus(PanCommandExecutor.java:284)\r\n    2022/05/02 11:17:33 - Pan - \tat org.pentaho.di.pan.PanCommandExecutor.execute(PanCommandExecutor.java:160)\r\n    2022/05/02 11:17:33 - Pan - \tat org.pentaho.di.pan.Pan.main(Pan.java:274)\r\n    2022/05/02 11:17:33 - Pan - \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    2022/05/02 11:17:33 - Pan - \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    2022/05/02 11:17:33 - Pan - \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    2022/05/02 11:17:33 - Pan - \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    2022/05/02 11:17:33 - Pan - \tat org.pentaho.commons.launcher.Launcher.main(Launcher.java:92)\r\n    2022/05/02 11:17:33 - Pan - ERROR (version 9.2.0.0-290, build 9.2.0.0-290 from 2021-06-02 06.36.08 by buildguy) : Error processing data providers for annotations.\r\n    2022/05/02 11:17:33 - Pan - ERROR (version 9.2.0.0-290, build 9.2.0.0-290 from 2021-06-02 06.36.08 by buildguy) : java.lang.NullPointerException\r\n\r\n","title":"KETTLE having not output","body":"<p>I run a kettle.bat,but having not output</p>\n<p>kettle.bat</p>\n<pre><code>cd /d E:\\pdi-ce-9.2.0.0-290\\data-integration\npan /file=E:\\ETL\\Hello World.ktr /level=Detailed /logfile=E:\\1.log0\n</code></pre>\n<p>How can I slove the log error</p>\n<pre><code>2022/05/02 11:17:33 - Pan - ERROR (version 9.2.0.0-290, build 9.2.0.0-290 from 2021-06-02 06.36.08 by buildguy) : Error setting output step for Build Model\n2022/05/02 11:17:33 - Pan - ERROR (version 9.2.0.0-290, build 9.2.0.0-290 from 2021-06-02 06.36.08 by buildguy) : java.lang.NullPointerException\n2022/05/02 11:17:33 - Pan -     at org.pentaho.di.core.refinery.extension.DataRefineryTransFinishListener.callExtensionPoint(DataRefineryTransFinishListener.java:57)\n2022/05/02 11:17:33 - Pan -     at org.pentaho.di.core.extension.ExtensionPointMap.callExtensionPoint(ExtensionPointMap.java:151)\n2022/05/02 11:17:33 - Pan -     at org.pentaho.di.core.extension.ExtensionPointHandler.callExtensionPoint(ExtensionPointHandler.java:45)\n2022/05/02 11:17:33 - Pan -     at org.pentaho.di.pan.PanCommandExecutor.exitWithStatus(PanCommandExecutor.java:284)\n2022/05/02 11:17:33 - Pan -     at org.pentaho.di.pan.PanCommandExecutor.execute(PanCommandExecutor.java:160)\n2022/05/02 11:17:33 - Pan -     at org.pentaho.di.pan.Pan.main(Pan.java:274)\n2022/05/02 11:17:33 - Pan -     at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n2022/05/02 11:17:33 - Pan -     at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n2022/05/02 11:17:33 - Pan -     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n2022/05/02 11:17:33 - Pan -     at java.lang.reflect.Method.invoke(Method.java:498)\n2022/05/02 11:17:33 - Pan -     at org.pentaho.commons.launcher.Launcher.main(Launcher.java:92)\n2022/05/02 11:17:33 - Pan - ERROR (version 9.2.0.0-290, build 9.2.0.0-290 from 2021-06-02 06.36.08 by buildguy) : Error processing data providers for annotations.\n2022/05/02 11:17:33 - Pan - ERROR (version 9.2.0.0-290, build 9.2.0.0-290 from 2021-06-02 06.36.08 by buildguy) : java.lang.NullPointerException\n</code></pre>\n"},{"tags":["java","google-drive-api","google-api-java-client"],"answers":[{"tags":[],"owner":{"account_id":16071429,"reputation":26112,"user_id":11599789,"display_name":"ziganotschka"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1651461850,"creation_date":1634201894,"answer_id":69567854,"question_id":69555366,"body_markdown":"To connect to Google Drive use the [HttpCredentialsAdapter](https://github.com/googleapis/google-auth-library-java/blob/main/oauth2_http/java/com/google/auth/http/HttpCredentialsAdapter.java) to make the connection from `GoogleCredentials` to `GoogleCredential`.\r\n\r\nSample:\r\n\r\n```lang-java\r\nreturn new Drive.Builder(GoogleNetHttpTransport.newTrustedTransport(), JSON_FACTORY, new HttpCredentialsAdapter(credential))\r\n                .setApplicationName(&quot;my-drive-app&quot;)\r\n                .build();\r\n```","title":"How to initialise Google drive using GoogleCedentials instead of the deprecated GoogleCedential","body":"<p>To connect to Google Drive use the <a href=\"https://github.com/googleapis/google-auth-library-java/blob/main/oauth2_http/java/com/google/auth/http/HttpCredentialsAdapter.java\" rel=\"nofollow noreferrer\">HttpCredentialsAdapter</a> to make the connection from <code>GoogleCredentials</code> to <code>GoogleCredential</code>.</p>\n<p>Sample:</p>\n<pre class=\"lang-java prettyprint-override\"><code>return new Drive.Builder(GoogleNetHttpTransport.newTrustedTransport(), JSON_FACTORY, new HttpCredentialsAdapter(credential))\n                .setApplicationName(&quot;my-drive-app&quot;)\n                .build();\n</code></pre>\n"}],"owner":{"account_id":23021353,"reputation":53,"user_id":17142358,"display_name":"Constantijn Visinescu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1413,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":69567854,"answer_count":1,"score":5,"last_activity_date":1651461850,"creation_date":1634127207,"question_id":69555366,"body_markdown":"I have java code to connect to google drive using a service account, this works:\r\n\r\n```java\r\nJsonFactory JSON_FACTORY = new GsonFactory();\r\n\r\nGoogleCredential credential = GoogleCredential.fromStream(new FileInputStream(&quot;sa.json&quot;))\r\n                .createScoped(List.of(DriveScopes.DRIVE))\r\n                .createDelegated(&quot;foo@bar.com&quot;);\r\n\r\nreturn new Drive.Builder(GoogleNetHttpTransport.newTrustedTransport(), JSON_FACTORY, credential)\r\n                .setApplicationName(&quot;my-drive-app&quot;)\r\n                .build();\r\n```\r\n\r\nHowever i&#39;m getting a deprecation warning that `GoogleCredential` is deprecated and that i should use `GoogleCredentials` (note the extra s at the end) from the `google-auth-library` instead.\r\n\r\nI can initialise `GoogleCredentials` like this:\r\n```java\r\nGoogleCredentials credential = GoogleCredentials.fromStream(new FileInputStream(&quot;sa.json&quot;))\r\n                .createScoped(List.of(DriveScopes.DRIVE))\r\n                .createDelegated(&quot;foo@bar.com&quot;);\r\n```\r\n\r\nHowever I can&#39;t seem to figure out how to initialise the drive service using this new `GoogleCredentials` object. Passing it in in place of the credential object gives a compiler error and all of the official google drive java documentation refers the now deprecated method.\r\n\r\nCan someone tell me how to initialise google drive using the new credentials object?\r\n\r\nVersions I&#39;m using:\r\n```xml\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\r\n      &lt;artifactId&gt;google-api-client&lt;/artifactId&gt;\r\n      &lt;version&gt;1.32.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.google.oauth-client&lt;/groupId&gt;\r\n      &lt;artifactId&gt;google-oauth-client-jetty&lt;/artifactId&gt;\r\n      &lt;version&gt;1.32.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\r\n      &lt;artifactId&gt;google-api-services-drive&lt;/artifactId&gt;\r\n      &lt;version&gt;v3-rev20210919-1.32.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.google.auth&lt;/groupId&gt;\r\n      &lt;artifactId&gt;google-auth-library-oauth2-http&lt;/artifactId&gt;\r\n      &lt;version&gt;1.2.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n```","title":"How to initialise Google drive using GoogleCedentials instead of the deprecated GoogleCedential","body":"<p>I have java code to connect to google drive using a service account, this works:</p>\n<pre class=\"lang-java prettyprint-override\"><code>JsonFactory JSON_FACTORY = new GsonFactory();\n\nGoogleCredential credential = GoogleCredential.fromStream(new FileInputStream(&quot;sa.json&quot;))\n                .createScoped(List.of(DriveScopes.DRIVE))\n                .createDelegated(&quot;foo@bar.com&quot;);\n\nreturn new Drive.Builder(GoogleNetHttpTransport.newTrustedTransport(), JSON_FACTORY, credential)\n                .setApplicationName(&quot;my-drive-app&quot;)\n                .build();\n</code></pre>\n<p>However i'm getting a deprecation warning that <code>GoogleCredential</code> is deprecated and that i should use <code>GoogleCredentials</code> (note the extra s at the end) from the <code>google-auth-library</code> instead.</p>\n<p>I can initialise <code>GoogleCredentials</code> like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>GoogleCredentials credential = GoogleCredentials.fromStream(new FileInputStream(&quot;sa.json&quot;))\n                .createScoped(List.of(DriveScopes.DRIVE))\n                .createDelegated(&quot;foo@bar.com&quot;);\n</code></pre>\n<p>However I can't seem to figure out how to initialise the drive service using this new <code>GoogleCredentials</code> object. Passing it in in place of the credential object gives a compiler error and all of the official google drive java documentation refers the now deprecated method.</p>\n<p>Can someone tell me how to initialise google drive using the new credentials object?</p>\n<p>Versions I'm using:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;dependency&gt;\n      &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\n      &lt;artifactId&gt;google-api-client&lt;/artifactId&gt;\n      &lt;version&gt;1.32.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.google.oauth-client&lt;/groupId&gt;\n      &lt;artifactId&gt;google-oauth-client-jetty&lt;/artifactId&gt;\n      &lt;version&gt;1.32.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\n      &lt;artifactId&gt;google-api-services-drive&lt;/artifactId&gt;\n      &lt;version&gt;v3-rev20210919-1.32.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.google.auth&lt;/groupId&gt;\n      &lt;artifactId&gt;google-auth-library-oauth2-http&lt;/artifactId&gt;\n      &lt;version&gt;1.2.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","javafx","netbeans","keyevent"],"comments":[{"owner":{"account_id":12469552,"reputation":313,"user_id":9078219,"display_name":"Jawad El Fou"},"score":0,"creation_date":1651457945,"post_id":72081689,"comment_id":127362556,"body_markdown":"what&#39;s the message you get?","body":"what&#39;s the message you get?"},{"owner":{"account_id":25167657,"reputation":1,"user_id":19010937,"display_name":"Khadidja"},"score":0,"creation_date":1651458439,"post_id":72081689,"comment_id":127362616,"body_markdown":"I get like : flip operands with &#39;==&#39;","body":"I get like : flip operands with &#39;==&#39;"},{"owner":{"account_id":25167657,"reputation":1,"user_id":19010937,"display_name":"Khadidja"},"score":0,"creation_date":1651458464,"post_id":72081689,"comment_id":127362622,"body_markdown":"and : Invert If","body":"and : Invert If"},{"owner":{"account_id":25167657,"reputation":1,"user_id":19010937,"display_name":"Khadidja"},"score":0,"creation_date":1651458520,"post_id":72081689,"comment_id":127362629,"body_markdown":"also i got :    cannot find symbol    symbol: method getCode()     location: variable event of type KeyEvent      Flip operands of the binary operator","body":"also i got :    cannot find symbol    symbol: method getCode()     location: variable event of type KeyEvent      Flip operands of the binary operator"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1651467053,"post_id":72081689,"comment_id":127363696,"body_markdown":"[mcve] please..","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please.."}],"answers":[{"tags":[],"owner":{"account_id":21136172,"reputation":636,"user_id":15539586,"display_name":"Abdallah Abdel Aziz"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1651459304,"creation_date":1651459304,"answer_id":72081880,"question_id":72081689,"body_markdown":"Most probably you have imported the `KeyEvent` from the `java.awt.event.KeyEvent` package, you should import it from `javafx.scene.input.KeyEvent`","title":"on key pressed javafx scene builder","body":"<p>Most probably you have imported the <code>KeyEvent</code> from the <code>java.awt.event.KeyEvent</code> package, you should import it from <code>javafx.scene.input.KeyEvent</code></p>\n"}],"owner":{"account_id":25167657,"reputation":1,"user_id":19010937,"display_name":"Khadidja"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":147,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1651461786,"creation_date":1651456646,"question_id":72081689,"body_markdown":"    @FXML\r\n    void afficher(KeyEvent event) {\r\n       \r\n        if (event.getCode() == KeyCode.ENTER) {\r\n        }\r\n\r\n\r\nI want to make a simple key pessed method, but Netbeans underlines the `getCode()` in red whatever I do.\r\n\r\nI got:\r\n\r\n    cannot find symbol symbol: method getCode() location: variable event of type KeyEvent\r\n    Flip operands of the binary operator","title":"on key pressed javafx scene builder","body":"<pre><code>@FXML\nvoid afficher(KeyEvent event) {\n   \n    if (event.getCode() == KeyCode.ENTER) {\n    }\n</code></pre>\n<p>I want to make a simple key pessed method, but Netbeans underlines the <code>getCode()</code> in red whatever I do.</p>\n<p>I got:</p>\n<pre><code>cannot find symbol symbol: method getCode() location: variable event of type KeyEvent\nFlip operands of the binary operator\n</code></pre>\n"},{"tags":["java","maven","heroku"],"answers":[{"tags":[],"owner":{"account_id":14081455,"reputation":7933,"user_id":10172408,"display_name":"Nathan"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1641921664,"creation_date":1548293574,"answer_id":54338162,"question_id":54337999,"body_markdown":"**TLDR:** \r\n\r\n 1. Ensure you&#39;re **using the appropriate JAVA JDK** \r\n 2. Check that your **target environment from the Maven compiler is the same as your targeted Heroku JAVA runtime**.\r\n 3. If you&#39;re **not using the default JAVA 8 JDK** runtime environment **create a system.properties file in your project specifying a different supported JAVA runtime enviroment** as listed within Heroku&#39;s JAVA buildpack documentation.\r\n---\r\nI think this has to do with a **mismatch** between your **targeted Java runtime environment on Heroku** and your **locally compiled code, generated from the Maven compiler,** which you&#39;re trying to push to Heroku. \r\n\r\n*According to Heroku&#39;s [documentation][1]:* \r\n\r\nHeroku currently uses **OpenJDK 8 to run your application by default**. OpenJDK versions 9 and 7 are also available. \r\n\r\nOther supported default versions are:\r\n\r\n - Java 7 - 1.7.0_181 \r\n - Java 8 - 1.8.0_191 \r\n - Java 9 - 9.0.4 \r\n - Java 10 - 10.0.2\r\n - Java 11 - 11\r\n\r\nSo you should make sure that within your **pom.xml** file that your *maven compiler is compiling your JAVA code to the appropriate JAVA buildpack you&#39;re targeting on Heroku*. For example, below we are targeting a Java 7 runtime environment:\r\n\r\n**pom.xml:**\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n            &lt;source&gt;1.7&lt;/source&gt;\r\n            &lt;target&gt;1.7&lt;/target&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nThen you should **create a `system.properties` file in your project if you&#39;re targeting a runtime environment other than Heroku&#39;s default JDK 1.8** runtime environment. You can do this by specifying your desired java runtime environment like such:\r\n\r\n**system.properties**:\r\n\r\n    java.runtime.version=11\r\n\r\n\r\n  [1]: https://devcenter.heroku.com/articles/java-support#supported-java-versions","title":"Failed to build app with Maven, I can run code locally, but fail to deploy on heroku","body":"<p><strong>TLDR:</strong></p>\n<ol>\n<li>Ensure you're <strong>using the appropriate JAVA JDK</strong></li>\n<li>Check that your <strong>target environment from the Maven compiler is the same as your targeted Heroku JAVA runtime</strong>.</li>\n<li>If you're <strong>not using the default JAVA 8 JDK</strong> runtime environment <strong>create a system.properties file in your project specifying a different supported JAVA runtime enviroment</strong> as listed within Heroku's JAVA buildpack documentation.</li>\n</ol>\n<hr />\n<p>I think this has to do with a <strong>mismatch</strong> between your <strong>targeted Java runtime environment on Heroku</strong> and your <strong>locally compiled code, generated from the Maven compiler,</strong> which you're trying to push to Heroku.</p>\n<p><em>According to Heroku's <a href=\"https://devcenter.heroku.com/articles/java-support#supported-java-versions\" rel=\"nofollow noreferrer\">documentation</a>:</em></p>\n<p>Heroku currently uses <strong>OpenJDK 8 to run your application by default</strong>. OpenJDK versions 9 and 7 are also available.</p>\n<p>Other supported default versions are:</p>\n<ul>\n<li>Java 7 - 1.7.0_181</li>\n<li>Java 8 - 1.8.0_191</li>\n<li>Java 9 - 9.0.4</li>\n<li>Java 10 - 10.0.2</li>\n<li>Java 11 - 11</li>\n</ul>\n<p>So you should make sure that within your <strong>pom.xml</strong> file that your <em>maven compiler is compiling your JAVA code to the appropriate JAVA buildpack you're targeting on Heroku</em>. For example, below we are targeting a Java 7 runtime environment:</p>\n<p><strong>pom.xml:</strong></p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.1&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;source&gt;1.7&lt;/source&gt;\n        &lt;target&gt;1.7&lt;/target&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>Then you should <strong>create a <code>system.properties</code> file in your project if you're targeting a runtime environment other than Heroku's default JDK 1.8</strong> runtime environment. You can do this by specifying your desired java runtime environment like such:</p>\n<p><strong>system.properties</strong>:</p>\n<pre><code>java.runtime.version=11\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19795579,"reputation":31,"user_id":14497600,"display_name":"Abdul Waquar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1641921778,"creation_date":1605610399,"answer_id":64873828,"question_id":54337999,"body_markdown":"I got the same error while deploying the git project in Heroku. I just changed `java.version` to **8** from 11 in `pom.xml` and it worked for me:\r\n\r\n```xml\r\n&lt;properties&gt;\r\n    &lt;java.version&gt;8&lt;/java.version&gt;\r\n&lt;/properties&gt;\r\n```","title":"Failed to build app with Maven, I can run code locally, but fail to deploy on heroku","body":"<p>I got the same error while deploying the git project in Heroku. I just changed <code>java.version</code> to <strong>8</strong> from 11 in <code>pom.xml</code> and it worked for me:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;properties&gt;\n    &lt;java.version&gt;8&lt;/java.version&gt;\n&lt;/properties&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16198346,"reputation":212,"user_id":11695367,"display_name":"Feezan Khattak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641921589,"creation_date":1629181147,"answer_id":68812490,"question_id":54337999,"body_markdown":"To remove this error, simply add one extra file into your repository with the name `system.application` and \r\n\r\n    java.runtime.version=11","title":"Failed to build app with Maven, I can run code locally, but fail to deploy on heroku","body":"<p>To remove this error, simply add one extra file into your repository with the name <code>system.application</code> and</p>\n<pre><code>java.runtime.version=11\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8915876,"reputation":3560,"user_id":6654475,"accept_rate":100,"display_name":"Francislainy Campos"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1639934575,"creation_date":1635771550,"answer_id":69797288,"question_id":54337999,"body_markdown":"As per the previous answers, creating a system.properties file, making a new commit with that change and rerunning the heroku command fixed the issue for me. \r\n\r\n[![enter image description here][1]][1] \r\n\r\nAlso, please be mindful about the name of your branch if you&#39;re **not using main as your main branch** as that would require a match such as.\r\n\r\n    git push heroku master:main\r\n\r\nor\r\n\r\n    git push heroku develop:main\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NqcSx.png","title":"Failed to build app with Maven, I can run code locally, but fail to deploy on heroku","body":"<p>As per the previous answers, creating a system.properties file, making a new commit with that change and rerunning the heroku command fixed the issue for me.</p>\n<p><a href=\"https://i.stack.imgur.com/NqcSx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NqcSx.png\" alt=\"enter image description here\" /></a></p>\n<p>Also, please be mindful about the name of your branch if you're <strong>not using main as your main branch</strong> as that would require a match such as.</p>\n<pre><code>git push heroku master:main\n</code></pre>\n<p>or</p>\n<pre><code>git push heroku develop:main\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16735694,"reputation":2370,"user_id":12096922,"display_name":"testing_22"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651461263,"creation_date":1651461263,"answer_id":72082019,"question_id":54337999,"body_markdown":"Tried all the approaches, but none worked.\r\n___\r\n**SOLUTION**: *Remove* all the references to your Java version in your `pom.xml`, i.e. \r\n\r\n```\t\r\n&lt;properties&gt;\t\r\n\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n&lt;/properties&gt;\r\n```\r\n","title":"Failed to build app with Maven, I can run code locally, but fail to deploy on heroku","body":"<p>Tried all the approaches, but none worked.</p>\n<hr />\n<p><strong>SOLUTION</strong>: <em>Remove</em> all the references to your Java version in your <code>pom.xml</code>, i.e.</p>\n<pre><code>&lt;properties&gt;    \n    &lt;java.version&gt;11&lt;/java.version&gt;\n&lt;/properties&gt;\n</code></pre>\n"}],"owner":{"account_id":12948568,"reputation":382,"user_id":9362146,"display_name":"Cvanzy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8891,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":54338162,"answer_count":5,"score":13,"last_activity_date":1651461263,"creation_date":1548292210,"question_id":54337999,"body_markdown":"This is my code in github:\r\nhttps://github.com/q463746583/CS4500-Assignment2\r\nI can run it successfully in the local,\r\nbut while I try to deploy the code on heroku,\r\nThere is the error description:\r\n```\r\n       [INFO] Downloaded from central: https://repo.maven.apache.org/maven2/com/thoughtworks/qdox/qdox/2.0-M9/qdox-2.0-M9.jar (317 kB at 6.0 MB/s)\r\n       [INFO] Changes detected - recompiling the module!\r\n       [INFO] Compiling 4 source files to /tmp/build_3c4f3b86a26f6e3ae1cbe89639f79f26/target/classes\r\n       [INFO] ------------------------------------------------------------------------\r\n       [INFO] BUILD FAILURE\r\n       [INFO] ------------------------------------------------------------------------\r\n       [INFO] Total time: 13.261 s\r\n       [INFO] Finished at: 2019-01-24T00:47:07Z\r\n       [INFO] ------------------------------------------------------------------------\r\n       [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.0:compile (default-compile) on project myapp: Fatal error compiling: invalid target release: 11 -&gt; [Help 1]\r\n       [ERROR] \r\n       [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n       [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n       [ERROR] \r\n       [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n       [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n !     ERROR: Failed to build app with Maven\r\n       We&#39;re sorry this build is failing! If you can&#39;t find the issue in application code,\r\n       please submit a ticket so we can help: https://help.heroku.com/\r\n !     Push rejected, failed to compile Java app.\r\n !     Push failed\r\n```\r\n\r\n","title":"Failed to build app with Maven, I can run code locally, but fail to deploy on heroku","body":"<p>This is my code in github:\n<a href=\"https://github.com/q463746583/CS4500-Assignment2\" rel=\"noreferrer\">https://github.com/q463746583/CS4500-Assignment2</a>\nI can run it successfully in the local,\nbut while I try to deploy the code on heroku,\nThere is the error description:</p>\n\n<pre><code>       [INFO] Downloaded from central: https://repo.maven.apache.org/maven2/com/thoughtworks/qdox/qdox/2.0-M9/qdox-2.0-M9.jar (317 kB at 6.0 MB/s)\n       [INFO] Changes detected - recompiling the module!\n       [INFO] Compiling 4 source files to /tmp/build_3c4f3b86a26f6e3ae1cbe89639f79f26/target/classes\n       [INFO] ------------------------------------------------------------------------\n       [INFO] BUILD FAILURE\n       [INFO] ------------------------------------------------------------------------\n       [INFO] Total time: 13.261 s\n       [INFO] Finished at: 2019-01-24T00:47:07Z\n       [INFO] ------------------------------------------------------------------------\n       [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.0:compile (default-compile) on project myapp: Fatal error compiling: invalid target release: 11 -&gt; [Help 1]\n       [ERROR] \n       [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n       [ERROR] Re-run Maven using the -X switch to enable full debug logging.\n       [ERROR] \n       [ERROR] For more information about the errors and possible solutions, please read the following articles:\n       [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n !     ERROR: Failed to build app with Maven\n       We're sorry this build is failing! If you can't find the issue in application code,\n       please submit a ticket so we can help: https://help.heroku.com/\n !     Push rejected, failed to compile Java app.\n !     Push failed\n</code></pre>\n"},{"tags":["java","scala","performance","load-testing","gatling"],"answers":[{"tags":[],"owner":{"account_id":6852429,"reputation":6319,"user_id":5269205,"display_name":"St&#233;phane LANDELLE"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651461143,"creation_date":1651461143,"answer_id":72082010,"question_id":72079436,"body_markdown":"Add a `status().saveAs(&quot;status&quot;)` check so you can build your `doIf` condition:\r\n\r\n```java\r\n.doIf(session -&gt; {\r\n  int status = session.getInt(&quot;status&quot;);\r\n  return status &lt; 200 || status &gt; 304;\r\n}).then(\r\n  exec(\r\n    session -&gt; {\r\n      String accountId = session.getString(&quot;accountId&quot;);\r\n      // perform accountId storage\r\n      return session;\r\n    }\r\n  )\r\n)\r\n```","title":"How do I perform a conditional action based on a response in Gatling?","body":"<p>Add a <code>status().saveAs(&quot;status&quot;)</code> check so you can build your <code>doIf</code> condition:</p>\n<pre class=\"lang-java prettyprint-override\"><code>.doIf(session -&gt; {\n  int status = session.getInt(&quot;status&quot;);\n  return status &lt; 200 || status &gt; 304;\n}).then(\n  exec(\n    session -&gt; {\n      String accountId = session.getString(&quot;accountId&quot;);\n      // perform accountId storage\n      return session;\n    }\n  )\n)\n</code></pre>\n"}],"owner":{"account_id":6089074,"reputation":63,"user_id":8324957,"display_name":"slick"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":716,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72082010,"answer_count":1,"score":0,"last_activity_date":1651461143,"creation_date":1651430042,"question_id":72079436,"body_markdown":"I have a scenario which load tests a sample API . Now I want to store those failed accounts of the scenario and and put them back in the feeder. I have a global hash table where I want to store the failed accounts.\r\n\r\nI am not able to figure out how to do this action using doif , check or any other Gatling DSL.\r\n\r\n    ScenarioBuilder scenarioBuilder = scenario(&quot;getImage Request&quot;)\r\n            .repeat(8)\r\n            .on(\r\n            feed(feeder)\r\n            .exec(session -&gt; {\r\n                \r\n                \r\n                String token = dataapi.createStrongToken(&quot;abc&quot;, &quot;doj&quot;);\r\n                Session session1 = session.set(&quot;token&quot;, token);\r\n                return session1;\r\n            })\r\n            .feed(csv(&quot;clientType.csv&quot;).random())\r\n            .exec(http(&quot;uploadImage&quot;).get(&quot;/image&quot;)\r\n                    .check(status().gte(200), status().lte(304))\r\n                    .header(&quot;token&quot;,session -&gt; session.getString(&quot;token&quot;))\r\n                    .queryParam(&quot;accountId&quot;, &quot;#{accountId}&quot;)\r\n                    \r\n            );\r\n\r\nYou can imagine a custom feeder or a csv as plausable.  If I get a response in range of 4xx or 5xx I want to store a the failed account in a global hash table/linked list. Can someone please guide me how to implement this case ? Let me know if more information is needed.","title":"How do I perform a conditional action based on a response in Gatling?","body":"<p>I have a scenario which load tests a sample API . Now I want to store those failed accounts of the scenario and and put them back in the feeder. I have a global hash table where I want to store the failed accounts.</p>\n<p>I am not able to figure out how to do this action using doif , check or any other Gatling DSL.</p>\n<pre><code>ScenarioBuilder scenarioBuilder = scenario(&quot;getImage Request&quot;)\n        .repeat(8)\n        .on(\n        feed(feeder)\n        .exec(session -&gt; {\n            \n            \n            String token = dataapi.createStrongToken(&quot;abc&quot;, &quot;doj&quot;);\n            Session session1 = session.set(&quot;token&quot;, token);\n            return session1;\n        })\n        .feed(csv(&quot;clientType.csv&quot;).random())\n        .exec(http(&quot;uploadImage&quot;).get(&quot;/image&quot;)\n                .check(status().gte(200), status().lte(304))\n                .header(&quot;token&quot;,session -&gt; session.getString(&quot;token&quot;))\n                .queryParam(&quot;accountId&quot;, &quot;#{accountId}&quot;)\n                \n        );\n</code></pre>\n<p>You can imagine a custom feeder or a csv as plausable.  If I get a response in range of 4xx or 5xx I want to store a the failed account in a global hash table/linked list. Can someone please guide me how to implement this case ? Let me know if more information is needed.</p>\n"},{"tags":["java","json","serialization","jackson","yaml"],"answers":[{"tags":[],"owner":{"account_id":5729413,"reputation":171,"user_id":4525421,"display_name":"wdf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1423157827,"creation_date":1423156370,"answer_id":28350036,"question_id":28347713,"body_markdown":"If I&#39;m reading your question correctly, your serialized PetOwner records don&#39;t need to contain full Animal records -- they just need to contain a String for each Animal record. And your complications come from the fact that you are storing Animal records nonetheless.\r\n\r\nAssuming that&#39;s an accurate statement, one approach would be to annotate your the &#39;pets&#39; field (or the getter, not sure what your full PetOwner class looks like) with @JsonIgnore, then add a getter such as:\r\n\r\n    public List&lt;String&gt; getAnimalNames() {\r\n      // return a list containing the name of each Animal in this.pets \r\n    }\r\n\r\nThen, you can either:\r\n\r\n 1. Add an alternate constructor for PetOwner that takes a `List&lt;String&gt;` rather than a `List&lt;Animal&gt;`, and annotate that constructor with @JsonCreator so that Jackson knows to use it (and construct your Animal instances from the provided names inside the constructor)\r\n 2. If you&#39;re using a default (0-arg) constructor, add a setter such as (and remove any existing setters for pets):\r\n\r\n`public void setAnimalNames(List&lt;String&gt; names) {\r\n    // populate this.pets by looking up each pet by name in your registry\r\n}`\r\n\r\nI would have to see more of your PetOwner class and/or know more about how you plan to use it to give a more detailed response, but I think this general approach (annotate PetOwner class so that Jackson will just ignore &#39;pets&#39; and deal only in &#39;animalNames&#39; instead) should give you what you&#39;re looking for.","title":"Jackson deserializing adapter/converter with context","body":"<p>If I'm reading your question correctly, your serialized PetOwner records don't need to contain full Animal records -- they just need to contain a String for each Animal record. And your complications come from the fact that you are storing Animal records nonetheless.</p>\n\n<p>Assuming that's an accurate statement, one approach would be to annotate your the 'pets' field (or the getter, not sure what your full PetOwner class looks like) with @JsonIgnore, then add a getter such as:</p>\n\n<pre><code>public List&lt;String&gt; getAnimalNames() {\n  // return a list containing the name of each Animal in this.pets \n}\n</code></pre>\n\n<p>Then, you can either:</p>\n\n<ol>\n<li>Add an alternate constructor for PetOwner that takes a <code>List&lt;String&gt;</code> rather than a <code>List&lt;Animal&gt;</code>, and annotate that constructor with @JsonCreator so that Jackson knows to use it (and construct your Animal instances from the provided names inside the constructor)</li>\n<li>If you're using a default (0-arg) constructor, add a setter such as (and remove any existing setters for pets):</li>\n</ol>\n\n<p><code>public void setAnimalNames(List&lt;String&gt; names) {\n    // populate this.pets by looking up each pet by name in your registry\n}</code></p>\n\n<p>I would have to see more of your PetOwner class and/or know more about how you plan to use it to give a more detailed response, but I think this general approach (annotate PetOwner class so that Jackson will just ignore 'pets' and deal only in 'animalNames' instead) should give you what you're looking for.</p>\n"},{"tags":[],"owner":{"account_id":2143322,"reputation":5430,"user_id":3351474,"display_name":"k_o_"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651456428,"creation_date":1651456428,"answer_id":72081668,"question_id":28347713,"body_markdown":"Here is a different approach for this problem without usign a converter, but handling the conversion directly in the deserializer:\r\n\r\n\r\n~~~java\r\n        AnimalRegistry fRegistry = ...\r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n        SimpleModule module = new SimpleModule();\r\n        module.setDeserializerModifier(new BeanDeserializerModifier() {\r\n            @Override\r\n            public JsonDeserializer&lt;?&gt; modifyDeserializer(DeserializationConfig config, BeanDescription beanDesc,\r\n                                                          JsonDeserializer&lt;?&gt; deserializer) {\r\n                if (Animal.class.isAssignableFrom(beanDesc.getBeanClass())) {\r\n                    return new AnimalDeserializer(fRegistry, deserializer, beanDesc.getBeanClass());\r\n                }\r\n                return deserializer;\r\n            }\r\n        });\r\n        objectMapper.registerModule(module);\r\n~~~\r\n\r\n~~~java\r\npublic class AnimalDeserializer extends StdDeserializer&lt;Animal&gt; implements ResolvableDeserializer {\r\n\r\n    private static final long serialVersionUID = 1L;\r\n\r\n    private final JsonDeserializer&lt;?&gt; defaultDeserializer;\r\n\r\nprivate final AnimalRegistry registry;\r\n\r\n    public AnimalDeserializer(AnimalRegistry, JsonDeserializer&lt;?&gt; defaultDeserializer, Class&lt;?&gt; clazz) {\r\n        super(clazz);\r\n        this.registry = registry;\r\n        this.defaultDeserializer = defaultDeserializer;\r\n    }\r\n\r\n    @Override\r\n    public Animal deserialize(JsonParser parser, DeserializationContext context) throws IOException {\r\n        Animal animal = (Animal) defaultDeserializer.deserialize(parser, context);\r\n        // no add here your converter logic and filter the animals\r\n        return Animal;\r\n    }\r\n\r\n    @Override\r\n    public void resolve(DeserializationContext ctxt) throws JsonMappingException {\r\n        ((ResolvableDeserializer) defaultDeserializer).resolve(ctxt);\r\n    }\r\n\r\n}\r\n~~~","title":"Jackson deserializing adapter/converter with context","body":"<p>Here is a different approach for this problem without usign a converter, but handling the conversion directly in the deserializer:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        AnimalRegistry fRegistry = ...\n        ObjectMapper objectMapper = new ObjectMapper();\n        SimpleModule module = new SimpleModule();\n        module.setDeserializerModifier(new BeanDeserializerModifier() {\n            @Override\n            public JsonDeserializer&lt;?&gt; modifyDeserializer(DeserializationConfig config, BeanDescription beanDesc,\n                                                          JsonDeserializer&lt;?&gt; deserializer) {\n                if (Animal.class.isAssignableFrom(beanDesc.getBeanClass())) {\n                    return new AnimalDeserializer(fRegistry, deserializer, beanDesc.getBeanClass());\n                }\n                return deserializer;\n            }\n        });\n        objectMapper.registerModule(module);\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class AnimalDeserializer extends StdDeserializer&lt;Animal&gt; implements ResolvableDeserializer {\n\n    private static final long serialVersionUID = 1L;\n\n    private final JsonDeserializer&lt;?&gt; defaultDeserializer;\n\nprivate final AnimalRegistry registry;\n\n    public AnimalDeserializer(AnimalRegistry, JsonDeserializer&lt;?&gt; defaultDeserializer, Class&lt;?&gt; clazz) {\n        super(clazz);\n        this.registry = registry;\n        this.defaultDeserializer = defaultDeserializer;\n    }\n\n    @Override\n    public Animal deserialize(JsonParser parser, DeserializationContext context) throws IOException {\n        Animal animal = (Animal) defaultDeserializer.deserialize(parser, context);\n        // no add here your converter logic and filter the animals\n        return Animal;\n    }\n\n    @Override\n    public void resolve(DeserializationContext ctxt) throws JsonMappingException {\n        ((ResolvableDeserializer) defaultDeserializer).resolve(ctxt);\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":350405,"reputation":669,"user_id":686249,"display_name":"user686249"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2907,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1651456428,"creation_date":1423149893,"question_id":28347713,"body_markdown":"I have a simple set of classes that I want to serialize to/deserialize from YAML using Jackson (2.4.5):\r\n\r\n\tpublic static class Animal {\r\n\t\tpublic String name;\r\n\t}\r\n\r\n\tpublic static class Dog extends Animal {\r\n\t\tpublic String breed;\r\n\t}\r\n\r\n\tpublic static class Cat extends Animal {\r\n\t\tpublic String favoriteToy;\r\n\t}\r\n\r\n\tpublic static class AnimalRegistry {\r\n\t\tprivate Map&lt;String, Animal&gt; fAnimals = new HashMap&lt;&gt;();\r\n\r\n\t\tpublic AnimalRegistry(Animal... animals) {\r\n\t\t\tfor (Animal animal : animals)\r\n\t\t\t\tfAnimals.put(animal.name, animal);\r\n\t\t}\r\n\r\n\t\tpublic Animal getAnimal(String name) {\r\n\t\t\treturn fAnimals.get(name);\r\n\t\t}\r\n\t}\r\n\r\nIt is fairly straight forward to do that so that the `AnimalRegistry` ends up as a list of nested objects of `Animal` (subtype) objects. I can write and read those just fine. The problem I&#39;m facing is to separately serialize/deserialize objects of another class:\r\n\r\n\tpublic static class PetOwner {\r\n\t\tpublic String name;\r\n\t\tpublic List&lt;Animal&gt; pets = new ArrayList&lt;&gt;();\r\n\t}\r\n\r\nI don&#39;t want to serialize the `Animal` objects as a list of nested objects, but rather only store a list of the `Animal`&#39;s names. When deserializing I want to map those names back to `Animal` objects using a pre-existing `AnimalRegistry`.\r\n\r\nWith JAXB I could simply do that using an `XmlAdapter`:\r\n\r\n\tpublic static class PetXmlAdapter extends XmlAdapter&lt;String, Animal&gt; {\r\n\t\tprivate AnimalRegistry fRegistry;\r\n\r\n\t\tpublic PetXmlAdapter(AnimalRegistry registry) {\r\n\t\t\tfRegistry = registry;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic Animal unmarshal(String value) throws Exception {\r\n\t\t\treturn fRegistry.getAnimal(value);\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic String marshal(Animal value) throws Exception {\r\n\t\t\treturn value.name;\r\n\t\t}\r\n\t}\r\n\r\nI&#39;d annotate the `pets` field with\r\n\r\n\t\t@XmlJavaTypeAdapter(value = PetXmlAdapter.class)\r\n\r\nand add an instance of `PetXmlAdapter` to the `Marshaller`/`Unmarshaller`:\r\n\r\n\t\tmarshaller.setAdapter(new PetXmlAdapter(animalRegistry));\r\n\t\t...\r\n\t\tunmarshaller.setAdapter(new PetXmlAdapter(animalRegistry));\r\n\r\nJackson supports the JAXB annotations and could use the same `PetXmlAdapter` class, but I don&#39;t see a way to set an instance of it on the `ObjectMapper` or any related class and thus cannot use my pre-existing `AnimalRegistry`.\r\n\r\nJackson seems to have a lot of points for customization and in the end I found a way to achieve my goal:\r\n\r\n\tpublic static class AnimalNameConverter\r\n\t\t\textends StdConverter&lt;Animal, String&gt; {\r\n\t\t@Override\r\n\t\tpublic String convert(Animal value) {\r\n\t\t\treturn value != null ? value.name : null;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static class NameAnimalConverter\r\n\t\t\textends StdConverter&lt;String, Animal&gt; {\r\n\t\tprivate AnimalRegistry fRegistry;\r\n\r\n\t\tpublic NameAnimalConverter(AnimalRegistry registry) {\r\n\t\t\tfRegistry = registry;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic Animal convert(String value) {\r\n\t\t\treturn value != null ? fRegistry.getAnimal(value) : null;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static class AnimalSerializer\r\n\t\t\textends StdDelegatingSerializer {\r\n\t\tpublic AnimalSerializer() {\r\n\t\t\tsuper(Animal.class, new AnimalNameConverter());\r\n\t\t}\r\n\r\n\t    private AnimalSerializer(Converter&lt;Object,?&gt; converter,\r\n\t            JavaType delegateType,\r\n\t\t\t\tJsonSerializer&lt;?&gt; delegateSerializer) {\r\n\t    \tsuper(converter, delegateType, delegateSerializer);\r\n\t    }\r\n\r\n\t\t@Override\r\n\t\tprotected StdDelegatingSerializer withDelegate(\r\n\t\t\t\tConverter&lt;Object, ?&gt; converter, JavaType delegateType,\r\n\t\t\t\tJsonSerializer&lt;?&gt; delegateSerializer) {\r\n\t\t\treturn new AnimalSerializer(converter, delegateType,\r\n\t\t\t\tdelegateSerializer);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static class AnimalDeserializer\r\n\t\t\textends StdDelegatingDeserializer&lt;Animal&gt; {\r\n\t\tprivate static final long serialVersionUID = 1L;\r\n\r\n\t\tpublic AnimalDeserializer(AnimalRegistry registry) {\r\n\t\t\tsuper(new NameAnimalConverter(registry));\r\n\t\t}\r\n\r\n\t\tprivate AnimalDeserializer(Converter&lt;Object, Animal&gt; converter,\r\n\t\t\t\tJavaType delegateType,\r\n\t\t\t\tJsonDeserializer&lt;?&gt; delegateDeserializer) {\r\n\t\t\tsuper(converter, delegateType, delegateDeserializer);\r\n\t\t}\r\n\t\t \r\n\t\t@Override\r\n\t\tprotected StdDelegatingDeserializer&lt;Animal&gt; withDelegate(\r\n\t\t\t\tConverter&lt;Object, Animal&gt; converter,\r\n\t\t\t\tJavaType delegateType,\r\n\t\t\t\tJsonDeserializer&lt;?&gt; delegateDeserializer) {\r\n\t\t\treturn new AnimalDeserializer(converter, delegateType,\r\n\t\t\t\tdelegateDeserializer);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static class AnimalHandlerInstantiator\r\n\t\t\textends HandlerInstantiator {\r\n\t\tprivate AnimalRegistry fRegistry;\r\n\r\n\t\tpublic AnimalHandlerInstantiator(AnimalRegistry registry) {\r\n\t\t\tfRegistry = registry;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic JsonDeserializer&lt;?&gt; deserializerInstance(\r\n\t\t\t\tDeserializationConfig config, Annotated annotated,\r\n\t\t\t\tClass&lt;?&gt; deserClass) {\r\n\t\t\tif (deserClass != AnimalDeserializer.class)\r\n\t\t\t\treturn null;\r\n\t\t\treturn new AnimalDeserializer(fRegistry);\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic KeyDeserializer keyDeserializerInstance(\r\n\t\t\t\tDeserializationConfig config, Annotated annotated,\r\n\t\t\t\tClass&lt;?&gt; keyDeserClass) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic JsonSerializer&lt;?&gt; serializerInstance(\r\n\t\t\t\tSerializationConfig config, Annotated annotated,\r\n\t\t\t\tClass&lt;?&gt; serClass) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic TypeResolverBuilder&lt;?&gt; typeResolverBuilderInstance(\r\n\t\t\t\tMapperConfig&lt;?&gt; config, Annotated annotated,\r\n\t\t\t\tClass&lt;?&gt; builderClass) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic TypeIdResolver typeIdResolverInstance(\r\n\t\t\t\tMapperConfig&lt;?&gt; config,\r\n\t\t\t\tAnnotated annotated, Class&lt;?&gt; resolverClass) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\nI annotate the `pets` field with\r\n\r\n\t\t@JsonSerialize(contentUsing = AnimalSerializer.class)\r\n\t\t@JsonDeserialize(contentUsing = AnimalDeserializer.class)\r\n\r\nand set an instance of `AnimalHandlerInstantiator` on the `ObjectMapper`:\r\n\r\n\t\tmapper.setHandlerInstantiator(\r\n\t\t\tnew AnimalHandlerInstantiator(animalRegistry));\r\n\r\nThis works, but it is an awful lot of code. Can anyone suggest a more concise alternative? I&#39;d like to avoid writing a serializer/deserializer for `PetOwner` that requires manual handling of fields other than `pets`, though.","title":"Jackson deserializing adapter/converter with context","body":"<p>I have a simple set of classes that I want to serialize to/deserialize from YAML using Jackson (2.4.5):</p>\n\n<pre><code>public static class Animal {\n    public String name;\n}\n\npublic static class Dog extends Animal {\n    public String breed;\n}\n\npublic static class Cat extends Animal {\n    public String favoriteToy;\n}\n\npublic static class AnimalRegistry {\n    private Map&lt;String, Animal&gt; fAnimals = new HashMap&lt;&gt;();\n\n    public AnimalRegistry(Animal... animals) {\n        for (Animal animal : animals)\n            fAnimals.put(animal.name, animal);\n    }\n\n    public Animal getAnimal(String name) {\n        return fAnimals.get(name);\n    }\n}\n</code></pre>\n\n<p>It is fairly straight forward to do that so that the <code>AnimalRegistry</code> ends up as a list of nested objects of <code>Animal</code> (subtype) objects. I can write and read those just fine. The problem I'm facing is to separately serialize/deserialize objects of another class:</p>\n\n<pre><code>public static class PetOwner {\n    public String name;\n    public List&lt;Animal&gt; pets = new ArrayList&lt;&gt;();\n}\n</code></pre>\n\n<p>I don't want to serialize the <code>Animal</code> objects as a list of nested objects, but rather only store a list of the <code>Animal</code>'s names. When deserializing I want to map those names back to <code>Animal</code> objects using a pre-existing <code>AnimalRegistry</code>.</p>\n\n<p>With JAXB I could simply do that using an <code>XmlAdapter</code>:</p>\n\n<pre><code>public static class PetXmlAdapter extends XmlAdapter&lt;String, Animal&gt; {\n    private AnimalRegistry fRegistry;\n\n    public PetXmlAdapter(AnimalRegistry registry) {\n        fRegistry = registry;\n    }\n\n    @Override\n    public Animal unmarshal(String value) throws Exception {\n        return fRegistry.getAnimal(value);\n    }\n\n    @Override\n    public String marshal(Animal value) throws Exception {\n        return value.name;\n    }\n}\n</code></pre>\n\n<p>I'd annotate the <code>pets</code> field with</p>\n\n<pre><code>    @XmlJavaTypeAdapter(value = PetXmlAdapter.class)\n</code></pre>\n\n<p>and add an instance of <code>PetXmlAdapter</code> to the <code>Marshaller</code>/<code>Unmarshaller</code>:</p>\n\n<pre><code>    marshaller.setAdapter(new PetXmlAdapter(animalRegistry));\n    ...\n    unmarshaller.setAdapter(new PetXmlAdapter(animalRegistry));\n</code></pre>\n\n<p>Jackson supports the JAXB annotations and could use the same <code>PetXmlAdapter</code> class, but I don't see a way to set an instance of it on the <code>ObjectMapper</code> or any related class and thus cannot use my pre-existing <code>AnimalRegistry</code>.</p>\n\n<p>Jackson seems to have a lot of points for customization and in the end I found a way to achieve my goal:</p>\n\n<pre><code>public static class AnimalNameConverter\n        extends StdConverter&lt;Animal, String&gt; {\n    @Override\n    public String convert(Animal value) {\n        return value != null ? value.name : null;\n    }\n}\n\npublic static class NameAnimalConverter\n        extends StdConverter&lt;String, Animal&gt; {\n    private AnimalRegistry fRegistry;\n\n    public NameAnimalConverter(AnimalRegistry registry) {\n        fRegistry = registry;\n    }\n\n    @Override\n    public Animal convert(String value) {\n        return value != null ? fRegistry.getAnimal(value) : null;\n    }\n}\n\npublic static class AnimalSerializer\n        extends StdDelegatingSerializer {\n    public AnimalSerializer() {\n        super(Animal.class, new AnimalNameConverter());\n    }\n\n    private AnimalSerializer(Converter&lt;Object,?&gt; converter,\n            JavaType delegateType,\n            JsonSerializer&lt;?&gt; delegateSerializer) {\n        super(converter, delegateType, delegateSerializer);\n    }\n\n    @Override\n    protected StdDelegatingSerializer withDelegate(\n            Converter&lt;Object, ?&gt; converter, JavaType delegateType,\n            JsonSerializer&lt;?&gt; delegateSerializer) {\n        return new AnimalSerializer(converter, delegateType,\n            delegateSerializer);\n    }\n}\n\npublic static class AnimalDeserializer\n        extends StdDelegatingDeserializer&lt;Animal&gt; {\n    private static final long serialVersionUID = 1L;\n\n    public AnimalDeserializer(AnimalRegistry registry) {\n        super(new NameAnimalConverter(registry));\n    }\n\n    private AnimalDeserializer(Converter&lt;Object, Animal&gt; converter,\n            JavaType delegateType,\n            JsonDeserializer&lt;?&gt; delegateDeserializer) {\n        super(converter, delegateType, delegateDeserializer);\n    }\n\n    @Override\n    protected StdDelegatingDeserializer&lt;Animal&gt; withDelegate(\n            Converter&lt;Object, Animal&gt; converter,\n            JavaType delegateType,\n            JsonDeserializer&lt;?&gt; delegateDeserializer) {\n        return new AnimalDeserializer(converter, delegateType,\n            delegateDeserializer);\n    }\n}\n\npublic static class AnimalHandlerInstantiator\n        extends HandlerInstantiator {\n    private AnimalRegistry fRegistry;\n\n    public AnimalHandlerInstantiator(AnimalRegistry registry) {\n        fRegistry = registry;\n    }\n\n    @Override\n    public JsonDeserializer&lt;?&gt; deserializerInstance(\n            DeserializationConfig config, Annotated annotated,\n            Class&lt;?&gt; deserClass) {\n        if (deserClass != AnimalDeserializer.class)\n            return null;\n        return new AnimalDeserializer(fRegistry);\n    }\n\n    @Override\n    public KeyDeserializer keyDeserializerInstance(\n            DeserializationConfig config, Annotated annotated,\n            Class&lt;?&gt; keyDeserClass) {\n        return null;\n    }\n\n    @Override\n    public JsonSerializer&lt;?&gt; serializerInstance(\n            SerializationConfig config, Annotated annotated,\n            Class&lt;?&gt; serClass) {\n        return null;\n    }\n\n    @Override\n    public TypeResolverBuilder&lt;?&gt; typeResolverBuilderInstance(\n            MapperConfig&lt;?&gt; config, Annotated annotated,\n            Class&lt;?&gt; builderClass) {\n        return null;\n    }\n\n    @Override\n    public TypeIdResolver typeIdResolverInstance(\n            MapperConfig&lt;?&gt; config,\n            Annotated annotated, Class&lt;?&gt; resolverClass) {\n        return null;\n    }\n}\n</code></pre>\n\n<p>I annotate the <code>pets</code> field with</p>\n\n<pre><code>    @JsonSerialize(contentUsing = AnimalSerializer.class)\n    @JsonDeserialize(contentUsing = AnimalDeserializer.class)\n</code></pre>\n\n<p>and set an instance of <code>AnimalHandlerInstantiator</code> on the <code>ObjectMapper</code>:</p>\n\n<pre><code>    mapper.setHandlerInstantiator(\n        new AnimalHandlerInstantiator(animalRegistry));\n</code></pre>\n\n<p>This works, but it is an awful lot of code. Can anyone suggest a more concise alternative? I'd like to avoid writing a serializer/deserializer for <code>PetOwner</code> that requires manual handling of fields other than <code>pets</code>, though.</p>\n"},{"tags":["java","exception","arraylist","indexoutofboundsexception"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1651457821,"post_id":72081539,"comment_id":127362547,"body_markdown":"[Please do not upload images of code/data/errors when asking a question.](//meta.stackoverflow.com/q/285551)","body":"<a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/data/errors when asking a question.</a>"},{"owner":{"account_id":14479504,"reputation":93,"user_id":14295030,"display_name":"manouna"},"score":0,"creation_date":1651458923,"post_id":72081539,"comment_id":127362679,"body_markdown":"@StephenC do you want me to copy paste them instead?","body":"@StephenC do you want me to copy paste them instead?"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1651460855,"post_id":72081539,"comment_id":127362895,"body_markdown":"Yes.  That is the correct thing to do.  (The link explains why it is important ...)","body":"Yes.  That is the correct thing to do.  (The link explains why it is important ...)"}],"answers":[{"tags":[],"owner":{"account_id":20854541,"reputation":1009,"user_id":15318227,"display_name":"Gurkirat Singh Guliani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651456412,"creation_date":1651455943,"answer_id":72081640,"question_id":72081539,"body_markdown":"Before accessing the character at chaineAl.get(i+j) , \r\nyou need to check that i+j &lt; chaineAl.size(), this might be the reason you are getting array index out of bound exception.  \r\nso modify your if condition by adding this line \r\n\r\n    if ( i + j&lt; chaineAl.size() &amp;&amp; // your remaining conditions ) \r\n\r\n**NOTE:** Before accessing any summed indices ( like i+j ) , it is always better to check if that value is less than the size of the list. \r\nI see that you haven&#39;t checked that everywhere. Please add this condition whenever you are accessing such a value. ","title":"Index out of bounds, but can not figure out why","body":"<p>Before accessing the character at chaineAl.get(i+j) ,\nyou need to check that i+j &lt; chaineAl.size(), this might be the reason you are getting array index out of bound exception.<br />\nso modify your if condition by adding this line</p>\n<pre><code>if ( i + j&lt; chaineAl.size() &amp;&amp; // your remaining conditions ) \n</code></pre>\n<p><strong>NOTE:</strong> Before accessing any summed indices ( like i+j ) , it is always better to check if that value is less than the size of the list.\nI see that you haven't checked that everywhere. Please add this condition whenever you are accessing such a value.</p>\n"}],"owner":{"account_id":14479504,"reputation":93,"user_id":14295030,"display_name":"manouna"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":436,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1651456412,"creation_date":1651454042,"question_id":72081539,"body_markdown":"1. Problem summary\r\n\r\nIndex becomes out of bounds at some point in my loop, but I can not find when this happens and why it does. I&#39;m very sorry if this sort of question sounds very beginnerish but I&#39;ve genuinely been doing my best over the past few days to try and figure out why.\r\n\r\n2. I&#39;ve tried these things :\r\n\r\nI have closely watched many iterations of the loop with the debugger and added some variables (the ones with the debug-and-company names) to check if it does what it&#39;s supposed to, if I need a -1 or something like that, have fixed other issues but this one remains.\r\nIt used to do this :\r\n\r\n[![enter image description here][1]][1]\r\n\r\ninstead of this :\r\n\r\n    chaineAL.set(i + k, null);\r\n\r\nI figured that was the problem, that it was messing up with the amount of items in the list and all of that... I also added the lengthMatch condition to make sure it went into the right one. It feels like there is something probably painfully obvious that... just doesn&#39;t work. I feel like at somepoint lengthMatch stays 2, and occurences doesn&#39;t add up? But that&#39;s just some feeling i got while looking at some iterations of the loop in the debugger.\r\nj also is 0 in the beginning so I don&#39;t think it&#39;s adding one extra, and 1049 is way too far from 1024 for that to potentially be the issue I think.\r\n\r\n3. Code and error messages\r\n\r\nHere is the full method for context :\r\n\r\n    public boolean analyser(String chaineSource, String sequence, int seuil){\r\n        int occurences = 0; //nombre de fois que la s&#233;quence appara&#238;t dans la cha&#238;ne\r\n\r\n        ArrayList&lt;Character&gt; chaineAL = new ArrayList&lt;&gt;();\r\n\r\n        for (int i = 0; i &lt; chaineSource.length(); i++) {\r\n            chaineAL.add( (char)chaineSource.charAt(i) );\r\n        }\r\n\r\n        ArrayList&lt;Character&gt; chaineInvAL = new ArrayList&lt;&gt;();\r\n\r\n        for (int i = chaineAL.size() - 1; i &gt; 0; i--) {\r\n            chaineInvAL.add(chaineAL.get(i));\r\n        }\r\n\r\n        /*\r\n         ** Loop infernal consistant &#224; chercher, puis supprimer si trouv&#233;e, la s&#233;quence puis la chercher &#224;\r\n         * nouveau pour compter ses occurences\r\n         */\r\n        //on cherche la correspondance\r\n        int i = 0;\r\n        int lengthMatch = 0;\r\n        ArrayList&lt;Character&gt; AL;\r\n\r\n        for (int x = 0; x &lt;= 1; x++) { //pour &#233;viter de r&#233;p&#233;ter le m&#234;me code 2x pour les deux AL\r\n            if (x == 0) //commencer par celui-ci\r\n                AL = chaineAL;\r\n            else        //le m&#234;me bain de sang pour la cha&#238;ne invers&#233;e\r\n                AL = chaineInvAL;\r\n\r\n            for (char c: AL) {\r\n                if (c == sequence.charAt(0)) { //entrer si on trouve le premier caract&#232;re de la s&#233;quence\r\n                    for (int j = 0; j &lt; sequence.length(); j++) {\r\n                      //  int debogtest = i+j;\r\n                        //char ddebug = chaineAL.get(i+j);\r\n                        //char debug =  sequence.charAt(j);                     //comparer les caract&#232;res suivants\r\n                        if ( chaineAL.get(i+j) == sequence.charAt(j) &amp;&amp; lengthMatch != sequence.length()) {\r\n                            lengthMatch++;\r\n                        }                                    //↓ correspondance parfaite !\r\n                        else if (chaineAL.get(i+j) != sequence.charAt(j) &amp;&amp; lengthMatch == sequence.length()) {\r\n                            occurences++;\r\n                            for (int k = 0; k &lt; sequence.length(); k++) { //supprimer la s&#233;quence\r\n                                chaineAL.set(i + k, null);\r\n                            }\r\n                            lengthMatch = 0;\r\n                        }\r\n                        else { //la s&#233;quence ne correspond pas\r\n                            lengthMatch = 0;\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n                i++;\r\n            }\r\n\r\n        }\r\n\r\n        return seuil &lt;= occurences;\r\n    }\r\n\r\nSorry, my comments and everything is in French, it&#39;s easier for me. I doubt they are interesting enough to deserve a translation, I tend to over comment. Since that looks like a bunch of weird code I&#39;ll explain what it does. Basically I&#39;m looking&#160;for something in a long String. In my test I&#39;m looking for &quot;12&quot; (sequence) and I&#39;m trying to find it 8 times (seuil). I&#39;ve come up with that array list system. I split the String in a list of chars, and every time I&#39;ll see the first char come up (in my &quot;12&quot; test it means every time it sees a &quot;1&quot;), it looks at the char right after it in the list. And the idea is that every time it does find it it wipes it from the list to search for it again etc. to count how many times it&#39;s found. the whole chaineInvAL is just the same one but reversed so that I can look from right to left too.\r\n\r\nHere is what comes up when I try to run this:\r\n[![exception][2]][2]\r\nI don&#39;t know when the value of `i` becomes 1049, how it can be out of bounds. I&#39;ve tried thinking of it yet could not find what was the little breach in what I wrote that broke the logic.\r\n\r\nIt points here:\r\n[![line the exception points to][3]][3]\r\n\r\n\r\nThank you so very much to those who will have the patience to look into this.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UvSaC.png\r\n  [2]: https://i.stack.imgur.com/wmqGN.png\r\n  [3]: https://i.stack.imgur.com/YovWn.png","title":"Index out of bounds, but can not figure out why","body":"<ol>\n<li>Problem summary</li>\n</ol>\n<p>Index becomes out of bounds at some point in my loop, but I can not find when this happens and why it does. I'm very sorry if this sort of question sounds very beginnerish but I've genuinely been doing my best over the past few days to try and figure out why.</p>\n<ol start=\"2\">\n<li>I've tried these things :</li>\n</ol>\n<p>I have closely watched many iterations of the loop with the debugger and added some variables (the ones with the debug-and-company names) to check if it does what it's supposed to, if I need a -1 or something like that, have fixed other issues but this one remains.\nIt used to do this :</p>\n<p><a href=\"https://i.stack.imgur.com/UvSaC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UvSaC.png\" alt=\"enter image description here\" /></a></p>\n<p>instead of this :</p>\n<pre><code>chaineAL.set(i + k, null);\n</code></pre>\n<p>I figured that was the problem, that it was messing up with the amount of items in the list and all of that... I also added the lengthMatch condition to make sure it went into the right one. It feels like there is something probably painfully obvious that... just doesn't work. I feel like at somepoint lengthMatch stays 2, and occurences doesn't add up? But that's just some feeling i got while looking at some iterations of the loop in the debugger.\nj also is 0 in the beginning so I don't think it's adding one extra, and 1049 is way too far from 1024 for that to potentially be the issue I think.</p>\n<ol start=\"3\">\n<li>Code and error messages</li>\n</ol>\n<p>Here is the full method for context :</p>\n<pre><code>public boolean analyser(String chaineSource, String sequence, int seuil){\n    int occurences = 0; //nombre de fois que la séquence apparaît dans la chaîne\n\n    ArrayList&lt;Character&gt; chaineAL = new ArrayList&lt;&gt;();\n\n    for (int i = 0; i &lt; chaineSource.length(); i++) {\n        chaineAL.add( (char)chaineSource.charAt(i) );\n    }\n\n    ArrayList&lt;Character&gt; chaineInvAL = new ArrayList&lt;&gt;();\n\n    for (int i = chaineAL.size() - 1; i &gt; 0; i--) {\n        chaineInvAL.add(chaineAL.get(i));\n    }\n\n    /*\n     ** Loop infernal consistant à chercher, puis supprimer si trouvée, la séquence puis la chercher à\n     * nouveau pour compter ses occurences\n     */\n    //on cherche la correspondance\n    int i = 0;\n    int lengthMatch = 0;\n    ArrayList&lt;Character&gt; AL;\n\n    for (int x = 0; x &lt;= 1; x++) { //pour éviter de répéter le même code 2x pour les deux AL\n        if (x == 0) //commencer par celui-ci\n            AL = chaineAL;\n        else        //le même bain de sang pour la chaîne inversée\n            AL = chaineInvAL;\n\n        for (char c: AL) {\n            if (c == sequence.charAt(0)) { //entrer si on trouve le premier caractère de la séquence\n                for (int j = 0; j &lt; sequence.length(); j++) {\n                  //  int debogtest = i+j;\n                    //char ddebug = chaineAL.get(i+j);\n                    //char debug =  sequence.charAt(j);                     //comparer les caractères suivants\n                    if ( chaineAL.get(i+j) == sequence.charAt(j) &amp;&amp; lengthMatch != sequence.length()) {\n                        lengthMatch++;\n                    }                                    //↓ correspondance parfaite !\n                    else if (chaineAL.get(i+j) != sequence.charAt(j) &amp;&amp; lengthMatch == sequence.length()) {\n                        occurences++;\n                        for (int k = 0; k &lt; sequence.length(); k++) { //supprimer la séquence\n                            chaineAL.set(i + k, null);\n                        }\n                        lengthMatch = 0;\n                    }\n                    else { //la séquence ne correspond pas\n                        lengthMatch = 0;\n                        break;\n                    }\n                }\n            }\n            i++;\n        }\n\n    }\n\n    return seuil &lt;= occurences;\n}\n</code></pre>\n<p>Sorry, my comments and everything is in French, it's easier for me. I doubt they are interesting enough to deserve a translation, I tend to over comment. Since that looks like a bunch of weird code I'll explain what it does. Basically I'm looking for something in a long String. In my test I'm looking for &quot;12&quot; (sequence) and I'm trying to find it 8 times (seuil). I've come up with that array list system. I split the String in a list of chars, and every time I'll see the first char come up (in my &quot;12&quot; test it means every time it sees a &quot;1&quot;), it looks at the char right after it in the list. And the idea is that every time it does find it it wipes it from the list to search for it again etc. to count how many times it's found. the whole chaineInvAL is just the same one but reversed so that I can look from right to left too.</p>\n<p>Here is what comes up when I try to run this:\n<a href=\"https://i.stack.imgur.com/wmqGN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wmqGN.png\" alt=\"exception\" /></a>\nI don't know when the value of <code>i</code> becomes 1049, how it can be out of bounds. I've tried thinking of it yet could not find what was the little breach in what I wrote that broke the logic.</p>\n<p>It points here:\n<a href=\"https://i.stack.imgur.com/YovWn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YovWn.png\" alt=\"line the exception points to\" /></a></p>\n<p>Thank you so very much to those who will have the patience to look into this.</p>\n"},{"tags":["java","data-structures","hashmap"],"answers":[{"tags":[],"owner":{"account_id":22072474,"reputation":1193,"user_id":16333281,"display_name":"Jhanzaib Humayun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651454248,"creation_date":1651453913,"answer_id":72081527,"question_id":72081452,"body_markdown":"Easiest way would be to create a method `toHashMap()` in your `Student` class:\r\n\r\n    public LinkedHashMap&lt;String,Object&gt; toHashMap(){\r\n        LinkedHashMap&lt;String, Object&gt; h = new LinkedHashMap&lt;&gt;();\r\n        h.put(&quot;Id&quot;,id);\r\n        h.put(&quot;Name&quot;, name);\r\n        h.put(&quot;Age&quot;,age);\r\n        return h;\r\n    }\r\n\r\nI use a `LinkedHashMap` to preserve the insertion order. Once that is done, try this:\r\n\r\n    \r\n\r\n    List&lt;Student&gt; ls = new ArrayList&lt;&gt;();\r\n    ls.add(new Student(12123,&quot;Tom&quot;,12));\r\n    ls.add(new Student(12354,&quot;George&quot;,21));\r\n    ls.add(new Student(12245,&quot;Sara&quot;,16));\r\n    ls.add(new Student(17642,&quot;Caitlyn&quot;,11));\r\n\r\n\r\n    List&lt;LinkedHashMap&lt;String,Object&gt;&gt; names = ls.stream().map(Student::toHashMap).collect( Collectors.toList() );\r\n\r\n    System.out.println(names);\r\n\r\nOutput: `[{Id=12123, Name=Tom, Age=12}, {Id=12354, Name=George, Age=21}, {Id=12245, Name=Sara, Age=16}, {Id=17642, Name=Caitlyn, Age=11}]`","title":"How to convert a list of java objects into a list of maps","body":"<p>Easiest way would be to create a method <code>toHashMap()</code> in your <code>Student</code> class:</p>\n<pre><code>public LinkedHashMap&lt;String,Object&gt; toHashMap(){\n    LinkedHashMap&lt;String, Object&gt; h = new LinkedHashMap&lt;&gt;();\n    h.put(&quot;Id&quot;,id);\n    h.put(&quot;Name&quot;, name);\n    h.put(&quot;Age&quot;,age);\n    return h;\n}\n</code></pre>\n<p>I use a <code>LinkedHashMap</code> to preserve the insertion order. Once that is done, try this:</p>\n<pre><code>List&lt;Student&gt; ls = new ArrayList&lt;&gt;();\nls.add(new Student(12123,&quot;Tom&quot;,12));\nls.add(new Student(12354,&quot;George&quot;,21));\nls.add(new Student(12245,&quot;Sara&quot;,16));\nls.add(new Student(17642,&quot;Caitlyn&quot;,11));\n\n\nList&lt;LinkedHashMap&lt;String,Object&gt;&gt; names = ls.stream().map(Student::toHashMap).collect( Collectors.toList() );\n\nSystem.out.println(names);\n</code></pre>\n<p>Output: <code>[{Id=12123, Name=Tom, Age=12}, {Id=12354, Name=George, Age=21}, {Id=12245, Name=Sara, Age=16}, {Id=17642, Name=Caitlyn, Age=11}]</code></p>\n"},{"tags":[],"owner":{"account_id":12627388,"reputation":84,"user_id":9180342,"display_name":"&#193;lex Fog"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651454330,"creation_date":1651454330,"answer_id":72081552,"question_id":72081452,"body_markdown":"I&#39;d say getting the object and iterating on the declared fields is good enough for what you&#39;re trying to do. Something like this:\r\n\r\n```java\r\nprivate static List&lt;Map&lt;String,Object&gt;&gt; objectsToMap(List&lt;Object&gt; objects) throws IllegalAccessException {\r\n  List&lt;Map&lt;String,Object&gt;&gt; result = new ArrayList&lt;&gt;();\r\n  for (Object object : objects) {\r\n    Map&lt;String,Object&gt; map = new HashMap&lt;&gt;();\r\n    for (Field field : object.getClass().getDeclaredFields()) {\r\n      var oldAccessibility = field.canAccess(object);\r\n      field.setAccessible(true);\r\n      var value = field.get(object);\r\n      map.put(field.getName(), value);\r\n      field.setAccessible(oldAccessibility);\r\n    }\r\n    result.add(map);\r\n  }\r\n  return result;\r\n}\r\n````\r\n\r\nNevertheless, it seems like you&#39;re trying to convert an ordinary object to JSON strings and there are libraries that to that super well. Check out this [stackoverflow thread about conversion of objects to json](https://stackoverflow.com/questions/15786129/converting-java-objects-to-json-with-jackson) if this is really what you&#39;re trying to achieve.","title":"How to convert a list of java objects into a list of maps","body":"<p>I'd say getting the object and iterating on the declared fields is good enough for what you're trying to do. Something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static List&lt;Map&lt;String,Object&gt;&gt; objectsToMap(List&lt;Object&gt; objects) throws IllegalAccessException {\n  List&lt;Map&lt;String,Object&gt;&gt; result = new ArrayList&lt;&gt;();\n  for (Object object : objects) {\n    Map&lt;String,Object&gt; map = new HashMap&lt;&gt;();\n    for (Field field : object.getClass().getDeclaredFields()) {\n      var oldAccessibility = field.canAccess(object);\n      field.setAccessible(true);\n      var value = field.get(object);\n      map.put(field.getName(), value);\n      field.setAccessible(oldAccessibility);\n    }\n    result.add(map);\n  }\n  return result;\n}\n</code></pre>\n<p>Nevertheless, it seems like you're trying to convert an ordinary object to JSON strings and there are libraries that to that super well. Check out this <a href=\"https://stackoverflow.com/questions/15786129/converting-java-objects-to-json-with-jackson\">stackoverflow thread about conversion of objects to json</a> if this is really what you're trying to achieve.</p>\n"}],"owner":{"account_id":275128,"reputation":6815,"user_id":567797,"accept_rate":75,"display_name":"station"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1651454330,"creation_date":1651452789,"question_id":72081452,"body_markdown":"I have the following domain object\r\n\r\n```\r\nClass Student {\r\n    private int id;\r\n    private String name;\r\n    private int age;\r\n}\r\n```\r\n\r\nand I have a ```List&lt;Student&gt;```\r\n\r\nHow do I convert that into a list of map as follows\r\n\r\n```\r\n[{\r\n\t&quot;id&quot;: 1,\r\n\t&quot;name&quot;: &quot;abc&quot;,\r\n\t&quot;age&quot;: 2\r\n}, {\r\n\t&quot;id&quot;: 2,\r\n\t&quot;name&quot;: &quot;pqr&quot;,\r\n\t&quot;age&quot;: 3\r\n}]\r\n```","title":"How to convert a list of java objects into a list of maps","body":"<p>I have the following domain object</p>\n<pre><code>Class Student {\n    private int id;\n    private String name;\n    private int age;\n}\n</code></pre>\n<p>and I have a <code>List&lt;Student&gt;</code></p>\n<p>How do I convert that into a list of map as follows</p>\n<pre><code>[{\n    &quot;id&quot;: 1,\n    &quot;name&quot;: &quot;abc&quot;,\n    &quot;age&quot;: 2\n}, {\n    &quot;id&quot;: 2,\n    &quot;name&quot;: &quot;pqr&quot;,\n    &quot;age&quot;: 3\n}]\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"score":0,"creation_date":1651452545,"post_id":72081262,"comment_id":127361989,"body_markdown":"For the range `0 - 1000`, should the `1000` be INCLUDED or not as one of the possible values that can be returned?","body":"For the range <code>0 - 1000</code>, should the <code>1000</code> be INCLUDED or not as one of the possible values that can be returned?"},{"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"score":1,"creation_date":1651452869,"post_id":72081262,"comment_id":127362039,"body_markdown":"If you want to INCLUDE both &quot;min&quot; and &quot;max&quot;, then you should be using this formula: `(int) (Math.random()*(max-min + 1))+min;`","body":"If you want to INCLUDE both &quot;min&quot; and &quot;max&quot;, then you should be using this formula: <code>(int) (Math.random()*(max-min + 1))+min;</code>"}],"answers":[{"tags":[],"owner":{"account_id":23841572,"reputation":335,"user_id":17846561,"display_name":"mpdgr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651452523,"creation_date":1651452523,"answer_id":72081434,"question_id":72081262,"body_markdown":"Math.random() returns random nr range 0 to 1, so to get range 0 to 1000 all you need to do is to multiply by 1000. No need to add anything, so the formula will still work","title":"Random Number from 0 to 1000 Math.random()","body":"<p>Math.random() returns random nr range 0 to 1, so to get range 0 to 1000 all you need to do is to multiply by 1000. No need to add anything, so the formula will still work</p>\n"},{"tags":[],"owner":{"account_id":12627388,"reputation":84,"user_id":9180342,"display_name":"&#193;lex Fog"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651452856,"creation_date":1651452856,"answer_id":72081457,"question_id":72081262,"body_markdown":"Let&#39;s break down the formula to see if it helps!\r\n\r\nGiven that [``Math.random()`` returns a double which has value 0 &lt;= value &lt; 1](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Math.html#random()), when:\r\n\r\n - ``min = 1``, the formula returns values between 1 (``0 * (1000 - 1) + 1 = 1``) and 999 (``0.999999... * (1000 - 1) + 1 = 999``)\r\n - ``min = 0``, the formula returns values between 0 (``0 * (1000 - 0) + 0 = 0``) and 999 (``0.999999... * (1000 - 0) + 0 = 999``)\r\n\r\nSo, ``min = 0`` works as you&#39;d expect but it seems like you&#39;re missing a **+1** in the formula&#39;s range term:\r\n\r\nGenerating an integer random number in a range with Math.random() is done by this formula: \r\n``(int)(Math.random() * ((max - min) + 1)) + min``\r\n\r\n ","title":"Random Number from 0 to 1000 Math.random()","body":"<p>Let's break down the formula to see if it helps!</p>\n<p>Given that <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Math.html#random()\" rel=\"nofollow noreferrer\"><code>Math.random()</code> returns a double which has value 0 &lt;= value &lt; 1</a>, when:</p>\n<ul>\n<li><code>min = 1</code>, the formula returns values between 1 (<code>0 * (1000 - 1) + 1 = 1</code>) and 999 (<code>0.999999... * (1000 - 1) + 1 = 999</code>)</li>\n<li><code>min = 0</code>, the formula returns values between 0 (<code>0 * (1000 - 0) + 0 = 0</code>) and 999 (<code>0.999999... * (1000 - 0) + 0 = 999</code>)</li>\n</ul>\n<p>So, <code>min = 0</code> works as you'd expect but it seems like you're missing a <strong>+1</strong> in the formula's range term:</p>\n<p>Generating an integer random number in a range with Math.random() is done by this formula:\n<code>(int)(Math.random() * ((max - min) + 1)) + min</code></p>\n"}],"owner":{"account_id":22136132,"reputation":67,"user_id":16386890,"display_name":"Max Ringnalda"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1339,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72081457,"answer_count":2,"score":2,"last_activity_date":1651452856,"creation_date":1651449935,"question_id":72081262,"body_markdown":"Currently making a program for homework and I am confused regarding one aspect of the normal formula that is usually used\r\n\r\n```Math.random() * (max - min) + min```\r\n\r\nI understand that this would work perfectly fine with a range of ```1 - 1000``` for example.\r\n\r\nNow, sorry for my ignorance and if this comes out as a stupid question... but if I want a range from ```0 - 1000```, would this still work?\r\n\r\nSince the range ```1 - 1000``` would set ```(max - min)``` as 999, then multiply by ```Math.random()``` and then add ```min```... range ```0 - 1000``` would set ```(max - min)``` as 1000 and would not add anything at the end since its still 0. Would this still work if I have ```min``` as 0 and ```max``` as 1000? Or would I have to go through a different route/formula?","title":"Random Number from 0 to 1000 Math.random()","body":"<p>Currently making a program for homework and I am confused regarding one aspect of the normal formula that is usually used</p>\n<p><code>Math.random() * (max - min) + min</code></p>\n<p>I understand that this would work perfectly fine with a range of <code>1 - 1000</code> for example.</p>\n<p>Now, sorry for my ignorance and if this comes out as a stupid question... but if I want a range from <code>0 - 1000</code>, would this still work?</p>\n<p>Since the range <code>1 - 1000</code> would set <code>(max - min)</code> as 999, then multiply by <code>Math.random()</code> and then add <code>min</code>... range <code>0 - 1000</code> would set <code>(max - min)</code> as 1000 and would not add anything at the end since its still 0. Would this still work if I have <code>min</code> as 0 and <code>max</code> as 1000? Or would I have to go through a different route/formula?</p>\n"},{"tags":["java","h2"],"comments":[{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1651450758,"post_id":72081310,"comment_id":127361804,"body_markdown":"Not an answer, just an observation: I think you meant `WHERE` instead of `WHEN` in your SQL statement.","body":"Not an answer, just an observation: I think you meant <code>WHERE</code> instead of <code>WHEN</code> in your SQL statement."},{"owner":{"account_id":4999034,"reputation":1870,"user_id":6722075,"display_name":"Tohid Makari"},"score":0,"creation_date":1651450914,"post_id":72081310,"comment_id":127361826,"body_markdown":"@andrewJames thanks. It was a part of huge query with case ...when . I think the problem is elsewhere","body":"@andrewJames thanks. It was a part of huge query with case ...when . I think the problem is elsewhere"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651452372,"creation_date":1651451396,"answer_id":72081356,"question_id":72081310,"body_markdown":"Your problem is the quotes around the named parameter.\r\n\r\n    + &quot;&#39;:localDateTime&#39;&quot;\r\n\r\nshould be \r\n\r\n    + &quot;:localDateTime&quot;\r\n\r\nJDBC prepared statement parameters are not recognized inside a literal.  So H2 sees a date literal that looks like `&#39;:localDateTime&#39;` which is doesn&#39;t recognize as a valid date.\r\n\r\n-------------------\r\n\r\nI cannot find a definitive reference for this (e.g. in the JDBC specs) but prepared statement parameters can only be used in the SQL where a (complete) SQL value is required; e.g. a expression or sub-expression.  You cannot use a parameter within a literal, or to parameterize a column name or table name.  And you cannot use one to inject an expression to be evaluated on the SQL server side.\r\n","title":"Caused by: org.h2.jdbc.JdbcSQLDataException: Cannot parse &quot;TIMESTAMP&quot; constant","body":"<p>Your problem is the quotes around the named parameter.</p>\n<pre><code>+ &quot;':localDateTime'&quot;\n</code></pre>\n<p>should be</p>\n<pre><code>+ &quot;:localDateTime&quot;\n</code></pre>\n<p>JDBC prepared statement parameters are not recognized inside a literal.  So H2 sees a date literal that looks like <code>':localDateTime'</code> which is doesn't recognize as a valid date.</p>\n<hr />\n<p>I cannot find a definitive reference for this (e.g. in the JDBC specs) but prepared statement parameters can only be used in the SQL where a (complete) SQL value is required; e.g. a expression or sub-expression.  You cannot use a parameter within a literal, or to parameterize a column name or table name.  And you cannot use one to inject an expression to be evaluated on the SQL server side.</p>\n"}],"owner":{"account_id":4999034,"reputation":1870,"user_id":6722075,"display_name":"Tohid Makari"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4041,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72081356,"answer_count":1,"score":1,"last_activity_date":1651452372,"creation_date":1651450576,"question_id":72081310,"body_markdown":" I Faced a little problem with a simple request H2 in test environment that is as follows:\r\n\r\nException:\r\n\r\n    Caused by: org.h2.jdbc.JdbcSQLDataException: Cannot parse &quot;TIMESTAMP&quot; constant &quot;:localDateTime&quot;\r\n\r\n-\r\n\r\n  \r\n    String query=&quot;select * from Article E1 WHEN E1.date&gt; &quot; + &quot;&#39;:localDateTime&#39;&quot; &quot;\r\n\r\n    namedParameterJdbcTemplate.queryForObject(query, mapParameters(), Object.class);\r\n\r\n    private MapSqlParameterSource mapParameters() {\r\n        DateTimeFormatter dtf1 = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n        MapSqlParameterSource parameters = new MapSqlParameterSource();\r\n        parameters.addValue(&quot;localDateTime&quot;, Timestamp.valueOf(LocalDateTime.now().format(dtf1)), TIMESTAMP);\r\n    \r\n    }\r\n\r\n\r\n","title":"Caused by: org.h2.jdbc.JdbcSQLDataException: Cannot parse &quot;TIMESTAMP&quot; constant","body":"<p>I Faced a little problem with a simple request H2 in test environment that is as follows:</p>\n<p>Exception:</p>\n<pre><code>Caused by: org.h2.jdbc.JdbcSQLDataException: Cannot parse &quot;TIMESTAMP&quot; constant &quot;:localDateTime&quot;\n</code></pre>\n<ul>\n<li></li>\n</ul>\n<pre><code>String query=&quot;select * from Article E1 WHEN E1.date&gt; &quot; + &quot;':localDateTime'&quot; &quot;\n\nnamedParameterJdbcTemplate.queryForObject(query, mapParameters(), Object.class);\n\nprivate MapSqlParameterSource mapParameters() {\n    DateTimeFormatter dtf1 = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;);\n    MapSqlParameterSource parameters = new MapSqlParameterSource();\n    parameters.addValue(&quot;localDateTime&quot;, Timestamp.valueOf(LocalDateTime.now().format(dtf1)), TIMESTAMP);\n\n}\n</code></pre>\n"},{"tags":["java","multidimensional-array","graphics","3d","bresenham"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1651449346,"post_id":72080952,"comment_id":127361663,"body_markdown":"So, my immediate issue is, you need to know the number of points in the line, otherwise it&#39;s impossible to interpolate the change between colors (a blend between colors is based on the normalised distance (0-1) between the two colors (0 been the first color, 1 been the last color) - so, you need to know how many points you are drawing and how far through the line you are to be able to determine the what color you should be using","body":"So, my immediate issue is, you need to know the number of points in the line, otherwise it&#39;s impossible to interpolate the change between colors (a blend between colors is based on the normalised distance (0-1) between the two colors (0 been the first color, 1 been the last color) - so, you need to know how many points you are drawing and how far through the line you are to be able to determine the what color you should be using"},{"owner":{"account_id":11039956,"reputation":55,"user_id":8108305,"display_name":"smackledorf"},"score":0,"creation_date":1651450763,"post_id":72080952,"comment_id":127361805,"body_markdown":"@MadProgrammer I&#39;m a little confused because the Bresenham Algorithm in theory is calculating that here, no? I can say I have the delta x and y of the 2 points calculated but before this algorithm runs I think it&#39;s impossible to say the number of points. In fact I&#39;m not even sure it is represented in points by the end, only the number of increments on either x or y. Should I perhaps sum the increments?","body":"@MadProgrammer I&#39;m a little confused because the Bresenham Algorithm in theory is calculating that here, no? I can say I have the delta x and y of the 2 points calculated but before this algorithm runs I think it&#39;s impossible to say the number of points. In fact I&#39;m not even sure it is represented in points by the end, only the number of increments on either x or y. Should I perhaps sum the increments?"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1651451388,"post_id":72080952,"comment_id":127361864,"body_markdown":"But you need to know how many points the algorithm will create in order to be able to create a blended color (and I&#39;m talking about the implementation of the algorithm, not the algorithm itself)","body":"But you need to know how many points the algorithm will create in order to be able to create a blended color (and I&#39;m talking about the implementation of the algorithm, not the algorithm itself)"},{"owner":{"account_id":11039956,"reputation":55,"user_id":8108305,"display_name":"smackledorf"},"score":0,"creation_date":1651451915,"post_id":72080952,"comment_id":127361923,"body_markdown":"@MadProgrammer Hm okay I get what you mean. I&#39;ve seen this \n\n`if (Math.abs(x2-x1) &gt;= Math.abs(y2-y1))\n{\n\n      pixNum = Math.abs(x2-x1);\n\n}\nelse\n{\n\n       pixNum = Math.abs(y2-y1);\n\n}`\n\nI will mess around with that","body":"@MadProgrammer Hm okay I get what you mean. I&#39;ve seen this   <code>if (Math.abs(x2-x1) &gt;= Math.abs(y2-y1)) {        pixNum = Math.abs(x2-x1);  } else {         pixNum = Math.abs(y2-y1);  }</code>  I will mess around with that"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651451919,"creation_date":1651451919,"answer_id":72081391,"question_id":72080952,"body_markdown":"In order to be able to create color that is a blend of two colors, you need to know the distance between the colors at which you want to blend.\r\n\r\nThe problem with the way that your algorithm is currently implement is, you don&#39;t know the number of points which might be needed to create an individual line, so you can&#39;t calculate the color of the segement.\r\n\r\nSo, I modified your algorthim to return a `List` of `Point`s, instead of drawing them.\r\n\r\n    public class Bresenham {\r\n        public static List&lt;Point&gt; line(Point from, Point to) {\r\n            List&lt;Point&gt; points = new ArrayList&lt;&gt;(32);\r\n            // delta of exact value and rounded value of the dependent variable\r\n            int d = 0;\r\n\r\n            int dx = Math.abs(from.x - to.x);\r\n            int dy = Math.abs(from.y - to.y);\r\n\r\n            int deltaX = 2 * dx; // slope scaling factors to\r\n            int deltaY = 2 * dy; // avoid floating point\r\n\r\n            int ix = to.x &lt; from.x ? 1 : -1; // increment direction\r\n            int iy = to.y &lt; from.y ? 1 : -1;\r\n\r\n            int x = to.x;\r\n            int y = to.y;\r\n\r\n            if (dx &gt;= dy) {\r\n                while (true) {\r\n                    points.add(new Point(x, y));\r\n                    if (x == from.x) {\r\n                        break;\r\n                    }\r\n                    x += ix;\r\n                    d += deltaY;\r\n                    if (d &gt; dx) {\r\n                        y += iy;\r\n                        d -= deltaX;\r\n                    }\r\n                }\r\n            } else {\r\n                while (true) {\r\n                    points.add(new Point(x, y));\r\n                    if (y == from.y) {\r\n                        break;\r\n                    }\r\n                    y += iy;\r\n                    d += deltaX;\r\n                    if (d &gt; dy) {\r\n                        x += ix;\r\n                        d -= deltaY;\r\n                    }\r\n                }\r\n            }\r\n            return points;\r\n        }\r\n    }\r\n\r\nThis now tells us how many points are in the line.  From this we can calculate the progression value (0-1) along the line, which will allow use to generate a color blending algorthim.\r\n\r\nI then took the [`ColorBand`](https://gist.github.com/RustyKnight/552e6d7ed08d84125096da3e26dd7caf) implementation I have, which is based on https://stackoverflow.com/questions/13223065/color-fading-algorithm/13223818#13223818 and https://stackoverflow.com/questions/13223065/color-fading-algorithm/13223818#13223818 (and a few other) examples.\r\n\r\nFrom that, I can calculate the color of the line segment based normalised progression through the line points.\r\n\r\nFor example...\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.Point;\r\n    import java.awt.geom.Line2D;\r\n    import java.text.NumberFormat;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n\r\n    public final class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new TestPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n            private List&lt;List&lt;Point&gt;&gt; lines;\r\n            private ColorBand colorBand;\r\n\r\n            public TestPane() {\r\n                lines = new ArrayList&lt;&gt;(4);\r\n                lines.add(Bresenham.line(new Point(0, 0), new Point(200, 200)));\r\n                lines.add(Bresenham.line(new Point(100, 0), new Point(100, 200)));\r\n                lines.add(Bresenham.line(new Point(200, 0), new Point(0, 200)));\r\n                lines.add(Bresenham.line(new Point(0, 100), new Point(200, 100)));\r\n\r\n                colorBand = new ColorBand(\r\n                        new float[]{0f, 0.5f, 1f},\r\n                        new Color[]{Color.RED, Color.GREEN, Color.BLUE}\r\n                );\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(200, 200);\r\n            }\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                Graphics2D g2d = (Graphics2D) g.create();\r\n                for (List&lt;Point&gt; line : lines) {\r\n                    Point lastPoint = null;\r\n                    float progress = 0f;\r\n                    for (int index = 0; index &lt; line.size(); index++) {\r\n                        progress = (float) index / (float) line.size();\r\n                        Point nextPoint = line.get(index);\r\n                        if (lastPoint == null) {\r\n                            lastPoint = nextPoint;\r\n                            continue;\r\n                        }\r\n                        g2d.setColor(colorBand.colorAt(progress));\r\n                        g2d.draw(new Line2D.Double(lastPoint, nextPoint));\r\n                        lastPoint = nextPoint;\r\n                    }\r\n                }\r\n                g2d.dispose();\r\n            }\r\n\r\n        }\r\n\r\n        public static class Bresenham {\r\n            public static List&lt;Point&gt; line(Point from, Point to) {\r\n                List&lt;Point&gt; points = new ArrayList&lt;&gt;(32);\r\n                // delta of exact value and rounded value of the dependent variable\r\n                int d = 0;\r\n\r\n                int dx = Math.abs(from.x - to.x);\r\n                int dy = Math.abs(from.y - to.y);\r\n\r\n                int deltaX = 2 * dx; // slope scaling factors to\r\n                int deltaY = 2 * dy; // avoid floating point\r\n\r\n                int ix = to.x &lt; from.x ? 1 : -1; // increment direction\r\n                int iy = to.y &lt; from.y ? 1 : -1;\r\n\r\n                int x = to.x;\r\n                int y = to.y;\r\n\r\n                if (dx &gt;= dy) {\r\n                    while (true) {\r\n                        points.add(new Point(x, y));\r\n                        if (x == from.x) {\r\n                            break;\r\n                        }\r\n                        x += ix;\r\n                        d += deltaY;\r\n                        if (d &gt; dx) {\r\n                            y += iy;\r\n                            d -= deltaX;\r\n                        }\r\n                    }\r\n                } else {\r\n                    while (true) {\r\n                        points.add(new Point(x, y));\r\n                        if (y == from.y) {\r\n                            break;\r\n                        }\r\n                        y += iy;\r\n                        d += deltaX;\r\n                        if (d &gt; dy) {\r\n                            x += ix;\r\n                            d -= deltaY;\r\n                        }\r\n                    }\r\n                }\r\n                return points;\r\n            }\r\n        }\r\n\r\n        public class ColorBand {\r\n\r\n            private float[] fractions;\r\n            private Color[] colors;\r\n\r\n            public ColorBand(float[] fractions, Color[] colors) {\r\n                this.fractions = fractions;\r\n                this.colors = colors;\r\n            }\r\n\r\n            public Color colorAt(float progress) {\r\n                Color color = null;\r\n                if (fractions != null) {\r\n                    if (colors != null) {\r\n                        if (fractions.length == colors.length) {\r\n                            int[] indicies = getFractionIndicies(progress);\r\n\r\n                            float[] range = new float[]{fractions[indicies[0]], fractions[indicies[1]]};\r\n                            Color[] colorRange = new Color[]{colors[indicies[0]], colors[indicies[1]]};\r\n\r\n                            float max = range[1] - range[0];\r\n                            float value = progress - range[0];\r\n                            float weight = value / max;\r\n\r\n                            color = blend(colorRange[0], colorRange[1], 1f - weight);\r\n                        } else {\r\n                            throw new IllegalArgumentException(&quot;Fractions and colours must have equal number of elements&quot;);\r\n                        }\r\n                    } else {\r\n                        throw new IllegalArgumentException(&quot;Colours can&#39;t be null&quot;);\r\n                    }\r\n                } else {\r\n                    throw new IllegalArgumentException(&quot;Fractions can&#39;t be null&quot;);\r\n                }\r\n                return color;\r\n            }\r\n\r\n            protected int[] getFractionIndicies(float progress) {\r\n                int[] range = new int[2];\r\n\r\n                int startPoint = 0;\r\n                while (startPoint &lt; fractions.length &amp;&amp; fractions[startPoint] &lt;= progress) {\r\n                    startPoint++;\r\n                }\r\n\r\n                if (startPoint &gt;= fractions.length) {\r\n                    startPoint = fractions.length - 1;\r\n                }\r\n\r\n                range[0] = startPoint - 1;\r\n                range[1] = startPoint;\r\n\r\n                return range;\r\n            }\r\n\r\n            protected Color blend(Color color1, Color color2, double ratio) {\r\n                float r = (float) ratio;\r\n                float ir = (float) 1.0 - r;\r\n\r\n                float rgb1[] = new float[3];\r\n                float rgb2[] = new float[3];\r\n\r\n                color1.getColorComponents(rgb1);\r\n                color2.getColorComponents(rgb2);\r\n\r\n                float red = rgb1[0] * r + rgb2[0] * ir;\r\n                float green = rgb1[1] * r + rgb2[1] * ir;\r\n                float blue = rgb1[2] * r + rgb2[2] * ir;\r\n\r\n                if (red &lt; 0) {\r\n                    red = 0;\r\n                } else if (red &gt; 255) {\r\n                    red = 255;\r\n                }\r\n                if (green &lt; 0) {\r\n                    green = 0;\r\n                } else if (green &gt; 255) {\r\n                    green = 255;\r\n                }\r\n                if (blue &lt; 0) {\r\n                    blue = 0;\r\n                } else if (blue &gt; 255) {\r\n                    blue = 255;\r\n                }\r\n\r\n                Color color = null;\r\n                try {\r\n                    color = new Color(red, green, blue);\r\n                } catch (IllegalArgumentException exp) {\r\n                    NumberFormat nf = NumberFormat.getNumberInstance();\r\n                    System.out.println(nf.format(red) + &quot;; &quot; + nf.format(green) + &quot;; &quot; + nf.format(blue));\r\n                    exp.printStackTrace();\r\n                }\r\n                return color;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nNow, because I&#39;m curious, I modified the lines so some are draw backwards (bottom to top)\r\n\r\n    lines.add(Bresenham.line(new Point(0, 0), new Point(200, 200)));\r\n    lines.add(Bresenham.line(new Point(100, 200), new Point(100, 0)));\r\n    lines.add(Bresenham.line(new Point(0, 200), new Point(200, 0)));\r\n    lines.add(Bresenham.line(new Point(0, 100), new Point(200, 100)));\r\n\r\njust to see what I would get...\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YuG8b.png\r\n  [2]: https://i.stack.imgur.com/PYW7I.png","title":"interpolate color over bresenham line in java","body":"<p>In order to be able to create color that is a blend of two colors, you need to know the distance between the colors at which you want to blend.</p>\n<p>The problem with the way that your algorithm is currently implement is, you don't know the number of points which might be needed to create an individual line, so you can't calculate the color of the segement.</p>\n<p>So, I modified your algorthim to return a <code>List</code> of <code>Point</code>s, instead of drawing them.</p>\n<pre><code>public class Bresenham {\n    public static List&lt;Point&gt; line(Point from, Point to) {\n        List&lt;Point&gt; points = new ArrayList&lt;&gt;(32);\n        // delta of exact value and rounded value of the dependent variable\n        int d = 0;\n\n        int dx = Math.abs(from.x - to.x);\n        int dy = Math.abs(from.y - to.y);\n\n        int deltaX = 2 * dx; // slope scaling factors to\n        int deltaY = 2 * dy; // avoid floating point\n\n        int ix = to.x &lt; from.x ? 1 : -1; // increment direction\n        int iy = to.y &lt; from.y ? 1 : -1;\n\n        int x = to.x;\n        int y = to.y;\n\n        if (dx &gt;= dy) {\n            while (true) {\n                points.add(new Point(x, y));\n                if (x == from.x) {\n                    break;\n                }\n                x += ix;\n                d += deltaY;\n                if (d &gt; dx) {\n                    y += iy;\n                    d -= deltaX;\n                }\n            }\n        } else {\n            while (true) {\n                points.add(new Point(x, y));\n                if (y == from.y) {\n                    break;\n                }\n                y += iy;\n                d += deltaX;\n                if (d &gt; dy) {\n                    x += ix;\n                    d -= deltaY;\n                }\n            }\n        }\n        return points;\n    }\n}\n</code></pre>\n<p>This now tells us how many points are in the line.  From this we can calculate the progression value (0-1) along the line, which will allow use to generate a color blending algorthim.</p>\n<p>I then took the <a href=\"https://gist.github.com/RustyKnight/552e6d7ed08d84125096da3e26dd7caf\" rel=\"nofollow noreferrer\"><code>ColorBand</code></a> implementation I have, which is based on <a href=\"https://stackoverflow.com/questions/13223065/color-fading-algorithm/13223818#13223818\">Color fading algorithm?</a> and <a href=\"https://stackoverflow.com/questions/13223065/color-fading-algorithm/13223818#13223818\">Color fading algorithm?</a> (and a few other) examples.</p>\n<p>From that, I can calculate the color of the line segment based normalised progression through the line points.</p>\n<p>For example...</p>\n<p><a href=\"https://i.stack.imgur.com/YuG8b.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YuG8b.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.Point;\nimport java.awt.geom.Line2D;\nimport java.text.NumberFormat;\nimport java.util.ArrayList;\nimport java.util.List;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\n\npublic final class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n        private List&lt;List&lt;Point&gt;&gt; lines;\n        private ColorBand colorBand;\n\n        public TestPane() {\n            lines = new ArrayList&lt;&gt;(4);\n            lines.add(Bresenham.line(new Point(0, 0), new Point(200, 200)));\n            lines.add(Bresenham.line(new Point(100, 0), new Point(100, 200)));\n            lines.add(Bresenham.line(new Point(200, 0), new Point(0, 200)));\n            lines.add(Bresenham.line(new Point(0, 100), new Point(200, 100)));\n\n            colorBand = new ColorBand(\n                    new float[]{0f, 0.5f, 1f},\n                    new Color[]{Color.RED, Color.GREEN, Color.BLUE}\n            );\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(200, 200);\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            Graphics2D g2d = (Graphics2D) g.create();\n            for (List&lt;Point&gt; line : lines) {\n                Point lastPoint = null;\n                float progress = 0f;\n                for (int index = 0; index &lt; line.size(); index++) {\n                    progress = (float) index / (float) line.size();\n                    Point nextPoint = line.get(index);\n                    if (lastPoint == null) {\n                        lastPoint = nextPoint;\n                        continue;\n                    }\n                    g2d.setColor(colorBand.colorAt(progress));\n                    g2d.draw(new Line2D.Double(lastPoint, nextPoint));\n                    lastPoint = nextPoint;\n                }\n            }\n            g2d.dispose();\n        }\n\n    }\n\n    public static class Bresenham {\n        public static List&lt;Point&gt; line(Point from, Point to) {\n            List&lt;Point&gt; points = new ArrayList&lt;&gt;(32);\n            // delta of exact value and rounded value of the dependent variable\n            int d = 0;\n\n            int dx = Math.abs(from.x - to.x);\n            int dy = Math.abs(from.y - to.y);\n\n            int deltaX = 2 * dx; // slope scaling factors to\n            int deltaY = 2 * dy; // avoid floating point\n\n            int ix = to.x &lt; from.x ? 1 : -1; // increment direction\n            int iy = to.y &lt; from.y ? 1 : -1;\n\n            int x = to.x;\n            int y = to.y;\n\n            if (dx &gt;= dy) {\n                while (true) {\n                    points.add(new Point(x, y));\n                    if (x == from.x) {\n                        break;\n                    }\n                    x += ix;\n                    d += deltaY;\n                    if (d &gt; dx) {\n                        y += iy;\n                        d -= deltaX;\n                    }\n                }\n            } else {\n                while (true) {\n                    points.add(new Point(x, y));\n                    if (y == from.y) {\n                        break;\n                    }\n                    y += iy;\n                    d += deltaX;\n                    if (d &gt; dy) {\n                        x += ix;\n                        d -= deltaY;\n                    }\n                }\n            }\n            return points;\n        }\n    }\n\n    public class ColorBand {\n\n        private float[] fractions;\n        private Color[] colors;\n\n        public ColorBand(float[] fractions, Color[] colors) {\n            this.fractions = fractions;\n            this.colors = colors;\n        }\n\n        public Color colorAt(float progress) {\n            Color color = null;\n            if (fractions != null) {\n                if (colors != null) {\n                    if (fractions.length == colors.length) {\n                        int[] indicies = getFractionIndicies(progress);\n\n                        float[] range = new float[]{fractions[indicies[0]], fractions[indicies[1]]};\n                        Color[] colorRange = new Color[]{colors[indicies[0]], colors[indicies[1]]};\n\n                        float max = range[1] - range[0];\n                        float value = progress - range[0];\n                        float weight = value / max;\n\n                        color = blend(colorRange[0], colorRange[1], 1f - weight);\n                    } else {\n                        throw new IllegalArgumentException(&quot;Fractions and colours must have equal number of elements&quot;);\n                    }\n                } else {\n                    throw new IllegalArgumentException(&quot;Colours can't be null&quot;);\n                }\n            } else {\n                throw new IllegalArgumentException(&quot;Fractions can't be null&quot;);\n            }\n            return color;\n        }\n\n        protected int[] getFractionIndicies(float progress) {\n            int[] range = new int[2];\n\n            int startPoint = 0;\n            while (startPoint &lt; fractions.length &amp;&amp; fractions[startPoint] &lt;= progress) {\n                startPoint++;\n            }\n\n            if (startPoint &gt;= fractions.length) {\n                startPoint = fractions.length - 1;\n            }\n\n            range[0] = startPoint - 1;\n            range[1] = startPoint;\n\n            return range;\n        }\n\n        protected Color blend(Color color1, Color color2, double ratio) {\n            float r = (float) ratio;\n            float ir = (float) 1.0 - r;\n\n            float rgb1[] = new float[3];\n            float rgb2[] = new float[3];\n\n            color1.getColorComponents(rgb1);\n            color2.getColorComponents(rgb2);\n\n            float red = rgb1[0] * r + rgb2[0] * ir;\n            float green = rgb1[1] * r + rgb2[1] * ir;\n            float blue = rgb1[2] * r + rgb2[2] * ir;\n\n            if (red &lt; 0) {\n                red = 0;\n            } else if (red &gt; 255) {\n                red = 255;\n            }\n            if (green &lt; 0) {\n                green = 0;\n            } else if (green &gt; 255) {\n                green = 255;\n            }\n            if (blue &lt; 0) {\n                blue = 0;\n            } else if (blue &gt; 255) {\n                blue = 255;\n            }\n\n            Color color = null;\n            try {\n                color = new Color(red, green, blue);\n            } catch (IllegalArgumentException exp) {\n                NumberFormat nf = NumberFormat.getNumberInstance();\n                System.out.println(nf.format(red) + &quot;; &quot; + nf.format(green) + &quot;; &quot; + nf.format(blue));\n                exp.printStackTrace();\n            }\n            return color;\n        }\n    }\n}\n</code></pre>\n<p>Now, because I'm curious, I modified the lines so some are draw backwards (bottom to top)</p>\n<pre><code>lines.add(Bresenham.line(new Point(0, 0), new Point(200, 200)));\nlines.add(Bresenham.line(new Point(100, 200), new Point(100, 0)));\nlines.add(Bresenham.line(new Point(0, 200), new Point(200, 0)));\nlines.add(Bresenham.line(new Point(0, 100), new Point(200, 100)));\n</code></pre>\n<p>just to see what I would get...</p>\n<p><a href=\"https://i.stack.imgur.com/PYW7I.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PYW7I.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":11039956,"reputation":55,"user_id":8108305,"display_name":"smackledorf"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651451919,"creation_date":1651445502,"question_id":72080952,"body_markdown":"I specifically need to adapt the java bresenham implementation here http://rosettacode.org/wiki/Bitmap/Bresenham%27s_line_algorithm#Java with smooth color interpolation over the line. \r\n\r\nI&#39;m aware of this solution https://stackoverflow.com/questions/25878029/smooth-color-interpolation-along-a-bresenham-line but unfortunately all my attempts to adapt both it&#39;s bresenham implementation with the rest of my code or the answers for color to my current implementation have gone poorly.\r\n\r\nHere&#39;s the code as far as I&#39;ve gotten it but the result is either only the first color(red) or a weird alternating between the final color (blue) and yellow. If anyone could help it would be really appreciated, thanks! \r\n\r\n    int d = 0;\r\n\r\n    int dx = Math.abs(x2 - x1);\r\n    int dy = Math.abs(y2 - y1);\r\n\r\n    int dx2 = 2 * dx; // slope scaling factors to\r\n    int dy2 = 2 * dy; // avoid floating point\r\n\r\n    int ix = x1 &lt; x2 ? 1 : -1; // increment direction\r\n    int iy = y1 &lt; y2 ? 1 : -1;\r\n\r\n    int x = x1;\r\n    int y = y1;\r\n\r\n    if (dx &gt;= dy) \r\n    {\r\n        while (true) \r\n        {    \r\n            framebuffer[0][x][y] = c0.R*(1-d)+c1.R*d;\r\n            framebuffer[1][x][y] = c0.G*(1-d)+c1.G*d;\r\n            framebuffer[2][x][y] = c0.B*(1-d)+c1.B*d;\r\n            if (x == x2)\r\n                break;\r\n            x += ix;\r\n            d += dy2;\r\n            if (d &gt; dx) \r\n            {\r\n                y += iy;\r\n                d -= dx2;\r\n            }\r\n        }\r\n    } \r\n    else \r\n    {\r\n        while (true) \r\n        {\r\n            int p = 2*dy-dx;\r\n            framebuffer[0][x][y] = c0.R*(1-d)+c1.R*d;\r\n            framebuffer[1][x][y] = c0.G*(1-d)+c1.G*d;\r\n            framebuffer[2][x][y] = c0.B*(1-d)+c1.B*d;\r\n            if (y == y2)\r\n                break;\r\n            y += iy;\r\n            d += dx2;\r\n            if (d &gt; dy) \r\n            {\r\n                x += ix;\r\n                d -= dy2;\r\n            }\r\n        }\r\n    }","title":"interpolate color over bresenham line in java","body":"<p>I specifically need to adapt the java bresenham implementation here <a href=\"http://rosettacode.org/wiki/Bitmap/Bresenham%27s_line_algorithm#Java\" rel=\"nofollow noreferrer\">http://rosettacode.org/wiki/Bitmap/Bresenham%27s_line_algorithm#Java</a> with smooth color interpolation over the line.</p>\n<p>I'm aware of this solution <a href=\"https://stackoverflow.com/questions/25878029/smooth-color-interpolation-along-a-bresenham-line\">smooth color interpolation along a &quot;bresenham&quot; line</a> but unfortunately all my attempts to adapt both it's bresenham implementation with the rest of my code or the answers for color to my current implementation have gone poorly.</p>\n<p>Here's the code as far as I've gotten it but the result is either only the first color(red) or a weird alternating between the final color (blue) and yellow. If anyone could help it would be really appreciated, thanks!</p>\n<pre><code>int d = 0;\n\nint dx = Math.abs(x2 - x1);\nint dy = Math.abs(y2 - y1);\n\nint dx2 = 2 * dx; // slope scaling factors to\nint dy2 = 2 * dy; // avoid floating point\n\nint ix = x1 &lt; x2 ? 1 : -1; // increment direction\nint iy = y1 &lt; y2 ? 1 : -1;\n\nint x = x1;\nint y = y1;\n\nif (dx &gt;= dy) \n{\n    while (true) \n    {    \n        framebuffer[0][x][y] = c0.R*(1-d)+c1.R*d;\n        framebuffer[1][x][y] = c0.G*(1-d)+c1.G*d;\n        framebuffer[2][x][y] = c0.B*(1-d)+c1.B*d;\n        if (x == x2)\n            break;\n        x += ix;\n        d += dy2;\n        if (d &gt; dx) \n        {\n            y += iy;\n            d -= dx2;\n        }\n    }\n} \nelse \n{\n    while (true) \n    {\n        int p = 2*dy-dx;\n        framebuffer[0][x][y] = c0.R*(1-d)+c1.R*d;\n        framebuffer[1][x][y] = c0.G*(1-d)+c1.G*d;\n        framebuffer[2][x][y] = c0.B*(1-d)+c1.B*d;\n        if (y == y2)\n            break;\n        y += iy;\n        d += dx2;\n        if (d &gt; dy) \n        {\n            x += ix;\n            d -= dy2;\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","formatter","localdate","datetimeformatter"],"answers":[{"tags":[],"owner":{"account_id":11790106,"reputation":371,"user_id":14187779,"display_name":"Roman Popov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651437737,"creation_date":1651437737,"answer_id":72080271,"question_id":72080039,"body_markdown":"You can use the [`.getDisplayName(...)`][1] method directly on the `getMonth()` method to get the desired localized month name format. In your case, here is an example code:\r\n\r\n```Java\r\nstartOfWeek.getMonth().getDisplayName(TextStyle.SHORT_STANDALONE,Locale.getDefault())\r\nendOfWeek.getMonth().getDisplayName(TextStyle.SHORT_STANDALONE, Locale.getDefault())\r\n```\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/spi/CalendarNameProvider.html#getDisplayName-java.lang.String-int-int-int-java.util.Locale-","title":"How to format range of two LocalDate variables in Java?","body":"<p>You can use the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/spi/CalendarNameProvider.html#getDisplayName-java.lang.String-int-int-int-java.util.Locale-\" rel=\"nofollow noreferrer\"><code>.getDisplayName(...)</code></a> method directly on the <code>getMonth()</code> method to get the desired localized month name format. In your case, here is an example code:</p>\n<pre><code>startOfWeek.getMonth().getDisplayName(TextStyle.SHORT_STANDALONE,Locale.getDefault())\nendOfWeek.getMonth().getDisplayName(TextStyle.SHORT_STANDALONE, Locale.getDefault())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1651437943,"creation_date":1651437943,"answer_id":72080299,"question_id":72080039,"body_markdown":"You could use a `DateTimeFormatter` to get a formated month string\r\n\r\n    DateTimeFormatter month  = DateTimeFormatter.ofPattern(&quot;MMM&quot;);\r\n\r\nIn addition to that I would do the task with 3 `DateTimeFormatter`s and the `YearMonth` and `Year` classes from `java.time` API which could make your if else blocks a bit more readable:\r\n\r\n    import java.time.LocalDate;\r\n    import java.time.Year;\r\n    import java.time.YearMonth;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.util.List;\r\n\r\n    ....\r\n\r\n\r\n    static String formattedRange (LocalDate start, LocalDate end){\r\n        DateTimeFormatter onlyDate      = DateTimeFormatter.ofPattern(&quot;d&quot;);\r\n        DateTimeFormatter dateAndMonth  = DateTimeFormatter.ofPattern(&quot;d MMM&quot;);\r\n        DateTimeFormatter dateMonthYear = DateTimeFormatter.ofPattern(&quot;d MMM yyyy&quot;);\r\n\r\n        StringBuilder result = new StringBuilder();\r\n        if (YearMonth.from(start).equals(YearMonth.from(end))){\r\n            result.append(onlyDate.format(start)).append(&quot; - &quot;)\r\n                  .append(dateMonthYear.format(end));\r\n        }\r\n        else if (Year.from(start).equals(Year.from(end))){\r\n            result.append(dateAndMonth.format(start)).append(&quot; - &quot;)\r\n                  .append(dateMonthYear.format(end));\r\n        }\r\n        else {\r\n            result.append(dateMonthYear.format(start)).append(&quot; - &quot;)\r\n                  .append(dateMonthYear.format(end));\r\n        }\r\n        return result.toString();\r\n    }","title":"How to format range of two LocalDate variables in Java?","body":"<p>You could use a <code>DateTimeFormatter</code> to get a formated month string</p>\n<pre><code>DateTimeFormatter month  = DateTimeFormatter.ofPattern(&quot;MMM&quot;);\n</code></pre>\n<p>In addition to that I would do the task with 3 <code>DateTimeFormatter</code>s and the <code>YearMonth</code> and <code>Year</code> classes from <code>java.time</code> API which could make your if else blocks a bit more readable:</p>\n<pre><code>import java.time.LocalDate;\nimport java.time.Year;\nimport java.time.YearMonth;\nimport java.time.format.DateTimeFormatter;\nimport java.util.List;\n\n....\n\n\nstatic String formattedRange (LocalDate start, LocalDate end){\n    DateTimeFormatter onlyDate      = DateTimeFormatter.ofPattern(&quot;d&quot;);\n    DateTimeFormatter dateAndMonth  = DateTimeFormatter.ofPattern(&quot;d MMM&quot;);\n    DateTimeFormatter dateMonthYear = DateTimeFormatter.ofPattern(&quot;d MMM yyyy&quot;);\n\n    StringBuilder result = new StringBuilder();\n    if (YearMonth.from(start).equals(YearMonth.from(end))){\n        result.append(onlyDate.format(start)).append(&quot; - &quot;)\n              .append(dateMonthYear.format(end));\n    }\n    else if (Year.from(start).equals(Year.from(end))){\n        result.append(dateAndMonth.format(start)).append(&quot; - &quot;)\n              .append(dateMonthYear.format(end));\n    }\n    else {\n        result.append(dateMonthYear.format(start)).append(&quot; - &quot;)\n              .append(dateMonthYear.format(end));\n    }\n    return result.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1651451903,"creation_date":1651451903,"answer_id":72081390,"question_id":72080039,"body_markdown":"I would just use a [Formatter](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/Formatter.html) string:\r\n\r\n    String format;\r\n    if (startOfWeek.getYear() != endOfWeek.getYear()) {\r\n        format = &quot;%te %&lt;tb %&lt;tY - %te %&lt;tb %&lt;tY&quot;;\r\n    } else if (startOfWeek.getMonth() != endOfWeek.getMonth()) {\r\n        format = &quot;%te %&lt;tb - %te %&lt;tb %&lt;tY&quot;;\r\n    } else {\r\n        format = &quot;%te - %te %&lt;tb %&lt;tY&quot;;\r\n    }\r\n\r\n    return String.format(format, startOfWeek, endOfWeek);\r\n","title":"How to format range of two LocalDate variables in Java?","body":"<p>I would just use a <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/Formatter.html\" rel=\"nofollow noreferrer\">Formatter</a> string:</p>\n<pre><code>String format;\nif (startOfWeek.getYear() != endOfWeek.getYear()) {\n    format = &quot;%te %&lt;tb %&lt;tY - %te %&lt;tb %&lt;tY&quot;;\n} else if (startOfWeek.getMonth() != endOfWeek.getMonth()) {\n    format = &quot;%te %&lt;tb - %te %&lt;tb %&lt;tY&quot;;\n} else {\n    format = &quot;%te - %te %&lt;tb %&lt;tY&quot;;\n}\n\nreturn String.format(format, startOfWeek, endOfWeek);\n</code></pre>\n"}],"owner":{"account_id":25164450,"reputation":23,"user_id":19010272,"display_name":"Lenar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72080299,"answer_count":3,"score":2,"last_activity_date":1651451903,"creation_date":1651435458,"question_id":72080039,"body_markdown":"I&#39;m familiar with the DateTime Formatter in regards to applying LocalDate to a single variable, but don&#39;t know how to handle the following situation:\r\nI&#39;ve two LocalDate variables, for example startOfWeek and endOfWeek.\r\nAnd I need to create String result with following rules:\r\n1) if startOfWeek and endOfWeek have same month and year, the result should be like\r\n **3 - 9 Jan 2021** (just an example with format)\r\n2) if startOfWeek and endOfWeek have not same month, the result should be like **31 Oct - 6 Nov 2021**\r\n3) if startOfWeek and endOfWeek have not same year, the result should be like **27 Dec 2020 - 2 Jan 2021**\r\n\r\nI didn&#39;t find how to apply DateTime Formatter working with two of more LocalDate variables, so I&#39;ve made this way:\r\n\r\n```\r\nif ((startOfWeek.getYear() != endOfWeek.getYear())){\r\n                result.append(startOfWeek.getDayOfMonth() + &quot; &quot; + startOfWeek.getMonth() + &quot; &quot; + startOfWeek.getYear() +\r\n                        &quot; - &quot; + endOfWeek.getDayOfMonth() + &quot; &quot; + endOfWeek.getMonth() + &quot; &quot; + startOfWeek.getYear());\r\n                return  result.toString();\r\n            } else if ((startOfWeek.getMonth() != endOfWeek.getMonth())) {\r\n                result.append(startOfWeek.getDayOfMonth() + &quot; &quot; + startOfWeek.getMonth() +\r\n                        &quot; - &quot; + endOfWeek.getDayOfMonth() + &quot; &quot; + endOfWeek.getMonth() + &quot; &quot; + startOfWeek.getYear());\r\n                return  result.toString();\r\n            } else {\r\n                result.append(startOfWeek.getDayOfMonth() +\r\n                        &quot; - &quot; + endOfWeek.getDayOfMonth() + &quot; &quot; + startOfWeek.getMonth() + &quot; &quot; + startOfWeek.getYear());\r\n                return  result.toString();\r\n```\r\n\r\nBut it return information about months in default format, for example SEPTEMBER\r\n\r\n[Full example:][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xrtj6.png\r\n\r\nDoes anybody now how to fix month data format or how to use DateTime Formatter with two LocalDate variables at one time?\r\nThank you in advance for your help.","title":"How to format range of two LocalDate variables in Java?","body":"<p>I'm familiar with the DateTime Formatter in regards to applying LocalDate to a single variable, but don't know how to handle the following situation:\nI've two LocalDate variables, for example startOfWeek and endOfWeek.\nAnd I need to create String result with following rules:</p>\n<ol>\n<li>if startOfWeek and endOfWeek have same month and year, the result should be like\n<strong>3 - 9 Jan 2021</strong> (just an example with format)</li>\n<li>if startOfWeek and endOfWeek have not same month, the result should be like <strong>31 Oct - 6 Nov 2021</strong></li>\n<li>if startOfWeek and endOfWeek have not same year, the result should be like <strong>27 Dec 2020 - 2 Jan 2021</strong></li>\n</ol>\n<p>I didn't find how to apply DateTime Formatter working with two of more LocalDate variables, so I've made this way:</p>\n<pre><code>if ((startOfWeek.getYear() != endOfWeek.getYear())){\n                result.append(startOfWeek.getDayOfMonth() + &quot; &quot; + startOfWeek.getMonth() + &quot; &quot; + startOfWeek.getYear() +\n                        &quot; - &quot; + endOfWeek.getDayOfMonth() + &quot; &quot; + endOfWeek.getMonth() + &quot; &quot; + startOfWeek.getYear());\n                return  result.toString();\n            } else if ((startOfWeek.getMonth() != endOfWeek.getMonth())) {\n                result.append(startOfWeek.getDayOfMonth() + &quot; &quot; + startOfWeek.getMonth() +\n                        &quot; - &quot; + endOfWeek.getDayOfMonth() + &quot; &quot; + endOfWeek.getMonth() + &quot; &quot; + startOfWeek.getYear());\n                return  result.toString();\n            } else {\n                result.append(startOfWeek.getDayOfMonth() +\n                        &quot; - &quot; + endOfWeek.getDayOfMonth() + &quot; &quot; + startOfWeek.getMonth() + &quot; &quot; + startOfWeek.getYear());\n                return  result.toString();\n</code></pre>\n<p>But it return information about months in default format, for example SEPTEMBER</p>\n<p><a href=\"https://i.stack.imgur.com/xrtj6.png\" rel=\"nofollow noreferrer\">Full example:</a></p>\n<p>Does anybody now how to fix month data format or how to use DateTime Formatter with two LocalDate variables at one time?\nThank you in advance for your help.</p>\n"},{"tags":["java","maven","java-11","maven-toolchains-plugin"],"answers":[{"tags":[],"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1543679866,"creation_date":1543674217,"answer_id":53571720,"question_id":53571709,"body_markdown":"Changing the jdk version should fix the problem mostly. Replace\r\n\r\n    &lt;version&gt;1.11&lt;/version&gt;\r\n\r\nwith\r\n\r\n    &lt;version&gt;11&lt;/version&gt;\r\n\r\nDo ensure though that your maven is configured with JDK-11 using the command `mvn -version` and confirming the Java version there. You can also verify the `toolchains.xml` JDK configured as well.\r\n\r\n----------\r\n\r\n\r\nIn case you&#39;re trying to compile using different versions of the compiler, you need to ensure executions under the `maven-compiler-plugin` as:\r\n\r\n    &lt;executions&gt;\r\n        &lt;execution&gt;\r\n            &lt;id&gt;java11&lt;/id&gt;\r\n            &lt;phase&gt;none&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;compile&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n                &lt;release&gt;11&lt;/release&gt;\r\n                &lt;jdkToolchain&gt;\r\n                    &lt;version&gt;11&lt;/version&gt;\r\n                &lt;/jdkToolchain&gt;\r\n                &lt;compileSourceRoots&gt;\r\n                    &lt;compileSourceRoot&gt;${project.basedir}/src/main/java11&lt;/compileSourceRoot&gt;\r\n                &lt;/compileSourceRoots&gt;\r\n                &lt;outputDirectory&gt;${project.build.outputDirectory}/META-INF/versions/11&lt;/outputDirectory&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n\r\nHere is the [sample `pom.xml`](https://github.com/meterware/multirelease-parent/blob/master/pom.xml) referred for the above.","title":"maven with JDK11: javac: invalid flag: --release","body":"<p>Changing the jdk version should fix the problem mostly. Replace</p>\n\n<pre><code>&lt;version&gt;1.11&lt;/version&gt;\n</code></pre>\n\n<p>with</p>\n\n<pre><code>&lt;version&gt;11&lt;/version&gt;\n</code></pre>\n\n<p>Do ensure though that your maven is configured with JDK-11 using the command <code>mvn -version</code> and confirming the Java version there. You can also verify the <code>toolchains.xml</code> JDK configured as well.</p>\n\n<hr>\n\n<p>In case you're trying to compile using different versions of the compiler, you need to ensure executions under the <code>maven-compiler-plugin</code> as:</p>\n\n<pre><code>&lt;executions&gt;\n    &lt;execution&gt;\n        &lt;id&gt;java11&lt;/id&gt;\n        &lt;phase&gt;none&lt;/phase&gt;\n        &lt;goals&gt;\n            &lt;goal&gt;compile&lt;/goal&gt;\n        &lt;/goals&gt;\n        &lt;configuration&gt;\n            &lt;release&gt;11&lt;/release&gt;\n            &lt;jdkToolchain&gt;\n                &lt;version&gt;11&lt;/version&gt;\n            &lt;/jdkToolchain&gt;\n            &lt;compileSourceRoots&gt;\n                &lt;compileSourceRoot&gt;${project.basedir}/src/main/java11&lt;/compileSourceRoot&gt;\n            &lt;/compileSourceRoots&gt;\n            &lt;outputDirectory&gt;${project.build.outputDirectory}/META-INF/versions/11&lt;/outputDirectory&gt;\n        &lt;/configuration&gt;\n    &lt;/execution&gt;\n&lt;/executions&gt;\n</code></pre>\n\n<p>Here is the <a href=\"https://github.com/meterware/multirelease-parent/blob/master/pom.xml\" rel=\"nofollow noreferrer\">sample <code>pom.xml</code></a> referred for the above.</p>\n"},{"tags":[],"owner":{"account_id":3357240,"reputation":871,"user_id":4244288,"accept_rate":80,"display_name":"Hengrui Jiang"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1543678785,"creation_date":1543678785,"answer_id":53572388,"question_id":53571709,"body_markdown":"As I found out, the configuration is just fine. The problem was that `jdkHome` in `toolchains.xml` was pointing to the `\\jdk-11.0.1\\bin` direction instead of `\\jdk-11.0.1` directly..... Using `&lt;jdkHome&gt;C:\\Program Files\\Java\\jdk-11.0.1&lt;/jdkHome&gt;` solves the problem..","title":"maven with JDK11: javac: invalid flag: --release","body":"<p>As I found out, the configuration is just fine. The problem was that <code>jdkHome</code> in <code>toolchains.xml</code> was pointing to the <code>\\jdk-11.0.1\\bin</code> direction instead of <code>\\jdk-11.0.1</code> directly..... Using <code>&lt;jdkHome&gt;C:\\Program Files\\Java\\jdk-11.0.1&lt;/jdkHome&gt;</code> solves the problem..</p>\n"}],"owner":{"account_id":3357240,"reputation":871,"user_id":4244288,"accept_rate":80,"display_name":"Hengrui Jiang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27082,"favorite_count":0,"down_vote_count":2,"up_vote_count":11,"accepted_answer_id":53572388,"answer_count":2,"score":9,"last_activity_date":1651451390,"creation_date":1543674132,"question_id":53571709,"body_markdown":"I&#39;m trying to set up a simple maven project with java 11. As I want to keep JAVA_HOME to be version 8, I&#39;m using `maven-toolchains-plugin` to make maven use jdk11 for this project.\r\n\r\nWhile maven successfully finds a matching toolchain for jdk-11.0.1, I keep getting &quot; javac: invalid flag: --release&quot;. What am I doing wrong?\r\n\r\nHere are the plugin configurations:\r\n\r\n     &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.8.0&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;release&gt;11&lt;/release&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-toolchains-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;1.1&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;toolchain&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n        &lt;configuration&gt;\r\n          &lt;toolchains&gt;\r\n            &lt;jdk&gt;\r\n              &lt;version&gt;11&lt;/version&gt;\r\n            &lt;/jdk&gt;\r\n          &lt;/toolchains&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n\r\nThe toolchain is defined as:\r\n\r\n     &lt;toolchain&gt;\r\n       &lt;type&gt;jdk&lt;/type&gt;\r\n       &lt;provides&gt;\r\n         &lt;version&gt;11&lt;/version&gt;\r\n         &lt;id&gt;JavaSE-1.11&lt;/id&gt;\r\n       &lt;/provides&gt;\r\n       &lt;configuration&gt;\r\n         &lt;jdkHome&gt;C:\\Program Files\\Java\\jdk-11.0.1\\bin&lt;/jdkHome&gt;\r\n       &lt;/configuration&gt;\r\n    &lt;toolchain&gt;","title":"maven with JDK11: javac: invalid flag: --release","body":"<p>I'm trying to set up a simple maven project with java 11. As I want to keep JAVA_HOME to be version 8, I'm using <code>maven-toolchains-plugin</code> to make maven use jdk11 for this project.</p>\n\n<p>While maven successfully finds a matching toolchain for jdk-11.0.1, I keep getting \" javac: invalid flag: --release\". What am I doing wrong?</p>\n\n<p>Here are the plugin configurations:</p>\n\n<pre><code> &lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.8.0&lt;/version&gt;\n    &lt;configuration&gt;\n      &lt;release&gt;11&lt;/release&gt;\n    &lt;/configuration&gt;\n  &lt;/plugin&gt;\n  &lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-toolchains-plugin&lt;/artifactId&gt;\n    &lt;version&gt;1.1&lt;/version&gt;\n    &lt;executions&gt;\n      &lt;execution&gt;\n        &lt;goals&gt;\n          &lt;goal&gt;toolchain&lt;/goal&gt;\n        &lt;/goals&gt;\n      &lt;/execution&gt;\n    &lt;/executions&gt;\n    &lt;configuration&gt;\n      &lt;toolchains&gt;\n        &lt;jdk&gt;\n          &lt;version&gt;11&lt;/version&gt;\n        &lt;/jdk&gt;\n      &lt;/toolchains&gt;\n    &lt;/configuration&gt;\n  &lt;/plugin&gt;\n</code></pre>\n\n<p>The toolchain is defined as:</p>\n\n<pre><code> &lt;toolchain&gt;\n   &lt;type&gt;jdk&lt;/type&gt;\n   &lt;provides&gt;\n     &lt;version&gt;11&lt;/version&gt;\n     &lt;id&gt;JavaSE-1.11&lt;/id&gt;\n   &lt;/provides&gt;\n   &lt;configuration&gt;\n     &lt;jdkHome&gt;C:\\Program Files\\Java\\jdk-11.0.1\\bin&lt;/jdkHome&gt;\n   &lt;/configuration&gt;\n&lt;toolchain&gt;\n</code></pre>\n"},{"tags":["java","maven","multi-module","jenv","maven-toolchains-plugin"],"comments":[{"owner":{"account_id":47977,"reputation":1975,"user_id":142321,"accept_rate":68,"display_name":"Beta033"},"score":3,"creation_date":1550699326,"post_id":54795154,"comment_id":96369565,"body_markdown":"what&#39;s wrong with just compiling both projects with java 11 and moving on?","body":"what&#39;s wrong with just compiling both projects with java 11 and moving on?"},{"owner":{"account_id":12321033,"reputation":8782,"user_id":8990329,"accept_rate":70,"display_name":"Some Name"},"score":0,"creation_date":1550700323,"post_id":54795154,"comment_id":96369945,"body_markdown":"You may not migrate to jdk11 since it may well be incompatible. E.g. a class compiled with newer version may use instructions that are not available on newer jvm.","body":"You may not migrate to jdk11 since it may well be incompatible. E.g. a class compiled with newer version may use instructions that are not available on newer jvm."},{"owner":{"account_id":2425257,"reputation":5090,"user_id":2117355,"accept_rate":71,"display_name":"Mark"},"score":0,"creation_date":1550705145,"post_id":54795154,"comment_id":96371530,"body_markdown":"I cannot use Java 11 for project foo; it builds a drop-in to a third party app that runs only with Java 8","body":"I cannot use Java 11 for project foo; it builds a drop-in to a third party app that runs only with Java 8"},{"owner":{"account_id":2425257,"reputation":5090,"user_id":2117355,"accept_rate":71,"display_name":"Mark"},"score":0,"creation_date":1550747600,"post_id":54795154,"comment_id":96387674,"body_markdown":"Though it&#39;s related, it&#39;s is not a duplicate of Compile Maven Module with Different Java Version.  I&#39;m asking specifically about leveraging Jenv to solve this problem.","body":"Though it&#39;s related, it&#39;s is not a duplicate of Compile Maven Module with Different Java Version.  I&#39;m asking specifically about leveraging Jenv to solve this problem."},{"owner":{"account_id":3054958,"reputation":14923,"user_id":2588800,"accept_rate":100,"display_name":"Svetlin Zarev"},"score":1,"creation_date":1550748000,"post_id":54795154,"comment_id":96387934,"body_markdown":"You can use java 11 to compile all projects, but you can set compatibility level for each sub module using the maven-compiler plugin -&gt; just set the `source` and `target` to the required java version such as 7,8, etc and the java 11 compiler will produce java 7,8,etc compatible binaries.","body":"You can use java 11 to compile all projects, but you can set compatibility level for each sub module using the maven-compiler plugin -&gt; just set the <code>source</code> and <code>target</code> to the required java version such as 7,8, etc and the java 11 compiler will produce java 7,8,etc compatible binaries."},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1550762474,"post_id":54795154,"comment_id":96397703,"body_markdown":"@Svetlin the source/target compatibility level is useless when the project uses classes from the JRE that has been removed since Java 8 (e.g. java.xml.bind).","body":"@Svetlin the source/target compatibility level is useless when the project uses classes from the JRE that has been removed since Java 8 (e.g. java.xml.bind)."},{"owner":{"account_id":3054958,"reputation":14923,"user_id":2588800,"accept_rate":100,"display_name":"Svetlin Zarev"},"score":0,"creation_date":1550820352,"post_id":54795154,"comment_id":96418843,"body_markdown":"If he wishes to compile using older java, then he intends to run it on such, so I see no issue here. Also the removed APIs can be added as maven dependencies if necessary","body":"If he wishes to compile using older java, then he intends to run it on such, so I see no issue here. Also the removed APIs can be added as maven dependencies if necessary"}],"owner":{"account_id":2425257,"reputation":5090,"user_id":2117355,"accept_rate":71,"display_name":"Mark"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"closed_date":1550824444,"answer_count":0,"score":4,"last_activity_date":1651451353,"creation_date":1550696350,"question_id":54795154,"body_markdown":"Suppose I have a multi-module Maven project, with two modules:\r\n\r\n* `foo`; requires Java 1.8 to compile\r\n* `bar`; requires Java 11 to compile\r\n\r\nI&#39;d like to be able to build these by running `mvn clean install` from the parent directory and have them compile using the appropriate Java versions.\r\n\r\nLet&#39;s be clear: upgrading both to Java 11 is a non-starter.  Why:\r\n\r\n* I want to upgrade application `bar` to Java 11 to get the latest features and improvements of the Java language.  `bar` is a standalone Spring Boot application and I am able to do that.\r\n* Application `foo` is a JBoss deployment module plugin.  It&#39;s plugged in to a third-party app that at present is on Java 8.  I cannot drop a module compiled in Java 11 into an app running in Java 8.\r\n\r\nI see that there is a way to do this using the [maven-toolchains-plugin][1] as described in [this post][2].  That could work.  But I use `jenv` to manage versions, and it&#39;s possible to set the Java version per directory (using `jenv local`).  I&#39;m wondering if there is a way to use Jenv to do this instead of the toolchains plugin.  It does just about everything I need; I just need to figure out how to get Maven to read the Java version from the jenv config file in the directory.\r\n\r\n\r\n  [1]: http://maven.apache.org/guides/mini/guide-using-toolchains.html\r\n  [2]: https://stackoverflow.com/questions/12414209/compile-maven-module-with-different-java-version","title":"How do I compile multi module Maven project where modules have different Java versions? Possibly using Jenv?","body":"<p>Suppose I have a multi-module Maven project, with two modules:</p>\n\n<ul>\n<li><code>foo</code>; requires Java 1.8 to compile</li>\n<li><code>bar</code>; requires Java 11 to compile</li>\n</ul>\n\n<p>I'd like to be able to build these by running <code>mvn clean install</code> from the parent directory and have them compile using the appropriate Java versions.</p>\n\n<p>Let's be clear: upgrading both to Java 11 is a non-starter.  Why:</p>\n\n<ul>\n<li>I want to upgrade application <code>bar</code> to Java 11 to get the latest features and improvements of the Java language.  <code>bar</code> is a standalone Spring Boot application and I am able to do that.</li>\n<li>Application <code>foo</code> is a JBoss deployment module plugin.  It's plugged in to a third-party app that at present is on Java 8.  I cannot drop a module compiled in Java 11 into an app running in Java 8.</li>\n</ul>\n\n<p>I see that there is a way to do this using the <a href=\"http://maven.apache.org/guides/mini/guide-using-toolchains.html\" rel=\"nofollow noreferrer\">maven-toolchains-plugin</a> as described in <a href=\"https://stackoverflow.com/questions/12414209/compile-maven-module-with-different-java-version\">this post</a>.  That could work.  But I use <code>jenv</code> to manage versions, and it's possible to set the Java version per directory (using <code>jenv local</code>).  I'm wondering if there is a way to use Jenv to do this instead of the toolchains plugin.  It does just about everything I need; I just need to figure out how to get Maven to read the Java version from the jenv config file in the directory.</p>\n"},{"tags":["java","maven","maven-toolchains-plugin"],"answers":[{"tags":[],"owner":{"account_id":1936546,"reputation":133675,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1450102273,"creation_date":1450102273,"answer_id":34269094,"question_id":34268977,"body_markdown":"There is absolutely nothing against doing that. However, if you have a module that needs compiling with Java 8, you need to make sure Maven is also launched with Java 8.\r\n\r\nThen, you need to override the configuration of the `maven-compiler-plugin` for each module and define the correct Java version (`&lt;source&gt;` and `&lt;target&gt;` properties).\r\n\r\nAfter that, you can use a Java 7 dependency in a Java 8 project without any problems.","title":"Maven project with modules designed to run on different JDK","body":"<p>There is absolutely nothing against doing that. However, if you have a module that needs compiling with Java 8, you need to make sure Maven is also launched with Java 8.</p>\n\n<p>Then, you need to override the configuration of the <code>maven-compiler-plugin</code> for each module and define the correct Java version (<code>&lt;source&gt;</code> and <code>&lt;target&gt;</code> properties).</p>\n\n<p>After that, you can use a Java 7 dependency in a Java 8 project without any problems.</p>\n"},{"tags":[],"owner":{"account_id":238157,"reputation":37489,"user_id":506855,"accept_rate":47,"display_name":"Puce"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1450102842,"creation_date":1450102842,"answer_id":34269276,"question_id":34268977,"body_markdown":"You can use the toolchains plugin:\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-toolchains-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;validate&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;toolchain&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;toolchains&gt;\r\n                        &lt;jdk&gt;\r\n                            &lt;version&gt;${java.min.version}&lt;/version&gt;\r\n                            &lt;vendor&gt;oracle&lt;/vendor&gt;\r\n                        &lt;/jdk&gt;\r\n                    &lt;/toolchains&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\nYou need to have a toolchains file which configures the toolchains you want to use: https://maven.apache.org/plugins/maven-toolchains-plugin/toolchains/jdk.html\r\n\r\nYou also need to specify the java version in the compiler plugin etc.","title":"Maven project with modules designed to run on different JDK","body":"<p>You can use the toolchains plugin:</p>\n\n<pre><code>        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-toolchains-plugin&lt;/artifactId&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;validate&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;toolchain&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n            &lt;configuration&gt;\n                &lt;toolchains&gt;\n                    &lt;jdk&gt;\n                        &lt;version&gt;${java.min.version}&lt;/version&gt;\n                        &lt;vendor&gt;oracle&lt;/vendor&gt;\n                    &lt;/jdk&gt;\n                &lt;/toolchains&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n</code></pre>\n\n<p>You need to have a toolchains file which configures the toolchains you want to use: <a href=\"https://maven.apache.org/plugins/maven-toolchains-plugin/toolchains/jdk.html\" rel=\"nofollow\">https://maven.apache.org/plugins/maven-toolchains-plugin/toolchains/jdk.html</a></p>\n\n<p>You also need to specify the java version in the compiler plugin etc.</p>\n"}],"owner":{"account_id":2251953,"reputation":13178,"user_id":1983997,"accept_rate":78,"display_name":"mat_boy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1450108146,"accepted_answer_id":34269276,"answer_count":2,"score":2,"last_activity_date":1651451302,"creation_date":1450101919,"question_id":34268977,"body_markdown":"I have a project with one main module that use `pom` packaging and several submodules that are defined to use `jar` packaging. I want to have some of them ready to run on JDK7 and other for JDK8 (and eventually embed those for JDK7 as dependencies in the JDK8 counterpart). \r\n\r\nThe goal is to release the submodules as independent jars (e.g. on Maven Central)\r\n\r\nIs this approach correct? Any drawback?","title":"Maven project with modules designed to run on different JDK","body":"<p>I have a project with one main module that use <code>pom</code> packaging and several submodules that are defined to use <code>jar</code> packaging. I want to have some of them ready to run on JDK7 and other for JDK8 (and eventually embed those for JDK7 as dependencies in the JDK8 counterpart). </p>\n\n<p>The goal is to release the submodules as independent jars (e.g. on Maven Central)</p>\n\n<p>Is this approach correct? Any drawback?</p>\n"},{"tags":["java","maven","build","pom.xml","maven-toolchains-plugin"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1477983623,"post_id":40354942,"comment_id":67964363,"body_markdown":"I believe that your are interpreting the error message in the wrong way. To me it seems that the project you are trying to build requires a JDK 1.6.x to build. To test for this you could edit your toolchains.xml to tell maven to use your JDK 1.8 as a toolchain for JDK 1.6","body":"I believe that your are interpreting the error message in the wrong way. To me it seems that the project you are trying to build requires a JDK 1.6.x to build. To test for this you could edit your toolchains.xml to tell maven to use your JDK 1.8 as a toolchain for JDK 1.6"},{"owner":{"account_id":1936546,"reputation":133675,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"score":0,"creation_date":1478001561,"post_id":40354942,"comment_id":67972364,"body_markdown":"Can you post your `~/.m2/toolchains.xml` file?","body":"Can you post your <code>~&#47;.m2&#47;toolchains.xml</code> file?"},{"owner":{"account_id":4648483,"reputation":988,"user_id":3765981,"accept_rate":75,"display_name":"haeminish"},"score":0,"creation_date":1478045166,"post_id":40354942,"comment_id":67994535,"body_markdown":"How should it be interpreted? Could you explain what that error message is saying?","body":"How should it be interpreted? Could you explain what that error message is saying?"}],"answers":[{"tags":[],"owner":{"account_id":1311194,"reputation":631,"user_id":1259168,"display_name":"gerasoras"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1524653668,"creation_date":1519897295,"answer_id":49046737,"question_id":40354942,"body_markdown":"Your application is expected to be built with `JDK 1.6` and to locate it Maven is looking for definition of `[ vendor=&#39;sun&#39; version=&#39;1.6&#39; ]` within `toolchains.xml` in your `{home}/.m2/` directory (see eg [this maven guide](https://maven.apache.org/guides/mini/guide-using-toolchains.html)). You just need to point to it and all should be good.\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF8&quot;?&gt;\r\n    &lt;toolchains&gt;\r\n      &lt;toolchain&gt;\r\n        &lt;type&gt;jdk&lt;/type&gt;\r\n        &lt;provides&gt;\r\n          &lt;version&gt;1.6&lt;/version&gt;\r\n          &lt;vendor&gt;sun&lt;/vendor&gt;\r\n        &lt;/provides&gt;\r\n        &lt;configuration&gt;\r\n           &lt;jdkHome&gt;/Library/Java/JavaVirtualMachines/jdk1.6.X_XX.jdk/Contents/Home&lt;/jdkHome&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/toolchain&gt;\r\n    &lt;/toolchains&gt;","title":"Maven build error after setting toolchain right","body":"<p>Your application is expected to be built with <code>JDK 1.6</code> and to locate it Maven is looking for definition of <code>[ vendor='sun' version='1.6' ]</code> within <code>toolchains.xml</code> in your <code>{home}/.m2/</code> directory (see eg <a href=\"https://maven.apache.org/guides/mini/guide-using-toolchains.html\" rel=\"noreferrer\">this maven guide</a>). You just need to point to it and all should be good.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF8\"?&gt;\n&lt;toolchains&gt;\n  &lt;toolchain&gt;\n    &lt;type&gt;jdk&lt;/type&gt;\n    &lt;provides&gt;\n      &lt;version&gt;1.6&lt;/version&gt;\n      &lt;vendor&gt;sun&lt;/vendor&gt;\n    &lt;/provides&gt;\n    &lt;configuration&gt;\n       &lt;jdkHome&gt;/Library/Java/JavaVirtualMachines/jdk1.6.X_XX.jdk/Contents/Home&lt;/jdkHome&gt;\n    &lt;/configuration&gt;\n  &lt;/toolchain&gt;\n&lt;/toolchains&gt;\n</code></pre>\n"}],"owner":{"account_id":4648483,"reputation":988,"user_id":3765981,"accept_rate":75,"display_name":"haeminish"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27785,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"answer_count":1,"score":20,"last_activity_date":1651451166,"creation_date":1477980550,"question_id":40354942,"body_markdown":"I have Java version 1.8.111 installed and the initial error message after running `mvn3 install` was as below. \r\n\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-toolchains-plugin:1.1:toolchain (default) on project myfile: Cannot find matching toolchain definitions for the following toolchain types:\r\n    [ERROR] jdk [ vendor=&#39;sun&#39; version=&#39;1.6&#39; ]\r\n    [ERROR] Please make sure you define the required toolchains in your ~/.m2/toolchains.xml file.\r\n\r\nTo resolved this, I&#39;ve updated my toolchains.xml to version 1.8.111 but still getting the same error. I&#39;ve also tried after running `mvn3 clean` and successfully cleaned but still getting the same error.\r\n\r\nCould anyone pinpoint where this version 1.6 is fetched from?\r\nI checked JAVA_HOME already, it&#39;s set to 1.8.\r\n\r\nCan anyone explain how maven calls Java version? \r\n\r\nAppreciate your help.\r\n\r\nBelow is my toolchains.xml\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dHU8C.png","title":"Maven build error after setting toolchain right","body":"<p>I have Java version 1.8.111 installed and the initial error message after running <code>mvn3 install</code> was as below. </p>\n\n<pre><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-toolchains-plugin:1.1:toolchain (default) on project myfile: Cannot find matching toolchain definitions for the following toolchain types:\n[ERROR] jdk [ vendor='sun' version='1.6' ]\n[ERROR] Please make sure you define the required toolchains in your ~/.m2/toolchains.xml file.\n</code></pre>\n\n<p>To resolved this, I've updated my toolchains.xml to version 1.8.111 but still getting the same error. I've also tried after running <code>mvn3 clean</code> and successfully cleaned but still getting the same error.</p>\n\n<p>Could anyone pinpoint where this version 1.6 is fetched from?\nI checked JAVA_HOME already, it's set to 1.8.</p>\n\n<p>Can anyone explain how maven calls Java version? </p>\n\n<p>Appreciate your help.</p>\n\n<p>Below is my toolchains.xml\n<a href=\"https://i.stack.imgur.com/dHU8C.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/dHU8C.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","maven","maven-toolchains-plugin"],"answers":[{"tags":[],"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1518178599,"creation_date":1518178599,"answer_id":48705652,"question_id":48705178,"body_markdown":"1. You can activate/deactivate certain parts of a pom using Maven profiles.\r\n2. Wouldn&#39;t it be better to provide _two different versions_ of your library, e.g. with version numbers 1.0.0-JDK7 and 1.0.0-JDK9. Then the consumer of your library can choose the right one for their purposes.","title":"Ignore maven execution block which uses toolchain if ~/.m2/toolchains.xml is not present","body":"<ol>\n<li>You can activate/deactivate certain parts of a pom using Maven profiles.</li>\n<li>Wouldn't it be better to provide <em>two different versions</em> of your library, e.g. with version numbers 1.0.0-JDK7 and 1.0.0-JDK9. Then the consumer of your library can choose the right one for their purposes.</li>\n</ol>\n"}],"owner":{"account_id":12912858,"reputation":36,"user_id":9338052,"display_name":"LodrKumquat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":539,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1651451120,"creation_date":1518177012,"question_id":48705178,"body_markdown":"I&#39;m working on an open-source library which must work correctly on jre7. Since java 9 has been released, we decided to provide our modules with module-info.java files so that users can make use of them if they prefer to use the library with sdk 9 on jre9 (in this case they&#39;ll need to manually put in pom.xml this piece of code: \r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.7.0&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;source&gt;9&lt;/source&gt;\r\n          &lt;target&gt;9&lt;/target&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n\r\nI&#39;ve tried to implement the solution provided by maven (https://maven.apache.org/plugins/maven-compiler-plugin/examples/module-info.html) to compile the entire code with jdk7 and to compile only module-info.java files with jdk9. Here is a piece of pom.xml\r\n  \r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.7.0&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;default-compile&lt;/id&gt;\r\n            &lt;configuration&gt;\r\n              &lt;!-- compile everything to ensure module-info contains right entries --&gt;\r\n              &lt;!-- required when JAVA_HOME is JDK 8 or below --&gt;\r\n              &lt;jdkToolchain&gt;\r\n                &lt;version&gt;9&lt;/version&gt;\r\n              &lt;/jdkToolchain&gt;\r\n              &lt;release&gt;9&lt;/release&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;base-compile&lt;/id&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;compile&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;!-- recompile everything for target VM except the module-info.java --&gt;\r\n            &lt;configuration&gt;\r\n              &lt;excludes&gt;\r\n                &lt;exclude&gt;module-info.java&lt;/exclude&gt;\r\n              &lt;/excludes&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n        &lt;!-- defaults for compile and testCompile --&gt;\r\n        &lt;configuration&gt;\r\n          &lt;!-- jdkToolchain required when JAVA_HOME is JDK 9 or above --&gt;\r\n          &lt;jdkToolchain&gt;\r\n            &lt;version&gt;[1.7,9)&lt;/version&gt;\r\n          &lt;/jdkToolchain&gt;\r\n          &lt;source&gt;1.7&lt;/source&gt;\r\n          &lt;target&gt;1.7&lt;/target&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-toolchains-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;1.1&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;toolchain&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n        &lt;configuration&gt;\r\n          &lt;toolchains&gt;\r\n            &lt;jdk&gt;\r\n              &lt;version&gt;9&lt;/version&gt;\r\n            &lt;/jdk&gt;\r\n          &lt;/toolchains&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\nAnd I&#39;ve properly configured ~/.m2/toolchains.xml file. It works perfectly well. But the thing is we need to skip the first execution block, where everything&#39;s compiled with jdk9 with module-info, because we don&#39;t want to make our users create toolchains.xml file and set up java 9. So what I am probably looking for is the workaround to skip the following code if toolchains.xml is not present in ~/.m2 directory and only execute the second execution block, in which module-info.java files are ignored. Is that even possible? I realise we can still keep two branches (one private with two executional blocks and use of toolchains and another public, which ignores module-info.java files completely, but it doesn&#39;t seem an elegant solution.\r\n\r\n    &lt;execution&gt;\r\n        &lt;id&gt;default-compile&lt;/id&gt;\r\n        &lt;configuration&gt;\r\n          &lt;!-- compile everything to ensure module-info contains right entries --&gt;\r\n          &lt;!-- required when JAVA_HOME is JDK 8 or below --&gt;\r\n          &lt;jdkToolchain&gt;\r\n            &lt;version&gt;9&lt;/version&gt;\r\n          &lt;/jdkToolchain&gt;\r\n          &lt;release&gt;9&lt;/release&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/execution&gt;","title":"Ignore maven execution block which uses toolchain if ~/.m2/toolchains.xml is not present","body":"<p>I'm working on an open-source library which must work correctly on jre7. Since java 9 has been released, we decided to provide our modules with module-info.java files so that users can make use of them if they prefer to use the library with sdk 9 on jre9 (in this case they'll need to manually put in pom.xml this piece of code: </p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.7.0&lt;/version&gt;\n    &lt;configuration&gt;\n      &lt;source&gt;9&lt;/source&gt;\n      &lt;target&gt;9&lt;/target&gt;\n    &lt;/configuration&gt;\n  &lt;/plugin&gt;\n</code></pre>\n\n<p>I've tried to implement the solution provided by maven (<a href=\"https://maven.apache.org/plugins/maven-compiler-plugin/examples/module-info.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/plugins/maven-compiler-plugin/examples/module-info.html</a>) to compile the entire code with jdk7 and to compile only module-info.java files with jdk9. Here is a piece of pom.xml</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.7.0&lt;/version&gt;\n    &lt;executions&gt;\n      &lt;execution&gt;\n        &lt;id&gt;default-compile&lt;/id&gt;\n        &lt;configuration&gt;\n          &lt;!-- compile everything to ensure module-info contains right entries --&gt;\n          &lt;!-- required when JAVA_HOME is JDK 8 or below --&gt;\n          &lt;jdkToolchain&gt;\n            &lt;version&gt;9&lt;/version&gt;\n          &lt;/jdkToolchain&gt;\n          &lt;release&gt;9&lt;/release&gt;\n        &lt;/configuration&gt;\n      &lt;/execution&gt;\n      &lt;execution&gt;\n        &lt;id&gt;base-compile&lt;/id&gt;\n        &lt;goals&gt;\n          &lt;goal&gt;compile&lt;/goal&gt;\n        &lt;/goals&gt;\n        &lt;!-- recompile everything for target VM except the module-info.java --&gt;\n        &lt;configuration&gt;\n          &lt;excludes&gt;\n            &lt;exclude&gt;module-info.java&lt;/exclude&gt;\n          &lt;/excludes&gt;\n        &lt;/configuration&gt;\n      &lt;/execution&gt;\n    &lt;/executions&gt;\n    &lt;!-- defaults for compile and testCompile --&gt;\n    &lt;configuration&gt;\n      &lt;!-- jdkToolchain required when JAVA_HOME is JDK 9 or above --&gt;\n      &lt;jdkToolchain&gt;\n        &lt;version&gt;[1.7,9)&lt;/version&gt;\n      &lt;/jdkToolchain&gt;\n      &lt;source&gt;1.7&lt;/source&gt;\n      &lt;target&gt;1.7&lt;/target&gt;\n    &lt;/configuration&gt;\n  &lt;/plugin&gt;\n\n  &lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-toolchains-plugin&lt;/artifactId&gt;\n    &lt;version&gt;1.1&lt;/version&gt;\n    &lt;executions&gt;\n      &lt;execution&gt;\n        &lt;goals&gt;\n          &lt;goal&gt;toolchain&lt;/goal&gt;\n        &lt;/goals&gt;\n      &lt;/execution&gt;\n    &lt;/executions&gt;\n    &lt;configuration&gt;\n      &lt;toolchains&gt;\n        &lt;jdk&gt;\n          &lt;version&gt;9&lt;/version&gt;\n        &lt;/jdk&gt;\n      &lt;/toolchains&gt;\n    &lt;/configuration&gt;\n  &lt;/plugin&gt;\n</code></pre>\n\n<p>And I've properly configured ~/.m2/toolchains.xml file. It works perfectly well. But the thing is we need to skip the first execution block, where everything's compiled with jdk9 with module-info, because we don't want to make our users create toolchains.xml file and set up java 9. So what I am probably looking for is the workaround to skip the following code if toolchains.xml is not present in ~/.m2 directory and only execute the second execution block, in which module-info.java files are ignored. Is that even possible? I realise we can still keep two branches (one private with two executional blocks and use of toolchains and another public, which ignores module-info.java files completely, but it doesn't seem an elegant solution.</p>\n\n<pre><code>&lt;execution&gt;\n    &lt;id&gt;default-compile&lt;/id&gt;\n    &lt;configuration&gt;\n      &lt;!-- compile everything to ensure module-info contains right entries --&gt;\n      &lt;!-- required when JAVA_HOME is JDK 8 or below --&gt;\n      &lt;jdkToolchain&gt;\n        &lt;version&gt;9&lt;/version&gt;\n      &lt;/jdkToolchain&gt;\n      &lt;release&gt;9&lt;/release&gt;\n    &lt;/configuration&gt;\n  &lt;/execution&gt;\n</code></pre>\n"},{"tags":["java","xml","eclipse","maven","maven-toolchains-plugin"],"comments":[{"owner":{"account_id":7488719,"reputation":1175,"user_id":5691149,"accept_rate":94,"display_name":"Aravind"},"score":0,"creation_date":1483058204,"post_id":41389096,"comment_id":69980544,"body_markdown":"I tried the below [link](http://stackoverflow.com/questions/8271106/m2e-copy-dependencies-is-not-supported-by-m2e) in stack over flow itself. But no luck.","body":"I tried the below <a href=\"http://stackoverflow.com/questions/8271106/m2e-copy-dependencies-is-not-supported-by-m2e\">link</a> in stack over flow itself. But no luck."}],"answers":[{"tags":[],"owner":{"account_id":7488719,"reputation":1175,"user_id":5691149,"accept_rate":94,"display_name":"Aravind"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1483064601,"creation_date":1483064601,"answer_id":41389796,"question_id":41389096,"body_markdown":"The error got resolved after changing my pom.xml file like below. We need to add the maven life cycle plugin  and then include the metadata information in the &lt;configuration&gt;.\r\n\r\n\r\n   \r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n        \t&lt;plugin&gt;\r\n    \t        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t        &lt;version&gt;3.1&lt;/version&gt;\r\n        \t&lt;/plugin&gt;\r\n        \t&lt;plugin&gt;\r\n        \t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        \t\t&lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n        \t\t&lt;version&gt;2.6&lt;/version&gt;\r\n        \t&lt;/plugin&gt;\r\n        \t&lt;plugin&gt;\r\n    \t\t        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t        &lt;artifactId&gt;maven-toolchains-plugin&lt;/artifactId&gt;\r\n    \t\t        &lt;version&gt;1.1&lt;/version&gt;\r\n    \t\t        &lt;executions&gt;\r\n    \t\t          &lt;execution&gt;\r\n    \t\t            &lt;goals&gt;\r\n    \t\t              &lt;goal&gt;toolchain&lt;/goal&gt;\r\n    \t\t            &lt;/goals&gt;\r\n    \t\t          &lt;/execution&gt;\r\n    \t\t        &lt;/executions&gt;\r\n    \t\t        &lt;configuration&gt;\r\n    \t\t          &lt;toolchains&gt;\r\n    \t\t            &lt;jdk&gt;\r\n    \t\t              &lt;version&gt;1.6&lt;/version&gt;\r\n    \t\t              &lt;vendor&gt;sun&lt;/vendor&gt;\r\n    \t\t            &lt;/jdk&gt;\r\n    \t\t          &lt;/toolchains&gt;\r\n    \t\t        &lt;/configuration&gt;\r\n    \t\t    &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n        &lt;pluginManagement&gt;\r\n          &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n              &lt;groupId&gt;org.eclipse.m2e&lt;/groupId&gt;\r\n              &lt;artifactId&gt;lifecycle-mapping&lt;/artifactId&gt;\r\n              &lt;version&gt;1.0.0&lt;/version&gt;\r\n              &lt;configuration&gt;\r\n              &lt;lifecycleMappingMetadata&gt;\r\n                   &lt;pluginExecutions&gt;\r\n                      &lt;pluginExecution&gt;\r\n                          &lt;pluginExecutionFilter&gt;\r\n                              &lt;groupId&gt;\r\n                                  org.apache.maven.plugins\r\n                              &lt;/groupId&gt;\r\n                              &lt;artifactId&gt;\r\n                                  maven-toolchains-plugin\r\n                              &lt;/artifactId&gt;\r\n                              &lt;versionRange&gt;\r\n                                  [1.1,)\r\n                              &lt;/versionRange&gt;\r\n                              &lt;goals&gt;\r\n                                  &lt;goal&gt;toolchain&lt;/goal&gt;\r\n                              &lt;/goals&gt;\r\n                          &lt;/pluginExecutionFilter&gt;\r\n                          &lt;action&gt;\r\n                              &lt;ignore&gt;&lt;/ignore&gt;\r\n                          &lt;/action&gt;\r\n                      &lt;/pluginExecution&gt;\r\n                  &lt;/pluginExecutions&gt;\r\n                &lt;/lifecycleMappingMetadata&gt;\r\n              &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n          &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n      &lt;/build&gt;","title":"Plugin execution not covered by lifecycle configuration: org.apache.maven.plugins:maven-toolchains-plugin:1.1:toolchain","body":"<p>The error got resolved after changing my pom.xml file like below. We need to add the maven life cycle plugin  and then include the metadata information in the .</p>\n\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.1&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.6&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-toolchains-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.1&lt;/version&gt;\n                &lt;executions&gt;\n                  &lt;execution&gt;\n                    &lt;goals&gt;\n                      &lt;goal&gt;toolchain&lt;/goal&gt;\n                    &lt;/goals&gt;\n                  &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                  &lt;toolchains&gt;\n                    &lt;jdk&gt;\n                      &lt;version&gt;1.6&lt;/version&gt;\n                      &lt;vendor&gt;sun&lt;/vendor&gt;\n                    &lt;/jdk&gt;\n                  &lt;/toolchains&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n    &lt;/plugins&gt;\n    &lt;pluginManagement&gt;\n      &lt;plugins&gt;\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.eclipse.m2e&lt;/groupId&gt;\n          &lt;artifactId&gt;lifecycle-mapping&lt;/artifactId&gt;\n          &lt;version&gt;1.0.0&lt;/version&gt;\n          &lt;configuration&gt;\n          &lt;lifecycleMappingMetadata&gt;\n               &lt;pluginExecutions&gt;\n                  &lt;pluginExecution&gt;\n                      &lt;pluginExecutionFilter&gt;\n                          &lt;groupId&gt;\n                              org.apache.maven.plugins\n                          &lt;/groupId&gt;\n                          &lt;artifactId&gt;\n                              maven-toolchains-plugin\n                          &lt;/artifactId&gt;\n                          &lt;versionRange&gt;\n                              [1.1,)\n                          &lt;/versionRange&gt;\n                          &lt;goals&gt;\n                              &lt;goal&gt;toolchain&lt;/goal&gt;\n                          &lt;/goals&gt;\n                      &lt;/pluginExecutionFilter&gt;\n                      &lt;action&gt;\n                          &lt;ignore&gt;&lt;/ignore&gt;\n                      &lt;/action&gt;\n                  &lt;/pluginExecution&gt;\n              &lt;/pluginExecutions&gt;\n            &lt;/lifecycleMappingMetadata&gt;\n          &lt;/configuration&gt;\n        &lt;/plugin&gt;\n      &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n  &lt;/build&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":462432,"reputation":94,"user_id":864735,"accept_rate":0,"display_name":"vijaidhas"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1517924511,"creation_date":1517924511,"answer_id":48644483,"question_id":41389096,"body_markdown":"Instead of adding the life cycle plugin separately, it can be solved directly by adding `&lt;pluginmanagement&gt;` tag before the `&lt;plugins&gt;` tag as given below.\r\n\r\n    &lt;build&gt;\r\n        &lt;pluginManagement&gt;\r\n            &lt;plugin&gt;\r\n              &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n              &lt;artifactId&gt;maven-toolchains-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;1.1&lt;/version&gt;\r\n              &lt;lifecycleMappingMetadata&gt;\r\n              ......................\r\n              ......................\r\n       &lt;/pluginManagement&gt;\r\n    &lt;/build&gt;","title":"Plugin execution not covered by lifecycle configuration: org.apache.maven.plugins:maven-toolchains-plugin:1.1:toolchain","body":"<p>Instead of adding the life cycle plugin separately, it can be solved directly by adding <code>&lt;pluginmanagement&gt;</code> tag before the <code>&lt;plugins&gt;</code> tag as given below.</p>\n\n<pre><code>&lt;build&gt;\n    &lt;pluginManagement&gt;\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n          &lt;artifactId&gt;maven-toolchains-plugin&lt;/artifactId&gt;\n          &lt;version&gt;1.1&lt;/version&gt;\n          &lt;lifecycleMappingMetadata&gt;\n          ......................\n          ......................\n   &lt;/pluginManagement&gt;\n&lt;/build&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1692303,"reputation":969,"user_id":1554421,"accept_rate":100,"display_name":"Gunwant"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1566891787,"creation_date":1566891787,"answer_id":57669891,"question_id":41389096,"body_markdown":"For eclipse users, Go to Window &gt;&gt; Preferences &gt;&gt; Maven .\r\n\r\nSelect Lifecycle Mapping option from menu. The default mapping file location could be in somewhere in eclipse temp directory, instead copy the file lifecycle-mapping-metadata.xml file to some location in eclipse directory or maven directory so that it could be easy to refer. \r\n\r\n[![lifecycle-mapping-metadata][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0MiKb.png\r\n\r\nIn lifecycle-mapping-metadata.xml file add below configuration.\r\n\r\n   \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;lifecycleMappingMetadata&gt;\r\n    \t&lt;pluginExecutions&gt;\r\n    \t\t&lt;pluginExecution&gt;\r\n    \t\t\t&lt;pluginExecutionFilter&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;versionRange&gt;[0.5,)&lt;/versionRange&gt;\r\n    \t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t&lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n    \t\t\t\t&lt;/goals&gt;\r\n    \t\t\t&lt;/pluginExecutionFilter&gt;\r\n    \t\t\t&lt;action&gt;\r\n    \t\t\t\t&lt;ignore /&gt;\r\n    \t\t\t&lt;/action&gt;\r\n    \t\t&lt;/pluginExecution&gt;\r\n    \t\t&lt;pluginExecution&gt;\r\n    \t\t\t&lt;pluginExecutionFilter&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-toolchains-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t&lt;goal&gt;toolchain&lt;/goal&gt;\r\n    \t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t&lt;versionRange&gt;[0.0,)&lt;/versionRange&gt;\r\n    \t\t\t&lt;/pluginExecutionFilter&gt;\r\n    \t\t\t&lt;action&gt;\r\n    \t\t\t\t&lt;ignore /&gt;\r\n    \t\t\t&lt;/action&gt;\r\n    \t\t&lt;/pluginExecution&gt;\r\n    \t&lt;/pluginExecutions&gt;\r\n    &lt;/lifecycleMappingMetadata&gt;\r\n\r\nJust do Maven &gt;&gt; Update Project from project view.\r\nThis is the easy way to solve the issue. ","title":"Plugin execution not covered by lifecycle configuration: org.apache.maven.plugins:maven-toolchains-plugin:1.1:toolchain","body":"<p>For eclipse users, Go to Window >> Preferences >> Maven .</p>\n\n<p>Select Lifecycle Mapping option from menu. The default mapping file location could be in somewhere in eclipse temp directory, instead copy the file lifecycle-mapping-metadata.xml file to some location in eclipse directory or maven directory so that it could be easy to refer. </p>\n\n<p><a href=\"https://i.stack.imgur.com/0MiKb.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/0MiKb.png\" alt=\"lifecycle-mapping-metadata\"></a></p>\n\n<p>In lifecycle-mapping-metadata.xml file add below configuration.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;lifecycleMappingMetadata&gt;\n    &lt;pluginExecutions&gt;\n        &lt;pluginExecution&gt;\n            &lt;pluginExecutionFilter&gt;\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n                &lt;versionRange&gt;[0.5,)&lt;/versionRange&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;prepare-agent&lt;/goal&gt;\n                &lt;/goals&gt;\n            &lt;/pluginExecutionFilter&gt;\n            &lt;action&gt;\n                &lt;ignore /&gt;\n            &lt;/action&gt;\n        &lt;/pluginExecution&gt;\n        &lt;pluginExecution&gt;\n            &lt;pluginExecutionFilter&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-toolchains-plugin&lt;/artifactId&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;toolchain&lt;/goal&gt;\n                &lt;/goals&gt;\n                &lt;versionRange&gt;[0.0,)&lt;/versionRange&gt;\n            &lt;/pluginExecutionFilter&gt;\n            &lt;action&gt;\n                &lt;ignore /&gt;\n            &lt;/action&gt;\n        &lt;/pluginExecution&gt;\n    &lt;/pluginExecutions&gt;\n&lt;/lifecycleMappingMetadata&gt;\n</code></pre>\n\n<p>Just do Maven >> Update Project from project view.\nThis is the easy way to solve the issue. </p>\n"}],"owner":{"account_id":7488719,"reputation":1175,"user_id":5691149,"accept_rate":94,"display_name":"Aravind"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21419,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":41389796,"answer_count":3,"score":7,"last_activity_date":1651451050,"creation_date":1483058010,"question_id":41389096,"body_markdown":"I am using m2e to build a java project. I need to use **JAVA VERSION 1.6** . So i am trying to configure toolchains plugin to achieve it. by referring the below link. \r\n\r\nhttps://maven.apache.org/guides/mini/guide-using-toolchains.html\r\n\r\nBut in eclipse it is throwing the below error.\r\n\r\n&gt; Plugin execution not covered by lifecycle configuration:\r\n&gt; org.apache.maven.plugins:maven-toolchains-plugin:1.1:toolchain\r\n&gt; (execution: default, phase: validate)\tpom.xml\t/Replenishment\tline\r\n&gt; 98\tMaven Project Build Lifecycle Mapping Problem\r\n\r\n\r\nI referred the [link][1]  but i did not get a proper clarity. Below is the code snippet used for configuring tool chains plugin.\r\n\r\nIN pom.XML\r\n    \r\n\r\n    &lt;plugin&gt;\r\n       \t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n       \t\t&lt;artifactId&gt;maven-toolchains-plugin&lt;/artifactId&gt;\r\n       \t\t&lt;version&gt;1.1&lt;/version&gt;\r\n       \t\t&lt;lifecycleMappingMetadata&gt;\r\n                   &lt;pluginExecutions&gt;\r\n                      &lt;pluginExecution&gt;\r\n                          &lt;pluginExecutionFilter&gt;\r\n                              &lt;groupId&gt;\r\n                                  org.apache.maven.plugins\r\n                              &lt;/groupId&gt;\r\n                              &lt;artifactId&gt;\r\n                                  maven-toolchains-plugin\r\n                              &lt;/artifactId&gt;\r\n                              &lt;versionRange&gt;\r\n                                  [1.1,)\r\n                              &lt;/versionRange&gt;\r\n                              &lt;goals&gt;\r\n                                  &lt;goal&gt;toolchain&lt;/goal&gt;\r\n                              &lt;/goals&gt;\r\n                          &lt;/pluginExecutionFilter&gt;\r\n                          &lt;action&gt;\r\n                              &lt;ignore&gt;&lt;/ignore&gt;\r\n                          &lt;/action&gt;\r\n                      &lt;/pluginExecution&gt;\r\n                  &lt;/pluginExecutions&gt;\r\n                &lt;/lifecycleMappingMetadata&gt;\r\n       \t\t&lt;executions&gt;\r\n    \t      &lt;execution&gt;\r\n    \t        &lt;goals&gt;\r\n    \t          &lt;goal&gt;toolchain&lt;/goal&gt;\r\n    \t        &lt;/goals&gt;\r\n    \t      &lt;/execution&gt;\r\n    \t    &lt;/executions&gt;\r\n    \t    &lt;configuration&gt;\r\n    \t      &lt;toolchains&gt;\r\n    \t        &lt;jdk&gt;\r\n    \t          &lt;version&gt;1.6&lt;/version&gt;\r\n    \t          &lt;vendor&gt;sun&lt;/vendor&gt;\r\n    \t        &lt;/jdk&gt;\r\n    \t      &lt;/toolchains&gt;\r\n    \t    &lt;/configuration&gt;\r\n    \t&lt;/plugin&gt;\r\n\r\nand my toolchains.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF8&quot;?&gt;\r\n    &lt;toolchains&gt;\r\n      &lt;!-- JDK toolchains --&gt;\r\n      &lt;toolchain&gt;\r\n        &lt;type&gt;jdk&lt;/type&gt;\r\n        &lt;provides&gt;\r\n          &lt;version&gt;1.6&lt;/version&gt;\r\n          &lt;vendor&gt;sun&lt;/vendor&gt;\r\n        &lt;/provides&gt;\r\n        &lt;configuration&gt;\r\n          &lt;jdkHome&gt;D:\\POC\\jdk1.6.0_31&lt;/jdkHome&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/toolchain&gt;\r\n     \r\n    &lt;/toolchains&gt;\r\n\r\n  [1]: http://www.eclipse.org/m2e/documentation/m2e-execution-not-covered.html","title":"Plugin execution not covered by lifecycle configuration: org.apache.maven.plugins:maven-toolchains-plugin:1.1:toolchain","body":"<p>I am using m2e to build a java project. I need to use <strong>JAVA VERSION 1.6</strong> . So i am trying to configure toolchains plugin to achieve it. by referring the below link. </p>\n\n<p><a href=\"https://maven.apache.org/guides/mini/guide-using-toolchains.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/guides/mini/guide-using-toolchains.html</a></p>\n\n<p>But in eclipse it is throwing the below error.</p>\n\n<blockquote>\n  <p>Plugin execution not covered by lifecycle configuration:\n  org.apache.maven.plugins:maven-toolchains-plugin:1.1:toolchain\n  (execution: default, phase: validate) pom.xml /Replenishment  line\n  98    Maven Project Build Lifecycle Mapping Problem</p>\n</blockquote>\n\n<p>I referred the <a href=\"http://www.eclipse.org/m2e/documentation/m2e-execution-not-covered.html\" rel=\"nofollow noreferrer\">link</a>  but i did not get a proper clarity. Below is the code snippet used for configuring tool chains plugin.</p>\n\n<p>IN pom.XML</p>\n\n<pre><code>&lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-toolchains-plugin&lt;/artifactId&gt;\n        &lt;version&gt;1.1&lt;/version&gt;\n        &lt;lifecycleMappingMetadata&gt;\n               &lt;pluginExecutions&gt;\n                  &lt;pluginExecution&gt;\n                      &lt;pluginExecutionFilter&gt;\n                          &lt;groupId&gt;\n                              org.apache.maven.plugins\n                          &lt;/groupId&gt;\n                          &lt;artifactId&gt;\n                              maven-toolchains-plugin\n                          &lt;/artifactId&gt;\n                          &lt;versionRange&gt;\n                              [1.1,)\n                          &lt;/versionRange&gt;\n                          &lt;goals&gt;\n                              &lt;goal&gt;toolchain&lt;/goal&gt;\n                          &lt;/goals&gt;\n                      &lt;/pluginExecutionFilter&gt;\n                      &lt;action&gt;\n                          &lt;ignore&gt;&lt;/ignore&gt;\n                      &lt;/action&gt;\n                  &lt;/pluginExecution&gt;\n              &lt;/pluginExecutions&gt;\n            &lt;/lifecycleMappingMetadata&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;toolchain&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n        &lt;configuration&gt;\n          &lt;toolchains&gt;\n            &lt;jdk&gt;\n              &lt;version&gt;1.6&lt;/version&gt;\n              &lt;vendor&gt;sun&lt;/vendor&gt;\n            &lt;/jdk&gt;\n          &lt;/toolchains&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n</code></pre>\n\n<p>and my toolchains.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF8\"?&gt;\n&lt;toolchains&gt;\n  &lt;!-- JDK toolchains --&gt;\n  &lt;toolchain&gt;\n    &lt;type&gt;jdk&lt;/type&gt;\n    &lt;provides&gt;\n      &lt;version&gt;1.6&lt;/version&gt;\n      &lt;vendor&gt;sun&lt;/vendor&gt;\n    &lt;/provides&gt;\n    &lt;configuration&gt;\n      &lt;jdkHome&gt;D:\\POC\\jdk1.6.0_31&lt;/jdkHome&gt;\n    &lt;/configuration&gt;\n  &lt;/toolchain&gt;\n\n&lt;/toolchains&gt;\n</code></pre>\n"},{"tags":["java","maven","maven-exec-plugin","maven-toolchains-plugin"],"answers":[{"tags":[],"owner":{"account_id":72101,"reputation":15566,"user_id":208288,"accept_rate":67,"display_name":"Laird Nelson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1601500023,"creation_date":1601500023,"answer_id":64145758,"question_id":64142374,"body_markdown":"I think the answer is you must ensure that the `toolchains` plugin itself is part of your build.  Or that&#39;s what [the relevant documentation seems to say](https://maven.apache.org/guides/mini/guide-using-toolchains.html#using-toolchains-in-your-project).  (I see above you have that; what I&#39;m saying is yes, that is required.)","title":"exec-maven-plugin: Can I run exec:exec goal without first running the toolchains:toolchain goal?","body":"<p>I think the answer is you must ensure that the <code>toolchains</code> plugin itself is part of your build.  Or that's what <a href=\"https://maven.apache.org/guides/mini/guide-using-toolchains.html#using-toolchains-in-your-project\" rel=\"nofollow noreferrer\">the relevant documentation seems to say</a>.  (I see above you have that; what I'm saying is yes, that is required.)</p>\n"}],"owner":{"account_id":3304338,"reputation":473,"user_id":2779631,"accept_rate":67,"display_name":"rhamilton"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":400,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":64145758,"answer_count":1,"score":0,"last_activity_date":1651451011,"creation_date":1601485171,"question_id":64142374,"body_markdown":"I&#39;ve inherited an application that only compiles and runs in Java 1.8. Because I don&#39;t want to make Java 1.8 the primary jvm on my machine, I felt that the best way to manage this was through Maven toolchains. Configuring the maven-compiler-plugin was pretty straight forward, but I also want to add the ability to execute the service via Maven in order to take advantage of the toolchain I have configured for 1.8.\r\n\r\nThe challenge is that I don&#39;t seem to be able to get the exec-maven-plugin to use the toolchain as documented. According to the documentation, I would think that the exec-maven-plugin would utilize the maven-toolchains-plugin as needed. However, in order to get `exec:exec` to use the right toolchain, I have to use:\r\n\r\n`mvn toolchains:toolchain exec:exec`\r\n\r\nThis works, but the [documentation](https://www.mojohaus.org/exec-maven-plugin/examples/example-exec-using-toolchains.html#The_.22jdk.22_Toolchain) leads me to think that the toolchain would be configured automatically without me needing to execute the `toolchains:toolchain` goal.\r\n\r\npom.xml\r\n\r\n    &lt;build&gt;\r\n      &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n          &lt;artifactId&gt;maven-toolchains-plugin&lt;/artifactId&gt;\r\n          &lt;executions&gt;\r\n            &lt;execution&gt;\r\n              &lt;goals&gt;\r\n                &lt;goal&gt;toolchain&lt;/goal&gt;\r\n              &lt;/goals&gt;\r\n            &lt;/execution&gt;\r\n          &lt;/executions&gt;\r\n          &lt;configuration&gt;\r\n            &lt;toolchains&gt;\r\n              &lt;jdk&gt;\r\n                &lt;version&gt;1.8&lt;/version&gt;\r\n              &lt;/jdk&gt;\r\n            &lt;/toolchains&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n            \r\n        &lt;plugin&gt;\r\n\t      &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n\t\t  &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n\t\t  &lt;configuration&gt;\r\n\t\t    &lt;executable&gt;java&lt;/executable&gt;\r\n\t\t\t&lt;arguments&gt;\r\n\t\t\t  &lt;argument&gt;-classpath&lt;/argument&gt;\r\n\t\t\t  &lt;classpath&gt;&lt;/classpath&gt;\r\n\t\t\t  &lt;argument&gt;com.my.Main&lt;/argument&gt;\r\n\t\t\t&lt;/arguments&gt;\r\n\t\t  &lt;/configuration&gt;\r\n\t\t&lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\ntoolchains.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF8&quot;?&gt;\r\n    &lt;toolchains&gt;\r\n      &lt;toolchain&gt;\r\n        &lt;type&gt;jdk&lt;/type&gt;\r\n        &lt;provides&gt;\r\n          &lt;id&gt;1.8&lt;/id&gt;\r\n          &lt;version&gt;1.8&lt;/version&gt;\r\n        &lt;/provides&gt;\r\n        &lt;configuration&gt;\r\n          &lt;jdkHome&gt;/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home&lt;/jdkHome&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/toolchain&gt;\r\n    &lt;/toolchains&gt;\r\n\r\nAdditional Note: I also tried configuring the exec-maven-plugin to run on `exec:java` with the following configuration:\r\n\r\n    &lt;configuration&gt;\r\n      &lt;mainClass&gt;com.my.Main&lt;/mainClass&gt;\r\n    &lt;/configuration&gt;\r\n\r\nHowever this does not work, not even with `mvn toolchains:toolchain exec:java`.\r\n\r\nIs there a way to configure this so that I only have to run `mvn exec:exec`, or `mvn exec:java`?","title":"exec-maven-plugin: Can I run exec:exec goal without first running the toolchains:toolchain goal?","body":"<p>I've inherited an application that only compiles and runs in Java 1.8. Because I don't want to make Java 1.8 the primary jvm on my machine, I felt that the best way to manage this was through Maven toolchains. Configuring the maven-compiler-plugin was pretty straight forward, but I also want to add the ability to execute the service via Maven in order to take advantage of the toolchain I have configured for 1.8.</p>\n<p>The challenge is that I don't seem to be able to get the exec-maven-plugin to use the toolchain as documented. According to the documentation, I would think that the exec-maven-plugin would utilize the maven-toolchains-plugin as needed. However, in order to get <code>exec:exec</code> to use the right toolchain, I have to use:</p>\n<p><code>mvn toolchains:toolchain exec:exec</code></p>\n<p>This works, but the <a href=\"https://www.mojohaus.org/exec-maven-plugin/examples/example-exec-using-toolchains.html#The_.22jdk.22_Toolchain\" rel=\"nofollow noreferrer\">documentation</a> leads me to think that the toolchain would be configured automatically without me needing to execute the <code>toolchains:toolchain</code> goal.</p>\n<p>pom.xml</p>\n<pre><code>&lt;build&gt;\n  &lt;plugins&gt;\n    &lt;plugin&gt;\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n      &lt;artifactId&gt;maven-toolchains-plugin&lt;/artifactId&gt;\n      &lt;executions&gt;\n        &lt;execution&gt;\n          &lt;goals&gt;\n            &lt;goal&gt;toolchain&lt;/goal&gt;\n          &lt;/goals&gt;\n        &lt;/execution&gt;\n      &lt;/executions&gt;\n      &lt;configuration&gt;\n        &lt;toolchains&gt;\n          &lt;jdk&gt;\n            &lt;version&gt;1.8&lt;/version&gt;\n          &lt;/jdk&gt;\n        &lt;/toolchains&gt;\n      &lt;/configuration&gt;\n    &lt;/plugin&gt;\n        \n    &lt;plugin&gt;\n      &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n      &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n      &lt;configuration&gt;\n        &lt;executable&gt;java&lt;/executable&gt;\n        &lt;arguments&gt;\n          &lt;argument&gt;-classpath&lt;/argument&gt;\n          &lt;classpath&gt;&lt;/classpath&gt;\n          &lt;argument&gt;com.my.Main&lt;/argument&gt;\n        &lt;/arguments&gt;\n      &lt;/configuration&gt;\n    &lt;/plugin&gt;\n  &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>toolchains.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF8&quot;?&gt;\n&lt;toolchains&gt;\n  &lt;toolchain&gt;\n    &lt;type&gt;jdk&lt;/type&gt;\n    &lt;provides&gt;\n      &lt;id&gt;1.8&lt;/id&gt;\n      &lt;version&gt;1.8&lt;/version&gt;\n    &lt;/provides&gt;\n    &lt;configuration&gt;\n      &lt;jdkHome&gt;/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home&lt;/jdkHome&gt;\n    &lt;/configuration&gt;\n  &lt;/toolchain&gt;\n&lt;/toolchains&gt;\n</code></pre>\n<p>Additional Note: I also tried configuring the exec-maven-plugin to run on <code>exec:java</code> with the following configuration:</p>\n<pre><code>&lt;configuration&gt;\n  &lt;mainClass&gt;com.my.Main&lt;/mainClass&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>However this does not work, not even with <code>mvn toolchains:toolchain exec:java</code>.</p>\n<p>Is there a way to configure this so that I only have to run <code>mvn exec:exec</code>, or <code>mvn exec:java</code>?</p>\n"},{"tags":["java","eclipse","apache","maven","maven-toolchains-plugin"],"comments":[{"owner":{"account_id":382603,"reputation":9068,"user_id":737936,"accept_rate":77,"display_name":"ravthiru"},"score":1,"creation_date":1483485866,"post_id":41453789,"comment_id":70114269,"body_markdown":"Try setting compiler source and target, https://maven.apache.org/plugins/maven-compiler-plugin/examples/set-compiler-source-and-target.html","body":"Try setting compiler source and target, <a href=\"https://maven.apache.org/plugins/maven-compiler-plugin/examples/set-compiler-source-and-target.html\" rel=\"nofollow noreferrer\">maven.apache.org/plugins/maven-compiler-plugin/examples/&hellip;</a>"},{"owner":{"account_id":7488719,"reputation":1175,"user_id":5691149,"accept_rate":94,"display_name":"Aravind"},"score":0,"creation_date":1483489707,"post_id":41453789,"comment_id":70115319,"body_markdown":"@ravthiru I have tried this one already. Also updated my question. Still it is not working. Getting the same error.","body":"@ravthiru I have tried this one already. Also updated my question. Still it is not working. Getting the same error."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1483518734,"post_id":41453789,"comment_id":70124253,"body_markdown":"Just for the record. Maven 3.3.9 needs Java 1.7 as minimum...","body":"Just for the record. Maven 3.3.9 needs Java 1.7 as minimum..."},{"owner":{"account_id":7488719,"reputation":1175,"user_id":5691149,"accept_rate":94,"display_name":"Aravind"},"score":0,"creation_date":1483570247,"post_id":41453789,"comment_id":70155043,"body_markdown":"@khmarbaise Yes, for my eclipse I have java run-time as 1.8 and in the build path i have 1.6. Any how I have identified the fix and posted my answer below.","body":"@khmarbaise Yes, for my eclipse I have java run-time as 1.8 and in the build path i have 1.6. Any how I have identified the fix and posted my answer below."}],"answers":[{"tags":[],"owner":{"account_id":7488719,"reputation":1175,"user_id":5691149,"accept_rate":94,"display_name":"Aravind"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1483493721,"creation_date":1483493721,"answer_id":41454909,"question_id":41453789,"body_markdown":"The resolved after changing goals in eclipse run configuration as below.\r\n\r\n[![Eclipse run configuration][1]][1]\r\n\r\nThe problem is eclipse is not automatically reading the toolchains.xml. We have to manually specify in the goals. I fixed this by referring the [this Link][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cZF9V.png\r\n  [2]: http://maven.apache.org/ref/3.1.0/maven-embedder/cli.html","title":"How to configure toolchains plugin in m2e / Installed maven in Eclipse","body":"<p>The resolved after changing goals in eclipse run configuration as below.</p>\n\n<p><a href=\"https://i.stack.imgur.com/cZF9V.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/cZF9V.png\" alt=\"Eclipse run configuration\"></a></p>\n\n<p>The problem is eclipse is not automatically reading the toolchains.xml. We have to manually specify in the goals. I fixed this by referring the <a href=\"http://maven.apache.org/ref/3.1.0/maven-embedder/cli.html\" rel=\"noreferrer\">this Link</a></p>\n"}],"owner":{"account_id":7488719,"reputation":1175,"user_id":5691149,"accept_rate":94,"display_name":"Aravind"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10688,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":41454909,"answer_count":1,"score":8,"last_activity_date":1651450862,"creation_date":1483485174,"question_id":41453789,"body_markdown":"Currently i am using **maven(Apache Maven 3.3.9)** **&amp; Java(Java version: 1.8.0_91)** installed in  my windows machine. I have a java application which was developed using **Java Version 1.6.0_31**. \r\n\r\nSince **Apache maven(3.3.9)** is not directly compatible with the previous version of Java(Prior to 1.8) I have included **[toolchains plugin][1]** to compile and run the project with **Java 1.6**.  I can do a successful build using command prompt.\r\n\r\nBut when I try to build the same project using eclipse with **eclipse m2e plugin** or by adding the **external maven(3.3.9)** using *eclipse-&gt;Windows-&gt;Preferences-&gt;Maven-&gt;Installations*, I am getting the below error.\r\n\r\n    [WARNING] \r\n    [WARNING] Some problems were encountered while building the effective settings\r\n    [WARNING] Expected root element &#39;settings&#39; but found &#39;toolchains&#39; (position: START_TAG seen ...OOLCHAINS/1.1.0 http://maven.apache.org/xsd/toolchains-1.1.0.xsd&quot;&gt;... @45:114)  @ U:\\POC\\Repo\\.m2\\toolchains.xml, line 45, column 114\r\n    [WARNING] \r\n    [INFO] Scanning for projects...\r\n    [INFO]                                                                         \r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Building Replenishment Maven Webapp 0.0.1-SNAPSHOT\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] \r\n    [INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ Replenishment ---\r\n    [INFO] Deleting C:\\Users\\xagh9\\workspace\\Replenishment\\target\r\n    [INFO] \r\n    [INFO] --- maven-toolchains-plugin:1.1:toolchain (default) @ Replenishment ---\r\n    [INFO] Required toolchain: jdk [ vendor=&#39;sun&#39; version=&#39;1.6&#39; ]\r\n    [ERROR] No toolchain found for type jdk\r\n    [ERROR] Cannot find matching toolchain definitions for the following toolchain types:\r\n    jdk [ vendor=&#39;sun&#39; version=&#39;1.6&#39; ]\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time: 7.105 s\r\n    [INFO] Finished at: 2017-01-04T12:02:08+11:00\r\n    [INFO] Final Memory: 8M/116M\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-toolchains-plugin:1.1:toolchain (default) on project Replenishment: Cannot find matching toolchain definitions for the following toolchain types:\r\n    [ERROR] jdk [ vendor=&#39;sun&#39; version=&#39;1.6&#39; ]\r\n    [ERROR] Please make sure you define the required toolchains in your ~/.m2/toolchains.xml file.\r\n    [ERROR] -&gt; [Help 1]\r\n    [ERROR] \r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR] \r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\r\n\r\n\r\n\r\n**Note:**  With Java_1.8 I can build the project successfully without toolchains plugin. But with toolchains plugin configured I am facing this issues. Can anyone help me to resolve this.\r\n\r\n***The required toolchains.xml is present in both maven config folder as well as in the .m2 folder of the repository***\r\n\r\n\r\nUPDATE:\r\nMaven compiler plugin configuration:\r\n[![Plugin][2]][2]\r\n\r\n\r\n  [1]: https://maven.apache.org/guides/mini/guide-using-toolchains.html\r\n  [2]: https://i.stack.imgur.com/v5q91.png\r\n","title":"How to configure toolchains plugin in m2e / Installed maven in Eclipse","body":"<p>Currently i am using <strong>maven(Apache Maven 3.3.9)</strong> <strong>&amp; Java(Java version: 1.8.0_91)</strong> installed in  my windows machine. I have a java application which was developed using <strong>Java Version 1.6.0_31</strong>. </p>\n\n<p>Since <strong>Apache maven(3.3.9)</strong> is not directly compatible with the previous version of Java(Prior to 1.8) I have included <strong><a href=\"https://maven.apache.org/guides/mini/guide-using-toolchains.html\" rel=\"noreferrer\">toolchains plugin</a></strong> to compile and run the project with <strong>Java 1.6</strong>.  I can do a successful build using command prompt.</p>\n\n<p>But when I try to build the same project using eclipse with <strong>eclipse m2e plugin</strong> or by adding the <strong>external maven(3.3.9)</strong> using <em>eclipse->Windows->Preferences->Maven->Installations</em>, I am getting the below error.</p>\n\n<pre><code>[WARNING] \n[WARNING] Some problems were encountered while building the effective settings\n[WARNING] Expected root element 'settings' but found 'toolchains' (position: START_TAG seen ...OOLCHAINS/1.1.0 http://maven.apache.org/xsd/toolchains-1.1.0.xsd\"&gt;... @45:114)  @ U:\\POC\\Repo\\.m2\\toolchains.xml, line 45, column 114\n[WARNING] \n[INFO] Scanning for projects...\n[INFO]                                                                         \n[INFO] ------------------------------------------------------------------------\n[INFO] Building Replenishment Maven Webapp 0.0.1-SNAPSHOT\n[INFO] ------------------------------------------------------------------------\n[INFO] \n[INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ Replenishment ---\n[INFO] Deleting C:\\Users\\xagh9\\workspace\\Replenishment\\target\n[INFO] \n[INFO] --- maven-toolchains-plugin:1.1:toolchain (default) @ Replenishment ---\n[INFO] Required toolchain: jdk [ vendor='sun' version='1.6' ]\n[ERROR] No toolchain found for type jdk\n[ERROR] Cannot find matching toolchain definitions for the following toolchain types:\njdk [ vendor='sun' version='1.6' ]\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 7.105 s\n[INFO] Finished at: 2017-01-04T12:02:08+11:00\n[INFO] Final Memory: 8M/116M\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-toolchains-plugin:1.1:toolchain (default) on project Replenishment: Cannot find matching toolchain definitions for the following toolchain types:\n[ERROR] jdk [ vendor='sun' version='1.6' ]\n[ERROR] Please make sure you define the required toolchains in your ~/.m2/toolchains.xml file.\n[ERROR] -&gt; [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\n</code></pre>\n\n<p><strong>Note:</strong>  With Java_1.8 I can build the project successfully without toolchains plugin. But with toolchains plugin configured I am facing this issues. Can anyone help me to resolve this.</p>\n\n<p><strong><em>The required toolchains.xml is present in both maven config folder as well as in the .m2 folder of the repository</em></strong></p>\n\n<p>UPDATE:\nMaven compiler plugin configuration:\n<a href=\"https://i.stack.imgur.com/v5q91.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/v5q91.png\" alt=\"Plugin\"></a></p>\n"},{"tags":["java","maven","maven-toolchains-plugin"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1509963962,"post_id":47134642,"comment_id":81218908,"body_markdown":"What about: http://maven.apache.org/plugins/maven-jlink-plugin/ ?","body":"What about: <a href=\"http://maven.apache.org/plugins/maven-jlink-plugin/\" rel=\"nofollow noreferrer\">maven.apache.org/plugins/maven-jlink-plugin</a> ?"},{"owner":{"account_id":936552,"reputation":95,"user_id":965381,"display_name":"stan"},"score":0,"creation_date":1509965956,"post_id":47134642,"comment_id":81220023,"body_markdown":"Potentially, although I&#39;ve not tried it yet. So far I&#39;ve been put off by the need to reorganise my project, as that plugin requires/expects a multi-module Maven project, and this one is a single module only. I&#39;d rather keep things as simple as possible. I&#39;ll take a closer look though.\nAlso...I expect that plugin requires addition of project modules, while in reality I&#39;m using *jlink* to create a standalone runtime, which I then incorporate into my deployment build, which proves simpler for reducing runtime size when deploying a legacy application comprising many non-modular JARs.","body":"Potentially, although I&#39;ve not tried it yet. So far I&#39;ve been put off by the need to reorganise my project, as that plugin requires/expects a multi-module Maven project, and this one is a single module only. I&#39;d rather keep things as simple as possible. I&#39;ll take a closer look though. Also...I expect that plugin requires addition of project modules, while in reality I&#39;m using <i>jlink</i> to create a standalone runtime, which I then incorporate into my deployment build, which proves simpler for reducing runtime size when deploying a legacy application comprising many non-modular JARs."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1509967265,"post_id":47134642,"comment_id":81220728,"body_markdown":"I&#39;m currently improving this plugin and one of the things is having a single module which will be created a run time image...","body":"I&#39;m currently improving this plugin and one of the things is having a single module which will be created a run time image..."},{"owner":{"account_id":936552,"reputation":95,"user_id":965381,"display_name":"stan"},"score":0,"creation_date":1509969733,"post_id":47134642,"comment_id":81222265,"body_markdown":"Excellent, that sounds like a good feature to include, @khmarbaise, and will no doubt appease a lot of developers, especially during the Java 9 transition phase they&#39;ll all have to go through. I look forward to it!","body":"Excellent, that sounds like a good feature to include, @khmarbaise, and will no doubt appease a lot of developers, especially during the Java 9 transition phase they&#39;ll all have to go through. I look forward to it!"}],"answers":[{"tags":[],"owner":{"account_id":17532285,"reputation":56,"user_id":12716081,"display_name":"Wolf Geldmacher"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1579074914,"creation_date":1579074914,"answer_id":59747097,"question_id":47134642,"body_markdown":"Here&#39;s the link to a Maven plugin that makes the jdkHome of the active JDK toolchain available as javaHome property in Maven:\r\n\r\nhttps://github.com/dadrus/javahome-resolver-maven-plugin\r\n\r\nDisclaimer: I&#39;m not the developer of that plugin.\r\n\r\nSome caveats: The toolchains plugin has to be run before the javahome-resolver-plugin because the logic to determine the default JDK (i.e. the one used without toolchains) is not working as intended.","title":"Determine JDK home from Maven toolchain","body":"<p>Here's the link to a Maven plugin that makes the jdkHome of the active JDK toolchain available as javaHome property in Maven:</p>\n\n<p><a href=\"https://github.com/dadrus/javahome-resolver-maven-plugin\" rel=\"nofollow noreferrer\">https://github.com/dadrus/javahome-resolver-maven-plugin</a></p>\n\n<p>Disclaimer: I'm not the developer of that plugin.</p>\n\n<p>Some caveats: The toolchains plugin has to be run before the javahome-resolver-plugin because the logic to determine the default JDK (i.e. the one used without toolchains) is not working as intended.</p>\n"}],"owner":{"account_id":936552,"reputation":95,"user_id":965381,"display_name":"stan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1736,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":59747097,"answer_count":1,"score":4,"last_activity_date":1651450745,"creation_date":1509963706,"question_id":47134642,"body_markdown":"I have a Maven build configured to use *maven-toolchains-plugin*, with *~/.m2/toolchains.xml* simply configured for multiple JDKs:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF8&quot;?&gt;\r\n    &lt;toolchains&gt;\r\n    \t&lt;toolchain&gt;\r\n    \t\t&lt;type&gt;jdk&lt;/type&gt;\r\n    \t\t&lt;provides&gt;\r\n    \t\t\t&lt;version&gt;9&lt;/version&gt;\r\n    \t\t\t&lt;vendor&gt;oracle&lt;/vendor&gt;\r\n    \t\t&lt;/provides&gt;\r\n    \t\t&lt;configuration&gt;\r\n    \t\t\t&lt;jdkHome&gt;/Library/Java/JavaVirtualMachines/jdk-9.0.1.jdk/Contents/Home&lt;/jdkHome&gt;\r\n    \t\t&lt;/configuration&gt;\r\n    \t&lt;/toolchain&gt;\r\n    \t&lt;toolchain&gt;\r\n    \t\t&lt;!-- ... several more JDKs ... --&gt;\r\n    \t&lt;/toolchain&gt;\r\n    &lt;/toolchains&gt;\r\n\r\nMy aim is to use the value of ```jdkHome``` within the POM, as an argument to the JDK9 *jlink* tool, but I can&#39;t find any way to extract the value, or set a usable property which references the ```jdkHome```/```JAVA_HOME``` of the toolchain JDK. Has anyone found a way to achieve this? I don&#39;t really want to have to resort to making yet another *exec-maven-plugin* or *maven-antrun-plugin* process just to set a property, and I figure there must be some easy way to achieve this which I&#39;ve overlooked.","title":"Determine JDK home from Maven toolchain","body":"<p>I have a Maven build configured to use <em>maven-toolchains-plugin</em>, with <em>~/.m2/toolchains.xml</em> simply configured for multiple JDKs:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF8\"?&gt;\n&lt;toolchains&gt;\n    &lt;toolchain&gt;\n        &lt;type&gt;jdk&lt;/type&gt;\n        &lt;provides&gt;\n            &lt;version&gt;9&lt;/version&gt;\n            &lt;vendor&gt;oracle&lt;/vendor&gt;\n        &lt;/provides&gt;\n        &lt;configuration&gt;\n            &lt;jdkHome&gt;/Library/Java/JavaVirtualMachines/jdk-9.0.1.jdk/Contents/Home&lt;/jdkHome&gt;\n        &lt;/configuration&gt;\n    &lt;/toolchain&gt;\n    &lt;toolchain&gt;\n        &lt;!-- ... several more JDKs ... --&gt;\n    &lt;/toolchain&gt;\n&lt;/toolchains&gt;\n</code></pre>\n\n<p>My aim is to use the value of <code>jdkHome</code> within the POM, as an argument to the JDK9 <em>jlink</em> tool, but I can't find any way to extract the value, or set a usable property which references the <code>jdkHome</code>/<code>JAVA_HOME</code> of the toolchain JDK. Has anyone found a way to achieve this? I don't really want to have to resort to making yet another <em>exec-maven-plugin</em> or <em>maven-antrun-plugin</em> process just to set a property, and I figure there must be some easy way to achieve this which I've overlooked.</p>\n"},{"tags":["java","xml","maven","maven-toolchains-plugin"],"answers":[{"tags":[],"owner":{"account_id":477949,"reputation":5596,"user_id":889742,"accept_rate":28,"display_name":"Gonen I"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1470205736,"creation_date":1470205736,"answer_id":38735961,"question_id":38735556,"body_markdown":"If you just want maven to use the java 7 jdk all the time, the toolchain plugin may be more than you need. it may be enough to set JAVA_HOME\r\n\r\nMake sure that JAVA_HOME is set to the location of your JDK, e.g. export JAVA_HOME=/usr/java/jdk1.7.* and that $JAVA_HOME/bin is in your PATH environment variable. ( Or if from eclipse, set it as the workspace default )\r\n\r\nIf you want to switch jdk from just 1 project, you can also use the compilerVersion tag\r\nhttps://maven.apache.org/plugins/maven-compiler-plugin/examples/compile-using-different-jdk.html","title":"Maven toolchain not getting triggered in build","body":"<p>If you just want maven to use the java 7 jdk all the time, the toolchain plugin may be more than you need. it may be enough to set JAVA_HOME</p>\n\n<p>Make sure that JAVA_HOME is set to the location of your JDK, e.g. export JAVA_HOME=/usr/java/jdk1.7.* and that $JAVA_HOME/bin is in your PATH environment variable. ( Or if from eclipse, set it as the workspace default )</p>\n\n<p>If you want to switch jdk from just 1 project, you can also use the compilerVersion tag\n<a href=\"https://maven.apache.org/plugins/maven-compiler-plugin/examples/compile-using-different-jdk.html\" rel=\"nofollow\">https://maven.apache.org/plugins/maven-compiler-plugin/examples/compile-using-different-jdk.html</a></p>\n"},{"tags":[],"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1470206140,"creation_date":1470206140,"answer_id":38736072,"question_id":38735556,"body_markdown":"The problem is simply related that you have defined all plugins in `pluginManagement` but you need to define them like this:\r\n\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;build&gt;\r\n      &lt;pluginManagement&gt;\r\n        &lt;plugins&gt;\r\n          &lt;!-- Ensure we compile as the correct jdk version --&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1&lt;/version&gt;\r\n          &lt;/plugin&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-toolchains-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;1.1&lt;/version&gt;\r\n          &lt;/plugin&gt;\r\n    \r\n          &lt;!-- Maven WAR Plugin --&gt;\r\n          &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;${maven.war.plugin.version}&lt;/version&gt;\r\n            &lt;inherited&gt;true&lt;/inherited&gt;\r\n            &lt;configuration&gt;\r\n              &lt;archiveClasses&gt;true&lt;/archiveClasses&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n    \r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.eclipse.m2e&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lifecycle-mapping&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.0&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n              &lt;lifecycleMappingMetadata&gt;\r\n                &lt;pluginExecutions&gt;\r\n                  &lt;pluginExecution&gt;\r\n                    &lt;pluginExecutionFilter&gt;\r\n                      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                      &lt;artifactId&gt;maven-enforcer-plugin&lt;/artifactId&gt;\r\n                      &lt;versionRange&gt;[1.0.0,)&lt;/versionRange&gt;\r\n                      &lt;goals&gt;\r\n                        &lt;goal&gt;enforce&lt;/goal&gt;\r\n                      &lt;/goals&gt;\r\n                    &lt;/pluginExecutionFilter&gt;\r\n                    &lt;action&gt;\r\n                      &lt;ignore /&gt;\r\n                    &lt;/action&gt;\r\n                  &lt;/pluginExecution&gt;\r\n                &lt;/pluginExecutions&gt;\r\n              &lt;/lifecycleMappingMetadata&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n    \r\n        &lt;/plugins&gt;\r\n      &lt;/pluginManagement&gt;\r\n      &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n          &lt;artifactId&gt;maven-toolchains-plugin&lt;/artifactId&gt;\r\n          &lt;executions&gt;\r\n            &lt;execution&gt;\r\n              &lt;goals&gt;\r\n                &lt;goal&gt;toolchain&lt;/goal&gt;\r\n              &lt;/goals&gt;\r\n              &lt;configuration&gt;\r\n                &lt;toolchains&gt;\r\n                  &lt;jdk&gt;\r\n                    &lt;version&gt;1.7&lt;/version&gt;\r\n                    &lt;vendor&gt;sun&lt;/vendor&gt;\r\n                  &lt;/jdk&gt;\r\n                &lt;/toolchains&gt;\r\n              &lt;/configuration&gt;\r\n            &lt;/execution&gt;\r\n          &lt;/executions&gt;\r\n        &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    \r\n    \r\n    &lt;/build&gt;\r\n    \r\n    ...\r\n    \r\n    &lt;/project&gt;\r\n\r\n`pluginManagement` is intended to define versions and default configurations but no binding to the lifeycle which you need to do for the maven-toolchains-plugin. In pluginManagement you should define all plugins which their versions which you are using which means maven-resources-plugin, maven-install-plugin, maven-deploy-plugin, maven-enforcer-plugin etc. This might be a good candidate for a corporate parent pom which defines all those things.\r\nAnd you are going the best way to separate the JDK which is used by Maven and the JDK which is used by your code. \r\n\r\nApart from that [Maven 3.3.9 needs JDK 7][1] as minimum and **not** JDK 8\r\n\r\n\r\n  [1]: http://maven.apache.org/docs/history.html","title":"Maven toolchain not getting triggered in build","body":"<p>The problem is simply related that you have defined all plugins in <code>pluginManagement</code> but you need to define them like this:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;build&gt;\n  &lt;pluginManagement&gt;\n    &lt;plugins&gt;\n      &lt;!-- Ensure we compile as the correct jdk version --&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.1&lt;/version&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-toolchains-plugin&lt;/artifactId&gt;\n        &lt;version&gt;1.1&lt;/version&gt;\n      &lt;/plugin&gt;\n\n      &lt;!-- Maven WAR Plugin --&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n        &lt;version&gt;${maven.war.plugin.version}&lt;/version&gt;\n        &lt;inherited&gt;true&lt;/inherited&gt;\n        &lt;configuration&gt;\n          &lt;archiveClasses&gt;true&lt;/archiveClasses&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.eclipse.m2e&lt;/groupId&gt;\n        &lt;artifactId&gt;lifecycle-mapping&lt;/artifactId&gt;\n        &lt;version&gt;1.0.0&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;lifecycleMappingMetadata&gt;\n            &lt;pluginExecutions&gt;\n              &lt;pluginExecution&gt;\n                &lt;pluginExecutionFilter&gt;\n                  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                  &lt;artifactId&gt;maven-enforcer-plugin&lt;/artifactId&gt;\n                  &lt;versionRange&gt;[1.0.0,)&lt;/versionRange&gt;\n                  &lt;goals&gt;\n                    &lt;goal&gt;enforce&lt;/goal&gt;\n                  &lt;/goals&gt;\n                &lt;/pluginExecutionFilter&gt;\n                &lt;action&gt;\n                  &lt;ignore /&gt;\n                &lt;/action&gt;\n              &lt;/pluginExecution&gt;\n            &lt;/pluginExecutions&gt;\n          &lt;/lifecycleMappingMetadata&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n\n    &lt;/plugins&gt;\n  &lt;/pluginManagement&gt;\n  &lt;plugins&gt;\n    &lt;plugin&gt;\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n      &lt;artifactId&gt;maven-toolchains-plugin&lt;/artifactId&gt;\n      &lt;executions&gt;\n        &lt;execution&gt;\n          &lt;goals&gt;\n            &lt;goal&gt;toolchain&lt;/goal&gt;\n          &lt;/goals&gt;\n          &lt;configuration&gt;\n            &lt;toolchains&gt;\n              &lt;jdk&gt;\n                &lt;version&gt;1.7&lt;/version&gt;\n                &lt;vendor&gt;sun&lt;/vendor&gt;\n              &lt;/jdk&gt;\n            &lt;/toolchains&gt;\n          &lt;/configuration&gt;\n        &lt;/execution&gt;\n      &lt;/executions&gt;\n    &lt;/plugin&gt;\n  &lt;/plugins&gt;\n\n\n&lt;/build&gt;\n\n...\n\n&lt;/project&gt;\n</code></pre>\n\n<p><code>pluginManagement</code> is intended to define versions and default configurations but no binding to the lifeycle which you need to do for the maven-toolchains-plugin. In pluginManagement you should define all plugins which their versions which you are using which means maven-resources-plugin, maven-install-plugin, maven-deploy-plugin, maven-enforcer-plugin etc. This might be a good candidate for a corporate parent pom which defines all those things.\nAnd you are going the best way to separate the JDK which is used by Maven and the JDK which is used by your code. </p>\n\n<p>Apart from that <a href=\"http://maven.apache.org/docs/history.html\" rel=\"noreferrer\">Maven 3.3.9 needs JDK 7</a> as minimum and <strong>not</strong> JDK 8</p>\n"}],"owner":{"account_id":4840930,"reputation":1550,"user_id":3905997,"accept_rate":75,"display_name":"Pete"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6504,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":38736072,"answer_count":2,"score":3,"last_activity_date":1651450723,"creation_date":1470204026,"question_id":38735556,"body_markdown":"I&#39;m using the latest maven 3.3.9 which enforces java 8, and trying to compile a project in java 7 using a java 7 maven toolchain.  \r\n\r\nAs per:  [The maven guide][1] I&#39;ve put in the maven toolchain plugin to try and tell it to use java 7 to compile the app.  My project setup is as follows:\r\n\r\n- top_module --&gt; (have put in maven toolchain plugin in this pom.xml)\r\n\r\n   ---submodule1\r\n\r\n   ---submodule2\r\n\r\nThis is my parent pom.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;parent&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;build-base&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.0.17&lt;/version&gt;\r\n    \t&lt;/parent&gt;\r\n    \r\n    \t&lt;groupId&gt;top_module&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;top_module&lt;/artifactId&gt;\r\n    \t&lt;version&gt;1&lt;/version&gt;\r\n    \t&lt;packaging&gt;pom&lt;/packaging&gt;\r\n    \t&lt;name&gt;${project.artifactId}&lt;/name&gt;\r\n    \r\n    \t&lt;modules&gt;\r\n    \t\t&lt;module&gt;submodule1&lt;/module&gt;\r\n    \t\t&lt;module&gt;submodule2&lt;/module&gt;\r\n    \t&lt;/modules&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \r\n    \r\n    \t\t...\r\n    \r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencyManagement&gt;\r\n    \t\t&lt;dependencies&gt;\r\n    \r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t...\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t...\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t&lt;/dependencies&gt;\r\n    \t&lt;/dependencyManagement&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t...\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;pluginManagement&gt;\r\n    \t\t\t&lt;plugins&gt;\r\n    \t\t\t\t&lt;!-- Ensure we compile as the correct jdk version --&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;3.1&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-toolchains-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;1.1&lt;/version&gt;\r\n    \t\t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t\t&lt;goal&gt;toolchain&lt;/goal&gt;\r\n    \t\t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t\t&lt;/executions&gt;\r\n    \t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t&lt;toolchains&gt;\r\n    \t\t\t\t\t\t\t&lt;jdk&gt;\r\n    \t\t\t\t\t\t\t\t&lt;version&gt;1.7&lt;/version&gt;\r\n    \t\t\t\t\t\t\t\t&lt;vendor&gt;sun&lt;/vendor&gt;\r\n    \t\t\t\t\t\t\t&lt;/jdk&gt;\r\n    \t\t\t\t\t\t&lt;/toolchains&gt;\r\n    \t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \r\n    \t\t\t\t&lt;!-- Maven WAR Plugin --&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;${maven.war.plugin.version}&lt;/version&gt;\r\n    \t\t\t\t\t&lt;inherited&gt;true&lt;/inherited&gt;\r\n    \t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t&lt;archiveClasses&gt;true&lt;/archiveClasses&gt;\r\n    \t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;org.eclipse.m2e&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;lifecycle-mapping&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;1.0.0&lt;/version&gt;\r\n    \t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t&lt;lifecycleMappingMetadata&gt;\r\n    \t\t\t\t\t\t\t&lt;pluginExecutions&gt;\r\n    \t\t\t\t\t\t\t\t&lt;pluginExecution&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;pluginExecutionFilter&gt;\r\n    \t\t\t\t\t\t\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t\t\t\t\t\t\t&lt;artifactId&gt;maven-enforcer-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t\t\t\t\t&lt;versionRange&gt;[1.0.0,)&lt;/versionRange&gt;\r\n    \t\t\t\t\t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t\t\t\t\t&lt;goal&gt;enforce&lt;/goal&gt;\r\n    \t\t\t\t\t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;/pluginExecutionFilter&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;action&gt;\r\n    \t\t\t\t\t\t\t\t\t\t&lt;ignore /&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;/action&gt;\r\n    \t\t\t\t\t\t\t\t&lt;/pluginExecution&gt;\r\n    \t\t\t\t\t\t\t&lt;/pluginExecutions&gt;\r\n    \t\t\t\t\t\t&lt;/lifecycleMappingMetadata&gt;\r\n    \t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \r\n    \t\t\t&lt;/plugins&gt;\r\n    \t\t&lt;/pluginManagement&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    \t...\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\n\r\n\r\nThe build doesn&#39;t run any toolchain related steps and conks out when running ```mvn clean install``` due to a plugin being incompatible with java 8, which obviously means the toolchain isn&#39;t getting run.  Do I need anything else in the pom?\r\n\r\nThis is my toolchains.xml file in my M2_HOME:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF8&quot;?&gt;\r\n        &lt;toolchains&gt;\r\n          &lt;!-- JDK toolchains --&gt;\r\n          &lt;toolchain&gt;\r\n            &lt;type&gt;jdk&lt;/type&gt;\r\n            &lt;provides&gt;\r\n              &lt;version&gt;1.6&lt;/version&gt;\r\n              &lt;vendor&gt;sun&lt;/vendor&gt;\r\n            &lt;/provides&gt;\r\n            &lt;configuration&gt;\r\n              &lt;jdkHome&gt;C:\\Java\\jdk1.6.0_45&lt;/jdkHome&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/toolchain&gt;\r\n    \t  \r\n    \t        &lt;toolchain&gt;\r\n            &lt;type&gt;jdk&lt;/type&gt;\r\n            &lt;provides&gt;\r\n              &lt;version&gt;1.7&lt;/version&gt;\r\n              &lt;vendor&gt;sun&lt;/vendor&gt;\r\n            &lt;/provides&gt;\r\n            &lt;configuration&gt;\r\n              &lt;jdkHome&gt;C:\\Java\\jdk1.7.0_79&lt;/jdkHome&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/toolchain&gt;\r\n        &lt;/toolchains&gt;\r\n\r\n\r\n  [1]: https://maven.apache.org/guides/mini/guide-using-toolchains.html","title":"Maven toolchain not getting triggered in build","body":"<p>I'm using the latest maven 3.3.9 which enforces java 8, and trying to compile a project in java 7 using a java 7 maven toolchain.  </p>\n\n<p>As per:  <a href=\"https://maven.apache.org/guides/mini/guide-using-toolchains.html\" rel=\"nofollow\">The maven guide</a> I've put in the maven toolchain plugin to try and tell it to use java 7 to compile the app.  My project setup is as follows:</p>\n\n<ul>\n<li><p>top_module --> (have put in maven toolchain plugin in this pom.xml)</p>\n\n<p>---submodule1</p>\n\n<p>---submodule2</p></li>\n</ul>\n\n<p>This is my parent pom.xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;parent&lt;/groupId&gt;\n        &lt;artifactId&gt;build-base&lt;/artifactId&gt;\n        &lt;version&gt;1.0.17&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;groupId&gt;top_module&lt;/groupId&gt;\n    &lt;artifactId&gt;top_module&lt;/artifactId&gt;\n    &lt;version&gt;1&lt;/version&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n    &lt;name&gt;${project.artifactId}&lt;/name&gt;\n\n    &lt;modules&gt;\n        &lt;module&gt;submodule1&lt;/module&gt;\n        &lt;module&gt;submodule2&lt;/module&gt;\n    &lt;/modules&gt;\n\n    &lt;properties&gt;\n\n\n        ...\n\n    &lt;/properties&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n\n            &lt;dependency&gt;\n                ...\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                ...\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            ...\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;pluginManagement&gt;\n            &lt;plugins&gt;\n                &lt;!-- Ensure we compile as the correct jdk version --&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.1&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-toolchains-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;1.1&lt;/version&gt;\n                    &lt;executions&gt;\n                        &lt;execution&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;toolchain&lt;/goal&gt;\n                            &lt;/goals&gt;\n                        &lt;/execution&gt;\n                    &lt;/executions&gt;\n                    &lt;configuration&gt;\n                        &lt;toolchains&gt;\n                            &lt;jdk&gt;\n                                &lt;version&gt;1.7&lt;/version&gt;\n                                &lt;vendor&gt;sun&lt;/vendor&gt;\n                            &lt;/jdk&gt;\n                        &lt;/toolchains&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n\n                &lt;!-- Maven WAR Plugin --&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;${maven.war.plugin.version}&lt;/version&gt;\n                    &lt;inherited&gt;true&lt;/inherited&gt;\n                    &lt;configuration&gt;\n                        &lt;archiveClasses&gt;true&lt;/archiveClasses&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.eclipse.m2e&lt;/groupId&gt;\n                    &lt;artifactId&gt;lifecycle-mapping&lt;/artifactId&gt;\n                    &lt;version&gt;1.0.0&lt;/version&gt;\n                    &lt;configuration&gt;\n                        &lt;lifecycleMappingMetadata&gt;\n                            &lt;pluginExecutions&gt;\n                                &lt;pluginExecution&gt;\n                                    &lt;pluginExecutionFilter&gt;\n                                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                                        &lt;artifactId&gt;maven-enforcer-plugin&lt;/artifactId&gt;\n                                        &lt;versionRange&gt;[1.0.0,)&lt;/versionRange&gt;\n                                        &lt;goals&gt;\n                                            &lt;goal&gt;enforce&lt;/goal&gt;\n                                        &lt;/goals&gt;\n                                    &lt;/pluginExecutionFilter&gt;\n                                    &lt;action&gt;\n                                        &lt;ignore /&gt;\n                                    &lt;/action&gt;\n                                &lt;/pluginExecution&gt;\n                            &lt;/pluginExecutions&gt;\n                        &lt;/lifecycleMappingMetadata&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n\n            &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n    &lt;/build&gt;\n\n    ...\n\n&lt;/project&gt;\n</code></pre>\n\n<p>The build doesn't run any toolchain related steps and conks out when running <code>mvn clean install</code> due to a plugin being incompatible with java 8, which obviously means the toolchain isn't getting run.  Do I need anything else in the pom?</p>\n\n<p>This is my toolchains.xml file in my M2_HOME:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF8\"?&gt;\n    &lt;toolchains&gt;\n      &lt;!-- JDK toolchains --&gt;\n      &lt;toolchain&gt;\n        &lt;type&gt;jdk&lt;/type&gt;\n        &lt;provides&gt;\n          &lt;version&gt;1.6&lt;/version&gt;\n          &lt;vendor&gt;sun&lt;/vendor&gt;\n        &lt;/provides&gt;\n        &lt;configuration&gt;\n          &lt;jdkHome&gt;C:\\Java\\jdk1.6.0_45&lt;/jdkHome&gt;\n        &lt;/configuration&gt;\n      &lt;/toolchain&gt;\n\n            &lt;toolchain&gt;\n        &lt;type&gt;jdk&lt;/type&gt;\n        &lt;provides&gt;\n          &lt;version&gt;1.7&lt;/version&gt;\n          &lt;vendor&gt;sun&lt;/vendor&gt;\n        &lt;/provides&gt;\n        &lt;configuration&gt;\n          &lt;jdkHome&gt;C:\\Java\\jdk1.7.0_79&lt;/jdkHome&gt;\n        &lt;/configuration&gt;\n      &lt;/toolchain&gt;\n    &lt;/toolchains&gt;\n</code></pre>\n"},{"tags":["java","maven","maven-toolchains-plugin"],"comments":[{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1589872102,"post_id":61883813,"comment_id":109457006,"body_markdown":"Can&#39;t you just compile for Java 8 with JDK14?","body":"Can&#39;t you just compile for Java 8 with JDK14?"},{"owner":{"account_id":47296,"reputation":27247,"user_id":140037,"accept_rate":74,"display_name":"Brett Ryan"},"score":0,"creation_date":1589873120,"post_id":61883813,"comment_id":109457521,"body_markdown":"Indeed you can, however; like many my environment requires many JDK&#39;s to build for different projects. Namely when using spark and scala I must use JDK 8 as any later and it&#39;s not compatible. I solve this by using the `maven-toolchains-plugin` which is what it&#39;s meant for. Worse is the team have a mix of JDK locations installed (Windows, macOS, Linux). Managing our own `toolchain.xml` setting makes the project more portable.","body":"Indeed you can, however; like many my environment requires many JDK&#39;s to build for different projects. Namely when using spark and scala I must use JDK 8 as any later and it&#39;s not compatible. I solve this by using the <code>maven-toolchains-plugin</code> which is what it&#39;s meant for. Worse is the team have a mix of JDK locations installed (Windows, macOS, Linux). Managing our own <code>toolchain.xml</code> setting makes the project more portable."}],"answers":[{"tags":[],"owner":{"account_id":47296,"reputation":27247,"user_id":140037,"accept_rate":74,"display_name":"Brett Ryan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589869207,"creation_date":1589869207,"answer_id":61884461,"question_id":61883813,"body_markdown":"Figured I&#39;d just move the `java.version` property to the profile itself and leave `jdk-8` profile active by default.\r\n\r\nThis approach does fit the workflow better anyway as testing JDK 14 is not the normal pattern and best activating manually through `-P jdk-14` rather than updating the `java.varsion` property.","title":"Maven profiles activates on running jdk not on toolchains jdk","body":"<p>Figured I'd just move the <code>java.version</code> property to the profile itself and leave <code>jdk-8</code> profile active by default.</p>\n\n<p>This approach does fit the workflow better anyway as testing JDK 14 is not the normal pattern and best activating manually through <code>-P jdk-14</code> rather than updating the <code>java.varsion</code> property.</p>\n"}],"owner":{"account_id":47296,"reputation":27247,"user_id":140037,"accept_rate":74,"display_name":"Brett Ryan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":742,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1651450662,"creation_date":1589865879,"question_id":61883813,"body_markdown":"I&#39;m attempting to create a pom that will:\r\n\r\n* Use correct JDK from [maven-toolchains-plugin][1] based on `java.version` property.\r\n* Activate appropriate profile based on required JDK from [maven-toolchains-plugin][1].\r\n\r\nI&#39;ve included the attempted `pom.xml` to achieve this.\r\n\r\nTesting this I&#39;m using `mvn clean help:active-profiles` which for each shows the following:\r\n\r\n`JAVA_HOME=/path/to/jdk/1.8`:\r\n\r\n    The following profiles are active:\r\n\r\n     - telstra-ae-sda (source: external)\r\n     - jdk-8 (source: com.example:profile-test:1.0.0-SNAPSHOT)\r\n\r\n`JAVA_HOME=/path/to/jdk/14`:\r\n\r\n    The following profiles are active:\r\n\r\n     - telstra-ae-sda (source: external)\r\n     - jdk-14 (source: com.example:profile-test:1.0.0-SNAPSHOT)\r\n\r\nI would have thought that profiles would pull from the compiling JDK, not the running JDK. Is this expected behaviour, and; anyone know a workaround?\r\n\r\nThe following `pom.xml` is used to achieve this:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0\r\n                                 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n      &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n      &lt;artifactId&gt;profile-test&lt;/artifactId&gt;\r\n      &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\r\n      &lt;packaging&gt;pom&lt;/packaging&gt;\r\n\r\n      &lt;properties&gt;\r\n        &lt;spring-boot.version&gt;2.3.0.RELEASE&lt;/spring-boot.version&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;java.version&gt;14&lt;/java.version&gt;\r\n        &lt;!--java.version&gt;1.8&lt;/java.version--&gt;\r\n      &lt;/properties&gt;\r\n\r\n      &lt;build&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-toolchains-plugin&lt;/artifactId&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;toolchain&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n            &lt;configuration&gt;\r\n              &lt;toolchains&gt;\r\n                &lt;jdk&gt;\r\n                  &lt;version&gt;${java.version}&lt;/version&gt;\r\n                &lt;/jdk&gt;\r\n              &lt;/toolchains&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n\r\n      &lt;profiles&gt;\r\n        &lt;profile&gt;\r\n          &lt;id&gt;jdk-8&lt;/id&gt;\r\n          &lt;activation&gt;\r\n            &lt;jdk&gt;1.8&lt;/jdk&gt;\r\n          &lt;/activation&gt;\r\n          &lt;build&gt;\r\n            &lt;plugins&gt;\r\n              &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                  &lt;source&gt;${java.version}&lt;/source&gt;\r\n                  &lt;target&gt;${java.version}&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n              &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n          &lt;/build&gt;\r\n        &lt;/profile&gt;\r\n        &lt;profile&gt;\r\n          &lt;id&gt;jdk-14&lt;/id&gt;\r\n          &lt;activation&gt;\r\n            &lt;jdk&gt;14&lt;/jdk&gt;\r\n          &lt;/activation&gt;\r\n          &lt;build&gt;\r\n            &lt;plugins&gt;\r\n              &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                  &lt;release&gt;${java.version}&lt;/release&gt;\r\n                  &lt;compilerArgs&gt;\r\n                    &lt;arg&gt;--enable-preview&lt;/arg&gt;\r\n                  &lt;/compilerArgs&gt;\r\n                  &lt;forceJavacCompilerUse&gt;true&lt;/forceJavacCompilerUse&gt;\r\n                  &lt;parameters&gt;true&lt;/parameters&gt;\r\n                &lt;/configuration&gt;\r\n              &lt;/plugin&gt;\r\n              &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                  &lt;argLine&gt;--enable-preview&lt;/argLine&gt;\r\n                &lt;/configuration&gt;\r\n              &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n          &lt;/build&gt;\r\n        &lt;/profile&gt;\r\n      &lt;/profiles&gt;\r\n\r\n    &lt;/project&gt;\r\n\r\n\r\n\r\n  [1]: https://maven.apache.org/plugins/maven-toolchains-plugin/","title":"Maven profiles activates on running jdk not on toolchains jdk","body":"<p>I'm attempting to create a pom that will:</p>\n\n<ul>\n<li>Use correct JDK from <a href=\"https://maven.apache.org/plugins/maven-toolchains-plugin/\" rel=\"nofollow noreferrer\">maven-toolchains-plugin</a> based on <code>java.version</code> property.</li>\n<li>Activate appropriate profile based on required JDK from <a href=\"https://maven.apache.org/plugins/maven-toolchains-plugin/\" rel=\"nofollow noreferrer\">maven-toolchains-plugin</a>.</li>\n</ul>\n\n<p>I've included the attempted <code>pom.xml</code> to achieve this.</p>\n\n<p>Testing this I'm using <code>mvn clean help:active-profiles</code> which for each shows the following:</p>\n\n<p><code>JAVA_HOME=/path/to/jdk/1.8</code>:</p>\n\n<pre><code>The following profiles are active:\n\n - telstra-ae-sda (source: external)\n - jdk-8 (source: com.example:profile-test:1.0.0-SNAPSHOT)\n</code></pre>\n\n<p><code>JAVA_HOME=/path/to/jdk/14</code>:</p>\n\n<pre><code>The following profiles are active:\n\n - telstra-ae-sda (source: external)\n - jdk-14 (source: com.example:profile-test:1.0.0-SNAPSHOT)\n</code></pre>\n\n<p>I would have thought that profiles would pull from the compiling JDK, not the running JDK. Is this expected behaviour, and; anyone know a workaround?</p>\n\n<p>The following <code>pom.xml</code> is used to achieve this:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0\n                             http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;com.example&lt;/groupId&gt;\n  &lt;artifactId&gt;profile-test&lt;/artifactId&gt;\n  &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n  &lt;packaging&gt;pom&lt;/packaging&gt;\n\n  &lt;properties&gt;\n    &lt;spring-boot.version&gt;2.3.0.RELEASE&lt;/spring-boot.version&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;java.version&gt;14&lt;/java.version&gt;\n    &lt;!--java.version&gt;1.8&lt;/java.version--&gt;\n  &lt;/properties&gt;\n\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-toolchains-plugin&lt;/artifactId&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;toolchain&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n        &lt;configuration&gt;\n          &lt;toolchains&gt;\n            &lt;jdk&gt;\n              &lt;version&gt;${java.version}&lt;/version&gt;\n            &lt;/jdk&gt;\n          &lt;/toolchains&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n\n  &lt;profiles&gt;\n    &lt;profile&gt;\n      &lt;id&gt;jdk-8&lt;/id&gt;\n      &lt;activation&gt;\n        &lt;jdk&gt;1.8&lt;/jdk&gt;\n      &lt;/activation&gt;\n      &lt;build&gt;\n        &lt;plugins&gt;\n          &lt;plugin&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n              &lt;source&gt;${java.version}&lt;/source&gt;\n              &lt;target&gt;${java.version}&lt;/target&gt;\n            &lt;/configuration&gt;\n          &lt;/plugin&gt;\n        &lt;/plugins&gt;\n      &lt;/build&gt;\n    &lt;/profile&gt;\n    &lt;profile&gt;\n      &lt;id&gt;jdk-14&lt;/id&gt;\n      &lt;activation&gt;\n        &lt;jdk&gt;14&lt;/jdk&gt;\n      &lt;/activation&gt;\n      &lt;build&gt;\n        &lt;plugins&gt;\n          &lt;plugin&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n              &lt;release&gt;${java.version}&lt;/release&gt;\n              &lt;compilerArgs&gt;\n                &lt;arg&gt;--enable-preview&lt;/arg&gt;\n              &lt;/compilerArgs&gt;\n              &lt;forceJavacCompilerUse&gt;true&lt;/forceJavacCompilerUse&gt;\n              &lt;parameters&gt;true&lt;/parameters&gt;\n            &lt;/configuration&gt;\n          &lt;/plugin&gt;\n          &lt;plugin&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n              &lt;argLine&gt;--enable-preview&lt;/argLine&gt;\n            &lt;/configuration&gt;\n          &lt;/plugin&gt;\n        &lt;/plugins&gt;\n      &lt;/build&gt;\n    &lt;/profile&gt;\n  &lt;/profiles&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","xml","spring","soap","xsd"],"answers":[{"tags":[],"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651448595,"creation_date":1651448595,"answer_id":72081182,"question_id":72071529,"body_markdown":"It works as expected if token element is appended to `sHeader` element. The `Token` default namespace (no prefix) is inherited from `sHeader` parent. \r\n\r\n\tQName QUsername = new QName(&quot;http://xxxx&quot;, &quot;Token&quot;);\r\n\tSOAPHeaderElement soapHeader;\r\n\ttry {\r\n\t\tMessageFactory messageFactory = MessageFactory.newInstance();\r\n\t\tSOAPMessage soapMessage = messageFactory.createMessage();\r\n\t\tSOAPPart soapPart = soapMessage.getSOAPPart();\r\n\r\n\t\tSOAPEnvelope envelope = soapPart.getEnvelope();\r\n\t\t//envelope.addNamespaceDeclaration(&quot;ex&quot;, &quot;http://xxx&quot;);\r\n\r\n\t\tsoapHeader = soapMessage.getSOAPHeader().addHeaderElement(QUsername);\r\n\t\tQName header1 = new QName(&quot;http://xxxx&quot;, &quot;sHeader&quot;);\r\n\t\tSOAPElement head1Child = soapMessage.getSOAPHeader().addHeaderElement(header1).addChildElement(soapHeader);\r\n\t\thead1Child.addTextNode(&quot;XXX&quot;);\r\n\r\n\t\tsoapMessage.writeTo(System.out);\r\n\t\tSystem.out.println();\r\n\r\n\t} catch (SOAPException | IOException e) {\r\n\t\t// TODO Auto-generated catch block\r\n\t\te.printStackTrace();\r\n\t}\r\n\r\nResult (formatted):\r\n\r\n    &lt;?xml version=&quot;1.0&quot;?&gt;\r\n    &lt;SOAP-ENV:Envelope xmlns:SOAP-ENV=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\r\n      &lt;SOAP-ENV:Header&gt;\r\n        &lt;sHeader xmlns=&quot;http://xxxx&quot;&gt;\r\n          &lt;Token&gt;XXX&lt;/Token&gt;\r\n        &lt;/sHeader&gt;\r\n      &lt;/SOAP-ENV:Header&gt;\r\n      &lt;SOAP-ENV:Body/&gt;\r\n    &lt;/SOAP-ENV:Envelope&gt;","title":"SOAP header without namespace","body":"<p>It works as expected if token element is appended to <code>sHeader</code> element. The <code>Token</code> default namespace (no prefix) is inherited from <code>sHeader</code> parent.</p>\n<pre><code>QName QUsername = new QName(&quot;http://xxxx&quot;, &quot;Token&quot;);\nSOAPHeaderElement soapHeader;\ntry {\n    MessageFactory messageFactory = MessageFactory.newInstance();\n    SOAPMessage soapMessage = messageFactory.createMessage();\n    SOAPPart soapPart = soapMessage.getSOAPPart();\n\n    SOAPEnvelope envelope = soapPart.getEnvelope();\n    //envelope.addNamespaceDeclaration(&quot;ex&quot;, &quot;http://xxx&quot;);\n\n    soapHeader = soapMessage.getSOAPHeader().addHeaderElement(QUsername);\n    QName header1 = new QName(&quot;http://xxxx&quot;, &quot;sHeader&quot;);\n    SOAPElement head1Child = soapMessage.getSOAPHeader().addHeaderElement(header1).addChildElement(soapHeader);\n    head1Child.addTextNode(&quot;XXX&quot;);\n\n    soapMessage.writeTo(System.out);\n    System.out.println();\n\n} catch (SOAPException | IOException e) {\n    // TODO Auto-generated catch block\n    e.printStackTrace();\n}\n</code></pre>\n<p>Result (formatted):</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot;?&gt;\n&lt;SOAP-ENV:Envelope xmlns:SOAP-ENV=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\n  &lt;SOAP-ENV:Header&gt;\n    &lt;sHeader xmlns=&quot;http://xxxx&quot;&gt;\n      &lt;Token&gt;XXX&lt;/Token&gt;\n    &lt;/sHeader&gt;\n  &lt;/SOAP-ENV:Header&gt;\n  &lt;SOAP-ENV:Body/&gt;\n&lt;/SOAP-ENV:Envelope&gt;\n</code></pre>\n"}],"owner":{"account_id":8755814,"reputation":310,"user_id":6547451,"accept_rate":75,"display_name":"eshwar chettri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":557,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72081182,"answer_count":1,"score":1,"last_activity_date":1651448595,"creation_date":1651346689,"question_id":72071529,"body_markdown":"I  want to create a SOAP header. That should contain an Element Token without namespace. If I don&#39;t give namespace I&#39;m getting the &quot;Header element must be namespace-qualified&quot; error. \r\nBelow is the code I wrote. \r\n\r\n    QName QUsername =\r\n              new QName(&quot;http://xxxx&quot;, &quot;Token&quot;);\r\n            SOAPHeaderElement soapHeader = soapMessage.getSOAPHeader().addHeaderElement(QUsername);\r\n            soapHeader.addTextNode(&quot;XXX&quot;);\r\n            QName header1 = new QName(&quot;http://xxxx&quot;, &quot;sHeader&quot;);\r\n            soapMessage.getSOAPHeader().addHeaderElement(header1).addChildElement(soapHeader);\r\nOutput I&#39;m getting is:\r\n\r\n        &lt;soap:Header&gt;\r\n          &lt;sHeader xmlns=&quot;http://xxx&quot;&gt;\r\n            &lt;Token xmlns=&quot;http://xxx&quot;&gt;\r\n               XXXX\r\n            &lt;/Token&gt;\r\n         &lt;/sHeader&gt;\r\n      &lt;/soap:Header&gt;\r\n\r\n\r\nExpected soap header:\r\n\r\n    &lt;soap:Header&gt;\r\n    &lt;sHeader xmlns=&quot;http://xxxx&quot;&gt;\r\n    &lt;Token&gt;XXXX&lt;/Token&gt;\r\n    &lt;/sHeader&gt;\r\n    &lt;/soap:Header&gt;\r\n\r\n","title":"SOAP header without namespace","body":"<p>I  want to create a SOAP header. That should contain an Element Token without namespace. If I don't give namespace I'm getting the &quot;Header element must be namespace-qualified&quot; error.\nBelow is the code I wrote.</p>\n<pre><code>QName QUsername =\n          new QName(&quot;http://xxxx&quot;, &quot;Token&quot;);\n        SOAPHeaderElement soapHeader = soapMessage.getSOAPHeader().addHeaderElement(QUsername);\n        soapHeader.addTextNode(&quot;XXX&quot;);\n        QName header1 = new QName(&quot;http://xxxx&quot;, &quot;sHeader&quot;);\n        soapMessage.getSOAPHeader().addHeaderElement(header1).addChildElement(soapHeader);\n</code></pre>\n<p>Output I'm getting is:</p>\n<pre><code>    &lt;soap:Header&gt;\n      &lt;sHeader xmlns=&quot;http://xxx&quot;&gt;\n        &lt;Token xmlns=&quot;http://xxx&quot;&gt;\n           XXXX\n        &lt;/Token&gt;\n     &lt;/sHeader&gt;\n  &lt;/soap:Header&gt;\n</code></pre>\n<p>Expected soap header:</p>\n<pre><code>&lt;soap:Header&gt;\n&lt;sHeader xmlns=&quot;http://xxxx&quot;&gt;\n&lt;Token&gt;XXXX&lt;/Token&gt;\n&lt;/sHeader&gt;\n&lt;/soap:Header&gt;\n</code></pre>\n"},{"tags":["java","android","sqlite","authentication","sharedpreferences"],"comments":[{"owner":{"account_id":1290116,"reputation":6044,"user_id":1242380,"accept_rate":89,"display_name":"Neil Townsend"},"score":0,"creation_date":1363286778,"post_id":15414894,"comment_id":21801170,"body_markdown":"Hello, three of us have tried to help below, would you be able to upvote the useful answers and tick one if it answers your question. If it doesn&#39;t, could you clarify why so we can help further? Thanks!","body":"Hello, three of us have tried to help below, would you be able to upvote the useful answers and tick one if it answers your question. If it doesn&#39;t, could you clarify why so we can help further? Thanks!"}],"answers":[{"tags":[],"owner":{"account_id":1290116,"reputation":6044,"user_id":1242380,"accept_rate":89,"display_name":"Neil Townsend"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1363279233,"creation_date":1363279233,"answer_id":15415145,"question_id":15414894,"body_markdown":"You can do this with shared preferences, as long as you are comfortable storing reasonably confidential data there. You will need some shared codes between storing and retrieving:\r\n\r\n    final static String pfName = &quot;com.super.stuff.preffile.name&quot;;\r\n    final static String pfCodeForID = &quot;com.super.stuff.pf.id&quot;;\r\n    final static String pfCodeForPassword = &quot;com.super.stuff.pf.passwd&quot;;\r\n    final static String pfNoStringPresent = &quot;NO-STRING-PRESENT-HERE&quot;;\r\n\r\n    final static pfCodes = MODE_PRIVATE; // See http://developer.android.com/reference/android/content/Context.html#getSharedPreferences(java.lang.String, int)\r\nTo store the information:\r\n\r\n    String ID = //whatever;\r\n    String password = //whatever;\r\n\r\n    SharedPreferences settings = context.getSharedPreferences(pfName, pfCodes);\r\n    SharedPreferences.Editor editor = settings.edit();\r\n    editor.putString(pfCodeForID, ID);\r\n    editor.putString(pfCodeForPassword, password);\r\n    editor.commit();\r\n\r\nTo retrieve the information:\r\n\r\n    SharedPreferences settings = context.getSharedPreferences(pfName, pfCodes);\r\n\r\n    String ID = editor.getString(pfCodeForID, pfNoStringPresent);\r\n    String password = editor.getString(pfCodeForPassword, pfNoStringPresent);\r\n\r\n    if (ID.contentEquals(pfNoStringPresent) &amp;&amp; password.contentEquals(pfNoStringPresent)) {\r\n         // Handle the case of nothing stored, ie get ID and password\r\n         }\r\n\r\nObviously this fails if both the username and the password are the same as pfNoStringPresent!\r\n\r\nIf you are concerned about storing sensitive data in this way, then you will need to store it either in a database, or encrypt it in some way. You will need to decide how critical it is for the information to be protected when it is being stored on a device belonging to the person who is giving you the ID information, how important getting this information from the phone would be to a thief, etc etc.","title":"How to store Single user login data for Android?","body":"<p>You can do this with shared preferences, as long as you are comfortable storing reasonably confidential data there. You will need some shared codes between storing and retrieving:</p>\n\n<pre><code>final static String pfName = \"com.super.stuff.preffile.name\";\nfinal static String pfCodeForID = \"com.super.stuff.pf.id\";\nfinal static String pfCodeForPassword = \"com.super.stuff.pf.passwd\";\nfinal static String pfNoStringPresent = \"NO-STRING-PRESENT-HERE\";\n\nfinal static pfCodes = MODE_PRIVATE; // See http://developer.android.com/reference/android/content/Context.html#getSharedPreferences(java.lang.String, int)\n</code></pre>\n\n<p>To store the information:</p>\n\n<pre><code>String ID = //whatever;\nString password = //whatever;\n\nSharedPreferences settings = context.getSharedPreferences(pfName, pfCodes);\nSharedPreferences.Editor editor = settings.edit();\neditor.putString(pfCodeForID, ID);\neditor.putString(pfCodeForPassword, password);\neditor.commit();\n</code></pre>\n\n<p>To retrieve the information:</p>\n\n<pre><code>SharedPreferences settings = context.getSharedPreferences(pfName, pfCodes);\n\nString ID = editor.getString(pfCodeForID, pfNoStringPresent);\nString password = editor.getString(pfCodeForPassword, pfNoStringPresent);\n\nif (ID.contentEquals(pfNoStringPresent) &amp;&amp; password.contentEquals(pfNoStringPresent)) {\n     // Handle the case of nothing stored, ie get ID and password\n     }\n</code></pre>\n\n<p>Obviously this fails if both the username and the password are the same as pfNoStringPresent!</p>\n\n<p>If you are concerned about storing sensitive data in this way, then you will need to store it either in a database, or encrypt it in some way. You will need to decide how critical it is for the information to be protected when it is being stored on a device belonging to the person who is giving you the ID information, how important getting this information from the phone would be to a thief, etc etc.</p>\n"},{"tags":[],"owner":{"account_id":2103095,"reputation":9945,"user_id":1870173,"accept_rate":29,"display_name":"Viswanath Lekshmanan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1384627565,"creation_date":1363280279,"answer_id":15415557,"question_id":15414894,"body_markdown":"Use Sqlite, its fairly simple. Follow this:\r\n    \r\n    public SQLiteDatabase sampleDB;  \r\n    sampleDB =  this.openOrCreateDatabase(TABLE_NAME, MODE_PRIVATE, null);    \r\n    sampleDB.execSQL(&quot;CREATE TABLE IF NOT EXISTS &quot; +\r\n    \t\t\t\tTABLE_NAME+ &quot;(&quot; + COLUMN_ID\r\n    \t\t\t\t+ &quot; integer primary key autoincrement, &quot; + COLUMN1\r\n    \t\t\t\t+ &quot; text not null,&quot;+ COLUMN2\r\n    \t\t\t\t+ &quot; text not null);&quot;);\r\n    \r\n    \r\nHere i have three fields where column1 and column2 are strings having values &quot;username&quot; and &quot;password&quot;. After this creation you can execute query as what ever you need.","title":"How to store Single user login data for Android?","body":"<p>Use Sqlite, its fairly simple. Follow this:</p>\n\n<pre><code>public SQLiteDatabase sampleDB;  \nsampleDB =  this.openOrCreateDatabase(TABLE_NAME, MODE_PRIVATE, null);    \nsampleDB.execSQL(\"CREATE TABLE IF NOT EXISTS \" +\n                TABLE_NAME+ \"(\" + COLUMN_ID\n                + \" integer primary key autoincrement, \" + COLUMN1\n                + \" text not null,\"+ COLUMN2\n                + \" text not null);\");\n</code></pre>\n\n<p>Here i have three fields where column1 and column2 are strings having values \"username\" and \"password\". After this creation you can execute query as what ever you need.</p>\n"},{"tags":[],"owner":{"account_id":3138195,"reputation":906,"user_id":2654254,"accept_rate":67,"display_name":"Shawn Thye"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1392919520,"creation_date":1392919520,"answer_id":21916024,"question_id":15414894,"body_markdown":"Integrate with AccountManager then use setUserData for it...the best way i think. :)","title":"How to store Single user login data for Android?","body":"<p>Integrate with AccountManager then use setUserData for it...the best way i think. :)</p>\n"}],"owner":{"account_id":2493721,"reputation":1,"user_id":2170684,"display_name":"Madiha"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2449,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1651448546,"creation_date":1363278576,"question_id":15414894,"body_markdown":"Referring to the question and answer on https://stackoverflow.com/questions/14035045/best-way-to-store-a-single-user-in-an-android-app\r\n\r\nHow does shared preferences actually work?\r\n\r\nWhat I&#39;d like to do is:\r\n\r\n - First time user opens app adds a login id and password\r\n - Next time user opens app uses the previous id/password and data to login. (I don&#39;t want automatic login because data in my app will be sensitive and thus even a friend taking the mobile shouldn&#39;t be able to see it.)\r\n - Ability for the user to change this id/password\r\n\r\nIs this possible through Shared Preferences? Or do I need to use SQLlite?\r\nI am completely new to Android so I&#39;d really appreciate it if you attach a working code and explanation.","title":"How to store Single user login data for Android?","body":"<p>Referring to the question and answer on <a href=\"https://stackoverflow.com/questions/14035045/best-way-to-store-a-single-user-in-an-android-app\">Best way to store a single user in an Android app?</a></p>\n\n<p>How does shared preferences actually work?</p>\n\n<p>What I'd like to do is:</p>\n\n<ul>\n<li>First time user opens app adds a login id and password</li>\n<li>Next time user opens app uses the previous id/password and data to login. (I don't want automatic login because data in my app will be sensitive and thus even a friend taking the mobile shouldn't be able to see it.)</li>\n<li>Ability for the user to change this id/password</li>\n</ul>\n\n<p>Is this possible through Shared Preferences? Or do I need to use SQLlite?\nI am completely new to Android so I'd really appreciate it if you attach a working code and explanation.</p>\n"},{"tags":["java","tomcat","cmd","server"],"comments":[{"owner":{"account_id":3033490,"reputation":4974,"user_id":2572645,"accept_rate":100,"display_name":"Andy K"},"score":0,"creation_date":1501363982,"post_id":45394248,"comment_id":77749225,"body_markdown":"Hi @tenday what do you have in your startup.bat?","body":"Hi @tenday what do you have in your startup.bat?"},{"owner":{"account_id":10888190,"reputation":121,"user_id":8005002,"accept_rate":86,"display_name":"Tenday"},"score":0,"creation_date":1501364685,"post_id":45394248,"comment_id":77749427,"body_markdown":"Hi, I did not change anything there, I tried to add at the end, but the window still appears and immediately disappears","body":"Hi, I did not change anything there, I tried to add at the end, but the window still appears and immediately disappears"},{"owner":{"account_id":406060,"reputation":21895,"user_id":775345,"accept_rate":96,"display_name":"Robert Moskal"},"score":0,"creation_date":1501364743,"post_id":45394248,"comment_id":77749438,"body_markdown":"Could you also post what tomcat prints out to the terminal when it starts up?","body":"Could you also post what tomcat prints out to the terminal when it starts up?"},{"owner":{"account_id":10888190,"reputation":121,"user_id":8005002,"accept_rate":86,"display_name":"Tenday"},"score":0,"creation_date":1501364967,"post_id":45394248,"comment_id":77749502,"body_markdown":"Just this: Using CATALINA_BASE:   &quot;D:\\Tomcat&quot;\nUsing CATALINA_HOME:   &quot;D:\\Tomcat&quot;\nUsing CATALINA_TMPDIR: &quot;D:\\Tomcat\\temp&quot;\nUsing JRE_HOME:        &quot;C:\\Program Files\\Java\\jre1.8.0_131&quot;\nUsing CLASSPATH:       &quot;D:\\Tomcat\\bin\\bootstrap.jar;D:\\Tomcat\\bin\\tomcat-juli.jar&quot;","body":"Just this: Using CATALINA_BASE:   &quot;D:\\Tomcat&quot; Using CATALINA_HOME:   &quot;D:\\Tomcat&quot; Using CATALINA_TMPDIR: &quot;D:\\Tomcat\\temp&quot; Using JRE_HOME:        &quot;C:\\Program Files\\Java\\jre1.8.0_131&quot; Using CLASSPATH:       &quot;D:\\Tomcat\\bin\\bootstrap.jar;D:\\Tomcat\\bin\\tomcat-juli.jar&quot;"},{"owner":{"account_id":10888190,"reputation":121,"user_id":8005002,"accept_rate":86,"display_name":"Tenday"},"score":0,"creation_date":1501367215,"post_id":45394248,"comment_id":77749983,"body_markdown":"Guys, this is very strange. The problem was the archive, which I downloaded from the official site(downloaded and tried different versions): Downloaded tomcat from another site and it all worked!","body":"Guys, this is very strange. The problem was the archive, which I downloaded from the official site(downloaded and tried different versions): Downloaded tomcat from another site and it all worked!"}],"answers":[{"tags":[],"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1501407370,"creation_date":1501407370,"answer_id":45398386,"question_id":45394248,"body_markdown":"This is most likely a duplicate question, but neither of the other answers that I found with a quick lookup contained the basic technique on how to find out the root cause for yourself, thus I&#39;m answering here:\r\n\r\nWhen the command line that `startup.bat` starts immediately disappears, just use `catalina.bat run`, which will start tomcat in the same command line that you&#39;re currently running (of course, this only works from command line, you can&#39;t doubleclick any more). The error message that otherwise would be shown in the (immediately disappearing) newly opened command line window, will stay visible in your current command line.\r\n\r\nMost likely, the same content is also found in `logs/catalina.out` and you should check that file as well.","title":"Tomcat does not start. Where was I wrong?","body":"<p>This is most likely a duplicate question, but neither of the other answers that I found with a quick lookup contained the basic technique on how to find out the root cause for yourself, thus I'm answering here:</p>\n\n<p>When the command line that <code>startup.bat</code> starts immediately disappears, just use <code>catalina.bat run</code>, which will start tomcat in the same command line that you're currently running (of course, this only works from command line, you can't doubleclick any more). The error message that otherwise would be shown in the (immediately disappearing) newly opened command line window, will stay visible in your current command line.</p>\n\n<p>Most likely, the same content is also found in <code>logs/catalina.out</code> and you should check that file as well.</p>\n"},{"tags":[],"owner":{"account_id":24328671,"reputation":1,"user_id":18267858,"display_name":"Merope Argy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651447849,"creation_date":1645442015,"answer_id":71205348,"question_id":45394248,"body_markdown":"For me it was because there is a space in Program Files between Program and Files and it couldn&#39;t recognize the path. I changed the path of my project and moved it under Documents and it worked.","title":"Tomcat does not start. Where was I wrong?","body":"<p>For me it was because there is a space in Program Files between Program and Files and it couldn't recognize the path. I changed the path of my project and moved it under Documents and it worked.</p>\n"}],"owner":{"account_id":10888190,"reputation":121,"user_id":8005002,"accept_rate":86,"display_name":"Tenday"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2126,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":45398386,"answer_count":2,"score":1,"last_activity_date":1651447849,"creation_date":1501363847,"question_id":45394248,"body_markdown":"I did everything according to the instructions, installed all environment variables, but it still does not start. This is what is output in cmd when I try to start:\r\n\r\n    C:\\WINDOWS\\system32&gt;%CATALINA_HOME%\\bin\\startup.bat\r\n    Using CATALINA_BASE:   &quot;D:\\Tomcat&quot;\r\n    Using CATALINA_HOME:   &quot;D:\\Tomcat&quot;\r\n    Using CATALINA_TMPDIR: &quot;D:\\Tomcat\\temp&quot;\r\n    Using JRE_HOME:        &quot;C:\\Program Files\\Java\\jre1.8.0_131&quot;\r\n    Using CLASSPATH:       &quot;D:\\Tomcat\\bin\\bootstrap.jar;D:\\Tomcat\\bin\\tomcat-juli.jar&quot;\r\n    C:\\WINDOWS\\system32&gt;\r\nA window is opened for the bat and disappears immediately. There is nothing on http://127.0.0.1:8080/. What could be the problem?\r\nContents of startup.bat:\r\n\r\n    @echo off\r\n    rem Licensed to the Apache Software Foundation (ASF) under one or more\r\n    rem contributor license agreements.  See the NOTICE file distributed with\r\n    rem this work for additional information regarding copyright ownership.\r\n    rem The ASF licenses this file to You under the Apache License, Version 2.0\r\n    rem (the &quot;License&quot;); you may not use this file except in compliance with\r\n    rem the License.  You may obtain a copy of the License at\r\n    rem\r\n    rem     http://www.apache.org/licenses/LICENSE-2.0\r\n    rem\r\n    rem Unless required by applicable law or agreed to in writing, software\r\n    rem distributed under the License is distributed on an &quot;AS IS&quot; BASIS,\r\n    rem WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n    rem See the License for the specific language governing permissions and\r\n    rem limitations under the License.\r\n    \r\n    rem ---------------------------------------------------------------------------\r\n    rem Start script for the CATALINA Server\r\n    rem ---------------------------------------------------------------------------\r\n    \r\n    setlocal\r\n    \r\n    rem Guess CATALINA_HOME if not defined\r\n    set &quot;CURRENT_DIR=%cd%&quot;\r\n    if not &quot;%CATALINA_HOME%&quot; == &quot;&quot; goto gotHome\r\n    set &quot;CATALINA_HOME=%CURRENT_DIR%&quot;\r\n    if exist &quot;%CATALINA_HOME%\\bin\\catalina.bat&quot; goto okHome\r\n    cd ..\r\n    set &quot;CATALINA_HOME=%cd%&quot;\r\n    cd &quot;%CURRENT_DIR%&quot;\r\n    :gotHome\r\n    if exist &quot;%CATALINA_HOME%\\bin\\catalina.bat&quot; goto okHome\r\n    echo The CATALINA_HOME environment variable is not defined correctly\r\n    echo This environment variable is needed to run this program\r\n    goto end\r\n    :okHome\r\n    \r\n    set &quot;EXECUTABLE=%CATALINA_HOME%\\bin\\catalina.bat&quot;\r\n    \r\n    rem Check that target executable exists\r\n    if exist &quot;%EXECUTABLE%&quot; goto okExec\r\n    echo Cannot find &quot;%EXECUTABLE%&quot;\r\n    echo This file is needed to run this program\r\n    goto end\r\n    :okExec\r\n    \r\n    rem Get remaining unshifted command line arguments and save them in the\r\n    set CMD_LINE_ARGS=\r\n    :setArgs\r\n    if &quot;&quot;%1&quot;&quot;==&quot;&quot;&quot;&quot; goto doneSetArgs\r\n    set CMD_LINE_ARGS=%CMD_LINE_ARGS% %1\r\n    shift\r\n    goto setArgs\r\n    :doneSetArgs\r\n    \r\n    call &quot;%EXECUTABLE%&quot; start %CMD_LINE_ARGS%\r\n    \r\n    :end\r\n\r\n","title":"Tomcat does not start. Where was I wrong?","body":"<p>I did everything according to the instructions, installed all environment variables, but it still does not start. This is what is output in cmd when I try to start:</p>\n\n<pre><code>C:\\WINDOWS\\system32&gt;%CATALINA_HOME%\\bin\\startup.bat\nUsing CATALINA_BASE:   \"D:\\Tomcat\"\nUsing CATALINA_HOME:   \"D:\\Tomcat\"\nUsing CATALINA_TMPDIR: \"D:\\Tomcat\\temp\"\nUsing JRE_HOME:        \"C:\\Program Files\\Java\\jre1.8.0_131\"\nUsing CLASSPATH:       \"D:\\Tomcat\\bin\\bootstrap.jar;D:\\Tomcat\\bin\\tomcat-juli.jar\"\nC:\\WINDOWS\\system32&gt;\n</code></pre>\n\n<p>A window is opened for the bat and disappears immediately. There is nothing on <a href=\"http://127.0.0.1:8080/\" rel=\"nofollow noreferrer\">http://127.0.0.1:8080/</a>. What could be the problem?\nContents of startup.bat:</p>\n\n<pre><code>@echo off\nrem Licensed to the Apache Software Foundation (ASF) under one or more\nrem contributor license agreements.  See the NOTICE file distributed with\nrem this work for additional information regarding copyright ownership.\nrem The ASF licenses this file to You under the Apache License, Version 2.0\nrem (the \"License\"); you may not use this file except in compliance with\nrem the License.  You may obtain a copy of the License at\nrem\nrem     http://www.apache.org/licenses/LICENSE-2.0\nrem\nrem Unless required by applicable law or agreed to in writing, software\nrem distributed under the License is distributed on an \"AS IS\" BASIS,\nrem WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nrem See the License for the specific language governing permissions and\nrem limitations under the License.\n\nrem ---------------------------------------------------------------------------\nrem Start script for the CATALINA Server\nrem ---------------------------------------------------------------------------\n\nsetlocal\n\nrem Guess CATALINA_HOME if not defined\nset \"CURRENT_DIR=%cd%\"\nif not \"%CATALINA_HOME%\" == \"\" goto gotHome\nset \"CATALINA_HOME=%CURRENT_DIR%\"\nif exist \"%CATALINA_HOME%\\bin\\catalina.bat\" goto okHome\ncd ..\nset \"CATALINA_HOME=%cd%\"\ncd \"%CURRENT_DIR%\"\n:gotHome\nif exist \"%CATALINA_HOME%\\bin\\catalina.bat\" goto okHome\necho The CATALINA_HOME environment variable is not defined correctly\necho This environment variable is needed to run this program\ngoto end\n:okHome\n\nset \"EXECUTABLE=%CATALINA_HOME%\\bin\\catalina.bat\"\n\nrem Check that target executable exists\nif exist \"%EXECUTABLE%\" goto okExec\necho Cannot find \"%EXECUTABLE%\"\necho This file is needed to run this program\ngoto end\n:okExec\n\nrem Get remaining unshifted command line arguments and save them in the\nset CMD_LINE_ARGS=\n:setArgs\nif \"\"%1\"\"==\"\"\"\" goto doneSetArgs\nset CMD_LINE_ARGS=%CMD_LINE_ARGS% %1\nshift\ngoto setArgs\n:doneSetArgs\n\ncall \"%EXECUTABLE%\" start %CMD_LINE_ARGS%\n\n:end\n</code></pre>\n"},{"tags":["java","arrays","string","java-stream"],"comments":[{"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":3,"creation_date":1651434271,"post_id":72079876,"comment_id":127359329,"body_markdown":"what is the final goal ? You said &quot;length of each string in this array&quot; but your code computes a sum. What is the exact expected result ?","body":"what is the final goal ? You said &quot;length of each string in this array&quot; but your code computes a sum. What is the exact expected result ?"}],"answers":[{"tags":[],"owner":{"account_id":1522669,"reputation":11674,"user_id":1421925,"accept_rate":90,"display_name":"Magnilex"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1651434430,"creation_date":1651434430,"answer_id":72079932,"question_id":72079876,"body_markdown":"You could simply collect after mapping to `String::length`:\r\n\r\n    List&lt;Integer&gt; length = Arrays.stream(text)\r\n        .filter(Objects::nonNull)\r\n        .map(String::length)\r\n        .toList();\r\n\r\nThis would give you a list with the lengths in the same order as defined in the array. (If below JDK 16, you need to use `collect(Collectors.toList())` instead of `toList()`). \r\n\r\nAnother option would be to collect to a `Map`:\r\n\r\n    Map&lt;String, Integer&gt; stringToLength = Arrays.stream(text)\r\n        .filter(Objects::nonNull)\r\n        .distinct()\r\n        .collect(Collectors.toMap(Function.identity(), String::length));\r\n\r\nThis would give you a map with the strings as keys, and the length as values. `distinct()` is used in order to protect yourself from multiple copies of the same string, the map collecting would throw an exception in case of duplicates.","title":"Java stream API to find length of each string in list","body":"<p>You could simply collect after mapping to <code>String::length</code>:</p>\n<pre><code>List&lt;Integer&gt; length = Arrays.stream(text)\n    .filter(Objects::nonNull)\n    .map(String::length)\n    .toList();\n</code></pre>\n<p>This would give you a list with the lengths in the same order as defined in the array. (If below JDK 16, you need to use <code>collect(Collectors.toList())</code> instead of <code>toList()</code>).</p>\n<p>Another option would be to collect to a <code>Map</code>:</p>\n<pre><code>Map&lt;String, Integer&gt; stringToLength = Arrays.stream(text)\n    .filter(Objects::nonNull)\n    .distinct()\n    .collect(Collectors.toMap(Function.identity(), String::length));\n</code></pre>\n<p>This would give you a map with the strings as keys, and the length as values. <code>distinct()</code> is used in order to protect yourself from multiple copies of the same string, the map collecting would throw an exception in case of duplicates.</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1651439795,"creation_date":1651439795,"answer_id":72080479,"question_id":72079876,"body_markdown":"Since you are starting with an array you may want to return an array so this will work.\r\n```\r\nString[] text = {&quot;hello&quot;, &quot;bye&quot;};\r\n\r\nint[] lengths = Arrays.stream(text)\r\n    .mapToInt(String::length)\r\n    .toArray();\r\nSystem.out.println(Arrays.toString(lengths));\r\n```\r\nprints\r\n```\r\n[5, 3]\r\n","title":"Java stream API to find length of each string in list","body":"<p>Since you are starting with an array you may want to return an array so this will work.</p>\n<pre><code>String[] text = {&quot;hello&quot;, &quot;bye&quot;};\n\nint[] lengths = Arrays.stream(text)\n    .mapToInt(String::length)\n    .toArray();\nSystem.out.println(Arrays.toString(lengths));\n</code></pre>\n<p>prints</p>\n<pre><code>[5, 3]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1651447447,"creation_date":1651445925,"answer_id":72080985,"question_id":72079876,"body_markdown":"# tl;dr\r\n\r\nUse code points rather than `char` &amp; `String#length`.\r\n\r\n```java\r\nArrays\r\n    .stream( inputs )                          // A stream of each `String` object in the array.\r\n    .mapToLong( s -&gt; s.codePoints().count() )  // Get the count of code points for each string. Returns a `LongStream`. \r\n    .toArray() ;                               // Returns an array of `long` primitives. \r\n```\r\n\r\n\r\n# Code points\r\n\r\nYour code snippet and the other Answers use `String#length`. Unfortunately that method is legacy, based on the legacy type `char`. \r\n\r\nThat approach fails with most characters. Here is a demonstration of such a failure.\r\n\r\n    String input = &quot;A&#128567;C&quot; ;\r\n    int len = input.length() ;\r\n    System.out.println( len ) ;\r\n\r\nSee that [code run live at IdeOne.com][1].\r\n\r\n&gt;4\r\n\r\nResult is incorrect, reporting “4” for a string of 3 characters.\r\n\r\nInstead of `char`, use [code point][2] integer numbers when working with individual characters. A code point is the number permanently assigned to each character defined in Unicode.\r\n\r\nFor each string of our stream of inputs, get an [`IntStream`][3] whose elements are the code points of each character in that string. Get the count of that stream of code points, which returns a `long`.  Report those code point counts as a `LongStream`. Collect results to an array of `long` primitive values. \r\n\r\n        String[] inputs = { &quot;hello&quot; , &quot;bye&quot; ,  &quot;A&#128567;C&quot; } ;\r\n        long[] lengths =\r\n\t\t    Arrays\r\n                .stream( inputs )                          // A stream of each `String` object in the array.\r\n                .mapToLong( s -&gt; s.codePoints().count() )  // Get the count of code points for each string. Returns a `LongStream`. \r\n                .toArray() ;\r\n\r\nSee this [code run live at IdeOne.com][4].\r\n\r\n&gt; [5, 3, 3]\r\n\r\n\r\n  [1]: https://ideone.com/I5tU0j\r\n  [2]: https://en.wikipedia.org/wiki/Code_point\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/IntStream.html\r\n  [4]: https://ideone.com/RQ24dD","title":"Java stream API to find length of each string in list","body":"<h1>tl;dr</h1>\n<p>Use code points rather than <code>char</code> &amp; <code>String#length</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Arrays\n    .stream( inputs )                          // A stream of each `String` object in the array.\n    .mapToLong( s -&gt; s.codePoints().count() )  // Get the count of code points for each string. Returns a `LongStream`. \n    .toArray() ;                               // Returns an array of `long` primitives. \n</code></pre>\n<h1>Code points</h1>\n<p>Your code snippet and the other Answers use <code>String#length</code>. Unfortunately that method is legacy, based on the legacy type <code>char</code>.</p>\n<p>That approach fails with most characters. Here is a demonstration of such a failure.</p>\n<pre><code>String input = &quot;A😷C&quot; ;\nint len = input.length() ;\nSystem.out.println( len ) ;\n</code></pre>\n<p>See that <a href=\"https://ideone.com/I5tU0j\" rel=\"noreferrer\">code run live at IdeOne.com</a>.</p>\n<blockquote>\n<p>4</p>\n</blockquote>\n<p>Result is incorrect, reporting “4” for a string of 3 characters.</p>\n<p>Instead of <code>char</code>, use <a href=\"https://en.wikipedia.org/wiki/Code_point\" rel=\"noreferrer\">code point</a> integer numbers when working with individual characters. A code point is the number permanently assigned to each character defined in Unicode.</p>\n<p>For each string of our stream of inputs, get an <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/IntStream.html\" rel=\"noreferrer\"><code>IntStream</code></a> whose elements are the code points of each character in that string. Get the count of that stream of code points, which returns a <code>long</code>.  Report those code point counts as a <code>LongStream</code>. Collect results to an array of <code>long</code> primitive values.</p>\n<pre><code>    String[] inputs = { &quot;hello&quot; , &quot;bye&quot; ,  &quot;A😷C&quot; } ;\n    long[] lengths =\n        Arrays\n            .stream( inputs )                          // A stream of each `String` object in the array.\n            .mapToLong( s -&gt; s.codePoints().count() )  // Get the count of code points for each string. Returns a `LongStream`. \n            .toArray() ;\n</code></pre>\n<p>See this <a href=\"https://ideone.com/RQ24dD\" rel=\"noreferrer\">code run live at IdeOne.com</a>.</p>\n<blockquote>\n<p>[5, 3, 3]</p>\n</blockquote>\n"}],"owner":{"account_id":4627362,"reputation":2106,"user_id":6379197,"accept_rate":43,"display_name":"Christopher Marlowe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3548,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1651447447,"creation_date":1651433898,"question_id":72079876,"body_markdown":"I have a String array in java as follows. \r\n\r\n    String[] text = {&quot;hello&quot;, &quot;bye&quot;};\r\n\r\nNow I need to use Java stream API to calculate the length of each string in this array. I do not want to use for loop. How can I do that? \r\n\r\nUpdate: \r\nI have checked this [link][1] and got the following code to get the sum of the length of each string of this array. \r\n\r\n    Arrays.stream(text)\r\n          .filter(Objects::nonNull)\r\n          .mapToInt(String::length)\r\n          .reduce(0,Integer::sum);\r\n\r\n  [1]: https://stackoverflow.com/a/49438006/6379197","title":"Java stream API to find length of each string in list","body":"<p>I have a String array in java as follows.</p>\n<pre><code>String[] text = {&quot;hello&quot;, &quot;bye&quot;};\n</code></pre>\n<p>Now I need to use Java stream API to calculate the length of each string in this array. I do not want to use for loop. How can I do that?</p>\n<p>Update:\nI have checked this <a href=\"https://stackoverflow.com/a/49438006/6379197\">link</a> and got the following code to get the sum of the length of each string of this array.</p>\n<pre><code>Arrays.stream(text)\n      .filter(Objects::nonNull)\n      .mapToInt(String::length)\n      .reduce(0,Integer::sum);\n</code></pre>\n"},{"tags":["java","mockito","junit4"],"answers":[{"tags":[],"owner":{"display_name":"user1373996"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651447074,"creation_date":1651411994,"answer_id":72077189,"question_id":72074166,"body_markdown":"You can:\r\n\r\n1. Using PowerMockito.\r\n2. Redesign your code to be testable to avoid creating new instances within the constructor. Read and try to use dependency injection instead (DI).\r\n\r\nHighly recommend (2) because you should to avoid using PowerMockito. You will never need PowerMockito if you have a good design to have your code testable.","title":"How to mock a constructor using Junit4","body":"<p>You can:</p>\n<ol>\n<li>Using PowerMockito.</li>\n<li>Redesign your code to be testable to avoid creating new instances within the constructor. Read and try to use dependency injection instead (DI).</li>\n</ol>\n<p>Highly recommend (2) because you should to avoid using PowerMockito. You will never need PowerMockito if you have a good design to have your code testable.</p>\n"}],"owner":{"account_id":24524084,"reputation":11,"user_id":18436732,"display_name":"Ayushi Bansal"},"comment_count":0,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1651449639,"answer_count":1,"score":-1,"last_activity_date":1651447074,"creation_date":1651381899,"question_id":72074166,"body_markdown":"I have a constructor which initialises some external dependency. This constructor is called in the main function. How do I mock the calling of this constructor using JUnit4? ","title":"How to mock a constructor using Junit4","body":"<p>I have a constructor which initialises some external dependency. This constructor is called in the main function. How do I mock the calling of this constructor using JUnit4?</p>\n"},{"tags":["java","conways-game-of-life"],"comments":[{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":0,"creation_date":1651451915,"post_id":72081024,"comment_id":127361922,"body_markdown":"I can’t see the problem that you’re describing offhand, but you do have a mistake with calculation of `liveNeighbours` - that value should NOT include the cell itself - so `if(cells[x][y].live &amp;&amp;  x != i &amp;&amp; y != j) { liveNeighbours++;}`\n                            liveNeighours++;","body":"I can’t see the problem that you’re describing offhand, but you do have a mistake with calculation of <code>liveNeighbours</code> - that value should NOT include the cell itself - so <code>if(cells[x][y].live &amp;&amp;  x != i &amp;&amp; y != j) { liveNeighbours++;}</code>                             liveNeighours++;"},{"owner":{"account_id":11193377,"reputation":385,"user_id":8212944,"display_name":"Samaranth"},"score":0,"creation_date":1651452580,"post_id":72081024,"comment_id":127361997,"body_markdown":"@racraman I think you overlooked this part of the code: I included this check when looping over y where I skip the iteration if `x == i &amp;&amp; y == j` (right above the if statement you mentioned).","body":"@racraman I think you overlooked this part of the code: I included this check when looping over y where I skip the iteration if <code>x == i &amp;&amp; y == j</code> (right above the if statement you mentioned)."},{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":0,"creation_date":1651452750,"post_id":72081024,"comment_id":127362023,"body_markdown":"Oops, I did too - I shouldn’t try debugging on a phone !","body":"Oops, I did too - I shouldn’t try debugging on a phone !"},{"owner":{"account_id":667308,"reputation":46349,"user_id":1161878,"accept_rate":81,"display_name":"Gene"},"score":0,"creation_date":1651456555,"post_id":72081024,"comment_id":127362437,"body_markdown":"It looks like you don&#39;t update `buffer` for the case where it should be the same as whatever&#39;s in the cell.  In other words, it looks like there should be a final `else buffer[i][j].live = cells[i][j].live` in the update logic. fwiw, here&#39;s another implementation that uses simpler data structures to reduce copying and other kinds of overhead: https://gist.github.com/gene-ressler/99c4a8ca13fa07b5eea6","body":"It looks like you don&#39;t update <code>buffer</code> for the case where it should be the same as whatever&#39;s in the cell.  In other words, it looks like there should be a final <code>else buffer[i][j].live = cells[i][j].live</code> in the update logic. fwiw, here&#39;s another implementation that uses simpler data structures to reduce copying and other kinds of overhead: <a href=\"https://gist.github.com/gene-ressler/99c4a8ca13fa07b5eea6\" rel=\"nofollow noreferrer\">gist.github.com/gene-ressler/99c4a8ca13fa07b5eea6</a>"},{"owner":{"account_id":11193377,"reputation":385,"user_id":8212944,"display_name":"Samaranth"},"score":0,"creation_date":1651458274,"post_id":72081024,"comment_id":127362588,"body_markdown":"@Gene I think you refer to the case where a cell lives on from one generation to the next, right? If this is the case, then I think that line should be redundant, because `buffer` should have the same cell values as `cells` at the start, and thus updating only the cells that change should be sufficient (because why would I want to update something that doesn&#39;t change?). Or do you mean something else here that I&#39;m missing?","body":"@Gene I think you refer to the case where a cell lives on from one generation to the next, right? If this is the case, then I think that line should be redundant, because <code>buffer</code> should have the same cell values as <code>cells</code> at the start, and thus updating only the cells that change should be sufficient (because why would I want to update something that doesn&#39;t change?). Or do you mean something else here that I&#39;m missing?"},{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":1,"creation_date":1651459313,"post_id":72081024,"comment_id":127362723,"body_markdown":"Still on my phone ! :D.   When updating the cells in the final `for` loop, try changing `cells[i][j] = buffer[i][j];` to `cells[i][j].live = buffer[i][j].live;`.  The way it is at the moment, you are making both the’`cells` and the `buffer` the same instances, so the second time you call `update` and set `buffer[i][j].live = true;`, you are not only setting the `buffer` but the `cell` as well, which will be used in the next iteration of x,y,I,j","body":"Still on my phone ! :D.   When updating the cells in the final <code>for</code> loop, try changing <code>cells[i][j] = buffer[i][j];</code> to <code>cells[i][j].live = buffer[i][j].live;</code>.  The way it is at the moment, you are making both the’<code>cells</code> and the <code>buffer</code> the same instances, so the second time you call <code>update</code> and set <code>buffer[i][j].live = true;</code>, you are not only setting the <code>buffer</code> but the <code>cell</code> as well, which will be used in the next iteration of x,y,I,j"},{"owner":{"account_id":11193377,"reputation":385,"user_id":8212944,"display_name":"Samaranth"},"score":0,"creation_date":1651481286,"post_id":72081024,"comment_id":127366663,"body_markdown":"@racraman Thanks, that really solved the issue. Now I just need to clean things up for the drawing mode but I guess that should be less of an issue now","body":"@racraman Thanks, that really solved the issue. Now I just need to clean things up for the drawing mode but I guess that should be less of an issue now"},{"owner":{"account_id":8026267,"reputation":4734,"user_id":6053084,"display_name":"Turo"},"score":0,"creation_date":1651481518,"post_id":72081024,"comment_id":127366719,"body_markdown":"I think you forgot to set buffer = true for the living cells with 2 or 3 neighbours","body":"I think you forgot to set buffer = true for the living cells with 2 or 3 neighbours"}],"owner":{"account_id":11193377,"reputation":385,"user_id":8212944,"display_name":"Samaranth"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651446404,"creation_date":1651446404,"question_id":72081024,"body_markdown":"I&#39;m currently trying to implement Conway&#39;s Game of Life in Java. On a first glance the application seems to work as it either stalls in the states that are expected as stalling states (e.g. block, bee-hive and tub) or changes infinitely.\r\n\r\nHowever, as I took a closer look I never actually saw a Blinker or Beacon nor a Loaf (for reference images of these states see [here][1]). So I decided to implement a drawing mode and a one-step-update method that gives me the possibility to analyze exactly what&#39;s going on.\r\n\r\nThe strange thing that I found was the following:\r\nWhen entering Drawing Mode I reset all cells and all buffered cells on the board to dead. Then, I drew a vertical Blinker somewhere in the middle of the board and did one update step and checked for the update mechanism of all cells that are alive (which are only the 3 cells belonging to the Blinker). In the output however, all of them returned that the value to their bottom left was alive (which actually could not be the case because nothing is being logged for these cells).\r\n\r\nI&#39;m really confused about where I went wrong in my code because this just doesn&#39;t make any sense for me. The values for the next generation are being stored in a buffer and only written back after the next generation has been calculated entirely, so I don&#39;t think that this should be the issue.\r\n\r\nFor reproducibility, here is the code:\r\n\r\nMain.java\r\n\r\n    import java.awt.EventQueue;\r\n    import java.awt.event.KeyAdapter;\r\n    import java.awt.event.KeyEvent;\r\n    \r\n    import javax.swing.JFrame;\r\n    \r\n    public class Main {\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\tEventQueue.invokeLater(() -&gt; {\r\n    \t\t\tcreateAndShowUI();\r\n    \t\t});\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tprivate static void createAndShowUI() {\r\n    \t\t\r\n    \t\tAnimationPanel panel = new AnimationPanel();\r\n    \t\t\r\n    \t\tJFrame frame = new JFrame(&quot;Game of Life&quot;);\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\tframe.add(panel);\r\n    \t\tframe.setResizable(false);\r\n    \t\tframe.pack();\r\n    \t\tframe.setLocationRelativeTo(null);\r\n    \t\t\r\n    \t\tframe.addKeyListener(new KeyAdapter() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void keyReleased(KeyEvent e) {\r\n    \t\t\t\tsuper.keyReleased(e);\r\n    \t\t\t\t\r\n    \t\t\t\tif(e.getKeyCode() == e.VK_R) {\r\n    \t\t\t\t\tpanel.reset();\r\n    \t\t\t\t\tpanel.startAnimation();\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t\tif(e.getKeyCode() == e.VK_C) {\r\n    \t\t\t\t\tpanel.clear();\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t\tif(e.getKeyCode() == e.VK_S) {\r\n    \t\t\t\t\tpanel.startAnimation();\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t\tif(e.getKeyCode() == e.VK_SPACE) {\r\n    \t\t\t\t\tpanel.stepAnimation();\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t});\r\n    \t\t\r\n    \t\tframe.setVisible(true);\r\n    \t\t\r\n    \t\tpanel.populate();\r\n    \t\tpanel.startAnimation();\r\n    \t\t\r\n    \t}\r\n    \t\r\n    }\r\n\r\nAnimationPanel.java:\r\n\r\n    import java.awt.Dimension;\r\n    import java.awt.Graphics;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.awt.event.MouseAdapter;\r\n    import java.awt.event.MouseEvent;\r\n    import java.util.Random;\r\n    \r\n    import javax.swing.JPanel;\r\n    import javax.swing.Timer;\r\n    \r\n    public class AnimationPanel extends JPanel implements ActionListener {\r\n    \t\r\n    \tprivate static final long serialVersionUID = 4929258196354814855L;\r\n    \tprivate int width = 1920;\r\n    \tprivate int height = 1080;\r\n    \tprivate int gridSize = 10;\r\n    \tprivate Cell[][] cells;\r\n    \tprivate Cell[][] buffer;\r\n    \tprivate Timer timer;\r\n    \t\r\n    \tprivate boolean drawingMode = false;\r\n    \t\r\n    \tpublic AnimationPanel() {\r\n    \t\t\r\n    \t\taddMouseListener(new MouseAdapter() {\r\n    \t\t\t\r\n    \t\t\t@Override\r\n    \t\t\tpublic void mouseClicked(MouseEvent e) {\r\n    \t\t\t\tsuper.mouseClicked(e);\r\n    \t\t\t\t\r\n    \t\t\t\tif(drawingMode) {\r\n    \t\t\t\t\tint x = e.getX();\r\n    \t\t\t\t\tint y = e.getY();\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tint xIndex = (int)x / gridSize;\r\n    \t\t\t\t\tint yIndex = (int)y / gridSize;\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tcells[xIndex][yIndex].live = !cells[xIndex][yIndex].live;\r\n    \t\t\t\t\trepaint();\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t});\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tpublic void reset() {\r\n    \t\ttimer.stop();\r\n    \t\tcells = null;\r\n    \t\tbuffer = null;\r\n    \t\tpopulate();\r\n    \t}\r\n    \t\r\n    \tpublic void clear() {\r\n    \t\ttimer.stop();\r\n    \t\t\r\n    \t\tfor(Cell[] row : cells) {\r\n    \t\t\tfor(Cell cell: row) {\r\n    \t\t\t\tcell.live = false;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t\tfor(Cell[] row : buffer) {\r\n    \t\t\tfor(Cell cell: row) {\r\n    \t\t\t\tcell.live = false;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t\trepaint();\r\n    \t\t\r\n    \t\tdrawingMode = true;\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tpublic void populate() {\r\n    \t\t\r\n    \t\tRandom random = new Random();\r\n    \t\t\r\n    \t\tint horizontalCellCount = width / gridSize;\r\n    \t\tint verticalCellCount = height / gridSize;\r\n    \t\t\r\n    \t\tcells = new Cell[horizontalCellCount][verticalCellCount];\r\n    \t\tbuffer = new Cell[horizontalCellCount][verticalCellCount];\r\n    \t\t\r\n    \t\tfor(int i = 0; i &lt; horizontalCellCount; i++) {\r\n    \t\t\tfor(int j = 0; j &lt; verticalCellCount; j++) {\r\n    \t\t\t\tdouble randVal = random.nextDouble();\r\n    \t\t\t\t\r\n    \t\t\t\tboolean live = (randVal &lt; 0.05) ? true : false;\r\n    \t\t\t\t\r\n    \t\t\t\tint x = i * gridSize;\r\n    \t\t\t\tint y = j * gridSize;\r\n    \t\t\t\tcells[i][j] = new Cell(live, x, y, gridSize);\r\n    \t\t\t\tbuffer[i][j] = new Cell(live, x, y, gridSize);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tprotected void paintComponent(Graphics g) {\r\n    \t\tsuper.paintComponent(g);\r\n    \t\t\r\n    \t\tfor(Cell[] row : cells) {\r\n    \t\t\tfor(Cell cell : row) {\r\n    \t\t\t\tcell.draw(g);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic Dimension getPreferredSize() {\r\n    \t\treturn new Dimension(width, height);\r\n    \t}\r\n    \t\r\n    \tpublic void startAnimation() {\r\n    \t\tdrawingMode = false;\r\n    \t\ttimer = new Timer(250, this);\r\n    \t\ttimer.start();\r\n    \t}\r\n    \t\r\n    \tpublic void stepAnimation() {\r\n    \t\tupdate();\r\n    \t\trepaint();\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic void actionPerformed(ActionEvent e) {\r\n    \t\tupdate();\r\n    \t\trepaint();\r\n    \t}\r\n    \t\r\n    \tprivate void update() {\r\n    \t\tint horizontalCellCount = width / gridSize;\r\n    \t\tint verticalCellCount = height / gridSize;\r\n    \t\t\r\n    \t\tboolean log = false;\r\n    \t\t\r\n    \t\tfor(int i = 0; i &lt; horizontalCellCount; i++) {\r\n    \t\t\tfor(int j = 0; j &lt; verticalCellCount; j++) {\r\n    \t\t\t\t\r\n    \t\t\t\tif(cells[i][j].live) {\r\n    \t\t\t\t\tlog = true;\r\n    \t\t\t\t\tSystem.out.println(&quot;Cell: (&quot; + i + &quot;|&quot; + j + &quot;) &quot; + cells[i][j].toString());\r\n    \t\t\t\t\tSystem.out.println(&quot;Row length: &quot; + cells[i].length);\r\n    \t\t\t\t\tSystem.out.println(&quot;Column length: &quot; + cells.length);\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\tlog = false;\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t\tint liveNeighours = 0;\r\n    \t\t\t\t\r\n    \t\t\t\tfor(int x = i - 1; x &lt;= i + 1; x++) {\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tif(x &lt; 0 || x == horizontalCellCount) {\r\n    \t\t\t\t\t\tcontinue;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tfor(int y = j - 1; y &lt;= j + 1; y++) {\r\n    \t\t\t\t\t\t\r\n    \t\t\t\t\t\tif(y &lt; 0 || y == verticalCellCount || y == j &amp;&amp; x == i) {\r\n    \t\t\t\t\t\t\tcontinue;\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\r\n    \t\t\t\t\t\tif(cells[x][y].live) {\r\n    \t\t\t\t\t\t\tliveNeighours++;\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\r\n    \t\t\t\t\t\tif(log) {\r\n    \t\t\t\t\t\t\tSystem.out.println(&quot;Cell at &quot; + x + &quot;|&quot; + y + &quot;: &quot; + cells[x][y].live + &quot; - liveNeighbours: &quot; + liveNeighours);\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t\tCell cell = cells[i][j];\r\n    \t\t\t\t\r\n    \t\t\t\tif(liveNeighours &gt; 3 || liveNeighours &lt; 2) {\r\n    \t\t\t\t\tbuffer[i][j].live = false;\r\n    \t\t\t\t} else if(!cell.live &amp;&amp; liveNeighours == 3) {\r\n    \t\t\t\t\tbuffer[i][j].live = true;\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t\tfor(int i = 0; i &lt; horizontalCellCount; i++) {\r\n    \t\t\tfor(int j = 0; j &lt; verticalCellCount; j++) {\r\n    \t\t\t\tcells[i][j] = buffer[i][j];\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \t\r\n    }\r\n\r\nCell.java\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Graphics;\r\n    \r\n    public class Cell {\r\n    \t\r\n    \tpublic boolean live;\r\n    \tpublic int x;\r\n    \tpublic int y;\r\n    \tpublic int size;\r\n    \t\r\n    \tpublic Cell(boolean live, int x, int y, int size) {\r\n    \t\t\r\n    \t\tthis.live = live;\r\n    \t\tthis.x = x;\r\n    \t\tthis.y = y;\r\n    \t\tthis.size = size;\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tpublic void draw(Graphics g) {\r\n    \t\tif(live) {\r\n    \t\t\tg.setColor(Color.BLACK);\r\n    \t\t} else {\r\n    \t\t\tg.setColor(Color.WHITE);\r\n    \t\t}\r\n    \t\tg.fillRect(x, y, size, size);\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn &quot;(&quot; + x + &quot; &quot; + y + &quot;) - Size: &quot; + size;\r\n    \t}\r\n    \t\r\n    }\r\n\r\nAny help is really appreciated on this as I&#39;m really confused what is wrong with the code.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Conway%27s_Game_of_Life#Examples_of_patterns","title":"Issue in the update step of Conway&#39;s Game of Life","body":"<p>I'm currently trying to implement Conway's Game of Life in Java. On a first glance the application seems to work as it either stalls in the states that are expected as stalling states (e.g. block, bee-hive and tub) or changes infinitely.</p>\n<p>However, as I took a closer look I never actually saw a Blinker or Beacon nor a Loaf (for reference images of these states see <a href=\"https://en.wikipedia.org/wiki/Conway%27s_Game_of_Life#Examples_of_patterns\" rel=\"nofollow noreferrer\">here</a>). So I decided to implement a drawing mode and a one-step-update method that gives me the possibility to analyze exactly what's going on.</p>\n<p>The strange thing that I found was the following:\nWhen entering Drawing Mode I reset all cells and all buffered cells on the board to dead. Then, I drew a vertical Blinker somewhere in the middle of the board and did one update step and checked for the update mechanism of all cells that are alive (which are only the 3 cells belonging to the Blinker). In the output however, all of them returned that the value to their bottom left was alive (which actually could not be the case because nothing is being logged for these cells).</p>\n<p>I'm really confused about where I went wrong in my code because this just doesn't make any sense for me. The values for the next generation are being stored in a buffer and only written back after the next generation has been calculated entirely, so I don't think that this should be the issue.</p>\n<p>For reproducibility, here is the code:</p>\n<p>Main.java</p>\n<pre><code>import java.awt.EventQueue;\nimport java.awt.event.KeyAdapter;\nimport java.awt.event.KeyEvent;\n\nimport javax.swing.JFrame;\n\npublic class Main {\n    \n    public static void main(String[] args) {\n        \n        EventQueue.invokeLater(() -&gt; {\n            createAndShowUI();\n        });\n        \n    }\n    \n    private static void createAndShowUI() {\n        \n        AnimationPanel panel = new AnimationPanel();\n        \n        JFrame frame = new JFrame(&quot;Game of Life&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.add(panel);\n        frame.setResizable(false);\n        frame.pack();\n        frame.setLocationRelativeTo(null);\n        \n        frame.addKeyListener(new KeyAdapter() {\n            @Override\n            public void keyReleased(KeyEvent e) {\n                super.keyReleased(e);\n                \n                if(e.getKeyCode() == e.VK_R) {\n                    panel.reset();\n                    panel.startAnimation();\n                }\n                \n                if(e.getKeyCode() == e.VK_C) {\n                    panel.clear();\n                }\n                \n                if(e.getKeyCode() == e.VK_S) {\n                    panel.startAnimation();\n                }\n                \n                if(e.getKeyCode() == e.VK_SPACE) {\n                    panel.stepAnimation();\n                }\n            }\n        });\n        \n        frame.setVisible(true);\n        \n        panel.populate();\n        panel.startAnimation();\n        \n    }\n    \n}\n</code></pre>\n<p>AnimationPanel.java:</p>\n<pre><code>import java.awt.Dimension;\nimport java.awt.Graphics;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\nimport java.util.Random;\n\nimport javax.swing.JPanel;\nimport javax.swing.Timer;\n\npublic class AnimationPanel extends JPanel implements ActionListener {\n    \n    private static final long serialVersionUID = 4929258196354814855L;\n    private int width = 1920;\n    private int height = 1080;\n    private int gridSize = 10;\n    private Cell[][] cells;\n    private Cell[][] buffer;\n    private Timer timer;\n    \n    private boolean drawingMode = false;\n    \n    public AnimationPanel() {\n        \n        addMouseListener(new MouseAdapter() {\n            \n            @Override\n            public void mouseClicked(MouseEvent e) {\n                super.mouseClicked(e);\n                \n                if(drawingMode) {\n                    int x = e.getX();\n                    int y = e.getY();\n                    \n                    int xIndex = (int)x / gridSize;\n                    int yIndex = (int)y / gridSize;\n                    \n                    cells[xIndex][yIndex].live = !cells[xIndex][yIndex].live;\n                    repaint();\n                }\n            }\n            \n        });\n        \n    }\n    \n    public void reset() {\n        timer.stop();\n        cells = null;\n        buffer = null;\n        populate();\n    }\n    \n    public void clear() {\n        timer.stop();\n        \n        for(Cell[] row : cells) {\n            for(Cell cell: row) {\n                cell.live = false;\n            }\n        }\n        \n        for(Cell[] row : buffer) {\n            for(Cell cell: row) {\n                cell.live = false;\n            }\n        }\n        \n        repaint();\n        \n        drawingMode = true;\n        \n    }\n    \n    public void populate() {\n        \n        Random random = new Random();\n        \n        int horizontalCellCount = width / gridSize;\n        int verticalCellCount = height / gridSize;\n        \n        cells = new Cell[horizontalCellCount][verticalCellCount];\n        buffer = new Cell[horizontalCellCount][verticalCellCount];\n        \n        for(int i = 0; i &lt; horizontalCellCount; i++) {\n            for(int j = 0; j &lt; verticalCellCount; j++) {\n                double randVal = random.nextDouble();\n                \n                boolean live = (randVal &lt; 0.05) ? true : false;\n                \n                int x = i * gridSize;\n                int y = j * gridSize;\n                cells[i][j] = new Cell(live, x, y, gridSize);\n                buffer[i][j] = new Cell(live, x, y, gridSize);\n            }\n        }\n        \n    }\n    \n    @Override\n    protected void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        \n        for(Cell[] row : cells) {\n            for(Cell cell : row) {\n                cell.draw(g);\n            }\n        }\n    }\n    \n    @Override\n    public Dimension getPreferredSize() {\n        return new Dimension(width, height);\n    }\n    \n    public void startAnimation() {\n        drawingMode = false;\n        timer = new Timer(250, this);\n        timer.start();\n    }\n    \n    public void stepAnimation() {\n        update();\n        repaint();\n    }\n    \n    @Override\n    public void actionPerformed(ActionEvent e) {\n        update();\n        repaint();\n    }\n    \n    private void update() {\n        int horizontalCellCount = width / gridSize;\n        int verticalCellCount = height / gridSize;\n        \n        boolean log = false;\n        \n        for(int i = 0; i &lt; horizontalCellCount; i++) {\n            for(int j = 0; j &lt; verticalCellCount; j++) {\n                \n                if(cells[i][j].live) {\n                    log = true;\n                    System.out.println(&quot;Cell: (&quot; + i + &quot;|&quot; + j + &quot;) &quot; + cells[i][j].toString());\n                    System.out.println(&quot;Row length: &quot; + cells[i].length);\n                    System.out.println(&quot;Column length: &quot; + cells.length);\n                } else {\n                    log = false;\n                }\n                \n                int liveNeighours = 0;\n                \n                for(int x = i - 1; x &lt;= i + 1; x++) {\n                    \n                    if(x &lt; 0 || x == horizontalCellCount) {\n                        continue;\n                    }\n                    \n                    for(int y = j - 1; y &lt;= j + 1; y++) {\n                        \n                        if(y &lt; 0 || y == verticalCellCount || y == j &amp;&amp; x == i) {\n                            continue;\n                        }\n                        \n                        if(cells[x][y].live) {\n                            liveNeighours++;\n                        }\n                        \n                        if(log) {\n                            System.out.println(&quot;Cell at &quot; + x + &quot;|&quot; + y + &quot;: &quot; + cells[x][y].live + &quot; - liveNeighbours: &quot; + liveNeighours);\n                        }\n                    }\n                }\n                \n                Cell cell = cells[i][j];\n                \n                if(liveNeighours &gt; 3 || liveNeighours &lt; 2) {\n                    buffer[i][j].live = false;\n                } else if(!cell.live &amp;&amp; liveNeighours == 3) {\n                    buffer[i][j].live = true;\n                }\n                \n            }\n        }\n        \n        for(int i = 0; i &lt; horizontalCellCount; i++) {\n            for(int j = 0; j &lt; verticalCellCount; j++) {\n                cells[i][j] = buffer[i][j];\n            }\n        }\n        \n    }\n    \n}\n</code></pre>\n<p>Cell.java</p>\n<pre><code>import java.awt.Color;\nimport java.awt.Graphics;\n\npublic class Cell {\n    \n    public boolean live;\n    public int x;\n    public int y;\n    public int size;\n    \n    public Cell(boolean live, int x, int y, int size) {\n        \n        this.live = live;\n        this.x = x;\n        this.y = y;\n        this.size = size;\n        \n    }\n    \n    public void draw(Graphics g) {\n        if(live) {\n            g.setColor(Color.BLACK);\n        } else {\n            g.setColor(Color.WHITE);\n        }\n        g.fillRect(x, y, size, size);\n    }\n    \n    @Override\n    public String toString() {\n        return &quot;(&quot; + x + &quot; &quot; + y + &quot;) - Size: &quot; + size;\n    }\n    \n}\n</code></pre>\n<p>Any help is really appreciated on this as I'm really confused what is wrong with the code.</p>\n"},{"tags":["java","oop","generics"],"answers":[{"tags":[],"owner":{"account_id":2297930,"reputation":98,"user_id":2018929,"display_name":"Guillaume Macke"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1651340650,"creation_date":1651340175,"answer_id":72070730,"question_id":72070138,"body_markdown":"Assume you have this 2 `TypeX` interface without inheritance link and with same methods signature. \r\n\r\n```java \r\ninterface TypeA {\r\n    String methodFromA();\r\n}\r\n\r\ninterface TypeB {\r\n    String methodFromB();\r\n}\r\n```\r\n\r\nYou could declare an Enum who knows which method has to be called for each TypeX interface.\r\n\r\n```java\r\n\r\nenum FilterType {\r\n    TYPE_A(TypeA.class){\r\n        @Override\r\n        public &lt;T&gt; void callMethod(T typeX) {\r\n            TypeA typeA = (TypeA) typeX;\r\n            typeA.methodFromA();\r\n        }\r\n    },\r\n    TYPE_B(TypeB.class){\r\n        @Override\r\n        public &lt;T&gt; void callMethod(T typeX) {\r\n            TypeB typeB = (TypeB) typeX;\r\n            typeB.methodFromB();\r\n        }\r\n    };\r\n\r\n    Class typeClass;\r\n\r\n    FilterType(Class typeClass) {\r\n        this.typeClass = typeClass;\r\n    }\r\n\r\n    public static FilterType from(Class&lt;?&gt; typeClass) {\r\n        return Arrays.stream(values())\r\n                .filter(filterType -&gt; filterType.typeClass.equals(typeClass))\r\n                .findFirst()\r\n                .orElseThrow(() -&gt; new IllegalArgumentException(&quot;FilterType for class &#39;&quot; + typeClass + &quot;&#39; not exist&quot;)),\r\n    }\r\n\r\n    public abstract &lt;T&gt; void callMethod(T typeX);\r\n}\r\n\r\n\r\n```\r\n\r\nFinally, in your filter method, you just have to recover the enum instance with the TypeX class and call the appropriated method on it.\r\n\r\n```java\r\nclass FilterService&lt;T&gt; {\r\n    // The class type of TypeX interface\r\n    private final Class&lt;T&gt; typeClass;\r\n\r\n    public FilterService() {\r\n        // Recover the class of the generic T\r\n        this.typeClass = (Class&lt;T&gt;) ((ParameterizedType) this.getClass().getGenericSuperclass())\r\n                .getActualTypeArguments()[0];\r\n    }\r\n\r\n    public List&lt;T&gt; filter(List&lt;T&gt; genericList) {\r\n        FilterType filterType = FilterType.from(typeClass); // Will throw IllegalArgumentException if T class isn&#39;t handle\r\n        genericList.forEach(typeX -&gt; filterType.callMethod(typeX));\r\n        //return filtered list\r\n    }\r\n}\r\n```","title":"Design query - Using Java Generics for code duplication","body":"<p>Assume you have this 2 <code>TypeX</code> interface without inheritance link and with same methods signature.</p>\n<pre class=\"lang-java prettyprint-override\"><code>interface TypeA {\n    String methodFromA();\n}\n\ninterface TypeB {\n    String methodFromB();\n}\n</code></pre>\n<p>You could declare an Enum who knows which method has to be called for each TypeX interface.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nenum FilterType {\n    TYPE_A(TypeA.class){\n        @Override\n        public &lt;T&gt; void callMethod(T typeX) {\n            TypeA typeA = (TypeA) typeX;\n            typeA.methodFromA();\n        }\n    },\n    TYPE_B(TypeB.class){\n        @Override\n        public &lt;T&gt; void callMethod(T typeX) {\n            TypeB typeB = (TypeB) typeX;\n            typeB.methodFromB();\n        }\n    };\n\n    Class typeClass;\n\n    FilterType(Class typeClass) {\n        this.typeClass = typeClass;\n    }\n\n    public static FilterType from(Class&lt;?&gt; typeClass) {\n        return Arrays.stream(values())\n                .filter(filterType -&gt; filterType.typeClass.equals(typeClass))\n                .findFirst()\n                .orElseThrow(() -&gt; new IllegalArgumentException(&quot;FilterType for class '&quot; + typeClass + &quot;' not exist&quot;)),\n    }\n\n    public abstract &lt;T&gt; void callMethod(T typeX);\n}\n\n\n</code></pre>\n<p>Finally, in your filter method, you just have to recover the enum instance with the TypeX class and call the appropriated method on it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class FilterService&lt;T&gt; {\n    // The class type of TypeX interface\n    private final Class&lt;T&gt; typeClass;\n\n    public FilterService() {\n        // Recover the class of the generic T\n        this.typeClass = (Class&lt;T&gt;) ((ParameterizedType) this.getClass().getGenericSuperclass())\n                .getActualTypeArguments()[0];\n    }\n\n    public List&lt;T&gt; filter(List&lt;T&gt; genericList) {\n        FilterType filterType = FilterType.from(typeClass); // Will throw IllegalArgumentException if T class isn't handle\n        genericList.forEach(typeX -&gt; filterType.callMethod(typeX));\n        //return filtered list\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651345557,"creation_date":1651345557,"answer_id":72071394,"question_id":72070138,"body_markdown":"The appropriate structure is not reflective, and does not use `instanceof`.\r\n\r\n```\r\npublic List&lt;TypeA&gt; filter(List&lt;TypeA&gt; typeAList) {     \r\n    innerFilter(typeAList, typeA -&gt; isGoodA(typeA))\r\n}\r\nprivate boolean isGoodA(TypeA a) { ... }\r\npublic List&lt;TypeB&gt; filter(List&lt;TypeB&gt; typeBList) { \r\n    innerFilter(typeBList, typeB -&gt; isGoodB(typeB))\r\n}\r\nprivate boolean isGoodB(TypeB a) { ... }\r\n\r\nprivate &lt;T&gt; List&lt;T&gt; innerFilter(List&lt;T&gt; genericList, Predicate&lt;T&gt; pred) {\r\n   //duplicated code\r\n    //filter genericList using pred\r\n    //return filtered list\r\n}\r\n```","title":"Design query - Using Java Generics for code duplication","body":"<p>The appropriate structure is not reflective, and does not use <code>instanceof</code>.</p>\n<pre><code>public List&lt;TypeA&gt; filter(List&lt;TypeA&gt; typeAList) {     \n    innerFilter(typeAList, typeA -&gt; isGoodA(typeA))\n}\nprivate boolean isGoodA(TypeA a) { ... }\npublic List&lt;TypeB&gt; filter(List&lt;TypeB&gt; typeBList) { \n    innerFilter(typeBList, typeB -&gt; isGoodB(typeB))\n}\nprivate boolean isGoodB(TypeB a) { ... }\n\nprivate &lt;T&gt; List&lt;T&gt; innerFilter(List&lt;T&gt; genericList, Predicate&lt;T&gt; pred) {\n   //duplicated code\n    //filter genericList using pred\n    //return filtered list\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651444738,"creation_date":1651444738,"answer_id":72080893,"question_id":72070138,"body_markdown":"This is exactly the type of problem that the [`Predicate&lt;T&gt;`][1] functional interface was meant to solve.\r\n\r\n```\r\nimport java.util.List;\r\nimport java.util.function.Predicate;\r\n\r\npublic class SOQ_20220501\r\n{\r\n\r\n   public static void main(String[] args)\r\n   {\r\n   \r\n      record TypeA(int a) {}\r\n   \r\n      record TypeB(boolean b) {}\r\n      \r\n      final List&lt;TypeA&gt; as = List.of(new TypeA(0), new TypeA(1), new TypeA(2), new TypeA(3), new TypeA(4));\r\n      \r\n      final List&lt;TypeB&gt; bs = List.of(new TypeB(true), new TypeB(false));\r\n      \r\n      var whateverA = filter(as, typeA -&gt; typeA.a() % 2 == 1);\r\n      \r\n      System.out.println(whateverA);\r\n   \r\n      var whateverB = filter(bs, typeB -&gt; typeB.b());\r\n      \r\n      System.out.println(whateverB);\r\n   \r\n   }\r\n\r\n   public static &lt;T&gt; List&lt;T&gt; filter(List&lt;T&gt; typeAList, Predicate&lt;T&gt; predicate)\r\n   {\r\n   \r\n      return\r\n         typeAList.stream()\r\n            .filter(predicate)\r\n            .toList()\r\n            ;\r\n   \r\n   }\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Predicate.html","title":"Design query - Using Java Generics for code duplication","body":"<p>This is exactly the type of problem that the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Predicate.html\" rel=\"nofollow noreferrer\"><code>Predicate&lt;T&gt;</code></a> functional interface was meant to solve.</p>\n<pre><code>import java.util.List;\nimport java.util.function.Predicate;\n\npublic class SOQ_20220501\n{\n\n   public static void main(String[] args)\n   {\n   \n      record TypeA(int a) {}\n   \n      record TypeB(boolean b) {}\n      \n      final List&lt;TypeA&gt; as = List.of(new TypeA(0), new TypeA(1), new TypeA(2), new TypeA(3), new TypeA(4));\n      \n      final List&lt;TypeB&gt; bs = List.of(new TypeB(true), new TypeB(false));\n      \n      var whateverA = filter(as, typeA -&gt; typeA.a() % 2 == 1);\n      \n      System.out.println(whateverA);\n   \n      var whateverB = filter(bs, typeB -&gt; typeB.b());\n      \n      System.out.println(whateverB);\n   \n   }\n\n   public static &lt;T&gt; List&lt;T&gt; filter(List&lt;T&gt; typeAList, Predicate&lt;T&gt; predicate)\n   {\n   \n      return\n         typeAList.stream()\n            .filter(predicate)\n            .toList()\n            ;\n   \n   }\n\n}\n\n</code></pre>\n"}],"owner":{"account_id":25157259,"reputation":23,"user_id":19001935,"display_name":"ANS Aditya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72080893,"answer_count":3,"score":2,"last_activity_date":1651444738,"creation_date":1651335417,"question_id":72070138,"body_markdown":"**Problem**\r\n\r\nI am trying to design two methods that filter a list\r\n```\r\npublic List&lt;TypeA&gt; filter(List&lt;TypeA&gt; typeAList) { \r\n    //duplicated code\r\n    //filter typeAList using some parameters in typeA objects\r\n    //return filtered list\r\n}\r\n\r\npublic List&lt;TypeB&gt; filter(List&lt;TypeB&gt; typeBList) { \r\n    //duplicated code\r\n    //filter typeBList using some parameters in typeB objects \r\n    //return filtered list\r\n}\r\n```\r\nThe problem is both the methods have duplicate code except for the filtering part where I access different parameters inside TypeA and TypeB.\r\n\r\n**Things I tried so far**\r\n\r\n - I tried making a generic method like this. But this does not support\r\n   types other than TypeA and TypeB. Encourages someone to call this\r\n   method with an unintended type.\r\n```\r\n\r\npublic &lt;T&gt; List&lt;T&gt; filter(List&lt;T&gt; genericList) {\r\n    //duplicated code \r\n    if (T instanceOf TypeA) \r\n        //filtering code for TypeA \r\n    if (T instanceOf TypeB) \r\n        //filtering code for TypeB \r\n    //return filtered list \r\n}\r\n```\r\n\r\n - Overload with two methods calling a private generic filter method. I\r\n   felt this ensures unintended calls to the public method, while still\r\n   using generics to avoid code duplication.\r\n```\r\npublic List&lt;TypeA&gt; filter(List&lt;TypeA&gt; typeAList) {     \r\n    //call innerFilter(typeAList)\r\n}\r\n\r\npublic List&lt;TypeB&gt; filter(List&lt;TypeB&gt; typeBList) { \r\n    //call innerFilter(typeBList)\r\n}\r\n\r\nprivate &lt;T&gt; List&lt;T&gt; innerFilter(List&lt;T&gt; genericList) {\r\n   //duplicated code\r\n    if (T instanceOf TypeA)\r\n        //filtering code for TypeA\r\n    if (T instanceOf TypeB)\r\n        //filtering code for TypeB\r\n    //return filtered list\r\n}\r\n```\r\n\r\n - Tried to make the two classes implement a common interface and use\r\n   that interface as the input parameter to my method. But one of the\r\n   class is third-party and not under my control.\r\n\r\n**Help needed**\r\n\r\nI&#39;m really new to design. Want to understand if my reasoning is right behind the approaches. Also looking for suggestions on alternate best approaches to solve this problem. Thanks in advance.\r\n\r\n","title":"Design query - Using Java Generics for code duplication","body":"<p><strong>Problem</strong></p>\n<p>I am trying to design two methods that filter a list</p>\n<pre><code>public List&lt;TypeA&gt; filter(List&lt;TypeA&gt; typeAList) { \n    //duplicated code\n    //filter typeAList using some parameters in typeA objects\n    //return filtered list\n}\n\npublic List&lt;TypeB&gt; filter(List&lt;TypeB&gt; typeBList) { \n    //duplicated code\n    //filter typeBList using some parameters in typeB objects \n    //return filtered list\n}\n</code></pre>\n<p>The problem is both the methods have duplicate code except for the filtering part where I access different parameters inside TypeA and TypeB.</p>\n<p><strong>Things I tried so far</strong></p>\n<ul>\n<li>I tried making a generic method like this. But this does not support\ntypes other than TypeA and TypeB. Encourages someone to call this\nmethod with an unintended type.</li>\n</ul>\n<pre><code>\npublic &lt;T&gt; List&lt;T&gt; filter(List&lt;T&gt; genericList) {\n    //duplicated code \n    if (T instanceOf TypeA) \n        //filtering code for TypeA \n    if (T instanceOf TypeB) \n        //filtering code for TypeB \n    //return filtered list \n}\n</code></pre>\n<ul>\n<li>Overload with two methods calling a private generic filter method. I\nfelt this ensures unintended calls to the public method, while still\nusing generics to avoid code duplication.</li>\n</ul>\n<pre><code>public List&lt;TypeA&gt; filter(List&lt;TypeA&gt; typeAList) {     \n    //call innerFilter(typeAList)\n}\n\npublic List&lt;TypeB&gt; filter(List&lt;TypeB&gt; typeBList) { \n    //call innerFilter(typeBList)\n}\n\nprivate &lt;T&gt; List&lt;T&gt; innerFilter(List&lt;T&gt; genericList) {\n   //duplicated code\n    if (T instanceOf TypeA)\n        //filtering code for TypeA\n    if (T instanceOf TypeB)\n        //filtering code for TypeB\n    //return filtered list\n}\n</code></pre>\n<ul>\n<li>Tried to make the two classes implement a common interface and use\nthat interface as the input parameter to my method. But one of the\nclass is third-party and not under my control.</li>\n</ul>\n<p><strong>Help needed</strong></p>\n<p>I'm really new to design. Want to understand if my reasoning is right behind the approaches. Also looking for suggestions on alternate best approaches to solve this problem. Thanks in advance.</p>\n"},{"tags":["java","graphics","coordinates","graphics2d"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1651443508,"post_id":72080658,"comment_id":127360905,"body_markdown":"You need to use a `PathIterator`, for [example](https://stackoverflow.com/questions/32392095/how-to-rotate-a-rectangle-after-reaching-specified-position/32397121#32397121). Remember, a Circle is just made of a lot of straight lines, depending on the &quot;flatness&quot; (or the number of points used to make the shape)","body":"You need to use a <code>PathIterator</code>, for <a href=\"https://stackoverflow.com/questions/32392095/how-to-rotate-a-rectangle-after-reaching-specified-position/32397121#32397121\">example</a>. Remember, a Circle is just made of a lot of straight lines, depending on the &quot;flatness&quot; (or the number of points used to make the shape)"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1651444636,"creation_date":1651444636,"answer_id":72080886,"question_id":72080658,"body_markdown":"You want to make use of a [`PathIterator `](https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/java/awt/geom/PathIterator.html)\r\n\r\nBasically this will allow you to iterator between the points that make up the path.  You can control the &quot;accuracy&quot; (or distance between the points) using the `flatness` parameter\r\n\r\nFor example...\r\n\r\n[![enter image description here][1]][1][![enter image description here][2]][2]\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.geom.Arc2D;\r\n    import java.awt.geom.Ellipse2D;\r\n    import java.awt.geom.PathIterator;\r\n    import java.awt.geom.Point2D;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JSlider;\r\n    import javax.swing.event.ChangeEvent;\r\n    import javax.swing.event.ChangeListener;\r\n\r\n    public final class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new TestPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n\r\n            private Arc2D shape;\r\n            private double flatness = 0.4;\r\n\r\n            public TestPane() {\r\n                shape = new Arc2D.Double(50, 50, 100, 100, 0, 180, Arc2D.OPEN);\r\n\r\n                setLayout(new BorderLayout());\r\n                JSlider slider = new JSlider(0, 100);\r\n                slider.addChangeListener(new ChangeListener() {\r\n                    @Override\r\n                    public void stateChanged(ChangeEvent e) {\r\n                        double progress = slider.getValue() / 100d;\r\n                        flatness = 0.001 + (0.4d * progress);\r\n                        repaint();\r\n                    }\r\n                });\r\n                slider.setValue(0);\r\n\r\n                add(slider, BorderLayout.SOUTH);\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(200, 200);\r\n            }\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                Graphics2D g2d = (Graphics2D) g.create();\r\n                g2d.draw(shape);\r\n                g2d.setColor(Color.RED);\r\n                PathIterator pi = shape.getPathIterator(null, flatness);\r\n                // Use this if you want to draw lines between the points\r\n                Point2D lastPoint;\r\n                while (!pi.isDone()) {\r\n                    double[] coords = new double[6];\r\n                    switch (pi.currentSegment(coords)) {\r\n                        case PathIterator.SEG_MOVETO:\r\n                            // Starting point of next line\r\n                            lastPoint = new Point2D.Double(coords[0], coords[1]);\r\n                            // You don&#39;t need this if you&#39;re drawing lines\r\n                            g2d.fill(new Ellipse2D.Double(coords[0] - 2, coords[1] - 2, 4, 4));\r\n                            break;\r\n                        case PathIterator.SEG_LINETO:\r\n                            g2d.fill(new Ellipse2D.Double(coords[0] - 2, coords[1] - 2, 4, 4));\r\n                            // If you were drawing lines, then you&#39;d draw a line\r\n                            // between the last point and this point\r\n                            lastPoint = new Point2D.Double(coords[0], coords[1]);\r\n                            break;\r\n                    }\r\n                    pi.next();\r\n                }\r\n                g2d.dispose();\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TLWrG.png\r\n  [2]: https://i.stack.imgur.com/iA3O3.png","title":"How can I find all of the coordinates along an Arc2D in Java?","body":"<p>You want to make use of a <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/java/awt/geom/PathIterator.html\" rel=\"nofollow noreferrer\"><code>PathIterator </code></a></p>\n<p>Basically this will allow you to iterator between the points that make up the path.  You can control the &quot;accuracy&quot; (or distance between the points) using the <code>flatness</code> parameter</p>\n<p>For example...</p>\n<p><a href=\"https://i.stack.imgur.com/TLWrG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TLWrG.png\" alt=\"enter image description here\" /></a><a href=\"https://i.stack.imgur.com/iA3O3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iA3O3.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.geom.Arc2D;\nimport java.awt.geom.Ellipse2D;\nimport java.awt.geom.PathIterator;\nimport java.awt.geom.Point2D;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JSlider;\nimport javax.swing.event.ChangeEvent;\nimport javax.swing.event.ChangeListener;\n\npublic final class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n\n        private Arc2D shape;\n        private double flatness = 0.4;\n\n        public TestPane() {\n            shape = new Arc2D.Double(50, 50, 100, 100, 0, 180, Arc2D.OPEN);\n\n            setLayout(new BorderLayout());\n            JSlider slider = new JSlider(0, 100);\n            slider.addChangeListener(new ChangeListener() {\n                @Override\n                public void stateChanged(ChangeEvent e) {\n                    double progress = slider.getValue() / 100d;\n                    flatness = 0.001 + (0.4d * progress);\n                    repaint();\n                }\n            });\n            slider.setValue(0);\n\n            add(slider, BorderLayout.SOUTH);\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(200, 200);\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            Graphics2D g2d = (Graphics2D) g.create();\n            g2d.draw(shape);\n            g2d.setColor(Color.RED);\n            PathIterator pi = shape.getPathIterator(null, flatness);\n            // Use this if you want to draw lines between the points\n            Point2D lastPoint;\n            while (!pi.isDone()) {\n                double[] coords = new double[6];\n                switch (pi.currentSegment(coords)) {\n                    case PathIterator.SEG_MOVETO:\n                        // Starting point of next line\n                        lastPoint = new Point2D.Double(coords[0], coords[1]);\n                        // You don't need this if you're drawing lines\n                        g2d.fill(new Ellipse2D.Double(coords[0] - 2, coords[1] - 2, 4, 4));\n                        break;\n                    case PathIterator.SEG_LINETO:\n                        g2d.fill(new Ellipse2D.Double(coords[0] - 2, coords[1] - 2, 4, 4));\n                        // If you were drawing lines, then you'd draw a line\n                        // between the last point and this point\n                        lastPoint = new Point2D.Double(coords[0], coords[1]);\n                        break;\n                }\n                pi.next();\n            }\n            g2d.dispose();\n        }\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24702715,"reputation":80,"user_id":18593865,"display_name":"49KWIC"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72080886,"answer_count":1,"score":0,"last_activity_date":1651444636,"creation_date":1651441770,"question_id":72080658,"body_markdown":"I have drawn an Arc2D in Java and I want to be able to find all of the points that the Arc2D contains. Is there any way that I can do that?","title":"How can I find all of the coordinates along an Arc2D in Java?","body":"<p>I have drawn an Arc2D in Java and I want to be able to find all of the points that the Arc2D contains. Is there any way that I can do that?</p>\n"},{"tags":["java","inheritance"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1651443383,"post_id":72080752,"comment_id":127360885,"body_markdown":"You&#39;re not calling anything; calling a function requires `()`, e.g., `getArt()`. Currently the code makes no sense; you&#39;re passing in the superclass&#39;s own properties to the constructor and overwriting the hardcoded values.","body":"You&#39;re not calling anything; calling a function requires <code>()</code>, e.g., <code>getArt()</code>. Currently the code makes no sense; you&#39;re passing in the superclass&#39;s own properties to the constructor and overwriting the hardcoded values."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1651443451,"post_id":72080752,"comment_id":127360898,"body_markdown":"Tangentially it seems like these classes are incorrectly tied to each other: one is a part-of-speech supplier, one is a sentence generator. These are completely separate concerns; you might *pass* a PoS supplier to a sentence generator (there are other ways this can be organized) but I don&#39;t see how one is a subclass of another.","body":"Tangentially it seems like these classes are incorrectly tied to each other: one is a part-of-speech supplier, one is a sentence generator. These are completely separate concerns; you might <i>pass</i> a PoS supplier to a sentence generator (there are other ways this can be organized) but I don&#39;t see how one is a subclass of another."}],"owner":{"account_id":25161165,"reputation":1,"user_id":19005335,"display_name":"Lucas Grunden"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651442909,"creation_date":1651442909,"question_id":72080752,"body_markdown":"I am trying to make a program in VScode, utilizing Maven Java, that generates sentences randomly through randomized words for each part of speech, randomized punctuation, randomized sentence structure, etc. I have a parent class called SentenceGen which contains all of the arrays and some methods to pull random words/punctuation (e.g. getNoun, getVerb). For your convenience I&#39;ve removed the words in the larger arrays:\r\n```\r\nimport java.lang.Math;\r\n\r\npublic class SentenceGen{\r\n    \r\n    //an array of a lot of nouns found at https://gist.github.com/ijmacdowell/8325491\r\n    protected static String n[] =  {&quot;&quot;};\r\n    \r\n    //an array of verbs found at https://gist.github.com/ijmacdowell/8325491\r\n    protected static String v[] = {&quot;&quot;};\r\n\r\n    //an array of adverbs found at https://grammaran.com/wp-content/uploads/2021/09/pp-parts-of-speech.pdf\r\n    protected static String adv[] = {&quot;&quot;};\r\n    \r\n    //an array containing each of the three existing articles\r\n    protected static String art[] = {&quot;the&quot;, &quot;a&quot;, &quot;an&quot;};\r\n\r\n    //an array containing common pronouns\r\n    protected static String pro[] = {&quot;they&quot;, &quot;them&quot;, &quot;it&quot;, &quot;he&quot;, &quot;him&quot;, &quot;she&quot;, &quot;her&quot;, &quot;their&quot;, &quot;we&quot;, &quot;I&quot;, &quot;his&quot;};\r\n    \r\n    //an array containing common prepositions\r\n    protected static String prep[] = {&quot;&quot;};\r\n    \r\n    //an array containing coordinating conjuctions\r\n    protected static String coordConj[] = {&quot;and&quot;, &quot;or&quot;, &quot;but&quot;, &quot;for&quot;, &quot;nor&quot;, &quot;yet&quot;, &quot;so&quot;};\r\n\r\n    //an array containing subordinating conjunctions for even more complexity\r\n    protected static String subConj[] = {&quot;&quot;};\r\n\r\n    //default constructor \r\n    public SentenceGen(String n[], String v[], String adj[], String adv[], String art[], String pro[], String prep[], String coordConj[], String subConj[]){\r\n        SentenceGen.n = n;\r\n        SentenceGen.v = v;\r\n        SentenceGen.adj = adj;\r\n        SentenceGen.adv = adv;\r\n        SentenceGen.art = art;\r\n        SentenceGen.pro = pro;\r\n        SentenceGen.prep = prep;\r\n        SentenceGen.coordConj = coordConj;\r\n        SentenceGen.subConj = subConj;\r\n    }\r\n\r\n    //gets a random noun from the noun array\r\n    public String getNoun(){\r\n        int a = (int)(Math.random()*(SentenceGen.n.length-1));\r\n        return SentenceGen.n[a];\r\n    }\r\n    //gets a random verb from the verb array\r\n    public String getVerb(){\r\n        int a = (int)(Math.random()*(SentenceGen.v.length-1));\r\n        return SentenceGen.v[a];\r\n    }\r\n    //gets a random adjective from the adjective array\r\n    public String getAdj(){\r\n        int a = (int)(Math.random()*(SentenceGen.adj.length-1));\r\n        return SentenceGen.adj[a];\r\n    }\r\n    //gets a random adverb from the adverb array\r\n    public String getAdv(){\r\n        int a = (int)(Math.random()*(SentenceGen.adv.length-1));\r\n        return SentenceGen.adv[a];\r\n    }\r\n    //gets a random article from the article array\r\n    public String getArt(){\r\n        int a = (int)(Math.random()*(SentenceGen.art.length-1));\r\n        return SentenceGen.art[a];\r\n    }\r\n    //gets a random pronouns from the pronouns array\r\n    public String getPronouns(){\r\n        int a = (int)(Math.random()*(SentenceGen.pro.length-1));\r\n        return SentenceGen.pro[a];\r\n    }\r\n    //gets a random prepositions from the prepositions array\r\n    public String getPrep(){\r\n        int a = (int)(Math.random()*(SentenceGen.prep.length-1));\r\n        return SentenceGen.prep[a];\r\n    }\r\n    //gets a random coordinating conjuctions from the coordinating conjuctions array\r\n    public String getCoordConj(){\r\n        int a = (int)(Math.random()*(SentenceGen.coordConj.length-1));\r\n        return SentenceGen.coordConj[a]; \r\n    }\r\n    //gets a random subordinating conjunctions from the subordinating conjunctions array\r\n    public String getSubConj(){\r\n        int a = (int)(Math.random()*(SentenceGen.subConj.length-1));\r\n        return SentenceGen.subConj[a];\r\n    }\r\n    //randomizes what tense the verb is in (and does it in a grammatically correct way)\r\n    public String getTense(){\r\n        int a = (int)(Math.random()*2);\r\n        if(a == 0){\r\n            return getVerb();\r\n        } else {\r\n            String x = getVerb();\r\n            if(x.substring(x.length()-2, x.length()-1).equals(&quot;e&quot;)){\r\n                return (x + &quot;d&quot;);\r\n            } else {\r\n                return (x + &quot;ed&quot;);\r\n            }\r\n        }\r\n    }\r\n    //punctutation generation\r\n    public String getPunct(){\r\n        int x = (int)(Math.random()*2);\r\n        if(x == 0){\r\n            return &quot;&quot;;\r\n        } else {\r\n            int a = (int)(Math.random()*3);\r\n            if(a == 0){\r\n                return &quot;.&quot;;\r\n            } else if(a == 1){\r\n                return &quot;?&quot;;\r\n            } else if(a == 2){\r\n                return &quot;!&quot;;\r\n            } else {\r\n                return &quot; &lt;p&gt;Something went wrong, please try again&lt;/p&gt; &quot;;\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\nI have a child class of SentenceGen called simpleSentence (to generate several simple sentences). I know there are probably several problems with my approach to the program in general but the goal is to make an ArrayList of simple sentence structures and pull one randomly:\r\n```\r\nimport java.util.ArrayList;\r\nimport java.math.*;\r\n\r\npublic class simpleSentence extends SentenceGen{\r\n    //creates an arraylist containing all simple sentence structures\r\n    private ArrayList&lt;String&gt; sSentence = new ArrayList&lt;String&gt;();\r\n    sSentence.add(getArt + &quot; &quot; + getNoun + &quot; &quot; + getTense + &quot; &quot; + getArt + &quot; &quot; + getNoun + getPunct);\r\n    sSentence.add(getPronouns + &quot; &quot; + getTense + getPunct);\r\n\r\n    //constructor\r\n    public simpleSentence(ArrayList&lt;String&gt; sSentence){\r\n        super(n, v, adj, adv, art, pro, prep, coordConj, subConj);\r\n        this.sSentence = sSentence;\r\n    }\r\n\r\n    //pulls a random sentence structure\r\n    public String toString(){\r\n        int a = (int)(Math.random()*(sSentence.size()-1));\r\n        return sSentence.get(a);\r\n    }\r\n}\r\n```\r\nThe problem is that I can&#39;t call the simpleSentence class in my runner class and I don&#39;t know how to approach this. Should I make the simpleSentence a package and import it into the runner? Another note is that they are all src files and because this is my first time using VScode I don&#39;t know if that effects the outcome or anything like that. Thanks in advance!","title":"Java Random Sentence Generator Class not working in Runner","body":"<p>I am trying to make a program in VScode, utilizing Maven Java, that generates sentences randomly through randomized words for each part of speech, randomized punctuation, randomized sentence structure, etc. I have a parent class called SentenceGen which contains all of the arrays and some methods to pull random words/punctuation (e.g. getNoun, getVerb). For your convenience I've removed the words in the larger arrays:</p>\n<pre><code>import java.lang.Math;\n\npublic class SentenceGen{\n    \n    //an array of a lot of nouns found at https://gist.github.com/ijmacdowell/8325491\n    protected static String n[] =  {&quot;&quot;};\n    \n    //an array of verbs found at https://gist.github.com/ijmacdowell/8325491\n    protected static String v[] = {&quot;&quot;};\n\n    //an array of adverbs found at https://grammaran.com/wp-content/uploads/2021/09/pp-parts-of-speech.pdf\n    protected static String adv[] = {&quot;&quot;};\n    \n    //an array containing each of the three existing articles\n    protected static String art[] = {&quot;the&quot;, &quot;a&quot;, &quot;an&quot;};\n\n    //an array containing common pronouns\n    protected static String pro[] = {&quot;they&quot;, &quot;them&quot;, &quot;it&quot;, &quot;he&quot;, &quot;him&quot;, &quot;she&quot;, &quot;her&quot;, &quot;their&quot;, &quot;we&quot;, &quot;I&quot;, &quot;his&quot;};\n    \n    //an array containing common prepositions\n    protected static String prep[] = {&quot;&quot;};\n    \n    //an array containing coordinating conjuctions\n    protected static String coordConj[] = {&quot;and&quot;, &quot;or&quot;, &quot;but&quot;, &quot;for&quot;, &quot;nor&quot;, &quot;yet&quot;, &quot;so&quot;};\n\n    //an array containing subordinating conjunctions for even more complexity\n    protected static String subConj[] = {&quot;&quot;};\n\n    //default constructor \n    public SentenceGen(String n[], String v[], String adj[], String adv[], String art[], String pro[], String prep[], String coordConj[], String subConj[]){\n        SentenceGen.n = n;\n        SentenceGen.v = v;\n        SentenceGen.adj = adj;\n        SentenceGen.adv = adv;\n        SentenceGen.art = art;\n        SentenceGen.pro = pro;\n        SentenceGen.prep = prep;\n        SentenceGen.coordConj = coordConj;\n        SentenceGen.subConj = subConj;\n    }\n\n    //gets a random noun from the noun array\n    public String getNoun(){\n        int a = (int)(Math.random()*(SentenceGen.n.length-1));\n        return SentenceGen.n[a];\n    }\n    //gets a random verb from the verb array\n    public String getVerb(){\n        int a = (int)(Math.random()*(SentenceGen.v.length-1));\n        return SentenceGen.v[a];\n    }\n    //gets a random adjective from the adjective array\n    public String getAdj(){\n        int a = (int)(Math.random()*(SentenceGen.adj.length-1));\n        return SentenceGen.adj[a];\n    }\n    //gets a random adverb from the adverb array\n    public String getAdv(){\n        int a = (int)(Math.random()*(SentenceGen.adv.length-1));\n        return SentenceGen.adv[a];\n    }\n    //gets a random article from the article array\n    public String getArt(){\n        int a = (int)(Math.random()*(SentenceGen.art.length-1));\n        return SentenceGen.art[a];\n    }\n    //gets a random pronouns from the pronouns array\n    public String getPronouns(){\n        int a = (int)(Math.random()*(SentenceGen.pro.length-1));\n        return SentenceGen.pro[a];\n    }\n    //gets a random prepositions from the prepositions array\n    public String getPrep(){\n        int a = (int)(Math.random()*(SentenceGen.prep.length-1));\n        return SentenceGen.prep[a];\n    }\n    //gets a random coordinating conjuctions from the coordinating conjuctions array\n    public String getCoordConj(){\n        int a = (int)(Math.random()*(SentenceGen.coordConj.length-1));\n        return SentenceGen.coordConj[a]; \n    }\n    //gets a random subordinating conjunctions from the subordinating conjunctions array\n    public String getSubConj(){\n        int a = (int)(Math.random()*(SentenceGen.subConj.length-1));\n        return SentenceGen.subConj[a];\n    }\n    //randomizes what tense the verb is in (and does it in a grammatically correct way)\n    public String getTense(){\n        int a = (int)(Math.random()*2);\n        if(a == 0){\n            return getVerb();\n        } else {\n            String x = getVerb();\n            if(x.substring(x.length()-2, x.length()-1).equals(&quot;e&quot;)){\n                return (x + &quot;d&quot;);\n            } else {\n                return (x + &quot;ed&quot;);\n            }\n        }\n    }\n    //punctutation generation\n    public String getPunct(){\n        int x = (int)(Math.random()*2);\n        if(x == 0){\n            return &quot;&quot;;\n        } else {\n            int a = (int)(Math.random()*3);\n            if(a == 0){\n                return &quot;.&quot;;\n            } else if(a == 1){\n                return &quot;?&quot;;\n            } else if(a == 2){\n                return &quot;!&quot;;\n            } else {\n                return &quot; &lt;p&gt;Something went wrong, please try again&lt;/p&gt; &quot;;\n            }\n        }\n    }\n}\n</code></pre>\n<p>I have a child class of SentenceGen called simpleSentence (to generate several simple sentences). I know there are probably several problems with my approach to the program in general but the goal is to make an ArrayList of simple sentence structures and pull one randomly:</p>\n<pre><code>import java.util.ArrayList;\nimport java.math.*;\n\npublic class simpleSentence extends SentenceGen{\n    //creates an arraylist containing all simple sentence structures\n    private ArrayList&lt;String&gt; sSentence = new ArrayList&lt;String&gt;();\n    sSentence.add(getArt + &quot; &quot; + getNoun + &quot; &quot; + getTense + &quot; &quot; + getArt + &quot; &quot; + getNoun + getPunct);\n    sSentence.add(getPronouns + &quot; &quot; + getTense + getPunct);\n\n    //constructor\n    public simpleSentence(ArrayList&lt;String&gt; sSentence){\n        super(n, v, adj, adv, art, pro, prep, coordConj, subConj);\n        this.sSentence = sSentence;\n    }\n\n    //pulls a random sentence structure\n    public String toString(){\n        int a = (int)(Math.random()*(sSentence.size()-1));\n        return sSentence.get(a);\n    }\n}\n</code></pre>\n<p>The problem is that I can't call the simpleSentence class in my runner class and I don't know how to approach this. Should I make the simpleSentence a package and import it into the runner? Another note is that they are all src files and because this is my first time using VScode I don't know if that effects the outcome or anything like that. Thanks in advance!</p>\n"},{"tags":["java","arrays","inheritance","abstract-class"],"comments":[{"owner":{"account_id":8766622,"reputation":1498,"user_id":6554747,"accept_rate":100,"display_name":"progyammer"},"score":1,"creation_date":1485165505,"post_id":41803196,"comment_id":70794544,"body_markdown":"1. What you&#39;re talking about is called **Dynamic Method binding**. What happens is suppose you declare an object like this: `Person ob = new Student();` Now if you use `ob` to access a method of `Person` class, the original method will be called if it&#39;s not overriden in `Student`, otherwise, the overriden method will be called.     2. `instanceof` is **NOT** a method, if that&#39;s what you were thinking. It&#39;s an operator. If ob is a `Student` object then `ob instanceof Student` will return true. JUST IGNORE YOUR COMPILER WARNING.","body":"1. What you&#39;re talking about is called <b>Dynamic Method binding</b>. What happens is suppose you declare an object like this: <code>Person ob = new Student();</code> Now if you use <code>ob</code> to access a method of <code>Person</code> class, the original method will be called if it&#39;s not overriden in <code>Student</code>, otherwise, the overriden method will be called.     2. <code>instanceof</code> is <b>NOT</b> a method, if that&#39;s what you were thinking. It&#39;s an operator. If ob is a <code>Student</code> object then <code>ob instanceof Student</code> will return true. JUST IGNORE YOUR COMPILER WARNING."},{"owner":{"account_id":4090304,"reputation":382,"user_id":3358467,"accept_rate":69,"display_name":"FuegoJohnson"},"score":0,"creation_date":1485166308,"post_id":41803196,"comment_id":70795071,"body_markdown":"@progy_rock Thank you for the clarification of 1.) as it had me quite confused. I may have misspoke if I called `instanceOf` a method, I apologize. I knew it was a comparison operator that returns a boolean value, I just wasn&#39;t sure of it&#39;s implementation and my compiler made me further doubt myself. Is that the preferred way to do that type of comparison vs. what I wrote?","body":"@progy_rock Thank you for the clarification of 1.) as it had me quite confused. I may have misspoke if I called <code>instanceOf</code> a method, I apologize. I knew it was a comparison operator that returns a boolean value, I just wasn&#39;t sure of it&#39;s implementation and my compiler made me further doubt myself. Is that the preferred way to do that type of comparison vs. what I wrote?"},{"owner":{"account_id":8766622,"reputation":1498,"user_id":6554747,"accept_rate":100,"display_name":"progyammer"},"score":0,"creation_date":1485173111,"post_id":41803196,"comment_id":70799418,"body_markdown":"What I showed in my previous comment was the way to compare objects. In your code, you want to compare (rather check) the base type of the array. You just made a small mistake in there which has been well pointed out and corrected by @SME_Dev in their answer. As far as the compiler warnings is concerned, you can simply suppress such warnings which won&#39;t affect your program. See this: [What is SuppressWarnings (“unchecked”) in Java?](http://stackoverflow.com/questions/1129795/what-is-suppresswarnings-unchecked-in-java)","body":"What I showed in my previous comment was the way to compare objects. In your code, you want to compare (rather check) the base type of the array. You just made a small mistake in there which has been well pointed out and corrected by @SME_Dev in their answer. As far as the compiler warnings is concerned, you can simply suppress such warnings which won&#39;t affect your program. See this: <a href=\"http://stackoverflow.com/questions/1129795/what-is-suppresswarnings-unchecked-in-java\">What is SuppressWarnings (“unchecked”) in Java?</a>"}],"answers":[{"tags":[],"owner":{"account_id":2138901,"reputation":2790,"user_id":1898059,"display_name":"Nemesis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1485165028,"creation_date":1485165028,"answer_id":41803353,"question_id":41803196,"body_markdown":"For the clear method :\r\n\r\n    array = new Person[array.length] // re-init arrayt ot it&#39;s inital size.\r\n    studentCount = studentArrayl.length;\r\n    instCount = instArray.length;\r\n\r\nthat should r&#233;init the given array to a new empty array of the correct length and reasigne correct number to studentCount and instCount.\r\n\r\nRegards.\r\n\r\nNemesis.","title":"Trying to understand Abstract class inheritance and subclass object comparison","body":"<p>For the clear method :</p>\n\n<pre><code>array = new Person[array.length] // re-init arrayt ot it's inital size.\nstudentCount = studentArrayl.length;\ninstCount = instArray.length;\n</code></pre>\n\n<p>that should réinit the given array to a new empty array of the correct length and reasigne correct number to studentCount and instCount.</p>\n\n<p>Regards.</p>\n\n<p>Nemesis.</p>\n"},{"tags":[],"owner":{"account_id":4905966,"reputation":1880,"user_id":3952702,"accept_rate":71,"display_name":"SME_Dev"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1485167444,"creation_date":1485167444,"answer_id":41804151,"question_id":41803196,"body_markdown":"&gt; [...] will this object have access to the methods in it&#39;s own class, or is\r\n&gt; it restricted to the superclass methods only? My understanding was, if\r\n&gt; the superclass is abstract, the children still inherit their methods\r\n&gt; when instantiated in this way.\r\n\r\nIt doesn&#39;t matter, whether the superclass is [abstract](https://docs.oracle.com/javase/tutorial/java/IandI/abstract.html). A child class [inherits](https://docs.oracle.com/javase/tutorial/java/concepts/inheritance.html) the parent class&#39; methods and attributes. Whether these are accessible by the child class depends on [visibility modifiers](https://docs.oracle.com/javase/tutorial/java/javaOO/accesscontrol.html). \r\n\r\n&gt; I&#39;m having a hard time understanding how to differentiate between the\r\n&gt; two object arrays in the methods. For example, i&#39;m writing a clear() function that sets the specified object array(Student[] or Instructor[]) to null when called.\r\n\r\nYou could overload the `clear()` method like:\r\n\r\n    public void clear(Student[] array) {...}\r\n    public void clear(Instructor[] array) {...}\r\n\r\nor (if I understand the purpose of your example correctly) compare the input array&#39;s reference with the array references in your class definition:\r\n\r\n    public void clear(Person[] array) {\r\n        if(array == this.studentArray) {\r\n            // clear students\r\n        } else if(array == this.instArray) {\r\n            // clear instructors\r\n        }\r\n    }\r\n\r\nBut if you want to actually compare the arrays&#39; types, you can do:\r\n\r\n    array.getClass().equals(Student[].class)\r\n\r\nor \r\n\r\n    array instanceof Student[]","title":"Trying to understand Abstract class inheritance and subclass object comparison","body":"<blockquote>\n  <p>[...] will this object have access to the methods in it's own class, or is\n  it restricted to the superclass methods only? My understanding was, if\n  the superclass is abstract, the children still inherit their methods\n  when instantiated in this way.</p>\n</blockquote>\n\n<p>It doesn't matter, whether the superclass is <a href=\"https://docs.oracle.com/javase/tutorial/java/IandI/abstract.html\" rel=\"nofollow noreferrer\">abstract</a>. A child class <a href=\"https://docs.oracle.com/javase/tutorial/java/concepts/inheritance.html\" rel=\"nofollow noreferrer\">inherits</a> the parent class' methods and attributes. Whether these are accessible by the child class depends on <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/accesscontrol.html\" rel=\"nofollow noreferrer\">visibility modifiers</a>. </p>\n\n<blockquote>\n  <p>I'm having a hard time understanding how to differentiate between the\n  two object arrays in the methods. For example, i'm writing a clear() function that sets the specified object array(Student[] or Instructor[]) to null when called.</p>\n</blockquote>\n\n<p>You could overload the <code>clear()</code> method like:</p>\n\n<pre><code>public void clear(Student[] array) {...}\npublic void clear(Instructor[] array) {...}\n</code></pre>\n\n<p>or (if I understand the purpose of your example correctly) compare the input array's reference with the array references in your class definition:</p>\n\n<pre><code>public void clear(Person[] array) {\n    if(array == this.studentArray) {\n        // clear students\n    } else if(array == this.instArray) {\n        // clear instructors\n    }\n}\n</code></pre>\n\n<p>But if you want to actually compare the arrays' types, you can do:</p>\n\n<pre><code>array.getClass().equals(Student[].class)\n</code></pre>\n\n<p>or </p>\n\n<pre><code>array instanceof Student[]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7647173,"reputation":2122,"user_id":5797400,"display_name":"jpllosa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1485167676,"creation_date":1485167676,"answer_id":41804233,"question_id":41803196,"body_markdown":"For #1, yes, `newStudent` will have access to it&#39;s own methods and also it&#39;s superclass unless it&#39;s `@Override`n.\r\n\r\nFor #2, you are having a hard time because your `UniversityPeople` class is doing too many things.  This is will become a maintenance issue and is a code smell.  `UniversityPeople` violates the single responsibility principle.  Your class should do one thing only.  Why not do a `UniversityInstructor` and a `UniveristyStudent`? But since you are following instructions, here&#39;s an idea for your clear function. Before you `null` your array, get one content in the array. Say `Person person = array[0];`, then you can do an `if (person instanceof Student)` and then `if (person instanceof Instructor)`. This way you&#39;ll know the type of you array and proceed accordingly.","title":"Trying to understand Abstract class inheritance and subclass object comparison","body":"<p>For #1, yes, <code>newStudent</code> will have access to it's own methods and also it's superclass unless it's <code>@Override</code>n.</p>\n\n<p>For #2, you are having a hard time because your <code>UniversityPeople</code> class is doing too many things.  This is will become a maintenance issue and is a code smell.  <code>UniversityPeople</code> violates the single responsibility principle.  Your class should do one thing only.  Why not do a <code>UniversityInstructor</code> and a <code>UniveristyStudent</code>? But since you are following instructions, here's an idea for your clear function. Before you <code>null</code> your array, get one content in the array. Say <code>Person person = array[0];</code>, then you can do an <code>if (person instanceof Student)</code> and then <code>if (person instanceof Instructor)</code>. This way you'll know the type of you array and proceed accordingly.</p>\n"}],"owner":{"account_id":4090304,"reputation":382,"user_id":3358467,"accept_rate":69,"display_name":"FuegoJohnson"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":356,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1651442896,"creation_date":1485164623,"question_id":41803196,"body_markdown":"I&#39;m working on a project for my data structures class and I&#39;ve been having a hard time wrapping my head around Abstract class inheritance and how it can be manipulated through subclasses, object comparison, method args, etc. I&#39;ve been reading through Stack Overflow posts and Java tutorials, and while I&#39;ve learned a ton, I&#39;m still not understanding some things. I haven&#39;t coded in Java in 2+ years and have been using mostly C lately so I&#39;m feeling very rusty and overwhelmed.\r\n\r\n**Project Overview**  \r\n\r\nI was asked to build a database of sorts that represents data for my university students and professors. I have an abstract superclass, `Person`, which has 2 child classes `Student` and `Instructor`. Lastly (the class I&#39;m currently working on), is a class called `UniversityPeople` which references an array of `Student[]` objects as well as an array of `Instructor[]` objects. The `UniversityPeople` class has methods to `add()`, `delete()`, `search()`, validate data, ect. for the 2 object arrays.\r\n\r\nI know this implementation seems really strange, but I have to follow the instructions unfortunately. I&#39;ve tried to make the methods work with both arrays seamlessly which is partially where I&#39;m getting confused. Here are my questions:\r\n\r\n1.) This is kind of a general question, but one I feel is important to understanding inheritance. I&#39;ve done tons of reading on this, but I&#39;m still pretty confused. If I create an object that uses the type of the superclass but is a subclass object, like: `Person newStudent = new Student()`, will this object have access to the methods in it&#39;s own class, or is it restricted to the superclass methods only? My understanding was, if the superclass is `abstract`, the children still inherit their methods when instantiated in this way.  \r\n\r\n2.) I don&#39;t understand how to differentiate between the two object arrays in the methods. For example, I&#39;m writing a `clear()` function that sets the specified object array(`Student[]` or `Instructor[]`) to null when called. I first tried using the `instanceOf` method to test what type the array was but the compiler warned me I couldn&#39;t cast type Student to Person or something like that. Here is the constructor for the class as well as the clear function I&#39;m having trouble with. I&#39;m not sure if I&#39;m understanding how inheritance fully works here, so if there&#39;s a better way please enlighten me:\r\n\r\nConstructor:\r\n\r\n    //Global declarations\r\n        //Declares arrays of student and instructor classes\r\n        private Student[] studentArray;\r\n        private Instructor[] instArray;\r\n        private int studentCount;\r\n        private int instCount;\r\n    \r\n            /*\r\n            checks user input. If user enters 1, create student array.\r\n            if user enters 2, create Instructor array\r\n            */\r\n            public UniversityPeople(int type, int size)\r\n            {\r\n                if (type == 1)\r\n                {\r\n                    studentArray = new Student[size];\r\n                }\r\n                else if (type == 2)\r\n                {\r\n                    instArray = new Instructor[size];\r\n                }\r\n            }\r\n    \r\nSeparate insert methods for students/instructors because I couldn&#39;t figure out a way to do 1, if it&#39;s even possible:\r\n    \r\n     /*\r\n        checks if array is full or duplcate id exists.\r\n        If not, new Student object is created and\r\n        inserted into the student array\r\n        */\r\n        public void insertStudent(String lastName, String firstName, int id,\r\n                                  int age, String yearStanding, double GPA)\r\n        {\r\n            boolean checkFull = isFull();\r\n            boolean checkId = containsID(studentArray, id);\r\n    \r\n            if (checkFull)\r\n            {\r\n                System.out.println(&quot;Array is full. Please delete a data member.&quot;);\r\n            }\r\n            else if (checkId)\r\n            {\r\n                System.out.println(&quot;Duplicate ID. Please check data and re-enter.&quot;);\r\n            }\r\n            if (!checkFull &amp;&amp; !checkId)\r\n            {\r\n                Student newStudent = new Student(lastName, firstName, id, age, yearStanding, GPA);\r\n                newStudent = studentArray[studentCount];\r\n                studentCount++;\r\n            }\r\n            else\r\n                System.err.println(&quot;There was an error while attempting to \\n&quot; +\r\n                                   &quot;process your request. Please check your \\n&quot; +\r\n                                   &quot;data entry and try again.&quot;);\r\n    \r\n        }//end insertStudent\r\n    \r\n        /*\r\n        checks if array is full or duplicate id exists.\r\n        If not, new Instructor object is created and\r\n        inserted into instructor array\r\n        */\r\n        public void insertInstructor (String lastName, String firstName, int id,\r\n                                      int age, int officeNum, String subjectTaught)\r\n        {\r\n            boolean checkFull = isFull();\r\n            boolean checkId = containsID(instArray, id);\r\n    \r\n            if (checkFull)\r\n            {\r\n                System.out.println(&quot;Array is full. Please delete a data member.&quot;);\r\n            }\r\n            else if (checkId)\r\n            {\r\n                System.out.println(&quot;Duplicate ID. Please check data and re-enter.&quot;);\r\n            }\r\n            if (!checkFull &amp;&amp; !checkId)\r\n            {\r\n                Instructor newInstructor =\r\n                                new Instructor(lastName, firstName, id, age, officeNum, subjectTaught);\r\n                newInstructor = instArray[instCount];\r\n                instCount++;\r\n            }\r\n            else\r\n                System.err.println(&quot;There was an error while attempting to \\n&quot; +\r\n                                   &quot;process your request. Please check your \\n&quot; +\r\n                                   &quot;data entry and try again.&quot;);\r\n    \r\n        }//end insertInstructor\r\n\r\nLastly, a method to find someone in the array from their id and a method to clear whatever array is specified. I&#39;ve made the arg type `Person[]` array in most of these methods which I hope is acceptable. \r\n\r\n    public int findPerson(Person[] array, int id)\r\n        {\r\n            for (int i = 0; i &lt; array.length; i++)\r\n            {\r\n                if (array[i].getId() == id)\r\n                {\r\n                    return i;\r\n                }\r\n            }\r\n    \r\n            return -1;\r\n        }\r\n    \r\n        //Sets specified array to null. I need to reset the count of objects in\r\n        //the specified array to 0, but i&#39;m really confused about how that works. Below is the best\r\n        //understanding I could come up with\r\n        public void clear(Person[] array)\r\n        {\r\n            for (int i = 0; i &lt; array.length; i++)\r\n            {\r\n                array[i] = null;\r\n            }\r\n    \r\n            if (array.getClass().equals(Student.class))\r\n            {\r\n                studentCount = 0;\r\n            }\r\n            else if (array.getClass().equals(Instructor.class))\r\n            {\r\n                instCount = 0;\r\n            }\r\n            else\r\n            {\r\n                System.out.println(&quot;There was an issue validating the object type.&quot;);\r\n            }\r\n        }\r\n\r\nI&#39;m especially confused about the implementation of the `clear()` method as I&#39;ve never had to do this type of object comparison before. I&#39;m not sure why the `instanceOf` operator comparison was giving me weird results.\r\n","title":"Trying to understand Abstract class inheritance and subclass object comparison","body":"<p>I'm working on a project for my data structures class and I've been having a hard time wrapping my head around Abstract class inheritance and how it can be manipulated through subclasses, object comparison, method args, etc. I've been reading through Stack Overflow posts and Java tutorials, and while I've learned a ton, I'm still not understanding some things. I haven't coded in Java in 2+ years and have been using mostly C lately so I'm feeling very rusty and overwhelmed.</p>\n<p><strong>Project Overview</strong></p>\n<p>I was asked to build a database of sorts that represents data for my university students and professors. I have an abstract superclass, <code>Person</code>, which has 2 child classes <code>Student</code> and <code>Instructor</code>. Lastly (the class I'm currently working on), is a class called <code>UniversityPeople</code> which references an array of <code>Student[]</code> objects as well as an array of <code>Instructor[]</code> objects. The <code>UniversityPeople</code> class has methods to <code>add()</code>, <code>delete()</code>, <code>search()</code>, validate data, ect. for the 2 object arrays.</p>\n<p>I know this implementation seems really strange, but I have to follow the instructions unfortunately. I've tried to make the methods work with both arrays seamlessly which is partially where I'm getting confused. Here are my questions:</p>\n<p>1.) This is kind of a general question, but one I feel is important to understanding inheritance. I've done tons of reading on this, but I'm still pretty confused. If I create an object that uses the type of the superclass but is a subclass object, like: <code>Person newStudent = new Student()</code>, will this object have access to the methods in it's own class, or is it restricted to the superclass methods only? My understanding was, if the superclass is <code>abstract</code>, the children still inherit their methods when instantiated in this way.</p>\n<p>2.) I don't understand how to differentiate between the two object arrays in the methods. For example, I'm writing a <code>clear()</code> function that sets the specified object array(<code>Student[]</code> or <code>Instructor[]</code>) to null when called. I first tried using the <code>instanceOf</code> method to test what type the array was but the compiler warned me I couldn't cast type Student to Person or something like that. Here is the constructor for the class as well as the clear function I'm having trouble with. I'm not sure if I'm understanding how inheritance fully works here, so if there's a better way please enlighten me:</p>\n<p>Constructor:</p>\n<pre><code>//Global declarations\n    //Declares arrays of student and instructor classes\n    private Student[] studentArray;\n    private Instructor[] instArray;\n    private int studentCount;\n    private int instCount;\n\n        /*\n        checks user input. If user enters 1, create student array.\n        if user enters 2, create Instructor array\n        */\n        public UniversityPeople(int type, int size)\n        {\n            if (type == 1)\n            {\n                studentArray = new Student[size];\n            }\n            else if (type == 2)\n            {\n                instArray = new Instructor[size];\n            }\n        }\n</code></pre>\n<p>Separate insert methods for students/instructors because I couldn't figure out a way to do 1, if it's even possible:</p>\n<pre><code> /*\n    checks if array is full or duplcate id exists.\n    If not, new Student object is created and\n    inserted into the student array\n    */\n    public void insertStudent(String lastName, String firstName, int id,\n                              int age, String yearStanding, double GPA)\n    {\n        boolean checkFull = isFull();\n        boolean checkId = containsID(studentArray, id);\n\n        if (checkFull)\n        {\n            System.out.println(&quot;Array is full. Please delete a data member.&quot;);\n        }\n        else if (checkId)\n        {\n            System.out.println(&quot;Duplicate ID. Please check data and re-enter.&quot;);\n        }\n        if (!checkFull &amp;&amp; !checkId)\n        {\n            Student newStudent = new Student(lastName, firstName, id, age, yearStanding, GPA);\n            newStudent = studentArray[studentCount];\n            studentCount++;\n        }\n        else\n            System.err.println(&quot;There was an error while attempting to \\n&quot; +\n                               &quot;process your request. Please check your \\n&quot; +\n                               &quot;data entry and try again.&quot;);\n\n    }//end insertStudent\n\n    /*\n    checks if array is full or duplicate id exists.\n    If not, new Instructor object is created and\n    inserted into instructor array\n    */\n    public void insertInstructor (String lastName, String firstName, int id,\n                                  int age, int officeNum, String subjectTaught)\n    {\n        boolean checkFull = isFull();\n        boolean checkId = containsID(instArray, id);\n\n        if (checkFull)\n        {\n            System.out.println(&quot;Array is full. Please delete a data member.&quot;);\n        }\n        else if (checkId)\n        {\n            System.out.println(&quot;Duplicate ID. Please check data and re-enter.&quot;);\n        }\n        if (!checkFull &amp;&amp; !checkId)\n        {\n            Instructor newInstructor =\n                            new Instructor(lastName, firstName, id, age, officeNum, subjectTaught);\n            newInstructor = instArray[instCount];\n            instCount++;\n        }\n        else\n            System.err.println(&quot;There was an error while attempting to \\n&quot; +\n                               &quot;process your request. Please check your \\n&quot; +\n                               &quot;data entry and try again.&quot;);\n\n    }//end insertInstructor\n</code></pre>\n<p>Lastly, a method to find someone in the array from their id and a method to clear whatever array is specified. I've made the arg type <code>Person[]</code> array in most of these methods which I hope is acceptable.</p>\n<pre><code>public int findPerson(Person[] array, int id)\n    {\n        for (int i = 0; i &lt; array.length; i++)\n        {\n            if (array[i].getId() == id)\n            {\n                return i;\n            }\n        }\n\n        return -1;\n    }\n\n    //Sets specified array to null. I need to reset the count of objects in\n    //the specified array to 0, but i'm really confused about how that works. Below is the best\n    //understanding I could come up with\n    public void clear(Person[] array)\n    {\n        for (int i = 0; i &lt; array.length; i++)\n        {\n            array[i] = null;\n        }\n\n        if (array.getClass().equals(Student.class))\n        {\n            studentCount = 0;\n        }\n        else if (array.getClass().equals(Instructor.class))\n        {\n            instCount = 0;\n        }\n        else\n        {\n            System.out.println(&quot;There was an issue validating the object type.&quot;);\n        }\n    }\n</code></pre>\n<p>I'm especially confused about the implementation of the <code>clear()</code> method as I've never had to do this type of object comparison before. I'm not sure why the <code>instanceOf</code> operator comparison was giving me weird results.</p>\n"},{"tags":["java","javafx","3d","uv-mapping","javafx-3d"],"answers":[{"tags":[],"owner":{"account_id":10283144,"reputation":2440,"user_id":7587451,"display_name":"Giovanni Contreras"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1651442718,"creation_date":1651441625,"answer_id":72080648,"question_id":72080631,"body_markdown":"**Displaying uv coordinates to path**\r\n\r\n[![uv coords javafx][1]][1]\r\nThere is no built in  gui object , but we can create a custom one with paths . We can retrieve uv indices from `faces[]` in mesh object and get its values in `texcoords[]`\r\n\r\n\r\nThis is a single javafx app you can try . as far as i know there is no way to get mesh instance from a Shape3D object , so this works for trianglefaces custom mesh in meshview object only . I can&#39;t set mesh.fxml &#39;cause it will overflow char limit .\r\n\r\nApp.java\r\n\r\n    public class App extends Application {\r\n        \r\n        @Override\r\n        public void start(Stage stage) throws IOException {\r\n            Image uvImage = new Image(&quot;/uv.jpg&quot;);\r\n            \r\n            PerspectiveCamera pc = new PerspectiveCamera(true);\r\n            pc.setTranslateZ(-6);\r\n            MeshView mv = loadMeshView();\r\n            PhongMaterial pm = new PhongMaterial();\r\n            pm.setDiffuseMap(uvImage);\r\n            mv.setMaterial(pm);\r\n            Group group3d = new Group(pc, mv);\r\n            \r\n            RotateTransition animation = new RotateTransition(Duration.seconds(4), mv);\r\n             animation.setInterpolator(Interpolator.LINEAR);\r\n            animation.setAxis(Rotate.Y_AXIS);\r\n            animation.setByAngle(360);\r\n            animation.setCycleCount(100);\r\n           \r\n            \r\n            animation.play();\r\n            SubScene subScene = new SubScene(group3d, 400, 400, true, SceneAntialiasing.BALANCED);\r\n            subScene.setFill(Color.AQUAMARINE);\r\n            subScene.setCamera(pc);\r\n            \r\n            ImageView imageView = new ImageView(uvImage);\r\n            imageView.setFitHeight(400);\r\n            imageView.setFitWidth(400);\r\n            Group groupUv = new Group(imageView);\r\n            \r\n            makeUvLines(groupUv, mv);\r\n            Text u = new Text(&quot;U&quot;);\r\n            Text v = new Text(&quot;V&quot;);\r\n            v.setTranslateY(200);\r\n            v.setTranslateX(-20);\r\n            u.setTranslateX(200);\r\n            u.setTranslateY(420);\r\n            \r\n            Line uLine = new Line(0, 0, 0, 400);\r\n            Polygon uArrow = new Polygon(0, 0, 8, 8, -8, 8);\r\n            Polygon vArrow = new Polygon(400, 400, 392, 408, 392, 392);\r\n            \r\n            Line vLine = new Line(0, 400, 400, 400);\r\n            \r\n            Pane ap = new Pane(groupUv, uLine, vLine, uArrow, vArrow, u, v);\r\n            ap.setPrefSize(400, 400);\r\n            ap.setMaxSize(400, 400);\r\n            ap.setStyle(&quot;-fx-background-color:yellow&quot;);\r\n            HBox.setHgrow(ap, Priority.NEVER);\r\n            \r\n            HBox hb = new HBox(subScene, ap);\r\n            hb.setSpacing(30);\r\n            hb.setAlignment(Pos.CENTER);\r\n            \r\n            var scene = new Scene(hb, 800, 600);\r\n            stage.setTitle(&quot;JavaFX UV Visualizer&quot;);\r\n            stage.setScene(scene);\r\n            stage.show();\r\n        }\r\n        \r\n        public static void main(String[] args) {\r\n            launch();\r\n        }\r\n        \r\n        private void makeUvLines(Group groupUv, MeshView meshView) {\r\n            TriangleMesh mesh = (TriangleMesh) meshView.getMesh();\r\n            \r\n            int[] faces = mesh.getFaces().toArray(new int[mesh.getFaces().size()]);\r\n            float[] texCoords = mesh.getTexCoords().toArray(new float[mesh.getTexCoords().size()]);\r\n            \r\n            for (int i = 0; i &lt; faces.length; i++) {\r\n                float scale = 400;\r\n                float startU = texCoords[2 * faces[i + 1]];\r\n                float startV = texCoords[((2 * faces[i + 1]) + 1)];\r\n                \r\n                float u1 = texCoords[2 * faces[i + 3]];\r\n                float v1 = texCoords[((2 * faces[i + 3]) + 1)];\r\n                \r\n                float endU = texCoords[2 * faces[i + 5]];\r\n                float endV = texCoords[((2 * faces[i + 5]) + 1)];\r\n                \r\n                Path p = new Path(\r\n                        new MoveTo(startU * scale, startV * scale),\r\n                        new LineTo(u1 * scale, v1 * scale),\r\n                        new LineTo(endU * scale, endV * scale),\r\n                        new ClosePath()\r\n                );\r\n                p.setStroke(Color.ORANGE);\r\n                p.setFill(Color.color(0.1, 0.3, 0.1, 0.7));\r\n                groupUv.getChildren().add(p);\r\n                \r\n                i += 5;\r\n            }        \r\n            \r\n        }\r\n        \r\n        private MeshView loadMeshView() throws IOException {\r\n            FXMLLoader loader = new FXMLLoader(App.class.getResource(&quot;/mesh.fxml&quot;));\r\n            loader.load();\r\n            MeshView meshView = loader.getRoot();\r\n            \r\n            return meshView;\r\n        }\r\n        \r\n    }\r\n\r\n\r\n\r\nuv.jpg[![uv test image][2]][2]\r\n\r\n  \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wop2N.gif\r\n  [2]: https://i.stack.imgur.com/EGVZ9.jpg","title":"Is there a way to show uv from meshview to flat drawing in javafx?","body":"<p><strong>Displaying uv coordinates to path</strong></p>\n<p><a href=\"https://i.stack.imgur.com/wop2N.gif\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/wop2N.gif\" alt=\"uv coords javafx\" /></a>\nThere is no built in  gui object , but we can create a custom one with paths . We can retrieve uv indices from <code>faces[]</code> in mesh object and get its values in <code>texcoords[]</code></p>\n<p>This is a single javafx app you can try . as far as i know there is no way to get mesh instance from a Shape3D object , so this works for trianglefaces custom mesh in meshview object only . I can't set mesh.fxml 'cause it will overflow char limit .</p>\n<p>App.java</p>\n<pre><code>public class App extends Application {\n    \n    @Override\n    public void start(Stage stage) throws IOException {\n        Image uvImage = new Image(&quot;/uv.jpg&quot;);\n        \n        PerspectiveCamera pc = new PerspectiveCamera(true);\n        pc.setTranslateZ(-6);\n        MeshView mv = loadMeshView();\n        PhongMaterial pm = new PhongMaterial();\n        pm.setDiffuseMap(uvImage);\n        mv.setMaterial(pm);\n        Group group3d = new Group(pc, mv);\n        \n        RotateTransition animation = new RotateTransition(Duration.seconds(4), mv);\n         animation.setInterpolator(Interpolator.LINEAR);\n        animation.setAxis(Rotate.Y_AXIS);\n        animation.setByAngle(360);\n        animation.setCycleCount(100);\n       \n        \n        animation.play();\n        SubScene subScene = new SubScene(group3d, 400, 400, true, SceneAntialiasing.BALANCED);\n        subScene.setFill(Color.AQUAMARINE);\n        subScene.setCamera(pc);\n        \n        ImageView imageView = new ImageView(uvImage);\n        imageView.setFitHeight(400);\n        imageView.setFitWidth(400);\n        Group groupUv = new Group(imageView);\n        \n        makeUvLines(groupUv, mv);\n        Text u = new Text(&quot;U&quot;);\n        Text v = new Text(&quot;V&quot;);\n        v.setTranslateY(200);\n        v.setTranslateX(-20);\n        u.setTranslateX(200);\n        u.setTranslateY(420);\n        \n        Line uLine = new Line(0, 0, 0, 400);\n        Polygon uArrow = new Polygon(0, 0, 8, 8, -8, 8);\n        Polygon vArrow = new Polygon(400, 400, 392, 408, 392, 392);\n        \n        Line vLine = new Line(0, 400, 400, 400);\n        \n        Pane ap = new Pane(groupUv, uLine, vLine, uArrow, vArrow, u, v);\n        ap.setPrefSize(400, 400);\n        ap.setMaxSize(400, 400);\n        ap.setStyle(&quot;-fx-background-color:yellow&quot;);\n        HBox.setHgrow(ap, Priority.NEVER);\n        \n        HBox hb = new HBox(subScene, ap);\n        hb.setSpacing(30);\n        hb.setAlignment(Pos.CENTER);\n        \n        var scene = new Scene(hb, 800, 600);\n        stage.setTitle(&quot;JavaFX UV Visualizer&quot;);\n        stage.setScene(scene);\n        stage.show();\n    }\n    \n    public static void main(String[] args) {\n        launch();\n    }\n    \n    private void makeUvLines(Group groupUv, MeshView meshView) {\n        TriangleMesh mesh = (TriangleMesh) meshView.getMesh();\n        \n        int[] faces = mesh.getFaces().toArray(new int[mesh.getFaces().size()]);\n        float[] texCoords = mesh.getTexCoords().toArray(new float[mesh.getTexCoords().size()]);\n        \n        for (int i = 0; i &lt; faces.length; i++) {\n            float scale = 400;\n            float startU = texCoords[2 * faces[i + 1]];\n            float startV = texCoords[((2 * faces[i + 1]) + 1)];\n            \n            float u1 = texCoords[2 * faces[i + 3]];\n            float v1 = texCoords[((2 * faces[i + 3]) + 1)];\n            \n            float endU = texCoords[2 * faces[i + 5]];\n            float endV = texCoords[((2 * faces[i + 5]) + 1)];\n            \n            Path p = new Path(\n                    new MoveTo(startU * scale, startV * scale),\n                    new LineTo(u1 * scale, v1 * scale),\n                    new LineTo(endU * scale, endV * scale),\n                    new ClosePath()\n            );\n            p.setStroke(Color.ORANGE);\n            p.setFill(Color.color(0.1, 0.3, 0.1, 0.7));\n            groupUv.getChildren().add(p);\n            \n            i += 5;\n        }        \n        \n    }\n    \n    private MeshView loadMeshView() throws IOException {\n        FXMLLoader loader = new FXMLLoader(App.class.getResource(&quot;/mesh.fxml&quot;));\n        loader.load();\n        MeshView meshView = loader.getRoot();\n        \n        return meshView;\n    }\n    \n}\n</code></pre>\n<p>uv.jpg<a href=\"https://i.stack.imgur.com/EGVZ9.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/EGVZ9.jpg\" alt=\"uv test image\" /></a></p>\n"}],"owner":{"account_id":10283144,"reputation":2440,"user_id":7587451,"display_name":"Giovanni Contreras"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":212,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72080648,"answer_count":1,"score":2,"last_activity_date":1651442718,"creation_date":1651441445,"question_id":72080631,"body_markdown":"\r\nis there a way to show uv coords on gui like blender [blender uv][1] ?\r\n\r\n\r\n  [1]: https://www.google.com/url?sa=i&amp;url=https%3A%2F%2Fdocs.blender.org%2Fmanual%2Fen%2Flatest%2Fmodeling%2Fmeshes%2Fediting%2Fuv.html&amp;psig=AOvVaw1_e4KCrqD1eUGW75hcYkIF&amp;ust=1651527019689000&amp;source=images&amp;cd=vfe&amp;ved=0CAwQjRxqFwoTCLDUo9-fv_cCFQAAAAAdAAAAABAD","title":"Is there a way to show uv from meshview to flat drawing in javafx?","body":"<p>is there a way to show uv coords on gui like blender <a href=\"https://www.google.com/url?sa=i&amp;url=https%3A%2F%2Fdocs.blender.org%2Fmanual%2Fen%2Flatest%2Fmodeling%2Fmeshes%2Fediting%2Fuv.html&amp;psig=AOvVaw1_e4KCrqD1eUGW75hcYkIF&amp;ust=1651527019689000&amp;source=images&amp;cd=vfe&amp;ved=0CAwQjRxqFwoTCLDUo9-fv_cCFQAAAAAdAAAAABAD\" rel=\"nofollow noreferrer\">blender uv</a> ?</p>\n"},{"tags":["java","binary-search-tree"],"comments":[{"owner":{"account_id":5731053,"reputation":147,"user_id":4526578,"display_name":"Raheel138"},"score":0,"creation_date":1490930634,"post_id":43131814,"comment_id":73341764,"body_markdown":"Are you just trying to find the GPA by finding a student inside of the tree and getting is GPA value? If so, there are many tree traversal methods that can help greatly in trying to iterate through a tree recursively in order to find a specific node or a specific object at a node. Here is a url:https://en.wikipedia.org/wiki/Tree_traversal#Pre-order_2","body":"Are you just trying to find the GPA by finding a student inside of the tree and getting is GPA value? If so, there are many tree traversal methods that can help greatly in trying to iterate through a tree recursively in order to find a specific node or a specific object at a node. Here is a url:<a href=\"https://en.wikipedia.org/wiki/Tree_traversal#Pre-order_2\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Tree_traversal#Pre-order_2</a>"},{"owner":{"account_id":8164709,"reputation":6730,"user_id":6147506,"accept_rate":79,"display_name":"nhouser9"},"score":0,"creation_date":1490930642,"post_id":43131814,"comment_id":73341766,"body_markdown":"You seem to have a method, `inOrdrer`, which adds the objects to an ordered queue. Just do that and then find the index of your object in the queue.","body":"You seem to have a method, <code>inOrdrer</code>, which adds the objects to an ordered queue. Just do that and then find the index of your object in the queue."},{"owner":{"account_id":8164709,"reputation":6730,"user_id":6147506,"accept_rate":79,"display_name":"nhouser9"},"score":1,"creation_date":1490930699,"post_id":43131814,"comment_id":73341775,"body_markdown":"@Raheel138 OP is not trying to find the GPA. OP is trying to find someone&#39;s class rank given their GPA.","body":"@Raheel138 OP is not trying to find the GPA. OP is trying to find someone&#39;s class rank given their GPA."},{"owner":{"account_id":4068015,"reputation":91,"user_id":3342222,"display_name":"Hemanth S A"},"score":0,"creation_date":1490930720,"post_id":43131814,"comment_id":73341781,"body_markdown":"Take a look at this: http://stackoverflow.com/questions/30013591/binary-tree-find-position-in-inorder-traversal","body":"Take a look at this: <a href=\"http://stackoverflow.com/questions/30013591/binary-tree-find-position-in-inorder-traversal\" title=\"binary tree find position in inorder traversal\">stackoverflow.com/questions/30013591/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":4090304,"reputation":382,"user_id":3358467,"accept_rate":69,"display_name":"FuegoJohnson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1490937790,"creation_date":1490937790,"answer_id":43132999,"question_id":43131814,"body_markdown":"After several failures, it seems I have found a workable solution. Instead of storing in a generic array with a fixed size, I decided to try an ArrayList instead. I use a recursive method to add each node inorder to the array list: \r\n\r\n    //recursive method used to copy BST to array list\r\n        public void recArrayList(BSTNode&lt;T&gt; tree, ArrayList&lt;T&gt; list)\r\n        {\r\n            if (tree == null)\r\n            {\r\n                return;\r\n            }\r\n            recArrayList(tree.getLeft(), list);\r\n            list.add(tree.getInfo());\r\n            recArrayList(tree.getRight(), list);\r\n        }\r\n    \r\n        //converts BST to arraylist used for finding GPA rank\r\n        public ArrayList&lt;T&gt; toArrayList()\r\n        {\r\n            stuList = new ArrayList&lt;T&gt;();\r\n            recArrayList(root, stuList);\r\n            return stuList;\r\n        }\r\n\r\nAnd finally in the class using the BST:\r\n\r\n    //returns the rank of student in BST based off GPA\r\n        public int rank(Student stu)\r\n        {\r\n            ArrayList&lt;Student&gt; stuList = stuGPA.toArrayList();\r\n            for (i = 0; i &lt; stuList.size(); i++)\r\n            {\r\n                if (stuList.get(i) == stu)\r\n                {\r\n                    return i + 1;\r\n                }\r\n            }\r\n            return 0;\r\n        }\r\n\r\nI dont like using `==` to compare references so i&#39;m working on changing that, but for now this seems to be functioning correctly. Ty for the comments, it inspired me to go a different route. ","title":"Finding the rank of a student GPA in Binary Search Tree","body":"<p>After several failures, it seems I have found a workable solution. Instead of storing in a generic array with a fixed size, I decided to try an ArrayList instead. I use a recursive method to add each node inorder to the array list: </p>\n\n<pre><code>//recursive method used to copy BST to array list\n    public void recArrayList(BSTNode&lt;T&gt; tree, ArrayList&lt;T&gt; list)\n    {\n        if (tree == null)\n        {\n            return;\n        }\n        recArrayList(tree.getLeft(), list);\n        list.add(tree.getInfo());\n        recArrayList(tree.getRight(), list);\n    }\n\n    //converts BST to arraylist used for finding GPA rank\n    public ArrayList&lt;T&gt; toArrayList()\n    {\n        stuList = new ArrayList&lt;T&gt;();\n        recArrayList(root, stuList);\n        return stuList;\n    }\n</code></pre>\n\n<p>And finally in the class using the BST:</p>\n\n<pre><code>//returns the rank of student in BST based off GPA\n    public int rank(Student stu)\n    {\n        ArrayList&lt;Student&gt; stuList = stuGPA.toArrayList();\n        for (i = 0; i &lt; stuList.size(); i++)\n        {\n            if (stuList.get(i) == stu)\n            {\n                return i + 1;\n            }\n        }\n        return 0;\n    }\n</code></pre>\n\n<p>I dont like using <code>==</code> to compare references so i'm working on changing that, but for now this seems to be functioning correctly. Ty for the comments, it inspired me to go a different route. </p>\n"}],"owner":{"account_id":4090304,"reputation":382,"user_id":3358467,"accept_rate":69,"display_name":"FuegoJohnson"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":602,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651442688,"creation_date":1490930250,"question_id":43131814,"body_markdown":"I&#39;ve read all the posts related to this question, yet I am still having a very hard time understanding how to implement the algorithm. \r\n\r\nI have a fully written BST with methods that recursively add, delete etc `Student` objects(the BST class is written for generics, though). I need to write a method that returns the rank of a student in the binary search tree based off their GPA, yet I do not understand how I should implement this. The `Student` class has a getGPA() method, so I know ill need to use that somehow.\r\n\r\nShould I store the elements into an array then search for the index? If so, what&#39;s the best algorithm to accomplish this? Is there a better way to do this?\r\n\r\nHere is the important parts of my BST class:\r\n\r\n    public int size()\r\n        // Returns the number of elements in this BST.\r\n        {\r\n          return recSize(root);\r\n        }\r\n    private int recSize(BSTNode&lt;T&gt; tree)\r\n      // Returns the number of elements in tree.\r\n      {\r\n        if (tree == null)    \r\n          return 0;\r\n        else\r\n          return recSize(tree.getLeft()) + recSize(tree.getRight()) + 1;\r\n      }\r\n    private boolean recContains(T element, BSTNode&lt;T&gt; tree)\r\n      // Returns true if tree contains an element e such that \r\n      // e.compareTo(element) == 0; otherwise, returns false.\r\n      {\r\n        if (tree == null)\r\n          return false;       // element is not found\r\n        else if (element.compareTo(tree.getInfo()) &lt; 0)\r\n          return recContains(element, tree.getLeft());   // Search left subtree\r\n        else if (element.compareTo(tree.getInfo()) &gt; 0)\r\n          return recContains(element, tree.getRight());  // Search right subtree\r\n        else\r\n          return true;        // element is found\r\n      }\r\n    \r\n      public boolean contains (T element)\r\n      // Returns true if this BST contains an element e such that \r\n      // e.compareTo(element) == 0; otherwise, returns false.\r\n      {\r\n        return recContains(element, root);\r\n      }\r\n    private T recGet(T element, BSTNode&lt;T&gt; tree)\r\n      // Returns an element e from tree such that e.compareTo(element) == 0;\r\n      // if no such element exists, returns null.\r\n      {\r\n        if (tree == null)\r\n          return null;             // element is not found\r\n        else if (element.compareTo(tree.getInfo()) &lt; 0)\r\n          return recGet(element, tree.getLeft());          // get from left subtree\r\n        else\r\n        if (element.compareTo(tree.getInfo()) &gt; 0)\r\n          return recGet(element, tree.getRight());         // get from right subtree\r\n        else\r\n          return tree.getInfo();  // element is found\r\n      }\r\n    \r\n      public T get(T element)\r\n      // Returns an element e from this BST such that e.compareTo(element) == 0;\r\n      // if no such element exists, returns null.\r\n      {\r\n        return recGet(element, root);\r\n      }\r\n    \r\n      private BSTNode&lt;T&gt; recAdd(T element, BSTNode&lt;T&gt; tree)\r\n      // Adds element to tree; tree retains its BST property.\r\n      {\r\n        if (tree == null)\r\n          // Addition place found\r\n          tree = new BSTNode&lt;T&gt;(element);\r\n        else if (element.compareTo(tree.getInfo()) &lt;= 0)\r\n          tree.setLeft(recAdd(element, tree.getLeft()));    // Add in left subtree\r\n        else\r\n          tree.setRight(recAdd(element, tree.getRight()));   // Add in right subtree\r\n        return tree;\r\n      }\r\n    \r\n      public void add (T element)\r\n      // Adds element to this BST. The tree retains its BST property.\r\n      {\r\n        root = recAdd(element, root);\r\n      }\r\n    private void inOrder(BSTNode&lt;T&gt; tree)\r\n      // Initializes inOrderQueue with tree elements in inOrder order.\r\n      {\r\n        if (tree != null)\r\n        {\r\n          inOrder(tree.getLeft());\r\n          inOrderQueue.enqueue(tree.getInfo());\r\n          inOrder(tree.getRight());\r\n        }\r\n      }\r\n    private void preOrder(BSTNode&lt;T&gt; tree)\r\n      // Initializes preOrderQueue with tree elements in preOrder order.\r\n      {\r\n        if (tree != null)\r\n        {\r\n          preOrderQueue.enqueue(tree.getInfo());\r\n          preOrder(tree.getLeft());\r\n          preOrder(tree.getRight());\r\n        }\r\n      }\r\n    \r\n      private void postOrder(BSTNode&lt;T&gt; tree)\r\n      // Initializes postOrderQueue with tree elements in postOrder order.\r\n      {\r\n        if (tree != null)\r\n        {\r\n          postOrder(tree.getLeft());\r\n          postOrder(tree.getRight());\r\n          postOrderQueue.enqueue(tree.getInfo());\r\n        }\r\n      }\r\n    \r\n      public int reset(int orderType)\r\n      // Initializes current position for an iteration through this BST\r\n      // in orderType order. Returns current number of nodes in the BST.\r\n      {\r\n        int numNodes = size();\r\n    \r\n        if (orderType == INORDER)\r\n        {\r\n          inOrderQueue = new LinkedUnbndQueue&lt;T&gt;();\r\n          inOrder(root);\r\n        }\r\n        else\r\n        if (orderType == PREORDER)\r\n        {\r\n          preOrderQueue = new LinkedUnbndQueue&lt;T&gt;();\r\n          preOrder(root);\r\n        }\r\n        if (orderType == POSTORDER)\r\n        {\r\n          postOrderQueue = new LinkedUnbndQueue&lt;T&gt;();\r\n          postOrder(root);\r\n        }\r\n        return numNodes;\r\n      }\r\n","title":"Finding the rank of a student GPA in Binary Search Tree","body":"<p>I've read all the posts related to this question, yet I am still having a very hard time understanding how to implement the algorithm.</p>\n<p>I have a fully written BST with methods that recursively add, delete etc <code>Student</code> objects(the BST class is written for generics, though). I need to write a method that returns the rank of a student in the binary search tree based off their GPA, yet I do not understand how I should implement this. The <code>Student</code> class has a getGPA() method, so I know ill need to use that somehow.</p>\n<p>Should I store the elements into an array then search for the index? If so, what's the best algorithm to accomplish this? Is there a better way to do this?</p>\n<p>Here is the important parts of my BST class:</p>\n<pre><code>public int size()\n    // Returns the number of elements in this BST.\n    {\n      return recSize(root);\n    }\nprivate int recSize(BSTNode&lt;T&gt; tree)\n  // Returns the number of elements in tree.\n  {\n    if (tree == null)    \n      return 0;\n    else\n      return recSize(tree.getLeft()) + recSize(tree.getRight()) + 1;\n  }\nprivate boolean recContains(T element, BSTNode&lt;T&gt; tree)\n  // Returns true if tree contains an element e such that \n  // e.compareTo(element) == 0; otherwise, returns false.\n  {\n    if (tree == null)\n      return false;       // element is not found\n    else if (element.compareTo(tree.getInfo()) &lt; 0)\n      return recContains(element, tree.getLeft());   // Search left subtree\n    else if (element.compareTo(tree.getInfo()) &gt; 0)\n      return recContains(element, tree.getRight());  // Search right subtree\n    else\n      return true;        // element is found\n  }\n\n  public boolean contains (T element)\n  // Returns true if this BST contains an element e such that \n  // e.compareTo(element) == 0; otherwise, returns false.\n  {\n    return recContains(element, root);\n  }\nprivate T recGet(T element, BSTNode&lt;T&gt; tree)\n  // Returns an element e from tree such that e.compareTo(element) == 0;\n  // if no such element exists, returns null.\n  {\n    if (tree == null)\n      return null;             // element is not found\n    else if (element.compareTo(tree.getInfo()) &lt; 0)\n      return recGet(element, tree.getLeft());          // get from left subtree\n    else\n    if (element.compareTo(tree.getInfo()) &gt; 0)\n      return recGet(element, tree.getRight());         // get from right subtree\n    else\n      return tree.getInfo();  // element is found\n  }\n\n  public T get(T element)\n  // Returns an element e from this BST such that e.compareTo(element) == 0;\n  // if no such element exists, returns null.\n  {\n    return recGet(element, root);\n  }\n\n  private BSTNode&lt;T&gt; recAdd(T element, BSTNode&lt;T&gt; tree)\n  // Adds element to tree; tree retains its BST property.\n  {\n    if (tree == null)\n      // Addition place found\n      tree = new BSTNode&lt;T&gt;(element);\n    else if (element.compareTo(tree.getInfo()) &lt;= 0)\n      tree.setLeft(recAdd(element, tree.getLeft()));    // Add in left subtree\n    else\n      tree.setRight(recAdd(element, tree.getRight()));   // Add in right subtree\n    return tree;\n  }\n\n  public void add (T element)\n  // Adds element to this BST. The tree retains its BST property.\n  {\n    root = recAdd(element, root);\n  }\nprivate void inOrder(BSTNode&lt;T&gt; tree)\n  // Initializes inOrderQueue with tree elements in inOrder order.\n  {\n    if (tree != null)\n    {\n      inOrder(tree.getLeft());\n      inOrderQueue.enqueue(tree.getInfo());\n      inOrder(tree.getRight());\n    }\n  }\nprivate void preOrder(BSTNode&lt;T&gt; tree)\n  // Initializes preOrderQueue with tree elements in preOrder order.\n  {\n    if (tree != null)\n    {\n      preOrderQueue.enqueue(tree.getInfo());\n      preOrder(tree.getLeft());\n      preOrder(tree.getRight());\n    }\n  }\n\n  private void postOrder(BSTNode&lt;T&gt; tree)\n  // Initializes postOrderQueue with tree elements in postOrder order.\n  {\n    if (tree != null)\n    {\n      postOrder(tree.getLeft());\n      postOrder(tree.getRight());\n      postOrderQueue.enqueue(tree.getInfo());\n    }\n  }\n\n  public int reset(int orderType)\n  // Initializes current position for an iteration through this BST\n  // in orderType order. Returns current number of nodes in the BST.\n  {\n    int numNodes = size();\n\n    if (orderType == INORDER)\n    {\n      inOrderQueue = new LinkedUnbndQueue&lt;T&gt;();\n      inOrder(root);\n    }\n    else\n    if (orderType == PREORDER)\n    {\n      preOrderQueue = new LinkedUnbndQueue&lt;T&gt;();\n      preOrder(root);\n    }\n    if (orderType == POSTORDER)\n    {\n      postOrderQueue = new LinkedUnbndQueue&lt;T&gt;();\n      postOrder(root);\n    }\n    return numNodes;\n  }\n</code></pre>\n"},{"tags":["java","string","methods"],"comments":[{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":1,"creation_date":1651421425,"post_id":72078213,"comment_id":127356379,"body_markdown":"Looks like you didn&#39;t understand the requirements of your task. &quot;Replace four letter words with FRED&quot; doesn&#39;t mean &quot;If your input is 4 letters long print FRED&quot;. It means, if your input is something like &quot;My cat went to West Virginia&quot;, you need to produce the string &quot;My cat FRED to FRED Virginia&quot;.","body":"Looks like you didn&#39;t understand the requirements of your task. &quot;Replace four letter words with FRED&quot; doesn&#39;t mean &quot;If your input is 4 letters long print FRED&quot;. It means, if your input is something like &quot;My cat went to West Virginia&quot;, you need to produce the string &quot;My cat FRED to FRED Virginia&quot;."},{"owner":{"account_id":25148311,"reputation":3,"user_id":18993831,"display_name":"Ali Saty"},"score":0,"creation_date":1651421578,"post_id":72078213,"comment_id":127356432,"body_markdown":"@RealSkeptic You are correct, that is my mistake, I will fix that immediately.","body":"@RealSkeptic You are correct, that is my mistake, I will fix that immediately."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1651421716,"post_id":72078213,"comment_id":127356485,"body_markdown":"Are you expecting one word per line in the input?  Or can each line of input contain multiple words?","body":"Are you expecting one word per line in the input?  Or can each line of input contain multiple words?"},{"owner":{"account_id":25148311,"reputation":3,"user_id":18993831,"display_name":"Ali Saty"},"score":0,"creation_date":1651421987,"post_id":72078213,"comment_id":127356579,"body_markdown":"@VGR I am supposed to first do one word per line input, once that is completed, I must modify it so that the input can contain multiple words.  I am doing my research as to how to properly complete the first rule.","body":"@VGR I am supposed to first do one word per line input, once that is completed, I must modify it so that the input can contain multiple words.  I am doing my research as to how to properly complete the first rule."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1651422168,"post_id":72078213,"comment_id":127356625,"body_markdown":"If you use regexes you can that with two lines of code","body":"If you use regexes you can that with two lines of code"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1651422276,"post_id":72078213,"comment_id":127356652,"body_markdown":"@g00se I had the same thought, but regular expressions might be ahead of where Ali is in the learning process right now.","body":"@g00se I had the same thought, but regular expressions might be ahead of where Ali is in the learning process right now."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1651422439,"post_id":72078213,"comment_id":127356704,"body_markdown":"Yes. Also amusing to note that any four-letter word would be turned into &quot;FRID&quot; (?) ;)","body":"Yes. Also amusing to note that any four-letter word would be turned into &quot;FRID&quot; (?) ;)"},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":0,"creation_date":1651423768,"post_id":72078213,"comment_id":127357050,"body_markdown":"@g00se, &quot;FRED&quot; is not necessarily the same as &quot;Fred&quot;.","body":"@g00se, &quot;FRED&quot; is not necessarily the same as &quot;Fred&quot;."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1651424097,"post_id":72078213,"comment_id":127357141,"body_markdown":"Hehe - true. I was forgetting case","body":"Hehe - true. I was forgetting case"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1651440824,"post_id":72078213,"comment_id":127360477,"body_markdown":"Given the word `died`, what is the result?  Basically, what is the priority for changing the words?","body":"Given the word <code>died</code>, what is the result?  Basically, what is the priority for changing the words?"}],"answers":[{"tags":[],"owner":{"account_id":16841821,"reputation":40,"user_id":12177041,"display_name":"LonelyDoor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651424043,"creation_date":1651424043,"answer_id":72078733,"question_id":72078213,"body_markdown":"This is the most simplest way I could think to solve the second case of replacing the last two characters.\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class MyClass {\r\n    public static void main(String[] args) {\r\n        Scanner sc = new Scanner(System.in);\r\n\r\n        System.out.println(&quot;Enter a line or a word: &quot;);\r\n        String s = sc.nextLine();\r\n\r\n        //getting the length of entered string\r\n        int length = s.length();\r\n        \r\n        //initializing a new string to hold the last two characters of the entered string\r\n        String extract = &quot;&quot;;\r\n\r\n        //checking if length of entered string is more than 2\r\n        if (length &gt; 2) {\r\n            //extracting the last two letters\r\n            extract = s.substring(length - 2);\r\n            //updating the original string\r\n            s = s.substring(0, length - 2);\r\n        }\r\n\r\n\r\n        //checking if the last two characters fulfil the condition for changing them\r\n        if (extract.equalsIgnoreCase(&quot;ed&quot;)) {\r\n            //if they do, concatenate &quot;id&quot; to the now updated original string\r\n            System.out.println(s + &quot;id&quot;);\r\n        } else {\r\n            //or print the originally entered string\r\n            System.out.println(s + extract);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI believe the comments are giving enough explanation and further explanation is not needed.","title":"Replace last two letters in Java","body":"<p>This is the most simplest way I could think to solve the second case of replacing the last two characters.</p>\n<pre><code>import java.util.Scanner;\n\npublic class MyClass {\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n\n        System.out.println(&quot;Enter a line or a word: &quot;);\n        String s = sc.nextLine();\n\n        //getting the length of entered string\n        int length = s.length();\n        \n        //initializing a new string to hold the last two characters of the entered string\n        String extract = &quot;&quot;;\n\n        //checking if length of entered string is more than 2\n        if (length &gt; 2) {\n            //extracting the last two letters\n            extract = s.substring(length - 2);\n            //updating the original string\n            s = s.substring(0, length - 2);\n        }\n\n\n        //checking if the last two characters fulfil the condition for changing them\n        if (extract.equalsIgnoreCase(&quot;ed&quot;)) {\n            //if they do, concatenate &quot;id&quot; to the now updated original string\n            System.out.println(s + &quot;id&quot;);\n        } else {\n            //or print the originally entered string\n            System.out.println(s + extract);\n        }\n    }\n}\n</code></pre>\n<p>I believe the comments are giving enough explanation and further explanation is not needed.</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651442331,"creation_date":1651442331,"answer_id":72080708,"question_id":72078213,"body_markdown":"There may be a way to more optimally combine the regular expressions, but this will work.\r\n- `\\\\b` - word boundary (white space, punctuation,etc).\r\n- `\\\\b(?:\\\\w){4}\\\\b` - four letter word\r\n- `ed\\\\b` - word ending with `ed`\r\n- `\\\\bdi`  - word starting with `di`\r\n- `replaceAll(regex,b)` - replace what `regex` matches with string `b`\r\n```\r\nString s =\r\n\t\t&quot;Bill charles among hello fool march good deed, dirt, dirty, divine dried freed died&quot;;\r\ns = s.replaceAll(&quot;\\\\b(?:\\\\w){4}\\\\b&quot;, &quot;FRED&quot;)\r\n\t\t.replaceAll(&quot;ed\\\\b&quot;, &quot;id&quot;)\r\n\t\t.replaceAll(&quot;\\\\bdi&quot;, &quot;id&quot;);\r\n\r\nSystem.out.println(s);\r\n```\r\nprints\r\n```\r\nFRED charles among hello FRED march FRED FRED, FRED, idrty, idvine driid freid F\r\nRED\r\n","title":"Replace last two letters in Java","body":"<p>There may be a way to more optimally combine the regular expressions, but this will work.</p>\n<ul>\n<li><code>\\\\b</code> - word boundary (white space, punctuation,etc).</li>\n<li><code>\\\\b(?:\\\\w){4}\\\\b</code> - four letter word</li>\n<li><code>ed\\\\b</code> - word ending with <code>ed</code></li>\n<li><code>\\\\bdi</code>  - word starting with <code>di</code></li>\n<li><code>replaceAll(regex,b)</code> - replace what <code>regex</code> matches with string <code>b</code></li>\n</ul>\n<pre><code>String s =\n        &quot;Bill charles among hello fool march good deed, dirt, dirty, divine dried freed died&quot;;\ns = s.replaceAll(&quot;\\\\b(?:\\\\w){4}\\\\b&quot;, &quot;FRED&quot;)\n        .replaceAll(&quot;ed\\\\b&quot;, &quot;id&quot;)\n        .replaceAll(&quot;\\\\bdi&quot;, &quot;id&quot;);\n\nSystem.out.println(s);\n</code></pre>\n<p>prints</p>\n<pre><code>FRED charles among hello FRED march FRED FRED, FRED, idrty, idvine driid freid F\nRED\n</code></pre>\n"}],"owner":{"account_id":25148311,"reputation":3,"user_id":18993831,"display_name":"Ali Saty"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":144,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":72080708,"answer_count":2,"score":-2,"last_activity_date":1651442331,"creation_date":1651419901,"question_id":72078213,"body_markdown":"I am asking for help on this code that I am making, I want it to replace the last two letters. I am coding a program that will: \r\n\r\n 1. Replace four letter words with &quot;FRED&quot;\r\n 2. Replace the last two letters of a word that ends with &quot;ed&quot; to &quot;id&quot;\r\n 3. Finally, replace the first two letters if the word starts with &quot;di&quot; to &quot;id&quot;\r\n\r\nI am having difficulty with the second stated rule, I know that for number 3 I can just use `replaceFirst()` and to use the length for the first rule, but I am not sure how to specifically swap the last two characters in the string.\r\n\r\nHere is what I have so far:\r\n```java\r\npackage KingFred;\r\n\r\nimport java.util.Scanner;\r\n\r\npublic class KingFredofId2 {\r\n\r\npublic static void main(String args[])\r\n{\r\n    Scanner input = new Scanner(System.in);\r\n    String king = input.nextLine();\r\n    String king22 = new String();\r\n    String king23 = new String();\r\n    if(king.length()==4)\r\n    {\r\n        System.out.println(&quot;FRED&quot;);\r\n    }\r\n    String myString = king.substring(Math.max(king.length() - 2, 0));\r\n    if (myString.equals(&quot;ed&quot;)) \r\n    {\r\n        king22 = king.replace(&quot;ed&quot;, &quot;id&quot;);\r\n        System.out.println(king22);\r\n    }\r\n    if(true)\r\n    {\r\n        king23 = king.replace(&quot;di&quot;, &quot;id&quot;);\r\n        System.out.println(king23);\r\n    }\r\n}\r\n```\r\nI am new to Stack Overflow, so please let me know how I can make my questions a little more understandable if this one is not easily comprehended.\r\n\r\nThanks.\r\n","title":"Replace last two letters in Java","body":"<p>I am asking for help on this code that I am making, I want it to replace the last two letters. I am coding a program that will:</p>\n<ol>\n<li>Replace four letter words with &quot;FRED&quot;</li>\n<li>Replace the last two letters of a word that ends with &quot;ed&quot; to &quot;id&quot;</li>\n<li>Finally, replace the first two letters if the word starts with &quot;di&quot; to &quot;id&quot;</li>\n</ol>\n<p>I am having difficulty with the second stated rule, I know that for number 3 I can just use <code>replaceFirst()</code> and to use the length for the first rule, but I am not sure how to specifically swap the last two characters in the string.</p>\n<p>Here is what I have so far:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package KingFred;\n\nimport java.util.Scanner;\n\npublic class KingFredofId2 {\n\npublic static void main(String args[])\n{\n    Scanner input = new Scanner(System.in);\n    String king = input.nextLine();\n    String king22 = new String();\n    String king23 = new String();\n    if(king.length()==4)\n    {\n        System.out.println(&quot;FRED&quot;);\n    }\n    String myString = king.substring(Math.max(king.length() - 2, 0));\n    if (myString.equals(&quot;ed&quot;)) \n    {\n        king22 = king.replace(&quot;ed&quot;, &quot;id&quot;);\n        System.out.println(king22);\n    }\n    if(true)\n    {\n        king23 = king.replace(&quot;di&quot;, &quot;id&quot;);\n        System.out.println(king23);\n    }\n}\n</code></pre>\n<p>I am new to Stack Overflow, so please let me know how I can make my questions a little more understandable if this one is not easily comprehended.</p>\n<p>Thanks.</p>\n"},{"tags":["java","android","xml","android-studio","gradle"],"comments":[{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1651274066,"post_id":72064335,"comment_id":127333453,"body_markdown":"&quot;And whenever I try and sync my build.gradle file issues appear&quot; -- could you explain what these issues are? If it is complaining that it cannot find that `com.symbol:emdk` artifact, try adding `jcenter()` to your `repositories` closure in the `allprojects` closure in your top-level `build.gradle` file.","body":"&quot;And whenever I try and sync my build.gradle file issues appear&quot; -- could you explain what these issues are? If it is complaining that it cannot find that <code>com.symbol:emdk</code> artifact, try adding <code>jcenter()</code> to your <code>repositories</code> closure in the <code>allprojects</code> closure in your top-level <code>build.gradle</code> file."},{"owner":{"account_id":20500530,"reputation":11,"user_id":15044551,"display_name":"JS_Digital_Designs"},"score":0,"creation_date":1651277104,"post_id":72064335,"comment_id":127333867,"body_markdown":"@CommonsWare Thanks that fixed it! Basically whenever I synced my file it was just telling me that the EMDK was not resolved and it took me back to the app/build.gradle depository. It wasn&#39;t an error, but just a warning and I couldn&#39;t access the imports in the java file.","body":"@CommonsWare Thanks that fixed it! Basically whenever I synced my file it was just telling me that the EMDK was not resolved and it took me back to the app/build.gradle depository. It wasn&#39;t an error, but just a warning and I couldn&#39;t access the imports in the java file."}],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651441605,"creation_date":1651441605,"answer_id":72080646,"question_id":72064335,"body_markdown":"Symbol is distributing their artifacts via JCenter, a service of Bintray. In 2021 Bintray went through a period where they threatened to shut down JCenter, so developers abandoned it in droves. Among those changes was that Google removed `jcenter()` from the standard roster of artifact repositories to search in.\r\n\r\nLong term, Symbol should do something else for distributing its artifacts.\r\n\r\nShort term, you will need to add `jcenter()` back to your list of artifact repositories in Gradle.\r\n","title":"Getting the warning message &#39;Failed to resolve: com.symbol:emdk:9.1.1&#39; on android studio","body":"<p>Symbol is distributing their artifacts via JCenter, a service of Bintray. In 2021 Bintray went through a period where they threatened to shut down JCenter, so developers abandoned it in droves. Among those changes was that Google removed <code>jcenter()</code> from the standard roster of artifact repositories to search in.</p>\n<p>Long term, Symbol should do something else for distributing its artifacts.</p>\n<p>Short term, you will need to add <code>jcenter()</code> back to your list of artifact repositories in Gradle.</p>\n"}],"owner":{"account_id":20500530,"reputation":11,"user_id":15044551,"display_name":"JS_Digital_Designs"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1738,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1651441605,"creation_date":1651272169,"question_id":72064335,"body_markdown":"I&#39;m currently trying to develop a basic barcode scanning app for a Zebra device. It&#39;s a TC57. The problem is, imports won&#39;t work for me in java. And whenever I try and sync my build.gradle file issues appear. I&#39;ve included the relevant code below, is there anything I need to fix does anybody know why this is happening? \r\n\r\nThanks!\r\n\r\napp/Build.Gradle\r\n\r\n        plugins {\r\n            id &#39;com.android.application&#39;\r\n            id &#39;org.jetbrains.kotlin.android&#39;\r\n        }\r\n        \r\n        android {\r\n            compileSdk 32\r\n        \r\n            defaultConfig {\r\n                applicationId &quot;com.example.scanbarcode&quot;\r\n                minSdk 21\r\n                targetSdk 32\r\n                versionCode 1\r\n                versionName &quot;1.0&quot;\r\n        \r\n                testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n            }\r\n        \r\n            buildTypes {\r\n                release {\r\n                    minifyEnabled false\r\n                    proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n                }\r\n            }\r\n            compileOptions {\r\n                sourceCompatibility JavaVersion.VERSION_11\r\n                targetCompatibility JavaVersion.VERSION_11\r\n            }\r\n            kotlinOptions {\r\n                jvmTarget = &#39;1.8&#39;\r\n            }\r\n        }\r\n    \r\n    dependencies {\r\n        compileOnly &#39;com.symbol:emdk:9.1.1&#39;\r\n        implementation &#39;androidx.core:core-ktx:1.7.0&#39;\r\n        releaseImplementation &#39;androidx.appcompat:appcompat:1.4.1&#39;\r\n        implementation &#39;com.google.android.material:material:1.5.0&#39;\r\n        implementation &#39;androidx.constraintlayout:constraintlayout:2.1.3&#39;\r\n        testImplementation &#39;junit:junit:4.13.2&#39;\r\n        androidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\n        androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n    }\r\n\r\nproject/build.gradle\r\n\r\n    // Top-level build file where you can add configuration options common to all sub-projects/modules.\r\n    \r\n        buildscript {\r\n            repositories {\r\n                google()\r\n                mavenCentral()\r\n                maven { url &#39;https://maven.google.com&#39; }\r\n                maven { url &#39;https://maven.fabric.io/public&#39; }\r\n                maven { url &quot;https://zebratech.jfrog.io/artifactory/EMDK-Android/&quot; }\r\n            }\r\n            dependencies {\r\n                classpath &#39;com.android.tools.build:gradle:7.3.0-alpha09&#39;\r\n            }\r\n        }\r\n        plugins {\r\n            id &#39;com.android.application&#39; version &#39;7.1.3&#39; apply false\r\n            id &#39;com.android.library&#39; version &#39;7.1.3&#39; apply false\r\n            id &#39;org.jetbrains.kotlin.android&#39; version &#39;1.6.21&#39; apply false\r\n        }\r\n        \r\n        allprojects {\r\n            repositories {\r\n                maven { url &#39;https://jitpack.io&#39; }\r\n            }\r\n        }\r\n        \r\n        task clean(type: Delete) {\r\n            delete rootProject.buildDir\r\n        }\r\n\r\nandroidmanifest.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        package=&quot;com.example.scanbarcode&quot;&gt;\r\n        &lt;uses-permission android:name=&quot;com.symbol.emdk.permission.EMDK&quot; /&gt;\r\n        &lt;application\r\n            android:allowBackup=&quot;true&quot;\r\n            android:icon=&quot;@mipmap/ic_launcher&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n            android:supportsRtl=&quot;true&quot;\r\n            android:theme=&quot;@style/Theme.ScanBarcode&quot;&gt;\r\n            &lt;uses-library android:name=&quot;com.symbol.emdk&quot; android:required=&quot;false&quot;/&gt;\r\n            &lt;activity\r\n                android:name=&quot;.MainActivity&quot;\r\n                android:exported=&quot;true&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n    \r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n        &lt;/application&gt;\r\n    \r\n    &lt;/manifest&gt;","title":"Getting the warning message &#39;Failed to resolve: com.symbol:emdk:9.1.1&#39; on android studio","body":"<p>I'm currently trying to develop a basic barcode scanning app for a Zebra device. It's a TC57. The problem is, imports won't work for me in java. And whenever I try and sync my build.gradle file issues appear. I've included the relevant code below, is there anything I need to fix does anybody know why this is happening?</p>\n<p>Thanks!</p>\n<p>app/Build.Gradle</p>\n<pre><code>    plugins {\n        id 'com.android.application'\n        id 'org.jetbrains.kotlin.android'\n    }\n    \n    android {\n        compileSdk 32\n    \n        defaultConfig {\n            applicationId &quot;com.example.scanbarcode&quot;\n            minSdk 21\n            targetSdk 32\n            versionCode 1\n            versionName &quot;1.0&quot;\n    \n            testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n        }\n    \n        buildTypes {\n            release {\n                minifyEnabled false\n                proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n            }\n        }\n        compileOptions {\n            sourceCompatibility JavaVersion.VERSION_11\n            targetCompatibility JavaVersion.VERSION_11\n        }\n        kotlinOptions {\n            jvmTarget = '1.8'\n        }\n    }\n\ndependencies {\n    compileOnly 'com.symbol:emdk:9.1.1'\n    implementation 'androidx.core:core-ktx:1.7.0'\n    releaseImplementation 'androidx.appcompat:appcompat:1.4.1'\n    implementation 'com.google.android.material:material:1.5.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.3'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.3'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n}\n</code></pre>\n<p>project/build.gradle</p>\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\n\n    buildscript {\n        repositories {\n            google()\n            mavenCentral()\n            maven { url 'https://maven.google.com' }\n            maven { url 'https://maven.fabric.io/public' }\n            maven { url &quot;https://zebratech.jfrog.io/artifactory/EMDK-Android/&quot; }\n        }\n        dependencies {\n            classpath 'com.android.tools.build:gradle:7.3.0-alpha09'\n        }\n    }\n    plugins {\n        id 'com.android.application' version '7.1.3' apply false\n        id 'com.android.library' version '7.1.3' apply false\n        id 'org.jetbrains.kotlin.android' version '1.6.21' apply false\n    }\n    \n    allprojects {\n        repositories {\n            maven { url 'https://jitpack.io' }\n        }\n    }\n    \n    task clean(type: Delete) {\n        delete rootProject.buildDir\n    }\n</code></pre>\n<p>androidmanifest.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;com.example.scanbarcode&quot;&gt;\n    &lt;uses-permission android:name=&quot;com.symbol.emdk.permission.EMDK&quot; /&gt;\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.ScanBarcode&quot;&gt;\n        &lt;uses-library android:name=&quot;com.symbol.emdk&quot; android:required=&quot;false&quot;/&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","mockito","junit5"],"comments":[{"owner":{"account_id":13469447,"reputation":588,"user_id":9718523,"display_name":"yaken"},"score":0,"creation_date":1651354969,"post_id":72072308,"comment_id":127346401,"body_markdown":"Can you share more details about the error? For example the stack trace could be helpful.","body":"Can you share more details about the error? For example the stack trace could be helpful."},{"owner":{"account_id":25147289,"reputation":1,"user_id":18992905,"display_name":"NewDBLearner"},"score":0,"creation_date":1651355198,"post_id":72072308,"comment_id":127346436,"body_markdown":"This the only error i am getting, Is there any other way to test this scenario","body":"This the only error i am getting, Is there any other way to test this scenario"},{"owner":{"account_id":12804526,"reputation":1368,"user_id":9264713,"display_name":"Bahij.Mik"},"score":1,"creation_date":1651356227,"post_id":72072308,"comment_id":127346601,"body_markdown":"There is no exception thrown from the method `completeTask` as it is caught and only logged","body":"There is no exception thrown from the method <code>completeTask</code> as it is caught and only logged"},{"owner":{"account_id":16346498,"reputation":52,"user_id":11806102,"display_name":"sk1030"},"score":0,"creation_date":1651389809,"post_id":72072308,"comment_id":127350236,"body_markdown":"did you try throwing new Exception inside catch statement and add method signature with throws Excepetion  or custom exception ?","body":"did you try throwing new Exception inside catch statement and add method signature with throws Excepetion  or custom exception ?"},{"owner":{"account_id":14320275,"reputation":1315,"user_id":10343888,"display_name":"fatih"},"score":0,"creation_date":1651438084,"post_id":72072308,"comment_id":127359965,"body_markdown":"The answer [here](https://stackoverflow.com/a/40268447/10343888) helps you.","body":"The answer <a href=\"https://stackoverflow.com/a/40268447/10343888\">here</a> helps you."},{"owner":{"account_id":25147289,"reputation":1,"user_id":18992905,"display_name":"NewDBLearner"},"score":0,"creation_date":1651438937,"post_id":72072308,"comment_id":127360141,"body_markdown":"@Fati, I am also doing in same way","body":"@Fati, I am also doing in same way"}],"answers":[{"tags":[],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651441162,"creation_date":1651435667,"answer_id":72080054,"question_id":72072308,"body_markdown":"You are expecting your method to thrown an exception but in your code, you&#39;re handling and logging the exception and no exception is thrown:\r\n\r\n    public void completetask(){\r\n       try {\r\n         RemoteUser rm = usrRepo.findById(12);\r\n         assistenRepo.save(rm); // &lt;-- Exception is thrown... \r\n       } catch(Exception e){ // &lt;-- Catched here\r\n        log.error(&quot;Exception occurred while making changes {}&quot;, e,getMessage());\r\n       }\r\n       // &lt;-- Method finishes normally. \r\n    }\r\n\r\n\r\nYou should be seeing the following in the output: \r\n\r\n    Exception occurred while making changes Error Abnormal\r\n\r\nBut your test will be failing here: \r\n\r\n       Exception exception = Assestions.assertThrow(Exception.class, () -&gt; usrService.completetask());\r\n\r\n\r\nBecause the exception was never thrown. If you comment out the exception handling `try / catch`  it will pass that point but now it will fail comparing the error messages. \r\n\r\nEDIT: \r\n&gt;_I know this scenario but the problem here is how to solve this issue? How can we write test scenario for this condition –_\r\n\r\nIf you want to verify your exception was handled just remove verification: \r\n\r\n\r\n    @Test\r\n    public void completetaskTest(){\r\n        RemoteUser rm = getDummyRemoteUsr();\r\n        when(usrRepo.findById(12)).thenReturn(rm);\r\n        when(assistenRepo.save(rm)).thenThrow(new Exception(&quot;Error Abnormal&quot;));\r\n        assertTrue(true); // if we reached this line, in means the error has handled. \r\n    \r\n    }\r\n\r\n\r\nIf you really want to go further and check if the message matches (which it might be overkill) you can check the logger, but again, I would&#39;t recommend it. \r\n\r\nSomething like this: \r\n\r\n    @Auto\r\n    Logger log;\r\n\r\n    ...\r\n    @Test\r\n    public void completetaskTest(){\r\n        RemoteUser rm = getDummyRemoteUsr();\r\n        when(usrRepo.findById(12)).thenReturn(rm);\r\n        when(assistenRepo.save(rm)).thenThrow(new Exception(&quot;Error Abnormal&quot;));\r\n       \r\n        // Verify the `log.error` was invoked with exactly those parameters\r\n        verify(log, times(1)).error(&quot;Exception occurred while making changes {}&quot;, &quot;Error Abnormal&quot;);\r\n    \r\n    }\r\n\r\nThat means the exception was thrown, cached and the logger was invoked. ","title":"How to test exception scenario in junit 5 in spring boot?","body":"<p>You are expecting your method to thrown an exception but in your code, you're handling and logging the exception and no exception is thrown:</p>\n<pre><code>public void completetask(){\n   try {\n     RemoteUser rm = usrRepo.findById(12);\n     assistenRepo.save(rm); // &lt;-- Exception is thrown... \n   } catch(Exception e){ // &lt;-- Catched here\n    log.error(&quot;Exception occurred while making changes {}&quot;, e,getMessage());\n   }\n   // &lt;-- Method finishes normally. \n}\n</code></pre>\n<p>You should be seeing the following in the output:</p>\n<pre><code>Exception occurred while making changes Error Abnormal\n</code></pre>\n<p>But your test will be failing here:</p>\n<pre><code>   Exception exception = Assestions.assertThrow(Exception.class, () -&gt; usrService.completetask());\n</code></pre>\n<p>Because the exception was never thrown. If you comment out the exception handling <code>try / catch</code>  it will pass that point but now it will fail comparing the error messages.</p>\n<p>EDIT:</p>\n<blockquote>\n<p><em>I know this scenario but the problem here is how to solve this issue? How can we write test scenario for this condition –</em></p>\n</blockquote>\n<p>If you want to verify your exception was handled just remove verification:</p>\n<pre><code>@Test\npublic void completetaskTest(){\n    RemoteUser rm = getDummyRemoteUsr();\n    when(usrRepo.findById(12)).thenReturn(rm);\n    when(assistenRepo.save(rm)).thenThrow(new Exception(&quot;Error Abnormal&quot;));\n    assertTrue(true); // if we reached this line, in means the error has handled. \n\n}\n</code></pre>\n<p>If you really want to go further and check if the message matches (which it might be overkill) you can check the logger, but again, I would't recommend it.</p>\n<p>Something like this:</p>\n<pre><code>@Auto\nLogger log;\n\n...\n@Test\npublic void completetaskTest(){\n    RemoteUser rm = getDummyRemoteUsr();\n    when(usrRepo.findById(12)).thenReturn(rm);\n    when(assistenRepo.save(rm)).thenThrow(new Exception(&quot;Error Abnormal&quot;));\n   \n    // Verify the `log.error` was invoked with exactly those parameters\n    verify(log, times(1)).error(&quot;Exception occurred while making changes {}&quot;, &quot;Error Abnormal&quot;);\n\n}\n</code></pre>\n<p>That means the exception was thrown, cached and the logger was invoked.</p>\n"},{"tags":[],"owner":{"account_id":14320275,"reputation":1315,"user_id":10343888,"display_name":"fatih"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651440135,"creation_date":1651440135,"answer_id":72080513,"question_id":72072308,"body_markdown":"You are not throwing your error, you are just writing a log with one log line.\r\n\r\n    catch(Exception e){\r\n       log.error(&quot;Exception occurred while making changes {}&quot;, e,getMessage());\r\n    }\r\n\r\nHere is the javadoc on `Assertions.assertThrows`:\r\n\r\n&gt; Assert that execution of the supplied executable throws an exception of the expectedType and return the exception.\r\nIf no exception is thrown, or if an exception of a different type is thrown, this method will fail.\r\nIf you do not want to perform additional checks on the exception instance, ignore the return value.\r\n\r\nThat&#39;s why your `assertThrows` method will fail under all circumstances.\r\n\r\nSo either throw an error in your method you want to test, or check the log print in exceptions for testing.","title":"How to test exception scenario in junit 5 in spring boot?","body":"<p>You are not throwing your error, you are just writing a log with one log line.</p>\n<pre><code>catch(Exception e){\n   log.error(&quot;Exception occurred while making changes {}&quot;, e,getMessage());\n}\n</code></pre>\n<p>Here is the javadoc on <code>Assertions.assertThrows</code>:</p>\n<blockquote>\n<p>Assert that execution of the supplied executable throws an exception of the expectedType and return the exception.\nIf no exception is thrown, or if an exception of a different type is thrown, this method will fail.\nIf you do not want to perform additional checks on the exception instance, ignore the return value.</p>\n</blockquote>\n<p>That's why your <code>assertThrows</code> method will fail under all circumstances.</p>\n<p>So either throw an error in your method you want to test, or check the log print in exceptions for testing.</p>\n"}],"owner":{"account_id":25147289,"reputation":1,"user_id":18992905,"display_name":"NewDBLearner"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8302,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1651441162,"creation_date":1651354145,"question_id":72072308,"body_markdown":"I have a void method that does some tasks trying to test exception scenarios but the test case is getting failed.\r\n\r\n```\r\npublic void completetask(){\r\n   try{\r\n     RemoteUser rm = usrRepo.findById(12);\r\n     assistenRepo.save(rm);\r\n   }catch(Exception e){\r\n    log.error(&quot;Exception occurred while making changes {}&quot;, e,getMessage());\r\n   }\r\n}\r\n\r\n```\r\nHow can we test the exception scenario here on JUnit 5?\r\n\r\nI have tried this but it&#39;s not working\r\n```\r\n\r\n@Test\r\npublic void completetaskTest(){\r\n    RemoteUser rm = getDummyRemoteUsr();\r\n    Mockito.when(usrRepo.findById(12)).thenReturn(rm);\r\n    Mockito.when(assistenRepo.save(rm)).thenThrow(new Exception(&quot;Error Abnormal&quot;));\r\n    Exception exception = Assestions.assertThrow(Exception.class, () -&gt; usrService.completetask());\r\n    String expectedMessage = &quot;Exception occurred while making changes&quot;;\r\n    String actualMessage = exception.getMessage();\r\n    Assertions.assetTrue(actualMessage.contains(expectedMessage));\r\n}\r\n\r\n```\r\n\r\nI am getting an error for this test case - the check exception is invalid for this method \r\nInvalid java.lang.Exception : Error\r\n\r\nCan I know what wrong I am doing here ?\r\n","title":"How to test exception scenario in junit 5 in spring boot?","body":"<p>I have a void method that does some tasks trying to test exception scenarios but the test case is getting failed.</p>\n<pre><code>public void completetask(){\n   try{\n     RemoteUser rm = usrRepo.findById(12);\n     assistenRepo.save(rm);\n   }catch(Exception e){\n    log.error(&quot;Exception occurred while making changes {}&quot;, e,getMessage());\n   }\n}\n\n</code></pre>\n<p>How can we test the exception scenario here on JUnit 5?</p>\n<p>I have tried this but it's not working</p>\n<pre><code>\n@Test\npublic void completetaskTest(){\n    RemoteUser rm = getDummyRemoteUsr();\n    Mockito.when(usrRepo.findById(12)).thenReturn(rm);\n    Mockito.when(assistenRepo.save(rm)).thenThrow(new Exception(&quot;Error Abnormal&quot;));\n    Exception exception = Assestions.assertThrow(Exception.class, () -&gt; usrService.completetask());\n    String expectedMessage = &quot;Exception occurred while making changes&quot;;\n    String actualMessage = exception.getMessage();\n    Assertions.assetTrue(actualMessage.contains(expectedMessage));\n}\n\n</code></pre>\n<p>I am getting an error for this test case - the check exception is invalid for this method\nInvalid java.lang.Exception : Error</p>\n<p>Can I know what wrong I am doing here ?</p>\n"},{"tags":["java","spring-boot","java-8","spring-cloud-stream"],"answers":[{"tags":[],"owner":{"account_id":14320275,"reputation":1315,"user_id":10343888,"display_name":"fatih"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1651441123,"creation_date":1651441123,"answer_id":72080602,"question_id":72080495,"body_markdown":"You should define your `Function`, `Supplier` and `Consumer` for `spring-cloud-stream` as below.\r\n\r\n    properties.put(&quot;spring.cloud.stream.function.definition&quot;, &quot;myPublisher;myProcessor;mySubscriber&quot;);\r\n","title":"spring cloud stream supplier and consumer not triggered","body":"<p>You should define your <code>Function</code>, <code>Supplier</code> and <code>Consumer</code> for <code>spring-cloud-stream</code> as below.</p>\n<pre><code>properties.put(&quot;spring.cloud.stream.function.definition&quot;, &quot;myPublisher;myProcessor;mySubscriber&quot;);\n</code></pre>\n"}],"owner":{"account_id":7119632,"reputation":82,"user_id":5444705,"display_name":"Abdelrahman_Attya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":820,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1651441123,"creation_date":1651439974,"question_id":72080495,"body_markdown":"i&#39;m using the functional programming model of spring cloud stream to declare the supplier and the consumer. &lt;br&gt;\r\ni need my publisher to be triggered every second then the message to be processed by the processor and finally to be consumed by the consumer.\r\nbut these functions are never triggered. are there any missing configuration ?\r\n\r\nHere is my code:-\r\n\r\n**spring boot App Main class**\r\n\r\n```\r\nimport java.util.Date;\r\nimport java.util.Properties;\r\nimport java.util.function.Consumer;\r\nimport java.util.function.Function;\r\nimport java.util.function.Supplier;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.context.annotation.Bean;\r\n\r\n@SpringBootApplication\r\npublic class Example1 {\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tProperties properties = new Properties();\r\n\r\n\t\tproperties.put(&quot;spring.cloud.stream.bindings.myPublisher-out-0.destination&quot;, &quot;myProcessor-in&quot;);\r\n\t\tproperties.put(&quot;spring.cloud.stream.bindings.myProcessor-in-0.destination&quot;, &quot;myProcessor-in&quot;);\r\n\t\tproperties.put(&quot;spring.cloud.stream.bindings.myProcessor-out-0.destination&quot;, &quot;myProcessor-out&quot;);\r\n\t\tproperties.put(&quot;spring.cloud.stream.bindings.mySubscriber-in-0.destination&quot;, &quot;myProcessor-out&quot;);\r\n\r\n\t\tSpringApplication app = new SpringApplication(Example1.class);\r\n\t\tapp.setDefaultProperties(properties);\r\n\t\tapp.run(args);\r\n\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic Supplier&lt;String&gt; myPublisher() {\r\n\t\treturn () -&gt; new Date().toString();\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic Function&lt;String, String&gt; myProcessor() {\r\n\t\treturn s -&gt; &quot;ML PROCESSED: &quot; + s;\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic Consumer&lt;String&gt; mySubscriber() {\r\n\t\treturn s -&gt; System.out.println(&quot;ML RECEIVED: &quot; + s);\r\n\t}\r\n}\r\n```\r\n\r\n**pom.xml file**\r\n\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;groupId&gt;org.javaworld&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;code-snippet&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.5.2&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t\r\n\t&lt;properties&gt;\r\n\t\t&lt;spring-cloud.version&gt;2021.0.2&lt;/spring-cloud.version&gt;\r\n\t&lt;/properties&gt;\r\n\t\r\n\t&lt;dependencies&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n\t\t\t&lt;!-- \r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t\t --&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-core --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t \r\n\t\t&lt;!-- C3P0 connection pool dependencies --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-c3p0&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.mchange&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;c3p0&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.9.5.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Hikari connection pool dependencies --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-hikaricp&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.zaxxer&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;HikariCP&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- actuators support --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.dropwizard.metrics&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;metrics-core&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- ################################ JMS using activemq support ######################################## --&gt;\r\n\t\t&lt;!--  --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-activemq&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;!-- needed when running JMS without any framework..specifically the \r\n\t\texamples in this package spring_boot._4_jms.no_framework  --&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.activemq&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;activemq-kahadb-store&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;!--  the above spring-boot-starter-activemq replaces all these following dependencies --&gt;\r\n\t\t\r\n\t\t&lt;!-- \r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-jms&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.activemq&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;activemq-client&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n \t\t--&gt;\r\n \t\t\r\n \t\t&lt;!-- ################################ AMQP support ######################################## --&gt;\r\n \t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-amqp&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n \t\t&lt;!-- ################################ Wiremock support #################################### --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.github.tomakehurst&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;wiremock-jre8&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.32.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;!-- ################################ Spring cloud stream ###################################### --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-stream&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\t\r\n\t&lt;/dependencies&gt;\r\n\t\r\n\t&lt;!-- for spring cloud stream support --&gt;\r\n\t&lt;dependencyManagement&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t&lt;/dependencyManagement&gt;\r\n&lt;/project&gt;\r\n```\r\n","title":"spring cloud stream supplier and consumer not triggered","body":"<p>i'm using the functional programming model of spring cloud stream to declare the supplier and the consumer. <br>\ni need my publisher to be triggered every second then the message to be processed by the processor and finally to be consumed by the consumer.\nbut these functions are never triggered. are there any missing configuration ?</p>\n<p>Here is my code:-</p>\n<p><strong>spring boot App Main class</strong></p>\n<pre><code>import java.util.Date;\nimport java.util.Properties;\nimport java.util.function.Consumer;\nimport java.util.function.Function;\nimport java.util.function.Supplier;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.annotation.Bean;\n\n@SpringBootApplication\npublic class Example1 {\n\n    public static void main(String[] args) {\n\n        Properties properties = new Properties();\n\n        properties.put(&quot;spring.cloud.stream.bindings.myPublisher-out-0.destination&quot;, &quot;myProcessor-in&quot;);\n        properties.put(&quot;spring.cloud.stream.bindings.myProcessor-in-0.destination&quot;, &quot;myProcessor-in&quot;);\n        properties.put(&quot;spring.cloud.stream.bindings.myProcessor-out-0.destination&quot;, &quot;myProcessor-out&quot;);\n        properties.put(&quot;spring.cloud.stream.bindings.mySubscriber-in-0.destination&quot;, &quot;myProcessor-out&quot;);\n\n        SpringApplication app = new SpringApplication(Example1.class);\n        app.setDefaultProperties(properties);\n        app.run(args);\n\n    }\n\n    @Bean\n    public Supplier&lt;String&gt; myPublisher() {\n        return () -&gt; new Date().toString();\n    }\n\n    @Bean\n    public Function&lt;String, String&gt; myProcessor() {\n        return s -&gt; &quot;ML PROCESSED: &quot; + s;\n    }\n\n    @Bean\n    public Consumer&lt;String&gt; mySubscriber() {\n        return s -&gt; System.out.println(&quot;ML RECEIVED: &quot; + s);\n    }\n}\n</code></pre>\n<p><strong>pom.xml file</strong></p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;org.javaworld&lt;/groupId&gt;\n    &lt;artifactId&gt;code-snippet&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.5.2&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    \n    &lt;properties&gt;\n        &lt;spring-cloud.version&gt;2021.0.2&lt;/spring-cloud.version&gt;\n    &lt;/properties&gt;\n    \n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n            &lt;!-- \n            &lt;scope&gt;test&lt;/scope&gt;\n             --&gt;\n        &lt;/dependency&gt;\n        \n        &lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-core --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n         \n        &lt;!-- C3P0 connection pool dependencies --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-c3p0&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mchange&lt;/groupId&gt;\n            &lt;artifactId&gt;c3p0&lt;/artifactId&gt;\n            &lt;version&gt;0.9.5.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Hikari connection pool dependencies --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-hikaricp&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.zaxxer&lt;/groupId&gt;\n            &lt;artifactId&gt;HikariCP&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- actuators support --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.dropwizard.metrics&lt;/groupId&gt;\n            &lt;artifactId&gt;metrics-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- ################################ JMS using activemq support ######################################## --&gt;\n        &lt;!--  --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-activemq&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        \n        &lt;!-- needed when running JMS without any framework..specifically the \n        examples in this package spring_boot._4_jms.no_framework  --&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.activemq&lt;/groupId&gt;\n            &lt;artifactId&gt;activemq-kahadb-store&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        \n        &lt;!--  the above spring-boot-starter-activemq replaces all these following dependencies --&gt;\n        \n        &lt;!-- \n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-jms&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.activemq&lt;/groupId&gt;\n            &lt;artifactId&gt;activemq-client&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        --&gt;\n        \n        &lt;!-- ################################ AMQP support ######################################## --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-amqp&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- ################################ Wiremock support #################################### --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.tomakehurst&lt;/groupId&gt;\n            &lt;artifactId&gt;wiremock-jre8&lt;/artifactId&gt;\n            &lt;version&gt;2.32.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        \n        &lt;!-- ################################ Spring cloud stream ###################################### --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-stream&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n            \n    &lt;/dependencies&gt;\n    \n    &lt;!-- for spring cloud stream support --&gt;\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","hibernate","spring-mvc","web-applications"],"answers":[{"tags":[],"owner":{"account_id":15286841,"reputation":863,"user_id":11029624,"display_name":"Mahbub Ul Islam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651441031,"creation_date":1651358011,"answer_id":72072665,"question_id":67514948,"body_markdown":"There is no project on Github.\r\n\r\nHere is the general solution.\r\n\r\nIf you try to do something to one field and it affects another which is an invalid update then it raises this error.\r\n\r\nLike if there is Bi-directional mapping and if you try to delete or do something first you need to break the mapping to that doing something does not affect another.\r\n\r\nTo break the link you need to put null in one fields setter.\r\n\r\nLike this: \r\n\r\n&gt; tempInstructorDetail.getInstructor().setInstructorDetail(null);\r\n\r\nThen you can delete or do something to one while keeping the other intact.\r\n\r\nHope this solves your problem.\r\n\r\n","title":"org.hibernate.internal.ExceptionMapperStandardImpl.mapManagedFlushFailure HHH000346: Error during managed flush","body":"<p>There is no project on Github.</p>\n<p>Here is the general solution.</p>\n<p>If you try to do something to one field and it affects another which is an invalid update then it raises this error.</p>\n<p>Like if there is Bi-directional mapping and if you try to delete or do something first you need to break the mapping to that doing something does not affect another.</p>\n<p>To break the link you need to put null in one fields setter.</p>\n<p>Like this:</p>\n<blockquote>\n<p>tempInstructorDetail.getInstructor().setInstructorDetail(null);</p>\n</blockquote>\n<p>Then you can delete or do something to one while keeping the other intact.</p>\n<p>Hope this solves your problem.</p>\n"}],"owner":{"account_id":19417615,"reputation":237,"user_id":14200717,"display_name":"Kateridzhe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1023,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1651441031,"creation_date":1620888126,"question_id":67514948,"body_markdown":"I have a server mistake:\r\n\r\n   \r\n\r\n \r\n\r\n    \r\n\r\n    &gt; ERROR [http-nio-8080-exec-5]\r\n    &gt; org.hibernate.internal.ExceptionMapperStandardImpl.mapManagedFlushFailure\r\n    &gt; HHH000346: Error during managed flush [Row was updated or deleted by\r\n    &gt; another transaction (or unsaved-value mapping was incorrect) :\r\n    &gt; [com.javaschool.ev.domain.Train#0]]\r\n\r\n    \r\n \r\n\r\n   in browser in looks like this:\r\n\r\n    \r\n    HTTP Status 500 – Internal Server Error\r\n    Type Exception Report\r\n    Message Request processing failed; nested exception is org.springframework.orm.hibernate5.HibernateOptimisticLockingFailureException: Object of class [com.javaschool.ev.domain.Train] with identifier [0]: optimistic locking failed; nested exception is org.hibernate.StaleObjectStateException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect) : [com.javaschool.ev.domain.Train#0]\r\n    Description The server encountered an unexpected condition that prevented it from fulfilling the request.\r\n    Exception\r\n    org.springframework.web.util.NestedServletException: Request processing failed; nested exception is org.springframework.orm.hibernate5.HibernateOptimisticLockingFailureException: Object of class [com.javaschool.ev.domain.Train] with identifier [0]: optimistic locking failed; nested exception is org.hibernate.StaleObjectStateException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect) : [com.javaschool.ev.domain.Train#0]\r\n\r\nI miss Optimistic Locking ([Baeldung][1]), though for versioned entities optimistic locking is available by default.\r\n\r\n***How and where I can request optimistic locking explicitly?***\r\n\r\nI have tried to do it in TrainDAOImpl, but IDE cannot resolve OPTIMISTIC_INCREMENT.(code is below)\r\n\r\n    @Override\r\n        public boolean checkTrain(int number, int availableSeats, int bookedSeats, String occurence) {\r\n            Session session = sessionFactory.getCurrentSession();\r\n    \r\n            Query query;\r\n            query = session.createQuery(&quot;from Train where number = :number&quot;);\r\n            query.setParameter(&quot;number&quot;, number);\r\n    \r\n            query = session.createQuery(&quot;from Train where availableSeats = :availableSeats&quot;);\r\n            query.setParameter(&quot;availableSeats&quot;, availableSeats);\r\n    \r\n            query = session.createQuery(&quot;from Train where bookedSeats = :bookedSeats&quot;);\r\n            query.setParameter(&quot;bookedSeats&quot;, bookedSeats);\r\n    \r\n            query = session.createQuery(&quot;from Train where occurence = :occurence&quot;);\r\n            query.setParameter(&quot;occurence&quot;, occurence);\r\n    \r\n            query.setLockMode(LockModeType.OPTIMISTIC_INCREMENT);\r\n    \r\n            return query.list().isEmpty();\r\n        }\r\n\r\nHere is my [project in Github][2]\r\n\r\nThank you very much in advance!\r\n\r\nCheers,\r\nKateridzhe\r\n\r\n\r\n  [1]: https://www.baeldung.com/jpa-optimistic-locking\r\n  [2]: https://github.com/ekaterinadvolkova/SBB/tree/developer_restart","title":"org.hibernate.internal.ExceptionMapperStandardImpl.mapManagedFlushFailure HHH000346: Error during managed flush","body":"<p>I have a server mistake:</p>\n<pre><code>&gt; ERROR [http-nio-8080-exec-5]\n&gt; org.hibernate.internal.ExceptionMapperStandardImpl.mapManagedFlushFailure\n&gt; HHH000346: Error during managed flush [Row was updated or deleted by\n&gt; another transaction (or unsaved-value mapping was incorrect) :\n&gt; [com.javaschool.ev.domain.Train#0]]\n</code></pre>\n<p>in browser in looks like this:</p>\n<pre><code>HTTP Status 500 – Internal Server Error\nType Exception Report\nMessage Request processing failed; nested exception is org.springframework.orm.hibernate5.HibernateOptimisticLockingFailureException: Object of class [com.javaschool.ev.domain.Train] with identifier [0]: optimistic locking failed; nested exception is org.hibernate.StaleObjectStateException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect) : [com.javaschool.ev.domain.Train#0]\nDescription The server encountered an unexpected condition that prevented it from fulfilling the request.\nException\norg.springframework.web.util.NestedServletException: Request processing failed; nested exception is org.springframework.orm.hibernate5.HibernateOptimisticLockingFailureException: Object of class [com.javaschool.ev.domain.Train] with identifier [0]: optimistic locking failed; nested exception is org.hibernate.StaleObjectStateException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect) : [com.javaschool.ev.domain.Train#0]\n</code></pre>\n<p>I miss Optimistic Locking (<a href=\"https://www.baeldung.com/jpa-optimistic-locking\" rel=\"nofollow noreferrer\">Baeldung</a>), though for versioned entities optimistic locking is available by default.</p>\n<p><em><strong>How and where I can request optimistic locking explicitly?</strong></em></p>\n<p>I have tried to do it in TrainDAOImpl, but IDE cannot resolve OPTIMISTIC_INCREMENT.(code is below)</p>\n<pre><code>@Override\n    public boolean checkTrain(int number, int availableSeats, int bookedSeats, String occurence) {\n        Session session = sessionFactory.getCurrentSession();\n\n        Query query;\n        query = session.createQuery(&quot;from Train where number = :number&quot;);\n        query.setParameter(&quot;number&quot;, number);\n\n        query = session.createQuery(&quot;from Train where availableSeats = :availableSeats&quot;);\n        query.setParameter(&quot;availableSeats&quot;, availableSeats);\n\n        query = session.createQuery(&quot;from Train where bookedSeats = :bookedSeats&quot;);\n        query.setParameter(&quot;bookedSeats&quot;, bookedSeats);\n\n        query = session.createQuery(&quot;from Train where occurence = :occurence&quot;);\n        query.setParameter(&quot;occurence&quot;, occurence);\n\n        query.setLockMode(LockModeType.OPTIMISTIC_INCREMENT);\n\n        return query.list().isEmpty();\n    }\n</code></pre>\n<p>Here is my <a href=\"https://github.com/ekaterinadvolkova/SBB/tree/developer_restart\" rel=\"nofollow noreferrer\">project in Github</a></p>\n<p>Thank you very much in advance!</p>\n<p>Cheers,\nKateridzhe</p>\n"},{"tags":["java","apache-kafka","apache-kafka-streams","aggregation"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1651415222,"post_id":72065025,"comment_id":127354900,"body_markdown":"I think it&#39;s easier to create a rolling average of time windows, not a running average total, because this will not work across application resets. Otherwise, what difficulty are you having with querying your statestore during the summation? Note: unless all keys are the same, the `numberOfRecords` is only summed per unique key, not just one value for overall number of records","body":"I think it&#39;s easier to create a rolling average of time windows, not a running average total, because this will not work across application resets. Otherwise, what difficulty are you having with querying your statestore during the summation? Note: unless all keys are the same, the <code>numberOfRecords</code> is only summed per unique key, not just one value for overall number of records"},{"owner":{"account_id":25150621,"reputation":13,"user_id":18995963,"display_name":"MiserlyMark"},"score":0,"creation_date":1651440010,"post_id":72065025,"comment_id":127360335,"body_markdown":"Thanks for your response! I will look into implementing a rolling average of time windows. I&#39;m vaguely familiar with the term &quot;querying the statestore&quot;. I believe that is the process of accessing the latest record in the `numberOfRecords` stream, right? I will look into that as well.","body":"Thanks for your response! I will look into implementing a rolling average of time windows. I&#39;m vaguely familiar with the term &quot;querying the statestore&quot;. I believe that is the process of accessing the latest record in the <code>numberOfRecords</code> stream, right? I will look into that as well."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1651494716,"post_id":72065025,"comment_id":127370590,"body_markdown":"That&#39;s correct. This page should help getting data in the store https://docs.confluent.io/platform/current/streams/developer-guide/interactive-queries.html One alternative is to reset the consumer every run (or disable commits), then add a simple record counter+sum variable in the consumer, rather than use a store, but that&#39;ll only work for one instance of the app/single partitioned topic","body":"That&#39;s correct. This page should help getting data in the store <a href=\"https://docs.confluent.io/platform/current/streams/developer-guide/interactive-queries.html\" rel=\"nofollow noreferrer\">docs.confluent.io/platform/current/streams/developer-guide/&hellip;</a> One alternative is to reset the consumer every run (or disable commits), then add a simple record counter+sum variable in the consumer, rather than use a store, but that&#39;ll only work for one instance of the app/single partitioned topic"}],"owner":{"account_id":25150621,"reputation":13,"user_id":18995963,"display_name":"MiserlyMark"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":454,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1651440873,"creation_date":1651281814,"question_id":72065025,"body_markdown":"I am very new to Apache Kafka. I am trying to build a streams application that calculates a running average of the input stream. In its current form, my code calculates the running sum and the number of records (grouped by key), and stores them in separate KStreams. \r\n\r\nI verified that these two streams contain the correct values by publishing them to separate topics and viewing the results using a Console Consumer. In order to complete the application, I need to divide the value of the &quot;runningSum&quot; stream by the value of the &quot;numberOfRecords&quot; stream, and publish the resulting stream to a new topic. \r\n\r\nThanks for your help!\r\n\r\n```\r\nimport java.util.Properties;\r\nimport java.util.concurrent.CountDownLatch;\r\n\r\nimport org.apache.kafka.common.serialization.Serdes;\r\nimport org.apache.kafka.streams.KafkaStreams;\r\nimport org.apache.kafka.streams.StreamsBuilder;\r\nimport org.apache.kafka.streams.StreamsConfig;\r\nimport org.apache.kafka.streams.Topology;\r\nimport org.apache.kafka.streams.kstream.Consumed;\r\nimport org.apache.kafka.streams.kstream.KStream;\r\nimport org.apache.kafka.streams.kstream.Materialized;\r\nimport org.apache.kafka.streams.kstream.Reducer;\r\n\r\npublic class RunningAverage {\r\n    static String INPUT_TOPIC = &quot;input&quot;;\r\n    static String OUTPUT_TOPIC = &quot;average&quot;;\r\n\r\n    public static void main(String[] args) {\r\n        Properties props = new Properties();\r\n        props.put(StreamsConfig.APPLICATION_ID_CONFIG, &quot;running-average&quot;);\r\n        props.put(StreamsConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;localhost:9092&quot;);\r\n        props.put(StreamsConfig.DEFAULT_KEY_SERDE_CLASS_CONFIG, Serdes.String().getClass());\r\n        props.put(StreamsConfig.DEFAULT_VALUE_SERDE_CLASS_CONFIG, Serdes.Double().getClass());\r\n\r\n        final StreamsBuilder builder = new StreamsBuilder();\r\n\r\n        final KStream&lt;String, Double&gt; inputStream = builder\r\n                .stream(INPUT_TOPIC, Consumed.with(Serdes.String(), Serdes.Double()));\r\n\r\n       KStream&lt;String, Long&gt; numberOfRecords = inputStream.groupByKey()\r\n            .count(Materialized.as(&quot;NumberOfRecords&quot;))\r\n            .toStream();\r\n            \r\n\r\n        // Sourced from\r\n        // https://dev.to/itnext/how-to-use-stateful-operations-in-kafka-streams-4ia1\r\n        KStream&lt;String, Double&gt; runningSum = inputStream.groupByKey()\r\n            .reduce(new Reducer&lt;Double&gt;() {\r\n                @Override\r\n                public Double apply(Double currentSum, Double v) {\r\n                    Double summation = (currentSum + v);\r\n                    return summation;\r\n                }\r\n            }).toStream();\r\n            \r\n        final Topology topology = builder.build();\r\n\r\n        final KafkaStreams streams = new KafkaStreams(topology, props);\r\n\r\n        final CountDownLatch latch = new CountDownLatch(1);\r\n        Runtime.getRuntime().addShutdownHook(\r\n                new Thread(&quot;streams-shutdown-hook&quot;) {\r\n                    @Override\r\n                    public void run() {\r\n                        streams.close();\r\n                        latch.countDown();\r\n                    }\r\n                });\r\n        try {\r\n            streams.start();\r\n            latch.await();\r\n        } catch (Throwable e) {\r\n            System.exit(1);\r\n        }\r\n        System.exit(0);\r\n    }\r\n}\r\n```   ","title":"How can I calculate a running average using Apache Kafka?","body":"<p>I am very new to Apache Kafka. I am trying to build a streams application that calculates a running average of the input stream. In its current form, my code calculates the running sum and the number of records (grouped by key), and stores them in separate KStreams.</p>\n<p>I verified that these two streams contain the correct values by publishing them to separate topics and viewing the results using a Console Consumer. In order to complete the application, I need to divide the value of the &quot;runningSum&quot; stream by the value of the &quot;numberOfRecords&quot; stream, and publish the resulting stream to a new topic.</p>\n<p>Thanks for your help!</p>\n<pre><code>import java.util.Properties;\nimport java.util.concurrent.CountDownLatch;\n\nimport org.apache.kafka.common.serialization.Serdes;\nimport org.apache.kafka.streams.KafkaStreams;\nimport org.apache.kafka.streams.StreamsBuilder;\nimport org.apache.kafka.streams.StreamsConfig;\nimport org.apache.kafka.streams.Topology;\nimport org.apache.kafka.streams.kstream.Consumed;\nimport org.apache.kafka.streams.kstream.KStream;\nimport org.apache.kafka.streams.kstream.Materialized;\nimport org.apache.kafka.streams.kstream.Reducer;\n\npublic class RunningAverage {\n    static String INPUT_TOPIC = &quot;input&quot;;\n    static String OUTPUT_TOPIC = &quot;average&quot;;\n\n    public static void main(String[] args) {\n        Properties props = new Properties();\n        props.put(StreamsConfig.APPLICATION_ID_CONFIG, &quot;running-average&quot;);\n        props.put(StreamsConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;localhost:9092&quot;);\n        props.put(StreamsConfig.DEFAULT_KEY_SERDE_CLASS_CONFIG, Serdes.String().getClass());\n        props.put(StreamsConfig.DEFAULT_VALUE_SERDE_CLASS_CONFIG, Serdes.Double().getClass());\n\n        final StreamsBuilder builder = new StreamsBuilder();\n\n        final KStream&lt;String, Double&gt; inputStream = builder\n                .stream(INPUT_TOPIC, Consumed.with(Serdes.String(), Serdes.Double()));\n\n       KStream&lt;String, Long&gt; numberOfRecords = inputStream.groupByKey()\n            .count(Materialized.as(&quot;NumberOfRecords&quot;))\n            .toStream();\n            \n\n        // Sourced from\n        // https://dev.to/itnext/how-to-use-stateful-operations-in-kafka-streams-4ia1\n        KStream&lt;String, Double&gt; runningSum = inputStream.groupByKey()\n            .reduce(new Reducer&lt;Double&gt;() {\n                @Override\n                public Double apply(Double currentSum, Double v) {\n                    Double summation = (currentSum + v);\n                    return summation;\n                }\n            }).toStream();\n            \n        final Topology topology = builder.build();\n\n        final KafkaStreams streams = new KafkaStreams(topology, props);\n\n        final CountDownLatch latch = new CountDownLatch(1);\n        Runtime.getRuntime().addShutdownHook(\n                new Thread(&quot;streams-shutdown-hook&quot;) {\n                    @Override\n                    public void run() {\n                        streams.close();\n                        latch.countDown();\n                    }\n                });\n        try {\n            streams.start();\n            latch.await();\n        } catch (Throwable e) {\n            System.exit(1);\n        }\n        System.exit(0);\n    }\n}\n</code></pre>\n"},{"tags":["java","actionscript-3","apache-flex","servlets","multipartform-data"],"comments":[{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1373032418,"post_id":17490498,"comment_id":25421804,"body_markdown":"Please edit your code with proper indentation. What you could do is put the username in the HTTP headers.","body":"Please edit your code with proper indentation. What you could do is put the username in the HTTP headers."},{"owner":{"account_id":1565935,"reputation":15,"user_id":1454743,"accept_rate":60,"display_name":"Solomon Ubani D King"},"score":0,"creation_date":1373032646,"post_id":17490498,"comment_id":25421953,"body_markdown":"Please how do i do this?","body":"Please how do i do this?"},{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1373033023,"post_id":17490498,"comment_id":25422193,"body_markdown":"I don&#39;t know how to set headers in AS3. From java, use the `HttpServletRequest#getHeader(String)` method to retrieve the value of the header.","body":"I don&#39;t know how to set headers in AS3. From java, use the <code>HttpServletRequest#getHeader(String)</code> method to retrieve the value of the header."},{"owner":{"account_id":1820003,"reputation":49625,"user_id":1654265,"accept_rate":93,"display_name":"Andrea Ligios"},"score":0,"creation_date":1373034946,"post_id":17490498,"comment_id":25423343,"body_markdown":"You don&#39;t need to put them in the header. You just need a different approach to read them: http://stackoverflow.com/a/2424824/1654265","body":"You don&#39;t need to put them in the header. You just need a different approach to read them: <a href=\"http://stackoverflow.com/a/2424824/1654265\">stackoverflow.com/a/2424824/1654265</a>"},{"owner":{"account_id":1820003,"reputation":49625,"user_id":1654265,"accept_rate":93,"display_name":"Andrea Ligios"},"score":0,"creation_date":1373034982,"post_id":17490498,"comment_id":25423369,"body_markdown":"possible duplicate of [How to upload files to server using JSP/Servlet?](http://stackoverflow.com/questions/2422468/how-to-upload-files-to-server-using-jsp-servlet)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/2422468/how-to-upload-files-to-server-using-jsp-servlet\">How to upload files to server using JSP/Servlet?</a>"}],"answers":[{"tags":[],"owner":{"account_id":1850827,"reputation":5267,"user_id":1677424,"display_name":"fsbmain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1373035929,"creation_date":1373035064,"answer_id":17491401,"question_id":17490498,"body_markdown":"What about flash part of your question:\r\n\r\nStandard AS3 FileReference doesn&#39;t allow to add custom parameters to the multipart request, but you can construct the multipart request yourself and send it via URLLoader.\r\n\r\nHere is the code for multipart request creation:\r\n\r\n\tprivate static const BOUNDARY:String = &quot;boundary&quot;;\r\n\t\r\n\tpublic static function createMultiPartRequest(url:String, bytes:ByteArray, fileProp:String=&quot;file1&quot;, fileName:String=&quot;file1.png&quot;, params:Object=null):URLRequest\r\n\t{\r\n\t\tvar request:URLRequest = new URLRequest(url);\r\n\t\t\r\n\t\tvar header1:String = &quot;\\r\\n--&quot; + BOUNDARY + &quot;\\r\\n&quot; + \r\n\t\t\t&quot;Content-Disposition: form-data; name=\\&quot;&quot;+fileProp+&quot;\\&quot;; filename=\\&quot;&quot;+fileName+&quot;\\&quot;\\r\\n&quot; + \r\n\t\t\t&quot;Content-Type: image/png\\r\\n&quot; + &quot;\\r\\n&quot;;\r\n\t\tvar headerBytes1:ByteArray = new ByteArray();\r\n\t\theaderBytes1.writeMultiByte(header1, &quot;ascii&quot;);\r\n\t\tvar postData:ByteArray = new ByteArray();\r\n\t\tpostData.writeBytes(headerBytes1, 0, headerBytes1.length);\r\n\t\t\r\n\t\tif(bytes)\r\n\t\t\tpostData.writeBytes(bytes, 0, bytes.length);\r\n\t\t\r\n\t\tif (!params)\r\n\t\t\tparams = {};\r\n\t\tif (!params.Upload)\r\n\t\t\tparams.Upload = &quot;Submit Query&quot;;\r\n\t\tfor (var prop:String in params) {\r\n\t\t\tvar header:String = &quot;--&quot; + BOUNDARY + &quot;\\r\\n&quot; + &quot;Content-Disposition: form-data; name=\\&quot;&quot;+prop+&quot;\\&quot;\\r\\n&quot; + &quot;\\r\\n&quot; + params[prop]+&quot;\\r\\n&quot; + &quot;--&quot; + BOUNDARY + &quot;--&quot;;\r\n\t\t\tvar headerBytes:ByteArray = new ByteArray();\r\n\t\t\theaderBytes.writeMultiByte(header, &quot;ascii&quot;);\r\n\t\t\tpostData.writeBytes(headerBytes, 0, headerBytes.length);\r\n\t\t}\r\n\t\trequest.data = postData;\r\n\t\trequest.method = URLRequestMethod.POST;\r\n\t\trequest.contentType = &quot;multipart/form-data; boundary=&quot; + BOUNDARY;\r\n\t\t\r\n\t\treturn request;\r\n\t}\r\n\r\nUsage (in your `fileUpload()` method instead of standard `fileRef.upload()`):\r\n\r\n\t\tvar image:ByteArray = fileRef.data;\r\n\t\tvar request:URLRequest = createMultiPartRequest(&quot;test.com&quot;, image, &quot;file1&quot;, &quot;file1.png&quot;, {param1:value1});\r\n\t\tvar loader:URLLoader = new URLLoader();\r\n\t\tloader.load(request);\r\n","title":"How to send an extra variable when uploading an image with mulit-part/form data","body":"<p>What about flash part of your question:</p>\n\n<p>Standard AS3 FileReference doesn't allow to add custom parameters to the multipart request, but you can construct the multipart request yourself and send it via URLLoader.</p>\n\n<p>Here is the code for multipart request creation:</p>\n\n<pre><code>private static const BOUNDARY:String = \"boundary\";\n\npublic static function createMultiPartRequest(url:String, bytes:ByteArray, fileProp:String=\"file1\", fileName:String=\"file1.png\", params:Object=null):URLRequest\n{\n    var request:URLRequest = new URLRequest(url);\n\n    var header1:String = \"\\r\\n--\" + BOUNDARY + \"\\r\\n\" + \n        \"Content-Disposition: form-data; name=\\\"\"+fileProp+\"\\\"; filename=\\\"\"+fileName+\"\\\"\\r\\n\" + \n        \"Content-Type: image/png\\r\\n\" + \"\\r\\n\";\n    var headerBytes1:ByteArray = new ByteArray();\n    headerBytes1.writeMultiByte(header1, \"ascii\");\n    var postData:ByteArray = new ByteArray();\n    postData.writeBytes(headerBytes1, 0, headerBytes1.length);\n\n    if(bytes)\n        postData.writeBytes(bytes, 0, bytes.length);\n\n    if (!params)\n        params = {};\n    if (!params.Upload)\n        params.Upload = \"Submit Query\";\n    for (var prop:String in params) {\n        var header:String = \"--\" + BOUNDARY + \"\\r\\n\" + \"Content-Disposition: form-data; name=\\\"\"+prop+\"\\\"\\r\\n\" + \"\\r\\n\" + params[prop]+\"\\r\\n\" + \"--\" + BOUNDARY + \"--\";\n        var headerBytes:ByteArray = new ByteArray();\n        headerBytes.writeMultiByte(header, \"ascii\");\n        postData.writeBytes(headerBytes, 0, headerBytes.length);\n    }\n    request.data = postData;\n    request.method = URLRequestMethod.POST;\n    request.contentType = \"multipart/form-data; boundary=\" + BOUNDARY;\n\n    return request;\n}\n</code></pre>\n\n<p>Usage (in your <code>fileUpload()</code> method instead of standard <code>fileRef.upload()</code>):</p>\n\n<pre><code>    var image:ByteArray = fileRef.data;\n    var request:URLRequest = createMultiPartRequest(\"test.com\", image, \"file1\", \"file1.png\", {param1:value1});\n    var loader:URLLoader = new URLLoader();\n    loader.load(request);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1565935,"reputation":15,"user_id":1454743,"accept_rate":60,"display_name":"Solomon Ubani D King"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1373201456,"creation_date":1373201456,"answer_id":17512303,"question_id":17490498,"body_markdown":"Sotirios Delimanolis advice helped solve the problem, but i would still try other suggestions on this.\r\n\r\nIn the AS3\r\n\r\n\t\tvar header:URLRequestHeader = new URLRequestHeader(&quot;username&quot;, username);\r\n\t        servletTarget.requestHeaders.push(header);\r\n\r\nIn the Servlet\r\n\r\n    String username = request.getHeader(&quot;username&quot;);\r\n\r\n","title":"How to send an extra variable when uploading an image with mulit-part/form data","body":"<p>Sotirios Delimanolis advice helped solve the problem, but i would still try other suggestions on this.</p>\n\n<p>In the AS3</p>\n\n<pre><code>    var header:URLRequestHeader = new URLRequestHeader(\"username\", username);\n        servletTarget.requestHeaders.push(header);\n</code></pre>\n\n<p>In the Servlet</p>\n\n<pre><code>String username = request.getHeader(\"username\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4913633,"reputation":87,"user_id":3958207,"display_name":"Manish"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651440415,"creation_date":1651440415,"answer_id":72080531,"question_id":17490498,"body_markdown":"The selected answer is not correct. According to the [AS3 reference][1]\r\n\r\n&gt; Not all methods that accept URLRequest parameters support the requestHeaders property, consult the documentation for the method you are calling. For example, the FileReference.upload() and FileReference.download() methods do not support the URLRequest.requestHeaders property.\r\n\r\nRefer [Using the FileReference class][2] to understand how to send additional parameters.\r\n\r\n&gt; You can pass additional variables to the upload script using either the POST or GET request method. To send additional POST variables to your upload script, you can use the following code:\r\n\r\n        fileRef:FileReference = new FileReference();\r\n        fileRef.addEventListener(Event.SELECT, selectHandler);\r\n        fileRef.addEventListener(Event.COMPLETE, completeHandler);\r\n        fileRef.browse();\r\n    \r\n        function selectHandler(event:Event):void {\r\n           var params:URLVariables = new URLVariables();\r\n           params.date = new Date();\r\n           params.ssid = &quot;94103-1394-2345&quot;;\r\n           var request:URLRequest = new URLRequest(&quot;http://www.yourdomain.com/FileReferenceUpload/fileupload.cfm&quot;);\r\n           request.method = URLRequestMethod.POST;\r\n           request.data = params;\r\n           fileRef.upload(request, &quot;Custom1&quot;);\r\n       }\r\n    \r\n       function completeHandler(event:Event):void {\r\n          trace(&quot;uploaded&quot;);\r\n       }\r\n\r\nHope this helps someone in the future.\r\n\r\n  [1]: https://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/flash/net/URLRequestHeader.html\r\n  [2]: https://help.adobe.com/en_US/as3/dev/WS5b3ccc516d4fbf351e63e3d118a9b90204-7cf8.html","title":"How to send an extra variable when uploading an image with mulit-part/form data","body":"<p>The selected answer is not correct. According to the <a href=\"https://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/flash/net/URLRequestHeader.html\" rel=\"nofollow noreferrer\">AS3 reference</a></p>\n<blockquote>\n<p>Not all methods that accept URLRequest parameters support the requestHeaders property, consult the documentation for the method you are calling. For example, the FileReference.upload() and FileReference.download() methods do not support the URLRequest.requestHeaders property.</p>\n</blockquote>\n<p>Refer <a href=\"https://help.adobe.com/en_US/as3/dev/WS5b3ccc516d4fbf351e63e3d118a9b90204-7cf8.html\" rel=\"nofollow noreferrer\">Using the FileReference class</a> to understand how to send additional parameters.</p>\n<blockquote>\n<p>You can pass additional variables to the upload script using either the POST or GET request method. To send additional POST variables to your upload script, you can use the following code:</p>\n</blockquote>\n<pre><code>    fileRef:FileReference = new FileReference();\n    fileRef.addEventListener(Event.SELECT, selectHandler);\n    fileRef.addEventListener(Event.COMPLETE, completeHandler);\n    fileRef.browse();\n\n    function selectHandler(event:Event):void {\n       var params:URLVariables = new URLVariables();\n       params.date = new Date();\n       params.ssid = &quot;94103-1394-2345&quot;;\n       var request:URLRequest = new URLRequest(&quot;http://www.yourdomain.com/FileReferenceUpload/fileupload.cfm&quot;);\n       request.method = URLRequestMethod.POST;\n       request.data = params;\n       fileRef.upload(request, &quot;Custom1&quot;);\n   }\n\n   function completeHandler(event:Event):void {\n      trace(&quot;uploaded&quot;);\n   }\n</code></pre>\n<p>Hope this helps someone in the future.</p>\n"}],"owner":{"account_id":1565935,"reputation":15,"user_id":1454743,"accept_rate":60,"display_name":"Solomon Ubani D King"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":997,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":17512303,"answer_count":3,"score":0,"last_activity_date":1651440415,"creation_date":1373032274,"question_id":17490498,"body_markdown":"please i need your help in this AS3 and Java Code. The program\r\nis meant to upload a picture from a flex app to a remote  server. The\r\ncode works well, but i need to add something, i am looking for a way\r\nto send and extra parameter along with the image. Lets say i want to\r\nsend the username of the person uploading the image along with  the\r\nimage. Please how do i send it from the client side using AS3 and how\r\ndo i receive the data on the servlet.                          \r\n\r\nHere is AS3 code\r\n           \r\n    private var fileRef:FileReference = new FileReference();\r\n    private var servletTarget:URLRequest = new URLRequest(urlpath+&quot;Comeboard/UploadImage&quot;);\r\n\r\n                        private function fileBrowse():void\r\n                        {\r\n                          fileRef.addEventListener(Event.SELECT, onSelect);\r\n                          fileRef.addEventListener(ProgressEvent.PROGRESS,progressHandler);\r\n                                //just a label\r\n                                uploadStatus.text = &quot;Browsing the File System&quot;;\r\n                                //a text field\r\n                                fileLocation.text = &quot;&quot;;\r\n                                fileRef.browse();\r\n                        }\r\n                        private function onSelect(event:Event):void\r\n                        {\r\n                                uploadStatus.text = &quot;File selected&quot;;\r\n                                fileLocation.text = fileRef.name;\r\n                        }\r\n                        private function progressHandler(event:ProgressEvent):void\r\n                        {\r\n            \r\n                           uploadStatus.text = &quot;The file is &quot; + percentLoaded + &quot;% loaded&quot;;\r\n                        }\r\n                        private function fileUpload():void\r\n                        {\r\n\r\n                                //assuming this is the data i want to send\r\n                                var data:String = &quot;webdezzi&quot;;\r\n                                uploadStatus.text = &quot;Uploading....&quot;;\r\n                                var menuURLVars:URLVariables = new URLVariables();\r\n                                servletTarget.method = URLRequestMethod.POST;\r\n                                fileRef.upload(servletTarget);\r\n                        }\r\n\r\nHere is the Code on the Servlet. Please pay attention to the multi line comment.\r\nThanks in advance.\r\n\r\n\r\n    // Import required java libraries\r\n    import java.awt.Graphics2D;\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.util.Iterator;\r\n    import java.util.List;\r\n    import javax.imageio.ImageIO;\r\n    import javax.servlet.ServletException;\r\n    import javax.servlet.http.HttpServlet;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    import org.apache.commons.fileupload.FileItem;\r\n    import org.apache.commons.fileupload.disk.DiskFileItemFactory;\r\n    import org.apache.commons.fileupload.servlet.ServletFileUpload;\r\n\r\n    public class UploadImage extends HttpServlet {\r\n\r\n      String boardname = null;\r\n      private boolean isMultipart;\r\n      private String filePath;\r\n      private int maxFileSize = 1000 * 1024;\r\n      private int maxMemSize = 4 * 1024;\r\n      private File file ;\r\n      private static final long serialVersionUID = 1L;\r\n\r\n      public void init( )\r\n      {\r\n         // Get the file location where it would be stored.\r\n        filePath =\r\n             getServletContext().getRealPath(&quot;/&quot;);\r\n      }\r\n      public void doPost(HttpServletRequest request,\r\n               HttpServletResponse response)\r\n              throws ServletException, java.io.IOException\r\n     {\r\n\r\n      // Check that we have a file upload request\r\n      isMultipart = ServletFileUpload.isMultipartContent(request);\r\n      response.setContentType(&quot;text/html&quot;);\r\n      java.io.PrintWriter out = response.getWriter( );\r\n      if( !isMultipart )\r\n      {\r\n         out.println(&quot;&lt;html&gt;&quot;);\r\n         out.println(&quot;&lt;head&gt;&quot;);\r\n         out.println(&quot;&lt;title&gt;Servlet upload&lt;/title&gt;&quot;);\r\n         out.println(&quot;&lt;/head&gt;&quot;);\r\n         out.println(&quot;&lt;body&gt;&quot;);\r\n         out.println(&quot;&lt;p&gt;No file uploaded&lt;/p&gt;&quot;);\r\n         out.println(&quot;&lt;/body&gt;&quot;);\r\n         out.println(&quot;&lt;/html&gt;&quot;);\r\n         return;\r\n      }\r\n\r\n      DiskFileItemFactory factory = new DiskFileItemFactory();\r\n      // maximum size that will be stored in memory\r\n      factory.setSizeThreshold(maxMemSize);\r\n\r\n\r\n\r\n      // Create a new file upload handler\r\n      ServletFileUpload upload = new ServletFileUpload(factory);\r\n\r\n      // maximum file size to be uploaded.\r\n      upload.setSizeMax( maxFileSize );\r\n\r\n      try{\r\n      // Parse the request to get file items.\r\n      List fileItems = upload.parseRequest(request);\r\n\r\n      // Process the uploaded file items\r\n      Iterator i = fileItems.iterator();\r\n\r\n      out.println(&quot;&lt;html&gt;&quot;);\r\n      out.println(&quot;&lt;head&gt;&quot;);\r\n      out.println(&quot;&lt;title&gt;Servlet upload&lt;/title&gt;&quot;);\r\n      out.println(&quot;&lt;/head&gt;&quot;);\r\n      out.println(&quot;&lt;body&gt;&quot;);\r\n      while ( i.hasNext () )\r\n      {\r\n         FileItem fi = (FileItem)i.next();\r\n         System.out.println(&quot;kkkkkkkk&quot;+fi.getFieldName());\r\n         if (fi.isFormField())\r\n         {\r\n\r\n           /*****************************************************\r\n           *  i beleive this is where i am supposed to\r\n           *    process the data i receive.\r\n           *    i might be wrong though,                                                *\r\n        ******************************************************/\r\n             processFormField(fi);\r\n         }\r\n         if ( !fi.isFormField () )\r\n         {\r\n\r\n\r\n             processUploadedFile(fi);\r\n         }\r\n      }\r\n      out.println(&quot;&lt;/body&gt;&quot;);\r\n      out.println(&quot;&lt;/html&gt;&quot;);\r\n     }\r\n      catch(Exception ex)\r\n      {\r\n       out.println(ex.getMessage());\r\n      }\r\n    }\r\n     public void doGet(HttpServletRequest request,\r\n                       HttpServletResponse response)\r\n        throws ServletException, java.io.IOException\r\n     {\r\n      throw new ServletException(&quot;GET method used with &quot; +\r\n             getClass( ).getName( )+&quot;: POST method required.&quot;);\r\n     }\r\n\r\n        private void processFormField(FileItem item)\r\n        {\r\n            String name = item.getFieldName();\r\n            String value = item.getString();\r\n            System.out.println(&quot;Item name: &quot; + name + &quot; ; value: &quot; + value);\r\n        }\r\n\r\n        private void processUploadedFile(FileItem item) throws Exception\r\n        {\r\n            String fieldName = item.getFieldName();\r\n            String fileName = item.getName();\r\n\r\n            String contentType = item.getContentType();\r\n            boolean isInMemory = item.isInMemory();\r\n            long sizeInBytes = item.getSize();\r\n\r\n            boolean writeToFile = true;\r\n            if (sizeInBytes &gt; (5 * 1024 * 1024))\r\n            {\r\n                writeToFile = false;\r\n            }\r\n            // Process a file upload\r\n            if (writeToFile)\r\n            {\r\n                //File uploadedFile = new File(filePath + fileName);\r\n                 File uploadedFile = new File(filePath + boardname);\r\n                if (!uploadedFile.exists())\r\n                {\r\n                 uploadedFile.createNewFile();\r\n\r\n                }\r\n            item.write(uploadedFile);\r\n            }\r\n            else\r\n            {\r\n                 System.out.println(&quot;Trying to write a large file.&quot;);\r\n            }\r\n\r\n        }\r\n    }","title":"How to send an extra variable when uploading an image with mulit-part/form data","body":"<p>please i need your help in this AS3 and Java Code. The program\nis meant to upload a picture from a flex app to a remote  server. The\ncode works well, but i need to add something, i am looking for a way\nto send and extra parameter along with the image. Lets say i want to\nsend the username of the person uploading the image along with  the\nimage. Please how do i send it from the client side using AS3 and how\ndo i receive the data on the servlet.                          </p>\n\n<p>Here is AS3 code</p>\n\n<pre><code>private var fileRef:FileReference = new FileReference();\nprivate var servletTarget:URLRequest = new URLRequest(urlpath+\"Comeboard/UploadImage\");\n\n                    private function fileBrowse():void\n                    {\n                      fileRef.addEventListener(Event.SELECT, onSelect);\n                      fileRef.addEventListener(ProgressEvent.PROGRESS,progressHandler);\n                            //just a label\n                            uploadStatus.text = \"Browsing the File System\";\n                            //a text field\n                            fileLocation.text = \"\";\n                            fileRef.browse();\n                    }\n                    private function onSelect(event:Event):void\n                    {\n                            uploadStatus.text = \"File selected\";\n                            fileLocation.text = fileRef.name;\n                    }\n                    private function progressHandler(event:ProgressEvent):void\n                    {\n\n                       uploadStatus.text = \"The file is \" + percentLoaded + \"% loaded\";\n                    }\n                    private function fileUpload():void\n                    {\n\n                            //assuming this is the data i want to send\n                            var data:String = \"webdezzi\";\n                            uploadStatus.text = \"Uploading....\";\n                            var menuURLVars:URLVariables = new URLVariables();\n                            servletTarget.method = URLRequestMethod.POST;\n                            fileRef.upload(servletTarget);\n                    }\n</code></pre>\n\n<p>Here is the Code on the Servlet. Please pay attention to the multi line comment.\nThanks in advance.</p>\n\n<pre><code>// Import required java libraries\nimport java.awt.Graphics2D;\nimport java.awt.image.BufferedImage;\nimport java.io.File;\nimport java.io.IOException;\nimport java.util.Iterator;\nimport java.util.List;\nimport javax.imageio.ImageIO;\nimport javax.servlet.ServletException;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport org.apache.commons.fileupload.FileItem;\nimport org.apache.commons.fileupload.disk.DiskFileItemFactory;\nimport org.apache.commons.fileupload.servlet.ServletFileUpload;\n\npublic class UploadImage extends HttpServlet {\n\n  String boardname = null;\n  private boolean isMultipart;\n  private String filePath;\n  private int maxFileSize = 1000 * 1024;\n  private int maxMemSize = 4 * 1024;\n  private File file ;\n  private static final long serialVersionUID = 1L;\n\n  public void init( )\n  {\n     // Get the file location where it would be stored.\n    filePath =\n         getServletContext().getRealPath(\"/\");\n  }\n  public void doPost(HttpServletRequest request,\n           HttpServletResponse response)\n          throws ServletException, java.io.IOException\n {\n\n  // Check that we have a file upload request\n  isMultipart = ServletFileUpload.isMultipartContent(request);\n  response.setContentType(\"text/html\");\n  java.io.PrintWriter out = response.getWriter( );\n  if( !isMultipart )\n  {\n     out.println(\"&lt;html&gt;\");\n     out.println(\"&lt;head&gt;\");\n     out.println(\"&lt;title&gt;Servlet upload&lt;/title&gt;\");\n     out.println(\"&lt;/head&gt;\");\n     out.println(\"&lt;body&gt;\");\n     out.println(\"&lt;p&gt;No file uploaded&lt;/p&gt;\");\n     out.println(\"&lt;/body&gt;\");\n     out.println(\"&lt;/html&gt;\");\n     return;\n  }\n\n  DiskFileItemFactory factory = new DiskFileItemFactory();\n  // maximum size that will be stored in memory\n  factory.setSizeThreshold(maxMemSize);\n\n\n\n  // Create a new file upload handler\n  ServletFileUpload upload = new ServletFileUpload(factory);\n\n  // maximum file size to be uploaded.\n  upload.setSizeMax( maxFileSize );\n\n  try{\n  // Parse the request to get file items.\n  List fileItems = upload.parseRequest(request);\n\n  // Process the uploaded file items\n  Iterator i = fileItems.iterator();\n\n  out.println(\"&lt;html&gt;\");\n  out.println(\"&lt;head&gt;\");\n  out.println(\"&lt;title&gt;Servlet upload&lt;/title&gt;\");\n  out.println(\"&lt;/head&gt;\");\n  out.println(\"&lt;body&gt;\");\n  while ( i.hasNext () )\n  {\n     FileItem fi = (FileItem)i.next();\n     System.out.println(\"kkkkkkkk\"+fi.getFieldName());\n     if (fi.isFormField())\n     {\n\n       /*****************************************************\n       *  i beleive this is where i am supposed to\n       *    process the data i receive.\n       *    i might be wrong though,                                                *\n    ******************************************************/\n         processFormField(fi);\n     }\n     if ( !fi.isFormField () )\n     {\n\n\n         processUploadedFile(fi);\n     }\n  }\n  out.println(\"&lt;/body&gt;\");\n  out.println(\"&lt;/html&gt;\");\n }\n  catch(Exception ex)\n  {\n   out.println(ex.getMessage());\n  }\n}\n public void doGet(HttpServletRequest request,\n                   HttpServletResponse response)\n    throws ServletException, java.io.IOException\n {\n  throw new ServletException(\"GET method used with \" +\n         getClass( ).getName( )+\": POST method required.\");\n }\n\n    private void processFormField(FileItem item)\n    {\n        String name = item.getFieldName();\n        String value = item.getString();\n        System.out.println(\"Item name: \" + name + \" ; value: \" + value);\n    }\n\n    private void processUploadedFile(FileItem item) throws Exception\n    {\n        String fieldName = item.getFieldName();\n        String fileName = item.getName();\n\n        String contentType = item.getContentType();\n        boolean isInMemory = item.isInMemory();\n        long sizeInBytes = item.getSize();\n\n        boolean writeToFile = true;\n        if (sizeInBytes &gt; (5 * 1024 * 1024))\n        {\n            writeToFile = false;\n        }\n        // Process a file upload\n        if (writeToFile)\n        {\n            //File uploadedFile = new File(filePath + fileName);\n             File uploadedFile = new File(filePath + boardname);\n            if (!uploadedFile.exists())\n            {\n             uploadedFile.createNewFile();\n\n            }\n        item.write(uploadedFile);\n        }\n        else\n        {\n             System.out.println(\"Trying to write a large file.\");\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":["java","multithreading","swing"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":2,"creation_date":1651335921,"post_id":72070083,"comment_id":127342898,"body_markdown":"Swing components must be updated on the [Event Dispatch Thread](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/dispatch.html).","body":"Swing components must be updated on the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/dispatch.html\" rel=\"nofollow noreferrer\">Event Dispatch Thread</a>."},{"owner":{"account_id":23466630,"reputation":51,"user_id":17520713,"display_name":"Mike Fitzgibbon"},"score":0,"creation_date":1651336500,"post_id":72070083,"comment_id":127343040,"body_markdown":"How do I do that?","body":"How do I do that?"},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1651336997,"post_id":72070083,"comment_id":127343149,"body_markdown":"You studied the entire Oracle section, compiled and tested all the example code in the section, in 10 minutes?","body":"You studied the entire Oracle section, compiled and tested all the example code in the section, in 10 minutes?"},{"owner":{"account_id":23466630,"reputation":51,"user_id":17520713,"display_name":"Mike Fitzgibbon"},"score":0,"creation_date":1651440139,"post_id":72070083,"comment_id":127360354,"body_markdown":"I tried using SwingWorker for the EDT to no avail. Am I doing something wrong with the SwingWorker? It does put it on the EDT right?","body":"I tried using SwingWorker for the EDT to no avail. Am I doing something wrong with the SwingWorker? It does put it on the EDT right?"},{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1651447549,"post_id":72070083,"comment_id":127361453,"body_markdown":"Please have a look at the [`SwingWorker` documentation](https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/SwingWorker.html); it contains usage examples. In particular, the `MeaningOfLifeFinder` example is very similar to your use case. The issue with your code is that you call `output.setText` in the `doInBackground` method while it should be in the `done` method. Additionally please specify type arguments for `SwingWorker`, e.g. `PingThread extends SwingWorker&lt;String, Void&gt;`. Then you will notice that `PingThread` is not the correct return type for `doInBackground`.","body":"Please have a look at the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/SwingWorker.html\" rel=\"nofollow noreferrer\"><code>SwingWorker</code> documentation</a>; it contains usage examples. In particular, the <code>MeaningOfLifeFinder</code> example is very similar to your use case. The issue with your code is that you call <code>output.setText</code> in the <code>doInBackground</code> method while it should be in the <code>done</code> method. Additionally please specify type arguments for <code>SwingWorker</code>, e.g. <code>PingThread extends SwingWorker&lt;String, Void&gt;</code>. Then you will notice that <code>PingThread</code> is not the correct return type for <code>doInBackground</code>."}],"owner":{"account_id":23466630,"reputation":51,"user_id":17520713,"display_name":"Mike Fitzgibbon"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1651440093,"creation_date":1651334880,"question_id":72070083,"body_markdown":"I am making a GUI server pinger application, and have multithreaded each port on a list so that each port is check by a separate thread. The problem I am having is that sometimes the port is check twice (according to the output). Here is my code:\r\nClass PingThread:\r\n```\r\npackage serverpinger;\r\n\r\nimport java.io.IOException;\r\nimport java.net.InetAddress;\r\nimport java.rmi.UnknownHostException;\r\n\r\npublic class PingThread extends Thread{\r\n    TextFieldOutput output;\r\n    private String IPAddress;\r\n    private int portNo;\r\n    public PingThread(String IPAdress, int portNo,TextFieldOutput output){\r\n        this.IPAddress=IPAdress;\r\n        this.portNo=portNo;\r\n        this.output=output;\r\n    }\r\n    \r\n    @Override\r\n    public void run(){\r\n        String result=&quot;&quot;;\r\n        try{\r\n            InetAddress address=InetAddress.getByName(IPAddress);\r\n            if(address.isReachable(portNo)){\r\n                result+=&quot;Reachable at: IPAddress: &quot;+IPAddress+&quot; Port: &quot;+portNo+&quot;\\n&quot;;\r\n            }\r\n            else{\r\n                result+=&quot;Unreachable at: IPAddress: &quot;+IPAddress+&quot; Port: &quot;+portNo+&quot;\\n&quot;;\r\n            }\r\n        }\r\n        catch(UnknownHostException uhe){\r\n            result+=&quot;UnknownHostException for: IPAddress: &quot;+IPAddress+&quot; Port: &quot;+portNo+&quot;\\n&quot;;\r\n        }\r\n        catch(IOException ioe){\r\n            result+=&quot;IOException for: IPAddress: &quot;+IPAddress+&quot; Port: &quot;+portNo+&quot;\\n&quot;;\r\n        }\r\n        output.setText(output.getText()+result);\r\n    }\r\n}\r\n```\r\nClass ButtonRun:\r\n```\r\npackage serverpinger;\r\n\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.util.Scanner;\r\nimport javax.swing.JButton;\r\n\r\npublic class ButtonRun extends JButton{\r\n    TextFieldInput input;\r\n    TextFieldOutput output;\r\n    public ButtonRun(TextFieldInput input,TextFieldOutput output){\r\n        super(&quot;Run&quot;);\r\n        \r\n        addActionListener(new ActionListener() { \r\n            @Override\r\n            public void actionPerformed(ActionEvent e) { \r\n                Scanner scanner=new Scanner(input.getText());\r\n                input.selectAll();\r\n                input.replaceSelection(&quot;&quot;);\r\n                String IPAddress=scanner.next();\r\n                \r\n                while(scanner.hasNext()){\r\n                    String port=scanner.next();\r\n                    \r\n                    if(port.contains(&quot;-&quot;)){\r\n                        for(int portNo=Integer.parseInt(port.substring(0,4));\r\n                                portNo&lt;=Integer.parseInt(port.substring(5,9));\r\n                                portNo++){\r\n                            PingThread ping=new PingThread(IPAddress,portNo,output);\r\n                            ping.start();\r\n                        }\r\n                    }\r\n                    else{\r\n                        PingThread ping=new PingThread(IPAddress,Integer.parseInt(port),output);\r\n                        ping.start();\r\n                    }\r\n                }\r\n            } \r\n        });\r\n    }\r\n}\r\n\r\n```\r\nThe rest of the classes are just subclasses of various JComponents, tailored to fit the application and make it look pretty.\r\n\r\nAlso, on occasion, the output will yield a line with random numbers (i.e. 7, 677) or a line that has the first two characters taken off (i.e. achable at IPAddress: example Port: example).\r\n\r\nI don&#39;t know the source of any of the three glitches except that I am likely doing something wrong with the multithreading.\r\n\r\nEDIT:\r\nI tried putting it on the Event Dispatch Thread and it still does not work, reproducing the same glitches. Here is the PingThread class now:\r\n```\r\npackage serverpinger;\r\n\r\nimport java.io.IOException;\r\nimport java.net.InetAddress;\r\nimport java.rmi.UnknownHostException;\r\nimport javax.swing.SwingWorker;\r\n\r\npublic class PingThread extends SwingWorker{\r\n    TextFieldOutput output;\r\n    private String IPAddress;\r\n    private int portNo;\r\n    public PingThread(String IPAdress, int portNo,TextFieldOutput output){\r\n        this.IPAddress=IPAdress;\r\n        this.portNo=portNo;\r\n        this.output=output;\r\n    }\r\n    \r\n    @Override\r\n    public PingThread doInBackground(){\r\n        String result=&quot;&quot;;\r\n        try{\r\n            InetAddress address=InetAddress.getByName(IPAddress);\r\n            if(address.isReachable(portNo)){\r\n                result+=&quot;Reachable at: IPAddress: &quot;+IPAddress+&quot; Port: &quot;+portNo+&quot;\\n&quot;;\r\n            }\r\n            else{\r\n                result+=&quot;Unreachable at: IPAddress: &quot;+IPAddress+&quot; Port: &quot;+portNo+&quot;\\n&quot;;\r\n            }\r\n        }\r\n        catch(UnknownHostException uhe){\r\n            result+=&quot;UnknownHostException for: IPAddress: &quot;+IPAddress+&quot; Port: &quot;+portNo+&quot;\\n&quot;;\r\n        }\r\n        catch(IOException ioe){\r\n            result+=&quot;IOException for: IPAddress: &quot;+IPAddress+&quot; Port: &quot;+portNo+&quot;\\n&quot;;\r\n        }\r\n        output.setText(output.getText()+result);\r\n        return this;\r\n    }\r\n}\r\n```","title":"Server Pinger Multithreading Issues","body":"<p>I am making a GUI server pinger application, and have multithreaded each port on a list so that each port is check by a separate thread. The problem I am having is that sometimes the port is check twice (according to the output). Here is my code:\nClass PingThread:</p>\n<pre><code>package serverpinger;\n\nimport java.io.IOException;\nimport java.net.InetAddress;\nimport java.rmi.UnknownHostException;\n\npublic class PingThread extends Thread{\n    TextFieldOutput output;\n    private String IPAddress;\n    private int portNo;\n    public PingThread(String IPAdress, int portNo,TextFieldOutput output){\n        this.IPAddress=IPAdress;\n        this.portNo=portNo;\n        this.output=output;\n    }\n    \n    @Override\n    public void run(){\n        String result=&quot;&quot;;\n        try{\n            InetAddress address=InetAddress.getByName(IPAddress);\n            if(address.isReachable(portNo)){\n                result+=&quot;Reachable at: IPAddress: &quot;+IPAddress+&quot; Port: &quot;+portNo+&quot;\\n&quot;;\n            }\n            else{\n                result+=&quot;Unreachable at: IPAddress: &quot;+IPAddress+&quot; Port: &quot;+portNo+&quot;\\n&quot;;\n            }\n        }\n        catch(UnknownHostException uhe){\n            result+=&quot;UnknownHostException for: IPAddress: &quot;+IPAddress+&quot; Port: &quot;+portNo+&quot;\\n&quot;;\n        }\n        catch(IOException ioe){\n            result+=&quot;IOException for: IPAddress: &quot;+IPAddress+&quot; Port: &quot;+portNo+&quot;\\n&quot;;\n        }\n        output.setText(output.getText()+result);\n    }\n}\n</code></pre>\n<p>Class ButtonRun:</p>\n<pre><code>package serverpinger;\n\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.util.Scanner;\nimport javax.swing.JButton;\n\npublic class ButtonRun extends JButton{\n    TextFieldInput input;\n    TextFieldOutput output;\n    public ButtonRun(TextFieldInput input,TextFieldOutput output){\n        super(&quot;Run&quot;);\n        \n        addActionListener(new ActionListener() { \n            @Override\n            public void actionPerformed(ActionEvent e) { \n                Scanner scanner=new Scanner(input.getText());\n                input.selectAll();\n                input.replaceSelection(&quot;&quot;);\n                String IPAddress=scanner.next();\n                \n                while(scanner.hasNext()){\n                    String port=scanner.next();\n                    \n                    if(port.contains(&quot;-&quot;)){\n                        for(int portNo=Integer.parseInt(port.substring(0,4));\n                                portNo&lt;=Integer.parseInt(port.substring(5,9));\n                                portNo++){\n                            PingThread ping=new PingThread(IPAddress,portNo,output);\n                            ping.start();\n                        }\n                    }\n                    else{\n                        PingThread ping=new PingThread(IPAddress,Integer.parseInt(port),output);\n                        ping.start();\n                    }\n                }\n            } \n        });\n    }\n}\n\n</code></pre>\n<p>The rest of the classes are just subclasses of various JComponents, tailored to fit the application and make it look pretty.</p>\n<p>Also, on occasion, the output will yield a line with random numbers (i.e. 7, 677) or a line that has the first two characters taken off (i.e. achable at IPAddress: example Port: example).</p>\n<p>I don't know the source of any of the three glitches except that I am likely doing something wrong with the multithreading.</p>\n<p>EDIT:\nI tried putting it on the Event Dispatch Thread and it still does not work, reproducing the same glitches. Here is the PingThread class now:</p>\n<pre><code>package serverpinger;\n\nimport java.io.IOException;\nimport java.net.InetAddress;\nimport java.rmi.UnknownHostException;\nimport javax.swing.SwingWorker;\n\npublic class PingThread extends SwingWorker{\n    TextFieldOutput output;\n    private String IPAddress;\n    private int portNo;\n    public PingThread(String IPAdress, int portNo,TextFieldOutput output){\n        this.IPAddress=IPAdress;\n        this.portNo=portNo;\n        this.output=output;\n    }\n    \n    @Override\n    public PingThread doInBackground(){\n        String result=&quot;&quot;;\n        try{\n            InetAddress address=InetAddress.getByName(IPAddress);\n            if(address.isReachable(portNo)){\n                result+=&quot;Reachable at: IPAddress: &quot;+IPAddress+&quot; Port: &quot;+portNo+&quot;\\n&quot;;\n            }\n            else{\n                result+=&quot;Unreachable at: IPAddress: &quot;+IPAddress+&quot; Port: &quot;+portNo+&quot;\\n&quot;;\n            }\n        }\n        catch(UnknownHostException uhe){\n            result+=&quot;UnknownHostException for: IPAddress: &quot;+IPAddress+&quot; Port: &quot;+portNo+&quot;\\n&quot;;\n        }\n        catch(IOException ioe){\n            result+=&quot;IOException for: IPAddress: &quot;+IPAddress+&quot; Port: &quot;+portNo+&quot;\\n&quot;;\n        }\n        output.setText(output.getText()+result);\n        return this;\n    }\n}\n</code></pre>\n"},{"tags":["java","generics","enums"],"comments":[{"owner":{"account_id":6358642,"reputation":6528,"user_id":4934937,"display_name":"maio290"},"score":1,"creation_date":1651246848,"post_id":72060257,"comment_id":127326278,"body_markdown":"And how should Java know which Enum you actually want? You&#39;re just passing a name of an enum constant contained in your enum - these identifiers are not globally unique and therefore there&#39;s no way to resolve it without defining which enum you actually want.","body":"And how should Java know which Enum you actually want? You&#39;re just passing a name of an enum constant contained in your enum - these identifiers are not globally unique and therefore there&#39;s no way to resolve it without defining which enum you actually want."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1651247003,"post_id":72060257,"comment_id":127326348,"body_markdown":"You can&#39;t have `T.class` in Java and since `Enum.valueOf(enumClass, value)` requires `Class` you are forced to pass it to method via `Class&lt;T&gt;` parameter.","body":"You can&#39;t have <code>T.class</code> in Java and since <code>Enum.valueOf(enumClass, value)</code> requires <code>Class</code> you are forced to pass it to method via <code>Class&lt;T&gt;</code> parameter."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651259772,"creation_date":1651256169,"answer_id":72062183,"question_id":72060257,"body_markdown":"&gt; It works, but I feel like I should be able to omit the first parameter and infer it from the return type.\r\n\r\nYou will not be able to provide `T` at runtime unless you have either of these:\r\n* method argument of type `T` (which you want to omit);\r\n* or an instance `T` comes as a result of the method call;\r\n* a hard-coded instance of enum type (which is frankly pointless).\r\n\r\n*Example (the second and the third option)*:\r\n\r\n    public static &lt;T extends Enum&lt;T&gt;&gt; T getEnum(String name) {\r\n        T myEnum = (T) getHardCodedEnumMember();\r\n        \r\n        return (T) Enum.valueOf(myEnum.getClass(), name);\r\n    }\r\n    \r\n    public static &lt;T extends Enum&lt;T&gt;&gt; T getHardCodedEnumMember() {\r\n        return (T) DayOfWeek.SATURDAY;\r\n    }\r\n\r\nThat will work, but I guess that isn&#39;t your intention, so I have to stick with passing the `Class` instance as a parameter.\r\n\r\nAnother thing to consider is that the method that you&#39;ve listed might have three outcomes: \r\n* it can return an *enum element*;\r\n* it might return `null` value;\r\n* or throw an exception.\r\n\r\nMethod `valueOf()` will throw `IllegalArgumentException` in case if there&#39;s no *enum member* with the matching name. And prior check against `null` and empty string will not save you from it. At the same time, you need to deal with a *nullable result*.\r\n\r\nYou can take another approach by elimination the runtime exceptions and reducing possible outcomes to either an empty optional or optional containing a result. For that you might make use of [`EnumSet.allOf()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/EnumSet.html#allOf(java.lang.Class)) to retrieve all contants of the spesified enum type. \r\n\r\n    public &lt;T extends Enum&lt;T&gt;&gt; Optional&lt;T&gt; getEnum(Class&lt;T&gt; enumClass, String name) {\r\n        String value = get(name);\r\n        if (value == null || value.length() == 0) {\r\n            return Optional.empty();\r\n        }\r\n        \r\n        return EnumSet.allOf(enumClass).stream()\r\n                .filter(element -&gt; element.name().equals(value))\r\n                .findFirst();\r\n    }","title":"Java Generics with Enum; return type?","body":"<blockquote>\n<p>It works, but I feel like I should be able to omit the first parameter and infer it from the return type.</p>\n</blockquote>\n<p>You will not be able to provide <code>T</code> at runtime unless you have either of these:</p>\n<ul>\n<li>method argument of type <code>T</code> (which you want to omit);</li>\n<li>or an instance <code>T</code> comes as a result of the method call;</li>\n<li>a hard-coded instance of enum type (which is frankly pointless).</li>\n</ul>\n<p><em>Example (the second and the third option)</em>:</p>\n<pre><code>public static &lt;T extends Enum&lt;T&gt;&gt; T getEnum(String name) {\n    T myEnum = (T) getHardCodedEnumMember();\n    \n    return (T) Enum.valueOf(myEnum.getClass(), name);\n}\n\npublic static &lt;T extends Enum&lt;T&gt;&gt; T getHardCodedEnumMember() {\n    return (T) DayOfWeek.SATURDAY;\n}\n</code></pre>\n<p>That will work, but I guess that isn't your intention, so I have to stick with passing the <code>Class</code> instance as a parameter.</p>\n<p>Another thing to consider is that the method that you've listed might have three outcomes:</p>\n<ul>\n<li>it can return an <em>enum element</em>;</li>\n<li>it might return <code>null</code> value;</li>\n<li>or throw an exception.</li>\n</ul>\n<p>Method <code>valueOf()</code> will throw <code>IllegalArgumentException</code> in case if there's no <em>enum member</em> with the matching name. And prior check against <code>null</code> and empty string will not save you from it. At the same time, you need to deal with a <em>nullable result</em>.</p>\n<p>You can take another approach by elimination the runtime exceptions and reducing possible outcomes to either an empty optional or optional containing a result. For that you might make use of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/EnumSet.html#allOf(java.lang.Class)\" rel=\"nofollow noreferrer\"><code>EnumSet.allOf()</code></a> to retrieve all contants of the spesified enum type.</p>\n<pre><code>public &lt;T extends Enum&lt;T&gt;&gt; Optional&lt;T&gt; getEnum(Class&lt;T&gt; enumClass, String name) {\n    String value = get(name);\n    if (value == null || value.length() == 0) {\n        return Optional.empty();\n    }\n    \n    return EnumSet.allOf(enumClass).stream()\n            .filter(element -&gt; element.name().equals(value))\n            .findFirst();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4635391,"reputation":1131,"user_id":3756780,"display_name":"slindenau"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651401915,"creation_date":1651261411,"answer_id":72062997,"question_id":72060257,"body_markdown":"Due to generics type erasure the type `T` is only known at compile time, this prevents you from accessing its class at runtime which you need for `Enum.valueOf`. \r\n\r\nSee https://docs.oracle.com/javase/tutorial/java/generics/erasure.html\r\n\r\nThere is technically a construction possible to retrieve the generic type in some cases, see https://stackoverflow.com/questions/3403909/get-generic-type-of-class-at-runtime\r\n\r\nBut i don&#39;t think that improves the quality of your code.\r\nYour current solution for getting the class is a fine approach in my opinion.\r\n\r\nAn example implementation that would work, but is hacky* in my opinion (*due to unchecked casts, reflection and anonymous class implementation/extension syntax requirements):\r\n```\r\n    public abstract class MyEnumParser&lt;T extends Enum&lt;T&gt;&gt; {\r\n        public T parseEnum(String value) {\r\n            return Enum.valueOf(getEnumClass(), value);\r\n        }\r\n\r\n        private Class&lt;T&gt; getEnumClass() {\r\n           return (Class&lt;T&gt;) ((ParameterizedType) getClass()\r\n                    .getGenericSuperclass()).getActualTypeArguments()[0];\r\n        }\r\n    }\r\n```\r\nUsage:\r\n```\r\nMyEnumParser&lt;CollegeDegreeType&gt; parser = new MyEnumParser&lt;&gt;() {};\r\nSystem.out.println(parser.parseEnum(&quot;degree_type&quot;));\r\n```","title":"Java Generics with Enum; return type?","body":"<p>Due to generics type erasure the type <code>T</code> is only known at compile time, this prevents you from accessing its class at runtime which you need for <code>Enum.valueOf</code>.</p>\n<p>See <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/erasure.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/java/generics/erasure.html</a></p>\n<p>There is technically a construction possible to retrieve the generic type in some cases, see <a href=\"https://stackoverflow.com/questions/3403909/get-generic-type-of-class-at-runtime\">Get generic type of class at runtime</a></p>\n<p>But i don't think that improves the quality of your code.\nYour current solution for getting the class is a fine approach in my opinion.</p>\n<p>An example implementation that would work, but is hacky* in my opinion (*due to unchecked casts, reflection and anonymous class implementation/extension syntax requirements):</p>\n<pre><code>    public abstract class MyEnumParser&lt;T extends Enum&lt;T&gt;&gt; {\n        public T parseEnum(String value) {\n            return Enum.valueOf(getEnumClass(), value);\n        }\n\n        private Class&lt;T&gt; getEnumClass() {\n           return (Class&lt;T&gt;) ((ParameterizedType) getClass()\n                    .getGenericSuperclass()).getActualTypeArguments()[0];\n        }\n    }\n</code></pre>\n<p>Usage:</p>\n<pre><code>MyEnumParser&lt;CollegeDegreeType&gt; parser = new MyEnumParser&lt;&gt;() {};\nSystem.out.println(parser.parseEnum(&quot;degree_type&quot;));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":31622,"reputation":120341,"user_id":86989,"display_name":"newacct"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1651439395,"creation_date":1651439395,"answer_id":72080436,"question_id":72060257,"body_markdown":"Let me ask you this: How would you do this without generics? If you can&#39;t do it without generics, then you can&#39;t do it with generics either. Generics are erased at compile-time and don&#39;t exist at runtime (except that generics in class, field, and method declarations can be inspected from the class file at runtime, but that is not relevant here). So if it can be done with generics, you must be able to erase it and do it without generics.\r\n\r\nThe original method, erased, looks like this:\r\n\r\n    public Enum getEnum(Class enumClass, String name) {\r\n        String value = get(name);\r\n        if (value == null) return null;\r\n        if (value.length() == 0) return null;\r\n        return Enum.valueOf(enumClass, value);\r\n    }\r\n\r\nBut you want to be able to do something like this:\r\n\r\n    public Enum getEnum(String name) {\r\n        String value = get(name);\r\n        if (value == null) return null;\r\n        if (value.length() == 0) return null;\r\n        return ???\r\n    }\r\n\r\nThis isn&#39;t possible. Even if Java had no generics, `Enum.valueOf()` would still need to take `enumClass` at runtime, because that&#39;s how it knows which enum to look for the name in. In fact, there can be multiple enums with a constant with the same name, and `EnumA.SOME_CONSTANT` would be a different object at runtime from `EnumB.SOME_CONSTANT`, so how would it know which one you want? It can&#39;t.\r\n\r\nPerhaps you think that a generic method somehow gets passed its generic parameters (here, `T`). But that&#39;s not what a generic method means. When you write a generic method that is generic on `T`, that means your method&#39;s runtime bytecode must be correct for any `T` (within the bounds of `T`), *without knowing what `T` is*. The caller can expect that your method will somehow just work no matter what `T` is (and in fact, the caller might not even know what `T` is).","title":"Java Generics with Enum; return type?","body":"<p>Let me ask you this: How would you do this without generics? If you can't do it without generics, then you can't do it with generics either. Generics are erased at compile-time and don't exist at runtime (except that generics in class, field, and method declarations can be inspected from the class file at runtime, but that is not relevant here). So if it can be done with generics, you must be able to erase it and do it without generics.</p>\n<p>The original method, erased, looks like this:</p>\n<pre><code>public Enum getEnum(Class enumClass, String name) {\n    String value = get(name);\n    if (value == null) return null;\n    if (value.length() == 0) return null;\n    return Enum.valueOf(enumClass, value);\n}\n</code></pre>\n<p>But you want to be able to do something like this:</p>\n<pre><code>public Enum getEnum(String name) {\n    String value = get(name);\n    if (value == null) return null;\n    if (value.length() == 0) return null;\n    return ???\n}\n</code></pre>\n<p>This isn't possible. Even if Java had no generics, <code>Enum.valueOf()</code> would still need to take <code>enumClass</code> at runtime, because that's how it knows which enum to look for the name in. In fact, there can be multiple enums with a constant with the same name, and <code>EnumA.SOME_CONSTANT</code> would be a different object at runtime from <code>EnumB.SOME_CONSTANT</code>, so how would it know which one you want? It can't.</p>\n<p>Perhaps you think that a generic method somehow gets passed its generic parameters (here, <code>T</code>). But that's not what a generic method means. When you write a generic method that is generic on <code>T</code>, that means your method's runtime bytecode must be correct for any <code>T</code> (within the bounds of <code>T</code>), <em>without knowing what <code>T</code> is</em>. The caller can expect that your method will somehow just work no matter what <code>T</code> is (and in fact, the caller might not even know what <code>T</code> is).</p>\n"}],"owner":{"account_id":2822833,"reputation":1347,"user_id":3624489,"accept_rate":0,"display_name":"Flarosa"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":452,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1651439395,"creation_date":1651246037,"question_id":72060257,"body_markdown":"I wrote this function in my Java program:\r\n\r\n```\r\npublic &lt;T extends Enum&lt;T&gt;&gt; T getEnum(Class&lt;T&gt; enumClass, String name) {\r\n    String value = get(name);\r\n    if (value == null) return null;\r\n    if (value.length() == 0) return null;\r\n    return Enum.valueOf(enumClass, value);\r\n}\r\n```\r\n\r\nThis is how I&#39;m calling it:\r\n\r\n```\r\nCollegeDegreeType degreeType = model.getEnum(CollegeDegreeType.class, &quot;degree_type&quot;);\r\n```\r\n\r\nIt works, but I feel like I should be able to omit the first parameter and infer it from the return type (the type to which the result is being assigned). Is this possible? If so, what&#39;s the syntax?","title":"Java Generics with Enum; return type?","body":"<p>I wrote this function in my Java program:</p>\n<pre><code>public &lt;T extends Enum&lt;T&gt;&gt; T getEnum(Class&lt;T&gt; enumClass, String name) {\n    String value = get(name);\n    if (value == null) return null;\n    if (value.length() == 0) return null;\n    return Enum.valueOf(enumClass, value);\n}\n</code></pre>\n<p>This is how I'm calling it:</p>\n<pre><code>CollegeDegreeType degreeType = model.getEnum(CollegeDegreeType.class, &quot;degree_type&quot;);\n</code></pre>\n<p>It works, but I feel like I should be able to omit the first parameter and infer it from the return type (the type to which the result is being assigned). Is this possible? If so, what's the syntax?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1651438543,"post_id":72080320,"comment_id":127360063,"body_markdown":"Replace `PendingIntent.FLAG_CANCEL_CURRENT` with `PendingIntent.FLAG_CANCEL_CURRENT | PendingIntent.FLAG_IMMUTABLE` in your `PendingIntent.getActivity()` call.","body":"Replace <code>PendingIntent.FLAG_CANCEL_CURRENT</code> with <code>PendingIntent.FLAG_CANCEL_CURRENT | PendingIntent.FLAG_IMMUTABLE</code> in your <code>PendingIntent.getActivity()</code> call."},{"owner":{"account_id":2291388,"reputation":79,"user_id":2014088,"display_name":"Netuddki"},"score":0,"creation_date":1651439103,"post_id":72080320,"comment_id":127360178,"body_markdown":"Thanks for reply! Unfortunately it didn&#39;t help. I added an image to the post above. That&#39;s what I get when I search for PendingIntent. MAybe I have to add that in more places?","body":"Thanks for reply! Unfortunately it didn&#39;t help. I added an image to the post above. That&#39;s what I get when I search for PendingIntent. MAybe I have to add that in more places?"},{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1651439261,"post_id":72080320,"comment_id":127360215,"body_markdown":"That, and perhaps update ExoPlayer.","body":"That, and perhaps update ExoPlayer."},{"owner":{"account_id":2291388,"reputation":79,"user_id":2014088,"display_name":"Netuddki"},"score":0,"creation_date":1651439403,"post_id":72080320,"comment_id":127360235,"body_markdown":"As I said, Every time I update ExoPlayer in buildGradle, the app crashes on build. I get things like this: &quot;error: cannot find symbol\nimport com.google.android.exoplayer2.ExoPlayerFactory;\n                                    ^\n  symbol:   class ExoPlayerFactory\n  location: package com.google.android.exoplayer2&quot;\n\nMany of them.","body":"As I said, Every time I update ExoPlayer in buildGradle, the app crashes on build. I get things like this: &quot;error: cannot find symbol import com.google.android.exoplayer2.ExoPlayerFactory;                                     ^   symbol:   class ExoPlayerFactory   location: package com.google.android.exoplayer2&quot;  Many of them."},{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1651439861,"post_id":72080320,"comment_id":127360321,"body_markdown":"The API changed between the ExoPlayer you have and the now-current ExoPlayer.","body":"The API changed between the ExoPlayer you have and the now-current ExoPlayer."},{"owner":{"account_id":2291388,"reputation":79,"user_id":2014088,"display_name":"Netuddki"},"score":0,"creation_date":1651440783,"post_id":72080320,"comment_id":127360469,"body_markdown":"Ok, thanks! That&#39;s important to know.","body":"Ok, thanks! That&#39;s important to know."},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":1,"creation_date":1651466583,"post_id":72080320,"comment_id":127363624,"body_markdown":"@Netuddki you need to change the flags everywhere","body":"@Netuddki you need to change the flags everywhere"},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":1,"creation_date":1651466606,"post_id":72080320,"comment_id":127363625,"body_markdown":"@Netuddki also you need to change the imports after the new exo player version","body":"@Netuddki also you need to change the imports after the new exo player version"},{"owner":{"account_id":16850706,"reputation":902,"user_id":12183825,"display_name":"Edgar"},"score":0,"creation_date":1660326066,"post_id":72080320,"comment_id":129514812,"body_markdown":"@CommonsWare can you check my question as well","body":"@CommonsWare can you check my question as well"}],"owner":{"account_id":2291388,"reputation":79,"user_id":2014088,"display_name":"Netuddki"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":187,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651439028,"creation_date":1651438191,"question_id":72080320,"body_markdown":"I am really sorry I have to ask this, but I have read all the similar questions and answers and I couldn&#39;t solve my problem.\r\n\r\nI am not a programmer. I have an app that has been written in Java by a guy, whom I can not reach anymore.\r\n\r\nI updated everything, like Firebase for SDK 32 except ExoPlayer. If I update exoplayer, the app crashes immediately.\r\n\r\nIf I don&#39;t update exoplayer, I get the eror in the title in two cases.\r\n\r\nI added implementation &#39;androidx.work:work-runtime:2.7.1&#39; already and I tried everything I could find on the internet, but my basic understanding about programming is not enough.\r\n\r\nIf I search for &quot;PendingIntent&quot; I get this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIt would be nice if somebody could point me into the right direction.\r\n\r\nThanks in advance.\r\n\r\n    Fatal Exception: java.lang.RuntimeException: Unable to create service com.mycompany.myapp.services.BKDMobileMediaBrowserService: java.lang.IllegalArgumentException: com.mycompany.myapp: Targeting S+ (version 31 and above) requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE be specified when creating a PendingIntent.\r\n    Strongly consider using FLAG_IMMUTABLE, only use FLAG_MUTABLE if some functionality depends on the PendingIntent being mutable, e.g. if it needs to be used with inline replies or bubbles.\r\n           at android.app.ActivityThread.handleCreateService(ActivityThread.java:4953)\r\n           at android.app.ActivityThread.access$1900(ActivityThread.java:310)\r\n           at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2300)\r\n           at android.os.Handler.dispatchMessage(Handler.java:106)\r\n           at android.os.Looper.loopOnce(Looper.java:226)\r\n           at android.os.Looper.loop(Looper.java:313)\r\n           at android.app.ActivityThread.main(ActivityThread.java:8663)\r\n           at java.lang.reflect.Method.invoke(Method.java)\r\n           at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:567)\r\n           at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1135)\r\n\r\n\r\n\r\nAnd\r\n\r\n    Caused by java.lang.IllegalArgumentException: com.mycompany.myapp: Targeting S+ (version 31 and above) requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE be specified when creating a PendingIntent.\r\n    Strongly consider using FLAG_IMMUTABLE, only use FLAG_MUTABLE if some functionality depends on the PendingIntent being mutable, e.g. if it needs to be used with inline replies or bubbles.\r\n           at android.app.PendingIntent.checkFlags(PendingIntent.java:382)\r\n           at android.app.PendingIntent.getBroadcastAsUser(PendingIntent.java:673)\r\n           at android.app.PendingIntent.getBroadcast(PendingIntent.java:660)\r\n           at android.support.v4.media.session.MediaSessionCompat.&lt;init&gt;(MediaSessionCompat.java:557)\r\n           at android.support.v4.media.session.MediaSessionCompat.&lt;init&gt;(MediaSessionCompat.java:528)\r\n           at android.support.v4.media.session.MediaSessionCompat.&lt;init&gt;(MediaSessionCompat.java:492)\r\n           at android.support.v4.media.session.MediaSessionCompat.&lt;init&gt;(MediaSessionCompat.java:466)\r\n           at com.mycompany.myapp.services.BKDMobileMediaBrowserService.onCreate(BKDMobileMediaBrowserService.java:471)\r\n           at android.app.ActivityThread.handleCreateService(ActivityThread.java:4940)\r\n           at android.app.ActivityThread.access$1900(ActivityThread.java:310)\r\n           at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2300)\r\n           at android.os.Handler.dispatchMessage(Handler.java:106)\r\n           at android.os.Looper.loopOnce(Looper.java:226)\r\n           at android.os.Looper.loop(Looper.java:313)\r\n           at android.app.ActivityThread.main(ActivityThread.java:8663)\r\n           at java.lang.reflect.Method.invoke(Method.java)\r\n           at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:567)\r\n           at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1135)\r\n\r\n\r\nUnfortunately I can not paste the BKDMobileMediaBrowserService code here, because it&#39;s too long, but I have this in it. I assume this should be changed somehow:\r\n\r\n    private PendingIntent createContentIntent() {\r\n            Intent openUI = new Intent(this, HomeActivity.class);\r\n            openUI.setFlags(Intent.FLAG_ACTIVITY_SINGLE_TOP);\r\n            return PendingIntent.getActivity(\r\n                    this, REQUEST_CODE, openUI, PendingIntent.FLAG_CANCEL_CURRENT);\r\n        }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LnV3v.jpg","title":"Yet another infamous FLAG_IMMUTABLE or FLAG_MUTABLE problem","body":"<p>I am really sorry I have to ask this, but I have read all the similar questions and answers and I couldn't solve my problem.</p>\n<p>I am not a programmer. I have an app that has been written in Java by a guy, whom I can not reach anymore.</p>\n<p>I updated everything, like Firebase for SDK 32 except ExoPlayer. If I update exoplayer, the app crashes immediately.</p>\n<p>If I don't update exoplayer, I get the eror in the title in two cases.</p>\n<p>I added implementation 'androidx.work:work-runtime:2.7.1' already and I tried everything I could find on the internet, but my basic understanding about programming is not enough.</p>\n<p>If I search for &quot;PendingIntent&quot; I get this:</p>\n<p><a href=\"https://i.stack.imgur.com/LnV3v.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LnV3v.jpg\" alt=\"enter image description here\" /></a></p>\n<p>It would be nice if somebody could point me into the right direction.</p>\n<p>Thanks in advance.</p>\n<pre><code>Fatal Exception: java.lang.RuntimeException: Unable to create service com.mycompany.myapp.services.BKDMobileMediaBrowserService: java.lang.IllegalArgumentException: com.mycompany.myapp: Targeting S+ (version 31 and above) requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE be specified when creating a PendingIntent.\nStrongly consider using FLAG_IMMUTABLE, only use FLAG_MUTABLE if some functionality depends on the PendingIntent being mutable, e.g. if it needs to be used with inline replies or bubbles.\n       at android.app.ActivityThread.handleCreateService(ActivityThread.java:4953)\n       at android.app.ActivityThread.access$1900(ActivityThread.java:310)\n       at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2300)\n       at android.os.Handler.dispatchMessage(Handler.java:106)\n       at android.os.Looper.loopOnce(Looper.java:226)\n       at android.os.Looper.loop(Looper.java:313)\n       at android.app.ActivityThread.main(ActivityThread.java:8663)\n       at java.lang.reflect.Method.invoke(Method.java)\n       at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:567)\n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1135)\n</code></pre>\n<p>And</p>\n<pre><code>Caused by java.lang.IllegalArgumentException: com.mycompany.myapp: Targeting S+ (version 31 and above) requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE be specified when creating a PendingIntent.\nStrongly consider using FLAG_IMMUTABLE, only use FLAG_MUTABLE if some functionality depends on the PendingIntent being mutable, e.g. if it needs to be used with inline replies or bubbles.\n       at android.app.PendingIntent.checkFlags(PendingIntent.java:382)\n       at android.app.PendingIntent.getBroadcastAsUser(PendingIntent.java:673)\n       at android.app.PendingIntent.getBroadcast(PendingIntent.java:660)\n       at android.support.v4.media.session.MediaSessionCompat.&lt;init&gt;(MediaSessionCompat.java:557)\n       at android.support.v4.media.session.MediaSessionCompat.&lt;init&gt;(MediaSessionCompat.java:528)\n       at android.support.v4.media.session.MediaSessionCompat.&lt;init&gt;(MediaSessionCompat.java:492)\n       at android.support.v4.media.session.MediaSessionCompat.&lt;init&gt;(MediaSessionCompat.java:466)\n       at com.mycompany.myapp.services.BKDMobileMediaBrowserService.onCreate(BKDMobileMediaBrowserService.java:471)\n       at android.app.ActivityThread.handleCreateService(ActivityThread.java:4940)\n       at android.app.ActivityThread.access$1900(ActivityThread.java:310)\n       at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2300)\n       at android.os.Handler.dispatchMessage(Handler.java:106)\n       at android.os.Looper.loopOnce(Looper.java:226)\n       at android.os.Looper.loop(Looper.java:313)\n       at android.app.ActivityThread.main(ActivityThread.java:8663)\n       at java.lang.reflect.Method.invoke(Method.java)\n       at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:567)\n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1135)\n</code></pre>\n<p>Unfortunately I can not paste the BKDMobileMediaBrowserService code here, because it's too long, but I have this in it. I assume this should be changed somehow:</p>\n<pre><code>private PendingIntent createContentIntent() {\n        Intent openUI = new Intent(this, HomeActivity.class);\n        openUI.setFlags(Intent.FLAG_ACTIVITY_SINGLE_TOP);\n        return PendingIntent.getActivity(\n                this, REQUEST_CODE, openUI, PendingIntent.FLAG_CANCEL_CURRENT);\n    }\n</code></pre>\n"},{"tags":["java","android","jvm"],"answers":[{"tags":[],"owner":{"account_id":144870,"reputation":7545,"user_id":354247,"accept_rate":100,"display_name":"hwrdprkns"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1651438575,"creation_date":1420050227,"answer_id":27724888,"question_id":27724841,"body_markdown":"The primary reason Android uses Dalvik is for app and system wide resources. The way Dalvik runs your app is by forking a process that already has most of the resources your app needs to run (not to mention this method makes sandboxing trivial).\r\n\r\nThere is a great (albeit old, since ART is the new kid on the block) article on why Dalvik is so useful in the context of mobile devices titled &quot;[The Dalvik Virtual Machine Architecture][1]&quot;.\r\n\r\n\r\n  [1]: https://web.archive.org/web/20130202204701/http://davidehringer.com/software/android/The_Dalvik_Virtual_Machine.pdf","title":"How Android is faster if it uses both JVM and Dalvik","body":"<p>The primary reason Android uses Dalvik is for app and system wide resources. The way Dalvik runs your app is by forking a process that already has most of the resources your app needs to run (not to mention this method makes sandboxing trivial).</p>\n<p>There is a great (albeit old, since ART is the new kid on the block) article on why Dalvik is so useful in the context of mobile devices titled &quot;<a href=\"https://web.archive.org/web/20130202204701/http://davidehringer.com/software/android/The_Dalvik_Virtual_Machine.pdf\" rel=\"nofollow noreferrer\">The Dalvik Virtual Machine Architecture</a>&quot;.</p>\n"},{"tags":[],"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1420050293,"creation_date":1420050293,"answer_id":27724902,"question_id":27724841,"body_markdown":"&gt; Why Android needs to first compiled into bytecode for the JVM and then translates into Dalvik bytecode.? why can&#39;t it directly compiled to Dalvik byte code from .java file ?\r\n\r\nIt could, if you wanted to write a full compiler for that. The [new Jack compiler for Android][1] apparently does this.\r\n\r\nIn general, it is easier to write a bytecode converter than it is to write a full compiler.\r\n\r\n&gt; then doesn&#39;t it make the compiling process slow ?\r\n\r\nThe conversion process does add overhead. &quot;Slow&quot; is a statement of opinion, and so I do not know whether the bytecode conversion makes the &quot;compiling process slow&quot; for your definition of &quot;slow&quot;.\r\n\r\n  [1]: https://www.saikoa.com/blog/the_upcoming_jack_and_jill_compilers_in_android","title":"How Android is faster if it uses both JVM and Dalvik","body":"<blockquote>\n  <p>Why Android needs to first compiled into bytecode for the JVM and then translates into Dalvik bytecode.? why can't it directly compiled to Dalvik byte code from .java file ?</p>\n</blockquote>\n\n<p>It could, if you wanted to write a full compiler for that. The <a href=\"https://www.saikoa.com/blog/the_upcoming_jack_and_jill_compilers_in_android\" rel=\"nofollow\">new Jack compiler for Android</a> apparently does this.</p>\n\n<p>In general, it is easier to write a bytecode converter than it is to write a full compiler.</p>\n\n<blockquote>\n  <p>then doesn't it make the compiling process slow ?</p>\n</blockquote>\n\n<p>The conversion process does add overhead. \"Slow\" is a statement of opinion, and so I do not know whether the bytecode conversion makes the \"compiling process slow\" for your definition of \"slow\".</p>\n"}],"owner":{"account_id":5532628,"reputation":1488,"user_id":4392136,"accept_rate":82,"display_name":"Joe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1036,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":27724902,"answer_count":2,"score":2,"last_activity_date":1651438575,"creation_date":1420049949,"question_id":27724841,"body_markdown":"I know that Android uses its own Virtual Machine called Dalvik, and it run .dex file instead of .class file.\r\n\r\n[According to Wikipedia][1],\r\n\r\n&gt; Programs are commonly written in Java and compiled to bytecode for the\r\n&gt; Java virtual machine, which is then translated to Dalvik bytecode and\r\n&gt; stored in .dex (Dalvik EXecutable)\r\n\r\nWhy Android needs to first compiled into bytecode for the JVM (.class) and then translates into Dalvik bytecode (.dex), why can&#39;t it directly compiled to Dalvik byte code from `.java` file ? ?\r\n\r\nand If it uses two VM, first JVM and then Dalvik, then doesn&#39;t it make the compiling process slow ?\r\n\r\n**Update**:\r\n\r\nIf i run a program in Java which will compile `.java` file into bytecode (`.class`) and then interpret it, and If i run the same program in Android, which will first compile `.java` file into `.class` and that `.class` into `.dex` and then run it...wouldn&#39;t Android be slower in comparison ?\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Dalvik_%28software%29","title":"How Android is faster if it uses both JVM and Dalvik","body":"<p>I know that Android uses its own Virtual Machine called Dalvik, and it run .dex file instead of .class file.</p>\n\n<p><a href=\"http://en.wikipedia.org/wiki/Dalvik_%28software%29\" rel=\"nofollow\">According to Wikipedia</a>,</p>\n\n<blockquote>\n  <p>Programs are commonly written in Java and compiled to bytecode for the\n  Java virtual machine, which is then translated to Dalvik bytecode and\n  stored in .dex (Dalvik EXecutable)</p>\n</blockquote>\n\n<p>Why Android needs to first compiled into bytecode for the JVM (.class) and then translates into Dalvik bytecode (.dex), why can't it directly compiled to Dalvik byte code from <code>.java</code> file ? ?</p>\n\n<p>and If it uses two VM, first JVM and then Dalvik, then doesn't it make the compiling process slow ?</p>\n\n<p><strong>Update</strong>:</p>\n\n<p>If i run a program in Java which will compile <code>.java</code> file into bytecode (<code>.class</code>) and then interpret it, and If i run the same program in Android, which will first compile <code>.java</code> file into <code>.class</code> and that <code>.class</code> into <code>.dex</code> and then run it...wouldn't Android be slower in comparison ?</p>\n"},{"tags":["java","variables","methods","instance","equals"],"comments":[{"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":0,"creation_date":1480897925,"post_id":40965411,"comment_id":69140408,"body_markdown":"What is impossible about comparing seven pairs of variables? (btw. you seem to have eight if you include the boolean)","body":"What is impossible about comparing seven pairs of variables? (btw. you seem to have eight if you include the boolean)"}],"answers":[{"tags":[],"owner":{"account_id":9782119,"reputation":1,"user_id":7249721,"display_name":"Vlad Georgescu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651438505,"creation_date":1480899081,"answer_id":40965577,"question_id":40965411,"body_markdown":"Not sure what you mean... are you supposed to use the String&#39;s equal method for the 7 variables? In that case, here&#39;s an idea... you do need to check for null, though. If you can use another library, you can use `StringUtils.equal()` instead of as that checks for null as well.  You should also implement `hashCode()` as well for correctness.\r\n\r\n```\r\n@Override\r\npublic boolean equals (Object o) {\r\n\r\n    if (o == this)\r\n      return true;\r\n    if (!(o instanceof Book))\r\n      return false;\r\n\r\n    Book that = (Book) o;\r\n\r\n    if (!this.b1.equals(that.b1)) return false;\r\n    if (!this.b2.equals(that.b2)) return false;\r\n    //Add the rest of the variable\r\n\r\n    return true;\r\n}\r\n```","title":"how to override the equals() method when you have to compare 7 instance variables?","body":"<p>Not sure what you mean... are you supposed to use the String's equal method for the 7 variables? In that case, here's an idea... you do need to check for null, though. If you can use another library, you can use <code>StringUtils.equal()</code> instead of as that checks for null as well.  You should also implement <code>hashCode()</code> as well for correctness.</p>\n<pre><code>@Override\npublic boolean equals (Object o) {\n\n    if (o == this)\n      return true;\n    if (!(o instanceof Book))\n      return false;\n\n    Book that = (Book) o;\n\n    if (!this.b1.equals(that.b1)) return false;\n    if (!this.b2.equals(that.b2)) return false;\n    //Add the rest of the variable\n\n    return true;\n}\n</code></pre>\n"}],"owner":{"account_id":9782231,"reputation":1,"user_id":7249777,"display_name":"cool cat"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1335,"favorite_count":0,"down_vote_count":5,"up_vote_count":0,"closed_date":1480899235,"answer_count":1,"score":-5,"last_activity_date":1651438505,"creation_date":1480897555,"question_id":40965411,"body_markdown":"I am currently doing my programming assignment. But there is one step that i don&#39;t quite understand. There are 7 private instance variables and we are supposed to use the equals() method to compare all the instance variables.\r\nHow is that possible?\r\nThis is the question-\r\nThe class has to override Object’s equals() method in order to return true if the object as argument equal to the object who invoked the method and false otherwise. The method should compare all instance variables of the two objects.\r\n\r\nAnd these are the instance variables-\r\n\r\n    public class Book implements Usable{\r\n    //instance variables\r\n \r\n\r\n     private String b1, b2, b3, b4, b5, b6, b7; \r\n     private boolean bookReference;\r\n\r\n  \r\n    ","title":"how to override the equals() method when you have to compare 7 instance variables?","body":"<p>I am currently doing my programming assignment. But there is one step that i don't quite understand. There are 7 private instance variables and we are supposed to use the equals() method to compare all the instance variables.\nHow is that possible?\nThis is the question-\nThe class has to override Object’s equals() method in order to return true if the object as argument equal to the object who invoked the method and false otherwise. The method should compare all instance variables of the two objects.</p>\n\n<p>And these are the instance variables-</p>\n\n<pre><code>public class Book implements Usable{\n//instance variables\n\n\n private String b1, b2, b3, b4, b5, b6, b7; \n private boolean bookReference;\n</code></pre>\n"},{"tags":["java","spring-cloud"],"comments":[{"owner":{"account_id":1368060,"reputation":24601,"user_id":2730527,"display_name":"spencergibb"},"score":0,"creation_date":1651436059,"post_id":72079762,"comment_id":127359620,"body_markdown":"Add the http scheme to the url? Please add the logs, it will say what it tried to fetch from where","body":"Add the http scheme to the url? Please add the logs, it will say what it tried to fetch from where"}],"answers":[{"tags":[],"owner":{"account_id":14320275,"reputation":1315,"user_id":10343888,"display_name":"fatih"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651438279,"creation_date":1651438279,"answer_id":72080326,"question_id":72079762,"body_markdown":"You don&#39;t need to add `/dictionary` path to your *cloud config uri*. Just `localhost:8888` is enough.","title":"Not fetch properties from config service","body":"<p>You don't need to add <code>/dictionary</code> path to your <em>cloud config uri</em>. Just <code>localhost:8888</code> is enough.</p>\n"}],"owner":{"account_id":9472564,"reputation":2041,"user_id":7548062,"accept_rate":76,"display_name":"Pavel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":272,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72080326,"answer_count":1,"score":0,"last_activity_date":1651438279,"creation_date":1651432907,"question_id":72079762,"body_markdown":"GET request to config service `http://localhost:8888/dictionary/default` return valid JSON with properties.\r\n\r\nDictionary service fail to start without properties:\r\n\r\n    @SpringBootApplication\r\n    @EnableEurekaClient\r\n    public class DictionaryApplication {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(DictionaryApplication.class, args);\r\n        }\r\n    \r\n    }\r\n\r\nbootstrap.yml\r\n\r\n    spring:\r\n      application:\r\n        name: dictionary\r\n      profiles:\r\n        active: default\r\n      cloud:\r\n        config:\r\n          uri: localhost:8888/dictionary\r\n\r\n\r\nbuild.gradle\r\n\r\n    ext {\r\n        set(&#39;springCloudVersion&#39;, &quot;2021.0.2&quot;)\r\n    }\r\n    \r\n    dependencies {\r\n        implementation &#39;org.springframework.cloud:spring-cloud-starter-bootstrap&#39;\r\n        implementation &#39;org.springframework.cloud:spring-cloud-config-client&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-actuator&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-validation&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n        implementation &#39;org.springframework.cloud:spring-cloud-starter-netflix-eureka-client&#39;\r\n        compileOnly &#39;org.projectlombok:lombok&#39;\r\n        developmentOnly &#39;org.springframework.boot:spring-boot-devtools&#39;\r\n        runtimeOnly &#39;org.postgresql:postgresql&#39;\r\n        annotationProcessor &#39;org.projectlombok:lombok&#39;\r\n        testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n    }\r\n\r\nWhat is mistake? Why properties not fetch?","title":"Not fetch properties from config service","body":"<p>GET request to config service <code>http://localhost:8888/dictionary/default</code> return valid JSON with properties.</p>\n<p>Dictionary service fail to start without properties:</p>\n<pre><code>@SpringBootApplication\n@EnableEurekaClient\npublic class DictionaryApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DictionaryApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>bootstrap.yml</p>\n<pre><code>spring:\n  application:\n    name: dictionary\n  profiles:\n    active: default\n  cloud:\n    config:\n      uri: localhost:8888/dictionary\n</code></pre>\n<p>build.gradle</p>\n<pre><code>ext {\n    set('springCloudVersion', &quot;2021.0.2&quot;)\n}\n\ndependencies {\n    implementation 'org.springframework.cloud:spring-cloud-starter-bootstrap'\n    implementation 'org.springframework.cloud:spring-cloud-config-client'\n    implementation 'org.springframework.boot:spring-boot-starter-actuator'\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'org.springframework.boot:spring-boot-starter-validation'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.springframework.cloud:spring-cloud-starter-netflix-eureka-client'\n    compileOnly 'org.projectlombok:lombok'\n    developmentOnly 'org.springframework.boot:spring-boot-devtools'\n    runtimeOnly 'org.postgresql:postgresql'\n    annotationProcessor 'org.projectlombok:lombok'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n}\n</code></pre>\n<p>What is mistake? Why properties not fetch?</p>\n"},{"tags":["java","webview","javafx","fxml"],"comments":[{"owner":{"account_id":4400755,"reputation":1015,"user_id":3586536,"display_name":"Prometheus"},"score":1,"creation_date":1427598521,"post_id":29324811,"comment_id":46841197,"body_markdown":"Your custom WebView and the WebView in FXML share the same name, but they are completely different classes.","body":"Your custom WebView and the WebView in FXML share the same name, but they are completely different classes."},{"owner":{"account_id":5414946,"reputation":85,"user_id":4310352,"display_name":"Maxwell"},"score":0,"creation_date":1427740406,"post_id":29324811,"comment_id":46892366,"body_markdown":"@Prometheus Thank you for your comment, I think the classes should still be able to interact with each other because I have done the exact same thing before but with a TextArea instead of a WebView. My main focus is the controller class. I think I asked the question better here: http://stackoverflow.com/questions/29353547/javafx-edit-webview-in-fxml-document","body":"@Prometheus Thank you for your comment, I think the classes should still be able to interact with each other because I have done the exact same thing before but with a TextArea instead of a WebView. My main focus is the controller class. I think I asked the question better here: <a href=\"http://stackoverflow.com/questions/29353547/javafx-edit-webview-in-fxml-document\" title=\"javafx edit webview in fxml document\">stackoverflow.com/questions/29353547/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":4400755,"reputation":1015,"user_id":3586536,"display_name":"Prometheus"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1427748080,"creation_date":1427748080,"answer_id":29355882,"question_id":29324811,"body_markdown":"A WebView works like any other control when it comes to loading it into a controller from FXML. Below is a minimal example program that displays a website.\r\n\r\n**Main.java**\r\n\r\n    package webview;\r\n    \r\n    import javafx.application.Application;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.scene.Parent;\r\n    import javafx.scene.Scene;\r\n    import javafx.stage.Stage;\r\n    \r\n    public class Main extends Application\r\n    {\r\n    \t@Override\r\n    \tpublic void start(Stage primaryStage) throws Exception\r\n    \t{\r\n    \t\tParent root = FXMLLoader.load(getClass().getResource(&quot;WebView.fxml&quot;));\r\n    \t\tScene scene = new Scene(root, 600, 400);\r\n    \t\tprimaryStage.setScene(scene);\r\n    \t\tprimaryStage.show();\r\n    \t}\r\n    \t\r\n    \tpublic static void main(String[] args)\r\n    \t{\r\n    \t\tlaunch();\r\n    \t}\r\n    }\r\n\r\n**WebViewController.java**\r\n\r\n    package webview;\r\n    \r\n    import javafx.fxml.FXML;\r\n    import javafx.scene.web.WebEngine;\r\n    import javafx.scene.web.WebView;\r\n    \r\n    public class WebViewController\r\n    {\r\n    \t@FXML\r\n    \tprivate WebView webView;\r\n    \t\r\n    \t@FXML\r\n    \tprivate void initialize()\r\n    \t{\r\n    \t\tWebEngine engine = webView.getEngine();\r\n    \t\tengine.load(&quot;http://www.example.org&quot;);\r\n    \t}\r\n    }\r\n\r\nI&#39;m not using the [Initializable interface][1] here, because it is somewhat obsolete in JavaFX 8.\r\n&gt; This interface has been superseded by automatic injection of location and resources properties into the controller. FXMLLoader will now automatically call any suitably annotated no-arg initialize() method defined by the controller. It is recommended that the injection approach be used whenever possible.\r\n\r\n**WebView.fxml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;?import javafx.scene.web.*?&gt;\r\n    &lt;?import java.lang.*?&gt;\r\n    &lt;?import javafx.scene.layout.*?&gt;\r\n    \r\n    &lt;AnchorPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; xmlns=&quot;http://javafx.com/javafx/8&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;webview.WebViewController&quot;&gt;\r\n       &lt;children&gt;\r\n          &lt;WebView fx:id=&quot;webView&quot; layoutX=&quot;100.0&quot; layoutY=&quot;176.0&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; AnchorPane.bottomAnchor=&quot;0.0&quot; AnchorPane.leftAnchor=&quot;0.0&quot; AnchorPane.rightAnchor=&quot;0.0&quot; AnchorPane.topAnchor=&quot;0.0&quot; /&gt;\r\n       &lt;/children&gt;\r\n    &lt;/AnchorPane&gt;\r\n\r\nWhy is this not working in your controller? Because you imported the wrong WebView. In the controller, the webView variable is an instance of your custom webview.WebView class, which extends Application and is not a control. The FXMLLoader is trying to assign the javafx.scene.web.WebView from the FXML file and fails, because the types are not compatible.\r\n\r\n  [1]: http://docs.oracle.com/javase/8/javafx/api/javafx/fxml/Initializable.html","title":"JavaFX Open WebView in FXML document","body":"<p>A WebView works like any other control when it comes to loading it into a controller from FXML. Below is a minimal example program that displays a website.</p>\n\n<p><strong>Main.java</strong></p>\n\n<pre><code>package webview;\n\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\npublic class Main extends Application\n{\n    @Override\n    public void start(Stage primaryStage) throws Exception\n    {\n        Parent root = FXMLLoader.load(getClass().getResource(\"WebView.fxml\"));\n        Scene scene = new Scene(root, 600, 400);\n        primaryStage.setScene(scene);\n        primaryStage.show();\n    }\n\n    public static void main(String[] args)\n    {\n        launch();\n    }\n}\n</code></pre>\n\n<p><strong>WebViewController.java</strong></p>\n\n<pre><code>package webview;\n\nimport javafx.fxml.FXML;\nimport javafx.scene.web.WebEngine;\nimport javafx.scene.web.WebView;\n\npublic class WebViewController\n{\n    @FXML\n    private WebView webView;\n\n    @FXML\n    private void initialize()\n    {\n        WebEngine engine = webView.getEngine();\n        engine.load(\"http://www.example.org\");\n    }\n}\n</code></pre>\n\n<p>I'm not using the <a href=\"http://docs.oracle.com/javase/8/javafx/api/javafx/fxml/Initializable.html\" rel=\"noreferrer\">Initializable interface</a> here, because it is somewhat obsolete in JavaFX 8.</p>\n\n<blockquote>\n  <p>This interface has been superseded by automatic injection of location and resources properties into the controller. FXMLLoader will now automatically call any suitably annotated no-arg initialize() method defined by the controller. It is recommended that the injection approach be used whenever possible.</p>\n</blockquote>\n\n<p><strong>WebView.fxml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n\n&lt;?import javafx.scene.web.*?&gt;\n&lt;?import java.lang.*?&gt;\n&lt;?import javafx.scene.layout.*?&gt;\n\n&lt;AnchorPane maxHeight=\"-Infinity\" maxWidth=\"-Infinity\" minHeight=\"-Infinity\" minWidth=\"-Infinity\" prefHeight=\"400.0\" prefWidth=\"600.0\" xmlns=\"http://javafx.com/javafx/8\" xmlns:fx=\"http://javafx.com/fxml/1\" fx:controller=\"webview.WebViewController\"&gt;\n   &lt;children&gt;\n      &lt;WebView fx:id=\"webView\" layoutX=\"100.0\" layoutY=\"176.0\" prefHeight=\"400.0\" prefWidth=\"600.0\" AnchorPane.bottomAnchor=\"0.0\" AnchorPane.leftAnchor=\"0.0\" AnchorPane.rightAnchor=\"0.0\" AnchorPane.topAnchor=\"0.0\" /&gt;\n   &lt;/children&gt;\n&lt;/AnchorPane&gt;\n</code></pre>\n\n<p>Why is this not working in your controller? Because you imported the wrong WebView. In the controller, the webView variable is an instance of your custom webview.WebView class, which extends Application and is not a control. The FXMLLoader is trying to assign the javafx.scene.web.WebView from the FXML file and fails, because the types are not compatible.</p>\n"},{"tags":[],"owner":{"account_id":5611246,"reputation":338,"user_id":4443895,"accept_rate":70,"display_name":"m-tech"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651438217,"creation_date":1651435964,"answer_id":72080084,"question_id":29324811,"body_markdown":"This is my Project:\r\n\r\nNote : ***com.example.map***\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIn HelloController :\r\n\r\n    package com.example.map;\r\n    \r\n    import javafx.fxml.FXML;\r\n    import javafx.fxml.Initializable;\r\n    import javafx.scene.control.Label;\r\n    import javafx.scene.web.WebEngine;\r\n    import javafx.scene.web.WebView;\r\n    \r\n    import java.net.URL;\r\n    import java.util.ResourceBundle;\r\n    public class HelloController  implements Initializable {\r\n        @FXML\r\n        private WebView view;\r\n        private String link = &quot;http://google.com&quot;;\r\n        private WebEngine engine;\r\n        @Override\r\n        public void initialize(URL url, ResourceBundle rb) {\r\n            engine = view.getEngine();\r\n            engine.load(link);\r\n        }\r\n    }\r\n\r\n\r\nIn HelloApplication\r\n\r\n    package com.example.map;\r\n    \r\n    import javafx.application.Application;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.scene.Parent;\r\n    import javafx.scene.Scene;\r\n    import javafx.stage.Stage;\r\n    import java.io.IOException;\r\n    \r\n    public class HelloApplication extends Application {\r\n        @Override\r\n        public void start(Stage stage) throws IOException {\r\n            FXMLLoader fxmlLoader = new FXMLLoader(HelloApplication.class.getResource(&quot;hello-view.fxml&quot;));\r\n            Scene scene = new Scene(fxmlLoader.load(), 320, 240);\r\n            stage.setTitle(&quot;Hello!&quot;);\r\n            stage.setScene(scene);\r\n            stage.show();\r\n        }\r\n        public static void main(String[] args) {\r\n            launch();\r\n        }\r\n    }\r\n\r\n\r\nIn hello-view.fxml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;?import javafx.geometry.*?&gt;\r\n    &lt;?import javafx.scene.control.*?&gt;\r\n    &lt;?import javafx.scene.layout.*?&gt;\r\n    \r\n    &lt;?import javafx.scene.web.WebView?&gt;\r\n    \r\n    &lt;?import javafx.scene.web.*?&gt;\r\n    &lt;?import java.lang.*?&gt;\r\n    &lt;?import javafx.scene.layout.*?&gt;\r\n    \r\n    &lt;AnchorPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; xmlns=&quot;http://javafx.com/javafx/8&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.example.map.HelloController&quot;&gt;\r\n        &lt;children&gt;\r\n            &lt;WebView fx:id=&quot;view&quot; layoutX=&quot;100.0&quot; layoutY=&quot;176.0&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; AnchorPane.bottomAnchor=&quot;0.0&quot; AnchorPane.leftAnchor=&quot;0.0&quot; AnchorPane.rightAnchor=&quot;0.0&quot; AnchorPane.topAnchor=&quot;0.0&quot; /&gt;\r\n        &lt;/children&gt;\r\n    &lt;/AnchorPane&gt;\r\n\r\nNote : \r\n\r\n&gt; fx:controller=&quot;com.example.map.HelloController&quot;\r\n\r\n in above code Use correct package name.\r\n\r\nIf you use **Offline html file** like : **index.html** use this line code :\r\n\r\n&gt; private String link =\r\n&gt; getClass().getResource(&quot;index.html&quot;).toExternalForm();\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PuO3E.png","title":"JavaFX Open WebView in FXML document","body":"<p>This is my Project:</p>\n<p>Note : <em><strong>com.example.map</strong></em></p>\n<p><a href=\"https://i.stack.imgur.com/PuO3E.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PuO3E.png\" alt=\"enter image description here\" /></a></p>\n<p>In HelloController :</p>\n<pre><code>package com.example.map;\n\nimport javafx.fxml.FXML;\nimport javafx.fxml.Initializable;\nimport javafx.scene.control.Label;\nimport javafx.scene.web.WebEngine;\nimport javafx.scene.web.WebView;\n\nimport java.net.URL;\nimport java.util.ResourceBundle;\npublic class HelloController  implements Initializable {\n    @FXML\n    private WebView view;\n    private String link = &quot;http://google.com&quot;;\n    private WebEngine engine;\n    @Override\n    public void initialize(URL url, ResourceBundle rb) {\n        engine = view.getEngine();\n        engine.load(link);\n    }\n}\n</code></pre>\n<p>In HelloApplication</p>\n<pre><code>package com.example.map;\n\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\nimport java.io.IOException;\n\npublic class HelloApplication extends Application {\n    @Override\n    public void start(Stage stage) throws IOException {\n        FXMLLoader fxmlLoader = new FXMLLoader(HelloApplication.class.getResource(&quot;hello-view.fxml&quot;));\n        Scene scene = new Scene(fxmlLoader.load(), 320, 240);\n        stage.setTitle(&quot;Hello!&quot;);\n        stage.setScene(scene);\n        stage.show();\n    }\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n<p>In hello-view.fxml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.geometry.*?&gt;\n&lt;?import javafx.scene.control.*?&gt;\n&lt;?import javafx.scene.layout.*?&gt;\n\n&lt;?import javafx.scene.web.WebView?&gt;\n\n&lt;?import javafx.scene.web.*?&gt;\n&lt;?import java.lang.*?&gt;\n&lt;?import javafx.scene.layout.*?&gt;\n\n&lt;AnchorPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; xmlns=&quot;http://javafx.com/javafx/8&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.example.map.HelloController&quot;&gt;\n    &lt;children&gt;\n        &lt;WebView fx:id=&quot;view&quot; layoutX=&quot;100.0&quot; layoutY=&quot;176.0&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; AnchorPane.bottomAnchor=&quot;0.0&quot; AnchorPane.leftAnchor=&quot;0.0&quot; AnchorPane.rightAnchor=&quot;0.0&quot; AnchorPane.topAnchor=&quot;0.0&quot; /&gt;\n    &lt;/children&gt;\n&lt;/AnchorPane&gt;\n</code></pre>\n<p>Note :</p>\n<blockquote>\n<p>fx:controller=&quot;com.example.map.HelloController&quot;</p>\n</blockquote>\n<p>in above code Use correct package name.</p>\n<p>If you use <strong>Offline html file</strong> like : <strong>index.html</strong> use this line code :</p>\n<blockquote>\n<p>private String link =\ngetClass().getResource(&quot;index.html&quot;).toExternalForm();</p>\n</blockquote>\n"}],"owner":{"account_id":5414946,"reputation":85,"user_id":4310352,"display_name":"Maxwell"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11839,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1651438217,"creation_date":1427594398,"question_id":29324811,"body_markdown":"I can successfully open a WebView displaying an html document/url by itself using JavaFX WebEngine and WebView, but I want to open a WebView inside an FXML documents along with other elements such as buttons and ImageView. My goal is to have a GUI which displays images with a html document displaying inside a WebView object.\r\n\r\n**Here is the program that opens a WebView by itself:**\r\n\r\n    public class HTMLViewer extends Application {\r\n    \r\n        private Scene scene;\r\n        MyBrowser myBrowser;\r\n        TextArea myTextArea;\r\n\r\n    \r\n    public static void main(String[] args) throws IOException, BadLocationException {\r\n        \r\n        launch(args);\r\n    }\r\n\r\n        @Override\r\n        public void start(Stage primaryStage) {\r\n        primaryStage.setTitle(&quot;HTMLViewer&quot;);\r\n\r\n        myBrowser = new MyBrowser();\r\n        scene = new Scene(myBrowser, 800, 600);\r\n\r\n        primaryStage.setScene(scene);\r\n        primaryStage.show();\r\n    }\r\n\r\n    class MyBrowser extends Region{\r\n\r\n        final String hellohtml = &quot;chang.htm&quot;; //html file to view\r\n\r\n        WebView webView = new WebView();\r\n        WebEngine webEngine = webView.getEngine();\r\n\r\n        public MyBrowser(){\r\n\r\n            URL urlHello = getClass().getResource(hellohtml); \r\n            webEngine.load(urlHello.toExternalForm());\r\n\r\n            getChildren().add(webView);\r\n        }\r\n      }    \r\n    }\r\n\r\n\r\n**And here is my attempt and loading a WebView through an FXML document which requires a WebView.java main class, WebViewController.java, and WebView.fxml**\r\n\r\n**WebView.java**\r\n\r\n    public class WebView extends Application {\r\n    private Object primaryStage;\r\n    \r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n    \r\n    @Override\r\n    public void start(Stage primaryStage) throws IOException {\r\n        Parent root =    FXMLLoader.load(getClass().getResource(&quot;FXMLDocument.fxml&quot;));\r\n        primaryStage.setTitle(&quot;HTMLViewer&quot;);\r\n        Scene scene = new Scene(root);\r\n\r\n        primaryStage.setScene(scene);\r\n        primaryStage.show();\r\n    }\r\n\r\n    \r\n\r\n    WebEngine getEngine() {\r\n        throw new UnsupportedOperationException(&quot;Not supported yet.&quot;); //To change body of generated methods, choose Tools | Templates.\r\n    }\r\n    \r\n    }\r\n\r\n**WebViewController.java**\r\n\r\n    public class FXMLDocumentController implements Initializable {\r\n    \r\n    @FXML\r\n    private Label label;\r\n    //WebView mywebview = new WebView();\r\n    String link = &quot;https://www.google.com&quot;;\r\n    WebEngine engine;\r\n    \r\n    @FXML\r\n    private void handleButtonAction(ActionEvent event) {\r\n        System.out.println(&quot;You clicked me!&quot;);\r\n        label.setText(&quot;Hello World!&quot;);\r\n    }\r\n    \r\n    @FXML WebView mywebview; //access WebView in FXML document\r\n    public void displayWeb() {\r\n        WebEngine engine = mywebview.getEngine();\r\n        final String hellohtml = &quot;chang.htm&quot;; //HTML file to view in web view\r\n        \r\n        URL urlHello = getClass().getResource(hellohtml);\r\n        engine.load(urlHello.toExternalForm());\r\n    }\r\n    \r\n    @Override\r\n    public void initialize(URL url, ResourceBundle rb) {\r\n        engine = mywebview.getEngine();\r\n        engine.load(link);\r\n        displayWeb();\r\n    }    \r\n    \r\n    }\r\n\r\n**WebView.FXML**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n    &lt;?import javafx.scene.web.*?&gt;\r\n    &lt;?import java.lang.*?&gt;\r\n    &lt;?import java.util.*?&gt;\r\n    &lt;?import javafx.scene.*?&gt;\r\n    &lt;?import javafx.scene.control.*?&gt;\r\n    &lt;?import javafx.scene.layout.*?&gt;\r\n\r\n    &lt;AnchorPane id=&quot;AnchorPane&quot; prefHeight=&quot;600.0&quot; prefWidth=&quot;900.0&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; xmlns=&quot;http://javafx.com/javafx/8&quot; fx:controller=&quot;webview.FXMLDocumentController&quot;&gt;\r\n        &lt;children&gt;\r\n            &lt;Button fx:id=&quot;button&quot; layoutX=&quot;23.0&quot; layoutY=&quot;24.0&quot; onAction=&quot;#handleButtonAction&quot; text=&quot;Click Me!&quot; /&gt;\r\n            &lt;Label fx:id=&quot;label&quot; layoutX=&quot;126&quot; layoutY=&quot;120&quot; minHeight=&quot;16&quot; minWidth=&quot;69&quot; /&gt;\r\n          &lt;WebView fx:id=&quot;mywebview&quot; layoutX=&quot;102.0&quot; layoutY=&quot;20.0&quot; prefHeight=&quot;559.0&quot; prefWidth=&quot;775.0&quot; /&gt;\r\n        &lt;/children&gt;\r\n    &lt;/AnchorPane&gt;\r\n\r\n\r\nI get an exception while running the application\r\n\r\nCan not set webview.WebView field webview.WebViewController.mywebview to javafx.scene.web.WebView\r\n\r\nIs my goal possible to achieve? If so Does anyone know a way to do so? Any help I will be grateful for, thanks.","title":"JavaFX Open WebView in FXML document","body":"<p>I can successfully open a WebView displaying an html document/url by itself using JavaFX WebEngine and WebView, but I want to open a WebView inside an FXML documents along with other elements such as buttons and ImageView. My goal is to have a GUI which displays images with a html document displaying inside a WebView object.</p>\n\n<p><strong>Here is the program that opens a WebView by itself:</strong></p>\n\n<pre><code>public class HTMLViewer extends Application {\n\n    private Scene scene;\n    MyBrowser myBrowser;\n    TextArea myTextArea;\n\n\npublic static void main(String[] args) throws IOException, BadLocationException {\n\n    launch(args);\n}\n\n    @Override\n    public void start(Stage primaryStage) {\n    primaryStage.setTitle(\"HTMLViewer\");\n\n    myBrowser = new MyBrowser();\n    scene = new Scene(myBrowser, 800, 600);\n\n    primaryStage.setScene(scene);\n    primaryStage.show();\n}\n\nclass MyBrowser extends Region{\n\n    final String hellohtml = \"chang.htm\"; //html file to view\n\n    WebView webView = new WebView();\n    WebEngine webEngine = webView.getEngine();\n\n    public MyBrowser(){\n\n        URL urlHello = getClass().getResource(hellohtml); \n        webEngine.load(urlHello.toExternalForm());\n\n        getChildren().add(webView);\n    }\n  }    \n}\n</code></pre>\n\n<p><strong>And here is my attempt and loading a WebView through an FXML document which requires a WebView.java main class, WebViewController.java, and WebView.fxml</strong></p>\n\n<p><strong>WebView.java</strong></p>\n\n<pre><code>public class WebView extends Application {\nprivate Object primaryStage;\n\npublic static void main(String[] args) {\n    launch(args);\n}\n\n@Override\npublic void start(Stage primaryStage) throws IOException {\n    Parent root =    FXMLLoader.load(getClass().getResource(\"FXMLDocument.fxml\"));\n    primaryStage.setTitle(\"HTMLViewer\");\n    Scene scene = new Scene(root);\n\n    primaryStage.setScene(scene);\n    primaryStage.show();\n}\n\n\n\nWebEngine getEngine() {\n    throw new UnsupportedOperationException(\"Not supported yet.\"); //To change body of generated methods, choose Tools | Templates.\n}\n\n}\n</code></pre>\n\n<p><strong>WebViewController.java</strong></p>\n\n<pre><code>public class FXMLDocumentController implements Initializable {\n\n@FXML\nprivate Label label;\n//WebView mywebview = new WebView();\nString link = \"https://www.google.com\";\nWebEngine engine;\n\n@FXML\nprivate void handleButtonAction(ActionEvent event) {\n    System.out.println(\"You clicked me!\");\n    label.setText(\"Hello World!\");\n}\n\n@FXML WebView mywebview; //access WebView in FXML document\npublic void displayWeb() {\n    WebEngine engine = mywebview.getEngine();\n    final String hellohtml = \"chang.htm\"; //HTML file to view in web view\n\n    URL urlHello = getClass().getResource(hellohtml);\n    engine.load(urlHello.toExternalForm());\n}\n\n@Override\npublic void initialize(URL url, ResourceBundle rb) {\n    engine = mywebview.getEngine();\n    engine.load(link);\n    displayWeb();\n}    \n\n}\n</code></pre>\n\n<p><strong>WebView.FXML</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n\n&lt;?import javafx.scene.web.*?&gt;\n&lt;?import java.lang.*?&gt;\n&lt;?import java.util.*?&gt;\n&lt;?import javafx.scene.*?&gt;\n&lt;?import javafx.scene.control.*?&gt;\n&lt;?import javafx.scene.layout.*?&gt;\n\n&lt;AnchorPane id=\"AnchorPane\" prefHeight=\"600.0\" prefWidth=\"900.0\" xmlns:fx=\"http://javafx.com/fxml/1\" xmlns=\"http://javafx.com/javafx/8\" fx:controller=\"webview.FXMLDocumentController\"&gt;\n    &lt;children&gt;\n        &lt;Button fx:id=\"button\" layoutX=\"23.0\" layoutY=\"24.0\" onAction=\"#handleButtonAction\" text=\"Click Me!\" /&gt;\n        &lt;Label fx:id=\"label\" layoutX=\"126\" layoutY=\"120\" minHeight=\"16\" minWidth=\"69\" /&gt;\n      &lt;WebView fx:id=\"mywebview\" layoutX=\"102.0\" layoutY=\"20.0\" prefHeight=\"559.0\" prefWidth=\"775.0\" /&gt;\n    &lt;/children&gt;\n&lt;/AnchorPane&gt;\n</code></pre>\n\n<p>I get an exception while running the application</p>\n\n<p>Can not set webview.WebView field webview.WebViewController.mywebview to javafx.scene.web.WebView</p>\n\n<p>Is my goal possible to achieve? If so Does anyone know a way to do so? Any help I will be grateful for, thanks.</p>\n"},{"tags":["java","android","android-manifest","android-security","android-securityexception"],"comments":[{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1651438597,"post_id":72080311,"comment_id":127360075,"body_markdown":"Is `independent.dev.ui.Activities` your `applicationId`, as set in your Gradle build scripts?","body":"Is <code>independent.dev.ui.Activities</code> your <code>applicationId</code>, as set in your Gradle build scripts?"},{"owner":{"account_id":7444329,"reputation":95,"user_id":5661063,"display_name":"juske"},"score":0,"creation_date":1651501571,"post_id":72080311,"comment_id":127373191,"body_markdown":"No, mi aaplicationId is another one. But isn&#39;t it supposed that I have to set the package name?","body":"No, mi aaplicationId is another one. But isn&#39;t it supposed that I have to set the package name?"},{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":2,"creation_date":1651504213,"post_id":72080311,"comment_id":127374148,"body_markdown":"Despite the name, `setPackage()` takes an `applicationId`.","body":"Despite the name, <code>setPackage()</code> takes an <code>applicationId</code>."}],"owner":{"account_id":7444329,"reputation":95,"user_id":5661063,"display_name":"juske"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651438078,"creation_date":1651438078,"question_id":72080311,"body_markdown":"I have that vulnerability according to google play console.\r\nIt&#39;s supposed that the solution is to add `.setPackage()` or `.setClassName()` to the intent but now the activity is not being recognized. How can I use this function?\r\nThe intent as it was with the vulnerability is this:\r\n```\r\n@Override\r\n    public void onBackPressed() {\r\n        super.onBackPressed();\r\n        Intent intent = new Intent(&quot;independent.dev.ui.mainactivity&quot;);\r\n        intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TASK);\r\n        startActivity(intent);\r\n    }\r\n```\r\nThe solution that I tried adding the package name:\r\n```\r\n@Override\r\n    public void onBackPressed() {\r\n        super.onBackPressed();\r\n        Intent intent = new Intent(&quot;independent.dev.ui.mainactivity&quot;);\r\n        intent.setPackage(&quot;independent.dev.ui.Activities&quot;);\r\n        intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TASK);\r\n        startActivity(intent);\r\n    }\r\n```\r\nmy `AndroidManifest.xml` is this\r\n```\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;independent.dev.ui.Activities&quot;&gt;\r\n.\r\n.\r\n.\r\n&lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:configChanges=&quot;orientation|keyboardHidden&quot;\r\n            android:label=&quot;Menu Principal&quot;\r\n            android:screenOrientation=&quot;portrait&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;independent.dev.ui.mainactivity&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n```\r\n\r\nHow can I set the package so I can navigate and delete this vulnerability?","title":"Implicit Internal Intent vulnerability. Can&#39;t set package name","body":"<p>I have that vulnerability according to google play console.\nIt's supposed that the solution is to add <code>.setPackage()</code> or <code>.setClassName()</code> to the intent but now the activity is not being recognized. How can I use this function?\nThe intent as it was with the vulnerability is this:</p>\n<pre><code>@Override\n    public void onBackPressed() {\n        super.onBackPressed();\n        Intent intent = new Intent(&quot;independent.dev.ui.mainactivity&quot;);\n        intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TASK);\n        startActivity(intent);\n    }\n</code></pre>\n<p>The solution that I tried adding the package name:</p>\n<pre><code>@Override\n    public void onBackPressed() {\n        super.onBackPressed();\n        Intent intent = new Intent(&quot;independent.dev.ui.mainactivity&quot;);\n        intent.setPackage(&quot;independent.dev.ui.Activities&quot;);\n        intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TASK);\n        startActivity(intent);\n    }\n</code></pre>\n<p>my <code>AndroidManifest.xml</code> is this</p>\n<pre><code>&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;independent.dev.ui.Activities&quot;&gt;\n.\n.\n.\n&lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:configChanges=&quot;orientation|keyboardHidden&quot;\n            android:label=&quot;Menu Principal&quot;\n            android:screenOrientation=&quot;portrait&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;independent.dev.ui.mainactivity&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n</code></pre>\n<p>How can I set the package so I can navigate and delete this vulnerability?</p>\n"},{"tags":["java","postgresql","hibernate"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1651431068,"post_id":72079418,"comment_id":127358674,"body_markdown":"Get the absolute path as string and use `varchar`","body":"Get the absolute path as string and use <code>varchar</code>"},{"owner":{"account_id":18211039,"reputation":1140,"user_id":13253563,"display_name":"Denys_newbie"},"score":0,"creation_date":1651431743,"post_id":72079418,"comment_id":127358793,"body_markdown":"@g00se I want Hibernate to automatically map `File file` to the some column in the table, so I can automatically save, delete, update objects of the class","body":"@g00se I want Hibernate to automatically map <code>File file</code> to the some column in the table, so I can automatically save, delete, update objects of the class"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1651446258,"post_id":72079418,"comment_id":127361291,"body_markdown":"I don&#39;t know the inner workings of Hibernate. It could work maybe but Java just treats the file class as a way to manipulate paths. The sort of activity you mention comes via native calls ultimately. OTOH `File` *is* `Serializable` so you might be in with a chance","body":"I don&#39;t know the inner workings of Hibernate. It could work maybe but Java just treats the file class as a way to manipulate paths. The sort of activity you mention comes via native calls ultimately. OTOH <code>File</code> <i>is</i> <code>Serializable</code> so you might be in with a chance"}],"owner":{"account_id":18211039,"reputation":1140,"user_id":13253563,"display_name":"Denys_newbie"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1651437939,"creation_date":1651429934,"question_id":72079418,"body_markdown":"Can I save `File` class as a `VARCHAR`, because I want to save a real file on a disc and save only filename in database as a `VARCHAR`. Maybe there is an annotation for example as\r\n```java\r\n@SaveAsString\r\nprivate File file;\r\n```\r\nI&#39;am using PostgreSQL and by default it saves `File` class as a `bytea` datatype.","title":"Can I save only the name of the File class in java and hibernate?","body":"<p>Can I save <code>File</code> class as a <code>VARCHAR</code>, because I want to save a real file on a disc and save only filename in database as a <code>VARCHAR</code>. Maybe there is an annotation for example as</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SaveAsString\nprivate File file;\n</code></pre>\n<p>I'am using PostgreSQL and by default it saves <code>File</code> class as a <code>bytea</code> datatype.</p>\n"},{"tags":["java","spring-boot","log4j2"],"comments":[{"owner":{"account_id":5273740,"reputation":698,"user_id":4211252,"display_name":"Thilo Schwarz"},"score":0,"creation_date":1651413661,"post_id":72075338,"comment_id":127354522,"body_markdown":"Could be a case for AspectJ ...","body":"Could be a case for AspectJ ..."},{"owner":{"account_id":5273740,"reputation":698,"user_id":4211252,"display_name":"Thilo Schwarz"},"score":4,"creation_date":1651414485,"post_id":72075338,"comment_id":127354722,"body_markdown":"This job could also done by log4j2 itself. Use an additional fileappender with a ```RegexFilter```.","body":"This job could also done by log4j2 itself. Use an additional fileappender with a <code>RegexFilter</code>."}],"owner":{"account_id":15892941,"reputation":13,"user_id":11467513,"display_name":"prospective developer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":208,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651437873,"creation_date":1651395491,"question_id":72075338,"body_markdown":"I use Library that use *log4j* for logging (in *Spring-Boot*).\r\n\r\nI want when log message is contains some string then save that message at the file before console out. Maybe I can do it before using `log.debug(message)`, but I can&#39;t modify the library code.\r\n\r\nHow can I do it?","title":"Can I filtering log message before out to console","body":"<p>I use Library that use <em>log4j</em> for logging (in <em>Spring-Boot</em>).</p>\n<p>I want when log message is contains some string then save that message at the file before console out. Maybe I can do it before using <code>log.debug(message)</code>, but I can't modify the library code.</p>\n<p>How can I do it?</p>\n"},{"tags":["java","spring","hibernate","criteria","hibernate-criteria"],"answers":[{"tags":[],"owner":{"account_id":86477,"reputation":192886,"user_id":240443,"accept_rate":79,"display_name":"Amadan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651431589,"creation_date":1651431589,"answer_id":72079610,"question_id":72079587,"body_markdown":"The parameter placeholder isn&#39;t just blindly replaced with the placeholder value, so `%:keyword%` is not a legal syntax.\r\n\r\nYou need to have `LIKE :keyword` in SQL, and pass keyword as `&quot;%&quot; + keyword + &quot;%&quot;` from the Java side.\r\n\r\nAlternately, you could concatenate strings on the SQL side: `LIKE (&#39;%&#39; || :keyword || &#39;%&#39;)`.","title":"Search like sql using &#39;%&#39; criteria native sql","body":"<p>The parameter placeholder isn't just blindly replaced with the placeholder value, so <code>%:keyword%</code> is not a legal syntax.</p>\n<p>You need to have <code>LIKE :keyword</code> in SQL, and pass keyword as <code>&quot;%&quot; + keyword + &quot;%&quot;</code> from the Java side.</p>\n<p>Alternately, you could concatenate strings on the SQL side: <code>LIKE ('%' || :keyword || '%')</code>.</p>\n"},{"tags":[],"owner":{"account_id":16139017,"reputation":129,"user_id":15817444,"display_name":"Mazhar Ibna Zahur"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651432066,"creation_date":1651432066,"answer_id":72079657,"question_id":72079587,"body_markdown":"Assuming you have a model class EMPLOYEE. so you can write criteria as follows :\r\n\r\n            CriteriaBuilder cb = entityManager.getCriteriaBuilder();\r\n            CriteriaQuery&lt;EMPLOYEE&gt; cq = cb.createQuery(EMPLOYEE.class);\r\n            Root&lt;EMPLOYEE&gt; employee = cq.from(EMPLOYEE.class);\r\n            cq.select(employee);\r\n            List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\r\n            if (searchCharacterInfo.getKeyword() != null) {\r\n                predicates.add(cb.like(employee.get(&quot;name&quot;), &quot;%&quot; + searchCharacterInfo.getKeyword() + &quot;%&quot;));\r\n            }\r\n        \r\n            cq.where(predicates.toArray(new Predicate[0]));\r\n            List&lt;EMPLOYEE&gt; res =  entityManager.createQuery(cq).getResultList();\r\n\r\n","title":"Search like sql using &#39;%&#39; criteria native sql","body":"<p>Assuming you have a model class EMPLOYEE. so you can write criteria as follows :</p>\n<pre><code>        CriteriaBuilder cb = entityManager.getCriteriaBuilder();\n        CriteriaQuery&lt;EMPLOYEE&gt; cq = cb.createQuery(EMPLOYEE.class);\n        Root&lt;EMPLOYEE&gt; employee = cq.from(EMPLOYEE.class);\n        cq.select(employee);\n        List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\n        if (searchCharacterInfo.getKeyword() != null) {\n            predicates.add(cb.like(employee.get(&quot;name&quot;), &quot;%&quot; + searchCharacterInfo.getKeyword() + &quot;%&quot;));\n        }\n    \n        cq.where(predicates.toArray(new Predicate[0]));\n        List&lt;EMPLOYEE&gt; res =  entityManager.createQuery(cq).getResultList();\n</code></pre>\n"}],"owner":{"account_id":10395305,"reputation":349,"user_id":7665222,"accept_rate":60,"display_name":"Java Dev Beginner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":263,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72079610,"answer_count":2,"score":0,"last_activity_date":1651437547,"creation_date":1651431369,"question_id":72079587,"body_markdown":"I have a code to connect *PL/SQL* search like using &#39;%&#39; and I use criteria to implement\r\n\r\n    String sql = &quot;SELECT * FROM EMPLOYEE &quot;;\r\n    Query query = entityManager.createNativeQuery(sql.toString());\r\n    \r\n    if(searchCharacterInfo.getKeyword() != null){\r\n          sql += &quot; WHERE NAME LIKE %:keyword% &quot;;\r\n          query = entityManager.createNativeQuery(sql).setParameter(&quot;keyword&quot;, keyword);\r\n    }\r\n    \r\n    List&lt;Object&gt; res =  query.getResultList();\r\n    return res;\r\n\r\nWhen I run this code to show error:\r\n\r\n    Could not locate named parameter keyword\r\n\r\nPlease help me solve this problem!","title":"Search like sql using &#39;%&#39; criteria native sql","body":"<p>I have a code to connect <em>PL/SQL</em> search like using '%' and I use criteria to implement</p>\n<pre><code>String sql = &quot;SELECT * FROM EMPLOYEE &quot;;\nQuery query = entityManager.createNativeQuery(sql.toString());\n\nif(searchCharacterInfo.getKeyword() != null){\n      sql += &quot; WHERE NAME LIKE %:keyword% &quot;;\n      query = entityManager.createNativeQuery(sql).setParameter(&quot;keyword&quot;, keyword);\n}\n\nList&lt;Object&gt; res =  query.getResultList();\nreturn res;\n</code></pre>\n<p>When I run this code to show error:</p>\n<pre><code>Could not locate named parameter keyword\n</code></pre>\n<p>Please help me solve this problem!</p>\n"},{"tags":["java","user-interface","swing"],"answers":[{"tags":[],"owner":{"account_id":269622,"reputation":58936,"user_id":559070,"accept_rate":74,"display_name":"Harry Joy"},"down_vote_count":8,"up_vote_count":9,"is_accepted":true,"score":1,"last_activity_date":1651437522,"creation_date":1299731663,"answer_id":5255497,"question_id":5255466,"body_markdown":"If you wanna remove only selected text then try this:\r\n\r\n```Java\r\ntextArea.setText(textArea.getText().replace(textArea.getSelectedText(),&quot;&quot;));\r\n```\r\n\r\nHope this helps.","title":"deleting only a selected text in a text area","body":"<p>If you wanna remove only selected text then try this:</p>\n<pre><code>textArea.setText(textArea.getText().replace(textArea.getSelectedText(),&quot;&quot;));\n</code></pre>\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":116185,"reputation":7719,"user_id":304778,"accept_rate":74,"display_name":"secmask"},"down_vote_count":0,"up_vote_count":45,"is_accepted":false,"score":45,"last_activity_date":1299733319,"creation_date":1299733319,"answer_id":5255666,"question_id":5255466,"body_markdown":"    txtArea.replaceSelection(&quot;&quot;);\r\n\r\nthis should be shorter and more effective.","title":"deleting only a selected text in a text area","body":"<pre><code>txtArea.replaceSelection(\"\");\n</code></pre>\n\n<p>this should be shorter and more effective.</p>\n"},{"tags":[],"owner":{"account_id":9814213,"reputation":829,"user_id":7271217,"display_name":"gprasadr8"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1586065169,"creation_date":1586065169,"answer_id":61038508,"question_id":5255466,"body_markdown":"For **JavaFx TextArea** you can use **deleteText(IndexRange range)** method to delete the selected text.\r\n\r\n```java\r\n  textArea.deleteText(textArea.getSelection());\r\n```\r\nTo delete text based on index use **deleteText(int start, int end)** overloaded method\r\n\r\n```java\r\n  textArea.deleteText(startIndex, endIndex);\r\n```\r\n\r\nWe can use **replaceSelection(String replacement)** method to delete the text, in fact **deleteText** internally uses **replaceText** method but **deleteText** method will improve the readability of the code.\r\n","title":"deleting only a selected text in a text area","body":"<p>For <strong>JavaFx TextArea</strong> you can use <strong>deleteText(IndexRange range)</strong> method to delete the selected text.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>  textArea.deleteText(textArea.getSelection());\n</code></pre>\n\n<p>To delete text based on index use <strong>deleteText(int start, int end)</strong> overloaded method</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>  textArea.deleteText(startIndex, endIndex);\n</code></pre>\n\n<p>We can use <strong>replaceSelection(String replacement)</strong> method to delete the text, in fact <strong>deleteText</strong> internally uses <strong>replaceText</strong> method but <strong>deleteText</strong> method will improve the readability of the code.</p>\n"}],"owner":{"account_id":257306,"reputation":3952,"user_id":538636,"accept_rate":86,"display_name":"Pavithra Gunasekara"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21416,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":5255497,"answer_count":3,"score":8,"last_activity_date":1651437522,"creation_date":1299731398,"question_id":5255466,"body_markdown":"I want to delete selected text in a text area using Java Swing, but I couldn&#39;t find a way to do that. At some point I thought of using `textArea.setText(&quot;&quot;);` but, when I do, it clears out everything. Can some one please help me with this?\r\n\r\nHere is the code I&#39;ve written so far,\r\n\r\n    public class DeleteTest extends JFrame implements ActionListener {\r\n\r\n\tJPanel panel;\r\n\tJTextArea textArea;\r\n\tJButton button;\r\n\r\n\tpublic DeleteTest() {\r\n\r\n\t\tsetVisible(true);\r\n\t\tsetSize(500, 500);\r\n\t\tsetDefaultCloseOperation(EXIT_ON_CLOSE);\r\n\r\n\t\tpanel = new JPanel();\r\n\t\tpanel.setBackground(getBackground().BLACK);\r\n\t\ttextArea = new JTextArea(300, 300);\r\n\t\tbutton = new JButton(&quot;clear&quot;);\r\n\r\n\t\tbutton.addActionListener(this);\r\n\r\n\t\tpanel.add(button);\r\n\r\n\t\tadd(textArea, BorderLayout.CENTER);\r\n\t\tadd(panel, BorderLayout.SOUTH);\r\n\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void actionPerformed(ActionEvent arg0) {\r\n\t\tif (arg0.getSource()==button){\r\n\t\t\tString selected=textArea.getSelectedText();\r\n\t\t\tif(!selected.equals(&quot;&quot;)){\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tRunnable r = new Runnable() {\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void run() {\r\n\t\t\t\tDeleteTest de = new DeleteTest();\r\n\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tSwingUtilities.invokeLater(r);\r\n\r\n\t}\r\n\r\n}\r\n","title":"deleting only a selected text in a text area","body":"<p>I want to delete selected text in a text area using Java Swing, but I couldn't find a way to do that. At some point I thought of using <code>textArea.setText(\"\");</code> but, when I do, it clears out everything. Can some one please help me with this?</p>\n\n<p>Here is the code I've written so far,</p>\n\n<pre><code>public class DeleteTest extends JFrame implements ActionListener {\n\nJPanel panel;\nJTextArea textArea;\nJButton button;\n\npublic DeleteTest() {\n\n    setVisible(true);\n    setSize(500, 500);\n    setDefaultCloseOperation(EXIT_ON_CLOSE);\n\n    panel = new JPanel();\n    panel.setBackground(getBackground().BLACK);\n    textArea = new JTextArea(300, 300);\n    button = new JButton(\"clear\");\n\n    button.addActionListener(this);\n\n    panel.add(button);\n\n    add(textArea, BorderLayout.CENTER);\n    add(panel, BorderLayout.SOUTH);\n\n}\n\n@Override\npublic void actionPerformed(ActionEvent arg0) {\n    if (arg0.getSource()==button){\n        String selected=textArea.getSelectedText();\n        if(!selected.equals(\"\")){\n\n\n        }\n    }\n\n}\n\npublic static void main(String[] args) {\n    Runnable r = new Runnable() {\n\n        @Override\n        public void run() {\n            DeleteTest de = new DeleteTest();\n\n        }\n    };\n\n    SwingUtilities.invokeLater(r);\n\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":["java","list","sorting","java-stream"],"comments":[{"owner":{"account_id":1648419,"reputation":5309,"user_id":1519469,"display_name":"HelloWorld123456789"},"score":1,"creation_date":1651246950,"post_id":72060405,"comment_id":127326327,"body_markdown":"Where is product ID located?","body":"Where is product ID located?"},{"owner":{"account_id":18192720,"reputation":849,"user_id":13238310,"display_name":"idanz"},"score":1,"creation_date":1651247104,"post_id":72060405,"comment_id":127326386,"body_markdown":"See comprehensive article here: https://www.codebyamir.com/blog/sort-list-of-objects-by-field-java, specifically the section of `Option 4: Stream interface sorted()`","body":"See comprehensive article here: <a href=\"https://www.codebyamir.com/blog/sort-list-of-objects-by-field-java\" rel=\"nofollow noreferrer\">codebyamir.com/blog/sort-list-of-objects-by-field-java</a>, specifically the section of <code>Option 4: Stream interface sorted()</code>"}],"answers":[{"tags":[],"owner":{"account_id":1648419,"reputation":5309,"user_id":1519469,"display_name":"HelloWorld123456789"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1651247548,"creation_date":1651247227,"answer_id":72060521,"question_id":72060405,"body_markdown":"Assuming product ID is inside Entry, it can be something like this.\r\n\r\n    public String mostExpensiveItems() {\r\n        List&lt;Entry&gt; myList = getList();\r\n        List&lt;String&gt; expensive = myList.stream()\r\n                .sorted(Comparator.comparing(Entry::getAmount).reversed())\r\n                .limit(3)\r\n                .map(Entry::getProductID)\r\n                .toList();\r\n\r\n        return &quot;&quot;;\r\n    }\r\n\r\n\r\nNB: I didn&#39;t test this out yet, but this should be able to convey the idea.","title":"How to fetch 3 objects having the highest values from a List with Stream API","body":"<p>Assuming product ID is inside Entry, it can be something like this.</p>\n<pre><code>public String mostExpensiveItems() {\n    List&lt;Entry&gt; myList = getList();\n    List&lt;String&gt; expensive = myList.stream()\n            .sorted(Comparator.comparing(Entry::getAmount).reversed())\n            .limit(3)\n            .map(Entry::getProductID)\n            .toList();\n\n    return &quot;&quot;;\n}\n</code></pre>\n<p>NB: I didn't test this out yet, but this should be able to convey the idea.</p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651437472,"creation_date":1651271977,"answer_id":72064317,"question_id":72060405,"body_markdown":"You don&#39;t to sort all the given data for this task. Because **sorting is overkill**, when only need to fetch `3` largest values. \r\n\r\nBecause sorting the hole data set will cost **O(n log n)** time. Meanwhile, this task can be done in a single pass through the list, maintaining only `3` largest previously encountered values in the sorted order. And time complexity will be very close to a **linear time**.\r\n\r\nTo implement the partial sorting with streams, you can define a *custom collector* (an object that is responsible for accumulating the data from the stream).\r\n\r\nYou can create a *custom collector* either inline by using one of the versions of the static method [`Collector.of()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collector.html#of(java.util.function.Supplier,java.util.function.BiConsumer,java.util.function.BinaryOperator,java.util.function.Function,java.util.stream.Collector.Characteristics...)) or by creating a `class` that implements the `Collector` interface.\r\n\r\nThese are parameters that you need to provide while defining a custom collector:\r\n\r\n* **Supplier** `Supplier&lt;A&gt;` is meant to provide a *mutable container* which store elements of the stream. In this case because we need to perform a *partial sorting*, `PriorityQueue` will be handy for that purpose as a mutable container.\r\n* **Accumulator** BiConsumer&lt;A,T&gt; defines how to add elements into the *container* provided by the *supplier*. For this task, the *accumulator* needs to guarantee that queue will not exceed the given size by rejecting values that are smaller than the lowest value previously added to the queue and by removing the lowest value if the size has reached the limit a new value needs to be added.\r\n* **Combiner** `BinaryOperator&lt;A&gt; combiner()` establishes a rule on how to merge two *containers* obtained while executing stream in parallel. Here combiner rely on the same logic that was described for accumulator.\r\n* **Finisher** `Function&lt;A,R&gt;` is meant to produce the final result by transforming the mutable container. The finisher function in the code below turns the queue into an immutable list.\r\n* **Characteristics** allow to provide additional information, for instance `Collector.Characteristics.UNORDERED` which is used in this case denotes that the order in which partial results of the reduction produced while executing in parallel is not significant, which can improve performance of this collector with parallel streams.\r\n\r\nNote that with `Collector.of()` only **supplier**, **accumulator** and **combiner** are mandatory, other parameters are defined if needed.\r\n\r\nThe method below that generates a collector would be more reusable if we apply *generic type parameter* to it and declare it to expect a *comparator* as a parameter (will be used in the constructor of the `PriorityQueue` and while adding elements to the queue).\r\n\r\n*Custom collector:*\r\n\r\n    public static &lt;T&gt; Collector&lt;T, ?, List&lt;T&gt;&gt; getMaxN(int size, Comparator&lt;T&gt; comparator) {\r\n        \r\n        return Collector.of(\r\n            () -&gt; new PriorityQueue&lt;&gt;(comparator),\r\n            (Queue&lt;T&gt; queue, T next) -&gt; tryAdd(queue, next, comparator, size),\r\n            (Queue&lt;T&gt; left, Queue&lt;T&gt; right) -&gt; {\r\n                right.forEach(next -&gt; tryAdd(left, next, comparator, size));\r\n                return left;\r\n            },\r\n            (Queue&lt;T&gt; queue) -&gt; queue.stream().toList(),\r\n            Collector.Characteristics.UNORDERED);\r\n    }\r\n    \r\n    public static &lt;T&gt; void tryAdd(Queue&lt;T&gt; queue, T next, Comparator&lt;T&gt; comparator, int size) {\r\n        if (queue.size() == size &amp;&amp; comparator.compare(queue.element(), next) &lt; 0) queue.remove(); // if next value is greater than the smallest element in the queue and max size has been exceeded the smallest element needs to be removed from the queue\r\n        if (queue.size() &lt; size) queue.add(next);\r\n    }\r\n\r\n*Stream:*\r\n\r\n    public static &lt;T&gt; String getMostExpensive(List&lt;T&gt; list, Function&lt;T, String&gt; function,\r\n                                              Comparator&lt;T&gt; comparator, int limit) {\r\n        \r\n        return list.stream()\r\n            .collect(getMaxN(limit, comparator))\r\n            .stream()\r\n            .map(function)\r\n            .collect(Collectors.joining(&quot;, &quot;));\r\n    }\r\n\r\n`main()` - demo with dummy `Entries` that expects only `amount` as a parameter.\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;Entry&gt; entries =\r\n            List.of(new Entry(&quot;item1&quot;, 2.6), new Entry(&quot;item2&quot;, 3.5), new Entry(&quot;item3&quot;, 5.7),\r\n                    new Entry(&quot;item4&quot;, 1.9), new Entry(&quot;item5&quot;, 3.2), new Entry(&quot;item6&quot;, 9.5),\r\n                    new Entry(&quot;item7&quot;, 7.2), new Entry(&quot;item8&quot;, 8.1), new Entry(&quot;item9&quot;, 7.9));\r\n    \r\n        System.out.println(getMostExpensive(entries, Entry::getProductId,\r\n                                            Comparator.comparingDouble(Entry::getAmount), 3));\r\n    }\r\n\r\n**Output**\r\n```\r\n[item9, item6, item8] // final result is not sorted PriorityQueue maintains the elements in unsorted order (sorting happens only while dequeue operation happens), if these values are requeted to be sorted it could be done by changing the finisher function\r\n```","title":"How to fetch 3 objects having the highest values from a List with Stream API","body":"<p>You don't to sort all the given data for this task. Because <strong>sorting is overkill</strong>, when only need to fetch <code>3</code> largest values.</p>\n<p>Because sorting the hole data set will cost <strong>O(n log n)</strong> time. Meanwhile, this task can be done in a single pass through the list, maintaining only <code>3</code> largest previously encountered values in the sorted order. And time complexity will be very close to a <strong>linear time</strong>.</p>\n<p>To implement the partial sorting with streams, you can define a <em>custom collector</em> (an object that is responsible for accumulating the data from the stream).</p>\n<p>You can create a <em>custom collector</em> either inline by using one of the versions of the static method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collector.html#of(java.util.function.Supplier,java.util.function.BiConsumer,java.util.function.BinaryOperator,java.util.function.Function,java.util.stream.Collector.Characteristics...)\" rel=\"nofollow noreferrer\"><code>Collector.of()</code></a> or by creating a <code>class</code> that implements the <code>Collector</code> interface.</p>\n<p>These are parameters that you need to provide while defining a custom collector:</p>\n<ul>\n<li><strong>Supplier</strong> <code>Supplier&lt;A&gt;</code> is meant to provide a <em>mutable container</em> which store elements of the stream. In this case because we need to perform a <em>partial sorting</em>, <code>PriorityQueue</code> will be handy for that purpose as a mutable container.</li>\n<li><strong>Accumulator</strong> BiConsumer&lt;A,T&gt; defines how to add elements into the <em>container</em> provided by the <em>supplier</em>. For this task, the <em>accumulator</em> needs to guarantee that queue will not exceed the given size by rejecting values that are smaller than the lowest value previously added to the queue and by removing the lowest value if the size has reached the limit a new value needs to be added.</li>\n<li><strong>Combiner</strong> <code>BinaryOperator&lt;A&gt; combiner()</code> establishes a rule on how to merge two <em>containers</em> obtained while executing stream in parallel. Here combiner rely on the same logic that was described for accumulator.</li>\n<li><strong>Finisher</strong> <code>Function&lt;A,R&gt;</code> is meant to produce the final result by transforming the mutable container. The finisher function in the code below turns the queue into an immutable list.</li>\n<li><strong>Characteristics</strong> allow to provide additional information, for instance <code>Collector.Characteristics.UNORDERED</code> which is used in this case denotes that the order in which partial results of the reduction produced while executing in parallel is not significant, which can improve performance of this collector with parallel streams.</li>\n</ul>\n<p>Note that with <code>Collector.of()</code> only <strong>supplier</strong>, <strong>accumulator</strong> and <strong>combiner</strong> are mandatory, other parameters are defined if needed.</p>\n<p>The method below that generates a collector would be more reusable if we apply <em>generic type parameter</em> to it and declare it to expect a <em>comparator</em> as a parameter (will be used in the constructor of the <code>PriorityQueue</code> and while adding elements to the queue).</p>\n<p><em>Custom collector:</em></p>\n<pre><code>public static &lt;T&gt; Collector&lt;T, ?, List&lt;T&gt;&gt; getMaxN(int size, Comparator&lt;T&gt; comparator) {\n    \n    return Collector.of(\n        () -&gt; new PriorityQueue&lt;&gt;(comparator),\n        (Queue&lt;T&gt; queue, T next) -&gt; tryAdd(queue, next, comparator, size),\n        (Queue&lt;T&gt; left, Queue&lt;T&gt; right) -&gt; {\n            right.forEach(next -&gt; tryAdd(left, next, comparator, size));\n            return left;\n        },\n        (Queue&lt;T&gt; queue) -&gt; queue.stream().toList(),\n        Collector.Characteristics.UNORDERED);\n}\n\npublic static &lt;T&gt; void tryAdd(Queue&lt;T&gt; queue, T next, Comparator&lt;T&gt; comparator, int size) {\n    if (queue.size() == size &amp;&amp; comparator.compare(queue.element(), next) &lt; 0) queue.remove(); // if next value is greater than the smallest element in the queue and max size has been exceeded the smallest element needs to be removed from the queue\n    if (queue.size() &lt; size) queue.add(next);\n}\n</code></pre>\n<p><em>Stream:</em></p>\n<pre><code>public static &lt;T&gt; String getMostExpensive(List&lt;T&gt; list, Function&lt;T, String&gt; function,\n                                          Comparator&lt;T&gt; comparator, int limit) {\n    \n    return list.stream()\n        .collect(getMaxN(limit, comparator))\n        .stream()\n        .map(function)\n        .collect(Collectors.joining(&quot;, &quot;));\n}\n</code></pre>\n<p><code>main()</code> - demo with dummy <code>Entries</code> that expects only <code>amount</code> as a parameter.</p>\n<pre><code>public static void main(String[] args) {\n    List&lt;Entry&gt; entries =\n        List.of(new Entry(&quot;item1&quot;, 2.6), new Entry(&quot;item2&quot;, 3.5), new Entry(&quot;item3&quot;, 5.7),\n                new Entry(&quot;item4&quot;, 1.9), new Entry(&quot;item5&quot;, 3.2), new Entry(&quot;item6&quot;, 9.5),\n                new Entry(&quot;item7&quot;, 7.2), new Entry(&quot;item8&quot;, 8.1), new Entry(&quot;item9&quot;, 7.9));\n\n    System.out.println(getMostExpensive(entries, Entry::getProductId,\n                                        Comparator.comparingDouble(Entry::getAmount), 3));\n}\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>[item9, item6, item8] // final result is not sorted PriorityQueue maintains the elements in unsorted order (sorting happens only while dequeue operation happens), if these values are requeted to be sorted it could be done by changing the finisher function\n</code></pre>\n"}],"owner":{"account_id":24256547,"reputation":51,"user_id":18206822,"display_name":"lopaxxxkzz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":971,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72060521,"answer_count":2,"score":0,"last_activity_date":1651437472,"creation_date":1651246763,"question_id":72060405,"body_markdown":"I have a method like this:\r\n\r\n    public String mostExpensiveItems() {\r\n            List&lt;Entry&gt; myList = getList();\r\n            List&lt;Double&gt; expensive = myList.stream()\r\n                    .map(Entry::getAmount)\r\n                    .sorted(Comparator.reverseOrder())\r\n                    .limit(3)\r\n                    .toList();\r\n    \r\n            return &quot;&quot;;\r\n        }\r\n\r\nThis method needs to return the *product IDs* of the `3` most expensive items as a string like this: \r\n```\r\n&quot;item1, item2, item3&quot;\r\n```\r\nI should be able to use only streams and I got stuck here. I should be able to sort the items by value then get the product IDs, but I can&#39;t seem to make it work.\r\n\r\n*Entry class*\r\n\r\n    public class Entry {\r\n    \r\n        private String productId;\r\n        private LocalDate date;\r\n        private String state;\r\n        private String category;\r\n        private Double amount;\r\n    \r\n        public Entry(LocalDate orderDate, String state, String productId, String category, Double sales) {\r\n            this.date = orderDate;\r\n            this.productId = productId;\r\n            this.state = state;\r\n            this.category = category;\r\n            this.amount = sales;\r\n        }\r\n    \r\n        public String getProductId() {\r\n            return productId;\r\n        }","title":"How to fetch 3 objects having the highest values from a List with Stream API","body":"<p>I have a method like this:</p>\n<pre><code>public String mostExpensiveItems() {\n        List&lt;Entry&gt; myList = getList();\n        List&lt;Double&gt; expensive = myList.stream()\n                .map(Entry::getAmount)\n                .sorted(Comparator.reverseOrder())\n                .limit(3)\n                .toList();\n\n        return &quot;&quot;;\n    }\n</code></pre>\n<p>This method needs to return the <em>product IDs</em> of the <code>3</code> most expensive items as a string like this:</p>\n<pre><code>&quot;item1, item2, item3&quot;\n</code></pre>\n<p>I should be able to use only streams and I got stuck here. I should be able to sort the items by value then get the product IDs, but I can't seem to make it work.</p>\n<p><em>Entry class</em></p>\n<pre><code>public class Entry {\n\n    private String productId;\n    private LocalDate date;\n    private String state;\n    private String category;\n    private Double amount;\n\n    public Entry(LocalDate orderDate, String state, String productId, String category, Double sales) {\n        this.date = orderDate;\n        this.productId = productId;\n        this.state = state;\n        this.category = category;\n        this.amount = sales;\n    }\n\n    public String getProductId() {\n        return productId;\n    }\n</code></pre>\n"},{"tags":["java","multithreading","forkjoinpool"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1651437998,"post_id":72080225,"comment_id":127359950,"body_markdown":"If you can swap outer and inner loop, you probably have much easier preconditions: as you never change the outer list, you simply could set up a threadpool where one thread handles one entry of the outer loop - this should doable in parallel very easy.\nProblem with your solution is that you modify the inner list of `matrix` in parallel - you would have to sync this carefully, if you prefer to parallelize the loops in the order you have them now.","body":"If you can swap outer and inner loop, you probably have much easier preconditions: as you never change the outer list, you simply could set up a threadpool where one thread handles one entry of the outer loop - this should doable in parallel very easy. Problem with your solution is that you modify the inner list of <code>matrix</code> in parallel - you would have to sync this carefully, if you prefer to parallelize the loops in the order you have them now."},{"owner":{"account_id":20653901,"reputation":195,"user_id":15163517,"display_name":"Federico Galimberti"},"score":0,"creation_date":1651439602,"post_id":72080225,"comment_id":127360271,"body_markdown":"The code simplifies a much larger case study. No, I can&#39;t swap the outer loops. The thread pool is not good because if I have 10 columns in the main loop and my CPU has 40 threads I cannot use all the computing power of my machine. Yes I have to synchronize the matrix and I also think I did it correctly, I don&#39;t know any other strategies.","body":"The code simplifies a much larger case study. No, I can&#39;t swap the outer loops. The thread pool is not good because if I have 10 columns in the main loop and my CPU has 40 threads I cannot use all the computing power of my machine. Yes I have to synchronize the matrix and I also think I did it correctly, I don&#39;t know any other strategies."}],"owner":{"account_id":20653901,"reputation":195,"user_id":15163517,"display_name":"Federico Galimberti"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651437293,"creation_date":1651437293,"question_id":72080225,"body_markdown":"I have this class:\r\n\r\n```java\r\npackage metodo_java8_moderno;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class SingleThreadClass {\r\n\r\n    public List&lt;Object&gt; editAndAdd(List&lt;List&lt;Long&gt;&gt; matrix){\r\n        Long limit = (long) matrix.get(0).size()*matrix.size()/2;\r\n        List&lt;Long&gt; numbers = new ArrayList&lt;&gt;();\r\n        for(int i=0; i&lt;matrix.get(0).size(); i++){\r\n            for(int j=0; j&lt;matrix.size(); j++){\r\n                if(matrix.get(j).get(i).longValue() &lt;= limit){\r\n                    numbers.add(matrix.get(j).get(i));\r\n                    matrix.get(j).set(i,null);\r\n                }\r\n            }\r\n        }\r\n        List&lt;Object&gt; objectList = new ArrayList&lt;&gt;();\r\n        objectList.add(matrix);\r\n        objectList.add(numbers);\r\n        return objectList;\r\n    }\r\n\r\n}\r\n```\r\n\r\nI want to parallel only the following piece by exploiting all the cores of my CPU:\r\n\r\n```java\r\n            for(int j=0; j&lt;matrix.size(); j++){\r\n                if(matrix.get(j).get(i).longValue() &lt;= limit){\r\n                    numbers.add(matrix.get(j).get(i));\r\n                    matrix.get(j).set(i,null);\r\n                }\r\n            }\r\n```\r\n\r\nI get an error and I believe it is due to the sharing of objects between different threads.\r\n\r\n\r\n\r\n\r\n**I post all the code of my work:**\r\n\r\n\r\n\r\n\r\nElementMutator.java\r\n```java\r\npackage metodo_java8_moderno;\r\n\r\n@FunctionalInterface\r\npublic interface ElementMutator&lt;T&gt; {\r\n    void apply(int i);\r\n}\r\n```\r\nForkJoinListMutator.java\r\n```java\r\npackage metodo_java8_moderno;\r\n\r\nimport java.util.List;\r\nimport java.util.concurrent.ForkJoinPool;\r\nimport java.util.concurrent.RecursiveAction;\r\n\r\npublic class ForkJoinListMutator {\r\n\r\n    public static final int DEFAULT_SEQ_THRESHOLD = 10000;\r\n\r\n    private static final ForkJoinListMutator defaultInstance = new ForkJoinListMutator(ForkJoinPool.commonPool());\r\n\r\n    private final ForkJoinPool forkJoinPool;\r\n\r\n    public ForkJoinListMutator(ForkJoinPool forkJoinPool) {\r\n        this.forkJoinPool = forkJoinPool;\r\n    }\r\n\r\n    public static ForkJoinListMutator getDefault() {\r\n        return defaultInstance;\r\n    }\r\n\r\n    public &lt;T&gt; void mutate(List&lt;T&gt; list, ElementMutator&lt;T&gt; mutator) {\r\n        mutate(list, DEFAULT_SEQ_THRESHOLD, mutator);\r\n    }\r\n\r\n    public &lt;T&gt; void mutate(List&lt;T&gt; list, int seqThreshold, ElementMutator&lt;T&gt; mutator) {\r\n        MutateTask&lt;T&gt; mainTask = new MutateTask&lt;&gt;(list, seqThreshold, mutator);\r\n        forkJoinPool.invoke(mainTask);\r\n    }\r\n\r\n    private static class MutateTask&lt;T&gt; extends RecursiveAction {\r\n\r\n        private final List&lt;T&gt; list;\r\n\r\n        private final int start;\r\n\r\n        private final int end;\r\n\r\n        private final int seqThreshold;\r\n\r\n        private final ElementMutator&lt;T&gt; mutator;\r\n\r\n        public MutateTask(List&lt;T&gt; list, int seqThreshold, ElementMutator&lt;T&gt; mutator) {\r\n\r\n            this(list, 0, list.size(), seqThreshold, mutator);\r\n        }\r\n\r\n        public MutateTask(List&lt;T&gt; list, int start, int end, int seqThreshold, ElementMutator&lt;T&gt; mutator) {\r\n            this.list = list;\r\n            this.start = start;\r\n            this.end = end;\r\n            this.seqThreshold = seqThreshold;\r\n            this.mutator = mutator;\r\n        }\r\n\r\n        @Override\r\n        protected void compute() {\r\n\r\n            final int length = end - start;\r\n\r\n            if (length &lt;= seqThreshold) {\r\n                computeSequentially();\r\n            } else {\r\n                MutateTask&lt;T&gt; leftTask = new MutateTask&lt;&gt;(list, start, start+length/2, seqThreshold, mutator);\r\n                leftTask.fork();\r\n                leftTask.join();\r\n                MutateTask&lt;T&gt; rightTask = new MutateTask&lt;&gt;(list, start+length/2, end, seqThreshold, mutator);\r\n                rightTask.compute();\r\n            }\r\n        }\r\n\r\n\r\n        private void computeSequentially() {\r\n            for (int i = start; i &lt; end; i++) {\r\n                mutator.apply(i);\r\n            }\r\n        }\r\n\r\n    }\r\n}\r\n```\r\nForkJoinListMutatorExample.java\r\n```java\r\npackage metodo_java8_moderno;\r\n\r\nimport java.util.List;\r\n\r\npublic class ForkJoinListMutatorExample {\r\n\r\n    public static void main(String args[]) {\r\n        GenerateMatrix generateMatrix = new GenerateMatrix();\r\n        List&lt;List&lt;Long&gt;&gt; matrix = generateMatrix.generate(3,4);\r\n        System.out.println(matrix);\r\n        long t1 = System.nanoTime();\r\n        SingleThreadClass singleThreadClass = new SingleThreadClass();\r\n        List&lt;Object&gt; output = singleThreadClass.editAndAdd(matrix);\r\n        long t2 = System.nanoTime();\r\n        System.out.println(&quot;Time taken single thread process: &quot; + (t2-t1)/100000000);\r\n        List&lt;List&lt;Long&gt;&gt; newMatrix = (List&lt;List&lt;Long&gt;&gt;) output.get(0);\r\n        List&lt;Long&gt; numbers = (List&lt;Long&gt;) output.get(1);\r\n        System.out.println(newMatrix);\r\n        System.out.println(numbers);\r\n        t1 = System.nanoTime();\r\n        MultiThreadClass multiThreadClass = new MultiThreadClass();\r\n        output = multiThreadClass.editAndAdd(matrix);\r\n        t2 = System.nanoTime();\r\n        System.out.println(&quot;Time taken multi thread process: &quot; + (t2-t1)/100000000);\r\n        List&lt;List&lt;Long&gt;&gt; newMatrix2 = (List&lt;List&lt;Long&gt;&gt;) output.get(0);\r\n        List&lt;Long&gt; numbers2 = (List&lt;Long&gt;) output.get(1);\r\n        System.out.println(newMatrix2);\r\n        System.out.println(numbers2);\r\n\r\n    }\r\n\r\n}\r\n```\r\nGenerateMatrix.java\r\n```java\r\npackage metodo_java8_moderno;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Random;\r\n\r\npublic class GenerateMatrix {\r\n\r\n    public List&lt;List&lt;Long&gt;&gt; generate(int columns, int rows){\r\n        List&lt;List&lt;Long&gt;&gt; matrix = new ArrayList&lt;&gt;();\r\n        List&lt;Long&gt; row;\r\n        Random randomGenerator = new Random();\r\n        for(int i=0; i&lt;rows; i++){\r\n            row = new ArrayList&lt;&gt;();\r\n            for(int j=0; j&lt;columns; j++){\r\n                row.add((long) randomGenerator.nextInt(columns*rows+1));\r\n            }\r\n            matrix.add(row);\r\n        }\r\n        return matrix;\r\n    }\r\n}\r\n\r\n```\r\nMultiThreadClass.java\r\n```java\r\npackage metodo_java8_moderno;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.concurrent.locks.ReentrantReadWriteLock;\r\n\r\npublic class MultiThreadClass {\r\n\r\n\r\n    private ReentrantReadWriteLock reentrantReadWriteLock = new ReentrantReadWriteLock();\r\n\r\n    public List&lt;List&lt;Long&gt;&gt; matrix;\r\n    public void setMatrix(List&lt;List&lt;Long&gt;&gt; matrix) {\r\n        reentrantReadWriteLock.writeLock().lock();\r\n        try {\r\n            this.matrix = matrix;\r\n        } catch (Exception e){\r\n            this.matrix = null;\r\n        } finally {\r\n            reentrantReadWriteLock.writeLock().unlock();\r\n        }\r\n    }\r\n    public List&lt;List&lt;Long&gt;&gt; getMatrix() {\r\n        reentrantReadWriteLock.readLock().lock();\r\n        List&lt;List&lt;Long&gt;&gt; matrix;\r\n        try {\r\n            matrix = this.matrix;\r\n        } catch (Exception e){\r\n            matrix = null;\r\n        } finally {\r\n            reentrantReadWriteLock.readLock().unlock();\r\n        }\r\n        return matrix;\r\n    }\r\n\r\n    public int i;\r\n    public void setI(int i) {\r\n        reentrantReadWriteLock.writeLock().lock();\r\n        try {\r\n            this.i = i;\r\n        } catch (Exception e){\r\n            this.i = -1;\r\n        } finally {\r\n            reentrantReadWriteLock.writeLock().unlock();\r\n        }\r\n    }\r\n    public int getI() {\r\n        reentrantReadWriteLock.readLock().lock();\r\n        int i;\r\n        try {\r\n            i = this.i;\r\n        } catch (Exception e){\r\n            i = -1;\r\n        } finally {\r\n            reentrantReadWriteLock.readLock().unlock();\r\n        }\r\n        return i;\r\n    }\r\n\r\n    public List&lt;Long&gt; numbers;\r\n    public void setNumbers(List&lt;Long&gt; numbers) {\r\n        reentrantReadWriteLock.writeLock().lock();\r\n        try {\r\n            this.numbers = numbers;\r\n        } catch (Exception e){\r\n            this.numbers = null;\r\n        } finally {\r\n            reentrantReadWriteLock.writeLock().unlock();\r\n        }\r\n    }\r\n    public List&lt;Long&gt; getNumbers() {\r\n        reentrantReadWriteLock.readLock().lock();\r\n        List&lt;Long&gt; numbers;\r\n        try {\r\n            numbers = this.numbers;\r\n        } catch (Exception e){\r\n            numbers = null;\r\n        } finally {\r\n            reentrantReadWriteLock.readLock().unlock();\r\n        }\r\n        return numbers;\r\n    }\r\n\r\n    public Long limit;\r\n    public void setLimit(Long limit) {\r\n        reentrantReadWriteLock.writeLock().lock();\r\n        try {\r\n            this.limit = limit;\r\n        } catch (Exception e){\r\n            this.limit = null;\r\n        } finally {\r\n            reentrantReadWriteLock.writeLock().unlock();\r\n        }\r\n    }\r\n    public Long getLimit() {\r\n        reentrantReadWriteLock.readLock().lock();\r\n        Long limit;\r\n        try {\r\n            limit = this.limit;\r\n        } catch (Exception e){\r\n            limit = null;\r\n        } finally {\r\n            reentrantReadWriteLock.readLock().unlock();\r\n        }\r\n        return limit;\r\n    }\r\n\r\n    public List&lt;Object&gt; editAndAdd(List&lt;List&lt;Long&gt;&gt; matrix){\r\n        this.matrix = matrix;\r\n        this.limit = (long) this.matrix.get(0).size()*this.matrix.size()/2;\r\n        this.numbers = new ArrayList&lt;&gt;();\r\n        int core = Runtime.getRuntime().availableProcessors();\r\n        for(int i=0; i&lt;this.matrix.get(0).size(); i++){\r\n            this.i = i;\r\n            ForkJoinListMutator listMutator = ForkJoinListMutator.getDefault();\r\n            listMutator.mutate(this.matrix,Math.max(1,this.matrix.size()/(core*1+1)),(j) -&gt; parallelFor(j));\r\n        }\r\n        List&lt;Object&gt; objectList = new ArrayList&lt;&gt;();\r\n        objectList.add(this.matrix);\r\n        objectList.add(this.numbers);\r\n        return objectList;\r\n    }\r\n\r\n    public void parallelFor(int j){\r\n        try{\r\n            List&lt;List&lt;Long&gt;&gt; matrix = getMatrix();\r\n            int i = getI();\r\n            List&lt;Long&gt; numbers = getNumbers();\r\n            Long limit = getLimit();\r\n            if(matrix.get(j).get(i).longValue() &lt;= limit){\r\n                numbers.add(matrix.get(j).get(i));\r\n                matrix.get(j).set(i,null);\r\n            }\r\n            setMatrix(matrix);\r\n            setI(i);\r\n            setNumbers(numbers);\r\n            setLimit(limit);\r\n            //System.out.println(&quot;&gt;&gt; &quot;+this.matrix);\r\n            //System.out.println(&quot;&gt;&gt; &quot;+this.numbers);\r\n        }catch (Exception e){\r\n            System.out.println(&quot;Errore!&quot;);\r\n            System.out.println(e.getMessage());\r\n            System.out.println(e.getCause());\r\n        }\r\n\r\n    }\r\n\r\n}\r\n\r\n```\r\nSingleThreadClass.java\r\n```java\r\npackage metodo_java8_moderno;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class SingleThreadClass {\r\n\r\n    public List&lt;Object&gt; editAndAdd(List&lt;List&lt;Long&gt;&gt; matrix){\r\n        Long limit = (long) matrix.get(0).size()*matrix.size()/2;\r\n        List&lt;Long&gt; numbers = new ArrayList&lt;&gt;();\r\n        for(int i=0; i&lt;matrix.get(0).size(); i++){\r\n            for(int j=0; j&lt;matrix.size(); j++){\r\n                if(matrix.get(j).get(i).longValue() &lt;= limit){\r\n                    numbers.add(matrix.get(j).get(i));\r\n                    matrix.get(j).set(i,null);\r\n                }\r\n            }\r\n        }\r\n        List&lt;Object&gt; objectList = new ArrayList&lt;&gt;();\r\n        objectList.add(matrix);\r\n        objectList.add(numbers);\r\n        return objectList;\r\n    }\r\n\r\n}\r\n\r\n```\r\n","title":"Make a parallel process by modifying my original code as little as possible","body":"<p>I have this class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package metodo_java8_moderno;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class SingleThreadClass {\n\n    public List&lt;Object&gt; editAndAdd(List&lt;List&lt;Long&gt;&gt; matrix){\n        Long limit = (long) matrix.get(0).size()*matrix.size()/2;\n        List&lt;Long&gt; numbers = new ArrayList&lt;&gt;();\n        for(int i=0; i&lt;matrix.get(0).size(); i++){\n            for(int j=0; j&lt;matrix.size(); j++){\n                if(matrix.get(j).get(i).longValue() &lt;= limit){\n                    numbers.add(matrix.get(j).get(i));\n                    matrix.get(j).set(i,null);\n                }\n            }\n        }\n        List&lt;Object&gt; objectList = new ArrayList&lt;&gt;();\n        objectList.add(matrix);\n        objectList.add(numbers);\n        return objectList;\n    }\n\n}\n</code></pre>\n<p>I want to parallel only the following piece by exploiting all the cores of my CPU:</p>\n<pre class=\"lang-java prettyprint-override\"><code>            for(int j=0; j&lt;matrix.size(); j++){\n                if(matrix.get(j).get(i).longValue() &lt;= limit){\n                    numbers.add(matrix.get(j).get(i));\n                    matrix.get(j).set(i,null);\n                }\n            }\n</code></pre>\n<p>I get an error and I believe it is due to the sharing of objects between different threads.</p>\n<p><strong>I post all the code of my work:</strong></p>\n<p>ElementMutator.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>package metodo_java8_moderno;\n\n@FunctionalInterface\npublic interface ElementMutator&lt;T&gt; {\n    void apply(int i);\n}\n</code></pre>\n<p>ForkJoinListMutator.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>package metodo_java8_moderno;\n\nimport java.util.List;\nimport java.util.concurrent.ForkJoinPool;\nimport java.util.concurrent.RecursiveAction;\n\npublic class ForkJoinListMutator {\n\n    public static final int DEFAULT_SEQ_THRESHOLD = 10000;\n\n    private static final ForkJoinListMutator defaultInstance = new ForkJoinListMutator(ForkJoinPool.commonPool());\n\n    private final ForkJoinPool forkJoinPool;\n\n    public ForkJoinListMutator(ForkJoinPool forkJoinPool) {\n        this.forkJoinPool = forkJoinPool;\n    }\n\n    public static ForkJoinListMutator getDefault() {\n        return defaultInstance;\n    }\n\n    public &lt;T&gt; void mutate(List&lt;T&gt; list, ElementMutator&lt;T&gt; mutator) {\n        mutate(list, DEFAULT_SEQ_THRESHOLD, mutator);\n    }\n\n    public &lt;T&gt; void mutate(List&lt;T&gt; list, int seqThreshold, ElementMutator&lt;T&gt; mutator) {\n        MutateTask&lt;T&gt; mainTask = new MutateTask&lt;&gt;(list, seqThreshold, mutator);\n        forkJoinPool.invoke(mainTask);\n    }\n\n    private static class MutateTask&lt;T&gt; extends RecursiveAction {\n\n        private final List&lt;T&gt; list;\n\n        private final int start;\n\n        private final int end;\n\n        private final int seqThreshold;\n\n        private final ElementMutator&lt;T&gt; mutator;\n\n        public MutateTask(List&lt;T&gt; list, int seqThreshold, ElementMutator&lt;T&gt; mutator) {\n\n            this(list, 0, list.size(), seqThreshold, mutator);\n        }\n\n        public MutateTask(List&lt;T&gt; list, int start, int end, int seqThreshold, ElementMutator&lt;T&gt; mutator) {\n            this.list = list;\n            this.start = start;\n            this.end = end;\n            this.seqThreshold = seqThreshold;\n            this.mutator = mutator;\n        }\n\n        @Override\n        protected void compute() {\n\n            final int length = end - start;\n\n            if (length &lt;= seqThreshold) {\n                computeSequentially();\n            } else {\n                MutateTask&lt;T&gt; leftTask = new MutateTask&lt;&gt;(list, start, start+length/2, seqThreshold, mutator);\n                leftTask.fork();\n                leftTask.join();\n                MutateTask&lt;T&gt; rightTask = new MutateTask&lt;&gt;(list, start+length/2, end, seqThreshold, mutator);\n                rightTask.compute();\n            }\n        }\n\n\n        private void computeSequentially() {\n            for (int i = start; i &lt; end; i++) {\n                mutator.apply(i);\n            }\n        }\n\n    }\n}\n</code></pre>\n<p>ForkJoinListMutatorExample.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>package metodo_java8_moderno;\n\nimport java.util.List;\n\npublic class ForkJoinListMutatorExample {\n\n    public static void main(String args[]) {\n        GenerateMatrix generateMatrix = new GenerateMatrix();\n        List&lt;List&lt;Long&gt;&gt; matrix = generateMatrix.generate(3,4);\n        System.out.println(matrix);\n        long t1 = System.nanoTime();\n        SingleThreadClass singleThreadClass = new SingleThreadClass();\n        List&lt;Object&gt; output = singleThreadClass.editAndAdd(matrix);\n        long t2 = System.nanoTime();\n        System.out.println(&quot;Time taken single thread process: &quot; + (t2-t1)/100000000);\n        List&lt;List&lt;Long&gt;&gt; newMatrix = (List&lt;List&lt;Long&gt;&gt;) output.get(0);\n        List&lt;Long&gt; numbers = (List&lt;Long&gt;) output.get(1);\n        System.out.println(newMatrix);\n        System.out.println(numbers);\n        t1 = System.nanoTime();\n        MultiThreadClass multiThreadClass = new MultiThreadClass();\n        output = multiThreadClass.editAndAdd(matrix);\n        t2 = System.nanoTime();\n        System.out.println(&quot;Time taken multi thread process: &quot; + (t2-t1)/100000000);\n        List&lt;List&lt;Long&gt;&gt; newMatrix2 = (List&lt;List&lt;Long&gt;&gt;) output.get(0);\n        List&lt;Long&gt; numbers2 = (List&lt;Long&gt;) output.get(1);\n        System.out.println(newMatrix2);\n        System.out.println(numbers2);\n\n    }\n\n}\n</code></pre>\n<p>GenerateMatrix.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>package metodo_java8_moderno;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Random;\n\npublic class GenerateMatrix {\n\n    public List&lt;List&lt;Long&gt;&gt; generate(int columns, int rows){\n        List&lt;List&lt;Long&gt;&gt; matrix = new ArrayList&lt;&gt;();\n        List&lt;Long&gt; row;\n        Random randomGenerator = new Random();\n        for(int i=0; i&lt;rows; i++){\n            row = new ArrayList&lt;&gt;();\n            for(int j=0; j&lt;columns; j++){\n                row.add((long) randomGenerator.nextInt(columns*rows+1));\n            }\n            matrix.add(row);\n        }\n        return matrix;\n    }\n}\n\n</code></pre>\n<p>MultiThreadClass.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>package metodo_java8_moderno;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.concurrent.locks.ReentrantReadWriteLock;\n\npublic class MultiThreadClass {\n\n\n    private ReentrantReadWriteLock reentrantReadWriteLock = new ReentrantReadWriteLock();\n\n    public List&lt;List&lt;Long&gt;&gt; matrix;\n    public void setMatrix(List&lt;List&lt;Long&gt;&gt; matrix) {\n        reentrantReadWriteLock.writeLock().lock();\n        try {\n            this.matrix = matrix;\n        } catch (Exception e){\n            this.matrix = null;\n        } finally {\n            reentrantReadWriteLock.writeLock().unlock();\n        }\n    }\n    public List&lt;List&lt;Long&gt;&gt; getMatrix() {\n        reentrantReadWriteLock.readLock().lock();\n        List&lt;List&lt;Long&gt;&gt; matrix;\n        try {\n            matrix = this.matrix;\n        } catch (Exception e){\n            matrix = null;\n        } finally {\n            reentrantReadWriteLock.readLock().unlock();\n        }\n        return matrix;\n    }\n\n    public int i;\n    public void setI(int i) {\n        reentrantReadWriteLock.writeLock().lock();\n        try {\n            this.i = i;\n        } catch (Exception e){\n            this.i = -1;\n        } finally {\n            reentrantReadWriteLock.writeLock().unlock();\n        }\n    }\n    public int getI() {\n        reentrantReadWriteLock.readLock().lock();\n        int i;\n        try {\n            i = this.i;\n        } catch (Exception e){\n            i = -1;\n        } finally {\n            reentrantReadWriteLock.readLock().unlock();\n        }\n        return i;\n    }\n\n    public List&lt;Long&gt; numbers;\n    public void setNumbers(List&lt;Long&gt; numbers) {\n        reentrantReadWriteLock.writeLock().lock();\n        try {\n            this.numbers = numbers;\n        } catch (Exception e){\n            this.numbers = null;\n        } finally {\n            reentrantReadWriteLock.writeLock().unlock();\n        }\n    }\n    public List&lt;Long&gt; getNumbers() {\n        reentrantReadWriteLock.readLock().lock();\n        List&lt;Long&gt; numbers;\n        try {\n            numbers = this.numbers;\n        } catch (Exception e){\n            numbers = null;\n        } finally {\n            reentrantReadWriteLock.readLock().unlock();\n        }\n        return numbers;\n    }\n\n    public Long limit;\n    public void setLimit(Long limit) {\n        reentrantReadWriteLock.writeLock().lock();\n        try {\n            this.limit = limit;\n        } catch (Exception e){\n            this.limit = null;\n        } finally {\n            reentrantReadWriteLock.writeLock().unlock();\n        }\n    }\n    public Long getLimit() {\n        reentrantReadWriteLock.readLock().lock();\n        Long limit;\n        try {\n            limit = this.limit;\n        } catch (Exception e){\n            limit = null;\n        } finally {\n            reentrantReadWriteLock.readLock().unlock();\n        }\n        return limit;\n    }\n\n    public List&lt;Object&gt; editAndAdd(List&lt;List&lt;Long&gt;&gt; matrix){\n        this.matrix = matrix;\n        this.limit = (long) this.matrix.get(0).size()*this.matrix.size()/2;\n        this.numbers = new ArrayList&lt;&gt;();\n        int core = Runtime.getRuntime().availableProcessors();\n        for(int i=0; i&lt;this.matrix.get(0).size(); i++){\n            this.i = i;\n            ForkJoinListMutator listMutator = ForkJoinListMutator.getDefault();\n            listMutator.mutate(this.matrix,Math.max(1,this.matrix.size()/(core*1+1)),(j) -&gt; parallelFor(j));\n        }\n        List&lt;Object&gt; objectList = new ArrayList&lt;&gt;();\n        objectList.add(this.matrix);\n        objectList.add(this.numbers);\n        return objectList;\n    }\n\n    public void parallelFor(int j){\n        try{\n            List&lt;List&lt;Long&gt;&gt; matrix = getMatrix();\n            int i = getI();\n            List&lt;Long&gt; numbers = getNumbers();\n            Long limit = getLimit();\n            if(matrix.get(j).get(i).longValue() &lt;= limit){\n                numbers.add(matrix.get(j).get(i));\n                matrix.get(j).set(i,null);\n            }\n            setMatrix(matrix);\n            setI(i);\n            setNumbers(numbers);\n            setLimit(limit);\n            //System.out.println(&quot;&gt;&gt; &quot;+this.matrix);\n            //System.out.println(&quot;&gt;&gt; &quot;+this.numbers);\n        }catch (Exception e){\n            System.out.println(&quot;Errore!&quot;);\n            System.out.println(e.getMessage());\n            System.out.println(e.getCause());\n        }\n\n    }\n\n}\n\n</code></pre>\n<p>SingleThreadClass.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>package metodo_java8_moderno;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class SingleThreadClass {\n\n    public List&lt;Object&gt; editAndAdd(List&lt;List&lt;Long&gt;&gt; matrix){\n        Long limit = (long) matrix.get(0).size()*matrix.size()/2;\n        List&lt;Long&gt; numbers = new ArrayList&lt;&gt;();\n        for(int i=0; i&lt;matrix.get(0).size(); i++){\n            for(int j=0; j&lt;matrix.size(); j++){\n                if(matrix.get(j).get(i).longValue() &lt;= limit){\n                    numbers.add(matrix.get(j).get(i));\n                    matrix.get(j).set(i,null);\n                }\n            }\n        }\n        List&lt;Object&gt; objectList = new ArrayList&lt;&gt;();\n        objectList.add(matrix);\n        objectList.add(numbers);\n        return objectList;\n    }\n\n}\n\n</code></pre>\n"},{"tags":["java","html","pdf","arabic"],"comments":[{"owner":{"account_id":2085245,"reputation":2131,"user_id":1856391,"accept_rate":84,"display_name":"Maritim"},"score":0,"creation_date":1651426825,"post_id":72078958,"comment_id":127357740,"body_markdown":"Could you please provide the source code as formatted text rather than a screenshot?","body":"Could you please provide the source code as formatted text rather than a screenshot?"}],"owner":{"account_id":19288053,"reputation":31,"user_id":14098672,"display_name":"Marwa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":365,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1651435461,"creation_date":1651425984,"question_id":72078958,"body_markdown":"I want to generate a Pdf from a Html file\r\nI used ITextRenderer.\r\nThe PDf is generated without problems in english and french\r\nI have a problem to generate an Arabic Pdf the characters in Arabic are not shown.\r\nI tried to add a font that supports the Arabic, but it seemes that  the font is not applied (the font already exists in my PC)                          \r\n\r\n    ITextRenderer renderer = new ITextRenderer();                   \r\n    \t\tif (language.equals(&quot;fr&quot;)) {\r\n    \t\t\t\r\n    template = &quot;LocationBillTemplateFr&quot;;\r\n    \r\n    \t\t} else if (language.equals(&quot;en&quot;)) {\r\n    \r\n    \t\t\ttemplate = &quot;LocationBillTemplateEn&quot;;\r\n    \r\n    \t\t} else {\r\n    \r\n    \t\t\ttemplate = &quot;LocationBillTemplateAr&quot;;\r\n    \r\n    \t\r\n    \t\t\trenderer.getFontResolver().addFont(&quot;C:\\\\WINDOWS\\\\Fonts\\\\simpbdo.ttf&quot;, BaseFont.IDENTITY_H, BaseFont.EMBEDDED);\r\n    \t\t\t\r\n    \t\t}\r\n    \t\tTemplateEngine templateEngine = PdfGenerationUtils.prepareTemplateHtmlWithPdf();\r\n    \r\n    \t\tString renderedHtmlContent = templateEngine.process(template, context);\r\n    \t\tString xHtml = PdfGenerationFromHtmlUtils.convertToXhtml(renderedHtmlContent);\r\n    \t\t\r\n    \t\trenderer.setDocumentFromString(xHtml, PdfGenerationFromHtmlUtils.baseUrl());\r\n    \t\trenderer.layout();\r\n    \t\tString absolutePath = environment.getProperty(&quot;app.payment.receipt.location.folder&quot;);\r\n    \r\n    \t\tOutputStream outputStream = new FileOutputStream(\r\n    \r\n    \t\t\t\tabsolutePath + File.separator + &quot;Payment&quot; + subscriptionId + &quot;.pdf&quot;);\r\n    \t\trenderer.createPDF(outputStream);\r\n      \r\n    \t\toutputStream.close();","title":"How to add Font with ITextRender in Java","body":"<p>I want to generate a Pdf from a Html file\nI used ITextRenderer.\nThe PDf is generated without problems in english and french\nI have a problem to generate an Arabic Pdf the characters in Arabic are not shown.\nI tried to add a font that supports the Arabic, but it seemes that  the font is not applied (the font already exists in my PC)</p>\n<pre><code>ITextRenderer renderer = new ITextRenderer();                   \n        if (language.equals(&quot;fr&quot;)) {\n            \ntemplate = &quot;LocationBillTemplateFr&quot;;\n\n        } else if (language.equals(&quot;en&quot;)) {\n\n            template = &quot;LocationBillTemplateEn&quot;;\n\n        } else {\n\n            template = &quot;LocationBillTemplateAr&quot;;\n\n    \n            renderer.getFontResolver().addFont(&quot;C:\\\\WINDOWS\\\\Fonts\\\\simpbdo.ttf&quot;, BaseFont.IDENTITY_H, BaseFont.EMBEDDED);\n            \n        }\n        TemplateEngine templateEngine = PdfGenerationUtils.prepareTemplateHtmlWithPdf();\n\n        String renderedHtmlContent = templateEngine.process(template, context);\n        String xHtml = PdfGenerationFromHtmlUtils.convertToXhtml(renderedHtmlContent);\n        \n        renderer.setDocumentFromString(xHtml, PdfGenerationFromHtmlUtils.baseUrl());\n        renderer.layout();\n        String absolutePath = environment.getProperty(&quot;app.payment.receipt.location.folder&quot;);\n\n        OutputStream outputStream = new FileOutputStream(\n\n                absolutePath + File.separator + &quot;Payment&quot; + subscriptionId + &quot;.pdf&quot;);\n        renderer.createPDF(outputStream);\n  \n        outputStream.close();\n</code></pre>\n"},{"tags":["java","hibernate","oop","inheritance"],"answers":[{"tags":[],"owner":{"account_id":13113269,"reputation":86,"user_id":9473464,"display_name":"Elie Azoury"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651435276,"creation_date":1651435276,"answer_id":72080023,"question_id":72078673,"body_markdown":"You can either create a dto for class B to specify what you want to show or you can @jsonignore List&lt;B&gt; in class A if you don&#39;t need to send A as a JSON","title":"How to prevent a subclass from inheriting a field from the superclass using Hibernate?","body":"<p>You can either create a dto for class B to specify what you want to show or you can @jsonignore List in class A if you don't need to send A as a JSON</p>\n"}],"owner":{"account_id":23445570,"reputation":57,"user_id":17502975,"display_name":"lambadeltaz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":210,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651435276,"creation_date":1651423574,"question_id":72078673,"body_markdown":"I have a class A which has a List of a class B. Since the attributes of a A is similar to what a B has, I thought about using inheritance to solve my problem. But I don&#39;t want B to have a list to B, and here is my problem. How can I prevent B from inheriting the List of B from the super-class?\r\n\r\nThe super-class:\r\n\r\n```\r\n@Entity\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Data\r\n@SuperBuilder\r\n@Inheritance(strategy = InheritanceType.JOINED)\r\npublic class A\r\n{\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE)\r\n    protected Integer id;\r\n\r\n    @OneToMany(mappedBy = &quot;a&quot;)\r\n    private List&lt;B&gt; list = new ArrayList&lt;&gt;();\r\n\r\n    // other fields that I want to be inherited...\r\n}\r\n```\r\nThe subclass:\r\n```\r\n@Entity\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Getter\r\n@Setter\r\n@SuperBuilder\r\npublic class B extends A\r\n{\r\n    @JsonIgnore\r\n    @ManyToOne\r\n    @JoinColumn\r\n    private A a;\r\n}\r\n```\r\nThe JSON returned after creating the class A:\r\n```\r\n{\r\n               &quot;id&quot;: 1,\r\n               // other fields\r\n\r\n               &quot;list&quot;: [\r\n                   {\r\n                       &quot;id&quot;: 2,\r\n                       // inherited fields\r\n\r\n                       &quot;list&quot;: [], // I want to prevent this!\r\n                   }\r\n               ],\r\n}\r\n```\r\n\r\nAnd one last thing, the reason why I want to use inheritance in this case instead of creating a B class with its own fields it&#39;s because I am using a composite key for solving another problem, and both classes share this composite key.","title":"How to prevent a subclass from inheriting a field from the superclass using Hibernate?","body":"<p>I have a class A which has a List of a class B. Since the attributes of a A is similar to what a B has, I thought about using inheritance to solve my problem. But I don't want B to have a list to B, and here is my problem. How can I prevent B from inheriting the List of B from the super-class?</p>\n<p>The super-class:</p>\n<pre><code>@Entity\n@AllArgsConstructor\n@NoArgsConstructor\n@Data\n@SuperBuilder\n@Inheritance(strategy = InheritanceType.JOINED)\npublic class A\n{\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE)\n    protected Integer id;\n\n    @OneToMany(mappedBy = &quot;a&quot;)\n    private List&lt;B&gt; list = new ArrayList&lt;&gt;();\n\n    // other fields that I want to be inherited...\n}\n</code></pre>\n<p>The subclass:</p>\n<pre><code>@Entity\n@AllArgsConstructor\n@NoArgsConstructor\n@Getter\n@Setter\n@SuperBuilder\npublic class B extends A\n{\n    @JsonIgnore\n    @ManyToOne\n    @JoinColumn\n    private A a;\n}\n</code></pre>\n<p>The JSON returned after creating the class A:</p>\n<pre><code>{\n               &quot;id&quot;: 1,\n               // other fields\n\n               &quot;list&quot;: [\n                   {\n                       &quot;id&quot;: 2,\n                       // inherited fields\n\n                       &quot;list&quot;: [], // I want to prevent this!\n                   }\n               ],\n}\n</code></pre>\n<p>And one last thing, the reason why I want to use inheritance in this case instead of creating a B class with its own fields it's because I am using a composite key for solving another problem, and both classes share this composite key.</p>\n"},{"tags":["java","matrix"],"comments":[{"owner":{"account_id":18192720,"reputation":849,"user_id":13238310,"display_name":"idanz"},"score":0,"creation_date":1651308522,"post_id":72066786,"comment_id":127337441,"body_markdown":"You can&#39;t really remove a row from a 2d-array in java, you&#39;ll have to identify which row you&#39;d like to remove, and then re-create the array without this row. See reference here: https://stackoverflow.com/questions/1805147/how-to-remove-a-row-from-a-2d-array#:~:text=You%20can&#39;t%20remove%20elements,one%20you%20want%20to%20remove.","body":"You can&#39;t really remove a row from a 2d-array in java, you&#39;ll have to identify which row you&#39;d like to remove, and then re-create the array without this row. See reference here: <a href=\"https://stackoverflow.com/questions/1805147/how-to-remove-a-row-from-a-2d-array#:~:text=You%20can&#39;t%20remove%20elements,one%20you%20want%20to%20remove\" title=\"how to remove a row from a 2d array%23%3a%7e%3atext%3dYou%2520can%26%2339%3bt%2520remove%2520elements%2cone%2520you%2520want%2520to%2520remove\">stackoverflow.com/questions/1805147/&hellip;</a>."}],"answers":[{"tags":[],"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651310000,"creation_date":1651309652,"answer_id":72067101,"question_id":72066786,"body_markdown":"As @idanz has pointed out in the comments, you cannot redefine an array size, or a matrix since it&#39;s simply an array of arrays. \r\n\r\nWhat you can do though is to instantiate a new array (or in this case a new matrix) with one less row than the original matrix. In your search method you could return the index of the row to &quot;delete&quot;, then use this index to copy every element from the original matrix into the new one except for the elements within the row to &quot;delete&quot;, i.e. not to copy.\r\n\r\nOn a side note, I&#39;ve also noticed you&#39;ve improperly iterated the elements of your matrix. Your innermost loop should check the length of `matrix[i].length`, not `matrix.length`. besides, I&#39;ve also tweaked some variable and method names since they didn&#39;t respect the [naming conventions][1]. Your variables and methods should start in lower case and be written in camel-case notation.\r\n\r\n```\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n        System.out.print(&quot;Enter N: &quot;);\r\n        Scanner scanner = new Scanner(System.in);\r\n        int n = scanner.nextInt();\r\n\r\n        //Initializing and printing the matrix\r\n        Integer matrix[][] = new Integer[n][n];\r\n        initialization(matrix);\r\n        print(matrix);\r\n\r\n        //Retrieving the index row with the maximum element\r\n        int rowWithMax = search(matrix);\r\n\r\n        //Retrieving a new a matrix without the row to delete and assigning it to the old matrix\r\n        matrix = deleteRow(matrix, rowWithMax);\r\n\r\n        System.out.println(&quot;\\nNew matrix without the deleted row&quot;);\r\n        print(matrix);\r\n    }\r\n\r\n\r\n    static void print(Integer[][] matrix) {\r\n        for (int i = 0; i &lt; matrix.length; i++) {\r\n            for (int j = 0; j &lt; matrix[i].length; j++) {\r\n                System.out.print(matrix[i][j] + &quot;\\t&quot;);\r\n            }\r\n            System.out.println();\r\n        }\r\n    }\r\n\r\n    static void initialization(Integer[][] matrix) {\r\n        Random r = new Random();\r\n        System.out.println(&quot;Matrix before processing&quot;);\r\n        for (int i = 0; i &lt; matrix.length; i++) {\r\n            for (int j = 0; j &lt; matrix[i].length; j++) {\r\n                matrix[i][j] = r.nextInt(100);\r\n            }\r\n        }\r\n    }\r\n\r\n    static int search(Integer matrix[][]) {\r\n        int max = 0, rowWithMax = -1;\r\n\r\n        for (int i = 0; i &lt; matrix.length; i++) {\r\n            for (int j = 0; j &lt; matrix[i].length; j++) {\r\n                if (matrix[i][j] &gt; max) {\r\n                    max = matrix[i][j];\r\n                    rowWithMax = i;\r\n                }\r\n            }\r\n        }\r\n        System.out.println(&quot;\\nMax element in matrix: &quot; + max);\r\n        return rowWithMax;\r\n    }\r\n\r\n    static Integer[][] deleteRow(Integer matrix[][], int rowToDelete) {\r\n        //Since in Java you cannot redefine the size of an array (in this case an array of array of int)\r\n        //you need to instantiate a new matrix filled with the elements of the original matrix except\r\n        //for the row with the highest element.\r\n\r\n        //If no row must be deleted (i.e. no proper index has been passed) then the original matrix is simply returned\r\n        if (rowToDelete &lt; 0) {\r\n            return matrix;\r\n        }\r\n\r\n        Integer[][] matrix2 = new Integer[matrix.length - 1][matrix.length];\r\n        int displacedIndex;\r\n        for (int i = 0; i &lt; matrix.length; i++) {\r\n            //Skipping the row to delete (i.e. the row which must not be copied within the new matrix)\r\n            if (i != rowToDelete) {\r\n                //Since i is the row index of the original matrix, this can&#39;t be the same index for the new matrix after skipping the row to delete,\r\n                //so, we need to create a displaced index for the new matrix which corresponds to i before meeting the deleted row while to i-1 after\r\n                //meeting the deleted row\r\n                displacedIndex = i &lt; rowToDelete ? i : i - 1;\r\n\r\n                for (int j = 0; j &lt; matrix[i].length; j++) {\r\n                    matrix2[displacedIndex][j] = matrix[i][j];\r\n                }\r\n            }\r\n        }\r\n\r\n        return matrix2;\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html","title":"Find the maximum element of the matrix and delete a row with this element","body":"<p>As @idanz has pointed out in the comments, you cannot redefine an array size, or a matrix since it's simply an array of arrays.</p>\n<p>What you can do though is to instantiate a new array (or in this case a new matrix) with one less row than the original matrix. In your search method you could return the index of the row to &quot;delete&quot;, then use this index to copy every element from the original matrix into the new one except for the elements within the row to &quot;delete&quot;, i.e. not to copy.</p>\n<p>On a side note, I've also noticed you've improperly iterated the elements of your matrix. Your innermost loop should check the length of <code>matrix[i].length</code>, not <code>matrix.length</code>. besides, I've also tweaked some variable and method names since they didn't respect the <a href=\"https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html\" rel=\"nofollow noreferrer\">naming conventions</a>. Your variables and methods should start in lower case and be written in camel-case notation.</p>\n<pre><code>public class Main {\n\n    public static void main(String[] args) {\n        System.out.print(&quot;Enter N: &quot;);\n        Scanner scanner = new Scanner(System.in);\n        int n = scanner.nextInt();\n\n        //Initializing and printing the matrix\n        Integer matrix[][] = new Integer[n][n];\n        initialization(matrix);\n        print(matrix);\n\n        //Retrieving the index row with the maximum element\n        int rowWithMax = search(matrix);\n\n        //Retrieving a new a matrix without the row to delete and assigning it to the old matrix\n        matrix = deleteRow(matrix, rowWithMax);\n\n        System.out.println(&quot;\\nNew matrix without the deleted row&quot;);\n        print(matrix);\n    }\n\n\n    static void print(Integer[][] matrix) {\n        for (int i = 0; i &lt; matrix.length; i++) {\n            for (int j = 0; j &lt; matrix[i].length; j++) {\n                System.out.print(matrix[i][j] + &quot;\\t&quot;);\n            }\n            System.out.println();\n        }\n    }\n\n    static void initialization(Integer[][] matrix) {\n        Random r = new Random();\n        System.out.println(&quot;Matrix before processing&quot;);\n        for (int i = 0; i &lt; matrix.length; i++) {\n            for (int j = 0; j &lt; matrix[i].length; j++) {\n                matrix[i][j] = r.nextInt(100);\n            }\n        }\n    }\n\n    static int search(Integer matrix[][]) {\n        int max = 0, rowWithMax = -1;\n\n        for (int i = 0; i &lt; matrix.length; i++) {\n            for (int j = 0; j &lt; matrix[i].length; j++) {\n                if (matrix[i][j] &gt; max) {\n                    max = matrix[i][j];\n                    rowWithMax = i;\n                }\n            }\n        }\n        System.out.println(&quot;\\nMax element in matrix: &quot; + max);\n        return rowWithMax;\n    }\n\n    static Integer[][] deleteRow(Integer matrix[][], int rowToDelete) {\n        //Since in Java you cannot redefine the size of an array (in this case an array of array of int)\n        //you need to instantiate a new matrix filled with the elements of the original matrix except\n        //for the row with the highest element.\n\n        //If no row must be deleted (i.e. no proper index has been passed) then the original matrix is simply returned\n        if (rowToDelete &lt; 0) {\n            return matrix;\n        }\n\n        Integer[][] matrix2 = new Integer[matrix.length - 1][matrix.length];\n        int displacedIndex;\n        for (int i = 0; i &lt; matrix.length; i++) {\n            //Skipping the row to delete (i.e. the row which must not be copied within the new matrix)\n            if (i != rowToDelete) {\n                //Since i is the row index of the original matrix, this can't be the same index for the new matrix after skipping the row to delete,\n                //so, we need to create a displaced index for the new matrix which corresponds to i before meeting the deleted row while to i-1 after\n                //meeting the deleted row\n                displacedIndex = i &lt; rowToDelete ? i : i - 1;\n\n                for (int j = 0; j &lt; matrix[i].length; j++) {\n                    matrix2[displacedIndex][j] = matrix[i][j];\n                }\n            }\n        }\n\n        return matrix2;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25153678,"reputation":13,"user_id":18998746,"display_name":"Vlad"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72067101,"answer_count":1,"score":1,"last_activity_date":1651434751,"creation_date":1651306517,"question_id":72066786,"body_markdown":"I need help to complete the removal of the row with max element. I managed to read the user&#39;s input to set up the matrix dimension, filled the matrix with random numbers and search for the maximum element. However, I can&#39;t delete the row with the max element.\r\n\r\n\r\n```\r\npublic class Main {\r\n    static int MAX = 0;\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;My name&quot;);\r\n        System.out.print(&quot;Enter N: &quot;);\r\n\r\n        Scanner scanner = new Scanner(System.in);\r\n        int N = scanner.nextInt();\r\n        Integer matrix[][] = new Integer[N][N];\r\n        Initialization(matrix);\r\n        Search(matrix);\r\n    }\r\n\r\n\r\n    static void Initialization(Integer[][] matrix) {\r\n        Random r = new Random();\r\n        System.out.println(&quot;Matrix before processing&quot;);\r\n        for (int i = 0; i &lt; matrix.length; i++) {\r\n            for (int j = 0; j &lt; matrix.length; j++) {\r\n                matrix[i][j] = r.nextInt(100);\r\n                System.out.print(matrix[i][j] + &quot;\\t&quot;);\r\n            }\r\n            System.out.print(&quot;\\n&quot;);\r\n        }\r\n    }\r\n    static void Search(Integer matrix[][]) {\r\n        int max = 0;\r\n\r\n        for(int i = 0; i &lt; matrix.length; i++) {\r\n            for(int j = 0; j &lt; matrix.length; j++) {\r\n                if (matrix[i][j] &gt; max) {\r\n                    max = matrix[i][j];\r\n                }\r\n            }\r\n        }\r\n        MAX = max;\r\n        System.out.println(&quot;Max element in matrix: &quot; + max);\r\n    }\r\n}\r\n```","title":"Find the maximum element of the matrix and delete a row with this element","body":"<p>I need help to complete the removal of the row with max element. I managed to read the user's input to set up the matrix dimension, filled the matrix with random numbers and search for the maximum element. However, I can't delete the row with the max element.</p>\n<pre><code>public class Main {\n    static int MAX = 0;\n\n    public static void main(String[] args) {\n        System.out.println(&quot;My name&quot;);\n        System.out.print(&quot;Enter N: &quot;);\n\n        Scanner scanner = new Scanner(System.in);\n        int N = scanner.nextInt();\n        Integer matrix[][] = new Integer[N][N];\n        Initialization(matrix);\n        Search(matrix);\n    }\n\n\n    static void Initialization(Integer[][] matrix) {\n        Random r = new Random();\n        System.out.println(&quot;Matrix before processing&quot;);\n        for (int i = 0; i &lt; matrix.length; i++) {\n            for (int j = 0; j &lt; matrix.length; j++) {\n                matrix[i][j] = r.nextInt(100);\n                System.out.print(matrix[i][j] + &quot;\\t&quot;);\n            }\n            System.out.print(&quot;\\n&quot;);\n        }\n    }\n    static void Search(Integer matrix[][]) {\n        int max = 0;\n\n        for(int i = 0; i &lt; matrix.length; i++) {\n            for(int j = 0; j &lt; matrix.length; j++) {\n                if (matrix[i][j] &gt; max) {\n                    max = matrix[i][j];\n                }\n            }\n        }\n        MAX = max;\n        System.out.println(&quot;Max element in matrix: &quot; + max);\n    }\n}\n</code></pre>\n"},{"tags":["java","swing","jpanel","layout-manager","gridbaglayout"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1651073353,"post_id":72031218,"comment_id":127276740,"body_markdown":"Plus points for using `GridBagLayout` - a lot of Java people won&#39;t touch it\nMinus points for posting code as images. Please never post images of text. They are not searchable, we cannot copy-paste... Always copy-paste the text and format it properly.\n\nPlease post the actual code as text","body":"Plus points for using <code>GridBagLayout</code> - a lot of Java people won&#39;t touch it Minus points for posting code as images. Please never post images of text. They are not searchable, we cannot copy-paste... Always copy-paste the text and format it properly.  Please post the actual code as text"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1651104639,"post_id":72031218,"comment_id":127285925,"body_markdown":"You should have prompted me - didn&#39;t see you&#39;d edited","body":"You should have prompted me - didn&#39;t see you&#39;d edited"},{"owner":{"account_id":25117020,"reputation":15,"user_id":18965918,"display_name":"yebanko"},"score":0,"creation_date":1651144489,"post_id":72031218,"comment_id":127296210,"body_markdown":"I received help and i was told what i did wrong. Am i supposed to share the solution or delete the question since it is still closed?","body":"I received help and i was told what i did wrong. Am i supposed to share the solution or delete the question since it is still closed?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1651146410,"post_id":72031218,"comment_id":127296887,"body_markdown":"Not sure if you can. Also not sure why it was closed since you did the right thing and reposted the code properly","body":"Not sure if you can. Also not sure why it was closed since you did the right thing and reposted the code properly"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1651157573,"post_id":72031218,"comment_id":127301658,"body_markdown":"@g00se The question is open now. **OP:** Please share the solution. Then (after a time) you can click the &#39;tick&#39; box to show it is the solution (or at least the solution accepted by you!). That helps people find solutions later &amp; is the thing to do here. Glad you got it sorted. :)","body":"@g00se The question is open now. <b>OP:</b> Please share the solution. Then (after a time) you can click the &#39;tick&#39; box to show it is the solution (or at least the solution accepted by you!). That helps people find solutions later &amp; is the thing to do here. Glad you got it sorted. :)"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1651173237,"post_id":72031218,"comment_id":127307295,"body_markdown":"That&#39;s good but too late for what I was going to post by the looks ;) @yebanko - did you go to another site for your advice?","body":"That&#39;s good but too late for what I was going to post by the looks ;) @yebanko - did you go to another site for your advice?"},{"owner":{"account_id":25117020,"reputation":15,"user_id":18965918,"display_name":"yebanko"},"score":0,"creation_date":1651236531,"post_id":72031218,"comment_id":127322379,"body_markdown":"Kind of. Just sent the closed question to @dmoebius and got an private answer. And it was pretty much what was explained very well in detail in the answer below","body":"Kind of. Just sent the closed question to @dmoebius and got an private answer. And it was pretty much what was explained very well in detail in the answer below"}],"answers":[{"tags":[],"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651434744,"creation_date":1651220777,"answer_id":72054950,"question_id":72031218,"body_markdown":"**1. First of all, you need to remove this:**\r\n\r\n```java\r\npublic JPanel getContentPane() {\r\n    return contentPane;\r\n}\r\n\r\npublic void setContentPane(JPanel contentPane) {\r\n    this.contentPane = contentPane;\r\n}\r\n```\r\n\r\nbecause you basically override the base logic of `JFrame`, hence you may (and likely will) break something.\r\n\r\n**2. The second thing is** that putting component to the grid cells with constraints does not automatically stretch them across the area. If to refer to the [documentation][1], you will see that:\r\n\r\n&gt; Essentially, GridBagLayout places components in rectangles (cells) in a grid, and then uses the components&#39; preferred sizes to determine how big the cells should be.\r\n\r\n**3. Automatic stretching** can be achieved with `fill` property of constraints. But you still need to declare the required sizes somehow.\r\n\r\n**4. The sizes** specification can be set up with `weightx` and `weighty` properties of constraints.\r\n\r\n&gt;Weights are used to determine how to distribute space among columns (weightx) and among rows (weighty); this is important for specifying resizing behavior. \r\n\r\nSo in your simple case you basically have two columns where one have `0.7` of x weight and another have `0.3`.\r\n\r\nThe below code demonstrates the complete solution:\r\n\r\n```java\r\nclass MyFrame extends JFrame {\r\n\r\n    private JPanel contentPane;\r\n\r\n    public MyFrame (){\r\n        contentPane = new JPanel();\r\n        contentPane.setLayout(new GridBagLayout());\r\n\r\n        GridBagConstraints gbc = new GridBagConstraints();\r\n        gbc.gridx = 0;\r\n        gbc.gridy = 0;\r\n        gbc.gridwidth = 1;\r\n        gbc.gridheight = 1;\r\n        gbc.weightx = 0.2/0.3;\r\n        gbc.weighty = 1;\r\n        gbc.fill = GridBagConstraints.BOTH;\r\n        JPanel blue = new JPanel();\r\n        blue.setBackground(Color.BLUE);\r\n        contentPane.add(blue, gbc);\r\n\r\n        gbc.gridx = 1;\r\n        gbc.gridy = 0;\r\n        gbc.gridwidth = 1;\r\n        gbc.gridheight = 1;\r\n        gbc.weightx = 0.1/0.3;\r\n        gbc.weighty = 1;\r\n        JPanel green = new JPanel();\r\n        green.setBackground(Color.green);\r\n        contentPane.add(green, gbc);\r\n\r\n        setContentPane(contentPane);\r\n        setPreferredSize(new Dimension(630, 650));\r\n        pack();\r\n        this.setDefaultCloseOperation(EXIT_ON_CLOSE);\r\n        this.setVisible(true);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        new MyFrame();\r\n    }\r\n}\r\n```\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/uiswing/layout/gridbag.html\r\n  [2]: https://i.stack.imgur.com/hQ2O0.png","title":"Trying to use a GridBagLayout to manage JPanels in Java","body":"<p><strong>1. First of all, you need to remove this:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public JPanel getContentPane() {\n    return contentPane;\n}\n\npublic void setContentPane(JPanel contentPane) {\n    this.contentPane = contentPane;\n}\n</code></pre>\n<p>because you basically override the base logic of <code>JFrame</code>, hence you may (and likely will) break something.</p>\n<p><strong>2. The second thing is</strong> that putting component to the grid cells with constraints does not automatically stretch them across the area. If to refer to the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/gridbag.html\" rel=\"nofollow noreferrer\">documentation</a>, you will see that:</p>\n<blockquote>\n<p>Essentially, GridBagLayout places components in rectangles (cells) in a grid, and then uses the components' preferred sizes to determine how big the cells should be.</p>\n</blockquote>\n<p><strong>3. Automatic stretching</strong> can be achieved with <code>fill</code> property of constraints. But you still need to declare the required sizes somehow.</p>\n<p><strong>4. The sizes</strong> specification can be set up with <code>weightx</code> and <code>weighty</code> properties of constraints.</p>\n<blockquote>\n<p>Weights are used to determine how to distribute space among columns (weightx) and among rows (weighty); this is important for specifying resizing behavior.</p>\n</blockquote>\n<p>So in your simple case you basically have two columns where one have <code>0.7</code> of x weight and another have <code>0.3</code>.</p>\n<p>The below code demonstrates the complete solution:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class MyFrame extends JFrame {\n\n    private JPanel contentPane;\n\n    public MyFrame (){\n        contentPane = new JPanel();\n        contentPane.setLayout(new GridBagLayout());\n\n        GridBagConstraints gbc = new GridBagConstraints();\n        gbc.gridx = 0;\n        gbc.gridy = 0;\n        gbc.gridwidth = 1;\n        gbc.gridheight = 1;\n        gbc.weightx = 0.2/0.3;\n        gbc.weighty = 1;\n        gbc.fill = GridBagConstraints.BOTH;\n        JPanel blue = new JPanel();\n        blue.setBackground(Color.BLUE);\n        contentPane.add(blue, gbc);\n\n        gbc.gridx = 1;\n        gbc.gridy = 0;\n        gbc.gridwidth = 1;\n        gbc.gridheight = 1;\n        gbc.weightx = 0.1/0.3;\n        gbc.weighty = 1;\n        JPanel green = new JPanel();\n        green.setBackground(Color.green);\n        contentPane.add(green, gbc);\n\n        setContentPane(contentPane);\n        setPreferredSize(new Dimension(630, 650));\n        pack();\n        this.setDefaultCloseOperation(EXIT_ON_CLOSE);\n        this.setVisible(true);\n    }\n\n    public static void main(String[] args) {\n        new MyFrame();\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/hQ2O0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hQ2O0.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":25117020,"reputation":15,"user_id":18965918,"display_name":"yebanko"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72054950,"answer_count":1,"score":1,"last_activity_date":1651434744,"creation_date":1651072460,"question_id":72031218,"body_markdown":"I am currently making my first steps with GUIs and am right now just trying to make a `JFrame` with two `JPanel` containers according to my work of art here:\r\n\r\n[![https://i.stack.imgur.com/5wq1f.png][1]][1]\r\n\r\nI chose the `GridBagLayout` since I want it to be resizeable later but keep the given proportions, yet I&#39;m having a hard time understanding how all of this works. \r\n\r\nMy current code looks like this:\r\n\r\n\r\n\r\n    import java.awt.*;\r\n    import javax.swing.*;\r\n    \r\n    public class MyFrame extends JFrame {\r\n    \r\n    \t private JPanel contentPane;\r\n    \t \t \r\n    \tpublic JPanel getContentPane() {\r\n    \t\treturn contentPane;\r\n    \t}\r\n    \r\n    \tpublic void setContentPane(JPanel contentPane) {\r\n    \t\tthis.contentPane = contentPane;\r\n    \t}\r\n    \r\n    \tpublic MyFrame (){\r\n    \r\n    \t\tcontentPane = new JPanel();\r\n    \t\tcontentPane.setLayout(new GridBagLayout());\r\n    \t\tGridBagConstraints gbc = new GridBagConstraints();\r\n    \r\n    \t\tgbc.gridx = 0;\r\n    \t\tgbc.gridy = 0;\r\n    \t\tgbc.gridwidth = 2;\r\n    \t\tgbc.gridheight = 3;\r\n    \t\tJPanel blue = new JPanel();\r\n    \t\tblue.setBackground(Color.BLUE);\r\n    \r\n    \t\tcontentPane.add(blue, gbc);\r\n    \r\n    \r\n    \t\tgbc.gridx = 2;\r\n    \t\tgbc.gridy = 0;\r\n    \t\tgbc.gridwidth = 1;\r\n    \t\tgbc.gridheight = 3;\r\n    \t\tJPanel gruen = new JPanel();\r\n    \t\tgruen.setBackground(Color.green);\r\n    \t\tcontentPane.add(gruen, gbc);\r\n    \r\n    \t\tthis.setPreferredSize(new Dimension(630, 650));\r\n    \t\tthis.pack();\r\n    \t\tthis.setLocationRelativeTo(null);\r\n    \t\tthis.setDefaultCloseOperation(EXIT_ON_CLOSE);\r\n    \t\tthis.setVisible(true);\r\n    \t\tthis.setContentPane(contentPane);\r\n    \t}\r\n\r\n        public static void main(String[] args) {\r\n            new MyFrame();\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\nWhich gives me this empty window:\r\n\r\n[![https://i.stack.imgur.com/jmIo5.png][3]][3]\r\n\r\nIf someone could tell me what I&#39;m doing wrong that would be great. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5wq1f.png\r\n  [2]: https://i.stack.imgur.com/i0U6t.png\r\n  [3]: https://i.stack.imgur.com/jmIo5.png\r\n","title":"Trying to use a GridBagLayout to manage JPanels in Java","body":"<p>I am currently making my first steps with GUIs and am right now just trying to make a <code>JFrame</code> with two <code>JPanel</code> containers according to my work of art here:</p>\n<p><a href=\"https://i.stack.imgur.com/5wq1f.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5wq1f.png\" alt=\"https://i.stack.imgur.com/5wq1f.png\" /></a></p>\n<p>I chose the <code>GridBagLayout</code> since I want it to be resizeable later but keep the given proportions, yet I'm having a hard time understanding how all of this works.</p>\n<p>My current code looks like this:</p>\n<pre><code>import java.awt.*;\nimport javax.swing.*;\n\npublic class MyFrame extends JFrame {\n\n     private JPanel contentPane;\n         \n    public JPanel getContentPane() {\n        return contentPane;\n    }\n\n    public void setContentPane(JPanel contentPane) {\n        this.contentPane = contentPane;\n    }\n\n    public MyFrame (){\n\n        contentPane = new JPanel();\n        contentPane.setLayout(new GridBagLayout());\n        GridBagConstraints gbc = new GridBagConstraints();\n\n        gbc.gridx = 0;\n        gbc.gridy = 0;\n        gbc.gridwidth = 2;\n        gbc.gridheight = 3;\n        JPanel blue = new JPanel();\n        blue.setBackground(Color.BLUE);\n\n        contentPane.add(blue, gbc);\n\n\n        gbc.gridx = 2;\n        gbc.gridy = 0;\n        gbc.gridwidth = 1;\n        gbc.gridheight = 3;\n        JPanel gruen = new JPanel();\n        gruen.setBackground(Color.green);\n        contentPane.add(gruen, gbc);\n\n        this.setPreferredSize(new Dimension(630, 650));\n        this.pack();\n        this.setLocationRelativeTo(null);\n        this.setDefaultCloseOperation(EXIT_ON_CLOSE);\n        this.setVisible(true);\n        this.setContentPane(contentPane);\n    }\n\n    public static void main(String[] args) {\n        new MyFrame();\n    }\n}\n</code></pre>\n<p>Which gives me this empty window:</p>\n<p><a href=\"https://i.stack.imgur.com/jmIo5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jmIo5.png\" alt=\"https://i.stack.imgur.com/jmIo5.png\" /></a></p>\n<p>If someone could tell me what I'm doing wrong that would be great.</p>\n"},{"tags":["java","security"],"answers":[{"tags":[],"owner":{"account_id":24889248,"reputation":21,"user_id":18761450,"display_name":"TryToProgram"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651318754,"creation_date":1651318754,"answer_id":72068184,"question_id":72068087,"body_markdown":"All the software i bought for my pc has to be registered once with a license key via internet or has a usb licenser. So maybe this are some ideas something for you. The disadvantages, running a server for product registration or sending an usb-licenser to the costumer. But i&#39;m interested if there are any other solutions","title":"How to make a application that cannot be resold without the developers permission","body":"<p>All the software i bought for my pc has to be registered once with a license key via internet or has a usb licenser. So maybe this are some ideas something for you. The disadvantages, running a server for product registration or sending an usb-licenser to the costumer. But i'm interested if there are any other solutions</p>\n"},{"tags":[],"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1651320106,"creation_date":1651319582,"answer_id":72068289,"question_id":72068087,"body_markdown":"I have a server. Some actions within some of my apps will call to the server with some status info. So I know who uses my software. This is plainly stated in the contracts, so no secret stuff.\r\n\r\nIf I want to limit my software, I do the following:\r\n - when my app starts, it collects some system infos and hashes/CRCs them\r\n - if there&#39;s a matching file, whose contents match the system infos hash, I unlock the app\r\n - if there&#39;s no such file, or the hash inside it does not match (different system, manipulated, etc) I will (re-)register\r\n - registering is either done \r\n - - by showing the client the hash, forcing him to call/email me, or \r\n - - the app connects to my server, checks registration infos, shows the page, and then forces user to pay, or unlocks, depending on some other infos i gathered.\r\n - on the server side (or manually) I create a key matching the system info hash key\r\n - that key gets back into the app (internet or typed manually) and the app checks if that new code matches its system info hash\r\n - if keys match, write key to file, and unlock the app\r\n\r\n2 downsides:\r\n - java is really easy to reverse-engineer:\r\n - - someone could create a hash generator and create the missing/wrong system info hash file\r\n - - if you connect through the internet, you should use SSL/TLS, because in other cases, someone could just reverse-engineer (telnet) the answer the app needs to unlock\r\n - - a good method to prevent reversen-engineering or to make it a lot lot harder is to create pure .exe/elf files. GraalVM native-image is one of those tools that can accomplish such feats. (only using an exe wrapper is rather pointless when it comes to code security, but i good for users)\r\n - whenever the client changes things in his hardware, he has to register/reconnect again\r\n","title":"How to make a application that cannot be resold without the developers permission","body":"<p>I have a server. Some actions within some of my apps will call to the server with some status info. So I know who uses my software. This is plainly stated in the contracts, so no secret stuff.</p>\n<p>If I want to limit my software, I do the following:</p>\n<ul>\n<li>when my app starts, it collects some system infos and hashes/CRCs them</li>\n<li>if there's a matching file, whose contents match the system infos hash, I unlock the app</li>\n<li>if there's no such file, or the hash inside it does not match (different system, manipulated, etc) I will (re-)register</li>\n<li>registering is either done</li>\n<li>\n<ul>\n<li>by showing the client the hash, forcing him to call/email me, or</li>\n</ul>\n</li>\n<li>\n<ul>\n<li>the app connects to my server, checks registration infos, shows the page, and then forces user to pay, or unlocks, depending on some other infos i gathered.</li>\n</ul>\n</li>\n<li>on the server side (or manually) I create a key matching the system info hash key</li>\n<li>that key gets back into the app (internet or typed manually) and the app checks if that new code matches its system info hash</li>\n<li>if keys match, write key to file, and unlock the app</li>\n</ul>\n<p>2 downsides:</p>\n<ul>\n<li>java is really easy to reverse-engineer:</li>\n<li>\n<ul>\n<li>someone could create a hash generator and create the missing/wrong system info hash file</li>\n</ul>\n</li>\n<li>\n<ul>\n<li>if you connect through the internet, you should use SSL/TLS, because in other cases, someone could just reverse-engineer (telnet) the answer the app needs to unlock</li>\n</ul>\n</li>\n<li>\n<ul>\n<li>a good method to prevent reversen-engineering or to make it a lot lot harder is to create pure .exe/elf files. GraalVM native-image is one of those tools that can accomplish such feats. (only using an exe wrapper is rather pointless when it comes to code security, but i good for users)</li>\n</ul>\n</li>\n<li>whenever the client changes things in his hardware, he has to register/reconnect again</li>\n</ul>\n"}],"owner":{"account_id":17668318,"reputation":75,"user_id":12825149,"display_name":"Mateo Matijević Bošnjak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":72068289,"answer_count":2,"score":3,"last_activity_date":1651434728,"creation_date":1651317945,"question_id":72068087,"body_markdown":"This is my first time working on a solo Java project that would generate income from direct sales (meaning I would sell the product instead of a third-party platform). \r\n\r\nI was curious as to the following: &lt;b&gt;How can a developer prevent a customer to simply distribute his/her software?&lt;/b&gt;\r\n\r\nI realize that there are always ways to bypass any sort of security that a developer can put into their project. However, seeing that my product will be run locally (.exe or jar file) there is no way for me to monitor what my client is doing after I sell the product. \r\n\r\nIs there a way to put some sort of &quot;illusionary wall&quot; that someone without more advanced knowledge cannot bypass?\r\n\r\nAny tips, suggestion or references are greatly appreciated.","title":"How to make a application that cannot be resold without the developers permission","body":"<p>This is my first time working on a solo Java project that would generate income from direct sales (meaning I would sell the product instead of a third-party platform).</p>\n<p>I was curious as to the following: <b>How can a developer prevent a customer to simply distribute his/her software?</b></p>\n<p>I realize that there are always ways to bypass any sort of security that a developer can put into their project. However, seeing that my product will be run locally (.exe or jar file) there is no way for me to monitor what my client is doing after I sell the product.</p>\n<p>Is there a way to put some sort of &quot;illusionary wall&quot; that someone without more advanced knowledge cannot bypass?</p>\n<p>Any tips, suggestion or references are greatly appreciated.</p>\n"},{"tags":["java","hbase"],"answers":[{"tags":[],"owner":{"account_id":15618743,"reputation":13,"user_id":13877285,"display_name":"Dark Morning"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651240980,"creation_date":1651240980,"answer_id":72059191,"question_id":72057925,"body_markdown":"The problem is solved by adding a waiting time between operations.\r\n```\r\n.....\r\nadmin.splitRegionAsync(regionName, byteSplit);\r\nThread.sleep(30000);\r\n.....\r\n```","title":"Regions In Transition в java application","body":"<p>The problem is solved by adding a waiting time between operations.</p>\n<pre><code>.....\nadmin.splitRegionAsync(regionName, byteSplit);\nThread.sleep(30000);\n.....\n</code></pre>\n"}],"owner":{"account_id":15618743,"reputation":13,"user_id":13877285,"display_name":"Dark Morning"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72059191,"answer_count":1,"score":0,"last_activity_date":1651434723,"creation_date":1651235007,"question_id":72057925,"body_markdown":"Please tell me what&#39;s wrong, I&#39;m new to working with hbase. when creating regions in a java application for hbase, an error occurs below then.\r\n\r\n    Caused by: org.apache.hadoop.hbase.ipc.RemoteWithExtrasException(org.apache.hadoop.hbase.client.DoNotRetryRegionException): org.apache.hadoop.hbase.client.DoNotRetryRegionException: bc3ec95b447809887e3c198afe4d1084 is not OPEN; regionState={bc3ec95b447809887e3c198afe4d1084 state=CLOSING, ts=1651224527248, server=hbase-docker,16020,1651207907804}\r\n\r\nCode as below:\r\n```\r\n\r\nbyte[][] splits = getSplits(countSplits, countSlot);\r\n        for (byte[] byteSplit : splits) {\r\n            byte[] regionName = admin.getRegions(tableName).get(admin.getRegions(tableName).size() - 1).getRegionName();\r\n            admin.splitRegionAsync(regionName, byteSplit);\r\n        }\r\n\r\n```\r\nThis code is executed and 1 region out of 20 required is created. After creating the first one, the error above occurs. What needs to be added? I hope for any help","title":"Regions In Transition в java application","body":"<p>Please tell me what's wrong, I'm new to working with hbase. when creating regions in a java application for hbase, an error occurs below then.</p>\n<pre><code>Caused by: org.apache.hadoop.hbase.ipc.RemoteWithExtrasException(org.apache.hadoop.hbase.client.DoNotRetryRegionException): org.apache.hadoop.hbase.client.DoNotRetryRegionException: bc3ec95b447809887e3c198afe4d1084 is not OPEN; regionState={bc3ec95b447809887e3c198afe4d1084 state=CLOSING, ts=1651224527248, server=hbase-docker,16020,1651207907804}\n</code></pre>\n<p>Code as below:</p>\n<pre><code>\nbyte[][] splits = getSplits(countSplits, countSlot);\n        for (byte[] byteSplit : splits) {\n            byte[] regionName = admin.getRegions(tableName).get(admin.getRegions(tableName).size() - 1).getRegionName();\n            admin.splitRegionAsync(regionName, byteSplit);\n        }\n\n</code></pre>\n<p>This code is executed and 1 region out of 20 required is created. After creating the first one, the error above occurs. What needs to be added? I hope for any help</p>\n"},{"tags":["java","image-processing","colors","rgb","bufferedimage"],"comments":[{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1569221015,"post_id":25761438,"comment_id":102511057,"body_markdown":"Official explanation: [DirectColorModel](https://docs.oracle.com/en/java/javase/13/docs/api/java.desktop/java/awt/image/DirectColorModel.html)","body":"Official explanation: <a href=\"https://docs.oracle.com/en/java/javase/13/docs/api/java.desktop/java/awt/image/DirectColorModel.html\" rel=\"nofollow noreferrer\">DirectColorModel</a>"}],"answers":[{"tags":[],"owner":{"account_id":1886487,"reputation":396557,"user_id":1705598,"accept_rate":92,"display_name":"icza"},"down_vote_count":0,"up_vote_count":77,"is_accepted":false,"score":77,"last_activity_date":1471960487,"creation_date":1410340359,"answer_id":25761560,"question_id":25761438,"body_markdown":"The RGB `int` color contains the Red, Green, Blue components of the color in its bits. You have to look at its binary or hexadecimal representation and not look at it as a whole integer number (not look at its decimal representation).\r\n\r\nAn `int` has 32 bits, 3x8 = 24 is used to store the RGB components (8 bits for each) in the following format:\r\n\r\n                   2          1          0\r\n    bitpos      32109876 54321098 76543210\r\n    ------   --+--------+--------+--------+\r\n    bits     ..|RRRRRRRR|GGGGGGGG|BBBBBBBB|\r\n\r\nYou can extract or set the components using bitmasks:\r\n\r\n    int color = img.getRGB(x, y);\r\n\r\n    // Components will be in the range of 0..255:\r\n    int blue = color &amp; 0xff;\r\n    int green = (color &amp; 0xff00) &gt;&gt; 8;\r\n    int red = (color &amp; 0xff0000) &gt;&gt; 16;\r\n\r\nIf the color also has an alpha component (transparency) ARGB, it gets the last remaining 8 bits.\r\n\r\n               3          2          1          0\r\n    bitpos    10987654 32109876 54321098 76543210\r\n    ------   +--------+--------+--------+--------+\r\n    bits     |AAAAAAAA|RRRRRRRR|GGGGGGGG|BBBBBBBB|\r\n\r\nAnd the value:\r\n\r\n    int alpha = (color &amp; 0xff000000) &gt;&gt;&gt; 24; // Note the &gt;&gt;&gt; shift\r\n                                             // required due to sign bit\r\n\r\nAn alpha value of 255 means that a color is completely opaque and a value of 0 means that the color is completely transparent.\r\n\r\n**Your color:**\r\n\r\nYour color is `color = -16755216` which has:\r\n\r\n    blue : 240         // Strong blue\r\n    green:  85         // A little green mixed in\r\n    red  :   0         // No red component at all\r\n    alpha: 255         // Completely opaque","title":"Understanding BufferedImage.getRGB output values","body":"<p>The RGB <code>int</code> color contains the Red, Green, Blue components of the color in its bits. You have to look at its binary or hexadecimal representation and not look at it as a whole integer number (not look at its decimal representation).</p>\n\n<p>An <code>int</code> has 32 bits, 3x8 = 24 is used to store the RGB components (8 bits for each) in the following format:</p>\n\n<pre><code>               2          1          0\nbitpos      32109876 54321098 76543210\n------   --+--------+--------+--------+\nbits     ..|RRRRRRRR|GGGGGGGG|BBBBBBBB|\n</code></pre>\n\n<p>You can extract or set the components using bitmasks:</p>\n\n<pre><code>int color = img.getRGB(x, y);\n\n// Components will be in the range of 0..255:\nint blue = color &amp; 0xff;\nint green = (color &amp; 0xff00) &gt;&gt; 8;\nint red = (color &amp; 0xff0000) &gt;&gt; 16;\n</code></pre>\n\n<p>If the color also has an alpha component (transparency) ARGB, it gets the last remaining 8 bits.</p>\n\n<pre><code>           3          2          1          0\nbitpos    10987654 32109876 54321098 76543210\n------   +--------+--------+--------+--------+\nbits     |AAAAAAAA|RRRRRRRR|GGGGGGGG|BBBBBBBB|\n</code></pre>\n\n<p>And the value:</p>\n\n<pre><code>int alpha = (color &amp; 0xff000000) &gt;&gt;&gt; 24; // Note the &gt;&gt;&gt; shift\n                                         // required due to sign bit\n</code></pre>\n\n<p>An alpha value of 255 means that a color is completely opaque and a value of 0 means that the color is completely transparent.</p>\n\n<p><strong>Your color:</strong></p>\n\n<p>Your color is <code>color = -16755216</code> which has:</p>\n\n<pre><code>blue : 240         // Strong blue\ngreen:  85         // A little green mixed in\nred  :   0         // No red component at all\nalpha: 255         // Completely opaque\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4456643,"reputation":8628,"user_id":3626698,"accept_rate":78,"display_name":"afzalex"},"down_vote_count":0,"up_vote_count":50,"is_accepted":true,"score":50,"last_activity_date":1651434692,"creation_date":1410340371,"answer_id":25761567,"question_id":25761438,"body_markdown":"`getRGB(int x, int y)` return you the value of color pixel at location **(x,y)**.  \r\nYou are misinterpreting the returned value.  \r\nIt is in the binary format.\r\nlike 11...11010101 and that is given to you as int value.  \r\nIf you want to get RGB (i.e. Red, Green, Blue) components of that value use Color class. e.g.  \r\n\r\n    Color mycolor = new Color(img.getRGB(x, y));\r\n\r\nThen you can get the Red, Green, Blue, or Alpha values by using `getRed()`, `getGreen()`, `getBlue()`, `getAlpha()`.\r\nThen an `int` value will be returned by these methods in familiar format having value `0 &lt; value &lt; 255`\r\n\r\n    int red = mycolor.getRed();\r\n\r\nIf you don&#39;t want to use `Color` class then you will need to use bitwise operations to get its value. ","title":"Understanding BufferedImage.getRGB output values","body":"<p><code>getRGB(int x, int y)</code> return you the value of color pixel at location <strong>(x,y)</strong>.<br />\nYou are misinterpreting the returned value.<br />\nIt is in the binary format.\nlike 11...11010101 and that is given to you as int value.<br />\nIf you want to get RGB (i.e. Red, Green, Blue) components of that value use Color class. e.g.</p>\n<pre><code>Color mycolor = new Color(img.getRGB(x, y));\n</code></pre>\n<p>Then you can get the Red, Green, Blue, or Alpha values by using <code>getRed()</code>, <code>getGreen()</code>, <code>getBlue()</code>, <code>getAlpha()</code>.\nThen an <code>int</code> value will be returned by these methods in familiar format having value <code>0 &lt; value &lt; 255</code></p>\n<pre><code>int red = mycolor.getRed();\n</code></pre>\n<p>If you don't want to use <code>Color</code> class then you will need to use bitwise operations to get its value.</p>\n"},{"tags":[],"owner":{"account_id":15903,"reputation":323433,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1410340397,"creation_date":1410340397,"answer_id":25761579,"question_id":25761438,"body_markdown":"It&#39;s [explained in the docs][1]:\r\n\r\n&gt; Returns an integer pixel in the default RGB color model (TYPE_INT_ARGB) [...]\r\n\r\nSo you get 8 bits alpha channel, 8 bits red, 8 bits green, 8 bits blue.\r\n\r\nA simple (and slow way) to examine the value is to use `new java.awt.Color(colour, true);` and then call the getters.\r\n\r\nOr you can print the value as an unsigned 32bit hex value: `Integer.toString(colour, 16)`. Each two characters of the output will be one part of the ARGB set.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/awt/image/BufferedImage.html#getRGB(int,%20int)","title":"Understanding BufferedImage.getRGB output values","body":"<p>It's <a href=\"http://docs.oracle.com/javase/7/docs/api/java/awt/image/BufferedImage.html#getRGB(int,%20int)\" rel=\"noreferrer\">explained in the docs</a>:</p>\n\n<blockquote>\n  <p>Returns an integer pixel in the default RGB color model (TYPE_INT_ARGB) [...]</p>\n</blockquote>\n\n<p>So you get 8 bits alpha channel, 8 bits red, 8 bits green, 8 bits blue.</p>\n\n<p>A simple (and slow way) to examine the value is to use <code>new java.awt.Color(colour, true);</code> and then call the getters.</p>\n\n<p>Or you can print the value as an unsigned 32bit hex value: <code>Integer.toString(colour, 16)</code>. Each two characters of the output will be one part of the ARGB set.</p>\n"},{"tags":[],"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1523626466,"creation_date":1410340442,"answer_id":25761598,"question_id":25761438,"body_markdown":"See the [implementation][1] of `ColorModel.getRgb`:\r\n\r\n\r\n\r\n    589  public int getRGB(int pixel) {\r\n    590        return (getAlpha(pixel) &lt;&lt; 24)\r\n    591             | (getRed(pixel) &lt;&lt; 16)\r\n    592             | (getGreen(pixel) &lt;&lt; 8)\r\n    593             | (getBlue(pixel) &lt;&lt; 0);\r\n    594   }\r\n\r\n\r\n  [1]: http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/awt/image/ColorModel.java#ColorModel.getAlpha%28int%29","title":"Understanding BufferedImage.getRGB output values","body":"<p>See the <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/awt/image/ColorModel.java#ColorModel.getAlpha%28int%29\" rel=\"nofollow noreferrer\">implementation</a> of <code>ColorModel.getRgb</code>:</p>\n\n<pre><code>589  public int getRGB(int pixel) {\n590        return (getAlpha(pixel) &lt;&lt; 24)\n591             | (getRed(pixel) &lt;&lt; 16)\n592             | (getGreen(pixel) &lt;&lt; 8)\n593             | (getBlue(pixel) &lt;&lt; 0);\n594   }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3522487,"reputation":71,"user_id":2944412,"display_name":"ben"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1410340806,"creation_date":1410340806,"answer_id":25761702,"question_id":25761438,"body_markdown":"Actually,You can transform the int to binary string by Integer.toBinaryString(-16755216),which is 11111111000000000101010111110000.it made up of 4 bytes: alpha, red, green, blue. The values are unpremultiplied, meaning any transparency is stored solely in the alpha component, and not in the color components. The components are stored as follows (alpha &lt;&lt; 24) | (red &lt;&lt; 16) | (green &lt;&lt; 8) | blue. Each component ranges between 0..255 with 0 meaning no contribution for that component, and 255 meaning 100% contribution. Thus opaque-black would be 0xFF000000 (100% opaque but no contributions from red, green, or blue), and opaque-white would be 0xFFFFFFFF.","title":"Understanding BufferedImage.getRGB output values","body":"<p>Actually,You can transform the int to binary string by Integer.toBinaryString(-16755216),which is 11111111000000000101010111110000.it made up of 4 bytes: alpha, red, green, blue. The values are unpremultiplied, meaning any transparency is stored solely in the alpha component, and not in the color components. The components are stored as follows (alpha &lt;&lt; 24) | (red &lt;&lt; 16) | (green &lt;&lt; 8) | blue. Each component ranges between 0..255 with 0 meaning no contribution for that component, and 255 meaning 100% contribution. Thus opaque-black would be 0xFF000000 (100% opaque but no contributions from red, green, or blue), and opaque-white would be 0xFFFFFFFF.</p>\n"}],"owner":{"account_id":4967737,"reputation":537,"user_id":3996479,"accept_rate":75,"display_name":"leonardo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90975,"favorite_count":0,"down_vote_count":0,"up_vote_count":50,"accepted_answer_id":25761567,"answer_count":5,"score":50,"last_activity_date":1651434692,"creation_date":1410340013,"question_id":25761438,"body_markdown":"I&#39;m getting an integer value for the pixel in an image using this method:\r\n\r\n    int colour = img.getRGB(x, y);\r\n\r\nThen I&#39;m printing out the values and I see that black pixels correspond to a value like &quot;-16777216&quot;, a kind of blue to something like &quot;-16755216&quot;, etc. Can someone please explain me the logic behind this value? ","title":"Understanding BufferedImage.getRGB output values","body":"<p>I'm getting an integer value for the pixel in an image using this method:</p>\n\n<pre><code>int colour = img.getRGB(x, y);\n</code></pre>\n\n<p>Then I'm printing out the values and I see that black pixels correspond to a value like \"-16777216\", a kind of blue to something like \"-16755216\", etc. Can someone please explain me the logic behind this value? </p>\n"},{"tags":["java","localdatetime","datetimeformatter"],"comments":[{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":2,"creation_date":1651428783,"post_id":72079248,"comment_id":127358155,"body_markdown":"`uuuu` is ever so slightly more likely than `yyyy`, but, mostly: What is that `&#39;` doing there? There is no `&#39;` in your input string. Get rid of that.","body":"<code>uuuu</code> is ever so slightly more likely than <code>yyyy</code>, but, mostly: What is that <code>&#39;</code> doing there? There is no <code>&#39;</code> in your input string. Get rid of that."},{"owner":{"account_id":2085245,"reputation":2131,"user_id":1856391,"accept_rate":84,"display_name":"Maritim"},"score":0,"creation_date":1651428809,"post_id":72079248,"comment_id":127358160,"body_markdown":"This could potentially be a duplicate of https://stackoverflow.com/questions/48043903/java-8-localdatetime-how-to-keep-000-milliseconds-in-string-conversion","body":"This could potentially be a duplicate of <a href=\"https://stackoverflow.com/questions/48043903/java-8-localdatetime-how-to-keep-000-milliseconds-in-string-conversion\" title=\"java 8 localdatetime how to keep 000 milliseconds in string conversion\">stackoverflow.com/questions/48043903/&hellip;</a>"},{"owner":{"account_id":14495033,"reputation":43,"user_id":10469922,"display_name":"satyam pandey"},"score":0,"creation_date":1651429482,"post_id":72079248,"comment_id":127358314,"body_markdown":"&#39;Z&#39; to parse &quot;+00:00&quot;, i tried removing &#39;&#39; from Z but the given date is not getting parsed.  @rzwitserloot","body":"&#39;Z&#39; to parse &quot;+00:00&quot;, i tried removing &#39;&#39; from Z but the given date is not getting parsed.  @rzwitserloot"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1651429936,"post_id":72079248,"comment_id":127358410,"body_markdown":"Hint: use the `DateTimeFormat` to `format()` a `OffsetDateTime` to see what your format looks like (`&#39;Z&#39;` is just a literal `Z`)","body":"Hint: use the <code>DateTimeFormat</code> to <code>format()</code> a <code>OffsetDateTime</code> to see what your format looks like (<code>&#39;Z&#39;</code> is just a literal <code>Z</code>)"},{"owner":{"account_id":2163224,"reputation":6602,"user_id":1916917,"accept_rate":60,"display_name":"Holloway"},"score":0,"creation_date":1654604931,"post_id":72079248,"comment_id":128125982,"body_markdown":"@rzwitserloot Not saying it&#39;s needed here but the `&#39;` is to mark literal text to match and is part of the format spec for `DateTimeFormatter` - it doesn&#39;t match a `&#39;` in the input. See docs [here](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/format/DateTimeFormatter.html) in the pattern letters table. They would be required if OP wanted to match a literal `Z` character.","body":"@rzwitserloot Not saying it&#39;s needed here but the <code>&#39;</code> is to mark literal text to match and is part of the format spec for <code>DateTimeFormatter</code> - it doesn&#39;t match a <code>&#39;</code> in the input. See docs <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\">here</a> in the pattern letters table. They would be required if OP wanted to match a literal <code>Z</code> character."}],"answers":[{"tags":[],"owner":{"account_id":1573234,"reputation":2850,"user_id":3476764,"display_name":"Taco Jan Osinga"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1651428835,"creation_date":1651428835,"answer_id":72079283,"question_id":72079248,"body_markdown":"Have you tried `&quot;yyyy-MM-dd HH:mm:ss.SSSSSS+00:00&quot;`?","title":"DateTimeFormatter String to LocalDateTime","body":"<p>Have you tried <code>&quot;yyyy-MM-dd HH:mm:ss.SSSSSS+00:00&quot;</code>?</p>\n"},{"tags":[],"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1651434690,"creation_date":1651430789,"answer_id":72079518,"question_id":72079248,"body_markdown":"It&#39;s not working because the UTC Time offsets hasn&#39;t been written properly. It should look like this with a custom `DateTimeFormatter`:\r\n\r\n```\r\n//Custom DatTimeFormatter\r\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss.SSSSSSZZZZZ&quot;);\r\nformatter.parse(&quot;2022-04-30 14:34:52.900426+00:00&quot;);\r\n```\r\n\r\nYou could either use the predefined `ISO_OFFSET_DATE_TIME` `DatTimeFormatter` &lt;b&gt;only&lt;/b&gt; by replacing the space between date and time with a capital T, as the [standard][1] requires.\r\n\r\n```\r\n//Predefined DateTimeFormatter\r\nDateTimeFormatter.ISO_OFFSET_DATE_TIME.parse(&quot;2022-04-30T14:34:52.900426+00:00&quot;);\r\n```\r\n\r\nBesides, to answer your question under @Taco Jan Osinga&#39;s reply: \r\n\r\nNo, it is not correct to use &quot;+00:00&quot; to just match the datetime you&#39;re trying to parse. That custom `DateTimeFormatter` you would build would only match datetime referring to your local TimeZone; thus it won&#39;t work with datetime from different areas.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/ISO_8601","title":"DateTimeFormatter String to LocalDateTime","body":"<p>It's not working because the UTC Time offsets hasn't been written properly. It should look like this with a custom <code>DateTimeFormatter</code>:</p>\n<pre><code>//Custom DatTimeFormatter\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss.SSSSSSZZZZZ&quot;);\nformatter.parse(&quot;2022-04-30 14:34:52.900426+00:00&quot;);\n</code></pre>\n<p>You could either use the predefined <code>ISO_OFFSET_DATE_TIME</code> <code>DatTimeFormatter</code> <b>only</b> by replacing the space between date and time with a capital T, as the <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">standard</a> requires.</p>\n<pre><code>//Predefined DateTimeFormatter\nDateTimeFormatter.ISO_OFFSET_DATE_TIME.parse(&quot;2022-04-30T14:34:52.900426+00:00&quot;);\n</code></pre>\n<p>Besides, to answer your question under @Taco Jan Osinga's reply:</p>\n<p>No, it is not correct to use &quot;+00:00&quot; to just match the datetime you're trying to parse. That custom <code>DateTimeFormatter</code> you would build would only match datetime referring to your local TimeZone; thus it won't work with datetime from different areas.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1651434362,"creation_date":1651433641,"answer_id":72079845,"question_id":72079248,"body_markdown":"# tl;dr\r\n\r\n    OffsetDateTime                          // Use `OffsetDateTime`, not `LocalDateTime`, to represent a date with time and offset. \r\n    .parse( \r\n        &quot;2022-04-30 14:34:52.900426+00:00&quot;  // Almost in ISO 8601 format.\r\n        .replace( &quot; &quot; , &quot;T&quot; )               // Replace SPACE with T to comply with ISO 8691.\r\n    ) \r\n\r\nSee this [code run live at IdeOne.com][1].\r\n\r\n# Wrong class, use `OffsetDateTime`, not `LocalDateTime`\r\n\r\n`LocalDateTime` is exactly the wing class to use in this case. That represents a date with time-of-day. But your input indicates a date with time-of-day *and* an offset-from-UTC. The `+00:00` means an offset of zero hours-minutes-seconds from UTC. \r\n\r\nSo parse that input as a `OffsetDateTime` object instead. \r\n\r\nRather than define a formatting pattern, I suggest merely replacing the SPACE  in the middle with a `T` to comply with the [ISO 8601][2] standard used by default in the *java.time* classes when parsing/generating text.\r\n\r\n    String input = &quot;2022-04-30 14:34:52.900426+00:00&quot;.replace( &quot; &quot; , &quot;T&quot; ) ; \r\n    OffsetDateTime odt = OffsetDateTime.parse( input ) ;\r\n\r\n\r\n  [1]: https://ideone.com/0XCDst\r\n  [2]: https://en.wikipedia.org/wiki/ISO_8601","title":"DateTimeFormatter String to LocalDateTime","body":"<h1>tl;dr</h1>\n<pre><code>OffsetDateTime                          // Use `OffsetDateTime`, not `LocalDateTime`, to represent a date with time and offset. \n.parse( \n    &quot;2022-04-30 14:34:52.900426+00:00&quot;  // Almost in ISO 8601 format.\n    .replace( &quot; &quot; , &quot;T&quot; )               // Replace SPACE with T to comply with ISO 8691.\n) \n</code></pre>\n<p>See this <a href=\"https://ideone.com/0XCDst\" rel=\"nofollow noreferrer\">code run live at IdeOne.com</a>.</p>\n<h1>Wrong class, use <code>OffsetDateTime</code>, not <code>LocalDateTime</code></h1>\n<p><code>LocalDateTime</code> is exactly the wing class to use in this case. That represents a date with time-of-day. But your input indicates a date with time-of-day <em>and</em> an offset-from-UTC. The <code>+00:00</code> means an offset of zero hours-minutes-seconds from UTC.</p>\n<p>So parse that input as a <code>OffsetDateTime</code> object instead.</p>\n<p>Rather than define a formatting pattern, I suggest merely replacing the SPACE  in the middle with a <code>T</code> to comply with the <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> standard used by default in the <em>java.time</em> classes when parsing/generating text.</p>\n<pre><code>String input = &quot;2022-04-30 14:34:52.900426+00:00&quot;.replace( &quot; &quot; , &quot;T&quot; ) ; \nOffsetDateTime odt = OffsetDateTime.parse( input ) ;\n</code></pre>\n"}],"owner":{"account_id":14495033,"reputation":43,"user_id":10469922,"display_name":"satyam pandey"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":677,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":72079518,"answer_count":3,"score":0,"last_activity_date":1651434690,"creation_date":1651428589,"question_id":72079248,"body_markdown":"I am trying to convert the value `2022-04-30 14:34:52.900426+00:00` an instance of `LocalDateTime`. I have written the following code:\r\n\r\n```\r\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss.SSSSSS&#39;Z&#39;&quot;);\r\n```\r\n\r\nI am getting the following error \r\n\r\n&gt; could not be parsed at index 26\r\n\r\nWhat should my formatter string be?","title":"DateTimeFormatter String to LocalDateTime","body":"<p>I am trying to convert the value <code>2022-04-30 14:34:52.900426+00:00</code> an instance of <code>LocalDateTime</code>. I have written the following code:</p>\n<pre><code>DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss.SSSSSS'Z'&quot;);\n</code></pre>\n<p>I am getting the following error</p>\n<blockquote>\n<p>could not be parsed at index 26</p>\n</blockquote>\n<p>What should my formatter string be?</p>\n"},{"tags":["java","spring","soap","header","webservicetemplate"],"comments":[{"owner":{"account_id":2080660,"reputation":6691,"user_id":1852714,"accept_rate":8,"display_name":"Angelo Immediata"},"score":0,"creation_date":1517837208,"post_id":48623512,"comment_id":84243821,"body_markdown":"may you add your spring ws configuration?","body":"may you add your spring ws configuration?"},{"owner":{"account_id":533485,"reputation":2992,"user_id":903885,"accept_rate":87,"display_name":"Hasan Can Saral"},"score":0,"creation_date":1517837943,"post_id":48623512,"comment_id":84244275,"body_markdown":"@AngeloImmediata Updated the question, thanks!","body":"@AngeloImmediata Updated the question, thanks!"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1517838682,"post_id":48623512,"comment_id":84244763,"body_markdown":"Assuming you are on a recent version Spring Web Services you don&#39;t need to know the exact class. You can use the `HeadersAwareSenderWebServiceConnection` interface to add headers to the underlying request. You don&#39;t need to cast.","body":"Assuming you are on a recent version Spring Web Services you don&#39;t need to know the exact class. You can use the <code>HeadersAwareSenderWebServiceConnection</code> interface to add headers to the underlying request. You don&#39;t need to cast."}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1517838926,"creation_date":1517838845,"answer_id":48624154,"question_id":48623512,"body_markdown":"Use the [`HeadersAwareSenderWebServiceConnection`][1] interface instead of the actual underlying connection. \r\n\r\n    TransportContext context = TransportContextHolder.getTransportContext();\r\n    HeadersAwareSenderWebServiceConnection connection = (HeadersAwareSenderWebServiceConnection) context.getConnection();\r\n    connection.addRequestHeader(&quot;Authorization&quot;, String.format(&quot;Bearer %s&quot;, &quot;********&quot;));\r\n\r\nNow if you upgrade/switch HTTP library you don&#39;t need to change this code. \r\n\r\nTo answer your question about what you are doing wrong is that you are casting to the wrong class. Yes the class you are using is *deprecated* but it is part of the library you are using, you cannot just cast to a different class without changing the underlying HTTP library. \r\n\r\n[1]: https://docs.spring.io/spring-ws/docs/current/api/org/springframework/ws/transport/HeadersAwareSenderWebServiceConnection.html","title":"Cannot Add Http Headers to Message with Spring&#39;s WebServiceTemplate","body":"<p>Use the <a href=\"https://docs.spring.io/spring-ws/docs/current/api/org/springframework/ws/transport/HeadersAwareSenderWebServiceConnection.html\" rel=\"noreferrer\"><code>HeadersAwareSenderWebServiceConnection</code></a> interface instead of the actual underlying connection. </p>\n\n<pre><code>TransportContext context = TransportContextHolder.getTransportContext();\nHeadersAwareSenderWebServiceConnection connection = (HeadersAwareSenderWebServiceConnection) context.getConnection();\nconnection.addRequestHeader(\"Authorization\", String.format(\"Bearer %s\", \"********\"));\n</code></pre>\n\n<p>Now if you upgrade/switch HTTP library you don't need to change this code. </p>\n\n<p>To answer your question about what you are doing wrong is that you are casting to the wrong class. Yes the class you are using is <em>deprecated</em> but it is part of the library you are using, you cannot just cast to a different class without changing the underlying HTTP library. </p>\n"},{"tags":[],"owner":{"account_id":2080660,"reputation":6691,"user_id":1852714,"accept_rate":8,"display_name":"Angelo Immediata"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1517839309,"creation_date":1517839309,"answer_id":48624298,"question_id":48623512,"body_markdown":"What I did in past is to use a `WebServiceMessageCallback` like this one:\r\n\r\n\r\n    public class WsHttpHeaderCallback implements WebServiceMessageCallback\r\n    {\r\n    \tprivate String headerKey;\r\n    \tprivate String headerValue;\r\n    \tprivate String soapAction;\r\n    \t\r\n    \tpublic WsHttpHeaderCallback(String headerKey, String headerValue, String soapAction)\r\n    \t{\r\n    \t\tsuper();\r\n    \t\tthis.headerKey = headerKey;\r\n    \t\tthis.headerValue = headerValue;\r\n    \t\tthis.soapAction = soapAction;\r\n    \t\tvalidateRequiredFields();\r\n    \t}\r\n    \r\n    \tpublic WsHttpHeaderCallback()\r\n    \t{\r\n    \t\tsuper();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void doWithMessage(WebServiceMessage message) throws IOException, TransformerException\r\n    \t{\r\n    \t\tvalidateRequiredFields();\r\n    \t\taddRequestHeader(headerKey, headerValue);\r\n    \t\tif (StringUtils.hasText(this.soapAction))\r\n    \t\t{\r\n    \t\t\tAxiomSoapMessage axiomMessage = (AxiomSoapMessage) message;\r\n    \t\t\taxiomMessage.setSoapAction(this.soapAction);\r\n    \t\t}\t\t\r\n    \t}\r\n    \tprivate void validateRequiredFields()\r\n    \t{\r\n    \t\tif( !StringUtils.hasText(headerKey) )\r\n    \t\t{\r\n    \t\t\tthrow new IllegalArgumentException(&quot;Impossibile proseguire. Passato HEADER HTTP con chiave non valida: [&quot;+headerKey+&quot;]&quot;);\r\n    \t\t}\r\n    \t\tif( !StringUtils.hasText(headerValue) )\r\n    \t\t{\r\n    \t\t\tthrow new IllegalArgumentException(&quot;Impossibile proseguire. Passato HEADER HTTP con valore non valido: [&quot;+headerValue+&quot;]&quot;);\r\n    \t\t}\t\t\r\n    \t}\r\n    \tprivate void addRequestHeader(String headerKey, String headerValue)\r\n    \t{\r\n    \t\tTransportContext context = TransportContextHolder.getTransportContext();\r\n    \t\tWebServiceConnection connection = context.getConnection();\r\n    \t\tif (connection instanceof HttpComponentsConnection)\r\n    \t\t{\r\n    \t\t\tHttpComponentsConnection conn = (HttpComponentsConnection) connection;\r\n    \t\t\tHttpPost post = conn.getHttpPost();\r\n    \t\t\tpost.addHeader(headerKey, headerValue);\t\r\n    \t\t}\r\n    \t\telse if( connection instanceof ClientHttpRequestConnection )\r\n    \t\t{\r\n    \t\t\tClientHttpRequestConnection conn = (ClientHttpRequestConnection)connection;\r\n    \t\t\tconn.getClientHttpRequest().getHeaders().add(headerKey, headerValue);\r\n    \t\t}\r\n    \t}\t\r\n    }\r\n\r\nThen I used it in this way:\r\n\r\n    wsTemplate.marshalSendAndReceive(wsUrl, request, new WsHttpHeaderCallback(headerKey, headerValue, soapAction) );\r\n\r\nIn this way I successfully set all the needed HttpHeaders (in my case just one :) )\r\n\r\nI hope it is usefull\r\n\r\nAngelo\r\n","title":"Cannot Add Http Headers to Message with Spring&#39;s WebServiceTemplate","body":"<p>What I did in past is to use a <code>WebServiceMessageCallback</code> like this one:</p>\n\n<pre><code>public class WsHttpHeaderCallback implements WebServiceMessageCallback\n{\n    private String headerKey;\n    private String headerValue;\n    private String soapAction;\n\n    public WsHttpHeaderCallback(String headerKey, String headerValue, String soapAction)\n    {\n        super();\n        this.headerKey = headerKey;\n        this.headerValue = headerValue;\n        this.soapAction = soapAction;\n        validateRequiredFields();\n    }\n\n    public WsHttpHeaderCallback()\n    {\n        super();\n    }\n\n    @Override\n    public void doWithMessage(WebServiceMessage message) throws IOException, TransformerException\n    {\n        validateRequiredFields();\n        addRequestHeader(headerKey, headerValue);\n        if (StringUtils.hasText(this.soapAction))\n        {\n            AxiomSoapMessage axiomMessage = (AxiomSoapMessage) message;\n            axiomMessage.setSoapAction(this.soapAction);\n        }       \n    }\n    private void validateRequiredFields()\n    {\n        if( !StringUtils.hasText(headerKey) )\n        {\n            throw new IllegalArgumentException(\"Impossibile proseguire. Passato HEADER HTTP con chiave non valida: [\"+headerKey+\"]\");\n        }\n        if( !StringUtils.hasText(headerValue) )\n        {\n            throw new IllegalArgumentException(\"Impossibile proseguire. Passato HEADER HTTP con valore non valido: [\"+headerValue+\"]\");\n        }       \n    }\n    private void addRequestHeader(String headerKey, String headerValue)\n    {\n        TransportContext context = TransportContextHolder.getTransportContext();\n        WebServiceConnection connection = context.getConnection();\n        if (connection instanceof HttpComponentsConnection)\n        {\n            HttpComponentsConnection conn = (HttpComponentsConnection) connection;\n            HttpPost post = conn.getHttpPost();\n            post.addHeader(headerKey, headerValue); \n        }\n        else if( connection instanceof ClientHttpRequestConnection )\n        {\n            ClientHttpRequestConnection conn = (ClientHttpRequestConnection)connection;\n            conn.getClientHttpRequest().getHeaders().add(headerKey, headerValue);\n        }\n    }   \n}\n</code></pre>\n\n<p>Then I used it in this way:</p>\n\n<pre><code>wsTemplate.marshalSendAndReceive(wsUrl, request, new WsHttpHeaderCallback(headerKey, headerValue, soapAction) );\n</code></pre>\n\n<p>In this way I successfully set all the needed HttpHeaders (in my case just one :) )</p>\n\n<p>I hope it is usefull</p>\n\n<p>Angelo</p>\n"},{"tags":[],"owner":{"account_id":6568457,"reputation":900,"user_id":5077268,"display_name":"Arpit Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1518686062,"creation_date":1517839812,"answer_id":48624443,"question_id":48623512,"body_markdown":"TL;DR\r\nYour **messageSender** should be an instance of **[HttpComponentsMessageSender][1]** instead of **[HttpUrlConnectionMessageSender][2]**. Also you need to provide proper credentials.\r\n\r\n**[getConnection()][3]** function of **[TransportContext][4]** returns an implementation of **[WebServiceConnection][5]**. Both **[HttpUrlConnection][6]** and **[HttpComponentsConnection][7]** are implementations of the same. So basically you are getting the wrong type of connection,hence the *ClassCastException*.\r\n\r\nThe **ClientInterceptor** will work for custom headers but not for **Authorization** header. For that, your **HttpComponentsMessageSender** needs to be configured with your credentials.\r\n\r\nThe proper configuration should be like [this][8] \r\n\r\n    @Value(&quot;${username}&quot;)\r\n    private String username;\r\n\r\n    @Value(&quot;${password}&quot;)\r\n    private String password;\r\n \r\n    @Bean\r\n    public SomeClient someClient() {\r\n\r\n      SomeClientImpl service =  new SomeClientImpl();\r\n      service.setMessageSender();\r\n      //other configs\r\n    \r\n      return service;\r\n    }\r\n\r\n    public HttpComponentsMessageSender getMessageSender(){\r\n      HttpComponentsMessageSender httpComponentsMessageSender = new HttpComponentsMessageSender();\r\n      httpComponentsMessageSender.setCredentials(getCredentials);\r\n    }\r\n\r\n    public UsernamePasswordCredentials getCredentials(){\r\n      return new UsernamePasswordCredentials(username, password);\r\n    }\r\n\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-ws/site/apidocs/org/springframework/ws/transport/http/HttpComponentsMessageSender.html\r\n  [2]: https://docs.spring.io/spring-ws/site/apidocs/org/springframework/ws/transport/http/HttpUrlConnectionMessageSender.html\r\n  [3]: https://docs.spring.io/spring-ws/site/apidocs/org/springframework/ws/transport/context/TransportContext.html#getConnection()\r\n  [4]: https://docs.spring.io/spring-ws/site/apidocs/org/springframework/ws/transport/context/TransportContext.html\r\n  [5]: https://docs.spring.io/spring-ws/site/apidocs/org/springframework/ws/transport/WebServiceConnection.html\r\n  [6]: https://docs.spring.io/spring-ws/site/apidocs/org/springframework/ws/transport/http/HttpUrlConnection.html\r\n  [7]: https://docs.spring.io/spring-ws/site/apidocs/org/springframework/ws/transport/http/HttpComponentsConnection.html\r\n  [8]: https://docs.spring.io/spring-ws/site/reference/html/client.html","title":"Cannot Add Http Headers to Message with Spring&#39;s WebServiceTemplate","body":"<p>TL;DR\nYour <strong>messageSender</strong> should be an instance of <strong><a href=\"https://docs.spring.io/spring-ws/site/apidocs/org/springframework/ws/transport/http/HttpComponentsMessageSender.html\" rel=\"nofollow noreferrer\">HttpComponentsMessageSender</a></strong> instead of <strong><a href=\"https://docs.spring.io/spring-ws/site/apidocs/org/springframework/ws/transport/http/HttpUrlConnectionMessageSender.html\" rel=\"nofollow noreferrer\">HttpUrlConnectionMessageSender</a></strong>. Also you need to provide proper credentials.</p>\n\n<p><strong><a href=\"https://docs.spring.io/spring-ws/site/apidocs/org/springframework/ws/transport/context/TransportContext.html#getConnection()\" rel=\"nofollow noreferrer\">getConnection()</a></strong> function of <strong><a href=\"https://docs.spring.io/spring-ws/site/apidocs/org/springframework/ws/transport/context/TransportContext.html\" rel=\"nofollow noreferrer\">TransportContext</a></strong> returns an implementation of <strong><a href=\"https://docs.spring.io/spring-ws/site/apidocs/org/springframework/ws/transport/WebServiceConnection.html\" rel=\"nofollow noreferrer\">WebServiceConnection</a></strong>. Both <strong><a href=\"https://docs.spring.io/spring-ws/site/apidocs/org/springframework/ws/transport/http/HttpUrlConnection.html\" rel=\"nofollow noreferrer\">HttpUrlConnection</a></strong> and <strong><a href=\"https://docs.spring.io/spring-ws/site/apidocs/org/springframework/ws/transport/http/HttpComponentsConnection.html\" rel=\"nofollow noreferrer\">HttpComponentsConnection</a></strong> are implementations of the same. So basically you are getting the wrong type of connection,hence the <em>ClassCastException</em>.</p>\n\n<p>The <strong>ClientInterceptor</strong> will work for custom headers but not for <strong>Authorization</strong> header. For that, your <strong>HttpComponentsMessageSender</strong> needs to be configured with your credentials.</p>\n\n<p>The proper configuration should be like <a href=\"https://docs.spring.io/spring-ws/site/reference/html/client.html\" rel=\"nofollow noreferrer\">this</a> </p>\n\n<pre><code>@Value(\"${username}\")\nprivate String username;\n\n@Value(\"${password}\")\nprivate String password;\n\n@Bean\npublic SomeClient someClient() {\n\n  SomeClientImpl service =  new SomeClientImpl();\n  service.setMessageSender();\n  //other configs\n\n  return service;\n}\n\npublic HttpComponentsMessageSender getMessageSender(){\n  HttpComponentsMessageSender httpComponentsMessageSender = new HttpComponentsMessageSender();\n  httpComponentsMessageSender.setCredentials(getCredentials);\n}\n\npublic UsernamePasswordCredentials getCredentials(){\n  return new UsernamePasswordCredentials(username, password);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1497674,"reputation":1983,"user_id":1403246,"display_name":"maheeka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651434664,"creation_date":1651434664,"answer_id":72079958,"question_id":48623512,"body_markdown":"I went through a similar exercise, for an `endpointInterceptor` the connection returns a `HttpServletConnection`. Therefore used the following and managed to get the HTTP headers added. \r\n```\r\nHttpServletConnection connection = (HttpServletConnection)context.getConnection();\r\n        HttpServletResponse response = connection.getHttpServletResponse();\r\n        HttpServletRequest request = connection.getHttpServletRequest();\r\n        response.addHeader(&quot;myheader&quot;, &quot;myvalue&quot;);\r\n```\r\n\r\nSome additional tips:\r\n1. If you want to send back the same header you received in the request, use following in the `handleResponse` method of the `endpointInterceptor`\r\n```\r\nresponse.addHeader(&quot;myheader&quot;, request.getHeader(&quot;myheader&quot;));\r\n```\r\n2. If you are trying to add custom headers in an `clientInterceptor` to send to a downstream use below in the `handleRequest` method,\r\n```\r\nHttpUrlConnection connection = (HttpUrlConnection)context.getConnection();\r\nconnection.addRequestHeader(&quot;myheader&quot;, &quot;myvalue&quot;);\r\n```\r\n","title":"Cannot Add Http Headers to Message with Spring&#39;s WebServiceTemplate","body":"<p>I went through a similar exercise, for an <code>endpointInterceptor</code> the connection returns a <code>HttpServletConnection</code>. Therefore used the following and managed to get the HTTP headers added.</p>\n<pre><code>HttpServletConnection connection = (HttpServletConnection)context.getConnection();\n        HttpServletResponse response = connection.getHttpServletResponse();\n        HttpServletRequest request = connection.getHttpServletRequest();\n        response.addHeader(&quot;myheader&quot;, &quot;myvalue&quot;);\n</code></pre>\n<p>Some additional tips:</p>\n<ol>\n<li>If you want to send back the same header you received in the request, use following in the <code>handleResponse</code> method of the <code>endpointInterceptor</code></li>\n</ol>\n<pre><code>response.addHeader(&quot;myheader&quot;, request.getHeader(&quot;myheader&quot;));\n</code></pre>\n<ol start=\"2\">\n<li>If you are trying to add custom headers in an <code>clientInterceptor</code> to send to a downstream use below in the <code>handleRequest</code> method,</li>\n</ol>\n<pre><code>HttpUrlConnection connection = (HttpUrlConnection)context.getConnection();\nconnection.addRequestHeader(&quot;myheader&quot;, &quot;myvalue&quot;);\n</code></pre>\n"}],"owner":{"account_id":533485,"reputation":2992,"user_id":903885,"accept_rate":87,"display_name":"Hasan Can Saral"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10956,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":48624154,"answer_count":4,"score":3,"last_activity_date":1651434664,"creation_date":1517836693,"question_id":48623512,"body_markdown":"I have a fairly simple case where I am trying to add HTTP headers (not SOAP headers) to a request I am making using Spring&#39;s `WebServiceTemplate`.\r\n\r\nI have defined a `ClientInterceptor` where I am doing:\r\n\r\n    @Override\r\n        public boolean handleRequest(MessageContext messageContext) throws WebServiceClientException {\r\n        \r\n            try {\r\n                TransportContext context = TransportContextHolder.getTransportContext();\r\n                HttpComponentsConnection connection = (HttpComponentsConnection) context.getConnection();\r\n                connection.addRequestHeader(&quot;Authorization&quot;, String.format(&quot;Bearer %s&quot;, someAccessToken));\r\n            } catch (IOException exception) {\r\n                // Do nothing\r\n            }\r\n\r\n            return true;\r\n            }\r\n\r\nThis is how I configure my `SomeClient` which extends `WebServiceConfigurationSupport`:\r\n\r\n    @Bean\r\n    public SomeClient someClient() {\r\n\r\n        ...\r\n        \r\n        SomeClientImpl service =  new SomeClientImpl();\r\n\r\n        service.setObjectFactory(new com.path.ObjectFactory());\r\n        service.setDefaultUri(someUri);\r\n        service.setMarshaller(marshaller);\r\n        service.setUnmarshaller(marshaller);\r\n        service.setxStreamMarshaller(xStreamMarshaller);\r\n        service.setInterceptors(new ClientInterceptor[]{wss4jSecurityInterceptor()});\r\n        service.setMessageSender(new HttpComponentsMessageSender());\r\n        service.setInterceptors(new ClientInterceptor[]{wss4jSecurityInterceptor(), addHttpHeaderInterceptor()});\r\n        return service;\r\n    }\r\n\r\n    @Bean\r\n    public ClientInterceptor addHttpHeaderInterceptor() {\r\n        return new AddHttpHeaderInterceptor(someAccessToken);\r\n    }\r\n\r\n    @Bean\r\n    public Wss4jSecurityInterceptor wss4jSecurityInterceptor() {\r\n\r\n        Wss4jSecurityInterceptor interceptor = new Wss4jSecurityInterceptor();\r\n\r\n        interceptor.setSecurementActions(securementAction);\r\n        interceptor.setSecurementUsername(securementUsername);\r\n        interceptor.setSecurementPassword(securementPassword);\r\n        interceptor.setSecurementPasswordType(WSConstants.PW_TEXT);\r\n        interceptor.setSecurementMustUnderstand(false);\r\n\r\n        return interceptor;\r\n    }\r\n\r\nBut the `Authorization` header is not being added. I have also tried with a `CustomMessageCallback`:\r\n\r\n    public class CustomMessageCallback implements WebServiceMessageCallback {\r\n        private String headerKey;\r\n        private String headerValue;\r\n    \r\n        public CustomMessageCallback(String headerKey, String headerValue) {\r\n            this.headerKey = headerKey;\r\n            this.headerValue = headerValue;\r\n        }\r\n    \r\n        @Override\r\n        public void doWithMessage(WebServiceMessage webServiceMessage) throws IOException, TransformerException {\r\n    \r\n            TransportContext context = TransportContextHolder.getTransportContext();\r\n            HttpComponentsConnection conn = (HttpComponentsConnection) context.getConnection();\r\n    \r\n            HttpPost post = conn.getHttpPost();\r\n            post.addHeader(headerKey, headerValue);\r\n        }\r\n    }\r\n\r\nBut it does not seem to work as well. What am I doing wrong, why the `Authorization` header is not being added? Thanks!\r\n\r\n  [1]: https://stackoverflow.com/questions/3169237/setting-a-custom-http-header-dynamically-with-spring-ws-client\r\n","title":"Cannot Add Http Headers to Message with Spring&#39;s WebServiceTemplate","body":"<p>I have a fairly simple case where I am trying to add HTTP headers (not SOAP headers) to a request I am making using Spring's <code>WebServiceTemplate</code>.</p>\n\n<p>I have defined a <code>ClientInterceptor</code> where I am doing:</p>\n\n<pre><code>@Override\n    public boolean handleRequest(MessageContext messageContext) throws WebServiceClientException {\n\n        try {\n            TransportContext context = TransportContextHolder.getTransportContext();\n            HttpComponentsConnection connection = (HttpComponentsConnection) context.getConnection();\n            connection.addRequestHeader(\"Authorization\", String.format(\"Bearer %s\", someAccessToken));\n        } catch (IOException exception) {\n            // Do nothing\n        }\n\n        return true;\n        }\n</code></pre>\n\n<p>This is how I configure my <code>SomeClient</code> which extends <code>WebServiceConfigurationSupport</code>:</p>\n\n<pre><code>@Bean\npublic SomeClient someClient() {\n\n    ...\n\n    SomeClientImpl service =  new SomeClientImpl();\n\n    service.setObjectFactory(new com.path.ObjectFactory());\n    service.setDefaultUri(someUri);\n    service.setMarshaller(marshaller);\n    service.setUnmarshaller(marshaller);\n    service.setxStreamMarshaller(xStreamMarshaller);\n    service.setInterceptors(new ClientInterceptor[]{wss4jSecurityInterceptor()});\n    service.setMessageSender(new HttpComponentsMessageSender());\n    service.setInterceptors(new ClientInterceptor[]{wss4jSecurityInterceptor(), addHttpHeaderInterceptor()});\n    return service;\n}\n\n@Bean\npublic ClientInterceptor addHttpHeaderInterceptor() {\n    return new AddHttpHeaderInterceptor(someAccessToken);\n}\n\n@Bean\npublic Wss4jSecurityInterceptor wss4jSecurityInterceptor() {\n\n    Wss4jSecurityInterceptor interceptor = new Wss4jSecurityInterceptor();\n\n    interceptor.setSecurementActions(securementAction);\n    interceptor.setSecurementUsername(securementUsername);\n    interceptor.setSecurementPassword(securementPassword);\n    interceptor.setSecurementPasswordType(WSConstants.PW_TEXT);\n    interceptor.setSecurementMustUnderstand(false);\n\n    return interceptor;\n}\n</code></pre>\n\n<p>But the <code>Authorization</code> header is not being added. I have also tried with a <code>CustomMessageCallback</code>:</p>\n\n<pre><code>public class CustomMessageCallback implements WebServiceMessageCallback {\n    private String headerKey;\n    private String headerValue;\n\n    public CustomMessageCallback(String headerKey, String headerValue) {\n        this.headerKey = headerKey;\n        this.headerValue = headerValue;\n    }\n\n    @Override\n    public void doWithMessage(WebServiceMessage webServiceMessage) throws IOException, TransformerException {\n\n        TransportContext context = TransportContextHolder.getTransportContext();\n        HttpComponentsConnection conn = (HttpComponentsConnection) context.getConnection();\n\n        HttpPost post = conn.getHttpPost();\n        post.addHeader(headerKey, headerValue);\n    }\n}\n</code></pre>\n\n<p>But it does not seem to work as well. What am I doing wrong, why the <code>Authorization</code> header is not being added? Thanks!</p>\n"},{"tags":["java","algorithm","recursion"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1651433213,"post_id":72079778,"comment_id":127359123,"body_markdown":"Please read: [How to debug small programs (`https://ericlippert.com/`)](https://ericlippert.com/2014/03/05/how-to-debug-small-programs/)","body":"Please read: <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">How to debug small programs (<code>https:&#47;&#47;ericlippert.com&#47;</code>)</a>"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651433886,"creation_date":1651433441,"answer_id":72079830,"question_id":72079778,"body_markdown":"When you run this code\r\n```\r\ntricky2(n - 2);\r\nSystem.out.print(n);\r\n```\r\nThe result is being printed in ascending order because statement `System.out.print(n);` is being executed after the very last recursive call in the branch of execution created by the line `tricky2(n- 2);`.\r\n\r\nConversely, when this snippet is being executed.\r\n```\r\nSystem.out.print(n);\r\ntricky2(n - 2);\r\n```\r\nThe number will be printed on the console before the recursive call. Therefore, numbers will get printed in the descending order (from highest to lowest).","title":"Why Recursive method prints numbers backwards","body":"<p>When you run this code</p>\n<pre><code>tricky2(n - 2);\nSystem.out.print(n);\n</code></pre>\n<p>The result is being printed in ascending order because statement <code>System.out.print(n);</code> is being executed after the very last recursive call in the branch of execution created by the line <code>tricky2(n- 2);</code>.</p>\n<p>Conversely, when this snippet is being executed.</p>\n<pre><code>System.out.print(n);\ntricky2(n - 2);\n</code></pre>\n<p>The number will be printed on the console before the recursive call. Therefore, numbers will get printed in the descending order (from highest to lowest).</p>\n"}],"owner":{"account_id":23449058,"reputation":25,"user_id":17505462,"display_name":"MRSinal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1651434227,"answer_count":1,"score":0,"last_activity_date":1651434389,"creation_date":1651433026,"question_id":72079778,"body_markdown":"Why is recursion backwards when I call the function before printing but not if I print after calling the function?\r\n\r\nFor some reason I don&#39;t understand why the recursive method prints backward when it&#39;s the function is being called before the print and why is it not backward when I print before calling the function. \r\n\r\nCould someone explain it to me?\r\n\r\n\r\n    public void tricky1(int n) {\r\n        if (n &gt;= 0) {\r\n            System.out.print(n);\r\n            tricky1(n - 2);\r\n         }\r\n    }\r\n\r\nSecond\r\n\r\n    public void tricky2(int n) {\r\n        if (n &gt;= 0) {\r\n            tricky2(n - 2);\r\n            System.out.print(n);\r\n        }\r\n    }","title":"Why Recursive method prints numbers backwards","body":"<p>Why is recursion backwards when I call the function before printing but not if I print after calling the function?</p>\n<p>For some reason I don't understand why the recursive method prints backward when it's the function is being called before the print and why is it not backward when I print before calling the function.</p>\n<p>Could someone explain it to me?</p>\n<pre><code>public void tricky1(int n) {\n    if (n &gt;= 0) {\n        System.out.print(n);\n        tricky1(n - 2);\n     }\n}\n</code></pre>\n<p>Second</p>\n<pre><code>public void tricky2(int n) {\n    if (n &gt;= 0) {\n        tricky2(n - 2);\n        System.out.print(n);\n    }\n}\n</code></pre>\n"},{"tags":["java","android","mysql","sql"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1438608737,"post_id":31788598,"comment_id":51505593,"body_markdown":"What advantages and disadvantages do you think this approach has?","body":"What advantages and disadvantages do you think this approach has?"},{"owner":{"account_id":2011141,"reputation":7317,"user_id":1799530,"accept_rate":47,"display_name":"SomeJavaGuy"},"score":0,"creation_date":1438608745,"post_id":31788598,"comment_id":51505597,"body_markdown":"Allways use the [PreparedStatement](http://docs.oracle.com/javase/7/docs/api/java/sql/PreparedStatement.html)","body":"Allways use the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/sql/PreparedStatement.html\" rel=\"nofollow noreferrer\">PreparedStatement</a>"},{"owner":{"account_id":2676612,"reputation":13615,"user_id":2312877,"accept_rate":82,"display_name":"Kritner"},"score":0,"creation_date":1438608846,"post_id":31788598,"comment_id":51505669,"body_markdown":"I think best practices are to use stored procedures or to use an ORM, this is neither.  For what reason are you going this direction?  Is there a specific reason?  You haven&#39;t given much information.","body":"I think best practices are to use stored procedures or to use an ORM, this is neither.  For what reason are you going this direction?  Is there a specific reason?  You haven&#39;t given much information."},{"owner":{"account_id":4654013,"reputation":11203,"user_id":4370279,"accept_rate":61,"display_name":"theapache64"},"score":0,"creation_date":1438609260,"post_id":31788598,"comment_id":51505994,"body_markdown":"@Kayaman : most of the tutorial doing like this. http://www.vogella.com/tutorials/AndroidSQLite/article.html . even the official documentation. I think the database modification can be easy.","body":"@Kayaman : most of the tutorial doing like this. <a href=\"http://www.vogella.com/tutorials/AndroidSQLite/article.html\" rel=\"nofollow noreferrer\">vogella.com/tutorials/AndroidSQLite/article.html</a> . even the official documentation. I think the database modification can be easy."},{"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"score":0,"creation_date":1438610310,"post_id":31788598,"comment_id":51506709,"body_markdown":"I find it useless. Are you really going to change the name of your table? if so, changing the name in the constant will not be enough, you&#39;ll need a complete migration script. Same goes for column. My advice would be to never actually write SQL yourself (see how many questions on SO are about a missing space or colon in a CREATE statement), but use a third-party library for that.","body":"I find it useless. Are you really going to change the name of your table? if so, changing the name in the constant will not be enough, you&#39;ll need a complete migration script. Same goes for column. My advice would be to never actually write SQL yourself (see how many questions on SO are about a missing space or colon in a CREATE statement), but use a third-party library for that."},{"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"score":0,"creation_date":1438610349,"post_id":31788598,"comment_id":51506731,"body_markdown":"@KevinEsche no preparedstatement in android","body":"@KevinEsche no preparedstatement in android"},{"owner":{"account_id":4654013,"reputation":11203,"user_id":4370279,"accept_rate":61,"display_name":"theapache64"},"score":0,"creation_date":1438615708,"post_id":31788598,"comment_id":51510373,"body_markdown":"@njzk2 : Ok thanks for the comment :)","body":"@njzk2 : Ok thanks for the comment :)"}],"answers":[{"tags":[],"owner":{"account_id":4554724,"reputation":613,"user_id":3698766,"display_name":"OskarD90"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1438608937,"creation_date":1438608937,"answer_id":31788803,"question_id":31788598,"body_markdown":"Yes, it is considered good practice, because if the database structure changes you will hopefully just have to change the constants in your class.\r\n\r\nYou tagged this post as both Java and PHP, but either way you should look into using query builder libraries.","title":"CONSTANTS in SQL Queries","body":"<p>Yes, it is considered good practice, because if the database structure changes you will hopefully just have to change the constants in your class.</p>\n\n<p>You tagged this post as both Java and PHP, but either way you should look into using query builder libraries.</p>\n"},{"tags":[],"owner":{"account_id":1870581,"reputation":6880,"user_id":1692906,"accept_rate":90,"display_name":"Flosculus"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1438608952,"creation_date":1438608952,"answer_id":31788808,"question_id":31788598,"body_markdown":"EDIT: I&#39;m sure this had the PHP tag before I answered it.  If not, ignore the references to specific libraries.\r\n\r\n=============================================\r\n\r\nIt depends on the pattern you are using and what limitations you are facing, the version of PHP being the main one.\r\n\r\nIf you are developing a stand alone application that is unlikely to change much, then using constants for table names only serves well if you expect to change the table names.\r\n\r\nIf you are developing a re-distributable application, then dynamic table names (on installation) is useful, see WordPress for an example.\r\n\r\nIf you are using an ORM like Doctrine2, then the table names are largely irrelevant, because they are abstracted away for the most part and you are working with classes.\r\n\r\nUltimately though, concatenating strings for SQL gets messy, which is why it is advisable to use a query builder which makes the use of constants easier to work with.\r\n\r\nFor example, if you are using PHP5.3+, you can using Doctrine DBAL.  You don&#39;t need to include an ORM to use DBAL, because the ORM of Doctrine uses &quot;it&quot;, not the other way around.  If you are familiar with Doctrine2 ORM, you will recognise that the query builder uses class names, but that is the ORM magic converting them to their real table names.\r\n\r\nIn short, I would recommend using library that supports query builders which allows you to write queries into logical procedures without the need for concatenation.  Once you have this, there is nothing wrong with using constants besides potentially doing it for the wrong reasons.","title":"CONSTANTS in SQL Queries","body":"<p>EDIT: I'm sure this had the PHP tag before I answered it.  If not, ignore the references to specific libraries.</p>\n\n<p>=============================================</p>\n\n<p>It depends on the pattern you are using and what limitations you are facing, the version of PHP being the main one.</p>\n\n<p>If you are developing a stand alone application that is unlikely to change much, then using constants for table names only serves well if you expect to change the table names.</p>\n\n<p>If you are developing a re-distributable application, then dynamic table names (on installation) is useful, see WordPress for an example.</p>\n\n<p>If you are using an ORM like Doctrine2, then the table names are largely irrelevant, because they are abstracted away for the most part and you are working with classes.</p>\n\n<p>Ultimately though, concatenating strings for SQL gets messy, which is why it is advisable to use a query builder which makes the use of constants easier to work with.</p>\n\n<p>For example, if you are using PHP5.3+, you can using Doctrine DBAL.  You don't need to include an ORM to use DBAL, because the ORM of Doctrine uses \"it\", not the other way around.  If you are familiar with Doctrine2 ORM, you will recognise that the query builder uses class names, but that is the ORM magic converting them to their real table names.</p>\n\n<p>In short, I would recommend using library that supports query builders which allows you to write queries into logical procedures without the need for concatenation.  Once you have this, there is nothing wrong with using constants besides potentially doing it for the wrong reasons.</p>\n"},{"tags":[],"owner":{"account_id":3128519,"reputation":677,"user_id":2646931,"accept_rate":65,"display_name":"Mousa Jafari"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1438609844,"creation_date":1438609844,"answer_id":31789133,"question_id":31788598,"body_markdown":"Such questions have been the greatest challenge ever I faced.\r\nIf you mean SQLite, Yes it is good to prevent query string errors in big projects.\r\n\r\nConsider that you have more than one table:\r\n\r\n    private static final String TABLE_ROLLS= &quot;rolls&quot;;\r\n    private static final String TABLE_USERS = &quot;users&quot;;\r\n    private static final String COLUMN_USERS_ID = &quot;id&quot;;\r\n    private static final String COLUMN_USERS_NAME = &quot;name&quot;;\r\n    private static final String COLUMN_ROLLS_ID = &quot;id&quot;;\r\n    \r\n    final String query = &quot;SELECT &quot;+COLUMN_USERS_NAME+&quot; FROM &quot;+TABLE_USERS;\r\n\r\nHope be helpful","title":"CONSTANTS in SQL Queries","body":"<p>Such questions have been the greatest challenge ever I faced.\nIf you mean SQLite, Yes it is good to prevent query string errors in big projects.</p>\n\n<p>Consider that you have more than one table:</p>\n\n<pre><code>private static final String TABLE_ROLLS= \"rolls\";\nprivate static final String TABLE_USERS = \"users\";\nprivate static final String COLUMN_USERS_ID = \"id\";\nprivate static final String COLUMN_USERS_NAME = \"name\";\nprivate static final String COLUMN_ROLLS_ID = \"id\";\n\nfinal String query = \"SELECT \"+COLUMN_USERS_NAME+\" FROM \"+TABLE_USERS;\n</code></pre>\n\n<p>Hope be helpful</p>\n"}],"owner":{"account_id":4654013,"reputation":11203,"user_id":4370279,"accept_rate":61,"display_name":"theapache64"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3237,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1438632461,"answer_count":3,"score":0,"last_activity_date":1651434216,"creation_date":1438608424,"question_id":31788598,"body_markdown":"I am new to programming. and am using CONSTANTS in SQL queries\r\nlike this\r\n\r\n    private static final String TABLE_USERS = &quot;users&quot;;\r\n    private static final String COLUMN_NAME = &quot;name&quot;;\r\n    \r\n    final String query = &quot;SELECT &quot;+COLUMN_NAME+&quot; FROM &quot;+TABLE_USERS;\r\n\r\nIs this a good practice? \r\n\r\n","title":"CONSTANTS in SQL Queries","body":"<p>I am new to programming. and am using CONSTANTS in SQL queries\nlike this</p>\n<pre><code>private static final String TABLE_USERS = &quot;users&quot;;\nprivate static final String COLUMN_NAME = &quot;name&quot;;\n\nfinal String query = &quot;SELECT &quot;+COLUMN_NAME+&quot; FROM &quot;+TABLE_USERS;\n</code></pre>\n<p>Is this a good practice?</p>\n"},{"tags":["java","tree","binary-tree","binary-search-tree","subtree"],"comments":[{"owner":{"account_id":23428052,"reputation":6895,"user_id":17487348,"display_name":"Mushroomator"},"score":2,"creation_date":1651431983,"post_id":72079602,"comment_id":127358857,"body_markdown":"Conceptually the same way you print the whole tree. You can print using [inorder, preorder or postorder traversal](https://en.wikipedia.org/wiki/Tree_traversal). A recursive implementation is very simple. Iterative traversal is a bit more involved.","body":"Conceptually the same way you print the whole tree. You can print using <a href=\"https://en.wikipedia.org/wiki/Tree_traversal\" rel=\"nofollow noreferrer\">inorder, preorder or postorder traversal</a>. A recursive implementation is very simple. Iterative traversal is a bit more involved."}],"answers":[{"tags":[],"owner":{"account_id":8412094,"reputation":131,"user_id":6313636,"display_name":"wolfenblut"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651433963,"creation_date":1651433963,"answer_id":72079883,"question_id":72079602,"body_markdown":"\r\n\r\nI did not modify your code. Instead, I used an imaginary class Node that I&#39;ve written. Also, I have written all of them as **half pseudo half java code**.\r\nSuppose your node has only one int type variable and two children. \r\n\r\n    class Node{\r\n        int data;\r\n        Node left;\r\n        Node right;\r\n    }\r\n\r\n\r\nYou have a `printExistingSubTree` method in your BST class that does the what you exactly ask for:\r\n\r\n    printExistingSubTree(Node node, int key):\r\n        if (find(node.left, key, 0) != -1)\r\n            then \r\n                printTree(node.left)\r\n                print(find(node.left, key, 0))\r\n        if (find(node.right, key, 0) != -1)\r\n            then printTree(node.right)\r\n                printTree(node.right)\r\n                print(find(node.right, key, 0))\r\n\r\nYou have a `find` method in your BST class that does find the index:        \r\n\r\n    int find(Node node,int key, int level)\r\n        if(node.data is equal to the key)\r\n            then return level\r\n        int left = -1;\r\n        \r\n        if(node.leftChild is not null)\r\n            then left = find(node.left, key, level+1)\r\n        if(left != -1)\r\n            return left\r\n        int right = -1;\r\n        if(node.rightChild is not null)\r\n            then right = find(node.right, key, level+1)\r\n        return right\r\n\r\nThen, to print, you should decide how you want to traverse the subtree.\r\n\r\nYou have a `printTree` method in your BST class that prints the subtree in **postorder**:\r\n\r\n    void printTree(Node node){\r\n        if (node == null)\r\n            return;\r\n         printTree(node.left);\r\n     \r\n         printTree(node.right);\r\n     \r\n         print(node.data + &quot; &quot;);\r\n    }\r\n\r\nNote: I did not understand your whole code. Therefore, I have just written the answer of your question in the pseudo code format. I think, you can write your own code from that.\r\n\r\nNote2: There may be some typos&amp;wrong namings. PLease do not lynch. Just write in the comments and I&#39;ll correct.","title":"How to print a subtree of a binary tree?","body":"<p>I did not modify your code. Instead, I used an imaginary class Node that I've written. Also, I have written all of them as <strong>half pseudo half java code</strong>.\nSuppose your node has only one int type variable and two children.</p>\n<pre><code>class Node{\n    int data;\n    Node left;\n    Node right;\n}\n</code></pre>\n<p>You have a <code>printExistingSubTree</code> method in your BST class that does the what you exactly ask for:</p>\n<pre><code>printExistingSubTree(Node node, int key):\n    if (find(node.left, key, 0) != -1)\n        then \n            printTree(node.left)\n            print(find(node.left, key, 0))\n    if (find(node.right, key, 0) != -1)\n        then printTree(node.right)\n            printTree(node.right)\n            print(find(node.right, key, 0))\n</code></pre>\n<p>You have a <code>find</code> method in your BST class that does find the index:</p>\n<pre><code>int find(Node node,int key, int level)\n    if(node.data is equal to the key)\n        then return level\n    int left = -1;\n    \n    if(node.leftChild is not null)\n        then left = find(node.left, key, level+1)\n    if(left != -1)\n        return left\n    int right = -1;\n    if(node.rightChild is not null)\n        then right = find(node.right, key, level+1)\n    return right\n</code></pre>\n<p>Then, to print, you should decide how you want to traverse the subtree.</p>\n<p>You have a <code>printTree</code> method in your BST class that prints the subtree in <strong>postorder</strong>:</p>\n<pre><code>void printTree(Node node){\n    if (node == null)\n        return;\n     printTree(node.left);\n \n     printTree(node.right);\n \n     print(node.data + &quot; &quot;);\n}\n</code></pre>\n<p>Note: I did not understand your whole code. Therefore, I have just written the answer of your question in the pseudo code format. I think, you can write your own code from that.</p>\n<p>Note2: There may be some typos&amp;wrong namings. PLease do not lynch. Just write in the comments and I'll correct.</p>\n"}],"owner":{"account_id":24817189,"reputation":21,"user_id":18697905,"display_name":"Dae"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":638,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72079883,"answer_count":1,"score":0,"last_activity_date":1651433963,"creation_date":1651431524,"question_id":72079602,"body_markdown":"In my program, I have initialized a binary tree and I want to search if a node exists in that binary tree. If it does exist, then I will print the subtree of that node and the level it was found. I am able to perform my ```search``` method but I am not sure **how to print the subtree of that node found and its level**. \r\n\r\nFor example, this is my binary tree ```[K=3 L=[K=1 R=[K=2]] R=[K=5 L=[K=4]]```. If I search for node ```1```, then it will return the node (not null) since it exists in my binary tree. \r\n\r\n&gt;**Problem:** I need to print only the subtree of the node and the level where it was found: ```[K=1 R=[K=2]], level=1```.\r\n\r\nHere is my source code for reference:\r\n\r\n**Main Class**\r\n```\r\n// instantiate BST object\r\nBST&lt;Character&gt; bst = new BST&lt;&gt;(); \r\n\r\n// insert values to bst1\r\nString str = &quot;31254&quot;;\r\nchar[] letter = str.toCharArray();\r\n\r\nfor (int i = 0; i &lt; letter.length; i++) {\r\n\tCharacter c = letter[i];\r\n\r\n\tbst1.insert(c);\r\n}\r\n\r\n// print bst\r\nSystem.out.println(&quot;\\nht=&quot; + bst1.height + &quot; &quot; + bst1.toString() + &quot;\\n&quot;);\r\n\r\n// search values in bst1\r\nString str2 = &quot;016483&quot;; \r\nchar[] letter2 = str2.toCharArray();\r\n\r\nfor (int i = 0; i &lt; letter2.length; i++) {\r\n\tCharacter c = letter2[i];\r\n\t\r\n\tif (bst1.search(c) != null) { // if found, print the node (w/ subtree) and its level\r\n\t\t// ** part that should print the subtree and its level\r\n\t}\r\n\telse {\r\n\t\tSystem.out.println(c + &quot; is not found.&quot;);\r\n\t}\r\n}\r\n```\r\n\r\n**BST Class** - where my ```search``` method is declared\r\n```\r\npublic class BST&lt;T extends Comparable&lt;T&gt;&gt; extends BT&lt;T&gt; {\r\n    // insert() method\r\n\r\n    // search method\r\n\tpublic BTNode&lt;T&gt; search(T k) {// my method\r\n\t\t\r\n\t\t\tBTNode&lt;T&gt; n = root;\r\n\t\t\t\r\n\t\t\twhile (n != null) {\r\n\t\t\t\tif (n.info.compareTo(k) == 0)  {\r\n\t\t\t\t\treturn n;\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tif (n.info.compareTo(k) &gt; 0) {\r\n\t\t\t\t\t\tn = n.left;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tn = n.right;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t}\r\n}\r\n```\r\nThanks in advance!\r\n ","title":"How to print a subtree of a binary tree?","body":"<p>In my program, I have initialized a binary tree and I want to search if a node exists in that binary tree. If it does exist, then I will print the subtree of that node and the level it was found. I am able to perform my <code>search</code> method but I am not sure <strong>how to print the subtree of that node found and its level</strong>.</p>\n<p>For example, this is my binary tree <code>[K=3 L=[K=1 R=[K=2]] R=[K=5 L=[K=4]]</code>. If I search for node <code>1</code>, then it will return the node (not null) since it exists in my binary tree.</p>\n<blockquote>\n<p><strong>Problem:</strong> I need to print only the subtree of the node and the level where it was found: <code>[K=1 R=[K=2]], level=1</code>.</p>\n</blockquote>\n<p>Here is my source code for reference:</p>\n<p><strong>Main Class</strong></p>\n<pre><code>// instantiate BST object\nBST&lt;Character&gt; bst = new BST&lt;&gt;(); \n\n// insert values to bst1\nString str = &quot;31254&quot;;\nchar[] letter = str.toCharArray();\n\nfor (int i = 0; i &lt; letter.length; i++) {\n    Character c = letter[i];\n\n    bst1.insert(c);\n}\n\n// print bst\nSystem.out.println(&quot;\\nht=&quot; + bst1.height + &quot; &quot; + bst1.toString() + &quot;\\n&quot;);\n\n// search values in bst1\nString str2 = &quot;016483&quot;; \nchar[] letter2 = str2.toCharArray();\n\nfor (int i = 0; i &lt; letter2.length; i++) {\n    Character c = letter2[i];\n    \n    if (bst1.search(c) != null) { // if found, print the node (w/ subtree) and its level\n        // ** part that should print the subtree and its level\n    }\n    else {\n        System.out.println(c + &quot; is not found.&quot;);\n    }\n}\n</code></pre>\n<p><strong>BST Class</strong> - where my <code>search</code> method is declared</p>\n<pre><code>public class BST&lt;T extends Comparable&lt;T&gt;&gt; extends BT&lt;T&gt; {\n    // insert() method\n\n    // search method\n    public BTNode&lt;T&gt; search(T k) {// my method\n        \n            BTNode&lt;T&gt; n = root;\n            \n            while (n != null) {\n                if (n.info.compareTo(k) == 0)  {\n                    return n;\n                }\n                else {\n                    if (n.info.compareTo(k) &gt; 0) {\n                        n = n.left;\n                    }\n                    else {\n                        n = n.right;\n                    }\n                }\n            }\n            return null;\n        }\n}\n</code></pre>\n<p>Thanks in advance!</p>\n"},{"tags":["java","spring-boot","gradle","classloader"],"comments":[{"owner":{"account_id":2085245,"reputation":2131,"user_id":1856391,"accept_rate":84,"display_name":"Maritim"},"score":0,"creation_date":1651430455,"post_id":72079456,"comment_id":127358517,"body_markdown":"Could you perhaps provide the source code for the JUnit tests in question? That could potentially be helpful in trying to understand the situation and come up with some sort of suggestion to a solution :)","body":"Could you perhaps provide the source code for the JUnit tests in question? That could potentially be helpful in trying to understand the situation and come up with some sort of suggestion to a solution :)"},{"owner":{"account_id":15692249,"reputation":27,"user_id":11322917,"display_name":"simpleSoaker"},"score":0,"creation_date":1651432918,"post_id":72079456,"comment_id":127359049,"body_markdown":"OK I updated the main post with some code.","body":"OK I updated the main post with some code."}],"owner":{"account_id":15692249,"reputation":27,"user_id":11322917,"display_name":"simpleSoaker"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651433234,"creation_date":1651430178,"question_id":72079456,"body_markdown":"I have a gradle/SpringBoot project. I&#39;m trying to run some junit tests that use 3rd party annotations to inject classes. The injected classes are creating a text file (call it &#39;foo.txt&#39;) under `$(PROJECT_DIR)/app/build/resources/test`. However the same injected class then uses a `classLoader.getReource(&quot;foo.txt&quot;)` to try to find the file to try to process it. The classLoader looks like it is searching for foo.text under `$(PROJECT_DIR)/build/resources/test` and since it can&#39;t find it there the 3rd party class throws an exception. \r\n\r\nSo I somehow either need to make classLoader.getResource() called from the 3rd party class search in `$(PROJECT_DIR)/app/build/resources/test` for foo.txt or make the 3rd party class create foo.txt in `$(PROJECT_DIR)/build/resources/test`.\r\n\r\nI was thinking the way to resolve this might be to add `$(PROJECT_DIR)/app/build/resources/test` to the classpath in gradle for the test task. But I don&#39;t know how to add a new path to the classpath through gradle. I searched all over google but don&#39;t see any examples. \r\n\r\nAlso, If there is a better solution I&#39;m open to that too, but I have limitations in how I can try to resolve this i.e. assume I can&#39;t change the 3rd party app for now, and can&#39;t refactor project structure of the project I am creating tests in.\r\n\r\n**Update:**\r\nIn case it is helpful here is what the test/s looks like:\r\n\r\n    @ExtendWith({3rdPartyClassResolver.class})\r\n    public class 3rdPartyTest {\r\n          \r\n      //the actual failing test \t  \r\n      @Test\r\n      @3rdPartyClass(\r\n        storageLocation = &quot;https://storage-location.us/&quot;,\r\n        application = &quot;app1&quot;,\r\n        version = &quot;latest&quot;,\r\n        requestor = &quot;app2&quot;)\r\n      public void testing3rdPartyClass(Map&lt;3rdPartyClass, List&lt;Event&gt;&gt; map) {\r\n        System.out.println(); //I don&#39;t make it to this point\r\n      }\r\n      //this is what the 3rd party class is trying to do.\r\n      //I&#39;m able to reproduce it using this test. it fails the same way.\r\n      @Test\r\n      public void writeToFile() throws Exception {\r\n    \tPath pathnio = Paths.get(&quot;build/resources/test/foo.txt&quot;);\r\n        Files.write(pathnio, Collections.singleton(&quot;some text&quot;));\r\n    \tClassLoader classLoader = Thread.currentThread().getContextClassLoader();\r\n    \tURL resource = classLoader.getResource(&quot;foo.txt&quot;);\r\n    \tassertNotNull(resource); //this assert fails\r\n      }\r\n    }\r\n\r\n","title":"Trying to add a path to classpath through gradle or some other way","body":"<p>I have a gradle/SpringBoot project. I'm trying to run some junit tests that use 3rd party annotations to inject classes. The injected classes are creating a text file (call it 'foo.txt') under <code>$(PROJECT_DIR)/app/build/resources/test</code>. However the same injected class then uses a <code>classLoader.getReource(&quot;foo.txt&quot;)</code> to try to find the file to try to process it. The classLoader looks like it is searching for foo.text under <code>$(PROJECT_DIR)/build/resources/test</code> and since it can't find it there the 3rd party class throws an exception.</p>\n<p>So I somehow either need to make classLoader.getResource() called from the 3rd party class search in <code>$(PROJECT_DIR)/app/build/resources/test</code> for foo.txt or make the 3rd party class create foo.txt in <code>$(PROJECT_DIR)/build/resources/test</code>.</p>\n<p>I was thinking the way to resolve this might be to add <code>$(PROJECT_DIR)/app/build/resources/test</code> to the classpath in gradle for the test task. But I don't know how to add a new path to the classpath through gradle. I searched all over google but don't see any examples.</p>\n<p>Also, If there is a better solution I'm open to that too, but I have limitations in how I can try to resolve this i.e. assume I can't change the 3rd party app for now, and can't refactor project structure of the project I am creating tests in.</p>\n<p><strong>Update:</strong>\nIn case it is helpful here is what the test/s looks like:</p>\n<pre><code>@ExtendWith({3rdPartyClassResolver.class})\npublic class 3rdPartyTest {\n      \n  //the actual failing test       \n  @Test\n  @3rdPartyClass(\n    storageLocation = &quot;https://storage-location.us/&quot;,\n    application = &quot;app1&quot;,\n    version = &quot;latest&quot;,\n    requestor = &quot;app2&quot;)\n  public void testing3rdPartyClass(Map&lt;3rdPartyClass, List&lt;Event&gt;&gt; map) {\n    System.out.println(); //I don't make it to this point\n  }\n  //this is what the 3rd party class is trying to do.\n  //I'm able to reproduce it using this test. it fails the same way.\n  @Test\n  public void writeToFile() throws Exception {\n    Path pathnio = Paths.get(&quot;build/resources/test/foo.txt&quot;);\n    Files.write(pathnio, Collections.singleton(&quot;some text&quot;));\n    ClassLoader classLoader = Thread.currentThread().getContextClassLoader();\n    URL resource = classLoader.getResource(&quot;foo.txt&quot;);\n    assertNotNull(resource); //this assert fails\n  }\n}\n</code></pre>\n"},{"tags":["java","ant"],"answers":[{"tags":[],"owner":{"account_id":1191900,"reputation":22398,"user_id":1164465,"display_name":"Christopher Peisert"},"down_vote_count":0,"up_vote_count":42,"is_accepted":false,"score":42,"last_activity_date":1342654014,"creation_date":1342653568,"answer_id":11551770,"question_id":11551678,"body_markdown":"In the `javac` task, try specifying the Java compiler by setting the `executable` attribute as follows:\r\n\r\n\r\n    &lt;property name=&quot;JDK1.6.dir&quot; location=&quot;/usr/lib/jvm/java-6-openjdk-amd64&quot; /&gt;\r\n    &lt;property name=&quot;javac1.6&quot; location=&quot;${JDK1.6.dir}/bin/javac&quot; /&gt;\r\n\r\n    &lt;target name=&quot;compile-tests&quot;&gt;\r\n      &lt;javac executable=&quot;${javac1.6}&quot; \r\n          fork=&quot;yes&quot;\r\n          includeantruntime=&quot;false&quot; \r\n          srcdir=&quot;${test.dir}&quot;\r\n          destdir=&quot;${build.dir}&quot; &gt;\r\n        &lt;classpath refid=&quot;class.path&quot; /&gt;\r\n      &lt;/javac&gt;\r\n    &lt;/target&gt;","title":"How to change the Java JDK version in an Ant task?","body":"<p>In the <code>javac</code> task, try specifying the Java compiler by setting the <code>executable</code> attribute as follows:</p>\n\n<pre><code>&lt;property name=\"JDK1.6.dir\" location=\"/usr/lib/jvm/java-6-openjdk-amd64\" /&gt;\n&lt;property name=\"javac1.6\" location=\"${JDK1.6.dir}/bin/javac\" /&gt;\n\n&lt;target name=\"compile-tests\"&gt;\n  &lt;javac executable=\"${javac1.6}\" \n      fork=\"yes\"\n      includeantruntime=\"false\" \n      srcdir=\"${test.dir}\"\n      destdir=\"${build.dir}\" &gt;\n    &lt;classpath refid=\"class.path\" /&gt;\n  &lt;/javac&gt;\n&lt;/target&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":185558,"reputation":7305,"user_id":422353,"display_name":"madth3"},"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1342723941,"creation_date":1342656398,"answer_id":11552167,"question_id":11551678,"body_markdown":"I think Ant `compiler` attribute is just to know which properties are supported by the compiler. In `javac` in general the attribute or option to pass to the compiler is `target`. \r\n\r\nYou should not even need to have a Java 6 compiler installed.","title":"How to change the Java JDK version in an Ant task?","body":"<p>I think Ant <code>compiler</code> attribute is just to know which properties are supported by the compiler. In <code>javac</code> in general the attribute or option to pass to the compiler is <code>target</code>. </p>\n\n<p>You should not even need to have a Java 6 compiler installed.</p>\n"},{"tags":[],"owner":{"account_id":6387,"reputation":20830,"user_id":10715,"accept_rate":77,"display_name":"gareth_bowles"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1342714581,"creation_date":1342714581,"answer_id":11565016,"question_id":11551678,"body_markdown":"Use the &quot;target&quot; attribute of the Ant javac task to define the version of Java that you want your class files to be compatible with (so set it to &quot;1.6&quot; in your case).  See the [task documentation][1] for more details.\r\n\r\n\r\n  [1]: http://ant.apache.org/manual/Tasks/javac.html","title":"How to change the Java JDK version in an Ant task?","body":"<p>Use the \"target\" attribute of the Ant javac task to define the version of Java that you want your class files to be compatible with (so set it to \"1.6\" in your case).  See the <a href=\"http://ant.apache.org/manual/Tasks/javac.html\" rel=\"nofollow\">task documentation</a> for more details.</p>\n"},{"tags":[],"owner":{"account_id":7321512,"reputation":9,"user_id":5577395,"display_name":"Anil Kumar Rao"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1632307253,"creation_date":1447862247,"answer_id":33784638,"question_id":11551678,"body_markdown":"Talking about the basics of Ant, since it requires a JVM to run, it is suffice for it to recognize a JRE for this purpose. However if the build process needs to compile classes then it will be dependent on a Java compiler and if it doesn&#39;t find one then the build will fail.\r\n\r\nIt is possible to set up Ant to use one of several Java compilers, however I will focus on Oracle&#39;s javac for the explanation below. Here are the alternatives ...\r\n\r\n1) If the JRE recognized by Ant for its execution is a sub directory under the JDK, it will raise upto the JDK level and identify the required resources.\r\n\r\n2) If JAVA_HOME environment variable is set pointing to a JVM (not JRE) then ant will be able to compile Java artifacts\r\n\r\n3) Alternatively, as per the Ant documentation, JAVACMD can be set in a batch file specific to the OS (antrc_pre.bat for Windows) placed under your home directory (and not that of Ant) then it will recognize the JVM. Please note JAVACMD should refer to the full path of Java.exe under a bin folder and not of JVM home.\r\n\r\n4) Alternatively the Ant command line can take the list of libraries using `-l` options. Pass a tools.jar to `-l` option and it would suffice.\r\n\r\n5) Finally fork attribute of JavaC task can be set as explained above. Keep in mind this is resource intensive and not recommended.\r\n\r\n","title":"How to change the Java JDK version in an Ant task?","body":"<p>Talking about the basics of Ant, since it requires a JVM to run, it is suffice for it to recognize a JRE for this purpose. However if the build process needs to compile classes then it will be dependent on a Java compiler and if it doesn't find one then the build will fail.</p>\n<p>It is possible to set up Ant to use one of several Java compilers, however I will focus on Oracle's javac for the explanation below. Here are the alternatives ...</p>\n<ol>\n<li><p>If the JRE recognized by Ant for its execution is a sub directory under the JDK, it will raise upto the JDK level and identify the required resources.</p>\n</li>\n<li><p>If JAVA_HOME environment variable is set pointing to a JVM (not JRE) then ant will be able to compile Java artifacts</p>\n</li>\n<li><p>Alternatively, as per the Ant documentation, JAVACMD can be set in a batch file specific to the OS (antrc_pre.bat for Windows) placed under your home directory (and not that of Ant) then it will recognize the JVM. Please note JAVACMD should refer to the full path of Java.exe under a bin folder and not of JVM home.</p>\n</li>\n<li><p>Alternatively the Ant command line can take the list of libraries using <code>-l</code> options. Pass a tools.jar to <code>-l</code> option and it would suffice.</p>\n</li>\n<li><p>Finally fork attribute of JavaC task can be set as explained above. Keep in mind this is resource intensive and not recommended.</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":14388491,"reputation":318,"user_id":10393763,"display_name":"Nathan Karasch"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1538517586,"creation_date":1538517586,"answer_id":52617019,"question_id":11551678,"body_markdown":"I thought it would be nice to add an updated answer to this question, since I recently dealt with a lot of headaches surrounding this same issue. My specific use case: My computer uses JRE1.8, but I needed ant to target JRE1.7 running on the server. The trick for me was to use the following attributes in combination (referencing the [documentation](http://ant.apache.org/manual/Tasks/javac.html)):\r\n\r\n- **srcdir**: Location of the java files.\r\n- **destdir**: Location to store the class files.\r\n- **includeantruntime**: Whether to include the Ant run-time libraries in the classpath. *It is usually best* to set this to false so the script&#39;s behavior is not sensitive to the environment in which it is run.\r\n- **source**: Java language features accepted by compiler\r\n- **target**: Generate class files for specific JVM version (cross-compile).\r\n- **fork**: Whether to execute javac using the JDK compiler externally.\r\n- **compiler**: The compiler implementation to use.\r\n\r\nYou *don&#39;t* have to specify the executable file unless you have really specific dependencies (e.g. more recent enterprise version as opposed to latest free version).\r\n\r\n**Example:**\r\n\r\n    &lt;javac srcdir=&quot;${source}&quot;\r\n           destdir=&quot;${java.output.dir}&quot;\r\n           includeantruntime=&quot;false&quot;\r\n           source=&quot;1.7&quot;\r\n           target=&quot;1.7&quot;\r\n           fork=&quot;yes&quot;\r\n           compiler=&quot;javac1.7&quot;&gt;\r\n    &lt;/javac&gt;","title":"How to change the Java JDK version in an Ant task?","body":"<p>I thought it would be nice to add an updated answer to this question, since I recently dealt with a lot of headaches surrounding this same issue. My specific use case: My computer uses JRE1.8, but I needed ant to target JRE1.7 running on the server. The trick for me was to use the following attributes in combination (referencing the <a href=\"http://ant.apache.org/manual/Tasks/javac.html\" rel=\"noreferrer\">documentation</a>):</p>\n\n<ul>\n<li><strong>srcdir</strong>: Location of the java files.</li>\n<li><strong>destdir</strong>: Location to store the class files.</li>\n<li><strong>includeantruntime</strong>: Whether to include the Ant run-time libraries in the classpath. <em>It is usually best</em> to set this to false so the script's behavior is not sensitive to the environment in which it is run.</li>\n<li><strong>source</strong>: Java language features accepted by compiler</li>\n<li><strong>target</strong>: Generate class files for specific JVM version (cross-compile).</li>\n<li><strong>fork</strong>: Whether to execute javac using the JDK compiler externally.</li>\n<li><strong>compiler</strong>: The compiler implementation to use.</li>\n</ul>\n\n<p>You <em>don't</em> have to specify the executable file unless you have really specific dependencies (e.g. more recent enterprise version as opposed to latest free version).</p>\n\n<p><strong>Example:</strong></p>\n\n<pre><code>&lt;javac srcdir=\"${source}\"\n       destdir=\"${java.output.dir}\"\n       includeantruntime=\"false\"\n       source=\"1.7\"\n       target=\"1.7\"\n       fork=\"yes\"\n       compiler=\"javac1.7\"&gt;\n&lt;/javac&gt;\n</code></pre>\n"}],"owner":{"account_id":451450,"reputation":153,"user_id":847352,"display_name":"user847352"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66457,"favorite_count":0,"down_vote_count":1,"up_vote_count":15,"accepted_answer_id":11552167,"answer_count":5,"score":14,"last_activity_date":1651433139,"creation_date":1342652889,"question_id":11551678,"body_markdown":"I need to compile my source code to be compatible with JRE 1.6. However, when I attempt to set the compiler attribute of the `javac` task to be `javac1.6`, Ant will still compile my code with `javac1.7`. I have also tried setting the compiler version to be &quot;modern&quot; and that did not work.\r\n\r\n```xml\r\n&lt;target name=&quot;compile-tests&quot;&gt;\r\n    &lt;javac compiler=&quot;javac1.6&quot; includeantruntime=&quot;false&quot; srcdir=&quot;${test.dir}&quot; destdir=&quot;${build.dir}&quot; &gt;\r\n        &lt;classpath refid=&quot;class.path&quot; /&gt;\r\n    &lt;/javac&gt;\r\n&lt;/target&gt;\r\n```\r\n\r\nMy `JAVA_HOME` is set to JDK 1.6:\r\n\r\n```bash\r\necho $JAVA_HOME\r\n/usr/lib/jvm/java-6-openjdk-amd64/\r\n```\r\n\r\nMy ant version is: `Apache Ant(TM) version 1.8.2 `\r\n\r\nAccording to [this post][1], Ant uses its own compiler. How do I override the Ant default?\r\n\r\nAlso, according to [this post][2] and the Ant documentation, I can set the global `build.compiler` property. What do I set that property to be and how might I do that?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/10543336/which-javac-exe-is-used-by-ant-javac-task\r\n  [2]: https://stackoverflow.com/questions/235363/override-the-compiler-attribute-in-an-ant-javac-task","title":"How to change the Java JDK version in an Ant task?","body":"<p>I need to compile my source code to be compatible with JRE 1.6. However, when I attempt to set the compiler attribute of the <code>javac</code> task to be <code>javac1.6</code>, Ant will still compile my code with <code>javac1.7</code>. I have also tried setting the compiler version to be &quot;modern&quot; and that did not work.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;target name=&quot;compile-tests&quot;&gt;\n    &lt;javac compiler=&quot;javac1.6&quot; includeantruntime=&quot;false&quot; srcdir=&quot;${test.dir}&quot; destdir=&quot;${build.dir}&quot; &gt;\n        &lt;classpath refid=&quot;class.path&quot; /&gt;\n    &lt;/javac&gt;\n&lt;/target&gt;\n</code></pre>\n<p>My <code>JAVA_HOME</code> is set to JDK 1.6:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>echo $JAVA_HOME\n/usr/lib/jvm/java-6-openjdk-amd64/\n</code></pre>\n<p>My ant version is: <code>Apache Ant(TM) version 1.8.2 </code></p>\n<p>According to <a href=\"https://stackoverflow.com/questions/10543336/which-javac-exe-is-used-by-ant-javac-task\">this post</a>, Ant uses its own compiler. How do I override the Ant default?</p>\n<p>Also, according to <a href=\"https://stackoverflow.com/questions/235363/override-the-compiler-attribute-in-an-ant-javac-task\">this post</a> and the Ant documentation, I can set the global <code>build.compiler</code> property. What do I set that property to be and how might I do that?</p>\n"},{"tags":["java","sonarqube"],"owner":{"account_id":12241406,"reputation":309,"user_id":8934374,"display_name":"Braden Borman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":206,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1651433025,"creation_date":1651433025,"question_id":72079777,"body_markdown":"Addressing a &#39;*code smell*&#39; on one of my endpoints where I set the body return type dynamically. The logic will return either an APPLICATION.PDF or MEDIATYPE.IMAGE_PNG. This works as-is, but was wondering if there is a more proper way\r\n\r\n```\r\n@GetMapping(value = &quot;/form&quot;, produces = {MediaType.APPLICATION_PDF_VALUE, MediaType.IMAGE_PNG_VALUE})\r\n    public ResponseEntity&lt;?&gt; retrieveForm(@RequestParam String formType,\r\n                                          @RequestParam String form,\r\n                                          @RequestParam(required = false, defaultValue = &quot;false&quot;) boolean responseTypePng\r\n    ) {\r\n        byte[] formAsBytes =  manager.retrieveForm(formType, form);\r\n\r\n        if(!responseTypePng) {\r\n            return ResponseEntity.ok(formAsBytes);\r\n        }\r\n\r\n        return ResponseEntity.ok()\r\n                .contentType(MediaType.IMAGE_PNG)\r\n                .body(PDFConverterUtility.convertToPNG(formAsBytes));\r\n    }\r\n```\r\n \r\n&lt;br/&gt;&lt;br/&gt;\r\n\r\n[![enter image description here][1]][1]\r\n&lt;br/&gt;\r\n\r\n  [1]: https://i.stack.imgur.com/wRI3D.png","title":"Workaround for Sonarqube rule: &#39; Remove usage of generic wildcard type&#39; in dynamic return","body":"<p>Addressing a '<em>code smell</em>' on one of my endpoints where I set the body return type dynamically. The logic will return either an APPLICATION.PDF or MEDIATYPE.IMAGE_PNG. This works as-is, but was wondering if there is a more proper way</p>\n<pre><code>@GetMapping(value = &quot;/form&quot;, produces = {MediaType.APPLICATION_PDF_VALUE, MediaType.IMAGE_PNG_VALUE})\n    public ResponseEntity&lt;?&gt; retrieveForm(@RequestParam String formType,\n                                          @RequestParam String form,\n                                          @RequestParam(required = false, defaultValue = &quot;false&quot;) boolean responseTypePng\n    ) {\n        byte[] formAsBytes =  manager.retrieveForm(formType, form);\n\n        if(!responseTypePng) {\n            return ResponseEntity.ok(formAsBytes);\n        }\n\n        return ResponseEntity.ok()\n                .contentType(MediaType.IMAGE_PNG)\n                .body(PDFConverterUtility.convertToPNG(formAsBytes));\n    }\n</code></pre>\n<p><br/><br/></p>\n<p><a href=\"https://i.stack.imgur.com/wRI3D.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wRI3D.png\" alt=\"enter image description here\" /></a>\n<br/></p>\n"},{"tags":["java","arraylist","random","shuffle"],"comments":[{"owner":{"account_id":20384883,"reputation":131,"user_id":16497497,"display_name":"FishyK"},"score":0,"creation_date":1651430774,"post_id":72075360,"comment_id":127358610,"body_markdown":"Oh yes thank you, I have overlooked this","body":"Oh yes thank you, I have overlooked this"}],"answers":[{"tags":[],"owner":{"account_id":15690683,"reputation":127,"user_id":11321886,"display_name":"BBonless"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651431803,"creation_date":1651431803,"answer_id":72079634,"question_id":72075360,"body_markdown":"The random argument specifies the source of randomness\r\n\r\nIf you create two random objects with the same seed, then shuffle 2 lists using those objects like so:\r\n```java\r\nRandom R1 = new Random(1);\r\nRandom R2 = new Random(1); //Same seeds\r\n\r\nCollections.shuffle(List1, R1);\r\nCollections.shuffle(List2, R2);\r\n```\r\nBoth the lists will then be shuffled in the same order. If the lists are identical, then the result will also be identical. \r\n\r\nIts useful if you for some reason you need randomly generated things to be replicable. For example in Minecraft, worlds are randomly generated - but players can share the seed that generated the world so that other people can generate the exact same world.","title":"Why would you add a random variable to the shuffle method?","body":"<p>The random argument specifies the source of randomness</p>\n<p>If you create two random objects with the same seed, then shuffle 2 lists using those objects like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Random R1 = new Random(1);\nRandom R2 = new Random(1); //Same seeds\n\nCollections.shuffle(List1, R1);\nCollections.shuffle(List2, R2);\n</code></pre>\n<p>Both the lists will then be shuffled in the same order. If the lists are identical, then the result will also be identical.</p>\n<p>Its useful if you for some reason you need randomly generated things to be replicable. For example in Minecraft, worlds are randomly generated - but players can share the seed that generated the world so that other people can generate the exact same world.</p>\n"},{"tags":[],"owner":{"account_id":2488885,"reputation":18917,"user_id":2166798,"accept_rate":50,"display_name":"pjs"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651432753,"creation_date":1651432453,"answer_id":72079706,"question_id":72075360,"body_markdown":"There are two big reasons you might want to provide a source of randomness other than the default one:\r\n\r\n 1. reproducibility; and\r\n 2. to use a better Pseudo-Random Number Generator (PRNG).\r\n\r\n#1 &amp;mdash; The sequence of values `shuffle()` uses to perform the shuffle, and therefore the order of the results, depends on the state of the generator at the time you call the shuffle method. If you clone your list, and call `shuffle()` on the original list and then on its clone using the default PRNG, you will get two different results. Similarly, if you or somebody else runs your program multiple times, each run will result in a different shuffle because the PRNG seed will be different. Reproducibility of results is essential for debugging, and also for allowing colleagues to validate your results in research. To achieve reproducibility, pass `shuffle()` a `Random` object which has a fixed seed.\r\n\r\n#2 &amp;mdash; Java&#39;s implementation of `Random` is a 48 bit [Linear Congruential Generator][1]. Not bad, but not great either. If you wish to use a third-party generator such as [WELL][2] or variations on [xoroshiro][3], you can do so by calling `shuffle()` with the desired alternate PRNG. \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Linear_congruential_generator\r\n  [2]: https://en.wikipedia.org/wiki/Well_equidistributed_long-period_linear\r\n  [3]: https://prng.di.unimi.it","title":"Why would you add a random variable to the shuffle method?","body":"<p>There are two big reasons you might want to provide a source of randomness other than the default one:</p>\n<ol>\n<li>reproducibility; and</li>\n<li>to use a better Pseudo-Random Number Generator (PRNG).</li>\n</ol>\n<p>#1 — The sequence of values <code>shuffle()</code> uses to perform the shuffle, and therefore the order of the results, depends on the state of the generator at the time you call the shuffle method. If you clone your list, and call <code>shuffle()</code> on the original list and then on its clone using the default PRNG, you will get two different results. Similarly, if you or somebody else runs your program multiple times, each run will result in a different shuffle because the PRNG seed will be different. Reproducibility of results is essential for debugging, and also for allowing colleagues to validate your results in research. To achieve reproducibility, pass <code>shuffle()</code> a <code>Random</code> object which has a fixed seed.</p>\n<p>#2 — Java's implementation of <code>Random</code> is a 48 bit <a href=\"https://en.wikipedia.org/wiki/Linear_congruential_generator\" rel=\"nofollow noreferrer\">Linear Congruential Generator</a>. Not bad, but not great either. If you wish to use a third-party generator such as <a href=\"https://en.wikipedia.org/wiki/Well_equidistributed_long-period_linear\" rel=\"nofollow noreferrer\">WELL</a> or variations on <a href=\"https://prng.di.unimi.it\" rel=\"nofollow noreferrer\">xoroshiro</a>, you can do so by calling <code>shuffle()</code> with the desired alternate PRNG.</p>\n"}],"owner":{"account_id":20384883,"reputation":131,"user_id":16497497,"display_name":"FishyK"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72079706,"answer_count":2,"score":0,"last_activity_date":1651432753,"creation_date":1651395793,"question_id":72075360,"body_markdown":"I don&#39;t understand the use of an additional random inside the shuffle method. From the examples I&#39;ve seen so far, there&#39;s not benefit to it, or is there?\r\nIt says that it specifies the source of randomness, however, isn&#39;t the shuffle method in itself random? So why would I want to specify it any further?\r\n    \r\n```\r\nArrayList&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\r\nlist.add(1);\r\nlist.add(2);\r\nlist.add(3);\r\nlist.add(4);\r\nlist.add(5);\r\n\r\n//What is the difference?\r\nCollection.shuffle(list);\r\nCollection.shuffle(list, new Random(2));\r\n","title":"Why would you add a random variable to the shuffle method?","body":"<p>I don't understand the use of an additional random inside the shuffle method. From the examples I've seen so far, there's not benefit to it, or is there?\nIt says that it specifies the source of randomness, however, isn't the shuffle method in itself random? So why would I want to specify it any further?</p>\n<pre><code>ArrayList&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\nlist.add(1);\nlist.add(2);\nlist.add(3);\nlist.add(4);\nlist.add(5);\n\n//What is the difference?\nCollection.shuffle(list);\nCollection.shuffle(list, new Random(2));\n</code></pre>\n"},{"tags":["java","react-native","react-native-native-module","native-module"],"answers":[{"tags":[],"owner":{"account_id":1524137,"reputation":435,"user_id":1422979,"accept_rate":0,"display_name":"Debadeep Sen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625285204,"creation_date":1625285204,"answer_id":68233158,"question_id":68213584,"body_markdown":"Not sure what the issue with this is, but there is a workaround - using Callbacks, as described in https://reactnative.dev/docs/native-modules-android. I made the following modifications - \r\n\r\n```java\r\n@ReactMethod\r\npublic void add(Double a, Double b, Callback cb) {\r\n    Double sum = a + b;\r\n    cb.invoke(sum);\r\n}\r\n```\r\n\r\n```javascript\r\nimport { /* ... */ NativeModules } from &#39;react-native&#39;;\r\nconst { MathModule } = NativeModules;\r\n\r\n// ...\r\n// ...\r\n\r\nMathModule.add(10, 20, (sum) =&gt; {\r\n    alert(sum);\r\n})\r\n```\r\n\r\nAnd it does what I expect it to - alerts &quot;30&quot;.","title":"Native module in React Native: function returns &quot;undefined&quot;","body":"<p>Not sure what the issue with this is, but there is a workaround - using Callbacks, as described in <a href=\"https://reactnative.dev/docs/native-modules-android\" rel=\"nofollow noreferrer\">https://reactnative.dev/docs/native-modules-android</a>. I made the following modifications -</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ReactMethod\npublic void add(Double a, Double b, Callback cb) {\n    Double sum = a + b;\n    cb.invoke(sum);\n}\n</code></pre>\n<pre class=\"lang-js prettyprint-override\"><code>import { /* ... */ NativeModules } from 'react-native';\nconst { MathModule } = NativeModules;\n\n// ...\n// ...\n\nMathModule.add(10, 20, (sum) =&gt; {\n    alert(sum);\n})\n</code></pre>\n<p>And it does what I expect it to - alerts &quot;30&quot;.</p>\n"},{"tags":[],"owner":{"account_id":229347,"reputation":657,"user_id":2886839,"display_name":"kraxor"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1629468748,"creation_date":1629468748,"answer_id":68863669,"question_id":68213584,"body_markdown":"Calls to native methods are asynchronous, so they cannot return values directly.\r\n\r\nYou can either use a callback (as you figured out yourself), or a `Promise` to allow for the more elegant `async` / `await` syntax (and more):\r\n\r\n```java\r\n@ReactMethod\r\npublic void add(Double a, Double b, Promise promise) {\r\n    Double sum = a + b;\r\n    promise.resolve(sum);\r\n}\r\n```\r\n\r\n```js\r\nimport { NativeModules } from &#39;react-native&#39;;\r\n\r\nconst { MathOps } = NativeModules;\r\n\r\nexport const add = async (a, b) =&gt; {\r\n    return await MathOps.add(a, b);\r\n}\r\n```\r\n","title":"Native module in React Native: function returns &quot;undefined&quot;","body":"<p>Calls to native methods are asynchronous, so they cannot return values directly.</p>\n<p>You can either use a callback (as you figured out yourself), or a <code>Promise</code> to allow for the more elegant <code>async</code> / <code>await</code> syntax (and more):</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ReactMethod\npublic void add(Double a, Double b, Promise promise) {\n    Double sum = a + b;\n    promise.resolve(sum);\n}\n</code></pre>\n<pre class=\"lang-js prettyprint-override\"><code>import { NativeModules } from 'react-native';\n\nconst { MathOps } = NativeModules;\n\nexport const add = async (a, b) =&gt; {\n    return await MathOps.add(a, b);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18977591,"reputation":602,"user_id":13849716,"display_name":"mohit arora"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651432526,"creation_date":1651432526,"answer_id":72079717,"question_id":68213584,"body_markdown":"React Native bridge is asynchronous. We can pass data from Native Side to Javascript in following ways:-\r\n\r\n**1) Promise:** When the last parameter of a native module Java/Kotlin method is a Promise, its corresponding JS method will return a JS Promise object.\r\n\r\n In Module.java-&gt;\r\n\r\n    @ReactMethod\r\n    public void add(Double a, Double b, Promise promise) {            \r\n            Double sum = a + b;\r\n            promise.resolve(sum);\r\n    }       \r\n\r\n This is how you will then access in Javascript-&gt;              \r\n\r\n    import { NativeModules } from &#39;react-native&#39;; \r\n    const { MathOps } = NativeModules;\r\n    \r\n    export const add = async (a, b) =&gt; {\r\n        return await MathOps.add(a, b);\r\n    }\r\n\r\n**2. Callback**: They can also be used to asynchronously execute JavaScript from the native side.\r\n\r\nIn Module.java-&gt;\r\n\r\n    @ReactMethod\r\n    public void add(Double a, Double b, Callback cb) {            \r\n            Double sum = a + b;\r\n            cb.invoke(sum);\r\n    } \r\n\r\nThis is how you will then access in Javascript-&gt;\r\n\r\n    import { NativeModules } from &#39;react-native&#39;; \r\n    const { MathOps } = NativeModules;\r\n    \r\n    useEffect(() =&gt; {\r\n      MathOps.add(10, 12, (sum) =&gt; {\r\n        setState(sum);\r\n      });\r\n    }, [])\r\n\r\n**3. isBlockingSynchronousMethod** (Not Recommended due to performance penalties and threading-related bugs to your native modules): You can pass isBlockingSynchronousMethod = true to a native method to mark it as a synchronous method.\r\n\r\n    @ReactMethod(isBlockingSynchronousMethod = true)\r\n    public Double add(Double a, Double b){\r\n        Double sum = a + b;\r\n        return sum;\r\n    }\r\n\r\nIn js file:\r\n\r\n    import { NativeModules } from &#39;react-native&#39;; \r\n    const { MathOps } = NativeModules;\r\n    \r\n    export const add = async (a, b) =&gt; {\r\n        return await MathOps.add(a, b);\r\n    }\r\n\r\n**4. Emitting Events**: haven&#39;t explored it much.","title":"Native module in React Native: function returns &quot;undefined&quot;","body":"<p>React Native bridge is asynchronous. We can pass data from Native Side to Javascript in following ways:-</p>\n<p><strong>1) Promise:</strong> When the last parameter of a native module Java/Kotlin method is a Promise, its corresponding JS method will return a JS Promise object.</p>\n<p>In Module.java-&gt;</p>\n<pre><code>@ReactMethod\npublic void add(Double a, Double b, Promise promise) {            \n        Double sum = a + b;\n        promise.resolve(sum);\n}       \n</code></pre>\n<p>This is how you will then access in Javascript-&gt;</p>\n<pre><code>import { NativeModules } from 'react-native'; \nconst { MathOps } = NativeModules;\n\nexport const add = async (a, b) =&gt; {\n    return await MathOps.add(a, b);\n}\n</code></pre>\n<p><strong>2. Callback</strong>: They can also be used to asynchronously execute JavaScript from the native side.</p>\n<p>In Module.java-&gt;</p>\n<pre><code>@ReactMethod\npublic void add(Double a, Double b, Callback cb) {            \n        Double sum = a + b;\n        cb.invoke(sum);\n} \n</code></pre>\n<p>This is how you will then access in Javascript-&gt;</p>\n<pre><code>import { NativeModules } from 'react-native'; \nconst { MathOps } = NativeModules;\n\nuseEffect(() =&gt; {\n  MathOps.add(10, 12, (sum) =&gt; {\n    setState(sum);\n  });\n}, [])\n</code></pre>\n<p><strong>3. isBlockingSynchronousMethod</strong> (Not Recommended due to performance penalties and threading-related bugs to your native modules): You can pass isBlockingSynchronousMethod = true to a native method to mark it as a synchronous method.</p>\n<pre><code>@ReactMethod(isBlockingSynchronousMethod = true)\npublic Double add(Double a, Double b){\n    Double sum = a + b;\n    return sum;\n}\n</code></pre>\n<p>In js file:</p>\n<pre><code>import { NativeModules } from 'react-native'; \nconst { MathOps } = NativeModules;\n\nexport const add = async (a, b) =&gt; {\n    return await MathOps.add(a, b);\n}\n</code></pre>\n<p><strong>4. Emitting Events</strong>: haven't explored it much.</p>\n"}],"owner":{"account_id":1524137,"reputation":435,"user_id":1422979,"accept_rate":0,"display_name":"Debadeep Sen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3646,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":68863669,"answer_count":3,"score":8,"last_activity_date":1651432526,"creation_date":1625155783,"question_id":68213584,"body_markdown":"So, I am practicing making native modules in Java that can have functions exposed to the JavaScript code of React Native. For that, I decided to go for a simple demo math library. My code is as follows.\r\n\r\n`MathOpsModule.java`\r\n```java\r\npackage com.mb_rn_poc;\r\n\r\nimport com.facebook.react.bridge.ReactContextBaseJavaModule;\r\nimport com.facebook.react.bridge.ReactMethod;\r\n\r\npublic class MathOpsModule extends ReactContextBaseJavaModule {\r\n\r\n  @Override\r\n  public String getName() {\r\n    return &quot;MathOps&quot;; // Name of the Native Modules.\r\n  }\r\n\r\n  @ReactMethod\r\n  public int add(int a, int b) {\r\n    return (a + b);\r\n  }\r\n}\r\n```\r\n\r\n`MathOpsPackage.java`\r\n```java\r\npackage com.mb_rn_poc;\r\n\r\nimport com.facebook.react.ReactPackage;\r\nimport com.facebook.react.bridge.NativeModule;\r\nimport com.facebook.react.bridge.ReactApplicationContext;\r\nimport com.facebook.react.uimanager.ViewManager;\r\nimport java.util.ArrayList;\r\nimport java.util.Collections;\r\nimport java.util.List;\r\n\r\npublic class MathOpsPackage implements ReactPackage {\r\n\r\n@Override\r\npublic List&lt;ViewManager&gt; createViewManagers(\r\n  ReactApplicationContext reactContext\r\n) {\r\n    return Collections.emptyList();\r\n}\r\n\r\n@Override\r\npublic List&lt;NativeModule&gt; createNativeModules(\r\n      ReactApplicationContext reactContext\r\n) {\r\n    List&lt;NativeModule&gt; modules = new ArrayList&lt;&gt;();\r\n    // Register the MathOps module\r\n    modules.add(new MathOpsModule());\r\n    return modules;\r\n  }\r\n}\r\n```\r\n\r\n`MainApplication.java`\r\n```java\r\npackage com.mb_rn_poc;\r\n\r\nimport android.app.Application;\r\nimport android.content.Context;\r\nimport com.facebook.react.PackageList;\r\nimport com.facebook.react.ReactApplication;\r\nimport com.facebook.react.ReactInstanceManager;\r\nimport com.facebook.react.ReactNativeHost;\r\nimport com.facebook.react.ReactPackage;\r\nimport com.facebook.soloader.SoLoader;\r\nimport java.lang.reflect.InvocationTargetException;\r\nimport java.util.List;\r\n\r\npublic class MainApplication extends Application implements ReactApplication {\r\n\r\n  private final ReactNativeHost mReactNativeHost =\r\n      new ReactNativeHost(this) {\r\n        @Override\r\n        public boolean getUseDeveloperSupport() {\r\n          return BuildConfig.DEBUG;\r\n        }\r\n\r\n        @Override\r\n        protected List&lt;ReactPackage&gt; getPackages() {\r\n          @SuppressWarnings(&quot;UnnecessaryLocalVariable&quot;)\r\n          List&lt;ReactPackage&gt; packages = new PackageList(this).getPackages();\r\n          // Packages that cannot be autolinked yet can be added manually here, for example:\r\n          // packages.add(new MyReactNativePackage());\r\n          packages.add(new MathOpsPackage());\r\n          return packages;\r\n        }\r\n\r\n        @Override\r\n        protected String getJSMainModuleName() {\r\n          return &quot;index&quot;;\r\n        }\r\n      };\r\n\r\n  @Override\r\n  public ReactNativeHost getReactNativeHost() {\r\n    return mReactNativeHost;\r\n  }\r\n\r\n  @Override\r\n  public void onCreate() {\r\n    super.onCreate();\r\n    SoLoader.init(this, /* native exopackage */ false);\r\n    initializeFlipper(this, getReactNativeHost().getReactInstanceManager());\r\n  }\r\n\r\n  /**\r\n   * Loads Flipper in React Native templates. Call this in the onCreate method with something like\r\n   * initializeFlipper(this, getReactNativeHost().getReactInstanceManager());\r\n   *\r\n   * @param context\r\n   * @param reactInstanceManager\r\n   */\r\n  private static void initializeFlipper(\r\n      Context context, ReactInstanceManager reactInstanceManager) {\r\n    if (BuildConfig.DEBUG) {\r\n      try {\r\n        /*\r\n         We use reflection here to pick up the class that initializes Flipper,\r\n        since Flipper library is not available in release mode\r\n        */\r\n        Class&lt;?&gt; aClass = Class.forName(&quot;com.mb_rn_poc.ReactNativeFlipper&quot;);\r\n        aClass\r\n            .getMethod(&quot;initializeFlipper&quot;, Context.class, ReactInstanceManager.class)\r\n            .invoke(null, context, reactInstanceManager);\r\n      } catch (ClassNotFoundException e) {\r\n        e.printStackTrace();\r\n      } catch (NoSuchMethodException e) {\r\n        e.printStackTrace();\r\n      } catch (IllegalAccessException e) {\r\n        e.printStackTrace();\r\n      } catch (InvocationTargetException e) {\r\n        e.printStackTrace();\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nNow, on the React Native side of things, I have these two files - \r\n\r\n`MathOps.js`\r\n```javascript\r\nimport { NativeModules } from &#39;react-native&#39;;\r\n\r\nconst MathOps = NativeModules.MathOps;\r\n\r\nexport const add = (a, b) =&gt; {\r\n    return MathOps.add(a, b);\r\n}\r\n```\r\n\r\n`MainApp.js`\r\n```javascript\r\nimport React, { useEffect, useState } from &#39;react&#39;;\r\nimport { SafeAreaView, Text, View } from &#39;react-native&#39;;\r\nimport { add } from &quot;./NativeWrapper/MathOps&quot;;\r\n\r\nconst MainApp = () =&gt; {\r\n\r\n    const [state, setState] = useState(0);\r\n\r\n    useEffect(() =&gt; {\r\n        let sum = add(10, 12);\r\n        console.log({ sum });\r\n        setState(sum);\r\n\r\n    }, [])\r\n\r\n    return (\r\n        &lt;SafeAreaView&gt;\r\n            &lt;View&gt;\r\n                &lt;Text&gt;\r\n                    {state}\r\n                &lt;/Text&gt;\r\n            &lt;/View&gt;\r\n        &lt;/SafeAreaView&gt;\r\n    );\r\n}\r\n\r\nexport default MainApp;\r\n```\r\n\r\nThe problem is, the `add` function is returning `undefined`. As such, nothing gets printed on the screen. Any idea what I might be doing wrong?","title":"Native module in React Native: function returns &quot;undefined&quot;","body":"<p>So, I am practicing making native modules in Java that can have functions exposed to the JavaScript code of React Native. For that, I decided to go for a simple demo math library. My code is as follows.</p>\n<p><code>MathOpsModule.java</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.mb_rn_poc;\n\nimport com.facebook.react.bridge.ReactContextBaseJavaModule;\nimport com.facebook.react.bridge.ReactMethod;\n\npublic class MathOpsModule extends ReactContextBaseJavaModule {\n\n  @Override\n  public String getName() {\n    return &quot;MathOps&quot;; // Name of the Native Modules.\n  }\n\n  @ReactMethod\n  public int add(int a, int b) {\n    return (a + b);\n  }\n}\n</code></pre>\n<p><code>MathOpsPackage.java</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.mb_rn_poc;\n\nimport com.facebook.react.ReactPackage;\nimport com.facebook.react.bridge.NativeModule;\nimport com.facebook.react.bridge.ReactApplicationContext;\nimport com.facebook.react.uimanager.ViewManager;\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.List;\n\npublic class MathOpsPackage implements ReactPackage {\n\n@Override\npublic List&lt;ViewManager&gt; createViewManagers(\n  ReactApplicationContext reactContext\n) {\n    return Collections.emptyList();\n}\n\n@Override\npublic List&lt;NativeModule&gt; createNativeModules(\n      ReactApplicationContext reactContext\n) {\n    List&lt;NativeModule&gt; modules = new ArrayList&lt;&gt;();\n    // Register the MathOps module\n    modules.add(new MathOpsModule());\n    return modules;\n  }\n}\n</code></pre>\n<p><code>MainApplication.java</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.mb_rn_poc;\n\nimport android.app.Application;\nimport android.content.Context;\nimport com.facebook.react.PackageList;\nimport com.facebook.react.ReactApplication;\nimport com.facebook.react.ReactInstanceManager;\nimport com.facebook.react.ReactNativeHost;\nimport com.facebook.react.ReactPackage;\nimport com.facebook.soloader.SoLoader;\nimport java.lang.reflect.InvocationTargetException;\nimport java.util.List;\n\npublic class MainApplication extends Application implements ReactApplication {\n\n  private final ReactNativeHost mReactNativeHost =\n      new ReactNativeHost(this) {\n        @Override\n        public boolean getUseDeveloperSupport() {\n          return BuildConfig.DEBUG;\n        }\n\n        @Override\n        protected List&lt;ReactPackage&gt; getPackages() {\n          @SuppressWarnings(&quot;UnnecessaryLocalVariable&quot;)\n          List&lt;ReactPackage&gt; packages = new PackageList(this).getPackages();\n          // Packages that cannot be autolinked yet can be added manually here, for example:\n          // packages.add(new MyReactNativePackage());\n          packages.add(new MathOpsPackage());\n          return packages;\n        }\n\n        @Override\n        protected String getJSMainModuleName() {\n          return &quot;index&quot;;\n        }\n      };\n\n  @Override\n  public ReactNativeHost getReactNativeHost() {\n    return mReactNativeHost;\n  }\n\n  @Override\n  public void onCreate() {\n    super.onCreate();\n    SoLoader.init(this, /* native exopackage */ false);\n    initializeFlipper(this, getReactNativeHost().getReactInstanceManager());\n  }\n\n  /**\n   * Loads Flipper in React Native templates. Call this in the onCreate method with something like\n   * initializeFlipper(this, getReactNativeHost().getReactInstanceManager());\n   *\n   * @param context\n   * @param reactInstanceManager\n   */\n  private static void initializeFlipper(\n      Context context, ReactInstanceManager reactInstanceManager) {\n    if (BuildConfig.DEBUG) {\n      try {\n        /*\n         We use reflection here to pick up the class that initializes Flipper,\n        since Flipper library is not available in release mode\n        */\n        Class&lt;?&gt; aClass = Class.forName(&quot;com.mb_rn_poc.ReactNativeFlipper&quot;);\n        aClass\n            .getMethod(&quot;initializeFlipper&quot;, Context.class, ReactInstanceManager.class)\n            .invoke(null, context, reactInstanceManager);\n      } catch (ClassNotFoundException e) {\n        e.printStackTrace();\n      } catch (NoSuchMethodException e) {\n        e.printStackTrace();\n      } catch (IllegalAccessException e) {\n        e.printStackTrace();\n      } catch (InvocationTargetException e) {\n        e.printStackTrace();\n      }\n    }\n  }\n}\n</code></pre>\n<p>Now, on the React Native side of things, I have these two files -</p>\n<p><code>MathOps.js</code></p>\n<pre class=\"lang-js prettyprint-override\"><code>import { NativeModules } from 'react-native';\n\nconst MathOps = NativeModules.MathOps;\n\nexport const add = (a, b) =&gt; {\n    return MathOps.add(a, b);\n}\n</code></pre>\n<p><code>MainApp.js</code></p>\n<pre class=\"lang-js prettyprint-override\"><code>import React, { useEffect, useState } from 'react';\nimport { SafeAreaView, Text, View } from 'react-native';\nimport { add } from &quot;./NativeWrapper/MathOps&quot;;\n\nconst MainApp = () =&gt; {\n\n    const [state, setState] = useState(0);\n\n    useEffect(() =&gt; {\n        let sum = add(10, 12);\n        console.log({ sum });\n        setState(sum);\n\n    }, [])\n\n    return (\n        &lt;SafeAreaView&gt;\n            &lt;View&gt;\n                &lt;Text&gt;\n                    {state}\n                &lt;/Text&gt;\n            &lt;/View&gt;\n        &lt;/SafeAreaView&gt;\n    );\n}\n\nexport default MainApp;\n</code></pre>\n<p>The problem is, the <code>add</code> function is returning <code>undefined</code>. As such, nothing gets printed on the screen. Any idea what I might be doing wrong?</p>\n"},{"tags":["java","spring-data-jpa","jpql"],"answers":[{"tags":[],"owner":{"account_id":4276585,"reputation":83,"user_id":3497049,"display_name":"Minh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651418800,"creation_date":1651418800,"answer_id":72078061,"question_id":72077017,"body_markdown":"I guess your test didn&#39;t commit anything to the database\r\n\r\nTry to add @Rollback(value = false) to the test class may help\r\n\r\n[![Spring boot with JUnit 5 test][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SaVcm.png","title":"Spring Data JPA - JPQL update query - printing out unupdated value","body":"<p>I guess your test didn't commit anything to the database</p>\n<p>Try to add @Rollback(value = false) to the test class may help</p>\n<p><a href=\"https://i.stack.imgur.com/SaVcm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SaVcm.png\" alt=\"Spring boot with JUnit 5 test\" /></a></p>\n"},{"tags":[],"owner":{"account_id":24555304,"reputation":936,"user_id":18463973,"display_name":"DevThiman"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1651431813,"creation_date":1651431813,"answer_id":72079636,"question_id":72077017,"body_markdown":"According to the *JPA’s entity lifecycle states* save() method may not write your changes to database immediately. \r\n\r\nSince we use **@Modifying** in update query, this triggers the query annotated to the method as an updating query instead of a selecting one.\r\n\r\nReason for above issue is, when we save(), the persistence context of this with outdated entities may still there after the execution of the modifying query. `EntityManager` do not automatically clear it.  If you wish the `EntityManager` to be cleared/flushed automatically, you can set the **@Modifying** annotation’s *clearAutomatically* and *flushAutomatically* attribute to true. Check this official doc [Modifying Queries][1].\r\n\r\n[Annotation Type Modifying][2]\r\n\r\n***clearAutomatically(true/false)*** - Defines whether we should clear the underlying persistence context after executing the modifying query. (Default -false)\r\n\r\n***flushAutomatically(true/false)*** - Defines whether we should flush the underlying persistence context before executing the modifying query. (Default -false)\r\n\r\nAdd this ***@Modifying(clearAutomatically = true, flushAutomatically = true)*** to the `updateFirstNameByLastName` method as below.\r\n\r\n    @Modifying(clearAutomatically = true, flushAutomatically = true)\r\n    @Transactional\r\n    @Query(&quot;update Student s set s.firstName = ?1 where s.lastName= ?2&quot;)\r\n    public void updateFirstNameByLastName(String firstName, String lastName)\r\n\r\n  [1]: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.modifying-queries\r\n  [2]: https://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/repository/Modifying.html","title":"Spring Data JPA - JPQL update query - printing out unupdated value","body":"<p>According to the <em>JPA’s entity lifecycle states</em> save() method may not write your changes to database immediately.</p>\n<p>Since we use <strong>@Modifying</strong> in update query, this triggers the query annotated to the method as an updating query instead of a selecting one.</p>\n<p>Reason for above issue is, when we save(), the persistence context of this with outdated entities may still there after the execution of the modifying query. <code>EntityManager</code> do not automatically clear it.  If you wish the <code>EntityManager</code> to be cleared/flushed automatically, you can set the <strong>@Modifying</strong> annotation’s <em>clearAutomatically</em> and <em>flushAutomatically</em> attribute to true. Check this official doc <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.modifying-queries\" rel=\"nofollow noreferrer\">Modifying Queries</a>.</p>\n<p><a href=\"https://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/repository/Modifying.html\" rel=\"nofollow noreferrer\">Annotation Type Modifying</a></p>\n<p><em><strong>clearAutomatically(true/false)</strong></em> - Defines whether we should clear the underlying persistence context after executing the modifying query. (Default -false)</p>\n<p><em><strong>flushAutomatically(true/false)</strong></em> - Defines whether we should flush the underlying persistence context before executing the modifying query. (Default -false)</p>\n<p>Add this <em><strong>@Modifying(clearAutomatically = true, flushAutomatically = true)</strong></em> to the <code>updateFirstNameByLastName</code> method as below.</p>\n<pre><code>@Modifying(clearAutomatically = true, flushAutomatically = true)\n@Transactional\n@Query(&quot;update Student s set s.firstName = ?1 where s.lastName= ?2&quot;)\npublic void updateFirstNameByLastName(String firstName, String lastName)\n</code></pre>\n"}],"owner":{"account_id":22272638,"reputation":150,"user_id":16502352,"display_name":"Lorenz Mueller"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5295,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72079636,"answer_count":2,"score":0,"last_activity_date":1651431813,"creation_date":1651410669,"question_id":72077017,"body_markdown":"Trying out doing update Queries in Spring Data JPA. In my test method (see below) I&#39;m saving one student with firstName=&quot;Bill&quot; and lastName=&quot;Smith&quot;. How can it be that I&#39;m getting &quot;Bill&quot; printed out to the console (very last line), given that studentRespository.findByFirstName(&quot;John&quot;) actually gives a list with one member?\r\nAny help appreciated...\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n        @Modifying(flushAutomatically = true)\r\n        @Transactional\r\n        @Query(&quot;update Student s set s.firstName = ?1 where s.lastName= ?2&quot;)\r\n        public void updateFirstNameByLastName(String firstName, String lastName)\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n        @Test\r\n        public void updateStudentFirstNameByLastName() {\r\n            studentRepository.save(student); //student.firstName=&quot;Bill&quot;, student.lastName=&quot;Smith&quot;\r\n            studentRepository.updateFirstNameByLastName(&quot;John&quot;, &quot;Smith&quot;);\r\n            List&lt;Student&gt; studentList = studentRepository.findByFirstName(&quot;John&quot;); // size 1\r\n            System.out.println(studentList.get(0).getFirstName()); // &quot;Bill&quot;\r\n        }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Spring Data JPA - JPQL update query - printing out unupdated value","body":"<p>Trying out doing update Queries in Spring Data JPA. In my test method (see below) I'm saving one student with firstName=&quot;Bill&quot; and lastName=&quot;Smith&quot;. How can it be that I'm getting &quot;Bill&quot; printed out to the console (very last line), given that studentRespository.findByFirstName(&quot;John&quot;) actually gives a list with one member?\nAny help appreciated...</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>    @Modifying(flushAutomatically = true)\n    @Transactional\n    @Query(\"update Student s set s.firstName = ?1 where s.lastName= ?2\")\n    public void updateFirstNameByLastName(String firstName, String lastName)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>    @Test\n    public void updateStudentFirstNameByLastName() {\n        studentRepository.save(student); //student.firstName=\"Bill\", student.lastName=\"Smith\"\n        studentRepository.updateFirstNameByLastName(\"John\", \"Smith\");\n        List&lt;Student&gt; studentList = studentRepository.findByFirstName(\"John\"); // size 1\n        System.out.println(studentList.get(0).getFirstName()); // \"Bill\"\n    }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":["java","spring-boot","docker","cloud"],"answers":[{"tags":[],"owner":{"account_id":19295326,"reputation":1,"user_id":14104409,"display_name":"Nikolay Trushkov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651430711,"creation_date":1651337142,"answer_id":72070365,"question_id":71939682,"body_markdown":"I got this error and did not understand why. Than I did request by Postman and I received another error:\r\n\r\n&gt; write EPROTO 49582920:error:100000f7:SSL routines:OPENSSL_internal:WRONG_VERSION_NUMBER:../../third_party/boringssl/src/ssl/tls_record.cc:242: So the rison of this problem - you do https request instead http.","title":"Spring cloud gateway is unable to decode when deployed in the staging environment","body":"<p>I got this error and did not understand why. Than I did request by Postman and I received another error:</p>\n<blockquote>\n<p>write EPROTO 49582920:error:100000f7:SSL routines:OPENSSL_internal:WRONG_VERSION_NUMBER:../../third_party/boringssl/src/ssl/tls_record.cc:242: So the rison of this problem - you do https request instead http.</p>\n</blockquote>\n"}],"owner":{"account_id":16285042,"reputation":1,"user_id":11760005,"display_name":"CatMeister"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1046,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651430711,"creation_date":1650457872,"question_id":71939682,"body_markdown":"I was recently tasked with upgrading a spring cloud app of ours due to the CVE-2022-22965 vulnerability.\r\n\r\nAs part of that process, it became clear that the then current zuul gateway was simply to outdated, so it was replaced with a spring cloud gateway instead. \r\n\r\nNow, I&#39;ve gotten it to work locally, but the staging environment won&#39;t play ball, even though it worked fine with the old gateway.\r\n\r\nThe error I get when attempting to talk to it is this:\r\n\r\n    WARN 1 --- [or-http-epoll-1] r.n.http.server.HttpServerOperations     : [72c0060d, L:/172.23.0.9:8080 - R:/10.151.3.198:57204] Decoding failed: DefaultFullHttpRequest(decodeResult: failure(java.lang.IllegalArgumentException: text is empty (possibly HTTP/0.9)), version: HTTP/1.0, content: UnpooledByteBufAllocator$InstrumentedUnpooledUnsafeHeapByteBuf(ridx: 0, widx: 0, cap: 0))\r\n    \r\n    GET /bad-request HTTP/1.0 : \r\n    \r\n    java.lang.IllegalArgumentException: text is empty (possibly HTTP/0.9)    \r\n    \tat io.netty.handler.codec.http.HttpVersion.valueOf(HttpVersion.java:65) ~[netty-codec-http-4.1.75.Final.jar!/:4.1.75.Final]    \r\n    \tat io.netty.handler.codec.http.HttpRequestDecoder.createMessage(HttpRequestDecoder.java:124) ~[netty-codec-http-4.1.75.Final.jar!/:4.1.75.Final]    \r\n    \tat io.netty.handler.codec.http.HttpObjectDecoder.decode(HttpObjectDecoder.java:273) ~[netty-codec-http-4.1.75.Final.jar!/:4.1.75.Final]    \r\n    \tat io.netty.handler.codec.http.HttpServerCodec$HttpServerRequestDecoder.decode(HttpServerCodec.java:140) ~[netty-codec-http-4.1.75.Final.jar!/:4.1.75.Final]    \r\n    \tat io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:510) ~[netty-codec-4.1.75.Final.jar!/:4.1.75.Final]    \r\n    \tat io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:449) ~[netty-codec-4.1.75.Final.jar!/:4.1.75.Final]    \r\n    \tat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:279) ~[netty-codec-4.1.75.Final.jar!/:4.1.75.Final]    \r\n    \tat io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251) ~[netty-transport-4.1.75.Final.jar!/:4.1.75.Final]    \r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.75.Final.jar!/:4.1.75.Final]    \r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.75.Final.jar!/:4.1.75.Final]    \r\n    \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[netty-transport-4.1.75.Final.jar!/:4.1.75.Final]    \r\n    \tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) ~[netty-transport-4.1.75.Final.jar!/:4.1.75.Final]    \r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.75.Final.jar!/:4.1.75.Final]    \r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.75.Final.jar!/:4.1.75.Final]    \r\n    \tat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) ~[netty-transport-4.1.75.Final.jar!/:4.1.75.Final]    \r\n    \tat io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:800) ~[netty-transport-classes-epoll-4.1.75.Final.jar!/:4.1.75.Final]    \r\n    \tat io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:480) ~[netty-transport-classes-epoll-4.1.75.Final.jar!/:4.1.75.Final]\r\n    \tat io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:378) ~[netty-transport-classes-epoll-4.1.75.Final.jar!/:4.1.75.Final]\r\n    \tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:986) ~[netty-common-4.1.75.Final.jar!/:4.1.75.Final]\r\n    \tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.75.Final.jar!/:4.1.75.Final]\r\n    \tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.75.Final.jar!/:4.1.75.Final]\r\n    \tat java.base/java.lang.Thread.run(Thread.java:866) ~[na:na]\r\n\r\nAs for the differences between testing locally, and the stage environment, the stage environment uses docker. So presumably the problem is related to that. However, docker was used before as well, without any issues. Suffice it to say, the old and new gateways are functionally very similar, as the new gateway is intended to be a dropin replacement.\r\n\r\nAnother possible wildcard here, is that I ran into a peculiar problem with our frontend midway through the development process. While I never found out exactly what went wrong, I did discover that that the Dockerfile was based on an image called `tiangolo/node-frontend` that itself was based on the offical node:10 image. The code was old, and local attempt to manually build said Dockerfile failed. So I simply elected to replace it completely with my own Dockerfile that based itself off the offical node:16 image over on dockerhub. This code appears to work fine, as the build server does not complain. All in all, I don&#39;t think this is the culprit.\r\n\r\nI am at loss as to what&#39;s going on. Simple google searches suggests it&#39;s related to TLS, but only http is used here, irrespective of environment. Again, this only happens in the dockerized stage environment, local runs work fine.\r\n\r\nI don&#39;t really know where to go from here.","title":"Spring cloud gateway is unable to decode when deployed in the staging environment","body":"<p>I was recently tasked with upgrading a spring cloud app of ours due to the CVE-2022-22965 vulnerability.</p>\n<p>As part of that process, it became clear that the then current zuul gateway was simply to outdated, so it was replaced with a spring cloud gateway instead.</p>\n<p>Now, I've gotten it to work locally, but the staging environment won't play ball, even though it worked fine with the old gateway.</p>\n<p>The error I get when attempting to talk to it is this:</p>\n<pre><code>WARN 1 --- [or-http-epoll-1] r.n.http.server.HttpServerOperations     : [72c0060d, L:/172.23.0.9:8080 - R:/10.151.3.198:57204] Decoding failed: DefaultFullHttpRequest(decodeResult: failure(java.lang.IllegalArgumentException: text is empty (possibly HTTP/0.9)), version: HTTP/1.0, content: UnpooledByteBufAllocator$InstrumentedUnpooledUnsafeHeapByteBuf(ridx: 0, widx: 0, cap: 0))\n\nGET /bad-request HTTP/1.0 : \n\njava.lang.IllegalArgumentException: text is empty (possibly HTTP/0.9)    \n    at io.netty.handler.codec.http.HttpVersion.valueOf(HttpVersion.java:65) ~[netty-codec-http-4.1.75.Final.jar!/:4.1.75.Final]    \n    at io.netty.handler.codec.http.HttpRequestDecoder.createMessage(HttpRequestDecoder.java:124) ~[netty-codec-http-4.1.75.Final.jar!/:4.1.75.Final]    \n    at io.netty.handler.codec.http.HttpObjectDecoder.decode(HttpObjectDecoder.java:273) ~[netty-codec-http-4.1.75.Final.jar!/:4.1.75.Final]    \n    at io.netty.handler.codec.http.HttpServerCodec$HttpServerRequestDecoder.decode(HttpServerCodec.java:140) ~[netty-codec-http-4.1.75.Final.jar!/:4.1.75.Final]    \n    at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:510) ~[netty-codec-4.1.75.Final.jar!/:4.1.75.Final]    \n    at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:449) ~[netty-codec-4.1.75.Final.jar!/:4.1.75.Final]    \n    at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:279) ~[netty-codec-4.1.75.Final.jar!/:4.1.75.Final]    \n    at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251) ~[netty-transport-4.1.75.Final.jar!/:4.1.75.Final]    \n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.75.Final.jar!/:4.1.75.Final]    \n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.75.Final.jar!/:4.1.75.Final]    \n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[netty-transport-4.1.75.Final.jar!/:4.1.75.Final]    \n    at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) ~[netty-transport-4.1.75.Final.jar!/:4.1.75.Final]    \n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.75.Final.jar!/:4.1.75.Final]    \n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.75.Final.jar!/:4.1.75.Final]    \n    at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) ~[netty-transport-4.1.75.Final.jar!/:4.1.75.Final]    \n    at io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:800) ~[netty-transport-classes-epoll-4.1.75.Final.jar!/:4.1.75.Final]    \n    at io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:480) ~[netty-transport-classes-epoll-4.1.75.Final.jar!/:4.1.75.Final]\n    at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:378) ~[netty-transport-classes-epoll-4.1.75.Final.jar!/:4.1.75.Final]\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:986) ~[netty-common-4.1.75.Final.jar!/:4.1.75.Final]\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.75.Final.jar!/:4.1.75.Final]\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.75.Final.jar!/:4.1.75.Final]\n    at java.base/java.lang.Thread.run(Thread.java:866) ~[na:na]\n</code></pre>\n<p>As for the differences between testing locally, and the stage environment, the stage environment uses docker. So presumably the problem is related to that. However, docker was used before as well, without any issues. Suffice it to say, the old and new gateways are functionally very similar, as the new gateway is intended to be a dropin replacement.</p>\n<p>Another possible wildcard here, is that I ran into a peculiar problem with our frontend midway through the development process. While I never found out exactly what went wrong, I did discover that that the Dockerfile was based on an image called <code>tiangolo/node-frontend</code> that itself was based on the offical node:10 image. The code was old, and local attempt to manually build said Dockerfile failed. So I simply elected to replace it completely with my own Dockerfile that based itself off the offical node:16 image over on dockerhub. This code appears to work fine, as the build server does not complain. All in all, I don't think this is the culprit.</p>\n<p>I am at loss as to what's going on. Simple google searches suggests it's related to TLS, but only http is used here, irrespective of environment. Again, this only happens in the dockerized stage environment, local runs work fine.</p>\n<p>I don't really know where to go from here.</p>\n"},{"tags":["java","flutter","dart"],"comments":[{"owner":{"account_id":14860917,"reputation":1466,"user_id":10731757,"display_name":"Basel Abuhadrous"},"score":1,"creation_date":1651442281,"post_id":72079486,"comment_id":127360728,"body_markdown":"What is your end goal? simple apps don&#39;t need to communicate with the native side, and I see you mentioning http requests which can  be done using libraries such as Dio, so please clarify what is your goal behind talking to the native side?","body":"What is your end goal? simple apps don&#39;t need to communicate with the native side, and I see you mentioning http requests which can  be done using libraries such as Dio, so please clarify what is your goal behind talking to the native side?"},{"owner":{"account_id":23357202,"reputation":21,"user_id":17430012,"display_name":"DoktorSAS"},"score":0,"creation_date":1651506420,"post_id":72079486,"comment_id":127375068,"body_markdown":"My goal is send to the dart code the information to parse so he the view will show the correct data on screen.","body":"My goal is send to the dart code the information to parse so he the view will show the correct data on screen."},{"owner":{"account_id":14860917,"reputation":1466,"user_id":10731757,"display_name":"Basel Abuhadrous"},"score":0,"creation_date":1651586039,"post_id":72079486,"comment_id":127394692,"body_markdown":"check this article it will help you understand how Dart/Flutter communicate with the runtime environment https://docs.flutter.dev/development/platform-integration/platform-channels","body":"check this article it will help you understand how Dart/Flutter communicate with the runtime environment <a href=\"https://docs.flutter.dev/development/platform-integration/platform-channels\" rel=\"nofollow noreferrer\">docs.flutter.dev/development/platform-integration/&hellip;</a>"}],"owner":{"account_id":23357202,"reputation":21,"user_id":17430012,"display_name":"DoktorSAS"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651430439,"creation_date":1651430439,"question_id":72079486,"body_markdown":"im working on a simple app in flutter and i think im overthinking. What is the best and most efficient way to make dart communicate with java?\r\nI&#39;ve seen people using http requests but I don&#39;t have a server that can respond to http requests. \r\n\r\nSo I&#39;m trying to use the system with the MethodChannel but I can&#39;t get the code to work as intended. \r\nAre there better systems besides this one? Are there any guides or example app you can recommend for using these systems?","title":"Whats the best way to make comunicate the dart code with the java code in flutter?","body":"<p>im working on a simple app in flutter and i think im overthinking. What is the best and most efficient way to make dart communicate with java?\nI've seen people using http requests but I don't have a server that can respond to http requests.</p>\n<p>So I'm trying to use the system with the MethodChannel but I can't get the code to work as intended.\nAre there better systems besides this one? Are there any guides or example app you can recommend for using these systems?</p>\n"},{"tags":["java","android","alarmmanager","android-alarms","android-1.5-cupcake"],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":0,"up_vote_count":111,"is_accepted":true,"score":111,"last_activity_date":1385733525,"creation_date":1246735803,"answer_id":1082836,"question_id":1082437,"body_markdown":"&quot;Some sample code&quot; is not that easy when it comes to `AlarmManager`.\r\n\r\nHere is a snippet showing the setup of `AlarmManager`:\r\n\r\n    AlarmManager mgr=(AlarmManager)context.getSystemService(Context.ALARM_SERVICE);\r\n    Intent i=new Intent(context, OnAlarmReceiver.class);\r\n    PendingIntent pi=PendingIntent.getBroadcast(context, 0, i, 0);\r\n    \r\n    mgr.setRepeating(AlarmManager.ELAPSED_REALTIME_WAKEUP, SystemClock.elapsedRealtime(), PERIOD, pi);\r\n\r\nIn this example, I am using `setRepeating()`. If you want a one-shot alarm, you would just use `set()`. Be sure to give the time for the alarm to start in the same time base as you use in the initial parameter to `set()`. In my example above, I am using `AlarmManager.ELAPSED_REALTIME_WAKEUP`, so my time base is `SystemClock.elapsedRealtime()`.\r\n\r\n[Here is a larger sample project][1] showing this technique.\r\n\r\n\r\n  [1]: https://github.com/commonsguy/cw-omnibus/tree/master/AlarmManager/Scheduled","title":"Android: How to use AlarmManager","body":"<p>\"Some sample code\" is not that easy when it comes to <code>AlarmManager</code>.</p>\n\n<p>Here is a snippet showing the setup of <code>AlarmManager</code>:</p>\n\n<pre><code>AlarmManager mgr=(AlarmManager)context.getSystemService(Context.ALARM_SERVICE);\nIntent i=new Intent(context, OnAlarmReceiver.class);\nPendingIntent pi=PendingIntent.getBroadcast(context, 0, i, 0);\n\nmgr.setRepeating(AlarmManager.ELAPSED_REALTIME_WAKEUP, SystemClock.elapsedRealtime(), PERIOD, pi);\n</code></pre>\n\n<p>In this example, I am using <code>setRepeating()</code>. If you want a one-shot alarm, you would just use <code>set()</code>. Be sure to give the time for the alarm to start in the same time base as you use in the initial parameter to <code>set()</code>. In my example above, I am using <code>AlarmManager.ELAPSED_REALTIME_WAKEUP</code>, so my time base is <code>SystemClock.elapsedRealtime()</code>.</p>\n\n<p><a href=\"https://github.com/commonsguy/cw-omnibus/tree/master/AlarmManager/Scheduled\" rel=\"noreferrer\">Here is a larger sample project</a> showing this technique.</p>\n"},{"tags":[],"owner":{"account_id":85756,"reputation":11515,"user_id":238902,"accept_rate":97,"display_name":"default"},"down_vote_count":1,"up_vote_count":71,"is_accepted":false,"score":70,"last_activity_date":1320097132,"creation_date":1320097132,"answer_id":7960057,"question_id":1082437,"body_markdown":"There are some good examples in the android sample code\r\n\r\n&gt;  .\\android-sdk\\samples\\android-10\\ApiDemos\\src\\com\\example\\android\\apis\\app\r\n\r\n \r\nThe ones to check out are:\r\n\r\n- AlarmController.java\r\n- OneShotAlarm.java\r\n\r\nFirst of, you need a receiver, something that can listen to your alarm when it is triggered. Add the following to your AndroidManifest.xml file\r\n\r\n    &lt;receiver android:name=&quot;.MyAlarmReceiver&quot; /&gt;\r\n   \r\nThen, create the following class\r\n\r\n    public class MyAlarmReceiver extends BroadcastReceiver { \r\n         @Override\r\n         public void onReceive(Context context, Intent intent) {\r\n             Toast.makeText(context, &quot;Alarm went off&quot;, Toast.LENGTH_SHORT).show();\r\n         }\r\n    }\r\n\r\n\r\nThen, to trigger an alarm, use the following (for instance in your main activity):\r\n\r\n    AlarmManager alarmMgr = (AlarmManager)getSystemService(Context.ALARM_SERVICE);\r\n    Intent intent = new Intent(this, MyAlarmReceiver.class);\r\n    PendingIntent pendingIntent = PendingIntent.getBroadcast(this, 0, intent, 0);\r\n    Calendar time = Calendar.getInstance();\r\n    time.setTimeInMillis(System.currentTimeMillis());\r\n    time.add(Calendar.SECOND, 30);\r\n    alarmMgr.set(AlarmManager.RTC_WAKEUP, time.getTimeInMillis(), pendingIntent);\r\n   \r\n \r\n. \r\n    \r\n---\r\n\r\n\r\n\r\nOr, better yet, make a class that handles it all and use it like this\r\n\r\n    Bundle bundle = new Bundle();\r\n    // add extras here..\r\n    MyAlarm alarm = new MyAlarm(this, bundle, 30);\r\n\r\n\r\nthis way, you have it all in one place (don&#39;t forget to edit the `AndroidManifest.xml`)\r\n\r\n    public class MyAlarm extends BroadcastReceiver {\r\n        private final String REMINDER_BUNDLE = &quot;MyReminderBundle&quot;; \r\n\r\n        // this constructor is called by the alarm manager.\r\n        public MyAlarm(){ }\r\n\r\n        // you can use this constructor to create the alarm. \r\n        //  Just pass in the main activity as the context, \r\n        //  any extras you&#39;d like to get later when triggered \r\n        //  and the timeout\r\n         public MyAlarm(Context context, Bundle extras, int timeoutInSeconds){\r\n             AlarmManager alarmMgr = \r\n                 (AlarmManager)context.getSystemService(Context.ALARM_SERVICE);\r\n             Intent intent = new Intent(context, MyAlarm.class);\r\n             intent.putExtra(REMINDER_BUNDLE, extras);\r\n             PendingIntent pendingIntent =\r\n                 PendingIntent.getBroadcast(context, 0, intent, \r\n                 PendingIntent.FLAG_UPDATE_CURRENT);\r\n             Calendar time = Calendar.getInstance();\r\n             time.setTimeInMillis(System.currentTimeMillis());\r\n             time.add(Calendar.SECOND, timeoutInSeconds);\r\n             alarmMgr.set(AlarmManager.RTC_WAKEUP, time.getTimeInMillis(),\r\n                          pendingIntent);\r\n         }\r\n\r\n          @Override\r\n         public void onReceive(Context context, Intent intent) {\r\n             // here you can get the extras you passed in when creating the alarm\r\n             //intent.getBundleExtra(REMINDER_BUNDLE));\r\n     \r\n             Toast.makeText(context, &quot;Alarm went off&quot;, Toast.LENGTH_SHORT).show();\r\n         }\r\n    }","title":"Android: How to use AlarmManager","body":"<p>There are some good examples in the android sample code</p>\n\n<blockquote>\n  <p>.\\android-sdk\\samples\\android-10\\ApiDemos\\src\\com\\example\\android\\apis\\app</p>\n</blockquote>\n\n<p>The ones to check out are:</p>\n\n<ul>\n<li>AlarmController.java</li>\n<li>OneShotAlarm.java</li>\n</ul>\n\n<p>First of, you need a receiver, something that can listen to your alarm when it is triggered. Add the following to your AndroidManifest.xml file</p>\n\n<pre><code>&lt;receiver android:name=\".MyAlarmReceiver\" /&gt;\n</code></pre>\n\n<p>Then, create the following class</p>\n\n<pre><code>public class MyAlarmReceiver extends BroadcastReceiver { \n     @Override\n     public void onReceive(Context context, Intent intent) {\n         Toast.makeText(context, \"Alarm went off\", Toast.LENGTH_SHORT).show();\n     }\n}\n</code></pre>\n\n<p>Then, to trigger an alarm, use the following (for instance in your main activity):</p>\n\n<pre><code>AlarmManager alarmMgr = (AlarmManager)getSystemService(Context.ALARM_SERVICE);\nIntent intent = new Intent(this, MyAlarmReceiver.class);\nPendingIntent pendingIntent = PendingIntent.getBroadcast(this, 0, intent, 0);\nCalendar time = Calendar.getInstance();\ntime.setTimeInMillis(System.currentTimeMillis());\ntime.add(Calendar.SECOND, 30);\nalarmMgr.set(AlarmManager.RTC_WAKEUP, time.getTimeInMillis(), pendingIntent);\n</code></pre>\n\n<p>. </p>\n\n<hr>\n\n<p>Or, better yet, make a class that handles it all and use it like this</p>\n\n<pre><code>Bundle bundle = new Bundle();\n// add extras here..\nMyAlarm alarm = new MyAlarm(this, bundle, 30);\n</code></pre>\n\n<p>this way, you have it all in one place (don't forget to edit the <code>AndroidManifest.xml</code>)</p>\n\n<pre><code>public class MyAlarm extends BroadcastReceiver {\n    private final String REMINDER_BUNDLE = \"MyReminderBundle\"; \n\n    // this constructor is called by the alarm manager.\n    public MyAlarm(){ }\n\n    // you can use this constructor to create the alarm. \n    //  Just pass in the main activity as the context, \n    //  any extras you'd like to get later when triggered \n    //  and the timeout\n     public MyAlarm(Context context, Bundle extras, int timeoutInSeconds){\n         AlarmManager alarmMgr = \n             (AlarmManager)context.getSystemService(Context.ALARM_SERVICE);\n         Intent intent = new Intent(context, MyAlarm.class);\n         intent.putExtra(REMINDER_BUNDLE, extras);\n         PendingIntent pendingIntent =\n             PendingIntent.getBroadcast(context, 0, intent, \n             PendingIntent.FLAG_UPDATE_CURRENT);\n         Calendar time = Calendar.getInstance();\n         time.setTimeInMillis(System.currentTimeMillis());\n         time.add(Calendar.SECOND, timeoutInSeconds);\n         alarmMgr.set(AlarmManager.RTC_WAKEUP, time.getTimeInMillis(),\n                      pendingIntent);\n     }\n\n      @Override\n     public void onReceive(Context context, Intent intent) {\n         // here you can get the extras you passed in when creating the alarm\n         //intent.getBundleExtra(REMINDER_BUNDLE));\n\n         Toast.makeText(context, \"Alarm went off\", Toast.LENGTH_SHORT).show();\n     }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":892377,"reputation":1576,"user_id":930386,"accept_rate":77,"display_name":"The Digital Ad Venture"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1324379920,"creation_date":1320320377,"answer_id":7994247,"question_id":1082437,"body_markdown":"Some sample code when you want to call a service from the Alarmmanager:\r\n\r\n    PendingIntent pi;\r\n    AlarmManager mgr;\r\n    mgr = (AlarmManager)ctx.getSystemService(Context.ALARM_SERVICE);\r\n    Intent i = new Intent(DataCollectionActivity.this, HUJIDataCollectionService.class);\t\r\n    pi = PendingIntent.getService(DataCollectionActivity.this, 0, i, 0);\r\n    mgr.setRepeating(AlarmManager.ELAPSED_REALTIME_WAKEUP, SystemClock.elapsedRealtime() , 1000, pi);\r\n\r\nYou dont have to ask userpermissions.","title":"Android: How to use AlarmManager","body":"<p>Some sample code when you want to call a service from the Alarmmanager:</p>\n\n<pre><code>PendingIntent pi;\nAlarmManager mgr;\nmgr = (AlarmManager)ctx.getSystemService(Context.ALARM_SERVICE);\nIntent i = new Intent(DataCollectionActivity.this, HUJIDataCollectionService.class);    \npi = PendingIntent.getService(DataCollectionActivity.this, 0, i, 0);\nmgr.setRepeating(AlarmManager.ELAPSED_REALTIME_WAKEUP, SystemClock.elapsedRealtime() , 1000, pi);\n</code></pre>\n\n<p>You dont have to ask userpermissions.</p>\n"},{"tags":[],"owner":{"account_id":1408906,"reputation":8044,"user_id":1335921,"accept_rate":62,"display_name":"SohailAziz"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1401802633,"creation_date":1340094544,"answer_id":11097223,"question_id":1082437,"body_markdown":"What you need to do is first create the intent you need to schedule. Then obtain the pendingIntent of that intent. You can schedule activities, services and broadcasts. **To schedule an activity e.g MyActivity:**\r\n\r\n      Intent i = new Intent(getApplicationContext(), MyActivity.class);\r\n      PendingIntent pi = PendingIntent.getActivity(getApplicationContext(),3333,i,\r\n      PendingIntent.FLAG_CANCEL_CURRENT);\r\n\r\nGive this pendingIntent to alarmManager:\r\n\r\n      //getting current time and add 5 seconds in it\r\n      Calendar cal = Calendar.getInstance();\r\n      cal.add(Calendar.SECOND, 5);\r\n      //registering our pending intent with alarmmanager\r\n      AlarmManager am = (AlarmManager) getSystemService(ALARM_SERVICE);\r\n      am.set(AlarmManager.RTC_WAKEUP,cal.getTimeInMillis(), pi);\r\n\r\nNow MyActivity will be **launched after 5 seconds of the application launch, no matter you stop your application or device went in sleep state** (due to RTC_WAKEUP option).\r\nYou can read complete example code [Scheduling activities, services and broadcasts #Android][1]\r\n\r\n\r\n  [1]: http://sohailaziz05.blogspot.com/2012/06/scheduling-activities-services-and.html","title":"Android: How to use AlarmManager","body":"<p>What you need to do is first create the intent you need to schedule. Then obtain the pendingIntent of that intent. You can schedule activities, services and broadcasts. <strong>To schedule an activity e.g MyActivity:</strong></p>\n\n<pre><code>  Intent i = new Intent(getApplicationContext(), MyActivity.class);\n  PendingIntent pi = PendingIntent.getActivity(getApplicationContext(),3333,i,\n  PendingIntent.FLAG_CANCEL_CURRENT);\n</code></pre>\n\n<p>Give this pendingIntent to alarmManager:</p>\n\n<pre><code>  //getting current time and add 5 seconds in it\n  Calendar cal = Calendar.getInstance();\n  cal.add(Calendar.SECOND, 5);\n  //registering our pending intent with alarmmanager\n  AlarmManager am = (AlarmManager) getSystemService(ALARM_SERVICE);\n  am.set(AlarmManager.RTC_WAKEUP,cal.getTimeInMillis(), pi);\n</code></pre>\n\n<p>Now MyActivity will be <strong>launched after 5 seconds of the application launch, no matter you stop your application or device went in sleep state</strong> (due to RTC_WAKEUP option).\nYou can read complete example code <a href=\"http://sohailaziz05.blogspot.com/2012/06/scheduling-activities-services-and.html\" rel=\"noreferrer\">Scheduling activities, services and broadcasts #Android</a></p>\n"},{"tags":[],"owner":{"account_id":4248525,"reputation":593,"user_id":3476398,"display_name":"kurt"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1429050876,"creation_date":1429050876,"answer_id":29638544,"question_id":1082437,"body_markdown":"I wanted to comment but &lt;50 rep, so here goes. Friendly reminder that if you&#39;re running on 5.1 or above and you use an interval of less than a minute, this happens:\r\n\r\n    Suspiciously short interval 5000 millis; expanding to 60 seconds\r\n\r\nSee [here][1].\r\n\r\n\r\n  [1]: https://code.google.com/p/android/issues/detail?id=161244","title":"Android: How to use AlarmManager","body":"<p>I wanted to comment but &lt;50 rep, so here goes. Friendly reminder that if you're running on 5.1 or above and you use an interval of less than a minute, this happens:</p>\n\n<pre><code>Suspiciously short interval 5000 millis; expanding to 60 seconds\n</code></pre>\n\n<p>See <a href=\"https://code.google.com/p/android/issues/detail?id=161244\" rel=\"nofollow\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":9336759,"reputation":4466,"user_id":6930719,"accept_rate":50,"display_name":"Fakhriddin Abdullaev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1578979130,"creation_date":1578979130,"answer_id":59727887,"question_id":1082437,"body_markdown":"An AlarmManager is used to trigger some code at a specific time.\r\n\r\nTo start an Alarm Manager you need to first get the instance from the System. Then pass the PendingIntent which would get executed at a future time that you specify\r\n\r\n    AlarmManager manager = (AlarmManager) getSystemService(Context.ALARM_SERVICE);\r\n\r\n    Intent alarmIntent = new Intent(context, MyAlarmReceiver.class);\r\n    PendingIntent pendingIntent = PendingIntent.getBroadcast(context, 0, alarmIntent, 0);\r\n    int interval = 8000; //repeat interval\r\n    manager.setInexactRepeating(AlarmManager.RTC_WAKEUP, System.currentTimeMillis(), interval, pendingIntent);\r\n\r\nYou need to be careful while using the Alarm Manager.\r\nNormally, an alarm manager cannot repeat before a minute. Also in low power mode, the duration can increase to up to 15 minutes.","title":"Android: How to use AlarmManager","body":"<p>An AlarmManager is used to trigger some code at a specific time.</p>\n\n<p>To start an Alarm Manager you need to first get the instance from the System. Then pass the PendingIntent which would get executed at a future time that you specify</p>\n\n<pre><code>AlarmManager manager = (AlarmManager) getSystemService(Context.ALARM_SERVICE);\n\nIntent alarmIntent = new Intent(context, MyAlarmReceiver.class);\nPendingIntent pendingIntent = PendingIntent.getBroadcast(context, 0, alarmIntent, 0);\nint interval = 8000; //repeat interval\nmanager.setInexactRepeating(AlarmManager.RTC_WAKEUP, System.currentTimeMillis(), interval, pendingIntent);\n</code></pre>\n\n<p>You need to be careful while using the Alarm Manager.\nNormally, an alarm manager cannot repeat before a minute. Also in low power mode, the duration can increase to up to 15 minutes.</p>\n"}],"owner":{"account_id":42098,"reputation":7336,"user_id":122547,"accept_rate":100,"display_name":"Tom"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91636,"favorite_count":0,"down_vote_count":0,"up_vote_count":95,"accepted_answer_id":1082836,"answer_count":6,"score":95,"last_activity_date":1651430265,"creation_date":1246722079,"question_id":1082437,"body_markdown":"I need to trigger a block of code after 20 minutes from the `AlarmManager` being set.\r\n\r\nCan someone show me sample code on how to use an `AlarmManager` in ِAndroid?\r\n\r\nI have been playing around with some code for a few days and it just won&#39;t work.\r\n\r\n","title":"Android: How to use AlarmManager","body":"<p>I need to trigger a block of code after 20 minutes from the <code>AlarmManager</code> being set.</p>\n\n<p>Can someone show me sample code on how to use an <code>AlarmManager</code> in ِAndroid?</p>\n\n<p>I have been playing around with some code for a few days and it just won't work.</p>\n"},{"tags":["java","spring","spring-boot","jackson","dto"],"comments":[{"owner":{"account_id":365431,"reputation":4956,"user_id":2057091,"accept_rate":89,"display_name":"Aserre"},"score":0,"creation_date":1650974888,"post_id":72013224,"comment_id":127246509,"body_markdown":"Does this answer your question? [How to tell Jackson to ignore a field during serialization if its value is null?](https://stackoverflow.com/questions/11757487/how-to-tell-jackson-to-ignore-a-field-during-serialization-if-its-value-is-null)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/11757487/how-to-tell-jackson-to-ignore-a-field-during-serialization-if-its-value-is-null\">How to tell Jackson to ignore a field during serialization if its value is null?</a>"}],"answers":[{"tags":[],"owner":{"account_id":16139017,"reputation":129,"user_id":15817444,"display_name":"Mazhar Ibna Zahur"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1651430259,"creation_date":1651430259,"answer_id":72079460,"question_id":72013224,"body_markdown":"you can add @JsonIgnoreProperties(ignoreUnknown = true) to ignore all unknow fields (if you don&#39;t know which need to ignore). or you can add @JsonIgnore on top of the field (if you know which field need to ignore during deserialization).\r\n\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    public class UserDTO {\r\n        private String name;\r\n        private String address;\r\n        private String email;\r\n        private String mobileNumber;\r\n    }\r\n\r\n\r\n","title":"Optional fields in Java DTO with validation constraint","body":"<p>you can add @JsonIgnoreProperties(ignoreUnknown = true) to ignore all unknow fields (if you don't know which need to ignore). or you can add @JsonIgnore on top of the field (if you know which field need to ignore during deserialization).</p>\n<pre><code>@JsonIgnoreProperties(ignoreUnknown = true)\npublic class UserDTO {\n    private String name;\n    private String address;\n    private String email;\n    private String mobileNumber;\n}\n</code></pre>\n"}],"owner":{"account_id":22833929,"reputation":11,"user_id":16981956,"display_name":"Hamza Mustafa Khan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7344,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1651430259,"creation_date":1650972878,"question_id":72013224,"body_markdown":"I&#39;ve created a DTO with some properties with validation constraint (like all the properties must be present in JSON Object). Now, I want to make that DTO in a way like if a particular property is missing in JSON Object, it causes no error.\r\n\r\n    public class UserDTO{\r\n        private String name;\r\n        private String address;\r\n        private String email;\r\n        private String mobileNumber;\r\n    }\r\n\r\n\r\nNow the JSON Object which I want to work could be like this (with missing email).\r\n\r\n    {\r\n        name:&quot;Hamza&quot;,\r\n        address:&quot;ABC&quot;,\r\n        mobileNumber:&quot;12345&quot;\r\n    }\r\n\r\nWhat should be done? Is there any annotation which makes the field optional?","title":"Optional fields in Java DTO with validation constraint","body":"<p>I've created a DTO with some properties with validation constraint (like all the properties must be present in JSON Object). Now, I want to make that DTO in a way like if a particular property is missing in JSON Object, it causes no error.</p>\n<pre><code>public class UserDTO{\n    private String name;\n    private String address;\n    private String email;\n    private String mobileNumber;\n}\n</code></pre>\n<p>Now the JSON Object which I want to work could be like this (with missing email).</p>\n<pre><code>{\n    name:&quot;Hamza&quot;,\n    address:&quot;ABC&quot;,\n    mobileNumber:&quot;12345&quot;\n}\n</code></pre>\n<p>What should be done? Is there any annotation which makes the field optional?</p>\n"},{"tags":["java","android","kotlin","alarmmanager"],"comments":[{"owner":{"account_id":139856,"reputation":77164,"user_id":345717,"accept_rate":81,"display_name":"EboMike"},"score":13,"creation_date":1292490780,"post_id":4459058,"comment_id":4871940,"body_markdown":"You did check the API demos, right?","body":"You did check the API demos, right?"},{"owner":{"account_id":910640,"reputation":9353,"user_id":944593,"accept_rate":94,"display_name":"shareef"},"score":3,"creation_date":1357195881,"post_id":4459058,"comment_id":19569985,"body_markdown":"[link](https://github.com/rakeshcusat/Code4Reference/tree/master/AndroidProjects/AlarmManagerExample) this link works for 4.0 tested","body":"<a href=\"https://github.com/rakeshcusat/Code4Reference/tree/master/AndroidProjects/AlarmManagerExample\" rel=\"nofollow noreferrer\">link</a> this link works for 4.0 tested"}],"answers":[{"tags":[],"owner":{"account_id":968773,"reputation":9034,"user_id":991737,"accept_rate":94,"display_name":"XXX"},"down_vote_count":2,"up_vote_count":484,"is_accepted":true,"score":482,"last_activity_date":1557066351,"creation_date":1326192333,"answer_id":8801990,"question_id":4459058,"body_markdown":"**This is working code. It wakes CPU every 10 minutes until the phone turns off.**\r\n\r\nAdd to Manifest.xml:\r\n\r\n    ...\r\n    &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot;&gt;&lt;/uses-permission&gt;\r\n    ...\r\n    &lt;receiver android:process=&quot;:remote&quot; android:name=&quot;.Alarm&quot;&gt;&lt;/receiver&gt;\r\n    ...\r\n\r\nCode in your class:\r\n\r\n    \r\n    package yourPackage;\r\n    import android.app.AlarmManager;\r\n    import android.app.PendingIntent;\r\n    import android.content.BroadcastReceiver;\r\n    import android.content.Context;\r\n    import android.content.Intent;\r\n    import android.os.PowerManager;\r\n    import android.widget.Toast;\r\n    \r\n    public class Alarm extends BroadcastReceiver \r\n    {    \r\n        @Override\r\n        public void onReceive(Context context, Intent intent) \r\n        {   \r\n            PowerManager pm = (PowerManager) context.getSystemService(Context.POWER_SERVICE);\r\n            PowerManager.WakeLock wl = pm.newWakeLock(PowerManager.PARTIAL_WAKE_LOCK, &quot;&quot;);\r\n            wl.acquire();\r\n    \r\n            // Put here YOUR code.\r\n            Toast.makeText(context, &quot;Alarm !!!!!!!!!!&quot;, Toast.LENGTH_LONG).show(); // For example\r\n    \r\n            wl.release();\r\n        }\r\n    \r\n        public void setAlarm(Context context)\r\n        {\r\n            AlarmManager am =( AlarmManager)context.getSystemService(Context.ALARM_SERVICE);\r\n            Intent i = new Intent(context, Alarm.class);\r\n            PendingIntent pi = PendingIntent.getBroadcast(context, 0, i, 0);\r\n            am.setRepeating(AlarmManager.RTC_WAKEUP, System.currentTimeMillis(), 1000 * 60 * 10, pi); // Millisec * Second * Minute\r\n        }\r\n    \r\n        public void cancelAlarm(Context context)\r\n        {\r\n            Intent intent = new Intent(context, Alarm.class);\r\n            PendingIntent sender = PendingIntent.getBroadcast(context, 0, intent, 0);\r\n            AlarmManager alarmManager = (AlarmManager) context.getSystemService(Context.ALARM_SERVICE);\r\n            alarmManager.cancel(sender);\r\n        }\r\n    }\r\n\r\n\r\n**Set Alarm from Service:**\r\n\r\n    package yourPackage;\r\n\r\n    import android.app.Service;\r\n    import android.content.Context;\r\n    import android.content.Intent;\r\n    import android.os.IBinder;\r\n    \r\n    public class YourService extends Service\r\n    {\r\n    \tAlarm alarm = new Alarm();\r\n    \tpublic void onCreate()\r\n    \t{\r\n    \t\tsuper.onCreate();\t\t\r\n    \t}\r\n\r\n        @Override\r\n        public int onStartCommand(Intent intent, int flags, int startId) \r\n        {\r\n            alarm.setAlarm(this);\r\n\t        return START_STICKY;\r\n\t    }\r\n\r\n       @Override    \t\r\n       public void onStart(Intent intent, int startId)\r\n    \t{\r\n    \t\talarm.setAlarm(this);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic IBinder onBind(Intent intent) \r\n    \t{\r\n    \t\treturn null;\r\n    \t}\r\n    }\r\n\r\n**If you want to set alarm repeating at phone boot time:**\r\n\r\nAdd permission and the service to Manifest.xml: \r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot;&gt;&lt;/uses-permission&gt;\r\n    ...\r\n    &lt;receiver android:name=&quot;.AutoStart&quot;&gt;\r\n        &lt;intent-filter&gt;\r\n          \t&lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot;&gt;&lt;/action&gt;\r\n        &lt;/intent-filter&gt;\r\n    &lt;/receiver&gt;\r\n    ...\r\n    &lt;service\r\n            android:name=&quot;.YourService&quot;\r\n            android:enabled=&quot;true&quot;\r\n            android:process=&quot;:your_service&quot; &gt;\r\n    &lt;/service&gt;\r\n\r\n\r\nAnd create a new class:\r\n\r\n    package yourPackage;\r\n\r\n    import android.content.BroadcastReceiver;\r\n    import android.content.Context;\r\n    import android.content.Intent;\r\n    \r\n    public class AutoStart extends BroadcastReceiver\r\n    {\t\r\n    \tAlarm alarm = new Alarm();\r\n    \t@Override\r\n    \tpublic void onReceive(Context context, Intent intent)\r\n    \t{\t\r\n    \t\tif (intent.getAction().equals(Intent.ACTION_BOOT_COMPLETED))\r\n    \t\t{\r\n    \t\t\talarm.setAlarm(context);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n","title":"Alarm Manager Example","body":"<p><strong>This is working code. It wakes CPU every 10 minutes until the phone turns off.</strong></p>\n\n<p>Add to Manifest.xml:</p>\n\n<pre><code>...\n&lt;uses-permission android:name=\"android.permission.WAKE_LOCK\"&gt;&lt;/uses-permission&gt;\n...\n&lt;receiver android:process=\":remote\" android:name=\".Alarm\"&gt;&lt;/receiver&gt;\n...\n</code></pre>\n\n<p>Code in your class:</p>\n\n<pre><code>package yourPackage;\nimport android.app.AlarmManager;\nimport android.app.PendingIntent;\nimport android.content.BroadcastReceiver;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.os.PowerManager;\nimport android.widget.Toast;\n\npublic class Alarm extends BroadcastReceiver \n{    \n    @Override\n    public void onReceive(Context context, Intent intent) \n    {   \n        PowerManager pm = (PowerManager) context.getSystemService(Context.POWER_SERVICE);\n        PowerManager.WakeLock wl = pm.newWakeLock(PowerManager.PARTIAL_WAKE_LOCK, \"\");\n        wl.acquire();\n\n        // Put here YOUR code.\n        Toast.makeText(context, \"Alarm !!!!!!!!!!\", Toast.LENGTH_LONG).show(); // For example\n\n        wl.release();\n    }\n\n    public void setAlarm(Context context)\n    {\n        AlarmManager am =( AlarmManager)context.getSystemService(Context.ALARM_SERVICE);\n        Intent i = new Intent(context, Alarm.class);\n        PendingIntent pi = PendingIntent.getBroadcast(context, 0, i, 0);\n        am.setRepeating(AlarmManager.RTC_WAKEUP, System.currentTimeMillis(), 1000 * 60 * 10, pi); // Millisec * Second * Minute\n    }\n\n    public void cancelAlarm(Context context)\n    {\n        Intent intent = new Intent(context, Alarm.class);\n        PendingIntent sender = PendingIntent.getBroadcast(context, 0, intent, 0);\n        AlarmManager alarmManager = (AlarmManager) context.getSystemService(Context.ALARM_SERVICE);\n        alarmManager.cancel(sender);\n    }\n}\n</code></pre>\n\n<p><strong>Set Alarm from Service:</strong></p>\n\n<pre><code>package yourPackage;\n\nimport android.app.Service;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.os.IBinder;\n\npublic class YourService extends Service\n{\n    Alarm alarm = new Alarm();\n    public void onCreate()\n    {\n        super.onCreate();       \n    }\n\n    @Override\n    public int onStartCommand(Intent intent, int flags, int startId) \n    {\n        alarm.setAlarm(this);\n        return START_STICKY;\n    }\n\n   @Override        \n   public void onStart(Intent intent, int startId)\n    {\n        alarm.setAlarm(this);\n    }\n\n    @Override\n    public IBinder onBind(Intent intent) \n    {\n        return null;\n    }\n}\n</code></pre>\n\n<p><strong>If you want to set alarm repeating at phone boot time:</strong></p>\n\n<p>Add permission and the service to Manifest.xml: </p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.RECEIVE_BOOT_COMPLETED\"&gt;&lt;/uses-permission&gt;\n...\n&lt;receiver android:name=\".AutoStart\"&gt;\n    &lt;intent-filter&gt;\n        &lt;action android:name=\"android.intent.action.BOOT_COMPLETED\"&gt;&lt;/action&gt;\n    &lt;/intent-filter&gt;\n&lt;/receiver&gt;\n...\n&lt;service\n        android:name=\".YourService\"\n        android:enabled=\"true\"\n        android:process=\":your_service\" &gt;\n&lt;/service&gt;\n</code></pre>\n\n<p>And create a new class:</p>\n\n<pre><code>package yourPackage;\n\nimport android.content.BroadcastReceiver;\nimport android.content.Context;\nimport android.content.Intent;\n\npublic class AutoStart extends BroadcastReceiver\n{   \n    Alarm alarm = new Alarm();\n    @Override\n    public void onReceive(Context context, Intent intent)\n    {   \n        if (intent.getAction().equals(Intent.ACTION_BOOT_COMPLETED))\n        {\n            alarm.setAlarm(context);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":37751,"reputation":806,"user_id":108026,"accept_rate":100,"display_name":"amr"},"down_vote_count":1,"up_vote_count":29,"is_accepted":false,"score":28,"last_activity_date":1345927972,"creation_date":1345922646,"answer_id":12124955,"question_id":4459058,"body_markdown":"Here&#39;s a fairly self-contained example. It turns a button red after 5sec.\r\n\r\n        public void SetAlarm()\r\n        {\r\n            final Button button = buttons[2]; // replace with a button from your own UI\r\n            BroadcastReceiver receiver = new BroadcastReceiver() {\r\n                @Override public void onReceive( Context context, Intent _ )\r\n                {\r\n                    button.setBackgroundColor( Color.RED );\r\n                    context.unregisterReceiver( this ); // this == BroadcastReceiver, not Activity\r\n                }\r\n            };\r\n          \r\n            this.registerReceiver( receiver, new IntentFilter(&quot;com.blah.blah.somemessage&quot;) );\r\n          \r\n            PendingIntent pintent = PendingIntent.getBroadcast( this, 0, new Intent(&quot;com.blah.blah.somemessage&quot;), 0 );\r\n            AlarmManager manager = (AlarmManager)(this.getSystemService( Context.ALARM_SERVICE ));\r\n          \r\n            // set alarm to fire 5 sec (1000*5) from now (SystemClock.elapsedRealtime())\r\n            manager.set( AlarmManager.ELAPSED_REALTIME_WAKEUP, SystemClock.elapsedRealtime() + 1000*5, pintent );\r\n        }\r\n\r\nRemember though that the AlarmManager fires even when your application is not running. If you call this function and hit the Home button, wait 5 sec, then go back into your app, the button will have turned red.\r\n\r\nI don&#39;t know what kind of behavior you would get if your app isn&#39;t in memory at all, so be careful with what kind of state you try to preserve.","title":"Alarm Manager Example","body":"<p>Here's a fairly self-contained example. It turns a button red after 5sec.</p>\n\n<pre><code>    public void SetAlarm()\n    {\n        final Button button = buttons[2]; // replace with a button from your own UI\n        BroadcastReceiver receiver = new BroadcastReceiver() {\n            @Override public void onReceive( Context context, Intent _ )\n            {\n                button.setBackgroundColor( Color.RED );\n                context.unregisterReceiver( this ); // this == BroadcastReceiver, not Activity\n            }\n        };\n\n        this.registerReceiver( receiver, new IntentFilter(\"com.blah.blah.somemessage\") );\n\n        PendingIntent pintent = PendingIntent.getBroadcast( this, 0, new Intent(\"com.blah.blah.somemessage\"), 0 );\n        AlarmManager manager = (AlarmManager)(this.getSystemService( Context.ALARM_SERVICE ));\n\n        // set alarm to fire 5 sec (1000*5) from now (SystemClock.elapsedRealtime())\n        manager.set( AlarmManager.ELAPSED_REALTIME_WAKEUP, SystemClock.elapsedRealtime() + 1000*5, pintent );\n    }\n</code></pre>\n\n<p>Remember though that the AlarmManager fires even when your application is not running. If you call this function and hit the Home button, wait 5 sec, then go back into your app, the button will have turned red.</p>\n\n<p>I don't know what kind of behavior you would get if your app isn't in memory at all, so be careful with what kind of state you try to preserve.</p>\n"},{"tags":[],"owner":{"account_id":392397,"reputation":28066,"user_id":753632,"accept_rate":57,"display_name":"Johann"},"down_vote_count":0,"up_vote_count":61,"is_accepted":false,"score":61,"last_activity_date":1444204196,"creation_date":1366454120,"answer_id":16119351,"question_id":4459058,"body_markdown":"I tried the solution from XXX and while it did initially work, at some point it stopped working. The `onReceive` never got called again. I spent hours trying to figure out what it could be. What I came to realize is that the `Intent` for whatever mysterious reason was no longer being called. To get around this, I discovered that you really do need to specify an action for the receiver in the manifest. Example:\r\n\r\n    &lt;receiver android:name=&quot;.Alarm&quot; android:exported=&quot;true&quot;&gt;\r\n        &lt;intent-filter&gt;\r\n            &lt;action android:name=&quot;mypackage.START_ALARM&quot; &gt;\r\n            &lt;/action&gt;\r\n        &lt;/intent-filter&gt;\r\n    &lt;/receiver&gt; \r\n\r\nNote that the name is `&quot;.Alarm&quot;` with the period. In XXX&#39;s `setAlarm` method, create the `Intent` as follows:\r\n\r\n    Intent i = new Intent(&quot;mypackage.START_ALARM&quot;);\r\n\r\nThe `START_ALARM` message can be whatever you want it to be. I just gave it that name for demonstration purposes.\r\n\r\nI have not seen receivers defined in the manifest without an intent filter that specifies the action. Creating them the way XXX has specified it seems kind of bogus. By specifying the action name, Android will be forced to create an instance of the `BroadcastReceiver` using the class that corresponds to the action. If you rely upon context, be aware that Android has several different objects that are ALL called context and may not result in getting your `BroadcastReceiver` created. Forcing Android to create an instance of your class using only the action message is far better than relying upon some iffy context that may never work.","title":"Alarm Manager Example","body":"<p>I tried the solution from XXX and while it did initially work, at some point it stopped working. The <code>onReceive</code> never got called again. I spent hours trying to figure out what it could be. What I came to realize is that the <code>Intent</code> for whatever mysterious reason was no longer being called. To get around this, I discovered that you really do need to specify an action for the receiver in the manifest. Example:</p>\n\n<pre><code>&lt;receiver android:name=\".Alarm\" android:exported=\"true\"&gt;\n    &lt;intent-filter&gt;\n        &lt;action android:name=\"mypackage.START_ALARM\" &gt;\n        &lt;/action&gt;\n    &lt;/intent-filter&gt;\n&lt;/receiver&gt; \n</code></pre>\n\n<p>Note that the name is <code>\".Alarm\"</code> with the period. In XXX's <code>setAlarm</code> method, create the <code>Intent</code> as follows:</p>\n\n<pre><code>Intent i = new Intent(\"mypackage.START_ALARM\");\n</code></pre>\n\n<p>The <code>START_ALARM</code> message can be whatever you want it to be. I just gave it that name for demonstration purposes.</p>\n\n<p>I have not seen receivers defined in the manifest without an intent filter that specifies the action. Creating them the way XXX has specified it seems kind of bogus. By specifying the action name, Android will be forced to create an instance of the <code>BroadcastReceiver</code> using the class that corresponds to the action. If you rely upon context, be aware that Android has several different objects that are ALL called context and may not result in getting your <code>BroadcastReceiver</code> created. Forcing Android to create an instance of your class using only the action message is far better than relying upon some iffy context that may never work.</p>\n"},{"tags":[],"owner":{"account_id":3707886,"reputation":703,"user_id":3085917,"display_name":"Jose Kurian"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1437544114,"creation_date":1396422719,"answer_id":22804012,"question_id":4459058,"body_markdown":"This code will help you to make a repeating alarm. The repeating time can set by you.\r\n\r\nactivity_main.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n         &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n         xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n         android:layout_width=&quot;match_parent&quot;\r\n         android:layout_height=&quot;match_parent&quot;\r\n         android:orientation=&quot;vertical&quot; \r\n         android:background=&quot;#000000&quot;\r\n         android:paddingTop=&quot;100dp&quot;&gt;\r\n\r\n        &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:gravity=&quot;center&quot; &gt;\r\n\r\n        &lt;EditText\r\n            android:id=&quot;@+id/ethr&quot;\r\n        android:layout_width=&quot;50dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:ems=&quot;10&quot;\r\n        android:hint=&quot;Hr&quot;\r\n        android:singleLine=&quot;true&quot; &gt;\r\n\r\n\r\n            &lt;requestFocus /&gt;\r\n        &lt;/EditText&gt;\r\n\r\n        &lt;EditText\r\n            android:id=&quot;@+id/etmin&quot;\r\n        android:layout_width=&quot;55dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n       \r\n        android:ems=&quot;10&quot;\r\n        android:hint=&quot;Min&quot;\r\n        android:singleLine=&quot;true&quot; /&gt;\r\n\r\n        &lt;EditText\r\n            android:id=&quot;@+id/etsec&quot;\r\n        android:layout_width=&quot;50dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        \r\n        android:ems=&quot;10&quot;\r\n        android:hint=&quot;Sec&quot;\r\n        android:singleLine=&quot;true&quot; /&gt;\r\n\r\n        &lt;/LinearLayout&gt;\r\n\r\n       &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot; \r\n        android:gravity=&quot;center&quot;\r\n        android:paddingTop=&quot;10dp&quot;&gt;\r\n      \r\n\r\n        &lt;Button\r\n            android:id=&quot;@+id/setAlarm&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:onClick=&quot;onClickSetAlarm&quot;\r\n            android:text=&quot;Set Alarm&quot; /&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\nMainActivity.java\r\n\r\n    public class MainActivity extends Activity {\r\n        int hr = 0;\r\n        int min = 0;\r\n        int sec = 0;\r\n        int result = 1;\r\n\r\n        AlarmManager alarmManager;\r\n        PendingIntent pendingIntent;\r\n        BroadcastReceiver mReceiver;\r\n     \r\n        EditText ethr;\r\n        EditText etmin;\r\n        EditText etsec;\r\n\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            ethr = (EditText) findViewById(R.id.ethr);\r\n            etmin = (EditText) findViewById(R.id.etmin);\r\n            etsec = (EditText) findViewById(R.id.etsec);\r\n            RegisterAlarmBroadcast();\r\n        } \r\n\r\n        @Override\r\n        public boolean onCreateOptionsMenu(Menu menu) {\r\n            getMenuInflater().inflate(R.menu.main, menu);\r\n            return true;\r\n        }\r\n\r\n        @Override\r\n        protected void onDestroy() {\r\n            unregisterReceiver(mReceiver);\r\n            super.onDestroy();\r\n        }\r\n\r\n        public void onClickSetAlarm(View v) {\r\n            String shr = ethr.getText().toString();\r\n            String smin = etmin.getText().toString();\r\n            String ssec = etsec.getText().toString();\r\n\r\n            if(shr.equals(&quot;&quot;)) \r\n                hr = 0;\r\n            else {\r\n                hr = Integer.parseInt(ethr.getText().toString());\r\n                hr=hr*60*60*1000;\r\n            }\r\n\r\n            if(smin.equals(&quot;&quot;))\r\n                min = 0;\r\n            else {\r\n                min = Integer.parseInt(etmin.getText().toString());\r\n                min = min*60*1000;\r\n            }\r\n\r\n            if(ssec.equals(&quot;&quot;))\r\n                sec = 0;\r\n            else {\r\n                 sec = Integer.parseInt(etsec.getText().toString());\r\n                 sec = sec * 1000;\r\n            }\r\n            result = hr+min+sec;\r\n            alarmManager.setRepeating(AlarmManager.RTC_WAKEUP, System.currentTimeMillis(), result , pendingIntent); \r\n        }\r\n\r\n        private void RegisterAlarmBroadcast() {\r\n            mReceiver = new BroadcastReceiver() {\r\n                // private static final String TAG = &quot;Alarm Example Receiver&quot;;\r\n                @Override\r\n                public void onReceive(Context context, Intent intent) {\r\n                    Toast.makeText(context, &quot;Alarm time has been reached&quot;, Toast.LENGTH_LONG).show();\r\n                }\r\n            };\r\n \r\n            registerReceiver(mReceiver, new IntentFilter(&quot;sample&quot;));\r\n            pendingIntent = PendingIntent.getBroadcast(this, 0, new Intent(&quot;sample&quot;), 0);\r\n            alarmManager = (AlarmManager)(this.getSystemService(Context.ALARM_SERVICE));\r\n        }\r\n\r\n        private void UnregisterAlarmBroadcast() {\r\n            alarmManager.cancel(pendingIntent); \r\n            getBaseContext().unregisterReceiver(mReceiver);\r\n        }\r\n    }\r\n\r\nIf you need alarm only for a single time then replace \r\n \r\n\r\n    alarmManager.setRepeating(AlarmManager.RTC_WAKEUP, System.currentTimeMillis(), result , pendingIntent);\r\n\r\n\r\nwith\r\n\r\n     alarmManager.set( AlarmManager.RTC_WAKEUP, System.currentTimeMillis() + result , pendingIntent );\r\n\r\n","title":"Alarm Manager Example","body":"<p>This code will help you to make a repeating alarm. The repeating time can set by you.</p>\n\n<p>activity_main.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n     &lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n     xmlns:tools=\"http://schemas.android.com/tools\"\n     android:layout_width=\"match_parent\"\n     android:layout_height=\"match_parent\"\n     android:orientation=\"vertical\" \n     android:background=\"#000000\"\n     android:paddingTop=\"100dp\"&gt;\n\n    &lt;LinearLayout\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:gravity=\"center\" &gt;\n\n    &lt;EditText\n        android:id=\"@+id/ethr\"\n    android:layout_width=\"50dp\"\n    android:layout_height=\"wrap_content\"\n    android:ems=\"10\"\n    android:hint=\"Hr\"\n    android:singleLine=\"true\" &gt;\n\n\n        &lt;requestFocus /&gt;\n    &lt;/EditText&gt;\n\n    &lt;EditText\n        android:id=\"@+id/etmin\"\n    android:layout_width=\"55dp\"\n    android:layout_height=\"wrap_content\"\n\n    android:ems=\"10\"\n    android:hint=\"Min\"\n    android:singleLine=\"true\" /&gt;\n\n    &lt;EditText\n        android:id=\"@+id/etsec\"\n    android:layout_width=\"50dp\"\n    android:layout_height=\"wrap_content\"\n\n    android:ems=\"10\"\n    android:hint=\"Sec\"\n    android:singleLine=\"true\" /&gt;\n\n    &lt;/LinearLayout&gt;\n\n   &lt;LinearLayout\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\" \n    android:gravity=\"center\"\n    android:paddingTop=\"10dp\"&gt;\n\n\n    &lt;Button\n        android:id=\"@+id/setAlarm\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:onClick=\"onClickSetAlarm\"\n        android:text=\"Set Alarm\" /&gt;\n\n&lt;/LinearLayout&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>MainActivity.java</p>\n\n<pre><code>public class MainActivity extends Activity {\n    int hr = 0;\n    int min = 0;\n    int sec = 0;\n    int result = 1;\n\n    AlarmManager alarmManager;\n    PendingIntent pendingIntent;\n    BroadcastReceiver mReceiver;\n\n    EditText ethr;\n    EditText etmin;\n    EditText etsec;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        ethr = (EditText) findViewById(R.id.ethr);\n        etmin = (EditText) findViewById(R.id.etmin);\n        etsec = (EditText) findViewById(R.id.etsec);\n        RegisterAlarmBroadcast();\n    } \n\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        getMenuInflater().inflate(R.menu.main, menu);\n        return true;\n    }\n\n    @Override\n    protected void onDestroy() {\n        unregisterReceiver(mReceiver);\n        super.onDestroy();\n    }\n\n    public void onClickSetAlarm(View v) {\n        String shr = ethr.getText().toString();\n        String smin = etmin.getText().toString();\n        String ssec = etsec.getText().toString();\n\n        if(shr.equals(\"\")) \n            hr = 0;\n        else {\n            hr = Integer.parseInt(ethr.getText().toString());\n            hr=hr*60*60*1000;\n        }\n\n        if(smin.equals(\"\"))\n            min = 0;\n        else {\n            min = Integer.parseInt(etmin.getText().toString());\n            min = min*60*1000;\n        }\n\n        if(ssec.equals(\"\"))\n            sec = 0;\n        else {\n             sec = Integer.parseInt(etsec.getText().toString());\n             sec = sec * 1000;\n        }\n        result = hr+min+sec;\n        alarmManager.setRepeating(AlarmManager.RTC_WAKEUP, System.currentTimeMillis(), result , pendingIntent); \n    }\n\n    private void RegisterAlarmBroadcast() {\n        mReceiver = new BroadcastReceiver() {\n            // private static final String TAG = \"Alarm Example Receiver\";\n            @Override\n            public void onReceive(Context context, Intent intent) {\n                Toast.makeText(context, \"Alarm time has been reached\", Toast.LENGTH_LONG).show();\n            }\n        };\n\n        registerReceiver(mReceiver, new IntentFilter(\"sample\"));\n        pendingIntent = PendingIntent.getBroadcast(this, 0, new Intent(\"sample\"), 0);\n        alarmManager = (AlarmManager)(this.getSystemService(Context.ALARM_SERVICE));\n    }\n\n    private void UnregisterAlarmBroadcast() {\n        alarmManager.cancel(pendingIntent); \n        getBaseContext().unregisterReceiver(mReceiver);\n    }\n}\n</code></pre>\n\n<p>If you need alarm only for a single time then replace </p>\n\n<pre><code>alarmManager.setRepeating(AlarmManager.RTC_WAKEUP, System.currentTimeMillis(), result , pendingIntent);\n</code></pre>\n\n<p>with</p>\n\n<pre><code> alarmManager.set( AlarmManager.RTC_WAKEUP, System.currentTimeMillis() + result , pendingIntent );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":454394,"reputation":4041,"user_id":851951,"accept_rate":32,"display_name":"Dani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1472384499,"creation_date":1472381230,"answer_id":39190471,"question_id":4459058,"body_markdown":"I have made my own implementation to do this on the simplest way as possible.\r\n\r\n\r\n    import android.app.AlarmManager;\r\n    import android.app.PendingIntent;\r\n    import android.content.BroadcastReceiver;\r\n    import android.content.Context;\r\n    import android.content.Intent;\r\n    import android.content.IntentFilter;\r\n    \r\n    import junit.framework.Assert;\r\n    \r\n    /**\r\n     * Created by Daniel on 28/08/2016.\r\n     */\r\n    public abstract class AbstractSystemServiceTask {\r\n    \r\n        private final Context context;\r\n        private final AlarmManager alarmManager;\r\n        private final BroadcastReceiver broadcastReceiver;\r\n        private final PendingIntent pendingIntent;\r\n    \r\n        public AbstractSystemServiceTask(final Context context, final String id, final long time, final AlarmType alarmType, final BackgroundTaskListener backgroundTaskListener) {\r\n    \r\n            Assert.assertNotNull(&quot;ApplicationContext can&#39;t be null&quot;, context);\r\n            Assert.assertNotNull(&quot;ID can&#39;t be null&quot;, id);\r\n    \r\n            this.context = context;\r\n    \r\n            this.alarmManager = (AlarmManager) this.context.getSystemService(Context.ALARM_SERVICE);\r\n    \r\n            this.context.registerReceiver(\r\n                    this.broadcastReceiver = this.getBroadcastReceiver(backgroundTaskListener),\r\n                    new IntentFilter(id));\r\n    \r\n            this.configAlarmManager(\r\n                    this.pendingIntent = PendingIntent.getBroadcast(this.context, 0, new Intent(id), 0),\r\n                    time,\r\n                    alarmType);\r\n        }\r\n    \r\n        public void stop() {\r\n    \r\n            this.alarmManager.cancel(this.pendingIntent);\r\n            this.context.unregisterReceiver(this.broadcastReceiver);\r\n        }\r\n    \r\n        private BroadcastReceiver getBroadcastReceiver(final BackgroundTaskListener backgroundTaskListener) {\r\n    \r\n            Assert.assertNotNull(&quot;BackgroundTaskListener can&#39;t be null.&quot;, backgroundTaskListener);\r\n    \r\n            return new BroadcastReceiver() {\r\n    \r\n                @Override\r\n                public void onReceive(Context context, Intent intent) {\r\n    \r\n                    backgroundTaskListener.perform(context, intent);\r\n                }\r\n            };\r\n        }\r\n    \r\n        private void configAlarmManager(final PendingIntent pendingIntent, final long time, final AlarmType alarmType) {\r\n    \r\n            long ensurePositiveTime = Math.max(time, 0L);\r\n    \r\n            switch (alarmType) {\r\n                case REPEAT:\r\n                    this.alarmManager.setRepeating(AlarmManager.RTC_WAKEUP, System.currentTimeMillis(), ensurePositiveTime, pendingIntent);\r\n                    break;\r\n                case ONE_TIME:\r\n                default:\r\n                    this.alarmManager.set(AlarmManager.RTC_WAKEUP, System.currentTimeMillis() + ensurePositiveTime, pendingIntent);\r\n            }\r\n        }\r\n    \r\n        public interface BackgroundTaskListener {\r\n    \r\n            void perform(Context context, Intent intent);\r\n    \r\n        }\r\n    \r\n        public enum AlarmType {\r\n    \r\n            REPEAT, ONE_TIME;\r\n    \r\n        }\r\n    \r\n    }\r\n\r\nThe only next step, implement it.\r\n\r\n    import android.content.Context;\r\n    import android.content.Intent;\r\n    import android.util.Log;\r\n    \r\n    import ...AbstractSystemServiceTask;\r\n    \r\n    import java.util.concurrent.TimeUnit;\r\n    \r\n    /**\r\n     * Created by Daniel on 28/08/2016.\r\n     */\r\n    public class UpdateInfoSystemServiceTask extends AbstractSystemServiceTask {\r\n    \r\n        private final static String ID = &quot;UPDATE_INFO_SYSTEM_SERVICE&quot;;\r\n        private final static long REPEAT_TIME = TimeUnit.SECONDS.toMillis(10);\r\n        private final static AlarmType ALARM_TYPE = AlarmType.REPEAT;\r\n    \r\n        public UpdateInfoSystemServiceTask(Context context) {\r\n    \r\n            super(context, ID, REPEAT_TIME, ALARM_TYPE, new BackgroundTaskListener() {\r\n    \r\n                @Override\r\n                public void perform(Context context, Intent intent) {\r\n    \r\n                    Log.i(&quot;MyAppLog&quot;, &quot;-----&gt; UpdateInfoSystemServiceTask&quot;);\r\n    \r\n                    //DO HERE WHATEVER YOU WANT...\r\n                }\r\n            });\r\n\r\n            Log.i(&quot;MyAppLog&quot;, &quot;UpdateInfoSystemServiceTask started.&quot;);\r\n        }\r\n\r\n    }\r\n\r\nI like to work with this implementation, but another possible good way, it&#39;s don&#39;t make the ``AbstractSystemServiceTask`` class abstract, and build it through a Builder.\r\n\r\nI hope it help you.\r\n\r\n**UPDATED**\r\nImproved to allow several ``BackgroundTaskListener`` on the same ``BroadCastReceiver``.\r\n\r\n    import android.app.AlarmManager;\r\n    import android.app.PendingIntent;\r\n    import android.content.BroadcastReceiver;\r\n    import android.content.Context;\r\n    import android.content.Intent;\r\n    import android.content.IntentFilter;\r\n    \r\n    import junit.framework.Assert;\r\n    \r\n    import java.util.HashSet;\r\n    import java.util.Set;\r\n    \r\n    /**\r\n     * Created by Daniel on 28/08/2016.\r\n     */\r\n    public abstract class AbstractSystemServiceTask {\r\n    \r\n        private final Context context;\r\n        private final AlarmManager alarmManager;\r\n        private final BroadcastReceiver broadcastReceiver;\r\n        private final PendingIntent pendingIntent;\r\n    \r\n        private final Set&lt;BackgroundTaskListener&gt; backgroundTaskListenerSet;\r\n    \r\n        public AbstractSystemServiceTask(final Context context, final String id, final long time, final AlarmType alarmType) {\r\n    \r\n            Assert.assertNotNull(&quot;ApplicationContext can&#39;t be null&quot;, context);\r\n            Assert.assertNotNull(&quot;ID can&#39;t be null&quot;, id);\r\n    \r\n            this.backgroundTaskListenerSet = new HashSet&lt;&gt;();\r\n    \r\n            this.context = context;\r\n    \r\n            this.alarmManager = (AlarmManager) this.context.getSystemService(Context.ALARM_SERVICE);\r\n    \r\n            this.context.registerReceiver(\r\n                    this.broadcastReceiver = this.getBroadcastReceiver(),\r\n                    new IntentFilter(id));\r\n    \r\n            this.configAlarmManager(\r\n                    this.pendingIntent = PendingIntent.getBroadcast(this.context, 0, new Intent(id), 0),\r\n                    time,\r\n                    alarmType);\r\n        }\r\n    \r\n        public synchronized void registerTask(final BackgroundTaskListener backgroundTaskListener) {\r\n    \r\n            Assert.assertNotNull(&quot;BackgroundTaskListener can&#39;t be null&quot;, backgroundTaskListener);\r\n    \r\n            this.backgroundTaskListenerSet.add(backgroundTaskListener);\r\n        }\r\n    \r\n        public synchronized void removeTask(final BackgroundTaskListener backgroundTaskListener) {\r\n    \r\n            Assert.assertNotNull(&quot;BackgroundTaskListener can&#39;t be null&quot;, backgroundTaskListener);\r\n    \r\n            this.backgroundTaskListenerSet.remove(backgroundTaskListener);\r\n        }\r\n    \r\n        public void stop() {\r\n    \r\n            this.backgroundTaskListenerSet.clear();\r\n    \r\n            this.alarmManager.cancel(this.pendingIntent);\r\n            this.context.unregisterReceiver(this.broadcastReceiver);\r\n        }\r\n    \r\n        private BroadcastReceiver getBroadcastReceiver() {\r\n    \r\n            return new BroadcastReceiver() {\r\n    \r\n                @Override\r\n                public void onReceive(final Context context, final Intent intent) {\r\n    \r\n                    for (BackgroundTaskListener backgroundTaskListener : AbstractSystemServiceTask.this.backgroundTaskListenerSet) {\r\n    \r\n                        backgroundTaskListener.perform(context, intent);\r\n                    }\r\n                }\r\n            };\r\n        }\r\n    \r\n        private void configAlarmManager(final PendingIntent pendingIntent, final long time, final AlarmType alarmType) {\r\n    \r\n            long ensurePositiveTime = Math.max(time, 0L);\r\n    \r\n            switch (alarmType) {\r\n                case REPEAT:\r\n                    this.alarmManager.setRepeating(AlarmManager.RTC_WAKEUP, System.currentTimeMillis(), ensurePositiveTime, pendingIntent);\r\n                    break;\r\n                case ONE_TIME:\r\n                default:\r\n                    this.alarmManager.set(AlarmManager.RTC_WAKEUP, System.currentTimeMillis() + ensurePositiveTime, pendingIntent);\r\n            }\r\n        }\r\n    \r\n        public interface BackgroundTaskListener {\r\n    \r\n            void perform(Context context, Intent intent);\r\n    \r\n        }\r\n    \r\n        public enum AlarmType {\r\n    \r\n            REPEAT, ONE_TIME;\r\n    \r\n        }\r\n    \r\n    }","title":"Alarm Manager Example","body":"<p>I have made my own implementation to do this on the simplest way as possible.</p>\n\n<pre><code>import android.app.AlarmManager;\nimport android.app.PendingIntent;\nimport android.content.BroadcastReceiver;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.content.IntentFilter;\n\nimport junit.framework.Assert;\n\n/**\n * Created by Daniel on 28/08/2016.\n */\npublic abstract class AbstractSystemServiceTask {\n\n    private final Context context;\n    private final AlarmManager alarmManager;\n    private final BroadcastReceiver broadcastReceiver;\n    private final PendingIntent pendingIntent;\n\n    public AbstractSystemServiceTask(final Context context, final String id, final long time, final AlarmType alarmType, final BackgroundTaskListener backgroundTaskListener) {\n\n        Assert.assertNotNull(\"ApplicationContext can't be null\", context);\n        Assert.assertNotNull(\"ID can't be null\", id);\n\n        this.context = context;\n\n        this.alarmManager = (AlarmManager) this.context.getSystemService(Context.ALARM_SERVICE);\n\n        this.context.registerReceiver(\n                this.broadcastReceiver = this.getBroadcastReceiver(backgroundTaskListener),\n                new IntentFilter(id));\n\n        this.configAlarmManager(\n                this.pendingIntent = PendingIntent.getBroadcast(this.context, 0, new Intent(id), 0),\n                time,\n                alarmType);\n    }\n\n    public void stop() {\n\n        this.alarmManager.cancel(this.pendingIntent);\n        this.context.unregisterReceiver(this.broadcastReceiver);\n    }\n\n    private BroadcastReceiver getBroadcastReceiver(final BackgroundTaskListener backgroundTaskListener) {\n\n        Assert.assertNotNull(\"BackgroundTaskListener can't be null.\", backgroundTaskListener);\n\n        return new BroadcastReceiver() {\n\n            @Override\n            public void onReceive(Context context, Intent intent) {\n\n                backgroundTaskListener.perform(context, intent);\n            }\n        };\n    }\n\n    private void configAlarmManager(final PendingIntent pendingIntent, final long time, final AlarmType alarmType) {\n\n        long ensurePositiveTime = Math.max(time, 0L);\n\n        switch (alarmType) {\n            case REPEAT:\n                this.alarmManager.setRepeating(AlarmManager.RTC_WAKEUP, System.currentTimeMillis(), ensurePositiveTime, pendingIntent);\n                break;\n            case ONE_TIME:\n            default:\n                this.alarmManager.set(AlarmManager.RTC_WAKEUP, System.currentTimeMillis() + ensurePositiveTime, pendingIntent);\n        }\n    }\n\n    public interface BackgroundTaskListener {\n\n        void perform(Context context, Intent intent);\n\n    }\n\n    public enum AlarmType {\n\n        REPEAT, ONE_TIME;\n\n    }\n\n}\n</code></pre>\n\n<p>The only next step, implement it.</p>\n\n<pre><code>import android.content.Context;\nimport android.content.Intent;\nimport android.util.Log;\n\nimport ...AbstractSystemServiceTask;\n\nimport java.util.concurrent.TimeUnit;\n\n/**\n * Created by Daniel on 28/08/2016.\n */\npublic class UpdateInfoSystemServiceTask extends AbstractSystemServiceTask {\n\n    private final static String ID = \"UPDATE_INFO_SYSTEM_SERVICE\";\n    private final static long REPEAT_TIME = TimeUnit.SECONDS.toMillis(10);\n    private final static AlarmType ALARM_TYPE = AlarmType.REPEAT;\n\n    public UpdateInfoSystemServiceTask(Context context) {\n\n        super(context, ID, REPEAT_TIME, ALARM_TYPE, new BackgroundTaskListener() {\n\n            @Override\n            public void perform(Context context, Intent intent) {\n\n                Log.i(\"MyAppLog\", \"-----&gt; UpdateInfoSystemServiceTask\");\n\n                //DO HERE WHATEVER YOU WANT...\n            }\n        });\n\n        Log.i(\"MyAppLog\", \"UpdateInfoSystemServiceTask started.\");\n    }\n\n}\n</code></pre>\n\n<p>I like to work with this implementation, but another possible good way, it's don't make the <code>AbstractSystemServiceTask</code> class abstract, and build it through a Builder.</p>\n\n<p>I hope it help you.</p>\n\n<p><strong>UPDATED</strong>\nImproved to allow several <code>BackgroundTaskListener</code> on the same <code>BroadCastReceiver</code>.</p>\n\n<pre><code>import android.app.AlarmManager;\nimport android.app.PendingIntent;\nimport android.content.BroadcastReceiver;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.content.IntentFilter;\n\nimport junit.framework.Assert;\n\nimport java.util.HashSet;\nimport java.util.Set;\n\n/**\n * Created by Daniel on 28/08/2016.\n */\npublic abstract class AbstractSystemServiceTask {\n\n    private final Context context;\n    private final AlarmManager alarmManager;\n    private final BroadcastReceiver broadcastReceiver;\n    private final PendingIntent pendingIntent;\n\n    private final Set&lt;BackgroundTaskListener&gt; backgroundTaskListenerSet;\n\n    public AbstractSystemServiceTask(final Context context, final String id, final long time, final AlarmType alarmType) {\n\n        Assert.assertNotNull(\"ApplicationContext can't be null\", context);\n        Assert.assertNotNull(\"ID can't be null\", id);\n\n        this.backgroundTaskListenerSet = new HashSet&lt;&gt;();\n\n        this.context = context;\n\n        this.alarmManager = (AlarmManager) this.context.getSystemService(Context.ALARM_SERVICE);\n\n        this.context.registerReceiver(\n                this.broadcastReceiver = this.getBroadcastReceiver(),\n                new IntentFilter(id));\n\n        this.configAlarmManager(\n                this.pendingIntent = PendingIntent.getBroadcast(this.context, 0, new Intent(id), 0),\n                time,\n                alarmType);\n    }\n\n    public synchronized void registerTask(final BackgroundTaskListener backgroundTaskListener) {\n\n        Assert.assertNotNull(\"BackgroundTaskListener can't be null\", backgroundTaskListener);\n\n        this.backgroundTaskListenerSet.add(backgroundTaskListener);\n    }\n\n    public synchronized void removeTask(final BackgroundTaskListener backgroundTaskListener) {\n\n        Assert.assertNotNull(\"BackgroundTaskListener can't be null\", backgroundTaskListener);\n\n        this.backgroundTaskListenerSet.remove(backgroundTaskListener);\n    }\n\n    public void stop() {\n\n        this.backgroundTaskListenerSet.clear();\n\n        this.alarmManager.cancel(this.pendingIntent);\n        this.context.unregisterReceiver(this.broadcastReceiver);\n    }\n\n    private BroadcastReceiver getBroadcastReceiver() {\n\n        return new BroadcastReceiver() {\n\n            @Override\n            public void onReceive(final Context context, final Intent intent) {\n\n                for (BackgroundTaskListener backgroundTaskListener : AbstractSystemServiceTask.this.backgroundTaskListenerSet) {\n\n                    backgroundTaskListener.perform(context, intent);\n                }\n            }\n        };\n    }\n\n    private void configAlarmManager(final PendingIntent pendingIntent, final long time, final AlarmType alarmType) {\n\n        long ensurePositiveTime = Math.max(time, 0L);\n\n        switch (alarmType) {\n            case REPEAT:\n                this.alarmManager.setRepeating(AlarmManager.RTC_WAKEUP, System.currentTimeMillis(), ensurePositiveTime, pendingIntent);\n                break;\n            case ONE_TIME:\n            default:\n                this.alarmManager.set(AlarmManager.RTC_WAKEUP, System.currentTimeMillis() + ensurePositiveTime, pendingIntent);\n        }\n    }\n\n    public interface BackgroundTaskListener {\n\n        void perform(Context context, Intent intent);\n\n    }\n\n    public enum AlarmType {\n\n        REPEAT, ONE_TIME;\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5839922,"reputation":2089,"user_id":4601864,"accept_rate":75,"display_name":"M.Usman"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1533568965,"creation_date":1501480068,"answer_id":45408290,"question_id":4459058,"body_markdown":"MainActivity.java\r\n\r\n    package com.example.alarmexample;  \r\n      \r\n    import android.app.Activity;  \r\n    import android.app.AlarmManager;  \r\n    import android.app.PendingIntent;  \r\n    import android.content.Intent;  \r\n    import android.os.Bundle;  \r\n    import android.view.View;  \r\n    import android.view.View.OnClickListener;  \r\n    import android.widget.Button;  \r\n    import android.widget.EditText;  \r\n    import android.widget.Toast;  \r\n      \r\n    public class MainActivity extends Activity {  \r\n    Button b1;  \r\n      \r\n        @Override  \r\n        protected void onCreate(Bundle savedInstanceState) {  \r\n            super.onCreate(savedInstanceState);  \r\n            setContentView(R.layout.activity_main); \r\n\r\n            startAlert();  \r\n          \r\n    }   public void startAlert() { \r\n            int timeInSec = 2;\r\n\r\n            Intent intent = new Intent(this, MyBroadcastReceiver.class);  \r\n            PendingIntent pendingIntent = PendingIntent.getBroadcast(  \r\n                                          this.getApplicationContext(), 234, intent, 0);  \r\n            AlarmManager alarmManager = (AlarmManager) getSystemService(ALARM_SERVICE);  \r\n            alarmManager.set(AlarmManager.RTC_WAKEUP, System.currentTimeMillis() + (timeInSec * 1000), pendingIntent);  \r\n            Toast.makeText(this, &quot;Alarm set to after &quot; + i + &quot; seconds&quot;,Toast.LENGTH_LONG).show();  \r\n        }  \r\n      \r\n    }\r\n\r\nMyBroadcastReceiver.java\r\n\r\n    package com.example.alarmexample;  \r\n\r\n    import android.content.BroadcastReceiver;  \r\n    import android.content.Context;  \r\n    import android.content.Intent;  \r\n    import android.media.MediaPlayer;  \r\n    import android.widget.Toast;  \r\n      \r\n    public class MyBroadcastReceiver extends BroadcastReceiver {  \r\n        MediaPlayer mp;  \r\n        @Override  \r\n        public void onReceive(Context context, Intent intent) {  \r\n            mp=MediaPlayer.create(context, R.raw.alarm);  \r\n            mp.start();  \r\n            Toast.makeText(context, &quot;Alarm&quot;, Toast.LENGTH_LONG).show();  \r\n        }  \r\n    }  \r\n\r\n\r\nAndroidManifest.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;  \r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;  \r\n        package=&quot;com.example.alarmexample&quot; &gt;  \r\n      \r\n        &lt;uses-permission android:name=&quot;android.permission.VIBRATE&quot; /&gt;  \r\n      \r\n      \r\n        &lt;application  \r\n            android:allowBackup=&quot;true&quot;  \r\n            android:icon=&quot;@drawable/ic_launcher&quot;  \r\n            android:label=&quot;@string/app_name&quot;  \r\n            android:theme=&quot;@style/AppTheme&quot; &gt;  \r\n\r\n            &lt;activity  \r\n                android:name=&quot;com.example.alarmexample.MainActivity&quot;  \r\n                android:label=&quot;@string/app_name&quot; &gt;  \r\n                &lt;intent-filter&gt;  \r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;  \r\n      \r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;  \r\n                &lt;/intent-filter&gt;  \r\n            &lt;/activity&gt;  \r\n      \r\n            &lt;receiver android:name=&quot;MyBroadcastReceiver&quot; &gt;  \r\n            &lt;/receiver&gt;  \r\n        &lt;/application&gt;  \r\n      \r\n    &lt;/manifest&gt;  \r\n  ","title":"Alarm Manager Example","body":"<p>MainActivity.java</p>\n\n<pre><code>package com.example.alarmexample;  \n\nimport android.app.Activity;  \nimport android.app.AlarmManager;  \nimport android.app.PendingIntent;  \nimport android.content.Intent;  \nimport android.os.Bundle;  \nimport android.view.View;  \nimport android.view.View.OnClickListener;  \nimport android.widget.Button;  \nimport android.widget.EditText;  \nimport android.widget.Toast;  \n\npublic class MainActivity extends Activity {  \nButton b1;  \n\n    @Override  \n    protected void onCreate(Bundle savedInstanceState) {  \n        super.onCreate(savedInstanceState);  \n        setContentView(R.layout.activity_main); \n\n        startAlert();  \n\n}   public void startAlert() { \n        int timeInSec = 2;\n\n        Intent intent = new Intent(this, MyBroadcastReceiver.class);  \n        PendingIntent pendingIntent = PendingIntent.getBroadcast(  \n                                      this.getApplicationContext(), 234, intent, 0);  \n        AlarmManager alarmManager = (AlarmManager) getSystemService(ALARM_SERVICE);  \n        alarmManager.set(AlarmManager.RTC_WAKEUP, System.currentTimeMillis() + (timeInSec * 1000), pendingIntent);  \n        Toast.makeText(this, \"Alarm set to after \" + i + \" seconds\",Toast.LENGTH_LONG).show();  \n    }  \n\n}\n</code></pre>\n\n<p>MyBroadcastReceiver.java</p>\n\n<pre><code>package com.example.alarmexample;  \n\nimport android.content.BroadcastReceiver;  \nimport android.content.Context;  \nimport android.content.Intent;  \nimport android.media.MediaPlayer;  \nimport android.widget.Toast;  \n\npublic class MyBroadcastReceiver extends BroadcastReceiver {  \n    MediaPlayer mp;  \n    @Override  \n    public void onReceive(Context context, Intent intent) {  \n        mp=MediaPlayer.create(context, R.raw.alarm);  \n        mp.start();  \n        Toast.makeText(context, \"Alarm\", Toast.LENGTH_LONG).show();  \n    }  \n}  \n</code></pre>\n\n<p>AndroidManifest.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;  \n&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"  \n    package=\"com.example.alarmexample\" &gt;  \n\n    &lt;uses-permission android:name=\"android.permission.VIBRATE\" /&gt;  \n\n\n    &lt;application  \n        android:allowBackup=\"true\"  \n        android:icon=\"@drawable/ic_launcher\"  \n        android:label=\"@string/app_name\"  \n        android:theme=\"@style/AppTheme\" &gt;  \n\n        &lt;activity  \n            android:name=\"com.example.alarmexample.MainActivity\"  \n            android:label=\"@string/app_name\" &gt;  \n            &lt;intent-filter&gt;  \n                &lt;action android:name=\"android.intent.action.MAIN\" /&gt;  \n\n                &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;  \n            &lt;/intent-filter&gt;  \n        &lt;/activity&gt;  \n\n        &lt;receiver android:name=\"MyBroadcastReceiver\" &gt;  \n        &lt;/receiver&gt;  \n    &lt;/application&gt;  \n\n&lt;/manifest&gt;  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":1791757,"reputation":22216,"user_id":1631967,"display_name":"aminography"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1546275466,"creation_date":1546068761,"answer_id":53967623,"question_id":4459058,"body_markdown":"• `AlarmManager` in combination with `IntentService`\r\n---\r\n\r\nI think the best pattern for using `AlarmManager` is its collaboration with an `IntentService`. The `IntentService` is triggered by the `AlarmManager` and it handles the required actions through the receiving intent. This structure has not performance impact like using `BroadcastReceiver`. I have developed a sample code for this idea in [tag:Kotlin] which is available here:\r\n\r\n**MyAlarmManager.kt**\r\n\r\n    import android.app.AlarmManager\r\n    import android.app.PendingIntent\r\n    import android.content.Context\r\n    import android.content.Intent\r\n    \r\n    object MyAlarmManager {\r\n    \r\n        private var pendingIntent: PendingIntent? = null\r\n    \r\n        fun setAlarm(context: Context, alarmTime: Long, message: String) {\r\n            val alarmManager: AlarmManager = context.getSystemService(Context.ALARM_SERVICE) as AlarmManager\r\n    \r\n            val intent = Intent(context, MyIntentService::class.java)\r\n            intent.action = MyIntentService.ACTION_SEND_TEST_MESSAGE\r\n            intent.putExtra(MyIntentService.EXTRA_MESSAGE, message)\r\n    \r\n            pendingIntent = PendingIntent.getService(context, 0, intent, PendingIntent.FLAG_UPDATE_CURRENT)\r\n            alarmManager.set(AlarmManager.RTC_WAKEUP, alarmTime, pendingIntent)\r\n        }\r\n    \r\n        fun cancelAlarm(context: Context) {\r\n            pendingIntent?.let {\r\n                val alarmManager: AlarmManager = context.getSystemService(Context.ALARM_SERVICE) as AlarmManager\r\n                alarmManager.cancel(it)\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n**MyIntentService.kt**\r\n\r\n    import android.app.IntentService\r\n    import android.content.Intent\r\n    \r\n    class MyIntentService : IntentService(&quot;MyIntentService&quot;) {\r\n    \r\n        override fun onHandleIntent(intent: Intent?) {\r\n            intent?.apply {\r\n                when (intent.action) {\r\n                    ACTION_SEND_TEST_MESSAGE -&gt; {\r\n                        val message = getStringExtra(EXTRA_MESSAGE)\r\n                        println(message)\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    \r\n        companion object {\r\n            const val ACTION_SEND_TEST_MESSAGE = &quot;ACTION_SEND_TEST_MESSAGE&quot;\r\n            const val EXTRA_MESSAGE = &quot;EXTRA_MESSAGE&quot;\r\n        }\r\n    \r\n    }\r\n\r\n**manifest.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        package=&quot;com.aminography.alarm&quot;&gt;\r\n    \r\n        &lt;application\r\n            ... &gt;\r\n    \r\n        &lt;service\r\n            android:name=&quot;path.to.MyIntentService&quot;\r\n            android:enabled=&quot;true&quot;\r\n            android:stopWithTask=&quot;false&quot; /&gt;\r\n\r\n        &lt;/application&gt;\r\n\r\n    &lt;/manifest&gt;\r\n\r\n**Usage:**\r\n\r\n    val calendar = Calendar.getInstance()\r\n    calendar.add(Calendar.SECOND, 10)\r\n    MyAlarmManager.setAlarm(applicationContext, calendar.timeInMillis, &quot;Test Message!&quot;)\r\n\r\nIf you want to to cancel the scheduled alarm, try this:\r\n\r\n    MyAlarmManager.cancelAlarm(applicationContext)","title":"Alarm Manager Example","body":"<h2>• <code>AlarmManager</code> in combination with <code>IntentService</code></h2>\n\n<p>I think the best pattern for using <code>AlarmManager</code> is its collaboration with an <code>IntentService</code>. The <code>IntentService</code> is triggered by the <code>AlarmManager</code> and it handles the required actions through the receiving intent. This structure has not performance impact like using <code>BroadcastReceiver</code>. I have developed a sample code for this idea in <a href=\"/questions/tagged/kotlin\" class=\"post-tag\" title=\"show questions tagged &#39;kotlin&#39;\" rel=\"tag\">kotlin</a> which is available here:</p>\n\n<p><strong>MyAlarmManager.kt</strong></p>\n\n<pre><code>import android.app.AlarmManager\nimport android.app.PendingIntent\nimport android.content.Context\nimport android.content.Intent\n\nobject MyAlarmManager {\n\n    private var pendingIntent: PendingIntent? = null\n\n    fun setAlarm(context: Context, alarmTime: Long, message: String) {\n        val alarmManager: AlarmManager = context.getSystemService(Context.ALARM_SERVICE) as AlarmManager\n\n        val intent = Intent(context, MyIntentService::class.java)\n        intent.action = MyIntentService.ACTION_SEND_TEST_MESSAGE\n        intent.putExtra(MyIntentService.EXTRA_MESSAGE, message)\n\n        pendingIntent = PendingIntent.getService(context, 0, intent, PendingIntent.FLAG_UPDATE_CURRENT)\n        alarmManager.set(AlarmManager.RTC_WAKEUP, alarmTime, pendingIntent)\n    }\n\n    fun cancelAlarm(context: Context) {\n        pendingIntent?.let {\n            val alarmManager: AlarmManager = context.getSystemService(Context.ALARM_SERVICE) as AlarmManager\n            alarmManager.cancel(it)\n        }\n    }\n\n}\n</code></pre>\n\n<p><strong>MyIntentService.kt</strong></p>\n\n<pre><code>import android.app.IntentService\nimport android.content.Intent\n\nclass MyIntentService : IntentService(\"MyIntentService\") {\n\n    override fun onHandleIntent(intent: Intent?) {\n        intent?.apply {\n            when (intent.action) {\n                ACTION_SEND_TEST_MESSAGE -&gt; {\n                    val message = getStringExtra(EXTRA_MESSAGE)\n                    println(message)\n                }\n            }\n        }\n    }\n\n    companion object {\n        const val ACTION_SEND_TEST_MESSAGE = \"ACTION_SEND_TEST_MESSAGE\"\n        const val EXTRA_MESSAGE = \"EXTRA_MESSAGE\"\n    }\n\n}\n</code></pre>\n\n<p><strong>manifest.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    package=\"com.aminography.alarm\"&gt;\n\n    &lt;application\n        ... &gt;\n\n    &lt;service\n        android:name=\"path.to.MyIntentService\"\n        android:enabled=\"true\"\n        android:stopWithTask=\"false\" /&gt;\n\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n\n<p><strong>Usage:</strong></p>\n\n<pre><code>val calendar = Calendar.getInstance()\ncalendar.add(Calendar.SECOND, 10)\nMyAlarmManager.setAlarm(applicationContext, calendar.timeInMillis, \"Test Message!\")\n</code></pre>\n\n<p>If you want to to cancel the scheduled alarm, try this:</p>\n\n<pre><code>MyAlarmManager.cancelAlarm(applicationContext)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14179159,"reputation":584,"user_id":10243412,"display_name":"Ankush Shrivastava"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1551044938,"creation_date":1551044938,"answer_id":54856893,"question_id":4459058,"body_markdown":"Alarm Manager:\r\n\r\nAdd To XML Layout (*init these view on create in main activity)\r\n\r\n      &lt;TimePicker\r\n        android:id=&quot;@+id/timepicker&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        android:layout_weight=&quot;2&quot;&gt;&lt;/TimePicker&gt;\r\n\r\n      &lt;Button\r\n        android:id=&quot;@+id/btn_start&quot;\r\n        android:text=&quot;start Alarm&quot;\r\n        android:onClick=&quot;start_alarm_event&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;52dp&quot; /&gt;\r\n\r\n\r\nAdd To Manifest (Inside application tag &amp;&amp; outside activity)\r\n\r\n     &lt;receiver android:name=&quot;.AlarmBroadcastManager&quot;\r\n            android:enabled=&quot;true&quot;\r\n            android:exported=&quot;true&quot;/&gt;\r\n\r\nCreate AlarmBroadcastManager Class(inherit it from BroadcastReceiver)\r\n\r\n     public class AlarmBroadcastManager extends BroadcastReceiver{\r\n        @Override\r\n        public void onReceive(Context context, Intent intent) {\r\n          MediaPlayer mediaPlayer=MediaPlayer.create(context,Settings.System.DEFAULT_RINGTONE_URI);\r\n          mediaPlayer.start();\r\n        }\r\n     }\r\nIn Main Activity (Add these Functions):\r\n\r\n     @RequiresApi(api = Build.VERSION_CODES.M)\r\n     public  void start_alarm_event(View view){\r\n        Calendar calendar=Calendar.getInstance();\r\n        calendar.set(\r\n        calendar.get(Calendar.YEAR),\r\n        calendar.get(Calendar.MONTH),\r\n        calendar.get(Calendar.DAY_OF_MONTH),\r\n        timePicker.getHour(),\r\n        timePicker.getMinute(),\r\n        0\r\n        );\r\n        setAlarm(calendar.getTimeInMillis());\r\n     }\r\n\r\n     public void setAlarm(long timeInMillis){\r\n        AlarmManager alarmManager=(AlarmManager) getSystemService(Context.ALARM_SERVICE);\r\n        Intent intent=new Intent(this,AlarmBroadcastManager.class);\r\n        PendingIntent pendingIntent=PendingIntent.getBroadcast(this,0,intent,0);\r\n         alarmManager.setRepeating(AlarmManager.RTC_WAKEUP,timeInMillis,AlarmManager.INTERVAL_DAY,pendingIntent);\r\n        Toast.makeText(getApplicationContext(),&quot;Alarm is Set&quot;,Toast.LENGTH_SHORT).show();\r\n\r\n\r\n     }","title":"Alarm Manager Example","body":"<p>Alarm Manager:</p>\n\n<p>Add To XML Layout (*init these view on create in main activity)</p>\n\n<pre><code>  &lt;TimePicker\n    android:id=\"@+id/timepicker\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"0dp\"\n    android:layout_weight=\"2\"&gt;&lt;/TimePicker&gt;\n\n  &lt;Button\n    android:id=\"@+id/btn_start\"\n    android:text=\"start Alarm\"\n    android:onClick=\"start_alarm_event\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"52dp\" /&gt;\n</code></pre>\n\n<p>Add To Manifest (Inside application tag &amp;&amp; outside activity)</p>\n\n<pre><code> &lt;receiver android:name=\".AlarmBroadcastManager\"\n        android:enabled=\"true\"\n        android:exported=\"true\"/&gt;\n</code></pre>\n\n<p>Create AlarmBroadcastManager Class(inherit it from BroadcastReceiver)</p>\n\n<pre><code> public class AlarmBroadcastManager extends BroadcastReceiver{\n    @Override\n    public void onReceive(Context context, Intent intent) {\n      MediaPlayer mediaPlayer=MediaPlayer.create(context,Settings.System.DEFAULT_RINGTONE_URI);\n      mediaPlayer.start();\n    }\n }\n</code></pre>\n\n<p>In Main Activity (Add these Functions):</p>\n\n<pre><code> @RequiresApi(api = Build.VERSION_CODES.M)\n public  void start_alarm_event(View view){\n    Calendar calendar=Calendar.getInstance();\n    calendar.set(\n    calendar.get(Calendar.YEAR),\n    calendar.get(Calendar.MONTH),\n    calendar.get(Calendar.DAY_OF_MONTH),\n    timePicker.getHour(),\n    timePicker.getMinute(),\n    0\n    );\n    setAlarm(calendar.getTimeInMillis());\n }\n\n public void setAlarm(long timeInMillis){\n    AlarmManager alarmManager=(AlarmManager) getSystemService(Context.ALARM_SERVICE);\n    Intent intent=new Intent(this,AlarmBroadcastManager.class);\n    PendingIntent pendingIntent=PendingIntent.getBroadcast(this,0,intent,0);\n     alarmManager.setRepeating(AlarmManager.RTC_WAKEUP,timeInMillis,AlarmManager.INTERVAL_DAY,pendingIntent);\n    Toast.makeText(getApplicationContext(),\"Alarm is Set\",Toast.LENGTH_SHORT).show();\n\n\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8834917,"reputation":50835,"user_id":6599590,"accept_rate":96,"display_name":"Andy Jazz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1556180912,"creation_date":1556180912,"answer_id":55844961,"question_id":4459058,"body_markdown":"Here&#39;s an example with Alarm Manager using Kotlin:\r\n\r\n    class MainActivity : AppCompatActivity() {\r\n    \r\n        val editText: EditText by bindView(R.id.edit_text)\r\n        val timePicker: TimePicker by bindView(R.id.time_picker)\r\n        val buttonSet: Button by bindView(R.id.button_set)\r\n        val buttonCancel: Button by bindView(R.id.button_cancel)\r\n        val relativeLayout: RelativeLayout by bindView(R.id.activity_main)\r\n        var notificationId = 0\r\n    \r\n        override fun onCreate(savedInstanceState: Bundle?) {\r\n            super.onCreate(savedInstanceState)\r\n            setContentView(R.layout.activity_main)\r\n    \r\n            timePicker.setIs24HourView(true)\r\n    \r\n            val alarmManager = getSystemService(Context.ALARM_SERVICE) as AlarmManager\r\n    \r\n            buttonSet.setOnClickListener {\r\n                if (editText.text.isBlank()) {\r\n                    Toast.makeText(applicationContext, &quot;Title is Required!!&quot;, Toast.LENGTH_SHORT).show()\r\n                    return@setOnClickListener\r\n                }\r\n                alarmManager.set(\r\n                    AlarmManager.RTC_WAKEUP,\r\n                    Calendar.getInstance().apply {\r\n                        set(Calendar.HOUR_OF_DAY, timePicker.hour)\r\n                        set(Calendar.MINUTE, timePicker.minute)\r\n                        set(Calendar.SECOND, 0)\r\n                    }.timeInMillis,\r\n                    PendingIntent.getBroadcast(\r\n                        applicationContext,\r\n                        0,\r\n                        Intent(applicationContext, AlarmBroadcastReceiver::class.java).apply {\r\n                            putExtra(&quot;notificationId&quot;, ++notificationId)\r\n                            putExtra(&quot;reminder&quot;, editText.text)\r\n                        },\r\n                        PendingIntent.FLAG_CANCEL_CURRENT\r\n                    )\r\n                )\r\n                Toast.makeText(applicationContext, &quot;SET!! ${editText.text}&quot;, Toast.LENGTH_SHORT).show()\r\n                reset()\r\n            }\r\n    \r\n            buttonCancel.setOnClickListener {\r\n                alarmManager.cancel(\r\n                    PendingIntent.getBroadcast(\r\n                        applicationContext, 0, Intent(applicationContext, AlarmBroadcastReceiver::class.java), 0))\r\n                Toast.makeText(applicationContext, &quot;CANCEL!!&quot;, Toast.LENGTH_SHORT).show()\r\n            }\r\n        }\r\n    \r\n        override fun onTouchEvent(event: MotionEvent?): Boolean {\r\n            (getSystemService(Context.INPUT_METHOD_SERVICE) as InputMethodManager)\r\n                .hideSoftInputFromWindow(relativeLayout.windowToken, InputMethodManager.HIDE_NOT_ALWAYS)\r\n            relativeLayout.requestFocus()\r\n            return super.onTouchEvent(event)\r\n        }\r\n    \r\n        override fun onResume() {\r\n            super.onResume()\r\n            reset()\r\n        }\r\n    \r\n        private fun reset() {\r\n            timePicker.apply {\r\n                val now = Calendar.getInstance()\r\n                hour = now.get(Calendar.HOUR_OF_DAY)\r\n                minute = now.get(Calendar.MINUTE)\r\n            }\r\n            editText.setText(&quot;&quot;)\r\n        }\r\n    }","title":"Alarm Manager Example","body":"<p>Here's an example with Alarm Manager using Kotlin:</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    val editText: EditText by bindView(R.id.edit_text)\n    val timePicker: TimePicker by bindView(R.id.time_picker)\n    val buttonSet: Button by bindView(R.id.button_set)\n    val buttonCancel: Button by bindView(R.id.button_cancel)\n    val relativeLayout: RelativeLayout by bindView(R.id.activity_main)\n    var notificationId = 0\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        timePicker.setIs24HourView(true)\n\n        val alarmManager = getSystemService(Context.ALARM_SERVICE) as AlarmManager\n\n        buttonSet.setOnClickListener {\n            if (editText.text.isBlank()) {\n                Toast.makeText(applicationContext, \"Title is Required!!\", Toast.LENGTH_SHORT).show()\n                return@setOnClickListener\n            }\n            alarmManager.set(\n                AlarmManager.RTC_WAKEUP,\n                Calendar.getInstance().apply {\n                    set(Calendar.HOUR_OF_DAY, timePicker.hour)\n                    set(Calendar.MINUTE, timePicker.minute)\n                    set(Calendar.SECOND, 0)\n                }.timeInMillis,\n                PendingIntent.getBroadcast(\n                    applicationContext,\n                    0,\n                    Intent(applicationContext, AlarmBroadcastReceiver::class.java).apply {\n                        putExtra(\"notificationId\", ++notificationId)\n                        putExtra(\"reminder\", editText.text)\n                    },\n                    PendingIntent.FLAG_CANCEL_CURRENT\n                )\n            )\n            Toast.makeText(applicationContext, \"SET!! ${editText.text}\", Toast.LENGTH_SHORT).show()\n            reset()\n        }\n\n        buttonCancel.setOnClickListener {\n            alarmManager.cancel(\n                PendingIntent.getBroadcast(\n                    applicationContext, 0, Intent(applicationContext, AlarmBroadcastReceiver::class.java), 0))\n            Toast.makeText(applicationContext, \"CANCEL!!\", Toast.LENGTH_SHORT).show()\n        }\n    }\n\n    override fun onTouchEvent(event: MotionEvent?): Boolean {\n        (getSystemService(Context.INPUT_METHOD_SERVICE) as InputMethodManager)\n            .hideSoftInputFromWindow(relativeLayout.windowToken, InputMethodManager.HIDE_NOT_ALWAYS)\n        relativeLayout.requestFocus()\n        return super.onTouchEvent(event)\n    }\n\n    override fun onResume() {\n        super.onResume()\n        reset()\n    }\n\n    private fun reset() {\n        timePicker.apply {\n            val now = Calendar.getInstance()\n            hour = now.get(Calendar.HOUR_OF_DAY)\n            minute = now.get(Calendar.MINUTE)\n        }\n        editText.setText(\"\")\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7429428,"reputation":89,"user_id":5650948,"display_name":"carlosabreu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1619804274,"creation_date":1619803940,"answer_id":67338145,"question_id":4459058,"body_markdown":"I was having a problem with alarms in Android too. The problem was about the doze mode (https://developer.android.com/training/monitoring-device-state/doze-standby). For example, the alarm worked fine when I set it to one hour further, but it didn&#39;t work if it was set to 4am. I just discovered it is very simple, I just should use AlarmManager.setAlarmClock() instead of AlarmManager.set().\r\n\r\n\r\nSo I decided to create an example application on github.\nhttps://github.com/carlosabreu/androidalarm","title":"Alarm Manager Example","body":"<p>I was having a problem with alarms in Android too. The problem was about the doze mode (<a href=\"https://developer.android.com/training/monitoring-device-state/doze-standby\" rel=\"nofollow noreferrer\">https://developer.android.com/training/monitoring-device-state/doze-standby</a>). For example, the alarm worked fine when I set it to one hour further, but it didn't work if it was set to 4am. I just discovered it is very simple, I just should use AlarmManager.setAlarmClock() instead of AlarmManager.set().</p>\n<p>So I decided to create an example application on github.\n<a href=\"https://github.com/carlosabreu/androidalarm\" rel=\"nofollow noreferrer\">https://github.com/carlosabreu/androidalarm</a></p>\n"}],"owner":{"account_id":241962,"reputation":4439,"user_id":513162,"accept_rate":50,"display_name":"Rajamohan Sugumaran"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":375071,"favorite_count":0,"down_vote_count":4,"up_vote_count":396,"accepted_answer_id":8801990,"answer_count":10,"score":392,"last_activity_date":1651430176,"creation_date":1292490737,"question_id":4459058,"body_markdown":"I want to implement a schedule function in my project. So I Googled for an Alarm manager program but I can`t find any examples. \r\n\r\nCan anyone help me with a basic alarm manager program?","title":"Alarm Manager Example","body":"<p>I want to implement a schedule function in my project. So I Googled for an Alarm manager program but I can`t find any examples. </p>\n\n<p>Can anyone help me with a basic alarm manager program?</p>\n"},{"tags":["java","string","hex","byte"],"comments":[{"owner":{"account_id":11260438,"reputation":5143,"user_id":8258942,"accept_rate":0,"display_name":"Nitin Bisht"},"score":0,"creation_date":1587375304,"post_id":61319177,"comment_id":108477042,"body_markdown":"Kindly Edit your question and mention the library with the code you have tried.","body":"Kindly Edit your question and mention the library with the code you have tried."},{"owner":{"account_id":45934,"reputation":203669,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1587375432,"post_id":61319177,"comment_id":108477103,"body_markdown":"What you&#39;re doing is converting the ASCII codes of the text to bytes: `0` is 48, `x` is 120, `0` is 48, `4` is 52 etc. Instead you should parse and interpret the string correctly: cut off the `0x`, then loop through the characters, for each 2 chars generate a byte.","body":"What you&#39;re doing is converting the ASCII codes of the text to bytes: <code>0</code> is 48, <code>x</code> is 120, <code>0</code> is 48, <code>4</code> is 52 etc. Instead you should parse and interpret the string correctly: cut off the <code>0x</code>, then loop through the characters, for each 2 chars generate a byte."},{"owner":{"account_id":16785857,"reputation":79,"user_id":12134855,"display_name":"Rohan Keskar"},"score":0,"creation_date":1587375973,"post_id":61319177,"comment_id":108477365,"body_markdown":"I have edited the quesiton, Please check it out","body":"I have edited the quesiton, Please check it out"}],"answers":[{"tags":[],"owner":{"account_id":8775035,"reputation":3254,"user_id":6560579,"display_name":"Ackdari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1587376685,"creation_date":1587376685,"answer_id":61319710,"question_id":61319177,"body_markdown":"This function does what you want\r\n``` java\r\npublic static byte[] getByteArray(String str) {\r\n    if (!&quot;0x&quot;.equals(str.substring(0,2))) {\r\n        return null; // or throw some exception\r\n    } else {\r\n        String tmp = str.substring(2, str.length()-2);\r\n        int bytes = tmp.length() / 2;\r\n        byte[] array = new byte[bytes];\r\n\r\n        for (int i = 0; i &lt; bytes; i++) {\r\n            byte b = (byte) ((Character.digit(tmp.charAt(i*2), 16) &lt;&lt; 4)\r\n                + Character.digit(tmp.charAt(i*2+1), 16));\r\n            array[i] = b;\r\n        }\r\n        \r\n        return array;\r\n    }\r\n}\r\n```\r\nexcept that numbers greater than 127 (0x7F) will be represented as negative numbers. This is because `byte`s in jave are signed.\r\n\r\nSo the out put will be \r\n```\r\n[4 -98 82 11 -94 ...\r\n```","title":"How to convert hex string to byte array in Java","body":"<p>This function does what you want</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static byte[] getByteArray(String str) {\n    if (!\"0x\".equals(str.substring(0,2))) {\n        return null; // or throw some exception\n    } else {\n        String tmp = str.substring(2, str.length()-2);\n        int bytes = tmp.length() / 2;\n        byte[] array = new byte[bytes];\n\n        for (int i = 0; i &lt; bytes; i++) {\n            byte b = (byte) ((Character.digit(tmp.charAt(i*2), 16) &lt;&lt; 4)\n                + Character.digit(tmp.charAt(i*2+1), 16));\n            array[i] = b;\n        }\n\n        return array;\n    }\n}\n</code></pre>\n\n<p>except that numbers greater than 127 (0x7F) will be represented as negative numbers. This is because <code>byte</code>s in jave are signed.</p>\n\n<p>So the out put will be </p>\n\n<pre><code>[4 -98 82 11 -94 ...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4237221,"reputation":1,"user_id":3468060,"display_name":"spectator"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651429489,"creation_date":1651429489,"answer_id":72079354,"question_id":61319177,"body_markdown":"Here is my code that showed the best performance...\r\n```\r\n\tpublic static byte[] hex2bytes(String str) {\r\n\t\tif( str == null || str.length() == 0 )\r\n\t\t\treturn null;\r\n\r\n\t\tbyte[] hex = new byte[str.length() / 2];\r\n\t\tint tmp1, tmp2;\r\n\r\n\t\tfor(int i=0; i &lt; hex.length; i++) {\r\n\t\t\ttmp1 = str.charAt(i*2);\r\n\t\t\ttmp2 = str.charAt(i*2+1);\r\n\t\t\thex[i] = (byte)( (tmp1 &lt; 0x41 ? (tmp1 &amp; 0x0F) &lt;&lt; 4 : ((tmp1 &amp; 0x0F) + 9) &lt;&lt; 4)\r\n\t\t\t\t\t| (tmp2 &lt; 0x41 ? tmp2 &amp; 0x0F : (tmp2 &amp; 0x0F) + 9) );\r\n\t\t}\r\n\r\n\t\treturn hex;\r\n\t}\r\n```","title":"How to convert hex string to byte array in Java","body":"<p>Here is my code that showed the best performance...</p>\n<pre><code>    public static byte[] hex2bytes(String str) {\n        if( str == null || str.length() == 0 )\n            return null;\n\n        byte[] hex = new byte[str.length() / 2];\n        int tmp1, tmp2;\n\n        for(int i=0; i &lt; hex.length; i++) {\n            tmp1 = str.charAt(i*2);\n            tmp2 = str.charAt(i*2+1);\n            hex[i] = (byte)( (tmp1 &lt; 0x41 ? (tmp1 &amp; 0x0F) &lt;&lt; 4 : ((tmp1 &amp; 0x0F) + 9) &lt;&lt; 4)\n                    | (tmp2 &lt; 0x41 ? tmp2 &amp; 0x0F : (tmp2 &amp; 0x0F) + 9) );\n        }\n\n        return hex;\n    }\n</code></pre>\n"}],"owner":{"account_id":16785857,"reputation":79,"user_id":12134855,"display_name":"Rohan Keskar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":252,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1651429489,"creation_date":1587375017,"question_id":61319177,"body_markdown":"I want to convert an hex string to byte array, I know these type of questions are already asked, I have tried their solution, But these solutions are not working with the library I&#39;m using, I&#39;m trying to convert the string \r\n\r\n\r\n```\r\n0x049e520ba27332ffed59ec7a34f744d4acd86ad22081d16f851d9f355ac09a70bdc14219c33ba7f5df62391a6f0f067c571bd6c03e83f81cd166e55fe043426a1c\r\n```\r\n\r\nTo an byte array but the byte array I get is as \r\n\r\n```\r\n[48, 120, 48, 52, 57, 101, 53, 50, 48, 98, 97, 50, 55, 51, 51, 50, 102, 102, 101, 100, 53, 57, 101, 99, 55, 97, 51, 52, 102, 55, 52, 52, 100, 52, 97, 99, 100, 56, 54, 97, 100, 50, 50, 48, 56, 49, 100, 49, 54, 102, 56, 53, 49, 100, 57, 102, 51, 53, 53, 97, 99, 48, 57, 97, 55, 48, 98, 100, 99, 49, 52, 50, 49, 57, 99, 51, 51, 98, 97, 55, 102, 53, 100, 102, 54, 50, 51, 57, 49, 97, 54, 102, 48, 102, 48, 54, 55, 99, 53, 55, 49, 98, 100, 54, 99, 48, 51, 101, 56, 51, 102, 56, 49, 99, 100, 49, 54, 54, 101, 53, 53, 102, 101, 48, 52, 51, 52, 50, 54, 97, 49, 99]\r\n\r\n```\r\n\r\nBut the library I&#39;m using gives an error as Invalid Key, Because the library excepts the byte array to be as \r\n\r\n```\r\n[4 158 82 11 162 115 50 255 237 89 236 122 52 247 68 212 172 216 106 210 32 129 209 111 133 29 159 53 90 192 154 112 189 193 66 25 195 59 167 245 223 98 57 26 111 15 6 124 87 27 214 192 62 131 248 28 209 102 229 95 224 67 66 106 28]\r\n```\r\n\r\nHow can I do this in Java, I don&#39;t know what the encoding is or how the byte array is being calculated\r\n\r\n\r\n\r\nThis is the code \r\n```\r\nString publicKey = &quot;0x049e520ba27332ffed59ec7a34f744d4acd86ad22081d16f851d9f355ac09a70bdc14219c33ba7f5df62391a6f0f067c571bd6c03e83f81cd166e55fe043426a1c\r\n&quot;;\r\n\r\nNewMessage message1 = Geth.newNewMessage();\r\n\r\nmessage1.setPayload(message.getBytes());\r\nmessage1.setPublicKey(WhisperHelper.hexStringToByteArray(publicKey));\r\n\r\npublic static byte[] hexStringToByteArray(String s) {\r\n        int len = s.length();\r\n        byte[] data = new byte[len / 2];\r\n        for (int i = 0; i &lt; len; i += 2) {\r\n            data[i / 2] = (byte) ((Character.digit(s.charAt(i), 16) &lt;&lt; 4)\r\n                    + Character.digit(s.charAt(i+1), 16));\r\n        }\r\n        return data;\r\n    }\r\n\r\n```","title":"How to convert hex string to byte array in Java","body":"<p>I want to convert an hex string to byte array, I know these type of questions are already asked, I have tried their solution, But these solutions are not working with the library I'm using, I'm trying to convert the string </p>\n\n<pre><code>0x049e520ba27332ffed59ec7a34f744d4acd86ad22081d16f851d9f355ac09a70bdc14219c33ba7f5df62391a6f0f067c571bd6c03e83f81cd166e55fe043426a1c\n</code></pre>\n\n<p>To an byte array but the byte array I get is as </p>\n\n<pre><code>[48, 120, 48, 52, 57, 101, 53, 50, 48, 98, 97, 50, 55, 51, 51, 50, 102, 102, 101, 100, 53, 57, 101, 99, 55, 97, 51, 52, 102, 55, 52, 52, 100, 52, 97, 99, 100, 56, 54, 97, 100, 50, 50, 48, 56, 49, 100, 49, 54, 102, 56, 53, 49, 100, 57, 102, 51, 53, 53, 97, 99, 48, 57, 97, 55, 48, 98, 100, 99, 49, 52, 50, 49, 57, 99, 51, 51, 98, 97, 55, 102, 53, 100, 102, 54, 50, 51, 57, 49, 97, 54, 102, 48, 102, 48, 54, 55, 99, 53, 55, 49, 98, 100, 54, 99, 48, 51, 101, 56, 51, 102, 56, 49, 99, 100, 49, 54, 54, 101, 53, 53, 102, 101, 48, 52, 51, 52, 50, 54, 97, 49, 99]\n\n</code></pre>\n\n<p>But the library I'm using gives an error as Invalid Key, Because the library excepts the byte array to be as </p>\n\n<pre><code>[4 158 82 11 162 115 50 255 237 89 236 122 52 247 68 212 172 216 106 210 32 129 209 111 133 29 159 53 90 192 154 112 189 193 66 25 195 59 167 245 223 98 57 26 111 15 6 124 87 27 214 192 62 131 248 28 209 102 229 95 224 67 66 106 28]\n</code></pre>\n\n<p>How can I do this in Java, I don't know what the encoding is or how the byte array is being calculated</p>\n\n<p>This is the code </p>\n\n<pre><code>String publicKey = \"0x049e520ba27332ffed59ec7a34f744d4acd86ad22081d16f851d9f355ac09a70bdc14219c33ba7f5df62391a6f0f067c571bd6c03e83f81cd166e55fe043426a1c\n\";\n\nNewMessage message1 = Geth.newNewMessage();\n\nmessage1.setPayload(message.getBytes());\nmessage1.setPublicKey(WhisperHelper.hexStringToByteArray(publicKey));\n\npublic static byte[] hexStringToByteArray(String s) {\n        int len = s.length();\n        byte[] data = new byte[len / 2];\n        for (int i = 0; i &lt; len; i += 2) {\n            data[i / 2] = (byte) ((Character.digit(s.charAt(i), 16) &lt;&lt; 4)\n                    + Character.digit(s.charAt(i+1), 16));\n        }\n        return data;\n    }\n\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1651425425,"post_id":72078873,"comment_id":127357442,"body_markdown":"You&#39;re using a `write` method passing an integer. [This](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/OutputStreamWriter.html#write(int)) is its documentation. Try and convert the number to a `String` first, so you&#39;ll use [this](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/Writer.html#write(java.lang.String)) method instead.","body":"You&#39;re using a <code>write</code> method passing an integer. <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/OutputStreamWriter.html#write(int)\" rel=\"nofollow noreferrer\">This</a> is its documentation. Try and convert the number to a <code>String</code> first, so you&#39;ll use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/Writer.html#write(java.lang.String)\" rel=\"nofollow noreferrer\">this</a> method instead."},{"owner":{"account_id":25143477,"reputation":25,"user_id":18989574,"display_name":"bumbi007"},"score":0,"creation_date":1651430744,"post_id":72078873,"comment_id":127358598,"body_markdown":"Thank you! I managed to convert the number to a String, but in the output file i&#39;ve only got the first 2 numbers sorted.","body":"Thank you! I managed to convert the number to a String, but in the output file i&#39;ve only got the first 2 numbers sorted."}],"owner":{"account_id":25143477,"reputation":25,"user_id":18989574,"display_name":"bumbi007"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1651425749,"answer_count":0,"score":1,"last_activity_date":1651428668,"creation_date":1651425231,"question_id":72078873,"body_markdown":"Task: There are 2 files that each contain a series of ordered numbers, separated by space. Write a program that produces a third file that will contain the ascending sequence of numbers. When solving, you are not allowed to use any type of collection.\r\nFile 1 : 1 18 40 100\r\nFile 2: 0 10 15 80 1001\r\nI managed to convert the number to a String, but in the output file i got only the frist two numbers sorted:  0 1\r\n\r\n\r\n        FileWriter outputFile;\r\n        Scanner sc1 = null;\r\n        Scanner sc2 = null;\r\n        try {\r\n           \r\n            sc1 = new Scanner(new FileReader(&quot;Numbers1.txt&quot;));\r\n            sc2 = new Scanner(new FileReader(&quot;Numbers2.txt&quot;));\r\n            outputFile = new FileWriter(&quot;NumbersMerge.txt&quot;);\r\n            int c = sc1.nextInt();\r\n            int d = sc2.nextInt();\r\n            while (sc1.hasNext() &amp;&amp; sc2.hasNext()) {\r\n                if (c &lt; d) {\r\n                    outputFile.write(Integer.toString(c) + &quot; &quot;);\r\n                    sc1.nextLine();\r\n                } else if (c &gt; d) {\r\n                    outputFile.write(Integer.toString(d) + &quot; &quot;);\r\n                    sc2.nextLine();\r\n                } else {\r\n                    outputFile.write(Integer.toString(c));\r\n                    outputFile.write(Integer.toString(d));\r\n                    sc1.nextLine();\r\n                    sc2.nextLine();\r\n                }\r\n            }\r\n             if (sc1.hasNext()) {\r\n                outputFile.write(Integer.toString(c));\r\n                sc1.nextLine();\r\n            }\r\n            if (sc2.hasNext()) {\r\n                outputFile.write(Integer.toString(d));\r\n                sc2.nextLine();\r\n            }\r\n            outputFile.flush();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        } finally {\r\n            if (sc1 != null &amp;&amp; sc2 != null) {\r\n                sc1.close();\r\n                sc2.close();\r\n            }\r\n        }\r\n\r\n\r\n\r\nThank you in advance!","title":"Write a program that reads 2 numbered files and produces a third file that contains all sorted numbers","body":"<p>Task: There are 2 files that each contain a series of ordered numbers, separated by space. Write a program that produces a third file that will contain the ascending sequence of numbers. When solving, you are not allowed to use any type of collection.\nFile 1 : 1 18 40 100\nFile 2: 0 10 15 80 1001\nI managed to convert the number to a String, but in the output file i got only the frist two numbers sorted:  0 1</p>\n<pre><code>    FileWriter outputFile;\n    Scanner sc1 = null;\n    Scanner sc2 = null;\n    try {\n       \n        sc1 = new Scanner(new FileReader(&quot;Numbers1.txt&quot;));\n        sc2 = new Scanner(new FileReader(&quot;Numbers2.txt&quot;));\n        outputFile = new FileWriter(&quot;NumbersMerge.txt&quot;);\n        int c = sc1.nextInt();\n        int d = sc2.nextInt();\n        while (sc1.hasNext() &amp;&amp; sc2.hasNext()) {\n            if (c &lt; d) {\n                outputFile.write(Integer.toString(c) + &quot; &quot;);\n                sc1.nextLine();\n            } else if (c &gt; d) {\n                outputFile.write(Integer.toString(d) + &quot; &quot;);\n                sc2.nextLine();\n            } else {\n                outputFile.write(Integer.toString(c));\n                outputFile.write(Integer.toString(d));\n                sc1.nextLine();\n                sc2.nextLine();\n            }\n        }\n         if (sc1.hasNext()) {\n            outputFile.write(Integer.toString(c));\n            sc1.nextLine();\n        }\n        if (sc2.hasNext()) {\n            outputFile.write(Integer.toString(d));\n            sc2.nextLine();\n        }\n        outputFile.flush();\n    } catch (IOException e) {\n        e.printStackTrace();\n    } finally {\n        if (sc1 != null &amp;&amp; sc2 != null) {\n            sc1.close();\n            sc2.close();\n        }\n    }\n</code></pre>\n<p>Thank you in advance!</p>\n"},{"tags":["java","for-loop"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":3,"creation_date":1447812433,"post_id":33770590,"comment_id":55308715,"body_markdown":"Waaaaaaaaay too many loops.  The answer is much simpler.  Try to think it out some more.","body":"Waaaaaaaaay too many loops.  The answer is much simpler.  Try to think it out some more."},{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":1,"creation_date":1447812721,"post_id":33770590,"comment_id":55308778,"body_markdown":"Your post currently reads like a homework dump. You&#39;ve posted a bunch of requirements and some code, but haven&#39;t explained what the problem with the code is or even asked a question. Your question does not mean the standards we expect on Stack Overflow. Please read [How to ask](http://stackoverflow.com/help/how-to-ask) and edit your question accordingly.","body":"Your post currently reads like a homework dump. You&#39;ve posted a bunch of requirements and some code, but haven&#39;t explained what the problem with the code is or even asked a question. Your question does not mean the standards we expect on Stack Overflow. Please read <a href=\"http://stackoverflow.com/help/how-to-ask\">How to ask</a> and edit your question accordingly."},{"owner":{"account_id":2132213,"reputation":11287,"user_id":1892802,"accept_rate":100,"display_name":"ug_"},"score":0,"creation_date":1447813038,"post_id":33770590,"comment_id":55308882,"body_markdown":"Tip: You only need 1 loop which goes to the smallest length string.","body":"Tip: You only need 1 loop which goes to the smallest length string."}],"answers":[{"tags":[],"owner":{"account_id":967909,"reputation":2031,"user_id":990996,"accept_rate":61,"display_name":"kenshinji"},"down_vote_count":3,"up_vote_count":1,"is_accepted":true,"score":-2,"last_activity_date":1447813368,"creation_date":1447813368,"answer_id":33770754,"question_id":33770590,"body_markdown":"    public int count(String str1, String str2) {\r\n        int result = 0;\r\n        if (str1.length() == 0 || str2.length() == 0)\r\n            return result;\r\n        if (str1.length() &gt; str2.length()) {\r\n            for (int i = 0; i &lt; str2.length(); i++) {\r\n                if (str2.charAt(i) == str1.charAt(i))\r\n                    result++;\r\n            }\r\n        }\r\n        else {\r\n            for (int i = 0; i &lt; str1.length(); i++) {\r\n                if (str1.charAt(i) == str2.charAt(i))\r\n                    result++;\r\n            }\r\n        }\r\n        return result;\r\n    }","title":"How to identify the number of common character between two strings?","body":"<pre><code>public int count(String str1, String str2) {\n    int result = 0;\n    if (str1.length() == 0 || str2.length() == 0)\n        return result;\n    if (str1.length() &gt; str2.length()) {\n        for (int i = 0; i &lt; str2.length(); i++) {\n            if (str2.charAt(i) == str1.charAt(i))\n                result++;\n        }\n    }\n    else {\n        for (int i = 0; i &lt; str1.length(); i++) {\n            if (str1.charAt(i) == str2.charAt(i))\n                result++;\n        }\n    }\n    return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":169237,"reputation":39170,"user_id":395202,"accept_rate":59,"display_name":"Adrian Shum"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1447826148,"creation_date":1447816828,"answer_id":33771249,"question_id":33770590,"body_markdown":"Though there is already an accepted answer but I don&#39;t feel that answer is concise enough, hence I am giving mine (haven&#39;t compiled, treat it as psuedo-code please)\r\n\r\n    public static int count(String s1, String s2) {\r\n        if (s1 == null || s2==null ||s1.isEmpty() || s2.isEmpty()) {\r\n            return 0;\r\n        }\r\n        int minLength = Math.min(s1.length(), s2.length());\r\n        int count = 0;\r\n        for (int i &lt; 0; i &lt; minLength; ++i) {\r\n            if (s1.charAt(i) == s2.charAt(i)) {\r\n                ++count;\r\n            }\r\n        }\r\n        return count;\r\n    }","title":"How to identify the number of common character between two strings?","body":"<p>Though there is already an accepted answer but I don't feel that answer is concise enough, hence I am giving mine (haven't compiled, treat it as psuedo-code please)</p>\n\n<pre><code>public static int count(String s1, String s2) {\n    if (s1 == null || s2==null ||s1.isEmpty() || s2.isEmpty()) {\n        return 0;\n    }\n    int minLength = Math.min(s1.length(), s2.length());\n    int count = 0;\n    for (int i &lt; 0; i &lt; minLength; ++i) {\n        if (s1.charAt(i) == s2.charAt(i)) {\n            ++count;\n        }\n    }\n    return count;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7103315,"reputation":357,"user_id":5433943,"display_name":"Aritro Sen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1447822533,"creation_date":1447822533,"answer_id":33772112,"question_id":33770590,"body_markdown":"You can also do something like this. (Try it) -\r\n\r\n    public int count(String s1, String s2) {\r\n\t\tint result=0;\r\n\t\tchar[] ch1=s1.toCharArray();\r\n\t\tchar[] ch2=s2.toCharArray();\r\n\t\t\r\n\t\tif(ch1.length&gt;ch2.length){\r\n\t\tfor(int i=0;i&lt;ch2.length;i++){\r\n\t\t\tif(ch1[i]==ch2[i]){\r\n\t\t\t\tresult++;\r\n\t\t\t}\r\n\t\t}\r\n\t\t}\r\n\t\telse{\r\n\t\t\tfor(int i=0;i&lt;ch1.length;i++){\r\n\t\t\t\tif(ch2[i]==ch1[i]){\r\n\t\t\t\t\tresult++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result;\r\n\t}","title":"How to identify the number of common character between two strings?","body":"<p>You can also do something like this. (Try it) -</p>\n\n<pre><code>public int count(String s1, String s2) {\n    int result=0;\n    char[] ch1=s1.toCharArray();\n    char[] ch2=s2.toCharArray();\n\n    if(ch1.length&gt;ch2.length){\n    for(int i=0;i&lt;ch2.length;i++){\n        if(ch1[i]==ch2[i]){\n            result++;\n        }\n    }\n    }\n    else{\n        for(int i=0;i&lt;ch1.length;i++){\n            if(ch2[i]==ch1[i]){\n                result++;\n            }\n        }\n    }\n    return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5658403,"reputation":367,"user_id":4476738,"display_name":"ashisahu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1447823625,"creation_date":1447823625,"answer_id":33772282,"question_id":33770590,"body_markdown":"This can be done more preciously using a single loop. Find the below code with the solution :- \r\n\r\n    class GetCount {\r\n\r\n\tpublic static void main(String args[]) {\r\n\t\tString myString = &quot;rhinoceroses&quot;;\r\n\t\tString myString1 = &quot;hippopotamus&quot;;\r\n\r\n\t\tcount(myString, myString1);\r\n\t}\r\n\r\n\t/**\r\n\t * @param myString\r\n\t * @param myString1\r\n\t */\r\n\tprivate static void count(String myString, String myString1) {\r\n\t\tint i = 0;\r\n\t\tint count = 0;\r\n\t\tint length = myString.length() &lt; myString1.length() ? myString.length() : myString1.length();\r\n\t\twhile(i &lt; length) {\r\n\t\t\tif(myString.charAt(i) == myString1.charAt(i)) {\r\n\t\t\t\tcount++;\r\n\t\t\t}\r\n\t\t\ti++;\r\n\t\t}\r\n\t\tSystem.out.println(&quot;Count is :: &quot; + count);\r\n\t\t\r\n\t}\r\n\r\n}","title":"How to identify the number of common character between two strings?","body":"<p>This can be done more preciously using a single loop. Find the below code with the solution :- </p>\n\n<pre><code>class GetCount {\n\npublic static void main(String args[]) {\n    String myString = \"rhinoceroses\";\n    String myString1 = \"hippopotamus\";\n\n    count(myString, myString1);\n}\n\n/**\n * @param myString\n * @param myString1\n */\nprivate static void count(String myString, String myString1) {\n    int i = 0;\n    int count = 0;\n    int length = myString.length() &lt; myString1.length() ? myString.length() : myString1.length();\n    while(i &lt; length) {\n        if(myString.charAt(i) == myString1.charAt(i)) {\n            count++;\n        }\n        i++;\n    }\n    System.out.println(\"Count is :: \" + count);\n\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":6528825,"reputation":21455,"user_id":5050667,"accept_rate":91,"display_name":"Yassin Hajaj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1447841099,"creation_date":1447841099,"answer_id":33777020,"question_id":33770590,"body_markdown":"Here is a compact solution, very easy to understand.\r\n\r\n--------\r\n\r\nSolution\r\n-\r\n\r\n    public static int count(String s1, String s2){\r\n    \tint count = 0;\r\n    \tfor (int i = 0 ; i &lt; (s1.length() &gt; s2.length() ? s2 : s1).length() ; i++){\r\n    \t\tcount += s1.charAt(i) == s2.charAt(i) ? 1 : 0;\r\n    \t}\r\n    \treturn count;\r\n    }\r\n\r\n-------\r\nInput\r\n-\r\n\r\n    public static void main(String[] args) {\r\n    \tSystem.out.println(\r\n    \t\t\t&quot;New York, New Delhi : &quot; \r\n    \t        + count(&quot;New York&quot;, &quot;New Delhi&quot;));\r\n    \t\r\n    \tSystem.out.println(\r\n    \t\t\t&quot;Rhinoceroses, Hippopotamus : &quot; \r\n    \t\t\t+ count (&quot;Rhinoceroses&quot;, &quot;Hippopotamus&quot;));\r\n    }\r\n\r\n--------\r\nOutput\r\n-\r\n\r\n    New York, New Delhi : 4\r\n    Rhinoceroses, Hippopotamus : 2\r\n\r\n","title":"How to identify the number of common character between two strings?","body":"<p>Here is a compact solution, very easy to understand.</p>\n\n<hr>\n\n<h2>Solution</h2>\n\n<pre><code>public static int count(String s1, String s2){\n    int count = 0;\n    for (int i = 0 ; i &lt; (s1.length() &gt; s2.length() ? s2 : s1).length() ; i++){\n        count += s1.charAt(i) == s2.charAt(i) ? 1 : 0;\n    }\n    return count;\n}\n</code></pre>\n\n<hr>\n\n<h2>Input</h2>\n\n<pre><code>public static void main(String[] args) {\n    System.out.println(\n            \"New York, New Delhi : \" \n            + count(\"New York\", \"New Delhi\"));\n\n    System.out.println(\n            \"Rhinoceroses, Hippopotamus : \" \n            + count (\"Rhinoceroses\", \"Hippopotamus\"));\n}\n</code></pre>\n\n<hr>\n\n<h2>Output</h2>\n\n<pre><code>New York, New Delhi : 4\nRhinoceroses, Hippopotamus : 2\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7653846,"reputation":306,"user_id":5801511,"display_name":"Maxim M"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1547047267,"creation_date":1547047267,"answer_id":54113288,"question_id":33770590,"body_markdown":"The solutions provided before are useless, as they work only if the characters are in the same sequence.\r\n**Here is my solution:**\r\n\r\n    private int commonCharacterCount(String s1, String s2) {\r\n        int counter = 0;\r\n\r\n        List&lt;Character&gt; list = new LinkedList&lt;&gt;();\r\n        for (char aChar : s1.toCharArray()) {\r\n            list.add(aChar);\r\n        }\r\n\r\n        for (char c : s2.toCharArray()) {\r\n            if (list.contains(c)) {\r\n                list.remove(Character.valueOf(c));\r\n                counter++;\r\n            }\r\n        }\r\n        return counter;\r\n    }\r\n\r\nYou are welcome :)","title":"How to identify the number of common character between two strings?","body":"<p>The solutions provided before are useless, as they work only if the characters are in the same sequence.\n<strong>Here is my solution:</strong></p>\n\n<pre><code>private int commonCharacterCount(String s1, String s2) {\n    int counter = 0;\n\n    List&lt;Character&gt; list = new LinkedList&lt;&gt;();\n    for (char aChar : s1.toCharArray()) {\n        list.add(aChar);\n    }\n\n    for (char c : s2.toCharArray()) {\n        if (list.contains(c)) {\n            list.remove(Character.valueOf(c));\n            counter++;\n        }\n    }\n    return counter;\n}\n</code></pre>\n\n<p>You are welcome :)</p>\n"},{"tags":[],"owner":{"account_id":14990460,"reputation":19,"user_id":10821769,"display_name":"Kyle Henry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1548395760,"creation_date":1548395760,"answer_id":54359681,"question_id":33770590,"body_markdown":"Typescript solution. Guaranteed constraints:\r\n1 ≤ s1.length ≤ 15, 1 ≤ s2.length ≤ 15\r\n\r\n    function commonCharacterCount(s1: string, s2: string): number {\r\n        let count = 0;\r\n        let s_1 = s1.split(&quot;&quot;);\r\n        let s_2 = s2.split(&quot;&quot;);\r\n\r\n        for (let i = 0; i &lt; s_1.length; i++) {\r\n            for (let j = 0; j &lt; s_2.length; j++) {\r\n                if (s_1[i] == s_2[j]) {\r\n                    count++;\r\n                    s_2.splice(j, 1);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        return(count);\r\n    }","title":"How to identify the number of common character between two strings?","body":"<p>Typescript solution. Guaranteed constraints:\n1 ≤ s1.length ≤ 15, 1 ≤ s2.length ≤ 15</p>\n\n<pre><code>function commonCharacterCount(s1: string, s2: string): number {\n    let count = 0;\n    let s_1 = s1.split(\"\");\n    let s_2 = s2.split(\"\");\n\n    for (let i = 0; i &lt; s_1.length; i++) {\n        for (let j = 0; j &lt; s_2.length; j++) {\n            if (s_1[i] == s_2[j]) {\n                count++;\n                s_2.splice(j, 1);\n                break;\n            }\n        }\n    }\n    return(count);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1308063,"reputation":1336,"user_id":2806801,"accept_rate":71,"display_name":"Radu Dumbrăveanu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1548408580,"creation_date":1548398217,"answer_id":54360110,"question_id":33770590,"body_markdown":"Since you need to count of the chars which are in the same position we can do it in a single loop checking at each iteration (string position) if the chars are equal or not. And the number of iteration should be the minimum length of `str1` and `str2` (maybe we could extract `Math.min(str1.length(), str2.length())` in a variable). I compressed the `if - else` branches from your solution to a single loop using the minimum string length in loop condition.\r\n\r\n    public int countCommonChars(String str1, String str2) {\r\n      int commonCharsNumber = 0;\r\n      for(int i=0; i&lt; Math.min(str1.length(), str2.length()); i++) {\r\n        if (str1.charAt(i) == str2.charAt(i)) {\r\n          commonCharsNumber++;\r\n        }\r\n      }\r\n      return commonCharsNumber;\r\n    }","title":"How to identify the number of common character between two strings?","body":"<p>Since you need to count of the chars which are in the same position we can do it in a single loop checking at each iteration (string position) if the chars are equal or not. And the number of iteration should be the minimum length of <code>str1</code> and <code>str2</code> (maybe we could extract <code>Math.min(str1.length(), str2.length())</code> in a variable). I compressed the <code>if - else</code> branches from your solution to a single loop using the minimum string length in loop condition.</p>\n\n<pre><code>public int countCommonChars(String str1, String str2) {\n  int commonCharsNumber = 0;\n  for(int i=0; i&lt; Math.min(str1.length(), str2.length()); i++) {\n    if (str1.charAt(i) == str2.charAt(i)) {\n      commonCharsNumber++;\n    }\n  }\n  return commonCharsNumber;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4239064,"reputation":10026,"user_id":3469489,"accept_rate":43,"display_name":"Shaaban Ebrahim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583076193,"creation_date":1583076193,"answer_id":60476633,"question_id":33770590,"body_markdown":"    int commonCharacterCount(String s1, String s2) {\r\n\r\n        Map&lt;String, Integer&gt; mapOfString1 = getOcuurances(s1);\r\n        Map&lt;String, Integer&gt; mapOfString2 = getOcuurances(s2);\r\n\r\n        int counter = 0;\r\n\r\n        for (Map.Entry&lt;String, Integer&gt; entry : mapOfString2.entrySet()) {\r\n            if (mapOfString1.get(entry.getKey()) != null) {\r\n                if (mapOfString1.get(entry.getKey()) &gt; entry.getValue()) {\r\n                    counter += entry.getValue();\r\n                } else {\r\n                    counter += mapOfString1.get(entry.getKey());\r\n                }\r\n            }\r\n\r\n        }\r\n        return counter;\r\n    }\r\n\r\n    public Map&lt;String, Integer&gt; getOcuurances(String s) {\r\n        Map&lt;String, Integer&gt; hashMap = new HashMap&lt;&gt;();\r\n        String[] strings = s.split(&quot;&quot;);\r\n        for (int i = 0; i &lt; strings.length; i++) {\r\n            if (hashMap.containsKey(strings[i])) {\r\n                hashMap.put(strings[i], hashMap.get(strings[i]) + 1);\r\n            } else {\r\n                hashMap.put(strings[i], 1);\r\n            }\r\n        }\r\n        return hashMap;\r\n    }","title":"How to identify the number of common character between two strings?","body":"<pre><code>int commonCharacterCount(String s1, String s2) {\n\n    Map&lt;String, Integer&gt; mapOfString1 = getOcuurances(s1);\n    Map&lt;String, Integer&gt; mapOfString2 = getOcuurances(s2);\n\n    int counter = 0;\n\n    for (Map.Entry&lt;String, Integer&gt; entry : mapOfString2.entrySet()) {\n        if (mapOfString1.get(entry.getKey()) != null) {\n            if (mapOfString1.get(entry.getKey()) &gt; entry.getValue()) {\n                counter += entry.getValue();\n            } else {\n                counter += mapOfString1.get(entry.getKey());\n            }\n        }\n\n    }\n    return counter;\n}\n\npublic Map&lt;String, Integer&gt; getOcuurances(String s) {\n    Map&lt;String, Integer&gt; hashMap = new HashMap&lt;&gt;();\n    String[] strings = s.split(\"\");\n    for (int i = 0; i &lt; strings.length; i++) {\n        if (hashMap.containsKey(strings[i])) {\n            hashMap.put(strings[i], hashMap.get(strings[i]) + 1);\n        } else {\n            hashMap.put(strings[i], 1);\n        }\n    }\n    return hashMap;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4560382,"reputation":1,"user_id":3702908,"display_name":"Naseer Ullah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639567944,"creation_date":1639567944,"answer_id":70362955,"question_id":33770590,"body_markdown":"    int count(String s1, String s2) {\r\n        Map&lt;Character, Integer&gt; charCountMap1 = getCharacterCount(s1);\r\n        Map&lt;Character, Integer&gt; charCountMap2 = getCharacterCount(s2);\r\n\r\n        return charCountMap1.entrySet().stream().map(charCountEntry -&gt;\r\n            Math.min(charCountEntry.getValue(), charCountMap2.getOrDefault(charCountEntry.getKey(), 0))\r\n        ).collect(Collectors.summingInt(value -&gt; value));\r\n    }\r\n\r\n    private Map&lt;Character, Integer&gt; getCharacterCount(String str) {\r\n        Map&lt;Character, Integer&gt; charCountMap = new HashMap&lt;&gt;();\r\n        for (int i = 0; i &lt; str.toCharArray().length; i++) {\r\n            Integer count = charCountMap.getOrDefault(str.charAt(i), 0);\r\n            charCountMap.put(str.charAt(i), ++count);\r\n        }\r\n        return charCountMap;\r\n    }","title":"How to identify the number of common character between two strings?","body":"<pre><code>int count(String s1, String s2) {\n    Map&lt;Character, Integer&gt; charCountMap1 = getCharacterCount(s1);\n    Map&lt;Character, Integer&gt; charCountMap2 = getCharacterCount(s2);\n\n    return charCountMap1.entrySet().stream().map(charCountEntry -&gt;\n        Math.min(charCountEntry.getValue(), charCountMap2.getOrDefault(charCountEntry.getKey(), 0))\n    ).collect(Collectors.summingInt(value -&gt; value));\n}\n\nprivate Map&lt;Character, Integer&gt; getCharacterCount(String str) {\n    Map&lt;Character, Integer&gt; charCountMap = new HashMap&lt;&gt;();\n    for (int i = 0; i &lt; str.toCharArray().length; i++) {\n        Integer count = charCountMap.getOrDefault(str.charAt(i), 0);\n        charCountMap.put(str.charAt(i), ++count);\n    }\n    return charCountMap;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22211843,"reputation":1,"user_id":16450875,"display_name":"Neeraj Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651428415,"creation_date":1651428415,"answer_id":72079228,"question_id":33770590,"body_markdown":"I would like to go with below:-\r\n\r\n    \tprivate static int solution(String s1, String s2) {\r\n\r\n\t\tint count = 0;\r\n\r\n\t\tList&lt;Character&gt; listChars = s1.chars().mapToObj(chr -&gt; (char) chr)\r\n\t\t\t\t.collect(Collectors.toCollection(LinkedList::new));\r\n\r\n\t\tfor (char c : s2.toCharArray()) {\r\n\t\t\tif (listChars.contains(c)) {\r\n\t\t\t\tlistChars.remove(Character.valueOf(c));\r\n\t\t\t\tcount++;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn count;\r\n\t}","title":"How to identify the number of common character between two strings?","body":"<p>I would like to go with below:-</p>\n<pre><code>    private static int solution(String s1, String s2) {\n\n    int count = 0;\n\n    List&lt;Character&gt; listChars = s1.chars().mapToObj(chr -&gt; (char) chr)\n            .collect(Collectors.toCollection(LinkedList::new));\n\n    for (char c : s2.toCharArray()) {\n        if (listChars.contains(c)) {\n            listChars.remove(Character.valueOf(c));\n            count++;\n        }\n    }\n    return count;\n}\n</code></pre>\n"}],"owner":{"account_id":7147987,"reputation":550,"user_id":5463060,"accept_rate":69,"display_name":"Jason arora"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11594,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":33770754,"answer_count":11,"score":1,"last_activity_date":1651428415,"creation_date":1447812360,"question_id":33770590,"body_markdown":"&gt;Given 2 strings, str1 and str2, as input, return the count of the chars which are in the same position in str1 and str2.\n\n# Sample Input #1\n\ncount(&quot;New York&quot;,&quot;New Delhi&quot;)\n\n# Sample Output #1\n\n4\n\nBecause the two strings share the same four leading characters: &quot;New &quot;\n\n# Sample Input #2\n\ncount(&quot;rhinoceroses&quot;,&quot;hippopotamus&quot;)\n\n# Sample Output #2\n\n2\n\nBecause &#39;o&#39; occupies the fourth position and &#39;s&#39; the eleventh position in both strings.\n\n**MyApproach**\n\n@Edit\n\n    public int count(String str1, String str2)\n    {\n        int p=0;\n        int k=0;\n        int count=0;\n        int l1=str1.length();\n        int l2=str2.length();\n        if(l1&gt;=l2)\n        {\n         while(k&lt;l2)\n         {\n             char ch1=str1.charAt(p);\n             char ch2=str2.charAt(k);\n        \n                if(ch1==ch2)\n                {\n                    p++;\n                    k++;\n                    count++;\n                }\n                else\n                {\n                    p++;\n                    k++;\n                    \n                }\n          }         \n         }\n         else\n         {\n             char ch1=str1.charAt(p);\n             char ch2=str2.charAt(k);\n        \n             while(k&lt;l1)\n             {\n                 \n                if(ch1==ch2)\n                {\n                    p++;\n                    k++;\n                    count++;\n                }\n                else\n                {\n                    p++;\n                    k++;\n                    \n                }\n              }         \n          }\n       return count;\n    }   \nParameters            Actual Output Expected Output\n\n&#39;Trisect&#39;&#39;Classes&#39;    0             1\n\n&gt; I am getting correct output now.\n\nThanku\n","title":"How to identify the number of common character between two strings?","body":"<blockquote>\n<p>Given 2 strings, str1 and str2, as input, return the count of the chars which are in the same position in str1 and str2.</p>\n</blockquote>\n<h1>Sample Input #1</h1>\n<p>count(&quot;New York&quot;,&quot;New Delhi&quot;)</p>\n<h1>Sample Output #1</h1>\n<p>4</p>\n<p>Because the two strings share the same four leading characters: &quot;New &quot;</p>\n<h1>Sample Input #2</h1>\n<p>count(&quot;rhinoceroses&quot;,&quot;hippopotamus&quot;)</p>\n<h1>Sample Output #2</h1>\n<p>2</p>\n<p>Because 'o' occupies the fourth position and 's' the eleventh position in both strings.</p>\n<p><strong>MyApproach</strong></p>\n<p>@Edit</p>\n<pre><code>public int count(String str1, String str2)\n{\n    int p=0;\n    int k=0;\n    int count=0;\n    int l1=str1.length();\n    int l2=str2.length();\n    if(l1&gt;=l2)\n    {\n     while(k&lt;l2)\n     {\n         char ch1=str1.charAt(p);\n         char ch2=str2.charAt(k);\n    \n            if(ch1==ch2)\n            {\n                p++;\n                k++;\n                count++;\n            }\n            else\n            {\n                p++;\n                k++;\n                \n            }\n      }         \n     }\n     else\n     {\n         char ch1=str1.charAt(p);\n         char ch2=str2.charAt(k);\n    \n         while(k&lt;l1)\n         {\n             \n            if(ch1==ch2)\n            {\n                p++;\n                k++;\n                count++;\n            }\n            else\n            {\n                p++;\n                k++;\n                \n            }\n          }         \n      }\n   return count;\n}   \n</code></pre>\n<p>Parameters            Actual Output Expected Output</p>\n<p>'Trisect''Classes'    0             1</p>\n<blockquote>\n<p>I am getting correct output now.</p>\n</blockquote>\n<p>Thanku</p>\n"},{"tags":["java","swing","jframe","grid-layout"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1651431169,"post_id":72078816,"comment_id":127358685,"body_markdown":"https://technojeeves.com/index.php/aliasjava1/106-java-style-conventions","body":"<a href=\"https://technojeeves.com/index.php/aliasjava1/106-java-style-conventions\" rel=\"nofollow noreferrer\">technojeeves.com/index.php/aliasjava1/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2640224,"reputation":586,"user_id":9189768,"display_name":"BluEOS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651428209,"creation_date":1651428209,"answer_id":72079207,"question_id":72078816,"body_markdown":"You have to update the background in your callback.\r\n\r\n    public void keyPressed(KeyEvent e) {\r\n        int k = e.getKeyCode();\r\n        grid[playerX][playerY].setBackground(Color.WHITE); \r\n        switch (k) {\r\n            case KeyEvent.VK_D:\r\n                playerX++;\r\n                break;\r\n            case KeyEvent.VK_A:\r\n                playerX--;\r\n                break;\r\n            case KeyEvent.VK_W:\r\n                playerY--;\r\n                break;\r\n            case KeyEvent.VK_S:\r\n                playerY++;\r\n                break;\r\n        }\r\n        grid[playerX][playerY].setBackground(Color.red);\r\n    }\r\n","title":"How do I update a Gridlayout after actionlistener is triggered","body":"<p>You have to update the background in your callback.</p>\n<pre><code>public void keyPressed(KeyEvent e) {\n    int k = e.getKeyCode();\n    grid[playerX][playerY].setBackground(Color.WHITE); \n    switch (k) {\n        case KeyEvent.VK_D:\n            playerX++;\n            break;\n        case KeyEvent.VK_A:\n            playerX--;\n            break;\n        case KeyEvent.VK_W:\n            playerY--;\n            break;\n        case KeyEvent.VK_S:\n            playerY++;\n            break;\n    }\n    grid[playerX][playerY].setBackground(Color.red);\n}\n</code></pre>\n"}],"owner":{"account_id":25165879,"reputation":1,"user_id":19009428,"display_name":"Cosmo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651428209,"creation_date":1651424774,"question_id":72078816,"body_markdown":"I am trying to build a grid containing a player (red square) that can move around the grid using the WASD keys. So far my actionlistener is registering key pressed, however when calling the repaint() method on the grid (panel), nothing changes. How can I get the board to update?\r\n\r\nHere is my Main class:\r\n\r\n```\r\npublic class game {\r\n\r\n    public static void main(String[] args) {\r\n        JFrame GUI = new GUI();\r\n        GUI.setVisible(true);\r\n    }\r\n}\r\n```\r\n\r\nHere is my custom JFrame:\r\n\r\n```\r\npublic class GUI extends JFrame implements KeyListener {\r\n    \r\n    //JPanel board = new board();\r\n    public board board;\r\n\r\n    public GUI() {\r\n        super();\r\n        board = new board();\r\n        add(board);\r\n        //setSize(800, 800);\r\n        //setVisible(true);\r\n\r\n        pack();\r\n        addKeyListener(this);\r\n        repaint();\r\n    }\r\n\r\n    @Override\r\n    public void repaint() {\r\n        super.repaint();\r\n    }\r\n\r\n    @Override\r\n    public void keyPressed(KeyEvent e) {\r\n        board.keyPressed(e);\r\n        board.repaint();\r\n    }\r\n\r\n    @Override\r\n    public void keyTyped(KeyEvent e) { }\r\n\r\n    @Override\r\n    public void keyReleased(KeyEvent e) { }\r\n}\r\n```\r\nHere is my custom JPanel class that constructs the grid using JLabels:\r\n\r\n```\r\npublic class board extends JPanel {\r\n\r\n    public static final int GRID_SIZE = 20;\r\n\r\n    int playerX = ThreadLocalRandom.current().nextInt(0, GRID_SIZE + 1);\r\n    int playerY = ThreadLocalRandom.current().nextInt(0, GRID_SIZE + 1);\r\n\r\n    public board() {\r\n\r\n        //JPanel panel = new JPanel();\r\n\r\n        int row = GRID_SIZE;\r\n        int col = GRID_SIZE;\r\n\r\n        setBounds(100, 100, 500, 500);\r\n        setLayout(new GridLayout(col, row));\r\n\r\n        JLabel[][] grid= new JLabel[col][row];\r\n        for (int y = 0; y &lt; col; y++){\r\n            for (int x = 0; x &lt; row; x++){\r\n                grid[x][y] = new JLabel();\r\n                grid[x][y].setBorder(BorderFactory.createLineBorder(Color.black));\r\n                grid[x][y].setBackground(Color.white);\r\n                grid[x][y].setOpaque(true);\r\n                add(grid[x][y]);\r\n            }\r\n        }\r\n        grid[playerX][playerY].setBackground(Color.red);\r\n    }\r\n\r\n    public void keyPressed(KeyEvent e) {\r\n        int k = e.getKeyCode();\r\n\r\n        switch (k) {\r\n            case KeyEvent.VK_D:\r\n                playerX++;\r\n                break;\r\n            case KeyEvent.VK_A:\r\n                playerX--;\r\n                break;\r\n            case KeyEvent.VK_W:\r\n                playerY--;\r\n                break;\r\n            case KeyEvent.VK_S:\r\n                playerY++;\r\n                break;\r\n        }\r\n    }\r\n\r\n}\r\n```","title":"How do I update a Gridlayout after actionlistener is triggered","body":"<p>I am trying to build a grid containing a player (red square) that can move around the grid using the WASD keys. So far my actionlistener is registering key pressed, however when calling the repaint() method on the grid (panel), nothing changes. How can I get the board to update?</p>\n<p>Here is my Main class:</p>\n<pre><code>public class game {\n\n    public static void main(String[] args) {\n        JFrame GUI = new GUI();\n        GUI.setVisible(true);\n    }\n}\n</code></pre>\n<p>Here is my custom JFrame:</p>\n<pre><code>public class GUI extends JFrame implements KeyListener {\n    \n    //JPanel board = new board();\n    public board board;\n\n    public GUI() {\n        super();\n        board = new board();\n        add(board);\n        //setSize(800, 800);\n        //setVisible(true);\n\n        pack();\n        addKeyListener(this);\n        repaint();\n    }\n\n    @Override\n    public void repaint() {\n        super.repaint();\n    }\n\n    @Override\n    public void keyPressed(KeyEvent e) {\n        board.keyPressed(e);\n        board.repaint();\n    }\n\n    @Override\n    public void keyTyped(KeyEvent e) { }\n\n    @Override\n    public void keyReleased(KeyEvent e) { }\n}\n</code></pre>\n<p>Here is my custom JPanel class that constructs the grid using JLabels:</p>\n<pre><code>public class board extends JPanel {\n\n    public static final int GRID_SIZE = 20;\n\n    int playerX = ThreadLocalRandom.current().nextInt(0, GRID_SIZE + 1);\n    int playerY = ThreadLocalRandom.current().nextInt(0, GRID_SIZE + 1);\n\n    public board() {\n\n        //JPanel panel = new JPanel();\n\n        int row = GRID_SIZE;\n        int col = GRID_SIZE;\n\n        setBounds(100, 100, 500, 500);\n        setLayout(new GridLayout(col, row));\n\n        JLabel[][] grid= new JLabel[col][row];\n        for (int y = 0; y &lt; col; y++){\n            for (int x = 0; x &lt; row; x++){\n                grid[x][y] = new JLabel();\n                grid[x][y].setBorder(BorderFactory.createLineBorder(Color.black));\n                grid[x][y].setBackground(Color.white);\n                grid[x][y].setOpaque(true);\n                add(grid[x][y]);\n            }\n        }\n        grid[playerX][playerY].setBackground(Color.red);\n    }\n\n    public void keyPressed(KeyEvent e) {\n        int k = e.getKeyCode();\n\n        switch (k) {\n            case KeyEvent.VK_D:\n                playerX++;\n                break;\n            case KeyEvent.VK_A:\n                playerX--;\n                break;\n            case KeyEvent.VK_W:\n                playerY--;\n                break;\n            case KeyEvent.VK_S:\n                playerY++;\n                break;\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","selenium","dom","automation"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1470646803,"post_id":38824995,"comment_id":65016012,"body_markdown":"the type your requirements state that should be thrown","body":"the type your requirements state that should be thrown"},{"owner":{"account_id":3052370,"reputation":94,"user_id":2991566,"accept_rate":25,"display_name":"Mario Galea"},"score":0,"creation_date":1470646944,"post_id":38824995,"comment_id":65016119,"body_markdown":"@Stultuske: I didn&#39;t get your answer.","body":"@Stultuske: I didn&#39;t get your answer."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1470647315,"post_id":38824995,"comment_id":65016339,"body_markdown":"if the architect who designed your structure decided you have to throw a BoogaBoogaBoogaException, then that is what it is. There is no fixed &quot;this is what you need, nothing else&quot; standard.","body":"if the architect who designed your structure decided you have to throw a BoogaBoogaBoogaException, then that is what it is. There is no fixed &quot;this is what you need, nothing else&quot; standard."},{"owner":{"account_id":3052370,"reputation":94,"user_id":2991566,"accept_rate":25,"display_name":"Mario Galea"},"score":0,"creation_date":1470647749,"post_id":38824995,"comment_id":65016577,"body_markdown":"@Stultuske.  It is me who wrote this, and I&#39;ve posted here for a better solution, if any.  If ever this was written by an architect, I would still be here searching for a better approach.","body":"@Stultuske.  It is me who wrote this, and I&#39;ve posted here for a better solution, if any.  If ever this was written by an architect, I would still be here searching for a better approach."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":2,"creation_date":1470647996,"post_id":38824995,"comment_id":65016759,"body_markdown":"who designs it and who writes it, is not necessarily the same. anyway, if you did te analysis, and have no requirements of structure by your company, you get to decide. a know approach is to have internal exception types split up in business and technical exceptions, which have error codes wich help to decide exactly what happened","body":"who designs it and who writes it, is not necessarily the same. anyway, if you did te analysis, and have no requirements of structure by your company, you get to decide. a know approach is to have internal exception types split up in business and technical exceptions, which have error codes wich help to decide exactly what happened"}],"answers":[{"tags":[],"owner":{"account_id":8505572,"reputation":4153,"user_id":6377281,"display_name":"lauda"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1470667460,"creation_date":1470667460,"answer_id":38832204,"question_id":38824995,"body_markdown":"You should check the available exceptions and:\r\n\r\nIf you have the appropriate exception that matches your error then use it, else create/use a custom exception or create/use a general exception with a custom message depending on the method.\r\n\r\nAlways try to output an exception with an message that will be helpful to you.\r\n\r\nIn this case, assuming checkVisibleText1 is the text you are looking for, using NoSuchElementException with the text as the parameter is not OK.\r\n\r\nYou should have an exception like ElementDoesNotContainsTextException with a message saying &quot;\\t Element [&quot; + elementTableName+ &quot;] does not contain text [&quot; + checkVisibleText1 + &quot;].&quot;\r\n\r\nTry to use an appropriate exception when possible or use a general exception with the appropriate message.\r\n\r\nMy opinion is that you have too much noise/logs in this method, too much logs and too complex for the functionality that it has.\r\nThe methods should have their exceptions you you shouldn&#39;t need so many logs.\r\n\r\nSome solutions:\r\n    1. Get the text from the table and check if the text is there\r\n    2. Create a selector based on that text with xpath and check for that selector\r\n    3. Check for the text in a specific selector\r\n\r\nCreate reusable methods like: theElementContainsText, theElementDoesNotContainsText\r\n\r\nReuse as much as possible for example for above method(s) you could use other methods that: find element, get element from text","title":"What Exception to throw when a web element is found in Selenium Automation","body":"<p>You should check the available exceptions and:</p>\n\n<p>If you have the appropriate exception that matches your error then use it, else create/use a custom exception or create/use a general exception with a custom message depending on the method.</p>\n\n<p>Always try to output an exception with an message that will be helpful to you.</p>\n\n<p>In this case, assuming checkVisibleText1 is the text you are looking for, using NoSuchElementException with the text as the parameter is not OK.</p>\n\n<p>You should have an exception like ElementDoesNotContainsTextException with a message saying \"\\t Element [\" + elementTableName+ \"] does not contain text [\" + checkVisibleText1 + \"].\"</p>\n\n<p>Try to use an appropriate exception when possible or use a general exception with the appropriate message.</p>\n\n<p>My opinion is that you have too much noise/logs in this method, too much logs and too complex for the functionality that it has.\nThe methods should have their exceptions you you shouldn't need so many logs.</p>\n\n<p>Some solutions:\n    1. Get the text from the table and check if the text is there\n    2. Create a selector based on that text with xpath and check for that selector\n    3. Check for the text in a specific selector</p>\n\n<p>Create reusable methods like: theElementContainsText, theElementDoesNotContainsText</p>\n\n<p>Reuse as much as possible for example for above method(s) you could use other methods that: find element, get element from text</p>\n"}],"owner":{"account_id":3052370,"reputation":94,"user_id":2991566,"accept_rate":25,"display_name":"Mario Galea"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":390,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1651479449,"answer_count":1,"score":-1,"last_activity_date":1651427501,"creation_date":1470646663,"question_id":38824995,"body_markdown":"Currently, I am working on a &quot;Selenium Wrapper Library&quot;, where a set of methods are created in order to perform automation on a particular Web Portal.  These methods includes debug logging and other logic, and are called within test classes.\r\n\r\nI&#39;ve just created a new method to check whether a table cell (tag name `td`), is present inside a table row (tag name `tr`).  Below is the created method:\r\n\r\n    public void checkEntryIsNotInTable(String elementTableName, By byElementTable, String checkVisibleText1) {\r\n\t\t// Get All Rows from table, using tagname &lt;tr&gt;\r\n\t\tList&lt;WebElement&gt; tableRows = getElements(elementTableName, byElementTable);\r\n\t\tDebug.log.info(&quot;\\tTotal of [&quot; + tableRows.size() + &quot;] Rows found in table [&quot; + elementTableName + &quot;]&quot; );\r\n\t\tint rowCount    = 0;\t\r\n\t\tboolean isNotFound = false;\r\n\t\tFINDCELL: \r\n\t\tfor(WebElement row : tableRows) {\r\n\t\t\t// Get All Cells from table, using tagname &lt;td&gt;\r\n\t\t\tList&lt;WebElement&gt; rowCells = row.findElements(By.tagName(&quot;td&quot;));\r\n\t\t\tif(rowCells == null) {\r\n\t\t\t\tDebug.log.error(&quot;\\tNo Elements found with TagName [td] in Element [&quot; + byElementTable + &quot;]&quot;);\r\n\t\t\t} else { \r\n\t\t\t\tDebug.log.info(&quot;\\tRow [&quot; + rowCount++ + &quot;] contains [&quot; + rowCells.size() + &quot;] Cells&quot;);\r\n\t\t\t}\t\r\n\t\t\t// Check Visible Text in Cell, and if found, break from for loop.\r\n\t\t\tfor(WebElement cell : rowCells) {\r\n\t\t\t\twaitFor(2.0);\r\n\t\t\t\tif(!cell.getText().contains(checkVisibleText1)){ \r\n\t\t\t\t\tDebug.log.info(&quot;\\t[&quot; + checkVisibleText1 + &quot;] not found in any Cell.&quot;);\t\r\n\t\t\t\t\tisNotFound = true;\r\n\t\t\t\t\tbreak FINDCELL;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t// What kind of exception should I throw here!!\r\n\t\tif(isNotFound) {\r\n\t\t\tDebug.log.error(&quot;\\t[&quot; + checkVisibleText1 + &quot;] found in one Cell.&quot;);\t\r\n\t\t\tthrow new NoSuchElementException(checkVisibleText1);\r\n\t\t}\r\n\t}\r\n\r\nAt this stage, when `checkVisibleText1` is found, I need to throw a new exception.  However, for this method, the exception `NoSuchElementException` does not reflect a proper exception, since the element is found - and it should not be found.  \r\n\r\nWhat exception would be appropriate to throw here?","title":"What Exception to throw when a web element is found in Selenium Automation","body":"<p>Currently, I am working on a &quot;Selenium Wrapper Library&quot;, where a set of methods are created in order to perform automation on a particular Web Portal.  These methods includes debug logging and other logic, and are called within test classes.</p>\n<p>I've just created a new method to check whether a table cell (tag name <code>td</code>), is present inside a table row (tag name <code>tr</code>).  Below is the created method:</p>\n<pre><code>public void checkEntryIsNotInTable(String elementTableName, By byElementTable, String checkVisibleText1) {\n    // Get All Rows from table, using tagname &lt;tr&gt;\n    List&lt;WebElement&gt; tableRows = getElements(elementTableName, byElementTable);\n    Debug.log.info(&quot;\\tTotal of [&quot; + tableRows.size() + &quot;] Rows found in table [&quot; + elementTableName + &quot;]&quot; );\n    int rowCount    = 0;    \n    boolean isNotFound = false;\n    FINDCELL: \n    for(WebElement row : tableRows) {\n        // Get All Cells from table, using tagname &lt;td&gt;\n        List&lt;WebElement&gt; rowCells = row.findElements(By.tagName(&quot;td&quot;));\n        if(rowCells == null) {\n            Debug.log.error(&quot;\\tNo Elements found with TagName [td] in Element [&quot; + byElementTable + &quot;]&quot;);\n        } else { \n            Debug.log.info(&quot;\\tRow [&quot; + rowCount++ + &quot;] contains [&quot; + rowCells.size() + &quot;] Cells&quot;);\n        }   \n        // Check Visible Text in Cell, and if found, break from for loop.\n        for(WebElement cell : rowCells) {\n            waitFor(2.0);\n            if(!cell.getText().contains(checkVisibleText1)){ \n                Debug.log.info(&quot;\\t[&quot; + checkVisibleText1 + &quot;] not found in any Cell.&quot;); \n                isNotFound = true;\n                break FINDCELL;\n            }\n        }\n    }\n    // What kind of exception should I throw here!!\n    if(isNotFound) {\n        Debug.log.error(&quot;\\t[&quot; + checkVisibleText1 + &quot;] found in one Cell.&quot;);    \n        throw new NoSuchElementException(checkVisibleText1);\n    }\n}\n</code></pre>\n<p>At this stage, when <code>checkVisibleText1</code> is found, I need to throw a new exception.  However, for this method, the exception <code>NoSuchElementException</code> does not reflect a proper exception, since the element is found - and it should not be found.</p>\n<p>What exception would be appropriate to throw here?</p>\n"},{"tags":["java","algorithm","quickselect"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1651424752,"post_id":72078669,"comment_id":127357295,"body_markdown":"Just looking at the Wiki page of Quickselect, I don&#39;t see how you turn one partition step into a Quickselect.  It&#39;s obviously recursive.  Could you make a better attempt at the code and post the result?","body":"Just looking at the Wiki page of Quickselect, I don&#39;t see how you turn one partition step into a Quickselect.  It&#39;s obviously recursive.  Could you make a better attempt at the code and post the result?"},{"owner":{"account_id":8556756,"reputation":595,"user_id":6412004,"display_name":"Regyn"},"score":0,"creation_date":1651425221,"post_id":72078669,"comment_id":127357392,"body_markdown":"@markspace Wiki specifies that `However, when doing selection, we already know which partition our desired element lies in, since the pivot is in its final sorted position, with all those preceding it in an unsorted order and all those following it in an unsorted order. Therefore, a single recursive call locates the desired element in the correct partition, and we build upon this for quickselect`. So it should work based on the quicksort approach","body":"@markspace Wiki specifies that <code>However, when doing selection, we already know which partition our desired element lies in, since the pivot is in its final sorted position, with all those preceding it in an unsorted order and all those following it in an unsorted order. Therefore, a single recursive call locates the desired element in the correct partition, and we build upon this for quickselect</code>. So it should work based on the quicksort approach"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1651426166,"post_id":72078669,"comment_id":127357607,"body_markdown":"No, if you&#39;re trying to do it like that, then you would need to convert the recursion into a loop.  In other words &quot;a single call&quot; is for a modified `partition` that does that loop for you.  I think it&#39;s obvious.","body":"No, if you&#39;re trying to do it like that, then you would need to convert the recursion into a loop.  In other words &quot;a single call&quot; is for a modified <code>partition</code> that does that loop for you.  I think it&#39;s obvious."},{"owner":{"account_id":8556756,"reputation":595,"user_id":6412004,"display_name":"Regyn"},"score":0,"creation_date":1651426393,"post_id":72078669,"comment_id":127357652,"body_markdown":"`I think it&#39;s obvious`. Delightful","body":"<code>I think it&#39;s obvious</code>. Delightful"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1651426453,"post_id":72078669,"comment_id":127357662,"body_markdown":"Well, it kinda is.  If you know how partition works, it&#39;s obvious that it can&#39;t return the kth element in just one call.  Try working a simple example on a piece of paper, I think it will help.","body":"Well, it kinda is.  If you know how partition works, it&#39;s obvious that it can&#39;t return the kth element in just one call.  Try working a simple example on a piece of paper, I think it will help."},{"owner":{"account_id":8556756,"reputation":595,"user_id":6412004,"display_name":"Regyn"},"score":0,"creation_date":1651426587,"post_id":72078669,"comment_id":127357686,"body_markdown":"It isn&#39;t doing one call. `private static int quicksort` is incomplete. In my sample implementation I tried `        if (p == k) {\n            return arr[k];\n        } else if (p &lt; k) {\n            return quicksort(arr, p+1, high, k);\n        } else {\n            return quicksort(arr, low, p-1, k);\n        }`, which as written didn&#39;t work due to the unsorted constraint. I&#39;ve now added the code in case the text wasn&#39;t clear on what I tried and removed. Maybe the missing part wasn&#39;t visible","body":"It isn&#39;t doing one call. <code>private static int quicksort</code> is incomplete. In my sample implementation I tried `        if (p == k) {             return arr[k];         } else if (p &lt; k) {             return quicksort(arr, p+1, high, k);         } else {             return quicksort(arr, low, p-1, k);         }`, which as written didn&#39;t work due to the unsorted constraint. I&#39;ve now added the code in case the text wasn&#39;t clear on what I tried and removed. Maybe the missing part wasn&#39;t visible"}],"owner":{"account_id":8556756,"reputation":595,"user_id":6412004,"display_name":"Regyn"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651426647,"creation_date":1651423544,"question_id":72078669,"body_markdown":"I&#39;ve the following implementation for quicksort, but trying to transfer it to quickselect fails.\r\n\r\n```\r\nclass Solution {\r\n    public static void main(String[] args) {\r\n        for (int i = 1; i &lt; 5; i++) {\r\n            int[] arr = new int[]{9,8,7,1,2,3,6,5,4};\r\n            System.out.println(quicksort(arr, i));\r\n        }\r\n    }\r\n\r\n    private static int quicksort(int[] arr, int k) {\r\n        return quicksort(arr, 0, arr.length - 1, k);\r\n    }\r\n\r\n    private static int quicksort(int[] arr, int low, int high, int k) {\r\n        int p = partition(arr, low, high);\r\n        /* Doesnt work:\r\n        if (p == k) {\r\n            return arr[k];\r\n        } else if (p &lt; k) {\r\n            return quicksort(arr, p+1, high, k);\r\n        } else {\r\n            return quicksort(arr, low, p-1, k);\r\n        }\r\n        */\r\n    }\r\n\r\n    private static int partition(int[] arr, int low, int high) {\r\n        int i = low;\r\n        int j = high;\r\n        int pivot = arr[low + (high - low) / 2];\r\n\r\n        while (true) {\r\n            while (arr[i] &lt; pivot) {\r\n                i++;\r\n            }\r\n            while (arr[j] &gt; pivot) {\r\n                j--;\r\n            }\r\n\r\n            if (i &lt; j) {\r\n                int tmp = arr[i];\r\n                arr[i] = arr[j];\r\n                arr[j] = tmp;\r\n                i++;\r\n                j--;\r\n            } else {\r\n                return j;\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nIt feels like the information that everything from 0..p is smaller or equal to arr[p] and vice-versa does not help at all.  \r\n\r\nExample:\r\n`9,8,7,1,2,3,6,5,4`, after partition: `2, 1, 7, 8, 9, 3, 6, 5, 4` with `p = 1` (choosen pivot was `2`). So I know the first and second lowest value is in `0..1` range. But it isn&#39;t sorted, so I cannot simply say `if (p == k-1) return arr[p]`, because it isn&#39;t guaranteed that `arr[p]` is the max of that half, just that everything in that half is less than the choosen pivot.\r\n\r\nAny idea how I can make it work?","title":"How to transform quicksort to quickselect?","body":"<p>I've the following implementation for quicksort, but trying to transfer it to quickselect fails.</p>\n<pre><code>class Solution {\n    public static void main(String[] args) {\n        for (int i = 1; i &lt; 5; i++) {\n            int[] arr = new int[]{9,8,7,1,2,3,6,5,4};\n            System.out.println(quicksort(arr, i));\n        }\n    }\n\n    private static int quicksort(int[] arr, int k) {\n        return quicksort(arr, 0, arr.length - 1, k);\n    }\n\n    private static int quicksort(int[] arr, int low, int high, int k) {\n        int p = partition(arr, low, high);\n        /* Doesnt work:\n        if (p == k) {\n            return arr[k];\n        } else if (p &lt; k) {\n            return quicksort(arr, p+1, high, k);\n        } else {\n            return quicksort(arr, low, p-1, k);\n        }\n        */\n    }\n\n    private static int partition(int[] arr, int low, int high) {\n        int i = low;\n        int j = high;\n        int pivot = arr[low + (high - low) / 2];\n\n        while (true) {\n            while (arr[i] &lt; pivot) {\n                i++;\n            }\n            while (arr[j] &gt; pivot) {\n                j--;\n            }\n\n            if (i &lt; j) {\n                int tmp = arr[i];\n                arr[i] = arr[j];\n                arr[j] = tmp;\n                i++;\n                j--;\n            } else {\n                return j;\n            }\n        }\n    }\n}\n</code></pre>\n<p>It feels like the information that everything from 0..p is smaller or equal to arr[p] and vice-versa does not help at all.</p>\n<p>Example:\n<code>9,8,7,1,2,3,6,5,4</code>, after partition: <code>2, 1, 7, 8, 9, 3, 6, 5, 4</code> with <code>p = 1</code> (choosen pivot was <code>2</code>). So I know the first and second lowest value is in <code>0..1</code> range. But it isn't sorted, so I cannot simply say <code>if (p == k-1) return arr[p]</code>, because it isn't guaranteed that <code>arr[p]</code> is the max of that half, just that everything in that half is less than the choosen pivot.</p>\n<p>Any idea how I can make it work?</p>\n"},{"tags":["java","selenium"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1651286329,"post_id":72065067,"comment_id":127334744,"body_markdown":"Please tell us what this `ExtentReports` class is, where you are getting it from and which version you are using.  The obvious explanation is that the constructor does not exist ... like the compiler error says.  That implies either your code is wrong ... or the constructor was added or removed in another version and you are using the wrong version.","body":"Please tell us what this <code>ExtentReports</code> class is, where you are getting it from and which version you are using.  The obvious explanation is that the constructor does not exist ... like the compiler error says.  That implies either your code is wrong ... or the constructor was added or removed in another version and you are using the wrong version."}],"answers":[{"tags":[],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651283167,"creation_date":1651283167,"answer_id":72065100,"question_id":72065067,"body_markdown":"I&#39;m not sure what API `ExtentReports` belongs to, but if is this one: \r\n\r\nhttps://www.extentreports.com/docs/javadoc/com/aventstack/extentreports/ExtentReports.html\r\n\r\nIt does not indeed include the constructor `ExtentReport(String,boolean)` you&#39;re using, it only has a [parameterless constructor][1]. \r\n\r\n\r\n  [1]: https://www.extentreports.com/docs/javadoc/com/aventstack/extentreports/ExtentReports.html#ExtentReports--","title":"&quot;The constructor ExtentReports(String, boolean) is undefined&quot;","body":"<p>I'm not sure what API <code>ExtentReports</code> belongs to, but if is this one:</p>\n<p><a href=\"https://www.extentreports.com/docs/javadoc/com/aventstack/extentreports/ExtentReports.html\" rel=\"nofollow noreferrer\">https://www.extentreports.com/docs/javadoc/com/aventstack/extentreports/ExtentReports.html</a></p>\n<p>It does not indeed include the constructor <code>ExtentReport(String,boolean)</code> you're using, it only has a <a href=\"https://www.extentreports.com/docs/javadoc/com/aventstack/extentreports/ExtentReports.html#ExtentReports--\" rel=\"nofollow noreferrer\">parameterless constructor</a>.</p>\n"},{"tags":[],"owner":{"account_id":17350862,"reputation":15,"user_id":12569370,"display_name":"MASUM RAZA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651426582,"creation_date":1651426582,"answer_id":72079028,"question_id":72065067,"body_markdown":"Update the Extent Report latest version.\r\nAnd please read the documentation care fully they explained very good way.\r\nGo through the documentation [https://www.extentreports.com/docs/javadoc/com/aventstack/extentreports/ExtentReports.html][1]\r\n\r\n\r\n  [1]: https://","title":"&quot;The constructor ExtentReports(String, boolean) is undefined&quot;","body":"<p>Update the Extent Report latest version.\nAnd please read the documentation care fully they explained very good way.\nGo through the documentation https://www.extentreports.com/docs/javadoc/com/aventstack/extentreports/ExtentReports.html</p>\n"}],"owner":{"account_id":19520952,"reputation":13,"user_id":14282854,"display_name":"Roshni Sinha"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":664,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1651426582,"creation_date":1651282628,"question_id":72065067,"body_markdown":"I am getting &quot;The constructor ExtentReports(String, boolean) is undefined&quot; message while creating object of extentreport class.\r\n\r\n\r\n    public  ExtentReports reports;\r\n\tpublic ExtentTest test;\r\n\r\n\t@BeforeTest\r\n\tpublic void setExtend() {\r\n\t\t\treports = new ExtentReports(System.getProperty(&quot;user.dir&quot;)+&quot;/test-output/reports.html&quot;,true);\t\r\n\t}","title":"&quot;The constructor ExtentReports(String, boolean) is undefined&quot;","body":"<p>I am getting &quot;The constructor ExtentReports(String, boolean) is undefined&quot; message while creating object of extentreport class.</p>\n<pre><code>public  ExtentReports reports;\npublic ExtentTest test;\n\n@BeforeTest\npublic void setExtend() {\n        reports = new ExtentReports(System.getProperty(&quot;user.dir&quot;)+&quot;/test-output/reports.html&quot;,true);   \n}\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8608,"page":1384,"page_size":100}
