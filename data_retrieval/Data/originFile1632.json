{"items":[{"tags":["java","rest","spring-mvc"],"comments":[{"owner":{"account_id":16917930,"reputation":1,"user_id":12235458,"display_name":"Andrei Zenoveiov"},"score":0,"creation_date":1643666539,"post_id":70933340,"comment_id":125397090,"body_markdown":"https://www.youtube.com/watch?v=th3uIP7D8nk","body":"<a href=\"https://www.youtube.com/watch?v=th3uIP7D8nk\" rel=\"nofollow noreferrer\">youtube.com/watch?v=th3uIP7D8nk</a>"},{"owner":{"account_id":16917930,"reputation":1,"user_id":12235458,"display_name":"Andrei Zenoveiov"},"score":0,"creation_date":1643666544,"post_id":70933340,"comment_id":125397092,"body_markdown":"https://www.youtube.com/watch?v=ssj0CGxv60k&amp;list=WL&amp;index=1&amp;t=981s","body":"<a href=\"https://www.youtube.com/watch?v=ssj0CGxv60k&amp;list=WL&amp;index=1&amp;t=981s\" rel=\"nofollow noreferrer\">youtube.com/&hellip;</a>"},{"owner":{"account_id":16917930,"reputation":1,"user_id":12235458,"display_name":"Andrei Zenoveiov"},"score":0,"creation_date":1643666556,"post_id":70933340,"comment_id":125397096,"body_markdown":"https://www.youtube.com/watch?v=HHKrKwI--Yw","body":"<a href=\"https://www.youtube.com/watch?v=HHKrKwI--Yw\" rel=\"nofollow noreferrer\">youtube.com/watch?v=HHKrKwI--Yw</a>"},{"owner":{"account_id":16917930,"reputation":1,"user_id":12235458,"display_name":"Andrei Zenoveiov"},"score":0,"creation_date":1643666690,"post_id":70933340,"comment_id":125397135,"body_markdown":"https://pastebin.pl/view/e93934e4","body":"<a href=\"https://pastebin.pl/view/e93934e4\" rel=\"nofollow noreferrer\">pastebin.pl/view/e93934e4</a>"},{"owner":{"account_id":16917930,"reputation":1,"user_id":12235458,"display_name":"Andrei Zenoveiov"},"score":0,"creation_date":1643666704,"post_id":70933340,"comment_id":125397139,"body_markdown":"pastebin link is for the stack trace","body":"pastebin link is for the stack trace"},{"owner":{"account_id":16917930,"reputation":1,"user_id":12235458,"display_name":"Andrei Zenoveiov"},"score":0,"creation_date":1643666772,"post_id":70933340,"comment_id":125397160,"body_markdown":"pom.xml\nhttps://pastebin.pl/view/b4eacb7d","body":"pom.xml <a href=\"https://pastebin.pl/view/b4eacb7d\" rel=\"nofollow noreferrer\">pastebin.pl/view/b4eacb7d</a>"}],"owner":{"account_id":16917930,"reputation":1,"user_id":12235458,"display_name":"Andrei Zenoveiov"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643671859,"creation_date":1643666482,"question_id":70933340,"body_markdown":"| Spring API with MongoDB| MQTT and HTPPS|\r\n| ---------------------- | ------------- |\r\n\r\n\r\nHello, I am currently building a **REST API** and I need to implement HTPPS and MQTT protocols using Spring Boot and Java. For my back-end **I use MongoDB locally**, which I set up using Docker CLI. The Spring application is connected with the *application.properties* configuration file ***provided below*** in pictures. It&#39;s my first time building such a complex API and I&#39;m using these resources (which may be the cause of my problem, not resources itself, but me taking some time getting the hang of things, i put them in comments):\r\n\r\n\r\nI am asking for some help or guidance to how can I get rid of the start-up error of the API -*stack track provided below*-\r\n[ambulance Class][1],[ambulanceControllerClass][2],[ambulanceRepository][3],[ambulanceServiceImpl][4],[ambulanceService][5],[mqttBeans-p1][6],[mqttBeans-p2][7],[mqttController][8]\r\n\r\n\r\n***stack trace***\r\nin comments\r\nI couldn&#39;t post the pom.xml file, but i don&#39;t use anything more than the guys in the tutorials use.\r\n\r\nHope I gave enough info. Have a nice day!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hvjVd.png\r\n  [2]: https://i.stack.imgur.com/sdMPt.png\r\n  [3]: https://i.stack.imgur.com/gq7Bk.png\r\n  [4]: https://i.stack.imgur.com/JeQqY.png\r\n  [5]: https://i.stack.imgur.com/9rRby.png\r\n  [6]: https://i.stack.imgur.com/LWs7u.png\r\n  [7]: https://i.stack.imgur.com/Heloq.png\r\n  [8]: https://i.stack.imgur.com/GGCRC.png\r\n","title":"Java Spring Boot API failing to initialize","body":"<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Spring API with MongoDB</th>\n<th>MQTT and HTPPS</th>\n</tr>\n</thead>\n</table>\n</div>\n<p>Hello, I am currently building a <strong>REST API</strong> and I need to implement HTPPS and MQTT protocols using Spring Boot and Java. For my back-end <strong>I use MongoDB locally</strong>, which I set up using Docker CLI. The Spring application is connected with the <em>application.properties</em> configuration file <em><strong>provided below</strong></em> in pictures. It's my first time building such a complex API and I'm using these resources (which may be the cause of my problem, not resources itself, but me taking some time getting the hang of things, i put them in comments):</p>\n<p>I am asking for some help or guidance to how can I get rid of the start-up error of the API -<em>stack track provided below</em>-\n<a href=\"https://i.stack.imgur.com/hvjVd.png\" rel=\"nofollow noreferrer\">ambulance Class</a>,<a href=\"https://i.stack.imgur.com/sdMPt.png\" rel=\"nofollow noreferrer\">ambulanceControllerClass</a>,<a href=\"https://i.stack.imgur.com/gq7Bk.png\" rel=\"nofollow noreferrer\">ambulanceRepository</a>,<a href=\"https://i.stack.imgur.com/JeQqY.png\" rel=\"nofollow noreferrer\">ambulanceServiceImpl</a>,<a href=\"https://i.stack.imgur.com/9rRby.png\" rel=\"nofollow noreferrer\">ambulanceService</a>,<a href=\"https://i.stack.imgur.com/LWs7u.png\" rel=\"nofollow noreferrer\">mqttBeans-p1</a>,<a href=\"https://i.stack.imgur.com/Heloq.png\" rel=\"nofollow noreferrer\">mqttBeans-p2</a>,<a href=\"https://i.stack.imgur.com/GGCRC.png\" rel=\"nofollow noreferrer\">mqttController</a></p>\n<p><em><strong>stack trace</strong></em>\nin comments\nI couldn't post the pom.xml file, but i don't use anything more than the guys in the tutorials use.</p>\n<p>Hope I gave enough info. Have a nice day!</p>\n"},{"tags":["java","spring","spring-boot","hibernate"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1643699586,"post_id":70931120,"comment_id":125402740,"body_markdown":"For starters your dependencies are a bit of a mess. YOu are mixing Spring 5.0, 5.3 and whatever the spring boot version you are using is pulling in. As you are using 5.0 that is only working up to java 8, you are using a newer java version. I would strongly suggest to either follow the book (which you aren&#39;t) or to use Spring Boot properly (to manage your dependencies).","body":"For starters your dependencies are a bit of a mess. YOu are mixing Spring 5.0, 5.3 and whatever the spring boot version you are using is pulling in. As you are using 5.0 that is only working up to java 8, you are using a newer java version. I would strongly suggest to either follow the book (which you aren&#39;t) or to use Spring Boot properly (to manage your dependencies)."},{"owner":{"account_id":24104962,"reputation":1,"user_id":18076298,"display_name":"panfleto"},"score":0,"creation_date":1643724952,"post_id":70931120,"comment_id":125411920,"body_markdown":"That was the problem, thanks! Yeah, my whole project is a completely mess, I should try to organize everything.","body":"That was the problem, thanks! Yeah, my whole project is a completely mess, I should try to organize everything."}],"owner":{"account_id":24104962,"reputation":1,"user_id":18076298,"display_name":"panfleto"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":557,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643671540,"creation_date":1643654182,"question_id":70931120,"body_markdown":"I&#39;m currently learning Spring and I&#39;m trying to run a hibernate example that I&#39;ve taken out of a book called &quot;Pro Spring 5&quot; (p 380), but I&#39;m getting an IllegalStateException caused by an InaccessibleObjectException when initializing the GenericApplicationContext with AnnotationConfigApplicationContext.\r\n\r\nHere is the configuration class:\r\n\r\n    package com.panfleto.prueba.probando.hibernate.config;\r\n    \r\n    import java.io.IOException;\r\n    import java.util.Properties;\r\n    import javax.sql.DataSource;\r\n    import org.hibernate.SessionFactory;\r\n    import org.springframework.boot.jdbc.DataSourceBuilder;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.ComponentScan;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.orm.hibernate5.HibernateTransactionManager;\r\n    import org.springframework.orm.hibernate5.LocalSessionFactoryBean;\r\n    import org.springframework.transaction.PlatformTransactionManager;\r\n    import org.springframework.transaction.annotation.EnableTransactionManagement;\r\n    \r\n    @Configuration\r\n    @ComponentScan (basePackages = {&quot;com.panfleto.prueba.probando.hibernate&quot;})\r\n    @EnableTransactionManagement\r\n    public class AppConfig {\r\n    \t \r\n    \t @Bean\r\n    \t public DataSource dataSource() {\r\n    \t        DataSourceBuilder dataSourceBuilder = DataSourceBuilder.create();\r\n    \t        dataSourceBuilder.driverClassName(&quot;**************&quot;);\r\n    \t        dataSourceBuilder.url(&quot;**************&quot;);\r\n    \t        dataSourceBuilder.username(&quot;**************&quot;);\r\n    \t        dataSourceBuilder.password(&quot;**************&quot;);\r\n    \t        return dataSourceBuilder.build();\r\n    \t }\r\n    \t \r\n    \t private Properties hibernateProperties() {\r\n    \t\t Properties hibernateProp = new Properties();\r\n    \t\t hibernateProp.put(&quot;hibernate.dialect&quot;, &quot;org.hibernate.dialect.H2Dialect&quot;);\r\n    \t\t hibernateProp.put(&quot;hibernate.format_sql&quot;, true);\r\n    \t\t hibernateProp.put(&quot;hibernate.use_sql_comments&quot;, true);\r\n    \t\t hibernateProp.put(&quot;hibernate.show_sql&quot;, true);\r\n    \t\t hibernateProp.put(&quot;hibernate.max_fetch_depth&quot;, 3);\r\n    \t\t hibernateProp.put(&quot;hibernate.jdbc.batch_size&quot;, 10);\r\n    \t\t hibernateProp.put(&quot;hibernate.jdbc.fetch_size&quot;, 50);\r\n    \t\t return hibernateProp;\r\n    \t }\r\n    \r\n    \t @Bean\r\n    \t public SessionFactory sessionFactory() throws IOException {\r\n    \t\t LocalSessionFactoryBean sessionFactoryBean = new LocalSessionFactoryBean();\r\n    \t\t sessionFactoryBean.setDataSource(dataSource());\r\n    \t\t sessionFactoryBean.setPackagesToScan(&quot;com.panfleto.prueba.probando.hibernate.modelado&quot;);\r\n    \t\t sessionFactoryBean.setHibernateProperties(hibernateProperties());\r\n    \t\t sessionFactoryBean.afterPropertiesSet();\r\n    \t\t return sessionFactoryBean.getObject();\r\n    \t }\r\n    \r\n    \t @Bean\r\n    \t public PlatformTransactionManager transactionManager() throws IOException {\r\n    \t\t return new HibernateTransactionManager(sessionFactory());\r\n    \t }\r\n    }\r\n\r\nThe main class:\r\n\r\n    package com.panfleto.prueba.probando.hibernate;\r\n    \r\n    import java.util.List;\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.context.annotation.AnnotationConfigApplicationContext;\r\n    import org.springframework.context.support.GenericApplicationContext;\r\n    import com.panfleto.prueba.probando.hibernate.config.AppConfig;\r\n    import com.panfleto.prueba.probando.hibernate.dao.CantanteDAO;\r\n    import com.panfleto.prueba.probando.hibernate.modelado.Cantante;\r\n    \r\n    public class App \r\n    {\r\n    \t private static Logger logger = LoggerFactory.getLogger(App.class);\r\n    \t \r\n    \t public static void main(String... args) {\r\n    \t\t try\r\n    \t\t {\r\n    \t\t\t GenericApplicationContext ctx =\r\n    \t\t\t\t\t new AnnotationConfigApplicationContext(AppConfig.class);\r\n    \t\t\t CantanteDAO cantanteDao = ctx.getBean(CantanteDAO.class);\t\t\t \t\t\t \r\n    \t\t\t listSingers(cantanteDao.findAll());\r\n    \t\t\t ctx.close();\t \r\n    \t\t } catch(IllegalStateException e) {\r\n    \t\t\t e.printStackTrace();\r\n    \t\t }\r\n    \t }\r\n    \t \r\n    \t private static void listSingers(List&lt;Cantante&gt; cantantes) {\r\n    \t\t logger.info(&quot; ---- Listing singers:&quot;);\r\n    \t\t for (Cantante cantante: cantantes) {\r\n    \t\t\t logger.info(cantante.toString());\r\n    \t\t }\r\n    \t }\r\n    \r\n    }\r\n\r\n\r\nThe pom file:\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n        \r\n        &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n          xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n          &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        \r\n          &lt;groupId&gt;com.panfleto.prueba&lt;/groupId&gt;\r\n          &lt;artifactId&gt;probando.hibernate&lt;/artifactId&gt;\r\n          &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        \r\n          &lt;name&gt;probando.hibernate&lt;/name&gt;\r\n          &lt;!-- FIXME change it to the project&#39;s website --&gt;\r\n          &lt;url&gt;http://www.example.com&lt;/url&gt;\r\n        \r\n          &lt;properties&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\r\n          &lt;/properties&gt;\r\n        \r\n          &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n              &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n              &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n              &lt;version&gt;5.4.1.Final&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            \r\n            &lt;dependency&gt;\r\n              &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n              &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n              &lt;version&gt;5.4.1.Final&lt;/version&gt;\r\n            &lt;/dependency&gt;  \r\n            \r\n            &lt;dependency&gt;\r\n              &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n              &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n              &lt;version&gt;8.0.15&lt;/version&gt;\r\n              &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            \r\n            &lt;dependency&gt;\r\n            &lt;groupId&gt;log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2.17&lt;/version&gt;\r\n        \t&lt;/dependency&gt;\r\n            \r\n           \t&lt;dependency&gt;\r\n        \t    &lt;groupId&gt;javax.annotation&lt;/groupId&gt;\r\n        \t    &lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\r\n        \t    &lt;version&gt;1.3.2&lt;/version&gt;\r\n        \t&lt;/dependency&gt;\r\n            \r\n            &lt;dependency&gt;\r\n              &lt;groupId&gt;junit&lt;/groupId&gt;\r\n              &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n              &lt;version&gt;4.11&lt;/version&gt;\r\n              &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            \r\n            &lt;dependency&gt;\r\n        \t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n        \t\t&lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n        \t\t&lt;version&gt;5.0.6.RELEASE&lt;/version&gt;\r\n        \t&lt;/dependency&gt;\r\n            \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\r\n            &lt;version&gt;5.3.15&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n            \r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n        &lt;version&gt;2.6.3&lt;/version&gt;\r\n    &lt;/dependency&gt;    \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\r\n            &lt;version&gt;5.3.15&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        \t&lt;dependency&gt;\r\n              &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n              &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n              &lt;version&gt;2.6.3&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        \r\n          &lt;/dependencies&gt;\r\n        \r\n          &lt;build&gt;\r\n            &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\r\n              &lt;plugins&gt;\r\n                &lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\r\n                &lt;plugin&gt;\r\n                  &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\r\n                  &lt;version&gt;3.1.0&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;!-- default lifecycle, jar packaging: see https://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging --&gt;\r\n                &lt;plugin&gt;\r\n                  &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n                  &lt;version&gt;3.0.2&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                  &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                  &lt;version&gt;3.8.0&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                  &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                  &lt;version&gt;2.22.1&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                  &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                  &lt;version&gt;3.0.2&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                  &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n                  &lt;version&gt;2.5.2&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                  &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n                  &lt;version&gt;2.8.2&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;!-- site lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#site_Lifecycle --&gt;\r\n                &lt;plugin&gt;\r\n                  &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\r\n                  &lt;version&gt;3.7.1&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                  &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\r\n                  &lt;version&gt;3.0.0&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n              &lt;/plugins&gt;\r\n            &lt;/pluginManagement&gt;\r\n          &lt;/build&gt;\r\n        &lt;/project&gt;\r\n\r\nAnd the stacktrace:\r\n\r\n    java.lang.IllegalStateException: Cannot load configuration class: com.panfleto.prueba.probando.hibernate.config.AppConfig\r\n    \tat org.springframework.context.annotation.ConfigurationClassPostProcessor.enhanceConfigurationClasses(ConfigurationClassPostProcessor.java:414)\r\n    \tat org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanFactory(ConfigurationClassPostProcessor.java:254)\r\n    \tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:284)\r\n    \tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:128)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:694)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:532)\r\n    \tat org.springframework.context.annotation.AnnotationConfigApplicationContext.&lt;init&gt;(AnnotationConfigApplicationContext.java:88)\r\n    \tat com.panfleto.prueba.probando.hibernate.App.main(App.java:20)\r\n    Caused by: java.lang.ExceptionInInitializerError\r\n    \tat org.springframework.context.annotation.ConfigurationClassEnhancer.newEnhancer(ConfigurationClassEnhancer.java:122)\r\n    \tat org.springframework.context.annotation.ConfigurationClassEnhancer.enhance(ConfigurationClassEnhancer.java:110)\r\n    \tat org.springframework.context.annotation.ConfigurationClassPostProcessor.enhanceConfigurationClasses(ConfigurationClassPostProcessor.java:403)\r\n    \t... 7 more\r\n    Caused by: org.springframework.cglib.core.CodeGenerationException: java.lang.reflect.InaccessibleObjectException--&gt;Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @7a3d45bd\r\n    \tat org.springframework.cglib.core.ReflectUtils.defineClass(ReflectUtils.java:464)\r\n    \tat org.springframework.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:336)\r\n    \tat org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:93)\r\n    \tat org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:91)\r\n    \tat org.springframework.cglib.core.internal.LoadingCache$2.call(LoadingCache.java:54)\r\n    \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n    \tat org.springframework.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:61)\r\n    \tat org.springframework.cglib.core.internal.LoadingCache.get(LoadingCache.java:34)\r\n    \tat org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData.get(AbstractClassGenerator.java:116)\r\n    \tat org.springframework.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:291)\r\n    \tat org.springframework.cglib.core.KeyFactory$Generator.create(KeyFactory.java:221)\r\n    \tat org.springframework.cglib.core.KeyFactory.create(KeyFactory.java:174)\r\n    \tat org.springframework.cglib.core.KeyFactory.create(KeyFactory.java:153)\r\n    \tat org.springframework.cglib.proxy.Enhancer.&lt;clinit&gt;(Enhancer.java:73)\r\n    \t... 10 more\r\n    Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @7a3d45bd\r\n    \tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\r\n    \tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\r\n    \tat java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:199)\r\n    \tat java.base/java.lang.reflect.Method.setAccessible(Method.java:193)\r\n    \tat org.springframework.cglib.core.ReflectUtils$1.run(ReflectUtils.java:61)\r\n    \tat java.base/java.security.AccessController.doPrivileged(AccessController.java:569)\r\n    \tat org.springframework.cglib.core.ReflectUtils.&lt;clinit&gt;(ReflectUtils.java:52)\r\n    \tat org.springframework.cglib.core.KeyFactory$Generator.generateClass(KeyFactory.java:243)\r\n    \tat org.springframework.cglib.core.DefaultGeneratorStrategy.generate(DefaultGeneratorStrategy.java:25)\r\n    \tat org.springframework.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:329)\r\n    \t... 22 more\r\n\r\n\r\n","title":"InaccessibleObjectException when configuring the AnnotationConfigApplicationContext","body":"<p>I'm currently learning Spring and I'm trying to run a hibernate example that I've taken out of a book called &quot;Pro Spring 5&quot; (p 380), but I'm getting an IllegalStateException caused by an InaccessibleObjectException when initializing the GenericApplicationContext with AnnotationConfigApplicationContext.</p>\n<p>Here is the configuration class:</p>\n<pre><code>package com.panfleto.prueba.probando.hibernate.config;\n\nimport java.io.IOException;\nimport java.util.Properties;\nimport javax.sql.DataSource;\nimport org.hibernate.SessionFactory;\nimport org.springframework.boot.jdbc.DataSourceBuilder;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.orm.hibernate5.HibernateTransactionManager;\nimport org.springframework.orm.hibernate5.LocalSessionFactoryBean;\nimport org.springframework.transaction.PlatformTransactionManager;\nimport org.springframework.transaction.annotation.EnableTransactionManagement;\n\n@Configuration\n@ComponentScan (basePackages = {&quot;com.panfleto.prueba.probando.hibernate&quot;})\n@EnableTransactionManagement\npublic class AppConfig {\n     \n     @Bean\n     public DataSource dataSource() {\n            DataSourceBuilder dataSourceBuilder = DataSourceBuilder.create();\n            dataSourceBuilder.driverClassName(&quot;**************&quot;);\n            dataSourceBuilder.url(&quot;**************&quot;);\n            dataSourceBuilder.username(&quot;**************&quot;);\n            dataSourceBuilder.password(&quot;**************&quot;);\n            return dataSourceBuilder.build();\n     }\n     \n     private Properties hibernateProperties() {\n         Properties hibernateProp = new Properties();\n         hibernateProp.put(&quot;hibernate.dialect&quot;, &quot;org.hibernate.dialect.H2Dialect&quot;);\n         hibernateProp.put(&quot;hibernate.format_sql&quot;, true);\n         hibernateProp.put(&quot;hibernate.use_sql_comments&quot;, true);\n         hibernateProp.put(&quot;hibernate.show_sql&quot;, true);\n         hibernateProp.put(&quot;hibernate.max_fetch_depth&quot;, 3);\n         hibernateProp.put(&quot;hibernate.jdbc.batch_size&quot;, 10);\n         hibernateProp.put(&quot;hibernate.jdbc.fetch_size&quot;, 50);\n         return hibernateProp;\n     }\n\n     @Bean\n     public SessionFactory sessionFactory() throws IOException {\n         LocalSessionFactoryBean sessionFactoryBean = new LocalSessionFactoryBean();\n         sessionFactoryBean.setDataSource(dataSource());\n         sessionFactoryBean.setPackagesToScan(&quot;com.panfleto.prueba.probando.hibernate.modelado&quot;);\n         sessionFactoryBean.setHibernateProperties(hibernateProperties());\n         sessionFactoryBean.afterPropertiesSet();\n         return sessionFactoryBean.getObject();\n     }\n\n     @Bean\n     public PlatformTransactionManager transactionManager() throws IOException {\n         return new HibernateTransactionManager(sessionFactory());\n     }\n}\n</code></pre>\n<p>The main class:</p>\n<pre><code>package com.panfleto.prueba.probando.hibernate;\n\nimport java.util.List;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.context.annotation.AnnotationConfigApplicationContext;\nimport org.springframework.context.support.GenericApplicationContext;\nimport com.panfleto.prueba.probando.hibernate.config.AppConfig;\nimport com.panfleto.prueba.probando.hibernate.dao.CantanteDAO;\nimport com.panfleto.prueba.probando.hibernate.modelado.Cantante;\n\npublic class App \n{\n     private static Logger logger = LoggerFactory.getLogger(App.class);\n     \n     public static void main(String... args) {\n         try\n         {\n             GenericApplicationContext ctx =\n                     new AnnotationConfigApplicationContext(AppConfig.class);\n             CantanteDAO cantanteDao = ctx.getBean(CantanteDAO.class);                       \n             listSingers(cantanteDao.findAll());\n             ctx.close();    \n         } catch(IllegalStateException e) {\n             e.printStackTrace();\n         }\n     }\n     \n     private static void listSingers(List&lt;Cantante&gt; cantantes) {\n         logger.info(&quot; ---- Listing singers:&quot;);\n         for (Cantante cantante: cantantes) {\n             logger.info(cantante.toString());\n         }\n     }\n\n}\n</code></pre>\n<p>The pom file:</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n    \n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n      xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    \n      &lt;groupId&gt;com.panfleto.prueba&lt;/groupId&gt;\n      &lt;artifactId&gt;probando.hibernate&lt;/artifactId&gt;\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    \n      &lt;name&gt;probando.hibernate&lt;/name&gt;\n      &lt;!-- FIXME change it to the project's website --&gt;\n      &lt;url&gt;http://www.example.com&lt;/url&gt;\n    \n      &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\n      &lt;/properties&gt;\n    \n      &lt;dependencies&gt;\n        &lt;dependency&gt;\n          &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n          &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n          &lt;version&gt;5.4.1.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n          &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n          &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n          &lt;version&gt;5.4.1.Final&lt;/version&gt;\n        &lt;/dependency&gt;  \n        \n        &lt;dependency&gt;\n          &lt;groupId&gt;mysql&lt;/groupId&gt;\n          &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n          &lt;version&gt;8.0.15&lt;/version&gt;\n          &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n        &lt;groupId&gt;log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n        &lt;version&gt;1.2.17&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.annotation&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\n            &lt;version&gt;1.3.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n          &lt;groupId&gt;junit&lt;/groupId&gt;\n          &lt;artifactId&gt;junit&lt;/artifactId&gt;\n          &lt;version&gt;4.11&lt;/version&gt;\n          &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n            &lt;version&gt;5.0.6.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\n        &lt;version&gt;5.3.15&lt;/version&gt;\n    &lt;/dependency&gt;\n        \n  &lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n    &lt;version&gt;2.6.3&lt;/version&gt;\n&lt;/dependency&gt;    \n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\n        &lt;version&gt;5.3.15&lt;/version&gt;\n    &lt;/dependency&gt;\n    \n        &lt;dependency&gt;\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n          &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n          &lt;version&gt;2.6.3&lt;/version&gt;\n        &lt;/dependency&gt;\n    \n      &lt;/dependencies&gt;\n    \n      &lt;build&gt;\n        &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\n          &lt;plugins&gt;\n            &lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\n            &lt;plugin&gt;\n              &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n              &lt;version&gt;3.1.0&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;!-- default lifecycle, jar packaging: see https://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging --&gt;\n            &lt;plugin&gt;\n              &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n              &lt;version&gt;3.0.2&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n              &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n              &lt;version&gt;3.8.0&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n              &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n              &lt;version&gt;2.22.1&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n              &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n              &lt;version&gt;3.0.2&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n              &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n              &lt;version&gt;2.5.2&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n              &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n              &lt;version&gt;2.8.2&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;!-- site lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#site_Lifecycle --&gt;\n            &lt;plugin&gt;\n              &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\n              &lt;version&gt;3.7.1&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n              &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\n              &lt;version&gt;3.0.0&lt;/version&gt;\n            &lt;/plugin&gt;\n          &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n      &lt;/build&gt;\n    &lt;/project&gt;\n</code></pre>\n<p>And the stacktrace:</p>\n<pre><code>java.lang.IllegalStateException: Cannot load configuration class: com.panfleto.prueba.probando.hibernate.config.AppConfig\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.enhanceConfigurationClasses(ConfigurationClassPostProcessor.java:414)\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanFactory(ConfigurationClassPostProcessor.java:254)\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:284)\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:128)\n    at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:694)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:532)\n    at org.springframework.context.annotation.AnnotationConfigApplicationContext.&lt;init&gt;(AnnotationConfigApplicationContext.java:88)\n    at com.panfleto.prueba.probando.hibernate.App.main(App.java:20)\nCaused by: java.lang.ExceptionInInitializerError\n    at org.springframework.context.annotation.ConfigurationClassEnhancer.newEnhancer(ConfigurationClassEnhancer.java:122)\n    at org.springframework.context.annotation.ConfigurationClassEnhancer.enhance(ConfigurationClassEnhancer.java:110)\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.enhanceConfigurationClasses(ConfigurationClassPostProcessor.java:403)\n    ... 7 more\nCaused by: org.springframework.cglib.core.CodeGenerationException: java.lang.reflect.InaccessibleObjectException--&gt;Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @7a3d45bd\n    at org.springframework.cglib.core.ReflectUtils.defineClass(ReflectUtils.java:464)\n    at org.springframework.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:336)\n    at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:93)\n    at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:91)\n    at org.springframework.cglib.core.internal.LoadingCache$2.call(LoadingCache.java:54)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at org.springframework.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:61)\n    at org.springframework.cglib.core.internal.LoadingCache.get(LoadingCache.java:34)\n    at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData.get(AbstractClassGenerator.java:116)\n    at org.springframework.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:291)\n    at org.springframework.cglib.core.KeyFactory$Generator.create(KeyFactory.java:221)\n    at org.springframework.cglib.core.KeyFactory.create(KeyFactory.java:174)\n    at org.springframework.cglib.core.KeyFactory.create(KeyFactory.java:153)\n    at org.springframework.cglib.proxy.Enhancer.&lt;clinit&gt;(Enhancer.java:73)\n    ... 10 more\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @7a3d45bd\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\n    at java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:199)\n    at java.base/java.lang.reflect.Method.setAccessible(Method.java:193)\n    at org.springframework.cglib.core.ReflectUtils$1.run(ReflectUtils.java:61)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:569)\n    at org.springframework.cglib.core.ReflectUtils.&lt;clinit&gt;(ReflectUtils.java:52)\n    at org.springframework.cglib.core.KeyFactory$Generator.generateClass(KeyFactory.java:243)\n    at org.springframework.cglib.core.DefaultGeneratorStrategy.generate(DefaultGeneratorStrategy.java:25)\n    at org.springframework.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:329)\n    ... 22 more\n</code></pre>\n"},{"tags":["java","arrays","file"],"comments":[{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":1,"creation_date":1618259141,"post_id":67064679,"comment_id":118543772,"body_markdown":"Where does the `20` come from in the example you want to extract?","body":"Where does the <code>20</code> come from in the example you want to extract?"}],"answers":[{"tags":[],"owner":{"account_id":11410530,"reputation":573,"user_id":8364806,"display_name":"Don R"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1618258252,"creation_date":1618258252,"answer_id":67065071,"question_id":67064679,"body_markdown":"This loop:\r\n```\r\nfor(int j=0;j&lt;4;j++)\r\n```\r\nruns again with a value of j = 1 after it completes the first iteration, so when it gets to the expression `aaa[i][j+3]` the second index evaluates to **4**, which of course is illegal. I&#39;m not sure why you used a **for** loop there, since you manually increment the index values as you assign the **aaa** values?","title":"Trying to copy data from a file to an array but it gives me error","body":"<p>This loop:</p>\n<pre><code>for(int j=0;j&lt;4;j++)\n</code></pre>\n<p>runs again with a value of j = 1 after it completes the first iteration, so when it gets to the expression <code>aaa[i][j+3]</code> the second index evaluates to <strong>4</strong>, which of course is illegal. I'm not sure why you used a <strong>for</strong> loop there, since you manually increment the index values as you assign the <strong>aaa</strong> values?</p>\n"},{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1618260269,"creation_date":1618260269,"answer_id":67065446,"question_id":67064679,"body_markdown":"If only 4 values are needed from the input array are needed, why not just read _these specific values_?\r\n```java\r\nString[] result = new String[4];\r\n\r\ntry (Scanner input = new Scanner(new File(&quot;Turmas.txt&quot;)) // input closed automatically\r\n    .useDelimiter(&quot;;|\\\\R&quot;)  // use character class \\R to match line-feed characters \r\n) {\r\n    if (input.hasNext()) {\r\n        input.next(); // skip the 1st token\r\n\r\n        for (int i = 0; i &lt; result.length &amp;&amp; input.hasNext(); i++) {\r\n            result[i] = input.next();\r\n        }\r\n    }\r\n} catch (FileNotFoundException ex) {\r\n    JOptionPane.showMessageDialog(\r\n        null, &quot;An error occurred, try restarting the program!&quot;, \r\n        &quot;ERROR!&quot;, JOptionPane.ERROR_MESSAGE\r\n    );\r\n}\r\n```\r\n----\r\nIf it is needed to read the _columns_ with indexes `[1..4]` from the file containing 6 columns per line, it is cleaner to read the source file line by line, split each line by `;`, skip 1 column with index 0, and keep the 4 columns.\r\n```java\r\nString[][] result = new String[100][4];\r\n\r\ntry (Scanner input = new Scanner(new File(&quot;Turmas.txt&quot;))) {\r\n    for (int i = 0; i &lt; result.length &amp;&amp; input.hasNextLine(); i++) {\r\n        String[] parts = input.nextLine().split(&quot;;&quot;);\r\n        for (int j = 1; j &lt; Math.min(result[i].length, parts.length); j++) {\r\n            result[i][j - 1] = parts[j];\r\n        }\r\n    }    \r\n} catch (FileNotFoundException ex) {\r\n    JOptionPane.showMessageDialog(\r\n        null, &quot;An error occurred, try restarting the program!&quot;, \r\n        &quot;ERROR!&quot;, JOptionPane.ERROR_MESSAGE\r\n    );\r\n}\r\n```\r\n","title":"Trying to copy data from a file to an array but it gives me error","body":"<p>If only 4 values are needed from the input array are needed, why not just read <em>these specific values</em>?</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[] result = new String[4];\n\ntry (Scanner input = new Scanner(new File(&quot;Turmas.txt&quot;)) // input closed automatically\n    .useDelimiter(&quot;;|\\\\R&quot;)  // use character class \\R to match line-feed characters \n) {\n    if (input.hasNext()) {\n        input.next(); // skip the 1st token\n\n        for (int i = 0; i &lt; result.length &amp;&amp; input.hasNext(); i++) {\n            result[i] = input.next();\n        }\n    }\n} catch (FileNotFoundException ex) {\n    JOptionPane.showMessageDialog(\n        null, &quot;An error occurred, try restarting the program!&quot;, \n        &quot;ERROR!&quot;, JOptionPane.ERROR_MESSAGE\n    );\n}\n</code></pre>\n<hr />\n<p>If it is needed to read the <em>columns</em> with indexes <code>[1..4]</code> from the file containing 6 columns per line, it is cleaner to read the source file line by line, split each line by <code>;</code>, skip 1 column with index 0, and keep the 4 columns.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[][] result = new String[100][4];\n\ntry (Scanner input = new Scanner(new File(&quot;Turmas.txt&quot;))) {\n    for (int i = 0; i &lt; result.length &amp;&amp; input.hasNextLine(); i++) {\n        String[] parts = input.nextLine().split(&quot;;&quot;);\n        for (int j = 1; j &lt; Math.min(result[i].length, parts.length); j++) {\n            result[i][j - 1] = parts[j];\n        }\n    }    \n} catch (FileNotFoundException ex) {\n    JOptionPane.showMessageDialog(\n        null, &quot;An error occurred, try restarting the program!&quot;, \n        &quot;ERROR!&quot;, JOptionPane.ERROR_MESSAGE\n    );\n}\n</code></pre>\n"}],"owner":{"account_id":21229498,"reputation":27,"user_id":15614501,"display_name":"Pedro Tavares"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":67065446,"answer_count":2,"score":0,"last_activity_date":1643670944,"creation_date":1618256371,"question_id":67064679,"body_markdown":"Hi I am new on programing and I am having a problem I am trying to copy some things from a file to a array \r\nand I just want to copy in the position 1,2,3 and 4 from the file. Example copy to the array `11 , G , 0 , 20`.\r\n\r\n&gt;FILE TEXT:&lt;br&gt;\r\n0;11;G;0;200;1&lt;br&gt;\r\n2;10;F;0;300;2&lt;br&gt;\r\n0;12;J;0;100;3\r\n\r\n```java\r\nString[][] aa = new String[100][6];\r\ntry {\r\n    Scanner x = new Scanner(new File(&quot;Turmas.txt&quot;));\r\n    x.useDelimiter(&quot;[;\\n]&quot;);\r\n\r\n    for (int i = 0; i &lt; 100; i++) {\r\n        for (int j = 0; j &lt; 6; j++) {\r\n            if (x.hasNext()) {\r\n                aa[i][j] = x.next();\r\n            }\r\n        }\r\n    }\r\n    x.close();\r\n} catch (FileNotFoundException ex) {\r\n    JOptionPane.showMessageDialog(\r\n        null, &quot;An error occurred, try restarting the program!&quot;, \r\n        &quot;ERROR!&quot;, JOptionPane.ERROR_MESSAGE\r\n    );\r\n}\r\n\r\nString[][] aaa = new String[100][4];\r\nfor (int i = 0; i &lt; 100; i++) {\r\n    for (int j = 0; j &lt; 4; j++) {\r\n        if (aa[i][j] == null) {\r\n            System.out.println(&quot;null &quot;  + i + &quot;  &quot; + j);\r\n        }\r\n        else {\r\n            if (aa[i][0].equals(String.valueOf(SAVEID))) {\r\n                aaa[i][j]     = aa[i][1];\r\n                aaa[i][j + 1] = aa[i][2];\r\n                aaa[i][j + 2] = aa[i][3];\r\n                aaa[i][j + 3] = aa[i][4];\r\n            }\r\n        }\r\n    }\r\n}\r\nSystem.out.println(aaa[0][0]);\r\nSystem.out.println(aaa[0][1]);\r\nSystem.out.println(aaa[0][2]);\r\nSystem.out.println(aaa[0][3]);\r\n```\r\n","title":"Trying to copy data from a file to an array but it gives me error","body":"<p>Hi I am new on programing and I am having a problem I am trying to copy some things from a file to a array\nand I just want to copy in the position 1,2,3 and 4 from the file. Example copy to the array <code>11 , G , 0 , 20</code>.</p>\n<blockquote>\n<p>FILE TEXT:<br>\n0;11;G;0;200;1<br>\n2;10;F;0;300;2<br>\n0;12;J;0;100;3</p>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>String[][] aa = new String[100][6];\ntry {\n    Scanner x = new Scanner(new File(&quot;Turmas.txt&quot;));\n    x.useDelimiter(&quot;[;\\n]&quot;);\n\n    for (int i = 0; i &lt; 100; i++) {\n        for (int j = 0; j &lt; 6; j++) {\n            if (x.hasNext()) {\n                aa[i][j] = x.next();\n            }\n        }\n    }\n    x.close();\n} catch (FileNotFoundException ex) {\n    JOptionPane.showMessageDialog(\n        null, &quot;An error occurred, try restarting the program!&quot;, \n        &quot;ERROR!&quot;, JOptionPane.ERROR_MESSAGE\n    );\n}\n\nString[][] aaa = new String[100][4];\nfor (int i = 0; i &lt; 100; i++) {\n    for (int j = 0; j &lt; 4; j++) {\n        if (aa[i][j] == null) {\n            System.out.println(&quot;null &quot;  + i + &quot;  &quot; + j);\n        }\n        else {\n            if (aa[i][0].equals(String.valueOf(SAVEID))) {\n                aaa[i][j]     = aa[i][1];\n                aaa[i][j + 1] = aa[i][2];\n                aaa[i][j + 2] = aa[i][3];\n                aaa[i][j + 3] = aa[i][4];\n            }\n        }\n    }\n}\nSystem.out.println(aaa[0][0]);\nSystem.out.println(aaa[0][1]);\nSystem.out.println(aaa[0][2]);\nSystem.out.println(aaa[0][3]);\n</code></pre>\n"},{"tags":["java","recursion","big-o"],"answers":[{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643670078,"creation_date":1643659861,"answer_id":70932240,"question_id":70931947,"body_markdown":"I think a Memoized solution for this problem will be O(n) because each solution for `n` will be calculated no more than one time.\r\n\r\nThe &quot;trick&quot; is to store the results of `lucas(n)` in a map so that previously calculated results will be retrieved in constant time O(1) and new values will be calculated once.\r\n\r\n(**Complete solution needs to compute only if value is not in map**)\r\n```\r\npublic class MemoizedLucas {\r\n\tprivate static Map&lt;Integer, Integer&gt; results = new HashMap&lt;&gt;();\r\n\r\n\t/**\r\n\t * @param args\r\n\t */\r\n\tpublic static void main(String[] args) {\r\n        // add base cases to map\r\n\t\tresults.put(0, 2);\r\n\t\tresults.put(1, 1);\r\n\r\n        // compute lucas number\r\n\t\tlucas(10);\r\n\t\tSystem.out.println(results);\r\n\t}\r\n\t// The lucas function will be called at most 2*n times - O(2*n) is still considered liner time. \r\n\tpublic static int lucas(int n) {\r\n\t\t\r\n\t\tInteger result = results.get(n);\r\n\t\tif (result != null) return result; // return value if in map\r\n\r\n\t\tint a = lucas(n - 1);\r\n\t\tint b = lucas (n - 2);\r\n\t\tresults.put(n , a + b);\r\n\t\treturn results.get(n);\r\n\t}\r\n}\r\n```\r\nIf printed out, the first 10 numbers of the sequence outputted by this program are:\r\n\r\n`2, 1, 3, 4, 7, 11, 18, 29, 47, 76, 123`","title":"Is it possible to calculate Lucas numbers recursively with time complexity O(n)?","body":"<p>I think a Memoized solution for this problem will be O(n) because each solution for <code>n</code> will be calculated no more than one time.</p>\n<p>The &quot;trick&quot; is to store the results of <code>lucas(n)</code> in a map so that previously calculated results will be retrieved in constant time O(1) and new values will be calculated once.</p>\n<p>(<strong>Complete solution needs to compute only if value is not in map</strong>)</p>\n<pre><code>public class MemoizedLucas {\n    private static Map&lt;Integer, Integer&gt; results = new HashMap&lt;&gt;();\n\n    /**\n     * @param args\n     */\n    public static void main(String[] args) {\n        // add base cases to map\n        results.put(0, 2);\n        results.put(1, 1);\n\n        // compute lucas number\n        lucas(10);\n        System.out.println(results);\n    }\n    // The lucas function will be called at most 2*n times - O(2*n) is still considered liner time. \n    public static int lucas(int n) {\n        \n        Integer result = results.get(n);\n        if (result != null) return result; // return value if in map\n\n        int a = lucas(n - 1);\n        int b = lucas (n - 2);\n        results.put(n , a + b);\n        return results.get(n);\n    }\n}\n</code></pre>\n<p>If printed out, the first 10 numbers of the sequence outputted by this program are:</p>\n<p><code>2, 1, 3, 4, 7, 11, 18, 29, 47, 76, 123</code></p>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643660640,"creation_date":1643660640,"answer_id":70932381,"question_id":70931947,"body_markdown":"The hint is to define a recursive G function, and take on of both Lucas values for the G result. The lucas function can then be defined as call to G.\r\n\r\nAs you see, G is O(N).\r\n\r\n    int lucas(int n) { return g(n)[0]; }\r\n    int[] g(int n) { ... recursiveG ... }","title":"Is it possible to calculate Lucas numbers recursively with time complexity O(n)?","body":"<p>The hint is to define a recursive G function, and take on of both Lucas values for the G result. The lucas function can then be defined as call to G.</p>\n<p>As you see, G is O(N).</p>\n<pre><code>int lucas(int n) { return g(n)[0]; }\nint[] g(int n) { ... recursiveG ... }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643665277,"creation_date":1643662403,"answer_id":70932674,"question_id":70931947,"body_markdown":"Since this is homework, I will not post the solution as code, but I hope I can show the path to it.  \r\n\r\nThe given hint uses a vector with 2 values - in Java we can use an array (since a method cannot return just two values).  The method needs the value of `n`.\r\n````java\r\nint[] calc(int n) {\r\n    // TODO\r\n}\r\n````\r\n\r\nThe formula `Gn = M X Gn-1` - `M` is the given matrix, and `Gn = [An , Bn]` (`An = Ln` and `Bn = Ln-1`) - can we rewritten as  \r\n`[An , Bn] = [[1,1] [1,0]] X [An-1 , Bn-1]` or  \r\n\r\n`An = 1*An-1 + 1*Bn-1 = An-1 + Bn-1` and  \r\n`Bn = 1*An-1 + 0*Bn-1 = An-1`\r\n\r\nThe method would call itself with `n-1`, unless `n == 0`, to get `[An-1,Bn-1]` and then calculate the output array `[An,Bn]` using above formula.\r\n\r\nInitial array, for `n=0`, should be `[2,-1]` (aka `G0` in hint.)\r\n\r\n(since `Gn` only depends on `Gn-1` the *pure* recursive solution is `O(n)` - unlike the usual method to calculate the Lucas number where `Ln` depends on `Ln-1` and `Ln-2`)\r\n\r\n-----\r\n\r\nI have completely ignored the second hint and used `int[]` above - but don&#39;t forget to consider if an `int` will be able to represent `L500`  \r\n(having the hint is a sign that it will not)\r\n\r\n\r\n","title":"Is it possible to calculate Lucas numbers recursively with time complexity O(n)?","body":"<p>Since this is homework, I will not post the solution as code, but I hope I can show the path to it.</p>\n<p>The given hint uses a vector with 2 values - in Java we can use an array (since a method cannot return just two values).  The method needs the value of <code>n</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int[] calc(int n) {\n    // TODO\n}\n</code></pre>\n<p>The formula <code>Gn = M X Gn-1</code> - <code>M</code> is the given matrix, and <code>Gn = [An , Bn]</code> (<code>An = Ln</code> and <code>Bn = Ln-1</code>) - can we rewritten as<br />\n<code>[An , Bn] = [[1,1] [1,0]] X [An-1 , Bn-1]</code> or</p>\n<p><code>An = 1*An-1 + 1*Bn-1 = An-1 + Bn-1</code> and<br />\n<code>Bn = 1*An-1 + 0*Bn-1 = An-1</code></p>\n<p>The method would call itself with <code>n-1</code>, unless <code>n == 0</code>, to get <code>[An-1,Bn-1]</code> and then calculate the output array <code>[An,Bn]</code> using above formula.</p>\n<p>Initial array, for <code>n=0</code>, should be <code>[2,-1]</code> (aka <code>G0</code> in hint.)</p>\n<p>(since <code>Gn</code> only depends on <code>Gn-1</code> the <em>pure</em> recursive solution is <code>O(n)</code> - unlike the usual method to calculate the Lucas number where <code>Ln</code> depends on <code>Ln-1</code> and <code>Ln-2</code>)</p>\n<hr />\n<p>I have completely ignored the second hint and used <code>int[]</code> above - but don't forget to consider if an <code>int</code> will be able to represent <code>L500</code><br />\n(having the hint is a sign that it will not)</p>\n"}],"owner":{"account_id":23060789,"reputation":1,"user_id":17176113,"display_name":"luna "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":483,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70932674,"answer_count":3,"score":0,"last_activity_date":1643670078,"creation_date":1643658269,"question_id":70931947,"body_markdown":"I have a [homework assignment][2] to calculate Lucas numbers. How can I make my algorithm O(n) while still keeping it recursive?\r\n\r\nThis is the hint he gives:\r\n\r\n[![][1]][1]\r\n\r\nWhen thinking about the question I thought I would keep my main for loop and make it so that it stores the 2 numbers before the one computed but then that would be iterative. \r\n\r\nThis is my code right now:\r\n\r\n    lucas(n) {  \r\n        return 2 if n = 0;\r\n        return 1 if n = 1;\r\n        return lucas(n - 1) + lucas(n - 2);\r\n    }\r\n    main(String args[]) {\r\n        for (int i = 0; i&lt;=10; i++)\r\n            print(lucas(i*5));\r\n    }\r\n\r\n(The code is written like that in case of plagiarism.)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UAUn8.png\r\n  [2]: https://i.stack.imgur.com/zqt9Q.png","title":"Is it possible to calculate Lucas numbers recursively with time complexity O(n)?","body":"<p>I have a <a href=\"https://i.stack.imgur.com/zqt9Q.png\" rel=\"nofollow noreferrer\">homework assignment</a> to calculate Lucas numbers. How can I make my algorithm O(n) while still keeping it recursive?</p>\n<p>This is the hint he gives:</p>\n<p><a href=\"https://i.stack.imgur.com/UAUn8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UAUn8.png\" alt=\"\" /></a></p>\n<p>When thinking about the question I thought I would keep my main for loop and make it so that it stores the 2 numbers before the one computed but then that would be iterative.</p>\n<p>This is my code right now:</p>\n<pre><code>lucas(n) {  \n    return 2 if n = 0;\n    return 1 if n = 1;\n    return lucas(n - 1) + lucas(n - 2);\n}\nmain(String args[]) {\n    for (int i = 0; i&lt;=10; i++)\n        print(lucas(i*5));\n}\n</code></pre>\n<p>(The code is written like that in case of plagiarism.)</p>\n"},{"tags":["java","spring","spring-boot","csrf"],"comments":[{"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"score":1,"creation_date":1643634561,"post_id":70926437,"comment_id":125384506,"body_markdown":"Can you show the JavaScript code you use to retrieve the CSRF token? (e.g. where does the `csrf` variable in the axios  call come from).","body":"Can you show the JavaScript code you use to retrieve the CSRF token? (e.g. where does the <code>csrf</code> variable in the axios  call come from)."},{"owner":{"account_id":3509980,"reputation":3614,"user_id":2934534,"accept_rate":77,"display_name":"Michael"},"score":0,"creation_date":1643639185,"post_id":70926437,"comment_id":125386552,"body_markdown":"@g00glen00b I&#39;ve updated the question. I retrieve the CSRF token using a get. I then store it in the meta tags and I get the value when posting to axios and add it to the header.","body":"@g00glen00b I&#39;ve updated the question. I retrieve the CSRF token using a get. I then store it in the meta tags and I get the value when posting to axios and add it to the header."}],"answers":[{"tags":[],"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643669826,"creation_date":1643669826,"answer_id":70933823,"question_id":70926437,"body_markdown":"There are two possible causes.\r\n\r\nFirst of all, the CSRF token endpoint should match the Spring Security configuration. In your example, you&#39;re using `antMatcher(&quot;/api/**&quot;)`, but CSRF token endpoint is `/csrf`. This should likely become `/api/csrf`.\r\n\r\nThe second part is that the CSRF token changes after each request. You didn&#39;t show the code where you invoke `getCSRFFromPage()`, but this should happen before each call you make. If not, then only the first call with that CSRF token will succeed. All consecutive calls will fail.\r\n\r\nIf you don&#39;t like making an additional call with each request, then you can use the `CookieCsrfTokenRepository`:\r\n\r\n```java\r\nhttpSecurity\r\n    // ...\r\n    .csrfTokenRepository(CookieCsrfTokenRepository.withHttpOnlyFalse());\r\n```\r\n\r\nBy doing so, each time you make a request, you&#39;ll get an `XSRF-TOKEN` cookie containing the next CSRF token. This should be passed within the `X-CSRF-TOKEN`  or `X-XSRF-TOKEN` header. Many libraries, including Axios do this out of the box, so you don&#39;t have to do anything else.\r\n\r\nYou can customize this behavior by configuring the `xsrfHeaderName` or `xsrfCookieName` properties (see [Request Config](https://github.com/axios/axios#request-config)).","title":"Invalid CSRF token found - Spring Boot and Axios","body":"<p>There are two possible causes.</p>\n<p>First of all, the CSRF token endpoint should match the Spring Security configuration. In your example, you're using <code>antMatcher(&quot;/api/**&quot;)</code>, but CSRF token endpoint is <code>/csrf</code>. This should likely become <code>/api/csrf</code>.</p>\n<p>The second part is that the CSRF token changes after each request. You didn't show the code where you invoke <code>getCSRFFromPage()</code>, but this should happen before each call you make. If not, then only the first call with that CSRF token will succeed. All consecutive calls will fail.</p>\n<p>If you don't like making an additional call with each request, then you can use the <code>CookieCsrfTokenRepository</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>httpSecurity\n    // ...\n    .csrfTokenRepository(CookieCsrfTokenRepository.withHttpOnlyFalse());\n</code></pre>\n<p>By doing so, each time you make a request, you'll get an <code>XSRF-TOKEN</code> cookie containing the next CSRF token. This should be passed within the <code>X-CSRF-TOKEN</code>  or <code>X-XSRF-TOKEN</code> header. Many libraries, including Axios do this out of the box, so you don't have to do anything else.</p>\n<p>You can customize this behavior by configuring the <code>xsrfHeaderName</code> or <code>xsrfCookieName</code> properties (see <a href=\"https://github.com/axios/axios#request-config\" rel=\"nofollow noreferrer\">Request Config</a>).</p>\n"}],"owner":{"account_id":3509980,"reputation":3614,"user_id":2934534,"accept_rate":77,"display_name":"Michael"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4665,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1643669826,"creation_date":1643634236,"question_id":70926437,"body_markdown":"I would like to post using `Axios` to my `Spring Boot` server. If I disable `csrf` using `.csrf().disable()` it works correctly however it fails when enabled.    \r\n\r\nI&#39;ve tried adding `X-CSRF-TOKEN` to the header, or `_csrf` in the body but it is saying it is invalid. Checking the request the `csrf` is being passed in as expected. \r\n\r\n**CSRF Controller**\r\n\r\n    @RequestMapping(&quot;/csrf&quot;)\r\n    public String csrf(final CsrfToken token) {\r\n        return token.getToken();\r\n    }\r\n\r\n**Spring Security**\t \r\n\r\n    httpSecurity\r\n\t\t\t.antMatcher(&quot;/api/**&quot;)\r\n\t\t\t.cors().and()\r\n\t\t\t.authorizeRequests()\r\n\t\t\t.anyRequest().authenticated()\r\n\t\t\t.and()\r\n\t\t\t.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n\r\n**Axios**\r\n\r\n    axios\r\n        .post(\r\n          `/api/doSomething`,\r\n          { id: id, _csrf: csrf},\r\n          {\r\n            withCredentials: true,\r\n            headers: {\r\n              &#39;X-CSRF-TOKEN&#39;: csrf\r\n            }\r\n          }\r\n        )\r\n        .then(response =&gt; {\r\n          resolve(response.data);\r\n        })\r\n        .catch(error =&gt; {\r\n          reject(error);\r\n        });\r\n\r\n**MetaTags `react-meta-tags` store the CSRF**\r\n\r\n    &lt;MetaTags&gt;\r\n      &lt;meta name=&quot;csrf-token&quot; content={csrfToken} /&gt;\r\n    &lt;/MetaTags&gt; \r\n\r\n**Axios to get the CSRF token**\r\n\r\n    axios\r\n    .get(&#39;/csrf&#39;, {\r\n      withCredentials: true\r\n    })\r\n    .then(response =&gt; {\r\n      resolve(response.data);\r\n    })\r\n    .catch(error =&gt; {\r\n      reject(error);\r\n    });\r\n\r\n**Function to get the CSRF token from the meta tags**\r\n\r\n    function getCSRFFromPage(): string | null {\r\n      const element = document.querySelector(&quot;meta[name=&#39;csrf-token&#39;]&quot;);\r\n\r\n      if (element !== null) {\r\n        const csrf: string | null = element.getAttribute(&#39;content&#39;);\r\n        return csrf;\r\n      } else {\r\n        return null;\r\n      }\r\n    }\r\n\r\n**Error**\r\n    \r\n    Invalid CSRF token found for &lt;url&gt;\r\n\r\nWhat could be causing this to fail? \r\n","title":"Invalid CSRF token found - Spring Boot and Axios","body":"<p>I would like to post using <code>Axios</code> to my <code>Spring Boot</code> server. If I disable <code>csrf</code> using <code>.csrf().disable()</code> it works correctly however it fails when enabled.</p>\n<p>I've tried adding <code>X-CSRF-TOKEN</code> to the header, or <code>_csrf</code> in the body but it is saying it is invalid. Checking the request the <code>csrf</code> is being passed in as expected.</p>\n<p><strong>CSRF Controller</strong></p>\n<pre><code>@RequestMapping(&quot;/csrf&quot;)\npublic String csrf(final CsrfToken token) {\n    return token.getToken();\n}\n</code></pre>\n<p><strong>Spring Security</strong></p>\n<pre><code>httpSecurity\n        .antMatcher(&quot;/api/**&quot;)\n        .cors().and()\n        .authorizeRequests()\n        .anyRequest().authenticated()\n        .and()\n        .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n</code></pre>\n<p><strong>Axios</strong></p>\n<pre><code>axios\n    .post(\n      `/api/doSomething`,\n      { id: id, _csrf: csrf},\n      {\n        withCredentials: true,\n        headers: {\n          'X-CSRF-TOKEN': csrf\n        }\n      }\n    )\n    .then(response =&gt; {\n      resolve(response.data);\n    })\n    .catch(error =&gt; {\n      reject(error);\n    });\n</code></pre>\n<p><strong>MetaTags <code>react-meta-tags</code> store the CSRF</strong></p>\n<pre><code>&lt;MetaTags&gt;\n  &lt;meta name=&quot;csrf-token&quot; content={csrfToken} /&gt;\n&lt;/MetaTags&gt; \n</code></pre>\n<p><strong>Axios to get the CSRF token</strong></p>\n<pre><code>axios\n.get('/csrf', {\n  withCredentials: true\n})\n.then(response =&gt; {\n  resolve(response.data);\n})\n.catch(error =&gt; {\n  reject(error);\n});\n</code></pre>\n<p><strong>Function to get the CSRF token from the meta tags</strong></p>\n<pre><code>function getCSRFFromPage(): string | null {\n  const element = document.querySelector(&quot;meta[name='csrf-token']&quot;);\n\n  if (element !== null) {\n    const csrf: string | null = element.getAttribute('content');\n    return csrf;\n  } else {\n    return null;\n  }\n}\n</code></pre>\n<p><strong>Error</strong></p>\n<pre><code>Invalid CSRF token found for &lt;url&gt;\n</code></pre>\n<p>What could be causing this to fail?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1643659804,"post_id":70931681,"comment_id":125394902,"body_markdown":"You say &quot;in Java URL Class&quot; but the fact that the data is being read from a URL is irrelevant; the logic to convert Greek letters to lower case would be the same if you were reading from a file, or processing text in memory.","body":"You say &quot;in Java URL Class&quot; but the fact that the data is being read from a URL is irrelevant; the logic to convert Greek letters to lower case would be the same if you were reading from a file, or processing text in memory."}],"answers":[{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643658638,"creation_date":1643658638,"answer_id":70932018,"question_id":70931681,"body_markdown":"Your logic is problematic. You first replace all upper case &quot;A&quot; to lover case &quot;a&quot;. So now you have all &quot;a&quot;s the ones that used to be upper case and the ones that were lover case as lower case &quot;a&quot;. And next replacement you change them all to upper case &quot;A&quot;. What you need to do is in your first replacement change upper case &quot;A&quot; to some letter or sequence that is never to be found in your text. Then replace lover case &quot;a&quot; to upper case &quot;A&quot; and then replace your &quot;strange&quot; letter or sequenceto lower case &quot;a&quot; \r\n\r\n                            String tempReplacement = &quot; ***My-wierd-sequence*** &quot;;\r\n                            line = line.replace(&quot;Α&quot;, tempReplacement );\r\n                            line = line.replace(&quot;α&quot;, &quot;Α&quot;);\r\n                            line = line.replace(tempReplacement, &quot;α&quot;);\r\n\r\n","title":"Trying figure out how to change greek letter case in Java URL Class","body":"<p>Your logic is problematic. You first replace all upper case &quot;A&quot; to lover case &quot;a&quot;. So now you have all &quot;a&quot;s the ones that used to be upper case and the ones that were lover case as lower case &quot;a&quot;. And next replacement you change them all to upper case &quot;A&quot;. What you need to do is in your first replacement change upper case &quot;A&quot; to some letter or sequence that is never to be found in your text. Then replace lover case &quot;a&quot; to upper case &quot;A&quot; and then replace your &quot;strange&quot; letter or sequenceto lower case &quot;a&quot;</p>\n<pre><code>                        String tempReplacement = &quot; ***My-wierd-sequence*** &quot;;\n                        line = line.replace(&quot;Α&quot;, tempReplacement );\n                        line = line.replace(&quot;α&quot;, &quot;Α&quot;);\n                        line = line.replace(tempReplacement, &quot;α&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643669139,"creation_date":1643659744,"answer_id":70932212,"question_id":70931681,"body_markdown":"To flip the case of all Greek letters, you can do the following:\r\n\r\n    Pattern greek = Pattern.compile(&quot;\\\\p{IsGreek}+&quot;);\r\n\r\n    while ((line = readr.readLine()) != null) {\r\n        line = greek.matcher(s).replaceAll(mr -&gt; flipCase(mr.group()));\r\n        writer.write(line);\r\n    }\r\n    \r\n    // . . .\r\n    \r\n    String flipCase(String s) {\r\n        return s.codePoints().map(c -&gt; Character.isLowerCase(c) ?\r\n                Character.toUpperCase(c) : Character.toLowerCase(c))\r\n            .collect(StringBuilder::new, StringBuilder::appendCodePoint,\r\n                StringBuilder::append)\r\n            .toString();\r\n    }\r\n","title":"Trying figure out how to change greek letter case in Java URL Class","body":"<p>To flip the case of all Greek letters, you can do the following:</p>\n<pre><code>Pattern greek = Pattern.compile(&quot;\\\\p{IsGreek}+&quot;);\n\nwhile ((line = readr.readLine()) != null) {\n    line = greek.matcher(s).replaceAll(mr -&gt; flipCase(mr.group()));\n    writer.write(line);\n}\n\n// . . .\n\nString flipCase(String s) {\n    return s.codePoints().map(c -&gt; Character.isLowerCase(c) ?\n            Character.toUpperCase(c) : Character.toLowerCase(c))\n        .collect(StringBuilder::new, StringBuilder::appendCodePoint,\n            StringBuilder::append)\n        .toString();\n}\n</code></pre>\n"}],"owner":{"account_id":24113963,"reputation":1,"user_id":18084157,"display_name":"Sahib Sawhney"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1643669139,"creation_date":1643656903,"question_id":70931681,"body_markdown":"In my code I need to figure out how to change greek letters from capital case to lower case and vice versa. I was using replace but of course, it just ends up making everything upper case. Trying to figure out the logic.\r\n\r\nAny help would be greatly appreciated. It prints the whole html in the website thats correct at least.\r\n\r\n```\r\nimport java.io.*;\r\nimport java.net.MalformedURLException;\r\nimport java.net.URL;\r\n\r\npublic class URLParse {\r\n    public static void main(String[] args) {\r\n        String line;\r\n                try {\r\n\r\n                    URL url = new URL(args[0]);\r\n                    BufferedReader readr =  new BufferedReader(new InputStreamReader(url.openStream()));\r\n\r\n                    BufferedWriter writer =\r\n                            new BufferedWriter(new FileWriter(&quot;out.html&quot;));\r\n\r\n\r\n\r\n                    while ((line = readr.readLine()) != null) {\r\n\r\n//                        line = line.replace(&quot;Α&quot;, &quot;α&quot;);\r\n\r\n//                        line = line.replace(&quot;α&quot;, &quot;Α&quot;);\r\n\r\n                        writer.write(line);\r\n                    }\r\n\r\n                    readr.close();\r\n                    writer.close();\r\n                    System.out.println(&quot;Successfully Downloaded.&quot;);\r\n\r\n\r\n                    String protocol = url.getProtocol();\r\n                    String userinfo = url.getUserInfo();\r\n                    String host = url.getHost();\r\n                    int port = url.getPort();\r\n                    String path = url.getPath();\r\n                    String query = url.getQuery();\r\n\r\n                    System.out.println(&quot;URL created: &quot; + url);\r\n                    System.out.println(&quot;protocol: &quot; + protocol);\r\n                    System.out.println(&quot;userinfo: &quot; + userinfo);\r\n                    System.out.println(&quot;host: &quot; + host);\r\n                    System.out.println(&quot;port: &quot; + port);\r\n                    System.out.println(&quot;path: &quot; + path);\r\n                    System.out.println(&quot;query: &quot; + query);\r\n\r\n                }\r\n\r\n                catch (MalformedURLException e) {\r\n                    System.out.println(&quot;Malformed URL: &quot; + e.getMessage());\r\n                }\r\n                catch (IOException ie) {\r\n                    System.out.println(&quot;IOException raised&quot;);\r\n                }\r\n    }\r\n\r\n}\r\n\r\n```","title":"Trying figure out how to change greek letter case in Java URL Class","body":"<p>In my code I need to figure out how to change greek letters from capital case to lower case and vice versa. I was using replace but of course, it just ends up making everything upper case. Trying to figure out the logic.</p>\n<p>Any help would be greatly appreciated. It prints the whole html in the website thats correct at least.</p>\n<pre><code>import java.io.*;\nimport java.net.MalformedURLException;\nimport java.net.URL;\n\npublic class URLParse {\n    public static void main(String[] args) {\n        String line;\n                try {\n\n                    URL url = new URL(args[0]);\n                    BufferedReader readr =  new BufferedReader(new InputStreamReader(url.openStream()));\n\n                    BufferedWriter writer =\n                            new BufferedWriter(new FileWriter(&quot;out.html&quot;));\n\n\n\n                    while ((line = readr.readLine()) != null) {\n\n//                        line = line.replace(&quot;Α&quot;, &quot;α&quot;);\n\n//                        line = line.replace(&quot;α&quot;, &quot;Α&quot;);\n\n                        writer.write(line);\n                    }\n\n                    readr.close();\n                    writer.close();\n                    System.out.println(&quot;Successfully Downloaded.&quot;);\n\n\n                    String protocol = url.getProtocol();\n                    String userinfo = url.getUserInfo();\n                    String host = url.getHost();\n                    int port = url.getPort();\n                    String path = url.getPath();\n                    String query = url.getQuery();\n\n                    System.out.println(&quot;URL created: &quot; + url);\n                    System.out.println(&quot;protocol: &quot; + protocol);\n                    System.out.println(&quot;userinfo: &quot; + userinfo);\n                    System.out.println(&quot;host: &quot; + host);\n                    System.out.println(&quot;port: &quot; + port);\n                    System.out.println(&quot;path: &quot; + path);\n                    System.out.println(&quot;query: &quot; + query);\n\n                }\n\n                catch (MalformedURLException e) {\n                    System.out.println(&quot;Malformed URL: &quot; + e.getMessage());\n                }\n                catch (IOException ie) {\n                    System.out.println(&quot;IOException raised&quot;);\n                }\n    }\n\n}\n\n</code></pre>\n"},{"tags":["java","lambda","java-8"],"comments":[{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":3,"creation_date":1422186844,"post_id":28136014,"comment_id":44644019,"body_markdown":"Despite the fact you have to write less code are there any advantages of lambdas?","body":"Despite the fact you have to write less code are there any advantages of lambdas?"},{"owner":{"account_id":1114067,"reputation":196781,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":1,"creation_date":1422187820,"post_id":28136014,"comment_id":44644267,"body_markdown":"Note that there are plenty of examples where the method reference actually means *more* code (e.g. `MyClassWithLongName::aStaticMethod`). The method reference can still be an advantage even there because it gives less opportunities for something to go wrong.","body":"Note that there are plenty of examples where the method reference actually means <i>more</i> code (e.g. <code>MyClassWithLongName::aStaticMethod</code>). The method reference can still be an advantage even there because it gives less opportunities for something to go wrong."},{"owner":{"account_id":1416522,"reputation":91354,"user_id":3553087,"display_name":"Brian Goetz"},"score":5,"creation_date":1422210363,"post_id":28136014,"comment_id":44651213,"body_markdown":"The motivation for method references is simple (and does not have nearly as much to do with &quot;shorter&quot; as many people assume.)  Methods have _names_, and referring to something by its name is often clearer than the alternative.","body":"The motivation for method references is simple (and does not have nearly as much to do with &quot;shorter&quot; as many people assume.)  Methods have <i>names</i>, and referring to something by its name is often clearer than the alternative."},{"owner":{"account_id":2281083,"reputation":4871,"user_id":2020820,"display_name":"Steve K"},"score":0,"creation_date":1422417976,"post_id":28136014,"comment_id":44737878,"body_markdown":"Another useful thing about method references is that they conform by default to the java.util.function functional interfaces, so you can use a reference to your method for things such as a Predicate or Supplier.","body":"Another useful thing about method references is that they conform by default to the java.util.function functional interfaces, so you can use a reference to your method for things such as a Predicate or Supplier."}],"answers":[{"tags":[],"owner":{"account_id":134022,"reputation":717183,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1422186915,"creation_date":1422186915,"answer_id":28136081,"question_id":28136014,"body_markdown":"&gt; Despite the fact you have to write less code? Are there any other advantages of introducing method references in Java 8?\r\n\r\nHaving to write less code is enough of an advantage to consider introducing a language feature. There is a similar feature in C#, called [*method groups*][1], that makes it easier to write code that uses delegates. Lambdas are shorthand for anonymous classes, and anonymous classes could be considered shorthand for named classes. One could legitimately call them &quot;syntactic sugar&quot;, yet all these features help you write less code.\r\n\r\nIn addition to letting you shorten the code, the feature has a potential of helping designers of Java compiler generate more efficient code. For example, it might be possible to avoid generating a brand-new type for each lambda wrapping a method reference.\r\n\r\n  [1]: https://stackoverflow.com/q/886822/335858","title":"Why does Java 8 provide method references?","body":"<blockquote>\n  <p>Despite the fact you have to write less code? Are there any other advantages of introducing method references in Java 8?</p>\n</blockquote>\n\n<p>Having to write less code is enough of an advantage to consider introducing a language feature. There is a similar feature in C#, called <a href=\"https://stackoverflow.com/q/886822/335858\"><em>method groups</em></a>, that makes it easier to write code that uses delegates. Lambdas are shorthand for anonymous classes, and anonymous classes could be considered shorthand for named classes. One could legitimately call them \"syntactic sugar\", yet all these features help you write less code.</p>\n\n<p>In addition to letting you shorten the code, the feature has a potential of helping designers of Java compiler generate more efficient code. For example, it might be possible to avoid generating a brand-new type for each lambda wrapping a method reference.</p>\n"},{"tags":[],"owner":{"account_id":227998,"reputation":323,"user_id":3850640,"display_name":"Ronald Duck"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1422187015,"creation_date":1422187015,"answer_id":28136092,"question_id":28136014,"body_markdown":"Well, one advantage above just writing less code is, that the first example doesn&#39;t have to be aware of the parameters, as long as the implementation of that functional interface has the same signature (-&gt; is correct) your code get&#39;s compiled.\r\n\r\nIf the signature of the the functional interface changes and the signature of the implementation changes analogously these changes only need to be applied there and not on that glue code.","title":"Why does Java 8 provide method references?","body":"<p>Well, one advantage above just writing less code is, that the first example doesn't have to be aware of the parameters, as long as the implementation of that functional interface has the same signature (-> is correct) your code get's compiled.</p>\n\n<p>If the signature of the the functional interface changes and the signature of the implementation changes analogously these changes only need to be applied there and not on that glue code.</p>\n"}],"owner":{"account_id":1174053,"reputation":2922,"user_id":1150503,"accept_rate":58,"display_name":"Dariusz Mydlarz"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3168,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":2,"score":3,"last_activity_date":1643669087,"creation_date":1422186404,"question_id":28136014,"body_markdown":"What is better in calling\r\n\r\n    names.stream().forEach(System.out::println);\r\n\r\nThan\r\n\r\n    names.stream().forEach(n -&gt; System.out.println(n));\r\n\r\nDespite the fact you have to write less code? Are there any other advantages of introducing method references in Java 8?","title":"Why does Java 8 provide method references?","body":"<p>What is better in calling</p>\n\n<pre><code>names.stream().forEach(System.out::println);\n</code></pre>\n\n<p>Than</p>\n\n<pre><code>names.stream().forEach(n -&gt; System.out.println(n));\n</code></pre>\n\n<p>Despite the fact you have to write less code? Are there any other advantages of introducing method references in Java 8?</p>\n"},{"tags":["java","json","nosuchmethoderror","json-schema-validator"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1643669132,"post_id":70933695,"comment_id":125397807,"body_markdown":"This usually means the version of the library that you used during compilation is newer than the library in your deployed environment.  The compiler found the method but at runtime that method does not exist.  Check your library versions.","body":"This usually means the version of the library that you used during compilation is newer than the library in your deployed environment.  The compiler found the method but at runtime that method does not exist.  Check your library versions."},{"owner":{"account_id":23532427,"reputation":61,"user_id":17577844,"display_name":"Rumi"},"score":0,"creation_date":1643690749,"post_id":70933695,"comment_id":125401083,"body_markdown":"@JimGarrison can you please tell me which library to look for?","body":"@JimGarrison can you please tell me which library to look for?"}],"owner":{"account_id":23532427,"reputation":61,"user_id":17577844,"display_name":"Rumi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643668844,"creation_date":1643668844,"question_id":70933695,"body_markdown":"I want to validate a JSON object with JSON schema.\r\n\r\nThis is my method:\r\n\r\n    public static void jsonSchemValidator(String json, String defination) throws ValidationException, JSONException, IOException )\r\n    {\r\n\r\n        JSONObject jsonSchemaori = new JSONObject(new JSONTokener(readFromResources(defination)));\r\n        JSONObject jsonSubject = new JSONObject(new JSONTokener(readFromResources(json)));\r\n\r\n        Schema schema = SchemaLoader.load(jsonSchemaori);\r\n        schema.validate(jsonSubject);\r\n    }\r\n\r\n    String defination=&quot;src/test/resources/json/pick_event_schema.json&quot;;\r\n    String json=&quot;src/test/resources/json/pickevent1.json&quot;;\r\n    Utils.jsonSchemValidator(json,schema);\r\n\r\n\r\nI generated the Schema file from the following site: https://www.liquid-technologies.com/online-json-to-schema-converter\r\n\r\nThis is my readFromResources:\r\n\r\n    public static String readFromResources(String fileName) throws IOException {\r\n    \r\n            File file = new File(fileName);\r\n            String filePath = file.getAbsolutePath();\r\n    \r\n            StringBuilder sb = new StringBuilder();\r\n            FileReader fr = new FileReader(filePath);\r\n            try( BufferedReader br = new BufferedReader(fr) ) {\r\n                String contentLine = br.readLine();\r\n                while (contentLine != null) {\r\n                    sb.append(contentLine);\r\n                    contentLine = br.readLine();\r\n                }\r\n            } catch (IOException e) {\r\n                throw e;\r\n            }\r\n            return sb.toString();\r\n        }\r\n\r\n\r\nI am getting an exception:\r\n\r\n    java.lang.NoSuchMethodError: org.json.JSONObject.getNames(Lorg/json/JSONObject;)[Ljava/lang/String;\r\n\r\nPlease let me where I am going wrong. Thank you.","title":"Trying to validate a json against Json Schema in java but getting java.lang.NoSuchMethodError","body":"<p>I want to validate a JSON object with JSON schema.</p>\n<p>This is my method:</p>\n<pre><code>public static void jsonSchemValidator(String json, String defination) throws ValidationException, JSONException, IOException )\n{\n\n    JSONObject jsonSchemaori = new JSONObject(new JSONTokener(readFromResources(defination)));\n    JSONObject jsonSubject = new JSONObject(new JSONTokener(readFromResources(json)));\n\n    Schema schema = SchemaLoader.load(jsonSchemaori);\n    schema.validate(jsonSubject);\n}\n\nString defination=&quot;src/test/resources/json/pick_event_schema.json&quot;;\nString json=&quot;src/test/resources/json/pickevent1.json&quot;;\nUtils.jsonSchemValidator(json,schema);\n</code></pre>\n<p>I generated the Schema file from the following site: <a href=\"https://www.liquid-technologies.com/online-json-to-schema-converter\" rel=\"nofollow noreferrer\">https://www.liquid-technologies.com/online-json-to-schema-converter</a></p>\n<p>This is my readFromResources:</p>\n<pre><code>public static String readFromResources(String fileName) throws IOException {\n\n        File file = new File(fileName);\n        String filePath = file.getAbsolutePath();\n\n        StringBuilder sb = new StringBuilder();\n        FileReader fr = new FileReader(filePath);\n        try( BufferedReader br = new BufferedReader(fr) ) {\n            String contentLine = br.readLine();\n            while (contentLine != null) {\n                sb.append(contentLine);\n                contentLine = br.readLine();\n            }\n        } catch (IOException e) {\n            throw e;\n        }\n        return sb.toString();\n    }\n</code></pre>\n<p>I am getting an exception:</p>\n<pre><code>java.lang.NoSuchMethodError: org.json.JSONObject.getNames(Lorg/json/JSONObject;)[Ljava/lang/String;\n</code></pre>\n<p>Please let me where I am going wrong. Thank you.</p>\n"},{"tags":["java","algorithm","data-structures","linked-list"],"comments":[{"owner":{"account_id":2871026,"reputation":31449,"user_id":2464386,"accept_rate":84,"display_name":"ajb"},"score":0,"creation_date":1488864132,"post_id":42640749,"comment_id":72408814,"body_markdown":"Hint: Put this after the end of your `while` loop: `System.out.println(&quot;node = &quot; + node.data + &quot; prev = &quot; + prev.data);`  Actually, you&#39;ll need to make sure `node` and `prev` aren&#39;t null first.  But I think you&#39;ll be able to spot the error if you do this.","body":"Hint: Put this after the end of your <code>while</code> loop: <code>System.out.println(&quot;node = &quot; + node.data + &quot; prev = &quot; + prev.data);</code>  Actually, you&#39;ll need to make sure <code>node</code> and <code>prev</code> aren&#39;t null first.  But I think you&#39;ll be able to spot the error if you do this."}],"answers":[{"tags":[],"owner":{"account_id":10402477,"reputation":66,"user_id":7670299,"display_name":"DeepDive"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1488864418,"creation_date":1488864418,"answer_id":42640850,"question_id":42640749,"body_markdown":"    node = node.next;\r\n    prev = node;\r\nThis should be in the opposite order\r\n\r\n    prev = node;\r\n    node = node.next;\r\nAnd also the code does not check for many cases , for example as to whether the position specified is larger than the size of the linked list. Try rewriting the code , also could you mention which values are you using for testing the function.\r\nI think `prev=node` should throw an exception as prev was not initialized\r\n","title":"Inserting a node at a specific position in a Linked list","body":"<pre><code>node = node.next;\nprev = node;\n</code></pre>\n\n<p>This should be in the opposite order</p>\n\n<pre><code>prev = node;\nnode = node.next;\n</code></pre>\n\n<p>And also the code does not check for many cases , for example as to whether the position specified is larger than the size of the linked list. Try rewriting the code , also could you mention which values are you using for testing the function.\nI think <code>prev=node</code> should throw an exception as prev was not initialized</p>\n"},{"tags":[],"owner":{"account_id":10337776,"reputation":181,"user_id":7625283,"display_name":"Akanksha"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1488867218,"creation_date":1488866545,"answer_id":42641263,"question_id":42640749,"body_markdown":"Firstly, I find the position. \r\nThen insert the new Node at that position by changing pointers.\r\n\r\n  \r\n\r\n\r\n\r\n      Node InsertNth(Node head, int data, int position) {\r\n\t\t\r\n        Node newNode= new Node();\r\n\t\tnewNode.data=data;\r\n\r\n\t\tNode ptr = head;\r\n\t\tpos = pos - 1;\r\n\t\tfor (int i = 1; ; i++) {\r\n         if(ptr==null)\r\n           {  break;\r\n               }\r\n\t\t\tif (i == pos) {\r\n\t\t\t\tnewNode.next=ptr.next;\r\n\t\t\t\tptr.next=newNode;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tptr = ptr.next;\r\n\t\t}\r\n\t}","title":"Inserting a node at a specific position in a Linked list","body":"<p>Firstly, I find the position. \nThen insert the new Node at that position by changing pointers.</p>\n\n<pre><code>  Node InsertNth(Node head, int data, int position) {\n\n    Node newNode= new Node();\n    newNode.data=data;\n\n    Node ptr = head;\n    pos = pos - 1;\n    for (int i = 1; ; i++) {\n     if(ptr==null)\n       {  break;\n           }\n        if (i == pos) {\n            newNode.next=ptr.next;\n            ptr.next=newNode;\n            break;\n        }\n        ptr = ptr.next;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15781647,"reputation":1729,"user_id":11387839,"display_name":"Ashutosh Mishra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1578192139,"creation_date":1578192139,"answer_id":59596580,"question_id":42640749,"body_markdown":"    public static Node InsertNth(Node head, int data, int position) {\r\n                  \r\n              Node node = new Node(data);\r\n              node.next = null;\r\n              if (head == null &amp;&amp; position == 0){\r\n                  head = node;\r\n              }\r\n              else if(head != null &amp;&amp; position == 0){\r\n                  node.next = head;\r\n                  head = node;\r\n              }\r\n              Node tempCurrentNode = head ;\r\n              Node tempPreviousNode = null;\r\n              int index = 0;\r\n              while (index &lt; position) {\r\n                  tempPreviousNode =  tempCurrentNode;\r\n                  tempCurrentNode = tempCurrentNode.next;\r\n                  index = index + 1;\r\n              }\r\n                node.next = tempCurrentNode;\r\n                tempPreviousNode.next = node;\r\n    \r\n             return head;\r\n        }","title":"Inserting a node at a specific position in a Linked list","body":"<pre><code>public static Node InsertNth(Node head, int data, int position) {\n\n          Node node = new Node(data);\n          node.next = null;\n          if (head == null &amp;&amp; position == 0){\n              head = node;\n          }\n          else if(head != null &amp;&amp; position == 0){\n              node.next = head;\n              head = node;\n          }\n          Node tempCurrentNode = head ;\n          Node tempPreviousNode = null;\n          int index = 0;\n          while (index &lt; position) {\n              tempPreviousNode =  tempCurrentNode;\n              tempCurrentNode = tempCurrentNode.next;\n              index = index + 1;\n          }\n            node.next = tempCurrentNode;\n            tempPreviousNode.next = node;\n\n         return head;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2411958,"reputation":21,"user_id":2106838,"display_name":"Amol Gaikwad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643668199,"creation_date":1643668199,"answer_id":70933594,"question_id":42640749,"body_markdown":"    var head;\r\n    \r\n    class Node{\r\n        constructor(val) {\r\n            this.data=val;\r\n            this.next=null;\r\n        }\r\n    }\r\n    \r\n    const sortedAdd = val =&gt; {\r\n        new_node = new Node(val);\r\n        var current\r\n        if(head == null || head.data &gt; new_node.data) {\r\n            new_node.next = head;\r\n            head = new_node;\r\n        } else {\r\n            current = head;\r\n            while (current.next != null &amp;&amp; current.next.data &lt; new_node.data) {\r\n                current = current.next;\r\n            }\r\n            new_node.next = current.next;\r\n            current.next = new_node;\r\n    \r\n        }\r\n    }\r\n    \r\n    const add = val =&gt; {\r\n        new_node = new Node(val);\r\n        var current\r\n        if(head == null) {\r\n            head = new_node;\r\n        } else {\r\n            current = head;\r\n            while (current.next != null ) {\r\n                current = current.next;\r\n            }\r\n            current.next = new_node;\r\n    \r\n        }\r\n    }\r\n    \r\n    const insertAtPos= (val, insertIndex) =&gt; {\r\n        new_node = new Node(val);\r\n        var current, prev;\r\n        if(head == null) {\r\n            head = new_node;\r\n        } else {\r\n            current = head;\r\n            let index=0;\r\n            prev =current;\r\n    \r\n            while (index &lt;= insertIndex) {\r\n                if(0 === insertIndex) {\r\n                    new_node.next = current;\r\n                    prev.next = new_node;\r\n                    break;  \r\n                } else if(index === insertIndex) {\r\n                    new_node.next = current;\r\n                    prev.next = new_node;\r\n                    break;\r\n                } \r\n                \r\n                prev = current;\r\n                current = current.next;\r\n                index++;\r\n            }\r\n        }\r\n    }\r\n    const deleteNode = val =&gt;{\r\n        var current = head;\r\n        var prev;\r\n        while(current != null) {\r\n            if(current.data === val) {\r\n                console.log(&#39;Deleted node &#39;, current.data);\r\n                prev.next = current.next;\r\n            }\r\n            prev = current;\r\n            current = current.next;\r\n        }\r\n    }\r\n    const printList = () =&gt; {\r\n        let temp = head;\r\n        while(temp != null) {\r\n            console.log(temp.data);\r\n            temp = temp.next;\r\n        }\r\n    }\r\n    \r\n    [5, 10, 7, 3, 1, 9].map(d =&gt; add(d));\r\n    console.log(&#39;Before&#39;);\r\n    printList();\r\n    console.log(&#39;After &#39;);\r\n    insertAtPos(4, 3);\r\n    // deleteNode(3);\r\n    printList();\r\n    \r\n    //output\r\nBefore\r\n5\r\n10\r\n7\r\n3\r\n1\r\n9\r\nAfter \r\n5\r\n10\r\n7\r\n4\r\n3\r\n1\r\n9","title":"Inserting a node at a specific position in a Linked list","body":"<pre><code>var head;\n\nclass Node{\n    constructor(val) {\n        this.data=val;\n        this.next=null;\n    }\n}\n\nconst sortedAdd = val =&gt; {\n    new_node = new Node(val);\n    var current\n    if(head == null || head.data &gt; new_node.data) {\n        new_node.next = head;\n        head = new_node;\n    } else {\n        current = head;\n        while (current.next != null &amp;&amp; current.next.data &lt; new_node.data) {\n            current = current.next;\n        }\n        new_node.next = current.next;\n        current.next = new_node;\n\n    }\n}\n\nconst add = val =&gt; {\n    new_node = new Node(val);\n    var current\n    if(head == null) {\n        head = new_node;\n    } else {\n        current = head;\n        while (current.next != null ) {\n            current = current.next;\n        }\n        current.next = new_node;\n\n    }\n}\n\nconst insertAtPos= (val, insertIndex) =&gt; {\n    new_node = new Node(val);\n    var current, prev;\n    if(head == null) {\n        head = new_node;\n    } else {\n        current = head;\n        let index=0;\n        prev =current;\n\n        while (index &lt;= insertIndex) {\n            if(0 === insertIndex) {\n                new_node.next = current;\n                prev.next = new_node;\n                break;  \n            } else if(index === insertIndex) {\n                new_node.next = current;\n                prev.next = new_node;\n                break;\n            } \n            \n            prev = current;\n            current = current.next;\n            index++;\n        }\n    }\n}\nconst deleteNode = val =&gt;{\n    var current = head;\n    var prev;\n    while(current != null) {\n        if(current.data === val) {\n            console.log('Deleted node ', current.data);\n            prev.next = current.next;\n        }\n        prev = current;\n        current = current.next;\n    }\n}\nconst printList = () =&gt; {\n    let temp = head;\n    while(temp != null) {\n        console.log(temp.data);\n        temp = temp.next;\n    }\n}\n\n[5, 10, 7, 3, 1, 9].map(d =&gt; add(d));\nconsole.log('Before');\nprintList();\nconsole.log('After ');\ninsertAtPos(4, 3);\n// deleteNode(3);\nprintList();\n\n//output\n</code></pre>\n<p>Before\n5\n10\n7\n3\n1\n9\nAfter\n5\n10\n7\n4\n3\n1\n9</p>\n"}],"owner":{"account_id":1132117,"reputation":326,"user_id":1117972,"accept_rate":56,"display_name":"shashank"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14409,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"accepted_answer_id":42640850,"answer_count":4,"score":1,"last_activity_date":1643668199,"creation_date":1488863826,"question_id":42640749,"body_markdown":"I am given the pointer to the head node of a linked list, an integer to add to the list and the position at which the integer must be inserted. \r\nAfter inserting this node at the desired position I need to return the head node.\r\n\r\nThe code that I have written is not working for some reason and goes in an infinite loop. \r\n\r\n\r\n      class Node {\r\n         int data;\r\n         Node next;\r\n      }\r\n        \r\n    \r\n    Node InsertNth(Node head, int data, int position) {\r\n        int count = 0;\r\n        Node node = head;\r\n        Node prev = null;\r\n        while(count != position){\r\n          count++;\r\n          node = node.next;\r\n          prev = node;\r\n        }\r\n        \r\n        Node newNode = new Node();\r\n        newNode.data = data;\r\n\r\n        \r\n        newNode.next = node;\r\n        if(count == 0){\r\n              head = newNode;\r\n           }else{\r\n              prev.next = newNode;\r\n        }\r\n        \r\n        return head;          \r\n    }\r\n\r\n","title":"Inserting a node at a specific position in a Linked list","body":"<p>I am given the pointer to the head node of a linked list, an integer to add to the list and the position at which the integer must be inserted. \nAfter inserting this node at the desired position I need to return the head node.</p>\n\n<p>The code that I have written is not working for some reason and goes in an infinite loop. </p>\n\n<pre><code>  class Node {\n     int data;\n     Node next;\n  }\n\n\nNode InsertNth(Node head, int data, int position) {\n    int count = 0;\n    Node node = head;\n    Node prev = null;\n    while(count != position){\n      count++;\n      node = node.next;\n      prev = node;\n    }\n\n    Node newNode = new Node();\n    newNode.data = data;\n\n\n    newNode.next = node;\n    if(count == 0){\n          head = newNode;\n       }else{\n          prev.next = newNode;\n    }\n\n    return head;          \n}\n</code></pre>\n"},{"tags":["java","swing","graphics"],"comments":[{"owner":{"account_id":2132213,"reputation":11287,"user_id":1892802,"accept_rate":100,"display_name":"ug_"},"score":2,"creation_date":1446366781,"post_id":33460365,"comment_id":54707029,"body_markdown":"Whats the question here? *Is exist faster way?* - Is 240 fps not fast enough? What does the screenshot have to do with your question? It looks like somethings wrong with it...","body":"Whats the question here? <i>Is exist faster way?</i> - Is 240 fps not fast enough? What does the screenshot have to do with your question? It looks like somethings wrong with it..."},{"owner":{"account_id":5452039,"reputation":1623,"user_id":4336535,"accept_rate":70,"display_name":"biv"},"score":2,"creation_date":1446369269,"post_id":33460365,"comment_id":54707493,"body_markdown":"nothing wrong, it is screen filled with incrementing int_argb, for test.","body":"nothing wrong, it is screen filled with incrementing int_argb, for test."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1446381320,"post_id":33460365,"comment_id":54710167,"body_markdown":"A related [example](https://sites.google.com/site/drjohnbmatthews/raster) is seen here.","body":"A related <a href=\"https://sites.google.com/site/drjohnbmatthews/raster\" rel=\"nofollow noreferrer\">example</a> is seen here."}],"answers":[{"tags":[],"owner":{"account_id":6159087,"reputation":511,"user_id":4801255,"accept_rate":100,"display_name":"Dynamitos"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643668197,"creation_date":1446366797,"answer_id":33460459,"question_id":33460365,"body_markdown":"A way to get more FPS would probably be to use a `BufferStrategy`. Instead of using the `Graphics` passed my the `paint()` method, you would have to create them externally with e.g.`jFrame.createBufferStrategy(/*number of buffers*/)` and `BufferStrategy bufferStrategy = jFrame.getBufferStrategy()`.\r\nIf you then want to access the `Graphics`, you use `Graphics g = bufferStrategy.getDrawGraphics()` and then draw your Image as usually. I am not sure if this will really improve your FPS at such a simple example, but when doing more complicated draws, it surely will.\r\n\r\nEDIT: It&#39;s pretty useless to create a `BufferStrategy` with only 1 backbuffer, since it would just continue drawing directly to the screen. The buffersize should be 2-5 depending on how much vram your graphics card can handle.","title":"what the fastest way to draw pixels buffer in Java","body":"<p>A way to get more FPS would probably be to use a <code>BufferStrategy</code>. Instead of using the <code>Graphics</code> passed my the <code>paint()</code> method, you would have to create them externally with e.g.<code>jFrame.createBufferStrategy(/*number of buffers*/)</code> and <code>BufferStrategy bufferStrategy = jFrame.getBufferStrategy()</code>.\nIf you then want to access the <code>Graphics</code>, you use <code>Graphics g = bufferStrategy.getDrawGraphics()</code> and then draw your Image as usually. I am not sure if this will really improve your FPS at such a simple example, but when doing more complicated draws, it surely will.</p>\n<p>EDIT: It's pretty useless to create a <code>BufferStrategy</code> with only 1 backbuffer, since it would just continue drawing directly to the screen. The buffersize should be 2-5 depending on how much vram your graphics card can handle.</p>\n"}],"owner":{"account_id":5452039,"reputation":1623,"user_id":4336535,"accept_rate":70,"display_name":"biv"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1703,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1643668197,"creation_date":1446365803,"question_id":33460365,"body_markdown":"Now I  am using adopted code from  [Dummy’s guide to drawing raw images in Java 2D][1]\r\nAnd I gets 240 FPS, for 800x600 window, on  Debian i386  with Oracle JVM, Nvidia 8600 GTS, Intel Core 2Duo 2.6 GHz.\r\n\r\nIs exist faster way? My code:\r\n\r\n    import java.awt.Graphics;\r\n    import java.awt.event.*;\r\n    import java.awt.image.*;\r\n    import javax.swing.*;\r\n    \r\n    public class TestFillRasterRate\r\n    {\r\n        static class MyFrame extends JFrame\r\n        {\r\n    \t  long framesDrawed;\r\n    \t  int col=0;\r\n    \r\n    \t  int w, h;\r\n    \t  int[] raster;\r\n    \t  ColorModel cm;\r\n    \t  DataBuffer buffer;\r\n    \t  SampleModel sm;\r\n    \t  WritableRaster wrRaster;\r\n    \t  BufferedImage backBuffer;\r\n    \r\n    \t  //@Override public void paint(Graphics g)\r\n    \t  public void draw(Graphics g)\r\n    \t  {\r\n    \t\t// reinitialize all if resized\r\n    \t\tif( w!=getWidth() || h!=getHeight() )\r\n    \t\t{\r\n    \t\t    w = getWidth();\r\n    \t\t    h = getHeight();\r\n    \r\n    \t\t    raster = new int[w*h];\r\n    \r\n    \t\t    cm = new DirectColorModel(24, 255, 255&lt;&lt;8, 255&lt;&lt;16);\r\n    \t\t    buffer = new DataBufferInt(raster, raster.length);\r\n    \t\t    sm = cm.createCompatibleSampleModel(w,h);\r\n    \t\t    wrRaster = Raster.createWritableRaster(sm, buffer, null);\r\n    \t\t    backBuffer = new BufferedImage(cm, wrRaster, false, null);\r\n    \t\t}\r\n    \r\n    \t\t// produce raster\r\n    \t\tfor(int ptr=0, x=0; x&lt;w; x++)\r\n    \t\t    for(int y=0; y&lt;h; y++)\r\n    \t\t\t  raster[ptr++] = col++;\r\n    \r\n    \t\t// draw raster\r\n    \t\tg.drawImage(backBuffer,  0,0, null);\r\n    \t\t++framesDrawed;\r\n    \t\t\r\n    \t\t/**\r\n    \t\tSwingUtilities.invokeLater(new Runnable()\r\n    \t\t{   @Override   public void run()\r\n    \t\t    {\t  repaint();\r\n    \t\t    }\r\n    \t\t});/**/\r\n    \t  }\r\n        }\r\n        \r\n        public static void main(String[] args)\r\n        {\r\n    \t  final MyFrame frame = new MyFrame();\r\n    \t \r\n            frame.setSize(800, 600);\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            frame.setVisible(true);\r\n            \r\n            // draw FPS in title\r\n            new Timer(1000, new ActionListener()\r\n            {   @Override public void actionPerformed(ActionEvent e)\r\n                {   frame.setTitle(Long.toString(frame.framesDrawed));\r\n                    frame.framesDrawed = 0;\r\n                }\r\n            }).start();\r\n    \t  \r\n    \t  /**/\r\n    \t  frame.createBufferStrategy(1);\r\n    \t  BufferStrategy bs = frame.getBufferStrategy();\r\n    \t  Graphics g = bs.getDrawGraphics();\r\n    \t  for(;;)\r\n    \t  \tframe.draw(g);\r\n    \t  /**/\r\n        }\r\n    }\r\n\r\n[![snapshot][2]][2]\r\n\r\n  [1]: http://tech.puredanger.com/2007/10/12/images-java2d/\r\n  [2]: http://i.stack.imgur.com/2bi5S.png","title":"what the fastest way to draw pixels buffer in Java","body":"<p>Now I  am using adopted code from  <a href=\"http://tech.puredanger.com/2007/10/12/images-java2d/\" rel=\"nofollow noreferrer\">Dummy’s guide to drawing raw images in Java 2D</a>\nAnd I gets 240 FPS, for 800x600 window, on  Debian i386  with Oracle JVM, Nvidia 8600 GTS, Intel Core 2Duo 2.6 GHz.</p>\n\n<p>Is exist faster way? My code:</p>\n\n<pre><code>import java.awt.Graphics;\nimport java.awt.event.*;\nimport java.awt.image.*;\nimport javax.swing.*;\n\npublic class TestFillRasterRate\n{\n    static class MyFrame extends JFrame\n    {\n      long framesDrawed;\n      int col=0;\n\n      int w, h;\n      int[] raster;\n      ColorModel cm;\n      DataBuffer buffer;\n      SampleModel sm;\n      WritableRaster wrRaster;\n      BufferedImage backBuffer;\n\n      //@Override public void paint(Graphics g)\n      public void draw(Graphics g)\n      {\n        // reinitialize all if resized\n        if( w!=getWidth() || h!=getHeight() )\n        {\n            w = getWidth();\n            h = getHeight();\n\n            raster = new int[w*h];\n\n            cm = new DirectColorModel(24, 255, 255&lt;&lt;8, 255&lt;&lt;16);\n            buffer = new DataBufferInt(raster, raster.length);\n            sm = cm.createCompatibleSampleModel(w,h);\n            wrRaster = Raster.createWritableRaster(sm, buffer, null);\n            backBuffer = new BufferedImage(cm, wrRaster, false, null);\n        }\n\n        // produce raster\n        for(int ptr=0, x=0; x&lt;w; x++)\n            for(int y=0; y&lt;h; y++)\n              raster[ptr++] = col++;\n\n        // draw raster\n        g.drawImage(backBuffer,  0,0, null);\n        ++framesDrawed;\n\n        /**\n        SwingUtilities.invokeLater(new Runnable()\n        {   @Override   public void run()\n            {     repaint();\n            }\n        });/**/\n      }\n    }\n\n    public static void main(String[] args)\n    {\n      final MyFrame frame = new MyFrame();\n\n        frame.setSize(800, 600);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setVisible(true);\n\n        // draw FPS in title\n        new Timer(1000, new ActionListener()\n        {   @Override public void actionPerformed(ActionEvent e)\n            {   frame.setTitle(Long.toString(frame.framesDrawed));\n                frame.framesDrawed = 0;\n            }\n        }).start();\n\n      /**/\n      frame.createBufferStrategy(1);\n      BufferStrategy bs = frame.getBufferStrategy();\n      Graphics g = bs.getDrawGraphics();\n      for(;;)\n        frame.draw(g);\n      /**/\n    }\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/2bi5S.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2bi5S.png\" alt=\"snapshot\"></a></p>\n"},{"tags":["java","maven","maven-jetty-plugin"],"answers":[{"tags":[],"owner":{"account_id":430512,"reputation":8935,"user_id":813999,"accept_rate":95,"display_name":"Charlee Chitsuk"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1538533249,"creation_date":1538533249,"answer_id":52618834,"question_id":52607814,"body_markdown":"Regarding to the [Using Extensions][1] and [Core Classloader][2], we are able to override the `${maven.home}/lib` by defining the `extensions` at our `pom.xml` as the following: -\r\n\r\n### pom.xml\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n\r\n    &lt;build&gt;\r\n        &lt;extensions&gt;\r\n            &lt;extension&gt;\r\n                &lt;groupId&gt;javax.annotation&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\r\n                &lt;version&gt;1.3.2&lt;/version&gt;\r\n            &lt;/extension&gt;\r\n            &lt;extension&gt;\r\n                &lt;groupId&gt;javax.annotation&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jsr250-api&lt;/artifactId&gt;\r\n                &lt;version&gt;1.0&lt;/version&gt;\r\n            &lt;/extension&gt;\r\n        &lt;/extensions&gt;\r\n    &lt;/build&gt;\r\n\r\nWhen executing the `mvn -e -X clean test`, it give us the following: -\r\n\r\n\r\n&lt;!-- language: bsh --&gt;\r\n\r\n    [DEBUG] javax.annotation:javax.annotation-api:jar:1.3.2:\r\n    [DEBUG]    org.codehaus.plexus:plexus-utils:jar:1.1:runtime\r\n    [DEBUG] Created new class realm extension&gt;\r\n            javax.annotation:javax.annotation-api:1.3.2\r\n    [DEBUG] Importing foreign packages into class realm extension&gt;\r\n            javax.annotation:javax.annotation-api:1.3.2\r\n    [DEBUG]   Imported:  &lt; maven.api\r\n    [DEBUG] Populating class realm extension&gt;\r\n            javax.annotation:javax.annotation-api:1.3.2\r\n    [DEBUG]   Included: javax.annotation:javax.annotation-api:jar:1.3.2\r\n    [DEBUG]   Included: org.codehaus.plexus:plexus-utils:jar:1.1\r\n    [DEBUG] Dependency collection stats: {...}\r\n    [DEBUG] javax.annotation:jsr250-api:jar:1.0:\r\n    [DEBUG]    org.codehaus.plexus:plexus-utils:jar:1.1:runtime\r\n    [DEBUG] Created new class realm extension&gt;\r\n            javax.annotation:jsr250-api:1.0\r\n    [DEBUG] Importing foreign packages into class realm extension&gt;\r\n            javax.annotation:jsr250-api:1.0\r\n    [DEBUG]   Imported:  &lt; maven.api\r\n    [DEBUG] Populating class realm extension&gt;\r\n            javax.annotation:jsr250-api:1.0\r\n\r\n    ....\r\n\r\n    [DEBUG] Extension realms for project some-group:some-artifact:some-packing:some-version : \r\n        [ClassRealm[extension&gt;javax.annotation:javax.annotation-api:1.3.2, \r\n                    parent: sun.misc.Launcher$AppClassLoader@5c647e05], \r\n         ClassRealm[extension&gt;javax.annotation:jsr250-api:1.0, \r\n                    parent: sun.misc.Launcher$AppClassLoader@5c647e05]]\r\n    [DEBUG] Created new class realm project&gt;some-group:some-artifact:some-version\r\n    [DEBUG] Populating class realm project&gt;some-group:some-artifact:some-version\r\n    [DEBUG]   Included: javax.annotation:javax.annotation-api:jar:1.3.2\r\n    [DEBUG] Looking up lifecycle mappings for packaging war from \r\n        ClassRealm[project&gt;some-group:some-artifact:some-version,\r\n                  parent: ClassRealm[maven.api, parent: null]]  \r\n\r\n\r\n### Note\r\nI cannot get rid of the `javax.annotation:jsr250-api:1.0`, then I put it after the `javax.annotation:javax.annotation-api:1.3.2` so that it will be far from the classpath and ensure that the `javax.annotation:javax.annotation-api:1.3.2` will be used first.\r\n\r\n  [1]: https://maven.apache.org/guides/mini/guide-using-extensions.html\r\n  [2]: https://maven.apache.org/guides/mini/guide-maven-classloading.html#Core_Classloader","title":"How to remove a maven lib (jsr250-api-1.0.jar) from the plugin classpath (jetty:run)?","body":"<p>Regarding to the <a href=\"https://maven.apache.org/guides/mini/guide-using-extensions.html\" rel=\"noreferrer\">Using Extensions</a> and <a href=\"https://maven.apache.org/guides/mini/guide-maven-classloading.html#Core_Classloader\" rel=\"noreferrer\">Core Classloader</a>, we are able to override the <code>${maven.home}/lib</code> by defining the <code>extensions</code> at our <code>pom.xml</code> as the following: -</p>\n\n<h3>pom.xml</h3>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;build&gt;\n    &lt;extensions&gt;\n        &lt;extension&gt;\n            &lt;groupId&gt;javax.annotation&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\n            &lt;version&gt;1.3.2&lt;/version&gt;\n        &lt;/extension&gt;\n        &lt;extension&gt;\n            &lt;groupId&gt;javax.annotation&lt;/groupId&gt;\n            &lt;artifactId&gt;jsr250-api&lt;/artifactId&gt;\n            &lt;version&gt;1.0&lt;/version&gt;\n        &lt;/extension&gt;\n    &lt;/extensions&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>When executing the <code>mvn -e -X clean test</code>, it give us the following: -</p>\n\n<pre><code>[DEBUG] javax.annotation:javax.annotation-api:jar:1.3.2:\n[DEBUG]    org.codehaus.plexus:plexus-utils:jar:1.1:runtime\n[DEBUG] Created new class realm extension&gt;\n        javax.annotation:javax.annotation-api:1.3.2\n[DEBUG] Importing foreign packages into class realm extension&gt;\n        javax.annotation:javax.annotation-api:1.3.2\n[DEBUG]   Imported:  &lt; maven.api\n[DEBUG] Populating class realm extension&gt;\n        javax.annotation:javax.annotation-api:1.3.2\n[DEBUG]   Included: javax.annotation:javax.annotation-api:jar:1.3.2\n[DEBUG]   Included: org.codehaus.plexus:plexus-utils:jar:1.1\n[DEBUG] Dependency collection stats: {...}\n[DEBUG] javax.annotation:jsr250-api:jar:1.0:\n[DEBUG]    org.codehaus.plexus:plexus-utils:jar:1.1:runtime\n[DEBUG] Created new class realm extension&gt;\n        javax.annotation:jsr250-api:1.0\n[DEBUG] Importing foreign packages into class realm extension&gt;\n        javax.annotation:jsr250-api:1.0\n[DEBUG]   Imported:  &lt; maven.api\n[DEBUG] Populating class realm extension&gt;\n        javax.annotation:jsr250-api:1.0\n\n....\n\n[DEBUG] Extension realms for project some-group:some-artifact:some-packing:some-version : \n    [ClassRealm[extension&gt;javax.annotation:javax.annotation-api:1.3.2, \n                parent: sun.misc.Launcher$AppClassLoader@5c647e05], \n     ClassRealm[extension&gt;javax.annotation:jsr250-api:1.0, \n                parent: sun.misc.Launcher$AppClassLoader@5c647e05]]\n[DEBUG] Created new class realm project&gt;some-group:some-artifact:some-version\n[DEBUG] Populating class realm project&gt;some-group:some-artifact:some-version\n[DEBUG]   Included: javax.annotation:javax.annotation-api:jar:1.3.2\n[DEBUG] Looking up lifecycle mappings for packaging war from \n    ClassRealm[project&gt;some-group:some-artifact:some-version,\n              parent: ClassRealm[maven.api, parent: null]]  \n</code></pre>\n\n<h3>Note</h3>\n\n<p>I cannot get rid of the <code>javax.annotation:jsr250-api:1.0</code>, then I put it after the <code>javax.annotation:javax.annotation-api:1.3.2</code> so that it will be far from the classpath and ensure that the <code>javax.annotation:javax.annotation-api:1.3.2</code> will be used first.</p>\n"},{"tags":[],"owner":{"account_id":96269,"reputation":2290,"user_id":261734,"display_name":"Olivier Lamy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643668184,"creation_date":1643668184,"answer_id":70933592,"question_id":52607814,"body_markdown":"please note it&#39;s not anymore an issue with Maven 3.8.3+","title":"How to remove a maven lib (jsr250-api-1.0.jar) from the plugin classpath (jetty:run)?","body":"<p>please note it's not anymore an issue with Maven 3.8.3+</p>\n"}],"owner":{"account_id":69219,"reputation":5340,"user_id":201557,"display_name":"Thierry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3031,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":52618834,"answer_count":2,"score":6,"last_activity_date":1643668184,"creation_date":1538481280,"question_id":52607814,"body_markdown":"I&#39;m working on migrating our projects from java 8 to 11.\r\n\r\nAs a first step, i&#39;m compiling it with source and target compatibility 1.8, but trying to run the application over the openjdk-11.\r\n\r\nDuring development, we are using the jetty:run goal to start the application server. This goal is failing with this error : \r\n\r\n    Caused by: java.lang.NoSuchMethodError: javax.annotation.Resource.lookup()Ljava/lang/String;\r\n\t    at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor$ResourceElement.&lt;init&gt;(CommonAnnotationBeanPostProcessor.java:621) ~[spring-context-5.1.0.RELEASE.jar:5.1.0.RELEASE]\r\n\t    at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.lambda$buildResourceMetadata$0(CommonAnnotationBeanPostProcessor.java:383) ~[spring-context-5.1.0.RELEASE.jar:5.1.0.RELEASE]\r\n\t    at org.springframework.util.ReflectionUtils.doWithLocalFields(ReflectionUtils.java:713) ~[spring-core-5.1.0.RELEASE.jar:5.1.0.RELEASE]\r\n\t    at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.buildResourceMetadata(CommonAnnotationBeanPostProcessor.java:365) ~[spring-context-5.1.0.RELEASE.jar:5.1.0.RELEASE]\r\n\t    at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.findResourceMetadata(CommonAnnotationBeanPostProcessor.java:350) ~[spring-context-5.1.0.RELEASE.jar:5.1.0.RELEASE]\r\n\t    at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.postProcessMergedBeanDefinition(CommonAnnotationBeanPostProcessor.java:298) ~[spring-context-5.1.0.RELEASE.jar:5.1.0.RELEASE]\r\n\t    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyMergedBeanDefinitionPostProcessors(AbstractAutowireCapableBeanFactory.java:1043) ~[spring-beans-5.1.0.RELEASE.jar:5.1.0.RELEASE]\r\n\t    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:550) ~[spring-beans-5.1.0.RELEASE.jar:5.1.0.RELEASE]\r\n\t... 63 more\r\n\r\nI&#39;ve located where the wrong version of the `@Resource` annotation comes from : \r\n\r\n    URL [jar:file:[...]/.m2/repository/javax/annotation/javax.annotation-api/1.3.2/javax.annotation-api-1.3.2.jar!/javax/annotation/Resource.class]\r\n    URL [jar:file:[...]/Applications/apache-maven-3.5.4/lib/jsr250-api-1.0.jar!/javax/annotation/Resource.class]\r\n\r\nIt seems maven is putting on the plugin classpath all the libs it has on its /lib/ folder\r\n\r\nI guess that when i was running it over jdk 1.8, the `@Resource` annotation from the jdk had precedence (as i nver saw this error ever), but it is not anymore the case (as this annotation is not included anymore in jdk11).\r\n\r\nWhat are my options to get rid of this old class ?\r\n\r\n(i could upgrade the lib from the maven installation, but i&#39;d prefer to keep that as a last resort, it would require that everybody working on the project tweak its maven installation).\r\n\r\nEDIT: the jetty:run-forked goal is also working fine, but with this goal, i can&#39;t keep the `&lt;webApp&gt;` configuration section of the plugin.\r\n\r\nIt really seems to be a maven classpath isolation issue.","title":"How to remove a maven lib (jsr250-api-1.0.jar) from the plugin classpath (jetty:run)?","body":"<p>I'm working on migrating our projects from java 8 to 11.</p>\n\n<p>As a first step, i'm compiling it with source and target compatibility 1.8, but trying to run the application over the openjdk-11.</p>\n\n<p>During development, we are using the jetty:run goal to start the application server. This goal is failing with this error : </p>\n\n<pre><code>Caused by: java.lang.NoSuchMethodError: javax.annotation.Resource.lookup()Ljava/lang/String;\n    at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor$ResourceElement.&lt;init&gt;(CommonAnnotationBeanPostProcessor.java:621) ~[spring-context-5.1.0.RELEASE.jar:5.1.0.RELEASE]\n    at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.lambda$buildResourceMetadata$0(CommonAnnotationBeanPostProcessor.java:383) ~[spring-context-5.1.0.RELEASE.jar:5.1.0.RELEASE]\n    at org.springframework.util.ReflectionUtils.doWithLocalFields(ReflectionUtils.java:713) ~[spring-core-5.1.0.RELEASE.jar:5.1.0.RELEASE]\n    at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.buildResourceMetadata(CommonAnnotationBeanPostProcessor.java:365) ~[spring-context-5.1.0.RELEASE.jar:5.1.0.RELEASE]\n    at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.findResourceMetadata(CommonAnnotationBeanPostProcessor.java:350) ~[spring-context-5.1.0.RELEASE.jar:5.1.0.RELEASE]\n    at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.postProcessMergedBeanDefinition(CommonAnnotationBeanPostProcessor.java:298) ~[spring-context-5.1.0.RELEASE.jar:5.1.0.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyMergedBeanDefinitionPostProcessors(AbstractAutowireCapableBeanFactory.java:1043) ~[spring-beans-5.1.0.RELEASE.jar:5.1.0.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:550) ~[spring-beans-5.1.0.RELEASE.jar:5.1.0.RELEASE]\n... 63 more\n</code></pre>\n\n<p>I've located where the wrong version of the <code>@Resource</code> annotation comes from : </p>\n\n<pre><code>URL [jar:file:[...]/.m2/repository/javax/annotation/javax.annotation-api/1.3.2/javax.annotation-api-1.3.2.jar!/javax/annotation/Resource.class]\nURL [jar:file:[...]/Applications/apache-maven-3.5.4/lib/jsr250-api-1.0.jar!/javax/annotation/Resource.class]\n</code></pre>\n\n<p>It seems maven is putting on the plugin classpath all the libs it has on its /lib/ folder</p>\n\n<p>I guess that when i was running it over jdk 1.8, the <code>@Resource</code> annotation from the jdk had precedence (as i nver saw this error ever), but it is not anymore the case (as this annotation is not included anymore in jdk11).</p>\n\n<p>What are my options to get rid of this old class ?</p>\n\n<p>(i could upgrade the lib from the maven installation, but i'd prefer to keep that as a last resort, it would require that everybody working on the project tweak its maven installation).</p>\n\n<p>EDIT: the jetty:run-forked goal is also working fine, but with this goal, i can't keep the <code>&lt;webApp&gt;</code> configuration section of the plugin.</p>\n\n<p>It really seems to be a maven classpath isolation issue.</p>\n"},{"tags":["java","intellij-idea","java-8"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1643667675,"post_id":70933452,"comment_id":125397401,"body_markdown":"This works for me in Intellij IDEA. By the way src/main/resources/org/files/input.txt would be a better place to put your file.","body":"This works for me in Intellij IDEA. By the way src/main/resources/org/files/input.txt would be a better place to put your file."},{"owner":{"account_id":3237953,"reputation":402,"user_id":7711999,"accept_rate":90,"display_name":"user2731629"},"score":0,"creation_date":1643667846,"post_id":70933452,"comment_id":125397440,"body_markdown":"I understand we need to put the file file under resource. But for some reason, I need to read a file from the other package.  The same project structure is printing &quot;Resource Found!!&quot; for you ? or you placed a file under resource and ran ?","body":"I understand we need to put the file file under resource. But for some reason, I need to read a file from the other package.  The same project structure is printing &quot;Resource Found!!&quot; for you ? or you placed a file under resource and ran ?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1643667945,"post_id":70933452,"comment_id":125397471,"body_markdown":"Yes, it works for me. You&#39;re certain your code is exactly the same? If you missed the leading `/` it wouldn&#39;t work.","body":"Yes, it works for me. You&#39;re certain your code is exactly the same? If you missed the leading <code>&#47;</code> it wouldn&#39;t work."},{"owner":{"account_id":3237953,"reputation":402,"user_id":7711999,"accept_rate":90,"display_name":"user2731629"},"score":0,"creation_date":1643668471,"post_id":70933452,"comment_id":125397638,"body_markdown":"Yes its same.. I am trying in different machine now and report","body":"Yes its same.. I am trying in different machine now and report"},{"owner":{"account_id":3237953,"reputation":402,"user_id":7711999,"accept_rate":90,"display_name":"user2731629"},"score":0,"creation_date":1643668863,"post_id":70933452,"comment_id":125397747,"body_markdown":"It didnt work for me in different machine as well. Same result. @tgdavies","body":"It didnt work for me in different machine as well. Same result. @tgdavies"}],"owner":{"account_id":3237953,"reputation":402,"user_id":7711999,"accept_rate":90,"display_name":"user2731629"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643667905,"creation_date":1643667172,"question_id":70933452,"body_markdown":"I am using Intellij Idea - 2021.2.4 and Java 8.\r\nIn Intellij, I am not able to read a file in another package in the same module.  The file is under main and not resource folder. But in Eclipse, I am able to read.\r\n\r\nFor example.  Below code prints different outputs in both eclipse and intellij.\r\n\r\n    import java.net.URL;\r\n    \r\n    public class TestMain {\r\n        public static void main(String[] args) {\r\n            URL resource = TestMain.class.getResource(&quot;/org/files/input.txt&quot;);\r\n            if(resource == null) {\r\n                System.out.println(&quot;Resource is null&quot;);\r\n            } else {\r\n                System.out.println(&quot;Resource found!!&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIn Intellij, the code prints &quot;Resource is null&quot;, but in eclipse, the code prints &quot;Resource found!!&quot;.\r\n\r\nIs there any setting I need to enable/disable in intellij ? Why code is behaving different in Intellij Idea ?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YYDGz.png","title":"Not able to read a file from other package in the same module","body":"<p>I am using Intellij Idea - 2021.2.4 and Java 8.\nIn Intellij, I am not able to read a file in another package in the same module.  The file is under main and not resource folder. But in Eclipse, I am able to read.</p>\n<p>For example.  Below code prints different outputs in both eclipse and intellij.</p>\n<pre><code>import java.net.URL;\n\npublic class TestMain {\n    public static void main(String[] args) {\n        URL resource = TestMain.class.getResource(&quot;/org/files/input.txt&quot;);\n        if(resource == null) {\n            System.out.println(&quot;Resource is null&quot;);\n        } else {\n            System.out.println(&quot;Resource found!!&quot;);\n        }\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/YYDGz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YYDGz.png\" alt=\"enter image description here\" /></a></p>\n<p>In Intellij, the code prints &quot;Resource is null&quot;, but in eclipse, the code prints &quot;Resource found!!&quot;.</p>\n<p>Is there any setting I need to enable/disable in intellij ? Why code is behaving different in Intellij Idea ?</p>\n"},{"tags":["java","spring","dependency-injection","junit5"],"answers":[{"tags":[],"owner":{"account_id":17986970,"reputation":36,"user_id":13072028,"display_name":"mzlnk"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1643666975,"creation_date":1643666975,"answer_id":70933422,"question_id":70933085,"body_markdown":"`restTemplate.getForObject()` method has multiple set of parameters which can be invoked with:\r\n- `restTemplate.getForObject(String url, Class&lt;T&gt; responseType, Object... uriVariables)`\r\n- `restTemplate.getForObject(String url, Class&lt;T&gt; responseType, Map&lt;String, ?&gt; uriVariables)`\r\n- `restTemplate.getForObject(URI url, Class&lt;T&gt; responseType)`\r\n\r\nso you have probably mocked another method call by providing the widest matchers (`Mockito.any()`). I suggest you to try mock the `restTemplate.getForObject()` method call by providing more specific matchers, like for example:\r\n```java\r\nMockito.when(restTemplate.getForObject(Mockito.anyString(), Mockito.any())).thenReturn(response);\r\n```\r\n\r\nand the test should pass successfully.\r\n\r\nAdditionally, you can use just Mockito and DI to make unit tests for the the service instead of setting up the whole Spring application context (done by `@SpringBootTest` annotation). It is not necessary here and it only make the tests last much longer. Here is the alternative way to implement your test:\r\n\r\n```lang-java\r\nclass ServiceTest {\r\n\r\n    private RestTemplate restTemplate;\r\n    private MyService service;\r\n\r\n    @BeforeEach\r\n    void init() {\r\n        final ShopProductsResponse response = new ShopProductsResponse();\r\n        response.setProducts(new Product[0]);\r\n\r\n        this.restTemplate = Mockito.mock(RestTemplate.class);\r\n        Mockito.when(this.restTemplate.getForObject(Mockito.anyString(), Mockito.any())).thenReturn(response);\r\n\r\n        this.service = new ServiceImpl(restTemplate);\r\n    }\r\n\r\n    @Test\r\n    void test() {\r\n        final String expectation = &quot;Found 0 products&quot;;\r\n\r\n        String result = service.serve();\r\n\r\n        Mockito.verify(restTemplate, Mockito.times(1)).getForObject(\r\n                ArgumentMatchers.eq(&quot;https://api.predic8.de/shop/products/&quot;),\r\n                ArgumentMatchers.eq(ShopProductsResponse.class)\r\n        );\r\n\r\n        Assertions.assertEquals(expectation, result);\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n","title":"How to test a Java/Spring service using RestTemplate without calling external API and by using Dependency Injection?","body":"<p><code>restTemplate.getForObject()</code> method has multiple set of parameters which can be invoked with:</p>\n<ul>\n<li><code>restTemplate.getForObject(String url, Class&lt;T&gt; responseType, Object... uriVariables)</code></li>\n<li><code>restTemplate.getForObject(String url, Class&lt;T&gt; responseType, Map&lt;String, ?&gt; uriVariables)</code></li>\n<li><code>restTemplate.getForObject(URI url, Class&lt;T&gt; responseType)</code></li>\n</ul>\n<p>so you have probably mocked another method call by providing the widest matchers (<code>Mockito.any()</code>). I suggest you to try mock the <code>restTemplate.getForObject()</code> method call by providing more specific matchers, like for example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Mockito.when(restTemplate.getForObject(Mockito.anyString(), Mockito.any())).thenReturn(response);\n</code></pre>\n<p>and the test should pass successfully.</p>\n<p>Additionally, you can use just Mockito and DI to make unit tests for the the service instead of setting up the whole Spring application context (done by <code>@SpringBootTest</code> annotation). It is not necessary here and it only make the tests last much longer. Here is the alternative way to implement your test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class ServiceTest {\n\n    private RestTemplate restTemplate;\n    private MyService service;\n\n    @BeforeEach\n    void init() {\n        final ShopProductsResponse response = new ShopProductsResponse();\n        response.setProducts(new Product[0]);\n\n        this.restTemplate = Mockito.mock(RestTemplate.class);\n        Mockito.when(this.restTemplate.getForObject(Mockito.anyString(), Mockito.any())).thenReturn(response);\n\n        this.service = new ServiceImpl(restTemplate);\n    }\n\n    @Test\n    void test() {\n        final String expectation = &quot;Found 0 products&quot;;\n\n        String result = service.serve();\n\n        Mockito.verify(restTemplate, Mockito.times(1)).getForObject(\n                ArgumentMatchers.eq(&quot;https://api.predic8.de/shop/products/&quot;),\n                ArgumentMatchers.eq(ShopProductsResponse.class)\n        );\n\n        Assertions.assertEquals(expectation, result);\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":3664935,"reputation":45,"user_id":3053661,"display_name":"rjw"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":802,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70933422,"answer_count":1,"score":0,"last_activity_date":1643666975,"creation_date":1643664857,"question_id":70933085,"body_markdown":"In my Spring application, i have a service `MyService`. `MyService` calls an external API, counts the products there and returns the result. To call that API it uses the Spring module `RestTemplate`. To inject the `RestTemplate` it is configured as `@Bean` in the `DependencyConfig`:\r\n\r\n```lang-java\r\n@Service\r\npublic class ServiceImpl implements MyService {\r\n\r\n    private final RestTemplate restTemplate;\r\n\r\n    public ServiceImpl(RestTemplate restTemplate) {\r\n        this.restTemplate = restTemplate;\r\n    }\r\n\r\n    @Override\r\n    public String serve() {\r\n        ShopProductsResponse result = restTemplate.getForObject(\r\n                &quot;https://api.predic8.de/shop/products/&quot;,\r\n                ShopProductsResponse.class\r\n        );\r\n\r\n        if (result == null) {\r\n            return &quot;Error occurred&quot;;\r\n        }\r\n\r\n        return String.format(&quot;Found %s products&quot;, result.getProducts().length);\r\n    }\r\n}\r\n```\r\nNow i want to test it, without calling the external API. So i inject the `MyService` via `@Autowired` and the `RestTemplate` via `@MockBean`. To define the result of `restTemplate.getForObject(...)` i use the `Mockito.when(...).thenReturn(...)` method to mock the result:\r\n```lang-java\r\n@SpringBootTest\r\nclass ServiceTest {\r\n\r\n    @MockBean\r\n    private RestTemplate restTemplate;\r\n\r\n    @Autowired\r\n    private MyService service;\r\n\r\n    @BeforeEach\r\n    void init() {\r\n        final ShopProductsResponse response = new ShopProductsResponse();\r\n        response.setProducts(new Product[0]);\r\n\r\n        Mockito.when(restTemplate.getForObject(Mockito.any(), Mockito.any())).thenReturn(response);\r\n    }\r\n\r\n    @Test\r\n    void test() {\r\n        final String expectation = &quot;Found 0 products&quot;;\r\n\r\n        String result = service.serve();\r\n\r\n        Mockito.verify(restTemplate, Mockito.times(1)).getForObject(\r\n                ArgumentMatchers.eq(&quot;https://api.predic8.de/shop/products/&quot;),\r\n                ArgumentMatchers.eq(ShopProductsResponse.class)\r\n        );\r\n\r\n        Assertions.assertEquals(expectation, result);\r\n    }\r\n\r\n}\r\n```\r\nProblem is, that the result from `restTemplate.getForObject(...)` is null, so that the test fails with the message\r\n```\r\norg.opentest4j.AssertionFailedError: \r\nExpected :Found 0 products\r\nActual   :Error occurred\r\n```\r\nSo my question is, what am i doing wrong? I thought i am telling the mock what to return. How would i do it correct?\r\n\r\nIf someone wants to try it out i pushed the example project to Github: https://github.com/roman-wedemeier/spring_example\r\n\r\nTrying to find an answer in the net it was quite confusing to me, that there are different versions of Junit(4/5). Also somewhere i found a tutorial about mocking the service directly, which is not what i want to do. On the other hand someone explained how to mock the service&#39;s dependency but without using Spring&#39;s dependency injection.","title":"How to test a Java/Spring service using RestTemplate without calling external API and by using Dependency Injection?","body":"<p>In my Spring application, i have a service <code>MyService</code>. <code>MyService</code> calls an external API, counts the products there and returns the result. To call that API it uses the Spring module <code>RestTemplate</code>. To inject the <code>RestTemplate</code> it is configured as <code>@Bean</code> in the <code>DependencyConfig</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class ServiceImpl implements MyService {\n\n    private final RestTemplate restTemplate;\n\n    public ServiceImpl(RestTemplate restTemplate) {\n        this.restTemplate = restTemplate;\n    }\n\n    @Override\n    public String serve() {\n        ShopProductsResponse result = restTemplate.getForObject(\n                &quot;https://api.predic8.de/shop/products/&quot;,\n                ShopProductsResponse.class\n        );\n\n        if (result == null) {\n            return &quot;Error occurred&quot;;\n        }\n\n        return String.format(&quot;Found %s products&quot;, result.getProducts().length);\n    }\n}\n</code></pre>\n<p>Now i want to test it, without calling the external API. So i inject the <code>MyService</code> via <code>@Autowired</code> and the <code>RestTemplate</code> via <code>@MockBean</code>. To define the result of <code>restTemplate.getForObject(...)</code> i use the <code>Mockito.when(...).thenReturn(...)</code> method to mock the result:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest\nclass ServiceTest {\n\n    @MockBean\n    private RestTemplate restTemplate;\n\n    @Autowired\n    private MyService service;\n\n    @BeforeEach\n    void init() {\n        final ShopProductsResponse response = new ShopProductsResponse();\n        response.setProducts(new Product[0]);\n\n        Mockito.when(restTemplate.getForObject(Mockito.any(), Mockito.any())).thenReturn(response);\n    }\n\n    @Test\n    void test() {\n        final String expectation = &quot;Found 0 products&quot;;\n\n        String result = service.serve();\n\n        Mockito.verify(restTemplate, Mockito.times(1)).getForObject(\n                ArgumentMatchers.eq(&quot;https://api.predic8.de/shop/products/&quot;),\n                ArgumentMatchers.eq(ShopProductsResponse.class)\n        );\n\n        Assertions.assertEquals(expectation, result);\n    }\n\n}\n</code></pre>\n<p>Problem is, that the result from <code>restTemplate.getForObject(...)</code> is null, so that the test fails with the message</p>\n<pre><code>org.opentest4j.AssertionFailedError: \nExpected :Found 0 products\nActual   :Error occurred\n</code></pre>\n<p>So my question is, what am i doing wrong? I thought i am telling the mock what to return. How would i do it correct?</p>\n<p>If someone wants to try it out i pushed the example project to Github: <a href=\"https://github.com/roman-wedemeier/spring_example\" rel=\"nofollow noreferrer\">https://github.com/roman-wedemeier/spring_example</a></p>\n<p>Trying to find an answer in the net it was quite confusing to me, that there are different versions of Junit(4/5). Also somewhere i found a tutorial about mocking the service directly, which is not what i want to do. On the other hand someone explained how to mock the service's dependency but without using Spring's dependency injection.</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":3821889,"reputation":586,"user_id":3169795,"display_name":"chutcher"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643666711,"creation_date":1643666711,"answer_id":70933373,"question_id":70932380,"body_markdown":"I figured out a way to do what I was ultimately attempting to accomplish by removing the qualifiers and using inheritance.\r\n\r\n```\r\ninterface BaseFoo {\r\n  public void fooToYou();\r\n}\r\n\r\ninterface Foo1 extends BaseFoo {}\r\ninterface Foo2 extends BaseFoo {}\r\n\r\n@Profile(&quot;!dev&quot;)\r\nclass FooImpl1 implements Foo1 {\r\n  @Override\r\n  public void fooToYou() {}\r\n}\r\n\r\n@Profile(&quot;!dev&quot;)\r\nclass FooImpl2 implements Foo2 {\r\n  @Override\r\n  public void fooToYou() {}\r\n}\r\n\r\nclass BaseDevFooImpl implements BaseFoo {\r\n  @Override\r\n  public void fooToYou() {}\r\n}\r\n\r\n@Profile(&quot;dev&quot;)\r\nclass DevFooImpl1 extends BaseDevFooImpl implements Foo1 {}\r\n\r\n@Profile(&quot;dev&quot;)\r\nclass DevFooImpl2 extends BaseDevFooImpl implements Foo2 {}\r\n\r\nclass Service1 {\r\n  @Autowired\r\n  public void Service1(Foo1 foo) {}\r\n}\r\n\r\nclass Service2 {\r\n  @Autowired\r\n  public void Service1(Foo2 foo) {}\r\n}\r\n```","title":"Spring Boot - Using Qualifiers with Profiles","body":"<p>I figured out a way to do what I was ultimately attempting to accomplish by removing the qualifiers and using inheritance.</p>\n<pre><code>interface BaseFoo {\n  public void fooToYou();\n}\n\ninterface Foo1 extends BaseFoo {}\ninterface Foo2 extends BaseFoo {}\n\n@Profile(&quot;!dev&quot;)\nclass FooImpl1 implements Foo1 {\n  @Override\n  public void fooToYou() {}\n}\n\n@Profile(&quot;!dev&quot;)\nclass FooImpl2 implements Foo2 {\n  @Override\n  public void fooToYou() {}\n}\n\nclass BaseDevFooImpl implements BaseFoo {\n  @Override\n  public void fooToYou() {}\n}\n\n@Profile(&quot;dev&quot;)\nclass DevFooImpl1 extends BaseDevFooImpl implements Foo1 {}\n\n@Profile(&quot;dev&quot;)\nclass DevFooImpl2 extends BaseDevFooImpl implements Foo2 {}\n\nclass Service1 {\n  @Autowired\n  public void Service1(Foo1 foo) {}\n}\n\nclass Service2 {\n  @Autowired\n  public void Service1(Foo2 foo) {}\n}\n</code></pre>\n"}],"owner":{"account_id":3821889,"reputation":586,"user_id":3169795,"display_name":"chutcher"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643666711,"creation_date":1643660639,"question_id":70932380,"body_markdown":"I have the following which uses qualifiers and the profile `dev`.  When `!dev` `Service1` will use `FooImpl1` based on the qualifier and `Service2` will use `FooImpl2`.  When the the profile is `dev` I want both services to use `FooImpl3`.  How can I accomplish that?\r\n\r\n```\r\ninterface Foo {\r\n  public void fooToYou();\r\n}\r\n\r\n@Component(&quot;fooImpl1&quot;)\r\n@Profile(&quot;!dev&quot;)\r\npublic class FooImpl1 implements Foo {\r\n  @Override\r\n  public void fooToYou() {}\r\n}\r\n\r\n@Component(&quot;fooImpl2&quot;)\r\n@Profile(&quot;!dev&quot;)\r\npublic class FooImpl2 implements Foo {\r\n  @Override\r\n  public void fooToYou() {}\r\n}\r\n\r\n@Component(&quot;fooImpl3&quot;)\r\n@Profile(&quot;dev&quot;)\r\npublic class FooImpl3 implements Foo {\r\n  @Override\r\n  public void fooToYou() {}\r\n}\r\n\r\npublic class Service1 {\r\n  @Autowired\r\n  public void Service1(@Qualifier(&quot;fooImpl1&quot;) Foo foo) {}\r\n}\r\n\r\npublic class Service2 {\r\n  @Autowired\r\n  public void Service1(@Qualifier(&quot;fooImpl2&quot;) Foo foo) {}\r\n}\r\n```","title":"Spring Boot - Using Qualifiers with Profiles","body":"<p>I have the following which uses qualifiers and the profile <code>dev</code>.  When <code>!dev</code> <code>Service1</code> will use <code>FooImpl1</code> based on the qualifier and <code>Service2</code> will use <code>FooImpl2</code>.  When the the profile is <code>dev</code> I want both services to use <code>FooImpl3</code>.  How can I accomplish that?</p>\n<pre><code>interface Foo {\n  public void fooToYou();\n}\n\n@Component(&quot;fooImpl1&quot;)\n@Profile(&quot;!dev&quot;)\npublic class FooImpl1 implements Foo {\n  @Override\n  public void fooToYou() {}\n}\n\n@Component(&quot;fooImpl2&quot;)\n@Profile(&quot;!dev&quot;)\npublic class FooImpl2 implements Foo {\n  @Override\n  public void fooToYou() {}\n}\n\n@Component(&quot;fooImpl3&quot;)\n@Profile(&quot;dev&quot;)\npublic class FooImpl3 implements Foo {\n  @Override\n  public void fooToYou() {}\n}\n\npublic class Service1 {\n  @Autowired\n  public void Service1(@Qualifier(&quot;fooImpl1&quot;) Foo foo) {}\n}\n\npublic class Service2 {\n  @Autowired\n  public void Service1(@Qualifier(&quot;fooImpl2&quot;) Foo foo) {}\n}\n</code></pre>\n"},{"tags":["java","multithreading","parallelstream"],"comments":[{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":4,"creation_date":1643465439,"post_id":70849202,"comment_id":125349345,"body_markdown":"The calls to `map()` are executed sequentially. Using several calls instead of just one won&#39;t improve performance.","body":"The calls to <code>map()</code> are executed sequentially. Using several calls instead of just one won&#39;t improve performance."}],"answers":[{"tags":[],"owner":{"account_id":3921864,"reputation":748,"user_id":3243751,"display_name":"FLUXparticle"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1643530881,"creation_date":1643530881,"answer_id":70913004,"question_id":70849202,"body_markdown":"I looked into the `Stream` source code. The result of a map operation is just fed into the next operation. So there is almost no difference between one big `map()` call or several small `map()` calls.\r\n\r\nAnd for the `map()` operation a parallel `Stream` makes no difference at all. Meaning each input object will be processed until the end by the same `Thread` in any case.\r\n\r\nAlso note: A parallel `Stream` only splits up the work if the operation chain allows it and there is enough data to process. So for a small `Collection` or a `Collection` that allows no random access, a parallel `Stream` behaves like a sequential `Stream`.","title":"Java ParallelStream: several map or single map","body":"<p>I looked into the <code>Stream</code> source code. The result of a map operation is just fed into the next operation. So there is almost no difference between one big <code>map()</code> call or several small <code>map()</code> calls.</p>\n<p>And for the <code>map()</code> operation a parallel <code>Stream</code> makes no difference at all. Meaning each input object will be processed until the end by the same <code>Thread</code> in any case.</p>\n<p>Also note: A parallel <code>Stream</code> only splits up the work if the operation chain allows it and there is enough data to process. So for a small <code>Collection</code> or a <code>Collection</code> that allows no random access, a parallel <code>Stream</code> behaves like a sequential <code>Stream</code>.</p>\n"},{"tags":[],"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1643537854,"creation_date":1643537524,"answer_id":70913668,"question_id":70849202,"body_markdown":"I doubt that there is much different in performance, but even if you proved it did have quicker performance I would still prefer to see and use the first style in code I had to maintain.\r\n\r\nThe first multi-map style is easier for others to understand, it is easier to maintain and easier to debug - for example adding `peek` stages for any stage of the processing chain. \r\n\r\n    List&lt;InsertOneModel&lt;Document&gt;&gt; bulkWrites = puzzles.parallelStream()\r\n        .map(gson::toJson)\r\n        // easy to make changes for debug, moving peek up/down\r\n        // .peek(System.out::println)\r\n        .map(Document::parse)\r\n        // easy to filter:\r\n        // .filter(this::somecondition)\r\n        .map(InsertOneModel::new)\r\n        .toList();\r\n\r\nIf your requirements change - such as needing to filter the output, or capture the intermediate data by splitting to 2 collections, the first approach beats second every time.\r\n","title":"Java ParallelStream: several map or single map","body":"<p>I doubt that there is much different in performance, but even if you proved it did have quicker performance I would still prefer to see and use the first style in code I had to maintain.</p>\n<p>The first multi-map style is easier for others to understand, it is easier to maintain and easier to debug - for example adding <code>peek</code> stages for any stage of the processing chain.</p>\n<pre><code>List&lt;InsertOneModel&lt;Document&gt;&gt; bulkWrites = puzzles.parallelStream()\n    .map(gson::toJson)\n    // easy to make changes for debug, moving peek up/down\n    // .peek(System.out::println)\n    .map(Document::parse)\n    // easy to filter:\n    // .filter(this::somecondition)\n    .map(InsertOneModel::new)\n    .toList();\n</code></pre>\n<p>If your requirements change - such as needing to filter the output, or capture the intermediate data by splitting to 2 collections, the first approach beats second every time.</p>\n"},{"tags":[],"owner":{"account_id":22066749,"reputation":3758,"user_id":16328516,"display_name":"TriS"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1643569618,"creation_date":1643569618,"answer_id":70917981,"question_id":70849202,"body_markdown":"I don&#39;t think it will do any better if you chain it with multiple maps. In case your code is not very complex I would prefer to use a **single big map**. &lt;br/&gt;\r\nTo understand this we have to check the code inside the `map` function. [link][1] \r\n\r\n    public final &lt;R&gt; Stream&lt;R&gt; map(Function&lt;? super P_OUT, ? extends R&gt; mapper) {\r\n        Objects.requireNonNull(mapper);\r\n        return new StatelessOp&lt;P_OUT, R&gt;(this, StreamShape.REFERENCE,\r\n                                     StreamOpFlag.NOT_SORTED | StreamOpFlag.NOT_DISTINCT) {\r\n            @Override\r\n            Sink&lt;P_OUT&gt; opWrapSink(int flags, Sink&lt;R&gt; sink) {\r\n                return new Sink.ChainedReference&lt;P_OUT, R&gt;(sink) {\r\n                    @Override\r\n                    public void accept(P_OUT u) {\r\n                        downstream.accept(mapper.apply(u));\r\n                    }\r\n                };\r\n            }\r\n        };\r\n    }\r\n\r\nAs you can see a lot many things happen behind the scenes. Multiple objects are created and multiple methods are called. Hence, for each chained `map` function call all these are repeated.\r\n\r\nNow coming back to `ParallelStreams`, they work on the concept of [Parallelism][2] .&lt;br/&gt;\r\n[Streams Documentation][3]\r\n\r\n[![enter image description here][4]][4]\r\n&lt;br/&gt;\r\nA parallel stream is a stream that splits its elements into multiple chunks, processing each chunk with a different thread. Thus, you can automatically partition the workload of a given operation on all the cores of your multicore processor and keep all of them equally busy. \r\n\r\n`Parallel` streams internally use the default `ForkJoinPool`, which by default has as many threads as you have processors, as returned by `Runtime.getRuntime().availableProcessors()`. But you can change the size of this pool using the system property `java.util.concurrent.ForkJoinPool.common.parallelism.`&lt;br/&gt;\r\n\r\n`ParallelStream` calls spliterator() on the collection object which returns a [Spliterator][5] implementation that provides the logic of splitting a task. Every source or collection has their own spliterator implementations. Using these spliterators, parallel stream splits the task as long as possible and finally when the task becomes too small it executes it sequentially and merges partial results from all the sub tasks.\r\n\r\nSo I would prefer `parallelStream` when \r\n\r\n - I have huge amount of data to process at a time\r\n - I have multiple cores to process the data\r\n - Performance issues with the existing implementation\r\n - I already don&#39;t have multiple threaded process running, as it will add to the complexity.\r\n\r\nPerformance Implications\r\n\r\n - *Overhead* : Sometimes when dataset is small converting a sequential stream into a parallel one results in worse performance. The overhead of managing `threads`, sources and results is a more expensive operation than doing the actual work.\r\n - *Splitting*: `Arrays` can split cheaply and evenly, while `LinkedList` has none of these properties. `TreeMap` and `HashSet` split better than `LinkedList` but not as well as arrays.\r\n - *Merging*:The merge operation is really cheap for some operations, such as reduction and addition, but merge operations like grouping to sets or maps can be quite expensive.\r\n\r\nConclusion: A large amount of data and many computations done per element indicate that parallelism could be a good option.\r\n\r\n  [1]: https://github.com/AdoptOpenJDK/openjdk-jdk11/blob/master/src/java.base/share/classes/java/util/stream/ReferencePipeline.java#L186\r\n  [2]: https://docs.oracle.com/javase/tutorial/collections/streams/parallelism.html\r\n  [3]: https://cr.openjdk.java.net/~iris/se/12/latestSpec/api/java.base/java/util/stream/package-summary.html\r\n  [4]: https://i.stack.imgur.com/LhSzm.png\r\n  [5]: https://github.com/AdoptOpenJDK/openjdk-jdk11/blob/master/src/java.base/share/classes/java/util/Collection.java#L691","title":"Java ParallelStream: several map or single map","body":"<p>I don't think it will do any better if you chain it with multiple maps. In case your code is not very complex I would prefer to use a <strong>single big map</strong>. <br/>\nTo understand this we have to check the code inside the <code>map</code> function. <a href=\"https://github.com/AdoptOpenJDK/openjdk-jdk11/blob/master/src/java.base/share/classes/java/util/stream/ReferencePipeline.java#L186\" rel=\"nofollow noreferrer\">link</a></p>\n<pre><code>public final &lt;R&gt; Stream&lt;R&gt; map(Function&lt;? super P_OUT, ? extends R&gt; mapper) {\n    Objects.requireNonNull(mapper);\n    return new StatelessOp&lt;P_OUT, R&gt;(this, StreamShape.REFERENCE,\n                                 StreamOpFlag.NOT_SORTED | StreamOpFlag.NOT_DISTINCT) {\n        @Override\n        Sink&lt;P_OUT&gt; opWrapSink(int flags, Sink&lt;R&gt; sink) {\n            return new Sink.ChainedReference&lt;P_OUT, R&gt;(sink) {\n                @Override\n                public void accept(P_OUT u) {\n                    downstream.accept(mapper.apply(u));\n                }\n            };\n        }\n    };\n}\n</code></pre>\n<p>As you can see a lot many things happen behind the scenes. Multiple objects are created and multiple methods are called. Hence, for each chained <code>map</code> function call all these are repeated.</p>\n<p>Now coming back to <code>ParallelStreams</code>, they work on the concept of <a href=\"https://docs.oracle.com/javase/tutorial/collections/streams/parallelism.html\" rel=\"nofollow noreferrer\">Parallelism</a> .<br/>\n<a href=\"https://cr.openjdk.java.net/%7Eiris/se/12/latestSpec/api/java.base/java/util/stream/package-summary.html\" rel=\"nofollow noreferrer\">Streams Documentation</a></p>\n<p><a href=\"https://i.stack.imgur.com/LhSzm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LhSzm.png\" alt=\"enter image description here\" /></a>\n<br/>\nA parallel stream is a stream that splits its elements into multiple chunks, processing each chunk with a different thread. Thus, you can automatically partition the workload of a given operation on all the cores of your multicore processor and keep all of them equally busy.</p>\n<p><code>Parallel</code> streams internally use the default <code>ForkJoinPool</code>, which by default has as many threads as you have processors, as returned by <code>Runtime.getRuntime().availableProcessors()</code>. But you can change the size of this pool using the system property <code>java.util.concurrent.ForkJoinPool.common.parallelism.</code><br/></p>\n<p><code>ParallelStream</code> calls spliterator() on the collection object which returns a <a href=\"https://github.com/AdoptOpenJDK/openjdk-jdk11/blob/master/src/java.base/share/classes/java/util/Collection.java#L691\" rel=\"nofollow noreferrer\">Spliterator</a> implementation that provides the logic of splitting a task. Every source or collection has their own spliterator implementations. Using these spliterators, parallel stream splits the task as long as possible and finally when the task becomes too small it executes it sequentially and merges partial results from all the sub tasks.</p>\n<p>So I would prefer <code>parallelStream</code> when</p>\n<ul>\n<li>I have huge amount of data to process at a time</li>\n<li>I have multiple cores to process the data</li>\n<li>Performance issues with the existing implementation</li>\n<li>I already don't have multiple threaded process running, as it will add to the complexity.</li>\n</ul>\n<p>Performance Implications</p>\n<ul>\n<li><em>Overhead</em> : Sometimes when dataset is small converting a sequential stream into a parallel one results in worse performance. The overhead of managing <code>threads</code>, sources and results is a more expensive operation than doing the actual work.</li>\n<li><em>Splitting</em>: <code>Arrays</code> can split cheaply and evenly, while <code>LinkedList</code> has none of these properties. <code>TreeMap</code> and <code>HashSet</code> split better than <code>LinkedList</code> but not as well as arrays.</li>\n<li><em>Merging</em>:The merge operation is really cheap for some operations, such as reduction and addition, but merge operations like grouping to sets or maps can be quite expensive.</li>\n</ul>\n<p>Conclusion: A large amount of data and many computations done per element indicate that parallelism could be a good option.</p>\n"},{"tags":[],"owner":{"account_id":30898,"reputation":8917,"user_id":84538,"accept_rate":100,"display_name":"jon hanson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643666637,"creation_date":1643665884,"answer_id":70933231,"question_id":70849202,"body_markdown":"The three steps (toJson/parse/new) have to be executed sequentially, so all you&#39;re effectively doing is comparing `s.map(g.compose(f))` and `s.map(f).map(g)`. By virtue of being a monad, Java Streams are functors, and the 2nd functor law states that, in essence, `s.map(g.compose(f)) == s.map(f).map(g)`, meaning that the two alternative ways of expressing the computation will produce identical results. From a performance standpoint the difference between the two is likely to be minimal.\r\n\r\nHowever, in general you should be careful using `Collection.parallelStream`. It uses the *[common forkJoinPool][1]*, essentially a fixed pool of threads shared across the entire JVM. The size of the pool is determined by the number of cores on the host. The problem with using the common pool is that other threads in the same process may also be using it at the same time as your code. This can lead to your code randomly and inexplicably slowing down - if another part of the code has temporarily exhausted the common thread pool, for example.\r\n\r\nMore preferable is to create your own ExecutorService by using one of the creator methods on Executors, and then submit your tasks to that.\r\n\r\n    private static final ExecutorService EX_SVC = Executors.newFixedThreadPool(16);\r\n    \r\n    public static List&lt;InsertOneModel&lt;Document&gt;&gt; process(Stream&lt;Puzzle&gt; puzzles) throws InterruptedException {\r\n        final Collection&lt;Callable&lt;InsertOneModel&lt;Document&gt;&gt;&gt; callables =\r\n                puzzles.map(puzzle -&gt;\r\n                        (Callable&lt;InsertOneModel&lt;Document&gt;&gt;)\r\n                                () -&gt; new InsertOneModel&lt;&gt;(Document.parse(gson.toJson(puzzle)))\r\n                ).collect(Collectors.toList());\r\n\r\n        return EX_SVC.invokeAll(callables).stream()\r\n                .map(fut -&gt; {\r\n                    try {\r\n                        return fut.get();\r\n                    } catch (ExecutionException|InterruptedException ex) {\r\n                        throw new RuntimeException(ex);\r\n                    }\r\n                }).collect(Collectors.toList());\r\n    }\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ForkJoinPool.html#commonPool--","title":"Java ParallelStream: several map or single map","body":"<p>The three steps (toJson/parse/new) have to be executed sequentially, so all you're effectively doing is comparing <code>s.map(g.compose(f))</code> and <code>s.map(f).map(g)</code>. By virtue of being a monad, Java Streams are functors, and the 2nd functor law states that, in essence, <code>s.map(g.compose(f)) == s.map(f).map(g)</code>, meaning that the two alternative ways of expressing the computation will produce identical results. From a performance standpoint the difference between the two is likely to be minimal.</p>\n<p>However, in general you should be careful using <code>Collection.parallelStream</code>. It uses the <em><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ForkJoinPool.html#commonPool--\" rel=\"nofollow noreferrer\">common forkJoinPool</a></em>, essentially a fixed pool of threads shared across the entire JVM. The size of the pool is determined by the number of cores on the host. The problem with using the common pool is that other threads in the same process may also be using it at the same time as your code. This can lead to your code randomly and inexplicably slowing down - if another part of the code has temporarily exhausted the common thread pool, for example.</p>\n<p>More preferable is to create your own ExecutorService by using one of the creator methods on Executors, and then submit your tasks to that.</p>\n<pre><code>private static final ExecutorService EX_SVC = Executors.newFixedThreadPool(16);\n\npublic static List&lt;InsertOneModel&lt;Document&gt;&gt; process(Stream&lt;Puzzle&gt; puzzles) throws InterruptedException {\n    final Collection&lt;Callable&lt;InsertOneModel&lt;Document&gt;&gt;&gt; callables =\n            puzzles.map(puzzle -&gt;\n                    (Callable&lt;InsertOneModel&lt;Document&gt;&gt;)\n                            () -&gt; new InsertOneModel&lt;&gt;(Document.parse(gson.toJson(puzzle)))\n            ).collect(Collectors.toList());\n\n    return EX_SVC.invokeAll(callables).stream()\n            .map(fut -&gt; {\n                try {\n                    return fut.get();\n                } catch (ExecutionException|InterruptedException ex) {\n                    throw new RuntimeException(ex);\n                }\n            }).collect(Collectors.toList());\n}\n</code></pre>\n"}],"owner":{"account_id":20683611,"reputation":1177,"user_id":15186569,"display_name":"ThrowsError"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1743,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":70917981,"answer_count":4,"score":3,"last_activity_date":1643666637,"creation_date":1643116249,"question_id":70849202,"body_markdown":"## Introduction\r\nI&#39;m currently developing a program in which I use `Java.util.Collection.parallelStream()`, and wondering if it&#39;s possible to make it more Multi-threaded.\r\n\r\n## Several small map\r\nI was wondering if using multiple `map` might allow the `Java.util.Collection.parallelStream()` to distribute the tasks better:\r\n\r\n```java\r\nList&lt;InsertOneModel&lt;Document&gt;&gt; bulkWrites = puzzles.parallelStream()\r\n        .map(gson::toJson)\r\n        .map(Document::parse)\r\n        .map(InsertOneModel::new)\r\n        .toList();\r\n```\r\n\r\n## Single big map\r\n\r\nFor example a better distribution than:\r\n\r\n```java\r\nList&lt;InsertOneModel&lt;Document&gt;&gt; bulkWrites = puzzles.parallelStream()\r\n        .map(puzzle -&gt; new InsertOneModel&lt;&gt;(Document.parse(gson.toJson(puzzle))))\r\n        .toList();\r\n```\r\n\r\n## Question\r\nIs there one of the solutions that is more suitable for `Java.util.Collection.parallelStream()`, or the two have no big difference?\r\n ","title":"Java ParallelStream: several map or single map","body":"<h2>Introduction</h2>\n<p>I'm currently developing a program in which I use <code>Java.util.Collection.parallelStream()</code>, and wondering if it's possible to make it more Multi-threaded.</p>\n<h2>Several small map</h2>\n<p>I was wondering if using multiple <code>map</code> might allow the <code>Java.util.Collection.parallelStream()</code> to distribute the tasks better:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;InsertOneModel&lt;Document&gt;&gt; bulkWrites = puzzles.parallelStream()\n        .map(gson::toJson)\n        .map(Document::parse)\n        .map(InsertOneModel::new)\n        .toList();\n</code></pre>\n<h2>Single big map</h2>\n<p>For example a better distribution than:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;InsertOneModel&lt;Document&gt;&gt; bulkWrites = puzzles.parallelStream()\n        .map(puzzle -&gt; new InsertOneModel&lt;&gt;(Document.parse(gson.toJson(puzzle))))\n        .toList();\n</code></pre>\n<h2>Question</h2>\n<p>Is there one of the solutions that is more suitable for <code>Java.util.Collection.parallelStream()</code>, or the two have no big difference?</p>\n"},{"tags":["java","android","android-studio","methods","android-recyclerview"],"comments":[{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":1,"creation_date":1643668851,"post_id":70933347,"comment_id":125397742,"body_markdown":"I think `storeDataInArrays()` retrieves all the old contacts and stores them in the original `ArrayList`s which already contained those contacts, causing duplicates. Try emptying the `arraysList`s before you call `storeDataInArrays()`.","body":"I think <code>storeDataInArrays()</code> retrieves all the old contacts and stores them in the original <code>ArrayList</code>s which already contained those contacts, causing duplicates. Try emptying the <code>arraysList</code>s before you call <code>storeDataInArrays()</code>."},{"owner":{"account_id":13406693,"reputation":55,"user_id":12844895,"display_name":"udbhav shrivastava"},"score":0,"creation_date":1643669390,"post_id":70933347,"comment_id":125397857,"body_markdown":"It worked !\nby using `Contact_id.clear(); , Contact_Name.clear(); and Contact_Number.clear();` it seems to work perfectly.\nThank you so so much ^-^","body":"It worked ! by using <code>Contact_id.clear(); , Contact_Name.clear(); and Contact_Number.clear();</code> it seems to work perfectly. Thank you so so much ^-^"}],"owner":{"account_id":13406693,"reputation":55,"user_id":12844895,"display_name":"udbhav shrivastava"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643666522,"creation_date":1643666522,"question_id":70933347,"body_markdown":"sing the dialogfragment to get the user input, while I am capable of updating the mainactivity using the `((MainActivity)getActivity()).storeDataInArrays();` command (This is in order to refresh the recyclerview to display the newly added contact). \r\n\r\nHowever now there seems to be this new issue cropping up where only temporarily, instead of only showing the newly updated contact, it shows adds all of the previous contacts as well.Until I exit and enter the Mainactivity.\r\nThis is a demonstration of what&#39;s happening.\r\n\r\n[![Recycler view duplicating previous entires][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Pq4Pd.gif\r\n\r\nThis is the Mainactivity \r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    private static final String TAG = &quot;MainActivity&quot;;\r\n    //widgets\r\n    public ImageButton eAddContact;\r\n    RecyclerView recyclerView;\r\n\r\n    DatabaseHelper myDB;\r\n    ArrayList&lt;String&gt; Contact_id, Contact_Name, Contact_Number;\r\n    CustomAdapter customAdapter;\r\n    Button btnEnterContact;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        eAddContact = findViewById(R.id.btnAddContact);\r\n        eAddContact.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Log.d(TAG, &quot;onClick:opening dialog&quot;);\r\n                Dialog_AddContact dialog = new Dialog_AddContact();\r\n                dialog.show(getSupportFragmentManager(), &quot;Add Contact Dialog&quot;);\r\n            }\r\n        });\r\n        //Toast.makeText(getApplicationContext(),&quot;@#&quot;,Toast.LENGTH_SHORT).show();\r\n        myDB = new DatabaseHelper(MainActivity.this);\r\n        Contact_id = new ArrayList&lt;&gt;();\r\n        Contact_Name = new ArrayList&lt;&gt;();\r\n        Contact_Number = new ArrayList&lt;&gt;();\r\n        recyclerView = findViewById(R.id.RecyclerView);\r\n        customAdapter = new CustomAdapter(MainActivity.this, Contact_id, Contact_Name, Contact_Number);\r\n        storeDataInArrays();\r\n        recyclerView.setAdapter(customAdapter);\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(MainActivity.this));\r\n    }\r\n\r\n    void storeDataInArrays() {\r\n        Cursor cursor = myDB.getEveryone();\r\n        if (cursor.getCount() == 0) {\r\n            //Add blank page\r\n        } else {\r\n            while (cursor.moveToNext()) {\r\n                Contact_id.add(cursor.getString(0));\r\n                Contact_Name.add(cursor.getString(1));\r\n                Contact_Number.add(cursor.getString(2));\r\n            }\r\n        }\r\n        customAdapter.notifyDataSetChanged();\r\n    }\r\n    }\r\n\r\nand This is the dialogfragment&#39;s enter contact button where I call the Mainactivity fuction\r\n\r\n            btnEnterContact.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                ContactInfo ContactInfo;\r\n                try {\r\n                    Log.d(TAG, &quot;onClick: Entering Contact&quot;);\r\n                    ContactInfo = new ContactInfo(-1,etName.getText().toString(),etPhonenumber.getText().toString());\r\n                    Toast.makeText(getContext(),ContactInfo.toString(),Toast.LENGTH_SHORT).show();\r\n                }\r\n                catch (Exception e) {\r\n                    Toast.makeText(getContext(),&quot;Error Creating Contact&quot;,Toast.LENGTH_SHORT).show();\r\n                    ContactInfo = new ContactInfo(-1,&quot;error&quot;,&quot;0&quot;);\r\n                }\r\n                DatabaseHelper databaseHelper = new DatabaseHelper(getContext());\r\n                boolean success = databaseHelper.addOne(ContactInfo);\r\n                Toast.makeText(getContext(),&quot;Success=&quot;+success,Toast.LENGTH_SHORT).show();\r\n                ((MainActivity)getActivity()).storeDataInArrays();\r\n                getDialog().dismiss();\r\n            }\r\n        });\r\n\r\nI would really appreciate any help in figuring out how to solve this.","title":"Cardview Items in Recyclerview temporarily duplicating previous entries when adding new data","body":"<p>sing the dialogfragment to get the user input, while I am capable of updating the mainactivity using the <code>((MainActivity)getActivity()).storeDataInArrays();</code> command (This is in order to refresh the recyclerview to display the newly added contact).</p>\n<p>However now there seems to be this new issue cropping up where only temporarily, instead of only showing the newly updated contact, it shows adds all of the previous contacts as well.Until I exit and enter the Mainactivity.\nThis is a demonstration of what's happening.</p>\n<p><a href=\"https://i.stack.imgur.com/Pq4Pd.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Pq4Pd.gif\" alt=\"Recycler view duplicating previous entires\" /></a></p>\n<p>This is the Mainactivity</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\nprivate static final String TAG = &quot;MainActivity&quot;;\n//widgets\npublic ImageButton eAddContact;\nRecyclerView recyclerView;\n\nDatabaseHelper myDB;\nArrayList&lt;String&gt; Contact_id, Contact_Name, Contact_Number;\nCustomAdapter customAdapter;\nButton btnEnterContact;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    eAddContact = findViewById(R.id.btnAddContact);\n    eAddContact.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            Log.d(TAG, &quot;onClick:opening dialog&quot;);\n            Dialog_AddContact dialog = new Dialog_AddContact();\n            dialog.show(getSupportFragmentManager(), &quot;Add Contact Dialog&quot;);\n        }\n    });\n    //Toast.makeText(getApplicationContext(),&quot;@#&quot;,Toast.LENGTH_SHORT).show();\n    myDB = new DatabaseHelper(MainActivity.this);\n    Contact_id = new ArrayList&lt;&gt;();\n    Contact_Name = new ArrayList&lt;&gt;();\n    Contact_Number = new ArrayList&lt;&gt;();\n    recyclerView = findViewById(R.id.RecyclerView);\n    customAdapter = new CustomAdapter(MainActivity.this, Contact_id, Contact_Name, Contact_Number);\n    storeDataInArrays();\n    recyclerView.setAdapter(customAdapter);\n    recyclerView.setLayoutManager(new LinearLayoutManager(MainActivity.this));\n}\n\nvoid storeDataInArrays() {\n    Cursor cursor = myDB.getEveryone();\n    if (cursor.getCount() == 0) {\n        //Add blank page\n    } else {\n        while (cursor.moveToNext()) {\n            Contact_id.add(cursor.getString(0));\n            Contact_Name.add(cursor.getString(1));\n            Contact_Number.add(cursor.getString(2));\n        }\n    }\n    customAdapter.notifyDataSetChanged();\n}\n}\n</code></pre>\n<p>and This is the dialogfragment's enter contact button where I call the Mainactivity fuction</p>\n<pre><code>        btnEnterContact.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            ContactInfo ContactInfo;\n            try {\n                Log.d(TAG, &quot;onClick: Entering Contact&quot;);\n                ContactInfo = new ContactInfo(-1,etName.getText().toString(),etPhonenumber.getText().toString());\n                Toast.makeText(getContext(),ContactInfo.toString(),Toast.LENGTH_SHORT).show();\n            }\n            catch (Exception e) {\n                Toast.makeText(getContext(),&quot;Error Creating Contact&quot;,Toast.LENGTH_SHORT).show();\n                ContactInfo = new ContactInfo(-1,&quot;error&quot;,&quot;0&quot;);\n            }\n            DatabaseHelper databaseHelper = new DatabaseHelper(getContext());\n            boolean success = databaseHelper.addOne(ContactInfo);\n            Toast.makeText(getContext(),&quot;Success=&quot;+success,Toast.LENGTH_SHORT).show();\n            ((MainActivity)getActivity()).storeDataInArrays();\n            getDialog().dismiss();\n        }\n    });\n</code></pre>\n<p>I would really appreciate any help in figuring out how to solve this.</p>\n"},{"tags":["java","swing","popup","actionlistener","notepad"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1643664633,"post_id":70932941,"comment_id":125396552,"body_markdown":"So, you seem to misunderstand difference between a &quot;constructor&quot; and a &quot;method&quot;.  `new PopupFileName()` isn&#39;t going to call the classes `main` method, in fact, you&#39;re going to have a hard time with that at all.  Start by getting rid of the reliance on `static`","body":"So, you seem to misunderstand difference between a &quot;constructor&quot; and a &quot;method&quot;.  <code>new PopupFileName()</code> isn&#39;t going to call the classes <code>main</code> method, in fact, you&#39;re going to have a hard time with that at all.  Start by getting rid of the reliance on <code>static</code>"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":2,"creation_date":1643665036,"post_id":70932941,"comment_id":125396656,"body_markdown":"If you are trying to prompt the user for data then use a `JOptionPane`. See [How to Make Dialogs](https://docs.oracle.com/javase/tutorial/uiswing/components/dialog.html) for more information and examples to get you started.","body":"If you are trying to prompt the user for data then use a <code>JOptionPane</code>. See <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/dialog.html\" rel=\"nofollow noreferrer\">How to Make Dialogs</a> for more information and examples to get you started."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1643681689,"post_id":70932941,"comment_id":125399913,"body_markdown":"(1-) *I could not completely understand the way to do it,* - what part of the tutorial did you not understand? They are complete working example. We are not mind readers. If you have a problem with the code in the tutorial then ask a specific question.","body":"(1-) <i>I could not completely understand the way to do it,</i> - what part of the tutorial did you not understand? They are complete working example. We are not mind readers. If you have a problem with the code in the tutorial then ask a specific question."}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643666371,"creation_date":1643666371,"answer_id":70933318,"question_id":70932941,"body_markdown":"Start by taking a look at:\r\n\r\n* [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/)\r\n* [How to Write an Action Listener](https://docs.oracle.com/javase/tutorial/uiswing/events/actionlistener.html)\r\n* [How to Use Scroll Panes](https://docs.oracle.com/javase/tutorial/uiswing/components/scrollpane.html)\r\n* [How to Use Buttons, Check Boxes, and Radio Buttons](https://docs.oracle.com/javase/tutorial/uiswing/components/button.html)\r\n* [How to Make Dialogs](https://docs.oracle.com/javase/tutorial/uiswing/components/dialog.html)\r\nYou&#39;re running in an event driven environment, this means, something happens and then you respond to it.  \r\n\r\nThe problem with your `ActionListener` is, it&#39;s trying to present a window and then, immediately, trying to get some result from it.  The problem is, the window probably isn&#39;t even present on the screen yet.\r\n\r\nWhat you need is some way to &quot;stop&quot; the code execution until after the user responds.  This is where a modal dialog comes in.\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Component;\r\n    import java.awt.EventQueue;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JOptionPane;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.JTextArea;\r\n\r\n    class Main {\r\n\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new TestPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n\r\n            public TestPane() {\r\n                setLayout(new GridBagLayout());\r\n                JButton btn = new JButton(&quot;Test&quot;);\r\n                btn.addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        String title = PopupFileName.getTitle(TestPane.this);\r\n                        System.out.println(title);\r\n                    }\r\n                });\r\n                add(btn);\r\n            }\r\n\r\n        }\r\n\r\n        public static class PopupFileName extends JPanel {\r\n\r\n            private JLabel titlel = new JLabel(&quot;Title:&quot;);\r\n            private JTextArea title = new JTextArea(20, 40);\r\n\r\n            public PopupFileName() {\r\n                setLayout(new BorderLayout());\r\n                add(titlel, BorderLayout.NORTH);\r\n                add(new JScrollPane(title));\r\n            }\r\n\r\n            public String getTitle() {\r\n                return title.getText();\r\n            }\r\n\r\n            public static String getTitle(Component parent) {\r\n                PopupFileName popupFileName = new PopupFileName();\r\n                int response = JOptionPane.showConfirmDialog(parent, popupFileName, &quot;Title&quot;, JOptionPane.OK_CANCEL_OPTION, JOptionPane.PLAIN_MESSAGE);\r\n                switch (response) {\r\n                    case JOptionPane.OK_OPTION:\r\n                        return popupFileName.getTitle();\r\n                    default: return null;\r\n                }\r\n            }\r\n        }\r\n    }\r\n","title":"Swing window not opening","body":"<p>Start by taking a look at:</p>\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/uiswing/\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a></li>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/uiswing/events/actionlistener.html\" rel=\"nofollow noreferrer\">How to Write an Action Listener</a></li>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/scrollpane.html\" rel=\"nofollow noreferrer\">How to Use Scroll Panes</a></li>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/button.html\" rel=\"nofollow noreferrer\">How to Use Buttons, Check Boxes, and Radio Buttons</a></li>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/dialog.html\" rel=\"nofollow noreferrer\">How to Make Dialogs</a>\nYou're running in an event driven environment, this means, something happens and then you respond to it.</li>\n</ul>\n<p>The problem with your <code>ActionListener</code> is, it's trying to present a window and then, immediately, trying to get some result from it.  The problem is, the window probably isn't even present on the screen yet.</p>\n<p>What you need is some way to &quot;stop&quot; the code execution until after the user responds.  This is where a modal dialog comes in.</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Component;\nimport java.awt.EventQueue;\nimport java.awt.GridBagLayout;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JOptionPane;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTextArea;\n\nclass Main {\n\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n\n        public TestPane() {\n            setLayout(new GridBagLayout());\n            JButton btn = new JButton(&quot;Test&quot;);\n            btn.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    String title = PopupFileName.getTitle(TestPane.this);\n                    System.out.println(title);\n                }\n            });\n            add(btn);\n        }\n\n    }\n\n    public static class PopupFileName extends JPanel {\n\n        private JLabel titlel = new JLabel(&quot;Title:&quot;);\n        private JTextArea title = new JTextArea(20, 40);\n\n        public PopupFileName() {\n            setLayout(new BorderLayout());\n            add(titlel, BorderLayout.NORTH);\n            add(new JScrollPane(title));\n        }\n\n        public String getTitle() {\n            return title.getText();\n        }\n\n        public static String getTitle(Component parent) {\n            PopupFileName popupFileName = new PopupFileName();\n            int response = JOptionPane.showConfirmDialog(parent, popupFileName, &quot;Title&quot;, JOptionPane.OK_CANCEL_OPTION, JOptionPane.PLAIN_MESSAGE);\n            switch (response) {\n                case JOptionPane.OK_OPTION:\n                    return popupFileName.getTitle();\n                default: return null;\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23827242,"reputation":7,"user_id":17834099,"display_name":"GrowingDevil"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":387,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1643666371,"creation_date":1643663875,"question_id":70932941,"body_markdown":"I am creating a NotePad app in Java Swing but when I am trying to open a popup to set a title, it is not showing up.\r\nThe class that calls the popup:\r\n```\r\nimport java.io.*;\r\nimport java.util.*;\r\nimport java.awt.event.*;\r\nimport javax.swing.*;\r\n\r\npublic class NewFile implements ActionListener{\r\n\r\n  public static String title;\r\n  \r\n  \r\n  \r\n  public void actionPerformed(ActionEvent e){\r\n\r\n    PopupFileName popup = new PopupFileName();\r\n\r\n    \r\n    /*try{\r\n      Thread.sleep(30000);\r\n    }catch (InterruptedException o){\r\n      o.printStackTrace();\r\n    }*/\r\n    JTextArea titl = popup.title;\r\n    title = titl.getText();\r\n    try{\r\n      File writer = new File(title+&quot;.txt&quot;);\r\n      if(writer.createNewFile()){\r\n        System.out.println(&quot;file created&quot;);\r\n      }else{\r\n        System.out.println(&quot;file exists&quot;);\r\n      }\r\n    }catch (IOException i) {\r\n      System.out.println(&quot;An error occurred.&quot;);\r\n      i.printStackTrace();\r\n    }\r\n  }\r\n}\r\n```\r\nThe popup class that is supposed to open:\r\n```\r\nimport javax.swing.*;\r\n\r\npublic class PopupFileName{\r\n\r\n  static JFrame popup = new JFrame(&quot;File Title&quot;);\r\n  static JLabel titlel = new JLabel(&quot;Title:&quot;);\r\n  static public JTextArea title = new JTextArea();\r\n  \r\n  public static void main(String[] args){\r\n\r\n    popup.setSize(200,300);\r\n    popup.setVisible(true);\r\n    popup.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\r\n    popup.add(titlel);\r\n    popup.add(title);\r\n  }\r\n}\r\n```\r\nIs there any way I can make it visible and make it able to get the text before it is created?","title":"Swing window not opening","body":"<p>I am creating a NotePad app in Java Swing but when I am trying to open a popup to set a title, it is not showing up.\nThe class that calls the popup:</p>\n<pre><code>import java.io.*;\nimport java.util.*;\nimport java.awt.event.*;\nimport javax.swing.*;\n\npublic class NewFile implements ActionListener{\n\n  public static String title;\n  \n  \n  \n  public void actionPerformed(ActionEvent e){\n\n    PopupFileName popup = new PopupFileName();\n\n    \n    /*try{\n      Thread.sleep(30000);\n    }catch (InterruptedException o){\n      o.printStackTrace();\n    }*/\n    JTextArea titl = popup.title;\n    title = titl.getText();\n    try{\n      File writer = new File(title+&quot;.txt&quot;);\n      if(writer.createNewFile()){\n        System.out.println(&quot;file created&quot;);\n      }else{\n        System.out.println(&quot;file exists&quot;);\n      }\n    }catch (IOException i) {\n      System.out.println(&quot;An error occurred.&quot;);\n      i.printStackTrace();\n    }\n  }\n}\n</code></pre>\n<p>The popup class that is supposed to open:</p>\n<pre><code>import javax.swing.*;\n\npublic class PopupFileName{\n\n  static JFrame popup = new JFrame(&quot;File Title&quot;);\n  static JLabel titlel = new JLabel(&quot;Title:&quot;);\n  static public JTextArea title = new JTextArea();\n  \n  public static void main(String[] args){\n\n    popup.setSize(200,300);\n    popup.setVisible(true);\n    popup.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n    popup.add(titlel);\n    popup.add(title);\n  }\n}\n</code></pre>\n<p>Is there any way I can make it visible and make it able to get the text before it is created?</p>\n"},{"tags":["java","apache-camel","camel-spring-dsl"],"answers":[{"tags":[],"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643630938,"creation_date":1643630938,"answer_id":70925736,"question_id":70925735,"body_markdown":"I had to use `groovy` instead of `simple` for doing that.\r\n\r\n    &lt;setHeader headerName=&quot;timestampPart3&quot;&gt;&lt;groovy&gt;\r\n    \t request.headers.get(&#39;timestampPart2&#39;).split(&quot;\\\\.&quot;)[0]\r\n    \t &lt;/groovy&gt;&lt;/setHeader&gt;","title":"Is it possible to call the header value as a parameter for the method applied to the same object in simple interpreter, Spring DSL for Apache Camel?","body":"<p>I had to use <code>groovy</code> instead of <code>simple</code> for doing that.</p>\n<pre><code>&lt;setHeader headerName=&quot;timestampPart3&quot;&gt;&lt;groovy&gt;\n     request.headers.get('timestampPart2').split(&quot;\\\\.&quot;)[0]\n     &lt;/groovy&gt;&lt;/setHeader&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24114815,"reputation":36,"user_id":18084874,"display_name":"techtheist"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643666262,"creation_date":1643666262,"answer_id":70933296,"question_id":70925735,"body_markdown":"You can increment and decrement with simple, so...\r\n\r\nI wouldn&#39;t recommend, but for example:\r\n\r\n    &lt;setHeader headerName=&quot;timestampPart2_1&quot;&gt;\r\n        &lt;simple&gt;${header.timestampPart2.length()}--&lt;/simple&gt;\r\n    &lt;/setHeader&gt;\r\n    \r\n    &lt;setHeader headerName=&quot;timestampPart2_1&quot;&gt;\r\n        &lt;simple&gt;${header.timestampPart2_1}--&lt;/simple&gt;\r\n    &lt;/setHeader&gt;\r\n    \r\n    &lt;setHeader headerName=&quot;timestampPart3&quot;&gt;\r\n        &lt;simple&gt;${header.timestampPart2.substring(0, ${header.timestampPart2_1})}&lt;/simple&gt;\r\n    &lt;/setHeader&gt;","title":"Is it possible to call the header value as a parameter for the method applied to the same object in simple interpreter, Spring DSL for Apache Camel?","body":"<p>You can increment and decrement with simple, so...</p>\n<p>I wouldn't recommend, but for example:</p>\n<pre><code>&lt;setHeader headerName=&quot;timestampPart2_1&quot;&gt;\n    &lt;simple&gt;${header.timestampPart2.length()}--&lt;/simple&gt;\n&lt;/setHeader&gt;\n\n&lt;setHeader headerName=&quot;timestampPart2_1&quot;&gt;\n    &lt;simple&gt;${header.timestampPart2_1}--&lt;/simple&gt;\n&lt;/setHeader&gt;\n\n&lt;setHeader headerName=&quot;timestampPart3&quot;&gt;\n    &lt;simple&gt;${header.timestampPart2.substring(0, ${header.timestampPart2_1})}&lt;/simple&gt;\n&lt;/setHeader&gt;\n</code></pre>\n"}],"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":375,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":70933296,"answer_count":2,"score":-1,"last_activity_date":1643666262,"creation_date":1643630938,"question_id":70925735,"body_markdown":"Is it possible to call something like this in Apache Camel&#39;s Spring DSL\r\n\r\n\t &lt;setHeader headerName=&quot;timestampPart3&quot;&gt;&lt;simple&gt;${header.timestampPart2.substring(0, ${header.timestampPart2.length()} - 2)}&lt;/simple&gt;&lt;/setHeader&gt;\r\n\r\nor like this\r\n\r\n\t &lt;setHeader headerName=&quot;timestampPart3&quot;&gt;&lt;simple&gt;${header.timestampPart2.substring(0, header.timestampPart2.length() - 2)}&lt;/simple&gt;&lt;/setHeader&gt;\r\n\r\n\r\nFor the second attempt it identifies `.length() - 2` as a single method name call","title":"Is it possible to call the header value as a parameter for the method applied to the same object in simple interpreter, Spring DSL for Apache Camel?","body":"<p>Is it possible to call something like this in Apache Camel's Spring DSL</p>\n<pre><code> &lt;setHeader headerName=&quot;timestampPart3&quot;&gt;&lt;simple&gt;${header.timestampPart2.substring(0, ${header.timestampPart2.length()} - 2)}&lt;/simple&gt;&lt;/setHeader&gt;\n</code></pre>\n<p>or like this</p>\n<pre><code> &lt;setHeader headerName=&quot;timestampPart3&quot;&gt;&lt;simple&gt;${header.timestampPart2.substring(0, header.timestampPart2.length() - 2)}&lt;/simple&gt;&lt;/setHeader&gt;\n</code></pre>\n<p>For the second attempt it identifies <code>.length() - 2</code> as a single method name call</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":11688295,"reputation":395,"user_id":8557336,"display_name":"Orr Benyamini"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643666141,"creation_date":1643666141,"answer_id":70933276,"question_id":70558564,"body_markdown":"what you can do here is a variation of binary search.\r\n\r\nHere is the algorithm (maybe it has minor mistakes but this is the general idea):\r\n\r\n\r\n```\r\nFor matrix a of size n x n, and searched value s:\r\n\r\nevenIteration = true //as in even/odd\r\nstartX, startY = 0\r\nendX, endY = n\r\n\r\nwhile(endX &gt;= startX &amp;&amp; endY &gt;= startY):\r\n\r\n\r\nmiddleY = ((endY + startY)/2)\r\nmiddleX = ((endX + startX)/2)\r\n\r\nif evenIteration:\r\n  i = middleY - 1\r\n  j = middleX\r\nElse:\r\n  i = endY - 1\r\n  j = startX\r\n\r\ncandidate = a[i][j]\r\n\r\nif s  == candidate:\r\n  Return i,j // We found the searched value!\r\n\r\nif s &lt; candidate:\r\n  if evenIteration:\r\n    endY = middleY\r\n  else:\r\n    endX = middleX\r\nelse:\r\n  if evenIteration:\r\n    startY = middleY\r\n  else:\r\n    startX = middleX\r\n\r\nevenIteration = !evenIteration\r\n```\r\n\r\nTry understanding the logic behind this, and implement this in code.\r\nWrite unit tests and debug the code. this would help you understand the algorithm better.\r\n\r\nLet me know in the comments if you need further explanation ","title":"Search for an element in a circular sorted 2d matrix","body":"<p>what you can do here is a variation of binary search.</p>\n<p>Here is the algorithm (maybe it has minor mistakes but this is the general idea):</p>\n<pre><code>For matrix a of size n x n, and searched value s:\n\nevenIteration = true //as in even/odd\nstartX, startY = 0\nendX, endY = n\n\nwhile(endX &gt;= startX &amp;&amp; endY &gt;= startY):\n\n\nmiddleY = ((endY + startY)/2)\nmiddleX = ((endX + startX)/2)\n\nif evenIteration:\n  i = middleY - 1\n  j = middleX\nElse:\n  i = endY - 1\n  j = startX\n\ncandidate = a[i][j]\n\nif s  == candidate:\n  Return i,j // We found the searched value!\n\nif s &lt; candidate:\n  if evenIteration:\n    endY = middleY\n  else:\n    endX = middleX\nelse:\n  if evenIteration:\n    startY = middleY\n  else:\n    startX = middleX\n\nevenIteration = !evenIteration\n</code></pre>\n<p>Try understanding the logic behind this, and implement this in code.\nWrite unit tests and debug the code. this would help you understand the algorithm better.</p>\n<p>Let me know in the comments if you need further explanation</p>\n"}],"owner":{"account_id":13296923,"reputation":59,"user_id":9599607,"display_name":"Sheilem"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":183,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643666141,"creation_date":1641147424,"question_id":70558564,"body_markdown":"I was given a question in my class that I just can&#39;t get my head around it.\r\nI&#39;ve been trying for days and can&#39;t think of a logic that works 100% \r\n\r\n**The question is: Search for an element in a circular sorted 2d matrix, example below:**\r\n[![circular sorted 2d matrix][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/59zeU.png\r\n\r\nWe were asked to do it with the best complexity available.\r\nI&#39;ve figured out that the rows are sorted by size, But this theory failed.\r\n\r\nI&#39;ve figured if I&#39;ll find the middle element, I could move the pointer accordingly, but it makes no sense.\r\n\r\nI was thinking that maybe I should find each quadrant&#39;s start index and last index, and search inside, but I don&#39;t know how to do that with a 2d array\r\n\r\nHere&#39;s my piece of code that I crafted so far (It&#39;s useless)\r\n\r\n     public static boolean search (int [][] mat, int num) {\r\n        int midRowIndex =(mat.length-1)/2;\r\n        int midColIndex =(mat[0].length-1)/2;\r\n        int start = 0;\r\n        int end =(mat.length*mat[0].length)-1;\r\n        System.out.println(&quot;Mid index is: [&quot; +midColIndex + &quot;][&quot; + midRowIndex + &quot;]&quot;);\r\n        System.out.println(&quot;Number of indexes is: &quot; +end);\r\n        System.out.println(&quot;Searching for: &quot; +num );\r\n        while (start&lt;end) {\r\n            if (mat[midRowIndex][midColIndex] == num)\r\n                return true;\r\n            if (mat[midRowIndex][midColIndex] &lt; num)\r\n                if(midColIndex &lt; mat.length)\r\n                    midColIndex+=1;\r\n                else{\r\n                    midColIndex=0;\r\n                    midRowIndex+=1;\r\n                }\r\n            if (mat[midRowIndex][midColIndex] &gt; num)\r\n                midRowIndex-=1;\r\n            start+=1;\r\n        }\r\n        return false;\r\n    }\r\n\r\nI&#39;m not asking for a direct answer, Just for some leads.\r\n\r\nThanks!","title":"Search for an element in a circular sorted 2d matrix","body":"<p>I was given a question in my class that I just can't get my head around it.\nI've been trying for days and can't think of a logic that works 100%</p>\n<p><strong>The question is: Search for an element in a circular sorted 2d matrix, example below:</strong>\n<a href=\"https://i.stack.imgur.com/59zeU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/59zeU.png\" alt=\"circular sorted 2d matrix\" /></a></p>\n<p>We were asked to do it with the best complexity available.\nI've figured out that the rows are sorted by size, But this theory failed.</p>\n<p>I've figured if I'll find the middle element, I could move the pointer accordingly, but it makes no sense.</p>\n<p>I was thinking that maybe I should find each quadrant's start index and last index, and search inside, but I don't know how to do that with a 2d array</p>\n<p>Here's my piece of code that I crafted so far (It's useless)</p>\n<pre><code> public static boolean search (int [][] mat, int num) {\n    int midRowIndex =(mat.length-1)/2;\n    int midColIndex =(mat[0].length-1)/2;\n    int start = 0;\n    int end =(mat.length*mat[0].length)-1;\n    System.out.println(&quot;Mid index is: [&quot; +midColIndex + &quot;][&quot; + midRowIndex + &quot;]&quot;);\n    System.out.println(&quot;Number of indexes is: &quot; +end);\n    System.out.println(&quot;Searching for: &quot; +num );\n    while (start&lt;end) {\n        if (mat[midRowIndex][midColIndex] == num)\n            return true;\n        if (mat[midRowIndex][midColIndex] &lt; num)\n            if(midColIndex &lt; mat.length)\n                midColIndex+=1;\n            else{\n                midColIndex=0;\n                midRowIndex+=1;\n            }\n        if (mat[midRowIndex][midColIndex] &gt; num)\n            midRowIndex-=1;\n        start+=1;\n    }\n    return false;\n}\n</code></pre>\n<p>I'm not asking for a direct answer, Just for some leads.</p>\n<p>Thanks!</p>\n"},{"tags":["java","android","android-studio","webview","inputstream"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1643665436,"post_id":70933079,"comment_id":125396762,"body_markdown":"What does not work exactly? Should we guess?","body":"What does not work exactly? Should we guess?"},{"owner":{"account_id":24114887,"reputation":1,"user_id":18084933,"display_name":"Aryantel IR"},"score":0,"creation_date":1643665783,"post_id":70933079,"comment_id":125396863,"body_markdown":"InputStream is not working after get file from URL","body":"InputStream is not working after get file from URL"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1643666580,"post_id":70933079,"comment_id":125397106,"body_markdown":"Again: what exactly happens? Or what happens instead? Or what does not happen? Should we guess? Any exception? Why dont you have a Toast() in that catch block?","body":"Again: what exactly happens? Or what happens instead? Or what does not happen? Should we guess? Any exception? Why dont you have a Toast() in that catch block?"},{"owner":{"account_id":24114887,"reputation":1,"user_id":18084933,"display_name":"Aryantel IR"},"score":0,"creation_date":1643666710,"post_id":70933079,"comment_id":125397140,"body_markdown":"my code was Inject CSS by style.css from assets folder but now i need css from site (url) not from folder - i used inputStream url but it&#39;s not working","body":"my code was Inject CSS by style.css from assets folder but now i need css from site (url) not from folder - i used inputStream url but it&#39;s not working"}],"owner":{"account_id":24114887,"reputation":1,"user_id":18084933,"display_name":"Aryantel IR"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643666044,"creation_date":1643664805,"question_id":70933079,"body_markdown":"I&#39;m using this code for bypass the css from WebView loading , I used asset folder for loading my own css but now I need to load my custom css from URL because I need to Change my Css every week .\r\nprobelm is : after change InputStream to URL my css bypass is note working !!     \r\nMy old code is :\r\n\r\n     private void injectCSS() {\r\n        try {\r\n            InputStream inputStream = getAssets().open(&quot;style.css&quot;);\r\n            byte[] buffer = new byte[inputStream.available()];\r\n            inputStream.read(buffer);\r\n            inputStream.close();\r\n            String encoded = Base64.encodeToString(buffer, Base64.NO_WRAP);\r\n            webView.loadUrl(&quot;javascript:(function() {&quot; +\r\n                    &quot;var parent = document.getElementsByTagName(&#39;head&#39;).item(0);&quot; +\r\n                    &quot;var style = document.createElement(&#39;style&#39;);&quot; +\r\n                    &quot;style.type = &#39;text/css&#39;;&quot; +\r\n                    // Tell the browser to BASE64-decode the string into your script !!!\r\n                    &quot;style.innerHTML = window.atob(&#39;&quot; + encoded + &quot;&#39;);&quot; +\r\n                    &quot;parent.appendChild(style)&quot; +\r\n                    &quot;})()&quot;);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n\r\nand My New code is : &gt; but is not working \r\n\r\n      private void injectCSS() {\r\n        try {\r\n            final InputStream inputStream = new URL(&quot;https://sitemname.ir/app/style.css&quot;).openStream();\r\n            byte[] buffer = new byte[inputStream.available()];\r\n            inputStream.read(buffer);\r\n            inputStream.close();\r\n            String encoded = Base64.encodeToString(buffer, Base64.NO_WRAP);\r\n            webView.loadUrl(&quot;javascript:(function() {&quot; +\r\n                    &quot;var parent = document.getElementsByTagName(&#39;head&#39;).item(0);&quot; +\r\n                    &quot;var style = document.createElement(&#39;style&#39;);&quot; +\r\n                    &quot;style.type = &#39;text/css&#39;;&quot; +\r\n                    // Tell the browser to BASE64-decode the string into your script !!!\r\n                    &quot;style.innerHTML = window.atob(&#39;&quot; + encoded + &quot;&#39;);&quot; +\r\n                    &quot;parent.appendChild(style)&quot; +\r\n                    &quot;})()&quot;);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }","title":"android studio inputStream form URL problem","body":"<p>I'm using this code for bypass the css from WebView loading , I used asset folder for loading my own css but now I need to load my custom css from URL because I need to Change my Css every week .\nprobelm is : after change InputStream to URL my css bypass is note working !!<br />\nMy old code is :</p>\n<pre><code> private void injectCSS() {\n    try {\n        InputStream inputStream = getAssets().open(&quot;style.css&quot;);\n        byte[] buffer = new byte[inputStream.available()];\n        inputStream.read(buffer);\n        inputStream.close();\n        String encoded = Base64.encodeToString(buffer, Base64.NO_WRAP);\n        webView.loadUrl(&quot;javascript:(function() {&quot; +\n                &quot;var parent = document.getElementsByTagName('head').item(0);&quot; +\n                &quot;var style = document.createElement('style');&quot; +\n                &quot;style.type = 'text/css';&quot; +\n                // Tell the browser to BASE64-decode the string into your script !!!\n                &quot;style.innerHTML = window.atob('&quot; + encoded + &quot;');&quot; +\n                &quot;parent.appendChild(style)&quot; +\n                &quot;})()&quot;);\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>and My New code is : &gt; but is not working</p>\n<pre><code>  private void injectCSS() {\n    try {\n        final InputStream inputStream = new URL(&quot;https://sitemname.ir/app/style.css&quot;).openStream();\n        byte[] buffer = new byte[inputStream.available()];\n        inputStream.read(buffer);\n        inputStream.close();\n        String encoded = Base64.encodeToString(buffer, Base64.NO_WRAP);\n        webView.loadUrl(&quot;javascript:(function() {&quot; +\n                &quot;var parent = document.getElementsByTagName('head').item(0);&quot; +\n                &quot;var style = document.createElement('style');&quot; +\n                &quot;style.type = 'text/css';&quot; +\n                // Tell the browser to BASE64-decode the string into your script !!!\n                &quot;style.innerHTML = window.atob('&quot; + encoded + &quot;');&quot; +\n                &quot;parent.appendChild(style)&quot; +\n                &quot;})()&quot;);\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"},{"tags":["java","string","integer","string-math"],"comments":[{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":1,"creation_date":1643660150,"post_id":70932263,"comment_id":125395012,"body_markdown":"How to do that would depend, in part, on what language you are using.","body":"How to do that would depend, in part, on what language you are using."},{"owner":{"account_id":173785,"reputation":930,"user_id":402723,"display_name":"Raul Lapeira Herrero"},"score":0,"creation_date":1643881764,"post_id":70932263,"comment_id":125458799,"body_markdown":"Your question is ok but you would need to try your regular expresion first and use some tracing with sysout","body":"Your question is ok but you would need to try your regular expresion first and use some tracing with sysout"}],"owner":{"account_id":12165959,"reputation":21,"user_id":18084508,"display_name":"TronChaser"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1643665958,"creation_date":1643660004,"question_id":70932263,"body_markdown":"I need to perform arithmetic operations on numbers in a string.  I understand that I&#39;ll need to parse those numbers out, convert to int, do the math, and then convert back to String.  \r\n\r\nExample: \r\n\r\nn = 2. \r\n\r\nInput data: &quot;The building is 350 feet tall with a perimeter of 400 feet&quot;.\r\n\r\nOutput data:  The building is 352 feet tall with a perimeter of 402 feet&quot;. \r\n\r\n\r\nI got my for loop iterating through the string and I can affect the value of the number, but I&#39;m having difficulty putting it back into a new, modified string.\r\n\r\nHere&#39;s where I&#39;m at right now but it&#39;s not working\r\n\r\n&gt;     String output = new String();\r\n&gt;     String tempString = new String();\r\n&gt;     int newNumb = 0;\r\n&gt;     int n = 2;\r\n&gt;     for (int i = 0; i &lt; output.length(); i++){\r\n&gt;        Pattern integerPattern = Pattern.compile(&#39;-?\\\\d+&#39;);\r\n&gt;        Matcher matcher = integerPattern.matcher(output);\r\n&gt;        newNumb = (Integer.parse(output) + n);\r\n&gt;        tempString = output.replace(output, String.valueOf(newNumb));\r\n   \r\n\r\n\r\n","title":"Find numerical values in a string, perform arithmetic on the all numbers in the string, and output a new, revised string containing new values Java","body":"<p>I need to perform arithmetic operations on numbers in a string.  I understand that I'll need to parse those numbers out, convert to int, do the math, and then convert back to String.</p>\n<p>Example:</p>\n<p>n = 2.</p>\n<p>Input data: &quot;The building is 350 feet tall with a perimeter of 400 feet&quot;.</p>\n<p>Output data:  The building is 352 feet tall with a perimeter of 402 feet&quot;.</p>\n<p>I got my for loop iterating through the string and I can affect the value of the number, but I'm having difficulty putting it back into a new, modified string.</p>\n<p>Here's where I'm at right now but it's not working</p>\n<blockquote>\n<pre><code>String output = new String();\nString tempString = new String();\nint newNumb = 0;\nint n = 2;\nfor (int i = 0; i &lt; output.length(); i++){\n   Pattern integerPattern = Pattern.compile('-?\\\\d+');\n   Matcher matcher = integerPattern.matcher(output);\n   newNumb = (Integer.parse(output) + n);\n   tempString = output.replace(output, String.valueOf(newNumb));\n</code></pre>\n</blockquote>\n"},{"tags":["java","python","c++","if-statement","micro-optimization"],"comments":[{"owner":{"account_id":932526,"reputation":60940,"user_id":962089,"accept_rate":97,"display_name":"chris"},"score":5,"creation_date":1450246231,"post_id":34304936,"comment_id":56351893,"body_markdown":"`else if` isn&#39;t even syntactic sugar (at least in C++). It&#39;s the actual bare syntax, not sugar coated. It&#39;s just a bit misleading because of the way we choose to write it.","body":"<code>else if</code> isn&#39;t even syntactic sugar (at least in C++). It&#39;s the actual bare syntax, not sugar coated. It&#39;s just a bit misleading because of the way we choose to write it."}],"answers":[{"tags":[],"owner":{"account_id":322516,"reputation":121953,"user_id":641955,"accept_rate":72,"display_name":"janos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1450245948,"creation_date":1450245948,"answer_id":34304992,"question_id":34304936,"body_markdown":"`elif` in Python is syntactic sugar for `else if` seen in many other languages. That&#39;s all.","title":"Is the python &quot;elif&quot; compiled differently from else: if?","body":"<p><code>elif</code> in Python is syntactic sugar for <code>else if</code> seen in many other languages. That's all.</p>\n"},{"tags":[],"owner":{"account_id":2777201,"reputation":531,"user_id":2390553,"accept_rate":45,"display_name":"Prashant Yadav"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1450246174,"creation_date":1450246174,"answer_id":34305035,"question_id":34304936,"body_markdown":"The keyword ‘elif‘ is short for ‘else if’, and is useful to avoid excessive indentation.[Source][1]\r\n\r\n\r\n  [1]: https://docs.python.org/3/tutorial/controlflow.html","title":"Is the python &quot;elif&quot; compiled differently from else: if?","body":"<p>The keyword ‘elif‘ is short for ‘else if’, and is useful to avoid excessive indentation.<a href=\"https://docs.python.org/3/tutorial/controlflow.html\" rel=\"nofollow\">Source</a></p>\n"},{"tags":[],"owner":{"account_id":314979,"reputation":302463,"user_id":748858,"accept_rate":86,"display_name":"mgilson"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1450246616,"creation_date":1450246189,"answer_id":34305041,"question_id":34304936,"body_markdown":"When you really want to know what is going on behind the scenes in the interpreter, you can use the `dis` module.  In this case:\r\n\r\n    &gt;&gt;&gt; def f1():\r\n    ...   if a:\r\n    ...     b = 1\r\n    ...   elif aa:\r\n    ...     b = 2\r\n    ... \r\n    &gt;&gt;&gt; def f2():\r\n    ...   if a:\r\n    ...     b = 1\r\n    ...   else:\r\n    ...     if aa:\r\n    ...       b = 2\r\n    ... \r\n    &gt;&gt;&gt; dis.dis(f1)\r\n      2           0 LOAD_GLOBAL              0 (a)\r\n                  3 POP_JUMP_IF_FALSE       15\r\n    \r\n      3           6 LOAD_CONST               1 (1)\r\n                  9 STORE_FAST               0 (b)\r\n                 12 JUMP_FORWARD            15 (to 30)\r\n    \r\n      4     &gt;&gt;   15 LOAD_GLOBAL              1 (aa)\r\n                 18 POP_JUMP_IF_FALSE       30\r\n    \r\n      5          21 LOAD_CONST               2 (2)\r\n                 24 STORE_FAST               0 (b)\r\n                 27 JUMP_FORWARD             0 (to 30)\r\n            &gt;&gt;   30 LOAD_CONST               0 (None)\r\n                 33 RETURN_VALUE        \r\n    &gt;&gt;&gt; dis.dis(f2)\r\n      2           0 LOAD_GLOBAL              0 (a)\r\n                  3 POP_JUMP_IF_FALSE       15\r\n    \r\n      3           6 LOAD_CONST               1 (1)\r\n                  9 STORE_FAST               0 (b)\r\n                 12 JUMP_FORWARD            15 (to 30)\r\n    \r\n      5     &gt;&gt;   15 LOAD_GLOBAL              1 (aa)\r\n                 18 POP_JUMP_IF_FALSE       30\r\n    \r\n      6          21 LOAD_CONST               2 (2)\r\n                 24 STORE_FAST               0 (b)\r\n                 27 JUMP_FORWARD             0 (to 30)\r\n            &gt;&gt;   30 LOAD_CONST               0 (None)\r\n                 33 RETURN_VALUE        \r\n\r\nIt looks like our two functions are using the same bytecode -- So apparently they&#39;re equivalent.\r\n\r\nCareful though, bytecode is an implementation detail of CPython -- There&#39;s no telling that _all_ python implementations do the same thing behind the scenes -- All that matters is that they have the same behavior.  Working through the logic, you can convince yourself that `f1` and `f2` should do the same thing regardless of whether the underlying implementation treats it as &quot;syntatic sugar&quot; or if there is something more sophisticated going on.","title":"Is the python &quot;elif&quot; compiled differently from else: if?","body":"<p>When you really want to know what is going on behind the scenes in the interpreter, you can use the <code>dis</code> module.  In this case:</p>\n\n<pre><code>&gt;&gt;&gt; def f1():\n...   if a:\n...     b = 1\n...   elif aa:\n...     b = 2\n... \n&gt;&gt;&gt; def f2():\n...   if a:\n...     b = 1\n...   else:\n...     if aa:\n...       b = 2\n... \n&gt;&gt;&gt; dis.dis(f1)\n  2           0 LOAD_GLOBAL              0 (a)\n              3 POP_JUMP_IF_FALSE       15\n\n  3           6 LOAD_CONST               1 (1)\n              9 STORE_FAST               0 (b)\n             12 JUMP_FORWARD            15 (to 30)\n\n  4     &gt;&gt;   15 LOAD_GLOBAL              1 (aa)\n             18 POP_JUMP_IF_FALSE       30\n\n  5          21 LOAD_CONST               2 (2)\n             24 STORE_FAST               0 (b)\n             27 JUMP_FORWARD             0 (to 30)\n        &gt;&gt;   30 LOAD_CONST               0 (None)\n             33 RETURN_VALUE        \n&gt;&gt;&gt; dis.dis(f2)\n  2           0 LOAD_GLOBAL              0 (a)\n              3 POP_JUMP_IF_FALSE       15\n\n  3           6 LOAD_CONST               1 (1)\n              9 STORE_FAST               0 (b)\n             12 JUMP_FORWARD            15 (to 30)\n\n  5     &gt;&gt;   15 LOAD_GLOBAL              1 (aa)\n             18 POP_JUMP_IF_FALSE       30\n\n  6          21 LOAD_CONST               2 (2)\n             24 STORE_FAST               0 (b)\n             27 JUMP_FORWARD             0 (to 30)\n        &gt;&gt;   30 LOAD_CONST               0 (None)\n             33 RETURN_VALUE        \n</code></pre>\n\n<p>It looks like our two functions are using the same bytecode -- So apparently they're equivalent.</p>\n\n<p>Careful though, bytecode is an implementation detail of CPython -- There's no telling that <em>all</em> python implementations do the same thing behind the scenes -- All that matters is that they have the same behavior.  Working through the logic, you can convince yourself that <code>f1</code> and <code>f2</code> should do the same thing regardless of whether the underlying implementation treats it as \"syntatic sugar\" or if there is something more sophisticated going on.</p>\n"},{"tags":[],"owner":{"account_id":7480150,"reputation":43,"user_id":5685105,"display_name":"M. Bloom"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1450246376,"creation_date":1450246376,"answer_id":34305073,"question_id":34304936,"body_markdown":"The three following code snippets would all execute using the same logic however all use different syntax.\r\n\r\n    elif condition: ...\r\n\r\n&lt;!-- tsk --&gt;\r\n\r\n    else if conition { ...\r\n\r\n&lt;!-- tsk --&gt;\r\n\r\n    else {\r\n        if conition { ...\r\n    }\r\nPython&#39;s `elif` is just syntactic sugar for the common `else if` statement  ","title":"Is the python &quot;elif&quot; compiled differently from else: if?","body":"<p>The three following code snippets would all execute using the same logic however all use different syntax.</p>\n\n<pre><code>elif condition: ...\n</code></pre>\n\n\n\n<pre><code>else if conition { ...\n</code></pre>\n\n\n\n<pre><code>else {\n    if conition { ...\n}\n</code></pre>\n\n<p>Python's <code>elif</code> is just syntactic sugar for the common <code>else if</code> statement  </p>\n"}],"owner":{"account_id":7262778,"reputation":851,"user_id":5538786,"display_name":"hargasinski"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":778,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":34305041,"answer_count":4,"score":8,"last_activity_date":1643665530,"creation_date":1450245684,"question_id":34304936,"body_markdown":"I know in languages such as C, C++, Java and C#, ([C# example](https://stackoverflow.com/questions/3374909/do-else-if-statements-exist-in-c))the `else if` statement is syntactic sugar, in that it&#39;s really just a one `else` statement followed by an `if` statement. \r\n\r\n    else if (conition(s)) { ...\r\nis equal to \r\n\r\n    else {\r\n        if (condition(s)) { ...\r\n    }\r\n\r\nHowever, in python, there is a special `elif` statement. I&#39;ve been wondering if this is just shorthand for developers or if there is some hidden optimization python can do because of this, such as be interpreted faster? But this wouldn&#39;t make sense to me, as other languages would be doing it too then (such as JavaScript). So, my question is, in python is the `elif` statement just shorthand for the developers to use or is there something hidden that it gains through doing so? ","title":"Is the python &quot;elif&quot; compiled differently from else: if?","body":"<p>I know in languages such as C, C++, Java and C#, (<a href=\"https://stackoverflow.com/questions/3374909/do-else-if-statements-exist-in-c\">C# example</a>)the <code>else if</code> statement is syntactic sugar, in that it's really just a one <code>else</code> statement followed by an <code>if</code> statement. </p>\n\n<pre><code>else if (conition(s)) { ...\n</code></pre>\n\n<p>is equal to </p>\n\n<pre><code>else {\n    if (condition(s)) { ...\n}\n</code></pre>\n\n<p>However, in python, there is a special <code>elif</code> statement. I've been wondering if this is just shorthand for developers or if there is some hidden optimization python can do because of this, such as be interpreted faster? But this wouldn't make sense to me, as other languages would be doing it too then (such as JavaScript). So, my question is, in python is the <code>elif</code> statement just shorthand for the developers to use or is there something hidden that it gains through doing so? </p>\n"},{"tags":["java","eclipse","m2eclipse"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1643481966,"post_id":70908608,"comment_id":125353643,"body_markdown":"Are your eclipse configuration files stored in git?","body":"Are your eclipse configuration files stored in git?"},{"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"score":0,"creation_date":1643482427,"post_id":70908608,"comment_id":125353742,"body_markdown":"Good question. They are not.","body":"Good question. They are not."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1643531395,"post_id":70908608,"comment_id":125361197,"body_markdown":"When recreating a maven project, use Maven -&gt; import project.  (Preferably on an already checked out project. ). Otherwise the maven magic does not kick in.","body":"When recreating a maven project, use Maven -&gt; import project.  (Preferably on an already checked out project. ). Otherwise the maven magic does not kick in."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1643533264,"post_id":70908608,"comment_id":125361496,"body_markdown":"@Thorbj&#248;rnRavnAndersen Smart import detects Maven projects for years.","body":"@Thorbj&#248;rnRavnAndersen Smart import detects Maven projects for years."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1643535023,"post_id":70908608,"comment_id":125361764,"body_markdown":"@howlger then help him.  If you can.","body":"@howlger then help him.  If you can."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1643538752,"post_id":70908608,"comment_id":125362397,"body_markdown":"The `.classpath` file should refer to `org.eclipse.m2e.MAVEN2_CLASSPATH_CONTAINER`  rather to specific dependencies. In the _Project Explorer_ the project should have _Maven Dependencies_ rather than _Referenced Libraries_. Otherwise the `.classpath` file is probably broken by referring dependencies directly instead via m2e derived from the POM.","body":"The <code>.classpath</code> file should refer to <code>org.eclipse.m2e.MAVEN2_CLASSPATH_CONTAINER</code>  rather to specific dependencies. In the <i>Project Explorer</i> the project should have <i>Maven Dependencies</i> rather than <i>Referenced Libraries</i>. Otherwise the <code>.classpath</code> file is probably broken by referring dependencies directly instead via m2e derived from the POM."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1643559307,"post_id":70908608,"comment_id":125367235,"body_markdown":"You may also want to check if the project builds and runs from the command line. I’ve seen undefined behavior if the build was broken.","body":"You may also want to check if the project builds and runs from the command line. I’ve seen undefined behavior if the build was broken."},{"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"score":0,"creation_date":1643580317,"post_id":70908608,"comment_id":125372205,"body_markdown":"@howlger , ok, what could have caused it to generate &quot;M2_REPO/&quot; path entries instead of using MCC? I have a bunch of different Maven projects cloned to my local git tree. I find that most of them reference MCC, and only a handful reference M2_REPO, although those are all ones that I&#39;ve directly worked on. Many of the MCC ones I&#39;ve only looked at or worked on briefly. I guess I&#39;m going to save off what I have and go through the process again. Sorry I didn&#39;t mention it, but it does build fine from the command line.","body":"@howlger , ok, what could have caused it to generate &quot;M2_REPO/&quot; path entries instead of using MCC? I have a bunch of different Maven projects cloned to my local git tree. I find that most of them reference MCC, and only a handful reference M2_REPO, although those are all ones that I&#39;ve directly worked on. Many of the MCC ones I&#39;ve only looked at or worked on briefly. I guess I&#39;m going to save off what I have and go through the process again. Sorry I didn&#39;t mention it, but it does build fine from the command line."},{"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"score":0,"creation_date":1643582759,"post_id":70908608,"comment_id":125372640,"body_markdown":"I&#39;ve updated the post with more details on each import scenario I tried.","body":"I&#39;ve updated the post with more details on each import scenario I tried."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1643587323,"post_id":70908608,"comment_id":125373365,"body_markdown":"Interesting.  Is this a publicly accessible git repository?","body":"Interesting.  Is this a publicly accessible git repository?"},{"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"score":0,"creation_date":1643590332,"post_id":70908608,"comment_id":125373828,"body_markdown":"Sorry, no. It would likely take a lot of work to figure out what in this project is causing these symptoms. I would think figuring out why import from git isn&#39;t detecting Java would be straightforward for someone familiar with the internals. It seems like that&#39;s the most important issue. The eclipse plug in shouldn&#39;t be relied on, if possible.","body":"Sorry, no. It would likely take a lot of work to figure out what in this project is causing these symptoms. I would think figuring out why import from git isn&#39;t detecting Java would be straightforward for someone familiar with the internals. It seems like that&#39;s the most important issue. The eclipse plug in shouldn&#39;t be relied on, if possible."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1643597461,"post_id":70908608,"comment_id":125374752,"body_markdown":"To my understanding `mvn eclipse:eclipse` is from a time long before eclipse got good built-in maven support and should not be used today.","body":"To my understanding <code>mvn eclipse:eclipse</code> is from a time long before eclipse got good built-in maven support and should not be used today."},{"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"score":0,"creation_date":1643608717,"post_id":70908608,"comment_id":125376333,"body_markdown":"Yes, I think we&#39;ve already established that.","body":"Yes, I think we&#39;ve already established that."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1643612554,"post_id":70908608,"comment_id":125377132,"body_markdown":"tl;dr https://stackoverflow.com/help/minimal-reproducible-example please","body":"tl;dr <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a> please"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1643630620,"post_id":70908608,"comment_id":125383047,"body_markdown":"First step would probably be downloading and unzipping a fresh copy of the latest Eclipse so you know that the platform you have problems with is not broken with, and then repeat the &quot;Maven -&gt; Import existing&quot; bit into a new and fresh workspace.","body":"First step would probably be downloading and unzipping a fresh copy of the latest Eclipse so you know that the platform you have problems with is not broken with, and then repeat the &quot;Maven -&gt; Import existing&quot; bit into a new and fresh workspace."},{"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"score":0,"creation_date":1643654875,"post_id":70908608,"comment_id":125393029,"body_markdown":"Yes, @howlger, it would be great if I could produce an isolated test for case maven import failing to detect java, but I have no idea why it is doing this. I&#39;ve tried with a couple of &quot;hello world&quot; projects generated from spring.io, but none of those display the symptom. There are multiple people in my organization seeing the same problem.","body":"Yes, @howlger, it would be great if I could produce an isolated test for case maven import failing to detect java, but I have no idea why it is doing this. I&#39;ve tried with a couple of &quot;hello world&quot; projects generated from spring.io, but none of those display the symptom. There are multiple people in my organization seeing the same problem."},{"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"score":0,"creation_date":1643657477,"post_id":70908608,"comment_id":125394038,"body_markdown":"I at least have more things to try. I&#39;m going in the reverse direction, with a dummy copy of my original service, simply removing things from it and reimporting each time. It doesn&#39;t need to fully compile, it just needs to know it&#39;s a Java app. I&#39;m almost down to the external sample, and it&#39;s still showing the symptom.","body":"I at least have more things to try. I&#39;m going in the reverse direction, with a dummy copy of my original service, simply removing things from it and reimporting each time. It doesn&#39;t need to fully compile, it just needs to know it&#39;s a Java app. I&#39;m almost down to the external sample, and it&#39;s still showing the symptom."},{"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"score":1,"creation_date":1643664145,"post_id":70908608,"comment_id":125396387,"body_markdown":"Ok. I now know what is causing the &quot;Import Maven Project&quot; step to not detect it is Java. I commented out a &quot;lifecycle-mapping&quot; plugin that someone had put into the pom.xml, for reasons I&#39;m not aware of, and when I import it now, it detects it is Java, and properly uses the single &quot;MAVEN2_CLASSPATH_CONTAINER&quot; in the .classpath instead of multiple M2_REPO entries for every dependency. I can update the post with more info now, but as this now is a different issue than I originally posted, I could also create a new post for this.","body":"Ok. I now know what is causing the &quot;Import Maven Project&quot; step to not detect it is Java. I commented out a &quot;lifecycle-mapping&quot; plugin that someone had put into the pom.xml, for reasons I&#39;m not aware of, and when I import it now, it detects it is Java, and properly uses the single &quot;MAVEN2_CLASSPATH_CONTAINER&quot; in the .classpath instead of multiple M2_REPO entries for every dependency. I can update the post with more info now, but as this now is a different issue than I originally posted, I could also create a new post for this."}],"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"comment_count":18,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643665175,"creation_date":1643481677,"question_id":70908608,"body_markdown":"I am currently using Eclipse 2021-12 on Windows.  I work almost exclusively on Java (1.8) Maven projects that are stored in Git.\r\n\r\nI noticed that a project that I just started looking at (cloned it from our central repo) was getting a weird runtime error that didn&#39;t make sense.  The error made it seem like it was referencing an older version of one artifact.  I checked the maven dependencies both from the &quot;Dependency Hierarchy&quot; view and from the command line with &quot;mvn dependency:tree&quot;. Both confirmed that I had the correct version of the artifact.\r\n\r\nHowever, the .classpath file, along with the &quot;Libraries&quot; tab in &quot;Java Build Path&quot; had the previous version of the same artifact.\r\n\r\nI tried &quot;Update Project&quot; with &quot;Force Update of Snapshots/Releases&quot; checked.  No change.\r\n\r\nI then went down the rabbit hole, deleting the project, then the Eclipse dot files, and then reimported the project from the git repo.  That made it even worse. It didn&#39;t even acknowledge it was a Java project.  I couldn&#39;t figure out how to fix this (outside of simply manually editing the .project file, which will be a last resort), so I enabled &quot;Faceted Form&quot;, and that came out with Java automatically selected.  Then I noticed it didn&#39;t even think it was a Maven project, even though it had selected the proper source directories. I selected making it a Maven project.  And finally, that just got me back to where I started, with the wrong version of the artifact specified in the .classpath file.\r\n\r\nFinally, I made a copy of the .classpath file and simply manually edited it.  I found several artifacts with the same problem.  And by &quot;same&quot;, I mean several artifacts all developed internally, which should have been at version &quot;2.6.0&quot;, which is what is specified in the pom hierarchy, were set to version &quot;2.5.0&quot;.\r\n\r\nI then ran the service, and it ran fine.\r\n\r\nI have no idea whether there are any other discrepancies, being differences between the Maven-specified version and the version in the .classpath file.  That would require more thorough examination. I used to think that situation would have been impossible.\r\n\r\n**Update**:\r\n\r\nFrom the comments, I decided to step through this again more carefully, noting the results at each step.\r\n\r\nI first deleted the existing Eclipse project, without deleting the project contents on disk.  I then copied and removed the .classpath, .project, and .settings.  I then imported the project from the Git repo.  It auto-detected &quot;Maven&quot; for &quot;Import as&quot;.  I had &quot;Detect and configured project natures&quot; checked.\r\n\r\nThis resulted in a Maven project, but not a Java project, so it didn&#39;t even generate a .classpath file.  The .project file only had the &quot;maven2Nature&quot; and associated builder.  This somewhat explains why the Maven import didn&#39;t generate the correct .classpath entries.\r\n\r\nAt this point, the only way I know to make it figure out it is a Java project, outside of manually editing the .project file, is to convert to Faceted form.  This successfully added the &quot;javanature&quot; and associated builder, and detected src/main/java and src/test/java, but I still don&#39;t have any dependencies.\r\n\r\nAt this point, I tried &quot;Update Project&quot; with &quot;Force&quot; checked. That did nothing.  I tried &quot;Disable workspace resolution&quot; (which I want anyway). That did nothing.\r\n\r\nIt&#39;s possible that my most recent attempt got an almost sane .classpath file by using &quot;mvn eclipse:eclipse&quot;.  I know, it&#39;s supposed to be a bad idea, but sometimes it seems like the only thing that works.\r\n\r\nIt appears that the key here is that the Maven import from Git doesn&#39;t first detect it&#39;s a Java project.\r\n\r\nJust in case, I did it all again, doing a top-level &quot;File-&gt;Import-&gt;Existing Maven Project&quot;, with almost exactly the same result.  The import from git created the project name as the git repository name, and the import from Existing created the project name as the project name from the pom.xml, the two of which are only different by case.  Otherwise, the result was identical.\r\n\r\nI then tried again, with no dot files, and I copied in an almost empty .project file, removing all but the java nature and builder.  I tried doing git import, but that didn&#39;t auto-detect Maven, so I went back to Import Existing Maven Project, but that resulted in a brain-damaged Java project.  I&#39;m guessing the way I did it made it so that it didn&#39;t know what Java compiler to use, so it couldn&#39;t find &quot;java.lang.Object&quot;.\r\n\r\nI then started over again, removed the dot files, imported from git (auto-detects Maven), then converted to Faceted form, which auto-added Java nature, then ran &quot;mvn eclipse:eclipse&quot; from the command line.  This brought me back to an almost correct configuration, with several artifacts with the almost correct version, with all references using M2_REPO.\r\n\r\nThis makes it clear it wasn&#39;t m2e that was producing the incorrect version numbers, but the &quot;eclipse&quot; plugin.  M2e didn&#39;t even produce a .classpath file, because it didn&#39;t know it was a Java project.\r\n\r\n**Update**:\r\n\r\nI believe I&#39;ve found the element in the original pom.xml such that when this project is imported, m2e doesn&#39;t acknowledge it is a Java project, which results in no .classpath file being created.\r\n\r\nBefore I post what I found, I wanted to say that I didn&#39;t write this, I&#39;m just trying to figure out why it&#39;s broken.  The thing that someone put in here is something I would never do, and I had noticed it earlier, but it didn&#39;t occur to me it would result in what I&#39;ve been seeing.\r\n\r\nWhat I found in plugins was a &quot;lifecycle-mapping&quot; plugin, looking like this:\r\n\r\n\t&lt;plugin&gt;\r\n\t\t&lt;groupId&gt;org.eclipse.m2e&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;lifecycle-mapping&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.0.0&lt;/version&gt;\r\n\t\t&lt;configuration&gt;\r\n\t\t\t&lt;lifecycleMappingMetadata&gt;\r\n\t\t\t\t&lt;pluginExecutions&gt;\r\n\t\t\t\t\t&lt;pluginExecution&gt;\r\n\t\t\t\t\t\t&lt;pluginExecutionFilter&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t&lt;versionRange&gt;[3.8.0,)&lt;/versionRange&gt;\r\n\t\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t\t&lt;goal&gt;testCompile&lt;/goal&gt;\r\n\t\t\t\t\t\t\t\t&lt;goal&gt;compile&lt;/goal&gt;\r\n\t\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;/pluginExecutionFilter&gt;\r\n\t\t\t\t\t\t&lt;action&gt; &lt;ignore&gt;&lt;/ignore&gt; &lt;/action&gt;\r\n\t\t\t\t\t&lt;/pluginExecution&gt;\r\n\t\t\t\t&lt;/pluginExecutions&gt;\r\n\t\t\t&lt;/lifecycleMappingMetadata&gt;\r\n\t\t&lt;/configuration&gt;\r\n\t&lt;/plugin&gt;\r\n\r\nWhen I change nothing else in the pom.xml but comment this out, importing this project works correctly.\r\n\r\nFrankly, I don&#39;t really know why some people in my org do this.  I think they must give up trying to properly configure m2e, and this is just a way to get rid of the red Xs (even if it doesn&#39;t actually fix anything).\r\n\r\nObviously, the fix is to just remove this, but I&#39;d appreciate any background anyone could provide on why someone might do this, and what they should be doing instead.","title":"Why is m2e putting the wrong version of some artifacts into the .classpath file?","body":"<p>I am currently using Eclipse 2021-12 on Windows.  I work almost exclusively on Java (1.8) Maven projects that are stored in Git.</p>\n<p>I noticed that a project that I just started looking at (cloned it from our central repo) was getting a weird runtime error that didn't make sense.  The error made it seem like it was referencing an older version of one artifact.  I checked the maven dependencies both from the &quot;Dependency Hierarchy&quot; view and from the command line with &quot;mvn dependency:tree&quot;. Both confirmed that I had the correct version of the artifact.</p>\n<p>However, the .classpath file, along with the &quot;Libraries&quot; tab in &quot;Java Build Path&quot; had the previous version of the same artifact.</p>\n<p>I tried &quot;Update Project&quot; with &quot;Force Update of Snapshots/Releases&quot; checked.  No change.</p>\n<p>I then went down the rabbit hole, deleting the project, then the Eclipse dot files, and then reimported the project from the git repo.  That made it even worse. It didn't even acknowledge it was a Java project.  I couldn't figure out how to fix this (outside of simply manually editing the .project file, which will be a last resort), so I enabled &quot;Faceted Form&quot;, and that came out with Java automatically selected.  Then I noticed it didn't even think it was a Maven project, even though it had selected the proper source directories. I selected making it a Maven project.  And finally, that just got me back to where I started, with the wrong version of the artifact specified in the .classpath file.</p>\n<p>Finally, I made a copy of the .classpath file and simply manually edited it.  I found several artifacts with the same problem.  And by &quot;same&quot;, I mean several artifacts all developed internally, which should have been at version &quot;2.6.0&quot;, which is what is specified in the pom hierarchy, were set to version &quot;2.5.0&quot;.</p>\n<p>I then ran the service, and it ran fine.</p>\n<p>I have no idea whether there are any other discrepancies, being differences between the Maven-specified version and the version in the .classpath file.  That would require more thorough examination. I used to think that situation would have been impossible.</p>\n<p><strong>Update</strong>:</p>\n<p>From the comments, I decided to step through this again more carefully, noting the results at each step.</p>\n<p>I first deleted the existing Eclipse project, without deleting the project contents on disk.  I then copied and removed the .classpath, .project, and .settings.  I then imported the project from the Git repo.  It auto-detected &quot;Maven&quot; for &quot;Import as&quot;.  I had &quot;Detect and configured project natures&quot; checked.</p>\n<p>This resulted in a Maven project, but not a Java project, so it didn't even generate a .classpath file.  The .project file only had the &quot;maven2Nature&quot; and associated builder.  This somewhat explains why the Maven import didn't generate the correct .classpath entries.</p>\n<p>At this point, the only way I know to make it figure out it is a Java project, outside of manually editing the .project file, is to convert to Faceted form.  This successfully added the &quot;javanature&quot; and associated builder, and detected src/main/java and src/test/java, but I still don't have any dependencies.</p>\n<p>At this point, I tried &quot;Update Project&quot; with &quot;Force&quot; checked. That did nothing.  I tried &quot;Disable workspace resolution&quot; (which I want anyway). That did nothing.</p>\n<p>It's possible that my most recent attempt got an almost sane .classpath file by using &quot;mvn eclipse:eclipse&quot;.  I know, it's supposed to be a bad idea, but sometimes it seems like the only thing that works.</p>\n<p>It appears that the key here is that the Maven import from Git doesn't first detect it's a Java project.</p>\n<p>Just in case, I did it all again, doing a top-level &quot;File-&gt;Import-&gt;Existing Maven Project&quot;, with almost exactly the same result.  The import from git created the project name as the git repository name, and the import from Existing created the project name as the project name from the pom.xml, the two of which are only different by case.  Otherwise, the result was identical.</p>\n<p>I then tried again, with no dot files, and I copied in an almost empty .project file, removing all but the java nature and builder.  I tried doing git import, but that didn't auto-detect Maven, so I went back to Import Existing Maven Project, but that resulted in a brain-damaged Java project.  I'm guessing the way I did it made it so that it didn't know what Java compiler to use, so it couldn't find &quot;java.lang.Object&quot;.</p>\n<p>I then started over again, removed the dot files, imported from git (auto-detects Maven), then converted to Faceted form, which auto-added Java nature, then ran &quot;mvn eclipse:eclipse&quot; from the command line.  This brought me back to an almost correct configuration, with several artifacts with the almost correct version, with all references using M2_REPO.</p>\n<p>This makes it clear it wasn't m2e that was producing the incorrect version numbers, but the &quot;eclipse&quot; plugin.  M2e didn't even produce a .classpath file, because it didn't know it was a Java project.</p>\n<p><strong>Update</strong>:</p>\n<p>I believe I've found the element in the original pom.xml such that when this project is imported, m2e doesn't acknowledge it is a Java project, which results in no .classpath file being created.</p>\n<p>Before I post what I found, I wanted to say that I didn't write this, I'm just trying to figure out why it's broken.  The thing that someone put in here is something I would never do, and I had noticed it earlier, but it didn't occur to me it would result in what I've been seeing.</p>\n<p>What I found in plugins was a &quot;lifecycle-mapping&quot; plugin, looking like this:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.eclipse.m2e&lt;/groupId&gt;\n    &lt;artifactId&gt;lifecycle-mapping&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;lifecycleMappingMetadata&gt;\n            &lt;pluginExecutions&gt;\n                &lt;pluginExecution&gt;\n                    &lt;pluginExecutionFilter&gt;\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                        &lt;versionRange&gt;[3.8.0,)&lt;/versionRange&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;testCompile&lt;/goal&gt;\n                            &lt;goal&gt;compile&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/pluginExecutionFilter&gt;\n                    &lt;action&gt; &lt;ignore&gt;&lt;/ignore&gt; &lt;/action&gt;\n                &lt;/pluginExecution&gt;\n            &lt;/pluginExecutions&gt;\n        &lt;/lifecycleMappingMetadata&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>When I change nothing else in the pom.xml but comment this out, importing this project works correctly.</p>\n<p>Frankly, I don't really know why some people in my org do this.  I think they must give up trying to properly configure m2e, and this is just a way to get rid of the red Xs (even if it doesn't actually fix anything).</p>\n<p>Obviously, the fix is to just remove this, but I'd appreciate any background anyone could provide on why someone might do this, and what they should be doing instead.</p>\n"},{"tags":["java","python","eclipse","spring-tool-suite","shortcut"],"comments":[{"owner":{"account_id":1483926,"reputation":1066,"user_id":1392578,"accept_rate":100,"display_name":"Neil P."},"score":1,"creation_date":1500736322,"post_id":45256038,"comment_id":77475732,"body_markdown":"Would probably be helpful if you let us know which version of Eclipse you&#39;re using (Kepler,Mars, etc.)","body":"Would probably be helpful if you let us know which version of Eclipse you&#39;re using (Kepler,Mars, etc.)"},{"owner":{"account_id":3880486,"reputation":407,"user_id":3259505,"accept_rate":100,"display_name":"Jagadeesh"},"score":0,"creation_date":1500737607,"post_id":45256038,"comment_id":77476117,"body_markdown":"@Neil I am using Eclipse Neon.3","body":"@Neil I am using Eclipse Neon.3"},{"owner":{"account_id":5989141,"reputation":5020,"user_id":7725621,"accept_rate":77,"display_name":"Kohei TAMURA"},"score":1,"creation_date":1500789383,"post_id":45256038,"comment_id":77487257,"body_markdown":"Vote +1. I have the same problem, using default key binding on Spring Tool Suite - Version: 3.9.0.RELEASE, Build Id: 201707061903, Platform: Eclipse Neon.3 (4.6.3)","body":"Vote +1. I have the same problem, using default key binding on Spring Tool Suite - Version: 3.9.0.RELEASE, Build Id: 201707061903, Platform: Eclipse Neon.3 (4.6.3)"}],"answers":[{"tags":[],"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"down_vote_count":0,"up_vote_count":59,"is_accepted":false,"score":59,"last_activity_date":1501680100,"creation_date":1500819968,"answer_id":45266159,"question_id":45256038,"body_markdown":"The Java *Organize Import* command is **overwritten by another &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;O&lt;/kbd&gt; command**: in *Window &gt; Preferences: General &gt; Keys* the Java *Organize Import* command (where *When* is *In Windows*) is bound to &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;O&lt;/kbd&gt;, but in the main and right-click menu *Source &gt; Organize Imports* the command is displayed without the shortcut.\r\n\r\nThere are two solutions for this problem:\r\n\r\n - Change or **remove the shortcut of the command that overwrites** the Java *Organize Import* command:\r\n \r\n  1. Find the command: In the Java editor press &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;L&lt;/kbd&gt; and see which command is bound to &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;O&lt;/kbd&gt;. Probably, it is the ***Beans Quick Outline*** command.\r\n  2. In *Window &gt; Preferences: General &gt; Keys* change or remove the binding for the found command.\r\n\r\n - **Restricts the scope of the shortcut** of Java *Organize Import* to the Java editor:\r\n  1. In *Window &gt; Preferences: General &gt; Keys* select the Java ***Organize Import*** command and **change *When*** from ***In Windows*** to ***Editing Java Source***. This solution restricts &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;O&lt;/kbd&gt; to the Java editor and disables the shortcut in the *Package/Project Explorer*.\r\n\r\nSee also: [Spring IDE issue #160: *organize imports is not working*][1] \r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-ide/issues/160","title":"Eclipse Organize Imports Shortcut (Ctrl+Shift+O) is not working","body":"<p>The Java <em>Organize Import</em> command is <strong>overwritten by another <kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>O</kbd> command</strong>: in <em>Window > Preferences: General > Keys</em> the Java <em>Organize Import</em> command (where <em>When</em> is <em>In Windows</em>) is bound to <kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>O</kbd>, but in the main and right-click menu <em>Source > Organize Imports</em> the command is displayed without the shortcut.</p>\n\n<p>There are two solutions for this problem:</p>\n\n<ul>\n<li><p>Change or <strong>remove the shortcut of the command that overwrites</strong> the Java <em>Organize Import</em> command:</p>\n\n<ol>\n<li>Find the command: In the Java editor press <kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>L</kbd> and see which command is bound to <kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>O</kbd>. Probably, it is the <strong><em>Beans Quick Outline</em></strong> command.</li>\n<li>In <em>Window > Preferences: General > Keys</em> change or remove the binding for the found command.</li>\n</ol></li>\n<li><p><strong>Restricts the scope of the shortcut</strong> of Java <em>Organize Import</em> to the Java editor:</p>\n\n<ol>\n<li>In <em>Window > Preferences: General > Keys</em> select the Java <strong><em>Organize Import</em></strong> command and <strong>change <em>When</em></strong> from <strong><em>In Windows</em></strong> to <strong><em>Editing Java Source</em></strong>. This solution restricts <kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>O</kbd> to the Java editor and disables the shortcut in the <em>Package/Project Explorer</em>.</li>\n</ol></li>\n</ul>\n\n<p>See also: <a href=\"https://github.com/spring-projects/spring-ide/issues/160\" rel=\"noreferrer\">Spring IDE issue #160: <em>organize imports is not working</em></a> </p>\n"},{"tags":[],"owner":{"account_id":2471790,"reputation":608,"user_id":2153465,"display_name":"codemonkey"},"down_vote_count":0,"up_vote_count":33,"is_accepted":true,"score":33,"last_activity_date":1505826795,"creation_date":1501586842,"answer_id":45436548,"question_id":45256038,"body_markdown":"To fix this issue:\r\n\r\nGo to `Preferences` -&gt; `General` -&gt; `Keys`\r\nClick on `Filters...` and de-select `Filter uncategorized commands` then `Ok`.\r\n\r\nThen look for the command `Go To Symbol in File` and select it.\r\nThen click on `Unbind` and then `Apply` and Close\r\n\r\n**&lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;O&lt;/kbd&gt;**. should now work.\r\n\r\nEDIT:\r\n\r\nAlso unbind any other conflicting commands and leave only one command for **&lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;O&lt;/kbd&gt;** and set the `When` to `Editing Java Source`.\r\n","title":"Eclipse Organize Imports Shortcut (Ctrl+Shift+O) is not working","body":"<p>To fix this issue:</p>\n\n<p>Go to <code>Preferences</code> -> <code>General</code> -> <code>Keys</code>\nClick on <code>Filters...</code> and de-select <code>Filter uncategorized commands</code> then <code>Ok</code>.</p>\n\n<p>Then look for the command <code>Go To Symbol in File</code> and select it.\nThen click on <code>Unbind</code> and then <code>Apply</code> and Close</p>\n\n<p><strong><kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>O</kbd></strong>. should now work.</p>\n\n<p>EDIT:</p>\n\n<p>Also unbind any other conflicting commands and leave only one command for <strong><kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>O</kbd></strong> and set the <code>When</code> to <code>Editing Java Source</code>.</p>\n"},{"tags":[],"owner":{"account_id":9816388,"reputation":1294,"user_id":7272763,"accept_rate":100,"display_name":"ibercode"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1521984877,"creation_date":1506084976,"answer_id":46365369,"question_id":45256038,"body_markdown":"Window -&gt; Preferences -&gt; General -&gt; Keys\r\n\r\nClick on Binding to sort by Binding then scroll and find &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;O&lt;/kbd&gt;\r\n\r\nIf several Organized imports are present edit one bind and choose WHEN: EDITING JAVA SOURCE.\r\n\r\nRemove( UNBIND COMMAND) for other existing bindings.\r\n\r\nRestart Eclipse\r\n![Image][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/J2hUN.jpg","title":"Eclipse Organize Imports Shortcut (Ctrl+Shift+O) is not working","body":"<p>Window -> Preferences -> General -> Keys</p>\n\n<p>Click on Binding to sort by Binding then scroll and find <kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>O</kbd></p>\n\n<p>If several Organized imports are present edit one bind and choose WHEN: EDITING JAVA SOURCE.</p>\n\n<p>Remove( UNBIND COMMAND) for other existing bindings.</p>\n\n<p>Restart Eclipse\n<img src=\"https://i.stack.imgur.com/J2hUN.jpg\" alt=\"Image\"></p>\n"},{"tags":[],"owner":{"account_id":6868978,"reputation":721,"user_id":5280183,"display_name":"andrbrue"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1601555114,"creation_date":1522204462,"answer_id":49525186,"question_id":45256038,"body_markdown":"Please keep in mind that if you are using an AMD GPU, your Radeon Driver could block &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;O&lt;/kbd&gt; which is used to toggle an ingame-overlay. It can be changed to other keys as follows: **Games → global settings → performance monitoring**","title":"Eclipse Organize Imports Shortcut (Ctrl+Shift+O) is not working","body":"<p>Please keep in mind that if you are using an AMD GPU, your Radeon Driver could block <kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>O</kbd> which is used to toggle an ingame-overlay. It can be changed to other keys as follows: <strong>Games → global settings → performance monitoring</strong></p>\n"},{"tags":[],"owner":{"account_id":1502229,"reputation":2973,"user_id":1406510,"accept_rate":64,"display_name":"nanosoft"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1584809370,"creation_date":1584809370,"answer_id":60790548,"question_id":45256038,"body_markdown":"Above shortcut resulted in GPU details being popped up on my screen. SO it was bound to some other app which was overriding it. What worked for me is \r\n -&gt; [check][1].\r\n\r\nYou need to go to Gaming &gt; Global Settings &gt; Performance Monitoring &gt; Toggle Performance Logging Hotkey\r\n\r\nYou will see this is bound to Ctrl + Shift + O (so the shortcut is used - just buried).\r\n\r\nTo remove the shortcut (not an obvious process at all!) you need to click the Toggle Performance Logging Hotkey button, it will then ask to enter your hotkey, you then press delete - that is Del (not backspace, not esc or anything else - the Del key).\r\n\r\n\r\n  [1]: https://community.amd.com/thread/227221","title":"Eclipse Organize Imports Shortcut (Ctrl+Shift+O) is not working","body":"<p>Above shortcut resulted in GPU details being popped up on my screen. SO it was bound to some other app which was overriding it. What worked for me is \n -> <a href=\"https://community.amd.com/thread/227221\" rel=\"nofollow noreferrer\">check</a>.</p>\n\n<p>You need to go to Gaming > Global Settings > Performance Monitoring > Toggle Performance Logging Hotkey</p>\n\n<p>You will see this is bound to Ctrl + Shift + O (so the shortcut is used - just buried).</p>\n\n<p>To remove the shortcut (not an obvious process at all!) you need to click the Toggle Performance Logging Hotkey button, it will then ask to enter your hotkey, you then press delete - that is Del (not backspace, not esc or anything else - the Del key).</p>\n"},{"tags":[],"owner":{"account_id":18696854,"reputation":1,"user_id":13629965,"display_name":"Yalcin Yildiz"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1595797928,"creation_date":1595797928,"answer_id":63105744,"question_id":45256038,"body_markdown":"i did all but not worked so i checked the AMD forum (https://community.amd.com/thread/227221) and found out my solution which is;\r\n&quot;Now I find that all I need to do is to go to Radeon Settings -&gt; Preferences and uncheck the Show Overlay box.&quot;\r\n\r\n ","title":"Eclipse Organize Imports Shortcut (Ctrl+Shift+O) is not working","body":"<p>i did all but not worked so i checked the AMD forum (<a href=\"https://community.amd.com/thread/227221\" rel=\"nofollow noreferrer\">https://community.amd.com/thread/227221</a>) and found out my solution which is;\n&quot;Now I find that all I need to do is to go to Radeon Settings -&gt; Preferences and uncheck the Show Overlay box.&quot;</p>\n"}],"owner":{"account_id":3880486,"reputation":407,"user_id":3259505,"accept_rate":100,"display_name":"Jagadeesh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40865,"favorite_count":0,"down_vote_count":0,"up_vote_count":38,"accepted_answer_id":45436548,"answer_count":6,"score":38,"last_activity_date":1643665037,"creation_date":1500736195,"question_id":45256038,"body_markdown":"Eclipse used to import missing packages when I press &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;O&lt;/kbd&gt;.\r\n\r\n   The shortcut key has stopped working when used in Java files but the same shortcut is working in Python files (importing missing packages).\r\n   \r\n   Any thoughts on how to fix the issue. \r\n \r\n   Below are couple of snapshots for your reference.\r\n\r\n[![Keys Binding][1]][1]\r\n\r\n[![Organize Imports in Source][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EsKEr.png\r\n  [2]: https://i.stack.imgur.com/vtzNx.png","title":"Eclipse Organize Imports Shortcut (Ctrl+Shift+O) is not working","body":"<p>Eclipse used to import missing packages when I press <kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>O</kbd>.</p>\n\n<p>The shortcut key has stopped working when used in Java files but the same shortcut is working in Python files (importing missing packages).</p>\n\n<p>Any thoughts on how to fix the issue. </p>\n\n<p>Below are couple of snapshots for your reference.</p>\n\n<p><a href=\"https://i.stack.imgur.com/EsKEr.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/EsKEr.png\" alt=\"Keys Binding\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/vtzNx.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/vtzNx.png\" alt=\"Organize Imports in Source\"></a></p>\n"},{"tags":["java","android","android-studio","android-api-30"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1642803870,"post_id":70807554,"comment_id":125178274,"body_markdown":"`File filePath = new File(root + uri);` ? root + uri? An uri? Please tell value of filePath.getAbsolutePath(). If an app can create a directory it can certainly delete it.","body":"<code>File filePath = new File(root + uri);</code> ? root + uri? An uri? Please tell value of filePath.getAbsolutePath(). If an app can create a directory it can certainly delete it."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1642803961,"post_id":70807554,"comment_id":125178297,"body_markdown":"First show the code where your app creates the folders. After that the delete code. Show us what you do.","body":"First show the code where your app creates the folders. After that the delete code. Show us what you do."}],"owner":{"account_id":21252230,"reputation":61,"user_id":15634321,"display_name":"Matin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":263,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1643664497,"creation_date":1642798589,"question_id":70807554,"body_markdown":"I created an app that creates folders based on the user&#39;s name, and there is an option to delete those folders, and even delete pre-made folders without my app.\r\n\r\nMy app works well on Android 8, 8.1 and 9, but it is different in newer versions of Android and I can no longer delete folders.\r\n\r\nI requested access to memory and read and write using this\r\n\r\n```xml\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;\r\n```\r\n\r\nIn Java code:\r\n\r\n```java\r\nActivityCompat.requestPermissions(this,new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE, \r\n                Manifest.permission.READ_EXTERNAL_STORAGE},\r\n                PackageManager.PERMISSION_GRANTED);\r\n```\r\n\r\nAnd this my code for delete folders:\r\n\r\n```java\r\n        if (filePath.exists()) {\r\n            if (filePath.delete()) {\r\n                Toast.makeText(this, &quot;Delete Folder Successfully.&quot;, Toast.LENGTH_LONG).show();\r\n            }\r\n        }\r\n```\r\n\r\nI create Folder like this:\r\n\r\n```java\r\n        create_folder = (EditText) findViewById(R.id.creat_folder);\r\n        submitButton = (Button) findViewById(R.id.submitButton);\r\n        submitButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                create_folder = new_created_folder.getText().toString();\r\n            }\r\n        });\r\n    }\r\n\r\n    String root = Environment.getExternalStorageDirectory().toString();\r\n    File filePath = new File(root + create_folder);\r\n    \r\n    public void creatFile(View view){\r\n        try {\r\n            filePath.createNewFile();\r\n\r\n            Toast.makeText(this,&quot;Ready For Generate..&quot;,Toast.LENGTH_LONG).show();\r\n        }\r\n        catch (IOException e){\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n```\r\n\r\nI&#39;m sure that creating folders works properly, but I also want my software to be able to delete folders on the device itself (folders that were previously created without using my app)\r\n\r\nI do not know what to do in Android 10 and 11 and is there any way to delete folders in these?\r\n","title":"How delete Folder on Android API 30 and API 29","body":"<p>I created an app that creates folders based on the user's name, and there is an option to delete those folders, and even delete pre-made folders without my app.</p>\n<p>My app works well on Android 8, 8.1 and 9, but it is different in newer versions of Android and I can no longer delete folders.</p>\n<p>I requested access to memory and read and write using this</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;\n</code></pre>\n<p>In Java code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ActivityCompat.requestPermissions(this,new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE, \n                Manifest.permission.READ_EXTERNAL_STORAGE},\n                PackageManager.PERMISSION_GRANTED);\n</code></pre>\n<p>And this my code for delete folders:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        if (filePath.exists()) {\n            if (filePath.delete()) {\n                Toast.makeText(this, &quot;Delete Folder Successfully.&quot;, Toast.LENGTH_LONG).show();\n            }\n        }\n</code></pre>\n<p>I create Folder like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        create_folder = (EditText) findViewById(R.id.creat_folder);\n        submitButton = (Button) findViewById(R.id.submitButton);\n        submitButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                create_folder = new_created_folder.getText().toString();\n            }\n        });\n    }\n\n    String root = Environment.getExternalStorageDirectory().toString();\n    File filePath = new File(root + create_folder);\n    \n    public void creatFile(View view){\n        try {\n            filePath.createNewFile();\n\n            Toast.makeText(this,&quot;Ready For Generate..&quot;,Toast.LENGTH_LONG).show();\n        }\n        catch (IOException e){\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>I'm sure that creating folders works properly, but I also want my software to be able to delete folders on the device itself (folders that were previously created without using my app)</p>\n<p>I do not know what to do in Android 10 and 11 and is there any way to delete folders in these?</p>\n"},{"tags":["java","raspberry-pi","sensors","grovepi+"],"answers":[{"tags":[],"owner":{"account_id":23842,"reputation":2431,"user_id":60114,"accept_rate":100,"display_name":"Boris Daich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643024404,"creation_date":1643024404,"answer_id":70833291,"question_id":70827164,"body_markdown":"    @GroveAnalogPin\r\n    public class GrovePHSensor extends GroveAnalogInputDevice&lt;Double&gt; {\r\n\t     private static final Logger l = \r\n         LogManager.getLogger(GrovePHSensor.class.getName());\r\n\t     /*** pH values range */\r\n\t     public static final double PH_RANGE = 14.0;\r\n\t    /*** \r\n          number of possible samples with 10 bit analog to digital converter \r\n         */\r\n\t    public static final int A2D_RANGE = 1023;\r\n\r\n\tpublic GrovePHSensor(GrovePi grovePi, int pin) throws IOException {\r\n\t\tsuper(grovePi.getAnalogIn(pin, 4));\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Double get(byte[] data) {\r\n\t\t// the extraction of the value is taken from the sample of the \r\n        // RotarySensor3Led \r\n        // https://github.com/DexterInd/GrovePi/blob/master/Software/Java8/GrovePi-spec/src/main/java/org/iot/raspberry/grovepi/devices/GroveRotarySensor.java\r\n        // this is how its is done there\r\n\r\n\t\tint[] v = GroveUtil.unsign(data);\r\n\t\tdouble sensorValue = (v[1] * 256) + v[2];\r\n\r\n\t\t// the Analog to Digital is 10 bit -&gt; 1023 intervals that cover the range of pH of 0 to 14\r\n\t\t// hence the pH value is the sensor value that is 0 to 1024\r\n\t\t// times the pH per interval of the A2D 14/1023\r\n\t\tdouble ph = sensorValue * (PH_RANGE / (double) A2D_RANGE);\r\n\t\tl.trace(&quot;sensorValue = {}  ph={}&quot;, sensorValue, ph);\r\n\t\treturn ph;\r\n\t    }\r\n    }","title":"how to get pH in Java using Grove - PH Sensor Kit (E-201C-Blue) Raspberry pi Zero and GrovePi Zero Board","body":"<pre><code>@GroveAnalogPin\npublic class GrovePHSensor extends GroveAnalogInputDevice&lt;Double&gt; {\n     private static final Logger l = \n     LogManager.getLogger(GrovePHSensor.class.getName());\n     /*** pH values range */\n     public static final double PH_RANGE = 14.0;\n    /*** \n      number of possible samples with 10 bit analog to digital converter \n     */\n    public static final int A2D_RANGE = 1023;\n\npublic GrovePHSensor(GrovePi grovePi, int pin) throws IOException {\n    super(grovePi.getAnalogIn(pin, 4));\n}\n\n@Override\npublic Double get(byte[] data) {\n    // the extraction of the value is taken from the sample of the \n    // RotarySensor3Led \n    // https://github.com/DexterInd/GrovePi/blob/master/Software/Java8/GrovePi-spec/src/main/java/org/iot/raspberry/grovepi/devices/GroveRotarySensor.java\n    // this is how its is done there\n\n    int[] v = GroveUtil.unsign(data);\n    double sensorValue = (v[1] * 256) + v[2];\n\n    // the Analog to Digital is 10 bit -&gt; 1023 intervals that cover the range of pH of 0 to 14\n    // hence the pH value is the sensor value that is 0 to 1024\n    // times the pH per interval of the A2D 14/1023\n    double ph = sensorValue * (PH_RANGE / (double) A2D_RANGE);\n    l.trace(&quot;sensorValue = {}  ph={}&quot;, sensorValue, ph);\n    return ph;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23842,"reputation":2431,"user_id":60114,"accept_rate":100,"display_name":"Boris Daich"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70833291,"answer_count":1,"score":1,"last_activity_date":1643663691,"creation_date":1642977061,"question_id":70827164,"body_markdown":"I have [GrovePi Zero（GrovePi0）][1] from [GrovePi Zero Base Kit][2] and [Grove - PH Sensor Kit (E-201C-Blue)][3] \r\nI am using Java (I can use any version of JDK 8...17) on a Raspberry Pi Zerro 2. \r\nwith GrovePi-pi4j with Pi4j version 1.4 (can use any version)\r\n\r\nmy class GrovePHSensor below represents the PH Sensor.\r\n\r\n    @GroveAnalogPin\r\n    public class GrovePHSensor extends GroveAnalogInputDevice&lt;Double&gt; {\r\n\t   \r\n\tpublic GrovePHSensor(GrovePi grovePi, int pin) throws IOException {\r\n\t\tsuper(grovePi.getAnalogIn(pin, 4));\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Double get(byte[] data) {\r\n     /// WHAT TO DO HERE?\r\n    }\r\n    }\r\n \r\nthe problem is that there are tons of strange code out there that give different result \r\nand even if I think that I understand what it does I am not sure if it the right thing to do.\r\n\r\nfor example the this thread is very confusing https://forum.dexterindustries.com/t/grove-ph-sensor-kit-e-201c-blue-raspberry-pi-zero/7961/13\r\n\r\nat the same time wiki page at Seeed https://wiki.seeedstudio.com/Grove-PH-Sensor-kit/\r\ngives a sample code for Arduino with different formula \r\n\r\nwhen I read the 4 byte[] i get something like [Pi4J IO read][0, 1, -106, -1]\r\nif i read more than 4 bytes than all the bytes at the end are -1\r\n\r\nwould be nice to have a clear implementation of the ``` public Double get(byte[] data) {}```\r\nfunction ...\r\n\r\n  [1]: https://www.seeedstudio.com/GrovePi-Zero-GrovePi0.html\r\n  [2]: https://www.seeedstudio.com/GrovePi-Zero-Base-Kit.html\r\n  [3]: https://www.seeedstudio.com/Grove-PH-Sensor-Kit-E-201C-Blue-p-4577.html","title":"how to get pH in Java using Grove - PH Sensor Kit (E-201C-Blue) Raspberry pi Zero and GrovePi Zero Board","body":"<p>I have <a href=\"https://www.seeedstudio.com/GrovePi-Zero-GrovePi0.html\" rel=\"nofollow noreferrer\">GrovePi Zero（GrovePi0）</a> from <a href=\"https://www.seeedstudio.com/GrovePi-Zero-Base-Kit.html\" rel=\"nofollow noreferrer\">GrovePi Zero Base Kit</a> and <a href=\"https://www.seeedstudio.com/Grove-PH-Sensor-Kit-E-201C-Blue-p-4577.html\" rel=\"nofollow noreferrer\">Grove - PH Sensor Kit (E-201C-Blue)</a>\nI am using Java (I can use any version of JDK 8...17) on a Raspberry Pi Zerro 2.\nwith GrovePi-pi4j with Pi4j version 1.4 (can use any version)</p>\n<p>my class GrovePHSensor below represents the PH Sensor.</p>\n<pre><code>@GroveAnalogPin\npublic class GrovePHSensor extends GroveAnalogInputDevice&lt;Double&gt; {\n   \npublic GrovePHSensor(GrovePi grovePi, int pin) throws IOException {\n    super(grovePi.getAnalogIn(pin, 4));\n}\n\n@Override\npublic Double get(byte[] data) {\n /// WHAT TO DO HERE?\n}\n}\n</code></pre>\n<p>the problem is that there are tons of strange code out there that give different result\nand even if I think that I understand what it does I am not sure if it the right thing to do.</p>\n<p>for example the this thread is very confusing <a href=\"https://forum.dexterindustries.com/t/grove-ph-sensor-kit-e-201c-blue-raspberry-pi-zero/7961/13\" rel=\"nofollow noreferrer\">https://forum.dexterindustries.com/t/grove-ph-sensor-kit-e-201c-blue-raspberry-pi-zero/7961/13</a></p>\n<p>at the same time wiki page at Seeed <a href=\"https://wiki.seeedstudio.com/Grove-PH-Sensor-kit/\" rel=\"nofollow noreferrer\">https://wiki.seeedstudio.com/Grove-PH-Sensor-kit/</a>\ngives a sample code for Arduino with different formula</p>\n<p>when I read the 4 byte[] i get something like [Pi4J IO read][0, 1, -106, -1]\nif i read more than 4 bytes than all the bytes at the end are -1</p>\n<p>would be nice to have a clear implementation of the <code> public Double get(byte[] data) {}</code>\nfunction ...</p>\n"},{"tags":["java","spring","https","mtls"],"answers":[{"tags":[],"owner":{"account_id":9573738,"reputation":11,"user_id":7110608,"display_name":"L.Bai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643663121,"creation_date":1643663121,"answer_id":70932820,"question_id":68721283,"body_markdown":"you need to enable http on the server you are sending request to.","title":"I want spring boot application which accepts https request and send this request to other app on http and send this http response back to https req","body":"<p>you need to enable http on the server you are sending request to.</p>\n"}],"owner":{"account_id":11164629,"reputation":1,"user_id":8193676,"display_name":"Dipisha jain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":470,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643663121,"creation_date":1628571435,"question_id":68721283,"body_markdown":"I tried and able to read the CA certificates succsssfully send in request. But when sending request to other app over http getting error as &quot; This combination of host and port required TLS&quot; . Is there any way I can send the request to http and on receiving response, send this response back to https request.","title":"I want spring boot application which accepts https request and send this request to other app on http and send this http response back to https req","body":"<p>I tried and able to read the CA certificates succsssfully send in request. But when sending request to other app over http getting error as &quot; This combination of host and port required TLS&quot; . Is there any way I can send the request to http and on receiving response, send this response back to https request.</p>\n"},{"tags":["java","servlets","jetty","classloader"],"answers":[{"tags":[],"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643663015,"creation_date":1643640083,"answer_id":70927845,"question_id":70927273,"body_markdown":"\r\nIf you just want the servlet to init on startup, then use the annotation ...\r\n\r\n``` java\r\n@WebServlet(\r\n    displayName = &quot;MyServlet&quot;, \r\n    urlPatterns = { &quot;/*&quot; },\r\n    loadOnStartup = 1\r\n)\r\n```\r\n\r\nAlternatively, you could register a `javax.servlet.ServletContextListener` that does the `contextInitialized(ServletContextEvent sce)` behavior you need.\r\n\r\nTip: if you define a custom the `ServletContextListener` for embedded use, you can just add it to the `WebAppContext` from outside of the WAR you are using.\r\n\r\nExample:\r\n\r\n``` java\r\nwebApp.getServletHandler()\r\n    .addListener(new ListenerHolder(MyContextListener.class));\r\n```\r\n\r\nAlso, this block of code is wrong and shows you copy/pasted from an old code snippet (this technique is from circa Jetty 9.0.0 thru 9.2.16)\r\n\r\n``` java\r\n        webApp.setConfigurations(new Configuration[] {\r\n                new AnnotationConfiguration(),\r\n                new WebInfConfiguration(),\r\n                new WebXmlConfiguration(),\r\n                new MetaInfConfiguration(),\r\n                new FragmentConfiguration(),\r\n                new EnvConfiguration(),\r\n                new PlusConfiguration(),\r\n                new JettyWebXmlConfiguration()\r\n        });\r\n```\r\n\r\nIn Jetty 9.4.x you never directly configure the `webApp.setConfigurations()` like that, use the `Configuration.ClassList` defined on the server instead ...\r\n\r\nFrom: [9.4.44.v20210927 - embedded/LikeJettyXml.java](https://github.com/eclipse/jetty.project/blob/jetty-9.4.44.v20210927/examples/embedded/src/main/java/org/eclipse/jetty/embedded/LikeJettyXml.java#L169-L177)\r\n\r\n``` java\r\nConfiguration.ClassList classlist = Configuration.ClassList\r\n    .setServerDefault(server);\r\nclasslist.addAfter(\r\n    &quot;org.eclipse.jetty.webapp.FragmentConfiguration&quot;,\r\n    &quot;org.eclipse.jetty.plus.webapp.EnvConfiguration&quot;,\r\n    &quot;org.eclipse.jetty.plus.webapp.PlusConfiguration&quot;);\r\nclasslist.addBefore(\r\n    &quot;org.eclipse.jetty.webapp.JettyWebXmlConfiguration&quot;,\r\n    &quot;org.eclipse.jetty.annotations.AnnotationConfiguration&quot;);\r\n```\r\n\r\nStarting in Jetty 10.0.0, you never specify the Configuration classes, or their order, as the existence of the support JAR is enough, and internally in Jetty 10 the order is resolved properly.\r\n\r\nBut if you need to add Configurations (due to non-standard deployment concerns where the Java `ServiceLoader` doesn&#39;t work), then you still configure the additional Configurations on the server object (but without worrying about the correct order for those configurations)\r\n\r\nFrom [10.0.7 - embedded/demos/LikeJettyXml.java](https://github.com/eclipse/jetty.project/blob/jetty-10.0.7/demos/embedded/src/main/java/org/eclipse/jetty/demos/LikeJettyXml.java#L161)\r\n\r\n``` java\r\nConfigurations.setServerDefault(server).add(\r\n    new EnvConfiguration(), \r\n    new PlusConfiguration(), \r\n    new AnnotationConfiguration()\r\n);\r\n```\r\n","title":"Init servlet instantly after the embedded jetty server starts","body":"<p>If you just want the servlet to init on startup, then use the annotation ...</p>\n<pre class=\"lang-java prettyprint-override\"><code>@WebServlet(\n    displayName = &quot;MyServlet&quot;, \n    urlPatterns = { &quot;/*&quot; },\n    loadOnStartup = 1\n)\n</code></pre>\n<p>Alternatively, you could register a <code>javax.servlet.ServletContextListener</code> that does the <code>contextInitialized(ServletContextEvent sce)</code> behavior you need.</p>\n<p>Tip: if you define a custom the <code>ServletContextListener</code> for embedded use, you can just add it to the <code>WebAppContext</code> from outside of the WAR you are using.</p>\n<p>Example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>webApp.getServletHandler()\n    .addListener(new ListenerHolder(MyContextListener.class));\n</code></pre>\n<p>Also, this block of code is wrong and shows you copy/pasted from an old code snippet (this technique is from circa Jetty 9.0.0 thru 9.2.16)</p>\n<pre class=\"lang-java prettyprint-override\"><code>        webApp.setConfigurations(new Configuration[] {\n                new AnnotationConfiguration(),\n                new WebInfConfiguration(),\n                new WebXmlConfiguration(),\n                new MetaInfConfiguration(),\n                new FragmentConfiguration(),\n                new EnvConfiguration(),\n                new PlusConfiguration(),\n                new JettyWebXmlConfiguration()\n        });\n</code></pre>\n<p>In Jetty 9.4.x you never directly configure the <code>webApp.setConfigurations()</code> like that, use the <code>Configuration.ClassList</code> defined on the server instead ...</p>\n<p>From: <a href=\"https://github.com/eclipse/jetty.project/blob/jetty-9.4.44.v20210927/examples/embedded/src/main/java/org/eclipse/jetty/embedded/LikeJettyXml.java#L169-L177\" rel=\"nofollow noreferrer\">9.4.44.v20210927 - embedded/LikeJettyXml.java</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>Configuration.ClassList classlist = Configuration.ClassList\n    .setServerDefault(server);\nclasslist.addAfter(\n    &quot;org.eclipse.jetty.webapp.FragmentConfiguration&quot;,\n    &quot;org.eclipse.jetty.plus.webapp.EnvConfiguration&quot;,\n    &quot;org.eclipse.jetty.plus.webapp.PlusConfiguration&quot;);\nclasslist.addBefore(\n    &quot;org.eclipse.jetty.webapp.JettyWebXmlConfiguration&quot;,\n    &quot;org.eclipse.jetty.annotations.AnnotationConfiguration&quot;);\n</code></pre>\n<p>Starting in Jetty 10.0.0, you never specify the Configuration classes, or their order, as the existence of the support JAR is enough, and internally in Jetty 10 the order is resolved properly.</p>\n<p>But if you need to add Configurations (due to non-standard deployment concerns where the Java <code>ServiceLoader</code> doesn't work), then you still configure the additional Configurations on the server object (but without worrying about the correct order for those configurations)</p>\n<p>From <a href=\"https://github.com/eclipse/jetty.project/blob/jetty-10.0.7/demos/embedded/src/main/java/org/eclipse/jetty/demos/LikeJettyXml.java#L161\" rel=\"nofollow noreferrer\">10.0.7 - embedded/demos/LikeJettyXml.java</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>Configurations.setServerDefault(server).add(\n    new EnvConfiguration(), \n    new PlusConfiguration(), \n    new AnnotationConfiguration()\n);\n</code></pre>\n"}],"owner":{"account_id":17881132,"reputation":167,"user_id":12989881,"display_name":"CooderSK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":686,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70927845,"answer_count":1,"score":1,"last_activity_date":1643663015,"creation_date":1643637737,"question_id":70927273,"body_markdown":"I need to run my own logic after the jetty embedded server starts. I&#39;m not starting it from the main class due to classloader issues. An ideal solution seemed to be running my server logic from a servlet initialization. But the init function and also the constructor is not called after the jetty server start. An instance of the servlet is being created during the first HTTP request. Is it possible to tell jetty to initialize my servlet instantly or do I really need to load all classes with my custom classloader and then start the jetty server?\r\n\r\nThis is the main class:\r\n\r\n    public class ServerLauncher {\r\n        public static void main(String[] args) {\r\n            JettyServerLauncher.launchHttp(&quot;target/server.war&quot;, &quot;0.0.0.0&quot;, 8080);\r\n            // Starting my own logic here is causing classloader issues, because WebSocket classes are loaded by other classloader than my classes, that is the reason why I moved it into the servlet\r\n        }\r\n    }\r\n\r\n\r\nThis is my jetty embedded server launcher:\r\n\r\n    import org.eclipse.jetty.annotations.AnnotationConfiguration;\r\n    import org.eclipse.jetty.http.HttpVersion;\r\n    import org.eclipse.jetty.plus.webapp.EnvConfiguration;\r\n    import org.eclipse.jetty.plus.webapp.PlusConfiguration;\r\n    import org.eclipse.jetty.server.*;\r\n    import org.eclipse.jetty.server.handler.ContextHandlerCollection;\r\n    import org.eclipse.jetty.server.handler.HandlerCollection;\r\n    import org.eclipse.jetty.util.ssl.SslContextFactory;\r\n    import org.eclipse.jetty.webapp.*;\r\n    \r\n    import java.io.File;\r\n    \r\n    public class JettyServerLauncher {\r\n        private static boolean isHttps;\r\n        private static File keyStoreFile;\r\n        private static String warPath;\r\n        private static String host;\r\n        private static int httpPort;\r\n        private static int httpsPort;\r\n        private static String keyStorePath;\r\n        private static String keyStorePass;\r\n        private static boolean needClientAuth;\r\n    \r\n        public static void launchHttp(String warPath, String host, int httpPort) {\r\n            JettyServerLauncher.isHttps = false;\r\n            JettyServerLauncher.warPath = warPath;\r\n            JettyServerLauncher.host = host;\r\n            JettyServerLauncher.httpPort = httpPort;\r\n    \r\n            launch();\r\n        }\r\n    \r\n        public static void launchHttps(String warPath, String host, String keyStorePath, String keyStorePass, int httpPort, int httpsPort, boolean needClientAuth) {\r\n            JettyServerLauncher.isHttps = true;\r\n            JettyServerLauncher.warPath = warPath;\r\n            JettyServerLauncher.host = host;\r\n            JettyServerLauncher.httpPort = httpPort;\r\n            JettyServerLauncher.httpsPort = httpsPort;\r\n            JettyServerLauncher.keyStorePath = keyStorePath;\r\n            JettyServerLauncher.keyStorePass = keyStorePass;\r\n            JettyServerLauncher.needClientAuth = needClientAuth;\r\n    \r\n            launch();\r\n        }\r\n    \r\n        private static void launch() {\r\n            Server server = null;\r\n    \r\n            try {\r\n                System.out.println(&quot;Initializing jetty server...&quot;);\r\n    \r\n                if (isHttps) loadKeyStores(keyStorePath);\r\n    \r\n                // Create jetty server\r\n                server = new Server(httpPort);\r\n    \r\n                // Setup connectors\r\n                Connector httpConnector = createHttpConnector(server, host, httpPort, httpsPort);\r\n                if (isHttps) {\r\n                    Connector httpsConnector = createHttpsConnector(server, host, httpsPort, keyStoreFile, keyStorePass, needClientAuth);\r\n                    server.setConnectors(new Connector[]{httpConnector, httpsConnector});\r\n                } else {\r\n                    server.setConnectors(new Connector[]{httpConnector});\r\n                }\r\n    \r\n                // Add handlers for requests to collection of handlers\r\n                HandlerCollection handlers = new ContextHandlerCollection();\r\n                //handlers.addHandler(new SecuredRedirectHandler());\r\n                handlers.addHandler(createWebApp(warPath));\r\n    \r\n                server.setHandler(handlers);\r\n                server.dump();\r\n    \r\n                System.out.println(&quot;Starting jetty websocket and web server...&quot;);\r\n                server.start();\r\n                server.join();\r\n            } catch (Throwable t) {\r\n                t.printStackTrace();\r\n                System.err.println(&quot;Server initialization failed!&quot;);\r\n                System.out.println(&quot;Stopping the server...&quot;);\r\n                try {\r\n                    server.stop();\r\n                } catch (Exception ignored) {}\r\n            }\r\n        }\r\n    \r\n        private static WebAppContext createWebApp(String warPath) {\r\n            WebAppContext webApp = new WebAppContext();\r\n            webApp.setContextPath(&quot;/&quot;);\r\n            webApp.setWar(new File(warPath).getAbsolutePath());\r\n            webApp.setThrowUnavailableOnStartupException(true);\r\n    \r\n            // Enable support for JSR-356 javax.websocket\r\n            webApp.setAttribute(&quot;org.eclipse.jetty.websocket.jsr356&quot;, Boolean.TRUE);\r\n    \r\n            // Jetty will scan project for configuration files... This is very important for loading websocket endpoints by annotation automatically\r\n            webApp.setConfigurations(new Configuration[] {\r\n                    new AnnotationConfiguration(),\r\n                    new WebInfConfiguration(),\r\n                    new WebXmlConfiguration(),\r\n                    new MetaInfConfiguration(),\r\n                    new FragmentConfiguration(),\r\n                    new EnvConfiguration(),\r\n                    new PlusConfiguration(),\r\n                    new JettyWebXmlConfiguration()\r\n            });\r\n    \r\n            return webApp;\r\n        }\r\n    \r\n        private static Connector createHttpConnector(Server server, String host, int httpPort, int httpsPort) {\r\n            HttpConfiguration httpConf = new HttpConfiguration();\r\n            httpConf.setSendServerVersion(false);\r\n            if (isHttps) httpConf.setSecurePort(httpsPort);\r\n            ServerConnector connector = new ServerConnector(server, new HttpConnectionFactory(httpConf));\r\n            connector.setPort(httpPort);\r\n            connector.setHost(host);\r\n    \r\n            return connector;\r\n        }\r\n    \r\n        private static Connector createHttpsConnector(Server server, String host, int httpsPort, File keyStoreFile, String keyStorePass, boolean needClientAuth) {\r\n            SslContextFactory.Server sslContextFactory = new SslContextFactory.Server();\r\n            sslContextFactory.setKeyStorePath(keyStoreFile.getAbsolutePath());\r\n            sslContextFactory.setKeyStorePassword(keyStorePass);\r\n            sslContextFactory.setNeedClientAuth(needClientAuth);\r\n    \r\n            // Setup HTTPS Configuration\r\n            HttpConfiguration httpsConf = new HttpConfiguration();\r\n            httpsConf.setSendServerVersion(false);\r\n            httpsConf.setSecureScheme(&quot;https&quot;);\r\n            httpsConf.setSecurePort(httpsPort);\r\n            httpsConf.setOutputBufferSize(32768);\r\n            httpsConf.setRequestHeaderSize(8192);\r\n            httpsConf.setResponseHeaderSize(8192);\r\n            httpsConf.addCustomizer(new SecureRequestCustomizer()); // adds ssl info to request object\r\n    \r\n            // Establish the HTTPS ServerConnector\r\n            ServerConnector httpsConnector = new ServerConnector(server, new SslConnectionFactory(sslContextFactory, HttpVersion.HTTP_1_1.asString()), new HttpConnectionFactory(httpsConf));\r\n            httpsConnector.setPort(httpsPort);\r\n            httpsConnector.setHost(host);\r\n    \r\n            return httpsConnector;\r\n        }\r\n    \r\n        private static void loadKeyStores(String keyStorePath) {\r\n            keyStoreFile = new File(keyStorePath);\r\n            if (!keyStoreFile.exists()) {\r\n                throw new RuntimeException(&quot;Key store file does not exist on path &#39;&quot;+keyStoreFile.getAbsolutePath()+&quot;&#39;&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\nThis is my servlet:\r\n    \r\n    import javax.servlet.annotation.WebServlet;\r\n    import javax.servlet.http.HttpServlet;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    import java.io.IOException;\r\n    \r\n    @WebServlet(displayName = &quot;MyServlet&quot;, urlPatterns = { &quot;/*&quot; })\r\n    public class MyServlet extends HttpServlet {\r\n        @Override\r\n        public void init() {\r\n            // start new Thread with my server logic here (avoid classloader issues)\r\n            // but at least one HTTP request is needed to start it from this place\r\n        }\r\n    \r\n        @Override\r\n        public void destroy() {}\r\n    \r\n        @Override\r\n        public void doGet(HttpServletRequest req, HttpServletResponse res) throws IOException {\r\n            // handle http requests\r\n        }\r\n    }\r\n\r\nI found this on google, but I don&#39;t know how to use it in my case. https://www.eclipse.org/lists/jetty-users/msg02109.html\r\n\r\nThank you for your help.","title":"Init servlet instantly after the embedded jetty server starts","body":"<p>I need to run my own logic after the jetty embedded server starts. I'm not starting it from the main class due to classloader issues. An ideal solution seemed to be running my server logic from a servlet initialization. But the init function and also the constructor is not called after the jetty server start. An instance of the servlet is being created during the first HTTP request. Is it possible to tell jetty to initialize my servlet instantly or do I really need to load all classes with my custom classloader and then start the jetty server?</p>\n<p>This is the main class:</p>\n<pre><code>public class ServerLauncher {\n    public static void main(String[] args) {\n        JettyServerLauncher.launchHttp(&quot;target/server.war&quot;, &quot;0.0.0.0&quot;, 8080);\n        // Starting my own logic here is causing classloader issues, because WebSocket classes are loaded by other classloader than my classes, that is the reason why I moved it into the servlet\n    }\n}\n</code></pre>\n<p>This is my jetty embedded server launcher:</p>\n<pre><code>import org.eclipse.jetty.annotations.AnnotationConfiguration;\nimport org.eclipse.jetty.http.HttpVersion;\nimport org.eclipse.jetty.plus.webapp.EnvConfiguration;\nimport org.eclipse.jetty.plus.webapp.PlusConfiguration;\nimport org.eclipse.jetty.server.*;\nimport org.eclipse.jetty.server.handler.ContextHandlerCollection;\nimport org.eclipse.jetty.server.handler.HandlerCollection;\nimport org.eclipse.jetty.util.ssl.SslContextFactory;\nimport org.eclipse.jetty.webapp.*;\n\nimport java.io.File;\n\npublic class JettyServerLauncher {\n    private static boolean isHttps;\n    private static File keyStoreFile;\n    private static String warPath;\n    private static String host;\n    private static int httpPort;\n    private static int httpsPort;\n    private static String keyStorePath;\n    private static String keyStorePass;\n    private static boolean needClientAuth;\n\n    public static void launchHttp(String warPath, String host, int httpPort) {\n        JettyServerLauncher.isHttps = false;\n        JettyServerLauncher.warPath = warPath;\n        JettyServerLauncher.host = host;\n        JettyServerLauncher.httpPort = httpPort;\n\n        launch();\n    }\n\n    public static void launchHttps(String warPath, String host, String keyStorePath, String keyStorePass, int httpPort, int httpsPort, boolean needClientAuth) {\n        JettyServerLauncher.isHttps = true;\n        JettyServerLauncher.warPath = warPath;\n        JettyServerLauncher.host = host;\n        JettyServerLauncher.httpPort = httpPort;\n        JettyServerLauncher.httpsPort = httpsPort;\n        JettyServerLauncher.keyStorePath = keyStorePath;\n        JettyServerLauncher.keyStorePass = keyStorePass;\n        JettyServerLauncher.needClientAuth = needClientAuth;\n\n        launch();\n    }\n\n    private static void launch() {\n        Server server = null;\n\n        try {\n            System.out.println(&quot;Initializing jetty server...&quot;);\n\n            if (isHttps) loadKeyStores(keyStorePath);\n\n            // Create jetty server\n            server = new Server(httpPort);\n\n            // Setup connectors\n            Connector httpConnector = createHttpConnector(server, host, httpPort, httpsPort);\n            if (isHttps) {\n                Connector httpsConnector = createHttpsConnector(server, host, httpsPort, keyStoreFile, keyStorePass, needClientAuth);\n                server.setConnectors(new Connector[]{httpConnector, httpsConnector});\n            } else {\n                server.setConnectors(new Connector[]{httpConnector});\n            }\n\n            // Add handlers for requests to collection of handlers\n            HandlerCollection handlers = new ContextHandlerCollection();\n            //handlers.addHandler(new SecuredRedirectHandler());\n            handlers.addHandler(createWebApp(warPath));\n\n            server.setHandler(handlers);\n            server.dump();\n\n            System.out.println(&quot;Starting jetty websocket and web server...&quot;);\n            server.start();\n            server.join();\n        } catch (Throwable t) {\n            t.printStackTrace();\n            System.err.println(&quot;Server initialization failed!&quot;);\n            System.out.println(&quot;Stopping the server...&quot;);\n            try {\n                server.stop();\n            } catch (Exception ignored) {}\n        }\n    }\n\n    private static WebAppContext createWebApp(String warPath) {\n        WebAppContext webApp = new WebAppContext();\n        webApp.setContextPath(&quot;/&quot;);\n        webApp.setWar(new File(warPath).getAbsolutePath());\n        webApp.setThrowUnavailableOnStartupException(true);\n\n        // Enable support for JSR-356 javax.websocket\n        webApp.setAttribute(&quot;org.eclipse.jetty.websocket.jsr356&quot;, Boolean.TRUE);\n\n        // Jetty will scan project for configuration files... This is very important for loading websocket endpoints by annotation automatically\n        webApp.setConfigurations(new Configuration[] {\n                new AnnotationConfiguration(),\n                new WebInfConfiguration(),\n                new WebXmlConfiguration(),\n                new MetaInfConfiguration(),\n                new FragmentConfiguration(),\n                new EnvConfiguration(),\n                new PlusConfiguration(),\n                new JettyWebXmlConfiguration()\n        });\n\n        return webApp;\n    }\n\n    private static Connector createHttpConnector(Server server, String host, int httpPort, int httpsPort) {\n        HttpConfiguration httpConf = new HttpConfiguration();\n        httpConf.setSendServerVersion(false);\n        if (isHttps) httpConf.setSecurePort(httpsPort);\n        ServerConnector connector = new ServerConnector(server, new HttpConnectionFactory(httpConf));\n        connector.setPort(httpPort);\n        connector.setHost(host);\n\n        return connector;\n    }\n\n    private static Connector createHttpsConnector(Server server, String host, int httpsPort, File keyStoreFile, String keyStorePass, boolean needClientAuth) {\n        SslContextFactory.Server sslContextFactory = new SslContextFactory.Server();\n        sslContextFactory.setKeyStorePath(keyStoreFile.getAbsolutePath());\n        sslContextFactory.setKeyStorePassword(keyStorePass);\n        sslContextFactory.setNeedClientAuth(needClientAuth);\n\n        // Setup HTTPS Configuration\n        HttpConfiguration httpsConf = new HttpConfiguration();\n        httpsConf.setSendServerVersion(false);\n        httpsConf.setSecureScheme(&quot;https&quot;);\n        httpsConf.setSecurePort(httpsPort);\n        httpsConf.setOutputBufferSize(32768);\n        httpsConf.setRequestHeaderSize(8192);\n        httpsConf.setResponseHeaderSize(8192);\n        httpsConf.addCustomizer(new SecureRequestCustomizer()); // adds ssl info to request object\n\n        // Establish the HTTPS ServerConnector\n        ServerConnector httpsConnector = new ServerConnector(server, new SslConnectionFactory(sslContextFactory, HttpVersion.HTTP_1_1.asString()), new HttpConnectionFactory(httpsConf));\n        httpsConnector.setPort(httpsPort);\n        httpsConnector.setHost(host);\n\n        return httpsConnector;\n    }\n\n    private static void loadKeyStores(String keyStorePath) {\n        keyStoreFile = new File(keyStorePath);\n        if (!keyStoreFile.exists()) {\n            throw new RuntimeException(&quot;Key store file does not exist on path '&quot;+keyStoreFile.getAbsolutePath()+&quot;'&quot;);\n        }\n    }\n}\n</code></pre>\n<p>This is my servlet:</p>\n<pre><code>import javax.servlet.annotation.WebServlet;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport java.io.IOException;\n\n@WebServlet(displayName = &quot;MyServlet&quot;, urlPatterns = { &quot;/*&quot; })\npublic class MyServlet extends HttpServlet {\n    @Override\n    public void init() {\n        // start new Thread with my server logic here (avoid classloader issues)\n        // but at least one HTTP request is needed to start it from this place\n    }\n\n    @Override\n    public void destroy() {}\n\n    @Override\n    public void doGet(HttpServletRequest req, HttpServletResponse res) throws IOException {\n        // handle http requests\n    }\n}\n</code></pre>\n<p>I found this on google, but I don't know how to use it in my case. <a href=\"https://www.eclipse.org/lists/jetty-users/msg02109.html\" rel=\"nofollow noreferrer\">https://www.eclipse.org/lists/jetty-users/msg02109.html</a></p>\n<p>Thank you for your help.</p>\n"},{"tags":["java","postgresql","jpa","eclipselink","java-ee-7"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1643128814,"post_id":70849615,"comment_id":125255429,"body_markdown":"Do you see warnings when the Persistence unit is loading? (turn logging on if it isn&#39;t already: https://wiki.eclipse.org/EclipseLink/Examples/JPA/Logging ). Logging would also show what it uses to connect and how, and might point to why it isn&#39;t doing what you want. What settings do you have in the persistence.xml?","body":"Do you see warnings when the Persistence unit is loading? (turn logging on if it isn&#39;t already: <a href=\"https://wiki.eclipse.org/EclipseLink/Examples/JPA/Logging\" rel=\"nofollow noreferrer\">wiki.eclipse.org/EclipseLink/Examples/JPA/Logging</a> ). Logging would also show what it uses to connect and how, and might point to why it isn&#39;t doing what you want. What settings do you have in the persistence.xml?"},{"owner":{"account_id":20980196,"reputation":73,"user_id":17551643,"display_name":"yahyaBdd"},"score":0,"creation_date":1643134344,"post_id":70849615,"comment_id":125257700,"body_markdown":"After turnning the logger on this is the new exception description indicate :` at org.eclipse.persistence.exceptions.ValidationException.errorDecryptingPassword(ValidationException.java:896)`","body":"After turnning the logger on this is the new exception description indicate :` at org.eclipse.persistence.exceptions.ValidationException.error&zwnj;&#8203;DecryptingPassword(V&zwnj;&#8203;alidationException.j&zwnj;&#8203;ava:896)`"},{"owner":{"account_id":20980196,"reputation":73,"user_id":17551643,"display_name":"yahyaBdd"},"score":0,"creation_date":1643134652,"post_id":70849615,"comment_id":125257821,"body_markdown":"there are only the database credentials in persistence.xml","body":"there are only the database credentials in persistence.xml"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1643136447,"post_id":70849615,"comment_id":125258558,"body_markdown":"Have you tried removing them? No point putting in the username/password in a static file if you aren&#39;t going to use them anyway.","body":"Have you tried removing them? No point putting in the username/password in a static file if you aren&#39;t going to use them anyway."},{"owner":{"account_id":20980196,"reputation":73,"user_id":17551643,"display_name":"yahyaBdd"},"score":0,"creation_date":1643155321,"post_id":70849615,"comment_id":125264207,"body_markdown":"Thanks @Chris, I solved the problem just by encrypting the password using this code http://www.javamonamour.org/2012/05/eclipse-jpa-errordecryptingpassword.html?m=1","body":"Thanks @Chris, I solved the problem just by encrypting the password using this code <a href=\"http://www.javamonamour.org/2012/05/eclipse-jpa-errordecryptingpassword.html?m=1\" rel=\"nofollow noreferrer\">javamonamour.org/2012/05/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":24112643,"reputation":21,"user_id":18083020,"display_name":"Willy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643662129,"creation_date":1643662129,"answer_id":70932630,"question_id":70849615,"body_markdown":"You are using a 32 char password. Eclipselink thinks is encoded and tries to decode it unsuccsesfully, giving the exception you are receiving.\r\n\r\nChange your password to a non 32 multiple length one.\r\n\r\nThe error is already reported to eclipse https://bugs.eclipse.org/bugs/show_bug.cgi?id=569945","title":"How to solve error &quot;java.io.StreamCorruptedException: invalid stream header: 907DD86E&quot; using PostgreSQL with EclipseLink JPA","body":"<p>You are using a 32 char password. Eclipselink thinks is encoded and tries to decode it unsuccsesfully, giving the exception you are receiving.</p>\n<p>Change your password to a non 32 multiple length one.</p>\n<p>The error is already reported to eclipse <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=569945\" rel=\"nofollow noreferrer\">https://bugs.eclipse.org/bugs/show_bug.cgi?id=569945</a></p>\n"}],"owner":{"account_id":20980196,"reputation":73,"user_id":17551643,"display_name":"yahyaBdd"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1429,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643662129,"creation_date":1643118034,"question_id":70849615,"body_markdown":"I&#39;m trying to deploy my webapp on Heroku and I&#39;m using Heroku PostgreSQL database and I encountered the following exception:\r\n\r\n    javax.persistence.PersistenceException: Exception [EclipseLink-7107] (Eclipse Persistence Services - 2.7.10.v20211216-fe64cd39c3): org.eclipse.persistence.exceptions.ValidationException\r\n    Exception Description: Error encountered during string decryption.\r\n    Internal Exception: java.io.StreamCorruptedException: invalid stream header: 907DD86E\r\n        at org.eclipse.persistence.internal.jpa.EntityManagerSetupImpl.deploy(EntityManagerSetupImpl.java:858)\r\n        at org.eclipse.persistence.internal.jpa.EntityManagerFactoryDelegate.getAbstractSession(EntityManagerFactoryDelegate.java:222)\r\n        at org.eclipse.persistence.internal.jpa.EntityManagerFactoryDelegate.createEntityManagerImpl(EntityManagerFactoryDelegate.java:330)\r\n        at org.eclipse.persistence.internal.jpa.EntityManagerFactoryImpl.createEntityManagerImpl(EntityManagerFactoryImpl.java:350)\r\n        at org.eclipse.persistence.internal.jpa.EntityManagerFactoryImpl.createEntityManager(EntityManagerFactoryImpl.java:313)\r\n        at DAO.ClientDAO.&lt;init&gt;(ClientDAO.java:17)\r\n        at controllers.authServlet.doPost(authServlet.java:49)\r\n        at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:694)\r\n        at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:777)\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223)\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\r\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\r\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)\r\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n        at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:690)\r\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:353)\r\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\r\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:872)\r\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1705)\r\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n        at java.base/java.lang.Thread.run(Thread.java:833)\r\n    Caused by: Exception [EclipseLink-7107] (Eclipse Persistence Services - 2.7.10.v20211216-fe64cd39c3): org.eclipse.persistence.exceptions.ValidationException\r\n    Exception Description: Error encountered during string decryption.\r\n    Internal Exception: java.io.StreamCorruptedException: invalid stream header: 907DD86E\r\n        at org.eclipse.persistence.exceptions.ValidationException.errorDecryptingPassword(ValidationException.java:896)\r\n        at org.eclipse.persistence.internal.security.JCEEncryptor.decryptPassword(JCEEncryptor.java:133)\r\n        at org.eclipse.persistence.internal.jpa.EntityManagerSetupImpl.updateLogins(EntityManagerSetupImpl.java:2481)\r\n        at org.eclipse.persistence.internal.jpa.EntityManagerSetupImpl.updateSession(EntityManagerSetupImpl.java:2799)\r\n        at org.eclipse.persistence.internal.jpa.EntityManagerSetupImpl.deploy(EntityManagerSetupImpl.java:752)\r\n        ... 30 more\r\n    Caused by: java.io.StreamCorruptedException: invalid stream header: 907DD86E\r\n        at java.base/java.io.ObjectInputStream.readStreamHeader(ObjectInputStream.java:963)\r\n        at java.base/java.io.ObjectInputStream.&lt;init&gt;(ObjectInputStream.java:397)\r\n        at org.eclipse.persistence.internal.security.JCEEncryptor.decryptPassword(JCEEncryptor.java:123)\r\n        ... 33 more\r\n\r\n \r\nIt looks like an issue (https://github.com/eclipse-ee4j/eclipselink/issues/885) with EclipseLink trying to decrypt the database password. Unfortunately, I can&#39;t change it, I tried to pass in the datasource as a parameter instead similar to http://onpersistence.blogspot.com/2008/04/eclipselink-and-datasources.html\r\n\r\n```java\r\npublic class ClientDAO implements Dao&lt;Client&gt; {\r\n    private EntityManagerFactory emf;\r\n    private BaseDataSource createDataSource() { \r\n          BaseDataSource dataSource = new BaseDataSource() {\r\n    \t     @Override public String getDescription() { // TODO Auto-generated method stub\r\n    \t  return null; } };\r\n          int[] portNumber = {5432}; \r\n          String[] serverName ={&quot;SERVER_NAME&quot;};  \r\n    \t  dataSource.setServerNames(serverName); dataSource.setPortNumbers(portNumber);\r\n    \t  dataSource.setDatabaseName(&quot;DB_NAME&quot;);\r\n    \t  dataSource.setUser(&quot;DB_USER&quot;); \r\n          dataSource.setPassword(&quot;df9d43a7c7116b25f514f58a8dff9...&quot;);//some of the actual password\r\n         return dataSource;\r\n     }\r\n    private EntityManagerFactory getEntityManagerFactory() { \r\n          if (emf == null) {\r\n    \t        Map properties = new HashMap();\r\n    \t        properties.put(PersistenceUnitProperties.NON_JTA_DATASOURCE,createDataSource(\r\n    \t  ));\r\n          emf = Persistence.createEntityManagerFactory(&quot;japa2&quot;, properties); \r\n          }\r\n    \t  return emf; \r\n    }\r\n    \t  \r\n    \r\n    private EntityManager entityManager;\r\n    \t\r\n    public ClientDAO() {\r\n\t\tsuper();\r\n\t\temf = getEntityManagerFactory(); \r\n\t\tentityManager = emf.createEntityManager();\r\n\t}\r\n```\r\n\r\nBut still, when I run the app on the server the properties used in persistence.xml are the ones that have been used.\r\n\r\nSo is there any way to use the datasource that I pass instead of persistence.xml properties, or prevent EclipseLink from decrypting the password?","title":"How to solve error &quot;java.io.StreamCorruptedException: invalid stream header: 907DD86E&quot; using PostgreSQL with EclipseLink JPA","body":"<p>I'm trying to deploy my webapp on Heroku and I'm using Heroku PostgreSQL database and I encountered the following exception:</p>\n<pre><code>javax.persistence.PersistenceException: Exception [EclipseLink-7107] (Eclipse Persistence Services - 2.7.10.v20211216-fe64cd39c3): org.eclipse.persistence.exceptions.ValidationException\nException Description: Error encountered during string decryption.\nInternal Exception: java.io.StreamCorruptedException: invalid stream header: 907DD86E\n    at org.eclipse.persistence.internal.jpa.EntityManagerSetupImpl.deploy(EntityManagerSetupImpl.java:858)\n    at org.eclipse.persistence.internal.jpa.EntityManagerFactoryDelegate.getAbstractSession(EntityManagerFactoryDelegate.java:222)\n    at org.eclipse.persistence.internal.jpa.EntityManagerFactoryDelegate.createEntityManagerImpl(EntityManagerFactoryDelegate.java:330)\n    at org.eclipse.persistence.internal.jpa.EntityManagerFactoryImpl.createEntityManagerImpl(EntityManagerFactoryImpl.java:350)\n    at org.eclipse.persistence.internal.jpa.EntityManagerFactoryImpl.createEntityManager(EntityManagerFactoryImpl.java:313)\n    at DAO.ClientDAO.&lt;init&gt;(ClientDAO.java:17)\n    at controllers.authServlet.doPost(authServlet.java:49)\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:694)\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:777)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:690)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:353)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:872)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1705)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: Exception [EclipseLink-7107] (Eclipse Persistence Services - 2.7.10.v20211216-fe64cd39c3): org.eclipse.persistence.exceptions.ValidationException\nException Description: Error encountered during string decryption.\nInternal Exception: java.io.StreamCorruptedException: invalid stream header: 907DD86E\n    at org.eclipse.persistence.exceptions.ValidationException.errorDecryptingPassword(ValidationException.java:896)\n    at org.eclipse.persistence.internal.security.JCEEncryptor.decryptPassword(JCEEncryptor.java:133)\n    at org.eclipse.persistence.internal.jpa.EntityManagerSetupImpl.updateLogins(EntityManagerSetupImpl.java:2481)\n    at org.eclipse.persistence.internal.jpa.EntityManagerSetupImpl.updateSession(EntityManagerSetupImpl.java:2799)\n    at org.eclipse.persistence.internal.jpa.EntityManagerSetupImpl.deploy(EntityManagerSetupImpl.java:752)\n    ... 30 more\nCaused by: java.io.StreamCorruptedException: invalid stream header: 907DD86E\n    at java.base/java.io.ObjectInputStream.readStreamHeader(ObjectInputStream.java:963)\n    at java.base/java.io.ObjectInputStream.&lt;init&gt;(ObjectInputStream.java:397)\n    at org.eclipse.persistence.internal.security.JCEEncryptor.decryptPassword(JCEEncryptor.java:123)\n    ... 33 more\n</code></pre>\n<p>It looks like an issue (<a href=\"https://github.com/eclipse-ee4j/eclipselink/issues/885\" rel=\"nofollow noreferrer\">https://github.com/eclipse-ee4j/eclipselink/issues/885</a>) with EclipseLink trying to decrypt the database password. Unfortunately, I can't change it, I tried to pass in the datasource as a parameter instead similar to <a href=\"http://onpersistence.blogspot.com/2008/04/eclipselink-and-datasources.html\" rel=\"nofollow noreferrer\">http://onpersistence.blogspot.com/2008/04/eclipselink-and-datasources.html</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ClientDAO implements Dao&lt;Client&gt; {\n    private EntityManagerFactory emf;\n    private BaseDataSource createDataSource() { \n          BaseDataSource dataSource = new BaseDataSource() {\n             @Override public String getDescription() { // TODO Auto-generated method stub\n          return null; } };\n          int[] portNumber = {5432}; \n          String[] serverName ={&quot;SERVER_NAME&quot;};  \n          dataSource.setServerNames(serverName); dataSource.setPortNumbers(portNumber);\n          dataSource.setDatabaseName(&quot;DB_NAME&quot;);\n          dataSource.setUser(&quot;DB_USER&quot;); \n          dataSource.setPassword(&quot;df9d43a7c7116b25f514f58a8dff9...&quot;);//some of the actual password\n         return dataSource;\n     }\n    private EntityManagerFactory getEntityManagerFactory() { \n          if (emf == null) {\n                Map properties = new HashMap();\n                properties.put(PersistenceUnitProperties.NON_JTA_DATASOURCE,createDataSource(\n          ));\n          emf = Persistence.createEntityManagerFactory(&quot;japa2&quot;, properties); \n          }\n          return emf; \n    }\n          \n    \n    private EntityManager entityManager;\n        \n    public ClientDAO() {\n        super();\n        emf = getEntityManagerFactory(); \n        entityManager = emf.createEntityManager();\n    }\n</code></pre>\n<p>But still, when I run the app on the server the properties used in persistence.xml are the ones that have been used.</p>\n<p>So is there any way to use the datasource that I pass instead of persistence.xml properties, or prevent EclipseLink from decrypting the password?</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":4447573,"reputation":2187,"user_id":3620458,"accept_rate":90,"display_name":"Bragolgirith"},"score":2,"creation_date":1643660600,"post_id":70931953,"comment_id":125395162,"body_markdown":"Use a @NativeQuery?","body":"Use a @NativeQuery?"},{"owner":{"account_id":4935211,"reputation":851,"user_id":10477323,"display_name":"TheCoolDrop"},"score":0,"creation_date":1643660748,"post_id":70931953,"comment_id":125395215,"body_markdown":"May I ask for an example?","body":"May I ask for an example?"}],"answers":[{"tags":[],"owner":{"account_id":23808028,"reputation":21,"user_id":17817240,"display_name":"ChrisBall"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643661951,"creation_date":1643661951,"answer_id":70932596,"question_id":70931953,"body_markdown":"If you are using Spring Data JPA you can try using native query this way:\r\n\r\n```java\r\n @Query(&quot;SELECT FROM Item where Item.id=?1 RETURNING *&quot;, nativeQuery = true)\r\n Optional&lt;Item&gt; deleteByIdReturning(Integer id)\r\n```","title":"Spring Data for Postgresql specific query - DELETE RETURNING with Spring repositories","body":"<p>If you are using Spring Data JPA you can try using native query this way:</p>\n<pre class=\"lang-java prettyprint-override\"><code> @Query(&quot;SELECT FROM Item where Item.id=?1 RETURNING *&quot;, nativeQuery = true)\n Optional&lt;Item&gt; deleteByIdReturning(Integer id)\n</code></pre>\n"}],"owner":{"account_id":4935211,"reputation":851,"user_id":10477323,"display_name":"TheCoolDrop"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":674,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643661951,"creation_date":1643658300,"question_id":70931953,"body_markdown":"My question is very concrete and I could not find any answers on Stackoverflow or wider internet.\r\n\r\nI would like to use Spring repository to execute &quot;DELETE FROM TABLE ... RETURNING *&quot; type of query, which is specific to Postgresql.\r\n\r\nAssume that I have following classes:\r\n\r\n```java\r\n\r\n@Entity\r\n@Getter // lombok annotations\r\n@Setter\r\npublic class Item {\r\n\r\n    @Id\r\n    @GeneratedValue\r\n    private Integer id;\r\n\r\n    private String name;\r\n\r\n}\r\n\r\n```\r\n\r\nthen I would like to have something like following:\r\n\r\n\r\n```java\r\n\r\ninterface ItemRepository extends CrudRepository&lt;Item, Integer&gt; {\r\n\r\n    // This is a Postgres specific query\r\n    @Query(&quot;SELECT FROM Item where Item.id=?1 RETURNING *&quot;)\r\n    Optional&lt;Item&gt; deleteByIdReturning(Integer id)\r\n\r\n}\r\n\r\n```\r\n\r\n\r\nHow can I do something like this?\r\n\r\n\r\nAdditional info:\r\n\r\nIn order to motivate my needs a bit better I would like to have a CRUD-y REST resource, which will return 200 HTTP status code together with deleted resource if something has been deleted, but will return HTTP status code 204 without body in case that nothing has actually been deleted on the server side.\r\n\r\n\r\nI thank you in advance for your time ","title":"Spring Data for Postgresql specific query - DELETE RETURNING with Spring repositories","body":"<p>My question is very concrete and I could not find any answers on Stackoverflow or wider internet.</p>\n<p>I would like to use Spring repository to execute &quot;DELETE FROM TABLE ... RETURNING *&quot; type of query, which is specific to Postgresql.</p>\n<p>Assume that I have following classes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Entity\n@Getter // lombok annotations\n@Setter\npublic class Item {\n\n    @Id\n    @GeneratedValue\n    private Integer id;\n\n    private String name;\n\n}\n\n</code></pre>\n<p>then I would like to have something like following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\ninterface ItemRepository extends CrudRepository&lt;Item, Integer&gt; {\n\n    // This is a Postgres specific query\n    @Query(&quot;SELECT FROM Item where Item.id=?1 RETURNING *&quot;)\n    Optional&lt;Item&gt; deleteByIdReturning(Integer id)\n\n}\n\n</code></pre>\n<p>How can I do something like this?</p>\n<p>Additional info:</p>\n<p>In order to motivate my needs a bit better I would like to have a CRUD-y REST resource, which will return 200 HTTP status code together with deleted resource if something has been deleted, but will return HTTP status code 204 without body in case that nothing has actually been deleted on the server side.</p>\n<p>I thank you in advance for your time</p>\n"},{"tags":["java","c++","enums","swig","typedef"],"answers":[{"tags":[],"owner":{"account_id":5320028,"reputation":41,"user_id":4243747,"display_name":"Soren Gustenhoff"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643661490,"creation_date":1639138485,"answer_id":70304346,"question_id":70298262,"body_markdown":"The %ignore was indeed the culprit.\r\n\r\nAnd `%rename(&quot;%s&quot;) enumName;` is not sufficient to unignore the properties in the enum.","title":"Swig to java, typedef enum does not create enum type in java class","body":"<p>The %ignore was indeed the culprit.</p>\n<p>And <code>%rename(&quot;%s&quot;) enumName;</code> is not sufficient to unignore the properties in the enum.</p>\n"}],"owner":{"account_id":5320028,"reputation":41,"user_id":4243747,"display_name":"Soren Gustenhoff"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":283,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643661520,"creation_date":1639094755,"question_id":70298262,"body_markdown":"I am working on my first swig project, with a 3rd party library which is very old.\r\n\r\nThere is a mix of proper enums and the typedef enums declared, and swig does what i expect it to do with enums where it translates the enum props with values to java, but with the typedef enums it only translates it to an int.\r\n\r\nexample.h\r\n``` \r\ntypedef enum\r\n{\r\n   prop1 = data,\r\n   prop2\r\n} enumName;\r\n ```\r\n\r\nfile.i\r\n```\r\n%module example\r\n\r\n%include &quot;enums.swg&quot;\r\n%javaconst(1);\r\n\r\n%{\r\n#include &quot;example.h&quot;\r\n%}\r\n\r\n%include &quot;example.h\r\n```\r\n\r\nHow can i add the enum values to the generated java interface?\r\n\r\nEdit 1.\r\n\r\nAdding the typedef enum directly in the interface file generates the java file correctly with enum definetion.\r\nBut is this the correct approach ? it seems like this will require alot of maintenance during third party project update.\r\n\r\nnew file.i\r\n```\r\n%module example\r\n\r\n%include &quot;enums.swg&quot;\r\n%javaconst(1);\r\n\r\n%{\r\n#include &quot;example.h&quot;\r\n%}\r\n\r\ntypedef enum\r\n{\r\n   prop1 = data,\r\n   prop2\r\n} enumName;\r\n\r\n%include &quot;example.h\r\n```\r\n\r\nEdit 2:\r\n\r\nThe %ignore &quot;&quot; and %rename(&quot;%s) is also in effect and this seems to be the culprit.\r\n\r\nDoing the same approach on a different file without ignore will create proper wrappers.\r\n\r\nEdit 3:\r\n\r\nThe %ignore was indeed the culprit.\r\n\r\nAnd %rename(&quot;%s&quot;) enumName; is not sufficient to unignore the properties in the enum.\r\n\r\n","title":"Swig to java, typedef enum does not create enum type in java class","body":"<p>I am working on my first swig project, with a 3rd party library which is very old.</p>\n<p>There is a mix of proper enums and the typedef enums declared, and swig does what i expect it to do with enums where it translates the enum props with values to java, but with the typedef enums it only translates it to an int.</p>\n<p>example.h</p>\n<pre><code>typedef enum\n{\n   prop1 = data,\n   prop2\n} enumName;\n</code></pre>\n<p>file.i</p>\n<pre><code>%module example\n\n%include &quot;enums.swg&quot;\n%javaconst(1);\n\n%{\n#include &quot;example.h&quot;\n%}\n\n%include &quot;example.h\n</code></pre>\n<p>How can i add the enum values to the generated java interface?</p>\n<p>Edit 1.</p>\n<p>Adding the typedef enum directly in the interface file generates the java file correctly with enum definetion.\nBut is this the correct approach ? it seems like this will require alot of maintenance during third party project update.</p>\n<p>new file.i</p>\n<pre><code>%module example\n\n%include &quot;enums.swg&quot;\n%javaconst(1);\n\n%{\n#include &quot;example.h&quot;\n%}\n\ntypedef enum\n{\n   prop1 = data,\n   prop2\n} enumName;\n\n%include &quot;example.h\n</code></pre>\n<p>Edit 2:</p>\n<p>The %ignore &quot;&quot; and %rename(&quot;%s) is also in effect and this seems to be the culprit.</p>\n<p>Doing the same approach on a different file without ignore will create proper wrappers.</p>\n<p>Edit 3:</p>\n<p>The %ignore was indeed the culprit.</p>\n<p>And %rename(&quot;%s&quot;) enumName; is not sufficient to unignore the properties in the enum.</p>\n"},{"tags":["java","java-8","functional-programming"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1643657712,"post_id":70931646,"comment_id":125394138,"body_markdown":"this task contradicts the essentials of functional programming, hence it isn&#39;t suitable for it","body":"this task contradicts the essentials of functional programming, hence it isn&#39;t suitable for it"},{"owner":{"account_id":4541793,"reputation":26875,"user_id":3689450,"display_name":"VLAZ"},"score":0,"creation_date":1643663198,"post_id":70931646,"comment_id":125396061,"body_markdown":"You&#39;re probably looking for a proper extraction of logic. That doesn&#39;t necessarily mean FP - you can extract your logic into OO validators that you can even hook with AOP into your code to prevent the duplication of logic.","body":"You&#39;re probably looking for a proper extraction of logic. That doesn&#39;t necessarily mean FP - you can extract your logic into OO validators that you can even hook with AOP into your code to prevent the duplication of logic."},{"owner":{"account_id":1324957,"reputation":15152,"user_id":1270003,"accept_rate":87,"display_name":"SwiftMango"},"score":0,"creation_date":1643666585,"post_id":70931646,"comment_id":125397109,"body_markdown":"It&#39;s generally harder to implement FP logic in Java. In a more FP enabled language such as Scala, we use logging monads e.g. `treelog` to log, and option/either monads to handle exceptions.","body":"It&#39;s generally harder to implement FP logic in Java. In a more FP enabled language such as Scala, we use logging monads e.g. <code>treelog</code> to log, and option/either monads to handle exceptions."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1643727137,"post_id":70931646,"comment_id":125412914,"body_markdown":"How about using `check some condition on value || check some other condition on value` instead of repeating the `if` statement?","body":"How about using <code>check some condition on value || check some other condition on value</code> instead of repeating the <code>if</code> statement?"}],"owner":{"account_id":24075713,"reputation":21,"user_id":18051083,"display_name":"Swati"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":158,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":0,"score":0,"last_activity_date":1643661351,"creation_date":1643656727,"question_id":70931646,"body_markdown":"How I can convert the below pseudocode into functional programming?\r\n\r\n```\r\npublic void someFunction(DataType value) throws CustomException\r\n        if (check some condition on value){\r\n                log.error(&quot;some log message&quot;);\r\n                throw new CustomException();\r\n        }\r\n        if (check some other condition on value){\r\n                log.error(&quot;some log message&quot;);\r\n                throw new CustomException();\r\n        }\r\n}\r\n```\r\n\r\nAs you see above, there are repeated *If* statements in the code and also every time the log and throw exception line is repeated. Also, I have multiple functions in the class having exact same format. Is there some way to change this above code into functional programming and get rid of repeated code and make it look cleaner?","title":"How to log error and throw exception in java functional programming","body":"<p>How I can convert the below pseudocode into functional programming?</p>\n<pre><code>public void someFunction(DataType value) throws CustomException\n        if (check some condition on value){\n                log.error(&quot;some log message&quot;);\n                throw new CustomException();\n        }\n        if (check some other condition on value){\n                log.error(&quot;some log message&quot;);\n                throw new CustomException();\n        }\n}\n</code></pre>\n<p>As you see above, there are repeated <em>If</em> statements in the code and also every time the log and throw exception line is repeated. Also, I have multiple functions in the class having exact same format. Is there some way to change this above code into functional programming and get rid of repeated code and make it look cleaner?</p>\n"},{"tags":["java","string","printing","print-job-control"],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643661248,"creation_date":1643661248,"answer_id":70932488,"question_id":70921595,"body_markdown":"You can specify the `PageFormat` as an additional parameter for the `setPrintable()` method. To create a `PageFormat` object you can ask the `PrinterJob` object.\r\n\r\nAnd as soon as you provide a `PageFormat` object the call to `printerDialog()` is (at least on my machine) no longer necessary.\r\n\r\nI&#39;ve modified your sample code accordingly:\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Font;\r\n    import java.awt.Graphics;\r\n    import java.awt.print.PageFormat;\r\n    import java.awt.print.Printable;\r\n    import java.awt.print.PrinterException;\r\n    import java.awt.print.PrinterJob;\r\n    \r\n    import javax.print.PrintService;\r\n    \r\n    public class Test {\r\n    \r\n        public static void main(String[] args) {\r\n            try {\r\n                PrinterJob pjob = PrinterJob.getPrinterJob();\r\n                pjob.setJobName(&quot;Graphics Demo Printout&quot;);\r\n                pjob.setCopies(1);\r\n                // on my machine `printServices[2]` is a virtual PDF printer - good for testing since it doesn&#39;t any paper\r\n                // PrintService[] printServices = PrinterJob.lookupPrintServices();\r\n                // pjob.setPrintService(printServices[2]);\r\n                PageFormat pageFormat = pjob.defaultPage();\r\n                pjob.setPrintable(new Printable() {\r\n                    public int print(Graphics pg, PageFormat pf, int pageNum) {\r\n                        if (pageNum &gt; 0) // we only print one page\r\n                            return Printable.NO_SUCH_PAGE; // ie., end of job\r\n    \r\n                        Font f = pg.getFont();\r\n                        pg.setFont(f.deriveFont(Font.PLAIN, 24));\r\n                        pg.setColor(Color.black);\r\n                        pg.drawString(&quot;aaaaa&quot;, 100, 100);\r\n                        pg.drawString(&quot;bbbbb&quot;, 100, 200);\r\n    \r\n                        return Printable.PAGE_EXISTS;\r\n                    }\r\n                }, pageFormat);\r\n    \r\n                pjob.print();\r\n            } catch (PrinterException pe) {\r\n                pe.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"How to print() without printDialog()?","body":"<p>You can specify the <code>PageFormat</code> as an additional parameter for the <code>setPrintable()</code> method. To create a <code>PageFormat</code> object you can ask the <code>PrinterJob</code> object.</p>\n<p>And as soon as you provide a <code>PageFormat</code> object the call to <code>printerDialog()</code> is (at least on my machine) no longer necessary.</p>\n<p>I've modified your sample code accordingly:</p>\n<pre><code>import java.awt.Color;\nimport java.awt.Font;\nimport java.awt.Graphics;\nimport java.awt.print.PageFormat;\nimport java.awt.print.Printable;\nimport java.awt.print.PrinterException;\nimport java.awt.print.PrinterJob;\n\nimport javax.print.PrintService;\n\npublic class Test {\n\n    public static void main(String[] args) {\n        try {\n            PrinterJob pjob = PrinterJob.getPrinterJob();\n            pjob.setJobName(&quot;Graphics Demo Printout&quot;);\n            pjob.setCopies(1);\n            // on my machine `printServices[2]` is a virtual PDF printer - good for testing since it doesn't any paper\n            // PrintService[] printServices = PrinterJob.lookupPrintServices();\n            // pjob.setPrintService(printServices[2]);\n            PageFormat pageFormat = pjob.defaultPage();\n            pjob.setPrintable(new Printable() {\n                public int print(Graphics pg, PageFormat pf, int pageNum) {\n                    if (pageNum &gt; 0) // we only print one page\n                        return Printable.NO_SUCH_PAGE; // ie., end of job\n\n                    Font f = pg.getFont();\n                    pg.setFont(f.deriveFont(Font.PLAIN, 24));\n                    pg.setColor(Color.black);\n                    pg.drawString(&quot;aaaaa&quot;, 100, 100);\n                    pg.drawString(&quot;bbbbb&quot;, 100, 200);\n\n                    return Printable.PAGE_EXISTS;\n                }\n            }, pageFormat);\n\n            pjob.print();\n        } catch (PrinterException pe) {\n            pe.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":19487712,"reputation":63,"user_id":14256662,"display_name":"Lftbrito"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643661248,"creation_date":1643606743,"question_id":70921595,"body_markdown":"So I have this code that print some string lines, and I want to print it whitout having to choose the printer, and how can I set the pageformat ?\r\n\r\n    import java.awt.Graphics;\r\n    import java.awt.print.PageFormat;\r\n    import java.awt.print.Printable;\r\n    import java.awt.print.PrinterException;\r\n    import java.awt.print.PrinterJob;\r\n    \r\n    import javax.swing.JPanel;\r\n    \r\n    public class Test extends JPanel {\r\n    \r\n        public static void main(String[] args) {\r\n            try {\r\n                PrinterJob pjob = PrinterJob.getPrinterJob();\r\n                pjob.setJobName(&quot;Graphics Demo Printout&quot;);\r\n                pjob.setCopies(1);\r\n                pjob.setPrintable(new Printable() {\r\n                    public int print(Graphics pg, PageFormat pf, int pageNum) {\r\n                        if (pageNum &gt; 0) // we only print one page\r\n                            return Printable.NO_SUCH_PAGE; // ie., end of job\r\n    \r\n                        pg.drawString(&quot;aaaaa&quot;, 10, 10);\r\n                        pg.drawString(&quot;bbbbb&quot;, 10, 20);\r\n    \r\n                        return Printable.PAGE_EXISTS;\r\n                    }\r\n                });\r\n    \r\n                if (!pjob.printDialog()) // choose printer\r\n                    return;\r\n                pjob.print();\r\n            } catch (PrinterException pe) {\r\n                pe.printStackTrace();\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n","title":"How to print() without printDialog()?","body":"<p>So I have this code that print some string lines, and I want to print it whitout having to choose the printer, and how can I set the pageformat ?</p>\n<pre><code>import java.awt.Graphics;\nimport java.awt.print.PageFormat;\nimport java.awt.print.Printable;\nimport java.awt.print.PrinterException;\nimport java.awt.print.PrinterJob;\n\nimport javax.swing.JPanel;\n\npublic class Test extends JPanel {\n\n    public static void main(String[] args) {\n        try {\n            PrinterJob pjob = PrinterJob.getPrinterJob();\n            pjob.setJobName(&quot;Graphics Demo Printout&quot;);\n            pjob.setCopies(1);\n            pjob.setPrintable(new Printable() {\n                public int print(Graphics pg, PageFormat pf, int pageNum) {\n                    if (pageNum &gt; 0) // we only print one page\n                        return Printable.NO_SUCH_PAGE; // ie., end of job\n\n                    pg.drawString(&quot;aaaaa&quot;, 10, 10);\n                    pg.drawString(&quot;bbbbb&quot;, 10, 20);\n\n                    return Printable.PAGE_EXISTS;\n                }\n            });\n\n            if (!pjob.printDialog()) // choose printer\n                return;\n            pjob.print();\n        } catch (PrinterException pe) {\n            pe.printStackTrace();\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","android","web-services","android-ksoap2"],"comments":[{"owner":{"account_id":18502569,"reputation":39,"user_id":13479565,"display_name":"SushiDesu"},"score":0,"creation_date":1609129799,"post_id":65472778,"comment_id":115753625,"body_markdown":"Problem solved! Just used this as reference: [https://stackoverflow.com/questions/18774355/adding-ksoap-dependency-to-gradle-project/56821715#56821715](https://stackoverflow.com/questions/18774355/adding-ksoap-dependency-to-gradle-project/56821715#56821715)","body":"Problem solved! Just used this as reference: <a href=\"https://stackoverflow.com/questions/18774355/adding-ksoap-dependency-to-gradle-project/56821715#56821715\">https://stackoverflow.com/questions/18774355/adding-ksoap-de&zwnj;&#8203;pendency-to-gradle-p&zwnj;&#8203;roject/56821715#5682&zwnj;&#8203;1715</a>"},{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":0,"creation_date":1609131517,"post_id":65472778,"comment_id":115753876,"body_markdown":"Just a side note use `implementation` instead of `compile` .","body":"Just a side note use <code>implementation</code> instead of <code>compile</code> ."}],"answers":[{"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1609127428,"creation_date":1609127428,"answer_id":65472816,"question_id":65472778,"body_markdown":"There doesn&#39;t seem to be a 3.4.3 version of that library.  There&#39;s a 3.4.0.  And the newest is 3.6.4.  You&#39;re going to need to use one of those.  I&#39;d move to 3.6.4 as 3.4.0 is over 5 years old, and likely lacks security updates.","title":"Ksoap2 Library to android studio Error message, how to fix?","body":"<p>There doesn't seem to be a 3.4.3 version of that library.  There's a 3.4.0.  And the newest is 3.6.4.  You're going to need to use one of those.  I'd move to 3.6.4 as 3.4.0 is over 5 years old, and likely lacks security updates.</p>\n"},{"tags":[],"owner":{"account_id":1237882,"reputation":113,"user_id":6888412,"display_name":"Berry Wing"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643660687,"creation_date":1643660687,"answer_id":70932390,"question_id":65472778,"body_markdown":"Remove the dependencyResolutionManagement block from the setting.gradle file to have your project work the old way.\r\n\r\nRelated issue: https://stackoverflow.com/questions/69163511/build-was-configured-to-prefer-settings-repositories-over-project-repositories-b","title":"Ksoap2 Library to android studio Error message, how to fix?","body":"<p>Remove the dependencyResolutionManagement block from the setting.gradle file to have your project work the old way.</p>\n<p>Related issue: <a href=\"https://stackoverflow.com/questions/69163511/build-was-configured-to-prefer-settings-repositories-over-project-repositories-b\">Build was configured to prefer settings repositories over project repositories but repository &#39;maven&#39; was added by build file &#39;build.gradle&#39;</a></p>\n"}],"owner":{"account_id":18502569,"reputation":39,"user_id":13479565,"display_name":"SushiDesu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1673,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":65472816,"answer_count":2,"score":1,"last_activity_date":1643660687,"creation_date":1609127004,"question_id":65472778,"body_markdown":"I an trying to import Ksoap2 library in android studio using .jar file version 3.6.4. I have successfully implemented the jar file to android studio. However, on the module app activity when I try to import e.g. import &quot;org.ksoap2.SoapEnvelope;&quot;, it gets and error it shows following results:\r\n\r\nExecution failed for task &#39;:app:checkDebugAarMetadata&#39;.\r\n&gt; Could not resolve all files for configuration &#39;:app:debugRuntimeClasspath&#39;.\r\n   &gt; Could not find com.google.code.ksoap2-android:ksoap2-android:3.6.4.\r\n     Searched in the following locations:\r\n       - https://repo.maven.apache.org/maven2/com/google/code/ksoap2-android/ksoap2-android/3.6.4/ksoap2-android-3.6.4.pom\r\n       - https://dl.google.com/dl/android/maven2/com/google/code/ksoap2-android/ksoap2-android/3.6.4/ksoap2-android-3.6.4.pom\r\n       - https://jcenter.bintray.com/com/google/code/ksoap2-android/ksoap2-android/3.6.4/ksoap2-android-3.6.4.pom\r\n     Required by:\r\n         project :app\r\n\r\nPossible solution:\r\n - Declare repository providing the artifact, see the documentation at https://docs.gradle.org/current/userguide/declaring_repositories.html\r\n\r\n\r\nAlso the imports library have error, please see the pic:\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/MWJ1b.png\r\n\r\nHere is the Build.gradle module code:\r\n\r\n    buildscript {\r\n        repositories {\r\n            google()\r\n            jcenter()\r\n    \r\n        }\r\n        dependencies {\r\n            classpath &quot;com.android.tools.build:gradle:4.1.1&quot;\r\n    \r\n    \r\n            // NOTE: Do not place your application dependencies here; they belong\r\n            // in the individual module build.gradle files\r\n        }\r\n    \r\n    }\r\n    \r\n    allprojects {\r\n        repositories {\r\n            mavenCentral()\r\n            google()\r\n            jcenter()\r\n        }\r\n    }\r\n    \r\n    task clean(type: Delete) {\r\n       delete rootProject.buildDir\r\n    }\r\n\r\nHere is Build.gradle(app) Module code:\r\n\r\n    plugins {\r\n        id &#39;com.android.application&#39;\r\n    }\r\n    \r\n    android {\r\n        compileSdkVersion 30\r\n        buildToolsVersion &quot;30.0.3&quot;\r\n    \r\n        defaultConfig {\r\n            applicationId &quot;com.kowloondairycompanykdl.milk_ic&quot;\r\n            minSdkVersion 27\r\n            targetSdkVersion 30\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n    \r\n            testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n        }\r\n    \r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_1_8\r\n            targetCompatibility JavaVersion.VERSION_1_8\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n    \r\n        implementation &#39;androidx.appcompat:appcompat:1.2.0&#39;\r\n        implementation &#39;com.google.android.material:material:1.2.1&#39;\r\n        implementation &#39;androidx.constraintlayout:constraintlayout:2.0.4&#39;\r\n        implementation files(&#39;libs\\\\ksoap2-android-assembly-3.6.4.jar&#39;)\r\n        testImplementation &#39;junit:junit:4.+&#39;\r\n        androidTestImplementation &#39;androidx.test.ext:junit:1.1.2&#39;\r\n        androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.3.0&#39;\r\n        compile fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n        compile &#39;com.google.code.ksoap2-android:ksoap2-android:3.6.4&#39;\r\n    \r\n    }\r\n\r\nPlease help me, I been stuck here for a long time. How to fix the error and how can I implement the Ksoap2 library properly. Thanks\r\n\r\n","title":"Ksoap2 Library to android studio Error message, how to fix?","body":"<p>I an trying to import Ksoap2 library in android studio using .jar file version 3.6.4. I have successfully implemented the jar file to android studio. However, on the module app activity when I try to import e.g. import &quot;org.ksoap2.SoapEnvelope;&quot;, it gets and error it shows following results:</p>\n<p>Execution failed for task ':app:checkDebugAarMetadata'.</p>\n<blockquote>\n<p>Could not resolve all files for configuration ':app:debugRuntimeClasspath'.\nCould not find com.google.code.ksoap2-android:ksoap2-android:3.6.4.\nSearched in the following locations:\n- <a href=\"https://repo.maven.apache.org/maven2/com/google/code/ksoap2-android/ksoap2-android/3.6.4/ksoap2-android-3.6.4.pom\" rel=\"nofollow noreferrer\">https://repo.maven.apache.org/maven2/com/google/code/ksoap2-android/ksoap2-android/3.6.4/ksoap2-android-3.6.4.pom</a>\n- <a href=\"https://dl.google.com/dl/android/maven2/com/google/code/ksoap2-android/ksoap2-android/3.6.4/ksoap2-android-3.6.4.pom\" rel=\"nofollow noreferrer\">https://dl.google.com/dl/android/maven2/com/google/code/ksoap2-android/ksoap2-android/3.6.4/ksoap2-android-3.6.4.pom</a>\n- <a href=\"https://jcenter.bintray.com/com/google/code/ksoap2-android/ksoap2-android/3.6.4/ksoap2-android-3.6.4.pom\" rel=\"nofollow noreferrer\">https://jcenter.bintray.com/com/google/code/ksoap2-android/ksoap2-android/3.6.4/ksoap2-android-3.6.4.pom</a>\nRequired by:\nproject :app</p>\n</blockquote>\n<p>Possible solution:</p>\n<ul>\n<li>Declare repository providing the artifact, see the documentation at <a href=\"https://docs.gradle.org/current/userguide/declaring_repositories.html\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/declaring_repositories.html</a></li>\n</ul>\n<p>Also the imports library have error, please see the pic:\n<a href=\"https://i.stack.imgur.com/MWJ1b.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MWJ1b.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is the Build.gradle module code:</p>\n<pre><code>buildscript {\n    repositories {\n        google()\n        jcenter()\n\n    }\n    dependencies {\n        classpath &quot;com.android.tools.build:gradle:4.1.1&quot;\n\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n\n}\n\nallprojects {\n    repositories {\n        mavenCentral()\n        google()\n        jcenter()\n    }\n}\n\ntask clean(type: Delete) {\n   delete rootProject.buildDir\n}\n</code></pre>\n<p>Here is Build.gradle(app) Module code:</p>\n<pre><code>plugins {\n    id 'com.android.application'\n}\n\nandroid {\n    compileSdkVersion 30\n    buildToolsVersion &quot;30.0.3&quot;\n\n    defaultConfig {\n        applicationId &quot;com.kowloondairycompanykdl.milk_ic&quot;\n        minSdkVersion 27\n        targetSdkVersion 30\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n\ndependencies {\n\n    implementation 'androidx.appcompat:appcompat:1.2.0'\n    implementation 'com.google.android.material:material:1.2.1'\n    implementation 'androidx.constraintlayout:constraintlayout:2.0.4'\n    implementation files('libs\\\\ksoap2-android-assembly-3.6.4.jar')\n    testImplementation 'junit:junit:4.+'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.2'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.3.0'\n    compile fileTree(dir: 'libs', include: ['*.jar'])\n    compile 'com.google.code.ksoap2-android:ksoap2-android:3.6.4'\n\n}\n</code></pre>\n<p>Please help me, I been stuck here for a long time. How to fix the error and how can I implement the Ksoap2 library properly. Thanks</p>\n"},{"tags":["java","object","null","tostring"],"comments":[{"owner":{"account_id":13252051,"reputation":1635,"user_id":9569292,"display_name":"Thomas Timbul"},"score":1,"creation_date":1642761710,"post_id":70799888,"comment_id":125163541,"body_markdown":"I suggest you add print or logging statements, or even better use a debugger to step through your code when executed (if possible), to understand exactly what is inside the DataSnapshot that this listener executes on.","body":"I suggest you add print or logging statements, or even better use a debugger to step through your code when executed (if possible), to understand exactly what is inside the DataSnapshot that this listener executes on."},{"owner":{"account_id":5964120,"reputation":4275,"user_id":4688321,"display_name":"kiner_shah"},"score":0,"creation_date":1642761772,"post_id":70799888,"comment_id":125163560,"body_markdown":"What if `snapshot.child(&quot;state&quot;)` returns `null` or what if `getValue()` returns `null`?","body":"What if <code>snapshot.child(&quot;state&quot;)</code> returns <code>null</code> or what if <code>getValue()</code> returns <code>null</code>?"},{"owner":{"account_id":24008287,"reputation":11,"user_id":17992211,"display_name":"Jamal"},"score":0,"creation_date":1642762101,"post_id":70799888,"comment_id":125163676,"body_markdown":"both the child and the value for child are not null in database","body":"both the child and the value for child are not null in database"},{"owner":{"account_id":24008287,"reputation":11,"user_id":17992211,"display_name":"Jamal"},"score":0,"creation_date":1642762467,"post_id":70799888,"comment_id":125163808,"body_markdown":"how i can add the debugger statement here? im just new in stackoverflow.","body":"how i can add the debugger statement here? im just new in stackoverflow."},{"owner":{"account_id":1119361,"reputation":46385,"user_id":1108032,"accept_rate":79,"display_name":"Boris Strandjev"},"score":0,"creation_date":1642764196,"post_id":70799888,"comment_id":125164371,"body_markdown":"maybe try replacing `snapshot.child(&quot;state&quot;).getValue().toString()` with `String.valueOf(snapshot.child(&quot;state&quot;).getValue())`. This would not throw if `getValue` returns null. This is for the sake of experiment solely. In more general case I recommend that you check the value against `null` with an `if` as `valueOf` null returns the ugly string `&quot;null&quot;` which for most cases is not that useful.","body":"maybe try replacing <code>snapshot.child(&quot;state&quot;).getValue().toString()</code> with <code>String.valueOf(snapshot.child(&quot;state&quot;).getValue())</code>. This would not throw if <code>getValue</code> returns null. This is for the sake of experiment solely. In more general case I recommend that you check the value against <code>null</code> with an <code>if</code> as <code>valueOf</code> null returns the ugly string <code>&quot;null&quot;</code> which for most cases is not that useful."},{"owner":{"account_id":24008287,"reputation":11,"user_id":17992211,"display_name":"Jamal"},"score":0,"creation_date":1642765181,"post_id":70799888,"comment_id":125164702,"body_markdown":"after replacing with String.valueOf(snapshot.child(&quot;state&quot;).getValue()); its worked without null exception but the if statements been ignored  .","body":"after replacing with String.valueOf(snapshot.child(&quot;state&quot;).getValue()); its worked without null exception but the if statements been ignored  ."},{"owner":{"account_id":13252051,"reputation":1635,"user_id":9569292,"display_name":"Thomas Timbul"},"score":0,"creation_date":1642771562,"post_id":70799888,"comment_id":125167108,"body_markdown":"Your last comment and debugger statement indicate that the result of `snapshot.child(&quot;state&quot;).getValue()` is in fact `null`. If you can&#39;t step-debug, try using `System.out` to print everything in the snapshot, such as by making use of `snapshot.hasChildren()` and iterating (looping) over `snapshot.getChildren()`. It may not be (by all appearances isn&#39;t) the object that you&#39;re expecting from the database.","body":"Your last comment and debugger statement indicate that the result of <code>snapshot.child(&quot;state&quot;).getValue()</code> is in fact <code>null</code>. If you can&#39;t step-debug, try using <code>System.out</code> to print everything in the snapshot, such as by making use of <code>snapshot.hasChildren()</code> and iterating (looping) over <code>snapshot.getChildren()</code>. It may not be (by all appearances isn&#39;t) the object that you&#39;re expecting from the database."},{"owner":{"account_id":24008287,"reputation":11,"user_id":17992211,"display_name":"Jamal"},"score":0,"creation_date":1642838011,"post_id":70799888,"comment_id":125182853,"body_markdown":"thank you Thomas. i catch the mistake, i was not calling the primary key from the main child in database and that leaded to null value in other objects. thank you again for help.","body":"thank you Thomas. i catch the mistake, i was not calling the primary key from the main child in database and that leaded to null value in other objects. thank you again for help."}],"owner":{"account_id":24008287,"reputation":11,"user_id":17992211,"display_name":"Jamal"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":410,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1643660353,"creation_date":1642761100,"question_id":70799888,"body_markdown":"This is my code which should check the order state in the firebase database and display a message for the user. \r\nIn this line,\r\n\r\n     String shippingstate = snapshot.child(&quot;state&quot;).getValue().toString(); \r\n\r\nI got on a null object reference fatal error and the app was force closed.\r\nI verified all the child values in the database and their match but still get the error.\r\nCan you help me solve it, please?\r\nthanks\r\n\r\n    private void checkorderstate()\r\n    {\r\n        DatabaseReference orderref = FirebaseDatabase.getInstance().getReference().child(&quot;orders&quot;);\r\n        orderref.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n\r\n                if (snapshot.exists())\r\n                {\r\n\r\n                    **String shippingstate = snapshot.child(&quot;state&quot;).getValue().toString();**\r\n                    String username = snapshot.child(&quot;name&quot;).getValue().toString();\r\n\r\n\r\n                    if (shippingstate.equals(&quot;shipped&quot;))\r\n                    {\r\n                        txttotalamount.setText(&quot;Dear &quot;+ username+&quot;\\n order is shipped successfully&quot;);\r\n                        recyclerView.setVisibility(View.GONE);\r\n                        txtmsg1.setVisibility(View.VISIBLE);\r\n                        txtmsg1.setText(&quot;Dear &quot;+username+&quot;\\n Your order is completed and shipped successfully&quot;);\r\n                        nextproccessbtn.setVisibility(View.GONE);\r\n                        Toast.makeText(CartActivity.this, &quot;You can put new order after your current order get shipped&quot;, Toast.LENGTH_LONG).show();\r\n                    }\r\n                    else if (shippingstate.equals(&quot;not shipped&quot;))\r\n                    {\r\n                        txttotalamount.setText(&quot;Dear &quot;+ username+&quot;Order State: not shipped&quot;);\r\n                        recyclerView.setVisibility(View.GONE);\r\n                        txtmsg1.setText(&quot;Dear &quot;+username+&quot;\\n your order under proccess, please wait the order shipped massage. thank you&quot;);\r\n                        nextproccessbtn.setVisibility(View.GONE);\r\n                        Toast.makeText(CartActivity.this, &quot;You can put new order after your current order get shipped&quot;, Toast.LENGTH_LONG).show();\r\n\r\n                    }\r\n                }\r\n            }\r\n\r\nDebugger Statement:\r\n\r\n&gt; E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: net.lazared.myamaze, PID: 3304\r\n    java.lang.NullPointerException: Attempt to invoke virtual method &#39;java.lang.String java.lang.Object.toString()&#39; on a null object reference\r\n        at net.lazared.myamaze.CartActivity$3.onDataChange(CartActivity.java:189)\r\n        at com.google.firebase.database.core.ValueEventRegistration.fireEvent(ValueEventRegistration.java:75)\r\n        at com.google.firebase.database.core.view.DataEvent.fire(DataEvent.java:63)\r\n        at com.google.firebase.database.core.view.EventRaiser$1.run(EventRaiser.java:55)\r\n        at android.os.Handler.handleCallback(Handler.java:790)\r\n        at android.os.Handler.dispatchMessage(Handler.java:99)\r\n        at android.os.Looper.loop(Looper.java:164)\r\n        at android.app.ActivityThread.main(ActivityThread.java:6494)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:807)\r\n","title":"Fatal error in onDataChange java.lang.String java.lang.Object.toString()&#39; on a null object reference","body":"<p>This is my code which should check the order state in the firebase database and display a message for the user.\nIn this line,</p>\n<pre><code> String shippingstate = snapshot.child(&quot;state&quot;).getValue().toString(); \n</code></pre>\n<p>I got on a null object reference fatal error and the app was force closed.\nI verified all the child values in the database and their match but still get the error.\nCan you help me solve it, please?\nthanks</p>\n<pre><code>private void checkorderstate()\n{\n    DatabaseReference orderref = FirebaseDatabase.getInstance().getReference().child(&quot;orders&quot;);\n    orderref.addValueEventListener(new ValueEventListener() {\n        @Override\n        public void onDataChange(@NonNull DataSnapshot snapshot) {\n\n            if (snapshot.exists())\n            {\n\n                **String shippingstate = snapshot.child(&quot;state&quot;).getValue().toString();**\n                String username = snapshot.child(&quot;name&quot;).getValue().toString();\n\n\n                if (shippingstate.equals(&quot;shipped&quot;))\n                {\n                    txttotalamount.setText(&quot;Dear &quot;+ username+&quot;\\n order is shipped successfully&quot;);\n                    recyclerView.setVisibility(View.GONE);\n                    txtmsg1.setVisibility(View.VISIBLE);\n                    txtmsg1.setText(&quot;Dear &quot;+username+&quot;\\n Your order is completed and shipped successfully&quot;);\n                    nextproccessbtn.setVisibility(View.GONE);\n                    Toast.makeText(CartActivity.this, &quot;You can put new order after your current order get shipped&quot;, Toast.LENGTH_LONG).show();\n                }\n                else if (shippingstate.equals(&quot;not shipped&quot;))\n                {\n                    txttotalamount.setText(&quot;Dear &quot;+ username+&quot;Order State: not shipped&quot;);\n                    recyclerView.setVisibility(View.GONE);\n                    txtmsg1.setText(&quot;Dear &quot;+username+&quot;\\n your order under proccess, please wait the order shipped massage. thank you&quot;);\n                    nextproccessbtn.setVisibility(View.GONE);\n                    Toast.makeText(CartActivity.this, &quot;You can put new order after your current order get shipped&quot;, Toast.LENGTH_LONG).show();\n\n                }\n            }\n        }\n</code></pre>\n<p>Debugger Statement:</p>\n<blockquote>\n<p>E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: net.lazared.myamaze, PID: 3304\njava.lang.NullPointerException: Attempt to invoke virtual method 'java.lang.String java.lang.Object.toString()' on a null object reference\nat net.lazared.myamaze.CartActivity$3.onDataChange(CartActivity.java:189)\nat com.google.firebase.database.core.ValueEventRegistration.fireEvent(ValueEventRegistration.java:75)\nat com.google.firebase.database.core.view.DataEvent.fire(DataEvent.java:63)\nat com.google.firebase.database.core.view.EventRaiser$1.run(EventRaiser.java:55)\nat android.os.Handler.handleCallback(Handler.java:790)\nat android.os.Handler.dispatchMessage(Handler.java:99)\nat android.os.Looper.loop(Looper.java:164)\nat android.app.ActivityThread.main(ActivityThread.java:6494)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:807)</p>\n</blockquote>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":4,"creation_date":1622029514,"post_id":67704181,"comment_id":119670789,"body_markdown":"[Why not upload images of code/errors when asking a question?](https://meta.stackoverflow.com/q/285551/3111149)","body":"<a href=\"https://meta.stackoverflow.com/q/285551/3111149\">Why not upload images of code/errors when asking a question?</a>"},{"owner":{"display_name":"user15793316"},"score":5,"creation_date":1622029655,"post_id":67704181,"comment_id":119670847,"body_markdown":"some people do not like to read code from black background; most cannot copy code from an image","body":"some people do not like to read code from black background; most cannot copy code from an image"},{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1646775104,"post_id":67704181,"comment_id":126206575,"body_markdown":"Does this answer your question? [What&#39;s the difference between implementation, api and compile in Gradle?](https://stackoverflow.com/questions/44493378/whats-the-difference-between-implementation-api-and-compile-in-gradle)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/44493378/whats-the-difference-between-implementation-api-and-compile-in-gradle\">What&#39;s the difference between implementation, api and compile in Gradle?</a>"}],"answers":[{"tags":[],"owner":{"account_id":11099552,"reputation":1649,"user_id":8148637,"display_name":"KnockingHeads"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1623681213,"creation_date":1622029631,"answer_id":67704239,"question_id":67704181,"body_markdown":"If you are using Gradle version 7.0+, then compile dependency configuration is removed from that. You might need to look for **implementation** dependency configuration in place of compile.\r\n\r\nPS: Do not forget to rebuild your gradle file.\r\n\r\nMore info can be found here at my another answer for this deprecation.\r\n\r\nhttps://stackoverflow.com/a/67695126/8148637","title":"Could not find method compile() for arguments in java","body":"<p>If you are using Gradle version 7.0+, then compile dependency configuration is removed from that. You might need to look for <strong>implementation</strong> dependency configuration in place of compile.</p>\n<p>PS: Do not forget to rebuild your gradle file.</p>\n<p>More info can be found here at my another answer for this deprecation.</p>\n<p><a href=\"https://stackoverflow.com/a/67695126/8148637\">https://stackoverflow.com/a/67695126/8148637</a></p>\n"},{"tags":[],"owner":{"account_id":185340,"reputation":1598,"user_id":421969,"accept_rate":68,"display_name":"kriver"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1643660252,"creation_date":1643659892,"answer_id":70932244,"question_id":67704181,"body_markdown":"It looks pretty straightforward, but i didn&#39;t see many examples of what needs to be changed. This is what I had to do:\r\n\r\nAnything like this, change from\r\n\r\n    compile group: &#39;org.slf4j&#39;, name: &#39;slf4j-log4j12&#39;, version: &#39;1.7.25&#39;\r\n\r\nto \r\n\r\n    implementation &#39;org.slf4j:slf4j-log4j12:1.7.25&#39;\r\n\r\nI also had to change the way `mainClass` is declared\r\n\r\n    mainClassName = &#39;package.MainClass&#39;\r\nto\r\n\r\n    application {\r\n    mainClass = &#39;package.MainClass&#39;\r\n}\r\n\r\nTo get to this, I had to delete the `gradle` files and folder, and do a `gradle init` to recreate the build configs and dependencies.\r\nUse `implementation`, `runtimeOnly`, `compileOnly` etc. as the new equivalents\r\n","title":"Could not find method compile() for arguments in java","body":"<p>It looks pretty straightforward, but i didn't see many examples of what needs to be changed. This is what I had to do:</p>\n<p>Anything like this, change from</p>\n<pre><code>compile group: 'org.slf4j', name: 'slf4j-log4j12', version: '1.7.25'\n</code></pre>\n<p>to</p>\n<pre><code>implementation 'org.slf4j:slf4j-log4j12:1.7.25'\n</code></pre>\n<p>I also had to change the way <code>mainClass</code> is declared</p>\n<pre><code>mainClassName = 'package.MainClass'\n</code></pre>\n<p>to</p>\n<pre><code>application {\nmainClass = 'package.MainClass'\n</code></pre>\n<p>}</p>\n<p>To get to this, I had to delete the <code>gradle</code> files and folder, and do a <code>gradle init</code> to recreate the build configs and dependencies.\nUse <code>implementation</code>, <code>runtimeOnly</code>, <code>compileOnly</code> etc. as the new equivalents</p>\n"}],"owner":{"account_id":20772852,"reputation":82,"user_id":15255128,"display_name":"m.mahdi_rasouli"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17186,"favorite_count":0,"down_vote_count":3,"up_vote_count":3,"closed_date":1691242441,"answer_count":2,"score":0,"last_activity_date":1643660252,"creation_date":1622029422,"question_id":67704181,"body_markdown":"[![enter image description here][1]][1]can anybody help me solve this problem\r\n&gt; Could not find method compile() for arguments [project &#39;:moqui-util&#39;] on object of type org.gradle.api.internal.artifacts.dsl.dependencies.DefaultDependencyHandler.[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4smpk.jpg\r\n  [2]: https://i.stack.imgur.com/lgwo7.png","title":"Could not find method compile() for arguments in java","body":"<p><a href=\"https://i.stack.imgur.com/4smpk.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4smpk.jpg\" alt=\"enter image description here\" /></a>can anybody help me solve this problem</p>\n<blockquote>\n<p>Could not find method compile() for arguments [project ':moqui-util'] on object of type org.gradle.api.internal.artifacts.dsl.dependencies.DefaultDependencyHandler.<a href=\"https://i.stack.imgur.com/lgwo7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lgwo7.png\" alt=\"enter image description here\" /></a></p>\n</blockquote>\n"},{"tags":["java","generics","netty"],"comments":[{"owner":{"account_id":357454,"reputation":77335,"user_id":697630,"accept_rate":84,"display_name":"Edwin Dalorzo"},"score":0,"creation_date":1516673776,"post_id":48378767,"comment_id":83774200,"body_markdown":"Well, the code is taken out of context, is that declaration from Netty&#39;s [Promise](https://netty.io/4.0/api/io/netty/util/concurrent/Promise.html) class?","body":"Well, the code is taken out of context, is that declaration from Netty&#39;s <a href=\"https://netty.io/4.0/api/io/netty/util/concurrent/Promise.html\" rel=\"nofollow noreferrer\">Promise</a> class?"},{"owner":{"account_id":7385064,"reputation":25,"user_id":5620345,"display_name":"John Milton"},"score":0,"creation_date":1516674808,"post_id":48378767,"comment_id":83774453,"body_markdown":"@EdwinDalorzo hi, I edited the question, please take a look.","body":"@EdwinDalorzo hi, I edited the question, please take a look."}],"answers":[{"tags":[],"owner":{"account_id":357454,"reputation":77335,"user_id":697630,"accept_rate":84,"display_name":"Edwin Dalorzo"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1516677618,"creation_date":1516675720,"answer_id":48393422,"question_id":48378767,"body_markdown":"I&#39;m assuming your declaration above comes from Netty&#39;s [Promise](https://netty.io/4.0/api/io/netty/util/concurrent/Promise.html) class. I think my answer should work irrespective of that because your question seems to be about covariance and contravariance more than about Netty&#39;s API explicitly.\r\n\r\n    public interface Promise&lt;V&gt; extends Future&lt;V&gt; {\r\n\r\n       Promise&lt;V&gt; addListener(GenericFutureListener&lt;? extends Future&lt;? super V&gt;&gt; listener);\r\n       //...\r\n    }\r\n\r\nThe intention of generics here is to make the API more malleable for its users. \r\n\r\nSuppose you have three different `GenericFutureListener` objects of three different type arguments: `Integer`, `Number` and `Object`.\r\n\r\n    GenericFutureListener&lt;Future&lt;Integer&gt;&gt; fl1 = System.out::println;\r\n    GenericFutureListener&lt;Future&lt;Number&gt;&gt; fl2 = System.out::println;\r\n    GenericFutureListener&lt;Future&lt;Object&gt;&gt; fl3 = System.out::println;\r\n\r\nNotice that `Integer` is a subtype of `Number` which in turn is a subtype of `Object`.\r\n\r\nSuppose now that we have a `Promise` of type `Integer`, somewhat as follows\r\n\r\n    Promise&lt;Integer&gt; p = somePromise;\r\n\r\nOur method declaration would be interpreted by the compiler as\r\n\r\n    Promise&lt;Integer&gt; addListener(GenericFutureListener&lt;? extendsFuture&lt;? super Integer&gt;&gt; listener);\r\n\r\nWhich basically is saying that the `GenericFutureListener` might operate on futures of type `Integer`, *or any of its super types*.\r\n\r\nThis clearly makes the API much more flexible, for example, I can add any of the listeners I defined before to be notified when my promise of Integer is resolved:\r\n\r\n    p.addListener(fl1);\r\n    p.addListener(fl2);\r\n    p.addListener(fl3);\r\n\r\nNotice that I was not forced to provide a listener for a future of explicitly type `Integer`. If you think about it that totally makes sense because if my promise `p` produces an `Integer`, and an `Integer` *is a* `Number`, then a listener that knows how to handle a future of `Number` should be able to handle a future of `Integer` as well. And if I have listener that knows how to handle a future of `Object`, and an `Integer` *is an* `Object`, then there should be no problem in letting a listener for a future of `Object` to handle a future of `Integer`, right?\r\n\r\nWell, that&#39;s exactly what `Future&lt;? super V&gt;` means in the declaration above. This is concept known as contravariance.\r\n\r\nNow, the truth is that in Netty `Future` is an interface, and many different classes may implement `Future`. We would like our `GenericFutureListener` to be able to use any subtype of `Future` and not just `Future` itself, right?.\r\n\r\nFor example, a `Promise` is in fact a subtype of `Future`:\r\n\r\n    GenericFutureListener&lt;Promise&lt;Integer&gt;&gt; fl4 = System.out::println;\r\n    GenericFutureListener&lt;Promise&lt;Number&gt;&gt; fl5 = System.out::println;\r\n    GenericFutureListener&lt;Promise&lt;Object&gt;&gt; fl6 = System.out::println;\r\n\r\nAnd as you can see, `GenericFutureListener` accepts `Promise` as a type argument here. This is so thanks to the declaration of `&lt;? extends Future&gt;`.  Without it, `GenericFutureListener` would only accept the `Future` type here and that would make this API much less flexible, right?.\r\n\r\nThis concept is called covariance and once again it is used to make the API much more flexible for its users.\r\n\r\nNow we can make our original promise also add these second set of listeners:\r\n\r\n    p.addListener(fl4);\r\n    p.addListener(fl5);\r\n    p.addListener(fl6);\r\n\r\nAnd there you have it. A much more flexible API thanks to the proper use of covariance and contravariance.","title":"Confused about Netty&#39;s generic types used in GenericFutureListener?","body":"<p>I'm assuming your declaration above comes from Netty's <a href=\"https://netty.io/4.0/api/io/netty/util/concurrent/Promise.html\" rel=\"noreferrer\">Promise</a> class. I think my answer should work irrespective of that because your question seems to be about covariance and contravariance more than about Netty's API explicitly.</p>\n\n<pre><code>public interface Promise&lt;V&gt; extends Future&lt;V&gt; {\n\n   Promise&lt;V&gt; addListener(GenericFutureListener&lt;? extends Future&lt;? super V&gt;&gt; listener);\n   //...\n}\n</code></pre>\n\n<p>The intention of generics here is to make the API more malleable for its users. </p>\n\n<p>Suppose you have three different <code>GenericFutureListener</code> objects of three different type arguments: <code>Integer</code>, <code>Number</code> and <code>Object</code>.</p>\n\n<pre><code>GenericFutureListener&lt;Future&lt;Integer&gt;&gt; fl1 = System.out::println;\nGenericFutureListener&lt;Future&lt;Number&gt;&gt; fl2 = System.out::println;\nGenericFutureListener&lt;Future&lt;Object&gt;&gt; fl3 = System.out::println;\n</code></pre>\n\n<p>Notice that <code>Integer</code> is a subtype of <code>Number</code> which in turn is a subtype of <code>Object</code>.</p>\n\n<p>Suppose now that we have a <code>Promise</code> of type <code>Integer</code>, somewhat as follows</p>\n\n<pre><code>Promise&lt;Integer&gt; p = somePromise;\n</code></pre>\n\n<p>Our method declaration would be interpreted by the compiler as</p>\n\n<pre><code>Promise&lt;Integer&gt; addListener(GenericFutureListener&lt;? extendsFuture&lt;? super Integer&gt;&gt; listener);\n</code></pre>\n\n<p>Which basically is saying that the <code>GenericFutureListener</code> might operate on futures of type <code>Integer</code>, <em>or any of its super types</em>.</p>\n\n<p>This clearly makes the API much more flexible, for example, I can add any of the listeners I defined before to be notified when my promise of Integer is resolved:</p>\n\n<pre><code>p.addListener(fl1);\np.addListener(fl2);\np.addListener(fl3);\n</code></pre>\n\n<p>Notice that I was not forced to provide a listener for a future of explicitly type <code>Integer</code>. If you think about it that totally makes sense because if my promise <code>p</code> produces an <code>Integer</code>, and an <code>Integer</code> <em>is a</em> <code>Number</code>, then a listener that knows how to handle a future of <code>Number</code> should be able to handle a future of <code>Integer</code> as well. And if I have listener that knows how to handle a future of <code>Object</code>, and an <code>Integer</code> <em>is an</em> <code>Object</code>, then there should be no problem in letting a listener for a future of <code>Object</code> to handle a future of <code>Integer</code>, right?</p>\n\n<p>Well, that's exactly what <code>Future&lt;? super V&gt;</code> means in the declaration above. This is concept known as contravariance.</p>\n\n<p>Now, the truth is that in Netty <code>Future</code> is an interface, and many different classes may implement <code>Future</code>. We would like our <code>GenericFutureListener</code> to be able to use any subtype of <code>Future</code> and not just <code>Future</code> itself, right?.</p>\n\n<p>For example, a <code>Promise</code> is in fact a subtype of <code>Future</code>:</p>\n\n<pre><code>GenericFutureListener&lt;Promise&lt;Integer&gt;&gt; fl4 = System.out::println;\nGenericFutureListener&lt;Promise&lt;Number&gt;&gt; fl5 = System.out::println;\nGenericFutureListener&lt;Promise&lt;Object&gt;&gt; fl6 = System.out::println;\n</code></pre>\n\n<p>And as you can see, <code>GenericFutureListener</code> accepts <code>Promise</code> as a type argument here. This is so thanks to the declaration of <code>&lt;? extends Future&gt;</code>.  Without it, <code>GenericFutureListener</code> would only accept the <code>Future</code> type here and that would make this API much less flexible, right?.</p>\n\n<p>This concept is called covariance and once again it is used to make the API much more flexible for its users.</p>\n\n<p>Now we can make our original promise also add these second set of listeners:</p>\n\n<pre><code>p.addListener(fl4);\np.addListener(fl5);\np.addListener(fl6);\n</code></pre>\n\n<p>And there you have it. A much more flexible API thanks to the proper use of covariance and contravariance.</p>\n"}],"owner":{"account_id":7385064,"reputation":25,"user_id":5620345,"display_name":"John Milton"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":485,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":48393422,"answer_count":1,"score":1,"last_activity_date":1643660236,"creation_date":1516614939,"question_id":48378767,"body_markdown":"In netty define the listener as below:\r\nfor example in the class io.netty.util.concurrent.CompleteFuture:\r\n\r\n\r\n    @Override\r\n    public Future&lt;V&gt; addListener(GenericFutureListener&lt;? extends Future&lt;? super V&gt;&gt; listener) {\r\n        if (listener == null) {\r\n            throw new NullPointerException(&quot;listener&quot;);\r\n        }\r\n        DefaultPromise.notifyListener(executor(), this, listener);\r\n        return this;\r\n    }\r\nFrom what I&#39;ve known：Future&lt;? super V&gt; means a collections of Class which supers V. So it is a collections as in the inheritance tree, for we have Future&amp;lt;V&gt; and Future&amp;lt;Object&gt; at least. Let&#39;s say the collections&#39; name is C.\r\n\r\nSo here comes the question, what does ? extends C means while C is a collection?\r\n\r\nHope somebody could enlighten me!","title":"Confused about Netty&#39;s generic types used in GenericFutureListener?","body":"<p>In netty define the listener as below:\nfor example in the class io.netty.util.concurrent.CompleteFuture:</p>\n<pre><code>@Override\npublic Future&lt;V&gt; addListener(GenericFutureListener&lt;? extends Future&lt;? super V&gt;&gt; listener) {\n    if (listener == null) {\n        throw new NullPointerException(&quot;listener&quot;);\n    }\n    DefaultPromise.notifyListener(executor(), this, listener);\n    return this;\n}\n</code></pre>\n<p>From what I've known：Future&lt;? super V&gt; means a collections of Class which supers V. So it is a collections as in the inheritance tree, for we have Future&lt;V&gt; and Future&lt;Object&gt; at least. Let's say the collections' name is C.</p>\n<p>So here comes the question, what does ? extends C means while C is a collection?</p>\n<p>Hope somebody could enlighten me!</p>\n"},{"tags":["java","sql","hive","regexp-replace"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1641764378,"post_id":70645654,"comment_id":124885767,"body_markdown":"`regex_replace(&#39;[/\\\\]&#39;, &#39;\\\\\\\\\\\\&#39;)` Of course using a backslash is not a good idea.","body":"<code>regex_replace(&#39;[&#47;\\\\]&#39;, &#39;\\\\\\\\\\\\&#39;)</code> Of course using a backslash is not a good idea."}],"answers":[{"tags":[],"owner":{"account_id":2153783,"reputation":37516,"user_id":2700344,"display_name":"leftjoin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641805801,"creation_date":1641803804,"answer_id":70649689,"question_id":70645654,"body_markdown":"This should work:\r\n\r\n    regexp_replace(s1,&#39;[/\\\\\\\\]&#39;, &#39;\\\\\\\\\\\\\\\\\\\\\\\\&#39;)\r\n\r\nRegex `[/\\\\\\\\]` - means slash or backslash\r\n\r\nIt will replace all occurrences of slash or backslash with 3 backslashes. If you want to match exactly string containing only slash or backslash, use anchors: `^[/\\\\\\\\]$`\r\n\r\nAlso in the regexp you can use hex code `&#39;\\\\x5c&#39;` to match backslash: `&#39;[/\\\\x5c]&#39;`\r\n\r\n","title":"hive replace forward slash/backward slash with tripple slashes","body":"<p>This should work:</p>\n<pre><code>regexp_replace(s1,'[/\\\\\\\\]', '\\\\\\\\\\\\\\\\\\\\\\\\')\n</code></pre>\n<p>Regex <code>[/\\\\\\\\]</code> - means slash or backslash</p>\n<p>It will replace all occurrences of slash or backslash with 3 backslashes. If you want to match exactly string containing only slash or backslash, use anchors: <code>^[/\\\\\\\\]$</code></p>\n<p>Also in the regexp you can use hex code <code>'\\\\x5c'</code> to match backslash: <code>'[/\\\\x5c]'</code></p>\n"}],"owner":{"account_id":13068480,"reputation":125,"user_id":9447865,"display_name":"NK7983"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":460,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70649689,"answer_count":1,"score":1,"last_activity_date":1643660135,"creation_date":1641763553,"question_id":70645654,"body_markdown":"I have a table that has `/` or `\\` as first value and I wanted to replace it with 3 backward slashes `\\\\\\`. Tried many ways including concatenation but nothing worked so far. Any help is appreciated.\r\n\r\n    create table test ( s1 string )\r\n    \r\n    insert into test(s1) values (&#39;/&#39;)\r\n    insert into test(s1) values (&#39;ab&#39;)\r\n    insert into test(s1) values (&#39;\\\\&#39;)\r\n    \r\n    select s1, regexp_replace(s1, &#39;//&#39;,&#39;\\\\\\\\\\\\\\\\\\\\\\\\\\\\&#39;) from test;\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/otxVc.png\r\n","title":"hive replace forward slash/backward slash with tripple slashes","body":"<p>I have a table that has <code>/</code> or <code>\\</code> as first value and I wanted to replace it with 3 backward slashes <code>\\\\\\</code>. Tried many ways including concatenation but nothing worked so far. Any help is appreciated.</p>\n<pre><code>create table test ( s1 string )\n\ninsert into test(s1) values ('/')\ninsert into test(s1) values ('ab')\ninsert into test(s1) values ('\\\\')\n\nselect s1, regexp_replace(s1, '//','\\\\\\\\\\\\\\\\\\\\\\\\\\\\') from test;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/otxVc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/otxVc.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","json","jackson","jsonparser"],"answers":[{"tags":[],"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1643659780,"creation_date":1643625638,"answer_id":70924575,"question_id":70920916,"body_markdown":"You can annotate the `ref` field in your `Reference` class with the [`JsonValue`](https://fasterxml.github.io/jackson-annotations/javadoc/2.12/com/fasterxml/jackson/annotation/JsonValue.html) annotation that indicates that *the value of annotated accessor  is to be used as the single value to serialize for the instance*:\r\n\r\n\r\n~~~\r\n@Data\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\n@JsonInclude(JsonInclude.Include.NON_NULL)\r\npublic class Reference {\r\n\r\n    @JacksonXmlProperty(isAttribute = true)\r\n    @JsonValue //&lt;-- the new annotation\r\n    private String ref;\r\n\r\n    public Reference(final String ref) {\r\n        this.ref = ref;\r\n    }\r\n\r\n    public Reference() { }\r\n\r\n    public String getRef() {\r\n        return ref;\r\n    }\r\n\r\n}\r\n\r\nUser user = new User();\r\nuser.setReferences(List.of(new Reference(&quot;referenceID&quot;)));\r\n//it prints {&quot;references&quot;:[&quot;referenceID&quot;]}\r\nSystem.out.println(jsonMapper.writeValueAsString(user));\r\n~~~\r\n\r\n**Edit**: it seems that the `JsonValue` annotation invalidates the serialization of the class as expected by the OP; to solve this problem one way is the use of a mixin class for the `Reference` class and putting inside the `JsonValue` annotation, the original `Reference` class will be untouched:\r\n\r\n~~~\r\n@Data\r\npublic class MixInReference {\r\n    @JsonValue\r\n    private String ref;\r\n}\r\n\r\n\r\nObjectMapper jsonMapper = new ObjectMapper();\r\n//Reference class is still the original class\r\njsonMapper.addMixIn(Reference.class, MixInReference.class);\r\n////it prints {&quot;references&quot;:[&quot;referenceID&quot;]}\r\nSystem.out.println(jsonMapper.writeValueAsString(user));\r\n~~~","title":"Ignore enclosing braces with JSON parser while serializing object in Java","body":"<p>You can annotate the <code>ref</code> field in your <code>Reference</code> class with the <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.12/com/fasterxml/jackson/annotation/JsonValue.html\" rel=\"nofollow noreferrer\"><code>JsonValue</code></a> annotation that indicates that <em>the value of annotated accessor  is to be used as the single value to serialize for the instance</em>:</p>\n<pre><code>@Data\n@JsonIgnoreProperties(ignoreUnknown = true)\n@JsonInclude(JsonInclude.Include.NON_NULL)\npublic class Reference {\n\n    @JacksonXmlProperty(isAttribute = true)\n    @JsonValue //&lt;-- the new annotation\n    private String ref;\n\n    public Reference(final String ref) {\n        this.ref = ref;\n    }\n\n    public Reference() { }\n\n    public String getRef() {\n        return ref;\n    }\n\n}\n\nUser user = new User();\nuser.setReferences(List.of(new Reference(&quot;referenceID&quot;)));\n//it prints {&quot;references&quot;:[&quot;referenceID&quot;]}\nSystem.out.println(jsonMapper.writeValueAsString(user));\n</code></pre>\n<p><strong>Edit</strong>: it seems that the <code>JsonValue</code> annotation invalidates the serialization of the class as expected by the OP; to solve this problem one way is the use of a mixin class for the <code>Reference</code> class and putting inside the <code>JsonValue</code> annotation, the original <code>Reference</code> class will be untouched:</p>\n<pre><code>@Data\npublic class MixInReference {\n    @JsonValue\n    private String ref;\n}\n\n\nObjectMapper jsonMapper = new ObjectMapper();\n//Reference class is still the original class\njsonMapper.addMixIn(Reference.class, MixInReference.class);\n////it prints {&quot;references&quot;:[&quot;referenceID&quot;]}\nSystem.out.println(jsonMapper.writeValueAsString(user));\n</code></pre>\n"}],"owner":{"account_id":1781050,"reputation":187,"user_id":1623801,"accept_rate":14,"display_name":"zepol"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":254,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70924575,"answer_count":1,"score":1,"last_activity_date":1643659780,"creation_date":1643598927,"question_id":70920916,"body_markdown":"I have the following classes: \r\n\r\n```\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\n@JsonInclude(JsonInclude.Include.NON_NULL)\r\npublic class User {\r\n\r\n    private String id;\r\n    private List&lt;Reference&gt; references;\r\n.....\r\n}\r\n```\r\n\r\n```\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\n@JsonInclude(JsonInclude.Include.NON_NULL)\r\npublic class Reference {\r\n\r\n    @JacksonXmlProperty(isAttribute = true)\r\n    private String ref;\r\n\r\n    public Reference(final String ref) {\r\n        this.ref = ref;\r\n    }\r\n\r\n    public Reference() { }\r\n\r\n    public String getRef() {\r\n        return ref;\r\n    }\r\n\r\n}\r\n```\r\n\r\nWhen serializing to XML the format is as expected, but when I try to serialize to JSON I get the following\r\n\r\n```\r\n&quot;users&quot; : [\r\n  {\r\n      &quot;references&quot; : [\r\n      {\r\n        &quot;ref&quot;: &quot;referenceID&quot;\r\n      }\r\n    ]\r\n  }\r\n]\r\n```\r\n\r\nAnd I need it to be:\r\n\r\n```\r\n&quot;users&quot; : [\r\n  {\r\n      &quot;references&quot; : [\r\n        &quot;referenceID&quot;\r\n    ]\r\n  }\r\n]\r\n```\r\n\r\nthe braces enclosing the reference list I need it to be ignored without the attribute name","title":"Ignore enclosing braces with JSON parser while serializing object in Java","body":"<p>I have the following classes:</p>\n<pre><code>@JsonIgnoreProperties(ignoreUnknown = true)\n@JsonInclude(JsonInclude.Include.NON_NULL)\npublic class User {\n\n    private String id;\n    private List&lt;Reference&gt; references;\n.....\n}\n</code></pre>\n<pre><code>@JsonIgnoreProperties(ignoreUnknown = true)\n@JsonInclude(JsonInclude.Include.NON_NULL)\npublic class Reference {\n\n    @JacksonXmlProperty(isAttribute = true)\n    private String ref;\n\n    public Reference(final String ref) {\n        this.ref = ref;\n    }\n\n    public Reference() { }\n\n    public String getRef() {\n        return ref;\n    }\n\n}\n</code></pre>\n<p>When serializing to XML the format is as expected, but when I try to serialize to JSON I get the following</p>\n<pre><code>&quot;users&quot; : [\n  {\n      &quot;references&quot; : [\n      {\n        &quot;ref&quot;: &quot;referenceID&quot;\n      }\n    ]\n  }\n]\n</code></pre>\n<p>And I need it to be:</p>\n<pre><code>&quot;users&quot; : [\n  {\n      &quot;references&quot; : [\n        &quot;referenceID&quot;\n    ]\n  }\n]\n</code></pre>\n<p>the braces enclosing the reference list I need it to be ignored without the attribute name</p>\n"},{"tags":["java","swing","jtree"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1643602563,"post_id":70920137,"comment_id":125375418,"body_markdown":"Your renderer class has a number of calls to `add`, but it never removes any of the child components that it has previously added.","body":"Your renderer class has a number of calls to <code>add</code>, but it never removes any of the child components that it has previously added."},{"owner":{"account_id":10013677,"reputation":45,"user_id":7405752,"display_name":"AKPuvvada"},"score":0,"creation_date":1643659679,"post_id":70920137,"comment_id":125394864,"body_markdown":"Thanks, @VGR, that helped. Now CheckBoxes are not select-able. I need to work on that.","body":"Thanks, @VGR, that helped. Now CheckBoxes are not select-able. I need to work on that."}],"answers":[{"tags":[],"owner":{"account_id":10013677,"reputation":45,"user_id":7405752,"display_name":"AKPuvvada"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643659770,"creation_date":1643659770,"answer_id":70932220,"question_id":70920137,"body_markdown":"As @VGR confirmed, after adding removeAll before add resolved this issue for me.\r\n\r\n    removeAll();\r\n    add(label, BorderLayout.CENTER);","title":"Custom JTree Renderer - Support both CheckBoxes and Default","body":"<p>As @VGR confirmed, after adding removeAll before add resolved this issue for me.</p>\n<pre><code>removeAll();\nadd(label, BorderLayout.CENTER);\n</code></pre>\n"}],"owner":{"account_id":10013677,"reputation":45,"user_id":7405752,"display_name":"AKPuvvada"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643659770,"creation_date":1643588650,"question_id":70920137,"body_markdown":"I am trying to create a Custom JTree Renderer that can display both JChckBoxes and JLabel with Colored Text.\r\n\r\nWhen I create a JTree with that renderer, it shows all nodes garbled. [![enter image description here][1]][1]\r\n\r\nBelow is my code. Not sure what I am doing wrong. If I remove Colored text and normal text and only keep JCheckbox or Only use colored text, it works fine.\r\n\r\nAppreciate any help.\r\n\r\nMy Renderer class:\r\n\r\n    public class CheckBoxCellRenderer extends JPanel implements TreeCellRenderer {\r\n    \r\n        public CheckBoxCellRenderer() {\r\n            super();\r\n            this.setLayout(new BorderLayout());\r\n        }\r\n    \r\n        @Override\r\n        public Component getTreeCellRendererComponent(JTree tree, Object value,\r\n                boolean selected, boolean expanded, boolean leaf, int row,\r\n                boolean hasFocus) {\r\n            DefaultMutableTreeNode node = (DefaultMutableTreeNode) value;\r\n            Object obj = node.getUserObject();\r\n            if(obj instanceof JCheckBox){\r\n                JCheckBox checkBox = (JCheckBox) obj;\r\n                //TreePath tp = new TreePath(node.getPath());\r\n                if(hasFocus)\r\n                {\r\n                    checkBox.setBackground(Color.darkGray);\r\n                    checkBox.setForeground(Color.white);\r\n                } else {\r\n                    checkBox.setBackground(Color.white);\r\n                    checkBox.setForeground(Color.black);\r\n                }\r\n                add(checkBox, BorderLayout.CENTER);\r\n                setOpaque(false);\r\n                this.validate();\r\n                System.out.println(&quot;JCheckBox&quot;);\r\n                return this;\r\n            } else if(obj instanceof ColoredString1){\r\n                JLabel label = new JLabel();\r\n                ColoredString1 cString = (ColoredString1) obj;\r\n                if(hasFocus)\r\n                {\r\n                    label.setBackground(Color.gray);\r\n                    label.setForeground(cString.getColor());\r\n                } else {\r\n                    label.setBackground(Color.white);\r\n                    label.setForeground(cString.getColor());\r\n                }\r\n                label.setText(cString.getValue());\r\n                add(label, BorderLayout.CENTER);\r\n                this.validate();\r\n                System.out.println(&quot;ColoredString1&quot;);\r\n                return this;\r\n            } else {\r\n                JLabel label = new JLabel();\r\n                if(hasFocus)\r\n                {\r\n                    label.setBackground(Color.gray);\r\n                } else {\r\n                    label.setBackground(Color.white);\r\n                }\r\n                label.setText((String) obj);\r\n                add(label, BorderLayout.CENTER);\r\n                this.validate();\r\n                System.out.println(&quot;Default&quot;);\r\n                return this;\r\n            }\r\n        }\r\n    }\r\n\r\nMy main code sample :\r\n\r\n    public class JPOC_JTree_Custom {\r\n    \r\n        /**\r\n         * @param args the command line arguments\r\n         */\r\n        public static void main(String[] args) {\r\n            JFrame myframe = new JFrame(&quot;Custom JTree POC&quot;);\r\n            myframe.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n            \r\n            JTree myTree = new JTree();\r\n            myTree.setCellRenderer(new CheckBoxCellRenderer());\r\n            //((DefaultMutableTreeNode)((DefaultTreeModel)myTree.getModel()).getRoot()).removeAllChildren();\r\n            DefaultTreeModel model = (DefaultTreeModel) myTree.getModel();\r\n            DefaultMutableTreeNode root = (DefaultMutableTreeNode) model.getRoot();\r\n            root.removeAllChildren();\r\n            root.setUserObject(&quot;Root_Test&quot;);\r\n            \r\n            DefaultMutableTreeNode TreeNode_Ex_1 = new DefaultMutableTreeNode(new ColoredString1(&quot;Red&quot;, Color.red));\r\n            DefaultMutableTreeNode TreeNode_Ex_2 = new DefaultMutableTreeNode(new ColoredString1(&quot;Orange&quot;, Color.orange));\r\n            DefaultMutableTreeNode TreeNode_Ex_3 = new DefaultMutableTreeNode(new ColoredString1(&quot;Green&quot;, Color.green));\r\n            DefaultMutableTreeNode TreeNode_Ex_4 = new DefaultMutableTreeNode(new ColoredString1(&quot;Blue&quot;, Color.blue));\r\n            DefaultMutableTreeNode TreeNode_Ex_5 = new DefaultMutableTreeNode(&quot;5&quot;);\r\n            DefaultMutableTreeNode TreeNode_Ex_6 = new DefaultMutableTreeNode(new JCheckBox(&quot;Check?&quot;));\r\n            \r\n            root.add(TreeNode_Ex_1);\r\n            root.add(TreeNode_Ex_2);\r\n            root.add(TreeNode_Ex_3);\r\n            root.add(TreeNode_Ex_4);\r\n            root.add(TreeNode_Ex_5);\r\n            root.add(TreeNode_Ex_6);\r\n            \r\n            //model.setRoot(root);\r\n            model.reload(root);\r\n            //myTree.setModel(model);\r\n            \r\n            JScrollPane myTree_ScrollPane = new JScrollPane();\r\n            myTree_ScrollPane.setViewportView(myTree);\r\n            \r\n            myframe.add(myTree_ScrollPane);\r\n            \r\n            myframe.validate();\r\n            \r\n            myframe.setVisible(true);\r\n            \r\n            System.out.println(&quot;Done&quot;);\r\n        }\r\n        \r\n    }\r\n\r\n--\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DRMmN.png","title":"Custom JTree Renderer - Support both CheckBoxes and Default","body":"<p>I am trying to create a Custom JTree Renderer that can display both JChckBoxes and JLabel with Colored Text.</p>\n<p>When I create a JTree with that renderer, it shows all nodes garbled. <a href=\"https://i.stack.imgur.com/DRMmN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DRMmN.png\" alt=\"enter image description here\" /></a></p>\n<p>Below is my code. Not sure what I am doing wrong. If I remove Colored text and normal text and only keep JCheckbox or Only use colored text, it works fine.</p>\n<p>Appreciate any help.</p>\n<p>My Renderer class:</p>\n<pre><code>public class CheckBoxCellRenderer extends JPanel implements TreeCellRenderer {\n\n    public CheckBoxCellRenderer() {\n        super();\n        this.setLayout(new BorderLayout());\n    }\n\n    @Override\n    public Component getTreeCellRendererComponent(JTree tree, Object value,\n            boolean selected, boolean expanded, boolean leaf, int row,\n            boolean hasFocus) {\n        DefaultMutableTreeNode node = (DefaultMutableTreeNode) value;\n        Object obj = node.getUserObject();\n        if(obj instanceof JCheckBox){\n            JCheckBox checkBox = (JCheckBox) obj;\n            //TreePath tp = new TreePath(node.getPath());\n            if(hasFocus)\n            {\n                checkBox.setBackground(Color.darkGray);\n                checkBox.setForeground(Color.white);\n            } else {\n                checkBox.setBackground(Color.white);\n                checkBox.setForeground(Color.black);\n            }\n            add(checkBox, BorderLayout.CENTER);\n            setOpaque(false);\n            this.validate();\n            System.out.println(&quot;JCheckBox&quot;);\n            return this;\n        } else if(obj instanceof ColoredString1){\n            JLabel label = new JLabel();\n            ColoredString1 cString = (ColoredString1) obj;\n            if(hasFocus)\n            {\n                label.setBackground(Color.gray);\n                label.setForeground(cString.getColor());\n            } else {\n                label.setBackground(Color.white);\n                label.setForeground(cString.getColor());\n            }\n            label.setText(cString.getValue());\n            add(label, BorderLayout.CENTER);\n            this.validate();\n            System.out.println(&quot;ColoredString1&quot;);\n            return this;\n        } else {\n            JLabel label = new JLabel();\n            if(hasFocus)\n            {\n                label.setBackground(Color.gray);\n            } else {\n                label.setBackground(Color.white);\n            }\n            label.setText((String) obj);\n            add(label, BorderLayout.CENTER);\n            this.validate();\n            System.out.println(&quot;Default&quot;);\n            return this;\n        }\n    }\n}\n</code></pre>\n<p>My main code sample :</p>\n<pre><code>public class JPOC_JTree_Custom {\n\n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String[] args) {\n        JFrame myframe = new JFrame(&quot;Custom JTree POC&quot;);\n        myframe.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n        \n        JTree myTree = new JTree();\n        myTree.setCellRenderer(new CheckBoxCellRenderer());\n        //((DefaultMutableTreeNode)((DefaultTreeModel)myTree.getModel()).getRoot()).removeAllChildren();\n        DefaultTreeModel model = (DefaultTreeModel) myTree.getModel();\n        DefaultMutableTreeNode root = (DefaultMutableTreeNode) model.getRoot();\n        root.removeAllChildren();\n        root.setUserObject(&quot;Root_Test&quot;);\n        \n        DefaultMutableTreeNode TreeNode_Ex_1 = new DefaultMutableTreeNode(new ColoredString1(&quot;Red&quot;, Color.red));\n        DefaultMutableTreeNode TreeNode_Ex_2 = new DefaultMutableTreeNode(new ColoredString1(&quot;Orange&quot;, Color.orange));\n        DefaultMutableTreeNode TreeNode_Ex_3 = new DefaultMutableTreeNode(new ColoredString1(&quot;Green&quot;, Color.green));\n        DefaultMutableTreeNode TreeNode_Ex_4 = new DefaultMutableTreeNode(new ColoredString1(&quot;Blue&quot;, Color.blue));\n        DefaultMutableTreeNode TreeNode_Ex_5 = new DefaultMutableTreeNode(&quot;5&quot;);\n        DefaultMutableTreeNode TreeNode_Ex_6 = new DefaultMutableTreeNode(new JCheckBox(&quot;Check?&quot;));\n        \n        root.add(TreeNode_Ex_1);\n        root.add(TreeNode_Ex_2);\n        root.add(TreeNode_Ex_3);\n        root.add(TreeNode_Ex_4);\n        root.add(TreeNode_Ex_5);\n        root.add(TreeNode_Ex_6);\n        \n        //model.setRoot(root);\n        model.reload(root);\n        //myTree.setModel(model);\n        \n        JScrollPane myTree_ScrollPane = new JScrollPane();\n        myTree_ScrollPane.setViewportView(myTree);\n        \n        myframe.add(myTree_ScrollPane);\n        \n        myframe.validate();\n        \n        myframe.setVisible(true);\n        \n        System.out.println(&quot;Done&quot;);\n    }\n    \n}\n</code></pre>\n<p>--</p>\n"},{"tags":["java","spring","flutter","oauth-2.0","google-oauth"],"comments":[{"owner":{"account_id":8276195,"reputation":769,"user_id":6222302,"accept_rate":83,"display_name":"Bala"},"score":0,"creation_date":1642972580,"post_id":70825998,"comment_id":125210262,"body_markdown":"Have you tried springboot oauth feature ? https://spring.io/guides/tutorials/spring-boot-oauth2/","body":"Have you tried springboot oauth feature ? <a href=\"https://spring.io/guides/tutorials/spring-boot-oauth2/\" rel=\"nofollow noreferrer\">spring.io/guides/tutorials/spring-boot-oauth2</a>"}],"answers":[{"tags":[],"owner":{"account_id":17829600,"reputation":57,"user_id":12949953,"display_name":"Paul"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643659606,"creation_date":1643659606,"answer_id":70932200,"question_id":70825998,"body_markdown":"Ok, I found out, that the best and recommended way is too use GoogleTokenVerifier on the backend to authenticate and check the accessToken of the oauth request. Microsofts is recommending the same way:\r\n\r\nhttps://learn.microsoft.com/de-de/azure/active-directory/develop/access-tokens#validating-tokens\r\n\r\nhttps://www.youtube.com/watch?v=j_31hJtWjlw","title":"How do I design google OAuth2 workflow","body":"<p>Ok, I found out, that the best and recommended way is too use GoogleTokenVerifier on the backend to authenticate and check the accessToken of the oauth request. Microsofts is recommending the same way:</p>\n<p><a href=\"https://learn.microsoft.com/de-de/azure/active-directory/develop/access-tokens#validating-tokens\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/de-de/azure/active-directory/develop/access-tokens#validating-tokens</a></p>\n<p><a href=\"https://www.youtube.com/watch?v=j_31hJtWjlw\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=j_31hJtWjlw</a></p>\n"}],"owner":{"account_id":17829600,"reputation":57,"user_id":12949953,"display_name":"Paul"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70932200,"answer_count":1,"score":1,"last_activity_date":1643659606,"creation_date":1642967573,"question_id":70825998,"body_markdown":"I have a Backend (Spring) and a Frontend Flutter App. I want to implement an OAuth2 flow. What is the right way to implement this. My first service to implement will be google, but i want to keep it general, so i can implement other services like Microsoft.\r\n\r\nI&#39;ve tried a workflow where the authentication is done by the server (app requests oauth login to server -&gt; redirecting with clientIds etc -&gt; client authenticates -&gt; redirect to server and validating -&gt; returning login information to client)\r\nIs this the right way? E.g. Google doesn&#39;t want you to use the built-in-app webView widget...\r\n\r\nI&#39;ve also tried a split way, that the first request to google OAuth servers is done in the app obtaining the authCode and the server requesting the necessary information. But this doesn&#39;t work for me. I&#39;ll get different error types each time.\r\n\r\nI&#39;m really stuck at this for a long time and didn&#39;t find a general solution...","title":"How do I design google OAuth2 workflow","body":"<p>I have a Backend (Spring) and a Frontend Flutter App. I want to implement an OAuth2 flow. What is the right way to implement this. My first service to implement will be google, but i want to keep it general, so i can implement other services like Microsoft.</p>\n<p>I've tried a workflow where the authentication is done by the server (app requests oauth login to server -&gt; redirecting with clientIds etc -&gt; client authenticates -&gt; redirect to server and validating -&gt; returning login information to client)\nIs this the right way? E.g. Google doesn't want you to use the built-in-app webView widget...</p>\n<p>I've also tried a split way, that the first request to google OAuth servers is done in the app obtaining the authCode and the server requesting the necessary information. But this doesn't work for me. I'll get different error types each time.</p>\n<p>I'm really stuck at this for a long time and didn't find a general solution...</p>\n"},{"tags":["java","data-structures"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":1,"creation_date":1643659314,"post_id":70932010,"comment_id":125394718,"body_markdown":"Does the bag really need to contain multiple copies of the same (T implements `equals` and `hashcode`).  For example, could use a data structure such as `Map&lt;T, Integer&gt;`, where Integer is the count (but there is actually only a single instance).  `doubleBag()` would just be going through the map and `* 2` each value of the map.","body":"Does the bag really need to contain multiple copies of the same (T implements <code>equals</code> and <code>hashcode</code>).  For example, could use a data structure such as <code>Map&lt;T, Integer&gt;</code>, where Integer is the count (but there is actually only a single instance).  <code>doubleBag()</code> would just be going through the map and <code>* 2</code> each value of the map."}],"answers":[{"tags":[],"owner":{"account_id":21534,"reputation":59456,"user_id":52443,"display_name":"Welbog"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643659505,"creation_date":1643659505,"answer_id":70932183,"question_id":70932010,"body_markdown":"Let&#39;s just briefly look at your `replace` method:\r\n\r\n```\r\nT entry = null;\r\nT entry1 = null;\r\n// entry and entry1 are both null\r\noldEntry = entry;\r\nnewEntry = entry1;\r\n// entry, entry1, oldEntry and newEntry are all null.\r\n\r\nremove(oldEntry); // remove null\r\n\r\nentry = newEntry;  // overwriting null with null\r\nentry1 = oldEntry; // same as previous statement\r\n\r\nadd(oldEntry); // add null\r\nadd(newEntry); // add null again\r\n\r\n// print &quot;null , null&quot;\r\nSystem.out.println(oldEntry + &quot; , &quot; + newEntry);\r\n```\r\n\r\nIt&#39;s not clear what you&#39;re trying to do, but at least what&#39;s here is just a bunch of nothing. What you probably want is a little more like this:\r\n\r\n```\r\n// assuming oldEntry and newEntry are set somewhere and are correct, \r\n// and that remove and add work as expected:\r\nremove(oldEntry);\r\nadd(newEntry);\r\n// And you&#39;ll want to repeat this for as many duplicates as there are of oldEntry.\r\n```\r\n\r\nAs for the `doubleBag` method, you&#39;ll want some way to walk over entries, and then duplicate them:\r\n\r\n```\r\nNode currentNode = head;\r\nNode newHead = null;\r\nNode newTail = null;\r\nwhile (currentNode != null) {\r\n  Node first = new Node(currentNode.data);\r\n  Node second = new Node(currentNode.data);\r\n  first.next = second;\r\n  if (newHead != null) {\r\n    newTail.next = first;\r\n    newTail = second;\r\n  } else {\r\n    newHead = first;\r\n    newTail = second;\r\n  }\r\n  currentNode = currentNode.next;\r\n}\r\nreturn newHead;\r\n```\r\n\r\nThis code traverses the input list starting at `head`, creates two copies of the node (named `first` and `second`), links them together and appends them to a new list, which it returns at the end.\r\n\r\nThat should get you started. Also, notice how the traversal works, and see how it differs from your `isDuplicated` implementation (which currently has an infinite loop). I&#39;ll leave it to you to fix your implementation.","title":"Implementing methods from a class to a interface as a linked list","body":"<p>Let's just briefly look at your <code>replace</code> method:</p>\n<pre><code>T entry = null;\nT entry1 = null;\n// entry and entry1 are both null\noldEntry = entry;\nnewEntry = entry1;\n// entry, entry1, oldEntry and newEntry are all null.\n\nremove(oldEntry); // remove null\n\nentry = newEntry;  // overwriting null with null\nentry1 = oldEntry; // same as previous statement\n\nadd(oldEntry); // add null\nadd(newEntry); // add null again\n\n// print &quot;null , null&quot;\nSystem.out.println(oldEntry + &quot; , &quot; + newEntry);\n</code></pre>\n<p>It's not clear what you're trying to do, but at least what's here is just a bunch of nothing. What you probably want is a little more like this:</p>\n<pre><code>// assuming oldEntry and newEntry are set somewhere and are correct, \n// and that remove and add work as expected:\nremove(oldEntry);\nadd(newEntry);\n// And you'll want to repeat this for as many duplicates as there are of oldEntry.\n</code></pre>\n<p>As for the <code>doubleBag</code> method, you'll want some way to walk over entries, and then duplicate them:</p>\n<pre><code>Node currentNode = head;\nNode newHead = null;\nNode newTail = null;\nwhile (currentNode != null) {\n  Node first = new Node(currentNode.data);\n  Node second = new Node(currentNode.data);\n  first.next = second;\n  if (newHead != null) {\n    newTail.next = first;\n    newTail = second;\n  } else {\n    newHead = first;\n    newTail = second;\n  }\n  currentNode = currentNode.next;\n}\nreturn newHead;\n</code></pre>\n<p>This code traverses the input list starting at <code>head</code>, creates two copies of the node (named <code>first</code> and <code>second</code>), links them together and appends them to a new list, which it returns at the end.</p>\n<p>That should get you started. Also, notice how the traversal works, and see how it differs from your <code>isDuplicated</code> implementation (which currently has an infinite loop). I'll leave it to you to fix your implementation.</p>\n"}],"owner":{"account_id":20474883,"reputation":1,"user_id":15024443,"display_name":"JavaScript without Script"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":141,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1643659505,"creation_date":1643658592,"question_id":70932010,"body_markdown":"I have these folowing methods and I want to implement this in a class called LinkedBag \r\n\r\n    void replace(T oldEntry, T newEntry){}\r\n    boolean isDuplicated(T anEntry){}\r\n    void doubleBag(){}\r\n1) `void replace(T oldEntry,T newEntry)` replaces any entry that is equal to `oldEntry` with the new entry `newEntry`. For example,suppose that `replace(A,D)` is called on this bag {A,B,C,A}. The resulting bag should be `{D,B,C,D}`\r\n2) the boolean returns true if the entry `anEntry` appears more than \r\none time in the bag and false otherwise. For example, calling `isDuplicated(B)` on the resulting \r\nbag in part 1 should return false, but `isDuplicated(D)` should return true.\r\n3) `void doubleBag()`adds to the bag a copy of each entry that appears in the bag. For example, \r\ncalling doubleBag() on the resulting bag in part 1 should change the bag contents to `{4’D, 2’B, \r\n2’C}`.\r\n\r\nNow so far I though of getting the frequency of a node and checking if the node is duplicated like:\r\n\r\n     public boolean isDuplicated(T anEntry){ \r\n           Node currentNode =firstNode;\r\n           int counter=0;\r\n           while ((counter &lt;numberOfEntries)&amp;&amp;(currentNode!=null))\r\n               if(anEntry.equals(currentNode)){\r\n                   return true;\r\n               }\r\n           return false;\r\n        }\r\n\r\nand for the `replace` method I tried assigning values to another variables then removing them and then reassigning them again but I don&#39;t think it&#39;s right\r\n\r\n       T entry=null;\r\n            T entry1 = null;\r\n            oldEntry=entry;\r\n            newEntry=entry1;\r\n            remove(oldEntry);\r\n            entry=newEntry; \r\n            entry1=oldEntry;\r\n            \r\n            \r\n            \r\n            add(oldEntry);\r\n            add(newEntry);\r\n           System.out.println( oldEntry+&quot; , &quot;+newEntry );\r\n        }\r\nas for the double bag I still don&#39;t know how to do it.\r\n\r\nExcuse me for my bad programming I am learning java new, and still learning the basics.\r\n\r\n ","title":"Implementing methods from a class to a interface as a linked list","body":"<p>I have these folowing methods and I want to implement this in a class called LinkedBag</p>\n<pre><code>void replace(T oldEntry, T newEntry){}\nboolean isDuplicated(T anEntry){}\nvoid doubleBag(){}\n</code></pre>\n<ol>\n<li><code>void replace(T oldEntry,T newEntry)</code> replaces any entry that is equal to <code>oldEntry</code> with the new entry <code>newEntry</code>. For example,suppose that <code>replace(A,D)</code> is called on this bag {A,B,C,A}. The resulting bag should be <code>{D,B,C,D}</code></li>\n<li>the boolean returns true if the entry <code>anEntry</code> appears more than\none time in the bag and false otherwise. For example, calling <code>isDuplicated(B)</code> on the resulting\nbag in part 1 should return false, but <code>isDuplicated(D)</code> should return true.</li>\n<li><code>void doubleBag()</code>adds to the bag a copy of each entry that appears in the bag. For example,\ncalling doubleBag() on the resulting bag in part 1 should change the bag contents to <code>{4’D, 2’B,  2’C}</code>.</li>\n</ol>\n<p>Now so far I though of getting the frequency of a node and checking if the node is duplicated like:</p>\n<pre><code> public boolean isDuplicated(T anEntry){ \n       Node currentNode =firstNode;\n       int counter=0;\n       while ((counter &lt;numberOfEntries)&amp;&amp;(currentNode!=null))\n           if(anEntry.equals(currentNode)){\n               return true;\n           }\n       return false;\n    }\n</code></pre>\n<p>and for the <code>replace</code> method I tried assigning values to another variables then removing them and then reassigning them again but I don't think it's right</p>\n<pre><code>   T entry=null;\n        T entry1 = null;\n        oldEntry=entry;\n        newEntry=entry1;\n        remove(oldEntry);\n        entry=newEntry; \n        entry1=oldEntry;\n        \n        \n        \n        add(oldEntry);\n        add(newEntry);\n       System.out.println( oldEntry+&quot; , &quot;+newEntry );\n    }\n</code></pre>\n<p>as for the double bag I still don't know how to do it.</p>\n<p>Excuse me for my bad programming I am learning java new, and still learning the basics.</p>\n"},{"tags":["java","spring","unit-testing","mockito","boolean"],"comments":[{"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"score":0,"creation_date":1643653511,"post_id":70926321,"comment_id":125392504,"body_markdown":"Thank you for showing your code so clearly. Which line is line 87 in the second error message? Which line gave the WrongTypeOfReturnValue error?","body":"Thank you for showing your code so clearly. Which line is line 87 in the second error message? Which line gave the WrongTypeOfReturnValue error?"},{"owner":{"account_id":24105110,"reputation":27,"user_id":18076422,"display_name":"jana"},"score":0,"creation_date":1643653948,"post_id":70926321,"comment_id":125392682,"body_markdown":"@JeffBowman it was this line: Mockito.doReturn(true).when(this.petRepository.findById(0)).isPresent();","body":"@JeffBowman it was this line: Mockito.doReturn(true).when(this.petRepository.findById(0)).&zwnj;&#8203;isPresent();"}],"answers":[{"tags":[],"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643658381,"creation_date":1643658381,"answer_id":70931962,"question_id":70926321,"body_markdown":"In the `init` method, you are stubbing `findById` on the mock instance `this.petRepository` to return a non-mock Optional, which is good. In your new test, you are trying to set a return value for `isPresent`, which you can&#39;t do because Optional is not a mock. If you want to override the behavior per-test, you&#39;ll need to stub `findById` to return an Optional of a different instance. Therefore, this is right, though it appears exactly as it does in `init` and consequently it can&#39;t tell you why your test is failing.\r\n\r\n```java\r\nMockito.when(this.petRepository.findById(0))\r\n    .thenReturn(java.util.Optional.of(pet));\r\n```\r\n\r\n---\r\n\r\nMockito works by creating a _mock object_ that _subclasses a class and overrides every method_. The overridden method is what interacts with a static (ThreadLocal) infrastructure, allowing you to use `when` syntax. The important thing here is that `when` ignores its argument, and instead tries to mock _the last interaction that you made with a mock_. You can find out more in the SO questions [How does mockito when() invocation work?](https://stackoverflow.com/a/14447878/1426891) and [How do Mockito matchers work?](https://stackoverflow.com/q/22822512/1426891).\r\n\r\nWhen you see this call:\r\n\r\n```java\r\nMockito.when(this.petRepository.findById(0))\r\n    .thenReturn(java.util.Optional.of(pet));\r\n```\r\n\r\nThen it works as you&#39;ve intended:\r\n\r\n1. `petRepository` is a mock, `findById` is presumably an overridable method, Mockito records the fact that you&#39;ve called it with the argument `0`.\r\n2. `findById` doesn&#39;t have any behavior stubbed yet, so it does its default, returning `null`.\r\n3. `when` doesn&#39;t care that it just received `null`, because the `null` doesn&#39;t tell it anything about what methods were called to get the `null`. Instead it looks back at its most recent record (`findById(0)`) and returns an object with the `thenVerb` methods you expect.\r\n4. You call `thenReturn`, so Mockito sets up `petRepository` to return the Optional instance you created and passed in.\r\n\r\nBut when you try this call:\r\n\r\n```java\r\nMockito.when(this.petRepository.findById(0).isPresent()).thenReturn(true);\r\n```\r\n\r\nThen the most recent interaction isn&#39;t `isPresent`, it&#39;s `findById`, so Mockito assumes you want `findById(0)` to `thenReturn(true)` and throws WrongTypeOfReturnValue. Optional is not a mock, so interacting with it doesn&#39;t let Mockito record its interaction or replay your behavior. For what it&#39;s worth, I also wouldn&#39;t advise mocking it: [Optional is a final class](https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html), and though [Mockito has recently added some support for mocking final types](https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#39), Optional is simple and straightforward enough that it makes more sense to just return the Optional instance you want rather than trying to mock it.\r\n\r\nWith all that said, your code looks right; as long as PetRepository is an interface I don&#39;t see anything about the way your method looks or the way your mocks look that would cause `this.petRepository.findById(0)` to return an absent Optional. In fact, I don&#39;t even see where you would _create_ an absent Optional for it to return, so I can only guess that you are using more real objects in your test than you think you are.","title":"Mockito WrongTypeOfReturnValue: Boolean cannot be returned by findById()","body":"<p>In the <code>init</code> method, you are stubbing <code>findById</code> on the mock instance <code>this.petRepository</code> to return a non-mock Optional, which is good. In your new test, you are trying to set a return value for <code>isPresent</code>, which you can't do because Optional is not a mock. If you want to override the behavior per-test, you'll need to stub <code>findById</code> to return an Optional of a different instance. Therefore, this is right, though it appears exactly as it does in <code>init</code> and consequently it can't tell you why your test is failing.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Mockito.when(this.petRepository.findById(0))\n    .thenReturn(java.util.Optional.of(pet));\n</code></pre>\n<hr />\n<p>Mockito works by creating a <em>mock object</em> that <em>subclasses a class and overrides every method</em>. The overridden method is what interacts with a static (ThreadLocal) infrastructure, allowing you to use <code>when</code> syntax. The important thing here is that <code>when</code> ignores its argument, and instead tries to mock <em>the last interaction that you made with a mock</em>. You can find out more in the SO questions <a href=\"https://stackoverflow.com/a/14447878/1426891\">How does mockito when() invocation work?</a> and <a href=\"https://stackoverflow.com/q/22822512/1426891\">How do Mockito matchers work?</a>.</p>\n<p>When you see this call:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Mockito.when(this.petRepository.findById(0))\n    .thenReturn(java.util.Optional.of(pet));\n</code></pre>\n<p>Then it works as you've intended:</p>\n<ol>\n<li><code>petRepository</code> is a mock, <code>findById</code> is presumably an overridable method, Mockito records the fact that you've called it with the argument <code>0</code>.</li>\n<li><code>findById</code> doesn't have any behavior stubbed yet, so it does its default, returning <code>null</code>.</li>\n<li><code>when</code> doesn't care that it just received <code>null</code>, because the <code>null</code> doesn't tell it anything about what methods were called to get the <code>null</code>. Instead it looks back at its most recent record (<code>findById(0)</code>) and returns an object with the <code>thenVerb</code> methods you expect.</li>\n<li>You call <code>thenReturn</code>, so Mockito sets up <code>petRepository</code> to return the Optional instance you created and passed in.</li>\n</ol>\n<p>But when you try this call:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Mockito.when(this.petRepository.findById(0).isPresent()).thenReturn(true);\n</code></pre>\n<p>Then the most recent interaction isn't <code>isPresent</code>, it's <code>findById</code>, so Mockito assumes you want <code>findById(0)</code> to <code>thenReturn(true)</code> and throws WrongTypeOfReturnValue. Optional is not a mock, so interacting with it doesn't let Mockito record its interaction or replay your behavior. For what it's worth, I also wouldn't advise mocking it: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html\" rel=\"nofollow noreferrer\">Optional is a final class</a>, and though <a href=\"https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#39\" rel=\"nofollow noreferrer\">Mockito has recently added some support for mocking final types</a>, Optional is simple and straightforward enough that it makes more sense to just return the Optional instance you want rather than trying to mock it.</p>\n<p>With all that said, your code looks right; as long as PetRepository is an interface I don't see anything about the way your method looks or the way your mocks look that would cause <code>this.petRepository.findById(0)</code> to return an absent Optional. In fact, I don't even see where you would <em>create</em> an absent Optional for it to return, so I can only guess that you are using more real objects in your test than you think you are.</p>\n"}],"owner":{"account_id":24105110,"reputation":27,"user_id":18076422,"display_name":"jana"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1983,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70931962,"answer_count":1,"score":1,"last_activity_date":1643658381,"creation_date":1643633774,"question_id":70926321,"body_markdown":"I am trying to test the following method with JUnit tests, using Mockito:\r\n\r\n    @Override public List&lt;Adoption&gt; search(String username, Integer id) {\r\n\r\n    List&lt;Adoption&gt; emptySearchResult = new ArrayList&lt;&gt;();\r\n\r\n    if(id != null &amp;&amp; !username.equals(&quot;&quot;) ) {\r\n        if(!this.petRepository.findById(id).isPresent()){\r\n            return emptySearchResult;\r\n        }\r\n        if(!this.appUserRepository.findByUsername(username).isPresent()){\r\n            return emptySearchResult;\r\n        }\r\n        Pet pet = this.petRepository.findById(id).orElseThrow( () -&gt; new PetNotFoundException(id));\r\n        AppUser user  = this.appUserRepository.findByUsername(username).orElseThrow( () -&gt; new UsernameNotFoundException(username));\r\n        return this.adoptionRepository.findAllByUserAndPet(user, pet);\r\n    }\r\n    else if(id != null &amp;&amp; username.equals(&quot;&quot;)){\r\n        if(!this.petRepository.findById(id).isPresent()){\r\n            return emptySearchResult;\r\n        }\r\n        Pet pet = this.petRepository.findById(id).orElseThrow( () -&gt; new PetNotFoundException(id));\r\n        return this.adoptionRepository.findAllByPet(pet);\r\n    }\r\n    else if(id == null &amp;&amp; !username.equals(&quot;&quot;)) {\r\n        if(!this.appUserRepository.findByUsername(username).isPresent()){\r\n            return emptySearchResult;\r\n        }\r\n        AppUser user  = this.appUserRepository.findByUsername(username).orElseThrow( () -&gt; new UsernameNotFoundException(username));\r\n        return this.adoptionRepository.findAllByUser(user);\r\n    }\r\n    else {\r\n        return this.adoptionRepository.findAll();\r\n    }\r\n\r\n}\r\n\r\nHowever, I run into a problem with the following part: \r\n\r\n    if(!this.petRepository.findById(id).isPresent())\r\n\r\nEven though I have mocked this.petRepository.findById(id), for some reason isPresent() is returning false. This is my initialization for the tests:\r\n\r\n    @Mock\r\n    private AdoptionRepository adoptionRepository;\r\n\r\n    @Mock\r\n    private PetRepository petRepository;\r\n\r\n    @Mock\r\n    private AppUserRepository appUserRepository;\r\n\r\n    private AdoptionServiceImpl service;\r\n\r\n    private Adoption adoption1;\r\n    private Adoption adoption2;\r\n    private Adoption adoption3;\r\n\r\n    private AppUser user;\r\n    private AppUser user2;\r\n    private Pet pet;\r\n    private Pet petAlteadyAdopted;\r\n\r\n    List&lt;Adoption&gt; allAdoptions = new ArrayList&lt;&gt;();\r\n    List&lt;Adoption&gt; userFilteredAdoptions = new ArrayList&lt;&gt;();\r\n    List&lt;Adoption&gt; petFilteredAdoptions = new ArrayList&lt;&gt;();\r\n\r\n    @Before\r\n    public void init() {\r\n        MockitoAnnotations.initMocks(this);\r\n        user = new AppUser(&quot;username&quot;,&quot;name&quot;,&quot;lastname&quot;,&quot;email@gmail.com&quot;,&quot;pass&quot;,ZonedDateTime.now(), Role.ROLE_USER, City.Skopje);\r\n        user2 = new AppUser(&quot;username1&quot;,&quot;name&quot;,&quot;lastname&quot;,&quot;email@gmail.com&quot;,&quot;pass&quot;,ZonedDateTime.now(), Role.ROLE_USER, City.Skopje);\r\n\r\n        Center center = new Center(&quot;a&quot;, City.Bitola,&quot;url&quot;);\r\n        pet = new Pet(&quot;p&quot;, Type.DOG,&quot;b&quot;, Gender.FEMALE,&quot;d&quot;,center, ZonedDateTime.now(),&quot;url&quot;,null,false,ZonedDateTime.now());\r\n        petAlteadyAdopted = new Pet(&quot;p&quot;, Type.DOG,&quot;b&quot;, Gender.FEMALE,&quot;d&quot;,center, ZonedDateTime.now(),&quot;url&quot;,null,true,ZonedDateTime.now());\r\n\r\n        pet.setId(0);\r\n        petAlteadyAdopted.setId(1);\r\n        adoption1 = new Adoption(ZonedDateTime.now(),ZonedDateTime.now(),Status.ACTIVE,user,pet);\r\n        adoption2 = new Adoption(ZonedDateTime.now(),ZonedDateTime.now(),Status.CLOSED,user,pet);\r\n        adoption3 = new Adoption(ZonedDateTime.now(),ZonedDateTime.now(),Status.CLOSED,user2,new Pet());\r\n\r\n        allAdoptions.add(adoption1);\r\n        allAdoptions.add(adoption2);\r\n        allAdoptions.add(adoption3);\r\n\r\n        petFilteredAdoptions.add(adoption2);\r\n        petFilteredAdoptions.add(adoption1);\r\n\r\n        userFilteredAdoptions.add(adoption2);\r\n        userFilteredAdoptions.add(adoption1);\r\n\r\n        Mockito.when(this.adoptionRepository.findById(0)).thenReturn(java.util.Optional.of(adoption1));\r\n        Mockito.when(this.adoptionRepository.findById(1)).thenReturn(java.util.Optional.of(adoption2));\r\n\r\n        Mockito.when(this.petRepository.findById(0)).thenReturn(java.util.Optional.of(pet));\r\n        Mockito.when(this.petRepository.findById(1)).thenReturn(java.util.Optional.of(petAlteadyAdopted));\r\n        \r\n\r\n        Mockito.when(this.appUserRepository.findByUsername(&quot;username&quot;)).thenReturn(java.util.Optional.of(user));\r\n        Mockito.when(this.appUserRepository.findByUsername(&quot;username1&quot;)).thenReturn(java.util.Optional.of(user2));\r\n\r\n        Mockito.when(this.adoptionRepository.findAll()).thenReturn(allAdoptions);\r\n        Mockito.when(this.adoptionRepository.findAllByPet(pet)).thenReturn(petFilteredAdoptions);\r\n        Mockito.when(this.adoptionRepository.findAllByUser(user)).thenReturn(userFilteredAdoptions);\r\n        Mockito.when(this.adoptionRepository.findAllByUserAndPet(user,pet)).thenReturn(userFilteredAdoptions);\r\n\r\n        Mockito.when(this.adoptionRepository.save(Mockito.any(Adoption.class))).thenReturn(adoption1);\r\n\r\n        this.service = Mockito.spy(new AdoptionServiceImpl(this.adoptionRepository, this.petRepository,this.appUserRepository));\r\n    }\r\n\r\nAs a result, the following test fails, even though it should pass:\r\n\r\n    @Test\r\n    public void searchTest2() { \r\n        List&lt;Adoption&gt; adoptionList = this.service.search(&quot;&quot;,0);\r\n        Assert.assertEquals(petFilteredAdoptions,adoptionList);\r\n    }\r\n\r\nIn order to solve this I tried mocking the isPresent() method:\r\n\r\n    Mockito.when(this.petRepository.findById(0).isPresent()).thenReturn(true);\r\n\r\nBut I&#39;m getting the following exception:\r\n\r\n&gt; org.mockito.exceptions.misusing.WrongTypeOfReturnValue: \r\n&gt; Boolean cannot be returned by findById() findById() should return\r\n&gt; Optional***\r\n&gt; If you&#39;re unsure why you&#39;re getting above error read on. Due to the\r\n&gt; nature of the syntax above problem might occur because:\r\n&gt; 1. This exception *might* occur in wrongly written multi-threaded tests.    Please refer to Mockito FAQ on limitations of concurrency\r\n&gt; testing.\r\n&gt; 2. A spy is stubbed using when(spy.foo()).then() syntax. It is safer to stub spies - \r\n&gt;    - with doReturn|Throw() family of methods. More in javadocs for Mockito.spy() method.\r\n\r\nI also tried the following variation: \r\n\r\n    Mockito.doReturn(true).when(this.petRepository.findById(0)).isPresent();\r\n\r\n&gt; But then I got the following exception:\r\n&gt; \r\n&gt; org.mockito.exceptions.misusing.UnfinishedStubbingException: \r\n&gt; Unfinished stubbing detected here:\r\n&gt; -&gt; at mk.finki.ukim.milenichinja.ServiceTests.AdoptionServiceFilterTests.init(AdoptionServiceFilterTests.java:87)\r\n&gt; \r\n&gt; E.g. thenReturn() may be missing. Examples of correct stubbing:\r\n&gt;     when(mock.isOk()).thenReturn(true);\r\n&gt;     when(mock.isOk()).thenThrow(exception);\r\n&gt;     doThrow(exception).when(mock).someVoidMethod(); Hints:\r\n&gt;  1. missing thenReturn()\r\n&gt;  2. you are trying to stub a final method, which is not supported\r\n&gt;  3. you are stubbing the behaviour of another mock inside before &#39;thenReturn&#39; instruction is completed\r\n\r\nAny ideas how to solve this problem?\r\n\r\n\r\n\r\n","title":"Mockito WrongTypeOfReturnValue: Boolean cannot be returned by findById()","body":"<p>I am trying to test the following method with JUnit tests, using Mockito:</p>\n<pre><code>@Override public List&lt;Adoption&gt; search(String username, Integer id) {\n\nList&lt;Adoption&gt; emptySearchResult = new ArrayList&lt;&gt;();\n\nif(id != null &amp;&amp; !username.equals(&quot;&quot;) ) {\n    if(!this.petRepository.findById(id).isPresent()){\n        return emptySearchResult;\n    }\n    if(!this.appUserRepository.findByUsername(username).isPresent()){\n        return emptySearchResult;\n    }\n    Pet pet = this.petRepository.findById(id).orElseThrow( () -&gt; new PetNotFoundException(id));\n    AppUser user  = this.appUserRepository.findByUsername(username).orElseThrow( () -&gt; new UsernameNotFoundException(username));\n    return this.adoptionRepository.findAllByUserAndPet(user, pet);\n}\nelse if(id != null &amp;&amp; username.equals(&quot;&quot;)){\n    if(!this.petRepository.findById(id).isPresent()){\n        return emptySearchResult;\n    }\n    Pet pet = this.petRepository.findById(id).orElseThrow( () -&gt; new PetNotFoundException(id));\n    return this.adoptionRepository.findAllByPet(pet);\n}\nelse if(id == null &amp;&amp; !username.equals(&quot;&quot;)) {\n    if(!this.appUserRepository.findByUsername(username).isPresent()){\n        return emptySearchResult;\n    }\n    AppUser user  = this.appUserRepository.findByUsername(username).orElseThrow( () -&gt; new UsernameNotFoundException(username));\n    return this.adoptionRepository.findAllByUser(user);\n}\nelse {\n    return this.adoptionRepository.findAll();\n}\n</code></pre>\n<p>}</p>\n<p>However, I run into a problem with the following part:</p>\n<pre><code>if(!this.petRepository.findById(id).isPresent())\n</code></pre>\n<p>Even though I have mocked this.petRepository.findById(id), for some reason isPresent() is returning false. This is my initialization for the tests:</p>\n<pre><code>@Mock\nprivate AdoptionRepository adoptionRepository;\n\n@Mock\nprivate PetRepository petRepository;\n\n@Mock\nprivate AppUserRepository appUserRepository;\n\nprivate AdoptionServiceImpl service;\n\nprivate Adoption adoption1;\nprivate Adoption adoption2;\nprivate Adoption adoption3;\n\nprivate AppUser user;\nprivate AppUser user2;\nprivate Pet pet;\nprivate Pet petAlteadyAdopted;\n\nList&lt;Adoption&gt; allAdoptions = new ArrayList&lt;&gt;();\nList&lt;Adoption&gt; userFilteredAdoptions = new ArrayList&lt;&gt;();\nList&lt;Adoption&gt; petFilteredAdoptions = new ArrayList&lt;&gt;();\n\n@Before\npublic void init() {\n    MockitoAnnotations.initMocks(this);\n    user = new AppUser(&quot;username&quot;,&quot;name&quot;,&quot;lastname&quot;,&quot;email@gmail.com&quot;,&quot;pass&quot;,ZonedDateTime.now(), Role.ROLE_USER, City.Skopje);\n    user2 = new AppUser(&quot;username1&quot;,&quot;name&quot;,&quot;lastname&quot;,&quot;email@gmail.com&quot;,&quot;pass&quot;,ZonedDateTime.now(), Role.ROLE_USER, City.Skopje);\n\n    Center center = new Center(&quot;a&quot;, City.Bitola,&quot;url&quot;);\n    pet = new Pet(&quot;p&quot;, Type.DOG,&quot;b&quot;, Gender.FEMALE,&quot;d&quot;,center, ZonedDateTime.now(),&quot;url&quot;,null,false,ZonedDateTime.now());\n    petAlteadyAdopted = new Pet(&quot;p&quot;, Type.DOG,&quot;b&quot;, Gender.FEMALE,&quot;d&quot;,center, ZonedDateTime.now(),&quot;url&quot;,null,true,ZonedDateTime.now());\n\n    pet.setId(0);\n    petAlteadyAdopted.setId(1);\n    adoption1 = new Adoption(ZonedDateTime.now(),ZonedDateTime.now(),Status.ACTIVE,user,pet);\n    adoption2 = new Adoption(ZonedDateTime.now(),ZonedDateTime.now(),Status.CLOSED,user,pet);\n    adoption3 = new Adoption(ZonedDateTime.now(),ZonedDateTime.now(),Status.CLOSED,user2,new Pet());\n\n    allAdoptions.add(adoption1);\n    allAdoptions.add(adoption2);\n    allAdoptions.add(adoption3);\n\n    petFilteredAdoptions.add(adoption2);\n    petFilteredAdoptions.add(adoption1);\n\n    userFilteredAdoptions.add(adoption2);\n    userFilteredAdoptions.add(adoption1);\n\n    Mockito.when(this.adoptionRepository.findById(0)).thenReturn(java.util.Optional.of(adoption1));\n    Mockito.when(this.adoptionRepository.findById(1)).thenReturn(java.util.Optional.of(adoption2));\n\n    Mockito.when(this.petRepository.findById(0)).thenReturn(java.util.Optional.of(pet));\n    Mockito.when(this.petRepository.findById(1)).thenReturn(java.util.Optional.of(petAlteadyAdopted));\n    \n\n    Mockito.when(this.appUserRepository.findByUsername(&quot;username&quot;)).thenReturn(java.util.Optional.of(user));\n    Mockito.when(this.appUserRepository.findByUsername(&quot;username1&quot;)).thenReturn(java.util.Optional.of(user2));\n\n    Mockito.when(this.adoptionRepository.findAll()).thenReturn(allAdoptions);\n    Mockito.when(this.adoptionRepository.findAllByPet(pet)).thenReturn(petFilteredAdoptions);\n    Mockito.when(this.adoptionRepository.findAllByUser(user)).thenReturn(userFilteredAdoptions);\n    Mockito.when(this.adoptionRepository.findAllByUserAndPet(user,pet)).thenReturn(userFilteredAdoptions);\n\n    Mockito.when(this.adoptionRepository.save(Mockito.any(Adoption.class))).thenReturn(adoption1);\n\n    this.service = Mockito.spy(new AdoptionServiceImpl(this.adoptionRepository, this.petRepository,this.appUserRepository));\n}\n</code></pre>\n<p>As a result, the following test fails, even though it should pass:</p>\n<pre><code>@Test\npublic void searchTest2() { \n    List&lt;Adoption&gt; adoptionList = this.service.search(&quot;&quot;,0);\n    Assert.assertEquals(petFilteredAdoptions,adoptionList);\n}\n</code></pre>\n<p>In order to solve this I tried mocking the isPresent() method:</p>\n<pre><code>Mockito.when(this.petRepository.findById(0).isPresent()).thenReturn(true);\n</code></pre>\n<p>But I'm getting the following exception:</p>\n<blockquote>\n<p>org.mockito.exceptions.misusing.WrongTypeOfReturnValue:\nBoolean cannot be returned by findById() findById() should return\nOptional***\nIf you're unsure why you're getting above error read on. Due to the\nnature of the syntax above problem might occur because:</p>\n<ol>\n<li>This exception <em>might</em> occur in wrongly written multi-threaded tests.    Please refer to Mockito FAQ on limitations of concurrency\ntesting.</li>\n<li>A spy is stubbed using when(spy.foo()).then() syntax. It is safer to stub spies -\n<ul>\n<li>with doReturn|Throw() family of methods. More in javadocs for Mockito.spy() method.</li>\n</ul>\n</li>\n</ol>\n</blockquote>\n<p>I also tried the following variation:</p>\n<pre><code>Mockito.doReturn(true).when(this.petRepository.findById(0)).isPresent();\n</code></pre>\n<blockquote>\n<p>But then I got the following exception:</p>\n<p>org.mockito.exceptions.misusing.UnfinishedStubbingException:\nUnfinished stubbing detected here:\n-&gt; at mk.finki.ukim.milenichinja.ServiceTests.AdoptionServiceFilterTests.init(AdoptionServiceFilterTests.java:87)</p>\n<p>E.g. thenReturn() may be missing. Examples of correct stubbing:\nwhen(mock.isOk()).thenReturn(true);\nwhen(mock.isOk()).thenThrow(exception);\ndoThrow(exception).when(mock).someVoidMethod(); Hints:</p>\n<ol>\n<li>missing thenReturn()</li>\n<li>you are trying to stub a final method, which is not supported</li>\n<li>you are stubbing the behaviour of another mock inside before 'thenReturn' instruction is completed</li>\n</ol>\n</blockquote>\n<p>Any ideas how to solve this problem?</p>\n"},{"tags":["java","gradle","dependency-management","jna"],"answers":[{"tags":[],"owner":{"account_id":1187908,"reputation":8617,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643658264,"creation_date":1643658264,"answer_id":70931943,"question_id":70926161,"body_markdown":"The bottom of the stack trace shows you the original source of the problem:\r\n\r\n&gt; Caused by: java.lang.ClassNotFoundException: com.sun.jna.platform.win32.Win32Exception\r\n\r\nThis class should be included in the JNA dependency of the project, but it is not.  \r\n\r\nThe calling class in `net.bytebuddy.agent` expects to have JNA (and `jna-platform`) version 5.8.0, which is listed as a [dependency in their POM][1].\r\n\r\nGradle handles dependencies transitively, however, and it is likely that another dependency of your project depends on an earlier version of JNA and is importing it first.\r\n\r\nThe best way to eliminate JNA transitive dependency errors is to specify the most recent version of JNA (both jna and jna-platform artifacts) in the top level of the gradle build, instead of relying on dependencies to load it.\r\n\r\nAlternately you can move a dependency which already imports the newest JNA (in this case `bytebuddy` earlier in the list of your own dependencies so it wins the &quot;tiebreaker&quot; in transitive dependency resolution.\r\n\r\n\r\n  [1]: https://github.com/raphw/byte-buddy/blob/8ef6c1b5a69d48d89844beb5aec9b530e4a26358/byte-buddy-agent/pom.xml#L33-L44","title":"ClassNotFoundException in JNA class when compiling Gradle build","body":"<p>The bottom of the stack trace shows you the original source of the problem:</p>\n<blockquote>\n<p>Caused by: java.lang.ClassNotFoundException: com.sun.jna.platform.win32.Win32Exception</p>\n</blockquote>\n<p>This class should be included in the JNA dependency of the project, but it is not.</p>\n<p>The calling class in <code>net.bytebuddy.agent</code> expects to have JNA (and <code>jna-platform</code>) version 5.8.0, which is listed as a <a href=\"https://github.com/raphw/byte-buddy/blob/8ef6c1b5a69d48d89844beb5aec9b530e4a26358/byte-buddy-agent/pom.xml#L33-L44\" rel=\"nofollow noreferrer\">dependency in their POM</a>.</p>\n<p>Gradle handles dependencies transitively, however, and it is likely that another dependency of your project depends on an earlier version of JNA and is importing it first.</p>\n<p>The best way to eliminate JNA transitive dependency errors is to specify the most recent version of JNA (both jna and jna-platform artifacts) in the top level of the gradle build, instead of relying on dependencies to load it.</p>\n<p>Alternately you can move a dependency which already imports the newest JNA (in this case <code>bytebuddy</code> earlier in the list of your own dependencies so it wins the &quot;tiebreaker&quot; in transitive dependency resolution.</p>\n"}],"owner":{"display_name":"user17228175"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":669,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70931943,"answer_count":1,"score":0,"last_activity_date":1643658328,"creation_date":1643633071,"question_id":70926161,"body_markdown":"```\r\n&gt; Task :compileJava FAILED\r\nAn exception has occurred in the compiler (17.0.1). Please file a bug against the Java compiler via the Java bug reporting page (http://bugreport.java.com) after checking the Bug Database (http://bugs.java.com) for duplicates. Include your program, the following diagnostic, and the parameters passed to the Java compiler in your report. Thank you.\r\njava.util.ServiceConfigurationError: com.sun.source.util.Plugin: Provider com.github.bsideup.jabel.JabelCompilerPlugin could not be instantiated\r\n\tat java.base/java.util.ServiceLoader.fail(ServiceLoader.java:586)\r\n\tat java.base/java.util.ServiceLoader$ProviderImpl.newInstance(ServiceLoader.java:813)\r\n\tat java.base/java.util.ServiceLoader$ProviderImpl.get(ServiceLoader.java:729)\r\n\tat java.base/java.util.ServiceLoader$3.next(ServiceLoader.java:1403)\r\n\tat jdk.compiler/com.sun.tools.javac.api.BasicJavacTask.initPlugins(BasicJavacTask.java:220)\r\n\tat jdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.prepareCompiler(JavacTaskImpl.java:204)\r\n\tat jdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.lambda$doCall$0(JavacTaskImpl.java:101)\r\n\tat jdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.invocationHelper(JavacTaskImpl.java:152)\r\n\tat jdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.doCall(JavacTaskImpl.java:100)\r\n\tat jdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.call(JavacTaskImpl.java:94)\r\n\tat org.gradle.internal.compiler.java.IncrementalCompileTask.call(IncrementalCompileTask.java:89)\r\n\tat org.gradle.api.internal.tasks.compile.AnnotationProcessingCompileTask.call(AnnotationProcessingCompileTask.java:94)\r\n\tat org.gradle.api.internal.tasks.compile.ResourceCleaningCompilationTask.call(ResourceCleaningCompilationTask.java:57)\r\n\tat org.gradle.api.internal.tasks.compile.JdkJavaCompiler.execute(JdkJavaCompiler.java:54)\r\n\tat org.gradle.api.internal.tasks.compile.JdkJavaCompiler.execute(JdkJavaCompiler.java:39)\r\n\tat org.gradle.api.internal.tasks.compile.NormalizingJavaCompiler.delegateAndHandleErrors(NormalizingJavaCompiler.java:97)\r\n\tat org.gradle.api.internal.tasks.compile.NormalizingJavaCompiler.execute(NormalizingJavaCompiler.java:51)\r\n\tat org.gradle.api.internal.tasks.compile.NormalizingJavaCompiler.execute(NormalizingJavaCompiler.java:37)\r\n\tat org.gradle.api.internal.tasks.compile.AnnotationProcessorDiscoveringCompiler.execute(AnnotationProcessorDiscoveringCompiler.java:51)\r\n\tat org.gradle.api.internal.tasks.compile.AnnotationProcessorDiscoveringCompiler.execute(AnnotationProcessorDiscoveringCompiler.java:37)\r\n\tat org.gradle.api.internal.tasks.compile.ModuleApplicationNameWritingCompiler.execute(ModuleApplicationNameWritingCompiler.java:46)\r\n\tat org.gradle.api.internal.tasks.compile.ModuleApplicationNameWritingCompiler.execute(ModuleApplicationNameWritingCompiler.java:36)\r\n\tat org.gradle.jvm.toolchain.internal.DefaultToolchainJavaCompiler.execute(DefaultToolchainJavaCompiler.java:57)\r\n\tat org.gradle.api.tasks.compile.JavaCompile.lambda$createToolchainCompiler$1(JavaCompile.java:232)\r\n\tat org.gradle.api.internal.tasks.compile.CleaningJavaCompiler.execute(CleaningJavaCompiler.java:53)\r\n\tat org.gradle.api.internal.tasks.compile.incremental.IncrementalCompilerFactory.lambda$createRebuildAllCompiler$0(IncrementalCompilerFactory.java:52)\r\n\tat org.gradle.api.internal.tasks.compile.incremental.SelectiveCompiler.execute(SelectiveCompiler.java:67)\r\n\tat org.gradle.api.internal.tasks.compile.incremental.SelectiveCompiler.execute(SelectiveCompiler.java:41)\r\n\tat org.gradle.api.internal.tasks.compile.incremental.IncrementalResultStoringCompiler.execute(IncrementalResultStoringCompiler.java:66)\r\n\tat org.gradle.api.internal.tasks.compile.incremental.IncrementalResultStoringCompiler.execute(IncrementalResultStoringCompiler.java:52)\r\n\tat org.gradle.api.internal.tasks.compile.CompileJavaBuildOperationReportingCompiler$2.call(CompileJavaBuildOperationReportingCompiler.java:59)\r\n\tat org.gradle.api.internal.tasks.compile.CompileJavaBuildOperationReportingCompiler$2.call(CompileJavaBuildOperationReportingCompiler.java:51)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n\tat org.gradle.api.internal.tasks.compile.CompileJavaBuildOperationReportingCompiler.execute(CompileJavaBuildOperationReportingCompiler.java:51)\r\n\tat org.gradle.api.tasks.compile.JavaCompile.performCompilation(JavaCompile.java:279)\r\n\tat org.gradle.api.tasks.compile.JavaCompile.performIncrementalCompilation(JavaCompile.java:165)\r\n\tat org.gradle.api.tasks.compile.JavaCompile.compile(JavaCompile.java:146)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:104)\r\n\tat org.gradle.api.internal.project.taskfactory.IncrementalInputsTaskAction.doExecute(IncrementalInputsTaskAction.java:32)\r\n\tat org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:51)\r\n\tat org.gradle.api.internal.project.taskfactory.AbstractIncrementalTaskAction.execute(AbstractIncrementalTaskAction.java:25)\r\n\tat org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:29)\r\n\tat org.gradle.api.internal.tasks.execution.TaskExecution$2.run(TaskExecution.java:239)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\r\n\tat org.gradle.api.internal.tasks.execution.TaskExecution.executeAction(TaskExecution.java:224)\r\n\tat org.gradle.api.internal.tasks.execution.TaskExecution.executeActions(TaskExecution.java:207)\r\n\tat org.gradle.api.internal.tasks.execution.TaskExecution.executeWithPreviousOutputFiles(TaskExecution.java:190)\r\n\tat org.gradle.api.internal.tasks.execution.TaskExecution.execute(TaskExecution.java:168)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep.executeInternal(ExecuteStep.java:89)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep.access$000(ExecuteStep.java:40)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:53)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:50)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:50)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:40)\r\n\tat org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:68)\r\n\tat org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:38)\r\n\tat org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:48)\r\n\tat org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:36)\r\n\tat org.gradle.internal.execution.steps.CancelExecutionStep.execute(CancelExecutionStep.java:41)\r\n\tat org.gradle.internal.execution.steps.TimeoutStep.executeWithoutTimeout(TimeoutStep.java:74)\r\n\tat org.gradle.internal.execution.steps.TimeoutStep.execute(TimeoutStep.java:55)\r\n\tat org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:51)\r\n\tat org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:29)\r\n\tat org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:61)\r\n\tat org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:42)\r\n\tat org.gradle.internal.execution.steps.BroadcastChangingOutputsStep.execute(BroadcastChangingOutputsStep.java:60)\r\n\tat org.gradle.internal.execution.steps.BroadcastChangingOutputsStep.execute(BroadcastChangingOutputsStep.java:27)\r\n\tat org.gradle.internal.execution.steps.BuildCacheStep.executeWithoutCache(BuildCacheStep.java:188)\r\n\tat org.gradle.internal.execution.steps.BuildCacheStep.lambda$execute$1(BuildCacheStep.java:75)\r\n\tat org.gradle.internal.Either$Right.fold(Either.java:175)\r\n\tat org.gradle.internal.execution.caching.CachingState.fold(CachingState.java:59)\r\n\tat org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:73)\r\n\tat org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:48)\r\n\tat org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:38)\r\n\tat org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:27)\r\n\tat org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:36)\r\n\tat org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:22)\r\n\tat org.gradle.internal.execution.steps.SkipUpToDateStep.executeBecause(SkipUpToDateStep.java:109)\r\n\tat org.gradle.internal.execution.steps.SkipUpToDateStep.lambda$execute$2(SkipUpToDateStep.java:56)\r\n\tat java.base/java.util.Optional.orElseGet(Optional.java:364)\r\n\tat org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:56)\r\n\tat org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:38)\r\n\tat org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:73)\r\n\tat org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:44)\r\n\tat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:37)\r\n\tat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:27)\r\n\tat org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:89)\r\n\tat org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:50)\r\n\tat org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:114)\r\n\tat org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:57)\r\n\tat org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:76)\r\n\tat org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:50)\r\n\tat org.gradle.internal.execution.steps.SkipEmptyWorkStep.lambda$execute$2(SkipEmptyWorkStep.java:93)\r\n\tat java.base/java.util.Optional.orElseGet(Optional.java:364)\r\n\tat org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:93)\r\n\tat org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:34)\r\n\tat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsStartedStep.execute(MarkSnapshottingInputsStartedStep.java:38)\r\n\tat org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:43)\r\n\tat org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:31)\r\n\tat org.gradle.internal.execution.steps.AssignWorkspaceStep.lambda$execute$0(AssignWorkspaceStep.java:40)\r\n\tat org.gradle.api.internal.tasks.execution.TaskExecution$3.withWorkspace(TaskExecution.java:284)\r\n\tat org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:40)\r\n\tat org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:30)\r\n\tat org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:37)\r\n\tat org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:27)\r\n\tat org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:44)\r\n\tat org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:33)\r\n\tat org.gradle.internal.execution.impl.DefaultExecutionEngine$1.execute(DefaultExecutionEngine.java:76)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:142)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:131)\r\n\tat org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:77)\r\n\tat org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\r\n\tat org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\r\n\tat org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\r\n\tat org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\r\n\tat org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\r\n\tat org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:74)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:402)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:389)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:382)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:368)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.lambda$run$0(DefaultPlanExecutor.java:127)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:191)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:182)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:124)\r\n\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n\tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:61)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: java.lang.ExceptionInInitializerError\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\r\n\tat java.base/java.util.ServiceLoader$ProviderImpl.newInstance(ServiceLoader.java:789)\r\n\t... 167 more\r\nCaused by: java.lang.IllegalStateException: Error during attachment using: net.bytebuddy.agent.ByteBuddyAgent$AttachmentProvider$Compound@12f7d046\r\n\tat net.bytebuddy.agent.ByteBuddyAgent.install(ByteBuddyAgent.java:639)\r\n\tat net.bytebuddy.agent.ByteBuddyAgent.install(ByteBuddyAgent.java:612)\r\n\tat net.bytebuddy.agent.ByteBuddyAgent.install(ByteBuddyAgent.java:564)\r\n\tat com.github.bsideup.jabel.JabelCompilerPlugin.&lt;clinit&gt;(JabelCompilerPlugin.java:56)\r\n\t... 173 more\r\nCaused by: java.lang.reflect.InvocationTargetException\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat net.bytebuddy.agent.Attacher.install(Attacher.java:102)\r\n\tat net.bytebuddy.agent.ByteBuddyAgent.install(ByteBuddyAgent.java:634)\r\n\t... 176 more\r\nCaused by: java.lang.NoClassDefFoundError: com/sun/jna/platform/win32/Win32Exception\r\n\tat net.bytebuddy.agent.VirtualMachine$ForHotSpot.attach(VirtualMachine.java:241)\r\n\t... 182 more\r\nCaused by: java.lang.ClassNotFoundException: com.sun.jna.platform.win32.Win32Exception\r\n\tat java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:445)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:587)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n\t... 183 more\r\nCaused by: java.lang.ExceptionInInitializerError\r\n\r\nCaused by: java.lang.IllegalStateException: Error during attachment using: net.bytebuddy.agent.ByteBuddyAgent$AttachmentProvider$Compound@12f7d046\r\n\r\nCaused by: java.lang.reflect.InvocationTargetException\r\n\r\nCaused by: java.lang.NoClassDefFoundError: com/sun/jna/platform/win32/Win32Exception\r\n\r\nCaused by: java.lang.ClassNotFoundException: com.sun.jna.platform.win32.Win32Exception\r\n\r\n```\r\n\r\nI have no idea what the error is.\r\n\r\nI&#39;m using OpenJDK 17.0.1, and I&#39;m trying to write a mindustry mod. I copied the repository from the official template. Other SDKs give the same error. \r\n\r\nNo one on the official server of the game knows what the problem is. ","title":"ClassNotFoundException in JNA class when compiling Gradle build","body":"<pre><code>&gt; Task :compileJava FAILED\nAn exception has occurred in the compiler (17.0.1). Please file a bug against the Java compiler via the Java bug reporting page (http://bugreport.java.com) after checking the Bug Database (http://bugs.java.com) for duplicates. Include your program, the following diagnostic, and the parameters passed to the Java compiler in your report. Thank you.\njava.util.ServiceConfigurationError: com.sun.source.util.Plugin: Provider com.github.bsideup.jabel.JabelCompilerPlugin could not be instantiated\n    at java.base/java.util.ServiceLoader.fail(ServiceLoader.java:586)\n    at java.base/java.util.ServiceLoader$ProviderImpl.newInstance(ServiceLoader.java:813)\n    at java.base/java.util.ServiceLoader$ProviderImpl.get(ServiceLoader.java:729)\n    at java.base/java.util.ServiceLoader$3.next(ServiceLoader.java:1403)\n    at jdk.compiler/com.sun.tools.javac.api.BasicJavacTask.initPlugins(BasicJavacTask.java:220)\n    at jdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.prepareCompiler(JavacTaskImpl.java:204)\n    at jdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.lambda$doCall$0(JavacTaskImpl.java:101)\n    at jdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.invocationHelper(JavacTaskImpl.java:152)\n    at jdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.doCall(JavacTaskImpl.java:100)\n    at jdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.call(JavacTaskImpl.java:94)\n    at org.gradle.internal.compiler.java.IncrementalCompileTask.call(IncrementalCompileTask.java:89)\n    at org.gradle.api.internal.tasks.compile.AnnotationProcessingCompileTask.call(AnnotationProcessingCompileTask.java:94)\n    at org.gradle.api.internal.tasks.compile.ResourceCleaningCompilationTask.call(ResourceCleaningCompilationTask.java:57)\n    at org.gradle.api.internal.tasks.compile.JdkJavaCompiler.execute(JdkJavaCompiler.java:54)\n    at org.gradle.api.internal.tasks.compile.JdkJavaCompiler.execute(JdkJavaCompiler.java:39)\n    at org.gradle.api.internal.tasks.compile.NormalizingJavaCompiler.delegateAndHandleErrors(NormalizingJavaCompiler.java:97)\n    at org.gradle.api.internal.tasks.compile.NormalizingJavaCompiler.execute(NormalizingJavaCompiler.java:51)\n    at org.gradle.api.internal.tasks.compile.NormalizingJavaCompiler.execute(NormalizingJavaCompiler.java:37)\n    at org.gradle.api.internal.tasks.compile.AnnotationProcessorDiscoveringCompiler.execute(AnnotationProcessorDiscoveringCompiler.java:51)\n    at org.gradle.api.internal.tasks.compile.AnnotationProcessorDiscoveringCompiler.execute(AnnotationProcessorDiscoveringCompiler.java:37)\n    at org.gradle.api.internal.tasks.compile.ModuleApplicationNameWritingCompiler.execute(ModuleApplicationNameWritingCompiler.java:46)\n    at org.gradle.api.internal.tasks.compile.ModuleApplicationNameWritingCompiler.execute(ModuleApplicationNameWritingCompiler.java:36)\n    at org.gradle.jvm.toolchain.internal.DefaultToolchainJavaCompiler.execute(DefaultToolchainJavaCompiler.java:57)\n    at org.gradle.api.tasks.compile.JavaCompile.lambda$createToolchainCompiler$1(JavaCompile.java:232)\n    at org.gradle.api.internal.tasks.compile.CleaningJavaCompiler.execute(CleaningJavaCompiler.java:53)\n    at org.gradle.api.internal.tasks.compile.incremental.IncrementalCompilerFactory.lambda$createRebuildAllCompiler$0(IncrementalCompilerFactory.java:52)\n    at org.gradle.api.internal.tasks.compile.incremental.SelectiveCompiler.execute(SelectiveCompiler.java:67)\n    at org.gradle.api.internal.tasks.compile.incremental.SelectiveCompiler.execute(SelectiveCompiler.java:41)\n    at org.gradle.api.internal.tasks.compile.incremental.IncrementalResultStoringCompiler.execute(IncrementalResultStoringCompiler.java:66)\n    at org.gradle.api.internal.tasks.compile.incremental.IncrementalResultStoringCompiler.execute(IncrementalResultStoringCompiler.java:52)\n    at org.gradle.api.internal.tasks.compile.CompileJavaBuildOperationReportingCompiler$2.call(CompileJavaBuildOperationReportingCompiler.java:59)\n    at org.gradle.api.internal.tasks.compile.CompileJavaBuildOperationReportingCompiler$2.call(CompileJavaBuildOperationReportingCompiler.java:51)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\n    at org.gradle.api.internal.tasks.compile.CompileJavaBuildOperationReportingCompiler.execute(CompileJavaBuildOperationReportingCompiler.java:51)\n    at org.gradle.api.tasks.compile.JavaCompile.performCompilation(JavaCompile.java:279)\n    at org.gradle.api.tasks.compile.JavaCompile.performIncrementalCompilation(JavaCompile.java:165)\n    at org.gradle.api.tasks.compile.JavaCompile.compile(JavaCompile.java:146)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:104)\n    at org.gradle.api.internal.project.taskfactory.IncrementalInputsTaskAction.doExecute(IncrementalInputsTaskAction.java:32)\n    at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:51)\n    at org.gradle.api.internal.project.taskfactory.AbstractIncrementalTaskAction.execute(AbstractIncrementalTaskAction.java:25)\n    at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:29)\n    at org.gradle.api.internal.tasks.execution.TaskExecution$2.run(TaskExecution.java:239)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\n    at org.gradle.api.internal.tasks.execution.TaskExecution.executeAction(TaskExecution.java:224)\n    at org.gradle.api.internal.tasks.execution.TaskExecution.executeActions(TaskExecution.java:207)\n    at org.gradle.api.internal.tasks.execution.TaskExecution.executeWithPreviousOutputFiles(TaskExecution.java:190)\n    at org.gradle.api.internal.tasks.execution.TaskExecution.execute(TaskExecution.java:168)\n    at org.gradle.internal.execution.steps.ExecuteStep.executeInternal(ExecuteStep.java:89)\n    at org.gradle.internal.execution.steps.ExecuteStep.access$000(ExecuteStep.java:40)\n    at org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:53)\n    at org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:50)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\n    at org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:50)\n    at org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:40)\n    at org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:68)\n    at org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:38)\n    at org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:48)\n    at org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:36)\n    at org.gradle.internal.execution.steps.CancelExecutionStep.execute(CancelExecutionStep.java:41)\n    at org.gradle.internal.execution.steps.TimeoutStep.executeWithoutTimeout(TimeoutStep.java:74)\n    at org.gradle.internal.execution.steps.TimeoutStep.execute(TimeoutStep.java:55)\n    at org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:51)\n    at org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:29)\n    at org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:61)\n    at org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:42)\n    at org.gradle.internal.execution.steps.BroadcastChangingOutputsStep.execute(BroadcastChangingOutputsStep.java:60)\n    at org.gradle.internal.execution.steps.BroadcastChangingOutputsStep.execute(BroadcastChangingOutputsStep.java:27)\n    at org.gradle.internal.execution.steps.BuildCacheStep.executeWithoutCache(BuildCacheStep.java:188)\n    at org.gradle.internal.execution.steps.BuildCacheStep.lambda$execute$1(BuildCacheStep.java:75)\n    at org.gradle.internal.Either$Right.fold(Either.java:175)\n    at org.gradle.internal.execution.caching.CachingState.fold(CachingState.java:59)\n    at org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:73)\n    at org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:48)\n    at org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:38)\n    at org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:27)\n    at org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:36)\n    at org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:22)\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.executeBecause(SkipUpToDateStep.java:109)\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.lambda$execute$2(SkipUpToDateStep.java:56)\n    at java.base/java.util.Optional.orElseGet(Optional.java:364)\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:56)\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:38)\n    at org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:73)\n    at org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:44)\n    at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:37)\n    at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:27)\n    at org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:89)\n    at org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:50)\n    at org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:114)\n    at org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:57)\n    at org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:76)\n    at org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:50)\n    at org.gradle.internal.execution.steps.SkipEmptyWorkStep.lambda$execute$2(SkipEmptyWorkStep.java:93)\n    at java.base/java.util.Optional.orElseGet(Optional.java:364)\n    at org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:93)\n    at org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:34)\n    at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsStartedStep.execute(MarkSnapshottingInputsStartedStep.java:38)\n    at org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:43)\n    at org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:31)\n    at org.gradle.internal.execution.steps.AssignWorkspaceStep.lambda$execute$0(AssignWorkspaceStep.java:40)\n    at org.gradle.api.internal.tasks.execution.TaskExecution$3.withWorkspace(TaskExecution.java:284)\n    at org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:40)\n    at org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:30)\n    at org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:37)\n    at org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:27)\n    at org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:44)\n    at org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:33)\n    at org.gradle.internal.execution.impl.DefaultExecutionEngine$1.execute(DefaultExecutionEngine.java:76)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:142)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:131)\n    at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:77)\n    at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\n    at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\n    at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\n    at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\n    at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:74)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:402)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:389)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:382)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:368)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.lambda$run$0(DefaultPlanExecutor.java:127)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:191)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:182)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:124)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: java.lang.ExceptionInInitializerError\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\n    at java.base/java.util.ServiceLoader$ProviderImpl.newInstance(ServiceLoader.java:789)\n    ... 167 more\nCaused by: java.lang.IllegalStateException: Error during attachment using: net.bytebuddy.agent.ByteBuddyAgent$AttachmentProvider$Compound@12f7d046\n    at net.bytebuddy.agent.ByteBuddyAgent.install(ByteBuddyAgent.java:639)\n    at net.bytebuddy.agent.ByteBuddyAgent.install(ByteBuddyAgent.java:612)\n    at net.bytebuddy.agent.ByteBuddyAgent.install(ByteBuddyAgent.java:564)\n    at com.github.bsideup.jabel.JabelCompilerPlugin.&lt;clinit&gt;(JabelCompilerPlugin.java:56)\n    ... 173 more\nCaused by: java.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at net.bytebuddy.agent.Attacher.install(Attacher.java:102)\n    at net.bytebuddy.agent.ByteBuddyAgent.install(ByteBuddyAgent.java:634)\n    ... 176 more\nCaused by: java.lang.NoClassDefFoundError: com/sun/jna/platform/win32/Win32Exception\n    at net.bytebuddy.agent.VirtualMachine$ForHotSpot.attach(VirtualMachine.java:241)\n    ... 182 more\nCaused by: java.lang.ClassNotFoundException: com.sun.jna.platform.win32.Win32Exception\n    at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:445)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:587)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    ... 183 more\nCaused by: java.lang.ExceptionInInitializerError\n\nCaused by: java.lang.IllegalStateException: Error during attachment using: net.bytebuddy.agent.ByteBuddyAgent$AttachmentProvider$Compound@12f7d046\n\nCaused by: java.lang.reflect.InvocationTargetException\n\nCaused by: java.lang.NoClassDefFoundError: com/sun/jna/platform/win32/Win32Exception\n\nCaused by: java.lang.ClassNotFoundException: com.sun.jna.platform.win32.Win32Exception\n\n</code></pre>\n<p>I have no idea what the error is.</p>\n<p>I'm using OpenJDK 17.0.1, and I'm trying to write a mindustry mod. I copied the repository from the official template. Other SDKs give the same error.</p>\n<p>No one on the official server of the game knows what the problem is.</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","crud-repository"],"answers":[{"tags":[],"owner":{"account_id":24050525,"reputation":486,"user_id":18029062,"display_name":"KafKafOwn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643658043,"creation_date":1643232102,"answer_id":70870401,"question_id":70870329,"body_markdown":"Bad Request means the server can&#39;t process the request (so your server code doesn&#39;t run), usually it means there is a client error, so you should check your client code...\r\n\r\nEDIT:\r\nsave method expects JSON by default, so you can either send JSON but it involves adding JavaScript or you can tell your API method to consume a different type of data, like this :\r\n````\r\n@PostMapping(\r\n  path = &quot;/save&quot;,\r\n  consumes = {MediaType.APPLICATION_FORM_URLENCODED_VALUE})\r\n````","title":"spring boot jpa app, crudRepo Error (type=Bad Request, status=400). Validation failed for object","body":"<p>Bad Request means the server can't process the request (so your server code doesn't run), usually it means there is a client error, so you should check your client code...</p>\n<p>EDIT:\nsave method expects JSON by default, so you can either send JSON but it involves adding JavaScript or you can tell your API method to consume a different type of data, like this :</p>\n<pre><code>@PostMapping(\n  path = &quot;/save&quot;,\n  consumes = {MediaType.APPLICATION_FORM_URLENCODED_VALUE})\n</code></pre>\n"}],"owner":{"account_id":19564453,"reputation":33,"user_id":14316994,"display_name":"LuisGan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1220,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643658043,"creation_date":1643231610,"question_id":70870329,"body_markdown":"i&#180;m working on a simple Spring-Boot CRUD app, where I&#180;m trying to use the CrudRepository for updating or creating new entity instances and save them, but I keep getting the (type=Bad Request, status=400) error, but I don&#180;t really have any validation, I don&#180;t know were the error could be, I&#180;m using old version of spring-boot for old Java compatibility because of the server I&#180;ll be deploying the app.\r\nThis is my Entity\r\n\r\n``` \r\n@Entity\r\n@Table(name = &quot;AAA_TEST_DM_DATA&quot;)\r\npublic class DataDM implements Serializable{\r\n\r\n    @OneToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;ID_TIENDA&quot;)\r\n    private Tienda tienda;\r\n\r\n    @Column(name = &quot;NIVEL_NSE&quot;)\r\n    private String nse;\r\n\r\n    @Column(name = &quot;GENERADOR_PRINCIPAL&quot;)\r\n    private String generadorUno; \r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE)\r\n    @Column(name = &quot;DATA_ID&quot;)\r\n    private Long id;\r\n```\r\nThis is my Dao or repo where I extend the CrudRepository\r\n\r\n``` \r\npublic interface IDataDMDao extends CrudRepository &lt;DataDM, Long&gt; {\r\n\r\n    DataDM findByTienda(Tienda tienda);\r\n    \r\n}\r\n```\r\nHere is my service\r\n\r\n``` \r\npublic interface IDataDMService {\r\n\r\n    public List&lt;DataDM&gt; findAll();\r\n\r\n    public DataDM findOne(Long id);\r\n\r\n    public void save(DataDM dataDM);\r\n\r\n    public boolean exists(Tienda tienda);\r\n\r\n    public DataDM findDm(Tienda tienda);\r\n\r\n    \r\n}\r\n ```\r\nHere is the service implementation\r\n\r\n``` \r\n@Service\r\npublic class IDataDMServiceImp implements IDataDMService {\r\n\r\n    @Autowired\r\n    private IDataDMDao dataDMDao;\r\n\r\n\r\n    @Override\r\n    @Transactional(readOnly = true)\r\n    public List&lt;DataDM&gt; findAll(){\r\n        return (List&lt;DataDM&gt;) dataDMDao.findAll();\r\n    }\r\n\r\n    @Override\r\n    @Transactional(readOnly = true)\r\n    public DataDM findOne(Long id){\r\n        return dataDMDao.findOne(id);\r\n    }\r\n\r\n    @Override\r\n    @Transactional\r\n    public void save(DataDM data){\r\n        dataDMDao.save(data);\r\n    }\r\n    \r\n    @Override\r\n    @Transactional(readOnly = true)\r\n    public boolean exists(Tienda tienda){\r\n        \r\n        if (dataDMDao.findByTienda(tienda) == null){\r\n            return false;\r\n        } else {\r\n            return true;\r\n        }\r\n    }\r\n\r\n    @Override\r\n    @Transactional(readOnly = true)\r\n    public DataDM findDm(Tienda tienda){\r\n        return dataDMDao.findByTienda(tienda);\r\n    }\r\n}\r\n ```\r\nAnd here is the controller\r\n\r\n``` @Controller\r\n@SessionAttributes(&quot;data&quot;)\r\npublic class DesController {\r\n\r\n    @Autowired\r\n    private ITiendaService tiendaService;\r\n\r\n    @Autowired\r\n    private IDataDMService dataService;\r\n\r\n    @Autowired\r\n    private ISesionTiendaService sesionService;\r\n\r\n\r\n    //LOOK AT ALL DATADM\r\n    @RequestMapping(&quot;/data&quot;)\r\n    public String dataList(Model model){\r\n        model.addAttribute(&quot;title&quot;, &quot;Datos de tiendas&quot;);\r\n        model.addAttribute(&quot;dataList&quot;, dataService.findAll());\r\n        return &quot;datas&quot;;\r\n\r\n    }\r\n\r\n\r\n    @RequestMapping(&quot;/captura&quot;)\r\n    public String form(Model model, \r\n    @RequestParam(value = &quot;_paramsP_ID&quot;) String idsesion,\r\n    HttpServletRequest request){\r\n\r\n        Integer idses = Integer.parseInt(request.getParameter(&quot;_paramsP_ID&quot;));\r\n\r\n        //get tiendaid based on idses\r\n        SesionTienda sesion = sesionService.findSesion(idses, &quot;FLT_TIENDA&quot;);\r\n        Integer id = Integer.parseInt(sesion.getValor());\r\n\r\n        //get tienda based on given id, then checks if there is data for that tienda\r\n        Tienda tienda = tiendaService.findOne(id);\r\n        boolean check = dataService.exists(tienda); \r\n        DataDM data = null;\r\n\r\n         //if there is no data create new data entity for that tienda\r\n         if (check == false){\r\n\r\n            data = new DataDM();\r\n            data.setTienda(tienda);\r\n            //dataService.save(data);\r\n            model.addAttribute(&quot;data&quot;, data);\r\n            model.addAttribute(&quot;title&quot;, &quot;Tiendas form&quot;);\r\n            return &quot;form&quot;;\r\n\r\n        }\r\n\r\n        //if there is data, find it and pass it into the model\r\n        data = dataService.findDm(tienda);\r\n        model.addAttribute(&quot;data&quot;, data);\r\n        model.addAttribute(&quot;title&quot;, &quot;Tiendas form&quot;);\r\n        return &quot;form&quot;;        \r\n    }\r\n\r\n    //Saves the DataDM entity from the form\r\n    @RequestMapping(value = &quot;/form&quot;, method = RequestMethod.POST)\r\n    public String save(Model model, DataDM data, SessionStatus status)\r\n    {\r\n        dataService.save(data);\r\n        status.setComplete();\r\n        return &quot;redirect:/success&quot;;\r\n    } \r\n```\r\nFrom a given parameter I get Tienda id, with that Id I want to see if the is a DataDM instance for that Tienda, if it exists update it with the form, if there is not an instance then create it and save it, everything works (findByTienda works) up until I click the save button from the form it gives me the error:\r\n (type=Bad Request, status=400).\r\nValidation failed for object=&#39;dataDM&#39;. Error count: 1, but I don&#180;t really have any validation to save the DataDM entity, I guess it has to be something with the save() method, but i have no idea what could be, can someone help me?\r\n\r\nEdit: Adding the client code\r\n\r\n```\r\n    &lt;!DOCTYPE html&gt;\r\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;/http:wwww.thymeleaf.org&quot;&gt;\r\n&lt;head th:replace=&quot;layout/layout :: head&quot;&gt;&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;header th:replace=&quot;layout/layout :: header&quot;&gt;&lt;/header&gt;\r\n    \r\n    &lt;div class=&quot;container&quot;&gt;\r\n\r\n        &lt;h3 th:text=&quot; &#39;CAPTURA PARA TIENDA &#39; + ${data.tienda.id} + &#39; &#39; + ${data.tienda.nombreTienda} &quot;&gt;&lt;/h3&gt;\r\n\r\n        &lt;div class=&quot;container&quot;&gt;\r\n\r\n            &lt;form th:action=&quot;@{/form}&quot; th:object=&quot;${data}&quot; method=&quot;post&quot; class=&quot;d-flex align-content-start flex-wrap p-2&quot;&gt;\r\n\r\n                &lt;label for=&quot;sec-1&quot; class=&quot;h4&quot; th:text=&quot; &#39;ALREDEDORES DE TIENDA&#39; &quot;&gt;&lt;/label&gt;\r\n                &lt;div class=&quot;d-flex align-content-start flex-wrap&quot; id=&quot;sec-1&quot; name=&quot;sec-1&quot; &gt;\r\n                    &lt;div class=&quot;form-group p-2&quot;&gt;\r\n                        &lt;select th:field=&quot;*{nse}&quot; id=&#39;nse&#39; name=&quot;nse&quot; class=&quot;form-control&quot;&gt;\r\n                            &lt;option th:value=&quot; &#39;-&#39; &quot;  th:text=&quot; &#39;-&#39; &quot;&gt;&lt;/option&gt;\r\n                            &lt;option th:value=&quot; &#39;AB&#39; &quot; th:text=&quot; &#39;AB&#39; &quot;&gt;&lt;/option&gt;\r\n                            &lt;option th:value=&quot; &#39;C+&#39; &quot; th:text=&quot; &#39;C+&#39; &quot;&gt;&lt;/option&gt;\r\n                            &lt;option th:value=&quot; &#39;C&#39; &quot;  th:text=&quot;  &#39;C&#39; &quot;&gt;&lt;/option&gt;\r\n                            &lt;option th:value=&quot; &#39;C-&#39; &quot; th:text=&quot; &#39;C-&#39; &quot;&gt;&lt;/option&gt;\r\n                            &lt;option th:value=&quot; &#39;D&#39; &quot;  th:text=&quot;  &#39;D&#39; &quot;&gt;&lt;/option&gt;\r\n                        &lt;/select&gt;\r\n                    &lt;/div&gt;\r\n                &lt;div class=&quot;form-group p-2&quot;&gt;\r\n                &lt;input type=&quot;submit&quot; value=&quot;Guardar Datos&quot; class=&quot;btn btn-secondary btn-block&quot; /&gt;\r\n                &lt;/div&gt;\r\n\r\n                &lt;input type=&quot;hidden&quot; th:field=&quot;*{id}&quot;/&gt;\r\n                &lt;input type=&quot;hidden&quot; th:field=&quot;*{tienda}&quot;/&gt;\r\n                &lt;/form&gt;\r\n&lt;/div&gt;\r\n\r\n```\r\n","title":"spring boot jpa app, crudRepo Error (type=Bad Request, status=400). Validation failed for object","body":"<p>i´m working on a simple Spring-Boot CRUD app, where I´m trying to use the CrudRepository for updating or creating new entity instances and save them, but I keep getting the (type=Bad Request, status=400) error, but I don´t really have any validation, I don´t know were the error could be, I´m using old version of spring-boot for old Java compatibility because of the server I´ll be deploying the app.\nThis is my Entity</p>\n<pre><code>@Entity\n@Table(name = &quot;AAA_TEST_DM_DATA&quot;)\npublic class DataDM implements Serializable{\n\n    @OneToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;ID_TIENDA&quot;)\n    private Tienda tienda;\n\n    @Column(name = &quot;NIVEL_NSE&quot;)\n    private String nse;\n\n    @Column(name = &quot;GENERADOR_PRINCIPAL&quot;)\n    private String generadorUno; \n\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE)\n    @Column(name = &quot;DATA_ID&quot;)\n    private Long id;\n</code></pre>\n<p>This is my Dao or repo where I extend the CrudRepository</p>\n<pre><code>public interface IDataDMDao extends CrudRepository &lt;DataDM, Long&gt; {\n\n    DataDM findByTienda(Tienda tienda);\n    \n}\n</code></pre>\n<p>Here is my service</p>\n<pre><code>public interface IDataDMService {\n\n    public List&lt;DataDM&gt; findAll();\n\n    public DataDM findOne(Long id);\n\n    public void save(DataDM dataDM);\n\n    public boolean exists(Tienda tienda);\n\n    public DataDM findDm(Tienda tienda);\n\n    \n}\n</code></pre>\n<p>Here is the service implementation</p>\n<pre><code>@Service\npublic class IDataDMServiceImp implements IDataDMService {\n\n    @Autowired\n    private IDataDMDao dataDMDao;\n\n\n    @Override\n    @Transactional(readOnly = true)\n    public List&lt;DataDM&gt; findAll(){\n        return (List&lt;DataDM&gt;) dataDMDao.findAll();\n    }\n\n    @Override\n    @Transactional(readOnly = true)\n    public DataDM findOne(Long id){\n        return dataDMDao.findOne(id);\n    }\n\n    @Override\n    @Transactional\n    public void save(DataDM data){\n        dataDMDao.save(data);\n    }\n    \n    @Override\n    @Transactional(readOnly = true)\n    public boolean exists(Tienda tienda){\n        \n        if (dataDMDao.findByTienda(tienda) == null){\n            return false;\n        } else {\n            return true;\n        }\n    }\n\n    @Override\n    @Transactional(readOnly = true)\n    public DataDM findDm(Tienda tienda){\n        return dataDMDao.findByTienda(tienda);\n    }\n}\n</code></pre>\n<p>And here is the controller</p>\n<pre><code>@SessionAttributes(&quot;data&quot;)\npublic class DesController {\n\n    @Autowired\n    private ITiendaService tiendaService;\n\n    @Autowired\n    private IDataDMService dataService;\n\n    @Autowired\n    private ISesionTiendaService sesionService;\n\n\n    //LOOK AT ALL DATADM\n    @RequestMapping(&quot;/data&quot;)\n    public String dataList(Model model){\n        model.addAttribute(&quot;title&quot;, &quot;Datos de tiendas&quot;);\n        model.addAttribute(&quot;dataList&quot;, dataService.findAll());\n        return &quot;datas&quot;;\n\n    }\n\n\n    @RequestMapping(&quot;/captura&quot;)\n    public String form(Model model, \n    @RequestParam(value = &quot;_paramsP_ID&quot;) String idsesion,\n    HttpServletRequest request){\n\n        Integer idses = Integer.parseInt(request.getParameter(&quot;_paramsP_ID&quot;));\n\n        //get tiendaid based on idses\n        SesionTienda sesion = sesionService.findSesion(idses, &quot;FLT_TIENDA&quot;);\n        Integer id = Integer.parseInt(sesion.getValor());\n\n        //get tienda based on given id, then checks if there is data for that tienda\n        Tienda tienda = tiendaService.findOne(id);\n        boolean check = dataService.exists(tienda); \n        DataDM data = null;\n\n         //if there is no data create new data entity for that tienda\n         if (check == false){\n\n            data = new DataDM();\n            data.setTienda(tienda);\n            //dataService.save(data);\n            model.addAttribute(&quot;data&quot;, data);\n            model.addAttribute(&quot;title&quot;, &quot;Tiendas form&quot;);\n            return &quot;form&quot;;\n\n        }\n\n        //if there is data, find it and pass it into the model\n        data = dataService.findDm(tienda);\n        model.addAttribute(&quot;data&quot;, data);\n        model.addAttribute(&quot;title&quot;, &quot;Tiendas form&quot;);\n        return &quot;form&quot;;        \n    }\n\n    //Saves the DataDM entity from the form\n    @RequestMapping(value = &quot;/form&quot;, method = RequestMethod.POST)\n    public String save(Model model, DataDM data, SessionStatus status)\n    {\n        dataService.save(data);\n        status.setComplete();\n        return &quot;redirect:/success&quot;;\n    } \n</code></pre>\n<p>From a given parameter I get Tienda id, with that Id I want to see if the is a DataDM instance for that Tienda, if it exists update it with the form, if there is not an instance then create it and save it, everything works (findByTienda works) up until I click the save button from the form it gives me the error:\n(type=Bad Request, status=400).\nValidation failed for object='dataDM'. Error count: 1, but I don´t really have any validation to save the DataDM entity, I guess it has to be something with the save() method, but i have no idea what could be, can someone help me?</p>\n<p>Edit: Adding the client code</p>\n<pre><code>    &lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;/http:wwww.thymeleaf.org&quot;&gt;\n&lt;head th:replace=&quot;layout/layout :: head&quot;&gt;&lt;/head&gt;\n&lt;body&gt;\n&lt;header th:replace=&quot;layout/layout :: header&quot;&gt;&lt;/header&gt;\n    \n    &lt;div class=&quot;container&quot;&gt;\n\n        &lt;h3 th:text=&quot; 'CAPTURA PARA TIENDA ' + ${data.tienda.id} + ' ' + ${data.tienda.nombreTienda} &quot;&gt;&lt;/h3&gt;\n\n        &lt;div class=&quot;container&quot;&gt;\n\n            &lt;form th:action=&quot;@{/form}&quot; th:object=&quot;${data}&quot; method=&quot;post&quot; class=&quot;d-flex align-content-start flex-wrap p-2&quot;&gt;\n\n                &lt;label for=&quot;sec-1&quot; class=&quot;h4&quot; th:text=&quot; 'ALREDEDORES DE TIENDA' &quot;&gt;&lt;/label&gt;\n                &lt;div class=&quot;d-flex align-content-start flex-wrap&quot; id=&quot;sec-1&quot; name=&quot;sec-1&quot; &gt;\n                    &lt;div class=&quot;form-group p-2&quot;&gt;\n                        &lt;select th:field=&quot;*{nse}&quot; id='nse' name=&quot;nse&quot; class=&quot;form-control&quot;&gt;\n                            &lt;option th:value=&quot; '-' &quot;  th:text=&quot; '-' &quot;&gt;&lt;/option&gt;\n                            &lt;option th:value=&quot; 'AB' &quot; th:text=&quot; 'AB' &quot;&gt;&lt;/option&gt;\n                            &lt;option th:value=&quot; 'C+' &quot; th:text=&quot; 'C+' &quot;&gt;&lt;/option&gt;\n                            &lt;option th:value=&quot; 'C' &quot;  th:text=&quot;  'C' &quot;&gt;&lt;/option&gt;\n                            &lt;option th:value=&quot; 'C-' &quot; th:text=&quot; 'C-' &quot;&gt;&lt;/option&gt;\n                            &lt;option th:value=&quot; 'D' &quot;  th:text=&quot;  'D' &quot;&gt;&lt;/option&gt;\n                        &lt;/select&gt;\n                    &lt;/div&gt;\n                &lt;div class=&quot;form-group p-2&quot;&gt;\n                &lt;input type=&quot;submit&quot; value=&quot;Guardar Datos&quot; class=&quot;btn btn-secondary btn-block&quot; /&gt;\n                &lt;/div&gt;\n\n                &lt;input type=&quot;hidden&quot; th:field=&quot;*{id}&quot;/&gt;\n                &lt;input type=&quot;hidden&quot; th:field=&quot;*{tienda}&quot;/&gt;\n                &lt;/form&gt;\n&lt;/div&gt;\n\n</code></pre>\n"},{"tags":["java","jna"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1643398537,"post_id":70899331,"comment_id":125338445,"body_markdown":"Welcome to Stack Overflow.\nPlease take the [tour] to learn how Stack Overflow works and read [ask] on how to improve the quality of your question.\nThen [edit] your question to include your source code as a working [mcve], which can be compiled and tested by others.\n[Please do not upload images of code/errors when asking a question.](https://meta.stackoverflow.com/q/285551)","body":"Welcome to Stack Overflow. Please take the <a href=\"https://stackoverflow.com/tour\">tour</a> to learn how Stack Overflow works and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> on how to improve the quality of your question. Then <a href=\"https://stackoverflow.com/posts/70899331/edit\">edit</a> your question to include your source code as a working <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, which can be compiled and tested by others. <a href=\"https://meta.stackoverflow.com/q/285551\">Please do not upload images of code/errors when asking a question.</a>"},{"owner":{"account_id":1187908,"reputation":8617,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"score":0,"creation_date":1643407650,"post_id":70899331,"comment_id":125340968,"body_markdown":"There&#39;s not really enough information here for us to answer this question. &quot;Invalid Memory Access&quot; means you&#39;re using native memory that you don&#39;t &quot;own&quot;.  While the return type is probably not the problem, it&#39;s not clear about the error message. Is 1024 enough bytes for it?  Where did the 1024 come from?","body":"There&#39;s not really enough information here for us to answer this question. &quot;Invalid Memory Access&quot; means you&#39;re using native memory that you don&#39;t &quot;own&quot;.  While the return type is probably not the problem, it&#39;s not clear about the error message. Is 1024 enough bytes for it?  Where did the 1024 come from?"},{"owner":{"account_id":23933469,"reputation":43,"user_id":17927578,"display_name":"Роман Янин"},"score":0,"creation_date":1643412991,"post_id":70899331,"comment_id":125341875,"body_markdown":"@Daniel Widdis thanks for the answer. I added the code in more detail. Unfortunately, I got the code from another developer with whom I have no connection. I can only say that on the test bench, this code works fine, but when the customer transferred it to the pre-production, this error occurred. 1024 I think it was chosen with a margin. can be seen above in the documentation for this api, the minimum size is 512","body":"@Daniel Widdis thanks for the answer. I added the code in more detail. Unfortunately, I got the code from another developer with whom I have no connection. I can only say that on the test bench, this code works fine, but when the customer transferred it to the pre-production, this error occurred. 1024 I think it was chosen with a margin. can be seen above in the documentation for this api, the minimum size is 512"},{"owner":{"account_id":1187908,"reputation":8617,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"score":1,"creation_date":1643444606,"post_id":70899331,"comment_id":125344993,"body_markdown":"Try adding `W32APIOptions.DEFAULT_OPTIONS` or `ASCII_OPTIONS` as a third argument to your `Native.load()` call.","body":"Try adding <code>W32APIOptions.DEFAULT_OPTIONS</code> or <code>ASCII_OPTIONS</code> as a third argument to your <code>Native.load()</code> call."},{"owner":{"account_id":23933469,"reputation":43,"user_id":17927578,"display_name":"Роман Янин"},"score":0,"creation_date":1643628995,"post_id":70899331,"comment_id":125382474,"body_markdown":"@Daniel Widdis thank you very much for your help, explicitly specifying the ascii encoding fixed this error","body":"@Daniel Widdis thank you very much for your help, explicitly specifying the ascii encoding fixed this error"},{"owner":{"account_id":1187908,"reputation":8617,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"score":0,"creation_date":1643652651,"post_id":70899331,"comment_id":125392176,"body_markdown":"Great, I had that suspicion. I&#39;ll write that up in an answer.","body":"Great, I had that suspicion. I&#39;ll write that up in an answer."}],"answers":[{"tags":[],"owner":{"account_id":1187908,"reputation":8617,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643655939,"creation_date":1643655939,"answer_id":70931494,"question_id":70899331,"body_markdown":"The first thing to check when you get Invalid Memory Access errors is your type mapping, which you correctly started with looking at the `int` return value.  Turns out the `String` mapping for the other arguments, which works fine on *nix systems, needs a little special treatment on Windows.\r\n\r\nBy default Windows uses UTF 16 encoding, and JNA&#39;s default type mapping under-the-hood tries to convert Java `String` objects to UTF-16 encoded native strings (`wchar*`).  This works fine for Windows API DLLs.\r\n\r\nHowever, your custom DLL specified that the User Name and Password arguments should be in ASCIIZ format (null-terminated C strings).\r\n\r\nYou can force JNA to use an ASCII `String` type mapper by including `W32APIOptions.ASCII_OPTIONS` as a third argument when loading the DLL, e.g.,\r\n```java\r\nQuikLimit INSTANCE = (QuikLimit) Native.load(new File(&quot;&quot;).getAbsolutePath() + &quot;\\\\QuikLimit.dll&quot;, QuikLimit.class, W32APIOptions.ASCII_OPTIONS);\r\n```\r\n\r\nThere are other finer grained approaches dealing just with String type mapping, that don&#39;t try to also do Function mapping (if any of your mapped functions end in W or A this might break!).  You can dig into the `W32APIOptions` class to see how to create your own custom options to pass.\r\n\r\n","title":"Invalid memory access in JNA","body":"<p>The first thing to check when you get Invalid Memory Access errors is your type mapping, which you correctly started with looking at the <code>int</code> return value.  Turns out the <code>String</code> mapping for the other arguments, which works fine on *nix systems, needs a little special treatment on Windows.</p>\n<p>By default Windows uses UTF 16 encoding, and JNA's default type mapping under-the-hood tries to convert Java <code>String</code> objects to UTF-16 encoded native strings (<code>wchar*</code>).  This works fine for Windows API DLLs.</p>\n<p>However, your custom DLL specified that the User Name and Password arguments should be in ASCIIZ format (null-terminated C strings).</p>\n<p>You can force JNA to use an ASCII <code>String</code> type mapper by including <code>W32APIOptions.ASCII_OPTIONS</code> as a third argument when loading the DLL, e.g.,</p>\n<pre class=\"lang-java prettyprint-override\"><code>QuikLimit INSTANCE = (QuikLimit) Native.load(new File(&quot;&quot;).getAbsolutePath() + &quot;\\\\QuikLimit.dll&quot;, QuikLimit.class, W32APIOptions.ASCII_OPTIONS);\n</code></pre>\n<p>There are other finer grained approaches dealing just with String type mapping, that don't try to also do Function mapping (if any of your mapped functions end in W or A this might break!).  You can dig into the <code>W32APIOptions</code> class to see how to create your own custom options to pass.</p>\n"}],"owner":{"account_id":23933469,"reputation":43,"user_id":17927578,"display_name":"Роман Янин"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":641,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70931494,"answer_count":1,"score":1,"last_activity_date":1643657446,"creation_date":1643398421,"question_id":70899331,"body_markdown":"When using JNA, I am receiving an Invalid Memory Access error when invoking the `QLConnect` method.\r\n\r\nHere is my interface mapping the DLL:\r\n```java\r\nimport com.sun.jna.Native;\r\nimport com.sun.jna.win32.StdCallLibrary;\r\n\r\npublic interface QuikLimit extends StdCallLibrary {\r\n\t\r\n    QuikLimit INSTANCE = (QuikLimit) Native.load(new File(&quot;&quot;).getAbsolutePath() + &quot;\\\\QuikLimit.dll&quot;, QuikLimit.class);\r\n    \r\n    int QLConnect(String userName, String userPassword, byte[] desc);\r\n    \r\n    //more methods from dll\r\n}\r\n```\r\nI have another class with constants:\r\n```java\r\npublic class Const {\r\n\tpublic static final int DESC_SIZE = 1024;\r\n\t\r\n\tpublic enum Status {\r\n\t\t//enum values\r\n\r\n\t\tint code;\r\n\r\n\t\tprivate Status(int code) {\r\n\t\t\tthis.code = code;\r\n\t\t}\r\n\t\tpublic int getCode() {\r\n\t\t\treturn code;\r\n\t\t}\r\n\t};\r\n}\r\n```\r\nAnd here is the place of occurrence in the code:\r\n\r\n```java\r\n@Component\r\npublic class ConnectionManager {\r\n\t\r\n    @Value(&quot;${quik.login}&quot;)\r\n    private String login;\r\n    @Value(&quot;${quik.password}&quot;)\r\n    private String password;\r\n\r\n\tprivate Logger logger = LoggerFactory.getLogger(this.getClass());\r\n\r\n\tprivate boolean connected;\r\n\r\n    public synchronized BaseResponse connect() {\r\n\t\tBaseResponse result = new BaseResponse();\r\n\t\tbyte[] desc = new byte[Const.DESC_SIZE]; \r\n\t\tif (connected) {\r\n        //logic if connected\r\n        logger.info(&quot;call QLConnect&quot;);\r\n\t\tint retVal = QuikLimit.INSTANCE.QLConnect(login, password, desc);\r\n\t\tif (retVal == Const.Status.QL_ACTIVE.getCode()) {\t\t\r\n        //logic from response\r\n\t\t} else if (retVal == Const.Status.QL_CONNECTEDNOTACTIVE.getCode()) {\r\n        //logic from response\r\n        }\r\n        result.setCode(retVal);\r\n\t\tresult.setDescription(Util.descToStr(desc));\r\n        QuikLimit.INSTANCE.QLDisconnect();\r\n\t\treturn result;\r\n    }\r\n}\r\n```\r\nI understand that 1 assumption immediately falls on the fact that the type does not match in the dll. But the header file clearly states that the return type is int:\r\n```c\r\ntypedef __int32\t\t\t\tql_long;\r\nql_long _stdcall QLConnect(const char* lpszUserName, const char* lpszUserPassword, char* lpszError);\r\n```\r\nlpszUserName is a pointer to an ASCIIZ string containing the username.\r\n\r\npszUserPassword is a pointer to an ASCIIZ string containing the user&#39;s \r\n password.\r\n\r\nlpszDesc is a pointer to a buffer into which, in case of an error, the\r\nline with its description. The minimum buffer size is 512 bytes.\r\n\r\nWhat else could be the cause of the error?","title":"Invalid memory access in JNA","body":"<p>When using JNA, I am receiving an Invalid Memory Access error when invoking the <code>QLConnect</code> method.</p>\n<p>Here is my interface mapping the DLL:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.sun.jna.Native;\nimport com.sun.jna.win32.StdCallLibrary;\n\npublic interface QuikLimit extends StdCallLibrary {\n    \n    QuikLimit INSTANCE = (QuikLimit) Native.load(new File(&quot;&quot;).getAbsolutePath() + &quot;\\\\QuikLimit.dll&quot;, QuikLimit.class);\n    \n    int QLConnect(String userName, String userPassword, byte[] desc);\n    \n    //more methods from dll\n}\n</code></pre>\n<p>I have another class with constants:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Const {\n    public static final int DESC_SIZE = 1024;\n    \n    public enum Status {\n        //enum values\n\n        int code;\n\n        private Status(int code) {\n            this.code = code;\n        }\n        public int getCode() {\n            return code;\n        }\n    };\n}\n</code></pre>\n<p>And here is the place of occurrence in the code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class ConnectionManager {\n    \n    @Value(&quot;${quik.login}&quot;)\n    private String login;\n    @Value(&quot;${quik.password}&quot;)\n    private String password;\n\n    private Logger logger = LoggerFactory.getLogger(this.getClass());\n\n    private boolean connected;\n\n    public synchronized BaseResponse connect() {\n        BaseResponse result = new BaseResponse();\n        byte[] desc = new byte[Const.DESC_SIZE]; \n        if (connected) {\n        //logic if connected\n        logger.info(&quot;call QLConnect&quot;);\n        int retVal = QuikLimit.INSTANCE.QLConnect(login, password, desc);\n        if (retVal == Const.Status.QL_ACTIVE.getCode()) {       \n        //logic from response\n        } else if (retVal == Const.Status.QL_CONNECTEDNOTACTIVE.getCode()) {\n        //logic from response\n        }\n        result.setCode(retVal);\n        result.setDescription(Util.descToStr(desc));\n        QuikLimit.INSTANCE.QLDisconnect();\n        return result;\n    }\n}\n</code></pre>\n<p>I understand that 1 assumption immediately falls on the fact that the type does not match in the dll. But the header file clearly states that the return type is int:</p>\n<pre class=\"lang-c prettyprint-override\"><code>typedef __int32             ql_long;\nql_long _stdcall QLConnect(const char* lpszUserName, const char* lpszUserPassword, char* lpszError);\n</code></pre>\n<p>lpszUserName is a pointer to an ASCIIZ string containing the username.</p>\n<p>pszUserPassword is a pointer to an ASCIIZ string containing the user's\npassword.</p>\n<p>lpszDesc is a pointer to a buffer into which, in case of an error, the\nline with its description. The minimum buffer size is 512 bytes.</p>\n<p>What else could be the cause of the error?</p>\n"},{"tags":["java","xml","xmlunit"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1643659449,"post_id":70931344,"comment_id":125394780,"body_markdown":"There is a `setIgnoreAttributeOrder` but for elements there would be needed a structural nested comparison (deep compare). I think you should do that yourself with a common subexpression mapping.","body":"There is a <code>setIgnoreAttributeOrder</code> but for elements there would be needed a structural nested comparison (deep compare). I think you should do that yourself with a common subexpression mapping."},{"owner":{"account_id":24113622,"reputation":1,"user_id":18083858,"display_name":"nithins"},"score":0,"creation_date":1643662992,"post_id":70931344,"comment_id":125395980,"body_markdown":"@JoopEggen Can you explain what you mean by common subexpression mapping? Do you mean there is some custom mapping library matcher or like Java string hacking?","body":"@JoopEggen Can you explain what you mean by common subexpression mapping? Do you mean there is some custom mapping library matcher or like Java string hacking?"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1643663707,"post_id":70931344,"comment_id":125396234,"body_markdown":"Not that I know, of. You can do the equality test of elements after loading in java; probably maps with JPA or such. `Maps.equals` is then all you need in this case.","body":"Not that I know, of. You can do the equality test of elements after loading in java; probably maps with JPA or such. <code>Maps.equals</code> is then all you need in this case."}],"owner":{"account_id":24113622,"reputation":1,"user_id":18083858,"display_name":"nithins"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643657232,"creation_date":1643655253,"question_id":70931344,"body_markdown":"I am trying to use Java XMLUnit to check if these two XML&#39;s are the same, ignoring order. I have tried using the Diff approach as well as using NodeMatcher but neither worked. I have tried a variety of ElementQualifiers as well. What am I missing here?\r\n\r\nThese are the two XMLs:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;test&gt;\r\n  &lt;entry&gt;\r\n    &lt;key&gt;foo&lt;/key&gt;\r\n    &lt;value&gt;global&lt;/value&gt;\r\n  &lt;/entry&gt;\r\n  &lt;entry&gt;\r\n    &lt;key&gt;my_boolean&lt;/key&gt;\r\n    &lt;value&gt;false&lt;/value&gt;\r\n  &lt;/entry&gt;\r\n  &lt;entry&gt;\r\n    &lt;key&gt;my_number&lt;/key&gt;\r\n    &lt;value&gt;0&lt;/value&gt;\r\n  &lt;/entry&gt;\r\n  &lt;entry&gt;\r\n    &lt;key&gt;my_json&lt;/key&gt;\r\n    &lt;value&gt;[]&lt;/value&gt;\r\n  &lt;/entry&gt;\r\n&lt;/test&gt;\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;test&gt;\r\n  &lt;entry&gt;\r\n    &lt;key&gt;my_json&lt;/key&gt;\r\n    &lt;value&gt;[]&lt;/value&gt;\r\n  &lt;/entry&gt;\r\n  &lt;entry&gt;\r\n    &lt;key&gt;foo&lt;/key&gt;\r\n    &lt;value&gt;global&lt;/value&gt;\r\n  &lt;/entry&gt;\r\n  &lt;entry&gt;\r\n    &lt;key&gt;my_boolean&lt;/key&gt;\r\n    &lt;value&gt;false&lt;/value&gt;\r\n  &lt;/entry&gt;\r\n  &lt;entry&gt;\r\n    &lt;key&gt;my_number&lt;/key&gt;\r\n    &lt;value&gt;0&lt;/value&gt;\r\n  &lt;/entry&gt;\r\n&lt;/test&gt;\r\n```\r\nHere are the code snippets I have tried:\r\n```\r\nXmlAssert.assertThat(actualXmlString)\r\n    .and(expectedXmlString)\r\n    .withNodeMatcher(new DefaultNodeMatcher(ElementSelectors.byNameAndText))\r\n    .ignoreChildNodesOrder()\r\n    // .ignoreWhitespace()\r\n    .normalizeWhitespace()\r\n    .areSimilar();\r\n\r\nDiff diff = new Diff(actualXmlString, expectedXmlString);\r\ndiff.overrideElementQualifier(new ElementNameAndTextQualifier());\r\nassertXMLEqual(diff, true);\r\n```\r\n ","title":"Java XMLUnit not properly ignoring child order when comparing","body":"<p>I am trying to use Java XMLUnit to check if these two XML's are the same, ignoring order. I have tried using the Diff approach as well as using NodeMatcher but neither worked. I have tried a variety of ElementQualifiers as well. What am I missing here?</p>\n<p>These are the two XMLs:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;test&gt;\n  &lt;entry&gt;\n    &lt;key&gt;foo&lt;/key&gt;\n    &lt;value&gt;global&lt;/value&gt;\n  &lt;/entry&gt;\n  &lt;entry&gt;\n    &lt;key&gt;my_boolean&lt;/key&gt;\n    &lt;value&gt;false&lt;/value&gt;\n  &lt;/entry&gt;\n  &lt;entry&gt;\n    &lt;key&gt;my_number&lt;/key&gt;\n    &lt;value&gt;0&lt;/value&gt;\n  &lt;/entry&gt;\n  &lt;entry&gt;\n    &lt;key&gt;my_json&lt;/key&gt;\n    &lt;value&gt;[]&lt;/value&gt;\n  &lt;/entry&gt;\n&lt;/test&gt;\n\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;test&gt;\n  &lt;entry&gt;\n    &lt;key&gt;my_json&lt;/key&gt;\n    &lt;value&gt;[]&lt;/value&gt;\n  &lt;/entry&gt;\n  &lt;entry&gt;\n    &lt;key&gt;foo&lt;/key&gt;\n    &lt;value&gt;global&lt;/value&gt;\n  &lt;/entry&gt;\n  &lt;entry&gt;\n    &lt;key&gt;my_boolean&lt;/key&gt;\n    &lt;value&gt;false&lt;/value&gt;\n  &lt;/entry&gt;\n  &lt;entry&gt;\n    &lt;key&gt;my_number&lt;/key&gt;\n    &lt;value&gt;0&lt;/value&gt;\n  &lt;/entry&gt;\n&lt;/test&gt;\n</code></pre>\n<p>Here are the code snippets I have tried:</p>\n<pre><code>XmlAssert.assertThat(actualXmlString)\n    .and(expectedXmlString)\n    .withNodeMatcher(new DefaultNodeMatcher(ElementSelectors.byNameAndText))\n    .ignoreChildNodesOrder()\n    // .ignoreWhitespace()\n    .normalizeWhitespace()\n    .areSimilar();\n\nDiff diff = new Diff(actualXmlString, expectedXmlString);\ndiff.overrideElementQualifier(new ElementNameAndTextQualifier());\nassertXMLEqual(diff, true);\n</code></pre>\n"},{"tags":["java","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":11670128,"reputation":111,"user_id":8545524,"display_name":"Robert Vasile"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643657161,"creation_date":1643657161,"answer_id":70931736,"question_id":70924075,"body_markdown":"First of all, I don&#39;t think that query it&#39;s quite right, basically, your search for a user that has that exact username, email, and phone number. I suggest using the &quot;or&quot; operator and you can do a simple validation here. You can make that query to count how many users have that credentials and use them like\r\n\r\n    if(queryResult == 0){\r\n      register(user);\r\n    else{\r\n     //try again\r\n    }\r\n\r\n","title":"how to validate the already registered user in spring mvc","body":"<p>First of all, I don't think that query it's quite right, basically, your search for a user that has that exact username, email, and phone number. I suggest using the &quot;or&quot; operator and you can do a simple validation here. You can make that query to count how many users have that credentials and use them like</p>\n<pre><code>if(queryResult == 0){\n  register(user);\nelse{\n //try again\n}\n</code></pre>\n"}],"owner":{"account_id":23918430,"reputation":13,"user_id":17914630,"display_name":"Super MCU"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":315,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643657161,"creation_date":1643623188,"question_id":70924075,"body_markdown":"I have made the registration page using spring mvc. So far I am able to register and login. But I want to check if the user has already registered with username,email and phone number. To do the same i tried to do that in the DAO layer using if else but it did&#39;t worked at all. the query I tried is this:\r\n\r\n    SELECT * from user WHERE username = &#39;bruceb&#39; and email=&#39;bruce@gmail.com&#39; and phone = 1234566;\r\n\r\nSo please tell me the right way to validate the user while doing the regstration.\r\n\r\nthis the my dao query for registration:\r\n\r\n    public int register(User user) {\r\n    String sql = &quot;insert into user values(?,?,?,?,?,?,?,?)&quot;;\r\n\r\n    return jdbcTemplate.update(sql, new Object[] { user.getUser_id(),user.getUsername(), user.getPassword(), user.getFirstname(),\r\n        user.getLastname(), user.getEmail(), user.getAddress(), user.getPhone() });\r\n      } ","title":"how to validate the already registered user in spring mvc","body":"<p>I have made the registration page using spring mvc. So far I am able to register and login. But I want to check if the user has already registered with username,email and phone number. To do the same i tried to do that in the DAO layer using if else but it did't worked at all. the query I tried is this:</p>\n<pre><code>SELECT * from user WHERE username = 'bruceb' and email='bruce@gmail.com' and phone = 1234566;\n</code></pre>\n<p>So please tell me the right way to validate the user while doing the regstration.</p>\n<p>this the my dao query for registration:</p>\n<pre><code>public int register(User user) {\nString sql = &quot;insert into user values(?,?,?,?,?,?,?,?)&quot;;\n\nreturn jdbcTemplate.update(sql, new Object[] { user.getUser_id(),user.getUsername(), user.getPassword(), user.getFirstname(),\n    user.getLastname(), user.getEmail(), user.getAddress(), user.getPhone() });\n  } \n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":7553506,"reputation":2715,"user_id":5734097,"display_name":"D.Kastier"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643656884,"creation_date":1643130648,"answer_id":70852839,"question_id":70852789,"body_markdown":"You are calling the same method, recursive.\r\n\r\nTo invoke the parent method, use `super`:\r\n\r\n    public void setHeight(int height)\r\n    {\r\n        super.setHeight(height);\r\n        super.setWidth(height);\r\n    }\r\n\r\nNote that your `setWidth` method is also incorrectly.","title":"How to fix java.lang.StackOverflowError in inheritance","body":"<p>You are calling the same method, recursive.</p>\n<p>To invoke the parent method, use <code>super</code>:</p>\n<pre><code>public void setHeight(int height)\n{\n    super.setHeight(height);\n    super.setWidth(height);\n}\n</code></pre>\n<p>Note that your <code>setWidth</code> method is also incorrectly.</p>\n"},{"tags":[],"owner":{"account_id":9298667,"reputation":152,"user_id":6904872,"display_name":"Naresh Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643133466,"creation_date":1643133466,"answer_id":70853482,"question_id":70852789,"body_markdown":"In you Square class when you are calling the setHeight and setWidth method, you are recursively calling the same method, ie setWidth  again calls the setWidth method leading to stackoverflow. You need to call super.setWidth instead of setWidth inside your square class.  ","title":"How to fix java.lang.StackOverflowError in inheritance","body":"<p>In you Square class when you are calling the setHeight and setWidth method, you are recursively calling the same method, ie setWidth  again calls the setWidth method leading to stackoverflow. You need to call super.setWidth instead of setWidth inside your square class.</p>\n"}],"owner":{"account_id":24051735,"reputation":3,"user_id":18030136,"display_name":"Отабек Акбаров"},"comment_count":0,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":179,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1678034531,"accepted_answer_id":70853482,"answer_count":2,"score":-2,"last_activity_date":1643656884,"creation_date":1643130399,"question_id":70852789,"body_markdown":"How I can to fix the error:\r\n\r\n&gt; Exception in thread &quot;main&quot;java.lang.StackOverflowError at Rectangle.Square.setHeight(Square.java:25)\r\n\r\n\r\n\tpublic class Rectangle {\r\n\t\t\r\n\t\tprivate int width;\r\n\t\tprivate int height;\r\n\r\n\t\tpublic Rectangle(int width, int height){\r\n\t\t\tthis.width=width;\r\n\t\t\tthis.height=height;\r\n\t\t}\r\n\t\tpublic void setWidth(int width){\r\n\t\t\tthis.width=width;\r\n\t\t}\r\n\t\tpublic int getWidth(){\r\n\t\t\treturn width;\r\n\t\t}\r\n\t\tpublic void setHeight(int height){\r\n\t\t\tthis.height=height;\r\n\t\t}\r\n\t\tpublic int getHeight(){\r\n\t\t\treturn height;\r\n\t\t}\r\n\t\tpublic int getSquare(){\r\n\t\t\treturn height*width;\r\n\t\t}\r\n\t}\r\n\r\n\r\n\r\n\tpublic class Square extends Rectangle{\r\n\r\n\t\tpublic Square(int width, int height)\r\n\t\t{\r\n\t\t\tsuper(width, height);\r\n\t\t\tif(width!=height)\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(&quot;asdasdasdasd adasdasd&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tpublic Square(int width)\r\n\t\t{\r\n\t\t\tsuper(width, width);\r\n\t\t}\r\n\t\tpublic void setWidth(int width)\r\n\t\t{\r\n\t\t\tsetWidth(width);\r\n\t\t\tsetHeight(width);\r\n\t\t}\r\n\t\tpublic void setHeight(int height)\r\n\t\t{\r\n\t\t\tsetHeight(height);\r\n\t\t\tsetWidth(height);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic class main {\r\n\r\n\t\tpublic static void main(String[] args) {\r\n\r\n\t\t\tRectangle sq= new Square(20);\r\n\t\t\tSystem.out.println(sq.getSquare());\r\n\t\t\tsq.setHeight(30);\r\n\t\t\tSystem.out.println(sq.getSquare());\r\n\t\t}\r\n\t}","title":"How to fix java.lang.StackOverflowError in inheritance","body":"<p>How I can to fix the error:</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot;java.lang.StackOverflowError at Rectangle.Square.setHeight(Square.java:25)</p>\n</blockquote>\n<pre><code>public class Rectangle {\n    \n    private int width;\n    private int height;\n\n    public Rectangle(int width, int height){\n        this.width=width;\n        this.height=height;\n    }\n    public void setWidth(int width){\n        this.width=width;\n    }\n    public int getWidth(){\n        return width;\n    }\n    public void setHeight(int height){\n        this.height=height;\n    }\n    public int getHeight(){\n        return height;\n    }\n    public int getSquare(){\n        return height*width;\n    }\n}\n\n\n\npublic class Square extends Rectangle{\n\n    public Square(int width, int height)\n    {\n        super(width, height);\n        if(width!=height)\n        {\n            System.out.println(&quot;asdasdasdasd adasdasd&quot;);\n        }\n    }\n\n    public Square(int width)\n    {\n        super(width, width);\n    }\n    public void setWidth(int width)\n    {\n        setWidth(width);\n        setHeight(width);\n    }\n    public void setHeight(int height)\n    {\n        setHeight(height);\n        setWidth(height);\n    }\n}\n\npublic class main {\n\n    public static void main(String[] args) {\n\n        Rectangle sq= new Square(20);\n        System.out.println(sq.getSquare());\n        sq.setHeight(30);\n        System.out.println(sq.getSquare());\n    }\n}\n</code></pre>\n"},{"tags":["java","json","jackson","lombok","jackson-databind"],"comments":[{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":0,"creation_date":1643654542,"post_id":70931159,"comment_id":125392912,"body_markdown":"Your expected JSON is not valid. What value do you expect for `sf`?","body":"Your expected JSON is not valid. What value do you expect for <code>sf</code>?"},{"owner":{"account_id":215504,"reputation":52472,"user_id":470184,"accept_rate":91,"display_name":"blue-sky"},"score":0,"creation_date":1643654787,"post_id":70931159,"comment_id":125393002,"body_markdown":"@ernest_k thanks, I&#39;ve updated the question. sf should contain a String value of datePurchased in format &quot;yyyy-mm-dd&#39;T&#39;HH:mm:ss&quot;","body":"@ernest_k thanks, I&#39;ve updated the question. sf should contain a String value of datePurchased in format &quot;yyyy-mm-dd&#39;T&#39;HH:mm:ss&quot;"},{"owner":{"account_id":215504,"reputation":52472,"user_id":470184,"accept_rate":91,"display_name":"blue-sky"},"score":1,"creation_date":1643656564,"post_id":70931159,"comment_id":125393700,"body_markdown":"@ernest_k sorry, I meant `getStringTest()` should return a `String` value of `datePurchased` in format `&quot;yyyy-mm-dd&#39;T&#39;HH:mm:ss&quot;`","body":"@ernest_k sorry, I meant <code>getStringTest()</code> should return a <code>String</code> value of <code>datePurchased</code> in format <code>&quot;yyyy-mm-dd&#39;T&#39;HH:mm:ss&quot;</code>"},{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":0,"creation_date":1643656963,"post_id":70931159,"comment_id":125393859,"body_markdown":"Please also note that `&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&quot;` is probably what you meant. `&quot;yyyy-mm-dd&#39;T&#39;HH:mm:ss&quot;` will output the minute where the month is likely wanted.","body":"Please also note that <code>&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&quot;</code> is probably what you meant. <code>&quot;yyyy-mm-dd&#39;T&#39;HH:mm:ss&quot;</code> will output the minute where the month is likely wanted."}],"answers":[{"tags":[],"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1643656795,"creation_date":1643656795,"answer_id":70931661,"question_id":70931159,"body_markdown":"If all you want is to include a formatted version of `datePurchased` as `stringTest`, all you need to do is annotate `getStringField` with `JsonFormat` indicating the pattern to use. You don&#39;t even need to declare `sf` as Jackson can take care of formatting for you.\r\n\r\nThis must be enough:\r\n\r\n    //Same lombok annotations\r\n    public class Request {\r\n    \t\r\n    \t@JsonFormat(pattern = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&quot;)\r\n    \tpublic Date getStringTest() {\r\n    \t\treturn this.datePurchased;\r\n    \t}\r\n    \r\n    \tprivate final Date datePurchased;\r\n    }\r\n\r\nAnd with the same test as yours, I get an output like this:\r\n\r\n    {&quot;datePurchased&quot;:1643656778516,&quot;stringTest&quot;:&quot;2022-01-31T19:19:38&quot;}\r\n\r\nIf you were forced to declare `sf` for some reason, you could have avoided it being included in your final JSON by annotating it (the field/property) directly with `@JsonIgnore`","title":"How to properly include a &quot;has a&quot; relationship using Lombok?","body":"<p>If all you want is to include a formatted version of <code>datePurchased</code> as <code>stringTest</code>, all you need to do is annotate <code>getStringField</code> with <code>JsonFormat</code> indicating the pattern to use. You don't even need to declare <code>sf</code> as Jackson can take care of formatting for you.</p>\n<p>This must be enough:</p>\n<pre><code>//Same lombok annotations\npublic class Request {\n    \n    @JsonFormat(pattern = &quot;yyyy-MM-dd'T'HH:mm:ss&quot;)\n    public Date getStringTest() {\n        return this.datePurchased;\n    }\n\n    private final Date datePurchased;\n}\n</code></pre>\n<p>And with the same test as yours, I get an output like this:</p>\n<pre><code>{&quot;datePurchased&quot;:1643656778516,&quot;stringTest&quot;:&quot;2022-01-31T19:19:38&quot;}\n</code></pre>\n<p>If you were forced to declare <code>sf</code> for some reason, you could have avoided it being included in your final JSON by annotating it (the field/property) directly with <code>@JsonIgnore</code></p>\n"}],"owner":{"account_id":215504,"reputation":52472,"user_id":470184,"accept_rate":91,"display_name":"blue-sky"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70931661,"answer_count":1,"score":1,"last_activity_date":1643656795,"creation_date":1643654352,"question_id":70931159,"body_markdown":"Using the below class I&#39;m attempting to generate a formatted date : \r\n\r\n    import lombok.Builder;\r\n    import lombok.Getter;\r\n    import lombok.Setter;\r\n    import lombok.ToString;\r\n    \r\n    import java.text.SimpleDateFormat;\r\n    import java.util.Date;\r\n    \r\n    @Builder\r\n    @ToString\r\n    @Getter\r\n    @Setter\r\n    public class Request\r\n    {\r\n    \r\n        private final SimpleDateFormat sf = new SimpleDateFormat(&quot;yyyy-mm-dd&#39;T&#39;HH:mm:ss&quot;);\r\n    \r\n        public String getStringTest(){\r\n            return sf.format(new Date());\r\n        }\r\n    \r\n        private final Date datePurchased;\r\n    }\r\n\r\nI generate the JSON using : \r\n\r\n    import com.fasterxml.jackson.core.JsonProcessingException;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    \r\n    import java.util.Date;\r\n    \r\n    public class Main {\r\n    \r\n        public static void main(String args[]) throws JsonProcessingException {\r\n            ObjectMapper objectMapper = new ObjectMapper();\r\n            Request request = Request.builder().datePurchased(new Date()).build();\r\n            System.out.println(objectMapper.writeValueAsString(request));\r\n    \r\n        }\r\n    }\r\n\r\nwhich renders the following JSON : \r\n\r\n    {&quot;sf&quot;:{&quot;calendar&quot;:-880959400190,&quot;numberFormat&quot;:{&quot;groupingUsed&quot;:false,&quot;parseIntegerOnly&quot;:true,&quot;maximumIntegerDigits&quot;:2147483647,&quot;minimumIntegerDigits&quot;:1,&quot;maximumFractionDigits&quot;:0,&quot;minimumFractionDigits&quot;:0,&quot;positivePrefix&quot;:&quot;&quot;,&quot;positiveSuffix&quot;:&quot;&quot;,&quot;negativePrefix&quot;:&quot;-&quot;,&quot;negativeSuffix&quot;:&quot;&quot;,&quot;multiplier&quot;:1,&quot;groupingSize&quot;:3,&quot;decimalSeparatorAlwaysShown&quot;:false,&quot;parseBigDecimal&quot;:false,&quot;roundingMode&quot;:&quot;HALF_EVEN&quot;,&quot;decimalFormatSymbols&quot;:{&quot;zeroDigit&quot;:&quot;0&quot;,&quot;groupingSeparator&quot;:&quot;,&quot;,&quot;decimalSeparator&quot;:&quot;.&quot;,&quot;perMill&quot;:&quot;‰&quot;,&quot;percent&quot;:&quot;%&quot;,&quot;digit&quot;:&quot;#&quot;,&quot;patternSeparator&quot;:&quot;;&quot;,&quot;infinity&quot;:&quot;∞&quot;,&quot;minusSign&quot;:&quot;-&quot;,&quot;currencySymbol&quot;:&quot;€&quot;,&quot;currency&quot;:&quot;EUR&quot;,&quot;internationalCurrencySymbol&quot;:&quot;EUR&quot;,&quot;naN&quot;:&quot;NaN&quot;,&quot;monetaryDecimalSeparator&quot;:&quot;.&quot;,&quot;exponentSeparator&quot;:&quot;E&quot;},&quot;currency&quot;:&quot;EUR&quot;},&quot;2DigitYearStart&quot;:-880959400190,&quot;dateFormatSymbols&quot;:{&quot;eras&quot;:[&quot;BC&quot;,&quot;AD&quot;],&quot;months&quot;:[&quot;January&quot;,&quot;February&quot;,&quot;March&quot;,&quot;April&quot;,&quot;May&quot;,&quot;June&quot;,&quot;July&quot;,&quot;August&quot;,&quot;September&quot;,&quot;October&quot;,&quot;November&quot;,&quot;December&quot;,&quot;&quot;],&quot;shortMonths&quot;:[&quot;Jan&quot;,&quot;Feb&quot;,&quot;Mar&quot;,&quot;Apr&quot;,&quot;May&quot;,&quot;Jun&quot;,&quot;Jul&quot;,&quot;Aug&quot;,&quot;Sep&quot;,&quot;Oct&quot;,&quot;Nov&quot;,&quot;Dec&quot;,&quot;&quot;],&quot;weekdays&quot;:[&quot;&quot;,&quot;Sunday&quot;,&quot;Monday&quot;,&quot;Tuesday&quot;,&quot;Wednesday&quot;,&quot;Thursday&quot;,&quot;Friday&quot;,&quot;Saturday&quot;],&quot;shortWeekdays&quot;:[&quot;&quot;,&quot;Sun&quot;,&quot;Mon&quot;,&quot;Tue&quot;,&quot;Wed&quot;,&quot;Thu&quot;,&quot;Fri&quot;,&quot;Sat&quot;],&quot;zoneStrings&quot;:[[&quot;UTC&quot;,&quot;Coordinated Universal Time&quot;,&quot;UTC&quot;,&quot;Coordinated Universal Time&quot;,&quot;UTC&quot;,&quot;Coordinated Universal Time&quot;,&quot;UTC&quot;],[&quot;Europe/Saratov&quot;,&quot;Saratov Standard Time&quot;,&quot;GMT+04:00&quot;,&quot;Saratov Standard Time&quot;,&quot;GMT+04:00&quot;,&quot;Saratov Time&quot;,&quot;GMT+04:00&quot;],[&quot;Europe/Dublin&quot;,&quot;Greenwich Mean Time&quot;,&quot;GMT&quot;,&quot;Irish Standard Time&quot;,&quot;IST&quot;,&quot;Irish Time&quot;,&quot;IT&quot;],[&quot;Europe/Astrakhan&quot;,&quot;Astrakhan Standard Time&quot;,&quot;GMT+04:00&quot;,&quot;Astrakhan Standard Time&quot;,&quot;GMT+04:00&quot;,&quot;Astrakhan Time&quot;,&quot;GMT+04:00&quot;],[&quot;Asia/Famagusta&quot;,&quot;Eastern European Time&quot;,&quot;EET&quot;,&quot;Eastern European Summer Time&quot;,&quot;EEST&quot;,&quot;Eastern European Time&quot;,&quot;EET&quot;],[&quot;Antarctica/Palmer&quot;,&quot;Chile Time&quot;,&quot;CLT&quot;,&quot;Chile Summer Time&quot;,&quot;CLST&quot;,&quot;Chile Time&quot;,&quot;CLT&quot;],[&quot;Pacific/Bougainville&quot;,&quot;Bougainville Standard Time&quot;,&quot;BST&quot;,&quot;Bougainville Daylight Time&quot;,&quot;BST&quot;,&quot;Bougainville Time&quot;,&quot;BT&quot;],[&quot;Asia/Srednekolymsk&quot;,&quot;Srednekolymsk Time&quot;,&quot;SRET&quot;,&quot;Srednekolymsk Daylight Time&quot;,&quot;SREDT&quot;,&quot;Srednekolymsk Time&quot;,&quot;SRET&quot;],[&quot;Europe/Ulyanovsk&quot;,&quot;Ulyanovsk Standard Time&quot;,&quot;GMT+04:00&quot;,&quot;Ulyanovsk Standard Time&quot;,&quot;GMT+04:00&quot;,&quot;Ulyanovsk Time&quot;,&quot;GMT+04:00&quot;],[&quot;America/Punta_Arenas&quot;,&quot;Punta Arenas Standard Time&quot;,&quot;GMT-03:00&quot;,&quot;Punta Arenas Standard Time&quot;,&quot;GMT-03:00&quot;,&quot;Punta Arenas Time&quot;,&quot;GMT-03:00&quot;],[&quot;America/Los_Angeles&quot;,&quot;Pacific Standard Time&quot;,&quot;GMT-08:00&quot;,&quot;Pacific Daylight Time&quot;,&quot;GMT-07:00&quot;,&quot;Pacific Time&quot;,&quot;GMT-08:00&quot;],[&quot;America/Denver&quot;,&quot;Mountain Standard Time&quot;,&quot;GMT-07:00&quot;,&quot;Mountain Daylight Time&quot;,&quot;GMT-06:00&quot;,&quot;Mountain Time&quot;,&quot;GMT-07:00&quot;],[&quot;America/Phoenix&quot;,&quot;Mountain Standard Time&quot;,&quot;GMT-07:00&quot;,&quot;Mountain Daylight Time&quot;,&quot;GMT-07:00&quot;,&quot;Mountain Time&quot;,&quot;GMT-07:00&quot;],[&quot;America/Chicago&quot;,&quot;Central Standard Time&quot;,&quot;GMT-06:00&quot;,&quot;Central Daylight Time&quot;,&quot;GMT-05:00&quot;,&quot;Central Time&quot;,&quot;GMT-06:00&quot;],[&quot;America/New_York&quot;,&quot;Eastern Standard Time&quot;,&quot;GMT-05:00&quot;,&quot;Eastern Daylight Time&quot;,&quot;GMT-04:00&quot;,&quot;Eastern Time&quot;,&quot;GMT-05:00&quot;],[&quot;America/Indianapolis&quot;,&quot;Eastern Standard Time&quot;,&quot;GMT-05:00&quot;,&quot;Eastern Daylight Time&quot;,&quot;GMT-04:00&quot;,&quot;Eastern Time&quot;,&quot;GMT-05:00&quot;],[&quot;Pacific/Honolulu&quot;,&quot;Hawaii Standard Time&quot;,&quot;GMT-10:00&quot;,&quot;Hawaii Daylight Time&quot;,&quot;GMT-10:00&quot;,&quot;Hawaii Time&quot;,&quot;GMT-10:00&quot;],[&quot;America/Anchorage&quot;,&quot;Alaska Standard Time&quot;,&quot;GMT-09:00&quot;,&quot;Alaska Daylight Time&quot;,&quot;GMT-08:00&quot;,&quot;Alaska Time&quot;,&quot;GMT-09:00&quot;],..........................&quot;stringTest&quot;:&quot;2022-03-31T18:03:20&quot;}\r\n\r\nI&#39;m expecting the JSON to contain : \r\n\r\n    {&quot;datePurchased&quot;:1643654681044,&quot;stringTest&quot;:&quot;2022-03-31T18:03:20&quot;}\r\n\r\nBut it seems the `toString()` method is included in the JSON output ?\r\n\r\nHow to correctly model the relationship in the Request class using lombok such that the format `{&quot;sf&quot;:&quot;datePurchased&quot;:1643652199803,&quot;stringTest&quot;:&quot;2022-03-31T18:03:20&quot;}` is produced ?\r\n\r\n`getStringTest()` should return a `String` value of `datePurchased` in format `&quot;yyyy-mm-dd&#39;T&#39;HH:mm:ss&quot;`\r\n","title":"How to properly include a &quot;has a&quot; relationship using Lombok?","body":"<p>Using the below class I'm attempting to generate a formatted date :</p>\n<pre><code>import lombok.Builder;\nimport lombok.Getter;\nimport lombok.Setter;\nimport lombok.ToString;\n\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\n\n@Builder\n@ToString\n@Getter\n@Setter\npublic class Request\n{\n\n    private final SimpleDateFormat sf = new SimpleDateFormat(&quot;yyyy-mm-dd'T'HH:mm:ss&quot;);\n\n    public String getStringTest(){\n        return sf.format(new Date());\n    }\n\n    private final Date datePurchased;\n}\n</code></pre>\n<p>I generate the JSON using :</p>\n<pre><code>import com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\nimport java.util.Date;\n\npublic class Main {\n\n    public static void main(String args[]) throws JsonProcessingException {\n        ObjectMapper objectMapper = new ObjectMapper();\n        Request request = Request.builder().datePurchased(new Date()).build();\n        System.out.println(objectMapper.writeValueAsString(request));\n\n    }\n}\n</code></pre>\n<p>which renders the following JSON :</p>\n<pre><code>{&quot;sf&quot;:{&quot;calendar&quot;:-880959400190,&quot;numberFormat&quot;:{&quot;groupingUsed&quot;:false,&quot;parseIntegerOnly&quot;:true,&quot;maximumIntegerDigits&quot;:2147483647,&quot;minimumIntegerDigits&quot;:1,&quot;maximumFractionDigits&quot;:0,&quot;minimumFractionDigits&quot;:0,&quot;positivePrefix&quot;:&quot;&quot;,&quot;positiveSuffix&quot;:&quot;&quot;,&quot;negativePrefix&quot;:&quot;-&quot;,&quot;negativeSuffix&quot;:&quot;&quot;,&quot;multiplier&quot;:1,&quot;groupingSize&quot;:3,&quot;decimalSeparatorAlwaysShown&quot;:false,&quot;parseBigDecimal&quot;:false,&quot;roundingMode&quot;:&quot;HALF_EVEN&quot;,&quot;decimalFormatSymbols&quot;:{&quot;zeroDigit&quot;:&quot;0&quot;,&quot;groupingSeparator&quot;:&quot;,&quot;,&quot;decimalSeparator&quot;:&quot;.&quot;,&quot;perMill&quot;:&quot;‰&quot;,&quot;percent&quot;:&quot;%&quot;,&quot;digit&quot;:&quot;#&quot;,&quot;patternSeparator&quot;:&quot;;&quot;,&quot;infinity&quot;:&quot;∞&quot;,&quot;minusSign&quot;:&quot;-&quot;,&quot;currencySymbol&quot;:&quot;€&quot;,&quot;currency&quot;:&quot;EUR&quot;,&quot;internationalCurrencySymbol&quot;:&quot;EUR&quot;,&quot;naN&quot;:&quot;NaN&quot;,&quot;monetaryDecimalSeparator&quot;:&quot;.&quot;,&quot;exponentSeparator&quot;:&quot;E&quot;},&quot;currency&quot;:&quot;EUR&quot;},&quot;2DigitYearStart&quot;:-880959400190,&quot;dateFormatSymbols&quot;:{&quot;eras&quot;:[&quot;BC&quot;,&quot;AD&quot;],&quot;months&quot;:[&quot;January&quot;,&quot;February&quot;,&quot;March&quot;,&quot;April&quot;,&quot;May&quot;,&quot;June&quot;,&quot;July&quot;,&quot;August&quot;,&quot;September&quot;,&quot;October&quot;,&quot;November&quot;,&quot;December&quot;,&quot;&quot;],&quot;shortMonths&quot;:[&quot;Jan&quot;,&quot;Feb&quot;,&quot;Mar&quot;,&quot;Apr&quot;,&quot;May&quot;,&quot;Jun&quot;,&quot;Jul&quot;,&quot;Aug&quot;,&quot;Sep&quot;,&quot;Oct&quot;,&quot;Nov&quot;,&quot;Dec&quot;,&quot;&quot;],&quot;weekdays&quot;:[&quot;&quot;,&quot;Sunday&quot;,&quot;Monday&quot;,&quot;Tuesday&quot;,&quot;Wednesday&quot;,&quot;Thursday&quot;,&quot;Friday&quot;,&quot;Saturday&quot;],&quot;shortWeekdays&quot;:[&quot;&quot;,&quot;Sun&quot;,&quot;Mon&quot;,&quot;Tue&quot;,&quot;Wed&quot;,&quot;Thu&quot;,&quot;Fri&quot;,&quot;Sat&quot;],&quot;zoneStrings&quot;:[[&quot;UTC&quot;,&quot;Coordinated Universal Time&quot;,&quot;UTC&quot;,&quot;Coordinated Universal Time&quot;,&quot;UTC&quot;,&quot;Coordinated Universal Time&quot;,&quot;UTC&quot;],[&quot;Europe/Saratov&quot;,&quot;Saratov Standard Time&quot;,&quot;GMT+04:00&quot;,&quot;Saratov Standard Time&quot;,&quot;GMT+04:00&quot;,&quot;Saratov Time&quot;,&quot;GMT+04:00&quot;],[&quot;Europe/Dublin&quot;,&quot;Greenwich Mean Time&quot;,&quot;GMT&quot;,&quot;Irish Standard Time&quot;,&quot;IST&quot;,&quot;Irish Time&quot;,&quot;IT&quot;],[&quot;Europe/Astrakhan&quot;,&quot;Astrakhan Standard Time&quot;,&quot;GMT+04:00&quot;,&quot;Astrakhan Standard Time&quot;,&quot;GMT+04:00&quot;,&quot;Astrakhan Time&quot;,&quot;GMT+04:00&quot;],[&quot;Asia/Famagusta&quot;,&quot;Eastern European Time&quot;,&quot;EET&quot;,&quot;Eastern European Summer Time&quot;,&quot;EEST&quot;,&quot;Eastern European Time&quot;,&quot;EET&quot;],[&quot;Antarctica/Palmer&quot;,&quot;Chile Time&quot;,&quot;CLT&quot;,&quot;Chile Summer Time&quot;,&quot;CLST&quot;,&quot;Chile Time&quot;,&quot;CLT&quot;],[&quot;Pacific/Bougainville&quot;,&quot;Bougainville Standard Time&quot;,&quot;BST&quot;,&quot;Bougainville Daylight Time&quot;,&quot;BST&quot;,&quot;Bougainville Time&quot;,&quot;BT&quot;],[&quot;Asia/Srednekolymsk&quot;,&quot;Srednekolymsk Time&quot;,&quot;SRET&quot;,&quot;Srednekolymsk Daylight Time&quot;,&quot;SREDT&quot;,&quot;Srednekolymsk Time&quot;,&quot;SRET&quot;],[&quot;Europe/Ulyanovsk&quot;,&quot;Ulyanovsk Standard Time&quot;,&quot;GMT+04:00&quot;,&quot;Ulyanovsk Standard Time&quot;,&quot;GMT+04:00&quot;,&quot;Ulyanovsk Time&quot;,&quot;GMT+04:00&quot;],[&quot;America/Punta_Arenas&quot;,&quot;Punta Arenas Standard Time&quot;,&quot;GMT-03:00&quot;,&quot;Punta Arenas Standard Time&quot;,&quot;GMT-03:00&quot;,&quot;Punta Arenas Time&quot;,&quot;GMT-03:00&quot;],[&quot;America/Los_Angeles&quot;,&quot;Pacific Standard Time&quot;,&quot;GMT-08:00&quot;,&quot;Pacific Daylight Time&quot;,&quot;GMT-07:00&quot;,&quot;Pacific Time&quot;,&quot;GMT-08:00&quot;],[&quot;America/Denver&quot;,&quot;Mountain Standard Time&quot;,&quot;GMT-07:00&quot;,&quot;Mountain Daylight Time&quot;,&quot;GMT-06:00&quot;,&quot;Mountain Time&quot;,&quot;GMT-07:00&quot;],[&quot;America/Phoenix&quot;,&quot;Mountain Standard Time&quot;,&quot;GMT-07:00&quot;,&quot;Mountain Daylight Time&quot;,&quot;GMT-07:00&quot;,&quot;Mountain Time&quot;,&quot;GMT-07:00&quot;],[&quot;America/Chicago&quot;,&quot;Central Standard Time&quot;,&quot;GMT-06:00&quot;,&quot;Central Daylight Time&quot;,&quot;GMT-05:00&quot;,&quot;Central Time&quot;,&quot;GMT-06:00&quot;],[&quot;America/New_York&quot;,&quot;Eastern Standard Time&quot;,&quot;GMT-05:00&quot;,&quot;Eastern Daylight Time&quot;,&quot;GMT-04:00&quot;,&quot;Eastern Time&quot;,&quot;GMT-05:00&quot;],[&quot;America/Indianapolis&quot;,&quot;Eastern Standard Time&quot;,&quot;GMT-05:00&quot;,&quot;Eastern Daylight Time&quot;,&quot;GMT-04:00&quot;,&quot;Eastern Time&quot;,&quot;GMT-05:00&quot;],[&quot;Pacific/Honolulu&quot;,&quot;Hawaii Standard Time&quot;,&quot;GMT-10:00&quot;,&quot;Hawaii Daylight Time&quot;,&quot;GMT-10:00&quot;,&quot;Hawaii Time&quot;,&quot;GMT-10:00&quot;],[&quot;America/Anchorage&quot;,&quot;Alaska Standard Time&quot;,&quot;GMT-09:00&quot;,&quot;Alaska Daylight Time&quot;,&quot;GMT-08:00&quot;,&quot;Alaska Time&quot;,&quot;GMT-09:00&quot;],..........................&quot;stringTest&quot;:&quot;2022-03-31T18:03:20&quot;}\n</code></pre>\n<p>I'm expecting the JSON to contain :</p>\n<pre><code>{&quot;datePurchased&quot;:1643654681044,&quot;stringTest&quot;:&quot;2022-03-31T18:03:20&quot;}\n</code></pre>\n<p>But it seems the <code>toString()</code> method is included in the JSON output ?</p>\n<p>How to correctly model the relationship in the Request class using lombok such that the format <code>{&quot;sf&quot;:&quot;datePurchased&quot;:1643652199803,&quot;stringTest&quot;:&quot;2022-03-31T18:03:20&quot;}</code> is produced ?</p>\n<p><code>getStringTest()</code> should return a <code>String</code> value of <code>datePurchased</code> in format <code>&quot;yyyy-mm-dd'T'HH:mm:ss&quot;</code></p>\n"},{"tags":["java","spring-boot","mapstruct"],"comments":[{"owner":{"account_id":19153928,"reputation":862,"user_id":13991201,"display_name":"Egor"},"score":0,"creation_date":1643648859,"post_id":70929638,"comment_id":125390651,"body_markdown":"can you add entities you want to map?","body":"can you add entities you want to map?"},{"owner":{"account_id":23778005,"reputation":57,"user_id":17791152,"display_name":"G T"},"score":0,"creation_date":1643654913,"post_id":70929638,"comment_id":125393045,"body_markdown":"I have already updated the question, see see above: MyData{\nPerson person;\n}\n\nInfoDTO{\nLong id;\nString name;\n}","body":"I have already updated the question, see see above: MyData{ Person person; }  InfoDTO{ Long id; String name; }"}],"answers":[{"tags":[],"owner":{"account_id":19153928,"reputation":862,"user_id":13991201,"display_name":"Egor"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1643656481,"creation_date":1643656481,"answer_id":70931593,"question_id":70929638,"body_markdown":"Could be done in this way:\r\n```\r\n@Mapper(componentModel = &quot;spring&quot;)\r\npublic interface PersonMapper {\r\n\r\n    @Mapping(expression = &quot;java(toPerson(dto))&quot;, target = &quot;person&quot;)\r\n    MyData toEntity(InfoDto dto);\r\n\r\n    default Person toPerson(InfoDto dto) {\r\n        return new Person(dto.getId(),dto.getName());\r\n    }\r\n\r\n}\r\n```","title":"How to use mapstruct with a source that has two parameters?","body":"<p>Could be done in this way:</p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;)\npublic interface PersonMapper {\n\n    @Mapping(expression = &quot;java(toPerson(dto))&quot;, target = &quot;person&quot;)\n    MyData toEntity(InfoDto dto);\n\n    default Person toPerson(InfoDto dto) {\n        return new Person(dto.getId(),dto.getName());\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":23778005,"reputation":57,"user_id":17791152,"display_name":"G T"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3430,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70931593,"answer_count":1,"score":0,"last_activity_date":1643656481,"creation_date":1643647499,"question_id":70929638,"body_markdown":" It seems the mapstruct can work with source with only one parameter. If do set &quot;source = {&quot;id&quot;,&quot;name&quot;} &quot; when I will have error. How solve it?\r\n\r\n     @Mapping(source = {&quot;id&quot;,&quot;name&quot;}, target = &quot;person&quot;, qualifiedByName = &quot;toPerson&quot;)\r\n     public MainData toEntity(InfoDTO dto);\r\n     \r\n        @Named(&quot;toPerson&quot;)\r\n        public Person toPerson(Long id, String name) {\r\n            //some to do\r\n        }\r\n\r\nMy entities:\r\n\r\n    MyData{\r\n    Person person;\r\n    }\r\n    \r\n    InfoDTO{\r\n    Long id;\r\n    String name;\r\n    }","title":"How to use mapstruct with a source that has two parameters?","body":"<p>It seems the mapstruct can work with source with only one parameter. If do set &quot;source = {&quot;id&quot;,&quot;name&quot;} &quot; when I will have error. How solve it?</p>\n<pre><code> @Mapping(source = {&quot;id&quot;,&quot;name&quot;}, target = &quot;person&quot;, qualifiedByName = &quot;toPerson&quot;)\n public MainData toEntity(InfoDTO dto);\n \n    @Named(&quot;toPerson&quot;)\n    public Person toPerson(Long id, String name) {\n        //some to do\n    }\n</code></pre>\n<p>My entities:</p>\n<pre><code>MyData{\nPerson person;\n}\n\nInfoDTO{\nLong id;\nString name;\n}\n</code></pre>\n"},{"tags":["java","data-structures","linked-list"],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643649156,"creation_date":1643649156,"answer_id":70930052,"question_id":70930033,"body_markdown":"```\r\nListIterator&lt;Integer&gt; ls = list.listIterator();\r\nint last = -1;\r\nwhile (ls.hasNext()) {\r\n  last = ls.next();\r\n}","title":"Save the final value of a linked list to a variable in Java","body":"<pre><code>ListIterator&lt;Integer&gt; ls = list.listIterator();\nint last = -1;\nwhile (ls.hasNext()) {\n  last = ls.next();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643649682,"creation_date":1643649682,"answer_id":70930178,"question_id":70930033,"body_markdown":"Alternatively, don&#39;t save the value as you go through the list:\r\n\r\n```\r\nwhile (ls.hasNext()) {\r\n  ls.next();\r\n}\r\n// Assuming the list isn&#39;t empty:\r\nvar last = ls.previous();\r\n```","title":"Save the final value of a linked list to a variable in Java","body":"<p>Alternatively, don't save the value as you go through the list:</p>\n<pre><code>while (ls.hasNext()) {\n  ls.next();\n}\n// Assuming the list isn't empty:\nvar last = ls.previous();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":259805,"reputation":386,"user_id":542938,"display_name":"vivek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643649741,"creation_date":1643649741,"answer_id":70930185,"question_id":70930033,"body_markdown":"You can use \r\n\r\n    list.getLast();\r\n\r\nto get the last item from the list.","title":"Save the final value of a linked list to a variable in Java","body":"<p>You can use</p>\n<pre><code>list.getLast();\n</code></pre>\n<p>to get the last item from the list.</p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643656428,"creation_date":1643651019,"answer_id":70930472,"question_id":70930033,"body_markdown":"&gt; What is the best way for me to save the value at the last index to a\r\n&gt; variable?\r\n\r\nKeeping in mind that there are `5.000.000 elements` the most **efficient** way to access the last element is to make use of the fact that **LinkedList** implements the **Deque** interface:\r\n```\r\n        List&lt;Integer&gt; list = new LinkedList&lt;&gt;();\r\n        .....    \r\n        Integer last = ((Deque&lt;Integer&gt;) list).peekLast();\r\n```\r\n**Note:** \r\n* any element in the list could be `null` and application will crash if you&#39;ll try to assign `null` to an `int` variable;\r\n* in order to invoke the method `peekLast()` first you have to cast the list to the appropriate type.\r\n\r\n\r\nBut, if for this task you `have to use a` **`ListIterator`** at all costs, then I advise you to fix the code you&#39;ve provided like that:\r\n\r\n```\r\n    public static Optional&lt;Integer&gt; getLast(List&lt;Integer&gt; list) {\r\n        ListIterator&lt;Integer&gt; ls = list.listIterator();\r\n        Integer last = null;\r\n        while (ls.hasNext()) {\r\n            last = ls.next();\r\n        }\r\n        return Optional.ofNullable(last);\r\n    }\r\n```","title":"Save the final value of a linked list to a variable in Java","body":"<blockquote>\n<p>What is the best way for me to save the value at the last index to a\nvariable?</p>\n</blockquote>\n<p>Keeping in mind that there are <code>5.000.000 elements</code> the most <strong>efficient</strong> way to access the last element is to make use of the fact that <strong>LinkedList</strong> implements the <strong>Deque</strong> interface:</p>\n<pre><code>        List&lt;Integer&gt; list = new LinkedList&lt;&gt;();\n        .....    \n        Integer last = ((Deque&lt;Integer&gt;) list).peekLast();\n</code></pre>\n<p><strong>Note:</strong></p>\n<ul>\n<li>any element in the list could be <code>null</code> and application will crash if you'll try to assign <code>null</code> to an <code>int</code> variable;</li>\n<li>in order to invoke the method <code>peekLast()</code> first you have to cast the list to the appropriate type.</li>\n</ul>\n<p>But, if for this task you <code>have to use a</code> <strong><code>ListIterator</code></strong> at all costs, then I advise you to fix the code you've provided like that:</p>\n<pre><code>    public static Optional&lt;Integer&gt; getLast(List&lt;Integer&gt; list) {\n        ListIterator&lt;Integer&gt; ls = list.listIterator();\n        Integer last = null;\n        while (ls.hasNext()) {\n            last = ls.next();\n        }\n        return Optional.ofNullable(last);\n    }\n</code></pre>\n"}],"owner":{"account_id":23921256,"reputation":42,"user_id":17917069,"display_name":"Wesley"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70930052,"answer_count":4,"score":0,"last_activity_date":1643656428,"creation_date":1643649044,"question_id":70930033,"body_markdown":"I want to save the final value on a LinkedList of 5000000 integers by using an iterator. For this assignment, I need to traverse through the entire list (I know this is not the most efficient way). Here is the code that I have:\r\n\r\n    //method 1:\r\n            ListIterator ls = list.listIterator();\r\n            while (ls.hasNext()) {\r\n                var save = ls.next(); //my attempt to save the final value\r\n                ls.next();\r\n            }\r\n\r\n\r\nWhat is the best way for me to save the value at the last index to a variable?\r\n","title":"Save the final value of a linked list to a variable in Java","body":"<p>I want to save the final value on a LinkedList of 5000000 integers by using an iterator. For this assignment, I need to traverse through the entire list (I know this is not the most efficient way). Here is the code that I have:</p>\n<pre><code>//method 1:\n        ListIterator ls = list.listIterator();\n        while (ls.hasNext()) {\n            var save = ls.next(); //my attempt to save the final value\n            ls.next();\n        }\n</code></pre>\n<p>What is the best way for me to save the value at the last index to a variable?</p>\n"},{"tags":["java","naming-conventions"],"answers":[{"tags":[],"owner":{"account_id":72575,"reputation":40794,"user_id":209513,"accept_rate":100,"display_name":"Subhrajyoti Majumder"},"down_vote_count":1,"up_vote_count":39,"is_accepted":true,"score":38,"last_activity_date":1347958589,"creation_date":1347958589,"answer_id":12473563,"question_id":12473537,"body_markdown":"Naming convention is recommended  as lowercase in property file.\r\n` bank.account.number` this is more appreciable. ","title":"Naming convention for properties in property file","body":"<p>Naming convention is recommended  as lowercase in property file.\n<code>bank.account.number</code> this is more appreciable. </p>\n"},{"tags":[],"owner":{"account_id":7450,"reputation":269210,"user_id":12960,"display_name":"Brian Agnew"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1347958715,"creation_date":1347958715,"answer_id":12473607,"question_id":12473537,"body_markdown":"There&#39;s no particular standard for naming properties, but convention appears to be of the form \r\n\r\n    a.b.c.d = x\r\n\r\nin lowercase. I would expect some sort of informal hierarchy e.g. \r\n\r\n    bank.\r\n    bank.account.\r\n    bank.account.name.\r\n    bank.account.pin.\r\n\r\netc.\r\n\r\nIf it&#39;s a property which directly affects a particular class I may name it after that class (or at least use the package name). However that is also an example of implementation leak, and I&#39;d think seriously before doing that.","title":"Naming convention for properties in property file","body":"<p>There's no particular standard for naming properties, but convention appears to be of the form </p>\n\n<pre><code>a.b.c.d = x\n</code></pre>\n\n<p>in lowercase. I would expect some sort of informal hierarchy e.g. </p>\n\n<pre><code>bank.\nbank.account.\nbank.account.name.\nbank.account.pin.\n</code></pre>\n\n<p>etc.</p>\n\n<p>If it's a property which directly affects a particular class I may name it after that class (or at least use the package name). However that is also an example of implementation leak, and I'd think seriously before doing that.</p>\n"},{"tags":[],"owner":{"account_id":1496403,"reputation":1575,"user_id":1402237,"accept_rate":100,"display_name":"rekiem87"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1347958790,"creation_date":1347958790,"answer_id":12473630,"question_id":12473537,"body_markdown":"In JSF you can see in ValidationMessages.properties something\r\n\r\n    javax.validation.constraints.Pattern.message\r\n\r\nor in JsfMessages.properties\r\n\r\n    javax.faces.component.UISelectOne.INVALID\r\n\r\nSo you can use wherever you like, i like just lowercase, package formatted","title":"Naming convention for properties in property file","body":"<p>In JSF you can see in ValidationMessages.properties something</p>\n\n<pre><code>javax.validation.constraints.Pattern.message\n</code></pre>\n\n<p>or in JsfMessages.properties</p>\n\n<pre><code>javax.faces.component.UISelectOne.INVALID\n</code></pre>\n\n<p>So you can use wherever you like, i like just lowercase, package formatted</p>\n"},{"tags":[],"owner":{"account_id":261048,"reputation":25820,"user_id":544983,"accept_rate":67,"display_name":"Juvanis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1347958849,"creation_date":1347958849,"answer_id":12473650,"question_id":12473537,"body_markdown":"I guess there is no such common conventions for property files. However, using lowercase letters in an **eligible/easy-to-understand** format (e.g. **bank.account.number**) sounds good, and using the property files with their original extensions (**.properties**) is also recommended.","title":"Naming convention for properties in property file","body":"<p>I guess there is no such common conventions for property files. However, using lowercase letters in an <strong>eligible/easy-to-understand</strong> format (e.g. <strong>bank.account.number</strong>) sounds good, and using the property files with their original extensions (<strong>.properties</strong>) is also recommended.</p>\n"},{"tags":[],"owner":{"account_id":319648,"reputation":6146,"user_id":637517,"accept_rate":85,"display_name":"subodh"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1524464055,"creation_date":1347959874,"answer_id":12473953,"question_id":12473537,"body_markdown":"As per my understanding, there is no any standard rule written for `.properties` file in `java.` \r\nbut if you see the `.properties` files inside the `lib` folder of `Java\\jre` most of them have lower cased `.properties` file names. And the `properties` themselves are also lower cased.\r\n**such as**:\r\n\r\n    psfontj2d.properties\r\n\r\n**key values**\r\n\r\n    courier_new=courier\r\n    courier_new_bold=courier_bold","title":"Naming convention for properties in property file","body":"<p>As per my understanding, there is no any standard rule written for <code>.properties</code> file in <code>java.</code> \nbut if you see the <code>.properties</code> files inside the <code>lib</code> folder of <code>Java\\jre</code> most of them have lower cased <code>.properties</code> file names. And the <code>properties</code> themselves are also lower cased.\n<strong>such as</strong>:</p>\n\n<pre><code>psfontj2d.properties\n</code></pre>\n\n<p><strong>key values</strong></p>\n\n<pre><code>courier_new=courier\ncourier_new_bold=courier_bold\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1612962,"reputation":2478,"user_id":1491414,"accept_rate":56,"display_name":"Ganesa Vijayakumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1372395538,"creation_date":1372395538,"answer_id":17357487,"question_id":12473537,"body_markdown":"Actually Resource Bundle accepts only fully qualified base name of the bundle, with no file extension. In this case it will try to load the bundle of files like this\r\n\r\n**messages/EN/properties.properties**\r\n\r\nI am sure you intend something different than the conventional internationalization, but convention would have been **&quot;messages_en.properties&quot;** (en when language, EN when country)","title":"Naming convention for properties in property file","body":"<p>Actually Resource Bundle accepts only fully qualified base name of the bundle, with no file extension. In this case it will try to load the bundle of files like this</p>\n\n<p><strong>messages/EN/properties.properties</strong></p>\n\n<p>I am sure you intend something different than the conventional internationalization, but convention would have been <strong>\"messages_en.properties\"</strong> (en when language, EN when country)</p>\n"},{"tags":[],"owner":{"account_id":11933381,"reputation":173,"user_id":8732673,"display_name":"Sandeep Nalla"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1553873200,"creation_date":1553873200,"answer_id":55420718,"question_id":12473537,"body_markdown":"There is no standard convention for naming properties in property file.\r\n\r\n**Ref:**\r\nhttps://en.wikipedia.org/wiki/.properties\r\n\r\nAs you are Java user, you can use **camelCase**.\r\n\r\n*For the given example, the name can be **bankAccountNumber**.*\r\n\r\nIn case, if the requirement is to follow the hierarchy structure, dots can be used as below.\r\n\r\n - *bank*\r\n - *bank.account.name*\r\n - *bank.account.number*\r\n - *bank.department.name*\r\n","title":"Naming convention for properties in property file","body":"<p>There is no standard convention for naming properties in property file.</p>\n\n<p><strong>Ref:</strong>\n<a href=\"https://en.wikipedia.org/wiki/.properties\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/.properties</a></p>\n\n<p>As you are Java user, you can use <strong>camelCase</strong>.</p>\n\n<p><em>For the given example, the name can be <strong>bankAccountNumber</strong>.</em></p>\n\n<p>In case, if the requirement is to follow the hierarchy structure, dots can be used as below.</p>\n\n<ul>\n<li><em>bank</em></li>\n<li><em>bank.account.name</em></li>\n<li><em>bank.account.number</em></li>\n<li><em>bank.department.name</em></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":14978228,"reputation":1005,"user_id":10813032,"display_name":"Jacek J"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1643656408,"creation_date":1643656408,"answer_id":70931579,"question_id":12473537,"body_markdown":"**Kebab case is recommended**\r\n\r\nAccording to the [Spring Boot documentation](https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config.typesafe-configuration-properties.relaxed-binding) (see notes in the table with `relaxed binding`) kebab case is recommended for use in .properties and .yml files.","title":"Naming convention for properties in property file","body":"<p><strong>Kebab case is recommended</strong></p>\n<p>According to the <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config.typesafe-configuration-properties.relaxed-binding\" rel=\"noreferrer\">Spring Boot documentation</a> (see notes in the table with <code>relaxed binding</code>) kebab case is recommended for use in .properties and .yml files.</p>\n"}],"owner":{"account_id":906007,"reputation":1520,"user_id":940908,"accept_rate":75,"display_name":"MrProper"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57106,"favorite_count":0,"down_vote_count":0,"up_vote_count":43,"accepted_answer_id":12473563,"answer_count":8,"score":43,"last_activity_date":1643656408,"creation_date":1347958458,"question_id":12473537,"body_markdown":"What are the naming conventions for property names defined in properties files in Java? Can I use uppercase or only lowercase?\r\n\r\nFor example: bankAccountNumber or bank.account.number?\r\n\r\nIs it defined somewhere on the internet?","title":"Naming convention for properties in property file","body":"<p>What are the naming conventions for property names defined in properties files in Java? Can I use uppercase or only lowercase?</p>\n\n<p>For example: bankAccountNumber or bank.account.number?</p>\n\n<p>Is it defined somewhere on the internet?</p>\n"},{"tags":["java","spring","mongodb","spring-webflux","spring-data-mongodb"],"comments":[{"owner":{"account_id":3101358,"reputation":962,"user_id":2625393,"display_name":"Numichi"},"score":0,"creation_date":1643645600,"post_id":70928337,"comment_id":125389238,"body_markdown":"Do you stick to the template? Because MongoDB queries can also do this with a repository.","body":"Do you stick to the template? Because MongoDB queries can also do this with a repository."},{"owner":{"account_id":6019023,"reputation":1685,"user_id":4726822,"accept_rate":83,"display_name":"ekjcfn3902039"},"score":0,"creation_date":1643645779,"post_id":70928337,"comment_id":125389318,"body_markdown":"I think I figured out a long way with MongoDb Queries (which I&#39;ll post) , but I&#39;d prefer to use templates if possible.","body":"I think I figured out a long way with MongoDb Queries (which I&#39;ll post) , but I&#39;d prefer to use templates if possible."}],"owner":{"account_id":6019023,"reputation":1685,"user_id":4726822,"accept_rate":83,"display_name":"ekjcfn3902039"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":454,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643656361,"creation_date":1643642292,"question_id":70928337,"body_markdown":"I have the following setup\r\n\r\n````\r\nMyCollectionOne{firstId=&#39;14&#39;, secondId=&#39;123456&#39;}\r\nMyCollectionTwo{_id=&#39;123456&#39;, otherFields=&#39;blah...&#39;}\r\n````\r\n\r\nI am trying to do the following but am unsure of the correct syntax to use  without nesting separate queries:\r\n````\r\n// Find MyCollectionOne where the firstId passed in matches MyCollectionOne.firstId\r\n// Use MyCollectionOne.secondId to lookup MyCollectionTwo by _id\r\n// Return a Mono of MyCollectionTwo\r\n\r\npublic Mono&lt;MyCollectionTwo&gt; getMyCollectionTwo(String firstId) {\r\n  // Obviously wrong syntax but trying to show the gist of what I want\r\n  return reactiveMongoTemplate.findMyCollectionTwoWhereMyCollectionOneFirstIdIs(firstId, MyCollectionTwo.class);\r\n}\r\n\r\n````\r\nUpdate - \r\nI can get what I want this way but I don&#39;t like that I have to manually select every key in MyCollectionTwo. Working example is here\r\n(https://mongoplayground.net/p/85xOusippii)\r\n````\r\ndb.MyCollectionTwo.aggregate([\r\n {\r\n  $lookup: {\r\n    from &quot;MyCollectionOne&quot;,\r\n    localField: &quot;_id&quot;,\r\n    foreignField: &quot;secondId&quot;,\r\n    as: &quot;Temp&quot;\r\n  }\r\n },\r\n {\r\n  $unwind: $Temp&quot;\r\n },\r\n {\r\n  $match: {\r\n    $and: [\r\n      {\r\n        &quot;Temp.firstId&quot;: firstId\r\n      }\r\n    ]\r\n  }\r\n},\r\n{\r\n  $project: {\r\n    _id: 1,\r\n    otherFieldOne: 1,\r\n    otherFieldTwo: 1\r\n  }\r\n}\r\n]).find()\r\n\r\n````\r\n\r\nIf I try to convert it to \r\nspring equivalents it returns no results. Am I making a typo / operation error somewhere? I commented out The MatchOperation so I should see all results in the collection\r\n\r\n````\r\npublic Mono&lt;MyCollectionTwo&gt; getMyCollectionTwo(String firstId) {\r\n  LookupOperation lookup = Aggregation.lookup(&quot;MyCollectionOne&quot;, &quot;_id&quot;, &quot;secondId&quot;, &quot;Temp&quot;);\r\n  UnwindOperation unwindOperation = Aggreation.unwind(&quot;Temp&quot;);\r\n  // MatchOperation matchOperation = Aggregation.match(Criteria.where(&quot;Temp.firstId&quot;).is(firstId);\r\n  ProjectionOperation projectionOperation = Aggregation.project(&quot;_id&quot;, &quot;otherFieldOne&quot;, &quot;otherFieldTwo&quot;);\r\n\r\n  TypedAggregation&lt;MyCollectionTwo&gt; aggregation = Aggregation.newAggregation(\r\n    MyCollectionTwo.class,\r\n    lookupOperation,\r\n    unwindOperation,\r\n    // matchOperation,\r\n    projectionOperation\r\n  );\r\n\r\n  this.reactiveMongoTemplate.aggregate(aggregation, MyCollectionTwo.class).subscribe((x) -&gt; {\r\n    System.out.println(&quot;Found something&quot;, +x);\r\n  }\r\n\r\n  // For now I don&#39;t care what I&#39;m returning from this method as I should \r\n  // see something in the logs from the subscribe shown above.\r\n  return Mono.empty();\r\n}\r\n\r\n````","title":"Spring / Reactive Mongo / Lookup by other collection","body":"<p>I have the following setup</p>\n<pre><code>MyCollectionOne{firstId='14', secondId='123456'}\nMyCollectionTwo{_id='123456', otherFields='blah...'}\n</code></pre>\n<p>I am trying to do the following but am unsure of the correct syntax to use  without nesting separate queries:</p>\n<pre><code>// Find MyCollectionOne where the firstId passed in matches MyCollectionOne.firstId\n// Use MyCollectionOne.secondId to lookup MyCollectionTwo by _id\n// Return a Mono of MyCollectionTwo\n\npublic Mono&lt;MyCollectionTwo&gt; getMyCollectionTwo(String firstId) {\n  // Obviously wrong syntax but trying to show the gist of what I want\n  return reactiveMongoTemplate.findMyCollectionTwoWhereMyCollectionOneFirstIdIs(firstId, MyCollectionTwo.class);\n}\n\n</code></pre>\n<p>Update -\nI can get what I want this way but I don't like that I have to manually select every key in MyCollectionTwo. Working example is here\n(<a href=\"https://mongoplayground.net/p/85xOusippii\" rel=\"nofollow noreferrer\">https://mongoplayground.net/p/85xOusippii</a>)</p>\n<pre><code>db.MyCollectionTwo.aggregate([\n {\n  $lookup: {\n    from &quot;MyCollectionOne&quot;,\n    localField: &quot;_id&quot;,\n    foreignField: &quot;secondId&quot;,\n    as: &quot;Temp&quot;\n  }\n },\n {\n  $unwind: $Temp&quot;\n },\n {\n  $match: {\n    $and: [\n      {\n        &quot;Temp.firstId&quot;: firstId\n      }\n    ]\n  }\n},\n{\n  $project: {\n    _id: 1,\n    otherFieldOne: 1,\n    otherFieldTwo: 1\n  }\n}\n]).find()\n\n</code></pre>\n<p>If I try to convert it to\nspring equivalents it returns no results. Am I making a typo / operation error somewhere? I commented out The MatchOperation so I should see all results in the collection</p>\n<pre><code>public Mono&lt;MyCollectionTwo&gt; getMyCollectionTwo(String firstId) {\n  LookupOperation lookup = Aggregation.lookup(&quot;MyCollectionOne&quot;, &quot;_id&quot;, &quot;secondId&quot;, &quot;Temp&quot;);\n  UnwindOperation unwindOperation = Aggreation.unwind(&quot;Temp&quot;);\n  // MatchOperation matchOperation = Aggregation.match(Criteria.where(&quot;Temp.firstId&quot;).is(firstId);\n  ProjectionOperation projectionOperation = Aggregation.project(&quot;_id&quot;, &quot;otherFieldOne&quot;, &quot;otherFieldTwo&quot;);\n\n  TypedAggregation&lt;MyCollectionTwo&gt; aggregation = Aggregation.newAggregation(\n    MyCollectionTwo.class,\n    lookupOperation,\n    unwindOperation,\n    // matchOperation,\n    projectionOperation\n  );\n\n  this.reactiveMongoTemplate.aggregate(aggregation, MyCollectionTwo.class).subscribe((x) -&gt; {\n    System.out.println(&quot;Found something&quot;, +x);\n  }\n\n  // For now I don't care what I'm returning from this method as I should \n  // see something in the logs from the subscribe shown above.\n  return Mono.empty();\n}\n\n</code></pre>\n"},{"tags":["java","multithreading","volatile"],"comments":[{"owner":{"account_id":1083854,"reputation":13775,"user_id":1080064,"accept_rate":43,"display_name":"tkausl"},"score":0,"creation_date":1643655983,"post_id":70931467,"comment_id":125393456,"body_markdown":"Its a race condition, volatile won&#39;t fix that.","body":"Its a race condition, volatile won&#39;t fix that."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1643656856,"post_id":70931467,"comment_id":125393810,"body_markdown":"`++` doesn&#39;t work the way you think it will on volatile variables.  You will need to use AtomicInteger or the like.","body":"<code>++</code> doesn&#39;t work the way you think it will on volatile variables.  You will need to use AtomicInteger or the like."},{"owner":{"account_id":10224453,"reputation":23,"user_id":7704710,"display_name":"user7704710"},"score":0,"creation_date":1643656866,"post_id":70931467,"comment_id":125393820,"body_markdown":"Hello @tkausl, Could you please explain little bit more? Could you also please suggest what changes I need to do to make it work?","body":"Hello @tkausl, Could you please explain little bit more? Could you also please suggest what changes I need to do to make it work?"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1643657505,"post_id":70931467,"comment_id":125394050,"body_markdown":"Also...what&#39;s unexpected about this output?  This looks like a valid result that I&#39;d expect to see -- though not the only possible result.","body":"Also...what&#39;s unexpected about this output?  This looks like a valid result that I&#39;d expect to see -- though not the only possible result."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1643667348,"post_id":70931467,"comment_id":125397313,"body_markdown":"As @LouisWasserman asks, what are you expecting to happen?","body":"As @LouisWasserman asks, what are you expecting to happen?"}],"owner":{"account_id":10224453,"reputation":23,"user_id":7704710,"display_name":"user7704710"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643655832,"creation_date":1643655832,"question_id":70931467,"body_markdown":"I have used volatile keyword in the below mentioned block of code, expecting that it&#39;s updated value will always be read from memory. But the output is not as expected. Please help me to understand what is wrong here.\r\n\r\n```\r\npublic class Multithread5 {\r\n    public static void main(String[] args){\r\n        VolatileData data = new VolatileData();\r\n        VolatileDataReader thread1 = new VolatileDataReader(data);\r\n        VolatileDataReader thread2 = new VolatileDataReader(data);\r\n        thread1.start();\r\n        thread2.start();\r\n    }\r\n}\r\nclass VolatileData{\r\n    private volatile int counter = 0;\r\n\r\n    public void increase(){\r\n        this.counter++;\r\n    }\r\n\r\n    public int getCounter(){\r\n        return this.counter;\r\n    }\r\n}\r\n\r\nclass VolatileDataReader extends Thread{\r\n    private VolatileData volatileData;\r\n\r\n    VolatileDataReader(VolatileData volatileData){\r\n        this.volatileData = volatileData;\r\n    }\r\n\r\n    public void run(){\r\n        int volatileData = this.volatileData.getCounter();\r\n        System.out.println(&quot;Volatile Data:&quot;+volatileData);\r\n        this.volatileData.increase();\r\n        volatileData = this.volatileData.getCounter();\r\n        System.out.println(&quot;Volatile Data after increase:&quot;+volatileData);\r\n    }\r\n}\r\n```\r\n\r\n\r\nOutput:\r\n```\r\nVolatile Data:0\r\nVolatile Data:0\r\nVolatile Data after increase:1\r\nVolatile Data after increase:2\r\n```","title":"Why the volatile keyword is not effective in this code?","body":"<p>I have used volatile keyword in the below mentioned block of code, expecting that it's updated value will always be read from memory. But the output is not as expected. Please help me to understand what is wrong here.</p>\n<pre><code>public class Multithread5 {\n    public static void main(String[] args){\n        VolatileData data = new VolatileData();\n        VolatileDataReader thread1 = new VolatileDataReader(data);\n        VolatileDataReader thread2 = new VolatileDataReader(data);\n        thread1.start();\n        thread2.start();\n    }\n}\nclass VolatileData{\n    private volatile int counter = 0;\n\n    public void increase(){\n        this.counter++;\n    }\n\n    public int getCounter(){\n        return this.counter;\n    }\n}\n\nclass VolatileDataReader extends Thread{\n    private VolatileData volatileData;\n\n    VolatileDataReader(VolatileData volatileData){\n        this.volatileData = volatileData;\n    }\n\n    public void run(){\n        int volatileData = this.volatileData.getCounter();\n        System.out.println(&quot;Volatile Data:&quot;+volatileData);\n        this.volatileData.increase();\n        volatileData = this.volatileData.getCounter();\n        System.out.println(&quot;Volatile Data after increase:&quot;+volatileData);\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>Volatile Data:0\nVolatile Data:0\nVolatile Data after increase:1\nVolatile Data after increase:2\n</code></pre>\n"},{"tags":["java","firebase","firebase-realtime-database"],"answers":[{"tags":[],"owner":{"account_id":18064369,"reputation":48565,"user_id":13130697,"display_name":"Dharmaraj"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1643655438,"creation_date":1643655438,"answer_id":70931379,"question_id":70929986,"body_markdown":"The query is expecting `userName` to be a direct field in username node and because userId is not same for everyone you cannot specify a neste path. If you remove the username node and restructure the DB as shown below, the same query should work perfectly:\r\n```\r\nUsers\r\n  | // remove [username] node from here\r\n  |-userId  // userId from Firebase Auth\r\n    |\r\n    |-userName\r\n    |-otherFields\r\n\r\n```\r\n\r\nIf you want to retain existing structure then you can just check if a node with given username exists:\r\n```\r\nDatabaseReference reference = FirebaseDatabase.getInstance().getReference(&quot;Users&quot;).child(&quot;userName&quot;);\r\n```","title":"How to check if username already exists in firebase Realtime Database","body":"<p>The query is expecting <code>userName</code> to be a direct field in username node and because userId is not same for everyone you cannot specify a neste path. If you remove the username node and restructure the DB as shown below, the same query should work perfectly:</p>\n<pre><code>Users\n  | // remove [username] node from here\n  |-userId  // userId from Firebase Auth\n    |\n    |-userName\n    |-otherFields\n\n</code></pre>\n<p>If you want to retain existing structure then you can just check if a node with given username exists:</p>\n<pre><code>DatabaseReference reference = FirebaseDatabase.getInstance().getReference(&quot;Users&quot;).child(&quot;userName&quot;);\n</code></pre>\n"}],"owner":{"account_id":19885834,"reputation":173,"user_id":14568825,"display_name":"Aisha Kumari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":894,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70931379,"answer_count":1,"score":1,"last_activity_date":1643655438,"creation_date":1643648865,"question_id":70929986,"body_markdown":"I am trying to check were the users already exists with the same username here is example\r\n\r\n[![enter image description here][1]][1] \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lztmZ.png\r\n\r\n\r\nHere is my code,\r\n\r\n     DatabaseReference reference = FirebaseDatabase.getInstance().getReference(&quot;Users&quot;);\r\n     Query checkUser = reference.orderByChild(&quot;userName&quot;).equalTo(userEnteredUserName);\r\n\r\nbut without the uid it works perfect, but whenever there is uid unable to check the username, Is there is anyway to check username ","title":"How to check if username already exists in firebase Realtime Database","body":"<p>I am trying to check were the users already exists with the same username here is example</p>\n<p><a href=\"https://i.stack.imgur.com/lztmZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lztmZ.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is my code,</p>\n<pre><code> DatabaseReference reference = FirebaseDatabase.getInstance().getReference(&quot;Users&quot;);\n Query checkUser = reference.orderByChild(&quot;userName&quot;).equalTo(userEnteredUserName);\n</code></pre>\n<p>but without the uid it works perfect, but whenever there is uid unable to check the username, Is there is anyway to check username</p>\n"},{"tags":["java","json","utf-8","resttemplate","control-characters"],"comments":[{"owner":{"account_id":740820,"reputation":47963,"user_id":2353911,"accept_rate":100,"display_name":"Mena"},"score":0,"creation_date":1479733798,"post_id":40720996,"comment_id":68668745,"body_markdown":"Not answering your actual issue, but you probably want to upgrade Jackson to a more recent version. It hasn&#39;t been on codehaus for a while now.","body":"Not answering your actual issue, but you probably want to upgrade Jackson to a more recent version. It hasn&#39;t been on codehaus for a while now."},{"owner":{"account_id":740820,"reputation":47963,"user_id":2353911,"accept_rate":100,"display_name":"Mena"},"score":0,"creation_date":1479733850,"post_id":40720996,"comment_id":68668781,"body_markdown":"Also, you may want to share a minimal example of the payload failing parsing.","body":"Also, you may want to share a minimal example of the payload failing parsing."},{"owner":{"account_id":1441052,"reputation":944,"user_id":1642148,"accept_rate":71,"display_name":"RahulArackal"},"score":0,"creation_date":1479734995,"post_id":40720996,"comment_id":68669543,"body_markdown":"@Mena I have updated my problem with code and sample input. And my manager may oppose changing to other jackson libraries. But all inputs are welcome :)","body":"@Mena I have updated my problem with code and sample input. And my manager may oppose changing to other jackson libraries. But all inputs are welcome :)"},{"owner":{"account_id":740820,"reputation":47963,"user_id":2353911,"accept_rate":100,"display_name":"Mena"},"score":0,"creation_date":1479735384,"post_id":40720996,"comment_id":68669806,"body_markdown":"Your JSON payload seems invalid as is. To use newlines or line feeds, you can escape the value, e.g. with `%0A` or `\\n` etc.","body":"Your JSON payload seems invalid as is. To use newlines or line feeds, you can escape the value, e.g. with <code>%0A</code> or <code>\\n</code> etc."},{"owner":{"account_id":1441052,"reputation":944,"user_id":1642148,"accept_rate":71,"display_name":"RahulArackal"},"score":0,"creation_date":1479738839,"post_id":40720996,"comment_id":68672150,"body_markdown":"I have tried to replace all &quot;\\\\r\\\\n&quot; with &quot;\\n&quot;, but it doesn&#39;t seem to work. And also the json is from a third party and i receive it as given above.","body":"I have tried to replace all &quot;\\\\r\\\\n&quot; with &quot;\\n&quot;, but it doesn&#39;t seem to work. And also the json is from a third party and i receive it as given above."}],"owner":{"account_id":1441052,"reputation":944,"user_id":1642148,"accept_rate":71,"display_name":"RahulArackal"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7499,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1643655280,"creation_date":1479733733,"question_id":40720996,"body_markdown":"I am trying to parse a JSON which is obtained from rest service via `RestTemplate`. \r\n\r\nWhen I try to parse a JSON which contains a ***newline*** or ***tab character***, it is throwing the following exception: \r\n\t\r\n    org.codehaus.jackson.JsonParseException: Illegal unquoted character ((CTRL-CHAR, code 13)): has to be escaped using backslash to be included in string value\r\n    at [Source: java.io.StringReader@a8f373; line: 1, column: 663]\r\n    at org.codehaus.jackson.JsonParser._constructError(JsonParser.java:1433)\r\n    at org.codehaus.jackson.impl.JsonParserMinimalBase._reportError(JsonParserMinimalBase.java:521)\r\n    at org.codehaus.jackson.impl.JsonParserMinimalBase._throwUnquotedSpace(JsonParserMinimalBase.java:482)\r\n    at org.codehaus.jackson.impl.ReaderBasedParser._skipString(ReaderBasedParser.java:1416)\r\n    at org.codehaus.jackson.impl.ReaderBasedParser.nextToken(ReaderBasedParser.java:366)\r\n    at com.demo.myapp.JsonParsingUtil.parseJson(JsonParsingUtil.java:67)  at java.lang.Thread.run(Thread.java:745)\r\n\r\nThe code is working fine in my local server [**Windows OS, JBoss server**].\r\n\r\nWhen I deploy the code in the [**Linux OS, JBoss server**], this parsing exception pops out.\r\n\t\r\n\t\r\nThe issue scenario is:\r\n\r\n - User enters some data via webapp in Windows environment. \r\n - I access the data via REST service\r\n - Data is parsed to retrieve some information and new JSON created with the info and passes to some other team.\r\n\t\r\nI am using `JsonParser` to parse the JSON, and I have set the features as:\r\n\r\n\tJsonFactory jsonFactory = new MappingJsonFactory();\r\n\tJsonParser jsonParser = jsonFactory.createJsonParser(jsonString);\r\n    jsonParser.configure(JsonParser.Feature.ALLOW_BACKSLASH_ESCAPING_ANY_CHARACTER, true);\r\n    jsonParser.configure(JsonParser.Feature.ALLOW_UNQUOTED_CONTROL_CHARS, true);\r\n\r\n\t\r\nI have also tried like this:\r\n\r\n    byte[] byteArray = jsonData.getBody().getBytes(); \r\n    ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream(byteArray.length); \r\n    byteArrayOutputStream.write(byteArray, 0, byteArray.length); \r\n    jsonString = new String(byteArray, Charset.forName(&quot;UTF-8&quot;));\r\n\r\n\r\nI have set UTF-8 encoding in `RestTemplate` object, which is used in obtaining the JSON from the REST service:\r\n\r\n    RestTemplate restTemplate = new RestTemplate();\r\n    restTemplate.getMessageConverters().add(0, new StringHttpMessageConverter(Charset.forName(&quot;UTF-8&quot;)));\r\n\r\n\r\nSince my JSON contains a lot of `{key:values}` using `JsonGenerator` is not a viable option. I hope somebody can show me the right direction to solve the issue.\r\n\r\nPlease find the code on which I&#39;m working :\r\n\r\n\t\t\tJsonFactory jsonFactory = new MappingJsonFactory();\r\n\t\t\tJsonParser jsonParser = jsonFactory.createJsonParser(jsonString);\r\n\t\t\tjsonParser.configure(JsonParser.Feature.ALLOW_BACKSLASH_ESCAPING_ANY_CHARACTER, true);\r\n\t\t\tjsonParser.configure(JsonParser.Feature.ALLOW_UNQUOTED_CONTROL_CHARS, true);\r\n\t\t\twhile (!jsonParser.isClosed()) {\r\n\t\t\t\tJsonToken jsonToken = jsonParser.nextToken();\r\n\t\t\t\tif (JsonToken.FIELD_NAME.equals(jsonToken)) {\r\n\t\t\t\t\tString fieldName = jsonParser.getCurrentName();\r\n\t\t\t\t\tif (fieldName.equals(&quot;Comments&quot;)) {\r\n\t\t\t\t\t\tString code = jsonParser.nextTextValue();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\nAnd `jsonString` obtaining from REST template is:\r\n\r\n    {&quot;Comments&quot;:&quot;Approved.\r\n    \t\t\tPlease proceed&quot;}\r\nwhich is \r\n\r\n&gt; Approved. NewLine Char Please proceed\r\n\r\n\r\nNOTE: I am using Codehaus `jackson-1.9.13` library for `JsonParsing`.","title":"JsonParsing : UTF-8 encoding : JsonParseException: Illegal unquoted character","body":"<p>I am trying to parse a JSON which is obtained from rest service via <code>RestTemplate</code>.</p>\n<p>When I try to parse a JSON which contains a <em><strong>newline</strong></em> or <em><strong>tab character</strong></em>, it is throwing the following exception:</p>\n<pre><code>org.codehaus.jackson.JsonParseException: Illegal unquoted character ((CTRL-CHAR, code 13)): has to be escaped using backslash to be included in string value\nat [Source: java.io.StringReader@a8f373; line: 1, column: 663]\nat org.codehaus.jackson.JsonParser._constructError(JsonParser.java:1433)\nat org.codehaus.jackson.impl.JsonParserMinimalBase._reportError(JsonParserMinimalBase.java:521)\nat org.codehaus.jackson.impl.JsonParserMinimalBase._throwUnquotedSpace(JsonParserMinimalBase.java:482)\nat org.codehaus.jackson.impl.ReaderBasedParser._skipString(ReaderBasedParser.java:1416)\nat org.codehaus.jackson.impl.ReaderBasedParser.nextToken(ReaderBasedParser.java:366)\nat com.demo.myapp.JsonParsingUtil.parseJson(JsonParsingUtil.java:67)  at java.lang.Thread.run(Thread.java:745)\n</code></pre>\n<p>The code is working fine in my local server [<strong>Windows OS, JBoss server</strong>].</p>\n<p>When I deploy the code in the [<strong>Linux OS, JBoss server</strong>], this parsing exception pops out.</p>\n<p>The issue scenario is:</p>\n<ul>\n<li>User enters some data via webapp in Windows environment.</li>\n<li>I access the data via REST service</li>\n<li>Data is parsed to retrieve some information and new JSON created with the info and passes to some other team.</li>\n</ul>\n<p>I am using <code>JsonParser</code> to parse the JSON, and I have set the features as:</p>\n<pre><code>JsonFactory jsonFactory = new MappingJsonFactory();\nJsonParser jsonParser = jsonFactory.createJsonParser(jsonString);\njsonParser.configure(JsonParser.Feature.ALLOW_BACKSLASH_ESCAPING_ANY_CHARACTER, true);\njsonParser.configure(JsonParser.Feature.ALLOW_UNQUOTED_CONTROL_CHARS, true);\n</code></pre>\n<p>I have also tried like this:</p>\n<pre><code>byte[] byteArray = jsonData.getBody().getBytes(); \nByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream(byteArray.length); \nbyteArrayOutputStream.write(byteArray, 0, byteArray.length); \njsonString = new String(byteArray, Charset.forName(&quot;UTF-8&quot;));\n</code></pre>\n<p>I have set UTF-8 encoding in <code>RestTemplate</code> object, which is used in obtaining the JSON from the REST service:</p>\n<pre><code>RestTemplate restTemplate = new RestTemplate();\nrestTemplate.getMessageConverters().add(0, new StringHttpMessageConverter(Charset.forName(&quot;UTF-8&quot;)));\n</code></pre>\n<p>Since my JSON contains a lot of <code>{key:values}</code> using <code>JsonGenerator</code> is not a viable option. I hope somebody can show me the right direction to solve the issue.</p>\n<p>Please find the code on which I'm working :</p>\n<pre><code>        JsonFactory jsonFactory = new MappingJsonFactory();\n        JsonParser jsonParser = jsonFactory.createJsonParser(jsonString);\n        jsonParser.configure(JsonParser.Feature.ALLOW_BACKSLASH_ESCAPING_ANY_CHARACTER, true);\n        jsonParser.configure(JsonParser.Feature.ALLOW_UNQUOTED_CONTROL_CHARS, true);\n        while (!jsonParser.isClosed()) {\n            JsonToken jsonToken = jsonParser.nextToken();\n            if (JsonToken.FIELD_NAME.equals(jsonToken)) {\n                String fieldName = jsonParser.getCurrentName();\n                if (fieldName.equals(&quot;Comments&quot;)) {\n                    String code = jsonParser.nextTextValue();\n                }\n            }\n        }\n</code></pre>\n<p>And <code>jsonString</code> obtaining from REST template is:</p>\n<pre><code>{&quot;Comments&quot;:&quot;Approved.\n            Please proceed&quot;}\n</code></pre>\n<p>which is</p>\n<blockquote>\n<p>Approved. NewLine Char Please proceed</p>\n</blockquote>\n<p>NOTE: I am using Codehaus <code>jackson-1.9.13</code> library for <code>JsonParsing</code>.</p>\n"},{"tags":["java","list"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":1,"creation_date":1643641566,"post_id":70928151,"comment_id":125387468,"body_markdown":"In your last line, you&#39;re creating a list, adding a bunch of stuff into it, and then not keeping any reference to it. What list are you trying to add stuff to?","body":"In your last line, you&#39;re creating a list, adding a bunch of stuff into it, and then not keeping any reference to it. What list are you trying to add stuff to?"},{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":0,"creation_date":1643641744,"post_id":70928151,"comment_id":125387531,"body_markdown":"Do you simply want to add all items from `emplyeeeListToBeAdded` to the `oldEmpList`? If so, just do `oldEmpList.addAll(employeeListToBeAdded)`. &quot;_Please note that I have to do some stream, map and filter on my old list._&quot; - then you will have to clarify what you are trying to do.","body":"Do you simply want to add all items from <code>emplyeeeListToBeAdded</code> to the <code>oldEmpList</code>? If so, just do <code>oldEmpList.addAll(employeeListToBeAdded)</code>. &quot;<i>Please note that I have to do some stream, map and filter on my old list.</i>&quot; - then you will have to clarify what you are trying to do."},{"owner":{"account_id":3788026,"reputation":83,"user_id":3145315,"display_name":"Robi"},"score":0,"creation_date":1643642061,"post_id":70928151,"comment_id":125387668,"body_markdown":"Question has been updated, that was a typo.","body":"Question has been updated, that was a typo."},{"owner":{"account_id":3788026,"reputation":83,"user_id":3145315,"display_name":"Robi"},"score":0,"creation_date":1643646997,"post_id":70928151,"comment_id":125389845,"body_markdown":"@maloomeister basically oldEmpList is also a list of another list. Therefore I a have to stream and filter the list to update/add items on this sub list. Let assume department is a list. Under each department I have employees and so an employee list. Now I have to filter only for &quot;Accounts&quot; department to update/add employees.","body":"@maloomeister basically oldEmpList is also a list of another list. Therefore I a have to stream and filter the list to update/add items on this sub list. Let assume department is a list. Under each department I have employees and so an employee list. Now I have to filter only for &quot;Accounts&quot; department to update/add employees."}],"answers":[{"tags":[],"owner":{"account_id":22894765,"reputation":138,"user_id":17034442,"display_name":"Myrto Pirli"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1643641757,"creation_date":1643641757,"answer_id":70928227,"question_id":70928151,"body_markdown":"OK here\r\n\r\n    oldEmpList.stream().collect(Collectors.toList()).addAll(new ArrayList&lt;&gt;(oldEmpList));\r\n\r\nyou are essentially adding oldEmpList to oldEmpList. Is this a typo in your question, or is this how you&#39;ve accidentally written your code? Because if it&#39;s the second, you have your answer right there.","title":"How to update existing list","body":"<p>OK here</p>\n<pre><code>oldEmpList.stream().collect(Collectors.toList()).addAll(new ArrayList&lt;&gt;(oldEmpList));\n</code></pre>\n<p>you are essentially adding oldEmpList to oldEmpList. Is this a typo in your question, or is this how you've accidentally written your code? Because if it's the second, you have your answer right there.</p>\n"}],"owner":{"account_id":3788026,"reputation":83,"user_id":3145315,"display_name":"Robi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":361,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1643655265,"creation_date":1643641453,"question_id":70928151,"body_markdown":"Revised question:\r\n\r\nsuppose I have an obect emp and inside this object emp I also have a list for salary. Now I have to update the salary list inside this object emp with another list of salary.\r\n Meaning that I have to add all new salary items inside the old emp salary list. My code is as below:\r\n\r\n     \r\n         emp.getResults().stream()\r\n                .map(someanotherObject::Salaries)\r\n                .flatMap(List::stream).collect(Collectors.toList())\r\n                .stream()\r\n                .filter(emp -&gt; emp.empId == 5005).collect(Collectors.toList())\r\n                .addAll(newSalaryListToBeAdded);\r\n\r\nIf I run this code, there were no issue but the salary list inside the emp object do not updated. \r\n\r\n\r\n----------------------------\r\n\r\nI am trying to add a new item on my existing list but could not. While I debug, it shows the return as true but eventually the new items did not add into the list.\r\n\r\nMy sample code are as below:\r\n \r\n Employee employee1 = new Employee(5001,&quot;BOB&quot;,financeDept.getDepartment_name());\r\nEmployee employee2 = new Employee(5002,&quot;SAM&quot;,financeDept.getDepartment_name());\r\n  \r\nEmployee employee3 = new Employee(5003,&quot;SAM&quot;,hrDept.getDepartment_name());\r\n\r\nEmployee empToBeAdded = new Employee(5007,&quot;TOM&quot;,hrDept.getDepartment_name());\r\n\r\nList&lt;Employee&gt; oldEmpList = new ArrayList&lt;&gt;(Arrays.asList(employee1,employee2, employee3));\r\n\r\nList&lt;Employee&gt; employeeListToBeAdded = new ArrayList&lt;&gt;();\r\nemployeeListToBeAdded.add(empToBeAdded);\r\n\r\noldEmpList.stream().collect(Collectors.toList()).addAll(new ArrayList&lt;&gt;(employeeListToBeAdded)); \r\n//This is not adding the new item into the old list.\r\n\r\nPlease note that I have to do some stream, map and filter on my old list.\r\n\r\nTherefore question would be how to add new list item on an old list by doing some stream, map and filter the old list?\r\n\r\n","title":"How to update existing list","body":"<p>Revised question:</p>\n<p>suppose I have an obect emp and inside this object emp I also have a list for salary. Now I have to update the salary list inside this object emp with another list of salary.\nMeaning that I have to add all new salary items inside the old emp salary list. My code is as below:</p>\n<pre><code>     emp.getResults().stream()\n            .map(someanotherObject::Salaries)\n            .flatMap(List::stream).collect(Collectors.toList())\n            .stream()\n            .filter(emp -&gt; emp.empId == 5005).collect(Collectors.toList())\n            .addAll(newSalaryListToBeAdded);\n</code></pre>\n<p>If I run this code, there were no issue but the salary list inside the emp object do not updated.</p>\n<hr />\n<p>I am trying to add a new item on my existing list but could not. While I debug, it shows the return as true but eventually the new items did not add into the list.</p>\n<p>My sample code are as below:</p>\n<p>Employee employee1 = new Employee(5001,&quot;BOB&quot;,financeDept.getDepartment_name());\nEmployee employee2 = new Employee(5002,&quot;SAM&quot;,financeDept.getDepartment_name());</p>\n<p>Employee employee3 = new Employee(5003,&quot;SAM&quot;,hrDept.getDepartment_name());</p>\n<p>Employee empToBeAdded = new Employee(5007,&quot;TOM&quot;,hrDept.getDepartment_name());</p>\n<p>List oldEmpList = new ArrayList&lt;&gt;(Arrays.asList(employee1,employee2, employee3));</p>\n<p>List employeeListToBeAdded = new ArrayList&lt;&gt;();\nemployeeListToBeAdded.add(empToBeAdded);</p>\n<p>oldEmpList.stream().collect(Collectors.toList()).addAll(new ArrayList&lt;&gt;(employeeListToBeAdded));\n//This is not adding the new item into the old list.</p>\n<p>Please note that I have to do some stream, map and filter on my old list.</p>\n<p>Therefore question would be how to add new list item on an old list by doing some stream, map and filter the old list?</p>\n"},{"tags":["java","php","security"],"answers":[{"tags":[],"owner":{"account_id":9222120,"reputation":908,"user_id":6851121,"display_name":"blr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1474597154,"creation_date":1474597154,"answer_id":39651573,"question_id":39651486,"body_markdown":"Netflix doesn&#39;t depend on the `logon_count` but on the `requesting_video_count` (or something similar). So even if the account cookies are shared, it wouldn&#39;t matter. You can log on from as many devices as you like, you can just view videos simultaneously from up to two devices. ","title":"Limit simultaneously logged on user devices count","body":"<p>Netflix doesn't depend on the <code>logon_count</code> but on the <code>requesting_video_count</code> (or something similar). So even if the account cookies are shared, it wouldn't matter. You can log on from as many devices as you like, you can just view videos simultaneously from up to two devices. </p>\n"},{"tags":[],"owner":{"account_id":2113493,"reputation":11858,"user_id":1878262,"display_name":"Sherif"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1474599586,"creation_date":1474597680,"answer_id":39651639,"question_id":39651486,"body_markdown":"Regardless of how Netflix implements this solution, let&#39;s consider the general solution to such a problem more abstractly.\r\n\r\nFirst, you need to be able to separate between what you call a *session*, which is primarily just used to retain user-application state, and the mechanism that authenticates the user when they are playing a video. Of course, if the server just correlates the session cookie that&#39;s supplied by the client directly to a device this entire solution falls apart, because as you deduced we could just easily copy the cookie to another client.\r\n\r\nThere are two requirements to solve this problem in a more general way. \r\n\r\n1. When a video is being played the server must have a way to authenticate the client\r\n2. The authentication mechanism must not be re-usable by any other client\r\n\r\nLogging into Netflix itself is moot, because that&#39;s an application state. It&#39;s an entirely different problem to solve. You already know how to solve that problem, clearly. The authentication of the user when they actually request to play a video is the other problem you&#39;re asking about.\r\n\r\nThis requires something that *cannot* be reusable by multiple clients, as such it could be implemented as a [nonce](https://en.wikipedia.org/wiki/Cryptographic_nonce). This is a cryptographic token that can only be used *once*.\r\n\r\nImagine the user downloads the video in chunks (30 second buffers). With each request to the server to download one chunk of the video, the server expects a token from the client (this is the nonce that cannot be re-used), and verifies it on the server-side. If it checks out, it sends the client back the chunk of video along with a *new token*. This can continue to happen throughout the duration of the video. Such that if another client were to copy this token and attempt sending it to the server, the server will not accept any future requests with that same token and in theory this prevents multiple devices from accessing multiple videos (*from the same account*) at the same time.\r\n\r\n# A practical, but *contrived* example\r\n\r\nTo demonstrate, let&#39;s imagine the user logs into your application like so.\r\n\r\n    session_start();\r\n    if ($user-&gt;authenticate($username, $passwrod)) {\r\n        $_SESSION[&#39;user_id&#39;] = $user-&gt;id;\r\n    }\r\n\r\nThis gives your application a way to retain the client&#39;s state between HTTP requests, which is fine. However, when the user asks to play a video, something else must happen to generate the nonce.\r\n\r\n\r\n    $nonce = base64_encode(random_bytes(128));\r\n    $_SESSION[&quot;nonce&quot;][$nonce] = false;\r\n    echo json_encode([&quot;buffer&quot; =&gt; $videoBufferData, &quot;token&quot; =&gt; $nonce]);\r\n\r\nLet&#39;s just imagine for a second, that this code sends some API response that provides the user with the 30 second video buffer as a payload and the token in a JSON response. When the user requests the next 30 second buffer, it must match the token stored in the session.\r\n\r\n    if (empty($_SESSION[&quot;nonce&quot;][$_POST[&quot;token&quot;]])) {\r\n        $_SESSION[&quot;nonce&quot;][$_POST[&quot;token&quot;]] = true; // invalidate the current nonce\r\n        // generate a new nonce\r\n        $nonce = base64_encode(random_bytes(128));\r\n        $_SESSION[&quot;nonce&quot;][$nonce] = false;\r\n    }\r\n\r\nNow each time we accept a nonce that hasn&#39;t yet been used, we also generate a new nonce for the next play load. Even if the user copies the session cookie to another client, they will never be able to play videos concurrently this way. Because once one device uses a token, the other device with the same session still cannot re-use that same token on the next request **and** it wouldn&#39;t be able to receive the *new* token for continuing to play the video. So they will impede upon one another.","title":"Limit simultaneously logged on user devices count","body":"<p>Regardless of how Netflix implements this solution, let's consider the general solution to such a problem more abstractly.</p>\n\n<p>First, you need to be able to separate between what you call a <em>session</em>, which is primarily just used to retain user-application state, and the mechanism that authenticates the user when they are playing a video. Of course, if the server just correlates the session cookie that's supplied by the client directly to a device this entire solution falls apart, because as you deduced we could just easily copy the cookie to another client.</p>\n\n<p>There are two requirements to solve this problem in a more general way. </p>\n\n<ol>\n<li>When a video is being played the server must have a way to authenticate the client</li>\n<li>The authentication mechanism must not be re-usable by any other client</li>\n</ol>\n\n<p>Logging into Netflix itself is moot, because that's an application state. It's an entirely different problem to solve. You already know how to solve that problem, clearly. The authentication of the user when they actually request to play a video is the other problem you're asking about.</p>\n\n<p>This requires something that <em>cannot</em> be reusable by multiple clients, as such it could be implemented as a <a href=\"https://en.wikipedia.org/wiki/Cryptographic_nonce\" rel=\"nofollow\">nonce</a>. This is a cryptographic token that can only be used <em>once</em>.</p>\n\n<p>Imagine the user downloads the video in chunks (30 second buffers). With each request to the server to download one chunk of the video, the server expects a token from the client (this is the nonce that cannot be re-used), and verifies it on the server-side. If it checks out, it sends the client back the chunk of video along with a <em>new token</em>. This can continue to happen throughout the duration of the video. Such that if another client were to copy this token and attempt sending it to the server, the server will not accept any future requests with that same token and in theory this prevents multiple devices from accessing multiple videos (<em>from the same account</em>) at the same time.</p>\n\n<h1>A practical, but <em>contrived</em> example</h1>\n\n<p>To demonstrate, let's imagine the user logs into your application like so.</p>\n\n<pre><code>session_start();\nif ($user-&gt;authenticate($username, $passwrod)) {\n    $_SESSION['user_id'] = $user-&gt;id;\n}\n</code></pre>\n\n<p>This gives your application a way to retain the client's state between HTTP requests, which is fine. However, when the user asks to play a video, something else must happen to generate the nonce.</p>\n\n<pre><code>$nonce = base64_encode(random_bytes(128));\n$_SESSION[\"nonce\"][$nonce] = false;\necho json_encode([\"buffer\" =&gt; $videoBufferData, \"token\" =&gt; $nonce]);\n</code></pre>\n\n<p>Let's just imagine for a second, that this code sends some API response that provides the user with the 30 second video buffer as a payload and the token in a JSON response. When the user requests the next 30 second buffer, it must match the token stored in the session.</p>\n\n<pre><code>if (empty($_SESSION[\"nonce\"][$_POST[\"token\"]])) {\n    $_SESSION[\"nonce\"][$_POST[\"token\"]] = true; // invalidate the current nonce\n    // generate a new nonce\n    $nonce = base64_encode(random_bytes(128));\n    $_SESSION[\"nonce\"][$nonce] = false;\n}\n</code></pre>\n\n<p>Now each time we accept a nonce that hasn't yet been used, we also generate a new nonce for the next play load. Even if the user copies the session cookie to another client, they will never be able to play videos concurrently this way. Because once one device uses a token, the other device with the same session still cannot re-use that same token on the next request <strong>and</strong> it wouldn't be able to receive the <em>new</em> token for continuing to play the video. So they will impede upon one another.</p>\n"}],"owner":{"account_id":5075885,"reputation":181,"user_id":4073248,"accept_rate":0,"display_name":"Ralf Zhang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":879,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":2,"score":8,"last_activity_date":1643655111,"creation_date":1474596459,"question_id":39651486,"body_markdown":"Question. \r\n\r\nHow do sites, for example Netflix, implement features such as &quot;only 2 devices is allowed to log on at the same time&quot;?  \r\n\r\nMy understanding.\r\n\r\nUser table in the database would have a &quot;logon_count&quot; column. Session table records session id, username, last action and so on.\r\n\r\nmultiple layers of checks to match session cookie or logon count or clean out idled session will be performed based on what user can provide upon access the URL.\r\n\r\nBut.\r\n\r\nSay a user wants to beat the validation mechanism. Login as normal, somehow record the valid cookie and distribute/replicate it on multiple devices. Free Netflix for everyone.\r\n\r\nWhen source ip is not reliable and HTTP headers can be forged, how can the server side code tell whether each session is from a unique device and thus enforce the concurrent logon restriction?\r\n\r\nCheers,\r\nRalph\r\n \r\n\r\n","title":"Limit simultaneously logged on user devices count","body":"<p>Question. </p>\n\n<p>How do sites, for example Netflix, implement features such as \"only 2 devices is allowed to log on at the same time\"?  </p>\n\n<p>My understanding.</p>\n\n<p>User table in the database would have a \"logon_count\" column. Session table records session id, username, last action and so on.</p>\n\n<p>multiple layers of checks to match session cookie or logon count or clean out idled session will be performed based on what user can provide upon access the URL.</p>\n\n<p>But.</p>\n\n<p>Say a user wants to beat the validation mechanism. Login as normal, somehow record the valid cookie and distribute/replicate it on multiple devices. Free Netflix for everyone.</p>\n\n<p>When source ip is not reliable and HTTP headers can be forged, how can the server side code tell whether each session is from a unique device and thus enforce the concurrent logon restriction?</p>\n\n<p>Cheers,\nRalph</p>\n"},{"tags":["java","json","spring","jackson-databind"],"comments":[{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":1,"creation_date":1643656207,"post_id":70931286,"comment_id":125393551,"body_markdown":"Hard to say. Sure, there is not an &quot;old version&quot; (only XML) of `ServiceError` on the classpath ?","body":"Hard to say. Sure, there is not an &quot;old version&quot; (only XML) of <code>ServiceError</code> on the classpath ?"},{"owner":{"account_id":19179579,"reputation":197,"user_id":14011616,"display_name":"zaidabuhijleh"},"score":0,"creation_date":1643656375,"post_id":70931286,"comment_id":125393618,"body_markdown":"@PeterMmm Im not sure, but when I do echo %CLASSPATH% in the command prompt I dont see a reference to ServiceError","body":"@PeterMmm Im not sure, but when I do echo %CLASSPATH% in the command prompt I dont see a reference to ServiceError"},{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1643656878,"post_id":70931286,"comment_id":125393825,"body_markdown":"I guess it is `&lt;packaging&gt;jar&lt;/packaging&gt;`, so all is in one fat JAR. Maybe there are more than one `ServiceError` in ?","body":"I guess it is <code>&lt;packaging&gt;jar&lt;&#47;packaging&gt;</code>, so all is in one fat JAR. Maybe there are more than one <code>ServiceError</code> in ?"},{"owner":{"account_id":19179579,"reputation":197,"user_id":14011616,"display_name":"zaidabuhijleh"},"score":0,"creation_date":1643657015,"post_id":70931286,"comment_id":125393886,"body_markdown":"@PeterMmm I am publishing the jar on an internal maven repository and referencing it through that, so Im not sure if its possible to have multiple ServiceErrors. Even in production on a clean VM the same issue reproduces.","body":"@PeterMmm I am publishing the jar on an internal maven repository and referencing it through that, so Im not sure if its possible to have multiple ServiceErrors. Even in production on a clean VM the same issue reproduces."},{"owner":{"account_id":19179579,"reputation":197,"user_id":14011616,"display_name":"zaidabuhijleh"},"score":0,"creation_date":1643658540,"post_id":70931286,"comment_id":125394437,"body_markdown":"@PeterMmm I found a line of code that was explicitly setting it to accept xml so I was able to figure it out. Thanks for your help though!","body":"@PeterMmm I found a line of code that was explicitly setting it to accept xml so I was able to figure it out. Thanks for your help though!"}],"owner":{"account_id":19179579,"reputation":197,"user_id":14011616,"display_name":"zaidabuhijleh"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":161,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643654981,"creation_date":1643654981,"question_id":70931286,"body_markdown":"I have a REST API (implemented with spring boot) that should be able to handle serving both XML and JSON. All of my data models are able to be returned as both XML and JSON, but one of them only returns XML, even when I specify &quot;Accept application/json&quot; in the headers in postman.\r\n\r\nThis is an example of one of the ones that works:\r\n[![Document model object works in XML and JSON][1]][1]\r\n\r\nHere is the one that doesnt:\r\n[![ServiceError model object only returns in XML][2]][2]\r\n\r\nAs you can see both of them share the same accessors and tags for jackson, yet they have different behaviors. Any idea as to why this is happening?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zK490.png\r\n  [2]: https://i.stack.imgur.com/E3iz4.png","title":"How to serve JSON object from Spring Boot REST API","body":"<p>I have a REST API (implemented with spring boot) that should be able to handle serving both XML and JSON. All of my data models are able to be returned as both XML and JSON, but one of them only returns XML, even when I specify &quot;Accept application/json&quot; in the headers in postman.</p>\n<p>This is an example of one of the ones that works:\n<a href=\"https://i.stack.imgur.com/zK490.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zK490.png\" alt=\"Document model object works in XML and JSON\" /></a></p>\n<p>Here is the one that doesnt:\n<a href=\"https://i.stack.imgur.com/E3iz4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/E3iz4.png\" alt=\"ServiceError model object only returns in XML\" /></a></p>\n<p>As you can see both of them share the same accessors and tags for jackson, yet they have different behaviors. Any idea as to why this is happening?</p>\n"},{"tags":["java","concurrentmodification","enum-map"],"answers":[{"tags":[],"owner":{"account_id":2719313,"reputation":15631,"user_id":2345933,"accept_rate":84,"display_name":"Adam Siemion"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1390304686,"creation_date":1390304686,"answer_id":21257171,"question_id":21257104,"body_markdown":"Straight from the [JavaDoc][1]:\r\n\r\n&gt; Like most collection implementations EnumMap is not synchronized. If multiple threads access an enum map concurrently, and at least one of the threads modifies the map, it should be synchronized externally. This is typically accomplished by synchronizing on some object that naturally encapsulates the enum map. If no such object exists, the map should be &quot;wrapped&quot; using the `Collections.synchronizedMap(java.util.Map&lt;K, V&gt;)` method. This is best done at creation time, to prevent accidental unsynchronized access:\r\n\r\n     Map&lt;EnumKey, V&gt; m = Collections.synchronizedMap(new EnumMap&lt;EnumKey, V&gt;(...));\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/EnumMap.html","title":"EnumMap with concurrent put/get","body":"<p>Straight from the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/EnumMap.html\" rel=\"nofollow\">JavaDoc</a>:</p>\n\n<blockquote>\n  <p>Like most collection implementations EnumMap is not synchronized. If multiple threads access an enum map concurrently, and at least one of the threads modifies the map, it should be synchronized externally. This is typically accomplished by synchronizing on some object that naturally encapsulates the enum map. If no such object exists, the map should be \"wrapped\" using the <code>Collections.synchronizedMap(java.util.Map&lt;K, V&gt;)</code> method. This is best done at creation time, to prevent accidental unsynchronized access:</p>\n</blockquote>\n\n<pre><code> Map&lt;EnumKey, V&gt; m = Collections.synchronizedMap(new EnumMap&lt;EnumKey, V&gt;(...));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3659411,"reputation":40844,"user_id":3049628,"accept_rate":78,"display_name":"Tim B"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1390304774,"creation_date":1390304774,"answer_id":21257195,"question_id":21257104,"body_markdown":"The problem you have is that threads may not ever see the change made by another thread or they may see partially made changes. It&#39;s the same reason double-check-locking was broken before java 5 introduced volatile.\r\n\r\nIt might work if you made the EnumMap reference volatile but I&#39;m not 100% sure even then, you might need the internal references inside the EnumMap to be volatile and obviously you can&#39;t do that without doing your own version of EnumMap.\r\n","title":"EnumMap with concurrent put/get","body":"<p>The problem you have is that threads may not ever see the change made by another thread or they may see partially made changes. It's the same reason double-check-locking was broken before java 5 introduced volatile.</p>\n\n<p>It might work if you made the EnumMap reference volatile but I'm not 100% sure even then, you might need the internal references inside the EnumMap to be volatile and obviously you can't do that without doing your own version of EnumMap.</p>\n"},{"tags":[],"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1390305218,"creation_date":1390304784,"answer_id":21257200,"question_id":21257104,"body_markdown":"In general, using non-thread-safe classes across threads is fraught with many problems. In your particular case, assuming safe publication after all keys have had values assigned (such that `map.size() == TheEnum.values().length`), the only problem I can see from a quickish glance of [`EnumMap`&#39;s code in Java 1.6][1] is that a `put` may not _ever_ get reflected in another thread. But that&#39;s only true because of the internals of `EnumMap`&#39;s implementation, which could change in the future. In other words, future changes could break the use case in more dangerous, subtle ways.\r\n\r\nIt&#39;s possible to write correct code that still contains data races -- but it&#39;s tricky. Why not just wrap the instance in a `Collections.synchronizedMap`?\r\n\r\n\r\n  [1]: http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/EnumMap.java","title":"EnumMap with concurrent put/get","body":"<p>In general, using non-thread-safe classes across threads is fraught with many problems. In your particular case, assuming safe publication after all keys have had values assigned (such that <code>map.size() == TheEnum.values().length</code>), the only problem I can see from a quickish glance of <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/EnumMap.java\" rel=\"nofollow\"><code>EnumMap</code>'s code in Java 1.6</a> is that a <code>put</code> may not <em>ever</em> get reflected in another thread. But that's only true because of the internals of <code>EnumMap</code>'s implementation, which could change in the future. In other words, future changes could break the use case in more dangerous, subtle ways.</p>\n\n<p>It's possible to write correct code that still contains data races -- but it's tricky. Why not just wrap the instance in a <code>Collections.synchronizedMap</code>?</p>\n"}],"owner":{"account_id":1389532,"reputation":1953,"user_id":1320710,"accept_rate":67,"display_name":"Tadas S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7083,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":21257200,"answer_count":3,"score":3,"last_activity_date":1643654814,"creation_date":1390304488,"question_id":21257104,"body_markdown":"I am considering using `EnumMap` in a concurrent environment. However, the environment is atypical, here&#39;s why:\r\n\r\n - `EnumMap` is always full: there are no unmapped keys when the map is exposed to the concurrent environment\r\n - Only `put()` and `get()` operations will be used (no iterating over, no `remove()`, etc.)\r\n - It is completely acceptable if a call to `get()` does not reflect a call to `put()` immediately or orderly.\r\n\r\nFrom what I could gather, including relevant method source code, this seems to be a safe scenario (unlike if iterations were allowed). Is there anything I might have overlooked?","title":"EnumMap with concurrent put/get","body":"<p>I am considering using <code>EnumMap</code> in a concurrent environment. However, the environment is atypical, here's why:</p>\n<ul>\n<li><code>EnumMap</code> is always full: there are no unmapped keys when the map is exposed to the concurrent environment</li>\n<li>Only <code>put()</code> and <code>get()</code> operations will be used (no iterating over, no <code>remove()</code>, etc.)</li>\n<li>It is completely acceptable if a call to <code>get()</code> does not reflect a call to <code>put()</code> immediately or orderly.</li>\n</ul>\n<p>From what I could gather, including relevant method source code, this seems to be a safe scenario (unlike if iterations were allowed). Is there anything I might have overlooked?</p>\n"},{"tags":["java","linux","windows","runtime.exec","spaces"],"comments":[{"owner":{"account_id":5846644,"reputation":527,"user_id":4606579,"display_name":"Richard"},"score":1,"creation_date":1429124551,"post_id":29658589,"comment_id":47456865,"body_markdown":"I don&#39;t think you need to escape arguments when using Runtime.exec(). The parameters should get transferred directly to the target application without any modification.","body":"I don&#39;t think you need to escape arguments when using Runtime.exec(). The parameters should get transferred directly to the target application without any modification."},{"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"score":2,"creation_date":1429124554,"post_id":29658589,"comment_id":47456867,"body_markdown":"switch to `ProcessBuilder`","body":"switch to <code>ProcessBuilder</code>"},{"owner":{"account_id":346626,"reputation":10196,"user_id":680268,"accept_rate":66,"display_name":"Stealth Rabbi"},"score":0,"creation_date":1429125351,"post_id":29658589,"comment_id":47457341,"body_markdown":"Switching to ProcessBuilder with the same args list has no effect.","body":"Switching to ProcessBuilder with the same args list has no effect."},{"owner":{"account_id":476140,"reputation":35789,"user_id":886887,"accept_rate":94,"display_name":"Harry Johnston"},"score":0,"creation_date":1429239184,"post_id":29658589,"comment_id":47515806,"body_markdown":"@Richard: on Windows, there is no safe way to pass an array to a target application, unless you already know how the specific application parses its command line string.","body":"@Richard: on Windows, there is no safe way to pass an array to a target application, unless you already know how the specific application parses its command line string."}],"answers":[{"tags":[],"owner":{"account_id":3683419,"reputation":868,"user_id":3067799,"display_name":"Sebastian Brudzinski"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1643654575,"creation_date":1429126050,"answer_id":29659089,"question_id":29658589,"body_markdown":"I&#39;ve had identical issue with the application I&#39;ve been developing few weeks ago. Ultimately, I gave up on using raw ``Runtime.exec()`` ([pitfalls of Runtime.exec()][1]) and decided to use Apache Commons Exec library. It helped to solve various problems out of box and random hanging during execution. Its ``addArguments()`` method takes ``handleQuoting`` parameter, so I created a simple util method that checks the OS and I request handling quoting for Windows, while for Linux I pass false. If you want some working examples, there are some tutorials on the library website. You may also take a look at my class that uses commons-exec in the [Open LaTeX Studio][2] project.\r\n\r\n\r\n  [1]: http://www.javaworld.com/article/2071275/core-java/when-runtime-exec---won-t.html\r\n  [2]: https://github.com/sebbrudzinski/Open-LaTeX-Studio/blob/e34c40114d1fbae80afb3b0523f4d82b2e8e44de/OpenLaTeXStudio/Editor/src/main/java/latexstudio/editor/runtime/CommandLineExecutor.java","title":"Runtime exec with arguments containing spaces","body":"<p>I've had identical issue with the application I've been developing few weeks ago. Ultimately, I gave up on using raw <code>Runtime.exec()</code> (<a href=\"http://www.javaworld.com/article/2071275/core-java/when-runtime-exec---won-t.html\" rel=\"nofollow noreferrer\">pitfalls of Runtime.exec()</a>) and decided to use Apache Commons Exec library. It helped to solve various problems out of box and random hanging during execution. Its <code>addArguments()</code> method takes <code>handleQuoting</code> parameter, so I created a simple util method that checks the OS and I request handling quoting for Windows, while for Linux I pass false. If you want some working examples, there are some tutorials on the library website. You may also take a look at my class that uses commons-exec in the <a href=\"https://github.com/sebbrudzinski/Open-LaTeX-Studio/blob/e34c40114d1fbae80afb3b0523f4d82b2e8e44de/OpenLaTeXStudio/Editor/src/main/java/latexstudio/editor/runtime/CommandLineExecutor.java\" rel=\"nofollow noreferrer\">Open LaTeX Studio</a> project.</p>\n"},{"tags":[],"owner":{"account_id":346626,"reputation":10196,"user_id":680268,"accept_rate":66,"display_name":"Stealth Rabbi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1429126535,"creation_date":1429126535,"answer_id":29659256,"question_id":29658589,"body_markdown":"Looks like there isn&#39;t an issue at all with spaces in the args, at least testing in teh Windows environment. The issue was that xcopy was prompting /halting for a response to a question if the copy source was a file or directory. I assumed it was choking on the spaces, but apparenlty it was not. I was able to use the code I have in the question as is, and didn&#39;t have to use ProcessBuilder.","title":"Runtime exec with arguments containing spaces","body":"<p>Looks like there isn't an issue at all with spaces in the args, at least testing in teh Windows environment. The issue was that xcopy was prompting /halting for a response to a question if the copy source was a file or directory. I assumed it was choking on the spaces, but apparenlty it was not. I was able to use the code I have in the question as is, and didn't have to use ProcessBuilder.</p>\n"},{"tags":[],"owner":{"account_id":476140,"reputation":35789,"user_id":886887,"accept_rate":94,"display_name":"Harry Johnston"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1429239485,"creation_date":1429239485,"answer_id":29689456,"question_id":29658589,"body_markdown":"On Windows, if in doubt you should use one of the overloads of `Runtime.exec` that takes a string, rather than a string array, as the command line argument.  That allows you to construct the command line string for the new process yourself, so you can ensure that the syntax is correct.\r\n\r\nIf you use the array method, Java has to convert the array into a single string.  It will do so using the standard algorithm, which assumes that the target process uses the Microsoft C runtime command line parser (or a compatible one).  This will *usually* be OK, but not always.\r\n\r\n","title":"Runtime exec with arguments containing spaces","body":"<p>On Windows, if in doubt you should use one of the overloads of <code>Runtime.exec</code> that takes a string, rather than a string array, as the command line argument.  That allows you to construct the command line string for the new process yourself, so you can ensure that the syntax is correct.</p>\n\n<p>If you use the array method, Java has to convert the array into a single string.  It will do so using the standard algorithm, which assumes that the target process uses the Microsoft C runtime command line parser (or a compatible one).  This will <em>usually</em> be OK, but not always.</p>\n"}],"owner":{"account_id":346626,"reputation":10196,"user_id":680268,"accept_rate":66,"display_name":"Stealth Rabbi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1570,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":29659256,"answer_count":3,"score":3,"last_activity_date":1643654575,"creation_date":1429124361,"question_id":29658589,"body_markdown":"I have an application I&#39;m trying to run through a Runtime.exec() call.\r\n\r\nSince some of the arguments have spaces, how can I properly escape the arguments such that it works both in Linux and Windows? I know with Windows, you typically use double quotes around a string with spaces, while linux uses a slash. \r\n\r\nWith the spaces, I&#39;d expect the program I&#39;m running (Windows&#39; xcopy for now) to return almost immediately and indicate the number of parameters is wrong. But, the waitFor() call hangs.\r\n\r\n\r\n    String[] commandArray = new String[3];\r\n    commandArray[0] = applicationPath;\r\n    commandArray[1] = someFileWhichMayHaveSpaces;\r\n    commandArray[2] = anotherFileWhichMayHaveSpaces;\r\n    \r\n    Process appProcess = Runtime.getRuntime().exec(commandArray);\r\n    int returnCode = appProcess.waitFor();","title":"Runtime exec with arguments containing spaces","body":"<p>I have an application I'm trying to run through a Runtime.exec() call.</p>\n\n<p>Since some of the arguments have spaces, how can I properly escape the arguments such that it works both in Linux and Windows? I know with Windows, you typically use double quotes around a string with spaces, while linux uses a slash. </p>\n\n<p>With the spaces, I'd expect the program I'm running (Windows' xcopy for now) to return almost immediately and indicate the number of parameters is wrong. But, the waitFor() call hangs.</p>\n\n<pre><code>String[] commandArray = new String[3];\ncommandArray[0] = applicationPath;\ncommandArray[1] = someFileWhichMayHaveSpaces;\ncommandArray[2] = anotherFileWhichMayHaveSpaces;\n\nProcess appProcess = Runtime.getRuntime().exec(commandArray);\nint returnCode = appProcess.waitFor();\n</code></pre>\n"},{"tags":["java","rest","tomcat","tomcat9"],"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1643101980,"post_id":70845313,"comment_id":125244350,"body_markdown":"Is your application&#39;s context path empty or `/rest`?","body":"Is your application&#39;s context path empty or <code>&#47;rest</code>?"},{"owner":{"account_id":24046599,"reputation":33,"user_id":18025540,"display_name":"HibernatePro1337"},"score":0,"creation_date":1643103929,"post_id":70845313,"comment_id":125245129,"body_markdown":"@PiotrP.Karwasz Thanks, I edited the question. The context path is not empty, it&#39;s &quot;myapp&quot;","body":"@PiotrP.Karwasz Thanks, I edited the question. The context path is not empty, it&#39;s &quot;myapp&quot;"},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":1,"creation_date":1643196340,"post_id":70845313,"comment_id":125273889,"body_markdown":"Tomcat correctly normalizes URIs and forwards `//myapp/rest/endpoint` to the same servlet as `/myapp/rest/endpoint`. Please, add some details to your question on the nature of `/myapp/rest/endpoint`. What framework are you using? JAX-RS, Spring, etc.?","body":"Tomcat correctly normalizes URIs and forwards <code>&#47;&#47;myapp&#47;rest&#47;endpoint</code> to the same servlet as <code>&#47;myapp&#47;rest&#47;endpoint</code>. Please, add some details to your question on the nature of <code>&#47;myapp&#47;rest&#47;endpoint</code>. What framework are you using? JAX-RS, Spring, etc.?"},{"owner":{"account_id":24046599,"reputation":33,"user_id":18025540,"display_name":"HibernatePro1337"},"score":0,"creation_date":1643710879,"post_id":70845313,"comment_id":125406494,"body_markdown":"@PiotrP.Karwasz Yes we are using JAX. Thx","body":"@PiotrP.Karwasz Yes we are using JAX. Thx"},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1643711530,"post_id":70845313,"comment_id":125406756,"body_markdown":"Jersey 2.x I presume? Can you provide the version number? It will be easier to find if it is a bug.","body":"Jersey 2.x I presume? Can you provide the version number? It will be easier to find if it is a bug."}],"owner":{"account_id":24046599,"reputation":33,"user_id":18025540,"display_name":"HibernatePro1337"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":322,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1643654569,"creation_date":1643098296,"question_id":70845313,"body_markdown":"I have a web application deployed on a Tomcat 9 with the endpoint:\r\n\r\n    http://1.2.3.4/myapp/rest/endpoint\r\n\r\nSome external application is connecting to this using a GET request, but is doing so with a double slash in the URL:\r\n\r\n    http://1.2.3.4//myapp/rest/endpoint\r\n\r\nTomcat returns 404 for this. However, with a single slash, the query succeeds with a 200. How can I allow Tomcat to accept such URLs (and map them to the correct endpoint)? I do not have control over the external application so I MUST be able to accept double slashes.\r\n\r\n","title":"How can I make Tomcat 9 accept requests that include a double slash?","body":"<p>I have a web application deployed on a Tomcat 9 with the endpoint:</p>\n<pre><code>http://1.2.3.4/myapp/rest/endpoint\n</code></pre>\n<p>Some external application is connecting to this using a GET request, but is doing so with a double slash in the URL:</p>\n<pre><code>http://1.2.3.4//myapp/rest/endpoint\n</code></pre>\n<p>Tomcat returns 404 for this. However, with a single slash, the query succeeds with a 200. How can I allow Tomcat to accept such URLs (and map them to the correct endpoint)? I do not have control over the external application so I MUST be able to accept double slashes.</p>\n"},{"tags":["java","xml","jackson"],"answers":[{"tags":[],"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643654150,"creation_date":1643654150,"answer_id":70931115,"question_id":70929496,"body_markdown":"You can use the [`JacksonXmlText`](https://fasterxml.github.io/jackson-dataformat-xml/javadoc/2.12/com/fasterxml/jackson/dataformat/xml/annotation/JacksonXmlText.html) annotation over your `value` field in your class:\r\n\r\n~~~\r\n@Getter\r\n@Setter\r\n@ToString\r\n@NoArgsConstructor\r\npublic class RequestParameter {\r\n\r\n    @XmlValue\r\n    @JacksonXmlText //&lt;-- the new annotation\r\n    protected String value;\r\n    @XmlAttribute(name = &quot;name&quot;)\r\n    protected String name;\r\n}\r\n\r\nRequestParameter requestParameter = mapper.readValue(msg, RequestParameter.class);\r\n//it will print RequestParameter(value=5482973821, name=myId)\r\nSystem.out.println(requestParameter);\r\n~~~\r\nNote that if you want to serialize it you will *not* obtain the same starting xml, but it was the same scenario with the code you posted because of the `name` field that will be serialized in a different way from the original xml.\r\n","title":"Jackson deserialize anonymous complex type results in Unrecognized field &quot;&quot;","body":"<p>You can use the <a href=\"https://fasterxml.github.io/jackson-dataformat-xml/javadoc/2.12/com/fasterxml/jackson/dataformat/xml/annotation/JacksonXmlText.html\" rel=\"nofollow noreferrer\"><code>JacksonXmlText</code></a> annotation over your <code>value</code> field in your class:</p>\n<pre><code>@Getter\n@Setter\n@ToString\n@NoArgsConstructor\npublic class RequestParameter {\n\n    @XmlValue\n    @JacksonXmlText //&lt;-- the new annotation\n    protected String value;\n    @XmlAttribute(name = &quot;name&quot;)\n    protected String name;\n}\n\nRequestParameter requestParameter = mapper.readValue(msg, RequestParameter.class);\n//it will print RequestParameter(value=5482973821, name=myId)\nSystem.out.println(requestParameter);\n</code></pre>\n<p>Note that if you want to serialize it you will <em>not</em> obtain the same starting xml, but it was the same scenario with the code you posted because of the <code>name</code> field that will be serialized in a different way from the original xml.</p>\n"}],"owner":{"account_id":6197039,"reputation":6332,"user_id":4828060,"accept_rate":21,"display_name":"Jo&#227;o Matos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":225,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70931115,"answer_count":1,"score":0,"last_activity_date":1643654150,"creation_date":1643646842,"question_id":70929496,"body_markdown":"I am getting the following exception:\r\n\r\n    Unrecognized field &quot;&quot; (class my.package.RequestParameter), not marked as ignorable (2 known properties: &quot;value&quot;, &quot;name&quot;])\r\n     at [Source: (StringReader); line: 1, column: 64] (through reference chain: my.package.RequestParameter[&quot;&quot;])\r\n    com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field &quot;&quot; (class my.package.RequestParameter), not marked as ignorable (2 known properties: &quot;value&quot;, &quot;name&quot;])\r\n\r\nwhen I try to deserialize the following entry:\r\n\r\n    &quot;&lt;requestParameter name=\\&quot;myId\\&quot;&gt;5482973821&lt;/requestParameter&gt;&quot;\r\n\r\nto my target Pojo:\r\n\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    @XmlType(name = &quot;&quot;, propOrder = {\r\n            &quot;value&quot;\r\n    })\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    public class RequestParameter {\r\n        @XmlValue\r\n        protected String value;\r\n        @XmlAttribute(name = &quot;name&quot;)\r\n        protected String name;\r\n    }\r\n\r\nusing:\r\n\r\n    RequestParameter requestParameter = new XmlMapper().readValue(in, RequestParameter.class);\r\n\r\nDoes anyone know what I am missing? Thank you for your attention.","title":"Jackson deserialize anonymous complex type results in Unrecognized field &quot;&quot;","body":"<p>I am getting the following exception:</p>\n<pre><code>Unrecognized field &quot;&quot; (class my.package.RequestParameter), not marked as ignorable (2 known properties: &quot;value&quot;, &quot;name&quot;])\n at [Source: (StringReader); line: 1, column: 64] (through reference chain: my.package.RequestParameter[&quot;&quot;])\ncom.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field &quot;&quot; (class my.package.RequestParameter), not marked as ignorable (2 known properties: &quot;value&quot;, &quot;name&quot;])\n</code></pre>\n<p>when I try to deserialize the following entry:</p>\n<pre><code>&quot;&lt;requestParameter name=\\&quot;myId\\&quot;&gt;5482973821&lt;/requestParameter&gt;&quot;\n</code></pre>\n<p>to my target Pojo:</p>\n<pre><code>@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = &quot;&quot;, propOrder = {\n        &quot;value&quot;\n})\n@Getter\n@Setter\n@NoArgsConstructor\npublic class RequestParameter {\n    @XmlValue\n    protected String value;\n    @XmlAttribute(name = &quot;name&quot;)\n    protected String name;\n}\n</code></pre>\n<p>using:</p>\n<pre><code>RequestParameter requestParameter = new XmlMapper().readValue(in, RequestParameter.class);\n</code></pre>\n<p>Does anyone know what I am missing? Thank you for your attention.</p>\n"},{"tags":["java","log4j","migration","log4j2","fileappender"],"comments":[{"owner":{"account_id":9635952,"reputation":5693,"user_id":7152019,"display_name":"Vikas Sachdeva"},"score":0,"creation_date":1525999309,"post_id":50273787,"comment_id":87583192,"body_markdown":"Can you share some more information what exactly you are trying to do in your code. FYI, for creating `RollingFileAppender` in log42j, you have to use `RollingFileAppender.Builder`","body":"Can you share some more information what exactly you are trying to do in your code. FYI, for creating <code>RollingFileAppender</code> in log42j, you have to use <code>RollingFileAppender.Builder</code>"},{"owner":{"account_id":3812722,"reputation":33,"user_id":7855319,"display_name":"Aga"},"score":0,"creation_date":1526279675,"post_id":50273787,"comment_id":87664271,"body_markdown":"I am trying to change from log4j to the second version log4j2. I&#39;ve changed all the imports and things mentioned on log4j webpage but I have that one piece of code that I don&#39;t know how to rewrite. It sets a new file name on the file appender and then the activateOptions method is called. This is called when we change the output file (to a different, non-default path).\nI found here on stack somewhere that I should create this appender using Confiuration class - is that wrong? I will look into this builder, thanks.","body":"I am trying to change from log4j to the second version log4j2. I&#39;ve changed all the imports and things mentioned on log4j webpage but I have that one piece of code that I don&#39;t know how to rewrite. It sets a new file name on the file appender and then the activateOptions method is called. This is called when we change the output file (to a different, non-default path). I found here on stack somewhere that I should create this appender using Confiuration class - is that wrong? I will look into this builder, thanks."},{"owner":{"account_id":9635952,"reputation":5693,"user_id":7152019,"display_name":"Vikas Sachdeva"},"score":0,"creation_date":1526283942,"post_id":50273787,"comment_id":87666322,"body_markdown":"If you want to modify log file name once `log4j2` is initialized, You have to delete old `appender` and create new `appender` with new log file name. You can see example at https://logging.apache.org/log4j/2.x/manual/customconfig.html#AddingToCurrent","body":"If you want to modify log file name once <code>log4j2</code> is initialized, You have to delete old <code>appender</code> and create new <code>appender</code> with new log file name. You can see example at <a href=\"https://logging.apache.org/log4j/2.x/manual/customconfig.html#AddingToCurrent\" rel=\"nofollow noreferrer\">logging.apache.org/log4j/2.x/manual/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":24113599,"reputation":11,"user_id":18083836,"display_name":"lazyCoder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643653910,"creation_date":1643653910,"answer_id":70931058,"question_id":50273787,"body_markdown":"You can try this way.\r\n\r\n    Layout&lt;? extends Serializable&gt; old_layout = fileAppender.getLayout();\r\n    fileAppender.stop();\r\n\r\n    //delete old appender\r\n    ((org.apache.logging.log4j.core.Logger)logger).removeAppender(fileAppender);\r\n    \r\n    RollingFileAppender appender = RollingFileAppender.newBuilder().withFileName(newFileName).withAppend(true).withLocking(false)\r\n    \t\t.setName(fileAppender.getName()).setIgnoreExceptions(true).withFilePattern(newFileName.concat(&quot;.%d&quot;)).withPolicy(fileAppender.getTriggeringPolicy())\r\n    \t\t.withStrategy(DefaultRolloverStrategy.newBuilder().withMax(String.valueOf(5)).build())\r\n    \t\t.setLayout(old_layout).setConfiguration(config).build();\r\n    appender.start();\r\n    \r\n    ((org.apache.logging.log4j.core.Logger)logger).addAppender(appender);","title":"Migration from log4j to log4j2 - FileAppender set new file name &amp; acitvateOptions","body":"<p>You can try this way.</p>\n<pre><code>Layout&lt;? extends Serializable&gt; old_layout = fileAppender.getLayout();\nfileAppender.stop();\n\n//delete old appender\n((org.apache.logging.log4j.core.Logger)logger).removeAppender(fileAppender);\n\nRollingFileAppender appender = RollingFileAppender.newBuilder().withFileName(newFileName).withAppend(true).withLocking(false)\n        .setName(fileAppender.getName()).setIgnoreExceptions(true).withFilePattern(newFileName.concat(&quot;.%d&quot;)).withPolicy(fileAppender.getTriggeringPolicy())\n        .withStrategy(DefaultRolloverStrategy.newBuilder().withMax(String.valueOf(5)).build())\n        .setLayout(old_layout).setConfiguration(config).build();\nappender.start();\n\n((org.apache.logging.log4j.core.Logger)logger).addAppender(appender);\n</code></pre>\n"}],"owner":{"account_id":3812722,"reputation":33,"user_id":7855319,"display_name":"Aga"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2302,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1643653910,"creation_date":1525958037,"question_id":50273787,"body_markdown":"We are migrating to log4j2. I can&#39;t find anywhere how to rewrite a part of code.\r\n\r\n    LoggerContext context = (org.apache.logging.log4j.core.LoggerContext) LogManager.getContext(false);\r\n    Configuration config = context.getConfiguration();\r\n    RollingFileAppender fileAppender = config.getAppender(&quot;file&quot;);\r\n    \r\n    (...)\r\n    \r\n    fileAppender.setFile(newFileName); //this part\r\n    fileAppender.activateOptions(); //and this part\r\n\r\nDoes anyone know how it should be written correctly? Any help would be greatly appreciated and I am sorry if it is a dumb question.\r\n\r\nEDIT:\r\nI also have a problem with my class which (with log4j v.1) implements LoggerFactory. I found here: [https://stackoverflow.com/questions/31023516/log4j-migration-to-log4j2][1] that I should use &quot;other mechanism&quot;. I am not sure if I should use LoggerContextFactory here or something else: \r\n\r\n    class MyNameLoggerFactory implements LoggerFactory {\r\n        (...)\r\n        void init() {\r\n           //sets quiet mode\r\n           //init DOMConfigutator\r\n           //configure using log4j config xml\r\n        }\r\n\r\n        Appender getFileAppender(File file) {\r\n            //returns a FileAppender\r\n        }\r\n\r\n        @Override\r\n\t    public MyNameLoggerFactory makeNewLoggerInstance(String name) {\r\n\t\t    return new MyNameLoggerFactory (name);\r\n\t    }\r\n    }\r\n\r\nThe XML configuration loaded here has appenders like an EmailSender, ConsoleAppender and RollingFileAppender (I will need to convert the xml too, I think).\r\nIf I understood this [https://stackoverflow.com/questions/16716556/how-to-specify-log4j-2-x-config-location][2] correctly, instead of DOMConfigurator I will use here (in my init method) an initialize method with null ClassLoader?\r\n\r\nThis is really an old project, written by many different people during the years, and it is a mess. Thank you for any help.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/31023516/log4j-migration-to-log4j2\r\n  [2]: https://stackoverflow.com/questions/16716556/how-to-specify-log4j-2-x-config-location","title":"Migration from log4j to log4j2 - FileAppender set new file name &amp; acitvateOptions","body":"<p>We are migrating to log4j2. I can't find anywhere how to rewrite a part of code.</p>\n\n<pre><code>LoggerContext context = (org.apache.logging.log4j.core.LoggerContext) LogManager.getContext(false);\nConfiguration config = context.getConfiguration();\nRollingFileAppender fileAppender = config.getAppender(\"file\");\n\n(...)\n\nfileAppender.setFile(newFileName); //this part\nfileAppender.activateOptions(); //and this part\n</code></pre>\n\n<p>Does anyone know how it should be written correctly? Any help would be greatly appreciated and I am sorry if it is a dumb question.</p>\n\n<p>EDIT:\nI also have a problem with my class which (with log4j v.1) implements LoggerFactory. I found here: <a href=\"https://stackoverflow.com/questions/31023516/log4j-migration-to-log4j2\">log4j migration to log4j2</a> that I should use \"other mechanism\". I am not sure if I should use LoggerContextFactory here or something else: </p>\n\n<pre><code>class MyNameLoggerFactory implements LoggerFactory {\n    (...)\n    void init() {\n       //sets quiet mode\n       //init DOMConfigutator\n       //configure using log4j config xml\n    }\n\n    Appender getFileAppender(File file) {\n        //returns a FileAppender\n    }\n\n    @Override\n    public MyNameLoggerFactory makeNewLoggerInstance(String name) {\n        return new MyNameLoggerFactory (name);\n    }\n}\n</code></pre>\n\n<p>The XML configuration loaded here has appenders like an EmailSender, ConsoleAppender and RollingFileAppender (I will need to convert the xml too, I think).\nIf I understood this <a href=\"https://stackoverflow.com/questions/16716556/how-to-specify-log4j-2-x-config-location\">How to specify Log4J 2.x config location?</a> correctly, instead of DOMConfigurator I will use here (in my init method) an initialize method with null ClassLoader?</p>\n\n<p>This is really an old project, written by many different people during the years, and it is a mess. Thank you for any help.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":100740,"reputation":73217,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":0,"creation_date":1643653566,"post_id":70930950,"comment_id":125392529,"body_markdown":"Have one exception handler per call to `Integer.parseInt()`, or maintain some state representing &quot;I am about to parse X&quot;.","body":"Have one exception handler per call to <code>Integer.parseInt()</code>, or maintain some state representing &quot;I am about to parse X&quot;."},{"owner":{"account_id":24112602,"reputation":17,"user_id":18082984,"display_name":"mike john"},"score":0,"creation_date":1643653622,"post_id":70930950,"comment_id":125392561,"body_markdown":"@jarmod hi! thank you so much for taking the time to help. could you explain/elaborate a little more --&gt; (or maintain some state representing &quot;I am about to parse X&quot;.)? sorry i&#39;m a newbie to java or programming in general!","body":"@jarmod hi! thank you so much for taking the time to help. could you explain/elaborate a little more --&gt; (or maintain some state representing &quot;I am about to parse X&quot;.)? sorry i&#39;m a newbie to java or programming in general!"}],"answers":[{"tags":[],"owner":{"account_id":100740,"reputation":73217,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643653879,"creation_date":1643653879,"answer_id":70931049,"question_id":70930950,"body_markdown":"One option is to maintain some state indicating which parameter you are parsing, in case an error happens.\r\n\r\nFor example:\r\n\r\n    String parsing = &quot;&quot;;\r\n\r\n    try \r\n    {\r\n        String[] arrList = command.trim().split(&quot;\\\\s+&quot;);\r\n        String operator = arr[0];\r\n        parsing = arrList[1];\r\n        int firstNumber = Integer.parseInt(parsing);\r\n        parsing = arrList[2];\r\n        int secondNumber = Integer.parseInt(parsing);\r\n        ...\r\n    } \r\n    catch (NumberFormatException e) \r\n    {\r\n        response = &quot;Error: \\&quot;&quot; + parsing + &quot;\\&quot; is not a number!&quot;;\r\n    }","title":"Specifically identify and display which argument in the input is not an int","body":"<p>One option is to maintain some state indicating which parameter you are parsing, in case an error happens.</p>\n<p>For example:</p>\n<pre><code>String parsing = &quot;&quot;;\n\ntry \n{\n    String[] arrList = command.trim().split(&quot;\\\\s+&quot;);\n    String operator = arr[0];\n    parsing = arrList[1];\n    int firstNumber = Integer.parseInt(parsing);\n    parsing = arrList[2];\n    int secondNumber = Integer.parseInt(parsing);\n    ...\n} \ncatch (NumberFormatException e) \n{\n    response = &quot;Error: \\&quot;&quot; + parsing + &quot;\\&quot; is not a number!&quot;;\n}\n</code></pre>\n"}],"owner":{"account_id":24112602,"reputation":17,"user_id":18082984,"display_name":"mike john"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70931049,"answer_count":1,"score":0,"last_activity_date":1643653879,"creation_date":1643653416,"question_id":70930950,"body_markdown":"I am developing a TCP application Java that involves a simple math operation. As part of the validation process, I want to be able to specifically identify which part of the command entered by the user is not an integer. The syntax for entering the command is as follows: `cmd x y` --&gt; for example: `add 5 10`\r\n\r\n**Expected Result:**  \r\nInput: `add xyz 20`  \r\nOutput: `Error: “xyz” is not a number!`\r\n\r\n**Actual Result:**  \r\nInput: `add xyz 20`  \r\nOutput: `Error: not a number`  \r\nIt does not specifically say which part of the input is not a number.\r\n\r\nI used try-catch to do this validation. I am unsure how to achieve the expected result. \r\n\r\nHere are the relevant parts of my code:\r\n\r\n    String command = br.readLine();\r\n    String response = &quot;&quot;;\r\n    int val = 0;\r\n    \r\n    try \r\n    {\r\n    \tString[] arrList = command.trim().split(&quot;\\\\s+&quot;);\r\n    \tString operator = arr[0];\r\n    \tint firstNumber = Integer.parseInt(arrList[1]);\r\n    \tint secondNumber = Integer.parseInt(arrList[2]);\r\n    \r\n    \tif (operator.equals(&quot;add&quot;)) \r\n    \t{\r\n    \t\tval = firstNumber + secondNumber;\r\n    \t\tresponse = &quot;The add result is: &quot; + String.valueOf(val);\t\t\t\t\t\r\n    \t}\r\n    \telse if (operator.equals(&quot;subtract&quot;)) \r\n    \t{\r\n    \t\tval = firstNumber - secondNumber;\r\n    \t\tresponse = &quot;The subtract result is: &quot; + String.valueOf(val);\r\n    \t} \r\n    \telse if (operator.equals(&quot;multiply&quot;)) \r\n    \t{\r\n    \t\tval = firstNumber * secondNumber;\r\n    \t\tresponse = &quot;The multiply result is: &quot; + String.valueOf(val);\r\n    \t}\r\n    \telse if (operator.equals(&quot;divide&quot;)) \r\n    \t{\r\n    \t\tif (secondNumber == 0) \r\n    \t\t{\r\n    \t\t\tresponse = &quot;Divided by zero exception&quot;;\r\n    \t\t} \r\n    \t\telse \r\n    \t\t{\r\n    \t\t\tval = firstNumber / secondNumber;\r\n    \t\t\tresponse = &quot;The divide result is: &quot; + String.valueOf(val);\r\n    \t\t}\r\n    \t} \r\n    \telse \r\n    \t{\r\n    \t\tresponse = &quot;Invalid command &#39;&quot; + operator + &quot;&#39;&quot;;\r\n    \t}\r\n    } \r\n    catch (NumberFormatException e) \r\n    {\r\n    \tresponse = &quot;Error: not a number&quot;;\r\n    }","title":"Specifically identify and display which argument in the input is not an int","body":"<p>I am developing a TCP application Java that involves a simple math operation. As part of the validation process, I want to be able to specifically identify which part of the command entered by the user is not an integer. The syntax for entering the command is as follows: <code>cmd x y</code> --&gt; for example: <code>add 5 10</code></p>\n<p><strong>Expected Result:</strong><br />\nInput: <code>add xyz 20</code><br />\nOutput: <code>Error: “xyz” is not a number!</code></p>\n<p><strong>Actual Result:</strong><br />\nInput: <code>add xyz 20</code><br />\nOutput: <code>Error: not a number</code><br />\nIt does not specifically say which part of the input is not a number.</p>\n<p>I used try-catch to do this validation. I am unsure how to achieve the expected result.</p>\n<p>Here are the relevant parts of my code:</p>\n<pre><code>String command = br.readLine();\nString response = &quot;&quot;;\nint val = 0;\n\ntry \n{\n    String[] arrList = command.trim().split(&quot;\\\\s+&quot;);\n    String operator = arr[0];\n    int firstNumber = Integer.parseInt(arrList[1]);\n    int secondNumber = Integer.parseInt(arrList[2]);\n\n    if (operator.equals(&quot;add&quot;)) \n    {\n        val = firstNumber + secondNumber;\n        response = &quot;The add result is: &quot; + String.valueOf(val);                 \n    }\n    else if (operator.equals(&quot;subtract&quot;)) \n    {\n        val = firstNumber - secondNumber;\n        response = &quot;The subtract result is: &quot; + String.valueOf(val);\n    } \n    else if (operator.equals(&quot;multiply&quot;)) \n    {\n        val = firstNumber * secondNumber;\n        response = &quot;The multiply result is: &quot; + String.valueOf(val);\n    }\n    else if (operator.equals(&quot;divide&quot;)) \n    {\n        if (secondNumber == 0) \n        {\n            response = &quot;Divided by zero exception&quot;;\n        } \n        else \n        {\n            val = firstNumber / secondNumber;\n            response = &quot;The divide result is: &quot; + String.valueOf(val);\n        }\n    } \n    else \n    {\n        response = &quot;Invalid command '&quot; + operator + &quot;'&quot;;\n    }\n} \ncatch (NumberFormatException e) \n{\n    response = &quot;Error: not a number&quot;;\n}\n</code></pre>\n"},{"tags":["java","android","button","drawable"],"comments":[{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":1,"creation_date":1643652006,"post_id":70930636,"comment_id":125391937,"body_markdown":"If you want to handle the background yourself, then you can specify `&lt;android.widget.Button&gt;` or `&lt;androidx.appcompat.widget.AppCompatButton&gt;` tags instead. That will prevent the library&#39;s inflater factory from substituting `MaterialButton`s for plain `&lt;Button&gt;` tags.","body":"If you want to handle the background yourself, then you can specify <code>&lt;android.widget.Button&gt;</code> or <code>&lt;androidx.appcompat.widget.AppCompatButton&gt;</code> tags instead. That will prevent the library&#39;s inflater factory from substituting <code>MaterialButton</code>s for plain <code>&lt;Button&gt;</code> tags."},{"owner":{"account_id":21241583,"reputation":151,"user_id":15624965,"display_name":"Daniele Scalco"},"score":0,"creation_date":1643652467,"post_id":70930636,"comment_id":125392090,"body_markdown":"Thank you, that worked, but I don&#39;t understand, if I do ctrl click on `&lt;Button&gt;` I already see android.widget.Button class","body":"Thank you, that worked, but I don&#39;t understand, if I do ctrl click on <code>&lt;Button&gt;</code> I already see android.widget.Button class"},{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":1,"creation_date":1643652862,"post_id":70930636,"comment_id":125392251,"body_markdown":"Yeah, that is a bit confusing. What you&#39;re seeing in the layout editor is just what your IDE can tell you about it from only that XML. It&#39;s not smart enough to know that this layout will eventually be inflated at runtime with a specialized `LayoutInflater.Factory` that substitutes `MaterialButton` for `&lt;Button&gt;`. (It was a terrible decision on their part, IMO, to have Material Components do that silently.)","body":"Yeah, that is a bit confusing. What you&#39;re seeing in the layout editor is just what your IDE can tell you about it from only that XML. It&#39;s not smart enough to know that this layout will eventually be inflated at runtime with a specialized <code>LayoutInflater.Factory</code> that substitutes <code>MaterialButton</code> for <code>&lt;Button&gt;</code>. (It was a terrible decision on their part, IMO, to have Material Components do that silently.)"}],"answers":[{"tags":[],"owner":{"account_id":6643087,"reputation":184,"user_id":5128175,"display_name":"Hamed Heidari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643652960,"creation_date":1643652960,"answer_id":70930870,"question_id":70930636,"body_markdown":"If using AppCompatButton is not your option you can always change backgroundTint of the button to your desired color:\r\n\r\n     &lt;Button\r\n        android:layout_width=&quot;48dp&quot;\r\n        android:layout_height=&quot;48dp&quot;\r\n        android:layout_margin=&quot;8dp&quot;\r\n        android:background=&quot;@drawable/ic_baseline_change_circle_24&quot;\r\n        android:backgroundTint=&quot;@color/blue&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;&lt;/Button&gt;\r\n\r\n","title":"change color of drawable in a button Android","body":"<p>If using AppCompatButton is not your option you can always change backgroundTint of the button to your desired color:</p>\n<pre><code> &lt;Button\n    android:layout_width=&quot;48dp&quot;\n    android:layout_height=&quot;48dp&quot;\n    android:layout_margin=&quot;8dp&quot;\n    android:background=&quot;@drawable/ic_baseline_change_circle_24&quot;\n    android:backgroundTint=&quot;@color/blue&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;&lt;/Button&gt;\n</code></pre>\n"}],"owner":{"account_id":21241583,"reputation":151,"user_id":15624965,"display_name":"Daniele Scalco"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":246,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70930870,"answer_count":1,"score":0,"last_activity_date":1643652960,"creation_date":1643651795,"question_id":70930636,"body_markdown":"I don&#39;t understand I&#39;m setting a button with a drawable with che color blue but I see the button red (that&#39;s my primary color) but I don&#39;t know how to change the color without modifying the *colorPrimary* attribute.\r\n\r\nThat&#39;s my button:\r\n\r\n        &lt;Button\r\n            android:layout_width=&quot;48dp&quot;\r\n            android:layout_height=&quot;48dp&quot;\r\n            android:layout_margin=&quot;8dp&quot;\r\n            android:background=&quot;@drawable/ic_baseline_change_circle_24&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;&lt;/Button&gt;\r\n\r\nAnd that&#39;s my brawable resource:\r\n\r\n    &lt;vector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:width=&quot;24dp&quot;\r\n        android:height=&quot;24dp&quot;\r\n        android:viewportWidth=&quot;24&quot;\r\n        android:viewportHeight=&quot;24&quot;\r\n        android:tint=&quot;@color/blue&quot;&gt;\r\n      &lt;path\r\n          android:fillColor=&quot;@android:color/white&quot;\r\n          android:pathData=&quot;M12,2C6.48,2 2,6.48 2,12c0,5.52 4.48,10 10,10s10,-4.48 10,-10C22,6.48 17.52,2 12,2zM12.06,19v-2.01c-0.02,0 -0.04,0 -0.06,0c-1.28,0 -2.56,-0.49 -3.54,-1.46c-1.71,-1.71 -1.92,-4.35 -0.64,-6.29l1.1,1.1c-0.71,1.33 -0.53,3.01 0.59,4.13c0.7,0.7 1.62,1.03 2.54,1.01v-2.14l2.83,2.83L12.06,19zM16.17,14.76l-1.1,-1.1c0.71,-1.33 0.53,-3.01 -0.59,-4.13C13.79,8.84 12.9,8.5 12,8.5c-0.02,0 -0.04,0 -0.06,0v2.15L9.11,7.83L11.94,5v2.02c1.3,-0.02 2.61,0.45 3.6,1.45C17.24,10.17 17.45,12.82 16.17,14.76z&quot;/&gt;\r\n    &lt;/vector&gt;","title":"change color of drawable in a button Android","body":"<p>I don't understand I'm setting a button with a drawable with che color blue but I see the button red (that's my primary color) but I don't know how to change the color without modifying the <em>colorPrimary</em> attribute.</p>\n<p>That's my button:</p>\n<pre><code>    &lt;Button\n        android:layout_width=&quot;48dp&quot;\n        android:layout_height=&quot;48dp&quot;\n        android:layout_margin=&quot;8dp&quot;\n        android:background=&quot;@drawable/ic_baseline_change_circle_24&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;&lt;/Button&gt;\n</code></pre>\n<p>And that's my brawable resource:</p>\n<pre><code>&lt;vector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:width=&quot;24dp&quot;\n    android:height=&quot;24dp&quot;\n    android:viewportWidth=&quot;24&quot;\n    android:viewportHeight=&quot;24&quot;\n    android:tint=&quot;@color/blue&quot;&gt;\n  &lt;path\n      android:fillColor=&quot;@android:color/white&quot;\n      android:pathData=&quot;M12,2C6.48,2 2,6.48 2,12c0,5.52 4.48,10 10,10s10,-4.48 10,-10C22,6.48 17.52,2 12,2zM12.06,19v-2.01c-0.02,0 -0.04,0 -0.06,0c-1.28,0 -2.56,-0.49 -3.54,-1.46c-1.71,-1.71 -1.92,-4.35 -0.64,-6.29l1.1,1.1c-0.71,1.33 -0.53,3.01 0.59,4.13c0.7,0.7 1.62,1.03 2.54,1.01v-2.14l2.83,2.83L12.06,19zM16.17,14.76l-1.1,-1.1c0.71,-1.33 0.53,-3.01 -0.59,-4.13C13.79,8.84 12.9,8.5 12,8.5c-0.02,0 -0.04,0 -0.06,0v2.15L9.11,7.83L11.94,5v2.02c1.3,-0.02 2.61,0.45 3.6,1.45C17.24,10.17 17.45,12.82 16.17,14.76z&quot;/&gt;\n&lt;/vector&gt;\n</code></pre>\n"},{"tags":["java","mysql","jpa","eclipselink"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1643320552,"post_id":70883577,"comment_id":125315753,"body_markdown":"What is your AutorJpaController.create(a) class/method doing? if this is a Spring class, it is a Spring issue, not a JPA one - the one part of the problem you haven&#39;t detailed or described.","body":"What is your AutorJpaController.create(a) class/method doing? if this is a Spring class, it is a Spring issue, not a JPA one - the one part of the problem you haven&#39;t detailed or described."},{"owner":{"account_id":20415471,"reputation":13,"user_id":14978297,"display_name":"lelos"},"score":0,"creation_date":1643330188,"post_id":70883577,"comment_id":125317846,"body_markdown":"Hello @Chris, I&#39;ve generated the code via Netbeans, on the Create JPA Controller Class.\nI&#39;m editing the question with the missing classes...","body":"Hello @Chris, I&#39;ve generated the code via Netbeans, on the Create JPA Controller Class. I&#39;m editing the question with the missing classes..."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1643388111,"post_id":70883577,"comment_id":125334591,"body_markdown":"Your create method is making a &quot;idAutorNew = em.getReference(idAutorNew.getClass(), idAutorNew.getIdAutor());&quot; call that seems to match what the error describes - see the Javadoc for getReference - it is expected to throw exceptions for null https://docs.oracle.com/javaee/7/api/javax/persistence/EntityManager.html#getReference-java.lang.Class-java.lang.Object-","body":"Your create method is making a &quot;idAutorNew = em.getReference(idAutorNew.getClass(), idAutorNew.getIdAutor());&quot; call that seems to match what the error describes - see the Javadoc for getReference - it is expected to throw exceptions for null <a href=\"https://docs.oracle.com/javaee/7/api/javax/persistence/EntityManager.html#getReference-java.lang.Class-java.lang.Object-\" rel=\"nofollow noreferrer\">docs.oracle.com/javaee/7/api/javax/persistence/&hellip;</a>"},{"owner":{"account_id":20415471,"reputation":13,"user_id":14978297,"display_name":"lelos"},"score":0,"creation_date":1643461342,"post_id":70883577,"comment_id":125348331,"body_markdown":"I agree, but how can I persist a new object and then persist the list related to it? The way i&#39;m creating the object Autor and the list of Filmes related to it is correct? Just to inform... I&#39;m creating the controller classes via netbeans &quot;New &gt; JPA Controller classes from Entity classes&quot;","body":"I agree, but how can I persist a new object and then persist the list related to it? The way i&#39;m creating the object Autor and the list of Filmes related to it is correct? Just to inform... I&#39;m creating the controller classes via netbeans &quot;New &gt; JPA Controller classes from Entity classes&quot;"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1643642722,"post_id":70883577,"comment_id":125387959,"body_markdown":"That is entirely a different question - one with many different solutions. See JPA&#39;s merge api, and the cascade persist/merge settings on mappings. What you have isn&#39;t far off, you just can&#39;t call find on a null pk - check the if the pk is null and persist the instance if it is, otherwise, allow/throw the exception if it has a PK and there is no entity in the DB for it.","body":"That is entirely a different question - one with many different solutions. See JPA&#39;s merge api, and the cascade persist/merge settings on mappings. What you have isn&#39;t far off, you just can&#39;t call find on a null pk - check the if the pk is null and persist the instance if it is, otherwise, allow/throw the exception if it has a PK and there is no entity in the DB for it."},{"owner":{"account_id":20415471,"reputation":13,"user_id":14978297,"display_name":"lelos"},"score":0,"creation_date":1643647637,"post_id":70883577,"comment_id":125390098,"body_markdown":"Ok. First, I need to persist the Autor object with the null value to the list of Filmes, then get the pk of the persisted object, set the pk of each Filmes object and then persist. That&#39;s the way?","body":"Ok. First, I need to persist the Autor object with the null value to the list of Filmes, then get the pk of the persisted object, set the pk of each Filmes object and then persist. That&#39;s the way?"}],"answers":[{"tags":[],"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643652656,"creation_date":1643652656,"answer_id":70930809,"question_id":70883577,"body_markdown":"For create, depending on how you want to handle the object graph, you&#39;ll need to look at the references within that graph and *handle* them appropriately:\r\n\r\n    public void create(Filme filme) {\r\n        EntityManager em = null;\r\n        try {\r\n            em = getEntityManager();\r\n            em.getTransaction().begin();\r\n            Autor autor = filme.getIdAutor();\r\n            if (autor != null) {\r\n                Integer autorId = autor.getId();\r\n              if (autorId == null) {\r\n                em.persist(autor);\r\n              } else {\r\n                //if this has an id, let this call throw an error if it doesn&#39;t exist in the database\r\n                autor = em.getReference(idAutor.getClass(), autorId);\r\n                filme.setIdAutor(autor);\r\n                //autor is managed already, so no need to call merge\r\n                autor.getFilmeCollection().add(filme);\r\n            }\r\n            em.persist(filme);\r\n            em.getTransaction().commit();\r\n        } finally {\r\n            if (em != null) {\r\n                em.close();\r\n            }\r\n        }\r\n    }\r\n\r\nThe above allows you to decide what to do when you encounter an Autor instance being referenced from the Filme. Calling Persist explicitly on it though will cause that persist call to cascade over the filmeCollection relationship, so anything referenced in there will also have persist called on it - something to watch out for if this isn&#39;t a blank/empty instance.","title":"An instance of a null PK has been incorrectly provided for this find operation","body":"<p>For create, depending on how you want to handle the object graph, you'll need to look at the references within that graph and <em>handle</em> them appropriately:</p>\n<pre><code>public void create(Filme filme) {\n    EntityManager em = null;\n    try {\n        em = getEntityManager();\n        em.getTransaction().begin();\n        Autor autor = filme.getIdAutor();\n        if (autor != null) {\n            Integer autorId = autor.getId();\n          if (autorId == null) {\n            em.persist(autor);\n          } else {\n            //if this has an id, let this call throw an error if it doesn't exist in the database\n            autor = em.getReference(idAutor.getClass(), autorId);\n            filme.setIdAutor(autor);\n            //autor is managed already, so no need to call merge\n            autor.getFilmeCollection().add(filme);\n        }\n        em.persist(filme);\n        em.getTransaction().commit();\n    } finally {\n        if (em != null) {\n            em.close();\n        }\n    }\n}\n</code></pre>\n<p>The above allows you to decide what to do when you encounter an Autor instance being referenced from the Filme. Calling Persist explicitly on it though will cause that persist call to cascade over the filmeCollection relationship, so anything referenced in there will also have persist called on it - something to watch out for if this isn't a blank/empty instance.</p>\n"}],"owner":{"account_id":20415471,"reputation":13,"user_id":14978297,"display_name":"lelos"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":351,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70930809,"answer_count":1,"score":0,"last_activity_date":1643652656,"creation_date":1643306704,"question_id":70883577,"body_markdown":"I&#39;m using Eclipselink to persist data to MySQL database and when I call the create method, it give me the error: \r\n\r\n&gt; An instance of a null PK has been incorrectly provided for this find\r\n&gt; operation\r\n\r\nI&#39;ve searched on other questions here, but none of them solved my problem.\r\nI have a class Autor and a class Filme. Both have the ID field as AUTO INCREMENT and the table Filme have the foreign key referencing to Autor.id_autor.\r\n\r\n\r\n\r\nHere is the code of my database:\r\n\r\n&lt;pre&gt;&lt;code&gt;\r\nCREATE TABLE `autor` (\r\n  `id_autor` int(11) NOT NULL AUTO_INCREMENT,\r\n  `nome` varchar(100) NOT NULL,\r\n  PRIMARY KEY (`id_autor`)\r\n) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=latin1;\r\n\r\nCREATE TABLE `filme` (\r\n  `id_filme` int(11) NOT NULL AUTO_INCREMENT,\r\n  `id_autor` int(11) NOT NULL,\r\n  `nome` varchar(100) NOT NULL,\r\n  PRIMARY KEY (`id_filme`),\r\n  KEY `fk_flme_ator_idx` (`id_autor`),\r\n  CONSTRAINT `fk_flme_ator` FOREIGN KEY (`id_autor`) REFERENCES `autor` (`id_autor`) ON UPDATE CASCADE\r\n) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=latin1;\r\n\r\n&lt;/code&gt;&lt;/pre&gt;\r\n\r\nAnd the Java classes:\r\n\r\n**Autor.java**\r\n\r\n    package model;\r\n    \r\n    import java.io.Serializable;\r\n    import java.util.Collection;\r\n    import javax.persistence.Basic;\r\n    import javax.persistence.CascadeType;\r\n    import javax.persistence.Column;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.GenerationType;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.NamedQueries;\r\n    import javax.persistence.NamedQuery;\r\n    import javax.persistence.OneToMany;\r\n    import javax.persistence.Table;\r\n    import javax.xml.bind.annotation.XmlRootElement;\r\n    import javax.xml.bind.annotation.XmlTransient;\r\n    \r\n    @Entity\r\n    @Table(name = &quot;autor&quot;)\r\n    @XmlRootElement\r\n    @NamedQueries({\r\n        @NamedQuery(name = &quot;Autor.findAll&quot;, query = &quot;SELECT a FROM Autor a&quot;),\r\n        @NamedQuery(name = &quot;Autor.findByIdAutor&quot;, query = &quot;SELECT a FROM Autor a WHERE a.idAutor = :idAutor&quot;),\r\n        @NamedQuery(name = &quot;Autor.findByNome&quot;, query = &quot;SELECT a FROM Autor a WHERE a.nome = :nome&quot;)})\r\n    public class Autor implements Serializable {\r\n    \r\n        private static final long serialVersionUID = 1L;\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Basic(optional = false)\r\n        @Column(name = &quot;id_autor&quot;)\r\n        private Integer idAutor;\r\n        @Basic(optional = false)\r\n        @Column(name = &quot;nome&quot;)\r\n        private String nome;\r\n        @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;idAutor&quot;)\r\n        private Collection&lt;Filme&gt; filmeCollection;\r\n    \r\n        public Autor() {\r\n        }\r\n    \r\n        public Autor(Integer idAutor) {\r\n            this.idAutor = idAutor;\r\n        }\r\n    \r\n        public Autor(Integer idAutor, String nome) {\r\n            this.idAutor = idAutor;\r\n            this.nome = nome;\r\n        }\r\n    \r\n        public Integer getIdAutor() {\r\n            return idAutor;\r\n        }\r\n    \r\n        public void setIdAutor(Integer idAutor) {\r\n            this.idAutor = idAutor;\r\n        }\r\n    \r\n        public String getNome() {\r\n            return nome;\r\n        }\r\n    \r\n        public void setNome(String nome) {\r\n            this.nome = nome;\r\n        }\r\n    \r\n        @XmlTransient\r\n        public Collection&lt;Filme&gt; getFilmeCollection() {\r\n            return filmeCollection;\r\n        }\r\n    \r\n        public void setFilmeCollection(Collection&lt;Filme&gt; filmeCollection) {\r\n            this.filmeCollection = filmeCollection;\r\n        }\r\n    \r\n        @Override\r\n        public int hashCode() {\r\n            int hash = 0;\r\n            hash += (idAutor != null ? idAutor.hashCode() : 0);\r\n            return hash;\r\n        }\r\n    \r\n        @Override\r\n        public boolean equals(Object object) {\r\n            // TODO: Warning - this method won&#39;t work in the case the id fields are not set\r\n            if (!(object instanceof Autor)) {\r\n                return false;\r\n            }\r\n            Autor other = (Autor) object;\r\n            if ((this.idAutor == null &amp;&amp; other.idAutor != null) || (this.idAutor != null &amp;&amp; !this.idAutor.equals(other.idAutor))) {\r\n                return false;\r\n            }\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return nome;\r\n        }\r\n        \r\n    }\r\n\r\n\r\n**Filme.java**\r\n\r\n    package model;\r\n    \r\n    import java.io.Serializable;\r\n    import javax.persistence.Basic;\r\n    import javax.persistence.Column;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.GenerationType;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.JoinColumn;\r\n    import javax.persistence.ManyToOne;\r\n    import javax.persistence.NamedQueries;\r\n    import javax.persistence.NamedQuery;\r\n    import javax.persistence.Table;\r\n    import javax.xml.bind.annotation.XmlRootElement;\r\n    \r\n    @Entity\r\n    @Table(name = &quot;filme&quot;)\r\n    @XmlRootElement\r\n    @NamedQueries({\r\n        @NamedQuery(name = &quot;Filme.findAll&quot;, query = &quot;SELECT f FROM Filme f&quot;),\r\n        @NamedQuery(name = &quot;Filme.findByIdFilme&quot;, query = &quot;SELECT f FROM Filme f WHERE f.idFilme = :idFilme&quot;),\r\n        @NamedQuery(name = &quot;Filme.findByNome&quot;, query = &quot;SELECT f FROM Filme f WHERE f.nome = :nome&quot;)})\r\n    public class Filme implements Serializable {\r\n    \r\n        private static final long serialVersionUID = 1L;\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Basic(optional = false)\r\n        @Column(name = &quot;id_filme&quot;)\r\n        private Integer idFilme;\r\n        @Basic(optional = false)\r\n        @Column(name = &quot;nome&quot;)\r\n        private String nome;\r\n        @JoinColumn(name = &quot;id_autor&quot;, referencedColumnName = &quot;id_autor&quot;)\r\n        @ManyToOne(optional = false)\r\n        private Autor idAutor;\r\n    \r\n        public Filme() {\r\n        }\r\n    \r\n        public Filme(Integer idFilme) {\r\n            this.idFilme = idFilme;\r\n        }\r\n    \r\n        public Filme(Integer idFilme, String nome) {\r\n            this.idFilme = idFilme;\r\n            this.nome = nome;\r\n        }\r\n    \r\n        public Integer getIdFilme() {\r\n            return idFilme;\r\n        }\r\n    \r\n        public void setIdFilme(Integer idFilme) {\r\n            this.idFilme = idFilme;\r\n        }\r\n    \r\n        public String getNome() {\r\n            return nome;\r\n        }\r\n    \r\n        public void setNome(String nome) {\r\n            this.nome = nome;\r\n        }\r\n    \r\n        public Autor getIdAutor() {\r\n            return idAutor;\r\n        }\r\n    \r\n        public void setIdAutor(Autor idAutor) {\r\n            this.idAutor = idAutor;\r\n        }\r\n    \r\n        @Override\r\n        public int hashCode() {\r\n            int hash = 0;\r\n            hash += (idFilme != null ? idFilme.hashCode() : 0);\r\n            return hash;\r\n        }\r\n    \r\n        @Override\r\n        public boolean equals(Object object) {\r\n            // TODO: Warning - this method won&#39;t work in the case the id fields are not set\r\n            if (!(object instanceof Filme)) {\r\n                return false;\r\n            }\r\n            Filme other = (Filme) object;\r\n            if ((this.idFilme == null &amp;&amp; other.idFilme != null) || (this.idFilme != null &amp;&amp; !this.idFilme.equals(other.idFilme))) {\r\n                return false;\r\n            }\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return nome;\r\n        }\r\n    \r\n    }\r\n\r\n\r\n\r\n\r\n\r\n**Main.java:**\r\n&lt;pre&gt;&lt;code&gt;public static void main(String[] args) {\r\n\r\n        EntityManagerFactory emf = null;\r\n        if (emf == null) {\r\n            emf = Persistence.createEntityManagerFactory(&quot;Estudos_JPAPU&quot;);\r\n        }\r\n        \r\n        Autor a = new Autor();\r\n        a.setNome(&quot;Autor 1&quot;);\r\n        a.setFilmeCollection(new ArrayList&lt;&gt;());\r\n        \r\n        Filme f = new Filme();\r\n        f.setNome(&quot;Filme 1&quot;);\r\n        f.setIdAutor(a);\r\n\r\n        a.getFilmeCollection().add(f);\r\n                \r\n        new AutorJpaController(emf).create(a);\r\n\r\n    }\r\n\r\n&lt;/code&gt;&lt;/pre&gt;\r\n\r\n\r\n**EDIT**\r\n\r\n**AutorJpaController.java**\r\n\r\n    import controller.exceptions.IllegalOrphanException;\r\n    import controller.exceptions.NonexistentEntityException;\r\n    import java.io.Serializable;\r\n    import javax.persistence.Query;\r\n    import javax.persistence.EntityNotFoundException;\r\n    import javax.persistence.criteria.CriteriaQuery;\r\n    import javax.persistence.criteria.Root;\r\n    import model.Filme;\r\n    import java.util.ArrayList;\r\n    import java.util.Collection;\r\n    import java.util.List;\r\n    import javax.persistence.EntityManager;\r\n    import javax.persistence.EntityManagerFactory;\r\n    import model.Autor;\r\n    \r\n    public class AutorJpaController implements Serializable {\r\n    \r\n        public AutorJpaController(EntityManagerFactory emf) {\r\n            this.emf = emf;\r\n        }\r\n        private EntityManagerFactory emf = null;\r\n    \r\n        public EntityManager getEntityManager() {\r\n            return emf.createEntityManager();\r\n        }\r\n    \r\n        public void create(Autor autor) {\r\n            if (autor.getFilmeCollection() == null) {\r\n                autor.setFilmeCollection(new ArrayList&lt;Filme&gt;());\r\n            }\r\n            EntityManager em = null;\r\n            try {\r\n                em = getEntityManager();\r\n                em.getTransaction().begin();\r\n                Collection&lt;Filme&gt; attachedFilmeCollection = new ArrayList&lt;Filme&gt;();\r\n                for (Filme filmeCollectionFilmeToAttach : autor.getFilmeCollection()) {\r\n                    filmeCollectionFilmeToAttach = em.getReference(filmeCollectionFilmeToAttach.getClass(), filmeCollectionFilmeToAttach.getIdFilme());\r\n                    attachedFilmeCollection.add(filmeCollectionFilmeToAttach);\r\n                }\r\n                autor.setFilmeCollection(attachedFilmeCollection);\r\n                em.persist(autor);\r\n                for (Filme filmeCollectionFilme : autor.getFilmeCollection()) {\r\n                    Autor oldIdAutorOfFilmeCollectionFilme = filmeCollectionFilme.getIdAutor();\r\n                    filmeCollectionFilme.setIdAutor(autor);\r\n                    filmeCollectionFilme = em.merge(filmeCollectionFilme);\r\n                    if (oldIdAutorOfFilmeCollectionFilme != null) {\r\n                        oldIdAutorOfFilmeCollectionFilme.getFilmeCollection().remove(filmeCollectionFilme);\r\n                        oldIdAutorOfFilmeCollectionFilme = em.merge(oldIdAutorOfFilmeCollectionFilme);\r\n                    }\r\n                }\r\n                em.getTransaction().commit();\r\n            } finally {\r\n                if (em != null) {\r\n                    em.close();\r\n                }\r\n            }\r\n        }\r\n    \r\n        public void edit(Autor autor) throws IllegalOrphanException, NonexistentEntityException, Exception {\r\n            EntityManager em = null;\r\n            try {\r\n                em = getEntityManager();\r\n                em.getTransaction().begin();\r\n                Autor persistentAutor = em.find(Autor.class, autor.getIdAutor());\r\n                Collection&lt;Filme&gt; filmeCollectionOld = persistentAutor.getFilmeCollection();\r\n                Collection&lt;Filme&gt; filmeCollectionNew = autor.getFilmeCollection();\r\n                List&lt;String&gt; illegalOrphanMessages = null;\r\n                for (Filme filmeCollectionOldFilme : filmeCollectionOld) {\r\n                    if (!filmeCollectionNew.contains(filmeCollectionOldFilme)) {\r\n                        if (illegalOrphanMessages == null) {\r\n                            illegalOrphanMessages = new ArrayList&lt;String&gt;();\r\n                        }\r\n                        illegalOrphanMessages.add(&quot;You must retain Filme &quot; + filmeCollectionOldFilme + &quot; since its idAutor field is not nullable.&quot;);\r\n                    }\r\n                }\r\n                if (illegalOrphanMessages != null) {\r\n                    throw new IllegalOrphanException(illegalOrphanMessages);\r\n                }\r\n                Collection&lt;Filme&gt; attachedFilmeCollectionNew = new ArrayList&lt;Filme&gt;();\r\n                for (Filme filmeCollectionNewFilmeToAttach : filmeCollectionNew) {\r\n                    filmeCollectionNewFilmeToAttach = em.getReference(filmeCollectionNewFilmeToAttach.getClass(), filmeCollectionNewFilmeToAttach.getIdFilme());\r\n                    attachedFilmeCollectionNew.add(filmeCollectionNewFilmeToAttach);\r\n                }\r\n                filmeCollectionNew = attachedFilmeCollectionNew;\r\n                autor.setFilmeCollection(filmeCollectionNew);\r\n                autor = em.merge(autor);\r\n                for (Filme filmeCollectionNewFilme : filmeCollectionNew) {\r\n                    if (!filmeCollectionOld.contains(filmeCollectionNewFilme)) {\r\n                        Autor oldIdAutorOfFilmeCollectionNewFilme = filmeCollectionNewFilme.getIdAutor();\r\n                        filmeCollectionNewFilme.setIdAutor(autor);\r\n                        filmeCollectionNewFilme = em.merge(filmeCollectionNewFilme);\r\n                        if (oldIdAutorOfFilmeCollectionNewFilme != null &amp;&amp; !oldIdAutorOfFilmeCollectionNewFilme.equals(autor)) {\r\n                            oldIdAutorOfFilmeCollectionNewFilme.getFilmeCollection().remove(filmeCollectionNewFilme);\r\n                            oldIdAutorOfFilmeCollectionNewFilme = em.merge(oldIdAutorOfFilmeCollectionNewFilme);\r\n                        }\r\n                    }\r\n                }\r\n                em.getTransaction().commit();\r\n            } catch (Exception ex) {\r\n                String msg = ex.getLocalizedMessage();\r\n                if (msg == null || msg.length() == 0) {\r\n                    Integer id = autor.getIdAutor();\r\n                    if (findAutor(id) == null) {\r\n                        throw new NonexistentEntityException(&quot;The autor with id &quot; + id + &quot; no longer exists.&quot;);\r\n                    }\r\n                }\r\n                throw ex;\r\n            } finally {\r\n                if (em != null) {\r\n                    em.close();\r\n                }\r\n            }\r\n        }\r\n    \r\n        public void destroy(Integer id) throws IllegalOrphanException, NonexistentEntityException {\r\n            EntityManager em = null;\r\n            try {\r\n                em = getEntityManager();\r\n                em.getTransaction().begin();\r\n                Autor autor;\r\n                try {\r\n                    autor = em.getReference(Autor.class, id);\r\n                    autor.getIdAutor();\r\n                } catch (EntityNotFoundException enfe) {\r\n                    throw new NonexistentEntityException(&quot;The autor with id &quot; + id + &quot; no longer exists.&quot;, enfe);\r\n                }\r\n                List&lt;String&gt; illegalOrphanMessages = null;\r\n                Collection&lt;Filme&gt; filmeCollectionOrphanCheck = autor.getFilmeCollection();\r\n                for (Filme filmeCollectionOrphanCheckFilme : filmeCollectionOrphanCheck) {\r\n                    if (illegalOrphanMessages == null) {\r\n                        illegalOrphanMessages = new ArrayList&lt;String&gt;();\r\n                    }\r\n                    illegalOrphanMessages.add(&quot;This Autor (&quot; + autor + &quot;) cannot be destroyed since the Filme &quot; + filmeCollectionOrphanCheckFilme + &quot; in its filmeCollection field has a non-nullable idAutor field.&quot;);\r\n                }\r\n                if (illegalOrphanMessages != null) {\r\n                    throw new IllegalOrphanException(illegalOrphanMessages);\r\n                }\r\n                em.remove(autor);\r\n                em.getTransaction().commit();\r\n            } finally {\r\n                if (em != null) {\r\n                    em.close();\r\n                }\r\n            }\r\n        }\r\n    \r\n        public List&lt;Autor&gt; findAutorEntities() {\r\n            return findAutorEntities(true, -1, -1);\r\n        }\r\n    \r\n        public List&lt;Autor&gt; findAutorEntities(int maxResults, int firstResult) {\r\n            return findAutorEntities(false, maxResults, firstResult);\r\n        }\r\n    \r\n        private List&lt;Autor&gt; findAutorEntities(boolean all, int maxResults, int firstResult) {\r\n            EntityManager em = getEntityManager();\r\n            try {\r\n                CriteriaQuery cq = em.getCriteriaBuilder().createQuery();\r\n                cq.select(cq.from(Autor.class));\r\n                Query q = em.createQuery(cq);\r\n                if (!all) {\r\n                    q.setMaxResults(maxResults);\r\n                    q.setFirstResult(firstResult);\r\n                }\r\n                return q.getResultList();\r\n            } finally {\r\n                em.close();\r\n            }\r\n        }\r\n    \r\n        public Autor findAutor(Integer id) {\r\n            EntityManager em = getEntityManager();\r\n            try {\r\n                return em.find(Autor.class, id);\r\n            } finally {\r\n                em.close();\r\n            }\r\n        }\r\n    \r\n        public int getAutorCount() {\r\n            EntityManager em = getEntityManager();\r\n            try {\r\n                CriteriaQuery cq = em.getCriteriaBuilder().createQuery();\r\n                Root&lt;Autor&gt; rt = cq.from(Autor.class);\r\n                cq.select(em.getCriteriaBuilder().count(rt));\r\n                Query q = em.createQuery(cq);\r\n                return ((Long) q.getSingleResult()).intValue();\r\n            } finally {\r\n                em.close();\r\n            }\r\n        }\r\n        \r\n    }\r\n\r\n**FilmeJpaController.java**\r\n\r\n    import controller.exceptions.NonexistentEntityException;\r\n    import java.io.Serializable;\r\n    import java.util.List;\r\n    import javax.persistence.EntityManager;\r\n    import javax.persistence.EntityManagerFactory;\r\n    import javax.persistence.Query;\r\n    import javax.persistence.EntityNotFoundException;\r\n    import javax.persistence.criteria.CriteriaQuery;\r\n    import javax.persistence.criteria.Root;\r\n    import model.Autor;\r\n    import model.Filme;\r\n    \r\n    public class FilmeJpaController implements Serializable {\r\n    \r\n        public FilmeJpaController(EntityManagerFactory emf) {\r\n            this.emf = emf;\r\n        }\r\n        private EntityManagerFactory emf = null;\r\n    \r\n        public EntityManager getEntityManager() {\r\n            return emf.createEntityManager();\r\n        }\r\n    \r\n        public void create(Filme filme) {\r\n            EntityManager em = null;\r\n            try {\r\n                em = getEntityManager();\r\n                em.getTransaction().begin();\r\n                Autor idAutor = filme.getIdAutor();\r\n                if (idAutor != null) {\r\n                    idAutor = em.getReference(idAutor.getClass(), idAutor.getIdAutor());\r\n                    filme.setIdAutor(idAutor);\r\n                }\r\n                em.persist(filme);\r\n                if (idAutor != null) {\r\n                    idAutor.getFilmeCollection().add(filme);\r\n                    idAutor = em.merge(idAutor);\r\n                }\r\n                em.getTransaction().commit();\r\n            } finally {\r\n                if (em != null) {\r\n                    em.close();\r\n                }\r\n            }\r\n        }\r\n    \r\n        public void edit(Filme filme) throws NonexistentEntityException, Exception {\r\n            EntityManager em = null;\r\n            try {\r\n                em = getEntityManager();\r\n                em.getTransaction().begin();\r\n                Filme persistentFilme = em.find(Filme.class, filme.getIdFilme());\r\n                Autor idAutorOld = persistentFilme.getIdAutor();\r\n                Autor idAutorNew = filme.getIdAutor();\r\n                if (idAutorNew != null) {\r\n                    idAutorNew = em.getReference(idAutorNew.getClass(), idAutorNew.getIdAutor());\r\n                    filme.setIdAutor(idAutorNew);\r\n                }\r\n                filme = em.merge(filme);\r\n                if (idAutorOld != null &amp;&amp; !idAutorOld.equals(idAutorNew)) {\r\n                    idAutorOld.getFilmeCollection().remove(filme);\r\n                    idAutorOld = em.merge(idAutorOld);\r\n                }\r\n                if (idAutorNew != null &amp;&amp; !idAutorNew.equals(idAutorOld)) {\r\n                    idAutorNew.getFilmeCollection().add(filme);\r\n                    idAutorNew = em.merge(idAutorNew);\r\n                }\r\n                em.getTransaction().commit();\r\n            } catch (Exception ex) {\r\n                String msg = ex.getLocalizedMessage();\r\n                if (msg == null || msg.length() == 0) {\r\n                    Integer id = filme.getIdFilme();\r\n                    if (findFilme(id) == null) {\r\n                        throw new NonexistentEntityException(&quot;The filme with id &quot; + id + &quot; no longer exists.&quot;);\r\n                    }\r\n                }\r\n                throw ex;\r\n            } finally {\r\n                if (em != null) {\r\n                    em.close();\r\n                }\r\n            }\r\n        }\r\n    \r\n        public void destroy(Integer id) throws NonexistentEntityException {\r\n            EntityManager em = null;\r\n            try {\r\n                em = getEntityManager();\r\n                em.getTransaction().begin();\r\n                Filme filme;\r\n                try {\r\n                    filme = em.getReference(Filme.class, id);\r\n                    filme.getIdFilme();\r\n                } catch (EntityNotFoundException enfe) {\r\n                    throw new NonexistentEntityException(&quot;The filme with id &quot; + id + &quot; no longer exists.&quot;, enfe);\r\n                }\r\n                Autor idAutor = filme.getIdAutor();\r\n                if (idAutor != null) {\r\n                    idAutor.getFilmeCollection().remove(filme);\r\n                    idAutor = em.merge(idAutor);\r\n                }\r\n                em.remove(filme);\r\n                em.getTransaction().commit();\r\n            } finally {\r\n                if (em != null) {\r\n                    em.close();\r\n                }\r\n            }\r\n        }\r\n    \r\n        public List&lt;Filme&gt; findFilmeEntities() {\r\n            return findFilmeEntities(true, -1, -1);\r\n        }\r\n    \r\n        public List&lt;Filme&gt; findFilmeEntities(int maxResults, int firstResult) {\r\n            return findFilmeEntities(false, maxResults, firstResult);\r\n        }\r\n    \r\n        private List&lt;Filme&gt; findFilmeEntities(boolean all, int maxResults, int firstResult) {\r\n            EntityManager em = getEntityManager();\r\n            try {\r\n                CriteriaQuery cq = em.getCriteriaBuilder().createQuery();\r\n                cq.select(cq.from(Filme.class));\r\n                Query q = em.createQuery(cq);\r\n                if (!all) {\r\n                    q.setMaxResults(maxResults);\r\n                    q.setFirstResult(firstResult);\r\n                }\r\n                return q.getResultList();\r\n            } finally {\r\n                em.close();\r\n            }\r\n        }\r\n    \r\n        public Filme findFilme(Integer id) {\r\n            EntityManager em = getEntityManager();\r\n            try {\r\n                return em.find(Filme.class, id);\r\n            } finally {\r\n                em.close();\r\n            }\r\n        }\r\n    \r\n        public int getFilmeCount() {\r\n            EntityManager em = getEntityManager();\r\n            try {\r\n                CriteriaQuery cq = em.getCriteriaBuilder().createQuery();\r\n                Root&lt;Filme&gt; rt = cq.from(Filme.class);\r\n                cq.select(em.getCriteriaBuilder().count(rt));\r\n                Query q = em.createQuery(cq);\r\n                return ((Long) q.getSingleResult()).intValue();\r\n            } finally {\r\n                em.close();\r\n            }\r\n        }\r\n        \r\n    }","title":"An instance of a null PK has been incorrectly provided for this find operation","body":"<p>I'm using Eclipselink to persist data to MySQL database and when I call the create method, it give me the error:</p>\n<blockquote>\n<p>An instance of a null PK has been incorrectly provided for this find\noperation</p>\n</blockquote>\n<p>I've searched on other questions here, but none of them solved my problem.\nI have a class Autor and a class Filme. Both have the ID field as AUTO INCREMENT and the table Filme have the foreign key referencing to Autor.id_autor.</p>\n<p>Here is the code of my database:</p>\n<pre><code>\nCREATE TABLE `autor` (\n  `id_autor` int(11) NOT NULL AUTO_INCREMENT,\n  `nome` varchar(100) NOT NULL,\n  PRIMARY KEY (`id_autor`)\n) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=latin1;\n\nCREATE TABLE `filme` (\n  `id_filme` int(11) NOT NULL AUTO_INCREMENT,\n  `id_autor` int(11) NOT NULL,\n  `nome` varchar(100) NOT NULL,\n  PRIMARY KEY (`id_filme`),\n  KEY `fk_flme_ator_idx` (`id_autor`),\n  CONSTRAINT `fk_flme_ator` FOREIGN KEY (`id_autor`) REFERENCES `autor` (`id_autor`) ON UPDATE CASCADE\n) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=latin1;\n\n</code></pre>\n<p>And the Java classes:</p>\n<p><strong>Autor.java</strong></p>\n<pre><code>package model;\n\nimport java.io.Serializable;\nimport java.util.Collection;\nimport javax.persistence.Basic;\nimport javax.persistence.CascadeType;\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.NamedQueries;\nimport javax.persistence.NamedQuery;\nimport javax.persistence.OneToMany;\nimport javax.persistence.Table;\nimport javax.xml.bind.annotation.XmlRootElement;\nimport javax.xml.bind.annotation.XmlTransient;\n\n@Entity\n@Table(name = &quot;autor&quot;)\n@XmlRootElement\n@NamedQueries({\n    @NamedQuery(name = &quot;Autor.findAll&quot;, query = &quot;SELECT a FROM Autor a&quot;),\n    @NamedQuery(name = &quot;Autor.findByIdAutor&quot;, query = &quot;SELECT a FROM Autor a WHERE a.idAutor = :idAutor&quot;),\n    @NamedQuery(name = &quot;Autor.findByNome&quot;, query = &quot;SELECT a FROM Autor a WHERE a.nome = :nome&quot;)})\npublic class Autor implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Basic(optional = false)\n    @Column(name = &quot;id_autor&quot;)\n    private Integer idAutor;\n    @Basic(optional = false)\n    @Column(name = &quot;nome&quot;)\n    private String nome;\n    @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;idAutor&quot;)\n    private Collection&lt;Filme&gt; filmeCollection;\n\n    public Autor() {\n    }\n\n    public Autor(Integer idAutor) {\n        this.idAutor = idAutor;\n    }\n\n    public Autor(Integer idAutor, String nome) {\n        this.idAutor = idAutor;\n        this.nome = nome;\n    }\n\n    public Integer getIdAutor() {\n        return idAutor;\n    }\n\n    public void setIdAutor(Integer idAutor) {\n        this.idAutor = idAutor;\n    }\n\n    public String getNome() {\n        return nome;\n    }\n\n    public void setNome(String nome) {\n        this.nome = nome;\n    }\n\n    @XmlTransient\n    public Collection&lt;Filme&gt; getFilmeCollection() {\n        return filmeCollection;\n    }\n\n    public void setFilmeCollection(Collection&lt;Filme&gt; filmeCollection) {\n        this.filmeCollection = filmeCollection;\n    }\n\n    @Override\n    public int hashCode() {\n        int hash = 0;\n        hash += (idAutor != null ? idAutor.hashCode() : 0);\n        return hash;\n    }\n\n    @Override\n    public boolean equals(Object object) {\n        // TODO: Warning - this method won't work in the case the id fields are not set\n        if (!(object instanceof Autor)) {\n            return false;\n        }\n        Autor other = (Autor) object;\n        if ((this.idAutor == null &amp;&amp; other.idAutor != null) || (this.idAutor != null &amp;&amp; !this.idAutor.equals(other.idAutor))) {\n            return false;\n        }\n        return true;\n    }\n\n    @Override\n    public String toString() {\n        return nome;\n    }\n    \n}\n</code></pre>\n<p><strong>Filme.java</strong></p>\n<pre><code>package model;\n\nimport java.io.Serializable;\nimport javax.persistence.Basic;\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.JoinColumn;\nimport javax.persistence.ManyToOne;\nimport javax.persistence.NamedQueries;\nimport javax.persistence.NamedQuery;\nimport javax.persistence.Table;\nimport javax.xml.bind.annotation.XmlRootElement;\n\n@Entity\n@Table(name = &quot;filme&quot;)\n@XmlRootElement\n@NamedQueries({\n    @NamedQuery(name = &quot;Filme.findAll&quot;, query = &quot;SELECT f FROM Filme f&quot;),\n    @NamedQuery(name = &quot;Filme.findByIdFilme&quot;, query = &quot;SELECT f FROM Filme f WHERE f.idFilme = :idFilme&quot;),\n    @NamedQuery(name = &quot;Filme.findByNome&quot;, query = &quot;SELECT f FROM Filme f WHERE f.nome = :nome&quot;)})\npublic class Filme implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Basic(optional = false)\n    @Column(name = &quot;id_filme&quot;)\n    private Integer idFilme;\n    @Basic(optional = false)\n    @Column(name = &quot;nome&quot;)\n    private String nome;\n    @JoinColumn(name = &quot;id_autor&quot;, referencedColumnName = &quot;id_autor&quot;)\n    @ManyToOne(optional = false)\n    private Autor idAutor;\n\n    public Filme() {\n    }\n\n    public Filme(Integer idFilme) {\n        this.idFilme = idFilme;\n    }\n\n    public Filme(Integer idFilme, String nome) {\n        this.idFilme = idFilme;\n        this.nome = nome;\n    }\n\n    public Integer getIdFilme() {\n        return idFilme;\n    }\n\n    public void setIdFilme(Integer idFilme) {\n        this.idFilme = idFilme;\n    }\n\n    public String getNome() {\n        return nome;\n    }\n\n    public void setNome(String nome) {\n        this.nome = nome;\n    }\n\n    public Autor getIdAutor() {\n        return idAutor;\n    }\n\n    public void setIdAutor(Autor idAutor) {\n        this.idAutor = idAutor;\n    }\n\n    @Override\n    public int hashCode() {\n        int hash = 0;\n        hash += (idFilme != null ? idFilme.hashCode() : 0);\n        return hash;\n    }\n\n    @Override\n    public boolean equals(Object object) {\n        // TODO: Warning - this method won't work in the case the id fields are not set\n        if (!(object instanceof Filme)) {\n            return false;\n        }\n        Filme other = (Filme) object;\n        if ((this.idFilme == null &amp;&amp; other.idFilme != null) || (this.idFilme != null &amp;&amp; !this.idFilme.equals(other.idFilme))) {\n            return false;\n        }\n        return true;\n    }\n\n    @Override\n    public String toString() {\n        return nome;\n    }\n\n}\n</code></pre>\n<p><strong>Main.java:</strong></p>\n<pre><code>public static void main(String[] args) {\n\n        EntityManagerFactory emf = null;\n        if (emf == null) {\n            emf = Persistence.createEntityManagerFactory(\"Estudos_JPAPU\");\n        }\n        \n        Autor a = new Autor();\n        a.setNome(\"Autor 1\");\n        a.setFilmeCollection(new ArrayList());\n        \n        Filme f = new Filme();\n        f.setNome(\"Filme 1\");\n        f.setIdAutor(a);\n\n        a.getFilmeCollection().add(f);\n                \n        new AutorJpaController(emf).create(a);\n\n    }\n\n</code></pre>\n<p><strong>EDIT</strong></p>\n<p><strong>AutorJpaController.java</strong></p>\n<pre><code>import controller.exceptions.IllegalOrphanException;\nimport controller.exceptions.NonexistentEntityException;\nimport java.io.Serializable;\nimport javax.persistence.Query;\nimport javax.persistence.EntityNotFoundException;\nimport javax.persistence.criteria.CriteriaQuery;\nimport javax.persistence.criteria.Root;\nimport model.Filme;\nimport java.util.ArrayList;\nimport java.util.Collection;\nimport java.util.List;\nimport javax.persistence.EntityManager;\nimport javax.persistence.EntityManagerFactory;\nimport model.Autor;\n\npublic class AutorJpaController implements Serializable {\n\n    public AutorJpaController(EntityManagerFactory emf) {\n        this.emf = emf;\n    }\n    private EntityManagerFactory emf = null;\n\n    public EntityManager getEntityManager() {\n        return emf.createEntityManager();\n    }\n\n    public void create(Autor autor) {\n        if (autor.getFilmeCollection() == null) {\n            autor.setFilmeCollection(new ArrayList&lt;Filme&gt;());\n        }\n        EntityManager em = null;\n        try {\n            em = getEntityManager();\n            em.getTransaction().begin();\n            Collection&lt;Filme&gt; attachedFilmeCollection = new ArrayList&lt;Filme&gt;();\n            for (Filme filmeCollectionFilmeToAttach : autor.getFilmeCollection()) {\n                filmeCollectionFilmeToAttach = em.getReference(filmeCollectionFilmeToAttach.getClass(), filmeCollectionFilmeToAttach.getIdFilme());\n                attachedFilmeCollection.add(filmeCollectionFilmeToAttach);\n            }\n            autor.setFilmeCollection(attachedFilmeCollection);\n            em.persist(autor);\n            for (Filme filmeCollectionFilme : autor.getFilmeCollection()) {\n                Autor oldIdAutorOfFilmeCollectionFilme = filmeCollectionFilme.getIdAutor();\n                filmeCollectionFilme.setIdAutor(autor);\n                filmeCollectionFilme = em.merge(filmeCollectionFilme);\n                if (oldIdAutorOfFilmeCollectionFilme != null) {\n                    oldIdAutorOfFilmeCollectionFilme.getFilmeCollection().remove(filmeCollectionFilme);\n                    oldIdAutorOfFilmeCollectionFilme = em.merge(oldIdAutorOfFilmeCollectionFilme);\n                }\n            }\n            em.getTransaction().commit();\n        } finally {\n            if (em != null) {\n                em.close();\n            }\n        }\n    }\n\n    public void edit(Autor autor) throws IllegalOrphanException, NonexistentEntityException, Exception {\n        EntityManager em = null;\n        try {\n            em = getEntityManager();\n            em.getTransaction().begin();\n            Autor persistentAutor = em.find(Autor.class, autor.getIdAutor());\n            Collection&lt;Filme&gt; filmeCollectionOld = persistentAutor.getFilmeCollection();\n            Collection&lt;Filme&gt; filmeCollectionNew = autor.getFilmeCollection();\n            List&lt;String&gt; illegalOrphanMessages = null;\n            for (Filme filmeCollectionOldFilme : filmeCollectionOld) {\n                if (!filmeCollectionNew.contains(filmeCollectionOldFilme)) {\n                    if (illegalOrphanMessages == null) {\n                        illegalOrphanMessages = new ArrayList&lt;String&gt;();\n                    }\n                    illegalOrphanMessages.add(&quot;You must retain Filme &quot; + filmeCollectionOldFilme + &quot; since its idAutor field is not nullable.&quot;);\n                }\n            }\n            if (illegalOrphanMessages != null) {\n                throw new IllegalOrphanException(illegalOrphanMessages);\n            }\n            Collection&lt;Filme&gt; attachedFilmeCollectionNew = new ArrayList&lt;Filme&gt;();\n            for (Filme filmeCollectionNewFilmeToAttach : filmeCollectionNew) {\n                filmeCollectionNewFilmeToAttach = em.getReference(filmeCollectionNewFilmeToAttach.getClass(), filmeCollectionNewFilmeToAttach.getIdFilme());\n                attachedFilmeCollectionNew.add(filmeCollectionNewFilmeToAttach);\n            }\n            filmeCollectionNew = attachedFilmeCollectionNew;\n            autor.setFilmeCollection(filmeCollectionNew);\n            autor = em.merge(autor);\n            for (Filme filmeCollectionNewFilme : filmeCollectionNew) {\n                if (!filmeCollectionOld.contains(filmeCollectionNewFilme)) {\n                    Autor oldIdAutorOfFilmeCollectionNewFilme = filmeCollectionNewFilme.getIdAutor();\n                    filmeCollectionNewFilme.setIdAutor(autor);\n                    filmeCollectionNewFilme = em.merge(filmeCollectionNewFilme);\n                    if (oldIdAutorOfFilmeCollectionNewFilme != null &amp;&amp; !oldIdAutorOfFilmeCollectionNewFilme.equals(autor)) {\n                        oldIdAutorOfFilmeCollectionNewFilme.getFilmeCollection().remove(filmeCollectionNewFilme);\n                        oldIdAutorOfFilmeCollectionNewFilme = em.merge(oldIdAutorOfFilmeCollectionNewFilme);\n                    }\n                }\n            }\n            em.getTransaction().commit();\n        } catch (Exception ex) {\n            String msg = ex.getLocalizedMessage();\n            if (msg == null || msg.length() == 0) {\n                Integer id = autor.getIdAutor();\n                if (findAutor(id) == null) {\n                    throw new NonexistentEntityException(&quot;The autor with id &quot; + id + &quot; no longer exists.&quot;);\n                }\n            }\n            throw ex;\n        } finally {\n            if (em != null) {\n                em.close();\n            }\n        }\n    }\n\n    public void destroy(Integer id) throws IllegalOrphanException, NonexistentEntityException {\n        EntityManager em = null;\n        try {\n            em = getEntityManager();\n            em.getTransaction().begin();\n            Autor autor;\n            try {\n                autor = em.getReference(Autor.class, id);\n                autor.getIdAutor();\n            } catch (EntityNotFoundException enfe) {\n                throw new NonexistentEntityException(&quot;The autor with id &quot; + id + &quot; no longer exists.&quot;, enfe);\n            }\n            List&lt;String&gt; illegalOrphanMessages = null;\n            Collection&lt;Filme&gt; filmeCollectionOrphanCheck = autor.getFilmeCollection();\n            for (Filme filmeCollectionOrphanCheckFilme : filmeCollectionOrphanCheck) {\n                if (illegalOrphanMessages == null) {\n                    illegalOrphanMessages = new ArrayList&lt;String&gt;();\n                }\n                illegalOrphanMessages.add(&quot;This Autor (&quot; + autor + &quot;) cannot be destroyed since the Filme &quot; + filmeCollectionOrphanCheckFilme + &quot; in its filmeCollection field has a non-nullable idAutor field.&quot;);\n            }\n            if (illegalOrphanMessages != null) {\n                throw new IllegalOrphanException(illegalOrphanMessages);\n            }\n            em.remove(autor);\n            em.getTransaction().commit();\n        } finally {\n            if (em != null) {\n                em.close();\n            }\n        }\n    }\n\n    public List&lt;Autor&gt; findAutorEntities() {\n        return findAutorEntities(true, -1, -1);\n    }\n\n    public List&lt;Autor&gt; findAutorEntities(int maxResults, int firstResult) {\n        return findAutorEntities(false, maxResults, firstResult);\n    }\n\n    private List&lt;Autor&gt; findAutorEntities(boolean all, int maxResults, int firstResult) {\n        EntityManager em = getEntityManager();\n        try {\n            CriteriaQuery cq = em.getCriteriaBuilder().createQuery();\n            cq.select(cq.from(Autor.class));\n            Query q = em.createQuery(cq);\n            if (!all) {\n                q.setMaxResults(maxResults);\n                q.setFirstResult(firstResult);\n            }\n            return q.getResultList();\n        } finally {\n            em.close();\n        }\n    }\n\n    public Autor findAutor(Integer id) {\n        EntityManager em = getEntityManager();\n        try {\n            return em.find(Autor.class, id);\n        } finally {\n            em.close();\n        }\n    }\n\n    public int getAutorCount() {\n        EntityManager em = getEntityManager();\n        try {\n            CriteriaQuery cq = em.getCriteriaBuilder().createQuery();\n            Root&lt;Autor&gt; rt = cq.from(Autor.class);\n            cq.select(em.getCriteriaBuilder().count(rt));\n            Query q = em.createQuery(cq);\n            return ((Long) q.getSingleResult()).intValue();\n        } finally {\n            em.close();\n        }\n    }\n    \n}\n</code></pre>\n<p><strong>FilmeJpaController.java</strong></p>\n<pre><code>import controller.exceptions.NonexistentEntityException;\nimport java.io.Serializable;\nimport java.util.List;\nimport javax.persistence.EntityManager;\nimport javax.persistence.EntityManagerFactory;\nimport javax.persistence.Query;\nimport javax.persistence.EntityNotFoundException;\nimport javax.persistence.criteria.CriteriaQuery;\nimport javax.persistence.criteria.Root;\nimport model.Autor;\nimport model.Filme;\n\npublic class FilmeJpaController implements Serializable {\n\n    public FilmeJpaController(EntityManagerFactory emf) {\n        this.emf = emf;\n    }\n    private EntityManagerFactory emf = null;\n\n    public EntityManager getEntityManager() {\n        return emf.createEntityManager();\n    }\n\n    public void create(Filme filme) {\n        EntityManager em = null;\n        try {\n            em = getEntityManager();\n            em.getTransaction().begin();\n            Autor idAutor = filme.getIdAutor();\n            if (idAutor != null) {\n                idAutor = em.getReference(idAutor.getClass(), idAutor.getIdAutor());\n                filme.setIdAutor(idAutor);\n            }\n            em.persist(filme);\n            if (idAutor != null) {\n                idAutor.getFilmeCollection().add(filme);\n                idAutor = em.merge(idAutor);\n            }\n            em.getTransaction().commit();\n        } finally {\n            if (em != null) {\n                em.close();\n            }\n        }\n    }\n\n    public void edit(Filme filme) throws NonexistentEntityException, Exception {\n        EntityManager em = null;\n        try {\n            em = getEntityManager();\n            em.getTransaction().begin();\n            Filme persistentFilme = em.find(Filme.class, filme.getIdFilme());\n            Autor idAutorOld = persistentFilme.getIdAutor();\n            Autor idAutorNew = filme.getIdAutor();\n            if (idAutorNew != null) {\n                idAutorNew = em.getReference(idAutorNew.getClass(), idAutorNew.getIdAutor());\n                filme.setIdAutor(idAutorNew);\n            }\n            filme = em.merge(filme);\n            if (idAutorOld != null &amp;&amp; !idAutorOld.equals(idAutorNew)) {\n                idAutorOld.getFilmeCollection().remove(filme);\n                idAutorOld = em.merge(idAutorOld);\n            }\n            if (idAutorNew != null &amp;&amp; !idAutorNew.equals(idAutorOld)) {\n                idAutorNew.getFilmeCollection().add(filme);\n                idAutorNew = em.merge(idAutorNew);\n            }\n            em.getTransaction().commit();\n        } catch (Exception ex) {\n            String msg = ex.getLocalizedMessage();\n            if (msg == null || msg.length() == 0) {\n                Integer id = filme.getIdFilme();\n                if (findFilme(id) == null) {\n                    throw new NonexistentEntityException(&quot;The filme with id &quot; + id + &quot; no longer exists.&quot;);\n                }\n            }\n            throw ex;\n        } finally {\n            if (em != null) {\n                em.close();\n            }\n        }\n    }\n\n    public void destroy(Integer id) throws NonexistentEntityException {\n        EntityManager em = null;\n        try {\n            em = getEntityManager();\n            em.getTransaction().begin();\n            Filme filme;\n            try {\n                filme = em.getReference(Filme.class, id);\n                filme.getIdFilme();\n            } catch (EntityNotFoundException enfe) {\n                throw new NonexistentEntityException(&quot;The filme with id &quot; + id + &quot; no longer exists.&quot;, enfe);\n            }\n            Autor idAutor = filme.getIdAutor();\n            if (idAutor != null) {\n                idAutor.getFilmeCollection().remove(filme);\n                idAutor = em.merge(idAutor);\n            }\n            em.remove(filme);\n            em.getTransaction().commit();\n        } finally {\n            if (em != null) {\n                em.close();\n            }\n        }\n    }\n\n    public List&lt;Filme&gt; findFilmeEntities() {\n        return findFilmeEntities(true, -1, -1);\n    }\n\n    public List&lt;Filme&gt; findFilmeEntities(int maxResults, int firstResult) {\n        return findFilmeEntities(false, maxResults, firstResult);\n    }\n\n    private List&lt;Filme&gt; findFilmeEntities(boolean all, int maxResults, int firstResult) {\n        EntityManager em = getEntityManager();\n        try {\n            CriteriaQuery cq = em.getCriteriaBuilder().createQuery();\n            cq.select(cq.from(Filme.class));\n            Query q = em.createQuery(cq);\n            if (!all) {\n                q.setMaxResults(maxResults);\n                q.setFirstResult(firstResult);\n            }\n            return q.getResultList();\n        } finally {\n            em.close();\n        }\n    }\n\n    public Filme findFilme(Integer id) {\n        EntityManager em = getEntityManager();\n        try {\n            return em.find(Filme.class, id);\n        } finally {\n            em.close();\n        }\n    }\n\n    public int getFilmeCount() {\n        EntityManager em = getEntityManager();\n        try {\n            CriteriaQuery cq = em.getCriteriaBuilder().createQuery();\n            Root&lt;Filme&gt; rt = cq.from(Filme.class);\n            cq.select(em.getCriteriaBuilder().count(rt));\n            Query q = em.createQuery(cq);\n            return ((Long) q.getSingleResult()).intValue();\n        } finally {\n            em.close();\n        }\n    }\n    \n}\n</code></pre>\n"},{"tags":["java","collections","java-stream"],"comments":[{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1638380946,"post_id":70188859,"comment_id":124074983,"body_markdown":"Can you show a code example rather than describing the code in words? &quot;A picture&#39;s worth a 1000 words&quot;","body":"Can you show a code example rather than describing the code in words? &quot;A picture&#39;s worth a 1000 words&quot;"},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":3,"creation_date":1638381402,"post_id":70188859,"comment_id":124075196,"body_markdown":"[Race your horses](https://ericlippert.com/2012/12/17/performance-rant/).","body":"<a href=\"https://ericlippert.com/2012/12/17/performance-rant/\" rel=\"nofollow noreferrer\">Race your horses</a>."},{"owner":{"account_id":21376612,"reputation":65,"user_id":15743238,"display_name":"StackOverthrow"},"score":0,"creation_date":1638381565,"post_id":70188859,"comment_id":124075273,"body_markdown":"@Sweeper I am not that familiar with stream API and so am trying to understand if stream changes data to a different state which then converts back to the original DataStructure when using .collect() method or is it just iterating and filtering and removing elements. I have looked online but didn&#39;t find a clear answer so just asking for some help to clear things out.","body":"@Sweeper I am not that familiar with stream API and so am trying to understand if stream changes data to a different state which then converts back to the original DataStructure when using .collect() method or is it just iterating and filtering and removing elements. I have looked online but didn&#39;t find a clear answer so just asking for some help to clear things out."},{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":2,"creation_date":1638381720,"post_id":70188859,"comment_id":124075333,"body_markdown":"@StackOverthrow It is conceptually no different from a for-loop containing an if-statement which adds to a new list or set. It&#39;s that, but in a functional style.","body":"@StackOverthrow It is conceptually no different from a for-loop containing an if-statement which adds to a new list or set. It&#39;s that, but in a functional style."},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1638381723,"post_id":70188859,"comment_id":124075336,"body_markdown":"Both `toList` and `toSet` creates new collection objects to store the results. One of them is not going to suddenly get faster if you streamed from a `List` instead. Does that answer your question?","body":"Both <code>toList</code> and <code>toSet</code> creates new collection objects to store the results. One of them is not going to suddenly get faster if you streamed from a <code>List</code> instead. Does that answer your question?"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1638383126,"post_id":70188859,"comment_id":124075926,"body_markdown":"It doesn&#39;t change data in the initial collection at all.  Streams don&#39;t keep any aspect of &quot;this came from a HashSet.&quot;","body":"It doesn&#39;t change data in the initial collection at all.  Streams don&#39;t keep any aspect of &quot;this came from a HashSet.&quot;"},{"owner":{"account_id":21376612,"reputation":65,"user_id":15743238,"display_name":"StackOverthrow"},"score":0,"creation_date":1638383372,"post_id":70188859,"comment_id":124076011,"body_markdown":"Yes, that does answer my question. I appreciate the explanations @Michael, Sweeper, and Louis Wassweman","body":"Yes, that does answer my question. I appreciate the explanations @Michael, Sweeper, and Louis Wassweman"},{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":2,"creation_date":1638391628,"post_id":70188859,"comment_id":124079055,"body_markdown":"@LouisWasserman You&#39;re basically right, but &quot;*any aspect*&quot; is an overstatement. A stream does retain *some* flags based on the source, which can have subtle influences on the behaviour. A stream from a list will have the ORDERED flag, and a stream from a set should have the DISTINCT flag: https://ideone.com/QXTIpC","body":"@LouisWasserman You&#39;re basically right, but &quot;<i>any aspect</i>&quot; is an overstatement. A stream does retain <i>some</i> flags based on the source, which can have subtle influences on the behaviour. A stream from a list will have the ORDERED flag, and a stream from a set should have the DISTINCT flag: <a href=\"https://ideone.com/QXTIpC\" rel=\"nofollow noreferrer\">ideone.com/QXTIpC</a>"}],"answers":[{"tags":[],"owner":{"account_id":1022685,"reputation":1563,"user_id":1032640,"accept_rate":71,"display_name":"Wael"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1638393434,"creation_date":1638393434,"answer_id":70191316,"question_id":70188859,"body_markdown":"Collecting to a List is faster than collecting to a Set. This is because when collecting to a set, for each value, it needs to find its hashcode and based on this hashcode know where in memory to put this value.\r\n\r\nSo the question is should we always collect to List instead of Set? No, it depends on the situation. If later in the code you need to check if an element exists in this list or set, it is much faster to search the set. The complexity to search within the list is o(n) while using .contains on the set is just o(1). \r\nSo to conclude, use the Set if you have code that uses .contains, but use List if you just need to iterate it later.","title":"Java Stream API&#39;s Collectors.toList() and Collectors.toSet() mechanics","body":"<p>Collecting to a List is faster than collecting to a Set. This is because when collecting to a set, for each value, it needs to find its hashcode and based on this hashcode know where in memory to put this value.</p>\n<p>So the question is should we always collect to List instead of Set? No, it depends on the situation. If later in the code you need to check if an element exists in this list or set, it is much faster to search the set. The complexity to search within the list is o(n) while using .contains on the set is just o(1).\nSo to conclude, use the Set if you have code that uses .contains, but use List if you just need to iterate it later.</p>\n"}],"owner":{"account_id":21376612,"reputation":65,"user_id":15743238,"display_name":"StackOverthrow"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":346,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1643651950,"creation_date":1638380552,"question_id":70188859,"body_markdown":"If I have HashSet&lt;Object&gt; and I use stream  .filter() for some operations and then do `.collect(Collectors.toList())` would that be inefficient compared to just collecting the stream back to a HashSet `.collect(Collectors.toSet())`?\r\n\r\nWould that take a similar time as explicitly converting a HashSet to a List `O(n)` or is Stream a different state from where it would take about similar time to add elements back to a List or to a Set?\r\n\r\nThe dataset is significantly large. I would like to go with a List because it consumes less memory but I don&#39;t want to sacrifice speed for that.\r\n\r\n**Code Sample Example:**\r\n\r\n    Set&lt;Object&gt; originalSet;  // this is a set containing 800,000 Objects\r\n    \r\n    // Scenario 1\r\n    List&lt;Object&gt; newList = originalSet.stream().filter(Object::isEnabled).collect(Collectors.toList())\r\n       \r\n    // Scenario 2 \r\n    Set&lt;Object&gt; newSet = originalSet.stream().filter(Object::isEnabled).collect(Collectors.toSet())\r\n\r\n","title":"Java Stream API&#39;s Collectors.toList() and Collectors.toSet() mechanics","body":"<p>If I have HashSet and I use stream  .filter() for some operations and then do <code>.collect(Collectors.toList())</code> would that be inefficient compared to just collecting the stream back to a HashSet <code>.collect(Collectors.toSet())</code>?</p>\n<p>Would that take a similar time as explicitly converting a HashSet to a List <code>O(n)</code> or is Stream a different state from where it would take about similar time to add elements back to a List or to a Set?</p>\n<p>The dataset is significantly large. I would like to go with a List because it consumes less memory but I don't want to sacrifice speed for that.</p>\n<p><strong>Code Sample Example:</strong></p>\n<pre><code>Set&lt;Object&gt; originalSet;  // this is a set containing 800,000 Objects\n\n// Scenario 1\nList&lt;Object&gt; newList = originalSet.stream().filter(Object::isEnabled).collect(Collectors.toList())\n   \n// Scenario 2 \nSet&lt;Object&gt; newSet = originalSet.stream().filter(Object::isEnabled).collect(Collectors.toSet())\n</code></pre>\n"},{"tags":["java","android","kotlin","google-sheets"],"answers":[{"tags":[],"owner":{"account_id":4800197,"reputation":327,"user_id":3877042,"display_name":"PHolzwarth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643651931,"creation_date":1643650971,"answer_id":70930462,"question_id":70928627,"body_markdown":"For security reasons (API keys are required), Google recommends not to call its Workspace APIs from mobile apps, but from server side applications only. Documentation for server side access is here: [Sheets API - Java Quickstart][1]. You can do this also from an Android app, but the steps are a bit more involved, as documented here: [Google Workspace APIs for Android][2].  For a blog see e.g. [Setup Google Sheets API for Android][3], which points to another article for setting up the authorization.\r\n\r\n\r\n  [1]: https://developers.google.com/sheets/api/quickstart/java\r\n  [2]: https://developers.google.com/workspace/guides/android\r\n  [3]: https://code.luasoftware.com/tutorials/google-sheets-api/setup-google-sheets-api-for-android/","title":"How can I search a Google sheet and return the row?","body":"<p>For security reasons (API keys are required), Google recommends not to call its Workspace APIs from mobile apps, but from server side applications only. Documentation for server side access is here: <a href=\"https://developers.google.com/sheets/api/quickstart/java\" rel=\"nofollow noreferrer\">Sheets API - Java Quickstart</a>. You can do this also from an Android app, but the steps are a bit more involved, as documented here: <a href=\"https://developers.google.com/workspace/guides/android\" rel=\"nofollow noreferrer\">Google Workspace APIs for Android</a>.  For a blog see e.g. <a href=\"https://code.luasoftware.com/tutorials/google-sheets-api/setup-google-sheets-api-for-android/\" rel=\"nofollow noreferrer\">Setup Google Sheets API for Android</a>, which points to another article for setting up the authorization.</p>\n"}],"owner":{"account_id":17114544,"reputation":75,"user_id":12384427,"display_name":"Patrick"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70930462,"answer_count":1,"score":0,"last_activity_date":1643651931,"creation_date":1643643390,"question_id":70928627,"body_markdown":"Just getting into mobile programming and googling hasn&#39;t helped me.\r\n\r\nWhat I am trying to do is make a bar code reader. I have found examples of it online using vision and such. Got that working fine.\r\n\r\nNow here is what I am trying to do. Column A has all of the barcodes.  Column B has the item number my company uses. Column C has the item description.\r\n\r\nOnce I have the input from the scanner, take that number and search the Google sheet. If it gets a match, it will return the information from column B and C from that same row. \r\n\r\nAs a novice programmer, I kind of need a base to work off of but am having trouble finding anything.\r\n\r\nAny help? ","title":"How can I search a Google sheet and return the row?","body":"<p>Just getting into mobile programming and googling hasn't helped me.</p>\n<p>What I am trying to do is make a bar code reader. I have found examples of it online using vision and such. Got that working fine.</p>\n<p>Now here is what I am trying to do. Column A has all of the barcodes.  Column B has the item number my company uses. Column C has the item description.</p>\n<p>Once I have the input from the scanner, take that number and search the Google sheet. If it gets a match, it will return the information from column B and C from that same row.</p>\n<p>As a novice programmer, I kind of need a base to work off of but am having trouble finding anything.</p>\n<p>Any help?</p>\n"},{"tags":["java","list","lambda","expression","comparator"],"comments":[{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":1,"creation_date":1643673950,"post_id":70930327,"comment_id":125398766,"body_markdown":"Does this answer your question? [How to sort a List/ArrayList?](https://stackoverflow.com/questions/16252269/how-to-sort-a-list-arraylist) There are several examples with lambdas and method references.","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/16252269/how-to-sort-a-list-arraylist\">How to sort a List/ArrayList?</a> There are several examples with lambdas and method references."},{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":0,"creation_date":1643674045,"post_id":70930327,"comment_id":125398792,"body_markdown":"Also note [When to use LinkedList over ArrayList in Java?](https://stackoverflow.com/q/322715/525036) – `LinkedList` is certainly not your best choice if the plan is sorting it.","body":"Also note <a href=\"https://stackoverflow.com/q/322715/525036\">When to use LinkedList over ArrayList in Java?</a> – <code>LinkedList</code> is certainly not your best choice if the plan is sorting it."}],"answers":[{"tags":[],"owner":{"account_id":7006606,"reputation":663,"user_id":5370761,"accept_rate":80,"display_name":"Leni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643651846,"creation_date":1643651404,"answer_id":70930557,"question_id":70930327,"body_markdown":"    import java.util.stream.Collectors;\r\n\r\n    public List&lt;Integer&gt; methodName(int length, int min, int max) {\r\n            LinkedList&lt;Integer&gt; intll = new LinkedList&lt;&gt;();\r\n            for (int i =0; i&lt;length;i++)\r\n                intll.add(ThreadLocalRandom.current().nextInt(min,max+1));\r\n\r\n            return intll.stream().sorted((a, b) -&gt; a - b).collect(Collectors.toList());\r\n    }\r\n\r\nif you want to change the sort order, use b - a instead of a - b\r\n","title":"Sorting a LinkedList with a lambda expression","body":"<pre><code>import java.util.stream.Collectors;\n\npublic List&lt;Integer&gt; methodName(int length, int min, int max) {\n        LinkedList&lt;Integer&gt; intll = new LinkedList&lt;&gt;();\n        for (int i =0; i&lt;length;i++)\n            intll.add(ThreadLocalRandom.current().nextInt(min,max+1));\n\n        return intll.stream().sorted((a, b) -&gt; a - b).collect(Collectors.toList());\n}\n</code></pre>\n<p>if you want to change the sort order, use b - a instead of a - b</p>\n"},{"tags":[],"owner":{"account_id":13277309,"reputation":23,"user_id":9586203,"display_name":"Amar Alte"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643651828,"creation_date":1643651828,"answer_id":70930643,"question_id":70930327,"body_markdown":"`LinkedList&lt;Integer&gt; sortedIntll = intll.stream().sorted(Comparator.comparingInt(Integer::valueOf)).collect(Collectors.toCollection(LinkedList::new));`","title":"Sorting a LinkedList with a lambda expression","body":"<p><code>LinkedList&lt;Integer&gt; sortedIntll = intll.stream().sorted(Comparator.comparingInt(Integer::valueOf)).collect(Collectors.toCollection(LinkedList::new));</code></p>\n"}],"owner":{"account_id":23869199,"reputation":31,"user_id":17871136,"display_name":"snow_white"},"comment_count":2,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":434,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1643688145,"accepted_answer_id":70930557,"answer_count":2,"score":0,"last_activity_date":1643651846,"creation_date":1643650266,"question_id":70930327,"body_markdown":"**Hello**. I want to sort a newly created LinkedList ascending, all elements of the list are crated randomly. My task is to sort them with a Comparator, but I am not allowed to write a class that implements Comparator, rather I should sort it by a lambda expression. This is my code so far:\r\n```\r\npublic List&lt;Integer&gt; methodName(int length, int min, int max){\r\n        LinkedList&lt;Integer&gt; intll = new LinkedList&lt;&gt;();\r\n        for (int i =0; i&lt;length;i++){\r\n            intll.add(ThreadLocalRandom.current().nextInt(min,max+1));\r\n        //Sorting part \r\n```\r\nSo far I tried using the sort method from Collections and List, but could not help me further more with that. \r\nThank you very much for helping me in advance.","title":"Sorting a LinkedList with a lambda expression","body":"<p><strong>Hello</strong>. I want to sort a newly created LinkedList ascending, all elements of the list are crated randomly. My task is to sort them with a Comparator, but I am not allowed to write a class that implements Comparator, rather I should sort it by a lambda expression. This is my code so far:</p>\n<pre><code>public List&lt;Integer&gt; methodName(int length, int min, int max){\n        LinkedList&lt;Integer&gt; intll = new LinkedList&lt;&gt;();\n        for (int i =0; i&lt;length;i++){\n            intll.add(ThreadLocalRandom.current().nextInt(min,max+1));\n        //Sorting part \n</code></pre>\n<p>So far I tried using the sort method from Collections and List, but could not help me further more with that.\nThank you very much for helping me in advance.</p>\n"},{"tags":["java","spring","request","resteasy"],"comments":[{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1643651953,"post_id":70930622,"comment_id":125391907,"body_markdown":"Please change the line `res = e.toString();` to `e.printStackTrace();` so we can see more information.  Include that information in an [edit](https://stackoverflow.com/posts/70930622/edit) of your post.","body":"Please change the line <code>res = e.toString();</code> to <code>e.printStackTrace();</code> so we can see more information.  Include that information in an <a href=\"https://stackoverflow.com/posts/70930622/edit\">edit</a> of your post."},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1643656279,"post_id":70930622,"comment_id":125393582,"body_markdown":"That is a fairly old version of RESTEasy too. You may want to consider upgrading especially since this is just client code.","body":"That is a fairly old version of RESTEasy too. You may want to consider upgrading especially since this is just client code."}],"owner":{"account_id":24112803,"reputation":1,"user_id":18083164,"display_name":"Miguel Angel Quevedo Valdivia"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":998,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643651786,"creation_date":1643651728,"question_id":70930622,"body_markdown":"Good afternoon community, I find this error when consuming a service, I have reviewed other articles published in this medium but I cannot find the solution to my problem\r\n\r\nThis is my main\r\n\r\n    public class MainConsume {\r\n    \r\n      \r\n        public static void main(String[] args) {\r\n    \r\n            String res = &quot;&quot;;\r\n            String URL = &quot;http://127.0.0.1:20001/claro-int-consultacliente-resource/api/int/consultacliente/v1.0.0/consultarContratos&quot;;\r\n    \r\n            try {\r\n    \r\n                Client client = ClientBuilder.newClient();\r\n                WebTarget target = client.target(URL);\r\n                Invocation.Builder solicitud = target.request();\r\n                MultivaluedMap&lt;String, Object&gt; myHeaders = new MultivaluedHashMap&lt;String, Object&gt;();\r\n                myHeaders.add(&quot;1111111122332223456&quot;, &quot;idTransaccion&quot;);\r\n                myHeaders.add(&quot;0&quot;, &quot;msgid&quot;);\r\n                myHeaders.add(&quot;0&quot;, &quot;userid&quot;);\r\n                solicitud.headers(myHeaders);\r\n                request req = new request();\r\n                req.setTipoDocumento(&quot;2&quot;);\r\n                req.setNumeroDocumento(&quot;74163187&quot;);\r\n                Gson gson = new Gson();\r\n                String jsonString = gson.toJson(req);\r\n                System.out.println(jsonString);\r\n                Response post = solicitud.post(Entity.json(jsonString));\r\n                String responseJson = post.readEntity(String.class);\r\n                res = responseJson;\r\n    \r\n                System.out.println(&quot;Estatus: &quot; + post.getStatus());\r\n    \r\n                switch (post.getStatus()) {\r\n                    case 200:\r\n                        res = responseJson;\r\n                        break;\r\n                    default:\r\n                        res = &quot;Error&quot;;\r\n                        break;\r\n                }\r\n    \r\n            } catch (Exception e) {\r\n    \r\n                res = e.toString();\r\n            }\r\n    \r\n            System.out.println(res);\r\n    \r\n        }\r\n    \r\n    }\r\n\r\n\r\nThis is my pom.xml\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; \r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;groupId&gt;pe.claro&lt;/groupId&gt;\r\n        &lt;artifactId&gt;consumeservicios&lt;/artifactId&gt;\r\n        &lt;version&gt;0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;packaging&gt;jar&lt;/packaging&gt;\r\n        &lt;properties&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n        &lt;/properties&gt;\r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.3&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;!-- Run shade goal on package phase --&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;phase&gt;package&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;shade&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;transformers&gt;\r\n                                    &lt;!-- add Main-Class to manifest file --&gt;\r\n                                    &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n                                        &lt;mainClass&gt;pe.claro.com.eai.consumeservicios.MainConsume&lt;/mainClass&gt;\r\n                                    &lt;/transformer&gt;\r\n                                &lt;/transformers&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n        \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n                &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n                &lt;version&gt;2.8.6&lt;/version&gt;\r\n                &lt;type&gt;jar&lt;/type&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javax.ws.rs-api&lt;/artifactId&gt;\r\n                &lt;version&gt;2.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\r\n                &lt;artifactId&gt;resteasy-client&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1.0.Final&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.json&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javax.json-api&lt;/artifactId&gt;\r\n                &lt;version&gt;1.1.4&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n                &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n                &lt;version&gt;20180130&lt;/version&gt;\r\n                &lt;type&gt;jar&lt;/type&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javaee-web-api&lt;/artifactId&gt;\r\n                &lt;version&gt;7.0&lt;/version&gt;\r\n                &lt;type&gt;jar&lt;/type&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\n","title":"Error: javax.ws.rs.ProcessingException: RESTEASY004655: Unable to invoke request","body":"<p>Good afternoon community, I find this error when consuming a service, I have reviewed other articles published in this medium but I cannot find the solution to my problem</p>\n<p>This is my main</p>\n<pre><code>public class MainConsume {\n\n  \n    public static void main(String[] args) {\n\n        String res = &quot;&quot;;\n        String URL = &quot;http://127.0.0.1:20001/claro-int-consultacliente-resource/api/int/consultacliente/v1.0.0/consultarContratos&quot;;\n\n        try {\n\n            Client client = ClientBuilder.newClient();\n            WebTarget target = client.target(URL);\n            Invocation.Builder solicitud = target.request();\n            MultivaluedMap&lt;String, Object&gt; myHeaders = new MultivaluedHashMap&lt;String, Object&gt;();\n            myHeaders.add(&quot;1111111122332223456&quot;, &quot;idTransaccion&quot;);\n            myHeaders.add(&quot;0&quot;, &quot;msgid&quot;);\n            myHeaders.add(&quot;0&quot;, &quot;userid&quot;);\n            solicitud.headers(myHeaders);\n            request req = new request();\n            req.setTipoDocumento(&quot;2&quot;);\n            req.setNumeroDocumento(&quot;74163187&quot;);\n            Gson gson = new Gson();\n            String jsonString = gson.toJson(req);\n            System.out.println(jsonString);\n            Response post = solicitud.post(Entity.json(jsonString));\n            String responseJson = post.readEntity(String.class);\n            res = responseJson;\n\n            System.out.println(&quot;Estatus: &quot; + post.getStatus());\n\n            switch (post.getStatus()) {\n                case 200:\n                    res = responseJson;\n                    break;\n                default:\n                    res = &quot;Error&quot;;\n                    break;\n            }\n\n        } catch (Exception e) {\n\n            res = e.toString();\n        }\n\n        System.out.println(res);\n\n    }\n\n}\n</code></pre>\n<p>This is my pom.xml</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; \n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;pe.claro&lt;/groupId&gt;\n    &lt;artifactId&gt;consumeservicios&lt;/artifactId&gt;\n    &lt;version&gt;0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.3&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;!-- Run shade goal on package phase --&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;shade&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;transformers&gt;\n                                &lt;!-- add Main-Class to manifest file --&gt;\n                                &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\n                                    &lt;mainClass&gt;pe.claro.com.eai.consumeservicios.MainConsume&lt;/mainClass&gt;\n                                &lt;/transformer&gt;\n                            &lt;/transformers&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    \n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\n            &lt;version&gt;2.8.6&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.ws.rs-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\n            &lt;artifactId&gt;resteasy-client&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.json&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.json-api&lt;/artifactId&gt;\n            &lt;version&gt;1.1.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\n            &lt;version&gt;20180130&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax&lt;/groupId&gt;\n            &lt;artifactId&gt;javaee-web-api&lt;/artifactId&gt;\n            &lt;version&gt;7.0&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-boot","rabbitmq","spring-rabbit"],"comments":[{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1643653266,"post_id":70930620,"comment_id":125392401,"body_markdown":"It would be great to see some simple Spring Boot project from you to let us to reproduce and play with.","body":"It would be great to see some simple Spring Boot project from you to let us to reproduce and play with."},{"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1643653296,"post_id":70930620,"comment_id":125392423,"body_markdown":"You need to specify software versions and show bean configuration - specifically `refreshEventListener`. And show the full stack trace.","body":"You need to specify software versions and show bean configuration - specifically <code>refreshEventListener</code>. And show the full stack trace."}],"owner":{"account_id":21162997,"reputation":1,"user_id":15607601,"display_name":"Luan Pereira"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1779,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643651713,"creation_date":1643651713,"question_id":70930620,"body_markdown":"When trying to start a RabbitMQ queue i&#39;m getting an error message like the following:\r\nError creating bean with name &#39;refreshEventListener&#39;: Singleton bean creation not allowed while singletons of this factory are in destruction (Do not request a bean from a BeanFactory in a destroy method implementation!)\r\n\r\nI&#39;ve already seen some other questions similar to this one, where i could &quot;solve&quot; the error just by stopping my RabbitMQ docker container, in fact, i didn&#39;t get the error message when doing it, but i would need to make them both work together. It seems like there&#39;s some &quot;conflict&quot; between this queue and tomcat, i don&#39;t know exactly what, since i have many other queues working with the container docker.","title":"Error creating bean with name &#39;refreshEventListener&#39;: Singleton bean creation not allowed while singletons of this factory are in destruction","body":"<p>When trying to start a RabbitMQ queue i'm getting an error message like the following:\nError creating bean with name 'refreshEventListener': Singleton bean creation not allowed while singletons of this factory are in destruction (Do not request a bean from a BeanFactory in a destroy method implementation!)</p>\n<p>I've already seen some other questions similar to this one, where i could &quot;solve&quot; the error just by stopping my RabbitMQ docker container, in fact, i didn't get the error message when doing it, but i would need to make them both work together. It seems like there's some &quot;conflict&quot; between this queue and tomcat, i don't know exactly what, since i have many other queues working with the container docker.</p>\n"},{"tags":["java","image","mouse-cursor"],"comments":[{"owner":{"account_id":4230755,"reputation":7764,"user_id":3536342,"display_name":"DavidPostill"},"score":0,"creation_date":1406718370,"post_id":25035080,"comment_id":38936137,"body_markdown":"Can you do something with [getPredefinedCursor](http://docs.oracle.com/javase/7/docs/api/java/awt/Cursor.html#getPredefinedCursor%28int%29)?","body":"Can you do something with <a href=\"http://docs.oracle.com/javase/7/docs/api/java/awt/Cursor.html#getPredefinedCursor%28int%29\" rel=\"nofollow noreferrer\">getPredefinedCursor</a>?"},{"owner":{"account_id":3477991,"reputation":3445,"user_id":2910751,"accept_rate":90,"display_name":"Martin Frank"},"score":1,"creation_date":1406718586,"post_id":25035080,"comment_id":38936280,"body_markdown":"i get even the cursor from my panel, &lt;code&gt;JPanel myPanel = new JPanel();&lt;br/&gt;\n\t\tmyPanel.getCursor()&lt;/code&gt; but how can i draw this cursor?","body":"i get even the cursor from my panel, &lt;code&gt;JPanel myPanel = new JPanel();&lt;br/&gt; \t\tmyPanel.getCursor()&lt;/code&gt; but how can i draw this cursor?"},{"owner":{"account_id":4230755,"reputation":7764,"user_id":3536342,"display_name":"DavidPostill"},"score":1,"creation_date":1406719108,"post_id":25035080,"comment_id":38936597,"body_markdown":"Possible duplicate of [Extract cursor image in Java](http://stackoverflow.com/a/740528/3536342), this answer shows how to load windows cursor as a Java image using JNI","body":"Possible duplicate of <a href=\"http://stackoverflow.com/a/740528/3536342\">Extract cursor image in Java</a>, this answer shows how to load windows cursor as a Java image using JNI"},{"owner":{"account_id":3477991,"reputation":3445,"user_id":2910751,"accept_rate":90,"display_name":"Martin Frank"},"score":1,"creation_date":1406719489,"post_id":25035080,"comment_id":38936845,"body_markdown":"yes, maybe a duplicate... but in that posts you get the pointer image via native code using win32api... i was looking for a way without that...","body":"yes, maybe a duplicate... but in that posts you get the pointer image via native code using win32api... i was looking for a way without that..."},{"owner":{"account_id":4230755,"reputation":7764,"user_id":3536342,"display_name":"DavidPostill"},"score":0,"creation_date":1406719700,"post_id":25035080,"comment_id":38936969,"body_markdown":"I don&#39;t think it&#39;s possible without native code ... :/","body":"I don&#39;t think it&#39;s possible without native code ... :/"},{"owner":{"account_id":3477991,"reputation":3445,"user_id":2910751,"accept_rate":90,"display_name":"Martin Frank"},"score":1,"creation_date":1406720119,"post_id":25035080,"comment_id":38937241,"body_markdown":"ok, thanks a lot - i tried the robot to create a snap shot - but on the screen capture is no mouse pointer visible...","body":"ok, thanks a lot - i tried the robot to create a snap shot - but on the screen capture is no mouse pointer visible..."},{"owner":{"account_id":3477991,"reputation":3445,"user_id":2910751,"accept_rate":90,"display_name":"Martin Frank"},"score":1,"creation_date":1406723709,"post_id":25035080,"comment_id":38939476,"body_markdown":"very frustrationg - the jna/jni approach from @McDowell from Extract cursor image in Java, works perfectly... but still, i&#39;m quite annoyed to do such work around - i&#39;m grateful that you lead me to the right path, thanks man, really!!!","body":"very frustrationg - the jna/jni approach from @McDowell from Extract cursor image in Java, works perfectly... but still, i&#39;m quite annoyed to do such work around - i&#39;m grateful that you lead me to the right path, thanks man, really!!!"},{"owner":{"account_id":135952,"reputation":1812,"user_id":339146,"accept_rate":75,"display_name":"Panayotis"},"score":0,"creation_date":1473013525,"post_id":25035080,"comment_id":65972293,"body_markdown":"Any luck with that? I know that it&#39;s a very old post, but still the answer might be useful...","body":"Any luck with that? I know that it&#39;s a very old post, but still the answer might be useful..."},{"owner":{"account_id":3477991,"reputation":3445,"user_id":2910751,"accept_rate":90,"display_name":"Martin Frank"},"score":0,"creation_date":1473049458,"post_id":25035080,"comment_id":65979652,"body_markdown":"@Panayotis what worked was the approach from McDowell: http://stackoverflow.com/questions/739870/extract-cursor-image-in-java/740528#740528","body":"@Panayotis what worked was the approach from McDowell: <a href=\"http://stackoverflow.com/questions/739870/extract-cursor-image-in-java/740528#740528\" title=\"extract cursor image in java\">stackoverflow.com/questions/739870/extract-cursor-image-in-j&zwnj;&#8203;ava/&hellip;</a>"},{"owner":{"account_id":135952,"reputation":1812,"user_id":339146,"accept_rate":75,"display_name":"Panayotis"},"score":0,"creation_date":1473181716,"post_id":25035080,"comment_id":66038637,"body_markdown":"@MartinFrank thank you, I was hoping for some kind of more OS-independed solution but it seems I&#39;m out of luck. Thus I might need to have a look at linux/OS implementations too and it already sounds like hell.","body":"@MartinFrank thank you, I was hoping for some kind of more OS-independed solution but it seems I&#39;m out of luck. Thus I might need to have a look at linux/OS implementations too and it already sounds like hell."},{"owner":{"account_id":3477991,"reputation":3445,"user_id":2910751,"accept_rate":90,"display_name":"Martin Frank"},"score":0,"creation_date":1473227420,"post_id":25035080,"comment_id":66053230,"body_markdown":"@Panayotis i&#39;m really sad to hear that :-/","body":"@Panayotis i&#39;m really sad to hear that :-/"}],"owner":{"account_id":3477991,"reputation":3445,"user_id":2910751,"accept_rate":90,"display_name":"Martin Frank"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2214,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":0,"score":5,"last_activity_date":1643651645,"creation_date":1406717903,"question_id":25035080,"body_markdown":"I want to re-use the current Mouse Pointer. I want to use the current selected mouse Pointer image and want to underlay another image. The application is written in java\r\n\r\nthe idea is, i have a tool bar and when i use the save-tool, the cursor should be a custom tool-image (disk) and over this the mouse pointer image provided by the underlying operating system.\r\n\r\n![creating custom curso image][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/lZ0EG.png\r\n\r\nso far i know how to change a cursor:\r\n\r\n    Toolkit toolkit = Toolkit.getDefaultToolkit();\r\n    Image image = toolkit.getImage(&quot;images/diskimage.gif&quot;);\r\n    Point pointerPos = new Point(1,1);\r\n    Cursor c = toolkit.createCustomCursor(image , pointerPos, &quot;cursorname&quot;);\r\n    myPanel.setCursor (c);\r\n\r\nand i know how to paint images on each other, so i can create a merged image.\r\nthe problem is, that i don&#39;t want to use custom cursor images, but instead enhance the cursors that are already in use.\r\n\r\n--&gt; but how can i get the image from the cursor from the underlying operating system?","title":"how to get current mouse pointer image","body":"<p>I want to re-use the current Mouse Pointer. I want to use the current selected mouse Pointer image and want to underlay another image. The application is written in java</p>\n<p>the idea is, i have a tool bar and when i use the save-tool, the cursor should be a custom tool-image (disk) and over this the mouse pointer image provided by the underlying operating system.</p>\n<p><img src=\"https://i.stack.imgur.com/lZ0EG.png\" alt=\"creating custom curso image\" /></p>\n<p>so far i know how to change a cursor:</p>\n<pre><code>Toolkit toolkit = Toolkit.getDefaultToolkit();\nImage image = toolkit.getImage(&quot;images/diskimage.gif&quot;);\nPoint pointerPos = new Point(1,1);\nCursor c = toolkit.createCustomCursor(image , pointerPos, &quot;cursorname&quot;);\nmyPanel.setCursor (c);\n</code></pre>\n<p>and i know how to paint images on each other, so i can create a merged image.\nthe problem is, that i don't want to use custom cursor images, but instead enhance the cursors that are already in use.</p>\n<p>--&gt; but how can i get the image from the cursor from the underlying operating system?</p>\n"},{"tags":["java","swing","mouse-cursor"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1421972981,"post_id":28100974,"comment_id":44577709,"body_markdown":"Does it only occur on MacOS or have you tested it on Windows as well?","body":"Does it only occur on MacOS or have you tested it on Windows as well?"},{"owner":{"account_id":4641830,"reputation":975,"user_id":3761440,"accept_rate":75,"display_name":"jfdoming"},"score":0,"creation_date":1421973219,"post_id":28100974,"comment_id":44577780,"body_markdown":"I&#39;ve tested it on Windows. However, I know for a fact that the `getPredefinedCursor` method doesn&#39;t return a user set one; I just don&#39;t know why. There is a `cursor.properties` file in the JRE that defines &#39;system&#39; cursors returned by the `getSystemCustomCursor`, but that method only works with cursors listed in that file.","body":"I&#39;ve tested it on Windows. However, I know for a fact that the <code>getPredefinedCursor</code> method doesn&#39;t return a user set one; I just don&#39;t know why. There is a <code>cursor.properties</code> file in the JRE that defines &#39;system&#39; cursors returned by the <code>getSystemCustomCursor</code>, but that method only works with cursors listed in that file."},{"owner":{"account_id":4641830,"reputation":975,"user_id":3761440,"accept_rate":75,"display_name":"jfdoming"},"score":0,"creation_date":1423447842,"post_id":28100974,"comment_id":45138924,"body_markdown":"I also don&#39;t want to modify the JRE (obviously).","body":"I also don&#39;t want to modify the JRE (obviously)."},{"owner":{"account_id":3621196,"reputation":604,"user_id":3019891,"accept_rate":62,"display_name":"CoderMusgrove"},"score":1,"creation_date":1423448853,"post_id":28100974,"comment_id":45139119,"body_markdown":"Possibly you could just take the event when you hover over something (where you want the banana to appear) and just set the cursor as such from a loaded image (if you know how to do that)","body":"Possibly you could just take the event when you hover over something (where you want the banana to appear) and just set the cursor as such from a loaded image (if you know how to do that)"},{"owner":{"account_id":4641830,"reputation":975,"user_id":3761440,"accept_rate":75,"display_name":"jfdoming"},"score":0,"creation_date":1423449618,"post_id":28100974,"comment_id":45139268,"body_markdown":"I would do that, except I don&#39;t want to force the user to submit an image. It would be better if I could use the one set in [this dialog](http://cdn3.howtogeek.com/wp-content/uploads/2009/10/image100.png).","body":"I would do that, except I don&#39;t want to force the user to submit an image. It would be better if I could use the one set in <a href=\"http://cdn3.howtogeek.com/wp-content/uploads/2009/10/image100.png\" rel=\"nofollow noreferrer\">this dialog</a>."},{"owner":{"account_id":3452279,"reputation":37360,"user_id":2891664,"accept_rate":100,"display_name":"Radiodef"},"score":0,"creation_date":1423452794,"post_id":28100974,"comment_id":45139968,"body_markdown":"This is probably a native thing. One would assume that since a user-defined cursor is platform-dependent, it must be obtained in a platform-dependent way. Not all platforms allow a user-defined cursor. I&#39;m pretty sure OSX doesn&#39;t.","body":"This is probably a native thing. One would assume that since a user-defined cursor is platform-dependent, it must be obtained in a platform-dependent way. Not all platforms allow a user-defined cursor. I&#39;m pretty sure OSX doesn&#39;t."},{"owner":{"account_id":4641830,"reputation":975,"user_id":3761440,"accept_rate":75,"display_name":"jfdoming"},"score":0,"creation_date":1423500922,"post_id":28100974,"comment_id":45163341,"body_markdown":"OK thank you for your recommendation.","body":"OK thank you for your recommendation."}],"answers":[{"tags":[],"owner":{"account_id":4088920,"reputation":61,"user_id":3357488,"display_name":"SFFan123"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1439132346,"creation_date":1439132346,"answer_id":31905544,"question_id":28100974,"body_markdown":"Have You tried `jLabel1.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));` this method should get the system cursor as you wanted.","title":"Use user set custom cursor Java","body":"<p>Have You tried <code>jLabel1.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));</code> this method should get the system cursor as you wanted.</p>\n"}],"owner":{"account_id":4641830,"reputation":975,"user_id":3761440,"accept_rate":75,"display_name":"jfdoming"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":478,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1643651589,"creation_date":1421971877,"question_id":28100974,"body_markdown":"I know that it is possible for users to define their own system-wide cursors on Windows and OSX. However, I haven&#39;t found any way to use those cursors in a Java class.\r\n\r\nFor example, say I have a JFrame, and a custom drawn component, like so:\r\n\r\n![Link in JFrame][1]\r\n\r\nThis cursor was set using `setCursor(Cursor.getPredefinedCursor(Cursor.HAND_CURSOR))`. But I want to use the **link** cursor set by the user so the application is more integrated with the OS. Is there any way to _not_ use the Java defined link cursor? Do I need to explicitly ask for a file? Or do I need to use JNA or something?\r\n\r\n**---EDIT---**\r\n\r\nI think I need to make the question more clear.\r\n\r\nSay the user set their system-wide link cursor (the cursor that appears when hovering over a link, say in a web browser) to a picture of a banana. How do I switch to the banana cursor when hovering over a custom-drawn component?\r\n\r\n  [1]: http://i.stack.imgur.com/7g970.png","title":"Use user set custom cursor Java","body":"<p>I know that it is possible for users to define their own system-wide cursors on Windows and OSX. However, I haven't found any way to use those cursors in a Java class.</p>\n\n<p>For example, say I have a JFrame, and a custom drawn component, like so:</p>\n\n<p><img src=\"https://i.stack.imgur.com/7g970.png\" alt=\"Link in JFrame\"></p>\n\n<p>This cursor was set using <code>setCursor(Cursor.getPredefinedCursor(Cursor.HAND_CURSOR))</code>. But I want to use the <strong>link</strong> cursor set by the user so the application is more integrated with the OS. Is there any way to <em>not</em> use the Java defined link cursor? Do I need to explicitly ask for a file? Or do I need to use JNA or something?</p>\n\n<p><strong>---EDIT---</strong></p>\n\n<p>I think I need to make the question more clear.</p>\n\n<p>Say the user set their system-wide link cursor (the cursor that appears when hovering over a link, say in a web browser) to a picture of a banana. How do I switch to the banana cursor when hovering over a custom-drawn component?</p>\n"},{"tags":["java","spring","spring-boot","heroku","activemq"],"comments":[{"owner":{"account_id":21851133,"reputation":39,"user_id":16143194,"display_name":"Turnus Silver"},"score":0,"creation_date":1643650879,"post_id":70930047,"comment_id":125391493,"body_markdown":"@JustinBertram both.","body":"@JustinBertram both."},{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1643652709,"post_id":70930047,"comment_id":125392191,"body_markdown":"What have you tried so far?","body":"What have you tried so far?"},{"owner":{"account_id":21851133,"reputation":39,"user_id":16143194,"display_name":"Turnus Silver"},"score":0,"creation_date":1643661224,"post_id":70930047,"comment_id":125395376,"body_markdown":"Nothing to be exact. That is my question how to do this ? I can deploy the application and run ActiveMQ in my localhost but my application will be down in that case. So What to do ?","body":"Nothing to be exact. That is my question how to do this ? I can deploy the application and run ActiveMQ in my localhost but my application will be down in that case. So What to do ?"},{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1643661881,"post_id":70930047,"comment_id":125395600,"body_markdown":"Stack Overflow is really for programming questions, and that&#39;s not what your question is about. I think you&#39;re better off asking your question on a something like https://serverfault.com/questions/tagged/heroku.","body":"Stack Overflow is really for programming questions, and that&#39;s not what your question is about. I think you&#39;re better off asking your question on a something like <a href=\"https://serverfault.com/questions/tagged/heroku\">serverfault.com/questions/tagged/heroku</a>."},{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1643662241,"post_id":70930047,"comment_id":125395720,"body_markdown":"Also, it&#39;s customary for folks to actually attempt to perform the task they&#39;re asking about before seeking help. I&#39;m sure Heroku has some kind of documentation aimed at helping users deploy their applications. I recommend you start there and see how far you get. If you hit road-blocks then you can ask specific questions about the process you&#39;re following. It&#39;s much easier to answer specific questions than broad questions like what you&#39;re asking here.","body":"Also, it&#39;s customary for folks to actually attempt to perform the task they&#39;re asking about before seeking help. I&#39;m sure Heroku has some kind of documentation aimed at helping users deploy their applications. I recommend you start there and see how far you get. If you hit road-blocks then you can ask specific questions about the process you&#39;re following. It&#39;s much easier to answer specific questions than broad questions like what you&#39;re asking here."}],"owner":{"account_id":21851133,"reputation":39,"user_id":16143194,"display_name":"Turnus Silver"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1643651223,"creation_date":1643649109,"question_id":70930047,"body_markdown":"I have a Java Spring Boot application which uses ActiveMQ from a [Docker Image][1]. It is now completed. Now how to deploy it to Heroku?\r\n\r\nThe application is based on ActiveMQ. So I also need to deploy it.\r\n\r\n\r\n  [1]: https://hub.docker.com/r/rmohr/activemq/","title":"Deploy a Spring Boot application which uses ActiveMQ from Docker to Heroku","body":"<p>I have a Java Spring Boot application which uses ActiveMQ from a <a href=\"https://hub.docker.com/r/rmohr/activemq/\" rel=\"nofollow noreferrer\">Docker Image</a>. It is now completed. Now how to deploy it to Heroku?</p>\n<p>The application is based on ActiveMQ. So I also need to deploy it.</p>\n"},{"tags":["java","maven","jboss","log4j","log4j2"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1643751694,"post_id":70930200,"comment_id":125422271,"body_markdown":"Where do you have the dependencies defined? From the message it looks like an EJB JAR needs the dependency on it. This means the log4j libraries would need to be in the `ProxyControlEAR.ear/lib`.","body":"Where do you have the dependencies defined? From the message it looks like an EJB JAR needs the dependency on it. This means the log4j libraries would need to be in the <code>ProxyControlEAR.ear&#47;lib</code>."},{"owner":{"account_id":23811369,"reputation":73,"user_id":17820208,"display_name":"SJB"},"score":0,"creation_date":1643787335,"post_id":70930200,"comment_id":125428737,"body_markdown":"@JamesR.Perkins, Yes, I know what you say. But my problem is to understand why using logj4 1.2 there&#39;s no need to include the library into the `EAR` file. I add that the class that calls ProxyControl already contains the library and all run under JBoss 7.1 control. But I think the problem is another.","body":"@JamesR.Perkins, Yes, I know what you say. But my problem is to understand why using logj4 1.2 there&#39;s no need to include the library into the <code>EAR</code> file. I add that the class that calls ProxyControl already contains the library and all run under JBoss 7.1 control. But I think the problem is another."},{"owner":{"account_id":23811369,"reputation":73,"user_id":17820208,"display_name":"SJB"},"score":0,"creation_date":1643787914,"post_id":70930200,"comment_id":125428891,"body_markdown":"@JamesR.Perkins, This from my question: &quot;Some apps to deploy (jar,ear,war), both the new and the old versions, doesn&#39;t contains log4j related jars. But the old version is always correctly deployed, while the new has issues.&quot;","body":"@JamesR.Perkins, This from my question: &quot;Some apps to deploy (jar,ear,war), both the new and the old versions, doesn&#39;t contains log4j related jars. But the old version is always correctly deployed, while the new has issues.&quot;"},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1643816703,"post_id":70930200,"comment_id":125440793,"body_markdown":"The CNFE is for a log4j 2 logger, it has nothing to do with log4j 1. You said you migrated to log4j 2, then all the deployments need visibility to that. The simplest way is to include log4j-api and log4j-core in your EAR.","body":"The CNFE is for a log4j 2 logger, it has nothing to do with log4j 1. You said you migrated to log4j 2, then all the deployments need visibility to that. The simplest way is to include log4j-api and log4j-core in your EAR."}],"owner":{"account_id":23811369,"reputation":73,"user_id":17820208,"display_name":"SJB"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":288,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1643650651,"creation_date":1643649789,"question_id":70930200,"body_markdown":"I&#39;ve ported  from `Log4J` to `Log4J2` some applications that run in a servergroup under `JBoss 7.1.0` control.\r\n\r\nThe new applications are all correctly built by `maven`, but when I deploy some of them on the JBoss system (using jboss-cli.sh) the deployment results with an issue similar to that in the following lines where I understand that log4j2 is not available for the application.\r\n\r\n&gt; {&quot;WFLYDC0074: Operation failed or was rolled back on all servers.\r\n&gt; Server failures:&quot; =&gt; {&quot;server-group&quot; =&gt; {&quot;XXXservergroupA&quot; =&gt; {&quot;host&quot;\r\n&gt; =&gt; {&quot;e2ebbfpsapp1&quot; =&gt; {&quot;XXXserverA1&quot; =&gt; {&quot;WFLYCTL0080: Failed services&quot; =&gt;\r\n&gt; {&quot;jboss.deployment.subunit.\\&quot;ProxyControlEAR.ear\\&quot;.\\&quot;ProxyControl.jar\\&quot;.POST_MODULE&quot;\r\n&gt; =&gt; &quot;WFLYSRV0153: Failed to process phase POST_MODULE of subdeployment \\&quot;ProxyControl.jar\\&quot; of deployment \\&quot;ProxyControlEAR.ear\\&quot;\r\n&gt;     Caused by: java.lang.RuntimeException: WFLYSRV0177: Error getting reflective information for class\r\n&gt; com.mygrp.xxx.proxy.control.DocctrlServiceManager with ClassLoader\r\n&gt; ModuleClassLoader for Module\r\n&gt; \\&quot;deployment.ProxyControlEAR.ear.ProxyControl.jar\\&quot; from Service\r\n&gt; Module Loader\r\n&gt;     Caused by: java.lang.NoClassDefFoundError: Lorg/apache/logging/log4j/Logger;\r\n&gt;     Caused by: java.lang.ClassNotFoundException: org.apache.logging.log4j.Logger from [Module\r\n&gt; \\&quot;deployment.ProxyControlEAR.ear.ProxyControl.jar\\&quot; from Service\r\n&gt; Module Loader]&quot;},&quot;WFLYCTL0412: Required services that are not\r\n&gt; installed:&quot; =&gt;\r\n&gt; [&quot;jboss.deployment.unit.\\&quot;ProxyControlEAR.ear\\&quot;.beanmanager&quot;],&quot;WFLYCTL0180:\r\n&gt; Services with missing/unavailable dependencies&quot; =&gt;\r\n&gt; [&quot;jboss.deployment.unit.\\&quot;ProxyControlEAR.ear\\&quot;.weld.weldClassIntrospector\r\n&gt; is missing\r\n&gt; [jboss.deployment.unit.\\&quot;ProxyControlEAR.ear\\&quot;.beanmanager]&quot;]}}}}}}}\r\n\r\nThe new application has been modified in conformity of the import method used for the old version, then the new pom.xml contains dependencies for log4J2-api and log4J2-core instead of lthe log4J alone and the SW has been modified to use the new log4j2 package.\r\n\r\nSome apps to deploy (jar,ear,war), both the new and the old versions, doesn&#39;t contains log4j related jars. But the old version is always correctly deployed, while the new has issues (see above).\r\n\r\nCan the new jar: log4j2-api and log4j2-core to be installed under JBoss (in the JBoss environment - where)?\r\n\r\nIf it need such a installation how am I allowed to do it?\r\n","title":"JBoss issues while porting apps from Log4J to Log4J2","body":"<p>I've ported  from <code>Log4J</code> to <code>Log4J2</code> some applications that run in a servergroup under <code>JBoss 7.1.0</code> control.</p>\n<p>The new applications are all correctly built by <code>maven</code>, but when I deploy some of them on the JBoss system (using jboss-cli.sh) the deployment results with an issue similar to that in the following lines where I understand that log4j2 is not available for the application.</p>\n<blockquote>\n<p>{&quot;WFLYDC0074: Operation failed or was rolled back on all servers.\nServer failures:&quot; =&gt; {&quot;server-group&quot; =&gt; {&quot;XXXservergroupA&quot; =&gt; {&quot;host&quot;\n=&gt; {&quot;e2ebbfpsapp1&quot; =&gt; {&quot;XXXserverA1&quot; =&gt; {&quot;WFLYCTL0080: Failed services&quot; =&gt;\n{&quot;jboss.deployment.subunit.&quot;ProxyControlEAR.ear&quot;.&quot;ProxyControl.jar&quot;.POST_MODULE&quot;\n=&gt; &quot;WFLYSRV0153: Failed to process phase POST_MODULE of subdeployment &quot;ProxyControl.jar&quot; of deployment &quot;ProxyControlEAR.ear&quot;\nCaused by: java.lang.RuntimeException: WFLYSRV0177: Error getting reflective information for class\ncom.mygrp.xxx.proxy.control.DocctrlServiceManager with ClassLoader\nModuleClassLoader for Module\n&quot;deployment.ProxyControlEAR.ear.ProxyControl.jar&quot; from Service\nModule Loader\nCaused by: java.lang.NoClassDefFoundError: Lorg/apache/logging/log4j/Logger;\nCaused by: java.lang.ClassNotFoundException: org.apache.logging.log4j.Logger from [Module\n&quot;deployment.ProxyControlEAR.ear.ProxyControl.jar&quot; from Service\nModule Loader]&quot;},&quot;WFLYCTL0412: Required services that are not\ninstalled:&quot; =&gt;\n[&quot;jboss.deployment.unit.&quot;ProxyControlEAR.ear&quot;.beanmanager&quot;],&quot;WFLYCTL0180:\nServices with missing/unavailable dependencies&quot; =&gt;\n[&quot;jboss.deployment.unit.&quot;ProxyControlEAR.ear&quot;.weld.weldClassIntrospector\nis missing\n[jboss.deployment.unit.&quot;ProxyControlEAR.ear&quot;.beanmanager]&quot;]}}}}}}}</p>\n</blockquote>\n<p>The new application has been modified in conformity of the import method used for the old version, then the new pom.xml contains dependencies for log4J2-api and log4J2-core instead of lthe log4J alone and the SW has been modified to use the new log4j2 package.</p>\n<p>Some apps to deploy (jar,ear,war), both the new and the old versions, doesn't contains log4j related jars. But the old version is always correctly deployed, while the new has issues (see above).</p>\n<p>Can the new jar: log4j2-api and log4j2-core to be installed under JBoss (in the JBoss environment - where)?</p>\n<p>If it need such a installation how am I allowed to do it?</p>\n"},{"tags":["java","sql-server","apache-commons"],"answers":[{"tags":[],"owner":{"account_id":17822090,"reputation":371,"user_id":12944233,"display_name":"Hitesh A. Bosamiya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643647912,"creation_date":1643647126,"answer_id":70929555,"question_id":70929453,"body_markdown":"You can use `getCanonicalFile`.\r\n\r\n```\r\nimport java.io.File;\r\nimport java.io.IOException;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) throws IOException {\r\n        File file = new File(&quot;C:\\\\..\\\\bar&quot;);\r\n        System.out.println(file.getCanonicalPath());\r\n    }\r\n}\r\n```","title":"Get normalized path for windows location in Java","body":"<p>You can use <code>getCanonicalFile</code>.</p>\n<pre><code>import java.io.File;\nimport java.io.IOException;\n\npublic class Main {\n    public static void main(String[] args) throws IOException {\n        File file = new File(&quot;C:\\\\..\\\\bar&quot;);\n        System.out.println(file.getCanonicalPath());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":7559383,"reputation":494,"user_id":5737572,"accept_rate":15,"display_name":"Sonali Gupta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":402,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1643650629,"creation_date":1643646682,"question_id":70929453,"body_markdown":"I have a requirement where I have a path as `C:\\..\\bar`\r\nfor this the file bar gets created in the C drive when I use this path in SQL server.\r\nNow on using Apache&#39;s FilenameUtils, The `normalize` method returns null as also documented.\r\n\r\n&gt; * C:\\\\..\\bar            --&amp;gt;   null\r\n\r\nBut I want\r\n\r\n&gt;C:\\bar for C:\\\\..\\bar\r\n\r\nIs there any way in Java to get C:\\bar for C:\\\\..\\bar\r\nI know that `..` would mean parent directory but SQL server still creates file the C drive.\r\n\r\nThe issue with using File or Path classes is that they make use of underlying Filesystem, which in my case is Unix but the path I will get will be windows absolute path.\r\nSo basically want to get rid of any redundancy like dots and slashes irrespective of the file system.","title":"Get normalized path for windows location in Java","body":"<p>I have a requirement where I have a path as <code>C:\\..\\bar</code>\nfor this the file bar gets created in the C drive when I use this path in SQL server.\nNow on using Apache's FilenameUtils, The <code>normalize</code> method returns null as also documented.</p>\n<blockquote>\n<ul>\n<li>C:\\..\\bar            --&gt;   null</li>\n</ul>\n</blockquote>\n<p>But I want</p>\n<blockquote>\n<p>C:\\bar for C:\\..\\bar</p>\n</blockquote>\n<p>Is there any way in Java to get C:\\bar for C:\\..\\bar\nI know that <code>..</code> would mean parent directory but SQL server still creates file the C drive.</p>\n<p>The issue with using File or Path classes is that they make use of underlying Filesystem, which in my case is Unix but the path I will get will be windows absolute path.\nSo basically want to get rid of any redundancy like dots and slashes irrespective of the file system.</p>\n"},{"tags":["java","encoding"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1643540084,"post_id":70913929,"comment_id":125362645,"body_markdown":"In theory, any encoding could be set as the default encoding; e.g. `-Dfile.encoding=EBCDIC` ... assuming that `EBCDIC` is recognized.  (Actually, it isn&#39;t, but Cp1140 is ... almost EBCDIC.)","body":"In theory, any encoding could be set as the default encoding; e.g. <code>-Dfile.encoding=EBCDIC</code> ... assuming that <code>EBCDIC</code> is recognized.  (Actually, it isn&#39;t, but Cp1140 is ... almost EBCDIC.)"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":2,"creation_date":1643540085,"post_id":70913929,"comment_id":125362646,"body_markdown":"Not very many encodings are &quot;Latin1 compatible&quot;, you probably meant &quot;ASCII compatible&quot;. Latin1 defines characters up to 255, whereas ASCII only goes up to 127. There are tons of ASCII-compatible encodings, and very few Latin1-compatible ones.","body":"Not very many encodings are &quot;Latin1 compatible&quot;, you probably meant &quot;ASCII compatible&quot;. Latin1 defines characters up to 255, whereas ASCII only goes up to 127. There are tons of ASCII-compatible encodings, and very few Latin1-compatible ones."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1643540197,"post_id":70913929,"comment_id":125362667,"body_markdown":"Notably, UTF-8 is very commonly used, and is not Latin-1 compatible (but is ASCII compatible)","body":"Notably, UTF-8 is very commonly used, and is not Latin-1 compatible (but is ASCII compatible)"},{"owner":{"account_id":9400890,"reputation":11535,"user_id":7637120,"accept_rate":83,"display_name":"Roman Puchkovskiy"},"score":0,"creation_date":1643541315,"post_id":70913929,"comment_id":125362875,"body_markdown":"Sure, I meant &#39;first-128-characters-wise compatible&#39;. Thank you for pointing this out.","body":"Sure, I meant &#39;first-128-characters-wise compatible&#39;. Thank you for pointing this out."},{"owner":{"account_id":9400890,"reputation":11535,"user_id":7637120,"accept_rate":83,"display_name":"Roman Puchkovskiy"},"score":0,"creation_date":1643542109,"post_id":70913929,"comment_id":125363019,"body_markdown":"@StephenC not just in theory, as it turns out","body":"@StephenC not just in theory, as it turns out"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1643572987,"post_id":70913929,"comment_id":125370583,"body_markdown":"By the way, FYI, UTF-8 will be the default encoding for most purposes in Java 18 and later. See [JEP 400](https://openjdk.java.net/jeps/400).","body":"By the way, FYI, UTF-8 will be the default encoding for most purposes in Java 18 and later. See <a href=\"https://openjdk.java.net/jeps/400\" rel=\"nofollow noreferrer\">JEP 400</a>."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1643591526,"post_id":70913929,"comment_id":125374005,"body_markdown":"@RomanPuchkovskiy - The &quot;in theory&quot; is that your JVM needs to have a suitable encoder/decoder for the encoding.  It is not just a theory that `-Dfile.encoding=...` works if Java recognizes the encoding name that you gave.","body":"@RomanPuchkovskiy - The &quot;in theory&quot; is that your JVM needs to have a suitable encoder/decoder for the encoding.  It is not just a theory that <code>-Dfile.encoding=...</code> works if Java recognizes the encoding name that you gave."}],"answers":[{"tags":[],"owner":{"account_id":9400890,"reputation":11535,"user_id":7637120,"accept_rate":83,"display_name":"Roman Puchkovskiy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643650423,"creation_date":1643542012,"answer_id":70914154,"question_id":70913929,"body_markdown":"An experiment.\r\n\r\n    public class Test {\r\n        public static void main(String[] args) {\r\n\r\n            System.out.println(java.nio.charset.Charset.defaultCharset());\r\n            byte[] bytes = &quot;test&quot;.getBytes();\r\n            for (int i = 0; i &lt; bytes.length; i++) {\r\n                System.out.println(bytes[i]);\r\n            }\r\n        }\r\n    }\r\n\r\n`java -Dfile.encoding=utf-8 Test` produces the following:\r\n\r\n    UTF-8\r\n    116\r\n    101\r\n    115\r\n    116\r\n\r\n`java -Dfile.encoding=cp1140 Test` (where cp1140 is a non-ASCII compatible encoding, an EBCDIC variant) outputs something that my terminal cannot decypher, but, if I use the same `cp1140` to decode it, it turns out to be\r\n\r\n    IBM01140\r\n    -93\r\n    -123\r\n    -94\r\n    -93\r\n\r\nSo yes, a non-ASCII encoding may be set as a default, and a JVM starts happily with it.\r\n\r\nOne takeaway is that it&#39;s not safe to use `String#getBytes()` even when you are sure you are always dealing with ASCII strings.\r\n\r\nAnother takeaway from my experiments is that `file.encoding` may be assigned any garbage, and in such case a JVM will not complain, but it will silently ignore the property:\r\n\r\n    $ java -Dfile.encoding=aaa Test\r\n    UTF-8\r\n    116\r\n    101\r\n    115\r\n    116\r\n\r\nThis is how it works with Java 1.8.0_161.\r\n\r\nJava 11.0.6 does not seem to support cp1140 (it still uses UTF-8 even with `-Dfile.encoding=cp1140`).","title":"Can an encoding incompatible with ASCII encoding be set as a default encoding in Java?","body":"<p>An experiment.</p>\n<pre><code>public class Test {\n    public static void main(String[] args) {\n\n        System.out.println(java.nio.charset.Charset.defaultCharset());\n        byte[] bytes = &quot;test&quot;.getBytes();\n        for (int i = 0; i &lt; bytes.length; i++) {\n            System.out.println(bytes[i]);\n        }\n    }\n}\n</code></pre>\n<p><code>java -Dfile.encoding=utf-8 Test</code> produces the following:</p>\n<pre><code>UTF-8\n116\n101\n115\n116\n</code></pre>\n<p><code>java -Dfile.encoding=cp1140 Test</code> (where cp1140 is a non-ASCII compatible encoding, an EBCDIC variant) outputs something that my terminal cannot decypher, but, if I use the same <code>cp1140</code> to decode it, it turns out to be</p>\n<pre><code>IBM01140\n-93\n-123\n-94\n-93\n</code></pre>\n<p>So yes, a non-ASCII encoding may be set as a default, and a JVM starts happily with it.</p>\n<p>One takeaway is that it's not safe to use <code>String#getBytes()</code> even when you are sure you are always dealing with ASCII strings.</p>\n<p>Another takeaway from my experiments is that <code>file.encoding</code> may be assigned any garbage, and in such case a JVM will not complain, but it will silently ignore the property:</p>\n<pre><code>$ java -Dfile.encoding=aaa Test\nUTF-8\n116\n101\n115\n116\n</code></pre>\n<p>This is how it works with Java 1.8.0_161.</p>\n<p>Java 11.0.6 does not seem to support cp1140 (it still uses UTF-8 even with <code>-Dfile.encoding=cp1140</code>).</p>\n"}],"owner":{"account_id":9400890,"reputation":11535,"user_id":7637120,"accept_rate":83,"display_name":"Roman Puchkovskiy"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1643650423,"creation_date":1643539905,"question_id":70913929,"body_markdown":"Most of the encodings in use encode ASCII characters identically. This means that, if I know that a String can be encoded by ASCII encoding, then I don&#39;t need to bother and can use any such encoding. Further, if the system default encoding has this &#39;ASCII compatibility&#39; property, I can safely use `new String(bytes)` for bytes representing ASCII strings.\r\n\r\nBut there are encodings (for example, EBCDIC) that are incompatible with ASCII.\r\n\r\nCan such encoding be set as default in Java?","title":"Can an encoding incompatible with ASCII encoding be set as a default encoding in Java?","body":"<p>Most of the encodings in use encode ASCII characters identically. This means that, if I know that a String can be encoded by ASCII encoding, then I don't need to bother and can use any such encoding. Further, if the system default encoding has this 'ASCII compatibility' property, I can safely use <code>new String(bytes)</code> for bytes representing ASCII strings.</p>\n<p>But there are encodings (for example, EBCDIC) that are incompatible with ASCII.</p>\n<p>Can such encoding be set as default in Java?</p>\n"},{"tags":["java","intellij-idea","flowchart"],"comments":[{"owner":{"account_id":4328490,"reputation":1080,"user_id":3534593,"accept_rate":67,"display_name":"coretechie"},"score":0,"creation_date":1653036396,"post_id":55828990,"comment_id":127757537,"body_markdown":"Has anyone found any tools yet?. There is one lucrative tool named as findtheflow but I cannot make it work either in standalone mode or intellij.","body":"Has anyone found any tools yet?. There is one lucrative tool named as findtheflow but I cannot make it work either in standalone mode or intellij."}],"answers":[{"tags":[],"owner":{"account_id":6932217,"reputation":4050,"user_id":5321363,"accept_rate":80,"display_name":"Rann Lifshitz"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1556175778,"creation_date":1556106429,"answer_id":55829357,"question_id":55828990,"body_markdown":"You can try the SequenceDiagram for IntelliJ IDEA plugin.&lt;br&gt; It generates simple sequence diagrams which are a visible representation of code flows (via the method calls).\r\n&lt;br&gt;\r\n\r\nAs for flow charts specifically (unfortunately I did not find an IntelliJ solution):&lt;br&gt;\r\nYou can try the online code2flow which is a simple `paste code and edit the generated chart&#39; solution. Obviously, it is not a part of IntelliJ but it will get the job done.&lt;br&gt;\r\nAnother option is the FateSoft application, which generates flow charts for multiple programming languages. Simply install the tool on your workstation and parse the desired code in the app, while selecting the start and end line of code from which to generate the flow chart.\r\n\r\n&lt;br&gt;\r\nReferences:\r\n\r\n - [SequenceDiagram plugin][1]\r\n - [Usage guide of the SequenceDiagram plugin][2]\r\n - [Code2flow online flow chart generator][3]\r\n - [FateSoft flow chart generator][4]\r\n\r\n\r\n  [1]: https://plugins.jetbrains.com/plugin/8286-sequencediagram\r\n  [2]: https://blog.voidmainvoid.net/49\r\n  [3]: https://code2flow.com/app\r\n  [4]: http://www.fatesoft.com/s2f/","title":"How can we generate flow chart diagram in IntelliJ IDEA from Java code which is editable?","body":"<p>You can try the SequenceDiagram for IntelliJ IDEA plugin.<br> It generates simple sequence diagrams which are a visible representation of code flows (via the method calls).\n<br></p>\n\n<p>As for flow charts specifically (unfortunately I did not find an IntelliJ solution):<br>\nYou can try the online code2flow which is a simple `paste code and edit the generated chart' solution. Obviously, it is not a part of IntelliJ but it will get the job done.<br>\nAnother option is the FateSoft application, which generates flow charts for multiple programming languages. Simply install the tool on your workstation and parse the desired code in the app, while selecting the start and end line of code from which to generate the flow chart.</p>\n\n<p><br>\nReferences:</p>\n\n<ul>\n<li><a href=\"https://plugins.jetbrains.com/plugin/8286-sequencediagram\" rel=\"noreferrer\">SequenceDiagram plugin</a></li>\n<li><a href=\"https://blog.voidmainvoid.net/49\" rel=\"noreferrer\">Usage guide of the SequenceDiagram plugin</a></li>\n<li><a href=\"https://code2flow.com/app\" rel=\"noreferrer\">Code2flow online flow chart generator</a></li>\n<li><a href=\"http://www.fatesoft.com/s2f/\" rel=\"noreferrer\">FateSoft flow chart generator</a></li>\n</ul>\n"}],"owner":{"account_id":7527241,"reputation":652,"user_id":9416473,"display_name":"Akhil Surapuram"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21769,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1643649887,"creation_date":1556105207,"question_id":55828990,"body_markdown":"I am searching for a tool (preferably works offline) but couldn&#39;t find any.how  can generate flow chart. i.e flow chart for a method or for the main method of the class.\r\n\r\nI am aware of Sequence diagrams and its plugin for IntelliJ. but I am looking searching for a tool which generates flow charts instead of the sequence.\r\n","title":"How can we generate flow chart diagram in IntelliJ IDEA from Java code which is editable?","body":"<p>I am searching for a tool (preferably works offline) but couldn't find any.how  can generate flow chart. i.e flow chart for a method or for the main method of the class.</p>\n<p>I am aware of Sequence diagrams and its plugin for IntelliJ. but I am looking searching for a tool which generates flow charts instead of the sequence.</p>\n"},{"tags":["java","spring","gradle","swagger"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1643544840,"post_id":70914097,"comment_id":125363614,"body_markdown":"Which version of the `org.hidetake.swagger.generator` plugin are you using? There is a bug report for the plugin (https://github.com/int128/gradle-swagger-generator-plugin/issues/185) that mentions that without a fix the plugin will fail with Gradle 7.x - but that bug was fixed in the `org.hidetake.swagger.generator` plugin version 2.18.2 (at the time of commention version 2.19.2 is the latest version)","body":"Which version of the <code>org.hidetake.swagger.generator</code> plugin are you using? There is a bug report for the plugin (<a href=\"https://github.com/int128/gradle-swagger-generator-plugin/issues/185\" rel=\"nofollow noreferrer\">github.com/int128/gradle-swagger-generator-plugin/issues/18&zwnj;&#8203;5</a>) that mentions that without a fix the plugin will fail with Gradle 7.x - but that bug was fixed in the <code>org.hidetake.swagger.generator</code> plugin version 2.18.2 (at the time of commention version 2.19.2 is the latest version)"},{"owner":{"account_id":15749108,"reputation":51,"user_id":11364232,"display_name":"Daniel"},"score":0,"creation_date":1643568425,"post_id":70914097,"comment_id":125369481,"body_markdown":"@ThomasKl&#228;ger I changed version to 2.19.2 but I have all time problems with gradle... I pasted below error","body":"@ThomasKl&#228;ger I changed version to 2.19.2 but I have all time problems with gradle... I pasted below error"}],"answers":[{"tags":[],"owner":{"account_id":15749108,"reputation":51,"user_id":11364232,"display_name":"Daniel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643649293,"creation_date":1643649293,"answer_id":70930088,"question_id":70914097,"body_markdown":"I resolved this errors\r\n\r\nIf u need fix this problems you should check your:\r\n- lombok version\r\n- org.springframework.boot:spring-boot-gradle-plugi version\r\n- try add springfox-boot-starter dependency (3.0.0)\r\n- check version io.springfox:springfox-swagger\r\n- org.openapitools:openapi-generator-gradle-plugin version\r\n- check swagger files (.mustache files, gradle.build, version)\r\n- try add org.gradle.jvmargs=--add-opens=java.util=ALL-UNNAMED to gradle properties","title":"Update to Gradle 7.3, Java 17","body":"<p>I resolved this errors</p>\n<p>If u need fix this problems you should check your:</p>\n<ul>\n<li>lombok version</li>\n<li>org.springframework.boot:spring-boot-gradle-plugi version</li>\n<li>try add springfox-boot-starter dependency (3.0.0)</li>\n<li>check version io.springfox:springfox-swagger</li>\n<li>org.openapitools:openapi-generator-gradle-plugin version</li>\n<li>check swagger files (.mustache files, gradle.build, version)</li>\n<li>try add org.gradle.jvmargs=--add-opens=java.util=ALL-UNNAMED to gradle properties</li>\n</ul>\n"}],"owner":{"account_id":15749108,"reputation":51,"user_id":11364232,"display_name":"Daniel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2696,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":70930088,"answer_count":1,"score":4,"last_activity_date":1643649293,"creation_date":1643541437,"question_id":70914097,"body_markdown":"I wanted update gradle to 7.3 from 5.6 and I cant do it. I have this problem during compile project(I have java 17). I read that gradle &gt;7 version has some problems, maybe u know what is wrong? Thanks for answears \r\n\r\nThis is log after compile project with gradle 7.3:\r\n```What went wrong:\r\nSome problems were found with the configuration of task &#39;:api:TemplateServices-api:generateSwaggerCodeDocs&#39; (type &#39;GenerateSwaggerCode&#39;).\r\n  - In plugin &#39;org.hidetake.swagger.generator&#39; type &#39;org.hidetake.gradle.swagger.generator.GenerateSwaggerCode&#39; property &#39;adaptorFactory&#39; is missing an input or output annotation.\r\n\r\n    Reason: A property without annotation isn&#39;t considered during up-to-date checking.\r\n\r\n    Possible solutions:\r\n      1. Add an input or output annotation.\r\n      2. Mark it as @Internal.\r\n\r\n    Please refer to https://docs.gradle.org/7.3/userguide/validation_problems.html#missing_annotation for more details about this problem.\r\n  - In plugin &#39;org.hidetake.swagger.generator&#39; type &#39;org.hidetake.gradle.swagger.generator.GenerateSwaggerCode&#39; property &#39;configFile&#39; is annotated with @InputFile but missing a normalization strategy.\r\n\r\n    Reason: If you don&#39;t declare the normalization, outputs can&#39;t be re-used between machines or locations on the same machine, therefore caching efficiency drops significantly.\r\n\r\n    Possible solution: Declare the normalization strategy by annotating the property with either @PathSensitive, @Classpath or @CompileClasspath.\r\n\r\n    Please refer to https://docs.gradle.org/7.3/userguide/validation_problems.html#missing_normalization_annotation for more details about this problem.\r\n  - In plugin &#39;org.hidetake.swagger.generator&#39; type &#39;org.hidetake.gradle.swagger.generator.GenerateSwaggerCode&#39; property &#39;wipeOutputDir&#39; of type boolean shouldn&#39;t be annotated with @Optional.\r\n\r\n    Reason: Properties of primitive type cannot be optional.```\r\n","title":"Update to Gradle 7.3, Java 17","body":"<p>I wanted update gradle to 7.3 from 5.6 and I cant do it. I have this problem during compile project(I have java 17). I read that gradle &gt;7 version has some problems, maybe u know what is wrong? Thanks for answears</p>\n<p>This is log after compile project with gradle 7.3:</p>\n<pre><code>Some problems were found with the configuration of task ':api:TemplateServices-api:generateSwaggerCodeDocs' (type 'GenerateSwaggerCode').\n  - In plugin 'org.hidetake.swagger.generator' type 'org.hidetake.gradle.swagger.generator.GenerateSwaggerCode' property 'adaptorFactory' is missing an input or output annotation.\n\n    Reason: A property without annotation isn't considered during up-to-date checking.\n\n    Possible solutions:\n      1. Add an input or output annotation.\n      2. Mark it as @Internal.\n\n    Please refer to https://docs.gradle.org/7.3/userguide/validation_problems.html#missing_annotation for more details about this problem.\n  - In plugin 'org.hidetake.swagger.generator' type 'org.hidetake.gradle.swagger.generator.GenerateSwaggerCode' property 'configFile' is annotated with @InputFile but missing a normalization strategy.\n\n    Reason: If you don't declare the normalization, outputs can't be re-used between machines or locations on the same machine, therefore caching efficiency drops significantly.\n\n    Possible solution: Declare the normalization strategy by annotating the property with either @PathSensitive, @Classpath or @CompileClasspath.\n\n    Please refer to https://docs.gradle.org/7.3/userguide/validation_problems.html#missing_normalization_annotation for more details about this problem.\n  - In plugin 'org.hidetake.swagger.generator' type 'org.hidetake.gradle.swagger.generator.GenerateSwaggerCode' property 'wipeOutputDir' of type boolean shouldn't be annotated with @Optional.\n\n    Reason: Properties of primitive type cannot be optional.```\n</code></pre>\n"},{"tags":["java","scala","akka","akka-stream"],"comments":[{"owner":{"account_id":75725,"reputation":503,"user_id":217125,"display_name":"earthling paul"},"score":0,"creation_date":1643611540,"post_id":70921445,"comment_id":125376890,"body_markdown":"Maybe this discussion helps: https://discuss.lightbend.com/t/akka-streams-exception-handling/6557 The main concept is to &quot;treat errors as data&quot;, carry them downstream and handle them accordingly. So in your case I guess that the &quot;error&quot; will be the `isEmpty` case.","body":"Maybe this discussion helps: <a href=\"https://discuss.lightbend.com/t/akka-streams-exception-handling/6557\" rel=\"nofollow noreferrer\">discuss.lightbend.com/t/akka-streams-exception-handling/6557</a> The main concept is to &quot;treat errors as data&quot;, carry them downstream and handle them accordingly. So in your case I guess that the &quot;error&quot; will be the <code>isEmpty</code> case."}],"answers":[{"tags":[],"owner":{"account_id":430698,"reputation":7180,"user_id":4803842,"display_name":"Ivan Stanislavciuc"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1643649115,"creation_date":1643614178,"answer_id":70922481,"question_id":70921445,"body_markdown":"Just because you&#39;re using `Sink.reduce[Int]`, you could add a `Source` that guarantees to have a single element `0` and thus `Sink.reduce[Int]` will work and produce `0` as a result. \r\n\r\nHere&#39;s an example \r\n\r\n```scala\r\nval zero          = Source.single(0)\r\nval possiblyEmpty = Source(List[Int](1, 3, 5)).filter(_ % 2 == 0)\r\nval eventualInt   = zero.merge(possiblyEmpty).toMat(Sink.reduce[Int](_ + _))(Keep.right).run()\r\n```","title":"How to handle java.util.NoSuchElementException: reduce over empty stream akka stream?","body":"<p>Just because you're using <code>Sink.reduce[Int]</code>, you could add a <code>Source</code> that guarantees to have a single element <code>0</code> and thus <code>Sink.reduce[Int]</code> will work and produce <code>0</code> as a result.</p>\n<p>Here's an example</p>\n<pre class=\"lang-scala prettyprint-override\"><code>val zero          = Source.single(0)\nval possiblyEmpty = Source(List[Int](1, 3, 5)).filter(_ % 2 == 0)\nval eventualInt   = zero.merge(possiblyEmpty).toMat(Sink.reduce[Int](_ + _))(Keep.right).run()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5994994,"reputation":19189,"user_id":5641244,"display_name":"Levi Ramsey"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1643649249,"creation_date":1643648895,"answer_id":70929994,"question_id":70921445,"body_markdown":"It may be worth considering using `Sink.fold` instead of `Sink.reduce`:\r\n\r\n```scala\r\nval possiblyEmpty = Source(Seq(1, 3, 5)).filter(_ % 2 == 0)\r\nval eventualInt = possiblyEmpty.toMat(Sink.fold[Int](0)(_ + _))(Keep.right).run()\r\n```\r\n\r\nIf there&#39;s no reasonable zero/identity element, you can have something a little more generalized along these lines:\r\n\r\n```scala\r\ndef reducePossiblyEmpty[T](source: Source[T])(f: (T, T) =&gt; T): RunnableGraph[Future[Option[T]]] = {\r\n  val lifted = { (x: Option[T], y: Option[T]) =&gt;\r\n    x.flatMap(a =&gt; y.map(f))\r\n  }\r\n  source.map(x =&gt; Some(x))\r\n    .concat(Source.single(None))\r\n    .statefulMapConcat[Option[T]] { () =&gt;\r\n      var emptyStream = true\r\n      { x =&gt;\r\n        x match {\r\n          case Some(x) =&gt;\r\n            // element from the given stream\r\n            emptyStream = false\r\n            List(x)\r\n\r\n          case None =&gt;\r\n            // given stream completed\r\n            if (emptyStream) {\r\n              List(x)\r\n            } else {\r\n              Nil  // don&#39;t emit anything\r\n            }\r\n        }\r\n      }\r\n    }\r\n    .toMat(Sink.reduce[Option[T]](lifted))(Keep.right)\r\n}\r\n```\r\n\r\nThe returned graph will complete with `None` if there were no elements, or a `Some` of the result of the reduction.\r\n\r\nEDIT: you can also just use `orElse` on the `Source`/`Flow`, in lieu of `.concat.statefulMapConcat` in the above:\r\n\r\n```scala\r\ndef reducePossiblyEmpty[T](source: Source[T])(f: (T, T) =&gt; T): RunnableGraph[Future[Option[T]]] = {\r\n  val lifted = { (x: Option[T], y: Option[T]) =&gt;\r\n    x.flatMap(a =&gt; y.map(f))\r\n  }\r\n\r\n  source.map(x =&gt; Some(x))\r\n    .orElse(Source.single(None))\r\n    .toMat(Sink.reduce[Option[T]](lifted))(Keep.right)\r\n}\r\n```","title":"How to handle java.util.NoSuchElementException: reduce over empty stream akka stream?","body":"<p>It may be worth considering using <code>Sink.fold</code> instead of <code>Sink.reduce</code>:</p>\n<pre class=\"lang-scala prettyprint-override\"><code>val possiblyEmpty = Source(Seq(1, 3, 5)).filter(_ % 2 == 0)\nval eventualInt = possiblyEmpty.toMat(Sink.fold[Int](0)(_ + _))(Keep.right).run()\n</code></pre>\n<p>If there's no reasonable zero/identity element, you can have something a little more generalized along these lines:</p>\n<pre class=\"lang-scala prettyprint-override\"><code>def reducePossiblyEmpty[T](source: Source[T])(f: (T, T) =&gt; T): RunnableGraph[Future[Option[T]]] = {\n  val lifted = { (x: Option[T], y: Option[T]) =&gt;\n    x.flatMap(a =&gt; y.map(f))\n  }\n  source.map(x =&gt; Some(x))\n    .concat(Source.single(None))\n    .statefulMapConcat[Option[T]] { () =&gt;\n      var emptyStream = true\n      { x =&gt;\n        x match {\n          case Some(x) =&gt;\n            // element from the given stream\n            emptyStream = false\n            List(x)\n\n          case None =&gt;\n            // given stream completed\n            if (emptyStream) {\n              List(x)\n            } else {\n              Nil  // don't emit anything\n            }\n        }\n      }\n    }\n    .toMat(Sink.reduce[Option[T]](lifted))(Keep.right)\n}\n</code></pre>\n<p>The returned graph will complete with <code>None</code> if there were no elements, or a <code>Some</code> of the result of the reduction.</p>\n<p>EDIT: you can also just use <code>orElse</code> on the <code>Source</code>/<code>Flow</code>, in lieu of <code>.concat.statefulMapConcat</code> in the above:</p>\n<pre class=\"lang-scala prettyprint-override\"><code>def reducePossiblyEmpty[T](source: Source[T])(f: (T, T) =&gt; T): RunnableGraph[Future[Option[T]]] = {\n  val lifted = { (x: Option[T], y: Option[T]) =&gt;\n    x.flatMap(a =&gt; y.map(f))\n  }\n\n  source.map(x =&gt; Some(x))\n    .orElse(Source.single(None))\n    .toMat(Sink.reduce[Option[T]](lifted))(Keep.right)\n}\n</code></pre>\n"}],"owner":{"account_id":19482087,"reputation":75,"user_id":14252161,"display_name":"noob_learner"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":429,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1643649249,"creation_date":1643605130,"question_id":70921445,"body_markdown":"I have a filter to filter out incorrect items in a stream. In some edge cases this could result in all items being filtered out. When this happens the stream fails with error - \r\n```java.util.NoSuchElementException: reduce over empty stream``` on running reduce.\r\n\r\nHow to handle this case to return a meaningful response?\r\n\r\nI have tried supervision like - \r\n```\r\nval decider: Supervision.Decider = {\r\n    case _                      =&gt; Supervision.Stop\r\n    case e : NoSuchElementException =&gt; Supervision.stop\r\n  }\r\n\r\nRunnableGraph.\r\ntoMat(Sink.reduce[Int](_ + _)\r\n.withAttributes(ActorAttributes.supervisionStrategy(decider)))(Keep.both)\r\n.run()\r\n```\r\nI also tried ```recover```, but nothing seems to work.\r\n\r\nI need to handle this case to return a meaningful response.\r\n\r\nAny help will be appreciated.\r\n","title":"How to handle java.util.NoSuchElementException: reduce over empty stream akka stream?","body":"<p>I have a filter to filter out incorrect items in a stream. In some edge cases this could result in all items being filtered out. When this happens the stream fails with error -\n<code>java.util.NoSuchElementException: reduce over empty stream</code> on running reduce.</p>\n<p>How to handle this case to return a meaningful response?</p>\n<p>I have tried supervision like -</p>\n<pre><code>val decider: Supervision.Decider = {\n    case _                      =&gt; Supervision.Stop\n    case e : NoSuchElementException =&gt; Supervision.stop\n  }\n\nRunnableGraph.\ntoMat(Sink.reduce[Int](_ + _)\n.withAttributes(ActorAttributes.supervisionStrategy(decider)))(Keep.both)\n.run()\n</code></pre>\n<p>I also tried <code>recover</code>, but nothing seems to work.</p>\n<p>I need to handle this case to return a meaningful response.</p>\n<p>Any help will be appreciated.</p>\n"},{"tags":["java","encryption","rsa","public-key-encryption","hsm"],"answers":[{"tags":[],"owner":{"account_id":3096469,"reputation":433,"user_id":2621544,"accept_rate":50,"display_name":"Smart B0y"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1463649078,"creation_date":1463649078,"answer_id":37318766,"question_id":37201479,"body_markdown":"How I resolved:\r\n\r\nRoot cause of this issue was that sunpkcs11 provider was getting loaded both statically and dynamically.\r\n\r\ni.e.\r\nin java.security, provider entry along with cfg path was already added.\r\n\r\nAlso, in code, provider was initialized again with the cfg file.\r\n\r\nThis was causing the issue.\r\n\r\nAfter changing:\r\n\r\n    SunPKCS11 provider = new SunPKCS11(&quot;/home/user/pkcs11.cfg&quot;);\r\n\r\nTO:\r\n\r\n    SunPKCS11 sunPKCS11Provider = (SunPKCS11) Security.getProvider(&quot;SunPKCS11&quot;);\r\n\r\nissue got resolved.","title":"HSM Error | Private key must be instance of RSAPrivate(Crt)Key or have PKCS#8","body":"<p>How I resolved:</p>\n\n<p>Root cause of this issue was that sunpkcs11 provider was getting loaded both statically and dynamically.</p>\n\n<p>i.e.\nin java.security, provider entry along with cfg path was already added.</p>\n\n<p>Also, in code, provider was initialized again with the cfg file.</p>\n\n<p>This was causing the issue.</p>\n\n<p>After changing:</p>\n\n<pre><code>SunPKCS11 provider = new SunPKCS11(\"/home/user/pkcs11.cfg\");\n</code></pre>\n\n<p>TO:</p>\n\n<pre><code>SunPKCS11 sunPKCS11Provider = (SunPKCS11) Security.getProvider(\"SunPKCS11\");\n</code></pre>\n\n<p>issue got resolved.</p>\n"},{"tags":[],"owner":{"account_id":9925001,"reputation":1047,"user_id":7346931,"display_name":"Dharmendrasinh Chudasama"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1530616738,"creation_date":1530616738,"answer_id":51153304,"question_id":37201479,"body_markdown":"&gt; I have used following code and issue has been resolved\r\n\r\n        SunPKCS11 provider = new SunPKCS11(&quot;/home/user/pkcs11.cfg&quot;);\r\n        Security.addProvider(provider);\r\n        KeyStore keystore = KeyStore.getInstance(&quot;PKCS11&quot;);\r\n        keystore.load(null, passphrase.toCharArray());","title":"HSM Error | Private key must be instance of RSAPrivate(Crt)Key or have PKCS#8","body":"<blockquote>\n  <p>I have used following code and issue has been resolved</p>\n</blockquote>\n\n<pre><code>    SunPKCS11 provider = new SunPKCS11(\"/home/user/pkcs11.cfg\");\n    Security.addProvider(provider);\n    KeyStore keystore = KeyStore.getInstance(\"PKCS11\");\n    keystore.load(null, passphrase.toCharArray());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1176036,"reputation":2433,"user_id":1324406,"accept_rate":62,"display_name":"Amber"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643649104,"creation_date":1643649104,"answer_id":70930045,"question_id":37201479,"body_markdown":"I was getting this same error when trying to get a ContentSigner with SHA1 using Linux and Jdk 1.8u202.  I haven&#39;t found a report, but I suspect there&#39;s a bug in that JDK because it worked on newer JDKs (1.8u322), JDK11, JDK17 on Linux and on 1.8u202 in Windows.","title":"HSM Error | Private key must be instance of RSAPrivate(Crt)Key or have PKCS#8","body":"<p>I was getting this same error when trying to get a ContentSigner with SHA1 using Linux and Jdk 1.8u202.  I haven't found a report, but I suspect there's a bug in that JDK because it worked on newer JDKs (1.8u322), JDK11, JDK17 on Linux and on 1.8u202 in Windows.</p>\n"}],"owner":{"account_id":3096469,"reputation":433,"user_id":2621544,"accept_rate":50,"display_name":"Smart B0y"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4854,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1643649104,"creation_date":1463114970,"question_id":37201479,"body_markdown":"**Error received while decrypting data when private key is retrieved from HSM.**\r\n\r\nI have added sunpkcs11 provider in java.security.\r\nHence, NOT adding provider via code.\r\nText gets encrypted successfully.\r\nHowever, while decrypting the encrypted text, I am getting below error at below line:\r\n\r\n    cipher.init(Cipher.DECRYPT_MODE, privateKey);\r\n\r\nWhat is that i am missing here?\r\n\r\n**Error:**\r\n\r\n    \tCaused by: java.security.InvalidKeyException: Private key must be instance of RSAPrivate(Crt)Key or have PKCS#8 encoding\r\n\t\t\tat sun.security.pkcs11.P11RSAKeyFactory.implTranslatePrivateKey(P11RSAKeyFactory.java:101) [sunpkcs11.jar:1.7.0_85]\r\n\t\t\tat sun.security.pkcs11.P11KeyFactory.engineTranslateKey(P11KeyFactory.java:132) [sunpkcs11.jar:1.7.0_85]\r\n\t\t\tat sun.security.pkcs11.P11KeyFactory.convertKey(P11KeyFactory.java:65) [sunpkcs11.jar:1.7.0_85]\r\n\t\t\tat sun.security.pkcs11.P11RSACipher.implInit(P11RSACipher.java:199) [sunpkcs11.jar:1.7.0_85]\r\n\t\t\tat sun.security.pkcs11.P11RSACipher.engineInit(P11RSACipher.java:168) [sunpkcs11.jar:1.7.0_85]\r\n\t\t\tat javax.crypto.Cipher.init(Cipher.java:1068) [jce.jar:1.7.0_85]\r\n\t\t\tat javax.crypto.Cipher.init(Cipher.java:1012) [jce.jar:1.7.0_85]enter code here\r\n\r\n**Below is the code:**\r\n\r\n    import java.io.ByteArrayOutputStream;\r\n\timport java.security.KeyStore;\r\n\timport java.security.PrivateKey;\r\n\timport java.security.PublicKey;\r\n\timport java.security.cert.Certificate;\r\n\t\r\n\timport javax.crypto.Cipher;\r\n\timport javax.xml.bind.DatatypeConverter;\r\n\t\r\n\timport sun.security.pkcs11.SunPKCS11;\r\n\t\r\n\tpublic class App {\r\n\t\r\n\t\tpublic static void main(String[] args) throws Exception {\r\n\t\r\n\t\t\ttry {\r\n\t\t\t\tString passphrase = &quot;mysecretkey&quot;;\r\n\t\t\t\tSunPKCS11 provider = new SunPKCS11(&quot;/home/user/pkcs11.cfg&quot;);\r\n\t\t\t\tKeyStore keystore = KeyStore.getInstance(&quot;PKCS11&quot;, provider);\r\n\t\t\t\tkeystore.load(null, passphrase.toCharArray());\r\n\t\t\t\tString textToEncrypt = &quot;this is my text&quot;;\r\n\t\t\t\tCertificate cert = keystore.getCertificate(&quot;my-SHA1WITHRSA-2048-bits-key&quot;);\r\n\t\t\t\tPublicKey publicKey = cert.getPublicKey();\r\n\t\t\t\tCipher cipher = Cipher.getInstance(&quot;RSA/ECB/PKCS1Padding&quot;, provider);\r\n\t\t\t\tcipher.init(Cipher.ENCRYPT_MODE, publicKey);\r\n\t\t\t\tString encryptedData = DatatypeConverter.printBase64Binary(cipher.doFinal(textToEncrypt.getBytes()));\r\n\t\t\t\t\r\n\t\t\t\tPrivateKey privateKey = (PrivateKey) keystore.getKey(&quot;my-SHA1WITHRSA-2048-bits-key&quot;,\r\n\t\t\t\t\t\tpassphrase.toCharArray());\r\n\t\t\t\tcipher.init(Cipher.DECRYPT_MODE, privateKey);\r\n\t\t\t\tbyte[] decodedEncryptedData = DatatypeConverter.parseBase64Binary(encryptedData);\r\n\t\t\t\tByteArrayOutputStream stream = new ByteArrayOutputStream();\r\n\t\t\t\tint blocks = decodedEncryptedData.length / 256;\r\n\t\t\t\tint offset = 0;\r\n\t\t\t\tfor (int blockIndex = 0; blockIndex &lt; blocks; blockIndex++) {\r\n\t\t\t\t\tbyte[] nextBlock = getNextBlock(decodedEncryptedData, offset);\r\n\t\t\t\t\tstream.write(cipher.doFinal(nextBlock));\r\n\t\t\t\t\toffset += 256;\r\n\t\t\t\t}\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\r\n\t\t}\r\n\t\r\n\t\tprivate static byte[] getNextBlock(byte[] cipherText, int offset) {\r\n\t\t\tbyte[] block = new byte[256];\r\n\t\t\tSystem.arraycopy(cipherText, offset, block, 0, 256);\r\n\t\t\treturn block;\r\n\t\t}\r\n\t\r\n\t}","title":"HSM Error | Private key must be instance of RSAPrivate(Crt)Key or have PKCS#8","body":"<p><strong>Error received while decrypting data when private key is retrieved from HSM.</strong></p>\n\n<p>I have added sunpkcs11 provider in java.security.\nHence, NOT adding provider via code.\nText gets encrypted successfully.\nHowever, while decrypting the encrypted text, I am getting below error at below line:</p>\n\n<pre><code>cipher.init(Cipher.DECRYPT_MODE, privateKey);\n</code></pre>\n\n<p>What is that i am missing here?</p>\n\n<p><strong>Error:</strong></p>\n\n<pre><code>    Caused by: java.security.InvalidKeyException: Private key must be instance of RSAPrivate(Crt)Key or have PKCS#8 encoding\n        at sun.security.pkcs11.P11RSAKeyFactory.implTranslatePrivateKey(P11RSAKeyFactory.java:101) [sunpkcs11.jar:1.7.0_85]\n        at sun.security.pkcs11.P11KeyFactory.engineTranslateKey(P11KeyFactory.java:132) [sunpkcs11.jar:1.7.0_85]\n        at sun.security.pkcs11.P11KeyFactory.convertKey(P11KeyFactory.java:65) [sunpkcs11.jar:1.7.0_85]\n        at sun.security.pkcs11.P11RSACipher.implInit(P11RSACipher.java:199) [sunpkcs11.jar:1.7.0_85]\n        at sun.security.pkcs11.P11RSACipher.engineInit(P11RSACipher.java:168) [sunpkcs11.jar:1.7.0_85]\n        at javax.crypto.Cipher.init(Cipher.java:1068) [jce.jar:1.7.0_85]\n        at javax.crypto.Cipher.init(Cipher.java:1012) [jce.jar:1.7.0_85]enter code here\n</code></pre>\n\n<p><strong>Below is the code:</strong></p>\n\n<pre><code>import java.io.ByteArrayOutputStream;\nimport java.security.KeyStore;\nimport java.security.PrivateKey;\nimport java.security.PublicKey;\nimport java.security.cert.Certificate;\n\nimport javax.crypto.Cipher;\nimport javax.xml.bind.DatatypeConverter;\n\nimport sun.security.pkcs11.SunPKCS11;\n\npublic class App {\n\n    public static void main(String[] args) throws Exception {\n\n        try {\n            String passphrase = \"mysecretkey\";\n            SunPKCS11 provider = new SunPKCS11(\"/home/user/pkcs11.cfg\");\n            KeyStore keystore = KeyStore.getInstance(\"PKCS11\", provider);\n            keystore.load(null, passphrase.toCharArray());\n            String textToEncrypt = \"this is my text\";\n            Certificate cert = keystore.getCertificate(\"my-SHA1WITHRSA-2048-bits-key\");\n            PublicKey publicKey = cert.getPublicKey();\n            Cipher cipher = Cipher.getInstance(\"RSA/ECB/PKCS1Padding\", provider);\n            cipher.init(Cipher.ENCRYPT_MODE, publicKey);\n            String encryptedData = DatatypeConverter.printBase64Binary(cipher.doFinal(textToEncrypt.getBytes()));\n\n            PrivateKey privateKey = (PrivateKey) keystore.getKey(\"my-SHA1WITHRSA-2048-bits-key\",\n                    passphrase.toCharArray());\n            cipher.init(Cipher.DECRYPT_MODE, privateKey);\n            byte[] decodedEncryptedData = DatatypeConverter.parseBase64Binary(encryptedData);\n            ByteArrayOutputStream stream = new ByteArrayOutputStream();\n            int blocks = decodedEncryptedData.length / 256;\n            int offset = 0;\n            for (int blockIndex = 0; blockIndex &lt; blocks; blockIndex++) {\n                byte[] nextBlock = getNextBlock(decodedEncryptedData, offset);\n                stream.write(cipher.doFinal(nextBlock));\n                offset += 256;\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n    }\n\n    private static byte[] getNextBlock(byte[] cipherText, int offset) {\n        byte[] block = new byte[256];\n        System.arraycopy(cipherText, offset, block, 0, 256);\n        return block;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","regression","coefficients","olsmultiplelinearregression"],"comments":[{"owner":{"account_id":15519832,"reputation":1026,"user_id":11478354,"display_name":"dcolazin"},"score":0,"creation_date":1643623918,"post_id":70923168,"comment_id":125380686,"body_markdown":"Please, paste the data you used to replicate your case.","body":"Please, paste the data you used to replicate your case."}],"answers":[{"tags":[],"owner":{"account_id":15519832,"reputation":1026,"user_id":11478354,"display_name":"dcolazin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643624902,"creation_date":1643624902,"answer_id":70924417,"question_id":70923168,"body_markdown":"You can just use `calculateBeta()` (which is protected, unfortunately)\r\n\r\n    class Test {\r\n        public static void main(String[] args)  {\r\n            System.out.println(new TestData());\r\n        }\r\n    }\r\n\r\nso you have to use a trick...\r\n\r\n    import org.apache.commons.math3.stat.regression.OLSMultipleLinearRegression;\r\n    \r\n    public class TestData extends OLSMultipleLinearRegression {\r\n        public TestData() {\r\n            double[] y = {5.6, 5.44, 4.57, 4.78, 4.25, 5.31, 5.24, 5.12, 4.58, 5.18};\r\n            double[][] x = {{3.17, 26.348}, {3.65, 24.198}, {3.28, 25.085}, {3.37, 22.461},\r\n                    {2.57, 23.740}, {3.60, 24.786}, {3.50, 23.374}, {2.98, 23.725},\r\n                    {2.54, 23.227}, {3.41, 26.920}};\r\n            this.newSampleData(y,x);\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return this.calculateBeta().toString();\r\n        }\r\n    }","title":"Multiple linear Regression calculate coefficients Java","body":"<p>You can just use <code>calculateBeta()</code> (which is protected, unfortunately)</p>\n<pre><code>class Test {\n    public static void main(String[] args)  {\n        System.out.println(new TestData());\n    }\n}\n</code></pre>\n<p>so you have to use a trick...</p>\n<pre><code>import org.apache.commons.math3.stat.regression.OLSMultipleLinearRegression;\n\npublic class TestData extends OLSMultipleLinearRegression {\n    public TestData() {\n        double[] y = {5.6, 5.44, 4.57, 4.78, 4.25, 5.31, 5.24, 5.12, 4.58, 5.18};\n        double[][] x = {{3.17, 26.348}, {3.65, 24.198}, {3.28, 25.085}, {3.37, 22.461},\n                {2.57, 23.740}, {3.60, 24.786}, {3.50, 23.374}, {2.98, 23.725},\n                {2.54, 23.227}, {3.41, 26.920}};\n        this.newSampleData(y,x);\n    }\n\n    @Override\n    public String toString() {\n        return this.calculateBeta().toString();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":22968946,"reputation":1,"user_id":17097620,"display_name":"Bl0ss0m"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":425,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70924417,"answer_count":1,"score":-1,"last_activity_date":1643648826,"creation_date":1643618508,"question_id":70923168,"body_markdown":"I am currently trying to perform an Multiple linear regression within my Java Project.\r\nI already tried many different classes like the OLSMultipleLinearRegression Class.\r\nBut those classes don&#39;t return the parameters I need. For example these are the parameters which are possible to be calculated and those methods work fine.\r\n\r\n    calculateBeta()\r\n    calculateBetaVariance()\r\n    calculateHat()\r\n    calculateResidualSumOfSquares()\r\n    calculateRSquared()\r\n    calculateTotalSumOfSquares()\r\n\r\nBut I am trying to calculate the coefficients!\r\n\r\nHere you can see my parameters and the expected results:  \r\n[![Here you can see my parameters and the expected results][1]][1]\r\n\r\nMaybe someone has an idea how to perform an MLR that includes the calculation of the coefficients... Thanks guys!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wRkhz.png","title":"Multiple linear Regression calculate coefficients Java","body":"<p>I am currently trying to perform an Multiple linear regression within my Java Project.\nI already tried many different classes like the OLSMultipleLinearRegression Class.\nBut those classes don't return the parameters I need. For example these are the parameters which are possible to be calculated and those methods work fine.</p>\n<pre><code>calculateBeta()\ncalculateBetaVariance()\ncalculateHat()\ncalculateResidualSumOfSquares()\ncalculateRSquared()\ncalculateTotalSumOfSquares()\n</code></pre>\n<p>But I am trying to calculate the coefficients!</p>\n<p>Here you can see my parameters and the expected results:<br />\n<a href=\"https://i.stack.imgur.com/wRkhz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wRkhz.png\" alt=\"Here you can see my parameters and the expected results\" /></a></p>\n<p>Maybe someone has an idea how to perform an MLR that includes the calculation of the coefficients... Thanks guys!</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":13017541,"reputation":670,"user_id":9408181,"display_name":"Rahul Chokshi"},"score":2,"creation_date":1556007361,"post_id":55806724,"comment_id":98281500,"body_markdown":"https://stackoverflow.com/questions/34020891/how-to-change-background-color-of-the-snackbar","body":"<a href=\"https://stackoverflow.com/questions/34020891/how-to-change-background-color-of-the-snackbar\" title=\"how to change background color of the snackbar\">stackoverflow.com/questions/34020891/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":12472802,"reputation":21,"user_id":9080264,"display_name":"edward kenway"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1556008275,"creation_date":1556006908,"answer_id":55806842,"question_id":55806724,"body_markdown":"    Snackbar snackbar = Snackbar.make(mainView, text, Snackbar.LENGTH_LONG);\r\n    View snackBarView = snackbar.getView();\r\n    snackBarView.setBackgroundColor(context.getResources().getColor(R.color.yourcolor));\r\n    snackbar.show();\r\n\r\nyou can define your color as transparent in values.\r\n","title":"Is there a way to remove/transparent background color of a snackbar in android?","body":"<pre><code>Snackbar snackbar = Snackbar.make(mainView, text, Snackbar.LENGTH_LONG);\nView snackBarView = snackbar.getView();\nsnackBarView.setBackgroundColor(context.getResources().getColor(R.color.yourcolor));\nsnackbar.show();\n</code></pre>\n\n<p>you can define your color as transparent in values.</p>\n"},{"tags":[],"owner":{"account_id":9860838,"reputation":1261,"user_id":7303915,"display_name":"Usman Zafer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643648774,"creation_date":1643648774,"answer_id":70929969,"question_id":55806724,"body_markdown":"For newcomers (Kotlin)\r\n\r\n    snackbar.view.setBackgroundColor(Color.TRANSPARENT)\r\n\r\nIt will remove the background from Snackbar\r\n\r\n","title":"Is there a way to remove/transparent background color of a snackbar in android?","body":"<p>For newcomers (Kotlin)</p>\n<pre><code>snackbar.view.setBackgroundColor(Color.TRANSPARENT)\n</code></pre>\n<p>It will remove the background from Snackbar</p>\n"}],"owner":{"account_id":15796812,"reputation":41,"user_id":11398399,"display_name":"Varun Sahdev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1660,"favorite_count":0,"down_vote_count":2,"up_vote_count":4,"answer_count":2,"score":2,"last_activity_date":1643648774,"creation_date":1556006462,"question_id":55806724,"body_markdown":"Can anyone guide me how to make background of a snackbar transparent?\r\n\r\nThanks","title":"Is there a way to remove/transparent background color of a snackbar in android?","body":"<p>Can anyone guide me how to make background of a snackbar transparent?</p>\n\n<p>Thanks</p>\n"},{"tags":["java","hibernate","jpa","jakarta-ee","orm"],"answers":[{"tags":[],"owner":{"account_id":18098038,"reputation":1240,"user_id":13156126,"display_name":"fladdimir"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1643648515,"creation_date":1643648515,"answer_id":70929901,"question_id":70928924,"body_markdown":"Using `@Formula` would not cause any `N+1` select problem (different to `@PostLoad`), since the specified expression is evaluated as part of the initial select query.\r\n\r\n(Infact, you would need to enable Hibernates byte code enhancement to be able to lazy-load the calculated @Formula property: https://stackoverflow.com/questions/38761689/controlling-lazy-eager-loading-of-formula-columns-dynamically )\r\n\r\nSo even though it is a Hibernate-specific feature which needs native SQL, `@Formula` is probably a good and simple way to realize this.\r\n\r\nIn case the performance drawback of the correlated subquery gets significant and there are cases when the calculated property is not needed, you might additionally create a DTO projection only containing needed properties.\r\n","title":"JPA: how can i map a property to a derived column that is based on a COUNT from other tables (Without incurring in n+1 select problems?)","body":"<p>Using <code>@Formula</code> would not cause any <code>N+1</code> select problem (different to <code>@PostLoad</code>), since the specified expression is evaluated as part of the initial select query.</p>\n<p>(Infact, you would need to enable Hibernates byte code enhancement to be able to lazy-load the calculated @Formula property: <a href=\"https://stackoverflow.com/questions/38761689/controlling-lazy-eager-loading-of-formula-columns-dynamically\">Controlling lazy/eager loading of @Formula columns dynamically</a> )</p>\n<p>So even though it is a Hibernate-specific feature which needs native SQL, <code>@Formula</code> is probably a good and simple way to realize this.</p>\n<p>In case the performance drawback of the correlated subquery gets significant and there are cases when the calculated property is not needed, you might additionally create a DTO projection only containing needed properties.</p>\n"}],"owner":{"account_id":13009853,"reputation":395,"user_id":9403279,"display_name":"cidra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":550,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70929901,"answer_count":1,"score":2,"last_activity_date":1643648515,"creation_date":1643644521,"question_id":70928924,"body_markdown":"These are the entities defined in my project:  \r\n\r\n### Post\r\n\r\n    @Entity\r\n    public class Post implements Serializable {\r\n        public enum Type {TEXT, IMG}\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        protected Integer id;\r\n    \r\n        @ManyToOne(fetch = FetchType.LAZY, optional = false)\r\n        @JoinColumn(name = &quot;section_id&quot;)\r\n        protected Section section;\r\n    \r\n        @ManyToOne(fetch = FetchType.LAZY, optional = false)\r\n        @JoinColumn(name = &quot;author_id&quot;)\r\n        protected User author;\r\n    \r\n        @Column(length = 255, nullable = false)\r\n        protected String title;\r\n    \r\n        @Column(columnDefinition = &quot;TEXT&quot;, nullable = false)\r\n        protected String content;\r\n    \r\n        @Enumerated(EnumType.STRING)\r\n        @Column(nullable = false)\r\n        protected Type type;\r\n    \r\n        @CreationTimestamp\r\n        @Column(nullable = false, updatable = false, insertable = false)\r\n        protected Instant creationDate;\r\n    \r\n        @Column(insertable = false, updatable = false)\r\n        protected Integer votes;  \r\n        \r\n        /*accessor methods*/\r\n    }\r\n\r\n### Comment  \r\n\r\n    @Entity\r\n    public class Comment implements Serializable {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        protected Integer id;\r\n    \r\n        @ManyToOne(fetch = FetchType.LAZY, optional = false)\r\n        @JoinColumn(name = &quot;post_id&quot;)\r\n        protected Post post;\r\n    \r\n        @ManyToOne(fetch = FetchType.LAZY, optional = false)\r\n        @JoinColumn(name = &quot;author_id&quot;)\r\n        protected User author;\r\n    \r\n        @ManyToOne(fetch = FetchType.LAZY, optional = true)\r\n        @JoinColumn(name = &quot;parent_comment_id&quot;)\r\n        protected Comment parentComment;\r\n    \r\n        @Column(columnDefinition = &quot;TEXT&quot;, nullable = false)\r\n        protected String content;\r\n    \r\n        @CreationTimestamp\r\n        @Column(nullable = false, updatable = false, insertable = false)\r\n        protected Instant creationDate;\r\n    \r\n        @Column(insertable = false, updatable = false)\r\n        protected Integer votes;\r\n    \r\n        @Column(insertable = false, updatable = false)\r\n        protected String path;\r\n        \r\n        /*accessor methods*/\r\n    }  \r\n\r\nAs you can see, aggregations are only tracked from the child&#39;s point of view: there are no ``@ManyToOne`` relationships due to a design choice.  \r\n\r\nHowever, I&#39;d like to add a ``commentCount`` field to the ``Post`` entity. This field should be loaded eagerly (since it is always read in my use cases and a ``COUNT`` statement isn&#39;t **that** costly... i guess)    \r\n\r\nThese are the options I&#39;m currently aware of:  \r\n\r\n* Use the ``@Formula`` or the ``@PostLoad`` annotations: there would be ``N+1``select statements  \r\n* Retrieve the posts, then call another repository method that uses the ``IN`` operator with all the retrieved posts as argument:  \r\n\r\n        select post, count(comment) from Post post, Comment comment where comment.post in (:posts) group by comment.post\r\n    (Given that my data access layer might load even 50 posts at once, would a 50 parameters long ``in`` be optimal?)  \r\n* Create a non-mapped entity attribute, then take care of filling it manually in all repository methods involving ``Post`` with a ``join``: i&#39;d like to avoid this.  \r\n* Store ``commentCount`` in the database and mantain it with triggers: could be an option, but it&#39;s not the focus of this question (I&#39;m not allowed to touch the schema)  \r\n\r\nWhat can be a valid solution? I&#39;m using Hibernate but i prefer implementation-agnostic solutions (Implementation-specific options won&#39;t be ignored, though)  \r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"JPA: how can i map a property to a derived column that is based on a COUNT from other tables (Without incurring in n+1 select problems?)","body":"<p>These are the entities defined in my project:</p>\n<h3>Post</h3>\n<pre><code>@Entity\npublic class Post implements Serializable {\n    public enum Type {TEXT, IMG}\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    protected Integer id;\n\n    @ManyToOne(fetch = FetchType.LAZY, optional = false)\n    @JoinColumn(name = &quot;section_id&quot;)\n    protected Section section;\n\n    @ManyToOne(fetch = FetchType.LAZY, optional = false)\n    @JoinColumn(name = &quot;author_id&quot;)\n    protected User author;\n\n    @Column(length = 255, nullable = false)\n    protected String title;\n\n    @Column(columnDefinition = &quot;TEXT&quot;, nullable = false)\n    protected String content;\n\n    @Enumerated(EnumType.STRING)\n    @Column(nullable = false)\n    protected Type type;\n\n    @CreationTimestamp\n    @Column(nullable = false, updatable = false, insertable = false)\n    protected Instant creationDate;\n\n    @Column(insertable = false, updatable = false)\n    protected Integer votes;  \n    \n    /*accessor methods*/\n}\n</code></pre>\n<h3>Comment</h3>\n<pre><code>@Entity\npublic class Comment implements Serializable {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    protected Integer id;\n\n    @ManyToOne(fetch = FetchType.LAZY, optional = false)\n    @JoinColumn(name = &quot;post_id&quot;)\n    protected Post post;\n\n    @ManyToOne(fetch = FetchType.LAZY, optional = false)\n    @JoinColumn(name = &quot;author_id&quot;)\n    protected User author;\n\n    @ManyToOne(fetch = FetchType.LAZY, optional = true)\n    @JoinColumn(name = &quot;parent_comment_id&quot;)\n    protected Comment parentComment;\n\n    @Column(columnDefinition = &quot;TEXT&quot;, nullable = false)\n    protected String content;\n\n    @CreationTimestamp\n    @Column(nullable = false, updatable = false, insertable = false)\n    protected Instant creationDate;\n\n    @Column(insertable = false, updatable = false)\n    protected Integer votes;\n\n    @Column(insertable = false, updatable = false)\n    protected String path;\n    \n    /*accessor methods*/\n}  \n</code></pre>\n<p>As you can see, aggregations are only tracked from the child's point of view: there are no <code>@ManyToOne</code> relationships due to a design choice.</p>\n<p>However, I'd like to add a <code>commentCount</code> field to the <code>Post</code> entity. This field should be loaded eagerly (since it is always read in my use cases and a <code>COUNT</code> statement isn't <strong>that</strong> costly... i guess)</p>\n<p>These are the options I'm currently aware of:</p>\n<ul>\n<li><p>Use the <code>@Formula</code> or the <code>@PostLoad</code> annotations: there would be <code>N+1</code>select statements</p>\n</li>\n<li><p>Retrieve the posts, then call another repository method that uses the <code>IN</code> operator with all the retrieved posts as argument:</p>\n<pre><code>  select post, count(comment) from Post post, Comment comment where comment.post in (:posts) group by comment.post\n</code></pre>\n<p>(Given that my data access layer might load even 50 posts at once, would a 50 parameters long <code>in</code> be optimal?)</p>\n</li>\n<li><p>Create a non-mapped entity attribute, then take care of filling it manually in all repository methods involving <code>Post</code> with a <code>join</code>: i'd like to avoid this.</p>\n</li>\n<li><p>Store <code>commentCount</code> in the database and mantain it with triggers: could be an option, but it's not the focus of this question (I'm not allowed to touch the schema)</p>\n</li>\n</ul>\n<p>What can be a valid solution? I'm using Hibernate but i prefer implementation-agnostic solutions (Implementation-specific options won't be ignored, though)</p>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":5470860,"reputation":9722,"user_id":4350275,"accept_rate":36,"display_name":"Prerak Sola"},"score":0,"creation_date":1440691881,"post_id":32254498,"comment_id":52389044,"body_markdown":"Which parser are you using?","body":"Which parser are you using?"},{"owner":{"account_id":1672698,"reputation":7302,"user_id":1538856,"accept_rate":78,"display_name":"JoeG"},"score":1,"creation_date":1440692175,"post_id":32254498,"comment_id":52389219,"body_markdown":"possible duplicate of [How to parse JSON in Java](http://stackoverflow.com/questions/2591098/how-to-parse-json-in-java)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/2591098/how-to-parse-json-in-java\">How to parse JSON in Java</a>"}],"answers":[{"tags":[],"owner":{"account_id":4763924,"reputation":26697,"user_id":3850595,"accept_rate":86,"display_name":"Jordi Castilla"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1440692019,"creation_date":1440692019,"answer_id":32254608,"question_id":32254498,"body_markdown":"Use [org.json][1] library. \r\n\r\nExample:\r\n\r\n    import org.json.*;\r\n\r\n    String myJSONString =  // put here your json object\r\n    JSONObject object = new JSONObject(myJSONString);\r\n    // get all the keys\r\n    String[] keys = JSONObject.getNames(object);\r\n    \r\n    // iterate over them\r\n    for (String key : keys)\r\n    {\r\n        // retrieve the values\r\n        Object value = object.get(key);\r\n        // if you just have strings:\r\n        String value = (String) object.get(key);\r\n\r\n    }\r\n\r\nJAR: http://mvnrepository.com/artifact/org.json/json\r\n\r\n  [1]: http://www.json.org/java/index.html","title":"How to read all keys in Json without specifying keyname using java","body":"<p>Use <a href=\"http://www.json.org/java/index.html\" rel=\"nofollow\">org.json</a> library. </p>\n\n<p>Example:</p>\n\n<pre><code>import org.json.*;\n\nString myJSONString =  // put here your json object\nJSONObject object = new JSONObject(myJSONString);\n// get all the keys\nString[] keys = JSONObject.getNames(object);\n\n// iterate over them\nfor (String key : keys)\n{\n    // retrieve the values\n    Object value = object.get(key);\n    // if you just have strings:\n    String value = (String) object.get(key);\n\n}\n</code></pre>\n\n<p>JAR: <a href=\"http://mvnrepository.com/artifact/org.json/json\" rel=\"nofollow\">http://mvnrepository.com/artifact/org.json/json</a></p>\n"},{"tags":[],"owner":{"account_id":9684429,"reputation":23,"user_id":7184809,"display_name":"Mirco"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643648500,"creation_date":1643648500,"answer_id":70929897,"question_id":32254498,"body_markdown":"This didnt seems to work anymore. However, [Rickey][1] pointed out another solution using iterators, which is mostly a smarter idea to use anyways:\r\n\r\n    JSONObject jsonObject = new JSONObject(contents.trim());\r\n    Iterator&lt;String&gt; keys = jsonObject.keys();\r\n    \r\n    while(keys.hasNext()) {\r\n        String key = keys.next();\r\n        if (jsonObject.get(key) instanceof JSONObject) {\r\n              // do something with jsonObject here      \r\n        }\r\n    }\r\n\r\n(Copied from [here][2])\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/711993/rickey\r\n  [2]: https://stackoverflow.com/a/10593838/7184809","title":"How to read all keys in Json without specifying keyname using java","body":"<p>This didnt seems to work anymore. However, <a href=\"https://stackoverflow.com/users/711993/rickey\">Rickey</a> pointed out another solution using iterators, which is mostly a smarter idea to use anyways:</p>\n<pre><code>JSONObject jsonObject = new JSONObject(contents.trim());\nIterator&lt;String&gt; keys = jsonObject.keys();\n\nwhile(keys.hasNext()) {\n    String key = keys.next();\n    if (jsonObject.get(key) instanceof JSONObject) {\n          // do something with jsonObject here      \n    }\n}\n</code></pre>\n<p>(Copied from <a href=\"https://stackoverflow.com/a/10593838/7184809\">here</a>)</p>\n"}],"owner":{"account_id":4009209,"reputation":11,"user_id":3303093,"display_name":"khuddus"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2516,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1643648500,"creation_date":1440691713,"question_id":32254498,"body_markdown":"Trying to read Json Message like below\r\n\r\n\t{\r\n\t  &quot;employees&quot;: [\r\n\t    {\r\n\t      &quot;firstName&quot;: &quot;John&quot;,\r\n\t      &quot;lastName&quot;: &quot;Doe&quot;\r\n\t    },\r\n\t    {\r\n\t      &quot;firstName&quot;: &quot;Anna&quot;,\r\n\t      &quot;lastName&quot;: &quot;Smith&quot;\r\n\t    },\r\n\t    {\r\n\t      &quot;firstName&quot;: &quot;Peter&quot;,\r\n\t      &quot;lastName&quot;: &quot;Jones&quot;\r\n\t    }\r\n\t  ]\r\n\t}\r\n\r\nI want to read all keynames like employees,firstName,lastName etc.. in java.\r\nin XML we do this while parsing we specify * in dom object and get all node names, how to do this in java?","title":"How to read all keys in Json without specifying keyname using java","body":"<p>Trying to read Json Message like below</p>\n\n<pre><code>{\n  \"employees\": [\n    {\n      \"firstName\": \"John\",\n      \"lastName\": \"Doe\"\n    },\n    {\n      \"firstName\": \"Anna\",\n      \"lastName\": \"Smith\"\n    },\n    {\n      \"firstName\": \"Peter\",\n      \"lastName\": \"Jones\"\n    }\n  ]\n}\n</code></pre>\n\n<p>I want to read all keynames like employees,firstName,lastName etc.. in java.\nin XML we do this while parsing we specify * in dom object and get all node names, how to do this in java?</p>\n"},{"tags":["java","parallel-processing","fork-join","forkjoinpool"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1643648376,"post_id":70510919,"comment_id":125390404,"body_markdown":"Neither `commonPool()` not lambda expressions exist in Java-7.","body":"Neither <code>commonPool()</code> not lambda expressions exist in Java-7."}],"answers":[{"tags":[],"owner":{"account_id":3596687,"reputation":27,"user_id":3001157,"display_name":"PGuru"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640770173,"creation_date":1640770173,"answer_id":70517516,"question_id":70510919,"body_markdown":"realized that the output can be obtained **output.get()**. Thanks","title":"How to get desired output from ForkJoinPool.commonPool().submit","body":"<p>realized that the output can be obtained <strong>output.get()</strong>. Thanks</p>\n"}],"owner":{"account_id":3596687,"reputation":27,"user_id":3001157,"display_name":"PGuru"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":211,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643648389,"creation_date":1640715140,"question_id":70510919,"body_markdown":"Please consider the below existing code segment in the project. \r\n\r\n```ForkJoinPool.commonPool().submit(() -&gt; updateActions(a, b, c));```\r\n\r\npublic void updateActions(a, b, c){\r\n--some implementation--\r\n}\r\n\r\n**updateActions** is a void method. I&#39;m going to change it to output a **Map&lt;String, String&gt;** from it. I want to keep the parallel execution behavior as it is and get the map at the end of execution from that.\r\n\r\nI modified the code as below but couldn&#39;t get any output from it.\r\n\r\n```ForkJoinTask&lt;Map&lt;String, String&gt;&gt; output = ForkJoinPool.commonPool().submit(() -&gt; updateActions(a, b, c));```\r\n\r\nchanged updateActions method is as below--&gt; \r\n\r\npublic Map&lt;String, String&gt; updateActions(a, b, c){\r\n--some implementation--\r\nreturn map;\r\n}\r\n\r\nHow can I change my code according to this requirement?  \r\n","title":"How to get desired output from ForkJoinPool.commonPool().submit","body":"<p>Please consider the below existing code segment in the project.</p>\n<p><code>ForkJoinPool.commonPool().submit(() -&gt; updateActions(a, b, c));</code></p>\n<p>public void updateActions(a, b, c){\n--some implementation--\n}</p>\n<p><strong>updateActions</strong> is a void method. I'm going to change it to output a <strong>Map&lt;String, String&gt;</strong> from it. I want to keep the parallel execution behavior as it is and get the map at the end of execution from that.</p>\n<p>I modified the code as below but couldn't get any output from it.</p>\n<p><code>ForkJoinTask&lt;Map&lt;String, String&gt;&gt; output = ForkJoinPool.commonPool().submit(() -&gt; updateActions(a, b, c));</code></p>\n<p>changed updateActions method is as below--&gt;</p>\n<p>public Map&lt;String, String&gt; updateActions(a, b, c){\n--some implementation--\nreturn map;\n}</p>\n<p>How can I change my code according to this requirement?</p>\n"},{"tags":["java","android","ios","react-native","development-environment"],"answers":[{"tags":[],"owner":{"account_id":14757159,"reputation":4260,"user_id":10657559,"display_name":"Thanhal P A"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643648169,"creation_date":1643648169,"answer_id":70929814,"question_id":70929377,"body_markdown":"**iOS**\r\n\r\nThere above errors can be fixed by \r\n1. Run command `react-native unlink rn-fetch-blob`\r\n2. Add CFBundleIdentifier in info.plist file\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n&lt;key&gt;CFBundleIdentifier&lt;/key&gt;\r\n&lt;string&gt;$(PRODUCT_BUNDLE_IDENTIFIER)&lt;/string&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n**Android**\r\n\r\nTry run using android studio and if error exist, try changing gradle version and build","title":"React-Native Project won&#39;t build on ios or android","body":"<p><strong>iOS</strong></p>\n<p>There above errors can be fixed by</p>\n<ol>\n<li>Run command <code>react-native unlink rn-fetch-blob</code></li>\n<li>Add CFBundleIdentifier in info.plist file</li>\n</ol>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>&lt;key&gt;CFBundleIdentifier&lt;/key&gt;\n&lt;string&gt;$(PRODUCT_BUNDLE_IDENTIFIER)&lt;/string&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p><strong>Android</strong></p>\n<p>Try run using android studio and if error exist, try changing gradle version and build</p>\n"}],"owner":{"account_id":10381655,"reputation":59,"user_id":7656226,"accept_rate":100,"display_name":"Robert Zobrist"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1367,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70929814,"answer_count":1,"score":0,"last_activity_date":1643648169,"creation_date":1643646421,"question_id":70929377,"body_markdown":"Im a freelance developer and I&#39;ve recently took a contract to help a RN app launch; however, I can&#39;t for the life of me get  either the android or ios emulators running on my machine. \r\n\r\nHere is my react-native version:\r\n```\r\n    &quot;react-native&quot;: &quot;0.63.3&quot;\r\n```\r\n\r\n\r\nsteps to reproduce error:\r\nyarn start &amp;&amp; yarn ios\r\n\r\nhere is the error: \r\n```Zobrist@Roberts-MBP gui % yarn ios\r\nyarn run v1.22.17\r\n$ react-native run-ios\r\nerror React Native CLI uses autolinking for native dependencies, but the following modules are linked manually: \r\n  - rn-fetch-blob (to unlink run: &quot;react-native unlink rn-fetch-blob&quot;)\r\nThis is likely happening when upgrading React Native from below 0.60 to 0.60 or above. Going forward, you can unlink this dependency via &quot;react-native unlink &lt;dependency&gt;&quot; and it will be included in your app automatically. If a library isn&#39;t compatible with autolinking, disregard this message and notify the library maintainers.\r\nRead more about autolinking: https://github.com/react-native-community/cli/blob/master/docs/autolinking.md\r\ninfo Found Xcode workspace &quot;LoadBetter.xcworkspace&quot;\r\ninfo Building (using &quot;xcodebuild -workspace LoadBetter.xcworkspace -configuration Debug -scheme LoadBetter -destination id=6BB5A9A1-B45E-44F9-BF3D-CC9B962AEE21&quot;)\r\nsuccess Successfully built the app\r\n--- xcodebuild: WARNING: Using the first of multiple matching destinations:\r\n{ platform:iOS Simulator, id:AF1C64B5-C57A-4859-92F6-127B9514F7F2, OS:15.2, name:iPhone 12 Pro }\r\n{ platform:iOS Simulator, id:45BA0E53-29BB-4282-A275-980FD06BDDD5, OS:15.2, name:iPhone 12 Pro Max }\r\n{ platform:iOS Simulator, id:A1FCB8D5-6CA1-43BB-9659-5A4C36359C79, OS:15.2, name:iPhone 12 mini }\r\n{ platform:iOS Simulator, id:219F0A9A-A0AC-459D-871E-CB54BDF9AEFA, OS:15.2, name:iPhone 13 }\r\n{ platform:iOS Simulator, id:5642197F-3A7B-48D8-9068-4D4442C3FE67, OS:15.2, name:iPhone 13 }\r\n{ platform:iOS Simulator, id:C6AB27A8-5F6C-451B-BBB1-0E55476CB8A6, OS:15.2, name:iPhone 13 Pro }\r\n{ platform:iOS Simulator, id:46D25E85-6DEB-4050-AA6F-EBEFD53ADDD7, OS:15.2, name:iPhone 13 Pro Max }\r\n{ platform:iOS Simulator, id:26370E8C-68A8-4435-ACCC-744A52D40962, OS:15.2, name:iPhone 13 mini }\r\n{ platform:iOS Simulator, id:80820DD8-3514-4AF9-9998-8CB935C76030, OS:15.2, name:iPhone SE (2nd generation) }\r\n{ platform:iOS Simulator, id:C4C1EDC1-79D2-4B3A-BE4E-9A40696DD8D2, OS:15.2, name:iPod touch (7th generation) }\r\n{ platform:iOS, id:dvtdevice-DVTiPhonePlaceholder-iphoneos:placeholder, name:Any iOS Device }\r\n{ platform:iOS Simulator, id:72F120CA-E060-4C82-BD76-6B49A59E9F27, OS:15.2, name:iPad (9th generation) }\r\n{ platform:iOS Simulator, id:59F1F637-2941-4EFC-BF21-7FCBA9730CD9, OS:15.2, name:iPad Air (4th generation) }\r\n{ platform:iOS Simulator, id:88E51E74-C858-4D7F-AAB7-C56EC76C6E0A, OS:15.2, name:iPad Pro (9.7-inch) }\r\n{ platform:iOS Simulator, id:5A0768FE-6C07-416E-A672-F712ECECEAD1, OS:15.2, name:iPad Pro (11-inch) (3rd generation) }\r\n{ platform:iOS Simulator, id:A6169A15-781B-4323-896B-5FFDF5268DCC, OS:15.2, name:iPad Pro (12.9-inch) (5th generation) }\r\n{ platform:iOS Simulator, id:BBBE77A2-21CC-43A3-B7CB-35E60C5CF38A, OS:15.2, name:iPad mini (6th generation) }\r\ninfo Installing &quot;/Users/Zobrist/Library/Developer/Xcode/DerivedData/LoadBetter-cayzqpevfoqiseaavtgzlqckqvif/Build/Products/Debug-iphonesimulator/LoadBetter.app&quot;\r\nAn error was encountered processing the command (domain=NSPOSIXErrorDomain, code=22):\r\nFailed to install the requested application\r\nThe bundle identifier of the application could not be determined.\r\nEnsure that the application&#39;s Info.plist contains a value for CFBundleIdentifier.\r\nPrint: Entry, &quot;:CFBundleIdentifier&quot;, Does Not Exist\r\nerror Command failed: /usr/libexec/PlistBuddy -c Print:CFBundleIdentifier /Users/Zobrist/Library/Developer/Xcode/DerivedData/LoadBetter-cayzqpevfoqiseaavtgzlqckqvif/Build/Products/Debug-iphonesimulator/LoadBetter.app/Info.plist\r\nPrint: Entry, &quot;:CFBundleIdentifier&quot;, Does Not Exist\r\n. Run CLI with --verbose flag for more details.\r\nError: Command failed: /usr/libexec/PlistBuddy -c Print:CFBundleIdentifier /Users/Zobrist/Library/Developer/Xcode/DerivedData/LoadBetter-cayzqpevfoqiseaavtgzlqckqvif/Build/Products/Debug-iphonesimulator/LoadBetter.app/Info.plist\r\nPrint: Entry, &quot;:CFBundleIdentifier&quot;, Does Not Exist\r\n\r\n    at checkExecSyncError (node:child_process:826:11)\r\n    at Object.execFileSync (node:child_process:864:15)\r\n    at runOnSimulator (/Users/Zobrist/Desktop/Code/work/loadBetter/gui/node_modules/@react-native-community/cli-platform-ios/build/commands/runIOS/index.js:201:45)\r\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\r\n    at async Command.handleAction (/Users/Zobrist/Desktop/Code/work/loadBetter/gui/node_modules/@react-native-community/cli/build/index.js:186:9)\r\nerror Command failed with exit code 1.\r\ninfo Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.\r\nZobrist@Roberts-MBP gui % \r\n```\r\n\r\ncommand:\r\nyarn android\r\noutput:\r\n```Zobrist@Roberts-MBP gui % yarn sndroid\r\nyarn run v1.22.17\r\nerror Command &quot;sndroid&quot; not found. Did you mean &quot;android&quot;?\r\ninfo Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.\r\nZobrist@Roberts-MBP gui % yarn android\r\nyarn run v1.22.17\r\n$ react-native run-android\r\ninfo Running jetifier to migrate libraries to AndroidX. You can disable it using &quot;--no-jetifier&quot; flag.\r\nJetifier found 1674 file(s) to forward-jetify. Using 4 workers...\r\ninfo JS server already running.\r\ninfo Launching emulator...\r\nerror Failed to launch emulator. Reason: Could not start emulator within 30 seconds..\r\nwarn Please launch an emulator manually or connect a device. Otherwise app may fail to launch.\r\ninfo Installing the app...\r\n\r\n&gt; Task :app:compileDebugJavaWithJavac\r\n\r\n&gt; Task :app:compileDebugJavaWithJavac FAILED\r\n\r\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 7.0.\r\nUse &#39;--warning-mode all&#39; to show the individual deprecation warnings.\r\nSee https://docs.gradle.org/6.2/userguide/command_line_interface.html#sec:command_line_warnings\r\n131 actionable tasks: 2 executed, 129 up-to-date\r\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/DashboardService.java:21: error: package protos does not exist\r\nimport protos.DashboardGrpc;\r\n             ^\r\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/DashboardService.java:22: error: package protos does not exist\r\nimport protos.DashboardOuterClass;\r\n             ^\r\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/AuthService.java:34: error: package protos does not exist\r\nimport protos.AuthGrpc;\r\n             ^\r\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/AuthService.java:35: error: package protos does not exist\r\nimport protos.AuthOuterClass;\r\n             ^\r\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/ConvertResponseUtil.java:7: error: package protos does not exist\r\nimport protos.AuthOuterClass;\r\n             ^\r\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/ConvertResponseUtil.java:8: error: package protos does not exist\r\nimport protos.DashboardOuterClass;\r\n             ^\r\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/ConvertResponseUtil.java:13: error: package protos.AuthOuterClass does not exist\r\n    public static final WritableArray ConvertResSkillsWrapper(java.util.List&lt;protos.AuthOuterClass.ResSkillWrapper&gt; reply) {\r\n                                                                                                  ^\r\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/ConvertResponseUtil.java:34: error: package AuthOuterClass does not exist\r\n    public static final WritableArray ConvertResTrailerTypesWrapper(List&lt;AuthOuterClass.ResTrailerTypeWrapper&gt; reply) {\r\n                                                                                            ^\r\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/ConvertResponseUtil.java:275: error: package protos.AuthOuterClass does not exist\r\n    public static final WritableArray ConvertResRoles(java.util.List&lt;protos.AuthOuterClass.ResRole&gt; reply) {\r\n                                                                                          ^\r\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/ConvertResponseUtil.java:284: error: package protos.AuthOuterClass does not exist\r\n    public static final WritableArray ConvertResUsers(java.util.List&lt;protos.AuthOuterClass.ResUser&gt; reply) {\r\n                                                                                          ^\r\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/ConvertResponseUtil.java:293: error: package protos.DashboardOuterClass does not exist\r\n    public static final WritableArray ConvertResDashOrganisationShipmentBrackets(java.util.List&lt;protos.DashboardOuterClass.ResDashOrganisationShipmentBracket&gt; reply) {\r\n                                                                                                                          ^\r\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/ConvertResponseUtil.java:311: error: package protos.DashboardOuterClass does not exist\r\n    public static final WritableMap ConvertResDashShipmentPercentage(protos.DashboardOuterClass.ResDashOrganisationShipmentPercentage reply) {\r\n                                                                                               ^\r\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/ConvertResponseUtil.java:320: error: package protos.DashboardOuterClass does not exist\r\n    public static final WritableMap ConvertResDashRole(protos.DashboardOuterClass.ResDashRole reply) {\r\n                                                                                 ^\r\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/ConvertResponseUtil.java:332: error: package protos.DashboardOuterClass does not exist\r\n    public static final WritableMap ConvertResDashUser(protos.DashboardOuterClass.ResDashUser reply) {\r\n                                                                                 ^\r\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/ConvertResponseUtil.java:347: error: package protos.DashboardOuterClass does not exist\r\n    public static final WritableMap ConvertResDashShipmentDriver(protos.DashboardOuterClass.ResDashShipmentDriver reply) {\r\n                                                                                           ^\r\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/ConvertResponseUtil.java:354: error: package protos.DashboardOuterClass does not exist\r\n    public static final WritableMap ConvertResDashCountry(protos.DashboardOuterClass.ResDashCountry reply) {\r\n                                                                                    ^\r\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/ConvertResponseUtil.java:383: error: package DashboardOuterClass does not exist\r\n    public static final WritableArray ConvertResDashTrailerTypesWrapper(List&lt;DashboardOuterClass.ResDashTrailerTypeWrapper&gt; reply) {\r\n                                                                                                ^\r\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/ConvertResponseUtil.java:404: error: package protos.DashboardOuterClass does not exist\r\n    public static final WritableArray ConvertResDashSkillsWrapper(java.util.List&lt;protos.DashboardOuterClass.ResDashSkillWrapper&gt; reply) {\r\n                                                                                                           ^\r\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/ConvertResponseUtil.java:425: error: package protos.DashboardOuterClass does not exist\r\n    public static final WritableMap ConvertResDashOrganisation(protos.DashboardOuterClass.ResDashOrganisation reply) {\r\n                                                                                         ^\r\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/ConvertResponseUtil.java:449: error: package protos.DashboardOuterClass does not exist\r\n    public static final WritableArray ConvertResDashOrganisations(java.util.List&lt;protos.DashboardOuterClass.ResDashOrganisation&gt; reply) {\r\n                                                                                                           ^\r\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/ConvertResponseUtil.java:459: error: package protos.DashboardOuterClass does not exist\r\n    public static final WritableArray ConvertResDashTrailerSizesWrapper(java.util.List&lt;protos.DashboardOuterClass.ResDashTrailerSizeWrapper&gt; reply) {\r\n                                                                                                                 ^\r\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/ConvertResponseUtil.java:479: error: package protos.DashboardOuterClass does not exist\r\n    public static final WritableArray ConvertResDashDates(java.util.List&lt;protos.DashboardOuterClass.ResDashDate&gt; reply) {\r\n                                                                                                   ^\r\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/ConvertResponseUtil.java:492: error: package protos.DashboardOuterClass does not exist\r\n    public static final WritableArray ConvertResDashReviews(java.util.List&lt;protos.DashboardOuterClass.ResDashReview&gt; reply) {\r\n                                                                                                     ^\r\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/ConvertResponseUtil.java:509: error: package protos.DashboardOuterClass does not exist\r\n    public static final WritableMap ConvertResDashFacility(protos.DashboardOuterClass.ResDashFacility reply) {\r\n                                                                                     ^\r\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/ConvertResponseUtil.java:529: error: package protos.DashboardOuterClass does not exist\r\n    public static final WritableMap ConvertResDashShipmentItemDetails(protos.DashboardOuterClass.ResDashShipmentItemDetails reply) {\r\n                                                                                                ^\r\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/ConvertResponseUtil.java:539: error: package protos.DashboardOuterClass does not exist\r\n    public static final WritableArray ConvertResDashShipmentItem(java.util.List&lt;protos.DashboardOuterClass.ResDashShipmentItem&gt; reply) {\r\n                                                                                                          ^\r\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/ConvertResponseUtil.java:565: error: package protos.DashboardOuterClass does not exist\r\n    public static final WritableMap ConvertResDashShipmentStop(protos.DashboardOuterClass.ResDashShipmentStop reply) {\r\n                                                                                         ^\r\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/ConvertResponseUtil.java:584: error: package protos.DashboardOuterClass does not exist\r\n    public static final WritableArray ConvertResDashShipmentStops(java.util.List&lt;protos.DashboardOuterClass.ResDashShipmentStop&gt; reply) {\r\n                                                                                                           ^\r\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/ConvertResponseUtil.java:594: error: package protos.DashboardOuterClass does not exist\r\n    public static final WritableMap ConvertResDashShipmentQuote(protos.DashboardOuterClass.ResDashShipmentQuote reply) {\r\n                                                                                          ^\r\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/ConvertResponseUtil.java:614: error: package protos.DashboardOuterClass does not exist\r\n    public static final WritableArray ConvertResDashShipmentQuotes(java.util.List&lt;protos.DashboardOuterClass.ResDashShipmentQuote&gt; reply) {\r\n                                                                                                            ^\r\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/ConvertResponseUtil.java:624: error: package protos.DashboardOuterClass does not exist\r\n    public static final WritableMap ConvertResDashIssueReply(protos.DashboardOuterClass.ResDashIssueReply reply) {\r\n                                                                                       ^\r\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/ConvertResponseUtil.java:632: error: package protos.DashboardOuterClass does not exist\r\n    public static final WritableArray ConvertResDashIssueReplies(java.util.List&lt;protos.DashboardOuterClass.ResDashIssueReply&gt; reply) {\r\n                                                                                                          ^\r\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/ConvertResponseUtil.java:641: error: package protos.DashboardOuterClass does not exist\r\n    public static final WritableMap ConvertResDashShipmentIssue(protos.DashboardOuterClass.ResDashShipmentIssue reply) {\r\n                                                                                          ^\r\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/ConvertResponseUtil.java:657: error: package protos.DashboardOuterClass does not exist\r\n    public static final WritableArray ConvertResDashShipmentIssues(java.util.List&lt;protos.DashboardOuterClass.ResDashShipmentIssue&gt; reply) {\r\n                                                                                                            ^\r\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/ConvertResponseUtil.java:667: error: package protos.DashboardOuterClass does not exist\r\n    public static final WritableArray ConvertResDashShipmentStageFiles(java.util.List&lt;protos.DashboardOuterClass.ResDashShipmentStageFile&gt; reply) {\r\n                                                                                                                ^\r\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/ConvertResponseUtil.java:683: error: package protos.DashboardOuterClass does not exist\r\n    public static final WritableMap ConvertResDashShipmentStage(protos.DashboardOuterClass.ResDashShipmentStage reply) {\r\n                                                                                          ^\r\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/ConvertResponseUtil.java:697: error: package protos.DashboardOuterClass does not exist\r\n    public static final WritableArray ConvertResDashShipmentStages(java.util.List&lt;protos.DashboardOuterClass.ResDashShipmentStage&gt; reply) {\r\n                                                                                                            ^\r\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/ConvertResponseUtil.java:707: error: package protos.DashboardOuterClass does not exist\r\n    public static final WritableMap ConvertResDashShipmentPayment(protos.DashboardOuterClass.ResDashShipmentPayment reply) {\r\n                                                                                            ^\r\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/ConvertResponseUtil.java:717: error: package protos.DashboardOuterClass does not exist\r\n    public static final WritableArray ConvertResDashShipmentPayments(java.util.List&lt;protos.DashboardOuterClass.ResDashShipmentPayment&gt; reply) {\r\n                                                                                                              ^\r\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/ConvertResponseUtil.java:727: error: package protos.DashboardOuterClass does not exist\r\n    public static final WritableMap ConvertResDashShipment(protos.DashboardOuterClass.ResDashShipment reply) {\r\n                                                                                     ^\r\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/ConvertResponseUtil.java:795: error: package protos.DashboardOuterClass does not exist\r\n    public static final WritableArray ConvertResDashShipments(java.util.List&lt;protos.DashboardOuterClass.ResDashShipment&gt; reply) {\r\n                                                                                                       ^\r\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/ConvertResponseUtil.java:804: error: package protos.AuthOuterClass does not exist\r\n    public static final WritableArray ConvertResPaymentHistory(protos.AuthOuterClass.ResPaymentHistory reply) {\r\n                                                                                    ^\r\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/ConvertResponseUtil.java:828: error: package protos.DashboardOuterClass does not exist\r\n    public static final WritableArray ConvertResDashDrivers(java.util.List&lt;protos.DashboardOuterClass.ResDashUser&gt; reply) { \r\n                                                                                                     ^\r\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/ConvertResponseUtil.java:837: error: package protos.DashboardOuterClass does not exist\r\n    public static final WritableMap ConvertResDashChangeDriver(protos.DashboardOuterClass.ResDashChangeDriver reply) {\r\n                                                                                         ^\r\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/ConvertResponseUtil.java:844: error: package protos.DashboardOuterClass does not exist\r\n    public static final WritableMap ConvertResDashRequestLoad(protos.DashboardOuterClass.ResDashRequestLoad reply) {\r\n                                                                                        ^\r\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/ConvertResponseUtil.java:882: error: package protos.DashboardOuterClass does not exist\r\n    public static final WritableArray ConvertResDashLoadRequests(java.util.List&lt;protos.DashboardOuterClass.ResDashRequestLoad&gt; reply) {\r\n                                                                                                          ^\r\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/ConvertResponseUtil.java:891: error: package protos.DashboardOuterClass does not exist\r\n    public static final WritableMap ConvertResDashContactMessage(protos.DashboardOuterClass.ResDashContactMessage reply) {\r\n                                                                                           ^\r\n\r\n                                                           ^\r\n  symbol: variable DashboardGrpc\r\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/DashboardService.java:149: error: package DashboardOuterClass does not exist\r\n                DashboardOuterClass.ResDashShipment reply = stub.getLoad(request);\r\n                                   ^\r\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/DashboardService.java:203: error: package DashboardOuterClass.ReqDashShipmentQuote does not exist\r\n                DashboardOuterClass.ReqDashShipmentQuote.Builder preRequest = DashboardOuterClass.ReqDashShipmentQuote.newBuilder()\r\n                                                        ^\r\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/DashboardService.java:203: error: package DashboardOuterClass does not exist\r\n                DashboardOuterClass.ReqDashShipmentQuote.Builder preRequest = DashboardOuterClass.ReqDashShipmentQuote.newBuilder()\r\n                                                                                                 ^\r\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/DashboardService.java:221: error: package DashboardOuterClass does not exist\r\n                DashboardOuterClass.ReqDashShipmentQuote request = preRequest.build();\r\n                                   ^\r\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/DashboardService.java:227: error: package DashboardGrpc does not exist\r\n                DashboardGrpc.DashboardBlockingStub stub = DashboardGrpc.newBlockingStub(getChannel());\r\n                             ^\r\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/DashboardService.java:227: error: cannot find symbol\r\n                DashboardGrpc.DashboardBlockingStub stub = DashboardGrpc.newBlockingStub(getChannel());\r\n                                                           ^\r\n  symbol: variable DashboardGrpc\r\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/DashboardService.java:229: error: package DashboardOuterClass does not exist\r\n                DashboardOuterClass.ResDashShipment reply = stub.bid(request);\r\n                                   ^\r\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/DashboardService.java:249: error: package DashboardOuterClass does not exist\r\n                DashboardOuterClass.ReqDashShipmentStop request = DashboardOuterClass.ReqDashShipmentStop.newBuilder()\r\n                                   ^\r\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/DashboardService.java:249: error: package DashboardOuterClass does not exist\r\n                DashboardOuterClass.ReqDashShipmentStop request = DashboardOuterClass.ReqDashShipmentStop.newBuilder()\r\n                                                                                     ^\r\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/DashboardService.java:261: error: package DashboardGrpc does not exist\r\n                DashboardGrpc.DashboardBlockingStub stub = DashboardGrpc.newBlockingStub(getChannel());\r\n                             ^\r\nNote: Some input files use or override a deprecated API.\r\nNote: Recompile with -Xlint:deprecation for details.\r\n100 errors\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:app:compileDebugJavaWithJavac&#39;.\r\n&gt; Compilation failed; see the compiler error output for details.\r\n\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 31s\r\n\r\nerror Failed to install the app. Make sure you have the Android development environment set up: https://reactnative.dev/docs/environment-setup. Run CLI with --verbose flag for more details.\r\nError: Command failed: ./gradlew app:installDebug -PreactNativeDevServerPort=8081\r\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/DashboardService.java:21: error: package protos does not exist\r\nerror Command failed with exit code 1.\r\ninfo Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.\r\nZobrist@Roberts-MBP gui % \r\n```\r\n\r\nIve been on google for over 16 hours trying to debug this issue. \r\nIve commented out flipper in my podfile\r\nive reinstalled java and checked my path \r\nive traversed so many version combos -- upgrading and downgrading -- hoping to find the compatible zone. \r\n\r\nIm so lost and this is my last attemp. \r\nCan somebody please help me?\r\n\r\n\r\n","title":"React-Native Project won&#39;t build on ios or android","body":"<p>Im a freelance developer and I've recently took a contract to help a RN app launch; however, I can't for the life of me get  either the android or ios emulators running on my machine.</p>\n<p>Here is my react-native version:</p>\n<pre><code>    &quot;react-native&quot;: &quot;0.63.3&quot;\n</code></pre>\n<p>steps to reproduce error:\nyarn start &amp;&amp; yarn ios</p>\n<p>here is the error:</p>\n<pre><code>yarn run v1.22.17\n$ react-native run-ios\nerror React Native CLI uses autolinking for native dependencies, but the following modules are linked manually: \n  - rn-fetch-blob (to unlink run: &quot;react-native unlink rn-fetch-blob&quot;)\nThis is likely happening when upgrading React Native from below 0.60 to 0.60 or above. Going forward, you can unlink this dependency via &quot;react-native unlink &lt;dependency&gt;&quot; and it will be included in your app automatically. If a library isn't compatible with autolinking, disregard this message and notify the library maintainers.\nRead more about autolinking: https://github.com/react-native-community/cli/blob/master/docs/autolinking.md\ninfo Found Xcode workspace &quot;LoadBetter.xcworkspace&quot;\ninfo Building (using &quot;xcodebuild -workspace LoadBetter.xcworkspace -configuration Debug -scheme LoadBetter -destination id=6BB5A9A1-B45E-44F9-BF3D-CC9B962AEE21&quot;)\nsuccess Successfully built the app\n--- xcodebuild: WARNING: Using the first of multiple matching destinations:\n{ platform:iOS Simulator, id:AF1C64B5-C57A-4859-92F6-127B9514F7F2, OS:15.2, name:iPhone 12 Pro }\n{ platform:iOS Simulator, id:45BA0E53-29BB-4282-A275-980FD06BDDD5, OS:15.2, name:iPhone 12 Pro Max }\n{ platform:iOS Simulator, id:A1FCB8D5-6CA1-43BB-9659-5A4C36359C79, OS:15.2, name:iPhone 12 mini }\n{ platform:iOS Simulator, id:219F0A9A-A0AC-459D-871E-CB54BDF9AEFA, OS:15.2, name:iPhone 13 }\n{ platform:iOS Simulator, id:5642197F-3A7B-48D8-9068-4D4442C3FE67, OS:15.2, name:iPhone 13 }\n{ platform:iOS Simulator, id:C6AB27A8-5F6C-451B-BBB1-0E55476CB8A6, OS:15.2, name:iPhone 13 Pro }\n{ platform:iOS Simulator, id:46D25E85-6DEB-4050-AA6F-EBEFD53ADDD7, OS:15.2, name:iPhone 13 Pro Max }\n{ platform:iOS Simulator, id:26370E8C-68A8-4435-ACCC-744A52D40962, OS:15.2, name:iPhone 13 mini }\n{ platform:iOS Simulator, id:80820DD8-3514-4AF9-9998-8CB935C76030, OS:15.2, name:iPhone SE (2nd generation) }\n{ platform:iOS Simulator, id:C4C1EDC1-79D2-4B3A-BE4E-9A40696DD8D2, OS:15.2, name:iPod touch (7th generation) }\n{ platform:iOS, id:dvtdevice-DVTiPhonePlaceholder-iphoneos:placeholder, name:Any iOS Device }\n{ platform:iOS Simulator, id:72F120CA-E060-4C82-BD76-6B49A59E9F27, OS:15.2, name:iPad (9th generation) }\n{ platform:iOS Simulator, id:59F1F637-2941-4EFC-BF21-7FCBA9730CD9, OS:15.2, name:iPad Air (4th generation) }\n{ platform:iOS Simulator, id:88E51E74-C858-4D7F-AAB7-C56EC76C6E0A, OS:15.2, name:iPad Pro (9.7-inch) }\n{ platform:iOS Simulator, id:5A0768FE-6C07-416E-A672-F712ECECEAD1, OS:15.2, name:iPad Pro (11-inch) (3rd generation) }\n{ platform:iOS Simulator, id:A6169A15-781B-4323-896B-5FFDF5268DCC, OS:15.2, name:iPad Pro (12.9-inch) (5th generation) }\n{ platform:iOS Simulator, id:BBBE77A2-21CC-43A3-B7CB-35E60C5CF38A, OS:15.2, name:iPad mini (6th generation) }\ninfo Installing &quot;/Users/Zobrist/Library/Developer/Xcode/DerivedData/LoadBetter-cayzqpevfoqiseaavtgzlqckqvif/Build/Products/Debug-iphonesimulator/LoadBetter.app&quot;\nAn error was encountered processing the command (domain=NSPOSIXErrorDomain, code=22):\nFailed to install the requested application\nThe bundle identifier of the application could not be determined.\nEnsure that the application's Info.plist contains a value for CFBundleIdentifier.\nPrint: Entry, &quot;:CFBundleIdentifier&quot;, Does Not Exist\nerror Command failed: /usr/libexec/PlistBuddy -c Print:CFBundleIdentifier /Users/Zobrist/Library/Developer/Xcode/DerivedData/LoadBetter-cayzqpevfoqiseaavtgzlqckqvif/Build/Products/Debug-iphonesimulator/LoadBetter.app/Info.plist\nPrint: Entry, &quot;:CFBundleIdentifier&quot;, Does Not Exist\n. Run CLI with --verbose flag for more details.\nError: Command failed: /usr/libexec/PlistBuddy -c Print:CFBundleIdentifier /Users/Zobrist/Library/Developer/Xcode/DerivedData/LoadBetter-cayzqpevfoqiseaavtgzlqckqvif/Build/Products/Debug-iphonesimulator/LoadBetter.app/Info.plist\nPrint: Entry, &quot;:CFBundleIdentifier&quot;, Does Not Exist\n\n    at checkExecSyncError (node:child_process:826:11)\n    at Object.execFileSync (node:child_process:864:15)\n    at runOnSimulator (/Users/Zobrist/Desktop/Code/work/loadBetter/gui/node_modules/@react-native-community/cli-platform-ios/build/commands/runIOS/index.js:201:45)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async Command.handleAction (/Users/Zobrist/Desktop/Code/work/loadBetter/gui/node_modules/@react-native-community/cli/build/index.js:186:9)\nerror Command failed with exit code 1.\ninfo Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.\nZobrist@Roberts-MBP gui % \n</code></pre>\n<p>command:\nyarn android\noutput:</p>\n<pre><code>yarn run v1.22.17\nerror Command &quot;sndroid&quot; not found. Did you mean &quot;android&quot;?\ninfo Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.\nZobrist@Roberts-MBP gui % yarn android\nyarn run v1.22.17\n$ react-native run-android\ninfo Running jetifier to migrate libraries to AndroidX. You can disable it using &quot;--no-jetifier&quot; flag.\nJetifier found 1674 file(s) to forward-jetify. Using 4 workers...\ninfo JS server already running.\ninfo Launching emulator...\nerror Failed to launch emulator. Reason: Could not start emulator within 30 seconds..\nwarn Please launch an emulator manually or connect a device. Otherwise app may fail to launch.\ninfo Installing the app...\n\n&gt; Task :app:compileDebugJavaWithJavac\n\n&gt; Task :app:compileDebugJavaWithJavac FAILED\n\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 7.0.\nUse '--warning-mode all' to show the individual deprecation warnings.\nSee https://docs.gradle.org/6.2/userguide/command_line_interface.html#sec:command_line_warnings\n131 actionable tasks: 2 executed, 129 up-to-date\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/DashboardService.java:21: error: package protos does not exist\nimport protos.DashboardGrpc;\n             ^\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/DashboardService.java:22: error: package protos does not exist\nimport protos.DashboardOuterClass;\n             ^\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/AuthService.java:34: error: package protos does not exist\nimport protos.AuthGrpc;\n             ^\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/AuthService.java:35: error: package protos does not exist\nimport protos.AuthOuterClass;\n             ^\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/ConvertResponseUtil.java:7: error: package protos does not exist\nimport protos.AuthOuterClass;\n             ^\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/ConvertResponseUtil.java:8: error: package protos does not exist\nimport protos.DashboardOuterClass;\n             ^\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/ConvertResponseUtil.java:13: error: package protos.AuthOuterClass does not exist\n    public static final WritableArray ConvertResSkillsWrapper(java.util.List&lt;protos.AuthOuterClass.ResSkillWrapper&gt; reply) {\n                                                                                                  ^\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/ConvertResponseUtil.java:34: error: package AuthOuterClass does not exist\n    public static final WritableArray ConvertResTrailerTypesWrapper(List&lt;AuthOuterClass.ResTrailerTypeWrapper&gt; reply) {\n                                                                                            ^\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/ConvertResponseUtil.java:275: error: package protos.AuthOuterClass does not exist\n    public static final WritableArray ConvertResRoles(java.util.List&lt;protos.AuthOuterClass.ResRole&gt; reply) {\n                                                                                          ^\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/ConvertResponseUtil.java:284: error: package protos.AuthOuterClass does not exist\n    public static final WritableArray ConvertResUsers(java.util.List&lt;protos.AuthOuterClass.ResUser&gt; reply) {\n                                                                                          ^\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/ConvertResponseUtil.java:293: error: package protos.DashboardOuterClass does not exist\n    public static final WritableArray ConvertResDashOrganisationShipmentBrackets(java.util.List&lt;protos.DashboardOuterClass.ResDashOrganisationShipmentBracket&gt; reply) {\n                                                                                                                          ^\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/ConvertResponseUtil.java:311: error: package protos.DashboardOuterClass does not exist\n    public static final WritableMap ConvertResDashShipmentPercentage(protos.DashboardOuterClass.ResDashOrganisationShipmentPercentage reply) {\n                                                                                               ^\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/ConvertResponseUtil.java:320: error: package protos.DashboardOuterClass does not exist\n    public static final WritableMap ConvertResDashRole(protos.DashboardOuterClass.ResDashRole reply) {\n                                                                                 ^\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/ConvertResponseUtil.java:332: error: package protos.DashboardOuterClass does not exist\n    public static final WritableMap ConvertResDashUser(protos.DashboardOuterClass.ResDashUser reply) {\n                                                                                 ^\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/ConvertResponseUtil.java:347: error: package protos.DashboardOuterClass does not exist\n    public static final WritableMap ConvertResDashShipmentDriver(protos.DashboardOuterClass.ResDashShipmentDriver reply) {\n                                                                                           ^\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/ConvertResponseUtil.java:354: error: package protos.DashboardOuterClass does not exist\n    public static final WritableMap ConvertResDashCountry(protos.DashboardOuterClass.ResDashCountry reply) {\n                                                                                    ^\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/ConvertResponseUtil.java:383: error: package DashboardOuterClass does not exist\n    public static final WritableArray ConvertResDashTrailerTypesWrapper(List&lt;DashboardOuterClass.ResDashTrailerTypeWrapper&gt; reply) {\n                                                                                                ^\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/ConvertResponseUtil.java:404: error: package protos.DashboardOuterClass does not exist\n    public static final WritableArray ConvertResDashSkillsWrapper(java.util.List&lt;protos.DashboardOuterClass.ResDashSkillWrapper&gt; reply) {\n                                                                                                           ^\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/ConvertResponseUtil.java:425: error: package protos.DashboardOuterClass does not exist\n    public static final WritableMap ConvertResDashOrganisation(protos.DashboardOuterClass.ResDashOrganisation reply) {\n                                                                                         ^\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/ConvertResponseUtil.java:449: error: package protos.DashboardOuterClass does not exist\n    public static final WritableArray ConvertResDashOrganisations(java.util.List&lt;protos.DashboardOuterClass.ResDashOrganisation&gt; reply) {\n                                                                                                           ^\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/ConvertResponseUtil.java:459: error: package protos.DashboardOuterClass does not exist\n    public static final WritableArray ConvertResDashTrailerSizesWrapper(java.util.List&lt;protos.DashboardOuterClass.ResDashTrailerSizeWrapper&gt; reply) {\n                                                                                                                 ^\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/ConvertResponseUtil.java:479: error: package protos.DashboardOuterClass does not exist\n    public static final WritableArray ConvertResDashDates(java.util.List&lt;protos.DashboardOuterClass.ResDashDate&gt; reply) {\n                                                                                                   ^\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/ConvertResponseUtil.java:492: error: package protos.DashboardOuterClass does not exist\n    public static final WritableArray ConvertResDashReviews(java.util.List&lt;protos.DashboardOuterClass.ResDashReview&gt; reply) {\n                                                                                                     ^\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/ConvertResponseUtil.java:509: error: package protos.DashboardOuterClass does not exist\n    public static final WritableMap ConvertResDashFacility(protos.DashboardOuterClass.ResDashFacility reply) {\n                                                                                     ^\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/ConvertResponseUtil.java:529: error: package protos.DashboardOuterClass does not exist\n    public static final WritableMap ConvertResDashShipmentItemDetails(protos.DashboardOuterClass.ResDashShipmentItemDetails reply) {\n                                                                                                ^\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/ConvertResponseUtil.java:539: error: package protos.DashboardOuterClass does not exist\n    public static final WritableArray ConvertResDashShipmentItem(java.util.List&lt;protos.DashboardOuterClass.ResDashShipmentItem&gt; reply) {\n                                                                                                          ^\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/ConvertResponseUtil.java:565: error: package protos.DashboardOuterClass does not exist\n    public static final WritableMap ConvertResDashShipmentStop(protos.DashboardOuterClass.ResDashShipmentStop reply) {\n                                                                                         ^\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/ConvertResponseUtil.java:584: error: package protos.DashboardOuterClass does not exist\n    public static final WritableArray ConvertResDashShipmentStops(java.util.List&lt;protos.DashboardOuterClass.ResDashShipmentStop&gt; reply) {\n                                                                                                           ^\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/ConvertResponseUtil.java:594: error: package protos.DashboardOuterClass does not exist\n    public static final WritableMap ConvertResDashShipmentQuote(protos.DashboardOuterClass.ResDashShipmentQuote reply) {\n                                                                                          ^\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/ConvertResponseUtil.java:614: error: package protos.DashboardOuterClass does not exist\n    public static final WritableArray ConvertResDashShipmentQuotes(java.util.List&lt;protos.DashboardOuterClass.ResDashShipmentQuote&gt; reply) {\n                                                                                                            ^\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/ConvertResponseUtil.java:624: error: package protos.DashboardOuterClass does not exist\n    public static final WritableMap ConvertResDashIssueReply(protos.DashboardOuterClass.ResDashIssueReply reply) {\n                                                                                       ^\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/ConvertResponseUtil.java:632: error: package protos.DashboardOuterClass does not exist\n    public static final WritableArray ConvertResDashIssueReplies(java.util.List&lt;protos.DashboardOuterClass.ResDashIssueReply&gt; reply) {\n                                                                                                          ^\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/ConvertResponseUtil.java:641: error: package protos.DashboardOuterClass does not exist\n    public static final WritableMap ConvertResDashShipmentIssue(protos.DashboardOuterClass.ResDashShipmentIssue reply) {\n                                                                                          ^\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/ConvertResponseUtil.java:657: error: package protos.DashboardOuterClass does not exist\n    public static final WritableArray ConvertResDashShipmentIssues(java.util.List&lt;protos.DashboardOuterClass.ResDashShipmentIssue&gt; reply) {\n                                                                                                            ^\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/ConvertResponseUtil.java:667: error: package protos.DashboardOuterClass does not exist\n    public static final WritableArray ConvertResDashShipmentStageFiles(java.util.List&lt;protos.DashboardOuterClass.ResDashShipmentStageFile&gt; reply) {\n                                                                                                                ^\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/ConvertResponseUtil.java:683: error: package protos.DashboardOuterClass does not exist\n    public static final WritableMap ConvertResDashShipmentStage(protos.DashboardOuterClass.ResDashShipmentStage reply) {\n                                                                                          ^\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/ConvertResponseUtil.java:697: error: package protos.DashboardOuterClass does not exist\n    public static final WritableArray ConvertResDashShipmentStages(java.util.List&lt;protos.DashboardOuterClass.ResDashShipmentStage&gt; reply) {\n                                                                                                            ^\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/ConvertResponseUtil.java:707: error: package protos.DashboardOuterClass does not exist\n    public static final WritableMap ConvertResDashShipmentPayment(protos.DashboardOuterClass.ResDashShipmentPayment reply) {\n                                                                                            ^\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/ConvertResponseUtil.java:717: error: package protos.DashboardOuterClass does not exist\n    public static final WritableArray ConvertResDashShipmentPayments(java.util.List&lt;protos.DashboardOuterClass.ResDashShipmentPayment&gt; reply) {\n                                                                                                              ^\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/ConvertResponseUtil.java:727: error: package protos.DashboardOuterClass does not exist\n    public static final WritableMap ConvertResDashShipment(protos.DashboardOuterClass.ResDashShipment reply) {\n                                                                                     ^\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/ConvertResponseUtil.java:795: error: package protos.DashboardOuterClass does not exist\n    public static final WritableArray ConvertResDashShipments(java.util.List&lt;protos.DashboardOuterClass.ResDashShipment&gt; reply) {\n                                                                                                       ^\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/ConvertResponseUtil.java:804: error: package protos.AuthOuterClass does not exist\n    public static final WritableArray ConvertResPaymentHistory(protos.AuthOuterClass.ResPaymentHistory reply) {\n                                                                                    ^\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/ConvertResponseUtil.java:828: error: package protos.DashboardOuterClass does not exist\n    public static final WritableArray ConvertResDashDrivers(java.util.List&lt;protos.DashboardOuterClass.ResDashUser&gt; reply) { \n                                                                                                     ^\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/ConvertResponseUtil.java:837: error: package protos.DashboardOuterClass does not exist\n    public static final WritableMap ConvertResDashChangeDriver(protos.DashboardOuterClass.ResDashChangeDriver reply) {\n                                                                                         ^\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/ConvertResponseUtil.java:844: error: package protos.DashboardOuterClass does not exist\n    public static final WritableMap ConvertResDashRequestLoad(protos.DashboardOuterClass.ResDashRequestLoad reply) {\n                                                                                        ^\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/ConvertResponseUtil.java:882: error: package protos.DashboardOuterClass does not exist\n    public static final WritableArray ConvertResDashLoadRequests(java.util.List&lt;protos.DashboardOuterClass.ResDashRequestLoad&gt; reply) {\n                                                                                                          ^\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/ConvertResponseUtil.java:891: error: package protos.DashboardOuterClass does not exist\n    public static final WritableMap ConvertResDashContactMessage(protos.DashboardOuterClass.ResDashContactMessage reply) {\n                                                                                           ^\n\n                                                           ^\n  symbol: variable DashboardGrpc\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/DashboardService.java:149: error: package DashboardOuterClass does not exist\n                DashboardOuterClass.ResDashShipment reply = stub.getLoad(request);\n                                   ^\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/DashboardService.java:203: error: package DashboardOuterClass.ReqDashShipmentQuote does not exist\n                DashboardOuterClass.ReqDashShipmentQuote.Builder preRequest = DashboardOuterClass.ReqDashShipmentQuote.newBuilder()\n                                                        ^\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/DashboardService.java:203: error: package DashboardOuterClass does not exist\n                DashboardOuterClass.ReqDashShipmentQuote.Builder preRequest = DashboardOuterClass.ReqDashShipmentQuote.newBuilder()\n                                                                                                 ^\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/DashboardService.java:221: error: package DashboardOuterClass does not exist\n                DashboardOuterClass.ReqDashShipmentQuote request = preRequest.build();\n                                   ^\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/DashboardService.java:227: error: package DashboardGrpc does not exist\n                DashboardGrpc.DashboardBlockingStub stub = DashboardGrpc.newBlockingStub(getChannel());\n                             ^\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/DashboardService.java:227: error: cannot find symbol\n                DashboardGrpc.DashboardBlockingStub stub = DashboardGrpc.newBlockingStub(getChannel());\n                                                           ^\n  symbol: variable DashboardGrpc\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/DashboardService.java:229: error: package DashboardOuterClass does not exist\n                DashboardOuterClass.ResDashShipment reply = stub.bid(request);\n                                   ^\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/DashboardService.java:249: error: package DashboardOuterClass does not exist\n                DashboardOuterClass.ReqDashShipmentStop request = DashboardOuterClass.ReqDashShipmentStop.newBuilder()\n                                   ^\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/DashboardService.java:249: error: package DashboardOuterClass does not exist\n                DashboardOuterClass.ReqDashShipmentStop request = DashboardOuterClass.ReqDashShipmentStop.newBuilder()\n                                                                                     ^\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/DashboardService.java:261: error: package DashboardGrpc does not exist\n                DashboardGrpc.DashboardBlockingStub stub = DashboardGrpc.newBlockingStub(getChannel());\n                             ^\nNote: Some input files use or override a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\n100 errors\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':app:compileDebugJavaWithJavac'.\n&gt; Compilation failed; see the compiler error output for details.\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 31s\n\nerror Failed to install the app. Make sure you have the Android development environment set up: https://reactnative.dev/docs/environment-setup. Run CLI with --verbose flag for more details.\nError: Command failed: ./gradlew app:installDebug -PreactNativeDevServerPort=8081\n/Users/Zobrist/Desktop/Code/work/loadBetter/gui/android/app/src/main/java/com/loadbetter/DashboardService.java:21: error: package protos does not exist\nerror Command failed with exit code 1.\ninfo Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.\nZobrist@Roberts-MBP gui % \n</code></pre>\n<p>Ive been on google for over 16 hours trying to debug this issue.\nIve commented out flipper in my podfile\nive reinstalled java and checked my path\nive traversed so many version combos -- upgrading and downgrading -- hoping to find the compatible zone.</p>\n<p>Im so lost and this is my last attemp.\nCan somebody please help me?</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":3340852,"reputation":1493,"user_id":2807177,"display_name":"gmanjon"},"score":0,"creation_date":1643647166,"post_id":70929468,"comment_id":125389917,"body_markdown":"Please, provide the code inside the question, not as an attached image. That&#39;s a bad practice in SO.","body":"Please, provide the code inside the question, not as an attached image. That&#39;s a bad practice in SO."}],"answers":[{"tags":[],"owner":{"account_id":23840651,"reputation":84,"user_id":17845736,"display_name":"Piotr73"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643647266,"creation_date":1643647266,"answer_id":70929592,"question_id":70929468,"body_markdown":"You have a 10 element array of two element arrays. \r\n\r\nYour outer loop goes from 0 to 1, and your inner loop goes from 0 to 9.\r\nYour inner loop is iterating over 2-element arrays and when you reach 2 it get&#39;s out of bounds exception trying to access 3rd element of 2 element array.\r\n\r\nYou need to switch your iterators around so that you first iterate 0-9 and inner goes 0-1.","title":"Why am I getting a exception error when I print my results out?","body":"<p>You have a 10 element array of two element arrays.</p>\n<p>Your outer loop goes from 0 to 1, and your inner loop goes from 0 to 9.\nYour inner loop is iterating over 2-element arrays and when you reach 2 it get's out of bounds exception trying to access 3rd element of 2 element array.</p>\n<p>You need to switch your iterators around so that you first iterate 0-9 and inner goes 0-1.</p>\n"},{"tags":[],"owner":{"account_id":3340852,"reputation":1493,"user_id":2807177,"display_name":"gmanjon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643647336,"creation_date":1643647336,"answer_id":70929609,"question_id":70929468,"body_markdown":"Because you are doing it the other way round.\r\n\r\n```java\r\nint[][] myArray = {{0,0}, {0,0}, {0,0}, {0,0}};\r\n```\r\n\r\nresults in an array like this `int[4, 2]`, and you are iterating like if it were `int[2, 4]`. Swap the iteration values.","title":"Why am I getting a exception error when I print my results out?","body":"<p>Because you are doing it the other way round.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int[][] myArray = {{0,0}, {0,0}, {0,0}, {0,0}};\n</code></pre>\n<p>results in an array like this <code>int[4, 2]</code>, and you are iterating like if it were <code>int[2, 4]</code>. Swap the iteration values.</p>\n"}],"owner":{"account_id":24112404,"reputation":11,"user_id":18082816,"display_name":"Jose Navar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1643648110,"creation_date":1643646740,"question_id":70929468,"body_markdown":"I am essentially trying to create a 2 x 10 2d array that replaces the first row with 0 but every time I run it only gives me the first two values. I&#39;m fairly certain it&#39;s correct but I want the whole array to also display the values I put in. I&#39;m still relatively new to Java and would like to know how I could fix this. Thanks!\r\n**CODE**\r\n\r\npublic class QuestionTwo {\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tint[][] table = { {20, 16}, {1, 23}, {9, 46}, {73, 8}, {95, 18}, {67, 0}, {13, 24}, {36, 69}, {21, 55}, {48, 56} \r\n\t\t};\r\n\t\t\r\n\t\r\n\t\t\r\n\t\tfor (int c =0; c &lt; 2; c ++) {\r\n\r\n\t\t         for (int r=0; r &lt; 10; r++) {\r\n\r\n\t\t           table[r][c] = 0;\r\n\t\t\t\t\r\n\t\tSystem.out.println(table[c][r]);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t}\r\n\t}\r\n","title":"Why am I getting a exception error when I print my results out?","body":"<p>I am essentially trying to create a 2 x 10 2d array that replaces the first row with 0 but every time I run it only gives me the first two values. I'm fairly certain it's correct but I want the whole array to also display the values I put in. I'm still relatively new to Java and would like to know how I could fix this. Thanks!\n<strong>CODE</strong></p>\n<p>public class QuestionTwo {\npublic static void main(String[] args) {</p>\n<pre><code>    int[][] table = { {20, 16}, {1, 23}, {9, 46}, {73, 8}, {95, 18}, {67, 0}, {13, 24}, {36, 69}, {21, 55}, {48, 56} \n    };\n    \n\n    \n    for (int c =0; c &lt; 2; c ++) {\n\n             for (int r=0; r &lt; 10; r++) {\n\n               table[r][c] = 0;\n            \n    System.out.println(table[c][r]);\n        }\n    }\n    \n    }\n}\n</code></pre>\n"},{"tags":["java","workflow","code-generation"],"comments":[{"owner":{"account_id":46972,"reputation":356179,"user_id":139010,"accept_rate":81,"display_name":"Matt Ball"},"score":0,"creation_date":1297282993,"post_id":4949996,"comment_id":5521355,"body_markdown":"What input format would the flowchart be?","body":"What input format would the flowchart be?"},{"owner":{"account_id":12052,"reputation":31734,"user_id":23562,"accept_rate":84,"display_name":"Ronald Wildenberg"},"score":0,"creation_date":1297283192,"post_id":4949996,"comment_id":5521386,"body_markdown":"I do not understand. One of the conditions is `A==3 || (A==1 &amp;&amp; B==2)`. When can A become 3?","body":"I do not understand. One of the conditions is <code>A==3 || (A==1 &amp;&amp; B==2)</code>. When can A become 3?"},{"owner":{"account_id":229760,"reputation":3177,"user_id":492936,"accept_rate":88,"display_name":"kms333"},"score":0,"creation_date":1297283719,"post_id":4949996,"comment_id":5521510,"body_markdown":"sorry, updated now. I was just wondering how I could avoid all these if statements (whose number will grow a lot if I add conditions (C, D ...)) and have a general way to translate a flowchart to code","body":"sorry, updated now. I was just wondering how I could avoid all these if statements (whose number will grow a lot if I add conditions (C, D ...)) and have a general way to translate a flowchart to code"},{"owner":{"account_id":157715,"reputation":47893,"user_id":375874,"accept_rate":88,"display_name":"Falmarri"},"score":0,"creation_date":1297285318,"post_id":4949996,"comment_id":5521910,"body_markdown":"Take a look at http://en.wikipedia.org/wiki/Finite-state_machine. I&#39;m sure there are some good example implementations of FSMs in Java.","body":"Take a look at <a href=\"http://en.wikipedia.org/wiki/Finite-state_machine\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Finite-state_machine</a>. I&#39;m sure there are some good example implementations of FSMs in Java."}],"answers":[{"tags":[],"owner":{"account_id":704930,"reputation":16,"user_id":605342,"display_name":"Jhon L."},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1297284313,"creation_date":1297284313,"answer_id":4950247,"question_id":4949996,"body_markdown":"You could encapsulate ActionB and ActionC, while ActionC is being called after ActionB in ActionBC and make a new method for each cell in your flow chart. In general you should get something like:\r\n&lt;code&gt;\r\nvoid B1(){ \r\n  if(B==1)\r\n     A1();\r\n   if (B==2) \r\n     actionC();\r\n  ...\r\n}\r\n\r\nvoid A1(){\r\n   if(A1==2)\r\n       actionBC();\r\n}\r\n\r\nprivate void actionBC(){...}\r\n\r\n&lt;/code&gt;\r\n\r\nAnd so on... In that way, expanding your flowchart won&#39;t explode you code. ","title":"generate java code from a flowchart","body":"<p>You could encapsulate ActionB and ActionC, while ActionC is being called after ActionB in ActionBC and make a new method for each cell in your flow chart. In general you should get something like:\n<code>\nvoid B1(){ \n  if(B==1)\n     A1();\n   if (B==2) \n     actionC();\n  ...\n}</p>\n\n<p>void A1(){\n   if(A1==2)\n       actionBC();\n}</p>\n\n<p>private void actionBC(){...}</p>\n\n<p></code></p>\n\n<p>And so on... In that way, expanding your flowchart won't explode you code. </p>\n"},{"tags":[],"owner":{"account_id":50952,"reputation":2463,"user_id":152109,"accept_rate":77,"display_name":"Per Alexandersson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1297284527,"creation_date":1297284527,"answer_id":4950274,"question_id":4949996,"body_markdown":"This looks like a graph structure, each vertex is a condition or an action.\r\nFinding the action will just be to follow the path given by the values of the conditions.\r\n","title":"generate java code from a flowchart","body":"<p>This looks like a graph structure, each vertex is a condition or an action.\nFinding the action will just be to follow the path given by the values of the conditions.</p>\n"},{"tags":[],"owner":{"account_id":5114826,"reputation":75,"user_id":4100333,"accept_rate":75,"display_name":"David Bremmen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643647859,"creation_date":1643647859,"answer_id":70929727,"question_id":4949996,"body_markdown":"I&#39;m using www.browxy.com to generate flowchart from code and vice-versa. There is a new feature to draw flawcharts that is activated with the button: &quot;switch workspace&quot; [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nUH37.png","title":"generate java code from a flowchart","body":"<p>I'm using <a href=\"http://www.browxy.com\" rel=\"nofollow noreferrer\">www.browxy.com</a> to generate flowchart from code and vice-versa. There is a new feature to draw flawcharts that is activated with the button: &quot;switch workspace&quot; <a href=\"https://i.stack.imgur.com/nUH37.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nUH37.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":229760,"reputation":3177,"user_id":492936,"accept_rate":88,"display_name":"kms333"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1250,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":4950247,"answer_count":3,"score":0,"last_activity_date":1643647859,"creation_date":1297282863,"question_id":4949996,"body_markdown":"The following flowchart:\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/JAKV1.jpg\r\n\r\nmay be described by the following java code:\r\n\r\n    if (A == 1 &amp;&amp; B ==1){\r\n       actionA();\r\n     }\r\n\r\n     if (B == 3 || (B == 1 &amp;&amp; A == 2)){\r\n        actionB();\r\n        actionC();\r\n    }\r\n     if (B == 2){\r\n        actionC();\r\n    }\r\n\r\n\r\nIs there a better way to translate a flowchart in java code? I am looking for some sort of general pattern to do this. My question arises from the fact that adding a single condition to the flowchart results in very significant changes to the code. ","title":"generate java code from a flowchart","body":"<p>The following flowchart:\n<img src=\"https://i.stack.imgur.com/JAKV1.jpg\" alt=\"enter image description here\"></p>\n\n<p>may be described by the following java code:</p>\n\n<pre><code>if (A == 1 &amp;&amp; B ==1){\n   actionA();\n }\n\n if (B == 3 || (B == 1 &amp;&amp; A == 2)){\n    actionB();\n    actionC();\n}\n if (B == 2){\n    actionC();\n}\n</code></pre>\n\n<p>Is there a better way to translate a flowchart in java code? I am looking for some sort of general pattern to do this. My question arises from the fact that adding a single condition to the flowchart results in very significant changes to the code. </p>\n"},{"tags":["java","android","android-studio","export-to-csv","android-tablelayout"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1643563049,"post_id":70916887,"comment_id":125368127,"body_markdown":"Wel what is the problem exactly?","body":"Wel what is the problem exactly?"},{"owner":{"account_id":2755641,"reputation":8688,"user_id":2373819,"display_name":"Andrew"},"score":0,"creation_date":1643564785,"post_id":70916887,"comment_id":125368542,"body_markdown":"I use https://commons.apache.org/proper/commons-csv/apidocs/org/apache/commons/csv/CSVPrinter.html, various ways to connect it up to the results of an sql query","body":"I use <a href=\"https://commons.apache.org/proper/commons-csv/apidocs/org/apache/commons/csv/CSVPrinter.html\" rel=\"nofollow noreferrer\">commons.apache.org/proper/commons-csv/apidocs/org/apache/&hellip;</a>, various ways to connect it up to the results of an sql query"},{"owner":{"account_id":24101781,"reputation":9,"user_id":18073522,"display_name":"Frissco Creative Labs"},"score":0,"creation_date":1643602573,"post_id":70916887,"comment_id":125375419,"body_markdown":"I cannot generate CSV file from the TableLayout which is being displayed in my app.","body":"I cannot generate CSV file from the TableLayout which is being displayed in my app."}],"answers":[{"tags":[],"owner":{"account_id":6440625,"reputation":388,"user_id":7772174,"display_name":"soheil ghanbari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643647770,"creation_date":1643571032,"answer_id":70918171,"question_id":70916887,"body_markdown":"Here is a sample complete project for reading data from Rss-provider insert to database and show on listview then in next activity create a csv file.\r\n\r\nIn the first activity wait to load data form Rss-provider after showing in list view data stored in DB, then click button to go to next activity for creating Csv list\r\n\r\nFor creating csv all columns should be separated with comma (,).\r\n\r\n**NOTICE**: check in Android below 10\r\n\r\n**ManifestFile:** :\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        package=&quot;com.example.hafez&quot;&gt;\r\n    \r\n        &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n        &lt;uses-permission\r\n            android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot;\r\n            android:minSdkVersion=&quot;30&quot; /&gt;\r\n    \r\n        &lt;application\r\n            android:allowBackup=&quot;true&quot;\r\n            android:icon=&quot;@mipmap/ic_launcher&quot;\r\n            android:label=&quot;RssReader&quot;\r\n            android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n            android:supportsRtl=&quot;true&quot;\r\n            android:theme=&quot;@style/Theme.Hafez&quot;&gt;\r\n            &lt;activity\r\n                android:name=&quot;.CsvMaker&quot;\r\n                android:exported=&quot;false&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;.RssReader&quot;\r\n                android:exported=&quot;true&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n    \r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n        &lt;/application&gt;\r\n    \r\n    &lt;/manifest&gt;\r\n\r\n\r\n**rss_reader.xml:**\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;.MainActivity&quot;&gt;\r\n    \r\n    \r\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;&gt;\r\n    \r\n            &lt;ListView\r\n                android:id=&quot;@+id/lvRss&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:layout_marginBottom=&quot;200dp&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n    \r\n            &lt;Button\r\n                android:id=&quot;@+id/launch_csv_activity&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:text=&quot;Got to csv maker&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@+id/lvRss&quot; /&gt;\r\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n    \r\n    &lt;/LinearLayout&gt;\r\n\r\n**activity_csv_maker.xml :**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;.CsvMaker&quot;&gt;\r\n    \r\n        &lt;Button\r\n            android:id=&quot;@+id/csv_maker&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;Make Csv  file&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n    \r\n        &lt;TextView\r\n            android:id=&quot;@+id/csv_address&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginTop=&quot;168dp&quot;\r\n            android:text=&quot;Csv File address comes here after creation&quot;\r\n            android:textColor=&quot;#000000&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.498&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n\r\n**list_item.xml:**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;&gt;\r\n    \r\n        &lt;TextView\r\n            android:id=&quot;@+id/item_text&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginTop=&quot;20dp&quot;\r\n            android:layout_marginEnd=&quot;10dp&quot;\r\n            android:layout_marginBottom=&quot;20dp&quot;\r\n            android:text=&quot;TextView&quot;\r\n            android:textColor=&quot;#000000&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.046&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:layout_constraintVertical_bias=&quot;1.0&quot; /&gt;\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n**RssReader.java** :\r\n\r\n    import android.app.ProgressDialog;\r\n    import android.content.Context;\r\n    import android.content.Intent;\r\n    import android.net.ConnectivityManager;\r\n    import android.os.AsyncTask;\r\n    import android.os.Bundle;\r\n    import android.util.Log;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.widget.ListView;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    import org.w3c.dom.Document;\r\n    import org.w3c.dom.Element;\r\n    import org.w3c.dom.Node;\r\n    import org.w3c.dom.NodeList;\r\n    import org.xml.sax.SAXException;\r\n    \r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.net.MalformedURLException;\r\n    import java.net.URL;\r\n    import java.sql.SQLException;\r\n    import java.util.ArrayList;\r\n    \r\n    import javax.xml.parsers.DocumentBuilder;\r\n    import javax.xml.parsers.DocumentBuilderFactory;\r\n    import javax.xml.parsers.ParserConfigurationException;\r\n    \r\n    public class RssReader extends AppCompatActivity {\r\n    \r\n        ListView lvRss;\r\n        ArrayList&lt;String&gt; titles;\r\n        ArrayList&lt;String&gt; links;\r\n        ArrayList&lt;NewsInformation&gt; news =new ArrayList&lt;&gt;();\r\n        private DatabaseHandler db;\r\n        private Button csv_launcher;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.rss_reader);\r\n            lvRss = (ListView) findViewById(R.id.lvRss);\r\n    \r\n            csv_launcher = (Button)findViewById(R.id.launch_csv_activity);\r\n            csv_launcher.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    Intent intent  = new Intent(getBaseContext(),CsvMaker.class);\r\n                    startActivity(intent);\r\n                }\r\n            });\r\n    \r\n            titles = new ArrayList&lt;String&gt;();\r\n            links = new ArrayList&lt;String&gt;();\r\n            db = new DatabaseHandler(this);\r\n    \r\n            if(isNetworkAvailable(this)) {\r\n                new ProcessInBackground().execute();\r\n            } else {\r\n                try {\r\n                    db.open();\r\n                    ArrayList&lt;NewsInformation&gt; news = db.getAllNews();\r\n                    CustomAdapter adapter = new CustomAdapter(this,news);\r\n                    lvRss.setAdapter(adapter);\r\n                    db.close();\r\n                } catch (SQLException throwables) {\r\n                    throwables.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n    \r\n        public InputStream getInputStream(URL url) {\r\n            try {\r\n                return url.openConnection().getInputStream();\r\n            } catch (IOException e) {\r\n                return null;\r\n            }\r\n        }\r\n    \r\n        public class ProcessInBackground extends AsyncTask&lt;Integer, Void, Exception&gt; {\r\n            ProgressDialog progressDialog = new ProgressDialog(RssReader.this);\r\n    \r\n            Exception exception = null;\r\n    \r\n            @Override\r\n            protected void onPreExecute() {\r\n                progressDialog.setMessage(&quot;Fetching Latest News!&quot;);\r\n                progressDialog.show();\r\n            }\r\n    \r\n            @Override\r\n            protected Exception doInBackground(Integer... integers) {\r\n                try {\r\n                    // rss feed site here\r\n                    URL url = new URL(&quot;https://moxie.foxnews.com/feedburner/world.xml&quot;);\r\n    \r\n                    DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\r\n                    DocumentBuilder db = dbf.newDocumentBuilder();\r\n    \r\n                    Document doc = db.parse(getInputStream(url));\r\n    \r\n                    doc.getDocumentElement().normalize();\r\n                    NodeList nodeList = doc.getElementsByTagName(&quot;item&quot;);\r\n                    //// fetch every node item in RSS and create news_item list\r\n                    for (int i = 0; i &lt; nodeList.getLength(); i++) {\r\n                        NewsInformation news_item = new NewsInformation();\r\n                        Node node = nodeList.item(i);\r\n                        Element parentItem = (Element) node;\r\n    \r\n                        NodeList links = parentItem.getElementsByTagName(&quot;link&quot;);\r\n                        Element element_link = (Element) links.item(0);\r\n                        NodeList element_link_childNodes = element_link.getChildNodes();\r\n                        news_item.link = element_link_childNodes.item(0).getNodeValue();\r\n    \r\n                        NodeList titles = parentItem.getElementsByTagName(&quot;title&quot;);\r\n                        Element element_title = (Element) titles.item(0);\r\n                        NodeList element_title_childNodes = element_title.getChildNodes();\r\n                        news_item.title = element_title_childNodes.item(0).getNodeValue();\r\n    \r\n    \r\n                        NodeList pubDates = parentItem.getElementsByTagName(&quot;pubDate&quot;);\r\n                        Element element_pubDate = (Element) pubDates.item(0);\r\n                        NodeList element_pubDate_childNodes = element_pubDate.getChildNodes();\r\n                        news_item.pubdate = element_pubDate_childNodes.item(0).getNodeValue();\r\n    \r\n    \r\n                        NodeList description = parentItem.getElementsByTagName(&quot;description&quot;);\r\n                        Element element_description = (Element) description.item(0);\r\n                        if(element_description !=null){\r\n                            NodeList element_description_childNodes = element_description.getChildNodes();\r\n                            news_item.description = element_description_childNodes.item(0).getNodeValue();\r\n                            Log.e(&quot;soheil&quot;, news_item.description+&quot;&quot;);\r\n                        } else {\r\n                            news_item.description =&quot; &quot;;\r\n                        }\r\n    \r\n                        NodeList image = parentItem.getElementsByTagName(&quot;media:group&quot;);\r\n                        Element element_image = (Element) image.item(0);\r\n                        NodeList image_content = element_image.getElementsByTagName(&quot;media:content&quot;);\r\n                        Element image_content_element = (Element) image_content.item(0);\r\n                        news_item.image = image_content_element.getAttribute(&quot;url&quot;);\r\n    \r\n                        news.add(news_item);\r\n                    }\r\n                } catch (MalformedURLException e) {\r\n                    exception = e;\r\n                    Log.e(&quot;IMAGE:&quot;,&quot;1&quot;);\r\n                } catch (IOException e) {\r\n                    exception = e;\r\n                    Log.e(&quot;IMAGE:&quot;,&quot;2&quot;);\r\n                } catch (ParserConfigurationException e) {\r\n                    e.printStackTrace();\r\n                    Log.e(&quot;IMAGE:&quot;,&quot;3&quot;);\r\n                } catch (SAXException e) {\r\n                    e.printStackTrace();\r\n                    Log.e(&quot;IMAGE:&quot;,&quot;4&quot;);\r\n                }\r\n                return null;\r\n            }\r\n    \r\n            @Override\r\n            protected void onPostExecute(Exception s) {\r\n                super.onPostExecute(s);\r\n                CustomAdapter adapter = new CustomAdapter(getBaseContext(),news);\r\n                lvRss.setAdapter(adapter);\r\n    \r\n                    try {\r\n                        db.open();\r\n                        for (int i = 0; i &lt; news.size(); ++i) {\r\n                            db.insertNewsInfo(news.get(i));\r\n                        }\r\n                        db.close();\r\n    \r\n                    } catch (SQLException throwables) {\r\n                        throwables.printStackTrace();\r\n                    }\r\n    \r\n                progressDialog.dismiss();\r\n    \r\n            }\r\n        }\r\n    \r\n        public boolean isNetworkAvailable(Context context) {\r\n            ConnectivityManager connectivityManager = ((ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE));\r\n            return connectivityManager.getActiveNetworkInfo() != null &amp;&amp; connectivityManager.getActiveNetworkInfo().isConnected();\r\n        }\r\n    }\r\n\r\n**CsvMaker.java :**\r\n\r\n    \r\n    import androidx.annotation.NonNull;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    import android.Manifest;\r\n    import android.content.pm.PackageManager;\r\n    import android.database.sqlite.SQLiteException;\r\n    import android.os.Build;\r\n    import android.os.Bundle;\r\n    import android.os.Environment;\r\n    import android.util.Log;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.widget.TextView;\r\n    \r\n    import java.io.File;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    import java.io.OutputStreamWriter;\r\n    import java.sql.SQLException;\r\n    import java.text.SimpleDateFormat;\r\n    import java.util.ArrayList;\r\n    import java.util.Calendar;\r\n    \r\n    public class CsvMaker extends AppCompatActivity {\r\n        ArrayList&lt;NewsInformation&gt; news = new ArrayList&lt;&gt;();\r\n        private DatabaseHandler db;\r\n        Button csv_maker;\r\n        TextView txt;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_csv_maker);\r\n    \r\n            csv_maker = (Button) findViewById(R.id.csv_maker);\r\n            txt = (TextView) findViewById(R.id.csv_address);\r\n    \r\n            csv_maker.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    hasStoragePermission(1);\r\n                }\r\n            });\r\n    \r\n    \r\n        }\r\n    \r\n        public void createCsv() {\r\n            db = new DatabaseHandler(this);\r\n            try {\r\n                db.open();\r\n                news = db.getAllNews();\r\n                db.close();\r\n                exportTheDB();\r\n    \r\n            } catch (SQLException | IOException throwables) {\r\n                throwables.printStackTrace();\r\n    \r\n            }\r\n        }\r\n    \r\n    \r\n        private void exportTheDB() throws IOException {\r\n            File myFile;\r\n            try {\r\n    \r\n                myFile = new File(Environment.getExternalStoragePublicDirectory(&quot;&quot;), &quot;csvFile.csv&quot;);\r\n                myFile.createNewFile();\r\n                FileOutputStream fOut = new FileOutputStream(myFile);\r\n                OutputStreamWriter myOutWriter = new OutputStreamWriter(fOut);\r\n                myOutWriter.append(&quot;News_Description,News_Image,News_link,News_Title&quot;);\r\n                myOutWriter.append(&quot;\\n&quot;);\r\n    \r\n    \r\n                for (int i = 0; i &lt; news.size(); ++i) {\r\n                    String description = news.get(i).description;\r\n                    String image = news.get(i).image;\r\n                    String link = news.get(i).link;\r\n                    String title = news.get(i).title;\r\n                    myOutWriter.append(description + &quot;,&quot; + image + &quot;,&quot; + link + &quot;,&quot; + title);\r\n                    myOutWriter.append(&quot;\\n&quot;);\r\n                    Log.e(&quot;soheil&quot;, description + &quot;,&quot; + image + &quot;,&quot; + link + &quot;,&quot; + title);\r\n                }\r\n    \r\n    \r\n                myOutWriter.close();\r\n                fOut.close();\r\n                txt.setText(myFile.getAbsolutePath());\r\n    \r\n    \r\n            } catch (SQLiteException se) {\r\n                Log.e(getClass().getSimpleName(), &quot;Could not create or Open the database&quot;);\r\n            }\r\n    \r\n    \r\n        }\r\n    \r\n        private void hasStoragePermission(int requestCode) {\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n                if (checkSelfPermission(Manifest.permission.WRITE_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED) {\r\n                    requestPermissions(new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE}, 1);\r\n                    //  return false;\r\n                } else {\r\n                    createCsv();\r\n                    // return true;\r\n                }\r\n            } else {\r\n                //return true;\r\n                createCsv();\r\n            }\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n            super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n            if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                if (requestCode == 1) {\r\n                    createCsv();\r\n                }\r\n    \r\n    \r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n**DatabaseHandler.java :**\r\n\r\n\r\n     import android.content.ContentValues;\r\n        import android.content.Context;\r\n        import android.database.Cursor;\r\n        import android.database.sqlite.SQLiteDatabase;\r\n        \r\n        import java.sql.SQLException;\r\n        import java.util.ArrayList;\r\n        \r\n        public class DatabaseHandler {\r\n        \r\n            private DatabaseHelper dbHelper;\r\n            private SQLiteDatabase database;\r\n        \r\n        \r\n            public DatabaseHandler(Context context) {\r\n                dbHelper = new DatabaseHelper(context);\r\n            }\r\n        \r\n            //methods for all table\r\n            public void open() throws SQLException {\r\n                database = dbHelper.getWritableDatabase();\r\n            }\r\n        \r\n            public void close() {\r\n                dbHelper.close();\r\n            }\r\n        \r\n            public void clearTable(String tableName) {\r\n                database.delete( tableName, null, null);\r\n            }\r\n        \r\n            //news table method\r\n        \r\n            public void insertNewsInfo(NewsInformation newsInfo) {\r\n                ContentValues cv = new ContentValues();\r\n                cv.put(&quot;title&quot;          ,  newsInfo.title );\r\n                cv.put(&quot;link&quot;           ,  newsInfo.link );\r\n                cv.put(&quot;pubdate&quot;        ,  newsInfo.pubdate );\r\n                cv.put(&quot;description&quot;       ,  newsInfo.description );\r\n                cv.put(&quot;image&quot;       ,  newsInfo.image );\r\n        \r\n        \r\n                database.insert(&quot;news&quot; , &quot;writerName&quot;, cv);\r\n            }\r\n        \r\n        \r\n            public ArrayList&lt;NewsInformation&gt; getAllNews() {\r\n                ArrayList&lt;NewsInformation&gt; NewsInfoList = new ArrayList&lt;NewsInformation&gt;();\r\n        \r\n                Cursor cursor = database.rawQuery(&quot;SELECT *  FROM  news&quot; ,new String[]{});\r\n        \r\n                cursor.moveToFirst();\r\n                while (!cursor.isAfterLast()) {\r\n                    NewsInformation newsInfo = new NewsInformation();\r\n        \r\n                    newsInfo.title = cursor.getString(0);\r\n                    newsInfo.link = cursor.getString(1);\r\n                    newsInfo.pubdate = cursor.getString(2);\r\n                    newsInfo.description = cursor.getString(3);\r\n                    newsInfo.image = cursor.getString(3);\r\n        \r\n                    NewsInfoList.add(newsInfo);\r\n                    cursor.moveToNext();\r\n                }\r\n        \r\n                // Make sure to close the cursor\r\n                cursor.close();\r\n        \r\n                return NewsInfoList;\r\n            }\r\n        \r\n            public String getBigBody(String completeBodyLink) {\r\n                Cursor cursor = database.rawQuery(&quot;select bigBody FROM news where completeTextLink = ?&quot;, new String[]{completeBodyLink});\r\n                cursor.moveToFirst();\r\n                String bigBody = cursor.getString(0);\r\n                cursor.close();\r\n                return bigBody;\r\n            }\r\n        }\r\n    \r\n    \r\n**DatabaseHelper.java:**\r\n    \r\n        \r\n    import android.content.Context;\r\n    import android.database.sqlite.SQLiteDatabase;\r\n    import android.database.sqlite.SQLiteOpenHelper;\r\n    import android.util.Log;\r\n    \r\n    public class DatabaseHelper extends SQLiteOpenHelper {\r\n    \r\n        private final String TAG = &quot;DatabaseHelper&quot;;\r\n        private static final String DATABASE_NAME = &quot;db_for_news&quot;;\r\n    \r\n        public DatabaseHelper(Context context) {\r\n            super(context, DATABASE_NAME, null, 10);\r\n    \r\n            //fdd\r\n            Log.i(TAG, &quot;Object created.&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void onCreate(SQLiteDatabase db) {\r\n            db.execSQL(&quot;CREATE TABLE news ( &quot; +\r\n                    &quot; title TEXT , link TEXT , pubdate TEXT ,description TEXT ,&quot; +\r\n                    &quot; image TEXT );&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\r\n            Log.w(DatabaseHelper.class.getName(), &quot;Upgrading database from version &quot;\r\n                    + oldVersion + &quot; to &quot; + newVersion + &quot;, which will destroy all old data&quot;);\r\n            db.execSQL(&quot;Drop table if exists news&quot; );\r\n            onCreate(db);\r\n        }\r\n    }\r\n\r\n\r\n**NewsInformation.java (DataModel) :**\r\n\r\n        public class NewsInformation\r\n    {\r\n        public String link;\r\n        public String title;\r\n        public String pubdate;\r\n        public String description;\r\n        public String image;\r\n    \r\n    }\r\n\r\n\r\n**CustomAdapter.java:**\r\n\r\n        import android.content.Context;\r\n    import android.content.Intent;\r\n    import android.net.Uri;\r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import android.widget.ArrayAdapter;\r\n    import android.widget.TextView;\r\n    \r\n    import java.util.ArrayList;\r\n    \r\n    public class CustomAdapter extends ArrayAdapter&lt;NewsInformation&gt; {\r\n        public CustomAdapter(Context context, ArrayList&lt;NewsInformation&gt; news) {\r\n    \r\n            super(context, 0, news);\r\n    \r\n        }\r\n    \r\n    \r\n    \r\n        @Override\r\n    \r\n        public View getView(int position, View convertView, ViewGroup parent) {\r\n    \r\n            NewsInformation item = getItem(position);\r\n            if (convertView == null) {\r\n                convertView = LayoutInflater.from(getContext()).inflate(R.layout.list_item, parent, false);\r\n            }\r\n            TextView title = (TextView) convertView.findViewById(R.id.item_text);\r\n            title.setText(item.title);\r\n    \r\n            convertView.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    Uri uri = Uri.parse(item.link);\r\n                    Intent intent = new Intent(Intent.ACTION_VIEW, uri);\r\n                    intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n                    getContext().startActivity(intent);\r\n                }\r\n            });\r\n            return convertView;\r\n    \r\n        }}\r\n\r\n\r\n","title":"How to generate CSV file from Android Studio Table Layout","body":"<p>Here is a sample complete project for reading data from Rss-provider insert to database and show on listview then in next activity create a csv file.</p>\n<p>In the first activity wait to load data form Rss-provider after showing in list view data stored in DB, then click button to go to next activity for creating Csv list</p>\n<p>For creating csv all columns should be separated with comma (,).</p>\n<p><strong>NOTICE</strong>: check in Android below 10</p>\n<p><strong>ManifestFile:</strong> :</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;com.example.hafez&quot;&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n    &lt;uses-permission\n        android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot;\n        android:minSdkVersion=&quot;30&quot; /&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;RssReader&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.Hafez&quot;&gt;\n        &lt;activity\n            android:name=&quot;.CsvMaker&quot;\n            android:exported=&quot;false&quot; /&gt;\n        &lt;activity\n            android:name=&quot;.RssReader&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p><strong>rss_reader.xml:</strong></p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;&gt;\n\n        &lt;ListView\n            android:id=&quot;@+id/lvRss&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:layout_marginBottom=&quot;200dp&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n        &lt;Button\n            android:id=&quot;@+id/launch_csv_activity&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;Got to csv maker&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toBottomOf=&quot;@+id/lvRss&quot; /&gt;\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n<p><strong>activity_csv_maker.xml :</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.CsvMaker&quot;&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/csv_maker&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Make Csv  file&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/csv_address&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;168dp&quot;\n        android:text=&quot;Csv File address comes here after creation&quot;\n        android:textColor=&quot;#000000&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.498&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p><strong>list_item.xml:</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/item_text&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;20dp&quot;\n        android:layout_marginEnd=&quot;10dp&quot;\n        android:layout_marginBottom=&quot;20dp&quot;\n        android:text=&quot;TextView&quot;\n        android:textColor=&quot;#000000&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.046&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;1.0&quot; /&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p><strong>RssReader.java</strong> :</p>\n<pre><code>import android.app.ProgressDialog;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.net.ConnectivityManager;\nimport android.os.AsyncTask;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.ListView;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport org.w3c.dom.Document;\nimport org.w3c.dom.Element;\nimport org.w3c.dom.Node;\nimport org.w3c.dom.NodeList;\nimport org.xml.sax.SAXException;\n\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.net.MalformedURLException;\nimport java.net.URL;\nimport java.sql.SQLException;\nimport java.util.ArrayList;\n\nimport javax.xml.parsers.DocumentBuilder;\nimport javax.xml.parsers.DocumentBuilderFactory;\nimport javax.xml.parsers.ParserConfigurationException;\n\npublic class RssReader extends AppCompatActivity {\n\n    ListView lvRss;\n    ArrayList&lt;String&gt; titles;\n    ArrayList&lt;String&gt; links;\n    ArrayList&lt;NewsInformation&gt; news =new ArrayList&lt;&gt;();\n    private DatabaseHandler db;\n    private Button csv_launcher;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.rss_reader);\n        lvRss = (ListView) findViewById(R.id.lvRss);\n\n        csv_launcher = (Button)findViewById(R.id.launch_csv_activity);\n        csv_launcher.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Intent intent  = new Intent(getBaseContext(),CsvMaker.class);\n                startActivity(intent);\n            }\n        });\n\n        titles = new ArrayList&lt;String&gt;();\n        links = new ArrayList&lt;String&gt;();\n        db = new DatabaseHandler(this);\n\n        if(isNetworkAvailable(this)) {\n            new ProcessInBackground().execute();\n        } else {\n            try {\n                db.open();\n                ArrayList&lt;NewsInformation&gt; news = db.getAllNews();\n                CustomAdapter adapter = new CustomAdapter(this,news);\n                lvRss.setAdapter(adapter);\n                db.close();\n            } catch (SQLException throwables) {\n                throwables.printStackTrace();\n            }\n        }\n    }\n\n    public InputStream getInputStream(URL url) {\n        try {\n            return url.openConnection().getInputStream();\n        } catch (IOException e) {\n            return null;\n        }\n    }\n\n    public class ProcessInBackground extends AsyncTask&lt;Integer, Void, Exception&gt; {\n        ProgressDialog progressDialog = new ProgressDialog(RssReader.this);\n\n        Exception exception = null;\n\n        @Override\n        protected void onPreExecute() {\n            progressDialog.setMessage(&quot;Fetching Latest News!&quot;);\n            progressDialog.show();\n        }\n\n        @Override\n        protected Exception doInBackground(Integer... integers) {\n            try {\n                // rss feed site here\n                URL url = new URL(&quot;https://moxie.foxnews.com/feedburner/world.xml&quot;);\n\n                DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\n                DocumentBuilder db = dbf.newDocumentBuilder();\n\n                Document doc = db.parse(getInputStream(url));\n\n                doc.getDocumentElement().normalize();\n                NodeList nodeList = doc.getElementsByTagName(&quot;item&quot;);\n                //// fetch every node item in RSS and create news_item list\n                for (int i = 0; i &lt; nodeList.getLength(); i++) {\n                    NewsInformation news_item = new NewsInformation();\n                    Node node = nodeList.item(i);\n                    Element parentItem = (Element) node;\n\n                    NodeList links = parentItem.getElementsByTagName(&quot;link&quot;);\n                    Element element_link = (Element) links.item(0);\n                    NodeList element_link_childNodes = element_link.getChildNodes();\n                    news_item.link = element_link_childNodes.item(0).getNodeValue();\n\n                    NodeList titles = parentItem.getElementsByTagName(&quot;title&quot;);\n                    Element element_title = (Element) titles.item(0);\n                    NodeList element_title_childNodes = element_title.getChildNodes();\n                    news_item.title = element_title_childNodes.item(0).getNodeValue();\n\n\n                    NodeList pubDates = parentItem.getElementsByTagName(&quot;pubDate&quot;);\n                    Element element_pubDate = (Element) pubDates.item(0);\n                    NodeList element_pubDate_childNodes = element_pubDate.getChildNodes();\n                    news_item.pubdate = element_pubDate_childNodes.item(0).getNodeValue();\n\n\n                    NodeList description = parentItem.getElementsByTagName(&quot;description&quot;);\n                    Element element_description = (Element) description.item(0);\n                    if(element_description !=null){\n                        NodeList element_description_childNodes = element_description.getChildNodes();\n                        news_item.description = element_description_childNodes.item(0).getNodeValue();\n                        Log.e(&quot;soheil&quot;, news_item.description+&quot;&quot;);\n                    } else {\n                        news_item.description =&quot; &quot;;\n                    }\n\n                    NodeList image = parentItem.getElementsByTagName(&quot;media:group&quot;);\n                    Element element_image = (Element) image.item(0);\n                    NodeList image_content = element_image.getElementsByTagName(&quot;media:content&quot;);\n                    Element image_content_element = (Element) image_content.item(0);\n                    news_item.image = image_content_element.getAttribute(&quot;url&quot;);\n\n                    news.add(news_item);\n                }\n            } catch (MalformedURLException e) {\n                exception = e;\n                Log.e(&quot;IMAGE:&quot;,&quot;1&quot;);\n            } catch (IOException e) {\n                exception = e;\n                Log.e(&quot;IMAGE:&quot;,&quot;2&quot;);\n            } catch (ParserConfigurationException e) {\n                e.printStackTrace();\n                Log.e(&quot;IMAGE:&quot;,&quot;3&quot;);\n            } catch (SAXException e) {\n                e.printStackTrace();\n                Log.e(&quot;IMAGE:&quot;,&quot;4&quot;);\n            }\n            return null;\n        }\n\n        @Override\n        protected void onPostExecute(Exception s) {\n            super.onPostExecute(s);\n            CustomAdapter adapter = new CustomAdapter(getBaseContext(),news);\n            lvRss.setAdapter(adapter);\n\n                try {\n                    db.open();\n                    for (int i = 0; i &lt; news.size(); ++i) {\n                        db.insertNewsInfo(news.get(i));\n                    }\n                    db.close();\n\n                } catch (SQLException throwables) {\n                    throwables.printStackTrace();\n                }\n\n            progressDialog.dismiss();\n\n        }\n    }\n\n    public boolean isNetworkAvailable(Context context) {\n        ConnectivityManager connectivityManager = ((ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE));\n        return connectivityManager.getActiveNetworkInfo() != null &amp;&amp; connectivityManager.getActiveNetworkInfo().isConnected();\n    }\n}\n</code></pre>\n<p><strong>CsvMaker.java :</strong></p>\n<pre><code>import androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.Manifest;\nimport android.content.pm.PackageManager;\nimport android.database.sqlite.SQLiteException;\nimport android.os.Build;\nimport android.os.Bundle;\nimport android.os.Environment;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.TextView;\n\nimport java.io.File;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.io.OutputStreamWriter;\nimport java.sql.SQLException;\nimport java.text.SimpleDateFormat;\nimport java.util.ArrayList;\nimport java.util.Calendar;\n\npublic class CsvMaker extends AppCompatActivity {\n    ArrayList&lt;NewsInformation&gt; news = new ArrayList&lt;&gt;();\n    private DatabaseHandler db;\n    Button csv_maker;\n    TextView txt;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_csv_maker);\n\n        csv_maker = (Button) findViewById(R.id.csv_maker);\n        txt = (TextView) findViewById(R.id.csv_address);\n\n        csv_maker.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                hasStoragePermission(1);\n            }\n        });\n\n\n    }\n\n    public void createCsv() {\n        db = new DatabaseHandler(this);\n        try {\n            db.open();\n            news = db.getAllNews();\n            db.close();\n            exportTheDB();\n\n        } catch (SQLException | IOException throwables) {\n            throwables.printStackTrace();\n\n        }\n    }\n\n\n    private void exportTheDB() throws IOException {\n        File myFile;\n        try {\n\n            myFile = new File(Environment.getExternalStoragePublicDirectory(&quot;&quot;), &quot;csvFile.csv&quot;);\n            myFile.createNewFile();\n            FileOutputStream fOut = new FileOutputStream(myFile);\n            OutputStreamWriter myOutWriter = new OutputStreamWriter(fOut);\n            myOutWriter.append(&quot;News_Description,News_Image,News_link,News_Title&quot;);\n            myOutWriter.append(&quot;\\n&quot;);\n\n\n            for (int i = 0; i &lt; news.size(); ++i) {\n                String description = news.get(i).description;\n                String image = news.get(i).image;\n                String link = news.get(i).link;\n                String title = news.get(i).title;\n                myOutWriter.append(description + &quot;,&quot; + image + &quot;,&quot; + link + &quot;,&quot; + title);\n                myOutWriter.append(&quot;\\n&quot;);\n                Log.e(&quot;soheil&quot;, description + &quot;,&quot; + image + &quot;,&quot; + link + &quot;,&quot; + title);\n            }\n\n\n            myOutWriter.close();\n            fOut.close();\n            txt.setText(myFile.getAbsolutePath());\n\n\n        } catch (SQLiteException se) {\n            Log.e(getClass().getSimpleName(), &quot;Could not create or Open the database&quot;);\n        }\n\n\n    }\n\n    private void hasStoragePermission(int requestCode) {\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n            if (checkSelfPermission(Manifest.permission.WRITE_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED) {\n                requestPermissions(new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE}, 1);\n                //  return false;\n            } else {\n                createCsv();\n                // return true;\n            }\n        } else {\n            //return true;\n            createCsv();\n        }\n    }\n\n\n    @Override\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n        if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n            if (requestCode == 1) {\n                createCsv();\n            }\n\n\n        }\n    }\n}\n</code></pre>\n<p><strong>DatabaseHandler.java :</strong></p>\n<pre><code> import android.content.ContentValues;\n    import android.content.Context;\n    import android.database.Cursor;\n    import android.database.sqlite.SQLiteDatabase;\n    \n    import java.sql.SQLException;\n    import java.util.ArrayList;\n    \n    public class DatabaseHandler {\n    \n        private DatabaseHelper dbHelper;\n        private SQLiteDatabase database;\n    \n    \n        public DatabaseHandler(Context context) {\n            dbHelper = new DatabaseHelper(context);\n        }\n    \n        //methods for all table\n        public void open() throws SQLException {\n            database = dbHelper.getWritableDatabase();\n        }\n    \n        public void close() {\n            dbHelper.close();\n        }\n    \n        public void clearTable(String tableName) {\n            database.delete( tableName, null, null);\n        }\n    \n        //news table method\n    \n        public void insertNewsInfo(NewsInformation newsInfo) {\n            ContentValues cv = new ContentValues();\n            cv.put(&quot;title&quot;          ,  newsInfo.title );\n            cv.put(&quot;link&quot;           ,  newsInfo.link );\n            cv.put(&quot;pubdate&quot;        ,  newsInfo.pubdate );\n            cv.put(&quot;description&quot;       ,  newsInfo.description );\n            cv.put(&quot;image&quot;       ,  newsInfo.image );\n    \n    \n            database.insert(&quot;news&quot; , &quot;writerName&quot;, cv);\n        }\n    \n    \n        public ArrayList&lt;NewsInformation&gt; getAllNews() {\n            ArrayList&lt;NewsInformation&gt; NewsInfoList = new ArrayList&lt;NewsInformation&gt;();\n    \n            Cursor cursor = database.rawQuery(&quot;SELECT *  FROM  news&quot; ,new String[]{});\n    \n            cursor.moveToFirst();\n            while (!cursor.isAfterLast()) {\n                NewsInformation newsInfo = new NewsInformation();\n    \n                newsInfo.title = cursor.getString(0);\n                newsInfo.link = cursor.getString(1);\n                newsInfo.pubdate = cursor.getString(2);\n                newsInfo.description = cursor.getString(3);\n                newsInfo.image = cursor.getString(3);\n    \n                NewsInfoList.add(newsInfo);\n                cursor.moveToNext();\n            }\n    \n            // Make sure to close the cursor\n            cursor.close();\n    \n            return NewsInfoList;\n        }\n    \n        public String getBigBody(String completeBodyLink) {\n            Cursor cursor = database.rawQuery(&quot;select bigBody FROM news where completeTextLink = ?&quot;, new String[]{completeBodyLink});\n            cursor.moveToFirst();\n            String bigBody = cursor.getString(0);\n            cursor.close();\n            return bigBody;\n        }\n    }\n</code></pre>\n<p><strong>DatabaseHelper.java:</strong></p>\n<pre><code>import android.content.Context;\nimport android.database.sqlite.SQLiteDatabase;\nimport android.database.sqlite.SQLiteOpenHelper;\nimport android.util.Log;\n\npublic class DatabaseHelper extends SQLiteOpenHelper {\n\n    private final String TAG = &quot;DatabaseHelper&quot;;\n    private static final String DATABASE_NAME = &quot;db_for_news&quot;;\n\n    public DatabaseHelper(Context context) {\n        super(context, DATABASE_NAME, null, 10);\n\n        //fdd\n        Log.i(TAG, &quot;Object created.&quot;);\n    }\n\n    @Override\n    public void onCreate(SQLiteDatabase db) {\n        db.execSQL(&quot;CREATE TABLE news ( &quot; +\n                &quot; title TEXT , link TEXT , pubdate TEXT ,description TEXT ,&quot; +\n                &quot; image TEXT );&quot;);\n    }\n\n    @Override\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n        Log.w(DatabaseHelper.class.getName(), &quot;Upgrading database from version &quot;\n                + oldVersion + &quot; to &quot; + newVersion + &quot;, which will destroy all old data&quot;);\n        db.execSQL(&quot;Drop table if exists news&quot; );\n        onCreate(db);\n    }\n}\n</code></pre>\n<p><strong>NewsInformation.java (DataModel) :</strong></p>\n<pre><code>    public class NewsInformation\n{\n    public String link;\n    public String title;\n    public String pubdate;\n    public String description;\n    public String image;\n\n}\n</code></pre>\n<p><strong>CustomAdapter.java:</strong></p>\n<pre><code>    import android.content.Context;\nimport android.content.Intent;\nimport android.net.Uri;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ArrayAdapter;\nimport android.widget.TextView;\n\nimport java.util.ArrayList;\n\npublic class CustomAdapter extends ArrayAdapter&lt;NewsInformation&gt; {\n    public CustomAdapter(Context context, ArrayList&lt;NewsInformation&gt; news) {\n\n        super(context, 0, news);\n\n    }\n\n\n\n    @Override\n\n    public View getView(int position, View convertView, ViewGroup parent) {\n\n        NewsInformation item = getItem(position);\n        if (convertView == null) {\n            convertView = LayoutInflater.from(getContext()).inflate(R.layout.list_item, parent, false);\n        }\n        TextView title = (TextView) convertView.findViewById(R.id.item_text);\n        title.setText(item.title);\n\n        convertView.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Uri uri = Uri.parse(item.link);\n                Intent intent = new Intent(Intent.ACTION_VIEW, uri);\n                intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n                getContext().startActivity(intent);\n            }\n        });\n        return convertView;\n\n    }}\n</code></pre>\n"}],"owner":{"account_id":24101781,"reputation":9,"user_id":18073522,"display_name":"Frissco Creative Labs"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":874,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1643647770,"creation_date":1643562000,"question_id":70916887,"body_markdown":"I&#39;m developing an android app that stores user input in the SQLite database. and displays it in TableLayout in android studio. Now I want to generate a CSV file from the contents of that Table Layout.\r\n\r\nI need a button to generate the CSV file. Thanks in advance.\r\nI&#39;m new to StackOverflow and coding. So forgive me If my question wasn&#39;t right.\r\n\r\nI really need this code to complete my project. Thanks in Advance.","title":"How to generate CSV file from Android Studio Table Layout","body":"<p>I'm developing an android app that stores user input in the SQLite database. and displays it in TableLayout in android studio. Now I want to generate a CSV file from the contents of that Table Layout.</p>\n<p>I need a button to generate the CSV file. Thanks in advance.\nI'm new to StackOverflow and coding. So forgive me If my question wasn't right.</p>\n<p>I really need this code to complete my project. Thanks in Advance.</p>\n"},{"tags":["java","loops","java.util.scanner"],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643647760,"creation_date":1643647760,"answer_id":70929700,"question_id":70929506,"body_markdown":"You don&#39;t have to ask the user for an initial value for `max` and `min`.  \r\nSet `max` to the lowest possible value, i.e. `Integer.MIN_VALUE`. It will always be lower than the first number entered and hence the first number entered will automatically become the new `max`.  \r\nLikewise for `min`. Set it initially to `Integer.MAX_VALUE`. Then the first number entered will always be lower and hence become the new `min`.  \r\nBelow code demonstrates.\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class Exercicio4 {\r\n\r\n    public static void main(String[] args) {\r\n        Scanner scan = new Scanner(System.in);\r\n        int max = Integer.MIN_VALUE;\r\n        int min = Integer.MAX_VALUE;\r\n        int n;\r\n        for (int i = 0; i &lt; 10; i++) {\r\n            System.out.printf(&quot;%2d. Digite um n&#250;mero: &quot;, (i + 1));\r\n            n = scan.nextInt();\r\n            if (n &gt; max)\r\n                max = n;\r\n            if (n &lt; min)\r\n                min = n;\r\n        }\r\n        System.out.println(&quot;O maior n&#250;mero &#233;: &quot; + max);\r\n        System.out.println(&quot;O menor n&#250;mero &#233;: &quot; + min);\r\n        scan.close();\r\n    }\r\n}\r\n```\r\n","title":"Don&#39;t want the scanner to initalize","body":"<p>You don't have to ask the user for an initial value for <code>max</code> and <code>min</code>.<br />\nSet <code>max</code> to the lowest possible value, i.e. <code>Integer.MIN_VALUE</code>. It will always be lower than the first number entered and hence the first number entered will automatically become the new <code>max</code>.<br />\nLikewise for <code>min</code>. Set it initially to <code>Integer.MAX_VALUE</code>. Then the first number entered will always be lower and hence become the new <code>min</code>.<br />\nBelow code demonstrates.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class Exercicio4 {\n\n    public static void main(String[] args) {\n        Scanner scan = new Scanner(System.in);\n        int max = Integer.MIN_VALUE;\n        int min = Integer.MAX_VALUE;\n        int n;\n        for (int i = 0; i &lt; 10; i++) {\n            System.out.printf(&quot;%2d. Digite um número: &quot;, (i + 1));\n            n = scan.nextInt();\n            if (n &gt; max)\n                max = n;\n            if (n &lt; min)\n                min = n;\n        }\n        System.out.println(&quot;O maior número é: &quot; + max);\n        System.out.println(&quot;O menor número é: &quot; + min);\n        scan.close();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":20485812,"reputation":27,"user_id":18082893,"display_name":"Afonso Britto"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1643647760,"creation_date":1643646877,"question_id":70929506,"body_markdown":"I&#39;m trying to solve an exercise in which I have to read 10 numbers with the scanner and find out the max and min value. I was able to make that with a for loop asking for 10 values, but, when I run the program, the scanner asks for a value that is not required in the loop. That&#39;s my code right now:\r\n\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class Exercicio4 {\r\n\r\n    public static void main(String[] args) {\r\n        Scanner scan = new Scanner(System.in);\r\n        int n = scan.nextInt();\r\n        int max = n;\r\n        int min = n;\r\n        for (int i = 0; i &lt; 9; i++) {\r\n            System.out.println(&quot;Digite um n&#250;mero: &quot;);\r\n            n = scan.nextInt();\r\n            if  (n &gt; max)\r\n                max = n;\r\n            if (n &lt; min)\r\n                min = n;\r\n        }\r\n\r\n        System.out.println(&quot;O maior n&#250;mero &#233;: &quot; + max);\r\n        System.out.println(&quot;O menor n&#250;mero &#233;: &quot; + min);\r\n        scan.close();\r\n    }\r\n}\r\n```","title":"Don&#39;t want the scanner to initalize","body":"<p>I'm trying to solve an exercise in which I have to read 10 numbers with the scanner and find out the max and min value. I was able to make that with a for loop asking for 10 values, but, when I run the program, the scanner asks for a value that is not required in the loop. That's my code right now:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class Exercicio4 {\n\n    public static void main(String[] args) {\n        Scanner scan = new Scanner(System.in);\n        int n = scan.nextInt();\n        int max = n;\n        int min = n;\n        for (int i = 0; i &lt; 9; i++) {\n            System.out.println(&quot;Digite um número: &quot;);\n            n = scan.nextInt();\n            if  (n &gt; max)\n                max = n;\n            if (n &lt; min)\n                min = n;\n        }\n\n        System.out.println(&quot;O maior número é: &quot; + max);\n        System.out.println(&quot;O menor número é: &quot; + min);\n        scan.close();\n    }\n}\n</code></pre>\n"},{"tags":["java","gradle","jar","build.gradle","jvm-arguments"],"comments":[{"owner":{"account_id":111847,"reputation":6903,"user_id":295257,"accept_rate":100,"display_name":"Ethan"},"score":0,"creation_date":1454799246,"post_id":35244961,"comment_id":58208697,"body_markdown":"When do you need to add the JVM parameter? Could you just set the system variable in the static of initialization of your main class?","body":"When do you need to add the JVM parameter? Could you just set the system variable in the static of initialization of your main class?"},{"owner":{"account_id":7270720,"reputation":1718,"user_id":5543884,"accept_rate":91,"display_name":"Jhonny007"},"score":0,"creation_date":1454800980,"post_id":35244961,"comment_id":58209183,"body_markdown":"I need to add the parameter at compile time, so the user doesn&#39;t have to add it manual when he is starting his .jar","body":"I need to add the parameter at compile time, so the user doesn&#39;t have to add it manual when he is starting his .jar"},{"owner":{"account_id":1820166,"reputation":452,"user_id":1654398,"display_name":"KKishore"},"score":0,"creation_date":1454816395,"post_id":35244961,"comment_id":58212378,"body_markdown":"You can do something like `System.setproperty(&quot;javafx.embed.singleThread&quot;, &quot;true&quot;) ` in code but you will to make sure that this statement gets executed before the system property gets accessed somewhere.","body":"You can do something like <code>System.setproperty(&quot;javafx.embed.singleThread&quot;, &quot;true&quot;) </code> in code but you will to make sure that this statement gets executed before the system property gets accessed somewhere."}],"answers":[{"tags":[],"owner":{"account_id":1820166,"reputation":452,"user_id":1654398,"display_name":"KKishore"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1454787166,"creation_date":1454786490,"answer_id":35245356,"question_id":35244961,"body_markdown":"applicationDefaultJvmArgs is provided by the [`Application`][1] plugin. So if you apply that plugin, the error would probably go away, and you should be able to execute the program by issuing `gradle run` once you set the mainClassName property to the fully qualified class name, the main method of which you want to invoke.\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/application_plugin.html","title":"How do I add default JVM arguments with Gradle","body":"<p>applicationDefaultJvmArgs is provided by the <a href=\"https://docs.gradle.org/current/userguide/application_plugin.html\" rel=\"nofollow\"><code>Application</code></a> plugin. So if you apply that plugin, the error would probably go away, and you should be able to execute the program by issuing <code>gradle run</code> once you set the mainClassName property to the fully qualified class name, the main method of which you want to invoke.</p>\n"},{"tags":[],"owner":{"account_id":1139151,"reputation":1209,"user_id":1123529,"accept_rate":75,"display_name":"portenez"},"down_vote_count":0,"up_vote_count":44,"is_accepted":true,"score":44,"last_activity_date":1556100252,"creation_date":1454803162,"answer_id":35248056,"question_id":35244961,"body_markdown":"From the top of my head I can think of 2 options:\r\n\r\n**Option1: Do what @Ethan said, it&#39;ll likely work:**\r\n\r\n    package placeholder;\r\n\r\n    //your imports\r\n\r\n    public class Application{\r\n      static {\r\n          System.getProperties().set(&quot;javafx.embed.singleThread&quot;, &quot;true&quot;);  \r\n      }\r\n      // your code\r\n      public static void main(String... args){\r\n        //your code\r\n      }\r\n    }\r\n\r\n**Option 2: Use the application plugin + default jvm values**\r\n\r\nbuild.gradle: \r\n\r\n    apply plugin: &#39;application&#39;\r\n    //your code\r\n    applicationDefaultJvmArgs = [&quot;-Djavafx.embed.singleThread=true&quot;]\r\n    \r\nNow you can run your code 2 ways:\r\n\r\nFrom gradle\r\n\r\n    $gradle run\r\n\r\nFrom distribution(script). from the generated script that the application plugin will provide:\r\n\r\n\r\n    $gradle clean build distZip\r\n\r\n\r\nThen gradle will generate a zip file somewhere under `${your.projectdir}/build`. Find the zip then unzip it and under `/bin` you&#39;ll find a `${yourproject}.bat` and `${yourproject}` executables. One is for Linux/mac/unix (`${yourproject}`) the other one is for windows (`${yourproject.bat}`)\r\n\r\n**Option 3 (Android Developer): Use gradle.properties to set jvm argument**\r\n\r\n```\r\n# Project-wide Gradle settings.\r\n\r\n# IDE (e.g. Android Studio) users:\r\n# Gradle settings configured through the IDE *will override*\r\n# any settings specified in this file.\r\n\r\n# For more details on how to configure your build environment visit\r\n# http://www.gradle.org/docs/current/userguide/build_environment.html\r\n\r\n# Specifies the JVM arguments used for the daemon process.\r\n# The setting is particularly useful for tweaking memory settings.\r\n# Default value: -Xmx1024m -XX:MaxPermSize=256m\r\n# org.gradle.jvmargs=-Xmx1024m -XX:MaxPermSize=512m -XX:+HeapDumpOnOutOfMemoryError -Dfile.encoding=UTF-8 \r\n\r\n# You can setup or customize it according to your needs and combined with the above default value.\r\norg.gradle.jvmargs=-Djavafx.embed.singleThread=true\r\n```\r\n\r\nFor more info on how to use gradle build environment on [docs.gradle.org][1]\r\n    \r\n\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/build_environment.html","title":"How do I add default JVM arguments with Gradle","body":"<p>From the top of my head I can think of 2 options:</p>\n\n<p><strong>Option1: Do what @Ethan said, it'll likely work:</strong></p>\n\n<pre><code>package placeholder;\n\n//your imports\n\npublic class Application{\n  static {\n      System.getProperties().set(\"javafx.embed.singleThread\", \"true\");  \n  }\n  // your code\n  public static void main(String... args){\n    //your code\n  }\n}\n</code></pre>\n\n<p><strong>Option 2: Use the application plugin + default jvm values</strong></p>\n\n<p>build.gradle: </p>\n\n<pre><code>apply plugin: 'application'\n//your code\napplicationDefaultJvmArgs = [\"-Djavafx.embed.singleThread=true\"]\n</code></pre>\n\n<p>Now you can run your code 2 ways:</p>\n\n<p>From gradle</p>\n\n<pre><code>$gradle run\n</code></pre>\n\n<p>From distribution(script). from the generated script that the application plugin will provide:</p>\n\n<pre><code>$gradle clean build distZip\n</code></pre>\n\n<p>Then gradle will generate a zip file somewhere under <code>${your.projectdir}/build</code>. Find the zip then unzip it and under <code>/bin</code> you'll find a <code>${yourproject}.bat</code> and <code>${yourproject}</code> executables. One is for Linux/mac/unix (<code>${yourproject}</code>) the other one is for windows (<code>${yourproject.bat}</code>)</p>\n\n<p><strong>Option 3 (Android Developer): Use gradle.properties to set jvm argument</strong></p>\n\n<pre><code># Project-wide Gradle settings.\n\n# IDE (e.g. Android Studio) users:\n# Gradle settings configured through the IDE *will override*\n# any settings specified in this file.\n\n# For more details on how to configure your build environment visit\n# http://www.gradle.org/docs/current/userguide/build_environment.html\n\n# Specifies the JVM arguments used for the daemon process.\n# The setting is particularly useful for tweaking memory settings.\n# Default value: -Xmx1024m -XX:MaxPermSize=256m\n# org.gradle.jvmargs=-Xmx1024m -XX:MaxPermSize=512m -XX:+HeapDumpOnOutOfMemoryError -Dfile.encoding=UTF-8 \n\n# You can setup or customize it according to your needs and combined with the above default value.\norg.gradle.jvmargs=-Djavafx.embed.singleThread=true\n</code></pre>\n\n<p>For more info on how to use gradle build environment on <a href=\"https://docs.gradle.org/current/userguide/build_environment.html\" rel=\"noreferrer\">docs.gradle.org</a></p>\n"},{"tags":[],"owner":{"account_id":1645492,"reputation":1481,"user_id":1517100,"display_name":"jiahut"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1506587742,"creation_date":1506587742,"answer_id":46464573,"question_id":35244961,"body_markdown":"you can use command-line with gradle task： \r\n\r\n\r\n    class AppRun extends JavaExec {\r\n        private boolean withDebug\r\n    \r\n        @Option(option = &quot;with-debug&quot;, description = &quot;enable debug for the process. &quot;)\r\n        public void setDebugMode(boolean debug) {\r\n            this.withDebug = debug\r\n        }\r\n    \r\n        public boolean getDebugMode() {\r\n            return this.withDebug\r\n        }\r\n    }\r\n\r\n    task run(type: AppRun) {\r\n    }\r\n\r\n\r\nthen run task with options\r\n\r\n&gt; gradle run --with-debug \r\n\r\n","title":"How do I add default JVM arguments with Gradle","body":"<p>you can use command-line with gradle task： </p>\n\n<pre><code>class AppRun extends JavaExec {\n    private boolean withDebug\n\n    @Option(option = \"with-debug\", description = \"enable debug for the process. \")\n    public void setDebugMode(boolean debug) {\n        this.withDebug = debug\n    }\n\n    public boolean getDebugMode() {\n        return this.withDebug\n    }\n}\n\ntask run(type: AppRun) {\n}\n</code></pre>\n\n<p>then run task with options</p>\n\n<blockquote>\n  <p>gradle run --with-debug </p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":14079119,"reputation":541,"user_id":10170629,"display_name":"Gayan Chinthaka"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1633948576,"creation_date":1633948576,"answer_id":69524822,"question_id":35244961,"body_markdown":"set this to Your java main Class.\r\n\r\n    static {\r\n\t\tSystem.setProperty(&quot;nashorn.args&quot;, &quot;--no-deprecation-warning&quot;);\r\n\t}","title":"How do I add default JVM arguments with Gradle","body":"<p>set this to Your java main Class.</p>\n<pre><code>static {\n    System.setProperty(&quot;nashorn.args&quot;, &quot;--no-deprecation-warning&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2423351,"reputation":1931,"user_id":2115836,"display_name":"Ali Ben Zarrouk"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643647429,"creation_date":1643647429,"answer_id":70929625,"question_id":35244961,"body_markdown":"Using a local gradlew is the easiest.\r\nJust append to DEFAULT_JVM_OPTS.\r\n\r\n```\r\n# Add default JVM options here. You can also use JAVA_OPTS and GRADLE_OPTS to pass JVM options to this script.\r\nDEFAULT_JVM_OPTS=&#39;&quot;-Xmx64m&quot; &quot;-Xms64m&quot; &quot;-XX:+AllowRedefinitionToAddDeleteMethods&quot;&#39;\r\n```","title":"How do I add default JVM arguments with Gradle","body":"<p>Using a local gradlew is the easiest.\nJust append to DEFAULT_JVM_OPTS.</p>\n<pre><code># Add default JVM options here. You can also use JAVA_OPTS and GRADLE_OPTS to pass JVM options to this script.\nDEFAULT_JVM_OPTS='&quot;-Xmx64m&quot; &quot;-Xms64m&quot; &quot;-XX:+AllowRedefinitionToAddDeleteMethods&quot;'\n</code></pre>\n"}],"owner":{"account_id":7270720,"reputation":1718,"user_id":5543884,"accept_rate":91,"display_name":"Jhonny007"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":112408,"favorite_count":0,"down_vote_count":0,"up_vote_count":38,"accepted_answer_id":35248056,"answer_count":5,"score":38,"last_activity_date":1643647429,"creation_date":1454784307,"question_id":35244961,"body_markdown":"I need to add default JVM options to my jar, when build with Gradle.\r\nFrom the documentation I got that I have to set:\r\n\r\n    applicationDefaultJvmArgs = [&quot;-Djavafx.embed.singleThread=true&quot;]\r\n\r\nI have not much experience with Gradle and the developer that wrote the build.gradle file wrote it different from what most websites give as examples.\r\n\r\nHere is the build.gradle:\r\n\r\n    apply plugin: &#39;java&#39;\r\n    apply plugin: &#39;eclipse&#39;\r\n    \r\n    version = &#39;0.1&#39;\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n\r\n    dependencies {\r\n        testCompile group: &#39;junit&#39;, name: &#39;junit&#39;, version: &#39;4.+&#39;\r\n        compile &#39;placeholder&#39;\r\n    }\r\n    \r\n    task release(type: Jar) {\r\n        manifest {\r\n            attributes(&quot;Implementation-Title&quot;: &quot;placeholder&quot;,\r\n                    &quot;Implementation-Version&quot;: version,\r\n                    &#39;Main-Class&#39;: &#39;placeholder.Application&#39;)\r\n        }\r\n        from { configurations.compile.collect { it.isDirectory() ? it : zipTree(it) } }\r\n    \r\n        with jar\r\n    }\r\n    \r\n    task wrapper(type: Wrapper) {\r\n        gradleVersion = &#39;2.2.1&#39;\r\n    }\r\n\r\nI don&#39;t know where to put the arguments. I tried putting them in different locations, but I always get:\r\n\r\n    A problem occurred evaluating root project &#39;placeholder&#39;.\r\n    &gt; No such property: applicationDefaultJvmArgs for class: org.gradle.api.tasks.bundling.Jar_Decorated\r\n\r\nMuch Thanks,\r\nJhonny","title":"How do I add default JVM arguments with Gradle","body":"<p>I need to add default JVM options to my jar, when build with Gradle.\nFrom the documentation I got that I have to set:</p>\n\n<pre><code>applicationDefaultJvmArgs = [\"-Djavafx.embed.singleThread=true\"]\n</code></pre>\n\n<p>I have not much experience with Gradle and the developer that wrote the build.gradle file wrote it different from what most websites give as examples.</p>\n\n<p>Here is the build.gradle:</p>\n\n<pre><code>apply plugin: 'java'\napply plugin: 'eclipse'\n\nversion = '0.1'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    testCompile group: 'junit', name: 'junit', version: '4.+'\n    compile 'placeholder'\n}\n\ntask release(type: Jar) {\n    manifest {\n        attributes(\"Implementation-Title\": \"placeholder\",\n                \"Implementation-Version\": version,\n                'Main-Class': 'placeholder.Application')\n    }\n    from { configurations.compile.collect { it.isDirectory() ? it : zipTree(it) } }\n\n    with jar\n}\n\ntask wrapper(type: Wrapper) {\n    gradleVersion = '2.2.1'\n}\n</code></pre>\n\n<p>I don't know where to put the arguments. I tried putting them in different locations, but I always get:</p>\n\n<pre><code>A problem occurred evaluating root project 'placeholder'.\n&gt; No such property: applicationDefaultJvmArgs for class: org.gradle.api.tasks.bundling.Jar_Decorated\n</code></pre>\n\n<p>Much Thanks,\nJhonny</p>\n"},{"tags":["java","kubernetes","kubernetes-pod","inet"],"comments":[{"owner":{"account_id":3408395,"reputation":11432,"user_id":2858934,"display_name":"Thomas"},"score":0,"creation_date":1643548550,"post_id":70913832,"comment_id":125364490,"body_markdown":"Why do you want to get the IP of the host where the pod is running?","body":"Why do you want to get the IP of the host where the pod is running?"},{"owner":{"account_id":7292198,"reputation":169,"user_id":5558240,"display_name":"Shreyas Holla P"},"score":0,"creation_date":1643607895,"post_id":70913832,"comment_id":125376185,"body_markdown":"@Thomas, One of our application requirement is on server start up, we assign an ID based on the server which is coming up, for this we need a mechanism in the java code to provide the same.","body":"@Thomas, One of our application requirement is on server start up, we assign an ID based on the server which is coming up, for this we need a mechanism in the java code to provide the same."},{"owner":{"display_name":"user15659347"},"score":1,"creation_date":1643621007,"post_id":70913832,"comment_id":125379651,"body_markdown":"Does this answer your question? [How do you get the Node IP from inside a Pod?](https://stackoverflow.com/questions/52047434/how-do-you-get-the-node-ip-from-inside-a-pod)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/52047434/how-do-you-get-the-node-ip-from-inside-a-pod\">How do you get the Node IP from inside a Pod?</a>"},{"owner":{"account_id":7292198,"reputation":169,"user_id":5558240,"display_name":"Shreyas Holla P"},"score":0,"creation_date":1643624302,"post_id":70913832,"comment_id":125380818,"body_markdown":"@p10l We are looking for a solution without using kubernetes APIs. Do not want to add the dependency of the same in our project.","body":"@p10l We are looking for a solution without using kubernetes APIs. Do not want to add the dependency of the same in our project."},{"owner":{"account_id":3408395,"reputation":11432,"user_id":2858934,"display_name":"Thomas"},"score":0,"creation_date":1643654424,"post_id":70913832,"comment_id":125392862,"body_markdown":"Sounds like your system architecture is not a good fit for kubernetes (or cloud) as a runtime. Nevertheless the answer hinted by p10i is correct, it does not introduce a kubernetes dependency, neither, just read an environment variable.","body":"Sounds like your system architecture is not a good fit for kubernetes (or cloud) as a runtime. Nevertheless the answer hinted by p10i is correct, it does not introduce a kubernetes dependency, neither, just read an environment variable."}],"owner":{"account_id":7292198,"reputation":169,"user_id":5558240,"display_name":"Shreyas Holla P"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":380,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643647382,"creation_date":1643539012,"question_id":70913832,"body_markdown":"We have a setup where a single pod is running inside a node in our machine.\r\n\r\nIn normal Java application when we use the java.net.InetAddress.getLocalHost().getHostAddress(), it would give the system hostAddress where the server is running. But if the same API is called in a java application running inside a Kubernetes pod it would give the hostAddress of pod. Please let me know how to get the hostAddress of the system where the kubernetes pod is running and not the pod hostAddress?\r\n \r\nEdit: Do not want to add Kubernetes dependencies, so please suggest how to achieve it in Java without kubernetes APIs.","title":"Kubernetes: Fetch system IP:PORT on which our pod is running","body":"<p>We have a setup where a single pod is running inside a node in our machine.</p>\n<p>In normal Java application when we use the java.net.InetAddress.getLocalHost().getHostAddress(), it would give the system hostAddress where the server is running. But if the same API is called in a java application running inside a Kubernetes pod it would give the hostAddress of pod. Please let me know how to get the hostAddress of the system where the kubernetes pod is running and not the pod hostAddress?</p>\n<p>Edit: Do not want to add Kubernetes dependencies, so please suggest how to achieve it in Java without kubernetes APIs.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":3,"creation_date":1643638427,"post_id":70927429,"comment_id":125386216,"body_markdown":"What do you intend the `&amp;&amp;` to do?","body":"What do you intend the <code>&amp;&amp;</code> to do?"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1643638479,"post_id":70927429,"comment_id":125386238,"body_markdown":"that &amp;&amp; is not the operand to use. It&#39;s the logical AND, not something to add output together;. Likely, what you mean to do is: (i*5) + &quot; &quot; + (i%3i=0)","body":"that &amp;&amp; is not the operand to use. It&#39;s the logical AND, not something to add output together;. Likely, what you mean to do is: (i*5) + &quot; &quot; + (i%3i=0)"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":3,"creation_date":1643638614,"post_id":70927429,"comment_id":125386298,"body_markdown":"@Stultuske going on the description in the title, there should be no operator there: there should just be the `i*5`, and then an if statement around the line.","body":"@Stultuske going on the description in the title, there should be no operator there: there should just be the <code>i*5</code>, and then an if statement around the line."},{"owner":{"account_id":5879019,"reputation":1195,"user_id":4629025,"display_name":"Raushan Kumar"},"score":0,"creation_date":1643639799,"post_id":70927429,"comment_id":125386790,"body_markdown":"PrintStream Class having overloaded method of println() on all datatypes, so datatype should matched during method call.\nand I agree with @AndyTurner","body":"PrintStream Class having overloaded method of println() on all datatypes, so datatype should matched during method call. and I agree with @AndyTurner"}],"answers":[{"tags":[],"owner":{"display_name":"user7195016"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643639677,"creation_date":1643639313,"answer_id":70927666,"question_id":70927429,"body_markdown":"&amp;&amp; is a logical operator and therefore you are getting this error.\r\n\r\nAs per your requirement, you can add an if condition before System.out.println() to check if that multiple is not divisible by 3.","title":"WAP to print first 10 multiples of 5, but skip the multiples of 3.This error message is being shown : bad operand types for binary operator &#39;&amp;&amp;&#39;","body":"<p>&amp;&amp; is a logical operator and therefore you are getting this error.</p>\n<p>As per your requirement, you can add an if condition before System.out.println() to check if that multiple is not divisible by 3.</p>\n"},{"tags":[],"owner":{"account_id":22263134,"reputation":589,"user_id":16494303,"display_name":"Anton"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643639539,"creation_date":1643639539,"answer_id":70927728,"question_id":70927429,"body_markdown":"The `&amp;&amp;` is for combining two logical values (boolean-values: true/false-values). It sadly cannot combine with numbers (at least in java)\r\n\r\nIn your provided code the `(i*5)` results in a number, the `(i%3!=0)` in a boolean value. Java doesn&#39;t know how to combine those with `&amp;&amp;`, that&#39;s why you get an error.\r\n\r\nA way to solve the error and get the code to work as intended is as follows:\r\n```java\r\npublic class HelloWorld{\r\n\r\n    public static void main(String[] args){\r\n        for(int i=1;i&lt;=10;i++){\r\n            if(i % 3 != 0){\r\n                System.out.println(i * 5);\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nYou have to use an if-statment to check for multiples of 3, the `&amp;&amp;`-operator is reserved to only combine boolean values.","title":"WAP to print first 10 multiples of 5, but skip the multiples of 3.This error message is being shown : bad operand types for binary operator &#39;&amp;&amp;&#39;","body":"<p>The <code>&amp;&amp;</code> is for combining two logical values (boolean-values: true/false-values). It sadly cannot combine with numbers (at least in java)</p>\n<p>In your provided code the <code>(i*5)</code> results in a number, the <code>(i%3!=0)</code> in a boolean value. Java doesn't know how to combine those with <code>&amp;&amp;</code>, that's why you get an error.</p>\n<p>A way to solve the error and get the code to work as intended is as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class HelloWorld{\n\n    public static void main(String[] args){\n        for(int i=1;i&lt;=10;i++){\n            if(i % 3 != 0){\n                System.out.println(i * 5);\n            }\n        }\n    }\n}\n</code></pre>\n<p>You have to use an if-statment to check for multiples of 3, the <code>&amp;&amp;</code>-operator is reserved to only combine boolean values.</p>\n"},{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643647204,"creation_date":1643647204,"answer_id":70929578,"question_id":70927429,"body_markdown":"The syntax issue with the line `System.out.println((i*5)&amp;&amp;(i%3!=0));` has already been explained: logical AND `&amp;&amp;` expects only boolean operands, while `i*5` is an `int`.\r\n\r\nHowever, there is another issue with the loop which needs to maintain a separate counter for the number of prints to ensure that 10 numbers are printed:\r\n```java\r\nfor (int i = 5, j = 1; j &lt;= 10; i += 5) {\r\n    if (i % 3 != 0) { // ignore multiple of 3\r\n        System.out.println(i);\r\n        j++; \r\n    }\r\n}\r\n```","title":"WAP to print first 10 multiples of 5, but skip the multiples of 3.This error message is being shown : bad operand types for binary operator &#39;&amp;&amp;&#39;","body":"<p>The syntax issue with the line <code>System.out.println((i*5)&amp;&amp;(i%3!=0));</code> has already been explained: logical AND <code>&amp;&amp;</code> expects only boolean operands, while <code>i*5</code> is an <code>int</code>.</p>\n<p>However, there is another issue with the loop which needs to maintain a separate counter for the number of prints to ensure that 10 numbers are printed:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (int i = 5, j = 1; j &lt;= 10; i += 5) {\n    if (i % 3 != 0) { // ignore multiple of 3\n        System.out.println(i);\n        j++; \n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24067904,"reputation":1,"user_id":18044176,"display_name":"Pychic"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":155,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":3,"score":-2,"last_activity_date":1643647204,"creation_date":1643638345,"question_id":70927429,"body_markdown":"```\r\npublic class HelloWorld{\r\n\r\n     public static void main(String []args){\r\n        for (int i=1; i&lt;=10; ++i){\r\n            System.out.println((i*5)&amp;&amp;(i%3!=0));\r\n        }\r\n     }\r\n}\r\n```\r\n\r\nWhat is wrong with line 5?\r\n","title":"WAP to print first 10 multiples of 5, but skip the multiples of 3.This error message is being shown : bad operand types for binary operator &#39;&amp;&amp;&#39;","body":"<pre><code>public class HelloWorld{\n\n     public static void main(String []args){\n        for (int i=1; i&lt;=10; ++i){\n            System.out.println((i*5)&amp;&amp;(i%3!=0));\n        }\n     }\n}\n</code></pre>\n<p>What is wrong with line 5?</p>\n"},{"tags":["java","eclipse","junit","code-coverage"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1643354758,"post_id":70889739,"comment_id":125322037,"body_markdown":"Whether anything is in the _Coverage As_ right-click menu depends on where the right-click was done. So please show a screenshot that shows where you done the right-click and also that the class has a valid main method or is a JUnit test and is included in the source folder of a Java project that does not have build errors.","body":"Whether anything is in the <i>Coverage As</i> right-click menu depends on where the right-click was done. So please show a screenshot that shows where you done the right-click and also that the class has a valid main method or is a JUnit test and is included in the source folder of a Java project that does not have build errors."},{"owner":{"account_id":8426138,"reputation":11,"user_id":6323315,"display_name":"Vincent Del Vecchio"},"score":0,"creation_date":1643433581,"post_id":70889739,"comment_id":125343620,"body_markdown":"It does not seem to matter where I right-click within the IDE\n[Screenshot of JUnit Test class](https://prnt.sc/26l6w36)\n[Screenshot of Configuration window](https://prnt.sc/26l6wk2)\n  \n[Right click in code/open file](https://prnt.sc/26l6tr4)\n[Right click on JUnit test class](https://prnt.sc/26l6u4a)\n[Right click on the class being tested](https://prnt.sc/26l6vjf)\n\nThe configuration doesn&#39;t even show up in the toolbar sub menu despite being in the configuration window. [Screenshot of toolbar submenu](https://prnt.sc/26l6xjq)","body":"It does not seem to matter where I right-click within the IDE <a href=\"https://prnt.sc/26l6w36\" rel=\"nofollow noreferrer\">Screenshot of JUnit Test class</a> <a href=\"https://prnt.sc/26l6wk2\" rel=\"nofollow noreferrer\">Screenshot of Configuration window</a>    <a href=\"https://prnt.sc/26l6tr4\" rel=\"nofollow noreferrer\">Right click in code/open file</a> <a href=\"https://prnt.sc/26l6u4a\" rel=\"nofollow noreferrer\">Right click on JUnit test class</a> <a href=\"https://prnt.sc/26l6vjf\" rel=\"nofollow noreferrer\">Right click on the class being tested</a>  The configuration doesn&#39;t even show up in the toolbar sub menu despite being in the configuration window. <a href=\"https://prnt.sc/26l6xjq\" rel=\"nofollow noreferrer\">Screenshot of toolbar submenu</a>"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1643443957,"post_id":70889739,"comment_id":125344890,"body_markdown":"The theme you have installed tries to cheat the Eclipse open source license by patching Eclipse at runtime (or to be more precise via loadtime weaving). This can cause issues and slow down Eclipse. Try with the current Eclipse (2021-09 is one release behind) without additional plugins and with a fresh workspace (deactivating or disabling of the theme might not be enough). If the issue persists, please show screenshots only of a built-in theme.","body":"The theme you have installed tries to cheat the Eclipse open source license by patching Eclipse at runtime (or to be more precise via loadtime weaving). This can cause issues and slow down Eclipse. Try with the current Eclipse (2021-09 is one release behind) without additional plugins and with a fresh workspace (deactivating or disabling of the theme might not be enough). If the issue persists, please show screenshots only of a built-in theme."},{"owner":{"account_id":8426138,"reputation":11,"user_id":6323315,"display_name":"Vincent Del Vecchio"},"score":1,"creation_date":1643647056,"post_id":70889739,"comment_id":125389873,"body_markdown":"I uninstalled the theme, updated Eclipse to the latest version, and created a new workspace and the issue was fixed. Thanks for the help!","body":"I uninstalled the theme, updated Eclipse to the latest version, and created a new workspace and the issue was fixed. Thanks for the help!"}],"answers":[{"tags":[],"owner":{"account_id":8426138,"reputation":11,"user_id":6323315,"display_name":"Vincent Del Vecchio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643647189,"creation_date":1643647189,"answer_id":70929571,"question_id":70889739,"body_markdown":"The issue was caused by my installed theme and fixed by following the instructions provided in a comment left by Howlger to my initial post.\r\n\r\n&gt; The theme you have installed tries to cheat the Eclipse open source license by patching Eclipse at runtime (or to be more precise via loadtime weaving). This can cause issues and slow down Eclipse. Try with the current Eclipse (2021-09 is one release behind) without additional plugins and with a fresh workspace (deactivating or disabling of the theme might not be enough). If the issue persists, please show screenshots only of a built-in theme. – \r\nhowlger\r\n","title":"How to save Coverage configurations to right click menu in Eclipse?","body":"<p>The issue was caused by my installed theme and fixed by following the instructions provided in a comment left by Howlger to my initial post.</p>\n<blockquote>\n<p>The theme you have installed tries to cheat the Eclipse open source license by patching Eclipse at runtime (or to be more precise via loadtime weaving). This can cause issues and slow down Eclipse. Try with the current Eclipse (2021-09 is one release behind) without additional plugins and with a fresh workspace (deactivating or disabling of the theme might not be enough). If the issue persists, please show screenshots only of a built-in theme. –\nhowlger</p>\n</blockquote>\n"}],"owner":{"account_id":8426138,"reputation":11,"user_id":6323315,"display_name":"Vincent Del Vecchio"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70929571,"answer_count":1,"score":0,"last_activity_date":1643647189,"creation_date":1643352000,"question_id":70889739,"body_markdown":"I&#39;m developing JUnit tests for one of my college courses and am having an issue where my coverage configurations are not showing up in the Coverage As submenu of the right-click menu in Eclipse. All of the video tutorials I&#39;ve watched about coverage have their configurations showing up under this submenu without issue so I am unsure if the issue is with my installation of Eclipse or if I am not doing something correctly to have it appear there. I am forced to click the coverage configurations... option which brings up the configurations menu where I can then select my configuration to run coverage with.\r\n\r\nMy Eclipse version info is:\r\nEclipse IDE for Java Developers (includes Incubating components)\r\nVersion: 2021-09 (4.21.0)\r\nBuild id: 20210910-1417\r\nOS: Windows 10, v.10.0, x86_64 / win32\r\nJava vendor: Oracle Corporation\r\nJava runtime version: 15.0.2+7-27\r\nJava version: 15.0.2\r\n","title":"How to save Coverage configurations to right click menu in Eclipse?","body":"<p>I'm developing JUnit tests for one of my college courses and am having an issue where my coverage configurations are not showing up in the Coverage As submenu of the right-click menu in Eclipse. All of the video tutorials I've watched about coverage have their configurations showing up under this submenu without issue so I am unsure if the issue is with my installation of Eclipse or if I am not doing something correctly to have it appear there. I am forced to click the coverage configurations... option which brings up the configurations menu where I can then select my configuration to run coverage with.</p>\n<p>My Eclipse version info is:\nEclipse IDE for Java Developers (includes Incubating components)\nVersion: 2021-09 (4.21.0)\nBuild id: 20210910-1417\nOS: Windows 10, v.10.0, x86_64 / win32\nJava vendor: Oracle Corporation\nJava runtime version: 15.0.2+7-27\nJava version: 15.0.2</p>\n"},{"tags":["java","charat"],"answers":[{"tags":[],"owner":{"account_id":2914440,"reputation":766,"user_id":2497968,"accept_rate":100,"display_name":"ThunderStorm"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643646953,"creation_date":1643646953,"answer_id":70929523,"question_id":70929419,"body_markdown":"You are calculating the sum of the ASCII values of the characters.\r\nThe ASCII value of the character `&#39;2&#39;` is `50`. You are therefore adding `50` and `50`.\r\n\r\nYou need to convert the character to the number first.","title":"Problem with suming up digits in an integer with charAt() in Java","body":"<p>You are calculating the sum of the ASCII values of the characters.\nThe ASCII value of the character <code>'2'</code> is <code>50</code>. You are therefore adding <code>50</code> and <code>50</code>.</p>\n<p>You need to convert the character to the number first.</p>\n"},{"tags":[],"owner":{"account_id":4342327,"reputation":145474,"user_id":3545273,"accept_rate":100,"display_name":"Serge Ballesta"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1643647002,"creation_date":1643647002,"answer_id":70929536,"question_id":70929419,"body_markdown":"A character in Java is close to its unicode code point. And the unicode code point of &#39;2&#39; is... 0x32 or 50!\r\n\r\nAnd yes, 50 + 50 is 100...\r\n\r\nFortunately, the value of a decimal digit is guaranteed to be `c - &#39;0&#39;`, so what you want is:\r\n\r\n    System.out.println((string_number.charAt(0) - &#39;0&#39;) + (string_number.charAt(1) - &#39;0&#39;));","title":"Problem with suming up digits in an integer with charAt() in Java","body":"<p>A character in Java is close to its unicode code point. And the unicode code point of '2' is... 0x32 or 50!</p>\n<p>And yes, 50 + 50 is 100...</p>\n<p>Fortunately, the value of a decimal digit is guaranteed to be <code>c - '0'</code>, so what you want is:</p>\n<pre><code>System.out.println((string_number.charAt(0) - '0') + (string_number.charAt(1) - '0'));\n</code></pre>\n"}],"owner":{"account_id":18375813,"reputation":15,"user_id":13384934,"display_name":"Sahand"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70929536,"answer_count":2,"score":0,"last_activity_date":1643647002,"creation_date":1643646555,"question_id":70929419,"body_markdown":" \r\nI have one integer number and my goal is, to sum up digits in that integer \r\n\r\nI tried with charAt(); but the weird part is when I&#39;m trying to check numbers with their\r\n \r\nindex its works well but the part I don&#39;t understand is when I&#39;m trying to sum them up\r\n\r\nwhy 2 + 2 is 100\r\n\r\n    Scanner scanner = new Scanner(System.in);\r\n\r\n        int number = scanner.nextInt();\r\n\r\n        String string_number = Integer.toString(number);\r\n\r\n        System.out.println(string_number.charAt(0));\r\n        System.out.println(string_number.charAt(1));\r\n\r\n        System.out.println(string_number.charAt(0) + string_number.charAt(1));\r\n\r\n\r\ninput 22\r\n\r\nOutput \r\n\r\n   \r\n    2\r\n    2\r\n    100\r\n\r\n\r\n","title":"Problem with suming up digits in an integer with charAt() in Java","body":"<p>I have one integer number and my goal is, to sum up digits in that integer</p>\n<p>I tried with charAt(); but the weird part is when I'm trying to check numbers with their</p>\n<p>index its works well but the part I don't understand is when I'm trying to sum them up</p>\n<p>why 2 + 2 is 100</p>\n<pre><code>Scanner scanner = new Scanner(System.in);\n\n    int number = scanner.nextInt();\n\n    String string_number = Integer.toString(number);\n\n    System.out.println(string_number.charAt(0));\n    System.out.println(string_number.charAt(1));\n\n    System.out.println(string_number.charAt(0) + string_number.charAt(1));\n</code></pre>\n<p>input 22</p>\n<p>Output</p>\n<pre><code>2\n2\n100\n</code></pre>\n"},{"tags":["java","cucumber","gherkin"],"answers":[{"tags":[],"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1643642826,"creation_date":1643642826,"answer_id":70928479,"question_id":70928204,"body_markdown":"To let Cucumber know you are using regular expressions, start your definition with `^` and end with `$`. See details [here][1].\r\n\r\nMore over do not mix up regular expressions and cucumber expressions. Syntax like `{word}` is not supported when you use regular expression approach.\r\n\r\n  [1]: https://github.com/cucumber/cucumber-expressions/blob/main/java/heuristics.adoc","title":"Cucumber 7 regex on step definition","body":"<p>To let Cucumber know you are using regular expressions, start your definition with <code>^</code> and end with <code>$</code>. See details <a href=\"https://github.com/cucumber/cucumber-expressions/blob/main/java/heuristics.adoc\" rel=\"noreferrer\">here</a>.</p>\n<p>More over do not mix up regular expressions and cucumber expressions. Syntax like <code>{word}</code> is not supported when you use regular expression approach.</p>\n"}],"owner":{"account_id":19912085,"reputation":23,"user_id":14589899,"display_name":"mike v"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2852,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70928479,"answer_count":1,"score":2,"last_activity_date":1643646957,"creation_date":1643641646,"question_id":70928204,"body_markdown":"I am new to cucumber and regex .\r\nI am currently using cucumber core 7.2.0 for a project.\r\n\r\nFor some reason I cannot seem to get regular expressions to work in the step definition.\r\n\r\nFor example I have the following\r\n\r\n\r\n    Scenario: User tries to login\r\n\r\n    When I enter valid credentials for test@test.com \r\n    \r\n\r\n     \r\n\r\n\r\n\r\nThen on step definition class\r\n\r\n    @When(&quot;I enter (.*) credentials for {word}&quot;)\r\n     public void iEnterMyCredentialsAsUser(String email) {\r\n          System.out.println(email);\r\n    \r\n    }\r\n\r\nWhile the feature finds the step definition found just fine, when executing I get the following\r\n\r\nio.cucumber.junit.UndefinedStepException: The step &#39;I enter valid credentials for testa30&#39; is undefined.\r\nYou can implement this step using the snippet(s) below:\r\n\r\n       @When(&quot;I enter valid credentials for testa30&quot;)\r\n       public void i_enter_valid_credentials_for_testa30() {\r\n       // Write code here that turns the phrase above into concrete actions\r\n       throw new io.cucumber.java.PendingException();\r\n     }\r\n\r\nBasically I want to only care about the email as a parameter and not care about &quot;valid&quot;","title":"Cucumber 7 regex on step definition","body":"<p>I am new to cucumber and regex .\nI am currently using cucumber core 7.2.0 for a project.</p>\n<p>For some reason I cannot seem to get regular expressions to work in the step definition.</p>\n<p>For example I have the following</p>\n<pre><code>Scenario: User tries to login\n\nWhen I enter valid credentials for test@test.com \n\n\n \n</code></pre>\n<p>Then on step definition class</p>\n<pre><code>@When(&quot;I enter (.*) credentials for {word}&quot;)\n public void iEnterMyCredentialsAsUser(String email) {\n      System.out.println(email);\n\n}\n</code></pre>\n<p>While the feature finds the step definition found just fine, when executing I get the following</p>\n<p>io.cucumber.junit.UndefinedStepException: The step 'I enter valid credentials for testa30' is undefined.\nYou can implement this step using the snippet(s) below:</p>\n<pre><code>   @When(&quot;I enter valid credentials for testa30&quot;)\n   public void i_enter_valid_credentials_for_testa30() {\n   // Write code here that turns the phrase above into concrete actions\n   throw new io.cucumber.java.PendingException();\n }\n</code></pre>\n<p>Basically I want to only care about the email as a parameter and not care about &quot;valid&quot;</p>\n"},{"tags":["java","android","android-studio","dictionary","google-maps-api-3"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1622180980,"post_id":67733462,"comment_id":119722685,"body_markdown":"`currently i am using this` to do what?","body":"<code>currently i am using this</code> to do what?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1622181160,"post_id":67733462,"comment_id":119722743,"body_markdown":"`if (appInstalledOrNot(Packagename))` So you are complaining that that function -of which you did not post the code- always returns false. And looking at the name of it it should always return true indeed.","body":"<code>if (appInstalledOrNot(Packagename))</code> So you are complaining that that function -of which you did not post the code- always returns false. And looking at the name of it it should always return true indeed."},{"owner":{"account_id":17912429,"reputation":3,"user_id":13014223,"display_name":"Jayraj"},"score":0,"creation_date":1622277311,"post_id":67733462,"comment_id":119750530,"body_markdown":"no its inbuilt function from android","body":"no its inbuilt function from android"},{"owner":{"account_id":17912429,"reputation":3,"user_id":13014223,"display_name":"Jayraj"},"score":0,"creation_date":1622277430,"post_id":67733462,"comment_id":119750565,"body_markdown":"by the way issue is solved     dont know how  code is same \ndevice i was testing had some issue","body":"by the way issue is solved     dont know how  code is same  device i was testing had some issue"}],"owner":{"account_id":17912429,"reputation":3,"user_id":13014223,"display_name":"Jayraj"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643646923,"creation_date":1622180522,"question_id":67733462,"body_markdown":"currently i am using this but(to open map location on image click but some device having GoogleMap cant open the intent) the issue is even device has apps to handle the map intent it wont execute that part\r\n \r\nany better way to do this?\r\nlike option to select from available apps and no apps to handle that then go for browser\r\n\r\n     private void openMap()\r\n    {\r\n        String Packagename =&quot;com.google.android.apps.maps&quot;;\r\n\r\n        if (appInstalledOrNot(Packagename))\r\n        {\r\n            Uri uri = Uri.parse(&quot;geo:0,0?q=V.V.P.+Engineering+College+Kalavad+Road+Virda+Vajadi,+Rajkot&quot;);\r\n            Intent intent = new Intent(Intent.ACTION_VIEW,uri);\r\n            intent.setPackage(&quot;com.google.android.apps.maps&quot;);\r\n            startActivity(intent);\r\n\r\n        }else\r\n        {\r\n            try {\r\n                Intent myIntent = new Intent(Intent.ACTION_VIEW, Uri.parse(&quot;https://goo.gl/maps/ETVvFWw453CoeBHs9&quot;));\r\n                startActivity(myIntent);\r\n            } catch (ActivityNotFoundException e) {\r\n                e.printStackTrace();\r\n            }\r\n\r\n            Toast.makeText(getContext(), &quot;Map application not found&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n\r\n    }\r\n","title":"open map location on image click but some device having Google Map cant open the intent","body":"<p>currently i am using this but(to open map location on image click but some device having GoogleMap cant open the intent) the issue is even device has apps to handle the map intent it wont execute that part</p>\n<p>any better way to do this?\nlike option to select from available apps and no apps to handle that then go for browser</p>\n<pre><code> private void openMap()\n{\n    String Packagename =&quot;com.google.android.apps.maps&quot;;\n\n    if (appInstalledOrNot(Packagename))\n    {\n        Uri uri = Uri.parse(&quot;geo:0,0?q=V.V.P.+Engineering+College+Kalavad+Road+Virda+Vajadi,+Rajkot&quot;);\n        Intent intent = new Intent(Intent.ACTION_VIEW,uri);\n        intent.setPackage(&quot;com.google.android.apps.maps&quot;);\n        startActivity(intent);\n\n    }else\n    {\n        try {\n            Intent myIntent = new Intent(Intent.ACTION_VIEW, Uri.parse(&quot;https://goo.gl/maps/ETVvFWw453CoeBHs9&quot;));\n            startActivity(myIntent);\n        } catch (ActivityNotFoundException e) {\n            e.printStackTrace();\n        }\n\n        Toast.makeText(getContext(), &quot;Map application not found&quot;, Toast.LENGTH_SHORT).show();\n    }\n\n}\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8360,"page":1632,"page_size":100}
